var vk2=(()=>{var gqe=Object.create;var d_=Object.defineProperty,yqe=Object.defineProperties,_qe=Object.getOwnPropertyDescriptor,xqe=Object.getOwnPropertyDescriptors,bqe=Object.getOwnPropertyNames,f$=Object.getOwnPropertySymbols,wqe=Object.getPrototypeOf,p$=Object.prototype.hasOwnProperty,Eqe=Object.prototype.propertyIsEnumerable;var vm=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Sqe=e=>{throw TypeError(e)},m_=Math.pow,j2=(e,t,r)=>t in e?d_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ta=(e,t)=>{for(var r in t||(t={}))p$.call(t,r)&&j2(e,r,t[r]);if(f$)for(var r of f$(t))Eqe.call(t,r)&&j2(e,r,t[r]);return e},v_=(e,t)=>yqe(e,xqe(t));var Tqe=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d$=(e,t)=>{for(var r in t)d_(e,r,{get:t[r],enumerable:!0})},m$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bqe(t))!p$.call(e,o)&&o!==r&&d_(e,o,{get:()=>t[o],enumerable:!(n=_qe(t,o))||n.enumerable});return e};var $e=(e,t,r)=>(r=e!=null?gqe(wqe(e)):{},m$(t||!e||!e.__esModule?d_(r,"default",{value:e,enumerable:!0}):r,e)),Iqe=e=>m$(d_({},"__esModule",{value:!0}),e);var _i=(e,t,r)=>j2(e,typeof t!="symbol"?t+"":t,r);var yn=(e,t,r)=>new Promise((n,o)=>{var i=w=>{try{g(r.next(w))}catch(E){o(E)}},f=w=>{try{g(r.throw(w))}catch(E){o(E)}},g=w=>w.done?n(w.value):Promise.resolve(w.value).then(i,f);g((r=r.apply(e,t)).next())}),ap=function(e,t){this[0]=e,this[1]=t},B2=(e,t,r)=>{var n=(f,g,w,E)=>{try{var C=r[f](g),q=(g=C.value)instanceof ap,L=C.done;Promise.resolve(q?g[0]:g).then(B=>q?n(f==="return"?f:"next",g[1]?{done:B.done,value:B.value}:B,w,E):w({value:B,done:L})).catch(B=>n("throw",B,w,E))}catch(B){E(B)}},o=f=>i[f]=g=>new Promise((w,E)=>n(f,g,w,E)),i={};return r=r.apply(e,t),i[vm("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i},U2=e=>{var t=e[vm("asyncIterator")],r=!1,n,o={};return t==null?(t=e[vm("iterator")](),n=i=>o[i]=f=>t[i](f)):(t=t.call(e),n=i=>o[i]=f=>{if(r){if(r=!1,i==="throw")throw f;return f}return r=!0,{done:!1,value:new ap(new Promise(g=>{var w=t[i](f);w instanceof Object||Sqe("Object expected"),g(w)}),1)}}),o[vm("iterator")]=()=>o,n("next"),"throw"in t?n("throw"):o.throw=i=>{throw i},"return"in t&&n("return"),o},v$=(e,t,r)=>(t=e[vm("asyncIterator")])?t.call(e):(e=e[vm("iterator")](),t={},r=(n,o)=>(o=e[n])&&(t[n]=i=>new Promise((f,g,w)=>(i=o.call(e,i),w=i.done,Promise.resolve(i.value).then(E=>f({value:E,done:w}),g)))),r("next"),r("return"),t);var S,h=Tqe(()=>{S={env:{}}});var V2=P((U3t,y$)=>{"use strict";h();var g$=Object.getOwnPropertySymbols,Pqe=Object.prototype.hasOwnProperty,Aqe=Object.prototype.propertyIsEnumerable;function Mqe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function qqe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(i){return!1}}y$.exports=qqe()?Object.assign:function(e,t){for(var r,n=Mqe(e),o,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var f in r)Pqe.call(r,f)&&(n[f]=r[f]);if(g$){o=g$(r);for(var g=0;g<o.length;g++)Aqe.call(r,o[g])&&(n[o[g]]=r[o[g]])}}return n}});var L$=P(mr=>{"use strict";h();var G2=V2(),gm=60103,b$=60106;mr.Fragment=60107;mr.StrictMode=60108;mr.Profiler=60114;var w$=60109,E$=60110,S$=60112;mr.Suspense=60113;var T$=60115,I$=60116;typeof Symbol=="function"&&Symbol.for&&(cs=Symbol.for,gm=cs("react.element"),b$=cs("react.portal"),mr.Fragment=cs("react.fragment"),mr.StrictMode=cs("react.strict_mode"),mr.Profiler=cs("react.profiler"),w$=cs("react.provider"),E$=cs("react.context"),S$=cs("react.forward_ref"),mr.Suspense=cs("react.suspense"),T$=cs("react.memo"),I$=cs("react.lazy"));var cs,_$=typeof Symbol=="function"&&Symbol.iterator;function Rqe(e){return e===null||typeof e!="object"?null:(e=_$&&e[_$]||e["@@iterator"],typeof e=="function"?e:null)}function g_(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P$={};function ym(e,t,r){this.props=e,this.context=t,this.refs=P$,this.updater=r||C$}ym.prototype.isReactComponent={};ym.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(g_(85));this.updater.enqueueSetState(this,e,t,"setState")};ym.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A$(){}A$.prototype=ym.prototype;function Z2(e,t,r){this.props=e,this.context=t,this.refs=P$,this.updater=r||C$}var W2=Z2.prototype=new A$;W2.constructor=Z2;G2(W2,ym.prototype);W2.isPureReactComponent=!0;var H2={current:null},M$=Object.prototype.hasOwnProperty,q$={key:!0,ref:!0,__self:!0,__source:!0};function R$(e,t,r){var n,o={},i=null,f=null;if(t!=null)for(n in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(i=""+t.key),t)M$.call(t,n)&&!q$.hasOwnProperty(n)&&(o[n]=t[n]);var g=arguments.length-2;if(g===1)o.children=r;else if(1<g){for(var w=Array(g),E=0;E<g;E++)w[E]=arguments[E+2];o.children=w}if(e&&e.defaultProps)for(n in g=e.defaultProps,g)o[n]===void 0&&(o[n]=g[n]);return{$$typeof:gm,type:e,key:i,ref:f,props:o,_owner:H2.current}}function Oqe(e,t){return{$$typeof:gm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K2(e){return typeof e=="object"&&e!==null&&e.$$typeof===gm}function Lqe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x$=/\/+/g;function $2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lqe(""+e.key):t.toString(36)}function Gw(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(i){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case gm:case b$:f=!0}}if(f)return f=e,o=o(f),e=n===""?"."+$2(f,0):n,Array.isArray(o)?(r="",e!=null&&(r=e.replace(x$,"$&/")+"/"),Gw(o,t,r,"",function(E){return E})):o!=null&&(K2(o)&&(o=Oqe(o,r+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(x$,"$&/")+"/")+e)),t.push(o)),1;if(f=0,n=n===""?".":n+":",Array.isArray(e))for(var g=0;g<e.length;g++){i=e[g];var w=n+$2(i,g);f+=Gw(i,t,r,w,o)}else if(w=Rqe(e),typeof w=="function")for(e=w.call(e),g=0;!(i=e.next()).done;)i=i.value,w=n+$2(i,g++),f+=Gw(i,t,r,w,o);else if(i==="object")throw t=""+e,Error(g_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return f}function $w(e,t,r){if(e==null)return e;var n=[],o=0;return Gw(e,n,"","",function(i){return t.call(r,i,o++)}),n}function Dqe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var O$={current:null};function ju(){var e=O$.current;if(e===null)throw Error(g_(321));return e}var kqe={ReactCurrentDispatcher:O$,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:H2,IsSomeRendererActing:{current:!1},assign:G2};mr.Children={map:$w,forEach:function(e,t,r){$w(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $w(e,function(){t++}),t},toArray:function(e){return $w(e,function(t){return t})||[]},only:function(e){if(!K2(e))throw Error(g_(143));return e}};mr.Component=ym;mr.PureComponent=Z2;mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kqe;mr.cloneElement=function(e,t,r){if(e==null)throw Error(g_(267,e));var n=G2({},e.props),o=e.key,i=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,f=H2.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(w in t)M$.call(t,w)&&!q$.hasOwnProperty(w)&&(n[w]=t[w]===void 0&&g!==void 0?g[w]:t[w])}var w=arguments.length-2;if(w===1)n.children=r;else if(1<w){g=Array(w);for(var E=0;E<w;E++)g[E]=arguments[E+2];n.children=g}return{$$typeof:gm,type:e.type,key:o,ref:i,props:n,_owner:f}};mr.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:E$,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:w$,_context:e},e.Consumer=e};mr.createElement=R$;mr.createFactory=function(e){var t=R$.bind(null,e);return t.type=e,t};mr.createRef=function(){return{current:null}};mr.forwardRef=function(e){return{$$typeof:S$,render:e}};mr.isValidElement=K2;mr.lazy=function(e){return{$$typeof:I$,_payload:{_status:-1,_result:e},_init:Dqe}};mr.memo=function(e,t){return{$$typeof:T$,type:e,compare:t===void 0?null:t}};mr.useCallback=function(e,t){return ju().useCallback(e,t)};mr.useContext=function(e,t){return ju().useContext(e,t)};mr.useDebugValue=function(){};mr.useEffect=function(e,t){return ju().useEffect(e,t)};mr.useImperativeHandle=function(e,t,r){return ju().useImperativeHandle(e,t,r)};mr.useLayoutEffect=function(e,t){return ju().useLayoutEffect(e,t)};mr.useMemo=function(e,t){return ju().useMemo(e,t)};mr.useReducer=function(e,t,r){return ju().useReducer(e,t,r)};mr.useRef=function(e){return ju().useRef(e)};mr.useState=function(e){return ju().useState(e)};mr.version="17.0.2"});var ar=P((Z3t,D$)=>{"use strict";h();D$.exports=L$()});var B$=P(Dr=>{"use strict";h();var xm,x_,Kw,rq;typeof performance=="object"&&typeof performance.now=="function"?(k$=performance,Dr.unstable_now=function(){return k$.now()}):(Y2=Date,N$=Y2.now(),Dr.unstable_now=function(){return Y2.now()-N$});var k$,Y2,N$;typeof window=="undefined"||typeof MessageChannel!="function"?(_m=null,X2=null,J2=function(){if(_m!==null)try{var e=Dr.unstable_now();_m(!0,e),_m=null}catch(t){throw setTimeout(J2,0),t}},xm=function(e){_m!==null?setTimeout(xm,0,e):(_m=e,setTimeout(J2,0))},x_=function(e,t){X2=setTimeout(e,t)},Kw=function(){clearTimeout(X2)},Dr.unstable_shouldYield=function(){return!1},rq=Dr.unstable_forceFrameRate=function(){}):(F$=window.setTimeout,z$=window.clearTimeout,typeof console!="undefined"&&(j$=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof j$!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),y_=!1,__=null,Zw=-1,Q2=5,eq=0,Dr.unstable_shouldYield=function(){return Dr.unstable_now()>=eq},rq=function(){},Dr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q2=0<e?Math.floor(1e3/e):5},tq=new MessageChannel,Ww=tq.port2,tq.port1.onmessage=function(){if(__!==null){var e=Dr.unstable_now();eq=e+Q2;try{__(!0,e)?Ww.postMessage(null):(y_=!1,__=null)}catch(t){throw Ww.postMessage(null),t}}else y_=!1},xm=function(e){__=e,y_||(y_=!0,Ww.postMessage(null))},x_=function(e,t){Zw=F$(function(){e(Dr.unstable_now())},t)},Kw=function(){z$(Zw),Zw=-1});var _m,X2,J2,F$,z$,j$,y_,__,Zw,Q2,eq,tq,Ww;function nq(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,o=e[n];if(o!==void 0&&0<Hw(o,t))e[n]=t,e[r]=o,r=n;else break e}}function Hs(e){return e=e[0],e===void 0?null:e}function Yw(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length;n<o;){var i=2*(n+1)-1,f=e[i],g=i+1,w=e[g];if(f!==void 0&&0>Hw(f,r))w!==void 0&&0>Hw(w,f)?(e[n]=w,e[g]=r,n=g):(e[n]=f,e[i]=r,n=i);else if(w!==void 0&&0>Hw(w,r))e[n]=w,e[g]=r,n=g;else break e}}return t}return null}function Hw(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Rl=[],oh=[],Nqe=1,hs=null,go=3,Xw=!1,sp=!1,b_=!1;function iq(e){for(var t=Hs(oh);t!==null;){if(t.callback===null)Yw(oh);else if(t.startTime<=e)Yw(oh),t.sortIndex=t.expirationTime,nq(Rl,t);else break;t=Hs(oh)}}function oq(e){if(b_=!1,iq(e),!sp)if(Hs(Rl)!==null)sp=!0,xm(aq);else{var t=Hs(oh);t!==null&&x_(oq,t.startTime-e)}}function aq(e,t){sp=!1,b_&&(b_=!1,Kw()),Xw=!0;var r=go;try{for(iq(t),hs=Hs(Rl);hs!==null&&(!(hs.expirationTime>t)||e&&!Dr.unstable_shouldYield());){var n=hs.callback;if(typeof n=="function"){hs.callback=null,go=hs.priorityLevel;var o=n(hs.expirationTime<=t);t=Dr.unstable_now(),typeof o=="function"?hs.callback=o:hs===Hs(Rl)&&Yw(Rl),iq(t)}else Yw(Rl);hs=Hs(Rl)}if(hs!==null)var i=!0;else{var f=Hs(oh);f!==null&&x_(oq,f.startTime-t),i=!1}return i}finally{hs=null,go=r,Xw=!1}}var Fqe=rq;Dr.unstable_IdlePriority=5;Dr.unstable_ImmediatePriority=1;Dr.unstable_LowPriority=4;Dr.unstable_NormalPriority=3;Dr.unstable_Profiling=null;Dr.unstable_UserBlockingPriority=2;Dr.unstable_cancelCallback=function(e){e.callback=null};Dr.unstable_continueExecution=function(){sp||Xw||(sp=!0,xm(aq))};Dr.unstable_getCurrentPriorityLevel=function(){return go};Dr.unstable_getFirstCallbackNode=function(){return Hs(Rl)};Dr.unstable_next=function(e){switch(go){case 1:case 2:case 3:var t=3;break;default:t=go}var r=go;go=t;try{return e()}finally{go=r}};Dr.unstable_pauseExecution=function(){};Dr.unstable_requestPaint=Fqe;Dr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=go;go=e;try{return t()}finally{go=r}};Dr.unstable_scheduleCallback=function(e,t,r){var n=Dr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,e={id:Nqe++,callback:t,priorityLevel:e,startTime:r,expirationTime:o,sortIndex:-1},r>n?(e.sortIndex=r,nq(oh,e),Hs(Rl)===null&&e===Hs(oh)&&(b_?Kw():b_=!0,x_(oq,r-n))):(e.sortIndex=o,nq(Rl,e),sp||Xw||(sp=!0,xm(aq))),e};Dr.unstable_wrapCallback=function(e){var t=go;return function(){var r=go;go=t;try{return e.apply(this,arguments)}finally{go=r}}}});var V$=P((Y3t,U$)=>{"use strict";h();U$.exports=B$()});var AZ=P(gs=>{"use strict";h();var $E=ar(),_n=V2(),Ri=V$();function nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!$E)throw Error(nt(227));var r8=new Set,X_={};function yp(e,t){Bm(e,t),Bm(e+"Capture",t)}function Bm(e,t){for(X_[e]=t,e=0;e<t.length;e++)r8.add(t[e])}var Zu=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zqe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$$=Object.prototype.hasOwnProperty,G$={},Z$={};function jqe(e){return $$.call(Z$,e)?!0:$$.call(G$,e)?!1:zqe.test(e)?Z$[e]=!0:(G$[e]=!0,!1)}function Bqe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uqe(e,t,r,n){if(t===null||typeof t=="undefined"||Bqe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jo(e,t,r,n,o,i,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=f}var Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yi[e]=new jo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yi[t]=new jo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yi[e]=new jo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yi[e]=new jo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yi[e]=new jo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yi[e]=new jo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yi[e]=new jo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yi[e]=new jo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yi[e]=new jo(e,5,!1,e.toLowerCase(),null,!1,!1)});var mR=/[\-:]([a-z])/g;function vR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mR,vR);Yi[t]=new jo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mR,vR);Yi[t]=new jo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mR,vR);Yi[t]=new jo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yi[e]=new jo(e,1,!1,e.toLowerCase(),null,!1,!1)});Yi.xlinkHref=new jo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yi[e]=new jo(e,1,!1,e.toLowerCase(),null,!0,!0)});function gR(e,t,r,n){var o=Yi.hasOwnProperty(t)?Yi[t]:null,i=o!==null?o.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");i||(Uqe(t,r,o,n)&&(r=null),n||o===null?jqe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _p=$E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L_=60103,up=60106,sh=60107,yR=60108,z_=60114,_R=60109,xR=60110,GE=60112,j_=60113,bE=60120,ZE=60115,bR=60116,wR=60121,ER=60128,n8=60129,SR=60130,Aq=60131;typeof Symbol=="function"&&Symbol.for&&(xi=Symbol.for,L_=xi("react.element"),up=xi("react.portal"),sh=xi("react.fragment"),yR=xi("react.strict_mode"),z_=xi("react.profiler"),_R=xi("react.provider"),xR=xi("react.context"),GE=xi("react.forward_ref"),j_=xi("react.suspense"),bE=xi("react.suspense_list"),ZE=xi("react.memo"),bR=xi("react.lazy"),wR=xi("react.block"),xi("react.scope"),ER=xi("react.opaque.id"),n8=xi("react.debug_trace_mode"),SR=xi("react.offscreen"),Aq=xi("react.legacy_hidden"));var xi,W$=typeof Symbol=="function"&&Symbol.iterator;function w_(e){return e===null||typeof e!="object"?null:(e=W$&&e[W$]||e["@@iterator"],typeof e=="function"?e:null)}var sq;function D_(e){if(sq===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sq=t&&t[1]||""}return`
`+sq+e}var lq=!1;function Jw(e,t){if(!e||lq)return"";lq=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var n=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){n=w}e.call(t.prototype)}}else{try{throw Error()}catch(w){n=w}e()}}catch(w){if(w&&n&&typeof w.stack=="string"){for(var o=w.stack.split(`
`),i=n.stack.split(`
`),f=o.length-1,g=i.length-1;1<=f&&0<=g&&o[f]!==i[g];)g--;for(;1<=f&&0<=g;f--,g--)if(o[f]!==i[g]){if(f!==1||g!==1)do if(f--,g--,0>g||o[f]!==i[g])return`
`+o[f].replace(" at new "," at ");while(1<=f&&0<=g);break}}}finally{lq=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D_(e):""}function Vqe(e){switch(e.tag){case 5:return D_(e.type);case 16:return D_("Lazy");case 13:return D_("Suspense");case 19:return D_("SuspenseList");case 0:case 2:case 15:return e=Jw(e.type,!1),e;case 11:return e=Jw(e.type.render,!1),e;case 22:return e=Jw(e.type._render,!1),e;case 1:return e=Jw(e.type,!0),e;default:return""}}function qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sh:return"Fragment";case up:return"Portal";case z_:return"Profiler";case yR:return"StrictMode";case j_:return"Suspense";case bE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xR:return(e.displayName||"Context")+".Consumer";case _R:return(e._context.displayName||"Context")+".Provider";case GE:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case ZE:return qm(e.type);case wR:return qm(e._render);case bR:t=e._payload,e=e._init;try{return qm(e(t))}catch(r){}}return null}function _h(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function i8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $qe(e){var t=i8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,i.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qw(e){e._valueTracker||(e._valueTracker=$qe(e))}function o8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wE(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mq(e,t){var r=t.checked;return _n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function H$(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_h(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function a8(e,t){t=t.checked,t!=null&&gR(e,"checked",t,!1)}function qq(e,t){a8(e,t);var r=_h(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rq(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rq(e,t.type,_h(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K$(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rq(e,t,r){(t!=="number"||wE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Gqe(e){var t="";return $E.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Oq(e,t){return e=_n({children:void 0},t),(t=Gqe(t.children))&&(e.children=t),e}function Rm(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_h(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lq(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return _n({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y$(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(nt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(nt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_h(r)}}function s8(e,t){var r=_h(t.value),n=_h(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X$(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Dq={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function l8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kq(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?l8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eE,u8=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!==Dq.svg||"innerHTML"in e)e.innerHTML=t;else{for(eE=eE||document.createElement("div"),eE.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function J_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var B_={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zqe=["Webkit","ms","Moz","O"];Object.keys(B_).forEach(function(e){Zqe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),B_[t]=B_[e]})});function c8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||B_.hasOwnProperty(e)&&B_[e]?(""+t).trim():t+"px"}function h8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=c8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Wqe=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nq(e,t){if(t){if(Wqe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function Fq(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function TR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zq=null,Om=null,Lm=null;function J$(e){if(e=f0(e)){if(typeof zq!="function")throw Error(nt(280));var t=e.stateNode;t&&(t=JE(t),zq(e.stateNode,e.type,t))}}function f8(e){Om?Lm?Lm.push(e):Lm=[e]:Om=e}function p8(){if(Om){var e=Om,t=Lm;if(Lm=Om=null,J$(e),t)for(e=0;e<t.length;e++)J$(t[e])}}function IR(e,t){return e(t)}function d8(e,t,r,n,o){return e(t,r,n,o)}function CR(){}var m8=IR,cp=!1,uq=!1;function PR(){(Om!==null||Lm!==null)&&(CR(),p8())}function Hqe(e,t,r){if(uq)return e(t,r);uq=!0;try{return m8(e,t,r)}finally{uq=!1,PR()}}function Q_(e,t){var r=e.stateNode;if(r===null)return null;var n=JE(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(nt(231,t,typeof r));return r}var jq=!1;if(Zu)try{bm={},Object.defineProperty(bm,"passive",{get:function(){jq=!0}}),window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch(e){jq=!1}var bm;function Kqe(e,t,r,n,o,i,f,g,w){var E=Array.prototype.slice.call(arguments,3);try{t.apply(r,E)}catch(C){this.onError(C)}}var U_=!1,EE=null,SE=!1,Bq=null,Yqe={onError:function(e){U_=!0,EE=e}};function Xqe(e,t,r,n,o,i,f,g,w){U_=!1,EE=null,Kqe.apply(Yqe,arguments)}function Jqe(e,t,r,n,o,i,f,g,w){if(Xqe.apply(this,arguments),U_){if(U_){var E=EE;U_=!1,EE=null}else throw Error(nt(198));SE||(SE=!0,Bq=E)}}function xp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function v8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q$(e){if(xp(e)!==e)throw Error(nt(188))}function Qqe(e){var t=e.alternate;if(!t){if(t=xp(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Q$(o),e;if(i===n)return Q$(o),t;i=i.sibling}throw Error(nt(188))}if(r.return!==n.return)r=o,n=i;else{for(var f=!1,g=o.child;g;){if(g===r){f=!0,r=o,n=i;break}if(g===n){f=!0,n=o,r=i;break}g=g.sibling}if(!f){for(g=i.child;g;){if(g===r){f=!0,r=i,n=o;break}if(g===n){f=!0,n=i,r=o;break}g=g.sibling}if(!f)throw Error(nt(189))}}if(r.alternate!==n)throw Error(nt(190))}if(r.tag!==3)throw Error(nt(188));return r.stateNode.current===r?e:t}function g8(e){if(e=Qqe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function eG(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var y8,AR,_8,x8,Uq=!1,Ol=[],hh=null,fh=null,ph=null,e0=new Map,t0=new Map,E_=[],tG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vq(e,t,r,n,o){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:o,targetContainers:[n]}}function rG(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":e0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":t0.delete(t.pointerId)}}function S_(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e=Vq(t,r,n,o,i),t!==null&&(t=f0(t),t!==null&&AR(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function eRe(e,t,r,n,o){switch(t){case"focusin":return hh=S_(hh,e,t,r,n,o),!0;case"dragenter":return fh=S_(fh,e,t,r,n,o),!0;case"mouseover":return ph=S_(ph,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return e0.set(i,S_(e0.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,t0.set(i,S_(t0.get(i)||null,e,t,r,n,o)),!0}return!1}function tRe(e){var t=hp(e.target);if(t!==null){var r=xp(t);if(r!==null){if(t=r.tag,t===13){if(t=v8(r),t!==null){e.blockedOn=t,x8(e.lanePriority,function(){Ri.unstable_runWithPriority(e.priority,function(){_8(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hE(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=OR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=f0(r),t!==null&&AR(t),e.blockedOn=r,!1;t.shift()}return!0}function nG(e,t,r){hE(e)&&r.delete(t)}function rRe(){for(Uq=!1;0<Ol.length;){var e=Ol[0];if(e.blockedOn!==null){e=f0(e.blockedOn),e!==null&&y8(e);break}for(var t=e.targetContainers;0<t.length;){var r=OR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Ol.shift()}hh!==null&&hE(hh)&&(hh=null),fh!==null&&hE(fh)&&(fh=null),ph!==null&&hE(ph)&&(ph=null),e0.forEach(nG),t0.forEach(nG)}function T_(e,t){e.blockedOn===t&&(e.blockedOn=null,Uq||(Uq=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,rRe)))}function b8(e){function t(o){return T_(o,e)}if(0<Ol.length){T_(Ol[0],e);for(var r=1;r<Ol.length;r++){var n=Ol[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hh!==null&&T_(hh,e),fh!==null&&T_(fh,e),ph!==null&&T_(ph,e),e0.forEach(t),t0.forEach(t),r=0;r<E_.length;r++)n=E_[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<E_.length&&(r=E_[0],r.blockedOn===null);)tRe(r),r.blockedOn===null&&E_.shift()}function tE(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tm={animationend:tE("Animation","AnimationEnd"),animationiteration:tE("Animation","AnimationIteration"),animationstart:tE("Animation","AnimationStart"),transitionend:tE("Transition","TransitionEnd")},cq={},w8={};Zu&&(w8=document.createElement("div").style,"AnimationEvent"in window||(delete Tm.animationend.animation,delete Tm.animationiteration.animation,delete Tm.animationstart.animation),"TransitionEvent"in window||delete Tm.transitionend.transition);function WE(e){if(cq[e])return cq[e];if(!Tm[e])return e;var t=Tm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in w8)return cq[e]=t[r];return e}var E8=WE("animationend"),S8=WE("animationiteration"),T8=WE("animationstart"),I8=WE("transitionend"),C8=new Map,MR=new Map,nRe=["abort","abort",E8,"animationEnd",S8,"animationIteration",T8,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",I8,"transitionEnd","waiting","waiting"];function qR(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],o=e[r+1];o="on"+(o[0].toUpperCase()+o.slice(1)),MR.set(n,t),C8.set(n,o),yp(o,[n])}}var iRe=Ri.unstable_now;iRe();var Qr=8;function Em(e){if((1&e)!==0)return Qr=15,1;if((2&e)!==0)return Qr=14,2;if((4&e)!==0)return Qr=13,4;var t=24&e;return t!==0?(Qr=12,t):(e&32)!==0?(Qr=11,32):(t=192&e,t!==0?(Qr=10,t):(e&256)!==0?(Qr=9,256):(t=3584&e,t!==0?(Qr=8,t):(e&4096)!==0?(Qr=7,4096):(t=4186112&e,t!==0?(Qr=6,t):(t=62914560&e,t!==0?(Qr=5,t):e&67108864?(Qr=4,67108864):(e&134217728)!==0?(Qr=3,134217728):(t=805306368&e,t!==0?(Qr=2,t):(1073741824&e)!==0?(Qr=1,1073741824):(Qr=8,e))))))}function oRe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function aRe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(nt(358,e))}}function r0(e,t){var r=e.pendingLanes;if(r===0)return Qr=0;var n=0,o=0,i=e.expiredLanes,f=e.suspendedLanes,g=e.pingedLanes;if(i!==0)n=i,o=Qr=15;else if(i=r&134217727,i!==0){var w=i&~f;w!==0?(n=Em(w),o=Qr):(g&=i,g!==0&&(n=Em(g),o=Qr))}else i=r&~f,i!==0?(n=Em(i),o=Qr):g!==0&&(n=Em(g),o=Qr);if(n===0)return 0;if(n=31-xh(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&f)===0){if(Em(t),o<=Qr)return t;Qr=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xh(t),o=1<<r,n|=e[r],t&=~o;return n}function P8(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TE(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Sm(24&~t),e===0?TE(10,t):e;case 10:return e=Sm(192&~t),e===0?TE(8,t):e;case 8:return e=Sm(3584&~t),e===0&&(e=Sm(4186112&~t),e===0&&(e=512)),e;case 2:return t=Sm(805306368&~t),t===0&&(t=268435456),t}throw Error(nt(358,e))}function Sm(e){return e&-e}function hq(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function HE(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-xh(t),e[t]=r}var xh=Math.clz32?Math.clz32:uRe,sRe=Math.log,lRe=Math.LN2;function uRe(e){return e===0?32:31-(sRe(e)/lRe|0)|0}var cRe=Ri.unstable_UserBlockingPriority,hRe=Ri.unstable_runWithPriority,fE=!0;function fRe(e,t,r,n){cp||CR();var o=RR,i=cp;cp=!0;try{d8(o,e,t,r,n)}finally{(cp=i)||PR()}}function pRe(e,t,r,n){hRe(cRe,RR.bind(null,e,t,r,n))}function RR(e,t,r,n){if(fE){var o;if((o=(t&4)===0)&&0<Ol.length&&-1<tG.indexOf(e))e=Vq(null,e,t,r,n),Ol.push(e);else{var i=OR(e,t,r,n);if(i===null)o&&rG(e,n);else{if(o){if(-1<tG.indexOf(e)){e=Vq(i,e,t,r,n),Ol.push(e);return}if(eRe(i,e,t,r,n))return;rG(e,n)}B8(e,t,n,null,r)}}}}function OR(e,t,r,n){var o=TR(n);if(o=hp(o),o!==null){var i=xp(o);if(i===null)o=null;else{var f=i.tag;if(f===13){if(o=v8(i),o!==null)return o;o=null}else if(f===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return B8(e,t,n,o,r),null}var lh=null,LR=null,pE=null;function A8(){if(pE)return pE;var e,t=LR,r=t.length,n,o="value"in lh?lh.value:lh.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var f=r-e;for(n=1;n<=f&&t[r-n]===o[i-n];n++);return pE=o.slice(e,1<n?1-n:void 0)}function dE(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rE(){return!0}function iG(){return!1}function Ga(e){function t(r,n,o,i,f){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(i):i[g]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rE:iG,this.isPropagationStopped=iG,this}return _n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rE)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rE)},persist:function(){},isPersistent:rE}),t}var Gm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DR=Ga(Gm),h0=_n({},Gm,{view:0,detail:0}),dRe=Ga(h0),fq,pq,I_,KE=_n({},h0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==I_&&(I_&&e.type==="mousemove"?(fq=e.screenX-I_.screenX,pq=e.screenY-I_.screenY):pq=fq=0,I_=e),fq)},movementY:function(e){return"movementY"in e?e.movementY:pq}}),oG=Ga(KE),mRe=_n({},KE,{dataTransfer:0}),vRe=Ga(mRe),gRe=_n({},h0,{relatedTarget:0}),dq=Ga(gRe),yRe=_n({},Gm,{animationName:0,elapsedTime:0,pseudoElement:0}),_Re=Ga(yRe),xRe=_n({},Gm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bRe=Ga(xRe),wRe=_n({},Gm,{data:0}),aG=Ga(wRe),ERe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SRe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TRe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IRe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TRe[e])?!!t[e]:!1}function kR(){return IRe}var CRe=_n({},h0,{key:function(e){if(e.key){var t=ERe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dE(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SRe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kR,charCode:function(e){return e.type==="keypress"?dE(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dE(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PRe=Ga(CRe),ARe=_n({},KE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sG=Ga(ARe),MRe=_n({},h0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kR}),qRe=Ga(MRe),RRe=_n({},Gm,{propertyName:0,elapsedTime:0,pseudoElement:0}),ORe=Ga(RRe),LRe=_n({},KE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DRe=Ga(LRe),kRe=[9,13,27,32],NR=Zu&&"CompositionEvent"in window,V_=null;Zu&&"documentMode"in document&&(V_=document.documentMode);var NRe=Zu&&"TextEvent"in window&&!V_,M8=Zu&&(!NR||V_&&8<V_&&11>=V_),lG=" ",uG=!1;function q8(e,t){switch(e){case"keyup":return kRe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Im=!1;function FRe(e,t){switch(e){case"compositionend":return R8(t);case"keypress":return t.which!==32?null:(uG=!0,lG);case"textInput":return e=t.data,e===lG&&uG?null:e;default:return null}}function zRe(e,t){if(Im)return e==="compositionend"||!NR&&q8(e,t)?(e=A8(),pE=LR=lh=null,Im=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M8&&t.locale!=="ko"?null:t.data;default:return null}}var jRe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cG(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jRe[e.type]:t==="textarea"}function O8(e,t,r,n){f8(n),t=IE(t,"onChange"),0<t.length&&(r=new DR("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $_=null,n0=null;function BRe(e){F8(e,0)}function YE(e){var t=Pm(e);if(o8(t))return e}function URe(e,t){if(e==="change")return t}var L8=!1;Zu&&(Zu?(iE="oninput"in document,iE||(mq=document.createElement("div"),mq.setAttribute("oninput","return;"),iE=typeof mq.oninput=="function"),nE=iE):nE=!1,L8=nE&&(!document.documentMode||9<document.documentMode));var nE,iE,mq;function hG(){$_&&($_.detachEvent("onpropertychange",D8),n0=$_=null)}function D8(e){if(e.propertyName==="value"&&YE(n0)){var t=[];if(O8(t,n0,e,TR(e)),e=BRe,cp)e(t);else{cp=!0;try{IR(e,t)}finally{cp=!1,PR()}}}}function VRe(e,t,r){e==="focusin"?(hG(),$_=t,n0=r,$_.attachEvent("onpropertychange",D8)):e==="focusout"&&hG()}function $Re(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return YE(n0)}function GRe(e,t){if(e==="click")return YE(t)}function ZRe(e,t){if(e==="input"||e==="change")return YE(t)}function WRe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fs=typeof Object.is=="function"?Object.is:WRe,HRe=Object.prototype.hasOwnProperty;function i0(e,t){if(fs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!HRe.call(t,r[n])||!fs(e[r[n]],t[r[n]]))return!1;return!0}function fG(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pG(e,t){var r=fG(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fG(r)}}function k8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dG(){for(var e=window,t=wE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=wE(e.document)}return t}function $q(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var KRe=Zu&&"documentMode"in document&&11>=document.documentMode,Cm=null,Gq=null,G_=null,Zq=!1;function mG(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zq||Cm==null||Cm!==wE(n)||(n=Cm,"selectionStart"in n&&$q(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),G_&&i0(G_,n)||(G_=n,n=IE(Gq,"onSelect"),0<n.length&&(t=new DR("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cm)))}qR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);qR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);qR(nRe,2);for(vq="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),oE=0;oE<vq.length;oE++)MR.set(vq[oE],0);var vq,oE;Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);yp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yp("onBeforeInput",["compositionend","keypress","textInput","paste"]);yp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N8=new Set("cancel close invalid load scroll toggle".split(" ").concat(k_));function vG(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Jqe(n,t,void 0,e),e.currentTarget=null}function F8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var f=n.length-1;0<=f;f--){var g=n[f],w=g.instance,E=g.currentTarget;if(g=g.listener,w!==i&&o.isPropagationStopped())break e;vG(o,g,E),i=w}else for(f=0;f<n.length;f++){if(g=n[f],w=g.instance,E=g.currentTarget,g=g.listener,w!==i&&o.isPropagationStopped())break e;vG(o,g,E),i=w}}}if(SE)throw e=Bq,SE=!1,Bq=null,e}function cn(e,t){var r=V8(t),n=e+"__bubble";r.has(n)||(j8(t,e,2,!1),r.add(n))}var gG="_reactListening"+Math.random().toString(36).slice(2);function z8(e){e[gG]||(e[gG]=!0,r8.forEach(function(t){N8.has(t)||yG(t,!1,e,null),yG(t,!0,e,null)}))}function yG(e,t,r,n){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=r;if(e==="selectionchange"&&r.nodeType!==9&&(i=r.ownerDocument),n!==null&&!t&&N8.has(e)){if(e!=="scroll")return;o|=2,i=n}var f=V8(i),g=e+"__"+(t?"capture":"bubble");f.has(g)||(t&&(o|=4),j8(i,e,o,t),f.add(g))}function j8(e,t,r,n){var o=MR.get(t);switch(o===void 0?2:o){case 0:o=fRe;break;case 1:o=pRe;break;default:o=RR}r=o.bind(null,t,r,e),o=void 0,!jq||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function B8(e,t,r,n,o){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var f=n.tag;if(f===3||f===4){var g=n.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(f===4)for(f=n.return;f!==null;){var w=f.tag;if((w===3||w===4)&&(w=f.stateNode.containerInfo,w===o||w.nodeType===8&&w.parentNode===o))return;f=f.return}for(;g!==null;){if(f=hp(g),f===null)return;if(w=f.tag,w===5||w===6){n=i=f;continue e}g=g.parentNode}}n=n.return}Hqe(function(){var E=i,C=TR(r),q=[];e:{var L=C8.get(e);if(L!==void 0){var B=DR,$=e;switch(e){case"keypress":if(dE(r)===0)break e;case"keydown":case"keyup":B=PRe;break;case"focusin":$="focus",B=dq;break;case"focusout":$="blur",B=dq;break;case"beforeblur":case"afterblur":B=dq;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=oG;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vRe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=qRe;break;case E8:case S8:case T8:B=_Re;break;case I8:B=ORe;break;case"scroll":B=dRe;break;case"wheel":B=DRe;break;case"copy":case"cut":case"paste":B=bRe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=sG}var ee=(t&4)!==0,G=!ee&&e==="scroll",H=ee?L!==null?L+"Capture":null:L;ee=[];for(var Q=E,se;Q!==null;){se=Q;var de=se.stateNode;if(se.tag===5&&de!==null&&(se=de,H!==null&&(de=Q_(Q,H),de!=null&&ee.push(o0(Q,de,se)))),G)break;Q=Q.return}0<ee.length&&(L=new B(L,$,null,r,C),q.push({event:L,listeners:ee}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&(t&16)===0&&($=r.relatedTarget||r.fromElement)&&(hp($)||$[Zm]))break e;if((B||L)&&(L=C.window===C?C:(L=C.ownerDocument)?L.defaultView||L.parentWindow:window,B?($=r.relatedTarget||r.toElement,B=E,$=$?hp($):null,$!==null&&(G=xp($),$!==G||$.tag!==5&&$.tag!==6)&&($=null)):(B=null,$=E),B!==$)){if(ee=oG,de="onMouseLeave",H="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(ee=sG,de="onPointerLeave",H="onPointerEnter",Q="pointer"),G=B==null?L:Pm(B),se=$==null?L:Pm($),L=new ee(de,Q+"leave",B,r,C),L.target=G,L.relatedTarget=se,de=null,hp(C)===E&&(ee=new ee(H,Q+"enter",$,r,C),ee.target=se,ee.relatedTarget=G,de=ee),G=de,B&&$)t:{for(ee=B,H=$,Q=0,se=ee;se;se=wm(se))Q++;for(se=0,de=H;de;de=wm(de))se++;for(;0<Q-se;)ee=wm(ee),Q--;for(;0<se-Q;)H=wm(H),se--;for(;Q--;){if(ee===H||H!==null&&ee===H.alternate)break t;ee=wm(ee),H=wm(H)}ee=null}else ee=null;B!==null&&_G(q,L,B,ee,!1),$!==null&&G!==null&&_G(q,G,$,ee,!0)}}e:{if(L=E?Pm(E):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var De=URe;else if(cG(L)){if(L8)De=ZRe;else{De=$Re;var Ne=VRe}}else(B=L.nodeName)&&B.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(De=GRe);if(De&&(De=De(e,E))){O8(q,De,r,C);break e}Ne&&Ne(e,L,E),e==="focusout"&&(Ne=L._wrapperState)&&Ne.controlled&&L.type==="number"&&Rq(L,"number",L.value)}switch(Ne=E?Pm(E):window,e){case"focusin":(cG(Ne)||Ne.contentEditable==="true")&&(Cm=Ne,Gq=E,G_=null);break;case"focusout":G_=Gq=Cm=null;break;case"mousedown":Zq=!0;break;case"contextmenu":case"mouseup":case"dragend":Zq=!1,mG(q,r,C);break;case"selectionchange":if(KRe)break;case"keydown":case"keyup":mG(q,r,C)}var ke;if(NR)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Im?q8(e,r)&&(Ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(M8&&r.locale!=="ko"&&(Im||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Im&&(ke=A8()):(lh=C,LR="value"in lh?lh.value:lh.textContent,Im=!0)),Ne=IE(E,Ge),0<Ne.length&&(Ge=new aG(Ge,e,null,r,C),q.push({event:Ge,listeners:Ne}),ke?Ge.data=ke:(ke=R8(r),ke!==null&&(Ge.data=ke)))),(ke=NRe?FRe(e,r):zRe(e,r))&&(E=IE(E,"onBeforeInput"),0<E.length&&(C=new aG("onBeforeInput","beforeinput",null,r,C),q.push({event:C,listeners:E}),C.data=ke))}F8(q,t)})}function o0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function IE(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Q_(e,r),i!=null&&n.unshift(o0(e,i,o)),i=Q_(e,t),i!=null&&n.push(o0(e,i,o))),e=e.return}return n}function wm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _G(e,t,r,n,o){for(var i=t._reactName,f=[];r!==null&&r!==n;){var g=r,w=g.alternate,E=g.stateNode;if(w!==null&&w===n)break;g.tag===5&&E!==null&&(g=E,o?(w=Q_(r,i),w!=null&&f.unshift(o0(r,w,g))):o||(w=Q_(r,i),w!=null&&f.push(o0(r,w,g)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}function CE(){}var gq=null,yq=null;function U8(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wq(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xG=typeof setTimeout=="function"?setTimeout:void 0,YRe=typeof clearTimeout=="function"?clearTimeout:void 0;function FR(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Dm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function bG(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _q=0;function XRe(e){return{$$typeof:ER,toString:e,valueOf:e}}var XE=Math.random().toString(36).slice(2),uh="__reactFiber$"+XE,PE="__reactProps$"+XE,Zm="__reactContainer$"+XE,wG="__reactEvents$"+XE;function hp(e){var t=e[uh];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zm]||r[uh]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bG(e);e!==null;){if(r=e[uh])return r;e=bG(e)}return t}e=r,r=e.parentNode}return null}function f0(e){return e=e[uh]||e[Zm],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function JE(e){return e[PE]||null}function V8(e){var t=e[wG];return t===void 0&&(t=e[wG]=new Set),t}var Hq=[],Am=-1;function Sh(e){return{current:e}}function hn(e){0>Am||(e.current=Hq[Am],Hq[Am]=null,Am--)}function jn(e,t){Am++,Hq[Am]=e.current,e.current=t}var bh={},bo=Sh(bh),ia=Sh(!1),mp=bh;function Um(e,t){var r=e.type.contextTypes;if(!r)return bh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function oa(e){return e=e.childContextTypes,e!=null}function AE(){hn(ia),hn(bo)}function EG(e,t,r){if(bo.current!==bh)throw Error(nt(168));jn(bo,t),jn(ia,r)}function $8(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in e))throw Error(nt(108,qm(t)||"Unknown",o));return _n({},r,n)}function mE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bh,mp=bo.current,jn(bo,e),jn(ia,ia.current),!0}function SG(e,t,r){var n=e.stateNode;if(!n)throw Error(nt(169));r?(e=$8(e,t,mp),n.__reactInternalMemoizedMergedChildContext=e,hn(ia),hn(bo),jn(bo,e)):hn(ia),jn(ia,r)}var zR=null,dp=null,JRe=Ri.unstable_runWithPriority,jR=Ri.unstable_scheduleCallback,Kq=Ri.unstable_cancelCallback,QRe=Ri.unstable_shouldYield,TG=Ri.unstable_requestPaint,Yq=Ri.unstable_now,eOe=Ri.unstable_getCurrentPriorityLevel,QE=Ri.unstable_ImmediatePriority,G8=Ri.unstable_UserBlockingPriority,Z8=Ri.unstable_NormalPriority,W8=Ri.unstable_LowPriority,H8=Ri.unstable_IdlePriority,xq={},tOe=TG!==void 0?TG:function(){},Bu=null,vE=null,bq=!1,IG=Yq(),_o=1e4>IG?Yq:function(){return Yq()-IG};function Vm(){switch(eOe()){case QE:return 99;case G8:return 98;case Z8:return 97;case W8:return 96;case H8:return 95;default:throw Error(nt(332))}}function K8(e){switch(e){case 99:return QE;case 98:return G8;case 97:return Z8;case 96:return W8;case 95:return H8;default:throw Error(nt(332))}}function vp(e,t){return e=K8(e),JRe(e,t)}function a0(e,t,r){return e=K8(e),jR(e,t,r)}function Fl(){if(vE!==null){var e=vE;vE=null,Kq(e)}Y8()}function Y8(){if(!bq&&Bu!==null){bq=!0;var e=0;try{var t=Bu;vp(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Bu=null}catch(r){throw Bu!==null&&(Bu=Bu.slice(e+1)),jR(QE,Fl),r}finally{bq=!1}}}var rOe=_p.ReactCurrentBatchConfig;function Ks(e,t){if(e&&e.defaultProps){t=_n({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var ME=Sh(null),qE=null,Mm=null,RE=null;function BR(){RE=Mm=qE=null}function UR(e){var t=ME.current;hn(ME),e.type._context._currentValue=t}function X8(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function km(e,t){qE=e,RE=Mm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ys=!0),e.firstContext=null)}function ms(e,t){if(RE!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(RE=e,t=1073741823),t={context:e,observedBits:t,next:null},Mm===null){if(qE===null)throw Error(nt(308));Mm=t,qE.dependencies={lanes:0,firstContext:t,responders:null}}else Mm=Mm.next=t;return e._currentValue}var ah=!1;function VR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function J8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mh(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function CG(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=f:i=i.next=f,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function s0(e,t,r,n){var o=e.updateQueue;ah=!1;var i=o.firstBaseUpdate,f=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var w=g,E=w.next;w.next=null,f===null?i=E:f.next=E,f=w;var C=e.alternate;if(C!==null){C=C.updateQueue;var q=C.lastBaseUpdate;q!==f&&(q===null?C.firstBaseUpdate=E:q.next=E,C.lastBaseUpdate=w)}}if(i!==null){q=o.baseState,f=0,C=E=w=null;do{g=i.lane;var L=i.eventTime;if((n&g)===g){C!==null&&(C=C.next={eventTime:L,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var B=e,$=i;switch(g=t,L=r,$.tag){case 1:if(B=$.payload,typeof B=="function"){q=B.call(L,q,g);break e}q=B;break e;case 3:B.flags=B.flags&-4097|64;case 0:if(B=$.payload,g=typeof B=="function"?B.call(L,q,g):B,g==null)break e;q=_n({},q,g);break e;case 2:ah=!0}}i.callback!==null&&(e.flags|=32,g=o.effects,g===null?o.effects=[i]:g.push(i))}else L={eventTime:L,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},C===null?(E=C=L,w=q):C=C.next=L,f|=g;if(i=i.next,i===null){if(g=o.shared.pending,g===null)break;i=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);C===null&&(w=q),o.baseState=w,o.firstBaseUpdate=E,o.lastBaseUpdate=C,d0|=f,e.lanes=f,e.memoizedState=q}}function PG(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(nt(191,o));o.call(n)}}}var Q8=new $E.Component().refs;function OE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_n({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eS={isMounted:function(e){return(e=e._reactInternals)?xp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$a(),o=vh(e),i=dh(n,o);i.payload=t,r!=null&&(i.callback=r),mh(e,i),gh(e,o,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$a(),o=vh(e),i=dh(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),mh(e,i),gh(e,o,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$a(),n=vh(e),o=dh(r,n);o.tag=2,t!=null&&(o.callback=t),mh(e,o),gh(e,n,r)}};function AG(e,t,r,n,o,i,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,f):t.prototype&&t.prototype.isPureReactComponent?!i0(r,n)||!i0(o,i):!0}function eZ(e,t,r){var n=!1,o=bh,i=t.contextType;return typeof i=="object"&&i!==null?i=ms(i):(o=oa(t)?mp:bo.current,n=t.contextTypes,i=(n=n!=null)?Um(e,o):bh),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function MG(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eS.enqueueReplaceState(t,t.state,null)}function Xq(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=Q8,VR(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ms(i):(i=oa(t)?mp:bo.current,o.context=Um(e,i)),s0(e,r,o,n),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(OE(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&eS.enqueueReplaceState(o,o.state,null),s0(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var aE=Array.isArray;function C_(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(nt(309));var n=r.stateNode}if(!n)throw Error(nt(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var f=n.refs;f===Q8&&(f=n.refs={}),i===null?delete f[o]:f[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(nt(284));if(!r._owner)throw Error(nt(290,e))}return e}function sE(e,t){if(e.type!=="textarea")throw Error(nt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function tZ(e){function t(G,H){if(e){var Q=G.lastEffect;Q!==null?(Q.nextEffect=H,G.lastEffect=H):G.firstEffect=G.lastEffect=H,H.nextEffect=null,H.flags=8}}function r(G,H){if(!e)return null;for(;H!==null;)t(G,H),H=H.sibling;return null}function n(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function o(G,H){return G=Eh(G,H),G.index=0,G.sibling=null,G}function i(G,H,Q){return G.index=Q,e?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags=2,H):Q):(G.flags=2,H)):H}function f(G){return e&&G.alternate===null&&(G.flags=2),G}function g(G,H,Q,se){return H===null||H.tag!==6?(H=Iq(Q,G.mode,se),H.return=G,H):(H=o(H,Q),H.return=G,H)}function w(G,H,Q,se){return H!==null&&H.elementType===Q.type?(se=o(H,Q.props),se.ref=C_(G,H,Q),se.return=G,se):(se=xE(Q.type,Q.key,Q.props,null,G.mode,se),se.ref=C_(G,H,Q),se.return=G,se)}function E(G,H,Q,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Cq(Q,G.mode,se),H.return=G,H):(H=o(H,Q.children||[]),H.return=G,H)}function C(G,H,Q,se,de){return H===null||H.tag!==7?(H=jm(Q,G.mode,se,de),H.return=G,H):(H=o(H,Q),H.return=G,H)}function q(G,H,Q){if(typeof H=="string"||typeof H=="number")return H=Iq(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L_:return Q=xE(H.type,H.key,H.props,null,G.mode,Q),Q.ref=C_(G,null,H),Q.return=G,Q;case up:return H=Cq(H,G.mode,Q),H.return=G,H}if(aE(H)||w_(H))return H=jm(H,G.mode,Q,null),H.return=G,H;sE(G,H)}return null}function L(G,H,Q,se){var de=H!==null?H.key:null;if(typeof Q=="string"||typeof Q=="number")return de!==null?null:g(G,H,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L_:return Q.key===de?Q.type===sh?C(G,H,Q.props.children,se,de):w(G,H,Q,se):null;case up:return Q.key===de?E(G,H,Q,se):null}if(aE(Q)||w_(Q))return de!==null?null:C(G,H,Q,se,null);sE(G,Q)}return null}function B(G,H,Q,se,de){if(typeof se=="string"||typeof se=="number")return G=G.get(Q)||null,g(H,G,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case L_:return G=G.get(se.key===null?Q:se.key)||null,se.type===sh?C(H,G,se.props.children,de,se.key):w(H,G,se,de);case up:return G=G.get(se.key===null?Q:se.key)||null,E(H,G,se,de)}if(aE(se)||w_(se))return G=G.get(Q)||null,C(H,G,se,de,null);sE(H,se)}return null}function $(G,H,Q,se){for(var de=null,De=null,Ne=H,ke=H=0,Ge=null;Ne!==null&&ke<Q.length;ke++){Ne.index>ke?(Ge=Ne,Ne=null):Ge=Ne.sibling;var rt=L(G,Ne,Q[ke],se);if(rt===null){Ne===null&&(Ne=Ge);break}e&&Ne&&rt.alternate===null&&t(G,Ne),H=i(rt,H,ke),De===null?de=rt:De.sibling=rt,De=rt,Ne=Ge}if(ke===Q.length)return r(G,Ne),de;if(Ne===null){for(;ke<Q.length;ke++)Ne=q(G,Q[ke],se),Ne!==null&&(H=i(Ne,H,ke),De===null?de=Ne:De.sibling=Ne,De=Ne);return de}for(Ne=n(G,Ne);ke<Q.length;ke++)Ge=B(Ne,G,ke,Q[ke],se),Ge!==null&&(e&&Ge.alternate!==null&&Ne.delete(Ge.key===null?ke:Ge.key),H=i(Ge,H,ke),De===null?de=Ge:De.sibling=Ge,De=Ge);return e&&Ne.forEach(function(Mt){return t(G,Mt)}),de}function ee(G,H,Q,se){var de=w_(Q);if(typeof de!="function")throw Error(nt(150));if(Q=de.call(Q),Q==null)throw Error(nt(151));for(var De=de=null,Ne=H,ke=H=0,Ge=null,rt=Q.next();Ne!==null&&!rt.done;ke++,rt=Q.next()){Ne.index>ke?(Ge=Ne,Ne=null):Ge=Ne.sibling;var Mt=L(G,Ne,rt.value,se);if(Mt===null){Ne===null&&(Ne=Ge);break}e&&Ne&&Mt.alternate===null&&t(G,Ne),H=i(Mt,H,ke),De===null?de=Mt:De.sibling=Mt,De=Mt,Ne=Ge}if(rt.done)return r(G,Ne),de;if(Ne===null){for(;!rt.done;ke++,rt=Q.next())rt=q(G,rt.value,se),rt!==null&&(H=i(rt,H,ke),De===null?de=rt:De.sibling=rt,De=rt);return de}for(Ne=n(G,Ne);!rt.done;ke++,rt=Q.next())rt=B(Ne,G,ke,rt.value,se),rt!==null&&(e&&rt.alternate!==null&&Ne.delete(rt.key===null?ke:rt.key),H=i(rt,H,ke),De===null?de=rt:De.sibling=rt,De=rt);return e&&Ne.forEach(function(tr){return t(G,tr)}),de}return function(G,H,Q,se){var de=typeof Q=="object"&&Q!==null&&Q.type===sh&&Q.key===null;de&&(Q=Q.props.children);var De=typeof Q=="object"&&Q!==null;if(De)switch(Q.$$typeof){case L_:e:{for(De=Q.key,de=H;de!==null;){if(de.key===De){switch(de.tag){case 7:if(Q.type===sh){r(G,de.sibling),H=o(de,Q.props.children),H.return=G,G=H;break e}break;default:if(de.elementType===Q.type){r(G,de.sibling),H=o(de,Q.props),H.ref=C_(G,de,Q),H.return=G,G=H;break e}}r(G,de);break}else t(G,de);de=de.sibling}Q.type===sh?(H=jm(Q.props.children,G.mode,se,Q.key),H.return=G,G=H):(se=xE(Q.type,Q.key,Q.props,null,G.mode,se),se.ref=C_(G,H,Q),se.return=G,G=se)}return f(G);case up:e:{for(de=Q.key;H!==null;){if(H.key===de){if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){r(G,H.sibling),H=o(H,Q.children||[]),H.return=G,G=H;break e}else{r(G,H);break}}else t(G,H);H=H.sibling}H=Cq(Q,G.mode,se),H.return=G,G=H}return f(G)}if(typeof Q=="string"||typeof Q=="number")return Q=""+Q,H!==null&&H.tag===6?(r(G,H.sibling),H=o(H,Q),H.return=G,G=H):(r(G,H),H=Iq(Q,G.mode,se),H.return=G,G=H),f(G);if(aE(Q))return $(G,H,Q,se);if(w_(Q))return ee(G,H,Q,se);if(De&&sE(G,Q),typeof Q=="undefined"&&!de)switch(G.tag){case 1:case 22:case 0:case 11:case 15:throw Error(nt(152,qm(G.type)||"Component"))}return r(G,H)}}var LE=tZ(!0),rZ=tZ(!1),p0={},kl=Sh(p0),l0=Sh(p0),u0=Sh(p0);function fp(e){if(e===p0)throw Error(nt(174));return e}function Jq(e,t){switch(jn(u0,t),jn(l0,e),jn(kl,p0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kq(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kq(t,e)}hn(kl),jn(kl,t)}function $m(){hn(kl),hn(l0),hn(u0)}function qG(e){fp(u0.current);var t=fp(kl.current),r=kq(t,e.type);t!==r&&(jn(l0,e),jn(kl,r))}function $R(e){l0.current===e&&(hn(kl),hn(l0))}var zn=Sh(0);function DE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vu=null,ch=null,Nl=!1;function nZ(e,t){var r=ps(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function RG(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Qq(e){if(Nl){var t=ch;if(t){var r=t;if(!RG(e,t)){if(t=Dm(r.nextSibling),!t||!RG(e,t)){e.flags=e.flags&-1025|2,Nl=!1,Vu=e;return}nZ(Vu,r)}Vu=e,ch=Dm(t.firstChild)}else e.flags=e.flags&-1025|2,Nl=!1,Vu=e}}function OG(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vu=e}function lE(e){if(e!==Vu)return!1;if(!Nl)return OG(e),Nl=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Wq(t,e.memoizedProps))for(t=ch;t;)nZ(e,t),t=Dm(t.nextSibling);if(OG(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ch=Dm(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ch=null}}else ch=Vu?Dm(e.stateNode.nextSibling):null;return!0}function wq(){ch=Vu=null,Nl=!1}var Nm=[];function GR(){for(var e=0;e<Nm.length;e++)Nm[e]._workInProgressVersionPrimary=null;Nm.length=0}var Z_=_p.ReactCurrentDispatcher,ds=_p.ReactCurrentBatchConfig,c0=0,Xn=null,yo=null,Hi=null,kE=!1,W_=!1;function ra(){throw Error(nt(321))}function ZR(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fs(e[r],t[r]))return!1;return!0}function WR(e,t,r,n,o,i){if(c0=i,Xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z_.current=e===null||e.memoizedState===null?iOe:oOe,e=r(n,o),W_){i=0;do{if(W_=!1,!(25>i))throw Error(nt(301));i+=1,Hi=yo=null,t.updateQueue=null,Z_.current=aOe,e=r(n,o)}while(W_)}if(Z_.current=jE,t=yo!==null&&yo.next!==null,c0=0,Hi=yo=Xn=null,kE=!1,t)throw Error(nt(300));return e}function pp(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?Xn.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function bp(){if(yo===null){var e=Xn.alternate;e=e!==null?e.memoizedState:null}else e=yo.next;var t=Hi===null?Xn.memoizedState:Hi.next;if(t!==null)Hi=t,yo=e;else{if(e===null)throw Error(nt(310));yo=e,e={memoizedState:yo.memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},Hi===null?Xn.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function Ll(e,t){return typeof t=="function"?t(e):t}function P_(e){var t=bp(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=yo,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var f=o.next;o.next=i.next,i.next=f}n.baseQueue=o=i,r.pending=null}if(o!==null){o=o.next,n=n.baseState;var g=f=i=null,w=o;do{var E=w.lane;if((c0&E)===E)g!==null&&(g=g.next={lane:0,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null}),n=w.eagerReducer===e?w.eagerState:e(n,w.action);else{var C={lane:E,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null};g===null?(f=g=C,i=n):g=g.next=C,Xn.lanes|=E,d0|=E}w=w.next}while(w!==null&&w!==o);g===null?i=n:g.next=f,fs(n,t.memoizedState)||(Ys=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=g,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function A_(e){var t=bp(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var f=o=o.next;do i=e(i,f.action),f=f.next;while(f!==o);fs(i,t.memoizedState)||(Ys=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function LG(e,t,r){var n=t._getVersion;n=n(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===n:(e=e.mutableReadLanes,(e=(c0&e)===e)&&(t._workInProgressVersionPrimary=n,Nm.push(t))),e)return r(t._source);throw Nm.push(t),Error(nt(350))}function iZ(e,t,r,n){var o=zo;if(o===null)throw Error(nt(349));var i=t._getVersion,f=i(t._source),g=Z_.current,w=g.useState(function(){return LG(o,t,r)}),E=w[1],C=w[0];w=Hi;var q=e.memoizedState,L=q.refs,B=L.getSnapshot,$=q.source;q=q.subscribe;var ee=Xn;return e.memoizedState={refs:L,source:t,subscribe:n},g.useEffect(function(){L.getSnapshot=r,L.setSnapshot=E;var G=i(t._source);if(!fs(f,G)){G=r(t._source),fs(C,G)||(E(G),G=vh(ee),o.mutableReadLanes|=G&o.pendingLanes),G=o.mutableReadLanes,o.entangledLanes|=G;for(var H=o.entanglements,Q=G;0<Q;){var se=31-xh(Q),de=1<<se;H[se]|=G,Q&=~de}}},[r,t,n]),g.useEffect(function(){return n(t._source,function(){var G=L.getSnapshot,H=L.setSnapshot;try{H(G(t._source));var Q=vh(ee);o.mutableReadLanes|=Q&o.pendingLanes}catch(se){H(function(){throw se})}})},[t,n]),fs(B,r)&&fs($,t)&&fs(q,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:C},e.dispatch=E=YR.bind(null,Xn,e),w.queue=e,w.baseQueue=null,C=LG(o,t,r),w.memoizedState=w.baseState=C),C}function oZ(e,t,r){var n=bp();return iZ(n,e,t,r)}function M_(e){var t=pp();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},e=e.dispatch=YR.bind(null,Xn,e),[t.memoizedState,e]}function NE(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xn.updateQueue,t===null?(t={lastEffect:null},Xn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function DG(e){var t=pp();return e={current:e},t.memoizedState=e}function FE(){return bp().memoizedState}function eR(e,t,r,n){var o=pp();Xn.flags|=e,o.memoizedState=NE(1|t,r,void 0,n===void 0?null:n)}function HR(e,t,r,n){var o=bp();n=n===void 0?null:n;var i=void 0;if(yo!==null){var f=yo.memoizedState;if(i=f.destroy,n!==null&&ZR(n,f.deps)){NE(t,r,i,n);return}}Xn.flags|=e,o.memoizedState=NE(1|t,r,i,n)}function kG(e,t){return eR(516,4,e,t)}function zE(e,t){return HR(516,4,e,t)}function aZ(e,t){return HR(4,2,e,t)}function sZ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lZ(e,t,r){return r=r!=null?r.concat([e]):null,HR(4,2,sZ.bind(null,t,e),r)}function KR(){}function uZ(e,t){var r=bp();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ZR(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cZ(e,t){var r=bp();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ZR(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nOe(e,t){var r=Vm();vp(98>r?98:r,function(){e(!0)}),vp(97<r?97:r,function(){var n=ds.transition;ds.transition=1;try{e(!1),t()}finally{ds.transition=n}})}function YR(e,t,r){var n=$a(),o=vh(e),i={lane:o,action:r,eagerReducer:null,eagerState:null,next:null},f=t.pending;if(f===null?i.next=i:(i.next=f.next,f.next=i),t.pending=i,f=e.alternate,e===Xn||f!==null&&f===Xn)W_=kE=!0;else{if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,r);if(i.eagerReducer=f,i.eagerState=w,fs(w,g))return}catch(E){}finally{}gh(e,o,n)}}var jE={readContext:ms,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},iOe={readContext:ms,useCallback:function(e,t){return pp().memoizedState=[e,t===void 0?null:t],e},useContext:ms,useEffect:kG,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,eR(4,2,sZ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return eR(4,2,e,t)},useMemo:function(e,t){var r=pp();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pp();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=YR.bind(null,Xn,e),[n.memoizedState,e]},useRef:DG,useState:M_,useDebugValue:KR,useDeferredValue:function(e){var t=M_(e),r=t[0],n=t[1];return kG(function(){var o=ds.transition;ds.transition=1;try{n(e)}finally{ds.transition=o}},[e]),r},useTransition:function(){var e=M_(!1),t=e[0];return e=nOe.bind(null,e[1]),DG(e),[e,t]},useMutableSource:function(e,t,r){var n=pp();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},iZ(n,e,t,r)},useOpaqueIdentifier:function(){if(Nl){var e=!1,t=XRe(function(){throw e||(e=!0,r("r:"+(_q++).toString(36))),Error(nt(355))}),r=M_(t)[1];return(Xn.mode&2)===0&&(Xn.flags|=516,NE(5,function(){r("r:"+(_q++).toString(36))},void 0,null)),t}return t="r:"+(_q++).toString(36),M_(t),t},unstable_isNewReconciler:!1},oOe={readContext:ms,useCallback:uZ,useContext:ms,useEffect:zE,useImperativeHandle:lZ,useLayoutEffect:aZ,useMemo:cZ,useReducer:P_,useRef:FE,useState:function(){return P_(Ll)},useDebugValue:KR,useDeferredValue:function(e){var t=P_(Ll),r=t[0],n=t[1];return zE(function(){var o=ds.transition;ds.transition=1;try{n(e)}finally{ds.transition=o}},[e]),r},useTransition:function(){var e=P_(Ll)[0];return[FE().current,e]},useMutableSource:oZ,useOpaqueIdentifier:function(){return P_(Ll)[0]},unstable_isNewReconciler:!1},aOe={readContext:ms,useCallback:uZ,useContext:ms,useEffect:zE,useImperativeHandle:lZ,useLayoutEffect:aZ,useMemo:cZ,useReducer:A_,useRef:FE,useState:function(){return A_(Ll)},useDebugValue:KR,useDeferredValue:function(e){var t=A_(Ll),r=t[0],n=t[1];return zE(function(){var o=ds.transition;ds.transition=1;try{n(e)}finally{ds.transition=o}},[e]),r},useTransition:function(){var e=A_(Ll)[0];return[FE().current,e]},useMutableSource:oZ,useOpaqueIdentifier:function(){return A_(Ll)[0]},unstable_isNewReconciler:!1},sOe=_p.ReactCurrentOwner,Ys=!1;function na(e,t,r,n){t.child=e===null?rZ(t,null,r,n):LE(t,e.child,r,n)}function NG(e,t,r,n,o){r=r.render;var i=t.ref;return km(t,o),n=WR(e,t,r,n,i,o),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,$u(e,t,o)):(t.flags|=1,na(e,t,n,o),t.child)}function FG(e,t,r,n,o,i){if(e===null){var f=r.type;return typeof f=="function"&&!rO(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,hZ(e,t,f,n,o,i)):(e=xE(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}return f=e.child,(o&i)===0&&(o=f.memoizedProps,r=r.compare,r=r!==null?r:i0,r(o,n)&&e.ref===t.ref)?$u(e,t,i):(t.flags|=1,e=Eh(f,n),e.ref=t.ref,e.return=t,t.child=e)}function hZ(e,t,r,n,o,i){if(e!==null&&i0(e.memoizedProps,n)&&e.ref===t.ref)if(Ys=!1,(i&o)!==0)(e.flags&16384)!==0&&(Ys=!0);else return t.lanes=e.lanes,$u(e,t,i);return tR(e,t,r,n,i)}function Eq(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if((t.mode&4)===0)t.memoizedState={baseLanes:0},cE(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},cE(t,i!==null?i.baseLanes:r);else return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},cE(t,e),null;}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,cE(t,n);return na(e,t,o,r),t.child}function fZ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function tR(e,t,r,n,o){var i=oa(r)?mp:bo.current;return i=Um(t,i),km(t,o),r=WR(e,t,r,n,i,o),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,$u(e,t,o)):(t.flags|=1,na(e,t,r,o),t.child)}function zG(e,t,r,n,o){if(oa(r)){var i=!0;mE(t)}else i=!1;if(km(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),eZ(t,r,n),Xq(t,r,n,o),n=!0;else if(e===null){var f=t.stateNode,g=t.memoizedProps;f.props=g;var w=f.context,E=r.contextType;typeof E=="object"&&E!==null?E=ms(E):(E=oa(r)?mp:bo.current,E=Um(t,E));var C=r.getDerivedStateFromProps,q=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function";q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==n||w!==E)&&MG(t,f,n,E),ah=!1;var L=t.memoizedState;f.state=L,s0(t,n,f,o),w=t.memoizedState,g!==n||L!==w||ia.current||ah?(typeof C=="function"&&(OE(t,r,C,n),w=t.memoizedState),(g=ah||AG(t,r,g,n,L,w,E))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4)):(typeof f.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=w),f.props=n,f.state=w,f.context=E,n=g):(typeof f.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{f=t.stateNode,J8(e,t),g=t.memoizedProps,E=t.type===t.elementType?g:Ks(t.type,g),f.props=E,q=t.pendingProps,L=f.context,w=r.contextType,typeof w=="object"&&w!==null?w=ms(w):(w=oa(r)?mp:bo.current,w=Um(t,w));var B=r.getDerivedStateFromProps;(C=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==q||L!==w)&&MG(t,f,n,w),ah=!1,L=t.memoizedState,f.state=L,s0(t,n,f,o);var $=t.memoizedState;g!==q||L!==$||ia.current||ah?(typeof B=="function"&&(OE(t,r,B,n),$=t.memoizedState),(E=ah||AG(t,r,E,n,L,$,w))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(n,$,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(n,$,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&L===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=$),f.props=n,f.state=$,f.context=w,n=E):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&L===e.memoizedState||(t.flags|=256),n=!1)}return rR(e,t,r,n,i,o)}function rR(e,t,r,n,o,i){fZ(e,t);var f=(t.flags&64)!==0;if(!n&&!f)return o&&SG(t,r,!1),$u(e,t,i);n=t.stateNode,sOe.current=t;var g=f&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&f?(t.child=LE(t,e.child,null,i),t.child=LE(t,null,g,i)):na(e,t,g,i),t.memoizedState=n.state,o&&SG(t,r,!0),t.child}function jG(e){var t=e.stateNode;t.pendingContext?EG(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EG(e,t.context,!1),Jq(e,t.containerInfo)}var uE={dehydrated:null,retryLane:0};function BG(e,t,r){var n=t.pendingProps,o=zn.current,i=!1,f;return(f=(t.flags&64)!==0)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(i=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(o|=1),jn(zn,o&1),e===null?(n.fallback!==void 0&&Qq(t),e=n.children,o=n.fallback,i?(e=UG(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=uE,e):typeof n.unstable_expectedLoadTime=="number"?(e=UG(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=uE,t.lanes=33554432,e):(r=nO({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?i?(n=$G(e,t,n.children,n.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:r}:{baseLanes:o.baseLanes|r},i.childLanes=e.childLanes&~r,t.memoizedState=uE,n):(r=VG(e,t,n.children,r),t.memoizedState=null,r):i?(n=$G(e,t,n.children,n.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:r}:{baseLanes:o.baseLanes|r},i.childLanes=e.childLanes&~r,t.memoizedState=uE,n):(r=VG(e,t,n.children,r),t.memoizedState=null,r)}function UG(e,t,r,n){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},(o&2)===0&&i!==null?(i.childLanes=0,i.pendingProps=t):i=nO(t,o,0,null),r=jm(r,o,n,null),i.return=e,r.return=e,i.sibling=r,e.child=i,r}function VG(e,t,r,n){var o=e.child;return e=o.sibling,r=Eh(o,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function $G(e,t,r,n,o){var i=t.mode,f=e.child;e=f.sibling;var g={mode:"hidden",children:r};return(i&2)===0&&t.child!==f?(r=t.child,r.childLanes=0,r.pendingProps=g,f=r.lastEffect,f!==null?(t.firstEffect=r.firstEffect,t.lastEffect=f,f.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Eh(f,g),e!==null?n=Eh(e,n):(n=jm(n,i,o,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function GG(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),X8(e.return,t)}function Sq(e,t,r,n,o,i){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o,lastEffect:i}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=n,f.tail=r,f.tailMode=o,f.lastEffect=i)}function ZG(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(na(e,t,n.children,r),n=zn.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&GG(e,r);else if(e.tag===19)GG(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jn(zn,n),(t.mode&2)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&DE(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Sq(t,!1,o,r,i,t.lastEffect);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&DE(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Sq(t,!0,r,null,i,t.lastEffect);break;case"together":Sq(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function $u(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),d0|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,r=Eh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Eh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var pZ,nR,dZ,mZ;pZ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nR=function(){};dZ=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,fp(kl.current);var i=null;switch(r){case"input":o=Mq(e,o),n=Mq(e,n),i=[];break;case"option":o=Oq(e,o),n=Oq(e,n),i=[];break;case"select":o=_n({},o,{value:void 0}),n=_n({},n,{value:void 0}),i=[];break;case"textarea":o=Lq(e,o),n=Lq(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=CE)}Nq(r,n);var f;r=null;for(E in o)if(!n.hasOwnProperty(E)&&o.hasOwnProperty(E)&&o[E]!=null)if(E==="style"){var g=o[E];for(f in g)g.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(X_.hasOwnProperty(E)?i||(i=[]):(i=i||[]).push(E,null));for(E in n){var w=n[E];if(g=o!=null?o[E]:void 0,n.hasOwnProperty(E)&&w!==g&&(w!=null||g!=null))if(E==="style"){if(g){for(f in g)!g.hasOwnProperty(f)||w&&w.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in w)w.hasOwnProperty(f)&&g[f]!==w[f]&&(r||(r={}),r[f]=w[f])}else r||(i||(i=[]),i.push(E,r)),r=w;}else E==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(i=i||[]).push(E,w)):E==="children"?typeof w!="string"&&typeof w!="number"||(i=i||[]).push(E,""+w):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(X_.hasOwnProperty(E)?(w!=null&&E==="onScroll"&&cn("scroll",e),i||g===w||(i=[])):typeof w=="object"&&w!==null&&w.$$typeof===ER?w.toString():(i=i||[]).push(E,w))}r&&(i=i||[]).push("style",r);var E=i;(t.updateQueue=E)&&(t.flags|=4)}};mZ=function(e,t,r,n){r!==n&&(t.flags|=4)};function q_(e,t){if(!Nl)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function lOe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return oa(t.type)&&AE(),null;case 3:return $m(),hn(ia),hn(bo),GR(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lE(t)?t.flags|=4:n.hydrate||(t.flags|=256)),nR(t),null;case 5:$R(t);var o=fp(u0.current);if(r=t.type,e!==null&&t.stateNode!=null)dZ(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(nt(166));return null}if(e=fp(kl.current),lE(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[uh]=t,n[PE]=i,r){case"dialog":cn("cancel",n),cn("close",n);break;case"iframe":case"object":case"embed":cn("load",n);break;case"video":case"audio":for(e=0;e<k_.length;e++)cn(k_[e],n);break;case"source":cn("error",n);break;case"img":case"image":case"link":cn("error",n),cn("load",n);break;case"details":cn("toggle",n);break;case"input":H$(n,i),cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},cn("invalid",n);break;case"textarea":Y$(n,i),cn("invalid",n)}Nq(r,i),e=null;for(var f in i)i.hasOwnProperty(f)&&(o=i[f],f==="children"?typeof o=="string"?n.textContent!==o&&(e=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(e=["children",""+o]):X_.hasOwnProperty(f)&&o!=null&&f==="onScroll"&&cn("scroll",n));switch(r){case"input":Qw(n),K$(n,i,!0);break;case"textarea":Qw(n),X$(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=CE)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(f=o.nodeType===9?o:o.ownerDocument,e===Dq.html&&(e=l8(r)),e===Dq.html?r==="script"?(e=f.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=f.createElement(r,{is:n.is}):(e=f.createElement(r),r==="select"&&(f=e,n.multiple?f.multiple=!0:n.size&&(f.size=n.size))):e=f.createElementNS(e,r),e[uh]=t,e[PE]=n,pZ(e,t,!1,!1),t.stateNode=e,f=Fq(r,n),r){case"dialog":cn("cancel",e),cn("close",e),o=n;break;case"iframe":case"object":case"embed":cn("load",e),o=n;break;case"video":case"audio":for(o=0;o<k_.length;o++)cn(k_[o],e);o=n;break;case"source":cn("error",e),o=n;break;case"img":case"image":case"link":cn("error",e),cn("load",e),o=n;break;case"details":cn("toggle",e),o=n;break;case"input":H$(e,n),o=Mq(e,n),cn("invalid",e);break;case"option":o=Oq(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=_n({},n,{value:void 0}),cn("invalid",e);break;case"textarea":Y$(e,n),o=Lq(e,n),cn("invalid",e);break;default:o=n}Nq(r,o);var g=o;for(i in g)if(g.hasOwnProperty(i)){var w=g[i];i==="style"?h8(e,w):i==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&u8(e,w)):i==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&J_(e,w):typeof w=="number"&&J_(e,""+w):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(X_.hasOwnProperty(i)?w!=null&&i==="onScroll"&&cn("scroll",e):w!=null&&gR(e,i,w,f))}switch(r){case"input":Qw(e),K$(e,n,!1);break;case"textarea":Qw(e),X$(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_h(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rm(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=CE)}U8(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)mZ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(nt(166));r=fp(u0.current),fp(kl.current),lE(t)?(n=t.stateNode,r=t.memoizedProps,n[uh]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uh]=t,t.stateNode=n)}return null;case 13:return hn(zn),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&lE(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(zn.current&1)!==0?Ki===0&&(Ki=3):((Ki===0||Ki===3)&&(Ki=4),zo===null||(d0&134217727)===0&&(Hm&134217727)===0||Fm(zo,xo))),(n||r)&&(t.flags|=4),null);case 4:return $m(),nR(t),e===null&&z8(t.stateNode.containerInfo),null;case 10:return UR(t),null;case 17:return oa(t.type)&&AE(),null;case 19:if(hn(zn),n=t.memoizedState,n===null)return null;if(i=(t.flags&64)!==0,f=n.rendering,f===null){if(i)q_(n,!1);else{if(Ki!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(f=DE(e),f!==null){for(t.flags|=64,q_(n,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,f=i.alternate,f===null?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,e=f.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jn(zn,zn.current&1|2),t.child}e=e.sibling}n.tail!==null&&_o()>uR&&(t.flags|=64,i=!0,q_(n,!1),t.lanes=33554432)}}else{if(!i)if(e=DE(f),e!==null){if(t.flags|=64,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),q_(n,!0),n.tail===null&&n.tailMode==="hidden"&&!f.alternate&&!Nl)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*_o()-n.renderingStartTime>uR&&r!==1073741824&&(t.flags|=64,i=!0,q_(n,!1),t.lanes=33554432);n.isBackwards?(f.sibling=t.child,t.child=f):(r=n.last,r!==null?r.sibling=f:t.child=f,n.last=f)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=_o(),r.sibling=null,t=zn.current,jn(zn,i?t&1|2:t&1),r):null;case 23:case 24:return tO(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(nt(156,t.tag))}function uOe(e){switch(e.tag){case 1:oa(e.type)&&AE();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if($m(),hn(ia),hn(bo),GR(),t=e.flags,(t&64)!==0)throw Error(nt(285));return e.flags=t&-4097|64,e;case 5:return $R(e),null;case 13:return hn(zn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return hn(zn),null;case 4:return $m(),null;case 10:return UR(e),null;case 23:case 24:return tO(),null;default:return null}}function XR(e,t){try{var r="",n=t;do r+=Vqe(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o}}function iR(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cOe=typeof WeakMap=="function"?WeakMap:Map;function vZ(e,t,r){r=dh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){UE||(UE=!0,cR=n),iR(e,t)},r}function gZ(e,t,r){r=dh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return iR(e,t),n(o)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this),iR(e,t));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}var hOe=typeof WeakSet=="function"?WeakSet:Set;function WG(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){yh(e,r)}else t.current=null}function fOe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Ks(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&FR(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(nt(163))}function pOe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;n=o.next,o=o.tag,(o&4)!==0&&(o&1)!==0&&(IZ(r,e),bOe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Ks(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&PG(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}PG(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&U8(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&b8(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(nt(163))}function HG(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var o=r.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,n.style.display=c8("display",o)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function KG(e,t){if(dp&&typeof dp.onCommitFiberUnmount=="function")try{dp.onCommitFiberUnmount(zR,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,o=n.destroy;if(n=n.tag,o!==void 0)if((n&4)!==0)IZ(t,r);else{n=t;try{o()}catch(i){yh(n,i)}}r=r.next}while(r!==e)}break;case 1:if(WG(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){yh(t,i)}break;case 5:WG(t);break;case 4:yZ(e,t)}}function YG(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function XG(e){return e.tag===5||e.tag===3||e.tag===4}function JG(e){e:{for(var t=e.return;t!==null;){if(XG(t))break e;t=t.return}throw Error(nt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(nt(161))}r.flags&16&&(J_(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||XG(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?oR(e,r,t):aR(e,r,t)}function oR(e,t,r){var n=e.tag,o=n===5||n===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=CE));else if(n!==4&&(e=e.child,e!==null))for(oR(e,t,r),e=e.sibling;e!==null;)oR(e,t,r),e=e.sibling}function aR(e,t,r){var n=e.tag,o=n===5||n===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(aR(e,t,r),e=e.sibling;e!==null;)aR(e,t,r),e=e.sibling}function yZ(e,t){for(var r=t,n=!1,o,i;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(nt(160));switch(o=n.stateNode,n.tag){case 5:i=!1;break e;case 3:o=o.containerInfo,i=!0;break e;case 4:o=o.containerInfo,i=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var f=e,g=r,w=g;;)if(KG(f,w),w.child!==null&&w.tag!==4)w.child.return=w,w=w.child;else{if(w===g)break e;for(;w.sibling===null;){if(w.return===null||w.return===g)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i?(f=o,g=r.stateNode,f.nodeType===8?f.parentNode.removeChild(g):f.removeChild(g)):o.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){o=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(KG(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Tq(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var o=e!==null?e.memoizedProps:n;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,i!==null){for(r[PE]=n,e==="input"&&n.type==="radio"&&n.name!=null&&a8(r,n),Fq(e,o),t=Fq(e,n),o=0;o<i.length;o+=2){var f=i[o],g=i[o+1];f==="style"?h8(r,g):f==="dangerouslySetInnerHTML"?u8(r,g):f==="children"?J_(r,g):gR(r,f,g,t)}switch(e){case"input":qq(r,n);break;case"textarea":s8(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,i=n.value,i!=null?Rm(r,!!n.multiple,i,!1):e!==!!n.multiple&&(n.defaultValue!=null?Rm(r,!!n.multiple,n.defaultValue,!0):Rm(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(nt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,b8(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(eO=_o(),HG(t.child,!0)),QG(t);return;case 19:QG(t);return;case 17:return;case 23:case 24:HG(t,t.memoizedState!==null);return}throw Error(nt(163))}function QG(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hOe),t.forEach(function(n){var o=SOe.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function dOe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var mOe=Math.ceil,BE=_p.ReactCurrentDispatcher,JR=_p.ReactCurrentOwner,zt=0,zo=null,bi=null,xo=0,gp=0,sR=Sh(0),Ki=0,tS=null,Wm=0,d0=0,Hm=0,QR=0,lR=null,eO=0,uR=1/0;function Km(){uR=_o()+500}var dt=null,UE=!1,cR=null,Dl=null,wh=!1,H_=null,N_=90,hR=[],fR=[],Gu=null,K_=0,pR=null,gE=-1,Uu=0,yE=0,Y_=null,_E=!1;function $a(){return(zt&48)!==0?_o():gE!==-1?gE:gE=_o()}function vh(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Vm()===99?1:2;if(Uu===0&&(Uu=Wm),rOe.transition!==0){yE!==0&&(yE=lR!==null?lR.pendingLanes:0),e=Uu;var t=4186112&~yE;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Vm(),(zt&4)!==0&&e===98?e=TE(12,Uu):(e=oRe(e),e=TE(e,Uu)),e}function gh(e,t,r){if(50<K_)throw K_=0,pR=null,Error(nt(185));if(e=rS(e,t),e===null)return null;HE(e,t,r),e===zo&&(Hm|=t,Ki===4&&Fm(e,xo));var n=Vm();t===1?(zt&8)!==0&&(zt&48)===0?dR(e):(vs(e,r),zt===0&&(Km(),Fl())):((zt&4)===0||n!==98&&n!==99||(Gu===null?Gu=new Set([e]):Gu.add(e)),vs(e,r)),lR=e}function rS(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function vs(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-xh(f),w=1<<g,E=i[g];if(E===-1){if((w&n)===0||(w&o)!==0){E=t,Em(w);var C=Qr;i[g]=10<=C?E+250:6<=C?E+5e3:-1}}else E<=t&&(e.expiredLanes|=w);f&=~w}if(n=r0(e,e===zo?xo:0),t=Qr,n===0)r!==null&&(r!==xq&&Kq(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==xq&&Kq(r)}t===15?(r=dR.bind(null,e),Bu===null?(Bu=[r],vE=jR(QE,Y8)):Bu.push(r),r=xq):t===14?r=a0(99,dR.bind(null,e)):(r=aRe(t),r=a0(r,_Z.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function _Z(e){if(gE=-1,yE=Uu=0,(zt&48)!==0)throw Error(nt(327));var t=e.callbackNode;if(Th()&&e.callbackNode!==t)return null;var r=r0(e,e===zo?xo:0);if(r===0)return null;var n=r,o=zt;zt|=16;var i=EZ();(zo!==e||xo!==n)&&(Km(),zm(e,n));do try{yOe();break}catch(g){wZ(e,g)}while(!0);if(BR(),BE.current=i,zt=o,bi!==null?n=0:(zo=null,xo=0,n=Ki),(Wm&Hm)!==0)zm(e,0);else if(n!==0){if(n===2&&(zt|=64,e.hydrate&&(e.hydrate=!1,FR(e.containerInfo)),r=P8(e),r!==0&&(n=F_(e,r))),n===1)throw t=tS,zm(e,0),Fm(e,r),vs(e,_o()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(nt(345));case 2:lp(e);break;case 3:if(Fm(e,r),(r&62914560)===r&&(n=eO+500-_o(),10<n)){if(r0(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$a(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xG(lp.bind(null,e),n);break}lp(e);break;case 4:if(Fm(e,r),(r&4186112)===r)break;for(n=e.eventTimes,o=-1;0<r;){var f=31-xh(r);i=1<<f,f=n[f],f>o&&(o=f),r&=~i}if(r=o,r=_o()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mOe(r/1960))-r,10<r){e.timeoutHandle=xG(lp.bind(null,e),r);break}lp(e);break;case 5:lp(e);break;default:throw Error(nt(329))}}return vs(e,_o()),e.callbackNode===t?_Z.bind(null,e):null}function Fm(e,t){for(t&=~QR,t&=~Hm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xh(t),n=1<<r;e[r]=-1,t&=~n}}function dR(e){if((zt&48)!==0)throw Error(nt(327));if(Th(),e===zo&&(e.expiredLanes&xo)!==0){var t=xo,r=F_(e,t);(Wm&Hm)!==0&&(t=r0(e,t),r=F_(e,t))}else t=r0(e,0),r=F_(e,t);if(e.tag!==0&&r===2&&(zt|=64,e.hydrate&&(e.hydrate=!1,FR(e.containerInfo)),t=P8(e),t!==0&&(r=F_(e,t))),r===1)throw r=tS,zm(e,0),Fm(e,t),vs(e,_o()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,lp(e),vs(e,_o()),null}function vOe(){if(Gu!==null){var e=Gu;Gu=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,vs(t,_o())})}Fl()}function xZ(e,t){var r=zt;zt|=1;try{return e(t)}finally{zt=r,zt===0&&(Km(),Fl())}}function bZ(e,t){var r=zt;zt&=-2,zt|=8;try{return e(t)}finally{zt=r,zt===0&&(Km(),Fl())}}function cE(e,t){jn(sR,gp),gp|=t,Wm|=t}function tO(){gp=sR.current,hn(sR)}function zm(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YRe(r)),bi!==null)for(r=bi.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&AE();break;case 3:$m(),hn(ia),hn(bo),GR();break;case 5:$R(n);break;case 4:$m();break;case 13:hn(zn);break;case 19:hn(zn);break;case 10:UR(n);break;case 23:case 24:tO()}r=r.return}zo=e,bi=Eh(e.current,null),xo=gp=Wm=t,Ki=0,tS=null,QR=Hm=d0=0}function wZ(e,t){do{var r=bi;try{if(BR(),Z_.current=jE,kE){for(var n=Xn.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}kE=!1}if(c0=0,Hi=yo=Xn=null,W_=!1,JR.current=null,r===null||r.return===null){Ki=1,tS=t,bi=null;break}e:{var i=e,f=r.return,g=r,w=t;if(t=xo,g.flags|=2048,g.firstEffect=g.lastEffect=null,w!==null&&typeof w=="object"&&typeof w.then=="function"){var E=w;if((g.mode&2)===0){var C=g.alternate;C?(g.updateQueue=C.updateQueue,g.memoizedState=C.memoizedState,g.lanes=C.lanes):(g.updateQueue=null,g.memoizedState=null)}var q=(zn.current&1)!==0,L=f;do{var B;if(B=L.tag===13){var $=L.memoizedState;if($!==null)B=$.dehydrated!==null;else{var ee=L.memoizedProps;B=ee.fallback===void 0?!1:ee.unstable_avoidThisFallback!==!0?!0:!q}}if(B){var G=L.updateQueue;if(G===null){var H=new Set;H.add(E),L.updateQueue=H}else G.add(E);if((L.mode&2)===0){if(L.flags|=64,g.flags|=16384,g.flags&=-2981,g.tag===1)if(g.alternate===null)g.tag=17;else{var Q=dh(-1,1);Q.tag=2,mh(g,Q)}g.lanes|=1;break e}w=void 0,g=t;var se=i.pingCache;if(se===null?(se=i.pingCache=new cOe,w=new Set,se.set(E,w)):(w=se.get(E),w===void 0&&(w=new Set,se.set(E,w))),!w.has(g)){w.add(g);var de=EOe.bind(null,i,E,g);E.then(de,de)}L.flags|=4096,L.lanes=t;break e}L=L.return}while(L!==null);w=Error((qm(g.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ki!==5&&(Ki=2),w=XR(w,g),L=f;do{switch(L.tag){case 3:i=w,L.flags|=4096,t&=-t,L.lanes|=t;var De=vZ(L,i,t);CG(L,De);break e;case 1:i=w;var Ne=L.type,ke=L.stateNode;if((L.flags&64)===0&&(typeof Ne.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(Dl===null||!Dl.has(ke)))){L.flags|=4096,t&=-t,L.lanes|=t;var Ge=gZ(L,i,t);CG(L,Ge);break e}}L=L.return}while(L!==null)}TZ(r)}catch(rt){t=rt,bi===r&&r!==null&&(bi=r=r.return);continue}break}while(!0)}function EZ(){var e=BE.current;return BE.current=jE,e===null?jE:e}function F_(e,t){var r=zt;zt|=16;var n=EZ();zo===e&&xo===t||zm(e,t);do try{gOe();break}catch(o){wZ(e,o)}while(!0);if(BR(),zt=r,BE.current=n,bi!==null)throw Error(nt(261));return zo=null,xo=0,Ki}function gOe(){for(;bi!==null;)SZ(bi)}function yOe(){for(;bi!==null&&!QRe();)SZ(bi)}function SZ(e){var t=CZ(e.alternate,e,gp);e.memoizedProps=e.pendingProps,t===null?TZ(e):bi=t,JR.current=null}function TZ(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=lOe(r,t,gp),r!==null){bi=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(gp&1073741824)!==0||(r.mode&4)===0){for(var n=0,o=r.child;o!==null;)n|=o.lanes|o.childLanes,o=o.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=uOe(t),r!==null){r.flags&=2047,bi=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){bi=t;return}bi=t=e}while(t!==null);Ki===0&&(Ki=5)}function lp(e){var t=Vm();return vp(99,_Oe.bind(null,e,t)),null}function _Oe(e,t){do Th();while(H_!==null);if((zt&48)!==0)throw Error(nt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(nt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,o=n,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var f=e.eventTimes,g=e.expirationTimes;0<i;){var w=31-xh(i),E=1<<w;o[w]=0,f[w]=-1,g[w]=-1,i&=~E}if(Gu!==null&&(n&24)===0&&Gu.has(e)&&Gu.delete(e),e===zo&&(bi=zo=null,xo=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(o=zt,zt|=32,JR.current=null,gq=fE,f=dG(),$q(f)){if("selectionStart"in f)g={start:f.selectionStart,end:f.selectionEnd};else e:if(g=(g=f.ownerDocument)&&g.defaultView||window,(E=g.getSelection&&g.getSelection())&&E.rangeCount!==0){g=E.anchorNode,i=E.anchorOffset,w=E.focusNode,E=E.focusOffset;try{g.nodeType,w.nodeType}catch(rt){g=null;break e}var C=0,q=-1,L=-1,B=0,$=0,ee=f,G=null;t:for(;;){for(var H;ee!==g||i!==0&&ee.nodeType!==3||(q=C+i),ee!==w||E!==0&&ee.nodeType!==3||(L=C+E),ee.nodeType===3&&(C+=ee.nodeValue.length),(H=ee.firstChild)!==null;)G=ee,ee=H;for(;;){if(ee===f)break t;if(G===g&&++B===i&&(q=C),G===w&&++$===E&&(L=C),(H=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=H}g=q===-1||L===-1?null:{start:q,end:L}}else g=null;g=g||{start:0,end:0}}else g=null;yq={focusedElem:f,selectionRange:g},fE=!1,Y_=null,_E=!1,dt=n;do try{xOe()}catch(rt){if(dt===null)throw Error(nt(330));yh(dt,rt),dt=dt.nextEffect}while(dt!==null);Y_=null,dt=n;do try{for(f=e;dt!==null;){var Q=dt.flags;if(Q&16&&J_(dt.stateNode,""),Q&128){var se=dt.alternate;if(se!==null){var de=se.ref;de!==null&&(typeof de=="function"?de(null):de.current=null)}}switch(Q&1038){case 2:JG(dt),dt.flags&=-3;break;case 6:JG(dt),dt.flags&=-3,Tq(dt.alternate,dt);break;case 1024:dt.flags&=-1025;break;case 1028:dt.flags&=-1025,Tq(dt.alternate,dt);break;case 4:Tq(dt.alternate,dt);break;case 8:g=dt,yZ(f,g);var De=g.alternate;YG(g),De!==null&&YG(De)}dt=dt.nextEffect}}catch(rt){if(dt===null)throw Error(nt(330));yh(dt,rt),dt=dt.nextEffect}while(dt!==null);if(de=yq,se=dG(),Q=de.focusedElem,f=de.selectionRange,se!==Q&&Q&&Q.ownerDocument&&k8(Q.ownerDocument.documentElement,Q)){for(f!==null&&$q(Q)&&(se=f.start,de=f.end,de===void 0&&(de=se),"selectionStart"in Q?(Q.selectionStart=se,Q.selectionEnd=Math.min(de,Q.value.length)):(de=(se=Q.ownerDocument||document)&&se.defaultView||window,de.getSelection&&(de=de.getSelection(),g=Q.textContent.length,De=Math.min(f.start,g),f=f.end===void 0?De:Math.min(f.end,g),!de.extend&&De>f&&(g=f,f=De,De=g),g=pG(Q,De),i=pG(Q,f),g&&i&&(de.rangeCount!==1||de.anchorNode!==g.node||de.anchorOffset!==g.offset||de.focusNode!==i.node||de.focusOffset!==i.offset)&&(se=se.createRange(),se.setStart(g.node,g.offset),de.removeAllRanges(),De>f?(de.addRange(se),de.extend(i.node,i.offset)):(se.setEnd(i.node,i.offset),de.addRange(se)))))),se=[],de=Q;de=de.parentNode;)de.nodeType===1&&se.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<se.length;Q++)de=se[Q],de.element.scrollLeft=de.left,de.element.scrollTop=de.top}fE=!!gq,yq=gq=null,e.current=r,dt=n;do try{for(Q=e;dt!==null;){var Ne=dt.flags;if(Ne&36&&pOe(Q,dt.alternate,dt),Ne&128){se=void 0;var ke=dt.ref;if(ke!==null){var Ge=dt.stateNode;switch(dt.tag){case 5:se=Ge;break;default:se=Ge}typeof ke=="function"?ke(se):ke.current=se}}dt=dt.nextEffect}}catch(rt){if(dt===null)throw Error(nt(330));yh(dt,rt),dt=dt.nextEffect}while(dt!==null);dt=null,tOe(),zt=o}else e.current=r;if(wh)wh=!1,H_=e,N_=t;else for(dt=n;dt!==null;)t=dt.nextEffect,dt.nextEffect=null,dt.flags&8&&(Ne=dt,Ne.sibling=null,Ne.stateNode=null),dt=t;if(n=e.pendingLanes,n===0&&(Dl=null),n===1?e===pR?K_++:(K_=0,pR=e):K_=0,r=r.stateNode,dp&&typeof dp.onCommitFiberRoot=="function")try{dp.onCommitFiberRoot(zR,r,void 0,(r.current.flags&64)===64)}catch(rt){}if(vs(e,_o()),UE)throw UE=!1,e=cR,cR=null,e;return(zt&8)!==0||Fl(),null}function xOe(){for(;dt!==null;){var e=dt.alternate;_E||Y_===null||((dt.flags&8)!==0?eG(dt,Y_)&&(_E=!0):dt.tag===13&&dOe(e,dt)&&eG(dt,Y_)&&(_E=!0));var t=dt.flags;(t&256)!==0&&fOe(e,dt),(t&512)===0||wh||(wh=!0,a0(97,function(){return Th(),null})),dt=dt.nextEffect}}function Th(){if(N_!==90){var e=97<N_?97:N_;return N_=90,vp(e,wOe)}return!1}function bOe(e,t){hR.push(t,e),wh||(wh=!0,a0(97,function(){return Th(),null}))}function IZ(e,t){fR.push(t,e),wh||(wh=!0,a0(97,function(){return Th(),null}))}function wOe(){if(H_===null)return!1;var e=H_;if(H_=null,(zt&48)!==0)throw Error(nt(331));var t=zt;zt|=32;var r=fR;fR=[];for(var n=0;n<r.length;n+=2){var o=r[n],i=r[n+1],f=o.destroy;if(o.destroy=void 0,typeof f=="function")try{f()}catch(w){if(i===null)throw Error(nt(330));yh(i,w)}}for(r=hR,hR=[],n=0;n<r.length;n+=2){o=r[n],i=r[n+1];try{var g=o.create;o.destroy=g()}catch(w){if(i===null)throw Error(nt(330));yh(i,w)}}for(g=e.current.firstEffect;g!==null;)e=g.nextEffect,g.nextEffect=null,g.flags&8&&(g.sibling=null,g.stateNode=null),g=e;return zt=t,Fl(),!0}function e8(e,t,r){t=XR(r,t),t=vZ(e,t,1),mh(e,t),t=$a(),e=rS(e,1),e!==null&&(HE(e,1,t),vs(e,t))}function yh(e,t){if(e.tag===3)e8(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){e8(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dl===null||!Dl.has(n))){e=XR(t,e);var o=gZ(r,e,1);if(mh(r,o),o=$a(),r=rS(r,1),r!==null)HE(r,1,o),vs(r,o);else if(typeof n.componentDidCatch=="function"&&(Dl===null||!Dl.has(n)))try{n.componentDidCatch(t,e)}catch(i){}break}}r=r.return}}function EOe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$a(),e.pingedLanes|=e.suspendedLanes&r,zo===e&&(xo&r)===r&&(Ki===4||Ki===3&&(xo&62914560)===xo&&500>_o()-eO?zm(e,0):QR|=r),vs(e,t)}function SOe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Vm()===99?1:2:(Uu===0&&(Uu=Wm),t=Sm(62914560&~Uu),t===0&&(t=4194304))),r=$a(),e=rS(e,t),e!==null&&(HE(e,t,r),vs(e,r))}var CZ;CZ=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||ia.current)Ys=!0;else if((r&n)!==0)Ys=(e.flags&16384)!==0;else{switch(Ys=!1,t.tag){case 3:jG(t),wq();break;case 5:qG(t);break;case 1:oa(t.type)&&mE(t);break;case 4:Jq(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var o=t.type._context;jn(ME,o._currentValue),o._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?BG(e,t,r):(jn(zn,zn.current&1),t=$u(e,t,r),t!==null?t.sibling:null);jn(zn,zn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return ZG(e,t,r);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),jn(zn,zn.current),n)break;return null;case 23:case 24:return t.lanes=0,Eq(e,t,r)}return $u(e,t,r)}}else Ys=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Um(t,bo.current),km(t,r),o=WR(null,t,n,e,o,r),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,oa(n)){var i=!0;mE(t)}else i=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,VR(t);var f=n.getDerivedStateFromProps;typeof f=="function"&&OE(t,n,f,e),o.updater=eS,t.stateNode=o,o._reactInternals=t,Xq(t,n,e,r),t=rR(null,t,n,!0,i,r)}else t.tag=0,na(null,t,o,r),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=IOe(o),e=Ks(o,e),i){case 0:t=tR(null,t,o,e,r);break e;case 1:t=zG(null,t,o,e,r);break e;case 11:t=NG(null,t,o,e,r);break e;case 14:t=FG(null,t,o,Ks(o.type,e),n,r);break e}throw Error(nt(306,o,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ks(n,o),tR(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ks(n,o),zG(e,t,n,o,r);case 3:if(jG(t),n=t.updateQueue,e===null||n===null)throw Error(nt(282));if(n=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,J8(e,t),s0(t,n,null,r),n=t.memoizedState.element,n===o)wq(),t=$u(e,t,r);else{if(o=t.stateNode,(i=o.hydrate)&&(ch=Dm(t.stateNode.containerInfo.firstChild),Vu=t,i=Nl=!0),i){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)i=e[o],i._workInProgressVersionPrimary=e[o+1],Nm.push(i);for(r=rZ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else na(e,t,n,r),wq();t=t.child}return t;case 5:return qG(t),e===null&&Qq(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,f=o.children,Wq(n,o)?f=null:i!==null&&Wq(n,i)&&(t.flags|=16),fZ(e,t),na(e,t,f,r),t.child;case 6:return e===null&&Qq(t),null;case 13:return BG(e,t,r);case 4:return Jq(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=LE(t,null,n,r):na(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ks(n,o),NG(e,t,n,o,r);case 7:return na(e,t,t.pendingProps,r),t.child;case 8:return na(e,t,t.pendingProps.children,r),t.child;case 12:return na(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,o=t.pendingProps,f=t.memoizedProps,i=o.value;var g=t.type._context;if(jn(ME,g._currentValue),g._currentValue=i,f!==null)if(g=f.value,i=fs(g,i)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(g,i):1073741823)|0,i===0){if(f.children===o.children&&!ia.current){t=$u(e,t,r);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var w=g.dependencies;if(w!==null){f=g.child;for(var E=w.firstContext;E!==null;){if(E.context===n&&(E.observedBits&i)!==0){g.tag===1&&(E=dh(-1,r&-r),E.tag=2,mh(g,E)),g.lanes|=r,E=g.alternate,E!==null&&(E.lanes|=r),X8(g.return,r),w.lanes|=r;break}E=E.next}}else f=g.tag===10&&g.type===t.type?null:g.child;if(f!==null)f.return=g;else for(f=g;f!==null;){if(f===t){f=null;break}if(g=f.sibling,g!==null){g.return=f.return,f=g;break}f=f.return}g=f}na(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps,n=i.children,km(t,r),o=ms(o,i.unstable_observedBits),n=n(o),t.flags|=1,na(e,t,n,r),t.child;case 14:return o=t.type,i=Ks(o,t.pendingProps),i=Ks(o.type,i),FG(e,t,o,i,n,r);case 15:return hZ(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ks(n,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,oa(n)?(e=!0,mE(t)):e=!1,km(t,r),eZ(t,n,o),Xq(t,n,o,r),rR(null,t,n,!0,e,r);case 19:return ZG(e,t,r);case 23:return Eq(e,t,r);case 24:return Eq(e,t,r)}throw Error(nt(156,t.tag))};function TOe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,r,n){return new TOe(e,t,r,n)}function rO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IOe(e){if(typeof e=="function")return rO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===GE)return 11;if(e===ZE)return 14}return 2}function Eh(e,t){var r=e.alternate;return r===null?(r=ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xE(e,t,r,n,o,i){var f=2;if(n=e,typeof e=="function")rO(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case sh:return jm(r.children,o,i,t);case n8:f=8,o|=16;break;case yR:f=8,o|=1;break;case z_:return e=ps(12,r,t,o|8),e.elementType=z_,e.type=z_,e.lanes=i,e;case j_:return e=ps(13,r,t,o),e.type=j_,e.elementType=j_,e.lanes=i,e;case bE:return e=ps(19,r,t,o),e.elementType=bE,e.lanes=i,e;case SR:return nO(r,o,i,t);case Aq:return e=ps(24,r,t,o),e.elementType=Aq,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _R:f=10;break e;case xR:f=9;break e;case GE:f=11;break e;case ZE:f=14;break e;case bR:f=16,n=null;break e;case wR:f=22;break e}throw Error(nt(130,e==null?e:typeof e,""))}return t=ps(f,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function jm(e,t,r,n){return e=ps(7,e,n,t),e.lanes=r,e}function nO(e,t,r,n){return e=ps(23,e,n,t),e.elementType=SR,e.lanes=r,e}function Iq(e,t,r){return e=ps(6,e,null,t),e.lanes=r,e}function Cq(e,t,r){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function COe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=hq(0),this.expirationTimes=hq(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hq(0),this.mutableSourceEagerHydrationData=null}function POe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:up,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function VE(e,t,r,n){var o=t.current,i=$a(),f=vh(o);e:if(r){r=r._reactInternals;t:{if(xp(r)!==r||r.tag!==1)throw Error(nt(170));var g=r;do{switch(g.tag){case 3:g=g.stateNode.context;break t;case 1:if(oa(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break t}}g=g.return}while(g!==null);throw Error(nt(171))}if(r.tag===1){var w=r.type;if(oa(w)){r=$8(r,w,g);break e}}r=g}else r=bh;return t.context===null?t.context=r:t.pendingContext=r,t=dh(i,f),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),mh(o,t),gh(o,f,i),f}function Pq(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iO(e,t){t8(e,t),(e=e.alternate)&&t8(e,t)}function AOe(){return null}function oO(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new COe(e,t,r!=null&&r.hydrate===!0),t=ps(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,VR(t),e[Zm]=r.current,z8(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var o=t._getVersion;o=o(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,o]:r.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=r}oO.prototype.render=function(e){VE(e,this._internalRoot,null,null)};oO.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;VE(null,e,null,function(){t[Zm]=null})};function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MOe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new oO(e,0,t?{hydrate:!0}:void 0)}function nS(e,t,r,n,o){var i=r._reactRootContainer;if(i){var f=i._internalRoot;if(typeof o=="function"){var g=o;o=function(){var E=Pq(f);g.call(E)}}VE(t,f,e,o)}else{if(i=r._reactRootContainer=MOe(r,n),f=i._internalRoot,typeof o=="function"){var w=o;o=function(){var E=Pq(f);w.call(E)}}bZ(function(){VE(t,f,e,o)})}return Pq(f)}y8=function(e){if(e.tag===13){var t=$a();gh(e,4,t),iO(e,4)}};AR=function(e){if(e.tag===13){var t=$a();gh(e,67108864,t),iO(e,67108864)}};_8=function(e){if(e.tag===13){var t=$a(),r=vh(e);gh(e,r,t),iO(e,r)}};x8=function(e,t){return t()};zq=function(e,t,r){switch(t){case"input":if(qq(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=JE(n);if(!o)throw Error(nt(90));o8(n),qq(n,o)}}}break;case"textarea":s8(e,r);break;case"select":t=r.value,t!=null&&Rm(e,!!r.multiple,t,!1)}};IR=xZ;d8=function(e,t,r,n,o){var i=zt;zt|=4;try{return vp(98,e.bind(null,t,r,n,o))}finally{zt=i,zt===0&&(Km(),Fl())}};CR=function(){(zt&49)===0&&(vOe(),Th())};m8=function(e,t){var r=zt;zt|=2;try{return e(t)}finally{zt=r,zt===0&&(Km(),Fl())}};function PZ(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(t))throw Error(nt(200));return POe(e,t,null,r)}var qOe={Events:[f0,Pm,JE,f8,p8,Th,{current:!1}]},R_={findFiberByHostInstance:hp,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ROe={bundleType:R_.bundleType,version:R_.version,rendererPackageName:R_.rendererPackageName,rendererConfig:R_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_p.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g8(e),e===null?null:e.stateNode},findFiberByHostInstance:R_.findFiberByHostInstance||AOe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(O_=__REACT_DEVTOOLS_GLOBAL_HOOK__,!O_.isDisabled&&O_.supportsFiber))try{zR=O_.inject(ROe),dp=O_}catch(e){}var O_;gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qOe;gs.createPortal=PZ;gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):Error(nt(268,Object.keys(e)));return e=g8(t),e=e===null?null:e.stateNode,e};gs.flushSync=function(e,t){var r=zt;if((r&48)!==0)return e(t);zt|=1;try{if(e)return vp(99,e.bind(null,t))}finally{zt=r,Fl()}};gs.hydrate=function(e,t,r){if(!m0(t))throw Error(nt(200));return nS(null,e,t,!0,r)};gs.render=function(e,t,r){if(!m0(t))throw Error(nt(200));return nS(null,e,t,!1,r)};gs.unmountComponentAtNode=function(e){if(!m0(e))throw Error(nt(40));return e._reactRootContainer?(bZ(function(){nS(null,null,e,!1,function(){e._reactRootContainer=null,e[Zm]=null})}),!0):!1};gs.unstable_batchedUpdates=xZ;gs.unstable_createPortal=function(e,t){return PZ(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};gs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!m0(r))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return nS(e,t,r,!1,n)};gs.version="17.0.2"});var ys=P((eUt,qZ)=>{"use strict";h();function MZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MZ)}catch(e){console.error(e)}}MZ(),qZ.exports=AZ()});var it=P((aO,RZ)=>{"use strict";h();var v0=function(e){return e&&e.Math===Math&&e};RZ.exports=v0(typeof globalThis=="object"&&globalThis)||v0(typeof window=="object"&&window)||v0(typeof self=="object"&&self)||v0(typeof global=="object"&&global)||v0(typeof aO=="object"&&aO)||function(){return this}()||Function("return this")()});var We=P((nUt,OZ)=>{"use strict";h();OZ.exports=function(e){try{return!!e()}catch(t){return!0}}});var vt=P((oUt,LZ)=>{"use strict";h();var OOe=We();LZ.exports=!OOe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var Ym=P((sUt,DZ)=>{"use strict";h();var LOe=We();DZ.exports=!LOe(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var ot=P((uUt,kZ)=>{"use strict";h();var DOe=Ym(),iS=Function.prototype.call;kZ.exports=DOe?iS.bind(iS):function(){return iS.apply(iS,arguments)}});var g0=P(zZ=>{"use strict";h();var NZ={}.propertyIsEnumerable,FZ=Object.getOwnPropertyDescriptor,kOe=FZ&&!NZ.call({1:2},1);zZ.f=kOe?function(t){var r=FZ(this,t);return!!r&&r.enumerable}:NZ});var aa=P((pUt,jZ)=>{"use strict";h();jZ.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var Be=P((mUt,VZ)=>{"use strict";h();var BZ=Ym(),UZ=Function.prototype,sO=UZ.call,NOe=BZ&&UZ.bind.bind(sO,sO);VZ.exports=BZ?NOe:function(e){return function(){return sO.apply(e,arguments)}}});var Xi=P((gUt,GZ)=>{"use strict";h();var $Z=Be(),FOe=$Z({}.toString),zOe=$Z("".slice);GZ.exports=function(e){return zOe(FOe(e),8,-1)}});var Wu=P((_Ut,ZZ)=>{"use strict";h();var jOe=Be(),BOe=We(),UOe=Xi(),lO=Object,VOe=jOe("".split);ZZ.exports=BOe(function(){return!lO("z").propertyIsEnumerable(0)})?function(e){return UOe(e)==="String"?VOe(e,""):lO(e)}:lO});var sa=P((bUt,WZ)=>{"use strict";h();WZ.exports=function(e){return e==null}});var Hr=P((EUt,HZ)=>{"use strict";h();var $Oe=sa(),GOe=TypeError;HZ.exports=function(e){if($Oe(e))throw new GOe("Can't call method on "+e);return e}});var si=P((TUt,KZ)=>{"use strict";h();var ZOe=Wu(),WOe=Hr();KZ.exports=function(e){return ZOe(WOe(e))}});var jt=P((CUt,YZ)=>{"use strict";h();var uO=typeof document=="object"&&document.all;YZ.exports=typeof uO=="undefined"&&uO!==void 0?function(e){return typeof e=="function"||e===uO}:function(e){return typeof e=="function"}});var wt=P((AUt,XZ)=>{"use strict";h();var HOe=jt();XZ.exports=function(e){return typeof e=="object"?e!==null:HOe(e)}});var Ct=P((qUt,JZ)=>{"use strict";h();var cO=it(),KOe=jt(),YOe=function(e){return KOe(e)?e:void 0};JZ.exports=function(e,t){return arguments.length<2?YOe(cO[e]):cO[e]&&cO[e][t]}});var Ji=P((OUt,QZ)=>{"use strict";h();var XOe=Be();QZ.exports=XOe({}.isPrototypeOf)});var Xs=P((DUt,rW)=>{"use strict";h();var JOe=it(),eW=JOe.navigator,tW=eW&&eW.userAgent;rW.exports=tW?String(tW):""});var Qs=P((NUt,lW)=>{"use strict";h();var sW=it(),hO=Xs(),nW=sW.process,iW=sW.Deno,oW=nW&&nW.versions||iW&&iW.version,aW=oW&&oW.v8,Js,oS;aW&&(Js=aW.split("."),oS=Js[0]>0&&Js[0]<4?1:+(Js[0]+Js[1]));!oS&&hO&&(Js=hO.match(/Edge\/(\d+)/),(!Js||Js[1]>=74)&&(Js=hO.match(/Chrome\/(\d+)/),Js&&(oS=+Js[1])));lW.exports=oS});var Ih=P((zUt,cW)=>{"use strict";h();var uW=Qs(),QOe=We(),eLe=it(),tLe=eLe.String;cW.exports=!!Object.getOwnPropertySymbols&&!QOe(function(){var e=Symbol("symbol detection");return!tLe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&uW&&uW<41})});var fO=P((BUt,hW)=>{"use strict";h();var rLe=Ih();hW.exports=rLe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Hu=P((VUt,fW)=>{"use strict";h();var nLe=Ct(),iLe=jt(),oLe=Ji(),aLe=fO(),sLe=Object;fW.exports=aLe?function(e){return typeof e=="symbol"}:function(e){var t=nLe("Symbol");return iLe(t)&&oLe(t.prototype,sLe(e))}});var Ch=P((GUt,pW)=>{"use strict";h();var lLe=String;pW.exports=function(e){try{return lLe(e)}catch(t){return"Object"}}});var Pt=P((WUt,dW)=>{"use strict";h();var uLe=jt(),cLe=Ch(),hLe=TypeError;dW.exports=function(e){if(uLe(e))return e;throw new hLe(cLe(e)+" is not a function")}});var Bn=P((KUt,mW)=>{"use strict";h();var fLe=Pt(),pLe=sa();mW.exports=function(e,t){var r=e[t];return pLe(r)?void 0:fLe(r)}});var vO=P((XUt,vW)=>{"use strict";h();var pO=ot(),dO=jt(),mO=wt(),dLe=TypeError;vW.exports=function(e,t){var r,n;if(t==="string"&&dO(r=e.toString)&&!mO(n=pO(r,e))||dO(r=e.valueOf)&&!mO(n=pO(r,e))||t!=="string"&&dO(r=e.toString)&&!mO(n=pO(r,e)))return n;throw new dLe("Can't convert object to primitive value")}});var fr=P((QUt,gW)=>{"use strict";h();gW.exports=!1});var aS=P((t4t,_W)=>{"use strict";h();var yW=it(),mLe=Object.defineProperty;_W.exports=function(e,t){try{mLe(yW,e,{value:t,configurable:!0,writable:!0})}catch(r){yW[e]=t}return t}});var y0=P((n4t,wW)=>{"use strict";h();var vLe=fr(),gLe=it(),yLe=aS(),xW="__core-js_shared__",bW=wW.exports=gLe[xW]||yLe(xW,{});(bW.versions||(bW.versions=[])).push({version:"3.42.0",mode:vLe?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Ku=P((o4t,SW)=>{"use strict";h();var EW=y0();SW.exports=function(e,t){return EW[e]||(EW[e]=t||{})}});var Jt=P((s4t,TW)=>{"use strict";h();var _Le=Hr(),xLe=Object;TW.exports=function(e){return xLe(_Le(e))}});var Vt=P((u4t,IW)=>{"use strict";h();var bLe=Be(),wLe=Jt(),ELe=bLe({}.hasOwnProperty);IW.exports=Object.hasOwn||function(t,r){return ELe(wLe(t),r)}});var Ph=P((h4t,CW)=>{"use strict";h();var SLe=Be(),TLe=0,ILe=Math.random(),CLe=SLe(1 .toString);CW.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+CLe(++TLe+ILe,36)}});var St=P((p4t,AW)=>{"use strict";h();var PLe=it(),ALe=Ku(),PW=Vt(),MLe=Ph(),qLe=Ih(),RLe=fO(),Xm=PLe.Symbol,gO=ALe("wks"),OLe=RLe?Xm.for||Xm:Xm&&Xm.withoutSetter||MLe;AW.exports=function(e){return PW(gO,e)||(gO[e]=qLe&&PW(Xm,e)?Xm[e]:OLe("Symbol."+e)),gO[e]}});var _0=P((m4t,RW)=>{"use strict";h();var LLe=ot(),MW=wt(),qW=Hu(),DLe=Bn(),kLe=vO(),NLe=St(),FLe=TypeError,zLe=NLe("toPrimitive");RW.exports=function(e,t){if(!MW(e)||qW(e))return e;var r=DLe(e,zLe),n;if(r){if(t===void 0&&(t="default"),n=LLe(r,e,t),!MW(n)||qW(n))return n;throw new FLe("Can't convert object to primitive value")}return t===void 0&&(t="number"),kLe(e,t)}});var zl=P((g4t,OW)=>{"use strict";h();var jLe=_0(),BLe=Hu();OW.exports=function(e){var t=jLe(e,"string");return BLe(t)?t:t+""}});var x0=P((_4t,DW)=>{"use strict";h();var ULe=it(),LW=wt(),yO=ULe.document,VLe=LW(yO)&&LW(yO.createElement);DW.exports=function(e){return VLe?yO.createElement(e):{}}});var _O=P((b4t,kW)=>{"use strict";h();var $Le=vt(),GLe=We(),ZLe=x0();kW.exports=!$Le&&!GLe(function(){return Object.defineProperty(ZLe("div"),"a",{get:function(){return 7}}).a!==7})});var Oi=P(FW=>{"use strict";h();var WLe=vt(),HLe=ot(),KLe=g0(),YLe=aa(),XLe=si(),JLe=zl(),QLe=Vt(),eDe=_O(),NW=Object.getOwnPropertyDescriptor;FW.f=WLe?NW:function(t,r){if(t=XLe(t),r=JLe(r),eDe)try{return NW(t,r)}catch(n){}if(QLe(t,r))return YLe(!HLe(KLe.f,t,r),t[r])}});var xO=P((T4t,zW)=>{"use strict";h();var tDe=vt(),rDe=We();zW.exports=tDe&&rDe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var st=P((C4t,jW)=>{"use strict";h();var nDe=wt(),iDe=String,oDe=TypeError;jW.exports=function(e){if(nDe(e))return e;throw new oDe(iDe(e)+" is not an object")}});var Zr=P(UW=>{"use strict";h();var aDe=vt(),sDe=_O(),lDe=xO(),sS=st(),BW=zl(),uDe=TypeError,bO=Object.defineProperty,cDe=Object.getOwnPropertyDescriptor,wO="enumerable",EO="configurable",SO="writable";UW.f=aDe?lDe?function(t,r,n){if(sS(t),r=BW(r),sS(n),typeof t=="function"&&r==="prototype"&&"value"in n&&SO in n&&!n[SO]){var o=cDe(t,r);o&&o[SO]&&(t[r]=n.value,n={configurable:EO in n?n[EO]:o[EO],enumerable:wO in n?n[wO]:o[wO],writable:!1})}return bO(t,r,n)}:bO:function(t,r,n){if(sS(t),r=BW(r),sS(n),sDe)try{return bO(t,r,n)}catch(o){}if("get"in n||"set"in n)throw new uDe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var li=P((q4t,VW)=>{"use strict";h();var hDe=vt(),fDe=Zr(),pDe=aa();VW.exports=hDe?function(e,t,r){return fDe.f(e,t,pDe(1,r))}:function(e,t,r){return e[t]=r,e}});var wp=P((O4t,GW)=>{"use strict";h();var TO=vt(),dDe=Vt(),$W=Function.prototype,mDe=TO&&Object.getOwnPropertyDescriptor,IO=dDe($W,"name"),vDe=IO&&function(){}.name==="something",gDe=IO&&(!TO||TO&&mDe($W,"name").configurable);GW.exports={EXISTS:IO,PROPER:vDe,CONFIGURABLE:gDe}});var b0=P((D4t,ZW)=>{"use strict";h();var yDe=Be(),_De=jt(),CO=y0(),xDe=yDe(Function.toString);_De(CO.inspectSource)||(CO.inspectSource=function(e){return xDe(e)});ZW.exports=CO.inspectSource});var PO=P((N4t,HW)=>{"use strict";h();var bDe=it(),wDe=jt(),WW=bDe.WeakMap;HW.exports=wDe(WW)&&/native code/.test(String(WW))});var w0=P((z4t,YW)=>{"use strict";h();var EDe=Ku(),SDe=Ph(),KW=EDe("keys");YW.exports=function(e){return KW[e]||(KW[e]=SDe(e))}});var Jm=P((B4t,XW)=>{"use strict";h();XW.exports={}});var yr=P((V4t,eH)=>{"use strict";h();var TDe=PO(),QW=it(),IDe=wt(),CDe=li(),AO=Vt(),MO=y0(),PDe=w0(),ADe=Jm(),JW="Object already initialized",qO=QW.TypeError,MDe=QW.WeakMap,lS,E0,uS,qDe=function(e){return uS(e)?E0(e):lS(e,{})},RDe=function(e){return function(t){var r;if(!IDe(t)||(r=E0(t)).type!==e)throw new qO("Incompatible receiver, "+e+" required");return r}};TDe||MO.state?(el=MO.state||(MO.state=new MDe),el.get=el.get,el.has=el.has,el.set=el.set,lS=function(e,t){if(el.has(e))throw new qO(JW);return t.facade=e,el.set(e,t),t},E0=function(e){return el.get(e)||{}},uS=function(e){return el.has(e)}):(Ep=PDe("state"),ADe[Ep]=!0,lS=function(e,t){if(AO(e,Ep))throw new qO(JW);return t.facade=e,CDe(e,Ep,t),t},E0=function(e){return AO(e,Ep)?e[Ep]:{}},uS=function(e){return AO(e,Ep)});var el,Ep;eH.exports={set:lS,get:E0,has:uS,enforce:qDe,getterFor:RDe}});var S0=P((G4t,nH)=>{"use strict";h();var OO=Be(),ODe=We(),LDe=jt(),cS=Vt(),RO=vt(),DDe=wp().CONFIGURABLE,kDe=b0(),rH=yr(),NDe=rH.enforce,FDe=rH.get,tH=String,hS=Object.defineProperty,zDe=OO("".slice),jDe=OO("".replace),BDe=OO([].join),UDe=RO&&!ODe(function(){return hS(function(){},"length",{value:8}).length!==8}),VDe=String(String).split("String"),$De=nH.exports=function(e,t,r){zDe(tH(t),0,7)==="Symbol("&&(t="["+jDe(tH(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!cS(e,"name")||DDe&&e.name!==t)&&(RO?hS(e,"name",{value:t,configurable:!0}):e.name=t),UDe&&r&&cS(r,"arity")&&e.length!==r.arity&&hS(e,"length",{value:r.arity});try{r&&cS(r,"constructor")&&r.constructor?RO&&hS(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var n=NDe(e);return cS(n,"source")||(n.source=BDe(VDe,typeof t=="string"?t:"")),e};Function.prototype.toString=$De(function(){return LDe(this)&&FDe(this).source||kDe(this)},"toString")});var Ir=P((W4t,iH)=>{"use strict";h();var GDe=jt(),ZDe=Zr(),WDe=S0(),HDe=aS();iH.exports=function(e,t,r,n){n||(n={});var o=n.enumerable,i=n.name!==void 0?n.name:t;if(GDe(r)&&WDe(r,i,n),n.global)o?e[t]=r:HDe(t,r);else{try{n.unsafe?e[t]&&(o=!0):delete e[t]}catch(f){}o?e[t]=r:ZDe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var LO=P((K4t,oH)=>{"use strict";h();var KDe=Math.ceil,YDe=Math.floor;oH.exports=Math.trunc||function(t){var r=+t;return(r>0?YDe:KDe)(r)}});var en=P((X4t,aH)=>{"use strict";h();var XDe=LO();aH.exports=function(e){var t=+e;return t!==t||t===0?0:XDe(t)}});var tl=P((Q4t,sH)=>{"use strict";h();var JDe=en(),QDe=Math.max,eke=Math.min;sH.exports=function(e,t){var r=JDe(e);return r<0?QDe(r+t,0):eke(r,t)}});var la=P((t5t,lH)=>{"use strict";h();var tke=en(),rke=Math.min;lH.exports=function(e){var t=tke(e);return t>0?rke(t,9007199254740991):0}});var sr=P((n5t,uH)=>{"use strict";h();var nke=la();uH.exports=function(e){return nke(e.length)}});var Qm=P((o5t,hH)=>{"use strict";h();var ike=si(),oke=tl(),ake=sr(),cH=function(e){return function(t,r,n){var o=ike(t),i=ake(o);if(i===0)return!e&&-1;var f=oke(n,i),g;if(e&&r!==r){for(;i>f;)if(g=o[f++],g!==g)return!0}else for(;i>f;f++)if((e||f in o)&&o[f]===r)return e||f||0;return!e&&-1}};hH.exports={includes:cH(!0),indexOf:cH(!1)}});var kO=P((s5t,pH)=>{"use strict";h();var ske=Be(),DO=Vt(),lke=si(),uke=Qm().indexOf,cke=Jm(),fH=ske([].push);pH.exports=function(e,t){var r=lke(e),n=0,o=[],i;for(i in r)!DO(cke,i)&&DO(r,i)&&fH(o,i);for(;t.length>n;)DO(r,i=t[n++])&&(~uke(o,i)||fH(o,i));return o}});var fS=P((u5t,dH)=>{"use strict";h();dH.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Ah=P(mH=>{"use strict";h();var hke=kO(),fke=fS(),pke=fke.concat("length","prototype");mH.f=Object.getOwnPropertyNames||function(t){return hke(t,pke)}});var T0=P(vH=>{"use strict";h();vH.f=Object.getOwnPropertySymbols});var pS=P((m5t,gH)=>{"use strict";h();var dke=Ct(),mke=Be(),vke=Ah(),gke=T0(),yke=st(),_ke=mke([].concat);gH.exports=dke("Reflect","ownKeys")||function(t){var r=vke.f(yke(t)),n=gke.f;return n?_ke(r,n(t)):r}});var Sp=P((g5t,_H)=>{"use strict";h();var yH=Vt(),xke=pS(),bke=Oi(),wke=Zr();_H.exports=function(e,t,r){for(var n=xke(t),o=wke.f,i=bke.f,f=0;f<n.length;f++){var g=n[f];!yH(e,g)&&!(r&&yH(r,g))&&o(e,g,i(t,g))}}});var ev=P((_5t,xH)=>{"use strict";h();var Eke=We(),Ske=jt(),Tke=/#|\.prototype\./,I0=function(e,t){var r=Cke[Ike(e)];return r===Ake?!0:r===Pke?!1:Ske(t)?Eke(t):!!t},Ike=I0.normalize=function(e){return String(e).replace(Tke,".").toLowerCase()},Cke=I0.data={},Pke=I0.NATIVE="N",Ake=I0.POLYFILL="P";xH.exports=I0});var te=P((b5t,bH)=>{"use strict";h();var dS=it(),Mke=Oi().f,qke=li(),Rke=Ir(),Oke=aS(),Lke=Sp(),Dke=ev();bH.exports=function(e,t){var r=e.target,n=e.global,o=e.stat,i,f,g,w,E,C;if(n?f=dS:o?f=dS[r]||Oke(r,{}):f=dS[r]&&dS[r].prototype,f)for(g in t){if(E=t[g],e.dontCallGetSet?(C=Mke(f,g),w=C&&C.value):w=f[g],i=Dke(n?g:r+(o?".":"#")+g,e.forced),!i&&w!==void 0){if(typeof E==typeof w)continue;Lke(E,w)}(e.sham||w&&w.sham)&&qke(E,"sham",!0),Rke(f,g,E,e)}}});var mS=P((E5t,EH)=>{"use strict";h();var kke=St(),Nke=kke("toStringTag"),wH={};wH[Nke]="z";EH.exports=String(wH)==="[object z]"});var Bo=P((T5t,SH)=>{"use strict";h();var Fke=mS(),zke=jt(),vS=Xi(),jke=St(),Bke=jke("toStringTag"),Uke=Object,Vke=vS(function(){return arguments}())==="Arguments",$ke=function(e,t){try{return e[t]}catch(r){}};SH.exports=Fke?vS:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=$ke(t=Uke(e),Bke))=="string"?r:Vke?vS(t):(n=vS(t))==="Object"&&zke(t.callee)?"Arguments":n}});var Rt=P((C5t,TH)=>{"use strict";h();var Gke=Bo(),Zke=String;TH.exports=function(e){if(Gke(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Zke(e)}});var Tp=P((A5t,IH)=>{"use strict";h();var Wke=kO(),Hke=fS();IH.exports=Object.keys||function(t){return Wke(t,Hke)}});var gS=P(CH=>{"use strict";h();var Kke=vt(),Yke=xO(),Xke=Zr(),Jke=st(),Qke=si(),eNe=Tp();CH.f=Kke&&!Yke?Object.defineProperties:function(t,r){Jke(t);for(var n=Qke(r),o=eNe(r),i=o.length,f=0,g;i>f;)Xke.f(t,g=o[f++],n[g]);return t}});var NO=P((O5t,PH)=>{"use strict";h();var tNe=Ct();PH.exports=tNe("document","documentElement")});var Un=P((D5t,DH)=>{"use strict";h();var rNe=st(),nNe=gS(),AH=fS(),iNe=Jm(),oNe=NO(),aNe=x0(),sNe=w0(),MH=">",qH="<",zO="prototype",jO="script",OH=sNe("IE_PROTO"),FO=function(){},LH=function(e){return qH+jO+MH+e+qH+"/"+jO+MH},RH=function(e){e.write(LH("")),e.close();var t=e.parentWindow.Object;return e=null,t},lNe=function(){var e=aNe("iframe"),t="java"+jO+":",r;return e.style.display="none",oNe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(LH("document.F=Object")),r.close(),r.F},yS,_S=function(){try{yS=new ActiveXObject("htmlfile")}catch(t){}_S=typeof document!="undefined"?document.domain&&yS?RH(yS):lNe():RH(yS);for(var e=AH.length;e--;)delete _S[zO][AH[e]];return _S()};iNe[OH]=!0;DH.exports=Object.create||function(t,r){var n;return t!==null?(FO[zO]=rNe(t),n=new FO,FO[zO]=null,n[OH]=t):n=_S(),r===void 0?n:nNe.f(n,r)}});var ua=P((N5t,kH)=>{"use strict";h();var uNe=Be();kH.exports=uNe([].slice)});var xS=P((z5t,zH)=>{"use strict";h();var cNe=Xi(),hNe=si(),NH=Ah().f,fNe=ua(),FH=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pNe=function(e){try{return NH(e)}catch(t){return fNe(FH)}};zH.exports.f=function(t){return FH&&cNe(t)==="Window"?pNe(t):NH(hNe(t))}});var tn=P((B5t,BH)=>{"use strict";h();var jH=S0(),dNe=Zr();BH.exports=function(e,t,r){return r.get&&jH(r.get,t,{getter:!0}),r.set&&jH(r.set,t,{setter:!0}),dNe.f(e,t,r)}});var BO=P(UH=>{"use strict";h();var mNe=St();UH.f=mNe});var bS=P((G5t,VH)=>{"use strict";h();var vNe=it();VH.exports=vNe});var xn=P((W5t,GH)=>{"use strict";h();var $H=bS(),gNe=Vt(),yNe=BO(),_Ne=Zr().f;GH.exports=function(e){var t=$H.Symbol||($H.Symbol={});gNe(t,e)||_Ne(t,e,{value:yNe.f(e)})}});var UO=P((K5t,ZH)=>{"use strict";h();var xNe=ot(),bNe=Ct(),wNe=St(),ENe=Ir();ZH.exports=function(){var e=bNe("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=wNe("toPrimitive");t&&!t[n]&&ENe(t,n,function(o){return xNe(r,this)},{arity:1})}});var Uo=P((X5t,HH)=>{"use strict";h();var SNe=Zr().f,TNe=Vt(),INe=St(),WH=INe("toStringTag");HH.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!TNe(e,WH)&&SNe(e,WH,{configurable:!0,value:t})}});var Mh=P((Q5t,KH)=>{"use strict";h();var CNe=Xi(),PNe=Be();KH.exports=function(e){if(CNe(e)==="Function")return PNe(e)}});var zr=P((t6t,XH)=>{"use strict";h();var YH=Mh(),ANe=Pt(),MNe=Ym(),qNe=YH(YH.bind);XH.exports=function(e,t){return ANe(e),t===void 0?e:MNe?qNe(e,t):function(){return e.apply(t,arguments)}}});var rl=P((n6t,JH)=>{"use strict";h();var RNe=Xi();JH.exports=Array.isArray||function(t){return RNe(t)==="Array"}});var nl=P((o6t,n9)=>{"use strict";h();var ONe=Be(),LNe=We(),QH=jt(),DNe=Bo(),kNe=Ct(),NNe=b0(),e9=function(){},t9=kNe("Reflect","construct"),VO=/^\s*(?:class|function)\b/,FNe=ONe(VO.exec),zNe=!VO.test(e9),C0=function(t){if(!QH(t))return!1;try{return t9(e9,[],t),!0}catch(r){return!1}},r9=function(t){if(!QH(t))return!1;switch(DNe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zNe||!!FNe(VO,NNe(t))}catch(r){return!0}};r9.sham=!0;n9.exports=!t9||LNe(function(){var e;return C0(C0.call)||!C0(Object)||!C0(function(){e=!0})||e})?r9:C0});var s9=P((s6t,a9)=>{"use strict";h();var i9=rl(),jNe=nl(),BNe=wt(),UNe=St(),VNe=UNe("species"),o9=Array;a9.exports=function(e){var t;return i9(e)&&(t=e.constructor,jNe(t)&&(t===o9||i9(t.prototype))?t=void 0:BNe(t)&&(t=t[VNe],t===null&&(t=void 0))),t===void 0?o9:t}});var tv=P((u6t,l9)=>{"use strict";h();var $Ne=s9();l9.exports=function(e,t){return new($Ne(e))(t===0?0:t)}});var Vn=P((h6t,c9)=>{"use strict";h();var GNe=zr(),ZNe=Be(),WNe=Wu(),HNe=Jt(),KNe=sr(),YNe=tv(),u9=ZNe([].push),qh=function(e){var t=e===1,r=e===2,n=e===3,o=e===4,i=e===6,f=e===7,g=e===5||i;return function(w,E,C,q){for(var L=HNe(w),B=WNe(L),$=KNe(B),ee=GNe(E,C),G=0,H=q||YNe,Q=t?H(w,$):r||f?H(w,0):void 0,se,de;$>G;G++)if((g||G in B)&&(se=B[G],de=ee(se,G,L),e))if(t)Q[G]=de;else if(de)switch(e){case 3:return!0;case 5:return se;case 6:return G;case 2:u9(Q,se)}else switch(e){case 4:return!1;case 7:u9(Q,se)}return i?-1:n||o?o:Q}};c9.exports={forEach:qh(0),map:qh(1),filter:qh(2),some:qh(3),every:qh(4),find:qh(5),findIndex:qh(6),filterReject:qh(7)}});var C9=P(()=>{"use strict";h();var wS=te(),M0=it(),JO=ot(),XNe=Be(),JNe=fr(),rv=vt(),nv=Ih(),QNe=We(),Li=Vt(),eFe=Ji(),WO=st(),ES=si(),QO=zl(),tFe=Rt(),HO=aa(),iv=Un(),p9=Tp(),rFe=Ah(),d9=xS(),nFe=T0(),m9=Oi(),v9=Zr(),iFe=gS(),g9=g0(),$O=Ir(),oFe=tn(),eL=Ku(),aFe=w0(),y9=Jm(),h9=Ph(),sFe=St(),lFe=BO(),uFe=xn(),cFe=UO(),hFe=Uo(),_9=yr(),SS=Vn().forEach,ca=aFe("hidden"),TS="Symbol",A0="prototype",fFe=_9.set,f9=_9.getterFor(TS),_s=Object[A0],Ip=M0.Symbol,P0=Ip&&Ip[A0],pFe=M0.RangeError,dFe=M0.TypeError,GO=M0.QObject,x9=m9.f,Cp=v9.f,b9=d9.f,mFe=g9.f,w9=XNe([].push),Yu=eL("symbols"),q0=eL("op-symbols"),vFe=eL("wks"),KO=!GO||!GO[A0]||!GO[A0].findChild,E9=function(e,t,r){var n=x9(_s,t);n&&delete _s[t],Cp(e,t,r),n&&e!==_s&&Cp(_s,t,n)},YO=rv&&QNe(function(){return iv(Cp({},"a",{get:function(){return Cp(this,"a",{value:7}).a}})).a!==7})?E9:Cp,ZO=function(e,t){var r=Yu[e]=iv(P0);return fFe(r,{type:TS,tag:e,description:t}),rv||(r.description=t),r},IS=function(t,r,n){t===_s&&IS(q0,r,n),WO(t);var o=QO(r);return WO(n),Li(Yu,o)?(n.enumerable?(Li(t,ca)&&t[ca][o]&&(t[ca][o]=!1),n=iv(n,{enumerable:HO(0,!1)})):(Li(t,ca)||Cp(t,ca,HO(1,iv(null))),t[ca][o]=!0),YO(t,o,n)):Cp(t,o,n)},tL=function(t,r){WO(t);var n=ES(r),o=p9(n).concat(I9(n));return SS(o,function(i){(!rv||JO(XO,n,i))&&IS(t,i,n[i])}),t},gFe=function(t,r){return r===void 0?iv(t):tL(iv(t),r)},XO=function(t){var r=QO(t),n=JO(mFe,this,r);return this===_s&&Li(Yu,r)&&!Li(q0,r)?!1:n||!Li(this,r)||!Li(Yu,r)||Li(this,ca)&&this[ca][r]?n:!0},S9=function(t,r){var n=ES(t),o=QO(r);if(!(n===_s&&Li(Yu,o)&&!Li(q0,o))){var i=x9(n,o);return i&&Li(Yu,o)&&!(Li(n,ca)&&n[ca][o])&&(i.enumerable=!0),i}},T9=function(t){var r=b9(ES(t)),n=[];return SS(r,function(o){!Li(Yu,o)&&!Li(y9,o)&&w9(n,o)}),n},I9=function(e){var t=e===_s,r=b9(t?q0:ES(e)),n=[];return SS(r,function(o){Li(Yu,o)&&(!t||Li(_s,o))&&w9(n,Yu[o])}),n};nv||(Ip=function(){if(eFe(P0,this))throw new dFe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:tFe(arguments[0]),r=h9(t),n=function(o){var i=this===void 0?M0:this;i===_s&&JO(n,q0,o),Li(i,ca)&&Li(i[ca],r)&&(i[ca][r]=!1);var f=HO(1,o);try{YO(i,r,f)}catch(g){if(!(g instanceof pFe))throw g;E9(i,r,f)}};return rv&&KO&&YO(_s,r,{configurable:!0,set:n}),ZO(r,t)},P0=Ip[A0],$O(P0,"toString",function(){return f9(this).tag}),$O(Ip,"withoutSetter",function(e){return ZO(h9(e),e)}),g9.f=XO,v9.f=IS,iFe.f=tL,m9.f=S9,rFe.f=d9.f=T9,nFe.f=I9,lFe.f=function(e){return ZO(sFe(e),e)},rv&&(oFe(P0,"description",{configurable:!0,get:function(){return f9(this).description}}),JNe||$O(_s,"propertyIsEnumerable",XO,{unsafe:!0})));wS({global:!0,constructor:!0,wrap:!0,forced:!nv,sham:!nv},{Symbol:Ip});SS(p9(vFe),function(e){uFe(e)});wS({target:TS,stat:!0,forced:!nv},{useSetter:function(){KO=!0},useSimple:function(){KO=!1}});wS({target:"Object",stat:!0,forced:!nv,sham:!rv},{create:gFe,defineProperty:IS,defineProperties:tL,getOwnPropertyDescriptor:S9});wS({target:"Object",stat:!0,forced:!nv},{getOwnPropertyNames:T9});cFe();hFe(Ip,TS);y9[ca]=!0});var rL=P((v6t,P9)=>{"use strict";h();var yFe=Ih();P9.exports=yFe&&!!Symbol.for&&!!Symbol.keyFor});var M9=P(()=>{"use strict";h();var _Fe=te(),xFe=Ct(),bFe=Vt(),wFe=Rt(),A9=Ku(),EFe=rL(),nL=A9("string-to-symbol-registry"),SFe=A9("symbol-to-string-registry");_Fe({target:"Symbol",stat:!0,forced:!EFe},{for:function(e){var t=wFe(e);if(bFe(nL,t))return nL[t];var r=xFe("Symbol")(t);return nL[t]=r,SFe[r]=t,r}})});var R9=P(()=>{"use strict";h();var TFe=te(),IFe=Vt(),CFe=Hu(),PFe=Ch(),AFe=Ku(),MFe=rL(),q9=AFe("symbol-to-string-registry");TFe({target:"Symbol",stat:!0,forced:!MFe},{keyFor:function(t){if(!CFe(t))throw new TypeError(PFe(t)+" is not a symbol");if(IFe(q9,t))return q9[t]}})});var Qi=P((S6t,k9)=>{"use strict";h();var qFe=Ym(),D9=Function.prototype,O9=D9.apply,L9=D9.call;k9.exports=typeof Reflect=="object"&&Reflect.apply||(qFe?L9.bind(O9):function(){return L9.apply(O9,arguments)})});var iL=P((I6t,j9)=>{"use strict";h();var RFe=Be(),N9=rl(),OFe=jt(),F9=Xi(),LFe=Rt(),z9=RFe([].push);j9.exports=function(e){if(OFe(e))return e;if(N9(e)){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];typeof o=="string"?z9(r,o):(typeof o=="number"||F9(o)==="Number"||F9(o)==="String")&&z9(r,LFe(o))}var i=r.length,f=!0;return function(g,w){if(f)return f=!1,w;if(N9(this))return w;for(var E=0;E<i;E++)if(r[E]===g)return w}}}});var oL=P(()=>{"use strict";h();var DFe=te(),H9=Ct(),K9=Qi(),kFe=ot(),R0=Be(),Y9=We(),B9=jt(),U9=Hu(),X9=ua(),NFe=iL(),FFe=Ih(),zFe=String,Rh=H9("JSON","stringify"),CS=R0(/./.exec),V9=R0("".charAt),jFe=R0("".charCodeAt),BFe=R0("".replace),UFe=R0(1 .toString),VFe=/[\uD800-\uDFFF]/g,$9=/^[\uD800-\uDBFF]$/,G9=/^[\uDC00-\uDFFF]$/,Z9=!FFe||Y9(function(){var e=H9("Symbol")("stringify detection");return Rh([e])!=="[null]"||Rh({a:e})!=="{}"||Rh(Object(e))!=="{}"}),W9=Y9(function(){return Rh("\uDF06\uD834")!=="\"\\udf06\\ud834\""||Rh("\uDEAD")!=="\"\\udead\""}),$Fe=function(e,t){var r=X9(arguments),n=NFe(t);if(!(!B9(n)&&(e===void 0||U9(e))))return r[1]=function(o,i){if(B9(n)&&(i=kFe(n,this,zFe(o),i)),!U9(i))return i},K9(Rh,null,r)},GFe=function(e,t,r){var n=V9(r,t-1),o=V9(r,t+1);return CS($9,e)&&!CS(G9,o)||CS(G9,e)&&!CS($9,n)?"\\u"+UFe(jFe(e,0),16):e};Rh&&DFe({target:"JSON",stat:!0,arity:3,forced:Z9||W9},{stringify:function(t,r,n){var o=X9(arguments),i=K9(Z9?$Fe:Rh,null,o);return W9&&typeof i=="string"?BFe(i,VFe,GFe):i}})});var Q9=P(()=>{"use strict";h();var ZFe=te(),WFe=Ih(),HFe=We(),J9=T0(),KFe=Jt(),YFe=!WFe||HFe(function(){J9.f(1)});ZFe({target:"Object",stat:!0,forced:YFe},{getOwnPropertySymbols:function(t){var r=J9.f;return r?r(KFe(t)):[]}})});var eK=P(()=>{"use strict";h();C9();M9();R9();oL();Q9()});var sK=P(()=>{"use strict";h();var XFe=te(),JFe=vt(),QFe=it(),PS=Be(),eze=Vt(),tze=jt(),rze=Ji(),nze=Rt(),ize=tn(),oze=Sp(),Xu=QFe.Symbol,Pp=Xu&&Xu.prototype;JFe&&tze(Xu)&&(!("description"in Pp)||Xu().description!==void 0)&&(aL={},O0=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:nze(arguments[0]),r=rze(Pp,this)?new Xu(t):t===void 0?Xu():Xu(t);return t===""&&(aL[r]=!0),r},oze(O0,Xu),O0.prototype=Pp,Pp.constructor=O0,tK=String(Xu("description detection"))==="Symbol(description detection)",rK=PS(Pp.valueOf),nK=PS(Pp.toString),iK=/^Symbol\((.*)\)[^)]+$/,oK=PS("".replace),aK=PS("".slice),ize(Pp,"description",{configurable:!0,get:function(){var t=rK(this);if(eze(aL,t))return"";var r=nK(t),n=tK?aK(r,7,-1):oK(r,iK,"$1");return n===""?void 0:n}}),XFe({global:!0,constructor:!0,forced:!0},{Symbol:O0}));var aL,O0,tK,rK,nK,iK,oK,aK});var lK=P(()=>{"use strict";h();var aze=xn();aze("asyncIterator")});var uK=P(()=>{"use strict";h();var sze=xn();sze("hasInstance")});var cK=P(()=>{"use strict";h();var lze=xn();lze("isConcatSpreadable")});var hK=P(()=>{"use strict";h();var uze=xn();uze("iterator")});var fK=P(()=>{"use strict";h();var cze=xn();cze("match")});var pK=P(()=>{"use strict";h();var hze=xn();hze("matchAll")});var dK=P(()=>{"use strict";h();var fze=xn();fze("replace")});var mK=P(()=>{"use strict";h();var pze=xn();pze("search")});var vK=P(()=>{"use strict";h();var dze=xn();dze("species")});var gK=P(()=>{"use strict";h();var mze=xn();mze("split")});var yK=P(()=>{"use strict";h();var vze=xn(),gze=UO();vze("toPrimitive");gze()});var _K=P(()=>{"use strict";h();var yze=Ct(),_ze=xn(),xze=Uo();_ze("toStringTag");xze(yze("Symbol"),"Symbol")});var xK=P(()=>{"use strict";h();var bze=xn();bze("unscopables")});var L0=P((TVt,bK)=>{"use strict";h();var wze=Be(),Eze=Pt();bK.exports=function(e,t,r){try{return wze(Eze(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var sL=P((CVt,wK)=>{"use strict";h();var Sze=wt();wK.exports=function(e){return Sze(e)||e===null}});var lL=P((AVt,EK)=>{"use strict";h();var Tze=sL(),Ize=String,Cze=TypeError;EK.exports=function(e){if(Tze(e))return e;throw new Cze("Can't set "+Ize(e)+" as a prototype")}});var xs=P((qVt,SK)=>{"use strict";h();var Pze=L0(),Aze=wt(),Mze=Hr(),qze=lL();SK.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=Pze(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(o,i){return Mze(o),qze(i),Aze(o)&&(e?r(o,i):o.__proto__=i),o}}():void 0)});var uL=P((OVt,TK)=>{"use strict";h();var Rze=Zr().f;TK.exports=function(e,t,r){r in e||Rze(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var Oh=P((DVt,CK)=>{"use strict";h();var Oze=jt(),Lze=wt(),IK=xs();CK.exports=function(e,t,r){var n,o;return IK&&Oze(n=t.constructor)&&n!==r&&Lze(o=n.prototype)&&o!==r.prototype&&IK(e,o),e}});var Ap=P((NVt,PK)=>{"use strict";h();var Dze=Rt();PK.exports=function(e,t){return e===void 0?arguments.length<2?"":t:Dze(e)}});var cL=P((zVt,AK)=>{"use strict";h();var kze=wt(),Nze=li();AK.exports=function(e,t){kze(t)&&"cause"in t&&Nze(e,"cause",t.cause)}});var AS=P((BVt,RK)=>{"use strict";h();var Fze=Be(),MK=Error,zze=Fze("".replace),jze=function(e){return String(new MK(e).stack)}("zxcasd"),qK=/\n\s*at [^:]*:[^\n]*/,Bze=qK.test(jze);RK.exports=function(e,t){if(Bze&&typeof e=="string"&&!MK.prepareStackTrace)for(;t--;)e=zze(e,qK,"");return e}});var hL=P((VVt,OK)=>{"use strict";h();var Uze=We(),Vze=aa();OK.exports=!Uze(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",Vze(1,7)),e.stack!==7):!0})});var MS=P((GVt,DK)=>{"use strict";h();var $ze=li(),Gze=AS(),Zze=hL(),LK=Error.captureStackTrace;DK.exports=function(e,t,r,n){Zze&&(LK?LK(e,t):$ze(e,"stack",Gze(r,n)))}});var fL=P((WVt,UK)=>{"use strict";h();var kK=Ct(),Wze=Vt(),NK=li(),Hze=Ji(),FK=xs(),zK=Sp(),jK=uL(),Kze=Oh(),Yze=Ap(),Xze=cL(),Jze=MS(),Qze=vt(),BK=fr();UK.exports=function(e,t,r,n){var o="stackTraceLimit",i=n?2:1,f=e.split("."),g=f[f.length-1],w=kK.apply(null,f);if(w){var E=w.prototype;if(!BK&&Wze(E,"cause")&&delete E.cause,!r)return w;var C=kK("Error"),q=t(function(L,B){var $=Yze(n?B:L,void 0),ee=n?new w(L):new w;return $!==void 0&&NK(ee,"message",$),Jze(ee,q,ee.stack,2),this&&Hze(E,this)&&Kze(ee,this,q),arguments.length>i&&Xze(ee,arguments[i]),ee});if(q.prototype=E,g!=="Error"?FK?FK(q,C):zK(q,C,{name:!0}):Qze&&o in w&&(jK(q,w,o),jK(q,w,"prepareStackTrace")),zK(q,w),!BK)try{E.name!==g&&NK(E,"name",g),E.constructor=q}catch(L){}return q}}});var ZK=P(()=>{"use strict";h();var $K=te(),eje=it(),jl=Qi(),GK=fL(),pL="WebAssembly",VK=eje[pL],qS=new Error("e",{cause:7}).cause!==7,Mp=function(e,t){var r={};r[e]=GK(e,t,qS),$K({global:!0,constructor:!0,arity:1,forced:qS},r)},dL=function(e,t){if(VK&&VK[e]){var r={};r[e]=GK(pL+"."+e,t,qS),$K({target:pL,stat:!0,constructor:!0,arity:1,forced:qS},r)}};Mp("Error",function(e){return function(r){return jl(e,this,arguments)}});Mp("EvalError",function(e){return function(r){return jl(e,this,arguments)}});Mp("RangeError",function(e){return function(r){return jl(e,this,arguments)}});Mp("ReferenceError",function(e){return function(r){return jl(e,this,arguments)}});Mp("SyntaxError",function(e){return function(r){return jl(e,this,arguments)}});Mp("TypeError",function(e){return function(r){return jl(e,this,arguments)}});Mp("URIError",function(e){return function(r){return jl(e,this,arguments)}});dL("CompileError",function(e){return function(r){return jl(e,this,arguments)}});dL("LinkError",function(e){return function(r){return jl(e,this,arguments)}});dL("RuntimeError",function(e){return function(r){return jl(e,this,arguments)}})});var mL=P((JVt,HK)=>{"use strict";h();var tje=vt(),rje=We(),nje=st(),WK=Ap(),RS=Error.prototype.toString,ije=rje(function(){if(tje){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(RS.call(e)!=="true")return!0}return RS.call({message:1,name:2})!=="2: 1"||RS.call({})!=="Error"});HK.exports=ije?function(){var t=nje(this),r=WK(t.name,"Error"),n=WK(t.message);return r?n?r+": "+n:r:n}:RS});var XK=P(()=>{"use strict";h();var oje=Ir(),KK=mL(),YK=Error.prototype;YK.toString!==KK&&oje(YK,"toString",KK)});var OS=P((n$t,JK)=>{"use strict";h();var aje=We();JK.exports=!aje(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var ui=P((o$t,e7)=>{"use strict";h();var sje=Vt(),lje=jt(),uje=Jt(),cje=w0(),hje=OS(),QK=cje("IE_PROTO"),vL=Object,fje=vL.prototype;e7.exports=hje?vL.getPrototypeOf:function(e){var t=uje(e);if(sje(t,QK))return t[QK];var r=t.constructor;return lje(r)&&t instanceof r?r.prototype:t instanceof vL?fje:null}});var qp=P((s$t,t7)=>{"use strict";h();t7.exports={}});var LS=P((u$t,r7)=>{"use strict";h();var pje=St(),dje=qp(),mje=pje("iterator"),vje=Array.prototype;r7.exports=function(e){return e!==void 0&&(dje.Array===e||vje[mje]===e)}});var Bl=P((h$t,i7)=>{"use strict";h();var gje=Bo(),n7=Bn(),yje=sa(),_je=qp(),xje=St(),bje=xje("iterator");i7.exports=function(e){if(!yje(e))return n7(e,bje)||n7(e,"@@iterator")||_je[gje(e)]}});var Lh=P((p$t,o7)=>{"use strict";h();var wje=ot(),Eje=Pt(),Sje=st(),Tje=Ch(),Ije=Bl(),Cje=TypeError;o7.exports=function(e,t){var r=arguments.length<2?Ije(e):t;if(Eje(r))return Sje(wje(r,e));throw new Cje(Tje(e)+" is not iterable")}});var Di=P((m$t,s7)=>{"use strict";h();var Pje=ot(),a7=st(),Aje=Bn();s7.exports=function(e,t,r){var n,o;a7(e);try{if(n=Aje(e,"return"),!n){if(t==="throw")throw r;return r}n=Pje(n,e)}catch(i){o=!0,n=i}if(t==="throw")throw r;if(o)throw n;return a7(n),r}});var bn=P((g$t,h7)=>{"use strict";h();var Mje=zr(),qje=ot(),Rje=st(),Oje=Ch(),Lje=LS(),Dje=sr(),l7=Ji(),kje=Lh(),Nje=Bl(),u7=Di(),Fje=TypeError,DS=function(e,t){this.stopped=e,this.result=t},c7=DS.prototype;h7.exports=function(e,t,r){var n=r&&r.that,o=!!(r&&r.AS_ENTRIES),i=!!(r&&r.IS_RECORD),f=!!(r&&r.IS_ITERATOR),g=!!(r&&r.INTERRUPTED),w=Mje(t,n),E,C,q,L,B,$,ee,G=function(Q){return E&&u7(E,"normal",Q),new DS(!0,Q)},H=function(Q){return o?(Rje(Q),g?w(Q[0],Q[1],G):w(Q[0],Q[1])):g?w(Q,G):w(Q)};if(i)E=e.iterator;else if(f)E=e;else{if(C=Nje(e),!C)throw new Fje(Oje(e)+" is not iterable");if(Lje(C)){for(q=0,L=Dje(e);L>q;q++)if(B=H(e[q]),B&&l7(c7,B))return B;return new DS(!1)}E=kje(e,C)}for($=i?e.next:E.next;!(ee=qje($,E)).done;){try{B=H(ee.value)}catch(Q){u7(E,"throw",Q)}if(typeof B=="object"&&B&&l7(c7,B))return B}return new DS(!1)}});var p7=P(()=>{"use strict";h();var zje=te(),jje=Ji(),Bje=ui(),kS=xs(),Uje=Sp(),f7=Un(),gL=li(),yL=aa(),Vje=cL(),$je=MS(),Gje=bn(),Zje=Ap(),Wje=St(),Hje=Wje("toStringTag"),NS=Error,Kje=[].push,ov=function(t,r){var n=jje(_L,this),o;kS?o=kS(new NS,n?Bje(this):_L):(o=n?this:f7(_L),gL(o,Hje,"Error")),r!==void 0&&gL(o,"message",Zje(r)),$je(o,ov,o.stack,1),arguments.length>2&&Vje(o,arguments[2]);var i=[];return Gje(t,Kje,{that:i}),gL(o,"errors",i),o};kS?kS(ov,NS):Uje(ov,NS,{name:!0});var _L=ov.prototype=f7(NS.prototype,{constructor:yL(1,ov),message:yL(1,""),name:yL(1,"AggregateError")});zje({global:!0,constructor:!0,arity:2},{AggregateError:ov})});var xL=P(()=>{"use strict";h();p7()});var g7=P(()=>{"use strict";h();var Yje=te(),Xje=Ct(),Jje=Qi(),d7=We(),Qje=fL(),bL="AggregateError",m7=Xje(bL),v7=!d7(function(){return m7([1]).errors[0]!==1})&&d7(function(){return m7([1],bL,{cause:7}).cause!==7});Yje({global:!0,constructor:!0,arity:2,forced:v7},{AggregateError:Qje(bL,function(e){return function(r,n){return Jje(e,this,arguments)}},v7,!0)})});var wn=P((P$t,y7)=>{"use strict";h();var eBe=St(),tBe=Un(),rBe=Zr().f,wL=eBe("unscopables"),EL=Array.prototype;EL[wL]===void 0&&rBe(EL,wL,{configurable:!0,value:tBe(null)});y7.exports=function(e){EL[wL][e]=!0}});var SL=P(()=>{"use strict";h();var nBe=te(),iBe=Jt(),oBe=sr(),aBe=en(),sBe=wn();nBe({target:"Array",proto:!0},{at:function(t){var r=iBe(this),n=oBe(r),o=aBe(t),i=o>=0?o:n+o;return i<0||i>=n?void 0:r[i]}});sBe("at")});var Dh=P((O$t,_7)=>{"use strict";h();var lBe=TypeError,uBe=9007199254740991;_7.exports=function(e){if(e>uBe)throw lBe("Maximum allowed index exceeded");return e}});var bs=P((D$t,x7)=>{"use strict";h();var cBe=vt(),hBe=Zr(),fBe=aa();x7.exports=function(e,t,r){cBe?hBe.f(e,t,fBe(0,r)):e[t]=r}});var av=P((N$t,b7)=>{"use strict";h();var pBe=We(),dBe=St(),mBe=Qs(),vBe=dBe("species");b7.exports=function(e){return mBe>=51||!pBe(function(){var t=[],r=t.constructor={};return r[vBe]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var T7=P(()=>{"use strict";h();var gBe=te(),yBe=We(),_Be=rl(),xBe=wt(),bBe=Jt(),wBe=sr(),w7=Dh(),E7=bs(),EBe=tv(),SBe=av(),TBe=St(),IBe=Qs(),S7=TBe("isConcatSpreadable"),CBe=IBe>=51||!yBe(function(){var e=[];return e[S7]=!1,e.concat()[0]!==e}),PBe=function(e){if(!xBe(e))return!1;var t=e[S7];return t!==void 0?!!t:_Be(e)},ABe=!CBe||!SBe("concat");gBe({target:"Array",proto:!0,arity:1,forced:ABe},{concat:function(t){var r=bBe(this),n=EBe(r,0),o=0,i,f,g,w,E;for(i=-1,g=arguments.length;i<g;i++)if(E=i===-1?r:arguments[i],PBe(E))for(w=wBe(E),w7(o+w),f=0;f<w;f++,o++)f in E&&E7(n,o,E[f]);else w7(o+1),E7(n,o++,E);return n.length=o,n}})});var D0=P((U$t,C7)=>{"use strict";h();var I7=Ch(),MBe=TypeError;C7.exports=function(e,t){if(!delete e[t])throw new MBe("Cannot delete property "+I7(t)+" of "+I7(e))}});var IL=P(($$t,P7)=>{"use strict";h();var qBe=Jt(),TL=tl(),RBe=sr(),OBe=D0(),LBe=Math.min;P7.exports=[].copyWithin||function(t,r){var n=qBe(this),o=RBe(n),i=TL(t,o),f=TL(r,o),g=arguments.length>2?arguments[2]:void 0,w=LBe((g===void 0?o:TL(g,o))-f,o-i),E=1;for(f<i&&i<f+w&&(E=-1,f+=w-1,i+=w-1);w-->0;)f in n?n[i]=n[f]:OBe(n,i),i+=E,f+=E;return n}});var A7=P(()=>{"use strict";h();var DBe=te(),kBe=IL(),NBe=wn();DBe({target:"Array",proto:!0},{copyWithin:kBe});NBe("copyWithin")});var ws=P((K$t,M7)=>{"use strict";h();var FBe=We();M7.exports=function(e,t){var r=[][e];return!!r&&FBe(function(){r.call(null,t||function(){return 1},1)})}});var q7=P(()=>{"use strict";h();var zBe=te(),jBe=Vn().every,BBe=ws(),UBe=BBe("every");zBe({target:"Array",proto:!0,forced:!UBe},{every:function(t){return jBe(this,t,arguments.length>1?arguments[1]:void 0)}})});var FS=P((eGt,O7)=>{"use strict";h();var VBe=Jt(),R7=tl(),$Be=sr();O7.exports=function(t){for(var r=VBe(this),n=$Be(r),o=arguments.length,i=R7(o>1?arguments[1]:void 0,n),f=o>2?arguments[2]:void 0,g=f===void 0?n:R7(f,n);g>i;)r[i++]=t;return r}});var L7=P(()=>{"use strict";h();var GBe=te(),ZBe=FS(),WBe=wn();GBe({target:"Array",proto:!0},{fill:ZBe});WBe("fill")});var D7=P(()=>{"use strict";h();var HBe=te(),KBe=Vn().filter,YBe=av(),XBe=YBe("filter");HBe({target:"Array",proto:!0,forced:!XBe},{filter:function(t){return KBe(this,t,arguments.length>1?arguments[1]:void 0)}})});var N7=P(()=>{"use strict";h();var JBe=te(),QBe=Vn().find,e3e=wn(),CL="find",k7=!0;CL in[]&&Array(1)[CL](function(){k7=!1});JBe({target:"Array",proto:!0,forced:k7},{find:function(t){return QBe(this,t,arguments.length>1?arguments[1]:void 0)}});e3e(CL)});var z7=P(()=>{"use strict";h();var t3e=te(),r3e=Vn().findIndex,n3e=wn(),PL="findIndex",F7=!0;PL in[]&&Array(1)[PL](function(){F7=!1});t3e({target:"Array",proto:!0,forced:F7},{findIndex:function(t){return r3e(this,t,arguments.length>1?arguments[1]:void 0)}});n3e(PL)});var k0=P((dGt,B7)=>{"use strict";h();var i3e=zr(),o3e=Wu(),a3e=Jt(),s3e=sr(),j7=function(e){var t=e===1;return function(r,n,o){for(var i=a3e(r),f=o3e(i),g=s3e(f),w=i3e(n,o),E,C;g-->0;)if(E=f[g],C=w(E,g,i),C)switch(e){case 0:return E;case 1:return g}return t?-1:void 0}};B7.exports={findLast:j7(0),findLastIndex:j7(1)}});var AL=P(()=>{"use strict";h();var l3e=te(),u3e=k0().findLast,c3e=wn();l3e({target:"Array",proto:!0},{findLast:function(t){return u3e(this,t,arguments.length>1?arguments[1]:void 0)}});c3e("findLast")});var ML=P(()=>{"use strict";h();var h3e=te(),f3e=k0().findLastIndex,p3e=wn();h3e({target:"Array",proto:!0},{findLastIndex:function(t){return f3e(this,t,arguments.length>1?arguments[1]:void 0)}});p3e("findLastIndex")});var qL=P((wGt,V7)=>{"use strict";h();var d3e=rl(),m3e=sr(),v3e=Dh(),g3e=zr(),U7=function(e,t,r,n,o,i,f,g){for(var w=o,E=0,C=f?g3e(f,g):!1,q,L;E<n;)E in r&&(q=C?C(r[E],E,t):r[E],i>0&&d3e(q)?(L=m3e(q),w=U7(e,t,q,L,w,i-1)-1):(v3e(w+1),e[w]=q),w++),E++;return w};V7.exports=U7});var $7=P(()=>{"use strict";h();var y3e=te(),_3e=qL(),x3e=Jt(),b3e=sr(),w3e=en(),E3e=tv();y3e({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=x3e(this),n=b3e(r),o=E3e(r,0);return o.length=_3e(o,r,r,n,0,t===void 0?1:w3e(t)),o}})});var G7=P(()=>{"use strict";h();var S3e=te(),T3e=qL(),I3e=Pt(),C3e=Jt(),P3e=sr(),A3e=tv();S3e({target:"Array",proto:!0},{flatMap:function(t){var r=C3e(this),n=P3e(r),o;return I3e(t),o=A3e(r,0),o.length=T3e(o,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),o}})});var RL=P((MGt,Z7)=>{"use strict";h();var M3e=Vn().forEach,q3e=ws(),R3e=q3e("forEach");Z7.exports=R3e?[].forEach:function(t){return M3e(this,t,arguments.length>1?arguments[1]:void 0)}});var H7=P(()=>{"use strict";h();var O3e=te(),W7=RL();O3e({target:"Array",proto:!0,forced:[].forEach!==W7},{forEach:W7})});var zS=P((DGt,K7)=>{"use strict";h();var L3e=st(),D3e=Di();K7.exports=function(e,t,r,n){try{return n?t(L3e(r)[0],r[1]):t(r)}catch(o){D3e(e,"throw",o)}}});var OL=P((NGt,J7)=>{"use strict";h();var k3e=zr(),N3e=ot(),F3e=Jt(),z3e=zS(),j3e=LS(),B3e=nl(),U3e=sr(),Y7=bs(),V3e=Lh(),$3e=Bl(),X7=Array;J7.exports=function(t){var r=F3e(t),n=B3e(this),o=arguments.length,i=o>1?arguments[1]:void 0,f=i!==void 0;f&&(i=k3e(i,o>2?arguments[2]:void 0));var g=$3e(r),w=0,E,C,q,L,B,$;if(g&&!(this===X7&&j3e(g)))for(C=n?new this:[],L=V3e(r,g),B=L.next;!(q=N3e(B,L)).done;w++)$=f?z3e(L,i,[q.value,w],!0):q.value,Y7(C,w,$);else for(E=U3e(r),C=n?new this(E):X7(E);E>w;w++)$=f?i(r[w],w):r[w],Y7(C,w,$);return C.length=w,C}});var N0=P((zGt,rY)=>{"use strict";h();var G3e=St(),eY=G3e("iterator"),tY=!1;try{Q7=0,LL={next:function(){return{done:!!Q7++}},return:function(){tY=!0}},LL[eY]=function(){return this},Array.from(LL,function(){throw 2})}catch(e){}var Q7,LL;rY.exports=function(e,t){try{if(!t&&!tY)return!1}catch(o){return!1}var r=!1;try{var n={};n[eY]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(o){}return r}});var nY=P(()=>{"use strict";h();var Z3e=te(),W3e=OL(),H3e=N0(),K3e=!H3e(function(e){Array.from(e)});Z3e({target:"Array",stat:!0,forced:K3e},{from:W3e})});var iY=P(()=>{"use strict";h();var Y3e=te(),X3e=Qm().includes,J3e=We(),Q3e=wn(),eUe=J3e(function(){return!Array(1).includes()});Y3e({target:"Array",proto:!0,forced:eUe},{includes:function(t){return X3e(this,t,arguments.length>1?arguments[1]:void 0)}});Q3e("includes")});var aY=P(()=>{"use strict";h();var tUe=te(),rUe=Mh(),nUe=Qm().indexOf,iUe=ws(),DL=rUe([].indexOf),oY=!!DL&&1/DL([1],1,-0)<0,oUe=oY||!iUe("indexOf");tUe({target:"Array",proto:!0,forced:oUe},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return oY?DL(this,t,r)||0:nUe(this,t,r)}})});var sY=P(()=>{"use strict";h();var aUe=te(),sUe=rl();aUe({target:"Array",stat:!0},{isArray:sUe})});var kh=P((QGt,cY)=>{"use strict";h();var lUe=We(),uUe=jt(),cUe=wt(),hUe=Un(),lY=ui(),fUe=Ir(),pUe=St(),dUe=fr(),FL=pUe("iterator"),uY=!1,Ju,kL,NL;[].keys&&(NL=[].keys(),"next"in NL?(kL=lY(lY(NL)),kL!==Object.prototype&&(Ju=kL)):uY=!0);var mUe=!cUe(Ju)||lUe(function(){var e={};return Ju[FL].call(e)!==e});mUe?Ju={}:dUe&&(Ju=hUe(Ju));uUe(Ju[FL])||fUe(Ju,FL,function(){return this});cY.exports={IteratorPrototype:Ju,BUGGY_SAFARI_ITERATORS:uY}});var Nh=P((t8t,hY)=>{"use strict";h();var vUe=kh().IteratorPrototype,gUe=Un(),yUe=aa(),_Ue=Uo(),xUe=qp(),bUe=function(){return this};hY.exports=function(e,t,r,n){var o=t+" Iterator";return e.prototype=gUe(vUe,{next:yUe(+!n,r)}),_Ue(e,o,!1,!0),xUe[o]=bUe,e}});var US=P((n8t,bY)=>{"use strict";h();var wUe=te(),EUe=ot(),jS=fr(),_Y=wp(),SUe=jt(),TUe=Nh(),fY=ui(),pY=xs(),IUe=Uo(),CUe=li(),zL=Ir(),PUe=St(),dY=qp(),xY=kh(),AUe=_Y.PROPER,MUe=_Y.CONFIGURABLE,mY=xY.IteratorPrototype,BS=xY.BUGGY_SAFARI_ITERATORS,F0=PUe("iterator"),vY="keys",z0="values",gY="entries",yY=function(){return this};bY.exports=function(e,t,r,n,o,i,f){TUe(r,t,n);var g=function(H){if(H===o&&L)return L;if(!BS&&H&&H in C)return C[H];switch(H){case vY:return function(){return new r(this,H)};case z0:return function(){return new r(this,H)};case gY:return function(){return new r(this,H)}}return function(){return new r(this)}},w=t+" Iterator",E=!1,C=e.prototype,q=C[F0]||C["@@iterator"]||o&&C[o],L=!BS&&q||g(o),B=t==="Array"&&C.entries||q,$,ee,G;if(B&&($=fY(B.call(new e)),$!==Object.prototype&&$.next&&(!jS&&fY($)!==mY&&(pY?pY($,mY):SUe($[F0])||zL($,F0,yY)),IUe($,w,!0,!0),jS&&(dY[w]=yY))),AUe&&o===z0&&q&&q.name!==z0&&(!jS&&MUe?CUe(C,"name",z0):(E=!0,L=function(){return EUe(q,this)})),o)if(ee={values:g(z0),keys:i?L:g(vY),entries:g(gY)},f)for(G in ee)(BS||E||!(G in C))&&zL(C,G,ee[G]);else wUe({target:t,proto:!0,forced:BS||E},ee);return(!jS||f)&&C[F0]!==L&&zL(C,F0,L,{name:o}),dY[t]=L,ee}});var wi=P((o8t,wY)=>{"use strict";h();wY.exports=function(e,t){return{value:e,done:t}}});var j0=P((s8t,CY)=>{"use strict";h();var qUe=si(),jL=wn(),EY=qp(),TY=yr(),RUe=Zr().f,OUe=US(),VS=wi(),LUe=fr(),DUe=vt(),IY="Array Iterator",kUe=TY.set,NUe=TY.getterFor(IY);CY.exports=OUe(Array,"Array",function(e,t){kUe(this,{type:IY,target:qUe(e),index:0,kind:t})},function(){var e=NUe(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,VS(void 0,!0);switch(e.kind){case"keys":return VS(r,!1);case"values":return VS(t[r],!1)}return VS([r,t[r]],!1)},"values");var SY=EY.Arguments=EY.Array;jL("keys");jL("values");jL("entries");if(!LUe&&DUe&&SY.name!=="values")try{RUe(SY,"name",{value:"values"})}catch(e){}});var PY=P(()=>{"use strict";h();var FUe=te(),zUe=Be(),jUe=Wu(),BUe=si(),UUe=ws(),VUe=zUe([].join),$Ue=jUe!==Object,GUe=$Ue||!UUe("join",",");FUe({target:"Array",proto:!0,forced:GUe},{join:function(t){return VUe(BUe(this),t===void 0?",":t)}})});var UL=P((f8t,MY)=>{"use strict";h();var ZUe=Qi(),WUe=si(),HUe=en(),KUe=sr(),YUe=ws(),XUe=Math.min,BL=[].lastIndexOf,AY=!!BL&&1/[1].lastIndexOf(1,-0)<0,JUe=YUe("lastIndexOf"),QUe=AY||!JUe;MY.exports=QUe?function(t){if(AY)return ZUe(BL,this,arguments)||0;var r=WUe(this),n=KUe(r);if(n===0)return-1;var o=n-1;for(arguments.length>1&&(o=XUe(o,HUe(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in r&&r[o]===t)return o||0;return-1}:BL});var RY=P(()=>{"use strict";h();var e4e=te(),qY=UL();e4e({target:"Array",proto:!0,forced:qY!==[].lastIndexOf},{lastIndexOf:qY})});var OY=P(()=>{"use strict";h();var t4e=te(),r4e=Vn().map,n4e=av(),i4e=n4e("map");t4e({target:"Array",proto:!0,forced:!i4e},{map:function(t){return r4e(this,t,arguments.length>1?arguments[1]:void 0)}})});var DY=P(()=>{"use strict";h();var o4e=te(),a4e=We(),s4e=nl(),l4e=bs(),LY=Array,u4e=a4e(function(){function e(){}return!(LY.of.call(e)instanceof e)});o4e({target:"Array",stat:!0,forced:u4e},{of:function(){for(var t=0,r=arguments.length,n=new(s4e(this)?this:LY)(r);r>t;)l4e(n,t,arguments[t++]);return n.length=r,n}})});var $S=P((E8t,kY)=>{"use strict";h();var c4e=vt(),h4e=rl(),f4e=TypeError,p4e=Object.getOwnPropertyDescriptor,d4e=c4e&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();kY.exports=d4e?function(e,t){if(h4e(e)&&!p4e(e,"length").writable)throw new f4e("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var NY=P(()=>{"use strict";h();var m4e=te(),v4e=Jt(),g4e=sr(),y4e=$S(),_4e=Dh(),x4e=We(),b4e=x4e(function(){return[].push.call({length:4294967296},1)!==4294967297}),w4e=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},E4e=b4e||!w4e();m4e({target:"Array",proto:!0,arity:1,forced:E4e},{push:function(t){var r=v4e(this),n=g4e(r),o=arguments.length;_4e(n+o);for(var i=0;i<o;i++)r[n]=arguments[i],n++;return y4e(r,n),n}})});var B0=P((P8t,BY)=>{"use strict";h();var S4e=Pt(),T4e=Jt(),I4e=Wu(),C4e=sr(),FY=TypeError,zY="Reduce of empty array with no initial value",jY=function(e){return function(t,r,n,o){var i=T4e(t),f=I4e(i),g=C4e(i);if(S4e(r),g===0&&n<2)throw new FY(zY);var w=e?g-1:0,E=e?-1:1;if(n<2)for(;;){if(w in f){o=f[w],w+=E;break}if(w+=E,e?w<0:g<=w)throw new FY(zY)}for(;e?w>=0:g>w;w+=E)w in f&&(o=r(o,f[w],w,i));return o}};BY.exports={left:jY(!1),right:jY(!0)}});var V0=P((M8t,UY)=>{"use strict";h();var U0=it(),P4e=Xs(),A4e=Xi(),GS=function(e){return P4e.slice(0,e.length)===e};UY.exports=function(){return GS("Bun/")?"BUN":GS("Cloudflare-Workers")?"CLOUDFLARE":GS("Deno/")?"DENO":GS("Node.js/")?"NODE":U0.Bun&&typeof Bun.version=="string"?"BUN":U0.Deno&&typeof Deno.version=="object"?"DENO":A4e(U0.process)==="process"?"NODE":U0.window&&U0.document?"BROWSER":"REST"}()});var Rp=P((R8t,VY)=>{"use strict";h();var M4e=V0();VY.exports=M4e==="NODE"});var GY=P(()=>{"use strict";h();var q4e=te(),R4e=B0().left,O4e=ws(),$Y=Qs(),L4e=Rp(),D4e=!L4e&&$Y>79&&$Y<83,k4e=D4e||!O4e("reduce");q4e({target:"Array",proto:!0,forced:k4e},{reduce:function(t){var r=arguments.length;return R4e(this,t,r,r>1?arguments[1]:void 0)}})});var WY=P(()=>{"use strict";h();var N4e=te(),F4e=B0().right,z4e=ws(),ZY=Qs(),j4e=Rp(),B4e=!j4e&&ZY>79&&ZY<83,U4e=B4e||!z4e("reduceRight");N4e({target:"Array",proto:!0,forced:U4e},{reduceRight:function(t){return F4e(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var KY=P(()=>{"use strict";h();var V4e=te(),$4e=Be(),G4e=rl(),Z4e=$4e([].reverse),HY=[1,2];V4e({target:"Array",proto:!0,forced:String(HY)===String(HY.reverse())},{reverse:function(){return G4e(this)&&(this.length=this.length),Z4e(this)}})});var JY=P(()=>{"use strict";h();var W4e=te(),YY=rl(),H4e=nl(),K4e=wt(),XY=tl(),Y4e=sr(),X4e=si(),J4e=bs(),Q4e=St(),e5e=av(),t5e=ua(),r5e=e5e("slice"),n5e=Q4e("species"),VL=Array,i5e=Math.max;W4e({target:"Array",proto:!0,forced:!r5e},{slice:function(t,r){var n=X4e(this),o=Y4e(n),i=XY(t,o),f=XY(r===void 0?o:r,o),g,w,E;if(YY(n)&&(g=n.constructor,H4e(g)&&(g===VL||YY(g.prototype))?g=void 0:K4e(g)&&(g=g[n5e],g===null&&(g=void 0)),g===VL||g===void 0))return t5e(n,i,f);for(w=new(g===void 0?VL:g)(i5e(f-i,0)),E=0;i<f;i++,E++)i in n&&J4e(w,E,n[i]);return w.length=E,w}})});var QY=P(()=>{"use strict";h();var o5e=te(),a5e=Vn().some,s5e=ws(),l5e=s5e("some");o5e({target:"Array",proto:!0,forced:!l5e},{some:function(t){return a5e(this,t,arguments.length>1?arguments[1]:void 0)}})});var ZS=P((K8t,tX)=>{"use strict";h();var eX=ua(),u5e=Math.floor,$L=function(e,t){var r=e.length;if(r<8)for(var n=1,o,i;n<r;){for(i=n,o=e[n];i&&t(e[i-1],o)>0;)e[i]=e[--i];i!==n++&&(e[i]=o)}else for(var f=u5e(r/2),g=$L(eX(e,0,f),t),w=$L(eX(e,f),t),E=g.length,C=w.length,q=0,L=0;q<E||L<C;)e[q+L]=q<E&&L<C?t(g[q],w[L])<=0?g[q++]:w[L++]:q<E?g[q++]:w[L++];return e};tX.exports=$L});var GL=P((X8t,nX)=>{"use strict";h();var c5e=Xs(),rX=c5e.match(/firefox\/(\d+)/i);nX.exports=!!rX&&+rX[1]});var ZL=P((Q8t,iX)=>{"use strict";h();var h5e=Xs();iX.exports=/MSIE|Trident/.test(h5e)});var WS=P((tZt,aX)=>{"use strict";h();var f5e=Xs(),oX=f5e.match(/AppleWebKit\/(\d+)\./);aX.exports=!!oX&&+oX[1]});var mX=P(()=>{"use strict";h();var p5e=te(),pX=Be(),d5e=Pt(),m5e=Jt(),sX=sr(),v5e=D0(),lX=Rt(),WL=We(),g5e=ZS(),y5e=ws(),uX=GL(),_5e=ZL(),cX=Qs(),hX=WS(),Fh=[],fX=pX(Fh.sort),x5e=pX(Fh.push),b5e=WL(function(){Fh.sort(void 0)}),w5e=WL(function(){Fh.sort(null)}),E5e=y5e("sort"),dX=!WL(function(){if(cX)return cX<70;if(!(uX&&uX>3)){if(_5e)return!0;if(hX)return hX<603;var e="",t,r,n,o;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)Fh.push({k:r+o,v:n})}for(Fh.sort(function(i,f){return f.v-i.v}),o=0;o<Fh.length;o++)r=Fh[o].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),S5e=b5e||!w5e||!E5e||!dX,T5e=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:lX(t)>lX(r)?1:-1}};p5e({target:"Array",proto:!0,forced:S5e},{sort:function(t){t!==void 0&&d5e(t);var r=m5e(this);if(dX)return t===void 0?fX(r):fX(r,t);var n=[],o=sX(r),i,f;for(f=0;f<o;f++)f in r&&x5e(n,r[f]);for(g5e(n,T5e(t)),i=sX(n),f=0;f<i;)r[f]=n[f++];for(;f<o;)v5e(r,f++);return r}})});var zh=P((aZt,gX)=>{"use strict";h();var I5e=Ct(),C5e=tn(),P5e=St(),A5e=vt(),vX=P5e("species");gX.exports=function(e){var t=I5e(e);A5e&&t&&!t[vX]&&C5e(t,vX,{configurable:!0,get:function(){return this}})}});var yX=P(()=>{"use strict";h();var M5e=zh();M5e("Array")});var _X=P(()=>{"use strict";h();var q5e=te(),R5e=Jt(),O5e=tl(),L5e=en(),D5e=sr(),k5e=$S(),N5e=Dh(),F5e=tv(),z5e=bs(),HL=D0(),j5e=av(),B5e=j5e("splice"),U5e=Math.max,V5e=Math.min;q5e({target:"Array",proto:!0,forced:!B5e},{splice:function(t,r){var n=R5e(this),o=D5e(n),i=O5e(t,o),f=arguments.length,g,w,E,C,q,L;for(f===0?g=w=0:f===1?(g=0,w=o-i):(g=f-2,w=V5e(U5e(L5e(r),0),o-i)),N5e(o+g-w),E=F5e(n,w),C=0;C<w;C++)q=i+C,q in n&&z5e(E,C,n[q]);if(E.length=w,g<w){for(C=i;C<o-w;C++)q=C+w,L=C+g,q in n?n[L]=n[q]:HL(n,L);for(C=o;C>o-w+g;C--)HL(n,C-1)}else if(g>w)for(C=o-w;C>i;C--)q=C+w-1,L=C+g-1,q in n?n[L]=n[q]:HL(n,L);for(C=0;C<g;C++)n[C+i]=arguments[C+2];return k5e(n,o-w+g),E}})});var KL=P((dZt,xX)=>{"use strict";h();var $5e=sr();xX.exports=function(e,t){for(var r=$5e(e),n=new t(r),o=0;o<r;o++)n[o]=e[r-o-1];return n}});var YL=P(()=>{"use strict";h();var G5e=te(),Z5e=KL(),W5e=si(),H5e=wn(),K5e=Array;G5e({target:"Array",proto:!0},{toReversed:function(){return Z5e(W5e(this),K5e)}});H5e("toReversed")});var Qu=P((_Zt,bX)=>{"use strict";h();var Y5e=sr();bX.exports=function(e,t,r){for(var n=0,o=arguments.length>2?r:Y5e(t),i=new e(o);o>n;)i[n]=t[n++];return i}});var XL=P((bZt,wX)=>{"use strict";h();var X5e=it();wX.exports=function(e,t){var r=X5e[e],n=r&&r.prototype;return n&&n[t]}});var JL=P(()=>{"use strict";h();var J5e=te(),Q5e=Be(),e6e=Pt(),t6e=si(),r6e=Qu(),n6e=XL(),i6e=wn(),o6e=Array,a6e=Q5e(n6e("Array","sort"));J5e({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&e6e(t);var r=t6e(this),n=r6e(o6e,r);return a6e(n,t)}});i6e("toSorted")});var QL=P(()=>{"use strict";h();var s6e=te(),l6e=wn(),u6e=Dh(),c6e=sr(),h6e=tl(),f6e=si(),p6e=en(),d6e=Array,m6e=Math.max,v6e=Math.min;s6e({target:"Array",proto:!0},{toSpliced:function(t,r){var n=f6e(this),o=c6e(n),i=h6e(t,o),f=arguments.length,g=0,w,E,C,q;for(f===0?w=E=0:f===1?(w=0,E=o-i):(w=f-2,E=v6e(m6e(p6e(r),0),o-i)),C=u6e(o+w-E),q=d6e(C);g<i;g++)q[g]=n[g];for(;g<i+w;g++)q[g]=arguments[g-i+2];for(;g<C;g++)q[g]=n[g+E-w];return q}});l6e("toSpliced")});var EX=P(()=>{"use strict";h();var g6e=wn();g6e("flat")});var SX=P(()=>{"use strict";h();var y6e=wn();y6e("flatMap")});var TX=P(()=>{"use strict";h();var _6e=te(),x6e=Jt(),b6e=sr(),w6e=$S(),E6e=D0(),S6e=Dh(),T6e=[].unshift(0)!==1,I6e=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},C6e=T6e||!I6e();_6e({target:"Array",proto:!0,arity:1,forced:C6e},{unshift:function(t){var r=x6e(this),n=b6e(r),o=arguments.length;if(o){S6e(n+o);for(var i=n;i--;){var f=i+o;i in r?r[f]=r[i]:E6e(r,f)}for(var g=0;g<o;g++)r[g]=arguments[g]}return w6e(r,n+o)}})});var eD=P((FZt,IX)=>{"use strict";h();var P6e=sr(),A6e=en(),M6e=RangeError;IX.exports=function(e,t,r,n){var o=P6e(e),i=A6e(r),f=i<0?o+i:i;if(f>=o||f<0)throw new M6e("Incorrect index");for(var g=new t(o),w=0;w<o;w++)g[w]=w===f?n:e[w];return g}});var tD=P(()=>{"use strict";h();var q6e=te(),R6e=eD(),O6e=si(),L6e=Array;q6e({target:"Array",proto:!0},{with:function(e,t){return R6e(O6e(this),L6e,e,t)}})});var $0=P((VZt,CX)=>{"use strict";h();CX.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Es=P((GZt,PX)=>{"use strict";h();var D6e=Ir();PX.exports=function(e,t,r){for(var n in t)D6e(e,n,t[n],r);return e}});var wo=P((WZt,AX)=>{"use strict";h();var k6e=Ji(),N6e=TypeError;AX.exports=function(e,t){if(k6e(t,e))return e;throw new N6e("Incorrect invocation")}});var sv=P((KZt,MX)=>{"use strict";h();var F6e=en(),z6e=la(),j6e=RangeError;MX.exports=function(e){if(e===void 0)return 0;var t=F6e(e),r=z6e(t);if(t!==r)throw new j6e("Wrong length or index");return r}});var HS=P((XZt,qX)=>{"use strict";h();qX.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var rD=P((QZt,OX)=>{"use strict";h();var B6e=2220446049250313e-31,RX=1/B6e;OX.exports=function(e){return e+RX-RX}});var nD=P((tWt,LX)=>{"use strict";h();var U6e=HS(),V6e=rD(),$6e=Math.abs,G6e=2220446049250313e-31;LX.exports=function(e,t,r,n){var o=+e,i=$6e(o),f=U6e(o);if(i<n)return f*V6e(i/n/t)*n*t;var g=(1+t/G6e)*i,w=g-(g-i);return w>r||w!==w?f*(1/0):f*w}});var KS=P((nWt,DX)=>{"use strict";h();var Z6e=nD(),W6e=1.1920928955078125e-7,H6e=34028234663852886e22,K6e=11754943508222875e-54;DX.exports=Math.fround||function(t){return Z6e(t,W6e,H6e,K6e)}});var NX=P((oWt,kX)=>{"use strict";h();var Y6e=Array,X6e=Math.abs,ec=Math.pow,J6e=Math.floor,Q6e=Math.log,eVe=Math.LN2,tVe=function(e,t,r){var n=Y6e(r),o=r*8-t-1,i=(1<<o)-1,f=i>>1,g=t===23?ec(2,-24)-ec(2,-77):0,w=e<0||e===0&&1/e<0?1:0,E=0,C,q,L;for(e=X6e(e),e!==e||e===1/0?(q=e!==e?1:0,C=i):(C=J6e(Q6e(e)/eVe),L=ec(2,-C),e*L<1&&(C--,L*=2),C+f>=1?e+=g/L:e+=g*ec(2,1-f),e*L>=2&&(C++,L/=2),C+f>=i?(q=0,C=i):C+f>=1?(q=(e*L-1)*ec(2,t),C+=f):(q=e*ec(2,f-1)*ec(2,t),C=0));t>=8;)n[E++]=q&255,q/=256,t-=8;for(C=C<<t|q,o+=t;o>0;)n[E++]=C&255,C/=256,o-=8;return n[E-1]|=w*128,n},rVe=function(e,t){var r=e.length,n=r*8-t-1,o=(1<<n)-1,i=o>>1,f=n-7,g=r-1,w=e[g--],E=w&127,C;for(w>>=7;f>0;)E=E*256+e[g--],f-=8;for(C=E&(1<<-f)-1,E>>=-f,f+=t;f>0;)C=C*256+e[g--],f-=8;if(E===0)E=1-i;else{if(E===o)return C?NaN:w?-1/0:1/0;C+=ec(2,t),E-=i}return(w?-1:1)*C*ec(2,E-t)};kX.exports={pack:tVe,unpack:rVe}});var W0=P((sWt,eJ)=>{"use strict";h();var eT=it(),lD=Be(),iD=vt(),nVe=$0(),KX=wp(),iVe=li(),oVe=tn(),FX=Es(),oD=We(),YS=wo(),aVe=en(),sVe=la(),JS=sv(),lVe=KS(),YX=NX(),uVe=ui(),zX=xs(),cVe=FS(),hVe=ua(),fVe=Oh(),pVe=Sp(),XX=Uo(),uD=yr(),dVe=KX.PROPER,jX=KX.CONFIGURABLE,uv="ArrayBuffer",tT="DataView",cv="prototype",mVe="Wrong length",JX="Wrong index",BX=uD.getterFor(uv),Z0=uD.getterFor(tT),UX=uD.set,il=eT[uv],Za=il,lv=Za&&Za[cv],Ul=eT[tT],Op=Ul&&Ul[cv],VX=Object.prototype,vVe=eT.Array,QS=eT.RangeError,gVe=lD(cVe),yVe=lD([].reverse),QX=YX.pack,$X=YX.unpack,GX=function(e){return[e&255]},ZX=function(e){return[e&255,e>>8&255]},WX=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},HX=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},_Ve=function(e){return QX(lVe(e),23,4)},xVe=function(e){return QX(e,52,8)},XS=function(e,t,r){oVe(e[cv],t,{configurable:!0,get:function(){return r(this)[t]}})},jh=function(e,t,r,n){var o=Z0(e),i=JS(r),f=!!n;if(i+t>o.byteLength)throw new QS(JX);var g=o.bytes,w=i+o.byteOffset,E=hVe(g,w,w+t);return f?E:yVe(E)},Bh=function(e,t,r,n,o,i){var f=Z0(e),g=JS(r),w=n(+o),E=!!i;if(g+t>f.byteLength)throw new QS(JX);for(var C=f.bytes,q=g+f.byteOffset,L=0;L<t;L++)C[q+L]=w[E?L:t-L-1]};nVe?(aD=dVe&&il.name!==uv,!oD(function(){il(1)})||!oD(function(){new il(-1)})||oD(function(){return new il,new il(1.5),new il(NaN),il.length!==1||aD&&!jX})?(Za=function(t){return YS(this,lv),fVe(new il(JS(t)),this,Za)},Za[cv]=lv,lv.constructor=Za,pVe(Za,il)):aD&&jX&&iVe(il,"name",uv),zX&&uVe(Op)!==VX&&zX(Op,VX),G0=new Ul(new Za(2)),sD=lD(Op.setInt8),G0.setInt8(0,2147483648),G0.setInt8(1,2147483649),(G0.getInt8(0)||!G0.getInt8(1))&&FX(Op,{setInt8:function(t,r){sD(this,t,r<<24>>24)},setUint8:function(t,r){sD(this,t,r<<24>>24)}},{unsafe:!0})):(Za=function(t){YS(this,lv);var r=JS(t);UX(this,{type:uv,bytes:gVe(vVe(r),0),byteLength:r}),iD||(this.byteLength=r,this.detached=!1)},lv=Za[cv],Ul=function(t,r,n){YS(this,Op),YS(t,lv);var o=BX(t),i=o.byteLength,f=aVe(r);if(f<0||f>i)throw new QS("Wrong offset");if(n=n===void 0?i-f:sVe(n),f+n>i)throw new QS(mVe);UX(this,{type:tT,buffer:t,byteLength:n,byteOffset:f,bytes:o.bytes}),iD||(this.buffer=t,this.byteLength=n,this.byteOffset=f)},Op=Ul[cv],iD&&(XS(Za,"byteLength",BX),XS(Ul,"buffer",Z0),XS(Ul,"byteLength",Z0),XS(Ul,"byteOffset",Z0)),FX(Op,{getInt8:function(t){return jh(this,1,t)[0]<<24>>24},getUint8:function(t){return jh(this,1,t)[0]},getInt16:function(t){var r=jh(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=jh(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return HX(jh(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return HX(jh(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return $X(jh(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return $X(jh(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){Bh(this,1,t,GX,r)},setUint8:function(t,r){Bh(this,1,t,GX,r)},setInt16:function(t,r){Bh(this,2,t,ZX,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){Bh(this,2,t,ZX,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){Bh(this,4,t,WX,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){Bh(this,4,t,WX,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){Bh(this,4,t,_Ve,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){Bh(this,8,t,xVe,r,arguments.length>2?arguments[2]:!1)}}));var aD,G0,sD;XX(Za,uv);XX(Ul,tT);eJ.exports={ArrayBuffer:Za,DataView:Ul}});var rJ=P(()=>{"use strict";h();var bVe=te(),wVe=it(),EVe=W0(),SVe=zh(),cD="ArrayBuffer",tJ=EVe[cD],TVe=wVe[cD];bVe({global:!0,constructor:!0,forced:TVe!==tJ},{ArrayBuffer:tJ});SVe(cD)});var Kt=P((fWt,fJ)=>{"use strict";h();var IVe=$0(),dD=vt(),Vo=it(),aJ=jt(),iT=wt(),Vh=Vt(),mD=Bo(),CVe=Ch(),PVe=li(),hD=Ir(),AVe=tn(),MVe=Ji(),oT=ui(),fv=xs(),qVe=St(),RVe=Ph(),sJ=yr(),lJ=sJ.enforce,OVe=sJ.get,rT=Vo.Int8Array,fD=rT&&rT.prototype,nJ=Vo.Uint8ClampedArray,iJ=nJ&&nJ.prototype,Vl=rT&&oT(rT),ol=fD&&oT(fD),LVe=Object.prototype,vD=Vo.TypeError,oJ=qVe("toStringTag"),pD=RVe("TYPED_ARRAY_TAG"),nT="TypedArrayConstructor",tc=IVe&&!!fv&&mD(Vo.opera)!=="Opera",uJ=!1,ha,Uh,hv,rc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},gD={BigInt64Array:8,BigUint64Array:8},DVe=function(t){if(!iT(t))return!1;var r=mD(t);return r==="DataView"||Vh(rc,r)||Vh(gD,r)},cJ=function(e){var t=oT(e);if(iT(t)){var r=OVe(t);return r&&Vh(r,nT)?r[nT]:cJ(t)}},hJ=function(e){if(!iT(e))return!1;var t=mD(e);return Vh(rc,t)||Vh(gD,t)},kVe=function(e){if(hJ(e))return e;throw new vD("Target is not a typed array")},NVe=function(e){if(aJ(e)&&(!fv||MVe(Vl,e)))return e;throw new vD(CVe(e)+" is not a typed array constructor")},FVe=function(e,t,r,n){if(dD){if(r)for(var o in rc){var i=Vo[o];if(i&&Vh(i.prototype,e))try{delete i.prototype[e]}catch(f){try{i.prototype[e]=t}catch(g){}}}(!ol[e]||r)&&hD(ol,e,r?t:tc&&fD[e]||t,n)}},zVe=function(e,t,r){var n,o;if(dD){if(fv){if(r){for(n in rc)if(o=Vo[n],o&&Vh(o,e))try{delete o[e]}catch(i){}}if(!Vl[e]||r)try{return hD(Vl,e,r?t:tc&&Vl[e]||t)}catch(i){}else return}for(n in rc)o=Vo[n],o&&(!o[e]||r)&&hD(o,e,t)}};for(ha in rc)Uh=Vo[ha],hv=Uh&&Uh.prototype,hv?lJ(hv)[nT]=Uh:tc=!1;for(ha in gD)Uh=Vo[ha],hv=Uh&&Uh.prototype,hv&&(lJ(hv)[nT]=Uh);if((!tc||!aJ(Vl)||Vl===Function.prototype)&&(Vl=function(){throw new vD("Incorrect invocation")},tc))for(ha in rc)Vo[ha]&&fv(Vo[ha],Vl);if((!tc||!ol||ol===LVe)&&(ol=Vl.prototype,tc))for(ha in rc)Vo[ha]&&fv(Vo[ha].prototype,ol);tc&&oT(iJ)!==ol&&fv(iJ,ol);if(dD&&!Vh(ol,oJ)){uJ=!0,AVe(ol,oJ,{configurable:!0,get:function(){return iT(this)?this[pD]:void 0}});for(ha in rc)Vo[ha]&&PVe(Vo[ha],pD,ha)}fJ.exports={NATIVE_ARRAY_BUFFER_VIEWS:tc,TYPED_ARRAY_TAG:uJ&&pD,aTypedArray:kVe,aTypedArrayConstructor:NVe,exportTypedArrayMethod:FVe,exportTypedArrayStaticMethod:zVe,getTypedArrayConstructor:cJ,isView:DVe,isTypedArray:hJ,TypedArray:Vl,TypedArrayPrototype:ol}});var dJ=P(()=>{"use strict";h();var jVe=te(),pJ=Kt(),BVe=pJ.NATIVE_ARRAY_BUFFER_VIEWS;jVe({target:"ArrayBuffer",stat:!0,forced:!BVe},{isView:pJ.isView})});var xJ=P(()=>{"use strict";h();var UVe=te(),_D=Mh(),VVe=We(),yJ=W0(),mJ=st(),vJ=tl(),$Ve=la(),xD=yJ.ArrayBuffer,yD=yJ.DataView,_J=yD.prototype,gJ=_D(xD.prototype.slice),GVe=_D(_J.getUint8),ZVe=_D(_J.setUint8),WVe=VVe(function(){return!new xD(2).slice(1,void 0).byteLength});UVe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:WVe},{slice:function(t,r){if(gJ&&r===void 0)return gJ(mJ(this),t);for(var n=mJ(this).byteLength,o=vJ(t,n),i=vJ(r===void 0?n:r,n),f=new xD($Ve(i-o)),g=new yD(this),w=new yD(f),E=0;o<i;)ZVe(w,E++,GVe(g,o++));return f}})});var bJ=P(()=>{"use strict";h();var HVe=te(),KVe=W0(),YVe=$0();HVe({global:!0,constructor:!0,forced:!YVe},{DataView:KVe.DataView})});var wJ=P(()=>{"use strict";h();bJ()});var bD=P(()=>{"use strict";h();var XVe=te(),JVe=Be(),IJ=Math.pow,EJ=31,QVe=1023,SJ=IJ(2,-24),TJ=.0009765625,e$e=function(e){var t=e>>>15,r=e>>>10&EJ,n=e&QVe;return r===EJ?n===0?t===0?1/0:-1/0:NaN:r===0?n*(t===0?SJ:-SJ):IJ(2,r-15)*(t===0?1+n*TJ:-1-n*TJ)},t$e=JVe(DataView.prototype.getUint16);XVe({target:"DataView",proto:!0},{getFloat16:function(t){var r=t$e(this,t,arguments.length>1?arguments[1]:!1);return e$e(r)}})});var wD=P((AWt,CJ)=>{"use strict";h();var r$e=Bo(),n$e=TypeError;CJ.exports=function(e){if(r$e(e)==="DataView")return e;throw new n$e("Argument is not a DataView")}});var ED=P((qWt,PJ)=>{"use strict";h();var i$e=Math.log,o$e=Math.LN2;PJ.exports=Math.log2||function(t){return i$e(t)/o$e}});var TD=P(()=>{"use strict";h();var a$e=te(),s$e=Be(),l$e=wD(),u$e=sv(),c$e=ED(),AJ=rD(),h$e=Math.pow,f$e=65520,p$e=61005353927612305e-21,d$e=16777216,SD=1024,m$e=function(e){if(e!==e)return 32256;if(e===0)return(1/e===-1/0)<<15;var t=e<0;if(t&&(e=-e),e>=f$e)return t<<15|31744;if(e<p$e)return t<<15|AJ(e*d$e);var r=c$e(e)|0;if(r===-15)return t<<15|SD;var n=AJ((e*h$e(2,-r)-1)*SD);return n===SD?t<<15|r+16<<10:t<<15|r+15<<10|n},v$e=s$e(DataView.prototype.setUint16);a$e({target:"DataView",proto:!0},{setFloat16:function(t,r){l$e(this);var n=u$e(t),o=m$e(+r);return v$e(this,n,o,arguments.length>2?arguments[2]:!1)}})});var ID=P((kWt,RJ)=>{"use strict";h();var qJ=it(),g$e=L0(),y$e=Xi(),MJ=qJ.ArrayBuffer,_$e=qJ.TypeError;RJ.exports=MJ&&g$e(MJ.prototype,"byteLength","get")||function(e){if(y$e(e)!=="ArrayBuffer")throw new _$e("ArrayBuffer expected");return e.byteLength}});var CD=P((FWt,OJ)=>{"use strict";h();var x$e=it(),b$e=$0(),w$e=ID(),E$e=x$e.DataView;OJ.exports=function(e){if(!b$e||w$e(e)!==0)return!1;try{return new E$e(e),!1}catch(t){return!0}}});var PD=P(()=>{"use strict";h();var S$e=vt(),T$e=tn(),I$e=CD(),LJ=ArrayBuffer.prototype;S$e&&!("detached"in LJ)&&T$e(LJ,"detached",{configurable:!0,get:function(){return I$e(this)}})});var pv=P((VWt,DJ)=>{"use strict";h();var C$e=CD(),P$e=TypeError;DJ.exports=function(e){if(C$e(e))throw new P$e("ArrayBuffer is detached");return e}});var AD=P((GWt,kJ)=>{"use strict";h();var A$e=it(),M$e=Rp();kJ.exports=function(e){if(M$e){try{return A$e.process.getBuiltinModule(e)}catch(t){}try{return Function("return require(\""+e+"\")")()}catch(t){}}}});var aT=P((WWt,FJ)=>{"use strict";h();var q$e=it(),R$e=We(),MD=Qs(),qD=V0(),NJ=q$e.structuredClone;FJ.exports=!!NJ&&!R$e(function(){if(qD==="DENO"&&MD>92||qD==="NODE"&&MD>94||qD==="BROWSER"&&MD>97)return!1;var e=new ArrayBuffer(8),t=NJ(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var kD=P((KWt,BJ)=>{"use strict";h();var DD=it(),O$e=AD(),L$e=aT(),D$e=DD.structuredClone,zJ=DD.ArrayBuffer,sT=DD.MessageChannel,LD=!1,RD,jJ,lT,OD;if(L$e)LD=function(e){D$e(e,{transfer:[e]})};else if(zJ)try{sT||(RD=O$e("worker_threads"),RD&&(sT=RD.MessageChannel)),sT&&(jJ=new sT,lT=new zJ(2),OD=function(e){jJ.port1.postMessage(null,[e])},lT.byteLength===2&&(OD(lT),lT.byteLength===0&&(LD=OD)))}catch(e){}BJ.exports=LD});var UD=P((XWt,HJ)=>{"use strict";h();var zD=it(),jD=Be(),GJ=L0(),k$e=sv(),N$e=pv(),F$e=ID(),UJ=kD(),ND=aT(),z$e=zD.structuredClone,ZJ=zD.ArrayBuffer,FD=zD.DataView,j$e=Math.min,BD=ZJ.prototype,WJ=FD.prototype,B$e=jD(BD.slice),VJ=GJ(BD,"resizable","get"),$J=GJ(BD,"maxByteLength","get"),U$e=jD(WJ.getInt8),V$e=jD(WJ.setInt8);HJ.exports=(ND||UJ)&&function(e,t,r){var n=F$e(e),o=t===void 0?n:k$e(t),i=!VJ||!VJ(e),f;if(N$e(e),ND&&(e=z$e(e,{transfer:[e]}),n===o&&(r||i)))return e;if(n>=o&&(!r||i))f=B$e(e,0,o);else{var g=r&&!i&&$J?{maxByteLength:$J(e)}:void 0;f=new ZJ(o,g);for(var w=new FD(e),E=new FD(f),C=j$e(o,n),q=0;q<C;q++)V$e(E,q,U$e(w,q))}return ND||UJ(e),f}});var VD=P(()=>{"use strict";h();var $$e=te(),KJ=UD();KJ&&$$e({target:"ArrayBuffer",proto:!0},{transfer:function(){return KJ(this,arguments.length?arguments[0]:void 0,!0)}})});var $D=P(()=>{"use strict";h();var G$e=te(),YJ=UD();YJ&&G$e({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return YJ(this,arguments.length?arguments[0]:void 0,!1)}})});var XJ=P(()=>{"use strict";h();var Z$e=te(),W$e=Be(),H$e=We(),K$e=H$e(function(){return new Date(16e11).getYear()!==120}),Y$e=W$e(Date.prototype.getFullYear);Z$e({target:"Date",proto:!0,forced:K$e},{getYear:function(){return Y$e(this)-1900}})});var QJ=P(()=>{"use strict";h();var X$e=te(),J$e=Be(),JJ=Date,Q$e=J$e(JJ.prototype.getTime);X$e({target:"Date",stat:!0},{now:function(){return Q$e(new JJ)}})});var rQ=P(()=>{"use strict";h();var eGe=te(),eQ=Be(),tGe=en(),tQ=Date.prototype,rGe=eQ(tQ.getTime),nGe=eQ(tQ.setFullYear);eGe({target:"Date",proto:!0},{setYear:function(t){rGe(this);var r=tGe(t),n=r>=0&&r<=99?r+1900:r;return nGe(this,n)}})});var nQ=P(()=>{"use strict";h();var iGe=te();iGe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var H0=P((gHt,iQ)=>{"use strict";h();var oGe=en(),aGe=Rt(),sGe=Hr(),lGe=RangeError;iQ.exports=function(t){var r=aGe(sGe(this)),n="",o=oGe(t);if(o<0||o===1/0)throw new lGe("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(r+=r))o&1&&(n+=r);return n}});var K0=P((_Ht,lQ)=>{"use strict";h();var sQ=Be(),uGe=la(),oQ=Rt(),cGe=H0(),hGe=Hr(),fGe=sQ(cGe),pGe=sQ("".slice),dGe=Math.ceil,aQ=function(e){return function(t,r,n){var o=oQ(hGe(t)),i=uGe(r),f=o.length,g=n===void 0?" ":oQ(n),w,E;return i<=f||g===""?o:(w=i-f,E=fGe(g,dGe(w/g.length)),E.length>w&&(E=pGe(E,0,w)),e?o+E:E+o)}};lQ.exports={start:aQ(!1),end:aQ(!0)}});var hQ=P((bHt,cQ)=>{"use strict";h();var $h=Be(),uQ=We(),Lp=K0().start,mGe=RangeError,vGe=isFinite,gGe=Math.abs,nc=Date.prototype,GD=nc.toISOString,yGe=$h(nc.getTime),_Ge=$h(nc.getUTCDate),xGe=$h(nc.getUTCFullYear),bGe=$h(nc.getUTCHours),wGe=$h(nc.getUTCMilliseconds),EGe=$h(nc.getUTCMinutes),SGe=$h(nc.getUTCMonth),TGe=$h(nc.getUTCSeconds);cQ.exports=uQ(function(){return GD.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!uQ(function(){GD.call(new Date(NaN))})?function(){if(!vGe(yGe(this)))throw new mGe("Invalid time value");var t=this,r=xGe(t),n=wGe(t),o=r<0?"-":r>9999?"+":"";return o+Lp(gGe(r),o?6:4,0)+"-"+Lp(SGe(t)+1,2,0)+"-"+Lp(_Ge(t),2,0)+"T"+Lp(bGe(t),2,0)+":"+Lp(EGe(t),2,0)+":"+Lp(TGe(t),2,0)+"."+Lp(n,3,0)+"Z"}:GD});var pQ=P(()=>{"use strict";h();var IGe=te(),fQ=hQ();IGe({target:"Date",proto:!0,forced:Date.prototype.toISOString!==fQ},{toISOString:fQ})});var dQ=P(()=>{"use strict";h();var CGe=te(),PGe=We(),AGe=Jt(),MGe=_0(),qGe=PGe(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});CGe({target:"Date",proto:!0,arity:1,forced:qGe},{toJSON:function(t){var r=AGe(this),n=MGe(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var vQ=P((AHt,mQ)=>{"use strict";h();var RGe=st(),OGe=vO(),LGe=TypeError;mQ.exports=function(e){if(RGe(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new LGe("Incorrect hint");return OGe(this,e)}});var _Q=P(()=>{"use strict";h();var DGe=Vt(),kGe=Ir(),NGe=vQ(),FGe=St(),gQ=FGe("toPrimitive"),yQ=Date.prototype;DGe(yQ,gQ)||kGe(yQ,gQ,NGe)});var EQ=P(()=>{"use strict";h();var bQ=Be(),zGe=Ir(),ZD=Date.prototype,xQ="Invalid Date",wQ="toString",jGe=bQ(ZD[wQ]),BGe=bQ(ZD.getTime);String(new Date(NaN))!==xQ&&zGe(ZD,wQ,function(){var t=BGe(this);return t===t?jGe(this):xQ})});var TQ=P(()=>{"use strict";h();var UGe=te(),Y0=Be(),VGe=Rt(),$Ge=Y0("".charAt),GGe=Y0("".charCodeAt),ZGe=Y0(/./.exec),WGe=Y0(1 .toString),HGe=Y0("".toUpperCase),KGe=/[\w*+\-./@]/,SQ=function(e,t){for(var r=WGe(e,16);r.length<t;)r="0"+r;return r};UGe({global:!0},{escape:function(t){for(var r=VGe(t),n="",o=r.length,i=0,f,g;i<o;)f=$Ge(r,i++),ZGe(KGe,f)?n+=f:(g=GGe(f,0),g<256?n+="%"+SQ(g,2):n+="%u"+HGe(SQ(g,4)));return n}})});var HD=P((jHt,AQ)=>{"use strict";h();var CQ=Be(),YGe=Pt(),XGe=wt(),JGe=Vt(),IQ=ua(),QGe=Ym(),PQ=Function,e8e=CQ([].concat),t8e=CQ([].join),WD={},r8e=function(e,t,r){if(!JGe(WD,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";WD[t]=PQ("C,a","return new C("+t8e(n,",")+")")}return WD[t](e,r)};AQ.exports=QGe?PQ.bind:function(t){var r=YGe(this),n=r.prototype,o=IQ(arguments,1),i=function(){var g=e8e(o,IQ(arguments));return this instanceof i?r8e(r,g.length,g):r.apply(t,g)};return XGe(n)&&(i.prototype=n),i}});var qQ=P(()=>{"use strict";h();var n8e=te(),MQ=HD();n8e({target:"Function",proto:!0,forced:Function.bind!==MQ},{bind:MQ})});var LQ=P(()=>{"use strict";h();var i8e=jt(),RQ=wt(),o8e=Zr(),a8e=Ji(),s8e=St(),l8e=S0(),KD=s8e("hasInstance"),OQ=Function.prototype;KD in OQ||o8e.f(OQ,KD,{value:l8e(function(e){if(!i8e(this)||!RQ(e))return!1;var t=this.prototype;return RQ(t)?a8e(t,e):e instanceof this},KD)})});var FQ=P(()=>{"use strict";h();var u8e=vt(),c8e=wp().EXISTS,DQ=Be(),h8e=tn(),kQ=Function.prototype,f8e=DQ(kQ.toString),NQ=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,p8e=DQ(NQ.exec),d8e="name";u8e&&!c8e&&h8e(kQ,d8e,{configurable:!0,get:function(){try{return p8e(NQ,f8e(this))[1]}catch(e){return""}}})});var XD=P(()=>{"use strict";h();var m8e=te(),YD=it();m8e({global:!0,forced:YD.globalThis!==YD},{globalThis:YD})});var rk=P(()=>{"use strict";h();var v8e=te(),g8e=it(),y8e=wo(),_8e=st(),x8e=jt(),b8e=ui(),w8e=tn(),E8e=bs(),S8e=We(),ek=Vt(),T8e=St(),$l=kh().IteratorPrototype,I8e=vt(),C8e=fr(),JD="constructor",jQ="Iterator",zQ=T8e("toStringTag"),BQ=TypeError,QD=g8e[jQ],UQ=C8e||!x8e(QD)||QD.prototype!==$l||!S8e(function(){QD({})}),tk=function(){if(y8e(this,$l),b8e(this)===$l)throw new BQ("Abstract class Iterator not directly constructable")},VQ=function(e,t){I8e?w8e($l,e,{configurable:!0,get:function(){return t},set:function(r){if(_8e(this),this===$l)throw new BQ("You can't redefine this property");ek(this,e)?this[e]=r:E8e(this,e,r)}}):$l[e]=t};ek($l,zQ)||VQ(zQ,jQ);(UQ||!ek($l,JD)||$l[JD]===Object)&&VQ(JD,tk);tk.prototype=$l;v8e({global:!0,constructor:!0,forced:UQ},{Iterator:tk})});var fn=P((n9t,$Q)=>{"use strict";h();$Q.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var dv=P((o9t,GQ)=>{"use strict";h();var P8e=RangeError;GQ.exports=function(e){if(e===e)return e;throw new P8e("NaN is not allowed")}});var mv=P((s9t,ZQ)=>{"use strict";h();var A8e=en(),M8e=RangeError;ZQ.exports=function(e){var t=A8e(e);if(t<0)throw new M8e("The argument can't be less than 0");return t}});var Gh=P((u9t,JQ)=>{"use strict";h();var q8e=ot(),R8e=Un(),O8e=li(),L8e=Es(),D8e=St(),WQ=yr(),k8e=Bn(),N8e=kh().IteratorPrototype,uT=wi(),nk=Di(),F8e=D8e("toStringTag"),HQ="IteratorHelper",KQ="WrapForValidIterator",z8e=WQ.set,YQ=function(e){var t=WQ.getterFor(e?KQ:HQ);return L8e(R8e(N8e),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return uT(void 0,!0);try{var o=n.nextHandler();return n.returnHandlerResult?o:uT(o,n.done)}catch(i){throw n.done=!0,i}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var o=k8e(n,"return");return o?q8e(o,n):uT(void 0,!0)}if(r.inner)try{nk(r.inner.iterator,"normal")}catch(i){return nk(n,"throw",i)}return n&&nk(n,"normal"),uT(void 0,!0)}})},j8e=YQ(!0),XQ=YQ(!1);O8e(XQ,F8e,"Iterator Helper");JQ.exports=function(e,t,r){var n=function(i,f){f?(f.iterator=i.iterator,f.next=i.next):f=i,f.type=t?KQ:HQ,f.returnHandlerResult=!!r,f.nextHandler=e,f.counter=0,f.done=!1,z8e(this,f)};return n.prototype=t?j8e:XQ,n}});var al=P((h9t,QQ)=>{"use strict";h();var B8e=it();QQ.exports=function(e,t){var r=B8e.Iterator,n=r&&r.prototype,o=n&&n[e],i=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){i=!0}},-1)}catch(f){f instanceof t||(i=!1)}if(!i)return o}});var sk=P(()=>{"use strict";h();var U8e=te(),ok=ot(),ak=st(),V8e=fn(),$8e=dv(),G8e=mv(),Z8e=Di(),W8e=Gh(),H8e=al(),eee=fr(),ik=!eee&&H8e("drop",RangeError),K8e=W8e(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=ak(ok(t,e)),n=this.done=!!r.done,n)return;if(r=ak(ok(t,e)),n=this.done=!!r.done,!n)return r.value});U8e({target:"Iterator",proto:!0,real:!0,forced:eee||ik},{drop:function(t){ak(this);var r;try{r=G8e($8e(+t))}catch(n){Z8e(this,"throw",n)}return ik?ok(ik,this,r):new K8e(V8e(this),{remaining:r})}})});var uk=P(()=>{"use strict";h();var Y8e=te(),X8e=ot(),J8e=bn(),Q8e=Pt(),eZe=st(),tZe=fn(),rZe=Di(),nZe=al(),lk=nZe("every",TypeError);Y8e({target:"Iterator",proto:!0,real:!0,forced:lk},{every:function(t){eZe(this);try{Q8e(t)}catch(o){rZe(this,"throw",o)}if(lk)return X8e(lk,this,t);var r=tZe(this),n=0;return!J8e(r,function(o,i){if(!t(o,n++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var hk=P(()=>{"use strict";h();var iZe=te(),tee=ot(),oZe=Pt(),ree=st(),aZe=fn(),sZe=Gh(),lZe=zS(),nee=fr(),uZe=Di(),cZe=al(),ck=!nee&&cZe("filter",TypeError),hZe=sZe(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,o,i;;){if(n=ree(tee(r,e)),o=this.done=!!n.done,o)return;if(i=n.value,lZe(e,t,[i,this.counter++],!0))return i}});iZe({target:"Iterator",proto:!0,real:!0,forced:nee||ck},{filter:function(t){ree(this);try{oZe(t)}catch(r){uZe(this,"throw",r)}return ck?tee(ck,this,t):new hZe(aZe(this),{predicate:t})}})});var pk=P(()=>{"use strict";h();var fZe=te(),pZe=ot(),dZe=bn(),mZe=Pt(),vZe=st(),gZe=fn(),yZe=Di(),_Ze=al(),fk=_Ze("find",TypeError);fZe({target:"Iterator",proto:!0,real:!0,forced:fk},{find:function(t){vZe(this);try{mZe(t)}catch(o){yZe(this,"throw",o)}if(fk)return pZe(fk,this,t);var r=gZe(this),n=0;return dZe(r,function(o,i){if(t(o,n++))return i(o)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var dk=P((T9t,oee)=>{"use strict";h();var xZe=ot(),iee=st(),bZe=fn(),wZe=Bl();oee.exports=function(e,t){(!t||typeof e!="string")&&iee(e);var r=wZe(e);return bZe(iee(r!==void 0?xZe(r,e):e))}});var _k=P(()=>{"use strict";h();var EZe=te(),vk=ot(),SZe=Pt(),gk=st(),TZe=fn(),IZe=dk(),CZe=Gh(),yk=Di(),aee=fr(),PZe=al(),mk=!aee&&PZe("flatMap",TypeError),AZe=CZe(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=gk(vk(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(o){yk(e,"throw",o)}if(r=gk(vk(this.next,e)),this.done=!!r.done)return;try{this.inner=IZe(t(r.value,this.counter++),!1)}catch(o){yk(e,"throw",o)}}});EZe({target:"Iterator",proto:!0,real:!0,forced:aee||mk},{flatMap:function(t){gk(this);try{SZe(t)}catch(r){yk(this,"throw",r)}return mk?vk(mk,this,t):new AZe(TZe(this),{mapper:t,inner:null})}})});var bk=P(()=>{"use strict";h();var MZe=te(),qZe=ot(),RZe=bn(),OZe=Pt(),LZe=st(),DZe=fn(),kZe=Di(),NZe=al(),xk=NZe("forEach",TypeError);MZe({target:"Iterator",proto:!0,real:!0,forced:xk},{forEach:function(t){LZe(this);try{OZe(t)}catch(o){kZe(this,"throw",o)}if(xk)return qZe(xk,this,t);var r=DZe(this),n=0;RZe(r,function(o){t(o,n++)},{IS_RECORD:!0})}})});var wk=P(()=>{"use strict";h();var FZe=te(),zZe=ot(),jZe=Jt(),BZe=Ji(),UZe=kh().IteratorPrototype,VZe=Gh(),$Ze=dk(),GZe=fr(),ZZe=VZe(function(){return zZe(this.next,this.iterator)},!0);FZe({target:"Iterator",stat:!0,forced:GZe},{from:function(t){var r=$Ze(typeof t=="string"?jZe(t):t,!0);return BZe(UZe,r.iterator)?r.iterator:new ZZe(r)}})});var cT=P(()=>{"use strict";h();var WZe=te(),see=ot(),HZe=Pt(),lee=st(),KZe=fn(),YZe=Gh(),XZe=zS(),JZe=Di(),QZe=al(),uee=fr(),Ek=!uee&&QZe("map",TypeError),eWe=YZe(function(){var e=this.iterator,t=lee(see(this.next,e)),r=this.done=!!t.done;if(!r)return XZe(e,this.mapper,[t.value,this.counter++],!0)});WZe({target:"Iterator",proto:!0,real:!0,forced:uee||Ek},{map:function(t){lee(this);try{HZe(t)}catch(r){JZe(this,"throw",r)}return Ek?see(Ek,this,t):new eWe(KZe(this),{mapper:t})}})});var Tk=P(()=>{"use strict";h();var tWe=te(),rWe=bn(),nWe=Pt(),iWe=st(),oWe=fn(),aWe=Di(),sWe=al(),lWe=Qi(),uWe=We(),cee=TypeError,hee=uWe(function(){[].keys().reduce(function(){},void 0)}),Sk=!hee&&sWe("reduce",cee);tWe({target:"Iterator",proto:!0,real:!0,forced:hee||Sk},{reduce:function(t){iWe(this);try{nWe(t)}catch(f){aWe(this,"throw",f)}var r=arguments.length<2,n=r?void 0:arguments[1];if(Sk)return lWe(Sk,this,r?[t]:[t,n]);var o=oWe(this),i=0;if(rWe(o,function(f){r?(r=!1,n=f):n=t(n,f,i),i++},{IS_RECORD:!0}),r)throw new cee("Reduce of empty iterator with no initial value");return n}})});var Ck=P(()=>{"use strict";h();var cWe=te(),hWe=ot(),fWe=bn(),pWe=Pt(),dWe=st(),mWe=fn(),vWe=Di(),gWe=al(),Ik=gWe("some",TypeError);cWe({target:"Iterator",proto:!0,real:!0,forced:Ik},{some:function(t){dWe(this);try{pWe(t)}catch(o){vWe(this,"throw",o)}if(Ik)return hWe(Ik,this,t);var r=mWe(this),n=0;return fWe(r,function(o,i){if(t(o,n++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var Ak=P(()=>{"use strict";h();var yWe=te(),fee=ot(),pee=st(),_We=fn(),xWe=dv(),bWe=mv(),wWe=Gh(),dee=Di(),EWe=al(),mee=fr(),Pk=!mee&&EWe("take",RangeError),SWe=wWe(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,dee(e,"normal",void 0);var t=pee(fee(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});yWe({target:"Iterator",proto:!0,real:!0,forced:mee||Pk},{take:function(t){pee(this);var r;try{r=bWe(xWe(+t))}catch(n){dee(this,"throw",n)}return Pk?fee(Pk,this,r):new SWe(_We(this),{remaining:r})}})});var Mk=P(()=>{"use strict";h();var TWe=te(),IWe=st(),CWe=bn(),PWe=fn(),AWe=[].push;TWe({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return CWe(PWe(IWe(this)),AWe,{that:t,IS_RECORD:!0}),t}})});var vee=P(()=>{"use strict";h();var MWe=it(),qWe=Uo();qWe(MWe.JSON,"JSON",!0)});var hT=P((eKt,gee)=>{"use strict";h();var RWe=We();gee.exports=RWe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var pT=P((rKt,_ee)=>{"use strict";h();var OWe=We(),LWe=wt(),DWe=Xi(),yee=hT(),fT=Object.isExtensible,kWe=OWe(function(){fT(1)});_ee.exports=kWe||yee?function(t){return!LWe(t)||yee&&DWe(t)==="ArrayBuffer"?!1:fT?fT(t):!0}:fT});var ic=P((iKt,xee)=>{"use strict";h();var NWe=We();xee.exports=!NWe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Zh=P((aKt,Eee)=>{"use strict";h();var FWe=te(),zWe=Be(),jWe=Jm(),BWe=wt(),qk=Vt(),UWe=Zr().f,bee=Ah(),VWe=xS(),Rk=pT(),$We=Ph(),GWe=ic(),wee=!1,oc=$We("meta"),ZWe=0,Ok=function(e){UWe(e,oc,{value:{objectID:"O"+ZWe++,weakData:{}}})},WWe=function(e,t){if(!BWe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!qk(e,oc)){if(!Rk(e))return"F";if(!t)return"E";Ok(e)}return e[oc].objectID},HWe=function(e,t){if(!qk(e,oc)){if(!Rk(e))return!0;if(!t)return!1;Ok(e)}return e[oc].weakData},KWe=function(e){return GWe&&wee&&Rk(e)&&!qk(e,oc)&&Ok(e),e},YWe=function(){XWe.enable=function(){},wee=!0;var e=bee.f,t=zWe([].splice),r={};r[oc]=1,e(r).length&&(bee.f=function(n){for(var o=e(n),i=0,f=o.length;i<f;i++)if(o[i]===oc){t(o,i,1);break}return o},FWe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:VWe.f}))},XWe=Eee.exports={enable:YWe,fastKey:WWe,getWeakData:HWe,onFreeze:KWe};jWe[oc]=!0});var X0=P((lKt,Tee)=>{"use strict";h();var JWe=te(),QWe=it(),eHe=Be(),See=ev(),tHe=Ir(),rHe=Zh(),nHe=bn(),iHe=wo(),oHe=jt(),aHe=sa(),Lk=wt(),Dk=We(),sHe=N0(),lHe=Uo(),uHe=Oh();Tee.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,o=e.indexOf("Weak")!==-1,i=n?"set":"add",f=QWe[e],g=f&&f.prototype,w=f,E={},C=function(H){var Q=eHe(g[H]);tHe(g,H,H==="add"?function(de){return Q(this,de===0?0:de),this}:H==="delete"?function(se){return o&&!Lk(se)?!1:Q(this,se===0?0:se)}:H==="get"?function(de){return o&&!Lk(de)?void 0:Q(this,de===0?0:de)}:H==="has"?function(de){return o&&!Lk(de)?!1:Q(this,de===0?0:de)}:function(de,De){return Q(this,de===0?0:de,De),this})},q=See(e,!oHe(f)||!(o||g.forEach&&!Dk(function(){new f().entries().next()})));if(q)w=r.getConstructor(t,e,n,i),rHe.enable();else if(See(e,!0)){var L=new w,B=L[i](o?{}:-0,1)!==L,$=Dk(function(){L.has(1)}),ee=sHe(function(H){new f(H)}),G=!o&&Dk(function(){for(var H=new f,Q=5;Q--;)H[i](Q,Q);return!H.has(-0)});ee||(w=t(function(H,Q){iHe(H,g);var se=uHe(new f,H,w);return aHe(Q)||nHe(Q,se[i],{that:se,AS_ENTRIES:n}),se}),w.prototype=g,g.constructor=w),($||G)&&(C("delete"),C("has"),n&&C("get")),(G||B)&&C(i),o&&g.clear&&delete g.clear}return E[e]=w,JWe({global:!0,constructor:!0,forced:w!==f},E),lHe(w,e),o||r.setStrong(w,e,n),w}});var Nk=P((cKt,qee)=>{"use strict";h();var Iee=Un(),cHe=tn(),Cee=Es(),hHe=zr(),fHe=wo(),pHe=sa(),dHe=bn(),mHe=US(),dT=wi(),vHe=zh(),J0=vt(),Pee=Zh().fastKey,Mee=yr(),Aee=Mee.set,kk=Mee.getterFor;qee.exports={getConstructor:function(e,t,r,n){var o=e(function(E,C){fHe(E,i),Aee(E,{type:t,index:Iee(null),first:null,last:null,size:0}),J0||(E.size=0),pHe(C)||dHe(C,E[n],{that:E,AS_ENTRIES:r})}),i=o.prototype,f=kk(t),g=function(E,C,q){var L=f(E),B=w(E,C),$,ee;return B?B.value=q:(L.last=B={index:ee=Pee(C,!0),key:C,value:q,previous:$=L.last,next:null,removed:!1},L.first||(L.first=B),$&&($.next=B),J0?L.size++:E.size++,ee!=="F"&&(L.index[ee]=B)),E},w=function(E,C){var q=f(E),L=Pee(C),B;if(L!=="F")return q.index[L];for(B=q.first;B;B=B.next)if(B.key===C)return B};return Cee(i,{clear:function(){for(var C=this,q=f(C),L=q.first;L;)L.removed=!0,L.previous&&(L.previous=L.previous.next=null),L=L.next;q.first=q.last=null,q.index=Iee(null),J0?q.size=0:C.size=0},delete:function(E){var C=this,q=f(C),L=w(C,E);if(L){var B=L.next,$=L.previous;delete q.index[L.index],L.removed=!0,$&&($.next=B),B&&(B.previous=$),q.first===L&&(q.first=B),q.last===L&&(q.last=$),J0?q.size--:C.size--}return!!L},forEach:function(C){for(var q=f(this),L=hHe(C,arguments.length>1?arguments[1]:void 0),B;B=B?B.next:q.first;)for(L(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(C){return!!w(this,C)}}),Cee(i,r?{get:function(C){var q=w(this,C);return q&&q.value},set:function(C,q){return g(this,C===0?0:C,q)}}:{add:function(C){return g(this,C=C===0?0:C,C)}}),J0&&cHe(i,"size",{configurable:!0,get:function(){return f(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=kk(t),i=kk(n);mHe(e,t,function(f,g){Aee(this,{type:n,target:f,state:o(f),kind:g,last:null})},function(){for(var f=i(this),g=f.kind,w=f.last;w&&w.removed;)w=w.previous;return!f.target||!(f.last=w=w?w.next:f.state.first)?(f.target=null,dT(void 0,!0)):dT(g==="keys"?w.key:g==="values"?w.value:[w.key,w.value],!1)},r?"entries":"values",!r,!0),vHe(t)}}});var Ree=P(()=>{"use strict";h();var gHe=X0(),yHe=Nk();gHe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},yHe)});var mT=P(()=>{"use strict";h();Ree()});var Ei=P((yKt,Oee)=>{"use strict";h();var vT=Be(),Q0=Map.prototype;Oee.exports={Map,set:vT(Q0.set),get:vT(Q0.get),has:vT(Q0.has),remove:vT(Q0.delete),proto:Q0}});var Fk=P(()=>{"use strict";h();var _He=te(),xHe=Be(),bHe=Pt(),wHe=Hr(),EHe=bn(),gT=Ei(),Lee=fr(),SHe=We(),Dee=gT.Map,THe=gT.has,IHe=gT.get,CHe=gT.set,PHe=xHe([].push),AHe=Lee||SHe(function(){return Dee.groupBy("ab",function(e){return e}).get("a").length!==1});_He({target:"Map",stat:!0,forced:Lee||AHe},{groupBy:function(t,r){wHe(t),bHe(r);var n=new Dee,o=0;return EHe(t,function(i){var f=r(i,o++);THe(n,f)?PHe(IHe(n,f),i):CHe(n,f,[i])}),n}})});var zk=P((EKt,kee)=>{"use strict";h();var MHe=Math.log;kee.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:MHe(1+r)}});var Fee=P(()=>{"use strict";h();var qHe=te(),RHe=zk(),jk=Math.acosh,OHe=Math.log,Nee=Math.sqrt,LHe=Math.LN2,DHe=!jk||Math.floor(jk(Number.MAX_VALUE))!==710||jk(1/0)!==1/0;qHe({target:"Math",stat:!0,forced:DHe},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?OHe(r)+LHe:RHe(r-1+Nee(r-1)*Nee(r+1))}})});var Bee=P(()=>{"use strict";h();var kHe=te(),zee=Math.asinh,NHe=Math.log,FHe=Math.sqrt;function jee(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-jee(-t):NHe(t+FHe(t*t+1))}var zHe=!(zee&&1/zee(0)>0);kHe({target:"Math",stat:!0,forced:zHe},{asinh:jee})});var Vee=P(()=>{"use strict";h();var jHe=te(),Uee=Math.atanh,BHe=Math.log,UHe=!(Uee&&1/Uee(-0)<0);jHe({target:"Math",stat:!0,forced:UHe},{atanh:function(t){var r=+t;return r===0?r:BHe((1+r)/(1-r))/2}})});var $ee=P(()=>{"use strict";h();var VHe=te(),$He=HS(),GHe=Math.abs,ZHe=Math.pow;VHe({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return $He(r)*ZHe(GHe(r),1/3)}})});var Gee=P(()=>{"use strict";h();var WHe=te(),HHe=Math.floor,KHe=Math.log,YHe=Math.LOG2E;WHe({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-HHe(KHe(r+.5)*YHe):32}})});var tx=P((jKt,Zee)=>{"use strict";h();var ex=Math.expm1,XHe=Math.exp;Zee.exports=!ex||ex(10)>22025.465794806718||ex(10)<22025.465794806718||ex(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:XHe(r)-1}:ex});var Hee=P(()=>{"use strict";h();var JHe=te(),QHe=tx(),Wee=Math.cosh,e9e=Math.abs,Bk=Math.E,t9e=!Wee||Wee(710)===1/0;JHe({target:"Math",stat:!0,forced:t9e},{cosh:function(t){var r=QHe(e9e(t)-1)+1;return(r+1/(r*Bk*Bk))*(Bk/2)}})});var Yee=P(()=>{"use strict";h();var r9e=te(),Kee=tx();r9e({target:"Math",stat:!0,forced:Kee!==Math.expm1},{expm1:Kee})});var Xee=P(()=>{"use strict";h();var n9e=te(),i9e=KS();n9e({target:"Math",stat:!0},{fround:i9e})});var Uk=P(()=>{"use strict";h();var o9e=te(),a9e=nD(),s9e=.0009765625,l9e=65504,u9e=6103515625e-14;o9e({target:"Math",stat:!0},{f16round:function(t){return a9e(t,s9e,l9e,u9e)}})});var Qee=P(()=>{"use strict";h();var c9e=te(),Jee=Math.hypot,h9e=Math.abs,f9e=Math.sqrt,p9e=!!Jee&&Jee(1/0,NaN)!==1/0;c9e({target:"Math",stat:!0,arity:2,forced:p9e},{hypot:function(t,r){for(var n=0,o=0,i=arguments.length,f=0,g,w;o<i;)g=h9e(arguments[o++]),f<g?(w=f/g,n=n*w*w+1,f=g):g>0?(w=g/f,n+=w*w):n+=g;return f===1/0?1/0:f*f9e(n)}})});var tte=P(()=>{"use strict";h();var d9e=te(),m9e=We(),ete=Math.imul,v9e=m9e(function(){return ete(4294967295,5)!==-5||ete.length!==2});d9e({target:"Math",stat:!0,forced:v9e},{imul:function(t,r){var n=65535,o=+t,i=+r,f=n&o,g=n&i;return 0|f*g+((n&o>>>16)*g+f*(n&i>>>16)<<16>>>0)}})});var Vk=P((a7t,rte)=>{"use strict";h();var g9e=Math.log,y9e=Math.LOG10E;rte.exports=Math.log10||function(t){return g9e(t)*y9e}});var nte=P(()=>{"use strict";h();var _9e=te(),x9e=Vk();_9e({target:"Math",stat:!0},{log10:x9e})});var ite=P(()=>{"use strict";h();var b9e=te(),w9e=zk();b9e({target:"Math",stat:!0},{log1p:w9e})});var ote=P(()=>{"use strict";h();var E9e=te(),S9e=ED();E9e({target:"Math",stat:!0},{log2:S9e})});var ate=P(()=>{"use strict";h();var T9e=te(),I9e=HS();T9e({target:"Math",stat:!0},{sign:I9e})});var ute=P(()=>{"use strict";h();var C9e=te(),P9e=We(),ste=tx(),A9e=Math.abs,lte=Math.exp,M9e=Math.E,q9e=P9e(function(){return Math.sinh(-2e-17)!==-2e-17});C9e({target:"Math",stat:!0,forced:q9e},{sinh:function(t){var r=+t;return A9e(r)<1?(ste(r)-ste(-r))/2:(lte(r-1)-lte(-r-1))*(M9e/2)}})});var fte=P(()=>{"use strict";h();var R9e=te(),cte=tx(),hte=Math.exp;R9e({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=cte(r),o=cte(-r);return n===1/0?1:o===1/0?-1:(n-o)/(hte(r)+hte(-r))}})});var pte=P(()=>{"use strict";h();var O9e=Uo();O9e(Math,"Math",!0)});var dte=P(()=>{"use strict";h();var L9e=te(),D9e=LO();L9e({target:"Math",stat:!0},{trunc:D9e})});var rx=P((R7t,mte)=>{"use strict";h();var k9e=Be();mte.exports=k9e(1 .valueOf)});var Dp=P((L7t,vte)=>{"use strict";h();vte.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var kp=P((k7t,yte)=>{"use strict";h();var N9e=Be(),F9e=Hr(),z9e=Rt(),Gk=Dp(),gte=N9e("".replace),j9e=RegExp("^["+Gk+"]+"),B9e=RegExp("(^|[^"+Gk+"])["+Gk+"]+$"),$k=function(e){return function(t){var r=z9e(F9e(t));return e&1&&(r=gte(r,j9e,"")),e&2&&(r=gte(r,B9e,"$1")),r}};yte.exports={start:$k(1),end:$k(2),trim:$k(3)}});var Tte=P(()=>{"use strict";h();var U9e=te(),Zk=fr(),V9e=vt(),bte=it(),Wk=bS(),wte=Be(),$9e=ev(),_te=Vt(),G9e=Oh(),Z9e=Ji(),W9e=Hu(),Ete=_0(),H9e=We(),K9e=Ah().f,Y9e=Oi().f,X9e=Zr().f,J9e=rx(),Q9e=kp().trim,nx="Number",vv=bte[nx],xte=Wk[nx],Hk=vv.prototype,eKe=bte.TypeError,tKe=wte("".slice),yT=wte("".charCodeAt),rKe=function(e){var t=Ete(e,"number");return typeof t=="bigint"?t:nKe(t)},nKe=function(e){var t=Ete(e,"number"),r,n,o,i,f,g,w,E;if(W9e(t))throw new eKe("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=Q9e(t),r=yT(t,0),r===43||r===45){if(n=yT(t,2),n===88||n===120)return NaN}else if(r===48){switch(yT(t,1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+t}for(f=tKe(t,2),g=f.length,w=0;w<g;w++)if(E=yT(f,w),E<48||E>i)return NaN;return parseInt(f,o)}}return+t},Kk=$9e(nx,!vv(" 0o1")||!vv("0b1")||vv("+0x1")),iKe=function(e){return Z9e(Hk,e)&&H9e(function(){J9e(e)})},_T=function(t){var r=arguments.length<1?0:vv(rKe(t));return iKe(this)?G9e(Object(r),this,_T):r};_T.prototype=Hk;Kk&&!Zk&&(Hk.constructor=_T);U9e({global:!0,constructor:!0,wrap:!0,forced:Kk},{Number:_T});var Ste=function(e,t){for(var r=V9e?K9e(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,o;r.length>n;n++)_te(t,o=r[n])&&!_te(e,o)&&X9e(e,o,Y9e(t,o))};Zk&&xte&&Ste(Wk[nx],xte);(Kk||Zk)&&Ste(Wk[nx],vv)});var Ite=P(()=>{"use strict";h();var oKe=te();oKe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var Yk=P(($7t,Cte)=>{"use strict";h();var aKe=it(),sKe=aKe.isFinite;Cte.exports=Number.isFinite||function(t){return typeof t=="number"&&sKe(t)}});var Pte=P(()=>{"use strict";h();var lKe=te(),uKe=Yk();lKe({target:"Number",stat:!0},{isFinite:uKe})});var xT=P((K7t,Ate)=>{"use strict";h();var cKe=wt(),hKe=Math.floor;Ate.exports=Number.isInteger||function(t){return!cKe(t)&&isFinite(t)&&hKe(t)===t}});var Mte=P(()=>{"use strict";h();var fKe=te(),pKe=xT();fKe({target:"Number",stat:!0},{isInteger:pKe})});var qte=P(()=>{"use strict";h();var dKe=te();dKe({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var Rte=P(()=>{"use strict";h();var mKe=te(),vKe=xT(),gKe=Math.abs;mKe({target:"Number",stat:!0},{isSafeInteger:function(t){return vKe(t)&&gKe(t)<=9007199254740991}})});var Ote=P(()=>{"use strict";h();var yKe=te();yKe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var Lte=P(()=>{"use strict";h();var _Ke=te();_Ke({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var Xk=P((fYt,Fte)=>{"use strict";h();var Nte=it(),xKe=We(),bKe=Be(),wKe=Rt(),EKe=kp().trim,SKe=Dp(),TKe=bKe("".charAt),bT=Nte.parseFloat,Dte=Nte.Symbol,kte=Dte&&Dte.iterator,IKe=1/bT(SKe+"-0")!==-1/0||kte&&!xKe(function(){bT(Object(kte))});Fte.exports=IKe?function(t){var r=EKe(wKe(t)),n=bT(r);return n===0&&TKe(r,0)==="-"?-0:n}:bT});var jte=P(()=>{"use strict";h();var CKe=te(),zte=Xk();CKe({target:"Number",stat:!0,forced:Number.parseFloat!==zte},{parseFloat:zte})});var Jk=P((gYt,Zte)=>{"use strict";h();var $te=it(),PKe=We(),AKe=Be(),MKe=Rt(),qKe=kp().trim,Bte=Dp(),ix=$te.parseInt,Ute=$te.Symbol,Vte=Ute&&Ute.iterator,Gte=/^[+-]?0x/i,RKe=AKe(Gte.exec),OKe=ix(Bte+"08")!==8||ix(Bte+"0x16")!==22||Vte&&!PKe(function(){ix(Object(Vte))});Zte.exports=OKe?function(t,r){var n=qKe(MKe(t));return ix(n,r>>>0||(RKe(Gte,n)?16:10))}:ix});var Hte=P(()=>{"use strict";h();var LKe=te(),Wte=Jk();LKe({target:"Number",stat:!0,forced:Number.parseInt!==Wte},{parseInt:Wte})});var Qte=P(()=>{"use strict";h();var DKe=te(),eN=Be(),kKe=en(),NKe=rx(),FKe=H0(),zKe=Vk(),Qk=We(),jKe=RangeError,Kte=String,BKe=isFinite,UKe=Math.abs,VKe=Math.floor,Yte=Math.pow,$Ke=Math.round,Gl=eN(1 .toExponential),GKe=eN(FKe),Xte=eN("".slice),Jte=Gl(-69e-12,4)==="-6.9000e-11"&&Gl(1.255,2)==="1.25e+0"&&Gl(12345,3)==="1.235e+4"&&Gl(25,0)==="3e+1",ZKe=function(){return Qk(function(){Gl(1,1/0)})&&Qk(function(){Gl(1,-1/0)})},WKe=function(){return!Qk(function(){Gl(1/0,1/0),Gl(NaN,1/0)})},HKe=!Jte||!ZKe()||!WKe();DKe({target:"Number",proto:!0,forced:HKe},{toExponential:function(t){var r=NKe(this);if(t===void 0)return Gl(r);var n=kKe(t);if(!BKe(r))return String(r);if(n<0||n>20)throw new jKe("Incorrect fraction digits");if(Jte)return Gl(r,n);var o="",i,f,g,w;if(r<0&&(o="-",r=-r),r===0)f=0,i=GKe("0",n+1);else{var E=zKe(r);f=VKe(E);var C=Yte(10,f-n),q=$Ke(r/C);2*r>=(2*q+1)*C&&(q+=1),q>=Yte(10,n+1)&&(q/=10,f+=1),i=Kte(q)}return n!==0&&(i=Xte(i,0,1)+"."+Xte(i,1)),f===0?(g="+",w="0"):(g=f>0?"+":"-",w=Kte(UKe(f))),i+="e"+g+w,o+i}})});var ore=P(()=>{"use strict";h();var KKe=te(),nN=Be(),YKe=en(),XKe=rx(),JKe=H0(),ere=We(),QKe=RangeError,nre=String,ire=Math.floor,rN=nN(JKe),tre=nN("".slice),ox=nN(1 .toFixed),yv=function(e,t,r){return t===0?r:t%2===1?yv(e,t-1,r*e):yv(e*e,t/2,r)},e7e=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},gv=function(e,t,r){for(var n=-1,o=r;++n<6;)o+=t*e[n],e[n]=o%1e7,o=ire(o/1e7)},tN=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=ire(n/t),n=n%t*1e7},rre=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=nre(e[t]);r=r===""?n:r+rN("0",7-n.length)+n}return r},t7e=ere(function(){return ox(8e-5,3)!=="0.000"||ox(.9,0)!=="1"||ox(1.255,2)!=="1.25"||ox(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!ere(function(){ox({})});KKe({target:"Number",proto:!0,forced:t7e},{toFixed:function(t){var r=XKe(this),n=YKe(t),o=[0,0,0,0,0,0],i="",f="0",g,w,E,C;if(n<0||n>20)throw new QKe("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return nre(r);if(r<0&&(i="-",r=-r),r>1e-21)if(g=e7e(r*yv(2,69,1))-69,w=g<0?r*yv(2,-g,1):r/yv(2,g,1),w*=4503599627370496,g=52-g,g>0){for(gv(o,0,w),E=n;E>=7;)gv(o,1e7,0),E-=7;for(gv(o,yv(10,E,1),0),E=g-1;E>=23;)tN(o,1<<23),E-=23;tN(o,1<<E),gv(o,1,1),tN(o,2),f=rre(o)}else gv(o,0,w),gv(o,1<<-g,0),f=rre(o)+rN("0",n);return n>0?(C=f.length,f=i+(C<=n?"0."+rN("0",n-C)+f:tre(f,0,C-n)+"."+tre(f,C-n))):f=i+f,f}})});var lre=P(()=>{"use strict";h();var r7e=te(),n7e=Be(),are=We(),sre=rx(),wT=n7e(1 .toPrecision),i7e=are(function(){return wT(1,void 0)!=="1"})||!are(function(){wT({})});r7e({target:"Number",proto:!0,forced:i7e},{toPrecision:function(t){return t===void 0?wT(sre(this)):wT(sre(this),t)}})});var oN=P((qYt,hre)=>{"use strict";h();var ure=vt(),o7e=Be(),a7e=ot(),s7e=We(),iN=Tp(),l7e=T0(),u7e=g0(),c7e=Jt(),h7e=Wu(),_v=Object.assign,cre=Object.defineProperty,f7e=o7e([].concat);hre.exports=!_v||s7e(function(){if(ure&&_v({b:1},_v(cre({},"a",{enumerable:!0,get:function(){cre(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(o){t[o]=o}),_v({},e)[r]!==7||iN(_v({},t)).join("")!==n})?function(t,r){for(var n=c7e(t),o=arguments.length,i=1,f=l7e.f,g=u7e.f;o>i;)for(var w=h7e(arguments[i++]),E=f?f7e(iN(w),f(w)):iN(w),C=E.length,q=0,L;C>q;)L=E[q++],(!ure||a7e(g,w,L))&&(n[L]=w[L]);return n}:_v});var pre=P(()=>{"use strict";h();var p7e=te(),fre=oN();p7e({target:"Object",stat:!0,arity:2,forced:Object.assign!==fre},{assign:fre})});var dre=P(()=>{"use strict";h();var d7e=te(),m7e=vt(),v7e=Un();d7e({target:"Object",stat:!0,sham:!m7e},{create:v7e})});var ax=P((zYt,vre)=>{"use strict";h();var g7e=fr(),y7e=it(),_7e=We(),mre=WS();vre.exports=g7e||!_7e(function(){if(!(mre&&mre<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete y7e[e]}})});var gre=P(()=>{"use strict";h();var x7e=te(),b7e=vt(),w7e=ax(),E7e=Pt(),S7e=Jt(),T7e=Zr();b7e&&x7e({target:"Object",proto:!0,forced:w7e},{__defineGetter__:function(t,r){T7e.f(S7e(this),t,{get:E7e(r),enumerable:!0,configurable:!0})}})});var _re=P(()=>{"use strict";h();var I7e=te(),C7e=vt(),yre=gS().f;I7e({target:"Object",stat:!0,forced:Object.defineProperties!==yre,sham:!C7e},{defineProperties:yre})});var bre=P(()=>{"use strict";h();var P7e=te(),A7e=vt(),xre=Zr().f;P7e({target:"Object",stat:!0,forced:Object.defineProperty!==xre,sham:!A7e},{defineProperty:xre})});var wre=P(()=>{"use strict";h();var M7e=te(),q7e=vt(),R7e=ax(),O7e=Pt(),L7e=Jt(),D7e=Zr();q7e&&M7e({target:"Object",proto:!0,forced:R7e},{__defineSetter__:function(t,r){D7e.f(L7e(this),t,{set:O7e(r),enumerable:!0,configurable:!0})}})});var aN=P((QYt,Cre)=>{"use strict";h();var Sre=vt(),k7e=We(),Tre=Be(),N7e=ui(),F7e=Tp(),z7e=si(),j7e=g0().f,Ire=Tre(j7e),B7e=Tre([].push),U7e=Sre&&k7e(function(){var e=Object.create(null);return e[2]=2,!Ire(e,2)}),Ere=function(e){return function(t){for(var r=z7e(t),n=F7e(r),o=U7e&&N7e(r)===null,i=n.length,f=0,g=[],w;i>f;)w=n[f++],(!Sre||(o?w in r:Ire(r,w)))&&B7e(g,e?[w,r[w]]:r[w]);return g}};Cre.exports={entries:Ere(!0),values:Ere(!1)}});var Pre=P(()=>{"use strict";h();var V7e=te(),$7e=aN().entries;V7e({target:"Object",stat:!0},{entries:function(t){return $7e(t)}})});var Are=P(()=>{"use strict";h();var G7e=te(),Z7e=ic(),W7e=We(),H7e=wt(),K7e=Zh().onFreeze,sN=Object.freeze,Y7e=W7e(function(){sN(1)});G7e({target:"Object",stat:!0,forced:Y7e,sham:!Z7e},{freeze:function(t){return sN&&H7e(t)?sN(K7e(t)):t}})});var Mre=P(()=>{"use strict";h();var X7e=te(),J7e=bn(),Q7e=bs();X7e({target:"Object",stat:!0},{fromEntries:function(t){var r={};return J7e(t,function(n,o){Q7e(r,n,o)},{AS_ENTRIES:!0}),r}})});var Ore=P(()=>{"use strict";h();var eYe=te(),tYe=We(),rYe=si(),qre=Oi().f,Rre=vt(),nYe=!Rre||tYe(function(){qre(1)});eYe({target:"Object",stat:!0,forced:nYe,sham:!Rre},{getOwnPropertyDescriptor:function(t,r){return qre(rYe(t),r)}})});var Lre=P(()=>{"use strict";h();var iYe=te(),oYe=vt(),aYe=pS(),sYe=si(),lYe=Oi(),uYe=bs();iYe({target:"Object",stat:!0,sham:!oYe},{getOwnPropertyDescriptors:function(t){for(var r=sYe(t),n=lYe.f,o=aYe(r),i={},f=0,g,w;o.length>f;)w=n(r,g=o[f++]),w!==void 0&&uYe(i,g,w);return i}})});var Dre=P(()=>{"use strict";h();var cYe=te(),hYe=We(),fYe=xS().f,pYe=hYe(function(){return!Object.getOwnPropertyNames(1)});cYe({target:"Object",stat:!0,forced:pYe},{getOwnPropertyNames:fYe})});var Nre=P(()=>{"use strict";h();var dYe=te(),mYe=We(),vYe=Jt(),kre=ui(),gYe=OS(),yYe=mYe(function(){kre(1)});dYe({target:"Object",stat:!0,forced:yYe,sham:!gYe},{getPrototypeOf:function(t){return kre(vYe(t))}})});var lN=P(()=>{"use strict";h();var _Ye=te(),xYe=Ct(),bYe=Be(),wYe=Pt(),EYe=Hr(),SYe=zl(),TYe=bn(),IYe=We(),Fre=Object.groupBy,CYe=xYe("Object","create"),PYe=bYe([].push),AYe=!Fre||IYe(function(){return Fre("ab",function(e){return e}).a.length!==1});_Ye({target:"Object",stat:!0,forced:AYe},{groupBy:function(t,r){EYe(t),wYe(r);var n=CYe(null),o=0;return TYe(t,function(i){var f=SYe(r(i,o++));f in n?PYe(n[f],i):n[f]=[i]}),n}})});var uN=P(()=>{"use strict";h();var MYe=te(),qYe=Vt();MYe({target:"Object",stat:!0},{hasOwn:qYe})});var ET=P((PXt,zre)=>{"use strict";h();zre.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var jre=P(()=>{"use strict";h();var RYe=te(),OYe=ET();RYe({target:"Object",stat:!0},{is:OYe})});var Ure=P(()=>{"use strict";h();var LYe=te(),Bre=pT();LYe({target:"Object",stat:!0,forced:Object.isExtensible!==Bre},{isExtensible:Bre})});var $re=P(()=>{"use strict";h();var DYe=te(),kYe=We(),NYe=wt(),FYe=Xi(),Vre=hT(),cN=Object.isFrozen,zYe=Vre||kYe(function(){cN(1)});DYe({target:"Object",stat:!0,forced:zYe},{isFrozen:function(t){return!NYe(t)||Vre&&FYe(t)==="ArrayBuffer"?!0:cN?cN(t):!1}})});var Zre=P(()=>{"use strict";h();var jYe=te(),BYe=We(),UYe=wt(),VYe=Xi(),Gre=hT(),hN=Object.isSealed,$Ye=Gre||BYe(function(){hN(1)});jYe({target:"Object",stat:!0,forced:$Ye},{isSealed:function(t){return!UYe(t)||Gre&&VYe(t)==="ArrayBuffer"?!0:hN?hN(t):!1}})});var Hre=P(()=>{"use strict";h();var GYe=te(),ZYe=Jt(),Wre=Tp(),WYe=We(),HYe=WYe(function(){Wre(1)});GYe({target:"Object",stat:!0,forced:HYe},{keys:function(t){return Wre(ZYe(t))}})});var Kre=P(()=>{"use strict";h();var KYe=te(),YYe=vt(),XYe=ax(),JYe=Jt(),QYe=zl(),eXe=ui(),tXe=Oi().f;YYe&&KYe({target:"Object",proto:!0,forced:XYe},{__lookupGetter__:function(t){var r=JYe(this),n=QYe(t),o;do if(o=tXe(r,n))return o.get;while(r=eXe(r))}})});var Yre=P(()=>{"use strict";h();var rXe=te(),nXe=vt(),iXe=ax(),oXe=Jt(),aXe=zl(),sXe=ui(),lXe=Oi().f;nXe&&rXe({target:"Object",proto:!0,forced:iXe},{__lookupSetter__:function(t){var r=oXe(this),n=aXe(t),o;do if(o=lXe(r,n))return o.set;while(r=sXe(r))}})});var Xre=P(()=>{"use strict";h();var uXe=te(),cXe=wt(),hXe=Zh().onFreeze,fXe=ic(),pXe=We(),fN=Object.preventExtensions,dXe=pXe(function(){fN(1)});uXe({target:"Object",stat:!0,forced:dXe,sham:!fXe},{preventExtensions:function(t){return fN&&cXe(t)?fN(hXe(t)):t}})});var rne=P(()=>{"use strict";h();var mXe=vt(),vXe=tn(),gXe=wt(),yXe=sL(),_Xe=Jt(),xXe=Hr(),Jre=Object.getPrototypeOf,Qre=Object.setPrototypeOf,ene=Object.prototype,tne="__proto__";if(mXe&&Jre&&Qre&&!(tne in ene))try{vXe(ene,tne,{configurable:!0,get:function(){return Jre(_Xe(this))},set:function(t){var r=xXe(this);yXe(t)&&gXe(r)&&Qre(r,t)}})}catch(e){}});var nne=P(()=>{"use strict";h();var bXe=te(),wXe=wt(),EXe=Zh().onFreeze,SXe=ic(),TXe=We(),pN=Object.seal,IXe=TXe(function(){pN(1)});bXe({target:"Object",stat:!0,forced:IXe,sham:!SXe},{seal:function(t){return pN&&wXe(t)?pN(EXe(t)):t}})});var ine=P(()=>{"use strict";h();var CXe=te(),PXe=xs();CXe({target:"Object",stat:!0},{setPrototypeOf:PXe})});var ane=P((uJt,one)=>{"use strict";h();var AXe=mS(),MXe=Bo();one.exports=AXe?{}.toString:function(){return"[object "+MXe(this)+"]"}});var sne=P(()=>{"use strict";h();var qXe=mS(),RXe=Ir(),OXe=ane();qXe||RXe(Object.prototype,"toString",OXe,{unsafe:!0})});var lne=P(()=>{"use strict";h();var LXe=te(),DXe=aN().values;LXe({target:"Object",stat:!0},{values:function(t){return DXe(t)}})});var cne=P(()=>{"use strict";h();var kXe=te(),une=Xk();kXe({global:!0,forced:parseFloat!==une},{parseFloat:une})});var fne=P(()=>{"use strict";h();var NXe=te(),hne=Jk();NXe({global:!0,forced:parseInt!==hne},{parseInt:hne})});var sx=P((EJt,pne)=>{"use strict";h();var FXe=nl(),zXe=Ch(),jXe=TypeError;pne.exports=function(e){if(FXe(e))return e;throw new jXe(zXe(e)+" is not a constructor")}});var lx=P((TJt,mne)=>{"use strict";h();var dne=st(),BXe=sx(),UXe=sa(),VXe=St(),$Xe=VXe("species");mne.exports=function(e,t){var r=dne(e).constructor,n;return r===void 0||UXe(n=dne(r)[$Xe])?t:BXe(n)}});var Wa=P((CJt,vne)=>{"use strict";h();var GXe=TypeError;vne.exports=function(e,t){if(e<t)throw new GXe("Not enough arguments");return e}});var dN=P((AJt,gne)=>{"use strict";h();var ZXe=Xs();gne.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(ZXe)});var hx=P((qJt,Ine)=>{"use strict";h();var Ha=it(),WXe=Qi(),HXe=zr(),yne=jt(),KXe=Vt(),Tne=We(),_ne=NO(),YXe=ua(),xne=x0(),XXe=Wa(),JXe=dN(),QXe=Rp(),xN=Ha.setImmediate,bN=Ha.clearImmediate,eJe=Ha.process,mN=Ha.Dispatch,tJe=Ha.Function,bne=Ha.MessageChannel,rJe=Ha.String,vN=0,ux={},wne="onreadystatechange",cx,Np,gN,yN;Tne(function(){cx=Ha.location});var wN=function(e){if(KXe(ux,e)){var t=ux[e];delete ux[e],t()}},_N=function(e){return function(){wN(e)}},Ene=function(e){wN(e.data)},Sne=function(e){Ha.postMessage(rJe(e),cx.protocol+"//"+cx.host)};(!xN||!bN)&&(xN=function(t){XXe(arguments.length,1);var r=yne(t)?t:tJe(t),n=YXe(arguments,1);return ux[++vN]=function(){WXe(r,void 0,n)},Np(vN),vN},bN=function(t){delete ux[t]},QXe?Np=function(e){eJe.nextTick(_N(e))}:mN&&mN.now?Np=function(e){mN.now(_N(e))}:bne&&!JXe?(gN=new bne,yN=gN.port2,gN.port1.onmessage=Ene,Np=HXe(yN.postMessage,yN)):Ha.addEventListener&&yne(Ha.postMessage)&&!Ha.importScripts&&cx&&cx.protocol!=="file:"&&!Tne(Sne)?(Np=Sne,Ha.addEventListener("message",Ene,!1)):wne in xne("script")?Np=function(e){_ne.appendChild(xne("script"))[wne]=function(){_ne.removeChild(this),wN(e)}}:Np=function(e){setTimeout(_N(e),0)});Ine.exports={set:xN,clear:bN}});var EN=P((OJt,Pne)=>{"use strict";h();var Cne=it(),nJe=vt(),iJe=Object.getOwnPropertyDescriptor;Pne.exports=function(e){if(!nJe)return Cne[e];var t=iJe(Cne,e);return t&&t.value}});var SN=P((DJt,Mne)=>{"use strict";h();var Ane=function(){this.head=null,this.tail=null};Ane.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};Mne.exports=Ane});var Rne=P((NJt,qne)=>{"use strict";h();var oJe=Xs();qne.exports=/ipad|iphone|ipod/i.test(oJe)&&typeof Pebble!="undefined"});var Lne=P((zJt,One)=>{"use strict";h();var aJe=Xs();One.exports=/web0s(?!.*chrome)/i.test(aJe)});var MN=P((BJt,jne)=>{"use strict";h();var bv=it(),sJe=EN(),Dne=zr(),TN=hx().set,lJe=SN(),uJe=dN(),cJe=Rne(),hJe=Lne(),IN=Rp(),kne=bv.MutationObserver||bv.WebKitMutationObserver,Nne=bv.document,Fne=bv.process,ST=bv.Promise,AN=sJe("queueMicrotask"),xv,CN,PN,TT,zne;AN||(fx=new lJe,px=function(){var e,t;for(IN&&(e=Fne.domain)&&e.exit();t=fx.get();)try{t()}catch(r){throw fx.head&&xv(),r}e&&e.enter()},!uJe&&!IN&&!hJe&&kne&&Nne?(CN=!0,PN=Nne.createTextNode(""),new kne(px).observe(PN,{characterData:!0}),xv=function(){PN.data=CN=!CN}):!cJe&&ST&&ST.resolve?(TT=ST.resolve(void 0),TT.constructor=ST,zne=Dne(TT.then,TT),xv=function(){zne(px)}):IN?xv=function(){Fne.nextTick(px)}:(TN=Dne(TN,bv),xv=function(){TN(px)}),AN=function(e){fx.head||xv(),fx.add(e)});var fx,px;jne.exports=AN});var qN=P((VJt,Bne)=>{"use strict";h();Bne.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var Wh=P((GJt,Une)=>{"use strict";h();Une.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Fp=P((WJt,Vne)=>{"use strict";h();var fJe=it();Vne.exports=fJe.Promise});var wv=P((KJt,Wne)=>{"use strict";h();var pJe=it(),dx=Fp(),dJe=jt(),mJe=ev(),vJe=b0(),gJe=St(),$ne=V0(),yJe=fr(),RN=Qs(),Gne=dx&&dx.prototype,_Je=gJe("species"),ON=!1,Zne=dJe(pJe.PromiseRejectionEvent),xJe=mJe("Promise",function(){var e=vJe(dx),t=e!==String(dx);if(!t&&RN===66||yJe&&!(Gne.catch&&Gne.finally))return!0;if(!RN||RN<51||!/native code/.test(e)){var r=new dx(function(i){i(1)}),n=function(i){i(function(){},function(){})},o=r.constructor={};if(o[_Je]=n,ON=r.then(function(){})instanceof n,!ON)return!0}return!t&&($ne==="BROWSER"||$ne==="DENO")&&!Zne});Wne.exports={CONSTRUCTOR:xJe,REJECTION_EVENT:Zne,SUBCLASSING:ON}});var Zl=P((XJt,Kne)=>{"use strict";h();var Hne=Pt(),bJe=TypeError,wJe=function(e){var t,r;this.promise=new e(function(n,o){if(t!==void 0||r!==void 0)throw new bJe("Bad Promise constructor");t=n,r=o}),this.resolve=Hne(t),this.reject=Hne(r)};Kne.exports.f=function(e){return new wJe(e)}});var die=P(()=>{"use strict";h();var EJe=te(),SJe=fr(),AT=Rp(),Hh=it(),Iv=ot(),Yne=Ir(),Xne=xs(),TJe=Uo(),IJe=zh(),CJe=Pt(),PT=jt(),PJe=wt(),AJe=wo(),MJe=lx(),rie=hx().set,FN=MN(),qJe=qN(),RJe=Wh(),OJe=SN(),nie=yr(),MT=Fp(),zN=wv(),iie=Zl(),qT="Promise",oie=zN.CONSTRUCTOR,LJe=zN.REJECTION_EVENT,DJe=zN.SUBCLASSING,LN=nie.getterFor(qT),kJe=nie.set,Ev=MT&&MT.prototype,zp=MT,IT=Ev,aie=Hh.TypeError,DN=Hh.document,jN=Hh.process,kN=iie.f,NJe=kN,FJe=!!(DN&&DN.createEvent&&Hh.dispatchEvent),sie="unhandledrejection",zJe="rejectionhandled",Jne=0,lie=1,jJe=2,BN=1,uie=2,CT,Qne,BJe,eie,cie=function(e){var t;return PJe(e)&&PT(t=e.then)?t:!1},hie=function(e,t){var r=t.value,n=t.state===lie,o=n?e.ok:e.fail,i=e.resolve,f=e.reject,g=e.domain,w,E,C;try{o?(n||(t.rejection===uie&&VJe(t),t.rejection=BN),o===!0?w=r:(g&&g.enter(),w=o(r),g&&(g.exit(),C=!0)),w===e.promise?f(new aie("Promise-chain cycle")):(E=cie(w))?Iv(E,w,i,f):i(w)):f(r)}catch(q){g&&!C&&g.exit(),f(q)}},fie=function(e,t){e.notified||(e.notified=!0,FN(function(){for(var r=e.reactions,n;n=r.get();)hie(n,e);e.notified=!1,t&&!e.rejection&&UJe(e)}))},pie=function(e,t,r){var n,o;FJe?(n=DN.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),Hh.dispatchEvent(n)):n={promise:t,reason:r},!LJe&&(o=Hh["on"+e])?o(n):e===sie&&qJe("Unhandled promise rejection",r)},UJe=function(e){Iv(rie,Hh,function(){var t=e.facade,r=e.value,n=tie(e),o;if(n&&(o=RJe(function(){AT?jN.emit("unhandledRejection",r,t):pie(sie,t,r)}),e.rejection=AT||tie(e)?uie:BN,o.error))throw o.value})},tie=function(e){return e.rejection!==BN&&!e.parent},VJe=function(e){Iv(rie,Hh,function(){var t=e.facade;AT?jN.emit("rejectionHandled",t):pie(zJe,t,e.value)})},Sv=function(e,t,r){return function(n){e(t,n,r)}},Tv=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=jJe,fie(e,!0))},NN=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new aie("Promise can't be resolved itself");var n=cie(t);n?FN(function(){var o={done:!1};try{Iv(n,t,Sv(NN,o,e),Sv(Tv,o,e))}catch(i){Tv(o,i,e)}}):(e.value=t,e.state=lie,fie(e,!1))}catch(o){Tv({done:!1},o,e)}}};if(oie&&(zp=function(t){AJe(this,IT),CJe(t),Iv(CT,this);var r=LN(this);try{t(Sv(NN,r),Sv(Tv,r))}catch(n){Tv(r,n)}},IT=zp.prototype,CT=function(t){kJe(this,{type:qT,done:!1,notified:!1,parent:!1,reactions:new OJe,rejection:!1,state:Jne,value:null})},CT.prototype=Yne(IT,"then",function(t,r){var n=LN(this),o=kN(MJe(this,zp));return n.parent=!0,o.ok=PT(t)?t:!0,o.fail=PT(r)&&r,o.domain=AT?jN.domain:void 0,n.state===Jne?n.reactions.add(o):FN(function(){hie(o,n)}),o.promise}),Qne=function(){var e=new CT,t=LN(e);this.promise=e,this.resolve=Sv(NN,t),this.reject=Sv(Tv,t)},iie.f=kN=function(e){return e===zp||e===BJe?new Qne(e):NJe(e)},!SJe&&PT(MT)&&Ev!==Object.prototype)){eie=Ev.then,DJe||Yne(Ev,"then",function(t,r){var n=this;return new zp(function(o,i){Iv(eie,n,o,i)}).then(t,r)},{unsafe:!0});try{delete Ev.constructor}catch(e){}Xne&&Xne(Ev,IT)}EJe({global:!0,constructor:!0,wrap:!0,forced:oie},{Promise:zp});TJe(zp,qT,!1,!0);IJe(qT)});var mx=P((rQt,mie)=>{"use strict";h();var $Je=Fp(),GJe=N0(),ZJe=wv().CONSTRUCTOR;mie.exports=ZJe||!GJe(function(e){$Je.all(e).then(void 0,function(){})})});var vie=P(()=>{"use strict";h();var WJe=te(),HJe=ot(),KJe=Pt(),YJe=Zl(),XJe=Wh(),JJe=bn(),QJe=mx();WJe({target:"Promise",stat:!0,forced:QJe},{all:function(t){var r=this,n=YJe.f(r),o=n.resolve,i=n.reject,f=XJe(function(){var g=KJe(r.resolve),w=[],E=0,C=1;JJe(t,function(q){var L=E++,B=!1;C++,HJe(g,r,q).then(function($){B||(B=!0,w[L]=$,--C||o(w))},i)}),--C||o(w)});return f.error&&i(f.value),n.promise}})});var yie=P(()=>{"use strict";h();var eQe=te(),tQe=fr(),rQe=wv().CONSTRUCTOR,VN=Fp(),nQe=Ct(),iQe=jt(),oQe=Ir(),gie=VN&&VN.prototype;eQe({target:"Promise",proto:!0,forced:rQe,real:!0},{catch:function(e){return this.then(void 0,e)}});!tQe&&iQe(VN)&&(UN=nQe("Promise").prototype.catch,gie.catch!==UN&&oQe(gie,"catch",UN,{unsafe:!0}));var UN});var _ie=P(()=>{"use strict";h();var aQe=te(),sQe=ot(),lQe=Pt(),uQe=Zl(),cQe=Wh(),hQe=bn(),fQe=mx();aQe({target:"Promise",stat:!0,forced:fQe},{race:function(t){var r=this,n=uQe.f(r),o=n.reject,i=cQe(function(){var f=lQe(r.resolve);hQe(t,function(g){sQe(f,r,g).then(n.resolve,o)})});return i.error&&o(i.value),n.promise}})});var xie=P(()=>{"use strict";h();var pQe=te(),dQe=Zl(),mQe=wv().CONSTRUCTOR;pQe({target:"Promise",stat:!0,forced:mQe},{reject:function(t){var r=dQe.f(this),n=r.reject;return n(t),r.promise}})});var $N=P((vQt,bie)=>{"use strict";h();var vQe=st(),gQe=wt(),yQe=Zl();bie.exports=function(e,t){if(vQe(e),gQe(t)&&t.constructor===e)return t;var r=yQe.f(e),n=r.resolve;return n(t),r.promise}});var Sie=P(()=>{"use strict";h();var _Qe=te(),xQe=Ct(),wie=fr(),bQe=Fp(),Eie=wv().CONSTRUCTOR,wQe=$N(),EQe=xQe("Promise"),SQe=wie&&!Eie;_Qe({target:"Promise",stat:!0,forced:wie||Eie},{resolve:function(t){return wQe(SQe&&this===EQe?bQe:this,t)}})});var Tie=P(()=>{"use strict";h();die();vie();yie();_ie();xie();Sie()});var GN=P(()=>{"use strict";h();var TQe=te(),IQe=ot(),CQe=Pt(),PQe=Zl(),AQe=Wh(),MQe=bn(),qQe=mx();TQe({target:"Promise",stat:!0,forced:qQe},{allSettled:function(t){var r=this,n=PQe.f(r),o=n.resolve,i=n.reject,f=AQe(function(){var g=CQe(r.resolve),w=[],E=0,C=1;MQe(t,function(q){var L=E++,B=!1;C++,IQe(g,r,q).then(function($){B||(B=!0,w[L]={status:"fulfilled",value:$},--C||o(w))},function($){B||(B=!0,w[L]={status:"rejected",reason:$},--C||o(w))})}),--C||o(w)});return f.error&&i(f.value),n.promise}})});var ZN=P(()=>{"use strict";h();var RQe=te(),OQe=ot(),LQe=Pt(),DQe=Ct(),kQe=Zl(),NQe=Wh(),FQe=bn(),zQe=mx(),Iie="No one promise resolved";RQe({target:"Promise",stat:!0,forced:zQe},{any:function(t){var r=this,n=DQe("AggregateError"),o=kQe.f(r),i=o.resolve,f=o.reject,g=NQe(function(){var w=LQe(r.resolve),E=[],C=0,q=1,L=!1;FQe(t,function(B){var $=C++,ee=!1;q++,OQe(w,r,B).then(function(G){ee||L||(L=!0,i(G))},function(G){ee||L||(ee=!0,E[$]=G,--q||f(new n(E,Iie)))})}),--q||f(new n(E,Iie))});return g.error&&f(g.value),o.promise}})});var Mie=P(()=>{"use strict";h();var jQe=te(),BQe=fr(),RT=Fp(),UQe=We(),Pie=Ct(),Aie=jt(),VQe=lx(),Cie=$N(),$Qe=Ir(),HN=RT&&RT.prototype,GQe=!!RT&&UQe(function(){HN.finally.call({then:function(){}},function(){})});jQe({target:"Promise",proto:!0,real:!0,forced:GQe},{finally:function(e){var t=VQe(this,Pie("Promise")),r=Aie(e);return this.then(r?function(n){return Cie(t,e()).then(function(){return n})}:e,r?function(n){return Cie(t,e()).then(function(){throw n})}:e)}});!BQe&&Aie(RT)&&(WN=Pie("Promise").prototype.finally,HN.finally!==WN&&$Qe(HN,"finally",WN,{unsafe:!0}));var WN});var YN=P(()=>{"use strict";h();var ZQe=te(),WQe=it(),HQe=Qi(),KQe=ua(),YQe=Zl(),XQe=Pt(),Rie=Wh(),KN=WQe.Promise,qie=!1,JQe=!KN||!KN.try||Rie(function(){KN.try(function(e){qie=e===8},8)}).error||!qie;ZQe({target:"Promise",stat:!0,forced:JQe},{try:function(e){var t=arguments.length>1?KQe(arguments,1):[],r=YQe.f(this),n=Rie(function(){return HQe(XQe(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var XN=P(()=>{"use strict";h();var QQe=te(),eet=Zl();QQe({target:"Promise",stat:!0},{withResolvers:function(){var t=eet.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var Oie=P(()=>{"use strict";h();var tet=te(),ret=Qi(),net=Pt(),iet=st(),oet=We(),aet=!oet(function(){Reflect.apply(function(){})});tet({target:"Reflect",stat:!0,forced:aet},{apply:function(t,r,n){return ret(net(t),r,iet(n))}})});var jie=P(()=>{"use strict";h();var set=te(),uet=Ct(),JN=Qi(),cet=HD(),Lie=sx(),het=st(),Die=wt(),fet=Un(),Nie=We(),QN=uet("Reflect","construct"),pet=Object.prototype,det=[].push,Fie=Nie(function(){function e(){}return!(QN(function(){},[],e)instanceof e)}),zie=!Nie(function(){QN(function(){})}),kie=Fie||zie;set({target:"Reflect",stat:!0,forced:kie,sham:kie},{construct:function(t,r){Lie(t),het(r);var n=arguments.length<3?t:Lie(arguments[2]);if(zie&&!Fie)return QN(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var o=[null];return JN(det,o,r),new(JN(cet,t,o))}var i=n.prototype,f=fet(Die(i)?i:pet),g=JN(t,f,r);return Die(g)?g:f}})});var Vie=P(()=>{"use strict";h();var met=te(),vet=vt(),Bie=st(),get=zl(),Uie=Zr(),yet=We(),_et=yet(function(){Reflect.defineProperty(Uie.f({},1,{value:1}),1,{value:2})});met({target:"Reflect",stat:!0,forced:_et,sham:!vet},{defineProperty:function(t,r,n){Bie(t);var o=get(r);Bie(n);try{return Uie.f(t,o,n),!0}catch(i){return!1}}})});var $ie=P(()=>{"use strict";h();var xet=te(),bet=st(),wet=Oi().f;xet({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=wet(bet(t),r);return n&&!n.configurable?!1:delete t[r]}})});var eF=P((XQt,Zie)=>{"use strict";h();var Gie=Vt();Zie.exports=function(e){return e!==void 0&&(Gie(e,"value")||Gie(e,"writable"))}});var Hie=P(()=>{"use strict";h();var Eet=te(),Tet=ot(),Iet=wt(),Cet=st(),Pet=eF(),Aet=Oi(),Met=ui();function Wie(e,t){var r=arguments.length<3?e:arguments[2],n,o;if(Cet(e)===r)return e[t];if(n=Aet.f(e,t),n)return Pet(n)?n.value:n.get===void 0?void 0:Tet(n.get,r);if(Iet(o=Met(e)))return Wie(o,t,r)}Eet({target:"Reflect",stat:!0},{get:Wie})});var Kie=P(()=>{"use strict";h();var qet=te(),Ret=vt(),Oet=st(),Let=Oi();qet({target:"Reflect",stat:!0,sham:!Ret},{getOwnPropertyDescriptor:function(t,r){return Let.f(Oet(t),r)}})});var Yie=P(()=>{"use strict";h();var Det=te(),ket=st(),Net=ui(),Fet=OS();Det({target:"Reflect",stat:!0,sham:!Fet},{getPrototypeOf:function(t){return Net(ket(t))}})});var Xie=P(()=>{"use strict";h();var zet=te();zet({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var Jie=P(()=>{"use strict";h();var jet=te(),Bet=st(),Uet=pT();jet({target:"Reflect",stat:!0},{isExtensible:function(t){return Bet(t),Uet(t)}})});var Qie=P(()=>{"use strict";h();var Vet=te(),$et=pS();Vet({target:"Reflect",stat:!0},{ownKeys:$et})});var eoe=P(()=>{"use strict";h();var Get=te(),Zet=Ct(),Wet=st(),Het=ic();Get({target:"Reflect",stat:!0,sham:!Het},{preventExtensions:function(t){Wet(t);try{var r=Zet("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var ooe=P(()=>{"use strict";h();var Ket=te(),Yet=ot(),Xet=st(),toe=wt(),Jet=eF(),Qet=We(),tF=Zr(),roe=Oi(),ett=ui(),noe=aa();function ioe(e,t,r){var n=arguments.length<4?e:arguments[3],o=roe.f(Xet(e),t),i,f,g;if(!o){if(toe(f=ett(e)))return ioe(f,t,r,n);o=noe(0)}if(Jet(o)){if(o.writable===!1||!toe(n))return!1;if(i=roe.f(n,t)){if(i.get||i.set||i.writable===!1)return!1;i.value=r,tF.f(n,t,i)}else tF.f(n,t,noe(0,r))}else{if(g=o.set,g===void 0)return!1;Yet(g,n,r)}return!0}var ttt=Qet(function(){var e=function(){},t=tF.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Ket({target:"Reflect",stat:!0,forced:ttt},{set:ioe})});var soe=P(()=>{"use strict";h();var rtt=te(),ntt=st(),itt=lL(),aoe=xs();aoe&&rtt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){ntt(t),itt(r);try{return aoe(t,r),!0}catch(n){return!1}}})});var loe=P(()=>{"use strict";h();var ott=te(),att=it(),stt=Uo();ott({global:!0},{Reflect:{}});stt(att.Reflect,"Reflect",!0)});var vx=P((Aer,uoe)=>{"use strict";h();var ltt=wt(),utt=Xi(),ctt=St(),htt=ctt("match");uoe.exports=function(e){var t;return ltt(e)&&((t=e[htt])!==void 0?!!t:utt(e)==="RegExp")}});var OT=P((qer,coe)=>{"use strict";h();var ftt=st();coe.exports=function(){var e=ftt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var Cv=P((Oer,foe)=>{"use strict";h();var ptt=ot(),dtt=Vt(),mtt=Ji(),vtt=OT(),hoe=RegExp.prototype;foe.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in hoe)&&!dtt(e,"flags")&&mtt(hoe,e)?ptt(vtt,e):t}});var gx=P((Der,poe)=>{"use strict";h();var rF=We(),gtt=it(),nF=gtt.RegExp,iF=rF(function(){var e=nF("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),ytt=iF||rF(function(){return!nF("a","y").sticky}),_tt=iF||rF(function(){var e=nF("^r","gy");return e.lastIndex=2,e.exec("str")!==null});poe.exports={BROKEN_CARET:_tt,MISSED_STICKY:ytt,UNSUPPORTED_Y:iF}});var LT=P((Ner,doe)=>{"use strict";h();var xtt=We(),btt=it(),wtt=btt.RegExp;doe.exports=xtt(function(){var e=wtt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var oF=P((zer,moe)=>{"use strict";h();var Ett=We(),Stt=it(),Ttt=Stt.RegExp;moe.exports=Ett(function(){var e=Ttt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var Toe=P(()=>{"use strict";h();var Itt=vt(),uF=it(),yx=Be(),Ctt=ev(),Ptt=Oh(),Att=li(),Mtt=Un(),qtt=Ah().f,voe=Ji(),Rtt=vx(),goe=Rt(),Ott=Cv(),boe=gx(),Ltt=uL(),Dtt=Ir(),ktt=We(),Ntt=Vt(),Ftt=yr().enforce,ztt=zh(),jtt=St(),woe=LT(),Eoe=oF(),Btt=jtt("match"),Yh=uF.RegExp,Pv=Yh.prototype,Utt=uF.SyntaxError,Vtt=yx(Pv.exec),DT=yx("".charAt),yoe=yx("".replace),_oe=yx("".indexOf),xoe=yx("".slice),$tt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,jp=/a/g,aF=/a/g,Gtt=new Yh(jp)!==jp,Soe=boe.MISSED_STICKY,Ztt=boe.UNSUPPORTED_Y,Wtt=Itt&&(!Gtt||Soe||woe||Eoe||ktt(function(){return aF[Btt]=!1,Yh(jp)!==jp||Yh(aF)===aF||String(Yh(jp,"i"))!=="/a/i"})),Htt=function(e){for(var t=e.length,r=0,n="",o=!1,i;r<=t;r++){if(i=DT(e,r),i==="\\"){n+=i+DT(e,++r);continue}!o&&i==="."?n+="[\\s\\S]":(i==="["?o=!0:i==="]"&&(o=!1),n+=i)}return n},Ktt=function(e){for(var t=e.length,r=0,n="",o=[],i=Mtt(null),f=!1,g=!1,w=0,E="",C;r<=t;r++){if(C=DT(e,r),C==="\\")C+=DT(e,++r);else if(C==="]")f=!1;else if(!f)switch(!0){case C==="[":f=!0;break;case C==="(":if(n+=C,xoe(e,r+1,r+3)==="?:")continue;Vtt($tt,xoe(e,r+1))&&(r+=2,g=!0),w++;continue;case C===">"&&g:if(E===""||Ntt(i,E))throw new Utt("Invalid capture group name");i[E]=!0,o[o.length]=[E,w],g=!1,E="";continue}g?E+=C:n+=C}return[n,o]};if(Ctt("RegExp",Wtt)){for(Kh=function(t,r){var n=voe(Pv,this),o=Rtt(t),i=r===void 0,f=[],g=t,w,E,C,q,L,B;if(!n&&o&&i&&t.constructor===Kh)return t;if((o||voe(Pv,t))&&(t=t.source,i&&(r=Ott(g))),t=t===void 0?"":goe(t),r=r===void 0?"":goe(r),g=t,woe&&"dotAll"in jp&&(E=!!r&&_oe(r,"s")>-1,E&&(r=yoe(r,/s/g,""))),w=r,Soe&&"sticky"in jp&&(C=!!r&&_oe(r,"y")>-1,C&&Ztt&&(r=yoe(r,/y/g,""))),Eoe&&(q=Ktt(t),t=q[0],f=q[1]),L=Ptt(Yh(t,r),n?this:Pv,Kh),(E||C||f.length)&&(B=Ftt(L),E&&(B.dotAll=!0,B.raw=Kh(Htt(t),w)),C&&(B.sticky=!0),f.length&&(B.groups=f)),t!==g)try{Att(L,"source",g===""?"(?:)":g)}catch($){}return L},sF=qtt(Yh),lF=0;sF.length>lF;)Ltt(Kh,Yh,sF[lF++]);Pv.constructor=Kh,Kh.prototype=Pv,Dtt(uF,"RegExp",Kh,{constructor:!0})}var Kh,sF,lF;ztt("RegExp")});var _x=P(($er,Ioe)=>{"use strict";h();var Ytt=TypeError;Ioe.exports=function(e){if(typeof e=="string")return e;throw new Ytt("Argument is not a string")}});var pF=P(()=>{"use strict";h();var Xtt=te(),xx=Be(),Jtt=_x(),Qtt=Vt(),Coe=K0().start,ert=Dp(),trt=Array,Poe=RegExp.escape,Aoe=xx("".charAt),fF=xx("".charCodeAt),rrt=xx(1.1.toString),nrt=xx([].join),qoe=/^[0-9a-z]/i,irt=/^[$()*+./?[\\\]^{|}]/,ort=RegExp("^[!\"#%&',\\-:;<=>@`~"+ert+"]"),cF=xx(qoe.exec),Moe={"\t":"t","\n":"n","\x0B":"v","\f":"f","\r":"r"},hF=function(e){var t=rrt(fF(e,0),16);return t.length<3?"\\x"+Coe(t,2,"0"):"\\u"+Coe(t,4,"0")},art=!Poe||Poe("ab")!=="\\x61b";Xtt({target:"RegExp",stat:!0,forced:art},{escape:function(t){Jtt(t);for(var r=t.length,n=trt(r),o=0;o<r;o++){var i=Aoe(t,o);if(o===0&&cF(qoe,i))n[o]=hF(i);else if(Qtt(Moe,i))n[o]="\\"+Moe[i];else if(cF(irt,i))n[o]="\\"+i;else if(cF(ort,i))n[o]=hF(i);else{var f=fF(i,0);(f&63488)!==55296?n[o]=i:f>=56320||o+1>=r||(fF(t,o+1)&64512)!==56320?n[o]=hF(i):(n[o]=i,n[++o]=Aoe(t,o))}}return nrt(n,"")}})});var Ooe=P(()=>{"use strict";h();var srt=vt(),lrt=LT(),urt=Xi(),crt=tn(),hrt=yr().get,Roe=RegExp.prototype,frt=TypeError;srt&&lrt&&crt(Roe,"dotAll",{configurable:!0,get:function(){if(this!==Roe){if(urt(this)==="RegExp")return!!hrt(this).dotAll;throw new frt("Incompatible receiver, RegExp required")}}})});var FT=P((Jer,Doe)=>{"use strict";h();var Av=ot(),NT=Be(),prt=Rt(),drt=OT(),mrt=gx(),vrt=Ku(),grt=Un(),yrt=yr().get,_rt=LT(),xrt=oF(),brt=vrt("native-string-replace",String.prototype.replace),kT=RegExp.prototype.exec,mF=kT,wrt=NT("".charAt),Ert=NT("".indexOf),Srt=NT("".replace),dF=NT("".slice),vF=function(){var e=/a/,t=/b*/g;return Av(kT,e,"a"),Av(kT,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),Loe=mrt.BROKEN_CARET,gF=/()??/.exec("")[1]!==void 0,Trt=vF||gF||Loe||_rt||xrt;Trt&&(mF=function(t){var r=this,n=yrt(r),o=prt(t),i=n.raw,f,g,w,E,C,q,L;if(i)return i.lastIndex=r.lastIndex,f=Av(mF,i,o),r.lastIndex=i.lastIndex,f;var B=n.groups,$=Loe&&r.sticky,ee=Av(drt,r),G=r.source,H=0,Q=o;if($&&(ee=Srt(ee,"y",""),Ert(ee,"g")===-1&&(ee+="g"),Q=dF(o,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&wrt(o,r.lastIndex-1)!==`
`)&&(G="(?: "+G+")",Q=" "+Q,H++),g=new RegExp("^(?:"+G+")",ee)),gF&&(g=new RegExp("^"+G+"$(?!\\s)",ee)),vF&&(w=r.lastIndex),E=Av(kT,$?g:r,Q),$?E?(E.input=dF(E.input,H),E[0]=dF(E[0],H),E.index=r.lastIndex,r.lastIndex+=E[0].length):r.lastIndex=0:vF&&E&&(r.lastIndex=r.global?E.index+E[0].length:w),gF&&E&&E.length>1&&Av(brt,E[0],g,function(){for(C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(E[C]=void 0)}),E&&B)for(E.groups=q=grt(null),C=0;C<B.length;C++)L=B[C],q[L[0]]=E[L[1]];return E});Doe.exports=mF});var zT=P(()=>{"use strict";h();var Irt=te(),koe=FT();Irt({target:"RegExp",proto:!0,forced:/./.exec!==koe},{exec:koe})});var zoe=P(()=>{"use strict";h();var Crt=it(),Prt=vt(),Art=tn(),Mrt=OT(),qrt=We(),Noe=Crt.RegExp,Foe=Noe.prototype,Rrt=Prt&&qrt(function(){var e=!0;try{Noe(".","d")}catch(w){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",o=function(w,E){Object.defineProperty(t,w,{get:function(){return r+=E,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(i.hasIndices="d");for(var f in i)o(f,i[f]);var g=Object.getOwnPropertyDescriptor(Foe,"flags").get.call(t);return g!==n||r!==n});Rrt&&Art(Foe,"flags",{configurable:!0,get:Mrt})});var Boe=P(()=>{"use strict";h();var Ort=vt(),Lrt=gx().MISSED_STICKY,Drt=Xi(),krt=tn(),Nrt=yr().get,joe=RegExp.prototype,Frt=TypeError;Ort&&Lrt&&krt(joe,"sticky",{configurable:!0,get:function(){if(this!==joe){if(Drt(this)==="RegExp")return!!Nrt(this).sticky;throw new Frt("Incompatible receiver, RegExp required")}}})});var $oe=P(()=>{"use strict";h();zT();var zrt=te(),Uoe=ot(),jrt=jt(),Voe=st(),Brt=Rt(),Urt=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),Vrt=/./.test;zrt({target:"RegExp",proto:!0,forced:!Urt},{test:function(e){var t=Voe(this),r=Brt(e),n=t.exec;if(!jrt(n))return Uoe(Vrt,t,r);var o=Uoe(n,t,r);return o===null?!1:(Voe(o),!0)}})});var Hoe=P(()=>{"use strict";h();var $rt=wp().PROPER,Grt=Ir(),Zrt=st(),Goe=Rt(),Wrt=We(),Hrt=Cv(),yF="toString",Zoe=RegExp.prototype,Woe=Zoe[yF],Krt=Wrt(function(){return Woe.call({source:"a",flags:"b"})!=="/a/b"}),Yrt=$rt&&Woe.name!==yF;(Krt||Yrt)&&Grt(Zoe,yF,function(){var t=Zrt(this),r=Goe(t.source),n=Goe(Hrt(t));return"/"+r+"/"+n},{unsafe:!0})});var Koe=P(()=>{"use strict";h();var Xrt=X0(),Jrt=Nk();Xrt("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Jrt)});var Yoe=P(()=>{"use strict";h();Koe()});var ki=P((btr,Xoe)=>{"use strict";h();var _F=Be(),jT=Set.prototype;Xoe.exports={Set,add:_F(jT.add),has:_F(jT.has),remove:_F(jT.delete),proto:jT}});var eo=P((Etr,Joe)=>{"use strict";h();var Qrt=ki().has;Joe.exports=function(e){return Qrt(e),e}});var ac=P((Ttr,Qoe)=>{"use strict";h();var ent=ot();Qoe.exports=function(e,t,r){for(var n=r?e:e.iterator,o=e.next,i,f;!(i=ent(o,n)).done;)if(f=t(i.value),f!==void 0)return f}});var fa=P((Ctr,iae)=>{"use strict";h();var eae=Be(),tnt=ac(),tae=ki(),rnt=tae.Set,rae=tae.proto,nnt=eae(rae.forEach),nae=eae(rae.keys),int=nae(new rnt).next;iae.exports=function(e,t,r){return r?tnt({iterator:nae(e),next:int},t):nnt(e,t)}});var BT=P((Atr,aae)=>{"use strict";h();var oae=ki(),ont=fa(),ant=oae.Set,snt=oae.add;aae.exports=function(e){var t=new ant;return ont(e,function(r){snt(t,r)}),t}});var Mv=P((qtr,sae)=>{"use strict";h();var lnt=L0(),unt=ki();sae.exports=lnt(unt.proto,"size","get")||function(e){return e.size}});var Xh=P((Otr,pae)=>{"use strict";h();var lae=Pt(),hae=st(),uae=ot(),cnt=en(),hnt=fn(),cae="Invalid size",fnt=RangeError,pnt=TypeError,dnt=Math.max,fae=function(e,t){this.set=e,this.size=dnt(t,0),this.has=lae(e.has),this.keys=lae(e.keys)};fae.prototype={getIterator:function(){return hnt(hae(uae(this.keys,this.set)))},includes:function(e){return uae(this.has,this.set,e)}};pae.exports=function(e){hae(e);var t=+e.size;if(t!==t)throw new pnt(cae);var r=cnt(t);if(r<0)throw new fnt(cae);return new fae(e,r)}});var xF=P((Dtr,vae)=>{"use strict";h();var mnt=eo(),mae=ki(),vnt=BT(),gnt=Mv(),ynt=Xh(),_nt=fa(),xnt=ac(),bnt=mae.has,dae=mae.remove;vae.exports=function(t){var r=mnt(this),n=ynt(t),o=vnt(r);return gnt(r)<=n.size?_nt(r,function(i){n.includes(i)&&dae(o,i)}):xnt(n.getIterator(),function(i){bnt(r,i)&&dae(o,i)}),o}});var Jh=P((Ntr,_ae)=>{"use strict";h();var wnt=Ct(),gae=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},yae=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};_ae.exports=function(e,t){var r=wnt("Set");try{new r()[e](gae(0));try{return new r()[e](gae(-1)),!1}catch(o){if(!t)return!0;try{return new r()[e](yae(-1/0)),!1}catch(i){var n=new r;return n.add(1),n.add(2),t(n[e](yae(1/0)))}}}catch(o){return!1}}});var bF=P(()=>{"use strict";h();var Ent=te(),Snt=xF(),Tnt=Jh(),Int=!Tnt("difference",function(e){return e.size===0});Ent({target:"Set",proto:!0,real:!0,forced:Int},{difference:Snt})});var EF=P((Utr,bae)=>{"use strict";h();var Cnt=eo(),wF=ki(),Pnt=Mv(),Ant=Xh(),Mnt=fa(),qnt=ac(),Rnt=wF.Set,xae=wF.add,Ont=wF.has;bae.exports=function(t){var r=Cnt(this),n=Ant(t),o=new Rnt;return Pnt(r)>n.size?qnt(n.getIterator(),function(i){Ont(r,i)&&xae(o,i)}):Mnt(r,function(i){n.includes(i)&&xae(o,i)}),o}});var SF=P(()=>{"use strict";h();var Lnt=te(),Dnt=We(),knt=EF(),Nnt=Jh(),Fnt=!Nnt("intersection",function(e){return e.size===2&&e.has(1)&&e.has(2)})||Dnt(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});Lnt({target:"Set",proto:!0,real:!0,forced:Fnt},{intersection:knt})});var TF=P((Wtr,wae)=>{"use strict";h();var znt=eo(),jnt=ki().has,Bnt=Mv(),Unt=Xh(),Vnt=fa(),$nt=ac(),Gnt=Di();wae.exports=function(t){var r=znt(this),n=Unt(t);if(Bnt(r)<=n.size)return Vnt(r,function(i){if(n.includes(i))return!1},!0)!==!1;var o=n.getIterator();return $nt(o,function(i){if(jnt(r,i))return Gnt(o,"normal",!1)})!==!1}});var IF=P(()=>{"use strict";h();var Znt=te(),Wnt=TF(),Hnt=Jh(),Knt=!Hnt("isDisjointFrom",function(e){return!e});Znt({target:"Set",proto:!0,real:!0,forced:Knt},{isDisjointFrom:Wnt})});var CF=P((Jtr,Eae)=>{"use strict";h();var Ynt=eo(),Xnt=Mv(),Jnt=fa(),Qnt=Xh();Eae.exports=function(t){var r=Ynt(this),n=Qnt(t);return Xnt(r)>n.size?!1:Jnt(r,function(o){if(!n.includes(o))return!1},!0)!==!1}});var PF=P(()=>{"use strict";h();var eit=te(),tit=CF(),rit=Jh(),nit=!rit("isSubsetOf",function(e){return e});eit({target:"Set",proto:!0,real:!0,forced:nit},{isSubsetOf:tit})});var AF=P((nrr,Sae)=>{"use strict";h();var iit=eo(),oit=ki().has,ait=Mv(),sit=Xh(),lit=ac(),uit=Di();Sae.exports=function(t){var r=iit(this),n=sit(t);if(ait(r)<n.size)return!1;var o=n.getIterator();return lit(o,function(i){if(!oit(r,i))return uit(o,"normal",!1)})!==!1}});var MF=P(()=>{"use strict";h();var cit=te(),hit=AF(),fit=Jh(),pit=!fit("isSupersetOf",function(e){return!e});cit({target:"Set",proto:!0,real:!0,forced:pit},{isSupersetOf:hit})});var RF=P((lrr,Tae)=>{"use strict";h();var dit=eo(),qF=ki(),mit=BT(),vit=Xh(),git=ac(),yit=qF.add,_it=qF.has,xit=qF.remove;Tae.exports=function(t){var r=dit(this),n=vit(t).getIterator(),o=mit(r);return git(n,function(i){_it(r,i)?xit(o,i):yit(o,i)}),o}});var OF=P(()=>{"use strict";h();var bit=te(),wit=RF(),Eit=Jh();bit({target:"Set",proto:!0,real:!0,forced:!Eit("symmetricDifference")},{symmetricDifference:wit})});var LF=P((prr,Iae)=>{"use strict";h();var Sit=eo(),Tit=ki().add,Iit=BT(),Cit=Xh(),Pit=ac();Iae.exports=function(t){var r=Sit(this),n=Cit(t).getIterator(),o=Iit(r);return Pit(n,function(i){Tit(o,i)}),o}});var DF=P(()=>{"use strict";h();var Ait=te(),Mit=LF(),qit=Jh();Ait({target:"Set",proto:!0,real:!0,forced:!qit("union")},{union:Mit})});var Cae=P(()=>{"use strict";h();var Rit=te(),Oit=Be(),Lit=Hr(),Dit=en(),kit=Rt(),Nit=We(),Fit=Oit("".charAt),zit=Nit(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});Rit({target:"String",proto:!0,forced:zit},{at:function(t){var r=kit(Lit(this)),n=r.length,o=Dit(t),i=o>=0?o:n+o;return i<0||i>=n?void 0:Fit(r,i)}})});var Bp=P((brr,Mae)=>{"use strict";h();var kF=Be(),jit=en(),Bit=Rt(),Uit=Hr(),Vit=kF("".charAt),Pae=kF("".charCodeAt),$it=kF("".slice),Aae=function(e){return function(t,r){var n=Bit(Uit(t)),o=jit(r),i=n.length,f,g;return o<0||o>=i?e?"":void 0:(f=Pae(n,o),f<55296||f>56319||o+1===i||(g=Pae(n,o+1))<56320||g>57343?e?Vit(n,o):f:e?$it(n,o,o+2):(f-55296<<10)+(g-56320)+65536)}};Mae.exports={codeAt:Aae(!1),charAt:Aae(!0)}});var qae=P(()=>{"use strict";h();var Git=te(),Zit=Bp().codeAt;Git({target:"String",proto:!0},{codePointAt:function(t){return Zit(this,t)}})});var UT=P((Irr,Rae)=>{"use strict";h();var Wit=vx(),Hit=TypeError;Rae.exports=function(e){if(Wit(e))throw new Hit("The method doesn't accept regular expressions");return e}});var VT=P((Prr,Oae)=>{"use strict";h();var Kit=St(),Yit=Kit("match");Oae.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Yit]=!1,"/./"[e](t)}catch(n){}}return!1}});var kae=P(()=>{"use strict";h();var Xit=te(),Jit=Mh(),Qit=Oi().f,eot=la(),Lae=Rt(),tot=UT(),rot=Hr(),not=VT(),iot=fr(),oot=Jit("".slice),aot=Math.min,Dae=not("endsWith"),sot=!iot&&!Dae&&!!function(){var e=Qit(String.prototype,"endsWith");return e&&!e.writable}();Xit({target:"String",proto:!0,forced:!sot&&!Dae},{endsWith:function(t){var r=Lae(rot(this));tot(t);var n=arguments.length>1?arguments[1]:void 0,o=r.length,i=n===void 0?o:aot(eot(n),o),f=Lae(t);return oot(r,i-f.length,i)===f}})});var NF=P(()=>{"use strict";h();var lot=te(),uot=Be(),cot=tl(),hot=RangeError,Nae=String.fromCharCode,Fae=String.fromCodePoint,fot=uot([].join),pot=!!Fae&&Fae.length!==1;lot({target:"String",stat:!0,arity:1,forced:pot},{fromCodePoint:function(t){for(var r=[],n=arguments.length,o=0,i;n>o;){if(i=+arguments[o++],cot(i,1114111)!==i)throw new hot(i+" is not a valid code point");r[o]=i<65536?Nae(i):Nae(((i-=65536)>>10)+55296,i%1024+56320)}return fot(r,"")}})});var jae=P(()=>{"use strict";h();var dot=te(),mot=Be(),vot=UT(),got=Hr(),zae=Rt(),yot=VT(),_ot=mot("".indexOf);dot({target:"String",proto:!0,forced:!yot("includes")},{includes:function(t){return!!~_ot(zae(got(this)),zae(vot(t)),arguments.length>1?arguments[1]:void 0)}})});var FF=P(()=>{"use strict";h();var xot=te(),bot=Be(),wot=Hr(),Eot=Rt(),Bae=bot("".charCodeAt);xot({target:"String",proto:!0},{isWellFormed:function(){for(var t=Eot(wot(this)),r=t.length,n=0;n<r;n++){var o=Bae(t,n);if((o&63488)===55296&&(o>=56320||++n>=r||(Bae(t,n)&64512)!==56320))return!1}return!0}})});var zF=P(()=>{"use strict";h();var Sot=Bp().charAt,Tot=Rt(),Vae=yr(),Iot=US(),Uae=wi(),$ae="String Iterator",Cot=Vae.set,Pot=Vae.getterFor($ae);Iot(String,"String",function(e){Cot(this,{type:$ae,string:Tot(e),index:0})},function(){var t=Pot(this),r=t.string,n=t.index,o;return n>=r.length?Uae(void 0,!0):(o=Sot(r,n),t.index+=o.length,Uae(o,!1))})});var bx=P((Grr,Kae)=>{"use strict";h();zT();var Gae=ot(),Zae=Ir(),Aot=FT(),Wae=We(),Hae=St(),Mot=li(),qot=Hae("species"),jF=RegExp.prototype;Kae.exports=function(e,t,r,n){var o=Hae(e),i=!Wae(function(){var E={};return E[o]=function(){return 7},""[e](E)!==7}),f=i&&!Wae(function(){var E=!1,C=/a/;return e==="split"&&(C={},C.constructor={},C.constructor[qot]=function(){return C},C.flags="",C[o]=/./[o]),C.exec=function(){return E=!0,null},C[o](""),!E});if(!i||!f||r){var g=/./[o],w=t(o,""[e],function(E,C,q,L,B){var $=C.exec;return $===Aot||$===jF.exec?i&&!B?{done:!0,value:Gae(g,C,q,L)}:{done:!0,value:Gae(E,q,C,L)}:{done:!1}});Zae(String.prototype,e,w[0]),Zae(jF,o,w[1])}n&&Mot(jF[o],"sham",!0)}});var wx=P((Wrr,Yae)=>{"use strict";h();var Rot=Bp().charAt;Yae.exports=function(e,t,r){return t+(r?Rot(e,t).length:1)}});var qv=P((Krr,Jae)=>{"use strict";h();var Xae=ot(),Oot=st(),Lot=jt(),Dot=Xi(),kot=FT(),Not=TypeError;Jae.exports=function(e,t){var r=e.exec;if(Lot(r)){var n=Xae(r,e,t);return n!==null&&Oot(n),n}if(Dot(e)==="RegExp")return Xae(kot,e,t);throw new Not("RegExp#exec called on incompatible receiver")}});var ese=P(()=>{"use strict";h();var Fot=ot(),zot=bx(),jot=st(),Bot=wt(),Uot=la(),BF=Rt(),Vot=Hr(),$ot=Bn(),Got=wx(),Qae=qv();zot("match",function(e,t,r){return[function(o){var i=Vot(this),f=Bot(o)?$ot(o,e):void 0;return f?Fot(f,o,i):new RegExp(o)[e](BF(i))},function(n){var o=jot(this),i=BF(n),f=r(t,o,i);if(f.done)return f.value;if(!o.global)return Qae(o,i);var g=o.unicode;o.lastIndex=0;for(var w=[],E=0,C;(C=Qae(o,i))!==null;){var q=BF(C[0]);w[E]=q,q===""&&(o.lastIndex=Got(i,Uot(o.lastIndex),g)),E++}return E===0?null:w}]})});var ZF=P(()=>{"use strict";h();var Zot=te(),tse=ot(),ise=Mh(),Wot=Nh(),$T=wi(),rse=Hr(),ose=la(),Ex=Rt(),Hot=st(),Kot=wt(),Yot=Xi(),Xot=vx(),ase=Cv(),Jot=Bn(),Qot=Ir(),eat=We(),tat=St(),rat=lx(),nat=wx(),iat=qv(),sse=yr(),VF=fr(),GT=tat("matchAll"),lse="RegExp String",use=lse+" Iterator",oat=sse.set,aat=sse.getterFor(use),nse=RegExp.prototype,sat=TypeError,$F=ise("".indexOf),ZT=ise("".matchAll),UF=!!ZT&&!eat(function(){ZT("a",/./)}),lat=Wot(function(t,r,n,o){oat(this,{type:use,regexp:t,string:r,global:n,unicode:o,done:!1})},lse,function(){var t=aat(this);if(t.done)return $T(void 0,!0);var r=t.regexp,n=t.string,o=iat(r,n);return o===null?(t.done=!0,$T(void 0,!0)):t.global?(Ex(o[0])===""&&(r.lastIndex=nat(n,ose(r.lastIndex),t.unicode)),$T(o,!1)):(t.done=!0,$T(o,!1))}),GF=function(e){var t=Hot(this),r=Ex(e),n=rat(t,RegExp),o=Ex(ase(t)),i,f,g;return i=new n(n===RegExp?t.source:t,o),f=!!~$F(o,"g"),g=!!~$F(o,"u"),i.lastIndex=ose(t.lastIndex),new lat(i,r,f,g)};Zot({target:"String",proto:!0,forced:UF},{matchAll:function(t){var r=rse(this),n,o,i,f;if(Kot(t)){if(Xot(t)&&(n=Ex(rse(ase(t))),!~$F(n,"g")))throw new sat("`.matchAll` does not allow non-global regexes");if(UF)return ZT(r,t);if(i=Jot(t,GT),i===void 0&&VF&&Yot(t)==="RegExp"&&(i=GF),i)return tse(i,t,r)}else if(UF)return ZT(r,t);return o=Ex(r),f=new RegExp(t,"g"),VF?tse(GF,f,o):f[GT](o)}});VF||GT in nse||Qot(nse,GT,GF)});var WF=P((nnr,cse)=>{"use strict";h();var uat=Xs();cse.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(uat)});var hse=P(()=>{"use strict";h();var cat=te(),hat=K0().end,fat=WF();cat({target:"String",proto:!0,forced:fat},{padEnd:function(t){return hat(this,t,arguments.length>1?arguments[1]:void 0)}})});var fse=P(()=>{"use strict";h();var pat=te(),dat=K0().start,mat=WF();pat({target:"String",proto:!0,forced:mat},{padStart:function(t){return dat(this,t,arguments.length>1?arguments[1]:void 0)}})});var vse=P(()=>{"use strict";h();var vat=te(),mse=Be(),gat=si(),yat=Jt(),pse=Rt(),_at=sr(),dse=mse([].push),xat=mse([].join);vat({target:"String",stat:!0},{raw:function(t){var r=gat(yat(t).raw),n=_at(r);if(!n)return"";for(var o=arguments.length,i=[],f=0;;){if(dse(i,pse(r[f++])),f===n)return xat(i,"");f<o&&dse(i,pse(arguments[f]))}}})});var gse=P(()=>{"use strict";h();var bat=te(),wat=H0();bat({target:"String",proto:!0},{repeat:wat})});var XF=P((gnr,yse)=>{"use strict";h();var YF=Be(),Eat=Jt(),Sat=Math.floor,HF=YF("".charAt),Tat=YF("".replace),KF=YF("".slice),Iat=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Cat=/\$([$&'`]|\d{1,2})/g;yse.exports=function(e,t,r,n,o,i){var f=r+e.length,g=n.length,w=Cat;return o!==void 0&&(o=Eat(o),w=Iat),Tat(i,w,function(E,C){var q;switch(HF(C,0)){case"$":return"$";case"&":return e;case"`":return KF(t,0,r);case"'":return KF(t,f);case"<":q=o[KF(C,1,-1)];break;default:var L=+C;if(L===0)return E;if(L>g){var B=Sat(L/10);return B===0?E:B<=g?n[B-1]===void 0?HF(C,1):n[B-1]+HF(C,1):E}q=n[L-1]}return q===void 0?"":q})}});var Ese=P(()=>{"use strict";h();var Pat=Qi(),_se=ot(),WT=Be(),Aat=bx(),Mat=We(),qat=st(),Rat=jt(),Oat=wt(),Lat=en(),Dat=la(),Rv=Rt(),kat=Hr(),Nat=wx(),Fat=Bn(),zat=XF(),jat=qv(),Bat=St(),QF=Bat("replace"),Uat=Math.max,Vat=Math.min,$at=WT([].concat),JF=WT([].push),xse=WT("".indexOf),bse=WT("".slice),Gat=function(e){return e===void 0?e:String(e)},Zat=function(){return"a".replace(/./,"$0")==="$0"}(),wse=function(){return /./[QF]?/./[QF]("a","$0")==="":!1}(),Wat=!Mat(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Aat("replace",function(e,t,r){var n=wse?"$":"$0";return[function(i,f){var g=kat(this),w=Oat(i)?Fat(i,QF):void 0;return w?_se(w,i,g,f):_se(t,Rv(g),i,f)},function(o,i){var f=qat(this),g=Rv(o);if(typeof i=="string"&&xse(i,n)===-1&&xse(i,"$<")===-1){var w=r(t,f,g,i);if(w.done)return w.value}var E=Rat(i);E||(i=Rv(i));var C=f.global,q;C&&(q=f.unicode,f.lastIndex=0);for(var L=[],B;B=jat(f,g),!(B===null||(JF(L,B),!C));){var $=Rv(B[0]);$===""&&(f.lastIndex=Nat(g,Dat(f.lastIndex),q))}for(var ee="",G=0,H=0;H<L.length;H++){B=L[H];for(var Q=Rv(B[0]),se=Uat(Vat(Lat(B.index),g.length),0),de=[],De,Ne=1;Ne<B.length;Ne++)JF(de,Gat(B[Ne]));var ke=B.groups;if(E){var Ge=$at([Q],de,se,g);ke!==void 0&&JF(Ge,ke),De=Rv(Pat(i,void 0,Ge))}else De=zat(Q,g,se,de,ke,i);se>=G&&(ee+=bse(g,G,se)+De,G=se+Q.length)}return ee+bse(g,G)}]},!Wat||!Zat||wse)});var rz=P(()=>{"use strict";h();var Hat=te(),Kat=ot(),tz=Be(),Sse=Hr(),Yat=jt(),Xat=wt(),Jat=vx(),Ov=Rt(),Qat=Bn(),est=Cv(),tst=XF(),rst=St(),nst=fr(),ist=rst("replace"),ost=TypeError,ez=tz("".indexOf),ast=tz("".replace),Tse=tz("".slice),sst=Math.max;Hat({target:"String",proto:!0},{replaceAll:function(t,r){var n=Sse(this),o,i,f,g,w,E,C,q,L,B,$=0,ee="";if(Xat(t)){if(o=Jat(t),o&&(i=Ov(Sse(est(t))),!~ez(i,"g")))throw new ost("`.replaceAll` does not allow non-global regexes");if(f=Qat(t,ist),f)return Kat(f,t,n,r);if(nst&&o)return ast(Ov(n),t,r)}for(g=Ov(n),w=Ov(t),E=Yat(r),E||(r=Ov(r)),C=w.length,q=sst(1,C),L=ez(g,w);L!==-1;)B=E?Ov(r(w,L,g)):tst(w,g,L,[],void 0,r),ee+=Tse(g,$,L)+B,$=L+C,L=L+q>g.length?-1:ez(g,w,L+q);return $<g.length&&(ee+=Tse(g,$)),ee}})});var Pse=P(()=>{"use strict";h();var lst=ot(),ust=bx(),cst=st(),hst=wt(),fst=Hr(),Ise=ET(),Cse=Rt(),pst=Bn(),dst=qv();ust("search",function(e,t,r){return[function(o){var i=fst(this),f=hst(o)?pst(o,e):void 0;return f?lst(f,o,i):new RegExp(o)[e](Cse(i))},function(n){var o=cst(this),i=Cse(n),f=r(t,o,i);if(f.done)return f.value;var g=o.lastIndex;Ise(g,0)||(o.lastIndex=0);var w=dst(o,i);return Ise(o.lastIndex,g)||(o.lastIndex=g),w===null?-1:w.index}]})});var Ose=P(()=>{"use strict";h();var nz=ot(),Rse=Be(),mst=bx(),vst=st(),gst=wt(),yst=Hr(),_st=lx(),xst=wx(),bst=la(),Ase=Rt(),wst=Bn(),Mse=qv(),Est=gx(),Sst=We(),Lv=Est.UNSUPPORTED_Y,Tst=4294967295,Ist=Math.min,iz=Rse([].push),oz=Rse("".slice),Cst=!Sst(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),qse="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;mst("split",function(e,t,r){var n="0".split(void 0,0).length?function(o,i){return o===void 0&&i===0?[]:nz(t,this,o,i)}:t;return[function(i,f){var g=yst(this),w=gst(i)?wst(i,e):void 0;return w?nz(w,i,g,f):nz(n,Ase(g),i,f)},function(o,i){var f=vst(this),g=Ase(o);if(!qse){var w=r(n,f,g,i,n!==t);if(w.done)return w.value}var E=_st(f,RegExp),C=f.unicode,q=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(Lv?"g":"y"),L=new E(Lv?"^(?:"+f.source+")":f,q),B=i===void 0?Tst:i>>>0;if(B===0)return[];if(g.length===0)return Mse(L,g)===null?[g]:[];for(var $=0,ee=0,G=[];ee<g.length;){L.lastIndex=Lv?0:ee;var H=Mse(L,Lv?oz(g,ee):g),Q;if(H===null||(Q=Ist(bst(L.lastIndex+(Lv?ee:0)),g.length))===$)ee=xst(g,ee,C);else{if(iz(G,oz(g,$,ee)),G.length===B)return G;for(var se=1;se<=H.length-1;se++)if(iz(G,H[se]),G.length===B)return G;ee=$=Q}}return iz(G,oz(g,$)),G}]},qse||!Cst,Lv)});var kse=P(()=>{"use strict";h();var Pst=te(),Ast=Mh(),Mst=Oi().f,qst=la(),Lse=Rt(),Rst=UT(),Ost=Hr(),Lst=VT(),Dst=fr(),kst=Ast("".slice),Nst=Math.min,Dse=Lst("startsWith"),Fst=!Dst&&!Dse&&!!function(){var e=Mst(String.prototype,"startsWith");return e&&!e.writable}();Pst({target:"String",proto:!0,forced:!Fst&&!Dse},{startsWith:function(t){var r=Lse(Ost(this));Rst(t);var n=qst(Nst(arguments.length>1?arguments[1]:void 0,r.length)),o=Lse(t);return kst(r,n,n+o.length)===o}})});var Fse=P(()=>{"use strict";h();var zst=te(),jst=Be(),Bst=Hr(),Nse=en(),Ust=Rt(),Vst=jst("".slice),$st=Math.max,Gst=Math.min,Zst=!"".substr||"ab".substr(-1)!=="b";zst({target:"String",proto:!0,forced:Zst},{substr:function(t,r){var n=Ust(Bst(this)),o=n.length,i=Nse(t),f,g;return i===1/0&&(i=0),i<0&&(i=$st(o+i,0)),f=r===void 0?o:Nse(r),f<=0||f===1/0?"":(g=Gst(i+f,o),i>=g?"":Vst(n,i,g))}})});var uz=P(()=>{"use strict";h();var Wst=te(),Bse=ot(),lz=Be(),Hst=Hr(),Kst=Rt(),Yst=We(),Xst=Array,az=lz("".charAt),zse=lz("".charCodeAt),Jst=lz([].join),sz="".toWellFormed,Qst="\uFFFD",jse=sz&&Yst(function(){return Bse(sz,1)!=="1"});Wst({target:"String",proto:!0,forced:jse},{toWellFormed:function(){var t=Kst(Hst(this));if(jse)return Bse(sz,t);for(var r=t.length,n=Xst(r),o=0;o<r;o++){var i=zse(t,o);(i&63488)!==55296?n[o]=az(t,o):i>=56320||o+1>=r||(zse(t,o+1)&64512)!==56320?n[o]=Qst:(n[o]=az(t,o),n[++o]=az(t,o))}return Jst(n,"")}})});var HT=P((jnr,$se)=>{"use strict";h();var elt=wp().PROPER,tlt=We(),Use=Dp(),Vse="\u200B\x85\u180E";$se.exports=function(e){return tlt(function(){return!!Use[e]()||Vse[e]()!==Vse||elt&&Use[e].name!==e})}});var Gse=P(()=>{"use strict";h();var rlt=te(),nlt=kp().trim,ilt=HT();rlt({target:"String",proto:!0,forced:ilt("trim")},{trim:function(){return nlt(this)}})});var cz=P((Gnr,Zse)=>{"use strict";h();var olt=kp().end,alt=HT();Zse.exports=alt("trimEnd")?function(){return olt(this)}:"".trimEnd});var Hse=P(()=>{"use strict";h();var slt=te(),Wse=cz();slt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Wse},{trimRight:Wse})});var Yse=P(()=>{"use strict";h();Hse();var llt=te(),Kse=cz();llt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==Kse},{trimEnd:Kse})});var hz=P((Qnr,Xse)=>{"use strict";h();var ult=kp().start,clt=HT();Xse.exports=clt("trimStart")?function(){return ult(this)}:"".trimStart});var Qse=P(()=>{"use strict";h();var hlt=te(),Jse=hz();hlt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==Jse},{trimLeft:Jse})});var tle=P(()=>{"use strict";h();Qse();var flt=te(),ele=hz();flt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==ele},{trimStart:ele})});var pa=P((sir,nle)=>{"use strict";h();var plt=Be(),dlt=Hr(),rle=Rt(),mlt=/"/g,vlt=plt("".replace);nle.exports=function(e,t,r,n){var o=rle(dlt(e)),i="<"+t;return r!==""&&(i+=" "+r+"=\""+vlt(rle(n),mlt,"&quot;")+"\""),i+">"+o+"</"+t+">"}});var da=P((uir,ile)=>{"use strict";h();var glt=We();ile.exports=function(e){return glt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var ole=P(()=>{"use strict";h();var ylt=te(),_lt=pa(),xlt=da();ylt({target:"String",proto:!0,forced:xlt("anchor")},{anchor:function(t){return _lt(this,"a","name",t)}})});var ale=P(()=>{"use strict";h();var blt=te(),wlt=pa(),Elt=da();blt({target:"String",proto:!0,forced:Elt("big")},{big:function(){return wlt(this,"big","","")}})});var sle=P(()=>{"use strict";h();var Slt=te(),Tlt=pa(),Ilt=da();Slt({target:"String",proto:!0,forced:Ilt("blink")},{blink:function(){return Tlt(this,"blink","","")}})});var lle=P(()=>{"use strict";h();var Clt=te(),Plt=pa(),Alt=da();Clt({target:"String",proto:!0,forced:Alt("bold")},{bold:function(){return Plt(this,"b","","")}})});var ule=P(()=>{"use strict";h();var Mlt=te(),qlt=pa(),Rlt=da();Mlt({target:"String",proto:!0,forced:Rlt("fixed")},{fixed:function(){return qlt(this,"tt","","")}})});var cle=P(()=>{"use strict";h();var Olt=te(),Llt=pa(),Dlt=da();Olt({target:"String",proto:!0,forced:Dlt("fontcolor")},{fontcolor:function(t){return Llt(this,"font","color",t)}})});var hle=P(()=>{"use strict";h();var klt=te(),Nlt=pa(),Flt=da();klt({target:"String",proto:!0,forced:Flt("fontsize")},{fontsize:function(t){return Nlt(this,"font","size",t)}})});var fle=P(()=>{"use strict";h();var zlt=te(),jlt=pa(),Blt=da();zlt({target:"String",proto:!0,forced:Blt("italics")},{italics:function(){return jlt(this,"i","","")}})});var ple=P(()=>{"use strict";h();var Ult=te(),Vlt=pa(),$lt=da();Ult({target:"String",proto:!0,forced:$lt("link")},{link:function(t){return Vlt(this,"a","href",t)}})});var dle=P(()=>{"use strict";h();var Glt=te(),Zlt=pa(),Wlt=da();Glt({target:"String",proto:!0,forced:Wlt("small")},{small:function(){return Zlt(this,"small","","")}})});var mle=P(()=>{"use strict";h();var Hlt=te(),Klt=pa(),Ylt=da();Hlt({target:"String",proto:!0,forced:Ylt("strike")},{strike:function(){return Klt(this,"strike","","")}})});var vle=P(()=>{"use strict";h();var Xlt=te(),Jlt=pa(),Qlt=da();Xlt({target:"String",proto:!0,forced:Qlt("sub")},{sub:function(){return Jlt(this,"sub","","")}})});var gle=P(()=>{"use strict";h();var eut=te(),tut=pa(),rut=da();eut({target:"String",proto:!0,forced:rut("sup")},{sup:function(){return tut(this,"sup","","")}})});var KT=P((Yir,_le)=>{"use strict";h();var yle=it(),fz=We(),nut=N0(),iut=Kt().NATIVE_ARRAY_BUFFER_VIEWS,out=yle.ArrayBuffer,Up=yle.Int8Array;_le.exports=!iut||!fz(function(){Up(1)})||!fz(function(){new Up(-1)})||!nut(function(e){new Up,new Up(null),new Up(1.5),new Up(e)},!0)||fz(function(){return new Up(new out(2),1,void 0).length!==1})});var pz=P((Jir,xle)=>{"use strict";h();var aut=mv(),sut=RangeError;xle.exports=function(e,t){var r=aut(e);if(r%t)throw new sut("Wrong offset");return r}});var dz=P((eor,ble)=>{"use strict";h();var lut=Math.round;ble.exports=function(e){var t=lut(e);return t<0?0:t>255?255:t&255}});var YT=P((ror,wle)=>{"use strict";h();var uut=Bo();wle.exports=function(e){var t=uut(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var Sx=P((ior,Ele)=>{"use strict";h();var cut=_0(),hut=TypeError;Ele.exports=function(e){var t=cut(e,"number");if(typeof t=="number")throw new hut("Can't convert number to bigint");return BigInt(t)}});var mz=P((aor,Sle)=>{"use strict";h();var fut=zr(),put=ot(),dut=sx(),mut=Jt(),vut=sr(),gut=Lh(),yut=Bl(),_ut=LS(),xut=YT(),but=Kt().aTypedArrayConstructor,wut=Sx();Sle.exports=function(t){var r=dut(this),n=mut(t),o=arguments.length,i=o>1?arguments[1]:void 0,f=i!==void 0,g=yut(n),w,E,C,q,L,B,$,ee;if(g&&!_ut(g))for($=gut(n,g),ee=$.next,n=[];!(B=put(ee,$)).done;)n.push(B.value);for(f&&o>2&&(i=fut(i,arguments[2])),E=vut(n),C=new(but(r))(E),q=xut(C),w=0;E>w;w++)L=f?i(n[w],w):n[w],C[w]=q?wut(L):+L;return C}});var Wl=P((lor,wz)=>{"use strict";h();var Tle=te(),kle=it(),Ile=ot(),Eut=vt(),Sut=KT(),Px=Kt(),Nle=W0(),Cle=wo(),Tut=aa(),Tx=li(),Iut=xT(),Cut=la(),Ple=sv(),vz=pz(),Put=dz(),Fle=zl(),Ix=Vt(),Aut=Bo(),_z=wt(),Mut=Hu(),qut=Un(),Rut=Ji(),XT=xs(),Out=Ah().f,Ale=mz(),Lut=Vn().forEach,Dut=zh(),kut=tn(),zle=Zr(),jle=Oi(),Mle=Qu(),Ez=yr(),Nut=Oh(),xz=Ez.get,Fut=Ez.set,zut=Ez.enforce,Ble=zle.f,jut=jle.f,gz=kle.RangeError,Ule=Nle.ArrayBuffer,But=Ule.prototype,Uut=Nle.DataView,JT=Px.NATIVE_ARRAY_BUFFER_VIEWS,qle=Px.TYPED_ARRAY_TAG,Rle=Px.TypedArray,Cx=Px.TypedArrayPrototype,bz=Px.isTypedArray,QT="BYTES_PER_ELEMENT",yz="Wrong length",eI=function(e,t){kut(e,t,{configurable:!0,get:function(){return xz(this)[t]}})},Ole=function(e){var t;return Rut(But,e)||(t=Aut(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Vle=function(e,t){return bz(e)&&!Mut(t)&&t in e&&Iut(+t)&&t>=0},Lle=function(t,r){return r=Fle(r),Vle(t,r)?Tut(2,t[r]):jut(t,r)},Dle=function(t,r,n){return r=Fle(r),Vle(t,r)&&_z(n)&&Ix(n,"value")&&!Ix(n,"get")&&!Ix(n,"set")&&!n.configurable&&(!Ix(n,"writable")||n.writable)&&(!Ix(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):Ble(t,r,n)};Eut?(JT||(jle.f=Lle,zle.f=Dle,eI(Cx,"buffer"),eI(Cx,"byteOffset"),eI(Cx,"byteLength"),eI(Cx,"length")),Tle({target:"Object",stat:!0,forced:!JT},{getOwnPropertyDescriptor:Lle,defineProperty:Dle}),wz.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,o=e+(r?"Clamped":"")+"Array",i="get"+e,f="set"+e,g=kle[o],w=g,E=w&&w.prototype,C={},q=function(ee,G){var H=xz(ee);return H.view[i](G*n+H.byteOffset,!0)},L=function(ee,G,H){var Q=xz(ee);Q.view[f](G*n+Q.byteOffset,r?Put(H):H,!0)},B=function(ee,G){Ble(ee,G,{get:function(){return q(this,G)},set:function(H){return L(this,G,H)},enumerable:!0})};JT?Sut&&(w=t(function(ee,G,H,Q){return Cle(ee,E),Nut(function(){return _z(G)?Ole(G)?Q!==void 0?new g(G,vz(H,n),Q):H!==void 0?new g(G,vz(H,n)):new g(G):bz(G)?Mle(w,G):Ile(Ale,w,G):new g(Ple(G))}(),ee,w)}),XT&&XT(w,Rle),Lut(Out(g),function(ee){ee in w||Tx(w,ee,g[ee])}),w.prototype=E):(w=t(function(ee,G,H,Q){Cle(ee,E);var se=0,de=0,De,Ne,ke;if(!_z(G))ke=Ple(G),Ne=ke*n,De=new Ule(Ne);else if(Ole(G)){De=G,de=vz(H,n);var Ge=G.byteLength;if(Q===void 0){if(Ge%n)throw new gz(yz);if(Ne=Ge-de,Ne<0)throw new gz(yz)}else if(Ne=Cut(Q)*n,Ne+de>Ge)throw new gz(yz);ke=Ne/n}else return bz(G)?Mle(w,G):Ile(Ale,w,G);for(Fut(ee,{buffer:De,byteOffset:de,byteLength:Ne,length:ke,view:new Uut(De)});se<ke;)B(ee,se++)}),XT&&XT(w,Rle),E=w.prototype=qut(Cx)),E.constructor!==w&&Tx(E,"constructor",w),zut(E).TypedArrayConstructor=w,qle&&Tx(E,qle,o);var $=w!==g;C[o]=w,Tle({global:!0,constructor:!0,forced:$,sham:!JT},C),QT in w||Tx(w,QT,n),QT in E||Tx(E,QT,n),Dut(o)}):wz.exports=function(){}});var $le=P(()=>{"use strict";h();var Vut=Wl();Vut("Float32",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Gle=P(()=>{"use strict";h();var $ut=Wl();$ut("Float64",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Zle=P(()=>{"use strict";h();var Gut=Wl();Gut("Int8",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Wle=P(()=>{"use strict";h();var Zut=Wl();Zut("Int16",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Hle=P(()=>{"use strict";h();var Wut=Wl();Wut("Int32",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Kle=P(()=>{"use strict";h();var Hut=Wl();Hut("Uint8",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Yle=P(()=>{"use strict";h();var Kut=Wl();Kut("Uint8",function(e){return function(r,n,o){return e(this,r,n,o)}},!0)});var Xle=P(()=>{"use strict";h();var Yut=Wl();Yut("Uint16",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Jle=P(()=>{"use strict";h();var Xut=Wl();Xut("Uint32",function(e){return function(r,n,o){return e(this,r,n,o)}})});var Sz=P(()=>{"use strict";h();var Qle=Kt(),Jut=sr(),Qut=en(),ect=Qle.aTypedArray,tct=Qle.exportTypedArrayMethod;tct("at",function(t){var r=ect(this),n=Jut(r),o=Qut(t),i=o>=0?o:n+o;return i<0||i>=n?void 0:r[i]})});var tue=P(()=>{"use strict";h();var rct=Be(),eue=Kt(),nct=IL(),ict=rct(nct),oct=eue.aTypedArray,act=eue.exportTypedArrayMethod;act("copyWithin",function(t,r){return ict(oct(this),t,r,arguments.length>2?arguments[2]:void 0)})});var nue=P(()=>{"use strict";h();var rue=Kt(),sct=Vn().every,lct=rue.aTypedArray,uct=rue.exportTypedArrayMethod;uct("every",function(t){return sct(lct(this),t,arguments.length>1?arguments[1]:void 0)})});var oue=P(()=>{"use strict";h();var iue=Kt(),cct=FS(),hct=Sx(),fct=Bo(),pct=ot(),dct=Be(),mct=We(),vct=iue.aTypedArray,gct=iue.exportTypedArrayMethod,yct=dct("".slice),_ct=mct(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});gct("fill",function(t){var r=arguments.length;vct(this);var n=yct(fct(this),0,3)==="Big"?hct(t):+t;return pct(cct,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},_ct)});var tI=P((Yor,aue)=>{"use strict";h();var xct=Qu(),bct=Kt().getTypedArrayConstructor;aue.exports=function(e,t){return xct(bct(e),t)}});var lue=P(()=>{"use strict";h();var sue=Kt(),wct=Vn().filter,Ect=tI(),Sct=sue.aTypedArray,Tct=sue.exportTypedArrayMethod;Tct("filter",function(t){var r=wct(Sct(this),t,arguments.length>1?arguments[1]:void 0);return Ect(this,r)})});var cue=P(()=>{"use strict";h();var uue=Kt(),Ict=Vn().find,Cct=uue.aTypedArray,Pct=uue.exportTypedArrayMethod;Pct("find",function(t){return Ict(Cct(this),t,arguments.length>1?arguments[1]:void 0)})});var fue=P(()=>{"use strict";h();var hue=Kt(),Act=Vn().findIndex,Mct=hue.aTypedArray,qct=hue.exportTypedArrayMethod;qct("findIndex",function(t){return Act(Mct(this),t,arguments.length>1?arguments[1]:void 0)})});var Tz=P(()=>{"use strict";h();var pue=Kt(),Rct=k0().findLast,Oct=pue.aTypedArray,Lct=pue.exportTypedArrayMethod;Lct("findLast",function(t){return Rct(Oct(this),t,arguments.length>1?arguments[1]:void 0)})});var Iz=P(()=>{"use strict";h();var due=Kt(),Dct=k0().findLastIndex,kct=due.aTypedArray,Nct=due.exportTypedArrayMethod;Nct("findLastIndex",function(t){return Dct(kct(this),t,arguments.length>1?arguments[1]:void 0)})});var vue=P(()=>{"use strict";h();var mue=Kt(),Fct=Vn().forEach,zct=mue.aTypedArray,jct=mue.exportTypedArrayMethod;jct("forEach",function(t){Fct(zct(this),t,arguments.length>1?arguments[1]:void 0)})});var gue=P(()=>{"use strict";h();var Bct=KT(),Uct=Kt().exportTypedArrayStaticMethod,Vct=mz();Uct("from",Vct,Bct)});var _ue=P(()=>{"use strict";h();var yue=Kt(),$ct=Qm().includes,Gct=yue.aTypedArray,Zct=yue.exportTypedArrayMethod;Zct("includes",function(t){return $ct(Gct(this),t,arguments.length>1?arguments[1]:void 0)})});var bue=P(()=>{"use strict";h();var xue=Kt(),Wct=Qm().indexOf,Hct=xue.aTypedArray,Kct=xue.exportTypedArrayMethod;Kct("indexOf",function(t){return Wct(Hct(this),t,arguments.length>1?arguments[1]:void 0)})});var Iue=P(()=>{"use strict";h();var Yct=it(),Xct=We(),Cz=Be(),Eue=Kt(),Pz=j0(),Jct=St(),Az=Jct("iterator"),wue=Yct.Uint8Array,Qct=Cz(Pz.values),eht=Cz(Pz.keys),tht=Cz(Pz.entries),Mz=Eue.aTypedArray,rI=Eue.exportTypedArrayMethod,Dv=wue&&wue.prototype,nI=!Xct(function(){Dv[Az].call([1])}),Sue=!!Dv&&Dv.values&&Dv[Az]===Dv.values&&Dv.values.name==="values",Tue=function(){return Qct(Mz(this))};rI("entries",function(){return tht(Mz(this))},nI);rI("keys",function(){return eht(Mz(this))},nI);rI("values",Tue,nI||!Sue,{name:"values"});rI(Az,Tue,nI||!Sue,{name:"values"})});var Pue=P(()=>{"use strict";h();var Cue=Kt(),rht=Be(),nht=Cue.aTypedArray,iht=Cue.exportTypedArrayMethod,oht=rht([].join);iht("join",function(t){return oht(nht(this),t)})});var Mue=P(()=>{"use strict";h();var Aue=Kt(),aht=Qi(),sht=UL(),lht=Aue.aTypedArray,uht=Aue.exportTypedArrayMethod;uht("lastIndexOf",function(t){var r=arguments.length;return aht(sht,lht(this),r>1?[t,arguments[1]]:[t])})});var que=P(()=>{"use strict";h();var qz=Kt(),cht=Vn().map,hht=qz.aTypedArray,fht=qz.getTypedArrayConstructor,pht=qz.exportTypedArrayMethod;pht("map",function(t){return cht(hht(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(fht(r))(n)})})});var Oue=P(()=>{"use strict";h();var Rue=Kt(),dht=KT(),mht=Rue.aTypedArrayConstructor,vht=Rue.exportTypedArrayStaticMethod;vht("of",function(){for(var t=0,r=arguments.length,n=new(mht(this))(r);r>t;)n[t]=arguments[t++];return n},dht)});var Due=P(()=>{"use strict";h();var Lue=Kt(),ght=B0().left,yht=Lue.aTypedArray,_ht=Lue.exportTypedArrayMethod;_ht("reduce",function(t){var r=arguments.length;return ght(yht(this),t,r,r>1?arguments[1]:void 0)})});var Nue=P(()=>{"use strict";h();var kue=Kt(),xht=B0().right,bht=kue.aTypedArray,wht=kue.exportTypedArrayMethod;wht("reduceRight",function(t){var r=arguments.length;return xht(bht(this),t,r,r>1?arguments[1]:void 0)})});var zue=P(()=>{"use strict";h();var Fue=Kt(),Eht=Fue.aTypedArray,Sht=Fue.exportTypedArrayMethod,Tht=Math.floor;Sht("reverse",function(){for(var t=this,r=Eht(t).length,n=Tht(r/2),o=0,i;o<n;)i=t[o],t[o++]=t[--r],t[r]=i;return t})});var Gue=P(()=>{"use strict";h();var Bue=it(),Uue=ot(),Lz=Kt(),Iht=sr(),Cht=pz(),Pht=Jt(),Vue=We(),Aht=Bue.RangeError,Rz=Bue.Int8Array,jue=Rz&&Rz.prototype,$ue=jue&&jue.set,Mht=Lz.aTypedArray,qht=Lz.exportTypedArrayMethod,Oz=!Vue(function(){var e=new Uint8ClampedArray(2);return Uue($ue,e,{length:1,0:3},1),e[1]!==3}),Rht=Oz&&Lz.NATIVE_ARRAY_BUFFER_VIEWS&&Vue(function(){var e=new Rz(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});qht("set",function(t){Mht(this);var r=Cht(arguments.length>1?arguments[1]:void 0,1),n=Pht(t);if(Oz)return Uue($ue,this,n,r);var o=this.length,i=Iht(n),f=0;if(i+r>o)throw new Aht("Wrong length");for(;f<i;)this[r+f]=n[f++]},!Oz||Rht)});var Zue=P(()=>{"use strict";h();var Dz=Kt(),Oht=We(),Lht=ua(),Dht=Dz.aTypedArray,kht=Dz.getTypedArrayConstructor,Nht=Dz.exportTypedArrayMethod,Fht=Oht(function(){new Int8Array(1).slice()});Nht("slice",function(t,r){for(var n=Lht(Dht(this),t,r),o=kht(this),i=0,f=n.length,g=new o(f);f>i;)g[i]=n[i++];return g},Fht)});var Hue=P(()=>{"use strict";h();var Wue=Kt(),zht=Vn().some,jht=Wue.aTypedArray,Bht=Wue.exportTypedArrayMethod;Bht("some",function(t){return zht(jht(this),t,arguments.length>1?arguments[1]:void 0)})});var ece=P(()=>{"use strict";h();var Uht=it(),Vht=Mh(),kz=We(),$ht=Pt(),Ght=ZS(),Que=Kt(),Kue=GL(),Zht=ZL(),Yue=Qs(),Xue=WS(),Wht=Que.aTypedArray,Hht=Que.exportTypedArrayMethod,Ax=Uht.Uint16Array,kv=Ax&&Vht(Ax.prototype.sort),Kht=!!kv&&!(kz(function(){kv(new Ax(2),null)})&&kz(function(){kv(new Ax(2),{})})),Jue=!!kv&&!kz(function(){if(Yue)return Yue<74;if(Kue)return Kue<67;if(Zht)return!0;if(Xue)return Xue<602;var e=new Ax(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(kv(e,function(o,i){return(o/4|0)-(i/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),Yht=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};Hht("sort",function(t){return t!==void 0&&$ht(t),Jue?kv(this,t):Ght(Wht(this),Yht(t))},!Jue||Kht)});var rce=P(()=>{"use strict";h();var Nz=Kt(),Xht=la(),tce=tl(),Jht=Nz.aTypedArray,Qht=Nz.getTypedArrayConstructor,eft=Nz.exportTypedArrayMethod;eft("subarray",function(t,r){var n=Jht(this),o=n.length,i=tce(t,o),f=Qht(n);return new f(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,Xht((r===void 0?o:tce(r,o))-i))})});var sce=P(()=>{"use strict";h();var tft=it(),rft=Qi(),oce=Kt(),Fz=We(),nce=ua(),iI=tft.Int8Array,ice=oce.aTypedArray,nft=oce.exportTypedArrayMethod,ace=[].toLocaleString,ift=!!iI&&Fz(function(){ace.call(new iI(1))}),oft=Fz(function(){return[1,2].toLocaleString()!==new iI([1,2]).toLocaleString()})||!Fz(function(){iI.prototype.toLocaleString.call([1,2])});nft("toLocaleString",function(){return rft(ace,ift?nce(ice(this)):ice(this),nce(arguments))},oft)});var jz=P(()=>{"use strict";h();var aft=KL(),zz=Kt(),sft=zz.aTypedArray,lft=zz.exportTypedArrayMethod,uft=zz.getTypedArrayConstructor;lft("toReversed",function(){return aft(sft(this),uft(this))})});var Bz=P(()=>{"use strict";h();var oI=Kt(),cft=Be(),hft=Pt(),fft=Qu(),pft=oI.aTypedArray,dft=oI.getTypedArrayConstructor,mft=oI.exportTypedArrayMethod,vft=cft(oI.TypedArrayPrototype.sort);mft("toSorted",function(t){t!==void 0&&hft(t);var r=pft(this),n=fft(dft(r),r);return vft(n,t)})});var uce=P(()=>{"use strict";h();var gft=Kt().exportTypedArrayMethod,yft=We(),_ft=it(),xft=Be(),lce=_ft.Uint8Array,bft=lce&&lce.prototype||{},aI=[].toString,wft=xft([].join);yft(function(){aI.call({})})&&(aI=function(){return wft(this)});var Eft=bft.toString!==aI;gft("toString",aI,Eft)});var Vz=P(()=>{"use strict";h();var Sft=eD(),Uz=Kt(),Tft=YT(),Ift=en(),Cft=Sx(),Pft=Uz.aTypedArray,Aft=Uz.getTypedArrayConstructor,Mft=Uz.exportTypedArrayMethod,qft=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();Mft("with",function(e,t){var r=Pft(this),n=Ift(e),o=Tft(r)?Cft(t):+t;return Sft(r,Aft(r),n,o)},!qft)});var dce=P(()=>{"use strict";h();var Rft=te(),$z=Be(),Oft=Rt(),cce=String.fromCharCode,hce=$z("".charAt),fce=$z(/./.exec),pce=$z("".slice),Lft=/^[\da-f]{2}$/i,Dft=/^[\da-f]{4}$/i;Rft({global:!0},{unescape:function(t){for(var r=Oft(t),n="",o=r.length,i=0,f,g;i<o;){if(f=hce(r,i++),f==="%"){if(hce(r,i)==="u"){if(g=pce(r,i+1,i+5),fce(Dft,g)){n+=cce(parseInt(g,16)),i+=5;continue}}else if(g=pce(r,i,i+2),fce(Lft,g)){n+=cce(parseInt(g,16)),i+=2;continue}}n+=f}return n}})});var Wz=P((Asr,xce)=>{"use strict";h();var kft=Be(),mce=Es(),sI=Zh().getWeakData,Nft=wo(),Fft=st(),zft=sa(),Gz=wt(),jft=bn(),gce=Vn(),vce=Vt(),yce=yr(),Bft=yce.set,Uft=yce.getterFor,Vft=gce.find,$ft=gce.findIndex,Gft=kft([].splice),Zft=0,lI=function(e){return e.frozen||(e.frozen=new _ce)},_ce=function(){this.entries=[]},Zz=function(e,t){return Vft(e.entries,function(r){return r[0]===t})};_ce.prototype={get:function(e){var t=Zz(this,e);if(t)return t[1]},has:function(e){return!!Zz(this,e)},set:function(e,t){var r=Zz(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=$ft(this.entries,function(r){return r[0]===e});return~t&&Gft(this.entries,t,1),!!~t}};xce.exports={getConstructor:function(e,t,r,n){var o=e(function(w,E){Nft(w,i),Bft(w,{type:t,id:Zft++,frozen:null}),zft(E)||jft(E,w[n],{that:w,AS_ENTRIES:r})}),i=o.prototype,f=Uft(t),g=function(w,E,C){var q=f(w),L=sI(Fft(E),!0);return L===!0?lI(q).set(E,C):L[q.id]=C,w};return mce(i,{delete:function(w){var E=f(this);if(!Gz(w))return!1;var C=sI(w);return C===!0?lI(E).delete(w):C&&vce(C,E.id)&&delete C[E.id]},has:function(E){var C=f(this);if(!Gz(E))return!1;var q=sI(E);return q===!0?lI(C).has(E):q&&vce(q,C.id)}}),mce(i,r?{get:function(E){var C=f(this);if(Gz(E)){var q=sI(E);if(q===!0)return lI(C).get(E);if(q)return q[C.id]}},set:function(E,C){return g(this,E,C)}}:{add:function(E){return g(this,E,!0)}}),o}}});var Pce=P(()=>{"use strict";h();var Wft=ic(),bce=it(),fI=Be(),wce=Es(),Hft=Zh(),Kft=X0(),Ece=Wz(),uI=wt(),cI=yr().enforce,Yft=We(),Xft=PO(),Rx=Object,Jft=Array.isArray,hI=Rx.isExtensible,Sce=Rx.isFrozen,Qft=Rx.isSealed,Tce=Rx.freeze,ept=Rx.seal,tpt=!bce.ActiveXObject&&"ActiveXObject"in bce,Mx,Ice=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Cce=Kft("WeakMap",Ice,Ece),Nv=Cce.prototype,pI=fI(Nv.set),rpt=function(){return Wft&&Yft(function(){var e=Tce([]);return pI(new Cce,e,1),!Sce(e)})};Xft&&(tpt?(Mx=Ece.getConstructor(Ice,"WeakMap",!0),Hft.enable(),Hz=fI(Nv.delete),qx=fI(Nv.has),Kz=fI(Nv.get),wce(Nv,{delete:function(e){if(uI(e)&&!hI(e)){var t=cI(this);return t.frozen||(t.frozen=new Mx),Hz(this,e)||t.frozen.delete(e)}return Hz(this,e)},has:function(t){if(uI(t)&&!hI(t)){var r=cI(this);return r.frozen||(r.frozen=new Mx),qx(this,t)||r.frozen.has(t)}return qx(this,t)},get:function(t){if(uI(t)&&!hI(t)){var r=cI(this);return r.frozen||(r.frozen=new Mx),qx(this,t)?Kz(this,t):r.frozen.get(t)}return Kz(this,t)},set:function(t,r){if(uI(t)&&!hI(t)){var n=cI(this);n.frozen||(n.frozen=new Mx),qx(this,t)?pI(this,t,r):n.frozen.set(t,r)}else pI(this,t,r);return this}})):rpt()&&wce(Nv,{set:function(t,r){var n;return Jft(t)&&(Sce(t)?n=Tce:Qft(t)&&(n=ept)),pI(this,t,r),n&&n(t),this}}));var Hz,qx,Kz});var dI=P(()=>{"use strict";h();Pce()});var Ace=P(()=>{"use strict";h();var npt=X0(),ipt=Wz();npt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},ipt)});var Mce=P(()=>{"use strict";h();Ace()});var qce=P(()=>{"use strict";h();xL()});var Lce=P(()=>{"use strict";h();var opt=te(),apt=it(),spt=Ji(),Rce=ui(),vI=xs(),lpt=Sp(),Oce=Un(),mI=li(),Yz=aa(),upt=MS(),cpt=Ap(),hpt=St(),fpt=We(),ppt=fr(),Fv=apt.SuppressedError,dpt=hpt("toStringTag"),gI=Error,mpt=!!Fv&&Fv.length!==3,vpt=!!Fv&&fpt(function(){return new Fv(1,2,3,{cause:4}).cause===4}),yI=mpt||vpt,Vp=function(t,r,n){var o=spt(Ox,this),i;return vI?i=yI&&(!o||Rce(this)===Ox)?new Fv:vI(new gI,o?Rce(this):Ox):(i=o?this:Oce(Ox),mI(i,dpt,"Error")),n!==void 0&&mI(i,"message",cpt(n)),upt(i,Vp,i.stack,1),mI(i,"error",t),mI(i,"suppressed",r),i};vI?vI(Vp,gI):lpt(Vp,gI,{name:!0});var Ox=Vp.prototype=yI?Fv.prototype:Oce(gI.prototype,{constructor:Yz(1,Vp),message:Yz(1,""),name:Yz(1,"SuppressedError")});yI&&!ppt&&(Ox.constructor=Vp);opt({global:!0,constructor:!0,arity:3,forced:yI},{SuppressedError:Vp})});var zv=P((Ksr,Uce)=>{"use strict";h();var zce=it(),jce=y0(),Bce=jt(),gpt=Un(),_I=ui(),ypt=Ir(),_pt=St(),xpt=fr(),Dce="USE_FUNCTION_CONSTRUCTOR",kce=_pt("asyncIterator"),Nce=zce.AsyncIterator,Fce=jce.AsyncIteratorPrototype,Hl,Xz;if(Fce)Hl=Fce;else if(Bce(Nce))Hl=Nce.prototype;else if(jce[Dce]||zce[Dce])try{Xz=_I(_I(_I(Function("return async function*(){}()")()))),_I(Xz)===Object.prototype&&(Hl=Xz)}catch(e){}Hl?xpt&&(Hl=gpt(Hl)):Hl={};Bce(Hl[kce])||ypt(Hl,kce,function(){return this});Uce.exports=Hl});var Lx=P((Xsr,Xce)=>{"use strict";h();var Vce=ot(),$ce=st(),bpt=Un(),wpt=Bn(),Ept=Es(),Wce=yr(),Spt=Di(),Tpt=Ct(),Ipt=zv(),Hce=wi(),Jz=Tpt("Promise"),Kce="AsyncFromSyncIterator",Cpt=Wce.set,Gce=Wce.getterFor(Kce),Zce=function(e,t,r,n,o){var i=e.done;Jz.resolve(e.value).then(function(f){t(Hce(f,i))},function(f){if(!i&&o)try{Spt(n,"throw",f)}catch(g){f=g}r(f)})},Yce=function(t){t.type=Kce,Cpt(this,t)};Yce.prototype=Ept(bpt(Ipt),{next:function(){var t=Gce(this);return new Jz(function(r,n){var o=$ce(Vce(t.next,t.iterator));Zce(o,r,n,t.iterator,!0)})},return:function(){var e=Gce(this).iterator;return new Jz(function(t,r){var n=wpt(e,"return");if(n===void 0)return t(Hce(void 0,!0));var o=$ce(Vce(n,e));Zce(o,t,r,e)})}});Xce.exports=Yce});var Qce=P((Qsr,Jce)=>{"use strict";h();var Ppt=ot(),Apt=Lx(),Mpt=st(),qpt=Lh(),Rpt=fn(),Opt=Bn(),Lpt=St(),Dpt=Lpt("asyncIterator");Jce.exports=function(e,t){var r=arguments.length<2?Opt(e,Dpt):t;return r?Mpt(Ppt(r,e)):new Apt(Rpt(qpt(e)))}});var jv=P((tlr,ehe)=>{"use strict";h();var kpt=ot(),Npt=Ct(),Fpt=Bn();ehe.exports=function(e,t,r,n){try{var o=Fpt(e,"return");if(o)return Npt("Promise").resolve(kpt(o,e)).then(function(){t(r)},function(i){n(i)})}catch(i){return n(i)}t(r)}});var $p=P((nlr,the)=>{"use strict";h();var zpt=ot(),jpt=Pt(),Qz=st(),Bpt=wt(),Upt=Dh(),Vpt=Ct(),$pt=fn(),ej=jv(),Dx=function(e){var t=e===0,r=e===1,n=e===2,o=e===3;return function(i,f,g){Qz(i);var w=f!==void 0;(w||!t)&&jpt(f);var E=$pt(i),C=Vpt("Promise"),q=E.iterator,L=E.next,B=0;return new C(function($,ee){var G=function(Q){ej(q,ee,Q,ee)},H=function(){try{if(w)try{Upt(B)}catch(Q){G(Q)}C.resolve(Qz(zpt(L,q))).then(function(Q){try{if(Qz(Q).done)t?(g.length=B,$(g)):$(o?!1:n||void 0);else{var se=Q.value;try{if(w){var de=f(se,B),De=function(Ne){if(r)H();else if(n)Ne?H():ej(q,$,!1,ee);else if(t)try{g[B++]=Ne,H()}catch(ke){G(ke)}else Ne?ej(q,$,o||se,ee):H()};Bpt(de)?C.resolve(de).then(De,G):De(de)}else g[B++]=se,H()}catch(Ne){G(Ne)}}}catch(Ne){ee(Ne)}},ee)}catch(Q){ee(Q)}};H()})}};the.exports={toArray:Dx(0),forEach:Dx(1),every:Dx(2),some:Dx(3),find:Dx(4)}});var tj=P((olr,ohe)=>{"use strict";h();var Gpt=zr(),rhe=Be(),Zpt=Jt(),Wpt=nl(),Hpt=Qce(),Kpt=Lh(),Ypt=fn(),Xpt=Bl(),Jpt=Bn(),Qpt=Ct(),edt=XL(),tdt=St(),rdt=Lx(),ndt=$p().toArray,idt=tdt("asyncIterator"),nhe=rhe(edt("Array","values")),odt=rhe(nhe([]).next),adt=function(){return new ihe(this)},ihe=function(e){this.iterator=nhe(e)};ihe.prototype.next=function(){return odt(this.iterator)};ohe.exports=function(t){var r=this,n=arguments.length,o=n>1?arguments[1]:void 0,i=n>2?arguments[2]:void 0;return new(Qpt("Promise"))(function(f){var g=Zpt(t);o!==void 0&&(o=Gpt(o,i));var w=Jpt(g,idt),E=w?void 0:Xpt(g)||adt,C=Wpt(r)?new r:[],q=w?Hpt(g,w):new rdt(Ypt(Kpt(g,E)));f(ndt(q,o,C))})}});var she=P(()=>{"use strict";h();var sdt=te(),ldt=tj(),udt=We(),ahe=Array.fromAsync,cdt=!ahe||udt(function(){var e=0;return ahe.call(function(){return e++,[]},{length:0}),e!==1});sdt({target:"Array",stat:!0,forced:cdt},{fromAsync:ldt})});var lhe=P(()=>{"use strict";h();SL()});var uhe=P(()=>{"use strict";h();var hdt=te(),fdt=Vn().filterReject,pdt=wn();hdt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return fdt(this,t,arguments.length>1?arguments[1]:void 0)}});pdt("filterOut")});var che=P(()=>{"use strict";h();var ddt=te(),mdt=Vn().filterReject,vdt=wn();ddt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return mdt(this,t,arguments.length>1?arguments[1]:void 0)}});vdt("filterReject")});var hhe=P(()=>{"use strict";h();AL()});var fhe=P(()=>{"use strict";h();ML()});var xI=P((Tlr,phe)=>{"use strict";h();var gdt=zr(),ydt=Be(),_dt=Wu(),xdt=Jt(),bdt=zl(),wdt=sr(),Edt=Un(),Sdt=Qu(),Tdt=Array,Idt=ydt([].push);phe.exports=function(e,t,r,n){for(var o=xdt(e),i=_dt(o),f=gdt(t,r),g=Edt(null),w=wdt(i),E=0,C,q,L;w>E;E++)L=i[E],q=bdt(f(L,E,o)),q in g?Idt(g[q],L):g[q]=[L];if(n&&(C=n(o),C!==Tdt))for(q in g)g[q]=Sdt(C,g[q]);return g}});var dhe=P(()=>{"use strict";h();var Cdt=te(),Pdt=xI(),Adt=wn();Cdt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return Pdt(this,t,r)}});Adt("group")});var mhe=P(()=>{"use strict";h();var Mdt=te(),qdt=xI(),Rdt=ws(),Odt=wn();Mdt({target:"Array",proto:!0,forced:!Rdt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return qdt(this,t,r)}});Odt("groupBy")});var rj=P((Olr,vhe)=>{"use strict";h();var Ldt=zr(),Ddt=Be(),kdt=Wu(),Ndt=Jt(),Fdt=sr(),bI=Ei(),zdt=bI.Map,jdt=bI.get,Bdt=bI.has,Udt=bI.set,Vdt=Ddt([].push);vhe.exports=function(t){for(var r=Ndt(this),n=kdt(r),o=Ldt(t,arguments.length>1?arguments[1]:void 0),i=new zdt,f=Fdt(n),g=0,w,E;f>g;g++)E=n[g],w=o(E,g,r),Bdt(i,w)?Vdt(jdt(i,w),E):Udt(i,w,[E]);return i}});var ghe=P(()=>{"use strict";h();var $dt=te(),Gdt=ws(),Zdt=wn(),Wdt=rj(),Hdt=fr();$dt({target:"Array",proto:!0,name:"groupToMap",forced:Hdt||!Gdt("groupByToMap")},{groupByToMap:Wdt});Zdt("groupByToMap")});var yhe=P(()=>{"use strict";h();var Kdt=te(),Ydt=wn(),Xdt=rj(),Jdt=fr();Kdt({target:"Array",proto:!0,forced:Jdt},{groupToMap:Xdt});Ydt("groupToMap")});var bhe=P(()=>{"use strict";h();var Qdt=te(),emt=rl(),_he=Object.isFrozen,xhe=function(e,t){if(!_he||!emt(e)||!_he(e))return!1;for(var r=0,n=e.length,o;r<n;)if(o=e[r++],!(typeof o=="string"||t&&o===void 0))return!1;return n!==0};Qdt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!xhe(t,!0))return!1;var r=t.raw;return r.length===t.length&&xhe(r,!1)}})});var whe=P(()=>{"use strict";h();var tmt=vt(),rmt=wn(),nmt=Jt(),imt=sr(),omt=tn();tmt&&(omt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=nmt(this),r=imt(t);return r===0?0:r-1}}),rmt("lastIndex"))});var The=P(()=>{"use strict";h();var amt=vt(),smt=wn(),Ehe=Jt(),She=sr(),lmt=tn();amt&&(lmt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=Ehe(this),r=She(t);return r===0?void 0:t[r-1]},set:function(t){var r=Ehe(this),n=She(r);return r[n===0?0:n-1]=t}}),smt("lastItem"))});var Ihe=P(()=>{"use strict";h();YL()});var Che=P(()=>{"use strict";h();JL()});var Phe=P(()=>{"use strict";h();QL()});var Ss=P((our,Ohe)=>{"use strict";h();var Ahe=Be(),umt=ac(),Mhe=Ei(),cmt=Mhe.Map,qhe=Mhe.proto,hmt=Ahe(qhe.forEach),Rhe=Ahe(qhe.entries),fmt=Rhe(new cmt).next;Ohe.exports=function(e,t,r){return r?umt({iterator:Rhe(e),next:fmt},function(n){return t(n[1],n[0])}):hmt(e,t)}});var wI=P((sur,Lhe)=>{"use strict";h();var pmt=Be(),dmt=Pt(),mmt=sa(),vmt=sr(),gmt=Jt(),nj=Ei(),ymt=Ss(),_mt=nj.Map,xmt=nj.has,bmt=nj.set,wmt=pmt([].push);Lhe.exports=function(t){var r=gmt(this),n=vmt(r),o=[],i=new _mt,f=mmt(t)?function(C){return C}:dmt(t),g,w,E;for(g=0;g<n;g++)w=r[g],E=f(w),xmt(i,E)||bmt(i,E,w);return ymt(i,function(C){wmt(o,C)}),o}});var Dhe=P(()=>{"use strict";h();var Emt=te(),Smt=wn(),Tmt=wI();Emt({target:"Array",proto:!0,forced:!0},{uniqueBy:Tmt});Smt("uniqueBy")});var khe=P(()=>{"use strict";h();tD()});var Nhe=P(()=>{"use strict";h();PD()});var Fhe=P(()=>{"use strict";h();VD()});var zhe=P(()=>{"use strict";h();$D()});var oj=P((Sur,$he)=>{"use strict";h();var Imt=Ct(),Cmt=ot(),Pmt=Be(),Amt=zr(),Mmt=st(),qmt=Pt(),Uhe=sa(),ij=Bn(),Vhe=St(),Rmt=Vhe("asyncDispose"),jhe=Vhe("dispose"),Omt=Pmt([].push),Lmt=function(e,t){if(t==="async-dispose"){var r=ij(e,Rmt);return r!==void 0||(r=ij(e,jhe),r===void 0)?r:function(){var n=this,o=Imt("Promise");return new o(function(i){Cmt(r,n),i(void 0)})}}return ij(e,jhe)},Bhe=function(e,t,r){return arguments.length<3&&!Uhe(e)&&(r=qmt(Lmt(Mmt(e),t))),r===void 0?function(){}:Amt(r,e)};$he.exports=function(e,t,r,n){var o;if(arguments.length<4){if(Uhe(t)&&r==="sync-dispose")return;o=Bhe(t,r)}else o=Bhe(void 0,r,n);Omt(e.stack,o)}});var Jhe=P(()=>{"use strict";h();var Dmt=te(),SI=vt(),Hhe=Ct(),Ghe=Pt(),kmt=wo(),Khe=Ir(),Nmt=Es(),Fmt=tn(),Yhe=St(),Xhe=yr(),aj=oj(),Zhe=Qs(),Whe=Hhe("Promise"),zmt=Hhe("SuppressedError"),jmt=ReferenceError,Bmt=Yhe("asyncDispose"),Umt=Yhe("toStringTag"),II="AsyncDisposableStack",Vmt=Xhe.set,TI=Xhe.getterFor(II),sj="async-dispose",kx="disposed",$mt="pending",EI=function(e){var t=TI(e);if(t.state===kx)throw new jmt(II+" already disposed");return t},lj=function(){Vmt(kmt(this,Bv),{type:II,state:$mt,stack:[]}),SI||(this.disposed=!1)},Bv=lj.prototype;Nmt(Bv,{disposeAsync:function(){var t=this;return new Whe(function(r,n){var o=TI(t);if(o.state===kx)return r(void 0);o.state=kx,SI||(t.disposed=!0);var i=o.stack,f=i.length,g=!1,w,E=function(q){g?w=new zmt(q,w):(g=!0,w=q),C()},C=function(){if(f){var q=i[--f];i[f]=null;try{Whe.resolve(q()).then(C,E)}catch(L){E(L)}}else o.stack=null,g?n(w):r(void 0)};C()})},use:function(t){return aj(EI(this),t,sj),t},adopt:function(t,r){var n=EI(this);return Ghe(r),aj(n,void 0,sj,function(){return r(t)}),t},defer:function(t){var r=EI(this);Ghe(t),aj(r,void 0,sj,t)},move:function(){var t=EI(this),r=new lj;return TI(r).stack=t.stack,t.stack=[],t.state=kx,SI||(this.disposed=!0),r}});SI&&Fmt(Bv,"disposed",{configurable:!0,get:function(){return TI(this).state===kx}});Khe(Bv,Bmt,Bv.disposeAsync,{name:"disposeAsync"});Khe(Bv,Umt,II,{nonWritable:!0});var Gmt=Zhe&&Zhe<136;Dmt({global:!0,constructor:!0,forced:Gmt},{AsyncDisposableStack:lj})});var nfe=P(()=>{"use strict";h();var Zmt=te(),Wmt=wo(),Hmt=ui(),efe=li(),tfe=Vt(),Kmt=St(),Qh=zv(),rfe=fr(),Qhe=Kmt("toStringTag"),Ymt=TypeError,uj=function(){if(Wmt(this,Qh),Hmt(this)===Qh)throw new Ymt("Abstract class AsyncIterator not directly constructable")};uj.prototype=Qh;tfe(Qh,Qhe)||efe(Qh,Qhe,"AsyncIterator");(rfe||!tfe(Qh,"constructor")||Qh.constructor===Object)&&efe(Qh,"constructor",uj);Zmt({global:!0,constructor:!0,forced:rfe},{AsyncIterator:uj})});var Gp=P((Rur,hfe)=>{"use strict";h();var Xmt=ot(),CI=Wh(),ife=st(),Jmt=Un(),Qmt=li(),evt=Es(),tvt=St(),afe=yr(),rvt=Ct(),nvt=Bn(),ivt=zv(),cj=wi(),ofe=Di(),Kl=rvt("Promise"),ovt=tvt("toStringTag"),sfe="AsyncIteratorHelper",lfe="WrapForValidAsyncIterator",avt=afe.set,ufe=function(e){var t=!e,r=afe.getterFor(e?lfe:sfe),n=function(o){var i=CI(function(){return r(o)}),f=i.error,g=i.value;return f||t&&g.done?{exit:!0,value:f?Kl.reject(g):Kl.resolve(cj(void 0,!0))}:{exit:!1,value:g}};return evt(Jmt(ivt),{next:function(){var i=n(this),f=i.value;if(i.exit)return f;var g=CI(function(){return ife(f.nextHandler(Kl))}),w=g.error,E=g.value;return w&&(f.done=!0),w?Kl.reject(E):Kl.resolve(E)},return:function(){var o=n(this),i=o.value;if(o.exit)return i;i.done=!0;var f=i.iterator,g,w,E=CI(function(){if(i.inner)try{ofe(i.inner.iterator,"normal")}catch(C){return ofe(f,"throw",C)}return nvt(f,"return")});return g=w=E.value,E.error?Kl.reject(w):g===void 0?Kl.resolve(cj(void 0,!0)):(E=CI(function(){return Xmt(g,f)}),w=E.value,E.error?Kl.reject(w):e?Kl.resolve(w):Kl.resolve(w).then(function(C){return ife(C),cj(void 0,!0)}))}})},svt=ufe(!0),cfe=ufe(!1);Qmt(cfe,ovt,"Async Iterator Helper");hfe.exports=function(e,t){var r=function(o,i){i?(i.iterator=o.iterator,i.next=o.next):i=o,i.type=t?lfe:sfe,i.nextHandler=e,i.counter=0,i.done=!1,avt(this,i)};return r.prototype=t?svt:cfe,r}});var fj=P((Lur,pfe)=>{"use strict";h();var lvt=ot(),uvt=Pt(),hj=st(),cvt=wt(),hvt=fn(),fvt=Gp(),ffe=wi(),pvt=jv(),dvt=fvt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(o,i){var f=function(w){t.done=!0,i(w)},g=function(w){pvt(r,f,w,f)};e.resolve(hj(lvt(t.next,r))).then(function(w){try{if(hj(w).done)t.done=!0,o(ffe(void 0,!0));else{var E=w.value;try{var C=n(E,t.counter++),q=function(L){o(ffe(L,!1))};cvt(C)?e.resolve(C).then(q,g):q(C)}catch(L){g(L)}}}catch(L){f(L)}},f)})});pfe.exports=function(t){return hj(this),uvt(t),new dvt(hvt(this),{mapper:t})}});var pj=P((kur,dfe)=>{"use strict";h();var mvt=ot(),vvt=fj(),gvt=function(e,t){return[t,e]};dfe.exports=function(){return mvt(vvt,this,gvt)}});var mfe=P(()=>{"use strict";h();var yvt=te(),_vt=pj();yvt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:_vt})});var _fe=P(()=>{"use strict";h();var xvt=ot(),bvt=Ir(),wvt=Ct(),Evt=Bn(),Svt=Vt(),Tvt=St(),vfe=zv(),gfe=Tvt("asyncDispose"),yfe=wvt("Promise");Svt(vfe,gfe)||bvt(vfe,gfe,function(){var e=this;return new yfe(function(t,r){var n=Evt(e,"return");n?yfe.resolve(xvt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var bfe=P(()=>{"use strict";h();var Ivt=te(),Cvt=ot(),dj=st(),Pvt=fn(),Avt=dv(),Mvt=mv(),qvt=Gp(),xfe=wi(),Rvt=qvt(function(e){var t=this;return new e(function(r,n){var o=function(f){t.done=!0,n(f)},i=function(){try{e.resolve(dj(Cvt(t.next,t.iterator))).then(function(f){try{dj(f).done?(t.done=!0,r(xfe(void 0,!0))):t.remaining?(t.remaining--,i()):r(xfe(f.value,!1))}catch(g){o(g)}},o)}catch(f){o(f)}};i()})});Ivt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function(t){dj(this);var r=Mvt(Avt(+t));return new Rvt(Pvt(this),{remaining:r})}})});var wfe=P(()=>{"use strict";h();var Ovt=te(),Lvt=$p().every;Ovt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(t){return Lvt(this,t)}})});var Sfe=P(()=>{"use strict";h();var Dvt=te(),kvt=ot(),Nvt=Pt(),mj=st(),Fvt=wt(),zvt=fn(),jvt=Gp(),Efe=wi(),Bvt=jv(),Uvt=jvt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(o,i){var f=function(E){t.done=!0,i(E)},g=function(E){Bvt(r,f,E,f)},w=function(){try{e.resolve(mj(kvt(t.next,r))).then(function(E){try{if(mj(E).done)t.done=!0,o(Efe(void 0,!0));else{var C=E.value;try{var q=n(C,t.counter++),L=function(B){B?o(Efe(C,!1)):w()};Fvt(q)?e.resolve(q).then(L,g):L(q)}catch(B){g(B)}}}catch(B){f(B)}},f)}catch(E){f(E)}};w()})});Dvt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(t){return mj(this),Nvt(t),new Uvt(zvt(this),{predicate:t})}})});var Tfe=P(()=>{"use strict";h();var Vvt=te(),$vt=$p().find;Vvt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(t){return $vt(this,t)}})});var vj=P((rcr,Pfe)=>{"use strict";h();var Gvt=ot(),Zvt=jt(),Ife=st(),Cfe=fn(),Wvt=Bl(),Hvt=Bn(),Kvt=St(),Yvt=Lx(),Xvt=Kvt("asyncIterator");Pfe.exports=function(e){var t=Ife(e),r=!0,n=Hvt(t,Xvt),o;return Zvt(n)||(n=Wvt(t),r=!1),n!==void 0?o=Gvt(n,t):(o=t,r=!0),Ife(o),Cfe(r?o:new Yvt(Cfe(o)))}});var qfe=P(()=>{"use strict";h();var Jvt=te(),Afe=ot(),Qvt=Pt(),Nx=st(),egt=wt(),tgt=fn(),rgt=Gp(),Mfe=wi(),ngt=vj(),igt=jv(),ogt=rgt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(o,i){var f=function(C){t.done=!0,i(C)},g=function(C){igt(r,f,C,f)},w=function(){try{e.resolve(Nx(Afe(t.next,r))).then(function(C){try{if(Nx(C).done)t.done=!0,o(Mfe(void 0,!0));else{var q=C.value;try{var L=n(q,t.counter++),B=function($){try{t.inner=ngt($),E()}catch(ee){g(ee)}};egt(L)?e.resolve(L).then(B,g):B(L)}catch($){g($)}}}catch($){f($)}},f)}catch(C){f(C)}},E=function(){var C=t.inner;if(C)try{e.resolve(Nx(Afe(C.next,C.iterator))).then(function(q){try{Nx(q).done?(t.inner=null,w()):o(Mfe(q.value,!1))}catch(L){g(L)}},g)}catch(q){g(q)}else w()};E()})});Jvt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(t){return Nx(this),Qvt(t),new ogt(tgt(this),{mapper:t,inner:null})}})});var Rfe=P(()=>{"use strict";h();var agt=te(),sgt=$p().forEach;agt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(t){return sgt(this,t)}})});var gj=P((ccr,Ofe)=>{"use strict";h();var lgt=ot(),ugt=Gp();Ofe.exports=ugt(function(){return lgt(this.next,this.iterator)},!0)});var Lfe=P(()=>{"use strict";h();var cgt=te(),hgt=Jt(),fgt=Ji(),pgt=vj(),dgt=zv(),mgt=gj();cgt({target:"AsyncIterator",stat:!0,forced:!0},{from:function(t){var r=pgt(typeof t=="string"?hgt(t):t);return fgt(dgt,r.iterator)?r.iterator:new mgt(r)}})});var Dfe=P(()=>{"use strict";h();var vgt=te(),ggt=pj();vgt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:ggt})});var kfe=P(()=>{"use strict";h();var ygt=te(),_gt=fj();ygt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:_gt})});var Nfe=P(()=>{"use strict";h();var xgt=te(),bgt=ot(),wgt=Pt(),yj=st(),Egt=wt(),Sgt=Ct(),Tgt=fn(),Igt=jv(),_j=Sgt("Promise"),Cgt=TypeError;xgt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(t){yj(this),wgt(t);var r=Tgt(this),n=r.iterator,o=r.next,i=arguments.length<2,f=i?void 0:arguments[1],g=0;return new _j(function(w,E){var C=function(L){Igt(n,E,L,E)},q=function(){try{_j.resolve(yj(bgt(o,n))).then(function(L){try{if(yj(L).done)i?E(new Cgt("Reduce of empty iterator with no initial value")):w(f);else{var B=L.value;if(i)i=!1,f=B,q();else try{var $=t(f,B,g),ee=function(G){f=G,q()};Egt($)?_j.resolve($).then(ee,C):ee($)}catch(G){C(G)}}g++}catch(G){E(G)}},E)}catch(L){E(L)}};q()})}})});var Ffe=P(()=>{"use strict";h();var Pgt=te(),Agt=$p().some;Pgt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(t){return Agt(this,t)}})});var Bfe=P(()=>{"use strict";h();var Mgt=te(),zfe=ot(),jfe=st(),qgt=fn(),Rgt=dv(),Ogt=mv(),Lgt=Gp(),xj=wi(),Dgt=Lgt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var o=xj(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(zfe(n,r,void 0)).then(function(){return o}):o}return e.resolve(zfe(t.next,r)).then(function(i){return jfe(i).done?(t.done=!0,xj(void 0,!0)):xj(i.value,!1)}).then(null,function(i){throw t.done=!0,i})});Mgt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function(t){jfe(this);var r=Ogt(Rgt(+t));return new Dgt(qgt(this),{remaining:r})}})});var Ufe=P(()=>{"use strict";h();var kgt=te(),Ngt=$p().toArray;kgt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function(){return Ngt(this,void 0,[])}})});var AI=P((Ocr,Hfe)=>{"use strict";h();var $fe=yr(),Fgt=Nh(),bj=wi(),zgt=sa(),jgt=wt(),Bgt=tn(),Gfe=vt(),Fx="Incorrect Iterator.range arguments",Ej="NumericRangeIterator",Ugt=$fe.set,Zfe=$fe.getterFor(Ej),Vfe=RangeError,wj=TypeError,Wfe=Fgt(function(t,r,n,o,i,f){if(typeof t!=o||r!==1/0&&r!==-1/0&&typeof r!=o)throw new wj(Fx);if(t===1/0||t===-1/0)throw new Vfe(Fx);var g=r>t,w=!1,E;if(n===void 0)E=void 0;else if(jgt(n))E=n.step,w=!!n.inclusive;else if(typeof n==o)E=n;else throw new wj(Fx);if(zgt(E)&&(E=g?f:-f),typeof E!=o)throw new wj(Fx);if(E===1/0||E===-1/0||E===i&&t!==r)throw new Vfe(Fx);var C=t!==t||r!==r||E!==E||r>t!=E>i;Ugt(this,{type:Ej,start:t,end:r,step:E,inclusive:w,hitsEnd:C,currentCount:i,zero:i}),Gfe||(this.start=t,this.end=r,this.step=E,this.inclusive=w)},Ej,function(){var t=Zfe(this);if(t.hitsEnd)return bj(void 0,!0);var r=t.start,n=t.end,o=t.step,i=r+o*t.currentCount++;i===n&&(t.hitsEnd=!0);var f=t.inclusive,g;return n>r?g=f?i>n:i>=n:g=f?n>i:n>=i,g?(t.hitsEnd=!0,bj(void 0,!0)):bj(i,!1)}),PI=function(e){Bgt(Wfe.prototype,e,{get:function(){return Zfe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};Gfe&&(PI("start"),PI("end"),PI("inclusive"),PI("step"));Hfe.exports=Wfe});var Kfe=P(()=>{"use strict";h();var Vgt=te(),$gt=AI();typeof BigInt=="function"&&Vgt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new $gt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var Sj=P((Fcr,Qfe)=>{"use strict";h();mT();dI();var Jfe=Ct(),Ggt=Un(),Yfe=wt(),Zgt=Object,Wgt=TypeError,Hgt=Jfe("Map"),Kgt=Jfe("WeakMap"),MI=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=Ggt(null)};MI.prototype.get=function(e,t){return this[e]||(this[e]=t())};MI.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new Kgt):this.primitives||(this.primitives=new Hgt),o=n.get(t);return o||n.set(t,o=new MI),o};var Xfe=new MI;Qfe.exports=function(){var e=Xfe,t=arguments.length,r,n;for(r=0;r<t;r++)Yfe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===Zgt&&e===Xfe)throw new Wgt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)Yfe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var tpe=P(()=>{"use strict";h();var Ygt=te(),Xgt=Qi(),Jgt=Sj(),Qgt=Ct(),epe=Un(),eyt=Object,tyt=function(){var e=Qgt("Object","freeze");return e?e(epe(null)):epe(null)};Ygt({global:!0,forced:!0},{compositeKey:function(){return Xgt(Jgt,eyt,arguments).get("object",tyt)}})});var npe=P(()=>{"use strict";h();var ryt=te(),nyt=Sj(),rpe=Ct(),iyt=Qi();ryt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?rpe("Symbol").for(arguments[0]):iyt(nyt,null,arguments).get("symbol",rpe("Symbol"))}})});var ipe=P(()=>{"use strict";h();bD()});var ope=P(()=>{"use strict";h();var oyt=te(),ayt=Be(),syt=ayt(DataView.prototype.getUint8);oyt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return syt(this,t)}})});var ape=P(()=>{"use strict";h();TD()});var spe=P(()=>{"use strict";h();var lyt=te(),uyt=Be(),cyt=wD(),hyt=sv(),fyt=dz(),pyt=uyt(DataView.prototype.setUint8);lyt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){cyt(this);var n=hyt(t);return pyt(this,n,fyt(r))}})});var fpe=P(()=>{"use strict";h();var dyt=te(),RI=vt(),myt=Ct(),lpe=Pt(),vyt=wo(),upe=Ir(),gyt=Es(),yyt=tn(),cpe=St(),hpe=yr(),Tj=oj(),_yt=myt("SuppressedError"),xyt=ReferenceError,byt=cpe("dispose"),wyt=cpe("toStringTag"),LI="DisposableStack",Eyt=hpe.set,OI=hpe.getterFor(LI),Ij="sync-dispose",zx="disposed",Syt="pending",qI=function(e){var t=OI(e);if(t.state===zx)throw new xyt(LI+" already disposed");return t},Cj=function(){Eyt(vyt(this,Uv),{type:LI,state:Syt,stack:[]}),RI||(this.disposed=!1)},Uv=Cj.prototype;gyt(Uv,{dispose:function(){var t=OI(this);if(t.state!==zx){t.state=zx,RI||(this.disposed=!0);for(var r=t.stack,n=r.length,o=!1,i;n;){var f=r[--n];r[n]=null;try{f()}catch(g){o?i=new _yt(g,i):(o=!0,i=g)}}if(t.stack=null,o)throw i}},use:function(t){return Tj(qI(this),t,Ij),t},adopt:function(t,r){var n=qI(this);return lpe(r),Tj(n,void 0,Ij,function(){r(t)}),t},defer:function(t){var r=qI(this);lpe(t),Tj(r,void 0,Ij,t)},move:function(){var t=qI(this),r=new Cj;return OI(r).stack=t.stack,t.stack=[],t.state=zx,RI||(this.disposed=!0),r}});RI&&yyt(Uv,"disposed",{configurable:!0,get:function(){return OI(this).state===zx}});upe(Uv,byt,Uv.dispose,{name:"dispose"});upe(Uv,wyt,LI,{nonWritable:!0});dyt({global:!0,constructor:!0},{DisposableStack:Cj})});var vpe=P(()=>{"use strict";h();var Tyt=te(),dpe=Ct(),Iyt=wt(),Cyt=Bo(),Pyt=We(),mpe="Error",Aj="DOMException",Ayt=Object.setPrototypeOf||{}.__proto__,ppe=dpe(Aj),Pj=Error,DI=Pj.isError,Myt=!DI||!Ayt||Pyt(function(){return ppe&&!DI(new ppe(Aj))||!DI(new Pj(mpe,{cause:function(){}}))||DI(dpe("Object","create")(Pj.prototype))});Tyt({target:"Error",stat:!0,sham:!0,forced:Myt},{isError:function(t){if(!Iyt(t))return!1;var r=Cyt(t);return r===mpe||r===Aj}})});var Mj=P((chr,gpe)=>{"use strict";h();var qyt=Be(),Ryt=Pt();gpe.exports=function(){return qyt(Ryt(this))}});var ype=P(()=>{"use strict";h();var Oyt=te(),Lyt=Mj();Oyt({target:"Function",proto:!0,forced:!0},{demethodize:Lyt})});var xpe=P(()=>{"use strict";h();var Dyt=te(),kyt=Be(),Nyt=jt(),Fyt=b0(),zyt=Vt(),jyt=vt(),Byt=Object.getOwnPropertyDescriptor,_pe=/^\s*class\b/,Uyt=kyt(_pe.exec),Vyt=function(e){try{if(!jyt||!Uyt(_pe,Fyt(e)))return!1}catch(r){}var t=Byt(e,"prototype");return!!t&&zyt(t,"writable")&&!t.writable};Dyt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return Nyt(t)&&!Vyt(t)}})});var bpe=P(()=>{"use strict";h();var $yt=te(),Gyt=nl();$yt({target:"Function",stat:!0,forced:!0},{isConstructor:Gyt})});var Spe=P(()=>{"use strict";h();var Zyt=St(),Wyt=Zr().f,wpe=Zyt("metadata"),Epe=Function.prototype;Epe[wpe]===void 0&&Wyt(Epe,wpe,{value:null})});var Tpe=P(()=>{"use strict";h();var Hyt=te(),Kyt=Mj();Hyt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:Kyt})});var Ipe=P(()=>{"use strict";h();XD()});var Cpe=P(()=>{"use strict";h();rk()});var qj=P((Ohr,Ppe)=>{"use strict";h();cT();var Yyt=ot(),Xyt=kh().IteratorPrototype.map,Jyt=function(e,t){return[t,e]};Ppe.exports=function(){return Yyt(Xyt,this,Jyt)}});var Ape=P(()=>{"use strict";h();var Qyt=te(),e_t=qj();Qyt({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:e_t})});var Rpe=P(()=>{"use strict";h();var t_t=te(),Mpe=ot(),r_t=Pt(),qpe=st(),n_t=Bl(),i_t=Gh(),o_t=wi(),a_t=Array,s_t=i_t(function(){for(;;){var e=this.iterator;if(!e){var t=this.nextIterableIndex++,r=this.iterables;if(t>=r.length)return this.done=!0,o_t(void 0,!0);var n=r[t];this.iterables[t]=null,e=this.iterator=Mpe(n.method,n.iterable),this.next=e.next}var o=qpe(Mpe(this.next,e));if(o.done){this.iterator=null,this.next=null;continue}return o}},!1,!0);t_t({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var t=arguments.length,r=a_t(t),n=0;n<t;n++){var o=qpe(arguments[n]);r[n]={iterable:o,method:r_t(n_t(o))}}return new s_t({iterables:r,nextIterableIndex:0,iterator:null,next:null})}})});var Dpe=P(()=>{"use strict";h();var l_t=ot(),u_t=Ir(),c_t=Bn(),h_t=Vt(),f_t=St(),Ope=kh().IteratorPrototype,Lpe=f_t("dispose");h_t(Ope,Lpe)||u_t(Ope,Lpe,function(){var e=c_t(this,"return");e&&l_t(e,this)})});var kpe=P(()=>{"use strict";h();sk()});var Npe=P(()=>{"use strict";h();uk()});var Fpe=P(()=>{"use strict";h();hk()});var zpe=P(()=>{"use strict";h();pk()});var jpe=P(()=>{"use strict";h();_k()});var Bpe=P(()=>{"use strict";h();bk()});var Upe=P(()=>{"use strict";h();wk()});var Vpe=P(()=>{"use strict";h();var p_t=te(),d_t=qj();p_t({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:d_t})});var $pe=P(()=>{"use strict";h();cT()});var Zpe=P(()=>{"use strict";h();var m_t=te(),Gpe=AI(),v_t=TypeError;m_t({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new Gpe(t,r,n,"number",0,1);if(typeof t=="bigint")return new Gpe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new v_t("Incorrect Iterator.range arguments")}})});var Wpe=P(()=>{"use strict";h();Tk()});var Hpe=P(()=>{"use strict";h();Ck()});var Kpe=P(()=>{"use strict";h();Ak()});var Ype=P(()=>{"use strict";h();Mk()});var Jpe=P(()=>{"use strict";h();var g_t=te(),y_t=st(),__t=Lx(),x_t=gj(),Xpe=fn();g_t({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new x_t(Xpe(new __t(Xpe(y_t(this)))))}})});var Rj=P((Dfr,Qpe)=>{"use strict";h();var b_t=We();Qpe.exports=!b_t(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var Oj=P((Nfr,ede)=>{"use strict";h();var w_t=wt(),E_t=yr().get;ede.exports=function(t){if(!w_t(t))return!1;var r=E_t(t);return!!r&&r.type==="RawJSON"}});var tde=P(()=>{"use strict";h();var S_t=te(),T_t=Rj(),I_t=Oj();S_t({target:"JSON",stat:!0,forced:!T_t},{isRawJSON:I_t})});var Dj=P((Ufr,ode)=>{"use strict";h();var Lj=Be(),C_t=Vt(),kI=SyntaxError,P_t=parseInt,A_t=String.fromCharCode,M_t=Lj("".charAt),rde=Lj("".slice),nde=Lj(/./.exec),ide={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},q_t=/^[\da-f]{4}$/i,R_t=/^[\u0000-\u001F]$/;ode.exports=function(e,t){for(var r=!0,n="";t<e.length;){var o=M_t(e,t);if(o==="\\"){var i=rde(e,t,t+2);if(C_t(ide,i))n+=ide[i],t+=2;else if(i==="\\u"){t+=2;var f=rde(e,t,t+4);if(!nde(q_t,f))throw new kI("Bad Unicode escape at: "+t);n+=A_t(P_t(f,16)),t+=4}else throw new kI("Unknown escape sequence: \""+i+"\"")}else if(o==="\""){r=!1,t++;break}else{if(nde(R_t,o))throw new kI("Bad control character in string literal at: "+t);n+=o,t++}}if(r)throw new kI("Unterminated string at: "+t);return{value:n,end:t}}});var pde=P(()=>{"use strict";h();var O_t=te(),L_t=vt(),Vj=it(),D_t=Ct(),NI=Be(),k_t=ot(),hde=jt(),N_t=wt(),F_t=rl(),z_t=Vt(),j_t=Rt(),ade=sr(),jj=bs(),fde=We(),B_t=Dj(),U_t=Ih(),sde=Vj.JSON,V_t=Vj.Number,Vv=Vj.SyntaxError,$j=sde&&sde.parse,$_t=D_t("Object","keys"),G_t=Object.getOwnPropertyDescriptor,to=NI("".charAt),kj=NI("".slice),Nj=NI(/./.exec),lde=NI([].push),Fj=/^\d$/,Z_t=/^[1-9]$/,W_t=/^[\d-]$/,jx=/^[\t\n\r ]$/,zj=0,ude=1,H_t=function(e,t){e=j_t(e);var r=new Uj(e,0,""),n=r.parse(),o=n.value,i=r.skip(jx,n.end);if(i<e.length)throw new Vv("Unexpected extra character: \""+to(e,i)+"\" after the parsed data at: "+i);return hde(t)?Bj({"":o},"",t,n):o},Bj=function(e,t,r,n){var o=e[t],i=n&&o===n.value,f=i&&typeof n.source=="string"?{source:n.source}:{},g,w,E,C,q;if(N_t(o)){var L=F_t(o),B=i?n.nodes:L?[]:{};if(L)for(g=B.length,E=ade(o),C=0;C<E;C++)cde(o,C,Bj(o,""+C,r,C<g?B[C]:void 0));else for(w=$_t(o),E=ade(w),C=0;C<E;C++)q=w[C],cde(o,q,Bj(o,q,r,z_t(B,q)?B[q]:void 0))}return k_t(r,e,t,o,f)},cde=function(e,t,r){if(L_t){var n=G_t(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:jj(e,t,r)},K_t=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},Uj=function(e,t){this.source=e,this.index=t};Uj.prototype={fork:function(e){return new Uj(this.source,e)},parse:function(){var e=this.source,t=this.skip(jx,this.index),r=this.fork(t),n=to(e,t);if(Nj(W_t,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new Vv("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,o){return new K_t(t,n,e?null:kj(this.source,r,n),o)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},o={};t<e.length;){if(t=this.until(["\"","}"],t),to(e,t)==="}"&&!r){t++;break}var i=this.fork(t).string(),f=i.value;t=i.end,t=this.until([":"],t)+1,t=this.skip(jx,t),i=this.fork(t).parse(),jj(o,f,i),jj(n,f,i.value),t=this.until([",","}"],i.end);var g=to(e,t);if(g===",")r=!0,t++;else if(g==="}"){t++;break}}return this.node(ude,n,this.index,t,o)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],o=[];t<e.length;){if(t=this.skip(jx,t),to(e,t)==="]"&&!r){t++;break}var i=this.fork(t).parse();if(lde(o,i),lde(n,i.value),t=this.until([",","]"],i.end),to(e,t)===",")r=!0,t++;else if(to(e,t)==="]"){t++;break}}return this.node(ude,n,this.index,t,o)},string:function(){var e=this.index,t=B_t(this.source,this.index+1);return this.node(zj,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(to(e,r)==="-"&&r++,to(e,r)==="0")r++;else if(Nj(Z_t,to(e,r)))r=this.skip(Fj,r+1);else throw new Vv("Failed to parse number at: "+r);if(to(e,r)==="."&&(r=this.skip(Fj,r+1)),to(e,r)==="e"||to(e,r)==="E"){r++,(to(e,r)==="+"||to(e,r)==="-")&&r++;var n=r;if(r=this.skip(Fj,r),n===r)throw new Vv("Failed to parse number's exponent value at: "+r)}return this.node(zj,V_t(kj(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(kj(this.source,r,n)!==t)throw new Vv("Failed to parse value at: "+r);return this.node(zj,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&Nj(e,to(r,t));t++);return t},until:function(e,t){t=this.skip(jx,t);for(var r=to(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new Vv("Unexpected character: \""+r+"\" at: "+t)}};var Y_t=fde(function(){var e="9007199254740993",t;return $j(e,function(r,n,o){t=o.source}),t!==e}),X_t=U_t&&!fde(function(){return 1/$j("-0 \t")!==-1/0});O_t({target:"JSON",stat:!0,forced:Y_t},{parse:function(t,r){return X_t&&!hde(r)?$j(t):H_t(t,r)}})});var bde=P(()=>{"use strict";h();var _de=te(),J_t=ic(),xde=Rj(),FI=Ct(),Q_t=ot(),Hj=Be(),e0t=jt(),t0t=Oj(),r0t=Rt(),n0t=bs(),i0t=Dj(),o0t=iL(),a0t=Ph(),s0t=yr().set,l0t=String,dde=SyntaxError,u0t=FI("JSON","parse"),mde=FI("JSON","stringify"),c0t=FI("Object","create"),h0t=FI("Object","freeze"),Zj=Hj("".charAt),Gj=Hj("".slice),f0t=Hj([].push),Wj=a0t(),vde=Wj.length,gde="Unacceptable as raw JSON",yde=function(e){return e===" "||e==="\t"||e===`
`||e==="\r"};_de({target:"JSON",stat:!0,forced:!xde},{rawJSON:function(t){var r=r0t(t);if(r===""||yde(Zj(r,0))||yde(Zj(r,r.length-1)))throw new dde(gde);var n=u0t(r);if(typeof n=="object"&&n!==null)throw new dde(gde);var o=c0t(null);return s0t(o,{type:"RawJSON"}),n0t(o,"rawJSON",r),J_t?h0t(o):o}});mde&&_de({target:"JSON",stat:!0,arity:3,forced:!xde},{stringify:function(t,r,n){var o=o0t(r),i=[],f=mde(t,function(B,$){var ee=e0t(o)?Q_t(o,this,l0t(B),$):$;return t0t(ee)?Wj+(f0t(i,ee.rawJSON)-1):ee},n);if(typeof f!="string")return f;for(var g="",w=f.length,E=0;E<w;E++){var C=Zj(f,E);if(C==="\""){var q=i0t(f,++E).end-1,L=Gj(f,E,q);g+=Gj(L,0,vde)===Wj?i[Gj(L,vde)]:"\""+L+"\"",E=q}else g+=C}return g}})});var ro=P((Yfr,wde)=>{"use strict";h();var p0t=Ei().has;wde.exports=function(e){return p0t(e),e}});var Ede=P(()=>{"use strict";h();var d0t=te(),m0t=ro(),v0t=Ei().remove;d0t({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=m0t(this),r=!0,n,o=0,i=arguments.length;o<i;o++)n=v0t(t,arguments[o]),r=r&&n;return!!r}})});var Tde=P(()=>{"use strict";h();var g0t=te(),y0t=ro(),Kj=Ei(),_0t=Kj.get,x0t=Kj.has,Sde=Kj.set;g0t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=y0t(this),o,i;return x0t(n,t)?(o=_0t(n,t),"update"in r&&(o=r.update(o,t,n),Sde(n,t,o)),o):(i=r.insert(t,n),Sde(n,t,i),i)}})});var Ide=P(()=>{"use strict";h();var b0t=te(),w0t=zr(),E0t=ro(),S0t=Ss();b0t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=E0t(this),n=w0t(t,arguments.length>1?arguments[1]:void 0);return S0t(r,function(o,i){if(!n(o,i,r))return!1},!0)!==!1}})});var Pde=P(()=>{"use strict";h();var T0t=te(),I0t=zr(),C0t=ro(),Cde=Ei(),P0t=Ss(),A0t=Cde.Map,M0t=Cde.set;T0t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=C0t(this),n=I0t(t,arguments.length>1?arguments[1]:void 0),o=new A0t;return P0t(r,function(i,f){n(i,f,r)&&M0t(o,f,i)}),o}})});var Ade=P(()=>{"use strict";h();var q0t=te(),R0t=zr(),O0t=ro(),L0t=Ss();q0t({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=O0t(this),n=R0t(t,arguments.length>1?arguments[1]:void 0),o=L0t(r,function(i,f){if(n(i,f,r))return{value:i}},!0);return o&&o.value}})});var Mde=P(()=>{"use strict";h();var D0t=te(),k0t=zr(),N0t=ro(),F0t=Ss();D0t({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=N0t(this),n=k0t(t,arguments.length>1?arguments[1]:void 0),o=F0t(r,function(i,f){if(n(i,f,r))return{key:f}},!0);return o&&o.key}})});var Bx=P((vpr,qde)=>{"use strict";h();var z0t=zr(),j0t=st(),B0t=Jt(),U0t=bn();qde.exports=function(e,t,r){return function(o){var i=B0t(o),f=arguments.length,g=f>1?arguments[1]:void 0,w=g!==void 0,E=w?z0t(g,f>2?arguments[2]:void 0):void 0,C=new e,q=0;return U0t(i,function(L){var B=w?E(L,q++):L;r?t(C,j0t(B)[0],B[1]):t(C,B)}),C}}});var Ode=P(()=>{"use strict";h();var V0t=te(),Rde=Ei(),$0t=Bx();V0t({target:"Map",stat:!0,forced:!0},{from:$0t(Rde.Map,Rde.set,!0)})});var Lde=P(()=>{"use strict";h();var G0t=te(),Z0t=ro(),Yj=Ei(),W0t=Yj.get,H0t=Yj.has,K0t=Yj.set;G0t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return H0t(Z0t(this),t)?W0t(this,t):(K0t(this,t,r),r)}})});var Dde=P(()=>{"use strict";h();var Y0t=te(),X0t=Pt(),J0t=ro(),Xj=Ei(),Q0t=Xj.get,ext=Xj.has,txt=Xj.set;Y0t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(J0t(this),X0t(r),ext(this,t))return Q0t(this,t);t===0&&1/t===-1/0&&(t=0);var n=r(t);return txt(this,t,n),n}})});var kde=P(()=>{"use strict";h();Fk()});var Fde=P((Mpr,Nde)=>{"use strict";h();Nde.exports=function(e,t){return e===t||e!==e&&t!==t}});var zde=P(()=>{"use strict";h();var rxt=te(),nxt=Fde(),ixt=ro(),oxt=Ss();rxt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return oxt(ixt(this),function(r){if(nxt(r,t))return!0},!0)===!0}})});var Bde=P(()=>{"use strict";h();var axt=te(),sxt=ot(),lxt=bn(),uxt=jt(),jde=Pt(),cxt=Ei().Map;axt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=uxt(this)?this:cxt,o=new n;jde(r);var i=jde(o.set);return lxt(t,function(f){sxt(i,o,r(f),f)}),o}})});var Ude=P(()=>{"use strict";h();var hxt=te(),fxt=ro(),pxt=Ss();hxt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=pxt(fxt(this),function(n,o){if(n===t)return{key:o}},!0);return r&&r.key}})});var $de=P(()=>{"use strict";h();var dxt=te(),mxt=zr(),vxt=ro(),Vde=Ei(),gxt=Ss(),yxt=Vde.Map,_xt=Vde.set;dxt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=vxt(this),n=mxt(t,arguments.length>1?arguments[1]:void 0),o=new yxt;return gxt(r,function(i,f){_xt(o,n(i,f,r),i)}),o}})});var Zde=P(()=>{"use strict";h();var xxt=te(),bxt=zr(),wxt=ro(),Gde=Ei(),Ext=Ss(),Sxt=Gde.Map,Txt=Gde.set;xxt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=wxt(this),n=bxt(t,arguments.length>1?arguments[1]:void 0),o=new Sxt;return Ext(r,function(i,f){Txt(o,f,n(i,f,r))}),o}})});var Wde=P(()=>{"use strict";h();var Ixt=te(),Cxt=ro(),Pxt=bn(),Axt=Ei().set;Ixt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=Cxt(this),n=arguments.length,o=0;o<n;)Pxt(arguments[o++],function(i,f){Axt(r,i,f)},{AS_ENTRIES:!0});return r}})});var Ux=P((Ypr,Hde)=>{"use strict";h();var Mxt=st();Hde.exports=function(e,t,r){return function(){for(var o=new e,i=arguments.length,f=0;f<i;f++){var g=arguments[f];r?t(o,Mxt(g)[0],g[1]):t(o,g)}return o}}});var Yde=P(()=>{"use strict";h();var qxt=te(),Kde=Ei(),Rxt=Ux();qxt({target:"Map",stat:!0,forced:!0},{of:Rxt(Kde.Map,Kde.set,!0)})});var Xde=P(()=>{"use strict";h();var Oxt=te(),Lxt=Pt(),Dxt=ro(),kxt=Ss(),Nxt=TypeError;Oxt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=Dxt(this),n=arguments.length<2,o=n?void 0:arguments[1];if(Lxt(t),kxt(r,function(i,f){n?(n=!1,o=i):o=t(o,i,f,r)}),n)throw new Nxt("Reduce of empty map with no initial value");return o}})});var Jde=P(()=>{"use strict";h();var Fxt=te(),zxt=zr(),jxt=ro(),Bxt=Ss();Fxt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=jxt(this),n=zxt(t,arguments.length>1?arguments[1]:void 0);return Bxt(r,function(o,i){if(n(o,i,r))return!0},!0)===!0}})});var eme=P(()=>{"use strict";h();var Uxt=te(),Qde=Pt(),Vxt=ro(),Jj=Ei(),$xt=TypeError,Gxt=Jj.get,Zxt=Jj.has,Wxt=Jj.set;Uxt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=Vxt(this),o=arguments.length;Qde(r);var i=Zxt(n,t);if(!i&&o<3)throw new $xt("Updating absent value");var f=i?Gxt(n,t):Qde(o>2?arguments[2]:void 0)(t,n);return Wxt(n,t,r(f,t,n)),n}})});var BI=P((cdr,tme)=>{"use strict";h();var zI=ot(),Qj=Pt(),jI=jt(),Hxt=st(),Kxt=TypeError;tme.exports=function(t,r){var n=Hxt(this),o=Qj(n.get),i=Qj(n.has),f=Qj(n.set),g=arguments.length>2?arguments[2]:void 0,w;if(!jI(r)&&!jI(g))throw new Kxt("At least one callback required");return zI(i,n,t)?(w=zI(o,n,t),jI(r)&&(w=r(w),zI(f,n,t,w))):jI(g)&&(w=g(),zI(f,n,t,w)),w}});var rme=P(()=>{"use strict";h();var Yxt=te(),Xxt=BI();Yxt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:Xxt})});var nme=P(()=>{"use strict";h();var Jxt=te(),Qxt=BI();Jxt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:Qxt})});var ome=P((ydr,ime)=>{"use strict";h();var ebt=TypeError;ime.exports=function(e){if(typeof e=="number")return e;throw new ebt("Argument is not a number")}});var lme=P(()=>{"use strict";h();var tbt=te(),eB=ome(),ame=dv(),sme=ET(),rbt=RangeError,nbt=Math.min,ibt=Math.max;tbt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){if(eB(t),ame(eB(r)),ame(eB(n)),sme(r,0)&&sme(n,-0)||r>n)throw new rbt("`min` should be smaller than `max`");return nbt(n,ibt(r,t))}})});var ume=P(()=>{"use strict";h();var obt=te();obt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var cme=P(()=>{"use strict";h();var abt=te(),sbt=180/Math.PI;abt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*sbt}})});var tB=P((Adr,hme)=>{"use strict";h();hme.exports=function(t,r,n,o,i){var f=+t,g=+r,w=+n,E=+o,C=+i;return f!==f||g!==g||w!==w||E!==E||C!==C?NaN:f===1/0||f===-1/0?f:(f-g)*(C-E)/(w-g)+E}});var fme=P(()=>{"use strict";h();var lbt=te(),ubt=tB(),cbt=KS();lbt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,o,i){return cbt(ubt(t,r,n,o,i))}})});var pme=P(()=>{"use strict";h();Uk()});var dme=P(()=>{"use strict";h();var hbt=te();hbt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,o){var i=t>>>0,f=r>>>0,g=n>>>0;return f+(o>>>0)+((i&g|(i|g)&~(i+g>>>0))>>>31)|0}})});var mme=P(()=>{"use strict";h();var fbt=te();fbt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,o=+t,i=+r,f=o&n,g=i&n,w=o>>16,E=i>>16,C=(w*g>>>0)+(f*g>>>16);return w*E+(C>>16)+((f*E>>>0)+(C&n)>>16)}})});var vme=P(()=>{"use strict";h();var pbt=te();pbt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,o){var i=t>>>0,f=r>>>0,g=n>>>0;return f-(o>>>0)-((~i&g|~(i^g)&i-g>>>0)>>>31)|0}})});var gme=P(()=>{"use strict";h();var dbt=te();dbt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var yme=P(()=>{"use strict";h();var mbt=te(),vbt=Math.PI/180;mbt({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*vbt}})});var _me=P(()=>{"use strict";h();var gbt=te(),ybt=tB();gbt({target:"Math",stat:!0,forced:!0},{scale:ybt})});var Eme=P(()=>{"use strict";h();var _bt=te(),xbt=st(),bbt=Yk(),wbt=Nh(),Ebt=wi(),xme=yr(),bme="Seeded Random",wme=bme+" Generator",Sbt="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",Tbt=xme.set,Ibt=xme.getterFor(wme),Cbt=TypeError,Pbt=wbt(function(t){Tbt(this,{type:wme,seed:t%2147483647})},bme,function(){var t=Ibt(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return Ebt((r&1073741823)/1073741823,!1)});_bt({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=xbt(t).seed;if(!bbt(r))throw new Cbt(Sbt);return new Pbt(r)}})});var Sme=P(()=>{"use strict";h();var Abt=te();Abt({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var Ame=P(()=>{"use strict";h();var Mbt=te(),qbt=Be(),Rbt=bn(),Obt=RangeError,Lbt=TypeError,Ts=1/0,Dbt=NaN,Zp=Math.abs,oB=Math.pow,Tme=qbt([].push),Vx=oB(2,1023),kbt=oB(2,53)-1,Ime=Number.MAX_VALUE,Cme=oB(2,971),$x={},rB={},nB={},iB={},Pme={},UI=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};Mbt({target:"Math",stat:!0},{sumPrecise:function(t){var r=[],n=0,o=iB;switch(Rbt(t,function(se){if(++n>=kbt)throw new Obt("Maximum allowed index exceeded");if(typeof se!="number")throw new Lbt("Value is not a number");o!==$x&&(se!==se?o=$x:se===Ts?o=o===rB?$x:nB:se===-Ts?o=o===nB?$x:rB:(se!==0||1/se===Ts)&&(o===iB||o===Pme)&&(o=Pme,Tme(r,se)))}),o){case $x:return Dbt;case rB:return-Ts;case nB:return Ts;case iB:return-0}for(var i=[],f=0,g,w,E,C,q,L,B=0;B<r.length;B++){g=r[B];for(var $=0,ee=0;ee<i.length;ee++){if(w=i[ee],Zp(g)<Zp(w)&&(L=g,g=w,w=L),E=UI(g,w),C=E.hi,q=E.lo,Zp(C)===Ts){var G=C===Ts?1:-1;f+=G,g=g-G*Vx-G*Vx,Zp(g)<Zp(w)&&(L=g,g=w,w=L),E=UI(g,w),C=E.hi,q=E.lo}q!==0&&(i[$++]=q),g=C}i.length=$,g!==0&&Tme(i,g)}var H=i.length-1;if(C=0,q=0,f!==0){var Q=H>=0?i[H]:0;if(H--,Zp(f)>1||f>0&&Q>0||f<0&&Q<0)return f>0?Ts:-Ts;if(E=UI(f*Vx,Q/2),C=E.hi,q=E.lo,q*=2,Zp(2*C)===Ts)return C>0?C===Vx&&q===-(Cme/2)&&H>=0&&i[H]<0?Ime:Ts:C===-Vx&&q===Cme/2&&H>=0&&i[H]>0?-Ime:-Ts;q!==0&&(i[++H]=q,q=0),C*=2}for(;H>=0&&(E=UI(C,i[H--]),C=E.hi,q=E.lo,q===0););return H>=0&&(q<0&&i[H]<0||q>0&&i[H]>0)&&(w=q*2,g=C+w,w===g-C&&(C=g)),C}})});var Mme=P(()=>{"use strict";h();var Nbt=te();Nbt({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,o=+t,i=+r,f=o&n,g=i&n,w=o>>>16,E=i>>>16,C=(w*g>>>0)+(f*g>>>16);return w*E+(C>>>16)+((f*E>>>0)+(C&n)>>>16)}})});var Ome=P(()=>{"use strict";h();var Fbt=te(),Zx=Be(),zbt=en(),Gx="Invalid number representation",jbt="Invalid radix",Bbt=RangeError,VI=SyntaxError,Ubt=TypeError,qme=parseInt,Vbt=Math.pow,Rme=/^[\d.a-z]+$/,$bt=Zx("".charAt),Gbt=Zx(Rme.exec),Zbt=Zx(1 .toString),Wbt=Zx("".slice),Hbt=Zx("".split);Fbt({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1;if(typeof t!="string")throw new Ubt(Gx);if(!t.length)throw new VI(Gx);if($bt(t,0)==="-"&&(n=-1,t=Wbt(t,1),!t.length))throw new VI(Gx);var o=r===void 0?10:zbt(r);if(o<2||o>36)throw new Bbt(jbt);if(!Gbt(Rme,t))throw new VI(Gx);var i=Hbt(t,"."),f=qme(i[0],o);if(i.length>1&&(f+=qme(i[1],o)/Vbt(o,i[1].length)),o===10&&Zbt(f,o)!==t)throw new VI(Gx);return n*f}})});var Lme=P(()=>{"use strict";h();var Kbt=te(),Ybt=AI();Kbt({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new Ybt(t,r,n,"number",0,1)}})});var Dme=P(()=>{"use strict";h();uN()});var GI=P((wmr,Fme)=>{"use strict";h();var kme=yr(),Xbt=Nh(),$I=wi(),Jbt=Vt(),Qbt=Tp(),e1t=Jt(),Nme="Object Iterator",t1t=kme.set,r1t=kme.getterFor(Nme);Fme.exports=Xbt(function(t,r){var n=e1t(t);t1t(this,{type:Nme,mode:r,object:n,keys:Qbt(n),index:0})},"Object",function(){for(var t=r1t(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,$I(void 0,!0);var n=r[t.index++],o=t.object;if(Jbt(o,n)){switch(t.mode){case"keys":return $I(n,!1);case"values":return $I(o[n],!1)}return $I([n,o[n]],!1)}}})});var zme=P(()=>{"use strict";h();var n1t=te(),i1t=GI();n1t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new i1t(t,"entries")}})});var jme=P(()=>{"use strict";h();var o1t=te(),a1t=GI();o1t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new a1t(t,"keys")}})});var Bme=P(()=>{"use strict";h();var s1t=te(),l1t=GI();s1t({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new l1t(t,"values")}})});var Ume=P(()=>{"use strict";h();lN()});var Jme=P(()=>{"use strict";h();var u1t=te(),ZI=ot(),Wx=vt(),c1t=zh(),Vme=Pt(),h1t=st(),f1t=wo(),$me=jt(),p1t=sa(),d1t=wt(),WI=Bn(),m1t=Ir(),aB=Es(),Gme=tn(),$v=qN(),v1t=St(),Zme=yr(),g1t=v1t("observable"),sB="Observable",Wme="Subscription",Hme="SubscriptionObserver",lB=Zme.getterFor,uB=Zme.set,y1t=lB(sB),Kme=lB(Wme),HI=lB(Hme),Yme=function(e){this.observer=h1t(e),this.cleanup=null,this.subscriptionObserver=null};Yme.prototype={type:Wme,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(t){$v(t)}}},close:function(){if(!Wx){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var cB=function(e,t){var r=uB(this,new Yme(e)),n;Wx||(this.closed=!1);try{(n=WI(e,"start"))&&ZI(n,e,this)}catch(g){$v(g)}if(!r.isClosed()){var o=r.subscriptionObserver=new hB(r);try{var i=t(o),f=i;p1t(i)||(r.cleanup=$me(i.unsubscribe)?function(){f.unsubscribe()}:Vme(i))}catch(g){o.error(g);return}r.isClosed()&&r.clean()}};cB.prototype=aB({},{unsubscribe:function(){var t=Kme(this);t.isClosed()||(t.close(),t.clean())}});Wx&&Gme(cB.prototype,"closed",{configurable:!0,get:function(){return Kme(this).isClosed()}});var hB=function(e){uB(this,{type:Hme,subscriptionState:e}),Wx||(this.closed=!1)};hB.prototype=aB({},{next:function(t){var r=HI(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var o=WI(n,"next");o&&ZI(o,n,t)}catch(i){$v(i)}}},error:function(t){var r=HI(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var o=WI(n,"error");o?ZI(o,n,t):$v(t)}catch(i){$v(i)}r.clean()}},complete:function(){var t=HI(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=WI(r,"complete");n&&ZI(n,r)}catch(o){$v(o)}t.clean()}}});Wx&&Gme(hB.prototype,"closed",{configurable:!0,get:function(){return HI(this).subscriptionState.isClosed()}});var Xme=function(t){f1t(this,fB),uB(this,{type:sB,subscriber:Vme(t)})},fB=Xme.prototype;aB(fB,{subscribe:function(t){var r=arguments.length;return new cB($me(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:d1t(t)?t:{},y1t(this).subscriber)}});m1t(fB,g1t,function(){return this});u1t({global:!0,constructor:!0,forced:!0},{Observable:Xme});c1t(sB)});var eve=P(()=>{"use strict";h();var _1t=te(),x1t=Ct(),b1t=ot(),Qme=st(),w1t=nl(),E1t=Lh(),S1t=Bn(),T1t=bn(),I1t=St(),C1t=I1t("observable");_1t({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=w1t(this)?this:x1t("Observable"),n=S1t(Qme(t),C1t);if(n){var o=Qme(b1t(n,t));return o.constructor===r?o:new r(function(f){return o.subscribe(f)})}var i=E1t(t);return new r(function(f){T1t(i,function(g,w){if(f.next(g),f.closed)return w()},{IS_ITERATOR:!0,INTERRUPTED:!0}),f.complete()})}})});var rve=P(()=>{"use strict";h();var P1t=te(),tve=Ct(),A1t=nl(),M1t=tve("Array");P1t({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=A1t(this)?this:tve("Observable"),r=arguments.length,n=M1t(r),o=0;o<r;)n[o]=arguments[o++];return new t(function(i){for(var f=0;f<r;f++)if(i.next(n[f]),i.closed)return;i.complete()})}})});var nve=P(()=>{"use strict";h();Jme();eve();rve()});var ive=P(()=>{"use strict";h();GN()});var ove=P(()=>{"use strict";h();ZN()});var ave=P(()=>{"use strict";h();YN()});var sve=P(()=>{"use strict";h();XN()});var Yl=P((avr,hve)=>{"use strict";h();mT();dI();var cve=Ct(),q1t=Be(),R1t=Ku(),lve=cve("Map"),O1t=cve("WeakMap"),L1t=q1t([].push),uve=R1t("metadata"),pB=uve.store||(uve.store=new O1t),Hx=function(e,t,r){var n=pB.get(e);if(!n){if(!r)return;pB.set(e,n=new lve)}var o=n.get(t);if(!o){if(!r)return;n.set(t,o=new lve)}return o},D1t=function(e,t,r){var n=Hx(t,r,!1);return n===void 0?!1:n.has(e)},k1t=function(e,t,r){var n=Hx(t,r,!1);return n===void 0?void 0:n.get(e)},N1t=function(e,t,r,n){Hx(r,n,!0).set(e,t)},F1t=function(e,t){var r=Hx(e,t,!1),n=[];return r&&r.forEach(function(o,i){L1t(n,i)}),n},z1t=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};hve.exports={store:pB,getMap:Hx,has:D1t,get:k1t,set:N1t,keys:F1t,toKey:z1t}});var pve=P(()=>{"use strict";h();var j1t=te(),fve=Yl(),B1t=st(),U1t=fve.toKey,V1t=fve.set;j1t({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var o=arguments.length<4?void 0:U1t(arguments[3]);V1t(t,r,B1t(n),o)}})});var mve=P(()=>{"use strict";h();var $1t=te(),dB=Yl(),G1t=st(),Z1t=dB.toKey,W1t=dB.getMap,dve=dB.store;$1t({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:Z1t(arguments[2]),o=W1t(G1t(r),n,!1);if(o===void 0||!o.delete(t))return!1;if(o.size)return!0;var i=dve.get(r);return i.delete(n),!!i.size||dve.delete(r)}})});var gve=P(()=>{"use strict";h();var H1t=te(),mB=Yl(),K1t=st(),Y1t=ui(),X1t=mB.has,J1t=mB.get,Q1t=mB.toKey,vve=function(e,t,r){var n=X1t(e,t,r);if(n)return J1t(e,t,r);var o=Y1t(t);return o!==null?vve(e,o,r):void 0};H1t({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:Q1t(arguments[2]);return vve(t,K1t(r),n)}})});var bve=P(()=>{"use strict";h();var ewt=te(),yve=Be(),_ve=Yl(),twt=st(),rwt=ui(),nwt=wI(),iwt=yve(nwt),owt=yve([].concat),awt=_ve.keys,swt=_ve.toKey,xve=function(e,t){var r=awt(e,t),n=rwt(e);if(n===null)return r;var o=xve(n,t);return o.length?r.length?iwt(owt(r,o)):o:r};ewt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:swt(arguments[1]);return xve(twt(t),r)}})});var Eve=P(()=>{"use strict";h();var lwt=te(),wve=Yl(),uwt=st(),cwt=wve.get,hwt=wve.toKey;lwt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:hwt(arguments[2]);return cwt(t,uwt(r),n)}})});var Tve=P(()=>{"use strict";h();var fwt=te(),Sve=Yl(),pwt=st(),dwt=Sve.keys,mwt=Sve.toKey;fwt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:mwt(arguments[1]);return dwt(pwt(t),r)}})});var Pve=P(()=>{"use strict";h();var vwt=te(),Ive=Yl(),gwt=st(),ywt=ui(),_wt=Ive.has,xwt=Ive.toKey,Cve=function(e,t,r){var n=_wt(e,t,r);if(n)return!0;var o=ywt(t);return o!==null?Cve(e,o,r):!1};vwt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:xwt(arguments[2]);return Cve(t,gwt(r),n)}})});var Mve=P(()=>{"use strict";h();var bwt=te(),Ave=Yl(),wwt=st(),Ewt=Ave.has,Swt=Ave.toKey;bwt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Swt(arguments[2]);return Ewt(t,wwt(r),n)}})});var Rve=P(()=>{"use strict";h();var Twt=te(),qve=Yl(),Iwt=st(),Cwt=qve.toKey,Pwt=qve.set;Twt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(o,i){Pwt(t,r,Iwt(o),Cwt(i))}}})});var Ove=P(()=>{"use strict";h();pF()});var Lve=P(()=>{"use strict";h();var Awt=te(),Mwt=eo(),qwt=ki().add;Awt({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=Mwt(this),r=0,n=arguments.length;r<n;r++)qwt(t,arguments[r]);return t}})});var Dve=P(()=>{"use strict";h();var Rwt=te(),Owt=eo(),Lwt=ki().remove;Rwt({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=Owt(this),r=!0,n,o=0,i=arguments.length;o<i;o++)n=Lwt(t,arguments[o]),r=r&&n;return!!r}})});var kve=P(()=>{"use strict";h();bF()});var Fve=P((Wvr,Nve)=>{"use strict";h();var Dwt=Bo(),kwt=Vt(),Nwt=sa(),Fwt=St(),zwt=qp(),jwt=Fwt("iterator"),Bwt=Object;Nve.exports=function(e){if(Nwt(e))return!1;var t=Bwt(e);return t[jwt]!==void 0||"@@iterator"in t||kwt(zwt,Dwt(t))}});var ef=P((Kvr,jve)=>{"use strict";h();var Uwt=Ct(),zve=jt(),Vwt=Fve(),$wt=wt(),Gwt=Uwt("Set"),Zwt=function(e){return $wt(e)&&typeof e.size=="number"&&zve(e.has)&&zve(e.keys)};jve.exports=function(e){return Zwt(e)?e:Vwt(e)?new Gwt(e):e}});var Bve=P(()=>{"use strict";h();var Wwt=te(),Hwt=ot(),Kwt=ef(),Ywt=xF();Wwt({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return Hwt(Ywt,this,Kwt(t))}})});var Uve=P(()=>{"use strict";h();var Xwt=te(),Jwt=zr(),Qwt=eo(),eEt=fa();Xwt({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=Qwt(this),n=Jwt(t,arguments.length>1?arguments[1]:void 0);return eEt(r,function(o){if(!n(o,o,r))return!1},!0)!==!1}})});var $ve=P(()=>{"use strict";h();var tEt=te(),rEt=zr(),nEt=eo(),Vve=ki(),iEt=fa(),oEt=Vve.Set,aEt=Vve.add;tEt({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=nEt(this),n=rEt(t,arguments.length>1?arguments[1]:void 0),o=new oEt;return iEt(r,function(i){n(i,i,r)&&aEt(o,i)}),o}})});var Gve=P(()=>{"use strict";h();var sEt=te(),lEt=zr(),uEt=eo(),cEt=fa();sEt({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=uEt(this),n=lEt(t,arguments.length>1?arguments[1]:void 0),o=cEt(r,function(i){if(n(i,i,r))return{value:i}},!0);return o&&o.value}})});var Wve=P(()=>{"use strict";h();var hEt=te(),Zve=ki(),fEt=Bx();hEt({target:"Set",stat:!0,forced:!0},{from:fEt(Zve.Set,Zve.add,!1)})});var Hve=P(()=>{"use strict";h();SF()});var Kve=P(()=>{"use strict";h();var pEt=te(),dEt=ot(),mEt=ef(),vEt=EF();pEt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return dEt(vEt,this,mEt(t))}})});var Yve=P(()=>{"use strict";h();IF()});var Xve=P(()=>{"use strict";h();var gEt=te(),yEt=ot(),_Et=ef(),xEt=TF();gEt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return yEt(xEt,this,_Et(t))}})});var Jve=P(()=>{"use strict";h();PF()});var Qve=P(()=>{"use strict";h();var bEt=te(),wEt=ot(),EEt=ef(),SEt=CF();bEt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return wEt(SEt,this,EEt(t))}})});var ege=P(()=>{"use strict";h();MF()});var tge=P(()=>{"use strict";h();var TEt=te(),IEt=ot(),CEt=ef(),PEt=AF();TEt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return IEt(PEt,this,CEt(t))}})});var nge=P(()=>{"use strict";h();var AEt=te(),rge=Be(),MEt=eo(),qEt=fa(),REt=Rt(),OEt=rge([].join),LEt=rge([].push);AEt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=MEt(this),n=t===void 0?",":REt(t),o=[];return qEt(r,function(i){LEt(o,i)}),OEt(o,n)}})});var oge=P(()=>{"use strict";h();var DEt=te(),kEt=zr(),NEt=eo(),ige=ki(),FEt=fa(),zEt=ige.Set,jEt=ige.add;DEt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=NEt(this),n=kEt(t,arguments.length>1?arguments[1]:void 0),o=new zEt;return FEt(r,function(i){jEt(o,n(i,i,r))}),o}})});var sge=P(()=>{"use strict";h();var BEt=te(),age=ki(),UEt=Ux();BEt({target:"Set",stat:!0,forced:!0},{of:UEt(age.Set,age.add,!1)})});var lge=P(()=>{"use strict";h();var VEt=te(),$Et=Pt(),GEt=eo(),ZEt=fa(),WEt=TypeError;VEt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=GEt(this),n=arguments.length<2,o=n?void 0:arguments[1];if($Et(t),ZEt(r,function(i){n?(n=!1,o=i):o=t(o,i,i,r)}),n)throw new WEt("Reduce of empty set with no initial value");return o}})});var uge=P(()=>{"use strict";h();var HEt=te(),KEt=zr(),YEt=eo(),XEt=fa();HEt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=YEt(this),n=KEt(t,arguments.length>1?arguments[1]:void 0);return XEt(r,function(o){if(n(o,o,r))return!0},!0)===!0}})});var cge=P(()=>{"use strict";h();OF()});var hge=P(()=>{"use strict";h();var JEt=te(),QEt=ot(),eSt=ef(),tSt=RF();JEt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return QEt(tSt,this,eSt(t))}})});var fge=P(()=>{"use strict";h();DF()});var pge=P(()=>{"use strict";h();var rSt=te(),nSt=ot(),iSt=ef(),oSt=LF();rSt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return nSt(oSt,this,iSt(t))}})});var dge=P(()=>{"use strict";h();var aSt=te(),sSt=Bp().charAt,lSt=Hr(),uSt=en(),cSt=Rt();aSt({target:"String",proto:!0,forced:!0},{at:function(t){var r=cSt(lSt(this)),n=r.length,o=uSt(t),i=o>=0?o:n+o;return i<0||i>=n?void 0:sSt(r,i)}})});var vB=P((fyr,yge)=>{"use strict";h();var gge=Be(),hSt=si(),mge=Rt(),fSt=sr(),pSt=TypeError,vge=gge([].push),dSt=gge([].join);yge.exports=function(t){var r=hSt(t),n=fSt(r);if(!n)return"";for(var o=arguments.length,i=[],f=0;;){var g=r[f++];if(g===void 0)throw new pSt("Incorrect template");if(vge(i,mge(g)),f===n)return dSt(i,"");f<o&&vge(i,mge(arguments[f]))}}});var _ge=P(()=>{"use strict";h();var mSt=te(),vSt=vB();mSt({target:"String",stat:!0,forced:!0},{cooked:vSt})});var Sge=P(()=>{"use strict";h();var gSt=te(),ySt=Nh(),xge=wi(),_St=Hr(),xSt=Rt(),bge=yr(),wge=Bp(),bSt=wge.codeAt,wSt=wge.charAt,Ege="String Iterator",ESt=bge.set,SSt=bge.getterFor(Ege),TSt=ySt(function(t){ESt(this,{type:Ege,string:t,index:0})},"String",function(){var t=SSt(this),r=t.string,n=t.index,o;return n>=r.length?xge(void 0,!0):(o=wSt(r,n),t.index+=o.length,xge({codePoint:bSt(o,0),position:n},!1))});gSt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new TSt(xSt(_St(this)))}})});var Xl=P((xyr,Tge)=>{"use strict";h();var KI=Be(),YI=WeakMap.prototype;Tge.exports={WeakMap,set:KI(YI.set),get:KI(YI.get),has:KI(YI.has),remove:KI(YI.delete)}});var Lge=P((wyr,Oge)=>{"use strict";h();var ISt=Ct(),XI=Be(),CSt=String.fromCharCode,PSt=ISt("String","fromCodePoint"),gB=XI("".charAt),qge=XI("".charCodeAt),Ige=XI("".indexOf),Cge=XI("".slice),_B=48,Rge=57,Pge=97,ASt=102,Age=65,MSt=70,Mge=function(e,t){var r=qge(e,t);return r>=_B&&r<=Rge},yB=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var o=qSt(qge(e,t));if(o===-1)return-1;n=n*16+o}return n},qSt=function(e){return e>=_B&&e<=Rge?e-_B:e>=Pge&&e<=ASt?e-Pge+10:e>=Age&&e<=MSt?e-Age+10:-1};Oge.exports=function(e){for(var t="",r=0,n=0,o;(n=Ige(e,"\\",n))>-1;){if(t+=Cge(e,r,n),++n===e.length)return;var i=gB(e,n++);switch(i){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&gB(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(Mge(e,n))return;t+="\0";break;case"x":if(o=yB(e,n,n+2),o===-1)return;n+=2,t+=CSt(o);break;case"u":if(n<e.length&&gB(e,n)==="{"){var f=Ige(e,"}",++n);if(f===-1)return;o=yB(e,n,f),n=f+1}else o=yB(e,n,n+4),n+=4;if(o===-1||o>1114111)return;t+=PSt(o);break;default:if(Mge(i,0))return;t+=i}r=n}return t+Cge(e,r)}});var $ge=P(()=>{"use strict";h();var RSt=ic(),OSt=te(),LSt=S0(),JI=Be(),zge=Qi(),jge=st(),DSt=Jt(),kSt=jt(),NSt=sr(),FSt=Zr().f,zSt=ua(),QI=Xl(),jSt=vB(),BSt=Lge(),Bge=Dp(),xB=new QI.WeakMap,USt=QI.get,VSt=QI.has,$St=QI.set,bB=Array,Kx=TypeError,Dge=Object.freeze||Object,GSt=Object.isFrozen,ZSt=Math.min,kge=JI("".charAt),Uge=JI("".slice),WSt=JI("".split),Nge=JI(/./.exec),HSt=/([\n\u2028\u2029]|\r\n?)/g,KSt=RegExp("^["+Bge+"]*"),YSt=RegExp("[^"+Bge+"]"),Fge="Invalid tag",XSt="Invalid opening line",JSt="Invalid closing line",QSt=function(e){var t=e.raw;if(RSt&&!GSt(t))throw new Kx("Raw template should be frozen");if(VSt(xB,t))return USt(xB,t);var r=eTt(t),n=rTt(r);return FSt(n,"raw",{value:Dge(r)}),Dge(n),$St(xB,t,n),n},eTt=function(e){var t=DSt(e),r=NSt(t),n=bB(r),o=bB(r),i=0,f,g,w,E;if(!r)throw new Kx(Fge);for(;i<r;i++){var C=t[i];if(typeof C=="string")n[i]=WSt(C,HSt);else throw new Kx(Fge)}for(i=0;i<r;i++){var q=i+1===r;if(f=n[i],i===0){if(f.length===1||f[0].length>0)throw new Kx(XSt);f[1]=""}if(q){if(f.length===1||Nge(YSt,f[f.length-1]))throw new Kx(JSt);f[f.length-2]="",f[f.length-1]=""}for(var L=2;L<f.length;L+=2){var B=f[L],$=L+1===f.length&&!q,ee=Nge(KSt,B)[0];if(!$&&ee.length===B.length){f[L]="";continue}g=tTt(ee,g)}}var G=g?g.length:0;for(i=0;i<r;i++){for(f=n[i],w=f[0],E=1;E<f.length;E+=2)w+=f[E]+Uge(f[E+1],G);o[i]=w}return o},tTt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=ZSt(e.length,t.length);r<n&&kge(e,r)===kge(t,r);r++);return Uge(e,0,r)},rTt=function(e){for(var t=0,r=e.length,n=bB(r);t<r;t++)n[t]=BSt(e[t]);return n},Vge=function(e){return LSt(function(t){var r=zSt(arguments);return r[0]=QSt(jge(t)),zge(e,this,r)},"")},nTt=Vge(jSt);OSt({target:"String",stat:!0,forced:!0},{dedent:function(t){return jge(t),kSt(t)?Vge(t):zge(nTt,this,arguments)}})});var Gge=P(()=>{"use strict";h();FF()});var Zge=P(()=>{"use strict";h();ZF()});var Wge=P(()=>{"use strict";h();rz()});var Hge=P(()=>{"use strict";h();uz()});var Kge=P(()=>{"use strict";h();var iTt=it(),oTt=xn(),aTt=Zr().f,sTt=Oi().f,wB=iTt.Symbol;oTt("asyncDispose");wB&&(Yx=sTt(wB,"asyncDispose"),Yx.enumerable&&Yx.configurable&&Yx.writable&&aTt(wB,"asyncDispose",{value:Yx.value,enumerable:!1,configurable:!1,writable:!1}));var Yx});var Yge=P(()=>{"use strict";h();var lTt=xn();lTt("customMatcher")});var Xge=P(()=>{"use strict";h();var uTt=it(),cTt=xn(),hTt=Zr().f,fTt=Oi().f,EB=uTt.Symbol;cTt("dispose");EB&&(Xx=fTt(EB,"dispose"),Xx.enumerable&&Xx.configurable&&Xx.writable&&hTt(EB,"dispose",{value:Xx.value,enumerable:!1,configurable:!1,writable:!1}));var Xx});var TB=P((Hyr,Jge)=>{"use strict";h();var pTt=Ct(),dTt=Be(),SB=pTt("Symbol"),mTt=SB.keyFor,vTt=dTt(SB.prototype.valueOf);Jge.exports=SB.isRegisteredSymbol||function(t){try{return mTt(vTt(t))!==void 0}catch(r){return!1}}});var Qge=P(()=>{"use strict";h();var gTt=te(),yTt=TB();gTt({target:"Symbol",stat:!0},{isRegisteredSymbol:yTt})});var eye=P(()=>{"use strict";h();var _Tt=te(),xTt=TB();_Tt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:xTt})});var PB=P((r_r,aye)=>{"use strict";h();var bTt=Ku(),iye=Ct(),wTt=Be(),ETt=Hu(),STt=St(),tC=iye("Symbol"),tye=tC.isWellKnownSymbol,oye=iye("Object","getOwnPropertyNames"),TTt=wTt(tC.prototype.valueOf),rye=bTt("wks");for(eC=0,IB=oye(tC),nye=IB.length;eC<nye;eC++)try{CB=IB[eC],ETt(tC[CB])&&STt(CB)}catch(e){}var CB,eC,IB,nye;aye.exports=function(t){if(tye&&tye(t))return!0;try{for(var r=TTt(t),n=0,o=oye(rye),i=o.length;n<i;n++)if(rye[o[n]]==r)return!0}catch(f){}return!1}});var sye=P(()=>{"use strict";h();var ITt=te(),CTt=PB();ITt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:CTt})});var lye=P(()=>{"use strict";h();var PTt=te(),ATt=PB();PTt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:ATt})});var uye=P(()=>{"use strict";h();var MTt=xn();MTt("matcher")});var cye=P(()=>{"use strict";h();var qTt=xn();qTt("metadata")});var hye=P(()=>{"use strict";h();var RTt=xn();RTt("metadataKey")});var fye=P(()=>{"use strict";h();var OTt=xn();OTt("observable")});var pye=P(()=>{"use strict";h();var LTt=xn();LTt("patternMatch")});var dye=P(()=>{"use strict";h();var DTt=xn();DTt("replaceAll")});var vye=P(()=>{"use strict";h();var kTt=Ct(),NTt=sx(),FTt=tj(),mye=Kt(),zTt=Qu(),jTt=mye.aTypedArrayConstructor,BTt=mye.exportTypedArrayStaticMethod;BTt("fromAsync",function(t){var r=this,n=arguments.length,o=n>1?arguments[1]:void 0,i=n>2?arguments[2]:void 0;return new(kTt("Promise"))(function(f){NTt(r),f(FTt(t,o,i))}).then(function(f){return zTt(jTt(r),f)})},!0)});var gye=P(()=>{"use strict";h();Sz()});var _ye=P(()=>{"use strict";h();var yye=Kt(),UTt=Vn().filterReject,VTt=tI(),$Tt=yye.aTypedArray,GTt=yye.exportTypedArrayMethod;GTt("filterOut",function(t){var r=UTt($Tt(this),t,arguments.length>1?arguments[1]:void 0);return VTt(this,r)},!0)});var bye=P(()=>{"use strict";h();var xye=Kt(),ZTt=Vn().filterReject,WTt=tI(),HTt=xye.aTypedArray,KTt=xye.exportTypedArrayMethod;KTt("filterReject",function(t){var r=ZTt(HTt(this),t,arguments.length>1?arguments[1]:void 0);return WTt(this,r)},!0)});var wye=P(()=>{"use strict";h();Tz()});var Eye=P(()=>{"use strict";h();Iz()});var Sye=P(()=>{"use strict";h();var AB=Kt(),YTt=xI(),XTt=AB.aTypedArray,JTt=AB.getTypedArrayConstructor,QTt=AB.exportTypedArrayMethod;QTt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return YTt(XTt(this),t,r,JTt)},!0)});var Tye=P(()=>{"use strict";h();jz()});var Iye=P(()=>{"use strict";h();Bz()});var Cye=P(()=>{"use strict";h();var MB=Kt(),eIt=sr(),tIt=YT(),rIt=tl(),nIt=Sx(),iIt=en(),oIt=MB.aTypedArray,aIt=MB.getTypedArrayConstructor,sIt=MB.exportTypedArrayMethod,lIt=Math.max,uIt=Math.min;sIt("toSpliced",function(t,r){var n=oIt(this),o=aIt(n),i=eIt(n),f=rIt(t,i),g=arguments.length,w=0,E,C,q,L,B,$,ee;if(g===0)E=C=0;else if(g===1)E=0,C=i-f;else if(C=uIt(lIt(iIt(r),0),i-f),E=g-2,E){L=new o(E),q=tIt(L);for(var G=2;G<g;G++)B=arguments[G],L[G-2]=q?nIt(B):+B}for($=i+E-C,ee=new o($);w<f;w++)ee[w]=n[w];for(;w<f+E;w++)ee[w]=L[w-f];for(;w<$;w++)ee[w]=n[w+C-E];return ee},!0)});var Pye=P(()=>{"use strict";h();var cIt=Be(),qB=Kt(),hIt=Qu(),fIt=wI(),pIt=qB.aTypedArray,dIt=qB.getTypedArrayConstructor,mIt=qB.exportTypedArrayMethod,vIt=cIt(fIt);mIt("uniqueBy",function(t){return pIt(this),hIt(dIt(this),vIt(this,t))},!0)});var Aye=P(()=>{"use strict";h();Vz()});var RB=P((c0r,Mye)=>{"use strict";h();var gIt=wt(),yIt=String,_It=TypeError;Mye.exports=function(e){if(e===void 0||gIt(e))return e;throw new _It(yIt(e)+" is not an object or undefined")}});var Jx=P((f0r,Dye)=>{"use strict";h();var Lye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",qye=Lye+"+/",Rye=Lye+"-_",Oye=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};Dye.exports={i2c:qye,c2i:Oye(qye),i2cUrl:Rye,c2iUrl:Oye(Rye)}});var OB=P((d0r,kye)=>{"use strict";h();var xIt=TypeError;kye.exports=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new xIt("Incorrect `alphabet` option")}});var NB=P((v0r,zye)=>{"use strict";h();var Nye=it(),bIt=Be(),wIt=RB(),EIt=_x(),SIt=Vt(),Fye=Jx(),TIt=OB(),IIt=pv(),CIt=Fye.c2i,PIt=Fye.c2iUrl,tf=Nye.SyntaxError,AIt=Nye.TypeError,Wp=bIt("".charAt),LB=function(e,t){for(var r=e.length;t<r;t++){var n=Wp(e,t);if(n!==" "&&n!=="\t"&&n!==`
`&&n!=="\f"&&n!=="\r")break}return t},DB=function(e,t,r){var n=e.length;n<4&&(e+=n===2?"AA":"A");var o=(t[Wp(e,0)]<<18)+(t[Wp(e,1)]<<12)+(t[Wp(e,2)]<<6)+t[Wp(e,3)],i=[o>>16&255,o>>8&255,o&255];if(n===2){if(r&&i[1]!==0)throw new tf("Extra bits");return[i[0]]}if(n===3){if(r&&i[2]!==0)throw new tf("Extra bits");return[i[0],i[1]]}return i},kB=function(e,t,r){for(var n=t.length,o=0;o<n;o++)e[r+o]=t[o];return r+n};zye.exports=function(e,t,r,n){EIt(e),wIt(t);var o=TIt(t)==="base64"?CIt:PIt,i=t?t.lastChunkHandling:void 0;if(i===void 0&&(i="loose"),i!=="loose"&&i!=="strict"&&i!=="stop-before-partial")throw new AIt("Incorrect `lastChunkHandling` option");r&&IIt(r.buffer);var f=r||[],g=0,w=0,E="",C=0;if(n)for(;;){if(C=LB(e,C),C===e.length){if(E.length>0){if(i==="stop-before-partial")break;if(i==="loose"){if(E.length===1)throw new tf("Malformed padding: exactly one additional character");g=kB(f,DB(E,o,!1),g)}else throw new tf("Missing padding")}w=e.length;break}var q=Wp(e,C);if(++C,q==="="){if(E.length<2)throw new tf("Padding is too early");if(C=LB(e,C),E.length===2){if(C===e.length){if(i==="stop-before-partial")break;throw new tf("Malformed padding: only one =")}Wp(e,C)==="="&&(++C,C=LB(e,C))}if(C<e.length)throw new tf("Unexpected character after padding");g=kB(f,DB(E,o,i==="strict"),g),w=e.length;break}if(!SIt(o,q))throw new tf("Unexpected character");var L=n-g;if(L===1&&E.length===2||L===2&&E.length===3||(E+=q,E.length===4&&(g=kB(f,DB(E,o,!1),g),E="",w=C,g===n)))break}return{bytes:f,read:w,written:g}}});var Bye=P(()=>{"use strict";h();var MIt=te(),qIt=it(),RIt=Qu(),OIt=NB(),jye=qIt.Uint8Array;jye&&MIt({target:"Uint8Array",stat:!0},{fromBase64:function(t){var r=OIt(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return RIt(jye,r.bytes)}})});var zB=P((b0r,Gye)=>{"use strict";h();var FB=it(),Vye=Be(),LIt=FB.Uint8Array,Uye=FB.SyntaxError,DIt=FB.parseInt,kIt=Math.min,$ye=/[^\da-f]/i,NIt=Vye($ye.exec),FIt=Vye("".slice);Gye.exports=function(e,t){var r=e.length;if(r%2!==0)throw new Uye("String should be an even number of characters");for(var n=t?kIt(t.length,r/2):r/2,o=t||new LIt(n),i=0,f=0;f<n;){var g=FIt(e,i,i+=2);if(NIt($ye,g))throw new Uye("String should only contain hex characters");o[f++]=DIt(g,16)}return{bytes:o,read:i}}});var Zye=P(()=>{"use strict";h();var zIt=te(),jIt=it(),BIt=_x(),UIt=zB();jIt.Uint8Array&&zIt({target:"Uint8Array",stat:!0},{fromHex:function(t){return UIt(BIt(t)).bytes}})});var Qx=P((I0r,Wye)=>{"use strict";h();var VIt=Bo(),$It=TypeError;Wye.exports=function(e){if(VIt(e)==="Uint8Array")return e;throw new $It("Argument is not an Uint8Array")}});var Hye=P(()=>{"use strict";h();var GIt=te(),ZIt=it(),WIt=NB(),HIt=Qx(),rC=ZIt.Uint8Array,KIt=!rC||!rC.prototype.setFromBase64||!function(){var e=new rC([255,255,255,255,255]);try{e.setFromBase64("MjYyZg===")}catch(t){return e[0]===50&&e[1]===54&&e[2]===50&&e[3]===255&&e[4]===255}}();rC&&GIt({target:"Uint8Array",proto:!0,forced:KIt},{setFromBase64:function(t){HIt(this);var r=WIt(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}}})});var Kye=P(()=>{"use strict";h();var YIt=te(),XIt=it(),JIt=_x(),QIt=Qx(),eCt=pv(),tCt=zB();XIt.Uint8Array&&YIt({target:"Uint8Array",proto:!0},{setFromHex:function(t){QIt(this),JIt(t),eCt(this.buffer);var r=tCt(t,this).read;return{read:r,written:r/2}}})});var Xye=P(()=>{"use strict";h();var rCt=te(),nCt=it(),iCt=Be(),oCt=RB(),aCt=Qx(),sCt=pv(),Yye=Jx(),lCt=OB(),uCt=Yye.i2c,cCt=Yye.i2cUrl,hCt=iCt("".charAt);nCt.Uint8Array&&rCt({target:"Uint8Array",proto:!0},{toBase64:function(){var t=aCt(this),r=arguments.length?oCt(arguments[0]):void 0,n=lCt(r)==="base64"?uCt:cCt,o=!!r&&!!r.omitPadding;sCt(this.buffer);for(var i="",f=0,g=t.length,w,E=function(C){return hCt(n,w>>6*C&63)};f+2<g;f+=3)w=(t[f]<<16)+(t[f+1]<<8)+t[f+2],i+=E(3)+E(2)+E(1)+E(0);return f+2===g?(w=(t[f]<<16)+(t[f+1]<<8),i+=E(3)+E(2)+E(1)+(o?"":"=")):f+1===g&&(w=t[f]<<16,i+=E(3)+E(2)+(o?"":"==")),i}})});var Jye=P(()=>{"use strict";h();var fCt=te(),pCt=it(),dCt=Be(),mCt=Qx(),vCt=pv(),gCt=dCt(1 .toString);pCt.Uint8Array&&fCt({target:"Uint8Array",proto:!0},{toHex:function(){mCt(this),vCt(this.buffer);for(var t="",r=0,n=this.length;r<n;r++){var o=gCt(this[r],16);t+=o.length===1?"0"+o:o}return t}})});var eb=P((j0r,Qye)=>{"use strict";h();var yCt=Xl().has;Qye.exports=function(e){return yCt(e),e}});var e_e=P(()=>{"use strict";h();var _Ct=te(),xCt=eb(),bCt=Xl().remove;_Ct({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=xCt(this),r=!0,n,o=0,i=arguments.length;o<i;o++)n=bCt(t,arguments[o]),r=r&&n;return!!r}})});var r_e=P(()=>{"use strict";h();var wCt=te(),t_e=Xl(),ECt=Bx();wCt({target:"WeakMap",stat:!0,forced:!0},{from:ECt(t_e.WeakMap,t_e.set,!0)})});var i_e=P(()=>{"use strict";h();var SCt=te(),n_e=Xl(),TCt=Ux();SCt({target:"WeakMap",stat:!0,forced:!0},{of:TCt(n_e.WeakMap,n_e.set,!0)})});var a_e=P(()=>{"use strict";h();var ICt=te(),CCt=eb(),jB=Xl(),PCt=jB.get,ACt=jB.has,o_e=jB.set;ICt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=CCt(this),o,i;return ACt(n,t)?(o=PCt(n,t),"update"in r&&(o=r.update(o,t,n),o_e(n,t,o)),o):(i=r.insert(t,n),o_e(n,t,i),i)}})});var s_e=P(()=>{"use strict";h();var MCt=te(),qCt=eb(),BB=Xl(),RCt=BB.get,OCt=BB.has,LCt=BB.set;MCt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return OCt(qCt(this),t)?RCt(this,t):(LCt(this,t,r),r)}})});var c_e=P((nxr,u_e)=>{"use strict";h();var UB=Xl(),l_e=new UB.WeakMap,DCt=UB.set,kCt=UB.remove;u_e.exports=function(e){return DCt(l_e,e,1),kCt(l_e,e),e}});var h_e=P(()=>{"use strict";h();var NCt=te(),FCt=Pt(),zCt=eb(),jCt=c_e(),VB=Xl(),BCt=VB.get,UCt=VB.has,VCt=VB.set;NCt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(zCt(this),jCt(t),FCt(r),UCt(this,t))return BCt(this,t);var n=r(t);return VCt(this,t,n),n}})});var f_e=P(()=>{"use strict";h();var $Ct=te(),GCt=BI();$Ct({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:GCt})});var Gv=P((hxr,p_e)=>{"use strict";h();var $B=Be(),GB=WeakSet.prototype;p_e.exports={WeakSet,add:$B(GB.add),has:$B(GB.has),remove:$B(GB.delete)}});var ZB=P((pxr,d_e)=>{"use strict";h();var ZCt=Gv().has;d_e.exports=function(e){return ZCt(e),e}});var m_e=P(()=>{"use strict";h();var WCt=te(),HCt=ZB(),KCt=Gv().add;WCt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=HCt(this),r=0,n=arguments.length;r<n;r++)KCt(t,arguments[r]);return t}})});var v_e=P(()=>{"use strict";h();var YCt=te(),XCt=ZB(),JCt=Gv().remove;YCt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=XCt(this),r=!0,n,o=0,i=arguments.length;o<i;o++)n=JCt(t,arguments[o]),r=r&&n;return!!r}})});var y_e=P(()=>{"use strict";h();var QCt=te(),g_e=Gv(),ePt=Bx();QCt({target:"WeakSet",stat:!0,forced:!0},{from:ePt(g_e.WeakSet,g_e.add,!1)})});var b_e=P(()=>{"use strict";h();var tPt=te(),x_e=Gv(),rPt=Ux();tPt({target:"WeakSet",stat:!0,forced:!0},{of:rPt(x_e.WeakSet,x_e.add,!1)})});var P_e=P(()=>{"use strict";h();var nPt=te(),iPt=it(),S_e=Ct(),WB=Be(),oPt=ot(),nC=We(),aPt=Rt(),sPt=Wa(),w_e=Jx().c2i,T_e=/[^\d+/a-z]/i,lPt=/[\t\n\f\r ]+/g,uPt=/[=]{1,2}$/,Hp=S_e("atob"),cPt=String.fromCharCode,hPt=WB("".charAt),E_e=WB("".replace),fPt=WB(T_e.exec),Zv=!!Hp&&!nC(function(){return Hp("aGk=")!=="hi"}),I_e=Zv&&nC(function(){return Hp(" ")!==""}),C_e=Zv&&!nC(function(){Hp("a")}),pPt=Zv&&!nC(function(){Hp()}),dPt=Zv&&Hp.length!==1,mPt=!Zv||I_e||C_e||pPt||dPt;nPt({global:!0,bind:!0,enumerable:!0,forced:mPt},{atob:function(t){if(sPt(arguments.length,1),Zv&&!I_e&&!C_e)return oPt(Hp,iPt,t);var r=E_e(aPt(t),lPt,""),n="",o=0,i=0,f,g,w;if(r.length%4===0&&(r=E_e(r,uPt,"")),f=r.length,f%4===1||fPt(T_e,r))throw new(S_e("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;o<f;)g=hPt(r,o++),w=i%4?w*64+w_e[g]:w_e[g],i++%4&&(n+=cPt(255&w>>(-2*i&6)));return n}})});var O_e=P(()=>{"use strict";h();var vPt=te(),gPt=it(),q_e=Ct(),R_e=Be(),yPt=ot(),HB=We(),A_e=Rt(),_Pt=Wa(),xPt=Jx().i2c,Wv=q_e("btoa"),M_e=R_e("".charAt),bPt=R_e("".charCodeAt),tb=!!Wv&&!HB(function(){return Wv("hi")!=="aGk="}),wPt=tb&&!HB(function(){Wv()}),EPt=tb&&HB(function(){return Wv(null)!=="bnVsbA=="}),SPt=tb&&Wv.length!==1;vPt({global:!0,bind:!0,enumerable:!0,forced:!tb||wPt||EPt||SPt},{btoa:function(t){if(_Pt(arguments.length,1),tb)return yPt(Wv,gPt,A_e(t));for(var r=A_e(t),n="",o=0,i=xPt,f,g;M_e(r,o)||(i="=",o%1);){if(g=bPt(r,o+=3/4),g>255)throw new(q_e("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");f=f<<8|g,n+=M_e(i,63&f>>8-o%1*8)}return n}})});var KB=P((Oxr,L_e)=>{"use strict";h();L_e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var XB=P((Dxr,k_e)=>{"use strict";h();var TPt=x0(),YB=TPt("span").classList,D_e=YB&&YB.constructor&&YB.constructor.prototype;k_e.exports=D_e===Object.prototype?void 0:D_e});var j_e=P(()=>{"use strict";h();var N_e=it(),F_e=KB(),IPt=XB(),JB=RL(),CPt=li(),z_e=function(e){if(e&&e.forEach!==JB)try{CPt(e,"forEach",JB)}catch(t){e.forEach=JB}};for(iC in F_e)F_e[iC]&&z_e(N_e[iC]&&N_e[iC].prototype);var iC;z_e(IPt)});var G_e=P(()=>{"use strict";h();var B_e=it(),V_e=KB(),PPt=XB(),rb=j0(),U_e=li(),APt=Uo(),MPt=St(),QB=MPt("iterator"),e3=rb.values,$_e=function(e,t){if(e){if(e[QB]!==e3)try{U_e(e,QB,e3)}catch(n){e[QB]=e3}if(APt(e,t,!0),V_e[t]){for(var r in rb)if(e[r]!==rb[r])try{U_e(e,r,rb[r])}catch(n){e[r]=rb[r]}}}};for(oC in V_e)$_e(B_e[oC]&&B_e[oC].prototype,oC);var oC;$_e(PPt,"DOMTokenList")});var t3=P((Vxr,Z_e)=>{"use strict";h();Z_e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var n0e=P(()=>{"use strict";h();var qPt=te(),lC=Ct(),RPt=AD(),s3=We(),OPt=Un(),l3=aa(),uC=Zr().f,LPt=Ir(),aC=tn(),sC=Vt(),DPt=wo(),kPt=st(),K_e=mL(),W_e=Ap(),Hv=t3(),NPt=AS(),Y_e=yr(),u3=vt(),X_e=fr(),Kv="DOMException",a3="DATA_CLONE_ERR",hC=lC("Error"),sc=lC(Kv)||function(){try{var e=lC("MessageChannel")||RPt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===a3&&t.code===25)return t.constructor}}(),FPt=sc&&sc.prototype,J_e=hC.prototype,zPt=Y_e.set,jPt=Y_e.getterFor(Kv),BPt="stack"in new hC(Kv),Q_e=function(e){return sC(Hv,e)&&Hv[e].m?Hv[e].c:0},c3=function(){DPt(this,ib);var t=arguments.length,r=W_e(t<1?void 0:arguments[0]),n=W_e(t<2?void 0:arguments[1],"Error"),o=Q_e(n);if(zPt(this,{type:Kv,name:n,message:r,code:o}),u3||(this.name=n,this.message=r,this.code=o),BPt){var i=new hC(r);i.name=Kv,uC(this,"stack",l3(1,NPt(i.stack,1)))}},ib=c3.prototype=OPt(J_e),e0e=function(e){return{enumerable:!0,configurable:!0,get:e}},r3=function(e){return e0e(function(){return jPt(this)[e]})};u3&&(aC(ib,"code",r3("code")),aC(ib,"message",r3("message")),aC(ib,"name",r3("name")));uC(ib,"constructor",l3(1,c3));var fC=s3(function(){return!(new sc instanceof hC)}),t0e=fC||s3(function(){return J_e.toString!==K_e||String(new sc(1,2))!=="2: 1"}),r0e=fC||s3(function(){return new sc(1,"DataCloneError").code!==25}),UPt=fC||sc[a3]!==25||FPt[a3]!==25,H_e=X_e?t0e||r0e||UPt:fC;qPt({global:!0,constructor:!0,forced:H_e},{DOMException:H_e?c3:sc});var ob=lC(Kv),cC=ob.prototype;t0e&&(X_e||sc===ob)&&LPt(cC,"toString",K_e);r0e&&u3&&sc===ob&&aC(cC,"code",e0e(function(){return Q_e(kPt(this).name)}));for(n3 in Hv)sC(Hv,n3)&&(i3=Hv[n3],nb=i3.s,o3=l3(6,i3.c),sC(ob,nb)||uC(ob,nb,o3),sC(cC,nb)||uC(cC,nb,o3));var i3,nb,o3,n3});var c0e=P(()=>{"use strict";h();var VPt=te(),$Pt=it(),y3=Ct(),v3=aa(),g3=Zr().f,i0e=Vt(),GPt=wo(),ZPt=Oh(),o0e=Ap(),h3=t3(),WPt=AS(),HPt=vt(),l0e=fr(),sb="DOMException",u0e=y3("Error"),lb=y3(sb),_3=function(){GPt(this,KPt);var t=arguments.length,r=o0e(t<1?void 0:arguments[0]),n=o0e(t<2?void 0:arguments[1],"Error"),o=new lb(r,n),i=new u0e(r);return i.name=sb,g3(o,"stack",v3(1,WPt(i.stack,1))),ZPt(o,this,_3),o},KPt=_3.prototype=lb.prototype,YPt="stack"in new u0e(sb),XPt="stack"in new lb(1,2),f3=lb&&HPt&&Object.getOwnPropertyDescriptor($Pt,sb),JPt=!!f3&&!(f3.writable&&f3.configurable),a0e=YPt&&!JPt&&!XPt;VPt({global:!0,constructor:!0,forced:l0e||a0e},{DOMException:a0e?_3:lb});var ab=y3(sb),s0e=ab.prototype;if(s0e.constructor!==ab){l0e||g3(s0e,"constructor",v3(1,ab));for(p3 in h3)i0e(h3,p3)&&(d3=h3[p3],m3=d3.s,i0e(ab,m3)||g3(ab,m3,v3(6,d3.c)))}var d3,m3,p3});var f0e=P(()=>{"use strict";h();var QPt=Ct(),eAt=Uo(),h0e="DOMException";eAt(QPt(h0e),h0e)});var d0e=P(()=>{"use strict";h();var tAt=te(),rAt=it(),p0e=hx().clear;tAt({global:!0,bind:!0,enumerable:!0,forced:rAt.clearImmediate!==p0e},{clearImmediate:p0e})});var pC=P((nbr,v0e)=>{"use strict";h();var m0e=it(),nAt=Qi(),iAt=jt(),oAt=V0(),aAt=Xs(),sAt=ua(),lAt=Wa(),uAt=m0e.Function,cAt=/MSIE .\./.test(aAt)||oAt==="BUN"&&function(){var e=m0e.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();v0e.exports=function(e,t){var r=t?2:1;return cAt?function(n,o){var i=lAt(arguments.length,1)>r,f=iAt(n)?n:uAt(n),g=i?sAt(arguments,r):[],w=i?function(){nAt(f,this,g)}:f;return t?e(w,o):e(w)}:e}});var x0e=P(()=>{"use strict";h();var hAt=te(),_0e=it(),g0e=hx().set,fAt=pC(),y0e=_0e.setImmediate?fAt(g0e,!1):g0e;hAt({global:!0,bind:!0,enumerable:!0,forced:_0e.setImmediate!==y0e},{setImmediate:y0e})});var b0e=P(()=>{"use strict";h();d0e();x0e()});var w0e=P(()=>{"use strict";h();var pAt=te(),dAt=it(),mAt=MN(),vAt=Pt(),gAt=Wa(),yAt=We(),_At=vt(),xAt=yAt(function(){return _At&&Object.getOwnPropertyDescriptor(dAt,"queueMicrotask").value.length!==1});pAt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:xAt},{queueMicrotask:function(t){gAt(arguments.length,1),mAt(vAt(t))}})});var S0e=P(()=>{"use strict";h();var bAt=te(),rf=it(),wAt=tn(),EAt=vt(),SAt=TypeError,TAt=Object.defineProperty,E0e=rf.self!==rf;try{EAt?(dC=Object.getOwnPropertyDescriptor(rf,"self"),(E0e||!dC||!dC.get||!dC.enumerable)&&wAt(rf,"self",{get:function(){return rf},set:function(t){if(this!==rf)throw new SAt("Illegal invocation");TAt(rf,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):bAt({global:!0,simple:!0,forced:E0e},{self:rf})}catch(e){}var dC});var D0e=P(()=>{"use strict";h();var IAt=fr(),CAt=te(),io=it(),cb=Ct(),fb=Be(),T3=We(),PAt=Ph(),Xv=jt(),AAt=nl(),MAt=sa(),_C=wt(),qAt=Hu(),RAt=bn(),C0e=st(),gC=Bo(),OAt=Vt(),LAt=bs(),x3=li(),mC=sr(),DAt=Wa(),kAt=Cv(),xC=Ei(),I3=ki(),NAt=fa(),T0e=kD(),FAt=hL(),C3=aT(),ub=io.Object,zAt=io.Array,P0e=io.Date,A0e=io.Error,jAt=io.TypeError,BAt=io.PerformanceMark,Kp=cb("DOMException"),E3=xC.Map,P3=xC.has,M0e=xC.get,yC=xC.set,q0e=I3.Set,R0e=I3.add,UAt=I3.has,VAt=cb("Object","keys"),$At=fb([].push),GAt=fb((!0).valueOf),ZAt=fb(1 .valueOf),WAt=fb("".valueOf),HAt=fb(P0e.prototype.getTime),S3=PAt("structuredClone"),hb="DataCloneError",vC="Transferring",O0e=function(e){return!T3(function(){var t=new io.Set([7]),r=e(t),n=e(ub(7));return r===t||!r.has(7)||!_C(n)||+n!=7})&&e},I0e=function(e,t){return!T3(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},KAt=function(e){return!T3(function(){var t=e(new io.AggregateError([1],S3,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==S3||t.cause!==3})},Yv=io.structuredClone,YAt=IAt||!I0e(Yv,A0e)||!I0e(Yv,Kp)||!KAt(Yv),XAt=!Yv&&O0e(function(e){return new BAt(S3,{detail:e}).detail}),lc=O0e(Yv)||XAt,b3=function(e){throw new Kp("Uncloneable type: "+e,hb)},ma=function(e,t){throw new Kp((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",hb)},w3=function(e,t){return lc||ma(t),lc(e)},JAt=function(){var e;try{e=new io.DataTransfer}catch(t){try{e=new io.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},L0e=function(e,t,r){if(P3(t,e))return M0e(t,e);var n=r||gC(e),o,i,f,g,w,E;if(n==="SharedArrayBuffer")lc?o=lc(e):o=e;else{var C=io.DataView;!C&&!Xv(e.slice)&&ma("ArrayBuffer");try{if(Xv(e.slice)&&!e.resizable)o=e.slice(0);else for(i=e.byteLength,f=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,o=new ArrayBuffer(i,f),g=new C(e),w=new C(o),E=0;E<i;E++)w.setUint8(E,g.getUint8(E))}catch(q){throw new Kp("ArrayBuffer is detached",hb)}}return yC(t,e,o),o},QAt=function(e,t,r,n,o){var i=io[t];return _C(i)||ma(t),new i(L0e(e.buffer,o),r,n)},no=function(e,t){if(qAt(e)&&b3("Symbol"),!_C(e))return e;if(t){if(P3(t,e))return M0e(t,e)}else t=new E3;var r=gC(e),n,o,i,f,g,w,E,C;switch(r){case"Array":i=zAt(mC(e));break;case"Object":i={};break;case"Map":i=new E3;break;case"Set":i=new q0e;break;case"RegExp":i=new RegExp(e.source,kAt(e));break;case"Error":switch(o=e.name,o){case"AggregateError":i=new(cb(o))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(cb(o));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(cb("WebAssembly",o));break;default:i=new A0e}break;case"DOMException":i=new Kp(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=L0e(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":w=r==="DataView"?e.byteLength:e.length,i=QAt(e,r,e.byteOffset,w,t);break;case"DOMQuad":try{i=new DOMQuad(no(e.p1,t),no(e.p2,t),no(e.p3,t),no(e.p4,t))}catch(q){i=w3(e,r)}break;case"File":if(lc)try{i=lc(e),gC(i)!==r&&(i=void 0)}catch(q){}if(!i)try{i=new File([e],e.name,e)}catch(q){}i||ma(r);break;case"FileList":if(f=JAt(),f){for(g=0,w=mC(e);g<w;g++)f.items.add(no(e[g],t));i=f.files}else i=w3(e,r);break;case"ImageData":try{i=new ImageData(no(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(q){i=w3(e,r)}break;default:if(lc)i=lc(e);else switch(r){case"BigInt":i=ub(e.valueOf());break;case"Boolean":i=ub(GAt(e));break;case"Number":i=ub(ZAt(e));break;case"String":i=ub(WAt(e));break;case"Date":i=new P0e(HAt(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(q){ma(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=io[r];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(q){ma(r)}break;case"DOMRect":case"DOMRectReadOnly":n=io[r];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(q){ma(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=io[r];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(q){ma(r)}break;case"AudioData":case"VideoFrame":Xv(e.clone)||ma(r);try{i=e.clone()}catch(q){b3(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ma(r);default:b3(r)}}switch(yC(t,e,i),r){case"Array":case"Object":for(E=VAt(e),g=0,w=mC(E);g<w;g++)C=E[g],LAt(i,C,no(e[C],t));break;case"Map":e.forEach(function(q,L){yC(i,no(L,t),no(q,t))});break;case"Set":e.forEach(function(q){R0e(i,no(q,t))});break;case"Error":x3(i,"message",no(e.message,t)),OAt(e,"cause")&&x3(i,"cause",no(e.cause,t)),o==="AggregateError"?i.errors=no(e.errors,t):o==="SuppressedError"&&(i.error=no(e.error,t),i.suppressed=no(e.suppressed,t));case"DOMException":FAt&&x3(i,"stack",no(e.stack,t))}return i},eMt=function(e,t){if(!_C(e))throw new jAt("Transfer option cannot be converted to a sequence");var r=[];RAt(e,function(L){$At(r,C0e(L))});for(var n=0,o=mC(r),i=new q0e,f,g,w,E,C,q;n<o;){if(f=r[n++],g=gC(f),g==="ArrayBuffer"?UAt(i,f):P3(t,f))throw new Kp("Duplicate transferable",hb);if(g==="ArrayBuffer"){R0e(i,f);continue}if(C3)E=Yv(f,{transfer:[f]});else switch(g){case"ImageBitmap":w=io.OffscreenCanvas,AAt(w)||ma(g,vC);try{C=new w(f.width,f.height),q=C.getContext("bitmaprenderer"),q.transferFromImageBitmap(f),E=C.transferToImageBitmap()}catch(L){}break;case"AudioData":case"VideoFrame":(!Xv(f.clone)||!Xv(f.close))&&ma(g,vC);try{E=f.clone(),f.close()}catch(L){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":ma(g,vC)}if(E===void 0)throw new Kp("This object cannot be transferred: "+g,hb);yC(t,f,E)}return i},tMt=function(e){NAt(e,function(t){C3?lc(t,{transfer:[t]}):Xv(t.transfer)?t.transfer():T0e?T0e(t):ma("ArrayBuffer",vC)})};CAt({global:!0,enumerable:!0,sham:!C3,forced:YAt},{structuredClone:function(t){var r=DAt(arguments.length,1)>1&&!MAt(arguments[1])?C0e(arguments[1]):void 0,n=r?r.transfer:void 0,o,i;n!==void 0&&(o=new E3,i=eMt(n,o));var f=no(t,o);return i&&tMt(i),f}})});var F0e=P(()=>{"use strict";h();var rMt=te(),N0e=it(),nMt=pC(),k0e=nMt(N0e.setInterval,!0);rMt({global:!0,bind:!0,forced:N0e.setInterval!==k0e},{setInterval:k0e})});var B0e=P(()=>{"use strict";h();var iMt=te(),j0e=it(),oMt=pC(),z0e=oMt(j0e.setTimeout,!0);iMt({global:!0,bind:!0,forced:j0e.setTimeout!==z0e},{setTimeout:z0e})});var U0e=P(()=>{"use strict";h();F0e();B0e()});var pb=P((Abr,$0e)=>{"use strict";h();var aMt=We(),sMt=St(),lMt=vt(),V0e=fr(),uMt=sMt("iterator");$0e.exports=!aMt(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(o,i){t.delete("b"),n+=i+o}),r.delete("a",2),r.delete("b",void 0),V0e&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(V0e||!lMt)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[uMt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var Q0e=P((qbr,J0e)=>{"use strict";h();var Yp=Be(),A3=2147483647,db=36,K0e=1,R3=26,cMt=38,hMt=700,fMt=72,pMt=128,dMt="-",mMt=/[^\0-\u007E]/,Y0e=/[.\u3002\uFF0E\uFF61]/g,G0e="Overflow: input needs wider integers to process",M3=db-K0e,Z0e=RangeError,vMt=Yp(Y0e.exec),Jv=Math.floor,q3=String.fromCharCode,W0e=Yp("".charCodeAt),X0e=Yp([].join),nf=Yp([].push),gMt=Yp("".replace),yMt=Yp("".split),_Mt=Yp("".toLowerCase),xMt=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=W0e(e,r++);if(o>=55296&&o<=56319&&r<n){var i=W0e(e,r++);(i&64512)===56320?nf(t,((o&1023)<<10)+(i&1023)+65536):(nf(t,o),r--)}else nf(t,o)}return t},H0e=function(e){return e+22+75*(e<26)},bMt=function(e,t,r){var n=0;for(e=r?Jv(e/hMt):e>>1,e+=Jv(e/t);e>M3*R3>>1;)e=Jv(e/M3),n+=db;return Jv(n+(M3+1)*e/(e+cMt))},wMt=function(e){var t=[];e=xMt(e);var r=e.length,n=pMt,o=0,i=fMt,f,g;for(f=0;f<e.length;f++)g=e[f],g<128&&nf(t,q3(g));var w=t.length,E=w;for(w&&nf(t,dMt);E<r;){var C=A3;for(f=0;f<e.length;f++)g=e[f],g>=n&&g<C&&(C=g);var q=E+1;if(C-n>Jv((A3-o)/q))throw new Z0e(G0e);for(o+=(C-n)*q,n=C,f=0;f<e.length;f++){if(g=e[f],g<n&&++o>A3)throw new Z0e(G0e);if(g===n){for(var L=o,B=db;;){var $=B<=i?K0e:B>=i+R3?R3:B-i;if(L<$)break;var ee=L-$,G=db-$;nf(t,q3(H0e($+ee%G))),L=Jv(ee/G),B+=db}nf(t,q3(H0e(L))),i=bMt(o,q,E===w),o=0,E++}}o++,n++}return X0e(t,"")};J0e.exports=function(e){var t=[],r=yMt(gMt(_Mt(e),Y0e,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],nf(t,vMt(mMt,o)?"xn--"+wMt(o):o);return X0e(t,".")}});var B3=P((Obr,wxe)=>{"use strict";h();j0();NF();var F3=te(),fxe=it(),z3=EN(),EMt=Ct(),bC=ot(),sl=Be(),mb=vt(),pxe=pb(),dxe=Ir(),SMt=tn(),TMt=Es(),IMt=Uo(),CMt=Nh(),j3=yr(),mxe=wo(),O3=jt(),PMt=Vt(),AMt=zr(),MMt=Bo(),qMt=st(),vxe=wt(),$o=Rt(),RMt=Un(),exe=aa(),txe=Lh(),OMt=Bl(),wC=wi(),Qv=Wa(),LMt=St(),DMt=ZS(),kMt=LMt("iterator"),tg="URLSearchParams",gxe=tg+"Iterator",yxe=j3.set,Is=j3.getterFor(tg),NMt=j3.getterFor(gxe),rxe=z3("fetch"),TC=z3("Request"),vb=z3("Headers"),L3=TC&&TC.prototype,nxe=vb&&vb.prototype,FMt=fxe.TypeError,zMt=fxe.encodeURIComponent,jMt=String.fromCharCode,BMt=EMt("String","fromCodePoint"),UMt=parseInt,SC=sl("".charAt),ixe=sl([].join),of=sl([].push),_xe=sl("".replace),VMt=sl([].shift),oxe=sl([].splice),axe=sl("".split),xxe=sl("".slice),$Mt=sl(/./.exec),GMt=/\+/g,D3="\uFFFD",ZMt=/^[0-9a-f]+$/i,sxe=function(e,t){var r=xxe(e,t,t+2);return $Mt(ZMt,r)?UMt(r,16):NaN},WMt=function(e){for(var t=0,r=128;r>0&&(e&r)!==0;r>>=1)t++;return t},HMt=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},lxe=function(e){e=_xe(e,GMt," ");for(var t=e.length,r="",n=0;n<t;){var o=SC(e,n);if(o==="%"){if(SC(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var i=sxe(e,n+1);if(i!==i){r+=o,n++;continue}n+=2;var f=WMt(i);if(f===0)o=jMt(i);else{if(f===1||f>4){r+=D3,n++;continue}for(var g=[i],w=1;w<f&&(n++,!(n+3>t||SC(e,n)!=="%"));){var E=sxe(e,n+1);if(E!==E){n+=3;break}if(E>191||E<128)break;of(g,E),n+=2,w++}if(g.length!==f){r+=D3;continue}var C=HMt(g);C===null?r+=D3:o=BMt(C)}}r+=o,n++}return r},KMt=/[!'()~]|%20/g,YMt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},XMt=function(e){return YMt[e]},uxe=function(e){return _xe(zMt(e),KMt,XMt)},k3=CMt(function(t,r){yxe(this,{type:gxe,target:Is(t).entries,index:0,kind:r})},tg,function(){var t=NMt(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,wC(void 0,!0);var o=r[n];switch(t.kind){case"keys":return wC(o.key,!1);case"values":return wC(o.value,!1)}return wC([o.key,o.value],!1)},!0),bxe=function(e){this.entries=[],this.url=null,e!==void 0&&(vxe(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?SC(e,0)==="?"?xxe(e,1):e:$o(e)))};bxe.prototype={type:tg,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=OMt(e),n,o,i,f,g,w,E;if(r)for(n=txe(e,r),o=n.next;!(i=bC(o,n)).done;){if(f=txe(qMt(i.value)),g=f.next,(w=bC(g,f)).done||(E=bC(g,f)).done||!bC(g,f).done)throw new FMt("Expected sequence with length 2");of(t,{key:$o(w.value),value:$o(E.value)})}else for(var C in e)PMt(e,C)&&of(t,{key:C,value:$o(e[C])})},parseQuery:function(e){if(e)for(var t=this.entries,r=axe(e,"&"),n=0,o,i;n<r.length;)o=r[n++],o.length&&(i=axe(o,"="),of(t,{key:lxe(VMt(i)),value:lxe(ixe(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],of(t,uxe(n.key)+"="+uxe(n.value));return ixe(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var IC=function(){mxe(this,eg);var t=arguments.length>0?arguments[0]:void 0,r=yxe(this,new bxe(t));mb||(this.size=r.entries.length)},eg=IC.prototype;TMt(eg,{append:function(t,r){var n=Is(this);Qv(arguments.length,2),of(n.entries,{key:$o(t),value:$o(r)}),mb||this.length++,n.updateURL()},delete:function(e){for(var t=Is(this),r=Qv(arguments.length,1),n=t.entries,o=$o(e),i=r<2?void 0:arguments[1],f=i===void 0?i:$o(i),g=0;g<n.length;){var w=n[g];if(w.key===o&&(f===void 0||w.value===f)){if(oxe(n,g,1),f!==void 0)break}else g++}mb||(this.size=n.length),t.updateURL()},get:function(t){var r=Is(this).entries;Qv(arguments.length,1);for(var n=$o(t),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},getAll:function(t){var r=Is(this).entries;Qv(arguments.length,1);for(var n=$o(t),o=[],i=0;i<r.length;i++)r[i].key===n&&of(o,r[i].value);return o},has:function(t){for(var r=Is(this).entries,n=Qv(arguments.length,1),o=$o(t),i=n<2?void 0:arguments[1],f=i===void 0?i:$o(i),g=0;g<r.length;){var w=r[g++];if(w.key===o&&(f===void 0||w.value===f))return!0}return!1},set:function(t,r){var n=Is(this);Qv(arguments.length,1);for(var o=n.entries,i=!1,f=$o(t),g=$o(r),w=0,E;w<o.length;w++)E=o[w],E.key===f&&(i?oxe(o,w--,1):(i=!0,E.value=g));i||of(o,{key:f,value:g}),mb||(this.size=o.length),n.updateURL()},sort:function(){var t=Is(this);DMt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Is(this).entries,n=AMt(t,arguments.length>1?arguments[1]:void 0),o=0,i;o<r.length;)i=r[o++],n(i.value,i.key,this)},keys:function(){return new k3(this,"keys")},values:function(){return new k3(this,"values")},entries:function(){return new k3(this,"entries")}},{enumerable:!0});dxe(eg,kMt,eg.entries,{name:"entries"});dxe(eg,"toString",function(){return Is(this).serialize()},{enumerable:!0});mb&&SMt(eg,"size",{get:function(){return Is(this).entries.length},configurable:!0,enumerable:!0});IMt(IC,tg);F3({global:!0,constructor:!0,forced:!pxe},{URLSearchParams:IC});!pxe&&O3(vb)&&(cxe=sl(nxe.has),hxe=sl(nxe.set),N3=function(e){if(vxe(e)){var t=e.body,r;if(MMt(t)===tg)return r=e.headers?new vb(e.headers):new vb,cxe(r,"content-type")||hxe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),RMt(e,{body:exe(0,$o(t)),headers:exe(0,r)})}return e},O3(rxe)&&F3({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return rxe(t,arguments.length>1?N3(arguments[1]):{})}}),O3(TC)&&(EC=function(t){return mxe(this,L3),new TC(t,arguments.length>1?N3(arguments[1]):{})},L3.constructor=EC,EC.prototype=L3,F3({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:EC})));var cxe,hxe,N3,EC;wxe.exports={URLSearchParams:IC,getState:Is}});var jxe=P(()=>{"use strict";h();zF();var JMt=te(),iU=vt(),QMt=pb(),oU=it(),Exe=zr(),qs=Be(),qC=Ir(),Cs=tn(),e2t=wo(),tU=Vt(),aU=oN(),rg=OL(),ll=ua(),t2t=Bp().codeAt,r2t=Q0e(),cc=Rt(),n2t=Uo(),i2t=Wa(),Lxe=B3(),Dxe=yr(),o2t=Dxe.set,RC=Dxe.getterFor("URL"),a2t=Lxe.URLSearchParams,s2t=Lxe.getState,gb=oU.URL,rU=oU.TypeError,OC=oU.parseInt,l2t=Math.floor,Sxe=Math.pow,Ms=qs("".charAt),ul=qs(/./.exec),_b=qs([].join),u2t=qs(1 .toString),c2t=qs([].pop),ig=qs([].push),U3=qs("".replace),h2t=qs([].shift),f2t=qs("".split),bb=qs("".slice),LC=qs("".toLowerCase),p2t=qs([].unshift),d2t="Invalid authority",V3="Invalid scheme",Xp="Invalid host",Txe="Invalid port",kxe=/[a-z]/i,m2t=/[\d+-.a-z]/i,nU=/\d/,v2t=/^0x/i,g2t=/^[0-7]+$/,y2t=/^\d+$/,Nxe=/^[\da-f]+$/i,_2t=/[\0\t\n\r #%/:<>?@[\\\]^|]/,x2t=/[\0\t\n\r #/:<>?@[\\\]^|]/,b2t=/^[\u0000-\u0020]+/,w2t=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,E2t=/[\t\n\r]/g,Ps,S2t=function(e){var t=f2t(e,"."),r,n,o,i,f,g,w;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],o=0;o<r;o++){if(i=t[o],i==="")return e;if(f=10,i.length>1&&Ms(i,0)==="0"&&(f=ul(v2t,i)?16:8,i=bb(i,f===8?1:2)),i==="")g=0;else{if(!ul(f===10?y2t:f===8?g2t:Nxe,i))return e;g=OC(i,f)}ig(n,g)}for(o=0;o<r;o++)if(g=n[o],o===r-1){if(g>=Sxe(256,5-r))return null}else if(g>255)return null;for(w=c2t(n),o=0;o<n.length;o++)w+=n[o]*Sxe(256,3-o);return w},T2t=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,o=0,i,f,g,w,E,C,q,L=function(){return Ms(e,o)};if(L()===":"){if(Ms(e,1)!==":")return;o+=2,r++,n=r}for(;L();){if(r===8)return;if(L()===":"){if(n!==null)return;o++,r++,n=r;continue}for(i=f=0;f<4&&ul(Nxe,L());)i=i*16+OC(L(),16),o++,f++;if(L()==="."){if(f===0||(o-=f,r>6))return;for(g=0;L();){if(w=null,g>0)if(L()==="."&&g<4)o++;else return;if(!ul(nU,L()))return;for(;ul(nU,L());){if(E=OC(L(),10),w===null)w=E;else{if(w===0)return;w=w*10+E}if(w>255)return;o++}t[r]=t[r]*256+w,g++,(g===2||g===4)&&r++}if(g!==4)return;break}else if(L()===":"){if(o++,!L())return}else if(L())return;t[r++]=i}if(n!==null)for(C=r-n,r=7;r!==0&&C>0;)q=t[r],t[r--]=t[n+C-1],t[n+--C]=q;else if(r!==8)return;return t},I2t=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)e[i]!==0?(o>r&&(t=n,r=o),n=null,o=0):(n===null&&(n=i),++o);return o>r?n:t},yb=function(e){var t,r,n,o;if(typeof e=="number"){for(t=[],r=0;r<4;r++)p2t(t,e%256),e=l2t(e/256);return _b(t,".")}if(typeof e=="object"){for(t="",n=I2t(e),r=0;r<8;r++)o&&e[r]===0||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=u2t(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},MC={},Fxe=aU({},MC,{" ":1,"\"":1,"<":1,">":1,"`":1}),zxe=aU({},Fxe,{"#":1,"?":1,"{":1,"}":1}),$3=aU({},zxe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),af=function(e,t){var r=t2t(e,0);return r>32&&r<127&&!tU(t,e)?e:encodeURIComponent(e)},CC={ftp:21,file:null,http:80,https:443,ws:80,wss:443},xb=function(e,t){var r;return e.length===2&&ul(kxe,Ms(e,0))&&((r=Ms(e,1))===":"||!t&&r==="|")},Ixe=function(e){var t;return e.length>1&&xb(bb(e,0,2))&&(e.length===2||(t=Ms(e,2))==="/"||t==="\\"||t==="?"||t==="#")},C2t=function(e){return e==="."||LC(e)==="%2e"},P2t=function(e){return e=LC(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},G3={},Cxe={},Z3={},Pxe={},Axe={},W3={},Mxe={},qxe={},PC={},AC={},H3={},K3={},Y3={},X3={},Rxe={},J3={},ng={},Jl={},Oxe={},Jp={},uc={},sU=function(e,t,r){var n=cc(e),o,i,f;if(t){if(i=this.parse(n),i)throw new rU(i);this.searchParams=null}else{if(r!==void 0&&(o=new sU(r,!0)),i=this.parse(n,null,o),i)throw new rU(i);f=s2t(new a2t),f.bindURL(this),this.searchParams=f}};sU.prototype={type:"URL",parse:function(e,t,r){var n=this,o=t||G3,i=0,f="",g=!1,w=!1,E=!1,C,q,L,B;for(e=cc(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=U3(e,b2t,""),e=U3(e,w2t,"$1")),e=U3(e,E2t,""),C=rg(e);i<=C.length;){switch(q=C[i],o){case G3:if(q&&ul(kxe,q))f+=LC(q),o=Cxe;else{if(t)return V3;o=Z3;continue}break;case Cxe:if(q&&(ul(m2t,q)||q==="+"||q==="-"||q==="."))f+=LC(q);else if(q===":"){if(t&&(n.isSpecial()!==tU(CC,f)||f==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=f,t){n.isSpecial()&&CC[n.scheme]===n.port&&(n.port=null);return}f="",n.scheme==="file"?o=X3:n.isSpecial()&&r&&r.scheme===n.scheme?o=Pxe:n.isSpecial()?o=qxe:C[i+1]==="/"?(o=Axe,i++):(n.cannotBeABaseURL=!0,ig(n.path,""),o=Oxe)}else{if(t)return V3;f="",o=Z3,i=0;continue}break;case Z3:if(!r||r.cannotBeABaseURL&&q!=="#")return V3;if(r.cannotBeABaseURL&&q==="#"){n.scheme=r.scheme,n.path=ll(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,o=uc;break}o=r.scheme==="file"?X3:W3;continue;case Pxe:if(q==="/"&&C[i+1]==="/")o=PC,i++;else{o=W3;continue}break;case Axe:if(q==="/"){o=AC;break}else{o=Jl;continue}case W3:if(n.scheme=r.scheme,q===Ps)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ll(r.path),n.query=r.query;else if(q==="/"||q==="\\"&&n.isSpecial())o=Mxe;else if(q==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ll(r.path),n.query="",o=Jp;else if(q==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ll(r.path),n.query=r.query,n.fragment="",o=uc;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ll(r.path),n.path.length--,o=Jl;continue}break;case Mxe:if(n.isSpecial()&&(q==="/"||q==="\\"))o=PC;else if(q==="/")o=AC;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,o=Jl;continue}break;case qxe:if(o=PC,q!=="/"||Ms(f,i+1)!=="/")continue;i++;break;case PC:if(q!=="/"&&q!=="\\"){o=AC;continue}break;case AC:if(q==="@"){g&&(f="%40"+f),g=!0,L=rg(f);for(var $=0;$<L.length;$++){var ee=L[$];if(ee===":"&&!E){E=!0;continue}var G=af(ee,$3);E?n.password+=G:n.username+=G}f=""}else if(q===Ps||q==="/"||q==="?"||q==="#"||q==="\\"&&n.isSpecial()){if(g&&f==="")return d2t;i-=rg(f).length+1,f="",o=H3}else f+=q;break;case H3:case K3:if(t&&n.scheme==="file"){o=J3;continue}else if(q===":"&&!w){if(f==="")return Xp;if(B=n.parseHost(f),B)return B;if(f="",o=Y3,t===K3)return}else if(q===Ps||q==="/"||q==="?"||q==="#"||q==="\\"&&n.isSpecial()){if(n.isSpecial()&&f==="")return Xp;if(t&&f===""&&(n.includesCredentials()||n.port!==null))return;if(B=n.parseHost(f),B)return B;if(f="",o=ng,t)return;continue}else q==="["?w=!0:q==="]"&&(w=!1),f+=q;break;case Y3:if(ul(nU,q))f+=q;else if(q===Ps||q==="/"||q==="?"||q==="#"||q==="\\"&&n.isSpecial()||t){if(f!==""){var H=OC(f,10);if(H>65535)return Txe;n.port=n.isSpecial()&&H===CC[n.scheme]?null:H,f=""}if(t)return;o=ng;continue}else return Txe;break;case X3:if(n.scheme="file",q==="/"||q==="\\")o=Rxe;else if(r&&r.scheme==="file")switch(q){case Ps:n.host=r.host,n.path=ll(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=ll(r.path),n.query="",o=Jp;break;case"#":n.host=r.host,n.path=ll(r.path),n.query=r.query,n.fragment="",o=uc;break;default:Ixe(_b(ll(C,i),""))||(n.host=r.host,n.path=ll(r.path),n.shortenPath()),o=Jl;continue}else{o=Jl;continue}break;case Rxe:if(q==="/"||q==="\\"){o=J3;break}r&&r.scheme==="file"&&!Ixe(_b(ll(C,i),""))&&(xb(r.path[0],!0)?ig(n.path,r.path[0]):n.host=r.host),o=Jl;continue;case J3:if(q===Ps||q==="/"||q==="\\"||q==="?"||q==="#"){if(!t&&xb(f))o=Jl;else if(f===""){if(n.host="",t)return;o=ng}else{if(B=n.parseHost(f),B)return B;if(n.host==="localhost"&&(n.host=""),t)return;f="",o=ng}continue}else f+=q;break;case ng:if(n.isSpecial()){if(o=Jl,q!=="/"&&q!=="\\")continue}else if(!t&&q==="?")n.query="",o=Jp;else if(!t&&q==="#")n.fragment="",o=uc;else if(q!==Ps&&(o=Jl,q!=="/"))continue;break;case Jl:if(q===Ps||q==="/"||q==="\\"&&n.isSpecial()||!t&&(q==="?"||q==="#")){if(P2t(f)?(n.shortenPath(),q!=="/"&&!(q==="\\"&&n.isSpecial())&&ig(n.path,"")):C2t(f)?q!=="/"&&!(q==="\\"&&n.isSpecial())&&ig(n.path,""):(n.scheme==="file"&&!n.path.length&&xb(f)&&(n.host&&(n.host=""),f=Ms(f,0)+":"),ig(n.path,f)),f="",n.scheme==="file"&&(q===Ps||q==="?"||q==="#"))for(;n.path.length>1&&n.path[0]==="";)h2t(n.path);q==="?"?(n.query="",o=Jp):q==="#"&&(n.fragment="",o=uc)}else f+=af(q,zxe);break;case Oxe:q==="?"?(n.query="",o=Jp):q==="#"?(n.fragment="",o=uc):q!==Ps&&(n.path[0]+=af(q,MC));break;case Jp:!t&&q==="#"?(n.fragment="",o=uc):q!==Ps&&(q==="'"&&n.isSpecial()?n.query+="%27":q==="#"?n.query+="%23":n.query+=af(q,MC));break;case uc:q!==Ps&&(n.fragment+=af(q,Fxe));break}i++}},parseHost:function(e){var t,r,n;if(Ms(e,0)==="["){if(Ms(e,e.length-1)!=="]"||(t=T2t(bb(e,1,-1)),!t))return Xp;this.host=t}else if(this.isSpecial()){if(e=r2t(e),ul(_2t,e)||(t=S2t(e),t===null))return Xp;this.host=t}else{if(ul(x2t,e))return Xp;for(t="",r=rg(e),n=0;n<r.length;n++)t+=af(r[n],MC);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return tU(CC,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!xb(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,f=e.path,g=e.query,w=e.fragment,E=t+":";return o!==null?(E+="//",e.includesCredentials()&&(E+=r+(n?":"+n:"")+"@"),E+=yb(o),i!==null&&(E+=":"+i)):t==="file"&&(E+="//"),E+=e.cannotBeABaseURL?f[0]:f.length?"/"+_b(f,"/"):"",g!==null&&(E+="?"+g),w!==null&&(E+="#"+w),E},setHref:function(e){var t=this.parse(e);if(t)throw new rU(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new og(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+yb(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(cc(e)+":",G3)},getUsername:function(){return this.username},setUsername:function(e){var t=rg(cc(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=af(t[r],$3)}},getPassword:function(){return this.password},setPassword:function(e){var t=rg(cc(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=af(t[r],$3)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?yb(e):yb(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,H3)},getHostname:function(){var e=this.host;return e===null?"":yb(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,K3)},getPort:function(){var e=this.port;return e===null?"":cc(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=cc(e),e===""?this.port=null:this.parse(e,Y3))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+_b(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,ng))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=cc(e),e===""?this.query=null:(Ms(e,0)==="?"&&(e=bb(e,1)),this.query="",this.parse(e,Jp)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=cc(e),e===""){this.fragment=null;return}Ms(e,0)==="#"&&(e=bb(e,1)),this.fragment="",this.parse(e,uc)},update:function(){this.query=this.searchParams.serialize()||null}};var og=function(t){var r=e2t(this,Go),n=i2t(arguments.length,1)>1?arguments[1]:void 0,o=o2t(r,new sU(t,!1,n));iU||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},Go=og.prototype,As=function(e,t){return{get:function(){return RC(this)[e]()},set:t&&function(r){return RC(this)[t](r)},configurable:!0,enumerable:!0}};iU&&(Cs(Go,"href",As("serialize","setHref")),Cs(Go,"origin",As("getOrigin")),Cs(Go,"protocol",As("getProtocol","setProtocol")),Cs(Go,"username",As("getUsername","setUsername")),Cs(Go,"password",As("getPassword","setPassword")),Cs(Go,"host",As("getHost","setHost")),Cs(Go,"hostname",As("getHostname","setHostname")),Cs(Go,"port",As("getPort","setPort")),Cs(Go,"pathname",As("getPathname","setPathname")),Cs(Go,"search",As("getSearch","setSearch")),Cs(Go,"searchParams",As("getSearchParams")),Cs(Go,"hash",As("getHash","setHash")));qC(Go,"toJSON",function(){return RC(this).serialize()},{enumerable:!0});qC(Go,"toString",function(){return RC(this).serialize()},{enumerable:!0});gb&&(Q3=gb.createObjectURL,eU=gb.revokeObjectURL,Q3&&qC(og,"createObjectURL",Exe(Q3,gb)),eU&&qC(og,"revokeObjectURL",Exe(eU,gb)));var Q3,eU;n2t(og,"URL");JMt({global:!0,constructor:!0,forced:!QMt,sham:!iU},{URL:og})});var Bxe=P(()=>{"use strict";h();jxe()});var $xe=P(()=>{"use strict";h();var A2t=te(),M2t=Ct(),Vxe=We(),q2t=Wa(),Uxe=Rt(),R2t=pb(),lU=M2t("URL"),O2t=R2t&&Vxe(function(){lU.canParse()}),L2t=Vxe(function(){return lU.canParse.length!==1});A2t({target:"URL",stat:!0,forced:!O2t||L2t},{canParse:function(t){var r=q2t(arguments.length,1),n=Uxe(t),o=r<2||arguments[1]===void 0?void 0:Uxe(arguments[1]);try{return!!new lU(n,o)}catch(i){return!1}}})});var Zxe=P(()=>{"use strict";h();var D2t=te(),k2t=Ct(),N2t=Wa(),Gxe=Rt(),F2t=pb(),z2t=k2t("URL");D2t({target:"URL",stat:!0,forced:!F2t},{parse:function(t){var r=N2t(arguments.length,1),n=Gxe(t),o=r<2||arguments[1]===void 0?void 0:Gxe(arguments[1]);try{return new z2t(n,o)}catch(i){return null}}})});var Wxe=P(()=>{"use strict";h();var j2t=te(),B2t=ot();j2t({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return B2t(URL.prototype.toString,this)}})});var Hxe=P(()=>{"use strict";h();B3()});var Jxe=P(()=>{"use strict";h();var U2t=Ir(),DC=Be(),Kxe=Rt(),V2t=Wa(),Xxe=URLSearchParams,kC=Xxe.prototype,$2t=DC(kC.append),Yxe=DC(kC.delete),G2t=DC(kC.forEach),Z2t=DC([].push),uU=new Xxe("a=1&a=2&b=3");uU.delete("a",1);uU.delete("b",void 0);uU+""!="a=2"&&U2t(kC,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return Yxe(this,e);var n=[];G2t(this,function(q,L){Z2t(n,{key:L,value:q})}),V2t(t,1);for(var o=Kxe(e),i=Kxe(r),f=0,g=0,w=!1,E=n.length,C;f<E;)C=n[f++],w||C.key===o?(w=!0,Yxe(this,C.key)):g++;for(;g<E;)C=n[g++],C.key===o&&C.value===i||$2t(this,C.key,C.value)},{enumerable:!0,unsafe:!0})});var rbe=P(()=>{"use strict";h();var W2t=Ir(),ebe=Be(),H2t=Rt(),K2t=Wa(),tbe=URLSearchParams,cU=tbe.prototype,Y2t=ebe(cU.getAll),X2t=ebe(cU.has),Qxe=new tbe("a=1");(Qxe.has("a",2)||!Qxe.has("a",void 0))&&W2t(cU,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return X2t(this,t);var o=Y2t(this,t);K2t(r,1);for(var i=H2t(n),f=0;f<o.length;)if(o[f++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})});var nbe=P(()=>{"use strict";h();var J2t=vt(),Q2t=Be(),eqt=tn(),hU=URLSearchParams.prototype,tqt=Q2t(hU.forEach);J2t&&!("size"in hU)&&eqt(hU,"size",{get:function(){var t=0;return tqt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var obe=P((l1r,ibe)=>{"use strict";h();eK();sK();lK();uK();cK();hK();fK();pK();dK();mK();vK();gK();yK();_K();xK();ZK();XK();xL();g7();SL();T7();A7();q7();L7();D7();N7();z7();AL();ML();$7();G7();H7();nY();iY();aY();sY();j0();PY();RY();OY();DY();NY();GY();WY();KY();JY();QY();mX();yX();_X();YL();JL();QL();EX();SX();TX();tD();rJ();dJ();xJ();wJ();bD();TD();PD();VD();$D();XJ();QJ();rQ();nQ();pQ();dQ();_Q();EQ();TQ();qQ();LQ();FQ();XD();rk();sk();uk();hk();pk();_k();bk();wk();cT();Tk();Ck();Ak();Mk();oL();vee();mT();Fk();Fee();Bee();Vee();$ee();Gee();Hee();Yee();Xee();Uk();Qee();tte();nte();ite();ote();ate();ute();fte();pte();dte();Tte();Ite();Pte();Mte();qte();Rte();Ote();Lte();jte();Hte();Qte();ore();lre();pre();dre();gre();_re();bre();wre();Pre();Are();Mre();Ore();Lre();Dre();Nre();lN();uN();jre();Ure();$re();Zre();Hre();Kre();Yre();Xre();rne();nne();ine();sne();lne();cne();fne();Tie();GN();ZN();Mie();YN();XN();Oie();jie();Vie();$ie();Hie();Kie();Yie();Xie();Jie();Qie();eoe();ooe();soe();loe();Toe();pF();Ooe();zT();zoe();Boe();$oe();Hoe();Yoe();bF();SF();IF();PF();MF();OF();DF();Cae();qae();kae();NF();jae();FF();zF();ese();ZF();hse();fse();vse();gse();Ese();rz();Pse();Ose();kse();Fse();uz();Gse();Yse();tle();ole();ale();sle();lle();ule();cle();hle();fle();ple();dle();mle();vle();gle();$le();Gle();Zle();Wle();Hle();Kle();Yle();Xle();Jle();Sz();tue();nue();oue();lue();cue();fue();Tz();Iz();vue();gue();_ue();bue();Iue();Pue();Mue();que();Oue();Due();Nue();zue();Gue();Zue();Hue();ece();rce();sce();jz();Bz();uce();Vz();dce();dI();Mce();qce();Lce();she();lhe();uhe();che();hhe();fhe();dhe();mhe();ghe();yhe();bhe();whe();The();Ihe();Che();Phe();Dhe();khe();Nhe();Fhe();zhe();Jhe();nfe();mfe();_fe();bfe();wfe();Sfe();Tfe();qfe();Rfe();Lfe();Dfe();kfe();Nfe();Ffe();Bfe();Ufe();Kfe();tpe();npe();ipe();ope();ape();spe();fpe();vpe();ype();xpe();bpe();Spe();Tpe();Ipe();Cpe();Ape();Rpe();Dpe();kpe();Npe();Fpe();zpe();jpe();Bpe();Upe();Vpe();$pe();Zpe();Wpe();Hpe();Kpe();Ype();Jpe();tde();pde();bde();Ede();Tde();Ide();Pde();Ade();Mde();Ode();Lde();Dde();kde();zde();Bde();Ude();$de();Zde();Wde();Yde();Xde();Jde();eme();rme();nme();lme();ume();cme();fme();pme();dme();mme();vme();gme();yme();_me();Eme();Sme();Ame();Mme();Ome();Lme();Dme();zme();jme();Bme();Ume();nve();ive();ove();ave();sve();pve();mve();gve();bve();Eve();Tve();Pve();Mve();Rve();Ove();Lve();Dve();kve();Bve();Uve();$ve();Gve();Wve();Hve();Kve();Yve();Xve();Jve();Qve();ege();tge();nge();oge();sge();lge();uge();cge();hge();fge();pge();dge();_ge();Sge();$ge();Gge();Zge();Wge();Hge();Kge();Yge();Xge();Qge();eye();sye();lye();uye();cye();hye();fye();pye();dye();vye();gye();_ye();bye();wye();Eye();Sye();Tye();Iye();Cye();Pye();Aye();Bye();Zye();Hye();Kye();Xye();Jye();e_e();r_e();i_e();a_e();s_e();h_e();f_e();m_e();v_e();y_e();b_e();P_e();O_e();j_e();G_e();n0e();c0e();f0e();b0e();w0e();S0e();D0e();U0e();Bxe();$xe();Zxe();Wxe();Hxe();Jxe();rbe();nbe();ibe.exports=bS()});var sbe=P((c1r,abe)=>{"use strict";h();abe.exports=obe()});var FU=P((kU,NU)=>{h();(function(e,t){typeof kU=="object"&&typeof NU!="undefined"?NU.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(kU,function(){"use strict";var e={},t={};function r(o,i,f){if(t[o]=f,o==="index"){var g="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",w={};return t.shared(w),t.index(e,w),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),e}}r("shared",["exports"],function(o){"use strict";function i(u,s,l,p){return new(l||(l=Promise))(function(m,x){function b(O){try{A(p.next(O))}catch(D){x(D)}}function I(O){try{A(p.throw(O))}catch(D){x(D)}}function A(O){var D;O.done?m(O.value):(D=O.value,D instanceof l?D:new l(function(F){F(D)})).then(b,I)}A((p=p.apply(u,s||[])).next())})}function f(u,s){this.x=u,this.y=s}function g(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var w,E;typeof SuppressedError=="function"&&SuppressedError,f.prototype={clone(){return new f(this.x,this.y)},add(u){return this.clone()._add(u)},sub(u){return this.clone()._sub(u)},multByPoint(u){return this.clone()._multByPoint(u)},divByPoint(u){return this.clone()._divByPoint(u)},mult(u){return this.clone()._mult(u)},div(u){return this.clone()._div(u)},rotate(u){return this.clone()._rotate(u)},rotateAround(u,s){return this.clone()._rotateAround(u,s)},matMult(u){return this.clone()._matMult(u)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(u){return this.x===u.x&&this.y===u.y},dist(u){return Math.sqrt(this.distSqr(u))},distSqr(u){let s=u.x-this.x,l=u.y-this.y;return s*s+l*l},angle(){return Math.atan2(this.y,this.x)},angleTo(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith(u){return this.angleWithSep(u.x,u.y)},angleWithSep(u,s){return Math.atan2(this.x*s-this.y*u,this.x*u+this.y*s)},_matMult(u){let s=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=s,this},_add(u){return this.x+=u.x,this.y+=u.y,this},_sub(u){return this.x-=u.x,this.y-=u.y,this},_mult(u){return this.x*=u,this.y*=u,this},_div(u){return this.x/=u,this.y/=u,this},_multByPoint(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint(u){return this.x/=u.x,this.y/=u.y,this},_unit(){return this._div(this.mag()),this},_perp(){let u=this.y;return this.y=this.x,this.x=-u,this},_rotate(u){let s=Math.cos(u),l=Math.sin(u),p=l*this.x+s*this.y;return this.x=s*this.x-l*this.y,this.y=p,this},_rotateAround(u,s){let l=Math.cos(u),p=Math.sin(u),m=s.y+p*(this.x-s.x)+l*(this.y-s.y);return this.x=s.x+l*(this.x-s.x)-p*(this.y-s.y),this.y=m,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:f},f.convert=function(u){if(u instanceof f)return u;if(Array.isArray(u))return new f(+u[0],+u[1]);if(u.x!==void 0&&u.y!==void 0)return new f(+u.x,+u.y);throw new Error("Expected [x, y] or {x, y} point format")};var C=function(){if(E)return w;function u(s,l,p,m){this.cx=3*s,this.bx=3*(p-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=l,this.p2x=p,this.p2y=m}return E=1,w=u,u.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,l){if(l===void 0&&(l=1e-6),s<0)return 0;if(s>1)return 1;for(var p=s,m=0;m<8;m++){var x=this.sampleCurveX(p)-s;if(Math.abs(x)<l)return p;var b=this.sampleCurveDerivativeX(p);if(Math.abs(b)<1e-6)break;p-=x/b}var I=0,A=1;for(p=s,m=0;m<20&&(x=this.sampleCurveX(p),!(Math.abs(x-s)<l));m++)s>x?I=p:A=p,p=.5*(A-I)+I;return p},solve:function(s,l){return this.sampleCurveY(this.solveCurveX(s,l))}},w}(),q=g(C);let L,B;function $(){return L==null&&(L=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),L}function ee(){if(B==null&&(B=!1,$())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let p=0;p<5*5;p++){let m=4*p;s.fillStyle=`rgb(${m},${m+1},${m+2})`,s.fillRect(p%5,Math.floor(p/5),1,1)}let l=s.getImageData(0,0,5,5).data;for(let p=0;p<5*5*4;p++)if(p%4!=3&&l[p]!==p){B=!0;break}}}return B||!1}var G=1e-6,H=typeof Float32Array!="undefined"?Float32Array:Array;function Q(){var u=new H(9);return H!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function se(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function de(){var u=new H(3);return H!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function De(u){var s=u[0],l=u[1],p=u[2];return Math.sqrt(s*s+l*l+p*p)}function Ne(u,s,l){var p=new H(3);return p[0]=u,p[1]=s,p[2]=l,p}function ke(u,s,l){return u[0]=s[0]+l[0],u[1]=s[1]+l[1],u[2]=s[2]+l[2],u}function Ge(u,s,l){return u[0]=s[0]*l,u[1]=s[1]*l,u[2]=s[2]*l,u}function rt(u,s,l){var p=s[0],m=s[1],x=s[2],b=l[0],I=l[1],A=l[2];return u[0]=m*A-x*I,u[1]=x*b-p*A,u[2]=p*I-m*b,u}var Mt,tr=De;function Mr(u,s,l){var p=s[0],m=s[1],x=s[2],b=s[3];return u[0]=l[0]*p+l[4]*m+l[8]*x+l[12]*b,u[1]=l[1]*p+l[5]*m+l[9]*x+l[13]*b,u[2]=l[2]*p+l[6]*m+l[10]*x+l[14]*b,u[3]=l[3]*p+l[7]*m+l[11]*x+l[15]*b,u}function kr(){var u=new H(4);return H!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function qr(u,s,l,p){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",x=Math.PI/360;s*=x,p*=x,l*=x;var b=Math.sin(s),I=Math.cos(s),A=Math.sin(l),O=Math.cos(l),D=Math.sin(p),F=Math.cos(p);switch(m){case"xyz":u[0]=b*O*F+I*A*D,u[1]=I*A*F-b*O*D,u[2]=I*O*D+b*A*F,u[3]=I*O*F-b*A*D;break;case"xzy":u[0]=b*O*F-I*A*D,u[1]=I*A*F-b*O*D,u[2]=I*O*D+b*A*F,u[3]=I*O*F+b*A*D;break;case"yxz":u[0]=b*O*F+I*A*D,u[1]=I*A*F-b*O*D,u[2]=I*O*D-b*A*F,u[3]=I*O*F+b*A*D;break;case"yzx":u[0]=b*O*F+I*A*D,u[1]=I*A*F+b*O*D,u[2]=I*O*D-b*A*F,u[3]=I*O*F-b*A*D;break;case"zxy":u[0]=b*O*F-I*A*D,u[1]=I*A*F+b*O*D,u[2]=I*O*D+b*A*F,u[3]=I*O*F-b*A*D;break;case"zyx":u[0]=b*O*F-I*A*D,u[1]=I*A*F+b*O*D,u[2]=I*O*D-b*A*F,u[3]=I*O*F+b*A*D;break;default:throw new Error("Unknown angle order "+m)}return u}function dr(){var u=new H(2);return H!=Float32Array&&(u[0]=0,u[1]=0),u}function Ut(u,s){var l=new H(2);return l[0]=u,l[1]=s,l}de(),Mt=new H(4),H!=Float32Array&&(Mt[0]=0,Mt[1]=0,Mt[2]=0,Mt[3]=0),de(),Ne(1,0,0),Ne(0,1,0),kr(),kr(),Q(),dr();let _t=8192;function Bt(u,s,l){return s*(_t/(u.tileSize*Math.pow(2,l-u.tileID.overscaledZ)))}function Nr(u,s){return(u%s+s)%s}function qn(u,s,l){return u*(1-l)+s*l}function Ur(u){if(u<=0)return 0;if(u>=1)return 1;let s=u*u,l=s*u;return 4*(u<.5?l:3*(u-s)+l-.75)}function pn(u,s,l,p){let m=new q(u,s,l,p);return x=>m.solve(x)}let Jn=pn(.25,.1,.25,1);function wr(u,s,l){return Math.min(l,Math.max(s,u))}function rr(u,s,l){let p=l-s,m=((u-s)%p+p)%p+s;return m===s?l:m}function dn(u,...s){for(let l of s)for(let p in l)u[p]=l[p];return u}let Rn=1;function Tn(u,s,l){let p={};for(let m in u)p[m]=s.call(this,u[m],m,u);return p}function Ja(u,s,l){let p={};for(let m in u)s.call(this,u[m],m,u)&&(p[m]=u[m]);return p}function Yr(u){return Array.isArray(u)?u.map(Yr):typeof u=="object"&&u?Tn(u,Yr):u}let Vr={};function vr(u){Vr[u]||(typeof console!="undefined"&&console.warn(u),Vr[u]=!0)}function co(u,s,l){return(l.y-u.y)*(s.x-u.x)>(s.y-u.y)*(l.x-u.x)}function Yo(u){return typeof WorkerGlobalScope!="undefined"&&u!==void 0&&u instanceof WorkerGlobalScope}let Qa=null;function Mo(u){return typeof ImageBitmap!="undefined"&&u instanceof ImageBitmap}let qo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function es(u,s,l,p,m){return i(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let x=new VideoFrame(u,{timestamp:0});try{let b=x==null?void 0:x.format;if(!b||!b.startsWith("BGR")&&!b.startsWith("RGB"))throw new Error(`Unrecognized format ${b}`);let I=b.startsWith("BGR"),A=new Uint8ClampedArray(p*m*4);if(yield x.copyTo(A,function(O,D,F,U,Z){let W=4*Math.max(-D,0),X=(Math.max(0,F)-F)*U*4+W,ne=4*U,le=Math.max(0,D),Ee=Math.max(0,F);return{rect:{x:le,y:Ee,width:Math.min(O.width,D+U)-le,height:Math.min(O.height,F+Z)-Ee},layout:[{offset:X,stride:ne}]}}(u,s,l,p,m)),I)for(let O=0;O<A.length;O+=4){let D=A[O];A[O]=A[O+2],A[O+2]=D}return A}finally{x.close()}})}let Ia,Ro;function ts(u,s,l,p){return u.addEventListener(s,l,p),{unsubscribe:()=>{u.removeEventListener(s,l,p)}}}function rs(u){return u*Math.PI/180}function ns(u){return u/Math.PI*180}let Ca={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Pa={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},vl="AbortError";function be(){return new Error(vl)}let Y={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function J(u){return Y.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}let re="global-dispatcher";class ce extends Error{constructor(s,l,p,m){super(`AJAXError: ${l} (${s}): ${p}`),this.status=s,this.statusText=l,this.url=p,this.body=m}}let ge=()=>Yo(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,we=function(u,s){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){let p=J(u.url);if(p)return p(u,s);if(Yo(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:re},s)}if(!(/^file:/.test(l=u.url)||/^file:/.test(ge())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(p,m){return i(this,void 0,void 0,function*(){let x=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,cache:p.cache,referrer:ge(),signal:m.signal}),b,I;p.type!=="json"||x.headers.has("Accept")||x.headers.set("Accept","application/json");try{b=yield fetch(x)}catch(O){throw new ce(0,O.message,p.url,new Blob())}if(!b.ok){let O=yield b.blob();throw new ce(b.status,b.statusText,p.url,O)}I=p.type==="arrayBuffer"||p.type==="image"?b.arrayBuffer():p.type==="json"?b.json():b.text();let A=yield I;if(m.signal.aborted)throw be();return{data:A,cacheControl:b.headers.get("Cache-Control"),expires:b.headers.get("Expires")}})}(u,s);if(Yo(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:re},s)}var l;return function(p,m){return new Promise((x,b)=>{var I;let A=new XMLHttpRequest;A.open(p.method||"GET",p.url,!0),p.type!=="arrayBuffer"&&p.type!=="image"||(A.responseType="arraybuffer");for(let O in p.headers)A.setRequestHeader(O,p.headers[O]);p.type==="json"&&(A.responseType="text",!((I=p.headers)===null||I===void 0)&&I.Accept||A.setRequestHeader("Accept","application/json")),A.withCredentials=p.credentials==="include",A.onerror=()=>{b(new Error(A.statusText))},A.onload=()=>{if(!m.signal.aborted)if((A.status>=200&&A.status<300||A.status===0)&&A.response!==null){let O=A.response;if(p.type==="json")try{O=JSON.parse(A.response)}catch(D){return void b(D)}x({data:O,cacheControl:A.getResponseHeader("Cache-Control"),expires:A.getResponseHeader("Expires")})}else{let O=new Blob([A.response],{type:A.getResponseHeader("Content-Type")});b(new ce(A.status,A.statusText,p.url,O))}},m.signal.addEventListener("abort",()=>{A.abort(),b(be())}),A.send(p.body)})}(u,s)};function Ce(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;let s=new URL(u),l=window.location;return s.protocol===l.protocol&&s.host===l.host}function xe(u,s,l){l[u]&&l[u].indexOf(s)!==-1||(l[u]=l[u]||[],l[u].push(s))}function Le(u,s,l){if(l&&l[u]){let p=l[u].indexOf(s);p!==-1&&l[u].splice(p,1)}}class Ve{constructor(s,l={}){dn(this,l),this.type=s}}class ze extends Ve{constructor(s,l={}){super("error",dn({error:s},l))}}class ct{on(s,l){return this._listeners=this._listeners||{},xe(s,l,this._listeners),{unsubscribe:()=>{this.off(s,l)}}}off(s,l){return Le(s,l,this._listeners),Le(s,l,this._oneTimeListeners),this}once(s,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},xe(s,l,this._oneTimeListeners),this):new Promise(p=>this.once(s,p))}fire(s,l){typeof s=="string"&&(s=new Ve(s,l||{}));let p=s.type;if(this.listens(p)){s.target=this;let m=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(let I of m)I.call(this,s);let x=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(let I of x)Le(p,I,this._oneTimeListeners),I.call(this,s);let b=this._eventedParent;b&&(dn(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(s))}else s instanceof ze&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,l){return this._eventedParent=s,this._eventedParentData=l,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let At=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Gt(u,s){let l={};for(let p in u)p!=="ref"&&(l[p]=u[p]);return At.forEach(p=>{p in s&&(l[p]=s[p])}),l}function pt(u,s){if(Array.isArray(u)){if(!Array.isArray(s)||u.length!==s.length)return!1;for(let l=0;l<u.length;l++)if(!pt(u[l],s[l]))return!1;return!0}if(typeof u=="object"&&u!==null&&s!==null){if(typeof s!="object"||Object.keys(u).length!==Object.keys(s).length)return!1;for(let l in u)if(!pt(u[l],s[l]))return!1;return!0}return u===s}function Ot(u,s){u.push(s)}function Fr(u,s,l){Ot(l,{command:"addSource",args:[u,s[u]]})}function Gn(u,s,l){Ot(s,{command:"removeSource",args:[u]}),l[u]=!0}function Zn(u,s,l,p){Gn(u,l,p),Fr(u,s,l)}function In(u,s,l){let p;for(p in u[l])if(Object.prototype.hasOwnProperty.call(u[l],p)&&p!=="data"&&!pt(u[l][p],s[l][p]))return!1;for(p in s[l])if(Object.prototype.hasOwnProperty.call(s[l],p)&&p!=="data"&&!pt(u[l][p],s[l][p]))return!1;return!0}function Yt(u,s,l,p,m,x){u=u||{},s=s||{};for(let b in u)Object.prototype.hasOwnProperty.call(u,b)&&(pt(u[b],s[b])||l.push({command:x,args:[p,b,s[b],m]}));for(let b in s)Object.prototype.hasOwnProperty.call(s,b)&&!Object.prototype.hasOwnProperty.call(u,b)&&(pt(u[b],s[b])||l.push({command:x,args:[p,b,s[b],m]}))}function ir(u){return u.id}function On(u,s){return u[s.id]=s,u}class He{constructor(s,l,p,m){this.message=(s?`${s}: `:"")+p,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function Ci(u,...s){for(let l of s)for(let p in l)u[p]=l[p];return u}class an extends Error{constructor(s,l){super(l),this.message=l,this.key=s}}class gl{constructor(s,l=[]){this.parent=s,this.bindings={};for(let[p,m]of l)this.bindings[p]=m}concat(s){return new gl(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let Mc={kind:"null"},tt={kind:"number"},Zt={kind:"string"},Ft={kind:"boolean"},di={kind:"color"},yu={kind:"projectionDefinition"},yl={kind:"object"},Dt={kind:"value"},md={kind:"collator"},_l={kind:"formatted"},vd={kind:"padding"},is={kind:"colorArray"},qc={kind:"numberArray"},mn={kind:"resolvedImage"},gd={kind:"variableAnchorOffsetCollection"};function ho(u,s){return{kind:"array",itemType:u,N:s}}function Rr(u){if(u.kind==="array"){let s=Rr(u.itemType);return typeof u.N=="number"?`array<${s}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${s}>`}return u.kind}let L1=[Mc,tt,Zt,Ft,di,yu,_l,yl,ho(Dt),vd,qc,is,mn,gd];function If(u,s){if(s.kind==="error")return null;if(u.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!If(u.itemType,s.itemType))&&(typeof u.N!="number"||u.N===s.N))return null}else{if(u.kind===s.kind)return null;if(u.kind==="value"){for(let l of L1)if(!If(l,s))return null}}return`Expected ${Rr(u)} but found ${Rr(s)} instead.`}function iy(u,s){return s.some(l=>l.kind===u.kind)}function xl(u,s){return s.some(l=>l==="null"?u===null:l==="array"?Array.isArray(u):l==="object"?u&&!Array.isArray(u)&&typeof u=="object":l===typeof u)}function bl(u,s){return u.kind==="array"&&s.kind==="array"?u.itemType.kind===s.itemType.kind&&typeof u.N=="number":u.kind===s.kind}let oy=.96422,D1=.82521,k1=4/29,Rc=6/29,N1=3*Rc*Rc,IM=Rc*Rc*Rc,CM=Math.PI/180,PM=180/Math.PI;function ay(u){return(u%=360)<0&&(u+=360),u}function Oc([u,s,l,p]){let m,x,b=ly((.2225045*(u=sy(u))+.7168786*(s=sy(s))+.0606169*(l=sy(l)))/1);u===s&&s===l?m=x=b:(m=ly((.4360747*u+.3850649*s+.1430804*l)/oy),x=ly((.0139322*u+.0971045*s+.7141733*l)/D1));let I=116*b-16;return[I<0?0:I,500*(m-b),200*(b-x),p]}function sy(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function ly(u){return u>IM?Math.pow(u,1/3):u/N1+k1}function Lc([u,s,l,p]){let m=(u+16)/116,x=isNaN(s)?m:m+s/500,b=isNaN(l)?m:m-l/200;return m=1*cy(m),x=oy*cy(x),b=D1*cy(b),[uy(3.1338561*x-1.6168667*m-.4906146*b),uy(-.9787684*x+1.9161415*m+.033454*b),uy(.0719453*x-.2289914*m+1.4052427*b),p]}function uy(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function cy(u){return u>Rc?u*u*u:N1*(u-k1)}let AM=Object.hasOwn||function(u,s){return Object.prototype.hasOwnProperty.call(u,s)};function Dc(u,s){return AM(u,s)?u[s]:void 0}function Cf(u){return parseInt(u.padEnd(2,u),16)/255}function Aa(u,s){return Wt(s?u/100:u,0,1)}function Wt(u,s,l){return Math.min(Math.max(s,u),l)}function _u(u){return!u.some(Number.isNaN)}let wl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Fs(u,s,l){return u+l*(s-u)}function xu(u,s,l){return u.map((p,m)=>Fs(p,s[m],l))}class Ht{constructor(s,l,p,m=1,x=!0){this.r=s,this.g=l,this.b=p,this.a=m,x||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[s,l,p,m]))}static parse(s){if(s instanceof Ht)return s;if(typeof s!="string")return;let l=function(p){if((p=p.toLowerCase().trim())==="transparent")return[0,0,0,0];let m=Dc(wl,p);if(m){let[b,I,A]=m;return[b/255,I/255,A/255,1]}if(p.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(p)){let b=p.length<6?1:2,I=1;return[Cf(p.slice(I,I+=b)),Cf(p.slice(I,I+=b)),Cf(p.slice(I,I+=b)),Cf(p.slice(I,I+b)||"ff")]}if(p.startsWith("rgb")){let b=p.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){let[I,A,O,D,F,U,Z,W,X,ne,le,Ee]=b,me=[D||" ",Z||" ",ne].join("");if(me==="  "||me==="  /"||me===",,"||me===",,,"){let ye=[O,U,X].join(""),Ae=ye==="%%%"?100:ye===""?255:0;if(Ae){let Oe=[Wt(+A/Ae,0,1),Wt(+F/Ae,0,1),Wt(+W/Ae,0,1),le?Aa(+le,Ee):1];if(_u(Oe))return Oe}}return}}let x=p.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){let[b,I,A,O,D,F,U,Z,W]=x,X=[A||" ",D||" ",U].join("");if(X==="  "||X==="  /"||X===",,"||X===",,,"){let ne=[+I,Wt(+O,0,100),Wt(+F,0,100),Z?Aa(+Z,W):1];if(_u(ne))return function([le,Ee,me,ye]){function Ae(Oe){let Ue=(Oe+le/30)%12,et=Ee*Math.min(me,1-me);return me-et*Math.max(-1,Math.min(Ue-3,9-Ue,1))}return le=ay(le),Ee/=100,me/=100,[Ae(0),Ae(8),Ae(4),ye]}(ne)}}}(s);return l?new Ht(...l,!1):void 0}get rgb(){let{r:s,g:l,b:p,a:m}=this,x=m||1/0;return this.overwriteGetter("rgb",[s/x,l/x,p/x,m])}get hcl(){return this.overwriteGetter("hcl",function(s){let[l,p,m,x]=Oc(s),b=Math.sqrt(p*p+m*m);return[Math.round(1e4*b)?ay(Math.atan2(m,p)*PM):NaN,b,l,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Oc(this.rgb))}overwriteGetter(s,l){return Object.defineProperty(this,s,{value:l}),l}toString(){let[s,l,p,m]=this.rgb;return`rgba(${[s,l,p].map(x=>Math.round(255*x)).join(",")},${m})`}static interpolate(s,l,p,m="rgb"){switch(m){case"rgb":{let[x,b,I,A]=xu(s.rgb,l.rgb,p);return new Ht(x,b,I,A,!1)}case"hcl":{let[x,b,I,A]=s.hcl,[O,D,F,U]=l.hcl,Z,W;if(isNaN(x)||isNaN(O))isNaN(x)?isNaN(O)?Z=NaN:(Z=O,I!==1&&I!==0||(W=D)):(Z=x,F!==1&&F!==0||(W=b));else{let me=O-x;O>x&&me>180?me-=360:O<x&&x-O>180&&(me+=360),Z=x+p*me}let[X,ne,le,Ee]=function([me,ye,Ae,Oe]){return me=isNaN(me)?0:me*CM,Lc([Ae,Math.cos(me)*ye,Math.sin(me)*ye,Oe])}([Z,W!=null?W:Fs(b,D,p),Fs(I,F,p),Fs(A,U,p)]);return new Ht(X,ne,le,Ee,!1)}case"lab":{let[x,b,I,A]=Lc(xu(s.lab,l.lab,p));return new Ht(x,b,I,A,!1)}}}}Ht.black=new Ht(0,0,0,1),Ht.white=new Ht(1,1,1,1),Ht.transparent=new Ht(0,0,0,0),Ht.red=new Ht(1,0,0,1);class bu{constructor(s,l,p){this.sensitivity=s?l?"variant":"case":l?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,l){return this.collator.compare(s,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let yd=["bottom","center","top"];class _d{constructor(s,l,p,m,x,b){this.text=s,this.image=l,this.scale=p,this.fontStack=m,this.textColor=x,this.verticalAlign=b}}class Bi{constructor(s){this.sections=s}static fromString(s){return new Bi([new _d(s,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof Bi?s:Bi.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class Qn{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Qn)return s;if(typeof s=="number")return new Qn([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let l of s)if(typeof l!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]]}return new Qn(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,p){return new Qn(xu(s.values,l.values,p))}}class Ui{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ui)return s;if(typeof s=="number")return new Ui([s]);if(Array.isArray(s)){for(let l of s)if(typeof l!="number")return;return new Ui(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,p){return new Ui(xu(s.values,l.values,p))}}class Ln{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ln)return s;if(typeof s=="string"){let p=Ht.parse(s);return p?new Ln([p]):void 0}if(!Array.isArray(s))return;let l=[];for(let p of s){if(typeof p!="string")return;let m=Ht.parse(p);if(!m)return;l.push(m)}return new Ln(l)}toString(){return JSON.stringify(this.values)}static interpolate(s,l,p,m="rgb"){let x=[];if(s.values.length!=l.values.length)throw new Error(`colorArray: Arrays have mismatched length (${s.values.length} vs. ${l.values.length}), cannot interpolate.`);for(let b=0;b<s.values.length;b++)x.push(Ht.interpolate(s.values[b],l.values[b],p,m));return new Ln(x)}}class Or extends Error{constructor(s){super(s),this.name="RuntimeError"}toJSON(){return this.message}}let F1=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Vi{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Vi)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let l=0;l<s.length;l+=2){let p=s[l],m=s[l+1];if(typeof p!="string"||!F1.has(p)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new Vi(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,p){let m=s.values,x=l.values;if(m.length!==x.length)throw new Or(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${l.toString()}`);let b=[];for(let I=0;I<m.length;I+=2){if(m[I]!==x[I])throw new Or(`Cannot interpolate values containing mismatched anchors. from[${I}]: ${m[I]}, to[${I}]: ${x[I]}`);b.push(m[I]);let[A,O]=m[I+1],[D,F]=x[I+1];b.push([Fs(A,D,p),Fs(O,F,p)])}return new Vi(b)}}class Oo{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new Oo({name:s,available:!1}):null}}class Pi{constructor(s,l,p){this.from=s,this.to=l,this.transition=p}static interpolate(s,l,p){return new Pi(s,l,p)}static parse(s){return s instanceof Pi?s:Array.isArray(s)&&s.length===3&&typeof s[0]=="string"&&typeof s[1]=="string"&&typeof s[2]=="number"?new Pi(s[0],s[1],s[2]):typeof s=="object"&&typeof s.from=="string"&&typeof s.to=="string"&&typeof s.transition=="number"?new Pi(s.from,s.to,s.transition):typeof s=="string"?new Pi(s,s,1):void 0}}function $r(u,s,l,p){return typeof u=="number"&&u>=0&&u<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof l=="number"&&l>=0&&l<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[u,s,l,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[u,s,l,p]:[u,s,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function wu(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Pi||u instanceof Ht||u instanceof bu||u instanceof Bi||u instanceof Qn||u instanceof Ui||u instanceof Ln||u instanceof Vi||u instanceof Oo)return!0;if(Array.isArray(u)){for(let s of u)if(!wu(s))return!1;return!0}if(typeof u=="object"){for(let s in u)if(!wu(u[s]))return!1;return!0}return!1}function xt(u){if(u===null)return Mc;if(typeof u=="string")return Zt;if(typeof u=="boolean")return Ft;if(typeof u=="number")return tt;if(u instanceof Ht)return di;if(u instanceof Pi)return yu;if(u instanceof bu)return md;if(u instanceof Bi)return _l;if(u instanceof Qn)return vd;if(u instanceof Ui)return qc;if(u instanceof Ln)return is;if(u instanceof Vi)return gd;if(u instanceof Oo)return mn;if(Array.isArray(u)){let s=u.length,l;for(let p of u){let m=xt(p);if(l){if(l===m)continue;l=Dt;break}l=m}return ho(l||Dt,s)}return yl}function qt(u){let s=typeof u;return u===null?"":s==="string"||s==="number"||s==="boolean"?String(u):u instanceof Ht||u instanceof Pi||u instanceof Bi||u instanceof Qn||u instanceof Ui||u instanceof Ln||u instanceof Vi||u instanceof Oo?u.toString():JSON.stringify(u)}class zs{constructor(s,l){this.type=s,this.value=l}static parse(s,l){if(s.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!wu(s[1]))return l.error("invalid value");let p=s[1],m=xt(p),x=l.expectedType;return m.kind!=="array"||m.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(m=x),new zs(m,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let or={string:Zt,number:tt,boolean:Ft,object:yl};class Lo{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let p,m=1,x=s[0];if(x==="array"){let I,A;if(s.length>2){let O=s[1];if(typeof O!="string"||!(O in or)||O==="object")return l.error("The item type argument of \"array\" must be one of string, number, boolean",1);I=or[O],m++}else I=Dt;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return l.error("The length argument to \"array\" must be a positive integer literal",2);A=s[2],m++}p=ho(I,A)}else{if(!or[x])throw new Error(`Types doesn't contain name = ${x}`);p=or[x]}let b=[];for(;m<s.length;m++){let I=l.parse(s[m],m,Dt);if(!I)return null;b.push(I)}return new Lo(p,b)}evaluate(s){for(let l=0;l<this.args.length;l++){let p=this.args[l].evaluate(s);if(!If(this.type,xt(p)))return p;if(l===this.args.length-1)throw new Or(`Expected value to be of type ${Rr(this.type)}, but found ${Rr(xt(p))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let os={"to-boolean":Ft,"to-color":di,"to-number":tt,"to-string":Zt};class as{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let p=s[0];if(!os[p])throw new Error(`Can't parse ${p} as it is not part of the known types`);if((p==="to-boolean"||p==="to-string")&&s.length!==2)return l.error("Expected one argument.");let m=os[p],x=[];for(let b=1;b<s.length;b++){let I=l.parse(s[b],b,Dt);if(!I)return null;x.push(I)}return new as(m,x)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let l,p;for(let m of this.args){if(l=m.evaluate(s),p=null,l instanceof Ht)return l;if(typeof l=="string"){let x=s.parseColor(l);if(x)return x}else if(Array.isArray(l)&&(p=l.length<3||l.length>4?`Invalid rgba value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:$r(l[0],l[1],l[2],l[3]),!p))return new Ht(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Or(p||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(let p of this.args){l=p.evaluate(s);let m=Qn.parse(l);if(m)return m}throw new Or(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"numberArray":{let l;for(let p of this.args){l=p.evaluate(s);let m=Ui.parse(l);if(m)return m}throw new Or(`Could not parse numberArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"colorArray":{let l;for(let p of this.args){l=p.evaluate(s);let m=Ln.parse(l);if(m)return m}throw new Or(`Could not parse colorArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(let p of this.args){l=p.evaluate(s);let m=Vi.parse(l);if(m)return m}throw new Or(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(let p of this.args){if(l=p.evaluate(s),l===null)return 0;let m=Number(l);if(!isNaN(m))return m}throw new Or(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return Bi.fromString(qt(this.args[0].evaluate(s)));case"resolvedImage":return Oo.fromString(qt(this.args[0].evaluate(s)));case"projectionDefinition":return this.args[0].evaluate(s);default:return qt(this.args[0].evaluate(s))}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let xd=["Unknown","Point","LineString","Polygon"];class hy{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?xd[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let l=this._parseColorCache.get(s);return l||(l=Ht.parse(s),this._parseColorCache.set(s,l)),l}}class kc{constructor(s,l,p=[],m,x=new gl,b=[]){this.registry=s,this.path=p,this.key=p.map(I=>`[${I}]`).join(""),this.scope=x,this.errors=b,this.expectedType=m,this._isConstant=l}parse(s,l,p,m,x={}){return l?this.concat(l,p,m)._parse(s,x):this._parse(s,x)}_parse(s,l){function p(m,x,b){return b==="assert"?new Lo(x,[m]):b==="coerce"?new as(x,[m]):m}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let m=s[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let x=this.registry[m];if(x){let b=x.parse(s,this);if(!b)return null;if(this.expectedType){let I=this.expectedType,A=b.type;if(I.kind!=="string"&&I.kind!=="number"&&I.kind!=="boolean"&&I.kind!=="object"&&I.kind!=="array"||A.kind!=="value"){if(I.kind==="projectionDefinition"&&["string","array"].includes(A.kind)||["color","formatted","resolvedImage"].includes(I.kind)&&["value","string"].includes(A.kind)||["padding","numberArray"].includes(I.kind)&&["value","number","array"].includes(A.kind)||I.kind==="colorArray"&&["value","string","array"].includes(A.kind)||I.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(A.kind))b=p(b,I,l.typeAnnotation||"coerce");else if(this.checkSubtype(I,A))return null}else b=p(b,I,l.typeAnnotation||"assert")}if(!(b instanceof zs)&&b.type.kind!=="resolvedImage"&&this._isConstant(b)){let I=new hy;try{b=new zs(b.type,b.evaluate(I))}catch(A){return this.error(A.message),null}}return b}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,l,p){let m=typeof s=="number"?this.path.concat(s):this.path,x=p?this.scope.concat(p):this.scope;return new kc(this.registry,this._isConstant,m,l||null,x,this.errors)}error(s,...l){let p=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new an(p,s))}checkSubtype(s,l){let p=If(s,l);return p&&this.error(p),p}}class Pf{constructor(s,l){this.type=l.type,this.bindings=[].concat(s),this.result=l}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let l of this.bindings)s(l[1]);s(this.result)}static parse(s,l){if(s.length<4)return l.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let p=[];for(let x=1;x<s.length-1;x+=2){let b=s[x];if(typeof b!="string")return l.error(`Expected string, but found ${typeof b} instead.`,x);if(/[^a-zA-Z0-9_]/.test(b))return l.error("Variable names must contain only alphanumeric characters or '_'.",x);let I=l.parse(s[x+1],x+1);if(!I)return null;p.push([b,I])}let m=l.parse(s[s.length-1],s.length-1,l.expectedType,p);return m?new Pf(p,m):null}outputDefined(){return this.result.outputDefined()}}class bd{constructor(s,l){this.type=l.type,this.name=s,this.boundExpression=l}static parse(s,l){if(s.length!==2||typeof s[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");let p=s[1];return l.scope.has(p)?new bd(p,l.scope.get(p)):l.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class wd{constructor(s,l,p){this.type=s,this.index=l,this.input=p}static parse(s,l){if(s.length!==3)return l.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let p=l.parse(s[1],1,tt),m=l.parse(s[2],2,ho(l.expectedType||Dt));return p&&m?new wd(m.type.itemType,p,m):null}evaluate(s){let l=this.index.evaluate(s),p=this.input.evaluate(s);if(l<0)throw new Or(`Array index out of bounds: ${l} < 0.`);if(l>=p.length)throw new Or(`Array index out of bounds: ${l} > ${p.length-1}.`);if(l!==Math.floor(l))throw new Or(`Array index must be an integer, but found ${l} instead.`);return p[l]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class Ed{constructor(s,l){this.type=Ft,this.needle=s,this.haystack=l}static parse(s,l){if(s.length!==3)return l.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let p=l.parse(s[1],1,Dt),m=l.parse(s[2],2,Dt);return p&&m?iy(p.type,[Ft,Zt,tt,Mc,Dt])?new Ed(p,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Rr(p.type)} instead`):null}evaluate(s){let l=this.needle.evaluate(s),p=this.haystack.evaluate(s);if(!p)return!1;if(!xl(l,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${Rr(xt(l))} instead.`);if(!xl(p,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${Rr(xt(p))} instead.`);return p.indexOf(l)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class Ma{constructor(s,l,p){this.type=tt,this.needle=s,this.haystack=l,this.fromIndex=p}static parse(s,l){if(s.length<=2||s.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let p=l.parse(s[1],1,Dt),m=l.parse(s[2],2,Dt);if(!p||!m)return null;if(!iy(p.type,[Ft,Zt,tt,Mc,Dt]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Rr(p.type)} instead`);if(s.length===4){let x=l.parse(s[3],3,tt);return x?new Ma(p,m,x):null}return new Ma(p,m)}evaluate(s){let l=this.needle.evaluate(s),p=this.haystack.evaluate(s);if(!xl(l,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${Rr(xt(l))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(s)),xl(p,["string"])){let x=p.indexOf(l,m);return x===-1?-1:[...p.slice(0,x)].length}if(xl(p,["array"]))return p.indexOf(l,m);throw new Or(`Expected second argument to be of type array or string, but found ${Rr(xt(p))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class ei{constructor(s,l,p,m,x,b){this.inputType=s,this.type=l,this.input=p,this.cases=m,this.outputs=x,this.otherwise=b}static parse(s,l){if(s.length<5)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return l.error("Expected an even number of arguments.");let p,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);let x={},b=[];for(let O=2;O<s.length-1;O+=2){let D=s[O],F=s[O+1];Array.isArray(D)||(D=[D]);let U=l.concat(O);if(D.length===0)return U.error("Expected at least one branch label.");for(let W of D){if(typeof W!="number"&&typeof W!="string")return U.error("Branch labels must be numbers or strings.");if(typeof W=="number"&&Math.abs(W)>Number.MAX_SAFE_INTEGER)return U.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof W=="number"&&Math.floor(W)!==W)return U.error("Numeric branch labels must be integer values.");if(p){if(U.checkSubtype(p,xt(W)))return null}else p=xt(W);if(x[String(W)]!==void 0)return U.error("Branch labels must be unique.");x[String(W)]=b.length}let Z=l.parse(F,O,m);if(!Z)return null;m=m||Z.type,b.push(Z)}let I=l.parse(s[1],1,Dt);if(!I)return null;let A=l.parse(s[s.length-1],s.length-1,m);return A?I.type.kind!=="value"&&l.concat(1).checkSubtype(p,I.type)?null:new ei(p,m,I,x,b,A):null}evaluate(s){let l=this.input.evaluate(s);return(xt(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class Nc{constructor(s,l,p){this.type=s,this.branches=l,this.otherwise=p}static parse(s,l){if(s.length<4)return l.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return l.error("Expected an odd number of arguments.");let p;l.expectedType&&l.expectedType.kind!=="value"&&(p=l.expectedType);let m=[];for(let b=1;b<s.length-1;b+=2){let I=l.parse(s[b],b,Ft);if(!I)return null;let A=l.parse(s[b+1],b+1,p);if(!A)return null;m.push([I,A]),p=p||A.type}let x=l.parse(s[s.length-1],s.length-1,p);if(!x)return null;if(!p)throw new Error("Can't infer output type");return new Nc(p,m,x)}evaluate(s){for(let[l,p]of this.branches)if(l.evaluate(s))return p.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[l,p]of this.branches)s(l),s(p);s(this.otherwise)}outputDefined(){return this.branches.every(([s,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class Af{constructor(s,l,p,m){this.type=s,this.input=l,this.beginIndex=p,this.endIndex=m}static parse(s,l){if(s.length<=2||s.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let p=l.parse(s[1],1,Dt),m=l.parse(s[2],2,tt);if(!p||!m)return null;if(!iy(p.type,[ho(Dt),Zt,Dt]))return l.error(`Expected first argument to be of type array or string, but found ${Rr(p.type)} instead`);if(s.length===4){let x=l.parse(s[3],3,tt);return x?new Af(p.type,p,m,x):null}return new Af(p.type,p,m)}evaluate(s){let l=this.input.evaluate(s),p=this.beginIndex.evaluate(s),m;if(this.endIndex&&(m=this.endIndex.evaluate(s)),xl(l,["string"]))return[...l].slice(p,m).join("");if(xl(l,["array"]))return l.slice(p,m);throw new Or(`Expected first argument to be of type array or string, but found ${Rr(xt(l))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function Eu(u,s){let l=u.length-1,p,m,x=0,b=l,I=0;for(;x<=b;)if(I=Math.floor((x+b)/2),p=u[I],m=u[I+1],p<=s){if(I===l||s<m)return I;x=I+1}else{if(!(p>s))throw new Or("Input is not a number.");b=I-1}return 0}class vn{constructor(s,l,p){this.type=s,this.input=l,this.labels=[],this.outputs=[];for(let[m,x]of p)this.labels.push(m),this.outputs.push(x)}static parse(s,l){if(s.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return l.error("Expected an even number of arguments.");let p=l.parse(s[1],1,tt);if(!p)return null;let m=[],x=null;l.expectedType&&l.expectedType.kind!=="value"&&(x=l.expectedType);for(let b=1;b<s.length;b+=2){let I=b===1?-1/0:s[b],A=s[b+1],O=b,D=b+1;if(typeof I!="number")return l.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",O);if(m.length&&m[m.length-1][0]>=I)return l.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",O);let F=l.parse(A,D,x);if(!F)return null;x=x||F.type,m.push([I,F])}return new vn(x,p,m)}evaluate(s){let l=this.labels,p=this.outputs;if(l.length===1)return p[0].evaluate(s);let m=this.input.evaluate(s);if(m<=l[0])return p[0].evaluate(s);let x=l.length;return m>=l[x-1]?p[x-1].evaluate(s):p[Eu(l,m)].evaluate(s)}eachChild(s){s(this.input);for(let l of this.outputs)s(l)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function z1(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Mf,fy,MM=function(){if(fy)return Mf;function u(s,l,p,m){this.cx=3*s,this.bx=3*(p-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=l,this.p2x=p,this.p2y=m}return fy=1,Mf=u,u.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,l){if(l===void 0&&(l=1e-6),s<0)return 0;if(s>1)return 1;for(var p=s,m=0;m<8;m++){var x=this.sampleCurveX(p)-s;if(Math.abs(x)<l)return p;var b=this.sampleCurveDerivativeX(p);if(Math.abs(b)<1e-6)break;p-=x/b}var I=0,A=1;for(p=s,m=0;m<20&&(x=this.sampleCurveX(p),!(Math.abs(x-s)<l));m++)s>x?I=p:A=p,p=.5*(A-I)+I;return p},solve:function(s,l){return this.sampleCurveY(this.solveCurveX(s,l))}},Mf}(),Fc=z1(MM);class mi{constructor(s,l,p,m,x){this.type=s,this.operator=l,this.interpolation=p,this.input=m,this.labels=[],this.outputs=[];for(let[b,I]of x)this.labels.push(b),this.outputs.push(I)}static interpolationFactor(s,l,p,m){let x=0;if(s.name==="exponential")x=qf(l,s.base,p,m);else if(s.name==="linear")x=qf(l,1,p,m);else if(s.name==="cubic-bezier"){let b=s.controlPoints;x=new Fc(b[0],b[1],b[2],b[3]).solve(qf(l,1,p,m))}return x}static parse(s,l){let[p,m,x,...b]=s;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){let O=m[1];if(typeof O!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:O}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{let O=m.slice(1);if(O.length!==4||O.some(D=>typeof D!="number"||D<0||D>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:O}}}if(s.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(x=l.parse(x,2,tt),!x)return null;let I=[],A=null;p!=="interpolate-hcl"&&p!=="interpolate-lab"||l.expectedType==is?l.expectedType&&l.expectedType.kind!=="value"&&(A=l.expectedType):A=di;for(let O=0;O<b.length;O+=2){let D=b[O],F=b[O+1],U=O+3,Z=O+4;if(typeof D!="number")return l.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",U);if(I.length&&I[I.length-1][0]>=D)return l.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",U);let W=l.parse(F,Z,A);if(!W)return null;A=A||W.type,I.push([D,W])}return bl(A,tt)||bl(A,yu)||bl(A,di)||bl(A,vd)||bl(A,qc)||bl(A,is)||bl(A,gd)||bl(A,ho(tt))?new mi(A,p,m,x,I):l.error(`Type ${Rr(A)} is not interpolatable.`)}evaluate(s){let l=this.labels,p=this.outputs;if(l.length===1)return p[0].evaluate(s);let m=this.input.evaluate(s);if(m<=l[0])return p[0].evaluate(s);let x=l.length;if(m>=l[x-1])return p[x-1].evaluate(s);let b=Eu(l,m),I=mi.interpolationFactor(this.interpolation,m,l[b],l[b+1]),A=p[b].evaluate(s),O=p[b+1].evaluate(s);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Fs(A,O,I);case"color":return Ht.interpolate(A,O,I);case"padding":return Qn.interpolate(A,O,I);case"colorArray":return Ln.interpolate(A,O,I);case"numberArray":return Ui.interpolate(A,O,I);case"variableAnchorOffsetCollection":return Vi.interpolate(A,O,I);case"array":return xu(A,O,I);case"projectionDefinition":return Pi.interpolate(A,O,I)}case"interpolate-hcl":switch(this.type.kind){case"color":return Ht.interpolate(A,O,I,"hcl");case"colorArray":return Ln.interpolate(A,O,I,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Ht.interpolate(A,O,I,"lab");case"colorArray":return Ln.interpolate(A,O,I,"lab")}}}eachChild(s){s(this.input);for(let l of this.outputs)s(l)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function qf(u,s,l,p){let m=p-l,x=u-l;return m===0?0:s===1?x/m:(Math.pow(s,x)-1)/(Math.pow(s,m)-1)}let ss={color:Ht.interpolate,number:Fs,padding:Qn.interpolate,numberArray:Ui.interpolate,colorArray:Ln.interpolate,variableAnchorOffsetCollection:Vi.interpolate,array:xu};class Rf{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let p=null,m=l.expectedType;m&&m.kind!=="value"&&(p=m);let x=[];for(let I of s.slice(1)){let A=l.parse(I,1+x.length,p,void 0,{typeAnnotation:"omit"});if(!A)return null;p=p||A.type,x.push(A)}if(!p)throw new Error("No output type");let b=m&&x.some(I=>If(m,I.type));return new Rf(b?Dt:p,x)}evaluate(s){let l,p=null,m=0;for(let x of this.args)if(m++,p=x.evaluate(s),p&&p instanceof Oo&&!p.available&&(l||(l=p.name),p=null,m===this.args.length&&(p=l)),p!==null)break;return p}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function Of(u,s){return u==="=="||u==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function Lf(u,s,l,p){return p.compare(s,l)===0}function Ai(u,s,l){let p=u!=="=="&&u!=="!=";return class Zbe{constructor(x,b,I){this.type=Ft,this.lhs=x,this.rhs=b,this.collator=I,this.hasUntypedArgument=x.type.kind==="value"||b.type.kind==="value"}static parse(x,b){if(x.length!==3&&x.length!==4)return b.error("Expected two or three arguments.");let I=x[0],A=b.parse(x[1],1,Dt);if(!A)return null;if(!Of(I,A.type))return b.concat(1).error(`"${I}" comparisons are not supported for type '${Rr(A.type)}'.`);let O=b.parse(x[2],2,Dt);if(!O)return null;if(!Of(I,O.type))return b.concat(2).error(`"${I}" comparisons are not supported for type '${Rr(O.type)}'.`);if(A.type.kind!==O.type.kind&&A.type.kind!=="value"&&O.type.kind!=="value")return b.error(`Cannot compare types '${Rr(A.type)}' and '${Rr(O.type)}'.`);p&&(A.type.kind==="value"&&O.type.kind!=="value"?A=new Lo(O.type,[A]):A.type.kind!=="value"&&O.type.kind==="value"&&(O=new Lo(A.type,[O])));let D=null;if(x.length===4){if(A.type.kind!=="string"&&O.type.kind!=="string"&&A.type.kind!=="value"&&O.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(D=b.parse(x[3],3,md),!D)return null}return new Zbe(A,O,D)}evaluate(x){let b=this.lhs.evaluate(x),I=this.rhs.evaluate(x);if(p&&this.hasUntypedArgument){let A=xt(b),O=xt(I);if(A.kind!==O.kind||A.kind!=="string"&&A.kind!=="number")throw new Or(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${A.kind}, ${O.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){let A=xt(b),O=xt(I);if(A.kind!=="string"||O.kind!=="string")return s(x,b,I)}return this.collator?l(x,b,I,this.collator.evaluate(x)):s(x,b,I)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}let j1=Ai("==",function(u,s,l){return s===l},Lf),Sd=Ai("!=",function(u,s,l){return s!==l},function(u,s,l,p){return!Lf(0,s,l,p)}),qM=Ai("<",function(u,s,l){return s<l},function(u,s,l,p){return p.compare(s,l)<0}),py=Ai(">",function(u,s,l){return s>l},function(u,s,l,p){return p.compare(s,l)>0}),RM=Ai("<=",function(u,s,l){return s<=l},function(u,s,l,p){return p.compare(s,l)<=0}),OM=Ai(">=",function(u,s,l){return s>=l},function(u,s,l,p){return p.compare(s,l)>=0});class Td{constructor(s,l,p){this.type=md,this.locale=p,this.caseSensitive=s,this.diacriticSensitive=l}static parse(s,l){if(s.length!==2)return l.error("Expected one argument.");let p=s[1];if(typeof p!="object"||Array.isArray(p))return l.error("Collator options argument must be an object.");let m=l.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,Ft);if(!m)return null;let x=l.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,Ft);if(!x)return null;let b=null;return p.locale&&(b=l.parse(p.locale,1,Zt),!b)?null:new Td(m,x,b)}evaluate(s){return new bu(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class dy{constructor(s,l,p,m,x){this.type=Zt,this.number=s,this.locale=l,this.currency=p,this.minFractionDigits=m,this.maxFractionDigits=x}static parse(s,l){if(s.length!==3)return l.error("Expected two arguments.");let p=l.parse(s[1],1,tt);if(!p)return null;let m=s[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let x=null;if(m.locale&&(x=l.parse(m.locale,1,Zt),!x))return null;let b=null;if(m.currency&&(b=l.parse(m.currency,1,Zt),!b))return null;let I=null;if(m["min-fraction-digits"]&&(I=l.parse(m["min-fraction-digits"],1,tt),!I))return null;let A=null;return m["max-fraction-digits"]&&(A=l.parse(m["max-fraction-digits"],1,tt),!A)?null:new dy(p,x,b,I,A)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class Su{constructor(s){this.type=_l,this.sections=s}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let p=s[1];if(!Array.isArray(p)&&typeof p=="object")return l.error("First argument must be an image or text section.");let m=[],x=!1;for(let b=1;b<=s.length-1;++b){let I=s[b];if(x&&typeof I=="object"&&!Array.isArray(I)){x=!1;let A=null;if(I["font-scale"]&&(A=l.parse(I["font-scale"],1,tt),!A))return null;let O=null;if(I["text-font"]&&(O=l.parse(I["text-font"],1,ho(Zt)),!O))return null;let D=null;if(I["text-color"]&&(D=l.parse(I["text-color"],1,di),!D))return null;let F=null;if(I["vertical-align"]){if(typeof I["vertical-align"]=="string"&&!yd.includes(I["vertical-align"]))return l.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${I["vertical-align"]}' instead.`);if(F=l.parse(I["vertical-align"],1,Zt),!F)return null}let U=m[m.length-1];U.scale=A,U.font=O,U.textColor=D,U.verticalAlign=F}else{let A=l.parse(s[b],1,Dt);if(!A)return null;let O=A.type.kind;if(O!=="string"&&O!=="value"&&O!=="null"&&O!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,m.push({content:A,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Su(m)}evaluate(s){return new Bi(this.sections.map(l=>{let p=l.content.evaluate(s);return xt(p)===mn?new _d("",p,null,null,null,l.verticalAlign?l.verticalAlign.evaluate(s):null):new _d(qt(p),null,l.scale?l.scale.evaluate(s):null,l.font?l.font.evaluate(s).join(","):null,l.textColor?l.textColor.evaluate(s):null,l.verticalAlign?l.verticalAlign.evaluate(s):null)}))}eachChild(s){for(let l of this.sections)s(l.content),l.scale&&s(l.scale),l.font&&s(l.font),l.textColor&&s(l.textColor),l.verticalAlign&&s(l.verticalAlign)}outputDefined(){return!1}}class my{constructor(s){this.type=mn,this.input=s}static parse(s,l){if(s.length!==2)return l.error("Expected two arguments.");let p=l.parse(s[1],1,Zt);return p?new my(p):l.error("No image name provided.")}evaluate(s){let l=this.input.evaluate(s),p=Oo.fromString(l);return p&&s.availableImages&&(p.available=s.availableImages.indexOf(l)>-1),p}eachChild(s){s(this.input)}outputDefined(){return!1}}class Id{constructor(s){this.type=tt,this.input=s}static parse(s,l){if(s.length!==2)return l.error(`Expected 1 argument, but found ${s.length-1} instead.`);let p=l.parse(s[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Rr(p.type)} instead.`):new Id(p):null}evaluate(s){let l=this.input.evaluate(s);if(typeof l=="string")return[...l].length;if(Array.isArray(l))return l.length;throw new Or(`Expected value to be of type string or array, but found ${Rr(xt(l))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let qa=8192;function LM(u,s){let l=(180+u[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,m=Math.pow(2,s.z);return[Math.round(l*m*qa),Math.round(p*m*qa)]}function Cd(u,s){let l=Math.pow(2,s.z);return[(m=(u[0]/qa+s.x)/l,360*m-180),(p=(u[1]/qa+s.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90)];var p,m}function Df(u,s){u[0]=Math.min(u[0],s[0]),u[1]=Math.min(u[1],s[1]),u[2]=Math.max(u[2],s[0]),u[3]=Math.max(u[3],s[1])}function kf(u,s){return!(u[0]<=s[0]||u[2]>=s[2]||u[1]<=s[1]||u[3]>=s[3])}function DM(u,s,l){let p=u[0]-s[0],m=u[1]-s[1],x=u[0]-l[0],b=u[1]-l[1];return p*b-x*m==0&&p*x<=0&&m*b<=0}function Pd(u,s,l,p){return(m=[p[0]-l[0],p[1]-l[1]])[0]*(x=[s[0]-u[0],s[1]-u[1]])[1]-m[1]*x[0]!=0&&!(!U1(u,s,l,p)||!U1(l,p,u,s));var m,x}function kM(u,s,l){for(let p of l)for(let m=0;m<p.length-1;++m)if(Pd(u,s,p[m],p[m+1]))return!0;return!1}function Tu(u,s,l=!1){let p=!1;for(let I of s)for(let A=0;A<I.length-1;A++){if(DM(u,I[A],I[A+1]))return l;(x=I[A])[1]>(m=u)[1]!=(b=I[A+1])[1]>m[1]&&m[0]<(b[0]-x[0])*(m[1]-x[1])/(b[1]-x[1])+x[0]&&(p=!p)}var m,x,b;return p}function B1(u,s){for(let l of s)if(Tu(u,l))return!0;return!1}function vy(u,s){for(let l of u)if(!Tu(l,s))return!1;for(let l=0;l<u.length-1;++l)if(kM(u[l],u[l+1],s))return!1;return!0}function NM(u,s){for(let l of s)if(vy(u,l))return!0;return!1}function U1(u,s,l,p){let m=p[0]-l[0],x=p[1]-l[1],b=(u[0]-l[0])*x-m*(u[1]-l[1]),I=(s[0]-l[0])*x-m*(s[1]-l[1]);return b>0&&I<0||b<0&&I>0}function gy(u,s,l){let p=[];for(let m=0;m<u.length;m++){let x=[];for(let b=0;b<u[m].length;b++){let I=LM(u[m][b],l);Df(s,I),x.push(I)}p.push(x)}return p}function V1(u,s,l){let p=[];for(let m=0;m<u.length;m++){let x=gy(u[m],s,l);p.push(x)}return p}function Ad(u,s,l,p){if(u[0]<l[0]||u[0]>l[2]){let m=.5*p,x=u[0]-l[0]>m?-p:l[0]-u[0]>m?p:0;x===0&&(x=u[0]-l[2]>m?-p:l[2]-u[0]>m?p:0),u[0]+=x}Df(s,u)}function $1(u,s,l,p){let m=Math.pow(2,p.z)*qa,x=[p.x*qa,p.y*qa],b=[];for(let I of u)for(let A of I){let O=[A.x+x[0],A.y+x[1]];Ad(O,s,l,m),b.push(O)}return b}function G1(u,s,l,p){let m=Math.pow(2,p.z)*qa,x=[p.x*qa,p.y*qa],b=[];for(let A of u){let O=[];for(let D of A){let F=[D.x+x[0],D.y+x[1]];Df(s,F),O.push(F)}b.push(O)}if(s[2]-s[0]<=m/2){(I=s)[0]=I[1]=1/0,I[2]=I[3]=-1/0;for(let A of b)for(let O of A)Ad(O,s,l,m)}var I;return b}class Iu{constructor(s,l){this.type=Ft,this.geojson=s,this.geometries=l}static parse(s,l){if(s.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(wu(s[1])){let p=s[1];if(p.type==="FeatureCollection"){let m=[];for(let x of p.features){let{type:b,coordinates:I}=x.geometry;b==="Polygon"&&m.push(I),b==="MultiPolygon"&&m.push(...I)}if(m.length)return new Iu(p,{type:"MultiPolygon",coordinates:m})}else if(p.type==="Feature"){let m=p.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Iu(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new Iu(p,p)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(l,p){let m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(p.type==="Polygon"){let I=gy(p.coordinates,x,b),A=$1(l.geometry(),m,x,b);if(!kf(m,x))return!1;for(let O of A)if(!Tu(O,I))return!1}if(p.type==="MultiPolygon"){let I=V1(p.coordinates,x,b),A=$1(l.geometry(),m,x,b);if(!kf(m,x))return!1;for(let O of A)if(!B1(O,I))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(l,p){let m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(p.type==="Polygon"){let I=gy(p.coordinates,x,b),A=G1(l.geometry(),m,x,b);if(!kf(m,x))return!1;for(let O of A)if(!vy(O,I))return!1}if(p.type==="MultiPolygon"){let I=V1(p.coordinates,x,b),A=G1(l.geometry(),m,x,b);if(!kf(m,x))return!1;for(let O of A)if(!NM(O,I))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let yy=class{constructor(u=[],s=(l,p)=>l<p?-1:l>p?1:0){if(this.data=u,this.length=this.data.length,this.compare=s,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;let u=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),u}peek(){return this.data[0]}_up(u){let{data:s,compare:l}=this,p=s[u];for(;u>0;){let m=u-1>>1,x=s[m];if(l(p,x)>=0)break;s[u]=x,u=m}s[u]=p}_down(u){let{data:s,compare:l}=this,p=this.length>>1,m=s[u];for(;u<p;){let x=1+(u<<1),b=x+1;if(b<this.length&&l(s[b],s[x])<0&&(x=b),l(s[x],m)>=0)break;s[u]=s[x],u=x}s[u]=m}};function _y(u,s,l=0,p=u.length-1,m=FM){for(;p>l;){if(p-l>600){let A=p-l+1,O=s-l+1,D=Math.log(A),F=.5*Math.exp(2*D/3),U=.5*Math.sqrt(D*F*(A-F)/A)*(O-A/2<0?-1:1);_y(u,s,Math.max(l,Math.floor(s-O*F/A+U)),Math.min(p,Math.floor(s+(A-O)*F/A+U)),m)}let x=u[s],b=l,I=p;for(Nf(u,l,s),m(u[p],x)>0&&Nf(u,l,p);b<I;){for(Nf(u,b,I),b++,I--;m(u[b],x)<0;)b++;for(;m(u[I],x)>0;)I--}m(u[l],x)===0?Nf(u,l,I):(I++,Nf(u,I,p)),I<=s&&(l=I+1),s<=I&&(p=I-1)}}function Nf(u,s,l){let p=u[s];u[s]=u[l],u[l]=p}function FM(u,s){return u<s?-1:u>s?1:0}function Ff(u,s){if(u.length<=1)return[u];let l=[],p,m;for(let x of u){let b=zM(x);b!==0&&(x.area=Math.abs(b),m===void 0&&(m=b<0),m===b<0?(p&&l.push(p),p=[x]):p.push(x))}if(p&&l.push(p),s>1)for(let x=0;x<l.length;x++)l[x].length<=s||(_y(l[x],s,1,l[x].length-1,Z1),l[x]=l[x].slice(0,s));return l}function Z1(u,s){return s.area-u.area}function zM(u){let s=0;for(let l,p,m=0,x=u.length,b=x-1;m<x;b=m++)l=u[m],p=u[b],s+=(p.x-l.x)*(l.y+p.y);return s}let W1=1/298.257223563,H1=W1*(2-W1),xy=Math.PI/180;class by{constructor(s){let l=6378.137*xy*1e3,p=Math.cos(s*xy),m=1/(1-H1*(1-p*p)),x=Math.sqrt(m);this.kx=l*x*p,this.ky=l*x*m*(1-H1)}distance(s,l){let p=this.wrap(s[0]-l[0])*this.kx,m=(s[1]-l[1])*this.ky;return Math.sqrt(p*p+m*m)}pointOnLine(s,l){let p,m,x,b,I=1/0;for(let A=0;A<s.length-1;A++){let O=s[A][0],D=s[A][1],F=this.wrap(s[A+1][0]-O)*this.kx,U=(s[A+1][1]-D)*this.ky,Z=0;F===0&&U===0||(Z=(this.wrap(l[0]-O)*this.kx*F+(l[1]-D)*this.ky*U)/(F*F+U*U),Z>1?(O=s[A+1][0],D=s[A+1][1]):Z>0&&(O+=F/this.kx*Z,D+=U/this.ky*Z)),F=this.wrap(l[0]-O)*this.kx,U=(l[1]-D)*this.ky;let W=F*F+U*U;W<I&&(I=W,p=O,m=D,x=A,b=Z)}return{point:[p,m],index:x,t:Math.max(0,Math.min(1,b))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function K1(u,s){return s[0]-u[0]}function Md(u){return u[1]-u[0]+1}function js(u,s){return u[1]>=u[0]&&u[1]<s}function cr(u,s){if(u[0]>u[1])return[null,null];let l=Md(u);if(s){if(l===2)return[u,null];let m=Math.floor(l/2);return[[u[0],u[0]+m],[u[0]+m,u[1]]]}if(l===1)return[u,null];let p=Math.floor(l/2)-1;return[[u[0],u[0]+p],[u[0]+p+1,u[1]]]}function wy(u,s){if(!js(s,u.length))return[1/0,1/0,-1/0,-1/0];let l=[1/0,1/0,-1/0,-1/0];for(let p=s[0];p<=s[1];++p)Df(l,u[p]);return l}function Ey(u){let s=[1/0,1/0,-1/0,-1/0];for(let l of u)for(let p of l)Df(s,p);return s}function Y1(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function Sy(u,s,l){if(!Y1(u)||!Y1(s))return NaN;let p=0,m=0;return u[2]<s[0]&&(p=s[0]-u[2]),u[0]>s[2]&&(p=u[0]-s[2]),u[1]>s[3]&&(m=u[1]-s[3]),u[3]<s[1]&&(m=s[1]-u[3]),l.distance([0,0],[p,m])}function Cu(u,s,l){let p=l.pointOnLine(s,u);return l.distance(u,p.point)}function Ty(u,s,l,p,m){let x=Math.min(Cu(u,[l,p],m),Cu(s,[l,p],m)),b=Math.min(Cu(l,[u,s],m),Cu(p,[u,s],m));return Math.min(x,b)}function jM(u,s,l,p,m){if(!js(s,u.length)||!js(p,l.length))return 1/0;let x=1/0;for(let b=s[0];b<s[1];++b){let I=u[b],A=u[b+1];for(let O=p[0];O<p[1];++O){let D=l[O],F=l[O+1];if(Pd(I,A,D,F))return 0;x=Math.min(x,Ty(I,A,D,F,m))}}return x}function BM(u,s,l,p,m){if(!js(s,u.length)||!js(p,l.length))return NaN;let x=1/0;for(let b=s[0];b<=s[1];++b)for(let I=p[0];I<=p[1];++I)if(x=Math.min(x,m.distance(u[b],l[I])),x===0)return x;return x}function UM(u,s,l){if(Tu(u,s,!0))return 0;let p=1/0;for(let m of s){let x=m[0],b=m[m.length-1];if(x!==b&&(p=Math.min(p,Cu(u,[b,x],l)),p===0))return p;let I=l.pointOnLine(m,u);if(p=Math.min(p,l.distance(u,I.point)),p===0)return p}return p}function VM(u,s,l,p){if(!js(s,u.length))return NaN;for(let x=s[0];x<=s[1];++x)if(Tu(u[x],l,!0))return 0;let m=1/0;for(let x=s[0];x<s[1];++x){let b=u[x],I=u[x+1];for(let A of l)for(let O=0,D=A.length,F=D-1;O<D;F=O++){let U=A[F],Z=A[O];if(Pd(b,I,U,Z))return 0;m=Math.min(m,Ty(b,I,U,Z,p))}}return m}function X1(u,s){for(let l of u)for(let p of l)if(Tu(p,s,!0))return!0;return!1}function $M(u,s,l,p=1/0){let m=Ey(u),x=Ey(s);if(p!==1/0&&Sy(m,x,l)>=p)return p;if(kf(m,x)){if(X1(u,s))return 0}else if(X1(s,u))return 0;let b=1/0;for(let I of u)for(let A=0,O=I.length,D=O-1;A<O;D=A++){let F=I[D],U=I[A];for(let Z of s)for(let W=0,X=Z.length,ne=X-1;W<X;ne=W++){let le=Z[ne],Ee=Z[W];if(Pd(F,U,le,Ee))return 0;b=Math.min(b,Ty(F,U,le,Ee,l))}}return b}function J1(u,s,l,p,m,x){if(!x)return;let b=Sy(wy(p,x),m,l);b<s&&u.push([b,x,[0,0]])}function qd(u,s,l,p,m,x,b){if(!x||!b)return;let I=Sy(wy(p,x),wy(m,b),l);I<s&&u.push([I,x,b])}function Rd(u,s,l,p,m=1/0){let x=Math.min(p.distance(u[0],l[0][0]),m);if(x===0)return x;let b=new yy([[0,[0,u.length-1],[0,0]]],K1),I=Ey(l);for(;b.length>0;){let A=b.pop();if(A[0]>=x)continue;let O=A[1],D=s?50:100;if(Md(O)<=D){if(!js(O,u.length))return NaN;if(s){let F=VM(u,O,l,p);if(isNaN(F)||F===0)return F;x=Math.min(x,F)}else for(let F=O[0];F<=O[1];++F){let U=UM(u[F],l,p);if(x=Math.min(x,U),x===0)return 0}}else{let F=cr(O,s);J1(b,x,p,u,I,F[0]),J1(b,x,p,u,I,F[1])}}return x}function Od(u,s,l,p,m,x=1/0){let b=Math.min(x,m.distance(u[0],l[0]));if(b===0)return b;let I=new yy([[0,[0,u.length-1],[0,l.length-1]]],K1);for(;I.length>0;){let A=I.pop();if(A[0]>=b)continue;let O=A[1],D=A[2],F=s?50:100,U=p?50:100;if(Md(O)<=F&&Md(D)<=U){if(!js(O,u.length)&&js(D,l.length))return NaN;let Z;if(s&&p)Z=jM(u,O,l,D,m),b=Math.min(b,Z);else if(s&&!p){let W=u.slice(O[0],O[1]+1);for(let X=D[0];X<=D[1];++X)if(Z=Cu(l[X],W,m),b=Math.min(b,Z),b===0)return b}else if(!s&&p){let W=l.slice(D[0],D[1]+1);for(let X=O[0];X<=O[1];++X)if(Z=Cu(u[X],W,m),b=Math.min(b,Z),b===0)return b}else Z=BM(u,O,l,D,m),b=Math.min(b,Z)}else{let Z=cr(O,s),W=cr(D,p);qd(I,b,m,u,l,Z[0],W[0]),qd(I,b,m,u,l,Z[0],W[1]),qd(I,b,m,u,l,Z[1],W[0]),qd(I,b,m,u,l,Z[1],W[1])}}return b}function Iy(u){return u.type==="MultiPolygon"?u.coordinates.map(s=>({type:"Polygon",coordinates:s})):u.type==="MultiLineString"?u.coordinates.map(s=>({type:"LineString",coordinates:s})):u.type==="MultiPoint"?u.coordinates.map(s=>({type:"Point",coordinates:s})):[u]}class Pu{constructor(s,l){this.type=tt,this.geojson=s,this.geometries=l}static parse(s,l){if(s.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(wu(s[1])){let p=s[1];if(p.type==="FeatureCollection")return new Pu(p,p.features.map(m=>Iy(m.geometry)).flat());if(p.type==="Feature")return new Pu(p,Iy(p.geometry));if("type"in p&&"coordinates"in p)return new Pu(p,Iy(p))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(l,p){let m=l.geometry(),x=m.flat().map(A=>Cd([A.x,A.y],l.canonical));if(m.length===0)return NaN;let b=new by(x[0][1]),I=1/0;for(let A of p){switch(A.type){case"Point":I=Math.min(I,Od(x,!1,[A.coordinates],!1,b,I));break;case"LineString":I=Math.min(I,Od(x,!1,A.coordinates,!0,b,I));break;case"Polygon":I=Math.min(I,Rd(x,!1,A.coordinates,b,I))}if(I===0)return I}return I}(s,this.geometries);if(s.geometryType()==="LineString")return function(l,p){let m=l.geometry(),x=m.flat().map(A=>Cd([A.x,A.y],l.canonical));if(m.length===0)return NaN;let b=new by(x[0][1]),I=1/0;for(let A of p){switch(A.type){case"Point":I=Math.min(I,Od(x,!0,[A.coordinates],!1,b,I));break;case"LineString":I=Math.min(I,Od(x,!0,A.coordinates,!0,b,I));break;case"Polygon":I=Math.min(I,Rd(x,!0,A.coordinates,b,I))}if(I===0)return I}return I}(s,this.geometries);if(s.geometryType()==="Polygon")return function(l,p){let m=l.geometry();if(m.length===0||m[0].length===0)return NaN;let x=Ff(m,0).map(A=>A.map(O=>O.map(D=>Cd([D.x,D.y],l.canonical)))),b=new by(x[0][0][0][1]),I=1/0;for(let A of p)for(let O of x){switch(A.type){case"Point":I=Math.min(I,Rd([A.coordinates],!1,O,b,I));break;case"LineString":I=Math.min(I,Rd(A.coordinates,!0,O,b,I));break;case"Polygon":I=Math.min(I,$M(O,A.coordinates,b,I))}if(I===0)return I}return I}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class zf{constructor(s){this.type=Dt,this.key=s}static parse(s,l){if(s.length!==2)return l.error(`Expected 1 argument, but found ${s.length-1} instead.`);let p=s[1];return p==null?l.error("Global state property must be defined."):typeof p!="string"?l.error(`Global state property must be string, but found ${typeof s[1]} instead.`):new zf(p)}evaluate(s){var l;let p=(l=s.globals)===null||l===void 0?void 0:l.globalState;return p&&Object.keys(p).length!==0?Dc(p,this.key):null}eachChild(){}outputDefined(){return!1}}let zc={"==":j1,"!=":Sd,">":py,"<":qM,">=":OM,"<=":RM,array:Lo,at:wd,boolean:Lo,case:Nc,coalesce:Rf,collator:Td,format:Su,image:my,in:Ed,"index-of":Ma,interpolate:mi,"interpolate-hcl":mi,"interpolate-lab":mi,length:Id,let:Pf,literal:zs,match:ei,number:Lo,"number-format":dy,object:Lo,slice:Af,step:vn,string:Lo,"to-boolean":as,"to-color":as,"to-number":as,"to-string":as,var:bd,within:Iu,distance:Pu,"global-state":zf};class Xo{constructor(s,l,p,m){this.name=s,this.type=l,this._evaluate=p,this.args=m}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,l){let p=s[0],m=Xo.definitions[p];if(!m)return l.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);let x=Array.isArray(m)?m[0]:m.type,b=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,I=b.filter(([O])=>!Array.isArray(O)||O.length===s.length-1),A=null;for(let[O,D]of I){A=new kc(l.registry,Ld,l.path,null,l.scope);let F=[],U=!1;for(let Z=1;Z<s.length;Z++){let W=s[Z],X=Array.isArray(O)?O[Z-1]:O.type,ne=A.parse(W,1+F.length,X);if(!ne){U=!0;break}F.push(ne)}if(!U)if(Array.isArray(O)&&O.length!==F.length)A.error(`Expected ${O.length} arguments, but found ${F.length} instead.`);else{for(let Z=0;Z<F.length;Z++){let W=Array.isArray(O)?O[Z]:O.type,X=F[Z];A.concat(Z+1).checkSubtype(W,X.type)}if(A.errors.length===0)return new Xo(p,x,D,F)}}if(I.length===1)l.errors.push(...A.errors);else{let O=(I.length?I:b).map(([F])=>{return U=F,Array.isArray(U)?`(${U.map(Rr).join(", ")})`:`(${Rr(U.type)}...)`;var U}).join(" | "),D=[];for(let F=1;F<s.length;F++){let U=l.parse(s[F],1+D.length);if(!U)return null;D.push(Rr(U.type))}l.error(`Expected arguments of type ${O}, but found (${D.join(", ")}) instead.`)}return null}static register(s,l){Xo.definitions=l;for(let p in l)s[p]=Xo}}function Q1(u,[s,l,p,m]){s=s.evaluate(u),l=l.evaluate(u),p=p.evaluate(u);let x=m?m.evaluate(u):1,b=$r(s,l,p,x);if(b)throw new Or(b);return new Ht(s/255,l/255,p/255,x,!1)}function ew(u,s){return u in s}function Cy(u,s){let l=s[u];return l===void 0?null:l}function Au(u){return{type:u}}function Ld(u){if(u instanceof bd)return Ld(u.boundExpression);if(u instanceof Xo&&u.name==="error"||u instanceof Td||u instanceof Iu||u instanceof Pu||u instanceof zf)return!1;let s=u instanceof as||u instanceof Lo,l=!0;return u.eachChild(p=>{l=s?l&&Ld(p):l&&p instanceof zs}),!!l&&Dd(u)&&kd(u,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Dd(u){if(u instanceof Xo&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Iu||u instanceof Pu)return!1;let s=!0;return u.eachChild(l=>{s&&!Dd(l)&&(s=!1)}),s}function jf(u){if(u instanceof Xo&&u.name==="feature-state")return!1;let s=!0;return u.eachChild(l=>{s&&!jf(l)&&(s=!1)}),s}function kd(u,s){if(u instanceof Xo&&s.indexOf(u.name)>=0)return!1;let l=!0;return u.eachChild(p=>{l&&!kd(p,s)&&(l=!1)}),l}function tw(u){return{result:"success",value:u}}function jc(u){return{result:"error",value:u}}function El(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function rw(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function Py(u){return!!u.expression&&u.expression.interpolated}function Xt(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Bf(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&xt(u)===yl}function GM(u){return u}function nw(u,s){let l=u.stops&&typeof u.stops[0][0]=="object",p=l||!(l||u.property!==void 0),m=u.type||(Py(s)?"exponential":"interval"),x=function(D){switch(D.type){case"color":return Ht.parse;case"padding":return Qn.parse;case"numberArray":return Ui.parse;case"colorArray":return Ln.parse;default:return null}}(s);if(x&&((u=Ci({},u)).stops&&(u.stops=u.stops.map(D=>[D[0],x(D[1])])),u.default=x(u.default?u.default:s.default)),u.colorSpace&&(b=u.colorSpace)!=="rgb"&&b!=="hcl"&&b!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var b;let I=function(D){switch(D){case"exponential":return ow;case"interval":return ZM;case"categorical":return iw;case"identity":return WM;default:throw new Error(`Unknown function type "${D}"`)}}(m),A,O;if(m==="categorical"){A=Object.create(null);for(let D of u.stops)A[D[0]]=D[1];O=typeof u.stops[0][0]}if(l){let D={},F=[];for(let W=0;W<u.stops.length;W++){let X=u.stops[W],ne=X[0].zoom;D[ne]===void 0&&(D[ne]={zoom:ne,type:u.type,property:u.property,default:u.default,stops:[]},F.push(ne)),D[ne].stops.push([X[0].value,X[1]])}let U=[];for(let W of F)U.push([D[W].zoom,nw(D[W],s)]);let Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:mi.interpolationFactor.bind(void 0,Z),zoomStops:U.map(W=>W[0]),evaluate:({zoom:W},X)=>ow({stops:U,base:u.base},s,W).evaluate(W,X)}}if(p){let D=m==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:mi.interpolationFactor.bind(void 0,D),zoomStops:u.stops.map(F=>F[0]),evaluate:({zoom:F})=>I(u,s,F,A,O)}}return{kind:"source",evaluate(D,F){let U=F&&F.properties?F.properties[u.property]:void 0;return U===void 0?Sl(u.default,s.default):I(u,s,U,A,O)}}}function Sl(u,s,l){return u!==void 0?u:s!==void 0?s:l!==void 0?l:void 0}function iw(u,s,l,p,m){return Sl(typeof l===m?p[l]:void 0,u.default,s.default)}function ZM(u,s,l){if(Xt(l)!=="number")return Sl(u.default,s.default);let p=u.stops.length;if(p===1||l<=u.stops[0][0])return u.stops[0][1];if(l>=u.stops[p-1][0])return u.stops[p-1][1];let m=Eu(u.stops.map(x=>x[0]),l);return u.stops[m][1]}function ow(u,s,l){let p=u.base!==void 0?u.base:1;if(Xt(l)!=="number")return Sl(u.default,s.default);let m=u.stops.length;if(m===1||l<=u.stops[0][0])return u.stops[0][1];if(l>=u.stops[m-1][0])return u.stops[m-1][1];let x=Eu(u.stops.map(D=>D[0]),l),b=function(D,F,U,Z){let W=Z-U,X=D-U;return W===0?0:F===1?X/W:(Math.pow(F,X)-1)/(Math.pow(F,W)-1)}(l,p,u.stops[x][0],u.stops[x+1][0]),I=u.stops[x][1],A=u.stops[x+1][1],O=ss[s.type]||GM;return typeof I.evaluate=="function"?{evaluate(...D){let F=I.evaluate.apply(void 0,D),U=A.evaluate.apply(void 0,D);if(F!==void 0&&U!==void 0)return O(F,U,b,u.colorSpace)}}:O(I,A,b,u.colorSpace)}function WM(u,s,l){switch(s.type){case"color":l=Ht.parse(l);break;case"formatted":l=Bi.fromString(l.toString());break;case"resolvedImage":l=Oo.fromString(l.toString());break;case"padding":l=Qn.parse(l);break;case"colorArray":l=Ln.parse(l);break;case"numberArray":l=Ui.parse(l);break;default:Xt(l)===s.type||s.type==="enum"&&s.values[l]||(l=void 0)}return Sl(l,u.default,s.default)}Xo.register(zc,{error:[{kind:"error"},[Zt],(u,[s])=>{throw new Or(s.evaluate(u))}],typeof:[Zt,[Dt],(u,[s])=>Rr(xt(s.evaluate(u)))],"to-rgba":[ho(tt,4),[di],(u,[s])=>{let[l,p,m,x]=s.evaluate(u).rgb;return[255*l,255*p,255*m,x]}],rgb:[di,[tt,tt,tt],Q1],rgba:[di,[tt,tt,tt,tt],Q1],has:{type:Ft,overloads:[[[Zt],(u,[s])=>ew(s.evaluate(u),u.properties())],[[Zt,yl],(u,[s,l])=>ew(s.evaluate(u),l.evaluate(u))]]},get:{type:Dt,overloads:[[[Zt],(u,[s])=>Cy(s.evaluate(u),u.properties())],[[Zt,yl],(u,[s,l])=>Cy(s.evaluate(u),l.evaluate(u))]]},"feature-state":[Dt,[Zt],(u,[s])=>Cy(s.evaluate(u),u.featureState||{})],properties:[yl,[],u=>u.properties()],"geometry-type":[Zt,[],u=>u.geometryType()],id:[Dt,[],u=>u.id()],zoom:[tt,[],u=>u.globals.zoom],"heatmap-density":[tt,[],u=>u.globals.heatmapDensity||0],elevation:[tt,[],u=>u.globals.elevation||0],"line-progress":[tt,[],u=>u.globals.lineProgress||0],accumulated:[Dt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[tt,Au(tt),(u,s)=>{let l=0;for(let p of s)l+=p.evaluate(u);return l}],"*":[tt,Au(tt),(u,s)=>{let l=1;for(let p of s)l*=p.evaluate(u);return l}],"-":{type:tt,overloads:[[[tt,tt],(u,[s,l])=>s.evaluate(u)-l.evaluate(u)],[[tt],(u,[s])=>-s.evaluate(u)]]},"/":[tt,[tt,tt],(u,[s,l])=>s.evaluate(u)/l.evaluate(u)],"%":[tt,[tt,tt],(u,[s,l])=>s.evaluate(u)%l.evaluate(u)],ln2:[tt,[],()=>Math.LN2],pi:[tt,[],()=>Math.PI],e:[tt,[],()=>Math.E],"^":[tt,[tt,tt],(u,[s,l])=>Math.pow(s.evaluate(u),l.evaluate(u))],sqrt:[tt,[tt],(u,[s])=>Math.sqrt(s.evaluate(u))],log10:[tt,[tt],(u,[s])=>Math.log(s.evaluate(u))/Math.LN10],ln:[tt,[tt],(u,[s])=>Math.log(s.evaluate(u))],log2:[tt,[tt],(u,[s])=>Math.log(s.evaluate(u))/Math.LN2],sin:[tt,[tt],(u,[s])=>Math.sin(s.evaluate(u))],cos:[tt,[tt],(u,[s])=>Math.cos(s.evaluate(u))],tan:[tt,[tt],(u,[s])=>Math.tan(s.evaluate(u))],asin:[tt,[tt],(u,[s])=>Math.asin(s.evaluate(u))],acos:[tt,[tt],(u,[s])=>Math.acos(s.evaluate(u))],atan:[tt,[tt],(u,[s])=>Math.atan(s.evaluate(u))],min:[tt,Au(tt),(u,s)=>Math.min(...s.map(l=>l.evaluate(u)))],max:[tt,Au(tt),(u,s)=>Math.max(...s.map(l=>l.evaluate(u)))],abs:[tt,[tt],(u,[s])=>Math.abs(s.evaluate(u))],round:[tt,[tt],(u,[s])=>{let l=s.evaluate(u);return l<0?-Math.round(-l):Math.round(l)}],floor:[tt,[tt],(u,[s])=>Math.floor(s.evaluate(u))],ceil:[tt,[tt],(u,[s])=>Math.ceil(s.evaluate(u))],"filter-==":[Ft,[Zt,Dt],(u,[s,l])=>u.properties()[s.value]===l.value],"filter-id-==":[Ft,[Dt],(u,[s])=>u.id()===s.value],"filter-type-==":[Ft,[Zt],(u,[s])=>u.geometryType()===s.value],"filter-<":[Ft,[Zt,Dt],(u,[s,l])=>{let p=u.properties()[s.value],m=l.value;return typeof p==typeof m&&p<m}],"filter-id-<":[Ft,[Dt],(u,[s])=>{let l=u.id(),p=s.value;return typeof l==typeof p&&l<p}],"filter->":[Ft,[Zt,Dt],(u,[s,l])=>{let p=u.properties()[s.value],m=l.value;return typeof p==typeof m&&p>m}],"filter-id->":[Ft,[Dt],(u,[s])=>{let l=u.id(),p=s.value;return typeof l==typeof p&&l>p}],"filter-<=":[Ft,[Zt,Dt],(u,[s,l])=>{let p=u.properties()[s.value],m=l.value;return typeof p==typeof m&&p<=m}],"filter-id-<=":[Ft,[Dt],(u,[s])=>{let l=u.id(),p=s.value;return typeof l==typeof p&&l<=p}],"filter->=":[Ft,[Zt,Dt],(u,[s,l])=>{let p=u.properties()[s.value],m=l.value;return typeof p==typeof m&&p>=m}],"filter-id->=":[Ft,[Dt],(u,[s])=>{let l=u.id(),p=s.value;return typeof l==typeof p&&l>=p}],"filter-has":[Ft,[Dt],(u,[s])=>s.value in u.properties()],"filter-has-id":[Ft,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Ft,[ho(Zt)],(u,[s])=>s.value.indexOf(u.geometryType())>=0],"filter-id-in":[Ft,[ho(Dt)],(u,[s])=>s.value.indexOf(u.id())>=0],"filter-in-small":[Ft,[Zt,ho(Dt)],(u,[s,l])=>l.value.indexOf(u.properties()[s.value])>=0],"filter-in-large":[Ft,[Zt,ho(Dt)],(u,[s,l])=>function(p,m,x,b){for(;x<=b;){let I=x+b>>1;if(m[I]===p)return!0;m[I]>p?b=I-1:x=I+1}return!1}(u.properties()[s.value],l.value,0,l.value.length-1)],all:{type:Ft,overloads:[[[Ft,Ft],(u,[s,l])=>s.evaluate(u)&&l.evaluate(u)],[Au(Ft),(u,s)=>{for(let l of s)if(!l.evaluate(u))return!1;return!0}]]},any:{type:Ft,overloads:[[[Ft,Ft],(u,[s,l])=>s.evaluate(u)||l.evaluate(u)],[Au(Ft),(u,s)=>{for(let l of s)if(l.evaluate(u))return!0;return!1}]]},"!":[Ft,[Ft],(u,[s])=>!s.evaluate(u)],"is-supported-script":[Ft,[Zt],(u,[s])=>{let l=u.globals&&u.globals.isSupportedScript;return!l||l(s.evaluate(u))}],upcase:[Zt,[Zt],(u,[s])=>s.evaluate(u).toUpperCase()],downcase:[Zt,[Zt],(u,[s])=>s.evaluate(u).toLowerCase()],concat:[Zt,Au(Dt),(u,s)=>s.map(l=>qt(l.evaluate(u))).join("")],"resolved-locale":[Zt,[md],(u,[s])=>s.evaluate(u).resolvedLocale()]});class Ay{constructor(s,l){this.expression=s,this._warningHistory={},this._evaluator=new hy,this._defaultValue=l?function(p){if(p.type==="color"&&Bf(p.default))return new Ht(0,0,0,0);switch(p.type){case"color":return Ht.parse(p.default)||null;case"padding":return Qn.parse(p.default)||null;case"numberArray":return Ui.parse(p.default)||null;case"colorArray":return Ln.parse(p.default)||null;case"variableAnchorOffsetCollection":return Vi.parse(p.default)||null;case"projectionDefinition":return Pi.parse(p.default)||null;default:return p.default===void 0?null:p.default}}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(s,l,p,m,x,b){return this._evaluator.globals=s,this._evaluator.feature=l,this._evaluator.featureState=p,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=b,this.expression.evaluate(this._evaluator)}evaluate(s,l,p,m,x,b){this._evaluator.globals=s,this._evaluator.feature=l||null,this._evaluator.featureState=p||null,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=b||null;try{let I=this.expression.evaluate(this._evaluator);if(I==null||typeof I=="number"&&I!=I)return this._defaultValue;if(this._enumValues&&!(I in this._enumValues))throw new Or(`Expected value to be one of ${Object.keys(this._enumValues).map(A=>JSON.stringify(A)).join(", ")}, but found ${JSON.stringify(I)} instead.`);return I}catch(I){return this._warningHistory[I.message]||(this._warningHistory[I.message]=!0,typeof console!="undefined"&&console.warn(I.message)),this._defaultValue}}}function Nd(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in zc}function Uf(u,s){let l=new kc(zc,Ld,[],s?function(m){let x={color:di,string:Zt,number:tt,enum:Zt,boolean:Ft,formatted:_l,padding:vd,numberArray:qc,colorArray:is,projectionDefinition:yu,resolvedImage:mn,variableAnchorOffsetCollection:gd};return m.type==="array"?ho(x[m.value]||Dt,m.length):x[m.type]}(s):void 0),p=l.parse(u,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return p?tw(new Ay(p,s)):jc(l.errors)}class Vf{constructor(s,l){this.kind=s,this._styleExpression=l,this.isStateDependent=s!=="constant"&&!jf(l.expression),this.globalStateRefs=Zf(l.expression)}evaluateWithoutErrorHandling(s,l,p,m,x,b){return this._styleExpression.evaluateWithoutErrorHandling(s,l,p,m,x,b)}evaluate(s,l,p,m,x,b){return this._styleExpression.evaluate(s,l,p,m,x,b)}}class My{constructor(s,l,p,m){this.kind=s,this.zoomStops=p,this._styleExpression=l,this.isStateDependent=s!=="camera"&&!jf(l.expression),this.globalStateRefs=Zf(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(s,l,p,m,x,b){return this._styleExpression.evaluateWithoutErrorHandling(s,l,p,m,x,b)}evaluate(s,l,p,m,x,b){return this._styleExpression.evaluate(s,l,p,m,x,b)}interpolationFactor(s,l,p){return this.interpolationType?mi.interpolationFactor(this.interpolationType,s,l,p):0}}function aw(u,s){let l=Uf(u,s);if(l.result==="error")return l;let p=l.value.expression,m=Dd(p);if(!m&&!El(s))return jc([new an("","data expressions not supported")]);let x=kd(p,["zoom"]);if(!x&&!rw(s))return jc([new an("","zoom expressions not supported")]);let b=Gf(p);return b||x?b instanceof an?jc([b]):b instanceof mi&&!Py(s)?jc([new an("","\"interpolate\" expressions cannot be used with this property")]):tw(b?new My(m?"camera":"composite",l.value,b.labels,b instanceof mi?b.interpolation:void 0):new Vf(m?"constant":"source",l.value)):jc([new an("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class $f{constructor(s,l){this._parameters=s,this._specification=l,Ci(this,nw(this._parameters,this._specification))}static deserialize(s){return new $f(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Gf(u){let s=null;if(u instanceof Pf)s=Gf(u.result);else if(u instanceof Rf){for(let l of u.args)if(s=Gf(l),s)break}else(u instanceof vn||u instanceof mi)&&u.input instanceof Xo&&u.input.name==="zoom"&&(s=u);return s instanceof an||u.eachChild(l=>{let p=Gf(l);p instanceof an?s=p:!s&&p?s=new an("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&p&&s!==p&&(s=new an("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function Zf(u,s=new Set){return u instanceof zf&&s.add(u.key),u.eachChild(l=>{Zf(l,s)}),s}function Fd(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(let s of u.slice(1))if(!Fd(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}let qy={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Mu(u){if(u==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Fd(u)||(u=qu(u));let s=Uf(u,qy);if(s.result==="error")throw new Error(s.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,p,m)=>s.value.evaluate(l,p,{},m),needGeometry:zd(u),getGlobalStateRefs:()=>Zf(s.value.expression)}}function Ry(u,s){return u<s?-1:u>s?1:0}function zd(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let s=1;s<u.length;s++)if(zd(u[s]))return!0;return!1}function qu(u){if(!u)return!0;let s=u[0];return u.length<=1?s!=="any":s==="=="?Oy(u[1],u[2],"=="):s==="!="?jd(Oy(u[1],u[2],"==")):s==="<"||s===">"||s==="<="||s===">="?Oy(u[1],u[2],s):s==="any"?(l=u.slice(1),["any"].concat(l.map(qu))):s==="all"?["all"].concat(u.slice(1).map(qu)):s==="none"?["all"].concat(u.slice(1).map(qu).map(jd)):s==="in"?sw(u[1],u.slice(2)):s==="!in"?jd(sw(u[1],u.slice(2))):s==="has"?lw(u[1]):s!=="!has"||jd(lw(u[1]));var l}function Oy(u,s,l){switch(u){case"$type":return[`filter-type-${l}`,s];case"$id":return[`filter-id-${l}`,s];default:return[`filter-${l}`,u,s]}}function sw(u,s){if(s.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(l=>typeof l!=typeof s[0])?["filter-in-large",u,["literal",s.sort(Ry)]]:["filter-in-small",u,["literal",s]]}}function lw(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function jd(u){return["!",u]}function Ly(u){let s=typeof u;if(s==="number"||s==="boolean"||s==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let m="[";for(let x of u)m+=`${Ly(x)},`;return`${m}]`}let l=Object.keys(u).sort(),p="{";for(let m=0;m<l.length;m++)p+=`${JSON.stringify(l[m])}:${Ly(u[l[m]])},`;return`${p}}`}function HM(u){let s="";for(let l of At)s+=`/${Ly(u[l])}`;return s}function Dy(u){let s=u.value;return s?[new He(u.key,s,"constants have been deprecated as of v8")]:[]}function sn(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function ls(u){if(Array.isArray(u))return u.map(ls);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){let s={};for(let l in u)s[l]=ls(u[l]);return s}return sn(u)}function Jo(u){let s=u.key,l=u.value,p=u.valueSpec||{},m=u.objectElementValidators||{},x=u.style,b=u.styleSpec,I=u.validateSpec,A=[],O=Xt(l);if(O!=="object")return[new He(s,l,`object expected, ${O} found`)];for(let D in l){let F=D.split(".")[0],U=Dc(p,F)||p["*"],Z;if(Dc(m,F))Z=m[F];else if(Dc(p,F))Z=I;else if(m["*"])Z=m["*"];else{if(!p["*"]){A.push(new He(s,l[D],`unknown property "${D}"`));continue}Z=I}A=A.concat(Z({key:(s&&`${s}.`)+D,value:l[D],valueSpec:U,style:x,styleSpec:b,object:l,objectKey:D,validateSpec:I},l))}for(let D in p)m[D]||p[D].required&&p[D].default===void 0&&l[D]===void 0&&A.push(new He(s,l,`missing required property "${D}"`));return A}function Bd(u){let s=u.value,l=u.valueSpec,p=u.style,m=u.styleSpec,x=u.key,b=u.arrayElementValidator||u.validateSpec;if(Xt(s)!=="array")return[new He(x,s,`array expected, ${Xt(s)} found`)];if(l.length&&s.length!==l.length)return[new He(x,s,`array length ${l.length} expected, length ${s.length} found`)];if(l["min-length"]&&s.length<l["min-length"])return[new He(x,s,`array length at least ${l["min-length"]} expected, length ${s.length} found`)];let I={type:l.value,values:l.values};m.$version<7&&(I.function=l.function),Xt(l.value)==="object"&&(I=l.value);let A=[];for(let O=0;O<s.length;O++)A=A.concat(b({array:s,arrayIndex:O,value:s[O],valueSpec:I,validateSpec:u.validateSpec,style:p,styleSpec:m,key:`${x}[${O}]`}));return A}function Wf(u){let s=u.key,l=u.value,p=u.valueSpec,m=Xt(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new He(s,l,`number expected, ${m} found`)]:"minimum"in p&&l<p.minimum?[new He(s,l,`${l} is less than the minimum value ${p.minimum}`)]:"maximum"in p&&l>p.maximum?[new He(s,l,`${l} is greater than the maximum value ${p.maximum}`)]:[]}function uw(u){let s=u.valueSpec,l=sn(u.value.type),p,m,x,b={},I=l!=="categorical"&&u.value.property===void 0,A=!I,O=Xt(u.value.stops)==="array"&&Xt(u.value.stops[0])==="array"&&Xt(u.value.stops[0][0])==="object",D=Jo({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(Z){if(l==="identity")return[new He(Z.key,Z.value,"identity function may not have a \"stops\" property")];let W=[],X=Z.value;return W=W.concat(Bd({key:Z.key,value:X,valueSpec:Z.valueSpec,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:F})),Xt(X)==="array"&&X.length===0&&W.push(new He(Z.key,X,"array must have at least one stop")),W},default:function(Z){return Z.validateSpec({key:Z.key,value:Z.value,valueSpec:s,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec})}}});return l==="identity"&&I&&D.push(new He(u.key,u.value,"missing required property \"property\"")),l==="identity"||u.value.stops||D.push(new He(u.key,u.value,"missing required property \"stops\"")),l==="exponential"&&u.valueSpec.expression&&!Py(u.valueSpec)&&D.push(new He(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(A&&!El(u.valueSpec)?D.push(new He(u.key,u.value,"property functions not supported")):I&&!rw(u.valueSpec)&&D.push(new He(u.key,u.value,"zoom functions not supported"))),l!=="categorical"&&!O||u.value.property!==void 0||D.push(new He(u.key,u.value,"\"property\" property is required")),D;function F(Z){let W=[],X=Z.value,ne=Z.key;if(Xt(X)!=="array")return[new He(ne,X,`array expected, ${Xt(X)} found`)];if(X.length!==2)return[new He(ne,X,`array length 2 expected, length ${X.length} found`)];if(O){if(Xt(X[0])!=="object")return[new He(ne,X,`object expected, ${Xt(X[0])} found`)];if(X[0].zoom===void 0)return[new He(ne,X,"object stop key must have zoom")];if(X[0].value===void 0)return[new He(ne,X,"object stop key must have value")];if(x&&x>sn(X[0].zoom))return[new He(ne,X[0].zoom,"stop zoom values must appear in ascending order")];sn(X[0].zoom)!==x&&(x=sn(X[0].zoom),m=void 0,b={}),W=W.concat(Jo({key:`${ne}[0]`,value:X[0],valueSpec:{zoom:{}},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:Wf,value:U}}))}else W=W.concat(U({key:`${ne}[0]`,value:X[0],validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec},X));return Nd(ls(X[1]))?W.concat([new He(`${ne}[1]`,X[1],"expressions are not allowed in function stops.")]):W.concat(Z.validateSpec({key:`${ne}[1]`,value:X[1],valueSpec:s,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec}))}function U(Z,W){let X=Xt(Z.value),ne=sn(Z.value),le=Z.value!==null?Z.value:W;if(p){if(X!==p)return[new He(Z.key,le,`${X} stop domain type must match previous stop domain type ${p}`)]}else p=X;if(X!=="number"&&X!=="string"&&X!=="boolean")return[new He(Z.key,le,"stop domain value must be a number, string, or boolean")];if(X!=="number"&&l!=="categorical"){let Ee=`number expected, ${X} found`;return El(s)&&l===void 0&&(Ee+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new He(Z.key,le,Ee)]}return l!=="categorical"||X!=="number"||isFinite(ne)&&Math.floor(ne)===ne?l!=="categorical"&&X==="number"&&m!==void 0&&ne<m?[new He(Z.key,le,"stop domain values must appear in ascending order")]:(m=ne,l==="categorical"&&ne in b?[new He(Z.key,le,"stop domain values must be unique")]:(b[ne]=!0,[])):[new He(Z.key,le,`integer expected, found ${ne}`)]}}function Ru(u){let s=(u.expressionContext==="property"?aw:Uf)(ls(u.value),u.valueSpec);if(s.result==="error")return s.value.map(p=>new He(`${u.key}${p.key}`,u.value,p.message));let l=s.value.expression||s.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!l.outputDefined())return[new He(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!jf(l))return[new He(u.key,u.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(u.expressionContext==="filter"&&!jf(l))return[new He(u.key,u.value,"\"feature-state\" data expressions are not supported with filters.")];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!kd(l,["zoom","feature-state"]))return[new He(u.key,u.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(u.expressionContext==="cluster-initial"&&!Dd(l))return[new He(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ud(u){let s=u.key,l=u.value,p=Xt(l);return p!=="string"?[new He(s,l,`color expected, ${p} found`)]:Ht.parse(String(l))?[]:[new He(s,l,`color expected, "${l}" found`)]}function Bs(u){let s=u.key,l=u.value,p=u.valueSpec,m=[];return Array.isArray(p.values)?p.values.indexOf(sn(l))===-1&&m.push(new He(s,l,`expected one of [${p.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(p.values).indexOf(sn(l))===-1&&m.push(new He(s,l,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function ky(u){return Fd(ls(u.value))?Ru(Ci({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):cw(u)}function cw(u){let s=u.value,l=u.key;if(Xt(s)!=="array")return[new He(l,s,`array expected, ${Xt(s)} found`)];let p=u.styleSpec,m,x=[];if(s.length<1)return[new He(l,s,"filter array must have at least 1 element")];switch(x=x.concat(Bs({key:`${l}[0]`,value:s[0],valueSpec:p.filter_operator,style:u.style,styleSpec:u.styleSpec})),sn(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&sn(s[1])==="$type"&&x.push(new He(l,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&x.push(new He(l,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(m=Xt(s[1]),m!=="string"&&x.push(new He(`${l}[1]`,s[1],`string expected, ${m} found`)));for(let b=2;b<s.length;b++)m=Xt(s[b]),sn(s[1])==="$type"?x=x.concat(Bs({key:`${l}[${b}]`,value:s[b],valueSpec:p.geometry_type,style:u.style,styleSpec:u.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&x.push(new He(`${l}[${b}]`,s[b],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let b=1;b<s.length;b++)x=x.concat(cw({key:`${l}[${b}]`,value:s[b],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":m=Xt(s[1]),s.length!==2?x.push(new He(l,s,`filter array for "${s[0]}" operator must have 2 elements`)):m!=="string"&&x.push(new He(`${l}[1]`,s[1],`string expected, ${m} found`))}return x}function hw(u,s){let l=u.key,p=u.validateSpec,m=u.style,x=u.styleSpec,b=u.value,I=u.objectKey,A=x[`${s}_${u.layerType}`];if(!A)return[];let O=I.match(/^(.*)-transition$/);if(s==="paint"&&O&&A[O[1]]&&A[O[1]].transition)return p({key:l,value:b,valueSpec:x.transition,style:m,styleSpec:x});let D=u.valueSpec||A[I];if(!D)return[new He(l,b,`unknown property "${I}"`)];let F;if(Xt(b)==="string"&&El(D)&&!D.tokens&&(F=/^{([^}]+)}$/.exec(b)))return[new He(l,b,`"${I}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(F[1])} }\`.`)];let U=[];return u.layerType==="symbol"&&(I==="text-field"&&m&&!m.glyphs&&U.push(new He(l,b,"use of \"text-field\" requires a style \"glyphs\" property")),I==="text-font"&&Bf(ls(b))&&sn(b.type)==="identity"&&U.push(new He(l,b,"\"text-font\" does not support identity functions"))),U.concat(p({key:u.key,value:b,valueSpec:D,style:m,styleSpec:x,expressionContext:"property",propertyType:s,propertyKey:I}))}function fw(u){return hw(u,"paint")}function pw(u){return hw(u,"layout")}function dw(u){let s=[],l=u.value,p=u.key,m=u.style,x=u.styleSpec;if(Xt(l)!=="object")return[new He(p,l,`object expected, ${Xt(l)} found`)];l.type||l.ref||s.push(new He(p,l,"either \"type\" or \"ref\" is required"));let b=sn(l.type),I=sn(l.ref);if(l.id){let A=sn(l.id);for(let O=0;O<u.arrayIndex;O++){let D=m.layers[O];sn(D.id)===A&&s.push(new He(p,l.id,`duplicate layer id "${l.id}", previously used at line ${D.id.__line__}`))}}if("ref"in l){let A;["type","source","source-layer","filter","layout"].forEach(O=>{O in l&&s.push(new He(p,l[O],`"${O}" is prohibited for ref layers`))}),m.layers.forEach(O=>{sn(O.id)===I&&(A=O)}),A?A.ref?s.push(new He(p,l.ref,"ref cannot reference another ref layer")):b=sn(A.type):s.push(new He(p,l.ref,`ref layer "${I}" not found`))}else if(b!=="background")if(l.source){let A=m.sources&&m.sources[l.source],O=A&&sn(A.type);A?O==="vector"&&b==="raster"?s.push(new He(p,l.source,`layer "${l.id}" requires a raster source`)):O!=="raster-dem"&&b==="hillshade"||O!=="raster-dem"&&b==="color-relief"?s.push(new He(p,l.source,`layer "${l.id}" requires a raster-dem source`)):O==="raster"&&b!=="raster"?s.push(new He(p,l.source,`layer "${l.id}" requires a vector source`)):O!=="vector"||l["source-layer"]?O==="raster-dem"&&b!=="hillshade"&&b!=="color-relief"?s.push(new He(p,l.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):b!=="line"||!l.paint||!l.paint["line-gradient"]||O==="geojson"&&A.lineMetrics||s.push(new He(p,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new He(p,l,`layer "${l.id}" must specify a "source-layer"`)):s.push(new He(p,l.source,`source "${l.source}" not found`))}else s.push(new He(p,l,"missing required property \"source\""));return s=s.concat(Jo({key:p,value:l,valueSpec:x.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${p}.type`,value:l.type,valueSpec:x.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:l,objectKey:"type"}),filter:ky,layout:A=>Jo({layer:l,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":O=>pw(Ci({layerType:b},O))}}),paint:A=>Jo({layer:l,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":O=>fw(Ci({layerType:b},O))}})}})),s}function Ra(u){let s=u.value,l=u.key,p=Xt(s);return p!=="string"?[new He(l,s,`string expected, ${p} found`)]:[]}let Bc={promoteId:function({key:u,value:s}){if(Xt(s)==="string")return Ra({key:u,value:s});{let l=[];for(let p in s)l.push(...Ra({key:`${u}.${p}`,value:s[p]}));return l}}};function fo(u){let s=u.value,l=u.key,p=u.styleSpec,m=u.style,x=u.validateSpec;if(!s.type)return[new He(l,s,"\"type\" is required")];let b=sn(s.type),I;switch(b){case"vector":case"raster":return I=Jo({key:l,value:s,valueSpec:p[`source_${b.replace("-","_")}`],style:u.style,styleSpec:p,objectElementValidators:Bc,validateSpec:x}),I;case"raster-dem":return I=function(A){var O;let D=(O=A.sourceName)!==null&&O!==void 0?O:"",F=A.value,U=A.styleSpec,Z=U.source_raster_dem,W=A.style,X=[],ne=Xt(F);if(F===void 0)return X;if(ne!=="object")return X.push(new He("source_raster_dem",F,`object expected, ${ne} found`)),X;let le=sn(F.encoding)==="custom",Ee=["redFactor","greenFactor","blueFactor","baseShift"],me=A.value.encoding?`"${A.value.encoding}"`:"Default";for(let ye in F)!le&&Ee.includes(ye)?X.push(new He(ye,F[ye],`In "${D}": "${ye}" is only valid when "encoding" is set to "custom". ${me} encoding found`)):Z[ye]?X=X.concat(A.validateSpec({key:ye,value:F[ye],valueSpec:Z[ye],validateSpec:A.validateSpec,style:W,styleSpec:U})):X.push(new He(ye,F[ye],`unknown property "${ye}"`));return X}({sourceName:l,value:s,style:u.style,styleSpec:p,validateSpec:x}),I;case"geojson":if(I=Jo({key:l,value:s,valueSpec:p.source_geojson,style:m,styleSpec:p,validateSpec:x,objectElementValidators:Bc}),s.cluster)for(let A in s.clusterProperties){let[O,D]=s.clusterProperties[A],F=typeof O=="string"?[O,["accumulated"],["get",A]]:O;I.push(...Ru({key:`${l}.${A}.map`,value:D,expressionContext:"cluster-map"})),I.push(...Ru({key:`${l}.${A}.reduce`,value:F,expressionContext:"cluster-reduce"}))}return I;case"video":return Jo({key:l,value:s,valueSpec:p.source_video,style:m,validateSpec:x,styleSpec:p});case"image":return Jo({key:l,value:s,valueSpec:p.source_image,style:m,validateSpec:x,styleSpec:p});case"canvas":return[new He(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Bs({key:`${l}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Uc(u){let s=u.value,l=u.styleSpec,p=l.light,m=u.style,x=[],b=Xt(s);if(s===void 0)return x;if(b!=="object")return x=x.concat([new He("light",s,`object expected, ${b} found`)]),x;for(let I in s){let A=I.match(/^(.*)-transition$/);x=x.concat(A&&p[A[1]]&&p[A[1]].transition?u.validateSpec({key:I,value:s[I],valueSpec:l.transition,validateSpec:u.validateSpec,style:m,styleSpec:l}):p[I]?u.validateSpec({key:I,value:s[I],valueSpec:p[I],validateSpec:u.validateSpec,style:m,styleSpec:l}):[new He(I,s[I],`unknown property "${I}"`)])}return x}function Ny(u){let s=u.value,l=u.styleSpec,p=l.sky,m=u.style,x=Xt(s);if(s===void 0)return[];if(x!=="object")return[new He("sky",s,`object expected, ${x} found`)];let b=[];for(let I in s)b=b.concat(p[I]?u.validateSpec({key:I,value:s[I],valueSpec:p[I],style:m,styleSpec:l}):[new He(I,s[I],`unknown property "${I}"`)]);return b}function mw(u){let s=u.value,l=u.styleSpec,p=l.terrain,m=u.style,x=[],b=Xt(s);if(s===void 0)return x;if(b!=="object")return x=x.concat([new He("terrain",s,`object expected, ${b} found`)]),x;for(let I in s)x=x.concat(p[I]?u.validateSpec({key:I,value:s[I],valueSpec:p[I],validateSpec:u.validateSpec,style:m,styleSpec:l}):[new He(I,s[I],`unknown property "${I}"`)]);return x}function vw(u){let s=[],l=u.value,p=u.key;if(Array.isArray(l)){let m=[],x=[];for(let b in l)l[b].id&&m.includes(l[b].id)&&s.push(new He(p,l,`all the sprites' ids must be unique, but ${l[b].id} is duplicated`)),m.push(l[b].id),l[b].url&&x.includes(l[b].url)&&s.push(new He(p,l,`all the sprites' URLs must be unique, but ${l[b].url} is duplicated`)),x.push(l[b].url),s=s.concat(Jo({key:`${p}[${b}]`,value:l[b],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return s}return Ra({key:p,value:l})}function Vc(u){return s=u.value,s&&s.constructor===Object?[]:[new He(u.key,u.value,`object expected, ${Xt(u.value)} found`)];var s}let Fy={"*":()=>[],array:Bd,boolean:function(u){let s=u.value,l=u.key,p=Xt(s);return p!=="boolean"?[new He(l,s,`boolean expected, ${p} found`)]:[]},number:Wf,color:Ud,constants:Dy,enum:Bs,filter:ky,function:uw,layer:dw,object:Jo,source:fo,light:Uc,sky:Ny,terrain:mw,projection:function(u){let s=u.value,l=u.styleSpec,p=l.projection,m=u.style,x=Xt(s);if(s===void 0)return[];if(x!=="object")return[new He("projection",s,`object expected, ${x} found`)];let b=[];for(let I in s)b=b.concat(p[I]?u.validateSpec({key:I,value:s[I],valueSpec:p[I],style:m,styleSpec:l}):[new He(I,s[I],`unknown property "${I}"`)]);return b},projectionDefinition:function(u){let s=u.key,l=u.value;l=l instanceof String?l.valueOf():l;let p=Xt(l);return p!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(l)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(l)?["array","string"].includes(p)?[]:[new He(s,l,`projection expected, invalid type "${p}" found`)]:[new He(s,l,`projection expected, invalid array ${JSON.stringify(l)} found`)]},string:Ra,formatted:function(u){return Ra(u).length===0?[]:Ru(u)},resolvedImage:function(u){return Ra(u).length===0?[]:Ru(u)},padding:function(u){let s=u.key,l=u.value;if(Xt(l)==="array"){if(l.length<1||l.length>4)return[new He(s,l,`padding requires 1 to 4 values; ${l.length} values found`)];let p={type:"number"},m=[];for(let x=0;x<l.length;x++)m=m.concat(u.validateSpec({key:`${s}[${x}]`,value:l[x],validateSpec:u.validateSpec,valueSpec:p}));return m}return Wf({key:s,value:l,valueSpec:{}})},numberArray:function(u){let s=u.key,l=u.value;if(Xt(l)==="array"){let p={type:"number"};if(l.length<1)return[new He(s,l,"array length at least 1 expected, length 0 found")];let m=[];for(let x=0;x<l.length;x++)m=m.concat(u.validateSpec({key:`${s}[${x}]`,value:l[x],validateSpec:u.validateSpec,valueSpec:p}));return m}return Wf({key:s,value:l,valueSpec:{}})},colorArray:function(u){let s=u.key,l=u.value;if(Xt(l)==="array"){if(l.length<1)return[new He(s,l,"array length at least 1 expected, length 0 found")];let p=[];for(let m=0;m<l.length;m++)p=p.concat(Ud({key:`${s}[${m}]`,value:l[m]}));return p}return Ud({key:s,value:l})},variableAnchorOffsetCollection:function(u){let s=u.key,l=u.value,p=Xt(l),m=u.styleSpec;if(p!=="array"||l.length<1||l.length%2!=0)return[new He(s,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let b=0;b<l.length;b+=2)x=x.concat(Bs({key:`${s}[${b}]`,value:l[b],valueSpec:m.layout_symbol["text-anchor"]})),x=x.concat(Bd({key:`${s}[${b+1}]`,value:l[b+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:m}));return x},sprite:vw,state:Vc};function $c(u){let s=u.value,l=u.valueSpec,p=u.styleSpec;return u.validateSpec=$c,l.expression&&Bf(sn(s))?uw(u):l.expression&&Nd(ls(s))?Ru(u):l.type&&Fy[l.type]?Fy[l.type](u):Jo(Ci({},u,{valueSpec:l.type?p[l.type]:l}))}function gw(u){let s=u.value,l=u.key,p=Ra(u);return p.length||(s.indexOf("{fontstack}")===-1&&p.push(new He(l,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&p.push(new He(l,s,"\"glyphs\" url must include a \"{range}\" token"))),p}function po(u,s=Te){let l=[];return l=l.concat($c({key:"",value:u,valueSpec:s.$root,styleSpec:s,style:u,validateSpec:$c,objectElementValidators:{glyphs:gw,"*":()=>[]}})),u.constants&&(l=l.concat(Dy({key:"constants",value:u.constants}))),Gc(l)}function Oa(u){return function(s){return u(v_(ta({},s),{validateSpec:$c}))}}function Gc(u){return[].concat(u).sort((s,l)=>s.line-l.line)}function La(u){return function(...s){return Gc(u.apply(this,s))}}po.source=La(Oa(fo)),po.sprite=La(Oa(vw)),po.glyphs=La(Oa(gw)),po.light=La(Oa(Uc)),po.sky=La(Oa(Ny)),po.terrain=La(Oa(mw)),po.state=La(Oa(Vc)),po.layer=La(Oa(dw)),po.filter=La(Oa(ky)),po.paintProperty=La(Oa(fw)),po.layoutProperty=La(Oa(pw));let Zc=po,KM=Zc.light,Hf=Zc.sky,YM=Zc.paintProperty,XM=Zc.layoutProperty;function Kf(u,s){let l=!1;if(s&&s.length)for(let p of s)u.fire(new ze(new Error(p.message))),l=!0;return l}class Yf{constructor(s,l,p){let m=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let b=new Int32Array(this.arrayBuffer);s=b[0],this.d=(l=b[1])+2*(p=b[2]);for(let A=0;A<this.d*this.d;A++){let O=b[3+A],D=b[3+A+1];m.push(O===D?null:b.subarray(O,D))}let I=b[3+m.length+1];this.keys=b.subarray(b[3+m.length],I),this.bboxes=b.subarray(I),this.insert=this._insertReadonly}else{this.d=l+2*p;for(let b=0;b<this.d*this.d;b++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=s,this.padding=p,this.scale=l/s,this.uid=0;let x=p/l*s;this.min=-x,this.max=s+x}insert(s,l,p,m,x){this._forEachCell(l,p,m,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(l),this.bboxes.push(p),this.bboxes.push(m),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,l,p,m,x,b){this.cells[x].push(b)}query(s,l,p,m,x){let b=this.min,I=this.max;if(s<=b&&l<=b&&I<=p&&I<=m&&!x)return Array.prototype.slice.call(this.keys);{let A=[];return this._forEachCell(s,l,p,m,this._queryCell,A,{},x),A}}_queryCell(s,l,p,m,x,b,I,A){let O=this.cells[x];if(O!==null){let D=this.keys,F=this.bboxes;for(let U=0;U<O.length;U++){let Z=O[U];if(I[Z]===void 0){let W=4*Z;(A?A(F[W+0],F[W+1],F[W+2],F[W+3]):s<=F[W+2]&&l<=F[W+3]&&p>=F[W+0]&&m>=F[W+1])?(I[Z]=!0,b.push(D[Z])):I[Z]=!1}}}}_forEachCell(s,l,p,m,x,b,I,A){let O=this._convertToCellCoord(s),D=this._convertToCellCoord(l),F=this._convertToCellCoord(p),U=this._convertToCellCoord(m);for(let Z=O;Z<=F;Z++)for(let W=D;W<=U;W++){let X=this.d*W+Z;if((!A||A(this._convertFromCellCoord(Z),this._convertFromCellCoord(W),this._convertFromCellCoord(Z+1),this._convertFromCellCoord(W+1)))&&x.call(this,s,l,p,m,X,b,I,A))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,l=3+this.cells.length+1+1,p=0;for(let b=0;b<this.cells.length;b++)p+=this.cells[b].length;let m=new Int32Array(l+p+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let x=l;for(let b=0;b<s.length;b++){let I=s[b];m[3+b]=x,m.set(I,x),x+=I.length}return m[3+s.length]=x,m.set(this.keys,x),x+=this.keys.length,m[3+s.length+1]=x,m.set(this.bboxes,x),x+=this.bboxes.length,m.buffer}static serialize(s,l){let p=s.toArrayBuffer();return l&&l.push(p),{buffer:p}}static deserialize(s){return new Yf(s.buffer)}}let Da={};function at(u,s,l={}){if(Da[u])throw new Error(`${u} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:u,writeable:!1}),Da[u]={klass:s,omit:l.omit||[],shallow:l.shallow||[]}}at("Object",Object),at("Set",Set),at("TransferableGridIndex",Yf),at("Color",Ht),at("Error",Error),at("AJAXError",ce),at("ResolvedImage",Oo),at("StylePropertyFunction",$f),at("StyleExpression",Ay,{omit:["_evaluator"]}),at("ZoomDependentExpression",My),at("ZoomConstantExpression",Vf),at("CompoundExpression",Xo,{omit:["_evaluate"]});for(let u in zc)zc[u]._classRegistryKey||at(`Expression_${u}`,zc[u]);function zy(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Vd(u){return u.$name||u.constructor._classRegistryKey}function jy(u){return!function(s){if(s===null||typeof s!="object")return!1;let l=Vd(s);return!(!l||l==="Object")}(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||zy(u)||Mo(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function Wc(u,s){if(jy(u))return(zy(u)||Mo(u))&&s&&s.push(u),ArrayBuffer.isView(u)&&s&&s.push(u.buffer),u instanceof ImageData&&s&&s.push(u.data.buffer),u;if(Array.isArray(u)){let x=[];for(let b of u)x.push(Wc(b,s));return x}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);let l=Vd(u);if(!l)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Da[l])throw new Error(`${l} is not registered.`);let{klass:p}=Da[l],m=p.serialize?p.serialize(u,s):{};if(p.serialize){if(s&&m===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let x in u){if(!u.hasOwnProperty(x)||Da[l].omit.indexOf(x)>=0)continue;let b=u[x];m[x]=Da[l].shallow.indexOf(x)>=0?b:Wc(b,s)}u instanceof Error&&(m.message=u.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(m.$name=l),m}function Ou(u){if(jy(u))return u;if(Array.isArray(u))return u.map(Ou);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);let s=Vd(u)||"Object";if(!Da[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:l}=Da[s];if(!l)throw new Error(`can't deserialize unregistered class ${s}`);if(l.deserialize)return l.deserialize(u);let p=Object.create(l.prototype);for(let m of Object.keys(u)){if(m==="$name")continue;let x=u[m];p[m]=Da[s].shallow.indexOf(m)>=0?x:Ou(x)}return p}class $d{constructor(){this.first=!0}update(s,l){let p=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=l),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=p,!0))}}let Qt={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Hangul Syllables":u=>u>=44032&&u<=55215,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Gd(u){for(let s of u)if(Uy(s.charCodeAt(0)))return!0;return!1}function JM(u){for(let s of u)if(!yw(s.charCodeAt(0)))return!1;return!0}function Zd(u){let s=u.map(l=>{try{return new RegExp(`\\p{sc=${l}}`,"u").source}catch(p){return null}}).filter(l=>l);return new RegExp(s.join("|"),"u")}let QM=Zd(["Arab","Dupl","Mong","Ougr","Syrc"]);function yw(u){return!QM.test(String.fromCodePoint(u))}let By=Zd(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Uy(u){return!(u!==746&&u!==747&&(u<4352||!(Qt["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Qt["CJK Compatibility"](u)||Qt["CJK Strokes"](u)||!(!Qt["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Qt["Enclosed CJK Letters and Months"](u)||Qt["Ideographic Description Characters"](u)||Qt.Kanbun(u)||Qt.Katakana(u)&&u!==12540||!(!Qt["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Qt["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Qt["Vertical Forms"](u)||Qt["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||By.test(String.fromCodePoint(u)))))}function _w(u){return!(Uy(u)||function(s){return!!(Qt["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||Qt["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||Qt["Letterlike Symbols"](s)||Qt["Number Forms"](s)||Qt["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||Qt["Control Pictures"](s)&&s!==9251||Qt["Optical Character Recognition"](s)||Qt["Enclosed Alphanumerics"](s)||Qt["Geometric Shapes"](s)||Qt["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||Qt["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Qt["CJK Symbols and Punctuation"](s)||Qt.Katakana(s)||Qt["Private Use Area"](s)||Qt["CJK Compatibility Forms"](s)||Qt["Small Form Variants"](s)||Qt["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(u))}let xw=Zd(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Vy(u){return xw.test(String.fromCodePoint(u))}function bw(u,s){return!(!s&&Vy(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Qt.Khmer(u))}function ww(u){for(let s of u)if(Vy(s.charCodeAt(0)))return!0;return!1}let ka=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){if(ka.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(u,s){return i(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(u.pluginStatus!=="loading")return this.setState(u),u;let l=u.pluginURL,p=new Promise(x=>{this.loadScriptResolve=x});s(l);let m=new Promise(x=>setTimeout(()=>x(),this.TIMEOUT));if(yield Promise.race([p,m]),this.isParsed()){let x={pluginStatus:"loaded",pluginURL:l};return this.setState(x),x}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${l}`)})}};class Lr{constructor(s,l){this.zoom=s,l?(this.now=l.now||0,this.fadeDuration=l.fadeDuration||0,this.zoomHistory=l.zoomHistory||new $d,this.transition=l.transition||{},this.globalState=l.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new $d,this.transition={},this.globalState={})}isSupportedScript(s){return function(l,p){for(let m of l)if(!bw(m.charCodeAt(0),p))return!1;return!0}(s,ka.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,l=s-Math.floor(s),p=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*l}}}class Hc{constructor(s,l){this.property=s,this.value=l,this.expression=function(p,m){if(Bf(p))return new $f(p,m);if(Nd(p)){let x=aw(p,m);if(x.result==="error")throw new Error(x.value.map(b=>`${b.key}: ${b.message}`).join(", "));return x.value}{let x=p;return m.type==="color"&&typeof p=="string"?x=Ht.parse(p):m.type!=="padding"||typeof p!="number"&&!Array.isArray(p)?m.type!=="numberArray"||typeof p!="number"&&!Array.isArray(p)?m.type!=="colorArray"||typeof p!="string"&&!Array.isArray(p)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(p)?x=Vi.parse(p):m.type==="projectionDefinition"&&typeof p=="string"&&(x=Pi.parse(p)):x=Ln.parse(p):x=Ui.parse(p):x=Qn.parse(p),{globalStateRefs:new Set,kind:"constant",evaluate:()=>x}}}(l===void 0?s.specification.default:l,s.specification),this._evaluate=this.expression.evaluate}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(s,l,p){return this.property.possiblyEvaluate(this,s,l,p)}setGlobalState(s){this.expression.evaluate=(l,p,m,x,b,I)=>(l.globalState=s,this._evaluate.call(this.expression,l,p,m,x,b,I))}}class $y{constructor(s){this.property=s,this.value=new Hc(s,void 0)}transitioned(s,l){return new Gy(this.property,this.value,l,dn({},s.transition,this.transition),s.now)}untransitioned(){return new Gy(this.property,this.value,null,{},0)}}class Ew{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return Yr(this._values[s].value.value)}setValue(s,l){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new $y(this._values[s].property)),this._values[s].value=new Hc(this._values[s].property,l===null?void 0:Yr(l))}getTransition(s){return Yr(this._values[s].transition)}setTransition(s,l){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new $y(this._values[s].property)),this._values[s].transition=Yr(l)||void 0}serialize(){let s={};for(let l of Object.keys(this._values)){let p=this.getValue(l);p!==void 0&&(s[l]=p);let m=this.getTransition(l);m!==void 0&&(s[`${l}-transition`]=m)}return s}transitioned(s,l){let p=new Zy(this._properties);for(let m of Object.keys(this._values))p._values[m]=this._values[m].transitioned(s,l._values[m]);return p}untransitioned(){let s=new Zy(this._properties);for(let l of Object.keys(this._values))s._values[l]=this._values[l].untransitioned();return s}}class Gy{constructor(s,l,p,m,x){this.property=s,this.value=l,this.begin=x+m.delay||0,this.end=this.begin+m.duration||0,s.specification.transition&&(m.delay||m.duration)&&(this.prior=p)}possiblyEvaluate(s,l,p){let m=s.now||0,x=this.value.possiblyEvaluate(s,l,p),b=this.prior;if(b){if(m>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(m<this.begin)return b.possiblyEvaluate(s,l,p);{let I=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(s,l,p),x,Ur(I))}}return x}}class Zy{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,l,p){let m=new Wd(this._properties);for(let x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(s,l,p);return m}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class Sw{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues),this._globalState={}}hasValue(s){return this._values[s].value!==void 0}getValue(s){return Yr(this._values[s].value)}setValue(s,l){this._values[s]=new Hc(this._values[s].property,l===null?void 0:Yr(l)),this._values[s].setGlobalState(this._globalState)}serialize(){let s={};for(let l of Object.keys(this._values)){let p=this.getValue(l);p!==void 0&&(s[l]=p)}return s}possiblyEvaluate(s,l,p){let m=new Wd(this._properties);for(let x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(s,l,p);return m}setGlobalState(s){this._globalState=s;for(let l of Object.values(this._values))l.setGlobalState(s)}}class us{constructor(s,l,p){this.property=s,this.value=l,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,l,p,m){return this.property.evaluate(this.value,this.parameters,s,l,p,m)}}class Wd{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class ht{constructor(s){this.specification=s}possiblyEvaluate(s,l){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(l)}interpolate(s,l,p){let m=ss[this.specification.type];return m?m(s,l,p):s}}class yt{constructor(s,l){this.specification=s,this.overrides=l}possiblyEvaluate(s,l,p,m){return new us(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(l,null,{},p,m)}:s.expression,l)}interpolate(s,l,p){if(s.value.kind!=="constant"||l.value.kind!=="constant")return s;if(s.value.value===void 0||l.value.value===void 0)return new us(this,{kind:"constant",value:void 0},s.parameters);let m=ss[this.specification.type];if(m){let x=m(s.value.value,l.value.value,p);return new us(this,{kind:"constant",value:x},s.parameters)}return s}evaluate(s,l,p,m,x,b){return s.kind==="constant"?s.value:s.evaluate(l,p,m,x,b)}}class Hd extends yt{possiblyEvaluate(s,l,p,m){if(s.value===void 0)return new us(this,{kind:"constant",value:void 0},l);if(s.expression.kind==="constant"){let x=s.expression.evaluate(l,null,{},p,m),b=s.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,I=this._calculate(b,b,b,l);return new us(this,{kind:"constant",value:I},l)}if(s.expression.kind==="camera"){let x=this._calculate(s.expression.evaluate({zoom:l.zoom-1}),s.expression.evaluate({zoom:l.zoom}),s.expression.evaluate({zoom:l.zoom+1}),l);return new us(this,{kind:"constant",value:x},l)}return new us(this,s.expression,l)}evaluate(s,l,p,m,x,b){if(s.kind==="source"){let I=s.evaluate(l,p,m,x,b);return this._calculate(I,I,I,l)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(l.zoom)-1},p,m),s.evaluate({zoom:Math.floor(l.zoom)},p,m),s.evaluate({zoom:Math.floor(l.zoom)+1},p,m),l):s.value}_calculate(s,l,p,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:s,to:l}:{from:p,to:l}}interpolate(s){return s}}class Tl{constructor(s){this.specification=s}possiblyEvaluate(s,l,p,m){if(s.value!==void 0){if(s.expression.kind==="constant"){let x=s.expression.evaluate(l,null,{},p,m);return this._calculate(x,x,x,l)}return this._calculate(s.expression.evaluate(new Lr(Math.floor(l.zoom-1),l)),s.expression.evaluate(new Lr(Math.floor(l.zoom),l)),s.expression.evaluate(new Lr(Math.floor(l.zoom+1),l)),l)}}_calculate(s,l,p,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:s,to:l}:{from:p,to:l}}interpolate(s){return s}}class Kd{constructor(s){this.specification=s}possiblyEvaluate(s,l,p,m){return!!s.expression.evaluate(l,null,{},p,m)}interpolate(){return!1}}class $i{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let l in s){let p=s[l];p.specification.overridable&&this.overridableProperties.push(l);let m=this.defaultPropertyValues[l]=new Hc(p,void 0),x=this.defaultTransitionablePropertyValues[l]=new $y(p);this.defaultTransitioningPropertyValues[l]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}at("DataDrivenProperty",yt),at("DataConstantProperty",ht),at("CrossFadedDataDrivenProperty",Hd),at("CrossFadedProperty",Tl),at("ColorRampProperty",Kd);let Tw="-transition";class Qo extends ct{constructor(s,l){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,this._globalState={},s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter,this._featureFilter=Mu(s.filter)),l.layout&&(this._unevaluatedLayout=new Sw(l.layout)),l.paint)){this._transitionablePaint=new Ew(l.paint);for(let p in s.paint)this.setPaintProperty(p,s.paint[p],{validate:!1});for(let p in s.layout)this.setLayoutProperty(p,s.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wd(l.paint)}}setFilter(s){this.filter=s,this._featureFilter=Mu(s)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}getLayoutAffectingGlobalStateRefs(){let s=new Set;if(this._unevaluatedLayout)for(let l in this._unevaluatedLayout._values){let p=this._unevaluatedLayout._values[l];for(let m of p.getGlobalStateRefs())s.add(m)}for(let l of this._featureFilter.getGlobalStateRefs())s.add(l);return s}getPaintAffectingGlobalStateRefs(){var s;let l=new globalThis.Map;if(this._transitionablePaint)for(let p in this._transitionablePaint._values){let m=this._transitionablePaint._values[p].value;for(let x of m.getGlobalStateRefs()){let b=(s=l.get(x))!==null&&s!==void 0?s:[];b.push({name:p,value:m.value}),l.set(x,b)}}return l}setLayoutProperty(s,l,p={}){l!=null&&this._validate(XM,`layers.${this.id}.layout.${s}`,s,l,p)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,l):this.visibility=l)}getPaintProperty(s){return s.endsWith(Tw)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,l,p={}){if(l!=null&&this._validate(YM,`layers.${this.id}.paint.${s}`,s,l,p))return!1;if(s.endsWith(Tw))return this._transitionablePaint.setTransition(s.slice(0,-11),l||void 0),!1;{let m=this._transitionablePaint._values[s],x=m.property.specification["property-type"]==="cross-faded-data-driven",b=m.value.isDataDriven(),I=m.value;this._transitionablePaint.setValue(s,l),this._handleSpecialPaintPropertyUpdate(s);let A=this._transitionablePaint._values[s].value;return A.isDataDriven()||b||x||this._handleOverridablePaintPropertyUpdate(s,I,A)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,l,p){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,l){s.globalState=this._globalState,s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,l)}setGlobalState(s){this._globalState=s,this._unevaluatedLayout&&this._unevaluatedLayout.setGlobalState(s)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Ja(s,(l,p)=>!(l===void 0||p==="layout"&&!Object.keys(l).length||p==="paint"&&!Object.keys(l).length))}_validate(s,l,p,m,x={}){return(!x||x.validate!==!1)&&Kf(this,s.call(Zc,{key:l,layerType:this.type,objectKey:p,value:m,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let l=this.paint.get(s);if(l instanceof us&&El(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}let e2={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Xf{constructor(s,l){this._structArray=s,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Er{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,l){return s._trim(),l&&(s.isTransferred=!0,l.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let l=Object.create(this.prototype);return l.arrayBuffer=s.arrayBuffer,l.length=s.length,l.capacity=s.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function gn(u,s=1){let l=0,p=0;return{members:u.map(m=>{let x=e2[m.type].BYTES_PER_ELEMENT,b=l=Yd(l,Math.max(s,x)),I=m.components||1;return p=Math.max(p,x),l+=x*I,{name:m.name,type:m.type,components:I,offset:b}}),size:Yd(l,Math.max(p,s)),alignment:s}}function Yd(u,s){return Math.ceil(u/s)*s}class Kc extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l){let p=this.length;return this.resize(p+1),this.emplace(p,s,l)}emplace(s,l,p){let m=2*s;return this.int16[m+0]=l,this.int16[m+1]=p,s}}Kc.prototype.bytesPerElement=4,at("StructArrayLayout2i4",Kc);class Yc extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,s,l,p)}emplace(s,l,p,m){let x=3*s;return this.int16[x+0]=l,this.int16[x+1]=p,this.int16[x+2]=m,s}}Yc.prototype.bytesPerElement=6,at("StructArrayLayout3i6",Yc);class Wy extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m){let x=this.length;return this.resize(x+1),this.emplace(x,s,l,p,m)}emplace(s,l,p,m,x){let b=4*s;return this.int16[b+0]=l,this.int16[b+1]=p,this.int16[b+2]=m,this.int16[b+3]=x,s}}Wy.prototype.bytesPerElement=8,at("StructArrayLayout4i8",Wy);class Xc extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b){let I=this.length;return this.resize(I+1),this.emplace(I,s,l,p,m,x,b)}emplace(s,l,p,m,x,b,I){let A=6*s;return this.int16[A+0]=l,this.int16[A+1]=p,this.int16[A+2]=m,this.int16[A+3]=x,this.int16[A+4]=b,this.int16[A+5]=I,s}}Xc.prototype.bytesPerElement=12,at("StructArrayLayout2i4i12",Xc);class Lu extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b){let I=this.length;return this.resize(I+1),this.emplace(I,s,l,p,m,x,b)}emplace(s,l,p,m,x,b,I){let A=4*s,O=8*s;return this.int16[A+0]=l,this.int16[A+1]=p,this.uint8[O+4]=m,this.uint8[O+5]=x,this.uint8[O+6]=b,this.uint8[O+7]=I,s}}Lu.prototype.bytesPerElement=8,at("StructArrayLayout2i4ub8",Lu);class Jf extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l){let p=this.length;return this.resize(p+1),this.emplace(p,s,l)}emplace(s,l,p){let m=2*s;return this.float32[m+0]=l,this.float32[m+1]=p,s}}Jf.prototype.bytesPerElement=8,at("StructArrayLayout2f8",Jf);class Xd extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b,I,A,O,D){let F=this.length;return this.resize(F+1),this.emplace(F,s,l,p,m,x,b,I,A,O,D)}emplace(s,l,p,m,x,b,I,A,O,D,F){let U=10*s;return this.uint16[U+0]=l,this.uint16[U+1]=p,this.uint16[U+2]=m,this.uint16[U+3]=x,this.uint16[U+4]=b,this.uint16[U+5]=I,this.uint16[U+6]=A,this.uint16[U+7]=O,this.uint16[U+8]=D,this.uint16[U+9]=F,s}}Xd.prototype.bytesPerElement=20,at("StructArrayLayout10ui20",Xd);class Du extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b,I,A,O,D,F,U){let Z=this.length;return this.resize(Z+1),this.emplace(Z,s,l,p,m,x,b,I,A,O,D,F,U)}emplace(s,l,p,m,x,b,I,A,O,D,F,U,Z){let W=12*s;return this.int16[W+0]=l,this.int16[W+1]=p,this.int16[W+2]=m,this.int16[W+3]=x,this.uint16[W+4]=b,this.uint16[W+5]=I,this.uint16[W+6]=A,this.uint16[W+7]=O,this.int16[W+8]=D,this.int16[W+9]=F,this.int16[W+10]=U,this.int16[W+11]=Z,s}}Du.prototype.bytesPerElement=24,at("StructArrayLayout4i4ui4i24",Du);class Hy extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,s,l,p)}emplace(s,l,p,m){let x=3*s;return this.float32[x+0]=l,this.float32[x+1]=p,this.float32[x+2]=m,s}}Hy.prototype.bytesPerElement=12,at("StructArrayLayout3f12",Hy);class Ky extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.uint32[1*s+0]=l,s}}Ky.prototype.bytesPerElement=4,at("StructArrayLayout1ul4",Ky);class Jd extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b,I,A,O){let D=this.length;return this.resize(D+1),this.emplace(D,s,l,p,m,x,b,I,A,O)}emplace(s,l,p,m,x,b,I,A,O,D){let F=10*s,U=5*s;return this.int16[F+0]=l,this.int16[F+1]=p,this.int16[F+2]=m,this.int16[F+3]=x,this.int16[F+4]=b,this.int16[F+5]=I,this.uint32[U+3]=A,this.uint16[F+8]=O,this.uint16[F+9]=D,s}}Jd.prototype.bytesPerElement=20,at("StructArrayLayout6i1ul2ui20",Jd);class Yy extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b){let I=this.length;return this.resize(I+1),this.emplace(I,s,l,p,m,x,b)}emplace(s,l,p,m,x,b,I){let A=6*s;return this.int16[A+0]=l,this.int16[A+1]=p,this.int16[A+2]=m,this.int16[A+3]=x,this.int16[A+4]=b,this.int16[A+5]=I,s}}Yy.prototype.bytesPerElement=12,at("StructArrayLayout2i2i2i12",Yy);class y extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x){let b=this.length;return this.resize(b+1),this.emplace(b,s,l,p,m,x)}emplace(s,l,p,m,x,b){let I=4*s,A=8*s;return this.float32[I+0]=l,this.float32[I+1]=p,this.float32[I+2]=m,this.int16[A+6]=x,this.int16[A+7]=b,s}}y.prototype.bytesPerElement=16,at("StructArrayLayout2f1f2i16",y);class a extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b){let I=this.length;return this.resize(I+1),this.emplace(I,s,l,p,m,x,b)}emplace(s,l,p,m,x,b,I){let A=16*s,O=4*s,D=8*s;return this.uint8[A+0]=l,this.uint8[A+1]=p,this.float32[O+1]=m,this.float32[O+2]=x,this.int16[D+6]=b,this.int16[D+7]=I,s}}a.prototype.bytesPerElement=16,at("StructArrayLayout2ub2f2i16",a);class c extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,s,l,p)}emplace(s,l,p,m){let x=3*s;return this.uint16[x+0]=l,this.uint16[x+1]=p,this.uint16[x+2]=m,s}}c.prototype.bytesPerElement=6,at("StructArrayLayout3ui6",c);class d extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le){let Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le)}emplace(s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le,Ee){let me=24*s,ye=12*s,Ae=48*s;return this.int16[me+0]=l,this.int16[me+1]=p,this.uint16[me+2]=m,this.uint16[me+3]=x,this.uint32[ye+2]=b,this.uint32[ye+3]=I,this.uint32[ye+4]=A,this.uint16[me+10]=O,this.uint16[me+11]=D,this.uint16[me+12]=F,this.float32[ye+7]=U,this.float32[ye+8]=Z,this.uint8[Ae+36]=W,this.uint8[Ae+37]=X,this.uint8[Ae+38]=ne,this.uint32[ye+10]=le,this.int16[me+22]=Ee,s}}d.prototype.bytesPerElement=48,at("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",d);class v extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le,Ee,me,ye,Ae,Oe,Ue,et,Ke,Je,ft,Xe){let Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le,Ee,me,ye,Ae,Oe,Ue,et,Ke,Je,ft,Xe)}emplace(s,l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le,Ee,me,ye,Ae,Oe,Ue,et,Ke,Je,ft,Xe,Qe){let Fe=32*s,bt=16*s;return this.int16[Fe+0]=l,this.int16[Fe+1]=p,this.int16[Fe+2]=m,this.int16[Fe+3]=x,this.int16[Fe+4]=b,this.int16[Fe+5]=I,this.int16[Fe+6]=A,this.int16[Fe+7]=O,this.uint16[Fe+8]=D,this.uint16[Fe+9]=F,this.uint16[Fe+10]=U,this.uint16[Fe+11]=Z,this.uint16[Fe+12]=W,this.uint16[Fe+13]=X,this.uint16[Fe+14]=ne,this.uint16[Fe+15]=le,this.uint16[Fe+16]=Ee,this.uint16[Fe+17]=me,this.uint16[Fe+18]=ye,this.uint16[Fe+19]=Ae,this.uint16[Fe+20]=Oe,this.uint16[Fe+21]=Ue,this.uint16[Fe+22]=et,this.uint32[bt+12]=Ke,this.float32[bt+13]=Je,this.float32[bt+14]=ft,this.uint16[Fe+30]=Xe,this.uint16[Fe+31]=Qe,s}}v.prototype.bytesPerElement=64,at("StructArrayLayout8i15ui1ul2f2ui64",v);class _ extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.float32[1*s+0]=l,s}}_.prototype.bytesPerElement=4,at("StructArrayLayout1f4",_);class T extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,s,l,p)}emplace(s,l,p,m){let x=3*s;return this.uint16[6*s+0]=l,this.float32[x+1]=p,this.float32[x+2]=m,s}}T.prototype.bytesPerElement=12,at("StructArrayLayout1ui2f12",T);class M extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,s,l,p)}emplace(s,l,p,m){let x=4*s;return this.uint32[2*s+0]=l,this.uint16[x+2]=p,this.uint16[x+3]=m,s}}M.prototype.bytesPerElement=8,at("StructArrayLayout1ul2ui8",M);class R extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l){let p=this.length;return this.resize(p+1),this.emplace(p,s,l)}emplace(s,l,p){let m=2*s;return this.uint16[m+0]=l,this.uint16[m+1]=p,s}}R.prototype.bytesPerElement=4,at("StructArrayLayout2ui4",R);class k extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.uint16[1*s+0]=l,s}}k.prototype.bytesPerElement=2,at("StructArrayLayout1ui2",k);class N extends Er{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,p,m){let x=this.length;return this.resize(x+1),this.emplace(x,s,l,p,m)}emplace(s,l,p,m,x){let b=4*s;return this.float32[b+0]=l,this.float32[b+1]=p,this.float32[b+2]=m,this.float32[b+3]=x,s}}N.prototype.bytesPerElement=16,at("StructArrayLayout4f16",N);class j extends Xf{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new f(this.anchorPointX,this.anchorPointY)}}j.prototype.size=20;class z extends Jd{get(s){return new j(this,s)}}at("CollisionBoxArray",z);class V extends Xf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}V.prototype.size=48;class K extends d{get(s){return new V(this,s)}}at("PlacedSymbolArray",K);class oe extends Xf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}oe.prototype.size=64;class ie extends v{get(s){return new oe(this,s)}}at("SymbolInstanceArray",ie);class ae extends _{getoffsetX(s){return this.float32[1*s+0]}}at("GlyphOffsetArray",ae);class ue extends Yc{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}at("SymbolLineVertexArray",ue);class pe extends Xf{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}pe.prototype.size=12;class he extends T{get(s){return new pe(this,s)}}at("TextAnchorOffsetArray",he);class ve extends Xf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ve.prototype.size=8;class _e extends M{get(s){return new ve(this,s)}}at("FeatureIndexArray",_e);class fe extends Kc{}class Se extends Kc{}class Re extends Kc{}class Ie extends Xc{}class Pe extends Lu{}class qe extends Jf{}class Ze extends Xd{}class Ye extends Du{}class je extends Hy{}class lt extends Ky{}class kt extends Yy{}class hr extends a{}class Sr extends c{}class gr extends R{}let Xr=gn([{name:"a_pos",components:2,type:"Int16"}],4),{members:ln}=Xr;class Lt{constructor(s=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=s}prepareSegment(s,l,p,m){let x=this.segments[this.segments.length-1];return s>Lt.MAX_VERTEX_ARRAY_LENGTH&&vr(`Max vertices per segment is ${Lt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Lt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!x||x.vertexLength+s>Lt.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==m?this.createNewSegment(l,p,m):x}createNewSegment(s,l,p){let m={vertexOffset:s.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0,vaos:{}};return p!==void 0&&(m.sortKey=p),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(s,l,p){return this.prepareSegment(0,s,l,p)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let s of this.segments)for(let l in s.vaos)s.vaos[l].destroy()}static simpleSegment(s,l,p,m){return new Lt([{vertexOffset:s,primitiveOffset:l,vertexLength:p,primitiveLength:m,vaos:{},sortKey:0}])}}function Tr(u,s){return 256*(u=wr(Math.floor(u),0,255))+wr(Math.floor(s),0,255)}Lt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,at("SegmentVector",Lt);let Dn=gn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Wn,ti,Gi,Na={exports:{}},Il={exports:{}},Cl={exports:{}},Jc=function(){if(Gi)return Na.exports;Gi=1;var u=(Wn||(Wn=1,Il.exports=function(l,p){var m,x,b,I,A,O,D,F;for(x=l.length-(m=3&l.length),b=p,A=3432918353,O=461845907,F=0;F<x;)D=255&l.charCodeAt(F)|(255&l.charCodeAt(++F))<<8|(255&l.charCodeAt(++F))<<16|(255&l.charCodeAt(++F))<<24,++F,b=27492+(65535&(I=5*(65535&(b=(b^=D=(65535&(D=(D=(65535&D)*A+(((D>>>16)*A&65535)<<16)&4294967295)<<15|D>>>17))*O+(((D>>>16)*O&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(I>>>16)&65535)<<16);switch(D=0,m){case 3:D^=(255&l.charCodeAt(F+2))<<16;case 2:D^=(255&l.charCodeAt(F+1))<<8;case 1:b^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(F)))*A+(((D>>>16)*A&65535)<<16)&4294967295)<<15|D>>>17))*O+(((D>>>16)*O&65535)<<16)&4294967295}return b^=l.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}),Il.exports),s=(ti||(ti=1,Cl.exports=function(l,p){for(var m,x=l.length,b=p^x,I=0;x>=4;)m=1540483477*(65535&(m=255&l.charCodeAt(I)|(255&l.charCodeAt(++I))<<8|(255&l.charCodeAt(++I))<<16|(255&l.charCodeAt(++I))<<24))+((1540483477*(m>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),x-=4,++I;switch(x){case 3:b^=(255&l.charCodeAt(I+2))<<16;case 2:b^=(255&l.charCodeAt(I+1))<<8;case 1:b=1540483477*(65535&(b^=255&l.charCodeAt(I)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}),Cl.exports);return Na.exports=u,Na.exports.murmur3=u,Na.exports.murmur2=s,Na.exports}(),Qc=g(Jc);class ku{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,l,p,m){this.ids.push(Nu(s)),this.positions.push(l,p,m)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let l=Nu(s),p=0,m=this.ids.length-1;for(;p<m;){let b=p+m>>1;this.ids[b]>=l?m=b:p=b+1}let x=[];for(;this.ids[p]===l;)x.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return x}static serialize(s,l){let p=new Float64Array(s.ids),m=new Uint32Array(s.positions);return mo(p,m,0,p.length-1),l&&l.push(p.buffer,m.buffer),{ids:p,positions:m}}static deserialize(s){let l=new ku;return l.ids=s.ids,l.positions=s.positions,l.indexed=!0,l}}function Nu(u){let s=+u;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:Qc(String(u))}function mo(u,s,l,p){for(;l<p;){let m=u[l+p>>1],x=l-1,b=p+1;for(;;){do x++;while(u[x]<m);do b--;while(u[b]>m);if(x>=b)break;Fa(u,x,b),Fa(s,3*x,3*b),Fa(s,3*x+1,3*b+1),Fa(s,3*x+2,3*b+2)}b-l<p-b?(mo(u,s,l,b),l=b+1):(mo(u,s,b+1,p),p=b)}}function Fa(u,s,l){let p=u[s];u[s]=u[l],u[l]=p}at("FeaturePositionMap",ku);class Zi{constructor(s,l){this.gl=s.gl,this.location=l}}class Pl extends Zi{constructor(s,l){super(s,l),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class kn extends Zi{constructor(s,l){super(s,l),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class Hn extends Zi{constructor(s,l){super(s,l),this.current=Ht.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let ea=new Float32Array(16);function Nn(u){return[Tr(255*u.r,255*u.g),Tr(255*u.b,255*u.a)]}class Qf{constructor(s,l,p){this.value=s,this.uniformNames=l.map(m=>`u_${m}`),this.type=p}setUniform(s,l,p){s.set(p.constantOr(this.value))}getBinding(s,l,p){return this.type==="color"?new Hn(s,l):new Pl(s,l)}}class eh{constructor(s,l){this.uniformNames=l.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=s.tlbr}setUniform(s,l,p,m){let x=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&s.set(x)}getBinding(s,l,p){return p.substr(0,9)==="u_pattern"?new kn(s,l):new Pl(s,l)}}class Us{constructor(s,l,p,m){this.expression=s,this.type=p,this.maxValue=0,this.paintVertexAttributes=l.map(x=>({name:`a_${x}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(s,l,p){let m=this.paintVertexArray.length,x=this.expression.evaluate(new Lr(0,p),l,{},p.canonical,[],p.formattedSection);this.paintVertexArray.resize(s),this._setPaintValue(m,s,x)}updatePaintArray(s,l,p,m,x){let b=this.expression.evaluate(new Lr(0,x),p,m);this._setPaintValue(s,l,b)}_setPaintValue(s,l,p){if(this.type==="color"){let m=Nn(p);for(let x=s;x<l;x++)this.paintVertexArray.emplace(x,m[0],m[1])}else{for(let m=s;m<l;m++)this.paintVertexArray.emplace(m,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class za{constructor(s,l,p,m,x,b){this.expression=s,this.uniformNames=l.map(I=>`u_${I}_t`),this.type=p,this.useIntegerZoom=m,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=l.map(I=>({name:`a_${I}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(s,l,p){let m=this.expression.evaluate(new Lr(this.zoom,p),l,{},p.canonical,[],p.formattedSection),x=this.expression.evaluate(new Lr(this.zoom+1,p),l,{},p.canonical,[],p.formattedSection),b=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(b,s,m,x)}updatePaintArray(s,l,p,m,x){let b=this.expression.evaluate(new Lr(this.zoom,x),p,m),I=this.expression.evaluate(new Lr(this.zoom+1,x),p,m);this._setPaintValue(s,l,b,I)}_setPaintValue(s,l,p,m){if(this.type==="color"){let x=Nn(p),b=Nn(m);for(let I=s;I<l;I++)this.paintVertexArray.emplace(I,x[0],x[1],b[0],b[1])}else{for(let x=s;x<l;x++)this.paintVertexArray.emplace(x,p,m);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(m))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,l){let p=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=wr(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);s.set(m)}getBinding(s,l,p){return new Pl(s,l)}}class Al{constructor(s,l,p,m,x,b){this.expression=s,this.type=l,this.useIntegerZoom=p,this.zoom=m,this.layerId=b,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(s,l,p){let m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(m,s,l.patterns&&l.patterns[this.layerId],p.imagePositions)}updatePaintArray(s,l,p,m,x){this._setPaintValues(s,l,p.patterns&&p.patterns[this.layerId],x.imagePositions)}_setPaintValues(s,l,p,m){if(!m||!p)return;let{min:x,mid:b,max:I}=p,A=m[x],O=m[b],D=m[I];if(A&&O&&D)for(let F=s;F<l;F++)this.zoomInPaintVertexArray.emplace(F,O.tl[0],O.tl[1],O.br[0],O.br[1],A.tl[0],A.tl[1],A.br[0],A.br[1],O.pixelRatio,A.pixelRatio),this.zoomOutPaintVertexArray.emplace(F,O.tl[0],O.tl[1],O.br[0],O.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],O.pixelRatio,D.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,Dn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,Dn.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Iw{constructor(s,l,p){this.binders={},this._buffers=[];let m=[];for(let x in s.paint._values){if(!p(x))continue;let b=s.paint.get(x);if(!(b instanceof us&&El(b.property.specification)))continue;let I=Cw(x,s.type),A=b.value,O=b.property.specification.type,D=b.property.useIntegerZoom,F=b.property.specification["property-type"],U=F==="cross-faded"||F==="cross-faded-data-driven";if(A.kind==="constant")this.binders[x]=U?new eh(A.value,I):new Qf(A.value,I,O),m.push(`/u_${x}`);else if(A.kind==="source"||U){let Z=Xy(x,O,"source");this.binders[x]=U?new Al(A,O,D,l,Z,s.id):new Us(A,I,O,Z),m.push(`/a_${x}`)}else{let Z=Xy(x,O,"composite");this.binders[x]=new za(A,I,O,D,l,Z),m.push(`/z_${x}`)}}this.cacheKey=m.sort().join("")}getMaxValue(s){let l=this.binders[s];return l instanceof Us||l instanceof za?l.maxValue:0}populatePaintArrays(s,l,p){for(let m in this.binders){let x=this.binders[m];(x instanceof Us||x instanceof za||x instanceof Al)&&x.populatePaintArray(s,l,p)}}setConstantPatternPositions(s,l){for(let p in this.binders){let m=this.binders[p];m instanceof eh&&m.setConstantPatternPositions(s,l)}}updatePaintArrays(s,l,p,m,x){let b=!1;for(let I in s){let A=l.getPositions(I);for(let O of A){let D=p.feature(O.index);for(let F in this.binders){let U=this.binders[F];if((U instanceof Us||U instanceof za||U instanceof Al)&&U.expression.isStateDependent===!0){let Z=m.paint.get(F);U.expression=Z.value,U.updatePaintArray(O.start,O.end,D,s[I],x),b=!0}}}}return b}defines(){let s=[];for(let l in this.binders){let p=this.binders[l];(p instanceof Qf||p instanceof eh)&&s.push(...p.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return s}getBinderAttributes(){let s=[];for(let l in this.binders){let p=this.binders[l];if(p instanceof Us||p instanceof za)for(let m=0;m<p.paintVertexAttributes.length;m++)s.push(p.paintVertexAttributes[m].name);else if(p instanceof Al)for(let m=0;m<Dn.members.length;m++)s.push(Dn.members[m].name)}return s}getBinderUniforms(){let s=[];for(let l in this.binders){let p=this.binders[l];if(p instanceof Qf||p instanceof eh||p instanceof za)for(let m of p.uniformNames)s.push(m)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,l){let p=[];for(let m in this.binders){let x=this.binders[m];if(x instanceof Qf||x instanceof eh||x instanceof za){for(let b of x.uniformNames)if(l[b]){let I=x.getBinding(s,l[b],b);p.push({name:b,property:m,binding:I})}}}return p}setUniforms(s,l,p,m){for(let{name:x,property:b,binding:I}of l)this.binders[b].setUniform(I,m,p.get(b),x)}updatePaintBuffers(s){this._buffers=[];for(let l in this.binders){let p=this.binders[l];if(s&&p instanceof Al){let m=s.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(p instanceof Us||p instanceof za)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(s){for(let l in this.binders){let p=this.binders[l];(p instanceof Us||p instanceof za||p instanceof Al)&&p.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let l=this.binders[s];(l instanceof Us||l instanceof za||l instanceof Al)&&l.destroy()}}}class Do{constructor(s,l,p=()=>!0){this.programConfigurations={};for(let m of s)this.programConfigurations[m.id]=new Iw(m,l,p);this.needsUpload=!1,this._featureMap=new ku,this._bufferOffset=0}populatePaintArrays(s,l,p,m){for(let x in this.programConfigurations)this.programConfigurations[x].populatePaintArrays(s,l,m);l.id!==void 0&&this._featureMap.add(l.id,p,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,l,p,m){for(let x of p)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(s,this._featureMap,l,x,m)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let l in this.programConfigurations)this.programConfigurations[l].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function Cw(u,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${s}-`,"").replace(/-/g,"_")]}function Xy(u,s,l){let p={color:{source:Jf,composite:N},number:{source:_,composite:Jf}},m=function(x){return{"line-pattern":{source:Ze,composite:Ze},"fill-pattern":{source:Ze,composite:Ze},"fill-extrusion-pattern":{source:Ze,composite:Ze}}[x]}(u);return m&&m[l]||p[s][l]}at("ConstantBinder",Qf),at("CrossFadedConstantBinder",eh),at("SourceExpressionBinder",Us),at("CrossFadedCompositeBinder",Al),at("CompositeExpressionBinder",za),at("ProgramConfiguration",Iw,{omit:["_buffers"]}),at("ProgramConfigurationSet",Do);let Qd=Math.pow(2,14)-1,em=-Qd-1;function Ml(u){let s=_t/u.extent,l=u.loadGeometry();for(let p=0;p<l.length;p++){let m=l[p];for(let x=0;x<m.length;x++){let b=m[x],I=Math.round(b.x*s),A=Math.round(b.y*s);b.x=wr(I,em,Qd),b.y=wr(A,em,Qd),(I<b.x||I>b.x+1||A<b.y||A>b.y+1)&&vr("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function Vs(u,s){return{type:u.type,id:u.id,properties:u.properties,geometry:s?Ml(u):[]}}let R6=-32768;function EMe(u,s,l,p,m){u.emplaceBack(R6+8*s+p,R6+8*l+m)}class t2{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Se,this.indexArray=new Sr,this.segments=new Lt,this.programConfigurations=new Do(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,p){let m=this.layers[0],x=[],b=null,I=!1,A=m.type==="heatmap";if(m.type==="circle"){let D=m;b=D.layout.get("circle-sort-key"),I=!b.isConstant(),A=A||D.paint.get("circle-pitch-alignment")==="map"}let O=A?l.subdivisionGranularity.circle:1;for(let{feature:D,id:F,index:U,sourceLayerIndex:Z}of s){let W=this.layers[0]._featureFilter.needGeometry,X=Vs(D,W);if(!this.layers[0]._featureFilter.filter(new Lr(this.zoom,{globalState:this.globalState}),X,p))continue;let ne=I?b.evaluate(X,{},p):void 0,le={id:F,properties:D.properties,type:D.type,sourceLayerIndex:Z,index:U,geometry:W?X.geometry:Ml(D),patterns:{},sortKey:ne};x.push(le)}I&&x.sort((D,F)=>D.sortKey-F.sortKey);for(let D of x){let{geometry:F,index:U,sourceLayerIndex:Z}=D,W=s[U].feature;this.addFeature(D,F,U,p,O),l.featureIndex.insert(W,F,U,Z,this.index)}}update(s,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:p,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,ln),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,l,p,m,x=1){let b;switch(x){case 1:b=[0,7];break;case 3:b=[0,2,5,7];break;case 5:b=[0,1,3,4,6,7];break;case 7:b=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${x}; valid values are 1, 3, 5, 7.`)}let I=b.length;for(let A of l)for(let O of A){let D=O.x,F=O.y;if(D<0||D>=_t||F<0||F>=_t)continue;let U=this.segments.prepareSegment(I*I,this.layoutVertexArray,this.indexArray,s.sortKey),Z=U.vertexLength;for(let W=0;W<I;W++)for(let X=0;X<I;X++)EMe(this.layoutVertexArray,D,F,b[X],b[W]);for(let W=0;W<I-1;W++)for(let X=0;X<I-1;X++){let ne=Z+W*I+X,le=Z+(W+1)*I+X;this.indexArray.emplaceBack(ne,le+1,ne+1),this.indexArray.emplaceBack(ne,le,le+1)}U.vertexLength+=I*I,U.primitiveLength+=(I-1)*(I-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,{imagePositions:{},canonical:m,globalState:this.globalState})}}function O6(u,s){for(let l=0;l<u.length;l++)if(tm(s,u[l]))return!0;for(let l=0;l<s.length;l++)if(tm(u,s[l]))return!0;return!!r2(u,s)}function SMe(u,s,l){return!!tm(u,s)||!!n2(s,u,l)}function L6(u,s){if(u.length===1)return k6(s,u[0]);for(let l=0;l<s.length;l++){let p=s[l];for(let m=0;m<p.length;m++)if(tm(u,p[m]))return!0}for(let l=0;l<u.length;l++)if(k6(s,u[l]))return!0;for(let l=0;l<s.length;l++)if(r2(u,s[l]))return!0;return!1}function TMe(u,s,l){if(u.length>1){if(r2(u,s))return!0;for(let p=0;p<s.length;p++)if(n2(s[p],u,l))return!0}for(let p=0;p<u.length;p++)if(n2(u[p],s,l))return!0;return!1}function r2(u,s){if(u.length===0||s.length===0)return!1;for(let l=0;l<u.length-1;l++){let p=u[l],m=u[l+1];for(let x=0;x<s.length-1;x++)if(IMe(p,m,s[x],s[x+1]))return!0}return!1}function IMe(u,s,l,p){return co(u,l,p)!==co(s,l,p)&&co(u,s,l)!==co(u,s,p)}function n2(u,s,l){let p=l*l;if(s.length===1)return u.distSqr(s[0])<p;for(let m=1;m<s.length;m++)if(D6(u,s[m-1],s[m])<p)return!0;return!1}function D6(u,s,l){let p=s.distSqr(l);if(p===0)return u.distSqr(s);let m=((u.x-s.x)*(l.x-s.x)+(u.y-s.y)*(l.y-s.y))/p;return u.distSqr(m<0?s:m>1?l:l.sub(s)._mult(m)._add(s))}function k6(u,s){let l,p,m,x=!1;for(let b=0;b<u.length;b++){l=u[b];for(let I=0,A=l.length-1;I<l.length;A=I++)p=l[I],m=l[A],p.y>s.y!=m.y>s.y&&s.x<(m.x-p.x)*(s.y-p.y)/(m.y-p.y)+p.x&&(x=!x)}return x}function tm(u,s){let l=!1;for(let p=0,m=u.length-1;p<u.length;m=p++){let x=u[p],b=u[m];x.y>s.y!=b.y>s.y&&s.x<(b.x-x.x)*(s.y-x.y)/(b.y-x.y)+x.x&&(l=!l)}return l}function CMe(u,s,l){let p=l[0],m=l[2];if(u.x<p.x&&s.x<p.x||u.x>m.x&&s.x>m.x||u.y<p.y&&s.y<p.y||u.y>m.y&&s.y>m.y)return!1;let x=co(u,s,l[0]);return x!==co(u,s,l[1])||x!==co(u,s,l[2])||x!==co(u,s,l[3])}function Jy(u,s,l){let p=s.paint.get(u).value;return p.kind==="constant"?p.value:l.programConfigurations.get(s.id).getMaxValue(u)}function Pw(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Aw(u,s,l,p,m){if(!s[0]&&!s[1])return u;let x=f.convert(s)._mult(m);l==="viewport"&&x._rotate(-p);let b=[];for(let I=0;I<u.length;I++)b.push(u[I].sub(x));return b}let N6,F6;at("CircleBucket",t2,{omit:["layers"]});var PMe={get paint(){return F6=F6||new $i({"circle-radius":new yt(Te.paint_circle["circle-radius"]),"circle-color":new yt(Te.paint_circle["circle-color"]),"circle-blur":new yt(Te.paint_circle["circle-blur"]),"circle-opacity":new yt(Te.paint_circle["circle-opacity"]),"circle-translate":new ht(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new ht(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ht(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ht(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yt(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yt(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yt(Te.paint_circle["circle-stroke-opacity"])})},get layout(){return N6=N6||new $i({"circle-sort-key":new yt(Te.layout_circle["circle-sort-key"])})}};class AMe extends Qo{constructor(s){super(s,PMe)}createBucket(s){return new t2(s)}queryRadius(s){let l=s;return Jy("circle-radius",this,l)+Jy("circle-stroke-width",this,l)+Pw(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:p,geometry:m,transform:x,pixelsToTileUnits:b,unwrappedTileID:I,getElevation:A}){let O=Aw(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-x.bearingInRadians,b),D=this.paint.get("circle-radius").evaluate(l,p)+this.paint.get("circle-stroke-width").evaluate(l,p),F=this.paint.get("circle-pitch-alignment")==="map",U=F?O:function(W,X,ne,le){return W.map(Ee=>z6(Ee,X,ne,le))}(O,x,I,A),Z=F?D*b:D;for(let W of m)for(let X of W){let ne=F?X:z6(X,x,I,A),le=Z,Ee=x.projectTileCoordinates(X.x,X.y,I,A).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?le*=Ee/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(le*=x.cameraToCenterDistance/Ee),SMe(U,ne,le))return!0}return!1}}function z6(u,s,l,p){let m=s.projectTileCoordinates(u.x,u.y,l,p).point;return new f((.5*m.x+.5)*s.width,(.5*-m.y+.5)*s.height)}class j6 extends t2{}let B6;at("HeatmapBucket",j6,{omit:["layers"]});var MMe={get paint(){return B6=B6||new $i({"heatmap-radius":new yt(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yt(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ht(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Kd(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ht(Te.paint_heatmap["heatmap-opacity"])})}};function i2(u,{width:s,height:l},p,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==s*l*p)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${s*l*p}`)}else m=new Uint8Array(s*l*p);return u.width=s,u.height=l,u.data=m,u}function U6(u,{width:s,height:l},p){if(s===u.width&&l===u.height)return;let m=i2({},{width:s,height:l},p);o2(u,m,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,s),height:Math.min(u.height,l)},p),u.width=s,u.height=l,u.data=m.data}function o2(u,s,l,p,m,x){if(m.width===0||m.height===0)return s;if(m.width>u.width||m.height>u.height||l.x>u.width-m.width||l.y>u.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>s.width||m.height>s.height||p.x>s.width-m.width||p.y>s.height-m.height)throw new RangeError("out of range destination coordinates for image copy");let b=u.data,I=s.data;if(b===I)throw new Error("srcData equals dstData, so image is already copied");for(let A=0;A<m.height;A++){let O=((l.y+A)*u.width+l.x)*x,D=((p.y+A)*s.width+p.x)*x;for(let F=0;F<m.width*x;F++)I[D+F]=b[O+F]}return s}class Qy{constructor(s,l){i2(this,s,1,l)}resize(s){U6(this,s,1)}clone(){return new Qy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,l,p,m,x){o2(s,l,p,m,x,1)}}class ko{constructor(s,l){i2(this,s,4,l)}resize(s){U6(this,s,4)}replace(s,l){l?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new ko({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,l,p,m,x){o2(s,l,p,m,x,4)}setPixel(s,l,p){let m=4*(s*this.width+l);this.data[m+0]=Math.round(255*p.r/p.a),this.data[m+1]=Math.round(255*p.g/p.a),this.data[m+2]=Math.round(255*p.b/p.a),this.data[m+3]=Math.round(255*p.a)}}function V6(u){let s={},l=u.resolution||256,p=u.clips?u.clips.length:1,m=u.image||new ko({width:l,height:p});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);let x=(b,I,A)=>{s[u.evaluationKey]=A;let O=u.expression.evaluate(s);m.setPixel(b/4/l,I/4,O)};if(u.clips)for(let b=0,I=0;b<p;++b,I+=4*l)for(let A=0,O=0;A<l;A++,O+=4){let D=A/(l-1),{start:F,end:U}=u.clips[b];x(I,O,F*(1-D)+U*D)}else for(let b=0,I=0;b<l;b++,I+=4)x(0,I,b/(l-1));return m}at("AlphaImage",Qy),at("RGBAImage",ko);let a2="big-fb";class qMe extends Qo{createBucket(s){return new j6(s)}constructor(s){super(s,MMe),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=V6({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(a2)&&this.heatmapFbos.delete(a2)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let $6;var RMe={get paint(){return $6=$6||new $i({"hillshade-illumination-direction":new ht(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new ht(Te.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new ht(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ht(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ht(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ht(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ht(Te.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new ht(Te.paint_hillshade["hillshade-method"])})}};class OMe extends Qo{constructor(s){super(s,RMe),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let s=this.paint.get("hillshade-illumination-direction").values,l=this.paint.get("hillshade-illumination-altitude").values,p=this.paint.get("hillshade-highlight-color").values,m=this.paint.get("hillshade-shadow-color").values,x=Math.max(s.length,l.length,p.length,m.length);s=s.concat(Array(x-s.length).fill(s.at(-1))),l=l.concat(Array(x-l.length).fill(l.at(-1))),p=p.concat(Array(x-p.length).fill(p.at(-1))),m=m.concat(Array(x-m.length).fill(m.at(-1)));let b=l.map(rs);return{directionRadians:s.map(rs),altitudeRadians:b,shadowColor:m,highlightColor:p}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let G6;var LMe={get paint(){return G6=G6||new $i({"color-relief-opacity":new ht(Te["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Kd(Te["paint_color-relief"]["color-relief-color"])})}};class s2{constructor(s,l,p,m){this.context=s,this.format=p,this.texture=s.gl.createTexture(),this.update(l,m)}update(s,l,p){let{width:m,height:x}=s,b=!(this.size&&this.size[0]===m&&this.size[1]===x||p),{context:I}=this,{gl:A}=I;if(this.useMipmap=!!(l&&l.useMipmap),A.bindTexture(A.TEXTURE_2D,this.texture),I.pixelStoreUnpackFlipY.set(!1),I.pixelStoreUnpack.set(1),I.pixelStoreUnpackPremultiplyAlpha.set(this.format===A.RGBA&&(!l||l.premultiply!==!1)),b)this.size=[m,x],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||Mo(s)?A.texImage2D(A.TEXTURE_2D,0,this.format,this.format,A.UNSIGNED_BYTE,s):A.texImage2D(A.TEXTURE_2D,0,this.format,m,x,0,this.format,A.UNSIGNED_BYTE,s.data);else{let{x:O,y:D}=p||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||Mo(s)?A.texSubImage2D(A.TEXTURE_2D,0,O,D,A.RGBA,A.UNSIGNED_BYTE,s):A.texSubImage2D(A.TEXTURE_2D,0,O,D,m,x,A.RGBA,A.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&A.generateMipmap(A.TEXTURE_2D),I.pixelStoreUnpackFlipY.setDefault(),I.pixelStoreUnpack.setDefault(),I.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(s,l,p){let{context:m}=this,{gl:x}=m;x.bindTexture(x.TEXTURE_2D,this.texture),p!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=x.LINEAR),s!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,s),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,p||s),this.filter=s),l!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,l),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}class Z6{constructor(s,l,p,m=1,x=1,b=1,I=0){if(this.uid=s,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(p&&!["mapbox","terrarium","custom"].includes(p))return void vr(`"${p}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;let A=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),p){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=x,this.blueFactor=b,this.baseShift=I;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let O=0;O<A;O++)this.data[this._idx(-1,O)]=this.data[this._idx(0,O)],this.data[this._idx(A,O)]=this.data[this._idx(A-1,O)],this.data[this._idx(O,-1)]=this.data[this._idx(O,0)],this.data[this._idx(O,A)]=this.data[this._idx(O,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let O=0;O<A;O++)for(let D=0;D<A;D++){let F=this.get(O,D);F>this.max&&(this.max=F),F<this.min&&(this.min=F)}}get(s,l){let p=new Uint8Array(this.data.buffer),m=4*this._idx(s,l);return this.unpack(p[m],p[m+1],p[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,l){if(s<-1||s>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(s+1)}unpack(s,l,p){return s*this.redFactor+l*this.greenFactor+p*this.blueFactor-this.baseShift}pack(s){return W6(s,this.getUnpackVector())}getPixels(){return new ko({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,l,p){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,x=l*this.dim+this.dim,b=p*this.dim,I=p*this.dim+this.dim;switch(l){case-1:m=x-1;break;case 1:x=m+1}switch(p){case-1:b=I-1;break;case 1:I=b+1}let A=-l*this.dim,O=-p*this.dim;for(let D=b;D<I;D++)for(let F=m;F<x;F++)this.data[this._idx(F,D)]=s.data[this._idx(F+A,D+O)]}}function W6(u,s){let l=s[0],p=s[1],m=s[2],x=s[3],b=Math.min(l,p,m),I=Math.round((u+x)/b);return{r:Math.floor(I*b/l)%256,g:Math.floor(I*b/p)%256,b:Math.floor(I*b/m)%256}}at("DEMData",Z6);class DMe extends Qo{constructor(s){super(s,LMe)}_createColorRamp(s){let l={elevationStops:[],colorStops:[]},p=this._transitionablePaint._values["color-relief-color"].value.expression;if(p instanceof Vf&&p._styleExpression.expression instanceof mi){this.colorRampExpression=p;let b=p._styleExpression.expression;l.elevationStops=b.labels,l.colorStops=[];for(let I of l.elevationStops)l.colorStops.push(b.evaluate({globals:{elevation:I}}))}if(l.elevationStops.length<1&&(l.elevationStops=[0],l.colorStops=[Ht.transparent]),l.elevationStops.length<2&&(l.elevationStops.push(l.elevationStops[0]+1),l.colorStops.push(l.colorStops[0])),l.elevationStops.length<=s)return l;let m={elevationStops:[],colorStops:[]},x=(l.elevationStops.length-1)/(s-1);for(let b=0;b<l.elevationStops.length-.5;b+=x)m.elevationStops.push(l.elevationStops[Math.round(b)]),m.colorStops.push(l.colorStops[Math.round(b)]);return vr(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),m}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(s,l,p){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let m=this._createColorRamp(l),x=new ko({width:m.colorStops.length,height:1}),b=new ko({width:m.colorStops.length,height:1});for(let I=0;I<m.elevationStops.length;I++){let A=W6(m.elevationStops[I],p);b.setPixel(0,I,new Ht(A.r/255,A.g/255,A.b/255,1)),x.setPixel(0,I,m.colorStops[I])}return this.colorRampTextures={elevationTexture:new s2(s,b,s.gl.RGBA),colorTexture:new s2(s,x,s.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}let kMe=gn([{name:"a_pos",components:2,type:"Int16"}],4),{members:NMe}=kMe;function l2(u,s,l){let p=l.patternDependencies,m=!1;for(let x of s){let b=x.paint.get(`${u}-pattern`);b.isConstant()||(m=!0);let I=b.constantOr(null);I&&(m=!0,p[I.to]=!0,p[I.from]=!0)}return m}function u2(u,s,l,p,m){let{zoom:x,globalState:b}=p,I=m.patternDependencies;for(let A of s){let O=A.paint.get(`${u}-pattern`).value;if(O.kind!=="constant"){let D=O.evaluate({zoom:x-1,globalState:b},l,{},m.availableImages),F=O.evaluate({zoom:x,globalState:b},l,{},m.availableImages),U=O.evaluate({zoom:x+1,globalState:b},l,{},m.availableImages);D=D&&D.name?D.name:D,F=F&&F.name?F.name:F,U=U&&U.name?U.name:U,I[D]=!0,I[F]=!0,I[U]=!0,l.patterns[A.id]={min:D,mid:F,max:U}}}return l}function H6(u,s,l,p,m){let x;if(m===function(b,I,A,O){let D=0;for(let F=I,U=A-O;F<A;F+=O)D+=(b[U]-b[F])*(b[F+1]+b[U+1]),U=F;return D}(u,s,l,p)>0)for(let b=s;b<l;b+=p)x=J6(b/p|0,u[b],u[b+1],x);else for(let b=l-p;b>=s;b-=p)x=J6(b/p|0,u[b],u[b+1],x);return x&&rm(x,x.next)&&(n_(x),x=x.next),x}function ep(u,s){if(!u)return u;s||(s=u);let l,p=u;do if(l=!1,p.steiner||!rm(p,p.next)&&Cn(p.prev,p,p.next)!==0)p=p.next;else{if(n_(p),p=s=p.prev,p===p.next)break;l=!0}while(l||p!==s);return s}function e_(u,s,l,p,m,x,b){if(!u)return;!b&&x&&function(A,O,D,F){let U=A;do U.z===0&&(U.z=c2(U.x,U.y,O,D,F)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==A);U.prevZ.nextZ=null,U.prevZ=null,function(Z){let W,X=1;do{let ne,le=Z;Z=null;let Ee=null;for(W=0;le;){W++;let me=le,ye=0;for(let Oe=0;Oe<X&&(ye++,me=me.nextZ,me);Oe++);let Ae=X;for(;ye>0||Ae>0&&me;)ye!==0&&(Ae===0||!me||le.z<=me.z)?(ne=le,le=le.nextZ,ye--):(ne=me,me=me.nextZ,Ae--),Ee?Ee.nextZ=ne:Z=ne,ne.prevZ=Ee,Ee=ne;le=me}Ee.nextZ=null,X*=2}while(W>1)}(U)}(u,p,m,x);let I=u;for(;u.prev!==u.next;){let A=u.prev,O=u.next;if(x?zMe(u,p,m,x):FMe(u))s.push(A.i,u.i,O.i),n_(u),u=O.next,I=O.next;else if((u=O)===I){b?b===1?e_(u=jMe(ep(u),s),s,l,p,m,x,2):b===2&&BMe(u,s,l,p,m,x):e_(ep(u),s,l,p,m,x,1);break}}}function FMe(u){let s=u.prev,l=u,p=u.next;if(Cn(s,l,p)>=0)return!1;let m=s.x,x=l.x,b=p.x,I=s.y,A=l.y,O=p.y,D=Math.min(m,x,b),F=Math.min(I,A,O),U=Math.max(m,x,b),Z=Math.max(I,A,O),W=p.next;for(;W!==s;){if(W.x>=D&&W.x<=U&&W.y>=F&&W.y<=Z&&t_(m,I,x,A,b,O,W.x,W.y)&&Cn(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function zMe(u,s,l,p){let m=u.prev,x=u,b=u.next;if(Cn(m,x,b)>=0)return!1;let I=m.x,A=x.x,O=b.x,D=m.y,F=x.y,U=b.y,Z=Math.min(I,A,O),W=Math.min(D,F,U),X=Math.max(I,A,O),ne=Math.max(D,F,U),le=c2(Z,W,s,l,p),Ee=c2(X,ne,s,l,p),me=u.prevZ,ye=u.nextZ;for(;me&&me.z>=le&&ye&&ye.z<=Ee;){if(me.x>=Z&&me.x<=X&&me.y>=W&&me.y<=ne&&me!==m&&me!==b&&t_(I,D,A,F,O,U,me.x,me.y)&&Cn(me.prev,me,me.next)>=0||(me=me.prevZ,ye.x>=Z&&ye.x<=X&&ye.y>=W&&ye.y<=ne&&ye!==m&&ye!==b&&t_(I,D,A,F,O,U,ye.x,ye.y)&&Cn(ye.prev,ye,ye.next)>=0))return!1;ye=ye.nextZ}for(;me&&me.z>=le;){if(me.x>=Z&&me.x<=X&&me.y>=W&&me.y<=ne&&me!==m&&me!==b&&t_(I,D,A,F,O,U,me.x,me.y)&&Cn(me.prev,me,me.next)>=0)return!1;me=me.prevZ}for(;ye&&ye.z<=Ee;){if(ye.x>=Z&&ye.x<=X&&ye.y>=W&&ye.y<=ne&&ye!==m&&ye!==b&&t_(I,D,A,F,O,U,ye.x,ye.y)&&Cn(ye.prev,ye,ye.next)>=0)return!1;ye=ye.nextZ}return!0}function jMe(u,s){let l=u;do{let p=l.prev,m=l.next.next;!rm(p,m)&&Y6(p,l,l.next,m)&&r_(p,m)&&r_(m,p)&&(s.push(p.i,l.i,m.i),n_(l),n_(l.next),l=u=m),l=l.next}while(l!==u);return ep(l)}function BMe(u,s,l,p,m,x){let b=u;do{let I=b.next.next;for(;I!==b.prev;){if(b.i!==I.i&&ZMe(b,I)){let A=X6(b,I);return b=ep(b,b.next),A=ep(A,A.next),e_(b,s,l,p,m,x,0),void e_(A,s,l,p,m,x,0)}I=I.next}b=b.next}while(b!==u)}function UMe(u,s){let l=u.x-s.x;return l===0&&(l=u.y-s.y,l===0)&&(l=(u.next.y-u.y)/(u.next.x-u.x)-(s.next.y-s.y)/(s.next.x-s.x)),l}function VMe(u,s){let l=function(m,x){let b=x,I=m.x,A=m.y,O,D=-1/0;if(rm(m,b))return b;do{if(rm(m,b.next))return b.next;if(A<=b.y&&A>=b.next.y&&b.next.y!==b.y){let X=b.x+(A-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(X<=I&&X>D&&(D=X,O=b.x<b.next.x?b:b.next,X===I))return O}b=b.next}while(b!==x);if(!O)return null;let F=O,U=O.x,Z=O.y,W=1/0;b=O;do{if(I>=b.x&&b.x>=U&&I!==b.x&&K6(A<Z?I:D,A,U,Z,A<Z?D:I,A,b.x,b.y)){let X=Math.abs(A-b.y)/(I-b.x);r_(b,m)&&(X<W||X===W&&(b.x>O.x||b.x===O.x&&$Me(O,b)))&&(O=b,W=X)}b=b.next}while(b!==F);return O}(u,s);if(!l)return s;let p=X6(l,u);return ep(p,p.next),ep(l,l.next)}function $Me(u,s){return Cn(u.prev,u,s.prev)<0&&Cn(s.next,u,u.next)<0}function c2(u,s,l,p,m){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-l)*m|0)|u<<8))|u<<4))|u<<2))|u<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-p)*m|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function GMe(u){let s=u,l=u;do(s.x<l.x||s.x===l.x&&s.y<l.y)&&(l=s),s=s.next;while(s!==u);return l}function K6(u,s,l,p,m,x,b,I){return(m-b)*(s-I)>=(u-b)*(x-I)&&(u-b)*(p-I)>=(l-b)*(s-I)&&(l-b)*(x-I)>=(m-b)*(p-I)}function t_(u,s,l,p,m,x,b,I){return!(u===b&&s===I)&&K6(u,s,l,p,m,x,b,I)}function ZMe(u,s){return u.next.i!==s.i&&u.prev.i!==s.i&&!function(l,p){let m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==p.i&&m.next.i!==p.i&&Y6(m,m.next,l,p))return!0;m=m.next}while(m!==l);return!1}(u,s)&&(r_(u,s)&&r_(s,u)&&function(l,p){let m=l,x=!1,b=(l.x+p.x)/2,I=(l.y+p.y)/2;do m.y>I!=m.next.y>I&&m.next.y!==m.y&&b<(m.next.x-m.x)*(I-m.y)/(m.next.y-m.y)+m.x&&(x=!x),m=m.next;while(m!==l);return x}(u,s)&&(Cn(u.prev,u,s.prev)||Cn(u,s.prev,s))||rm(u,s)&&Cn(u.prev,u,u.next)>0&&Cn(s.prev,s,s.next)>0)}function Cn(u,s,l){return(s.y-u.y)*(l.x-s.x)-(s.x-u.x)*(l.y-s.y)}function rm(u,s){return u.x===s.x&&u.y===s.y}function Y6(u,s,l,p){let m=qw(Cn(u,s,l)),x=qw(Cn(u,s,p)),b=qw(Cn(l,p,u)),I=qw(Cn(l,p,s));return m!==x&&b!==I||!(m!==0||!Mw(u,l,s))||!(x!==0||!Mw(u,p,s))||!(b!==0||!Mw(l,u,p))||!(I!==0||!Mw(l,s,p))}function Mw(u,s,l){return s.x<=Math.max(u.x,l.x)&&s.x>=Math.min(u.x,l.x)&&s.y<=Math.max(u.y,l.y)&&s.y>=Math.min(u.y,l.y)}function qw(u){return u>0?1:u<0?-1:0}function r_(u,s){return Cn(u.prev,u,u.next)<0?Cn(u,s,u.next)>=0&&Cn(u,u.prev,s)>=0:Cn(u,s,u.prev)<0||Cn(u,u.next,s)<0}function X6(u,s){let l=h2(u.i,u.x,u.y),p=h2(s.i,s.x,s.y),m=u.next,x=s.prev;return u.next=s,s.prev=u,l.next=m,m.prev=l,p.next=l,l.prev=p,x.next=p,p.prev=x,p}function J6(u,s,l,p){let m=h2(u,s,l);return p?(m.next=p.next,m.prev=p,p.next.prev=m,p.next=m):(m.prev=m,m.next=m),m}function n_(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function h2(u,s,l){return{i:u,x:s,y:l,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class nm{constructor(s,l){if(l>s)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=s,this._minGranularity=l}getGranularityForZoomLevel(s){return Math.max(Math.floor(this._baseZoomGranularity/(1<<s)),this._minGranularity,1)}}class Rw{constructor(s){this.fill=s.fill,this.line=s.line,this.tile=s.tile,this.stencil=s.stencil,this.circle=s.circle}}Rw.noSubdivision=new Rw({fill:new nm(0,0),line:new nm(0,0),tile:new nm(0,0),stencil:new nm(0,0),circle:1}),at("SubdivisionGranularityExpression",nm),at("SubdivisionGranularitySetting",Rw);let im=-32768,i_=32767;class WMe{constructor(s,l){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=s,this._granularityCellSize=_t/s,this._canonical=l}_getKey(s,l){return(s+=32768)<<16|l+32768}_vertexToIndex(s,l){if(s<-32768||l<-32768||s>32767||l>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let p=0|Math.round(s),m=0|Math.round(l),x=this._getKey(p,m);if(this._vertexDictionary.has(x))return this._vertexDictionary.get(x);let b=this._vertexBuffer.length/2;return this._vertexDictionary.set(x,b),this._vertexBuffer.push(p,m),b}_subdivideTrianglesScanline(s){if(this._granularity<2)return function(m,x){let b=[];for(let I=0;I<x.length;I+=3){let A=x[I],O=x[I+1],D=x[I+2],F=m[2*A],U=m[2*A+1];(m[2*O]-F)*(m[2*D+1]-U)-(m[2*O+1]-U)*(m[2*D]-F)>0?(b.push(A),b.push(D),b.push(O)):(b.push(A),b.push(O),b.push(D))}return b}(this._vertexBuffer,s);let l=[],p=s.length;for(let m=0;m<p;m+=3){let x=[s[m+0],s[m+1],s[m+2]],b=[this._vertexBuffer[2*s[m+0]+0],this._vertexBuffer[2*s[m+0]+1],this._vertexBuffer[2*s[m+1]+0],this._vertexBuffer[2*s[m+1]+1],this._vertexBuffer[2*s[m+2]+0],this._vertexBuffer[2*s[m+2]+1]],I=1/0,A=1/0,O=-1/0,D=-1/0;for(let X=0;X<3;X++){let ne=b[2*X],le=b[2*X+1];I=Math.min(I,ne),O=Math.max(O,ne),A=Math.min(A,le),D=Math.max(D,le)}if(I===O||A===D)continue;let F=Math.floor(I/this._granularityCellSize),U=Math.ceil(O/this._granularityCellSize),Z=Math.floor(A/this._granularityCellSize),W=Math.ceil(D/this._granularityCellSize);if(F!==U||Z!==W)for(let X=Z;X<W;X++){let ne=this._scanlineGenerateVertexRingForCellRow(X,b,x);HMe(this._vertexBuffer,ne,l)}else l.push(...x)}return l}_scanlineGenerateVertexRingForCellRow(s,l,p){let m=s*this._granularityCellSize,x=m+this._granularityCellSize,b=[];for(let I=0;I<3;I++){let A=l[2*I],O=l[2*I+1],D=l[2*(I+1)%6],F=l[(2*(I+1)+1)%6],U=l[2*(I+2)%6],Z=l[(2*(I+2)+1)%6],W=D-A,X=F-O,ne=W===0,le=X===0,Ee=(m-O)/X,me=(x-O)/X,ye=Math.min(Ee,me),Ae=Math.max(Ee,me);if(!le&&(ye>=1||Ae<=0)||le&&(O<m||O>x)){F>=m&&F<=x&&b.push(p[(I+1)%3]);continue}!le&&ye>0&&b.push(this._vertexToIndex(A+W*ye,O+X*ye));let Oe=A+W*Math.max(ye,0),Ue=A+W*Math.min(Ae,1);ne||this._generateIntraEdgeVertices(b,A,O,D,F,Oe,Ue),!le&&Ae<1&&b.push(this._vertexToIndex(A+W*Ae,O+X*Ae)),(le||F>=m&&F<=x)&&b.push(p[(I+1)%3]),!le&&(F<=m||F>=x)&&this._generateInterEdgeVertices(b,A,O,D,F,U,Z,Ue,m,x)}return b}_generateIntraEdgeVertices(s,l,p,m,x,b,I){let A=m-l,O=x-p,D=O===0,F=D?Math.min(l,m):Math.min(b,I),U=D?Math.max(l,m):Math.max(b,I),Z=Math.floor(F/this._granularityCellSize)+1,W=Math.ceil(U/this._granularityCellSize)-1;if(D?l<m:b<I)for(let X=Z;X<=W;X++){let ne=X*this._granularityCellSize;s.push(this._vertexToIndex(ne,p+O*(ne-l)/A))}else for(let X=W;X>=Z;X--){let ne=X*this._granularityCellSize;s.push(this._vertexToIndex(ne,p+O*(ne-l)/A))}}_generateInterEdgeVertices(s,l,p,m,x,b,I,A,O,D){let F=x-p,U=b-m,Z=I-x,W=(O-x)/Z,X=(D-x)/Z,ne=Math.min(W,X),le=Math.max(W,X),Ee=m+U*ne,me=Math.floor(Math.min(Ee,A)/this._granularityCellSize)+1,ye=Math.ceil(Math.max(Ee,A)/this._granularityCellSize)-1,Ae=A<Ee,Oe=Z===0;if(Oe&&(I===O||I===D))return;if(Oe||ne>=1||le<=0){let et=p-I,Ke=b+(l-b)*Math.min((O-I)/et,(D-I)/et);me=Math.floor(Math.min(Ke,A)/this._granularityCellSize)+1,ye=Math.ceil(Math.max(Ke,A)/this._granularityCellSize)-1,Ae=A<Ke}let Ue=F>0?D:O;if(Ae)for(let et=me;et<=ye;et++)s.push(this._vertexToIndex(et*this._granularityCellSize,Ue));else for(let et=ye;et>=me;et--)s.push(this._vertexToIndex(et*this._granularityCellSize,Ue))}_generateOutline(s){let l=[];for(let p of s){let m=tp(p,this._granularity,!0),x=this._pointArrayToIndices(m),b=[];for(let I=1;I<x.length;I++)b.push(x[I-1]),b.push(x[I]);l.push(b)}return l}_handlePoles(s){let l=!1,p=!1;this._canonical&&(this._canonical.y===0&&(l=!0),this._canonical.y===(1<<this._canonical.z)-1&&(p=!0)),(l||p)&&this._fillPoles(s,l,p)}_ensureNoPoleVertices(){let s=this._vertexBuffer;for(let l=0;l<s.length;l+=2){let p=s[l+1];p===im&&(s[l+1]=-32767),p===i_&&(s[l+1]=32766)}}_generatePoleQuad(s,l,p,m,x,b){m>x!=(b===im)?(s.push(l),s.push(p),s.push(this._vertexToIndex(m,b)),s.push(p),s.push(this._vertexToIndex(x,b)),s.push(this._vertexToIndex(m,b))):(s.push(p),s.push(l),s.push(this._vertexToIndex(m,b)),s.push(this._vertexToIndex(x,b)),s.push(p),s.push(this._vertexToIndex(m,b)))}_fillPoles(s,l,p){let m=this._vertexBuffer,x=_t,b=s.length;for(let I=2;I<b;I+=3){let A=s[I-2],O=s[I-1],D=s[I],F=m[2*A],U=m[2*A+1],Z=m[2*O],W=m[2*O+1],X=m[2*D],ne=m[2*D+1];l&&(U===0&&W===0&&this._generatePoleQuad(s,A,O,F,Z,im),W===0&&ne===0&&this._generatePoleQuad(s,O,D,Z,X,im),ne===0&&U===0&&this._generatePoleQuad(s,D,A,X,F,im)),p&&(U===x&&W===x&&this._generatePoleQuad(s,A,O,F,Z,i_),W===x&&ne===x&&this._generatePoleQuad(s,O,D,Z,X,i_),ne===x&&U===x&&this._generatePoleQuad(s,D,A,X,F,i_))}}_initializeVertices(s){for(let l=0;l<s.length;l+=2)this._vertexToIndex(s[l],s[l+1])}subdividePolygonInternal(s,l){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:p,holeIndices:m}=function(I){let A=[],O=[];for(let D of I)if(D.length!==0){D!==I[0]&&A.push(O.length/2);for(let F=0;F<D.length;F++)O.push(D[F].x),O.push(D[F].y)}return{flattened:O,holeIndices:A}}(s),x;this._initializeVertices(p);try{let I=function(O,D,F=2){let U=D&&D.length,Z=U?D[0]*F:O.length,W=H6(O,0,Z,F,!0),X=[];if(!W||W.next===W.prev)return X;let ne,le,Ee;if(U&&(W=function(me,ye,Ae,Oe){let Ue=[];for(let et=0,Ke=ye.length;et<Ke;et++){let Je=H6(me,ye[et]*Oe,et<Ke-1?ye[et+1]*Oe:me.length,Oe,!1);Je===Je.next&&(Je.steiner=!0),Ue.push(GMe(Je))}Ue.sort(UMe);for(let et=0;et<Ue.length;et++)Ae=VMe(Ue[et],Ae);return Ae}(O,D,W,F)),O.length>80*F){ne=O[0],le=O[1];let me=ne,ye=le;for(let Ae=F;Ae<Z;Ae+=F){let Oe=O[Ae],Ue=O[Ae+1];Oe<ne&&(ne=Oe),Ue<le&&(le=Ue),Oe>me&&(me=Oe),Ue>ye&&(ye=Ue)}Ee=Math.max(me-ne,ye-le),Ee=Ee!==0?32767/Ee:0}return e_(W,X,F,ne,le,Ee,0),X}(p,m),A=this._convertIndices(p,I);x=this._subdivideTrianglesScanline(A)}catch(I){console.error(I)}let b=[];return l&&(b=this._generateOutline(s)),this._ensureNoPoleVertices(),this._handlePoles(x),{verticesFlattened:this._vertexBuffer,indicesTriangles:x,indicesLineList:b}}_convertIndices(s,l){let p=[];for(let m=0;m<l.length;m++)p.push(this._vertexToIndex(s[2*l[m]],s[2*l[m]+1]));return p}_pointArrayToIndices(s){let l=[];for(let p=0;p<s.length;p++){let m=s[p];l.push(this._vertexToIndex(m.x,m.y))}return l}}function Q6(u,s,l,p=!0){return new WMe(l,s).subdividePolygonInternal(u,p)}function tp(u,s,l=!1){if(!u||u.length<1)return[];if(u.length<2)return[];let p=u[0],m=u[u.length-1],x=l&&(p.x!==m.x||p.y!==m.y);if(s<2)return x?[...u,u[0]]:[...u];let b=Math.floor(_t/s),I=[];I.push(new f(u[0].x,u[0].y));let A=u.length,O=x?A:A-1;for(let D=0;D<O;D++){let F=u[D],U=D<A-1?u[D+1]:u[0],Z=F.x,W=F.y,X=U.x,ne=U.y,le=Z!==X,Ee=W!==ne;if(!le&&!Ee)continue;let me=X-Z,ye=ne-W,Ae=Math.abs(me),Oe=Math.abs(ye),Ue=Z,et=W;for(;;){let Je=me>0?(Math.floor(Ue/b)+1)*b:(Math.ceil(Ue/b)-1)*b,ft=ye>0?(Math.floor(et/b)+1)*b:(Math.ceil(et/b)-1)*b,Xe=Math.abs(Ue-Je),Qe=Math.abs(et-ft),Fe=Math.abs(Ue-X),bt=Math.abs(et-ne),It=le?Xe/Ae:Number.POSITIVE_INFINITY,mt=Ee?Qe/Oe:Number.POSITIVE_INFINITY;if((Fe<=Xe||!le)&&(bt<=Qe||!Ee))break;if(It<mt&&le||!Ee){Ue=Je,et+=ye*It;let ut=new f(Ue,Math.round(et));I[I.length-1].x===ut.x&&I[I.length-1].y===ut.y||I.push(ut)}else{Ue+=me*mt,et=ft;let ut=new f(Math.round(Ue),et);I[I.length-1].x===ut.x&&I[I.length-1].y===ut.y||I.push(ut)}}let Ke=new f(X,ne);I[I.length-1].x===Ke.x&&I[I.length-1].y===Ke.y||I.push(Ke)}return I}function HMe(u,s,l){if(s.length===0)throw new Error("Subdivision vertex ring is empty.");let p=0,m=u[2*s[0]];for(let A=1;A<s.length;A++){let O=u[2*s[A]];O<m&&(m=O,p=A)}let x=s.length,b=p,I=(b+1)%x;for(;;){let A=b-1>=0?b-1:x-1,O=(I+1)%x,D=u[2*s[A]],F=u[2*s[O]],U=u[2*s[b]],Z=u[2*s[b]+1],W=u[2*s[I]+1],X=!1;if(D<F)X=!0;else if(D>F)X=!1;else{let ne=W-Z,le=-(u[2*s[I]]-U),Ee=Z<W?1:-1;((D-U)*ne+(u[2*s[A]+1]-Z)*le)*Ee>((F-U)*ne+(u[2*s[O]+1]-Z)*le)*Ee&&(X=!0)}if(X){let ne=s[A],le=s[b],Ee=s[I];ne!==le&&ne!==Ee&&le!==Ee&&l.push(Ee,le,ne),b--,b<0&&(b=x-1)}else{let ne=s[O],le=s[b],Ee=s[I];ne!==le&&ne!==Ee&&le!==Ee&&l.push(Ee,le,ne),I++,I>=x&&(I=0)}if(A===O)break}}function eV(u,s,l,p,m,x,b,I,A){let O=m.length/2,D=b&&I&&A;if(O<Lt.MAX_VERTEX_ARRAY_LENGTH){let F=s.prepareSegment(O,l,p),U=F.vertexLength;for(let X=0;X<x.length;X+=3)p.emplaceBack(U+x[X],U+x[X+1],U+x[X+2]);let Z,W;F.vertexLength+=O,F.primitiveLength+=x.length/3,D&&(W=b.prepareSegment(O,l,I),Z=W.vertexLength,W.vertexLength+=O);for(let X=0;X<m.length;X+=2)u(m[X],m[X+1]);if(D)for(let X=0;X<A.length;X++){let ne=A[X];for(let le=1;le<ne.length;le+=2)I.emplaceBack(Z+ne[le-1],Z+ne[le]);W.primitiveLength+=ne.length/2}}else(function(F,U,Z,W,X,ne){let le=[];for(let Oe=0;Oe<W.length/2;Oe++)le.push(-1);let Ee={count:0},me=0,ye=F.getOrCreateLatestSegment(U,Z),Ae=ye.vertexLength;for(let Oe=2;Oe<X.length;Oe+=3){let Ue=X[Oe-2],et=X[Oe-1],Ke=X[Oe],Je=le[Ue]<me,ft=le[et]<me,Xe=le[Ke]<me;ye.vertexLength+((Je?1:0)+(ft?1:0)+(Xe?1:0))>Lt.MAX_VERTEX_ARRAY_LENGTH&&(ye=F.createNewSegment(U,Z),me=Ee.count,Je=!0,ft=!0,Xe=!0,Ae=0);let Qe=o_(le,W,ne,Ee,Ue,Je,ye),Fe=o_(le,W,ne,Ee,et,ft,ye),bt=o_(le,W,ne,Ee,Ke,Xe,ye);Z.emplaceBack(Ae+Qe-me,Ae+Fe-me,Ae+bt-me),ye.primitiveLength++}})(s,l,p,m,x,u),D&&function(F,U,Z,W,X,ne){let le=[];for(let Oe=0;Oe<W.length/2;Oe++)le.push(-1);let Ee={count:0},me=0,ye=F.getOrCreateLatestSegment(U,Z),Ae=ye.vertexLength;for(let Oe=0;Oe<X.length;Oe++){let Ue=X[Oe];for(let et=1;et<X[Oe].length;et+=2){let Ke=Ue[et-1],Je=Ue[et],ft=le[Ke]<me,Xe=le[Je]<me;ye.vertexLength+((ft?1:0)+(Xe?1:0))>Lt.MAX_VERTEX_ARRAY_LENGTH&&(ye=F.createNewSegment(U,Z),me=Ee.count,ft=!0,Xe=!0,Ae=0);let Qe=o_(le,W,ne,Ee,Ke,ft,ye),Fe=o_(le,W,ne,Ee,Je,Xe,ye);Z.emplaceBack(Ae+Qe-me,Ae+Fe-me),ye.primitiveLength++}}}(b,l,I,m,A,u),s.forceNewSegmentOnNextPrepare(),b==null||b.forceNewSegmentOnNextPrepare()}function o_(u,s,l,p,m,x,b){if(x){let I=p.count;return l(s[2*m],s[2*m+1]),u[m]=p.count,p.count++,b.vertexLength++,I}return u[m]}class f2{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Re,this.indexArray=new Sr,this.indexArray2=new gr,this.programConfigurations=new Do(s.layers,s.zoom),this.segments=new Lt,this.segments2=new Lt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,p){this.hasPattern=l2("fill",this.layers,l);let m=this.layers[0].layout.get("fill-sort-key"),x=!m.isConstant(),b=[];for(let{feature:I,id:A,index:O,sourceLayerIndex:D}of s){let F=this.layers[0]._featureFilter.needGeometry,U=Vs(I,F);if(!this.layers[0]._featureFilter.filter(new Lr(this.zoom,{globalState:this.globalState}),U,p))continue;let Z=x?m.evaluate(U,{},p,l.availableImages):void 0,W={id:A,properties:I.properties,type:I.type,sourceLayerIndex:D,index:O,geometry:F?U.geometry:Ml(I),patterns:{},sortKey:Z};b.push(W)}x&&b.sort((I,A)=>I.sortKey-A.sortKey);for(let I of b){let{geometry:A,index:O,sourceLayerIndex:D}=I;if(this.hasPattern){let F=u2("fill",this.layers,I,{zoom:this.zoom,globalState:this.globalState},l);this.patternFeatures.push(F)}else this.addFeature(I,A,O,p,{},l.subdivisionGranularity);l.featureIndex.insert(s[O].feature,A,O,D,this.index)}}update(s,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:p,globalState:this.globalState})}addFeatures(s,l,p){for(let m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,p,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,NMe),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,l,p,m,x,b){for(let I of Ff(l,500)){let A=Q6(I,m,b.fill.getGranularityForZoomLevel(m.z)),O=this.layoutVertexArray;eV((D,F)=>{O.emplaceBack(D,F)},this.segments,this.layoutVertexArray,this.indexArray,A.verticesFlattened,A.indicesTriangles,this.segments2,this.indexArray2,A.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,{imagePositions:x,canonical:m,globalState:this.globalState})}}let tV,rV;at("FillBucket",f2,{omit:["layers","patternFeatures"]});var KMe={get paint(){return rV=rV||new $i({"fill-antialias":new ht(Te.paint_fill["fill-antialias"]),"fill-opacity":new yt(Te.paint_fill["fill-opacity"]),"fill-color":new yt(Te.paint_fill["fill-color"]),"fill-outline-color":new yt(Te.paint_fill["fill-outline-color"]),"fill-translate":new ht(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new ht(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hd(Te.paint_fill["fill-pattern"])})},get layout(){return tV=tV||new $i({"fill-sort-key":new yt(Te.layout_fill["fill-sort-key"])})}};class YMe extends Qo{constructor(s){super(s,KMe)}recalculate(s,l){super.recalculate(s,l);let p=this.paint._values["fill-outline-color"];p.value.kind==="constant"&&p.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new f2(s)}queryRadius(){return Pw(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:s,geometry:l,transform:p,pixelsToTileUnits:m}){return L6(Aw(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-p.bearingInRadians,m),l)}isTileClipped(){return!0}}let XMe=gn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),JMe=gn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:QMe}=XMe;class om{constructor(s,l,p,m,x){this.properties={},this.extent=p,this.type=0,this.id=void 0,this._pbf=s,this._geometry=-1,this._keys=m,this._values=x,s.readFields(e2e,this,l)}loadGeometry(){let s=this._pbf;s.pos=this._geometry;let l=s.readVarint()+s.pos,p=[],m,x=1,b=0,I=0,A=0;for(;s.pos<l;){if(b<=0){let O=s.readVarint();x=7&O,b=O>>3}if(b--,x===1||x===2)I+=s.readSVarint(),A+=s.readSVarint(),x===1&&(m&&p.push(m),m=[]),m&&m.push(new f(I,A));else{if(x!==7)throw new Error(`unknown command ${x}`);m&&m.push(m[0].clone())}}return m&&p.push(m),p}bbox(){let s=this._pbf;s.pos=this._geometry;let l=s.readVarint()+s.pos,p=1,m=0,x=0,b=0,I=1/0,A=-1/0,O=1/0,D=-1/0;for(;s.pos<l;){if(m<=0){let F=s.readVarint();p=7&F,m=F>>3}if(m--,p===1||p===2)x+=s.readSVarint(),b+=s.readSVarint(),x<I&&(I=x),x>A&&(A=x),b<O&&(O=b),b>D&&(D=b);else if(p!==7)throw new Error(`unknown command ${p}`)}return[I,O,A,D]}toGeoJSON(s,l,p){let m=this.extent*Math.pow(2,p),x=this.extent*s,b=this.extent*l,I=this.loadGeometry();function A(U){return[360*(U.x+x)/m-180,360/Math.PI*Math.atan(Math.exp((1-2*(U.y+b)/m)*Math.PI))-90]}function O(U){return U.map(A)}let D;if(this.type===1){let U=[];for(let W of I)U.push(W[0]);let Z=O(U);D=U.length===1?{type:"Point",coordinates:Z[0]}:{type:"MultiPoint",coordinates:Z}}else if(this.type===2){let U=I.map(O);D=U.length===1?{type:"LineString",coordinates:U[0]}:{type:"MultiLineString",coordinates:U}}else{if(this.type!==3)throw new Error("unknown feature type");{let U=function(W){let X=W.length;if(X<=1)return[W];let ne=[],le,Ee;for(let me=0;me<X;me++){let ye=t2e(W[me]);ye!==0&&(Ee===void 0&&(Ee=ye<0),Ee===ye<0?(le&&ne.push(le),le=[W[me]]):le&&le.push(W[me]))}return le&&ne.push(le),ne}(I),Z=[];for(let W of U)Z.push(W.map(O));D=Z.length===1?{type:"Polygon",coordinates:Z[0]}:{type:"MultiPolygon",coordinates:Z}}}let F={type:"Feature",geometry:D,properties:this.properties};return this.id!=null&&(F.id=this.id),F}}function e2e(u,s,l){u===1?s.id=l.readVarint():u===2?function(p,m){let x=p.readVarint()+p.pos;for(;p.pos<x;){let b=m._keys[p.readVarint()],I=m._values[p.readVarint()];m.properties[b]=I}}(l,s):u===3?s.type=l.readVarint():u===4&&(s._geometry=l.pos)}function t2e(u){let s=0;for(let l,p,m=0,x=u.length,b=x-1;m<x;b=m++)l=u[m],p=u[b],s+=(p.x-l.x)*(l.y+p.y);return s}om.types=["Unknown","Point","LineString","Polygon"];class nV{constructor(s,l){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(r2e,this,l),this.length=this._features.length}feature(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];let l=this._pbf.readVarint()+this._pbf.pos;return new om(this._pbf,l,this.extent,this._keys,this._values)}}function r2e(u,s,l){u===15?s.version=l.readVarint():u===1?s.name=l.readString():u===5?s.extent=l.readVarint():u===2?s._features.push(l.pos):u===3?s._keys.push(l.readString()):u===4&&s._values.push(function(p){let m=null,x=p.readVarint()+p.pos;for(;p.pos<x;){let b=p.readVarint()>>3;m=b===1?p.readString():b===2?p.readFloat():b===3?p.readDouble():b===4?p.readVarint64():b===5?p.readVarint():b===6?p.readSVarint():b===7?p.readBoolean():null}if(m==null)throw new Error("unknown feature value");return m}(l))}class iV{constructor(s,l){this.layers=s.readFields(n2e,{},l)}}function n2e(u,s,l){if(u===3){let p=new nV(l,l.readVarint()+l.pos);p.length&&(s[p.name]=p)}}let p2=Math.pow(2,13);function a_(u,s,l,p,m,x,b,I){u.emplaceBack(s,l,2*Math.floor(p*p2)+b,m*p2*2,x*p2*2,Math.round(I))}class d2{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Ie,this.centroidVertexArray=new fe,this.indexArray=new Sr,this.programConfigurations=new Do(s.layers,s.zoom),this.segments=new Lt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,p){this.features=[],this.hasPattern=l2("fill-extrusion",this.layers,l);for(let{feature:m,id:x,index:b,sourceLayerIndex:I}of s){let A=this.layers[0]._featureFilter.needGeometry,O=Vs(m,A);if(!this.layers[0]._featureFilter.filter(new Lr(this.zoom,{globalState:this.globalState}),O,p))continue;let D={id:x,sourceLayerIndex:I,index:b,geometry:A?O.geometry:Ml(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(u2("fill-extrusion",this.layers,D,{zoom:this.zoom,globalState:this.globalState},l)):this.addFeature(D,D.geometry,b,p,{},l.subdivisionGranularity),l.featureIndex.insert(m,D.geometry,b,I,this.index,!0)}}addFeatures(s,l,p){for(let m of this.features){let{geometry:x}=m;this.addFeature(m,x,m.index,l,p,s.subdivisionGranularity)}}update(s,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:p,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,QMe),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,JMe.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,l,p,m,x,b){for(let I of Ff(l,500)){let A={x:0,y:0,sampleCount:0},O=this.layoutVertexArray.length;this.processPolygon(A,m,s,I,b);let D=this.layoutVertexArray.length-O,F=Math.floor(A.x/A.sampleCount),U=Math.floor(A.y/A.sampleCount);for(let Z=0;Z<D;Z++)this.centroidVertexArray.emplaceBack(F,U)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,{imagePositions:x,canonical:m,globalState:this.globalState})}processPolygon(s,l,p,m,x){if(m.length<1||oV(m[0]))return;for(let F of m)F.length!==0&&i2e(s,F);let b={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},I=x.fill.getGranularityForZoomLevel(l.z),A=om.types[p.type]==="Polygon";for(let F of m){if(F.length===0||oV(F))continue;let U=tp(F,I,A);this._generateSideFaces(U,b)}if(!A)return;let O=Q6(m,l,I,!1),D=this.layoutVertexArray;eV((F,U)=>{a_(D,F,U,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,O.verticesFlattened,O.indicesTriangles)}_generateSideFaces(s,l){let p=0;for(let m=1;m<s.length;m++){let x=s[m],b=s[m-1];if(o2e(x,b))continue;l.segment.vertexLength+4>Lt.MAX_VERTEX_ARRAY_LENGTH&&(l.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let I=x.sub(b)._perp()._unit(),A=b.dist(x);p+A>32768&&(p=0),a_(this.layoutVertexArray,x.x,x.y,I.x,I.y,0,0,p),a_(this.layoutVertexArray,x.x,x.y,I.x,I.y,0,1,p),p+=A,a_(this.layoutVertexArray,b.x,b.y,I.x,I.y,0,0,p),a_(this.layoutVertexArray,b.x,b.y,I.x,I.y,0,1,p);let O=l.segment.vertexLength;this.indexArray.emplaceBack(O,O+2,O+1),this.indexArray.emplaceBack(O+1,O+2,O+3),l.segment.vertexLength+=4,l.segment.primitiveLength+=2}}}function i2e(u,s){for(let l=0;l<s.length;l++){let p=s[l];l===s.length-1&&s[0].x===p.x&&s[0].y===p.y||(u.x+=p.x,u.y+=p.y,u.sampleCount++)}}function o2e(u,s){return u.x===s.x&&(u.x<0||u.x>_t)||u.y===s.y&&(u.y<0||u.y>_t)}function oV(u){return u.every(s=>s.x<0)||u.every(s=>s.x>_t)||u.every(s=>s.y<0)||u.every(s=>s.y>_t)}let aV;at("FillExtrusionBucket",d2,{omit:["layers","features"]});var a2e={get paint(){return aV=aV||new $i({"fill-extrusion-opacity":new ht(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yt(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ht(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ht(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hd(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yt(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yt(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ht(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class s2e extends Qo{constructor(s){super(s,a2e)}createBucket(s){return new d2(s)}queryRadius(){return Pw(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:p,geometry:m,transform:x,pixelsToTileUnits:b,pixelPosMatrix:I}){let A=Aw(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-x.bearingInRadians,b),O=this.paint.get("fill-extrusion-height").evaluate(l,p),D=this.paint.get("fill-extrusion-base").evaluate(l,p),F=function(Z,W){let X=[];for(let ne of Z){let le=[ne.x,ne.y,0,1];Mr(le,le,W),X.push(new f(le[0]/le[3],le[1]/le[3]))}return X}(A,I),U=function(Z,W,X,ne){let le=[],Ee=[],me=ne[8]*W,ye=ne[9]*W,Ae=ne[10]*W,Oe=ne[11]*W,Ue=ne[8]*X,et=ne[9]*X,Ke=ne[10]*X,Je=ne[11]*X;for(let ft of Z){let Xe=[],Qe=[];for(let Fe of ft){let bt=Fe.x,It=Fe.y,mt=ne[0]*bt+ne[4]*It+ne[12],ut=ne[1]*bt+ne[5]*It+ne[13],er=ne[2]*bt+ne[6]*It+ne[14],un=ne[3]*bt+ne[7]*It+ne[15],Kn=er+Ae,qi=un+Oe,Ba=mt+Ue,No=ut+et,vi=er+Ke,Jr=un+Je,ni=new f((mt+me)/qi,(ut+ye)/qi);ni.z=Kn/qi,Xe.push(ni);let gi=new f(Ba/Jr,No/Jr);gi.z=vi/Jr,Qe.push(gi)}le.push(Xe),Ee.push(Qe)}return[le,Ee]}(m,D,O,I);return function(Z,W,X){let ne=1/0;L6(X,W)&&(ne=sV(X,W[0]));for(let le=0;le<W.length;le++){let Ee=W[le],me=Z[le];for(let ye=0;ye<Ee.length-1;ye++){let Ae=Ee[ye],Oe=[Ae,Ee[ye+1],me[ye+1],me[ye],Ae];O6(X,Oe)&&(ne=Math.min(ne,sV(X,Oe)))}}return ne!==1/0&&ne}(U[0],U[1],F)}}function s_(u,s){return u.x*s.x+u.y*s.y}function sV(u,s){if(u.length===1){let l=0,p=s[l++],m;for(;!m||p.equals(m);)if(m=s[l++],!m)return 1/0;for(;l<s.length;l++){let x=s[l],b=u[0],I=m.sub(p),A=x.sub(p),O=b.sub(p),D=s_(I,I),F=s_(I,A),U=s_(A,A),Z=s_(O,I),W=s_(O,A),X=D*U-F*F,ne=(U*Z-F*W)/X,le=(D*W-F*Z)/X,Ee=p.z*(1-ne-le)+m.z*ne+x.z*le;if(isFinite(Ee))return Ee}return 1/0}{let l=1/0;for(let p of s)l=Math.min(l,p.z);return l}}let l2e=gn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:u2e}=l2e,c2e=gn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:h2e}=c2e,f2e=Math.cos(Math.PI/180*37.5),lV=Math.pow(2,14)/.5;class m2{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Pe,this.layoutVertexArray2=new qe,this.indexArray=new Sr,this.programConfigurations=new Do(s.layers,s.zoom),this.segments=new Lt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,p){this.hasPattern=l2("line",this.layers,l);let m=this.layers[0].layout.get("line-sort-key"),x=!m.isConstant(),b=[];for(let{feature:I,id:A,index:O,sourceLayerIndex:D}of s){let F=this.layers[0]._featureFilter.needGeometry,U=Vs(I,F);if(!this.layers[0]._featureFilter.filter(new Lr(this.zoom,{globalState:this.globalState}),U,p))continue;let Z=x?m.evaluate(U,{},p):void 0,W={id:A,properties:I.properties,type:I.type,sourceLayerIndex:D,index:O,geometry:F?U.geometry:Ml(I),patterns:{},sortKey:Z};b.push(W)}x&&b.sort((I,A)=>I.sortKey-A.sortKey);for(let I of b){let{geometry:A,index:O,sourceLayerIndex:D}=I;if(this.hasPattern){let F=u2("line",this.layers,I,{zoom:this.zoom,globalState:this.globalState},l);this.patternFeatures.push(F)}else this.addFeature(I,A,O,p,{},l.subdivisionGranularity);l.featureIndex.insert(s[O].feature,A,O,D,this.index)}}update(s,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:p,globalState:this.globalState})}addFeatures(s,l,p){for(let m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,p,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,h2e)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,u2e),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,l,p,m,x,b){let I=this.layers[0].layout,A=I.get("line-join").evaluate(s,{}),O=I.get("line-cap"),D=I.get("line-miter-limit"),F=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let U of l)this.addLine(U,s,A,O,D,F,m,b);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,{imagePositions:x,canonical:m,globalState:this.globalState})}addLine(s,l,p,m,x,b,I,A){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,s=tp(s,I?A.line.getGranularityForZoomLevel(I.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let me=0;me<s.length-1;me++)this.totalDistance+=s[me].dist(s[me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let O=om.types[l.type]==="Polygon",D=s.length;for(;D>=2&&s[D-1].equals(s[D-2]);)D--;let F=0;for(;F<D-1&&s[F].equals(s[F+1]);)F++;if(D<(O?3:2))return;p==="bevel"&&(x=1.05);let U=this.overscaling<=16?122880/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray),W,X,ne,le,Ee;this.e1=this.e2=-1,O&&(W=s[D-2],Ee=s[F].sub(W)._unit()._perp());for(let me=F;me<D;me++){if(ne=me===D-1?O?s[F+1]:void 0:s[me+1],ne&&s[me].equals(ne))continue;Ee&&(le=Ee),W&&(X=W),W=s[me],Ee=ne?ne.sub(W)._unit()._perp():le,le=le||Ee;let ye=le.add(Ee);ye.x===0&&ye.y===0||ye._unit();let Ae=le.x*Ee.x+le.y*Ee.y,Oe=ye.x*Ee.x+ye.y*Ee.y,Ue=Oe!==0?1/Oe:1/0,et=2*Math.sqrt(2-2*Oe),Ke=Oe<f2e&&X&&ne,Je=le.x*Ee.y-le.y*Ee.x>0;if(Ke&&me>F){let Qe=W.dist(X);if(Qe>2*U){let Fe=W.sub(W.sub(X)._mult(U/Qe)._round());this.updateDistance(X,Fe),this.addCurrentVertex(Fe,le,0,0,Z),X=Fe}}let ft=X&&ne,Xe=ft?p:O?"butt":m;if(ft&&Xe==="round"&&(Ue<b?Xe="miter":Ue<=2&&(Xe="fakeround")),Xe==="miter"&&Ue>x&&(Xe="bevel"),Xe==="bevel"&&(Ue>2&&(Xe="flipbevel"),Ue<x&&(Xe="miter")),X&&this.updateDistance(X,W),Xe==="miter")ye._mult(Ue),this.addCurrentVertex(W,ye,0,0,Z);else if(Xe==="flipbevel"){if(Ue>100)ye=Ee.mult(-1);else{let Qe=Ue*le.add(Ee).mag()/le.sub(Ee).mag();ye._perp()._mult(Qe*(Je?-1:1))}this.addCurrentVertex(W,ye,0,0,Z),this.addCurrentVertex(W,ye.mult(-1),0,0,Z)}else if(Xe==="bevel"||Xe==="fakeround"){let Qe=-Math.sqrt(Ue*Ue-1),Fe=Je?Qe:0,bt=Je?0:Qe;if(X&&this.addCurrentVertex(W,le,Fe,bt,Z),Xe==="fakeround"){let It=Math.round(180*et/Math.PI/20);for(let mt=1;mt<It;mt++){let ut=mt/It;if(ut!==.5){let un=ut-.5;ut+=ut*un*(ut-1)*((1.0904+Ae*(Ae*(3.55645-1.43519*Ae)-3.2452))*un*un+(.848013+Ae*(.215638*Ae-1.06021)))}let er=Ee.sub(le)._mult(ut)._add(le)._unit()._mult(Je?-1:1);this.addHalfVertex(W,er.x,er.y,!1,Je,0,Z)}}ne&&this.addCurrentVertex(W,Ee,-Fe,-bt,Z)}else if(Xe==="butt")this.addCurrentVertex(W,ye,0,0,Z);else if(Xe==="square"){let Qe=X?1:-1;this.addCurrentVertex(W,ye,Qe,Qe,Z)}else Xe==="round"&&(X&&(this.addCurrentVertex(W,le,0,0,Z),this.addCurrentVertex(W,le,1,1,Z,!0)),ne&&(this.addCurrentVertex(W,Ee,-1,-1,Z,!0),this.addCurrentVertex(W,Ee,0,0,Z)));if(Ke&&me<D-1){let Qe=W.dist(ne);if(Qe>2*U){let Fe=W.add(ne.sub(W)._mult(U/Qe)._round());this.updateDistance(W,Fe),this.addCurrentVertex(Fe,Ee,0,0,Z),W=Fe}}}}addCurrentVertex(s,l,p,m,x,b=!1){let I=l.y*m-l.x,A=-l.y-l.x*m;this.addHalfVertex(s,l.x+l.y*p,l.y-l.x*p,b,!1,p,x),this.addHalfVertex(s,I,A,b,!0,-m,x),this.distance>lV/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,l,p,m,x,b))}addHalfVertex({x:s,y:l},p,m,x,b,I,A){let O=.5*(this.lineClips?this.scaledDistance*(lV-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(x?1:0),(l<<1)+(b?1:0),Math.round(63*p)+128,Math.round(63*m)+128,1+(I===0?0:I<0?-1:1)|(63&O)<<2,O>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let D=A.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,D,this.e2),A.primitiveLength++),b?this.e2=D:this.e1=D}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,l){this.distance+=s.dist(l),this.updateScaledDistance()}}let uV,cV;at("LineBucket",m2,{omit:["layers","patternFeatures"]});var hV={get paint(){return cV=cV||new $i({"line-opacity":new yt(Te.paint_line["line-opacity"]),"line-color":new yt(Te.paint_line["line-color"]),"line-translate":new ht(Te.paint_line["line-translate"]),"line-translate-anchor":new ht(Te.paint_line["line-translate-anchor"]),"line-width":new yt(Te.paint_line["line-width"]),"line-gap-width":new yt(Te.paint_line["line-gap-width"]),"line-offset":new yt(Te.paint_line["line-offset"]),"line-blur":new yt(Te.paint_line["line-blur"]),"line-dasharray":new Tl(Te.paint_line["line-dasharray"]),"line-pattern":new Hd(Te.paint_line["line-pattern"]),"line-gradient":new Kd(Te.paint_line["line-gradient"])})},get layout(){return uV=uV||new $i({"line-cap":new ht(Te.layout_line["line-cap"]),"line-join":new yt(Te.layout_line["line-join"]),"line-miter-limit":new ht(Te.layout_line["line-miter-limit"]),"line-round-limit":new ht(Te.layout_line["line-round-limit"]),"line-sort-key":new yt(Te.layout_line["line-sort-key"])})}};class p2e extends yt{possiblyEvaluate(s,l){return l=new Lr(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(s,l)}evaluate(s,l,p,m){return l=dn({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(s,l,p,m)}}let Ow;class d2e extends Qo{constructor(s){super(s,hV),this.gradientVersion=0,Ow||(Ow=new p2e(hV.paint.properties["line-width"].specification),Ow.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let l=this.gradientExpression();this.stepInterpolant=!!function(p){return p._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof vn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,l){super.recalculate(s,l),this.paint._values["line-floorwidth"]=Ow.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new m2(s)}queryRadius(s){let l=s,p=fV(Jy("line-width",this,l),Jy("line-gap-width",this,l)),m=Jy("line-offset",this,l);return p/2+Math.abs(m)+Pw(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:p,geometry:m,transform:x,pixelsToTileUnits:b}){let I=Aw(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-x.bearingInRadians,b),A=b/2*fV(this.paint.get("line-width").evaluate(l,p),this.paint.get("line-gap-width").evaluate(l,p)),O=this.paint.get("line-offset").evaluate(l,p);return O&&(m=function(D,F){let U=[];for(let Z=0;Z<D.length;Z++){let W=D[Z],X=[];for(let ne=0;ne<W.length;ne++){let le=W[ne-1],Ee=W[ne],me=W[ne+1],ye=ne===0?new f(0,0):Ee.sub(le)._unit()._perp(),Ae=ne===W.length-1?new f(0,0):me.sub(Ee)._unit()._perp(),Oe=ye._add(Ae)._unit(),Ue=Oe.x*Ae.x+Oe.y*Ae.y;Ue!==0&&Oe._mult(1/Ue),X.push(Oe._mult(F)._add(Ee))}U.push(X)}return U}(m,O*b)),function(D,F,U){for(let Z=0;Z<F.length;Z++){let W=F[Z];if(D.length>=3){for(let X=0;X<W.length;X++)if(tm(D,W[X]))return!0}if(TMe(D,W,U))return!0}return!1}(I,m,A)}isTileClipped(){return!0}}function fV(u,s){return s>0?s+2*u:u}let m2e=gn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),v2e=gn([{name:"a_projected_pos",components:3,type:"Float32"}],4);gn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let g2e=gn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);gn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let pV=gn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),y2e=gn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function _2e(u,s,l){return u.sections.forEach(p=>{p.text=function(m,x,b){let I=x.layout.get("text-transform").evaluate(b,{});return I==="uppercase"?m=m.toLocaleUpperCase():I==="lowercase"&&(m=m.toLocaleLowerCase()),ka.applyArabicShaping&&(m=ka.applyArabicShaping(m)),m}(p.text,s,l)}),u}gn([{name:"triangle",components:3,type:"Uint16"}]),gn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),gn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),gn([{type:"Float32",name:"offsetX"}]),gn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),gn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let l_={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var ri=24;let v2=4294967296,dV=1/v2,mV=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");class g2{constructor(s=new Uint8Array(16)){this.buf=ArrayBuffer.isView(s)?s:new Uint8Array(s),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(s,l,p=this.length){for(;this.pos<p;){let m=this.readVarint(),x=m>>3,b=this.pos;this.type=7&m,s(x,l,this),this.pos===b&&this.skip(m)}return l}readMessage(s,l){return this.readFields(s,l,this.readVarint()+this.pos)}readFixed32(){let s=this.dataView.getUint32(this.pos,!0);return this.pos+=4,s}readSFixed32(){let s=this.dataView.getInt32(this.pos,!0);return this.pos+=4,s}readFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*v2;return this.pos+=8,s}readSFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*v2;return this.pos+=8,s}readFloat(){let s=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,s}readDouble(){let s=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,s}readVarint(s){let l=this.buf,p,m;return m=l[this.pos++],p=127&m,m<128?p:(m=l[this.pos++],p|=(127&m)<<7,m<128?p:(m=l[this.pos++],p|=(127&m)<<14,m<128?p:(m=l[this.pos++],p|=(127&m)<<21,m<128?p:(m=l[this.pos],p|=(15&m)<<28,function(x,b,I){let A=I.buf,O,D;if(D=A[I.pos++],O=(112&D)>>4,D<128||(D=A[I.pos++],O|=(127&D)<<3,D<128)||(D=A[I.pos++],O|=(127&D)<<10,D<128)||(D=A[I.pos++],O|=(127&D)<<17,D<128)||(D=A[I.pos++],O|=(127&D)<<24,D<128)||(D=A[I.pos++],O|=(1&D)<<31,D<128))return am(x,O,b);throw new Error("Expected varint not more than 10 bytes")}(p,s,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){let s=this.readVarint();return s%2==1?(s+1)/-2:s/2}readBoolean(){return!!this.readVarint()}readString(){let s=this.readVarint()+this.pos,l=this.pos;return this.pos=s,s-l>=12&&mV?mV.decode(this.buf.subarray(l,s)):function(p,m,x){let b="",I=m;for(;I<x;){let A=p[I],O,D,F,U=null,Z=A>239?4:A>223?3:A>191?2:1;if(I+Z>x)break;Z===1?A<128&&(U=A):Z===2?(O=p[I+1],(192&O)==128&&(U=(31&A)<<6|63&O,U<=127&&(U=null))):Z===3?(O=p[I+1],D=p[I+2],(192&O)==128&&(192&D)==128&&(U=(15&A)<<12|(63&O)<<6|63&D,(U<=2047||U>=55296&&U<=57343)&&(U=null))):Z===4&&(O=p[I+1],D=p[I+2],F=p[I+3],(192&O)==128&&(192&D)==128&&(192&F)==128&&(U=(15&A)<<18|(63&O)<<12|(63&D)<<6|63&F,(U<=65535||U>=1114112)&&(U=null))),U===null?(U=65533,Z=1):U>65535&&(U-=65536,b+=String.fromCharCode(U>>>10&1023|55296),U=56320|1023&U),b+=String.fromCharCode(U),I+=Z}return b}(this.buf,l,s)}readBytes(){let s=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,s);return this.pos=s,l}readPackedVarint(s=[],l){let p=this.readPackedEnd();for(;this.pos<p;)s.push(this.readVarint(l));return s}readPackedSVarint(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSVarint());return s}readPackedBoolean(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readBoolean());return s}readPackedFloat(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFloat());return s}readPackedDouble(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readDouble());return s}readPackedFixed32(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFixed32());return s}readPackedSFixed32(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSFixed32());return s}readPackedFixed64(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFixed64());return s}readPackedSFixed64(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSFixed64());return s}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(s){let l=7&s;if(l===0)for(;this.buf[this.pos++]>127;);else if(l===2)this.pos=this.readVarint()+this.pos;else if(l===5)this.pos+=4;else{if(l!==1)throw new Error(`Unimplemented type: ${l}`);this.pos+=8}}writeTag(s,l){this.writeVarint(s<<3|l)}realloc(s){let l=this.length||16;for(;l<this.pos+s;)l*=2;if(l!==this.length){let p=new Uint8Array(l);p.set(this.buf),this.buf=p,this.dataView=new DataView(p.buffer),this.length=l}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeSFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*dV),!0),this.pos+=8}writeSFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*dV),!0),this.pos+=8}writeVarint(s){(s=+s||0)>268435455||s<0?function(l,p){let m,x;if(l>=0?(m=l%4294967296|0,x=l/4294967296|0):(m=~(-l%4294967296),x=~(-l/4294967296),4294967295^m?m=m+1|0:(m=0,x=x+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");p.realloc(10),function(b,I,A){A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,A.buf[A.pos]=127&(b>>>=7)}(m,0,p),function(b,I){let A=(7&b)<<4;I.buf[I.pos++]|=A|((b>>>=3)?128:0),b&&(I.buf[I.pos++]=127&b|((b>>>=7)?128:0),b&&(I.buf[I.pos++]=127&b|((b>>>=7)?128:0),b&&(I.buf[I.pos++]=127&b|((b>>>=7)?128:0),b&&(I.buf[I.pos++]=127&b|((b>>>=7)?128:0),b&&(I.buf[I.pos++]=127&b)))))}(x,p)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))}writeSVarint(s){this.writeVarint(s<0?2*-s-1:2*s)}writeBoolean(s){this.writeVarint(+s)}writeString(s){s=String(s),this.realloc(4*s.length),this.pos++;let l=this.pos;this.pos=function(m,x,b){for(let I,A,O=0;O<x.length;O++){if(I=x.charCodeAt(O),I>55295&&I<57344){if(!A){I>56319||O+1===x.length?(m[b++]=239,m[b++]=191,m[b++]=189):A=I;continue}if(I<56320){m[b++]=239,m[b++]=191,m[b++]=189,A=I;continue}I=A-55296<<10|I-56320|65536,A=null}else A&&(m[b++]=239,m[b++]=191,m[b++]=189,A=null);I<128?m[b++]=I:(I<2048?m[b++]=I>>6|192:(I<65536?m[b++]=I>>12|224:(m[b++]=I>>18|240,m[b++]=I>>12&63|128),m[b++]=I>>6&63|128),m[b++]=63&I|128)}return b}(this.buf,s,this.pos);let p=this.pos-l;p>=128&&vV(l,p,this),this.pos=l-1,this.writeVarint(p),this.pos+=p}writeFloat(s){this.realloc(4),this.dataView.setFloat32(this.pos,s,!0),this.pos+=4}writeDouble(s){this.realloc(8),this.dataView.setFloat64(this.pos,s,!0),this.pos+=8}writeBytes(s){let l=s.length;this.writeVarint(l),this.realloc(l);for(let p=0;p<l;p++)this.buf[this.pos++]=s[p]}writeRawMessage(s,l){this.pos++;let p=this.pos;s(l,this);let m=this.pos-p;m>=128&&vV(p,m,this),this.pos=p-1,this.writeVarint(m),this.pos+=m}writeMessage(s,l,p){this.writeTag(s,2),this.writeRawMessage(l,p)}writePackedVarint(s,l){l.length&&this.writeMessage(s,x2e,l)}writePackedSVarint(s,l){l.length&&this.writeMessage(s,b2e,l)}writePackedBoolean(s,l){l.length&&this.writeMessage(s,S2e,l)}writePackedFloat(s,l){l.length&&this.writeMessage(s,w2e,l)}writePackedDouble(s,l){l.length&&this.writeMessage(s,E2e,l)}writePackedFixed32(s,l){l.length&&this.writeMessage(s,T2e,l)}writePackedSFixed32(s,l){l.length&&this.writeMessage(s,I2e,l)}writePackedFixed64(s,l){l.length&&this.writeMessage(s,C2e,l)}writePackedSFixed64(s,l){l.length&&this.writeMessage(s,P2e,l)}writeBytesField(s,l){this.writeTag(s,2),this.writeBytes(l)}writeFixed32Field(s,l){this.writeTag(s,5),this.writeFixed32(l)}writeSFixed32Field(s,l){this.writeTag(s,5),this.writeSFixed32(l)}writeFixed64Field(s,l){this.writeTag(s,1),this.writeFixed64(l)}writeSFixed64Field(s,l){this.writeTag(s,1),this.writeSFixed64(l)}writeVarintField(s,l){this.writeTag(s,0),this.writeVarint(l)}writeSVarintField(s,l){this.writeTag(s,0),this.writeSVarint(l)}writeStringField(s,l){this.writeTag(s,2),this.writeString(l)}writeFloatField(s,l){this.writeTag(s,5),this.writeFloat(l)}writeDoubleField(s,l){this.writeTag(s,1),this.writeDouble(l)}writeBooleanField(s,l){this.writeVarintField(s,+l)}}function am(u,s,l){return l?4294967296*s+(u>>>0):4294967296*(s>>>0)+(u>>>0)}function vV(u,s,l){let p=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));l.realloc(p);for(let m=l.pos-1;m>=u;m--)l.buf[m+p]=l.buf[m]}function x2e(u,s){for(let l=0;l<u.length;l++)s.writeVarint(u[l])}function b2e(u,s){for(let l=0;l<u.length;l++)s.writeSVarint(u[l])}function w2e(u,s){for(let l=0;l<u.length;l++)s.writeFloat(u[l])}function E2e(u,s){for(let l=0;l<u.length;l++)s.writeDouble(u[l])}function S2e(u,s){for(let l=0;l<u.length;l++)s.writeBoolean(u[l])}function T2e(u,s){for(let l=0;l<u.length;l++)s.writeFixed32(u[l])}function I2e(u,s){for(let l=0;l<u.length;l++)s.writeSFixed32(u[l])}function C2e(u,s){for(let l=0;l<u.length;l++)s.writeFixed64(u[l])}function P2e(u,s){for(let l=0;l<u.length;l++)s.writeSFixed64(u[l])}function A2e(u,s,l){u===1&&l.readMessage(M2e,s)}function M2e(u,s,l){if(u===3){let{id:p,bitmap:m,width:x,height:b,left:I,top:A,advance:O}=l.readMessage(q2e,{});s.push({id:p,bitmap:new Qy({width:x+6,height:b+6},m),metrics:{width:x,height:b,left:I,top:A,advance:O}})}}function q2e(u,s,l){u===1?s.id=l.readVarint():u===2?s.bitmap=l.readBytes():u===3?s.width=l.readVarint():u===4?s.height=l.readVarint():u===5?s.left=l.readSVarint():u===6?s.top=l.readSVarint():u===7&&(s.advance=l.readVarint())}function gV(u){let s=0,l=0;for(let b of u)s+=b.w*b.h,l=Math.max(l,b.w);u.sort((b,I)=>I.h-b.h);let p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),l),h:1/0}],m=0,x=0;for(let b of u)for(let I=p.length-1;I>=0;I--){let A=p[I];if(!(b.w>A.w||b.h>A.h)){if(b.x=A.x,b.y=A.y,x=Math.max(x,b.y+b.h),m=Math.max(m,b.x+b.w),b.w===A.w&&b.h===A.h){let O=p.pop();O&&I<p.length&&(p[I]=O)}else b.h===A.h?(A.x+=b.w,A.w-=b.w):b.w===A.w?(A.y+=b.h,A.h-=b.h):(p.push({x:A.x+b.w,y:A.y,w:A.w-b.w,h:b.h}),A.y+=b.h,A.h-=b.h);break}}return{w:m,h:x,fill:s/(m*x)||0}}class y2{constructor(s,{pixelRatio:l,version:p,stretchX:m,stretchY:x,content:b,textFitWidth:I,textFitHeight:A}){this.paddedRect=s,this.pixelRatio=l,this.stretchX=m,this.stretchY=x,this.content=b,this.version=p,this.textFitWidth=I,this.textFitHeight=A}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class yV{constructor(s,l){let p={},m={};this.haveRenderCallbacks=[];let x=[];this.addImages(s,p,x),this.addImages(l,m,x);let{w:b,h:I}=gV(x),A=new ko({width:b||1,height:I||1});for(let O in s){let D=s[O],F=p[O].paddedRect;ko.copy(D.data,A,{x:0,y:0},{x:F.x+1,y:F.y+1},D.data)}for(let O in l){let D=l[O],F=m[O].paddedRect,U=F.x+1,Z=F.y+1,W=D.data.width,X=D.data.height;ko.copy(D.data,A,{x:0,y:0},{x:U,y:Z},D.data),ko.copy(D.data,A,{x:0,y:X-1},{x:U,y:Z-1},{width:W,height:1}),ko.copy(D.data,A,{x:0,y:0},{x:U,y:Z+X},{width:W,height:1}),ko.copy(D.data,A,{x:W-1,y:0},{x:U-1,y:Z},{width:1,height:X}),ko.copy(D.data,A,{x:0,y:0},{x:U+W,y:Z},{width:1,height:X})}this.image=A,this.iconPositions=p,this.patternPositions=m}addImages(s,l,p){for(let m in s){let x=s[m],b={x:0,y:0,w:x.data.width+2,h:x.data.height+2};p.push(b),l[m]=new y2(b,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(s,l){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let p in s.updatedImages)this.patchUpdatedImage(this.iconPositions[p],s.getImage(p),l),this.patchUpdatedImage(this.patternPositions[p],s.getImage(p),l)}patchUpdatedImage(s,l,p){if(!s||!l||s.version===l.version)return;s.version=l.version;let[m,x]=s.tl;p.update(l.data,void 0,{x:m,y:x})}}var th;at("ImagePosition",y2),at("ImageAtlas",yV),o.ao=void 0,(th=o.ao||(o.ao={}))[th.none=0]="none",th[th.horizontal=1]="horizontal",th[th.vertical=2]="vertical",th[th.horizontalOnly=3]="horizontalOnly";class u_{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(s,l,p){let m=new u_;return m.scale=s||1,m.fontStack=l,m.verticalAlign=p||"bottom",m}static forImage(s,l){let p=new u_;return p.imageName=s,p.verticalAlign=l||"bottom",p}}class sm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,l){let p=new sm;for(let m=0;m<s.sections.length;m++){let x=s.sections[m];x.image?p.addImageSection(x):p.addTextSection(x,l)}return p}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let l="";for(let p=0;p<s.length;p++){let m=s.charCodeAt(p+1)||null,x=s.charCodeAt(p-1)||null;l+=m&&_w(m)&&!l_[s[p+1]]||x&&_w(x)&&!l_[s[p-1]]||!l_[s[p]]?s[p]:l_[s[p]]}return l}(this.text)}trim(){let s=0;for(let p=0;p<this.text.length&&Dw[this.text.charCodeAt(p)];p++)s++;let l=this.text.length;for(let p=this.text.length-1;p>=0&&p>=s&&Dw[this.text.charCodeAt(p)];p--)l--;this.text=this.text.substring(s,l),this.sectionIndex=this.sectionIndex.slice(s,l)}substring(s,l){let p=new sm;return p.text=this.text.substring(s,l),p.sectionIndex=this.sectionIndex.slice(s,l),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,l)=>Math.max(s,this.sections[l].scale),0)}getMaxImageSize(s){let l=0,p=0;for(let m=0;m<this.length();m++){let x=this.getSection(m);if(x.imageName){let b=s[x.imageName];if(!b)continue;let I=b.displaySize;l=Math.max(l,I[0]),p=Math.max(p,I[1])}}return{maxImageWidth:l,maxImageHeight:p}}addTextSection(s,l){this.text+=s.text,this.sections.push(u_.forText(s.scale,s.fontStack||l,s.verticalAlign));let p=this.sections.length-1;for(let m=0;m<s.text.length;++m)this.sectionIndex.push(p)}addImageSection(s){let l=s.image?s.image.name:"";if(l.length===0)return void vr("Can't add FormattedSection with an empty image.");let p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(u_.forImage(l,s.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):vr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Lw(u,s,l,p,m,x,b,I,A,O,D,F,U,Z,W){let X=sm.fromFeature(u,m),ne;F===o.ao.vertical&&X.verticalizePunctuation();let{processBidirectionalText:le,processStyledBidirectionalText:Ee}=ka;if(le&&X.sections.length===1){ne=[];let Ae=le(X.toString(),_2(X,O,x,s,p,Z));for(let Oe of Ae){let Ue=new sm;Ue.text=Oe,Ue.sections=X.sections;for(let et=0;et<Oe.length;et++)Ue.sectionIndex.push(0);ne.push(Ue)}}else if(Ee){ne=[];let Ae=Ee(X.text,X.sectionIndex,_2(X,O,x,s,p,Z));for(let Oe of Ae){let Ue=new sm;Ue.text=Oe[0],Ue.sectionIndex=Oe[1],Ue.sections=X.sections,ne.push(Ue)}}else ne=function(Ae,Oe){let Ue=[],et=Ae.text,Ke=0;for(let Je of Oe)Ue.push(Ae.substring(Ke,Je)),Ke=Je;return Ke<et.length&&Ue.push(Ae.substring(Ke,et.length)),Ue}(X,_2(X,O,x,s,p,Z));let me=[],ye={positionedLines:me,text:X.toString(),top:D[1],bottom:D[1],left:D[0],right:D[0],writingMode:F,iconsInText:!1,verticalizable:!1};return function(Ae,Oe,Ue,et,Ke,Je,ft,Xe,Qe,Fe,bt,It){let mt=0,ut=0,er=0,un=0,Kn=Xe==="right"?1:Xe==="left"?0:.5,qi=ri/It,Ba=0;for(let Jr of Ke){Jr.trim();let ni=Jr.getMaxScale(),gi={positionedGlyphs:[],lineOffset:0};Ae.positionedLines[Ba]=gi;let yi=gi.positionedGlyphs,vo=0;if(!Jr.length()){ut+=Je,++Ba;continue}let Ua=D2e(et,Jr,qi);for(let Fo=0;Fo<Jr.length();Fo++){let Yn=Jr.getSection(Fo),oi=Jr.getSectionIndex(Fo),ai=Jr.getCharCode(Fo),Fn=k2e(Qe,bt,ai),Gr;if(Yn.imageName){if(Ae.iconsInText=!0,Yn.scale=Yn.scale*qi,Gr=F2e(Yn,Fn,ni,Ua,et),!Gr)continue;vo=Math.max(vo,Gr.imageOffset)}else if(Gr=N2e(Yn,ai,Fn,Ua,Oe,Ue),!Gr)continue;let{rect:$s,metrics:hm,baselineOffset:Gs}=Gr;yi.push({glyph:ai,imageName:Yn.imageName,x:mt,y:ut+Gs+-17,vertical:Fn,scale:Yn.scale,fontStack:Yn.fontStack,sectionIndex:oi,metrics:hm,rect:$s}),Fn?(Ae.verticalizable=!0,mt+=(Yn.imageName?hm.advance:ri)*Yn.scale+Fe):mt+=hm.advance*Yn.scale+Fe}yi.length!==0&&(er=Math.max(mt-Fe,er),z2e(yi,0,yi.length-1,Kn)),mt=0,gi.lineOffset=Math.max(vo,(ni-1)*ri);let ii=Je*ni+vo;ut+=ii,un=Math.max(ii,un),++Ba}let{horizontalAlign:No,verticalAlign:vi}=x2(ft);(function(Jr,ni,gi,yi,vo,Ua,ii,Fo,Yn){let oi=(ni-gi)*vo,ai=0;ai=Ua!==ii?-Fo*yi- -17:-yi*Yn*ii+.5*ii;for(let Fn of Jr)for(let Gr of Fn.positionedGlyphs)Gr.x+=oi,Gr.y+=ai})(Ae.positionedLines,Kn,No,vi,er,un,Je,ut,Ke.length),Ae.top+=-vi*ut,Ae.bottom=Ae.top+ut,Ae.left+=-No*er,Ae.right=Ae.left+er}(ye,s,l,p,ne,b,I,A,F,O,U,W),!function(Ae){for(let Oe of Ae)if(Oe.positionedGlyphs.length!==0)return!1;return!0}(me)&&ye}let Dw={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},R2e={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},O2e={40:!0};function _V(u,s,l,p,m,x){if(s.imageName){let b=p[s.imageName];return b?b.displaySize[0]*s.scale*ri/x+m:0}{let b=l[s.fontStack],I=b&&b[u];return I?I.metrics.advance*s.scale+m:0}}function xV(u,s,l,p){let m=Math.pow(u-s,2);return p?u<s?m/2:2*m:m+Math.abs(l)*l}function L2e(u,s,l){let p=0;return u===10&&(p-=1e4),l&&(p+=150),u!==40&&u!==65288||(p+=50),s!==41&&s!==65289||(p+=50),p}function bV(u,s,l,p,m,x){let b=null,I=xV(s,l,m,x);for(let A of p){let O=xV(s-A.x,l,m,x)+A.badness;O<=I&&(b=A,I=O)}return{index:u,x:s,priorBreak:b,badness:I}}function wV(u){return u?wV(u.priorBreak).concat(u.index):[]}function _2(u,s,l,p,m,x){if(!u)return[];let b=[],I=function(F,U,Z,W,X,ne){let le=0;for(let Ee=0;Ee<F.length();Ee++){let me=F.getSection(Ee);le+=_V(F.getCharCode(Ee),me,W,X,U,ne)}return le/Math.max(1,Math.ceil(le/Z))}(u,s,l,p,m,x),A=u.text.indexOf("\u200B")>=0,O=0;for(let F=0;F<u.length();F++){let U=u.getSection(F),Z=u.getCharCode(F);if(Dw[Z]||(O+=_V(Z,U,p,m,s,x)),F<u.length()-1){let W=!((D=Z)<11904)&&(!!Qt["CJK Compatibility Forms"](D)||!!Qt["CJK Compatibility"](D)||!!Qt["CJK Strokes"](D)||!!Qt["CJK Symbols and Punctuation"](D)||!!Qt["Enclosed CJK Letters and Months"](D)||!!Qt["Halfwidth and Fullwidth Forms"](D)||!!Qt["Ideographic Description Characters"](D)||!!Qt["Vertical Forms"](D)||By.test(String.fromCodePoint(D)));(R2e[Z]||W||U.imageName||F!==u.length()-2&&O2e[u.getCharCode(F+1)])&&b.push(bV(F+1,O,I,b,L2e(Z,u.getCharCode(F+1),W&&A),!1))}}var D;return wV(bV(u.length(),O,I,b,0,!0))}function x2(u){let s=.5,l=.5;switch(u){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:s,verticalAlign:l}}function D2e(u,s,l){let p=s.getMaxScale()*ri,{maxImageWidth:m,maxImageHeight:x}=s.getMaxImageSize(u),b=Math.max(p,x*l);return{verticalLineContentWidth:Math.max(p,m*l),horizontalLineContentHeight:b}}function EV(u){switch(u){case"top":return 0;case"center":return .5;default:return 1}}function k2e(u,s,l){return!(u===o.ao.horizontal||!s&&!Uy(l)||s&&(Dw[l]||(p=l,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(p)))));var p}function N2e(u,s,l,p,m,x){let b=x[u.fontStack],I=function(O,D,F,U){if(O&&O.rect)return O;let Z=D[F.fontStack],W=Z&&Z[U];return W?{rect:null,metrics:W.metrics}:null}(b&&b[s],m,u,s);if(I===null)return null;let A;if(l)A=p.verticalLineContentWidth-u.scale*ri;else{let O=EV(u.verticalAlign);A=(p.horizontalLineContentHeight-u.scale*ri)*O}return{rect:I.rect,metrics:I.metrics,baselineOffset:A}}function F2e(u,s,l,p,m){let x=m[u.imageName];if(!x)return null;let b=x.paddedRect,I=x.displaySize,A={width:I[0],height:I[1],left:1,top:-3,advance:s?I[1]:I[0]},O;if(s)O=p.verticalLineContentWidth-I[1]*u.scale;else{let D=EV(u.verticalAlign);O=(p.horizontalLineContentHeight-I[1]*u.scale)*D}return{rect:b,metrics:A,baselineOffset:O,imageOffset:(s?I[0]:I[1])*u.scale-ri*l}}function z2e(u,s,l,p){if(p===0)return;let m=u[l],x=(u[l].x+m.metrics.advance*m.scale)*p;for(let b=s;b<=l;b++)u[b].x-=x}function j2e(u,s,l){let{horizontalAlign:p,verticalAlign:m}=x2(l),x=s[0]-u.displaySize[0]*p,b=s[1]-u.displaySize[1]*m;return{image:u,top:b,bottom:b+u.displaySize[1],left:x,right:x+u.displaySize[0]}}function SV(u){var s,l;let p=u.left,m=u.top,x=u.right-p,b=u.bottom-m,I=(s=u.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",A=(l=u.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",O=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(A==="proportional"){if(I==="stretchOnly"&&x/b<O||I==="proportional"){let D=Math.ceil(b*O);p*=D/x,x=D}}else if(I==="proportional"&&A==="stretchOnly"&&O!==0&&x/b>O){let D=Math.ceil(x/O);m*=D/b,b=D}return{x1:p,y1:m,x2:p+x,y2:m+b}}function TV(u,s,l,p,m,x){let b=u.image,I;if(b.content){let ne=b.content,le=b.pixelRatio||1;I=[ne[0]/le,ne[1]/le,b.displaySize[0]-ne[2]/le,b.displaySize[1]-ne[3]/le]}let A=s.left*x,O=s.right*x,D,F,U,Z;l==="width"||l==="both"?(Z=m[0]+A-p[3],F=m[0]+O+p[1]):(Z=m[0]+(A+O-b.displaySize[0])/2,F=Z+b.displaySize[0]);let W=s.top*x,X=s.bottom*x;return l==="height"||l==="both"?(D=m[1]+W-p[0],U=m[1]+X+p[2]):(D=m[1]+(W+X-b.displaySize[1])/2,U=D+b.displaySize[1]),{image:b,top:D,right:F,bottom:U,left:Z,collisionPadding:I}}let Fu=128,rh=32640;function IV(u,s){let{expression:l}=s;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Lr(u+1))};if(l.kind==="source")return{kind:"source"};{let{zoomStops:p,interpolationType:m}=l,x=0;for(;x<p.length&&p[x]<=u;)x++;x=Math.max(0,x-1);let b=x;for(;b<p.length&&p[b]<u+1;)b++;b=Math.min(p.length-1,b);let I=p[x],A=p[b];return l.kind==="composite"?{kind:"composite",minZoom:I,maxZoom:A,interpolationType:m}:{kind:"camera",minZoom:I,maxZoom:A,minSize:l.evaluate(new Lr(I)),maxSize:l.evaluate(new Lr(A)),interpolationType:m}}}function b2(u,s,l){let p="never",m=u.get(s);return m?p=m:u.get(l)&&(p="always"),p}let B2e=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function kw(u,s,l,p,m,x,b,I,A,O,D,F,U){let Z=I?Math.min(rh,Math.round(I[0])):0,W=I?Math.min(rh,Math.round(I[1])):0;u.emplaceBack(s,l,Math.round(32*p),Math.round(32*m),x,b,(Z<<1)+(A?1:0),W,16*O,16*D,256*F,256*U)}function w2(u,s,l){u.emplaceBack(s.x,s.y,l),u.emplaceBack(s.x,s.y,l),u.emplaceBack(s.x,s.y,l),u.emplaceBack(s.x,s.y,l)}function U2e(u){for(let s of u.sections)if(ww(s.text))return!0;return!1}class E2{constructor(s){this.layoutVertexArray=new Ye,this.indexArray=new Sr,this.programConfigurations=s,this.segments=new Lt,this.dynamicLayoutVertexArray=new je,this.opacityVertexArray=new lt,this.hasVisibleVertices=!1,this.placedSymbolArray=new K}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,l,p,m){this.isEmpty()||(p&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,m2e.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,v2e.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,B2e,!0),this.opacityVertexBuffer.itemSize=1),(p||m)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}at("SymbolBuffers",E2);class S2{constructor(s,l,p){this.layoutVertexArray=new s,this.layoutAttributes=l,this.indexArray=new p,this.segments=new Lt,this.collisionVertexArray=new hr}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,g2e.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}at("CollisionBuffers",S2);class lm{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(b=>b.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=IV(this.zoom,l["text-size"]),this.iconSizeData=IV(this.zoom,l["icon-size"]);let p=this.layers[0].layout,m=p.get("symbol-sort-key"),x=p.get("symbol-z-order");this.canOverlap=b2(p,"text-overlap","text-allow-overlap")!=="never"||b2(p,"icon-overlap","icon-allow-overlap")!=="never"||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,p.get("symbol-placement")==="point"&&(this.writingModes=p.get("text-writing-mode").map(b=>o.ao[b])),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=s.sourceID}createArrays(){this.text=new E2(new Do(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new E2(new Do(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new ae,this.lineVertexArray=new ue,this.symbolInstances=new ie,this.textAnchorOffsets=new he}calculateGlyphDependencies(s,l,p,m,x){for(let b=0;b<s.length;b++)if(l[s.charCodeAt(b)]=!0,(p||m)&&x){let I=l_[s.charAt(b)];I&&(l[I.charCodeAt(0)]=!0)}}populate(s,l,p){let m=this.layers[0],x=m.layout,b=x.get("text-font"),I=x.get("text-field"),A=x.get("icon-image"),O=(I.value.kind!=="constant"||I.value.value instanceof Bi&&!I.value.value.isEmpty()||I.value.value.toString().length>0)&&(b.value.kind!=="constant"||b.value.value.length>0),D=A.value.kind!=="constant"||!!A.value.value||Object.keys(A.parameters).length>0,F=x.get("symbol-sort-key");if(this.features=[],!O&&!D)return;let U=l.iconDependencies,Z=l.glyphDependencies,W=l.availableImages,X=new Lr(this.zoom,{globalState:this.globalState});for(let{feature:ne,id:le,index:Ee,sourceLayerIndex:me}of s){let ye=m._featureFilter.needGeometry,Ae=Vs(ne,ye);if(!m._featureFilter.filter(X,Ae,p))continue;let Oe,Ue;if(ye||(Ae.geometry=Ml(ne)),O){let Ke=m.getValueAndResolveTokens("text-field",Ae,p,W),Je=Bi.factory(Ke),ft=this.hasRTLText=this.hasRTLText||U2e(Je);(!ft||ka.getRTLTextPluginStatus()==="unavailable"||ft&&ka.isParsed())&&(Oe=_2e(Je,m,Ae))}if(D){let Ke=m.getValueAndResolveTokens("icon-image",Ae,p,W);Ue=Ke instanceof Oo?Ke:Oo.fromString(Ke)}if(!Oe&&!Ue)continue;let et=this.sortFeaturesByKey?F.evaluate(Ae,{},p):void 0;if(this.features.push({id:le,text:Oe,icon:Ue,index:Ee,sourceLayerIndex:me,geometry:Ae.geometry,properties:ne.properties,type:om.types[ne.type],sortKey:et}),Ue&&(U[Ue.name]=!0),Oe){let Ke=b.evaluate(Ae,{},p).join(","),Je=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.ao.vertical)>=0;for(let ft of Oe.sections)if(ft.image)U[ft.image.name]=!0;else{let Xe=Gd(Oe.toString()),Qe=ft.fontStack||Ke,Fe=Z[Qe]=Z[Qe]||{};this.calculateGlyphDependencies(ft.text,Fe,Je,this.allowVerticalPlacement,Xe)}}}x.get("symbol-placement")==="line"&&(this.features=function(ne){let le={},Ee={},me=[],ye=0;function Ae(Ke){me.push(ne[Ke]),ye++}function Oe(Ke,Je,ft){let Xe=Ee[Ke];return delete Ee[Ke],Ee[Je]=Xe,me[Xe].geometry[0].pop(),me[Xe].geometry[0]=me[Xe].geometry[0].concat(ft[0]),Xe}function Ue(Ke,Je,ft){let Xe=le[Je];return delete le[Je],le[Ke]=Xe,me[Xe].geometry[0].shift(),me[Xe].geometry[0]=ft[0].concat(me[Xe].geometry[0]),Xe}function et(Ke,Je,ft){let Xe=ft?Je[0][Je[0].length-1]:Je[0][0];return`${Ke}:${Xe.x}:${Xe.y}`}for(let Ke=0;Ke<ne.length;Ke++){let Je=ne[Ke],ft=Je.geometry,Xe=Je.text?Je.text.toString():null;if(!Xe){Ae(Ke);continue}let Qe=et(Xe,ft),Fe=et(Xe,ft,!0);if(Qe in Ee&&Fe in le&&Ee[Qe]!==le[Fe]){let bt=Ue(Qe,Fe,ft),It=Oe(Qe,Fe,me[bt].geometry);delete le[Qe],delete Ee[Fe],Ee[et(Xe,me[It].geometry,!0)]=It,me[bt].geometry=null}else Qe in Ee?Oe(Qe,Fe,ft):Fe in le?Ue(Qe,Fe,ft):(Ae(Ke),le[Qe]=ye-1,Ee[Fe]=ye-1)}return me.filter(Ke=>Ke.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ne,le)=>ne.sortKey-le.sortKey)}update(s,l,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,l,this.layers,{imagePositions:p,globalState:this.globalState}),this.icon.programConfigurations.updatePaintArrays(s,l,this.layers,{imagePositions:p,globalState:this.globalState}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,l){let p=this.lineVertexArray.length;if(s.segment!==void 0){let m=s.dist(l[s.segment+1]),x=s.dist(l[s.segment]),b={};for(let I=s.segment+1;I<l.length;I++)b[I]={x:l[I].x,y:l[I].y,tileUnitDistanceFromAnchor:m},I<l.length-1&&(m+=l[I+1].dist(l[I]));for(let I=s.segment||0;I>=0;I--)b[I]={x:l[I].x,y:l[I].y,tileUnitDistanceFromAnchor:x},I>0&&(x+=l[I-1].dist(l[I]));for(let I=0;I<l.length;I++){let A=b[I];this.lineVertexArray.emplaceBack(A.x,A.y,A.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(s,l,p,m,x,b,I,A,O,D,F,U){let Z=s.indexArray,W=s.layoutVertexArray,X=s.segments.prepareSegment(4*l.length,W,Z,this.canOverlap?b.sortKey:void 0),ne=this.glyphOffsetArray.length,le=X.vertexLength,Ee=this.allowVerticalPlacement&&I===o.ao.vertical?Math.PI/2:0,me=b.text&&b.text.sections;for(let ye=0;ye<l.length;ye++){let{tl:Ae,tr:Oe,bl:Ue,br:et,tex:Ke,pixelOffsetTL:Je,pixelOffsetBR:ft,minFontScaleX:Xe,minFontScaleY:Qe,glyphOffset:Fe,isSDF:bt,sectionIndex:It}=l[ye],mt=X.vertexLength,ut=Fe[1];kw(W,A.x,A.y,Ae.x,ut+Ae.y,Ke.x,Ke.y,p,bt,Je.x,Je.y,Xe,Qe),kw(W,A.x,A.y,Oe.x,ut+Oe.y,Ke.x+Ke.w,Ke.y,p,bt,ft.x,Je.y,Xe,Qe),kw(W,A.x,A.y,Ue.x,ut+Ue.y,Ke.x,Ke.y+Ke.h,p,bt,Je.x,ft.y,Xe,Qe),kw(W,A.x,A.y,et.x,ut+et.y,Ke.x+Ke.w,Ke.y+Ke.h,p,bt,ft.x,ft.y,Xe,Qe),w2(s.dynamicLayoutVertexArray,A,Ee),Z.emplaceBack(mt,mt+2,mt+1),Z.emplaceBack(mt+1,mt+2,mt+3),X.vertexLength+=4,X.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Fe[0]),ye!==l.length-1&&It===l[ye+1].sectionIndex||s.programConfigurations.populatePaintArrays(W.length,b,b.index,{imagePositions:{},canonical:U,formattedSection:me&&me[It],globalState:this.globalState})}s.placedSymbolArray.emplaceBack(A.x,A.y,ne,this.glyphOffsetArray.length-ne,le,O,D,A.segment,p?p[0]:0,p?p[1]:0,m[0],m[1],I,0,!1,0,F)}_addCollisionDebugVertex(s,l,p,m,x,b){return l.emplaceBack(0,0),s.emplaceBack(p.x,p.y,m,x,Math.round(b.x),Math.round(b.y))}addCollisionDebugVertices(s,l,p,m,x,b,I){let A=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),O=A.vertexLength,D=x.layoutVertexArray,F=x.collisionVertexArray,U=I.anchorX,Z=I.anchorY;this._addCollisionDebugVertex(D,F,b,U,Z,new f(s,l)),this._addCollisionDebugVertex(D,F,b,U,Z,new f(p,l)),this._addCollisionDebugVertex(D,F,b,U,Z,new f(p,m)),this._addCollisionDebugVertex(D,F,b,U,Z,new f(s,m)),A.vertexLength+=4;let W=x.indexArray;W.emplaceBack(O,O+1),W.emplaceBack(O+1,O+2),W.emplaceBack(O+2,O+3),W.emplaceBack(O+3,O),A.primitiveLength+=4}addDebugCollisionBoxes(s,l,p,m){for(let x=s;x<l;x++){let b=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(b.x1,b.y1,b.x2,b.y2,m?this.textCollisionBox:this.iconCollisionBox,b.anchorPoint,p)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new S2(kt,pV.members,gr),this.iconCollisionBox=new S2(kt,pV.members,gr);for(let s=0;s<this.symbolInstances.length;s++){let l=this.symbolInstances.get(s);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(s,l,p,m,x,b,I,A,O){let D={};for(let F=l;F<p;F++){let U=s.get(F);D.textBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},D.textFeatureIndex=U.featureIndex;break}for(let F=m;F<x;F++){let U=s.get(F);D.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},D.verticalTextFeatureIndex=U.featureIndex;break}for(let F=b;F<I;F++){let U=s.get(F);D.iconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},D.iconFeatureIndex=U.featureIndex;break}for(let F=A;F<O;F++){let U=s.get(F);D.verticalIconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},D.verticalIconFeatureIndex=U.featureIndex;break}return D}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){let p=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,l){let p=s.placedSymbolArray.get(l),m=p.vertexStartIndex+4*p.numGlyphs;for(let x=p.vertexStartIndex;x<m;x+=4)s.indexArray.emplaceBack(x,x+2,x+1),s.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let l=Math.sin(s),p=Math.cos(s),m=[],x=[],b=[];for(let I=0;I<this.symbolInstances.length;++I){b.push(I);let A=this.symbolInstances.get(I);m.push(0|Math.round(l*A.anchorX+p*A.anchorY)),x.push(A.featureIndex)}return b.sort((I,A)=>m[I]-m[A]||x[A]-x[I]),b}addToSortKeyRanges(s,l){let p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===l?p.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let l of this.symbolInstanceIndexes){let p=this.symbolInstances.get(l);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((m,x,b)=>{m>=0&&b.indexOf(m)===x&&this.addIndicesForPlacedSymbol(this.text,m)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let CV,PV;at("SymbolBucket",lm,{omit:["layers","collisionBoxArray","features","compareText"]}),lm.MAX_GLYPHS=65535,lm.addDynamicAttributes=w2;var T2={get paint(){return PV=PV||new $i({"icon-opacity":new yt(Te.paint_symbol["icon-opacity"]),"icon-color":new yt(Te.paint_symbol["icon-color"]),"icon-halo-color":new yt(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new yt(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yt(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new ht(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new ht(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new yt(Te.paint_symbol["text-opacity"]),"text-color":new yt(Te.paint_symbol["text-color"],{runtimeType:di,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new yt(Te.paint_symbol["text-halo-color"]),"text-halo-width":new yt(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new yt(Te.paint_symbol["text-halo-blur"]),"text-translate":new ht(Te.paint_symbol["text-translate"]),"text-translate-anchor":new ht(Te.paint_symbol["text-translate-anchor"])})},get layout(){return CV=CV||new $i({"symbol-placement":new ht(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new ht(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ht(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yt(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ht(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ht(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ht(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ht(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new ht(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ht(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new yt(Te.layout_symbol["icon-size"]),"icon-text-fit":new ht(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ht(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new yt(Te.layout_symbol["icon-image"]),"icon-rotate":new yt(Te.layout_symbol["icon-rotate"]),"icon-padding":new yt(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new ht(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new yt(Te.layout_symbol["icon-offset"]),"icon-anchor":new yt(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ht(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ht(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ht(Te.layout_symbol["text-rotation-alignment"]),"text-field":new yt(Te.layout_symbol["text-field"]),"text-font":new yt(Te.layout_symbol["text-font"]),"text-size":new yt(Te.layout_symbol["text-size"]),"text-max-width":new yt(Te.layout_symbol["text-max-width"]),"text-line-height":new ht(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new yt(Te.layout_symbol["text-letter-spacing"]),"text-justify":new yt(Te.layout_symbol["text-justify"]),"text-radial-offset":new yt(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ht(Te.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new yt(Te.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new yt(Te.layout_symbol["text-anchor"]),"text-max-angle":new ht(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new ht(Te.layout_symbol["text-writing-mode"]),"text-rotate":new yt(Te.layout_symbol["text-rotate"]),"text-padding":new ht(Te.layout_symbol["text-padding"]),"text-keep-upright":new ht(Te.layout_symbol["text-keep-upright"]),"text-transform":new yt(Te.layout_symbol["text-transform"]),"text-offset":new yt(Te.layout_symbol["text-offset"]),"text-allow-overlap":new ht(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new ht(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new ht(Te.layout_symbol["text-ignore-placement"]),"text-optional":new ht(Te.layout_symbol["text-optional"])})}};class AV{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:Mc,this.defaultValue=s}evaluate(s){if(s.formattedSection){let l=this.defaultValue.property.overrides;if(l&&l.hasOverride(s.formattedSection))return l.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}at("FormatSectionOverride",AV,{omit:["defaultValue"]});class Nw extends Qo{constructor(s){super(s,T2)}recalculate(s,l){if(super.recalculate(s,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let p=this.layout.get("text-writing-mode");if(p){let m=[];for(let x of p)m.indexOf(x)<0&&m.push(x);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,l,p,m){let x=this.layout.get(s).evaluate(l,{},p,m),b=this._unevaluatedLayout._values[s];return b.isDataDriven()||Nd(b.value)||!x?x:function(I,A){return A.replace(/{([^{}]+)}/g,(O,D)=>I&&D in I?String(I[D]):"")}(l.properties,x)}createBucket(s){return new lm(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of T2.paint.overridableProperties){if(!Nw.hasPaintOverride(this.layout,s))continue;let l=this.paint.get(s),p=new AV(l),m=new Ay(p,l.property.specification),x=null;x=l.value.kind==="constant"||l.value.kind==="source"?new Vf("source",m):new My("composite",m,l.value.zoomStops),this.paint._values[s]=new us(l.property,x,l.parameters)}}_handleOverridablePaintPropertyUpdate(s,l,p){return!(!this.layout||l.isDataDriven()||p.isDataDriven())&&Nw.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,l){let p=s.get("text-field"),m=T2.paint.properties[l],x=!1,b=I=>{for(let A of I)if(m.overrides&&m.overrides.hasOverride(A))return void(x=!0)};if(p.value.kind==="constant"&&p.value.value instanceof Bi)b(p.value.value.sections);else if(p.value.kind==="source"||p.value.kind==="composite"){let I=O=>{x||(O instanceof zs&&xt(O.value)===_l?b(O.value.sections):O instanceof Su?b(O.sections):O.eachChild(I))},A=p.value;A._styleExpression&&I(A._styleExpression.expression)}return x}}let MV;var V2e={get paint(){return MV=MV||new $i({"background-color":new ht(Te.paint_background["background-color"]),"background-pattern":new Tl(Te.paint_background["background-pattern"]),"background-opacity":new ht(Te.paint_background["background-opacity"])})}};class $2e extends Qo{constructor(s){super(s,V2e)}}let qV;var G2e={get paint(){return qV=qV||new $i({"raster-opacity":new ht(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new ht(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ht(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ht(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new ht(Te.paint_raster["raster-saturation"]),"raster-contrast":new ht(Te.paint_raster["raster-contrast"]),"raster-resampling":new ht(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new ht(Te.paint_raster["raster-fade-duration"])})}};class Z2e extends Qo{constructor(s){super(s,G2e)}}class W2e extends Qo{constructor(s){super(s,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class H2e{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let K2e={once:!0},I2=6371008.8;class nh{constructor(s,l){if(isNaN(s)||isNaN(l))throw new Error(`Invalid LngLat object: (${s}, ${l})`);if(this.lng=+s,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new nh(rr(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let l=Math.PI/180,p=this.lat*l,m=s.lat*l,x=Math.sin(p)*Math.sin(m)+Math.cos(p)*Math.cos(m)*Math.cos((s.lng-this.lng)*l);return I2*Math.acos(Math.min(x,1))}static convert(s){if(s instanceof nh)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new nh(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new nh(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let RV=2*Math.PI*I2;function OV(u){return RV*Math.cos(u*Math.PI/180)}function LV(u){return(180+u)/360}function DV(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function kV(u,s){return u/OV(s)}function C2(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function NV(u,s){return u*OV(C2(s))}class c_{constructor(s,l,p=0){this.x=+s,this.y=+l,this.z=+p}static fromLngLat(s,l=0){let p=nh.convert(s);return new c_(LV(p.lng),DV(p.lat),kV(l,p.lat))}toLngLat(){return new nh(360*this.x-180,C2(this.y))}toAltitude(){return NV(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/RV*(s=C2(this.y),1/Math.cos(s*Math.PI/180));var s}}function FV(u,s,l){var p=2*Math.PI*6378137/256/Math.pow(2,l);return[u*p-2*Math.PI*6378137/2,s*p-2*Math.PI*6378137/2]}class P2{constructor(s,l,p){if(!function(m,x,b){return!(m<0||m>25||b<0||b>=Math.pow(2,m)||x<0||x>=Math.pow(2,m))}(s,l,p))throw new Error(`x=${l}, y=${p}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=l,this.y=p,this.key=um(0,s,s,l,p)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,l,p){let m=(b=this.y,I=this.z,A=FV(256*(x=this.x),256*(b=Math.pow(2,I)-b-1),I),O=FV(256*(x+1),256*(b+1),I),A[0]+","+A[1]+","+O[0]+","+O[1]);var x,b,I,A,O;let D=function(F,U,Z){let W,X="";for(let ne=F;ne>0;ne--)W=1<<ne-1,X+=(U&W?1:0)+(Z&W?2:0);return X}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(p==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,D).replace(/{bbox-epsg-3857}/g,m)}isChildOf(s){let l=this.z-s.z;return l>0&&s.x===this.x>>l&&s.y===this.y>>l}getTilePoint(s){let l=Math.pow(2,this.z);return new f((s.x*l-this.x)*_t,(s.y*l-this.y)*_t)}toString(){return`${this.z}/${this.x}/${this.y}`}}class zV{constructor(s,l){this.wrap=s,this.canonical=l,this.key=um(s,l.z,l.z,l.x,l.y)}}class ja{constructor(s,l,p,m,x){if(this.terrainRttPosMatrix32f=null,s<p)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${p}`);this.overscaledZ=s,this.wrap=l,this.canonical=new P2(p,+m,+x),this.key=um(l,s,p,m,x)}clone(){return new ja(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let l=this.canonical.z-s;return s>this.canonical.z?new ja(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(s,this.wrap,s,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(s,l){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let p=this.canonical.z-s;return s>this.canonical.z?um(this.wrap*+l,s,this.canonical.z,this.canonical.x,this.canonical.y):um(this.wrap*+l,s,s,this.canonical.x>>p,this.canonical.y>>p)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let l=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>l&&s.canonical.y===this.canonical.y>>l}children(s){if(this.overscaledZ>=s)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let l=this.canonical.z+1,p=2*this.canonical.x,m=2*this.canonical.y;return[new ja(l,this.wrap,l,p,m),new ja(l,this.wrap,l,p+1,m),new ja(l,this.wrap,l,p,m+1),new ja(l,this.wrap,l,p+1,m+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new ja(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new zV(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new c_(s.x-this.wrap,s.y))}}function um(u,s,l,p,m){(u*=2)<0&&(u=-1*u-1);let x=1<<l;return(x*x*u+x*m+p).toString(36)+l.toString(36)+s.toString(36)}function h_(u,s){return s?u.properties[s]:u.id}at("CanonicalTileID",P2),at("OverscaledTileID",ja,{omit:["terrainRttPosMatrix32f"]});class rp{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(s){return this.minX=Math.min(this.minX,s.x),this.minY=Math.min(this.minY,s.y),this.maxX=Math.max(this.maxX,s.x),this.maxY=Math.max(this.maxY,s.y),this}expandBy(s){return this.minX-=s,this.minY-=s,this.maxX+=s,this.maxY+=s,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(s){return this.expandBy(-s)}map(s){let l=new rp;return l.extend(s(new f(this.minX,this.minY))),l.extend(s(new f(this.maxX,this.minY))),l.extend(s(new f(this.minX,this.maxY))),l.extend(s(new f(this.maxX,this.maxY))),l}static fromPoints(s){let l=new rp;for(let p of s)l.extend(p);return l}contains(s){return s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(s){return!this.empty()&&!s.empty()&&s.minX>=this.minX&&s.maxX<=this.maxX&&s.minY>=this.minY&&s.maxY<=this.maxY}intersects(s){return!this.empty()&&!s.empty()&&s.minX<=this.maxX&&s.maxX>=this.minX&&s.minY<=this.maxY&&s.maxY>=this.minY}}class jV{constructor(s){this._stringToNumber={},this._numberToString=[];for(let l=0;l<s.length;l++){let p=s[l];this._stringToNumber[p]=l,this._numberToString[l]=p}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class BV{constructor(s,l,p,m,x){this.type="Feature",this._vectorTileFeature=s,s._z=l,s._x=p,s._y=m,this.properties=s.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(s[l]=this[l]);return s}}class UV{constructor(s,l){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Yf(_t,16,0),this.grid3D=new Yf(_t,16,0),this.featureIndexArray=new _e,this.promoteId=l}insert(s,l,p,m,x,b){let I=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,m,x);let A=b?this.grid3D:this.grid;for(let O=0;O<l.length;O++){let D=l[O],F=[1/0,1/0,-1/0,-1/0];for(let U=0;U<D.length;U++){let Z=D[U];F[0]=Math.min(F[0],Z.x),F[1]=Math.min(F[1],Z.y),F[2]=Math.max(F[2],Z.x),F[3]=Math.max(F[3],Z.y)}F[0]<_t&&F[1]<_t&&F[2]>=0&&F[3]>=0&&A.insert(I,F[0],F[1],F[2],F[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new iV(new g2(this.rawTileData)).layers,this.sourceLayerCoder=new jV(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,l,p,m){this.loadVTLayers();let x=s.params,b=_t/s.tileSize/s.scale,I=Mu(x.filter),A=s.queryGeometry,O=s.queryPadding*b,D=rp.fromPoints(A),F=this.grid.query(D.minX-O,D.minY-O,D.maxX+O,D.maxY+O),U=rp.fromPoints(s.cameraQueryGeometry).expandBy(O),Z=this.grid3D.query(U.minX,U.minY,U.maxX,U.maxY,(ne,le,Ee,me)=>function(ye,Ae,Oe,Ue,et){for(let Je of ye)if(Ae<=Je.x&&Oe<=Je.y&&Ue>=Je.x&&et>=Je.y)return!0;let Ke=[new f(Ae,Oe),new f(Ae,et),new f(Ue,et),new f(Ue,Oe)];if(ye.length>2){for(let Je of Ke)if(tm(ye,Je))return!0}for(let Je=0;Je<ye.length-1;Je++)if(CMe(ye[Je],ye[Je+1],Ke))return!0;return!1}(s.cameraQueryGeometry,ne-O,le-O,Ee+O,me+O));for(let ne of Z)F.push(ne);F.sort(Y2e);let W={},X;for(let ne=0;ne<F.length;ne++){let le=F[ne];if(le===X)continue;X=le;let Ee=this.featureIndexArray.get(le),me=null;this.loadMatchingFeature(W,Ee.bucketIndex,Ee.sourceLayerIndex,Ee.featureIndex,I,x.layers,x.availableImages,l,p,m,(ye,Ae,Oe)=>(me||(me=Ml(ye)),Ae.queryIntersectsFeature({queryGeometry:A,feature:ye,featureState:Oe,geometry:me,zoom:this.z,transform:s.transform,pixelsToTileUnits:b,pixelPosMatrix:s.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:s.getElevation})))}return W}loadMatchingFeature(s,l,p,m,x,b,I,A,O,D,F){let U=this.bucketLayerIDs[l];if(b&&!U.some(ne=>b.has(ne)))return;let Z=this.sourceLayerCoder.decode(p),W=this.vtLayers[Z].feature(m);if(x.needGeometry){let ne=Vs(W,!0);if(!x.filter(new Lr(this.tileID.overscaledZ),ne,this.tileID.canonical))return}else if(!x.filter(new Lr(this.tileID.overscaledZ),W))return;let X=this.getId(W,Z);for(let ne=0;ne<U.length;ne++){let le=U[ne];if(b&&!b.has(le))continue;let Ee=A[le];if(!Ee)continue;let me={};X&&D&&(me=D.getState(Ee.sourceLayer||"_geojsonTileLayer",X));let ye=dn({},O[le]);ye.paint=VV(ye.paint,Ee.paint,W,me,I),ye.layout=VV(ye.layout,Ee.layout,W,me,I);let Ae=!F||F(W,Ee,me);if(!Ae)continue;let Oe=new BV(W,this.z,this.x,this.y,X);Oe.layer=ye;let Ue=s[le];Ue===void 0&&(Ue=s[le]=[]),Ue.push({featureIndex:m,feature:Oe,intersectionZ:Ae})}}lookupSymbolFeatures(s,l,p,m,x,b,I,A){let O={};this.loadVTLayers();let D=Mu(x);for(let F of s)this.loadMatchingFeature(O,p,m,F,D,b,I,A,l);return O}hasLayer(s){for(let l of this.bucketLayerIDs)for(let p of l)if(s===p)return!0;return!1}getId(s,l){var p;let m=s.id;return this.promoteId&&(m=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&!((p=s.properties)===null||p===void 0)&&p.cluster&&this.promoteId&&(m=Number(s.properties.cluster_id))),m}}function VV(u,s,l,p,m){return Tn(u,(x,b)=>{let I=s instanceof Wd?s.get(b):null;return I&&I.evaluate?I.evaluate(l,p,m):I})}function Y2e(u,s){return s-u}function $V(u,s,l,p,m){let x=[];for(let b=0;b<u.length;b++){let I=u[b],A;for(let O=0;O<I.length-1;O++){let D=I[O],F=I[O+1];D.x<s&&F.x<s||(D.x<s?D=new f(s,D.y+(s-D.x)/(F.x-D.x)*(F.y-D.y))._round():F.x<s&&(F=new f(s,D.y+(s-D.x)/(F.x-D.x)*(F.y-D.y))._round()),D.y<l&&F.y<l||(D.y<l?D=new f(D.x+(l-D.y)/(F.y-D.y)*(F.x-D.x),l)._round():F.y<l&&(F=new f(D.x+(l-D.y)/(F.y-D.y)*(F.x-D.x),l)._round()),D.x>=p&&F.x>=p||(D.x>=p?D=new f(p,D.y+(p-D.x)/(F.x-D.x)*(F.y-D.y))._round():F.x>=p&&(F=new f(p,D.y+(p-D.x)/(F.x-D.x)*(F.y-D.y))._round()),D.y>=m&&F.y>=m||(D.y>=m?D=new f(D.x+(m-D.y)/(F.y-D.y)*(F.x-D.x),m)._round():F.y>=m&&(F=new f(D.x+(m-D.y)/(F.y-D.y)*(F.x-D.x),m)._round()),A&&D.equals(A[A.length-1])||(A=[D],x.push(A)),A.push(F)))))}}return x}at("FeatureIndex",UV,{omit:["rawTileData","sourceLayerCoder"]});class ih extends f{constructor(s,l,p,m){super(s,l),this.angle=p,m!==void 0&&(this.segment=m)}clone(){return new ih(this.x,this.y,this.angle,this.segment)}}function GV(u,s,l,p,m){if(s.segment===void 0||l===0)return!0;let x=s,b=s.segment+1,I=0;for(;I>-l/2;){if(b--,b<0)return!1;I-=u[b].dist(x),x=u[b]}I+=u[b].dist(u[b+1]),b++;let A=[],O=0;for(;I<l/2;){let D=u[b],F=u[b+1];if(!F)return!1;let U=u[b-1].angleTo(D)-D.angleTo(F);for(U=Math.abs((U+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:I,angleDelta:U}),O+=U;I-A[0].distance>p;)O-=A.shift().angleDelta;if(O>m)return!1;b++,I+=D.dist(F)}return!0}function ZV(u){let s=0;for(let l=0;l<u.length-1;l++)s+=u[l].dist(u[l+1]);return s}function WV(u,s,l){return u?.6*s*l:0}function HV(u,s){return Math.max(u?u.right-u.left:0,s?s.right-s.left:0)}function X2e(u,s,l,p,m,x){let b=WV(l,m,x),I=HV(l,p)*x,A=0,O=ZV(u)/2;for(let D=0;D<u.length-1;D++){let F=u[D],U=u[D+1],Z=F.dist(U);if(A+Z>O){let W=(O-A)/Z,X=ss.number(F.x,U.x,W),ne=ss.number(F.y,U.y,W),le=new ih(X,ne,U.angleTo(F),D);return le._round(),!b||GV(u,le,I,b,s)?le:void 0}A+=Z}}function J2e(u,s,l,p,m,x,b,I,A){let O=WV(p,x,b),D=HV(p,m),F=D*b,U=u[0].x===0||u[0].x===A||u[0].y===0||u[0].y===A;return s-F<s/4&&(s=F+s/4),KV(u,U?s/2*I%s:(D/2+2*x)*b*I%s,s,O,l,F,U,!1,A)}function KV(u,s,l,p,m,x,b,I,A){let O=x/2,D=ZV(u),F=0,U=s-l,Z=[];for(let W=0;W<u.length-1;W++){let X=u[W],ne=u[W+1],le=X.dist(ne),Ee=ne.angleTo(X);for(;U+l<F+le;){U+=l;let me=(U-F)/le,ye=ss.number(X.x,ne.x,me),Ae=ss.number(X.y,ne.y,me);if(ye>=0&&ye<A&&Ae>=0&&Ae<A&&U-O>=0&&U+O<=D){let Oe=new ih(ye,Ae,Ee,W);Oe._round(),p&&!GV(u,Oe,x,p,m)||Z.push(Oe)}}F+=le}return I||Z.length||b||(Z=KV(u,F/2,l,p,m,x,b,!0,A)),Z}function YV(u,s,l,p){let m=[],x=u.image,b=x.pixelRatio,I=x.paddedRect.w-2,A=x.paddedRect.h-2,O={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom},D=x.stretchX||[[0,I]],F=x.stretchY||[[0,A]],U=(Fe,bt)=>Fe+bt[1]-bt[0],Z=D.reduce(U,0),W=F.reduce(U,0),X=I-Z,ne=A-W,le=0,Ee=Z,me=0,ye=W,Ae=0,Oe=X,Ue=0,et=ne;if(x.content&&p){let Fe=x.content,bt=Fe[2]-Fe[0],It=Fe[3]-Fe[1];(x.textFitWidth||x.textFitHeight)&&(O=SV(u)),le=Fw(D,0,Fe[0]),me=Fw(F,0,Fe[1]),Ee=Fw(D,Fe[0],Fe[2]),ye=Fw(F,Fe[1],Fe[3]),Ae=Fe[0]-le,Ue=Fe[1]-me,Oe=bt-Ee,et=It-ye}let Ke=O.x1,Je=O.y1,ft=O.x2-Ke,Xe=O.y2-Je,Qe=(Fe,bt,It,mt)=>{let ut=zw(Fe.stretch-le,Ee,ft,Ke),er=jw(Fe.fixed-Ae,Oe,Fe.stretch,Z),un=zw(bt.stretch-me,ye,Xe,Je),Kn=jw(bt.fixed-Ue,et,bt.stretch,W),qi=zw(It.stretch-le,Ee,ft,Ke),Ba=jw(It.fixed-Ae,Oe,It.stretch,Z),No=zw(mt.stretch-me,ye,Xe,Je),vi=jw(mt.fixed-Ue,et,mt.stretch,W),Jr=new f(ut,un),ni=new f(qi,un),gi=new f(qi,No),yi=new f(ut,No),vo=new f(er/b,Kn/b),Ua=new f(Ba/b,vi/b),ii=s*Math.PI/180;if(ii){let oi=Math.sin(ii),ai=Math.cos(ii),Fn=[ai,-oi,oi,ai];Jr._matMult(Fn),ni._matMult(Fn),yi._matMult(Fn),gi._matMult(Fn)}let Fo=Fe.stretch+Fe.fixed,Yn=bt.stretch+bt.fixed;return{tl:Jr,tr:ni,bl:yi,br:gi,tex:{x:x.paddedRect.x+1+Fo,y:x.paddedRect.y+1+Yn,w:It.stretch+It.fixed-Fo,h:mt.stretch+mt.fixed-Yn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:vo,pixelOffsetBR:Ua,minFontScaleX:Oe/b/ft,minFontScaleY:et/b/Xe,isSDF:l}};if(p&&(x.stretchX||x.stretchY)){let Fe=XV(D,X,Z),bt=XV(F,ne,W);for(let It=0;It<Fe.length-1;It++){let mt=Fe[It],ut=Fe[It+1];for(let er=0;er<bt.length-1;er++)m.push(Qe(mt,bt[er],ut,bt[er+1]))}}else m.push(Qe({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:I+1},{fixed:0,stretch:A+1}));return m}function Fw(u,s,l){let p=0;for(let m of u)p+=Math.max(s,Math.min(l,m[1]))-Math.max(s,Math.min(l,m[0]));return p}function XV(u,s,l){let p=[{fixed:-1,stretch:0}];for(let[m,x]of u){let b=p[p.length-1];p.push({fixed:m-b.stretch,stretch:b.stretch}),p.push({fixed:m-b.stretch,stretch:b.stretch+(x-m)})}return p.push({fixed:s+1,stretch:l}),p}function zw(u,s,l,p){return u/s*l+p}function jw(u,s,l,p){return u-s*l/p}at("Anchor",ih);class Bw{constructor(s,l,p,m,x,b,I,A,O,D){var F;if(this.boxStartIndex=s.length,O){let U=b.top,Z=b.bottom,W=b.collisionPadding;W&&(U-=W[1],Z+=W[3]);let X=Z-U;X>0&&(X=Math.max(10,X),this.circleDiameter=X)}else{let U=!((F=b.image)===null||F===void 0)&&F.content&&(b.image.textFitWidth||b.image.textFitHeight)?SV(b):{x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};U.y1=U.y1*I-A[0],U.y2=U.y2*I+A[2],U.x1=U.x1*I-A[3],U.x2=U.x2*I+A[1];let Z=b.collisionPadding;if(Z&&(U.x1-=Z[0]*I,U.y1-=Z[1]*I,U.x2+=Z[2]*I,U.y2+=Z[3]*I),D){let W=new f(U.x1,U.y1),X=new f(U.x2,U.y1),ne=new f(U.x1,U.y2),le=new f(U.x2,U.y2),Ee=D*Math.PI/180;W._rotate(Ee),X._rotate(Ee),ne._rotate(Ee),le._rotate(Ee),U.x1=Math.min(W.x,X.x,ne.x,le.x),U.x2=Math.max(W.x,X.x,ne.x,le.x),U.y1=Math.min(W.y,X.y,ne.y,le.y),U.y2=Math.max(W.y,X.y,ne.y,le.y)}s.emplaceBack(l.x,l.y,U.x1,U.y1,U.x2,U.y2,p,m,x)}this.boxEndIndex=s.length}}class Q2e{constructor(s=[],l=(p,m)=>p<m?-1:p>m?1:0){if(this.data=s,this.length=this.data.length,this.compare=l,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:l,compare:p}=this,m=l[s];for(;s>0;){let x=s-1>>1,b=l[x];if(p(m,b)>=0)break;l[s]=b,s=x}l[s]=m}_down(s){let{data:l,compare:p}=this,m=this.length>>1,x=l[s];for(;s<m;){let b=1+(s<<1),I=b+1;if(I<this.length&&p(l[I],l[b])<0&&(b=I),p(l[b],x)>=0)break;l[s]=l[b],s=b}l[s]=x}}function eqe(u,s=1,l=!1){let p=rp.fromPoints(u[0]),m=Math.min(p.width(),p.height()),x=m/2,b=new Q2e([],tqe),{minX:I,minY:A,maxX:O,maxY:D}=p;if(m===0)return new f(I,A);for(let Z=I;Z<O;Z+=m)for(let W=A;W<D;W+=m)b.push(new cm(Z+x,W+x,x,u));let F=function(Z){let W=0,X=0,ne=0,le=Z[0];for(let Ee=0,me=le.length,ye=me-1;Ee<me;ye=Ee++){let Ae=le[Ee],Oe=le[ye],Ue=Ae.x*Oe.y-Oe.x*Ae.y;X+=(Ae.x+Oe.x)*Ue,ne+=(Ae.y+Oe.y)*Ue,W+=3*Ue}return new cm(X/W,ne/W,0,Z)}(u),U=b.length;for(;b.length;){let Z=b.pop();(Z.d>F.d||!F.d)&&(F=Z,l&&console.log("found best %d after %d probes",Math.round(1e4*Z.d)/1e4,U)),Z.max-F.d<=s||(x=Z.h/2,b.push(new cm(Z.p.x-x,Z.p.y-x,x,u)),b.push(new cm(Z.p.x+x,Z.p.y-x,x,u)),b.push(new cm(Z.p.x-x,Z.p.y+x,x,u)),b.push(new cm(Z.p.x+x,Z.p.y+x,x,u)),U+=4)}return l&&(console.log(`num probes: ${U}`),console.log(`best distance: ${F.d}`)),F.p}function tqe(u,s){return s.max-u.max}function cm(u,s,l,p){this.p=new f(u,s),this.h=l,this.d=function(m,x){let b=!1,I=1/0;for(let A=0;A<x.length;A++){let O=x[A];for(let D=0,F=O.length,U=F-1;D<F;U=D++){let Z=O[D],W=O[U];Z.y>m.y!=W.y>m.y&&m.x<(W.x-Z.x)*(m.y-Z.y)/(W.y-Z.y)+Z.x&&(b=!b),I=Math.min(I,D6(m,Z,W))}}return(b?1:-1)*Math.sqrt(I)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}var Mi;o.aE=void 0,(Mi=o.aE||(o.aE={}))[Mi.center=1]="center",Mi[Mi.left=2]="left",Mi[Mi.right=3]="right",Mi[Mi.top=4]="top",Mi[Mi.bottom=5]="bottom",Mi[Mi["top-left"]=6]="top-left",Mi[Mi["top-right"]=7]="top-right",Mi[Mi["bottom-left"]=8]="bottom-left",Mi[Mi["bottom-right"]=9]="bottom-right";let A2=Number.POSITIVE_INFINITY;function JV(u,s){return s[1]!==A2?function(l,p,m){let x=0,b=0;switch(p=Math.abs(p),m=Math.abs(m),l){case"top-right":case"top-left":case"top":b=m-7;break;case"bottom-right":case"bottom-left":case"bottom":b=7-m}switch(l){case"top-right":case"bottom-right":case"right":x=-p;break;case"top-left":case"bottom-left":case"left":x=p}return[x,b]}(u,s[0],s[1]):function(l,p){let m=0,x=0;p<0&&(p=0);let b=p/Math.SQRT2;switch(l){case"top-right":case"top-left":x=b-7;break;case"bottom-right":case"bottom-left":x=7-b;break;case"bottom":x=7-p;break;case"top":x=p-7}switch(l){case"top-right":case"bottom-right":m=-b;break;case"top-left":case"bottom-left":m=b;break;case"left":m=p;break;case"right":m=-p}return[m,x]}(u,s[0])}function QV(u,s,l){var p;let m=u.layout,x=(p=m.get("text-variable-anchor-offset"))===null||p===void 0?void 0:p.evaluate(s,{},l);if(x){let I=x.values,A=[];for(let O=0;O<I.length;O+=2){let D=A[O]=I[O],F=I[O+1].map(U=>U*ri);D.startsWith("top")?F[1]-=7:D.startsWith("bottom")&&(F[1]+=7),A[O+1]=F}return new Vi(A)}let b=m.get("text-variable-anchor");if(b){let I;I=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(s,{},l)*ri,A2]:m.get("text-offset").evaluate(s,{},l).map(O=>O*ri);let A=[];for(let O of b)A.push(O,JV(O,I));return new Vi(A)}return null}function M2(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function rqe(u,s,l,p,m,x,b,I,A,O,D,F){let U=x.textMaxSize.evaluate(s,{});U===void 0&&(U=b);let Z=u.layers[0].layout,W=Z.get("icon-offset").evaluate(s,{},D),X=t$(l.horizontal),ne=b/24,le=u.tilePixelRatio*ne,Ee=u.tilePixelRatio*U/24,me=u.tilePixelRatio*I,ye=u.tilePixelRatio*Z.get("symbol-spacing"),Ae=Z.get("text-padding")*u.tilePixelRatio,Oe=function(It,mt,ut,er=1){let un=It.get("icon-padding").evaluate(mt,{},ut),Kn=un&&un.values;return[Kn[0]*er,Kn[1]*er,Kn[2]*er,Kn[3]*er]}(Z,s,D,u.tilePixelRatio),Ue=Z.get("text-max-angle")/180*Math.PI,et=Z.get("text-rotation-alignment")!=="viewport"&&Z.get("symbol-placement")!=="point",Ke=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",Je=Z.get("symbol-placement"),ft=ye/2,Xe=Z.get("icon-text-fit"),Qe;p&&Xe!=="none"&&(u.allowVerticalPlacement&&l.vertical&&(Qe=TV(p,l.vertical,Xe,Z.get("icon-text-fit-padding"),W,ne)),X&&(p=TV(p,X,Xe,Z.get("icon-text-fit-padding"),W,ne)));let Fe=D?F.line.getGranularityForZoomLevel(D.z):1,bt=(It,mt)=>{mt.x<0||mt.x>=_t||mt.y<0||mt.y>=_t||function(ut,er,un,Kn,qi,Ba,No,vi,Jr,ni,gi,yi,vo,Ua,ii,Fo,Yn,oi,ai,Fn,Gr,$s,hm,Gs,oqe){let fm=ut.addToLineVertexArray(er,un),np,pm,dm,mm,o$=0,a$=0,s$=0,l$=0,F2=-1,z2=-1,zu={},u$=Qc("");if(ut.allowVerticalPlacement&&Kn.vertical){let Wi=vi.layout.get("text-rotate").evaluate(Gr,{},Gs)+90;dm=new Bw(Jr,er,ni,gi,yi,Kn.vertical,vo,Ua,ii,Wi),No&&(mm=new Bw(Jr,er,ni,gi,yi,No,Yn,oi,ii,Wi))}if(qi){let Wi=vi.layout.get("icon-rotate").evaluate(Gr,{}),Va=vi.layout.get("icon-text-fit")!=="none",ip=YV(qi,Wi,hm,Va),Ws=No?YV(No,Wi,hm,Va):void 0;pm=new Bw(Jr,er,ni,gi,yi,qi,Yn,oi,!1,Wi),o$=4*ip.length;let op=ut.iconSizeData,ql=null;op.kind==="source"?(ql=[Fu*vi.layout.get("icon-size").evaluate(Gr,{})],ql[0]>rh&&vr(`${ut.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):op.kind==="composite"&&(ql=[Fu*$s.compositeIconSizes[0].evaluate(Gr,{},Gs),Fu*$s.compositeIconSizes[1].evaluate(Gr,{},Gs)],(ql[0]>rh||ql[1]>rh)&&vr(`${ut.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),ut.addSymbols(ut.icon,ip,ql,Fn,ai,Gr,o.ao.none,er,fm.lineStartIndex,fm.lineLength,-1,Gs),F2=ut.icon.placedSymbolArray.length-1,Ws&&(a$=4*Ws.length,ut.addSymbols(ut.icon,Ws,ql,Fn,ai,Gr,o.ao.vertical,er,fm.lineStartIndex,fm.lineLength,-1,Gs),z2=ut.icon.placedSymbolArray.length-1)}let c$=Object.keys(Kn.horizontal);for(let Wi of c$){let Va=Kn.horizontal[Wi];if(!np){u$=Qc(Va.text);let Ws=vi.layout.get("text-rotate").evaluate(Gr,{},Gs);np=new Bw(Jr,er,ni,gi,yi,Va,vo,Ua,ii,Ws)}let ip=Va.positionedLines.length===1;if(s$+=e$(ut,er,Va,Ba,vi,ii,Gr,Fo,fm,Kn.vertical?o.ao.horizontal:o.ao.horizontalOnly,ip?c$:[Wi],zu,F2,$s,Gs),ip)break}Kn.vertical&&(l$+=e$(ut,er,Kn.vertical,Ba,vi,ii,Gr,Fo,fm,o.ao.vertical,["vertical"],zu,z2,$s,Gs));let aqe=np?np.boxStartIndex:ut.collisionBoxArray.length,sqe=np?np.boxEndIndex:ut.collisionBoxArray.length,lqe=dm?dm.boxStartIndex:ut.collisionBoxArray.length,uqe=dm?dm.boxEndIndex:ut.collisionBoxArray.length,cqe=pm?pm.boxStartIndex:ut.collisionBoxArray.length,hqe=pm?pm.boxEndIndex:ut.collisionBoxArray.length,fqe=mm?mm.boxStartIndex:ut.collisionBoxArray.length,pqe=mm?mm.boxEndIndex:ut.collisionBoxArray.length,Zs=-1,Vw=(Wi,Va)=>Wi&&Wi.circleDiameter?Math.max(Wi.circleDiameter,Va):Va;Zs=Vw(np,Zs),Zs=Vw(dm,Zs),Zs=Vw(pm,Zs),Zs=Vw(mm,Zs);let h$=Zs>-1?1:0;h$&&(Zs*=oqe/ri),ut.glyphOffsetArray.length>=lm.MAX_GLYPHS&&vr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Gr.sortKey!==void 0&&ut.addToSortKeyRanges(ut.symbolInstances.length,Gr.sortKey);let dqe=QV(vi,Gr,Gs),[mqe,vqe]=function(Wi,Va){let ip=Wi.length,Ws=Va==null?void 0:Va.values;if((Ws==null?void 0:Ws.length)>0)for(let op=0;op<Ws.length;op+=2){let ql=Ws[op+1];Wi.emplaceBack(o.aE[Ws[op]],ql[0],ql[1])}return[ip,Wi.length]}(ut.textAnchorOffsets,dqe);ut.symbolInstances.emplaceBack(er.x,er.y,zu.right>=0?zu.right:-1,zu.center>=0?zu.center:-1,zu.left>=0?zu.left:-1,zu.vertical||-1,F2,z2,u$,aqe,sqe,lqe,uqe,cqe,hqe,fqe,pqe,ni,s$,l$,o$,a$,h$,0,vo,Zs,mqe,vqe)}(u,mt,It,l,p,m,Qe,u.layers[0],u.collisionBoxArray,s.index,s.sourceLayerIndex,u.index,le,[Ae,Ae,Ae,Ae],et,A,me,Oe,Ke,W,s,x,O,D,b)};if(Je==="line")for(let It of $V(s.geometry,0,0,_t,_t)){let mt=tp(It,Fe),ut=J2e(mt,ye,Ue,l.vertical||X,p,24,Ee,u.overscaling,_t);for(let er of ut)X&&nqe(u,X.text,ft,er)||bt(mt,er)}else if(Je==="line-center"){for(let It of s.geometry)if(It.length>1){let mt=tp(It,Fe),ut=X2e(mt,Ue,l.vertical||X,p,24,Ee);ut&&bt(mt,ut)}}else if(s.type==="Polygon")for(let It of Ff(s.geometry,0)){let mt=eqe(It,16);bt(tp(It[0],Fe,!0),new ih(mt.x,mt.y,0))}else if(s.type==="LineString")for(let It of s.geometry){let mt=tp(It,Fe);bt(mt,new ih(mt[0].x,mt[0].y,0))}else if(s.type==="Point")for(let It of s.geometry)for(let mt of It)bt([mt],new ih(mt.x,mt.y,0))}function e$(u,s,l,p,m,x,b,I,A,O,D,F,U,Z,W){let X=function(Ee,me,ye,Ae,Oe,Ue,et,Ke){let Je=Ae.layout.get("text-rotate").evaluate(Ue,{})*Math.PI/180,ft=[];for(let Xe of me.positionedLines)for(let Qe of Xe.positionedGlyphs){if(!Qe.rect)continue;let Fe=Qe.rect||{},bt=4,It=!0,mt=1,ut=0,er=(Oe||Ke)&&Qe.vertical,un=Qe.metrics.advance*Qe.scale/2;if(Ke&&me.verticalizable&&(ut=Xe.lineOffset/2-(Qe.imageName?-(ri-Qe.metrics.width*Qe.scale)/2:(Qe.scale-1)*ri)),Qe.imageName){let oi=et[Qe.imageName];It=oi.sdf,mt=oi.pixelRatio,bt=1/mt}let Kn=Oe?[Qe.x+un,Qe.y]:[0,0],qi=Oe?[0,0]:[Qe.x+un+ye[0],Qe.y+ye[1]-ut],Ba=[0,0];er&&(Ba=qi,qi=[0,0]);let No=Qe.metrics.isDoubleResolution?2:1,vi=(Qe.metrics.left-bt)*Qe.scale-un+qi[0],Jr=(-Qe.metrics.top-bt)*Qe.scale+qi[1],ni=vi+Fe.w/No*Qe.scale/mt,gi=Jr+Fe.h/No*Qe.scale/mt,yi=new f(vi,Jr),vo=new f(ni,Jr),Ua=new f(vi,gi),ii=new f(ni,gi);if(er){let oi=new f(-un,un- -17),ai=-Math.PI/2,Fn=12-un,Gr=new f(22-Fn,-(Qe.imageName?Fn:0)),$s=new f(...Ba);yi._rotateAround(ai,oi)._add(Gr)._add($s),vo._rotateAround(ai,oi)._add(Gr)._add($s),Ua._rotateAround(ai,oi)._add(Gr)._add($s),ii._rotateAround(ai,oi)._add(Gr)._add($s)}if(Je){let oi=Math.sin(Je),ai=Math.cos(Je),Fn=[ai,-oi,oi,ai];yi._matMult(Fn),vo._matMult(Fn),Ua._matMult(Fn),ii._matMult(Fn)}let Fo=new f(0,0),Yn=new f(0,0);ft.push({tl:yi,tr:vo,bl:Ua,br:ii,tex:Fe,writingMode:me.writingMode,glyphOffset:Kn,sectionIndex:Qe.sectionIndex,isSDF:It,pixelOffsetTL:Fo,pixelOffsetBR:Yn,minFontScaleX:0,minFontScaleY:0})}return ft}(0,l,I,m,x,b,p,u.allowVerticalPlacement),ne=u.textSizeData,le=null;ne.kind==="source"?(le=[Fu*m.layout.get("text-size").evaluate(b,{})],le[0]>rh&&vr(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ne.kind==="composite"&&(le=[Fu*Z.compositeTextSizes[0].evaluate(b,{},W),Fu*Z.compositeTextSizes[1].evaluate(b,{},W)],(le[0]>rh||le[1]>rh)&&vr(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),u.addSymbols(u.text,X,le,I,x,b,O,s,A.lineStartIndex,A.lineLength,U,W);for(let Ee of D)F[Ee]=u.text.placedSymbolArray.length-1;return 4*X.length}function t$(u){for(let s in u)return u[s];return null}function nqe(u,s,l,p){let m=u.compareText;if(s in m){let x=m[s];for(let b=x.length-1;b>=0;b--)if(p.dist(x[b])<l)return!0}else m[s]=[];return m[s].push(p),!1}let r$=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class q2{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[l,p]=new Uint8Array(s,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");let m=p>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);let x=r$[15&p];if(!x)throw new Error("Unrecognized array type.");let[b]=new Uint16Array(s,2,1),[I]=new Uint32Array(s,4,1);return new q2(I,b,x,s)}constructor(s,l=64,p=Float64Array,m){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=p,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let x=r$.indexOf(this.ArrayType),b=2*s*this.ArrayType.BYTES_PER_ELEMENT,I=s*this.IndexArrayType.BYTES_PER_ELEMENT,A=(8-I%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${p}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+I+A,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+b+I+A),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+I+A,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=s)}add(s,l){let p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=s,this.coords[this._pos++]=l,p}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return R2(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,l,p,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:x,coords:b,nodeSize:I}=this,A=[0,x.length-1,0],O=[];for(;A.length;){let D=A.pop()||0,F=A.pop()||0,U=A.pop()||0;if(F-U<=I){for(let ne=U;ne<=F;ne++){let le=b[2*ne],Ee=b[2*ne+1];le>=s&&le<=p&&Ee>=l&&Ee<=m&&O.push(x[ne])}continue}let Z=U+F>>1,W=b[2*Z],X=b[2*Z+1];W>=s&&W<=p&&X>=l&&X<=m&&O.push(x[Z]),(D===0?s<=W:l<=X)&&(A.push(U),A.push(Z-1),A.push(1-D)),(D===0?p>=W:m>=X)&&(A.push(Z+1),A.push(F),A.push(1-D))}return O}within(s,l,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:m,coords:x,nodeSize:b}=this,I=[0,m.length-1,0],A=[],O=p*p;for(;I.length;){let D=I.pop()||0,F=I.pop()||0,U=I.pop()||0;if(F-U<=b){for(let ne=U;ne<=F;ne++)i$(x[2*ne],x[2*ne+1],s,l)<=O&&A.push(m[ne]);continue}let Z=U+F>>1,W=x[2*Z],X=x[2*Z+1];i$(W,X,s,l)<=O&&A.push(m[Z]),(D===0?s-p<=W:l-p<=X)&&(I.push(U),I.push(Z-1),I.push(1-D)),(D===0?s+p>=W:l+p>=X)&&(I.push(Z+1),I.push(F),I.push(1-D))}return A}}function R2(u,s,l,p,m,x){if(m-p<=l)return;let b=p+m>>1;n$(u,s,b,p,m,x),R2(u,s,l,p,b-1,1-x),R2(u,s,l,b+1,m,1-x)}function n$(u,s,l,p,m,x){for(;m>p;){if(m-p>600){let O=m-p+1,D=l-p+1,F=Math.log(O),U=.5*Math.exp(2*F/3),Z=.5*Math.sqrt(F*U*(O-U)/O)*(D-O/2<0?-1:1);n$(u,s,l,Math.max(p,Math.floor(l-D*U/O+Z)),Math.min(m,Math.floor(l+(O-D)*U/O+Z)),x)}let b=s[2*l+x],I=p,A=m;for(f_(u,s,p,l),s[2*m+x]>b&&f_(u,s,p,m);I<A;){for(f_(u,s,I,A),I++,A--;s[2*I+x]<b;)I++;for(;s[2*A+x]>b;)A--}s[2*p+x]===b?f_(u,s,p,A):(A++,f_(u,s,A,m)),A<=l&&(p=A+1),l<=A&&(m=A-1)}}function f_(u,s,l,p){O2(u,l,p),O2(s,2*l,2*p),O2(s,2*l+1,2*p+1)}function O2(u,s,l){let p=u[s];u[s]=u[l],u[l]=p}function i$(u,s,l,p){let m=u-l,x=s-p;return m*m+x*x}var L2;o.cx=void 0,(L2=o.cx||(o.cx={})).create="create",L2.load="load",L2.fullLoad="fullLoad";let Uw=null,p_=[],D2=1e3/60,k2="loadTime",N2="fullLoadTime",iqe={mark(u){performance.mark(u)},frame(u){let s=u;Uw!=null&&p_.push(s-Uw),Uw=s},clearMetrics(){Uw=null,p_=[],performance.clearMeasures(k2),performance.clearMeasures(N2);for(let u in o.cx)performance.clearMarks(o.cx[u])},getPerformanceMetrics(){performance.measure(k2,o.cx.create,o.cx.load),performance.measure(N2,o.cx.create,o.cx.fullLoad);let u=performance.getEntriesByName(k2)[0].duration,s=performance.getEntriesByName(N2)[0].duration,l=p_.length,p=1/(p_.reduce((x,b)=>x+b,0)/l/1e3),m=p_.filter(x=>x>D2).reduce((x,b)=>x+(b-D2)/D2,0);return{loadTime:u,fullLoadTime:s,fps:p,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};o.$=_t,o.A=H,o.B=function([u,s,l]){return s+=90,s*=Math.PI/180,l*=Math.PI/180,{x:u*Math.cos(s)*Math.sin(l),y:u*Math.sin(s)*Math.sin(l),z:u*Math.cos(l)}},o.C=ss,o.D=ht,o.E=ct,o.F=Lr,o.G=Hf,o.H=function(u){if(Qa==null){let s=u.navigator?u.navigator.userAgent:null;Qa=!!u.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Qa},o.I=y2,o.J=class{constructor(u,s){this.target=u,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new H2e(()=>this.process()),this.subscription=ts(this.target,"message",l=>this.receive(l),!1),this.globalScope=Yo(self)?u:window}registerMessageHandler(u,s){this.messageHandlers[u]=s}sendAsync(u,s){return new Promise((l,p)=>{let m=Math.round(1e18*Math.random()).toString(36).substring(0,10),x=s?ts(s.signal,"abort",()=>{x==null||x.unsubscribe(),delete this.resolveRejects[m];let A={id:m,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(A)},K2e):null;this.resolveRejects[m]={resolve:A=>{x==null||x.unsubscribe(),l(A)},reject:A=>{x==null||x.unsubscribe(),p(A)}};let b=[],I=Object.assign(Object.assign({},u),{id:m,sourceMapId:this.mapId,origin:location.origin,data:Wc(u.data,b)});this.target.postMessage(I,{transfer:b})})}receive(u){let s=u.data,l=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[l];let p=this.abortControllers[l];return delete this.abortControllers[l],void(p&&p.abort())}if(Yo(self)||s.mustQueue)return this.tasks[l]=s,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,s)}}process(){if(this.taskQueue.length===0)return;let u=this.taskQueue.shift(),s=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(u,s)}processTask(u,s){return i(this,void 0,void 0,function*(){if(s.type==="<response>"){let m=this.resolveRejects[u];return delete this.resolveRejects[u],m?void(s.error?m.reject(Ou(s.error)):m.resolve(Ou(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let l=Ou(s.data),p=new AbortController;this.abortControllers[u]=p;try{let m=yield this.messageHandlers[s.type](s.sourceMapId,l,p);this.completeTask(u,null,m)}catch(m){this.completeTask(u,m)}})}completeTask(u,s,l){let p=[];delete this.abortControllers[u];let m={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?Wc(s):null,data:Wc(l,p)};this.target.postMessage(m,{transfer:p})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},o.K=re,o.L=function(){var u=new H(16);return H!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},o.M=function(u,s,l){var p,m,x,b,I,A,O,D,F,U,Z,W,X=l[0],ne=l[1],le=l[2];return s===u?(u[12]=s[0]*X+s[4]*ne+s[8]*le+s[12],u[13]=s[1]*X+s[5]*ne+s[9]*le+s[13],u[14]=s[2]*X+s[6]*ne+s[10]*le+s[14],u[15]=s[3]*X+s[7]*ne+s[11]*le+s[15]):(m=s[1],x=s[2],b=s[3],I=s[4],A=s[5],O=s[6],D=s[7],F=s[8],U=s[9],Z=s[10],W=s[11],u[0]=p=s[0],u[1]=m,u[2]=x,u[3]=b,u[4]=I,u[5]=A,u[6]=O,u[7]=D,u[8]=F,u[9]=U,u[10]=Z,u[11]=W,u[12]=p*X+I*ne+F*le+s[12],u[13]=m*X+A*ne+U*le+s[13],u[14]=x*X+O*ne+Z*le+s[14],u[15]=b*X+D*ne+W*le+s[15]),u},o.N=function(u,s,l){var p=l[0],m=l[1],x=l[2];return u[0]=s[0]*p,u[1]=s[1]*p,u[2]=s[2]*p,u[3]=s[3]*p,u[4]=s[4]*m,u[5]=s[5]*m,u[6]=s[6]*m,u[7]=s[7]*m,u[8]=s[8]*x,u[9]=s[9]*x,u[10]=s[10]*x,u[11]=s[11]*x,u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15],u},o.O=function(u,s,l){var p=s[0],m=s[1],x=s[2],b=s[3],I=s[4],A=s[5],O=s[6],D=s[7],F=s[8],U=s[9],Z=s[10],W=s[11],X=s[12],ne=s[13],le=s[14],Ee=s[15],me=l[0],ye=l[1],Ae=l[2],Oe=l[3];return u[0]=me*p+ye*I+Ae*F+Oe*X,u[1]=me*m+ye*A+Ae*U+Oe*ne,u[2]=me*x+ye*O+Ae*Z+Oe*le,u[3]=me*b+ye*D+Ae*W+Oe*Ee,u[4]=(me=l[4])*p+(ye=l[5])*I+(Ae=l[6])*F+(Oe=l[7])*X,u[5]=me*m+ye*A+Ae*U+Oe*ne,u[6]=me*x+ye*O+Ae*Z+Oe*le,u[7]=me*b+ye*D+Ae*W+Oe*Ee,u[8]=(me=l[8])*p+(ye=l[9])*I+(Ae=l[10])*F+(Oe=l[11])*X,u[9]=me*m+ye*A+Ae*U+Oe*ne,u[10]=me*x+ye*O+Ae*Z+Oe*le,u[11]=me*b+ye*D+Ae*W+Oe*Ee,u[12]=(me=l[12])*p+(ye=l[13])*I+(Ae=l[14])*F+(Oe=l[15])*X,u[13]=me*m+ye*A+Ae*U+Oe*ne,u[14]=me*x+ye*O+Ae*Z+Oe*le,u[15]=me*b+ye*D+Ae*W+Oe*Ee,u},o.P=f,o.Q=function(u,s){let l={};for(let p=0;p<s.length;p++){let m=s[p];m in u&&(l[m]=u[m])}return l},o.R=ko,o.S=nh,o.T=s2,o.U=DV,o.V=LV,o.W=$,o.X=ee,o.Y=es,o.Z=ja,o._=i,o.a=Y,o.a$=tr,o.a0=function(u,s){var l,p,m,x,b;if(!u)return s!=null?s:{};if(!s)return u;let I=Object.assign({},u);if(s.removeAll&&(I={removeAll:!0}),s.remove){let A=new Set(s.remove);I.add&&(I.add=I.add.filter(D=>!A.has(D.id))),I.update&&(I.update=I.update.filter(D=>!A.has(D.id)));let O=new Set(((l=u.add)!==null&&l!==void 0?l:[]).map(D=>D.id));s.remove=s.remove.filter(D=>!O.has(D))}if(s.remove){let A=new Set(I.remove?I.remove.concat(s.remove):s.remove);I.remove=Array.from(A.values())}if(s.add){let A=I.add?I.add.concat(s.add):s.add,O=new Map(A.map(D=>[D.id,D]));I.add=Array.from(O.values())}if(s.update){let A=new Map((p=I.update)===null||p===void 0?void 0:p.map(O=>[O.id,O]));for(let O of s.update){let D=(m=A.get(O.id))!==null&&m!==void 0?m:{id:O.id};O.newGeometry&&(D.newGeometry=O.newGeometry),O.addOrUpdateProperties&&(D.addOrUpdateProperties=((x=D.addOrUpdateProperties)!==null&&x!==void 0?x:[]).concat(O.addOrUpdateProperties)),O.removeProperties&&(D.removeProperties=((b=D.removeProperties)!==null&&b!==void 0?b:[]).concat(O.removeProperties)),O.removeAllProperties&&(D.removeAllProperties=!0),A.set(O.id,D)}I.update=Array.from(A.values())}return I.remove&&I.add&&(I.remove=I.remove.filter(A=>I.add.findIndex(O=>O.id===A)===-1)),I},o.a1=c_,o.a2=rp,o.a3=25,o.a4=P2,o.a5=u=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(l=>{s.onloadstart=()=>{l(s)};for(let p of u){let m=window.document.createElement("source");Ce(p)||(s.crossOrigin="Anonymous"),m.src=p,s.appendChild(m)}})},o.a6=He,o.a7=function(){return Rn++},o.a8=z,o.a9=lm,o.aA=function(u){let s=1/0,l=1/0,p=-1/0,m=-1/0;for(let x of u)s=Math.min(s,x.x),l=Math.min(l,x.y),p=Math.max(p,x.x),m=Math.max(m,x.y);return[s,l,p,m]},o.aB=ri,o.aC=Bt,o.aD=function(u,s,l,p,m=!1){if(!l[0]&&!l[1])return[0,0];let x=m?p==="map"?-u.bearingInRadians:0:p==="viewport"?u.bearingInRadians:0;if(x){let b=Math.sin(x),I=Math.cos(x);l=[l[0]*I-l[1]*b,l[0]*b+l[1]*I]}return[m?l[0]:Bt(s,l[0],u.zoom),m?l[1]:Bt(s,l[1],u.zoom)]},o.aF=b2,o.aG=M2,o.aH=x2,o.aI=q2,o.aJ=gn,o.aK=Rw,o.aL=fe,o.aM=Lt,o.aN=Sr,o.aO=rr,o.aP=ns,o.aQ=NV,o.aR=Ge,o.aS=ke,o.aT=function(u){var s=new H(3);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s},o.aU=function(u,s,l){return u[0]=s[0]-l[0],u[1]=s[1]-l[1],u[2]=s[2]-l[2],u},o.aV=function(u,s){var l=s[0],p=s[1],m=s[2],x=l*l+p*p+m*m;return x>0&&(x=1/Math.sqrt(x)),u[0]=s[0]*x,u[1]=s[1]*x,u[2]=s[2]*x,u},o.aW=rt,o.aX=function(u,s){return u[0]*s[0]+u[1]*s[1]+u[2]*s[2]},o.aY=function(u,s,l){return u[0]=s[0]*l[0],u[1]=s[1]*l[1],u[2]=s[2]*l[2],u[3]=s[3]*l[3],u},o.aZ=De,o.a_=function(u,s,l){let p=s[0]*l[0]+s[1]*l[1]+s[2]*l[2];return p===0?null:(-(u[0]*l[0]+u[1]*l[1]+u[2]*l[2])-l[3])/p},o.aa=Mu,o.ab=Vs,o.ac=BV,o.ad=function(u){let s={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,p,m,x)=>{let b=m||x;return s[p]=!b||b.toLowerCase(),""}),s["max-age"]){let l=parseInt(s["max-age"],10);isNaN(l)?delete s["max-age"]:s["max-age"]=l}return s},o.ae=rs,o.af=function(u){return Math.pow(2,u)},o.ag=se,o.ah=wr,o.ai=85.051129,o.aj=kV,o.ak=function(u){return Math.log(u)/Math.LN2},o.al=function(u){var s=u[0],l=u[1];return s*s+l*l},o.am=function(u,s){let l=[];for(let p in u)p in s||l.push(p);return l},o.an=function(u,s){let l=0,p=0;if(u.kind==="constant")p=u.layoutSize;else if(u.kind!=="source"){let{interpolationType:m,minZoom:x,maxZoom:b}=u,I=m?wr(mi.interpolationFactor(m,s,x,b),0,1):0;u.kind==="camera"?p=ss.number(u.minSize,u.maxSize,I):l=I}return{uSizeT:l,uSize:p}},o.ap=function(u,{uSize:s,uSizeT:l},{lowerSize:p,upperSize:m}){return u.kind==="source"?p/Fu:u.kind==="composite"?ss.number(p/Fu,m/Fu,l):s},o.aq=function(u,s){var l=s[0],p=s[1],m=s[2],x=s[3],b=s[4],I=s[5],A=s[6],O=s[7],D=s[8],F=s[9],U=s[10],Z=s[11],W=s[12],X=s[13],ne=s[14],le=s[15],Ee=l*I-p*b,me=l*A-m*b,ye=l*O-x*b,Ae=p*A-m*I,Oe=p*O-x*I,Ue=m*O-x*A,et=D*X-F*W,Ke=D*ne-U*W,Je=D*le-Z*W,ft=F*ne-U*X,Xe=F*le-Z*X,Qe=U*le-Z*ne,Fe=Ee*Qe-me*Xe+ye*ft+Ae*Je-Oe*Ke+Ue*et;return Fe?(u[0]=(I*Qe-A*Xe+O*ft)*(Fe=1/Fe),u[1]=(m*Xe-p*Qe-x*ft)*Fe,u[2]=(X*Ue-ne*Oe+le*Ae)*Fe,u[3]=(U*Oe-F*Ue-Z*Ae)*Fe,u[4]=(A*Je-b*Qe-O*Ke)*Fe,u[5]=(l*Qe-m*Je+x*Ke)*Fe,u[6]=(ne*ye-W*Ue-le*me)*Fe,u[7]=(D*Ue-U*ye+Z*me)*Fe,u[8]=(b*Xe-I*Je+O*et)*Fe,u[9]=(p*Je-l*Xe-x*et)*Fe,u[10]=(W*Oe-X*ye+le*Ee)*Fe,u[11]=(F*ye-D*Oe-Z*Ee)*Fe,u[12]=(I*Ke-b*ft-A*et)*Fe,u[13]=(l*ft-p*Ke+m*et)*Fe,u[14]=(X*me-W*Ae-ne*Ee)*Fe,u[15]=(D*Ae-F*me+U*Ee)*Fe,u):null},o.ar=dr,o.as=function(u){var s=u[0],l=u[1];return Math.sqrt(s*s+l*l)},o.at=function(u){return u[0]=0,u[1]=0,u},o.au=function(u,s,l){return u[0]=s[0]*l,u[1]=s[1]*l,u},o.av=w2,o.aw=Mr,o.ax=function(u,s,l,p){let m=s.y-u.y,x=s.x-u.x,b=p.y-l.y,I=p.x-l.x,A=b*x-I*m;if(A===0)return null;let O=(I*(u.y-l.y)-b*(u.x-l.x))/A;return new f(u.x+O*x,u.y+O*m)},o.ay=$V,o.az=O6,o.b=Mo,o.b$=class extends y{},o.b0=function(u,s,l){return u[0]=s[0]*l,u[1]=s[1]*l,u[2]=s[2]*l,u[3]=s[3]*l,u},o.b1=function(u,s){return u[0]*s[0]+u[1]*s[1]+u[2]*s[2]+u[3]},o.b2=zV,o.b3=um,o.b4=function(u,s,l,p,m){var x=1/Math.tan(s/2);if(u[0]=x/l,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=x,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,m!=null&&m!==1/0){var b=1/(p-m);u[10]=(m+p)*b,u[14]=2*m*p*b}else u[10]=-1,u[14]=-2*p;return u},o.b5=function(u){var s=new H(16);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],s[6]=u[6],s[7]=u[7],s[8]=u[8],s[9]=u[9],s[10]=u[10],s[11]=u[11],s[12]=u[12],s[13]=u[13],s[14]=u[14],s[15]=u[15],s},o.b6=function(u,s,l){var p=Math.sin(l),m=Math.cos(l),x=s[0],b=s[1],I=s[2],A=s[3],O=s[4],D=s[5],F=s[6],U=s[7];return s!==u&&(u[8]=s[8],u[9]=s[9],u[10]=s[10],u[11]=s[11],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=x*m+O*p,u[1]=b*m+D*p,u[2]=I*m+F*p,u[3]=A*m+U*p,u[4]=O*m-x*p,u[5]=D*m-b*p,u[6]=F*m-I*p,u[7]=U*m-A*p,u},o.b7=function(u,s,l){var p=Math.sin(l),m=Math.cos(l),x=s[4],b=s[5],I=s[6],A=s[7],O=s[8],D=s[9],F=s[10],U=s[11];return s!==u&&(u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[4]=x*m+O*p,u[5]=b*m+D*p,u[6]=I*m+F*p,u[7]=A*m+U*p,u[8]=O*m-x*p,u[9]=D*m-b*p,u[10]=F*m-I*p,u[11]=U*m-A*p,u},o.b8=function(){let u=new Float32Array(16);return se(u),u},o.b9=function(){let u=new Float64Array(16);return se(u),u},o.bA=function(u,s){let l=Nr(u,360),p=Nr(s,360),m=p-l,x=p>l?m-360:m+360;return Math.abs(m)<Math.abs(x)?m:x},o.bB=function(u){return u[0]=0,u[1]=0,u[2]=0,u},o.bC=function(u,s,l,p){let m=Math.sqrt(u*u+s*s),x=Math.sqrt(l*l+p*p);u/=m,s/=m,l/=x,p/=x;let b=Math.acos(u*l+s*p);return-s*l+u*p>0?b:-b},o.bD=function(u,s){let l=Nr(u,2*Math.PI),p=Nr(s,2*Math.PI);return Math.min(Math.abs(l-p),Math.abs(l-p+2*Math.PI),Math.abs(l-p-2*Math.PI))},o.bE=function(){let u={},s=Te.$version;for(let l in Te.$root){let p=Te.$root[l];if(p.required){let m=null;m=l==="version"?s:p.type==="array"?[]:{},m!=null&&(u[l]=m)}}return u},o.bF=$d,o.bG=ge,o.bH=function u(s,l){if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(let p=0;p<s.length;p++)if(!u(s[p],l[p]))return!1;return!0}if(typeof s=="object"&&s!==null&&l!==null){if(typeof l!="object"||Object.keys(s).length!==Object.keys(l).length)return!1;for(let p in s)if(!u(s[p],l[p]))return!1;return!0}return s===l},o.bI=function(u){u=u.slice();let s=Object.create(null);for(let l=0;l<u.length;l++)s[u[l].id]=u[l];for(let l=0;l<u.length;l++)"ref"in u[l]&&(u[l]=Gt(u[l],s[u[l].ref]));return u},o.bJ=function(u){if(u.type==="custom")return new W2e(u);switch(u.type){case"background":return new $2e(u);case"circle":return new AMe(u);case"color-relief":return new DMe(u);case"fill":return new YMe(u);case"fill-extrusion":return new s2e(u);case"heatmap":return new qMe(u);case"hillshade":return new OMe(u);case"line":return new d2e(u);case"raster":return new Z2e(u);case"symbol":return new Nw(u)}},o.bK=Yr,o.bL=function(u,s){if(!u)return[{command:"setStyle",args:[s]}];let l=[];try{if(!pt(u.version,s.version))return[{command:"setStyle",args:[s]}];pt(u.center,s.center)||l.push({command:"setCenter",args:[s.center]}),pt(u.state,s.state)||l.push({command:"setGlobalState",args:[s.state]}),pt(u.centerAltitude,s.centerAltitude)||l.push({command:"setCenterAltitude",args:[s.centerAltitude]}),pt(u.zoom,s.zoom)||l.push({command:"setZoom",args:[s.zoom]}),pt(u.bearing,s.bearing)||l.push({command:"setBearing",args:[s.bearing]}),pt(u.pitch,s.pitch)||l.push({command:"setPitch",args:[s.pitch]}),pt(u.roll,s.roll)||l.push({command:"setRoll",args:[s.roll]}),pt(u.sprite,s.sprite)||l.push({command:"setSprite",args:[s.sprite]}),pt(u.glyphs,s.glyphs)||l.push({command:"setGlyphs",args:[s.glyphs]}),pt(u.transition,s.transition)||l.push({command:"setTransition",args:[s.transition]}),pt(u.light,s.light)||l.push({command:"setLight",args:[s.light]}),pt(u.terrain,s.terrain)||l.push({command:"setTerrain",args:[s.terrain]}),pt(u.sky,s.sky)||l.push({command:"setSky",args:[s.sky]}),pt(u.projection,s.projection)||l.push({command:"setProjection",args:[s.projection]});let p={},m=[];(function(b,I,A,O){let D;for(D in I=I||{},b=b||{})Object.prototype.hasOwnProperty.call(b,D)&&(Object.prototype.hasOwnProperty.call(I,D)||Gn(D,A,O));for(D in I)Object.prototype.hasOwnProperty.call(I,D)&&(Object.prototype.hasOwnProperty.call(b,D)?pt(b[D],I[D])||(b[D].type==="geojson"&&I[D].type==="geojson"&&In(b,I,D)?Ot(A,{command:"setGeoJSONSourceData",args:[D,I[D].data]}):Zn(D,I,A,O)):Fr(D,I,A))})(u.sources,s.sources,m,p);let x=[];u.layers&&u.layers.forEach(b=>{"source"in b&&p[b.source]?l.push({command:"removeLayer",args:[b.id]}):x.push(b)}),l=l.concat(m),function(b,I,A){I=I||[];let O=(b=b||[]).map(ir),D=I.map(ir),F=b.reduce(On,{}),U=I.reduce(On,{}),Z=O.slice(),W=Object.create(null),X,ne,le,Ee,me;for(let ye=0,Ae=0;ye<O.length;ye++)X=O[ye],Object.prototype.hasOwnProperty.call(U,X)?Ae++:(Ot(A,{command:"removeLayer",args:[X]}),Z.splice(Z.indexOf(X,Ae),1));for(let ye=0,Ae=0;ye<D.length;ye++)X=D[D.length-1-ye],Z[Z.length-1-ye]!==X&&(Object.prototype.hasOwnProperty.call(F,X)?(Ot(A,{command:"removeLayer",args:[X]}),Z.splice(Z.lastIndexOf(X,Z.length-Ae),1)):Ae++,Ee=Z[Z.length-ye],Ot(A,{command:"addLayer",args:[U[X],Ee]}),Z.splice(Z.length-ye,0,X),W[X]=!0);for(let ye=0;ye<D.length;ye++)if(X=D[ye],ne=F[X],le=U[X],!W[X]&&!pt(ne,le))if(pt(ne.source,le.source)&&pt(ne["source-layer"],le["source-layer"])&&pt(ne.type,le.type)){for(me in Yt(ne.layout,le.layout,A,X,null,"setLayoutProperty"),Yt(ne.paint,le.paint,A,X,null,"setPaintProperty"),pt(ne.filter,le.filter)||Ot(A,{command:"setFilter",args:[X,le.filter]}),pt(ne.minzoom,le.minzoom)&&pt(ne.maxzoom,le.maxzoom)||Ot(A,{command:"setLayerZoomRange",args:[X,le.minzoom,le.maxzoom]}),ne)Object.prototype.hasOwnProperty.call(ne,me)&&me!=="layout"&&me!=="paint"&&me!=="filter"&&me!=="metadata"&&me!=="minzoom"&&me!=="maxzoom"&&(me.indexOf("paint.")===0?Yt(ne[me],le[me],A,X,me.slice(6),"setPaintProperty"):pt(ne[me],le[me])||Ot(A,{command:"setLayerProperty",args:[X,me,le[me]]}));for(me in le)Object.prototype.hasOwnProperty.call(le,me)&&!Object.prototype.hasOwnProperty.call(ne,me)&&me!=="layout"&&me!=="paint"&&me!=="filter"&&me!=="metadata"&&me!=="minzoom"&&me!=="maxzoom"&&(me.indexOf("paint.")===0?Yt(ne[me],le[me],A,X,me.slice(6),"setPaintProperty"):pt(ne[me],le[me])||Ot(A,{command:"setLayerProperty",args:[X,me,le[me]]}))}else Ot(A,{command:"removeLayer",args:[X]}),Ee=Z[Z.lastIndexOf(X)+1],Ot(A,{command:"addLayer",args:[le,Ee]})}(x,s.layers,l)}catch(p){console.warn("Unable to compute style diff:",p),l=[{command:"setStyle",args:[s]}]}return l},o.bM=function(u){let s=[],l=u.id;return l===void 0&&s.push({message:`layers.${l}: missing required property "id"`}),u.render===void 0&&s.push({message:`layers.${l}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&s.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),s},o.bN=Tn,o.bO=Ja,o.bP=class extends Zi{constructor(u,s){super(u,s),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},o.bQ=Hn,o.bR=class extends Zi{constructor(u,s){super(u,s),this.current=ea}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let s=1;s<16;s++)if(u[s]!==this.current[s]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},o.bS=kn,o.bT=class extends Zi{constructor(u,s){super(u,s),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},o.bU=class extends Zi{constructor(u,s){super(u,s),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},o.bV=Q,o.bW=function(u,s){var l=Math.sin(s),p=Math.cos(s);return u[0]=p,u[1]=l,u[2]=0,u[3]=-l,u[4]=p,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},o.bX=function(u,s,l){var p=s[0],m=s[1],x=s[2];return u[0]=p*l[0]+m*l[3]+x*l[6],u[1]=p*l[1]+m*l[4]+x*l[7],u[2]=p*l[2]+m*l[5]+x*l[8],u},o.bY=function(u,s,l,p,m,x,b){var I=1/(s-l),A=1/(p-m),O=1/(x-b);return u[0]=-2*I,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*A,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*O,u[11]=0,u[12]=(s+l)*I,u[13]=(m+p)*A,u[14]=(b+x)*O,u[15]=1,u},o.bZ=class extends Zi{constructor(u,s){super(u,s),this.current=new Array}set(u){if(u!=this.current){this.current=u;let s=new Float32Array(4*u.length);for(let l=0;l<u.length;l++)s[4*l]=u[l].r,s[4*l+1]=u[l].g,s[4*l+2]=u[l].b,s[4*l+3]=u[l].a;this.gl.uniform4fv(this.location,s)}}},o.b_=class extends Zi{constructor(u,s){super(u,s),this.current=new Array}set(u){if(u!=this.current){this.current=u;let s=new Float32Array(u);this.gl.uniform1fv(this.location,s)}}},o.ba=function(){return new Float64Array(16)},o.bb=function(u,s,l){let p=new Float64Array(4);return qr(p,u,s-90,l),p},o.bc=function(u,s,l,p){var m,x,b,I,A,O=s[0],D=s[1],F=s[2],U=s[3],Z=l[0],W=l[1],X=l[2],ne=l[3];return(x=O*Z+D*W+F*X+U*ne)<0&&(x=-x,Z=-Z,W=-W,X=-X,ne=-ne),1-x>G?(m=Math.acos(x),b=Math.sin(m),I=Math.sin((1-p)*m)/b,A=Math.sin(p*m)/b):(I=1-p,A=p),u[0]=I*O+A*Z,u[1]=I*D+A*W,u[2]=I*F+A*X,u[3]=I*U+A*ne,u},o.bd=function(u){let s=new Float64Array(9);var l,p,m,x,b,I,A,O,D,F,U,Z,W,X,ne,le,Ee,me;F=(m=(p=u)[0])*(A=m+m),U=(x=p[1])*A,W=(b=p[2])*A,X=b*(O=x+x),le=(I=p[3])*A,Ee=I*O,me=I*(D=b+b),(l=s)[0]=1-(Z=x*O)-(ne=b*D),l[3]=U-me,l[6]=W+Ee,l[1]=U+me,l[4]=1-F-ne,l[7]=X-le,l[2]=W-Ee,l[5]=X+le,l[8]=1-F-Z;let ye=ns(-Math.asin(wr(s[2],-1,1))),Ae,Oe;return Math.hypot(s[5],s[8])<.001?(Ae=0,Oe=-ns(Math.atan2(s[3],s[4]))):(Ae=ns(s[5]===0&&s[8]===0?0:Math.atan2(s[5],s[8])),Oe=ns(s[1]===0&&s[0]===0?0:Math.atan2(s[1],s[0]))),{roll:Ae,pitch:ye+90,bearing:Oe}},o.be=function(u,s){return u.roll==s.roll&&u.pitch==s.pitch&&u.bearing==s.bearing},o.bf=Ht,o.bg=Pl,o.bh=im,o.bi=i_,o.bj=nm,o.bk=qn,o.bl=Ur,o.bm=Pi,o.bn=function(u,s,l,p,m){return qn(p,m,wr((u-s)/(l-s),0,1))},o.bo=Nr,o.bp=function(){return new Float64Array(3)},o.bq=function(u,s,l,p){return u[0]=s[0]+l[0]*p,u[1]=s[1]+l[1]*p,u[2]=s[2]+l[2]*p,u},o.br=qr,o.bs=function(u,s,l){var p=l[0],m=l[1],x=l[2],b=l[3],I=s[0],A=s[1],O=s[2],D=m*O-x*A,F=x*I-p*O,U=p*A-m*I;return u[0]=I+b*(D+=D)+m*(U+=U)-x*(F+=F),u[1]=A+b*F+x*D-p*U,u[2]=O+b*U+p*F-m*D,u},o.bt=function(u,s,l){let p=(m=[u[0],u[1],u[2],s[0],s[1],s[2],l[0],l[1],l[2]])[0]*((D=m[8])*(b=m[4])-(I=m[5])*(O=m[7]))+m[1]*(-D*(x=m[3])+I*(A=m[6]))+m[2]*(O*x-b*A);var m,x,b,I,A,O,D;if(p===0)return null;let F=rt([],[s[0],s[1],s[2]],[l[0],l[1],l[2]]),U=rt([],[l[0],l[1],l[2]],[u[0],u[1],u[2]]),Z=rt([],[u[0],u[1],u[2]],[s[0],s[1],s[2]]),W=Ge([],F,-u[3]);return ke(W,W,Ge([],U,-s[3])),ke(W,W,Ge([],Z,-l[3])),Ge(W,W,1/p),W},o.bu=I2,o.bv=function(){return new Float64Array(4)},o.bw=function(u,s,l,p){var m=[],x=[];return m[0]=s[0]-l[0],m[1]=s[1]-l[1],m[2]=s[2]-l[2],x[0]=m[0]*Math.cos(p)-m[1]*Math.sin(p),x[1]=m[0]*Math.sin(p)+m[1]*Math.cos(p),x[2]=m[2],u[0]=x[0]+l[0],u[1]=x[1]+l[1],u[2]=x[2]+l[2],u},o.bx=function(u,s,l,p){var m=[],x=[];return m[0]=s[0]-l[0],m[1]=s[1]-l[1],m[2]=s[2]-l[2],x[0]=m[0],x[1]=m[1]*Math.cos(p)-m[2]*Math.sin(p),x[2]=m[1]*Math.sin(p)+m[2]*Math.cos(p),u[0]=x[0]+l[0],u[1]=x[1]+l[1],u[2]=x[2]+l[2],u},o.by=function(u,s,l,p){var m=[],x=[];return m[0]=s[0]-l[0],m[1]=s[1]-l[1],m[2]=s[2]-l[2],x[0]=m[2]*Math.sin(p)+m[0]*Math.cos(p),x[1]=m[1],x[2]=m[2]*Math.cos(p)-m[0]*Math.sin(p),u[0]=x[0]+l[0],u[1]=x[1]+l[1],u[2]=x[2]+l[2],u},o.bz=function(u,s,l){var p=Math.sin(l),m=Math.cos(l),x=s[0],b=s[1],I=s[2],A=s[3],O=s[8],D=s[9],F=s[10],U=s[11];return s!==u&&(u[4]=s[4],u[5]=s[5],u[6]=s[6],u[7]=s[7],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=x*m-O*p,u[1]=b*m-D*p,u[2]=I*m-F*p,u[3]=A*m-U*p,u[8]=x*p+O*m,u[9]=b*p+D*m,u[10]=I*p+F*m,u[11]=A*p+U*m,u},o.c=be,o.c0=y2e,o.c1=class extends c{},o.c2=a2,o.c3=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},o.c4=V6,o.c5=function(u,s,l){var p=s[0],m=s[1],x=s[2],b=l[3]*p+l[7]*m+l[11]*x+l[15];return u[0]=(l[0]*p+l[4]*m+l[8]*x+l[12])/(b=b||1),u[1]=(l[1]*p+l[5]*m+l[9]*x+l[13])/b,u[2]=(l[2]*p+l[6]*m+l[10]*x+l[14])/b,u},o.c6=class extends Wy{},o.c7=class extends k{},o.c8=function(u,s){return u[0]===s[0]&&u[1]===s[1]&&u[2]===s[2]&&u[3]===s[3]&&u[4]===s[4]&&u[5]===s[5]&&u[6]===s[6]&&u[7]===s[7]&&u[8]===s[8]&&u[9]===s[9]&&u[10]===s[10]&&u[11]===s[11]&&u[12]===s[12]&&u[13]===s[13]&&u[14]===s[14]&&u[15]===s[15]},o.c9=function(u,s){var l=u[0],p=u[1],m=u[2],x=u[3],b=u[4],I=u[5],A=u[6],O=u[7],D=u[8],F=u[9],U=u[10],Z=u[11],W=u[12],X=u[13],ne=u[14],le=u[15],Ee=s[0],me=s[1],ye=s[2],Ae=s[3],Oe=s[4],Ue=s[5],et=s[6],Ke=s[7],Je=s[8],ft=s[9],Xe=s[10],Qe=s[11],Fe=s[12],bt=s[13],It=s[14],mt=s[15];return Math.abs(l-Ee)<=G*Math.max(1,Math.abs(l),Math.abs(Ee))&&Math.abs(p-me)<=G*Math.max(1,Math.abs(p),Math.abs(me))&&Math.abs(m-ye)<=G*Math.max(1,Math.abs(m),Math.abs(ye))&&Math.abs(x-Ae)<=G*Math.max(1,Math.abs(x),Math.abs(Ae))&&Math.abs(b-Oe)<=G*Math.max(1,Math.abs(b),Math.abs(Oe))&&Math.abs(I-Ue)<=G*Math.max(1,Math.abs(I),Math.abs(Ue))&&Math.abs(A-et)<=G*Math.max(1,Math.abs(A),Math.abs(et))&&Math.abs(O-Ke)<=G*Math.max(1,Math.abs(O),Math.abs(Ke))&&Math.abs(D-Je)<=G*Math.max(1,Math.abs(D),Math.abs(Je))&&Math.abs(F-ft)<=G*Math.max(1,Math.abs(F),Math.abs(ft))&&Math.abs(U-Xe)<=G*Math.max(1,Math.abs(U),Math.abs(Xe))&&Math.abs(Z-Qe)<=G*Math.max(1,Math.abs(Z),Math.abs(Qe))&&Math.abs(W-Fe)<=G*Math.max(1,Math.abs(W),Math.abs(Fe))&&Math.abs(X-bt)<=G*Math.max(1,Math.abs(X),Math.abs(bt))&&Math.abs(ne-It)<=G*Math.max(1,Math.abs(ne),Math.abs(It))&&Math.abs(le-mt)<=G*Math.max(1,Math.abs(le),Math.abs(mt))},o.cA=function(u,s){Y.REGISTERED_PROTOCOLS[u]=s},o.cB=function(u){delete Y.REGISTERED_PROTOCOLS[u]},o.cC=function(u,s){let l={};for(let m=0;m<u.length;m++){let x=s&&s[u[m].id]||HM(u[m]);s&&(s[u[m].id]=x);let b=l[x];b||(b=l[x]=[]),b.push(u[m])}let p=[];for(let m in l)p.push(l[m]);return p},o.cD=at,o.cE=jV,o.cF=UV,o.cG=yV,o.cH=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=_t/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;let s=u.bucket.layers[0],l=s.layout,p=s._unevaluatedLayout._values,m={layoutIconSize:p["icon-size"].possiblyEvaluate(new Lr(u.bucket.zoom+1),u.canonical),layoutTextSize:p["text-size"].possiblyEvaluate(new Lr(u.bucket.zoom+1),u.canonical),textMaxSize:p["text-size"].possiblyEvaluate(new Lr(18))};if(u.bucket.textSizeData.kind==="composite"){let{minZoom:O,maxZoom:D}=u.bucket.textSizeData;m.compositeTextSizes=[p["text-size"].possiblyEvaluate(new Lr(O),u.canonical),p["text-size"].possiblyEvaluate(new Lr(D),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){let{minZoom:O,maxZoom:D}=u.bucket.iconSizeData;m.compositeIconSizes=[p["icon-size"].possiblyEvaluate(new Lr(O),u.canonical),p["icon-size"].possiblyEvaluate(new Lr(D),u.canonical)]}let x=l.get("text-line-height")*ri,b=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",I=l.get("text-keep-upright"),A=l.get("text-size");for(let O of u.bucket.features){let D=l.get("text-font").evaluate(O,{},u.canonical).join(","),F=A.evaluate(O,{},u.canonical),U=m.layoutTextSize.evaluate(O,{},u.canonical),Z=m.layoutIconSize.evaluate(O,{},u.canonical),W={horizontal:{},vertical:void 0},X=O.text,ne,le=[0,0];if(X){let ye=X.toString(),Ae=l.get("text-letter-spacing").evaluate(O,{},u.canonical)*ri,Oe=JM(ye)?Ae:0,Ue=l.get("text-anchor").evaluate(O,{},u.canonical),et=QV(s,O,u.canonical);if(!et){let Xe=l.get("text-radial-offset").evaluate(O,{},u.canonical);le=Xe?JV(Ue,[Xe*ri,A2]):l.get("text-offset").evaluate(O,{},u.canonical).map(Qe=>Qe*ri)}let Ke=b?"center":l.get("text-justify").evaluate(O,{},u.canonical),Je=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(O,{},u.canonical)*ri:1/0,ft=()=>{u.bucket.allowVerticalPlacement&&Gd(ye)&&(W.vertical=Lw(X,u.glyphMap,u.glyphPositions,u.imagePositions,D,Je,x,Ue,"left",Oe,le,o.ao.vertical,!0,U,F))};if(!b&&et){let Xe=new Set;if(Ke==="auto")for(let Fe=0;Fe<et.values.length;Fe+=2)Xe.add(M2(et.values[Fe]));else Xe.add(Ke);let Qe=!1;for(let Fe of Xe)if(!W.horizontal[Fe])if(Qe)W.horizontal[Fe]=W.horizontal[0];else{let bt=Lw(X,u.glyphMap,u.glyphPositions,u.imagePositions,D,Je,x,"center",Fe,Oe,le,o.ao.horizontal,!1,U,F);bt&&(W.horizontal[Fe]=bt,Qe=bt.positionedLines.length===1)}ft()}else{Ke==="auto"&&(Ke=M2(Ue));let Xe=Lw(X,u.glyphMap,u.glyphPositions,u.imagePositions,D,Je,x,Ue,Ke,Oe,le,o.ao.horizontal,!1,U,F);Xe&&(W.horizontal[Ke]=Xe),ft(),Gd(ye)&&b&&I&&(W.vertical=Lw(X,u.glyphMap,u.glyphPositions,u.imagePositions,D,Je,x,Ue,Ke,Oe,le,o.ao.vertical,!1,U,F))}}let Ee=!1;if(O.icon&&O.icon.name){let ye=u.imageMap[O.icon.name];ye&&(ne=j2e(u.imagePositions[O.icon.name],l.get("icon-offset").evaluate(O,{},u.canonical),l.get("icon-anchor").evaluate(O,{},u.canonical)),Ee=!!ye.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Ee:u.bucket.sdfIcons!==Ee&&vr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ye.pixelRatio!==u.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}let me=t$(W.horizontal)||W.vertical;u.bucket.iconsInText=!!me&&me.iconsInText,(me||ne)&&rqe(u.bucket,O,W,ne,u.imageMap,m,U,Z,le,Ee,u.canonical,u.subdivisionGranularity)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},o.cI=m2,o.cJ=f2,o.cK=d2,o.cL=iV,o.cM=g2,o.cN=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},o.cO=function(u,s,l,p,m){return i(this,void 0,void 0,function*(){if(ee())try{return yield es(u,s,l,p,m)}catch(x){}return function(x,b,I,A,O){let D=x.width,F=x.height;Ia&&Ro||(Ia=new OffscreenCanvas(D,F),Ro=Ia.getContext("2d",{willReadFrequently:!0})),Ia.width=D,Ia.height=F,Ro.drawImage(x,0,0,D,F);let U=Ro.getImageData(b,I,A,O);return Ro.clearRect(0,0,D,F),U.data}(u,s,l,p,m)})},o.cP=Z6,o.cQ=g,o.cR=nV,o.cS=om,o.cT=Uf,o.cU=function(u,s){let l=new Map;if(u!=null)if(u.type==="Feature")l.set(h_(u,s),u);else for(let p of u.features)l.set(h_(p,s),p);return l},o.cV=function(u,s){if(u==null)return!0;if(u.type==="Feature")return h_(u,s)!=null;if(u.type==="FeatureCollection"){let l=new Set;for(let p of u.features){let m=h_(p,s);if(m==null||l.has(m))return!1;l.add(m)}return!0}return!1},o.cW=function(u,s,l){var p,m,x,b;if(s.removeAll&&u.clear(),s.remove)for(let I of s.remove)u.delete(I);if(s.add)for(let I of s.add){let A=h_(I,l);A!=null&&u.set(A,I)}if(s.update)for(let I of s.update){let A=u.get(I.id);if(A==null)continue;let O=!I.removeAllProperties&&(((p=I.removeProperties)===null||p===void 0?void 0:p.length)>0||((m=I.addOrUpdateProperties)===null||m===void 0?void 0:m.length)>0);if((I.newGeometry||I.removeAllProperties||O)&&(A=Object.assign({},A),u.set(I.id,A),O&&(A.properties=Object.assign({},A.properties))),I.newGeometry&&(A.geometry=I.newGeometry),I.removeAllProperties)A.properties={};else if(((x=I.removeProperties)===null||x===void 0?void 0:x.length)>0)for(let D of I.removeProperties)Object.prototype.hasOwnProperty.call(A.properties,D)&&delete A.properties[D];if(((b=I.addOrUpdateProperties)===null||b===void 0?void 0:b.length)>0)for(let{key:D,value:F}of I.addOrUpdateProperties)A.properties[D]=F}},o.cX=ka,o.ca=function(u,s){return u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[4]=s[4],u[5]=s[5],u[6]=s[6],u[7]=s[7],u[8]=s[8],u[9]=s[9],u[10]=s[10],u[11]=s[11],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15],u},o.cb=u=>u.type==="symbol",o.cc=u=>u.type==="circle",o.cd=u=>u.type==="heatmap",o.ce=u=>u.type==="line",o.cf=u=>u.type==="fill",o.cg=u=>u.type==="fill-extrusion",o.ch=u=>u.type==="hillshade",o.ci=u=>u.type==="color-relief",o.cj=u=>u.type==="raster",o.ck=u=>u.type==="background",o.cl=u=>u.type==="custom",o.cm=pn,o.cn=function(u,s,l){let p=Ut(s.x-l.x,s.y-l.y),m=Ut(u.x-l.x,u.y-l.y);var x,b;return ns(Math.atan2(p[0]*m[1]-p[1]*m[0],(x=p)[0]*(b=m)[0]+x[1]*b[1]))},o.co=Jn,o.cp=function(u,s){return Pa[s]&&(u instanceof MouseEvent||u instanceof WheelEvent)},o.cq=function(u,s){return Ca[s]&&"touches"in u},o.cr=function(u){return Ca[u]||Pa[u]},o.cs=function(u,s,l){var p=s[0],m=s[1];return u[0]=l[0]*p+l[4]*m+l[12],u[1]=l[1]*p+l[5]*m+l[13],u},o.ct=function(u,s){let{x:l,y:p}=c_.fromLngLat(s);return!(u<0||u>25||p<0||p>=1||l<0||l>=1)},o.cu=function(u,s){return u[0]=s[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=s[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},o.cv=class extends Yc{},o.cw=iqe,o.cy=function(u){return u.message===vl},o.cz=ce,o.d=Ce,o.e=dn,o.f=u=>i(void 0,void 0,void 0,function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(s)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),o.g=J,o.h=u=>new Promise((s,l)=>{let p=new Image;p.onload=()=>{s(p),URL.revokeObjectURL(p.src),p.onload=null,window.requestAnimationFrame(()=>{p.src=qo})},p.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let m=new Blob([new Uint8Array(u)],{type:"image/png"});p.src=u.byteLength?URL.createObjectURL(m):qo}),o.i=Yo,o.j=(u,s)=>we(dn(u,{type:"json"}),s),o.k=ze,o.l=Ve,o.m=we,o.n=(u,s)=>we(dn(u,{type:"arrayBuffer"}),s),o.o=function(u){return new g2(u).readFields(A2e,[])},o.p=gV,o.q=Qy,o.r=$i,o.s=ts,o.t=Ew,o.u=Qt,o.v=Te,o.w=vr,o.x=KM,o.y=Kf,o.z=Zc}),r("worker",["./shared"],function(o){"use strict";class i{constructor(Y){this.keyCache={},Y&&this.replace(Y)}replace(Y){this._layerConfigs={},this._layers={},this.update(Y,[])}update(Y,J){for(let ce of Y){this._layerConfigs[ce.id]=ce;let ge=this._layers[ce.id]=o.bJ(ce);ge._featureFilter=o.aa(ge.filter),this.keyCache[ce.id]&&delete this.keyCache[ce.id]}for(let ce of J)delete this.keyCache[ce],delete this._layerConfigs[ce],delete this._layers[ce];this.familiesBySource={};let re=o.cC(Object.values(this._layerConfigs),this.keyCache);for(let ce of re){let ge=ce.map(ze=>this._layers[ze.id]),we=ge[0];if(we.visibility==="none")continue;let Ce=we.source||"",xe=this.familiesBySource[Ce];xe||(xe=this.familiesBySource[Ce]={});let Le=we.sourceLayer||"_geojsonTileLayer",Ve=xe[Le];Ve||(Ve=xe[Le]=[]),Ve.push(ge)}}}class f{constructor(Y){let J={},re=[];for(let Ce in Y){let xe=Y[Ce],Le=J[Ce]={};for(let Ve in xe){let ze=xe[+Ve];if(!ze||ze.bitmap.width===0||ze.bitmap.height===0)continue;let ct={x:0,y:0,w:ze.bitmap.width+2,h:ze.bitmap.height+2};re.push(ct),Le[Ve]={rect:ct,metrics:ze.metrics}}}let{w:ce,h:ge}=o.p(re),we=new o.q({width:ce||1,height:ge||1});for(let Ce in Y){let xe=Y[Ce];for(let Le in xe){let Ve=xe[+Le];if(!Ve||Ve.bitmap.width===0||Ve.bitmap.height===0)continue;let ze=J[Ce][Le].rect;o.q.copy(Ve.bitmap,we,{x:0,y:0},{x:ze.x+1,y:ze.y+1},Ve.bitmap)}}this.image=we,this.positions=J}}o.cD("GlyphAtlas",f);class g{constructor(Y){this.tileID=new o.Z(Y.tileID.overscaledZ,Y.tileID.wrap,Y.tileID.canonical.z,Y.tileID.canonical.x,Y.tileID.canonical.y),this.uid=Y.uid,this.zoom=Y.zoom,this.pixelRatio=Y.pixelRatio,this.tileSize=Y.tileSize,this.source=Y.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Y.showCollisionBoxes,this.collectResourceTiming=!!Y.collectResourceTiming,this.returnDependencies=!!Y.returnDependencies,this.promoteId=Y.promoteId,this.inFlightDependencies=[],this.globalState=Y.globalState}parse(Y,J,re,ce,ge){return o._(this,void 0,void 0,function*(){this.status="parsing",this.data=Y,this.collisionBoxArray=new o.a8;let we=new o.cE(Object.keys(Y.layers).sort()),Ce=new o.cF(this.tileID,this.promoteId);Ce.bucketLayerIDs=[];let xe={},Le={featureIndex:Ce,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:re,subdivisionGranularity:ge},Ve=J.familiesBySource[this.source];for(let Yt in Ve){let ir=Y.layers[Yt];if(!ir)continue;ir.version===1&&o.w(`Vector tile source "${this.source}" layer "${Yt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let On=we.encode(Yt),He=[];for(let Ci=0;Ci<ir.length;Ci++){let an=ir.feature(Ci),gl=Ce.getId(an,Yt);He.push({feature:an,id:gl,index:Ci,sourceLayerIndex:On})}for(let Ci of Ve[Yt]){let an=Ci[0];an.source!==this.source&&o.w(`layer.source = ${an.source} does not equal this.source = ${this.source}`),an.minzoom&&this.zoom<Math.floor(an.minzoom)||an.maxzoom&&this.zoom>=an.maxzoom||an.visibility!=="none"&&(w(Ci,this.zoom,re,this.globalState),(xe[an.id]=an.createBucket({index:Ce.bucketLayerIDs.length,layers:Ci,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:On,sourceID:this.source,globalState:this.globalState})).populate(He,Le,this.tileID.canonical),Ce.bucketLayerIDs.push(Ci.map(gl=>gl.id)))}}let ze=o.bN(Le.glyphDependencies,Yt=>Object.keys(Yt).map(Number));this.inFlightDependencies.forEach(Yt=>Yt==null?void 0:Yt.abort()),this.inFlightDependencies=[];let ct=Promise.resolve({});if(Object.keys(ze).length){let Yt=new AbortController;this.inFlightDependencies.push(Yt),ct=ce.sendAsync({type:"GG",data:{stacks:ze,source:this.source,tileID:this.tileID,type:"glyphs"}},Yt)}let Te=Object.keys(Le.iconDependencies),At=Promise.resolve({});if(Te.length){let Yt=new AbortController;this.inFlightDependencies.push(Yt),At=ce.sendAsync({type:"GI",data:{icons:Te,source:this.source,tileID:this.tileID,type:"icons"}},Yt)}let Gt=Object.keys(Le.patternDependencies),pt=Promise.resolve({});if(Gt.length){let Yt=new AbortController;this.inFlightDependencies.push(Yt),pt=ce.sendAsync({type:"GI",data:{icons:Gt,source:this.source,tileID:this.tileID,type:"patterns"}},Yt)}let[Ot,Fr,Gn]=yield Promise.all([ct,At,pt]),Zn=new f(Ot),In=new o.cG(Fr,Gn);for(let Yt in xe){let ir=xe[Yt];ir instanceof o.a9?(w(ir.layers,this.zoom,re,this.globalState),o.cH({bucket:ir,glyphMap:Ot,glyphPositions:Zn.positions,imageMap:Fr,imagePositions:In.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Le.subdivisionGranularity})):ir.hasPattern&&(ir instanceof o.cI||ir instanceof o.cJ||ir instanceof o.cK)&&(w(ir.layers,this.zoom,re,this.globalState),ir.addFeatures(Le,this.tileID.canonical,In.patternPositions))}return this.status="done",{buckets:Object.values(xe).filter(Yt=>!Yt.isEmpty()),featureIndex:Ce,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Zn.image,imageAtlas:In,glyphMap:this.returnDependencies?Ot:null,iconMap:this.returnDependencies?Fr:null,glyphPositions:this.returnDependencies?Zn.positions:null}})}}function w(be,Y,J,re){let ce=new o.F(Y);for(let ge of be)ge.setGlobalState(re),ge.recalculate(ce,J)}class E{constructor(Y,J,re){this.actor=Y,this.layerIndex=J,this.availableImages=re,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(Y,J){return o._(this,void 0,void 0,function*(){let re=yield o.n(Y.request,J);try{return{vectorTile:new o.cL(new o.cM(re.data)),rawData:re.data,cacheControl:re.cacheControl,expires:re.expires}}catch(ce){let ge=new Uint8Array(re.data),we=`Unable to parse the tile at ${Y.request.url}, `;throw we+=ge[0]===31&&ge[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ce.message}`,new Error(we)}})}loadTile(Y){return o._(this,void 0,void 0,function*(){let J=Y.uid,re=!!(Y&&Y.request&&Y.request.collectResourceTiming)&&new o.cN(Y.request),ce=new g(Y);this.loading[J]=ce;let ge=new AbortController;ce.abort=ge;try{let we=yield this.loadVectorTile(Y,ge);if(delete this.loading[J],!we)return null;let Ce=we.rawData,xe={};we.expires&&(xe.expires=we.expires),we.cacheControl&&(xe.cacheControl=we.cacheControl);let Le={};if(re){let ze=re.finish();ze&&(Le.resourceTiming=JSON.parse(JSON.stringify(ze)))}ce.vectorTile=we.vectorTile;let Ve=ce.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor,Y.subdivisionGranularity);this.loaded[J]=ce,this.fetching[J]={rawTileData:Ce,cacheControl:xe,resourceTiming:Le};try{let ze=yield Ve;return o.e({rawTileData:Ce.slice(0)},ze,xe,Le)}finally{delete this.fetching[J]}}catch(we){throw delete this.loading[J],ce.status="done",this.loaded[J]=ce,we}})}reloadTile(Y){return o._(this,void 0,void 0,function*(){let J=Y.uid;if(!this.loaded||!this.loaded[J])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let re=this.loaded[J];if(re.showCollisionBoxes=Y.showCollisionBoxes,re.globalState=Y.globalState,re.status==="parsing"){let ce=yield re.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,Y.subdivisionGranularity),ge;if(this.fetching[J]){let{rawTileData:we,cacheControl:Ce,resourceTiming:xe}=this.fetching[J];delete this.fetching[J],ge=o.e({rawTileData:we.slice(0)},ce,Ce,xe)}else ge=ce;return ge}if(re.status==="done"&&re.vectorTile)return re.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,Y.subdivisionGranularity)})}abortTile(Y){return o._(this,void 0,void 0,function*(){let J=this.loading,re=Y.uid;J&&J[re]&&J[re].abort&&(J[re].abort.abort(),delete J[re])})}removeTile(Y){return o._(this,void 0,void 0,function*(){this.loaded&&this.loaded[Y.uid]&&delete this.loaded[Y.uid]})}}class C{constructor(){this.loaded={}}loadTile(Y){return o._(this,void 0,void 0,function*(){let{uid:J,encoding:re,rawImageData:ce,redFactor:ge,greenFactor:we,blueFactor:Ce,baseShift:xe}=Y,Le=ce.width+2,Ve=ce.height+2,ze=o.b(ce)?new o.R({width:Le,height:Ve},yield o.cO(ce,-1,-1,Le,Ve)):ce,ct=new o.cP(J,ze,re,ge,we,Ce,xe);return this.loaded=this.loaded||{},this.loaded[J]=ct,ct})}removeTile(Y){let J=this.loaded,re=Y.uid;J&&J[re]&&delete J[re]}}var q,L,B=function(){if(L)return q;function be(J,re){if(J.length!==0){Y(J[0],re);for(var ce=1;ce<J.length;ce++)Y(J[ce],!re)}}function Y(J,re){for(var ce=0,ge=0,we=0,Ce=J.length,xe=Ce-1;we<Ce;xe=we++){var Le=(J[we][0]-J[xe][0])*(J[xe][1]+J[we][1]),Ve=ce+Le;ge+=Math.abs(ce)>=Math.abs(Le)?ce-Ve+Le:Le-Ve+ce,ce=Ve}ce+ge>=0!=!!re&&J.reverse()}return L=1,q=function J(re,ce){var ge,we=re&&re.type;if(we==="FeatureCollection")for(ge=0;ge<re.features.length;ge++)J(re.features[ge],ce);else if(we==="GeometryCollection")for(ge=0;ge<re.geometries.length;ge++)J(re.geometries[ge],ce);else if(we==="Feature")J(re.geometry,ce);else if(we==="Polygon")be(re.coordinates,ce);else if(we==="MultiPolygon")for(ge=0;ge<re.coordinates.length;ge++)be(re.coordinates[ge],ce);return re}}(),$=o.cQ(B);class ee extends o.cS{constructor(Y,J){super(new o.cM,0,J,[],[]),this.feature=Y,this.type=Y.type,this.properties=Y.tags?Y.tags:{},"id"in Y&&(typeof Y.id=="string"?this.id=parseInt(Y.id,10):typeof Y.id!="number"||isNaN(Y.id)||(this.id=Y.id))}loadGeometry(){let Y=[],J=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(let re of J){let ce=[];for(let ge of re)ce.push(new o.P(ge[0],ge[1]));Y.push(ce)}return Y}}class G extends o.cR{constructor(Y,J){super(new o.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=J?J.version:1,this.extent=J?J.extent:4096,this.length=Y.length,this.features=Y}feature(Y){return new ee(this.features[Y],this.extent)}}function H(be,Y){Y.writeVarintField(15,be.version||1),Y.writeStringField(1,be.name||""),Y.writeVarintField(5,be.extent||4096);let J={keys:[],values:[],keycache:{},valuecache:{}};for(let ge=0;ge<be.length;ge++)J.feature=be.feature(ge),Y.writeMessage(2,Q,J);let re=J.keys;for(let ge of re)Y.writeStringField(3,ge);let ce=J.values;for(let ge of ce)Y.writeMessage(4,ke,ge)}function Q(be,Y){if(!be.feature)return;let J=be.feature;J.id!==void 0&&Y.writeVarintField(1,J.id),Y.writeMessage(2,se,be),Y.writeVarintField(3,J.type),Y.writeMessage(4,Ne,J)}function se(be,Y){var J;for(let re in(J=be.feature)==null?void 0:J.properties){let ce=be.feature.properties[re],ge=be.keycache[re];if(ce===null)continue;ge===void 0&&(be.keys.push(re),ge=be.keys.length-1,be.keycache[re]=ge),Y.writeVarint(ge),typeof ce!="string"&&typeof ce!="boolean"&&typeof ce!="number"&&(ce=JSON.stringify(ce));let we=typeof ce+":"+ce,Ce=be.valuecache[we];Ce===void 0&&(be.values.push(ce),Ce=be.values.length-1,be.valuecache[we]=Ce),Y.writeVarint(Ce)}}function de(be,Y){return(Y<<3)+(7&be)}function De(be){return be<<1^be>>31}function Ne(be,Y){let J=be.loadGeometry(),re=be.type,ce=0,ge=0;for(let we of J){let Ce=1;re===1&&(Ce=we.length),Y.writeVarint(de(1,Ce));let xe=re===3?we.length-1:we.length;for(let Le=0;Le<xe;Le++){Le===1&&re!==1&&Y.writeVarint(de(2,xe-1));let Ve=we[Le].x-ce,ze=we[Le].y-ge;Y.writeVarint(De(Ve)),Y.writeVarint(De(ze)),ce+=Ve,ge+=ze}be.type===3&&Y.writeVarint(de(7,1))}}function ke(be,Y){let J=typeof be;J==="string"?Y.writeStringField(1,be):J==="boolean"?Y.writeBooleanField(7,be):J==="number"&&(be%1!=0?Y.writeDoubleField(3,be):be<0?Y.writeSVarintField(6,be):Y.writeVarintField(5,be))}let Ge={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:be=>be},rt=Math.fround||(Mt=new Float32Array(1),be=>(Mt[0]=+be,Mt[0]));var Mt;class tr{constructor(Y){this.options=Object.assign(Object.create(Ge),Y),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Y){let{log:J,minZoom:re,maxZoom:ce}=this.options;J&&console.time("total time");let ge=`prepare ${Y.length} points`;J&&console.time(ge),this.points=Y;let we=[];for(let xe=0;xe<Y.length;xe++){let Le=Y[xe];if(!Le.geometry)continue;let[Ve,ze]=Le.geometry.coordinates,ct=rt(qr(Ve)),Te=rt(dr(ze));we.push(ct,Te,1/0,xe,-1,1),this.options.reduce&&we.push(0)}let Ce=this.trees[ce+1]=this._createTree(we);J&&console.timeEnd(ge);for(let xe=ce;xe>=re;xe--){let Le=+Date.now();Ce=this.trees[xe]=this._createTree(this._cluster(Ce,xe)),J&&console.log("z%d: %d clusters in %dms",xe,Ce.numItems,+Date.now()-Le)}return J&&console.timeEnd("total time"),this}getClusters(Y,J){let re=((Y[0]+180)%360+360)%360-180,ce=Math.max(-90,Math.min(90,Y[1])),ge=Y[2]===180?180:((Y[2]+180)%360+360)%360-180,we=Math.max(-90,Math.min(90,Y[3]));if(Y[2]-Y[0]>=360)re=-180,ge=180;else if(re>ge){let ze=this.getClusters([re,ce,180,we],J),ct=this.getClusters([-180,ce,ge,we],J);return ze.concat(ct)}let Ce=this.trees[this._limitZoom(J)],xe=Ce.range(qr(re),dr(we),qr(ge),dr(ce)),Le=Ce.data,Ve=[];for(let ze of xe){let ct=this.stride*ze;Ve.push(Le[ct+5]>1?Mr(Le,ct,this.clusterProps):this.points[Le[ct+3]])}return Ve}getChildren(Y){let J=this._getOriginId(Y),re=this._getOriginZoom(Y),ce="No cluster with the specified id.",ge=this.trees[re];if(!ge)throw new Error(ce);let we=ge.data;if(J*this.stride>=we.length)throw new Error(ce);let Ce=this.options.radius/(this.options.extent*Math.pow(2,re-1)),xe=ge.within(we[J*this.stride],we[J*this.stride+1],Ce),Le=[];for(let Ve of xe){let ze=Ve*this.stride;we[ze+4]===Y&&Le.push(we[ze+5]>1?Mr(we,ze,this.clusterProps):this.points[we[ze+3]])}if(Le.length===0)throw new Error(ce);return Le}getLeaves(Y,J,re){let ce=[];return this._appendLeaves(ce,Y,J=J||10,re=re||0,0),ce}getTile(Y,J,re){let ce=this.trees[this._limitZoom(Y)],ge=Math.pow(2,Y),{extent:we,radius:Ce}=this.options,xe=Ce/we,Le=(re-xe)/ge,Ve=(re+1+xe)/ge,ze={features:[]};return this._addTileFeatures(ce.range((J-xe)/ge,Le,(J+1+xe)/ge,Ve),ce.data,J,re,ge,ze),J===0&&this._addTileFeatures(ce.range(1-xe/ge,Le,1,Ve),ce.data,ge,re,ge,ze),J===ge-1&&this._addTileFeatures(ce.range(0,Le,xe/ge,Ve),ce.data,-1,re,ge,ze),ze.features.length?ze:null}getClusterExpansionZoom(Y){let J=this._getOriginZoom(Y)-1;for(;J<=this.options.maxZoom;){let re=this.getChildren(Y);if(J++,re.length!==1)break;Y=re[0].properties.cluster_id}return J}_appendLeaves(Y,J,re,ce,ge){let we=this.getChildren(J);for(let Ce of we){let xe=Ce.properties;if(xe&&xe.cluster?ge+xe.point_count<=ce?ge+=xe.point_count:ge=this._appendLeaves(Y,xe.cluster_id,re,ce,ge):ge<ce?ge++:Y.push(Ce),Y.length===re)break}return ge}_createTree(Y){let J=new o.aI(Y.length/this.stride|0,this.options.nodeSize,Float32Array);for(let re=0;re<Y.length;re+=this.stride)J.add(Y[re],Y[re+1]);return J.finish(),J.data=Y,J}_addTileFeatures(Y,J,re,ce,ge,we){for(let Ce of Y){let xe=Ce*this.stride,Le=J[xe+5]>1,Ve,ze,ct;if(Le)Ve=kr(J,xe,this.clusterProps),ze=J[xe],ct=J[xe+1];else{let Gt=this.points[J[xe+3]];Ve=Gt.properties;let[pt,Ot]=Gt.geometry.coordinates;ze=qr(pt),ct=dr(Ot)}let Te={type:1,geometry:[[Math.round(this.options.extent*(ze*ge-re)),Math.round(this.options.extent*(ct*ge-ce))]],tags:Ve},At;At=Le||this.options.generateId?J[xe+3]:this.points[J[xe+3]].id,At!==void 0&&(Te.id=At),we.features.push(Te)}}_limitZoom(Y){return Math.max(this.options.minZoom,Math.min(Math.floor(+Y),this.options.maxZoom+1))}_cluster(Y,J){let{radius:re,extent:ce,reduce:ge,minPoints:we}=this.options,Ce=re/(ce*Math.pow(2,J)),xe=Y.data,Le=[],Ve=this.stride;for(let ze=0;ze<xe.length;ze+=Ve){if(xe[ze+2]<=J)continue;xe[ze+2]=J;let ct=xe[ze],Te=xe[ze+1],At=Y.within(xe[ze],xe[ze+1],Ce),Gt=xe[ze+5],pt=Gt;for(let Ot of At){let Fr=Ot*Ve;xe[Fr+2]>J&&(pt+=xe[Fr+5])}if(pt>Gt&&pt>=we){let Ot,Fr=ct*Gt,Gn=Te*Gt,Zn=-1,In=(ze/Ve<<5)+(J+1)+this.points.length;for(let Yt of At){let ir=Yt*Ve;if(xe[ir+2]<=J)continue;xe[ir+2]=J;let On=xe[ir+5];Fr+=xe[ir]*On,Gn+=xe[ir+1]*On,xe[ir+4]=In,ge&&(Ot||(Ot=this._map(xe,ze,!0),Zn=this.clusterProps.length,this.clusterProps.push(Ot)),ge(Ot,this._map(xe,ir)))}xe[ze+4]=In,Le.push(Fr/pt,Gn/pt,1/0,In,-1,pt),ge&&Le.push(Zn)}else{for(let Ot=0;Ot<Ve;Ot++)Le.push(xe[ze+Ot]);if(pt>1)for(let Ot of At){let Fr=Ot*Ve;if(!(xe[Fr+2]<=J)){xe[Fr+2]=J;for(let Gn=0;Gn<Ve;Gn++)Le.push(xe[Fr+Gn])}}}}return Le}_getOriginId(Y){return Y-this.points.length>>5}_getOriginZoom(Y){return(Y-this.points.length)%32}_map(Y,J,re){if(Y[J+5]>1){let we=this.clusterProps[Y[J+6]];return re?Object.assign({},we):we}let ce=this.points[Y[J+3]].properties,ge=this.options.map(ce);return re&&ge===ce?Object.assign({},ge):ge}}function Mr(be,Y,J){return{type:"Feature",id:be[Y+3],properties:kr(be,Y,J),geometry:{type:"Point",coordinates:[(re=be[Y],360*(re-.5)),Ut(be[Y+1])]}};var re}function kr(be,Y,J){let re=be[Y+5],ce=re>=1e4?`${Math.round(re/1e3)}k`:re>=1e3?Math.round(re/100)/10+"k":re,ge=be[Y+6],we=ge===-1?{}:Object.assign({},J[ge]);return Object.assign(we,{cluster:!0,cluster_id:be[Y+3],point_count:re,point_count_abbreviated:ce})}function qr(be){return be/360+.5}function dr(be){let Y=Math.sin(be*Math.PI/180),J=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return J<0?0:J>1?1:J}function Ut(be){let Y=(180-360*be)*Math.PI/180;return 360*Math.atan(Math.exp(Y))/Math.PI-90}function _t(be,Y,J,re){let ce=re,ge=Y+(J-Y>>1),we,Ce=J-Y,xe=be[Y],Le=be[Y+1],Ve=be[J],ze=be[J+1];for(let ct=Y+3;ct<J;ct+=3){let Te=Bt(be[ct],be[ct+1],xe,Le,Ve,ze);if(Te>ce)we=ct,ce=Te;else if(Te===ce){let At=Math.abs(ct-ge);At<Ce&&(we=ct,Ce=At)}}ce>re&&(we-Y>3&&_t(be,Y,we,re),be[we+2]=ce,J-we>3&&_t(be,we,J,re))}function Bt(be,Y,J,re,ce,ge){let we=ce-J,Ce=ge-re;if(we!==0||Ce!==0){let xe=((be-J)*we+(Y-re)*Ce)/(we*we+Ce*Ce);xe>1?(J=ce,re=ge):xe>0&&(J+=we*xe,re+=Ce*xe)}return we=be-J,Ce=Y-re,we*we+Ce*Ce}function Nr(be,Y,J,re){let ce={id:be==null?null:be,type:Y,geometry:J,tags:re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Y==="Point"||Y==="MultiPoint"||Y==="LineString")qn(ce,J);else if(Y==="Polygon")qn(ce,J[0]);else if(Y==="MultiLineString")for(let ge of J)qn(ce,ge);else if(Y==="MultiPolygon")for(let ge of J)qn(ce,ge[0]);return ce}function qn(be,Y){for(let J=0;J<Y.length;J+=3)be.minX=Math.min(be.minX,Y[J]),be.minY=Math.min(be.minY,Y[J+1]),be.maxX=Math.max(be.maxX,Y[J]),be.maxY=Math.max(be.maxY,Y[J+1])}function Ur(be,Y,J,re){if(!Y.geometry)return;let ce=Y.geometry.coordinates;if(ce&&ce.length===0)return;let ge=Y.geometry.type,we=Math.pow(J.tolerance/((1<<J.maxZoom)*J.extent),2),Ce=[],xe=Y.id;if(J.promoteId?xe=Y.properties[J.promoteId]:J.generateId&&(xe=re||0),ge==="Point")pn(ce,Ce);else if(ge==="MultiPoint")for(let Le of ce)pn(Le,Ce);else if(ge==="LineString")Jn(ce,Ce,we,!1);else if(ge==="MultiLineString"){if(J.lineMetrics){for(let Le of ce)Ce=[],Jn(Le,Ce,we,!1),be.push(Nr(xe,"LineString",Ce,Y.properties));return}wr(ce,Ce,we,!1)}else if(ge==="Polygon")wr(ce,Ce,we,!0);else{if(ge!=="MultiPolygon"){if(ge==="GeometryCollection"){for(let Le of Y.geometry.geometries)Ur(be,{id:xe,geometry:Le,properties:Y.properties},J,re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Le of ce){let Ve=[];wr(Le,Ve,we,!0),Ce.push(Ve)}}be.push(Nr(xe,ge,Ce,Y.properties))}function pn(be,Y){Y.push(rr(be[0]),dn(be[1]),0)}function Jn(be,Y,J,re){let ce,ge,we=0;for(let xe=0;xe<be.length;xe++){let Le=rr(be[xe][0]),Ve=dn(be[xe][1]);Y.push(Le,Ve,0),xe>0&&(we+=re?(ce*Ve-Le*ge)/2:Math.sqrt(Math.pow(Le-ce,2)+Math.pow(Ve-ge,2))),ce=Le,ge=Ve}let Ce=Y.length-3;Y[2]=1,_t(Y,0,Ce,J),Y[Ce+2]=1,Y.size=Math.abs(we),Y.start=0,Y.end=Y.size}function wr(be,Y,J,re){for(let ce=0;ce<be.length;ce++){let ge=[];Jn(be[ce],ge,J,re),Y.push(ge)}}function rr(be){return be/360+.5}function dn(be){let Y=Math.sin(be*Math.PI/180),J=.5-.25*Math.log((1+Y)/(1-Y))/Math.PI;return J<0?0:J>1?1:J}function Rn(be,Y,J,re,ce,ge,we,Ce){if(re/=Y,ge>=(J/=Y)&&we<re)return be;if(we<J||ge>=re)return null;let xe=[];for(let Le of be){let Ve=Le.geometry,ze=Le.type,ct=ce===0?Le.minX:Le.minY,Te=ce===0?Le.maxX:Le.maxY;if(ct>=J&&Te<re){xe.push(Le);continue}if(Te<J||ct>=re)continue;let At=[];if(ze==="Point"||ze==="MultiPoint")Tn(Ve,At,J,re,ce);else if(ze==="LineString")Ja(Ve,At,J,re,ce,!1,Ce.lineMetrics);else if(ze==="MultiLineString")Vr(Ve,At,J,re,ce,!1);else if(ze==="Polygon")Vr(Ve,At,J,re,ce,!0);else if(ze==="MultiPolygon")for(let Gt of Ve){let pt=[];Vr(Gt,pt,J,re,ce,!0),pt.length&&At.push(pt)}if(At.length){if(Ce.lineMetrics&&ze==="LineString"){for(let Gt of At)xe.push(Nr(Le.id,ze,Gt,Le.tags));continue}ze!=="LineString"&&ze!=="MultiLineString"||(At.length===1?(ze="LineString",At=At[0]):ze="MultiLineString"),ze!=="Point"&&ze!=="MultiPoint"||(ze=At.length===3?"Point":"MultiPoint"),xe.push(Nr(Le.id,ze,At,Le.tags))}}return xe.length?xe:null}function Tn(be,Y,J,re,ce){for(let ge=0;ge<be.length;ge+=3){let we=be[ge+ce];we>=J&&we<=re&&vr(Y,be[ge],be[ge+1],be[ge+2])}}function Ja(be,Y,J,re,ce,ge,we){let Ce=Yr(be),xe=ce===0?co:Yo,Le,Ve,ze=be.start;for(let pt=0;pt<be.length-3;pt+=3){let Ot=be[pt],Fr=be[pt+1],Gn=be[pt+2],Zn=be[pt+3],In=be[pt+4],Yt=ce===0?Ot:Fr,ir=ce===0?Zn:In,On=!1;we&&(Le=Math.sqrt(Math.pow(Ot-Zn,2)+Math.pow(Fr-In,2))),Yt<J?ir>J&&(Ve=xe(Ce,Ot,Fr,Zn,In,J),we&&(Ce.start=ze+Le*Ve)):Yt>re?ir<re&&(Ve=xe(Ce,Ot,Fr,Zn,In,re),we&&(Ce.start=ze+Le*Ve)):vr(Ce,Ot,Fr,Gn),ir<J&&Yt>=J&&(Ve=xe(Ce,Ot,Fr,Zn,In,J),On=!0),ir>re&&Yt<=re&&(Ve=xe(Ce,Ot,Fr,Zn,In,re),On=!0),!ge&&On&&(we&&(Ce.end=ze+Le*Ve),Y.push(Ce),Ce=Yr(be)),we&&(ze+=Le)}let ct=be.length-3,Te=be[ct],At=be[ct+1],Gt=ce===0?Te:At;Gt>=J&&Gt<=re&&vr(Ce,Te,At,be[ct+2]),ct=Ce.length-3,ge&&ct>=3&&(Ce[ct]!==Ce[0]||Ce[ct+1]!==Ce[1])&&vr(Ce,Ce[0],Ce[1],Ce[2]),Ce.length&&Y.push(Ce)}function Yr(be){let Y=[];return Y.size=be.size,Y.start=be.start,Y.end=be.end,Y}function Vr(be,Y,J,re,ce,ge){for(let we of be)Ja(we,Y,J,re,ce,ge,!1)}function vr(be,Y,J,re){be.push(Y,J,re)}function co(be,Y,J,re,ce,ge){let we=(ge-Y)/(re-Y);return vr(be,ge,J+(ce-J)*we,1),we}function Yo(be,Y,J,re,ce,ge){let we=(ge-J)/(ce-J);return vr(be,Y+(re-Y)*we,ge,1),we}function Qa(be,Y){let J=[];for(let re=0;re<be.length;re++){let ce=be[re],ge=ce.type,we;if(ge==="Point"||ge==="MultiPoint"||ge==="LineString")we=Mo(ce.geometry,Y);else if(ge==="MultiLineString"||ge==="Polygon"){we=[];for(let Ce of ce.geometry)we.push(Mo(Ce,Y))}else if(ge==="MultiPolygon"){we=[];for(let Ce of ce.geometry){let xe=[];for(let Le of Ce)xe.push(Mo(Le,Y));we.push(xe)}}J.push(Nr(ce.id,ge,we,ce.tags))}return J}function Mo(be,Y){let J=[];J.size=be.size,be.start!==void 0&&(J.start=be.start,J.end=be.end);for(let re=0;re<be.length;re+=3)J.push(be[re]+Y,be[re+1],be[re+2]);return J}function qo(be,Y){if(be.transformed)return be;let J=1<<be.z,re=be.x,ce=be.y;for(let ge of be.features){let we=ge.geometry,Ce=ge.type;if(ge.geometry=[],Ce===1)for(let xe=0;xe<we.length;xe+=2)ge.geometry.push(es(we[xe],we[xe+1],Y,J,re,ce));else for(let xe=0;xe<we.length;xe++){let Le=[];for(let Ve=0;Ve<we[xe].length;Ve+=2)Le.push(es(we[xe][Ve],we[xe][Ve+1],Y,J,re,ce));ge.geometry.push(Le)}}return be.transformed=!0,be}function es(be,Y,J,re,ce,ge){return[Math.round(J*(be*re-ce)),Math.round(J*(Y*re-ge))]}function Ia(be,Y,J,re,ce){let ge=Y===ce.maxZoom?0:ce.tolerance/((1<<Y)*ce.extent),we={features:[],numPoints:0,numSimplified:0,numFeatures:be.length,source:null,x:J,y:re,z:Y,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ce of be)Ro(we,Ce,ge,ce);return we}function Ro(be,Y,J,re){let ce=Y.geometry,ge=Y.type,we=[];if(be.minX=Math.min(be.minX,Y.minX),be.minY=Math.min(be.minY,Y.minY),be.maxX=Math.max(be.maxX,Y.maxX),be.maxY=Math.max(be.maxY,Y.maxY),ge==="Point"||ge==="MultiPoint")for(let Ce=0;Ce<ce.length;Ce+=3)we.push(ce[Ce],ce[Ce+1]),be.numPoints++,be.numSimplified++;else if(ge==="LineString")ts(we,ce,be,J,!1,!1);else if(ge==="MultiLineString"||ge==="Polygon")for(let Ce=0;Ce<ce.length;Ce++)ts(we,ce[Ce],be,J,ge==="Polygon",Ce===0);else if(ge==="MultiPolygon")for(let Ce=0;Ce<ce.length;Ce++){let xe=ce[Ce];for(let Le=0;Le<xe.length;Le++)ts(we,xe[Le],be,J,!0,Le===0)}if(we.length){let Ce=Y.tags||null;if(ge==="LineString"&&re.lineMetrics){Ce={};for(let Le in Y.tags)Ce[Le]=Y.tags[Le];Ce.mapbox_clip_start=ce.start/ce.size,Ce.mapbox_clip_end=ce.end/ce.size}let xe={geometry:we,type:ge==="Polygon"||ge==="MultiPolygon"?3:ge==="LineString"||ge==="MultiLineString"?2:1,tags:Ce};Y.id!==null&&(xe.id=Y.id),be.features.push(xe)}}function ts(be,Y,J,re,ce,ge){let we=re*re;if(re>0&&Y.size<(ce?we:re))return void(J.numPoints+=Y.length/3);let Ce=[];for(let xe=0;xe<Y.length;xe+=3)(re===0||Y[xe+2]>we)&&(J.numSimplified++,Ce.push(Y[xe],Y[xe+1])),J.numPoints++;ce&&function(xe,Le){let Ve=0;for(let ze=0,ct=xe.length,Te=ct-2;ze<ct;Te=ze,ze+=2)Ve+=(xe[ze]-xe[Te])*(xe[ze+1]+xe[Te+1]);if(Ve>0===Le)for(let ze=0,ct=xe.length;ze<ct/2;ze+=2){let Te=xe[ze],At=xe[ze+1];xe[ze]=xe[ct-2-ze],xe[ze+1]=xe[ct-1-ze],xe[ct-2-ze]=Te,xe[ct-1-ze]=At}}(Ce,ge),be.push(Ce)}let rs={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ns{constructor(Y,J){let re=(J=this.options=function(ge,we){for(let Ce in we)ge[Ce]=we[Ce];return ge}(Object.create(rs),J)).debug;if(re&&console.time("preprocess data"),J.maxZoom<0||J.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(J.promoteId&&J.generateId)throw new Error("promoteId and generateId cannot be used together.");let ce=function(ge,we){let Ce=[];if(ge.type==="FeatureCollection")for(let xe=0;xe<ge.features.length;xe++)Ur(Ce,ge.features[xe],we,xe);else Ur(Ce,ge.type==="Feature"?ge:{geometry:ge},we);return Ce}(Y,J);this.tiles={},this.tileCoords=[],re&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",J.indexMaxZoom,J.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ce=function(ge,we){let Ce=we.buffer/we.extent,xe=ge,Le=Rn(ge,1,-1-Ce,Ce,0,-1,2,we),Ve=Rn(ge,1,1-Ce,2+Ce,0,-1,2,we);return(Le||Ve)&&(xe=Rn(ge,1,-Ce,1+Ce,0,-1,2,we)||[],Le&&(xe=Qa(Le,1).concat(xe)),Ve&&(xe=xe.concat(Qa(Ve,-1)))),xe}(ce,J),ce.length&&this.splitTile(ce,0,0,0),re&&(ce.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Y,J,re,ce,ge,we,Ce){let xe=[Y,J,re,ce],Le=this.options,Ve=Le.debug;for(;xe.length;){ce=xe.pop(),re=xe.pop(),J=xe.pop(),Y=xe.pop();let ze=1<<J,ct=Ca(J,re,ce),Te=this.tiles[ct];if(!Te&&(Ve>1&&console.time("creation"),Te=this.tiles[ct]=Ia(Y,J,re,ce,Le),this.tileCoords.push({z:J,x:re,y:ce}),Ve)){Ve>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",J,re,ce,Te.numFeatures,Te.numPoints,Te.numSimplified),console.timeEnd("creation"));let On=`z${J}`;this.stats[On]=(this.stats[On]||0)+1,this.total++}if(Te.source=Y,ge==null){if(J===Le.indexMaxZoom||Te.numPoints<=Le.indexMaxPoints)continue}else{if(J===Le.maxZoom||J===ge)continue;if(ge!=null){let On=ge-J;if(re!==we>>On||ce!==Ce>>On)continue}}if(Te.source=null,Y.length===0)continue;Ve>1&&console.time("clipping");let At=.5*Le.buffer/Le.extent,Gt=.5-At,pt=.5+At,Ot=1+At,Fr=null,Gn=null,Zn=null,In=null,Yt=Rn(Y,ze,re-At,re+pt,0,Te.minX,Te.maxX,Le),ir=Rn(Y,ze,re+Gt,re+Ot,0,Te.minX,Te.maxX,Le);Y=null,Yt&&(Fr=Rn(Yt,ze,ce-At,ce+pt,1,Te.minY,Te.maxY,Le),Gn=Rn(Yt,ze,ce+Gt,ce+Ot,1,Te.minY,Te.maxY,Le),Yt=null),ir&&(Zn=Rn(ir,ze,ce-At,ce+pt,1,Te.minY,Te.maxY,Le),In=Rn(ir,ze,ce+Gt,ce+Ot,1,Te.minY,Te.maxY,Le),ir=null),Ve>1&&console.timeEnd("clipping"),xe.push(Fr||[],J+1,2*re,2*ce),xe.push(Gn||[],J+1,2*re,2*ce+1),xe.push(Zn||[],J+1,2*re+1,2*ce),xe.push(In||[],J+1,2*re+1,2*ce+1)}}getTile(Y,J,re){Y=+Y,J=+J,re=+re;let ce=this.options,{extent:ge,debug:we}=ce;if(Y<0||Y>24)return null;let Ce=1<<Y,xe=Ca(Y,J=J+Ce&Ce-1,re);if(this.tiles[xe])return qo(this.tiles[xe],ge);we>1&&console.log("drilling down to z%d-%d-%d",Y,J,re);let Le,Ve=Y,ze=J,ct=re;for(;!Le&&Ve>0;)Ve--,ze>>=1,ct>>=1,Le=this.tiles[Ca(Ve,ze,ct)];return Le&&Le.source?(we>1&&(console.log("found parent tile z%d-%d-%d",Ve,ze,ct),console.time("drilling down")),this.splitTile(Le.source,Ve,ze,ct,Y,J,re),we>1&&console.timeEnd("drilling down"),this.tiles[xe]?qo(this.tiles[xe],ge):null):null}}function Ca(be,Y,J){return 32*((1<<be)*J+Y)+be}class Pa extends E{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(Y,J){return o._(this,void 0,void 0,function*(){let re=Y.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let ce=this._geoJSONIndex.getTile(re.z,re.x,re.y);if(!ce)return null;let ge=new G(ce.features,{version:2,extent:o.$}),we=function(Ce){let xe=new o.cM;return function(Le,Ve){for(let ze in Le.layers)Ve.writeMessage(3,H,Le.layers[ze])}(Ce,xe),xe.finish()}(ge);return we.byteOffset===0&&we.byteLength===we.buffer.byteLength||(we=new Uint8Array(we)),{vectorTile:ge,rawData:we.buffer}})}loadData(Y){return o._(this,void 0,void 0,function*(){var J;(J=this._pendingRequest)===null||J===void 0||J.abort();let re=!!(Y&&Y.request&&Y.request.collectResourceTiming)&&new o.cN(Y.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(Y,this._pendingRequest);let ce=yield this._pendingData;this._geoJSONIndex=Y.cluster?new tr(function({superclusterOptions:we,clusterProperties:Ce}){if(!Ce||!we)return we;let xe={},Le={},Ve={accumulated:null,zoom:0},ze={properties:null},ct=Object.keys(Ce);for(let Te of ct){let[At,Gt]=Ce[Te],pt=o.cT(Gt),Ot=o.cT(typeof At=="string"?[At,["accumulated"],["get",Te]]:At);xe[Te]=pt.value,Le[Te]=Ot.value}return we.map=Te=>{ze.properties=Te;let At={};for(let Gt of ct)At[Gt]=xe[Gt].evaluate(Ve,ze);return At},we.reduce=(Te,At)=>{ze.properties=At;for(let Gt of ct)Ve.accumulated=Te[Gt],Te[Gt]=Le[Gt].evaluate(Ve,ze)},we}(Y)).load(ce.features):function(we,Ce){return new ns(we,Ce)}(ce,Y.geojsonVtOptions),this.loaded={};let ge={data:ce};if(re){let we=re.finish();we&&(ge.resourceTiming={},ge.resourceTiming[Y.source]=JSON.parse(JSON.stringify(we)))}return ge}catch(ce){if(delete this._pendingRequest,o.cy(ce))return{abandoned:!0};throw ce}})}getData(){return o._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(Y){let J=this.loaded;return J&&J[Y.uid]?super.reloadTile(Y):this.loadTile(Y)}loadAndProcessGeoJSON(Y,J){return o._(this,void 0,void 0,function*(){let re=yield this.loadGeoJSON(Y,J);if(delete this._pendingRequest,typeof re!="object")throw new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`);if($(re,!0),Y.filter){let ce=o.cT(Y.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ce.result==="error")throw new Error(ce.value.map(we=>`${we.key}: ${we.message}`).join(", "));re={type:"FeatureCollection",features:re.features.filter(we=>ce.value.evaluate({zoom:0},we))}}return re})}loadGeoJSON(Y,J){return o._(this,void 0,void 0,function*(){let{promoteId:re}=Y;if(Y.request){let ce=yield o.j(Y.request,J);return this._dataUpdateable=o.cV(ce.data,re)?o.cU(ce.data,re):void 0,ce.data}if(typeof Y.data=="string")try{let ce=JSON.parse(Y.data);return this._dataUpdateable=o.cV(ce,re)?o.cU(ce,re):void 0,ce}catch(ce){throw new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`)}if(!Y.dataDiff)throw new Error(`Input data given to '${Y.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Y.source}`);return o.cW(this._dataUpdateable,Y.dataDiff,re),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(Y){return o._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(Y){return this._geoJSONIndex.getClusterExpansionZoom(Y.clusterId)}getClusterChildren(Y){return this._geoJSONIndex.getChildren(Y.clusterId)}getClusterLeaves(Y){return this._geoJSONIndex.getLeaves(Y.clusterId,Y.limit,Y.offset)}}class vl{constructor(Y){this.self=Y,this.actor=new o.J(Y),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(J,re)=>{if(this.externalWorkerSourceTypes[J])throw new Error(`Worker source with name "${J}" already registered.`);this.externalWorkerSourceTypes[J]=re},this.self.addProtocol=o.cA,this.self.removeProtocol=o.cB,this.self.registerRTLTextPlugin=J=>{o.cX.setMethods(J)},this.actor.registerMessageHandler("LDT",(J,re)=>this._getDEMWorkerSource(J,re.source).loadTile(re)),this.actor.registerMessageHandler("RDT",(J,re)=>o._(this,void 0,void 0,function*(){this._getDEMWorkerSource(J,re.source).removeTile(re)})),this.actor.registerMessageHandler("GCEZ",(J,re)=>o._(this,void 0,void 0,function*(){return this._getWorkerSource(J,re.type,re.source).getClusterExpansionZoom(re)})),this.actor.registerMessageHandler("GCC",(J,re)=>o._(this,void 0,void 0,function*(){return this._getWorkerSource(J,re.type,re.source).getClusterChildren(re)})),this.actor.registerMessageHandler("GCL",(J,re)=>o._(this,void 0,void 0,function*(){return this._getWorkerSource(J,re.type,re.source).getClusterLeaves(re)})),this.actor.registerMessageHandler("LD",(J,re)=>this._getWorkerSource(J,re.type,re.source).loadData(re)),this.actor.registerMessageHandler("GD",(J,re)=>this._getWorkerSource(J,re.type,re.source).getData()),this.actor.registerMessageHandler("LT",(J,re)=>this._getWorkerSource(J,re.type,re.source).loadTile(re)),this.actor.registerMessageHandler("RT",(J,re)=>this._getWorkerSource(J,re.type,re.source).reloadTile(re)),this.actor.registerMessageHandler("AT",(J,re)=>this._getWorkerSource(J,re.type,re.source).abortTile(re)),this.actor.registerMessageHandler("RMT",(J,re)=>this._getWorkerSource(J,re.type,re.source).removeTile(re)),this.actor.registerMessageHandler("RS",(J,re)=>o._(this,void 0,void 0,function*(){if(!this.workerSources[J]||!this.workerSources[J][re.type]||!this.workerSources[J][re.type][re.source])return;let ce=this.workerSources[J][re.type][re.source];delete this.workerSources[J][re.type][re.source],ce.removeSource!==void 0&&ce.removeSource(re)})),this.actor.registerMessageHandler("RM",J=>o._(this,void 0,void 0,function*(){delete this.layerIndexes[J],delete this.availableImages[J],delete this.workerSources[J],delete this.demWorkerSources[J]})),this.actor.registerMessageHandler("SR",(J,re)=>o._(this,void 0,void 0,function*(){this.referrer=re})),this.actor.registerMessageHandler("SRPS",(J,re)=>this._syncRTLPluginState(J,re)),this.actor.registerMessageHandler("IS",(J,re)=>o._(this,void 0,void 0,function*(){this.self.importScripts(re)})),this.actor.registerMessageHandler("SI",(J,re)=>this._setImages(J,re)),this.actor.registerMessageHandler("UL",(J,re)=>o._(this,void 0,void 0,function*(){this._getLayerIndex(J).update(re.layers,re.removedIds)})),this.actor.registerMessageHandler("SL",(J,re)=>o._(this,void 0,void 0,function*(){this._getLayerIndex(J).replace(re)}))}_setImages(Y,J){return o._(this,void 0,void 0,function*(){this.availableImages[Y]=J;for(let re in this.workerSources[Y]){let ce=this.workerSources[Y][re];for(let ge in ce)ce[ge].availableImages=J}})}_syncRTLPluginState(Y,J){return o._(this,void 0,void 0,function*(){return yield o.cX.syncState(J,this.self.importScripts)})}_getAvailableImages(Y){let J=this.availableImages[Y];return J||(J=[]),J}_getLayerIndex(Y){let J=this.layerIndexes[Y];return J||(J=this.layerIndexes[Y]=new i),J}_getWorkerSource(Y,J,re){if(this.workerSources[Y]||(this.workerSources[Y]={}),this.workerSources[Y][J]||(this.workerSources[Y][J]={}),!this.workerSources[Y][J][re]){let ce={sendAsync:(ge,we)=>(ge.targetMapId=Y,this.actor.sendAsync(ge,we))};switch(J){case"vector":this.workerSources[Y][J][re]=new E(ce,this._getLayerIndex(Y),this._getAvailableImages(Y));break;case"geojson":this.workerSources[Y][J][re]=new Pa(ce,this._getLayerIndex(Y),this._getAvailableImages(Y));break;default:this.workerSources[Y][J][re]=new this.externalWorkerSourceTypes[J](ce,this._getLayerIndex(Y),this._getAvailableImages(Y))}}return this.workerSources[Y][J][re]}_getDEMWorkerSource(Y,J){return this.demWorkerSources[Y]||(this.demWorkerSources[Y]={}),this.demWorkerSources[Y][J]||(this.demWorkerSources[Y][J]=new C),this.demWorkerSources[Y][J]}}return o.i(self)&&(self.worker=new vl(self)),vl}),r("index",["exports","./shared"],function(o,i){"use strict";var f="5.7.1";function g(){var y=new i.A(4);return i.A!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}let w,E,C={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(y,a,c){let d=requestAnimationFrame(_=>{v(),a(_)}),{unsubscribe:v}=i.s(y.signal,"abort",()=>{v(),cancelAnimationFrame(d),c(i.c())},!1)},frameAsync(y){return new Promise((a,c)=>{this.frame(y,a,c)})},getImageData(y,a=0){return this.getImageCanvasContext(y).getImageData(-a,-a,y.width+2*a,y.height+2*a)},getImageCanvasContext(y){let a=window.document.createElement("canvas"),c=a.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return a.width=y.width,a.height=y.height,c.drawImage(y,0,0,y.width,y.height),c},resolveURL:y=>(w||(w=document.createElement("a")),w.href=y,w.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(E==null&&(E=matchMedia("(prefers-reduced-motion: reduce)")),E.matches)}};class q{static testProp(a){if(!q.docStyle)return a[0];for(let c=0;c<a.length;c++)if(a[c]in q.docStyle)return a[c];return a[0]}static create(a,c,d){let v=window.document.createElement(a);return c!==void 0&&(v.className=c),d&&d.appendChild(v),v}static createNS(a,c){return window.document.createElementNS(a,c)}static disableDrag(){q.docStyle&&q.selectProp&&(q.userSelect=q.docStyle[q.selectProp],q.docStyle[q.selectProp]="none")}static enableDrag(){q.docStyle&&q.selectProp&&(q.docStyle[q.selectProp]=q.userSelect)}static setTransform(a,c){a.style[q.transformProp]=c}static addEventListener(a,c,d,v={}){a.addEventListener(c,d,"passive"in v?v:v.capture)}static removeEventListener(a,c,d,v={}){a.removeEventListener(c,d,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",q.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",q.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",q.suppressClickInternal,!0)},0)}static getScale(a){let c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}static getPoint(a,c,d){let v=c.boundingClientRect;return new i.P((d.clientX-v.left)/c.x-a.clientLeft,(d.clientY-v.top)/c.y-a.clientTop)}static mousePos(a,c){let d=q.getScale(a);return q.getPoint(a,d,c)}static touchPos(a,c){let d=[],v=q.getScale(a);for(let _=0;_<c.length;_++)d.push(q.getPoint(a,v,c[_]));return d}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}static sanitize(a){let c=new DOMParser().parseFromString(a,"text/html").body||document.createElement("body"),d=c.querySelectorAll("script");for(let v of d)v.remove();return q.clean(c),c.innerHTML}static isPossiblyDangerous(a,c){let d=c.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(a)||!d.includes("javascript:")&&!d.includes("data:"))||!!a.startsWith("on")||void 0}static clean(a){let c=a.children;for(let d of c)q.removeAttributes(d),q.clean(d)}static removeAttributes(a){for(let{name:c,value:d}of a.attributes)q.isPossiblyDangerous(c,d)&&a.removeAttribute(c)}}q.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,q.selectProp=q.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),q.transformProp=q.testProp(["transform","WebkitTransform"]);let L={supported:!1,testSupport:function(y){!ee&&$&&(G?H(y):B=y)}},B,$,ee=!1,G=!1;function H(y){let a=y.createTexture();y.bindTexture(y.TEXTURE_2D,a);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,$),y.isContextLost())return;L.supported=!0}catch(c){}y.deleteTexture(a),ee=!0}var Q;typeof document!="undefined"&&($=document.createElement("img"),$.onload=()=>{B&&H(B),B=null,G=!0},$.onerror=()=>{ee=!0,B=null},$.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let a,c,d,v;y.resetRequestQueue=()=>{a=[],c=0,d=0,v={}},y.addThrottleControl=R=>{let k=d++;return v[k]=R,k},y.removeThrottleControl=R=>{delete v[R],T()},y.getImage=(R,k,N=!0)=>new Promise((j,z)=>{L.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),i.e(R,{type:"image"}),a.push({abortController:k,requestParameters:R,supportImageRefresh:N,state:"queued",onError:V=>{z(V)},onSuccess:V=>{j(V)}}),T()});let _=R=>i._(this,void 0,void 0,function*(){R.state="running";let{requestParameters:k,supportImageRefresh:N,onError:j,onSuccess:z,abortController:V}=R,K=N===!1&&!i.i(self)&&!i.g(k.url)&&(!k.headers||Object.keys(k.headers).reduce((ae,ue)=>ae&&ue==="accept",!0));c++;let oe=K?M(k,V):i.m(k,V);try{let ae=yield oe;delete R.abortController,R.state="completed",ae.data instanceof HTMLImageElement||i.b(ae.data)?z(ae):ae.data&&z({data:yield(ie=ae.data,typeof createImageBitmap=="function"?i.f(ie):i.h(ie)),cacheControl:ae.cacheControl,expires:ae.expires})}catch(ae){delete R.abortController,j(ae)}finally{c--,T()}var ie}),T=()=>{let R=(()=>{for(let k of Object.keys(v))if(v[k]())return!0;return!1})()?i.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:i.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let k=c;k<R&&a.length>0;k++){let N=a.shift();N.abortController.signal.aborted?k--:_(N)}},M=(R,k)=>new Promise((N,j)=>{let z=new Image,V=R.url,K=R.credentials;K&&K==="include"?z.crossOrigin="use-credentials":(K&&K==="same-origin"||!i.d(V))&&(z.crossOrigin="anonymous"),k.signal.addEventListener("abort",()=>{z.src="",j(i.c())}),z.fetchPriority="high",z.onload=()=>{z.onerror=z.onload=null,N({data:z})},z.onerror=()=>{z.onerror=z.onload=null,k.signal.aborted||j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},z.src=V})}(Q||(Q={})),Q.resetRequestQueue();class se{constructor(a){this._transformRequestFn=a!=null?a:null}transformRequest(a,c){return this._transformRequestFn&&this._transformRequestFn(a,c)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function de(y){let a=[];if(typeof y=="string")a.push({id:"default",url:y});else if(y&&y.length>0){let c=[];for(let{id:d,url:v}of y){let _=`${d}${v}`;c.indexOf(_)===-1&&(c.push(_),a.push({id:d,url:v}))}}return a}function De(y,a,c){try{let d=new URL(y);return d.pathname+=`${a}${c}`,d.toString()}catch(d){throw new Error(`Invalid sprite URL "${y}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function Ne(y){let{userImage:a}=y;return!!(a&&a.render&&a.render())&&(y.data.replace(new Uint8Array(a.data.buffer)),!0)}class ke extends i.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:c,promiseResolve:d}of this.requestors)d(this._getImagesForIds(c));this.requestors=[]}}getImage(a){let c=this.images[a];if(c&&!c.data&&c.spriteData){let d=c.spriteData;c.data=new i.R({width:d.width,height:d.height},d.context.getImageData(d.x,d.y,d.width,d.height).data),c.spriteData=null}return c}addImage(a,c){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,c)&&(this.images[a]=c)}_validate(a,c){let d=!0,v=c.data||c.spriteData;return this._validateStretch(c.stretchX,v&&v.width)||(this.fire(new i.k(new Error(`Image "${a}" has invalid "stretchX" value`))),d=!1),this._validateStretch(c.stretchY,v&&v.height)||(this.fire(new i.k(new Error(`Image "${a}" has invalid "stretchY" value`))),d=!1),this._validateContent(c.content,c)||(this.fire(new i.k(new Error(`Image "${a}" has invalid "content" value`))),d=!1),d}_validateStretch(a,c){if(!a)return!0;let d=0;for(let v of a){if(v[0]<d||v[1]<v[0]||c<v[1])return!1;d=v[1]}return!0}_validateContent(a,c){if(!a)return!0;if(a.length!==4)return!1;let d=c.spriteData,v=d&&d.width||c.data.width,_=d&&d.height||c.data.height;return!(a[0]<0||v<a[0]||a[1]<0||_<a[1]||a[2]<0||v<a[2]||a[3]<0||_<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,c,d=!0){let v=this.getImage(a);if(d&&(v.data.width!==c.data.width||v.data.height!==c.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${c.data.width}x${c.data.height}).`);c.version=v.version+1,this.images[a]=c,this.updatedImages[a]=!0}removeImage(a){let c=this.images[a];delete this.images[a],delete this.patterns[a],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((c,d)=>{let v=!0;if(!this.isLoaded())for(let _ of a)this.images[_]||(v=!1);this.isLoaded()||v?c(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:c})})}_getImagesForIds(a){let c={};for(let d of a){let v=this.getImage(d);v||(this.fire(new i.l("styleimagemissing",{id:d})),v=this.getImage(d)),v?c[d]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:i.w(`Image "${d}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return c}getPixelSize(){let{width:a,height:c}=this.atlasImage;return{width:a,height:c}}getPattern(a){let c=this.patterns[a],d=this.getImage(a);if(!d)return null;if(c&&c.position.version===d.version)return c.position;if(c)c.position.version=d.version;else{let v={w:d.data.width+2,h:d.data.height+2,x:0,y:0},_=new i.I(v,d);this.patterns[a]={bin:v,position:_}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let c=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.T(a,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let _ in this.patterns)a.push(this.patterns[_].bin);let{w:c,h:d}=i.p(a),v=this.atlasImage;v.resize({width:c||1,height:d||1});for(let _ in this.patterns){let{bin:T}=this.patterns[_],M=T.x+1,R=T.y+1,k=this.getImage(_).data,N=k.width,j=k.height;i.R.copy(k,v,{x:0,y:0},{x:M,y:R},{width:N,height:j}),i.R.copy(k,v,{x:0,y:j-1},{x:M,y:R-1},{width:N,height:1}),i.R.copy(k,v,{x:0,y:0},{x:M,y:R+j},{width:N,height:1}),i.R.copy(k,v,{x:N-1,y:0},{x:M-1,y:R},{width:1,height:j}),i.R.copy(k,v,{x:0,y:0},{x:M+N,y:R},{width:1,height:j})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let c of a){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;let d=this.getImage(c);d||i.w(`Image with ID: "${c}" was not found`),Ne(d)&&this.updateImage(c,d)}}}let Ge=1e20;function rt(y,a,c,d,v,_,T,M,R){for(let k=a;k<a+d;k++)Mt(y,c*_+k,_,v,T,M,R);for(let k=c;k<c+v;k++)Mt(y,k*_+a,1,d,T,M,R)}function Mt(y,a,c,d,v,_,T){_[0]=0,T[0]=-Ge,T[1]=Ge,v[0]=y[a];for(let M=1,R=0,k=0;M<d;M++){v[M]=y[a+M*c];let N=M*M;do{let j=_[R];k=(v[M]-v[j]+N-j*j)/(M-j)/2}while(k<=T[R]&&--R>-1);R++,_[R]=M,T[R]=k,T[R+1]=Ge}for(let M=0,R=0;M<d;M++){for(;T[R+1]<M;)R++;let k=_[R],N=M-k;y[a+M*c]=v[k]+N*N}}class tr{constructor(a,c,d){this.requestManager=a,this.localIdeographFontFamily=c,this.entries={},this.lang=d}setURL(a){this.url=a}getGlyphs(a){return i._(this,void 0,void 0,function*(){let c=[];for(let _ in a)for(let T of a[_])c.push(this._getAndCacheGlyphsPromise(_,T));let d=yield Promise.all(c),v={};for(let{stack:_,id:T,glyph:M}of d)v[_]||(v[_]={}),v[_][T]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics};return v})}_getAndCacheGlyphsPromise(a,c){return i._(this,void 0,void 0,function*(){let d=this.entries[a];d||(d=this.entries[a]={glyphs:{},requests:{},ranges:{}});let v=d.glyphs[c];if(v!==void 0)return{stack:a,id:c,glyph:v};if(v=this._tinySDF(d,a,c),v)return d.glyphs[c]=v,{stack:a,id:c,glyph:v};let _=Math.floor(c/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(d.ranges[_])return{stack:a,id:c,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!d.requests[_]){let M=tr.loadGlyphRange(a,_,this.url,this.requestManager);d.requests[_]=M}let T=yield d.requests[_];for(let M in T)this._doesCharSupportLocalGlyph(+M)||(d.glyphs[+M]=T[+M]);return d.ranges[_]=!0,{stack:a,id:c,glyph:T[c]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))||i.u["CJK Unified Ideographs"](a)||i.u["Hangul Syllables"](a)||i.u.Hiragana(a)||i.u.Katakana(a)||i.u["CJK Symbols and Punctuation"](a)||i.u["Halfwidth and Fullwidth Forms"](a))}_tinySDF(a,c,d){let v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(d))return;let _=a.tinySDF;if(!_){let M="400";/bold/i.test(c)?M="900":/medium/i.test(c)?M="500":/light/i.test(c)&&(M="200"),_=a.tinySDF=new tr.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:v,fontWeight:M})}let T=_.draw(String.fromCharCode(d));return{id:d,bitmap:new i.q({width:T.width||60,height:T.height||60},T.data),metrics:{width:T.glyphWidth/2||24,height:T.glyphHeight/2||24,left:T.glyphLeft/2+.5||0,top:T.glyphTop/2-27.5||-8,advance:T.glyphAdvance/2||24,isDoubleResolution:!0}}}}tr.loadGlyphRange=function(y,a,c,d){return i._(this,void 0,void 0,function*(){let v=256*a,_=v+255,T=d.transformRequest(c.replace("{fontstack}",y).replace("{range}",`${v}-${_}`),"Glyphs"),M=yield i.n(T,new AbortController);if(!M||!M.data)throw new Error(`Could not load glyph range. range: ${a}, ${v}-${_}`);let R={};for(let k of i.o(M.data))R[k.id]=k;return R})},tr.TinySDF=class{constructor({fontSize:y=24,buffer:a=3,radius:c=8,cutoff:d=.25,fontFamily:v="sans-serif",fontWeight:_="normal",fontStyle:T="normal",lang:M=null}={}){this.buffer=a,this.cutoff=d,this.radius=c,this.lang=M;let R=this.size=y+4*a,k=this._createCanvas(R),N=this.ctx=k.getContext("2d",{willReadFrequently:!0});N.font=`${T} ${_} ${y}px ${v}`,N.textBaseline="alphabetic",N.textAlign="left",N.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(y){let a=document.createElement("canvas");return a.width=a.height=y,a}draw(y){let{width:a,actualBoundingBoxAscent:c,actualBoundingBoxDescent:d,actualBoundingBoxLeft:v,actualBoundingBoxRight:_}=this.ctx.measureText(y),T=Math.ceil(c),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-v))),R=Math.min(this.size-this.buffer,T+Math.ceil(d)),k=M+2*this.buffer,N=R+2*this.buffer,j=Math.max(k*N,0),z=new Uint8ClampedArray(j),V={data:z,width:k,height:N,glyphWidth:M,glyphHeight:R,glyphTop:T,glyphLeft:0,glyphAdvance:a};if(M===0||R===0)return V;let{ctx:K,buffer:oe,gridInner:ie,gridOuter:ae}=this;this.lang&&(K.lang=this.lang),K.clearRect(oe,oe,M,R),K.fillText(y,oe,oe+T);let ue=K.getImageData(oe,oe,M,R);ae.fill(Ge,0,j),ie.fill(0,0,j);for(let pe=0;pe<R;pe++)for(let he=0;he<M;he++){let ve=ue.data[4*(pe*M+he)+3]/255;if(ve===0)continue;let _e=(pe+oe)*k+he+oe;if(ve===1)ae[_e]=0,ie[_e]=Ge;else{let fe=.5-ve;ae[_e]=fe>0?fe*fe:0,ie[_e]=fe<0?fe*fe:0}}rt(ae,0,0,k,N,k,this.f,this.v,this.z),rt(ie,oe,oe,M,R,k,this.f,this.v,this.z);for(let pe=0;pe<j;pe++){let he=Math.sqrt(ae[pe])-Math.sqrt(ie[pe]);z[pe]=Math.round(255-255*(he/this.radius+this.cutoff))}return V}};class Mr{constructor(){this.specification=i.v.light.position}possiblyEvaluate(a,c){return i.B(a.expression.evaluate(c))}interpolate(a,c,d){return{x:i.C.number(a.x,c.x,d),y:i.C.number(a.y,c.y,d),z:i.C.number(a.z,c.z,d)}}}let kr;class qr extends i.E{constructor(a){super(),kr=kr||new i.r({anchor:new i.D(i.v.light.anchor),position:new Mr,color:new i.D(i.v.light.color),intensity:new i.D(i.v.light.intensity)}),this._transitionable=new i.t(kr),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,c={}){if(!this._validate(i.x,a,c))for(let d in a){let v=a[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),v):this._transitionable.setValue(d,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,c,d){return(!d||d.validate!==!1)&&i.y(this,a.call(i.z,{value:c,style:{glyphs:!0,sprite:!0},styleSpec:i.v}))}}let dr=new i.r({"sky-color":new i.D(i.v.sky["sky-color"]),"horizon-color":new i.D(i.v.sky["horizon-color"]),"fog-color":new i.D(i.v.sky["fog-color"]),"fog-ground-blend":new i.D(i.v.sky["fog-ground-blend"]),"horizon-fog-blend":new i.D(i.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new i.D(i.v.sky["sky-horizon-blend"]),"atmosphere-blend":new i.D(i.v.sky["atmosphere-blend"])});class Ut extends i.E{constructor(a){super(),this._transitionable=new i.t(dr),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new i.F(0))}setSky(a,c={}){if(!this._validate(i.G,a,c)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let d in a){let v=a[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),v):this._transitionable.setValue(d,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,c,d={}){return(d==null?void 0:d.validate)!==!1&&i.y(this,a.call(i.z,i.e({value:c,style:{glyphs:!0,sprite:!0},styleSpec:i.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class _t{constructor(a,c){this.width=a,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,c){let d=a.join(",")+String(c);return this.dashEntry[d]||(this.dashEntry[d]=this.addDash(a,c)),this.dashEntry[d]}getDashRanges(a,c,d){let v=[],_=a.length%2==1?-a[a.length-1]*d:0,T=a[0]*d,M=!0;v.push({left:_,right:T,isDash:M,zeroLength:a[0]===0});let R=a[0];for(let k=1;k<a.length;k++){M=!M;let N=a[k];_=R*d,R+=N,T=R*d,v.push({left:_,right:T,isDash:M,zeroLength:N===0})}return v}addRoundDash(a,c,d){let v=c/2;for(let _=-d;_<=d;_++){let T=this.width*(this.nextRow+d+_),M=0,R=a[M];for(let k=0;k<this.width;k++){k/R.right>1&&(R=a[++M]);let N=Math.abs(k-R.left),j=Math.abs(k-R.right),z=Math.min(N,j),V,K=_/d*(v+1);if(R.isDash){let oe=v-Math.abs(K);V=Math.sqrt(z*z+oe*oe)}else V=v-Math.sqrt(z*z+K*K);this.data[T+k]=Math.max(0,Math.min(255,V+128))}}}addRegularDash(a){for(let M=a.length-1;M>=0;--M){let R=a[M],k=a[M+1];R.zeroLength?a.splice(M,1):k&&k.isDash===R.isDash&&(k.left=R.left,a.splice(M,1))}let c=a[0],d=a[a.length-1];c.isDash===d.isDash&&(c.left=d.left-this.width,d.right=c.right+this.width);let v=this.width*this.nextRow,_=0,T=a[_];for(let M=0;M<this.width;M++){M/T.right>1&&(T=a[++_]);let R=Math.abs(M-T.left),k=Math.abs(M-T.right),N=Math.min(R,k);this.data[v+M]=Math.max(0,Math.min(255,(T.isDash?N:-N)+128))}}addDash(a,c){let d=c?7:0,v=2*d+1;if(this.nextRow+v>this.height)return i.w("LineAtlas out of space"),null;let _=0;for(let M=0;M<a.length;M++)_+=a[M];if(_!==0){let M=this.width/_,R=this.getDashRanges(a,this.width,M);c?this.addRoundDash(R,M,d):this.addRegularDash(R)}let T={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:_};return this.nextRow+=v,this.dirty=!0,T}bind(a){let c=a.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}let Bt="maplibre_preloaded_worker_pool";class Nr{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Nr.workerCount;)this.workers.push(new Worker(i.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Bt]}numActive(){return Object.keys(this.active).length}}let qn=Math.floor(C.hardwareConcurrency/2),Ur,pn;function Jn(){return Ur||(Ur=new Nr),Ur}Nr.workerCount=i.H(globalThis)?Math.max(Math.min(qn,3),1):1;class wr{constructor(a,c){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=c;let d=this.workerPool.acquire(c);for(let v=0;v<d.length;v++){let _=new i.J(d[v],c);_.name=`Worker ${v}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,c){let d=[];for(let v of this.actors)d.push(v.sendAsync({type:a,data:c}));return Promise.all(d)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(c=>{c.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,c){for(let d of this.actors)d.registerMessageHandler(a,c)}}function rr(){return pn||(pn=new wr(Jn(),i.K),pn.registerMessageHandler("GR",(y,a,c)=>i.m(a,c))),pn}function dn(y,a){let c=i.L();return i.M(c,c,[1,1,0]),i.N(c,c,[.5*y.width,.5*y.height,1]),y.calculatePosMatrix?i.O(c,c,y.calculatePosMatrix(a.toUnwrapped())):c}function Rn(y,a,c,d,v,_,T){var M;let R=function(z,V,K){if(z)for(let oe of z){let ie=V[oe];if(ie&&ie.source===K&&ie.type==="fill-extrusion")return!0}else for(let oe in V){let ie=V[oe];if(ie.source===K&&ie.type==="fill-extrusion")return!0}return!1}((M=v==null?void 0:v.layers)!==null&&M!==void 0?M:null,a,y.id),k=_.maxPitchScaleFactor(),N=y.tilesIn(d,k,R);N.sort(Tn);let j=[];for(let z of N)j.push({wrappedTileID:z.tileID.wrapped().key,queryResults:z.tile.queryRenderedFeatures(a,c,y._state,z.queryGeometry,z.cameraQueryGeometry,z.scale,v,_,k,dn(y.transform,z.tileID),T?(V,K)=>T(z.tileID,V,K):void 0)});return function(z,V){for(let K in z)for(let oe of z[K])Ja(oe,V);return z}(function(z){let V={},K={};for(let oe of z){let ie=oe.queryResults,ae=oe.wrappedTileID,ue=K[ae]=K[ae]||{};for(let pe in ie){let he=ie[pe],ve=ue[pe]=ue[pe]||{},_e=V[pe]=V[pe]||[];for(let fe of he)ve[fe.featureIndex]||(ve[fe.featureIndex]=!0,_e.push(fe))}}return V}(j),y)}function Tn(y,a){let c=y.tileID,d=a.tileID;return c.overscaledZ-d.overscaledZ||c.canonical.y-d.canonical.y||c.wrap-d.wrap||c.canonical.x-d.canonical.x}function Ja(y,a){let c=y.feature,d=a.getFeatureState(c.layer["source-layer"],c.id);c.source=c.layer.source,c.layer["source-layer"]&&(c.sourceLayer=c.layer["source-layer"]),c.state=d}function Yr(y,a,c){return i._(this,void 0,void 0,function*(){let d=y;if(y.url?d=(yield i.j(a.transformRequest(y.url,"Source"),c)).data:yield C.frameAsync(c),!d)return null;let v=i.Q(i.e(d,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in d&&d.vector_layers&&(v.vectorLayerIds=d.vector_layers.map(_=>_.id)),v})}class Vr{constructor(a,c){a&&(c?this.setSouthWest(a).setNorthEast(c):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof i.S?new i.S(a.lng,a.lat):i.S.convert(a),this}setSouthWest(a){return this._sw=a instanceof i.S?new i.S(a.lng,a.lat):i.S.convert(a),this}extend(a){let c=this._sw,d=this._ne,v,_;if(a instanceof i.S)v=a,_=a;else{if(!(a instanceof Vr))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(Vr.convert(a)):this.extend(i.S.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(i.S.convert(a)):this;if(v=a._sw,_=a._ne,!v||!_)return this}return c||d?(c.lng=Math.min(v.lng,c.lng),c.lat=Math.min(v.lat,c.lat),d.lng=Math.max(_.lng,d.lng),d.lat=Math.max(_.lat,d.lat)):(this._sw=new i.S(v.lng,v.lat),this._ne=new i.S(_.lng,_.lat)),this}getCenter(){return new i.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new i.S(this.getWest(),this.getNorth())}getSouthEast(){return new i.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:c,lat:d}=i.S.convert(a),v=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&v}static convert(a){return a instanceof Vr?a:a&&new Vr(a)}static fromLngLat(a,c=0){let d=360*c/40075017,v=d/Math.cos(Math.PI/180*a.lat);return new Vr(new i.S(a.lng-v,a.lat-d),new i.S(a.lng+v,a.lat+d))}adjustAntiMeridian(){let a=new i.S(this._sw.lng,this._sw.lat),c=new i.S(this._ne.lng,this._ne.lat);return new Vr(a,a.lng>c.lng?new i.S(c.lng+360,c.lat):c)}}class vr{constructor(a,c,d){this.bounds=Vr.convert(this.validateBounds(a)),this.minzoom=c||0,this.maxzoom=d||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let c=Math.pow(2,a.z),d=Math.floor(i.V(this.bounds.getWest())*c),v=Math.floor(i.U(this.bounds.getNorth())*c),_=Math.ceil(i.V(this.bounds.getEast())*c),T=Math.ceil(i.U(this.bounds.getSouth())*c);return a.x>=d&&a.x<_&&a.y>=v&&a.y<T}}class co extends i.E{constructor(a,c,d,v){if(super(),this.id=a,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.e(this,i.Q(c,["url","scheme","tileSize","promoteId"])),this._options=i.e({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return i._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Yr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(i.e(this,a),a.bounds&&(this.tileBounds=new vr(a.bounds,this.minzoom,this.maxzoom)),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.l("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new i.k(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return i.e({},this._options)}loadTile(a){return i._(this,void 0,void 0,function*(){let c=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d={request:this.map._requestManager.transformRequest(c,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};d.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((_,T)=>{a.reloadPromise={resolve:_,reject:T}})}else a.actor=this.dispatcher.getActor(),v="LT";a.abortController=new AbortController;try{let _=yield a.actor.sendAsync({type:v,data:d},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,_)}catch(_){if(delete a.abortController,a.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,c){if(c&&c.resourceTiming&&(a.resourceTiming=c.resourceTiming),c&&this.map._refreshExpiredTiles&&a.setExpiryData(c),a.loadVectorData(c,this.map.painter),a.reloadPromise){let d=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(d.resolve).catch(d.reject)}}abortTile(a){return i._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return i._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Yo extends i.E{constructor(a,c,d,v){super(),this.id=a,this.dispatcher=d,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.e({type:"raster"},c),i.e(this,i.Q(c,["url","scheme","tileSize"]))}load(){return i._(this,arguments,void 0,function*(a=!1){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let c=yield Yr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,c&&(i.e(this,c),c.bounds&&(this.tileBounds=new vr(c.bounds,this.minzoom,this.maxzoom)),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:a})))}catch(c){this._tileJSONRequest=null,this.fire(new i.k(c))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load(!0)}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return i.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return i._(this,void 0,void 0,function*(){let c=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let d=yield Q.getImage(this.map._requestManager.transformRequest(c,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(d&&d.data){this.map._refreshExpiredTiles&&(d.cacheControl||d.expires)&&a.setExpiryData({cacheControl:d.cacheControl,expires:d.expires});let v=this.map.painter.context,_=v.gl,T=d.data;a.texture=this.map.painter.getTileTexture(T.width),a.texture?a.texture.update(T,{useMipmap:!0}):(a.texture=new i.T(v,T,_.RGBA,{useMipmap:!0}),a.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(d){if(delete a.abortController,a.aborted)a.state="unloaded";else if(d)throw a.state="errored",d}})}abortTile(a){return i._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return i._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Qa extends Yo{constructor(a,c,d,v){super(a,c,d,v),this.type="raster-dem",this.maxzoom=22,this._options=i.e({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox",this.redFactor=c.redFactor,this.greenFactor=c.greenFactor,this.blueFactor=c.blueFactor,this.baseShift=c.baseShift}loadTile(a){return i._(this,void 0,void 0,function*(){let c=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d=this.map._requestManager.transformRequest(c,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let v=yield Q.getImage(d,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(v&&v.data){let _=v.data;this.map._refreshExpiredTiles&&(v.cacheControl||v.expires)&&a.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});let T=i.b(_)&&i.W()?_:yield this.readImageNow(_),M={type:this.type,uid:a.uid,source:this.id,rawImageData:T,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let R=yield a.actor.sendAsync({type:"LDT",data:M});a.dem=R,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(v){if(delete a.abortController,a.aborted)a.state="unloaded";else if(v)throw a.state="errored",v}})}readImageNow(a){return i._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&i.X()){let c=a.width+2,d=a.height+2;try{return new i.R({width:c,height:d},yield i.Y(a,-1,-1,c,d))}catch(v){}}return C.getImageData(a,1)})}_getNeighboringTiles(a){let c=a.canonical,d=Math.pow(2,c.z),v=(c.x-1+d)%d,_=c.x===0?a.wrap-1:a.wrap,T=(c.x+1+d)%d,M=c.x+1===d?a.wrap+1:a.wrap,R={};return R[new i.Z(a.overscaledZ,_,c.z,v,c.y).key]={backfilled:!1},R[new i.Z(a.overscaledZ,M,c.z,T,c.y).key]={backfilled:!1},c.y>0&&(R[new i.Z(a.overscaledZ,_,c.z,v,c.y-1).key]={backfilled:!1},R[new i.Z(a.overscaledZ,a.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},R[new i.Z(a.overscaledZ,M,c.z,T,c.y-1).key]={backfilled:!1}),c.y+1<d&&(R[new i.Z(a.overscaledZ,_,c.z,v,c.y+1).key]={backfilled:!1},R[new i.Z(a.overscaledZ,a.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},R[new i.Z(a.overscaledZ,M,c.z,T,c.y+1).key]={backfilled:!1}),R}unloadTile(a){return i._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Mo extends i.E{constructor(a,c,d,v){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:c.data},this.actor=d.getActor(),this.setEventedParent(v),this._data=c.data,this._options=i.e({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId,c.clusterMaxZoom!==void 0&&this.maxzoom<=c.clusterMaxZoom&&i.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${c.clusterMaxZoom}".`),this.workerOptions=i.e({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(c.buffer!==void 0?c.buffer:128),tolerance:this._pixelsToTileUnits(c.tolerance!==void 0?c.tolerance:.375),extent:i.$,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(c.clusterMaxZoom),minPoints:Math.max(2,c.clusterMinPoints||2),extent:i.$,radius:this._pixelsToTileUnits(c.clusterRadius||50),log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(a){return a*(i.$/this.tileSize)}_getClusterMaxZoom(a){let c=a?Math.round(a):this.maxzoom-1;return Number.isInteger(a)||a===void 0||i.w(`Integer expected for option 'clusterMaxZoom': provided value "${a}" rounded to "${c}"`),c}load(){return i._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._pendingWorkerUpdate={data:a},this._updateWorkerData(),this}updateData(a){return this._pendingWorkerUpdate.diff=i.a0(this._pendingWorkerUpdate.diff,a),this._updateWorkerData(),this}getData(){return i._(this,void 0,void 0,function*(){let a=i.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}getCoordinatesFromGeometry(a){return a.type==="GeometryCollection"?a.geometries.map(c=>c.coordinates).flat(1/0):a.coordinates.flat(1/0)}getBounds(){return i._(this,void 0,void 0,function*(){let a=new Vr,c=yield this.getData(),d;switch(c.type){case"FeatureCollection":d=c.features.map(v=>this.getCoordinatesFromGeometry(v.geometry)).flat(1/0);break;case"Feature":d=this.getCoordinatesFromGeometry(c.geometry);break;default:d=this.getCoordinatesFromGeometry(c)}if(d.length==0)return a;for(let v=0;v<d.length-1;v+=2)a.extend([d[v],d[v+1]]);return a})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(a.clusterRadius)),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(a.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,c,d){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:c,offset:d}})}_updateWorkerData(){return i._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;let{data:a,diff:c}=this._pendingWorkerUpdate;if(!a&&!c)return void i.w(`No data or diff provided to GeoJSONSource ${this.id}.`);let d=i.e({type:this.type},this.workerOptions);a?(typeof a=="string"?(d.request=this.map._requestManager.transformRequest(C.resolveURL(a),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(a),this._pendingWorkerUpdate.data=void 0):c&&(d.dataDiff=c,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new i.l("dataloading",{dataType:"source"}));try{let v=yield this.actor.sendAsync({type:"LD",data:d});if(this._isUpdatingWorker=!1,this._removed||v.abandoned)return void this.fire(new i.l("dataabort",{dataType:"source"}));this._data=v.data;let _=null;v.resourceTiming&&v.resourceTiming[this.id]&&(_=v.resourceTiming[this.id].slice(0));let T={dataType:"source"};this._collectResourceTiming&&_&&_.length>0&&i.e(T,{resourceTiming:_}),this.fire(new i.l("data",Object.assign(Object.assign({},T),{sourceDataType:"metadata"}))),this.fire(new i.l("data",Object.assign(Object.assign({},T),{sourceDataType:"content"})))}catch(v){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new i.l("dataabort",{dataType:"source"}));this.fire(new i.k(v))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}})}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(a){return i._(this,void 0,void 0,function*(){let c=a.actor?"RT":"LT";a.actor=this.actor;let d={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};a.abortController=new AbortController;let v=yield this.actor.sendAsync({type:c,data:d},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(v,this.map.painter,c==="RT")})}abortTile(a){return i._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return i._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return i.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class qo extends i.E{constructor(a,c,d,v){super(),this.flippedWindingOrder=!1,this.id=a,this.dispatcher=d,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=c}load(a){return i._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let c=yield Q.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,c&&c.data&&(this.image=c.data,a&&(this.coordinates=a),this._finishLoading())}catch(c){this._request=null,this._loaded=!0,this.fire(new i.k(c))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let c=a.map(i.a1.fromLngLat);var d;return this.tileID=function(v){let _=i.a2.fromPoints(v),T=_.width(),M=_.height(),R=Math.max(T,M),k=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),N=Math.pow(2,k);return new i.a4(k,Math.floor((_.minX+_.maxX)/2*N),Math.floor((_.minY+_.maxY)/2*N))}(c),this.terrainTileRanges=this._getOverlappingTileRanges(c),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=c.map(v=>this.tileID.getTilePoint(v)._round()),this.flippedWindingOrder=((d=this.tileCoords)[1].x-d[0].x)*(d[2].y-d[0].y)-(d[1].y-d[0].y)*(d[2].x-d[0].x)<0,this.fire(new i.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,c=a.gl;this.texture||(this.texture=new i.T(a,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let d=!1;for(let v in this.tiles){let _=this.tiles[v];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,d=!0)}d&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return i._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(a){let{minX:c,minY:d,maxX:v,maxY:_}=i.a2.fromPoints(a),T={};for(let M=0;M<=i.a3;M++){let R=Math.pow(2,M),k=Math.floor(c*R),N=Math.floor(d*R),j=Math.floor(v*R),z=Math.floor(_*R);T[M]={minTileX:k,minTileY:N,maxTileX:j,maxTileY:z}}return T}}class es extends qo{constructor(a,c,d,v){super(a,c,d,v),this.roundZoom=!0,this.type="video",this.options=c}load(){return i._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let c of a.urls)this.urls.push(this.map._requestManager.transformRequest(c,"Source").url);try{let c=yield i.a5(this.urls);if(this._loaded=!0,!c)return;this.video=c,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(c){this.fire(new i.k(c))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let c=this.video.seekable;a<c.start(0)||a>c.end(0)?this.fire(new i.k(new i.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,c=a.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new i.T(a,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let d=!1;for(let v in this.tiles){let _=this.tiles[v];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,d=!0)}d&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ia extends qo{constructor(a,c,d,v){super(a,c,d,v),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(T=>typeof T!="number"))||this.fire(new i.k(new i.a6(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new i.k(new i.a6(`sources.${a}`,null,"missing required property \"coordinates\""))),c.animate&&typeof c.animate!="boolean"&&this.fire(new i.k(new i.a6(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new i.k(new i.a6(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new i.k(new i.a6(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){return i._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let c=this.map.painter.context,d=c.gl;this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.T(c,this.canvas,d.RGBA,{premultiply:!0});let v=!1;for(let _ in this.tiles){let T=this.tiles[_];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,v=!0)}v&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let Ro={},ts=y=>{switch(y){case"geojson":return Mo;case"image":return qo;case"raster":return Yo;case"raster-dem":return Qa;case"vector":return co;case"video":return es;case"canvas":return Ia}return Ro[y]},rs="RTLPluginLoaded";class ns extends i.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=rr()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(c=>{throw this.status="error",c})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return i._(this,arguments,void 0,function*(c,d=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=C.resolveURL(c),!this.url)throw new Error(`requested url ${c} is invalid`);if(this.status==="unavailable"){if(!d)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return i._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new i.l(rs))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ca=null;function Pa(){return Ca||(Ca=new ns),Ca}class vl{constructor(a,c){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=i.a7(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let c=a+this.timeAdded;c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,c,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,_){let T={};if(!_)return T;for(let M of v){let R=M.layerIds.map(k=>_.getLayer(k)).filter(Boolean);if(R.length!==0){M.layers=R,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(k=>R.filter(N=>N.id===k)[0]));for(let k of R)T[k.id]=M}}return T}(a.buckets,c==null?void 0:c.style),this.hasSymbolBuckets=!1;for(let v in this.buckets){let _=this.buckets[v];if(_ instanceof i.a9){if(this.hasSymbolBuckets=!0,!d)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let v in this.buckets){let _=this.buckets[v];if(_ instanceof i.a9&&_.hasRTLText){this.hasRTLText=!0,Pa().lazyLoad();break}}this.queryPadding=0;for(let v in this.buckets){let _=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(v).queryRadius(_))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new i.a8}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let d in this.buckets){let v=this.buckets[d];v.uploadPending()&&v.upload(a)}let c=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new i.T(a,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new i.T(a,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,c,d,v,_,T,M,R,k,N,j){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:_,scale:T,tileSize:this.tileSize,pixelPosMatrix:N,transform:R,params:M,queryPadding:this.queryPadding*k,getElevation:j},a,c,d):{}}querySourceFeatures(a,c){let d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;let v=d.loadVTLayers(),_=c&&c.sourceLayer?c.sourceLayer:"",T=v._geojsonTileLayer||v[_];if(!T)return;let M=i.aa(c&&c.filter),{z:R,x:k,y:N}=this.tileID.canonical,j={z:R,x:k,y:N};for(let z=0;z<T.length;z++){let V=T.feature(z);if(M.needGeometry){let ie=i.ab(V,!0);if(!M.filter(new i.F(this.tileID.overscaledZ),ie,this.tileID.canonical))continue}else if(!M.filter(new i.F(this.tileID.overscaledZ),V))continue;let K=d.getId(V,_),oe=new i.ac(V,R,k,N,K);oe.tile=j,a.push(oe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let c=this.expirationTime;if(a.cacheControl){let d=i.ad(a.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let d=Date.now(),v=!1;if(this.expirationTime>d)v=!1;else if(c){if(this.expirationTime<c)v=!0;else{let _=this.expirationTime-c;_?this.expirationTime=d+Math.max(_,3e4):v=!0}}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let d=this.latestFeatureIndex.loadVTLayers();for(let v in this.buckets){if(!c.style.hasLayer(v))continue;let _=this.buckets[v],T=_.layers[0].sourceLayer||"_geojsonTileLayer",M=d[T],R=a[T];if(!M||!R||Object.keys(R).length===0)continue;_.update(R,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});let k=c&&c.style&&c.style.getLayer(v);k&&(this.queryPadding=Math.max(this.queryPadding,k.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<C.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=C.now()+a}setDependencies(a,c){let d={};for(let v of c)d[v]=!0;this.dependencies[a]=d}hasDependency(a,c){for(let d of a){let v=this.dependencies[d];if(v){for(let _ of c)if(v[_])return!0}}return!1}}class be{constructor(a,c){this.max=a,this.onRemove=c,this.reset()}reset(){for(let a in this.data)for(let c of this.data[a])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(a,c,d){let v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);let _={value:c,timeout:void 0};if(d!==void 0&&(_.timeout=setTimeout(()=>{this.remove(a,_)},d)),this.data[v].push(_),this.order.push(v),this.order.length>this.max){let T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let c=this.data[a].shift();return c.timeout&&clearTimeout(c.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),c.value}getByKey(a){let c=this.data[a];return c?c[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,c){if(!this.has(a))return this;let d=a.wrapped().key,v=c===void 0?0:this.data[d].indexOf(c),_=this.data[d][v];return this.data[d].splice(v,1),_.timeout&&clearTimeout(_.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(_.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(a){let c=[];for(let d in this.data)for(let v of this.data[d])a(v.value)||c.push(v);for(let d of c)this.remove(d.value.tileID,d)}}class Y{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,c,d){let v=String(c);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},i.e(this.stateChanges[a][v],d),this.deletedStates[a]===null){this.deletedStates[a]={};for(let _ in this.state[a])_!==v&&(this.deletedStates[a][_]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(let _ in this.state[a][v])d[_]||(this.deletedStates[a][v][_]=null)}else for(let _ in d)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][_]===null&&delete this.deletedStates[a][v][_]}removeFeatureState(a,c,d){if(this.deletedStates[a]===null)return;let v=String(c);if(this.deletedStates[a]=this.deletedStates[a]||{},d&&c!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][d]=null);else if(c!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][v])for(d in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][d]=null;else this.deletedStates[a][v]=null;}else this.deletedStates[a]=null}getState(a,c){let d=String(c),v=i.e({},(this.state[a]||{})[d],(this.stateChanges[a]||{})[d]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let _=this.deletedStates[a][c];if(_===null)return{};for(let T in _)delete v[T]}return v}initializeTileState(a,c){a.setFeatureState(this.state,c)}coalesceChanges(a,c){let d={};for(let v in this.stateChanges){this.state[v]=this.state[v]||{};let _={};for(let T in this.stateChanges[v])this.state[v][T]||(this.state[v][T]={}),i.e(this.state[v][T],this.stateChanges[v][T]),_[T]=this.state[v][T];d[v]=_}for(let v in this.deletedStates){this.state[v]=this.state[v]||{};let _={};if(this.deletedStates[v]===null)for(let T in this.state[v])_[T]={},this.state[v][T]={};else for(let T in this.deletedStates[v]){if(this.deletedStates[v][T]===null)this.state[v][T]={};else for(let M of Object.keys(this.deletedStates[v][T]))delete this.state[v][T][M];_[T]=this.state[v][T]}d[v]=d[v]||{},i.e(d[v],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(let v in a)a[v].setFeatureState(d,c)}}let J=89.25;function re(y,a){let c=i.ah(a.lat,-i.ai,i.ai);return new i.P(i.V(a.lng)*y,i.U(c)*y)}function ce(y,a){return new i.a1(a.x/y,a.y/y).toLngLat()}function ge(y){return y.cameraToCenterDistance*Math.min(.85*Math.tan(i.ae(90-y.pitch)),Math.tan(i.ae(J-y.pitch)))}function we(y,a){let c=y.canonical,d=a/i.af(c.z),v=c.x+Math.pow(2,c.z)*y.wrap,_=i.ag(new Float64Array(16));return i.M(_,_,[v*d,c.y*d,0]),i.N(_,_,[d/i.$,d/i.$,1]),_}function Ce(y,a,c,d,v){let _=i.a1.fromLngLat(y,a),T=v*i.aj(1,y.lat),M=T*Math.cos(i.ae(c)),R=Math.sqrt(T*T-M*M),k=R*Math.sin(i.ae(-d)),N=R*Math.cos(i.ae(-d));return new i.a1(_.x+k,_.y+N,_.z+M)}function xe(y,a,c){let d=a.intersectsFrustum(y);if(!c||d===0)return d;let v=a.intersectsPlane(c);return v===0?0:d===2&&v===2?2:1}function Le(y,a,c){let d=0,v=(c-a)/10;for(let _=0;_<10;_++)d+=v*Math.pow(Math.cos(a+(_+.5)/10*(c-a)),y);return d}function Ve(y,a){return function(c,d,v,_,T){let M=2*((y-1)/i.ak(Math.cos(i.ae(J-T))/Math.cos(i.ae(J)))-1),R=Math.acos(v/_),k=2*Le(M-1,0,i.ae(T/2)),N=Math.min(i.ae(J),R+i.ae(T/2)),j=Le(M-1,Math.min(N,R-i.ae(T/2)),N),z=Math.atan(d/v),V=Math.hypot(d,v),K=c;return K+=i.ak(_/V/Math.max(.5,Math.cos(i.ae(T/2)))),K+=M*i.ak(Math.cos(z))/2,K-=i.ak(Math.max(1,j/k/a))/2,K}}let ze=Ve(9.314,3);function ct(y,a){let c=(a.roundZoom?Math.round:Math.floor)(y.zoom+i.ak(y.tileSize/a.tileSize));return Math.max(0,c)}function Te(y,a){let c=y.getCameraFrustum(),d=y.getClippingPlane(),v=y.screenPointToMercatorCoordinate(y.getCameraPoint()),_=i.a1.fromLngLat(y.center,y.elevation);v.z=_.z+Math.cos(y.pitchInRadians)*y.cameraToCenterDistance/y.worldSize;let T=y.getCoveringTilesDetailsProvider(),M=T.allowVariableZoom(y,a),R=ct(y,a),k=a.minzoom||0,N=a.maxzoom!==void 0?a.maxzoom:y.maxZoom,j=Math.min(Math.max(0,R),N),z=Math.pow(2,j),V=[z*v.x,z*v.y,0],K=[z*_.x,z*_.y,0],oe=Math.hypot(_.x-v.x,_.y-v.y),ie=Math.abs(_.z-v.z),ae=Math.hypot(oe,ie),ue=ve=>({zoom:0,x:0,y:0,wrap:ve,fullyVisible:!1}),pe=[],he=[];if(y.renderWorldCopies&&T.allowWorldCopies())for(let ve=1;ve<=3;ve++)pe.push(ue(-ve)),pe.push(ue(ve));for(pe.push(ue(0));pe.length>0;){let ve=pe.pop(),_e=ve.x,fe=ve.y,Se=ve.fullyVisible,Re={x:_e,y:fe,z:ve.zoom},Ie=T.getTileBoundingVolume(Re,ve.wrap,y.elevation,a);if(!Se){let Ye=xe(c,Ie,d);if(Ye===0)continue;Se=Ye===2}let Pe=T.distanceToTile2d(v.x,v.y,Re,Ie),qe=R;M&&(qe=(a.calculateTileZoom||ze)(y.zoom+i.ak(y.tileSize/a.tileSize),Pe,ie,ae,y.fov)),qe=(a.roundZoom?Math.round:Math.floor)(qe),qe=Math.max(0,qe);let Ze=Math.min(qe,N);if(ve.wrap=T.getWrap(_,Re,ve.wrap),ve.zoom>=Ze){if(ve.zoom<k)continue;let Ye=j-ve.zoom,je=V[0]-.5-(_e<<Ye),lt=V[1]-.5-(fe<<Ye),kt=a.reparseOverscaled?Math.max(ve.zoom,qe):ve.zoom;he.push({tileID:new i.Z(ve.zoom===N?kt:ve.zoom,ve.wrap,ve.zoom,_e,fe),distanceSq:i.al([K[0]-.5-_e,K[1]-.5-fe]),tileDistanceToCamera:Math.sqrt(je*je+lt*lt)})}else for(let Ye=0;Ye<4;Ye++)pe.push({zoom:ve.zoom+1,x:(_e<<1)+Ye%2,y:(fe<<1)+(Ye>>1),wrap:ve.wrap,fullyVisible:Se})}return he.sort((ve,_e)=>ve.distanceSq-_e.distanceSq).map(ve=>ve.tileID)}let At=i.a2.fromPoints([new i.P(0,0),new i.P(i.$,i.$)]);class Gt extends i.E{constructor(a,c,d){super(),this.id=a,this.dispatcher=d,this.on("data",v=>this._dataHandler(v)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,_,T,M)=>{let R=new(ts(_.type))(v,_,T,M);if(R.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${R.id}`);return R})(a,c,d,this),this._tiles={},this._cache=new be(0,v=>this._unloadTile(v)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Y,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let c=this._tiles[a];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,c,d){return i._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,c,d)}catch(v){a.state="errored",v.status!==404?this._source.fire(new i.k(v,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new i.l("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let c in this._tiles){let d=this._tiles[c];d.upload(a),d.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(pt).map(a=>a.key)}getRenderableIds(a){let c=[];for(let d in this._tiles)this._isIdRenderable(d,a)&&c.push(this._tiles[d]);return a?c.sort((d,v)=>{let _=d.tileID,T=v.tileID,M=new i.P(_.canonical.x,_.canonical.y)._rotate(-this.transform.bearingInRadians),R=new i.P(T.canonical.x,T.canonical.y)._rotate(-this.transform.bearingInRadians);return _.overscaledZ-T.overscaledZ||R.y-M.y||R.x-M.x}).map(d=>d.tileID.key):c.map(d=>d.tileID).sort(pt).map(d=>d.key)}hasRenderableParent(a){let c=this.findLoadedParent(a,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(a,c){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(c||!this._tiles[a].holdingForFade())}reload(a){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let c in this._tiles)a?this._reloadTile(c,"expired"):this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(a,c){return i._(this,void 0,void 0,function*(){let d=this._tiles[a];d&&(d.state!=="loading"&&(d.state=c),yield this._loadTile(d,a,c))})}_tileLoaded(a,c,d){a.timeAdded=C.now(),d==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(c,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new i.l("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let c=this.getRenderableIds();for(let v=0;v<c.length;v++){let _=c[v];if(a.neighboringTiles&&a.neighboringTiles[_]){let T=this.getTileByID(_);d(a,T),d(T,a)}}function d(v,_){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let T=_.tileID.canonical.x-v.tileID.canonical.x,M=_.tileID.canonical.y-v.tileID.canonical.y,R=Math.pow(2,v.tileID.canonical.z),k=_.tileID.key;T===0&&M===0||Math.abs(M)>1||(Math.abs(T)>1&&(Math.abs(T+R)===1?T+=R:Math.abs(T-R)===1&&(T-=R)),_.dem&&v.dem&&(v.dem.backfillBorder(_.dem,T,M),v.neighboringTiles&&v.neighboringTiles[k]&&(v.neighboringTiles[k].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,c,d,v){for(let _ in this._tiles){let T=this._tiles[_];if(v[_]||!T.hasData()||T.tileID.overscaledZ<=c||T.tileID.overscaledZ>d)continue;let M=T.tileID;for(;T&&T.tileID.overscaledZ>c+1;){let k=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[k.key],T&&T.hasData()&&(M=k)}let R=M;for(;R.overscaledZ>c;)if(R=R.scaledTo(R.overscaledZ-1),a[R.key]||a[R.canonical.key]){v[M.key]=M;break}}}findLoadedParent(a,c){if(a.key in this._loadedParentTiles){let d=this._loadedParentTiles[a.key];return d&&d.tileID.overscaledZ>=c?d:null}for(let d=a.overscaledZ-1;d>=c;d--){let v=a.scaledTo(d),_=this._getLoadedTile(v);if(_)return _}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let c=this._tiles[a.key];return c&&c.hasData()?c:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let c=Math.ceil(a.width/this._source.tileSize)+1,d=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(c*d*(this._maxTileCacheZoomLevels===null?i.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(_)}handleWrapJump(a){let c=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,c){let d={};for(let v in this._tiles){let _=this._tiles[v];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+c),d[_.tileID.key]=_}this._tiles=d;for(let v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(let v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(a,c,d,v,_,T){let M={},R={},k=Object.keys(a),N=C.now();for(let j of k){let z=a[j],V=this._tiles[j];if(!V||V.fadeEndTime!==0&&V.fadeEndTime<=N)continue;let K=this.findLoadedParent(z,c),oe=this.findLoadedSibling(z),ie=K||oe||null;ie&&(this._addTile(ie.tileID),M[ie.tileID.key]=ie.tileID),R[j]=z}this._retainLoadedChildren(R,v,d,a);for(let j in M)a[j]||(this._coveredTiles[j]=!0,a[j]=M[j]);if(T){let j={},z={};for(let V of _)this._tiles[V.key].hasData()?j[V.key]=V:z[V.key]=V;for(let V in z){let K=z[V].children(this._source.maxzoom);this._tiles[K[0].key]&&this._tiles[K[1].key]&&this._tiles[K[2].key]&&this._tiles[K[3].key]&&(j[K[0].key]=a[K[0].key]=K[0],j[K[1].key]=a[K[1].key]=K[1],j[K[2].key]=a[K[2].key]=K[2],j[K[3].key]=a[K[3].key]=K[3],delete z[V])}for(let V in z){let K=z[V],oe=this.findLoadedParent(K,this._source.minzoom),ie=this.findLoadedSibling(K),ae=oe||ie||null;if(ae){j[ae.tileID.key]=a[ae.tileID.key]=ae.tileID;for(let ue in j)j[ue].isChildOf(ae.tileID)&&delete j[ue]}}for(let V in this._tiles)j[V]||(this._coveredTiles[V]=!0)}}update(a,c){if(!this._sourceLoaded||this._paused)return;let d;this.transform=a,this.terrain=c,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?d=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new i.Z(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(d=Te(a,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:c,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(d=d.filter(N=>this._source.hasTile(N)))):d=[];let v=ct(a,this._source),_=Math.max(v-Gt.maxOverzooming,this._source.minzoom),T=Math.max(v+Gt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let N={};for(let j of d)if(j.canonical.z>this._source.minzoom){let z=j.scaledTo(j.canonical.z-1);N[z.key]=z;let V=j.scaledTo(Math.max(this._source.minzoom,Math.min(j.canonical.z,5)));N[V.key]=V}d=d.concat(Object.values(N))}let M=d.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,M&&this.fire(new i.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let R=this._updateRetainedTiles(d,v);Ot(this._source.type)&&this._updateCoveredAndRetainedTiles(R,_,T,v,d,c);for(let N in R)this._tiles[N].clearFadeHold();let k=i.am(this._tiles,R);for(let N of k){let j=this._tiles[N];j.hasSymbolBuckets&&!j.holdingForFade()?j.setHoldDuration(this.map._fadeDuration):j.hasSymbolBuckets&&!j.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,c){var d;let v={},_={},T=Math.max(c-Gt.maxOverzooming,this._source.minzoom),M=Math.max(c+Gt.maxUnderzooming,this._source.minzoom),R={};for(let k of a){let N=this._addTile(k);v[k.key]=k,N.hasData()||c<this._source.maxzoom&&(R[k.key]=k)}this._retainLoadedChildren(R,c,M,v);for(let k of a){let N=this._tiles[k.key];if(N.hasData())continue;if(c+1>this._source.maxzoom){let z=k.children(this._source.maxzoom)[0],V=this.getTile(z);if(V&&V.hasData()){v[z.key]=z;continue}}else{let z=k.children(this._source.maxzoom);if(v[z[0].key]&&v[z[1].key]&&v[z[2].key]&&v[z[3].key])continue}let j=N.wasRequested();for(let z=k.overscaledZ-1;z>=T;--z){let V=k.scaledTo(z);if(_[V.key])break;if(_[V.key]=!0,N=this.getTile(V),!N&&j&&(N=this._addTile(V)),N){let K=N.hasData();if((K||!(!((d=this.map)===null||d===void 0)&&d.cancelPendingTileRequestsWhileZooming)||j)&&(v[V.key]=V),j=N.wasRequested(),K)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let c=[],d,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){d=this._loadedParentTiles[v.key];break}c.push(v.key);let _=v.scaledTo(v.overscaledZ-1);if(d=this._getLoadedTile(_),d)break;v=_}for(let _ of c)this._loadedParentTiles[_]=d}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let c=this._tiles[a].tileID,d=this._getLoadedTile(c);this._loadedSiblingTiles[c.key]=d}}_addTile(a){let c=this._tiles[a.key];if(c)return c;c=this._cache.getAndRemove(a),c&&(this._setTileReloadTimer(a.key,c),c.tileID=a,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,c)));let d=c;return c||(c=new vl(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(c,a.key,c.state)),c.uses++,this._tiles[a.key]=c,d||this._source.fire(new i.l("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(a,c){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let d=c.getExpiryTimeout();d&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},d))}refreshTiles(a){for(let c in this._tiles)(this._isIdRenderable(c)||this._tiles[c].state=="errored")&&a.some(d=>d.equals(this._tiles[c].tileID.canonical))&&this._reloadTile(c,"expired")}_removeTile(a){let c=this._tiles[a];c&&(c.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}_dataHandler(a){let c=a.sourceDataType;a.dataType==="source"&&c==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&c==="content"&&(this.reload(a.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,c,d){let v=[],_=this.transform;if(!_)return v;let T=_.getCoveringTilesDetailsProvider().allowWorldCopies(),M=d?_.getCameraQueryGeometry(a):a,R=V=>_.screenPointToMercatorCoordinate(V,this.terrain),k=this.transformBbox(a,R,!T),N=this.transformBbox(M,R,!T),j=this.getIds(),z=i.a2.fromPoints(N);for(let V=0;V<j.length;V++){let K=this._tiles[j[V]];if(K.holdingForFade())continue;let oe=T?[K.tileID]:[K.tileID.unwrapTo(-1),K.tileID.unwrapTo(0)],ie=Math.pow(2,_.zoom-K.tileID.overscaledZ),ae=c*K.queryPadding*i.$/K.tileSize/ie;for(let ue of oe){let pe=z.map(he=>ue.getTilePoint(new i.a1(he.x,he.y)));if(pe.expandBy(ae),pe.intersects(At)){let he=k.map(_e=>ue.getTilePoint(_e)),ve=N.map(_e=>ue.getTilePoint(_e));v.push({tile:K,tileID:T?ue:ue.unwrapTo(0),queryGeometry:he,cameraQueryGeometry:ve,scale:ie})}}}return v}transformBbox(a,c,d){let v=a.map(c);if(d){let _=i.a2.fromPoints(a);_.shrinkBy(.001*Math.min(_.width(),_.height()));let T=_.map(c);i.a2.fromPoints(v).covers(T)||(v=v.map(M=>M.x>.5?new i.a1(M.x-1,M.y,M.z):M))}return v}getVisibleCoordinates(a){let c=this.getRenderableIds(a).map(d=>this._tiles[d].tileID);return this.transform&&this.transform.populateCache(c),c}hasTransition(){if(this._source.hasTransition())return!0;if(Ot(this._source.type)){let a=C.now();for(let c in this._tiles)if(this._tiles[c].fadeEndTime>=a)return!0}return!1}setFeatureState(a,c,d){this._state.updateState(a=a||"_geojsonTileLayer",c,d)}removeFeatureState(a,c,d){this._state.removeFeatureState(a=a||"_geojsonTileLayer",c,d)}getFeatureState(a,c){return this._state.getState(a=a||"_geojsonTileLayer",c)}setDependencies(a,c,d){let v=this._tiles[a];v&&v.setDependencies(c,d)}reloadTilesForDependencies(a,c){for(let d in this._tiles)this._tiles[d].hasDependency(a,c)&&this._reloadTile(d,"reloading");this._cache.filter(d=>!d.hasDependency(a,c))}}function pt(y,a){let c=Math.abs(2*y.wrap)-+(y.wrap<0),d=Math.abs(2*a.wrap)-+(a.wrap<0);return y.overscaledZ-a.overscaledZ||d-c||a.canonical.y-y.canonical.y||a.canonical.x-y.canonical.x}function Ot(y){return y==="raster"||y==="image"||y==="video"}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;class Fr{constructor(a,c){this.reset(a,c)}reset(a,c){this.points=a||[],this._distances=[0];for(let d=1;d<this.points.length;d++)this._distances[d]=this._distances[d-1]+this.points[d].dist(this.points[d-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=i.ah(a,0,1);let c=1,d=this._distances[c],v=a*this.paddedLength+this.padding;for(;d<v&&c<this._distances.length;)d=this._distances[++c];let _=c-1,T=this._distances[_],M=d-T,R=M>0?(v-T)/M:0;return this.points[_].mult(1-R).add(this.points[c].mult(R))}}function Gn(y,a){let c=!0;return y==="always"||y!=="never"&&a!=="never"||(c=!1),c}class Zn{constructor(a,c,d){let v=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(a/d),this.yCellCount=Math.ceil(c/d);for(let T=0;T<this.xCellCount*this.yCellCount;T++)v.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=c,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,c,d,v,_){this._forEachCell(c,d,v,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(v),this.bboxes.push(_)}insertCircle(a,c,d,v){this._forEachCell(c-v,d-v,c+v,d+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(c),this.circles.push(d),this.circles.push(v)}_insertBoxCell(a,c,d,v,_,T){this.boxCells[_].push(T)}_insertCircleCell(a,c,d,v,_,T){this.circleCells[_].push(T)}_query(a,c,d,v,_,T,M){if(d<0||a>this.width||v<0||c>this.height)return[];let R=[];if(a<=0&&c<=0&&this.width<=d&&this.height<=v){if(_)return[{key:null,x1:a,y1:c,x2:d,y2:v}];for(let k=0;k<this.boxKeys.length;k++)R.push({key:this.boxKeys[k],x1:this.bboxes[4*k],y1:this.bboxes[4*k+1],x2:this.bboxes[4*k+2],y2:this.bboxes[4*k+3]});for(let k=0;k<this.circleKeys.length;k++){let N=this.circles[3*k],j=this.circles[3*k+1],z=this.circles[3*k+2];R.push({key:this.circleKeys[k],x1:N-z,y1:j-z,x2:N+z,y2:j+z})}}else this._forEachCell(a,c,d,v,this._queryCell,R,{hitTest:_,overlapMode:T,seenUids:{box:{},circle:{}}},M);return R}query(a,c,d,v){return this._query(a,c,d,v,!1,null)}hitTest(a,c,d,v,_,T){return this._query(a,c,d,v,!0,_,T).length>0}hitTestCircle(a,c,d,v,_){let T=a-d,M=a+d,R=c-d,k=c+d;if(M<0||T>this.width||k<0||R>this.height)return!1;let N=[];return this._forEachCell(T,R,M,k,this._queryCellCircle,N,{hitTest:!0,overlapMode:v,circle:{x:a,y:c,radius:d},seenUids:{box:{},circle:{}}},_),N.length>0}_queryCell(a,c,d,v,_,T,M,R){let{seenUids:k,hitTest:N,overlapMode:j}=M,z=this.boxCells[_];if(z!==null){let K=this.bboxes;for(let oe of z)if(!k.box[oe]){k.box[oe]=!0;let ie=4*oe,ae=this.boxKeys[oe];if(a<=K[ie+2]&&c<=K[ie+3]&&d>=K[ie+0]&&v>=K[ie+1]&&(!R||R(ae))&&(!N||!Gn(j,ae.overlapMode))&&(T.push({key:ae,x1:K[ie],y1:K[ie+1],x2:K[ie+2],y2:K[ie+3]}),N))return!0}}let V=this.circleCells[_];if(V!==null){let K=this.circles;for(let oe of V)if(!k.circle[oe]){k.circle[oe]=!0;let ie=3*oe,ae=this.circleKeys[oe];if(this._circleAndRectCollide(K[ie],K[ie+1],K[ie+2],a,c,d,v)&&(!R||R(ae))&&(!N||!Gn(j,ae.overlapMode))){let ue=K[ie],pe=K[ie+1],he=K[ie+2];if(T.push({key:ae,x1:ue-he,y1:pe-he,x2:ue+he,y2:pe+he}),N)return!0}}}return!1}_queryCellCircle(a,c,d,v,_,T,M,R){let{circle:k,seenUids:N,overlapMode:j}=M,z=this.boxCells[_];if(z!==null){let K=this.bboxes;for(let oe of z)if(!N.box[oe]){N.box[oe]=!0;let ie=4*oe,ae=this.boxKeys[oe];if(this._circleAndRectCollide(k.x,k.y,k.radius,K[ie+0],K[ie+1],K[ie+2],K[ie+3])&&(!R||R(ae))&&!Gn(j,ae.overlapMode))return T.push(!0),!0}}let V=this.circleCells[_];if(V!==null){let K=this.circles;for(let oe of V)if(!N.circle[oe]){N.circle[oe]=!0;let ie=3*oe,ae=this.circleKeys[oe];if(this._circlesCollide(K[ie],K[ie+1],K[ie+2],k.x,k.y,k.radius)&&(!R||R(ae))&&!Gn(j,ae.overlapMode))return T.push(!0),!0}}}_forEachCell(a,c,d,v,_,T,M,R){let k=this._convertToXCellCoord(a),N=this._convertToYCellCoord(c),j=this._convertToXCellCoord(d),z=this._convertToYCellCoord(v);for(let V=k;V<=j;V++)for(let K=N;K<=z;K++)if(_.call(this,a,c,d,v,this.xCellCount*K+V,T,M,R))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,c,d,v,_,T){let M=v-a,R=_-c,k=d+T;return k*k>M*M+R*R}_circleAndRectCollide(a,c,d,v,_,T,M){let R=(T-v)/2,k=Math.abs(a-(v+R));if(k>R+d)return!1;let N=(M-_)/2,j=Math.abs(c-(_+N));if(j>N+d)return!1;if(k<=R||j<=N)return!0;let z=k-R,V=j-N;return z*z+V*V<=d*d}}function In(y,a,c){let d=i.L();if(!y){let{vecSouth:j,vecEast:z}=ir(a),V=g();V[0]=z[0],V[1]=z[1],V[2]=j[0],V[3]=j[1],v=V,(N=(T=(_=V)[0])*(k=_[3])-(R=_[2])*(M=_[1]))&&(v[0]=k*(N=1/N),v[1]=-M*N,v[2]=-R*N,v[3]=T*N),d[0]=V[0],d[1]=V[1],d[4]=V[2],d[5]=V[3]}var v,_,T,M,R,k,N;return i.N(d,d,[1/c,1/c,1]),d}function Yt(y,a,c,d){if(y){let v=i.L();if(!a){let{vecSouth:_,vecEast:T}=ir(c);v[0]=T[0],v[1]=T[1],v[4]=_[0],v[5]=_[1]}return i.N(v,v,[d,d,1]),v}return c.pixelsToClipSpaceMatrix}function ir(y){let a=Math.cos(y.rollInRadians),c=Math.sin(y.rollInRadians),d=Math.cos(y.pitchInRadians),v=Math.cos(y.bearingInRadians),_=Math.sin(y.bearingInRadians),T=i.ar();T[0]=-v*d*c-_*a,T[1]=-_*d*c+v*a;let M=i.as(T);M<1e-9?i.at(T):i.au(T,T,1/M);let R=i.ar();R[0]=v*d*a-_*c,R[1]=_*d*a+v*c;let k=i.as(R);return k<1e-9?i.at(R):i.au(R,R,1/k),{vecEast:R,vecSouth:T}}function On(y,a,c,d){let v;d?(v=[y,a,d(y,a),1],i.aw(v,v,c)):(v=[y,a,0,1],qc(v,v,c));let _=v[3];return{point:new i.P(v[0]/_,v[1]/_),signedDistanceFromCamera:_,isOccluded:!1}}function He(y,a){return .5+y/a*.5}function Ci(y,a){return y.x>=-a[0]&&y.x<=a[0]&&y.y>=-a[1]&&y.y<=a[1]}function an(y,a,c,d,v,_,T,M,R,k,N,j,z){let V=c?y.textSizeData:y.iconSizeData,K=i.an(V,a.transform.zoom),oe=[256/a.width*2+1,256/a.height*2+1],ie=c?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;ie.clear();let ae=y.lineVertexArray,ue=c?y.text.placedSymbolArray:y.icon.placedSymbolArray,pe=a.transform.width/a.transform.height,he=!1;for(let ve=0;ve<ue.length;ve++){let _e=ue.get(ve);if(_e.hidden||_e.writingMode===i.ao.vertical&&!he){is(_e.numGlyphs,ie);continue}he=!1;let fe=new i.P(_e.anchorX,_e.anchorY),Se={getElevation:z,pitchedLabelPlaneMatrix:d,lineVertexArray:ae,pitchWithMap:_,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:a.transform,tileAnchorPoint:fe,unwrappedTileID:R,width:k,height:N,translation:j},Re=yl(_e.anchorX,_e.anchorY,Se);if(!Ci(Re.point,oe)){is(_e.numGlyphs,ie);continue}let Ie=He(a.transform.cameraToCenterDistance,Re.signedDistanceFromCamera),Pe=i.ap(V,K,_e),qe=_?Pe*a.transform.getPitchedTextCorrection(_e.anchorX,_e.anchorY,R)/Ie:Pe*Ie,Ze=tt({projectionContext:Se,pitchedLabelPlaneMatrixInverse:v,symbol:_e,fontSize:qe,flip:!1,keepUpright:T,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:ie,aspectRatio:pe,rotateToLine:M});he=Ze.useVertical,(Ze.notEnoughRoom||he||Ze.needsFlipping&&tt({projectionContext:Se,pitchedLabelPlaneMatrixInverse:v,symbol:_e,fontSize:qe,flip:!0,keepUpright:T,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:ie,aspectRatio:pe,rotateToLine:M}).notEnoughRoom)&&is(_e.numGlyphs,ie)}c?y.text.dynamicLayoutVertexBuffer.updateData(ie):y.icon.dynamicLayoutVertexBuffer.updateData(ie)}function gl(y,a,c,d,v,_,T,M){let R=_.glyphStartIndex+_.numGlyphs,k=_.lineStartIndex,N=_.lineStartIndex+_.lineLength,j=a.getoffsetX(_.glyphStartIndex),z=a.getoffsetX(R-1),V=_l(y*j,c,d,v,_.segment,k,N,M,T);if(!V)return null;let K=_l(y*z,c,d,v,_.segment,k,N,M,T);return K?M.projectionCache.anyProjectionOccluded?null:{first:V,last:K}:null}function Mc(y,a,c,d){return y===i.ao.horizontal&&Math.abs(c.y-a.y)>Math.abs(c.x-a.x)*d?{useVertical:!0}:(y===i.ao.vertical?a.y<c.y:a.x>c.x)?{needsFlipping:!0}:null}function tt(y){let{projectionContext:a,pitchedLabelPlaneMatrixInverse:c,symbol:d,fontSize:v,flip:_,keepUpright:T,glyphOffsetArray:M,dynamicLayoutVertexArray:R,aspectRatio:k,rotateToLine:N}=y,j=v/24,z=d.lineOffsetX*j,V=d.lineOffsetY*j,K;if(d.numGlyphs>1){let oe=d.glyphStartIndex+d.numGlyphs,ie=d.lineStartIndex,ae=d.lineStartIndex+d.lineLength,ue=gl(j,M,z,V,_,d,N,a);if(!ue)return{notEnoughRoom:!0};let pe=yu(ue.first.point.x,ue.first.point.y,a,c),he=yu(ue.last.point.x,ue.last.point.y,a,c);if(T&&!_){let ve=Mc(d.writingMode,pe,he,k);if(ve)return ve}K=[ue.first];for(let ve=d.glyphStartIndex+1;ve<oe-1;ve++){let _e=_l(j*M.getoffsetX(ve),z,V,_,d.segment,ie,ae,a,N);if(!_e)return{notEnoughRoom:!0};K.push(_e)}K.push(ue.last)}else{if(T&&!_){let ie=di(a.tileAnchorPoint.x,a.tileAnchorPoint.y,a).point,ae=d.lineStartIndex+d.segment+1,ue=new i.P(a.lineVertexArray.getx(ae),a.lineVertexArray.gety(ae)),pe=di(ue.x,ue.y,a),he=pe.signedDistanceFromCamera>0?pe.point:Zt(a.tileAnchorPoint,ue,ie,1,a),ve=yu(ie.x,ie.y,a,c),_e=yu(he.x,he.y,a,c),fe=Mc(d.writingMode,ve,_e,k);if(fe)return fe}let oe=_l(j*M.getoffsetX(d.glyphStartIndex),z,V,_,d.segment,d.lineStartIndex,d.lineStartIndex+d.lineLength,a,N);if(!oe||a.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};K=[oe]}for(let oe of K)i.av(R,oe.point,oe.angle);return{}}function Zt(y,a,c,d,v){let _=y.add(y.sub(a)._unit()),T=di(_.x,_.y,v).point,M=c.sub(T);return c.add(M._mult(d/M.mag()))}function Ft(y,a,c){let d=a.projectionCache;if(d.projections[y])return d.projections[y];let v=new i.P(a.lineVertexArray.getx(y),a.lineVertexArray.gety(y)),_=di(v.x,v.y,a);if(_.signedDistanceFromCamera>0)return d.projections[y]=_.point,d.anyProjectionOccluded=d.anyProjectionOccluded||_.isOccluded,_.point;let T=y-c.direction;return Zt(c.distanceFromAnchor===0?a.tileAnchorPoint:new i.P(a.lineVertexArray.getx(T),a.lineVertexArray.gety(T)),v,c.previousVertex,c.absOffsetX-c.distanceFromAnchor+1,a)}function di(y,a,c){let d=y+c.translation[0],v=a+c.translation[1],_;return c.pitchWithMap?(_=On(d,v,c.pitchedLabelPlaneMatrix,c.getElevation),_.isOccluded=!1):(_=c.transform.projectTileCoordinates(d,v,c.unwrappedTileID,c.getElevation),_.point.x=(.5*_.point.x+.5)*c.width,_.point.y=(.5*-_.point.y+.5)*c.height),_}function yu(y,a,c,d){if(c.pitchWithMap){let v=[y,a,0,1];return i.aw(v,v,d),c.transform.projectTileCoordinates(v[0]/v[3],v[1]/v[3],c.unwrappedTileID,c.getElevation).point}return{x:y/c.width*2-1,y:1-a/c.height*2}}function yl(y,a,c){return c.transform.projectTileCoordinates(y,a,c.unwrappedTileID,c.getElevation)}function Dt(y,a,c){return y._unit()._perp()._mult(a*c)}function md(y,a,c,d,v,_,T,M,R){if(M.projectionCache.offsets[y])return M.projectionCache.offsets[y];let k=c.add(a);if(y+R.direction<d||y+R.direction>=v)return M.projectionCache.offsets[y]=k,k;let N=Ft(y+R.direction,M,R),j=Dt(N.sub(c),T,R.direction),z=c.add(j),V=N.add(j);return M.projectionCache.offsets[y]=i.ax(_,k,z,V)||k,M.projectionCache.offsets[y]}function _l(y,a,c,d,v,_,T,M,R){let k=d?y-a:y+a,N=k>0?1:-1,j=0;d&&(N*=-1,j=Math.PI),N<0&&(j+=Math.PI);let z,V=N>0?_+v:_+v+1;M.projectionCache.cachedAnchorPoint?z=M.projectionCache.cachedAnchorPoint:(z=di(M.tileAnchorPoint.x,M.tileAnchorPoint.y,M).point,M.projectionCache.cachedAnchorPoint=z);let K,oe,ie=z,ae=z,ue=0,pe=0,he=Math.abs(k),ve=[],_e;for(;ue+pe<=he;){if(V+=N,V<_||V>=T)return null;ue+=pe,ae=ie,oe=K;let Re={absOffsetX:he,direction:N,distanceFromAnchor:ue,previousVertex:ae};if(ie=Ft(V,M,Re),c===0)ve.push(ae),_e=ie.sub(ae);else{let Ie,Pe=ie.sub(ae);Ie=Pe.mag()===0?Dt(Ft(V+N,M,Re).sub(ie),c,N):Dt(Pe,c,N),oe||(oe=ae.add(Ie)),K=md(V,Ie,ie,_,T,oe,c,M,Re),ve.push(oe),_e=K.sub(oe)}pe=_e.mag()}let fe=_e._mult((he-ue)/pe)._add(oe||ae),Se=j+Math.atan2(ie.y-ae.y,ie.x-ae.x);return ve.push(fe),{point:fe,angle:R?Se:0,path:ve}}let vd=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function is(y,a){for(let c=0;c<y;c++){let d=a.length;a.resize(d+4),a.float32.set(vd,3*d)}}function qc(y,a,c){let d=a[0],v=a[1];return y[0]=c[0]*d+c[4]*v+c[12],y[1]=c[1]*d+c[5]*v+c[13],y[3]=c[3]*d+c[7]*v+c[15],y}let mn=100;class gd{constructor(a,c=new Zn(a.width+200,a.height+200,25),d=new Zn(a.width+200,a.height+200,25)){this.transform=a,this.grid=c,this.ignoredGrid=d,this.pitchFactor=Math.cos(a.pitch*Math.PI/180)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+mn,this.screenBottomBoundary=a.height+mn,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,c,d,v,_,T,M,R,k,N,j,z){let V=this.projectAndGetPerspectiveRatio(a.anchorPointX+R[0],a.anchorPointY+R[1],_,N,z),K=d*V.perspectiveRatio,oe;if(T||M)oe=this._projectCollisionBox(a,K,v,_,T,M,R,V,N,j,z);else{let _e=V.x+(j?j.x*K:0),fe=V.y+(j?j.y*K:0);oe={allPointsOccluded:!1,box:[_e+a.x1*K,fe+a.y1*K,_e+a.x2*K,fe+a.y2*K]}}let[ie,ae,ue,pe]=oe.box,he=T?oe.allPointsOccluded:V.isOccluded,ve=he;return ve||(ve=V.perspectiveRatio<this.perspectiveRatioCutoff),ve||(ve=!this.isInsideGrid(ie,ae,ue,pe)),ve||c!=="always"&&this.grid.hitTest(ie,ae,ue,pe,c,k)?{box:[ie,ae,ue,pe],placeable:!1,offscreen:!1,occluded:he}:{box:[ie,ae,ue,pe],placeable:!0,offscreen:this.isOffscreen(ie,ae,ue,pe),occluded:he}}placeCollisionCircles(a,c,d,v,_,T,M,R,k,N,j,z,V,K){let oe=[],ie=new i.P(c.anchorX,c.anchorY),ae=this.getPerspectiveRatio(ie.x,ie.y,T,K),ue=(k?_*this.transform.getPitchedTextCorrection(c.anchorX,c.anchorY,T)/ae:_*ae)/i.aB,pe={getElevation:K,pitchedLabelPlaneMatrix:M,lineVertexArray:d,pitchWithMap:k,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ie,unwrappedTileID:T,width:this.transform.width,height:this.transform.height,translation:V},he=gl(ue,v,c.lineOffsetX*ue,c.lineOffsetY*ue,!1,c,!1,pe),ve=!1,_e=!1,fe=!0;if(he){let Se=.5*j*ae+z,Re=new i.P(-100,-100),Ie=new i.P(this.screenRightBoundary,this.screenBottomBoundary),Pe=new Fr,qe=he.first,Ze=he.last,Ye=[];for(let kt=qe.path.length-1;kt>=1;kt--)Ye.push(qe.path[kt]);for(let kt=1;kt<Ze.path.length;kt++)Ye.push(Ze.path[kt]);let je=2.5*Se;if(k){let kt=this.projectPathToScreenSpace(Ye,pe);Ye=kt.some(hr=>hr.signedDistanceFromCamera<=0)?[]:kt.map(hr=>hr.point)}let lt=[];if(Ye.length>0){let kt=Ye[0].clone(),hr=Ye[0].clone();for(let Sr=1;Sr<Ye.length;Sr++)kt.x=Math.min(kt.x,Ye[Sr].x),kt.y=Math.min(kt.y,Ye[Sr].y),hr.x=Math.max(hr.x,Ye[Sr].x),hr.y=Math.max(hr.y,Ye[Sr].y);lt=kt.x>=Re.x&&hr.x<=Ie.x&&kt.y>=Re.y&&hr.y<=Ie.y?[Ye]:hr.x<Re.x||kt.x>Ie.x||hr.y<Re.y||kt.y>Ie.y?[]:i.ay([Ye],Re.x,Re.y,Ie.x,Ie.y)}for(let kt of lt){Pe.reset(kt,.25*Se);let hr=0;hr=Pe.length<=.5*Se?1:Math.ceil(Pe.paddedLength/je)+1;for(let Sr=0;Sr<hr;Sr++){let gr=Sr/Math.max(hr-1,1),Xr=Pe.lerp(gr),ln=Xr.x+mn,Lt=Xr.y+mn;oe.push(ln,Lt,Se,0);let Tr=ln-Se,Dn=Lt-Se,Wn=ln+Se,ti=Lt+Se;if(fe=fe&&this.isOffscreen(Tr,Dn,Wn,ti),_e=_e||this.isInsideGrid(Tr,Dn,Wn,ti),a!=="always"&&this.grid.hitTestCircle(ln,Lt,Se,a,N)&&(ve=!0,!R))return{circles:[],offscreen:!1,collisionDetected:ve}}}}return{circles:!R&&ve||!_e||ae<this.perspectiveRatioCutoff?[]:oe,offscreen:fe,collisionDetected:ve}}projectPathToScreenSpace(a,c){let d=function(v,_){let T=i.L();return i.aq(T,_.pitchedLabelPlaneMatrix),v.map(M=>{let R=On(M.x,M.y,T,_.getElevation),k=_.transform.projectTileCoordinates(R.point.x,R.point.y,_.unwrappedTileID,_.getElevation);return k.point.x=(.5*k.point.x+.5)*_.width,k.point.y=(.5*-k.point.y+.5)*_.height,k})}(a,c);return function(v){let _=0,T=0,M=0,R=0;for(let k=0;k<v.length;k++)v[k].isOccluded?(M=k+1,R=0):(R++,R>T&&(T=R,_=M));return v.slice(_,_+T)}(d)}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let c=[],d=new i.a2;for(let j of a){let z=new i.P(j.x+mn,j.y+mn);d.extend(z),c.push(z)}let{minX:v,minY:_,maxX:T,maxY:M}=d,R=this.grid.query(v,_,T,M).concat(this.ignoredGrid.query(v,_,T,M)),k={},N={};for(let j of R){let z=j.key;if(k[z.bucketInstanceId]===void 0&&(k[z.bucketInstanceId]={}),k[z.bucketInstanceId][z.featureIndex])continue;let V=[new i.P(j.x1,j.y1),new i.P(j.x2,j.y1),new i.P(j.x2,j.y2),new i.P(j.x1,j.y2)];i.az(c,V)&&(k[z.bucketInstanceId][z.featureIndex]=!0,N[z.bucketInstanceId]===void 0&&(N[z.bucketInstanceId]=[]),N[z.bucketInstanceId].push(z.featureIndex))}return N}insertCollisionBox(a,c,d,v,_,T){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:_,collisionGroupID:T,overlapMode:c},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,c,d,v,_,T){let M=d?this.ignoredGrid:this.grid,R={bucketInstanceId:v,featureIndex:_,collisionGroupID:T,overlapMode:c};for(let k=0;k<a.length;k+=4)M.insertCircle(R,a[k],a[k+1],a[k+2])}projectAndGetPerspectiveRatio(a,c,d,v,_){if(_){let T;v?(T=[a,c,v(a,c),1],i.aw(T,T,_)):(T=[a,c,0,1],qc(T,T,_));let M=T[3];return{x:(T[0]/M+1)/2*this.transform.width+mn,y:(-T[1]/M+1)/2*this.transform.height+mn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/M*.5,isOccluded:!1,signedDistanceFromCamera:M}}{let T=this.transform.projectTileCoordinates(a,c,d,v);return{x:(T.point.x+1)/2*this.transform.width+mn,y:(1-T.point.y)/2*this.transform.height+mn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/T.signedDistanceFromCamera*.5,isOccluded:T.isOccluded,signedDistanceFromCamera:T.signedDistanceFromCamera}}}getPerspectiveRatio(a,c,d,v){let _=this.transform.projectTileCoordinates(a,c,d,v);return .5+this.transform.cameraToCenterDistance/_.signedDistanceFromCamera*.5}isOffscreen(a,c,d,v){return d<mn||a>=this.screenRightBoundary||v<mn||c>this.screenBottomBoundary}isInsideGrid(a,c,d,v){return d>=0&&a<this.gridRightBoundary&&v>=0&&c<this.gridBottomBoundary}getViewportMatrix(){let a=i.ag([]);return i.M(a,a,[-100,-100,0]),a}_projectCollisionBox(a,c,d,v,_,T,M,R,k,N,j){let z=1,V=0,K=0,oe=1,ie=a.anchorPointX+M[0],ae=a.anchorPointY+M[1];if(T&&!_){let Ye=this.projectAndGetPerspectiveRatio(ie+1,ae,v,k,j),je=Ye.x-R.x,lt=Math.atan((Ye.y-R.y)/je)+(je<0?Math.PI:0),kt=Math.sin(lt),hr=Math.cos(lt);z=hr,V=kt,K=-kt,oe=hr}else if(!T&&_){let Ye=ir(this.transform);z=Ye.vecEast[0],V=Ye.vecEast[1],K=Ye.vecSouth[0],oe=Ye.vecSouth[1]}let ue=R.x,pe=R.y,he=c;_&&(ue=ie,pe=ae,he=Math.pow(2,-(this.transform.zoom-d.overscaledZ)),he*=this.transform.getPitchedTextCorrection(ie,ae,v),N||(he*=i.ah(.5+R.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),N&&(ue+=z*N.x*he+K*N.y*he,pe+=V*N.x*he+oe*N.y*he);let ve=a.x1*he,_e=a.x2*he,fe=(ve+_e)/2,Se=a.y1*he,Re=a.y2*he,Ie=(Se+Re)/2,Pe=[{offsetX:ve,offsetY:Se},{offsetX:fe,offsetY:Se},{offsetX:_e,offsetY:Se},{offsetX:_e,offsetY:Ie},{offsetX:_e,offsetY:Re},{offsetX:fe,offsetY:Re},{offsetX:ve,offsetY:Re},{offsetX:ve,offsetY:Ie}],qe=[];for(let{offsetX:Ye,offsetY:je}of Pe)qe.push(new i.P(ue+z*Ye+K*je,pe+V*Ye+oe*je));let Ze=!1;if(_){let Ye=qe.map(je=>this.projectAndGetPerspectiveRatio(je.x,je.y,v,k,j));Ze=Ye.some(je=>!je.isOccluded),qe=Ye.map(je=>new i.P(je.x,je.y))}else Ze=!0;return{box:i.aA(qe),allPointsOccluded:!Ze}}}class ho{constructor(a,c,d,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?c:-c))):v&&d?1:0,this.placed=d}isHidden(){return this.opacity===0&&!this.placed}}class Rr{constructor(a,c,d,v,_){this.text=new ho(a?a.text:null,c,d,_),this.icon=new ho(a?a.icon:null,c,v,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class L1{constructor(a,c,d){this.text=a,this.icon=c,this.skipFade=d}}class If{constructor(a,c,d,v,_){this.bucketInstanceId=a,this.featureIndex=c,this.sourceLayerIndex=d,this.bucketIndex=v,this.tileID=_}}class iy{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let c=++this.maxGroupID;this.collisionGroups[a]={ID:c,predicate:d=>d.collisionGroupID===c}}return this.collisionGroups[a]}}function xl(y,a,c,d,v){let{horizontalAlign:_,verticalAlign:T}=i.aH(y);return new i.P(-(_-.5)*a+d[0]*v,-(T-.5)*c+d[1]*v)}class bl{constructor(a,c,d,v,_){this.transform=a.clone(),this.terrain=c,this.collisionIndex=new gd(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new iy(v),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let c=this.terrain;return c?(d,v)=>c.getElevation(a,d,v):null}getBucketParts(a,c,d,v){let _=d.getBucket(c),T=d.latestFeatureIndex;if(!_||!T||c.id!==_.layerIds[0])return;let M=d.collisionBoxArray,R=_.layers[0].layout,k=_.layers[0].paint,N=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),j=d.tileSize/i.$,z=d.tileID.toUnwrapped(),V=R.get("text-rotation-alignment")==="map",K=i.aC(d,1,this.transform.zoom),oe=i.aD(this.collisionIndex.transform,d,k.get("text-translate"),k.get("text-translate-anchor")),ie=i.aD(this.collisionIndex.transform,d,k.get("icon-translate"),k.get("icon-translate-anchor")),ae=In(V,this.transform,K);this.retainedQueryData[_.bucketInstanceId]=new If(_.bucketInstanceId,T,_.sourceLayerIndex,_.index,d.tileID);let ue={bucket:_,layout:R,translationText:oe,translationIcon:ie,unwrappedTileID:z,pitchedLabelPlaneMatrix:ae,scale:N,textPixelRatio:j,holdingForFade:d.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:i.an(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(v)for(let pe of _.sortKeyRanges){let{sortKey:he,symbolInstanceStart:ve,symbolInstanceEnd:_e}=pe;a.push({sortKey:he,symbolInstanceStart:ve,symbolInstanceEnd:_e,parameters:ue})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:ue})}attemptAnchorPlacement(a,c,d,v,_,T,M,R,k,N,j,z,V,K,oe,ie,ae,ue,pe,he){let ve=i.aE[a.textAnchor],_e=[a.textOffset0,a.textOffset1],fe=xl(ve,d,v,_e,_),Se=this.collisionIndex.placeCollisionBox(c,z,R,k,N,M,T,ie,j.predicate,pe,fe,he);if((!ue||this.collisionIndex.placeCollisionBox(ue,z,R,k,N,M,T,ae,j.predicate,pe,fe,he).placeable)&&Se.placeable){let Re;if(this.prevPlacement&&this.prevPlacement.variableOffsets[V.crossTileID]&&this.prevPlacement.placements[V.crossTileID]&&this.prevPlacement.placements[V.crossTileID].text&&(Re=this.prevPlacement.variableOffsets[V.crossTileID].anchor),V.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[V.crossTileID]={textOffset:_e,width:d,height:v,anchor:ve,textBoxScale:_,prevAnchor:Re},this.markUsedJustification(K,ve,V,oe),K.allowVerticalPlacement&&(this.markUsedOrientation(K,oe,V),this.placedOrientations[V.crossTileID]=oe),{shift:fe,placedGlyphBoxes:Se}}}placeLayerBucketPart(a,c,d){let{bucket:v,layout:_,translationText:T,translationIcon:M,unwrappedTileID:R,pitchedLabelPlaneMatrix:k,textPixelRatio:N,holdingForFade:j,collisionBoxArray:z,partiallyEvaluatedTextSize:V,collisionGroup:K}=a.parameters,oe=_.get("text-optional"),ie=_.get("icon-optional"),ae=i.aF(_,"text-overlap","text-allow-overlap"),ue=ae==="always",pe=i.aF(_,"icon-overlap","icon-allow-overlap"),he=pe==="always",ve=_.get("text-rotation-alignment")==="map",_e=_.get("text-pitch-alignment")==="map",fe=_.get("icon-text-fit")!=="none",Se=_.get("symbol-z-order")==="viewport-y",Re=ue&&(he||!v.hasIconData()||ie),Ie=he&&(ue||!v.hasTextData()||oe);!v.collisionArrays&&z&&v.deserializeCollisionBoxes(z);let Pe=this.retainedQueryData[v.bucketInstanceId].tileID,qe=this._getTerrainElevationFunc(Pe),Ze=this.transform.getFastPathSimpleProjectionMatrix(Pe),Ye=(je,lt,kt)=>{var hr,Sr;if(c[je.crossTileID])return;if(j)return void(this.placements[je.crossTileID]=new L1(!1,!1,!1));let gr=!1,Xr=!1,ln=!0,Lt=null,Tr={box:null,placeable:!1,offscreen:null,occluded:!1},Dn={placeable:!1},Wn=null,ti=null,Gi=null,Na=0,Il=0,Cl=0;lt.textFeatureIndex?Na=lt.textFeatureIndex:je.useRuntimeCollisionCircles&&(Na=je.featureIndex),lt.verticalTextFeatureIndex&&(Il=lt.verticalTextFeatureIndex);let Jc=lt.textBox;if(Jc){let mo=kn=>{let Hn=i.ao.horizontal;if(v.allowVerticalPlacement&&!kn&&this.prevPlacement){let ea=this.prevPlacement.placedOrientations[je.crossTileID];ea&&(this.placedOrientations[je.crossTileID]=ea,Hn=ea,this.markUsedOrientation(v,Hn,je))}return Hn},Fa=(kn,Hn)=>{if(v.allowVerticalPlacement&&je.numVerticalGlyphVertices>0&&lt.verticalTextBox){for(let ea of v.writingModes)if(ea===i.ao.vertical?(Tr=Hn(),Dn=Tr):Tr=kn(),Tr&&Tr.placeable)break}else Tr=kn()},Zi=je.textAnchorOffsetStartIndex,Pl=je.textAnchorOffsetEndIndex;if(Pl===Zi){let kn=(Hn,ea)=>{let Nn=this.collisionIndex.placeCollisionBox(Hn,ae,N,Pe,R,_e,ve,T,K.predicate,qe,void 0,Ze);return Nn&&Nn.placeable&&(this.markUsedOrientation(v,ea,je),this.placedOrientations[je.crossTileID]=ea),Nn};Fa(()=>kn(Jc,i.ao.horizontal),()=>{let Hn=lt.verticalTextBox;return v.allowVerticalPlacement&&je.numVerticalGlyphVertices>0&&Hn?kn(Hn,i.ao.vertical):{box:null,offscreen:null}}),mo(Tr&&Tr.placeable)}else{let kn=i.aE[(Sr=(hr=this.prevPlacement)===null||hr===void 0?void 0:hr.variableOffsets[je.crossTileID])===null||Sr===void 0?void 0:Sr.anchor],Hn=(Nn,Qf,eh)=>{let Us=Nn.x2-Nn.x1,za=Nn.y2-Nn.y1,Al=je.textBoxScale,Iw=fe&&pe==="never"?Qf:null,Do=null,Cw=ae==="never"?1:2,Xy="never";kn&&Cw++;for(let Qd=0;Qd<Cw;Qd++){for(let em=Zi;em<Pl;em++){let Ml=v.textAnchorOffsets.get(em);if(kn&&Ml.textAnchor!==kn)continue;let Vs=this.attemptAnchorPlacement(Ml,Nn,Us,za,Al,ve,_e,N,Pe,R,K,Xy,je,v,eh,T,M,Iw,qe);if(Vs&&(Do=Vs.placedGlyphBoxes,Do&&Do.placeable))return gr=!0,Lt=Vs.shift,Do}kn?kn=null:Xy=ae}return d&&!Do&&(Do={box:this.collisionIndex.placeCollisionBox(Jc,"always",N,Pe,R,_e,ve,T,K.predicate,qe,void 0,Ze).box,offscreen:!1,placeable:!1,occluded:!1}),Do};Fa(()=>Hn(Jc,lt.iconBox,i.ao.horizontal),()=>{let Nn=lt.verticalTextBox;return v.allowVerticalPlacement&&(!Tr||!Tr.placeable)&&je.numVerticalGlyphVertices>0&&Nn?Hn(Nn,lt.verticalIconBox,i.ao.vertical):{box:null,occluded:!0,offscreen:null}}),Tr&&(gr=Tr.placeable,ln=Tr.offscreen);let ea=mo(Tr&&Tr.placeable);if(!gr&&this.prevPlacement){let Nn=this.prevPlacement.variableOffsets[je.crossTileID];Nn&&(this.variableOffsets[je.crossTileID]=Nn,this.markUsedJustification(v,Nn.anchor,je,ea))}}}if(Wn=Tr,gr=Wn&&Wn.placeable,ln=Wn&&Wn.offscreen,je.useRuntimeCollisionCircles){let mo=v.text.placedSymbolArray.get(je.centerJustifiedTextSymbolIndex),Fa=i.ap(v.textSizeData,V,mo),Zi=_.get("text-padding");ti=this.collisionIndex.placeCollisionCircles(ae,mo,v.lineVertexArray,v.glyphOffsetArray,Fa,R,k,d,_e,K.predicate,je.collisionCircleDiameter,Zi,T,qe),ti.circles.length&&ti.collisionDetected&&!d&&i.w("Collisions detected, but collision boxes are not shown"),gr=ue||ti.circles.length>0&&!ti.collisionDetected,ln=ln&&ti.offscreen}if(lt.iconFeatureIndex&&(Cl=lt.iconFeatureIndex),lt.iconBox){let mo=Fa=>this.collisionIndex.placeCollisionBox(Fa,pe,N,Pe,R,_e,ve,M,K.predicate,qe,fe&&Lt?Lt:void 0,Ze);Dn&&Dn.placeable&&lt.verticalIconBox?(Gi=mo(lt.verticalIconBox),Xr=Gi.placeable):(Gi=mo(lt.iconBox),Xr=Gi.placeable),ln=ln&&Gi.offscreen}let Qc=oe||je.numHorizontalGlyphVertices===0&&je.numVerticalGlyphVertices===0,ku=ie||je.numIconVertices===0;Qc||ku?ku?Qc||(Xr=Xr&&gr):gr=Xr&&gr:Xr=gr=Xr&&gr;let Nu=Xr&&Gi.placeable;if(gr&&Wn.placeable&&this.collisionIndex.insertCollisionBox(Wn.box,ae,_.get("text-ignore-placement"),v.bucketInstanceId,Dn&&Dn.placeable&&Il?Il:Na,K.ID),Nu&&this.collisionIndex.insertCollisionBox(Gi.box,pe,_.get("icon-ignore-placement"),v.bucketInstanceId,Cl,K.ID),ti&&gr&&this.collisionIndex.insertCollisionCircles(ti.circles,ae,_.get("text-ignore-placement"),v.bucketInstanceId,Na,K.ID),d&&this.storeCollisionData(v.bucketInstanceId,kt,lt,Wn,Gi,ti),je.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[je.crossTileID]=new L1((gr||Re)&&!(Wn!=null&&Wn.occluded),(Xr||Ie)&&!(Gi!=null&&Gi.occluded),ln||v.justReloaded),c[je.crossTileID]=!0};if(Se){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let je=v.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let lt=je.length-1;lt>=0;--lt){let kt=je[lt];Ye(v.symbolInstances.get(kt),v.collisionArrays[kt],kt)}}else for(let je=a.symbolInstanceStart;je<a.symbolInstanceEnd;je++)Ye(v.symbolInstances.get(je),v.collisionArrays[je],je);v.justReloaded=!1}storeCollisionData(a,c,d,v,_,T){if(d.textBox||d.iconBox){let M,R;this.collisionBoxArrays.has(a)?M=this.collisionBoxArrays.get(a):(M=new Map,this.collisionBoxArrays.set(a,M)),M.has(c)?R=M.get(c):(R={text:null,icon:null},M.set(c,R)),d.textBox&&(R.text=v.box),d.iconBox&&(R.icon=_.box)}if(T){let M=this.collisionCircleArrays[a];M===void 0&&(M=this.collisionCircleArrays[a]=[]);for(let R=0;R<T.circles.length;R+=4)M.push(T.circles[R+0]-mn),M.push(T.circles[R+1]-mn),M.push(T.circles[R+2]),M.push(T.collisionDetected?1:0)}}markUsedJustification(a,c,d,v){let _;_=v===i.ao.vertical?d.verticalPlacedTextSymbolIndex:{left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex}[i.aG(c)];let T=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex,d.verticalPlacedTextSymbolIndex];for(let M of T)M>=0&&(a.text.placedSymbolArray.get(M).crossTileID=_>=0&&M!==_?0:d.crossTileID)}markUsedOrientation(a,c,d){let v=c===i.ao.horizontal||c===i.ao.horizontalOnly?c:0,_=c===i.ao.vertical?c:0,T=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex];for(let M of T)a.text.placedSymbolArray.get(M).placedOrientation=v;d.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(d.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let c=this.prevPlacement,d=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;let v=c?c.symbolFadeChange(a):1,_=c?c.opacities:{},T=c?c.variableOffsets:{},M=c?c.placedOrientations:{};for(let R in this.placements){let k=this.placements[R],N=_[R];N?(this.opacities[R]=new Rr(N,v,k.text,k.icon),d=d||k.text!==N.text.placed||k.icon!==N.icon.placed):(this.opacities[R]=new Rr(null,v,k.text,k.icon,k.skipFade),d=d||k.text||k.icon)}for(let R in _){let k=_[R];if(!this.opacities[R]){let N=new Rr(k,v,!1,!1);N.isHidden()||(this.opacities[R]=N,d=d||k.text.placed||k.icon.placed)}}for(let R in T)this.variableOffsets[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.variableOffsets[R]=T[R]);for(let R in M)this.placedOrientations[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.placedOrientations[R]=M[R]);if(c&&c.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");d?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:a)}updateLayerOpacities(a,c){let d={};for(let v of c){let _=v.getBucket(a);_&&v.latestFeatureIndex&&a.id===_.layerIds[0]&&this.updateBucketOpacities(_,v.tileID,d,v.collisionBoxArray)}}updateBucketOpacities(a,c,d,v){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let _=a.layers[0],T=_.layout,M=new Rr(null,0,!1,!1,!0),R=T.get("text-allow-overlap"),k=T.get("icon-allow-overlap"),N=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),j=T.get("text-rotation-alignment")==="map",z=T.get("text-pitch-alignment")==="map",V=T.get("icon-text-fit")!=="none",K=new Rr(null,0,R&&(k||!a.hasIconData()||T.get("icon-optional")),k&&(R||!a.hasTextData()||T.get("text-optional")),!0);!a.collisionArrays&&v&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(v);let oe=(ae,ue,pe)=>{for(let he=0;he<ue/4;he++)ae.opacityVertexArray.emplaceBack(pe);ae.hasVisibleVertices=ae.hasVisibleVertices||pe!==Oc},ie=this.collisionBoxArrays.get(a.bucketInstanceId);for(let ae=0;ae<a.symbolInstances.length;ae++){let ue=a.symbolInstances.get(ae),{numHorizontalGlyphVertices:pe,numVerticalGlyphVertices:he,crossTileID:ve}=ue,_e=this.opacities[ve];d[ve]?_e=M:_e||(_e=K,this.opacities[ve]=_e),d[ve]=!0;let fe=ue.numIconVertices>0,Se=this.placedOrientations[ue.crossTileID],Re=Se===i.ao.vertical,Ie=Se===i.ao.horizontal||Se===i.ao.horizontalOnly;if(pe>0||he>0){let qe=ay(_e.text);oe(a.text,pe,Re?Oc:qe),oe(a.text,he,Ie?Oc:qe);let Ze=_e.text.isHidden();[ue.rightJustifiedTextSymbolIndex,ue.centerJustifiedTextSymbolIndex,ue.leftJustifiedTextSymbolIndex].forEach(lt=>{lt>=0&&(a.text.placedSymbolArray.get(lt).hidden=Ze||Re?1:0)}),ue.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ue.verticalPlacedTextSymbolIndex).hidden=Ze||Ie?1:0);let Ye=this.variableOffsets[ue.crossTileID];Ye&&this.markUsedJustification(a,Ye.anchor,ue,Se);let je=this.placedOrientations[ue.crossTileID];je&&(this.markUsedJustification(a,"left",ue,je),this.markUsedOrientation(a,je,ue))}if(fe){let qe=ay(_e.icon),Ze=!(V&&ue.verticalPlacedIconSymbolIndex&&Re);ue.placedIconSymbolIndex>=0&&(oe(a.icon,ue.numIconVertices,Ze?qe:Oc),a.icon.placedSymbolArray.get(ue.placedIconSymbolIndex).hidden=_e.icon.isHidden()),ue.verticalPlacedIconSymbolIndex>=0&&(oe(a.icon,ue.numVerticalIconVertices,Ze?Oc:qe),a.icon.placedSymbolArray.get(ue.verticalPlacedIconSymbolIndex).hidden=_e.icon.isHidden())}let Pe=ie&&ie.has(ae)?ie.get(ae):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let qe=a.collisionArrays[ae];if(qe){let Ze=new i.P(0,0);if(qe.textBox||qe.verticalTextBox){let Ye=!0;if(N){let je=this.variableOffsets[ve];je?(Ze=xl(je.anchor,je.width,je.height,je.textOffset,je.textBoxScale),j&&Ze._rotate(z?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Ye=!1}if(qe.textBox||qe.verticalTextBox){let je;qe.textBox&&(je=Re),qe.verticalTextBox&&(je=Ie),oy(a.textCollisionBox.collisionVertexArray,_e.text.placed,!Ye||je,Pe.text,Ze.x,Ze.y)}}if(qe.iconBox||qe.verticalIconBox){let Ye=!!(!Ie&&qe.verticalIconBox),je;qe.iconBox&&(je=Ye),qe.verticalIconBox&&(je=!Ye),oy(a.iconCollisionBox.collisionVertexArray,_e.icon.placed,je,Pe.icon,V?Ze.x:0,V?Ze.y:0)}}}}if(a.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);a.bucketInstanceId in this.collisionCircleArrays&&(a.collisionCircleArray=this.collisionCircleArrays[a.bucketInstanceId],delete this.collisionCircleArrays[a.bucketInstanceId])}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,c){let d=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*d>a}setStale(){this.stale=!0}}function oy(y,a,c,d,v,_){d&&d.length!==0||(d=[0,0,0,0]);let T=d[0]-mn,M=d[1]-mn,R=d[2]-mn,k=d[3]-mn;y.emplaceBack(a?1:0,c?1:0,v||0,_||0,T,M),y.emplaceBack(a?1:0,c?1:0,v||0,_||0,R,M),y.emplaceBack(a?1:0,c?1:0,v||0,_||0,R,k),y.emplaceBack(a?1:0,c?1:0,v||0,_||0,T,k)}let D1=Math.pow(2,25),k1=Math.pow(2,24),Rc=Math.pow(2,17),N1=Math.pow(2,16),IM=Math.pow(2,9),CM=Math.pow(2,8),PM=Math.pow(2,1);function ay(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;let a=y.placed?1:0,c=Math.floor(127*y.opacity);return c*D1+a*k1+c*Rc+a*N1+c*IM+a*CM+c*PM+a}let Oc=0;class sy{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,c,d,v,_){let T=this._bucketParts;for(;this._currentTileIndex<a.length;)if(c.getBucketParts(T,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((M,R)=>M.sortKey-R.sortKey));this._currentPartIndex<T.length;)if(c.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,d),this._currentPartIndex++,_())return!0;return!1}}class ly{constructor(a,c,d,v,_,T,M,R){this.placement=new bl(a,c,T,M,R),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(a,c,d){let v=C.now(),_=()=>!this._forceFullPlacement&&C.now()-v>2;for(;this._currentPlacementIndex>=0;){let T=c[a[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=M)&&(!T.maxzoom||T.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new sy(T)),this._inProgressLayer.continuePlacement(d[T.source],this.placement,this._showCollisionBoxes,T,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let Lc=512/i.$/2;class uy{constructor(a,c,d){this.tileID=a,this.bucketInstanceId=d,this._symbolsByKey={};let v=new Map;for(let _=0;_<c.length;_++){let T=c.get(_),M=T.key,R=v.get(M);R?R.push(T):v.set(M,[T])}for(let[_,T]of v){let M={positions:T.map(R=>({x:Math.floor(R.anchorX*Lc),y:Math.floor(R.anchorY*Lc)})),crossTileIDs:T.map(R=>R.crossTileID)};if(M.positions.length>128){let R=new i.aI(M.positions.length,16,Uint16Array);for(let{x:k,y:N}of M.positions)R.add(k,N);R.finish(),delete M.positions,M.index=R}this._symbolsByKey[_]=M}}getScaledCoordinates(a,c){let{x:d,y:v,z:_}=this.tileID.canonical,{x:T,y:M,z:R}=c.canonical,k=Lc/Math.pow(2,R-_),N=(M*i.$+a.anchorY)*k,j=v*i.$*Lc;return{x:Math.floor((T*i.$+a.anchorX)*k-d*i.$*Lc),y:Math.floor(N-j)}}findMatches(a,c,d){let v=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let _=0;_<a.length;_++){let T=a.get(_);if(T.crossTileID)continue;let M=this._symbolsByKey[T.key];if(!M)continue;let R=this.getScaledCoordinates(T,c);if(M.index){let k=M.index.range(R.x-v,R.y-v,R.x+v,R.y+v).sort();for(let N of k){let j=M.crossTileIDs[N];if(!d[j]){d[j]=!0,T.crossTileID=j;break}}}else if(M.positions)for(let k=0;k<M.positions.length;k++){let N=M.positions[k],j=M.crossTileIDs[k];if(Math.abs(N.x-R.x)<=v&&Math.abs(N.y-R.y)<=v&&!d[j]){d[j]=!0,T.crossTileID=j;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class cy{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class AM{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let c=Math.round((a-this.lng)/360);if(c!==0)for(let d in this.indexes){let v=this.indexes[d],_={};for(let T in v){let M=v[T];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+c),_[M.tileID.key]=M}this.indexes[d]=_}this.lng=a}addBucket(a,c,d){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let _=0;_<c.symbolInstances.length;_++)c.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let v=this.usedCrossTileIDs[a.overscaledZ];for(let _ in this.indexes){let T=this.indexes[_];if(Number(_)>a.overscaledZ)for(let M in T){let R=T[M];R.tileID.isChildOf(a)&&R.findMatches(c.symbolInstances,a,v)}else{let M=T[a.scaledTo(Number(_)).key];M&&M.findMatches(c.symbolInstances,a,v)}}for(let _=0;_<c.symbolInstances.length;_++){let T=c.symbolInstances.get(_);T.crossTileID||(T.crossTileID=d.generate(),v[T.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new uy(a,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(a,c){for(let d of c.getCrossTileIDsLists())for(let v of d)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let c=!1;for(let d in this.indexes){let v=this.indexes[d];for(let _ in v)a[v[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(d,v[_]),delete v[_],c=!0)}return c}}class Dc{constructor(){this.layerIndexes={},this.crossTileIDs=new cy,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,c,d){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new AM);let _=!1,T={};v.handleWrapJump(d);for(let M of c){let R=M.getBucket(a);R&&a.id===R.layerIds[0]&&(R.bucketInstanceId||(R.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(M.tileID,R,this.crossTileIDs)&&(_=!0),T[R.bucketInstanceId]=!0)}return v.removeStaleBuckets(T)&&(_=!0),_}pruneUnusedLayers(a){let c={};a.forEach(d=>{c[d]=!0});for(let d in this.layerIndexes)c[d]||delete this.layerIndexes[d]}}var Cf="void main() {fragColor=vec4(1.0);}";let Aa={prelude:Wt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Wt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Wt("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Wt(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Wt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Wt(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Wt(Cf,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Wt(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Wt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Wt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Wt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Wt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Wt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Wt(Cf,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Wt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Wt(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Wt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Wt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Wt(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Wt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Wt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Wt(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Wt(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Wt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Wt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Wt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Wt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Wt(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Wt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Wt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Wt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Wt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Wt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Wt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Wt(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Wt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Wt(y,a){let c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=a.match(/in ([\w]+) ([\w]+)/g),v=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=_?_.concat(v):v,M={};return{fragmentSource:y=y.replace(c,(R,k,N,j,z)=>(M[z]=!0,k==="define"?`
#ifndef HAS_UNIFORM_u_${z}
in ${N} ${j} ${z};
#else
uniform ${N} ${j} u_${z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${z}
    ${N} ${j} ${z} = u_${z};
#endif
`)),vertexSource:a=a.replace(c,(R,k,N,j,z)=>{let V=j==="float"?"vec2":"vec4",K=z.match(/color/)?"color":V;return M[z]?k==="define"?`
#ifndef HAS_UNIFORM_u_${z}
uniform lowp float u_${z}_t;
in ${N} ${V} a_${z};
out ${N} ${j} ${z};
#else
uniform ${N} ${j} u_${z};
#endif
`:K==="vec4"?`
#ifndef HAS_UNIFORM_u_${z}
    ${z} = a_${z};
#else
    ${N} ${j} ${z} = u_${z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${z}
    ${z} = unpack_mix_${K}(a_${z}, u_${z}_t);
#else
    ${N} ${j} ${z} = u_${z};
#endif
`:k==="define"?`
#ifndef HAS_UNIFORM_u_${z}
uniform lowp float u_${z}_t;
in ${N} ${V} a_${z};
#else
uniform ${N} ${j} u_${z};
#endif
`:K==="vec4"?`
#ifndef HAS_UNIFORM_u_${z}
    ${N} ${j} ${z} = a_${z};
#else
    ${N} ${j} ${z} = u_${z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${z}
    ${N} ${j} ${z} = unpack_mix_${K}(a_${z}, u_${z}_t);
#else
    ${N} ${j} ${z} = u_${z};
#endif
`}),staticAttributes:d,staticUniforms:T}}class _u{constructor(a,c,d){this.vertexBuffer=a,this.indexBuffer=c,this.segments=d}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var wl=i.aJ([{name:"a_pos",type:"Int16",components:2}]);let Fs="#define PROJECTION_MERCATOR",xu="mercator";class Ht{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return xu}get shaderDefine(){return Fs}get shaderPreludeCode(){return Aa.projectionMercator}get vertexShaderPreludeCode(){return Aa.projectionMercator.vertexSource}get subdivisionGranularity(){return i.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(a){}getMeshFromTileID(a,c,d,v,_){if(this._cachedMesh)return this._cachedMesh;let T=new i.aL;T.emplaceBack(0,0),T.emplaceBack(i.$,0),T.emplaceBack(0,i.$),T.emplaceBack(i.$,i.$);let M=a.createVertexBuffer(T,wl.members),R=i.aM.simpleSegment(0,0,4,2),k=new i.aN;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3);let N=a.createIndexBuffer(k);return this._cachedMesh=new _u(M,N,R),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(a){}}class bu{constructor(a=0,c=0,d=0,v=0){if(isNaN(a)||a<0||isNaN(c)||c<0||isNaN(d)||d<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=c,this.left=d,this.right=v}interpolate(a,c,d){return c.top!=null&&a.top!=null&&(this.top=i.C.number(a.top,c.top,d)),c.bottom!=null&&a.bottom!=null&&(this.bottom=i.C.number(a.bottom,c.bottom,d)),c.left!=null&&a.left!=null&&(this.left=i.C.number(a.left,c.left,d)),c.right!=null&&a.right!=null&&(this.right=i.C.number(a.right,c.right,d)),this}getCenter(a,c){let d=i.ah((this.left+a-this.right)/2,0,a),v=i.ah((this.top+c-this.bottom)/2,0,c);return new i.P(d,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new bu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function yd(y,a){if(!y.renderWorldCopies||y.lngRange)return;let c=a.lng-y.center.lng;a.lng+=c>180?-360:c<-180?360:0}function _d(y){return Math.max(0,Math.floor(y))}class Bi{constructor(a,c,d,v,_,T){this._callbacks=a,this._tileSize=512,this._renderWorldCopies=T===void 0||!!T,this._minZoom=c||0,this._maxZoom=d||22,this._minPitch=v==null?0:v,this._maxPitch=_==null?60:_,this.setMaxBounds(),this._width=0,this._height=0,this._center=new i.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=_d(this._zoom),this._scale=i.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new bu,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(a,c,d){this._latRange=a.latRange,this._lngRange=a.lngRange,this._width=a.width,this._height=a.height,this._center=a.center,this._elevation=a.elevation,this._minElevationForCurrentTile=a.minElevationForCurrentTile,this._zoom=a.zoom,this._tileZoom=_d(this._zoom),this._scale=i.af(this._zoom),this._bearingInRadians=a.bearingInRadians,this._fovInRadians=a.fovInRadians,this._pitchInRadians=a.pitchInRadians,this._rollInRadians=a.rollInRadians,this._unmodified=a.unmodified,this._edgeInsets=new bu(a.padding.top,a.padding.bottom,a.padding.left,a.padding.right),this._minZoom=a.minZoom,this._maxZoom=a.maxZoom,this._minPitch=a.minPitch,this._maxPitch=a.maxPitch,this._renderWorldCopies=a.renderWorldCopies,this._cameraToCenterDistance=a.cameraToCenterDistance,this._nearZ=a.nearZ,this._farZ=a.farZ,this._autoCalculateNearFarZ=!d&&a.autoCalculateNearFarZ,c&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(a){this._minElevationForCurrentTile=a}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(a){this._minZoom!==a&&(this._minZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(a){this._minPitch!==a&&(this._minPitch=a,this.setPitch(Math.max(this.pitch,a)))}get maxPitch(){return this._maxPitch}setMaxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.setPitch(Math.min(this.pitch,a)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new i.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(a){let c=i.aO(a,-180,180)*Math.PI/180;var d,v,_,T,M,R,k,N,j;this._bearingInRadians!==c&&(this._unmodified=!1,this._bearingInRadians=c,this._calcMatrices(),this._rotationMatrix=g(),d=this._rotationMatrix,_=-this._bearingInRadians,T=(v=this._rotationMatrix)[0],M=v[1],R=v[2],k=v[3],N=Math.sin(_),j=Math.cos(_),d[0]=T*j+R*N,d[1]=M*j+k*N,d[2]=T*-N+R*j,d[3]=M*-N+k*j)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(a){let c=i.ah(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==c&&(this._unmodified=!1,this._pitchInRadians=c,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(a){let c=a/180*Math.PI;this._rollInRadians!==c&&(this._unmodified=!1,this._rollInRadians=c,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return i.aP(this._fovInRadians)}setFov(a){a=i.ah(a,.1,150),this.fov!==a&&(this._unmodified=!1,this._fovInRadians=i.ae(a),this._calcMatrices())}get zoom(){return this._zoom}setZoom(a){let c=this.getConstrained(this._center,a).zoom;this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this._tileZoom=Math.max(0,Math.floor(c)),this._scale=i.af(c),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(a,c){this._autoCalculateNearFarZ=!1,this._nearZ=a,this._farZ=c,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,c,d){this._unmodified=!1,this._edgeInsets.interpolate(a,c,d),this._constrain(),this._calcMatrices()}resize(a,c,d=!0){this._width=a,this._height=c,d&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Vr([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(a){a?(this._lngRange=[a.getWest(),a.getEast()],this._latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-i.ai,i.ai])}getConstrained(a,c){return this._callbacks.getConstrained(a,c)}getCameraQueryGeometry(a,c){if(c.length===1)return[c[0],a];{let{minX:d,minY:v,maxX:_,maxY:T}=i.a2.fromPoints(c).extend(a);return[new i.P(d,v),new i.P(_,v),new i.P(_,T),new i.P(d,T),new i.P(d,v)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:c,zoom:d}=this.getConstrained(this.center,this.zoom);this.setCenter(c),this.setZoom(d),this._unmodified=a,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let a=i.ag(new Float64Array(16));i.N(a,a,[this._width/2,-this._height/2,1]),i.M(a,a,[1,-1,0]),this._clipSpaceToPixelsMatrix=a,a=i.ag(new Float64Array(16)),i.N(a,a,[1,-1,1]),i.M(a,a,[-1,-1,0]),i.N(a,a,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=a,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(a,c,d,v){let _=d!==void 0?d:this.bearing,T=v=v!==void 0?v:this.pitch,M=i.a1.fromLngLat(a,c),R=-Math.cos(i.ae(T)),k=Math.sin(i.ae(T)),N=k*Math.sin(i.ae(_)),j=-k*Math.cos(i.ae(_)),z=this.elevation,V=c-z,K;R*V>=0||Math.abs(R)<.1?(K=1e4,z=c+K*R):K=-V/R;let oe,ie,ae=i.aQ(1,M.y),ue=0;do{if(ue+=1,ue>10)break;ie=K/ae,oe=new i.a1(M.x+N*ie,M.y+j*ie),ae=1/oe.meterInMercatorCoordinateUnits()}while(Math.abs(K-ie*ae)>1e-12);return{center:oe.toLngLat(),elevation:z,zoom:i.ak(this.height/2/Math.tan(this.fovInRadians/2)/ie/this.tileSize)}}recalculateZoomAndCenter(a){if(this.elevation-a==0)return;let c=i.aj(1,this.center.lat)*this.worldSize,d=this.cameraToCenterDistance/c,v=i.a1.fromLngLat(this.center,this.elevation),_=Ce(this.center,this.elevation,this.pitch,this.bearing,d);this._elevation=a;let T=this.calculateCenterFromCameraLngLatAlt(_.toLngLat(),i.aQ(_.z,v.y),this.bearing,this.pitch);this._elevation=T.elevation,this._center=T.center,this.setZoom(T.zoom)}getCameraPoint(){let a=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.P(a*Math.sin(this.rollInRadians),a*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let a=i.aj(1,this.center.lat)*this.worldSize;return Ce(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/a).toLngLat()}getMercatorTileCoordinates(a){if(!a)return[0,0,1,1];let c=a.canonical.z>=0?1<<a.canonical.z:Math.pow(2,a.canonical.z);return[a.canonical.x/c,a.canonical.y/c,1/c/i.$,1/c/i.$]}}class Qn{constructor(a,c){this.min=a,this.max=c,this.center=i.aR([],i.aS([],this.min,this.max),.5)}quadrant(a){let c=[a%2==0,a<2],d=i.aT(this.min),v=i.aT(this.max);for(let _=0;_<c.length;_++)d[_]=c[_]?this.min[_]:this.center[_],v[_]=c[_]?this.center[_]:this.max[_];return v[2]=this.max[2],new Qn(d,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersectsFrustum(a){let c=!0;for(let d=0;d<a.planes.length;d++){let v=this.intersectsPlane(a.planes[d]);if(v===0)return 0;v===1&&(c=!1)}return c?2:a.aabb.min[0]>this.max[0]||a.aabb.min[1]>this.max[1]||a.aabb.min[2]>this.max[2]||a.aabb.max[0]<this.min[0]||a.aabb.max[1]<this.min[1]||a.aabb.max[2]<this.min[2]?0:1}intersectsPlane(a){let c=a[3],d=a[3];for(let v=0;v<3;v++)a[v]>0?(c+=a[v]*this.min[v],d+=a[v]*this.max[v]):(d+=a[v]*this.min[v],c+=a[v]*this.max[v]);return c>=0?2:d<0?0:1}}class Ui{distanceToTile2d(a,c,d,v){let _=v.distanceX([a,c]),T=v.distanceY([a,c]);return Math.hypot(_,T)}getWrap(a,c,d){return d}getTileBoundingVolume(a,c,d,v){var _,T;let M=0,R=0;if(v!=null&&v.terrain){let N=new i.Z(a.z,c,a.z,a.x,a.y),j=v.terrain.getMinMaxElevation(N);M=(_=j.minElevation)!==null&&_!==void 0?_:Math.min(0,d),R=(T=j.maxElevation)!==null&&T!==void 0?T:Math.max(0,d)}let k=1<<a.z;return new Qn([c+a.x/k,a.y/k,M],[c+(a.x+1)/k,(a.y+1)/k,R])}allowVariableZoom(a,c){let d=a.fov*(Math.abs(Math.cos(a.rollInRadians))*a.height+Math.abs(Math.sin(a.rollInRadians))*a.width)/a.height,v=i.ah(78.5-d/2,0,60);return!!c.terrain||a.pitch>v}allowWorldCopies(){return!0}prepareNextFrame(){}}class Ln{constructor(a,c,d){this.points=a,this.planes=c,this.aabb=d}static fromInvProjectionMatrix(a,c=1,d=0,v,_){let T=_?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],M=Math.pow(2,d),R=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>function(V,K,oe,ie){let ae=i.aw([],V,K),ue=1/ae[3]/oe*ie;return i.aY(ae,ae,[ue,ue,1/ae[3],ue])}(z,a,c,M));v&&function(z,V,K,oe){let ie=oe?4:0,ae=oe?0:4,ue=0,pe=[],he=[];for(let fe=0;fe<4;fe++){let Se=i.aU([],z[fe+ae],z[fe+ie]),Re=i.aZ(Se);i.aR(Se,Se,1/Re),pe.push(Re),he.push(Se)}for(let fe=0;fe<4;fe++){let Se=i.a_(z[fe+ie],he[fe],K);ue=Se!==null&&Se>=0?Math.max(ue,Se):Math.max(ue,pe[fe])}let ve=function(fe,Se){let Re=i.aU([],fe[Se[0]],fe[Se[1]]),Ie=i.aU([],fe[Se[2]],fe[Se[1]]),Pe=[0,0,0,0];return i.aV(Pe,i.aW([],Re,Ie)),Pe[3]=-i.aX(Pe,fe[Se[0]]),Pe}(z,V),_e=function(fe,Se){let Re=i.a$(fe),Ie=i.b0([],fe,1/Re),Pe=i.aU([],Se,i.aR([],Ie,i.aX(Se,Ie))),qe=i.a$(Pe);if(qe>0){let Ze=Math.sqrt(1-Ie[3]*Ie[3]),Ye=i.aR([],Ie,-Ie[3]),je=i.aS([],Ye,i.aR([],Pe,Ze/qe));return i.b1(Se,je)}return null}(K,ve);if(_e!==null){let fe=_e/i.aX(he[0],ve);ue=Math.min(ue,fe)}for(let fe=0;fe<4;fe++){let Se=Math.min(ue,pe[fe]);z[fe+ae]=[z[fe+ie][0]+he[fe][0]*Se,z[fe+ie][1]+he[fe][1]*Se,z[fe+ie][2]+he[fe][2]*Se,1]}}(R,T[0],v,_);let k=T.map(z=>{let V=i.aU([],R[z[0]],R[z[1]]),K=i.aU([],R[z[2]],R[z[1]]),oe=i.aV([],i.aW([],V,K)),ie=-i.aX(oe,R[z[1]]);return oe.concat(ie)}),N=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],j=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let z of R)for(let V=0;V<3;V++)N[V]=Math.min(N[V],z[V]),j[V]=Math.max(j[V],z[V]);return new Ln(R,k,new Qn(N,j))}}class Or{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,c,d){return this._helper.interpolatePadding(a,c,d)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,c,d=!0){this._helper.resize(a,c,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,c){this._helper.overrideNearFarZ(a,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a,c){}constructor(a,c,d,v,_){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Bi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(T,M)=>this.getConstrained(T,M)},a,c,d,v,_),this._coveringTilesDetailsProvider=new Ui}clone(){let a=new Or;return a.apply(this),a}apply(a,c,d){this._helper.apply(a,c,d)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(a){let c=[new i.b2(0,a)];if(this._helper._renderWorldCopies){let d=this.screenPointToMercatorCoordinate(new i.P(0,0)),v=this.screenPointToMercatorCoordinate(new i.P(this._helper._width,0)),_=this.screenPointToMercatorCoordinate(new i.P(this._helper._width,this._helper._height)),T=this.screenPointToMercatorCoordinate(new i.P(0,this._helper._height)),M=Math.floor(Math.min(d.x,v.x,_.x,T.x)),R=Math.floor(Math.max(d.x,v.x,_.x,T.x)),k=1;for(let N=M-k;N<=R+k;N++)N!==0&&c.push(new i.b2(N,a))}return c}getCameraFrustum(){return Ln.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){let c=this.screenPointToLocation(this.centerPoint,a),d=a?a.getElevationForLngLatZoom(c,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(d)}setLocationAtPoint(a,c){let d=i.aj(this.elevation,this.center.lat),v=this.screenPointToMercatorCoordinateAtZ(c,d),_=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,d),T=i.a1.fromLngLat(a),M=new i.a1(T.x-(v.x-_.x),T.y-(v.y-_.y));this.setCenter(M==null?void 0:M.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(a,c){return c?this.coordinatePoint(i.a1.fromLngLat(a),c.getElevationForLngLatZoom(a,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(i.a1.fromLngLat(a))}screenPointToLocation(a,c){var d;return(d=this.screenPointToMercatorCoordinate(a,c))===null||d===void 0?void 0:d.toLngLat()}screenPointToMercatorCoordinate(a,c){if(c){let d=c.pointCoordinate(a);if(d!=null)return d}return this.screenPointToMercatorCoordinateAtZ(a)}screenPointToMercatorCoordinateAtZ(a,c){let d=c||0,v=[a.x,a.y,0,1],_=[a.x,a.y,1,1];i.aw(v,v,this._pixelMatrixInverse),i.aw(_,_,this._pixelMatrixInverse);let T=v[3],M=_[3],R=v[1]/T,k=_[1]/M,N=v[2]/T,j=_[2]/M,z=N===j?0:(d-N)/(j-N);return new i.a1(i.C.number(v[0]/T,_[0]/M,z)/this.worldSize,i.C.number(R,k,z)/this.worldSize,d)}coordinatePoint(a,c=0,d=this._pixelMatrix){let v=[a.x*this.worldSize,a.y*this.worldSize,c,1];return i.aw(v,v,d),new i.P(v[0]/v[3],v[1]/v[3])}getBounds(){let a=Math.max(0,this._helper._height/2-ge(this));return new Vr().extend(this.screenPointToLocation(new i.P(0,a))).extend(this.screenPointToLocation(new i.P(this._helper._width,a))).extend(this.screenPointToLocation(new i.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new i.P(0,this._helper._height)))}isPointOnMapSurface(a,c){return c?c.pointCoordinate(a)!=null:a.y>this.height/2-ge(this)}calculatePosMatrix(a,c=!1,d){var v;let _=(v=a.key)!==null&&v!==void 0?v:i.b3(a.wrap,a.canonical.z,a.canonical.z,a.canonical.x,a.canonical.y),T=c?this._alignedPosMatrixCache:this._posMatrixCache;if(T.has(_)){let k=T.get(_);return d?k.f32:k.f64}let M=we(a,this.worldSize);i.O(M,c?this._alignedProjMatrix:this._viewProjMatrix,M);let R={f64:M,f32:new Float32Array(M)};return T.set(_,R),d?R.f32:R.f64}calculateFogMatrix(a){let c=a.key,d=this._fogMatrixCacheF32;if(d.has(c))return d.get(c);let v=we(a,this.worldSize);return i.O(v,this._fogMatrix,v),d.set(c,new Float32Array(v)),d.get(c)}getConstrained(a,c){c=i.ah(+c,this.minZoom,this.maxZoom);let d={center:new i.S(a.lng,a.lat),zoom:c},v=this._helper._lngRange;if(!this._helper._renderWorldCopies&&v===null){let pe=179.9999999999;v=[-pe,pe]}let _=this.tileSize*i.af(d.zoom),T=0,M=_,R=0,k=_,N=0,j=0,{x:z,y:V}=this.size;if(this._helper._latRange){let pe=this._helper._latRange;T=i.U(pe[1])*_,M=i.U(pe[0])*_,M-T<V&&(N=V/(M-T))}v&&(R=i.aO(i.V(v[0])*_,0,_),k=i.aO(i.V(v[1])*_,0,_),k<R&&(k+=_),k-R<z&&(j=z/(k-R)));let{x:K,y:oe}=re(_,a),ie,ae,ue=Math.max(j||0,N||0);if(ue){let pe=new i.P(j?(k+R)/2:K,N?(M+T)/2:oe);return d.center=ce(_,pe).wrap(),d.zoom+=i.ak(ue),d}if(this._helper._latRange){let pe=V/2;oe-pe<T&&(ae=T+pe),oe+pe>M&&(ae=M-pe)}if(v){let pe=(R+k)/2,he=K;this._helper._renderWorldCopies&&(he=i.aO(K,pe-_/2,pe+_/2));let ve=z/2;he-ve<R&&(ie=R+ve),he+ve>k&&(ie=k-ve)}if(ie!==void 0||ae!==void 0){let pe=new i.P(ie!=null?ie:K,ae!=null?ae:oe);d.center=ce(_,pe).wrap()}return d}calculateCenterFromCameraLngLatAlt(a,c,d,v){return this._helper.calculateCenterFromCameraLngLatAlt(a,c,d,v)}_calculateNearFarZIfNeeded(a,c,d){if(!this._helper.autoCalculateNearFarZ)return;let v=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),_=a-v*this._helper._pixelPerMeter/Math.cos(c),T=v<0?_:a,M=Math.PI/2+this.pitchInRadians,R=i.ae(this.fov)*(Math.abs(Math.cos(i.ae(this.roll)))*this.height+Math.abs(Math.sin(i.ae(this.roll)))*this.width)/this.height*(.5+d.y/this.height),k=Math.sin(R)*T/Math.sin(i.ah(Math.PI-M-R,.01,Math.PI-.01)),N=ge(this),j=Math.atan(N/this._helper.cameraToCenterDistance),z=i.ae(.75),V=j>z?2*j*(.5+d.y/(2*N)):z,K=Math.sin(V)*T/Math.sin(i.ah(Math.PI-M-V,.01,Math.PI-.01)),oe=Math.min(k,K);this._helper._farZ=1.01*(Math.cos(Math.PI/2-c)*oe+T),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let a=this.centerOffset,c=re(this.worldSize,this.center),d=c.x,v=c.y;this._helper._pixelPerMeter=i.aj(1,this.center.lat)*this.worldSize;let _=i.ae(Math.min(this.pitch,J)),T=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(_)),M;this._calculateNearFarZIfNeeded(T,_,a),M=new Float64Array(16),i.b4(M,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),i.aq(this._invProjMatrix,M),M[8]=2*-a.x/this._helper._width,M[9]=2*a.y/this._helper._height,this._projectionMatrix=i.b5(M),i.N(M,M,[1,-1,1]),i.M(M,M,[0,0,-this._helper.cameraToCenterDistance]),i.b6(M,M,-this.rollInRadians),i.b7(M,M,this.pitchInRadians),i.b6(M,M,-this.bearingInRadians),i.M(M,M,[-d,-v,0]),this._mercatorMatrix=i.N([],M,[this.worldSize,this.worldSize,this.worldSize]),i.N(M,M,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=i.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,M),i.M(M,M,[0,0,-this.elevation]),this._viewProjMatrix=M,this._invViewProjMatrix=i.aq([],M);let R=[0,0,-1,1];i.aw(R,R,this._invViewProjMatrix),this._cameraPosition=[R[0]/R[3],R[1]/R[3],R[2]/R[3]],this._fogMatrix=new Float64Array(16),i.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,T,this._helper._farZ),this._fogMatrix[8]=2*-a.x/this.width,this._fogMatrix[9]=2*a.y/this.height,i.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),i.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),i.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),i.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),i.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),i.M(this._fogMatrix,this._fogMatrix,[-d,-v,0]),i.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),i.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=i.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,M);let k=this._helper._width%2/2,N=this._helper._height%2/2,j=Math.cos(this.bearingInRadians),z=Math.sin(-this.bearingInRadians),V=d-Math.round(d)+j*k+z*N,K=v-Math.round(v)+j*N+z*k,oe=new Float64Array(M);if(i.M(oe,oe,[V>.5?V-1:V,K>.5?K-1:K,0]),this._alignedProjMatrix=oe,M=i.aq(new Float64Array(16),this._pixelMatrix),!M)throw new Error("failed to invert matrix");this._pixelMatrixInverse=M,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let a=this.screenPointToMercatorCoordinate(new i.P(0,0)),c=[a.x*this.worldSize,a.y*this.worldSize,0,1];return i.aw(c,c,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let a=i.aj(1,this.center.lat)*this.worldSize;return Ce(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/a).toLngLat()}lngLatToCameraDepth(a,c){let d=i.a1.fromLngLat(a),v=[d.x*this.worldSize,d.y*this.worldSize,c,1];return i.aw(v,v,this._viewProjMatrix),v[2]/v[3]}getProjectionData(a){let{overscaledTileID:c,aligned:d,applyTerrainMatrix:v}=a,_=this._helper.getMercatorTileCoordinates(c),T=c?this.calculatePosMatrix(c,d,!0):null,M;return M=c&&c.terrainRttPosMatrix32f&&v?c.terrainRttPosMatrix32f:T||i.b8(),{mainMatrix:M,tileMercatorCoords:_,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:M}}isLocationOccluded(a){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(a,c,d){return 1}transformLightDirection(a){return i.aT(a)}getRayDirectionFromPixel(a){throw new Error("Not implemented.")}projectTileCoordinates(a,c,d,v){let _=this.calculatePosMatrix(d),T;v?(T=[a,c,v(a,c),1],i.aw(T,T,_)):(T=[a,c,0,1],qc(T,T,_));let M=T[3];return{point:new i.P(T[0]/M,T[1]/M),signedDistanceFromCamera:M,isOccluded:!1}}populateCache(a){for(let c of a)this.calculatePosMatrix(c)}getMatrixForModel(a,c){let d=i.a1.fromLngLat(a,c),v=d.meterInMercatorCoordinateUnits(),_=i.b9();return i.M(_,_,[d.x,d.y,d.z]),i.b6(_,_,Math.PI),i.b7(_,_,Math.PI/2),i.N(_,_,[-v,v,v]),_}getProjectionDataForCustomLayer(a=!0){let c=new i.Z(0,0,0,0,0),d=this.getProjectionData({overscaledTileID:c,applyGlobeMatrix:a}),v=we(c,this.worldSize);i.O(v,this._viewProjMatrix,v),d.tileMercatorCoords=[0,0,1,1];let _=[i.$,i.$,this.worldSize/this._helper.pixelsPerMeter],T=i.ba();return i.N(T,v,_),d.fallbackMatrix=T,d.mainMatrix=T,d}getFastPathSimpleProjectionMatrix(a){return this.calculatePosMatrix(a)}}function F1(){i.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Vi(y){if(y.useSlerp){if(y.k<1){let a=i.bb(y.startEulerAngles.roll,y.startEulerAngles.pitch,y.startEulerAngles.bearing),c=i.bb(y.endEulerAngles.roll,y.endEulerAngles.pitch,y.endEulerAngles.bearing),d=new Float64Array(4);i.bc(d,a,c,y.k);let v=i.bd(d);y.tr.setRoll(v.roll),y.tr.setPitch(v.pitch),y.tr.setBearing(v.bearing)}else y.tr.setRoll(y.endEulerAngles.roll),y.tr.setPitch(y.endEulerAngles.pitch),y.tr.setBearing(y.endEulerAngles.bearing);}else y.tr.setRoll(i.C.number(y.startEulerAngles.roll,y.endEulerAngles.roll,y.k)),y.tr.setPitch(i.C.number(y.startEulerAngles.pitch,y.endEulerAngles.pitch,y.k)),y.tr.setBearing(i.C.number(y.startEulerAngles.bearing,y.endEulerAngles.bearing,y.k))}function Oo(y,a,c,d,v){let _=v.padding,T=re(v.worldSize,c.getNorthWest()),M=re(v.worldSize,c.getNorthEast()),R=re(v.worldSize,c.getSouthEast()),k=re(v.worldSize,c.getSouthWest()),N=i.ae(-d),j=T.rotate(N),z=M.rotate(N),V=R.rotate(N),K=k.rotate(N),oe=new i.P(Math.max(j.x,z.x,K.x,V.x),Math.max(j.y,z.y,K.y,V.y)),ie=new i.P(Math.min(j.x,z.x,K.x,V.x),Math.min(j.y,z.y,K.y,V.y)),ae=oe.sub(ie),ue=(v.width-(_.left+_.right+a.left+a.right))/ae.x,pe=(v.height-(_.top+_.bottom+a.top+a.bottom))/ae.y;if(pe<0||ue<0)return void F1();let he=Math.min(i.ak(v.scale*Math.min(ue,pe)),y.maxZoom),ve=i.P.convert(y.offset),_e=new i.P((a.left-a.right)/2,(a.top-a.bottom)/2).rotate(i.ae(d)),fe=ve.add(_e).mult(v.scale/i.af(he));return{center:ce(v.worldSize,T.add(R).div(2).sub(fe)),zoom:he,bearing:d}}class Pi{get useGlobeControls(){return!1}handlePanInertia(a,c){let d=a.mag(),v=Math.abs(ge(c));return{easingOffset:a.mult(Math.min(.75*v/d,1)),easingCenter:c.center}}handleMapControlsRollPitchBearingZoom(a,c){a.bearingDelta&&c.setBearing(c.bearing+a.bearingDelta),a.pitchDelta&&c.setPitch(c.pitch+a.pitchDelta),a.rollDelta&&c.setRoll(c.roll+a.rollDelta),a.zoomDelta&&c.setZoom(c.zoom+a.zoomDelta)}handleMapControlsPan(a,c,d){a.around.distSqr(c.centerPoint)<.01||c.setLocationAtPoint(d,a.around)}cameraForBoxAndBearing(a,c,d,v,_){return Oo(a,c,d,v,_)}handleJumpToCenterZoom(a,c){a.zoom!==(c.zoom!==void 0?+c.zoom:a.zoom)&&a.setZoom(+c.zoom),c.center!==void 0&&a.setCenter(i.S.convert(c.center))}handleEaseTo(a,c){let d=a.zoom,v=a.padding,_={roll:a.roll,pitch:a.pitch,bearing:a.bearing},T={roll:c.roll===void 0?a.roll:c.roll,pitch:c.pitch===void 0?a.pitch:c.pitch,bearing:c.bearing===void 0?a.bearing:c.bearing},M=c.zoom!==void 0,R=!a.isPaddingEqual(c.padding),k=!1,N=M?+c.zoom:a.zoom,j=a.centerPoint.add(c.offsetAsPoint),z=a.screenPointToLocation(j),{center:V,zoom:K}=a.getConstrained(i.S.convert(c.center||z),N!=null?N:d);yd(a,V);let oe=re(a.worldSize,z),ie=re(a.worldSize,V).sub(oe),ae=i.af(K-d);return k=K!==d,{easeFunc:ue=>{if(k&&a.setZoom(i.C.number(d,K,ue)),i.be(_,T)||Vi({startEulerAngles:_,endEulerAngles:T,tr:a,k:ue,useSlerp:_.roll!=T.roll}),R&&(a.interpolatePadding(v,c.padding,ue),j=a.centerPoint.add(c.offsetAsPoint)),c.around)a.setLocationAtPoint(c.around,c.aroundPoint);else{let pe=i.af(a.zoom-d),he=K>d?Math.min(2,ae):Math.max(.5,ae),ve=Math.pow(he,1-ue),_e=ce(a.worldSize,oe.add(ie.mult(ue*ve)).mult(pe));a.setLocationAtPoint(a.renderWorldCopies?_e.wrap():_e,j)}},isZooming:k,elevationCenter:V}}handleFlyTo(a,c){let d=c.zoom!==void 0,v=a.zoom,_=a.getConstrained(i.S.convert(c.center||c.locationAtOffset),d?+c.zoom:v),T=_.center,M=_.zoom;yd(a,T);let R=re(a.worldSize,c.locationAtOffset),k=re(a.worldSize,T).sub(R),N=k.mag(),j=i.af(M-v),z;if(c.minZoom!==void 0){let V=Math.min(+c.minZoom,v,M),K=a.getConstrained(T,V).zoom;z=i.af(K-v)}return{easeFunc:(V,K,oe,ie)=>{a.setZoom(V===1?M:v+i.ak(K));let ae=V===1?T:ce(a.worldSize,R.add(k.mult(oe)).mult(K));a.setLocationAtPoint(a.renderWorldCopies?ae.wrap():ae,ie)},scaleOfZoom:j,targetCenter:T,scaleOfMinZoom:z,pixelPathLength:N}}}class $r{constructor(a,c,d){this.blendFunction=a,this.blendColor=c,this.mask=d}}$r.Replace=[1,0],$r.disabled=new $r($r.Replace,i.bf.transparent,[!1,!1,!1,!1]),$r.unblended=new $r($r.Replace,i.bf.transparent,[!0,!0,!0,!0]),$r.alphaBlended=new $r([1,771],i.bf.transparent,[!0,!0,!0,!0]);let wu=2305;class xt{constructor(a,c,d){this.enable=a,this.mode=c,this.frontFace=d}}xt.disabled=new xt(!1,1029,wu),xt.backCCW=new xt(!0,1029,wu),xt.frontCCW=new xt(!0,1028,wu);class qt{constructor(a,c,d){this.func=a,this.mask=c,this.range=d}}qt.ReadOnly=!1,qt.ReadWrite=!0,qt.disabled=new qt(519,qt.ReadOnly,[0,1]);let zs=7680;class or{constructor(a,c,d,v,_,T){this.test=a,this.ref=c,this.mask=d,this.fail=v,this.depthFail=_,this.pass=T}}or.disabled=new or({func:519,mask:0},0,0,zs,zs,zs);let Lo=new WeakMap;function os(y){var a;if(Lo.has(y))return Lo.get(y);{let c=(a=y.getParameter(y.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Lo.set(y,c),c}}class as{get awaitingQuery(){return!!this._readbackQueue}constructor(a){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=a;let c=a.context,d=c.gl;this._texFormat=d.RGBA,this._texType=d.UNSIGNED_BYTE;let v=new i.aL;v.emplaceBack(-1,-1),v.emplaceBack(2,-1),v.emplaceBack(-1,2);let _=new i.aN;_.emplaceBack(0,1,2),this._fullscreenTriangle=new _u(c.createVertexBuffer(v,wl.members),c.createIndexBuffer(_),i.aM.simpleSegment(0,0,v.length,_.length)),this._resultBuffer=new Uint8Array(4),c.activeTexture.set(d.TEXTURE1);let T=d.createTexture();d.bindTexture(d.TEXTURE_2D,T),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texImage2D(d.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=c.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(T),os(d)&&(this._pbo=d.createBuffer(),d.bindBuffer(d.PIXEL_PACK_BUFFER,this._pbo),d.bufferData(d.PIXEL_PACK_BUFFER,4,d.STREAM_READ),d.bindBuffer(d.PIXEL_PACK_BUFFER,null))}destroy(){let a=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),a.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(a,c){let d=this._updateCount;return this._readbackQueue?d>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():d>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(a,c),this._updateCount++,this._measuredError}_bindFramebuffer(){let a=this._cachedRenderContext.context,c=a.gl;a.activeTexture.set(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this._fbo.colorAttachment.get()),a.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(a,c){let d=this._cachedRenderContext.context,v=d.gl;if(this._bindFramebuffer(),d.viewport.set([0,0,this._texWidth,this._texHeight]),d.clear({color:i.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(d,v.TRIANGLES,qt.disabled,or.disabled,$r.unblended,xt.disabled,((_,T)=>({u_input:_,u_output_expected:T}))(a,c),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&os(v)){v.bindBuffer(v.PIXEL_PACK_BUFFER,this._pbo),v.readBuffer(v.COLOR_ATTACHMENT0),v.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),v.bindBuffer(v.PIXEL_PACK_BUFFER,null);let _=v.fenceSync(v.SYNC_GPU_COMMANDS_COMPLETE,0);v.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:_}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let a=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&os(a)){let c=a.clientWaitSync(this._readbackQueue.sync,0,0);if(c===a.WAIT_FAILED)return i.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(c===a.TIMEOUT_EXPIRED)return;a.bindBuffer(a.PIXEL_PACK_BUFFER,this._pbo),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),a.bindBuffer(a.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),a.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=as._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(a){let c=0;return c+=a[0]/256,c+=a[1]/65536,c+=a[2]/16777216,a[3]<127&&(c=-c),c/128}}let xd=i.$/128;function hy(y,a){let c=y.granularity!==void 0?Math.max(y.granularity,1):1,d=c+(y.generateBorders?2:0),v=c+(y.extendToNorthPole||y.generateBorders?1:0)+(y.extendToSouthPole||y.generateBorders?1:0),_=d+1,T=v+1,M=y.generateBorders?-1:0,R=y.generateBorders||y.extendToNorthPole?-1:0,k=c+(y.generateBorders?1:0),N=c+(y.generateBorders||y.extendToSouthPole?1:0),j=_*T,z=d*v*6,V=_*T>65536;if(V&&a==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let K=V||a==="32bit",oe=new Int16Array(2*j),ie=0;for(let pe=R;pe<=N;pe++)for(let he=M;he<=k;he++){let ve=he/c*i.$;he===-1&&(ve=-xd),he===c+1&&(ve=i.$+xd);let _e=pe/c*i.$;pe===-1&&(_e=y.extendToNorthPole?i.bh:-xd),pe===c+1&&(_e=y.extendToSouthPole?i.bi:i.$+xd),oe[ie++]=ve,oe[ie++]=_e}let ae=K?new Uint32Array(z):new Uint16Array(z),ue=0;for(let pe=0;pe<v;pe++)for(let he=0;he<d;he++){let ve=he+1+pe*_,_e=he+(pe+1)*_,fe=he+1+(pe+1)*_;ae[ue++]=he+pe*_,ae[ue++]=_e,ae[ue++]=ve,ae[ue++]=ve,ae[ue++]=_e,ae[ue++]=fe}return{vertices:oe.buffer.slice(0),indices:ae.buffer.slice(0),uses32bitIndices:K}}let kc=new i.aK({fill:new i.bj(128,2),line:new i.bj(512,0),tile:new i.bj(128,32),stencil:new i.bj(128,1),circle:3});class Pf{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Aa.projectionGlobe}get vertexShaderPreludeCode(){return Aa.projectionMercator.vertexSource}get subdivisionGranularity(){return kc}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(a){this._errorMeasurement||(this._errorMeasurement=new as(a));let c=i.U(this._errorQueryLatitudeDegrees),d=2*Math.atan(Math.exp(Math.PI-c*Math.PI*2))-.5*Math.PI,v=this._errorMeasurement.updateErrorLoop(c,d),_=C.now();v!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=v,this._errorMeasurementLastChangeTime=_);let T=Math.min(Math.max((_-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=i.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,i.bl(T))}_getMeshKey(a){return`${a.granularity.toString(36)}_${a.generateBorders?"b":""}${a.extendToNorthPole?"n":""}${a.extendToSouthPole?"s":""}`}getMeshFromTileID(a,c,d,v,_){let T=(_==="stencil"?kc.stencil:kc.tile).getGranularityForZoomLevel(c.z);return this._getMesh(a,{granularity:T,generateBorders:d,extendToNorthPole:c.y===0&&v,extendToSouthPole:c.y===(1<<c.z)-1&&v})}_getMesh(a,c){let d=this._getMeshKey(c);if(d in this._tileMeshCache)return this._tileMeshCache[d];let v=function(_,T){let M=hy(T,"16bit"),R=i.aL.deserialize({arrayBuffer:M.vertices,length:M.vertices.byteLength/2/2}),k=i.aN.deserialize({arrayBuffer:M.indices,length:M.indices.byteLength/2/3});return new _u(_.createVertexBuffer(R,wl.members),_.createIndexBuffer(k),i.aM.simpleSegment(0,0,R.length,k.length))}(a,c);return this._tileMeshCache[d]=v,v}recalculate(a){}hasTransition(){let a=C.now(),c=!1;return c=c||(a-this._errorMeasurementLastChangeTime)/1e3<.7,c=c||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,c}setErrorQueryLatitudeDegrees(a){this._errorQueryLatitudeDegrees=a}}let bd=new i.r({type:new i.D(i.v.projection.type)});class wd extends i.E{constructor(a){super(),this._transitionable=new i.t(bd),this.setProjection(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new i.F(0)),this._mercatorProjection=new Ht,this._verticalPerspectiveProjection=new Pf}get transitionState(){let a=this.properties.get("type");if(typeof a=="string"&&a==="mercator")return 0;if(typeof a=="string"&&a==="vertical-perspective")return 1;if(a instanceof i.bm){if(a.from==="vertical-perspective"&&a.to==="mercator")return 1-a.transition;if(a.from==="mercator"&&a.to==="vertical-perspective")return a.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(a){this._mercatorProjection.updateGPUdependent(a),this._verticalPerspectiveProjection.updateGPUdependent(a)}getMeshFromTileID(a,c,d,v,_){return this.currentProjection.getMeshFromTileID(a,c,d,v,_)}setProjection(a){this._transitionable.setValue("type",(a==null?void 0:a.type)||"mercator")}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}setErrorQueryLatitudeDegrees(a){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(a),this._mercatorProjection.setErrorQueryLatitudeDegrees(a)}}function Ed(y){let a=Nc(y.worldSize,y.center.lat);return 2*Math.PI*a}function Ma(y,a,c,d,v){let _=1/(1<<v),T=a/i.$*_+d*_,M=i.bo((y/i.$*_+c*_)*Math.PI*2+Math.PI,2*Math.PI),R=2*Math.atan(Math.exp(Math.PI-T*Math.PI*2))-.5*Math.PI,k=Math.cos(R),N=new Float64Array(3);return N[0]=Math.sin(M)*k,N[1]=Math.sin(R),N[2]=Math.cos(M)*k,N}function ei(y){return function(a,c){let d=Math.cos(c),v=new Float64Array(3);return v[0]=Math.sin(a)*d,v[1]=Math.sin(c),v[2]=Math.cos(a)*d,v}(y.lng*Math.PI/180,y.lat*Math.PI/180)}function Nc(y,a){return y/(2*Math.PI)/Math.cos(a*Math.PI/180)}function Af(y){let a=Math.asin(y[1])/Math.PI*180,c=Math.sqrt(y[0]*y[0]+y[2]*y[2]);if(c>1e-6){let d=y[0]/c,v=Math.acos(y[2]/c),_=(d>0?v:-v)/Math.PI*180;return new i.S(i.aO(_,-180,180),a)}return new i.S(0,a)}function Eu(y){return Math.cos(y*Math.PI/180)}function vn(y,a){let c=Eu(y),d=Eu(a);return i.ak(d/c)}function z1(y,a){let c=y.rotate(a.bearingInRadians),d=a.zoom+vn(a.center.lat,0),v=i.bk(1/Eu(a.center.lat),1/Eu(Math.min(Math.abs(a.center.lat),60)),i.bn(d,7,3,0,1)),_=360/Ed({worldSize:a.worldSize,center:{lat:a.center.lat}});return new i.S(a.center.lng-c.x*_*v,i.ah(a.center.lat+c.y*_,-i.ai,i.ai))}function Mf(y){let a=.5*y,c=Math.sin(a),d=Math.cos(a);return Math.log(c+d)-Math.log(d-c)}function fy(y,a,c,d){let v=y.lat+c*d;if(Math.abs(c)>1){let _=(Math.sign(y.lat+c)!==Math.sign(y.lat)?-Math.abs(y.lat):Math.abs(y.lat))*Math.PI/180,T=Math.abs(y.lat+c)*Math.PI/180,M=Mf(_+d*(T-_)),R=Mf(_),k=Mf(T);return new i.S(y.lng+a*((M-R)/(k-R)),v)}return new i.S(y.lng+a*d,v)}class MM{constructor(a){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=a}swapBuffers(){if(!this._hadAnyChanges)return;let a=this._cachePrevious;this._cachePrevious=this._cache,this._cache=a,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(a,c,d,v){let _=`${a.z}_${a.x}_${a.y}_${v!=null&&v.terrain?"t":""}`,T=this._cache.get(_);if(T)return T;let M=this._cachePrevious.get(_);if(M)return this._cache.set(_,M),M;let R=this._boundingVolumeFactory(a,c,d,v);return this._cache.set(_,R),this._hadAnyChanges=!0,R}}class Fc{constructor(a,c,d,v){this.min=d,this.max=v,this.points=a,this.planes=c}static fromAabb(a,c){let d=[];for(let v=0;v<8;v++)d.push([1&~v?a[0]:c[0],(v>>1&1)==1?c[1]:a[1],(v>>2&1)==1?c[2]:a[2]]);return new Fc(d,[[-1,0,0,c[0]],[1,0,0,-a[0]],[0,-1,0,c[1]],[0,1,0,-a[1]],[0,0,-1,c[2]],[0,0,1,-a[2]]],a,c)}static fromCenterSizeAngles(a,c,d){let v=i.br([],d[0],d[1],d[2]),_=i.bs([],[c[0],0,0],v),T=i.bs([],[0,c[1],0],v),M=i.bs([],[0,0,c[2]],v),R=[...a],k=[...a];for(let j=0;j<8;j++)for(let z=0;z<3;z++){let V=a[z]+_[z]*(1&~j?-1:1)+T[z]*((j>>1&1)==1?1:-1)+M[z]*((j>>2&1)==1?1:-1);R[z]=Math.min(R[z],V),k[z]=Math.max(k[z],V)}let N=[];for(let j=0;j<8;j++){let z=[...a];i.aS(z,z,i.aR([],_,1&~j?-1:1)),i.aS(z,z,i.aR([],T,(j>>1&1)==1?1:-1)),i.aS(z,z,i.aR([],M,(j>>2&1)==1?1:-1)),N.push(z)}return new Fc(N,[[..._,-i.aX(_,N[0])],[...T,-i.aX(T,N[0])],[...M,-i.aX(M,N[0])],[-_[0],-_[1],-_[2],-i.aX(_,N[7])],[-T[0],-T[1],-T[2],-i.aX(T,N[7])],[-M[0],-M[1],-M[2],-i.aX(M,N[7])]],R,k)}intersectsFrustum(a){let c=!0,d=this.points.length,v=this.planes.length,_=a.planes.length,T=a.points.length;for(let M=0;M<_;M++){let R=a.planes[M],k=0;for(let N=0;N<d;N++){let j=this.points[N];R[0]*j[0]+R[1]*j[1]+R[2]*j[2]+R[3]>=0&&k++}if(k===0)return 0;k<d&&(c=!1)}if(c)return 2;for(let M=0;M<v;M++){let R=this.planes[M],k=0;for(let N=0;N<T;N++){let j=a.points[N];R[0]*j[0]+R[1]*j[1]+R[2]*j[2]+R[3]>=0&&k++}if(k===0)return 0}return 1}intersectsPlane(a){let c=this.points.length,d=0;for(let v=0;v<c;v++){let _=this.points[v];a[0]*_[0]+a[1]*_[1]+a[2]*_[2]+a[3]>=0&&d++}return d===c?2:d===0?0:1}}function mi(y,a,c){let d=y-a;return d<0?-d:Math.max(0,d-c)}function qf(y,a,c,d,v){let _=y-c,T;return T=_<0?Math.min(-_,1+_-v):_>1?Math.min(Math.max(_-v,0),1-_):0,Math.max(T,mi(a,d,v))}class ss{constructor(){this._boundingVolumeCache=new MM(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(a,c,d,v){let _=1<<d.z,T=1/_,M=d.x/_,R=d.y/_,k=2;return k=Math.min(k,qf(a,c,M,R,T)),k=Math.min(k,qf(a,c,M+.5,-R-T,T)),k=Math.min(k,qf(a,c,M+.5,2-R-T,T)),k}getWrap(a,c,d){let v=1<<c.z,_=1/v,T=c.x/v,M=mi(a.x,T,_),R=mi(a.x,T-1,_),k=mi(a.x,T+1,_),N=Math.min(M,R,k);return N===k?1:N===R?-1:0}allowVariableZoom(a,c){return ct(a,c)>4}allowWorldCopies(){return!1}getTileBoundingVolume(a,c,d,v){return this._boundingVolumeCache.getTileBoundingVolume(a,c,d,v)}_computeTileBoundingVolume(a,c,d,v){var _,T;let M=0,R=0;if(v!=null&&v.terrain){let k=new i.Z(a.z,c,a.z,a.x,a.y),N=v.terrain.getMinMaxElevation(k);M=(_=N.minElevation)!==null&&_!==void 0?_:Math.min(0,d),R=(T=N.maxElevation)!==null&&T!==void 0?T:Math.max(0,d)}if(M/=i.bu,R/=i.bu,M+=1,R+=1,a.z<=0)return Fc.fromAabb([-R,-R,-R],[R,R,R]);if(a.z===1)return Fc.fromAabb([a.x===0?-R:0,a.y===0?0:-R,-R],[a.x===0?0:R,a.y===0?R:0,R]);{let k=[Ma(0,0,a.x,a.y,a.z),Ma(i.$,0,a.x,a.y,a.z),Ma(i.$,i.$,a.x,a.y,a.z),Ma(0,i.$,a.x,a.y,a.z)],N=[];for(let Pe of k)N.push(i.aR([],Pe,R));if(R!==M)for(let Pe of k)N.push(i.aR([],Pe,M));a.y===0&&N.push([0,1,0]),a.y===(1<<a.z)-1&&N.push([0,-1,0]);let j=[1,1,1],z=[-1,-1,-1];for(let Pe of N)for(let qe=0;qe<3;qe++)j[qe]=Math.min(j[qe],Pe[qe]),z[qe]=Math.max(z[qe],Pe[qe]);let V=Ma(i.$/2,i.$/2,a.x,a.y,a.z),K=i.aW([],[0,1,0],V);i.aV(K,K);let oe=i.aW([],V,K);i.aV(oe,oe);let ie=i.aW([],k[2],k[1]);i.aV(ie,ie);let ae=i.aW([],k[0],k[3]);i.aV(ae,ae),N.push(i.aR([],V,R)),a.y>=(1<<a.z)/2&&N.push(i.aR([],Ma(i.$/2,0,a.x,a.y,a.z),R)),a.y<(1<<a.z)/2&&N.push(i.aR([],Ma(i.$/2,i.$,a.x,a.y,a.z),R));let ue=Rf(V,N),pe=Rf(oe,N),he=[-V[0],-V[1],-V[2],ue.max],ve=[V[0],V[1],V[2],-ue.min],_e=[-oe[0],-oe[1],-oe[2],pe.max],fe=[oe[0],oe[1],oe[2],-pe.min],Se=[...ie,0],Re=[...ae,0],Ie=[];return a.y===0?Ie.push(i.bt(Re,Se,he),i.bt(Re,Se,ve)):Ie.push(i.bt(_e,Se,he),i.bt(_e,Se,ve),i.bt(_e,Re,he),i.bt(_e,Re,ve)),a.y===(1<<a.z)-1?Ie.push(i.bt(Re,Se,he),i.bt(Re,Se,ve)):Ie.push(i.bt(fe,Se,he),i.bt(fe,Se,ve),i.bt(fe,Re,he),i.bt(fe,Re,ve)),new Fc(Ie,[he,ve,_e,fe,Se,Re],j,z)}}}function Rf(y,a){let c=1/0,d=-1/0;for(let v of a){let _=i.aX(y,v);c=Math.min(c,_),d=Math.max(d,_)}return{min:c,max:d}}class Of{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,c,d){return this._helper.interpolatePadding(a,c,d)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,c){this._helper.resize(a,c)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,c){this._helper.overrideNearFarZ(a,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a){}constructor(){this._cachedClippingPlane=i.bv(),this._projectionMatrix=i.b9(),this._globeViewProjMatrix32f=i.b8(),this._globeViewProjMatrixNoCorrection=i.b9(),this._globeViewProjMatrixNoCorrectionInverted=i.b9(),this._globeProjMatrixInverted=i.b9(),this._cameraPosition=i.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Bi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,c)=>this.getConstrained(a,c)}),this._coveringTilesDetailsProvider=new ss}clone(){let a=new Of;return a.apply(this),a}apply(a,c){this._globeLatitudeErrorCorrectionRadians=c||0,this._helper.apply(a)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let a=i.bp();return a[0]=this._cameraPosition[0],a[1]=this._cameraPosition[1],a[2]=this._cameraPosition[2],a}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(a){let{overscaledTileID:c,applyGlobeMatrix:d}=a,v=this._helper.getMercatorTileCoordinates(c);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:v,clippingPlane:this._cachedClippingPlane,projectionTransition:d?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(a){let c=this.pitchInRadians,d=this.cameraToCenterDistance/a,v=Math.sin(c)*d,_=Math.cos(c)*d+1,T=1/Math.sqrt(v*v+_*_)*1,M=-v,R=_,k=Math.sqrt(M*M+R*R);M/=k,R/=k;let N=[0,M,R];i.bw(N,N,[0,0,0],-this.bearingInRadians),i.bx(N,N,[0,0,0],-1*this.center.lat*Math.PI/180),i.by(N,N,[0,0,0],this.center.lng*Math.PI/180);let j=1/i.aZ(N);return i.aR(N,N,j),[...N,-T*j]}isLocationOccluded(a){return!this.isSurfacePointVisible(ei(a))}transformLightDirection(a){let c=this._helper._center.lng*Math.PI/180,d=this._helper._center.lat*Math.PI/180,v=Math.cos(d),_=[Math.sin(c)*v,Math.sin(d),Math.cos(c)*v],T=[_[2],0,-_[0]],M=[0,0,0];i.aW(M,T,_),i.aV(T,T),i.aV(M,M);let R=[0,0,0];return i.aV(R,[T[0]*a[0]+M[0]*a[1]+_[0]*a[2],T[1]*a[0]+M[1]*a[1]+_[1]*a[2],T[2]*a[0]+M[2]*a[1]+_[2]*a[2]]),R}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(a,c,d){let v=function(M,R,k){let N=1/(1<<k.z);return new i.a1(M/i.$*N+k.x*N,R/i.$*N+k.y*N)}(a,c,d.canonical),_=(T=v.y,[i.bo(v.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-T*Math.PI*2))-.5*Math.PI]);var T;return this.getCircleRadiusCorrection()/Math.cos(_[1])}projectTileCoordinates(a,c,d,v){let _=d.canonical,T=Ma(a,c,_.x,_.y,_.z),M=1+(v?v(a,c):0)/i.bu,R=[T[0]*M,T[1]*M,T[2]*M,1];i.aw(R,R,this._globeViewProjMatrixNoCorrection);let k=this._cachedClippingPlane,N=k[0]*T[0]+k[1]*T[1]+k[2]*T[2]+k[3]<0;return{point:new i.P(R[0]/R[3],R[1]/R[3]),signedDistanceFromCamera:R[3],isOccluded:N}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let a=Nc(this.worldSize,this.center.lat),c=i.ba(),d=i.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*a),i.b4(c,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let v=this.centerOffset;c[8]=2*-v.x/this._helper._width,c[9]=2*v.y/this._helper._height,this._projectionMatrix=i.b5(c),this._globeProjMatrixInverted=i.ba(),i.aq(this._globeProjMatrixInverted,c),i.M(c,c,[0,0,-this.cameraToCenterDistance]),i.b6(c,c,this.rollInRadians),i.b7(c,c,-this.pitchInRadians),i.b6(c,c,this.bearingInRadians),i.M(c,c,[0,0,-a]);let _=i.bp();_[0]=a,_[1]=a,_[2]=a,i.b7(d,c,this.center.lat*Math.PI/180),i.bz(d,d,-this.center.lng*Math.PI/180),i.N(d,d,_),this._globeViewProjMatrixNoCorrection=d,i.b7(c,c,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),i.bz(c,c,-this.center.lng*Math.PI/180),i.N(c,c,_),this._globeViewProjMatrix32f=new Float32Array(c),this._globeViewProjMatrixNoCorrectionInverted=i.ba(),i.aq(this._globeViewProjMatrixNoCorrectionInverted,d);let T=i.bp();this._cameraPosition=i.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/a,i.bw(this._cameraPosition,this._cameraPosition,T,-this.rollInRadians),i.bx(this._cameraPosition,this._cameraPosition,T,this.pitchInRadians),i.bw(this._cameraPosition,this._cameraPosition,T,-this.bearingInRadians),i.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),i.bx(this._cameraPosition,this._cameraPosition,T,-this.center.lat*Math.PI/180),i.by(this._cameraPosition,this._cameraPosition,T,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(a);let M=i.b5(this._globeViewProjMatrixNoCorrectionInverted);i.N(M,M,[1,1,-1]),this._cachedFrustum=Ln.fromInvProjectionMatrix(M,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(a){i.w("calculateFogMatrix is not supported on globe projection.");let c=i.ba();return i.ag(c),c}getVisibleUnwrappedCoordinates(a){return[new i.b2(0,a)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){a&&i.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,c){if(!this._globeViewProjMatrixNoCorrection)return 1;let d=ei(a);i.aR(d,d,1+c/i.bu);let v=i.bv();return i.aw(v,[d[0],d[1],d[2],1],this._globeViewProjMatrixNoCorrection),v[2]/v[3]}populateCache(a){}getBounds(){let a=.5*this.width,c=.5*this.height,d=[new i.P(0,0),new i.P(a,0),new i.P(this.width,0),new i.P(this.width,c),new i.P(this.width,this.height),new i.P(a,this.height),new i.P(0,this.height),new i.P(0,c)],v=[];for(let j of d)v.push(this.unprojectScreenPoint(j));let _=0,T=0,M=0,R=0,k=this.center;for(let j of v){let z=i.bA(k.lng,j.lng),V=i.bA(k.lat,j.lat);z<T&&(T=z),z>_&&(_=z),V<R&&(R=V),V>M&&(M=V)}let N=[k.lng+T,k.lat+R,k.lng+_,k.lat+M];return this.isSurfacePointOnScreen([0,1,0])&&(N[3]=90,N[0]=-180,N[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(N[1]=-90,N[0]=-180,N[2]=180),new Vr(N)}getConstrained(a,c){let d=i.ah(a.lat,-i.ai,i.ai),v=i.ah(+c,this.minZoom+vn(0,d),this.maxZoom);return{center:new i.S(a.lng,d),zoom:v}}calculateCenterFromCameraLngLatAlt(a,c,d,v){return this._helper.calculateCenterFromCameraLngLatAlt(a,c,d,v)}setLocationAtPoint(a,c){let d=ei(this.unprojectScreenPoint(c)),v=ei(a),_=i.bp();i.bB(_);let T=i.bp();i.by(T,d,_,-this.center.lng*Math.PI/180),i.bx(T,T,_,this.center.lat*Math.PI/180);let M=v[0]*v[0]+v[2]*v[2],R=T[0]*T[0];if(M<R)return;let k=Math.sqrt(M-R),N=-k,j=i.bC(v[0],v[2],T[0],k),z=i.bC(v[0],v[2],T[0],N),V=i.bp();i.by(V,v,_,-j);let K=i.bC(V[1],V[2],T[1],T[2]),oe=i.bp();i.by(oe,v,_,-z);let ie=i.bC(oe[1],oe[2],T[1],T[2]),ae=.5*Math.PI,ue=K>=-ae&&K<=ae,pe=ie>=-ae&&ie<=ae,he,ve;if(ue&&pe){let Re=this.center.lng*Math.PI/180,Ie=this.center.lat*Math.PI/180;i.bD(j,Re)+i.bD(K,Ie)<i.bD(z,Re)+i.bD(ie,Ie)?(he=j,ve=K):(he=z,ve=ie)}else if(ue)he=j,ve=K;else{if(!pe)return;he=z,ve=ie}let _e=he/Math.PI*180,fe=ve/Math.PI*180,Se=this.center.lat;this.setCenter(new i.S(_e,i.ah(fe,-90,90))),this.setZoom(this.zoom+vn(Se,this.center.lat))}locationToScreenPoint(a,c){let d=ei(a);if(c){let v=c.getElevationForLngLatZoom(a,this._helper._tileZoom);i.aR(d,d,1+v/i.bu)}return this._projectSurfacePointToScreen(d)}_projectSurfacePointToScreen(a){let c=i.bv();return i.aw(c,[...a,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],new i.P((.5*c[0]+.5)*this.width,(.5*-c[1]+.5)*this.height)}screenPointToMercatorCoordinate(a,c){if(c){let d=c.pointCoordinate(a);if(d)return d}return i.a1.fromLngLat(this.unprojectScreenPoint(a))}screenPointToLocation(a,c){var d;return(d=this.screenPointToMercatorCoordinate(a,c))===null||d===void 0?void 0:d.toLngLat()}isPointOnMapSurface(a,c){let d=this._cameraPosition,v=this.getRayDirectionFromPixel(a);return!!this.rayPlanetIntersection(d,v)}getRayDirectionFromPixel(a){let c=i.bv();c[0]=a.x/this.width*2-1,c[1]=-1*(a.y/this.height*2-1),c[2]=1,c[3]=1,i.aw(c,c,this._globeViewProjMatrixNoCorrectionInverted),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3];let d=i.bp();d[0]=c[0]-this._cameraPosition[0],d[1]=c[1]-this._cameraPosition[1],d[2]=c[2]-this._cameraPosition[2];let v=i.bp();return i.aV(v,d),v}isSurfacePointVisible(a){let c=this._cachedClippingPlane;return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]>=0}isSurfacePointOnScreen(a){if(!this.isSurfacePointVisible(a))return!1;let c=i.bv();return i.aw(c,[...a,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],c[0]>-1&&c[0]<1&&c[1]>-1&&c[1]<1&&c[2]>-1&&c[2]<1}rayPlanetIntersection(a,c){let d=i.aX(a,c),v=i.bp(),_=i.bp();i.aR(_,c,d),i.aU(v,a,_);let T=1-i.aX(v,v);if(T<0)return null;let M=i.aX(a,a)-1,R=-d+(d<0?1:-1)*Math.sqrt(T),k=M/R,N=R;return{tMin:Math.min(k,N),tMax:Math.max(k,N)}}unprojectScreenPoint(a){let c=this._cameraPosition,d=this.getRayDirectionFromPixel(a),v=this.rayPlanetIntersection(c,d);if(v){let N=i.bp();i.aS(N,c,[d[0]*v.tMin,d[1]*v.tMin,d[2]*v.tMin]);let j=i.bp();return i.aV(j,N),Af(j)}let _=this._cachedClippingPlane,T=_[0]*d[0]+_[1]*d[1]+_[2]*d[2],M=-i.b1(_,c)/T,R=i.bp();if(M>0)i.aS(R,c,[d[0]*M,d[1]*M,d[2]*M]);else{let N=i.bp();i.aS(N,c,[2*d[0],2*d[1],2*d[2]]);let j=i.b1(this._cachedClippingPlane,N);i.aU(R,N,[this._cachedClippingPlane[0]*j,this._cachedClippingPlane[1]*j,this._cachedClippingPlane[2]*j])}let k=function(N){let j=i.bp();return j[0]=N[0]*-N[3],j[1]=N[1]*-N[3],j[2]=N[2]*-N[3],{center:j,radius:Math.sqrt(1-N[3]*N[3])}}(_);return Af(function(N,j,z){let V=i.bp();i.aU(V,z,N);let K=i.bp();return i.bq(K,N,V,j/i.a$(V)),K}(k.center,k.radius,R))}getMatrixForModel(a,c){let d=i.S.convert(a),v=1/i.bu,_=i.b9();return i.bz(_,_,d.lng/180*Math.PI),i.b7(_,_,-d.lat/180*Math.PI),i.M(_,_,[0,0,1+c/i.bu]),i.b7(_,_,.5*Math.PI),i.N(_,_,[v,v,v]),_}getProjectionDataForCustomLayer(a=!0){let c=this.getProjectionData({overscaledTileID:new i.Z(0,0,0,0,0),applyGlobeMatrix:a});return c.tileMercatorCoords=[0,0,1,1],c}getFastPathSimpleProjectionMatrix(a){}}class Lf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,c,d){return this._helper.interpolatePadding(a,c,d)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,c,d=!0){this._helper.resize(a,c,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,c){this._helper.overrideNearFarZ(a,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(a,c){this._globeness=a,this._globeLatitudeErrorCorrectionRadians=c,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Bi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,c)=>this.getConstrained(a,c)}),this._globeness=1,this._mercatorTransform=new Or,this._verticalPerspectiveTransform=new Of}clone(){let a=new Lf;return a._globeness=this._globeness,a._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,a.apply(this),a}apply(a){this._helper.apply(a),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(a){let c=this._mercatorTransform.getProjectionData(a),d=this._verticalPerspectiveTransform.getProjectionData(a);return{mainMatrix:this.isGlobeRendering?d.mainMatrix:c.mainMatrix,clippingPlane:d.clippingPlane,tileMercatorCoords:d.tileMercatorCoords,projectionTransition:a.applyGlobeMatrix?this._globeness:0,fallbackMatrix:c.fallbackMatrix}}isLocationOccluded(a){return this.currentTransform.isLocationOccluded(a)}transformLightDirection(a){return this.currentTransform.transformLightDirection(a)}getPixelScale(){return i.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return i.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(a,c,d){let v=this._mercatorTransform.getPitchedTextCorrection(a,c,d),_=this._verticalPerspectiveTransform.getPitchedTextCorrection(a,c,d);return i.bk(v,_,this._globeness)}projectTileCoordinates(a,c,d,v){return this.currentTransform.projectTileCoordinates(a,c,d,v)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(a){return this.currentTransform.calculateFogMatrix(a)}getVisibleUnwrappedCoordinates(a){return this.currentTransform.getVisibleUnwrappedCoordinates(a)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(a){this._mercatorTransform.recalculateZoomAndCenter(a),this._verticalPerspectiveTransform.recalculateZoomAndCenter(a)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,c){return this.currentTransform.lngLatToCameraDepth(a,c)}populateCache(a){this._mercatorTransform.populateCache(a),this._verticalPerspectiveTransform.populateCache(a)}getBounds(){return this.currentTransform.getBounds()}getConstrained(a,c){return this.currentTransform.getConstrained(a,c)}calculateCenterFromCameraLngLatAlt(a,c,d,v){return this._helper.calculateCenterFromCameraLngLatAlt(a,c,d,v)}setLocationAtPoint(a,c){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(a,c),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(a,c),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(a,c){return this.currentTransform.locationToScreenPoint(a,c)}screenPointToMercatorCoordinate(a,c){return this.currentTransform.screenPointToMercatorCoordinate(a,c)}screenPointToLocation(a,c){return this.currentTransform.screenPointToLocation(a,c)}isPointOnMapSurface(a,c){return this.currentTransform.isPointOnMapSurface(a,c)}getRayDirectionFromPixel(a){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(a)}getMatrixForModel(a,c){return this.currentTransform.getMatrixForModel(a,c)}getProjectionDataForCustomLayer(a=!0){let c=this._mercatorTransform.getProjectionDataForCustomLayer(a);if(!this.isGlobeRendering)return c;let d=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(a);return d.fallbackMatrix=c.mainMatrix,d}getFastPathSimpleProjectionMatrix(a){return this.currentTransform.getFastPathSimpleProjectionMatrix(a)}}class Ai{get useGlobeControls(){return!0}handlePanInertia(a,c){let d=z1(a,c);return Math.abs(d.lng-c.center.lng)>180&&(d.lng=c.center.lng+179.5*Math.sign(d.lng-c.center.lng)),{easingCenter:d,easingOffset:new i.P(0,0)}}handleMapControlsRollPitchBearingZoom(a,c){let d=a.around,v=c.screenPointToLocation(d);a.bearingDelta&&c.setBearing(c.bearing+a.bearingDelta),a.pitchDelta&&c.setPitch(c.pitch+a.pitchDelta),a.rollDelta&&c.setRoll(c.roll+a.rollDelta);let _=c.zoom;a.zoomDelta&&c.setZoom(c.zoom+a.zoomDelta);let T=c.zoom-_;if(T===0)return;let M=i.bA(c.center.lng,v.lng),R=M/(Math.abs(M/180)+1),k=i.bA(c.center.lat,v.lat),N=c.getRayDirectionFromPixel(d),j=c.cameraPosition,z=-1*i.aX(j,N),V=i.bp();i.aS(V,j,[N[0]*z,N[1]*z,N[2]*z]);let K=i.aZ(V)-1,oe=Math.exp(.5*-Math.max(K-.3,0)),ie=Nc(c.worldSize,c.center.lat)/Math.min(c.width,c.height),ae=i.bn(ie,.9,.5,1,.25),ue=(1-i.af(-T))*Math.min(oe,ae),pe=c.center.lat,he=c.zoom,ve=new i.S(c.center.lng+R*ue,i.ah(c.center.lat+k*ue,-i.ai,i.ai));c.setLocationAtPoint(v,d);let _e=c.center,fe=i.bn(Math.abs(M),45,85,0,1),Se=i.bn(ie,.75,.35,0,1),Re=Math.pow(Math.max(fe,Se),.25),Ie=i.bA(_e.lng,ve.lng),Pe=i.bA(_e.lat,ve.lat);c.setCenter(new i.S(_e.lng+Ie*Re,_e.lat+Pe*Re).wrap()),c.setZoom(he+vn(pe,c.center.lat))}handleMapControlsPan(a,c,d){if(!a.panDelta)return;let v=c.center.lat,_=c.zoom;c.setCenter(z1(a.panDelta,c).wrap()),c.setZoom(_+vn(v,c.center.lat))}cameraForBoxAndBearing(a,c,d,v,_){let T=Oo(a,c,d,v,_),M=c.left/_.width*2-1,R=(_.width-c.right)/_.width*2-1,k=c.top/_.height*-2+1,N=(_.height-c.bottom)/_.height*-2+1,j=i.bA(d.getWest(),d.getEast())<0,z=j?d.getEast():d.getWest(),V=j?d.getWest():d.getEast(),K=Math.max(d.getNorth(),d.getSouth()),oe=Math.min(d.getNorth(),d.getSouth()),ie=z+.5*i.bA(z,V),ae=K+.5*i.bA(K,oe),ue=_.clone();ue.setCenter(T.center),ue.setBearing(T.bearing),ue.setPitch(0),ue.setRoll(0),ue.setZoom(T.zoom);let pe=ue.modelViewProjectionMatrix,he=[ei(d.getNorthWest()),ei(d.getNorthEast()),ei(d.getSouthWest()),ei(d.getSouthEast()),ei(new i.S(V,ae)),ei(new i.S(z,ae)),ei(new i.S(ie,K)),ei(new i.S(ie,oe))],ve=ei(T.center),_e=Number.POSITIVE_INFINITY;for(let fe of he)M<0&&(_e=Ai.getLesserNonNegativeNonNull(_e,Ai.solveVectorScale(fe,ve,pe,"x",M))),R>0&&(_e=Ai.getLesserNonNegativeNonNull(_e,Ai.solveVectorScale(fe,ve,pe,"x",R))),k>0&&(_e=Ai.getLesserNonNegativeNonNull(_e,Ai.solveVectorScale(fe,ve,pe,"y",k))),N<0&&(_e=Ai.getLesserNonNegativeNonNull(_e,Ai.solveVectorScale(fe,ve,pe,"y",N)));if(Number.isFinite(_e)&&_e!==0)return T.zoom=ue.zoom+i.ak(_e),T;F1()}handleJumpToCenterZoom(a,c){let d=a.center.lat,v=a.getConstrained(c.center?i.S.convert(c.center):a.center,a.zoom).center;a.setCenter(v.wrap());let _=c.zoom!==void 0?+c.zoom:a.zoom+vn(d,v.lat);a.zoom!==_&&a.setZoom(_)}handleEaseTo(a,c){let d=a.zoom,v=a.center,_=a.padding,T={roll:a.roll,pitch:a.pitch,bearing:a.bearing},M={roll:c.roll===void 0?a.roll:c.roll,pitch:c.pitch===void 0?a.pitch:c.pitch,bearing:c.bearing===void 0?a.bearing:c.bearing},R=c.zoom!==void 0,k=!a.isPaddingEqual(c.padding),N=!1,j=c.center?i.S.convert(c.center):v,z=a.getConstrained(j,d).center;yd(a,z);let V=a.clone();V.setCenter(z),V.setZoom(R?+c.zoom:d+vn(v.lat,j.lat)),V.setBearing(c.bearing);let K=new i.P(i.ah(a.centerPoint.x+c.offsetAsPoint.x,0,a.width),i.ah(a.centerPoint.y+c.offsetAsPoint.y,0,a.height));V.setLocationAtPoint(z,K);let oe=(c.offset&&c.offsetAsPoint.mag())>0?V.center:z,ie=R?+c.zoom:d+vn(v.lat,oe.lat),ae=d+vn(v.lat,0),ue=ie+vn(oe.lat,0),pe=i.bA(v.lng,oe.lng),he=i.bA(v.lat,oe.lat),ve=i.af(ue-ae);return N=ie!==d,{easeFunc:_e=>{if(i.be(T,M)||Vi({startEulerAngles:T,endEulerAngles:M,tr:a,k:_e,useSlerp:T.roll!=M.roll}),k&&a.interpolatePadding(_,c.padding,_e),c.around)i.w("Easing around a point is not supported under globe projection."),a.setLocationAtPoint(c.around,c.aroundPoint);else{let fe=ue>ae?Math.min(2,ve):Math.max(.5,ve),Se=Math.pow(fe,1-_e),Re=fy(v,pe,he,_e*Se);a.setCenter(Re.wrap())}if(N){let fe=i.C.number(ae,ue,_e)+vn(0,a.center.lat);a.setZoom(fe)}},isZooming:N,elevationCenter:oe}}handleFlyTo(a,c){let d=c.zoom!==void 0,v=a.center,_=a.zoom,T=a.padding,M=!a.isPaddingEqual(c.padding),R=a.getConstrained(i.S.convert(c.center||c.locationAtOffset),_).center,k=d?+c.zoom:a.zoom+vn(a.center.lat,R.lat),N=a.clone();N.setCenter(R),N.setZoom(k),N.setBearing(c.bearing);let j=new i.P(i.ah(a.centerPoint.x+c.offsetAsPoint.x,0,a.width),i.ah(a.centerPoint.y+c.offsetAsPoint.y,0,a.height));N.setLocationAtPoint(R,j);let z=N.center;yd(a,z);let V=function(he,ve,_e){let fe=ei(ve),Se=ei(_e),Re=i.aX(fe,Se),Ie=Math.acos(Re),Pe=Ed(he);return Ie/(2*Math.PI)*Pe}(a,v,z),K=_+vn(v.lat,0),oe=k+vn(z.lat,0),ie=i.af(oe-K),ae;if(typeof c.minZoom=="number"){let he=+c.minZoom+vn(z.lat,0),ve=Math.min(he,K,oe)+vn(0,z.lat),_e=a.getConstrained(z,ve).zoom+vn(z.lat,0);ae=i.af(_e-K)}let ue=i.bA(v.lng,z.lng),pe=i.bA(v.lat,z.lat);return{easeFunc:(he,ve,_e,fe)=>{let Se=fy(v,ue,pe,_e);M&&a.interpolatePadding(T,c.padding,he);let Re=he===1?z:Se;a.setCenter(Re.wrap());let Ie=K+i.ak(ve);a.setZoom(he===1?k:Ie+vn(0,Re.lat))},scaleOfZoom:ie,targetCenter:z,scaleOfMinZoom:ae,pixelPathLength:V}}static solveVectorScale(a,c,d,v,_){let T=v==="x"?[d[0],d[4],d[8],d[12]]:[d[1],d[5],d[9],d[13]],M=[d[3],d[7],d[11],d[15]],R=a[0]*T[0]+a[1]*T[1]+a[2]*T[2],k=a[0]*M[0]+a[1]*M[1]+a[2]*M[2],N=c[0]*T[0]+c[1]*T[1]+c[2]*T[2],j=c[0]*M[0]+c[1]*M[1]+c[2]*M[2];return N+_*k===R+_*j||M[3]*(R-N)+T[3]*(j-k)+R*j==N*k?null:(N+T[3]-_*j-_*M[3])/(N-R-_*j+_*k)}static getLesserNonNegativeNonNull(a,c){return c!==null&&c>=0&&c<a?c:a}}class j1{constructor(a){this._globe=a,this._mercatorCameraHelper=new Pi,this._verticalPerspectiveCameraHelper=new Ai}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(a,c){return this.currentHelper.handlePanInertia(a,c)}handleMapControlsRollPitchBearingZoom(a,c){return this.currentHelper.handleMapControlsRollPitchBearingZoom(a,c)}handleMapControlsPan(a,c,d){this.currentHelper.handleMapControlsPan(a,c,d)}cameraForBoxAndBearing(a,c,d,v,_){return this.currentHelper.cameraForBoxAndBearing(a,c,d,v,_)}handleJumpToCenterZoom(a,c){this.currentHelper.handleJumpToCenterZoom(a,c)}handleEaseTo(a,c){return this.currentHelper.handleEaseTo(a,c)}handleFlyTo(a,c){return this.currentHelper.handleFlyTo(a,c)}}let Sd=(y,a)=>i.y(y,a&&a.filter(c=>c.identifier!=="source.canvas")),qM=i.bE();class py extends i.E{constructor(a,c={}){var d,v;super(),this._rtlPluginLoaded=()=>{for(let T in this.sourceCaches){let M=this.sourceCaches[T].getSource().type;M!=="vector"&&M!=="geojson"||this.sourceCaches[T].reload()}},this.map=a,this.dispatcher=new wr(Jn(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(T,M)=>this.getGlyphs(T,M)),this.dispatcher.registerMessageHandler("GI",(T,M)=>this.getImages(T,M)),this.imageManager=new ke,this.imageManager.setEventedParent(this);let _=((d=a._container)===null||d===void 0?void 0:d.lang)||typeof document!="undefined"&&((v=document.documentElement)===null||v===void 0?void 0:v.lang)||void 0;this.glyphManager=new tr(a._requestManager,c.localIdeographFontFamily,_),this.lineAtlas=new _t(256,512),this.crossTileSymbolIndex=new Dc,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",i.bG()),Pa().on(rs,this._rtlPluginLoaded),this.on("data",T=>{if(T.dataType!=="source"||T.sourceDataType!=="metadata")return;let M=this.sourceCaches[T.sourceId];if(!M)return;let R=M.getSource();if(R&&R.vectorLayerIds)for(let k in this._layers){let N=this._layers[k];N.source===R.id&&this._validateLayer(N)}})}setGlobalStateProperty(a,c){var d,v,_;this._checkLoaded();let T=c===null?(_=(v=(d=this.stylesheet.state)===null||d===void 0?void 0:d[a])===null||v===void 0?void 0:v.default)!==null&&_!==void 0?_:null:c;if(i.bH(T,this._globalState[a]))return this;this._globalState[a]=T,this._applyGlobalStateChanges([a])}getGlobalState(){return this._globalState}setGlobalState(a){this._checkLoaded();let c=[];for(let d in a)!i.bH(this._globalState[d],a[d].default)&&(c.push(d),this._globalState[d]=a[d].default);this._applyGlobalStateChanges(c)}_applyGlobalStateChanges(a){if(a.length===0)return;let c=new Set;for(let d in this._layers){let v=this._layers[d],_=v.getLayoutAffectingGlobalStateRefs(),T=v.getPaintAffectingGlobalStateRefs();for(let M of a)if(_.has(M)&&c.add(v.source),T.has(M))for(let{name:R,value:k}of T.get(M))this._updatePaintProperty(v,R,k)}for(let d in this.sourceCaches)c.has(d)&&(this._reloadSource(d),this._changed=!0)}loadURL(a,c={},d){this.fire(new i.l("dataloading",{dataType:"style"})),c.validate=typeof c.validate!="boolean"||c.validate;let v=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let _=this._loadStyleRequest;i.j(v,this._loadStyleRequest).then(T=>{this._loadStyleRequest=null,this._load(T.data,c,d)}).catch(T=>{this._loadStyleRequest=null,T&&!_.signal.aborted&&this.fire(new i.k(T))})}loadJSON(a,c={},d){this.fire(new i.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,C.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,c.validate=c.validate!==!1,this._load(a,c,d)}).catch(()=>{})}loadEmpty(){this.fire(new i.l("dataloading",{dataType:"style"})),this._load(qM,{validate:!1})}_load(a,c,d){var v,_;let T=c.transformStyle?c.transformStyle(d,a):a;if(!c.validate||!Sd(this,i.z(T))){T=Object.assign({},T),this._loaded=!0,this.stylesheet=T;for(let M in T.sources)this.addSource(M,T.sources[M],{validate:!1});T.sprite?this._loadSprite(T.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(T.glyphs),this._createLayers(),this.light=new qr(this.stylesheet.light),this._setProjectionInternal(((v=this.stylesheet.projection)===null||v===void 0?void 0:v.type)||"mercator"),this.sky=new Ut(this.stylesheet.sky),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new i.l("data",{dataType:"style"})),this.fire(new i.l("style.load"))}}_createLayers(){var a;let c=i.bI(this.stylesheet.layers);this.dispatcher.broadcast("SL",c),this._order=c.map(d=>d.id),this._layers={},this.setGlobalState((a=this.stylesheet.state)!==null&&a!==void 0?a:null),this._serializedLayers=null;for(let d of c){let v=i.bJ(d);v.setEventedParent(this,{layer:{id:d.id}}),v.setGlobalState(this._globalState),this._layers[d.id]=v}}_loadSprite(a,c=!1,d=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,T,M,R){return i._(this,void 0,void 0,function*(){let k=de(_),N=M>1?"@2x":"",j={},z={};for(let{id:V,url:K}of k){let oe=T.transformRequest(De(K,N,".json"),"SpriteJSON");j[V]=i.j(oe,R);let ie=T.transformRequest(De(K,N,".png"),"SpriteImage");z[V]=Q.getImage(ie,R)}return yield Promise.all([...Object.values(j),...Object.values(z)]),function(V,K){return i._(this,void 0,void 0,function*(){let oe={};for(let ie in V){oe[ie]={};let ae=C.getImageCanvasContext((yield K[ie]).data),ue=(yield V[ie]).data;for(let pe in ue){let{width:he,height:ve,x:_e,y:fe,sdf:Se,pixelRatio:Re,stretchX:Ie,stretchY:Pe,content:qe,textFitWidth:Ze,textFitHeight:Ye}=ue[pe];oe[ie][pe]={data:null,pixelRatio:Re,sdf:Se,stretchX:Ie,stretchY:Pe,content:qe,textFitWidth:Ze,textFitHeight:Ye,spriteData:{width:he,height:ve,x:_e,y:fe,context:ae}}}}return oe})}(j,z)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(let T in _){this._spritesImagesIds[T]=[];let M=this._spritesImagesIds[T]?this._spritesImagesIds[T].filter(R=>!(R in _)):[];for(let R of M)this.imageManager.removeImage(R),this._changedImages[R]=!0;for(let R in _[T]){let k=T==="default"?R:`${T}:${R}`;this._spritesImagesIds[T].push(k),k in this.imageManager.images?this.imageManager.updateImage(k,_[T][R],!1):this.imageManager.addImage(k,_[T][R]),c&&(this._changedImages[k]=!0)}}}).catch(_=>{this._spriteRequest=null,v=_,this.fire(new i.k(v))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),c&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"})),d&&d(v)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}_validateLayer(a){let c=this.sourceCaches[a.source];if(!c)return;let d=a.sourceLayer;if(!d)return;let v=c.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(d)===-1)&&this.fire(new i.k(new Error(`Source layer "${d}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,c=!1){let d=this._serializedAllLayers();if(!a||a.length===0)return Object.values(c?i.bK(d):d);let v=[];for(let _ of a)if(d[_]){let T=c?i.bK(d[_]):d[_];v.push(T)}return v}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let c=Object.keys(this._layers);for(let d of c){let v=this._layers[d];v.type!=="custom"&&(a[d]=v.serialize())}return a}hasTransitions(){var a,c,d;if(!((a=this.light)===null||a===void 0)&&a.hasTransition()||!((c=this.sky)===null||c===void 0)&&c.hasTransition()||!((d=this.projection)===null||d===void 0)&&d.hasTransition())return!0;for(let v in this.sourceCaches)if(this.sourceCaches[v].hasTransition())return!0;for(let v in this._layers)if(this._layers[v].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let c=this._changed;if(c){let v=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(v.length||_.length)&&this._updateWorkerLayers(v,_);for(let T in this._updatedSources){let M=this._updatedSources[T];if(M==="reload")this._reloadSource(T);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(T)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let T in this._updatedPaintProps)this._layers[T].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let d={};for(let v in this.sourceCaches){let _=this.sourceCaches[v];d[v]=_.used,_.used=!1}for(let v of this._order){let _=this._layers[v];_.recalculate(a,this._availableImages),!_.isHidden(a.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(let v in d){let _=this.sourceCaches[v];!!d[v]!=!!_.used&&_.fire(new i.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.sky.recalculate(a),this.projection.recalculate(a),this.z=a.zoom,c&&this.fire(new i.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,c){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,c={}){var d;this._checkLoaded();let v=this.serialize();if(a=c.transformStyle?c.transformStyle(v,a):a,((d=c.validate)===null||d===void 0||d)&&Sd(this,i.z(a)))return!1;(a=i.bK(a)).layers=i.bI(a.layers);let _=i.bL(v,a),T=this._getOperationsToPerform(_);if(T.unimplemented.length>0)throw new Error(`Unimplemented: ${T.unimplemented.join(", ")}.`);if(T.operations.length===0)return!1;for(let M of T.operations)M();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let c=[],d=[];for(let v of a)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":c.push(()=>this.addLayer.apply(this,v.args));break;case"removeLayer":c.push(()=>this.removeLayer.apply(this,v.args));break;case"setPaintProperty":c.push(()=>this.setPaintProperty.apply(this,v.args));break;case"setLayoutProperty":c.push(()=>this.setLayoutProperty.apply(this,v.args));break;case"setFilter":c.push(()=>this.setFilter.apply(this,v.args));break;case"addSource":c.push(()=>this.addSource.apply(this,v.args));break;case"removeSource":c.push(()=>this.removeSource.apply(this,v.args));break;case"setLayerZoomRange":c.push(()=>this.setLayerZoomRange.apply(this,v.args));break;case"setLight":c.push(()=>this.setLight.apply(this,v.args));break;case"setGeoJSONSourceData":c.push(()=>this.setGeoJSONSourceData.apply(this,v.args));break;case"setGlyphs":c.push(()=>this.setGlyphs.apply(this,v.args));break;case"setSprite":c.push(()=>this.setSprite.apply(this,v.args));break;case"setTerrain":c.push(()=>this.map.setTerrain.apply(this,v.args));break;case"setSky":c.push(()=>this.setSky.apply(this,v.args));break;case"setProjection":this.setProjection.apply(this,v.args);break;case"setGlobalState":c.push(()=>this.setGlobalState.apply(this,v.args));break;case"setTransition":c.push(()=>{});break;default:d.push(v.command)}return{operations:c,unimplemented:d}}addImage(a,c){if(this.getImage(a))return this.fire(new i.k(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,c),this._afterImageUpdated(a)}updateImage(a,c){this.imageManager.updateImage(a,c)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new i.k(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,c,d={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(i.z.source,`sources.${a}`,c,null,d))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);let v=this.sourceCaches[a]=new Gt(a,c,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let d in this._layers)if(this._layers[d].source===a)return this.fire(new i.k(new Error(`Source "${a}" cannot be removed while layer "${d}" is using it.`)));let c=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],c.fire(new i.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,c){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let d=this.sourceCaches[a].getSource();if(d.type!=="geojson")throw new Error(`geojsonSource.type is ${d.type}, which is !== 'geojson`);d.setData(c),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,c,d={}){this._checkLoaded();let v=a.id;if(this.getLayer(v))return void this.fire(new i.k(new Error(`Layer "${v}" already exists on this map.`)));let _;if(a.type==="custom"){if(Sd(this,i.bM(a)))return;_=i.bJ(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=i.bK(a),a=i.e(a,{source:v})),this._validate(i.z.layer,`layers.${v}`,a,{arrayIndex:-1},d))return;_=i.bJ(a),this._validateLayer(_),_.setEventedParent(this,{layer:{id:v}})}let T=c?this._order.indexOf(c):this._order.length;if(c&&T===-1)this.fire(new i.k(new Error(`Cannot add layer "${v}" before non-existing layer "${c}".`)));else{if(this._order.splice(T,0,v),this._layerOrderChanged=!0,this._layers[v]=_,this._removedLayers[v]&&_.source&&_.type!=="custom"){let M=this._removedLayers[v];delete this._removedLayers[v],M.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(a,c){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new i.k(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===c)return;let d=this._order.indexOf(a);this._order.splice(d,1);let v=c?this._order.indexOf(c):this._order.length;c&&v===-1?this.fire(new i.k(new Error(`Cannot move layer "${a}" before non-existing layer "${c}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let c=this._layers[a];if(!c)return void this.fire(new i.k(new Error(`Cannot remove non-existing layer "${a}".`)));c.setEventedParent(null);let d=this._order.indexOf(a);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=c,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],c.onRemove&&c.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,c,d){this._checkLoaded();let v=this.getLayer(a);v?v.minzoom===c&&v.maxzoom===d||(c!=null&&(v.minzoom=c),d!=null&&(v.maxzoom=d),this._updateLayer(v)):this.fire(new i.k(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,c,d={}){this._checkLoaded();let v=this.getLayer(a);if(v){if(!i.bH(v.filter,c))return c==null?(v.setFilter(void 0),void this._updateLayer(v)):void(this._validate(i.z.filter,`layers.${v.id}.filter`,c,null,d)||(v.setFilter(i.bK(c)),this._updateLayer(v)))}else this.fire(new i.k(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return i.bK(this.getLayer(a).filter)}setLayoutProperty(a,c,d,v={}){this._checkLoaded();let _=this.getLayer(a);_?i.bH(_.getLayoutProperty(c),d)||(_.setLayoutProperty(c,d,v),this._updateLayer(_)):this.fire(new i.k(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,c){let d=this.getLayer(a);if(d)return d.getLayoutProperty(c);this.fire(new i.k(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,c,d,v={}){this._checkLoaded();let _=this.getLayer(a);_?i.bH(_.getPaintProperty(c),d)||this._updatePaintProperty(_,c,d,v):this.fire(new i.k(new Error(`Cannot style non-existing layer "${a}".`)))}_updatePaintProperty(a,c,d,v={}){a.setPaintProperty(c,d,v)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[a.id]=!0,this._serializedLayers=null}getPaintProperty(a,c){return this.getLayer(a).getPaintProperty(c)}setFeatureState(a,c){this._checkLoaded();let d=a.source,v=a.sourceLayer,_=this.sourceCaches[d];if(_===void 0)return void this.fire(new i.k(new Error(`The source '${d}' does not exist in the map's style.`)));let T=_.getSource().type;T==="geojson"&&v?this.fire(new i.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||v?(a.id===void 0&&this.fire(new i.k(new Error("The feature id parameter must be provided."))),_.setFeatureState(v,a.id,c)):this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,c){this._checkLoaded();let d=a.source,v=this.sourceCaches[d];if(v===void 0)return void this.fire(new i.k(new Error(`The source '${d}' does not exist in the map's style.`)));let _=v.getSource().type,T=_==="vector"?a.sourceLayer:void 0;_!=="vector"||T?c&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new i.k(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(T,a.id,c):this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let c=a.source,d=a.sourceLayer,v=this.sourceCaches[c];if(v!==void 0)return v.getSource().type!=="vector"||d?(a.id===void 0&&this.fire(new i.k(new Error("The feature id parameter must be provided."))),v.getFeatureState(d,a.id)):void this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new i.k(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return i.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=i.bN(this.sourceCaches,_=>_.serialize()),c=this._serializeByIds(this._order,!0),d=this.map.getTerrain()||void 0,v=this.stylesheet;return i.bO({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,projection:v.projection,sources:a,layers:c,terrain:d},_=>_!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let c=T=>this._layers[T].type==="fill-extrusion",d={},v=[];for(let T=this._order.length-1;T>=0;T--){let M=this._order[T];if(c(M)){d[M]=T;for(let R of a){let k=R[M];if(k)for(let N of k)v.push(N)}}}v.sort((T,M)=>M.intersectionZ-T.intersectionZ);let _=[];for(let T=this._order.length-1;T>=0;T--){let M=this._order[T];if(c(M))for(let R=v.length-1;R>=0;R--){let k=v[R].feature;if(d[k.layer.id]<T)break;_.push(k),v.pop()}else for(let R of a){let k=R[M];if(k)for(let N of k)_.push(N.feature)}}return _}queryRenderedFeatures(a,c,d){c&&c.filter&&this._validate(i.z.filter,"queryRenderedFeatures.filter",c.filter,null,c);let v={};if(c&&c.layers){if(!(Array.isArray(c.layers)||c.layers instanceof Set))return this.fire(new i.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let k of c.layers){let N=this._layers[k];if(!N)return this.fire(new i.k(new Error(`The layer '${k}' does not exist in the map's style and cannot be queried for features.`))),[];v[N.source]=!0}}let _=[];c.availableImages=this._availableImages;let T=this._serializedAllLayers(),M=c.layers instanceof Set?c.layers:Array.isArray(c.layers)?new Set(c.layers):null,R=Object.assign(Object.assign({},c),{layers:M});for(let k in this.sourceCaches)c.layers&&!v[k]||_.push(Rn(this.sourceCaches[k],this._layers,T,a,R,d,this.map.terrain?(N,j,z)=>this.map.terrain.getElevation(N,j,z):void 0));return this.placement&&_.push(function(k,N,j,z,V,K,oe){let ie={},ae=K.queryRenderedSymbols(z),ue=[];for(let pe of Object.keys(ae).map(Number))ue.push(oe[pe]);ue.sort(Tn);for(let pe of ue){let he=pe.featureIndex.lookupSymbolFeatures(ae[pe.bucketInstanceId],N,pe.bucketIndex,pe.sourceLayerIndex,V.filter,V.layers,V.availableImages,k);for(let ve in he){let _e=ie[ve]=ie[ve]||[],fe=he[ve];fe.sort((Se,Re)=>{let Ie=pe.featureSortOrder;if(Ie){let Pe=Ie.indexOf(Se.featureIndex);return Ie.indexOf(Re.featureIndex)-Pe}return Re.featureIndex-Se.featureIndex});for(let Se of fe)_e.push(Se)}}return function(pe,he,ve){for(let _e in pe)for(let fe of pe[_e])Ja(fe,ve[he[_e].source]);return pe}(ie,k,j)}(this._layers,T,this.sourceCaches,a,R,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(a,c){c&&c.filter&&this._validate(i.z.filter,"querySourceFeatures.filter",c.filter,null,c);let d=this.sourceCaches[a];return d?function(v,_){let T=v.getRenderableIds().map(k=>v.getTileByID(k)),M=[],R={};for(let k=0;k<T.length;k++){let N=T[k],j=N.tileID.canonical.key;R[j]||(R[j]=!0,N.querySourceFeatures(M,_))}return M}(d,c):[]}getLight(){return this.light.getLight()}setLight(a,c={}){this._checkLoaded();let d=this.light.getLight(),v=!1;for(let T in a)if(!i.bH(a[T],d[T])){v=!0;break}if(!v)return;let _={now:C.now(),transition:i.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,c),this.light.updateTransitions(_)}getProjection(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.projection}setProjection(a){if(this._checkLoaded(),this.projection){if(this.projection.name===a.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=a,this._setProjectionInternal(a.type)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,c={}){this._checkLoaded();let d=this.getSky(),v=!1;if(!a&&!d)return;if(a&&!d)v=!0;else if(!a&&d)v=!0;else for(let T in a)if(!i.bH(a[T],d[T])){v=!0;break}if(!v)return;let _={now:C.now(),transition:i.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,c),this.sky.updateTransitions(_)}_setProjectionInternal(a){let c=function(d){if(Array.isArray(d)){let v=new wd({type:d});return{projection:v,transform:new Lf,cameraHelper:new j1(v)}}switch(d){case"mercator":return{projection:new Ht,transform:new Or,cameraHelper:new Pi};case"globe":{let v=new wd({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:v,transform:new Lf,cameraHelper:new j1(v)}}case"vertical-perspective":return{projection:new Pf,transform:new Of,cameraHelper:new Ai};default:return i.w(`Unknown projection name: ${d}. Falling back to mercator projection.`),{projection:new Ht,transform:new Or,cameraHelper:new Pi}}}(a);this.projection=c.projection,this.map.migrateProjection(c.transform,c.cameraHelper);for(let d in this.sourceCaches)this.sourceCaches[d].reload()}_validate(a,c,d,v,_={}){return(!_||_.validate!==!1)&&Sd(this,a.call(i.z,i.e({key:c,style:this.serialize(),value:d,styleSpec:i.v},v)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Pa().off(rs,this._rtlPluginLoaded);for(let c in this._layers)this._layers[c].setEventedParent(null);for(let c in this.sourceCaches){let d=this.sourceCaches[c];d.setEventedParent(null),d.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let c in this.sourceCaches)this.sourceCaches[c].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,c,d,v,_=!1){let T=!1,M=!1,R={};for(let k of this._order){let N=this._layers[k];if(N.type!=="symbol")continue;if(!R[N.source]){let z=this.sourceCaches[N.source];R[N.source]=z.getRenderableIds(!0).map(V=>z.getTileByID(V)).sort((V,K)=>K.tileID.overscaledZ-V.tileID.overscaledZ||(V.tileID.isLessThan(K.tileID)?-1:1))}let j=this.crossTileSymbolIndex.addLayer(N,R[N.source],a.center.lng);T=T||j}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||d===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(C.now(),a.zoom))&&(this.pauseablePlacement=new ly(a,this.map.terrain,this._order,_,c,d,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,R),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(C.now()),M=!0),T&&this.pauseablePlacement.placement.setStale()),M||T)for(let k of this._order){let N=this._layers[k];N.type==="symbol"&&this.placement.updateLayerOpacities(N,R[N.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(C.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,c){return i._(this,void 0,void 0,function*(){let d=yield this.imageManager.getImages(c.icons);this._updateTilesForChangedImages();let v=this.sourceCaches[c.source];return v&&v.setDependencies(c.tileID.key,c.type,c.icons),d})}getGlyphs(a,c){return i._(this,void 0,void 0,function*(){let d=yield this.glyphManager.getGlyphs(c.stacks),v=this.sourceCaches[c.source];return v&&v.setDependencies(c.tileID.key,c.type,[""]),d})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,c={}){this._checkLoaded(),a&&this._validate(i.z.glyphs,"glyphs",a,null,c)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,c,d={},v){this._checkLoaded();let _=[{id:a,url:c}],T=[...de(this.stylesheet.sprite),..._];this._validate(i.z.sprite,"sprite",T,null,d)||(this.stylesheet.sprite=T,this._loadSprite(_,!0,v))}removeSprite(a){this._checkLoaded();let c=de(this.stylesheet.sprite);if(c.find(d=>d.id===a)){if(this._spritesImagesIds[a])for(let d of this._spritesImagesIds[a])this.imageManager.removeImage(d),this._changedImages[d]=!0;c.splice(c.findIndex(d=>d.id===a),1),this.stylesheet.sprite=c.length>0?c:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}else this.fire(new i.k(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return de(this.stylesheet.sprite)}setSprite(a,c={},d){this._checkLoaded(),a&&this._validate(i.z.sprite,"sprite",a,null,c)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,d):(this._unloadSprite(),d&&d(null)))}}var RM=i.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class OM{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,c,d,v,_,T,M,R,k){this.context=a;let N=this.boundPaintVertexBuffers.length!==v.length;for(let j=0;!N&&j<v.length;j++)this.boundPaintVertexBuffers[j]!==v[j]&&(N=!0);!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==d||N||this.boundIndexBuffer!==_||this.boundVertexOffset!==T||this.boundDynamicVertexBuffer!==M||this.boundDynamicVertexBuffer2!==R||this.boundDynamicVertexBuffer3!==k?this.freshBind(c,d,v,_,T,M,R,k):(a.bindVertexArray.set(this.vao),M&&M.bind(),_&&_.dynamicDraw&&_.bind(),R&&R.bind(),k&&k.bind())}freshBind(a,c,d,v,_,T,M,R){let k=a.numAttributes,N=this.context,j=N.gl;this.vao&&this.destroy(),this.vao=N.createVertexArray(),N.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=d,this.boundIndexBuffer=v,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=R,c.enableAttributes(j,a);for(let z of d)z.enableAttributes(j,a);T&&T.enableAttributes(j,a),M&&M.enableAttributes(j,a),R&&R.enableAttributes(j,a),c.bind(),c.setVertexAttribPointers(j,a,_);for(let z of d)z.bind(),z.setVertexAttribPointers(j,a,_);T&&(T.bind(),T.setVertexAttribPointers(j,a,_)),v&&v.bind(),M&&(M.bind(),M.setVertexAttribPointers(j,a,_)),R&&(R.bind(),R.setVertexAttribPointers(j,a,_)),N.currentNumAttributes=k}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let Td=(y,a,c,d,v)=>({u_texture:0,u_ele_delta:y,u_fog_matrix:a,u_fog_color:c?c.properties.get("fog-color"):i.bf.white,u_fog_ground_blend:c?c.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:v?0:c?c.calculateFogBlendOpacity(d):0,u_horizon_color:c?c.properties.get("horizon-color"):i.bf.white,u_horizon_fog_blend:c?c.properties.get("horizon-fog-blend"):1,u_is_globe_mode:v?1:0}),dy={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Su(y){let a=[];for(let c=0;c<y.length;c++){if(y[c]===null)continue;let d=y[c].split(" ");a.push(d.pop())}return a}class my{constructor(a,c,d,v,_,T,M,R,k=[]){let N=a.gl;this.program=N.createProgram();let j=Su(c.staticAttributes),z=d?d.getBinderAttributes():[],V=j.concat(z),K=Aa.prelude.staticUniforms?Su(Aa.prelude.staticUniforms):[],oe=M.staticUniforms?Su(M.staticUniforms):[],ie=c.staticUniforms?Su(c.staticUniforms):[],ae=d?d.getBinderUniforms():[],ue=K.concat(oe).concat(ie).concat(ae),pe=[];for(let Ie of ue)pe.indexOf(Ie)<0&&pe.push(Ie);let he=d?d.defines():[];os(N)&&he.unshift("#version 300 es"),_&&he.push("#define OVERDRAW_INSPECTOR;"),T&&he.push("#define TERRAIN3D;"),R&&he.push(R),k&&he.push(...k);let ve=he.concat(Aa.prelude.fragmentSource,M.fragmentSource,c.fragmentSource).join(`
`),_e=he.concat(Aa.prelude.vertexSource,M.vertexSource,c.vertexSource).join(`
`);os(N)||(ve=function(Ie){return Ie.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(ve),_e=function(Ie){return Ie.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(_e));let fe=N.createShader(N.FRAGMENT_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);if(N.shaderSource(fe,ve),N.compileShader(fe),!N.getShaderParameter(fe,N.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${N.getShaderInfoLog(fe)}`);N.attachShader(this.program,fe);let Se=N.createShader(N.VERTEX_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);if(N.shaderSource(Se,_e),N.compileShader(Se),!N.getShaderParameter(Se,N.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${N.getShaderInfoLog(Se)}`);N.attachShader(this.program,Se),this.attributes={};let Re={};this.numAttributes=V.length;for(let Ie=0;Ie<this.numAttributes;Ie++)V[Ie]&&(N.bindAttribLocation(this.program,Ie,V[Ie]),this.attributes[V[Ie]]=Ie);if(N.linkProgram(this.program),!N.getProgramParameter(this.program,N.LINK_STATUS))throw new Error(`Program failed to link: ${N.getProgramInfoLog(this.program)}`);N.deleteShader(Se),N.deleteShader(fe);for(let Ie=0;Ie<pe.length;Ie++){let Pe=pe[Ie];if(Pe&&!Re[Pe]){let qe=N.getUniformLocation(this.program,Pe);qe&&(Re[Pe]=qe)}}this.fixedUniforms=v(a,Re),this.terrainUniforms=((Ie,Pe)=>({u_depth:new i.bP(Ie,Pe.u_depth),u_terrain:new i.bP(Ie,Pe.u_terrain),u_terrain_dim:new i.bg(Ie,Pe.u_terrain_dim),u_terrain_matrix:new i.bR(Ie,Pe.u_terrain_matrix),u_terrain_unpack:new i.bS(Ie,Pe.u_terrain_unpack),u_terrain_exaggeration:new i.bg(Ie,Pe.u_terrain_exaggeration)}))(a,Re),this.projectionUniforms=((Ie,Pe)=>({u_projection_matrix:new i.bR(Ie,Pe.u_projection_matrix),u_projection_tile_mercator_coords:new i.bS(Ie,Pe.u_projection_tile_mercator_coords),u_projection_clipping_plane:new i.bS(Ie,Pe.u_projection_clipping_plane),u_projection_transition:new i.bg(Ie,Pe.u_projection_transition),u_projection_fallback_matrix:new i.bR(Ie,Pe.u_projection_fallback_matrix)}))(a,Re),this.binderUniforms=d?d.getUniforms(a,Re):[]}draw(a,c,d,v,_,T,M,R,k,N,j,z,V,K,oe,ie,ae,ue,pe){let he=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(d),a.setStencilMode(v),a.setColorMode(_),a.setCullFace(T),R){a.activeTexture.set(he.TEXTURE2),he.bindTexture(he.TEXTURE_2D,R.depthTexture),a.activeTexture.set(he.TEXTURE3),he.bindTexture(he.TEXTURE_2D,R.texture);for(let _e in this.terrainUniforms)this.terrainUniforms[_e].set(R[_e])}if(k)for(let _e in k)this.projectionUniforms[dy[_e]].set(k[_e]);if(M)for(let _e in this.fixedUniforms)this.fixedUniforms[_e].set(M[_e]);ie&&ie.setUniforms(a,this.binderUniforms,K,{zoom:oe});let ve=0;switch(c){case he.LINES:ve=2;break;case he.TRIANGLES:ve=3;break;case he.LINE_STRIP:ve=1}for(let _e of V.get()){let fe=_e.vaos||(_e.vaos={});(fe[N]||(fe[N]=new OM)).bind(a,this,j,ie?ie.getPaintVertexBuffers():[],z,_e.vertexOffset,ae,ue,pe),he.drawElements(c,_e.primitiveLength*ve,he.UNSIGNED_SHORT,_e.primitiveOffset*ve*2)}}}function Id(y,a,c){let d=1/i.aC(c,1,a.transform.tileZoom),v=Math.pow(2,c.tileID.overscaledZ),_=c.tileSize*Math.pow(2,a.transform.tileZoom)/v,T=_*(c.tileID.canonical.x+c.tileID.wrap*v),M=_*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[d,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[T>>16,M>>16],u_pixel_coord_lower:[65535&T,65535&M]}}let qa=(y,a,c,d)=>{let v=y.style.light,_=v.properties.get("position"),T=[_.x,_.y,_.z],M=i.bV();v.properties.get("anchor")==="viewport"&&i.bW(M,y.transform.bearingInRadians),i.bX(T,T,M);let R=y.transform.transformLightDirection(T),k=v.properties.get("color");return{u_lightpos:T,u_lightpos_globe:R,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+a,u_opacity:c,u_fill_translate:d}},LM=(y,a,c,d,v,_,T)=>i.e(qa(y,a,c,d),Id(_,y,T),{u_height_factor:-Math.pow(2,v.overscaledZ)/T.tileSize/8}),Cd=(y,a,c,d)=>i.e(Id(a,y,c),{u_fill_translate:d}),Df=(y,a)=>({u_world:y,u_fill_translate:a}),kf=(y,a,c,d,v)=>i.e(Cd(y,a,c,v),{u_world:d}),DM=(y,a,c,d,v)=>{let _=y.transform,T,M,R=0;if(c.paint.get("circle-pitch-alignment")==="map"){let k=i.aC(a,1,_.zoom);T=!0,M=[k,k],R=k/(i.$*Math.pow(2,a.tileID.overscaledZ))*2*Math.PI*v}else T=!1,M=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+T,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:M,u_globe_extrude_scale:R,u_translate:d}},Pd=y=>({u_pixel_extrude_scale:[1/y.width,1/y.height]}),kM=y=>({u_viewport_size:[y.width,y.height]}),Tu=(y,a=1)=>({u_color:y,u_overlay:0,u_overlay_scale:a}),B1=(y,a,c,d)=>{let v=i.aC(y,1,a)/(i.$*Math.pow(2,y.tileID.overscaledZ))*2*Math.PI*d;return{u_extrude_scale:i.aC(y,1,a),u_intensity:c,u_globe_extrude_scale:v}},vy=(y,a,c,d)=>{let v=i.L();i.bY(v,0,y.width,y.height,0,0,1);let _=y.context.gl;return{u_matrix:v,u_world:[_.drawingBufferWidth,_.drawingBufferHeight],u_image:c,u_color_ramp:d,u_opacity:a.paint.get("heatmap-opacity")}},NM=(y,a,c)=>{let d=c.paint.get("hillshade-accent-color"),v;switch(c.paint.get("hillshade-method")){case"basic":v=4;break;case"combined":v=1;break;case"igor":v=2;break;case"multidirectional":v=3;break;default:v=0}let _=c.getIlluminationProperties();for(let T=0;T<_.directionRadians.length;T++)c.paint.get("hillshade-illumination-anchor")==="viewport"&&(_.directionRadians[T]+=y.transform.bearingInRadians);return{u_image:0,u_latrange:gy(0,a.tileID),u_exaggeration:c.paint.get("hillshade-exaggeration"),u_altitudes:_.altitudeRadians,u_azimuths:_.directionRadians,u_accent:d,u_method:v,u_highlights:_.highlightColor,u_shadows:_.shadowColor}},U1=(y,a)=>{let c=a.stride,d=i.L();return i.bY(d,0,i.$,-i.$,0,0,1),i.M(d,d,[0,-i.$,0]),{u_matrix:d,u_image:1,u_dimension:[c,c],u_zoom:y.overscaledZ,u_unpack:a.getUnpackVector()}};function gy(y,a){let c=Math.pow(2,a.canonical.z),d=a.canonical.y;return[new i.a1(0,d/c).toLngLat().lat,new i.a1(0,(d+1)/c).toLngLat().lat]}let V1=(y,a,c=0)=>({u_image:0,u_unpack:a.getUnpackVector(),u_dimension:[a.stride,a.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:c,u_opacity:y.paint.get("color-relief-opacity")}),Ad=(y,a,c,d)=>{let v=y.transform;return{u_translation:_y(y,a,c),u_ratio:d/i.aC(a,1,v.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},$1=(y,a,c,d,v)=>i.e(Ad(y,a,c,d),{u_image:0,u_image_height:v}),G1=(y,a,c,d,v)=>{let _=y.transform,T=yy(a,_);return{u_translation:_y(y,a,c),u_texsize:a.imageAtlasTexture.size,u_ratio:d/i.aC(a,1,_.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[T,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Iu=(y,a,c,d,v,_)=>{let T=y.lineAtlas,M=yy(a,y.transform),R=c.layout.get("line-cap")==="round",k=T.getDash(v.from,R),N=T.getDash(v.to,R),j=k.width*_.fromScale,z=N.width*_.toScale;return i.e(Ad(y,a,c,d),{u_patternscale_a:[M/j,-k.height/2],u_patternscale_b:[M/z,-N.height/2],u_sdfgamma:T.width/(256*Math.min(j,z)*y.pixelRatio)/2,u_image:0,u_tex_y_a:k.y,u_tex_y_b:N.y,u_mix:_.t})};function yy(y,a){return 1/i.aC(y,1,a.tileZoom)}function _y(y,a,c){return i.aD(y.transform,a,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}let Nf=(y,a,c,d,v)=>{return{u_tl_parent:y,u_scale_parent:a,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*d.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get("raster-brightness-min"),u_brightness_high:d.paint.get("raster-brightness-max"),u_saturation_factor:(T=d.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(_=d.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:FM(d.paint.get("raster-hue-rotate")),u_coords_top:[v[0].x,v[0].y,v[1].x,v[1].y],u_coords_bottom:[v[3].x,v[3].y,v[2].x,v[2].y]};var _,T};function FM(y){y*=Math.PI/180;let a=Math.sin(y),c=Math.cos(y);return[(2*c+1)/3,(-Math.sqrt(3)*a-c+1)/3,(Math.sqrt(3)*a-c+1)/3]}let Ff=(y,a,c,d,v,_,T,M,R,k,N,j,z)=>{let V=T.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:V.cameraToCenterDistance,u_pitch:V.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:V.width/V.height,u_fade_change:T.options.fadeDuration?T.symbolFadeChange:1,u_label_plane_matrix:M,u_coord_matrix:R,u_is_text:+N,u_pitch_with_map:+d,u_is_along_line:v,u_is_variable_anchor:_,u_texsize:j,u_texture:0,u_translation:k,u_pitched_scale:z}},Z1=(y,a,c,d,v,_,T,M,R,k,N,j,z,V)=>{let K=T.transform;return i.e(Ff(y,a,c,d,v,_,T,M,R,k,N,j,V),{u_gamma_scale:d?Math.cos(K.pitch*Math.PI/180)*K.cameraToCenterDistance:1,u_device_pixel_ratio:T.pixelRatio,u_is_halo:1})},zM=(y,a,c,d,v,_,T,M,R,k,N,j,z)=>i.e(Z1(y,a,c,d,v,_,T,M,R,k,!0,N,0,z),{u_texsize_icon:j,u_texture_icon:1}),W1=(y,a)=>({u_opacity:y,u_color:a}),H1=(y,a,c,d,v)=>i.e(function(_,T,M,R){let k=M.imageManager.getPattern(_.from.toString()),N=M.imageManager.getPattern(_.to.toString()),{width:j,height:z}=M.imageManager.getPixelSize(),V=Math.pow(2,R.tileID.overscaledZ),K=R.tileSize*Math.pow(2,M.transform.tileZoom)/V,oe=K*(R.tileID.canonical.x+R.tileID.wrap*V),ie=K*R.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:k.tl,u_pattern_br_a:k.br,u_pattern_tl_b:N.tl,u_pattern_br_b:N.br,u_texsize:[j,z],u_mix:T.t,u_pattern_size_a:k.displaySize,u_pattern_size_b:N.displaySize,u_scale_a:T.fromScale,u_scale_b:T.toScale,u_tile_units_to_pixels:1/i.aC(R,1,M.transform.tileZoom),u_pixel_coord_upper:[oe>>16,ie>>16],u_pixel_coord_lower:[65535&oe,65535&ie]}}(c,v,a,d),{u_opacity:y}),xy=(y,a)=>{},by={fillExtrusion:(y,a)=>({u_lightpos:new i.bT(y,a.u_lightpos),u_lightpos_globe:new i.bT(y,a.u_lightpos_globe),u_lightintensity:new i.bg(y,a.u_lightintensity),u_lightcolor:new i.bT(y,a.u_lightcolor),u_vertical_gradient:new i.bg(y,a.u_vertical_gradient),u_opacity:new i.bg(y,a.u_opacity),u_fill_translate:new i.bU(y,a.u_fill_translate)}),fillExtrusionPattern:(y,a)=>({u_lightpos:new i.bT(y,a.u_lightpos),u_lightpos_globe:new i.bT(y,a.u_lightpos_globe),u_lightintensity:new i.bg(y,a.u_lightintensity),u_lightcolor:new i.bT(y,a.u_lightcolor),u_vertical_gradient:new i.bg(y,a.u_vertical_gradient),u_height_factor:new i.bg(y,a.u_height_factor),u_opacity:new i.bg(y,a.u_opacity),u_fill_translate:new i.bU(y,a.u_fill_translate),u_image:new i.bP(y,a.u_image),u_texsize:new i.bU(y,a.u_texsize),u_pixel_coord_upper:new i.bU(y,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.bU(y,a.u_pixel_coord_lower),u_scale:new i.bT(y,a.u_scale),u_fade:new i.bg(y,a.u_fade)}),fill:(y,a)=>({u_fill_translate:new i.bU(y,a.u_fill_translate)}),fillPattern:(y,a)=>({u_image:new i.bP(y,a.u_image),u_texsize:new i.bU(y,a.u_texsize),u_pixel_coord_upper:new i.bU(y,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.bU(y,a.u_pixel_coord_lower),u_scale:new i.bT(y,a.u_scale),u_fade:new i.bg(y,a.u_fade),u_fill_translate:new i.bU(y,a.u_fill_translate)}),fillOutline:(y,a)=>({u_world:new i.bU(y,a.u_world),u_fill_translate:new i.bU(y,a.u_fill_translate)}),fillOutlinePattern:(y,a)=>({u_world:new i.bU(y,a.u_world),u_image:new i.bP(y,a.u_image),u_texsize:new i.bU(y,a.u_texsize),u_pixel_coord_upper:new i.bU(y,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.bU(y,a.u_pixel_coord_lower),u_scale:new i.bT(y,a.u_scale),u_fade:new i.bg(y,a.u_fade),u_fill_translate:new i.bU(y,a.u_fill_translate)}),circle:(y,a)=>({u_camera_to_center_distance:new i.bg(y,a.u_camera_to_center_distance),u_scale_with_map:new i.bP(y,a.u_scale_with_map),u_pitch_with_map:new i.bP(y,a.u_pitch_with_map),u_extrude_scale:new i.bU(y,a.u_extrude_scale),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_globe_extrude_scale:new i.bg(y,a.u_globe_extrude_scale),u_translate:new i.bU(y,a.u_translate)}),collisionBox:(y,a)=>({u_pixel_extrude_scale:new i.bU(y,a.u_pixel_extrude_scale)}),collisionCircle:(y,a)=>({u_viewport_size:new i.bU(y,a.u_viewport_size)}),debug:(y,a)=>({u_color:new i.bQ(y,a.u_color),u_overlay:new i.bP(y,a.u_overlay),u_overlay_scale:new i.bg(y,a.u_overlay_scale)}),depth:xy,clippingMask:xy,heatmap:(y,a)=>({u_extrude_scale:new i.bg(y,a.u_extrude_scale),u_intensity:new i.bg(y,a.u_intensity),u_globe_extrude_scale:new i.bg(y,a.u_globe_extrude_scale)}),heatmapTexture:(y,a)=>({u_matrix:new i.bR(y,a.u_matrix),u_world:new i.bU(y,a.u_world),u_image:new i.bP(y,a.u_image),u_color_ramp:new i.bP(y,a.u_color_ramp),u_opacity:new i.bg(y,a.u_opacity)}),hillshade:(y,a)=>({u_image:new i.bP(y,a.u_image),u_latrange:new i.bU(y,a.u_latrange),u_exaggeration:new i.bg(y,a.u_exaggeration),u_altitudes:new i.b_(y,a.u_altitudes),u_azimuths:new i.b_(y,a.u_azimuths),u_accent:new i.bQ(y,a.u_accent),u_method:new i.bP(y,a.u_method),u_shadows:new i.bZ(y,a.u_shadows),u_highlights:new i.bZ(y,a.u_highlights)}),hillshadePrepare:(y,a)=>({u_matrix:new i.bR(y,a.u_matrix),u_image:new i.bP(y,a.u_image),u_dimension:new i.bU(y,a.u_dimension),u_zoom:new i.bg(y,a.u_zoom),u_unpack:new i.bS(y,a.u_unpack)}),colorRelief:(y,a)=>({u_image:new i.bP(y,a.u_image),u_unpack:new i.bS(y,a.u_unpack),u_dimension:new i.bU(y,a.u_dimension),u_elevation_stops:new i.bP(y,a.u_elevation_stops),u_color_stops:new i.bP(y,a.u_color_stops),u_color_ramp_size:new i.bP(y,a.u_color_ramp_size),u_opacity:new i.bg(y,a.u_opacity)}),line:(y,a)=>({u_translation:new i.bU(y,a.u_translation),u_ratio:new i.bg(y,a.u_ratio),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_units_to_pixels:new i.bU(y,a.u_units_to_pixels)}),lineGradient:(y,a)=>({u_translation:new i.bU(y,a.u_translation),u_ratio:new i.bg(y,a.u_ratio),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_units_to_pixels:new i.bU(y,a.u_units_to_pixels),u_image:new i.bP(y,a.u_image),u_image_height:new i.bg(y,a.u_image_height)}),linePattern:(y,a)=>({u_translation:new i.bU(y,a.u_translation),u_texsize:new i.bU(y,a.u_texsize),u_ratio:new i.bg(y,a.u_ratio),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_image:new i.bP(y,a.u_image),u_units_to_pixels:new i.bU(y,a.u_units_to_pixels),u_scale:new i.bT(y,a.u_scale),u_fade:new i.bg(y,a.u_fade)}),lineSDF:(y,a)=>({u_translation:new i.bU(y,a.u_translation),u_ratio:new i.bg(y,a.u_ratio),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_units_to_pixels:new i.bU(y,a.u_units_to_pixels),u_patternscale_a:new i.bU(y,a.u_patternscale_a),u_patternscale_b:new i.bU(y,a.u_patternscale_b),u_sdfgamma:new i.bg(y,a.u_sdfgamma),u_image:new i.bP(y,a.u_image),u_tex_y_a:new i.bg(y,a.u_tex_y_a),u_tex_y_b:new i.bg(y,a.u_tex_y_b),u_mix:new i.bg(y,a.u_mix)}),raster:(y,a)=>({u_tl_parent:new i.bU(y,a.u_tl_parent),u_scale_parent:new i.bg(y,a.u_scale_parent),u_buffer_scale:new i.bg(y,a.u_buffer_scale),u_fade_t:new i.bg(y,a.u_fade_t),u_opacity:new i.bg(y,a.u_opacity),u_image0:new i.bP(y,a.u_image0),u_image1:new i.bP(y,a.u_image1),u_brightness_low:new i.bg(y,a.u_brightness_low),u_brightness_high:new i.bg(y,a.u_brightness_high),u_saturation_factor:new i.bg(y,a.u_saturation_factor),u_contrast_factor:new i.bg(y,a.u_contrast_factor),u_spin_weights:new i.bT(y,a.u_spin_weights),u_coords_top:new i.bS(y,a.u_coords_top),u_coords_bottom:new i.bS(y,a.u_coords_bottom)}),symbolIcon:(y,a)=>({u_is_size_zoom_constant:new i.bP(y,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.bP(y,a.u_is_size_feature_constant),u_size_t:new i.bg(y,a.u_size_t),u_size:new i.bg(y,a.u_size),u_camera_to_center_distance:new i.bg(y,a.u_camera_to_center_distance),u_pitch:new i.bg(y,a.u_pitch),u_rotate_symbol:new i.bP(y,a.u_rotate_symbol),u_aspect_ratio:new i.bg(y,a.u_aspect_ratio),u_fade_change:new i.bg(y,a.u_fade_change),u_label_plane_matrix:new i.bR(y,a.u_label_plane_matrix),u_coord_matrix:new i.bR(y,a.u_coord_matrix),u_is_text:new i.bP(y,a.u_is_text),u_pitch_with_map:new i.bP(y,a.u_pitch_with_map),u_is_along_line:new i.bP(y,a.u_is_along_line),u_is_variable_anchor:new i.bP(y,a.u_is_variable_anchor),u_texsize:new i.bU(y,a.u_texsize),u_texture:new i.bP(y,a.u_texture),u_translation:new i.bU(y,a.u_translation),u_pitched_scale:new i.bg(y,a.u_pitched_scale)}),symbolSDF:(y,a)=>({u_is_size_zoom_constant:new i.bP(y,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.bP(y,a.u_is_size_feature_constant),u_size_t:new i.bg(y,a.u_size_t),u_size:new i.bg(y,a.u_size),u_camera_to_center_distance:new i.bg(y,a.u_camera_to_center_distance),u_pitch:new i.bg(y,a.u_pitch),u_rotate_symbol:new i.bP(y,a.u_rotate_symbol),u_aspect_ratio:new i.bg(y,a.u_aspect_ratio),u_fade_change:new i.bg(y,a.u_fade_change),u_label_plane_matrix:new i.bR(y,a.u_label_plane_matrix),u_coord_matrix:new i.bR(y,a.u_coord_matrix),u_is_text:new i.bP(y,a.u_is_text),u_pitch_with_map:new i.bP(y,a.u_pitch_with_map),u_is_along_line:new i.bP(y,a.u_is_along_line),u_is_variable_anchor:new i.bP(y,a.u_is_variable_anchor),u_texsize:new i.bU(y,a.u_texsize),u_texture:new i.bP(y,a.u_texture),u_gamma_scale:new i.bg(y,a.u_gamma_scale),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_is_halo:new i.bP(y,a.u_is_halo),u_translation:new i.bU(y,a.u_translation),u_pitched_scale:new i.bg(y,a.u_pitched_scale)}),symbolTextAndIcon:(y,a)=>({u_is_size_zoom_constant:new i.bP(y,a.u_is_size_zoom_constant),u_is_size_feature_constant:new i.bP(y,a.u_is_size_feature_constant),u_size_t:new i.bg(y,a.u_size_t),u_size:new i.bg(y,a.u_size),u_camera_to_center_distance:new i.bg(y,a.u_camera_to_center_distance),u_pitch:new i.bg(y,a.u_pitch),u_rotate_symbol:new i.bP(y,a.u_rotate_symbol),u_aspect_ratio:new i.bg(y,a.u_aspect_ratio),u_fade_change:new i.bg(y,a.u_fade_change),u_label_plane_matrix:new i.bR(y,a.u_label_plane_matrix),u_coord_matrix:new i.bR(y,a.u_coord_matrix),u_is_text:new i.bP(y,a.u_is_text),u_pitch_with_map:new i.bP(y,a.u_pitch_with_map),u_is_along_line:new i.bP(y,a.u_is_along_line),u_is_variable_anchor:new i.bP(y,a.u_is_variable_anchor),u_texsize:new i.bU(y,a.u_texsize),u_texsize_icon:new i.bU(y,a.u_texsize_icon),u_texture:new i.bP(y,a.u_texture),u_texture_icon:new i.bP(y,a.u_texture_icon),u_gamma_scale:new i.bg(y,a.u_gamma_scale),u_device_pixel_ratio:new i.bg(y,a.u_device_pixel_ratio),u_is_halo:new i.bP(y,a.u_is_halo),u_translation:new i.bU(y,a.u_translation),u_pitched_scale:new i.bg(y,a.u_pitched_scale)}),background:(y,a)=>({u_opacity:new i.bg(y,a.u_opacity),u_color:new i.bQ(y,a.u_color)}),backgroundPattern:(y,a)=>({u_opacity:new i.bg(y,a.u_opacity),u_image:new i.bP(y,a.u_image),u_pattern_tl_a:new i.bU(y,a.u_pattern_tl_a),u_pattern_br_a:new i.bU(y,a.u_pattern_br_a),u_pattern_tl_b:new i.bU(y,a.u_pattern_tl_b),u_pattern_br_b:new i.bU(y,a.u_pattern_br_b),u_texsize:new i.bU(y,a.u_texsize),u_mix:new i.bg(y,a.u_mix),u_pattern_size_a:new i.bU(y,a.u_pattern_size_a),u_pattern_size_b:new i.bU(y,a.u_pattern_size_b),u_scale_a:new i.bg(y,a.u_scale_a),u_scale_b:new i.bg(y,a.u_scale_b),u_pixel_coord_upper:new i.bU(y,a.u_pixel_coord_upper),u_pixel_coord_lower:new i.bU(y,a.u_pixel_coord_lower),u_tile_units_to_pixels:new i.bg(y,a.u_tile_units_to_pixels)}),terrain:(y,a)=>({u_texture:new i.bP(y,a.u_texture),u_ele_delta:new i.bg(y,a.u_ele_delta),u_fog_matrix:new i.bR(y,a.u_fog_matrix),u_fog_color:new i.bQ(y,a.u_fog_color),u_fog_ground_blend:new i.bg(y,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new i.bg(y,a.u_fog_ground_blend_opacity),u_horizon_color:new i.bQ(y,a.u_horizon_color),u_horizon_fog_blend:new i.bg(y,a.u_horizon_fog_blend),u_is_globe_mode:new i.bg(y,a.u_is_globe_mode)}),terrainDepth:(y,a)=>({u_ele_delta:new i.bg(y,a.u_ele_delta)}),terrainCoords:(y,a)=>({u_texture:new i.bP(y,a.u_texture),u_terrain_coords_id:new i.bg(y,a.u_terrain_coords_id),u_ele_delta:new i.bg(y,a.u_ele_delta)}),projectionErrorMeasurement:(y,a)=>({u_input:new i.bg(y,a.u_input),u_output_expected:new i.bg(y,a.u_output_expected)}),atmosphere:(y,a)=>({u_sun_pos:new i.bT(y,a.u_sun_pos),u_atmosphere_blend:new i.bg(y,a.u_atmosphere_blend),u_globe_position:new i.bT(y,a.u_globe_position),u_globe_radius:new i.bg(y,a.u_globe_radius),u_inv_proj_matrix:new i.bR(y,a.u_inv_proj_matrix)}),sky:(y,a)=>({u_sky_color:new i.bQ(y,a.u_sky_color),u_horizon_color:new i.bQ(y,a.u_horizon_color),u_horizon:new i.bU(y,a.u_horizon),u_horizon_normal:new i.bU(y,a.u_horizon_normal),u_sky_horizon_blend:new i.bg(y,a.u_sky_horizon_blend),u_sky_blend:new i.bg(y,a.u_sky_blend)})};class K1{constructor(a,c,d){this.context=a;let v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!d,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let c=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Md={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class js{constructor(a,c,d,v){this.length=c.length,this.attributes=d,this.itemSize=c.bytesPerElement,this.dynamicDraw=v,this.context=a;let _=a.gl;this.buffer=_.createBuffer(),a.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,c){for(let d=0;d<this.attributes.length;d++){let v=c.attributes[this.attributes[d].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,c,d){for(let v=0;v<this.attributes.length;v++){let _=this.attributes[v],T=c.attributes[_.name];T!==void 0&&a.vertexAttribPointer(T,_.components,a[Md[_.type]],!1,this.itemSize,_.offset+this.itemSize*(d||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class cr{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class wy extends cr{getDefault(){return i.bf.transparent}set(a){let c=this.current;(a.r!==c.r||a.g!==c.g||a.b!==c.b||a.a!==c.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Ey extends cr{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Y1 extends cr{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class Sy extends cr{getDefault(){return[!0,!0,!0,!0]}set(a){let c=this.current;(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]||a[3]!==c[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Cu extends cr{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Ty extends cr{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class jM extends cr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let c=this.current;(a.func!==c.func||a.ref!==c.ref||a.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class BM extends cr{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let c=this.current;(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class UM extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;a?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=a,this.dirty=!1}}class VM extends cr{getDefault(){return[0,1]}set(a){let c=this.current;(a[0]!==c[0]||a[1]!==c[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class X1 extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;a?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=a,this.dirty=!1}}class $M extends cr{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class J1 extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;a?c.enable(c.BLEND):c.disable(c.BLEND),this.current=a,this.dirty=!1}}class qd extends cr{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let c=this.current;(a[0]!==c[0]||a[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Rd extends cr{getDefault(){return i.bf.transparent}set(a){let c=this.current;(a.r!==c.r||a.g!==c.g||a.b!==c.b||a.a!==c.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Od extends cr{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Iy extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;a?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=a,this.dirty=!1}}class Pu extends cr{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class zf extends cr{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class zc extends cr{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Xo extends cr{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Q1 extends cr{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let c=this.current;(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]||a[3]!==c[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class ew extends cr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Cy extends cr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Au extends cr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.bindTexture(c.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Ld extends cr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Dd extends cr{getDefault(){return null}set(a){let c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class jf extends cr{getDefault(){return null}set(a){var c;if(a===this.current&&!this.dirty)return;let d=this.gl;os(d)?d.bindVertexArray(a):(c=d.getExtension("OES_vertex_array_object"))===null||c===void 0||c.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class kd extends cr{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class tw extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class jc extends cr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class El extends cr{constructor(a,c){super(a),this.context=a,this.parent=c}getDefault(){return null}}class rw extends El{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Py extends El{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Xt extends El{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,a),this.current=a,this.dirty=!1}}let Bf="Framebuffer is not complete";class GM{constructor(a,c,d,v,_){this.context=a,this.width=c,this.height=d;let T=a.gl,M=this.framebuffer=T.createFramebuffer();if(this.colorAttachment=new rw(a,M),v)this.depthAttachment=_?new Xt(a,M):new Py(a,M);else if(_)throw new Error("Stencil cannot be set without depth");if(T.checkFramebufferStatus(T.FRAMEBUFFER)!==T.FRAMEBUFFER_COMPLETE)throw new Error(Bf)}destroy(){let a=this.context.gl,c=this.colorAttachment.get();if(c&&a.deleteTexture(c),this.depthAttachment){let d=this.depthAttachment.get();d&&a.deleteRenderbuffer(d)}a.deleteFramebuffer(this.framebuffer)}}class nw{constructor(a){var c,d;if(this.gl=a,this.clearColor=new wy(this),this.clearDepth=new Ey(this),this.clearStencil=new Y1(this),this.colorMask=new Sy(this),this.depthMask=new Cu(this),this.stencilMask=new Ty(this),this.stencilFunc=new jM(this),this.stencilOp=new BM(this),this.stencilTest=new UM(this),this.depthRange=new VM(this),this.depthTest=new X1(this),this.depthFunc=new $M(this),this.blend=new J1(this),this.blendFunc=new qd(this),this.blendColor=new Rd(this),this.blendEquation=new Od(this),this.cullFace=new Iy(this),this.cullFaceSide=new Pu(this),this.frontFace=new zf(this),this.program=new zc(this),this.activeTexture=new Xo(this),this.viewport=new Q1(this),this.bindFramebuffer=new ew(this),this.bindRenderbuffer=new Cy(this),this.bindTexture=new Au(this),this.bindVertexBuffer=new Ld(this),this.bindElementBuffer=new Dd(this),this.bindVertexArray=new jf(this),this.pixelStoreUnpack=new kd(this),this.pixelStoreUnpackPremultiplyAlpha=new tw(this),this.pixelStoreUnpackFlipY=new jc(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),os(a)){this.HALF_FLOAT=a.HALF_FLOAT;let v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(c=a.RGBA16F)!==null&&c!==void 0?c:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(d=a.RGB16F)!==null&&d!==void 0?d:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,c){return new K1(this,a,c)}createVertexBuffer(a,c,d){return new js(this,a,c,d)}createRenderbuffer(a,c,d){let v=this.gl,_=v.createRenderbuffer();return this.bindRenderbuffer.set(_),v.renderbufferStorage(v.RENDERBUFFER,a,c,d),this.bindRenderbuffer.set(null),_}createFramebuffer(a,c,d,v){return new GM(this,a,c,d,v)}clear({color:a,depth:c,stencil:d}){let v=this.gl,_=0;a&&(_|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(_|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),d!==void 0&&(_|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(d),this.stencilMask.set(255)),v.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){i.bH(a.blendFunction,$r.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return os(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var c;return os(this.gl)?this.gl.deleteVertexArray(a):(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}let Sl;function iw(y,a,c,d,v){let _=y.context,T=y.transform,M=_.gl,R=y.useProgram("collisionBox"),k=[],N=0,j=0;for(let ae=0;ae<d.length;ae++){let ue=d[ae],pe=a.getTile(ue).getBucket(c);if(!pe)continue;let he=v?pe.textCollisionBox:pe.iconCollisionBox,ve=pe.collisionCircleArray;ve.length>0&&(k.push({circleArray:ve,circleOffset:j,coord:ue}),N+=ve.length/4,j=N),he&&R.draw(_,M.LINES,qt.disabled,or.disabled,y.colorModeForRenderPass(),xt.disabled,Pd(y.transform),y.style.map.terrain&&y.style.map.terrain.getTerrainData(ue),T.getProjectionData({overscaledTileID:ue,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),c.id,he.layoutVertexBuffer,he.indexBuffer,he.segments,null,y.transform.zoom,null,null,he.collisionVertexBuffer)}if(!v||!k.length)return;let z=y.useProgram("collisionCircle"),V=new i.b$;V.resize(4*N),V._trim();let K=0;for(let ae of k)for(let ue=0;ue<ae.circleArray.length/4;ue++){let pe=4*ue,he=ae.circleArray[pe+0],ve=ae.circleArray[pe+1],_e=ae.circleArray[pe+2],fe=ae.circleArray[pe+3];V.emplace(K++,he,ve,_e,fe,0),V.emplace(K++,he,ve,_e,fe,1),V.emplace(K++,he,ve,_e,fe,2),V.emplace(K++,he,ve,_e,fe,3)}(!Sl||Sl.length<2*N)&&(Sl=function(ae){let ue=2*ae,pe=new i.c1;pe.resize(ue),pe._trim();for(let he=0;he<ue;he++){let ve=6*he;pe.uint16[ve+0]=4*he+0,pe.uint16[ve+1]=4*he+1,pe.uint16[ve+2]=4*he+2,pe.uint16[ve+3]=4*he+2,pe.uint16[ve+4]=4*he+3,pe.uint16[ve+5]=4*he+0}return pe}(N));let oe=_.createIndexBuffer(Sl,!0),ie=_.createVertexBuffer(V,i.c0.members,!0);for(let ae of k){let ue=kM(y.transform);z.draw(_,M.TRIANGLES,qt.disabled,or.disabled,y.colorModeForRenderPass(),xt.disabled,ue,y.style.map.terrain&&y.style.map.terrain.getTerrainData(ae.coord),null,c.id,ie,oe,i.aM.simpleSegment(0,2*ae.circleOffset,ae.circleArray.length,ae.circleArray.length/2),null,y.transform.zoom,null,null,null)}ie.destroy(),oe.destroy()}let ZM=i.ag(new Float32Array(16));function ow(y,a,c,d,v,_){let{horizontalAlign:T,verticalAlign:M}=i.aH(y);return new i.P((-(T-.5)*a/v+d[0])*_,(-(M-.5)*c/v+d[1])*_)}function WM(y,a,c,d,v,_){let T=a.tileAnchorPoint.add(new i.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let M=d.mult(_);c||(M=M.rotate(-v));let R=T.add(M);return On(R.x,R.y,a.pitchedLabelPlaneMatrix,a.getElevation).point}if(c){let M=di(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(y),R=Math.atan(M.y/M.x)+(M.x<0?Math.PI:0);return y.add(d.rotate(R))}return y.add(d)}function Ay(y,a,c,d,v,_,T,M,R,k,N,j){let z=y.text.placedSymbolArray,V=y.text.dynamicLayoutVertexArray,K=y.icon.dynamicLayoutVertexArray,oe={};V.clear();for(let ie=0;ie<z.length;ie++){let ae=z.get(ie),ue=ae.hidden||!ae.crossTileID||y.allowVerticalPlacement&&!ae.placedOrientation?null:d[ae.crossTileID];if(ue){let pe=new i.P(ae.anchorX,ae.anchorY),he={getElevation:j,width:v.width,height:v.height,pitchedLabelPlaneMatrix:_,pitchWithMap:c,transform:v,tileAnchorPoint:pe,translation:k,unwrappedTileID:N},ve=c?yl(pe.x,pe.y,he):di(pe.x,pe.y,he),_e=He(v.cameraToCenterDistance,ve.signedDistanceFromCamera),fe=i.ap(y.textSizeData,M,ae)*_e/i.aB;c&&(fe*=y.tilePixelRatio/T);let{width:Se,height:Re,anchor:Ie,textOffset:Pe,textBoxScale:qe}=ue,Ze=ow(Ie,Se,Re,Pe,qe,fe),Ye=v.getPitchedTextCorrection(pe.x+k[0],pe.y+k[1],N),je=WM(ve.point,he,a,Ze,-v.bearingInRadians,Ye),lt=y.allowVerticalPlacement&&ae.placedOrientation===i.ao.vertical?Math.PI/2:0;for(let kt=0;kt<ae.numGlyphs;kt++)i.av(V,je,lt);R&&ae.associatedIconIndex>=0&&(oe[ae.associatedIconIndex]={shiftedAnchor:je,angle:lt})}else is(ae.numGlyphs,V)}if(R){K.clear();let ie=y.icon.placedSymbolArray;for(let ae=0;ae<ie.length;ae++){let ue=ie.get(ae);if(ue.hidden)is(ue.numGlyphs,K);else{let pe=oe[ae];if(pe)for(let he=0;he<ue.numGlyphs;he++)i.av(K,pe.shiftedAnchor,pe.angle);else is(ue.numGlyphs,K)}}y.icon.dynamicLayoutVertexBuffer.updateData(K)}y.text.dynamicLayoutVertexBuffer.updateData(V)}function Nd(y,a,c){return c.iconsInText&&a?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function Uf(y,a,c,d,v,_,T,M,R,k,N,j,z){let V=y.context,K=V.gl,oe=y.transform,ie=M==="map",ae=R==="map",ue=M!=="viewport"&&c.layout.get("symbol-placement")!=="point",pe=ie&&!ae&&!ue,he=!c.layout.get("symbol-sort-key").isConstant(),ve=!1,_e=y.getDepthModeForSublayer(0,qt.ReadOnly),fe=c._unevaluatedLayout.hasValue("text-variable-anchor")||c._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Se=[],Re=oe.getCircleRadiusCorrection();for(let Ie of d){let Pe=a.getTile(Ie),qe=Pe.getBucket(c);if(!qe)continue;let Ze=v?qe.text:qe.icon;if(!Ze||!Ze.segments.get().length||!Ze.hasVisibleVertices)continue;let Ye=Ze.programConfigurations.get(c.id),je=v||qe.sdfIcons,lt=v?qe.textSizeData:qe.iconSizeData,kt=ae||oe.pitch!==0,hr=y.useProgram(Nd(je,v,qe),Ye),Sr=i.an(lt,oe.zoom),gr=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ie),Xr,ln,Lt,Tr,Dn=[0,0],Wn=null;if(v)ln=Pe.glyphAtlasTexture,Lt=K.LINEAR,Xr=Pe.glyphAtlasTexture.size,qe.iconsInText&&(Dn=Pe.imageAtlasTexture.size,Wn=Pe.imageAtlasTexture,Tr=kt||y.options.rotating||y.options.zooming||lt.kind==="composite"||lt.kind==="camera"?K.LINEAR:K.NEAREST);else{let kn=c.layout.get("icon-size").constantOr(0)!==1||qe.iconsNeedLinear;ln=Pe.imageAtlasTexture,Lt=je||y.options.rotating||y.options.zooming||kn||kt?K.LINEAR:K.NEAREST,Xr=Pe.imageAtlasTexture.size}let ti=i.aC(Pe,1,y.transform.zoom),Gi=In(ie,y.transform,ti),Na=i.L();i.aq(Na,Gi);let Il=Yt(ae,ie,y.transform,ti),Cl=i.aD(oe,Pe,_,T),Jc=oe.getProjectionData({overscaledTileID:Ie,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),Qc=fe&&qe.hasTextData(),ku=c.layout.get("icon-text-fit")!=="none"&&Qc&&qe.hasIconData();if(ue){let kn=y.style.map.terrain?(ea,Nn)=>y.style.map.terrain.getElevation(Ie,ea,Nn):null,Hn=c.layout.get("text-rotation-alignment")==="map";an(qe,y,v,Gi,Na,ae,k,Hn,Ie.toUnwrapped(),oe.width,oe.height,Cl,kn)}let Nu=v&&fe||ku,mo=ue||Nu?ZM:ae?Gi:y.transform.clipSpaceToPixelsMatrix,Fa=je&&c.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Zi;Zi=je?qe.iconsInText?zM(lt.kind,Sr,pe,ae,ue,Nu,y,mo,Il,Cl,Xr,Dn,Re):Z1(lt.kind,Sr,pe,ae,ue,Nu,y,mo,Il,Cl,v,Xr,0,Re):Ff(lt.kind,Sr,pe,ae,ue,Nu,y,mo,Il,Cl,v,Xr,Re);let Pl={program:hr,buffers:Ze,uniformValues:Zi,projectionData:Jc,atlasTexture:ln,atlasTextureIcon:Wn,atlasInterpolation:Lt,atlasInterpolationIcon:Tr,isSDF:je,hasHalo:Fa};if(he&&qe.canOverlap){ve=!0;let kn=Ze.segments.get();for(let Hn of kn)Se.push({segments:new i.aM([Hn]),sortKey:Hn.sortKey,state:Pl,terrainData:gr})}else Se.push({segments:Ze.segments,sortKey:0,state:Pl,terrainData:gr})}ve&&Se.sort((Ie,Pe)=>Ie.sortKey-Pe.sortKey);for(let Ie of Se){let Pe=Ie.state;if(V.activeTexture.set(K.TEXTURE0),Pe.atlasTexture.bind(Pe.atlasInterpolation,K.CLAMP_TO_EDGE),Pe.atlasTextureIcon&&(V.activeTexture.set(K.TEXTURE1),Pe.atlasTextureIcon&&Pe.atlasTextureIcon.bind(Pe.atlasInterpolationIcon,K.CLAMP_TO_EDGE)),Pe.isSDF){let qe=Pe.uniformValues;Pe.hasHalo&&(qe.u_is_halo=1,Vf(Pe.buffers,Ie.segments,c,y,Pe.program,_e,N,j,qe,Pe.projectionData,Ie.terrainData)),qe.u_is_halo=0}Vf(Pe.buffers,Ie.segments,c,y,Pe.program,_e,N,j,Pe.uniformValues,Pe.projectionData,Ie.terrainData)}}function Vf(y,a,c,d,v,_,T,M,R,k,N){let j=d.context;v.draw(j,j.gl.TRIANGLES,_,T,M,xt.backCCW,R,N,k,c.id,y.layoutVertexBuffer,y.indexBuffer,a,c.paint,d.transform.zoom,y.programConfigurations.get(c.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function My(y,a,c,d,v){let _=y.context,T=_.gl,M=or.disabled,R=new $r([T.ONE,T.ONE],i.bf.transparent,[!0,!0,!0,!0]),k=a.getBucket(c);if(!k)return;let N=d.key,j=c.heatmapFbos.get(N);j||(j=$f(_,a.tileSize,a.tileSize),c.heatmapFbos.set(N,j)),_.bindFramebuffer.set(j.framebuffer),_.viewport.set([0,0,a.tileSize,a.tileSize]),_.clear({color:i.bf.transparent});let z=k.programConfigurations.get(c.id),V=y.useProgram("heatmap",z,!v),K=y.transform.getProjectionData({overscaledTileID:a.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),oe=y.style.map.terrain.getTerrainData(d);V.draw(_,T.TRIANGLES,qt.disabled,M,R,xt.disabled,B1(a,y.transform.zoom,c.paint.get("heatmap-intensity"),1),oe,K,c.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,c.paint,y.transform.zoom,z)}function aw(y,a,c,d,v){let _=y.context,T=_.gl,M=y.transform;_.setColorMode(y.colorModeForRenderPass());let R=Gf(_,a),k=c.key,N=a.heatmapFbos.get(k);if(!N)return;_.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,N.colorAttachment.get()),_.activeTexture.set(T.TEXTURE1),R.bind(T.LINEAR,T.CLAMP_TO_EDGE);let j=M.getProjectionData({overscaledTileID:c,applyTerrainMatrix:v,applyGlobeMatrix:!d});y.useProgram("heatmapTexture").draw(_,T.TRIANGLES,qt.disabled,or.disabled,y.colorModeForRenderPass(),xt.disabled,vy(y,a,0,1),null,j,a.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments,a.paint,M.zoom),N.destroy(),a.heatmapFbos.delete(k)}function $f(y,a,c){var d,v;let _=y.gl,T=_.createTexture();_.bindTexture(_.TEXTURE_2D,T),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR);let M=(d=y.HALF_FLOAT)!==null&&d!==void 0?d:_.UNSIGNED_BYTE,R=(v=y.RGBA16F)!==null&&v!==void 0?v:_.RGBA;_.texImage2D(_.TEXTURE_2D,0,R,a,c,0,_.RGBA,M,null);let k=y.createFramebuffer(a,c,!1,!1);return k.colorAttachment.set(T),k}function Gf(y,a){return a.colorRampTexture||(a.colorRampTexture=new i.T(y,a.colorRamp,y.gl.RGBA)),a.colorRampTexture}function Zf(y,a,c,d,v){if(!c||!d||!d.imageAtlas)return;let _=d.imageAtlas.patternPositions,T=_[c.to.toString()],M=_[c.from.toString()];if(!T&&M&&(T=M),!M&&T&&(M=T),!T||!M){let R=v.getPaintProperty(a);T=_[R],M=_[R]}T&&M&&y.setConstantPatternPositions(T,M)}function Fd(y,a,c,d,v,_,T,M){let R=y.context.gl,k="fill-pattern",N=c.paint.get(k),j=N&&N.constantOr(1),z=c.getCrossfadeParameters(),V,K,oe,ie,ae,ue=y.transform,pe=c.paint.get("fill-translate"),he=c.paint.get("fill-translate-anchor");T?(K=j&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",V=R.LINES):(K=j?"fillPattern":"fill",V=R.TRIANGLES);let ve=N.constantOr(null);for(let _e of d){let fe=a.getTile(_e);if(j&&!fe.patternsLoaded())continue;let Se=fe.getBucket(c);if(!Se)continue;let Re=Se.programConfigurations.get(c.id),Ie=y.useProgram(K,Re),Pe=y.style.map.terrain&&y.style.map.terrain.getTerrainData(_e);j&&(y.context.activeTexture.set(R.TEXTURE0),fe.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),Re.updatePaintBuffers(z)),Zf(Re,k,ve,fe,c);let qe=ue.getProjectionData({overscaledTileID:_e,applyGlobeMatrix:!M,applyTerrainMatrix:!0}),Ze=i.aD(ue,fe,pe,he);if(T){ie=Se.indexBuffer2,ae=Se.segments2;let je=[R.drawingBufferWidth,R.drawingBufferHeight];oe=K==="fillOutlinePattern"&&j?kf(y,z,fe,je,Ze):Df(je,Ze)}else ie=Se.indexBuffer,ae=Se.segments,oe=j?Cd(y,z,fe,Ze):{u_fill_translate:Ze};let Ye=y.stencilModeForClipping(_e);Ie.draw(y.context,V,v,Ye,_,xt.backCCW,oe,Pe,qe,c.id,Se.layoutVertexBuffer,ie,ae,c.paint,y.transform.zoom,Re)}}function qy(y,a,c,d,v,_,T,M){let R=y.context,k=R.gl,N="fill-extrusion-pattern",j=c.paint.get(N),z=j.constantOr(1),V=c.getCrossfadeParameters(),K=c.paint.get("fill-extrusion-opacity"),oe=j.constantOr(null),ie=y.transform;for(let ae of d){let ue=a.getTile(ae),pe=ue.getBucket(c);if(!pe)continue;let he=y.style.map.terrain&&y.style.map.terrain.getTerrainData(ae),ve=pe.programConfigurations.get(c.id),_e=y.useProgram(z?"fillExtrusionPattern":"fillExtrusion",ve);z&&(y.context.activeTexture.set(k.TEXTURE0),ue.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),ve.updatePaintBuffers(V));let fe=ie.getProjectionData({overscaledTileID:ae,applyGlobeMatrix:!M,applyTerrainMatrix:!0});Zf(ve,N,oe,ue,c);let Se=i.aD(ie,ue,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Re=c.paint.get("fill-extrusion-vertical-gradient"),Ie=z?LM(y,Re,K,Se,ae,V,ue):qa(y,Re,K,Se);_e.draw(R,R.gl.TRIANGLES,v,_,T,xt.backCCW,Ie,he,fe,c.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,c.paint,y.transform.zoom,ve,y.style.map.terrain&&pe.centroidVertexBuffer)}}function Mu(y,a,c,d,v,_,T,M,R){var k;let N=y.style.projection,j=y.context,z=y.transform,V=j.gl,K=[`#define NUM_ILLUMINATION_SOURCES ${c.paint.get("hillshade-highlight-color").values.length}`],oe=y.useProgram("hillshade",null,!1,K),ie=!y.options.moving;for(let ae of d){let ue=a.getTile(ae),pe=ue.fbo;if(!pe)continue;let he=N.getMeshFromTileID(j,ae.canonical,M,!0,"raster"),ve=(k=y.style.map.terrain)===null||k===void 0?void 0:k.getTerrainData(ae);j.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,pe.colorAttachment.get());let _e=z.getProjectionData({overscaledTileID:ae,aligned:ie,applyGlobeMatrix:!R,applyTerrainMatrix:!0});oe.draw(j,V.TRIANGLES,_,v[ae.overscaledZ],T,xt.backCCW,NM(y,ue,c),ve,_e,c.id,he.vertexBuffer,he.indexBuffer,he.segments)}}function Ry(y,a,c,d,v,_,T,M,R){var k;let N=y.style.projection,j=y.context,z=y.transform,V=j.gl,K=y.useProgram("colorRelief"),oe=!y.options.moving,ie=!0,ae=0;for(let ue of d){let pe=a.getTile(ue),he=pe.dem;if(ie){let Ie=V.getParameter(V.MAX_TEXTURE_SIZE),{elevationTexture:Pe,colorTexture:qe}=c.getColorRampTextures(j,Ie,he.getUnpackVector());j.activeTexture.set(V.TEXTURE1),Pe.bind(V.NEAREST,V.CLAMP_TO_EDGE),j.activeTexture.set(V.TEXTURE4),qe.bind(V.LINEAR,V.CLAMP_TO_EDGE),ie=!1,ae=Pe.size[0]}if(!he||!he.data)continue;let ve=he.stride,_e=he.getPixels();if(j.activeTexture.set(V.TEXTURE0),j.pixelStoreUnpackPremultiplyAlpha.set(!1),pe.demTexture=pe.demTexture||y.getTileTexture(ve),pe.demTexture){let Ie=pe.demTexture;Ie.update(_e,{premultiply:!1}),Ie.bind(V.LINEAR,V.CLAMP_TO_EDGE)}else pe.demTexture=new i.T(j,_e,V.RGBA,{premultiply:!1}),pe.demTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE);let fe=N.getMeshFromTileID(j,ue.canonical,M,!0,"raster"),Se=(k=y.style.map.terrain)===null||k===void 0?void 0:k.getTerrainData(ue),Re=z.getProjectionData({overscaledTileID:ue,aligned:oe,applyGlobeMatrix:!R,applyTerrainMatrix:!0});K.draw(j,V.TRIANGLES,_,v[ue.overscaledZ],T,xt.backCCW,V1(c,pe.dem,ae),Se,Re,c.id,fe.vertexBuffer,fe.indexBuffer,fe.segments)}}let zd=[new i.P(0,0),new i.P(i.$,0),new i.P(i.$,i.$),new i.P(0,i.$)];function qu(y,a,c,d,v,_,T,M,R=!1,k=!1){let N=d[d.length-1].overscaledZ,j=y.context,z=j.gl,V=y.useProgram("raster"),K=y.transform,oe=y.style.projection,ie=y.colorModeForRenderPass(),ae=!y.options.moving;for(let ue of d){let pe=y.getDepthModeForSublayer(ue.overscaledZ-N,c.paint.get("raster-opacity")===1?qt.ReadWrite:qt.ReadOnly,z.LESS),he=a.getTile(ue);he.registerFadeDuration(c.paint.get("raster-fade-duration"));let ve=a.findLoadedParent(ue,0),_e=a.findLoadedSibling(ue),fe=Oy(he,ve||_e||null,a,c,y.transform,y.style.map.terrain),Se,Re,Ie=c.paint.get("raster-resampling")==="nearest"?z.NEAREST:z.LINEAR;j.activeTexture.set(z.TEXTURE0),he.texture.bind(Ie,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),j.activeTexture.set(z.TEXTURE1),ve?(ve.texture.bind(Ie,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),Se=Math.pow(2,ve.tileID.overscaledZ-he.tileID.overscaledZ),Re=[he.tileID.canonical.x*Se%1,he.tileID.canonical.y*Se%1]):he.texture.bind(Ie,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),he.texture.useMipmap&&j.extTextureFilterAnisotropic&&y.transform.pitch>20&&z.texParameterf(z.TEXTURE_2D,j.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,j.extTextureFilterAnisotropicMax);let Pe=y.style.map.terrain&&y.style.map.terrain.getTerrainData(ue),qe=K.getProjectionData({overscaledTileID:ue,aligned:ae,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),Ze=Nf(Re||[0,0],Se||1,fe,c,M),Ye=oe.getMeshFromTileID(j,ue.canonical,_,T,"raster");V.draw(j,z.TRIANGLES,pe,v?v[ue.overscaledZ]:or.disabled,ie,R?xt.frontCCW:xt.backCCW,Ze,Pe,qe,c.id,Ye.vertexBuffer,Ye.indexBuffer,Ye.segments)}}function Oy(y,a,c,d,v,_){let T=d.paint.get("raster-fade-duration");if(!_&&T>0){let M=C.now(),R=(M-y.timeAdded)/T,k=a?(M-a.timeAdded)/T:-1,N=c.getSource(),j=ct(v,{tileSize:N.tileSize,roundZoom:N.roundZoom}),z=!a||Math.abs(a.tileID.overscaledZ-j)>Math.abs(y.tileID.overscaledZ-j),V=z&&y.refreshedUponExpiration?1:i.ah(z?R:1-k,0,1);return y.refreshedUponExpiration&&R>=1&&(y.refreshedUponExpiration=!1),a?{opacity:1,mix:1-V}:{opacity:V,mix:0}}return{opacity:1,mix:0}}let sw=new i.bf(1,0,0,1),lw=new i.bf(0,1,0,1),jd=new i.bf(0,0,1,1),Ly=new i.bf(1,0,1,1),HM=new i.bf(0,1,1,1);function Dy(y,a,c,d){ls(y,0,a+c/2,y.transform.width,c,d)}function sn(y,a,c,d){ls(y,a-c/2,0,c,y.transform.height,d)}function ls(y,a,c,d,v,_){let T=y.context,M=T.gl;M.enable(M.SCISSOR_TEST),M.scissor(a*y.pixelRatio,c*y.pixelRatio,d*y.pixelRatio,v*y.pixelRatio),T.clear({color:_}),M.disable(M.SCISSOR_TEST)}function Jo(y,a,c){let d=y.context,v=d.gl,_=y.useProgram("debug"),T=qt.disabled,M=or.disabled,R=y.colorModeForRenderPass(),k="$debug",N=y.style.map.terrain&&y.style.map.terrain.getTerrainData(c);d.activeTexture.set(v.TEXTURE0);let j=a.getTileByID(c.key).latestRawTileData,z=Math.floor((j&&j.byteLength||0)/1024),V=a.getTile(c).tileSize,K=512/Math.min(V,512)*(c.overscaledZ/y.transform.zoom)*.5,oe=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(oe+=` => ${c.overscaledZ}`),function(ae,ue){ae.initDebugOverlayCanvas();let pe=ae.debugOverlayCanvas,he=ae.context.gl,ve=ae.debugOverlayCanvas.getContext("2d");ve.clearRect(0,0,pe.width,pe.height),ve.shadowColor="white",ve.shadowBlur=2,ve.lineWidth=1.5,ve.strokeStyle="white",ve.textBaseline="top",ve.font="bold 36px Open Sans, sans-serif",ve.fillText(ue,5,5),ve.strokeText(ue,5,5),ae.debugOverlayTexture.update(pe),ae.debugOverlayTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE)}(y,`${oe} ${z}kB`);let ie=y.transform.getProjectionData({overscaledTileID:c,applyGlobeMatrix:!0,applyTerrainMatrix:!0});_.draw(d,v.TRIANGLES,T,M,$r.alphaBlended,xt.disabled,Tu(i.bf.transparent,K),null,ie,k,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),_.draw(d,v.LINE_STRIP,T,M,R,xt.disabled,Tu(i.bf.red),N,ie,k,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function Bd(y,a,c,d){let{isRenderingGlobe:v}=d,_=y.context,T=_.gl,M=y.transform,R=y.colorModeForRenderPass(),k=y.getDepthModeFor3D(),N=y.useProgram("terrain");_.bindFramebuffer.set(null),_.viewport.set([0,0,y.width,y.height]);for(let j of c){let z=a.getTerrainMesh(j.tileID),V=y.renderToTexture.getTexture(j),K=a.getTerrainData(j.tileID);_.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,V.texture);let oe=a.getMeshFrameDelta(M.zoom),ie=M.calculateFogMatrix(j.tileID.toUnwrapped()),ae=Td(oe,ie,y.style.sky,M.pitch,v),ue=M.getProjectionData({overscaledTileID:j.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});N.draw(_,T.TRIANGLES,k,or.disabled,R,xt.backCCW,ae,K,ue,"terrain",z.vertexBuffer,z.indexBuffer,z.segments)}}function Wf(y,a){if(!a.mesh){let c=new i.aL;c.emplaceBack(-1,-1),c.emplaceBack(1,-1),c.emplaceBack(1,1),c.emplaceBack(-1,1);let d=new i.aN;d.emplaceBack(0,1,2),d.emplaceBack(0,2,3),a.mesh=new _u(y.createVertexBuffer(c,wl.members),y.createIndexBuffer(d),i.aM.simpleSegment(0,0,c.length,d.length))}return a.mesh}class uw{constructor(a,c){this.context=new nw(a),this.transform=c,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:i.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Dc}resize(a,c,d){if(this.width=Math.floor(a*d),this.height=Math.floor(c*d),this.pixelRatio=d,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let v of this.style._order)this.style._layers[v].resize()}setup(){let a=this.context,c=new i.aL;c.emplaceBack(0,0),c.emplaceBack(i.$,0),c.emplaceBack(0,i.$),c.emplaceBack(i.$,i.$),this.tileExtentBuffer=a.createVertexBuffer(c,wl.members),this.tileExtentSegments=i.aM.simpleSegment(0,0,4,2);let d=new i.aL;d.emplaceBack(0,0),d.emplaceBack(i.$,0),d.emplaceBack(0,i.$),d.emplaceBack(i.$,i.$),this.debugBuffer=a.createVertexBuffer(d,wl.members),this.debugSegments=i.aM.simpleSegment(0,0,4,5);let v=new i.c6;v.emplaceBack(0,0,0,0),v.emplaceBack(i.$,0,i.$,0),v.emplaceBack(0,i.$,0,i.$),v.emplaceBack(i.$,i.$,i.$,i.$),this.rasterBoundsBuffer=a.createVertexBuffer(v,RM.members),this.rasterBoundsSegments=i.aM.simpleSegment(0,0,4,2);let _=new i.aL;_.emplaceBack(0,0),_.emplaceBack(i.$,0),_.emplaceBack(0,i.$),_.emplaceBack(i.$,i.$),this.rasterBoundsBufferPosOnly=a.createVertexBuffer(_,wl.members),this.rasterBoundsSegmentsPosOnly=i.aM.simpleSegment(0,0,4,5);let T=new i.aL;T.emplaceBack(0,0),T.emplaceBack(1,0),T.emplaceBack(0,1),T.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(T,wl.members),this.viewportSegments=i.aM.simpleSegment(0,0,4,2);let M=new i.c7;M.emplaceBack(0),M.emplaceBack(1),M.emplaceBack(3),M.emplaceBack(2),M.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(M);let R=new i.aN;R.emplaceBack(1,0,2),R.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(R);let k=this.context.gl;this.stencilClearMode=new or({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO),this.tileExtentMesh=new _u(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let a=this.context,c=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let d=i.L();i.bY(d,0,this.width,this.height,0,0,1),i.N(d,d,[c.drawingBufferWidth,c.drawingBufferHeight,0]);let v={mainMatrix:d,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:d};this.useProgram("clippingMask",null,!0).draw(a,c.TRIANGLES,qt.disabled,this.stencilClearMode,$r.disabled,xt.disabled,null,null,v,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,c,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!c||!c.length)return;this.currentStencilSource=a.source,this.nextStencilID+c.length>256&&this.clearStencil();let v=this.context;v.setColorMode($r.disabled),v.setDepthMode(qt.disabled);let _={};for(let T of c)_[T.key]=this.nextStencilID++;this._renderTileMasks(_,c,d,!0),this._renderTileMasks(_,c,d,!1),this._tileClippingMaskIDs=_}_renderTileMasks(a,c,d,v){let _=this.context,T=_.gl,M=this.style.projection,R=this.transform,k=this.useProgram("clippingMask");for(let N of c){let j=a[N.key],z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(N),V=M.getMeshFromTileID(this.context,N.canonical,v,!0,"stencil"),K=R.getProjectionData({overscaledTileID:N,applyGlobeMatrix:!d,applyTerrainMatrix:!0});k.draw(_,T.TRIANGLES,qt.disabled,new or({func:T.ALWAYS,mask:0},j,255,T.KEEP,T.KEEP,T.REPLACE),$r.disabled,d?xt.disabled:xt.backCCW,null,z,K,"$clipping",V.vertexBuffer,V.indexBuffer,V.segments)}}_renderTilesDepthBuffer(){let a=this.context,c=a.gl,d=this.style.projection,v=this.transform,_=this.useProgram("depth"),T=this.getDepthModeFor3D(),M=Te(v,{tileSize:v.tileSize});for(let R of M){let k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(R),N=d.getMeshFromTileID(this.context,R.canonical,!0,!0,"raster"),j=v.getProjectionData({overscaledTileID:R,applyGlobeMatrix:!0,applyTerrainMatrix:!0});_.draw(a,c.TRIANGLES,T,or.disabled,$r.disabled,xt.backCCW,null,k,j,"$clipping",N.vertexBuffer,N.indexBuffer,N.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,c=this.context.gl;return new or({func:c.NOTEQUAL,mask:255},a,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(a){let c=this.context.gl;return new or({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,c.KEEP,c.KEEP,c.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(a){let c=this.context.gl,d=a.sort((T,M)=>M.overscaledZ-T.overscaledZ),v=d[d.length-1].overscaledZ,_=d[0].overscaledZ-v+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();let T={};for(let M=0;M<_;M++)T[M+v]=new or({func:c.GEQUAL,mask:255},M+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=_,[T,d]}return[{[v]:or.disabled},d]}stencilConfigForOverlapTwoPass(a){let c=this.context.gl,d=a.sort((T,M)=>M.overscaledZ-T.overscaledZ),v=d[d.length-1].overscaledZ,_=d[0].overscaledZ-v+1;if(this.clearStencil(),_>1){let T={},M={};for(let R=0;R<_;R++)T[R+v]=new or({func:c.GREATER,mask:255},_+1+R,255,c.KEEP,c.KEEP,c.REPLACE),M[R+v]=new or({func:c.GREATER,mask:255},1+R,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID=2*_+1,[T,M,d]}return this.nextStencilID=3,[{[v]:new or({func:c.GREATER,mask:255},2,255,c.KEEP,c.KEEP,c.REPLACE)},{[v]:new or({func:c.GREATER,mask:255},1,255,c.KEEP,c.KEEP,c.REPLACE)},d]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new $r([a.CONSTANT_COLOR,a.ONE],new i.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?$r.unblended:$r.alphaBlended}getDepthModeForSublayer(a,c,d){if(!this.opaquePassEnabledForLayer())return qt.disabled;let v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new qt(d||this.context.gl.LEQUAL,c,[v,v])}getDepthModeFor3D(){return new qt(this.context.gl.LEQUAL,qt.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,c){var d,v;this.style=a,this.options=c,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(C.now()),this.imageManager.beginFrame();let _=this.style._order,T=this.style.sourceCaches,M={},R={},k={},N={isRenderingToTexture:!1,isRenderingGlobe:((d=a.projection)===null||d===void 0?void 0:d.transitionState)>0};for(let z in T){let V=T[z];V.used&&V.prepare(this.context),M[z]=V.getVisibleCoordinates(!1),R[z]=M[z].slice().reverse(),k[z]=V.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let z=0;z<_.length;z++)if(this.style._layers[_[z]].is3D()){this.opaquePassCutoff=z;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let z of _){let V=this.style._layers[z];if(!V.hasOffscreenPass()||V.isHidden(this.transform.zoom))continue;let K=R[V.source];(V.type==="custom"||K.length)&&this.renderLayer(this,T[V.source],V,K,N)}if((v=this.style.projection)===null||v===void 0||v.updateGPUdependent({context:this.context,useProgram:z=>this.useProgram(z)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?i.bf.black:i.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(z,V){let K=z.context,oe=K.gl,ie=((_e,fe,Se)=>{let Re=Math.cos(fe.rollInRadians),Ie=Math.sin(fe.rollInRadians),Pe=ge(fe),qe=fe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:_e.properties.get("sky-color"),u_horizon_color:_e.properties.get("horizon-color"),u_horizon:[(fe.width/2-Pe*Ie)*Se,(fe.height/2+Pe*Re)*Se],u_horizon_normal:[-Ie,Re],u_sky_horizon_blend:_e.properties.get("sky-horizon-blend")*fe.height/2*Se,u_sky_blend:qe}})(V,z.style.map.transform,z.pixelRatio),ae=new qt(oe.LEQUAL,qt.ReadWrite,[0,1]),ue=or.disabled,pe=z.colorModeForRenderPass(),he=z.useProgram("sky"),ve=Wf(K,V);he.draw(K,oe.TRIANGLES,ae,ue,pe,xt.disabled,ie,null,void 0,"sky",ve.vertexBuffer,ve.indexBuffer,ve.segments)}(this,this.style.sky),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){let z=this.style._layers[_[this.currentLayer]],V=T[z.source],K=M[z.source];this._renderTileClippingMasks(z,K,!1),this.renderLayer(this,V,z,K,N)}this.renderPass="translucent";let j=!1;for(this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){let z=this.style._layers[_[this.currentLayer]],V=T[z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(z,N))continue;this.opaquePassEnabledForLayer()||j||(j=!0,N.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let K=(z.type==="symbol"?k:R)[z.source];this._renderTileClippingMasks(z,M[z.source],!!this.renderToTexture),this.renderLayer(this,V,z,K,N)}if(N.isRenderingGlobe&&function(z,V,K){let oe=z.context,ie=oe.gl,ae=z.useProgram("atmosphere"),ue=new qt(ie.LEQUAL,qt.ReadOnly,[0,1]),pe=z.transform,he=function(qe,Ze){let Ye=qe.properties.get("position"),je=[-Ye.x,-Ye.y,-Ye.z],lt=i.ag(new Float64Array(16));return qe.properties.get("anchor")==="map"&&(i.b6(lt,lt,Ze.rollInRadians),i.b7(lt,lt,-Ze.pitchInRadians),i.b6(lt,lt,Ze.bearingInRadians),i.b7(lt,lt,Ze.center.lat*Math.PI/180),i.bz(lt,lt,-Ze.center.lng*Math.PI/180)),i.c5(je,je,lt),je}(K,z.transform),ve=pe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),_e=V.properties.get("atmosphere-blend")*ve.projectionTransition;if(_e===0)return;let fe=Nc(pe.worldSize,pe.center.lat),Se=pe.inverseProjectionMatrix,Re=new Float64Array(4);Re[3]=1,i.aw(Re,Re,pe.modelViewProjectionMatrix),Re[0]/=Re[3],Re[1]/=Re[3],Re[2]/=Re[3],Re[3]=1,i.aw(Re,Re,Se),Re[0]/=Re[3],Re[1]/=Re[3],Re[2]/=Re[3],Re[3]=1;let Ie=((qe,Ze,Ye,je,lt)=>({u_sun_pos:qe,u_atmosphere_blend:Ze,u_globe_position:Ye,u_globe_radius:je,u_inv_proj_matrix:lt}))(he,_e,[Re[0],Re[1],Re[2]],fe,Se),Pe=Wf(oe,V);ae.draw(oe,ie.TRIANGLES,ue,or.disabled,$r.alphaBlended,xt.disabled,Ie,null,null,"atmosphere",Pe.vertexBuffer,Pe.indexBuffer,Pe.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let z=function(V,K){let oe=null,ie=Object.values(V._layers).flatMap(he=>he.source&&!he.isHidden(K)?[V.sourceCaches[he.source]]:[]),ae=ie.filter(he=>he.getSource().type==="vector"),ue=ie.filter(he=>he.getSource().type!=="vector"),pe=he=>{(!oe||oe.getSource().maxzoom<he.getSource().maxzoom)&&(oe=he)};return ae.forEach(he=>pe(he)),oe||ue.forEach(he=>pe(he)),oe}(this.style,this.transform.zoom);z&&function(V,K,oe){for(let ie=0;ie<oe.length;ie++)Jo(V,K,oe[ie])}(this,z,z.getVisibleCoordinates())}this.options.showPadding&&function(z){let V=z.transform.padding;Dy(z,z.transform.height-(V.top||0),3,sw),Dy(z,V.bottom||0,3,lw),sn(z,V.left||0,3,jd),sn(z,z.transform.width-(V.right||0),3,Ly);let K=z.transform.centerPoint;(function(oe,ie,ae,ue){ls(oe,ie-1,ae-10,2,20,ue),ls(oe,ie-10,ae-1,20,2,ue)})(z,K.x,z.transform.height-K.y,HM)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let c=this.terrainFacilitator.matrix,d=this.transform.modelViewProjectionMatrix,v=this.terrainFacilitator.dirty;v||(v=a?!i.c8(c,d):!i.c9(c,d)),v||(v=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),v&&(i.ca(c,d),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,T){let M=_.context,R=M.gl,k=_.transform,N=$r.unblended,j=new qt(R.LEQUAL,qt.ReadWrite,[0,1]),z=T.sourceCache.getRenderableTiles(),V=_.useProgram("terrainDepth");M.bindFramebuffer.set(T.getFramebuffer("depth").framebuffer),M.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),M.clear({color:i.bf.transparent,depth:1});for(let K of z){let oe=T.getTerrainMesh(K.tileID),ie=T.getTerrainData(K.tileID),ae=k.getProjectionData({overscaledTileID:K.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ue={u_ele_delta:T.getMeshFrameDelta(k.zoom)};V.draw(M,R.TRIANGLES,j,or.disabled,N,xt.backCCW,ue,ie,ae,"terrain",oe.vertexBuffer,oe.indexBuffer,oe.segments)}M.bindFramebuffer.set(null),M.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,T){let M=_.context,R=M.gl,k=_.transform,N=$r.unblended,j=new qt(R.LEQUAL,qt.ReadWrite,[0,1]),z=T.getCoordsTexture(),V=T.sourceCache.getRenderableTiles(),K=_.useProgram("terrainCoords");M.bindFramebuffer.set(T.getFramebuffer("coords").framebuffer),M.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),M.clear({color:i.bf.transparent,depth:1}),T.coordsIndex=[];for(let oe of V){let ie=T.getTerrainMesh(oe.tileID),ae=T.getTerrainData(oe.tileID);M.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,z.texture);let ue={u_terrain_coords_id:(255-T.coordsIndex.length)/255,u_texture:0,u_ele_delta:T.getMeshFrameDelta(k.zoom)},pe=k.getProjectionData({overscaledTileID:oe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});K.draw(M,R.TRIANGLES,j,or.disabled,N,xt.backCCW,ue,ae,pe,"terrain",ie.vertexBuffer,ie.indexBuffer,ie.segments),T.coordsIndex.push(oe.tileID.key)}M.bindFramebuffer.set(null),M.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(a,c,d,v,_){d.isHidden(this.transform.zoom)||(d.type==="background"||d.type==="custom"||(v||[]).length)&&(this.id=d.id,i.cb(d)?function(T,M,R,k,N,j){if(T.renderPass!=="translucent")return;let{isRenderingToTexture:z}=j,V=or.disabled,K=T.colorModeForRenderPass();(R._unevaluatedLayout.hasValue("text-variable-anchor")||R._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(oe,ie,ae,ue,pe,he,ve,_e,fe){let Se=ie.transform,Re=ie.style.map.terrain,Ie=pe==="map",Pe=he==="map";for(let qe of oe){let Ze=ue.getTile(qe),Ye=Ze.getBucket(ae);if(!Ye||!Ye.text||!Ye.text.segments.get().length)continue;let je=i.an(Ye.textSizeData,Se.zoom),lt=i.aC(Ze,1,ie.transform.zoom),kt=In(Ie,ie.transform,lt),hr=ae.layout.get("icon-text-fit")!=="none"&&Ye.hasIconData();if(je){let Sr=Math.pow(2,Se.zoom-Ze.tileID.overscaledZ),gr=Re?(Xr,ln)=>Re.getElevation(qe,Xr,ln):null;Ay(Ye,Ie,Pe,fe,Se,kt,Sr,je,hr,i.aD(Se,Ze,ve,_e),qe.toUnwrapped(),gr)}}}(k,T,R,M,R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),N),R.paint.get("icon-opacity").constantOr(1)!==0&&Uf(T,M,R,k,!1,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),R.layout.get("icon-rotation-alignment"),R.layout.get("icon-pitch-alignment"),R.layout.get("icon-keep-upright"),V,K,z),R.paint.get("text-opacity").constantOr(1)!==0&&Uf(T,M,R,k,!0,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.layout.get("text-keep-upright"),V,K,z),M.map.showCollisionBoxes&&(iw(T,M,R,k,!0),iw(T,M,R,k,!1))}(a,c,d,v,this.style.placement.variableOffsets,_):i.cc(d)?function(T,M,R,k,N){if(T.renderPass!=="translucent")return;let{isRenderingToTexture:j}=N,z=R.paint.get("circle-opacity"),V=R.paint.get("circle-stroke-width"),K=R.paint.get("circle-stroke-opacity"),oe=!R.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(V.constantOr(1)===0||K.constantOr(1)===0))return;let ie=T.context,ae=ie.gl,ue=T.transform,pe=T.getDepthModeForSublayer(0,qt.ReadOnly),he=or.disabled,ve=T.colorModeForRenderPass(),_e=[],fe=ue.getCircleRadiusCorrection();for(let Se=0;Se<k.length;Se++){let Re=k[Se],Ie=M.getTile(Re),Pe=Ie.getBucket(R);if(!Pe)continue;let qe=R.paint.get("circle-translate"),Ze=R.paint.get("circle-translate-anchor"),Ye=i.aD(ue,Ie,qe,Ze),je=Pe.programConfigurations.get(R.id),lt=T.useProgram("circle",je),kt=Pe.layoutVertexBuffer,hr=Pe.indexBuffer,Sr=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Re),gr={programConfiguration:je,program:lt,layoutVertexBuffer:kt,indexBuffer:hr,uniformValues:DM(T,Ie,R,Ye,fe),terrainData:Sr,projectionData:ue.getProjectionData({overscaledTileID:Re,applyGlobeMatrix:!j,applyTerrainMatrix:!0})};if(oe){let Xr=Pe.segments.get();for(let ln of Xr)_e.push({segments:new i.aM([ln]),sortKey:ln.sortKey,state:gr})}else _e.push({segments:Pe.segments,sortKey:0,state:gr})}oe&&_e.sort((Se,Re)=>Se.sortKey-Re.sortKey);for(let Se of _e){let{programConfiguration:Re,program:Ie,layoutVertexBuffer:Pe,indexBuffer:qe,uniformValues:Ze,terrainData:Ye,projectionData:je}=Se.state;Ie.draw(ie,ae.TRIANGLES,pe,he,ve,xt.backCCW,Ze,Ye,je,R.id,Pe,qe,Se.segments,R.paint,T.transform.zoom,Re)}}(a,c,d,v,_):i.cd(d)?function(T,M,R,k,N){if(R.paint.get("heatmap-opacity")===0)return;let j=T.context,{isRenderingToTexture:z,isRenderingGlobe:V}=N;if(T.style.map.terrain){for(let K of k){let oe=M.getTile(K);M.hasRenderableParent(K)||(T.renderPass==="offscreen"?My(T,oe,R,K,V):T.renderPass==="translucent"&&aw(T,R,K,z,V))}j.viewport.set([0,0,T.width,T.height])}else T.renderPass==="offscreen"?function(K,oe,ie,ae){let ue=K.context,pe=ue.gl,he=K.transform,ve=or.disabled,_e=new $r([pe.ONE,pe.ONE],i.bf.transparent,[!0,!0,!0,!0]);(function(fe,Se,Re){let Ie=fe.gl;fe.activeTexture.set(Ie.TEXTURE1),fe.viewport.set([0,0,Se.width/4,Se.height/4]);let Pe=Re.heatmapFbos.get(i.c2);Pe?(Ie.bindTexture(Ie.TEXTURE_2D,Pe.colorAttachment.get()),fe.bindFramebuffer.set(Pe.framebuffer)):(Pe=$f(fe,Se.width/4,Se.height/4),Re.heatmapFbos.set(i.c2,Pe))})(ue,K,ie),ue.clear({color:i.bf.transparent});for(let fe=0;fe<ae.length;fe++){let Se=ae[fe];if(oe.hasRenderableParent(Se))continue;let Re=oe.getTile(Se),Ie=Re.getBucket(ie);if(!Ie)continue;let Pe=Ie.programConfigurations.get(ie.id),qe=K.useProgram("heatmap",Pe),Ze=he.getProjectionData({overscaledTileID:Se,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Ye=he.getCircleRadiusCorrection();qe.draw(ue,pe.TRIANGLES,qt.disabled,ve,_e,xt.backCCW,B1(Re,he.zoom,ie.paint.get("heatmap-intensity"),Ye),null,Ze,ie.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,ie.paint,he.zoom,Pe)}ue.viewport.set([0,0,K.width,K.height])}(T,M,R,k):T.renderPass==="translucent"&&function(K,oe){let ie=K.context,ae=ie.gl;ie.setColorMode(K.colorModeForRenderPass());let ue=oe.heatmapFbos.get(i.c2);ue&&(ie.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,ue.colorAttachment.get()),ie.activeTexture.set(ae.TEXTURE1),Gf(ie,oe).bind(ae.LINEAR,ae.CLAMP_TO_EDGE),K.useProgram("heatmapTexture").draw(ie,ae.TRIANGLES,qt.disabled,or.disabled,K.colorModeForRenderPass(),xt.disabled,vy(K,oe,0,1),null,null,oe.id,K.viewportBuffer,K.quadTriangleIndexBuffer,K.viewportSegments,oe.paint,K.transform.zoom))}(T,R)}(a,c,d,v,_):i.ce(d)?function(T,M,R,k,N){if(T.renderPass!=="translucent")return;let{isRenderingToTexture:j}=N,z=R.paint.get("line-opacity"),V=R.paint.get("line-width");if(z.constantOr(1)===0||V.constantOr(1)===0)return;let K=T.getDepthModeForSublayer(0,qt.ReadOnly),oe=T.colorModeForRenderPass(),ie=R.paint.get("line-dasharray"),ae=R.paint.get("line-pattern"),ue=ae.constantOr(1),pe=R.paint.get("line-gradient"),he=R.getCrossfadeParameters(),ve=ue?"linePattern":ie?"lineSDF":pe?"lineGradient":"line",_e=T.context,fe=_e.gl,Se=T.transform,Re=!0;for(let Ie of k){let Pe=M.getTile(Ie);if(ue&&!Pe.patternsLoaded())continue;let qe=Pe.getBucket(R);if(!qe)continue;let Ze=qe.programConfigurations.get(R.id),Ye=T.context.program.get(),je=T.useProgram(ve,Ze),lt=Re||je.program!==Ye,kt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ie),hr=ae.constantOr(null);if(hr&&Pe.imageAtlas){let Lt=Pe.imageAtlas,Tr=Lt.patternPositions[hr.to.toString()],Dn=Lt.patternPositions[hr.from.toString()];Tr&&Dn&&Ze.setConstantPatternPositions(Tr,Dn)}let Sr=Se.getProjectionData({overscaledTileID:Ie,applyGlobeMatrix:!j,applyTerrainMatrix:!0}),gr=Se.getPixelScale(),Xr=ue?G1(T,Pe,R,gr,he):ie?Iu(T,Pe,R,gr,ie,he):pe?$1(T,Pe,R,gr,qe.lineClipsArray.length):Ad(T,Pe,R,gr);if(ue)_e.activeTexture.set(fe.TEXTURE0),Pe.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),Ze.updatePaintBuffers(he);else if(ie&&(lt||T.lineAtlas.dirty))_e.activeTexture.set(fe.TEXTURE0),T.lineAtlas.bind(_e);else if(pe){let Lt=qe.gradients[R.id],Tr=Lt.texture;if(R.gradientVersion!==Lt.version){let Dn=256;if(R.stepInterpolant){let Wn=M.getSource().maxzoom,ti=Ie.canonical.z===Wn?Math.ceil(1<<T.transform.maxZoom-Ie.canonical.z):1;Dn=i.ah(i.c3(qe.maxLineLength/i.$*1024*ti),256,_e.maxTextureSize)}Lt.gradient=i.c4({expression:R.gradientExpression(),evaluationKey:"lineProgress",resolution:Dn,image:Lt.gradient||void 0,clips:qe.lineClipsArray}),Lt.texture?Lt.texture.update(Lt.gradient):Lt.texture=new i.T(_e,Lt.gradient,fe.RGBA),Lt.version=R.gradientVersion,Tr=Lt.texture}_e.activeTexture.set(fe.TEXTURE0),Tr.bind(R.stepInterpolant?fe.NEAREST:fe.LINEAR,fe.CLAMP_TO_EDGE)}let ln=T.stencilModeForClipping(Ie);je.draw(_e,fe.TRIANGLES,K,ln,oe,xt.disabled,Xr,kt,Sr,R.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,R.paint,T.transform.zoom,Ze,qe.layoutVertexBuffer2),Re=!1}}(a,c,d,v,_):i.cf(d)?function(T,M,R,k,N){let j=R.paint.get("fill-color"),z=R.paint.get("fill-opacity");if(z.constantOr(1)===0)return;let{isRenderingToTexture:V}=N,K=T.colorModeForRenderPass(),oe=R.paint.get("fill-pattern"),ie=T.opaquePassEnabledForLayer()&&!oe.constantOr(1)&&j.constantOr(i.bf.transparent).a===1&&z.constantOr(0)===1?"opaque":"translucent";if(T.renderPass===ie){let ae=T.getDepthModeForSublayer(1,T.renderPass==="opaque"?qt.ReadWrite:qt.ReadOnly);Fd(T,M,R,k,ae,K,!1,V)}if(T.renderPass==="translucent"&&R.paint.get("fill-antialias")){let ae=T.getDepthModeForSublayer(R.getPaintProperty("fill-outline-color")?2:0,qt.ReadOnly);Fd(T,M,R,k,ae,K,!0,V)}}(a,c,d,v,_):i.cg(d)?function(T,M,R,k,N){let j=R.paint.get("fill-extrusion-opacity");if(j===0)return;let{isRenderingToTexture:z}=N;if(T.renderPass==="translucent"){let V=new qt(T.context.gl.LEQUAL,qt.ReadWrite,T.depthRangeFor3D);if(j!==1||R.paint.get("fill-extrusion-pattern").constantOr(1))qy(T,M,R,k,V,or.disabled,$r.disabled,z),qy(T,M,R,k,V,T.stencilModeFor3D(),T.colorModeForRenderPass(),z);else{let K=T.colorModeForRenderPass();qy(T,M,R,k,V,or.disabled,K,z)}}}(a,c,d,v,_):i.ch(d)?function(T,M,R,k,N){if(T.renderPass!=="offscreen"&&T.renderPass!=="translucent")return;let{isRenderingToTexture:j}=N,z=T.context,V=T.style.projection.useSubdivision,K=T.getDepthModeForSublayer(0,qt.ReadOnly),oe=T.colorModeForRenderPass();if(T.renderPass==="offscreen")(function(ie,ae,ue,pe,he,ve,_e){let fe=ie.context,Se=fe.gl;for(let Re of ue){let Ie=ae.getTile(Re),Pe=Ie.dem;if(!Pe||!Pe.data||!Ie.needsHillshadePrepare)continue;let qe=Pe.dim,Ze=Pe.stride,Ye=Pe.getPixels();if(fe.activeTexture.set(Se.TEXTURE1),fe.pixelStoreUnpackPremultiplyAlpha.set(!1),Ie.demTexture=Ie.demTexture||ie.getTileTexture(Ze),Ie.demTexture){let lt=Ie.demTexture;lt.update(Ye,{premultiply:!1}),lt.bind(Se.NEAREST,Se.CLAMP_TO_EDGE)}else Ie.demTexture=new i.T(fe,Ye,Se.RGBA,{premultiply:!1}),Ie.demTexture.bind(Se.NEAREST,Se.CLAMP_TO_EDGE);fe.activeTexture.set(Se.TEXTURE0);let je=Ie.fbo;if(!je){let lt=new i.T(fe,{width:qe,height:qe,data:null},Se.RGBA);lt.bind(Se.LINEAR,Se.CLAMP_TO_EDGE),je=Ie.fbo=fe.createFramebuffer(qe,qe,!0,!1),je.colorAttachment.set(lt.texture)}fe.bindFramebuffer.set(je.framebuffer),fe.viewport.set([0,0,qe,qe]),ie.useProgram("hillshadePrepare").draw(fe,Se.TRIANGLES,he,ve,_e,xt.disabled,U1(Ie.tileID,Pe),null,null,pe.id,ie.rasterBoundsBuffer,ie.quadTriangleIndexBuffer,ie.rasterBoundsSegments),Ie.needsHillshadePrepare=!1}})(T,M,k,R,K,or.disabled,oe),z.viewport.set([0,0,T.width,T.height]);else if(T.renderPass==="translucent")if(V){let[ie,ae,ue]=T.stencilConfigForOverlapTwoPass(k);Mu(T,M,R,ue,ie,K,oe,!1,j),Mu(T,M,R,ue,ae,K,oe,!0,j)}else{let[ie,ae]=T.getStencilConfigForOverlapAndUpdateStencilID(k);Mu(T,M,R,ae,ie,K,oe,!1,j)}}(a,c,d,v,_):i.ci(d)?function(T,M,R,k,N){if(T.renderPass!=="translucent"||!k.length)return;let{isRenderingToTexture:j}=N,z=T.style.projection.useSubdivision,V=T.getDepthModeForSublayer(0,qt.ReadOnly),K=T.colorModeForRenderPass();if(z){let[oe,ie,ae]=T.stencilConfigForOverlapTwoPass(k);Ry(T,M,R,ae,oe,V,K,!1,j),Ry(T,M,R,ae,ie,V,K,!0,j)}else{let[oe,ie]=T.getStencilConfigForOverlapAndUpdateStencilID(k);Ry(T,M,R,ie,oe,V,K,!1,j)}}(a,c,d,v,_):i.cj(d)?function(T,M,R,k,N){if(T.renderPass!=="translucent"||R.paint.get("raster-opacity")===0||!k.length)return;let{isRenderingToTexture:j}=N,z=M.getSource(),V=T.style.projection.useSubdivision;if(z instanceof qo)qu(T,M,R,k,null,!1,!1,z.tileCoords,z.flippedWindingOrder,j);else if(V){let[K,oe,ie]=T.stencilConfigForOverlapTwoPass(k);qu(T,M,R,ie,K,!1,!0,zd,!1,j),qu(T,M,R,ie,oe,!0,!0,zd,!1,j)}else{let[K,oe]=T.getStencilConfigForOverlapAndUpdateStencilID(k);qu(T,M,R,oe,K,!1,!0,zd,!1,j)}}(a,c,d,v,_):i.ck(d)?function(T,M,R,k,N){let j=R.paint.get("background-color"),z=R.paint.get("background-opacity");if(z===0)return;let{isRenderingToTexture:V}=N,K=T.context,oe=K.gl,ie=T.style.projection,ae=T.transform,ue=ae.tileSize,pe=R.paint.get("background-pattern");if(T.isPatternMissing(pe))return;let he=!pe&&j.a===1&&z===1&&T.opaquePassEnabledForLayer()?"opaque":"translucent";if(T.renderPass!==he)return;let ve=or.disabled,_e=T.getDepthModeForSublayer(0,he==="opaque"?qt.ReadWrite:qt.ReadOnly),fe=T.colorModeForRenderPass(),Se=T.useProgram(pe?"backgroundPattern":"background"),Re=k||Te(ae,{tileSize:ue,terrain:T.style.map.terrain});pe&&(K.activeTexture.set(oe.TEXTURE0),T.imageManager.bind(T.context));let Ie=R.getCrossfadeParameters();for(let Pe of Re){let qe=ae.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!V,applyTerrainMatrix:!0}),Ze=pe?H1(z,T,pe,{tileID:Pe,tileSize:ue},Ie):W1(z,j),Ye=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Pe),je=ie.getMeshFromTileID(K,Pe.canonical,!1,!0,"raster");Se.draw(K,oe.TRIANGLES,_e,ve,fe,xt.backCCW,Ze,Ye,qe,R.id,je.vertexBuffer,je.indexBuffer,je.segments)}}(a,0,d,v,_):i.cl(d)&&function(T,M,R,k){let{isRenderingGlobe:N}=k,j=T.context,z=R.implementation,V=T.style.projection,K=T.transform,oe=K.getProjectionDataForCustomLayer(N),ie={farZ:K.farZ,nearZ:K.nearZ,fov:K.fov*Math.PI/180,modelViewProjectionMatrix:K.modelViewProjectionMatrix,projectionMatrix:K.projectionMatrix,shaderData:{variantName:V.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${V.shaderPreludeCode.vertexSource}`,define:V.shaderDefine},defaultProjectionData:oe},ae=z.renderingMode?z.renderingMode:"2d";if(T.renderPass==="offscreen"){let ue=z.prerender;ue&&(T.setCustomLayerDefaults(),j.setColorMode(T.colorModeForRenderPass()),ue.call(z,j.gl,ie),j.setDirty(),T.setBaseState())}else if(T.renderPass==="translucent"){T.setCustomLayerDefaults(),j.setColorMode(T.colorModeForRenderPass()),j.setStencilMode(or.disabled);let ue=ae==="3d"?T.getDepthModeFor3D():T.getDepthModeForSublayer(0,qt.ReadOnly);j.setDepthMode(ue),z.render(j.gl,ie),j.setDirty(),T.setBaseState(),j.bindFramebuffer.set(null)}}(a,0,d,_))}saveTileTexture(a){let c=this._tileTextures[a.size[0]];c?c.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let c=this._tileTextures[a];return c&&c.length>0?c.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let c=this.imageManager.getPattern(a.from.toString()),d=this.imageManager.getPattern(a.to.toString());return!c||!d}useProgram(a,c,d=!1,v=[]){this.cache=this.cache||{};let _=!!this.style.map.terrain,T=this.style.projection,M=d?Aa.projectionMercator:T.shaderPreludeCode,R=d?Fs:T.shaderDefine,k=a+(c?c.cacheKey:"")+`/${d?xu:T.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(_?"/terrain":"")+(v?`/${v.join("/")}`:"");return this.cache[k]||(this.cache[k]=new my(this.context,Aa[a],c,by[a],this._showOverdrawInspector,_,M,R,v)),this.cache[k]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:c}=this.context.gl;return this.width!==a||this.height!==c}}function Ru(y,a){let c,d=!1,v=null,_=null,T=()=>{v=null,d&&(y.apply(_,c),v=setTimeout(T,a),d=!1)};return(...M)=>(d=!0,_=this,c=M,v||T(),v)}class Ud{constructor(a){this._getCurrentHash=()=>{let c=window.location.hash.replace("#","");if(this._hashName){let d;return c.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(d=v)}),(d&&d[1]||"").split("/")}return c.split("/")},this._onHashChange=()=>{let c=this._getCurrentHash();if(!this._isValidHash(c))return!1;let d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:d,pitch:+(c[4]||0)}),!0},this._updateHashUnthrottled=()=>{let c=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,c)},this._removeHash=()=>{let c=this._getCurrentHash();if(c.length===0)return;let d=c.join("/"),v=d;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${d}`);let _=window.location.hash.replace(v,"");_.startsWith("#&")?_=_.slice(0,1)+_.slice(2):_==="#"&&(_="");let T=window.location.href.replace(/(#.+)?$/,_);T=T.replace("&&","&"),window.history.replaceState(window.history.state,null,T)},this._updateHash=Ru(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let c=this._map.getCenter(),d=Math.round(100*this._map.getZoom())/100,v=Math.ceil((d*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,v),T=Math.round(c.lng*_)/_,M=Math.round(c.lat*_)/_,R=this._map.getBearing(),k=this._map.getPitch(),N="";if(N+=a?`/${T}/${M}/${d}`:`${d}/${M}/${T}`,(R||k)&&(N+="/"+Math.round(10*R)/10),k&&(N+=`/${Math.round(k)}`),this._hashName){let j=this._hashName,z=!1,V=window.location.hash.slice(1).split("&").map(K=>{let oe=K.split("=")[0];return oe===j?(z=!0,`${oe}=${N}`):K}).filter(K=>K);return z||V.push(`${j}=${N}`),`#${V.join("&")}`}return`#${N}`}_isValidHash(a){if(a.length<3||a.some(isNaN))return!1;try{new i.S(+a[2],+a[1])}catch(_){return!1}let c=+a[0],d=+(a[3]||0),v=+(a[4]||0);return c>=this._map.getMinZoom()&&c<=this._map.getMaxZoom()&&d>=-180&&d<=180&&v>=this._map.getMinPitch()&&v<=this._map.getMaxPitch()}}let Bs={linearity:.3,easing:i.cm(0,0,.3,1)},ky=i.e({deceleration:2500,maxSpeed:1400},Bs),cw=i.e({deceleration:20,maxSpeed:1400},Bs),hw=i.e({deceleration:1e3,maxSpeed:360},Bs),fw=i.e({deceleration:1e3,maxSpeed:90},Bs),pw=i.e({deceleration:1e3,maxSpeed:360},Bs);class dw{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:C.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,c=C.now();for(;a.length>0&&c-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let c={zoom:0,bearing:0,pitch:0,roll:0,pan:new i.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:_}of this._inertiaBuffer)c.zoom+=_.zoomDelta||0,c.bearing+=_.bearingDelta||0,c.pitch+=_.pitchDelta||0,c.roll+=_.rollDelta||0,_.panDelta&&c.pan._add(_.panDelta),_.around&&(c.around=_.around),_.pinchAround&&(c.pinchAround=_.pinchAround);let d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(c.pan.mag()){let _=Bc(c.pan.mag(),d,i.e({},ky,a||{})),T=c.pan.mult(_.amount/c.pan.mag()),M=this._map.cameraHelper.handlePanInertia(T,this._map.transform);v.center=M.easingCenter,v.offset=M.easingOffset,Ra(v,_)}if(c.zoom){let _=Bc(c.zoom,d,cw);v.zoom=this._map.transform.zoom+_.amount,Ra(v,_)}if(c.bearing){let _=Bc(c.bearing,d,hw);v.bearing=this._map.transform.bearing+i.ah(_.amount,-179,179),Ra(v,_)}if(c.pitch){let _=Bc(c.pitch,d,fw);v.pitch=this._map.transform.pitch+_.amount,Ra(v,_)}if(c.roll){let _=Bc(c.roll,d,pw);v.roll=this._map.transform.roll+i.ah(_.amount,-179,179),Ra(v,_)}if(v.zoom||v.bearing){let _=c.pinchAround===void 0?c.around:c.pinchAround;v.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),i.e(v,{noMoveStart:!0})}}function Ra(y,a){(!y.duration||y.duration<a.duration)&&(y.duration=a.duration,y.easing=a.easing)}function Bc(y,a,c){let{maxSpeed:d,linearity:v,deceleration:_}=c,T=i.ah(y*v/(a/1e3),-d,d),M=Math.abs(T)/(_*v);return{easing:c.easing,duration:1e3*M,amount:T*(M/2)}}class fo extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,c,d,v={}){d=d instanceof MouseEvent?d:new MouseEvent(a,d);let _=q.mousePos(c.getCanvas(),d),T=c.unproject(_);super(a,i.e({point:_,lngLat:T,originalEvent:d},v)),this._defaultPrevented=!1,this.target=c}}class Uc extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,c,d){let v=a==="touchend"?d.changedTouches:d.touches,_=q.touchPos(c.getCanvasContainer(),v),T=_.map(R=>c.unproject(R)),M=_.reduce((R,k,N,j)=>R.add(k.div(j.length)),new i.P(0,0));super(a,{points:_,point:M,lngLats:T,lngLat:c.unproject(M),originalEvent:d}),this._defaultPrevented=!1}}class Ny extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,c,d){super(a,{originalEvent:d}),this._defaultPrevented=!1}}class mw{constructor(a,c){this._map=a,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Ny(a.type,this._map,a))}mousedown(a,c){return this._mousedownPos=c,this._firePreventable(new fo(a.type,this._map,a))}mouseup(a){this._map.fire(new fo(a.type,this._map,a))}click(a,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new fo(a.type,this._map,a))}dblclick(a){return this._firePreventable(new fo(a.type,this._map,a))}mouseover(a){this._map.fire(new fo(a.type,this._map,a))}mouseout(a){this._map.fire(new fo(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Uc(a.type,this._map,a))}touchmove(a){this._map.fire(new Uc(a.type,this._map,a))}touchend(a){this._map.fire(new Uc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Uc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vw{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new fo(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new fo(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Vc{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.screenPointToLocation(i.P.convert(a),this._map.terrain)}}class Fy{constructor(a,c){this._map=a,this._tr=new Vc(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,c){this.isEnabled()&&a.shiftKey&&a.button===0&&(q.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(a,c){if(!this._active)return;let d=c;if(this._lastPos.equals(d)||!this._box&&d.dist(this._startPos)<this._clickTolerance)return;let v=this._startPos;this._lastPos=d,this._box||(this._box=q.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let _=Math.min(v.x,d.x),T=Math.max(v.x,d.x),M=Math.min(v.y,d.y),R=Math.max(v.y,d.y);q.setTransform(this._box,`translate(${_}px,${M}px)`),this._box.style.width=T-_+"px",this._box.style.height=R-M+"px"}mouseupWindow(a,c){if(!this._active||a.button!==0)return;let d=this._startPos,v=c;if(this.reset(),q.suppressClick(),d.x!==v.x||d.y!==v.y)return this._map.fire(new i.l("boxzoomend",{originalEvent:a})),{cameraAnimation:_=>_.fitScreenCoordinates(d,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(q.remove(this._box),this._box=null),q.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,c){return this._map.fire(new i.l(a,{originalEvent:c}))}}function $c(y,a){if(y.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${a.length}`);let c={};for(let d=0;d<y.length;d++)c[y[d].identifier]=a[d];return c}class gw{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,c,d){(this.centroid||d.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),d.length===this.numTouches&&(this.centroid=function(v){let _=new i.P(0,0);for(let T of v)_._add(T);return _.div(v.length)}(c),this.touches=$c(d,c)))}touchmove(a,c,d){if(this.aborted||!this.centroid)return;let v=$c(d,c);for(let _ in this.touches){let T=v[_];(!T||T.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(a,c,d){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),d.length===0){let v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class po{constructor(a){this.singleTap=new gw(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,c,d){this.singleTap.touchstart(a,c,d)}touchmove(a,c,d){this.singleTap.touchmove(a,c,d)}touchend(a,c,d){let v=this.singleTap.touchend(a,c,d);if(v){let _=a.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(v)<30;if(_&&T||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Oa{constructor(a){this._tr=new Vc(a),this._zoomIn=new po({numTouches:1,numTaps:2}),this._zoomOut=new po({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,c,d){this._zoomIn.touchstart(a,c,d),this._zoomOut.touchstart(a,c,d)}touchmove(a,c,d){this._zoomIn.touchmove(a,c,d),this._zoomOut.touchmove(a,c,d)}touchend(a,c,d){let v=this._zoomIn.touchend(a,c,d),_=this._zoomOut.touchend(a,c,d),T=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:T.zoom+1,around:T.unproject(v)},{originalEvent:a})}):_?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:T.zoom-1,around:T.unproject(_)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gc{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let c=this._moveFunction(...a);if(c.bearingDelta||c.pitchDelta||c.rollDelta||c.around||c.panDelta)return this._active=!0,c}dragStart(a,c){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=Array.isArray(c)?c[0]:c,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,c){if(!this.isEnabled())return;let d=this._lastPoint;if(!d)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let v=Array.isArray(c)?c[0]:c;return!this._moved&&v.dist(d)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(d,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&q.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let La=0,Zc=2,KM={[La]:1,[Zc]:2};class Hf{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let c=q.mouseButton(a);this._eventButton=c}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(c,d){let v=KM[d];return c.buttons===void 0||(c.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return q.mouseButton(a)===this._eventButton}}class YM{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}class XM{constructor(a=new Hf({checkCorrectEvent:()=>!0}),c=new YM){this.mouseMoveStateManager=a,this.oneFingerTouchMoveStateManager=c}_executeRelevantHandler(a,c,d){return a instanceof MouseEvent?c(a):typeof TouchEvent!="undefined"&&a instanceof TouchEvent?d(a):void 0}startMove(a){this._executeRelevantHandler(a,c=>this.mouseMoveStateManager.startMove(c),c=>this.oneFingerTouchMoveStateManager.startMove(c))}endMove(a){this._executeRelevantHandler(a,c=>this.mouseMoveStateManager.endMove(c),c=>this.oneFingerTouchMoveStateManager.endMove(c))}isValidStartEvent(a){return this._executeRelevantHandler(a,c=>this.mouseMoveStateManager.isValidStartEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidStartEvent(c))}isValidMoveEvent(a){return this._executeRelevantHandler(a,c=>this.mouseMoveStateManager.isValidMoveEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(c))}isValidEndEvent(a){return this._executeRelevantHandler(a,c=>this.mouseMoveStateManager.isValidEndEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidEndEvent(c))}}let Kf=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=a=>{a.preventDefault()}};class Yf{constructor(a,c){this._clickTolerance=a.clickTolerance||1,this._map=c,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new i.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,c,d){return this._calculateTransform(a,c,d)}touchmove(a,c,d){if(this._active){if(!this._shouldBePrevented(d.length))return a.preventDefault(),this._calculateTransform(a,c,d);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,c,d){this._calculateTransform(a,c,d),this._active&&this._shouldBePrevented(d.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,c,d){d.length>0&&(this._active=!0);let v=$c(d,c),_=new i.P(0,0),T=new i.P(0,0),M=0;for(let k in v){let N=v[k],j=this._touches[k];j&&(_._add(N),T._add(N.sub(j)),M++,v[k]=N)}if(this._touches=v,this._shouldBePrevented(M)||!T.mag())return;let R=T.div(M);return this._sum._add(R),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(M),panDelta:R}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Da{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,c,d){this._firstTwoTouches||d.length<2||(this._firstTwoTouches=[d[0].identifier,d[1].identifier],this._start([c[0],c[1]]))}touchmove(a,c,d){if(!this._firstTwoTouches)return;a.preventDefault();let[v,_]=this._firstTwoTouches,T=at(d,c,v),M=at(d,c,_);if(!T||!M)return;let R=this._aroundCenter?null:T.add(M).div(2);return this._move([T,M],R,a)}touchend(a,c,d){if(!this._firstTwoTouches)return;let[v,_]=this._firstTwoTouches,T=at(d,c,v),M=at(d,c,_);T&&M||(this._active&&q.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function at(y,a,c){for(let d=0;d<y.length;d++)if(y[d].identifier===c)return a[d]}function zy(y,a){return Math.log(y/a)/Math.LN2}class Vd extends Da{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,c){let d=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(zy(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:zy(this._distance,d),pinchAround:c}}}function jy(y,a){return 180*y.angleWith(a)/Math.PI}class Wc extends Da{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,c,d){let v=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:jy(this._vector,v),pinchAround:c}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let c=25/(Math.PI*this._minDiameter)*360,d=jy(a,this._startVector);return Math.abs(d)<c}}function Ou(y){return Math.abs(y.y)>Math.abs(y.x)}class $d extends Da{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,c,d){super.touchstart(a,c,d),this._currentTouchCount=d.length}_start(a){this._lastPoints=a,Ou(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,c,d){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let v=a[0].sub(this._lastPoints[0]),_=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,_,d.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(a,c,d){if(this._valid!==void 0)return this._valid;let v=a.mag()>=2,_=c.mag()>=2;if(!v&&!_)return;if(!v||!_)return this._firstMove===void 0&&(this._firstMove=d),d-this._firstMove<100&&void 0;let T=a.y>0==c.y>0;return Ou(a)&&Ou(c)&&T}}let Qt={panStep:100,bearingStep:15,pitchStep:10};class Gd{constructor(a){this._tr=new Vc(a);let c=Qt;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let c=0,d=0,v=0,_=0,T=0;switch(a.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:a.shiftKey?d=-1:(a.preventDefault(),_=-1);break;case 39:a.shiftKey?d=1:(a.preventDefault(),_=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),T=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(d=0,v=0),{cameraAnimation:M=>{let R=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:JM,zoom:c?Math.round(R.zoom)+c*(a.shiftKey?2:1):R.zoom,bearing:R.bearing+d*this._bearingStep,pitch:R.pitch+v*this._pitchStep,offset:[-_*this._panStep,-T*this._panStep],center:R.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function JM(y){return y*(2-y)}let Zd=4.000244140625,QM=1/450;class yw{constructor(a,c){this._onTimeout=d=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)},this._map=a,this._tr=new Vc(a),this._triggerRenderFrame=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=QM}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let c=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,d=C.now(),v=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,c!==0&&c%Zd==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),a.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=a,this._delta-=c,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let c=q.mousePos(this._map.getCanvas(),a),d=this._tr;this._aroundPoint=this._aroundCenter?d.transform.locationToScreenPoint(i.S.convert(d.center)):c,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let M=a.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=M),typeof this._targetZoom=="number"&&(this._targetZoom+=M)}if(this._delta!==0){let M=this._type==="wheel"&&Math.abs(this._delta)>Zd?this._wheelZoomRate:this._defaultZoomRate,R=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&R!==0&&(R=1/R);let k=typeof this._targetZoom!="number"?a.scale:i.af(this._targetZoom);this._targetZoom=a.getConstrained(a.getCameraLngLat(),i.ak(k*R)).zoom,this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let c=typeof this._targetZoom!="number"?a.zoom:this._targetZoom,d=this._startZoom,v=this._easing,_,T=!1;if(this._type==="wheel"&&d&&v){let M=C.now()-this._lastWheelEventTime,R=Math.min((M+5)/200,1),k=v(R);_=i.C.number(d,c,k),R<1?this._frameId||(this._frameId=!0):T=!0}else _=c,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=_,{noInertia:!0,needsRenderFrame:!T,zoomDelta:_-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let c=i.co;if(this._prevEase){let d=this._prevEase,v=(C.now()-d.start)/d.duration,_=d.easing(v+.01)-d.easing(v),T=.27/Math.sqrt(_*_+1e-4)*.01,M=Math.sqrt(.0729-T*T);c=i.cm(T,M,.25,1)}return this._prevEase={start:C.now(),duration:a,easing:c},c}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class By{constructor(a,c){this._clickZoom=a,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Uy{constructor(a){this._tr=new Vc(a),this.reset()}reset(){this._active=!1}dblclick(a,c){return a.preventDefault(),{cameraAnimation:d=>{d.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(c)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _w{constructor(){this._tap=new po({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,c,d){if(!this._swipePoint)if(this._tapTime){let v=c[0],_=a.timeStamp-this._tapTime<500,T=this._tapPoint.dist(v)<30;_&&T?d.length>0&&(this._swipePoint=v,this._swipeTouch=d[0].identifier):this.reset()}else this._tap.touchstart(a,c,d)}touchmove(a,c,d){if(this._tapTime){if(this._swipePoint){if(d[0].identifier!==this._swipeTouch)return;let v=c[0],_=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(a,c,d)}touchend(a,c,d){if(this._tapTime)this._swipePoint&&d.length===0&&this.reset();else{let v=this._tap.touchend(a,c,d);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xw{constructor(a,c,d){this._el=a,this._mousePan=c,this._touchPan=d}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Vy{constructor(a,c,d,v){this._pitchWithRotate=a.pitchWithRotate,this._rollEnabled=a.rollEnabled,this._mouseRotate=c,this._mousePitch=d,this._mouseRoll=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class bw{constructor(a,c,d,v){this._el=a,this._touchZoom=c,this._touchRotate=d,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ww{constructor(a,c){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=c,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=q.create("div","maplibregl-cooperative-gesture-screen",a);let c=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(c=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let d=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=c,this._container.appendChild(v);let _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=d,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(q.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,c){this._enabled&&(this._map.fire(new i.l("cooperativegestureprevented",{gestureType:a,originalEvent:c})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ka=y=>y.zoom||y.drag||y.roll||y.pitch||y.rotate;class Lr extends i.l{}function Hc(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta||y.rollDelta}class $y{constructor(a,c){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,_)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let T=v.type==="renderFrame"?void 0:v,M={needsRenderFrame:!1},R={},k={};for(let{handlerName:z,handler:V,allowed:K}of this._handlers){if(!V.isEnabled())continue;let oe;if(this._blockedByActive(k,K,z))V.reset();else if(V[_||v.type]){if(i.cp(v,_||v.type)){let ie=q.mousePos(this._map.getCanvas(),v);oe=V[_||v.type](v,ie)}else if(i.cq(v,_||v.type)){let ie=this._getMapTouches(v.touches),ae=q.touchPos(this._map.getCanvas(),ie);oe=V[_||v.type](v,ae,ie)}else i.cr(_||v.type)||(oe=V[_||v.type](v));this.mergeHandlerResult(M,R,oe,z,T),oe&&oe.needsRenderFrame&&this._triggerRenderFrame()}(oe||V.isActive())&&(k[z]=V)}let N={};for(let z in this._previousActiveHandlers)k[z]||(N[z]=T);this._previousActiveHandlers=k,(Object.keys(N).length||Hc(M))&&(this._changes.push([M,R,N]),this._triggerRenderFrame()),(Object.keys(k).length||Hc(M))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:j}=M;j&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],j(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new dw(a),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c);let d=this._el;this._listeners=[[d,"touchstart",{passive:!0}],[d,"touchmove",{passive:!1}],[d,"touchend",void 0],[d,"touchcancel",void 0],[d,"mousedown",void 0],[d,"mousemove",void 0],[d,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[d,"mouseover",void 0],[d,"mouseout",void 0],[d,"dblclick",void 0],[d,"click",void 0],[d,"keydown",{capture:!1}],[d,"keyup",void 0],[d,"wheel",{passive:!1}],[d,"contextmenu",void 0],[window,"blur",void 0]];for(let[v,_,T]of this._listeners)q.addEventListener(v,_,v===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(let[a,c,d]of this._listeners)q.removeEventListener(a,c,a===document?this.handleWindowEvent:this.handleEvent,d)}_addDefaultHandlers(a){let c=this._map,d=c.getCanvasContainer();this._add("mapEvent",new mw(c,a));let v=c.boxZoom=new Fy(c,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();let _=c.cooperativeGestures=new ww(c,a.cooperativeGestures);this._add("cooperativeGestures",_),a.cooperativeGestures&&_.enable();let T=new Oa(c),M=new Uy(c);c.doubleClickZoom=new By(M,T),this._add("tapZoom",T),this._add("clickZoom",M),a.interactive&&a.doubleClickZoom&&c.doubleClickZoom.enable();let R=new _w;this._add("tapDragZoom",R);let k=c.touchPitch=new $d(c);this._add("touchPitch",k),a.interactive&&a.touchPitch&&c.touchPitch.enable(a.touchPitch);let N=()=>c.project(c.getCenter()),j=function({enable:he,clickTolerance:ve,aroundCenter:_e=!0,minPixelCenterThreshold:fe=100,rotateDegreesPerPixelMoved:Se=.8},Re){let Ie=new Hf({checkCorrectEvent:Pe=>q.mouseButton(Pe)===0&&Pe.ctrlKey||q.mouseButton(Pe)===2&&!Pe.ctrlKey});return new Gc({clickTolerance:ve,move:(Pe,qe)=>{let Ze=Re();if(_e&&Math.abs(Ze.y-Pe.y)>fe)return{bearingDelta:i.cn(new i.P(Pe.x,qe.y),qe,Ze)};let Ye=(qe.x-Pe.x)*Se;return _e&&qe.y<Ze.y&&(Ye=-Ye),{bearingDelta:Ye}},moveStateManager:Ie,enable:he,assignEvents:Kf})}(a,N),z=function({enable:he,clickTolerance:ve,pitchDegreesPerPixelMoved:_e=-.5}){let fe=new Hf({checkCorrectEvent:Se=>q.mouseButton(Se)===0&&Se.ctrlKey||q.mouseButton(Se)===2});return new Gc({clickTolerance:ve,move:(Se,Re)=>({pitchDelta:(Re.y-Se.y)*_e}),moveStateManager:fe,enable:he,assignEvents:Kf})}(a),V=function({enable:he,clickTolerance:ve,rollDegreesPerPixelMoved:_e=.3},fe){let Se=new Hf({checkCorrectEvent:Re=>q.mouseButton(Re)===2&&Re.ctrlKey});return new Gc({clickTolerance:ve,move:(Re,Ie)=>{let Pe=fe(),qe=(Ie.x-Re.x)*_e;return Ie.y<Pe.y&&(qe=-qe),{rollDelta:qe}},moveStateManager:Se,enable:he,assignEvents:Kf})}(a,N);c.dragRotate=new Vy(a,j,z,V),this._add("mouseRotate",j,["mousePitch"]),this._add("mousePitch",z,["mouseRotate","mouseRoll"]),this._add("mouseRoll",V,["mousePitch"]),a.interactive&&a.dragRotate&&c.dragRotate.enable();let K=function({enable:he,clickTolerance:ve}){let _e=new Hf({checkCorrectEvent:fe=>q.mouseButton(fe)===0&&!fe.ctrlKey});return new Gc({clickTolerance:ve,move:(fe,Se)=>({around:Se,panDelta:Se.sub(fe)}),activateOnStart:!0,moveStateManager:_e,enable:he,assignEvents:Kf})}(a),oe=new Yf(a,c);c.dragPan=new xw(d,K,oe),this._add("mousePan",K),this._add("touchPan",oe,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&c.dragPan.enable(a.dragPan);let ie=new Wc,ae=new Vd;c.touchZoomRotate=new bw(d,ae,ie,R),this._add("touchRotate",ie,["touchPan","touchZoom"]),this._add("touchZoom",ae,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&c.touchZoomRotate.enable(a.touchZoomRotate);let ue=c.scrollZoom=new yw(c,()=>this._triggerRenderFrame());this._add("scrollZoom",ue,["mousePan"]),a.interactive&&a.scrollZoom&&c.scrollZoom.enable(a.scrollZoom);let pe=c.keyboard=new Gd(c);this._add("keyboard",pe),a.interactive&&a.keyboard&&c.keyboard.enable(),this._add("blockableMapEvent",new vw(c))}_add(a,c,d){this._handlers.push({handlerName:a,handler:c,allowed:d}),this._handlersById[a]=c}stop(a){if(!this._updatingCamera){for(let{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ka(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,c,d){for(let v in a)if(v!==d&&(!c||c.indexOf(v)<0))return!0;return!1}_getMapTouches(a){let c=[];for(let d of a)this._el.contains(d.target)&&c.push(d);return c}mergeHandlerResult(a,c,d,v,_){if(!d)return;i.e(a,d);let T={handlerName:v,originalEvent:d.originalEvent||_};d.zoomDelta!==void 0&&(c.zoom=T),d.panDelta!==void 0&&(c.drag=T),d.rollDelta!==void 0&&(c.roll=T),d.pitchDelta!==void 0&&(c.pitch=T),d.bearingDelta!==void 0&&(c.rotate=T)}_applyChanges(){let a={},c={},d={};for(let[v,_,T]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new i.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.rollDelta&&(a.rollDelta=(a.rollDelta||0)+v.rollDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),i.e(c,_),i.e(d,T);this._updateMapTransform(a,c,d),this._changes=[]}_updateMapTransform(a,c,d){let v=this._map,_=v._getTransformForUpdate(),T=v.terrain;if(!(Hc(a)||T&&this._terrainMovement))return this._fireEvents(c,d,!0);v._stop(!0);let{panDelta:M,zoomDelta:R,bearingDelta:k,pitchDelta:N,rollDelta:j,around:z,pinchAround:V}=a;V!==void 0&&(z=V),z=z||v.transform.centerPoint,T&&!_.isPointOnMapSurface(z)&&(z=_.centerPoint);let K={panDelta:M,zoomDelta:R,rollDelta:j,pitchDelta:N,bearingDelta:k,around:z};this._map.cameraHelper.useGlobeControls&&!_.isPointOnMapSurface(z)&&(z=_.centerPoint);let oe=z.distSqr(_.centerPoint)<.01?_.center:_.screenPointToLocation(M?z.sub(M):z);T?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(K,_),this._terrainMovement||!c.drag&&!c.zoom?c.drag&&this._terrainMovement?_.setCenter(_.screenPointToLocation(_.centerPoint.sub(M))):this._map.cameraHelper.handleMapControlsPan(K,_,oe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(K,_,oe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(K,_),this._map.cameraHelper.handleMapControlsPan(K,_,oe)),v._applyUpdatedTransform(_),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(c,d,!0)}_fireEvents(a,c,d){let v=ka(this._eventsInProgress),_=ka(a),T={};for(let j in a){let{originalEvent:z}=a[j];this._eventsInProgress[j]||(T[`${j}start`]=z),this._eventsInProgress[j]=a[j]}!v&&_&&this._fireEvent("movestart",_.originalEvent);for(let j in T)this._fireEvent(j,T[j]);_&&this._fireEvent("move",_.originalEvent);for(let j in a){let{originalEvent:z}=a[j];this._fireEvent(j,z)}let M={},R;for(let j in this._eventsInProgress){let{handlerName:z,originalEvent:V}=this._eventsInProgress[j];this._handlersById[z].isActive()||(delete this._eventsInProgress[j],R=c[z]||V,M[`${j}end`]=R)}for(let j in M)this._fireEvent(j,M[j]);let k=ka(this._eventsInProgress),N=(v||_)&&!k;if(N&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let j=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&j.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(j)}if(d&&N){this._updatingCamera=!0;let j=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),z=V=>V!==0&&-this._bearingSnap<V&&V<this._bearingSnap;!j||!j.essential&&C.prefersReducedMotion?(this._map.fire(new i.l("moveend",{originalEvent:R})),z(this._map.getBearing())&&this._map.resetNorth()):(z(j.bearing||this._map.getBearing())&&(j.bearing=0),j.freezeElevation=!0,this._map.easeTo(j,{originalEvent:R})),this._updatingCamera=!1}}_fireEvent(a,c){this._map.fire(new i.l(a,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Lr("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ew extends i.E{constructor(a,c,d){super(),this._renderFrameCallback=()=>{let v=Math.min((C.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.cameraHelper=c,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(a,c){a.apply(this.transform),this.transform=a,this.cameraHelper=c}getCenter(){return new i.S(this.transform.center.lng,this.transform.center.lat)}setCenter(a,c){return this.jumpTo({center:a},c)}getCenterElevation(){return this.transform.elevation}setCenterElevation(a,c){return this.jumpTo({elevation:a},c),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(a){this._centerClampedToGround=a}panBy(a,c,d){return a=i.P.convert(a).mult(-1),this.panTo(this.transform.center,i.e({offset:a},c),d)}panTo(a,c,d){return this.easeTo(i.e({center:a},c),d)}getZoom(){return this.transform.zoom}setZoom(a,c){return this.jumpTo({zoom:a},c),this}zoomTo(a,c,d){return this.easeTo(i.e({zoom:a},c),d)}zoomIn(a,c){return this.zoomTo(this.getZoom()+1,a,c),this}zoomOut(a,c){return this.zoomTo(this.getZoom()-1,a,c),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(a,c){return a!=this.transform.fov&&(this.transform.setFov(a),this.fire(new i.l("movestart",c)).fire(new i.l("move",c)).fire(new i.l("moveend",c))),this}getBearing(){return this.transform.bearing}setBearing(a,c){return this.jumpTo({bearing:a},c),this}getPadding(){return this.transform.padding}setPadding(a,c){return this.jumpTo({padding:a},c),this}rotateTo(a,c,d){return this.easeTo(i.e({bearing:a},c),d)}resetNorth(a,c){return this.rotateTo(0,i.e({duration:1e3},a),c),this}resetNorthPitch(a,c){return this.easeTo(i.e({bearing:0,pitch:0,roll:0,duration:1e3},a),c),this}snapToNorth(a,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,c):this}getPitch(){return this.transform.pitch}setPitch(a,c){return this.jumpTo({pitch:a},c),this}getRoll(){return this.transform.roll}setRoll(a,c){return this.jumpTo({roll:a},c),this}cameraForBounds(a,c){a=Vr.convert(a).adjustAntiMeridian();let d=c&&c.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),d,c)}_cameraForBoxAndBearing(a,c,d,v){let _={top:0,bottom:0,right:0,left:0};if(typeof(v=i.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){let k=v.padding;v.padding={top:k,bottom:k,right:k,left:k}}let T=i.e(_,v.padding);v.padding=T;let M=this.transform,R=new Vr(a,c);return this.cameraHelper.cameraForBoxAndBearing(v,T,R,d,M)}fitBounds(a,c,d){return this._fitInternal(this.cameraForBounds(a,c),c,d)}fitScreenCoordinates(a,c,d,v,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(i.P.convert(a)),this.transform.screenPointToLocation(i.P.convert(c)),d,v),v,_)}_fitInternal(a,c,d){return a?(delete(c=i.e(a,c)).padding,c.linear?this.easeTo(c,d):this.flyTo(c,d)):this}jumpTo(a,c){this.stop();let d=this._getTransformForUpdate(),v=!1,_=!1,T=!1,M=d.zoom;this.cameraHelper.handleJumpToCenterZoom(d,a);let R=d.zoom!==M;return"elevation"in a&&d.elevation!==+a.elevation&&d.setElevation(+a.elevation),"bearing"in a&&d.bearing!==+a.bearing&&(v=!0,d.setBearing(+a.bearing)),"pitch"in a&&d.pitch!==+a.pitch&&(_=!0,d.setPitch(+a.pitch)),"roll"in a&&d.roll!==+a.roll&&(T=!0,d.setRoll(+a.roll)),a.padding==null||d.isPaddingEqual(a.padding)||d.setPadding(a.padding),this._applyUpdatedTransform(d),this.fire(new i.l("movestart",c)).fire(new i.l("move",c)),R&&this.fire(new i.l("zoomstart",c)).fire(new i.l("zoom",c)).fire(new i.l("zoomend",c)),v&&this.fire(new i.l("rotatestart",c)).fire(new i.l("rotate",c)).fire(new i.l("rotateend",c)),_&&this.fire(new i.l("pitchstart",c)).fire(new i.l("pitch",c)).fire(new i.l("pitchend",c)),T&&this.fire(new i.l("rollstart",c)).fire(new i.l("roll",c)).fire(new i.l("rollend",c)),this.fire(new i.l("moveend",c))}calculateCameraOptionsFromTo(a,c,d,v=0){let _=i.a1.fromLngLat(a,c),T=i.a1.fromLngLat(d,v),M=T.x-_.x,R=T.y-_.y,k=T.z-_.z,N=Math.hypot(M,R,k);if(N===0)throw new Error("Can't calculate camera options with same From and To");let j=Math.hypot(M,R),z=i.ak(this.transform.cameraToCenterDistance/N/this.transform.tileSize),V=180*Math.atan2(M,-R)/Math.PI,K=180*Math.acos(j/N)/Math.PI;return K=k<0?90-K:90+K,{center:T.toLngLat(),elevation:v,zoom:z,pitch:K,bearing:V}}calculateCameraOptionsFromCameraLngLatAltRotation(a,c,d,v,_){let T=this.transform.calculateCenterFromCameraLngLatAlt(a,c,d,v);return{center:T.center,elevation:T.elevation,zoom:T.zoom,bearing:d,pitch:v,roll:_}}easeTo(a,c){this._stop(!1,a.easeId),((a=i.e({offset:[0,0],duration:500,easing:i.co},a)).animate===!1||!a.essential&&C.prefersReducedMotion)&&(a.duration=0);let d=this._getTransformForUpdate(),v=this.getBearing(),_=d.pitch,T=d.roll,M="bearing"in a?this._normalizeBearing(a.bearing,v):v,R="pitch"in a?+a.pitch:_,k="roll"in a?this._normalizeBearing(a.roll,T):T,N="padding"in a?a.padding:d.padding,j=i.P.convert(a.offset),z,V;a.around&&(z=i.S.convert(a.around),V=d.locationToScreenPoint(z));let K={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},oe=this.cameraHelper.handleEaseTo(d,{bearing:M,pitch:R,roll:k,padding:N,around:z,aroundPoint:V,offsetAsPoint:j,offset:a.offset,zoom:a.zoom,center:a.center});return this._rotating=this._rotating||v!==M,this._pitching=this._pitching||R!==_,this._rolling=this._rolling||k!==T,this._padding=!d.isPaddingEqual(N),this._zooming=this._zooming||oe.isZooming,this._easeId=a.easeId,this._prepareEase(c,a.noMoveStart,K),this.terrain&&this._prepareElevation(oe.elevationCenter),this._ease(ie=>{oe.easeFunc(ie),this.terrain&&!a.freezeElevation&&this._updateElevation(ie),this._applyUpdatedTransform(d),this._fireMoveEvents(c)},ie=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(c,ie)},a),this}_prepareEase(a,c,d={}){this._moving=!0,c||d.moving||this.fire(new i.l("movestart",a)),this._zooming&&!d.zooming&&this.fire(new i.l("zoomstart",a)),this._rotating&&!d.rotating&&this.fire(new i.l("rotatestart",a)),this._pitching&&!d.pitching&&this.fire(new i.l("pitchstart",a)),this._rolling&&!d.rolling&&this.fire(new i.l("rollstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let c=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&c!==this._elevationTarget){let d=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(d-(c-(d*a+this._elevationStart))/(1-a)),this._elevationTarget=c}this.transform.setElevation(i.C.number(this._elevationStart,this._elevationTarget,a))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){if(!this.terrain&&a.elevation>=0&&a.pitch<=90)return{};let c=a.getCameraLngLat(),d=a.getCameraAltitude(),v=this.terrain?this.terrain.getElevationForLngLatZoom(c,a.zoom):0;if(d<v){let _=this.calculateCameraOptionsFromTo(c,v,a.center,a.elevation);return{pitch:_.pitch,zoom:_.zoom}}return{}}_applyUpdatedTransform(a){let c=[];if(c.push(v=>this._elevateCameraIfInsideTerrain(v)),this.transformCameraUpdate&&c.push(v=>this.transformCameraUpdate(v)),!c.length)return;let d=a.clone();for(let v of c){let _=d.clone(),{center:T,zoom:M,roll:R,pitch:k,bearing:N,elevation:j}=v(_);T&&_.setCenter(T),j!==void 0&&_.setElevation(j),M!==void 0&&_.setZoom(M),R!==void 0&&_.setRoll(R),k!==void 0&&_.setPitch(k),N!==void 0&&_.setBearing(N),d.apply(_)}this.transform.apply(d)}_fireMoveEvents(a){this.fire(new i.l("move",a)),this._zooming&&this.fire(new i.l("zoom",a)),this._rotating&&this.fire(new i.l("rotate",a)),this._pitching&&this.fire(new i.l("pitch",a)),this._rolling&&this.fire(new i.l("roll",a))}_afterEase(a,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;let d=this._zooming,v=this._rotating,_=this._pitching,T=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,d&&this.fire(new i.l("zoomend",a)),v&&this.fire(new i.l("rotateend",a)),_&&this.fire(new i.l("pitchend",a)),T&&this.fire(new i.l("rollend",a)),this.fire(new i.l("moveend",a))}flyTo(a,c){if(!a.essential&&C.prefersReducedMotion){let qe=i.Q(a,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(qe,c)}this.stop(),a=i.e({offset:[0,0],speed:1.2,curve:1.42,easing:i.co},a);let d=this._getTransformForUpdate(),v=d.bearing,_=d.pitch,T=d.roll,M=d.padding,R="bearing"in a?this._normalizeBearing(a.bearing,v):v,k="pitch"in a?+a.pitch:_,N="roll"in a?this._normalizeBearing(a.roll,T):T,j="padding"in a?a.padding:d.padding,z=i.P.convert(a.offset),V=d.centerPoint.add(z),K=d.screenPointToLocation(V),oe=this.cameraHelper.handleFlyTo(d,{bearing:R,pitch:k,roll:N,padding:j,locationAtOffset:K,offsetAsPoint:z,center:a.center,minZoom:a.minZoom,zoom:a.zoom}),ie=a.curve,ae=Math.max(d.width,d.height),ue=ae/oe.scaleOfZoom,pe=oe.pixelPathLength;typeof oe.scaleOfMinZoom=="number"&&(ie=Math.sqrt(ae/oe.scaleOfMinZoom/pe*2));let he=ie*ie;function ve(qe){let Ze=(ue*ue-ae*ae+(qe?-1:1)*he*he*pe*pe)/(2*(qe?ue:ae)*he*pe);return Math.log(Math.sqrt(Ze*Ze+1)-Ze)}function _e(qe){return(Math.exp(qe)-Math.exp(-qe))/2}function fe(qe){return(Math.exp(qe)+Math.exp(-qe))/2}let Se=ve(!1),Re=function(qe){return fe(Se)/fe(Se+ie*qe)},Ie=function(qe){return ae*((fe(Se)*(_e(Ze=Se+ie*qe)/fe(Ze))-_e(Se))/he)/pe;var Ze},Pe=(ve(!0)-Se)/ie;if(Math.abs(pe)<2e-6||!isFinite(Pe)){if(Math.abs(ae-ue)<1e-6)return this.easeTo(a,c);let qe=ue<ae?-1:1;Pe=Math.abs(Math.log(ue/ae))/ie,Ie=()=>0,Re=Ze=>Math.exp(qe*ie*Ze)}return a.duration="duration"in a?+a.duration:1e3*Pe/("screenSpeed"in a?+a.screenSpeed/ie:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=v!==R,this._pitching=k!==_,this._rolling=N!==T,this._padding=!d.isPaddingEqual(j),this._prepareEase(c,!1),this.terrain&&this._prepareElevation(oe.targetCenter),this._ease(qe=>{let Ze=qe*Pe,Ye=1/Re(Ze),je=Ie(Ze);this._rotating&&d.setBearing(i.C.number(v,R,qe)),this._pitching&&d.setPitch(i.C.number(_,k,qe)),this._rolling&&d.setRoll(i.C.number(T,N,qe)),this._padding&&(d.interpolatePadding(M,j,qe),V=d.centerPoint.add(z)),oe.easeFunc(qe,Ye,je,V),this.terrain&&!a.freezeElevation&&this._updateElevation(qe),this._applyUpdatedTransform(d),this._fireMoveEvents(c)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(c)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,c){var d;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,c)}return a||(d=this.handlers)===null||d===void 0||d.stop(!1),this}_ease(a,c,d){d.animate===!1||d.duration===0?(a(1),c()):(this._easeStart=C.now(),this._easeOptions=d,this._onEaseFrame=a,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,c){a=i.aO(a,-180,180);let d=Math.abs(a-c);return Math.abs(a-360-c)<d&&(a-=360),Math.abs(a+360-c)<d&&(a+=360),a}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(i.S.convert(a),this.transform.tileZoom):null}}let Gy={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class Zy{constructor(a=Gy){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=c=>{!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=q.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=q.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=q.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){q.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,c){let d=this._map._getUIString(`AttributionControl.${c}`);a.title=d,a.setAttribute("aria-label",d)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}let c=this._map.style.sourceCaches;for(let v in c){let _=c[v];if(_.used||_.usedForTerrain){let T=_.getSource();T.attribution&&a.indexOf(T.attribution)<0&&a.push(T.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,_)=>v.length-_.length),a=a.filter((v,_)=>{for(let T=_+1;T<a.length;T++)if(a[T].indexOf(v)>=0)return!1;return!0});let d=a.join(" | ");d!==this._attribHTML&&(this._attribHTML=d,a.length?(this._innerContainer.innerHTML=q.sanitize(d),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Sw{constructor(a={}){this._updateCompact=()=>{let c=this._container.children;if(c.length){let d=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&d.classList.add("maplibregl-compact"):d.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=q.create("div","maplibregl-ctrl");let c=q.create("a","maplibregl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){q.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class us{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let c=++this._id;return this._queue.push({callback:a,id:c,cancelled:!1}),c}remove(a){let c=this._currentlyRunning,d=c?this._queue.concat(c):this._queue;for(let v of d)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let c=this._currentlyRunning=this._queue;this._queue=[];for(let d of c)if(!d.cancelled&&(d.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Wd=i.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class ht extends i.E{constructor(a){super(),this._lastTilesetChange=C.now(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=a._source.tileSize*m_(2,this.deltaZoom),a.usedForTerrain=!0,a.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,c){this.sourceCache.update(a,c),this._renderableTilesKeys=[];let d={};for(let v of Te(a,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:c,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))d[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.terrainRttPosMatrix32f=new Float64Array(16),i.bY(v.terrainRttPosMatrix32f,0,i.$,i.$,0,0,1),this._tiles[v.key]=new vl(v,this.tileSize),this._lastTilesetChange=C.now());for(let v in this._tiles)d[v]||delete this._tiles[v]}freeRtt(a){for(let c in this._tiles){let d=this._tiles[c];(!a||d.tileID.equals(a)||d.tileID.isChildOf(a)||a.isChildOf(d.tileID))&&(d.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a,c){return c?this._getTerrainCoordsForTileRanges(a,c):this._getTerrainCoordsForRegularTile(a)}_getTerrainCoordsForRegularTile(a){let c={};for(let d of this._renderableTilesKeys){let v=this._tiles[d].tileID,_=a.clone(),T=i.ba();if(v.canonical.equals(a.canonical))i.bY(T,0,i.$,i.$,0,0,1);else if(v.canonical.isChildOf(a.canonical)){let M=v.canonical.z-a.canonical.z,R=v.canonical.x-(v.canonical.x>>M<<M),k=v.canonical.y-(v.canonical.y>>M<<M),N=i.$>>M;i.bY(T,0,N,N,0,0,1),i.M(T,T,[-R*N,-k*N,0])}else{if(!a.canonical.isChildOf(v.canonical))continue;{let M=a.canonical.z-v.canonical.z,R=a.canonical.x-(a.canonical.x>>M<<M),k=a.canonical.y-(a.canonical.y>>M<<M),N=i.$>>M;i.bY(T,0,i.$,i.$,0,0,1),i.M(T,T,[R*N,k*N,0]),i.N(T,T,[1/m_(2,M),1/m_(2,M),0])}}_.terrainRttPosMatrix32f=new Float32Array(T),c[d]=_}return c}_getTerrainCoordsForTileRanges(a,c){let d={};for(let v of this._renderableTilesKeys){let _=this._tiles[v].tileID;if(!this._isWithinTileRanges(_,c))continue;let T=a.clone(),M=i.ba();if(_.canonical.z===a.canonical.z){let R=a.canonical.x-_.canonical.x,k=a.canonical.y-_.canonical.y;i.bY(M,0,i.$,i.$,0,0,1),i.M(M,M,[R*i.$,k*i.$,0])}else if(_.canonical.z>a.canonical.z){let R=_.canonical.z-a.canonical.z,k=_.canonical.x-(_.canonical.x>>R<<R),N=_.canonical.y-(_.canonical.y>>R<<R),j=a.canonical.x-(_.canonical.x>>R),z=a.canonical.y-(_.canonical.y>>R),V=i.$>>R;i.bY(M,0,V,V,0,0,1),i.M(M,M,[-k*V+j*i.$,-N*V+z*i.$,0])}else{let R=a.canonical.z-_.canonical.z,k=a.canonical.x-(a.canonical.x>>R<<R),N=a.canonical.y-(a.canonical.y>>R<<R),j=(a.canonical.x>>R)-_.canonical.x,z=(a.canonical.y>>R)-_.canonical.y,V=i.$<<R;i.bY(M,0,V,V,0,0,1),i.M(M,M,[k*i.$+j*V,N*i.$+z*V,0])}T.terrainRttPosMatrix32f=new Float32Array(M),d[v]=T}return d}getSourceTile(a,c){let d=this.sourceCache._source,v=a.overscaledZ-this.deltaZoom;if(v>d.maxzoom&&(v=d.maxzoom),v<d.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!_||!_.dem)&&c)for(;v>=d.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(a.scaledTo(v--).key);return _}anyTilesAfterTime(a=Date.now()){return this._lastTilesetChange>=a}_isWithinTileRanges(a,c){return c[a.canonical.z]&&a.canonical.x>=c[a.canonical.z].minTileX&&a.canonical.x<=c[a.canonical.z].maxTileX&&a.canonical.y>=c[a.canonical.z].minTileY&&a.canonical.y<=c[a.canonical.z].maxTileY}}class yt{constructor(a,c,d){this._meshCache={},this.painter=a,this.sourceCache=new ht(c),this.options=d,this.exaggeration=typeof d.exaggeration=="number"?d.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,c,d,v=i.$){var _;if(!(c>=0&&c<v&&d>=0&&d<v))return 0;let T=this.getTerrainData(a),M=(_=T.tile)===null||_===void 0?void 0:_.dem;if(!M)return 0;let R=i.cs([],[c/v*i.$,d/v*i.$],T.u_terrain_matrix),k=[R[0]*M.dim,R[1]*M.dim],N=Math.floor(k[0]),j=Math.floor(k[1]),z=k[0]-N,V=k[1]-j;return M.get(N,j)*(1-z)*(1-V)+M.get(N+1,j)*z*(1-V)+M.get(N,j+1)*(1-z)*V+M.get(N+1,j+1)*z*V}getElevationForLngLatZoom(a,c){if(!i.ct(c,a.wrap()))return 0;let{tileID:d,mercatorX:v,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(a,c);return this.getElevation(d,v%i.$,_%i.$,i.$)}getElevation(a,c,d,v=i.$){return this.getDEMElevation(a,c,d,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let v=this.painter.context,_=new i.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new i.T(v,_,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new i.T(v,new i.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=i.ag([])}let c=this.sourceCache.getSourceTile(a,!0);if(c&&c.dem&&(!c.demTexture||c.needsTerrainPrepare)){let v=this.painter.context;c.demTexture=this.painter.getTileTexture(c.dem.stride),c.demTexture?c.demTexture.update(c.dem.getPixels(),{premultiply:!1}):c.demTexture=new i.T(v,c.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),c.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),c.needsTerrainPrepare=!1}let d=c&&c+c.tileID.key+a.key;if(d&&!this._demMatrixCache[d]){let v=this.sourceCache.sourceCache._source.maxzoom,_=a.canonical.z-c.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?_=a.canonical.z-v:i.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let T=a.canonical.x-(a.canonical.x>>_<<_),M=a.canonical.y-(a.canonical.y>>_<<_),R=i.cu(new Float64Array(16),[1/(i.$<<_),1/(i.$<<_),0]);i.M(R,R,[T*i.$,M*i.$,0]),this._demMatrixCache[a.key]={matrix:R,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:c&&c.dem&&c.dem.dim||1,u_terrain_matrix:d?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:c&&c.dem&&c.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(c&&c.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:c}}getFramebuffer(a){let c=this.painter,d=c.width/devicePixelRatio,v=c.height/devicePixelRatio;return!this._fbo||this._fbo.width===d&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new i.T(c.context,{width:d,height:v,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new i.T(c.context,{width:d,height:v,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=c.context.createFramebuffer(d,v,!0,!1),this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,d,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let c=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,T=0;_<this._coordsTextureSize;_++)for(let M=0;M<this._coordsTextureSize;M++,T+=4)c[T+0]=255&M,c[T+1]=255&_,c[T+2]=M>>8<<4|_>>8,c[T+3]=0;let d=new i.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(c.buffer)),v=new i.T(a,d,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let c=new Uint8Array(4),d=this.painter.context,v=d.gl,_=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),T=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),M=Math.round(this.painter.height/devicePixelRatio);d.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(_,M-T-1,1,1,v.RGBA,v.UNSIGNED_BYTE,c),d.bindFramebuffer.set(null);let R=c[0]+(c[2]>>4<<8),k=c[1]+((15&c[2])<<8),N=this.coordsIndex[255-c[3]],j=N&&this.sourceCache.getTileByID(N);if(!j)return null;let z=this._coordsTextureSize,V=(1<<j.tileID.canonical.z)*z;return new i.a1((j.tileID.canonical.x*z+R)/V+j.tileID.wrap,(j.tileID.canonical.y*z+k)/V,this.getElevation(j.tileID,R,k,z))}depthAtPoint(a){let c=new Uint8Array(4),d=this.painter.context,v=d.gl;return d.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,c),d.bindFramebuffer.set(null),(c[0]/16777216+c[1]/65536+c[2]/256+c[3])/256}getTerrainMesh(a){var c;let d=((c=this.painter.style.projection)===null||c===void 0?void 0:c.transitionState)>0,v=d&&a.canonical.y===0,_=d&&a.canonical.y===(1<<a.canonical.z)-1,T=`m_${v?"n":""}_${_?"s":""}`;if(this._meshCache[T])return this._meshCache[T];let M=this.painter.context,R=new i.cv,k=new i.aN,N=this.meshSize,j=i.$/N,z=N*N;for(let fe=0;fe<=N;fe++)for(let Se=0;Se<=N;Se++)R.emplaceBack(Se*j,fe*j,0);for(let fe=0;fe<z;fe+=N+1)for(let Se=0;Se<N;Se++)k.emplaceBack(Se+fe,N+Se+fe+1,N+Se+fe+2),k.emplaceBack(Se+fe,N+Se+fe+2,Se+fe+1);let V=R.length,K=V+(N+1),oe=(N+1)*N,ie=v?i.bh:0,ae=v?0:1,ue=_?i.bi:i.$,pe=_?0:1;for(let fe=0;fe<=N;fe++)R.emplaceBack(fe*j,ie,ae);for(let fe=0;fe<=N;fe++)R.emplaceBack(fe*j,ue,pe);for(let fe=0;fe<N;fe++)k.emplaceBack(oe+fe,K+fe,K+fe+1),k.emplaceBack(oe+fe,K+fe+1,oe+fe+1),k.emplaceBack(0+fe,V+fe+1,V+fe),k.emplaceBack(0+fe,0+fe+1,V+fe+1);let he=R.length,ve=he+2*(N+1);for(let fe of[0,1])for(let Se=0;Se<=N;Se++)for(let Re of[0,1])R.emplaceBack(fe*i.$,Se*j,Re);for(let fe=0;fe<2*N;fe+=2)k.emplaceBack(he+fe,he+fe+1,he+fe+3),k.emplaceBack(he+fe,he+fe+3,he+fe+2),k.emplaceBack(ve+fe,ve+fe+3,ve+fe+1),k.emplaceBack(ve+fe,ve+fe+2,ve+fe+3);let _e=new _u(M.createVertexBuffer(R,Wd.members),M.createIndexBuffer(k),i.aM.simpleSegment(0,0,R.length,k.length));return this._meshCache[T]=_e,_e}getMeshFrameDelta(a){return 2*Math.PI*i.bu/Math.pow(2,Math.max(a,0))/5}getMinTileElevationForLngLatZoom(a,c){var d;let{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,c);return(d=this.getMinMaxElevation(v).minElevation)!==null&&d!==void 0?d:0}getMinMaxElevation(a){let c=this.getTerrainData(a).tile,d={minElevation:null,maxElevation:null};return c&&c.dem&&(d.minElevation=c.dem.min*this.exaggeration,d.maxElevation=c.dem.max*this.exaggeration),d}_getOverscaledTileIDFromLngLatZoom(a,c){let d=i.a1.fromLngLat(a.wrap()),v=(1<<c)*i.$,_=d.x*v,T=d.y*v,M=Math.floor(_/i.$),R=Math.floor(T/i.$);return{tileID:new i.Z(c,0,c,M,R),mercatorX:_,mercatorY:T}}}class Hd{constructor(a,c,d){this._context=a,this._size=c,this._tileSize=d,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let c=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),d=new i.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return d.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),c.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),c.colorAttachment.set(d.texture),{id:a,fbo:c,texture:d,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(c=>a.id!==c),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let c of this._recentlyUsed)if(!this._objects[c].inUse)return this._objects[c];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let Tl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Kd{constructor(a,c){this.painter=a,this.terrain=c,this.pool=new Hd(a.context,30,c.sourceCache.tileSize*c.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,c){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(d=>!a._layers[d].isHidden(c)),this._coordsAscending={};for(let d in a.sourceCaches){this._coordsAscending[d]={};let v=a.sourceCaches[d].getVisibleCoordinates(),_=a.sourceCaches[d].getSource(),T=_ instanceof qo?_.terrainTileRanges:null;for(let M of v){let R=this.terrain.sourceCache.getTerrainCoords(M,T);for(let k in R)this._coordsAscending[d][k]||(this._coordsAscending[d][k]=[]),this._coordsAscending[d][k].push(R[k])}}this._coordsAscendingStr={};for(let d of a._order){let v=a._layers[d],_=v.source;if(Tl[v.type]&&!this._coordsAscendingStr[_]){this._coordsAscendingStr[_]={};for(let T in this._coordsAscending[_])this._coordsAscendingStr[_][T]=this._coordsAscending[_][T].map(M=>M.key).sort().join()}}for(let d of this._renderableTiles)for(let v in this._coordsAscendingStr){let _=this._coordsAscendingStr[v][d.tileID.key];_&&_!==d.rttCoords[v]&&(d.rtt=[])}}renderLayer(a,c){if(a.isHidden(this.painter.transform.zoom))return!1;let d=Object.assign(Object.assign({},c),{isRenderingToTexture:!0}),v=a.type,_=this.painter,T=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(Tl[v]&&(this._prevType&&Tl[this._prevType]||this._stacks.push([]),this._prevType=v,this._stacks[this._stacks.length-1].push(a.id),!T))return!0;if(Tl[this._prevType]||Tl[v]&&T){this._prevType=v;let M=this._stacks.length-1,R=this._stacks[M]||[];for(let k of this._renderableTiles){if(this.pool.isFull()&&(Bd(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(k),k.rtt[M]){let j=this.pool.getObjectForId(k.rtt[M].id);if(j.stamp===k.rtt[M].stamp){this.pool.useObject(j);continue}}let N=this.pool.getOrCreateFreeObject();this.pool.useObject(N),this.pool.stampObject(N),k.rtt[M]={id:N.id,stamp:N.stamp},_.context.bindFramebuffer.set(N.fbo.framebuffer),_.context.clear({color:i.bf.transparent,stencil:0}),_.currentStencilSource=void 0;for(let j=0;j<R.length;j++){let z=_.style._layers[R[j]],V=z.source?this._coordsAscending[z.source][k.tileID.key]:[k.tileID];_.context.viewport.set([0,0,N.fbo.width,N.fbo.height]),_._renderTileClippingMasks(z,V,!0),_.renderLayer(_,_.style.sourceCaches[z.source],z,V,d),z.source&&(k.rttCoords[z.source]=this._coordsAscendingStr[z.source][k.tileID.key])}}return Bd(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects(),Tl[v]}return!1}}let $i={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Tw=f,Qo={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Gy,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:i.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},e2={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Xf{constructor(a,c,d=!1){this.mousedown=_=>{this.startMove(_,q.mousePos(this.element,_)),q.addEventListener(window,"mousemove",this.mousemove),q.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=_=>{this.move(_,q.mousePos(this.element,_))},this.mouseup=_=>{this._rotatePitchHandler.dragEnd(_),this.offTemp()},this.touchstart=_=>{_.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=q.touchPos(this.element,_.targetTouches)[0],this.startMove(_,this._startPos),q.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),q.addEventListener(window,"touchend",this.touchend))},this.touchmove=_=>{_.targetTouches.length!==1?this.reset():(this._lastPos=q.touchPos(this.element,_.targetTouches)[0],this.move(_,this._lastPos))},this.touchend=_=>{_.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=c;let v=new XM;this._rotatePitchHandler=new Gc({clickTolerance:3,move:(_,T)=>{let M=c.getBoundingClientRect(),R=new i.P((M.bottom-M.top)/2,(M.right-M.left)/2);return{bearingDelta:i.cn(new i.P(_.x,T.y),T,R),pitchDelta:d?-.5*(T.y-_.y):void 0}},moveStateManager:v,enable:!0,assignEvents:()=>{}}),this.map=a,q.addEventListener(c,"mousedown",this.mousedown),q.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),q.addEventListener(c,"touchcancel",this.reset)}startMove(a,c){this._rotatePitchHandler.dragStart(a,c),q.disableDrag()}move(a,c){let d=this.map,{bearingDelta:v,pitchDelta:_}=this._rotatePitchHandler.dragMove(a,c)||{};v&&d.setBearing(d.getBearing()+v),_&&d.setPitch(d.getPitch()+_)}off(){let a=this.element;q.removeEventListener(a,"mousedown",this.mousedown),q.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),q.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),q.removeEventListener(window,"touchend",this.touchend),q.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){q.enableDrag(),q.removeEventListener(window,"mousemove",this.mousemove),q.removeEventListener(window,"mouseup",this.mouseup),q.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),q.removeEventListener(window,"touchend",this.touchend)}}let Er;function gn(y,a,c,d=!1){if(d||!c.getCoveringTilesDetailsProvider().allowWorldCopies())return y==null?void 0:y.wrap();let v=new i.S(y.lng,y.lat);if(y=new i.S(y.lng,y.lat),a){let _=new i.S(y.lng-360,y.lat),T=new i.S(y.lng+360,y.lat),M=c.locationToScreenPoint(y).distSqr(a);c.locationToScreenPoint(_).distSqr(a)<M?y=_:c.locationToScreenPoint(T).distSqr(a)<M&&(y=T)}for(;Math.abs(y.lng-c.center.lng)>180;){let _=c.locationToScreenPoint(y);if(_.x>=0&&_.y>=0&&_.x<=c.width&&_.y<=c.height)break;y.lng>c.center.lng?y.lng-=360:y.lng+=360}return y.lng!==v.lng&&c.isPointOnMapSurface(c.locationToScreenPoint(y))?y:v}let Yd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Kc(y,a,c){let d=y.classList;for(let v in Yd)d.remove(`maplibregl-${c}-anchor-${v}`);d.add(`maplibregl-${c}-anchor-${a}`)}class Yc extends i.E{constructor(a){if(super(),this._onKeyPress=c=>{let d=c.code,v=c.charCode||c.keyCode;d!=="Space"&&d!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=c=>{let d=c.originalEvent.target,v=this._element;this._popup&&(d===v||v.contains(d))&&this.togglePopup()},this._update=c=>{if(!this._map)return;let d=this._map.loaded()&&!this._map.isMoving();((c==null?void 0:c.type)==="terrain"||(c==null?void 0:c.type)==="render"&&!d)&&this._map.once("render",this._update),this._lngLat=gn(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||c&&c.type!=="moveend"||(this._pos=this._pos.round()),q.setTransform(this._element,`${Yd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${v}`),C.frameAsync(new AbortController).then(()=>{this._updateOpacity(c&&c.type==="moveend")}).catch(()=>{})},this._onMove=c=>{if(!this._isDragging){let d=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.l("dragstart"))),this.fire(new i.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.l("dragend")),this._state="inactive"},this._addDragHandler=c=>{this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=i.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=q.create("div");let c=q.createNS("http://www.w3.org/2000/svg","svg"),d=41,v=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${d}px`),c.setAttributeNS(null,"width",`${v}px`),c.setAttributeNS(null,"viewBox",`0 0 ${v} ${d}`);let _=q.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");let T=q.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill-rule","nonzero");let M=q.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");let R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let ae of R){let ue=q.createNS("http://www.w3.org/2000/svg","ellipse");ue.setAttributeNS(null,"opacity","0.04"),ue.setAttributeNS(null,"cx","10.5"),ue.setAttributeNS(null,"cy","5.80029008"),ue.setAttributeNS(null,"rx",ae.rx),ue.setAttributeNS(null,"ry",ae.ry),M.appendChild(ue)}let k=q.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"fill",this._color);let N=q.createNS("http://www.w3.org/2000/svg","path");N.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),k.appendChild(N);let j=q.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");let z=q.createNS("http://www.w3.org/2000/svg","path");z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(z);let V=q.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"transform","translate(6.0, 7.0)"),V.setAttributeNS(null,"fill","#FFFFFF");let K=q.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(8.0, 8.0)");let oe=q.createNS("http://www.w3.org/2000/svg","circle");oe.setAttributeNS(null,"fill","#000000"),oe.setAttributeNS(null,"opacity","0.25"),oe.setAttributeNS(null,"cx","5.5"),oe.setAttributeNS(null,"cy","5.5"),oe.setAttributeNS(null,"r","5.4999962");let ie=q.createNS("http://www.w3.org/2000/svg","circle");ie.setAttributeNS(null,"fill","#FFFFFF"),ie.setAttributeNS(null,"cx","5.5"),ie.setAttributeNS(null,"cy","5.5"),ie.setAttributeNS(null,"r","5.4999962"),K.appendChild(oe),K.appendChild(ie),T.appendChild(M),T.appendChild(k),T.appendChild(j),T.appendChild(V),T.appendChild(K),c.appendChild(T),c.setAttributeNS(null,"height",d*this._scale+"px"),c.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(c),this._offset=i.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),Kc(this._element,this._anchor,"marker"),a&&a.className)for(let c of a.className.split(" "))this._element.classList.add(c);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),a.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),q.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=i.S.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var c,d;let v=(c=this._map)===null||c===void 0?void 0:c.terrain,_=this._map.transform.isLocationOccluded(this._lngLat);if(!v||_){let V=_?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==V&&(this._element.style.opacity=V))}if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let T=this._map,M=T.terrain.depthAtPoint(this._pos),R=T.terrain.getElevationForLngLatZoom(this._lngLat,T.transform.tileZoom);if(T.transform.lngLatToCameraDepth(this._lngLat,R)-M<.006)return void(this._element.style.opacity=this._opacity);let k=-this._offset.y/T.transform.pixelsPerMeter,N=Math.sin(T.getPitch()*Math.PI/180)*k,j=T.terrain.depthAtPoint(new i.P(this._pos.x,this._pos.y-this._offset.y)),z=T.transform.lngLatToCameraDepth(this._lngLat,R+N)-j>.006;!((d=this._popup)===null||d===void 0)&&d.isOpen()&&z&&this._popup.remove(),this._element.style.opacity=z?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=i.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,c){return(this._opacity===void 0||a===void 0&&c===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),c!==void 0&&(this._opacityWhenCovered=c),this._map&&this._updateOpacity(!0),this}}let Wy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Xc=0,Lu=!1,Jf={maxWidth:100,unit:"metric"};function Xd(y,a,c){let d=c&&c.maxWidth||100,v=y._container.clientHeight/2,_=y._container.clientWidth/2,T=y.unproject([_-d/2,v]),M=y.unproject([_+d/2,v]),R=Math.round(y.project(M).x-y.project(T).x),k=Math.min(d,R,y._container.clientWidth),N=T.distanceTo(M);if(c&&c.unit==="imperial"){let j=3.2808*N;j>5280?Du(a,k,j/5280,y._getUIString("ScaleControl.Miles")):Du(a,k,j,y._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Du(a,k,N/1852,y._getUIString("ScaleControl.NauticalMiles")):N>=1e3?Du(a,k,N/1e3,y._getUIString("ScaleControl.Kilometers")):Du(a,k,N,y._getUIString("ScaleControl.Meters"))}function Du(y,a,c,d){let v=function(_){let T=Math.pow(10,`${Math.floor(_)}`.length-1),M=_/T;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:function(R){let k=Math.pow(10,Math.ceil(-Math.log(R)/Math.LN10));return Math.round(R*k)/k}(M),T*M}(c);y.style.width=a*(v/c)+"px",y.innerHTML=`${v}&nbsp;${d}`}let Hy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Ky=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jd(y){if(y){if(typeof y=="number"){let a=Math.round(Math.abs(y)/Math.SQRT2);return{center:new i.P(0,0),top:new i.P(0,y),"top-left":new i.P(a,a),"top-right":new i.P(-a,a),bottom:new i.P(0,-y),"bottom-left":new i.P(a,-a),"bottom-right":new i.P(-a,-a),left:new i.P(y,0),right:new i.P(-y,0)}}if(y instanceof i.P||Array.isArray(y)){let a=i.P.convert(y);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:i.P.convert(y.center||[0,0]),top:i.P.convert(y.top||[0,0]),"top-left":i.P.convert(y["top-left"]||[0,0]),"top-right":i.P.convert(y["top-right"]||[0,0]),bottom:i.P.convert(y.bottom||[0,0]),"bottom-left":i.P.convert(y["bottom-left"]||[0,0]),"bottom-right":i.P.convert(y["bottom-right"]||[0,0]),left:i.P.convert(y.left||[0,0]),right:i.P.convert(y.right||[0,0])}}return Jd(new i.P(0,0))}let Yy=f;o.AJAXError=i.cz,o.Event=i.l,o.Evented=i.E,o.LngLat=i.S,o.MercatorCoordinate=i.a1,o.Point=i.P,o.addProtocol=i.cA,o.config=i.a,o.removeProtocol=i.cB,o.AttributionControl=Zy,o.BoxZoomHandler=Fy,o.CanvasSource=Ia,o.CooperativeGesturesHandler=ww,o.DoubleClickZoomHandler=By,o.DragPanHandler=xw,o.DragRotateHandler=Vy,o.EdgeInsets=bu,o.FullscreenControl=class extends i.E{constructor(y={}){super(),this._onFullscreenChange=()=>{var a;let c=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=c==null?void 0:c.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)c=c.shadowRoot.fullscreenElement;c===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:i.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=q.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){q.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let y=this._fullscreenButton=q.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);q.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new i.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new i.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},o.GeoJSONSource=Mo,o.GeolocateControl=class extends i.E{constructor(y){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new i.l("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new i.l("geolocate",a)),this._finish()}},this._updateCamera=a=>{let c=new i.S(a.coords.longitude,a.coords.latitude),d=a.coords.accuracy,v=this._map.getBearing(),_=i.e({bearing:v},this.options.fitBoundsOptions),T=Vr.fromLngLat(c,d);this._map.fitBounds(T,_,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let c=new i.S(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=a.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=a=>{if(this._map){if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Lu)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new i.l("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=q.create("button","maplibregl-ctrl-geolocate",this._container),q.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){i.w("Geolocation support is not available so the GeolocateControl will be disabled.");let c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{let c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=q.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Yc({element:this._dotElement}),this._circleElement=q.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{let d=(c==null?void 0:c[0])instanceof ResizeObserverEntry;c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new i.l("trackuserlocationend")),this.fire(new i.l("userlocationlostfocus")))})}},this.options=i.e({},Wy,y)}onAdd(y){return this._map=y,this._container=q.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return i._(this,arguments,void 0,function*(a=!1){if(Er!==void 0&&!a)return Er;if(window.navigator.permissions===void 0)return Er=!!window.navigator.geolocation,Er;try{Er=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(c){Er=!!window.navigator.geolocation}return Er})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),q.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Xc=0,Lu=!1}_isOutOfMapMaxBounds(y){let a=this._map.getMaxBounds(),c=y.coords;return a&&(c.longitude<a.getWest()||c.longitude>a.getEast()||c.latitude<a.getSouth()||c.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){let y=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&y))return;let a=this._map.project(y),c=this._map.unproject([a.x+100,a.y]),d=y.distanceTo(c)/100,v=2*this._accuracy/d;this._circleElement.style.width=`${v.toFixed(2)}px`,this._circleElement.style.height=`${v.toFixed(2)}px`}trigger(){if(!this._setup)return i.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Xc--,Lu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new i.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.l("trackuserlocationstart")),this.fire(new i.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Xc++,Xc>1?(y={maximumAge:6e5,timeout:0},Lu=!0):(y=this.options.positionOptions,Lu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},o.GlobeControl=class{constructor(){this._toggleProjection=()=>{var y;let a=(y=this._map.getProjection())===null||y===void 0?void 0:y.type;this._map.setProjection(a!=="mercator"&&a?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var y;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((y=this._map.getProjection())===null||y===void 0?void 0:y.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(y){return this._map=y,this._container=q.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=q.create("button","maplibregl-ctrl-globe",this._container),q.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){q.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},o.Hash=Ud,o.ImageSource=qo,o.KeyboardHandler=Gd,o.LngLatBounds=Vr,o.LogoControl=Sw,o.Map=class extends Ew{constructor(y){var a,c;i.cw.mark(i.cx.create);let d=Object.assign(Object.assign(Object.assign({},Qo),y),{canvasContextAttributes:Object.assign(Object.assign({},Qo.canvasContextAttributes),y.canvasContextAttributes)});if(d.minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let v=new Or,_=new Pi;if(d.minZoom!==void 0&&v.setMinZoom(d.minZoom),d.maxZoom!==void 0&&v.setMaxZoom(d.maxZoom),d.minPitch!==void 0&&v.setMinPitch(d.minPitch),d.maxPitch!==void 0&&v.setMaxPitch(d.maxPitch),d.renderWorldCopies!==void 0&&v.setRenderWorldCopies(d.renderWorldCopies),super(v,_,{bearingSnap:d.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new us,this._controls=[],this._mapId=i.a7(),this._contextLost=M=>{M.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new i.l("webglcontextlost",{originalEvent:M}))},this._contextRestored=M=>{this._setupPainter(),this.resize(),this._update(),this.fire(new i.l("webglcontextrestored",{originalEvent:M}))},this._onMapScroll=M=>{if(M.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=d.interactive,this._maxTileCacheSize=d.maxTileCacheSize,this._maxTileCacheZoomLevels=d.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},d.canvasContextAttributes),this._trackResize=d.trackResize===!0,this._bearingSnap=d.bearingSnap,this._centerClampedToGround=d.centerClampedToGround,this._refreshExpiredTiles=d.refreshExpiredTiles===!0,this._fadeDuration=d.fadeDuration,this._crossSourceCollisions=d.crossSourceCollisions===!0,this._collectResourceTiming=d.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},$i),d.locale),this._clickTolerance=d.clickTolerance,this._overridePixelRatio=d.pixelRatio,this._maxCanvasSize=d.maxCanvasSize,this.transformCameraUpdate=d.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=d.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=Q.addThrottleControl(()=>this.isMoving()),this._requestManager=new se(d.transformRequest),typeof d.container=="string"){if(this._container=document.getElementById(d.container),!this._container)throw new Error(`Container '${d.container}' not found.`)}else{if(!(d.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(d.maxBounds&&this.setMaxBounds(d.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let M=!1,R=Ru(k=>{this._trackResize&&!this._removed&&(this.resize(k),this.redraw())},50);this._resizeObserver=new ResizeObserver(k=>{M?R(k):M=!0}),this._resizeObserver.observe(this._container)}this.handlers=new $y(this,d),this._hash=d.hash&&new Ud(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,elevation:d.elevation,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch,roll:d.roll}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,i.e({},d.fitBoundsOptions,{duration:0}))));let T=typeof d.style=="string"||((c=(a=d.style)===null||a===void 0?void 0:a.projection)===null||c===void 0?void 0:c.type)!=="globe";this.resize(null,T),this._localIdeographFontFamily=d.localIdeographFontFamily,this._validateStyle=d.validateStyle,d.style&&this.setStyle(d.style,{localIdeographFontFamily:d.localIdeographFontFamily}),d.attributionControl&&this.addControl(new Zy(typeof d.attributionControl=="boolean"?void 0:d.attributionControl)),d.maplibreLogo&&this.addControl(new Sw,d.logoPosition),this.on("style.load",()=>{if(T||this._resizeTransform(),this.transform.unmodified){let M=i.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(M)}}),this.on("data",M=>{this._update(M.dataType==="style"),this.fire(new i.l(`${M.dataType}data`,M))}),this.on("dataloading",M=>{this.fire(new i.l(`${M.dataType}dataloading`,M))}),this.on("dataabort",M=>{this.fire(new i.l("sourcedataabort",M))})}_getMapId(){return this._mapId}setGlobalStateProperty(y,a){return this.style.setGlobalStateProperty(y,a),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(y,a){if(a===void 0&&(a=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new i.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let c=y.onAdd(this);this._controls.push(y);let d=this._controlPositions[a];return a.indexOf("bottom")!==-1?d.insertBefore(c,d.firstChild):d.appendChild(c),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new i.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(y);return a>-1&&this._controls.splice(a,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}coveringTiles(y){return Te(this.transform,y)}calculateCameraOptionsFromTo(y,a,c,d){return d==null&&this.terrain&&(d=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(y,a,c,d)}resize(y,a=!0){let[c,d]=this._containerDimensions(),v=this._getClampedPixelRatio(c,d);if(this._resizeCanvas(c,d,v),this.painter.resize(c,d,v),this.painter.overLimit()){let T=this.painter.context.gl;this._maxCanvasSize=[T.drawingBufferWidth,T.drawingBufferHeight];let M=this._getClampedPixelRatio(c,d);this._resizeCanvas(c,d,M),this.painter.resize(c,d,M)}this._resizeTransform(a);let _=!this._moving;return _&&(this.stop(),this.fire(new i.l("movestart",y)).fire(new i.l("move",y))),this.fire(new i.l("resize",y)),_&&this.fire(new i.l("moveend",y)),this}_resizeTransform(y=!0){var a;let[c,d]=this._containerDimensions();this.transform.resize(c,d,y),(a=this._requestedCameraState)===null||a===void 0||a.resize(c,d,y)}_getClampedPixelRatio(y,a){let{0:c,1:d}=this._maxCanvasSize,v=this.getPixelRatio(),_=y*v,T=a*v;return Math.min(_>c?c/_:1,T>d?d/T:1)*v}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(Vr.convert(y)),this._update()}setMinZoom(y){if((y=y==null?-2:y)>=-2&&y<=this.transform.maxZoom)return this.transform.setMinZoom(y),this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y==null?22:y)>=this.transform.minZoom)return this.transform.setMaxZoom(y),this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y==null?0:y)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.setMinPitch(y),this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y==null?60:y)>180)throw new Error("maxPitch must be less than or equal to 180");if(y>=this.transform.minPitch)return this.transform.setMaxPitch(y),this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.setRenderWorldCopies(y),this._update()}project(y){return this.transform.locationToScreenPoint(i.S.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.screenPointToLocation(i.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,a,c){if(y==="mouseenter"||y==="mouseover"){let d=!1;return{layers:a,listener:c,delegates:{mousemove:_=>{let T=a.filter(R=>this.getLayer(R)),M=T.length!==0?this.queryRenderedFeatures(_.point,{layers:T}):[];M.length?d||(d=!0,c.call(this,new fo(y,this,_.originalEvent,{features:M}))):d=!1},mouseout:()=>{d=!1}}}}if(y==="mouseleave"||y==="mouseout"){let d=!1;return{layers:a,listener:c,delegates:{mousemove:T=>{let M=a.filter(R=>this.getLayer(R));(M.length!==0?this.queryRenderedFeatures(T.point,{layers:M}):[]).length?d=!0:d&&(d=!1,c.call(this,new fo(y,this,T.originalEvent)))},mouseout:T=>{d&&(d=!1,c.call(this,new fo(y,this,T.originalEvent)))}}}}{let d=v=>{let _=a.filter(M=>this.getLayer(M)),T=_.length!==0?this.queryRenderedFeatures(v.point,{layers:_}):[];T.length&&(v.features=T,c.call(this,v),delete v.features)};return{layers:a,listener:c,delegates:{[y]:d}}}}_saveDelegatedListener(y,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(a)}_removeDelegatedListener(y,a,c){if(!this._delegatedListeners||!this._delegatedListeners[y])return;let d=this._delegatedListeners[y];for(let v=0;v<d.length;v++){let _=d[v];if(_.listener===c&&_.layers.length===a.length&&_.layers.every(T=>a.includes(T))){for(let T in _.delegates)this.off(T,_.delegates[T]);return void d.splice(v,1)}}}on(y,a,c){if(c===void 0)return super.on(y,a);let d=typeof a=="string"?[a]:a,v=this._createDelegatedListener(y,d,c);this._saveDelegatedListener(y,v);for(let _ in v.delegates)this.on(_,v.delegates[_]);return{unsubscribe:()=>{this._removeDelegatedListener(y,d,c)}}}once(y,a,c){if(c===void 0)return super.once(y,a);let d=typeof a=="string"?[a]:a,v=this._createDelegatedListener(y,d,c);for(let _ in v.delegates){let T=v.delegates[_];v.delegates[_]=(...M)=>{this._removeDelegatedListener(y,d,c),T(...M)}}this._saveDelegatedListener(y,v);for(let _ in v.delegates)this.once(_,v.delegates[_]);return this}off(y,a,c){return c===void 0?super.off(y,a):(this._removeDelegatedListener(y,typeof a=="string"?[a]:a,c),this)}queryRenderedFeatures(y,a){if(!this.style)return[];let c,d=y instanceof i.P||Array.isArray(y),v=d?y:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(d?{}:y)||{},v instanceof i.P||typeof v[0]=="number")c=[i.P.convert(v)];else{let _=i.P.convert(v[0]),T=i.P.convert(v[1]);c=[_,new i.P(T.x,_.y),T,new i.P(_.x,T.y),_]}return this.style.queryRenderedFeatures(c,a,this.transform)}querySourceFeatures(y,a){return this.style.querySourceFeatures(y,a)}setStyle(y,a){return(a=i.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(y,a))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){let a=this._locale[y];if(a==null)throw new Error(`Missing UI string '${y}'`);return a}_updateStyle(y,a){var c,d;if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,a));let v=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new py(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,a,v):this.style.loadJSON(y,a,v),this):((d=(c=this.style)===null||c===void 0?void 0:c.projection)===null||d===void 0||d.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new py(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,a){if(typeof y=="string"){let c=this._requestManager.transformRequest(y,"Style");i.j(c,new AbortController).then(d=>{this._updateDiff(d.data,a)}).catch(d=>{d&&this.fire(new i.k(d))})}else typeof y=="object"&&this._updateDiff(y,a)}_updateDiff(y,a){try{this.style.setState(y,a)&&this._update(!0)}catch(c){i.w(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(y,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():i.w("There is no style added to the map.")}addSource(y,a){return this._lazyInitEmptyStyle(),this.style.addSource(y,a),this._update(!0)}isSourceLoaded(y){let a=this.style&&this.style.sourceCaches[y];if(a!==void 0)return a.loaded();this.fire(new i.k(new Error(`There is no source with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){let a=this.style.sourceCaches[y.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);this.terrain===null&&a.reload();for(let c in this.style._layers){let d=this.style._layers[c];d.type==="hillshade"&&d.source===y.source&&i.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),d.type==="color-relief"&&d.source===y.source&&i.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new yt(this.painter,a,y),this.painter.renderToTexture=new Kd(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=c=>{var d;c.dataType==="style"?this.terrain.sourceCache.freeRtt():c.dataType==="source"&&c.tile&&(c.sourceId!==y.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((d=c.source)===null||d===void 0?void 0:d.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(c.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new i.l("terrain",{terrain:y})),this}getTerrain(){var y,a;return(a=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let y=this.style&&this.style.sourceCaches;for(let a in y){let c=y[a]._tiles;for(let d in c){let v=c[d];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}setSourceTileLodParams(y,a,c){if(c){let d=this.getSource(c);if(!d)throw new Error(`There is no source with ID "${c}", cannot set LOD parameters`);d.calculateTileZoom=Ve(Math.max(1,y),Math.max(1,a))}else for(let d in this.style.sourceCaches)this.style.sourceCaches[d].getSource().calculateTileZoom=Ve(Math.max(1,y),Math.max(1,a));return this._update(!0),this}refreshTiles(y,a){let c=this.style.sourceCaches[y];if(!c)throw new Error(`There is no source cache with ID "${y}", cannot refresh tile`);a===void 0?c.reload(!0):c.refreshTiles(a.map(d=>new i.a4(d.z,d.x,d.y)))}addImage(y,a,c={}){let{pixelRatio:d=1,sdf:v=!1,stretchX:_,stretchY:T,content:M,textFitWidth:R,textFitHeight:k}=c;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||i.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new i.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:N,height:j,data:z}=a,V=a;return this.style.addImage(y,{data:new i.R({width:N,height:j},new Uint8Array(z)),pixelRatio:d,stretchX:_,stretchY:T,content:M,textFitWidth:R,textFitHeight:k,sdf:v,version:0,userImage:V}),V.onAdd&&V.onAdd(this,y),this}}{let{width:N,height:j,data:z}=C.getImageData(a);this.style.addImage(y,{data:new i.R({width:N,height:j},z),pixelRatio:d,stretchX:_,stretchY:T,content:M,textFitWidth:R,textFitHeight:k,sdf:v,version:0})}}updateImage(y,a){let c=this.style.getImage(y);if(!c)return this.fire(new i.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let d=a instanceof HTMLImageElement||i.b(a)?C.getImageData(a):a,{width:v,height:_,data:T}=d;if(v===void 0||_===void 0)return this.fire(new i.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==c.data.width||_!==c.data.height)return this.fire(new i.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let M=!(a instanceof HTMLImageElement||i.b(a));return c.data.replace(T,M),this.style.updateImage(y,c),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new i.k(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y){return Q.getImage(this._requestManager.transformRequest(y,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(y,a){return this._lazyInitEmptyStyle(),this.style.addLayer(y,a),this._update(!0)}moveLayer(y,a){return this.style.moveLayer(y,a),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,a,c){return this.style.setLayerZoomRange(y,a,c),this._update(!0)}setFilter(y,a,c={}){return this.style.setFilter(y,a,c),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,a,c,d={}){return this.style.setPaintProperty(y,a,c,d),this._update(!0)}getPaintProperty(y,a){return this.style.getPaintProperty(y,a)}setLayoutProperty(y,a,c,d={}){return this.style.setLayoutProperty(y,a,c,d),this._update(!0)}getLayoutProperty(y,a){return this.style.getLayoutProperty(y,a)}setGlyphs(y,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,a,c={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,a,c,d=>{d||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,a,c=>{c||this._update(!0)}),this}setLight(y,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(y,a={}){return this._lazyInitEmptyStyle(),this.style.setSky(y,a),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(y,a){return this.style.setFeatureState(y,a),this._update()}removeFeatureState(y,a){return this.style.removeFeatureState(y,a),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,a=0;return this._container&&(y=this._container.clientWidth||400,a=this._container.clientHeight||300),[y,a]}_setupContainer(){let y=this._container;y.classList.add("maplibregl-map");let a=this._canvasContainer=q.create("div","maplibregl-canvas-container",y);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=q.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let c=this._containerDimensions(),d=this._getClampedPixelRatio(c[0],c[1]);this._resizeCanvas(c[0],c[1],d);let v=this._controlContainer=q.create("div","maplibregl-control-container",y),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{_[T]=q.create("div",`maplibregl-ctrl-${T} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,a,c){this._canvas.width=Math.floor(c*y),this._canvas.height=Math.floor(c*a),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let y=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),a=null;this._canvas.addEventListener("webglcontextcreationerror",d=>{a={requestedAttributes:y},d&&(a.statusMessage=d.statusMessage,a.type=d.type)},{once:!0});let c=null;if(c=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,y):this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y),!c){let d="Failed to initialize WebGL";throw a?(a.message=d,new Error(JSON.stringify(a))):new Error(d)}this.painter=new uw(c,this.transform),L.testSupport(c)}migrateProjection(y,a){super.migrateProjection(y,a),this.painter.transform=y,this.fire(new i.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){var a,c,d,v,_;let T=this._idleTriggered?this._fadeDuration:0,M=((a=this.style.projection)===null||a===void 0?void 0:a.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let R=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let j=this.transform.zoom,z=C.now();this.style.zoomHistory.update(j,z);let V=new i.F(j,{now:z,fadeDuration:T,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),K=V.crossFadingFactor();K===1&&K===this._crossFadingFactor||(R=!0,this._crossFadingFactor=K),this.style.update(V)}let k=((c=this.style.projection)===null||c===void 0?void 0:c.transitionState)>0!==M;(d=this.style.projection)===null||d===void 0||d.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((v=this.style.projection)===null||v===void 0?void 0:v.transitionState,(_=this.style.projection)===null||_===void 0?void 0:_.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||k)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,T,this._crossSourceCollisions,k),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:T,showPadding:this.showPadding}),this.fire(new i.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,i.cw.mark(i.cx.load),this.fire(new i.l("load"))),this.style&&(this.style.hasTransitions()||R)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let N=this._sourcesDirty||this._styleDirty||this._placementDirty;return N||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.l("idle")),!this._loaded||this._fullyLoaded||N||(this._fullyLoaded=!0,i.cw.mark(i.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(let c of this._controls)c.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),Q.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),q.remove(this._canvasContainer),q.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),i.cw.clearMetrics(),this._removed=!0,this.fire(new i.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,C.frame(this._frameRequest,y=>{i.cw.frame(y),this._frameRequest=null;try{this._render(y)}catch(a){if(!i.cy(a)&&!function(c){return c.message===Bf}(a))throw a}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return Tw}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(y){return this._lazyInitEmptyStyle(),this.style.setProjection(y),this._update(!0)}},o.MapMouseEvent=fo,o.MapTouchEvent=Uc,o.MapWheelEvent=Ny,o.Marker=Yc,o.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{let a=this._map.getZoom(),c=a===this._map.getMaxZoom(),d=a===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=d,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",d.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(a,c)=>{let d=this._map._getUIString(`NavigationControl.${c}`);a.title=d,a.setAttribute("aria-label",d)},this.options=i.e({},e2,y),this._container=q.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),q.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),q.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=q.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xf(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){q.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,a){let c=q.create("button",y,this._container);return c.type="button",c.addEventListener("click",a),c}},o.Popup=class extends i.E{constructor(y){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&q.remove(this._content),this._container&&(q.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new i.l("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=q.create("div","maplibregl-popup",this._map.getContainer()),this._tip=q.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let T of this.options.className.split(" "))this._container.classList.add(T);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=gn(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!a)return;let c=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationToScreenPoint(this._lngLat));let d=this.options.anchor,v=Jd(this.options.offset);if(!d){let T=this._container.offsetWidth,M=this._container.offsetHeight,R;R=c.y+v.bottom.y<M?["top"]:c.y>this._map.transform.height-M?["bottom"]:[],c.x<T/2?R.push("left"):c.x>this._map.transform.width-T/2&&R.push("right"),d=R.length===0?"bottom":R.join("-")}let _=c.add(v[d]);this.options.subpixelPositioning||(_=_.round()),q.setTransform(this._container,`${Yd[d]} translate(${_.x}px,${_.y}px)`),Kc(this._container,d,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=i.e(Object.create(Hy),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new i.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=i.S.convert(y),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){let a=document.createDocumentFragment(),c=document.createElement("body"),d;for(c.innerHTML=y;d=c.firstChild,d;)a.appendChild(d);return this.setDOMContent(a)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=q.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){return this._container&&this._container.classList.add(y),this}removeClassName(y){return this._container&&this._container.classList.remove(y),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}setSubpixelPositioning(y){this.options.subpixelPositioning=y}_createCloseButton(){this.options.closeButton&&(this._closeButton=q.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let y=this._container.querySelector(Ky);y&&y.focus()}},o.RasterDEMTileSource=Qa,o.RasterTileSource=Yo,o.ScaleControl=class{constructor(y){this._onMove=()=>{Xd(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Xd(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Jf),y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=q.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){q.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},o.ScrollZoomHandler=yw,o.Style=py,o.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=y}onAdd(y){return this._map=y,this._container=q.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=q.create("button","maplibregl-ctrl-terrain",this._container),q.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){q.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},o.TwoFingersTouchPitchHandler=$d,o.TwoFingersTouchRotateHandler=Wc,o.TwoFingersTouchZoomHandler=Vd,o.TwoFingersTouchZoomRotateHandler=bw,o.VectorTileSource=co,o.VideoSource=es,o.addSourceType=(y,a)=>i._(void 0,void 0,void 0,function*(){if(ts(y))throw new Error(`A source type called "${y}" already exists.`);((c,d)=>{Ro[c]=d})(y,a)}),o.clearPrewarmedResources=function(){let y=Ur;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(Bt),Ur=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},o.createTileMesh=hy,o.getMaxParallelImageRequests=function(){return i.a.MAX_PARALLEL_IMAGE_REQUESTS},o.getRTLTextPluginStatus=function(){return Pa().getRTLTextPluginStatus()},o.getVersion=function(){return Yy},o.getWorkerCount=function(){return Nr.workerCount},o.getWorkerUrl=function(){return i.a.WORKER_URL},o.importScriptInWorkers=function(y){return rr().broadcast("IS",y)},o.prewarm=function(){Jn().acquire(Bt)},o.setMaxParallelImageRequests=function(y){i.a.MAX_PARALLEL_IMAGE_REQUESTS=y},o.setRTLTextPlugin=function(y,a){return Pa().setRTLTextPlugin(y,a)},o.setWorkerCount=function(y){Nr.workerCount=y},o.setWorkerUrl=function(y){i.a.WORKER_URL=y}});var n=e;return n})});var r1e=P((aIr,t1e)=>{h();var zU=1/0,vRt=17976931348623157e292,Wbe=NaN,gRt="[object Symbol]",yRt=/^\s+|\s+$/g,_Rt=/^[-+]0x[0-9a-f]+$/i,xRt=/^0b[01]+$/i,bRt=/^0o[0-7]+$/i,wRt=parseInt,ERt=typeof global=="object"&&global&&global.Object===Object&&global,SRt=typeof self=="object"&&self&&self.Object===Object&&self,TRt=ERt||SRt||Function("return this")(),IRt=Object.prototype,CRt=IRt.toString,Hbe=TRt.Symbol,PRt=Math.min,Kbe=Hbe?Hbe.prototype:void 0,Ybe=Kbe?Kbe.toString:void 0;function ARt(e){if(typeof e=="string")return e;if(Qbe(e))return Ybe?Ybe.call(e):"";var t=e+"";return t=="0"&&1/e==-zU?"-0":t}function MRt(e){var t=Math[e];return function(r,n){if(r=e1e(r),n=PRt(ORt(n),292),n){var o=(Jbe(r)+"e").split("e"),i=t(o[0]+"e"+(+o[1]+n));return o=(Jbe(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return t(r)}}function Xbe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function qRt(e){return!!e&&typeof e=="object"}function Qbe(e){return typeof e=="symbol"||qRt(e)&&CRt.call(e)==gRt}function RRt(e){if(!e)return e===0?e:0;if(e=e1e(e),e===zU||e===-zU){var t=e<0?-1:1;return t*vRt}return e===e?e:0}function ORt(e){var t=RRt(e),r=t%1;return t===t?r?t-r:t:0}function e1e(e){if(typeof e=="number")return e;if(Qbe(e))return Wbe;if(Xbe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xbe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(yRt,"");var r=xRt.test(e);return r||bRt.test(e)?wRt(e.slice(2),r?2:8):_Rt.test(e)?Wbe:+e}function Jbe(e){return e==null?"":ARt(e)}var LRt=MRt("round");t1e.exports=LRt});var z1e=P((cPr,F1e)=>{"use strict";h();var nOt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";F1e.exports=nOt});var V1e=P((fPr,U1e)=>{"use strict";h();var iOt=z1e();function j1e(){}function B1e(){}B1e.resetWarningCache=j1e;U1e.exports=function(){function e(n,o,i,f,g,w){if(w!==iOt){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B1e,resetWarningCache:j1e};return r.PropTypes=r,r}});var Wr=P((vPr,$1e)=>{h();$1e.exports=V1e()();var dPr,mPr});var Fg=P((Kjr,ESe)=>{h();var JDt=ESe.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=JDt)});var fu=P((Xjr,SSe)=>{h();var QDt=SSe.exports={version:"2.6.12"};typeof __e=="number"&&(__e=QDt)});var ISe=P((Qjr,TSe)=>{h();TSe.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var VP=P((tBr,CSe)=>{h();var ekt=ISe();CSe.exports=function(e,t,r){if(ekt(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}});var o1=P((nBr,PSe)=>{h();PSe.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var zg=P((oBr,ASe)=>{h();var tkt=o1();ASe.exports=function(e){if(!tkt(e))throw TypeError(e+" is not an object!");return e}});var $P=P((sBr,MSe)=>{h();MSe.exports=function(e){try{return!!e()}catch(t){return!0}}});var _f=P((uBr,qSe)=>{h();qSe.exports=!$P()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var F4=P((hBr,OSe)=>{h();var RSe=o1(),N4=Fg().document,rkt=RSe(N4)&&RSe(N4.createElement);OSe.exports=function(e){return rkt?N4.createElement(e):{}}});var z4=P((pBr,LSe)=>{h();LSe.exports=!_f()&&!$P()(function(){return Object.defineProperty(F4()("div"),"a",{get:function(){return 7}}).a!=7})});var j4=P((mBr,DSe)=>{h();var GP=o1();DSe.exports=function(e,t){if(!GP(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!GP(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!GP(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!GP(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var a1=P(NSe=>{h();var kSe=zg(),nkt=z4(),ikt=j4(),okt=Object.defineProperty;NSe.f=_f()?Object.defineProperty:function(t,r,n){if(kSe(t),r=ikt(r,!0),kSe(n),nkt)try{return okt(t,r,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var s1=P((_Br,FSe)=>{h();FSe.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var l1=P((bBr,zSe)=>{h();var akt=a1(),skt=s1();zSe.exports=_f()?function(e,t,r){return akt.f(e,t,skt(1,r))}:function(e,t,r){return e[t]=r,e}});var jg=P((EBr,jSe)=>{h();var lkt={}.hasOwnProperty;jSe.exports=function(e,t){return lkt.call(e,t)}});var xf=P((TBr,USe)=>{h();var ZP=Fg(),B4=fu(),BSe=VP(),ukt=l1(),ckt=jg(),WP="prototype",Co=function(e,t,r){var n=e&Co.F,o=e&Co.G,i=e&Co.S,f=e&Co.P,g=e&Co.B,w=e&Co.W,E=o?B4:B4[t]||(B4[t]={}),C=E[WP],q=o?ZP:i?ZP[t]:(ZP[t]||{})[WP],L,B,$;o&&(r=t);for(L in r)B=!n&&q&&q[L]!==void 0,!(B&&ckt(E,L))&&($=B?q[L]:r[L],E[L]=o&&typeof q[L]!="function"?r[L]:g&&B?BSe($,ZP):w&&q[L]==$?function(ee){var G=function(H,Q,se){if(this instanceof ee){switch(arguments.length){case 0:return new ee;case 1:return new ee(H);case 2:return new ee(H,Q)}return new ee(H,Q,se)}return ee.apply(this,arguments)};return G[WP]=ee[WP],G}($):f&&typeof $=="function"?BSe(Function.call,$):$,f&&((E.virtual||(E.virtual={}))[L]=$,e&Co.R&&C&&!C[L]&&ukt(C,L,$)))};Co.F=1;Co.G=2;Co.S=4;Co.P=8;Co.B=16;Co.W=32;Co.U=64;Co.R=128;USe.exports=Co});var U4=P((CBr,VSe)=>{h();var hkt={}.toString;VSe.exports=function(e){return hkt.call(e).slice(8,-1)}});var V4=P((ABr,$Se)=>{h();var fkt=U4();$Se.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return fkt(e)=="String"?e.split(""):Object(e)}});var HP=P((qBr,GSe)=>{h();GSe.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var u1=P((OBr,ZSe)=>{h();var pkt=V4(),dkt=HP();ZSe.exports=function(e){return pkt(dkt(e))}});var KP=P((DBr,WSe)=>{h();var mkt=Math.ceil,vkt=Math.floor;WSe.exports=function(e){return isNaN(e=+e)?0:(e>0?vkt:mkt)(e)}});var $4=P((NBr,HSe)=>{h();var gkt=KP(),ykt=Math.min;HSe.exports=function(e){return e>0?ykt(gkt(e),9007199254740991):0}});var YSe=P((zBr,KSe)=>{h();var _kt=KP(),xkt=Math.max,bkt=Math.min;KSe.exports=function(e,t){return e=_kt(e),e<0?xkt(e+t,0):bkt(e,t)}});var JSe=P((BBr,XSe)=>{h();var wkt=u1(),Ekt=$4(),Skt=YSe();XSe.exports=function(e){return function(t,r,n){var o=wkt(t),i=Ekt(o.length),f=Skt(n,i),g;if(e&&r!=r){for(;i>f;)if(g=o[f++],g!=g)return!0}else for(;i>f;f++)if((e||f in o)&&o[f]===r)return e||f||0;return!e&&-1}}});var G4=P((VBr,QSe)=>{h();QSe.exports=!0});var Z4=P((GBr,nTe)=>{h();var Tkt=fu(),eTe=Fg(),tTe="__core-js_shared__",rTe=eTe[tTe]||(eTe[tTe]={});(nTe.exports=function(e,t){return rTe[e]||(rTe[e]=t!==void 0?t:{})})("versions",[]).push({version:Tkt.version,mode:G4()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var W4=P((WBr,iTe)=>{h();var Ikt=0,Ckt=Math.random();iTe.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++Ikt+Ckt).toString(36))}});var YP=P((KBr,aTe)=>{h();var oTe=Z4()("keys"),Pkt=W4();aTe.exports=function(e){return oTe[e]||(oTe[e]=Pkt(e))}});var uTe=P((XBr,lTe)=>{h();var sTe=jg(),Akt=u1(),Mkt=JSe()(!1),qkt=YP()("IE_PROTO");lTe.exports=function(e,t){var r=Akt(e),n=0,o=[],i;for(i in r)i!=qkt&&sTe(r,i)&&o.push(i);for(;t.length>n;)sTe(r,i=t[n++])&&(~Mkt(o,i)||o.push(i));return o}});var H4=P((QBr,cTe)=>{h();cTe.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var XP=P((t3r,hTe)=>{h();var Rkt=uTe(),Okt=H4();hTe.exports=Object.keys||function(t){return Rkt(t,Okt)}});var pTe=P(fTe=>{h();fTe.f=Object.getOwnPropertySymbols});var JP=P(dTe=>{h();dTe.f={}.propertyIsEnumerable});var QP=P((s3r,mTe)=>{h();var Lkt=HP();mTe.exports=function(e){return Object(Lkt(e))}});var yTe=P((u3r,gTe)=>{"use strict";h();var Dkt=_f(),vTe=XP(),kkt=pTe(),Nkt=JP(),Fkt=QP(),zkt=V4(),eA=Object.assign;gTe.exports=!eA||$P()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(o){t[o]=o}),eA({},e)[r]!=7||Object.keys(eA({},t)).join("")!=n})?function(t,r){for(var n=Fkt(t),o=arguments.length,i=1,f=kkt.f,g=Nkt.f;o>i;)for(var w=zkt(arguments[i++]),E=f?vTe(w).concat(f(w)):vTe(w),C=E.length,q=0,L;C>q;)L=E[q++],(!Dkt||g.call(w,L))&&(n[L]=w[L]);return n}:eA});var _Te=P(()=>{h();var K4=xf();K4(K4.S+K4.F,"Object",{assign:yTe()})});var bTe=P((d3r,xTe)=>{h();_Te();xTe.exports=fu().Object.assign});var ETe=P((y3r,wTe)=>{h();var jkt=a1(),Bkt=zg(),Ukt=XP();wTe.exports=_f()?Object.defineProperties:function(t,r){Bkt(t);for(var n=Ukt(r),o=n.length,i=0,f;o>i;)jkt.f(t,f=n[i++],r[f]);return t}});var ITe=P((x3r,TTe)=>{h();var STe=Fg().document;TTe.exports=STe&&STe.documentElement});var Q4=P((w3r,PTe)=>{h();var Vkt=zg(),$kt=ETe(),CTe=H4(),Gkt=YP()("IE_PROTO"),X4=function(){},J4="prototype",tA=function(){var e=F4()("iframe"),t=CTe.length,r="<",n=">",o;for(e.style.display="none",ITe().appendChild(e),e.src="javascript:",o=e.contentWindow.document,o.open(),o.write(r+"script"+n+"document.F=Object"+r+"/script"+n),o.close(),tA=o.F;t--;)delete tA[J4][CTe[t]];return tA()};PTe.exports=Object.create||function(t,r){var n;return t!==null?(X4[J4]=Vkt(t),n=new X4,X4[J4]=null,n[Gkt]=t):n=tA(),r===void 0?n:$kt(n,r)}});var MTe=P(()=>{h();var ATe=xf();ATe(ATe.S,"Object",{create:Q4()})});var RTe=P((C3r,qTe)=>{h();MTe();var Zkt=fu().Object;qTe.exports=function(t,r){return Zkt.create(t,r)}});var DTe=P(LTe=>{h();var Wkt=JP(),Hkt=s1(),Kkt=u1(),Ykt=j4(),Xkt=jg(),Jkt=z4(),OTe=Object.getOwnPropertyDescriptor;LTe.f=_f()?OTe:function(t,r){if(t=Kkt(t),r=Ykt(r,!0),Jkt)try{return OTe(t,r)}catch(n){}if(Xkt(t,r))return Hkt(!Wkt.f.call(t,r),t[r])}});var FTe=P((q3r,NTe)=>{h();var Qkt=o1(),eNt=zg(),kTe=function(e,t){if(eNt(e),!Qkt(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};NTe.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=VP()(Function.call,DTe().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(o,i){return kTe(o,i),t?o.__proto__=i:r(o,i),o}}({},!1):void 0),check:kTe}});var jTe=P(()=>{h();var zTe=xf();zTe(zTe.S,"Object",{setPrototypeOf:FTe().set})});var UTe=P((k3r,BTe)=>{h();jTe();BTe.exports=fu().Object.setPrototypeOf});var Ea=P((G3r,nA)=>{h();(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var o="",i=0;i<arguments.length;i++){var f=arguments[i];f&&(o=n(o,r(f)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var f in o)e.call(o,f)&&o[f]&&(i=n(i,f));return i}function n(o,i){return i?o?o+" "+i:o+i:o}typeof nA!="undefined"&&nA.exports?(t.default=t,nA.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var iA=P((X3r,$Te)=>{"use strict";h();var tNt=function(e,t,r,n,o,i,f,g){if(!e){var w;if(t===void 0)w=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[r,n,o,i,f,g],C=0;w=new Error(t.replace(/%s/g,function(){return E[C++]})),w.name="Invariant Violation"}throw w.framesToPop=1,w}};$Te.exports=tNt});var o5=P(i5=>{"use strict";h();Object.defineProperty(i5,"__esModule",{value:!0});function KTe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function YTe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function XTe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}KTe.__suppressDeprecationWarning=!0;YTe.__suppressDeprecationWarning=!0;XTe.__suppressDeprecationWarning=!0;function nNt(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,o=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),r!==null||n!==null||o!==null){var i=e.displayName||e.name,f=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+f+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=KTe,t.componentWillReceiveProps=YTe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=XTe;var g=t.componentDidUpdate;t.componentDidUpdate=function(E,C,q){var L=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:q;g.call(this,E,C,L)}}return e}i5.polyfill=nNt});var a5=P((SUr,eIe)=>{h();var oNt=_f(),aNt=XP(),sNt=u1(),lNt=JP().f;eIe.exports=function(e){return function(t){for(var r=sNt(t),n=aNt(r),o=n.length,i=0,f=[],g;o>i;)g=n[i++],(!oNt||lNt.call(r,g))&&f.push(e?[g,r[g]]:r[g]);return f}}});var rIe=P(()=>{h();var tIe=xf(),uNt=a5()(!0);tIe(tIe.S,"Object",{entries:function(t){return uNt(t)}})});var iIe=P((AUr,nIe)=>{h();rIe();nIe.exports=fu().Object.entries});var s5=P((qUr,oIe)=>{h();oIe.exports=iIe()});var f1=P((lA,hIe)=>{"use strict";h();Object.defineProperty(lA,"__esModule",{value:!0});lA.default=yNt;function yNt(e){function t(n,o,i,f,g,w){var E=f||"<<anonymous>>",C=w||i;if(o[i]==null)return n?new Error("Required "+g+" `"+C+"` was not specified "+("in `"+E+"`.")):null;for(var q=arguments.length,L=Array(q>6?q-6:0),B=6;B<q;B++)L[B-6]=arguments[B];return e.apply(void 0,[o,i,E,g,C].concat(L))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}hIe.exports=lA.default});var mIe=P(()=>{h();var dIe=xf(),_Nt=a5()(!1);dIe(dIe.S,"Object",{values:function(t){return _Nt(t)}})});var gIe=P((KUr,vIe)=>{h();mIe();vIe.exports=fu().Object.values});var _Ie=P((XUr,yIe)=>{h();yIe.exports=gIe()});var wIe=P(Br=>{"use strict";h();var zi=typeof Symbol=="function"&&Symbol.for,d5=zi?Symbol.for("react.element"):60103,m5=zi?Symbol.for("react.portal"):60106,cA=zi?Symbol.for("react.fragment"):60107,hA=zi?Symbol.for("react.strict_mode"):60108,fA=zi?Symbol.for("react.profiler"):60114,pA=zi?Symbol.for("react.provider"):60109,dA=zi?Symbol.for("react.context"):60110,v5=zi?Symbol.for("react.async_mode"):60111,mA=zi?Symbol.for("react.concurrent_mode"):60111,vA=zi?Symbol.for("react.forward_ref"):60112,gA=zi?Symbol.for("react.suspense"):60113,wNt=zi?Symbol.for("react.suspense_list"):60120,yA=zi?Symbol.for("react.memo"):60115,_A=zi?Symbol.for("react.lazy"):60116,ENt=zi?Symbol.for("react.block"):60121,SNt=zi?Symbol.for("react.fundamental"):60117,TNt=zi?Symbol.for("react.responder"):60118,INt=zi?Symbol.for("react.scope"):60119;function Ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case d5:switch(e=e.type,e){case v5:case mA:case cA:case fA:case hA:case gA:return e;default:switch(e=e&&e.$$typeof,e){case dA:case vA:case _A:case yA:case pA:return e;default:return t}}case m5:return t}}}function bIe(e){return Ya(e)===mA}Br.AsyncMode=v5;Br.ConcurrentMode=mA;Br.ContextConsumer=dA;Br.ContextProvider=pA;Br.Element=d5;Br.ForwardRef=vA;Br.Fragment=cA;Br.Lazy=_A;Br.Memo=yA;Br.Portal=m5;Br.Profiler=fA;Br.StrictMode=hA;Br.Suspense=gA;Br.isAsyncMode=function(e){return bIe(e)||Ya(e)===v5};Br.isConcurrentMode=bIe;Br.isContextConsumer=function(e){return Ya(e)===dA};Br.isContextProvider=function(e){return Ya(e)===pA};Br.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===d5};Br.isForwardRef=function(e){return Ya(e)===vA};Br.isFragment=function(e){return Ya(e)===cA};Br.isLazy=function(e){return Ya(e)===_A};Br.isMemo=function(e){return Ya(e)===yA};Br.isPortal=function(e){return Ya(e)===m5};Br.isProfiler=function(e){return Ya(e)===fA};Br.isStrictMode=function(e){return Ya(e)===hA};Br.isSuspense=function(e){return Ya(e)===gA};Br.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cA||e===mA||e===fA||e===hA||e===gA||e===wNt||typeof e=="object"&&e!==null&&(e.$$typeof===_A||e.$$typeof===yA||e.$$typeof===pA||e.$$typeof===dA||e.$$typeof===vA||e.$$typeof===SNt||e.$$typeof===TNt||e.$$typeof===INt||e.$$typeof===ENt)};Br.typeOf=Ya});var SIe=P((a4r,EIe)=>{"use strict";h();EIe.exports=wIe()});var Tc=P((xA,IIe)=>{"use strict";h();Object.defineProperty(xA,"__esModule",{value:!0});var CNt=ar(),PNt=TIe(CNt),ANt=SIe(),MNt=f1(),qNt=TIe(MNt);function TIe(e){return e&&e.__esModule?e:{default:e}}function RNt(e,t,r,n,o){var i=e[t];return PNt.default.isValidElement(i)?new Error("Invalid "+n+" `"+o+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,ANt.isValidElementType)(i)?null:new Error("Invalid "+n+" `"+o+"` of value `"+i+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}xA.default=(0,qNt.default)(RNt);IIe.exports=xA.default});var EA=P((wA,qIe)=>{"use strict";h();Object.defineProperty(wA,"__esModule",{value:!0});wA.default=BNt;var FNt=f1(),zNt=jNt(FNt);function jNt(e){return e&&e.__esModule?e:{default:e}}function BNt(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var o=arguments.length,i=Array(o),f=0;f<o;f++)i[f]=arguments[f];var g=null;return t.forEach(function(w){if(g==null){var E=w.apply(void 0,i);E!=null&&(g=E)}}),g}return(0,zNt.default)(n)}qIe.exports=wA.default});var E5=P((L4r,DIe)=>{"use strict";h();var $Nt=function(){};DIe.exports=$Nt});var Ao=P((k4r,d1)=>{h();function GNt(e){return e&&e.__esModule?e:{default:e}}d1.exports=GNt,d1.exports.__esModule=!0,d1.exports.default=d1.exports});var NIe=P((TA,kIe)=>{"use strict";h();TA.__esModule=!0;TA.default=WNt;var ZNt=/-(.)/g;function WNt(e){return e.replace(ZNt,function(t,r){return r.toUpperCase()})}kIe.exports=TA.default});var S5=P((IA,FIe)=>{"use strict";h();var HNt=Ao();IA.__esModule=!0;IA.default=XNt;var KNt=HNt(NIe()),YNt=/^-ms-/;function XNt(e){return(0,KNt.default)(e.replace(YNt,"ms-"))}FIe.exports=IA.default});var jIe=P((CA,zIe)=>{"use strict";h();CA.__esModule=!0;CA.default=QNt;var JNt=/([A-Z])/g;function QNt(e){return e.replace(JNt,"-$1").toLowerCase()}zIe.exports=CA.default});var UIe=P((PA,BIe)=>{"use strict";h();var eFt=Ao();PA.__esModule=!0;PA.default=nFt;var tFt=eFt(jIe()),rFt=/^ms-/;function nFt(e){return(0,tFt.default)(e).replace(rFt,"-ms-")}BIe.exports=PA.default});var $Ie=P((AA,VIe)=>{"use strict";h();var iFt=Ao();AA.__esModule=!0;AA.default=lFt;var oFt=iFt(S5()),aFt=/^(top|right|bottom|left)$/,sFt=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function lFt(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var o=e.style;n=(0,oFt.default)(n),n=="float"&&(n="styleFloat");var i=e.currentStyle[n]||null;if(i==null&&o&&o[n]&&(i=o[n]),sFt.test(i)&&!aFt.test(n)){var f=o.left,g=e.runtimeStyle,w=g&&g.left;w&&(g.left=e.currentStyle.left),o.left=n==="fontSize"?"1em":i,i=o.pixelLeft+"px",o.left=f,w&&(g.left=w)}return i}}}VIe.exports=AA.default});var ZIe=P((MA,GIe)=>{"use strict";h();MA.__esModule=!0;MA.default=uFt;function uFt(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}GIe.exports=MA.default});var mu=P((m1,WIe)=>{"use strict";h();m1.__esModule=!0;m1.default=void 0;var cFt=!!(typeof window!="undefined"&&window.document&&window.document.createElement);m1.default=cFt;WIe.exports=m1.default});var QIe=P(ur=>{"use strict";h();var hFt=Ao();ur.__esModule=!0;ur.default=ur.animationEnd=ur.animationDelay=ur.animationTiming=ur.animationDuration=ur.animationName=ur.transitionEnd=ur.transitionDuration=ur.transitionDelay=ur.transitionTiming=ur.transitionProperty=ur.transform=void 0;var fFt=hFt(mu()),RA="transform";ur.transform=RA;var vu,T5,HIe;ur.animationEnd=HIe;ur.transitionEnd=T5;var I5,C5,P5,A5;ur.transitionDelay=A5;ur.transitionTiming=P5;ur.transitionDuration=C5;ur.transitionProperty=I5;var KIe,YIe,XIe,JIe;ur.animationDelay=JIe;ur.animationTiming=XIe;ur.animationDuration=YIe;ur.animationName=KIe;fFt.default&&(qA=dFt(),vu=qA.prefix,ur.transitionEnd=T5=qA.transitionEnd,ur.animationEnd=HIe=qA.animationEnd,ur.transform=RA=vu+"-"+RA,ur.transitionProperty=I5=vu+"-transition-property",ur.transitionDuration=C5=vu+"-transition-duration",ur.transitionDelay=A5=vu+"-transition-delay",ur.transitionTiming=P5=vu+"-transition-timing-function",ur.animationName=KIe=vu+"-animation-name",ur.animationDuration=YIe=vu+"-animation-duration",ur.animationTiming=XIe=vu+"-animation-delay",ur.animationDelay=JIe=vu+"-animation-timing-function");var qA,pFt={transform:RA,end:T5,property:I5,timing:P5,delay:A5,duration:C5};ur.default=pFt;function dFt(){for(var e=document.createElement("div").style,t={O:function(E){return"o"+E.toLowerCase()},Moz:function(E){return E.toLowerCase()},Webkit:function(E){return"webkit"+E},ms:function(E){return"MS"+E}},r=Object.keys(t),n,o,i="",f=0;f<r.length;f++){var g=r[f];if(g+"TransitionProperty"in e){i="-"+g.toLowerCase(),n=t[g]("TransitionEnd"),o=t[g]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!o&&"animationName"in e&&(o="animationend"),e=null,{animationEnd:o,transitionEnd:n,prefix:i}}});var tCe=P((OA,eCe)=>{"use strict";h();OA.__esModule=!0;OA.default=vFt;var mFt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vFt(e){return!!(e&&mFt.test(e))}eCe.exports=OA.default});var nCe=P((LA,rCe)=>{"use strict";h();var v1=Ao();LA.__esModule=!0;LA.default=wFt;var gFt=v1(S5()),M5=v1(UIe()),yFt=v1($Ie()),_Ft=v1(ZIe()),xFt=QIe(),bFt=v1(tCe());function wFt(e,t,r){var n="",o="",i=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,gFt.default)(t)]||(0,yFt.default)(e).getPropertyValue((0,M5.default)(t));(i={})[t]=r}Object.keys(i).forEach(function(f){var g=i[f];!g&&g!==0?(0,_Ft.default)(e,(0,M5.default)(f)):(0,bFt.default)(f)?o+=f+"("+g+") ":n+=(0,M5.default)(f)+": "+g+";"}),o&&(n+=xFt.transform+": "+o+";"),e.style.cssText+=";"+n}rCe.exports=LA.default});var iCe=P(Gg=>{"use strict";h();Gg.__esModule=!0;Gg.classNamesShape=Gg.timeoutsShape=void 0;var K4r=EFt(Wr());function EFt(e){return e&&e.__esModule?e:{default:e}}var SFt=null;Gg.timeoutsShape=SFt;var TFt=null;Gg.classNamesShape=TFt});var aCe=P(Ta=>{"use strict";h();Ta.__esModule=!0;Ta.default=Ta.EXITING=Ta.ENTERED=Ta.ENTERING=Ta.EXITED=Ta.UNMOUNTED=void 0;var IFt=AFt(Wr()),q5=oCe(ar()),CFt=oCe(ys()),PFt=o5(),J4r=iCe();function oCe(e){return e&&e.__esModule?e:{default:e}}function AFt(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function MFt(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function qFt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g1="unmounted";Ta.UNMOUNTED=g1;var cd="exited";Ta.EXITED=cd;var hd="entering";Ta.ENTERING=hd;var Wg="entered";Ta.ENTERED=Wg;var R5="exiting";Ta.EXITING=R5;var gu=function(e){qFt(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var f=o.transitionGroup,g=f&&!f.isMounting?n.enter:n.appear,w;return i.appearStatus=null,n.in?g?(w=cd,i.appearStatus=hd):w=Wg:n.unmountOnExit||n.mountOnEnter?w=g1:w=cd,i.state={status:w},i.nextCallback=null,i}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(o,i){var f=o.in;return f&&i.status===g1?{status:cd}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var i=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==hd&&f!==Wg&&(i=hd):(f===hd||f===Wg)&&(i=R5)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,i,f,g;return i=f=g=o,o!=null&&typeof o!="number"&&(i=o.exit,f=o.enter,g=o.appear!==void 0?o.appear:f),{exit:i,enter:f,appear:g}},r.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null){this.cancelNextCallback();var f=CFt.default.findDOMNode(this);i===hd?this.performEnter(f,o):this.performExit(f)}else this.props.unmountOnExit&&this.state.status===cd&&this.setState({status:g1})},r.performEnter=function(o,i){var f=this,g=this.props.enter,w=this.context.transitionGroup?this.context.transitionGroup.isMounting:i,E=this.getTimeouts(),C=w?E.appear:E.enter;if(!i&&!g){this.safeSetState({status:Wg},function(){f.props.onEntered(o)});return}this.props.onEnter(o,w),this.safeSetState({status:hd},function(){f.props.onEntering(o,w),f.onTransitionEnd(o,C,function(){f.safeSetState({status:Wg},function(){f.props.onEntered(o,w)})})})},r.performExit=function(o){var i=this,f=this.props.exit,g=this.getTimeouts();if(!f){this.safeSetState({status:cd},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:R5},function(){i.props.onExiting(o),i.onTransitionEnd(o,g.exit,function(){i.safeSetState({status:cd},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},r.setNextCallback=function(o){var i=this,f=!0;return this.nextCallback=function(g){f&&(f=!1,i.nextCallback=null,o(g))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},r.onTransitionEnd=function(o,i,f){this.setNextCallback(f);var g=i==null&&!this.props.addEndListener;if(!o||g){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(o,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var o=this.state.status;if(o===g1)return null;var i=this.props,f=i.children,g=MFt(i,["children"]);if(delete g.in,delete g.mountOnEnter,delete g.unmountOnExit,delete g.appear,delete g.enter,delete g.exit,delete g.timeout,delete g.addEndListener,delete g.onEnter,delete g.onEntering,delete g.onEntered,delete g.onExit,delete g.onExiting,delete g.onExited,typeof f=="function")return f(o,g);var w=q5.default.Children.only(f);return q5.default.cloneElement(w,g)},t}(q5.default.Component);gu.contextTypes={transitionGroup:IFt.object};gu.childContextTypes={transitionGroup:function(){}};gu.propTypes={};function Zg(){}gu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zg,onEntering:Zg,onEntered:Zg,onExit:Zg,onExiting:Zg,onExited:Zg};gu.UNMOUNTED=0;gu.EXITED=1;gu.ENTERING=2;gu.ENTERED=3;gu.EXITING=4;var RFt=(0,PFt.polyfill)(gu);Ta.default=RFt});var y1=P((DA,sCe)=>{"use strict";h();DA.__esModule=!0;DA.default=OFt;function OFt(e){return e&&e.ownerDocument||document}sCe.exports=DA.default});var O5=P((kA,lCe)=>{"use strict";h();var LFt=Ao();kA.__esModule=!0;kA.default=kFt;var DFt=LFt(y1());function kFt(e){e===void 0&&(e=(0,DFt.default)());try{return e.activeElement}catch(t){}}lCe.exports=kA.default});var x1=P((_1,cCe)=>{"use strict";h();var NFt=Ao();_1.__esModule=!0;_1.default=void 0;var FFt=NFt(mu()),zFt=function(){return FFt.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):uCe(e,t)}:uCe}();_1.default=zFt;function uCe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}cCe.exports=_1.default});var D5=P((fd,pCe)=>{h();function hCe(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return fCe[e];var r=String(e),n=Cc[r.toLowerCase()];if(n)return n;var n=NA[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}hCe.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var o=Cc[r.toLowerCase()];if(o)return o===n;var o=NA[r.toLowerCase()];if(o)return o===n}else if(typeof r=="number")return r===n;return!1}};fd=pCe.exports=hCe;var Cc=fd.code=fd.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},NA=fd.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(An=97;An<123;An++)Cc[String.fromCharCode(An)]=An-32;for(An=48;An<58;An++)Cc[An-48]=An;var An;for(An=1;An<13;An++)Cc["f"+An]=An+111;for(An=0;An<10;An++)Cc["numpad "+An]=An+96;var fCe=fd.names=fd.title={};for(An in Cc)fCe[Cc[An]]=An;for(L5 in NA)Cc[L5]=NA[L5];var L5});var mCe=P((FA,dCe)=>{"use strict";h();Object.defineProperty(FA,"__esModule",{value:!0});FA.default=jFt;function jFt(e){return function(r,n,o,i,f){var g=o||"<<anonymous>>",w=f||n;if(r[n]==null)return new Error("The "+i+" `"+w+"` is required to make "+("`"+g+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var E=arguments.length,C=Array(E>5?E-5:0),q=5;q<E;q++)C[q-5]=arguments[q];return e.apply(void 0,[r,n,o,i,f].concat(C))}}dCe.exports=FA.default});var gCe=P((a5r,vCe)=>{h();var BFt=KP(),UFt=HP();vCe.exports=function(e){return function(t,r){var n=String(UFt(t)),o=BFt(r),i=n.length,f,g;return o<0||o>=i?e?"":void 0:(f=n.charCodeAt(o),f<55296||f>56319||o+1===i||(g=n.charCodeAt(o+1))<56320||g>57343?e?n.charAt(o):f:e?n.slice(o,o+2):(f-55296<<10)+(g-56320)+65536)}}});var _Ce=P((l5r,yCe)=>{h();yCe.exports=l1()});var zA=P((c5r,xCe)=>{h();xCe.exports={}});var wf=P((f5r,wCe)=>{h();var k5=Z4()("wks"),VFt=W4(),N5=Fg().Symbol,bCe=typeof N5=="function",$Ft=wCe.exports=function(e){return k5[e]||(k5[e]=bCe&&N5[e]||(bCe?N5:VFt)("Symbol."+e))};$Ft.store=k5});var F5=P((d5r,SCe)=>{h();var GFt=a1().f,ZFt=jg(),ECe=wf()("toStringTag");SCe.exports=function(e,t,r){e&&!ZFt(e=r?e:e.prototype,ECe)&&GFt(e,ECe,{configurable:!0,value:t})}});var CCe=P((v5r,ICe)=>{"use strict";h();var WFt=Q4(),HFt=s1(),KFt=F5(),TCe={};l1()(TCe,wf()("iterator"),function(){return this});ICe.exports=function(e,t,r){e.prototype=WFt(TCe,{next:HFt(1,r)}),KFt(e,t+" Iterator")}});var MCe=P((y5r,ACe)=>{h();var YFt=jg(),XFt=QP(),PCe=YP()("IE_PROTO"),JFt=Object.prototype;ACe.exports=Object.getPrototypeOf||function(e){return e=XFt(e),YFt(e,PCe)?e[PCe]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?JFt:null}});var NCe=P((x5r,kCe)=>{"use strict";h();var qCe=G4(),z5=xf(),QFt=_Ce(),RCe=l1(),OCe=zA(),ezt=CCe(),tzt=F5(),rzt=MCe(),b1=wf()("iterator"),j5=!([].keys&&"next"in[].keys()),nzt="@@iterator",LCe="keys",jA="values",DCe=function(){return this};kCe.exports=function(e,t,r,n,o,i,f){ezt(r,t,n);var g=function(se){if(!j5&&se in q)return q[se];switch(se){case LCe:return function(){return new r(this,se)};case jA:return function(){return new r(this,se)}}return function(){return new r(this,se)}},w=t+" Iterator",E=o==jA,C=!1,q=e.prototype,L=q[b1]||q[nzt]||o&&q[o],B=L||g(o),$=o?E?g("entries"):B:void 0,ee=t=="Array"&&q.entries||L,G,H,Q;if(ee&&(Q=rzt(ee.call(new e)),Q!==Object.prototype&&Q.next&&(tzt(Q,w,!0),!qCe&&typeof Q[b1]!="function"&&RCe(Q,b1,DCe))),E&&L&&L.name!==jA&&(C=!0,B=function(){return L.call(this)}),(!qCe||f)&&(j5||C||!q[b1])&&RCe(q,b1,B),OCe[t]=B,OCe[w]=DCe,o)if(G={values:E?B:g(jA),keys:i?B:g(LCe),entries:$},f)for(H in G)H in q||QFt(q,H,G[H]);else z5(z5.P+z5.F*(j5||C),t,G);return G}});var FCe=P(()=>{"use strict";h();var izt=gCe()(!0);NCe()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=izt(e,t),this._i+=r.length,{value:r,done:!1})})});var BCe=P((T5r,jCe)=>{h();var zCe=zg();jCe.exports=function(e,t,r,n){try{return n?t(zCe(r)[0],r[1]):t(r)}catch(i){var o=e.return;throw o!==void 0&&zCe(o.call(e)),i}}});var VCe=P((C5r,UCe)=>{h();var ozt=zA(),azt=wf()("iterator"),szt=Array.prototype;UCe.exports=function(e){return e!==void 0&&(ozt.Array===e||szt[azt]===e)}});var GCe=P((A5r,$Ce)=>{"use strict";h();var lzt=a1(),uzt=s1();$Ce.exports=function(e,t,r){t in e?lzt.f(e,t,uzt(0,r)):e[t]=r}});var WCe=P((q5r,ZCe)=>{h();var B5=U4(),czt=wf()("toStringTag"),hzt=B5(function(){return arguments}())=="Arguments",fzt=function(e,t){try{return e[t]}catch(r){}};ZCe.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=fzt(t=Object(e),czt))=="string"?r:hzt?B5(t):(n=B5(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var KCe=P((O5r,HCe)=>{h();var pzt=WCe(),dzt=wf()("iterator"),mzt=zA();HCe.exports=fu().getIteratorMethod=function(e){if(e!=null)return e[dzt]||e["@@iterator"]||mzt[pzt(e)]}});var JCe=P((D5r,XCe)=>{h();var V5=wf()("iterator"),YCe=!1;try{U5=[7][V5](),U5.return=function(){YCe=!0},Array.from(U5,function(){throw 2})}catch(e){}var U5;XCe.exports=function(e,t){if(!t&&!YCe)return!1;var r=!1;try{var n=[7],o=n[V5]();o.next=function(){return{done:r=!0}},n[V5]=function(){return o},e(n)}catch(i){}return r}});var ePe=P(()=>{"use strict";h();var vzt=VP(),$5=xf(),gzt=QP(),yzt=BCe(),_zt=VCe(),xzt=$4(),QCe=GCe(),bzt=KCe();$5($5.S+$5.F*!JCe()(function(e){Array.from(e)}),"Array",{from:function(t){var r=gzt(t),n=typeof this=="function"?this:Array,o=arguments.length,i=o>1?arguments[1]:void 0,f=i!==void 0,g=0,w=bzt(r),E,C,q,L;if(f&&(i=vzt(i,o>2?arguments[2]:void 0,2)),w!=null&&!(n==Array&&_zt(w)))for(L=w.call(r),C=new n;!(q=L.next()).done;g++)QCe(C,g,f?yzt(L,i,[q.value,g],!0):q.value);else for(E=xzt(r.length),C=new n(E);E>g;g++)QCe(C,g,f?i(r[g],g):r[g]);return C.length=g,C}})});var rPe=P((j5r,tPe)=>{h();FCe();ePe();tPe.exports=fu().Array.from});var iPe=P((U5r,nPe)=>{h();nPe.exports=rPe()});var BA=P((w1,aPe)=>{"use strict";h();var wzt=Ao();w1.__esModule=!0;w1.default=void 0;var Ezt=wzt(mu()),oPe=function(){};Ezt.default&&(oPe=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var Szt=oPe;w1.default=Szt;aPe.exports=w1.default});var UA=P((E1,lPe)=>{"use strict";h();var Tzt=Ao();E1.__esModule=!0;E1.default=void 0;var Izt=Tzt(mu()),sPe=function(){};Izt.default&&(sPe=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var Czt=sPe;E1.default=Czt;lPe.exports=E1.default});var G5=P((VA,cPe)=>{"use strict";h();VA.__esModule=!0;VA.default=function(e,t,r,n){return(0,Azt.default)(e,t,r,n),{remove:function(){(0,qzt.default)(e,t,r,n)}}};var Pzt=BA(),Azt=uPe(Pzt),Mzt=UA(),qzt=uPe(Mzt);function uPe(e){return e&&e.__esModule?e:{default:e}}cPe.exports=VA.default});var S1=P(($A,fPe)=>{"use strict";h();$A.__esModule=!0;$A.default=function(e){return(0,Dzt.default)(Ozt.default.findDOMNode(e))};var Rzt=ys(),Ozt=hPe(Rzt),Lzt=y1(),Dzt=hPe(Lzt);function hPe(e){return e&&e.__esModule?e:{default:e}}fPe.exports=$A.default});var dPe=P((WA,pPe)=>{"use strict";h();WA.__esModule=!0;var kzt=x1(),Nzt=Hg(kzt),Fzt=Wr(),GA=Hg(Fzt),zzt=ar(),jzt=Hg(zzt),Bzt=ys(),Uzt=Hg(Bzt),Vzt=G5(),Z5=Hg(Vzt),$zt=S1(),Gzt=Hg($zt);function Hg(e){return e&&e.__esModule?e:{default:e}}function Zzt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wzt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Hzt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Kzt=27;function Yzt(e){return e.button===0}function Xzt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ZA=function(e){Hzt(t,e);function t(r,n){Zzt(this,t);var o=Wzt(this,e.call(this,r,n));return o.addEventListeners=function(){o.currentEvent=window.event;var i=o.props.event,f=(0,Gzt.default)(o);o.documentMouseCaptureListener=(0,Z5.default)(f,i,o.handleMouseCapture,!0),o.documentMouseListener=(0,Z5.default)(f,i,o.handleMouse),o.documentKeyupListener=(0,Z5.default)(f,"keyup",o.handleKeyUp)},o.removeEventListeners=function(){o.documentMouseCaptureListener&&o.documentMouseCaptureListener.remove(),o.documentMouseListener&&o.documentMouseListener.remove(),o.documentKeyupListener&&o.documentKeyupListener.remove()},o.handleMouseCapture=function(i){o.preventMouseRootClose=Xzt(i)||!Yzt(i)||(0,Nzt.default)(Uzt.default.findDOMNode(o),i.target)},o.handleMouse=function(i){if(i===o.currentEvent){o.currentEvent=void 0;return}!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(i)},o.handleKeyUp=function(i){if(i===o.currentEvent){o.currentEvent=void 0;return}i.keyCode===Kzt&&o.props.onRootClose&&o.props.onRootClose(i)},o.preventMouseRootClose=!1,o}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(jzt.default.Component);ZA.displayName="RootCloseWrapper";ZA.propTypes={onRootClose:GA.default.func,children:GA.default.element,disabled:GA.default.bool,event:GA.default.oneOf(["click","mousedown"])};ZA.defaultProps={event:"click"};WA.default=ZA;pPe.exports=WA.default});var RPe=P((eM,qPe)=>{"use strict";h();eM.__esModule=!0;eM.default=hjt;var cjt=/^[\w-]*$/,o6=Function.prototype.bind.call(Function.prototype.call,[].slice);function hjt(e,t){var r=t[0]==="#",n=t[0]===".",o=r||n?t.slice(1):t,i=cjt.test(o),f;return i?r?(e=e.getElementById?e:document,(f=e.getElementById(o))?[f]:[]):e.getElementsByClassName&&n?o6(e.getElementsByClassName(o)):o6(e.getElementsByTagName(t)):o6(e.querySelectorAll(t))}qPe.exports=eM.default});var DPe=P((tM,LPe)=>{"use strict";h();var OPe=Ao();tM.__esModule=!0;tM.default=djt;var fjt=OPe(x1()),pjt=OPe(RPe());function djt(e,t){return function(n){var o=n.currentTarget,i=n.target,f=(0,pjt.default)(o,e);f.some(function(g){return(0,fjt.default)(g,i)})&&t.call(this,n)}}LPe.exports=tM.default});var FPe=P((M1,NPe)=>{"use strict";h();var a6=Ao();M1.__esModule=!0;M1.default=void 0;var mjt=a6(mu()),vjt=a6(BA()),gjt=a6(UA()),kPe=function(){};mjt.default&&(kPe=function(t,r,n,o){return(0,vjt.default)(t,r,n,o),function(){(0,gjt.default)(t,r,n,o)}});var yjt=kPe;M1.default=yjt;NPe.exports=M1.default});var VPe=P(Ef=>{"use strict";h();var rM=Ao();Ef.__esModule=!0;Ef.default=void 0;var zPe=rM(BA());Ef.on=zPe.default;var jPe=rM(UA());Ef.off=jPe.default;var BPe=rM(DPe());Ef.filter=BPe.default;var UPe=rM(FPe());Ef.listen=UPe.default;var _jt={on:zPe.default,off:jPe.default,filter:BPe.default,listen:UPe.default};Ef.default=_jt});var s6=P((iM,$Pe)=>{"use strict";h();var xjt=Ao();iM.__esModule=!0;iM.default=wjt;var bjt=xjt(mu()),nM;function wjt(e){if((!nM&&nM!==0||e)&&bjt.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nM=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nM}$Pe.exports=iM.default});var aM=P((oM,ZPe)=>{"use strict";h();Object.defineProperty(oM,"__esModule",{value:!0});var Ejt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sjt=ar(),Tjt=GPe(Sjt),Ijt=f1(),Cjt=GPe(Ijt);function GPe(e){return e&&e.__esModule?e:{default:e}}function Pjt(e,t,r,n,o){var i=e[t],f=typeof i=="undefined"?"undefined":Ejt(i);return Tjt.default.isValidElement(i)?new Error("Invalid "+n+" `"+o+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(f!=="object"||typeof i.render!="function")&&i.nodeType!==1?new Error("Invalid "+n+" `"+o+"` of value `"+i+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}oM.default=(0,Cjt.default)(Pjt);ZPe.exports=oM.default});var YPe=P((iVr,KPe)=>{"use strict";h();var Ajt=!1,HPe=function(){};Ajt&&(WPe=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++)r[o-1]=arguments[o];var i=0,f="Warning: "+t.replace(/%s/g,function(){return r[i++]});typeof console!="undefined"&&console.error(f);try{throw new Error(f)}catch(g){}},HPe=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++)r[o-2]=arguments[o];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||WPe.apply(null,[t].concat(r))});var WPe;KPe.exports=HPe});var QPe=P((sM,JPe)=>{"use strict";h();Object.defineProperty(sM,"__esModule",{value:!0});sM.default=XPe;var Mjt=YPe(),qjt=Rjt(Mjt);function Rjt(e){return e&&e.__esModule?e:{default:e}}var l6={};function XPe(e,t){return function(n,o,i,f,g){var w=i||"<<anonymous>>",E=g||o;if(n[o]!=null){var C=i+"."+o;(0,qjt.default)(l6[C],"The "+f+" `"+E+"` of "+("`"+w+"` is deprecated. "+t+".")),l6[C]=!0}for(var q=arguments.length,L=Array(q>5?q-5:0),B=5;B<q;B++)L[B-5]=arguments[B];return e.apply(void 0,[n,o,i,f,g].concat(L))}}function Ojt(){l6={}}XPe._resetWarned=Ojt;JPe.exports=sM.default});var u6=P((lM,eAe)=>{"use strict";h();lM.__esModule=!0;lM.default=Ljt;function Ljt(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}eAe.exports=lM.default});var rAe=P((uM,tAe)=>{"use strict";h();var Djt=Ao();uM.__esModule=!0;uM.default=Njt;var kjt=Djt(u6());function Njt(e,t){e.classList?e.classList.add(t):(0,kjt.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}tAe.exports=uM.default});var oAe=P((uVr,iAe)=>{"use strict";h();function nAe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}iAe.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=nAe(t.className,r):t.setAttribute("class",nAe(t.className&&t.className.baseVal||"",r))}});var uAe=P(pd=>{"use strict";h();var c6=Ao();pd.__esModule=!0;pd.default=void 0;var aAe=c6(rAe());pd.addClass=aAe.default;var sAe=c6(oAe());pd.removeClass=sAe.default;var lAe=c6(u6());pd.hasClass=lAe.default;var Fjt={addClass:aAe.default,removeClass:sAe.default,hasClass:lAe.default};pd.default=Fjt});var hAe=P((cM,cAe)=>{"use strict";h();cM.__esModule=!0;cM.default=zjt;function zjt(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}cAe.exports=cM.default});var h6=P((hM,dAe)=>{"use strict";h();hM.__esModule=!0;hM.default=Gjt;var jjt=hAe(),fAe=pAe(jjt),Bjt=y1(),Ujt=pAe(Bjt);function pAe(e){return e&&e.__esModule?e:{default:e}}function Vjt(e){return e&&e.tagName.toLowerCase()==="body"}function $jt(e){var t=(0,Ujt.default)(e),r=(0,fAe.default)(t),n=r.innerWidth;if(!n){var o=t.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return t.body.clientWidth<n}function Gjt(e){var t=(0,fAe.default)(e);return t||Vjt(e)?$jt(e):e.scrollHeight>e.clientHeight}dAe.exports=hM.default});var vAe=P(q1=>{"use strict";h();q1.__esModule=!0;q1.ariaHidden=f6;q1.hideSiblings=Hjt;q1.showSiblings=Kjt;var Zjt=["template","script","style"],Wjt=function(t){var r=t.nodeType,n=t.tagName;return r===1&&Zjt.indexOf(n.toLowerCase())===-1},mAe=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(o){r.indexOf(o)===-1&&Wjt(o)&&n(o)})};function f6(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function Hjt(e,t){mAe(e,t,function(r){return f6(!0,r)})}function Kjt(e,t){mAe(e,t,function(r){return f6(!1,r)})}});var xAe=P((pM,_Ae)=>{"use strict";h();pM.__esModule=!0;var Yjt=uAe(),gAe=fM(Yjt),Xjt=nCe(),yAe=fM(Xjt),Jjt=s6(),Qjt=fM(Jjt),eBt=h6(),tBt=fM(eBt),p6=vAe();function fM(e){return e&&e.__esModule?e:{default:e}}function rBt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nBt(e,t){var r=-1;return e.some(function(n,o){if(t(n,o))return r=o,!0}),r}function iBt(e,t){return nBt(e,function(r){return r.modals.indexOf(t)!==-1})}function oBt(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,yAe.default)(t,"paddingRight")||0,10)+(0,Qjt.default)()+"px"),(0,yAe.default)(t,r)}function aBt(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var sBt=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,o=n===void 0?!0:n,i=r.handleContainerOverflow,f=i===void 0?!0:i;rBt(this,e),this.add=function(g,w,E){var C=t.modals.indexOf(g),q=t.containers.indexOf(w);if(C!==-1)return C;if(C=t.modals.length,t.modals.push(g),t.hideSiblingNodes&&(0,p6.hideSiblings)(w,g.modalNode),q!==-1)return t.data[q].modals.push(g),C;var L={modals:[g],classes:E?E.split(/\s+/):[],overflowing:(0,tBt.default)(w)};return t.handleContainerOverflow&&oBt(L,w),L.classes.forEach(gAe.default.addClass.bind(null,w)),t.containers.push(w),t.data.push(L),C},this.remove=function(g){var w=t.modals.indexOf(g);if(w!==-1){var E=iBt(t.data,g),C=t.data[E],q=t.containers[E];C.modals.splice(C.modals.indexOf(g),1),t.modals.splice(w,1),C.modals.length===0?(C.classes.forEach(gAe.default.removeClass.bind(null,q)),t.handleContainerOverflow&&aBt(C,q),t.hideSiblingNodes&&(0,p6.showSiblings)(q,g.modalNode),t.containers.splice(E,1),t.data.splice(E,1)):t.hideSiblingNodes&&(0,p6.ariaHidden)(!1,C.modals[C.modals.length-1].modalNode)}},this.isTopModal=function(g){return!!t.modals.length&&t.modals[t.modals.length-1]===g},this.hideSiblingNodes=o,this.handleContainerOverflow=f,this.modals=[],this.containers=[],this.data=[]};pM.default=sBt;_Ae.exports=pM.default});var mM=P((dM,bAe)=>{"use strict";h();dM.__esModule=!0;dM.default=hBt;var lBt=ys(),uBt=cBt(lBt);function cBt(e){return e&&e.__esModule?e:{default:e}}function hBt(e,t){return e=typeof e=="function"?e():e,uBt.default.findDOMNode(e)||t}bAe.exports=dM.default});var PAe=P((vM,CAe)=>{"use strict";h();vM.__esModule=!0;var fBt=Wr(),d6=ey(fBt),pBt=aM(),dBt=ey(pBt),mBt=ar(),wAe=ey(mBt),vBt=ys(),EAe=ey(vBt),gBt=mM(),SAe=ey(gBt),yBt=S1(),TAe=ey(yBt);function ey(e){return e&&e.__esModule?e:{default:e}}function _Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IAe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xBt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m6=function(e){xBt(t,e);function t(){var r,n,o;_Bt(this,t);for(var i=arguments.length,f=Array(i),g=0;g<i;g++)f[g]=arguments[g];return o=(r=(n=IAe(this,e.call.apply(e,[this].concat(f))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,SAe.default)(n.props.container,(0,TAe.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var w=n.props.children?wAe.default.Children.only(n.props.children):null;if(w!==null){n._mountOverlayTarget();var E=!n._overlayInstance;n._overlayInstance=EAe.default.unstable_renderSubtreeIntoContainer(n,w,n._overlayTarget,function(){E&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(EAe.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),IAe(n,o)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,SAe.default)(n.container,(0,TAe.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(wAe.default.Component);m6.displayName="Portal";m6.propTypes={container:d6.default.oneOfType([dBt.default,d6.default.func]),onRendered:d6.default.func};vM.default=m6;CAe.exports=vM.default});var qAe=P((gM,MAe)=>{"use strict";h();gM.__esModule=!0;var bBt=mu(),wBt=Sf(bBt),EBt=Wr(),v6=Sf(EBt),SBt=aM(),TBt=Sf(SBt),IBt=ar(),CBt=Sf(IBt),PBt=ys(),g6=Sf(PBt),ABt=mM(),MBt=Sf(ABt),qBt=S1(),RBt=Sf(qBt),OBt=PAe(),LBt=Sf(OBt);function Sf(e){return e&&e.__esModule?e:{default:e}}function DBt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AAe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kBt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y6=function(e){kBt(t,e);function t(){var r,n,o;DBt(this,t);for(var i=arguments.length,f=Array(i),g=0;g<i;g++)f[g]=arguments[g];return o=(r=(n=AAe(this,e.call.apply(e,[this].concat(f))),n),n.getMountNode=function(){return n._portalContainerNode},r),AAe(n,o)}return t.prototype.UNSAFE_componentWillMount=function(){if(wBt.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!g6.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,MBt.default)(n,(0,RBt.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?g6.default.createPortal(this.props.children,this._portalContainerNode):null},t}(CBt.default.Component);y6.displayName="Portal";y6.propTypes={container:v6.default.oneOfType([TBt.default,v6.default.func]),onRendered:v6.default.func};gM.default=g6.default.createPortal?y6:LBt.default;MAe.exports=gM.default});var DAe=P((yM,LAe)=>{"use strict";h();yM.__esModule=!0;var NBt=Wr(),FBt=RAe(NBt),zBt=ar(),jBt=RAe(zBt);function RAe(e){return e&&e.__esModule?e:{default:e}}function BBt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UBt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function VBt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $Bt={children:FBt.default.node},OAe=function(e){VBt(t,e);function t(){return BBt(this,t),UBt(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(jBt.default.Component);OAe.propTypes=$Bt;yM.default=OAe;LAe.exports=yM.default});var NAe=P((_M,kAe)=>{"use strict";h();_M.__esModule=!0;_M.default=GBt;function GBt(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}kAe.exports=_M.default});var WAe=P((bM,ZAe)=>{"use strict";h();bM.__esModule=!0;var BAe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZBt=O5(),_6=uo(ZBt),WBt=x1(),UAe=uo(WBt),HBt=mu(),KBt=uo(HBt),YBt=Wr(),on=uo(YBt),XBt=aM(),JBt=uo(XBt),QBt=QPe(),e3t=uo(QBt),t3t=Tc(),FAe=uo(t3t),VAe=ar(),Tf=uo(VAe),r3t=ys(),n3t=uo(r3t),i3t=E5(),o3t=uo(i3t),a3t=xAe(),$Ae=uo(a3t),s3t=qAe(),GAe=uo(s3t),l3t=DAe(),u3t=uo(l3t),c3t=G5(),zAe=uo(c3t),h3t=NAe(),f3t=uo(h3t),p3t=mM(),d3t=uo(p3t),m3t=S1(),x6=uo(m3t);function uo(e){return e&&e.__esModule?e:{default:e}}function v3t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jAe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function g3t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y3t=new $Ae.default,xM=function(e){g3t(t,e);function t(){var r,n,o;v3t(this,t);for(var i=arguments.length,f=Array(i),g=0;g<i;g++)f[g]=arguments[g];return o=(r=(n=jAe(this,e.call.apply(e,[this].concat(f))),n),_3t.call(n),r),jAe(n,o)}return t.prototype.omitProps=function(n,o){var i=Object.keys(n),f={};return i.map(function(g){Object.prototype.hasOwnProperty.call(o,g)||(f[g]=n[g])}),f},t.prototype.render=function(){var n=this.props,o=n.show,i=n.container,f=n.children,g=n.transition,w=n.backdrop,E=n.className,C=n.style,q=n.onExit,L=n.onExiting,B=n.onEnter,$=n.onEntering,ee=n.onEntered,G=Tf.default.Children.only(f),H=this.omitProps(this.props,t.propTypes),Q=o||g&&!this.state.exited;if(!Q)return null;var se=G.props,de=se.role,De=se.tabIndex;return(de===void 0||De===void 0)&&(G=(0,VAe.cloneElement)(G,{role:de===void 0?"document":de,tabIndex:De==null?"-1":De})),g&&(G=Tf.default.createElement(g,{appear:!0,unmountOnExit:!0,in:o,onExit:q,onExiting:L,onExited:this.handleHidden,onEnter:B,onEntering:$,onEntered:ee},G)),Tf.default.createElement(GAe.default,{ref:this.setMountNode,container:i,onRendered:this.onPortalRendered},Tf.default.createElement("div",BAe({ref:this.setModalNodeRef,role:de||"dialog"},H,{style:C,className:E}),w&&this.renderBackdrop(),Tf.default.createElement(u3t.default,{ref:this.setDialogRef},G)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var o=this.props.transition;n.show&&!this.props.show&&!o?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,o=n.show,i=n.transition;this._isMounted=!1,(o||i&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),o=(0,_6.default)((0,x6.default)(this));n&&!(0,UAe.default)(n,o)&&(this.lastFocus=o,n.hasAttribute("tabIndex")||((0,o3t.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return n3t.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(Tf.default.Component);xM.propTypes=BAe({},GAe.default.propTypes,{show:on.default.bool,container:on.default.oneOfType([JBt.default,on.default.func]),onShow:on.default.func,onHide:on.default.func,backdrop:on.default.oneOfType([on.default.bool,on.default.oneOf(["static"])]),renderBackdrop:on.default.func,onEscapeKeyDown:on.default.func,onEscapeKeyUp:(0,e3t.default)(on.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:on.default.func,backdropStyle:on.default.object,backdropClassName:on.default.string,containerClassName:on.default.string,keyboard:on.default.bool,transition:FAe.default,backdropTransition:FAe.default,autoFocus:on.default.bool,enforceFocus:on.default.bool,restoreFocus:on.default.bool,onEnter:on.default.func,onEntering:on.default.func,onEntered:on.default.func,onExit:on.default.func,onExiting:on.default.func,onExited:on.default.func,manager:on.default.object.isRequired});xM.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:y3t,renderBackdrop:function(t){return Tf.default.createElement("div",t)}};var _3t=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,o=r.backdropClassName,i=r.renderBackdrop,f=r.backdropTransition,g=function(C){return t.backdrop=C},w=i({ref:g,style:n,className:o,onClick:t.handleBackdropClick});return f&&(w=Tf.default.createElement(f,{appear:!0,in:t.props.show},w)),w},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,x6.default)(t),n=(0,d3t.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,zAe.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,zAe.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,f3t.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){KBt.default&&(t.lastFocus=(0,_6.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,_6.default)((0,x6.default)(t));r&&!(0,UAe.default)(r,n)&&r.focus()}}};xM.Manager=$Ae.default;bM.default=xM;ZAe.exports=bM.default});var z3t={};d$(z3t,{SettingsProvider:()=>N3t,renderAdminApp:()=>F3t});h();var bMe=$e(ar(),1),wMe=$e(ys(),1),nGr=$e(sbe(),1);h();h();h();h();h();function wb(e,t){return function(){return e.apply(t,arguments)}}var{toString:rqt}=Object.prototype,{getPrototypeOf:pU}=Object,{iterator:FC,toStringTag:ube}=Symbol,zC=(e=>t=>{let r=rqt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cl=e=>(e=e.toLowerCase(),t=>zC(t)===e),jC=e=>t=>typeof t===e,{isArray:sg}=Array,ag=jC("undefined");function Eb(e){return e!==null&&!ag(e)&&e.constructor!==null&&!ag(e.constructor)&&va(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var cbe=cl("ArrayBuffer");function nqt(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cbe(e.buffer),t}var iqt=jC("string"),va=jC("function"),hbe=jC("number"),Sb=e=>e!==null&&typeof e=="object",oqt=e=>e===!0||e===!1,NC=e=>{if(zC(e)!=="object")return!1;let t=pU(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ube in e)&&!(FC in e)},aqt=e=>{if(!Sb(e)||Eb(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},sqt=cl("Date"),lqt=cl("File"),uqt=cl("Blob"),cqt=cl("FileList"),hqt=e=>Sb(e)&&va(e.pipe),fqt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||va(e.append)&&((t=zC(e))==="formdata"||t==="object"&&va(e.toString)&&e.toString()==="[object FormData]"))},pqt=cl("URLSearchParams"),[dqt,mqt,vqt,gqt]=["ReadableStream","Request","Response","Headers"].map(cl),yqt=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tb(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,o;if(typeof e!="object"&&(e=[e]),sg(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Eb(e))return;let i=r?Object.getOwnPropertyNames(e):Object.keys(e),f=i.length,g;for(n=0;n<f;n++)g=i[n],t.call(null,e[g],g,e)}}function fbe(e,t){if(Eb(e))return null;t=t.toLowerCase();let r=Object.keys(e),n=r.length,o;for(;n-->0;)if(o=r[n],t===o.toLowerCase())return o;return null}var Qp=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,pbe=e=>!ag(e)&&e!==Qp;function fU(){let{caseless:e,skipUndefined:t}=pbe(this)&&this||{},r={},n=(o,i)=>{let f=e&&fbe(r,i)||i;NC(r[f])&&NC(o)?r[f]=fU(r[f],o):NC(o)?r[f]=fU({},o):sg(o)?r[f]=o.slice():(!t||!ag(o))&&(r[f]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Tb(arguments[o],n);return r}var _qt=(e,t,r,{allOwnKeys:n}={})=>(Tb(t,(o,i)=>{r&&va(o)?e[i]=wb(o,r):e[i]=o},{allOwnKeys:n}),e),xqt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bqt=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wqt=(e,t,r,n)=>{let o,i,f,g={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-->0;)f=o[i],(!n||n(f,e,t))&&!g[f]&&(t[f]=e[f],g[f]=!0);e=r!==!1&&pU(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Eqt=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},Sqt=e=>{if(!e)return null;if(sg(e))return e;let t=e.length;if(!hbe(t))return null;let r=new Array(t);for(;t-->0;)r[t]=e[t];return r},Tqt=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&pU(Uint8Array)),Iqt=(e,t)=>{let n=(e&&e[FC]).call(e),o;for(;(o=n.next())&&!o.done;){let i=o.value;t.call(e,i[0],i[1])}},Cqt=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Pqt=cl("HTMLFormElement"),Aqt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),lbe=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mqt=cl("RegExp"),dbe=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};Tb(r,(o,i)=>{let f;(f=t(o,i,e))!==!1&&(n[i]=f||o)}),Object.defineProperties(e,n)},qqt=e=>{dbe(e,(t,r)=>{if(va(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(va(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rqt=(e,t)=>{let r={},n=o=>{o.forEach(i=>{r[i]=!0})};return sg(e)?n(e):n(String(e).split(t)),r},Oqt=()=>{},Lqt=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dqt(e){return!!(e&&va(e.append)&&e[ube]==="FormData"&&e[FC])}var kqt=e=>{let t=new Array(10),r=(n,o)=>{if(Sb(n)){if(t.indexOf(n)>=0)return;if(Eb(n))return n;if(!("toJSON"in n)){t[o]=n;let i=sg(n)?[]:{};return Tb(n,(f,g)=>{let w=r(f,o+1);!ag(w)&&(i[g]=w)}),t[o]=void 0,i}}return n};return r(e,0)},Nqt=cl("AsyncFunction"),Fqt=e=>e&&(Sb(e)||va(e))&&va(e.then)&&va(e.catch),mbe=((e,t)=>e?setImmediate:t?((r,n)=>(Qp.addEventListener("message",({source:o,data:i})=>{o===Qp&&i===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Qp.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",va(Qp.postMessage)),zqt=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Qp):typeof S!="undefined"&&S.nextTick||mbe,jqt=e=>e!=null&&va(e[FC]),Me={isArray:sg,isArrayBuffer:cbe,isBuffer:Eb,isFormData:fqt,isArrayBufferView:nqt,isString:iqt,isNumber:hbe,isBoolean:oqt,isObject:Sb,isPlainObject:NC,isEmptyObject:aqt,isReadableStream:dqt,isRequest:mqt,isResponse:vqt,isHeaders:gqt,isUndefined:ag,isDate:sqt,isFile:lqt,isBlob:uqt,isRegExp:Mqt,isFunction:va,isStream:hqt,isURLSearchParams:pqt,isTypedArray:Tqt,isFileList:cqt,forEach:Tb,merge:fU,extend:_qt,trim:yqt,stripBOM:xqt,inherits:bqt,toFlatObject:wqt,kindOf:zC,kindOfTest:cl,endsWith:Eqt,toArray:Sqt,forEachEntry:Iqt,matchAll:Cqt,isHTMLForm:Pqt,hasOwnProperty:lbe,hasOwnProp:lbe,reduceDescriptors:dbe,freezeMethods:qqt,toObjectSet:Rqt,toCamelCase:Aqt,noop:Oqt,toFiniteNumber:Lqt,findKey:fbe,global:Qp,isContextDefined:pbe,isSpecCompliantForm:Dqt,toJSONObject:kqt,isAsyncFn:Nqt,isThenable:Fqt,setImmediate:mbe,asap:zqt,isIterable:jqt};h();h();h();h();h();function lg(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Me.inherits(lg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});var vbe=lg.prototype,gbe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gbe[e]={value:e}});Object.defineProperties(lg,gbe);Object.defineProperty(vbe,"isAxiosError",{value:!0});lg.from=(e,t,r,n,o,i)=>{let f=Object.create(vbe);Me.toFlatObject(e,f,function(C){return C!==Error.prototype},E=>E!=="isAxiosError");let g=e&&e.message?e.message:"Error",w=t==null&&e?e.code:t;return lg.call(f,g,w,r,n,o),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",i&&Object.assign(f,i),f};var Nt=lg;h();var BC=null;function dU(e){return Me.isPlainObject(e)||Me.isArray(e)}function _be(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function ybe(e,t,r){return e?e.concat(t).map(function(o,i){return o=_be(o),!r&&i?"["+o+"]":o}).join(r?".":""):t}function Bqt(e){return Me.isArray(e)&&!e.some(dU)}var Uqt=Me.toFlatObject(Me,{},null,function(t){return /^is[A-Z]/.test(t)});function Vqt(e,t,r){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new(BC||FormData),r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,G){return!Me.isUndefined(G[ee])});let n=r.metaTokens,o=r.visitor||C,i=r.dots,f=r.indexes,w=(r.Blob||typeof Blob!="undefined"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(o))throw new TypeError("visitor must be a function");function E($){if($===null)return"";if(Me.isDate($))return $.toISOString();if(Me.isBoolean($))return $.toString();if(!w&&Me.isBlob($))throw new Nt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer($)||Me.isTypedArray($)?w&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function C($,ee,G){let H=$;if($&&!G&&typeof $=="object"){if(Me.endsWith(ee,"{}"))ee=n?ee:ee.slice(0,-2),$=JSON.stringify($);else if(Me.isArray($)&&Bqt($)||(Me.isFileList($)||Me.endsWith(ee,"[]"))&&(H=Me.toArray($)))return ee=_be(ee),H.forEach(function(se,de){!(Me.isUndefined(se)||se===null)&&t.append(f===!0?ybe([ee],de,i):f===null?ee:ee+"[]",E(se))}),!1}return dU($)?!0:(t.append(ybe(G,ee,i),E($)),!1)}let q=[],L=Object.assign(Uqt,{defaultVisitor:C,convertValue:E,isVisitable:dU});function B($,ee){if(!Me.isUndefined($)){if(q.indexOf($)!==-1)throw Error("Circular reference detected in "+ee.join("."));q.push($),Me.forEach($,function(H,Q){(!(Me.isUndefined(H)||H===null)&&o.call(t,H,Me.isString(Q)?Q.trim():Q,ee,L))===!0&&B(H,ee?ee.concat(Q):[Q])}),q.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return B(e),t}var sf=Vqt;function xbe(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bbe(e,t){this._pairs=[],e&&sf(e,this,t)}var wbe=bbe.prototype;wbe.append=function(t,r){this._pairs.push([t,r])};wbe.toString=function(t){let r=t?function(n){return t.call(this,n,xbe)}:xbe;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};var UC=bbe;function $qt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ib(e,t,r){if(!t)return e;let n=r&&r.encode||$qt;Me.isFunction(r)&&(r={serialize:r});let o=r&&r.serialize,i;if(o?i=o(t,r):i=Me.isURLSearchParams(t)?t.toString():new UC(t,r).toString(n),i){let f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}h();var mU=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(n){n!==null&&t(n)})}},vU=mU;h();h();h();h();var VC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};h();h();h();h();var Ebe=typeof URLSearchParams!="undefined"?URLSearchParams:UC;h();var Sbe=typeof FormData!="undefined"?FormData:null;h();var Tbe=typeof Blob!="undefined"?Blob:null;var Ibe={isBrowser:!0,classes:{URLSearchParams:Ebe,FormData:Sbe,Blob:Tbe},protocols:["http","https","file","blob","url","data"]};var _U={};d$(_U,{hasBrowserEnv:()=>yU,hasStandardBrowserEnv:()=>Gqt,hasStandardBrowserWebWorkerEnv:()=>Zqt,navigator:()=>gU,origin:()=>Wqt});h();var yU=typeof window!="undefined"&&typeof document!="undefined",gU=typeof navigator=="object"&&navigator||void 0,Gqt=yU&&(!gU||["ReactNative","NativeScript","NS"].indexOf(gU.product)<0),Zqt=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wqt=yU&&window.location.href||"http://localhost";var Pn=ta(ta({},_U),Ibe);function xU(e,t){return sf(e,new Pn.classes.URLSearchParams,ta({visitor:function(r,n,o,i){return Pn.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}h();function Hqt(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Kqt(e){let t={},r=Object.keys(e),n,o=r.length,i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}function Yqt(e){function t(r,n,o,i){let f=r[i++];if(f==="__proto__")return!0;let g=Number.isFinite(+f),w=i>=r.length;return f=!f&&Me.isArray(o)?o.length:f,w?(Me.hasOwnProp(o,f)?o[f]=[o[f],n]:o[f]=n,!g):((!o[f]||!Me.isObject(o[f]))&&(o[f]=[]),t(r,n,o[f],i)&&Me.isArray(o[f])&&(o[f]=Kqt(o[f])),!g)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){let r={};return Me.forEachEntry(e,(n,o)=>{t(Hqt(n),o,r,0)}),r}return null}var $C=Yqt;function Xqt(e,t,r){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var bU={transitional:VC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){let n=r.getContentType()||"",o=n.indexOf("application/json")>-1,i=Me.isObject(t);if(i&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return o?JSON.stringify($C(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xU(t,this.formSerializer).toString();if((g=Me.isFileList(t))||n.indexOf("multipart/form-data")>-1){let w=this.env&&this.env.FormData;return sf(g?{"files[]":t}:t,w&&new w,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),Xqt(t)):t}],transformResponse:[function(t){let r=this.transitional||bU.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(n&&!this.responseType||o)){let f=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(g){if(f)throw g.name==="SyntaxError"?Nt.from(g,Nt.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{bU.headers[e]={}});var ug=bU;h();h();var Jqt=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cbe=e=>{let t={},r,n,o;return e&&e.split(`
`).forEach(function(f){o=f.indexOf(":"),r=f.substring(0,o).trim().toLowerCase(),n=f.substring(o+1).trim(),!(!r||t[r]&&Jqt[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var Pbe=Symbol("internals");function Cb(e){return e&&String(e).trim().toLowerCase()}function GC(e){return e===!1||e==null?e:Me.isArray(e)?e.map(GC):String(e)}function Qqt(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var eRt=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wU(e,t,r,n,o){if(Me.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!Me.isString(t)){if(Me.isString(n))return t.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(t)}}function tRt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function rRt(e,t){let r=Me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,i,f){return this[n].call(this,t,o,i,f)},configurable:!0})})}var cg=class{constructor(t){t&&this.set(t)}set(t,r,n){let o=this;function i(g,w,E){let C=Cb(w);if(!C)throw new Error("header name must be a non-empty string");let q=Me.findKey(o,C);(!q||o[q]===void 0||E===!0||E===void 0&&o[q]!==!1)&&(o[q||w]=GC(g))}let f=(g,w)=>Me.forEach(g,(E,C)=>i(E,C,w));if(Me.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(Me.isString(t)&&(t=t.trim())&&!eRt(t))f(Cbe(t),r);else if(Me.isObject(t)&&Me.isIterable(t)){let g={},w,E;for(let C of t){if(!Me.isArray(C))throw TypeError("Object iterator must return a key-value pair");g[E=C[0]]=(w=g[E])?Me.isArray(w)?[...w,C[1]]:[w,C[1]]:C[1]}f(g,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Cb(t),t){let n=Me.findKey(this,t);if(n){let o=this[n];if(!r)return o;if(r===!0)return Qqt(o);if(Me.isFunction(r))return r.call(this,o,n);if(Me.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Cb(t),t){let n=Me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||wU(this,this[n],n,r)))}return!1}delete(t,r){let n=this,o=!1;function i(f){if(f=Cb(f),f){let g=Me.findKey(n,f);g&&(!r||wU(n,n[g],g,r))&&(delete n[g],o=!0)}}return Me.isArray(t)?t.forEach(i):i(t),o}clear(t){let r=Object.keys(this),n=r.length,o=!1;for(;n--;){let i=r[n];(!t||wU(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){let r=this,n={};return Me.forEach(this,(o,i)=>{let f=Me.findKey(n,i);if(f){r[f]=GC(o),delete r[i];return}let g=t?tRt(i):String(i).trim();g!==i&&delete r[i],r[g]=GC(o),n[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return Me.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){let n=(this[Pbe]=this[Pbe]={accessors:{}}).accessors,o=this.prototype;function i(f){let g=Cb(f);n[g]||(rRt(o,f),n[g]=!0)}return Me.isArray(t)?t.forEach(i):i(t),this}};cg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(cg.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Me.freezeMethods(cg);var Si=cg;function Pb(e,t){let r=this||ug,n=t||r,o=Si.from(n.headers),i=n.data;return Me.forEach(e,function(g){i=g.call(r,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}h();function Ab(e){return!!(e&&e.__CANCEL__)}h();function Abe(e,t,r){Nt.call(this,e==null?"canceled":e,Nt.ERR_CANCELED,t,r),this.name="CanceledError"}Me.inherits(Abe,Nt,{__CANCEL__:!0});var Ql=Abe;h();h();h();function Mb(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}h();function EU(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}h();h();function nRt(e,t){e=e||10;let r=new Array(e),n=new Array(e),o=0,i=0,f;return t=t!==void 0?t:1e3,function(w){let E=Date.now(),C=n[i];f||(f=E),r[o]=w,n[o]=E;let q=i,L=0;for(;q!==o;)L+=r[q++],q=q%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),E-f<t)return;let B=C&&E-C;return B?Math.round(L*1e3/B):void 0}}var Mbe=nRt;h();function iRt(e,t){let r=0,n=1e3/t,o,i,f=(E,C=Date.now())=>{r=C,o=null,i&&(clearTimeout(i),i=null),e(...E)};return[(...E)=>{let C=Date.now(),q=C-r;q>=n?f(E,C):(o=E,i||(i=setTimeout(()=>{i=null,f(o)},n-q)))},()=>o&&f(o)]}var qbe=iRt;var hg=(e,t,r=3)=>{let n=0,o=Mbe(50,250);return qbe(i=>{let f=i.loaded,g=i.lengthComputable?i.total:void 0,w=f-n,E=o(w),C=f<=g;n=f;let q={loaded:f,total:g,progress:g?f/g:void 0,bytes:w,rate:E||void 0,estimated:E&&g&&C?(g-f)/E:void 0,event:i,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(q)},r)},SU=(e,t)=>{let r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},TU=e=>(...t)=>Me.asap(()=>e(...t));h();h();var Rbe=Pn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Pn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0;h();var Obe=Pn.hasStandardBrowserEnv?{write(e,t,r,n,o,i){let f=[e+"="+encodeURIComponent(t)];Me.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),Me.isString(n)&&f.push("path="+n),Me.isString(o)&&f.push("domain="+o),i===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};h();h();function IU(e){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}h();function CU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qb(e,t,r){let n=!IU(t);return e&&(n||r==!1)?CU(e,t):t}h();var Lbe=e=>e instanceof Si?ta({},e):e;function hl(e,t){t=t||{};let r={};function n(E,C,q,L){return Me.isPlainObject(E)&&Me.isPlainObject(C)?Me.merge.call({caseless:L},E,C):Me.isPlainObject(C)?Me.merge({},C):Me.isArray(C)?C.slice():C}function o(E,C,q,L){if(Me.isUndefined(C)){if(!Me.isUndefined(E))return n(void 0,E,q,L)}else return n(E,C,q,L)}function i(E,C){if(!Me.isUndefined(C))return n(void 0,C)}function f(E,C){if(Me.isUndefined(C)){if(!Me.isUndefined(E))return n(void 0,E)}else return n(void 0,C)}function g(E,C,q){if(q in t)return n(E,C);if(q in e)return n(void 0,E)}let w={url:i,method:i,data:i,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:g,headers:(E,C,q)=>o(Lbe(E),Lbe(C),q,!0)};return Me.forEach(Object.keys(ta(ta({},e),t)),function(C){let q=w[C]||o,L=q(e[C],t[C],C);Me.isUndefined(L)&&q!==g||(r[C]=L)}),r}var ZC=e=>{let t=hl({},e),{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:f,auth:g}=t;if(t.headers=f=Si.from(f),t.url=Ib(qb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&f.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Me.isFormData(r)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){let w=r.getHeaders(),E=["content-type","content-length"];Object.entries(w).forEach(([C,q])=>{E.includes(C.toLowerCase())&&f.set(C,q)})}}if(Pn.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(t)),n||n!==!1&&Rbe(t.url))){let w=o&&i&&Obe.read(i);w&&f.set(o,w)}return t};var oRt=typeof XMLHttpRequest!="undefined",Dbe=oRt&&function(e){return new Promise(function(r,n){let o=ZC(e),i=o.data,f=Si.from(o.headers).normalize(),{responseType:g,onUploadProgress:w,onDownloadProgress:E}=o,C,q,L,B,$;function ee(){B&&B(),$&&$(),o.cancelToken&&o.cancelToken.unsubscribe(C),o.signal&&o.signal.removeEventListener("abort",C)}let G=new XMLHttpRequest;G.open(o.method.toUpperCase(),o.url,!0),G.timeout=o.timeout;function H(){if(!G)return;let se=Si.from("getAllResponseHeaders"in G&&G.getAllResponseHeaders()),De={data:!g||g==="text"||g==="json"?G.responseText:G.response,status:G.status,statusText:G.statusText,headers:se,config:e,request:G};Mb(function(ke){r(ke),ee()},function(ke){n(ke),ee()},De),G=null}"onloadend"in G?G.onloadend=H:G.onreadystatechange=function(){!G||G.readyState!==4||G.status===0&&!(G.responseURL&&G.responseURL.indexOf("file:")===0)||setTimeout(H)},G.onabort=function(){G&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,G)),G=null)},G.onerror=function(de){let De=de&&de.message?de.message:"Network Error",Ne=new Nt(De,Nt.ERR_NETWORK,e,G);Ne.event=de||null,n(Ne),G=null},G.ontimeout=function(){let de=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",De=o.transitional||VC;o.timeoutErrorMessage&&(de=o.timeoutErrorMessage),n(new Nt(de,De.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,G)),G=null},i===void 0&&f.setContentType(null),"setRequestHeader"in G&&Me.forEach(f.toJSON(),function(de,De){G.setRequestHeader(De,de)}),Me.isUndefined(o.withCredentials)||(G.withCredentials=!!o.withCredentials),g&&g!=="json"&&(G.responseType=o.responseType),E&&([L,$]=hg(E,!0),G.addEventListener("progress",L)),w&&G.upload&&([q,B]=hg(w),G.upload.addEventListener("progress",q),G.upload.addEventListener("loadend",B)),(o.cancelToken||o.signal)&&(C=se=>{G&&(n(!se||se.type?new Ql(null,e,G):se),G.abort(),G=null)},o.cancelToken&&o.cancelToken.subscribe(C),o.signal&&(o.signal.aborted?C():o.signal.addEventListener("abort",C)));let Q=EU(o.url);if(Q&&Pn.protocols.indexOf(Q)===-1){n(new Nt("Unsupported protocol "+Q+":",Nt.ERR_BAD_REQUEST,e));return}G.send(i||null)})};h();h();var aRt=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o,i=function(E){if(!o){o=!0,g();let C=E instanceof Error?E:this.reason;n.abort(C instanceof Nt?C:new Ql(C instanceof Error?C.message:C))}},f=t&&setTimeout(()=>{f=null,i(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t),g=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(E=>{E.unsubscribe?E.unsubscribe(i):E.removeEventListener("abort",i)}),e=null)};e.forEach(E=>E.addEventListener("abort",i));let{signal:w}=n;return w.unsubscribe=()=>Me.asap(g),w}},kbe=aRt;h();var sRt=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},lRt=function(e,t){return B2(this,null,function*(){try{for(var r=v$(uRt(e)),n,o,i;n=!(o=yield new ap(r.next())).done;n=!1){let f=o.value;yield*U2(sRt(f,t))}}catch(o){i=[o]}finally{try{n&&(o=r.return)&&(yield new ap(o.call(r)))}finally{if(i)throw i[0]}}})},uRt=function(e){return B2(this,null,function*(){if(e[Symbol.asyncIterator]){yield*U2(e);return}let t=e.getReader();try{for(;;){let{done:r,value:n}=yield new ap(t.read());if(r)break;yield n}}finally{yield new ap(t.cancel())}})},PU=(e,t,r,n)=>{let o=lRt(e,t),i=0,f,g=E=>{f||(f=!0,n&&n(E))};return new ReadableStream({pull(E){return yn(this,null,function*(){try{let{done:C,value:q}=yield o.next();if(C){g(),E.close();return}let L=q.byteLength;if(r){let B=i+=L;r(B)}E.enqueue(new Uint8Array(q))}catch(C){throw g(C),C}})},cancel(E){return g(E),o.return()}},{highWaterMark:2})};var Nbe=64*1024,{isFunction:WC}=Me,cRt=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:Fbe,TextEncoder:zbe}=Me.global,jbe=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},hRt=e=>{e=Me.merge.call({skipUndefined:!0},cRt,e);let{fetch:t,Request:r,Response:n}=e,o=t?WC(t):typeof fetch=="function",i=WC(r),f=WC(n);if(!o)return!1;let g=o&&WC(Fbe),w=o&&(typeof zbe=="function"?($=>ee=>$.encode(ee))(new zbe):$=>yn(null,null,function*(){return new Uint8Array(yield new r($).arrayBuffer())})),E=i&&g&&jbe(()=>{let $=!1,ee=new r(Pn.origin,{body:new Fbe,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!ee}),C=f&&g&&jbe(()=>Me.isReadableStream(new n("").body)),q={stream:C&&($=>$.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!q[$]&&(q[$]=(ee,G)=>{let H=ee&&ee[$];if(H)return H.call(ee);throw new Nt(`Response type '${$}' is not supported`,Nt.ERR_NOT_SUPPORT,G)})});let L=$=>yn(null,null,function*(){if($==null)return 0;if(Me.isBlob($))return $.size;if(Me.isSpecCompliantForm($))return(yield new r(Pn.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(Me.isArrayBufferView($)||Me.isArrayBuffer($))return $.byteLength;if(Me.isURLSearchParams($)&&($=$+""),Me.isString($))return(yield w($)).byteLength}),B=($,ee)=>yn(null,null,function*(){let G=Me.toFiniteNumber($.getContentLength());return G==null?L(ee):G});return $=>yn(null,null,function*(){let{url:ee,method:G,data:H,signal:Q,cancelToken:se,timeout:de,onDownloadProgress:De,onUploadProgress:Ne,responseType:ke,headers:Ge,withCredentials:rt="same-origin",fetchOptions:Mt}=ZC($),tr=t||fetch;ke=ke?(ke+"").toLowerCase():"text";let Mr=kbe([Q,se&&se.toAbortSignal()],de),kr=null,qr=Mr&&Mr.unsubscribe&&(()=>{Mr.unsubscribe()}),dr;try{if(Ne&&E&&G!=="get"&&G!=="head"&&(dr=yield B(Ge,H))!==0){let Ur=new r(ee,{method:"POST",body:H,duplex:"half"}),pn;if(Me.isFormData(H)&&(pn=Ur.headers.get("content-type"))&&Ge.setContentType(pn),Ur.body){let[Jn,wr]=SU(dr,hg(TU(Ne)));H=PU(Ur.body,Nbe,Jn,wr)}}Me.isString(rt)||(rt=rt?"include":"omit");let Ut=i&&"credentials"in r.prototype,_t=v_(ta({},Mt),{signal:Mr,method:G.toUpperCase(),headers:Ge.normalize().toJSON(),body:H,duplex:"half",credentials:Ut?rt:void 0});kr=i&&new r(ee,_t);let Bt=yield i?tr(kr,Mt):tr(ee,_t),Nr=C&&(ke==="stream"||ke==="response");if(C&&(De||Nr&&qr)){let Ur={};["status","statusText","headers"].forEach(rr=>{Ur[rr]=Bt[rr]});let pn=Me.toFiniteNumber(Bt.headers.get("content-length")),[Jn,wr]=De&&SU(pn,hg(TU(De),!0))||[];Bt=new n(PU(Bt.body,Nbe,Jn,()=>{wr&&wr(),qr&&qr()}),Ur)}ke=ke||"text";let qn=yield q[Me.findKey(q,ke)||"text"](Bt,$);return!Nr&&qr&&qr(),yield new Promise((Ur,pn)=>{Mb(Ur,pn,{data:qn,headers:Si.from(Bt.headers),status:Bt.status,statusText:Bt.statusText,config:$,request:kr})})}catch(Ut){throw qr&&qr(),Ut&&Ut.name==="TypeError"&&/Load failed|fetch/i.test(Ut.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,$,kr),{cause:Ut.cause||Ut}):Nt.from(Ut,Ut&&Ut.code,$,kr)}})},fRt=new Map,AU=e=>{let t=e?e.env:{},{fetch:r,Request:n,Response:o}=t,i=[n,o,r],f=i.length,g=f,w,E,C=fRt;for(;g--;)w=i[g],E=C.get(w),E===void 0&&C.set(w,E=g?new Map:hRt(t)),C=E;return E},nSr=AU();var MU={http:BC,xhr:Dbe,fetch:{get:AU}};Me.forEach(MU,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});var Bbe=e=>`- ${e}`,dRt=e=>Me.isFunction(e)||e===null||e===!1,HC={getAdapter:(e,t)=>{e=Me.isArray(e)?e:[e];let{length:r}=e,n,o,i={};for(let f=0;f<r;f++){n=e[f];let g;if(o=n,!dRt(n)&&(o=MU[(g=String(n)).toLowerCase()],o===void 0))throw new Nt(`Unknown adapter '${g}'`);if(o&&(Me.isFunction(o)||(o=o.get(t))))break;i[g||"#"+f]=o}if(!o){let f=Object.entries(i).map(([w,E])=>`adapter ${w} `+(E===!1?"is not supported by the environment":"is not available in the build")),g=r?f.length>1?`since :
`+f.map(Bbe).join(`
`):" "+Bbe(f[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return o},adapters:MU};function qU(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ql(null,e)}function KC(e){return qU(e),e.headers=Si.from(e.headers),e.data=Pb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),HC.getAdapter(e.adapter||ug.adapter,e)(e).then(function(n){return qU(e),n.data=Pb.call(e,e.transformResponse,n),n.headers=Si.from(n.headers),n},function(n){return Ab(n)||(qU(e),n&&n.response&&(n.response.data=Pb.call(e,e.transformResponse,n.response),n.response.headers=Si.from(n.response.headers))),Promise.reject(n)})}h();h();var YC="1.12.2";var XC={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{XC[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Ube={};XC.transitional=function(t,r,n){function o(i,f){return"[Axios v"+YC+"] Transitional option '"+i+"'"+f+(n?". "+n:"")}return(i,f,g)=>{if(t===!1)throw new Nt(o(f," has been removed"+(r?" in "+r:"")),Nt.ERR_DEPRECATED);return r&&!Ube[f]&&(Ube[f]=!0,console.warn(o(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,f,g):!0}};XC.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function mRt(e,t,r){if(typeof e!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),o=n.length;for(;o-->0;){let i=n[o],f=t[i];if(f){let g=e[i],w=g===void 0||f(g,i,e);if(w!==!0)throw new Nt("option "+i+" must be "+w,Nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nt("Unknown option "+i,Nt.ERR_BAD_OPTION)}}var Rb={assertOptions:mRt,validators:XC};var eu=Rb.validators,fg=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vU,response:new vU}}request(t,r){return yn(this,null,function*(){try{return yield this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;let i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch(f){}}throw n}})}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hl(this.defaults,r);let{transitional:n,paramsSerializer:o,headers:i}=r;n!==void 0&&Rb.assertOptions(n,{silentJSONParsing:eu.transitional(eu.boolean),forcedJSONParsing:eu.transitional(eu.boolean),clarifyTimeoutError:eu.transitional(eu.boolean)},!1),o!=null&&(Me.isFunction(o)?r.paramsSerializer={serialize:o}:Rb.assertOptions(o,{encode:eu.function,serialize:eu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rb.assertOptions(r,{baseUrl:eu.spelling("baseURL"),withXsrfToken:eu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=i&&Me.merge(i.common,i[r.method]);i&&Me.forEach(["delete","get","head","post","put","patch","common"],$=>{delete i[$]}),r.headers=Si.concat(f,i);let g=[],w=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(r)===!1||(w=w&&ee.synchronous,g.unshift(ee.fulfilled,ee.rejected))});let E=[];this.interceptors.response.forEach(function(ee){E.push(ee.fulfilled,ee.rejected)});let C,q=0,L;if(!w){let $=[KC.bind(this),void 0];for($.unshift(...g),$.push(...E),L=$.length,C=Promise.resolve(r);q<L;)C=C.then($[q++],$[q++]);return C}L=g.length;let B=r;for(;q<L;){let $=g[q++],ee=g[q++];try{B=$(B)}catch(G){ee.call(this,G);break}}try{C=KC.call(this,B)}catch($){return Promise.reject($)}for(q=0,L=E.length;q<L;)C=C.then(E[q++],E[q++]);return C}getUri(t){t=hl(this.defaults,t);let r=qb(t.baseURL,t.url,t.allowAbsoluteUrls);return Ib(r,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){fg.prototype[t]=function(r,n){return this.request(hl(n||{},{method:t,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function r(n){return function(i,f,g){return this.request(hl(g||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:f}))}}fg.prototype[t]=r(),fg.prototype[t+"Form"]=r(!0)});var Ob=fg;h();var RU=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-->0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i,f=new Promise(g=>{n.subscribe(g),i=g}).then(o);return f.cancel=function(){n.unsubscribe(i)},f},t(function(i,f,g){n.reason||(n.reason=new Ql(i,f,g),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e(function(o){t=o}),cancel:t}}},Vbe=RU;h();function OU(e){return function(r){return e.apply(null,r)}}h();function LU(e){return Me.isObject(e)&&e.isAxiosError===!0}h();var DU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DU).forEach(([e,t])=>{DU[t]=e});var $be=DU;function Gbe(e){let t=new Ob(e),r=wb(Ob.prototype.request,t);return Me.extend(r,Ob.prototype,t,{allOwnKeys:!0}),Me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return Gbe(hl(e,o))},r}var ci=Gbe(ug);ci.Axios=Ob;ci.CanceledError=Ql;ci.CancelToken=Vbe;ci.isCancel=Ab;ci.VERSION=YC;ci.toFormData=sf;ci.AxiosError=Nt;ci.Cancel=ci.CanceledError;ci.all=function(t){return Promise.all(t)};ci.spread=OU;ci.isAxiosError=LU;ci.mergeConfig=hl;ci.AxiosHeaders=Si;ci.formToJSON=e=>$C(Me.isHTMLForm(e)?new FormData(e):e);ci.getAdapter=HC.getAdapter;ci.HttpStatusCode=$be;ci.default=ci;var JC=ci;var{Axios:pTr,AxiosError:dTr,CanceledError:mTr,isCancel:vTr,CancelToken:gTr,VERSION:yTr,all:_Tr,Cancel:xTr,isAxiosError:bTr,spread:wTr,toFormData:ETr,AxiosHeaders:STr,HttpStatusCode:TTr,formToJSON:ITr,getAdapter:CTr,mergeConfig:PTr}=JC;h();var Lb=$e(FU(),1);h();h();var DRt=$e(r1e(),1);h();var jU=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};h();h();h();h();h();h();var NRt=$e(FU(),1);function fc(e){return e!=null}function n1e(e){return typeof e=="string"||e instanceof String}function hc(e){let t=oo.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var FRt={EN:"en",DE:"de"},zRt=fc(S.env.DEV_MODE_SECRET)&&S.env.DEV_MODE_SECRET!==""&&fc(S.env.DEV_MODE_NAME)&&S.env.DEV_MODE_NAME!=="",QC=()=>({"Dev-Mode-Secret":S.env.DEV_MODE_SECRET,"Dev-Mode-Name":S.env.DEV_MODE_NAME}),Zo={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:FRt.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1,USER_ROLE:null},oo={axiosApiInstance:null,appendSettings(e){Zo=Object.assign({},Zo,e)},isDebug(){var e;return!!((e=S==null?void 0:S.env)!=null&&e.VKF_DEBUG)},getSettings(){return Zo},getBaseMaps(){return Zo.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},Zo.MAPVIEW_PARAMS)},getLanguageDict(){return Zo.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return Zo.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},Zo.TERRAIN_TILES)},getUsername(){return Zo.USERNAME},isUserAuthenticated(){return Zo.USER_ISAUTHENTICATED===!0},updateSettings(e){Zo=e},_initAxiosApiInstance(){let e=Zo.API_GEOREFERENCE_BASEURL,t=n1e(e)&&e.length===0;if(!fc(e)||t)throw new Error("The URL for the georeference service is not set.");let r=Object.assign({baseURL:e,withCredentials:!0},zRt?{headers:{get:QC(),post:QC(),put:QC(),delete:QC()}}:{});this.axiosApiInstance=JC.create(r)},getGeoreferenceApiClient(){return fc(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=Zo.MARKER_URL;if(!fc(e))throw new Error("The marker icon url is not set.");return{id:Zo.MARKER_IMAGE_ID,url:e}},getUserRole(){return Zo.USER_ROLE}};h();var $n=$e(ar(),1);h();h();h();var fl={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},aCr={9001:fl.METERS,9002:fl.FEET,9003:fl.USFEET,9101:fl.RADIANS,9102:fl.DEGREES};var ga={};ga[fl.RADIANS]=6370997/(2*Math.PI);ga[fl.DEGREES]=2*Math.PI*6370997/360;ga[fl.FEET]=.3048;ga[fl.METERS]=1;ga[fl.USFEET]=1200/3937;var ya=fl;var jRt=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ga[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}(),eP=jRt;h();h();function rn(e,t,r){return Math.min(Math.max(e,t),r)}var i1e=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var r=Math.exp(t);return(r+1/r)/2},e}(),o1e=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function a1e(e,t,r,n,o,i){var f=o-r,g=i-n;if(f!==0||g!==0){var w=((e-r)*f+(t-n)*g)/(f*f+g*g);w>1?(r=o,n=i):w>0&&(r+=f*w,n+=g*w)}return pc(e,t,r,n)}function pc(e,t,r,n){var o=r-e,i=n-t;return o*o+i*i}function s1e(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,o=Math.abs(e[r][r]),i=r+1;i<t;i++){var f=Math.abs(e[i][r]);f>o&&(o=f,n=i)}if(o===0)return null;var g=e[n];e[n]=e[r],e[r]=g;for(var w=r+1;w<t;w++)for(var E=-e[w][r]/e[r][r],C=r;C<t+1;C++)r==C?e[w][C]=0:e[w][C]+=E*e[r][C]}for(var q=new Array(t),L=t-1;L>=0;L--){q[L]=e[L][t]/e[L][L];for(var B=L-1;B>=0;B--)e[B][t]-=e[B][L]*q[L]}return q}function pg(e){return e*Math.PI/180}function pl(e,t){var r=e%t;return r*t<0?r+t:r}function l1e(e,t,r){return e+r*(t-e)}function u1e(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function Db(e,t){return Math.floor(u1e(e,t))}function kb(e,t){return Math.ceil(u1e(e,t))}var BRt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nb=6378137,mg=Math.PI*Nb,URt=[-mg,-mg,mg,mg],VRt=[-180,-85,180,85],tP=Nb*Math.log(Math.tan(Math.PI/2)),dg=function(e){BRt(t,e);function t(r){return e.call(this,{code:r,units:ya.METERS,extent:URt,global:!0,worldExtent:VRt,getPointResolution:function(n,o){return n/i1e(o[1]/Nb)}})||this}return t}(eP),BU=[new dg("EPSG:3857"),new dg("EPSG:102100"),new dg("EPSG:102113"),new dg("EPSG:900913"),new dg("http://www.opengis.net/def/crs/EPSG/0/3857"),new dg("http://www.opengis.net/gml/srs/epsg.xml#3857")];function c1e(e,t,r){var n=e.length,o=r>1?r:2,i=t;i===void 0&&(o>2?i=e.slice():i=new Array(n));for(var f=0;f<n;f+=o){i[f]=mg*e[f]/180;var g=Nb*Math.log(Math.tan(Math.PI*(+e[f+1]+90)/360));g>tP?g=tP:g<-tP&&(g=-tP),i[f+1]=g}return i}function h1e(e,t,r){var n=e.length,o=r>1?r:2,i=t;i===void 0&&(o>2?i=e.slice():i=new Array(n));for(var f=0;f<n;f+=o)i[f]=180*e[f]/mg,i[f+1]=360*Math.atan(Math.exp(e[f+1]/Nb))/Math.PI-90;return i}h();var $Rt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GRt=6378137,f1e=[-180,-90,180,90],ZRt=Math.PI*GRt/180,ed=function(e){$Rt(t,e);function t(r,n){return e.call(this,{code:r,units:ya.DEGREES,extent:f1e,axisOrientation:n,global:!0,metersPerUnit:ZRt,worldExtent:f1e})||this}return t}(eP),UU=[new ed("CRS:84"),new ed("EPSG:4326","neu"),new ed("urn:ogc:def:crs:OGC:1.3:CRS84"),new ed("urn:ogc:def:crs:OGC:2:84"),new ed("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ed("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ed("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];h();var VU={};function p1e(e){return VU[e]||VU[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function d1e(e,t){VU[e]=t}h();h();var Cr=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,o=arguments.length;n<o;++n){var i=arguments[n];if(i!=null)for(var f in i)i.hasOwnProperty(f)&&(r[f]=i[f])}return r};function tu(e){for(var t in e)delete e[t]}var m1e=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function v1e(e){var t;for(t in e)return!1;return!t}var vg={};function Fb(e,t,r){var n=e.getCode(),o=t.getCode();n in vg||(vg[n]={}),vg[n][o]=r}function g1e(e,t){var r;return e in vg&&t in vg[e]&&(r=vg[e][t]),r}h();h();var Ni={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};h();h();h();function pr(){return function(){throw new Error("Unimplemented abstract method.")}()}var WRt=0;function hi(e){return e.ol_uid||(e.ol_uid=String(++WRt))}var rP="6.15.1";var HRt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KRt=function(e){HRt(t,e);function t(r){var n=this,o=rP==="latest"?rP:"v"+rP.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+r+" for details.";return n=e.call(this,i)||this,n.code=r,n.name="AssertionError",n.message=i,n}return t}(Error),nP=KRt;function $t(e,t){if(!e)throw new nP(t)}function $U(e){for(var t=_a(),r=0,n=e.length;r<n;++r)jb(t,e[r]);return t}function YRt(e,t,r){var n=Math.min.apply(null,e),o=Math.min.apply(null,t),i=Math.max.apply(null,e),f=Math.max.apply(null,t);return dc(n,o,i,f,r)}function GU(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function _1e(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function iP(e,t,r){var n,o;return t<e[0]?n=e[0]-t:e[2]<t?n=t-e[2]:n=0,r<e[1]?o=e[1]-r:e[3]<r?o=r-e[3]:o=0,n*n+o*o}function lf(e,t){return ZU(e,t[0],t[1])}function x1e(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function ZU(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function y1e(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],f=t[0],g=t[1],w=Ni.UNKNOWN;return f<r?w=w|Ni.LEFT:f>o&&(w=w|Ni.RIGHT),g<n?w=w|Ni.BELOW:g>i&&(w=w|Ni.ABOVE),w===Ni.UNKNOWN&&(w=Ni.INTERSECTING),w}function _a(){return[1/0,1/0,-1/0,-1/0]}function dc(e,t,r,n,o){return o?(o[0]=e,o[1]=t,o[2]=r,o[3]=n,o):[e,t,r,n]}function gg(e){return dc(1/0,1/0,-1/0,-1/0,e)}function b1e(e,t){var r=e[0],n=e[1];return dc(r,n,r,n,t)}function w1e(e,t,r,n,o){var i=gg(o);return WU(i,e,t,r,n)}function zb(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function E1e(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function jb(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function WU(e,t,r,n,o){for(;r<n;r+=o)XRt(e,t[r],t[r+1]);return e}function XRt(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function oP(e,t){var r;return r=t(yg(e)),r||(r=t(_g(e)),r)||(r=t(xg(e)),r)||(r=t(Rs(e)),r)?r:!1}function Bb(e){var t=0;return Vb(e)||(t=Kr(e)*Ti(e)),t}function yg(e){return[e[0],e[1]]}function _g(e){return[e[2],e[1]]}function mc(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function S1e(e,t){var r;return t==="bottom-left"?r=yg(e):t==="bottom-right"?r=_g(e):t==="top-left"?r=Rs(e):t==="top-right"?r=xg(e):$t(!1,13),r}function Ub(e,t,r,n,o){var i=aP(e,t,r,n),f=i[0],g=i[1],w=i[2],E=i[3],C=i[4],q=i[5],L=i[6],B=i[7];return dc(Math.min(f,w,C,L),Math.min(g,E,q,B),Math.max(f,w,C,L),Math.max(g,E,q,B),o)}function aP(e,t,r,n){var o=t*n[0]/2,i=t*n[1]/2,f=Math.cos(r),g=Math.sin(r),w=o*f,E=o*g,C=i*f,q=i*g,L=e[0],B=e[1];return[L-w+q,B-E-C,L-w-q,B-E+C,L+w-q,B+E+C,L+w+q,B+E-C,L-w+q,B-E-C]}function Ti(e){return e[3]-e[1]}function uf(e,t,r){var n=r||_a();return td(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):gg(n),n}function Rs(e){return[e[0],e[3]]}function xg(e){return[e[2],e[3]]}function Kr(e){return e[2]-e[0]}function td(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Vb(e){return e[2]<e[0]||e[3]<e[1]}function T1e(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function I1e(e,t,r){var n=!1,o=y1e(e,t),i=y1e(e,r);if(o===Ni.INTERSECTING||i===Ni.INTERSECTING)n=!0;else{var f=e[0],g=e[1],w=e[2],E=e[3],C=t[0],q=t[1],L=r[0],B=r[1],$=(B-q)/(L-C),ee=void 0,G=void 0;i&Ni.ABOVE&&!(o&Ni.ABOVE)&&(ee=L-(B-E)/$,n=ee>=f&&ee<=w),!n&&i&Ni.RIGHT&&!(o&Ni.RIGHT)&&(G=B-(L-w)*$,n=G>=g&&G<=E),!n&&i&Ni.BELOW&&!(o&Ni.BELOW)&&(ee=L-(B-g)/$,n=ee>=f&&ee<=w),!n&&i&Ni.LEFT&&!(o&Ni.LEFT)&&(G=B-(L-f)*$,n=G>=g&&G<=E)}return n}function C1e(e,t,r,n){var o=[];if(n>1)for(var i=e[2]-e[0],f=e[3]-e[1],g=0;g<n;++g)o.push(e[0]+i*g/n,e[1],e[2],e[1]+f*g/n,e[2]-i*g/n,e[3],e[0],e[3]-f*g/n);else o=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(o,o,2);for(var w=[],E=[],g=0,C=o.length;g<C;g+=2)w.push(o[g]),E.push(o[g+1]);return YRt(w,E,r)}h();h();function P1e(e,t){for(var r=(""+e).split("."),n=(""+t).split("."),o=0;o<Math.max(r.length,n.length);o++){var i=parseInt(r[o]||"0",10),f=parseInt(n[o]||"0",10);if(i>f)return 1;if(f>i)return-1}return 0}function A1e(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function rd(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function bg(e,t){var r=Math.cos(t),n=Math.sin(t),o=e[0]*r-e[1]*n,i=e[1]*r+e[0]*n;return e[0]=o,e[1]=i,e}function M1e(e,t){return e[0]*=t,e[1]*=t,e}function q1e(e,t){if(t.canWrapX()){var r=Kr(t.getExtent()),n=R1e(e,t,r);n&&(e[0]-=n*r)}return e}function R1e(e,t,r){var n=t.getExtent(),o=0;if(t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])){var i=r||Kr(n);o=Math.floor((e[0]-n[0])/i)}return o}h();var JRt=6371008.8;function HU(e,t,r){var n=r||JRt,o=pg(e[1]),i=pg(t[1]),f=(i-o)/2,g=pg(t[0]-e[0])/2,w=Math.sin(f)*Math.sin(f)+Math.sin(g)*Math.sin(g)*Math.cos(o)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(w),Math.sqrt(1-w))}var KU=!0;function L1e(e){var t=e===void 0?!0:e;KU=!t}function YU(e,t,r){var n;if(t!==void 0){for(var o=0,i=e.length;o<i;++o)t[o]=e[o];n=t}else n=e.slice();return n}function D1e(e,t,r){if(t!==void 0&&e!==t){for(var n=0,o=e.length;n<o;++n)t[n]=e[n];e=t}return e}function QRt(e){d1e(e.getCode(),e),Fb(e,e,YU)}function eOt(e){e.forEach(QRt)}function ao(e){return typeof e=="string"?p1e(e):e||null}function XU(e,t,r,n){e=ao(e);var o,i=e.getPointResolutionFunc();if(i){if(o=i(t,r),n&&n!==e.getUnits()){var f=e.getMetersPerUnit();f&&(o=o*f/ga[n])}}else{var g=e.getUnits();if(g==ya.DEGREES&&!n||n==ya.DEGREES)o=t;else{var w=JU(e,ao("EPSG:4326"));if(w===D1e&&g!==ya.DEGREES)o=t*e.getMetersPerUnit();else{var E=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];E=w(E,E,2);var C=HU(E.slice(0,2),E.slice(2,4)),q=HU(E.slice(4,6),E.slice(6,8));o=(C+q)/2}var f=n?ga[n]:e.getMetersPerUnit();f!==void 0&&(o/=f)}}return o}function O1e(e){eOt(e),e.forEach(function(t){e.forEach(function(r){t!==r&&Fb(t,r,YU)})})}function tOt(e,t,r,n){e.forEach(function(o){t.forEach(function(i){Fb(o,i,r),Fb(i,o,n)})})}function sP(e,t){return e?typeof e=="string"?ao(e):e:ao(t)}function cf(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return r;var n=JU(e,t);return n===YU&&r}function JU(e,t){var r=e.getCode(),n=t.getCode(),o=g1e(r,n);return o||(o=D1e),o}function nd(e,t){var r=ao(e),n=ao(t);return JU(r,n)}function wg(e,t,r){var n=nd(t,r);return n(e,void 0,e.length)}function hf(e,t,r,n){var o=nd(t,r);return C1e(e,o,void 0,n)}var vc=null;function k1e(){return vc}function $b(e,t){return vc?wg(e,t,vc):e}function dl(e,t){return vc?wg(e,vc,t):(KU&&!rd(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(KU=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function N1e(e,t){return vc?hf(e,t,vc):e}function ff(e,t){return vc?hf(e,vc,t):e}function rOt(){O1e(BU),O1e(UU),tOt(UU,BU,c1e,h1e)}rOt();h();h();var kg=$e(ar(),1),ml=$e(Wr(),1);h();h();h();var oOt=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();var Eo=oOt;h();h();h();h();var gc={PROPERTYCHANGE:"propertychange"};h();h();h();var aOt=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}(),Eg=aOt;h();h();function Gb(e,t){return e>t?1:e<t?-1:0}function Sg(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var o=void 0;if(r>0){for(o=1;o<n;++o)if(e[o]<t)return o-1}else if(r<0){for(o=1;o<n;++o)if(e[o]<=t)return o}else for(o=1;o<n;++o){if(e[o]==t)return o;if(e[o]<t)return typeof r=="function"?r(t,e[o-1],e[o])>0?o-1:o:e[o-1]-t<t-e[o]?o-1:o}return n-1}function G1e(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,o=0;o<n;o++)e[e.length]=r[o]}function Tg(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Z1e(e,t,r){var n=t||Gb;return e.every(function(o,i){if(i===0)return!0;var f=n(e[i-1],o);return!(f>0||r&&f===0)})}function pf(){return!0}function yc(){return!1}function _c(){}function W1e(e){var t=!1,r,n,o;return function(){var i=Array.prototype.slice.call(arguments);return(!t||this!==o||!Tg(i,n))&&(t=!0,o=this,n=i,r=e.apply(this,arguments)),r}}var sOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lOt=function(e){sOt(t,e);function t(r){var n=e.call(this)||this;return n.eventTarget_=r,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return t.prototype.addEventListener=function(r,n){if(!(!r||!n)){var o=this.listeners_||(this.listeners_={}),i=o[r]||(o[r]=[]);i.indexOf(n)===-1&&i.push(n)}},t.prototype.dispatchEvent=function(r){var n=typeof r=="string",o=n?r:r.type,i=this.listeners_&&this.listeners_[o];if(i){var f=n?new Eo(r):r;f.target||(f.target=this.eventTarget_||this);var g=this.dispatching_||(this.dispatching_={}),w=this.pendingRemovals_||(this.pendingRemovals_={});o in g||(g[o]=0,w[o]=0),++g[o];for(var E,C=0,q=i.length;C<q;++C)if("handleEvent"in i[C]?E=i[C].handleEvent(f):E=i[C].call(this,f),E===!1||f.propagationStopped){E=!1;break}if(--g[o]===0){var L=w[o];for(delete w[o];L--;)this.removeEventListener(o,_c);delete g[o]}return E}},t.prototype.disposeInternal=function(){this.listeners_&&tu(this.listeners_)},t.prototype.getListeners=function(r){return this.listeners_&&this.listeners_[r]||void 0},t.prototype.hasListener=function(r){return this.listeners_?r?r in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(r,n){var o=this.listeners_&&this.listeners_[r];if(o){var i=o.indexOf(n);i!==-1&&(this.pendingRemovals_&&r in this.pendingRemovals_?(o[i]=_c,++this.pendingRemovals_[r]):(o.splice(i,1),o.length===0&&delete this.listeners_[r]))}},t}(Eg),ru=lOt;h();var gt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};h();function nr(e,t,r,n,o){if(n&&n!==e&&(r=r.bind(n)),o){var i=r;r=function(){e.removeEventListener(t,r),i.apply(this,arguments)}}var f={target:e,type:t,listener:r};return e.addEventListener(t,r),f}function Ig(e,t,r,n){return nr(e,t,r,n,!0)}function _r(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),tu(e))}var uOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lP=function(e){uOt(t,e);function t(){var r=e.call(this)||this;return r.on=r.onInternal,r.once=r.onceInternal,r.un=r.unInternal,r.revision_=0,r}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(gt.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(r,n){if(Array.isArray(r)){for(var o=r.length,i=new Array(o),f=0;f<o;++f)i[f]=nr(this,r[f],n);return i}else return nr(this,r,n)},t.prototype.onceInternal=function(r,n){var o;if(Array.isArray(r)){var i=r.length;o=new Array(i);for(var f=0;f<i;++f)o[f]=Ig(this,r[f],n)}else o=Ig(this,r,n);return n.ol_key=o,o},t.prototype.unInternal=function(r,n){var o=n.ol_key;if(o)cOt(o);else if(Array.isArray(r))for(var i=0,f=r.length;i<f;++i)this.removeEventListener(r[i],n);else this.removeEventListener(r,n)},t}(ru);lP.prototype.on;lP.prototype.once;lP.prototype.un;function cOt(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)_r(e[t]);else _r(e)}var uP=lP;var K1e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H1e=function(e){K1e(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.key=n,i.oldValue=o,i}return t}(Eo);var hOt=function(e){K1e(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,hi(n),n.values_=null,r!==void 0&&n.setProperties(r),n}return t.prototype.get=function(r){var n;return this.values_&&this.values_.hasOwnProperty(r)&&(n=this.values_[r]),n},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Cr({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(r,n){var o;o="change:".concat(r),this.hasListener(o)&&this.dispatchEvent(new H1e(o,r,n)),o=gc.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new H1e(o,r,n))},t.prototype.addChangeListener=function(r,n){this.addEventListener("change:".concat(r),n)},t.prototype.removeChangeListener=function(r,n){this.removeEventListener("change:".concat(r),n)},t.prototype.set=function(r,n,o){var i=this.values_||(this.values_={});if(o)i[r]=n;else{var f=i[r];i[r]=n,f!==n&&this.notify(r,f)}},t.prototype.setProperties=function(r,n){for(var o in r)this.set(o,r[o],n)},t.prototype.applyProperties=function(r){r.values_&&Cr(this.values_||(this.values_={}),r.values_)},t.prototype.unset=function(r,n){if(this.values_&&r in this.values_){var o=this.values_[r];delete this.values_[r],v1e(this.values_)&&(this.values_=null),n||this.notify(r,o)}},t}(uP),Fi=hOt;h();var QU={ACTIVE:"active"};h();function e4(e){return Math.pow(e,3)}function Os(e){return 1-e4(1-e)}function Y1e(e){return 3*e*e-2*e*e*e}function X1e(e){return e}var fOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pOt=function(e){fOt(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,r&&r.handleEvent&&(n.handleEvent=r.handleEvent),n.map_=null,n.setActive(!0),n}return t.prototype.getActive=function(){return this.get(QU.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(r){return!0},t.prototype.setActive=function(r){this.set(QU.ACTIVE,r)},t.prototype.setMap=function(r){this.map_=r},t}(Fi);function J1e(e,t,r){var n=e.getCenterInternal();if(n){var o=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:r!==void 0?r:250,easing:X1e,center:e.getConstrainedCenter(o)})}}function Cg(e,t,r,n){var o=e.getZoom();if(o!==void 0){var i=e.getConstrainedZoom(o+t),f=e.getResolutionForZoom(i);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:f,anchor:r,duration:n!==void 0?n:250,easing:Os})}}var nu=pOt;h();var nn={SINGLECLICK:"singleclick",CLICK:gt.CLICK,DBLCLICK:gt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var dOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mOt=function(e){dOt(t,e);function t(r){var n=this,o=r||{};return n=e.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(r){return!1},t.prototype.handleDragEvent=function(r){},t.prototype.handleEvent=function(r){if(!r.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(r),this.handlingDownUpSequence){if(r.type==nn.POINTERDRAG)this.handleDragEvent(r),r.originalEvent.preventDefault();else if(r.type==nn.POINTERUP){var o=this.handleUpEvent(r);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(r.type==nn.POINTERDOWN){var i=this.handleDownEvent(r);this.handlingDownUpSequence=i,n=this.stopDown(i)}else r.type==nn.POINTERMOVE&&this.handleMoveEvent(r);return!n},t.prototype.handleMoveEvent=function(r){},t.prototype.handleUpEvent=function(r){return!1},t.prototype.stopDown=function(r){return r},t.prototype.updateTrackedPointers_=function(r){r.activePointers&&(this.targetPointers=r.activePointers)},t}(nu);function Pg(e){for(var t=e.length,r=0,n=0,o=0;o<t;o++)r+=e[o].clientX,n+=e[o].clientY;return[r/t,n/t]}var iu=mOt;h();h();h();var So={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};h();h();h();h();h();var df=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",Q1e=df.indexOf("firefox")!==-1,vOt=df.indexOf("safari")!==-1&&df.indexOf("chrom")==-1,vAr=vOt&&!!(df.indexOf("version/15.4")>=0||df.match(/cpu (os|iphone os) 15_4 like mac os x/)),ewe=df.indexOf("webkit")!==-1&&df.indexOf("edge")==-1,twe=df.indexOf("macintosh")!==-1,cP=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,hP=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,rwe=typeof Image!="undefined"&&Image.prototype.decode,fP=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(r){}return e}();var bAr=new Array(6);function xc(){return[1,0,0,1,0,0]}function so(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function bc(e,t,r,n,o,i,f,g){var w=Math.sin(i),E=Math.cos(i);return e[0]=n*E,e[1]=o*w,e[2]=-n*w,e[3]=o*E,e[4]=f*n*E-g*n*w+t,e[5]=f*o*w+g*o*E+r,e}function pP(e,t){var r=gOt(t);$t(r!==0,32);var n=t[0],o=t[1],i=t[2],f=t[3],g=t[4],w=t[5];return e[0]=f/r,e[1]=-o/r,e[2]=-i/r,e[3]=n/r,e[4]=(i*w-f*g)/r,e[5]=-(n*w-o*g)/r,e}function gOt(e){return e[0]*e[3]-e[1]*e[2]}var nwe;function iwe(e){var t="matrix("+e.join(", ")+")";if(hP)return t;var r=nwe||(nwe=document.createElement("div"));return r.style.transform=t,r.style.transform}h();function t4(e,t,r,n,o,i){for(var f=i||[],g=0,w=t;w<r;w+=n){var E=e[w],C=e[w+1];f[g++]=o[0]*E+o[2]*C+o[4],f[g++]=o[1]*E+o[3]*C+o[5]}return i&&f.length!=g&&(f.length=g),f}function owe(e,t,r,n,o,i,f){for(var g=f||[],w=Math.cos(o),E=Math.sin(o),C=i[0],q=i[1],L=0,B=t;B<r;B+=n){var $=e[B]-C,ee=e[B+1]-q;g[L++]=C+$*w-ee*E,g[L++]=q+$*E+ee*w;for(var G=B+2;G<B+n;++G)g[L++]=e[G]}return f&&g.length!=L&&(g.length=L),g}function awe(e,t,r,n,o,i,f,g){for(var w=g||[],E=f[0],C=f[1],q=0,L=t;L<r;L+=n){var B=e[L]-E,$=e[L+1]-C;w[q++]=E+o*B,w[q++]=C+i*$;for(var ee=L+2;ee<L+n;++ee)w[q++]=e[ee]}return g&&w.length!=q&&(w.length=q),w}function swe(e,t,r,n,o,i,f){for(var g=f||[],w=0,E=t;E<r;E+=n){g[w++]=e[E]+o,g[w++]=e[E+1]+i;for(var C=E+2;C<E+n;++C)g[w++]=e[C]}return f&&g.length!=w&&(g.length=w),g}var yOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lwe=xc(),_Ot=function(e){yOt(t,e);function t(){var r=e.call(this)||this;return r.extent_=_a(),r.extentRevision_=-1,r.simplifiedGeometryMaxMinSquaredTolerance=0,r.simplifiedGeometryRevision=0,r.simplifyTransformedInternal=W1e(function(n,o,i){if(!i)return this.getSimplifiedGeometry(o);var f=this.clone();return f.applyTransform(i),f.getSimplifiedGeometry(o)}),r}return t.prototype.simplifyTransformed=function(r,n){return this.simplifyTransformedInternal(this.getRevision(),r,n)},t.prototype.clone=function(){return pr()},t.prototype.closestPointXY=function(r,n,o,i){return pr()},t.prototype.containsXY=function(r,n){var o=this.getClosestPoint([r,n]);return o[0]===r&&o[1]===n},t.prototype.getClosestPoint=function(r,n){var o=n||[NaN,NaN];return this.closestPointXY(r[0],r[1],o,1/0),o},t.prototype.intersectsCoordinate=function(r){return this.containsXY(r[0],r[1])},t.prototype.computeExtent=function(r){return pr()},t.prototype.getExtent=function(r){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&gg(n),this.extentRevision_=this.getRevision()}return T1e(this.extent_,r)},t.prototype.rotate=function(r,n){pr()},t.prototype.scale=function(r,n,o){pr()},t.prototype.simplify=function(r){return this.getSimplifiedGeometry(r*r)},t.prototype.getSimplifiedGeometry=function(r){return pr()},t.prototype.getType=function(){return pr()},t.prototype.applyTransform=function(r){pr()},t.prototype.intersectsExtent=function(r){return pr()},t.prototype.translate=function(r,n){pr()},t.prototype.transform=function(r,n){var o=ao(r),i=o.getUnits()==ya.TILE_PIXELS?function(f,g,w){var E=o.getExtent(),C=o.getWorldExtent(),q=Ti(C)/Ti(E);return bc(lwe,C[0],C[3],q,-q,0,0,0),t4(f,0,f.length,w,lwe,g),nd(o,n)(f,g,w)}:nd(o,n);return this.applyTransform(i),this},t}(Fi),uwe=_Ot;var xOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bOt=function(e){xOt(t,e);function t(){var r=e.call(this)||this;return r.layout=So.XY,r.stride=2,r.flatCoordinates=null,r}return t.prototype.computeExtent=function(r){return w1e(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)},t.prototype.getCoordinates=function(){return pr()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(r){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),r<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&r<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(r),o=n.getFlatCoordinates();return o.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=r,this)},t.prototype.getSimplifiedGeometryInternal=function(r){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(r,n){this.stride=cwe(r),this.layout=r,this.flatCoordinates=n},t.prototype.setCoordinates=function(r,n){pr()},t.prototype.setLayout=function(r,n,o){var i;if(r)i=cwe(r);else{for(var f=0;f<o;++f)if(n.length===0){this.layout=So.XY,this.stride=2;return}else n=n[0];i=n.length,r=wOt(i)}this.layout=r,this.stride=i},t.prototype.applyTransform=function(r){this.flatCoordinates&&(r(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(r,n){var o=this.getFlatCoordinates();if(o){var i=this.getStride();owe(o,0,o.length,i,r,n,o),this.changed()}},t.prototype.scale=function(r,n,o){var i=n;i===void 0&&(i=r);var f=o;f||(f=mc(this.getExtent()));var g=this.getFlatCoordinates();if(g){var w=this.getStride();awe(g,0,g.length,w,r,i,f,g),this.changed()}},t.prototype.translate=function(r,n){var o=this.getFlatCoordinates();if(o){var i=this.getStride();swe(o,0,o.length,i,r,n,o),this.changed()}},t}(uwe);function wOt(e){var t;return e==2?t=So.XY:e==3?t=So.XYZ:e==4&&(t=So.XYZM),t}function cwe(e){var t;return e==So.XY?t=2:e==So.XYZ||e==So.XYM?t=3:e==So.XYZM&&(t=4),t}var Ag=bOt;h();function hwe(e,t,r,n,o,i,f){var g=e[t],w=e[t+1],E=e[r]-g,C=e[r+1]-w,q;if(E===0&&C===0)q=t;else{var L=((o-g)*E+(i-w)*C)/(E*E+C*C);if(L>1)q=r;else if(L>0){for(var B=0;B<n;++B)f[B]=l1e(e[t+B],e[r+B],L);f.length=n;return}else q=t}for(var B=0;B<n;++B)f[B]=e[q+B];f.length=n}function r4(e,t,r,n,o){var i=e[t],f=e[t+1];for(t+=n;t<r;t+=n){var g=e[t],w=e[t+1],E=pc(i,f,g,w);E>o&&(o=E),i=g,f=w}return o}function fwe(e,t,r,n,o){for(var i=0,f=r.length;i<f;++i){var g=r[i];o=r4(e,t,g,n,o),t=g}return o}function n4(e,t,r,n,o,i,f,g,w,E,C){if(t==r)return E;var q,L;if(o===0)if(L=pc(f,g,e[t],e[t+1]),L<E){for(q=0;q<n;++q)w[q]=e[t+q];return w.length=n,L}else return E;for(var B=C||[NaN,NaN],$=t+n;$<r;)if(hwe(e,$-n,$,n,f,g,B),L=pc(f,g,B[0],B[1]),L<E){for(E=L,q=0;q<n;++q)w[q]=B[q];w.length=n,$+=n}else $+=n*Math.max((Math.sqrt(L)-Math.sqrt(E))/o|0,1);if(i&&(hwe(e,r-n,t,n,f,g,B),L=pc(f,g,B[0],B[1]),L<E)){for(E=L,q=0;q<n;++q)w[q]=B[q];w.length=n}return E}function pwe(e,t,r,n,o,i,f,g,w,E,C){for(var q=C||[NaN,NaN],L=0,B=r.length;L<B;++L){var $=r[L];E=n4(e,t,$,n,o,i,f,g,w,E,q),t=$}return E}h();function dwe(e,t,r,n){for(var o=0,i=r.length;o<i;++o)e[t++]=r[o];return t}function i4(e,t,r,n){for(var o=0,i=r.length;o<i;++o)for(var f=r[o],g=0;g<n;++g)e[t++]=f[g];return t}function mwe(e,t,r,n,o){for(var i=o||[],f=0,g=0,w=r.length;g<w;++g){var E=i4(e,t,r[g],n);i[f++]=E,t=E}return i.length=f,i}h();function vwe(e,t,r,n,o,i,f){var g=(r-t)/n;if(g<3){for(;t<r;t+=n)i[f++]=e[t],i[f++]=e[t+1];return f}var w=new Array(g);w[0]=1,w[g-1]=1;for(var E=[t,r-n],C=0;E.length>0;){for(var q=E.pop(),L=E.pop(),B=0,$=e[L],ee=e[L+1],G=e[q],H=e[q+1],Q=L+n;Q<q;Q+=n){var se=e[Q],de=e[Q+1],De=a1e(se,de,$,ee,G,H);De>B&&(C=Q,B=De)}B>o&&(w[(C-t)/n]=1,L+n<C&&E.push(L,C),C+n<q&&E.push(C,q))}for(var Q=0;Q<g;++Q)w[Q]&&(i[f++]=e[t+Q*n],i[f++]=e[t+Q*n+1]);return f}function Mg(e,t){return t*Math.round(e/t)}function EOt(e,t,r,n,o,i,f){if(t==r)return f;var g=Mg(e[t],o),w=Mg(e[t+1],o);t+=n,i[f++]=g,i[f++]=w;var E,C;do if(E=Mg(e[t],o),C=Mg(e[t+1],o),t+=n,t==r)return i[f++]=E,i[f++]=C,f;while(E==g&&C==w);for(;t<r;){var q=Mg(e[t],o),L=Mg(e[t+1],o);if(t+=n,!(q==E&&L==C)){var B=E-g,$=C-w,ee=q-g,G=L-w;if(B*G==$*ee&&(B<0&&ee<B||B==ee||B>0&&ee>B)&&($<0&&G<$||$==G||$>0&&G>$)){E=q,C=L;continue}i[f++]=E,i[f++]=C,g=E,w=C,E=q,C=L}}return i[f++]=E,i[f++]=C,f}function gwe(e,t,r,n,o,i,f,g){for(var w=0,E=r.length;w<E;++w){var C=r[w];f=EOt(e,t,C,n,o,i,f),g.push(f),t=C}return f}h();function o4(e,t,r,n,o){for(var i=o!==void 0?o:[],f=0,g=t;g<r;g+=n)i[f++]=e.slice(g,g+n);return i.length=f,i}function ywe(e,t,r,n,o){for(var i=o!==void 0?o:[],f=0,g=0,w=r.length;g<w;++g){var E=r[g];i[f++]=o4(e,t,E,n,i[f]),t=E}return i.length=f,i}h();function a4(e,t,r,n){for(var o=0,i=e[r-n],f=e[r-n+1];t<r;t+=n){var g=e[t],w=e[t+1];o+=f*g-i*w,i=g,f=w}return o/2}function _we(e,t,r,n){for(var o=0,i=0,f=r.length;i<f;++i){var g=r[i];o+=a4(e,t,g,n),t=g}return o}var SOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TOt=function(e){SOt(t,e);function t(r,n){var o=e.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(r[0])?o.setFlatCoordinates(n,r):o.setCoordinates(r,n),o}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(r,n,o,i){return i<iP(this.getExtent(),r,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(r4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),n4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,r,n,o,i))},t.prototype.getArea=function(){return a4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return o4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[];return n.length=vwe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,n,0),new t(n,So.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(r){return!1},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=i4(this.flatCoordinates,0,r,this.stride),this.changed()},t}(Ag),s4=TOt;h();var IOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),COt=function(e){IOt(t,e);function t(r,n){var o=e.call(this)||this;return o.setCoordinates(r,n),o}return t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,o,i){var f=this.flatCoordinates,g=pc(r,n,f[0],f[1]);if(g<i){for(var w=this.stride,E=0;E<w;++E)o[E]=f[E];return o.length=w,g}else return i},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(r){return b1e(this.flatCoordinates,r)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(r){return ZU(r,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dwe(this.flatCoordinates,0,r,this.stride),this.changed()},t}(Ag),xwe=COt;h();h();function bwe(e,t,r,n,o){var i=oP(o,function(f){return!mf(e,t,r,n,f[0],f[1])});return!i}function mf(e,t,r,n,o,i){for(var f=0,g=e[r-n],w=e[r-n+1];t<r;t+=n){var E=e[t],C=e[t+1];w<=i?C>i&&(E-g)*(i-w)-(o-g)*(C-w)>0&&f++:C<=i&&(E-g)*(i-w)-(o-g)*(C-w)<0&&f--,g=E,w=C}return f!==0}function dP(e,t,r,n,o,i){if(r.length===0||!mf(e,t,r[0],n,o,i))return!1;for(var f=1,g=r.length;f<g;++f)if(mf(e,r[f-1],r[f],n,o,i))return!1;return!0}function wwe(e,t,r,n,o,i,f){for(var g,w,E,C,q,L,B,$=o[i+1],ee=[],G=0,H=r.length;G<H;++G){var Q=r[G];for(C=e[Q-n],L=e[Q-n+1],g=t;g<Q;g+=n)q=e[g],B=e[g+1],($<=L&&B<=$||L<=$&&$<=B)&&(E=($-L)/(B-L)*(q-C)+C,ee.push(E)),C=q,L=B}var se=NaN,de=-1/0;for(ee.sort(Gb),C=ee[0],g=1,w=ee.length;g<w;++g){q=ee[g];var De=Math.abs(q-C);De>de&&(E=(C+q)/2,dP(e,t,r,n,E,$)&&(se=E,de=De)),C=q}return isNaN(se)&&(se=o[i]),f?(f.push(se,$,de),f):[se,$,de]}h();h();function Ewe(e,t,r,n,o){var i;for(t+=n;t<r;t+=n)if(i=o(e.slice(t-n,t),e.slice(t,t+n)),i)return i;return!1}function Swe(e,t,r,n,o){var i=WU(_a(),e,t,r,n);return td(o,i)?x1e(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]?!0:Ewe(e,t,r,n,function(f,g){return I1e(o,f,g)}):!1}function l4(e,t,r,n,o){return!!(Swe(e,t,r,n,o)||mf(e,t,r,n,o[0],o[1])||mf(e,t,r,n,o[0],o[3])||mf(e,t,r,n,o[2],o[1])||mf(e,t,r,n,o[2],o[3]))}function Twe(e,t,r,n,o){if(!l4(e,t,r[0],n,o))return!1;if(r.length===1)return!0;for(var i=1,f=r.length;i<f;++i)if(bwe(e,r[i-1],r[i],n,o)&&!Swe(e,r[i-1],r[i],n,o))return!1;return!0}h();h();function Iwe(e,t,r,n){for(;t<r-n;){for(var o=0;o<n;++o){var i=e[t+o];e[t+o]=e[r-n+o],e[r-n+o]=i}t+=n,r-=n}}function Cwe(e,t,r,n){for(var o=0,i=e[r-n],f=e[r-n+1];t<r;t+=n){var g=e[t],w=e[t+1];o+=(g-i)*(w+f),i=g,f=w}return o===0?void 0:o>0}function Pwe(e,t,r,n,o){for(var i=o!==void 0?o:!1,f=0,g=r.length;f<g;++f){var w=r[f],E=Cwe(e,t,w,n);if(f===0){if(i&&E||!i&&!E)return!1}else if(i&&!E||!i&&E)return!1;t=w}return!0}function u4(e,t,r,n,o){for(var i=o!==void 0?o:!1,f=0,g=r.length;f<g;++f){var w=r[f],E=Cwe(e,t,w,n),C=f===0?i&&E||!i&&!E:i&&!E||!i&&E;C&&Iwe(e,t,w,n),t=w}return t}var POt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Awe=function(e){POt(t,e);function t(r,n,o){var i=e.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,n!==void 0&&o?(i.setFlatCoordinates(n,r),i.ends_=o):i.setCoordinates(r,n),i}return t.prototype.appendLinearRing=function(r){this.flatCoordinates?G1e(this.flatCoordinates,r.getFlatCoordinates()):this.flatCoordinates=r.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,o,i){return i<iP(this.getExtent(),r,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fwe(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pwe(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,r,n,o,i))},t.prototype.containsXY=function(r,n){return dP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,n)},t.prototype.getArea=function(){return _we(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(r){var n;return r!==void 0?(n=this.getOrientedFlatCoordinates().slice(),u4(n,0,this.ends_,this.stride,r)):n=this.flatCoordinates,ywe(n,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var r=mc(this.getExtent());this.flatInteriorPoint_=wwe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new xwe(this.getFlatInteriorPoint(),So.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(r){return r<0||this.ends_.length<=r?null:new s4(this.flatCoordinates.slice(r===0?0:this.ends_[r-1],this.ends_[r]),this.layout)},t.prototype.getLinearRings=function(){for(var r=this.layout,n=this.flatCoordinates,o=this.ends_,i=[],f=0,g=0,w=o.length;g<w;++g){var E=o[g],C=new s4(n.slice(f,E),r);i.push(C),f=E}return i},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var r=this.flatCoordinates;Pwe(r,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=r:(this.orientedFlatCoordinates_=r.slice(),this.orientedFlatCoordinates_.length=u4(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[],o=[];return n.length=gwe(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(r),n,0,o),new t(n,So.XY,o)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(r){return Twe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r)},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=mwe(this.flatCoordinates,0,r,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},t}(Ag),mP=Awe;function Zb(e){var t=e[0],r=e[1],n=e[2],o=e[3],i=[t,r,t,o,n,o,n,r,t,r];return new Awe(i,So.XY,[i.length])}var AOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MOt=function(e){AOt(t,e);function t(r){var n=e.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+r,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var r=this.startPixel_,n=this.endPixel_,o="px",i=this.element_.style;i.left=Math.min(r[0],n[0])+o,i.top=Math.min(r[1],n[1])+o,i.width=Math.abs(n[0]-r[0])+o,i.height=Math.abs(n[1]-r[1])+o},t.prototype.setMap=function(r){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=r,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(r,n){this.startPixel_=r,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var r=this.startPixel_,n=this.endPixel_,o=[r,[r[0],n[1]],n,[n[0],r[1]]],i=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new mP([i])},t.prototype.getGeometry=function(){return this.geometry_},t}(Eg),Mwe=MOt;h();function Wb(e){var t=arguments;return function(r){for(var n=!0,o=0,i=t.length;o<i&&(n=n&&t[o](r),!!n);++o);return n}}var qwe=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},qOt=function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)},vP=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?qOt(e):!0},Rwe=pf;var gP=function(e){var t=e.originalEvent;return t.button==0&&!(ewe&&twe&&t.ctrlKey)};var yP=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var Owe=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},_P=function(e){var t=e.originalEvent,r=t.target.tagName;return r!=="INPUT"&&r!=="SELECT"&&r!=="TEXTAREA"&&!t.target.isContentEditable},xP=function(e){var t=e.originalEvent;return $t(t!==void 0,56),t.pointerType=="mouse"};var Lwe=function(e){var t=e.originalEvent;return $t(t!==void 0,56),t.isPrimary&&t.button===0};var Dwe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bP={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},c4=function(e){Dwe(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.coordinate=n,i.mapBrowserEvent=o,i}return t}(Eo);var ROt=function(e){Dwe(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var o=r||{};return n.box_=new Mwe(o.className||"ol-dragbox"),n.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(n.onBoxEnd=o.onBoxEnd),n.startPixel_=null,n.condition_=o.condition?o.condition:gP,n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return t.prototype.defaultBoxEndCondition=function(r,n,o){var i=o[0]-n[0],f=o[1]-n[1];return i*i+f*f>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(r){this.box_.setPixels(this.startPixel_,r.pixel),this.dispatchEvent(new c4(bP.BOXDRAG,r.coordinate,r))},t.prototype.handleUpEvent=function(r){this.box_.setMap(null);var n=this.boxEndCondition_(r,this.startPixel_,r.pixel);return n&&this.onBoxEnd(r),this.dispatchEvent(new c4(n?bP.BOXEND:bP.BOXCANCEL,r.coordinate,r)),!1},t.prototype.handleDownEvent=function(r){return this.condition_(r)?(this.startPixel_=r.pixel,this.box_.setMap(r.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c4(bP.BOXSTART,r.coordinate,r)),!0):!1},t.prototype.onBoxEnd=function(r){},t}(iu),kwe=ROt;var OOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LOt=function(e){OOt(t,e);function t(r){var n=this,o=r||{},i=o.condition?o.condition:Owe;return n=e.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,n.duration_=o.duration!==void 0?o.duration:200,n.out_=o.out!==void 0?o.out:!1,n}return t.prototype.onBoxEnd=function(r){var n=this.getMap(),o=n.getView(),i=this.getGeometry();if(this.out_){var f=o.rotatedExtentForGeometry(i),g=o.getResolutionForExtentInternal(f),w=o.getResolution()/g;i=i.clone(),i.scale(w*w)}o.fitInternal(i,{duration:this.duration_,easing:Os})},t}(kwe),wP=LOt;h();h();h();var ou={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};h();function wc(e,t,r,n){var o;return r&&r.length?o=r.shift():hP?o=new OffscreenCanvas(e||300,t||300):o=document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",n)}function Nwe(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function qg(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function Hb(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Fwe(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function zwe(e,t){for(var r=e.childNodes,n=0;;++n){var o=r[n],i=t[n];if(!o&&!i)break;if(o!==i){if(!o){e.appendChild(i);continue}if(!i){e.removeChild(o),--n;continue}e.insertBefore(i,o)}}}var DOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kOt=function(e){DOt(t,e);function t(r){var n=e.call(this)||this,o=r.element;return o&&!r.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),n.element=o||null,n.target_=null,n.map_=null,n.listenerKeys=[],r.render&&(n.render=r.render),r.target&&n.setTarget(r.target),n}return t.prototype.disposeInternal=function(){Hb(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(r){this.map_&&Hb(this.element);for(var n=0,o=this.listenerKeys.length;n<o;++n)_r(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=r,r){var i=this.target_?this.target_:r.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==_c&&this.listenerKeys.push(nr(r,ou.POSTRENDER,this.render,this)),r.render()}},t.prototype.render=function(r){},t.prototype.setTarget=function(r){this.target_=typeof r=="string"?document.getElementById(r):r},t}(Fi),Ka=kOt;h();var fi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};h();var Kb="ol-hidden";var Ls="ol-unselectable",h4="ol-unsupported",au="ol-control",f4="ol-collapsed",NOt=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),jwe=["style","variant","weight","size","lineHeight","family"],Bwe=function(e){var t=e.match(NOt);if(!t)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,o=jwe.length;n<o;++n){var i=t[n+1];i!==void 0&&(r[jwe[n]]=i)}return r.families=r.family.split(/,\s?/),r};var FOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uwe=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],Vwe={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},zOt=function(e){FOt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,{element:document.createElement("div"),target:o.target})||this,n.on,n.once,n.un,n.keys_=o.keys!==void 0?o.keys:!1,n.source_=o.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n.cssClassName_=o.className!==void 0?o.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=o.activeClassName!==void 0?o.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=o.inactiveClassName!==void 0?o.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var i=o.label!==void 0?o.label:"\u2922";n.labelNode_=typeof i=="string"?document.createTextNode(i):i;var f=o.labelActive!==void 0?o.labelActive:"\xD7";n.labelActiveNode_=typeof f=="string"?document.createTextNode(f):f;var g=o.tipLabel?o.tipLabel:"Toggle full-screen";return n.button_=document.createElement("button"),n.button_.title=g,n.button_.setAttribute("type","button"),n.button_.appendChild(n.labelNode_),n.button_.addEventListener(gt.CLICK,n.handleClick_.bind(n),!1),n.setClassName_(n.button_,n.isInFullscreen_),n.element.className="".concat(n.cssClassName_," ").concat(Ls," ").concat(au),n.element.appendChild(n.button_),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var r=this.getMap();if(r){var n=r.getOwnerDocument();if($we(n))if(Gwe(n))BOt(n);else{var o=void 0;this.source_?o=typeof this.source_=="string"?n.getElementById(this.source_):this.source_:o=r.getTargetElement(),this.keys_?jOt(o):Zwe(o)}}},t.prototype.handleFullScreenChange_=function(){var r=this.getMap();if(r){var n=this.isInFullscreen_;this.isInFullscreen_=Gwe(r.getOwnerDocument()),n!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(qg(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Vwe.ENTERFULLSCREEN)):(qg(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Vwe.LEAVEFULLSCREEN)),r.updateSize())}},t.prototype.setClassName_=function(r,n){var o,i,f,g;n?((o=r.classList).remove.apply(o,this.inactiveClassName_),(i=r.classList).add.apply(i,this.activeClassName_)):((f=r.classList).remove.apply(f,this.activeClassName_),(g=r.classList).add.apply(g,this.inactiveClassName_))},t.prototype.setMap=function(r){var n=this.getMap();n&&n.removeChangeListener(fi.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,r),this.handleMapTargetChange_(),r&&r.addChangeListener(fi.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var r=this.documentListeners_,n=0,o=r.length;n<o;++n)_r(r[n]);r.length=0;var i=this.getMap();if(i){var f=i.getOwnerDocument();$we(f)?this.element.classList.remove(h4):this.element.classList.add(h4);for(var n=0,o=Uwe.length;n<o;++n)r.push(nr(f,Uwe[n],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(Ka);function $we(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function Gwe(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function Zwe(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function jOt(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():Zwe(e)}function BOt(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}var Wwe=zOt;h();h();h();var Wo={ADD:"add",REMOVE:"remove"};var Kwe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hwe={LENGTH:"length"},EP=function(e){Kwe(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.element=n,i.index=o,i}return t}(Eo);var UOt=function(e){Kwe(t,e);function t(r,n){var o=e.call(this)||this;o.on,o.once,o.un;var i=n||{};if(o.unique_=!!i.unique,o.array_=r||[],o.unique_)for(var f=0,g=o.array_.length;f<g;++f)o.assertUnique_(o.array_[f],f);return o.updateLength_(),o}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(r){for(var n=0,o=r.length;n<o;++n)this.push(r[n]);return this},t.prototype.forEach=function(r){for(var n=this.array_,o=0,i=n.length;o<i;++o)r(n[o],o,n)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(r){return this.array_[r]},t.prototype.getLength=function(){return this.get(Hwe.LENGTH)},t.prototype.insertAt=function(r,n){this.unique_&&this.assertUnique_(n),this.array_.splice(r,0,n),this.updateLength_(),this.dispatchEvent(new EP(Wo.ADD,n,r))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(r){this.unique_&&this.assertUnique_(r);var n=this.getLength();return this.insertAt(n,r),this.getLength()},t.prototype.remove=function(r){for(var n=this.array_,o=0,i=n.length;o<i;++o)if(n[o]===r)return this.removeAt(o)},t.prototype.removeAt=function(r){var n=this.array_[r];return this.array_.splice(r,1),this.updateLength_(),this.dispatchEvent(new EP(Wo.REMOVE,n,r)),n},t.prototype.setAt=function(r,n){var o=this.getLength();if(r<o){this.unique_&&this.assertUnique_(n,r);var i=this.array_[r];this.array_[r]=n,this.dispatchEvent(new EP(Wo.REMOVE,i,r)),this.dispatchEvent(new EP(Wo.ADD,n,r))}else{for(var f=o;f<r;++f)this.insertAt(f,void 0);this.insertAt(r,n)}},t.prototype.updateLength_=function(){this.set(Hwe.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(r,n){for(var o=0,i=this.array_.length;o<i;++o)if(this.array_[o]===r&&o!==n)throw new nP(58)},t}(Fi),Ho=UOt;h();var VOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Ot=function(e){VOt(t,e);function t(r){var n=e.call(this)||this,o=r||{};return n.delta_=o.delta?o.delta:1,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==nn.DBLCLICK){var o=r.originalEvent,i=r.map,f=r.coordinate,g=o.shiftKey?-this.delta_:this.delta_,w=i.getView();Cg(w,g,f,this.duration_),o.preventDefault(),n=!0}return!n},t}(nu),Ywe=$Ot;h();var GOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZOt=function(e){GOt(t,e);function t(r){var n=e.call(this,{stopDown:yc})||this,o=r||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=o.condition?o.condition:Wb(yP,Lwe);return n.condition_=o.onFocusOnly?Wb(vP,i):i,n.noKinetic_=!1,n}return t.prototype.handleDragEvent=function(r){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,o=Pg(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],f=r.map,g=f.getView();M1e(i,g.getResolution()),bg(i,g.getRotation()),g.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=n.length,r.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(r){var n=r.map,o=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),f=this.kinetic_.getAngle(),g=o.getCenterInternal(),w=n.getPixelFromCoordinateInternal(g),E=n.getCoordinateFromPixelInternal([w[0]-i*Math.cos(f),w[1]-i*Math.sin(f)]);o.animateInternal({center:o.getConstrainedCenter(E),duration:500,easing:Os})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>0&&this.condition_(r)){var n=r.map,o=n.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(iu),Xwe=ZOt;h();h();function Rg(e){if(e!==void 0)return 0}function p4(e){if(e!==void 0)return e}function Jwe(e){var t=2*Math.PI/e;return function(r,n){if(n)return r;if(r!==void 0)return r=Math.floor(r/t+.5)*t,r}}function Qwe(e){var t=e||pg(5);return function(r,n){if(n)return r;if(r!==void 0)return Math.abs(r)<=t?0:r}}var WOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HOt=function(e){WOt(t,e);function t(r){var n=this,o=r||{};return n=e.call(this,{stopDown:yc})||this,n.condition_=o.condition?o.condition:qwe,n.lastAngle_=void 0,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleDragEvent=function(r){if(xP(r)){var n=r.map,o=n.getView();if(o.getConstraints().rotation!==Rg){var i=n.getSize(),f=r.pixel,g=Math.atan2(i[1]/2-f[1],f[0]-i[0]/2);if(this.lastAngle_!==void 0){var w=g-this.lastAngle_;o.adjustRotationInternal(-w)}this.lastAngle_=g}}},t.prototype.handleUpEvent=function(r){if(!xP(r))return!0;var n=r.map,o=n.getView();return o.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(r){if(!xP(r))return!1;if(gP(r)&&this.condition_(r)){var n=r.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(iu),eEe=HOt;h();h();var vf={LEFT:37,UP:38,RIGHT:39,DOWN:40};var KOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YOt=function(e){KOt(t,e);function t(r){var n=e.call(this)||this,o=r||{};return n.defaultCondition_=function(i){return yP(i)&&_P(i)},n.condition_=o.condition!==void 0?o.condition:n.defaultCondition_,n.duration_=o.duration!==void 0?o.duration:100,n.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==gt.KEYDOWN){var o=r.originalEvent,i=o.keyCode;if(this.condition_(r)&&(i==vf.DOWN||i==vf.LEFT||i==vf.RIGHT||i==vf.UP)){var f=r.map,g=f.getView(),w=g.getResolution()*this.pixelDelta_,E=0,C=0;i==vf.DOWN?C=-w:i==vf.LEFT?E=-w:i==vf.RIGHT?E=w:C=w;var q=[E,C];bg(q,g.getRotation()),J1e(g,q,this.duration_),o.preventDefault(),n=!0}}return!n},t}(nu),tEe=YOt;h();var XOt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JOt=function(e){XOt(t,e);function t(r){var n=e.call(this)||this,o=r||{};return n.condition_=o.condition?o.condition:_P,n.delta_=o.delta?o.delta:1,n.duration_=o.duration!==void 0?o.duration:100,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==gt.KEYDOWN||r.type==gt.KEYPRESS){var o=r.originalEvent,i=o.charCode;if(this.condition_(r)&&(i==43||i==45)){var f=r.map,g=i==43?this.delta_:-this.delta_,w=f.getView();Cg(w,g,void 0,this.duration_),o.preventDefault(),n=!0}}return!n},t}(nu),rEe=JOt;h();var QOt=function(){function e(t,r,n){this.decay_=t,this.minVelocity_=r,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,r){this.points_.push(t,r,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,r=this.points_.length-3;if(this.points_[r+2]<t)return!1;for(var n=r-3;n>0&&this.points_[n+2]>t;)n-=3;var o=this.points_[r+2]-this.points_[n+2];if(o<16.666666666666668)return!1;var i=this.points_[r]-this.points_[n],f=this.points_[r+1]-this.points_[n+1];return this.angle_=Math.atan2(f,i),this.initialVelocity_=Math.sqrt(i*i+f*f)/o,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),nEe=QOt;h();var eLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d4={TRACKPAD:"trackpad",WHEEL:"wheel"},tLt=function(e){eLt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,o)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,n.duration_=o.duration!==void 0?o.duration:250,n.timeout_=o.timeout!==void 0?o.timeout:80,n.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,n.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var i=o.condition?o.condition:Rwe;return n.condition_=o.onFocusOnly?Wb(vP,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var r=this.getMap();if(r){var n=r.getView();n.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(r){if(!this.condition_(r))return!0;var n=r.type;if(n!==gt.WHEEL)return!0;var o=r.map,i=r.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=r.coordinate);var f;if(r.type==gt.WHEEL&&(f=i.deltaY,Q1e&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(f/=cP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(f*=40)),f===0)return!1;this.lastDelta_=f;var g=Date.now();this.startTime_===void 0&&(this.startTime_=g),(!this.mode_||g-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(f)<4?d4.TRACKPAD:d4.WHEEL);var w=o.getView();if(this.mode_===d4.TRACKPAD&&!(w.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(w.getAnimating()&&w.cancelAnimations(),w.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),w.adjustZoom(-f/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=g,!1;this.totalDelta_+=f;var E=Math.max(this.timeout_-(g-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),E),!1},t.prototype.handleWheelZoom_=function(r){var n=r.getView();n.getAnimating()&&n.cancelAnimations();var o=-rn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),Cg(n,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(r){this.useAnchor_=r,r||(this.lastAnchor_=null)},t}(nu),iEe=tLt;h();var rLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nLt=function(e){rLt(t,e);function t(r){var n=this,o=r||{},i=o;return i.stopDown||(i.stopDown=yc),n=e.call(this,i)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=o.threshold!==void 0?o.threshold:.3,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleDragEvent=function(r){var n=0,o=this.targetPointers[0],i=this.targetPointers[1],f=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(this.lastAngle_!==void 0){var g=f-this.lastAngle_;this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=g}this.lastAngle_=f;var w=r.map,E=w.getView();if(E.getConstraints().rotation!==Rg){var C=w.getViewport().getBoundingClientRect(),q=Pg(this.targetPointers);q[0]-=C.left,q[1]-=C.top,this.anchor_=w.getCoordinateFromPixelInternal(q),this.rotating_&&(w.render(),E.adjustRotationInternal(n,this.anchor_))}},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,o=n.getView();return o.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(iu),oEe=nLt;h();var iLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oLt=function(e){iLt(t,e);function t(r){var n=this,o=r||{},i=o;return i.stopDown||(i.stopDown=yc),n=e.call(this,i)||this,n.anchor_=null,n.duration_=o.duration!==void 0?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return t.prototype.handleDragEvent=function(r){var n=1,o=this.targetPointers[0],i=this.targetPointers[1],f=o.clientX-i.clientX,g=o.clientY-i.clientY,w=Math.sqrt(f*f+g*g);this.lastDistance_!==void 0&&(n=this.lastDistance_/w),this.lastDistance_=w;var E=r.map,C=E.getView();n!=1&&(this.lastScaleDelta_=n);var q=E.getViewport().getBoundingClientRect(),L=Pg(this.targetPointers);L[0]-=q.left,L[1]-=q.top,this.anchor_=E.getCoordinateFromPixelInternal(L),E.render(),C.adjustResolutionInternal(n,this.anchor_)},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,o=n.getView(),i=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,i),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(iu),aEe=oLt;h();h();var aLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sLt=function(e){aLt(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.map=n,i.frameState=o!==void 0?o:null,i}return t}(Eo),gf=sLt;var lLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uLt=function(e){lLt(t,e);function t(r,n,o,i,f,g){var w=e.call(this,r,n,f)||this;return w.originalEvent=o,w.pixel_=null,w.coordinate_=null,w.dragging=i!==void 0?i:!1,w.activePointers=g,w}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(r){this.pixel_=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(r){this.coordinate_=r},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(gf),su=uLt;h();h();h();var Pr={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var cLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hLt=function(e){cLt(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un,n.background_=r.background;var o=Cr({},r);return typeof r.properties=="object"&&(delete o.properties,Cr(o,r.properties)),o[Pr.OPACITY]=r.opacity!==void 0?r.opacity:1,$t(typeof o[Pr.OPACITY]=="number",64),o[Pr.VISIBLE]=r.visible!==void 0?r.visible:!0,o[Pr.Z_INDEX]=r.zIndex,o[Pr.MAX_RESOLUTION]=r.maxResolution!==void 0?r.maxResolution:1/0,o[Pr.MIN_RESOLUTION]=r.minResolution!==void 0?r.minResolution:0,o[Pr.MIN_ZOOM]=r.minZoom!==void 0?r.minZoom:-1/0,o[Pr.MAX_ZOOM]=r.maxZoom!==void 0?r.maxZoom:1/0,n.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(r){var n=this.state_||{layer:this,managed:r===void 0?!0:r},o=this.getZIndex();return n.opacity=rn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=o===void 0&&!n.managed?1/0:o,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},t.prototype.getLayersArray=function(r){return pr()},t.prototype.getLayerStatesArray=function(r){return pr()},t.prototype.getExtent=function(){return this.get(Pr.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(Pr.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(Pr.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(Pr.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(Pr.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(Pr.OPACITY)},t.prototype.getSourceState=function(){return pr()},t.prototype.getVisible=function(){return this.get(Pr.VISIBLE)},t.prototype.getZIndex=function(){return this.get(Pr.Z_INDEX)},t.prototype.setBackground=function(r){this.background_=r,this.changed()},t.prototype.setExtent=function(r){this.set(Pr.EXTENT,r)},t.prototype.setMaxResolution=function(r){this.set(Pr.MAX_RESOLUTION,r)},t.prototype.setMinResolution=function(r){this.set(Pr.MIN_RESOLUTION,r)},t.prototype.setMaxZoom=function(r){this.set(Pr.MAX_ZOOM,r)},t.prototype.setMinZoom=function(r){this.set(Pr.MIN_ZOOM,r)},t.prototype.setOpacity=function(r){$t(typeof r=="number",64),this.set(Pr.OPACITY,r)},t.prototype.setVisible=function(r){this.set(Pr.VISIBLE,r)},t.prototype.setZIndex=function(r){this.set(Pr.Z_INDEX,r)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(Fi),SP=hLt;h();var Ds={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var fLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pLt=function(e){fLt(t,e);function t(r){var n=this,o=Cr({},r);delete o.source,n=e.call(this,o)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,r.render&&(n.render=r.render),r.map&&n.setMap(r.map),n.addChangeListener(Pr.SOURCE,n.handleSourcePropertyChange_);var i=r.source?r.source:null;return n.setSource(i),n}return t.prototype.getLayersArray=function(r){var n=r||[];return n.push(this),n},t.prototype.getLayerStatesArray=function(r){var n=r||[];return n.push(this.getLayerState()),n},t.prototype.getSource=function(){return this.get(Pr.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var r=this.getSource();return r?r.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(_r(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=nr(r,gt.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(r){return this.renderer_?this.renderer_.getFeatures(r):new Promise(function(n){return n([])})},t.prototype.getData=function(r){return!this.renderer_||!this.rendered?null:this.renderer_.getData(r)},t.prototype.render=function(r,n){var o=this.getRenderer();if(o.prepareFrame(r))return this.rendered=!0,o.renderFrame(r,n)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(r){r||this.unrender(),this.set(Pr.MAP,r)},t.prototype.getMapInternal=function(){return this.get(Pr.MAP)},t.prototype.setMap=function(r){this.mapPrecomposeKey_&&(_r(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),r||this.changed(),this.mapRenderKey_&&(_r(this.mapRenderKey_),this.mapRenderKey_=null),r&&(this.mapPrecomposeKey_=nr(r,Ds.PRECOMPOSE,function(n){var o=n,i=o.frameState.layerStatesArray,f=this.getLayerState(!1);$t(!i.some(function(g){return g.layer===f.layer}),67),i.push(f)},this),this.mapRenderKey_=nr(this,gt.CHANGE,r.render,r),this.changed())},t.prototype.setSource=function(r){this.set(Pr.SOURCE,r)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(SP);function id(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}var Yb=pLt;h();var xa={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};h();function m4(e,t,r){return r===void 0&&(r=[0,0]),r[0]=e[0]+2*t,r[1]=e[1]+2*t,r}function v4(e){return e[0]>0&&e[1]>0}function TP(e,t,r){return r===void 0&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function To(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}h();var dLt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,mLt=/^([a-z]*)$|^hsla?\(.*\)$/i;function lEe(e){return typeof e=="string"?e:_Lt(e)}function vLt(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}else return""}var gLt=function(){var e=1024,t={},r=0;return function(n){var o;if(t.hasOwnProperty(n))o=t[n];else{if(r>=e){var i=0;for(var f in t)(i++&3)===0&&(delete t[f],--r)}o=yLt(n),t[n]=o,++r}return o}}();function g4(e){return Array.isArray(e)?e:gLt(e)}function yLt(e){var t,r,n,o,i;if(mLt.exec(e)&&(e=vLt(e)),dLt.exec(e)){var f=e.length-1,g=void 0;f<=4?g=1:g=2;var w=f===4||f===8;t=parseInt(e.substr(1+0*g,g),16),r=parseInt(e.substr(1+1*g,g),16),n=parseInt(e.substr(1+2*g,g),16),w?o=parseInt(e.substr(1+3*g,g),16):o=255,g==1&&(t=(t<<4)+t,r=(r<<4)+r,n=(n<<4)+n,w&&(o=(o<<4)+o)),i=[t,r,n,o/255]}else e.indexOf("rgba(")==0?(i=e.slice(5,-1).split(",").map(Number),sEe(i)):e.indexOf("rgb(")==0?(i=e.slice(4,-1).split(",").map(Number),i.push(1),sEe(i)):$t(!1,14);return i}function sEe(e){return e[0]=rn(e[0]+.5|0,0,255),e[1]=rn(e[1]+.5|0,0,255),e[2]=rn(e[2]+.5|0,0,255),e[3]=rn(e[3],0,1),e}function _Lt(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var r=e[1];r!=(r|0)&&(r=r+.5|0);var n=e[2];n!=(n|0)&&(n=n+.5|0);var o=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+r+","+n+","+o+")"}h();var lu=new Fi,xLt=new ru;xLt.setSize=function(){console.warn("labelCache is deprecated.")};var Og=null,y4,bLt={},DRr=function(){var e=100,t="32px ",r=["monospace","serif"],n=r.length,o="wmytzilWMYTZIL@#/&?$%10\uF013",i,f;function g(E,C,q){for(var L=!0,B=0;B<n;++B){var $=r[B];if(f=uEe(E+" "+C+" "+t+$,o),q!=$){var ee=uEe(E+" "+C+" "+t+q+","+$,o);L=L&&ee!=f}}return!!L}function w(){for(var E=!0,C=lu.getKeys(),q=0,L=C.length;q<L;++q){var B=C[q];lu.get(B)<e&&(g.apply(this,B.split(`
`))?(tu(bLt),Og=null,y4=void 0,lu.set(B,e)):(lu.set(B,lu.get(B)+1,!0),E=!1))}E&&(clearInterval(i),i=void 0)}return function(E){var C=Bwe(E);if(C)for(var q=C.families,L=0,B=q.length;L<B;++L){var $=q[L],ee=C.style+`
`+C.weight+`
`+$;lu.get(ee)===void 0&&(lu.set(ee,e,!0),g(C.style,C.weight,$)||(lu.set(ee,0,!0),i===void 0&&(i=setInterval(w,32))))}}}();function wLt(e,t){return Og||(Og=wc(1,1)),e!=y4&&(Og.font=e,y4=Og.font),Og.measureText(t)}function uEe(e,t){return wLt(e,t).width}h();h();var ELt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SLt=function(e){ELt(t,e);function t(r){var n=e.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=r,n.declutterExecutorGroup=null,n}return t.prototype.getFeatures=function(r){return pr()},t.prototype.getData=function(r){return null},t.prototype.prepareFrame=function(r){return pr()},t.prototype.renderFrame=function(r,n){return pr()},t.prototype.loadedTileCallback=function(r,n,o){r[n]||(r[n]={}),r[n][o.tileCoord.toString()]=o},t.prototype.createLoadedTileFinder=function(r,n,o){return function(i,f){var g=this.loadedTileCallback.bind(this,o,i);return r.forEachLoadedTile(n,i,f,g)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(r,n,o,i,f){},t.prototype.getDataAtPixel=function(r,n,o){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(r){var n=r.target;n.getState()===xa.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(r){var n=r.getState();return n!=xa.LOADED&&n!=xa.ERROR&&r.addEventListener(gt.CHANGE,this.boundHandleImageChange_),n==xa.IDLE&&(r.load(),n=r.getState()),n==xa.LOADED},t.prototype.renderIfReadyAndVisible=function(){var r=this.getLayer();r&&r.getVisible()&&r.getSourceState()==="ready"&&r.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(uP),cEe=SLt;h();var TLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ILt=function(e){TLt(t,e);function t(r,n,o,i){var f=e.call(this,r)||this;return f.inversePixelTransform=n,f.frameState=o,f.context=i,f}return t}(Eo),IP=ILt;var CLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Lg=null;function PLt(){var e=document.createElement("canvas");e.width=1,e.height=1,Lg=e.getContext("2d")}var ALt=function(e){CLt(t,e);function t(r){var n=e.call(this,r)||this;return n.container=null,n.renderedResolution,n.tempTransform=xc(),n.pixelTransform=xc(),n.inversePixelTransform=xc(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return t.prototype.getImageData=function(r,n,o){Lg||PLt(),Lg.clearRect(0,0,1,1);var i;try{Lg.drawImage(r,n,o,1,1,0,0,1,1),i=Lg.getImageData(0,0,1,1).data}catch(f){return Lg=null,null}return i},t.prototype.getBackground=function(r){var n=this.getLayer(),o=n.getBackground();return typeof o=="function"&&(o=o(r.viewState.resolution)),o||void 0},t.prototype.useContainer=function(r,n,o){var i=this.getLayer().getClassName(),f,g;if(r&&r.className===i&&(!o||r&&r.style.backgroundColor&&Tg(g4(r.style.backgroundColor),g4(o)))){var w=r.firstElementChild;w instanceof HTMLCanvasElement&&(g=w.getContext("2d"))}if(g&&g.canvas.style.transform===n?(this.container=r,this.context=g,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){f=document.createElement("div"),f.className=i;var E=f.style;E.position="absolute",E.width="100%",E.height="100%",g=wc();var w=g.canvas;f.appendChild(w),E=w.style,E.position="absolute",E.left="0",E.transformOrigin="top left",this.container=f,this.context=g}!this.containerReused&&o&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=o)},t.prototype.clipUnrotated=function(r,n,o){var i=Rs(o),f=xg(o),g=_g(o),w=yg(o);so(n.coordinateToPixelTransform,i),so(n.coordinateToPixelTransform,f),so(n.coordinateToPixelTransform,g),so(n.coordinateToPixelTransform,w);var E=this.inversePixelTransform;so(E,i),so(E,f),so(E,g),so(E,w),r.save(),r.beginPath(),r.moveTo(Math.round(i[0]),Math.round(i[1])),r.lineTo(Math.round(f[0]),Math.round(f[1])),r.lineTo(Math.round(g[0]),Math.round(g[1])),r.lineTo(Math.round(w[0]),Math.round(w[1])),r.clip()},t.prototype.dispatchRenderEvent_=function(r,n,o){var i=this.getLayer();if(i.hasListener(r)){var f=new IP(r,this.inversePixelTransform,o,n);i.dispatchEvent(f)}},t.prototype.preRender=function(r,n){this.frameState=n,this.dispatchRenderEvent_(Ds.PRERENDER,r,n)},t.prototype.postRender=function(r,n){this.dispatchRenderEvent_(Ds.POSTRENDER,r,n)},t.prototype.getRenderTransform=function(r,n,o,i,f,g,w){var E=f/2,C=g/2,q=i/n,L=-q,B=-r[0]+w,$=-r[1];return bc(this.tempTransform,E,C,q,L,-o,B,$)},t.prototype.getDataAtPixel=function(r,n,o){var i=so(this.inversePixelTransform,r.slice()),f=this.context,g=this.getLayer(),w=g.getExtent();if(w){var E=so(n.pixelToCoordinateTransform,r.slice());if(!lf(w,E))return null}var C=Math.round(i[0]),q=Math.round(i[1]),L=this.pixelContext_;if(!L){var B=document.createElement("canvas");B.width=1,B.height=1,L=B.getContext("2d"),this.pixelContext_=L}L.clearRect(0,0,1,1);var $;try{L.drawImage(f.canvas,C,q,1,1,0,0,1,1),$=L.getImageData(0,0,1,1).data}catch(ee){return ee.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):$}return $[3]===0?null:$},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(cEe),hEe=ALt;h();var ba={ANIMATING:0,INTERACTING:1};h();var MLt=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var r in this.cache_){var n=this.cache_[r];(t++&3)===0&&!n.hasListener()&&(delete this.cache_[r],--this.cacheSize_)}}},e.prototype.get=function(t,r,n){var o=fEe(t,r,n);return o in this.cache_?this.cache_[o]:null},e.prototype.set=function(t,r,n,o){var i=fEe(t,r,n);this.cache_[i]=o,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function fEe(e,t,r){var n=r?lEe(r):"null";return t+":"+e+":"+n}var _4=new MLt;h();h();var qLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RLt=function(e){qLt(t,e);function t(r,n,o,i){var f=e.call(this)||this;return f.extent=r,f.pixelRatio_=o,f.resolution=n,f.state=i,f}return t.prototype.changed=function(){this.dispatchEvent(gt.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return pr()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){pr()},t}(ru),pEe=RLt;var OLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_Or=function(e){OLt(t,e);function t(r,n,o,i,f,g){var w=e.call(this,r,n,o,xa.IDLE)||this;return w.src_=i,w.image_=new Image,f!==null&&(w.image_.crossOrigin=f),w.unlisten_=null,w.state=xa.IDLE,w.imageLoadFunction_=g,w}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=xa.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Ti(this.extent)/this.image_.height),this.state=xa.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==xa.IDLE||this.state==xa.ERROR)&&(this.state=xa.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=x4(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(r){this.image_=r,this.resolution=Ti(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(pEe);function x4(e,t,r){var n=e,o=!0,i=!1,f=!1,g=[Ig(n,gt.LOAD,function(){f=!0,i||t()})];return n.src&&rwe?(i=!0,n.decode().then(function(){o&&t()}).catch(function(w){o&&(f?t():r())})):g.push(Ig(n,gt.ERROR,r)),function(){o=!1,g.forEach(_r)}}h();var LLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DLt=function(e){LLt(t,e);function t(r){var n=e.call(this)||this;n.projection=ao(r.projection),n.attributions_=dEe(r.attributions),n.attributionsCollapsible_=r.attributionsCollapsible!==void 0?r.attributionsCollapsible:!0,n.loading=!1,n.state_=r.state!==void 0?r.state:"ready",n.wrapX_=r.wrapX!==void 0?r.wrapX:!1,n.interpolate_=!!r.interpolate,n.viewResolver=null,n.viewRejector=null;var o=n;return n.viewPromise_=new Promise(function(i,f){o.viewResolver=i,o.viewRejector=f}),n}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return pr()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(r){this.attributions_=dEe(r),this.changed()},t.prototype.setState=function(r){this.state_=r,this.changed()},t}(Fi);function dEe(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}var mEe=DLt;function CP(e){var t=e||{},r=new Ho,n=new nEe(-.005,.05,100),o=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;o&&r.push(new eEe);var i=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;i&&r.push(new Ywe({delta:t.zoomDelta,duration:t.zoomDuration}));var f=t.dragPan!==void 0?t.dragPan:!0;f&&r.push(new Xwe({onFocusOnly:t.onFocusOnly,kinetic:n}));var g=t.pinchRotate!==void 0?t.pinchRotate:!0;g&&r.push(new oEe);var w=t.pinchZoom!==void 0?t.pinchZoom:!0;w&&r.push(new aEe({duration:t.zoomDuration}));var E=t.keyboard!==void 0?t.keyboard:!0;E&&(r.push(new tEe),r.push(new rEe({delta:t.zoomDelta,duration:t.zoomDuration})));var C=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;C&&r.push(new iEe({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var q=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return q&&r.push(new wP({duration:t.zoomDuration})),r}h();h();h();var kLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NLt=function(e){kLt(t,e);function t(r){var n=e.call(this)||this;return n.map_=r,n}return t.prototype.dispatchRenderEvent=function(r,n){pr()},t.prototype.calculateMatrices2D=function(r){var n=r.viewState,o=r.coordinateToPixelTransform,i=r.pixelToCoordinateTransform;bc(o,r.size[0]/2,r.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),pP(i,o)},t.prototype.forEachFeatureAtCoordinate=function(r,n,o,i,f,g,w,E){var C,q=n.viewState;function L(dr,Ut,_t,Bt){return f.call(g,Ut,dr?_t:null,Bt)}var B=q.projection,$=q1e(r.slice(),B),ee=[[0,0]];if(B.canWrapX()&&i){var G=B.getExtent(),H=Kr(G);ee.push([-H,0],[H,0])}for(var Q=n.layerStatesArray,se=Q.length,de=[],De=[],Ne=0;Ne<ee.length;Ne++)for(var ke=se-1;ke>=0;--ke){var Ge=Q[ke],rt=Ge.layer;if(rt.hasRenderer()&&id(Ge,q)&&w.call(E,rt)){var Mt=rt.getRenderer(),tr=rt.getSource();if(Mt&&tr){var Mr=tr.getWrapX()?$:r,kr=L.bind(null,Ge.managed);De[0]=Mr[0]+ee[Ne][0],De[1]=Mr[1]+ee[Ne][1],C=Mt.forEachFeatureAtCoordinate(De,n,o,kr,de)}if(C)return C}}if(de.length!==0){var qr=1/de.length;return de.forEach(function(dr,Ut){return dr.distanceSq+=Ut*qr}),de.sort(function(dr,Ut){return dr.distanceSq-Ut.distanceSq}),de.some(function(dr){return C=dr.callback(dr.feature,dr.layer,dr.geometry)}),C}},t.prototype.forEachLayerAtPixel=function(r,n,o,i,f){return pr()},t.prototype.hasFeatureAtCoordinate=function(r,n,o,i,f,g){var w=this.forEachFeatureAtCoordinate(r,n,o,i,pf,this,f,g);return w!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(r){pr()},t.prototype.scheduleExpireIconCache=function(r){_4.canExpireCache()&&r.postRenderFunctions.push(FLt)},t}(Eg);function FLt(e,t){_4.expire()}var vEe=NLt;var zLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jLt=function(e){zLt(t,e);function t(r){var n=e.call(this,r)||this;n.fontChangeListenerKey_=nr(lu,gc.PROPERTYCHANGE,r.redrawText.bind(r)),n.element_=document.createElement("div");var o=n.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",n.element_.className=Ls+" ol-layers";var i=r.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return t.prototype.dispatchRenderEvent=function(r,n){var o=this.getMap();if(o.hasListener(r)){var i=new IP(r,void 0,n);o.dispatchEvent(i)}},t.prototype.disposeInternal=function(){_r(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(r){if(!r){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(r),this.dispatchRenderEvent(Ds.PRECOMPOSE,r);var n=r.layerStatesArray.sort(function(B,$){return B.zIndex-$.zIndex}),o=r.viewState;this.children_.length=0;for(var i=[],f=null,g=0,w=n.length;g<w;++g){var E=n[g];r.layerIndex=g;var C=E.layer,q=C.getSourceState();if(!id(E,o)||q!="ready"&&q!="undefined"){C.unrender();continue}var L=C.render(r,f);L&&(L!==f&&(this.children_.push(L),f=L),"getDeclutter"in C&&i.push(C))}for(var g=i.length-1;g>=0;--g)i[g].renderDeclutter(r);zwe(this.element_,this.children_),this.dispatchRenderEvent(Ds.POSTCOMPOSE,r),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(r)},t.prototype.forEachLayerAtPixel=function(r,n,o,i,f){for(var g=n.viewState,w=n.layerStatesArray,E=w.length,C=E-1;C>=0;--C){var q=w[C],L=q.layer;if(L.hasRenderer()&&id(q,g)&&f(L)){var B=L.getRenderer(),$=B.getDataAtPixel(r,n,o);if($){var ee=i(L,$);if(ee)return ee}}}},t}(vEe),gEe=jLt;h();h();var yEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ec=function(e){yEe(t,e);function t(r,n){var o=e.call(this,r)||this;return o.layer=n,o}return t}(Eo);var b4={LAYERS:"layers"},BLt=function(e){yEe(t,e);function t(r){var n=this,o=r||{},i=Cr({},o);delete i.layers;var f=o.layers;return n=e.call(this,i)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(b4.LAYERS,n.handleLayersChanged_),f?Array.isArray(f)?f=new Ho(f.slice(),{unique:!0}):$t(typeof f.getArray=="function",43):f=new Ho(void 0,{unique:!0}),n.setLayers(f),n}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(_r),this.layersListenerKeys_.length=0;var r=this.getLayers();this.layersListenerKeys_.push(nr(r,Wo.ADD,this.handleLayersAdd_,this),nr(r,Wo.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(_r);tu(this.listenerKeys_);for(var o=r.getArray(),i=0,f=o.length;i<f;i++){var g=o[i];this.registerLayerListeners_(g),this.dispatchEvent(new Ec("addlayer",g))}this.changed()},t.prototype.registerLayerListeners_=function(r){var n=[nr(r,gc.PROPERTYCHANGE,this.handleLayerChange_,this),nr(r,gt.CHANGE,this.handleLayerChange_,this)];r instanceof t&&n.push(nr(r,"addlayer",this.handleLayerGroupAdd_,this),nr(r,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[hi(r)]=n},t.prototype.handleLayerGroupAdd_=function(r){this.dispatchEvent(new Ec("addlayer",r.layer))},t.prototype.handleLayerGroupRemove_=function(r){this.dispatchEvent(new Ec("removelayer",r.layer))},t.prototype.handleLayersAdd_=function(r){var n=r.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ec("addlayer",n)),this.changed()},t.prototype.handleLayersRemove_=function(r){var n=r.element,o=hi(n);this.listenerKeys_[o].forEach(_r),delete this.listenerKeys_[o],this.dispatchEvent(new Ec("removelayer",n)),this.changed()},t.prototype.getLayers=function(){return this.get(b4.LAYERS)},t.prototype.setLayers=function(r){var n=this.getLayers();if(n)for(var o=n.getArray(),i=0,f=o.length;i<f;++i)this.dispatchEvent(new Ec("removelayer",o[i]));this.set(b4.LAYERS,r)},t.prototype.getLayersArray=function(r){var n=r!==void 0?r:[];return this.getLayers().forEach(function(o){o.getLayersArray(n)}),n},t.prototype.getLayerStatesArray=function(r){var n=r!==void 0?r:[],o=n.length;this.getLayers().forEach(function(C){C.getLayerStatesArray(n)});var i=this.getLayerState(),f=i.zIndex;!r&&i.zIndex===void 0&&(f=0);for(var g=o,w=n.length;g<w;g++){var E=n[g];E.opacity*=i.opacity,E.visible=E.visible&&i.visible,E.maxResolution=Math.min(E.maxResolution,i.maxResolution),E.minResolution=Math.max(E.minResolution,i.minResolution),E.minZoom=Math.max(E.minZoom,i.minZoom),E.maxZoom=Math.min(E.maxZoom,i.maxZoom),i.extent!==void 0&&(E.extent!==void 0?E.extent=uf(E.extent,i.extent):E.extent=i.extent),E.zIndex===void 0&&(E.zIndex=f)}return n},t.prototype.getSourceState=function(){return"ready"},t}(SP),Xb=BLt;h();h();var Jb={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var ULt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VLt=function(e){ULt(t,e);function t(r,n){var o=e.call(this,r)||this;o.map_=r,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=n===void 0?1:n,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=[],o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=nr(i,Jb.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=nr(i,Jb.POINTERMOVE,o.relayMoveEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(gt.TOUCHMOVE,o.boundHandleTouchMove_,fP?{passive:!1}:!1),o}return t.prototype.emulateClick_=function(r){var n=new su(nn.CLICK,this.map_,r);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new su(nn.DBLCLICK,this.map_,r),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var o=new su(nn.SINGLECLICK,this.map_,r);this.dispatchEvent(o)}.bind(this),250)},t.prototype.updateActivePointers_=function(r){var n=r,o=n.pointerId;if(n.type==nn.POINTERUP||n.type==nn.POINTERCANCEL){delete this.trackedTouches_[o];for(var i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==nn.POINTERDOWN||n.type==nn.POINTERMOVE)&&(this.trackedTouches_[o]=n);this.activePointers_=m1e(this.trackedTouches_)},t.prototype.handlePointerUp_=function(r){this.updateActivePointers_(r);var n=new su(nn.POINTERUP,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(r)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(_r),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(r){return r.button===0},t.prototype.handlePointerDown_=function(r){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(r);var n=new su(nn.POINTERDOWN,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.down_={};for(var o in r){var i=r[o];this.down_[o]=typeof i=="function"?_c:i}if(this.dragListenerKeys_.length===0){var f=this.map_.getOwnerDocument();this.dragListenerKeys_.push(nr(f,nn.POINTERMOVE,this.handlePointerMove_,this),nr(f,nn.POINTERUP,this.handlePointerUp_,this),nr(this.element_,nn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==f&&this.dragListenerKeys_.push(nr(this.element_.getRootNode(),nn.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(r){if(this.isMoving_(r)){this.updateActivePointers_(r),this.dragging_=!0;var n=new su(nn.POINTERDRAG,this.map_,r,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}},t.prototype.relayMoveEvent_=function(r){this.originalPointerMoveEvent_=r;var n=!!(this.down_&&this.isMoving_(r));this.dispatchEvent(new su(nn.POINTERMOVE,this.map_,r,n))},t.prototype.handleTouchMove_=function(r){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof r.cancelable!="boolean"||r.cancelable===!0)&&r.preventDefault()},t.prototype.isMoving_=function(r){return this.dragging_||Math.abs(r.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(r.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(_r(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(gt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(_r(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(_r),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(ru),_Ee=VLt;h();h();var Qb=1/0,$Lt=function(){function e(t,r){this.priorityFunction_=t,this.keyFunction_=r,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,tu(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,r=this.priorities_,n=t[0];t.length==1?(t.length=0,r.length=0):(t[0]=t.pop(),r[0]=r.pop(),this.siftUp_(0));var o=this.keyFunction_(n);return delete this.queuedElements_[o],n},e.prototype.enqueue=function(t){$t(!(this.keyFunction_(t)in this.queuedElements_),31);var r=this.priorityFunction_(t);return r!=Qb?(this.elements_.push(t),this.priorities_.push(r),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var r=this.elements_,n=this.priorities_,o=r.length,i=r[t],f=n[t],g=t;t<o>>1;){var w=this.getLeftChildIndex_(t),E=this.getRightChildIndex_(t),C=E<o&&n[E]<n[w]?E:w;r[t]=r[C],n[t]=n[C],t=C}r[t]=i,n[t]=f,this.siftDown_(g,t)},e.prototype.siftDown_=function(t,r){for(var n=this.elements_,o=this.priorities_,i=n[r],f=o[r];r>t;){var g=this.getParentIndex_(r);if(o[g]>f)n[r]=n[g],o[r]=o[g],r=g;else break}n[r]=i,o[r]=f},e.prototype.reprioritize=function(){var t=this.priorityFunction_,r=this.elements_,n=this.priorities_,o=0,i=r.length,f,g,w;for(g=0;g<i;++g)f=r[g],w=t(f),w==Qb?delete this.queuedElements_[this.keyFunction_(f)]:(n[o]=w,r[o++]=f);r.length=o,n.length=o,this.heapify_()},e}(),xEe=$Lt;h();var Et={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var GLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZLt=function(e){GLt(t,e);function t(r,n){var o=e.call(this,function(i){return r.apply(null,i)},function(i){return i[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=n,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return t.prototype.enqueue=function(r){var n=e.prototype.enqueue.call(this,r);if(n){var o=r[0];o.addEventListener(gt.CHANGE,this.boundHandleTileChange_)}return n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(r){var n=r.target,o=n.getState();if(o===Et.LOADED||o===Et.ERROR||o===Et.EMPTY){n.removeEventListener(gt.CHANGE,this.boundHandleTileChange_);var i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(r,n){for(var o=0,i,f,g;this.tilesLoading_<r&&o<n&&this.getCount()>0;)f=this.dequeue()[0],g=f.getKey(),i=f.getState(),i===Et.IDLE&&!(g in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[g]=!0,++this.tilesLoading_,++o,f.load())},t}(xEe),bEe=ZLt;function wEe(e,t,r,n,o){if(!e||!(r in e.wantedTiles))return Qb;if(!e.wantedTiles[r][t.getKey()])return Qb;var i=e.viewState.center,f=n[0]-i[0],g=n[1]-i[1];return 65536*Math.log(o)+Math.sqrt(f*f+g*g)/o}h();h();var ks={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};h();var EEe=42,Dg=256;h();function w4(e,t,r){return function(n,o,i,f,g){if(n){if(!o&&!t)return n;var w=t?0:i[0]*o,E=t?0:i[1]*o,C=g?g[0]:0,q=g?g[1]:0,L=e[0]+w/2+C,B=e[2]-w/2+C,$=e[1]+E/2+q,ee=e[3]-E/2+q;L>B&&(L=(B+L)/2,B=L),$>ee&&($=(ee+$)/2,ee=$);var G=rn(n[0],L,B),H=rn(n[1],$,ee);if(f&&r&&o){var Q=30*o;G+=-Q*Math.log(1+Math.max(0,L-n[0])/Q)+Q*Math.log(1+Math.max(0,n[0]-B)/Q),H+=-Q*Math.log(1+Math.max(0,$-n[1])/Q)+Q*Math.log(1+Math.max(0,n[1]-ee)/Q)}return[G,H]}}}function SEe(e){return e}h();function E4(e,t,r,n){var o=Kr(t)/r[0],i=Ti(t)/r[1];return n?Math.min(e,Math.max(o,i)):Math.min(e,Math.min(o,i))}function S4(e,t,r){var n=Math.min(e,t),o=50;return n*=Math.log(1+o*Math.max(0,e/t-1))/o+1,r&&(n=Math.max(n,r),n/=Math.log(1+o*Math.max(0,r/e-1))/o+1),rn(n,r/2,t*2)}function TEe(e,t,r,n){return function(o,i,f,g){if(o!==void 0){var w=e[0],E=e[e.length-1],C=r?E4(w,r,f,n):w;if(g){var q=t!==void 0?t:!0;return q?S4(o,C,E):rn(o,E,C)}var L=Math.min(C,o),B=Math.floor(Sg(e,L,i));return e[B]>C&&B<e.length-1?e[B+1]:e[B]}else return}}function IEe(e,t,r,n,o,i){return function(f,g,w,E){if(f!==void 0){var C=o?E4(t,o,w,i):t,q=r!==void 0?r:0;if(E){var L=n!==void 0?n:!0;return L?S4(f,C,q):rn(f,q,C)}var B=1e-9,$=Math.ceil(Math.log(t/C)/Math.log(e)-B),ee=-g*(.5-B)+.5,G=Math.min(C,f),H=Math.floor(Math.log(t/G)/Math.log(e)+ee),Q=Math.max($,H),se=t/Math.pow(e,Q);return rn(se,q,C)}else return}}function T4(e,t,r,n,o){return function(i,f,g,w){if(i!==void 0){var E=n?E4(e,n,g,o):e,C=r!==void 0?r:!0;return!C||!w?rn(i,t,E):S4(i,E,t)}else return}}var WLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I4=0,HLt=function(e){WLt(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var o=Cr({},r);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=sP(o.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,o.projection&&L1e(),o.center&&(o.center=dl(o.center,n.projection_)),o.extent&&(o.extent=ff(o.extent,n.projection_)),n.applyOptions_(o),n}return t.prototype.applyOptions_=function(r){var n=Cr({},r);for(var o in ks)delete n[o];this.setProperties(n,!0);var i=YLt(r);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=r.resolutions,this.padding_=r.padding,this.minZoom_=i.minZoom;var f=KLt(r),g=i.constraint,w=XLt(r);this.constraints_={center:f,resolution:g,rotation:w},this.setRotation(r.rotation!==void 0?r.rotation:0),this.setCenterInternal(r.center!==void 0?r.center:null),r.resolution!==void 0?this.setResolution(r.resolution):r.zoom!==void 0&&this.setZoom(r.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(r){var n=this.padding_;this.padding_=r;var o=this.getCenter();if(o){var i=r||[0,0,0,0];n=n||[0,0,0,0];var f=this.getResolution(),g=f/2*(i[3]-n[3]+n[1]-i[1]),w=f/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([o[0]+g,o[1]-w])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(r){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Cr({},n,r)},t.prototype.animate=function(r){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),o=0;o<n.length;++o){var i=arguments[o];i.center&&(i=Cr({},i),i.center=dl(i.center,this.getProjection())),i.anchor&&(i=Cr({},i),i.anchor=dl(i.anchor,this.getProjection())),n[o]=i}this.animateInternal.apply(this,n)},t.prototype.animateInternal=function(r){var n=arguments.length,o;n>1&&typeof arguments[n-1]=="function"&&(o=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var f=arguments[i];f.center&&this.setCenterInternal(f.center),f.zoom!==void 0?this.setZoom(f.zoom):f.resolution&&this.setResolution(f.resolution),f.rotation!==void 0&&this.setRotation(f.rotation)}if(i===n){o&&PP(o,!0);return}for(var g=Date.now(),w=this.targetCenter_.slice(),E=this.targetResolution_,C=this.targetRotation_,q=[];i<n;++i){var L=arguments[i],B={start:g,complete:!1,anchor:L.anchor,duration:L.duration!==void 0?L.duration:1e3,easing:L.easing||Y1e,callback:o};if(L.center&&(B.sourceCenter=w,B.targetCenter=L.center.slice(),w=B.targetCenter),L.zoom!==void 0?(B.sourceResolution=E,B.targetResolution=this.getResolutionForZoom(L.zoom),E=B.targetResolution):L.resolution&&(B.sourceResolution=E,B.targetResolution=L.resolution,E=B.targetResolution),L.rotation!==void 0){B.sourceRotation=C;var $=pl(L.rotation-C+Math.PI,2*Math.PI)-Math.PI;B.targetRotation=C+$,C=B.targetRotation}JLt(B)?B.complete=!0:g+=B.duration,q.push(B)}this.animations_.push(q),this.setHint(ba.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[ba.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[ba.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(ba.ANIMATING,-this.hints_[ba.ANIMATING]);for(var r,n=0,o=this.animations_.length;n<o;++n){var i=this.animations_[n];if(i[0].callback&&PP(i[0].callback,!1),!r)for(var f=0,g=i.length;f<g;++f){var w=i[f];if(!w.complete){r=w.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=r,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var r=Date.now(),n=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],f=!0,g=0,w=i.length;g<w;++g){var E=i[g];if(!E.complete){var C=r-E.start,q=E.duration>0?C/E.duration:1;q>=1?(E.complete=!0,q=1):f=!1;var L=E.easing(q);if(E.sourceCenter){var B=E.sourceCenter[0],$=E.sourceCenter[1],ee=E.targetCenter[0],G=E.targetCenter[1];this.nextCenter_=E.targetCenter;var H=B+L*(ee-B),Q=$+L*(G-$);this.targetCenter_=[H,Q]}if(E.sourceResolution&&E.targetResolution){var se=L===1?E.targetResolution:E.sourceResolution+L*(E.targetResolution-E.sourceResolution);if(E.anchor){var de=this.getViewportSize_(this.getRotation()),De=this.constraints_.resolution(se,0,de,!0);this.targetCenter_=this.calculateCenterZoom(De,E.anchor)}this.nextResolution_=E.targetResolution,this.targetResolution_=se,this.applyTargetState_(!0)}if(E.sourceRotation!==void 0&&E.targetRotation!==void 0){var Ne=L===1?pl(E.targetRotation+Math.PI,2*Math.PI)-Math.PI:E.sourceRotation+L*(E.targetRotation-E.sourceRotation);if(E.anchor){var ke=this.constraints_.rotation(Ne,!0);this.targetCenter_=this.calculateCenterRotate(ke,E.anchor)}this.nextRotation_=E.targetRotation,this.targetRotation_=Ne}if(this.applyTargetState_(!0),n=!0,!E.complete)break}}if(f){this.animations_[o]=null,this.setHint(ba.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Ge=i[0].callback;Ge&&PP(Ge,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(r,n){var o,i=this.getCenterInternal();return i!==void 0&&(o=[i[0]-n[0],i[1]-n[1]],bg(o,r-this.getRotation()),A1e(o,n)),o},t.prototype.calculateCenterZoom=function(r,n){var o,i=this.getCenterInternal(),f=this.getResolution();if(i!==void 0&&f!==void 0){var g=n[0]-r*(n[0]-i[0])/f,w=n[1]-r*(n[1]-i[1])/f;o=[g,w]}return o},t.prototype.getViewportSize_=function(r){var n=this.viewportSize_;if(r){var o=n[0],i=n[1];return[Math.abs(o*Math.cos(r))+Math.abs(i*Math.sin(r)),Math.abs(o*Math.sin(r))+Math.abs(i*Math.cos(r))]}else return n},t.prototype.setViewportSize=function(r){this.viewportSize_=Array.isArray(r)?r.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var r=this.getCenterInternal();return r&&$b(r,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(ks.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(r){return r!==void 0?(r[0]=this.hints_[0],r[1]=this.hints_[1],r):this.hints_.slice()},t.prototype.calculateExtent=function(r){var n=this.calculateExtentInternal(r);return N1e(n,this.getProjection())},t.prototype.calculateExtentInternal=function(r){var n=r||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();$t(o,1);var i=this.getResolution();$t(i!==void 0,2);var f=this.getRotation();return $t(f!==void 0,3),Ub(o,i,f,n)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({maxZoom:r}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({minZoom:r}))},t.prototype.setConstrainResolution=function(r){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:r}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(ks.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(r,n){return this.getResolutionForExtentInternal(ff(r,this.getProjection()),n)},t.prototype.getResolutionForExtentInternal=function(r,n){var o=n||this.getViewportSizeMinusPadding_(),i=Kr(r)/o[0],f=Ti(r)/o[1];return Math.max(i,f)},t.prototype.getResolutionForValueFunction=function(r){var n=r||2,o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,f=Math.log(o/i)/Math.log(n);return function(g){var w=o/Math.pow(n,g*f);return w}},t.prototype.getRotation=function(){return this.get(ks.ROTATION)},t.prototype.getValueForResolutionFunction=function(r){var n=Math.log(r||2),o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,f=Math.log(o/i)/n;return function(g){var w=Math.log(o/g)/n/f;return w}},t.prototype.getViewportSizeMinusPadding_=function(r){var n=this.getViewportSize_(r),o=this.padding_;return o&&(n=[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]),n},t.prototype.getState=function(){var r=this.getProjection(),n=this.getResolution(),o=this.getRotation(),i=this.getCenterInternal(),f=this.padding_;if(f){var g=this.getViewportSizeMinusPadding_();i=C4(i,this.getViewportSize_(),[g[0]/2+f[3],g[1]/2+f[0]],n,o)}return{center:i.slice(0),projection:r!==void 0?r:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},t.prototype.getZoom=function(){var r,n=this.getResolution();return n!==void 0&&(r=this.getZoomForResolution(n)),r},t.prototype.getZoomForResolution=function(r){var n=this.minZoom_||0,o,i;if(this.resolutions_){var f=Sg(this.resolutions_,r,1);n=f,o=this.resolutions_[f],f==this.resolutions_.length-1?i=2:i=o/this.resolutions_[f+1]}else o=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(o/r)/Math.log(i)},t.prototype.getResolutionForZoom=function(r){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=rn(Math.floor(r),0,this.resolutions_.length-2),o=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(o,rn(r-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,r-this.minZoom_)},t.prototype.fit=function(r,n){var o;if($t(Array.isArray(r)||typeof r.getSimplifiedGeometry=="function",24),Array.isArray(r)){$t(!Vb(r),25);var i=ff(r,this.getProjection());o=Zb(i)}else if(r.getType()==="Circle"){var i=ff(r.getExtent(),this.getProjection());o=Zb(i),o.rotate(this.getRotation(),mc(i))}else{var f=k1e();f?o=r.clone().transform(f,this.getProjection()):o=r}this.fitInternal(o,n)},t.prototype.rotatedExtentForGeometry=function(r){for(var n=this.getRotation(),o=Math.cos(n),i=Math.sin(-n),f=r.getFlatCoordinates(),g=r.getStride(),w=1/0,E=1/0,C=-1/0,q=-1/0,L=0,B=f.length;L<B;L+=g){var $=f[L]*o-f[L+1]*i,ee=f[L]*i+f[L+1]*o;w=Math.min(w,$),E=Math.min(E,ee),C=Math.max(C,$),q=Math.max(q,ee)}return[w,E,C,q]},t.prototype.fitInternal=function(r,n){var o=n||{},i=o.size;i||(i=this.getViewportSizeMinusPadding_());var f=o.padding!==void 0?o.padding:[0,0,0,0],g=o.nearest!==void 0?o.nearest:!1,w;o.minResolution!==void 0?w=o.minResolution:o.maxZoom!==void 0?w=this.getResolutionForZoom(o.maxZoom):w=0;var E=this.rotatedExtentForGeometry(r),C=this.getResolutionForExtentInternal(E,[i[0]-f[1]-f[3],i[1]-f[0]-f[2]]);C=isNaN(C)?w:Math.max(C,w),C=this.getConstrainedResolution(C,g?0:1);var q=this.getRotation(),L=Math.sin(q),B=Math.cos(q),$=mc(E);$[0]+=(f[1]-f[3])/2*C,$[1]+=(f[0]-f[2])/2*C;var ee=$[0]*B-$[1]*L,G=$[1]*B+$[0]*L,H=this.getConstrainedCenter([ee,G],C),Q=o.callback?o.callback:_c;o.duration!==void 0?this.animateInternal({resolution:C,center:H,duration:o.duration,easing:o.easing},Q):(this.targetResolution_=C,this.targetCenter_=H,this.applyTargetState_(!1,!0),PP(Q,!0))},t.prototype.centerOn=function(r,n,o){this.centerOnInternal(dl(r,this.getProjection()),n,o)},t.prototype.centerOnInternal=function(r,n,o){this.setCenterInternal(C4(r,n,o,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(r,n,o,i){var f,g=this.padding_;if(g&&r){var w=this.getViewportSizeMinusPadding_(-o),E=C4(r,i,[w[0]/2+g[3],w[1]/2+g[0]],n,o);f=[r[0]-E[0],r[1]-E[1]]}return f},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(r){var n=$b(this.targetCenter_,this.getProjection());this.setCenter([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustCenterInternal=function(r){var n=this.targetCenter_;this.setCenterInternal([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustResolution=function(r,n){var o=n&&dl(n,this.getProjection());this.adjustResolutionInternal(r,o)},t.prototype.adjustResolutionInternal=function(r,n){var o=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(this.targetResolution_*r,0,i,o);n&&(this.targetCenter_=this.calculateCenterZoom(f,n)),this.targetResolution_*=r,this.applyTargetState_()},t.prototype.adjustZoom=function(r,n){this.adjustResolution(Math.pow(this.zoomFactor_,-r),n)},t.prototype.adjustRotation=function(r,n){n&&(n=dl(n,this.getProjection())),this.adjustRotationInternal(r,n)},t.prototype.adjustRotationInternal=function(r,n){var o=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+r,o);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=r,this.applyTargetState_()},t.prototype.setCenter=function(r){this.setCenterInternal(r&&dl(r,this.getProjection()))},t.prototype.setCenterInternal=function(r){this.targetCenter_=r,this.applyTargetState_()},t.prototype.setHint=function(r,n){return this.hints_[r]+=n,this.changed(),this.hints_[r]},t.prototype.setResolution=function(r){this.targetResolution_=r,this.applyTargetState_()},t.prototype.setRotation=function(r){this.targetRotation_=r,this.applyTargetState_()},t.prototype.setZoom=function(r){this.setResolution(this.getResolutionForZoom(r))},t.prototype.applyTargetState_=function(r,n){var o=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,o),f=this.getViewportSize_(i),g=this.constraints_.resolution(this.targetResolution_,0,f,o),w=this.constraints_.center(this.targetCenter_,g,f,o,this.calculateCenterShift(this.targetCenter_,g,i,f));this.get(ks.ROTATION)!==i&&this.set(ks.ROTATION,i),this.get(ks.RESOLUTION)!==g&&(this.set(ks.RESOLUTION,g),this.set("zoom",this.getZoom(),!0)),(!w||!this.get(ks.CENTER)||!rd(this.get(ks.CENTER),w))&&this.set(ks.CENTER,w),this.getAnimating()&&!r&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(r,n,o){var i=r!==void 0?r:200,f=n||0,g=this.constraints_.rotation(this.targetRotation_),w=this.getViewportSize_(g),E=this.constraints_.resolution(this.targetResolution_,f,w),C=this.constraints_.center(this.targetCenter_,E,w,!1,this.calculateCenterShift(this.targetCenter_,E,g,w));if(i===0&&!this.cancelAnchor_){this.targetResolution_=E,this.targetRotation_=g,this.targetCenter_=C,this.applyTargetState_();return}var q=o||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==E||this.getRotation()!==g||!this.getCenterInternal()||!rd(this.getCenterInternal(),C))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:g,center:C,resolution:E,duration:i,easing:Os,anchor:q}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ba.INTERACTING,1)},t.prototype.endInteraction=function(r,n,o){var i=o&&dl(o,this.getProjection());this.endInteractionInternal(r,n,i)},t.prototype.endInteractionInternal=function(r,n,o){this.setHint(ba.INTERACTING,-1),this.resolveConstraints(r,n,o)},t.prototype.getConstrainedCenter=function(r,n){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(r,n||this.getResolution(),o)},t.prototype.getConstrainedZoom=function(r,n){var o=this.getResolutionForZoom(r);return this.getZoomForResolution(this.getConstrainedResolution(o,n))},t.prototype.getConstrainedResolution=function(r,n){var o=n||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(r,o,i)},t}(Fi);function PP(e,t){setTimeout(function(){e(t)},0)}function KLt(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return w4(e.extent,e.constrainOnlyCenter,t)}var r=sP(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,w4(n,!1,!1)}return SEe}function YLt(e){var t,r,n,o=28,i=2,f=e.minZoom!==void 0?e.minZoom:I4,g=e.maxZoom!==void 0?e.maxZoom:o,w=e.zoomFactor!==void 0?e.zoomFactor:i,E=e.multiWorld!==void 0?e.multiWorld:!1,C=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,q=e.showFullExtent!==void 0?e.showFullExtent:!1,L=sP(e.projection,"EPSG:3857"),B=L.getExtent(),$=e.constrainOnlyCenter,ee=e.extent;if(!E&&!ee&&L.isGlobal()&&($=!1,ee=B),e.resolutions!==void 0){var G=e.resolutions;r=G[f],n=G[g]!==void 0?G[g]:G[G.length-1],e.constrainResolution?t=TEe(G,C,!$&&ee,q):t=T4(r,n,C,!$&&ee,q)}else{var H=B?Math.max(Kr(B),Ti(B)):360*ga[ya.DEGREES]/L.getMetersPerUnit(),Q=H/Dg/Math.pow(i,I4),se=Q/Math.pow(i,o-I4);r=e.maxResolution,r!==void 0?f=0:r=Q/Math.pow(w,f),n=e.minResolution,n===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?n=r/Math.pow(w,g):n=Q/Math.pow(w,g):n=se),g=f+Math.floor(Math.log(r/n)/Math.log(w)),n=r/Math.pow(w,g-f),e.constrainResolution?t=IEe(w,r,n,C,!$&&ee,q):t=T4(r,n,C,!$&&ee,q)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:f,zoomFactor:w}}function XLt(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var r=e.constrainRotation;return r===void 0||r===!0?Qwe():r===!1?p4:typeof r=="number"?Jwe(r):p4}else return Rg}function JLt(e){return!(e.sourceCenter&&e.targetCenter&&!rd(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function C4(e,t,r,n,o){var i=Math.cos(-o),f=Math.sin(-o),g=e[0]*i-e[1]*f,w=e[1]*i+e[0]*f;g+=(t[0]/2-r[0])*n,w+=(r[1]-t[1]/2)*n,f=-f;var E=g*i-w*f,C=w*i+g*f;return[E,C]}var uu=HLt;var QLt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function CEe(e){if(e instanceof Yb){e.setMapInternal(null);return}e instanceof Xb&&e.getLayers().forEach(CEe)}function PEe(e,t){if(e instanceof Yb){e.setMapInternal(t);return}if(e instanceof Xb)for(var r=e.getLayers().getArray(),n=0,o=r.length;n<o;++n)PEe(r[n],t)}var eDt=function(e){QLt(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var o=tDt(r);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,n.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:cP,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=xc(),n.pixelToCoordinateTransform_=xc(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=r.moveTolerance,n.keyboardEventTarget_=o.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=o.controls||new Ho,n.interactions=o.interactions||new Ho,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new bEe(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(fi.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(fi.VIEW,n.handleViewChanged_),n.addChangeListener(fi.SIZE,n.handleSizeChanged_),n.addChangeListener(fi.TARGET,n.handleTargetChanged_),n.setProperties(o.values);var i=n;return r.view&&!(r.view instanceof uu)&&r.view.then(function(f){i.setView(new uu(f))}),n.controls.addEventListener(Wo.ADD,function(f){f.element.setMap(this)}.bind(n)),n.controls.addEventListener(Wo.REMOVE,function(f){f.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Wo.ADD,function(f){f.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Wo.REMOVE,function(f){f.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Wo.ADD,function(f){this.addOverlayInternal_(f.element)}.bind(n)),n.overlays_.addEventListener(Wo.REMOVE,function(f){var g=f.element,w=g.getId();w!==void 0&&delete this.overlayIdIndex_[w.toString()],f.element.setMap(null)}.bind(n)),n.controls.forEach(function(f){f.setMap(this)}.bind(n)),n.interactions.forEach(function(f){f.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(r){this.getControls().push(r)},t.prototype.addInteraction=function(r){this.getInteractions().push(r)},t.prototype.addLayer=function(r){var n=this.getLayerGroup().getLayers();n.push(r)},t.prototype.handleLayerAdd_=function(r){PEe(r.layer,this)},t.prototype.addOverlay=function(r){this.getOverlays().push(r)},t.prototype.addOverlayInternal_=function(r){var n=r.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=r),r.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(r,n,o){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(r);o=o!==void 0?o:{};var f=o.hitTolerance!==void 0?o.hitTolerance:0,g=o.layerFilter!==void 0?o.layerFilter:pf,w=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,f,w,n,null,g,null)}},t.prototype.getFeaturesAtPixel=function(r,n){var o=[];return this.forEachFeatureAtPixel(r,function(i){o.push(i)},n),o},t.prototype.getAllLayers=function(){var r=[];function n(o){o.forEach(function(i){i instanceof Xb?n(i.getLayers()):r.push(i)})}return n(this.getLayers()),r},t.prototype.forEachLayerAtPixel=function(r,n,o){if(!(!this.frameState_||!this.renderer_)){var i=o||{},f=i.hitTolerance!==void 0?i.hitTolerance:0,g=i.layerFilter||pf;return this.renderer_.forEachLayerAtPixel(r,this.frameState_,f,n,g)}},t.prototype.hasFeatureAtPixel=function(r,n){if(!this.frameState_||!this.renderer_)return!1;var o=this.getCoordinateFromPixelInternal(r);n=n!==void 0?n:{};var i=n.layerFilter!==void 0?n.layerFilter:pf,f=n.hitTolerance!==void 0?n.hitTolerance:0,g=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,f,g,i,null)},t.prototype.getEventCoordinate=function(r){return this.getCoordinateFromPixel(this.getEventPixel(r))},t.prototype.getEventCoordinateInternal=function(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))},t.prototype.getEventPixel=function(r){var n=this.viewport_.getBoundingClientRect(),o="changedTouches"in r?r.changedTouches[0]:r;return[o.clientX-n.left,o.clientY-n.top]},t.prototype.getTarget=function(){return this.get(fi.TARGET)},t.prototype.getTargetElement=function(){var r=this.getTarget();return r!==void 0?typeof r=="string"?document.getElementById(r):r:null},t.prototype.getCoordinateFromPixel=function(r){return $b(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(r){var n=this.frameState_;return n?so(n.pixelToCoordinateTransform,r.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(r){var n=this.overlayIdIndex_[r.toString()];return n!==void 0?n:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(fi.LAYERGROUP)},t.prototype.setLayers=function(r){var n=this.getLayerGroup();if(r instanceof Ho){n.setLayers(r);return}var o=n.getLayers();o.clear(),o.extend(r)},t.prototype.getLayers=function(){var r=this.getLayerGroup().getLayers();return r},t.prototype.getLoadingOrNotReady=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,o=r.length;n<o;++n){var i=r[n];if(i.visible){var f=i.layer.getRenderer();if(f&&!f.ready)return!0;var g=i.layer.getSource();if(g&&g.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(r){var n=dl(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},t.prototype.getPixelFromCoordinateInternal=function(r){var n=this.frameState_;return n?so(n.coordinateToPixelTransform,r.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(fi.SIZE)},t.prototype.getView=function(){return this.get(fi.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var r=this.getTargetElement();return r?r.ownerDocument:document},t.prototype.getTilePriority=function(r,n,o,i){return wEe(this.frameState_,r,n,o,i)},t.prototype.handleBrowserEvent=function(r,n){var o=n||r.type,i=new su(o,this,r);this.handleMapBrowserEvent(i)},t.prototype.handleMapBrowserEvent=function(r){if(this.frameState_){var n=r.originalEvent,o=n.type;if(o===Jb.POINTERDOWN||o===gt.WHEEL||o===gt.KEYDOWN){var i=this.getOwnerDocument(),f=this.viewport_.getRootNode?this.viewport_.getRootNode():i,g=n.target;if(this.overlayContainerStopEvent_.contains(g)||!(f===i?i.documentElement:f).contains(g))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1)for(var w=this.getInteractions().getArray().slice(),E=w.length-1;E>=0;E--){var C=w[E];if(!(C.getMap()!==this||!C.getActive()||!this.getTargetElement())){var q=C.handleEvent(r);if(!q||r.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var r=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var o=this.maxTilesLoading_,i=o;if(r){var f=r.viewHints;if(f[ba.ANIMATING]||f[ba.INTERACTING]){var g=Date.now()-r.time>8;o=g?0:8,i=g?0:2}}n.getTilesLoading()<o&&(n.reprioritize(),n.loadMoreTiles(o,i))}r&&this.renderer_&&!r.animate&&(this.renderComplete_===!0?(this.hasListener(Ds.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ds.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new gf(ou.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new gf(ou.LOADSTART,this,r))));for(var w=this.postRenderFunctions_,E=0,C=w.length;E<C;++E)w[E](this,r);w.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var r=0,n=this.targetChangeHandlerKeys_.length;r<n;++r)_r(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(gt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(gt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Hb(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new _Ee(this,this.moveTolerance_);for(var i in nn)this.mapBrowserEventHandler_.addEventListener(nn[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(gt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(gt.WHEEL,this.boundHandleBrowserEvent_,fP?{passive:!1}:!1);var f=this.getOwnerDocument().defaultView,g=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[nr(g,gt.KEYDOWN,this.handleBrowserEvent,this),nr(g,gt.KEYPRESS,this.handleBrowserEvent,this),nr(f,gt.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(_r(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(_r(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var r=this.getView();r&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=nr(r,gc.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=nr(r,gt.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_r),this.layerGroupPropertyListenerKeys_=null);var r=this.getLayerGroup();r&&(this.handleLayerAdd_(new Ec("addlayer",r)),this.layerGroupPropertyListenerKeys_=[nr(r,gc.PROPERTYCHANGE,this.render,this),nr(r,gt.CHANGE,this.render,this),nr(r,"addlayer",this.handleLayerAdd_,this),nr(r,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,o=r.length;n<o;++n){var i=r[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(r){return this.getControls().remove(r)},t.prototype.removeInteraction=function(r){return this.getInteractions().remove(r)},t.prototype.removeLayer=function(r){var n=this.getLayerGroup().getLayers();return n.remove(r)},t.prototype.handleLayerRemove_=function(r){CEe(r.layer)},t.prototype.removeOverlay=function(r){return this.getOverlays().remove(r)},t.prototype.renderFrame_=function(r){var n=this,o=this.getSize(),i=this.getView(),f=this.frameState_,g=null;if(o!==void 0&&v4(o)&&i&&i.isDef()){var w=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),E=i.getState();if(g={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ub(E.center,E.resolution,E.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:E,viewHints:w,wantedTiles:{},mapId:hi(this),renderTargets:{}},E.nextCenter&&E.nextResolution){var C=isNaN(E.nextRotation)?E.rotation:E.nextRotation;g.nextExtent=Ub(E.nextCenter,E.nextResolution,C,o)}}if(this.frameState_=g,this.renderer_.renderFrame(g),g){if(g.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,g.postRenderFunctions),f){var q=!this.previousExtent_||!Vb(this.previousExtent_)&&!zb(g.extent,this.previousExtent_);q&&(this.dispatchEvent(new gf(ou.MOVESTART,this,f)),this.previousExtent_=gg(this.previousExtent_))}var L=this.previousExtent_&&!g.viewHints[ba.ANIMATING]&&!g.viewHints[ba.INTERACTING]&&!zb(g.extent,this.previousExtent_);L&&(this.dispatchEvent(new gf(ou.MOVEEND,this,g)),_1e(g.extent,this.previousExtent_))}this.dispatchEvent(new gf(ou.POSTRENDER,this,g)),this.renderComplete_=this.hasListener(ou.LOADSTART)||this.hasListener(ou.LOADEND)||this.hasListener(Ds.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},t.prototype.setLayerGroup=function(r){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new Ec("removelayer",n)),this.set(fi.LAYERGROUP,r)},t.prototype.setSize=function(r){this.set(fi.SIZE,r)},t.prototype.setTarget=function(r){this.set(fi.TARGET,r)},t.prototype.setView=function(r){if(!r||r instanceof uu){this.set(fi.VIEW,r);return}this.set(fi.VIEW,new uu);var n=this;r.then(function(o){n.setView(new uu(o))})},t.prototype.updateSize=function(){var r=this.getTargetElement(),n=void 0;if(r){var o=getComputedStyle(r),i=r.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),f=r.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(i)&&!isNaN(f)&&(n=[i,f],!v4(n)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var r=this.getView();if(r){var n=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(n=[parseInt(o.width,10),parseInt(o.height,10)]),r.setViewportSize(n)}},t}(Fi);function tDt(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r={},n=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new Xb({layers:e.layers});r[fi.LAYERGROUP]=n,r[fi.TARGET]=e.target,r[fi.VIEW]=e.view instanceof uu?e.view:new uu;var o;e.controls!==void 0&&(Array.isArray(e.controls)?o=new Ho(e.controls.slice()):($t(typeof e.controls.getArray=="function",47),o=e.controls));var i;e.interactions!==void 0&&(Array.isArray(e.interactions)?i=new Ho(e.interactions.slice()):($t(typeof e.interactions.getArray=="function",48),i=e.interactions));var f;return e.overlays!==void 0?Array.isArray(e.overlays)?f=new Ho(e.overlays.slice()):($t(typeof e.overlays.getArray=="function",49),f=e.overlays):f=new Ho,{controls:o,interactions:i,keyboardEventTarget:t,overlays:f,values:r}}var AEe=eDt;h();h();var rDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nDt=function(e){rDt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=o.collapsed!==void 0?o.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=o.collapsible!==void 0,n.collapsible_=o.collapsible!==void 0?o.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var i=o.className!==void 0?o.className:"ol-attribution",f=o.tipLabel!==void 0?o.tipLabel:"Attributions",g=o.expandClassName!==void 0?o.expandClassName:i+"-expand",w=o.collapseLabel!==void 0?o.collapseLabel:"\u203A",E=o.collapseClassName!==void 0?o.collapseClassName:i+"-collapse";typeof w=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=w,n.collapseLabel_.className=E):n.collapseLabel_=w;var C=o.label!==void 0?o.label:"i";typeof C=="string"?(n.label_=document.createElement("span"),n.label_.textContent=C,n.label_.className=g):n.label_=C;var q=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=f,n.toggleButton_.appendChild(q),n.toggleButton_.addEventListener(gt.CLICK,n.handleClick_.bind(n),!1);var L=i+" "+Ls+" "+au+(n.collapsed_&&n.collapsible_?" "+f4:"")+(n.collapsible_?"":" ol-uncollapsible"),B=n.element;return B.className=L,B.appendChild(n.toggleButton_),B.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return t.prototype.collectSourceAttributions_=function(r){for(var n={},o=[],i=!0,f=r.layerStatesArray,g=0,w=f.length;g<w;++g){var E=f[g];if(id(E,r.viewState)){var C=E.layer.getSource();if(C){var q=C.getAttributions();if(q){var L=q(r);if(L)if(i=i&&C.getAttributionsCollapsible()!==!1,Array.isArray(L))for(var B=0,$=L.length;B<$;++B)L[B]in n||(o.push(L[B]),n[L[B]]=!0);else L in n||(o.push(L),n[L]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),o},t.prototype.updateElement_=function(r){if(!r){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(r),o=n.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!Tg(n,this.renderedAttributions_)){Fwe(this.ulElement_);for(var i=0,f=n.length;i<f;++i){var g=document.createElement("li");g.innerHTML=n[i],this.ulElement_.appendChild(g)}this.renderedAttributions_=n}},t.prototype.handleClick_=function(r){r.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(f4),this.collapsed_?qg(this.collapseLabel_,this.label_):qg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(r){this.collapsible_!==r&&(this.collapsible_=r,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(r){this.userCollapsed_=r,!(!this.collapsible_||this.collapsed_===r)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(r){this.updateElement_(r.frameState)},t}(Ka),MEe=nDt;h();var iDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oDt=function(e){iDt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=o.className!==void 0?o.className:"ol-rotate",f=o.label!==void 0?o.label:"\u21E7",g=o.compassClassName!==void 0?o.compassClassName:"ol-compass";n.label_=null,typeof f=="string"?(n.label_=document.createElement("span"),n.label_.className=g,n.label_.textContent=f):(n.label_=f,n.label_.classList.add(g));var w=o.tipLabel?o.tipLabel:"Reset rotation",E=document.createElement("button");E.className=i+"-reset",E.setAttribute("type","button"),E.title=w,E.appendChild(n.label_),E.addEventListener(gt.CLICK,n.handleClick_.bind(n),!1);var C=i+" "+Ls+" "+au,q=n.element;return q.className=C,q.appendChild(E),n.callResetNorth_=o.resetNorth?o.resetNorth:void 0,n.duration_=o.duration!==void 0?o.duration:250,n.autoHide_=o.autoHide!==void 0?o.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Kb),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var r=this.getMap(),n=r.getView();if(n){var o=n.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Os}):n.setRotation(0))}},t.prototype.render=function(r){var n=r.frameState;if(n){var o=n.viewState.rotation;if(o!=this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var f=this.element.classList.contains(Kb);!f&&o===0?this.element.classList.add(Kb):f&&o!==0&&this.element.classList.remove(Kb)}this.label_.style.transform=i}this.rotation_=o}},t}(Ka),qEe=oDt;h();var aDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sDt=function(e){aDt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,{element:document.createElement("div"),target:o.target})||this;var i=o.className!==void 0?o.className:"ol-zoom",f=o.delta!==void 0?o.delta:1,g=o.zoomInClassName!==void 0?o.zoomInClassName:i+"-in",w=o.zoomOutClassName!==void 0?o.zoomOutClassName:i+"-out",E=o.zoomInLabel!==void 0?o.zoomInLabel:"+",C=o.zoomOutLabel!==void 0?o.zoomOutLabel:"\u2013",q=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",L=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",B=document.createElement("button");B.className=g,B.setAttribute("type","button"),B.title=q,B.appendChild(typeof E=="string"?document.createTextNode(E):E),B.addEventListener(gt.CLICK,n.handleClick_.bind(n,f),!1);var $=document.createElement("button");$.className=w,$.setAttribute("type","button"),$.title=L,$.appendChild(typeof C=="string"?document.createTextNode(C):C),$.addEventListener(gt.CLICK,n.handleClick_.bind(n,-f),!1);var ee=i+" "+Ls+" "+au,G=n.element;return G.className=ee,G.appendChild(B),G.appendChild($),n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleClick_=function(r,n){n.preventDefault(),this.zoomByDelta_(r)},t.prototype.zoomByDelta_=function(r){var n=this.getMap(),o=n.getView();if(o){var i=o.getZoom();if(i!==void 0){var f=o.getConstrainedZoom(i+r);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:f,duration:this.duration_,easing:Os})):o.setZoom(f)}}},t}(Ka),AP=sDt;h();var lDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uDt=function(e){lDt(t,e);function t(r){var n=this,o=r||{};n=e.call(this,{element:document.createElement("div"),target:o.target})||this,n.extent=o.extent?o.extent:null;var i=o.className!==void 0?o.className:"ol-zoom-extent",f=o.label!==void 0?o.label:"E",g=o.tipLabel!==void 0?o.tipLabel:"Fit to extent",w=document.createElement("button");w.setAttribute("type","button"),w.title=g,w.appendChild(typeof f=="string"?document.createTextNode(f):f),w.addEventListener(gt.CLICK,n.handleClick_.bind(n),!1);var E=i+" "+Ls+" "+au,C=n.element;return C.className=E,C.appendChild(w),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var r=this.getMap(),n=r.getView(),o=this.extent?this.extent:n.getProjection().getExtent();n.fitInternal(Zb(o))},t}(Ka),REe=uDt;function OEe(e){var t=e||{},r=new Ho,n=t.zoom!==void 0?t.zoom:!0;n&&r.push(new AP(t.zoomOptions));var o=t.rotate!==void 0?t.rotate:!0;o&&r.push(new qEe(t.rotateOptions));var i=t.attribution!==void 0?t.attribution:!0;return i&&r.push(new MEe(t.attributionOptions)),r}var cDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hDt=function(e){cDt(t,e);function t(r){return r=Cr({},r),r.controls||(r.controls=OEe()),r.interactions||(r.interactions=CP({onFocusOnly:!0})),e.call(this,r)||this}return t.prototype.createRenderer=function(){return new gEe(this)},t}(AEe),MP=hDt;h();h();h();var e1={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var fDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pDt=function(e){fDt(t,e);function t(r){var n=this,o=r||{},i=Cr({},o);return delete i.preload,delete i.useInterimTilesOnError,n=e.call(this,i)||this,n.on,n.once,n.un,n.setPreload(o.preload!==void 0?o.preload:0),n.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),n}return t.prototype.getPreload=function(){return this.get(e1.PRELOAD)},t.prototype.setPreload=function(r){this.set(e1.PRELOAD,r)},t.prototype.getUseInterimTilesOnError=function(){return this.get(e1.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(r){this.set(e1.USE_INTERIM_TILES_ON_ERROR,r)},t.prototype.getData=function(r){return e.prototype.getData.call(this,r)},t}(Yb),LEe=pDt;h();h();h();var dDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mDt=function(e){dDt(t,e);function t(r,n,o){var i=e.call(this)||this,f=o||{};return i.tileCoord=r,i.state=n,i.interimTile=null,i.key="",i.transition_=f.transition===void 0?250:f.transition,i.transitionStarts_={},i.interpolate=!!f.interpolate,i}return t.prototype.changed=function(){this.dispatchEvent(gt.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var r=this.interimTile;do{if(r.getState()==Et.LOADED)return this.transition_=0,r;r=r.interimTile}while(r);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var r=this.interimTile,n=this;do{if(r.getState()==Et.LOADED){r.interimTile=null;break}else r.getState()==Et.LOADING?n=r:r.getState()==Et.IDLE?n.interimTile=r.interimTile:n=r;r=n.interimTile}while(r)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(r){if(this.state!==Et.ERROR&&this.state>r)throw new Error("Tile load sequence violation");this.state=r,this.changed()},t.prototype.load=function(){pr()},t.prototype.getAlpha=function(r,n){if(!this.transition_)return 1;var o=this.transitionStarts_[r];if(!o)o=n,this.transitionStarts_[r]=o;else if(o===-1)return 1;var i=n-o+1e3/60;return i>=this.transition_?1:e4(i/this.transition_)},t.prototype.inTransition=function(r){return this.transition_?this.transitionStarts_[r]!==-1:!1},t.prototype.endTransition=function(r){this.transition_&&(this.transitionStarts_[r]=-1)},t}(ru),qP=mDt;var vDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gDt=function(e){vDt(t,e);function t(r,n,o,i,f,g){var w=e.call(this,r,n,g)||this;return w.crossOrigin_=i,w.src_=o,w.key=o,w.image_=new Image,i!==null&&(w.image_.crossOrigin=i),w.unlisten_=null,w.tileLoadFunction_=f,w}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r,this.state=Et.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=Et.ERROR,this.unlistenImage_(),this.image_=yDt(),this.changed()},t.prototype.handleImageLoad_=function(){var r=this.image_;r.naturalWidth&&r.naturalHeight?this.state=Et.LOADED:this.state=Et.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==Et.ERROR&&(this.state=Et.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Et.IDLE&&(this.state=Et.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=x4(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(qP);function yDt(){var e=wc(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var RP=gDt;h();h();var DEe=.5,cu=!0;h();var _Dt=10,kEe=.25,xDt=function(){function e(t,r,n,o,i,f){this.sourceProj_=t,this.targetProj_=r;var g={},w=nd(this.targetProj_,this.sourceProj_);this.transformInv_=function(se){var de=se[0]+"/"+se[1];return g[de]||(g[de]=w(se)),g[de]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&Kr(o)==Kr(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Kr(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Kr(this.targetProj_.getExtent()):null;var E=Rs(n),C=xg(n),q=_g(n),L=yg(n),B=this.transformInv_(E),$=this.transformInv_(C),ee=this.transformInv_(q),G=this.transformInv_(L),H=_Dt+(f?Math.max(0,Math.ceil(o1e(Bb(n)/(f*f*256*256)))):0);if(this.addQuad_(E,C,q,L,B,$,ee,G,H),this.wrapsXInSource_){var Q=1/0;this.triangles_.forEach(function(se,de,De){Q=Math.min(Q,se.source[0][0],se.source[1][0],se.source[2][0])}),this.triangles_.forEach(function(se){if(Math.max(se.source[0][0],se.source[1][0],se.source[2][0])-Q>this.sourceWorldWidth_/2){var de=[[se.source[0][0],se.source[0][1]],[se.source[1][0],se.source[1][1]],[se.source[2][0],se.source[2][1]]];de[0][0]-Q>this.sourceWorldWidth_/2&&(de[0][0]-=this.sourceWorldWidth_),de[1][0]-Q>this.sourceWorldWidth_/2&&(de[1][0]-=this.sourceWorldWidth_),de[2][0]-Q>this.sourceWorldWidth_/2&&(de[2][0]-=this.sourceWorldWidth_);var De=Math.min(de[0][0],de[1][0],de[2][0]),Ne=Math.max(de[0][0],de[1][0],de[2][0]);Ne-De<this.sourceWorldWidth_/2&&(se.source=de)}}.bind(this))}g={}}return e.prototype.addTriangle_=function(t,r,n,o,i,f){this.triangles_.push({source:[o,i,f],target:[t,r,n]})},e.prototype.addQuad_=function(t,r,n,o,i,f,g,w,E){var C=$U([i,f,g,w]),q=this.sourceWorldWidth_?Kr(C)/this.sourceWorldWidth_:null,L=this.sourceWorldWidth_,B=this.sourceProj_.canWrapX()&&q>.5&&q<1,$=!1;if(E>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var ee=$U([t,r,n,o]),G=Kr(ee)/this.targetWorldWidth_;$=G>kEe||$}!B&&this.sourceProj_.isGlobal()&&q&&($=q>kEe||$)}if(!(!$&&this.maxSourceExtent_&&isFinite(C[0])&&isFinite(C[1])&&isFinite(C[2])&&isFinite(C[3])&&!td(C,this.maxSourceExtent_))){var H=0;if(!$&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(g[0])||!isFinite(g[1])||!isFinite(w[0])||!isFinite(w[1]))){if(E>0)$=!0;else if(H=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(f[0])||!isFinite(f[1])?4:0)+(!isFinite(g[0])||!isFinite(g[1])?2:0)+(!isFinite(w[0])||!isFinite(w[1])?1:0),H!=1&&H!=2&&H!=4&&H!=8)return}if(E>0){if(!$){var Q=[(t[0]+n[0])/2,(t[1]+n[1])/2],se=this.transformInv_(Q),de=void 0;if(B){var De=(pl(i[0],L)+pl(g[0],L))/2;de=De-pl(se[0],L)}else de=(i[0]+g[0])/2-se[0];var Ne=(i[1]+g[1])/2-se[1],ke=de*de+Ne*Ne;$=ke>this.errorThresholdSquared_}if($){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var Ge=[(r[0]+n[0])/2,(r[1]+n[1])/2],rt=this.transformInv_(Ge),Mt=[(o[0]+t[0])/2,(o[1]+t[1])/2],tr=this.transformInv_(Mt);this.addQuad_(t,r,Ge,Mt,i,f,rt,tr,E-1),this.addQuad_(Mt,Ge,n,o,tr,rt,g,w,E-1)}else{var Mr=[(t[0]+r[0])/2,(t[1]+r[1])/2],kr=this.transformInv_(Mr),qr=[(n[0]+o[0])/2,(n[1]+o[1])/2],dr=this.transformInv_(qr);this.addQuad_(t,Mr,qr,o,i,kr,dr,w,E-1),this.addQuad_(Mr,r,n,qr,kr,f,g,dr,E-1)}return}}if(B){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(H&11)==0&&this.addTriangle_(t,n,o,i,g,w),(H&14)==0&&this.addTriangle_(t,n,r,i,g,f),H&&((H&13)==0&&this.addTriangle_(r,o,t,f,w,i),(H&7)==0&&this.addTriangle_(r,o,n,f,w,g))}},e.prototype.calculateSourceExtent=function(){var t=_a();return this.triangles_.forEach(function(r,n,o){var i=r.source;jb(t,i[0]),jb(t,i[1]),jb(t,i[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),NEe=xDt;h();h();var t1={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},FEe={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0};var P4,M4=[];function zEe(e,t,r,n,o){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(n,o),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(r,o)),e.restore()}function A4(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function bDt(){if(P4===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",zEe(e,4,5,4,0),zEe(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;P4=A4(t,0)||A4(t,4)||A4(t,8)}return P4}function OP(e,t,r,n){var o=wg(r,t,e),i=XU(t,n,r),f=t.getMetersPerUnit();f!==void 0&&(i*=f);var g=e.getMetersPerUnit();g!==void 0&&(i/=g);var w=e.getExtent();if(!w||lf(w,o)){var E=XU(e,i,o)/i;isFinite(E)&&E>0&&(i/=E)}return i}function jEe(e,t,r,n){var o=mc(r),i=OP(e,t,o,n);return(!isFinite(i)||i<=0)&&oP(r,function(f){return i=OP(e,t,f,n),isFinite(i)&&i>0}),i}function BEe(e,t,r,n,o,i,f,g,w,E,C,q){var L=wc(Math.round(r*e),Math.round(r*t),M4);if(q||Cr(L,t1),w.length===0)return L.canvas;L.scale(r,r);function B(de){return Math.round(de*r)/r}L.globalCompositeOperation="lighter";var $=_a();w.forEach(function(de,De,Ne){E1e($,de.extent)});var ee=Kr($),G=Ti($),H=wc(Math.round(r*ee/n),Math.round(r*G/n));q||Cr(H,t1);var Q=r/n;w.forEach(function(de,De,Ne){var ke=de.extent[0]-$[0],Ge=-(de.extent[3]-$[3]),rt=Kr(de.extent),Mt=Ti(de.extent);de.image.width>0&&de.image.height>0&&H.drawImage(de.image,E,E,de.image.width-2*E,de.image.height-2*E,ke*Q,Ge*Q,rt*Q,Mt*Q)});var se=Rs(f);return g.getTriangles().forEach(function(de,De,Ne){var ke=de.source,Ge=de.target,rt=ke[0][0],Mt=ke[0][1],tr=ke[1][0],Mr=ke[1][1],kr=ke[2][0],qr=ke[2][1],dr=B((Ge[0][0]-se[0])/i),Ut=B(-(Ge[0][1]-se[1])/i),_t=B((Ge[1][0]-se[0])/i),Bt=B(-(Ge[1][1]-se[1])/i),Nr=B((Ge[2][0]-se[0])/i),qn=B(-(Ge[2][1]-se[1])/i),Ur=rt,pn=Mt;rt=0,Mt=0,tr-=Ur,Mr-=pn,kr-=Ur,qr-=pn;var Jn=[[tr,Mr,0,0,_t-dr],[kr,qr,0,0,Nr-dr],[0,0,tr,Mr,Bt-Ut],[0,0,kr,qr,qn-Ut]],wr=s1e(Jn);if(wr){if(L.save(),L.beginPath(),bDt()||!q){L.moveTo(_t,Bt);for(var rr=4,dn=dr-_t,Rn=Ut-Bt,Tn=0;Tn<rr;Tn++)L.lineTo(_t+B((Tn+1)*dn/rr),Bt+B(Tn*Rn/(rr-1))),Tn!=rr-1&&L.lineTo(_t+B((Tn+1)*dn/rr),Bt+B((Tn+1)*Rn/(rr-1)));L.lineTo(Nr,qn)}else L.moveTo(_t,Bt),L.lineTo(dr,Ut),L.lineTo(Nr,qn);L.clip(),L.transform(wr[0],wr[2],wr[1],wr[3],dr,Ut),L.translate($[0]-Ur,$[3]-pn),L.scale(n/r,-n/r),L.drawImage(H.canvas,0,0),L.restore()}}),C&&(L.save(),L.globalCompositeOperation="source-over",L.strokeStyle="black",L.lineWidth=1,g.getTriangles().forEach(function(de,De,Ne){var ke=de.target,Ge=(ke[0][0]-se[0])/i,rt=-(ke[0][1]-se[1])/i,Mt=(ke[1][0]-se[0])/i,tr=-(ke[1][1]-se[1])/i,Mr=(ke[2][0]-se[0])/i,kr=-(ke[2][1]-se[1])/i;L.beginPath(),L.moveTo(Mt,tr),L.lineTo(Ge,rt),L.lineTo(Mr,kr),L.closePath(),L.stroke()}),L.restore()),L.canvas}var wDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EDt=function(e){wDt(t,e);function t(r,n,o,i,f,g,w,E,C,q,L,B){var $=e.call(this,f,Et.IDLE,{interpolate:!!B})||this;$.renderEdges_=L!==void 0?L:!1,$.pixelRatio_=w,$.gutter_=E,$.canvas_=null,$.sourceTileGrid_=n,$.targetTileGrid_=i,$.wrappedTileCoord_=g||f,$.sourceTiles_=[],$.sourcesListenerKeys_=null,$.sourceZ_=0;var ee=i.getTileCoordExtent($.wrappedTileCoord_),G=$.targetTileGrid_.getExtent(),H=$.sourceTileGrid_.getExtent(),Q=G?uf(ee,G):ee;if(Bb(Q)===0)return $.state=Et.EMPTY,$;var se=r.getExtent();se&&(H?H=uf(H,se):H=se);var de=i.getResolution($.wrappedTileCoord_[0]),De=jEe(r,o,Q,de);if(!isFinite(De)||De<=0)return $.state=Et.EMPTY,$;var Ne=q!==void 0?q:DEe;if($.triangulation_=new NEe(r,o,Q,H,De*Ne,de),$.triangulation_.getTriangles().length===0)return $.state=Et.EMPTY,$;$.sourceZ_=n.getZForResolution(De);var ke=$.triangulation_.calculateSourceExtent();if(H&&(r.canWrapX()?(ke[1]=rn(ke[1],H[1],H[3]),ke[3]=rn(ke[3],H[1],H[3])):ke=uf(ke,H)),!Bb(ke))$.state=Et.EMPTY;else{for(var Ge=n.getTileRangeForExtentAndZ(ke,$.sourceZ_),rt=Ge.minX;rt<=Ge.maxX;rt++)for(var Mt=Ge.minY;Mt<=Ge.maxY;Mt++){var tr=C($.sourceZ_,rt,Mt,w);tr&&$.sourceTiles_.push(tr)}$.sourceTiles_.length===0&&($.state=Et.EMPTY)}return $}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var r=[];if(this.sourceTiles_.forEach(function(C,q,L){C&&C.getState()==Et.LOADED&&r.push({extent:this.sourceTileGrid_.getTileCoordExtent(C.tileCoord),image:C.getImage()})}.bind(this)),this.sourceTiles_.length=0,r.length===0)this.state=Et.ERROR;else{var n=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(n),i=typeof o=="number"?o:o[0],f=typeof o=="number"?o:o[1],g=this.targetTileGrid_.getResolution(n),w=this.sourceTileGrid_.getResolution(this.sourceZ_),E=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=BEe(i,f,this.pixelRatio_,w,this.sourceTileGrid_.getExtent(),g,E,this.triangulation_,r,this.gutter_,this.renderEdges_,this.interpolate),this.state=Et.LOADED}this.changed()},t.prototype.load=function(){if(this.state==Et.IDLE){this.state=Et.LOADING,this.changed();var r=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,o,i){var f=n.getState();if(f==Et.IDLE||f==Et.LOADING){r++;var g=nr(n,gt.CHANGE,function(w){var E=n.getState();(E==Et.LOADED||E==Et.ERROR||E==Et.EMPTY)&&(_r(g),r--,r===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(g)}}.bind(this)),r===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,o,i){var f=n.getState();f==Et.IDLE&&n.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_r),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(Nwe(this.canvas_.getContext("2d")),M4.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(qP),LP=EDt;h();var UEe=function(){function e(t,r,n,o){this.minX=t,this.maxX=r,this.minY=n,this.maxY=o}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,r){return this.minX<=t&&t<=this.maxX&&this.minY<=r&&r<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function od(e,t,r,n,o){return o!==void 0?(o.minX=e,o.maxX=t,o.minY=r,o.maxY=n,o):new UEe(e,t,r,n)}var DP=UEe;var SDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TDt=function(e){SDt(t,e);function t(r){var n=e.call(this,r)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=_a(),n.tmpTileRange_=new DP(0,0,0,0),n}return t.prototype.isDrawableTile=function(r){var n=this.getLayer(),o=r.getState(),i=n.getUseInterimTilesOnError();return o==Et.LOADED||o==Et.EMPTY||o==Et.ERROR&&!i},t.prototype.getTile=function(r,n,o,i){var f=i.pixelRatio,g=i.viewState.projection,w=this.getLayer(),E=w.getSource(),C=E.getTile(r,n,o,f,g);return C.getState()==Et.ERROR&&(w.getUseInterimTilesOnError()?w.getPreload()>0&&(this.newTiles_=!0):C.setState(Et.LOADED)),this.isDrawableTile(C)||(C=C.getInterimTile()),C},t.prototype.getData=function(r){var n=this.frameState;if(!n)return null;var o=this.getLayer(),i=so(n.pixelToCoordinateTransform,r.slice()),f=o.getExtent();if(f&&!lf(f,i))return null;for(var g=n.pixelRatio,w=n.viewState.projection,E=n.viewState,C=o.getRenderSource(),q=C.getTileGridForProjection(E.projection),L=C.getTilePixelRatio(n.pixelRatio),B=q.getZForResolution(E.resolution);B>=q.getMinZoom();--B){var $=q.getTileCoordForCoordAndZ(i,B),ee=C.getTile(B,$[1],$[2],g,w);if(!(ee instanceof RP||ee instanceof LP))return null;if(ee.getState()===Et.LOADED){var G=q.getOrigin(B),H=To(q.getTileSize(B)),Q=q.getResolution(B),se=Math.floor(L*((i[0]-G[0])/Q-$[1]*H[0])),de=Math.floor(L*((G[1]-i[1])/Q-$[2]*H[1])),De=Math.round(L*C.getGutterForProjection(E.projection));return this.getImageData(ee.getImage(),se+De,de+De)}}return null},t.prototype.loadedTileCallback=function(r,n,o){return this.isDrawableTile(o)?e.prototype.loadedTileCallback.call(this,r,n,o):!1},t.prototype.prepareFrame=function(r){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(r,n){var o=r.layerStatesArray[r.layerIndex],i=r.viewState,f=i.projection,g=i.resolution,w=i.center,E=i.rotation,C=r.pixelRatio,q=this.getLayer(),L=q.getSource(),B=L.getRevision(),$=L.getTileGridForProjection(f),ee=$.getZForResolution(g,L.zDirection),G=$.getResolution(ee),H=r.extent,Q=r.viewState.resolution,se=L.getTilePixelRatio(C),de=Math.round(Kr(H)/Q*C),De=Math.round(Ti(H)/Q*C),Ne=o.extent&&ff(o.extent,f);Ne&&(H=uf(H,ff(o.extent,f)));var ke=G*de/2/se,Ge=G*De/2/se,rt=[w[0]-ke,w[1]-Ge,w[0]+ke,w[1]+Ge],Mt=$.getTileRangeForExtentAndZ(H,ee),tr={};tr[ee]={};var Mr=this.createLoadedTileFinder(L,f,tr),kr=this.tmpExtent,qr=this.tmpTileRange_;this.newTiles_=!1;for(var dr=E?aP(i.center,Q,E,r.size):void 0,Ut=Mt.minX;Ut<=Mt.maxX;++Ut)for(var _t=Mt.minY;_t<=Mt.maxY;++_t)if(!(E&&!$.tileCoordIntersectsViewport([ee,Ut,_t],dr))){var Bt=this.getTile(ee,Ut,_t,r);if(this.isDrawableTile(Bt)){var Nr=hi(this);if(Bt.getState()==Et.LOADED){tr[ee][Bt.tileCoord.toString()]=Bt;var qn=Bt.inTransition(Nr);qn&&o.opacity!==1&&(Bt.endTransition(Nr),qn=!1),!this.newTiles_&&(qn||this.renderedTiles.indexOf(Bt)===-1)&&(this.newTiles_=!0)}if(Bt.getAlpha(Nr,r.time)===1)continue}var Ur=$.getTileCoordChildTileRange(Bt.tileCoord,qr,kr),pn=!1;Ur&&(pn=Mr(ee+1,Ur)),pn||$.forEachTileCoordParentTileRange(Bt.tileCoord,Mr,qr,kr)}var Jn=G/g*C/se;bc(this.pixelTransform,r.size[0]/2,r.size[1]/2,1/C,1/C,E,-de/2,-De/2);var wr=iwe(this.pixelTransform);this.useContainer(n,wr,this.getBackground(r));var rr=this.context,dn=rr.canvas;pP(this.inversePixelTransform,this.pixelTransform),bc(this.tempTransform,de/2,De/2,Jn,Jn,0,-de/2,-De/2),dn.width!=de||dn.height!=De?(dn.width=de,dn.height=De):this.containerReused||rr.clearRect(0,0,de,De),Ne&&this.clipUnrotated(rr,r,Ne),L.getInterpolate()||Cr(rr,t1),this.preRender(rr,r),this.renderedTiles.length=0;var Rn=Object.keys(tr).map(Number);Rn.sort(Gb);var Tn,Ja,Yr;o.opacity===1&&(!this.containerReused||L.getOpaque(r.viewState.projection))?Rn=Rn.reverse():(Tn=[],Ja=[]);for(var Vr=Rn.length-1;Vr>=0;--Vr){var vr=Rn[Vr],co=L.getTilePixelSize(vr,C,f),Yo=$.getResolution(vr),Qa=Yo/G,Mo=co[0]*Qa*Jn,qo=co[1]*Qa*Jn,es=$.getTileCoordForCoordAndZ(Rs(rt),vr),Ia=$.getTileCoordExtent(es),Ro=so(this.tempTransform,[se*(Ia[0]-rt[0])/G,se*(rt[3]-Ia[3])/G]),ts=se*L.getGutterForProjection(f),rs=tr[vr];for(var ns in rs){var Bt=rs[ns],Ca=Bt.tileCoord,Pa=es[1]-Ca[1],vl=Math.round(Ro[0]-(Pa-1)*Mo),be=es[2]-Ca[2],Y=Math.round(Ro[1]-(be-1)*qo),Ut=Math.round(Ro[0]-Pa*Mo),_t=Math.round(Ro[1]-be*qo),J=vl-Ut,re=Y-_t,ce=ee===vr,qn=ce&&Bt.getAlpha(hi(this),r.time)!==1,ge=!1;if(!qn)if(Tn){Yr=[Ut,_t,Ut+J,_t,Ut+J,_t+re,Ut,_t+re];for(var we=0,Ce=Tn.length;we<Ce;++we)if(ee!==vr&&vr<Ja[we]){var xe=Tn[we];td([Ut,_t,Ut+J,_t+re],[xe[0],xe[3],xe[4],xe[7]])&&(ge||(rr.save(),ge=!0),rr.beginPath(),rr.moveTo(Yr[0],Yr[1]),rr.lineTo(Yr[2],Yr[3]),rr.lineTo(Yr[4],Yr[5]),rr.lineTo(Yr[6],Yr[7]),rr.moveTo(xe[6],xe[7]),rr.lineTo(xe[4],xe[5]),rr.lineTo(xe[2],xe[3]),rr.lineTo(xe[0],xe[1]),rr.clip())}Tn.push(Yr),Ja.push(vr)}else rr.clearRect(Ut,_t,J,re);this.drawTileImage(Bt,r,Ut,_t,J,re,ts,ce),Tn&&!qn?(ge&&rr.restore(),this.renderedTiles.unshift(Bt)):this.renderedTiles.push(Bt),this.updateUsedTiles(r.usedTiles,L,Bt)}}return this.renderedRevision=B,this.renderedResolution=G,this.extentChanged=!this.renderedExtent_||!zb(this.renderedExtent_,rt),this.renderedExtent_=rt,this.renderedPixelRatio=C,this.renderedProjection=f,this.manageTilePyramid(r,L,$,C,f,H,ee,q.getPreload()),this.scheduleExpireCache(r,L),this.postRender(rr,r),o.extent&&rr.restore(),Cr(rr,FEe),wr!==dn.style.transform&&(dn.style.transform=wr),this.container},t.prototype.drawTileImage=function(r,n,o,i,f,g,w,E){var C=this.getTileImage(r);if(C){var q=hi(this),L=n.layerStatesArray[n.layerIndex],B=L.opacity*(E?r.getAlpha(q,n.time):1),$=B!==this.context.globalAlpha;$&&(this.context.save(),this.context.globalAlpha=B),this.context.drawImage(C,w,w,C.width-2*w,C.height-2*w,o,i,f,g),$&&this.context.restore(),B!==L.opacity?n.animate=!0:E&&r.endTransition(q)}},t.prototype.getImage=function(){var r=this.context;return r?r.canvas:null},t.prototype.getTileImage=function(r){return r.getImage()},t.prototype.scheduleExpireCache=function(r,n){if(n.canExpireCache()){var o=function(i,f,g){var w=hi(i);w in g.usedTiles&&i.expireCache(g.viewState.projection,g.usedTiles[w])}.bind(null,n);r.postRenderFunctions.push(o)}},t.prototype.updateUsedTiles=function(r,n,o){var i=hi(n);i in r||(r[i]={}),r[i][o.getKey()]=!0},t.prototype.manageTilePyramid=function(r,n,o,i,f,g,w,E,C){var q=hi(n);q in r.wantedTiles||(r.wantedTiles[q]={});var L=r.wantedTiles[q],B=r.tileQueue,$=o.getMinZoom(),ee=r.viewState.rotation,G=ee?aP(r.viewState.center,r.viewState.resolution,ee,r.size):void 0,H=0,Q,se,de,De,Ne,ke;for(ke=$;ke<=w;++ke)for(se=o.getTileRangeForExtentAndZ(g,ke,se),de=o.getResolution(ke),De=se.minX;De<=se.maxX;++De)for(Ne=se.minY;Ne<=se.maxY;++Ne)ee&&!o.tileCoordIntersectsViewport([ke,De,Ne],G)||(w-ke<=E?(++H,Q=n.getTile(ke,De,Ne,i,f),Q.getState()==Et.IDLE&&(L[Q.getKey()]=!0,B.isKeyQueued(Q.getKey())||B.enqueue([Q,q,o.getTileCoordCenter(Q.tileCoord),de])),C!==void 0&&C(Q)):n.useTile(ke,De,Ne,f));n.updateCacheSize(H,f)},t}(hEe),VEe=TDt;var IDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CDt=function(e){IDt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.createRenderer=function(){return new VEe(this)},t}(LEe),r1=CDt;h();h();h();h();var PDt=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var r=this.oldest_;r;)t(r.value_,r.key_,this),r=r.newer},e.prototype.get=function(t,r){var n=this.entries_[t];return $t(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},e.prototype.remove=function(t){var r=this.entries_[t];return $t(r!==void 0,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,r){this.get(t),this.entries_[t].value_=r},e.prototype.set=function(t,r){$t(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(),$Ee=PDt;h();function q4(e,t,r,n){return n!==void 0?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function ad(e,t,r){return e+"/"+t+"/"+r}function kP(e){return ad(e[0],e[1],e[2])}function GEe(e){return e.split("/").map(Number)}function NP(e){return(e[1]<<e[0])+e[2]}function ZEe(e,t){var r=e[0],n=e[1],o=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var i=t.getFullTileRange(r);return i?i.containsXY(n,o):!0}var ADt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MDt=function(e){ADt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(r){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in r)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var r=this.peekFirstKey(),n=GEe(r),o=n[0];this.forEach(function(i){i.tileCoord[0]!==o&&(this.remove(kP(i.tileCoord)),i.release())}.bind(this))}},t}($Ee),FP=MDt;h();h();var zP={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};h();h();h();var qDt=[0,0,0],yf=5,RDt=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,$t(Z1e(this.resolutions_,function(f,g){return g-f},!0),17);var r;if(!t.origins){for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(!r)r=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==r){r=void 0;break}}this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,$t(this.origins_.length==this.resolutions_.length,20));var i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Rs(i)),$t(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,$t(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Dg,$t(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(f,g){var w=new DP(Math.min(0,f[0]),Math.max(f[0]-1,-1),Math.min(0,f[1]),Math.max(f[1]-1,-1));if(i){var E=this.getTileRangeForExtentAndZ(i,g);w.minX=Math.max(E.minX,w.minX),w.maxX=Math.min(E.maxX,w.maxX),w.minY=Math.max(E.minY,w.minY),w.maxY=Math.min(E.maxY,w.maxY)}return w},this):i&&this.calculateTileRanges_(i)}return e.prototype.forEachTileCoord=function(t,r,n){for(var o=this.getTileRangeForExtentAndZ(t,r),i=o.minX,f=o.maxX;i<=f;++i)for(var g=o.minY,w=o.maxY;g<=w;++g)n([r,i,g])},e.prototype.forEachTileCoordParentTileRange=function(t,r,n,o){var i,f,g,w=null,E=t[0]-1;for(this.zoomFactor_===2?(f=t[1],g=t[2]):w=this.getTileCoordExtent(t,o);E>=this.minZoom;){if(this.zoomFactor_===2?(f=Math.floor(f/2),g=Math.floor(g/2),i=od(f,f,g,g,n)):i=this.getTileRangeForExtentAndZ(w,E,n),r(E,i))return!0;--E}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,r,n){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var o=t[1]*2,i=t[2]*2;return od(o,o+1,i,i+1,r)}var f=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(f,t[0]+1,r)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,r,n){if(r>this.maxZoom||r<this.minZoom)return null;var o=t[0],i=t[1],f=t[2];if(r===o)return od(i,f,i,f,n);if(this.zoomFactor_){var g=Math.pow(this.zoomFactor_,r-o),w=Math.floor(i*g),E=Math.floor(f*g);if(r<o)return od(w,w,E,E,n);var C=Math.floor(g*(i+1))-1,q=Math.floor(g*(f+1))-1;return od(w,C,E,q,n)}var L=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(L,r,n)},e.prototype.getTileRangeExtent=function(t,r,n){var o=this.getOrigin(t),i=this.getResolution(t),f=To(this.getTileSize(t),this.tmpSize_),g=o[0]+r.minX*f[0]*i,w=o[0]+(r.maxX+1)*f[0]*i,E=o[1]+r.minY*f[1]*i,C=o[1]+(r.maxY+1)*f[1]*i;return dc(g,E,w,C,n)},e.prototype.getTileRangeForExtentAndZ=function(t,r,n){var o=qDt;this.getTileCoordForXYAndZ_(t[0],t[3],r,!1,o);var i=o[1],f=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],r,!0,o),od(i,o[1],f,o[2],n)},e.prototype.getTileCoordCenter=function(t){var r=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=To(this.getTileSize(t[0]),this.tmpSize_);return[r[0]+(t[1]+.5)*o[0]*n,r[1]-(t[2]+.5)*o[1]*n]},e.prototype.getTileCoordExtent=function(t,r){var n=this.getOrigin(t[0]),o=this.getResolution(t[0]),i=To(this.getTileSize(t[0]),this.tmpSize_),f=n[0]+t[1]*i[0]*o,g=n[1]-(t[2]+1)*i[1]*o,w=f+i[0]*o,E=g+i[1]*o;return dc(f,g,w,E,r)},e.prototype.getTileCoordForCoordAndResolution=function(t,r,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordForXYAndResolution_=function(t,r,n,o,i){var f=this.getZForResolution(n),g=n/this.getResolution(f),w=this.getOrigin(f),E=To(this.getTileSize(f),this.tmpSize_),C=g*(t-w[0])/n/E[0],q=g*(w[1]-r)/n/E[1];return o?(C=kb(C,yf)-1,q=kb(q,yf)-1):(C=Db(C,yf),q=Db(q,yf)),q4(f,C,q,i)},e.prototype.getTileCoordForXYAndZ_=function(t,r,n,o,i){var f=this.getOrigin(n),g=this.getResolution(n),w=To(this.getTileSize(n),this.tmpSize_),E=(t-f[0])/g/w[0],C=(f[1]-r)/g/w[1];return o?(E=kb(E,yf)-1,C=kb(C,yf)-1):(E=Db(E,yf),C=Db(C,yf)),q4(n,E,C,i)},e.prototype.getTileCoordForCoordAndZ=function(t,r,n){return this.getTileCoordForXYAndZ_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,r){var n=Sg(this.resolutions_,t,r||0);return rn(n,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,r){return l4(r,0,r.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var r=this.resolutions_.length,n=new Array(r),o=this.minZoom;o<r;++o)n[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=n},e}(),R4=RDt;function jP(e){var t=e.getDefaultTileGrid();return t||(t=LDt(e),e.setDefaultTileGrid(t)),t}function WEe(e,t,r){var n=t[0],o=e.getTileCoordCenter(t),i=BP(r);if(lf(i,o))return t;var f=Kr(i),g=Math.ceil((i[0]-o[0])/f);return o[0]+=f*g,e.getTileCoordForCoordAndZ(o,n)}function ODt(e,t,r,n){var o=n!==void 0?n:"top-left",i=KEe(e,t,r);return new R4({extent:e,origin:S1e(e,o),resolutions:i,tileSize:r})}function HEe(e){var t=e||{},r=t.extent||ao("EPSG:3857").getExtent(),n={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:KEe(r,t.maxZoom,t.tileSize,t.maxResolution)};return new R4(n)}function KEe(e,t,r,n){for(var o=t!==void 0?t:EEe,i=Ti(e),f=Kr(e),g=To(r!==void 0?r:Dg),w=n>0?n:Math.max(f/g[0],i/g[1]),E=o+1,C=new Array(E),q=0;q<E;++q)C[q]=w/Math.pow(2,q);return C}function LDt(e,t,r,n){var o=BP(e);return ODt(o,t,r,n)}function BP(e){e=ao(e);var t=e.getExtent();if(!t){var r=180*ga[ya.DEGREES]/e.getMetersPerUnit();t=dc(-r,-r,r,r)}return t}var YEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DDt=function(e){YEe(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,projection:r.projection,state:r.state,wrapX:r.wrapX,interpolate:r.interpolate})||this;n.on,n.once,n.un,n.opaque_=r.opaque!==void 0?r.opaque:!1,n.tilePixelRatio_=r.tilePixelRatio!==void 0?r.tilePixelRatio:1,n.tileGrid=r.tileGrid!==void 0?r.tileGrid:null;var o=[256,256];return n.tileGrid&&To(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),o),n.tileCache=new FP(r.cacheSize||0),n.tmpSize=[0,0],n.key_=r.key||"",n.tileOptions={transition:r.transition,interpolate:r.interpolate},n.zDirection=r.zDirection?r.zDirection:0,n}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(r,n){var o=this.getTileCacheForProjection(r);o&&o.expireCache(n)},t.prototype.forEachLoadedTile=function(r,n,o,i){var f=this.getTileCacheForProjection(r);if(!f)return!1;for(var g=!0,w,E,C,q=o.minX;q<=o.maxX;++q)for(var L=o.minY;L<=o.maxY;++L)E=ad(n,q,L),C=!1,f.containsKey(E)&&(w=f.get(E),C=w.getState()===Et.LOADED,C&&(C=i(w)!==!1)),C||(g=!1);return g},t.prototype.getGutterForProjection=function(r){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(r){this.key_!==r&&(this.key_=r,this.changed())},t.prototype.getOpaque=function(r){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(r,n,o,i,f){return pr()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(r){return this.tileGrid?this.tileGrid:jP(r)},t.prototype.getTileCacheForProjection=function(r){var n=this.getProjection();return $t(n===null||cf(n,r),68),this.tileCache},t.prototype.getTilePixelRatio=function(r){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(r,n,o){var i=this.getTileGridForProjection(o),f=this.getTilePixelRatio(n),g=To(i.getTileSize(r),this.tmpSize);return f==1?g:TP(g,f,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(r,n){var o=n!==void 0?n:this.getProjection(),i=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(r=WEe(i,r,o)),ZEe(r,i)?r:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(r,n){var o=this.getTileCacheForProjection(n);r>o.highWaterMark&&(o.highWaterMark=r)},t.prototype.useTile=function(r,n,o,i){},t}(mEe),XEe=function(e){YEe(t,e);function t(r,n){var o=e.call(this,r)||this;return o.tile=n,o}return t}(Eo);var JEe=DDt;h();function kDt(e,t){var r=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(f,g,w){if(f)return e.replace(r,f[0].toString()).replace(n,f[1].toString()).replace(o,f[2].toString()).replace(i,function(){var E=f[0],C=t.getFullTileRange(E);$t(C,55);var q=C.getHeight()-f[2]-1;return q.toString()})}}function QEe(e,t){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=kDt(e[o],t);return NDt(n)}function NDt(e){return e.length===1?e[0]:function(t,r,n){if(t){var o=NP(t),i=pl(o,e.length);return e[i](t,r,n)}else return}}function eSe(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),o=r[2].charCodeAt(0),i=void 0;for(i=n;i<=o;++i)t.push(e.replace(r[0],String.fromCharCode(i)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e),r){for(var f=parseInt(r[2],10),g=parseInt(r[1],10);g<=f;g++)t.push(e.replace(r[0],g.toString()));return t}return t.push(e),t}var FDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zDt=function(e){FDt(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(n.tileUrlFunction=r.tileUrlFunction),n.urls=null,r.urls?n.setUrls(r.urls):r.url&&n.setUrl(r.url),n.tileLoadingKeys_={},n}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(r){var n=r.target,o=hi(n),i=n.getState(),f;i==Et.LOADING?(this.tileLoadingKeys_[o]=!0,f=zP.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],f=i==Et.ERROR?zP.TILELOADERROR:i==Et.LOADED?zP.TILELOADEND:void 0),f!=null&&this.dispatchEvent(new XEe(f,n))},t.prototype.setTileLoadFunction=function(r){this.tileCache.clear(),this.tileLoadFunction=r,this.changed()},t.prototype.setTileUrlFunction=function(r,n){this.tileUrlFunction=r,this.tileCache.pruneExceptNewestZ(),typeof n!="undefined"?this.setKey(n):this.changed()},t.prototype.setUrl=function(r){var n=eSe(r);this.urls=n,this.setUrls(n)},t.prototype.setUrls=function(r){this.urls=r;var n=r.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(QEe(r,this.tileGrid),n):this.setKey(n)},t.prototype.tileUrlFunction=function(r,n,o){},t.prototype.useTile=function(r,n,o){var i=ad(r,n,o);this.tileCache.containsKey(i)&&this.tileCache.get(i)},t}(JEe),tSe=zDt;var jDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BDt=function(e){jDt(t,e);function t(r){var n=this,o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;return r.interpolate!==void 0&&(o=r.interpolate),n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction?r.tileLoadFunction:UDt,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX,transition:r.transition,interpolate:o,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this,n.crossOrigin=r.crossOrigin!==void 0?r.crossOrigin:null,n.tileClass=r.tileClass!==void 0?r.tileClass:RP,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=r.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return t.prototype.canExpireCache=function(){if(!cu)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var r in this.tileCacheForProjection)if(this.tileCacheForProjection[r].canExpireCache())return!0;return!1},t.prototype.expireCache=function(r,n){if(!cu){e.prototype.expireCache.call(this,r,n);return}var o=this.getTileCacheForProjection(r);this.tileCache.expireCache(this.tileCache==o?n:{});for(var i in this.tileCacheForProjection){var f=this.tileCacheForProjection[i];f.expireCache(f==o?n:{})}},t.prototype.getGutterForProjection=function(r){return cu&&this.getProjection()&&r&&!cf(this.getProjection(),r)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var r=e.prototype.getKey.call(this);return this.getInterpolate()||(r+=":disable-interpolation"),r},t.prototype.getOpaque=function(r){return cu&&this.getProjection()&&r&&!cf(this.getProjection(),r)?!1:e.prototype.getOpaque.call(this,r)},t.prototype.getTileGridForProjection=function(r){if(!cu)return e.prototype.getTileGridForProjection.call(this,r);var n=this.getProjection();if(this.tileGrid&&(!n||cf(n,r)))return this.tileGrid;var o=hi(r);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=jP(r)),this.tileGridForProjection[o]},t.prototype.getTileCacheForProjection=function(r){if(!cu)return e.prototype.getTileCacheForProjection.call(this,r);var n=this.getProjection();if(!n||cf(n,r))return this.tileCache;var o=hi(r);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new FP(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},t.prototype.createTile_=function(r,n,o,i,f,g){var w=[r,n,o],E=this.getTileCoordForTileUrlFunction(w,f),C=E?this.tileUrlFunction(E,i,f):void 0,q=new this.tileClass(w,C!==void 0?Et.IDLE:Et.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return q.key=g,q.addEventListener(gt.CHANGE,this.handleTileChange.bind(this)),q},t.prototype.getTile=function(r,n,o,i,f){var g=this.getProjection();if(!cu||!g||!f||cf(g,f))return this.getTileInternal(r,n,o,i,g||f);var w=this.getTileCacheForProjection(f),E=[r,n,o],C=void 0,q=kP(E);w.containsKey(q)&&(C=w.get(q));var L=this.getKey();if(C&&C.key==L)return C;var B=this.getTileGridForProjection(g),$=this.getTileGridForProjection(f),ee=this.getTileCoordForTileUrlFunction(E,f),G=new LP(g,B,f,$,E,ee,this.getTilePixelRatio(i),this.getGutter(),function(H,Q,se,de){return this.getTileInternal(H,Q,se,de,g)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return G.key=L,C?(G.interimTile=C,G.refreshInterimChain(),w.replace(q,G)):w.set(q,G),G},t.prototype.getTileInternal=function(r,n,o,i,f){var g=null,w=ad(r,n,o),E=this.getKey();if(!this.tileCache.containsKey(w))g=this.createTile_(r,n,o,i,f,E),this.tileCache.set(w,g);else if(g=this.tileCache.get(w),g.key!=E){var C=g;g=this.createTile_(r,n,o,i,f,E),C.getState()==Et.IDLE?g.interimTile=C.interimTile:g.interimTile=C,g.refreshInterimChain(),this.tileCache.replace(w,g)}return g},t.prototype.setRenderReprojectionEdges=function(r){if(!(!cu||this.renderReprojectionEdges_==r)){this.renderReprojectionEdges_=r;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},t.prototype.setTileGridForProjection=function(r,n){if(cu){var o=ao(r);if(o){var i=hi(o);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}},t}(tSe);function UDt(e,t){e.getImage().src=t}var UP=BDt;var VDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Dt=function(e){VDt(t,e);function t(r){var n=this,o=r||{},i=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(i=o.interpolate);var f=o.projection!==void 0?o.projection:"EPSG:3857",g=o.tileGrid!==void 0?o.tileGrid:HEe({extent:BP(f),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return n=e.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:i,opaque:o.opaque,projection:f,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:g,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this,n.gutter_=o.gutter!==void 0?o.gutter:0,n}return t.prototype.getGutter=function(){return this.gutter_},t}(UP),O4=$Dt;h();var L4=class extends Ka{constructor(r){let n=r||{},o=document.createElement("div");o.className="ol-layerspy ol-unselectable ol-control";let i=document.createElement("button");i.title=hc("control-layerspy-title"),i.type="button",o.appendChild(i);super({element:o,target:n.target});_i(this,"mousePosition",null);_i(this,"activate",()=>{this.layers===void 0&&(this.layers=this.getMap().getLayers()),this.getMap().addLayer(this.layer),this.layer.on("prerender",this.handlePrecompose,this),this.layer.on("postrender",this.handlePostcompose,this);let r=this.getMap().getViewport();r.addEventListener("mousemove",this.handleMouseMove),r.addEventListener("mouseout",this.handleMouseOut),document.addEventListener("keydown",this.handleKeyPress),this.layers.on("add",this.handleAddedLayer),this.containerEl.classList.add("active"),this.renderRadiusbox&&this.renderTargetElement()});_i(this,"changeLayer",r=>{this.containerEl.classList.contains("active")?(this.deactivate(),this.layer=r,this.activate()):this.layer=r});_i(this,"deactivate",()=>{this.layer.un("prerender",this.handlePrecompose),this.layer.un("postrender",this.handlePostcompose);let r=this.getMap().getViewport();r.removeEventListener("mousemove",this.handleMouseMove),r.removeEventListener("mouseout",this.handleMouseOut),document.removeEventListener("keydown",this.handleKeyPress),this.layers.un("add",this.handleAddedLayer),this.getMap().removeLayer(this.layer),this.containerEl.classList.remove("active"),this.renderRadiusbox&&this.renderTargetElement()});_i(this,"handlePostcompose",r=>{r.context.restore()});_i(this,"handlePrecompose",r=>{let n=r.context,o=1;n.save(),n.beginPath();let i=this.mousePosition;if(i){let f=this.getMap().getLayers().getArray().find(E=>E.vkf_id===this.refActiveBasemapId.current).renderer_.context.canvas.style.transform,g=new DOMPoint(i[0],i[1]),w=new DOMMatrix(f);g=g.matrixTransform(w.invertSelf()),n.arc(g.x*o,g.y*o,this.clipRadius*o,0,2*Math.PI),n.lineWidth=5*o,n.strokeStyle="rgba(0,0,0,0.5)",n.stroke()}n.clip()});_i(this,"handleMouseMove",r=>{this.mousePosition=this.getMap().getEventPixel(r),this.getMap().render()});_i(this,"handleMouseOut",()=>{this.mousePosition=null,this.getMap().render()});_i(this,"handleKeyPress",r=>{r.target.tagName.toLowerCase()!=="input"&&(r.key.toLowerCase()==="y"||r.keyCode==="KeyY"?(this.clipRadius=Math.min(this.clipRadius+5,150),this.getMap().render()):(r.key.toLowerCase()==="x"||r.keyCode==="KeyX")&&(this.clipRadius=Math.max(this.clipRadius-5,25),this.getMap().render()),this.updateClipRadiusDisplay())});_i(this,"handleAddedLayer",r=>{r.target.getArray()[r.target.getLength()-1]!==this.layer&&(this.getMap().removeLayer(this.layer),this.getMap().addLayer(this.layer))});_i(this,"handleExternal3dStateUpdate",r=>{this.containerEl.disabled=r,r?this.containerEl.classList.add("disabled"):this.containerEl.classList.remove("disabled")});_i(this,"updateClipRadiusDisplay",()=>{let r=this.targetEl;r.innerHTML=`<strong>Radius: ${this.clipRadius}px</strong> (${hc("control-layerspy-radius-tooltip")})`});_i(this,"renderTargetElement",()=>{let r=this.targetEl,n=jU(this.getMap());this.targetEl===void 0&&(r=document.createElement("div"),r.className="ol-control ol-layerspy-radius-box",r.innerHTML="",n.appendChild(r),this.targetEl=r),this.targetEl.classList.toggle("active"),n.classList.toggle("layerspy-active"),this.updateClipRadiusDisplay()});this.clipRadius=fc(n.radius)?parseInt(n.radius,0):75,n.refSpyLayer!==void 0&&(n.refSpyLayer.current=this),this.refActiveBasemapId=n.refActiveBasemapId,this.containerEl=i,this.renderRadiusbox=r.renderRadiusBox===void 0?!0:r.renderRadiusBox,i.addEventListener("click",f=>{f.preventDefault(),this.containerEl.classList.contains("active")?this.deactivate():this.activate()}),fc(n.spyLayer)&&this.changeLayer(n.spyLayer)}},rSe=L4;var nSe=e=>{let{children:t,extent:r,onLoad:n=()=>console.log("No onLoad function was passed to component Map2D."),urlsOsmBaseMap:o}=e,i=(0,kg.useRef)(null);return(0,kg.useEffect)(()=>{let f=()=>yn(null,null,function*(){let g=new r1({source:new O4({urls:o,crossOrigin:"*",maxZoom:18})});g.vkf_id="slub-osm";let w=new MP({controls:[new Wwe({tipLabel:hc("control-fullscreen-title")}),new AP({zoomInTipLabel:hc("control-zoom-in"),zoomOutTipLabel:hc("control-zoom-in")})],interactions:CP().extend([new wP]),layers:[g],target:i.current,view:new uu({projection:"EPSG:3857",center:[871713,6396955],zoom:4.3})});if(n({map:w}),r!=null){let C=hf(r,"EPSG:4326",w.getView().getProjection());w.getView().fit(C,{padding:[100,100,100,100]}),w.addControl(new REe({tipLabel:hc("control-zoomtoextent-title"),extent:C}))}let E=new r1({zIndex:10,attribution:void 0,source:new O4({urls:o,crossOrigin:"*",attributions:[]})});E.vkf_id="slub-osm",w.addControl(new rSe({spyLayer:E,refActiveBasemapId:{current:g.vkf_id}}))});i.current!==null&&f()},[]),kg.default.createElement("div",{className:"map-container",ref:i},t)};nSe.propTypes={extent:ml.default.arrayOf(ml.default.number),onLoad:ml.default.func,urlNominatim:ml.default.string,urlsOsmBaseMap:ml.default.arrayOf(ml.default.string),children:ml.default.oneOfType([ml.default.arrayOf(ml.default.node),ml.default.node])};var iSe=nSe;var oSe=iSe;h();h();var Io=$e(ar(),1);var GDt=()=>Io.default.createElement("div",{className:"vkf-loading-indicator"},Io.default.createElement("svg",{className:"loading-icon",version:"1.1",id:"Layer_1",x:"0",y:"0",viewBox:"0 0 70 100"},Io.default.createElement("rect",{fill:"white",width:"5",height:"100",transform:"translate(0) rotate(180 3 50)"},Io.default.createElement("animate",{attributeName:"height",attributeType:"XML",dur:"1s",values:"30; 100; 30",repeatCount:"indefinite"}),Io.default.createElement("animate",{attributeName:"y",attributeType:"XML",dur:"1.2s",values:"0;60;0",repeatCount:"indefinite"})),Io.default.createElement("rect",{x:"17",fill:"white",width:"5",height:"100",transform:"translate(0) rotate(180 20 50)"},Io.default.createElement("animate",{attributeName:"height",attributeType:"XML",dur:"1s",values:"30; 100; 30",repeatCount:"indefinite",begin:"0.1s"}),Io.default.createElement("animate",{attributeName:"y",attributeType:"XML",dur:".5s",values:"0;5;0",repeatCount:"indefinite"})),Io.default.createElement("rect",{x:"40",fill:"white",width:"5",height:"100",transform:"translate(0) rotate(180 40 50)"},Io.default.createElement("animate",{attributeName:"height",attributeType:"XML",dur:"1s",values:"30; 100; 30",repeatCount:"indefinite",begin:"0.3s"}),Io.default.createElement("animate",{attributeName:"y",attributeType:"XML",dur:"2s",values:"0;30;0",repeatCount:"indefinite",begin:"0.6s"})),Io.default.createElement("rect",{x:"60",fill:"white",width:"5",height:"100",transform:"translate(0) rotate(180 58 50)"},Io.default.createElement("animate",{attributeName:"height",attributeType:"XML",dur:"1s",values:"30; 100; 30",repeatCount:"indefinite",begin:"0.5s"}),Io.default.createElement("animate",{attributeName:"y",attributeType:"XML",dur:"1s",values:"0;60;0",repeatCount:"indefinite",begin:".3s"}))),Io.default.createElement("div",{className:"loading-text"},"Loading\u2026")),aSe=GDt;var sSe=aSe;h();function lSe(e){return yn(this,null,function*(){let t=oo.getGeoreferenceApiClient(),r="/transformations/",n={map_id:e,additional_properties:!0},o=yield t.get(r,{params:n});if(o.status===200)return o.data;console.error("Something went wrong while trying to fetch transformation for given map_id.")})}function uSe(e){return yn(this,null,function*(){let t=oo.getGeoreferenceApiClient(),r="/transformations/",n={user_id:e},o=yield t.get(r,{params:n});if(o.status===200)return o.data;console.error("Something went wrong while trying to fetch transformation for given user id.")})}function cSe(e){return yn(this,null,function*(){let t=oo.getGeoreferenceApiClient(),r="/transformations/",n={validation:e},o=yield t.get(r,{params:n});if(o.status===200)return o.data;console.error("Something went wrong while trying to fetch transformation for given validation.")})}function hSe(e){return yn(this,null,function*(){let t=oo.getGeoreferenceApiClient(),r="/jobs/",n=e,o=yield t.post(r,n);if(o.status===200)return o.data;console.error("Something went wrong while trying to post a new job.")})}function fSe(e){return yn(this,null,function*(){let t=oo.getGeoreferenceApiClient(),r="/transformations/",n={transformation_id:e},o={dry_run:!0},i=yield t.post(r,n,{params:o});if(i.status===200)return i.data;console.error("Something went wrong while trying to fetch transformation preview for given transformation_id.")})}h();h();var i1=$e(ar(),1),Ng=$e(Wr(),1);h();h();var n1="1.3.0";h();function D4(e,t){var r=[];Object.keys(t).forEach(function(o){t[o]!==null&&t[o]!==void 0&&r.push(o+"="+encodeURIComponent(t[o]))});var n=r.join("&");return e=e.replace(/[?&]$/,""),e=e.indexOf("?")===-1?e+"?":e+"&",e+n}var ZDt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WDt=function(e){ZDt(t,e);function t(r){var n=this,o=r||{},i=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(i=o.interpolate);var f=o.params||{},g="TRANSPARENT"in f?f.TRANSPARENT:!0;return n=e.call(this,{attributions:o.attributions,attributionsCollapsible:o.attributionsCollapsible,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:i,opaque:!g,projection:o.projection,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileClass:o.tileClass,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,zDirection:o.zDirection})||this,n.gutter_=o.gutter!==void 0?o.gutter:0,n.params_=f,n.v13_=!0,n.serverType_=o.serverType,n.hidpi_=o.hidpi!==void 0?o.hidpi:!0,n.tmpExtent_=_a(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return t.prototype.getFeatureInfoUrl=function(r,n,o,i){var f=ao(o),g=this.getProjection(),w=this.getTileGrid();w||(w=this.getTileGridForProjection(f));var E=w.getZForResolution(n,this.zDirection),C=w.getTileCoordForCoordAndZ(r,E);if(!(w.getResolutions().length<=C[0])){var q=w.getResolution(C[0]),L=w.getTileCoordExtent(C,this.tmpExtent_),B=To(w.getTileSize(C[0]),this.tmpSize),$=this.gutter_;$!==0&&(B=m4(B,$,this.tmpSize),L=GU(L,q*$,L)),g&&g!==f&&(q=OP(g,f,r,q),L=hf(L,f,g),r=wg(r,f,g));var ee={SERVICE:"WMS",VERSION:n1,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Cr(ee,this.params_,i);var G=Math.floor((r[0]-L[0])/q),H=Math.floor((L[3]-r[1])/q);return ee[this.v13_?"I":"X"]=G,ee[this.v13_?"J":"Y"]=H,this.getRequestUrl_(C,B,L,1,g||f,ee)}},t.prototype.getLegendUrl=function(r,n){if(this.urls[0]!==void 0){var o={SERVICE:"WMS",VERSION:n1,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){var i=this.params_.LAYERS,f=!Array.isArray(i)||i.length===1;if(!f)return;o.LAYER=i}if(r!==void 0){var g=this.getProjection()?this.getProjection().getMetersPerUnit():1,w=28e-5;o.SCALE=r*g/w}return Cr(o,n),D4(this.urls[0],o)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(r,n,o,i,f,g){var w=this.urls;if(w){if(g.WIDTH=n[0],g.HEIGHT=n[1],g[this.v13_?"CRS":"SRS"]=f.getCode(),"STYLES"in this.params_||(g.STYLES=""),i!=1)switch(this.serverType_){case"geoserver":var E=90*i+.5|0;"FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+=";dpi:"+E:g.FORMAT_OPTIONS="dpi:"+E;break;case"mapserver":g.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":g.DPI=90*i;break;default:$t(!1,52);break}var C=f.getAxisOrientation(),q=o;if(this.v13_&&C.substr(0,2)=="ne"){var L=void 0;L=o[0],q[0]=o[1],q[1]=L,L=o[2],q[2]=o[3],q[3]=L}g.BBOX=q.join(",");var B;if(w.length==1)B=w[0];else{var $=pl(NP(r),w.length);B=w[$]}return D4(B,g)}},t.prototype.getTilePixelRatio=function(r){return!this.hidpi_||this.serverType_===void 0?1:r},t.prototype.getKeyForParams_=function(){var r=0,n=[];for(var o in this.params_)n[r++]=o+"-"+this.params_[o];return n.join("/")},t.prototype.updateParams=function(r){Cr(this.params_,r),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var r=this.params_.VERSION||n1;this.v13_=P1e(r,"1.3")>=0},t.prototype.tileUrlFunction=function(r,n,o){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(o)),!(i.getResolutions().length<=r[0])){n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var f=i.getResolution(r[0]),g=i.getTileCoordExtent(r,this.tmpExtent_),w=To(i.getTileSize(r[0]),this.tmpSize),E=this.gutter_;E!==0&&(w=m4(w,E,this.tmpSize),g=GU(g,f*E,g)),n!=1&&(w=TP(w,n,this.tmpSize));var C={SERVICE:"WMS",VERSION:n1,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Cr(C,this.params_),this.getRequestUrl_(r,w,g,n,o,C)}},t}(UP),pSe=WDt;function HDt(e,t){return e.getCoordinates()[0].map(r=>t.getPixelFromCoordinate(r))}var dSe=e=>{let{map:t,layerName:r,onLoad:n=()=>{},wmsUrl:o}=e;return(0,i1.useEffect)(()=>{let i=new r1({source:new pSe({url:o,params:{LAYERS:r,VERSION:"1.1.1"},projection:t.getView().getProjection()}),preload:1/0,zIndex:1});t.addLayer(i),n(i);let f=w=>{let E=t.getLayers().getArray().find(C=>C.get("key")==="clip");if(E!==void 0&&E.getSource().getFeatures().length>0){let C=HDt(E.getSource().getFeatures()[0].getGeometry(),t),q=1,L=w.context;L.save(),L.beginPath(),L.moveTo(C[0][0]*q,C[0][1]*q);for(let B=1;B<C.length;B++)L.lineTo(C[B][0]*q,C[B][1]*q);L.closePath(),L.clip()}},g=w=>{w.context.restore()};return i.on("prerender",f),i.on("postrender",g),()=>{i.un("prerender",f),i.un("postrender",g),t.removeLayer(i)}},[]),i1.default.createElement(i1.default.Fragment,null)};dSe.propTypes={clipPolygon:Ng.default.instanceOf(mP),layerName:Ng.default.string.isRequired,map:Ng.default.instanceOf(MP).isRequired,onLoad:Ng.default.func,wmsUrl:Ng.default.string.isRequired};var mSe=dSe;var vSe=mSe;h();var jr=$e(ar(),1),wa=$e(Wr(),1);h();h();var hu=$e(ar(),1);var KDt=()=>hu.default.createElement("div",{className:"lds-roller"},hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null),hu.default.createElement("div",null)),gSe=KDt;var ySe=gSe;var sd={BY_VALIDATION:"byValidationState",BY_MAPID:"byMapId",BY_USERID:"byUserId"},Sc=[{desc:"Auswahl von allen gespeicherten Transformation mit einem bestimmten Validierungsstatus",id:sd.BY_VALIDATION,label:"Validation",type:"radio",value:"missing",values:["invalid","missing"]},{desc:"Auswahl von allen gespeicherten Transformation f\xFCr eine Karten-Id",id:sd.BY_MAPID,label:"Karten-Id",type:"input",value:""},{desc:"Auswahl von allen gespeicherten Transformation f\xFCr eine Nutzer-Id",id:sd.BY_USERID,label:"User-Id",type:"input",value:""}];function _Se(e){let t=n=>{e.onChange(n.target.value,e.id,"input")},r=()=>{e.onSubmit(e.value,e.id,"input")};return jr.default.createElement("div",null,jr.default.createElement("p",null,e.desc),jr.default.createElement("div",{className:"input-group"},jr.default.createElement("input",{value:e.value,onChange:t,type:"text",className:"form-control",placeholder:e.placeholder}),jr.default.createElement("span",{className:"input-group-btn"},jr.default.createElement("button",{className:"btn btn-default",onClick:r},jr.default.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":!0})))))}_Se.propTypes={desc:wa.default.string.isRequired,id:wa.default.string.isRequired,placeholder:wa.default.string.isRequired,onChange:wa.default.func.isRequired,onSubmit:wa.default.func.isRequired,value:wa.default.string.isRequired};function xSe(e){return jr.default.createElement("div",null,jr.default.createElement("p",null,e.desc),jr.default.createElement("div",null,e.values.map(t=>jr.default.createElement("div",{key:t,className:"radio"},jr.default.createElement("label",null,jr.default.createElement("input",{type:"radio",name:`options-${t}`,value:t,checked:t===e.value,readOnly:!0,onClick:()=>e.onChange(t,e.id,"radio")})," ",t)))))}xSe.propTypes={desc:wa.default.string.isRequired,id:wa.default.string.isRequired,onChange:wa.default.func.isRequired,value:wa.default.string.isRequired,values:wa.default.arrayOf(wa.default.string).isRequired};var YDt=(e,t)=>yn(null,null,function*(){let r=yield lSe(e);t(r.transformations)}),XDt=(e,t)=>yn(null,null,function*(){let r=yield uSe(e);t(r.transformations)}),k4=(e,t)=>yn(null,null,function*(){let r=yield cSe(e);t(r.transformations)}),bSe=e=>{let[t,r]=(0,jr.useState)(Sc[0]),[n,o]=(0,jr.useState)(!1),[i,f]=(0,jr.useState)({[Sc[0].id]:Sc[0].value,[Sc[1].id]:Sc[1].value,[Sc[2].id]:Sc[2].value}),g=C=>{r(C),C.id===sd.BY_VALIDATION&&(o(!0),k4(i[C.id],q=>{o(!1),e.onChangeTransformations(q)}))},w=(C,q)=>{f(Object.assign({},i,{[q]:C})),q===sd.BY_VALIDATION&&(o(!0),k4(C,L=>{o(!1),e.onChangeTransformations(L)}))},E=(C,q)=>{q===sd.BY_MAPID?(o(!0),YDt(C,L=>{o(!1),e.onChangeTransformations(L)})):q===sd.BY_USERID?(o(!0),XDt(C,L=>{o(!1),e.onChangeTransformations(L)})):console.warn("Given selection id is not supported.")};return(0,jr.useEffect)(()=>{k4(Sc[0].value,e.onChangeTransformations)},[]),jr.default.createElement("div",{className:"vkf-select-transformations"},jr.default.createElement("div",{className:"nav-container"},jr.default.createElement("ul",{className:"nav nav-pills"},Sc.map((C,q)=>jr.default.createElement("li",{key:q,role:"presentation",className:t!==null&&t.id===C.id?"active":""},jr.default.createElement("a",{href:"#",onClick:()=>g(C)},C.label)))),n&&jr.default.createElement(ySe,null)),jr.default.createElement("div",{className:"select-container"},t!==null&&t.type==="radio"&&jr.default.createElement(xSe,{desc:t.desc,id:t.id,onChange:w,value:i[t.id],values:t.values}),t!==null&&t.type==="input"&&jr.default.createElement(_Se,{desc:t.desc,id:t.id,onChange:w,onSubmit:E,value:i[t.id],placeholder:t.label})))};bSe.propTypes={onChangeTransformations:wa.default.func.isRequired};var wSe=bSe;h();var lr=$e(ar(),1);h();h();var Y4=$e(bTe(),1);function Tt(){return Tt=Y4.default?Y4.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tt.apply(null,arguments)}h();var VTe=$e(RTe(),1);h();var e5=$e(UTe(),1);function rA(e,t){return rA=e5.default?e5.default.bind():function(r,n){return r.__proto__=n,r},rA(e,t)}function xr(e,t){e.prototype=(0,VTe.default)(t.prototype),e.prototype.constructor=e,rA(e,t)}h();function br(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}h();h();h();function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(null,arguments)}h();function t5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n5=$e(ar());h();var Q3r=$e(iA()),rNt=function(){};function GTe(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[Bg(n)]=rNt,0)var o}),r}function r5(e,t){return e[t]!==void 0}function Bg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ZTe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}h();h();h();function oA(e,t){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oA(e,t)}function HTe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oA(e,t)}var Ug=$e(ar()),JTe=$e(o5()),QTe=$e(iA());var iNt="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function c1(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",o=ZTe(e),i=Object.keys(t),f=i.map(Bg);o||!r.length||(0,QTe.default)(!1);var g=function(E){HTe(C,E);function C(){for(var L,B=arguments.length,$=new Array(B),ee=0;ee<B;ee++)$[ee]=arguments[ee];L=E.call.apply(E,[this].concat($))||this,L.handlers=Object.create(null),i.forEach(function(H){var Q=t[H],se=function(De){if(L.props[Q]){var Ne;L._notifying=!0;for(var ke=arguments.length,Ge=new Array(ke>1?ke-1:0),rt=1;rt<ke;rt++)Ge[rt-1]=arguments[rt];(Ne=L.props)[Q].apply(Ne,[De].concat(Ge)),L._notifying=!1}L.unmounted||L.setState(function(Mt){var tr,Mr=Mt.values;return{values:pu(Object.create(null),Mr,(tr={},tr[H]=De,tr))}})};L.handlers[Q]=se}),r.length&&(L.attachRef=function(H){L.inner=H});var G=Object.create(null);return i.forEach(function(H){G[H]=L.props[Bg(H)]}),L.state={values:G,prevProps:{}},L}var q=C.prototype;return q.shouldComponentUpdate=function(){return!this._notifying},C.getDerivedStateFromProps=function(B,$){var ee=$.values,G=$.prevProps,H={values:pu(Object.create(null),ee),prevProps:{}};return i.forEach(function(Q){H.prevProps[Q]=B[Q],!r5(B,Q)&&r5(G,Q)&&(H.values[Q]=B[Bg(Q)])}),H},q.componentWillUnmount=function(){this.unmounted=!0},q.render=function(){var B=this,$=this.props,ee=$.innerRef,G=t5($,["innerRef"]);f.forEach(function(Q){delete G[Q]});var H={};return i.forEach(function(Q){var se=B.props[Q];H[Q]=se!==void 0?se:B.state.values[Q]}),Ug.default.createElement(e,pu({},G,H,this.handlers,{ref:ee||this.attachRef}))},C}(Ug.default.Component);(0,JTe.polyfill)(g),g.displayName="Uncontrolled("+n+")",g.propTypes=pu({innerRef:function(){}},GTe(t,n)),r.forEach(function(E){g.prototype[E]=function(){var q;return(q=this.inner)[E].apply(q,arguments)}});var w=g;return Ug.default.forwardRef&&(w=Ug.default.forwardRef(function(E,C){return Ug.default.createElement(g,pu({},E,{innerRef:C,__source:{fileName:iNt,lineNumber:128},__self:this}))}),w.propTypes=g.propTypes),w.ControlledComponent=e,w.deferControlTo=function(E,C,q){return C===void 0&&(C={}),c1(E,pu({},t,C),q)},w}h();var u5=$e(s5());var sIe=$e(iA()),aA=$e(Wr());h();var du={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},l5={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var aIe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},h1={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function c5(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[r.length-1];return typeof o=="function"?e.apply(void 0,r):function(i){return e.apply(void 0,r.concat([i]))}}}function En(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,sIe.default)(!1),r+(t?"-"+t:"")}var Sn=c5(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=aA.default.string,n.bsClass=e,t}),lIe=c5(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],o=r.propTypes||{};e.forEach(function(g){n.indexOf(g)===-1&&n.push(g)});var i=aA.default.oneOf(n);if(r.STYLES=n,i._values=n,r.propTypes=Tt({},o,{bsStyle:i}),t!==void 0){var f=r.defaultProps||(r.defaultProps={});f.bsStyle=t}return r}),Vg=c5(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],o=r.propTypes||{};e.forEach(function(g){n.indexOf(g)===-1&&n.push(g)});var i=[];n.forEach(function(g){var w=l5[g];w&&w!==g&&i.push(w),i.push(g)});var f=aA.default.oneOf(i);return f._values=i,r.SIZES=n,r.propTypes=Tt({},o,{bsSize:f}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function Po(e){var t,r=(t={},t[En(e)]=!0,t);if(e.bsSize){var n=l5[e.bsSize]||e.bsSize;r[En(e,n)]=!0}return e.bsStyle&&(r[En(e,e.bsStyle)]=!0),r}function uIe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function cIe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function Sa(e){var t={};return(0,u5.default)(e).forEach(function(r){var n=r[0],o=r[1];cIe(n)||(t[n]=o)}),[uIe(e),t]}function sA(e,t){var r={};t.forEach(function(o){r[o]=!0});var n={};return(0,u5.default)(e).forEach(function(o){var i=o[0],f=o[1];!cIe(i)&&!r[i]&&(n[i]=f)}),[uIe(e),n]}h();var lo=$e(ar());function cNt(e,t,r){var n=0;return lo.default.Children.map(e,function(o){return lo.default.isValidElement(o)?t.call(r,o,n++):o})}function hNt(e,t,r){var n=0;lo.default.Children.forEach(e,function(o){lo.default.isValidElement(o)&&t.call(r,o,n++)})}function fNt(e){var t=0;return lo.default.Children.forEach(e,function(r){lo.default.isValidElement(r)&&++t}),t}function pNt(e,t,r){var n=0,o=[];return lo.default.Children.forEach(e,function(i){lo.default.isValidElement(i)&&t.call(r,i,n++)&&o.push(i)}),o}function dNt(e,t,r){var n=0,o;return lo.default.Children.forEach(e,function(i){o||lo.default.isValidElement(i)&&t.call(r,i,n++)&&(o=i)}),o}function mNt(e,t,r){var n=0,o=!0;return lo.default.Children.forEach(e,function(i){o&&lo.default.isValidElement(i)&&(t.call(r,i,n++)||(o=!1))}),o}function vNt(e,t,r){var n=0,o=!1;return lo.default.Children.forEach(e,function(i){o||lo.default.isValidElement(i)&&t.call(r,i,n++)&&(o=!0)}),o}function gNt(e){var t=[];return lo.default.Children.forEach(e,function(r){lo.default.isValidElement(r)&&t.push(r)}),t}var ld={map:cNt,forEach:hNt,count:fNt,find:dNt,filter:pNt,every:mNt,some:vNt,toArray:gNt};h();var uA=$e(Wr()),h5=$e(f1());var VUr=uA.default.oneOfType([uA.default.string,uA.default.number]);function fIe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,h5.default)(function(n,o,i){var f;return t.every(function(g){return ld.some(n.children,function(w){return w.props.bsRole===g})?!0:(f=g,!1)}),f?new Error("(children) "+i+" - Missing a required child with bsRole: "+(f+". "+i+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function pIe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,h5.default)(function(n,o,i){var f;return t.every(function(g){var w=ld.filter(n.children,function(E){return E.props.bsRole===g});return w.length>1?(f=g,!1):!0}),f?new Error("(children) "+i+" - Duplicate children detected of bsRole: "+(f+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}h();var f5=$e(Wr()),p1=$e(ar()),xNt={label:f5.default.string.isRequired,onClick:f5.default.func},bNt={label:"Close"},p5=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.label,f=o.onClick;return p1.default.createElement("button",{type:"button",className:"close",onClick:f},p1.default.createElement("span",{"aria-hidden":"true"},"\xD7"),p1.default.createElement("span",{className:"sr-only"},i))},t}(p1.default.Component);p5.propTypes=xNt;p5.defaultProps=bNt;var xIe=p5;h();h();function Ar(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g5=$e(ar()),Ic=$e(Wr()),PIe=$e(Tc());h();function ONt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,o){if(typeof o!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?o:function(){for(var f=arguments.length,g=new Array(f),w=0;w<f;w++)g[w]=arguments[w];n.apply(this,g),o.apply(this,g)}},null)}var Ii=ONt;var LNt={href:Ic.default.string,onClick:Ic.default.func,onKeyDown:Ic.default.func,disabled:Ic.default.bool,role:Ic.default.string,tabIndex:Ic.default.oneOfType([Ic.default.number,Ic.default.string]),componentClass:PIe.default},DNt={componentClass:"a"};function CIe(e){return!e||e.trim()==="#"}var y5=function(e){xr(t,e);function t(n,o){var i;return i=e.call(this,n,o)||this,i.handleClick=i.handleClick.bind(Ar(Ar(i))),i.handleKeyDown=i.handleKeyDown.bind(Ar(Ar(i))),i}var r=t.prototype;return r.handleClick=function(o){var i=this.props,f=i.disabled,g=i.href,w=i.onClick;if((f||CIe(g))&&o.preventDefault(),f){o.stopPropagation();return}w&&w(o)},r.handleKeyDown=function(o){o.key===" "&&(o.preventDefault(),this.handleClick(o))},r.render=function(){var o=this.props,i=o.componentClass,f=o.disabled,g=o.onKeyDown,w=br(o,["componentClass","disabled","onKeyDown"]);return CIe(w.href)&&(w.role=w.role||"button",w.href=w.href||"#"),f&&(w.tabIndex=-1,w.style=Tt({pointerEvents:"none"},w.style)),g5.default.createElement(i,Tt({},w,{onClick:this.handleClick,onKeyDown:Ii(this.handleKeyDown,g)}))},t}(g5.default.Component);y5.propTypes=LNt;y5.defaultProps=DNt;var $g=y5;h();var AIe=$e(_Ie());var _5=$e(Ea()),bA=$e(ar()),ud=$e(Wr()),MIe=$e(Tc());var kNt={active:ud.default.bool,disabled:ud.default.bool,block:ud.default.bool,onClick:ud.default.func,componentClass:MIe.default,href:ud.default.string,type:ud.default.oneOf(["button","reset","submit"])},NNt={active:!1,block:!1,disabled:!1},x5=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(o,i){return bA.default.createElement($g,Tt({},o,{className:(0,_5.default)(i,o.disabled&&"disabled")}))},r.renderButton=function(o,i){var f=o.componentClass,g=br(o,["componentClass"]),w=f||"button";return bA.default.createElement(w,Tt({},g,{type:g.type||"button",className:i}))},r.render=function(){var o,i=this.props,f=i.active,g=i.block,w=i.className,E=br(i,["active","block","className"]),C=Sa(E),q=C[0],L=C[1],B=Tt({},Po(q),(o={active:f},o[En(q,"block")]=g,o)),$=(0,_5.default)(w,B);return L.href?this.renderAnchor(L,$):this.renderButton(L,$)},t}(bA.default.Component);x5.propTypes=kNt;x5.defaultProps=NNt;var bf=Sn("btn",Vg([du.LARGE,du.SMALL,du.XSMALL],lIe((0,AIe.default)(aIe).concat([h1.DEFAULT,h1.PRIMARY,h1.LINK]),h1.DEFAULT,x5)));h();var RIe=$e(Ea()),b5=$e(ar()),SA=$e(Wr()),OIe=$e(EA());var UNt={vertical:SA.default.bool,justified:SA.default.bool,block:(0,OIe.default)(SA.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},VNt={block:!1,justified:!1,vertical:!1},w5=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o,i=this.props,f=i.block,g=i.justified,w=i.vertical,E=i.className,C=br(i,["block","justified","vertical","className"]),q=Sa(C),L=q[0],B=q[1],$=Tt({},Po(L),(o={},o[En(L)]=!w,o[En(L,"vertical")]=w,o[En(L,"justified")]=g,o[En(bf.defaultProps,"block")]=f,o));return b5.default.createElement("div",Tt({},B,{className:(0,RIe.default)(E,$)}))},t}(b5.default.Component);w5.propTypes=UNt;w5.defaultProps=VNt;var LIe=Sn("btn-group",w5);h();var xPe=$e(Ea()),bPe=$e(O5()),wPe=$e(x1()),KA=$e(D5()),Kg=$e(ar()),Ko=$e(Wr()),X5=$e(ys()),EPe=$e(EA()),SPe=$e(Tc()),TPe=$e(mCe());var g6r=$e(E5());h();var mPe=$e(iPe());var vPe=$e(Ea()),T1=$e(D5()),I1=$e(ar()),Pc=$e(Wr()),gPe=$e(ys()),yPe=$e(dPe());var Jzt={open:Pc.default.bool,pullRight:Pc.default.bool,onClose:Pc.default.func,labelledBy:Pc.default.oneOfType([Pc.default.string,Pc.default.number]),onSelect:Pc.default.func,rootCloseEvent:Pc.default.oneOf(["click","mousedown"])},Qzt={bsRole:"menu",pullRight:!1},W5=function(e){xr(t,e);function t(n){var o;return o=e.call(this,n)||this,o.handleRootClose=o.handleRootClose.bind(Ar(Ar(o))),o.handleKeyDown=o.handleKeyDown.bind(Ar(Ar(o))),o}var r=t.prototype;return r.getFocusableMenuItems=function(){var o=gPe.default.findDOMNode(this);return o?(0,mPe.default)(o.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var o=this.getFocusableMenuItems(),i=o.indexOf(document.activeElement);return{items:o,activeIndex:i}},r.focusNext=function(){var o=this.getItemsAndActiveIndex(),i=o.items,f=o.activeIndex;if(i.length!==0){var g=f===i.length-1?0:f+1;i[g].focus()}},r.focusPrevious=function(){var o=this.getItemsAndActiveIndex(),i=o.items,f=o.activeIndex;if(i.length!==0){var g=f===0?i.length-1:f-1;i[g].focus()}},r.handleKeyDown=function(o){switch(o.keyCode){case T1.default.codes.down:this.focusNext(),o.preventDefault();break;case T1.default.codes.up:this.focusPrevious(),o.preventDefault();break;case T1.default.codes.esc:case T1.default.codes.tab:this.props.onClose(o,{source:"keydown"});break;default:}},r.handleRootClose=function(o){this.props.onClose(o,{source:"rootClose"})},r.render=function(){var o,i=this,f=this.props,g=f.open,w=f.pullRight,E=f.labelledBy,C=f.onSelect,q=f.className,L=f.rootCloseEvent,B=f.children,$=br(f,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),ee=sA($,["onClose"]),G=ee[0],H=ee[1],Q=Tt({},Po(G),(o={},o[En(G,"right")]=w,o));return I1.default.createElement(yPe.default,{disabled:!g,onRootClose:this.handleRootClose,event:L},I1.default.createElement("ul",Tt({},H,{role:"menu",className:(0,vPe.default)(q,Q),"aria-labelledby":E}),ld.map(B,function(se){return I1.default.cloneElement(se,{onKeyDown:Ii(se.props.onKeyDown,i.handleKeyDown),onSelect:Ii(se.props.onSelect,C)})})))},t}(I1.default.Component);W5.propTypes=Jzt;W5.defaultProps=Qzt;var H5=Sn("dropdown-menu",W5);h();var HA=$e(ar()),C1=$e(Wr()),_Pe=$e(Ea());var ejt={noCaret:C1.default.bool,open:C1.default.bool,title:C1.default.string,useAnchor:C1.default.bool},tjt={open:!1,useAnchor:!1,bsRole:"toggle"},K5=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.noCaret,f=o.open,g=o.useAnchor,w=o.bsClass,E=o.className,C=o.children,q=br(o,["noCaret","open","useAnchor","bsClass","className","children"]);delete q.bsRole;var L=g?$g:bf,B=!i;return HA.default.createElement(L,Tt({},q,{role:"button",className:(0,_Pe.default)(E,w),"aria-haspopup":!0,"aria-expanded":f}),C||q.title,B&&" ",B&&HA.default.createElement("span",{className:"caret"}))},t}(HA.default.Component);K5.propTypes=ejt;K5.defaultProps=tjt;var Y5=Sn("dropdown-toggle",K5);var IPe=Y5.defaultProps.bsRole,J5=H5.defaultProps.bsRole,rjt={dropup:Ko.default.bool,id:(0,TPe.default)(Ko.default.oneOfType([Ko.default.string,Ko.default.number])),componentClass:SPe.default,children:(0,EPe.default)(fIe(IPe,J5),pIe(J5)),disabled:Ko.default.bool,pullRight:Ko.default.bool,open:Ko.default.bool,defaultOpen:Ko.default.bool,onToggle:Ko.default.func,onSelect:Ko.default.func,role:Ko.default.string,rootCloseEvent:Ko.default.oneOf(["click","mousedown"]),onMouseEnter:Ko.default.func,onMouseLeave:Ko.default.func},njt={componentClass:LIe},YA=function(e){xr(t,e);function t(n,o){var i;return i=e.call(this,n,o)||this,i.handleClick=i.handleClick.bind(Ar(Ar(i))),i.handleKeyDown=i.handleKeyDown.bind(Ar(Ar(i))),i.handleClose=i.handleClose.bind(Ar(Ar(i))),i._focusInDropdown=!1,i.lastOpenEventType=null,i}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(o){!o.open&&this.props.open&&(this._focusInDropdown=(0,wPe.default)(X5.default.findDOMNode(this.menu),(0,bPe.default)(document)))},r.componentDidUpdate=function(o){var i=this.props.open,f=o.open;i&&!f&&this.focusNextOnOpen(),!i&&f&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var o=X5.default.findDOMNode(this.toggle);o&&o.focus&&o.focus()},r.focusNextOnOpen=function(){var o=this.menu;!o||!o.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&o.focusNext()},r.handleClick=function(o){this.props.disabled||this.toggleOpen(o,{source:"click"})},r.handleClose=function(o,i){this.props.open&&this.toggleOpen(o,i)},r.handleKeyDown=function(o){if(!this.props.disabled)switch(o.keyCode){case KA.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(o,{source:"keydown"}),o.preventDefault();break;case KA.default.codes.esc:case KA.default.codes.tab:this.handleClose(o,{source:"keydown"});break;default:}},r.toggleOpen=function(o,i){var f=!this.props.open;f&&(this.lastOpenEventType=i.source),this.props.onToggle&&this.props.onToggle(f,o,i)},r.renderMenu=function(o,i){var f=this,g=i.id,w=i.onSelect,E=i.rootCloseEvent,C=br(i,["id","onSelect","rootCloseEvent"]),q=function(B){f.menu=B};return typeof o.ref=="string"||(q=Ii(o.ref,q)),(0,Kg.cloneElement)(o,Tt({},C,{ref:q,labelledBy:g,bsClass:En(C,"menu"),onClose:Ii(o.props.onClose,this.handleClose),onSelect:Ii(o.props.onSelect,w,function(L,B){return f.handleClose(B,{source:"select"})}),rootCloseEvent:E}))},r.renderToggle=function(o,i){var f=this,g=function(E){f.toggle=E};return typeof o.ref=="string"||(g=Ii(o.ref,g)),(0,Kg.cloneElement)(o,Tt({},i,{ref:g,bsClass:En(i,"toggle"),onClick:Ii(o.props.onClick,this.handleClick),onKeyDown:Ii(o.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var o,i=this,f=this.props,g=f.componentClass,w=f.id,E=f.dropup,C=f.disabled,q=f.pullRight,L=f.open,B=f.onSelect,$=f.role,ee=f.bsClass,G=f.className,H=f.rootCloseEvent,Q=f.children,se=br(f,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete se.onToggle;var de=(o={},o[ee]=!0,o.open=L,o.disabled=C,o);return E&&(de[ee]=!1,de.dropup=!0),Kg.default.createElement(g,Tt({},se,{className:(0,xPe.default)(G,de)}),ld.map(Q,function(De){switch(De.props.bsRole){case IPe:return i.renderToggle(De,{id:w,disabled:C,open:L,role:$,bsClass:ee});case J5:return i.renderMenu(De,{id:w,open:L,pullRight:q,bsClass:ee,onSelect:B,rootCloseEvent:H});default:return De}}))},t}(Kg.default.Component);YA.propTypes=rjt;YA.defaultProps=njt;Sn("dropdown",YA);var Q5=c1(YA,{open:"onToggle"});Q5.Toggle=Y5;Q5.Menu=H5;var Yg=Q5;h();var A1=$e(ar()),Xg=$e(Wr());h();var CPe=$e(s5());function P1(e,t){var r=t.propTypes,n={},o={};return(0,CPe.default)(e).forEach(function(i){var f=i[0],g=i[1];r[f]?n[f]=g:o[f]=g}),[n,o]}var ijt=Tt({},Yg.propTypes,{bsStyle:Xg.default.string,bsSize:Xg.default.string,title:Xg.default.node.isRequired,noCaret:Xg.default.bool,children:Xg.default.node}),PPe=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.bsSize,f=o.bsStyle,g=o.title,w=o.children,E=br(o,["bsSize","bsStyle","title","children"]),C=P1(E,Yg.ControlledComponent),q=C[0],L=C[1];return A1.default.createElement(Yg,Tt({},q,{bsSize:i,bsStyle:f}),A1.default.createElement(Yg.Toggle,Tt({},L,{bsSize:i,bsStyle:f}),g),A1.default.createElement(Yg.Menu,null,w))},t}(A1.default.Component);PPe.propTypes=ijt;var e6=PPe;h();var APe=$e(Ea()),JA=$e(ar()),Ns=$e(Wr()),Jg=$e(aCe()),XA,ojt={in:Ns.default.bool,mountOnEnter:Ns.default.bool,unmountOnExit:Ns.default.bool,appear:Ns.default.bool,timeout:Ns.default.number,onEnter:Ns.default.func,onEntering:Ns.default.func,onEntered:Ns.default.func,onExit:Ns.default.func,onExiting:Ns.default.func,onExited:Ns.default.func},ajt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},sjt=(XA={},XA[Jg.ENTERING]="in",XA[Jg.ENTERED]="in",XA),t6=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.className,f=o.children,g=br(o,["className","children"]);return JA.default.createElement(Jg.default,g,function(w,E){return JA.default.cloneElement(f,Tt({},E,{className:(0,APe.default)("fade",i,f.props.className,sjt[w])}))})},t}(JA.default.Component);t6.propTypes=ojt;t6.defaultProps=ajt;var r6=t6;h();var QA=$e(Ea()),Qg=$e(ar()),Ac=$e(Wr()),MPe=$e(EA());var ljt={active:Ac.default.bool,disabled:Ac.default.bool,divider:(0,MPe.default)(Ac.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:Ac.default.any,header:Ac.default.bool,href:Ac.default.string,onClick:Ac.default.func,onSelect:Ac.default.func},ujt={divider:!1,disabled:!1,header:!1},n6=function(e){xr(t,e);function t(n,o){var i;return i=e.call(this,n,o)||this,i.handleClick=i.handleClick.bind(Ar(Ar(i))),i}var r=t.prototype;return r.handleClick=function(o){var i=this.props,f=i.href,g=i.disabled,w=i.onSelect,E=i.eventKey;(!f||g)&&o.preventDefault(),!g&&w&&w(E,o)},r.render=function(){var o=this.props,i=o.active,f=o.disabled,g=o.divider,w=o.header,E=o.onClick,C=o.className,q=o.style,L=br(o,["active","disabled","divider","header","onClick","className","style"]),B=sA(L,["eventKey","onSelect"]),$=B[0],ee=B[1];return g?(ee.children=void 0,Qg.default.createElement("li",Tt({},ee,{role:"separator",className:(0,QA.default)(C,"divider"),style:q}))):w?Qg.default.createElement("li",Tt({},ee,{role:"heading",className:(0,QA.default)(C,En($,"header")),style:q})):Qg.default.createElement("li",{role:"presentation",className:(0,QA.default)(C,{active:i,disabled:f}),style:q},Qg.default.createElement($g,Tt({},ee,{role:"menuitem",tabIndex:"-1",onClick:Ii(E,this.handleClick)})))},t}(Qg.default.Component);n6.propTypes=ljt;n6.defaultProps=ujt;var i6=Sn("dropdown",n6);h();var P6=$e(Ea()),A6=$e(VPe()),sMe=$e(y1()),lMe=$e(mu()),M6=$e(s6()),ry=$e(ar()),ji=$e(Wr()),uMe=$e(ys()),ny=$e(WAe()),cMe=$e(h6()),hMe=$e(Tc());h();var HAe=$e(Ea()),b6=$e(ar()),KAe=$e(Tc());var x3t={componentClass:KAe.default},b3t={componentClass:"div"},w6=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.componentClass,f=o.className,g=br(o,["componentClass","className"]),w=Sa(g),E=w[0],C=w[1],q=Po(E);return b6.default.createElement(i,Tt({},C,{className:(0,HAe.default)(f,q)}))},t}(b6.default.Component);w6.propTypes=x3t;w6.defaultProps=b3t;var YAe=Sn("modal-body",w6);h();var E6=$e(Ea()),R1=$e(ar()),XAe=$e(Wr());var w3t={dialogClassName:XAe.default.string},JAe=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o,i=this.props,f=i.dialogClassName,g=i.className,w=i.style,E=i.children,C=i.onMouseDownDialog,q=br(i,["dialogClassName","className","style","children","onMouseDownDialog"]),L=Sa(q),B=L[0],$=L[1],ee=En(B),G=Tt({display:"block"},w),H=Tt({},Po(B),(o={},o[ee]=!1,o[En(B,"dialog")]=!0,o));return R1.default.createElement("div",Tt({},$,{tabIndex:"-1",role:"dialog",style:G,className:(0,E6.default)(g,ee)}),R1.default.createElement("div",{className:(0,E6.default)(f,H),onMouseDown:C},R1.default.createElement("div",{className:En(B,"content"),role:"document"},E)))},t}(R1.default.Component);JAe.propTypes=w3t;var wM=Sn("modal",Vg([du.LARGE,du.SMALL],JAe));h();var QAe=$e(Ea()),S6=$e(ar()),eMe=$e(Tc());var E3t={componentClass:eMe.default},S3t={componentClass:"div"},T6=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.componentClass,f=o.className,g=br(o,["componentClass","className"]),w=Sa(g),E=w[0],C=w[1],q=Po(E);return S6.default.createElement(i,Tt({},C,{className:(0,QAe.default)(f,q)}))},t}(S6.default.Component);T6.propTypes=E3t;T6.defaultProps=S3t;var tMe=Sn("modal-footer",T6);h();var rMe=$e(Ea()),ty=$e(Wr()),EM=$e(ar());var T3t={closeLabel:ty.default.string,closeButton:ty.default.bool,onHide:ty.default.func},I3t={closeLabel:"Close",closeButton:!1},C3t={$bs_modal:ty.default.shape({onHide:ty.default.func})},SM=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.closeLabel,f=o.closeButton,g=o.onHide,w=o.className,E=o.children,C=br(o,["closeLabel","closeButton","onHide","className","children"]),q=this.context.$bs_modal,L=Sa(C),B=L[0],$=L[1],ee=Po(B);return EM.default.createElement("div",Tt({},$,{className:(0,rMe.default)(w,ee)}),f&&EM.default.createElement(xIe,{label:i,onClick:Ii(q&&q.onHide,g)}),E)},t}(EM.default.Component);SM.propTypes=T3t;SM.defaultProps=I3t;SM.contextTypes=C3t;var nMe=Sn("modal-header",SM);h();var iMe=$e(Ea()),I6=$e(ar()),oMe=$e(Tc());var P3t={componentClass:oMe.default},A3t={componentClass:"h4"},C6=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var o=this.props,i=o.componentClass,f=o.className,g=br(o,["componentClass","className"]),w=Sa(g),E=w[0],C=w[1],q=Po(E);return I6.default.createElement(i,Tt({},C,{className:(0,iMe.default)(f,q)}))},t}(I6.default.Component);C6.propTypes=P3t;C6.defaultProps=A3t;var aMe=Sn("modal-title",C6);var M3t=Tt({},ny.default.propTypes,wM.propTypes,{backdrop:ji.default.oneOf(["static",!0,!1]),backdropClassName:ji.default.string,keyboard:ji.default.bool,animation:ji.default.bool,dialogComponentClass:hMe.default,autoFocus:ji.default.bool,enforceFocus:ji.default.bool,restoreFocus:ji.default.bool,show:ji.default.bool,onHide:ji.default.func,onEnter:ji.default.func,onEntering:ji.default.func,onEntered:ji.default.func,onExit:ji.default.func,onExiting:ji.default.func,onExited:ji.default.func,container:ny.default.propTypes.container}),q3t=Tt({},ny.default.defaultProps,{animation:!0,dialogComponentClass:wM}),R3t={$bs_modal:ji.default.shape({onHide:ji.default.func})};function O3t(e){return ry.default.createElement(r6,Tt({},e,{timeout:Xa.TRANSITION_DURATION}))}function L3t(e){return ry.default.createElement(r6,Tt({},e,{timeout:Xa.BACKDROP_TRANSITION_DURATION}))}var Xa=function(e){xr(t,e);function t(n,o){var i;return i=e.call(this,n,o)||this,i.handleDialogBackdropMouseDown=function(){i._waitingForMouseUp=!0},i.handleMouseUp=function(f){var g=i._modal.getDialogElement();i._waitingForMouseUp&&f.target===g&&(i._ignoreBackdropClick=!0),i._waitingForMouseUp=!1},i.handleEntering=i.handleEntering.bind(Ar(Ar(i))),i.handleExited=i.handleExited.bind(Ar(Ar(i))),i.handleWindowResize=i.handleWindowResize.bind(Ar(Ar(i))),i.handleDialogClick=i.handleDialogClick.bind(Ar(Ar(i))),i.setModalRef=i.setModalRef.bind(Ar(Ar(i))),i.state={style:{}},i}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(o){this._modal=o},r.handleDialogClick=function(o){if(this._ignoreBackdropClick||o.target!==o.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){A6.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){A6.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(lMe.default){var o=this._modal.getDialogElement(),i=o.scrollHeight,f=(0,sMe.default)(o),g=(0,cMe.default)(uMe.default.findDOMNode(this.props.container||f.body)),w=i>f.documentElement.clientHeight;this.setState({style:{paddingRight:g&&!w?(0,M6.default)():void 0,paddingLeft:!g&&w?(0,M6.default)():void 0}})}},r.render=function(){var o=this.props,i=o.backdrop,f=o.backdropClassName,g=o.animation,w=o.show,E=o.dialogComponentClass,C=o.className,q=o.style,L=o.children,B=o.onEntering,$=o.onExited,ee=br(o,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),G=P1(ee,ny.default),H=G[0],Q=G[1],se=w&&!g&&"in";return ry.default.createElement(ny.default,Tt({},H,{ref:this.setModalRef,show:w,containerClassName:En(ee,"open"),transition:g?O3t:void 0,backdrop:i,backdropTransition:g?L3t:void 0,backdropClassName:(0,P6.default)(En(ee,"backdrop"),f,se),onEntering:Ii(B,this.handleEntering),onExited:Ii($,this.handleExited),onMouseUp:this.handleMouseUp}),ry.default.createElement(E,Tt({},Q,{style:Tt({},this.state.style,q),className:(0,P6.default)(C,se),onClick:i===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),L))},t}(ry.default.Component);Xa.propTypes=M3t;Xa.defaultProps=q3t;Xa.childContextTypes=R3t;Xa.Body=YAe;Xa.Header=nMe;Xa.Title=aMe;Xa.Footer=tMe;Xa.Dialog=wM;Xa.TRANSITION_DURATION=300;Xa.BACKDROP_TRANSITION_DURATION=150;var dd=Sn("modal",Vg([du.LARGE,du.SMALL],Xa));var pi=$e(Wr(),1);h();function fMe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=fMe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function D3t(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=fMe(e))&&(n&&(n+=" "),n+=t);return n}var TM=D3t;h();var Mn=$e(ar(),1);var O1=$e(Wr(),1);var q6=[{id:"comment-1",text:"Ungenauigkeit"},{id:"comment-2",text:"Falsche Parameter"},{id:"comment-3",text:"Falsche Kartennummer"},{id:"comment-4",text:"Schlechte Genauigkeit des Originals"},{id:"others",text:"Andere Begr\xFCndung:"}],pMe=e=>{let{onClose:t,onSubmit:r,transformationId:n,validationValue:o}=e,[i,f]=(0,Mn.useState)(q6[0].id),[g,w]=(0,Mn.useState)(""),E=B=>{f(B.target.value)},C=()=>{t()},q=()=>{r({comment:i!=="others"?q6.find(B=>B.id===i).text:g,transformationId:n,validationValue:o})},L=B=>{w(B.target.value)};return Mn.default.createElement("div",{className:"vkf-dialog-jobs-validation"},Mn.default.createElement(dd,{className:"vkf-dialog-jobs-validation",show:!0,onHide:C},Mn.default.createElement(dd.Header,null,Mn.default.createElement(dd.Title,null,"Setze validation=\"",o,"\""," ")),Mn.default.createElement(dd.Body,null,Mn.default.createElement("div",{className:"dialog-content"},Mn.default.createElement("p",null,"Soll der Validierungsstatus f\xFCr die Transformation mit der ID"," ",n," auf \"",o,"\" gesetzt werden.",o==="invalid"?"F\xFCr invalide Transformationen geben Sie bitte eine Begr\xFCndung mit an.":""),o==="invalid"&&Mn.default.createElement(Mn.default.Fragment,null,Mn.default.createElement("br",null),Mn.default.createElement("p",null,"Begr\xFCndung:"),q6.map((B,$)=>Mn.default.createElement("div",{className:"radio",key:$},Mn.default.createElement("label",null,Mn.default.createElement("input",{type:"radio",name:B.id,id:B.id,value:B.id,checked:B.id===i,onChange:E})," ",B.text))),Mn.default.createElement("br",null),Mn.default.createElement("textarea",{className:"form-control",rows:"3",disabled:i!=="others",onChange:L})))),Mn.default.createElement(dd.Footer,null,Mn.default.createElement(bf,{onClick:C},"Abbrechen"),Mn.default.createElement(bf,{onClick:q,bsStyle:"primary"},"Save changes"))))};pMe.propTypes={onClose:O1.default.func.isRequired,onSubmit:O1.default.func.isRequired,transformationId:O1.default.any.isRequired,validationValue:O1.default.string.isRequired};var dMe=pMe;var mMe=["missing","valid","invalid"],vMe=e=>e==="missing"?"warning":e==="valid"?"success":"danger";function gMe({validation:e,onSelect:t}){return lr.default.createElement(e6,{id:"validation-button",pullRight:!0,className:"btn-validation",bsStyle:vMe(e),title:`Validation: ${e}`,key:e},["valid","invalid"].map(r=>lr.default.createElement(i6,{key:r,onClick:()=>t(r)},"Setze Validation auf \"",r,"\"")))}gMe.propTypes={validation:pi.default.oneOf(mMe).isRequired,onSelect:pi.default.func.isRequired};var yMe=e=>{let{isActive:t=!1,className:r="",data:n,onClickPreview:o=()=>console.log("The function onClickPreview is not passed to component TransformationItem.")}=e,{is_active:i,clip:f,params:g,map_id:w,metadata:E,submitted:C,transformation_id:q,user_id:L,validation:B}=n,$=oo.getSettings().LINK_TO_GEOREFERENCE,[ee,G]=(0,lr.useState)(B),[H,Q]=(0,lr.useState)(!1),[se,de]=(0,lr.useState)(null),De=(ke,Ge)=>{Ge!==ee&&de({transformationId:ke,validationValue:Ge})},Ne=ke=>{let Ge={name:ke.validationValue==="valid"?"transformation_set_valid":"transformation_set_invalid",description:{comment:ke.comment,transformation_id:ke.transformationId}};G(ke.validationValue),de(null),hSe(Ge)};return lr.default.createElement("div",{className:TM("vkf-transformation-item panel panel-default",t?"preview-on":"",r)},lr.default.createElement("div",{className:"panel-heading"},E.title_short,lr.default.createElement("span",{className:TM("state-signal",vMe(ee))})),lr.default.createElement("div",{className:"panel-body"},lr.default.createElement("p",null,lr.default.createElement("strong",null,"Transformation-ID:")," ",q),lr.default.createElement("p",null,lr.default.createElement("strong",null,"Karten-ID:")," ",w),lr.default.createElement("p",null,lr.default.createElement("strong",null,"Aktiv:")," ",i?"Ja":"Nein"),lr.default.createElement("p",null,lr.default.createElement("strong",null,"Erstellt von:")," ",L),lr.default.createElement("p",null,lr.default.createElement("strong",null,"Erstellt am:")," ",C),lr.default.createElement("div",{className:TM("georef-params",H?"all":"")},lr.default.createElement("p",null,lr.default.createElement("strong",null,"Parameter:")," ",H?"":"..."),lr.default.createElement("div",null,lr.default.createElement("p",null,"Passpunkte"),lr.default.createElement("p",null,JSON.stringify(g,null,2)),lr.default.createElement("br",null),lr.default.createElement("p",null,"Clip-Polygon"),lr.default.createElement("p",null,JSON.stringify(f,null,2)),lr.default.createElement("br",null),lr.default.createElement("a",{href:`${$}?transformation_id=${q}&map_id=${w}`,target:"_blank",rel:"noreferrer",className:"btn btn-default btn-georef"},lr.default.createElement("span",{className:"icon"})," Gehe zu Georeferenzierung")))),lr.default.createElement("div",{className:"panel-footer"},lr.default.createElement("button",{className:"btn btn-default",onClick:()=>o(n)},"Zeige Preview"),lr.default.createElement("button",{className:"btn btn-default",onClick:()=>Q(!H)},H?"Schlie\xDFe Parameter":"Zeige Parameter"),lr.default.createElement(gMe,{validation:ee,onSelect:ke=>De(q,ke)})),se!==null&&lr.default.createElement(dMe,{onSubmit:Ne,onClose:()=>de(null),transformationId:se.transformationId,validationValue:se.validationValue}))};yMe.propTypes={isActive:pi.default.bool,className:pi.default.string,data:pi.default.shape({is_active:pi.default.bool,clip:pi.default.object,overwrites:pi.default.number.isRequired,params:pi.default.object.isRequired,submitted:pi.default.string.isRequired,transformation_id:pi.default.number.isRequired,user_id:pi.default.string.isRequired,map_id:pi.default.string.isRequired,metadata:pi.default.shape({time_publish:pi.default.string.isRequired,title:pi.default.string.isRequired,title_short:pi.default.string.isRequired}),validation:pi.default.oneOf(mMe).isRequired}).isRequired,onClickPreview:pi.default.func};var _Me=yMe;var k3t=()=>{let[e,t]=(0,$n.useState)([]),[r,n]=(0,$n.useState)(null),[o,i]=(0,$n.useState)(null),[f,g]=(0,$n.useState)(!1),w=E=>yn(null,null,function*(){if(!f){g(!0);let C=yield fSe(E.transformation_id);n(Object.assign(C,{transformation_id:E.transformation_id})),g(!1)}});return(0,$n.useEffect)(()=>{if(r!==null&&o!==null){let E=hf(r.extent,"EPSG:4326",o.map.getView().getProjection());o.map.getView().fit(E,{padding:[100,100,100,100]})}},[r,o]),$n.default.createElement("div",{className:"vkf-admin-evaluation"},$n.default.createElement("h1",null,"Willkommen auf der Evaluierungsseite #",oo.getUsername()),$n.default.createElement("p",null,"Die Evaluierungsseite bietet Ihnen die M\xF6glichkeit bestehende Transformationen zu validieren und ggf. zur\xFCckzusetzen. Sie k\xF6nnen Transformationen nach unterschiedlichen Kriterien ausw\xE4hlen."),$n.default.createElement(wSe,{onChangeTransformations:t}),$n.default.createElement("div",{className:"content"},$n.default.createElement("div",{className:"row"},$n.default.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 view-col"},$n.default.createElement("div",null,e.map(E=>$n.default.createElement(_Me,{isActive:r!==null&&r.transformation_id===E.transformation_id,key:E.transformation_id,data:E,onClickPreview:w})))),$n.default.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 view-col"},$n.default.createElement("div",{className:"custom-map-container"},$n.default.createElement(oSe,{extent:null,onLoad:E=>i(E),urlsOsmBaseMap:oo.getDefaultBaseMapUrls(),urlNominatim:oo.getNominatimUrl()}),r!==null&&o!==null&&$n.default.createElement(vSe,{key:r.wms_url,map:o.map,layerName:r.layer_name,wmsUrl:r.wms_url}),f&&$n.default.createElement(sSe,null))))))},xMe=k3t;var N3t=oo;function F3t(e){wMe.default.render(bMe.default.createElement(xMe,null),e)}return Iqe(z3t)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.1/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)
*/