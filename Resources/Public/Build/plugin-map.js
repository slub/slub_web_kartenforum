var vk2=(()=>{var RYe=Object.create;var qb=Object.defineProperty,kYe=Object.defineProperties,qYe=Object.getOwnPropertyDescriptor,jYe=Object.getOwnPropertyDescriptors,zYe=Object.getOwnPropertyNames,OA=Object.getOwnPropertySymbols,FYe=Object.getPrototypeOf,aq=Object.prototype.hasOwnProperty,Cee=Object.prototype.propertyIsEnumerable;var Oee=e=>{throw TypeError(e)},mg=Math.pow,oq=(e,t,r)=>t in e?qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,et=(e,t)=>{for(var r in t||(t={}))aq.call(t,r)&&oq(e,r,t[r]);if(OA)for(var r of OA(t))Cee.call(t,r)&&oq(e,r,t[r]);return e},wr=(e,t)=>kYe(e,jYe(t));var Dee=e=>typeof e=="symbol"?e:e+"",yn=(e,t)=>{var r={};for(var n in e)aq.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&OA)for(var n of OA(e))t.indexOf(n)<0&&Cee.call(e,n)&&(r[n]=e[n]);return r};var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Lee=(e,t)=>{for(var r in t)qb(e,r,{get:t[r],enumerable:!0})},Pee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zYe(t))!aq.call(e,i)&&i!==r&&qb(e,i,{get:()=>t[i],enumerable:!(n=qYe(t,i))||n.enumerable});return e};var ee=(e,t,r)=>(r=e!=null?RYe(FYe(e)):{},Pee(t||!e||!e.__esModule?qb(r,"default",{value:e,enumerable:!0}):r,e)),BYe=e=>Pee(qb({},"__esModule",{value:!0}),e);var Yn=(e,t,r)=>oq(e,typeof t!="symbol"?t+"":t,r),sq=(e,t,r)=>t.has(e)||Oee("Cannot "+r);var Ml=(e,t,r)=>(sq(e,t,"read from private field"),r?r.call(e):t.get(e)),gg=(e,t,r)=>t.has(e)?Oee("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),jb=(e,t,r,n)=>(sq(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Cl=(e,t,r)=>(sq(e,t,"access private method"),r);var bo=(e,t,r)=>new Promise((n,i)=>{var o=d=>{try{c(r.next(d))}catch(m){i(m)}},a=d=>{try{c(r.throw(d))}catch(m){i(m)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(o,a);c((r=r.apply(e,t)).next())});var DA=T((kyr,Ree)=>{"use strict";var Nee=Object.getOwnPropertySymbols,UYe=Object.prototype.hasOwnProperty,VYe=Object.prototype.propertyIsEnumerable;function GYe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function HYe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Ree.exports=HYe()?Object.assign:function(e,t){for(var r,n=GYe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)UYe.call(r,a)&&(n[a]=r[a]);if(Nee){i=Nee(r);for(var c=0;c<i.length;c++)VYe.call(r,i[c])&&(n[i[c]]=r[i[c]])}}return n}});var Xee=T(An=>{"use strict";var uq=DA(),s0=60103,jee=60106;An.Fragment=60107;An.StrictMode=60108;An.Profiler=60114;var zee=60109,Fee=60110,Bee=60112;An.Suspense=60113;var Uee=60115,Vee=60116;typeof Symbol=="function"&&Symbol.for&&(tu=Symbol.for,s0=tu("react.element"),jee=tu("react.portal"),An.Fragment=tu("react.fragment"),An.StrictMode=tu("react.strict_mode"),An.Profiler=tu("react.profiler"),zee=tu("react.provider"),Fee=tu("react.context"),Bee=tu("react.forward_ref"),An.Suspense=tu("react.suspense"),Uee=tu("react.memo"),Vee=tu("react.lazy"));var tu,kee=typeof Symbol=="function"&&Symbol.iterator;function $Ye(e){return e===null||typeof e!="object"?null:(e=kee&&e[kee]||e["@@iterator"],typeof e=="function"?e:null)}function zb(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hee={};function l0(e,t,r){this.props=e,this.context=t,this.refs=Hee,this.updater=r||Gee}l0.prototype.isReactComponent={};l0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(zb(85));this.updater.enqueueSetState(this,e,t,"setState")};l0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $ee(){}$ee.prototype=l0.prototype;function cq(e,t,r){this.props=e,this.context=t,this.refs=Hee,this.updater=r||Gee}var fq=cq.prototype=new $ee;fq.constructor=cq;uq(fq,l0.prototype);fq.isPureReactComponent=!0;var pq={current:null},Wee=Object.prototype.hasOwnProperty,Zee={key:!0,ref:!0,__self:!0,__source:!0};function Yee(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Wee.call(t,n)&&!Zee.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var d=Array(c),m=0;m<c;m++)d[m]=arguments[m+2];i.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:s0,type:e,key:o,ref:a,props:i,_owner:pq.current}}function WYe(e,t){return{$$typeof:s0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dq(e){return typeof e=="object"&&e!==null&&e.$$typeof===s0}function ZYe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qee=/\/+/g;function lq(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZYe(""+e.key):t.toString(36)}function PA(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s0:case jee:a=!0;}}if(a)return a=e,i=i(a),e=n===""?"."+lq(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(qee,"$&/")+"/"),PA(i,t,r,"",function(m){return m})):i!=null&&(dq(i)&&(i=WYe(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(qee,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){o=e[c];var d=n+lq(o,c);a+=PA(o,t,r,d,i)}else if(d=$Ye(e),typeof d=="function")for(e=d.call(e),c=0;!(o=e.next()).done;)o=o.value,d=n+lq(o,c++),a+=PA(o,t,r,d,i);else if(o==="object")throw t=""+e,Error(zb(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function LA(e,t,r){if(e==null)return e;var n=[],i=0;return PA(e,n,"","",function(o){return t.call(r,o,i++)}),n}function YYe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Kee={current:null};function cp(){var e=Kee.current;if(e===null)throw Error(zb(321));return e}var KYe={ReactCurrentDispatcher:Kee,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:pq,IsSomeRendererActing:{current:!1},assign:uq};An.Children={map:LA,forEach:function(e,t,r){LA(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return LA(e,function(){t++}),t},toArray:function(e){return LA(e,function(t){return t})||[]},only:function(e){if(!dq(e))throw Error(zb(143));return e}};An.Component=l0;An.PureComponent=cq;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KYe;An.cloneElement=function(e,t,r){if(e==null)throw Error(zb(267,e));var n=uq({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=pq.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)Wee.call(t,d)&&!Zee.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var m=0;m<d;m++)c[m]=arguments[m+2];n.children=c}return{$$typeof:s0,type:e.type,key:i,ref:o,props:n,_owner:a}};An.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Fee,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:zee,_context:e},e.Consumer=e};An.createElement=Yee;An.createFactory=function(e){var t=Yee.bind(null,e);return t.type=e,t};An.createRef=function(){return{current:null}};An.forwardRef=function(e){return{$$typeof:Bee,render:e}};An.isValidElement=dq;An.lazy=function(e){return{$$typeof:Vee,_payload:{_status:-1,_result:e},_init:YYe}};An.memo=function(e,t){return{$$typeof:Uee,type:e,compare:t===void 0?null:t}};An.useCallback=function(e,t){return cp().useCallback(e,t)};An.useContext=function(e,t){return cp().useContext(e,t)};An.useDebugValue=function(){};An.useEffect=function(e,t){return cp().useEffect(e,t)};An.useImperativeHandle=function(e,t,r){return cp().useImperativeHandle(e,t,r)};An.useLayoutEffect=function(e,t){return cp().useLayoutEffect(e,t)};An.useMemo=function(e,t){return cp().useMemo(e,t)};An.useReducer=function(e,t,r){return cp().useReducer(e,t,r)};An.useRef=function(e){return cp().useRef(e)};An.useState=function(e){return cp().useState(e)};An.version="17.0.2"});var Le=T((jyr,Qee)=>{"use strict";Qee.exports=Xee()});var ite=T(Un=>{"use strict";var c0,Ub,qA,xq;typeof performance=="object"&&typeof performance.now=="function"?(Jee=performance,Un.unstable_now=function(){return Jee.now()}):(hq=Date,ete=hq.now(),Un.unstable_now=function(){return hq.now()-ete});var Jee,hq,ete;typeof window=="undefined"||typeof MessageChannel!="function"?(u0=null,mq=null,gq=function(){if(u0!==null)try{var e=Un.unstable_now();u0(!0,e),u0=null}catch(t){throw setTimeout(gq,0),t}},c0=function(e){u0!==null?setTimeout(c0,0,e):(u0=e,setTimeout(gq,0))},Ub=function(e,t){mq=setTimeout(e,t)},qA=function(){clearTimeout(mq)},Un.unstable_shouldYield=function(){return!1},xq=Un.unstable_forceFrameRate=function(){}):(tte=window.setTimeout,rte=window.clearTimeout,typeof console!="undefined"&&(nte=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof nte!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Fb=!1,Bb=null,NA=-1,vq=5,yq=0,Un.unstable_shouldYield=function(){return Un.unstable_now()>=yq},xq=function(){},Un.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vq=0<e?Math.floor(1e3/e):5},_q=new MessageChannel,RA=_q.port2,_q.port1.onmessage=function(){if(Bb!==null){var e=Un.unstable_now();yq=e+vq;try{Bb(!0,e)?RA.postMessage(null):(Fb=!1,Bb=null)}catch(t){throw RA.postMessage(null),t}}else Fb=!1},c0=function(e){Bb=e,Fb||(Fb=!0,RA.postMessage(null))},Ub=function(e,t){NA=tte(function(){e(Un.unstable_now())},t)},qA=function(){rte(NA),NA=-1});var u0,mq,gq,tte,rte,nte,Fb,Bb,NA,vq,yq,_q,RA;function bq(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<kA(i,t))e[n]=t,e[r]=i,r=n;else break e}}function nc(e){return e=e[0],e===void 0?null:e}function jA(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],c=o+1,d=e[c];if(a!==void 0&&0>kA(a,r))d!==void 0&&0>kA(d,a)?(e[n]=d,e[c]=r,n=c):(e[n]=a,e[o]=r,n=o);else if(d!==void 0&&0>kA(d,r))e[n]=d,e[c]=r,n=c;else break e}}return t}return null}function kA(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Gc=[],eh=[],XYe=1,ru=null,Ra=3,zA=!1,vg=!1,Vb=!1;function wq(e){for(var t=nc(eh);t!==null;){if(t.callback===null)jA(eh);else if(t.startTime<=e)jA(eh),t.sortIndex=t.expirationTime,bq(Gc,t);else break;t=nc(eh)}}function Sq(e){if(Vb=!1,wq(e),!vg)if(nc(Gc)!==null)vg=!0,c0(Eq);else{var t=nc(eh);t!==null&&Ub(Sq,t.startTime-e)}}function Eq(e,t){vg=!1,Vb&&(Vb=!1,qA()),zA=!0;var r=Ra;try{for(wq(t),ru=nc(Gc);ru!==null&&(!(ru.expirationTime>t)||e&&!Un.unstable_shouldYield());){var n=ru.callback;if(typeof n=="function"){ru.callback=null,Ra=ru.priorityLevel;var i=n(ru.expirationTime<=t);t=Un.unstable_now(),typeof i=="function"?ru.callback=i:ru===nc(Gc)&&jA(Gc),wq(t)}else jA(Gc);ru=nc(Gc)}if(ru!==null)var o=!0;else{var a=nc(eh);a!==null&&Ub(Sq,a.startTime-t),o=!1}return o}finally{ru=null,Ra=r,zA=!1}}var QYe=xq;Un.unstable_IdlePriority=5;Un.unstable_ImmediatePriority=1;Un.unstable_LowPriority=4;Un.unstable_NormalPriority=3;Un.unstable_Profiling=null;Un.unstable_UserBlockingPriority=2;Un.unstable_cancelCallback=function(e){e.callback=null};Un.unstable_continueExecution=function(){vg||zA||(vg=!0,c0(Eq))};Un.unstable_getCurrentPriorityLevel=function(){return Ra};Un.unstable_getFirstCallbackNode=function(){return nc(Gc)};Un.unstable_next=function(e){switch(Ra){case 1:case 2:case 3:var t=3;break;default:t=Ra;}var r=Ra;Ra=t;try{return e()}finally{Ra=r}};Un.unstable_pauseExecution=function(){};Un.unstable_requestPaint=QYe;Un.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var r=Ra;Ra=e;try{return t()}finally{Ra=r}};Un.unstable_scheduleCallback=function(e,t,r){var n=Un.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3;}return i=r+i,e={id:XYe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,bq(eh,e),nc(Gc)===null&&e===nc(eh)&&(Vb?qA():Vb=!0,Ub(Sq,r-n))):(e.sortIndex=i,bq(Gc,e),vg||zA||(vg=!0,c0(Eq))),e};Un.unstable_wrapCallback=function(e){var t=Ra;return function(){var r=Ra;Ra=t;try{return e.apply(this,arguments)}finally{Ra=r}}}});var ate=T((Fyr,ote)=>{"use strict";ote.exports=ite()});var $ne=T(lu=>{"use strict";var LM=Le(),Pi=DA(),jo=ate();function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!LM)throw Error(Ot(227));var _re=new Set,_w={};function Mg(e,t){D0(e,t),D0(e+"Capture",t)}function D0(e,t){for(_w[e]=t,e=0;e<t.length;e++)_re.add(t[e])}var gp=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),JYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ste=Object.prototype.hasOwnProperty,lte={},ute={};function eKe(e){return ste.call(ute,e)?!0:ste.call(lte,e)?!1:JYe.test(e)?ute[e]=!0:(lte[e]=!0,!1)}function tKe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1;}}function rKe(e,t,r,n){if(t===null||typeof t=="undefined"||tKe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function gs(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var oa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oa[e]=new gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oa[t]=new gs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oa[e]=new gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oa[e]=new gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oa[e]=new gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oa[e]=new gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oa[e]=new gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oa[e]=new gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oa[e]=new gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pj=/[\-:]([a-z])/g;function Nj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pj,Nj);oa[t]=new gs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pj,Nj);oa[t]=new gs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pj,Nj);oa[t]=new gs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oa[e]=new gs(e,1,!1,e.toLowerCase(),null,!1,!1)});oa.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oa[e]=new gs(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rj(e,t,r,n){var i=oa.hasOwnProperty(t)?oa[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(rKe(t,r,i,n)&&(r=null),n||i===null?eKe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cg=LM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rw=60103,_g=60106,rh=60107,kj=60108,sw=60114,qj=60109,jj=60110,PM=60112,lw=60113,uM=60120,NM=60115,zj=60116,Fj=60121,Bj=60128,xre=60129,Uj=60130,Wq=60131;typeof Symbol=="function"&&Symbol.for&&(wo=Symbol.for,rw=wo("react.element"),_g=wo("react.portal"),rh=wo("react.fragment"),kj=wo("react.strict_mode"),sw=wo("react.profiler"),qj=wo("react.provider"),jj=wo("react.context"),PM=wo("react.forward_ref"),lw=wo("react.suspense"),uM=wo("react.suspense_list"),NM=wo("react.memo"),zj=wo("react.lazy"),Fj=wo("react.block"),wo("react.scope"),Bj=wo("react.opaque.id"),xre=wo("react.debug_trace_mode"),Uj=wo("react.offscreen"),Wq=wo("react.legacy_hidden"));var wo,cte=typeof Symbol=="function"&&Symbol.iterator;function Gb(e){return e===null||typeof e!="object"?null:(e=cte&&e[cte]||e["@@iterator"],typeof e=="function"?e:null)}var Iq;function nw(e){if(Iq===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iq=t&&t[1]||""}return`
`+Iq+e}var Tq=!1;function FA(e,t){if(!e||Tq)return"";Tq=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=c);break}}}finally{Tq=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nw(e):""}function nKe(e){switch(e.tag){case 5:return nw(e.type);case 16:return nw("Lazy");case 13:return nw("Suspense");case 19:return nw("SuspenseList");case 0:case 2:case 15:return e=FA(e.type,!1),e;case 11:return e=FA(e.type.render,!1),e;case 22:return e=FA(e.type._render,!1),e;case 1:return e=FA(e.type,!0),e;default:return"";}}function b0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case _g:return"Portal";case sw:return"Profiler";case kj:return"StrictMode";case lw:return"Suspense";case uM:return"SuspenseList";}if(typeof e=="object")switch(e.$$typeof){case jj:return(e.displayName||"Context")+".Consumer";case qj:return(e._context.displayName||"Context")+".Provider";case PM:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case NM:return b0(e.type);case Fj:return b0(e._render);case zj:t=e._payload,e=e._init;try{return b0(e(t))}catch(r){}}return null}function hh(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return"";}}function bre(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iKe(e){var t=bre(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function BA(e){e._valueTracker||(e._valueTracker=iKe(e))}function wre(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bre(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cM(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Zq(e,t){var r=t.checked;return Pi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function fte(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sre(e,t){t=t.checked,t!=null&&Rj(e,"checked",t,!1)}function Yq(e,t){Sre(e,t);var r=hh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kq(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kq(e,t.type,hh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pte(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kq(e,t,r){(t!=="number"||cM(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oKe(e){var t="";return LM.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Xq(e,t){return e=Pi({children:void 0},t),(t=oKe(t.children))&&(e.children=t),e}function w0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qq(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return Pi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dte(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ot(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Ot(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hh(r)}}function Ere(e,t){var r=hh(t.value),n=hh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hte(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Jq={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ire(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function ej(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ire(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var UA,Tre=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Jq.svg||"innerHTML"in e)e.innerHTML=t;else{for(UA=UA||document.createElement("div"),UA.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=UA.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xw(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aKe=["Webkit","ms","Moz","O"];Object.keys(uw).forEach(function(e){aKe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uw[t]=uw[e]})});function Are(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uw.hasOwnProperty(e)&&uw[e]?(""+t).trim():t+"px"}function Mre(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Are(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var sKe=Pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tj(e,t){if(t){if(sKe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ot(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ot(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ot(62))}}function rj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function Vj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nj=null,S0=null,E0=null;function mte(e){if(e=Nw(e)){if(typeof nj!="function")throw Error(Ot(280));var t=e.stateNode;t&&(t=FM(t),nj(e.stateNode,e.type,t))}}function Cre(e){S0?E0?E0.push(e):E0=[e]:S0=e}function Ore(){if(S0){var e=S0,t=E0;if(E0=S0=null,mte(e),t)for(e=0;e<t.length;e++)mte(t[e])}}function Gj(e,t){return e(t)}function Dre(e,t,r,n,i){return e(t,r,n,i)}function Hj(){}var Lre=Gj,xg=!1,Aq=!1;function $j(){(S0!==null||E0!==null)&&(Hj(),Ore())}function lKe(e,t,r){if(Aq)return e(t,r);Aq=!0;try{return Lre(e,t,r)}finally{Aq=!1,$j()}}function bw(e,t){var r=e.stateNode;if(r===null)return null;var n=FM(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1;}if(e)return null;if(r&&typeof r!="function")throw Error(Ot(231,t,typeof r));return r}var ij=!1;if(gp)try{f0={},Object.defineProperty(f0,"passive",{get:function(){ij=!0}}),window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,f0)}catch(e){ij=!1}var f0;function uKe(e,t,r,n,i,o,a,c,d){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(v){this.onError(v)}}var cw=!1,fM=null,pM=!1,oj=null,cKe={onError:function(e){cw=!0,fM=e}};function fKe(e,t,r,n,i,o,a,c,d){cw=!1,fM=null,uKe.apply(cKe,arguments)}function pKe(e,t,r,n,i,o,a,c,d){if(fKe.apply(this,arguments),cw){if(cw){var m=fM;cw=!1,fM=null}else throw Error(Ot(198));pM||(pM=!0,oj=m)}}function Og(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pre(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gte(e){if(Og(e)!==e)throw Error(Ot(188))}function dKe(e){var t=e.alternate;if(!t){if(t=Og(e),t===null)throw Error(Ot(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return gte(i),e;if(o===n)return gte(i),t;o=o.sibling}throw Error(Ot(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,c=i.child;c;){if(c===r){a=!0,r=i,n=o;break}if(c===n){a=!0,n=i,r=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===r){a=!0,r=o,n=i;break}if(c===n){a=!0,n=o,r=i;break}c=c.sibling}if(!a)throw Error(Ot(189))}}if(r.alternate!==n)throw Error(Ot(190))}if(r.tag!==3)throw Error(Ot(188));return r.stateNode.current===r?e:t}function Nre(e){if(e=dKe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function vte(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var Rre,Wj,kre,qre,aj=!1,Hc=[],ah=null,sh=null,lh=null,ww=new Map,Sw=new Map,Hb=[],yte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sj(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function _te(e,t){switch(e){case"focusin":case"focusout":ah=null;break;case"dragenter":case"dragleave":sh=null;break;case"mouseover":case"mouseout":lh=null;break;case"pointerover":case"pointerout":ww.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sw.delete(t.pointerId);}}function $b(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=sj(t,r,n,i,o),t!==null&&(t=Nw(t),t!==null&&Wj(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hKe(e,t,r,n,i){switch(t){case"focusin":return ah=$b(ah,e,t,r,n,i),!0;case"dragenter":return sh=$b(sh,e,t,r,n,i),!0;case"mouseover":return lh=$b(lh,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ww.set(o,$b(ww.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Sw.set(o,$b(Sw.get(o)||null,e,t,r,n,i)),!0;}return!1}function mKe(e){var t=bg(e.target);if(t!==null){var r=Og(t);if(r!==null){if(t=r.tag,t===13){if(t=Pre(r),t!==null){e.blockedOn=t,qre(e.lanePriority,function(){jo.unstable_runWithPriority(e.priority,function(){kre(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function JA(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Nw(r),t!==null&&Wj(t),e.blockedOn=r,!1;t.shift()}return!0}function xte(e,t,r){JA(e)&&r.delete(t)}function gKe(){for(aj=!1;0<Hc.length;){var e=Hc[0];if(e.blockedOn!==null){e=Nw(e.blockedOn),e!==null&&Rre(e);break}for(var t=e.targetContainers;0<t.length;){var r=Xj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Hc.shift()}ah!==null&&JA(ah)&&(ah=null),sh!==null&&JA(sh)&&(sh=null),lh!==null&&JA(lh)&&(lh=null),ww.forEach(xte),Sw.forEach(xte)}function Wb(e,t){e.blockedOn===t&&(e.blockedOn=null,aj||(aj=!0,jo.unstable_scheduleCallback(jo.unstable_NormalPriority,gKe)))}function jre(e){function t(i){return Wb(i,e)}if(0<Hc.length){Wb(Hc[0],e);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ah!==null&&Wb(ah,e),sh!==null&&Wb(sh,e),lh!==null&&Wb(lh,e),ww.forEach(t),Sw.forEach(t),r=0;r<Hb.length;r++)n=Hb[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hb.length&&(r=Hb[0],r.blockedOn===null);)mKe(r),r.blockedOn===null&&Hb.shift()}function VA(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var m0={animationend:VA("Animation","AnimationEnd"),animationiteration:VA("Animation","AnimationIteration"),animationstart:VA("Animation","AnimationStart"),transitionend:VA("Transition","TransitionEnd")},Mq={},zre={};gp&&(zre=document.createElement("div").style,"AnimationEvent"in window||(delete m0.animationend.animation,delete m0.animationiteration.animation,delete m0.animationstart.animation),"TransitionEvent"in window||delete m0.transitionend.transition);function RM(e){if(Mq[e])return Mq[e];if(!m0[e])return e;var t=m0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zre)return Mq[e]=t[r];return e}var Fre=RM("animationend"),Bre=RM("animationiteration"),Ure=RM("animationstart"),Vre=RM("transitionend"),Gre=new Map,Zj=new Map,vKe=["abort","abort",Fre,"animationEnd",Bre,"animationIteration",Ure,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Vre,"transitionEnd","waiting","waiting"];function Yj(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Zj.set(n,t),Gre.set(n,i),Mg(i,[n])}}var yKe=jo.unstable_now;yKe();var mi=8;function d0(e){if(1&e)return mi=15,1;if(2&e)return mi=14,2;if(4&e)return mi=13,4;var t=24&e;return t!==0?(mi=12,t):e&32?(mi=11,32):(t=192&e,t!==0?(mi=10,t):e&256?(mi=9,256):(t=3584&e,t!==0?(mi=8,t):e&4096?(mi=7,4096):(t=4186112&e,t!==0?(mi=6,t):(t=62914560&e,t!==0?(mi=5,t):e&67108864?(mi=4,67108864):e&134217728?(mi=3,134217728):(t=805306368&e,t!==0?(mi=2,t):1073741824&e?(mi=1,1073741824):(mi=8,e))))))}function _Ke(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0;}}function xKe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ot(358,e));}}function Ew(e,t){var r=e.pendingLanes;if(r===0)return mi=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,c=e.pingedLanes;if(o!==0)n=o,i=mi=15;else if(o=r&134217727,o!==0){var d=o&~a;d!==0?(n=d0(d),i=mi):(c&=o,c!==0&&(n=d0(c),i=mi))}else o=r&~a,o!==0?(n=d0(o),i=mi):c!==0&&(n=d0(c),i=mi);if(n===0)return 0;if(n=31-mh(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&a)){if(d0(t),i<=mi)return t;mi=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mh(t),i=1<<r,n|=e[r],t&=~i;return n}function Hre(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dM(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=h0(24&~t),e===0?dM(10,t):e;case 10:return e=h0(192&~t),e===0?dM(8,t):e;case 8:return e=h0(3584&~t),e===0&&(e=h0(4186112&~t),e===0&&(e=512)),e;case 2:return t=h0(805306368&~t),t===0&&(t=268435456),t;}throw Error(Ot(358,e))}function h0(e){return e&-e}function Cq(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kM(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-mh(t),e[t]=r}var mh=Math.clz32?Math.clz32:SKe,bKe=Math.log,wKe=Math.LN2;function SKe(e){return e===0?32:31-(bKe(e)/wKe|0)|0}var EKe=jo.unstable_UserBlockingPriority,IKe=jo.unstable_runWithPriority,eM=!0;function TKe(e,t,r,n){xg||Hj();var i=Kj,o=xg;xg=!0;try{Dre(i,e,t,r,n)}finally{(xg=o)||$j()}}function AKe(e,t,r,n){IKe(EKe,Kj.bind(null,e,t,r,n))}function Kj(e,t,r,n){if(eM){var i;if((i=(t&4)===0)&&0<Hc.length&&-1<yte.indexOf(e))e=sj(null,e,t,r,n),Hc.push(e);else{var o=Xj(e,t,r,n);if(o===null)i&&_te(e,n);else{if(i){if(-1<yte.indexOf(e)){e=sj(o,e,t,r,n),Hc.push(e);return}if(hKe(o,e,t,r,n))return;_te(e,n)}ine(e,t,n,null,r)}}}}function Xj(e,t,r,n){var i=Vj(n);if(i=bg(i),i!==null){var o=Og(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=Pre(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ine(e,t,n,i,r),null}var nh=null,Qj=null,tM=null;function $re(){if(tM)return tM;var e,t=Qj,r=t.length,n,i="value"in nh?nh.value:nh.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return tM=i.slice(e,1<n?1-n:void 0)}function rM(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function GA(){return!0}function bte(){return!1}function Dl(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?GA:bte,this.isPropagationStopped=bte,this}return Pi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=GA)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=GA)},persist:function(){},isPersistent:GA}),t}var R0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jj=Dl(R0),Pw=Pi({},R0,{view:0,detail:0}),MKe=Dl(Pw),Oq,Dq,Zb,qM=Pi({},Pw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ez,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zb&&(Zb&&e.type==="mousemove"?(Oq=e.screenX-Zb.screenX,Dq=e.screenY-Zb.screenY):Dq=Oq=0,Zb=e),Oq)},movementY:function(e){return"movementY"in e?e.movementY:Dq}}),wte=Dl(qM),CKe=Pi({},qM,{dataTransfer:0}),OKe=Dl(CKe),DKe=Pi({},Pw,{relatedTarget:0}),Lq=Dl(DKe),LKe=Pi({},R0,{animationName:0,elapsedTime:0,pseudoElement:0}),PKe=Dl(LKe),NKe=Pi({},R0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RKe=Dl(NKe),kKe=Pi({},R0,{data:0}),Ste=Dl(kKe),qKe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jKe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zKe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FKe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zKe[e])?!!t[e]:!1}function ez(){return FKe}var BKe=Pi({},Pw,{key:function(e){if(e.key){var t=qKe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rM(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jKe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ez,charCode:function(e){return e.type==="keypress"?rM(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rM(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UKe=Dl(BKe),VKe=Pi({},qM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ete=Dl(VKe),GKe=Pi({},Pw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ez}),HKe=Dl(GKe),$Ke=Pi({},R0,{propertyName:0,elapsedTime:0,pseudoElement:0}),WKe=Dl($Ke),ZKe=Pi({},qM,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YKe=Dl(ZKe),KKe=[9,13,27,32],tz=gp&&"CompositionEvent"in window,fw=null;gp&&"documentMode"in document&&(fw=document.documentMode);var XKe=gp&&"TextEvent"in window&&!fw,Wre=gp&&(!tz||fw&&8<fw&&11>=fw),Ite=" ",Tte=!1;function Zre(e,t){switch(e){case"keyup":return KKe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1;}}function Yre(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var g0=!1;function QKe(e,t){switch(e){case"compositionend":return Yre(t);case"keypress":return t.which!==32?null:(Tte=!0,Ite);case"textInput":return e=t.data,e===Ite&&Tte?null:e;default:return null;}}function JKe(e,t){if(g0)return e==="compositionend"||!tz&&Zre(e,t)?(e=$re(),tM=Qj=nh=null,g0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wre&&t.locale!=="ko"?null:t.data;default:return null;}}var eXe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ate(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eXe[e.type]:t==="textarea"}function Kre(e,t,r,n){Cre(n),t=hM(t,"onChange"),0<t.length&&(r=new Jj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pw=null,Iw=null;function tXe(e){tne(e,0)}function jM(e){var t=y0(e);if(wre(t))return e}function rXe(e,t){if(e==="change")return t}var Xre=!1;gp&&(gp?($A="oninput"in document,$A||(Pq=document.createElement("div"),Pq.setAttribute("oninput","return;"),$A=typeof Pq.oninput=="function"),HA=$A):HA=!1,Xre=HA&&(!document.documentMode||9<document.documentMode));var HA,$A,Pq;function Mte(){pw&&(pw.detachEvent("onpropertychange",Qre),Iw=pw=null)}function Qre(e){if(e.propertyName==="value"&&jM(Iw)){var t=[];if(Kre(t,Iw,e,Vj(e)),e=tXe,xg)e(t);else{xg=!0;try{Gj(e,t)}finally{xg=!1,$j()}}}}function nXe(e,t,r){e==="focusin"?(Mte(),pw=t,Iw=r,pw.attachEvent("onpropertychange",Qre)):e==="focusout"&&Mte()}function iXe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jM(Iw)}function oXe(e,t){if(e==="click")return jM(t)}function aXe(e,t){if(e==="input"||e==="change")return jM(t)}function sXe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nu=typeof Object.is=="function"?Object.is:sXe,lXe=Object.prototype.hasOwnProperty;function Tw(e,t){if(nu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!lXe.call(t,r[n])||!nu(e[r[n]],t[r[n]]))return!1;return!0}function Cte(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ote(e,t){var r=Cte(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cte(r)}}function Jre(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jre(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dte(){for(var e=window,t=cM();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=cM(e.document)}return t}function lj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uXe=gp&&"documentMode"in document&&11>=document.documentMode,v0=null,uj=null,dw=null,cj=!1;function Lte(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cj||v0==null||v0!==cM(n)||(n=v0,"selectionStart"in n&&lj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dw&&Tw(dw,n)||(dw=n,n=hM(uj,"onSelect"),0<n.length&&(t=new Jj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=v0)))}Yj("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Yj("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Yj(vKe,2);for(Nq="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),WA=0;WA<Nq.length;WA++)Zj.set(Nq[WA],0);var Nq,WA;D0("onMouseEnter",["mouseout","mouseover"]);D0("onMouseLeave",["mouseout","mouseover"]);D0("onPointerEnter",["pointerout","pointerover"]);D0("onPointerLeave",["pointerout","pointerover"]);Mg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ene=new Set("cancel close invalid load scroll toggle".split(" ").concat(iw));function Pte(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pKe(n,t,void 0,e),e.currentTarget=null}function tne(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],d=c.instance,m=c.currentTarget;if(c=c.listener,d!==o&&i.isPropagationStopped())break e;Pte(i,c,m),o=d}else for(a=0;a<n.length;a++){if(c=n[a],d=c.instance,m=c.currentTarget,c=c.listener,d!==o&&i.isPropagationStopped())break e;Pte(i,c,m),o=d}}}if(pM)throw e=oj,pM=!1,oj=null,e}function Ii(e,t){var r=ane(t),n=e+"__bubble";r.has(n)||(nne(t,e,2,!1),r.add(n))}var Nte="_reactListening"+Math.random().toString(36).slice(2);function rne(e){e[Nte]||(e[Nte]=!0,_re.forEach(function(t){ene.has(t)||Rte(t,!1,e,null),Rte(t,!0,e,null)}))}function Rte(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&ene.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=ane(o),c=e+"__"+(t?"capture":"bubble");a.has(c)||(t&&(i|=4),nne(o,e,i,t),a.add(c))}function nne(e,t,r,n){var i=Zj.get(t);switch(i===void 0?2:i){case 0:i=TKe;break;case 1:i=AKe;break;default:i=Kj;}r=i.bind(null,t,r,e),i=void 0,!ij||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ine(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;c!==null;){if(a=bg(c),a===null)return;if(d=a.tag,d===5||d===6){n=o=a;continue e}c=c.parentNode}}n=n.return}lKe(function(){var m=o,v=Vj(r),E=[];e:{var I=Gre.get(e);if(I!==void 0){var M=Jj,L=e;switch(e){case"keypress":if(rM(r)===0)break e;case"keydown":case"keyup":M=UKe;break;case"focusin":L="focus",M=Lq;break;case"focusout":L="blur",M=Lq;break;case"beforeblur":case"afterblur":M=Lq;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=wte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=OKe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=HKe;break;case Fre:case Bre:case Ure:M=PKe;break;case Vre:M=WKe;break;case"scroll":M=MKe;break;case"wheel":M=YKe;break;case"copy":case"cut":case"paste":M=RKe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ete;}var R=(t&4)!==0,P=!R&&e==="scroll",q=R?I!==null?I+"Capture":null:I;R=[];for(var j=m,B;j!==null;){B=j;var Z=B.stateNode;if(B.tag===5&&Z!==null&&(B=Z,q!==null&&(Z=bw(j,q),Z!=null&&R.push(Aw(j,Z,B)))),P)break;j=j.return}0<R.length&&(I=new M(I,L,null,r,v),E.push({event:I,listeners:R}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",I&&!(t&16)&&(L=r.relatedTarget||r.fromElement)&&(bg(L)||L[k0]))break e;if((M||I)&&(I=v.window===v?v:(I=v.ownerDocument)?I.defaultView||I.parentWindow:window,M?(L=r.relatedTarget||r.toElement,M=m,L=L?bg(L):null,L!==null&&(P=Og(L),L!==P||L.tag!==5&&L.tag!==6)&&(L=null)):(M=null,L=m),M!==L)){if(R=wte,Z="onMouseLeave",q="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(R=Ete,Z="onPointerLeave",q="onPointerEnter",j="pointer"),P=M==null?I:y0(M),B=L==null?I:y0(L),I=new R(Z,j+"leave",M,r,v),I.target=P,I.relatedTarget=B,Z=null,bg(v)===m&&(R=new R(q,j+"enter",L,r,v),R.target=B,R.relatedTarget=P,Z=R),P=Z,M&&L)t:{for(R=M,q=L,j=0,B=R;B;B=p0(B))j++;for(B=0,Z=q;Z;Z=p0(Z))B++;for(;0<j-B;)R=p0(R),j--;for(;0<B-j;)q=p0(q),B--;for(;j--;){if(R===q||q!==null&&R===q.alternate)break t;R=p0(R),q=p0(q)}R=null}else R=null;M!==null&&kte(E,I,M,R,!1),L!==null&&P!==null&&kte(E,P,L,R,!0)}}e:{if(I=m?y0(m):window,M=I.nodeName&&I.nodeName.toLowerCase(),M==="select"||M==="input"&&I.type==="file")var re=rXe;else if(Ate(I)){if(Xre)re=aXe;else{re=iXe;var Q=nXe}}else(M=I.nodeName)&&M.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(re=oXe);if(re&&(re=re(e,m))){Kre(E,re,r,v);break e}Q&&Q(e,I,m),e==="focusout"&&(Q=I._wrapperState)&&Q.controlled&&I.type==="number"&&Kq(I,"number",I.value)}switch(Q=m?y0(m):window,e){case"focusin":(Ate(Q)||Q.contentEditable==="true")&&(v0=Q,uj=m,dw=null);break;case"focusout":dw=uj=v0=null;break;case"mousedown":cj=!0;break;case"contextmenu":case"mouseup":case"dragend":cj=!1,Lte(E,r,v);break;case"selectionchange":if(uXe)break;case"keydown":case"keyup":Lte(E,r,v);}var oe;if(tz)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e;}me=void 0}else g0?Zre(e,r)&&(me="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(Wre&&r.locale!=="ko"&&(g0||me!=="onCompositionStart"?me==="onCompositionEnd"&&g0&&(oe=$re()):(nh=v,Qj="value"in nh?nh.value:nh.textContent,g0=!0)),Q=hM(m,me),0<Q.length&&(me=new Ste(me,e,null,r,v),E.push({event:me,listeners:Q}),oe?me.data=oe:(oe=Yre(r),oe!==null&&(me.data=oe)))),(oe=XKe?QKe(e,r):JKe(e,r))&&(m=hM(m,"onBeforeInput"),0<m.length&&(v=new Ste("onBeforeInput","beforeinput",null,r,v),E.push({event:v,listeners:m}),v.data=oe))}tne(E,t)})}function Aw(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hM(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bw(e,r),o!=null&&n.unshift(Aw(e,o,i)),o=bw(e,t),o!=null&&n.push(Aw(e,o,i))),e=e.return}return n}function p0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kte(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var c=r,d=c.alternate,m=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&m!==null&&(c=m,i?(d=bw(r,o),d!=null&&a.unshift(Aw(r,d,c))):i||(d=bw(r,o),d!=null&&a.push(Aw(r,d,c)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function mM(){}var Rq=null,kq=null;function one(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus;}return!1}function fj(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qte=typeof setTimeout=="function"?setTimeout:void 0,cXe=typeof clearTimeout=="function"?clearTimeout:void 0;function rz(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function I0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function jte(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qq=0;function fXe(e){return{$$typeof:Bj,toString:e,valueOf:e}}var zM=Math.random().toString(36).slice(2),ih="__reactFiber$"+zM,gM="__reactProps$"+zM,k0="__reactContainer$"+zM,zte="__reactEvents$"+zM;function bg(e){var t=e[ih];if(t)return t;for(var r=e.parentNode;r;){if(t=r[k0]||r[ih]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jte(e);e!==null;){if(r=e[ih])return r;e=jte(e)}return t}e=r,r=e.parentNode}return null}function Nw(e){return e=e[ih]||e[k0],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function y0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ot(33))}function FM(e){return e[gM]||null}function ane(e){var t=e[zte];return t===void 0&&(t=e[zte]=new Set),t}var pj=[],_0=-1;function _h(e){return{current:e}}function Ti(e){0>_0||(e.current=pj[_0],pj[_0]=null,_0--)}function $i(e,t){_0++,pj[_0]=e.current,e.current=t}var gh={},za=_h(gh),Bs=_h(!1),Ig=gh;function L0(e,t){var r=e.type.contextTypes;if(!r)return gh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Us(e){return e=e.childContextTypes,e!=null}function vM(){Ti(Bs),Ti(za)}function Fte(e,t,r){if(za.current!==gh)throw Error(Ot(168));$i(za,t),$i(Bs,r)}function sne(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ot(108,b0(t)||"Unknown",i));return Pi({},r,n)}function nM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gh,Ig=za.current,$i(za,e),$i(Bs,Bs.current),!0}function Bte(e,t,r){var n=e.stateNode;if(!n)throw Error(Ot(169));r?(e=sne(e,t,Ig),n.__reactInternalMemoizedMergedChildContext=e,Ti(Bs),Ti(za),$i(za,e)):Ti(Bs),$i(Bs,r)}var nz=null,Eg=null,pXe=jo.unstable_runWithPriority,iz=jo.unstable_scheduleCallback,dj=jo.unstable_cancelCallback,dXe=jo.unstable_shouldYield,Ute=jo.unstable_requestPaint,hj=jo.unstable_now,hXe=jo.unstable_getCurrentPriorityLevel,BM=jo.unstable_ImmediatePriority,lne=jo.unstable_UserBlockingPriority,une=jo.unstable_NormalPriority,cne=jo.unstable_LowPriority,fne=jo.unstable_IdlePriority,jq={},mXe=Ute!==void 0?Ute:function(){},fp=null,iM=null,zq=!1,Vte=hj(),qa=1e4>Vte?hj:function(){return hj()-Vte};function P0(){switch(hXe()){case BM:return 99;case lne:return 98;case une:return 97;case cne:return 96;case fne:return 95;default:throw Error(Ot(332));}}function pne(e){switch(e){case 99:return BM;case 98:return lne;case 97:return une;case 96:return cne;case 95:return fne;default:throw Error(Ot(332));}}function Tg(e,t){return e=pne(e),pXe(e,t)}function Mw(e,t,r){return e=pne(e),iz(e,t,r)}function Kc(){if(iM!==null){var e=iM;iM=null,dj(e)}dne()}function dne(){if(!zq&&fp!==null){zq=!0;var e=0;try{var t=fp;Tg(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),fp=null}catch(r){throw fp!==null&&(fp=fp.slice(e+1)),iz(BM,Kc),r}finally{zq=!1}}}var gXe=Cg.ReactCurrentBatchConfig;function ic(e,t){if(e&&e.defaultProps){t=Pi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var yM=_h(null),_M=null,x0=null,xM=null;function oz(){xM=x0=_M=null}function az(e){var t=yM.current;Ti(yM),e.type._context._currentValue=t}function hne(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function T0(e,t){_M=e,xM=x0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(oc=!0),e.firstContext=null)}function au(e,t){if(xM!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(xM=e,t=1073741823),t={context:e,observedBits:t,next:null},x0===null){if(_M===null)throw Error(Ot(308));x0=t,_M.dependencies={lanes:0,firstContext:t,responders:null}}else x0=x0.next=t;return e._currentValue}var th=!1;function sz(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mne(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ch(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function Gte(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cw(e,t,r,n){var i=e.updateQueue;th=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,m=d.next;d.next=null,a===null?o=m:a.next=m,a=d;var v=e.alternate;if(v!==null){v=v.updateQueue;var E=v.lastBaseUpdate;E!==a&&(E===null?v.firstBaseUpdate=m:E.next=m,v.lastBaseUpdate=d)}}if(o!==null){E=i.baseState,a=0,v=m=d=null;do{c=o.lane;var I=o.eventTime;if((n&c)===c){v!==null&&(v=v.next={eventTime:I,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var M=e,L=o;switch(c=t,I=r,L.tag){case 1:if(M=L.payload,typeof M=="function"){E=M.call(I,E,c);break e}E=M;break e;case 3:M.flags=M.flags&-4097|64;case 0:if(M=L.payload,c=typeof M=="function"?M.call(I,E,c):M,c==null)break e;E=Pi({},E,c);break e;case 2:th=!0;}}o.callback!==null&&(e.flags|=32,c=i.effects,c===null?i.effects=[o]:c.push(o))}else I={eventTime:I,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(m=v=I,d=E):v=v.next=I,a|=c;if(o=o.next,o===null){if(c=i.shared.pending,c===null)break;o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);v===null&&(d=E),i.baseState=d,i.firstBaseUpdate=m,i.lastBaseUpdate=v,kw|=a,e.lanes=a,e.memoizedState=E}}function Hte(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ot(191,i));i.call(n)}}}var gne=new LM.Component().refs;function bM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var UM={isMounted:function(e){return(e=e._reactInternals)?Og(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ol(),i=fh(e),o=uh(n,i);o.payload=t,r!=null&&(o.callback=r),ch(e,o),ph(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ol(),i=fh(e),o=uh(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),ch(e,o),ph(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ol(),n=fh(e),i=uh(r,n);i.tag=2,t!=null&&(i.callback=t),ch(e,i),ph(e,n,r)}};function $te(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Tw(r,n)||!Tw(i,o):!0}function vne(e,t,r){var n=!1,i=gh,o=t.contextType;return typeof o=="object"&&o!==null?o=au(o):(i=Us(t)?Ig:za.current,n=t.contextTypes,o=(n=n!=null)?L0(e,i):gh),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=UM,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wte(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&UM.enqueueReplaceState(t,t.state,null)}function mj(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=gne,sz(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=au(o):(o=Us(t)?Ig:za.current,i.context=L0(e,o)),Cw(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bM(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&UM.enqueueReplaceState(i,i.state,null),Cw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var ZA=Array.isArray;function Yb(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ot(309));var n=r.stateNode}if(!n)throw Error(Ot(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===gne&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ot(284));if(!r._owner)throw Error(Ot(290,e))}return e}function YA(e,t){if(e.type!=="textarea")throw Error(Ot(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function yne(e){function t(P,q){if(e){var j=P.lastEffect;j!==null?(j.nextEffect=q,P.lastEffect=q):P.firstEffect=P.lastEffect=q,q.nextEffect=null,q.flags=8}}function r(P,q){if(!e)return null;for(;q!==null;)t(P,q),q=q.sibling;return null}function n(P,q){for(P=new Map;q!==null;)q.key!==null?P.set(q.key,q):P.set(q.index,q),q=q.sibling;return P}function i(P,q){return P=yh(P,q),P.index=0,P.sibling=null,P}function o(P,q,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<q?(P.flags=2,q):j):(P.flags=2,q)):q}function a(P){return e&&P.alternate===null&&(P.flags=2),P}function c(P,q,j,B){return q===null||q.tag!==6?(q=Gq(j,P.mode,B),q.return=P,q):(q=i(q,j),q.return=P,q)}function d(P,q,j,B){return q!==null&&q.elementType===j.type?(B=i(q,j.props),B.ref=Yb(P,q,j),B.return=P,B):(B=lM(j.type,j.key,j.props,null,P.mode,B),B.ref=Yb(P,q,j),B.return=P,B)}function m(P,q,j,B){return q===null||q.tag!==4||q.stateNode.containerInfo!==j.containerInfo||q.stateNode.implementation!==j.implementation?(q=Hq(j,P.mode,B),q.return=P,q):(q=i(q,j.children||[]),q.return=P,q)}function v(P,q,j,B,Z){return q===null||q.tag!==7?(q=O0(j,P.mode,B,Z),q.return=P,q):(q=i(q,j),q.return=P,q)}function E(P,q,j){if(typeof q=="string"||typeof q=="number")return q=Gq(""+q,P.mode,j),q.return=P,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case rw:return j=lM(q.type,q.key,q.props,null,P.mode,j),j.ref=Yb(P,null,q),j.return=P,j;case _g:return q=Hq(q,P.mode,j),q.return=P,q;}if(ZA(q)||Gb(q))return q=O0(q,P.mode,j,null),q.return=P,q;YA(P,q)}return null}function I(P,q,j,B){var Z=q!==null?q.key:null;if(typeof j=="string"||typeof j=="number")return Z!==null?null:c(P,q,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rw:return j.key===Z?j.type===rh?v(P,q,j.props.children,B,Z):d(P,q,j,B):null;case _g:return j.key===Z?m(P,q,j,B):null;}if(ZA(j)||Gb(j))return Z!==null?null:v(P,q,j,B,null);YA(P,j)}return null}function M(P,q,j,B,Z){if(typeof B=="string"||typeof B=="number")return P=P.get(j)||null,c(q,P,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case rw:return P=P.get(B.key===null?j:B.key)||null,B.type===rh?v(q,P,B.props.children,Z,B.key):d(q,P,B,Z);case _g:return P=P.get(B.key===null?j:B.key)||null,m(q,P,B,Z);}if(ZA(B)||Gb(B))return P=P.get(j)||null,v(q,P,B,Z,null);YA(q,B)}return null}function L(P,q,j,B){for(var Z=null,re=null,Q=q,oe=q=0,me=null;Q!==null&&oe<j.length;oe++){Q.index>oe?(me=Q,Q=null):me=Q.sibling;var pe=I(P,Q,j[oe],B);if(pe===null){Q===null&&(Q=me);break}e&&Q&&pe.alternate===null&&t(P,Q),q=o(pe,q,oe),re===null?Z=pe:re.sibling=pe,re=pe,Q=me}if(oe===j.length)return r(P,Q),Z;if(Q===null){for(;oe<j.length;oe++)Q=E(P,j[oe],B),Q!==null&&(q=o(Q,q,oe),re===null?Z=Q:re.sibling=Q,re=Q);return Z}for(Q=n(P,Q);oe<j.length;oe++)me=M(Q,P,oe,j[oe],B),me!==null&&(e&&me.alternate!==null&&Q.delete(me.key===null?oe:me.key),q=o(me,q,oe),re===null?Z=me:re.sibling=me,re=me);return e&&Q.forEach(function(Ae){return t(P,Ae)}),Z}function R(P,q,j,B){var Z=Gb(j);if(typeof Z!="function")throw Error(Ot(150));if(j=Z.call(j),j==null)throw Error(Ot(151));for(var re=Z=null,Q=q,oe=q=0,me=null,pe=j.next();Q!==null&&!pe.done;oe++,pe=j.next()){Q.index>oe?(me=Q,Q=null):me=Q.sibling;var Ae=I(P,Q,pe.value,B);if(Ae===null){Q===null&&(Q=me);break}e&&Q&&Ae.alternate===null&&t(P,Q),q=o(Ae,q,oe),re===null?Z=Ae:re.sibling=Ae,re=Ae,Q=me}if(pe.done)return r(P,Q),Z;if(Q===null){for(;!pe.done;oe++,pe=j.next())pe=E(P,pe.value,B),pe!==null&&(q=o(pe,q,oe),re===null?Z=pe:re.sibling=pe,re=pe);return Z}for(Q=n(P,Q);!pe.done;oe++,pe=j.next())pe=M(Q,P,oe,pe.value,B),pe!==null&&(e&&pe.alternate!==null&&Q.delete(pe.key===null?oe:pe.key),q=o(pe,q,oe),re===null?Z=pe:re.sibling=pe,re=pe);return e&&Q.forEach(function(Fe){return t(P,Fe)}),Z}return function(P,q,j,B){var Z=typeof j=="object"&&j!==null&&j.type===rh&&j.key===null;Z&&(j=j.props.children);var re=typeof j=="object"&&j!==null;if(re)switch(j.$$typeof){case rw:e:{for(re=j.key,Z=q;Z!==null;){if(Z.key===re){switch(Z.tag){case 7:if(j.type===rh){r(P,Z.sibling),q=i(Z,j.props.children),q.return=P,P=q;break e}break;default:if(Z.elementType===j.type){r(P,Z.sibling),q=i(Z,j.props),q.ref=Yb(P,Z,j),q.return=P,P=q;break e}}r(P,Z);break}else t(P,Z);Z=Z.sibling}j.type===rh?(q=O0(j.props.children,P.mode,B,j.key),q.return=P,P=q):(B=lM(j.type,j.key,j.props,null,P.mode,B),B.ref=Yb(P,q,j),B.return=P,P=B)}return a(P);case _g:e:{for(Z=j.key;q!==null;){if(q.key===Z){if(q.tag===4&&q.stateNode.containerInfo===j.containerInfo&&q.stateNode.implementation===j.implementation){r(P,q.sibling),q=i(q,j.children||[]),q.return=P,P=q;break e}else{r(P,q);break}}else t(P,q);q=q.sibling}q=Hq(j,P.mode,B),q.return=P,P=q}return a(P);}if(typeof j=="string"||typeof j=="number")return j=""+j,q!==null&&q.tag===6?(r(P,q.sibling),q=i(q,j),q.return=P,P=q):(r(P,q),q=Gq(j,P.mode,B),q.return=P,P=q),a(P);if(ZA(j))return L(P,q,j,B);if(Gb(j))return R(P,q,j,B);if(re&&YA(P,j),typeof j=="undefined"&&!Z)switch(P.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ot(152,b0(P.type)||"Component"));}return r(P,q)}}var wM=yne(!0),_ne=yne(!1),Rw={},Zc=_h(Rw),Ow=_h(Rw),Dw=_h(Rw);function wg(e){if(e===Rw)throw Error(Ot(174));return e}function gj(e,t){switch($i(Dw,t),$i(Ow,e),$i(Zc,Rw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ej(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ej(t,e);}Ti(Zc),$i(Zc,t)}function N0(){Ti(Zc),Ti(Ow),Ti(Dw)}function Zte(e){wg(Dw.current);var t=wg(Zc.current),r=ej(t,e.type);t!==r&&($i(Ow,e),$i(Zc,r))}function lz(e){Ow.current===e&&(Ti(Zc),Ti(Ow))}var Hi=_h(0);function SM(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dp=null,oh=null,Yc=!1;function xne(e,t){var r=iu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Yte(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1;}}function vj(e){if(Yc){var t=oh;if(t){var r=t;if(!Yte(e,t)){if(t=I0(r.nextSibling),!t||!Yte(e,t)){e.flags=e.flags&-1025|2,Yc=!1,dp=e;return}xne(dp,r)}dp=e,oh=I0(t.firstChild)}else e.flags=e.flags&-1025|2,Yc=!1,dp=e}}function Kte(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dp=e}function KA(e){if(e!==dp)return!1;if(!Yc)return Kte(e),Yc=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!fj(t,e.memoizedProps))for(t=oh;t;)xne(e,t),t=I0(t.nextSibling);if(Kte(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ot(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){oh=I0(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}oh=null}}else oh=dp?I0(e.stateNode.nextSibling):null;return!0}function Fq(){oh=dp=null,Yc=!1}var A0=[];function uz(){for(var e=0;e<A0.length;e++)A0[e]._workInProgressVersionPrimary=null;A0.length=0}var hw=Cg.ReactCurrentDispatcher,ou=Cg.ReactCurrentBatchConfig,Lw=0,Qi=null,ka=null,na=null,EM=!1,mw=!1;function zs(){throw Error(Ot(321))}function cz(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nu(e[r],t[r]))return!1;return!0}function fz(e,t,r,n,i,o){if(Lw=o,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hw.current=e===null||e.memoizedState===null?yXe:_Xe,e=r(n,i),mw){o=0;do{if(mw=!1,!(25>o))throw Error(Ot(301));o+=1,na=ka=null,t.updateQueue=null,hw.current=xXe,e=r(n,i)}while(mw)}if(hw.current=MM,t=ka!==null&&ka.next!==null,Lw=0,na=ka=Qi=null,EM=!1,t)throw Error(Ot(300));return e}function Sg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?Qi.memoizedState=na=e:na=na.next=e,na}function Dg(){if(ka===null){var e=Qi.alternate;e=e!==null?e.memoizedState:null}else e=ka.next;var t=na===null?Qi.memoizedState:na.next;if(t!==null)na=t,ka=e;else{if(e===null)throw Error(Ot(310));ka=e,e={memoizedState:ka.memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},na===null?Qi.memoizedState=na=e:na=na.next=e}return na}function $c(e,t){return typeof t=="function"?t(e):t}function Kb(e){var t=Dg(),r=t.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=e;var n=ka,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var c=a=o=null,d=i;do{var m=d.lane;if((Lw&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),n=d.eagerReducer===e?d.eagerState:e(n,d.action);else{var v={lane:m,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};c===null?(a=c=v,o=n):c=c.next=v,Qi.lanes|=m,kw|=m}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=a,nu(n,t.memoizedState)||(oc=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Xb(e){var t=Dg(),r=t.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);nu(o,t.memoizedState)||(oc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Xte(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Lw&e)===e)&&(t._workInProgressVersionPrimary=n,A0.push(t))),e)return r(t._source);throw A0.push(t),Error(Ot(350))}function bne(e,t,r,n){var i=ms;if(i===null)throw Error(Ot(349));var o=t._getVersion,a=o(t._source),c=hw.current,d=c.useState(function(){return Xte(i,t,r)}),m=d[1],v=d[0];d=na;var E=e.memoizedState,I=E.refs,M=I.getSnapshot,L=E.source;E=E.subscribe;var R=Qi;return e.memoizedState={refs:I,source:t,subscribe:n},c.useEffect(function(){I.getSnapshot=r,I.setSnapshot=m;var P=o(t._source);if(!nu(a,P)){P=r(t._source),nu(v,P)||(m(P),P=fh(R),i.mutableReadLanes|=P&i.pendingLanes),P=i.mutableReadLanes,i.entangledLanes|=P;for(var q=i.entanglements,j=P;0<j;){var B=31-mh(j),Z=1<<B;q[B]|=P,j&=~Z}}},[r,t,n]),c.useEffect(function(){return n(t._source,function(){var P=I.getSnapshot,q=I.setSnapshot;try{q(P(t._source));var j=fh(R);i.mutableReadLanes|=j&i.pendingLanes}catch(B){q(function(){throw B})}})},[t,n]),nu(M,r)&&nu(L,t)&&nu(E,n)||(e={pending:null,dispatch:null,lastRenderedReducer:$c,lastRenderedState:v},e.dispatch=m=hz.bind(null,Qi,e),d.queue=e,d.baseQueue=null,v=Xte(i,t,r),d.memoizedState=d.baseState=v),v}function wne(e,t,r){var n=Dg();return bne(n,e,t,r)}function Qb(e){var t=Sg();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$c,lastRenderedState:e},e=e.dispatch=hz.bind(null,Qi,e),[t.memoizedState,e]}function IM(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qi.updateQueue,t===null?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qte(e){var t=Sg();return e={current:e},t.memoizedState=e}function TM(){return Dg().memoizedState}function yj(e,t,r,n){var i=Sg();Qi.flags|=e,i.memoizedState=IM(1|t,r,void 0,n===void 0?null:n)}function pz(e,t,r,n){var i=Dg();n=n===void 0?null:n;var o=void 0;if(ka!==null){var a=ka.memoizedState;if(o=a.destroy,n!==null&&cz(n,a.deps)){IM(t,r,o,n);return}}Qi.flags|=e,i.memoizedState=IM(1|t,r,o,n)}function Jte(e,t){return yj(516,4,e,t)}function AM(e,t){return pz(516,4,e,t)}function Sne(e,t){return pz(4,2,e,t)}function Ene(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ine(e,t,r){return r=r!=null?r.concat([e]):null,pz(4,2,Ene.bind(null,t,e),r)}function dz(){}function Tne(e,t){var r=Dg();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cz(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ane(e,t){var r=Dg();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cz(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vXe(e,t){var r=P0();Tg(98>r?98:r,function(){e(!0)}),Tg(97<r?97:r,function(){var n=ou.transition;ou.transition=1;try{e(!1),t()}finally{ou.transition=n}})}function hz(e,t,r){var n=Ol(),i=fh(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Qi||a!==null&&a===Qi)mw=EM=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,d=a(c,r);if(o.eagerReducer=a,o.eagerState=d,nu(d,c))return}catch(m){}finally{}ph(e,i,n)}}var MM={readContext:au,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useOpaqueIdentifier:zs,unstable_isNewReconciler:!1},yXe={readContext:au,useCallback:function(e,t){return Sg().memoizedState=[e,t===void 0?null:t],e},useContext:au,useEffect:Jte,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yj(4,2,Ene.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yj(4,2,e,t)},useMemo:function(e,t){var r=Sg();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sg();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=hz.bind(null,Qi,e),[n.memoizedState,e]},useRef:Qte,useState:Qb,useDebugValue:dz,useDeferredValue:function(e){var t=Qb(e),r=t[0],n=t[1];return Jte(function(){var i=ou.transition;ou.transition=1;try{n(e)}finally{ou.transition=i}},[e]),r},useTransition:function(){var e=Qb(!1),t=e[0];return e=vXe.bind(null,e[1]),Qte(e),[e,t]},useMutableSource:function(e,t,r){var n=Sg();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},bne(n,e,t,r)},useOpaqueIdentifier:function(){if(Yc){var e=!1,t=fXe(function(){throw e||(e=!0,r("r:"+(qq++).toString(36))),Error(Ot(355))}),r=Qb(t)[1];return!(Qi.mode&2)&&(Qi.flags|=516,IM(5,function(){r("r:"+(qq++).toString(36))},void 0,null)),t}return t="r:"+(qq++).toString(36),Qb(t),t},unstable_isNewReconciler:!1},_Xe={readContext:au,useCallback:Tne,useContext:au,useEffect:AM,useImperativeHandle:Ine,useLayoutEffect:Sne,useMemo:Ane,useReducer:Kb,useRef:TM,useState:function(){return Kb($c)},useDebugValue:dz,useDeferredValue:function(e){var t=Kb($c),r=t[0],n=t[1];return AM(function(){var i=ou.transition;ou.transition=1;try{n(e)}finally{ou.transition=i}},[e]),r},useTransition:function(){var e=Kb($c)[0];return[TM().current,e]},useMutableSource:wne,useOpaqueIdentifier:function(){return Kb($c)[0]},unstable_isNewReconciler:!1},xXe={readContext:au,useCallback:Tne,useContext:au,useEffect:AM,useImperativeHandle:Ine,useLayoutEffect:Sne,useMemo:Ane,useReducer:Xb,useRef:TM,useState:function(){return Xb($c)},useDebugValue:dz,useDeferredValue:function(e){var t=Xb($c),r=t[0],n=t[1];return AM(function(){var i=ou.transition;ou.transition=1;try{n(e)}finally{ou.transition=i}},[e]),r},useTransition:function(){var e=Xb($c)[0];return[TM().current,e]},useMutableSource:wne,useOpaqueIdentifier:function(){return Xb($c)[0]},unstable_isNewReconciler:!1},bXe=Cg.ReactCurrentOwner,oc=!1;function Fs(e,t,r,n){t.child=e===null?_ne(t,null,r,n):wM(t,e.child,r,n)}function ere(e,t,r,n,i){r=r.render;var o=t.ref;return T0(t,i),n=fz(e,t,r,n,o,i),e!==null&&!oc?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hp(e,t,i)):(t.flags|=1,Fs(e,t,n,i),t.child)}function tre(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!xz(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Mne(e,t,a,n,i,o)):(e=lM(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&o)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Tw,r(i,n)&&e.ref===t.ref)?hp(e,t,o):(t.flags|=1,e=yh(a,n),e.ref=t.ref,e.return=t,t.child=e)}function Mne(e,t,r,n,i,o){if(e!==null&&Tw(e.memoizedProps,n)&&e.ref===t.ref)if(oc=!1,(o&i)!==0)e.flags&16384&&(oc=!0);else return t.lanes=e.lanes,hp(e,t,o);return _j(e,t,r,n,o)}function Bq(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if(!(t.mode&4))t.memoizedState={baseLanes:0},QA(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},QA(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},QA(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,QA(t,n);return Fs(e,t,i,r),t.child}function Cne(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function _j(e,t,r,n,i){var o=Us(r)?Ig:za.current;return o=L0(t,o),T0(t,i),r=fz(e,t,r,n,o,i),e!==null&&!oc?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hp(e,t,i)):(t.flags|=1,Fs(e,t,r,i),t.child)}function rre(e,t,r,n,i){if(Us(r)){var o=!0;nM(t)}else o=!1;if(T0(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),vne(t,r,n),mj(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var d=a.context,m=r.contextType;typeof m=="object"&&m!==null?m=au(m):(m=Us(r)?Ig:za.current,m=L0(t,m));var v=r.getDerivedStateFromProps,E=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";E||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||d!==m)&&Wte(t,a,n,m),th=!1;var I=t.memoizedState;a.state=I,Cw(t,n,a,i),d=t.memoizedState,c!==n||I!==d||Bs.current||th?(typeof v=="function"&&(bM(t,r,v,n),d=t.memoizedState),(c=th||$te(t,r,c,n,I,d,m))?(E||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=m,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,mne(e,t),c=t.memoizedProps,m=t.type===t.elementType?c:ic(t.type,c),a.props=m,E=t.pendingProps,I=a.context,d=r.contextType,typeof d=="object"&&d!==null?d=au(d):(d=Us(r)?Ig:za.current,d=L0(t,d));var M=r.getDerivedStateFromProps;(v=typeof M=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==E||I!==d)&&Wte(t,a,n,d),th=!1,I=t.memoizedState,a.state=I,Cw(t,n,a,i);var L=t.memoizedState;c!==E||I!==L||Bs.current||th?(typeof M=="function"&&(bM(t,r,M,n),L=t.memoizedState),(m=th||$te(t,r,m,n,I,L,d))?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,L,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,L,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=L),a.props=n,a.state=L,a.context=d,n=m):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),n=!1)}return xj(e,t,r,n,o,i)}function xj(e,t,r,n,i,o){Cne(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&Bte(t,r,!1),hp(e,t,o);n=t.stateNode,bXe.current=t;var c=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=wM(t,e.child,null,o),t.child=wM(t,null,c,o)):Fs(e,t,c,o),t.memoizedState=n.state,i&&Bte(t,r,!0),t.child}function nre(e){var t=e.stateNode;t.pendingContext?Fte(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fte(e,t.context,!1),gj(e,t.containerInfo)}var XA={dehydrated:null,retryLane:0};function ire(e,t,r){var n=t.pendingProps,i=Hi.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),$i(Hi,i&1),e===null?(n.fallback!==void 0&&vj(t),e=n.children,i=n.fallback,o?(e=ore(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=XA,e):typeof n.unstable_expectedLoadTime=="number"?(e=ore(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=XA,t.lanes=33554432,e):(r=bz({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=sre(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=XA,n):(r=are(e,t,n.children,r),t.memoizedState=null,r):o?(n=sre(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=XA,n):(r=are(e,t,n.children,r),t.memoizedState=null,r)}function ore(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=bz(t,i,0,null),r=O0(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function are(e,t,r,n){var i=e.child;return e=i.sibling,r=yh(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function sre(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var c={mode:"hidden",children:r};return!(o&2)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=yh(a,c),e!==null?n=yh(e,n):(n=O0(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function lre(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hne(e.return,t)}function Uq(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function ure(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Fs(e,t,n.children,r),n=Hi.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lre(e,r);else if(e.tag===19)lre(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($i(Hi,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&SM(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Uq(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&SM(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Uq(t,!0,r,null,o,t.lastEffect);break;case"together":Uq(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null;}return t.child}function hp(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kw|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Ot(153));if(t.child!==null){for(e=t.child,r=yh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var One,bj,Dne,Lne;One=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bj=function(){};Dne=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,wg(Zc.current);var o=null;switch(r){case"input":i=Zq(e,i),n=Zq(e,n),o=[];break;case"option":i=Xq(e,i),n=Xq(e,n),o=[];break;case"select":i=Pi({},i,{value:void 0}),n=Pi({},n,{value:void 0}),o=[];break;case"textarea":i=Qq(e,i),n=Qq(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mM);}tj(r,n);var a;r=null;for(m in i)if(!n.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(_w.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in n){var d=n[m];if(c=i!=null?i[m]:void 0,n.hasOwnProperty(m)&&d!==c&&(d!=null||c!=null))if(m==="style"){if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(o||(o=[]),o.push(m,r)),r=d;}else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(_w.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Ii("scroll",e),o||c===d||(o=[])):typeof d=="object"&&d!==null&&d.$$typeof===Bj?d.toString():(o=o||[]).push(m,d))}r&&(o=o||[]).push("style",r);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};Lne=function(e,t,r,n){r!==n&&(t.flags|=4)};function Jb(e,t){if(!Yc)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null;}}function wXe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Us(t.type)&&vM(),null;case 3:return N0(),Ti(Bs),Ti(za),uz(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(KA(t)?t.flags|=4:n.hydrate||(t.flags|=256)),bj(t),null;case 5:lz(t);var i=wg(Dw.current);if(r=t.type,e!==null&&t.stateNode!=null)Dne(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Ot(166));return null}if(e=wg(Zc.current),KA(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ih]=t,n[gM]=o,r){case"dialog":Ii("cancel",n),Ii("close",n);break;case"iframe":case"object":case"embed":Ii("load",n);break;case"video":case"audio":for(e=0;e<iw.length;e++)Ii(iw[e],n);break;case"source":Ii("error",n);break;case"img":case"image":case"link":Ii("error",n),Ii("load",n);break;case"details":Ii("toggle",n);break;case"input":fte(n,o),Ii("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ii("invalid",n);break;case"textarea":dte(n,o),Ii("invalid",n);}tj(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):_w.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ii("scroll",n));switch(r){case"input":BA(n),pte(n,o,!0);break;case"textarea":BA(n),hte(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=mM);}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===Jq.html&&(e=Ire(r)),e===Jq.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ih]=t,e[gM]=n,One(e,t,!1,!1),t.stateNode=e,a=rj(r,n),r){case"dialog":Ii("cancel",e),Ii("close",e),i=n;break;case"iframe":case"object":case"embed":Ii("load",e),i=n;break;case"video":case"audio":for(i=0;i<iw.length;i++)Ii(iw[i],e);i=n;break;case"source":Ii("error",e),i=n;break;case"img":case"image":case"link":Ii("error",e),Ii("load",e),i=n;break;case"details":Ii("toggle",e),i=n;break;case"input":fte(e,n),i=Zq(e,n),Ii("invalid",e);break;case"option":i=Xq(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Pi({},n,{value:void 0}),Ii("invalid",e);break;case"textarea":dte(e,n),i=Qq(e,n),Ii("invalid",e);break;default:i=n;}tj(r,i);var c=i;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?Mre(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tre(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&xw(e,d):typeof d=="number"&&xw(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_w.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Ii("scroll",e):d!=null&&Rj(e,o,d,a))}switch(r){case"input":BA(e),pte(e,n,!1);break;case"textarea":BA(e),hte(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hh(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?w0(e,!!n.multiple,o,!1):n.defaultValue!=null&&w0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mM);}one(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Lne(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ot(166));r=wg(Dw.current),wg(Zc.current),KA(t)?(n=t.stateNode,r=t.memoizedProps,n[ih]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ih]=t,t.stateNode=n)}return null;case 13:return Ti(Hi),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&KA(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Hi.current&1?ia===0&&(ia=3):((ia===0||ia===3)&&(ia=4),ms===null||!(kw&134217727)&&!(j0&134217727)||M0(ms,ja))),(n||r)&&(t.flags|=4),null);case 4:return N0(),bj(t),e===null&&rne(t.stateNode.containerInfo),null;case 10:return az(t),null;case 17:return Us(t.type)&&vM(),null;case 19:if(Ti(Hi),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null){if(o)Jb(n,!1);else{if(ia!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=SM(e),a!==null){for(t.flags|=64,Jb(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $i(Hi,Hi.current&1|2),t.child}e=e.sibling}n.tail!==null&&qa()>Aj&&(t.flags|=64,o=!0,Jb(n,!1),t.lanes=33554432)}}else{if(!o)if(e=SM(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jb(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Yc)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*qa()-n.renderingStartTime>Aj&&r!==1073741824&&(t.flags|=64,o=!0,Jb(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=qa(),r.sibling=null,t=Hi.current,$i(Hi,o?t&1|2:t&1),r):null;case 23:case 24:return _z(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null;}throw Error(Ot(156,t.tag))}function SXe(e){switch(e.tag){case 1:Us(e.type)&&vM();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(N0(),Ti(Bs),Ti(za),uz(),t=e.flags,t&64)throw Error(Ot(285));return e.flags=t&-4097|64,e;case 5:return lz(e),null;case 13:return Ti(Hi),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ti(Hi),null;case 4:return N0(),null;case 10:return az(e),null;case 23:case 24:return _z(),null;default:return null;}}function mz(e,t){try{var r="",n=t;do r+=nKe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function wj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var EXe=typeof WeakMap=="function"?WeakMap:Map;function Pne(e,t,r){r=uh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){OM||(OM=!0,Mj=n),wj(e,t)},r}function Nne(e,t,r){r=uh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return wj(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this),wj(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var IXe=typeof WeakSet=="function"?WeakSet:Set;function cre(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){dh(e,r)}else t.current=null}function TXe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:ic(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&rz(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return;}throw Error(Ot(163))}function AXe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(Vne(r,e),RXe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:ic(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&Hte(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode;}Hte(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&one(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&jre(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return;}throw Error(Ot(163))}function fre(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Are("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function pre(e,t){if(Eg&&typeof Eg.onCommitFiberUnmount=="function")try{Eg.onCommitFiberUnmount(nz,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)Vne(t,r);else{n=t;try{i()}catch(o){dh(n,o)}}r=r.next}while(r!==e)}break;case 1:if(cre(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dh(t,o)}break;case 5:cre(t);break;case 4:Rne(e,t);}}function dre(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hre(e){return e.tag===5||e.tag===3||e.tag===4}function mre(e){e:{for(var t=e.return;t!==null;){if(hre(t))break e;t=t.return}throw Error(Ot(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Ot(161));}r.flags&16&&(xw(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||hre(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Sj(e,r,t):Ej(e,r,t)}function Sj(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mM));else if(n!==4&&(e=e.child,e!==null))for(Sj(e,t,r),e=e.sibling;e!==null;)Sj(e,t,r),e=e.sibling}function Ej(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ej(e,t,r),e=e.sibling;e!==null;)Ej(e,t,r),e=e.sibling}function Rne(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Ot(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e;}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,c=r,d=c;;)if(pre(a,d),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(a=i,c=r.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(pre(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Vq(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[gM]=n,e==="input"&&n.type==="radio"&&n.name!=null&&Sre(r,n),rj(e,i),t=rj(e,n),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];a==="style"?Mre(r,c):a==="dangerouslySetInnerHTML"?Tre(r,c):a==="children"?xw(r,c):Rj(r,a,c,t)}switch(e){case"input":Yq(r,n);break;case"textarea":Ere(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?w0(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?w0(r,!!n.multiple,n.defaultValue,!0):w0(r,!!n.multiple,n.multiple?[]:"",!1));}}}return;case 6:if(t.stateNode===null)throw Error(Ot(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,jre(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(yz=qa(),fre(t.child,!0)),gre(t);return;case 19:gre(t);return;case 17:return;case 23:case 24:fre(t,t.memoizedState!==null);return;}throw Error(Ot(163))}function gre(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IXe),t.forEach(function(n){var i=jXe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function MXe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var CXe=Math.ceil,CM=Cg.ReactCurrentDispatcher,gz=Cg.ReactCurrentOwner,Rr=0,ms=null,So=null,ja=0,Ag=0,Ij=_h(0),ia=0,VM=null,q0=0,kw=0,j0=0,vz=0,Tj=null,yz=0,Aj=1/0;function z0(){Aj=qa()+500}var rr=null,OM=!1,Mj=null,Wc=null,vh=!1,gw=null,ow=90,Cj=[],Oj=[],mp=null,vw=0,Dj=null,oM=-1,pp=0,aM=0,yw=null,sM=!1;function Ol(){return Rr&48?qa():oM!==-1?oM:oM=qa()}function fh(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return P0()===99?1:2;if(pp===0&&(pp=q0),gXe.transition!==0){aM!==0&&(aM=Tj!==null?Tj.pendingLanes:0),e=pp;var t=4186112&~aM;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=P0(),Rr&4&&e===98?e=dM(12,pp):(e=_Ke(e),e=dM(e,pp)),e}function ph(e,t,r){if(50<vw)throw vw=0,Dj=null,Error(Ot(185));if(e=GM(e,t),e===null)return null;kM(e,t,r),e===ms&&(j0|=t,ia===4&&M0(e,ja));var n=P0();t===1?Rr&8&&!(Rr&48)?Lj(e):(su(e,r),Rr===0&&(z0(),Kc())):(!(Rr&4)||n!==98&&n!==99||(mp===null?mp=new Set([e]):mp.add(e)),su(e,r)),Tj=e}function GM(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function su(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-mh(a),d=1<<c,m=o[c];if(m===-1){if(!(d&n)||d&i){m=t,d0(d);var v=mi;o[c]=10<=v?m+250:6<=v?m+5e3:-1}}else m<=t&&(e.expiredLanes|=d);a&=~d}if(n=Ew(e,e===ms?ja:0),t=mi,n===0)r!==null&&(r!==jq&&dj(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==jq&&dj(r)}t===15?(r=Lj.bind(null,e),fp===null?(fp=[r],iM=iz(BM,dne)):fp.push(r),r=jq):t===14?r=Mw(99,Lj.bind(null,e)):(r=xKe(t),r=Mw(r,kne.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function kne(e){if(oM=-1,aM=pp=0,Rr&48)throw Error(Ot(327));var t=e.callbackNode;if(xh()&&e.callbackNode!==t)return null;var r=Ew(e,e===ms?ja:0);if(r===0)return null;var n=r,i=Rr;Rr|=16;var o=Fne();(ms!==e||ja!==n)&&(z0(),C0(e,n));do try{LXe();break}catch(c){zne(e,c)}while(!0);if(oz(),CM.current=o,Rr=i,So!==null?n=0:(ms=null,ja=0,n=ia),q0&j0)C0(e,0);else if(n!==0){if(n===2&&(Rr|=64,e.hydrate&&(e.hydrate=!1,rz(e.containerInfo)),r=Hre(e),r!==0&&(n=aw(e,r))),n===1)throw t=VM,C0(e,0),M0(e,r),su(e,qa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Ot(345));case 2:yg(e);break;case 3:if(M0(e,r),(r&62914560)===r&&(n=yz+500-qa(),10<n)){if(Ew(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ol(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qte(yg.bind(null,e),n);break}yg(e);break;case 4:if(M0(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-mh(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=qa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CXe(r/1960))-r,10<r){e.timeoutHandle=qte(yg.bind(null,e),r);break}yg(e);break;case 5:yg(e);break;default:throw Error(Ot(329));}}return su(e,qa()),e.callbackNode===t?kne.bind(null,e):null}function M0(e,t){for(t&=~vz,t&=~j0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mh(t),n=1<<r;e[r]=-1,t&=~n}}function Lj(e){if(Rr&48)throw Error(Ot(327));if(xh(),e===ms&&e.expiredLanes&ja){var t=ja,r=aw(e,t);q0&j0&&(t=Ew(e,t),r=aw(e,t))}else t=Ew(e,0),r=aw(e,t);if(e.tag!==0&&r===2&&(Rr|=64,e.hydrate&&(e.hydrate=!1,rz(e.containerInfo)),t=Hre(e),t!==0&&(r=aw(e,t))),r===1)throw r=VM,C0(e,0),M0(e,t),su(e,qa()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,yg(e),su(e,qa()),null}function OXe(){if(mp!==null){var e=mp;mp=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,su(t,qa())})}Kc()}function qne(e,t){var r=Rr;Rr|=1;try{return e(t)}finally{Rr=r,Rr===0&&(z0(),Kc())}}function jne(e,t){var r=Rr;Rr&=-2,Rr|=8;try{return e(t)}finally{Rr=r,Rr===0&&(z0(),Kc())}}function QA(e,t){$i(Ij,Ag),Ag|=t,q0|=t}function _z(){Ag=Ij.current,Ti(Ij)}function C0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cXe(r)),So!==null)for(r=So.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&vM();break;case 3:N0(),Ti(Bs),Ti(za),uz();break;case 5:lz(n);break;case 4:N0();break;case 13:Ti(Hi);break;case 19:Ti(Hi);break;case 10:az(n);break;case 23:case 24:_z();}r=r.return}ms=e,So=yh(e.current,null),ja=Ag=q0=t,ia=0,VM=null,vz=j0=kw=0}function zne(e,t){do{var r=So;try{if(oz(),hw.current=MM,EM){for(var n=Qi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}EM=!1}if(Lw=0,na=ka=Qi=null,mw=!1,gz.current=null,r===null||r.return===null){ia=1,VM=t,So=null;break}e:{var o=e,a=r.return,c=r,d=t;if(t=ja,c.flags|=2048,c.firstEffect=c.lastEffect=null,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d;if(!(c.mode&2)){var v=c.alternate;v?(c.updateQueue=v.updateQueue,c.memoizedState=v.memoizedState,c.lanes=v.lanes):(c.updateQueue=null,c.memoizedState=null)}var E=(Hi.current&1)!==0,I=a;do{var M;if(M=I.tag===13){var L=I.memoizedState;if(L!==null)M=L.dehydrated!==null;else{var R=I.memoizedProps;M=R.fallback===void 0?!1:R.unstable_avoidThisFallback!==!0?!0:!E}}if(M){var P=I.updateQueue;if(P===null){var q=new Set;q.add(m),I.updateQueue=q}else P.add(m);if(!(I.mode&2)){if(I.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var j=uh(-1,1);j.tag=2,ch(c,j)}c.lanes|=1;break e}d=void 0,c=t;var B=o.pingCache;if(B===null?(B=o.pingCache=new EXe,d=new Set,B.set(m,d)):(d=B.get(m),d===void 0&&(d=new Set,B.set(m,d))),!d.has(c)){d.add(c);var Z=qXe.bind(null,o,m,c);m.then(Z,Z)}I.flags|=4096,I.lanes=t;break e}I=I.return}while(I!==null);d=Error((b0(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ia!==5&&(ia=2),d=mz(d,c),I=a;do{switch(I.tag){case 3:o=d,I.flags|=4096,t&=-t,I.lanes|=t;var re=Pne(I,o,t);Gte(I,re);break e;case 1:o=d;var Q=I.type,oe=I.stateNode;if(!(I.flags&64)&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Wc===null||!Wc.has(oe)))){I.flags|=4096,t&=-t,I.lanes|=t;var me=Nne(I,o,t);Gte(I,me);break e}}I=I.return}while(I!==null)}Une(r)}catch(pe){t=pe,So===r&&r!==null&&(So=r=r.return);continue}break}while(!0)}function Fne(){var e=CM.current;return CM.current=MM,e===null?MM:e}function aw(e,t){var r=Rr;Rr|=16;var n=Fne();ms===e&&ja===t||C0(e,t);do try{DXe();break}catch(i){zne(e,i)}while(!0);if(oz(),Rr=r,CM.current=n,So!==null)throw Error(Ot(261));return ms=null,ja=0,ia}function DXe(){for(;So!==null;)Bne(So)}function LXe(){for(;So!==null&&!dXe();)Bne(So)}function Bne(e){var t=Gne(e.alternate,e,Ag);e.memoizedProps=e.pendingProps,t===null?Une(e):So=t,gz.current=null}function Une(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=SXe(t),r!==null){r.flags&=2047,So=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=wXe(r,t,Ag),r!==null){So=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||Ag&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){So=t;return}So=t=e}while(t!==null);ia===0&&(ia=5)}function yg(e){var t=P0();return Tg(99,PXe.bind(null,e,t)),null}function PXe(e,t){do xh();while(gw!==null);if(Rr&48)throw Error(Ot(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ot(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,c=e.expirationTimes;0<o;){var d=31-mh(o),m=1<<d;i[d]=0,a[d]=-1,c[d]=-1,o&=~m}if(mp!==null&&!(n&24)&&mp.has(e)&&mp.delete(e),e===ms&&(So=ms=null,ja=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Rr,Rr|=32,gz.current=null,Rq=eM,a=Dte(),lj(a)){if("selectionStart"in a)c={start:a.selectionStart,end:a.selectionEnd};else e:if(c=(c=a.ownerDocument)&&c.defaultView||window,(m=c.getSelection&&c.getSelection())&&m.rangeCount!==0){c=m.anchorNode,o=m.anchorOffset,d=m.focusNode,m=m.focusOffset;try{c.nodeType,d.nodeType}catch(pe){c=null;break e}var v=0,E=-1,I=-1,M=0,L=0,R=a,P=null;t:for(;;){for(var q;R!==c||o!==0&&R.nodeType!==3||(E=v+o),R!==d||m!==0&&R.nodeType!==3||(I=v+m),R.nodeType===3&&(v+=R.nodeValue.length),(q=R.firstChild)!==null;)P=R,R=q;for(;;){if(R===a)break t;if(P===c&&++M===o&&(E=v),P===d&&++L===m&&(I=v),(q=R.nextSibling)!==null)break;R=P,P=R.parentNode}R=q}c=E===-1||I===-1?null:{start:E,end:I}}else c=null;c=c||{start:0,end:0}}else c=null;kq={focusedElem:a,selectionRange:c},eM=!1,yw=null,sM=!1,rr=n;do try{NXe()}catch(pe){if(rr===null)throw Error(Ot(330));dh(rr,pe),rr=rr.nextEffect}while(rr!==null);yw=null,rr=n;do try{for(a=e;rr!==null;){var j=rr.flags;if(j&16&&xw(rr.stateNode,""),j&128){var B=rr.alternate;if(B!==null){var Z=B.ref;Z!==null&&(typeof Z=="function"?Z(null):Z.current=null)}}switch(j&1038){case 2:mre(rr),rr.flags&=-3;break;case 6:mre(rr),rr.flags&=-3,Vq(rr.alternate,rr);break;case 1024:rr.flags&=-1025;break;case 1028:rr.flags&=-1025,Vq(rr.alternate,rr);break;case 4:Vq(rr.alternate,rr);break;case 8:c=rr,Rne(a,c);var re=c.alternate;dre(c),re!==null&&dre(re);}rr=rr.nextEffect}}catch(pe){if(rr===null)throw Error(Ot(330));dh(rr,pe),rr=rr.nextEffect}while(rr!==null);if(Z=kq,B=Dte(),j=Z.focusedElem,a=Z.selectionRange,B!==j&&j&&j.ownerDocument&&Jre(j.ownerDocument.documentElement,j)){for(a!==null&&lj(j)&&(B=a.start,Z=a.end,Z===void 0&&(Z=B),("selectionStart"in j)?(j.selectionStart=B,j.selectionEnd=Math.min(Z,j.value.length)):(Z=(B=j.ownerDocument||document)&&B.defaultView||window,Z.getSelection&&(Z=Z.getSelection(),c=j.textContent.length,re=Math.min(a.start,c),a=a.end===void 0?re:Math.min(a.end,c),!Z.extend&&re>a&&(c=a,a=re,re=c),c=Ote(j,re),o=Ote(j,a),c&&o&&(Z.rangeCount!==1||Z.anchorNode!==c.node||Z.anchorOffset!==c.offset||Z.focusNode!==o.node||Z.focusOffset!==o.offset)&&(B=B.createRange(),B.setStart(c.node,c.offset),Z.removeAllRanges(),re>a?(Z.addRange(B),Z.extend(o.node,o.offset)):(B.setEnd(o.node,o.offset),Z.addRange(B)))))),B=[],Z=j;Z=Z.parentNode;)Z.nodeType===1&&B.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<B.length;j++)Z=B[j],Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}eM=!!Rq,kq=Rq=null,e.current=r,rr=n;do try{for(j=e;rr!==null;){var Q=rr.flags;if(Q&36&&AXe(j,rr.alternate,rr),Q&128){B=void 0;var oe=rr.ref;if(oe!==null){var me=rr.stateNode;switch(rr.tag){case 5:B=me;break;default:B=me;}typeof oe=="function"?oe(B):oe.current=B}}rr=rr.nextEffect}}catch(pe){if(rr===null)throw Error(Ot(330));dh(rr,pe),rr=rr.nextEffect}while(rr!==null);rr=null,mXe(),Rr=i}else e.current=r;if(vh)vh=!1,gw=e,ow=t;else for(rr=n;rr!==null;)t=rr.nextEffect,rr.nextEffect=null,rr.flags&8&&(Q=rr,Q.sibling=null,Q.stateNode=null),rr=t;if(n=e.pendingLanes,n===0&&(Wc=null),n===1?e===Dj?vw++:(vw=0,Dj=e):vw=0,r=r.stateNode,Eg&&typeof Eg.onCommitFiberRoot=="function")try{Eg.onCommitFiberRoot(nz,r,void 0,(r.current.flags&64)===64)}catch(pe){}if(su(e,qa()),OM)throw OM=!1,e=Mj,Mj=null,e;return Rr&8||Kc(),null}function NXe(){for(;rr!==null;){var e=rr.alternate;sM||yw===null||(rr.flags&8?vte(rr,yw)&&(sM=!0):rr.tag===13&&MXe(e,rr)&&vte(rr,yw)&&(sM=!0));var t=rr.flags;t&256&&TXe(e,rr),!(t&512)||vh||(vh=!0,Mw(97,function(){return xh(),null})),rr=rr.nextEffect}}function xh(){if(ow!==90){var e=97<ow?97:ow;return ow=90,Tg(e,kXe)}return!1}function RXe(e,t){Cj.push(t,e),vh||(vh=!0,Mw(97,function(){return xh(),null}))}function Vne(e,t){Oj.push(t,e),vh||(vh=!0,Mw(97,function(){return xh(),null}))}function kXe(){if(gw===null)return!1;var e=gw;if(gw=null,Rr&48)throw Error(Ot(331));var t=Rr;Rr|=32;var r=Oj;Oj=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(d){if(o===null)throw Error(Ot(330));dh(o,d)}}for(r=Cj,Cj=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var c=i.create;i.destroy=c()}catch(d){if(o===null)throw Error(Ot(330));dh(o,d)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return Rr=t,Kc(),!0}function vre(e,t,r){t=mz(r,t),t=Pne(e,t,1),ch(e,t),t=Ol(),e=GM(e,1),e!==null&&(kM(e,1,t),su(e,t))}function dh(e,t){if(e.tag===3)vre(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){vre(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wc===null||!Wc.has(n))){e=mz(t,e);var i=Nne(r,e,1);if(ch(r,i),i=Ol(),r=GM(r,1),r!==null)kM(r,1,i),su(r,i);else if(typeof n.componentDidCatch=="function"&&(Wc===null||!Wc.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function qXe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ol(),e.pingedLanes|=e.suspendedLanes&r,ms===e&&(ja&r)===r&&(ia===4||ia===3&&(ja&62914560)===ja&&500>qa()-yz?C0(e,0):vz|=r),su(e,t)}function jXe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(pp===0&&(pp=q0),t=h0(62914560&~pp),t===0&&(t=4194304)):t=P0()===99?1:2:t=1),r=Ol(),e=GM(e,t),e!==null&&(kM(e,t,r),su(e,r))}var Gne;Gne=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||Bs.current)oc=!0;else if(r&n)oc=!!(e.flags&16384);else{switch(oc=!1,t.tag){case 3:nre(t),Fq();break;case 5:Zte(t);break;case 1:Us(t.type)&&nM(t);break;case 4:gj(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;$i(yM,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?ire(e,t,r):($i(Hi,Hi.current&1),t=hp(e,t,r),t!==null?t.sibling:null);$i(Hi,Hi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return ure(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$i(Hi,Hi.current),n)break;return null;case 23:case 24:return t.lanes=0,Bq(e,t,r);}return hp(e,t,r)}}else oc=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=L0(t,za.current),T0(t,r),i=fz(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(n)){var o=!0;nM(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sz(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&bM(t,n,a,e),i.updater=UM,t.stateNode=i,i._reactInternals=t,mj(t,n,e,r),t=xj(null,t,n,!0,o,r)}else t.tag=0,Fs(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=FXe(i),e=ic(i,e),o){case 0:t=_j(null,t,i,e,r);break e;case 1:t=rre(null,t,i,e,r);break e;case 11:t=ere(null,t,i,e,r);break e;case 14:t=tre(null,t,i,ic(i.type,e),n,r);break e;}throw Error(Ot(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),_j(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),rre(e,t,n,i,r);case 3:if(nre(t),n=t.updateQueue,e===null||n===null)throw Error(Ot(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,mne(e,t),Cw(t,n,null,r),n=t.memoizedState.element,n===i)Fq(),t=hp(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(oh=I0(t.stateNode.containerInfo.firstChild),dp=t,o=Yc=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],A0.push(o);for(r=_ne(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Fs(e,t,n,r),Fq();t=t.child}return t;case 5:return Zte(t),e===null&&vj(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,fj(n,i)?a=null:o!==null&&fj(n,o)&&(t.flags|=16),Cne(e,t),Fs(e,t,a,r),t.child;case 6:return e===null&&vj(t),null;case 13:return ire(e,t,r);case 4:return gj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wM(t,null,n,r):Fs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),ere(e,t,n,i,r);case 7:return Fs(e,t,t.pendingProps,r),t.child;case 8:return Fs(e,t,t.pendingProps.children,r),t.child;case 12:return Fs(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if($i(yM,c._currentValue),c._currentValue=o,a!==null)if(c=a.value,o=nu(c,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(c,o):1073741823)|0,o===0){if(a.children===i.children&&!Bs.current){t=hp(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){a=c.child;for(var m=d.firstContext;m!==null;){if(m.context===n&&m.observedBits&o){c.tag===1&&(m=uh(-1,r&-r),m.tag=2,ch(c,m)),c.lanes|=r,m=c.alternate,m!==null&&(m.lanes|=r),hne(c.return,r),d.lanes|=r;break}m=m.next}}else a=c.tag===10&&c.type===t.type?null:c.child;if(a!==null)a.return=c;else for(a=c;a!==null;){if(a===t){a=null;break}if(c=a.sibling,c!==null){c.return=a.return,a=c;break}a=a.return}c=a}Fs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,T0(t,r),i=au(i,o.unstable_observedBits),n=n(i),t.flags|=1,Fs(e,t,n,r),t.child;case 14:return i=t.type,o=ic(i,t.pendingProps),o=ic(i.type,o),tre(e,t,i,o,n,r);case 15:return Mne(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Us(n)?(e=!0,nM(t)):e=!1,T0(t,r),vne(t,n,i),mj(t,n,i,r),xj(null,t,n,!0,e,r);case 19:return ure(e,t,r);case 23:return Bq(e,t,r);case 24:return Bq(e,t,r);}throw Error(Ot(156,t.tag))};function zXe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function iu(e,t,r,n){return new zXe(e,t,r,n)}function xz(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FXe(e){if(typeof e=="function")return xz(e)?1:0;if(e!=null){if(e=e.$$typeof,e===PM)return 11;if(e===NM)return 14}return 2}function yh(e,t){var r=e.alternate;return r===null?(r=iu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lM(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")xz(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rh:return O0(r.children,i,o,t);case xre:a=8,i|=16;break;case kj:a=8,i|=1;break;case sw:return e=iu(12,r,t,i|8),e.elementType=sw,e.type=sw,e.lanes=o,e;case lw:return e=iu(13,r,t,i),e.type=lw,e.elementType=lw,e.lanes=o,e;case uM:return e=iu(19,r,t,i),e.elementType=uM,e.lanes=o,e;case Uj:return bz(r,i,o,t);case Wq:return e=iu(24,r,t,i),e.elementType=Wq,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qj:a=10;break e;case jj:a=9;break e;case PM:a=11;break e;case NM:a=14;break e;case zj:a=16,n=null;break e;case Fj:a=22;break e;}throw Error(Ot(130,e==null?e:typeof e,""));}return t=iu(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function O0(e,t,r,n){return e=iu(7,e,n,t),e.lanes=r,e}function bz(e,t,r,n){return e=iu(23,e,n,t),e.elementType=Uj,e.lanes=r,e}function Gq(e,t,r){return e=iu(6,e,null,t),e.lanes=r,e}function Hq(e,t,r){return t=iu(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BXe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Cq(0),this.expirationTimes=Cq(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cq(0),this.mutableSourceEagerHydrationData=null}function UXe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_g,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function DM(e,t,r,n){var i=t.current,o=Ol(),a=fh(i);e:if(r){r=r._reactInternals;t:{if(Og(r)!==r||r.tag!==1)throw Error(Ot(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Us(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(Ot(171))}if(r.tag===1){var d=r.type;if(Us(d)){r=sne(r,d,c);break e}}r=c}else r=gh;return t.context===null?t.context=r:t.pendingContext=r,t=uh(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ch(i,t),ph(i,a,o),a}function $q(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function yre(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wz(e,t){yre(e,t),(e=e.alternate)&&yre(e,t)}function VXe(){return null}function Sz(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new BXe(e,t,r!=null&&r.hydrate===!0),t=iu(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,sz(t),e[k0]=r.current,rne(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}Sz.prototype.render=function(e){DM(e,this._internalRoot,null,null)};Sz.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;DM(null,e,null,function(){t[k0]=null})};function qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GXe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Sz(e,0,t?{hydrate:!0}:void 0)}function HM(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var c=i;i=function(){var m=$q(a);c.call(m)}}DM(t,a,e,i)}else{if(o=r._reactRootContainer=GXe(r,n),a=o._internalRoot,typeof i=="function"){var d=i;i=function(){var m=$q(a);d.call(m)}}jne(function(){DM(t,a,e,i)})}return $q(a)}Rre=function(e){if(e.tag===13){var t=Ol();ph(e,4,t),wz(e,4)}};Wj=function(e){if(e.tag===13){var t=Ol();ph(e,67108864,t),wz(e,67108864)}};kre=function(e){if(e.tag===13){var t=Ol(),r=fh(e);ph(e,r,t),wz(e,r)}};qre=function(e,t){return t()};nj=function(e,t,r){switch(t){case"input":if(Yq(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=FM(n);if(!i)throw Error(Ot(90));wre(n),Yq(n,i)}}}break;case"textarea":Ere(e,r);break;case"select":t=r.value,t!=null&&w0(e,!!r.multiple,t,!1);}};Gj=qne;Dre=function(e,t,r,n,i){var o=Rr;Rr|=4;try{return Tg(98,e.bind(null,t,r,n,i))}finally{Rr=o,Rr===0&&(z0(),Kc())}};Hj=function(){!(Rr&49)&&(OXe(),xh())};Lre=function(e,t){var r=Rr;Rr|=2;try{return e(t)}finally{Rr=r,Rr===0&&(z0(),Kc())}};function Hne(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qw(t))throw Error(Ot(200));return UXe(e,t,null,r)}var HXe={Events:[Nw,y0,FM,Cre,Ore,xh,{current:!1}]},ew={findFiberByHostInstance:bg,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$Xe={bundleType:ew.bundleType,version:ew.version,rendererPackageName:ew.rendererPackageName,rendererConfig:ew.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nre(e),e===null?null:e.stateNode},findFiberByHostInstance:ew.findFiberByHostInstance||VXe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(tw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!tw.isDisabled&&tw.supportsFiber))try{nz=tw.inject($Xe),Eg=tw}catch(e){}var tw;lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HXe;lu.createPortal=Hne;lu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ot(188)):Error(Ot(268,Object.keys(e)));return e=Nre(t),e=e===null?null:e.stateNode,e};lu.flushSync=function(e,t){var r=Rr;if(r&48)return e(t);Rr|=1;try{if(e)return Tg(99,e.bind(null,t))}finally{Rr=r,Kc()}};lu.hydrate=function(e,t,r){if(!qw(t))throw Error(Ot(200));return HM(null,e,t,!0,r)};lu.render=function(e,t,r){if(!qw(t))throw Error(Ot(200));return HM(null,e,t,!1,r)};lu.unmountComponentAtNode=function(e){if(!qw(e))throw Error(Ot(40));return e._reactRootContainer?(jne(function(){HM(null,null,e,!1,function(){e._reactRootContainer=null,e[k0]=null})}),!0):!1};lu.unstable_batchedUpdates=qne;lu.unstable_createPortal=function(e,t){return Hne(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};lu.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qw(r))throw Error(Ot(200));if(e==null||e._reactInternals===void 0)throw Error(Ot(38));return HM(e,t,r,!1,n)};lu.version="17.0.2"});var Ji=T((Uyr,Zne)=>{"use strict";function Wne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wne)}catch(e){console.error(e)}}Wne(),Zne.exports=$ne()});var Xt=T((Yne,Kne)=>{"use strict";var $M=function(e){return e&&e.Math===Math&&e};Kne.exports=$M(typeof globalThis=="object"&&globalThis)||$M(typeof window=="object"&&window)||$M(typeof self=="object"&&self)||$M(typeof global=="object"&&global)||function(){return this}()||Yne||Function("return this")()});var vt=T((Vyr,Xne)=>{"use strict";Xne.exports=function(e){try{return!!e()}catch(t){return!0}}});var gr=T((Gyr,Qne)=>{"use strict";var WXe=vt();Qne.exports=!WXe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var F0=T((Hyr,Jne)=>{"use strict";var ZXe=vt();Jne.exports=!ZXe(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var kt=T(($yr,eie)=>{"use strict";var YXe=F0(),WM=Function.prototype.call;eie.exports=YXe?WM.bind(WM):function(){return WM.apply(WM,arguments)}});var jw=T(nie=>{"use strict";var tie={}.propertyIsEnumerable,rie=Object.getOwnPropertyDescriptor,KXe=rie&&!tie.call({1:2},1);nie.f=KXe?function(t){var r=rie(this,t);return!!r&&r.enumerable}:tie});var Vs=T((Zyr,iie)=>{"use strict";iie.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var st=T((Yyr,sie)=>{"use strict";var oie=F0(),aie=Function.prototype,Ez=aie.call,XXe=oie&&aie.bind.bind(Ez,Ez);sie.exports=oie?XXe:function(e){return function(){return Ez.apply(e,arguments)}}});var aa=T((Kyr,uie)=>{"use strict";var lie=st(),QXe=lie({}.toString),JXe=lie("".slice);uie.exports=function(e){return JXe(QXe(e),8,-1)}});var vp=T((Xyr,cie)=>{"use strict";var eQe=st(),tQe=vt(),rQe=aa(),Iz=Object,nQe=eQe("".split);cie.exports=tQe(function(){return!Iz("z").propertyIsEnumerable(0)})?function(e){return rQe(e)==="String"?nQe(e,""):Iz(e)}:Iz});var eo=T((Qyr,fie)=>{"use strict";fie.exports=function(e){return e==null}});var gi=T((Jyr,pie)=>{"use strict";var iQe=eo(),oQe=TypeError;pie.exports=function(e){if(iQe(e))throw new oQe("Can't call method on "+e);return e}});var ho=T((e0r,die)=>{"use strict";var aQe=vp(),sQe=gi();die.exports=function(e){return aQe(sQe(e))}});var Az=T((t0r,hie)=>{"use strict";var Tz=typeof document=="object"&&document.all,lQe=typeof Tz=="undefined"&&Tz!==void 0;hie.exports={all:Tz,IS_HTMLDDA:lQe}});var Dr=T((r0r,gie)=>{"use strict";var mie=Az(),uQe=mie.all;gie.exports=mie.IS_HTMLDDA?function(e){return typeof e=="function"||e===uQe}:function(e){return typeof e=="function"}});var Lr=T((n0r,_ie)=>{"use strict";var vie=Dr(),yie=Az(),cQe=yie.all;_ie.exports=yie.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:vie(e)||e===cQe}:function(e){return typeof e=="object"?e!==null:vie(e)}});var Er=T((i0r,xie)=>{"use strict";var Mz=Xt(),fQe=Dr(),pQe=function(e){return fQe(e)?e:void 0};xie.exports=function(e,t){return arguments.length<2?pQe(Mz[e]):Mz[e]&&Mz[e][t]}});var Fa=T((o0r,bie)=>{"use strict";var dQe=st();bie.exports=dQe({}.isPrototypeOf)});var Xc=T((a0r,wie)=>{"use strict";wie.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""});var Qc=T((s0r,Mie)=>{"use strict";var Aie=Xt(),Cz=Xc(),Sie=Aie.process,Eie=Aie.Deno,Iie=Sie&&Sie.versions||Eie&&Eie.version,Tie=Iie&&Iie.v8,ac,ZM;Tie&&(ac=Tie.split("."),ZM=ac[0]>0&&ac[0]<4?1:+(ac[0]+ac[1]));!ZM&&Cz&&(ac=Cz.match(/Edge\/(\d+)/),(!ac||ac[1]>=74)&&(ac=Cz.match(/Chrome\/(\d+)/),ac&&(ZM=+ac[1])));Mie.exports=ZM});var bh=T((l0r,Oie)=>{"use strict";var Cie=Qc(),hQe=vt(),mQe=Xt(),gQe=mQe.String;Oie.exports=!!Object.getOwnPropertySymbols&&!hQe(function(){var e=Symbol("symbol detection");return!gQe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Cie&&Cie<41})});var Oz=T((u0r,Die)=>{"use strict";var vQe=bh();Die.exports=vQe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var yp=T((c0r,Lie)=>{"use strict";var yQe=Er(),_Qe=Dr(),xQe=Fa(),bQe=Oz(),wQe=Object;Lie.exports=bQe?function(e){return typeof e=="symbol"}:function(e){var t=yQe("Symbol");return _Qe(t)&&xQe(t.prototype,wQe(e))}});var wh=T((f0r,Pie)=>{"use strict";var SQe=String;Pie.exports=function(e){try{return SQe(e)}catch(t){return"Object"}}});var Ir=T((p0r,Nie)=>{"use strict";var EQe=Dr(),IQe=wh(),TQe=TypeError;Nie.exports=function(e){if(EQe(e))return e;throw new TQe(IQe(e)+" is not a function")}});var Wi=T((d0r,Rie)=>{"use strict";var AQe=Ir(),MQe=eo();Rie.exports=function(e,t){var r=e[t];return MQe(r)?void 0:AQe(r)}});var Nz=T((h0r,kie)=>{"use strict";var Dz=kt(),Lz=Dr(),Pz=Lr(),CQe=TypeError;kie.exports=function(e,t){var r,n;if(t==="string"&&Lz(r=e.toString)&&!Pz(n=Dz(r,e))||Lz(r=e.valueOf)&&!Pz(n=Dz(r,e))||t!=="string"&&Lz(r=e.toString)&&!Pz(n=Dz(r,e)))return n;throw new CQe("Can't convert object to primitive value")}});var Kr=T((m0r,qie)=>{"use strict";qie.exports=!1});var YM=T((g0r,zie)=>{"use strict";var jie=Xt(),OQe=Object.defineProperty;zie.exports=function(e,t){try{OQe(jie,e,{value:t,configurable:!0,writable:!0})}catch(r){jie[e]=t}return t}});var zw=T((v0r,Bie)=>{"use strict";var DQe=Xt(),LQe=YM(),Fie="__core-js_shared__",PQe=DQe[Fie]||LQe(Fie,{});Bie.exports=PQe});var Jc=T((y0r,Vie)=>{"use strict";var NQe=Kr(),Uie=zw();(Vie.exports=function(e,t){return Uie[e]||(Uie[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:NQe?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Xr=T((_0r,Gie)=>{"use strict";var RQe=gi(),kQe=Object;Gie.exports=function(e){return kQe(RQe(e))}});var Gr=T((x0r,Hie)=>{"use strict";var qQe=st(),jQe=Xr(),zQe=qQe({}.hasOwnProperty);Hie.exports=Object.hasOwn||function(t,r){return zQe(jQe(t),r)}});var Sh=T((b0r,$ie)=>{"use strict";var FQe=st(),BQe=0,UQe=Math.random(),VQe=FQe(1 .toString);$ie.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+VQe(++BQe+UQe,36)}});var vr=T((w0r,Zie)=>{"use strict";var GQe=Xt(),HQe=Jc(),Wie=Gr(),$Qe=Sh(),WQe=bh(),ZQe=Oz(),B0=GQe.Symbol,Rz=HQe("wks"),YQe=ZQe?B0.for||B0:B0&&B0.withoutSetter||$Qe;Zie.exports=function(e){return Wie(Rz,e)||(Rz[e]=WQe&&Wie(B0,e)?B0[e]:YQe("Symbol."+e)),Rz[e]}});var Fw=T((S0r,Xie)=>{"use strict";var KQe=kt(),Yie=Lr(),Kie=yp(),XQe=Wi(),QQe=Nz(),JQe=vr(),eJe=TypeError,tJe=JQe("toPrimitive");Xie.exports=function(e,t){if(!Yie(e)||Kie(e))return e;var r=XQe(e,tJe),n;if(r){if(t===void 0&&(t="default"),n=KQe(r,e,t),!Yie(n)||Kie(n))return n;throw new eJe("Can't convert object to primitive value")}return t===void 0&&(t="number"),QQe(e,t)}});var sc=T((E0r,Qie)=>{"use strict";var rJe=Fw(),nJe=yp();Qie.exports=function(e){var t=rJe(e,"string");return nJe(t)?t:t+""}});var Bw=T((I0r,eoe)=>{"use strict";var iJe=Xt(),Jie=Lr(),kz=iJe.document,oJe=Jie(kz)&&Jie(kz.createElement);eoe.exports=function(e){return oJe?kz.createElement(e):{}}});var qz=T((T0r,toe)=>{"use strict";var aJe=gr(),sJe=vt(),lJe=Bw();toe.exports=!aJe&&!sJe(function(){return Object.defineProperty(lJe("div"),"a",{get:function(){return 7}}).a!==7})});var Eo=T(noe=>{"use strict";var uJe=gr(),cJe=kt(),fJe=jw(),pJe=Vs(),dJe=ho(),hJe=sc(),mJe=Gr(),gJe=qz(),roe=Object.getOwnPropertyDescriptor;noe.f=uJe?roe:function(t,r){if(t=dJe(t),r=hJe(r),gJe)try{return roe(t,r)}catch(n){}if(mJe(t,r))return pJe(!cJe(fJe.f,t,r),t[r])}});var jz=T((M0r,ioe)=>{"use strict";var vJe=gr(),yJe=vt();ioe.exports=vJe&&yJe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var jt=T((C0r,ooe)=>{"use strict";var _Je=Lr(),xJe=String,bJe=TypeError;ooe.exports=function(e){if(_Je(e))return e;throw new bJe(xJe(e)+" is not an object")}});var ai=T(soe=>{"use strict";var wJe=gr(),SJe=qz(),EJe=jz(),KM=jt(),aoe=sc(),IJe=TypeError,zz=Object.defineProperty,TJe=Object.getOwnPropertyDescriptor,Fz="enumerable",Bz="configurable",Uz="writable";soe.f=wJe?EJe?function(t,r,n){if(KM(t),r=aoe(r),KM(n),typeof t=="function"&&r==="prototype"&&"value"in n&&Uz in n&&!n[Uz]){var i=TJe(t,r);i&&i[Uz]&&(t[r]=n.value,n={configurable:Bz in n?n[Bz]:i[Bz],enumerable:Fz in n?n[Fz]:i[Fz],writable:!1})}return zz(t,r,n)}:zz:function(t,r,n){if(KM(t),r=aoe(r),KM(n),SJe)try{return zz(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new IJe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var to=T((D0r,loe)=>{"use strict";var AJe=gr(),MJe=ai(),CJe=Vs();loe.exports=AJe?function(e,t,r){return MJe.f(e,t,CJe(1,r))}:function(e,t,r){return e[t]=r,e}});var Lg=T((L0r,coe)=>{"use strict";var Vz=gr(),OJe=Gr(),uoe=Function.prototype,DJe=Vz&&Object.getOwnPropertyDescriptor,Gz=OJe(uoe,"name"),LJe=Gz&&function(){}.name==="something",PJe=Gz&&(!Vz||Vz&&DJe(uoe,"name").configurable);coe.exports={EXISTS:Gz,PROPER:LJe,CONFIGURABLE:PJe}});var Uw=T((P0r,foe)=>{"use strict";var NJe=st(),RJe=Dr(),Hz=zw(),kJe=NJe(Function.toString);RJe(Hz.inspectSource)||(Hz.inspectSource=function(e){return kJe(e)});foe.exports=Hz.inspectSource});var $z=T((N0r,doe)=>{"use strict";var qJe=Xt(),jJe=Dr(),poe=qJe.WeakMap;doe.exports=jJe(poe)&&/native code/.test(String(poe))});var Vw=T((R0r,moe)=>{"use strict";var zJe=Jc(),FJe=Sh(),hoe=zJe("keys");moe.exports=function(e){return hoe[e]||(hoe[e]=FJe(e))}});var U0=T((k0r,goe)=>{"use strict";goe.exports={}});var On=T((q0r,_oe)=>{"use strict";var BJe=$z(),yoe=Xt(),UJe=Lr(),VJe=to(),Wz=Gr(),Zz=zw(),GJe=Vw(),HJe=U0(),voe="Object already initialized",Yz=yoe.TypeError,$Je=yoe.WeakMap,XM,Gw,QM,WJe=function(e){return QM(e)?Gw(e):XM(e,{})},ZJe=function(e){return function(t){var r;if(!UJe(t)||(r=Gw(t)).type!==e)throw new Yz("Incompatible receiver, "+e+" required");return r}};BJe||Zz.state?(lc=Zz.state||(Zz.state=new $Je),lc.get=lc.get,lc.has=lc.has,lc.set=lc.set,XM=function(e,t){if(lc.has(e))throw new Yz(voe);return t.facade=e,lc.set(e,t),t},Gw=function(e){return lc.get(e)||{}},QM=function(e){return lc.has(e)}):(Pg=GJe("state"),HJe[Pg]=!0,XM=function(e,t){if(Wz(e,Pg))throw new Yz(voe);return t.facade=e,VJe(e,Pg,t),t},Gw=function(e){return Wz(e,Pg)?e[Pg]:{}},QM=function(e){return Wz(e,Pg)});var lc,Pg;_oe.exports={set:XM,get:Gw,has:QM,enforce:WJe,getterFor:ZJe}});var Hw=T((j0r,woe)=>{"use strict";var Xz=st(),YJe=vt(),KJe=Dr(),JM=Gr(),Kz=gr(),XJe=Lg().CONFIGURABLE,QJe=Uw(),boe=On(),JJe=boe.enforce,eet=boe.get,xoe=String,eC=Object.defineProperty,tet=Xz("".slice),ret=Xz("".replace),net=Xz([].join),iet=Kz&&!YJe(function(){return eC(function(){},"length",{value:8}).length!==8}),oet=String(String).split("String"),aet=woe.exports=function(e,t,r){tet(xoe(t),0,7)==="Symbol("&&(t="["+ret(xoe(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!JM(e,"name")||XJe&&e.name!==t)&&(Kz?eC(e,"name",{value:t,configurable:!0}):e.name=t),iet&&r&&JM(r,"arity")&&e.length!==r.arity&&eC(e,"length",{value:r.arity});try{r&&JM(r,"constructor")&&r.constructor?Kz&&eC(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=JJe(e);return JM(n,"source")||(n.source=net(oet,typeof t=="string"?t:"")),e};Function.prototype.toString=aet(function(){return KJe(this)&&eet(this).source||QJe(this)},"toString")});var jn=T((z0r,Soe)=>{"use strict";var set=Dr(),uet=ai(),cet=Hw(),fet=YM();Soe.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(set(r)&&cet(r,o,n),n.global)i?e[t]=r:fet(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(a){}i?e[t]=r:uet.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var Qz=T((F0r,Eoe)=>{"use strict";var pet=Math.ceil,det=Math.floor;Eoe.exports=Math.trunc||function(t){var r=+t;return(r>0?det:pet)(r)}});var vi=T((B0r,Ioe)=>{"use strict";var het=Qz();Ioe.exports=function(e){var t=+e;return t!==t||t===0?0:het(t)}});var uu=T((U0r,Toe)=>{"use strict";var met=vi(),get=Math.max,vet=Math.min;Toe.exports=function(e,t){var r=met(e);return r<0?get(r+t,0):vet(r,t)}});var Gs=T((V0r,Aoe)=>{"use strict";var yet=vi(),_et=Math.min;Aoe.exports=function(e){return e>0?_et(yet(e),9007199254740991):0}});var rn=T((G0r,Moe)=>{"use strict";var xet=Gs();Moe.exports=function(e){return xet(e.length)}});var V0=T((H0r,Ooe)=>{"use strict";var bet=ho(),wet=uu(),Eet=rn(),Coe=function(e){return function(t,r,n){var i=bet(t),o=Eet(i),a=wet(n,o),c;if(e&&r!==r){for(;o>a;)if(c=i[a++],c!==c)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}};Ooe.exports={includes:Coe(!0),indexOf:Coe(!1)}});var eF=T(($0r,Loe)=>{"use strict";var Iet=st(),Jz=Gr(),Tet=ho(),Aet=V0().indexOf,Met=U0(),Doe=Iet([].push);Loe.exports=function(e,t){var r=Tet(e),n=0,i=[],o;for(o in r)!Jz(Met,o)&&Jz(r,o)&&Doe(i,o);for(;t.length>n;)Jz(r,o=t[n++])&&(~Aet(i,o)||Doe(i,o));return i}});var tC=T((W0r,Poe)=>{"use strict";Poe.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var _p=T(Noe=>{"use strict";var Cet=eF(),Oet=tC(),Det=Oet.concat("length","prototype");Noe.f=Object.getOwnPropertyNames||function(t){return Cet(t,Det)}});var $w=T(Roe=>{"use strict";Roe.f=Object.getOwnPropertySymbols});var rC=T((K0r,koe)=>{"use strict";var Let=Er(),Pet=st(),Net=_p(),Ret=$w(),ket=jt(),qet=Pet([].concat);koe.exports=Let("Reflect","ownKeys")||function(t){var r=Net.f(ket(t)),n=Ret.f;return n?qet(r,n(t)):r}});var G0=T((X0r,joe)=>{"use strict";var qoe=Gr(),jet=rC(),zet=Eo(),Fet=ai();joe.exports=function(e,t,r){for(var n=jet(t),i=Fet.f,o=zet.f,a=0;a<n.length;a++){var c=n[a];!qoe(e,c)&&!(r&&qoe(r,c))&&i(e,c,o(t,c))}}});var H0=T((Q0r,zoe)=>{"use strict";var Bet=vt(),Uet=Dr(),Vet=/#|\.prototype\./,Ww=function(e,t){var r=Het[Get(e)];return r===Wet?!0:r===$et?!1:Uet(t)?Bet(t):!!t},Get=Ww.normalize=function(e){return String(e).replace(Vet,".").toLowerCase()},Het=Ww.data={},$et=Ww.NATIVE="N",Wet=Ww.POLYFILL="P";zoe.exports=Ww});var te=T((J0r,Foe)=>{"use strict";var tF=Xt(),Zet=Eo().f,Yet=to(),Ket=jn(),Xet=YM(),Qet=G0(),Jet=H0();Foe.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,c,d,m,v;if(n?a=tF:i?a=tF[r]||Xet(r,{}):a=(tF[r]||{}).prototype,a)for(c in t){if(m=t[c],e.dontCallGetSet?(v=Zet(a,c),d=v&&v.value):d=a[c],o=Jet(n?c:r+(i?".":"#")+c,e.forced),!o&&d!==void 0){if(typeof m==typeof d)continue;Qet(m,d)}(e.sham||d&&d.sham)&&Yet(m,"sham",!0),Ket(a,c,m,e)}}});var nC=T((e_r,Uoe)=>{"use strict";var ett=vr(),ttt=ett("toStringTag"),Boe={};Boe[ttt]="z";Uoe.exports=String(Boe)==="[object z]"});var Hs=T((t_r,Voe)=>{"use strict";var rtt=nC(),ntt=Dr(),iC=aa(),itt=vr(),ott=itt("toStringTag"),att=Object,stt=iC(function(){return arguments}())==="Arguments",ltt=function(e,t){try{return e[t]}catch(r){}};Voe.exports=rtt?iC:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=ltt(t=att(e),ott))=="string"?r:stt?iC(t):(n=iC(t))==="Object"&&ntt(t.callee)?"Arguments":n}});var Mr=T((r_r,Goe)=>{"use strict";var utt=Hs(),ctt=String;Goe.exports=function(e){if(utt(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ctt(e)}});var Ng=T((n_r,Hoe)=>{"use strict";var ftt=eF(),ptt=tC();Hoe.exports=Object.keys||function(t){return ftt(t,ptt)}});var oC=T($oe=>{"use strict";var dtt=gr(),htt=jz(),mtt=ai(),gtt=jt(),vtt=ho(),ytt=Ng();$oe.f=dtt&&!htt?Object.defineProperties:function(t,r){gtt(t);for(var n=vtt(r),i=ytt(r),o=i.length,a=0,c;o>a;)mtt.f(t,c=i[a++],n[c]);return t}});var rF=T((o_r,Woe)=>{"use strict";var _tt=Er();Woe.exports=_tt("document","documentElement")});var Zi=T((a_r,eae)=>{"use strict";var xtt=jt(),btt=oC(),Zoe=tC(),wtt=U0(),Stt=rF(),Ett=Bw(),Itt=Vw(),Yoe=">",Koe="<",iF="prototype",oF="script",Qoe=Itt("IE_PROTO"),nF=function(){},Joe=function(e){return Koe+oF+Yoe+e+Koe+"/"+oF+Yoe},Xoe=function(e){e.write(Joe("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ttt=function(){var e=Ett("iframe"),t="java"+oF+":",r;return e.style.display="none",Stt.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(Joe("document.F=Object")),r.close(),r.F},aC,sC=function(){try{aC=new ActiveXObject("htmlfile")}catch(t){}sC=typeof document!="undefined"?document.domain&&aC?Xoe(aC):Ttt():Xoe(aC);for(var e=Zoe.length;e--;)delete sC[iF][Zoe[e]];return sC()};wtt[Qoe]=!0;eae.exports=Object.create||function(t,r){var n;return t!==null?(nF[iF]=xtt(t),n=new nF,nF[iF]=null,n[Qoe]=t):n=sC(),r===void 0?n:btt.f(n,r)}});var cu=T((s_r,tae)=>{"use strict";var Att=sc(),Mtt=ai(),Ctt=Vs();tae.exports=function(e,t,r){var n=Att(t);n in e?Mtt.f(e,n,Ctt(0,r)):e[n]=r}});var Rg=T((l_r,nae)=>{"use strict";var rae=uu(),Ott=rn(),Dtt=cu(),Ltt=Array,Ptt=Math.max;nae.exports=function(e,t,r){for(var n=Ott(e),i=rae(t,n),o=rae(r===void 0?n:r,n),a=Ltt(Ptt(o-i,0)),c=0;i<o;i++,c++)Dtt(a,c,e[i]);return a.length=c,a}});var lC=T((u_r,aae)=>{"use strict";var Ntt=aa(),Rtt=ho(),iae=_p().f,ktt=Rg(),oae=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qtt=function(e){try{return iae(e)}catch(t){return ktt(oae)}};aae.exports.f=function(t){return oae&&Ntt(t)==="Window"?qtt(t):iae(Rtt(t))}});var Ai=T((c_r,lae)=>{"use strict";var sae=Hw(),jtt=ai();lae.exports=function(e,t,r){return r.get&&sae(r.get,t,{getter:!0}),r.set&&sae(r.set,t,{setter:!0}),jtt.f(e,t,r)}});var aF=T(uae=>{"use strict";var ztt=vr();uae.f=ztt});var uC=T((p_r,cae)=>{"use strict";var Ftt=Xt();cae.exports=Ftt});var qi=T((d_r,pae)=>{"use strict";var fae=uC(),Btt=Gr(),Utt=aF(),Vtt=ai().f;pae.exports=function(e){var t=fae.Symbol||(fae.Symbol={});Btt(t,e)||Vtt(t,e,{value:Utt.f(e)})}});var sF=T((h_r,dae)=>{"use strict";var Gtt=kt(),Htt=Er(),$tt=vr(),Wtt=jn();dae.exports=function(){var e=Htt("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=$tt("toPrimitive");t&&!t[n]&&Wtt(t,n,function(i){return Gtt(r,this)},{arity:1})}});var $s=T((m_r,mae)=>{"use strict";var Ztt=ai().f,Ytt=Gr(),Ktt=vr(),hae=Ktt("toStringTag");mae.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Ytt(e,hae)&&Ztt(e,hae,{configurable:!0,value:t})}});var xp=T((g_r,gae)=>{"use strict";var Xtt=aa(),Qtt=st();gae.exports=function(e){if(Xtt(e)==="Function")return Qtt(e)}});var Kn=T((v_r,yae)=>{"use strict";var vae=xp(),Jtt=Ir(),ert=F0(),trt=vae(vae.bind);yae.exports=function(e,t){return Jtt(e),t===void 0?e:ert?trt(e,t):function(){return e.apply(t,arguments)}}});var uc=T((y_r,_ae)=>{"use strict";var rrt=aa();_ae.exports=Array.isArray||function(t){return rrt(t)==="Array"}});var cc=T((__r,Eae)=>{"use strict";var nrt=st(),irt=vt(),xae=Dr(),ort=Hs(),art=Er(),srt=Uw(),bae=function(){},lrt=[],wae=art("Reflect","construct"),lF=/^\s*(?:class|function)\b/,urt=nrt(lF.exec),crt=!lF.test(bae),Zw=function(t){if(!xae(t))return!1;try{return wae(bae,lrt,t),!0}catch(r){return!1}},Sae=function(t){if(!xae(t))return!1;switch(ort(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return crt||!!urt(lF,srt(t))}catch(r){return!0}};Sae.sham=!0;Eae.exports=!wae||irt(function(){var e;return Zw(Zw.call)||!Zw(Object)||!Zw(function(){e=!0})||e})?Sae:Zw});var Mae=T((x_r,Aae)=>{"use strict";var Iae=uc(),frt=cc(),prt=Lr(),drt=vr(),hrt=drt("species"),Tae=Array;Aae.exports=function(e){var t;return Iae(e)&&(t=e.constructor,frt(t)&&(t===Tae||Iae(t.prototype))?t=void 0:prt(t)&&(t=t[hrt],t===null&&(t=void 0))),t===void 0?Tae:t}});var $0=T((b_r,Cae)=>{"use strict";var mrt=Mae();Cae.exports=function(e,t){return new(mrt(e))(t===0?0:t)}});var Yi=T((w_r,Dae)=>{"use strict";var grt=Kn(),vrt=st(),yrt=vp(),_rt=Xr(),xrt=rn(),brt=$0(),Oae=vrt([].push),Eh=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,c=e===5||o;return function(d,m,v,E){for(var I=_rt(d),M=yrt(I),L=grt(m,v),R=xrt(M),P=0,q=E||brt,j=t?q(d,R):r||a?q(d,0):void 0,B,Z;R>P;P++)if((c||P in M)&&(B=M[P],Z=L(B,P,I),e))if(t)j[P]=Z;else if(Z)switch(e){case 3:return!0;case 5:return B;case 6:return P;case 2:Oae(j,B);}else switch(e){case 4:return!1;case 7:Oae(j,B);}return o?-1:n||i?i:j}};Dae.exports={forEach:Eh(0),map:Eh(1),filter:Eh(2),some:Eh(3),every:Eh(4),find:Eh(5),findIndex:Eh(6),filterReject:Eh(7)}});var Zae=T(()=>{"use strict";var cC=te(),fC=Xt(),vF=kt(),wrt=st(),Srt=Kr(),W0=gr(),Z0=bh(),Ert=vt(),zo=Gr(),Irt=Fa(),pF=jt(),pC=ho(),yF=sc(),Trt=Mr(),dF=Vs(),Kw=Zi(),Nae=Ng(),Art=_p(),Rae=lC(),Mrt=$w(),kae=Eo(),qae=ai(),Crt=oC(),jae=jw(),uF=jn(),Ort=Ai(),_F=Jc(),Drt=Vw(),zae=U0(),Lae=Sh(),Lrt=vr(),Prt=aF(),Nrt=qi(),Rrt=sF(),krt=$s(),Fae=On(),dC=Yi().forEach,Ws=Drt("hidden"),hC="Symbol",Xw="prototype",qrt=Fae.set,Pae=Fae.getterFor(hC),fu=Object[Xw],kg=fC.Symbol,Yw=kg&&kg[Xw],jrt=fC.RangeError,zrt=fC.TypeError,cF=fC.QObject,Bae=kae.f,qg=qae.f,Uae=Rae.f,Frt=jae.f,Vae=wrt([].push),bp=_F("symbols"),Qw=_F("op-symbols"),Brt=_F("wks"),hF=!cF||!cF[Xw]||!cF[Xw].findChild,Gae=function(e,t,r){var n=Bae(fu,t);n&&delete fu[t],qg(e,t,r),n&&e!==fu&&qg(fu,t,n)},mF=W0&&Ert(function(){return Kw(qg({},"a",{get:function(){return qg(this,"a",{value:7}).a}})).a!==7})?Gae:qg,fF=function(e,t){var r=bp[e]=Kw(Yw);return qrt(r,{type:hC,tag:e,description:t}),W0||(r.description=t),r},mC=function(t,r,n){t===fu&&mC(Qw,r,n),pF(t);var i=yF(r);return pF(n),zo(bp,i)?(n.enumerable?(zo(t,Ws)&&t[Ws][i]&&(t[Ws][i]=!1),n=Kw(n,{enumerable:dF(0,!1)})):(zo(t,Ws)||qg(t,Ws,dF(1,{})),t[Ws][i]=!0),mF(t,i,n)):qg(t,i,n)},xF=function(t,r){pF(t);var n=pC(r),i=Nae(n).concat(Wae(n));return dC(i,function(o){(!W0||vF(gF,n,o))&&mC(t,o,n[o])}),t},Urt=function(t,r){return r===void 0?Kw(t):xF(Kw(t),r)},gF=function(t){var r=yF(t),n=vF(Frt,this,r);return this===fu&&zo(bp,r)&&!zo(Qw,r)?!1:n||!zo(this,r)||!zo(bp,r)||zo(this,Ws)&&this[Ws][r]?n:!0},Hae=function(t,r){var n=pC(t),i=yF(r);if(!(n===fu&&zo(bp,i)&&!zo(Qw,i))){var o=Bae(n,i);return o&&zo(bp,i)&&!(zo(n,Ws)&&n[Ws][i])&&(o.enumerable=!0),o}},$ae=function(t){var r=Uae(pC(t)),n=[];return dC(r,function(i){!zo(bp,i)&&!zo(zae,i)&&Vae(n,i)}),n},Wae=function(e){var t=e===fu,r=Uae(t?Qw:pC(e)),n=[];return dC(r,function(i){zo(bp,i)&&(!t||zo(fu,i))&&Vae(n,bp[i])}),n};Z0||(kg=function(){if(Irt(Yw,this))throw new zrt("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:Trt(arguments[0]),r=Lae(t),n=function(i){this===fu&&vF(n,Qw,i),zo(this,Ws)&&zo(this[Ws],r)&&(this[Ws][r]=!1);var o=dF(1,i);try{mF(this,r,o)}catch(a){if(!(a instanceof jrt))throw a;Gae(this,r,o)}};return W0&&hF&&mF(fu,r,{configurable:!0,set:n}),fF(r,t)},Yw=kg[Xw],uF(Yw,"toString",function(){return Pae(this).tag}),uF(kg,"withoutSetter",function(e){return fF(Lae(e),e)}),jae.f=gF,qae.f=mC,Crt.f=xF,kae.f=Hae,Art.f=Rae.f=$ae,Mrt.f=Wae,Prt.f=function(e){return fF(Lrt(e),e)},W0&&(Ort(Yw,"description",{configurable:!0,get:function(){return Pae(this).description}}),Srt||uF(fu,"propertyIsEnumerable",gF,{unsafe:!0})));cC({global:!0,constructor:!0,wrap:!0,forced:!Z0,sham:!Z0},{Symbol:kg});dC(Nae(Brt),function(e){Nrt(e)});cC({target:hC,stat:!0,forced:!Z0},{useSetter:function(){hF=!0},useSimple:function(){hF=!1}});cC({target:"Object",stat:!0,forced:!Z0,sham:!W0},{create:Urt,defineProperty:mC,defineProperties:xF,getOwnPropertyDescriptor:Hae});cC({target:"Object",stat:!0,forced:!Z0},{getOwnPropertyNames:$ae});Rrt();krt(kg,hC);zae[Ws]=!0});var bF=T((I_r,Yae)=>{"use strict";var Vrt=bh();Yae.exports=Vrt&&!!Symbol.for&&!!Symbol.keyFor});var Xae=T(()=>{"use strict";var Grt=te(),Hrt=Er(),$rt=Gr(),Wrt=Mr(),Kae=Jc(),Zrt=bF(),wF=Kae("string-to-symbol-registry"),Yrt=Kae("symbol-to-string-registry");Grt({target:"Symbol",stat:!0,forced:!Zrt},{for:function(e){var t=Wrt(e);if($rt(wF,t))return wF[t];var r=Hrt("Symbol")(t);return wF[t]=r,Yrt[r]=t,r}})});var Jae=T(()=>{"use strict";var Krt=te(),Xrt=Gr(),Qrt=yp(),Jrt=wh(),ent=Jc(),tnt=bF(),Qae=ent("symbol-to-string-registry");Krt({target:"Symbol",stat:!0,forced:!tnt},{keyFor:function(t){if(!Qrt(t))throw new TypeError(Jrt(t)+" is not a symbol");if(Xrt(Qae,t))return Qae[t]}})});var Ba=T((O_r,nse)=>{"use strict";var rnt=F0(),rse=Function.prototype,ese=rse.apply,tse=rse.call;nse.exports=typeof Reflect=="object"&&Reflect.apply||(rnt?tse.bind(ese):function(){return tse.apply(ese,arguments)})});var wp=T((D_r,ise)=>{"use strict";var nnt=st();ise.exports=nnt([].slice)});var SF=T((L_r,lse)=>{"use strict";var int=st(),ose=uc(),ont=Dr(),ase=aa(),ant=Mr(),sse=int([].push);lse.exports=function(e){if(ont(e))return e;if(ose(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?sse(r,i):(typeof i=="number"||ase(i)==="Number"||ase(i)==="String")&&sse(r,ant(i))}var o=r.length,a=!0;return function(c,d){if(a)return a=!1,d;if(ose(this))return d;for(var m=0;m<o;m++)if(r[m]===c)return d}}}});var EF=T(()=>{"use strict";var snt=te(),gse=Er(),vse=Ba(),lnt=kt(),Jw=st(),yse=vt(),use=Dr(),cse=yp(),_se=wp(),unt=SF(),cnt=bh(),fnt=String,Ih=gse("JSON","stringify"),gC=Jw(/./.exec),fse=Jw("".charAt),pnt=Jw("".charCodeAt),dnt=Jw("".replace),hnt=Jw(1 .toString),mnt=/[\uD800-\uDFFF]/g,pse=/^[\uD800-\uDBFF]$/,dse=/^[\uDC00-\uDFFF]$/,hse=!cnt||yse(function(){var e=gse("Symbol")("stringify detection");return Ih([e])!=="[null]"||Ih({a:e})!=="{}"||Ih(Object(e))!=="{}"}),mse=yse(function(){return Ih("\uDF06\uD834")!=="\"\\udf06\\ud834\""||Ih("\uDEAD")!=="\"\\udead\""}),gnt=function(e,t){var r=_se(arguments),n=unt(t);if(!(!use(n)&&(e===void 0||cse(e))))return r[1]=function(i,o){if(use(n)&&(o=lnt(n,this,fnt(i),o)),!cse(o))return o},vse(Ih,null,r)},vnt=function(e,t,r){var n=fse(r,t-1),i=fse(r,t+1);return gC(pse,e)&&!gC(dse,i)||gC(dse,e)&&!gC(pse,n)?"\\u"+hnt(pnt(e,0),16):e};Ih&&snt({target:"JSON",stat:!0,arity:3,forced:hse||mse},{stringify:function(t,r,n){var i=_se(arguments),o=vse(hse?gnt:Ih,null,i);return mse&&typeof o=="string"?dnt(o,mnt,vnt):o}})});var bse=T(()=>{"use strict";var ynt=te(),_nt=bh(),xnt=vt(),xse=$w(),bnt=Xr(),wnt=!_nt||xnt(function(){xse.f(1)});ynt({target:"Object",stat:!0,forced:wnt},{getOwnPropertySymbols:function(t){var r=xse.f;return r?r(bnt(t)):[]}})});var wse=T(()=>{"use strict";Zae();Xae();Jae();EF();bse()});var Cse=T(()=>{"use strict";var Snt=te(),Ent=gr(),Int=Xt(),vC=st(),Tnt=Gr(),Ant=Dr(),Mnt=Fa(),Cnt=Mr(),Ont=Ai(),Dnt=G0(),Sp=Int.Symbol,jg=Sp&&Sp.prototype;Ent&&Ant(Sp)&&(!("description"in jg)||Sp().description!==void 0)&&(IF={},eS=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:Cnt(arguments[0]),r=Mnt(jg,this)?new Sp(t):t===void 0?Sp():Sp(t);return t===""&&(IF[r]=!0),r},Dnt(eS,Sp),eS.prototype=jg,jg.constructor=eS,Sse=String(Sp("description detection"))==="Symbol(description detection)",Ese=vC(jg.valueOf),Ise=vC(jg.toString),Tse=/^Symbol\((.*)\)[^)]+$/,Ase=vC("".replace),Mse=vC("".slice),Ont(jg,"description",{configurable:!0,get:function(){var t=Ese(this);if(Tnt(IF,t))return"";var r=Ise(t),n=Sse?Mse(r,7,-1):Ase(r,Tse,"$1");return n===""?void 0:n}}),Snt({global:!0,constructor:!0,forced:!0},{Symbol:eS}));var IF,eS,Sse,Ese,Ise,Tse,Ase,Mse});var Ose=T(()=>{"use strict";var Lnt=qi();Lnt("asyncIterator")});var Dse=T(()=>{"use strict";var Pnt=qi();Pnt("hasInstance")});var Lse=T(()=>{"use strict";var Nnt=qi();Nnt("isConcatSpreadable")});var Pse=T(()=>{"use strict";var Rnt=qi();Rnt("iterator")});var Nse=T(()=>{"use strict";var knt=qi();knt("match")});var Rse=T(()=>{"use strict";var qnt=qi();qnt("matchAll")});var kse=T(()=>{"use strict";var jnt=qi();jnt("replace")});var qse=T(()=>{"use strict";var znt=qi();znt("search")});var jse=T(()=>{"use strict";var Fnt=qi();Fnt("species")});var zse=T(()=>{"use strict";var Bnt=qi();Bnt("split")});var Fse=T(()=>{"use strict";var Unt=qi(),Vnt=sF();Unt("toPrimitive");Vnt()});var Bse=T(()=>{"use strict";var Gnt=Er(),Hnt=qi(),$nt=$s();Hnt("toStringTag");$nt(Gnt("Symbol"),"Symbol")});var Use=T(()=>{"use strict";var Wnt=qi();Wnt("unscopables")});var tS=T((d1r,Vse)=>{"use strict";var Znt=st(),Ynt=Ir();Vse.exports=function(e,t,r){try{return Znt(Ynt(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var TF=T((h1r,Gse)=>{"use strict";var Knt=Dr(),Xnt=String,Qnt=TypeError;Gse.exports=function(e){if(typeof e=="object"||Knt(e))return e;throw new Qnt("Can't set "+Xnt(e)+" as a prototype")}});var pu=T((m1r,Hse)=>{"use strict";var Jnt=tS(),eit=jt(),tit=TF();Hse.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=Jnt(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return eit(i),tit(o),e?r(i,o):i.__proto__=o,i}}():void 0)});var AF=T((g1r,$se)=>{"use strict";var rit=ai().f;$se.exports=function(e,t,r){r in e||rit(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var zg=T((v1r,Zse)=>{"use strict";var nit=Dr(),iit=Lr(),Wse=pu();Zse.exports=function(e,t,r){var n,i;return Wse&&nit(n=t.constructor)&&n!==r&&iit(i=n.prototype)&&i!==r.prototype&&Wse(e,i),e}});var Fg=T((y1r,Yse)=>{"use strict";var oit=Mr();Yse.exports=function(e,t){return e===void 0?arguments.length<2?"":t:oit(e)}});var MF=T((_1r,Kse)=>{"use strict";var ait=Lr(),sit=to();Kse.exports=function(e,t){ait(t)&&"cause"in t&&sit(e,"cause",t.cause)}});var yC=T((x1r,Jse)=>{"use strict";var lit=st(),Xse=Error,uit=lit("".replace),cit=function(e){return String(new Xse(e).stack)}("zxcasd"),Qse=/\n\s*at [^:]*:[^\n]*/,fit=Qse.test(cit);Jse.exports=function(e,t){if(fit&&typeof e=="string"&&!Xse.prepareStackTrace)for(;t--;)e=uit(e,Qse,"");return e}});var CF=T((b1r,ele)=>{"use strict";var pit=vt(),dit=Vs();ele.exports=!pit(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",dit(1,7)),e.stack!==7):!0})});var _C=T((w1r,rle)=>{"use strict";var hit=to(),mit=yC(),git=CF(),tle=Error.captureStackTrace;rle.exports=function(e,t,r,n){git&&(tle?tle(e,t):hit(e,"stack",mit(r,n)))}});var OF=T((S1r,ule)=>{"use strict";var nle=Er(),vit=Gr(),ile=to(),yit=Fa(),ole=pu(),ale=G0(),sle=AF(),_it=zg(),xit=Fg(),bit=MF(),wit=_C(),Sit=gr(),lle=Kr();ule.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,a=e.split("."),c=a[a.length-1],d=nle.apply(null,a);if(d){var m=d.prototype;if(!lle&&vit(m,"cause")&&delete m.cause,!r)return d;var v=nle("Error"),E=t(function(I,M){var L=xit(n?M:I,void 0),R=n?new d(I):new d;return L!==void 0&&ile(R,"message",L),wit(R,E,R.stack,2),this&&yit(m,this)&&_it(R,this,E),arguments.length>o&&bit(R,arguments[o]),R});if(E.prototype=m,c!=="Error"?ole?ole(E,v):ale(E,v,{name:!0}):Sit&&i in d&&(sle(E,d,i),sle(E,d,"prepareStackTrace")),ale(E,d),!lle)try{m.name!==c&&ile(m,"name",c),m.constructor=E}catch(I){}return E}}});var dle=T(()=>{"use strict";var fle=te(),Eit=Xt(),ef=Ba(),ple=OF(),DF="WebAssembly",cle=Eit[DF],xC=new Error("e",{cause:7}).cause!==7,Bg=function(e,t){var r={};r[e]=ple(e,t,xC),fle({global:!0,constructor:!0,arity:1,forced:xC},r)},LF=function(e,t){if(cle&&cle[e]){var r={};r[e]=ple(DF+"."+e,t,xC),fle({target:DF,stat:!0,constructor:!0,arity:1,forced:xC},r)}};Bg("Error",function(e){return function(r){return ef(e,this,arguments)}});Bg("EvalError",function(e){return function(r){return ef(e,this,arguments)}});Bg("RangeError",function(e){return function(r){return ef(e,this,arguments)}});Bg("ReferenceError",function(e){return function(r){return ef(e,this,arguments)}});Bg("SyntaxError",function(e){return function(r){return ef(e,this,arguments)}});Bg("TypeError",function(e){return function(r){return ef(e,this,arguments)}});Bg("URIError",function(e){return function(r){return ef(e,this,arguments)}});LF("CompileError",function(e){return function(r){return ef(e,this,arguments)}});LF("LinkError",function(e){return function(r){return ef(e,this,arguments)}});LF("RuntimeError",function(e){return function(r){return ef(e,this,arguments)}})});var PF=T((T1r,mle)=>{"use strict";var Iit=gr(),Tit=vt(),Ait=jt(),Mit=Zi(),hle=Fg(),bC=Error.prototype.toString,Cit=Tit(function(){if(Iit){var e=Mit(Object.defineProperty({},"name",{get:function(){return this===e}}));if(bC.call(e)!=="true")return!0}return bC.call({message:1,name:2})!=="2: 1"||bC.call({})!=="Error"});mle.exports=Cit?function(){var t=Ait(this),r=hle(t.name,"Error"),n=hle(t.message);return r?n?r+": "+n:r:n}:bC});var yle=T(()=>{"use strict";var Oit=jn(),gle=PF(),vle=Error.prototype;vle.toString!==gle&&Oit(vle,"toString",gle)});var wC=T((C1r,_le)=>{"use strict";var Dit=vt();_le.exports=!Dit(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var ro=T((O1r,ble)=>{"use strict";var Lit=Gr(),Pit=Dr(),Nit=Xr(),Rit=Vw(),kit=wC(),xle=Rit("IE_PROTO"),NF=Object,qit=NF.prototype;ble.exports=kit?NF.getPrototypeOf:function(e){var t=Nit(e);if(Lit(t,xle))return t[xle];var r=t.constructor;return Pit(r)&&t instanceof r?r.prototype:t instanceof NF?qit:null}});var Ug=T((D1r,wle)=>{"use strict";wle.exports={}});var SC=T((L1r,Sle)=>{"use strict";var jit=vr(),zit=Ug(),Fit=jit("iterator"),Bit=Array.prototype;Sle.exports=function(e){return e!==void 0&&(zit.Array===e||Bit[Fit]===e)}});var Ep=T((P1r,Ile)=>{"use strict";var Uit=Hs(),Ele=Wi(),Vit=eo(),Git=Ug(),Hit=vr(),$it=Hit("iterator");Ile.exports=function(e){if(!Vit(e))return Ele(e,$it)||Ele(e,"@@iterator")||Git[Uit(e)]}});var Th=T((N1r,Tle)=>{"use strict";var Wit=kt(),Zit=Ir(),Yit=jt(),Kit=wh(),Xit=Ep(),Qit=TypeError;Tle.exports=function(e,t){var r=arguments.length<2?Xit(e):t;if(Zit(r))return Yit(Wit(r,e));throw new Qit(Kit(e)+" is not iterable")}});var Ip=T((R1r,Mle)=>{"use strict";var Jit=kt(),Ale=jt(),eot=Wi();Mle.exports=function(e,t,r){var n,i;Ale(e);try{if(n=eot(e,"return"),!n){if(t==="throw")throw r;return r}n=Jit(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return Ale(n),r}});var ji=T((k1r,Lle)=>{"use strict";var tot=Kn(),rot=kt(),not=jt(),iot=wh(),oot=SC(),aot=rn(),Cle=Fa(),sot=Th(),lot=Ep(),Ole=Ip(),uot=TypeError,EC=function(e,t){this.stopped=e,this.result=t},Dle=EC.prototype;Lle.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),c=!!(r&&r.INTERRUPTED),d=tot(t,n),m,v,E,I,M,L,R,P=function(j){return m&&Ole(m,"normal",j),new EC(!0,j)},q=function(j){return i?(not(j),c?d(j[0],j[1],P):d(j[0],j[1])):c?d(j,P):d(j)};if(o)m=e.iterator;else if(a)m=e;else{if(v=lot(e),!v)throw new uot(iot(e)+" is not iterable");if(oot(v)){for(E=0,I=aot(e);I>E;E++)if(M=q(e[E]),M&&Cle(Dle,M))return M;return new EC(!1)}m=sot(e,v)}for(L=o?e.next:m.next;!(R=rot(L,m)).done;){try{M=q(R.value)}catch(j){Ole(m,"throw",j)}if(typeof M=="object"&&M&&Cle(Dle,M))return M}return new EC(!1)}});var Nle=T(()=>{"use strict";var cot=te(),fot=Fa(),pot=ro(),IC=pu(),dot=G0(),Ple=Zi(),RF=to(),kF=Vs(),hot=MF(),mot=_C(),got=ji(),vot=Fg(),yot=vr(),_ot=yot("toStringTag"),TC=Error,xot=[].push,Y0=function(t,r){var n=fot(qF,this),i;IC?i=IC(new TC,n?pot(this):qF):(i=n?this:Ple(qF),RF(i,_ot,"Error")),r!==void 0&&RF(i,"message",vot(r)),mot(i,Y0,i.stack,1),arguments.length>2&&hot(i,arguments[2]);var o=[];return got(t,xot,{that:o}),RF(i,"errors",o),i};IC?IC(Y0,TC):dot(Y0,TC,{name:!0});var qF=Y0.prototype=Ple(TC.prototype,{constructor:kF(1,Y0),message:kF(1,""),name:kF(1,"AggregateError")});cot({global:!0,constructor:!0,arity:2},{AggregateError:Y0})});var jF=T(()=>{"use strict";Nle()});var jle=T(()=>{"use strict";var bot=te(),wot=Er(),Sot=Ba(),Rle=vt(),Eot=OF(),zF="AggregateError",kle=wot(zF),qle=!Rle(function(){return kle([1]).errors[0]!==1})&&Rle(function(){return kle([1],zF,{cause:7}).cause!==7});bot({global:!0,constructor:!0,arity:2,forced:qle},{AggregateError:Eot(zF,function(e){return function(r,n){return Sot(e,this,arguments)}},qle,!0)})});var Ni=T((V1r,zle)=>{"use strict";var Iot=vr(),Tot=Zi(),Aot=ai().f,FF=Iot("unscopables"),BF=Array.prototype;BF[FF]===void 0&&Aot(BF,FF,{configurable:!0,value:Tot(null)});zle.exports=function(e){BF[FF][e]=!0}});var UF=T(()=>{"use strict";var Mot=te(),Cot=Xr(),Oot=rn(),Dot=vi(),Lot=Ni();Mot({target:"Array",proto:!0},{at:function(t){var r=Cot(this),n=Oot(r),i=Dot(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});Lot("at")});var Ah=T(($1r,Fle)=>{"use strict";var Pot=TypeError,Not=9007199254740991;Fle.exports=function(e){if(e>Not)throw Pot("Maximum allowed index exceeded");return e}});var K0=T((W1r,Ble)=>{"use strict";var Rot=vt(),kot=vr(),qot=Qc(),jot=kot("species");Ble.exports=function(e){return qot>=51||!Rot(function(){var t=[],r=t.constructor={};return r[jot]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var Hle=T(()=>{"use strict";var zot=te(),Fot=vt(),Bot=uc(),Uot=Lr(),Vot=Xr(),Got=rn(),Ule=Ah(),Vle=cu(),Hot=$0(),$ot=K0(),Wot=vr(),Zot=Qc(),Gle=Wot("isConcatSpreadable"),Yot=Zot>=51||!Fot(function(){var e=[];return e[Gle]=!1,e.concat()[0]!==e}),Kot=function(e){if(!Uot(e))return!1;var t=e[Gle];return t!==void 0?!!t:Bot(e)},Xot=!Yot||!$ot("concat");zot({target:"Array",proto:!0,arity:1,forced:Xot},{concat:function(t){var r=Vot(this),n=Hot(r,0),i=0,o,a,c,d,m;for(o=-1,c=arguments.length;o<c;o++)if(m=o===-1?r:arguments[o],Kot(m))for(d=Got(m),Ule(i+d),a=0;a<d;a++,i++)a in m&&Vle(n,i,m[a]);else Ule(i+1),Vle(n,i++,m);return n.length=i,n}})});var rS=T((K1r,Wle)=>{"use strict";var $le=wh(),Qot=TypeError;Wle.exports=function(e,t){if(!delete e[t])throw new Qot("Cannot delete property "+$le(t)+" of "+$le(e))}});var GF=T((X1r,Zle)=>{"use strict";var Jot=Xr(),VF=uu(),eat=rn(),tat=rS(),rat=Math.min;Zle.exports=[].copyWithin||function(t,r){var n=Jot(this),i=eat(n),o=VF(t,i),a=VF(r,i),c=arguments.length>2?arguments[2]:void 0,d=rat((c===void 0?i:VF(c,i))-a,i-o),m=1;for(a<o&&o<a+d&&(m=-1,a+=d-1,o+=d-1);d-->0;)a in n?n[o]=n[a]:tat(n,o),o+=m,a+=m;return n}});var Yle=T(()=>{"use strict";var nat=te(),iat=GF(),oat=Ni();nat({target:"Array",proto:!0},{copyWithin:iat});oat("copyWithin")});var du=T((exr,Kle)=>{"use strict";var aat=vt();Kle.exports=function(e,t){var r=[][e];return!!r&&aat(function(){r.call(null,t||function(){return 1},1)})}});var Xle=T(()=>{"use strict";var sat=te(),lat=Yi().every,uat=du(),cat=uat("every");sat({target:"Array",proto:!0,forced:!cat},{every:function(t){return lat(this,t,arguments.length>1?arguments[1]:void 0)}})});var AC=T((nxr,Jle)=>{"use strict";var fat=Xr(),Qle=uu(),pat=rn();Jle.exports=function(t){for(var r=fat(this),n=pat(r),i=arguments.length,o=Qle(i>1?arguments[1]:void 0,n),a=i>2?arguments[2]:void 0,c=a===void 0?n:Qle(a,n);c>o;)r[o++]=t;return r}});var eue=T(()=>{"use strict";var dat=te(),hat=AC(),mat=Ni();dat({target:"Array",proto:!0},{fill:hat});mat("fill")});var tue=T(()=>{"use strict";var gat=te(),vat=Yi().filter,yat=K0(),_at=yat("filter");gat({target:"Array",proto:!0,forced:!_at},{filter:function(t){return vat(this,t,arguments.length>1?arguments[1]:void 0)}})});var nue=T(()=>{"use strict";var xat=te(),bat=Yi().find,wat=Ni(),HF="find",rue=!0;HF in[]&&Array(1)[HF](function(){rue=!1});xat({target:"Array",proto:!0,forced:rue},{find:function(t){return bat(this,t,arguments.length>1?arguments[1]:void 0)}});wat(HF)});var oue=T(()=>{"use strict";var Sat=te(),Eat=Yi().findIndex,Iat=Ni(),$F="findIndex",iue=!0;$F in[]&&Array(1)[$F](function(){iue=!1});Sat({target:"Array",proto:!0,forced:iue},{findIndex:function(t){return Eat(this,t,arguments.length>1?arguments[1]:void 0)}});Iat($F)});var nS=T((pxr,sue)=>{"use strict";var Tat=Kn(),Aat=vp(),Mat=Xr(),Cat=rn(),aue=function(e){var t=e===1;return function(r,n,i){for(var o=Mat(r),a=Aat(o),c=Tat(n,i),d=Cat(a),m,v;d-->0;)if(m=a[d],v=c(m,d,o),v)switch(e){case 0:return m;case 1:return d;}return t?-1:void 0}};sue.exports={findLast:aue(0),findLastIndex:aue(1)}});var WF=T(()=>{"use strict";var Oat=te(),Dat=nS().findLast,Lat=Ni();Oat({target:"Array",proto:!0},{findLast:function(t){return Dat(this,t,arguments.length>1?arguments[1]:void 0)}});Lat("findLast")});var ZF=T(()=>{"use strict";var Pat=te(),Nat=nS().findLastIndex,Rat=Ni();Pat({target:"Array",proto:!0},{findLastIndex:function(t){return Nat(this,t,arguments.length>1?arguments[1]:void 0)}});Rat("findLastIndex")});var YF=T((vxr,uue)=>{"use strict";var kat=uc(),qat=rn(),jat=Ah(),zat=Kn(),lue=function(e,t,r,n,i,o,a,c){for(var d=i,m=0,v=a?zat(a,c):!1,E,I;m<n;)m in r&&(E=v?v(r[m],m,t):r[m],o>0&&kat(E)?(I=qat(E),d=lue(e,t,E,I,d,o-1)-1):(jat(d+1),e[d]=E),d++),m++;return d};uue.exports=lue});var cue=T(()=>{"use strict";var Fat=te(),Bat=YF(),Uat=Xr(),Vat=rn(),Gat=vi(),Hat=$0();Fat({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=Uat(this),n=Vat(r),i=Hat(r,0);return i.length=Bat(i,r,r,n,0,t===void 0?1:Gat(t)),i}})});var fue=T(()=>{"use strict";var $at=te(),Wat=YF(),Zat=Ir(),Yat=Xr(),Kat=rn(),Xat=$0();$at({target:"Array",proto:!0},{flatMap:function(t){var r=Yat(this),n=Kat(r),i;return Zat(t),i=Xat(r,0),i.length=Wat(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var KF=T((wxr,pue)=>{"use strict";var Qat=Yi().forEach,Jat=du(),est=Jat("forEach");pue.exports=est?[].forEach:function(t){return Qat(this,t,arguments.length>1?arguments[1]:void 0)}});var hue=T(()=>{"use strict";var tst=te(),due=KF();tst({target:"Array",proto:!0,forced:[].forEach!==due},{forEach:due})});var MC=T((Ixr,mue)=>{"use strict";var rst=jt(),nst=Ip();mue.exports=function(e,t,r,n){try{return n?t(rst(r)[0],r[1]):t(r)}catch(i){nst(e,"throw",i)}}});var XF=T((Txr,yue)=>{"use strict";var ist=Kn(),ost=kt(),ast=Xr(),sst=MC(),lst=SC(),ust=cc(),cst=rn(),gue=cu(),fst=Th(),pst=Ep(),vue=Array;yue.exports=function(t){var r=ast(t),n=ust(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=ist(o,i>2?arguments[2]:void 0));var c=pst(r),d=0,m,v,E,I,M,L;if(c&&!(this===vue&&lst(c)))for(I=fst(r,c),M=I.next,v=n?new this:[];!(E=ost(M,I)).done;d++)L=a?sst(I,o,[E.value,d],!0):E.value,gue(v,d,L);else for(m=cst(r),v=n?new this(m):vue(m);m>d;d++)L=a?o(r[d],d):r[d],gue(v,d,L);return v.length=d,v}});var iS=T((Axr,wue)=>{"use strict";var dst=vr(),xue=dst("iterator"),bue=!1;try{_ue=0,QF={next:function(){return{done:!!_ue++}},return:function(){bue=!0}},QF[xue]=function(){return this},Array.from(QF,function(){throw 2})}catch(e){}var _ue,QF;wue.exports=function(e,t){try{if(!t&&!bue)return!1}catch(i){return!1}var r=!1;try{var n={};n[xue]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var Sue=T(()=>{"use strict";var hst=te(),mst=XF(),gst=iS(),vst=!gst(function(e){Array.from(e)});hst({target:"Array",stat:!0,forced:vst},{from:mst})});var Eue=T(()=>{"use strict";var yst=te(),_st=V0().includes,xst=vt(),bst=Ni(),wst=xst(function(){return!Array(1).includes()});yst({target:"Array",proto:!0,forced:wst},{includes:function(t){return _st(this,t,arguments.length>1?arguments[1]:void 0)}});bst("includes")});var Tue=T(()=>{"use strict";var Sst=te(),Est=xp(),Ist=V0().indexOf,Tst=du(),JF=Est([].indexOf),Iue=!!JF&&1/JF([1],1,-0)<0,Ast=Iue||!Tst("indexOf");Sst({target:"Array",proto:!0,forced:Ast},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return Iue?JF(this,t,r)||0:Ist(this,t,r)}})});var Aue=T(()=>{"use strict";var Mst=te(),Cst=uc();Mst({target:"Array",stat:!0},{isArray:Cst})});var Vg=T((kxr,Oue)=>{"use strict";var Ost=vt(),Dst=Dr(),Lst=Lr(),Pst=Zi(),Mue=ro(),Nst=jn(),Rst=vr(),kst=Kr(),r6=Rst("iterator"),Cue=!1,Tp,e6,t6;[].keys&&(t6=[].keys(),"next"in t6?(e6=Mue(Mue(t6)),e6!==Object.prototype&&(Tp=e6)):Cue=!0);var qst=!Lst(Tp)||Ost(function(){var e={};return Tp[r6].call(e)!==e});qst?Tp={}:kst&&(Tp=Pst(Tp));Dst(Tp[r6])||Nst(Tp,r6,function(){return this});Oue.exports={IteratorPrototype:Tp,BUGGY_SAFARI_ITERATORS:Cue}});var Mh=T((qxr,Due)=>{"use strict";var jst=Vg().IteratorPrototype,zst=Zi(),Fst=Vs(),Bst=$s(),Ust=Ug(),Vst=function(){return this};Due.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=zst(jst,{next:Fst(+!n,r)}),Bst(e,i,!1,!0),Ust[i]=Vst,e}});var DC=T((jxr,Bue)=>{"use strict";var Gst=te(),Hst=kt(),CC=Kr(),zue=Lg(),$st=Dr(),Wst=Mh(),Lue=ro(),Pue=pu(),Zst=$s(),Yst=to(),n6=jn(),Kst=vr(),Nue=Ug(),Fue=Vg(),Xst=zue.PROPER,Qst=zue.CONFIGURABLE,Rue=Fue.IteratorPrototype,OC=Fue.BUGGY_SAFARI_ITERATORS,oS=Kst("iterator"),kue="keys",aS="values",que="entries",jue=function(){return this};Bue.exports=function(e,t,r,n,i,o,a){Wst(r,t,n);var c=function(q){if(q===i&&I)return I;if(!OC&&q&&q in v)return v[q];switch(q){case kue:return function(){return new r(this,q)};case aS:return function(){return new r(this,q)};case que:return function(){return new r(this,q)};}return function(){return new r(this)}},d=t+" Iterator",m=!1,v=e.prototype,E=v[oS]||v["@@iterator"]||i&&v[i],I=!OC&&E||c(i),M=t==="Array"&&v.entries||E,L,R,P;if(M&&(L=Lue(M.call(new e)),L!==Object.prototype&&L.next&&(!CC&&Lue(L)!==Rue&&(Pue?Pue(L,Rue):$st(L[oS])||n6(L,oS,jue)),Zst(L,d,!0,!0),CC&&(Nue[d]=jue))),Xst&&i===aS&&E&&E.name!==aS&&(!CC&&Qst?Yst(v,"name",aS):(m=!0,I=function(){return Hst(E,this)})),i)if(R={values:c(aS),keys:o?I:c(kue),entries:c(que)},a)for(P in R)(OC||m||!(P in v))&&n6(v,P,R[P]);else Gst({target:t,proto:!0,forced:OC||m},R);return(!CC||a)&&v[oS]!==I&&n6(v,oS,I,{name:i}),Nue[t]=I,R}});var sa=T((zxr,Uue)=>{"use strict";Uue.exports=function(e,t){return{value:e,done:t}}});var sS=T((Fxr,Wue)=>{"use strict";var Jst=ho(),i6=Ni(),Vue=Ug(),Hue=On(),elt=ai().f,tlt=DC(),LC=sa(),rlt=Kr(),nlt=gr(),$ue="Array Iterator",ilt=Hue.set,olt=Hue.getterFor($ue);Wue.exports=tlt(Array,"Array",function(e,t){ilt(this,{type:$ue,target:Jst(e),index:0,kind:t})},function(){var e=olt(this),t=e.target,r=e.kind,n=e.index++;if(!t||n>=t.length)return e.target=void 0,LC(void 0,!0);switch(r){case"keys":return LC(n,!1);case"values":return LC(t[n],!1);}return LC([n,t[n]],!1)},"values");var Gue=Vue.Arguments=Vue.Array;i6("keys");i6("values");i6("entries");if(!rlt&&nlt&&Gue.name!=="values")try{elt(Gue,"name",{value:"values"})}catch(e){}});var Zue=T(()=>{"use strict";var alt=te(),slt=st(),llt=vp(),ult=ho(),clt=du(),flt=slt([].join),plt=llt!==Object,dlt=plt||!clt("join",",");alt({target:"Array",proto:!0,forced:dlt},{join:function(t){return flt(ult(this),t===void 0?",":t)}})});var a6=T((Vxr,Kue)=>{"use strict";var hlt=Ba(),mlt=ho(),glt=vi(),vlt=rn(),ylt=du(),_lt=Math.min,o6=[].lastIndexOf,Yue=!!o6&&1/[1].lastIndexOf(1,-0)<0,xlt=ylt("lastIndexOf"),blt=Yue||!xlt;Kue.exports=blt?function(t){if(Yue)return hlt(o6,this,arguments)||0;var r=mlt(this),n=vlt(r),i=n-1;for(arguments.length>1&&(i=_lt(i,glt(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:o6});var Que=T(()=>{"use strict";var wlt=te(),Xue=a6();wlt({target:"Array",proto:!0,forced:Xue!==[].lastIndexOf},{lastIndexOf:Xue})});var Jue=T(()=>{"use strict";var Slt=te(),Elt=Yi().map,Ilt=K0(),Tlt=Ilt("map");Slt({target:"Array",proto:!0,forced:!Tlt},{map:function(t){return Elt(this,t,arguments.length>1?arguments[1]:void 0)}})});var tce=T(()=>{"use strict";var Alt=te(),Mlt=vt(),Clt=cc(),Olt=cu(),ece=Array,Dlt=Mlt(function(){function e(){}return!(ece.of.call(e)instanceof e)});Alt({target:"Array",stat:!0,forced:Dlt},{of:function(){for(var t=0,r=arguments.length,n=new(Clt(this)?this:ece)(r);r>t;)Olt(n,t,arguments[t++]);return n.length=r,n}})});var PC=T((Kxr,rce)=>{"use strict";var Llt=gr(),Plt=uc(),Nlt=TypeError,Rlt=Object.getOwnPropertyDescriptor,klt=Llt&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();rce.exports=klt?function(e,t){if(Plt(e)&&!Rlt(e,"length").writable)throw new Nlt("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var nce=T(()=>{"use strict";var qlt=te(),jlt=Xr(),zlt=rn(),Flt=PC(),Blt=Ah(),Ult=vt(),Vlt=Ult(function(){return[].push.call({length:4294967296},1)!==4294967297}),Glt=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Hlt=Vlt||!Glt();qlt({target:"Array",proto:!0,arity:1,forced:Hlt},{push:function(t){var r=jlt(this),n=zlt(r),i=arguments.length;Blt(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return Flt(r,n),n}})});var lS=T((Jxr,oce)=>{"use strict";var $lt=Ir(),Wlt=Xr(),Zlt=vp(),Ylt=rn(),Klt=TypeError,ice=function(e){return function(t,r,n,i){$lt(r);var o=Wlt(t),a=Zlt(o),c=Ylt(o),d=e?c-1:0,m=e?-1:1;if(n<2)for(;;){if(d in a){i=a[d],d+=m;break}if(d+=m,e?d<0:c<=d)throw new Klt("Reduce of empty array with no initial value")}for(;e?d>=0:c>d;d+=m)d in a&&(i=r(i,a[d],d,o));return i}};oce.exports={left:ice(!1),right:ice(!0)}});var tf=T((ebr,ace)=>{"use strict";var Xlt=Xt(),Qlt=aa();ace.exports=Qlt(Xlt.process)==="process"});var lce=T(()=>{"use strict";var Jlt=te(),eut=lS().left,tut=du(),sce=Qc(),rut=tf(),nut=!rut&&sce>79&&sce<83,iut=nut||!tut("reduce");Jlt({target:"Array",proto:!0,forced:iut},{reduce:function(t){var r=arguments.length;return eut(this,t,r,r>1?arguments[1]:void 0)}})});var cce=T(()=>{"use strict";var out=te(),aut=lS().right,sut=du(),uce=Qc(),lut=tf(),uut=!lut&&uce>79&&uce<83,cut=uut||!sut("reduceRight");out({target:"Array",proto:!0,forced:cut},{reduceRight:function(t){return aut(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var pce=T(()=>{"use strict";var fut=te(),put=st(),dut=uc(),hut=put([].reverse),fce=[1,2];fut({target:"Array",proto:!0,forced:String(fce)===String(fce.reverse())},{reverse:function(){return dut(this)&&(this.length=this.length),hut(this)}})});var mce=T(()=>{"use strict";var mut=te(),dce=uc(),gut=cc(),vut=Lr(),hce=uu(),yut=rn(),_ut=ho(),xut=cu(),but=vr(),wut=K0(),Sut=wp(),Eut=wut("slice"),Iut=but("species"),s6=Array,Tut=Math.max;mut({target:"Array",proto:!0,forced:!Eut},{slice:function(t,r){var n=_ut(this),i=yut(n),o=hce(t,i),a=hce(r===void 0?i:r,i),c,d,m;if(dce(n)&&(c=n.constructor,gut(c)&&(c===s6||dce(c.prototype))?c=void 0:vut(c)&&(c=c[Iut],c===null&&(c=void 0)),c===s6||c===void 0))return Sut(n,o,a);for(d=new(c===void 0?s6:c)(Tut(a-o,0)),m=0;o<a;o++,m++)o in n&&xut(d,m,n[o]);return d.length=m,d}})});var gce=T(()=>{"use strict";var Aut=te(),Mut=Yi().some,Cut=du(),Out=Cut("some");Aut({target:"Array",proto:!0,forced:!Out},{some:function(t){return Mut(this,t,arguments.length>1?arguments[1]:void 0)}})});var NC=T((fbr,yce)=>{"use strict";var vce=Rg(),Dut=Math.floor,l6=function(e,t){var r=e.length,n=Dut(r/2);return r<8?Lut(e,t):Put(e,l6(vce(e,0,n),t),l6(vce(e,n),t),t)},Lut=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},Put=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,c=0;a<i||c<o;)e[a+c]=a<i&&c<o?n(t[a],r[c])<=0?t[a++]:r[c++]:a<i?t[a++]:r[c++];return e};yce.exports=l6});var u6=T((pbr,xce)=>{"use strict";var Nut=Xc(),_ce=Nut.match(/firefox\/(\d+)/i);xce.exports=!!_ce&&+_ce[1]});var c6=T((dbr,bce)=>{"use strict";var Rut=Xc();bce.exports=/MSIE|Trident/.test(Rut)});var RC=T((hbr,Sce)=>{"use strict";var kut=Xc(),wce=kut.match(/AppleWebKit\/(\d+)\./);Sce.exports=!!wce&&+wce[1]});var Lce=T(()=>{"use strict";var qut=te(),Oce=st(),jut=Ir(),zut=Xr(),Ece=rn(),Fut=rS(),Ice=Mr(),f6=vt(),But=NC(),Uut=du(),Tce=u6(),Vut=c6(),Ace=Qc(),Mce=RC(),Ch=[],Cce=Oce(Ch.sort),Gut=Oce(Ch.push),Hut=f6(function(){Ch.sort(void 0)}),$ut=f6(function(){Ch.sort(null)}),Wut=Uut("sort"),Dce=!f6(function(){if(Ace)return Ace<70;if(!(Tce&&Tce>3)){if(Vut)return!0;if(Mce)return Mce<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)Ch.push({k:r+i,v:n})}for(Ch.sort(function(o,a){return a.v-o.v}),i=0;i<Ch.length;i++)r=Ch[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),Zut=Hut||!$ut||!Wut||!Dce,Yut=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Ice(t)>Ice(r)?1:-1}};qut({target:"Array",proto:!0,forced:Zut},{sort:function(t){t!==void 0&&jut(t);var r=zut(this);if(Dce)return t===void 0?Cce(r):Cce(r,t);var n=[],i=Ece(r),o,a;for(a=0;a<i;a++)a in r&&Gut(n,r[a]);for(But(n,Yut(t)),o=Ece(n),a=0;a<o;)r[a]=n[a++];for(;a<i;)Fut(r,a++);return r}})});var Oh=T((vbr,Nce)=>{"use strict";var Kut=Er(),Xut=Ai(),Qut=vr(),Jut=gr(),Pce=Qut("species");Nce.exports=function(e){var t=Kut(e);Jut&&t&&!t[Pce]&&Xut(t,Pce,{configurable:!0,get:function(){return this}})}});var Rce=T(()=>{"use strict";var ect=Oh();ect("Array")});var kce=T(()=>{"use strict";var tct=te(),rct=Xr(),nct=uu(),ict=vi(),oct=rn(),act=PC(),sct=Ah(),lct=$0(),uct=cu(),p6=rS(),cct=K0(),fct=cct("splice"),pct=Math.max,dct=Math.min;tct({target:"Array",proto:!0,forced:!fct},{splice:function(t,r){var n=rct(this),i=oct(n),o=nct(t,i),a=arguments.length,c,d,m,v,E,I;for(a===0?c=d=0:a===1?(c=0,d=i-o):(c=a-2,d=dct(pct(ict(r),0),i-o)),sct(i+c-d),m=lct(n,d),v=0;v<d;v++)E=o+v,E in n&&uct(m,v,n[E]);if(m.length=d,c<d){for(v=o;v<i-d;v++)E=v+d,I=v+c,E in n?n[I]=n[E]:p6(n,I);for(v=i;v>i-d+c;v--)p6(n,v-1)}else if(c>d)for(v=i-d;v>o;v--)E=v+d-1,I=v+c-1,E in n?n[I]=n[E]:p6(n,I);for(v=0;v<c;v++)n[v+o]=arguments[v+2];return act(n,i-d+c),m}})});var d6=T((wbr,qce)=>{"use strict";var hct=rn();qce.exports=function(e,t){for(var r=hct(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var h6=T(()=>{"use strict";var mct=te(),gct=d6(),vct=ho(),yct=Ni(),_ct=Array;mct({target:"Array",proto:!0},{toReversed:function(){return gct(vct(this),_ct)}});yct("toReversed")});var Gg=T((Ibr,jce)=>{"use strict";var xct=rn();jce.exports=function(e,t){for(var r=0,n=xct(t),i=new e(n);n>r;)i[r]=t[r++];return i}});var m6=T((Tbr,zce)=>{"use strict";var bct=Xt();zce.exports=function(e){return bct[e].prototype}});var g6=T(()=>{"use strict";var wct=te(),Sct=st(),Ect=Ir(),Ict=ho(),Tct=Gg(),Act=m6(),Mct=Ni(),Cct=Array,Oct=Sct(Act("Array").sort);wct({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&Ect(t);var r=Ict(this),n=Tct(Cct,r);return Oct(n,t)}});Mct("toSorted")});var v6=T(()=>{"use strict";var Dct=te(),Lct=Ni(),Pct=Ah(),Nct=rn(),Rct=uu(),kct=ho(),qct=vi(),jct=Array,zct=Math.max,Fct=Math.min;Dct({target:"Array",proto:!0},{toSpliced:function(t,r){var n=kct(this),i=Nct(n),o=Rct(t,i),a=arguments.length,c=0,d,m,v,E;for(a===0?d=m=0:a===1?(d=0,m=i-o):(d=a-2,m=Fct(zct(qct(r),0),i-o)),v=Pct(i+d-m),E=jct(v);c<o;c++)E[c]=n[c];for(;c<o+d;c++)E[c]=arguments[c-o+2];for(;c<v;c++)E[c]=n[c+m-d];return E}});Lct("toSpliced")});var Fce=T(()=>{"use strict";var Bct=Ni();Bct("flat")});var Bce=T(()=>{"use strict";var Uct=Ni();Uct("flatMap")});var Uce=T(()=>{"use strict";var Vct=te(),Gct=Xr(),Hct=rn(),$ct=PC(),Wct=rS(),Zct=Ah(),Yct=[].unshift(0)!==1,Kct=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},Xct=Yct||!Kct();Vct({target:"Array",proto:!0,arity:1,forced:Xct},{unshift:function(t){var r=Gct(this),n=Hct(r),i=arguments.length;if(i){Zct(n+i);for(var o=n;o--;){var a=o+i;o in r?r[a]=r[o]:Wct(r,a)}for(var c=0;c<i;c++)r[c]=arguments[c]}return $ct(r,n+i)}})});var y6=T((qbr,Vce)=>{"use strict";var Qct=rn(),Jct=vi(),eft=RangeError;Vce.exports=function(e,t,r,n){var i=Qct(e),o=Jct(r),a=o<0?i+o:o;if(a>=i||a<0)throw new eft("Incorrect index");for(var c=new t(i),d=0;d<i;d++)c[d]=d===a?n:e[d];return c}});var _6=T(()=>{"use strict";var tft=te(),rft=y6(),nft=ho(),ift=Array;tft({target:"Array",proto:!0},{with:function(e,t){return rft(nft(this),ift,e,t)}})});var kC=T((Fbr,Gce)=>{"use strict";Gce.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var hu=T((Bbr,Hce)=>{"use strict";var oft=jn();Hce.exports=function(e,t,r){for(var n in t)oft(e,n,t[n],r);return e}});var Ua=T((Ubr,$ce)=>{"use strict";var aft=Fa(),sft=TypeError;$ce.exports=function(e,t){if(aft(t,e))return e;throw new sft("Incorrect invocation")}});var X0=T((Vbr,Wce)=>{"use strict";var lft=vi(),uft=Gs(),cft=RangeError;Wce.exports=function(e){if(e===void 0)return 0;var t=lft(e),r=uft(t);if(t!==r)throw new cft("Wrong length or index");return r}});var qC=T((Gbr,Zce)=>{"use strict";Zce.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var x6=T((Hbr,Xce)=>{"use strict";var fft=qC(),pft=Math.abs,Kce=2220446049250313e-31,Yce=1/Kce,dft=function(e){return e+Yce-Yce};Xce.exports=function(e,t,r,n){var i=+e,o=pft(i),a=fft(i);if(o<n)return a*dft(o/n/t)*n*t;var c=(1+t/Kce)*o,d=c-(c-o);return d>r||d!==d?a*(1/0):a*d}});var jC=T(($br,Qce)=>{"use strict";var hft=x6(),mft=1.1920928955078125e-7,gft=34028234663852886e22,vft=11754943508222875e-54;Qce.exports=Math.fround||function(t){return hft(t,mft,gft,vft)}});var zC=T((Wbr,Jce)=>{"use strict";var yft=Array,_ft=Math.abs,Ap=Math.pow,xft=Math.floor,bft=Math.log,wft=Math.LN2,Sft=function(e,t,r){var n=yft(r),i=r*8-t-1,o=(1<<i)-1,a=o>>1,c=t===23?Ap(2,-24)-Ap(2,-77):0,d=e<0||e===0&&1/e<0?1:0,m=0,v,E,I;for(e=_ft(e),e!==e||e===1/0?(E=e!==e?1:0,v=o):(v=xft(bft(e)/wft),I=Ap(2,-v),e*I<1&&(v--,I*=2),v+a>=1?e+=c/I:e+=c*Ap(2,1-a),e*I>=2&&(v++,I/=2),v+a>=o?(E=0,v=o):v+a>=1?(E=(e*I-1)*Ap(2,t),v+=a):(E=e*Ap(2,a-1)*Ap(2,t),v=0));t>=8;)n[m++]=E&255,E/=256,t-=8;for(v=v<<t|E,i+=t;i>0;)n[m++]=v&255,v/=256,i-=8;return n[--m]|=d*128,n},Eft=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,a=n-7,c=r-1,d=e[c--],m=d&127,v;for(d>>=7;a>0;)m=m*256+e[c--],a-=8;for(v=m&(1<<-a)-1,m>>=-a,a+=t;a>0;)v=v*256+e[c--],a-=8;if(m===0)m=1-o;else{if(m===i)return v?NaN:d?-1/0:1/0;v+=Ap(2,t),m-=o}return(d?-1:1)*v*Ap(2,m-t)};Jce.exports={pack:Sft,unpack:Eft}});var fS=T((Zbr,vfe)=>{"use strict";var HC=Xt(),A6=st(),b6=gr(),Ift=kC(),pfe=Lg(),efe=to(),Tft=Ai(),tfe=hu(),w6=vt(),FC=Ua(),Aft=vi(),Mft=Gs(),VC=X0(),Cft=jC(),dfe=zC(),Oft=ro(),rfe=pu(),Dft=_p().f,Lft=AC(),Pft=Rg(),hfe=$s(),M6=On(),Nft=pfe.PROPER,nfe=pfe.CONFIGURABLE,J0="ArrayBuffer",$C="DataView",e_="prototype",Rft="Wrong length",mfe="Wrong index",ife=M6.getterFor(J0),cS=M6.getterFor($C),ofe=M6.set,mu=HC[J0],Ll=mu,Q0=Ll&&Ll[e_],rf=HC[$C],Hg=rf&&rf[e_],afe=Object.prototype,kft=HC.Array,GC=HC.RangeError,qft=A6(Lft),jft=A6([].reverse),gfe=dfe.pack,sfe=dfe.unpack,lfe=function(e){return[e&255]},ufe=function(e){return[e&255,e>>8&255]},cfe=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},ffe=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},zft=function(e){return gfe(Cft(e),23,4)},Fft=function(e){return gfe(e,52,8)},BC=function(e,t,r){Tft(e[e_],t,{configurable:!0,get:function(){return r(this)[t]}})},Dh=function(e,t,r,n){var i=cS(e),o=VC(r),a=!!n;if(o+t>i.byteLength)throw new GC(mfe);var c=i.bytes,d=o+i.byteOffset,m=Pft(c,d,d+t);return a?m:jft(m)},Lh=function(e,t,r,n,i,o){var a=cS(e),c=VC(r),d=n(+i),m=!!o;if(c+t>a.byteLength)throw new GC(mfe);for(var v=a.bytes,E=c+a.byteOffset,I=0;I<t;I++)v[E+I]=d[m?I:t-I-1]};if(!Ift)Ll=function(t){FC(this,Q0);var r=VC(t);ofe(this,{type:J0,bytes:qft(kft(r),0),byteLength:r}),b6||(this.byteLength=r,this.detached=!1)},Q0=Ll[e_],rf=function(t,r,n){FC(this,Hg),FC(t,Q0);var i=ife(t),o=i.byteLength,a=Aft(r);if(a<0||a>o)throw new GC("Wrong offset");if(n=n===void 0?o-a:Mft(n),a+n>o)throw new GC(Rft);ofe(this,{type:$C,buffer:t,byteLength:n,byteOffset:a,bytes:i.bytes}),b6||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},Hg=rf[e_],b6&&(BC(Ll,"byteLength",ife),BC(rf,"buffer",cS),BC(rf,"byteLength",cS),BC(rf,"byteOffset",cS)),tfe(Hg,{getInt8:function(t){return Dh(this,1,t)[0]<<24>>24},getUint8:function(t){return Dh(this,1,t)[0]},getInt16:function(t){var r=Dh(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Dh(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return ffe(Dh(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return ffe(Dh(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return sfe(Dh(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return sfe(Dh(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){Lh(this,1,t,lfe,r)},setUint8:function(t,r){Lh(this,1,t,lfe,r)},setInt16:function(t,r){Lh(this,2,t,ufe,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){Lh(this,2,t,ufe,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){Lh(this,4,t,cfe,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){Lh(this,4,t,cfe,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){Lh(this,4,t,zft,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){Lh(this,8,t,Fft,r,arguments.length>2?arguments[2]:!1)}});else{if(S6=Nft&&mu.name!==J0,!w6(function(){mu(1)})||!w6(function(){new mu(-1)})||w6(function(){return new mu,new mu(1.5),new mu(NaN),mu.length!==1||S6&&!nfe})){for(Ll=function(t){return FC(this,Q0),new mu(VC(t))},Ll[e_]=Q0,E6=Dft(mu),I6=0;E6.length>I6;)(UC=E6[I6++])in Ll||efe(Ll,UC,mu[UC]);Q0.constructor=Ll}else S6&&nfe&&efe(mu,"name",J0);rfe&&Oft(Hg)!==afe&&rfe(Hg,afe),uS=new rf(new Ll(2)),T6=A6(Hg.setInt8),uS.setInt8(0,2147483648),uS.setInt8(1,2147483649),(uS.getInt8(0)||!uS.getInt8(1))&&tfe(Hg,{setInt8:function(t,r){T6(this,t,r<<24>>24)},setUint8:function(t,r){T6(this,t,r<<24>>24)}},{unsafe:!0})}var S6,E6,I6,UC,uS,T6;hfe(Ll,J0);hfe(rf,$C);vfe.exports={ArrayBuffer:Ll,DataView:rf}});var _fe=T(()=>{"use strict";var Bft=te(),Uft=Xt(),Vft=fS(),Gft=Oh(),C6="ArrayBuffer",yfe=Vft[C6],Hft=Uft[C6];Bft({global:!0,constructor:!0,forced:Hft!==yfe},{ArrayBuffer:yfe});Gft(C6)});var Hr=T((Xbr,Cfe)=>{"use strict";var $ft=kC(),P6=gr(),vs=Xt(),Sfe=Dr(),YC=Lr(),Nh=Gr(),N6=Hs(),Wft=wh(),Zft=to(),O6=jn(),Yft=Ai(),Kft=Fa(),KC=ro(),r_=pu(),Xft=vr(),Qft=Sh(),Efe=On(),Ife=Efe.enforce,Jft=Efe.get,WC=vs.Int8Array,D6=WC&&WC.prototype,xfe=vs.Uint8ClampedArray,bfe=xfe&&xfe.prototype,nf=WC&&KC(WC),fc=D6&&KC(D6),ept=Object.prototype,R6=vs.TypeError,wfe=Xft("toStringTag"),L6=Qft("TYPED_ARRAY_TAG"),ZC="TypedArrayConstructor",Mp=$ft&&!!r_&&N6(vs.opera)!=="Opera",Tfe=!1,Zs,Ph,t_,Cp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k6={BigInt64Array:8,BigUint64Array:8},tpt=function(t){if(!YC(t))return!1;var r=N6(t);return r==="DataView"||Nh(Cp,r)||Nh(k6,r)},Afe=function(e){var t=KC(e);if(YC(t)){var r=Jft(t);return r&&Nh(r,ZC)?r[ZC]:Afe(t)}},Mfe=function(e){if(!YC(e))return!1;var t=N6(e);return Nh(Cp,t)||Nh(k6,t)},rpt=function(e){if(Mfe(e))return e;throw new R6("Target is not a typed array")},npt=function(e){if(Sfe(e)&&(!r_||Kft(nf,e)))return e;throw new R6(Wft(e)+" is not a typed array constructor")},ipt=function(e,t,r,n){if(P6){if(r)for(var i in Cp){var o=vs[i];if(o&&Nh(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(c){}}}(!fc[e]||r)&&O6(fc,e,r?t:Mp&&D6[e]||t,n)}},opt=function(e,t,r){var n,i;if(P6){if(r_){if(r){for(n in Cp)if(i=vs[n],i&&Nh(i,e))try{delete i[e]}catch(o){}}if(!nf[e]||r)try{return O6(nf,e,r?t:Mp&&nf[e]||t)}catch(o){}else return}for(n in Cp)i=vs[n],i&&(!i[e]||r)&&O6(i,e,t)}};for(Zs in Cp)Ph=vs[Zs],t_=Ph&&Ph.prototype,t_?Ife(t_)[ZC]=Ph:Mp=!1;for(Zs in k6)Ph=vs[Zs],t_=Ph&&Ph.prototype,t_&&(Ife(t_)[ZC]=Ph);if((!Mp||!Sfe(nf)||nf===Function.prototype)&&(nf=function(){throw new R6("Incorrect invocation")},Mp))for(Zs in Cp)vs[Zs]&&r_(vs[Zs],nf);if((!Mp||!fc||fc===ept)&&(fc=nf.prototype,Mp))for(Zs in Cp)vs[Zs]&&r_(vs[Zs].prototype,fc);Mp&&KC(bfe)!==fc&&r_(bfe,fc);if(P6&&!Nh(fc,wfe)){Tfe=!0,Yft(fc,wfe,{configurable:!0,get:function(){return YC(this)?this[L6]:void 0}});for(Zs in Cp)vs[Zs]&&Zft(vs[Zs],L6,Zs)}Cfe.exports={NATIVE_ARRAY_BUFFER_VIEWS:Mp,TYPED_ARRAY_TAG:Tfe&&L6,aTypedArray:rpt,aTypedArrayConstructor:npt,exportTypedArrayMethod:ipt,exportTypedArrayStaticMethod:opt,getTypedArrayConstructor:Afe,isView:tpt,isTypedArray:Mfe,TypedArray:nf,TypedArrayPrototype:fc}});var Dfe=T(()=>{"use strict";var apt=te(),Ofe=Hr(),spt=Ofe.NATIVE_ARRAY_BUFFER_VIEWS;apt({target:"ArrayBuffer",stat:!0,forced:!spt},{isView:Ofe.isView})});var n_=T((ewr,Lfe)=>{"use strict";var lpt=cc(),upt=wh(),cpt=TypeError;Lfe.exports=function(e){if(lpt(e))return e;throw new cpt(upt(e)+" is not a constructor")}});var $g=T((twr,Nfe)=>{"use strict";var Pfe=jt(),fpt=n_(),ppt=eo(),dpt=vr(),hpt=dpt("species");Nfe.exports=function(e,t){var r=Pfe(e).constructor,n;return r===void 0||ppt(n=Pfe(r)[hpt])?t:fpt(n)}});var Ffe=T(()=>{"use strict";var mpt=te(),j6=xp(),gpt=vt(),jfe=fS(),Rfe=jt(),kfe=uu(),vpt=Gs(),ypt=$g(),z6=jfe.ArrayBuffer,q6=jfe.DataView,zfe=q6.prototype,qfe=j6(z6.prototype.slice),_pt=j6(zfe.getUint8),xpt=j6(zfe.setUint8),bpt=gpt(function(){return!new z6(2).slice(1,void 0).byteLength});mpt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:bpt},{slice:function(t,r){if(qfe&&r===void 0)return qfe(Rfe(this),t);for(var n=Rfe(this).byteLength,i=kfe(t,n),o=kfe(r===void 0?n:r,n),a=new(ypt(this,z6))(vpt(o-i)),c=new q6(this),d=new q6(a),m=0;i<o;)xpt(d,m++,_pt(c,i++));return a}})});var Bfe=T(()=>{"use strict";var wpt=te(),Spt=fS(),Ept=kC();wpt({global:!0,constructor:!0,forced:!Ept},{DataView:Spt.DataView})});var Ufe=T(()=>{"use strict";Bfe()});var Vfe=T(()=>{"use strict";var Ipt=te(),Tpt=st(),Apt=vt(),Mpt=Apt(function(){return new Date(16e11).getYear()!==120}),Cpt=Tpt(Date.prototype.getFullYear);Ipt({target:"Date",proto:!0,forced:Mpt},{getYear:function(){return Cpt(this)-1900}})});var Hfe=T(()=>{"use strict";var Opt=te(),Dpt=st(),Gfe=Date,Lpt=Dpt(Gfe.prototype.getTime);Opt({target:"Date",stat:!0},{now:function(){return Lpt(new Gfe)}})});var Zfe=T(()=>{"use strict";var Ppt=te(),$fe=st(),Npt=vi(),Wfe=Date.prototype,Rpt=$fe(Wfe.getTime),kpt=$fe(Wfe.setFullYear);Ppt({target:"Date",proto:!0},{setYear:function(t){Rpt(this);var r=Npt(t),n=r>=0&&r<=99?r+1900:r;return kpt(this,n)}})});var Yfe=T(()=>{"use strict";var qpt=te();qpt({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var pS=T((gwr,Kfe)=>{"use strict";var jpt=vi(),zpt=Mr(),Fpt=gi(),Bpt=RangeError;Kfe.exports=function(t){var r=zpt(Fpt(this)),n="",i=jpt(t);if(i<0||i===1/0)throw new Bpt("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var XC=T((vwr,epe)=>{"use strict";var Jfe=st(),Upt=Gs(),Xfe=Mr(),Vpt=pS(),Gpt=gi(),Hpt=Jfe(Vpt),$pt=Jfe("".slice),Wpt=Math.ceil,Qfe=function(e){return function(t,r,n){var i=Xfe(Gpt(t)),o=Upt(r),a=i.length,c=n===void 0?" ":Xfe(n),d,m;return o<=a||c===""?i:(d=o-a,m=Hpt(c,Wpt(d/c.length)),m.length>d&&(m=$pt(m,0,d)),e?i+m:m+i)}};epe.exports={start:Qfe(!1),end:Qfe(!0)}});var npe=T((ywr,rpe)=>{"use strict";var Rh=st(),tpe=vt(),Wg=XC().start,Zpt=RangeError,Ypt=isFinite,Kpt=Math.abs,Op=Date.prototype,F6=Op.toISOString,Xpt=Rh(Op.getTime),Qpt=Rh(Op.getUTCDate),Jpt=Rh(Op.getUTCFullYear),edt=Rh(Op.getUTCHours),tdt=Rh(Op.getUTCMilliseconds),rdt=Rh(Op.getUTCMinutes),ndt=Rh(Op.getUTCMonth),idt=Rh(Op.getUTCSeconds);rpe.exports=tpe(function(){return F6.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!tpe(function(){F6.call(new Date(NaN))})?function(){if(!Ypt(Xpt(this)))throw new Zpt("Invalid time value");var t=this,r=Jpt(t),n=tdt(t),i=r<0?"-":r>9999?"+":"";return i+Wg(Kpt(r),i?6:4,0)+"-"+Wg(ndt(t)+1,2,0)+"-"+Wg(Qpt(t),2,0)+"T"+Wg(edt(t),2,0)+":"+Wg(rdt(t),2,0)+":"+Wg(idt(t),2,0)+"."+Wg(n,3,0)+"Z"}:F6});var ope=T(()=>{"use strict";var odt=te(),ipe=npe();odt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==ipe},{toISOString:ipe})});var ape=T(()=>{"use strict";var adt=te(),sdt=vt(),ldt=Xr(),udt=Fw(),cdt=sdt(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});adt({target:"Date",proto:!0,arity:1,forced:cdt},{toJSON:function(t){var r=ldt(this),n=udt(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var lpe=T((Swr,spe)=>{"use strict";var fdt=jt(),pdt=Nz(),ddt=TypeError;spe.exports=function(e){if(fdt(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new ddt("Incorrect hint");return pdt(this,e)}});var fpe=T(()=>{"use strict";var hdt=Gr(),mdt=jn(),gdt=lpe(),vdt=vr(),upe=vdt("toPrimitive"),cpe=Date.prototype;hdt(cpe,upe)||mdt(cpe,upe,gdt)});var mpe=T(()=>{"use strict";var dpe=st(),ydt=jn(),B6=Date.prototype,ppe="Invalid Date",hpe="toString",_dt=dpe(B6[hpe]),xdt=dpe(B6.getTime);String(new Date(NaN))!==ppe&&ydt(B6,hpe,function(){var t=xdt(this);return t===t?_dt(this):ppe})});var vpe=T(()=>{"use strict";var bdt=te(),dS=st(),wdt=Mr(),Sdt=dS("".charAt),Edt=dS("".charCodeAt),Idt=dS(/./.exec),Tdt=dS(1 .toString),Adt=dS("".toUpperCase),Mdt=/[\w*+\-./@]/,gpe=function(e,t){for(var r=Tdt(e,16);r.length<t;)r="0"+r;return r};bdt({global:!0},{escape:function(t){for(var r=wdt(t),n="",i=r.length,o=0,a,c;o<i;)a=Sdt(r,o++),Idt(Mdt,a)?n+=a:(c=Edt(a,0),c<256?n+="%"+gpe(c,2):n+="%u"+Adt(gpe(c,4)));return n}})});var V6=T((Owr,bpe)=>{"use strict";var _pe=st(),Cdt=Ir(),Odt=Lr(),Ddt=Gr(),ype=wp(),Ldt=F0(),xpe=Function,Pdt=_pe([].concat),Ndt=_pe([].join),U6={},Rdt=function(e,t,r){if(!Ddt(U6,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";U6[t]=xpe("C,a","return new C("+Ndt(n,",")+")")}return U6[t](e,r)};bpe.exports=Ldt?xpe.bind:function(t){var r=Cdt(this),n=r.prototype,i=ype(arguments,1),o=function(){var c=Pdt(i,ype(arguments));return this instanceof o?Rdt(r,c.length,c):r.apply(t,c)};return Odt(n)&&(o.prototype=n),o}});var Spe=T(()=>{"use strict";var kdt=te(),wpe=V6();kdt({target:"Function",proto:!0,forced:Function.bind!==wpe},{bind:wpe})});var Tpe=T(()=>{"use strict";var qdt=Dr(),Epe=Lr(),jdt=ai(),zdt=ro(),Fdt=vr(),Bdt=Hw(),G6=Fdt("hasInstance"),Ipe=Function.prototype;G6 in Ipe||jdt.f(Ipe,G6,{value:Bdt(function(e){if(!qdt(this)||!Epe(e))return!1;var t=this.prototype;if(!Epe(t))return e instanceof this;for(;e=zdt(e);)if(t===e)return!0;return!1},G6)})});var Ope=T(()=>{"use strict";var Udt=gr(),Vdt=Lg().EXISTS,Ape=st(),Gdt=Ai(),Mpe=Function.prototype,Hdt=Ape(Mpe.toString),Cpe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,$dt=Ape(Cpe.exec),Wdt="name";Udt&&!Vdt&&Gdt(Mpe,Wdt,{configurable:!0,get:function(){try{return $dt(Cpe,Hdt(this))[1]}catch(e){return""}}})});var $6=T(()=>{"use strict";var Zdt=te(),H6=Xt();Zdt({global:!0,forced:H6.globalThis!==H6},{globalThis:H6})});var Dpe=T(()=>{"use strict";var Ydt=Xt(),Kdt=$s();Kdt(Ydt.JSON,"JSON",!0)});var QC=T((Bwr,Lpe)=>{"use strict";var Xdt=vt();Lpe.exports=Xdt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var eO=T((Uwr,Npe)=>{"use strict";var Qdt=vt(),Jdt=Lr(),eht=aa(),Ppe=QC(),JC=Object.isExtensible,tht=Qdt(function(){JC(1)});Npe.exports=tht||Ppe?function(t){return!Jdt(t)||Ppe&&eht(t)==="ArrayBuffer"?!1:JC?JC(t):!0}:JC});var Dp=T((Vwr,Rpe)=>{"use strict";var rht=vt();Rpe.exports=!rht(function(){return Object.isExtensible(Object.preventExtensions({}))})});var kh=T((Gwr,jpe)=>{"use strict";var nht=te(),iht=st(),oht=U0(),aht=Lr(),W6=Gr(),sht=ai().f,kpe=_p(),lht=lC(),Z6=eO(),uht=Sh(),cht=Dp(),qpe=!1,Lp=uht("meta"),fht=0,Y6=function(e){sht(e,Lp,{value:{objectID:"O"+fht++,weakData:{}}})},pht=function(e,t){if(!aht(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!W6(e,Lp)){if(!Z6(e))return"F";if(!t)return"E";Y6(e)}return e[Lp].objectID},dht=function(e,t){if(!W6(e,Lp)){if(!Z6(e))return!0;if(!t)return!1;Y6(e)}return e[Lp].weakData},hht=function(e){return cht&&qpe&&Z6(e)&&!W6(e,Lp)&&Y6(e),e},mht=function(){ght.enable=function(){},qpe=!0;var e=kpe.f,t=iht([].splice),r={};r[Lp]=1,e(r).length&&(kpe.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===Lp){t(i,o,1);break}return i},nht({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lht.f}))},ght=jpe.exports={enable:mht,fastKey:pht,getWeakData:dht,onFreeze:hht};oht[Lp]=!0});var hS=T((Hwr,Fpe)=>{"use strict";var vht=te(),yht=Xt(),_ht=st(),zpe=H0(),xht=jn(),bht=kh(),wht=ji(),Sht=Ua(),Eht=Dr(),Iht=eo(),K6=Lr(),X6=vt(),Tht=iS(),Aht=$s(),Mht=zg();Fpe.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=yht[e],c=a&&a.prototype,d=a,m={},v=function(q){var j=_ht(c[q]);xht(c,q,q==="add"?function(Z){return j(this,Z===0?0:Z),this}:q==="delete"?function(B){return i&&!K6(B)?!1:j(this,B===0?0:B)}:q==="get"?function(Z){return i&&!K6(Z)?void 0:j(this,Z===0?0:Z)}:q==="has"?function(Z){return i&&!K6(Z)?!1:j(this,Z===0?0:Z)}:function(Z,re){return j(this,Z===0?0:Z,re),this})},E=zpe(e,!Eht(a)||!(i||c.forEach&&!X6(function(){new a().entries().next()})));if(E)d=r.getConstructor(t,e,n,o),bht.enable();else if(zpe(e,!0)){var I=new d,M=I[o](i?{}:-0,1)!==I,L=X6(function(){I.has(1)}),R=Tht(function(q){new a(q)}),P=!i&&X6(function(){for(var q=new a,j=5;j--;)q[o](j,j);return!q.has(-0)});R||(d=t(function(q,j){Sht(q,c);var B=Mht(new a,q,d);return Iht(j)||wht(j,B[o],{that:B,AS_ENTRIES:n}),B}),d.prototype=c,c.constructor=d),(L||P)&&(v("delete"),v("has"),n&&v("get")),(P||M)&&v(o),i&&c.clear&&delete c.clear}return m[e]=d,vht({global:!0,constructor:!0,forced:d!==a},m),Aht(d,e),i||r.setStrong(d,e,n),d}});var J6=T(($wr,Hpe)=>{"use strict";var Cht=Zi(),Oht=Ai(),Bpe=hu(),Dht=Kn(),Lht=Ua(),Pht=eo(),Nht=ji(),Rht=DC(),tO=sa(),kht=Oh(),mS=gr(),Upe=kh().fastKey,Gpe=On(),Vpe=Gpe.set,Q6=Gpe.getterFor;Hpe.exports={getConstructor:function(e,t,r,n){var i=e(function(m,v){Lht(m,o),Vpe(m,{type:t,index:Cht(null),first:void 0,last:void 0,size:0}),mS||(m.size=0),Pht(v)||Nht(v,m[n],{that:m,AS_ENTRIES:r})}),o=i.prototype,a=Q6(t),c=function(m,v,E){var I=a(m),M=d(m,v),L,R;return M?M.value=E:(I.last=M={index:R=Upe(v,!0),key:v,value:E,previous:L=I.last,next:void 0,removed:!1},I.first||(I.first=M),L&&(L.next=M),mS?I.size++:m.size++,R!=="F"&&(I.index[R]=M)),m},d=function(m,v){var E=a(m),I=Upe(v),M;if(I!=="F")return E.index[I];for(M=E.first;M;M=M.next)if(M.key===v)return M};return Bpe(o,{clear:function(){for(var v=this,E=a(v),I=E.index,M=E.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete I[M.index],M=M.next;E.first=E.last=void 0,mS?E.size=0:v.size=0},delete:function(m){var v=this,E=a(v),I=d(v,m);if(I){var M=I.next,L=I.previous;delete E.index[I.index],I.removed=!0,L&&(L.next=M),M&&(M.previous=L),E.first===I&&(E.first=M),E.last===I&&(E.last=L),mS?E.size--:v.size--}return!!I},forEach:function(v){for(var E=a(this),I=Dht(v,arguments.length>1?arguments[1]:void 0),M;M=M?M.next:E.first;)for(I(M.value,M.key,this);M&&M.removed;)M=M.previous},has:function(v){return!!d(this,v)}}),Bpe(o,r?{get:function(v){var E=d(this,v);return E&&E.value},set:function(v,E){return c(this,v===0?0:v,E)}}:{add:function(v){return c(this,v=v===0?0:v,v)}}),mS&&Oht(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Q6(t),o=Q6(n);Rht(e,t,function(a,c){Vpe(this,{type:n,target:a,state:i(a),kind:c,last:void 0})},function(){for(var a=o(this),c=a.kind,d=a.last;d&&d.removed;)d=d.previous;return!a.target||!(a.last=d=d?d.next:a.state.first)?(a.target=void 0,tO(void 0,!0)):tO(c==="keys"?d.key:c==="values"?d.value:[d.key,d.value],!1)},r?"entries":"values",!r,!0),kht(t)}}});var $pe=T(()=>{"use strict";var qht=hS(),jht=J6();qht("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},jht)});var rO=T(()=>{"use strict";$pe()});var eB=T((Xwr,Wpe)=>{"use strict";var zht=Math.log;Wpe.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:zht(1+r)}});var Ype=T(()=>{"use strict";var Fht=te(),Bht=eB(),tB=Math.acosh,Uht=Math.log,Zpe=Math.sqrt,Vht=Math.LN2,Ght=!tB||Math.floor(tB(Number.MAX_VALUE))!==710||tB(1/0)!==1/0;Fht({target:"Math",stat:!0,forced:Ght},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?Uht(r)+Vht:Bht(r-1+Zpe(r-1)*Zpe(r+1))}})});var Qpe=T(()=>{"use strict";var Hht=te(),Kpe=Math.asinh,$ht=Math.log,Wht=Math.sqrt;function Xpe(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-Xpe(-t):$ht(t+Wht(t*t+1))}var Zht=!(Kpe&&1/Kpe(0)>0);Hht({target:"Math",stat:!0,forced:Zht},{asinh:Xpe})});var ede=T(()=>{"use strict";var Yht=te(),Jpe=Math.atanh,Kht=Math.log,Xht=!(Jpe&&1/Jpe(-0)<0);Yht({target:"Math",stat:!0,forced:Xht},{atanh:function(t){var r=+t;return r===0?r:Kht((1+r)/(1-r))/2}})});var tde=T(()=>{"use strict";var Qht=te(),Jht=qC(),emt=Math.abs,tmt=Math.pow;Qht({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return Jht(r)*tmt(emt(r),1/3)}})});var rde=T(()=>{"use strict";var rmt=te(),nmt=Math.floor,imt=Math.log,omt=Math.LOG2E;rmt({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-nmt(imt(r+.5)*omt):32}})});var vS=T((lSr,nde)=>{"use strict";var gS=Math.expm1,amt=Math.exp;nde.exports=!gS||gS(10)>22025.465794806718||gS(10)<22025.465794806718||gS(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:amt(r)-1}:gS});var ode=T(()=>{"use strict";var smt=te(),lmt=vS(),ide=Math.cosh,umt=Math.abs,rB=Math.E,cmt=!ide||ide(710)===1/0;smt({target:"Math",stat:!0,forced:cmt},{cosh:function(t){var r=lmt(umt(t)-1)+1;return(r+1/(r*rB*rB))*(rB/2)}})});var sde=T(()=>{"use strict";var fmt=te(),ade=vS();fmt({target:"Math",stat:!0,forced:ade!==Math.expm1},{expm1:ade})});var lde=T(()=>{"use strict";var pmt=te(),dmt=jC();pmt({target:"Math",stat:!0},{fround:dmt})});var cde=T(()=>{"use strict";var hmt=te(),ude=Math.hypot,mmt=Math.abs,gmt=Math.sqrt,vmt=!!ude&&ude(1/0,NaN)!==1/0;hmt({target:"Math",stat:!0,arity:2,forced:vmt},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,a=0,c,d;i<o;)c=mmt(arguments[i++]),a<c?(d=a/c,n=n*d*d+1,a=c):c>0?(d=c/a,n+=d*d):n+=c;return a===1/0?1/0:a*gmt(n)}})});var pde=T(()=>{"use strict";var ymt=te(),_mt=vt(),fde=Math.imul,xmt=_mt(function(){return fde(4294967295,5)!==-5||fde.length!==2});ymt({target:"Math",stat:!0,forced:xmt},{imul:function(t,r){var n=65535,i=+t,o=+r,a=n&i,c=n&o;return 0|a*c+((n&i>>>16)*c+a*(n&o>>>16)<<16>>>0)}})});var nB=T((_Sr,dde)=>{"use strict";var bmt=Math.log,wmt=Math.LOG10E;dde.exports=Math.log10||function(t){return bmt(t)*wmt}});var hde=T(()=>{"use strict";var Smt=te(),Emt=nB();Smt({target:"Math",stat:!0},{log10:Emt})});var mde=T(()=>{"use strict";var Imt=te(),Tmt=eB();Imt({target:"Math",stat:!0},{log1p:Tmt})});var gde=T(()=>{"use strict";var Amt=te(),Mmt=Math.log,Cmt=Math.LN2;Amt({target:"Math",stat:!0},{log2:function(t){return Mmt(t)/Cmt}})});var vde=T(()=>{"use strict";var Omt=te(),Dmt=qC();Omt({target:"Math",stat:!0},{sign:Dmt})});var xde=T(()=>{"use strict";var Lmt=te(),Pmt=vt(),yde=vS(),Nmt=Math.abs,_de=Math.exp,Rmt=Math.E,kmt=Pmt(function(){return Math.sinh(-2e-17)!==-2e-17});Lmt({target:"Math",stat:!0,forced:kmt},{sinh:function(t){var r=+t;return Nmt(r)<1?(yde(r)-yde(-r))/2:(_de(r-1)-_de(-r-1))*(Rmt/2)}})});var Sde=T(()=>{"use strict";var qmt=te(),bde=vS(),wde=Math.exp;qmt({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=bde(r),i=bde(-r);return n===1/0?1:i===1/0?-1:(n-i)/(wde(r)+wde(-r))}})});var Ede=T(()=>{"use strict";var jmt=$s();jmt(Math,"Math",!0)});var Ide=T(()=>{"use strict";var zmt=te(),Fmt=Qz();zmt({target:"Math",stat:!0},{trunc:Fmt})});var yS=T((kSr,Tde)=>{"use strict";var Bmt=st();Tde.exports=Bmt(1 .valueOf)});var Zg=T((qSr,Ade)=>{"use strict";Ade.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Yg=T((jSr,Cde)=>{"use strict";var Umt=st(),Vmt=gi(),Gmt=Mr(),oB=Zg(),Mde=Umt("".replace),Hmt=RegExp("^["+oB+"]+"),$mt=RegExp("(^|[^"+oB+"])["+oB+"]+$"),iB=function(e){return function(t){var r=Gmt(Vmt(t));return e&1&&(r=Mde(r,Hmt,"")),e&2&&(r=Mde(r,$mt,"$1")),r}};Cde.exports={start:iB(1),end:iB(2),trim:iB(3)}});var kde=T(()=>{"use strict";var Wmt=te(),aB=Kr(),Zmt=gr(),Lde=Xt(),sB=uC(),Pde=st(),Ymt=H0(),Ode=Gr(),Kmt=zg(),Xmt=Fa(),Qmt=yp(),Nde=Fw(),Jmt=vt(),egt=_p().f,tgt=Eo().f,rgt=ai().f,ngt=yS(),igt=Yg().trim,_S="Number",i_=Lde[_S],Dde=sB[_S],lB=i_.prototype,ogt=Lde.TypeError,agt=Pde("".slice),nO=Pde("".charCodeAt),sgt=function(e){var t=Nde(e,"number");return typeof t=="bigint"?t:lgt(t)},lgt=function(e){var t=Nde(e,"number"),r,n,i,o,a,c,d,m;if(Qmt(t))throw new ogt("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=igt(t),r=nO(t,0),r===43||r===45){if(n=nO(t,2),n===88||n===120)return NaN}else if(r===48){switch(nO(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t;}for(a=agt(t,2),c=a.length,d=0;d<c;d++)if(m=nO(a,d),m<48||m>o)return NaN;return parseInt(a,i)}}return+t},uB=Ymt(_S,!i_(" 0o1")||!i_("0b1")||i_("+0x1")),ugt=function(e){return Xmt(lB,e)&&Jmt(function(){ngt(e)})},iO=function(t){var r=arguments.length<1?0:i_(sgt(t));return ugt(this)?Kmt(Object(r),this,iO):r};iO.prototype=lB;uB&&!aB&&(lB.constructor=iO);Wmt({global:!0,constructor:!0,wrap:!0,forced:uB},{Number:iO});var Rde=function(e,t){for(var r=Zmt?egt(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Ode(t,i=r[n])&&!Ode(e,i)&&rgt(e,i,tgt(t,i))};aB&&Dde&&Rde(sB[_S],Dde);(uB||aB)&&Rde(sB[_S],i_)});var qde=T(()=>{"use strict";var cgt=te();cgt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var cB=T((VSr,jde)=>{"use strict";var fgt=Xt(),pgt=fgt.isFinite;jde.exports=Number.isFinite||function(t){return typeof t=="number"&&pgt(t)}});var zde=T(()=>{"use strict";var dgt=te(),hgt=cB();dgt({target:"Number",stat:!0},{isFinite:hgt})});var oO=T(($Sr,Fde)=>{"use strict";var mgt=Lr(),ggt=Math.floor;Fde.exports=Number.isInteger||function(t){return!mgt(t)&&isFinite(t)&&ggt(t)===t}});var Bde=T(()=>{"use strict";var vgt=te(),ygt=oO();vgt({target:"Number",stat:!0},{isInteger:ygt})});var Ude=T(()=>{"use strict";var _gt=te();_gt({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var Vde=T(()=>{"use strict";var xgt=te(),bgt=oO(),wgt=Math.abs;xgt({target:"Number",stat:!0},{isSafeInteger:function(t){return bgt(t)&&wgt(t)<=9007199254740991}})});var Gde=T(()=>{"use strict";var Sgt=te();Sgt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var Hde=T(()=>{"use strict";var Egt=te();Egt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var fB=T((nEr,Yde)=>{"use strict";var Zde=Xt(),Igt=vt(),Tgt=st(),Agt=Mr(),Mgt=Yg().trim,Cgt=Zg(),Ogt=Tgt("".charAt),aO=Zde.parseFloat,$de=Zde.Symbol,Wde=$de&&$de.iterator,Dgt=1/aO(Cgt+"-0")!==-1/0||Wde&&!Igt(function(){aO(Object(Wde))});Yde.exports=Dgt?function(t){var r=Mgt(Agt(t)),n=aO(r);return n===0&&Ogt(r,0)==="-"?-0:n}:aO});var Xde=T(()=>{"use strict";var Lgt=te(),Kde=fB();Lgt({target:"Number",stat:!0,forced:Number.parseFloat!==Kde},{parseFloat:Kde})});var sO=T((aEr,nhe)=>{"use strict";var the=Xt(),Pgt=vt(),Ngt=st(),Rgt=Mr(),kgt=Yg().trim,Qde=Zg(),xS=the.parseInt,Jde=the.Symbol,ehe=Jde&&Jde.iterator,rhe=/^[+-]?0x/i,qgt=Ngt(rhe.exec),jgt=xS(Qde+"08")!==8||xS(Qde+"0x16")!==22||ehe&&!Pgt(function(){xS(Object(ehe))});nhe.exports=jgt?function(t,r){var n=kgt(Rgt(t));return xS(n,r>>>0||(qgt(rhe,n)?16:10))}:xS});var ohe=T(()=>{"use strict";var zgt=te(),ihe=sO();zgt({target:"Number",stat:!0,forced:Number.parseInt!==ihe},{parseInt:ihe})});var che=T(()=>{"use strict";var Fgt=te(),dB=st(),Bgt=vi(),Ugt=yS(),Vgt=pS(),Ggt=nB(),pB=vt(),Hgt=RangeError,ahe=String,$gt=isFinite,Wgt=Math.abs,Zgt=Math.floor,she=Math.pow,Ygt=Math.round,of=dB(1 .toExponential),Kgt=dB(Vgt),lhe=dB("".slice),uhe=of(-69e-12,4)==="-6.9000e-11"&&of(1.255,2)==="1.25e+0"&&of(12345,3)==="1.235e+4"&&of(25,0)==="3e+1",Xgt=function(){return pB(function(){of(1,1/0)})&&pB(function(){of(1,-1/0)})},Qgt=function(){return!pB(function(){of(1/0,1/0),of(NaN,1/0)})},Jgt=!uhe||!Xgt()||!Qgt();Fgt({target:"Number",proto:!0,forced:Jgt},{toExponential:function(t){var r=Ugt(this);if(t===void 0)return of(r);var n=Bgt(t);if(!$gt(r))return String(r);if(n<0||n>20)throw new Hgt("Incorrect fraction digits");if(uhe)return of(r,n);var i="",o="",a=0,c="",d="";if(r<0&&(i="-",r=-r),r===0)a=0,o=Kgt("0",n+1);else{var m=Ggt(r);a=Zgt(m);var v=0,E=she(10,a-n);v=Ygt(r/E),2*r>=(2*v+1)*E&&(v+=1),v>=she(10,n+1)&&(v/=10,a+=1),o=ahe(v)}return n!==0&&(o=lhe(o,0,1)+"."+lhe(o,1)),a===0?(c="+",d="0"):(c=a>0?"+":"-",d=ahe(Wgt(a))),o+="e"+c+d,i+o}})});var ghe=T(()=>{"use strict";var evt=te(),gB=st(),tvt=vi(),rvt=yS(),nvt=pS(),fhe=vt(),ivt=RangeError,hhe=String,mhe=Math.floor,mB=gB(nvt),phe=gB("".slice),bS=gB(1 .toFixed),a_=function(e,t,r){return t===0?r:t%2===1?a_(e,t-1,r*e):a_(e*e,t/2,r)},ovt=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},o_=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=mhe(i/1e7)},hB=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=mhe(n/t),n=n%t*1e7},dhe=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=hhe(e[t]);r=r===""?n:r+mB("0",7-n.length)+n}return r},avt=fhe(function(){return bS(8e-5,3)!=="0.000"||bS(.9,0)!=="1"||bS(1.255,2)!=="1.25"||bS(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!fhe(function(){bS({})});evt({target:"Number",proto:!0,forced:avt},{toFixed:function(t){var r=rvt(this),n=tvt(t),i=[0,0,0,0,0,0],o="",a="0",c,d,m,v;if(n<0||n>20)throw new ivt("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return hhe(r);if(r<0&&(o="-",r=-r),r>1e-21)if(c=ovt(r*a_(2,69,1))-69,d=c<0?r*a_(2,-c,1):r/a_(2,c,1),d*=4503599627370496,c=52-c,c>0){for(o_(i,0,d),m=n;m>=7;)o_(i,1e7,0),m-=7;for(o_(i,a_(10,m,1),0),m=c-1;m>=23;)hB(i,1<<23),m-=23;hB(i,1<<m),o_(i,1,1),hB(i,2),a=dhe(i)}else o_(i,0,d),o_(i,1<<-c,0),a=dhe(i)+mB("0",n);return n>0?(v=a.length,a=o+(v<=n?"0."+mB("0",n-v)+a:phe(a,0,v-n)+"."+phe(a,v-n))):a=o+a,a}})});var _he=T(()=>{"use strict";var svt=te(),lvt=st(),vhe=vt(),yhe=yS(),lO=lvt(1 .toPrecision),uvt=vhe(function(){return lO(1,void 0)!=="1"})||!vhe(function(){lO({})});svt({target:"Number",proto:!0,forced:uvt},{toPrecision:function(t){return t===void 0?lO(yhe(this)):lO(yhe(this),t)}})});var yB=T((mEr,whe)=>{"use strict";var xhe=gr(),cvt=st(),fvt=kt(),pvt=vt(),vB=Ng(),dvt=$w(),hvt=jw(),mvt=Xr(),gvt=vp(),s_=Object.assign,bhe=Object.defineProperty,vvt=cvt([].concat);whe.exports=!s_||pvt(function(){if(xhe&&s_({b:1},s_(bhe({},"a",{enumerable:!0,get:function(){bhe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),s_({},e)[r]!==7||vB(s_({},t)).join("")!==n})?function(t,r){for(var n=mvt(t),i=arguments.length,o=1,a=dvt.f,c=hvt.f;i>o;)for(var d=gvt(arguments[o++]),m=a?vvt(vB(d),a(d)):vB(d),v=m.length,E=0,I;v>E;)I=m[E++],(!xhe||fvt(c,d,I))&&(n[I]=d[I]);return n}:s_});var Ehe=T(()=>{"use strict";var yvt=te(),She=yB();yvt({target:"Object",stat:!0,arity:2,forced:Object.assign!==She},{assign:She})});var Ihe=T(()=>{"use strict";var _vt=te(),xvt=gr(),bvt=Zi();_vt({target:"Object",stat:!0,sham:!xvt},{create:bvt})});var wS=T((xEr,Ahe)=>{"use strict";var wvt=Kr(),Svt=Xt(),Evt=vt(),The=RC();Ahe.exports=wvt||!Evt(function(){if(!(The&&The<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete Svt[e]}})});var Mhe=T(()=>{"use strict";var Ivt=te(),Tvt=gr(),Avt=wS(),Mvt=Ir(),Cvt=Xr(),Ovt=ai();Tvt&&Ivt({target:"Object",proto:!0,forced:Avt},{__defineGetter__:function(t,r){Ovt.f(Cvt(this),t,{get:Mvt(r),enumerable:!0,configurable:!0})}})});var Ohe=T(()=>{"use strict";var Dvt=te(),Lvt=gr(),Che=oC().f;Dvt({target:"Object",stat:!0,forced:Object.defineProperties!==Che,sham:!Lvt},{defineProperties:Che})});var Lhe=T(()=>{"use strict";var Pvt=te(),Nvt=gr(),Dhe=ai().f;Pvt({target:"Object",stat:!0,forced:Object.defineProperty!==Dhe,sham:!Nvt},{defineProperty:Dhe})});var Phe=T(()=>{"use strict";var Rvt=te(),kvt=gr(),qvt=wS(),jvt=Ir(),zvt=Xr(),Fvt=ai();kvt&&Rvt({target:"Object",proto:!0,forced:qvt},{__defineSetter__:function(t,r){Fvt.f(zvt(this),t,{set:jvt(r),enumerable:!0,configurable:!0})}})});var _B=T((CEr,jhe)=>{"use strict";var Rhe=gr(),Bvt=vt(),khe=st(),Uvt=ro(),Vvt=Ng(),Gvt=ho(),Hvt=jw().f,qhe=khe(Hvt),$vt=khe([].push),Wvt=Rhe&&Bvt(function(){var e=Object.create(null);return e[2]=2,!qhe(e,2)}),Nhe=function(e){return function(t){for(var r=Gvt(t),n=Vvt(r),i=Wvt&&Uvt(r)===null,o=n.length,a=0,c=[],d;o>a;)d=n[a++],(!Rhe||(i?d in r:qhe(r,d)))&&$vt(c,e?[d,r[d]]:r[d]);return c}};jhe.exports={entries:Nhe(!0),values:Nhe(!1)}});var zhe=T(()=>{"use strict";var Zvt=te(),Yvt=_B().entries;Zvt({target:"Object",stat:!0},{entries:function(t){return Yvt(t)}})});var Fhe=T(()=>{"use strict";var Kvt=te(),Xvt=Dp(),Qvt=vt(),Jvt=Lr(),eyt=kh().onFreeze,xB=Object.freeze,tyt=Qvt(function(){xB(1)});Kvt({target:"Object",stat:!0,forced:tyt,sham:!Xvt},{freeze:function(t){return xB&&Jvt(t)?xB(eyt(t)):t}})});var Bhe=T(()=>{"use strict";var ryt=te(),nyt=ji(),iyt=cu();ryt({target:"Object",stat:!0},{fromEntries:function(t){var r={};return nyt(t,function(n,i){iyt(r,n,i)},{AS_ENTRIES:!0}),r}})});var Ghe=T(()=>{"use strict";var oyt=te(),ayt=vt(),syt=ho(),Uhe=Eo().f,Vhe=gr(),lyt=!Vhe||ayt(function(){Uhe(1)});oyt({target:"Object",stat:!0,forced:lyt,sham:!Vhe},{getOwnPropertyDescriptor:function(t,r){return Uhe(syt(t),r)}})});var Hhe=T(()=>{"use strict";var uyt=te(),cyt=gr(),fyt=rC(),pyt=ho(),dyt=Eo(),hyt=cu();uyt({target:"Object",stat:!0,sham:!cyt},{getOwnPropertyDescriptors:function(t){for(var r=pyt(t),n=dyt.f,i=fyt(r),o={},a=0,c,d;i.length>a;)d=n(r,c=i[a++]),d!==void 0&&hyt(o,c,d);return o}})});var $he=T(()=>{"use strict";var myt=te(),gyt=vt(),vyt=lC().f,yyt=gyt(function(){return!Object.getOwnPropertyNames(1)});myt({target:"Object",stat:!0,forced:yyt},{getOwnPropertyNames:vyt})});var Zhe=T(()=>{"use strict";var _yt=te(),xyt=vt(),byt=Xr(),Whe=ro(),wyt=wC(),Syt=xyt(function(){Whe(1)});_yt({target:"Object",stat:!0,forced:Syt,sham:!wyt},{getPrototypeOf:function(t){return Whe(byt(t))}})});var bB=T(()=>{"use strict";var Eyt=te(),Iyt=Gr();Eyt({target:"Object",stat:!0},{hasOwn:Iyt})});var wB=T(($Er,Yhe)=>{"use strict";Yhe.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var Khe=T(()=>{"use strict";var Tyt=te(),Ayt=wB();Tyt({target:"Object",stat:!0},{is:Ayt})});var Qhe=T(()=>{"use strict";var Myt=te(),Xhe=eO();Myt({target:"Object",stat:!0,forced:Object.isExtensible!==Xhe},{isExtensible:Xhe})});var eme=T(()=>{"use strict";var Cyt=te(),Oyt=vt(),Dyt=Lr(),Lyt=aa(),Jhe=QC(),SB=Object.isFrozen,Pyt=Jhe||Oyt(function(){SB(1)});Cyt({target:"Object",stat:!0,forced:Pyt},{isFrozen:function(t){return!Dyt(t)||Jhe&&Lyt(t)==="ArrayBuffer"?!0:SB?SB(t):!1}})});var rme=T(()=>{"use strict";var Nyt=te(),Ryt=vt(),kyt=Lr(),qyt=aa(),tme=QC(),EB=Object.isSealed,jyt=tme||Ryt(function(){EB(1)});Nyt({target:"Object",stat:!0,forced:jyt},{isSealed:function(t){return!kyt(t)||tme&&qyt(t)==="ArrayBuffer"?!0:EB?EB(t):!1}})});var ime=T(()=>{"use strict";var zyt=te(),Fyt=Xr(),nme=Ng(),Byt=vt(),Uyt=Byt(function(){nme(1)});zyt({target:"Object",stat:!0,forced:Uyt},{keys:function(t){return nme(Fyt(t))}})});var ome=T(()=>{"use strict";var Vyt=te(),Gyt=gr(),Hyt=wS(),$yt=Xr(),Wyt=sc(),Zyt=ro(),Yyt=Eo().f;Gyt&&Vyt({target:"Object",proto:!0,forced:Hyt},{__lookupGetter__:function(t){var r=$yt(this),n=Wyt(t),i;do if(i=Yyt(r,n))return i.get;while(r=Zyt(r))}})});var ame=T(()=>{"use strict";var Kyt=te(),Xyt=gr(),Qyt=wS(),Jyt=Xr(),e0t=sc(),t0t=ro(),r0t=Eo().f;Xyt&&Kyt({target:"Object",proto:!0,forced:Qyt},{__lookupSetter__:function(t){var r=Jyt(this),n=e0t(t),i;do if(i=r0t(r,n))return i.set;while(r=t0t(r))}})});var sme=T(()=>{"use strict";var n0t=te(),i0t=Lr(),o0t=kh().onFreeze,a0t=Dp(),s0t=vt(),IB=Object.preventExtensions,l0t=s0t(function(){IB(1)});n0t({target:"Object",stat:!0,forced:l0t,sham:!a0t},{preventExtensions:function(t){return IB&&i0t(t)?IB(o0t(t)):t}})});var dme=T(()=>{"use strict";var u0t=gr(),c0t=Ai(),lme=Lr(),f0t=Xr(),p0t=gi(),ume=Object.getPrototypeOf,cme=Object.setPrototypeOf,fme=Object.prototype,pme="__proto__";if(u0t&&ume&&cme&&!(pme in fme))try{c0t(fme,pme,{configurable:!0,get:function(){return ume(f0t(this))},set:function(t){var r=p0t(this);!lme(t)&&t!==null||!lme(r)||cme(r,t)}})}catch(e){}});var hme=T(()=>{"use strict";var d0t=te(),h0t=Lr(),m0t=kh().onFreeze,g0t=Dp(),v0t=vt(),TB=Object.seal,y0t=v0t(function(){TB(1)});d0t({target:"Object",stat:!0,forced:y0t,sham:!g0t},{seal:function(t){return TB&&h0t(t)?TB(m0t(t)):t}})});var mme=T(()=>{"use strict";var _0t=te(),x0t=pu();_0t({target:"Object",stat:!0},{setPrototypeOf:x0t})});var vme=T((mIr,gme)=>{"use strict";var b0t=nC(),w0t=Hs();gme.exports=b0t?{}.toString:function(){return"[object "+w0t(this)+"]"}});var yme=T(()=>{"use strict";var S0t=nC(),E0t=jn(),I0t=vme();S0t||E0t(Object.prototype,"toString",I0t,{unsafe:!0})});var _me=T(()=>{"use strict";var T0t=te(),A0t=_B().values;T0t({target:"Object",stat:!0},{values:function(t){return A0t(t)}})});var bme=T(()=>{"use strict";var M0t=te(),xme=fB();M0t({global:!0,forced:parseFloat!==xme},{parseFloat:xme})});var Sme=T(()=>{"use strict";var C0t=te(),wme=sO();C0t({global:!0,forced:parseInt!==wme},{parseInt:wme})});var gu=T((EIr,Eme)=>{"use strict";var O0t=TypeError;Eme.exports=function(e,t){if(e<t)throw new O0t("Not enough arguments");return e}});var AB=T((IIr,Ime)=>{"use strict";var D0t=Xc();Ime.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(D0t)});var IS=T((TIr,Nme)=>{"use strict";var Pl=Xt(),L0t=Ba(),P0t=Kn(),Tme=Dr(),N0t=Gr(),Pme=vt(),Ame=rF(),R0t=wp(),Mme=Bw(),k0t=gu(),q0t=AB(),j0t=tf(),PB=Pl.setImmediate,NB=Pl.clearImmediate,z0t=Pl.process,MB=Pl.Dispatch,F0t=Pl.Function,Cme=Pl.MessageChannel,B0t=Pl.String,CB=0,SS={},Ome="onreadystatechange",ES,Kg,OB,DB;Pme(function(){ES=Pl.location});var RB=function(e){if(N0t(SS,e)){var t=SS[e];delete SS[e],t()}},LB=function(e){return function(){RB(e)}},Dme=function(e){RB(e.data)},Lme=function(e){Pl.postMessage(B0t(e),ES.protocol+"//"+ES.host)};(!PB||!NB)&&(PB=function(t){k0t(arguments.length,1);var r=Tme(t)?t:F0t(t),n=R0t(arguments,1);return SS[++CB]=function(){L0t(r,void 0,n)},Kg(CB),CB},NB=function(t){delete SS[t]},j0t?Kg=function(e){z0t.nextTick(LB(e))}:MB&&MB.now?Kg=function(e){MB.now(LB(e))}:Cme&&!q0t?(OB=new Cme,DB=OB.port2,OB.port1.onmessage=Dme,Kg=P0t(DB.postMessage,DB)):Pl.addEventListener&&Tme(Pl.postMessage)&&!Pl.importScripts&&ES&&ES.protocol!=="file:"&&!Pme(Lme)?(Kg=Lme,Pl.addEventListener("message",Dme,!1)):Ome in Mme("script")?Kg=function(e){Ame.appendChild(Mme("script"))[Ome]=function(){Ame.removeChild(this),RB(e)}}:Kg=function(e){setTimeout(LB(e),0)});Nme.exports={set:PB,clear:NB}});var kB=T((AIr,kme)=>{"use strict";var Rme=function(){this.head=null,this.tail=null};Rme.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};kme.exports=Rme});var jme=T((MIr,qme)=>{"use strict";var U0t=Xc();qme.exports=/ipad|iphone|ipod/i.test(U0t)&&typeof Pebble!="undefined"});var Fme=T((CIr,zme)=>{"use strict";var V0t=Xc();zme.exports=/web0s(?!.*chrome)/i.test(V0t)});var UB=T((OIr,Wme)=>{"use strict";var Xg=Xt(),Bme=Kn(),G0t=Eo().f,qB=IS().set,H0t=kB(),$0t=AB(),W0t=jme(),Z0t=Fme(),jB=tf(),Ume=Xg.MutationObserver||Xg.WebKitMutationObserver,Vme=Xg.document,Gme=Xg.process,uO=Xg.Promise,Hme=G0t(Xg,"queueMicrotask"),BB=Hme&&Hme.value,l_,zB,FB,cO,$me;BB||(TS=new H0t,AS=function(){var e,t;for(jB&&(e=Gme.domain)&&e.exit();t=TS.get();)try{t()}catch(r){throw TS.head&&l_(),r}e&&e.enter()},!$0t&&!jB&&!Z0t&&Ume&&Vme?(zB=!0,FB=Vme.createTextNode(""),new Ume(AS).observe(FB,{characterData:!0}),l_=function(){FB.data=zB=!zB}):!W0t&&uO&&uO.resolve?(cO=uO.resolve(void 0),cO.constructor=uO,$me=Bme(cO.then,cO),l_=function(){$me(AS)}):jB?l_=function(){Gme.nextTick(AS)}:(qB=Bme(qB,Xg),l_=function(){qB(AS)}),BB=function(e){TS.head||l_(),TS.add(e)});var TS,AS;Wme.exports=BB});var VB=T((DIr,Zme)=>{"use strict";Zme.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var qh=T((LIr,Yme)=>{"use strict";Yme.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Qg=T((PIr,Kme)=>{"use strict";var Y0t=Xt();Kme.exports=Y0t.Promise});var fO=T((NIr,Xme)=>{"use strict";Xme.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var GB=T((RIr,Qme)=>{"use strict";var K0t=fO(),X0t=tf();Qme.exports=!K0t&&!X0t&&typeof window=="object"&&typeof document=="object"});var u_=T((kIr,tge)=>{"use strict";var Q0t=Xt(),MS=Qg(),J0t=Dr(),e_t=H0(),t_t=Uw(),r_t=vr(),n_t=GB(),i_t=fO(),o_t=Kr(),HB=Qc(),Jme=MS&&MS.prototype,a_t=r_t("species"),$B=!1,ege=J0t(Q0t.PromiseRejectionEvent),s_t=e_t("Promise",function(){var e=t_t(MS),t=e!==String(MS);if(!t&&HB===66||o_t&&!(Jme.catch&&Jme.finally))return!0;if(!HB||HB<51||!/native code/.test(e)){var r=new MS(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[a_t]=n,$B=r.then(function(){})instanceof n,!$B)return!0}return!t&&(n_t||i_t)&&!ege});tge.exports={CONSTRUCTOR:s_t,REJECTION_EVENT:ege,SUBCLASSING:$B}});var af=T((qIr,nge)=>{"use strict";var rge=Ir(),l_t=TypeError,u_t=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new l_t("Bad Promise constructor");t=n,r=i}),this.resolve=rge(t),this.reject=rge(r)};nge.exports.f=function(e){return new u_t(e)}});var wge=T(()=>{"use strict";var c_t=te(),f_t=Kr(),mO=tf(),jh=Xt(),d_=kt(),ige=jn(),oge=pu(),p_t=$s(),d_t=Oh(),h_t=Ir(),hO=Dr(),m_t=Lr(),g_t=Ua(),v_t=$g(),cge=IS().set,XB=UB(),y_t=VB(),__t=qh(),x_t=kB(),fge=On(),gO=Qg(),QB=u_(),pge=af(),vO="Promise",dge=QB.CONSTRUCTOR,b_t=QB.REJECTION_EVENT,w_t=QB.SUBCLASSING,WB=fge.getterFor(vO),S_t=fge.set,c_=gO&&gO.prototype,Jg=gO,pO=c_,hge=jh.TypeError,ZB=jh.document,JB=jh.process,YB=pge.f,E_t=YB,I_t=!!(ZB&&ZB.createEvent&&jh.dispatchEvent),mge="unhandledrejection",T_t="rejectionhandled",age=0,gge=1,A_t=2,eU=1,vge=2,dO,sge,M_t,lge,yge=function(e){var t;return m_t(e)&&hO(t=e.then)?t:!1},_ge=function(e,t){var r=t.value,n=t.state===gge,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,c=e.domain,d,m,v;try{i?(n||(t.rejection===vge&&O_t(t),t.rejection=eU),i===!0?d=r:(c&&c.enter(),d=i(r),c&&(c.exit(),v=!0)),d===e.promise?a(new hge("Promise-chain cycle")):(m=yge(d))?d_(m,d,o,a):o(d)):a(r)}catch(E){c&&!v&&c.exit(),a(E)}},xge=function(e,t){e.notified||(e.notified=!0,XB(function(){for(var r=e.reactions,n;n=r.get();)_ge(n,e);e.notified=!1,t&&!e.rejection&&C_t(e)}))},bge=function(e,t,r){var n,i;I_t?(n=ZB.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),jh.dispatchEvent(n)):n={promise:t,reason:r},!b_t&&(i=jh["on"+e])?i(n):e===mge&&y_t("Unhandled promise rejection",r)},C_t=function(e){d_(cge,jh,function(){var t=e.facade,r=e.value,n=uge(e),i;if(n&&(i=__t(function(){mO?JB.emit("unhandledRejection",r,t):bge(mge,t,r)}),e.rejection=mO||uge(e)?vge:eU,i.error))throw i.value})},uge=function(e){return e.rejection!==eU&&!e.parent},O_t=function(e){d_(cge,jh,function(){var t=e.facade;mO?JB.emit("rejectionHandled",t):bge(T_t,t,e.value)})},f_=function(e,t,r){return function(n){e(t,n,r)}},p_=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=A_t,xge(e,!0))},KB=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new hge("Promise can't be resolved itself");var n=yge(t);n?XB(function(){var i={done:!1};try{d_(n,t,f_(KB,i,e),f_(p_,i,e))}catch(o){p_(i,o,e)}}):(e.value=t,e.state=gge,xge(e,!1))}catch(i){p_({done:!1},i,e)}}};if(dge&&(Jg=function(t){g_t(this,pO),h_t(t),d_(dO,this);var r=WB(this);try{t(f_(KB,r),f_(p_,r))}catch(n){p_(r,n)}},pO=Jg.prototype,dO=function(t){S_t(this,{type:vO,done:!1,notified:!1,parent:!1,reactions:new x_t,rejection:!1,state:age,value:void 0})},dO.prototype=ige(pO,"then",function(t,r){var n=WB(this),i=YB(v_t(this,Jg));return n.parent=!0,i.ok=hO(t)?t:!0,i.fail=hO(r)&&r,i.domain=mO?JB.domain:void 0,n.state===age?n.reactions.add(i):XB(function(){_ge(i,n)}),i.promise}),sge=function(){var e=new dO,t=WB(e);this.promise=e,this.resolve=f_(KB,t),this.reject=f_(p_,t)},pge.f=YB=function(e){return e===Jg||e===M_t?new sge(e):E_t(e)},!f_t&&hO(gO)&&c_!==Object.prototype)){lge=c_.then,w_t||ige(c_,"then",function(t,r){var n=this;return new Jg(function(i,o){d_(lge,n,i,o)}).then(t,r)},{unsafe:!0});try{delete c_.constructor}catch(e){}oge&&oge(c_,pO)}c_t({global:!0,constructor:!0,wrap:!0,forced:dge},{Promise:Jg});p_t(Jg,vO,!1,!0);d_t(vO)});var CS=T((FIr,Sge)=>{"use strict";var D_t=Qg(),L_t=iS(),P_t=u_().CONSTRUCTOR;Sge.exports=P_t||!L_t(function(e){D_t.all(e).then(void 0,function(){})})});var Ege=T(()=>{"use strict";var N_t=te(),R_t=kt(),k_t=Ir(),q_t=af(),j_t=qh(),z_t=ji(),F_t=CS();N_t({target:"Promise",stat:!0,forced:F_t},{all:function(t){var r=this,n=q_t.f(r),i=n.resolve,o=n.reject,a=j_t(function(){var c=k_t(r.resolve),d=[],m=0,v=1;z_t(t,function(E){var I=m++,M=!1;v++,R_t(c,r,E).then(function(L){M||(M=!0,d[I]=L,--v||i(d))},o)}),--v||i(d)});return a.error&&o(a.value),n.promise}})});var Tge=T(()=>{"use strict";var B_t=te(),U_t=Kr(),V_t=u_().CONSTRUCTOR,rU=Qg(),G_t=Er(),H_t=Dr(),$_t=jn(),Ige=rU&&rU.prototype;B_t({target:"Promise",proto:!0,forced:V_t,real:!0},{catch:function(e){return this.then(void 0,e)}});!U_t&&H_t(rU)&&(tU=G_t("Promise").prototype.catch,Ige.catch!==tU&&$_t(Ige,"catch",tU,{unsafe:!0}));var tU});var Age=T(()=>{"use strict";var W_t=te(),Z_t=kt(),Y_t=Ir(),K_t=af(),X_t=qh(),Q_t=ji(),J_t=CS();W_t({target:"Promise",stat:!0,forced:J_t},{race:function(t){var r=this,n=K_t.f(r),i=n.reject,o=X_t(function(){var a=Y_t(r.resolve);Q_t(t,function(c){Z_t(a,r,c).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var Mge=T(()=>{"use strict";var e1t=te(),t1t=kt(),r1t=af(),n1t=u_().CONSTRUCTOR;e1t({target:"Promise",stat:!0,forced:n1t},{reject:function(t){var r=r1t.f(this);return t1t(r.reject,void 0,t),r.promise}})});var nU=T((YIr,Cge)=>{"use strict";var i1t=jt(),o1t=Lr(),a1t=af();Cge.exports=function(e,t){if(i1t(e),o1t(t)&&t.constructor===e)return t;var r=a1t.f(e),n=r.resolve;return n(t),r.promise}});var Lge=T(()=>{"use strict";var s1t=te(),l1t=Er(),Oge=Kr(),u1t=Qg(),Dge=u_().CONSTRUCTOR,c1t=nU(),f1t=l1t("Promise"),p1t=Oge&&!Dge;s1t({target:"Promise",stat:!0,forced:Oge||Dge},{resolve:function(t){return c1t(p1t&&this===f1t?u1t:this,t)}})});var Pge=T(()=>{"use strict";wge();Ege();Tge();Age();Mge();Lge()});var iU=T(()=>{"use strict";var d1t=te(),h1t=kt(),m1t=Ir(),g1t=af(),v1t=qh(),y1t=ji(),_1t=CS();d1t({target:"Promise",stat:!0,forced:_1t},{allSettled:function(t){var r=this,n=g1t.f(r),i=n.resolve,o=n.reject,a=v1t(function(){var c=m1t(r.resolve),d=[],m=0,v=1;y1t(t,function(E){var I=m++,M=!1;v++,h1t(c,r,E).then(function(L){M||(M=!0,d[I]={status:"fulfilled",value:L},--v||i(d))},function(L){M||(M=!0,d[I]={status:"rejected",reason:L},--v||i(d))})}),--v||i(d)});return a.error&&o(a.value),n.promise}})});var oU=T(()=>{"use strict";var x1t=te(),b1t=kt(),w1t=Ir(),S1t=Er(),E1t=af(),I1t=qh(),T1t=ji(),A1t=CS(),Nge="No one promise resolved";x1t({target:"Promise",stat:!0,forced:A1t},{any:function(t){var r=this,n=S1t("AggregateError"),i=E1t.f(r),o=i.resolve,a=i.reject,c=I1t(function(){var d=w1t(r.resolve),m=[],v=0,E=1,I=!1;T1t(t,function(M){var L=v++,R=!1;E++,b1t(d,r,M).then(function(P){R||I||(I=!0,o(P))},function(P){R||I||(R=!0,m[L]=P,--E||a(new n(m,Nge)))})}),--E||a(new n(m,Nge))});return c.error&&a(c.value),i.promise}})});var jge=T(()=>{"use strict";var M1t=te(),C1t=Kr(),yO=Qg(),O1t=vt(),kge=Er(),qge=Dr(),D1t=$g(),Rge=nU(),L1t=jn(),sU=yO&&yO.prototype,P1t=!!yO&&O1t(function(){sU.finally.call({then:function(){}},function(){})});M1t({target:"Promise",proto:!0,real:!0,forced:P1t},{finally:function(e){var t=D1t(this,kge("Promise")),r=qge(e);return this.then(r?function(n){return Rge(t,e()).then(function(){return n})}:e,r?function(n){return Rge(t,e()).then(function(){throw n})}:e)}});!C1t&&qge(yO)&&(aU=kge("Promise").prototype.finally,sU.finally!==aU&&L1t(sU,"finally",aU,{unsafe:!0}));var aU});var zge=T(()=>{"use strict";var N1t=te(),R1t=Ba(),k1t=Ir(),q1t=jt(),j1t=vt(),z1t=!j1t(function(){Reflect.apply(function(){})});N1t({target:"Reflect",stat:!0,forced:z1t},{apply:function(t,r,n){return R1t(k1t(t),r,q1t(n))}})});var $ge=T(()=>{"use strict";var F1t=te(),B1t=Er(),lU=Ba(),U1t=V6(),Fge=n_(),V1t=jt(),Bge=Lr(),G1t=Zi(),Vge=vt(),uU=B1t("Reflect","construct"),H1t=Object.prototype,$1t=[].push,Gge=Vge(function(){function e(){}return!(uU(function(){},[],e)instanceof e)}),Hge=!Vge(function(){uU(function(){})}),Uge=Gge||Hge;F1t({target:"Reflect",stat:!0,forced:Uge,sham:Uge},{construct:function(t,r){Fge(t),V1t(r);var n=arguments.length<3?t:Fge(arguments[2]);if(Hge&&!Gge)return uU(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);}var i=[null];return lU($1t,i,r),new(lU(U1t,t,i))}var o=n.prototype,a=G1t(Bge(o)?o:H1t),c=lU(t,a,r);return Bge(c)?c:a}})});var Yge=T(()=>{"use strict";var W1t=te(),Z1t=gr(),Wge=jt(),Y1t=sc(),Zge=ai(),K1t=vt(),X1t=K1t(function(){Reflect.defineProperty(Zge.f({},1,{value:1}),1,{value:2})});W1t({target:"Reflect",stat:!0,forced:X1t,sham:!Z1t},{defineProperty:function(t,r,n){Wge(t);var i=Y1t(r);Wge(n);try{return Zge.f(t,i,n),!0}catch(o){return!1}}})});var Kge=T(()=>{"use strict";var Q1t=te(),J1t=jt(),ext=Eo().f;Q1t({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=ext(J1t(t),r);return n&&!n.configurable?!1:delete t[r]}})});var cU=T((hTr,Qge)=>{"use strict";var Xge=Gr();Qge.exports=function(e){return e!==void 0&&(Xge(e,"value")||Xge(e,"writable"))}});var eve=T(()=>{"use strict";var txt=te(),rxt=kt(),nxt=Lr(),ixt=jt(),oxt=cU(),axt=Eo(),sxt=ro();function Jge(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(ixt(e)===r)return e[t];if(n=axt.f(e,t),n)return oxt(n)?n.value:n.get===void 0?void 0:rxt(n.get,r);if(nxt(i=sxt(e)))return Jge(i,t,r)}txt({target:"Reflect",stat:!0},{get:Jge})});var tve=T(()=>{"use strict";var lxt=te(),uxt=gr(),cxt=jt(),fxt=Eo();lxt({target:"Reflect",stat:!0,sham:!uxt},{getOwnPropertyDescriptor:function(t,r){return fxt.f(cxt(t),r)}})});var rve=T(()=>{"use strict";var pxt=te(),dxt=jt(),hxt=ro(),mxt=wC();pxt({target:"Reflect",stat:!0,sham:!mxt},{getPrototypeOf:function(t){return hxt(dxt(t))}})});var nve=T(()=>{"use strict";var gxt=te();gxt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var ive=T(()=>{"use strict";var vxt=te(),yxt=jt(),_xt=eO();vxt({target:"Reflect",stat:!0},{isExtensible:function(t){return yxt(t),_xt(t)}})});var ove=T(()=>{"use strict";var xxt=te(),bxt=rC();xxt({target:"Reflect",stat:!0},{ownKeys:bxt})});var ave=T(()=>{"use strict";var wxt=te(),Sxt=Er(),Ext=jt(),Ixt=Dp();wxt({target:"Reflect",stat:!0,sham:!Ixt},{preventExtensions:function(t){Ext(t);try{var r=Sxt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var fve=T(()=>{"use strict";var Txt=te(),Axt=kt(),Mxt=jt(),sve=Lr(),Cxt=cU(),Oxt=vt(),fU=ai(),lve=Eo(),Dxt=ro(),uve=Vs();function cve(e,t,r){var n=arguments.length<4?e:arguments[3],i=lve.f(Mxt(e),t),o,a,c;if(!i){if(sve(a=Dxt(e)))return cve(a,t,r,n);i=uve(0)}if(Cxt(i)){if(i.writable===!1||!sve(n))return!1;if(o=lve.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,fU.f(n,t,o)}else fU.f(n,t,uve(0,r))}else{if(c=i.set,c===void 0)return!1;Axt(c,n,r)}return!0}var Lxt=Oxt(function(){var e=function(){},t=fU.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Txt({target:"Reflect",stat:!0,forced:Lxt},{set:cve})});var dve=T(()=>{"use strict";var Pxt=te(),Nxt=jt(),Rxt=TF(),pve=pu();pve&&Pxt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){Nxt(t),Rxt(r);try{return pve(t,r),!0}catch(n){return!1}}})});var hve=T(()=>{"use strict";var kxt=te(),qxt=Xt(),jxt=$s();kxt({global:!0},{Reflect:{}});jxt(qxt.Reflect,"Reflect",!0)});var h_=T((RTr,mve)=>{"use strict";var zxt=Lr(),Fxt=aa(),Bxt=vr(),Uxt=Bxt("match");mve.exports=function(e){var t;return zxt(e)&&((t=e[Uxt])!==void 0?!!t:Fxt(e)==="RegExp")}});var _O=T((kTr,gve)=>{"use strict";var Vxt=jt();gve.exports=function(){var e=Vxt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var m_=T((qTr,yve)=>{"use strict";var Gxt=kt(),Hxt=Gr(),$xt=Fa(),Wxt=_O(),vve=RegExp.prototype;yve.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in vve)&&!Hxt(e,"flags")&&$xt(vve,e)?Gxt(Wxt,e):t}});var OS=T((jTr,_ve)=>{"use strict";var pU=vt(),Zxt=Xt(),dU=Zxt.RegExp,hU=pU(function(){var e=dU("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),Yxt=hU||pU(function(){return!dU("a","y").sticky}),Kxt=hU||pU(function(){var e=dU("^r","gy");return e.lastIndex=2,e.exec("str")!==null});_ve.exports={BROKEN_CARET:Kxt,MISSED_STICKY:Yxt,UNSUPPORTED_Y:hU}});var xO=T((zTr,xve)=>{"use strict";var Xxt=vt(),Qxt=Xt(),Jxt=Qxt.RegExp;xve.exports=Xxt(function(){var e=Jxt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var mU=T((FTr,bve)=>{"use strict";var ebt=vt(),tbt=Xt(),rbt=tbt.RegExp;bve.exports=ebt(function(){var e=rbt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var Ove=T(()=>{"use strict";var nbt=gr(),_U=Xt(),DS=st(),ibt=H0(),obt=zg(),abt=to(),sbt=_p().f,wve=Fa(),lbt=h_(),Sve=Mr(),ubt=m_(),Tve=OS(),cbt=AF(),fbt=jn(),pbt=vt(),dbt=Gr(),hbt=On().enforce,mbt=Oh(),gbt=vr(),Ave=xO(),Mve=mU(),vbt=gbt("match"),Fh=_U.RegExp,g_=Fh.prototype,ybt=_U.SyntaxError,_bt=DS(g_.exec),bO=DS("".charAt),Eve=DS("".replace),Ive=DS("".indexOf),xbt=DS("".slice),bbt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ev=/a/g,gU=/a/g,wbt=new Fh(ev)!==ev,Cve=Tve.MISSED_STICKY,Sbt=Tve.UNSUPPORTED_Y,Ebt=nbt&&(!wbt||Cve||Ave||Mve||pbt(function(){return gU[vbt]=!1,Fh(ev)!==ev||Fh(gU)===gU||String(Fh(ev,"i"))!=="/a/i"})),Ibt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=bO(e,r),o==="\\"){n+=o+bO(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},Tbt=function(e){for(var t=e.length,r=0,n="",i=[],o={},a=!1,c=!1,d=0,m="",v;r<=t;r++){if(v=bO(e,r),v==="\\")v+=bO(e,++r);else if(v==="]")a=!1;else if(!a)switch(!0){case v==="[":a=!0;break;case v==="(":_bt(bbt,xbt(e,r+1))&&(r+=2,c=!0),n+=v,d++;continue;case v===">"&&c:if(m===""||dbt(o,m))throw new ybt("Invalid capture group name");o[m]=!0,i[i.length]=[m,d],c=!1,m="";continue;}c?m+=v:n+=v}return[n,i]};if(ibt("RegExp",Ebt)){for(zh=function(t,r){var n=wve(g_,this),i=lbt(t),o=r===void 0,a=[],c=t,d,m,v,E,I,M;if(!n&&i&&o&&t.constructor===zh)return t;if((i||wve(g_,t))&&(t=t.source,o&&(r=ubt(c))),t=t===void 0?"":Sve(t),r=r===void 0?"":Sve(r),c=t,Ave&&("dotAll"in ev)&&(m=!!r&&Ive(r,"s")>-1,m&&(r=Eve(r,/s/g,""))),d=r,Cve&&("sticky"in ev)&&(v=!!r&&Ive(r,"y")>-1,v&&Sbt&&(r=Eve(r,/y/g,""))),Mve&&(E=Tbt(t),t=E[0],a=E[1]),I=obt(Fh(t,r),n?this:g_,zh),(m||v||a.length)&&(M=hbt(I),m&&(M.dotAll=!0,M.raw=zh(Ibt(t),d)),v&&(M.sticky=!0),a.length&&(M.groups=a)),t!==c)try{abt(I,"source",c===""?"(?:)":c)}catch(L){}return I},vU=sbt(Fh),yU=0;vU.length>yU;)cbt(zh,Fh,vU[yU++]);g_.constructor=zh,zh.prototype=g_,fbt(_U,"RegExp",zh,{constructor:!0})}var zh,vU,yU;mbt("RegExp")});var Lve=T(()=>{"use strict";var Abt=gr(),Mbt=xO(),Cbt=aa(),Obt=Ai(),Dbt=On().get,Dve=RegExp.prototype,Lbt=TypeError;Abt&&Mbt&&Obt(Dve,"dotAll",{configurable:!0,get:function(){if(this!==Dve){if(Cbt(this)==="RegExp")return!!Dbt(this).dotAll;throw new Lbt("Incompatible receiver, RegExp required")}}})});var LS=T((HTr,Nve)=>{"use strict";var v_=kt(),SO=st(),Pbt=Mr(),Nbt=_O(),Rbt=OS(),kbt=Jc(),qbt=Zi(),jbt=On().get,zbt=xO(),Fbt=mU(),Bbt=kbt("native-string-replace",String.prototype.replace),wO=RegExp.prototype.exec,bU=wO,Ubt=SO("".charAt),Vbt=SO("".indexOf),Gbt=SO("".replace),xU=SO("".slice),wU=function(){var e=/a/,t=/b*/g;return v_(wO,e,"a"),v_(wO,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),Pve=Rbt.BROKEN_CARET,SU=/()??/.exec("")[1]!==void 0,Hbt=wU||SU||Pve||zbt||Fbt;Hbt&&(bU=function(t){var r=this,n=jbt(r),i=Pbt(t),o=n.raw,a,c,d,m,v,E,I;if(o)return o.lastIndex=r.lastIndex,a=v_(bU,o,i),r.lastIndex=o.lastIndex,a;var M=n.groups,L=Pve&&r.sticky,R=v_(Nbt,r),P=r.source,q=0,j=i;if(L&&(R=Gbt(R,"y",""),Vbt(R,"g")===-1&&(R+="g"),j=xU(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Ubt(i,r.lastIndex-1)!==`
`)&&(P="(?: "+P+")",j=" "+j,q++),c=new RegExp("^(?:"+P+")",R)),SU&&(c=new RegExp("^"+P+"$(?!\\s)",R)),wU&&(d=r.lastIndex),m=v_(wO,L?c:r,j),L?m?(m.input=xU(m.input,q),m[0]=xU(m[0],q),m.index=r.lastIndex,r.lastIndex+=m[0].length):r.lastIndex=0:wU&&m&&(r.lastIndex=r.global?m.index+m[0].length:d),SU&&m&&m.length>1&&v_(Bbt,m[0],c,function(){for(v=1;v<arguments.length-2;v++)arguments[v]===void 0&&(m[v]=void 0)}),m&&M)for(m.groups=E=qbt(null),v=0;v<M.length;v++)I=M[v],E[I[0]]=m[I[1]];return m});Nve.exports=bU});var EO=T(()=>{"use strict";var $bt=te(),Rve=LS();$bt({target:"RegExp",proto:!0,forced:/./.exec!==Rve},{exec:Rve})});var jve=T(()=>{"use strict";var Wbt=Xt(),Zbt=gr(),Ybt=Ai(),Kbt=_O(),Xbt=vt(),kve=Wbt.RegExp,qve=kve.prototype,Qbt=Zbt&&Xbt(function(){var e=!0;try{kve(".","d")}catch(d){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(d,m){Object.defineProperty(t,d,{get:function(){return r+=m,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var a in o)i(a,o[a]);var c=Object.getOwnPropertyDescriptor(qve,"flags").get.call(t);return c!==n||r!==n});Qbt&&Ybt(qve,"flags",{configurable:!0,get:Kbt})});var Fve=T(()=>{"use strict";var Jbt=gr(),ewt=OS().MISSED_STICKY,twt=aa(),rwt=Ai(),nwt=On().get,zve=RegExp.prototype,iwt=TypeError;Jbt&&ewt&&rwt(zve,"sticky",{configurable:!0,get:function(){if(this!==zve){if(twt(this)==="RegExp")return!!nwt(this).sticky;throw new iwt("Incompatible receiver, RegExp required")}}})});var Vve=T(()=>{"use strict";EO();var owt=te(),Bve=kt(),awt=Dr(),Uve=jt(),swt=Mr(),lwt=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),uwt=/./.test;owt({target:"RegExp",proto:!0,forced:!lwt},{test:function(e){var t=Uve(this),r=swt(e),n=t.exec;if(!awt(n))return Bve(uwt,t,r);var i=Bve(n,t,r);return i===null?!1:(Uve(i),!0)}})});var $ve=T(()=>{"use strict";var cwt=Lg().PROPER,fwt=jn(),pwt=jt(),Gve=Mr(),dwt=vt(),hwt=m_(),EU="toString",mwt=RegExp.prototype,Hve=mwt[EU],gwt=dwt(function(){return Hve.call({source:"a",flags:"b"})!=="/a/b"}),vwt=cwt&&Hve.name!==EU;(gwt||vwt)&&fwt(RegExp.prototype,EU,function(){var t=pwt(this),r=Gve(t.source),n=Gve(hwt(t));return"/"+r+"/"+n},{unsafe:!0})});var Wve=T(()=>{"use strict";var ywt=hS(),_wt=J6();ywt("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},_wt)});var Zve=T(()=>{"use strict";Wve()});var Yve=T(()=>{"use strict";var xwt=te(),bwt=st(),wwt=gi(),Swt=vi(),Ewt=Mr(),Iwt=vt(),Twt=bwt("".charAt),Awt=Iwt(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});xwt({target:"String",proto:!0,forced:Awt},{at:function(t){var r=Ewt(wwt(this)),n=r.length,i=Swt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:Twt(r,o)}})});var tv=T((l2r,Qve)=>{"use strict";var IU=st(),Mwt=vi(),Cwt=Mr(),Owt=gi(),Dwt=IU("".charAt),Kve=IU("".charCodeAt),Lwt=IU("".slice),Xve=function(e){return function(t,r){var n=Cwt(Owt(t)),i=Mwt(r),o=n.length,a,c;return i<0||i>=o?e?"":void 0:(a=Kve(n,i),a<55296||a>56319||i+1===o||(c=Kve(n,i+1))<56320||c>57343?e?Dwt(n,i):a:e?Lwt(n,i,i+2):(a-55296<<10)+(c-56320)+65536)}};Qve.exports={codeAt:Xve(!1),charAt:Xve(!0)}});var Jve=T(()=>{"use strict";var Pwt=te(),Nwt=tv().codeAt;Pwt({target:"String",proto:!0},{codePointAt:function(t){return Nwt(this,t)}})});var IO=T((f2r,eye)=>{"use strict";var Rwt=h_(),kwt=TypeError;eye.exports=function(e){if(Rwt(e))throw new kwt("The method doesn't accept regular expressions");return e}});var TO=T((p2r,tye)=>{"use strict";var qwt=vr(),jwt=qwt("match");tye.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[jwt]=!1,"/./"[e](t)}catch(n){}}return!1}});var aye=T(()=>{"use strict";var zwt=te(),iye=xp(),Fwt=Eo().f,Bwt=Gs(),rye=Mr(),Uwt=IO(),Vwt=gi(),Gwt=TO(),Hwt=Kr(),nye=iye("".endsWith),$wt=iye("".slice),Wwt=Math.min,oye=Gwt("endsWith"),Zwt=!Hwt&&!oye&&!!function(){var e=Fwt(String.prototype,"endsWith");return e&&!e.writable}();zwt({target:"String",proto:!0,forced:!Zwt&&!oye},{endsWith:function(t){var r=rye(Vwt(this));Uwt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:Wwt(Bwt(n),i),a=rye(t);return nye?nye(r,a,o):$wt(r,o-a.length,o)===a}})});var uye=T(()=>{"use strict";var Ywt=te(),Kwt=st(),Xwt=uu(),Qwt=RangeError,sye=String.fromCharCode,lye=String.fromCodePoint,Jwt=Kwt([].join),eSt=!!lye&&lye.length!==1;Ywt({target:"String",stat:!0,arity:1,forced:eSt},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],Xwt(o,1114111)!==o)throw new Qwt(o+" is not a valid code point");r[i]=o<65536?sye(o):sye(((o-=65536)>>10)+55296,o%1024+56320)}return Jwt(r,"")}})});var fye=T(()=>{"use strict";var tSt=te(),rSt=st(),nSt=IO(),iSt=gi(),cye=Mr(),oSt=TO(),aSt=rSt("".indexOf);tSt({target:"String",proto:!0,forced:!oSt("includes")},{includes:function(t){return!!~aSt(cye(iSt(this)),cye(nSt(t)),arguments.length>1?arguments[1]:void 0)}})});var TU=T(()=>{"use strict";var sSt=te(),lSt=st(),uSt=gi(),cSt=Mr(),pye=lSt("".charCodeAt);sSt({target:"String",proto:!0},{isWellFormed:function(){for(var t=cSt(uSt(this)),r=t.length,n=0;n<r;n++){var i=pye(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(pye(t,n)&64512)!==56320))return!1}return!0}})});var AU=T(()=>{"use strict";var fSt=tv().charAt,pSt=Mr(),hye=On(),dSt=DC(),dye=sa(),mye="String Iterator",hSt=hye.set,mSt=hye.getterFor(mye);dSt(String,"String",function(e){hSt(this,{type:mye,string:pSt(e),index:0})},function(){var t=mSt(this),r=t.string,n=t.index,i;return n>=r.length?dye(void 0,!0):(i=fSt(r,n),t.index+=i.length,dye(i,!1))})});var PS=T((S2r,xye)=>{"use strict";EO();var gye=xp(),vye=jn(),gSt=LS(),yye=vt(),_ye=vr(),vSt=to(),ySt=_ye("species"),MU=RegExp.prototype;xye.exports=function(e,t,r,n){var i=_ye(e),o=!yye(function(){var m={};return m[i]=function(){return 7},""[e](m)!==7}),a=o&&!yye(function(){var m=!1,v=/a/;return e==="split"&&(v={},v.constructor={},v.constructor[ySt]=function(){return v},v.flags="",v[i]=/./[i]),v.exec=function(){return m=!0,null},v[i](""),!m});if(!o||!a||r){var c=gye(/./[i]),d=t(i,""[e],function(m,v,E,I,M){var L=gye(m),R=v.exec;return R===gSt||R===MU.exec?o&&!M?{done:!0,value:c(v,E,I)}:{done:!0,value:L(E,v,I)}:{done:!1}});vye(String.prototype,e,d[0]),vye(MU,i,d[1])}n&&vSt(MU[i],"sham",!0)}});var NS=T((E2r,bye)=>{"use strict";var _St=tv().charAt;bye.exports=function(e,t,r){return t+(r?_St(e,t).length:1)}});var y_=T((I2r,Sye)=>{"use strict";var wye=kt(),xSt=jt(),bSt=Dr(),wSt=aa(),SSt=LS(),ESt=TypeError;Sye.exports=function(e,t){var r=e.exec;if(bSt(r)){var n=wye(r,e,t);return n!==null&&xSt(n),n}if(wSt(e)==="RegExp")return wye(SSt,e,t);throw new ESt("RegExp#exec called on incompatible receiver")}});var Iye=T(()=>{"use strict";var ISt=kt(),TSt=PS(),ASt=jt(),MSt=eo(),CSt=Gs(),CU=Mr(),OSt=gi(),DSt=Wi(),LSt=NS(),Eye=y_();TSt("match",function(e,t,r){return[function(i){var o=OSt(this),a=MSt(i)?void 0:DSt(i,e);return a?ISt(a,i,o):new RegExp(i)[e](CU(o))},function(n){var i=ASt(this),o=CU(n),a=r(t,i,o);if(a.done)return a.value;if(!i.global)return Eye(i,o);var c=i.unicode;i.lastIndex=0;for(var d=[],m=0,v;(v=Eye(i,o))!==null;){var E=CU(v[0]);d[m]=E,E===""&&(i.lastIndex=LSt(o,CSt(i.lastIndex),c)),m++}return m===0?null:d}]})});var NU=T(()=>{"use strict";var PSt=te(),Tye=kt(),Cye=xp(),NSt=Mh(),AO=sa(),Aye=gi(),Oye=Gs(),RS=Mr(),RSt=jt(),kSt=eo(),qSt=aa(),jSt=h_(),Dye=m_(),zSt=Wi(),FSt=jn(),BSt=vt(),USt=vr(),VSt=$g(),GSt=NS(),HSt=y_(),Lye=On(),DU=Kr(),MO=USt("matchAll"),Pye="RegExp String",Nye=Pye+" Iterator",$St=Lye.set,WSt=Lye.getterFor(Nye),Mye=RegExp.prototype,ZSt=TypeError,LU=Cye("".indexOf),CO=Cye("".matchAll),OU=!!CO&&!BSt(function(){CO("a",/./)}),YSt=NSt(function(t,r,n,i){$St(this,{type:Nye,regexp:t,string:r,global:n,unicode:i,done:!1})},Pye,function(){var t=WSt(this);if(t.done)return AO(void 0,!0);var r=t.regexp,n=t.string,i=HSt(r,n);return i===null?(t.done=!0,AO(void 0,!0)):t.global?(RS(i[0])===""&&(r.lastIndex=GSt(n,Oye(r.lastIndex),t.unicode)),AO(i,!1)):(t.done=!0,AO(i,!1))}),PU=function(e){var t=RSt(this),r=RS(e),n=VSt(t,RegExp),i=RS(Dye(t)),o,a,c;return o=new n(n===RegExp?t.source:t,i),a=!!~LU(i,"g"),c=!!~LU(i,"u"),o.lastIndex=Oye(t.lastIndex),new YSt(o,r,a,c)};PSt({target:"String",proto:!0,forced:OU},{matchAll:function(t){var r=Aye(this),n,i,o,a;if(kSt(t)){if(OU)return CO(r,t)}else{if(jSt(t)&&(n=RS(Aye(Dye(t))),!~LU(n,"g")))throw new ZSt("`.matchAll` does not allow non-global regexes");if(OU)return CO(r,t);if(o=zSt(t,MO),o===void 0&&DU&&qSt(t)==="RegExp"&&(o=PU),o)return Tye(o,t,r)}return i=RS(r),a=new RegExp(t,"g"),DU?Tye(PU,a,i):a[MO](i)}});DU||MO in Mye||FSt(Mye,MO,PU)});var RU=T((O2r,Rye)=>{"use strict";var KSt=Xc();Rye.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(KSt)});var kye=T(()=>{"use strict";var XSt=te(),QSt=XC().end,JSt=RU();XSt({target:"String",proto:!0,forced:JSt},{padEnd:function(t){return QSt(this,t,arguments.length>1?arguments[1]:void 0)}})});var qye=T(()=>{"use strict";var eEt=te(),tEt=XC().start,rEt=RU();eEt({target:"String",proto:!0,forced:rEt},{padStart:function(t){return tEt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Bye=T(()=>{"use strict";var nEt=te(),Fye=st(),iEt=ho(),oEt=Xr(),jye=Mr(),aEt=rn(),zye=Fye([].push),sEt=Fye([].join);nEt({target:"String",stat:!0},{raw:function(t){var r=iEt(oEt(t).raw),n=aEt(r);if(!n)return"";for(var i=arguments.length,o=[],a=0;;){if(zye(o,jye(r[a++])),a===n)return sEt(o,"");a<i&&zye(o,jye(arguments[a]))}}})});var Uye=T(()=>{"use strict";var lEt=te(),uEt=pS();lEt({target:"String",proto:!0},{repeat:uEt})});var zU=T((z2r,Vye)=>{"use strict";var jU=st(),cEt=Xr(),fEt=Math.floor,kU=jU("".charAt),pEt=jU("".replace),qU=jU("".slice),dEt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hEt=/\$([$&'`]|\d{1,2})/g;Vye.exports=function(e,t,r,n,i,o){var a=r+e.length,c=n.length,d=hEt;return i!==void 0&&(i=cEt(i),d=dEt),pEt(o,d,function(m,v){var E;switch(kU(v,0)){case"$":return"$";case"&":return e;case"`":return qU(t,0,r);case"'":return qU(t,a);case"<":E=i[qU(v,1,-1)];break;default:var I=+v;if(I===0)return m;if(I>c){var M=fEt(I/10);return M===0?m:M<=c?n[M-1]===void 0?kU(v,1):n[M-1]+kU(v,1):m}E=n[I-1];}return E===void 0?"":E})}});var Zye=T(()=>{"use strict";var mEt=Ba(),Gye=kt(),OO=st(),gEt=PS(),vEt=vt(),yEt=jt(),_Et=Dr(),xEt=eo(),bEt=vi(),wEt=Gs(),__=Mr(),SEt=gi(),EEt=NS(),IEt=Wi(),TEt=zU(),AEt=y_(),MEt=vr(),BU=MEt("replace"),CEt=Math.max,OEt=Math.min,DEt=OO([].concat),FU=OO([].push),Hye=OO("".indexOf),$ye=OO("".slice),LEt=function(e){return e===void 0?e:String(e)},PEt=function(){return"a".replace(/./,"$0")==="$0"}(),Wye=function(){return /./[BU]?/./[BU]("a","$0")==="":!1}(),NEt=!vEt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});gEt("replace",function(e,t,r){var n=Wye?"$":"$0";return[function(o,a){var c=SEt(this),d=xEt(o)?void 0:IEt(o,BU);return d?Gye(d,o,c,a):Gye(t,__(c),o,a)},function(i,o){var a=yEt(this),c=__(i);if(typeof o=="string"&&Hye(o,n)===-1&&Hye(o,"$<")===-1){var d=r(t,a,c,o);if(d.done)return d.value}var m=_Et(o);m||(o=__(o));var v=a.global,E;v&&(E=a.unicode,a.lastIndex=0);for(var I=[],M;M=AEt(a,c),!(M===null||(FU(I,M),!v));){var L=__(M[0]);L===""&&(a.lastIndex=EEt(c,wEt(a.lastIndex),E))}for(var R="",P=0,q=0;q<I.length;q++){M=I[q];for(var j=__(M[0]),B=CEt(OEt(bEt(M.index),c.length),0),Z=[],re,Q=1;Q<M.length;Q++)FU(Z,LEt(M[Q]));var oe=M.groups;if(m){var me=DEt([j],Z,B,c);oe!==void 0&&FU(me,oe),re=__(mEt(o,void 0,me))}else re=TEt(j,c,B,Z,oe,o);B>=P&&(R+=$ye(c,P,B)+re,P=B+j.length)}return R+$ye(c,P)}]},!NEt||!PEt||Wye)});var VU=T(()=>{"use strict";var REt=te(),kEt=kt(),UU=st(),Yye=gi(),qEt=Dr(),jEt=eo(),zEt=h_(),x_=Mr(),FEt=Wi(),BEt=m_(),UEt=zU(),VEt=vr(),GEt=Kr(),HEt=VEt("replace"),$Et=TypeError,Qye=UU("".indexOf),WEt=UU("".replace),Kye=UU("".slice),ZEt=Math.max,Xye=function(e,t,r){return r>e.length?-1:t===""?r:Qye(e,t,r)};REt({target:"String",proto:!0},{replaceAll:function(t,r){var n=Yye(this),i,o,a,c,d,m,v,E,I,M=0,L=0,R="";if(!jEt(t)){if(i=zEt(t),i&&(o=x_(Yye(BEt(t))),!~Qye(o,"g")))throw new $Et("`.replaceAll` does not allow non-global regexes");if(a=FEt(t,HEt),a)return kEt(a,t,n,r);if(GEt&&i)return WEt(x_(n),t,r)}for(c=x_(n),d=x_(t),m=qEt(r),m||(r=x_(r)),v=d.length,E=ZEt(1,v),M=Xye(c,d,0);M!==-1;)I=m?x_(r(d,M,c)):UEt(d,c,M,[],void 0,r),R+=Kye(c,L,M)+I,L=M+v,M=Xye(c,d,M+E);return L<c.length&&(R+=Kye(c,L)),R}})});var t0e=T(()=>{"use strict";var YEt=kt(),KEt=PS(),XEt=jt(),QEt=eo(),JEt=gi(),Jye=wB(),e0e=Mr(),eIt=Wi(),tIt=y_();KEt("search",function(e,t,r){return[function(i){var o=JEt(this),a=QEt(i)?void 0:eIt(i,e);return a?YEt(a,i,o):new RegExp(i)[e](e0e(o))},function(n){var i=XEt(this),o=e0e(n),a=r(t,i,o);if(a.done)return a.value;var c=i.lastIndex;Jye(c,0)||(i.lastIndex=0);var d=tIt(i,o);return Jye(i.lastIndex,c)||(i.lastIndex=c),d===null?-1:d.index}]})});var s0e=T(()=>{"use strict";var rIt=Ba(),kS=kt(),HU=st(),nIt=PS(),iIt=jt(),oIt=eo(),aIt=h_(),r0e=gi(),sIt=$g(),lIt=NS(),uIt=Gs(),GU=Mr(),cIt=Wi(),n0e=Rg(),i0e=y_(),fIt=LS(),pIt=OS(),dIt=vt(),b_=pIt.UNSUPPORTED_Y,o0e=4294967295,hIt=Math.min,a0e=[].push,mIt=HU(/./.exec),w_=HU(a0e),qS=HU("".slice),gIt=!dIt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});nIt("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,o){var a=GU(r0e(this)),c=o===void 0?o0e:o>>>0;if(c===0)return[];if(i===void 0)return[a];if(!aIt(i))return kS(t,a,i,c);for(var d=[],m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),v=0,E=new RegExp(i.source,m+"g"),I,M,L;(I=kS(fIt,E,a))&&(M=E.lastIndex,!(M>v&&(w_(d,qS(a,v,I.index)),I.length>1&&I.index<a.length&&rIt(a0e,d,n0e(I,1)),L=I[0].length,v=M,d.length>=c)));)E.lastIndex===I.index&&E.lastIndex++;return v===a.length?(L||!mIt(E,""))&&w_(d,""):w_(d,qS(a,v)),d.length>c?n0e(d,0,c):d}:"0".split(void 0,0).length?n=function(i,o){return i===void 0&&o===0?[]:kS(t,this,i,o)}:n=t,[function(o,a){var c=r0e(this),d=oIt(o)?void 0:cIt(o,e);return d?kS(d,o,c,a):kS(n,GU(c),o,a)},function(i,o){var a=iIt(this),c=GU(i),d=r(n,a,c,o,n!==t);if(d.done)return d.value;var m=sIt(a,RegExp),v=a.unicode,E=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(b_?"g":"y"),I=new m(b_?"^(?:"+a.source+")":a,E),M=o===void 0?o0e:o>>>0;if(M===0)return[];if(c.length===0)return i0e(I,c)===null?[c]:[];for(var L=0,R=0,P=[];R<c.length;){I.lastIndex=b_?0:R;var q=i0e(I,b_?qS(c,R):c),j;if(q===null||(j=hIt(uIt(I.lastIndex+(b_?R:0)),c.length))===L)R=lIt(c,R,v);else{if(w_(P,qS(c,L,R)),P.length===M)return P;for(var B=1;B<=q.length-1;B++)if(w_(P,q[B]),P.length===M)return P;R=L=j}}return w_(P,qS(c,L)),P}]},!gIt,b_)});var p0e=T(()=>{"use strict";var vIt=te(),c0e=xp(),yIt=Eo().f,_It=Gs(),l0e=Mr(),xIt=IO(),bIt=gi(),wIt=TO(),SIt=Kr(),u0e=c0e("".startsWith),EIt=c0e("".slice),IIt=Math.min,f0e=wIt("startsWith"),TIt=!SIt&&!f0e&&!!function(){var e=yIt(String.prototype,"startsWith");return e&&!e.writable}();vIt({target:"String",proto:!0,forced:!TIt&&!f0e},{startsWith:function(t){var r=l0e(bIt(this));xIt(t);var n=_It(IIt(arguments.length>1?arguments[1]:void 0,r.length)),i=l0e(t);return u0e?u0e(r,i,n):EIt(r,n,n+i.length)===i}})});var h0e=T(()=>{"use strict";var AIt=te(),MIt=st(),CIt=gi(),d0e=vi(),OIt=Mr(),DIt=MIt("".slice),LIt=Math.max,PIt=Math.min,NIt=!"".substr||"ab".substr(-1)!=="b";AIt({target:"String",proto:!0,forced:NIt},{substr:function(t,r){var n=OIt(CIt(this)),i=n.length,o=d0e(t),a,c;return o===1/0&&(o=0),o<0&&(o=LIt(i+o,0)),a=r===void 0?i:d0e(r),a<=0||a===1/0?"":(c=PIt(o+a,i),o>=c?"":DIt(n,o,c))}})});var YU=T(()=>{"use strict";var RIt=te(),v0e=kt(),ZU=st(),kIt=gi(),qIt=Mr(),jIt=vt(),zIt=Array,$U=ZU("".charAt),m0e=ZU("".charCodeAt),FIt=ZU([].join),WU="".toWellFormed,BIt="\uFFFD",g0e=WU&&jIt(function(){return v0e(WU,1)!=="1"});RIt({target:"String",proto:!0,forced:g0e},{toWellFormed:function(){var t=qIt(kIt(this));if(g0e)return v0e(WU,t);for(var r=t.length,n=zIt(r),i=0;i<r;i++){var o=m0e(t,i);(o&63488)!==55296?n[i]=$U(t,i):o>=56320||i+1>=r||(m0e(t,i+1)&64512)!==56320?n[i]=BIt:(n[i]=$U(t,i),n[++i]=$U(t,i))}return FIt(n,"")}})});var DO=T((eAr,x0e)=>{"use strict";var UIt=Lg().PROPER,VIt=vt(),y0e=Zg(),_0e="\u200B\x85\u180E";x0e.exports=function(e){return VIt(function(){return!!y0e[e]()||_0e[e]()!==_0e||UIt&&y0e[e].name!==e})}});var b0e=T(()=>{"use strict";var GIt=te(),HIt=Yg().trim,$It=DO();GIt({target:"String",proto:!0,forced:$It("trim")},{trim:function(){return HIt(this)}})});var KU=T((nAr,w0e)=>{"use strict";var WIt=Yg().end,ZIt=DO();w0e.exports=ZIt("trimEnd")?function(){return WIt(this)}:"".trimEnd});var E0e=T(()=>{"use strict";var YIt=te(),S0e=KU();YIt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==S0e},{trimRight:S0e})});var T0e=T(()=>{"use strict";E0e();var KIt=te(),I0e=KU();KIt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==I0e},{trimEnd:I0e})});var XU=T((lAr,A0e)=>{"use strict";var XIt=Yg().start,QIt=DO();A0e.exports=QIt("trimStart")?function(){return XIt(this)}:"".trimStart});var C0e=T(()=>{"use strict";var JIt=te(),M0e=XU();JIt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==M0e},{trimLeft:M0e})});var D0e=T(()=>{"use strict";C0e();var eTt=te(),O0e=XU();eTt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==O0e},{trimStart:O0e})});var Ys=T((dAr,P0e)=>{"use strict";var tTt=st(),rTt=gi(),L0e=Mr(),nTt=/"/g,iTt=tTt("".replace);P0e.exports=function(e,t,r,n){var i=L0e(rTt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+iTt(L0e(n),nTt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var Ks=T((hAr,N0e)=>{"use strict";var oTt=vt();N0e.exports=function(e){return oTt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var R0e=T(()=>{"use strict";var aTt=te(),sTt=Ys(),lTt=Ks();aTt({target:"String",proto:!0,forced:lTt("anchor")},{anchor:function(t){return sTt(this,"a","name",t)}})});var k0e=T(()=>{"use strict";var uTt=te(),cTt=Ys(),fTt=Ks();uTt({target:"String",proto:!0,forced:fTt("big")},{big:function(){return cTt(this,"big","","")}})});var q0e=T(()=>{"use strict";var pTt=te(),dTt=Ys(),hTt=Ks();pTt({target:"String",proto:!0,forced:hTt("blink")},{blink:function(){return dTt(this,"blink","","")}})});var j0e=T(()=>{"use strict";var mTt=te(),gTt=Ys(),vTt=Ks();mTt({target:"String",proto:!0,forced:vTt("bold")},{bold:function(){return gTt(this,"b","","")}})});var z0e=T(()=>{"use strict";var yTt=te(),_Tt=Ys(),xTt=Ks();yTt({target:"String",proto:!0,forced:xTt("fixed")},{fixed:function(){return _Tt(this,"tt","","")}})});var F0e=T(()=>{"use strict";var bTt=te(),wTt=Ys(),STt=Ks();bTt({target:"String",proto:!0,forced:STt("fontcolor")},{fontcolor:function(t){return wTt(this,"font","color",t)}})});var B0e=T(()=>{"use strict";var ETt=te(),ITt=Ys(),TTt=Ks();ETt({target:"String",proto:!0,forced:TTt("fontsize")},{fontsize:function(t){return ITt(this,"font","size",t)}})});var U0e=T(()=>{"use strict";var ATt=te(),MTt=Ys(),CTt=Ks();ATt({target:"String",proto:!0,forced:CTt("italics")},{italics:function(){return MTt(this,"i","","")}})});var V0e=T(()=>{"use strict";var OTt=te(),DTt=Ys(),LTt=Ks();OTt({target:"String",proto:!0,forced:LTt("link")},{link:function(t){return DTt(this,"a","href",t)}})});var G0e=T(()=>{"use strict";var PTt=te(),NTt=Ys(),RTt=Ks();PTt({target:"String",proto:!0,forced:RTt("small")},{small:function(){return NTt(this,"small","","")}})});var H0e=T(()=>{"use strict";var kTt=te(),qTt=Ys(),jTt=Ks();kTt({target:"String",proto:!0,forced:jTt("strike")},{strike:function(){return qTt(this,"strike","","")}})});var $0e=T(()=>{"use strict";var zTt=te(),FTt=Ys(),BTt=Ks();zTt({target:"String",proto:!0,forced:BTt("sub")},{sub:function(){return FTt(this,"sub","","")}})});var W0e=T(()=>{"use strict";var UTt=te(),VTt=Ys(),GTt=Ks();UTt({target:"String",proto:!0,forced:GTt("sup")},{sup:function(){return VTt(this,"sup","","")}})});var LO=T((BAr,Y0e)=>{"use strict";var Z0e=Xt(),QU=vt(),HTt=iS(),$Tt=Hr().NATIVE_ARRAY_BUFFER_VIEWS,WTt=Z0e.ArrayBuffer,rv=Z0e.Int8Array;Y0e.exports=!$Tt||!QU(function(){rv(1)})||!QU(function(){new rv(-1)})||!HTt(function(e){new rv,new rv(null),new rv(1.5),new rv(e)},!0)||QU(function(){return new rv(new WTt(2),1,void 0).length!==1})});var S_=T((UAr,K0e)=>{"use strict";var ZTt=vi(),YTt=RangeError;K0e.exports=function(e){var t=ZTt(e);if(t<0)throw new YTt("The argument can't be less than 0");return t}});var JU=T((VAr,X0e)=>{"use strict";var KTt=S_(),XTt=RangeError;X0e.exports=function(e,t){var r=KTt(e);if(r%t)throw new XTt("Wrong offset");return r}});var e8=T((GAr,Q0e)=>{"use strict";var QTt=Math.round;Q0e.exports=function(e){var t=QTt(e);return t<0?0:t>255?255:t&255}});var PO=T((HAr,J0e)=>{"use strict";var JTt=Hs();J0e.exports=function(e){var t=JTt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var jS=T(($Ar,e_e)=>{"use strict";var e2t=Fw(),t2t=TypeError;e_e.exports=function(e){var t=e2t(e,"number");if(typeof t=="number")throw new t2t("Can't convert number to bigint");return BigInt(t)}});var t8=T((WAr,t_e)=>{"use strict";var r2t=Kn(),n2t=kt(),i2t=n_(),o2t=Xr(),a2t=rn(),s2t=Th(),l2t=Ep(),u2t=SC(),c2t=PO(),f2t=Hr().aTypedArrayConstructor,p2t=jS();t_e.exports=function(t){var r=i2t(this),n=o2t(t),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0,c=l2t(n),d,m,v,E,I,M,L,R;if(c&&!u2t(c))for(L=s2t(n,c),R=L.next,n=[];!(M=n2t(R,L)).done;)n.push(M.value);for(a&&i>2&&(o=r2t(o,arguments[2])),m=a2t(n),v=new(f2t(r))(m),E=c2t(v),d=0;m>d;d++)I=a?o(n[d],d):n[d],v[d]=E?p2t(I):+I;return v}});var sf=T((ZAr,l8)=>{"use strict";var r_e=te(),d_e=Xt(),n_e=kt(),d2t=gr(),h2t=LO(),E_=Hr(),h_e=fS(),i_e=Ua(),m2t=Vs(),zS=to(),g2t=oO(),v2t=Gs(),o_e=X0(),r8=JU(),y2t=e8(),m_e=sc(),FS=Gr(),_2t=Hs(),o8=Lr(),x2t=yp(),b2t=Zi(),w2t=Fa(),NO=pu(),S2t=_p().f,a_e=t8(),E2t=Yi().forEach,I2t=Oh(),T2t=Ai(),g_e=ai(),v_e=Eo(),u8=On(),A2t=zg(),a8=u8.get,M2t=u8.set,C2t=u8.enforce,y_e=g_e.f,O2t=v_e.f,n8=d_e.RangeError,x_e=h_e.ArrayBuffer,D2t=x_e.prototype,L2t=h_e.DataView,RO=E_.NATIVE_ARRAY_BUFFER_VIEWS,s_e=E_.TYPED_ARRAY_TAG,l_e=E_.TypedArray,BS=E_.TypedArrayPrototype,P2t=E_.aTypedArrayConstructor,s8=E_.isTypedArray,kO="BYTES_PER_ELEMENT",i8="Wrong length",u_e=function(e,t){P2t(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},qO=function(e,t){T2t(e,t,{configurable:!0,get:function(){return a8(this)[t]}})},c_e=function(e){var t;return w2t(D2t,e)||(t=_2t(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},b_e=function(e,t){return s8(e)&&!x2t(t)&&t in e&&g2t(+t)&&t>=0},f_e=function(t,r){return r=m_e(r),b_e(t,r)?m2t(2,t[r]):O2t(t,r)},p_e=function(t,r,n){return r=m_e(r),b_e(t,r)&&o8(n)&&FS(n,"value")&&!FS(n,"get")&&!FS(n,"set")&&!n.configurable&&(!FS(n,"writable")||n.writable)&&(!FS(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):y_e(t,r,n)};d2t?(RO||(v_e.f=f_e,g_e.f=p_e,qO(BS,"buffer"),qO(BS,"byteOffset"),qO(BS,"byteLength"),qO(BS,"length")),r_e({target:"Object",stat:!0,forced:!RO},{getOwnPropertyDescriptor:f_e,defineProperty:p_e}),l8.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,a="set"+e,c=d_e[i],d=c,m=d&&d.prototype,v={},E=function(R,P){var q=a8(R);return q.view[o](P*n+q.byteOffset,!0)},I=function(R,P,q){var j=a8(R);j.view[a](P*n+j.byteOffset,r?y2t(q):q,!0)},M=function(R,P){y_e(R,P,{get:function(){return E(this,P)},set:function(q){return I(this,P,q)},enumerable:!0})};RO?h2t&&(d=t(function(R,P,q,j){return i_e(R,m),A2t(function(){return o8(P)?c_e(P)?j!==void 0?new c(P,r8(q,n),j):q!==void 0?new c(P,r8(q,n)):new c(P):s8(P)?u_e(d,P):n_e(a_e,d,P):new c(o_e(P))}(),R,d)}),NO&&NO(d,l_e),E2t(S2t(c),function(R){R in d||zS(d,R,c[R])}),d.prototype=m):(d=t(function(R,P,q,j){i_e(R,m);var B=0,Z=0,re,Q,oe;if(!o8(P))oe=o_e(P),Q=oe*n,re=new x_e(Q);else if(c_e(P)){re=P,Z=r8(q,n);var me=P.byteLength;if(j===void 0){if(me%n)throw new n8(i8);if(Q=me-Z,Q<0)throw new n8(i8)}else if(Q=v2t(j)*n,Q+Z>me)throw new n8(i8);oe=Q/n}else return s8(P)?u_e(d,P):n_e(a_e,d,P);for(M2t(R,{buffer:re,byteOffset:Z,byteLength:Q,length:oe,view:new L2t(re)});B<oe;)M(R,B++)}),NO&&NO(d,l_e),m=d.prototype=b2t(BS)),m.constructor!==d&&zS(m,"constructor",d),C2t(m).TypedArrayConstructor=d,s_e&&zS(m,s_e,i);var L=d!==c;v[i]=d,r_e({global:!0,constructor:!0,forced:L,sham:!RO},v),kO in d||zS(d,kO,n),kO in m||zS(m,kO,n),I2t(i)}):l8.exports=function(){}});var w_e=T(()=>{"use strict";var N2t=sf();N2t("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var S_e=T(()=>{"use strict";var R2t=sf();R2t("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var E_e=T(()=>{"use strict";var k2t=sf();k2t("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var I_e=T(()=>{"use strict";var q2t=sf();q2t("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var T_e=T(()=>{"use strict";var j2t=sf();j2t("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var A_e=T(()=>{"use strict";var z2t=sf();z2t("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var M_e=T(()=>{"use strict";var F2t=sf();F2t("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var C_e=T(()=>{"use strict";var B2t=sf();B2t("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var O_e=T(()=>{"use strict";var U2t=sf();U2t("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var c8=T(()=>{"use strict";var D_e=Hr(),V2t=rn(),G2t=vi(),H2t=D_e.aTypedArray,$2t=D_e.exportTypedArrayMethod;$2t("at",function(t){var r=H2t(this),n=V2t(r),i=G2t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var P_e=T(()=>{"use strict";var W2t=st(),L_e=Hr(),Z2t=GF(),Y2t=W2t(Z2t),K2t=L_e.aTypedArray,X2t=L_e.exportTypedArrayMethod;X2t("copyWithin",function(t,r){return Y2t(K2t(this),t,r,arguments.length>2?arguments[2]:void 0)})});var R_e=T(()=>{"use strict";var N_e=Hr(),Q2t=Yi().every,J2t=N_e.aTypedArray,eAt=N_e.exportTypedArrayMethod;eAt("every",function(t){return Q2t(J2t(this),t,arguments.length>1?arguments[1]:void 0)})});var q_e=T(()=>{"use strict";var k_e=Hr(),tAt=AC(),rAt=jS(),nAt=Hs(),iAt=kt(),oAt=st(),aAt=vt(),sAt=k_e.aTypedArray,lAt=k_e.exportTypedArrayMethod,uAt=oAt("".slice),cAt=aAt(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});lAt("fill",function(t){var r=arguments.length;sAt(this);var n=uAt(nAt(this),0,3)==="Big"?rAt(t):+t;return iAt(tAt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},cAt)});var I_=T((bMr,z_e)=>{"use strict";var j_e=Hr(),fAt=$g(),pAt=j_e.aTypedArrayConstructor,dAt=j_e.getTypedArrayConstructor;z_e.exports=function(e){return pAt(fAt(e,dAt(e)))}});var jO=T((wMr,F_e)=>{"use strict";var hAt=Gg(),mAt=I_();F_e.exports=function(e,t){return hAt(mAt(e),t)}});var U_e=T(()=>{"use strict";var B_e=Hr(),gAt=Yi().filter,vAt=jO(),yAt=B_e.aTypedArray,_At=B_e.exportTypedArrayMethod;_At("filter",function(t){var r=gAt(yAt(this),t,arguments.length>1?arguments[1]:void 0);return vAt(this,r)})});var G_e=T(()=>{"use strict";var V_e=Hr(),xAt=Yi().find,bAt=V_e.aTypedArray,wAt=V_e.exportTypedArrayMethod;wAt("find",function(t){return xAt(bAt(this),t,arguments.length>1?arguments[1]:void 0)})});var $_e=T(()=>{"use strict";var H_e=Hr(),SAt=Yi().findIndex,EAt=H_e.aTypedArray,IAt=H_e.exportTypedArrayMethod;IAt("findIndex",function(t){return SAt(EAt(this),t,arguments.length>1?arguments[1]:void 0)})});var f8=T(()=>{"use strict";var W_e=Hr(),TAt=nS().findLast,AAt=W_e.aTypedArray,MAt=W_e.exportTypedArrayMethod;MAt("findLast",function(t){return TAt(AAt(this),t,arguments.length>1?arguments[1]:void 0)})});var p8=T(()=>{"use strict";var Z_e=Hr(),CAt=nS().findLastIndex,OAt=Z_e.aTypedArray,DAt=Z_e.exportTypedArrayMethod;DAt("findLastIndex",function(t){return CAt(OAt(this),t,arguments.length>1?arguments[1]:void 0)})});var K_e=T(()=>{"use strict";var Y_e=Hr(),LAt=Yi().forEach,PAt=Y_e.aTypedArray,NAt=Y_e.exportTypedArrayMethod;NAt("forEach",function(t){LAt(PAt(this),t,arguments.length>1?arguments[1]:void 0)})});var X_e=T(()=>{"use strict";var RAt=LO(),kAt=Hr().exportTypedArrayStaticMethod,qAt=t8();kAt("from",qAt,RAt)});var J_e=T(()=>{"use strict";var Q_e=Hr(),jAt=V0().includes,zAt=Q_e.aTypedArray,FAt=Q_e.exportTypedArrayMethod;FAt("includes",function(t){return jAt(zAt(this),t,arguments.length>1?arguments[1]:void 0)})});var t1e=T(()=>{"use strict";var e1e=Hr(),BAt=V0().indexOf,UAt=e1e.aTypedArray,VAt=e1e.exportTypedArrayMethod;VAt("indexOf",function(t){return BAt(UAt(this),t,arguments.length>1?arguments[1]:void 0)})});var a1e=T(()=>{"use strict";var GAt=Xt(),HAt=vt(),d8=st(),n1e=Hr(),h8=sS(),$At=vr(),m8=$At("iterator"),r1e=GAt.Uint8Array,WAt=d8(h8.values),ZAt=d8(h8.keys),YAt=d8(h8.entries),g8=n1e.aTypedArray,zO=n1e.exportTypedArrayMethod,T_=r1e&&r1e.prototype,FO=!HAt(function(){T_[m8].call([1])}),i1e=!!T_&&T_.values&&T_[m8]===T_.values&&T_.values.name==="values",o1e=function(){return WAt(g8(this))};zO("entries",function(){return YAt(g8(this))},FO);zO("keys",function(){return ZAt(g8(this))},FO);zO("values",o1e,FO||!i1e,{name:"values"});zO(m8,o1e,FO||!i1e,{name:"values"})});var l1e=T(()=>{"use strict";var s1e=Hr(),KAt=st(),XAt=s1e.aTypedArray,QAt=s1e.exportTypedArrayMethod,JAt=KAt([].join);QAt("join",function(t){return JAt(XAt(this),t)})});var c1e=T(()=>{"use strict";var u1e=Hr(),eMt=Ba(),tMt=a6(),rMt=u1e.aTypedArray,nMt=u1e.exportTypedArrayMethod;nMt("lastIndexOf",function(t){var r=arguments.length;return eMt(tMt,rMt(this),r>1?[t,arguments[1]]:[t])})});var p1e=T(()=>{"use strict";var f1e=Hr(),iMt=Yi().map,oMt=I_(),aMt=f1e.aTypedArray,sMt=f1e.exportTypedArrayMethod;sMt("map",function(t){return iMt(aMt(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(oMt(r))(n)})})});var h1e=T(()=>{"use strict";var d1e=Hr(),lMt=LO(),uMt=d1e.aTypedArrayConstructor,cMt=d1e.exportTypedArrayStaticMethod;cMt("of",function(){for(var t=0,r=arguments.length,n=new(uMt(this))(r);r>t;)n[t]=arguments[t++];return n},lMt)});var g1e=T(()=>{"use strict";var m1e=Hr(),fMt=lS().left,pMt=m1e.aTypedArray,dMt=m1e.exportTypedArrayMethod;dMt("reduce",function(t){var r=arguments.length;return fMt(pMt(this),t,r,r>1?arguments[1]:void 0)})});var y1e=T(()=>{"use strict";var v1e=Hr(),hMt=lS().right,mMt=v1e.aTypedArray,gMt=v1e.exportTypedArrayMethod;gMt("reduceRight",function(t){var r=arguments.length;return hMt(mMt(this),t,r,r>1?arguments[1]:void 0)})});var x1e=T(()=>{"use strict";var _1e=Hr(),vMt=_1e.aTypedArray,yMt=_1e.exportTypedArrayMethod,_Mt=Math.floor;yMt("reverse",function(){for(var t=this,r=vMt(t).length,n=_Mt(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var T1e=T(()=>{"use strict";var w1e=Xt(),S1e=kt(),_8=Hr(),xMt=rn(),bMt=JU(),wMt=Xr(),E1e=vt(),SMt=w1e.RangeError,v8=w1e.Int8Array,b1e=v8&&v8.prototype,I1e=b1e&&b1e.set,EMt=_8.aTypedArray,IMt=_8.exportTypedArrayMethod,y8=!E1e(function(){var e=new Uint8ClampedArray(2);return S1e(I1e,e,{length:1,0:3},1),e[1]!==3}),TMt=y8&&_8.NATIVE_ARRAY_BUFFER_VIEWS&&E1e(function(){var e=new v8(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});IMt("set",function(t){EMt(this);var r=bMt(arguments.length>1?arguments[1]:void 0,1),n=wMt(t);if(y8)return S1e(I1e,this,n,r);var i=this.length,o=xMt(n),a=0;if(o+r>i)throw new SMt("Wrong length");for(;a<o;)this[r+a]=n[a++]},!y8||TMt)});var M1e=T(()=>{"use strict";var A1e=Hr(),AMt=I_(),MMt=vt(),CMt=wp(),OMt=A1e.aTypedArray,DMt=A1e.exportTypedArrayMethod,LMt=MMt(function(){new Int8Array(1).slice()});DMt("slice",function(t,r){for(var n=CMt(OMt(this),t,r),i=AMt(this),o=0,a=n.length,c=new i(a);a>o;)c[o]=n[o++];return c},LMt)});var O1e=T(()=>{"use strict";var C1e=Hr(),PMt=Yi().some,NMt=C1e.aTypedArray,RMt=C1e.exportTypedArrayMethod;RMt("some",function(t){return PMt(NMt(this),t,arguments.length>1?arguments[1]:void 0)})});var k1e=T(()=>{"use strict";var kMt=Xt(),qMt=xp(),x8=vt(),jMt=Ir(),zMt=NC(),R1e=Hr(),D1e=u6(),FMt=c6(),L1e=Qc(),P1e=RC(),BMt=R1e.aTypedArray,UMt=R1e.exportTypedArrayMethod,US=kMt.Uint16Array,A_=US&&qMt(US.prototype.sort),VMt=!!A_&&!(x8(function(){A_(new US(2),null)})&&x8(function(){A_(new US(2),{})})),N1e=!!A_&&!x8(function(){if(L1e)return L1e<74;if(D1e)return D1e<67;if(FMt)return!0;if(P1e)return P1e<602;var e=new US(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(A_(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),GMt=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};UMt("sort",function(t){return t!==void 0&&jMt(t),N1e?A_(this,t):zMt(BMt(this),GMt(t))},!N1e||VMt)});var z1e=T(()=>{"use strict";var j1e=Hr(),HMt=Gs(),q1e=uu(),$Mt=I_(),WMt=j1e.aTypedArray,ZMt=j1e.exportTypedArrayMethod;ZMt("subarray",function(t,r){var n=WMt(this),i=n.length,o=q1e(t,i),a=$Mt(n);return new a(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,HMt((r===void 0?i:q1e(r,i))-o))})});var G1e=T(()=>{"use strict";var YMt=Xt(),KMt=Ba(),U1e=Hr(),b8=vt(),F1e=wp(),BO=YMt.Int8Array,B1e=U1e.aTypedArray,XMt=U1e.exportTypedArrayMethod,V1e=[].toLocaleString,QMt=!!BO&&b8(function(){V1e.call(new BO(1))}),JMt=b8(function(){return[1,2].toLocaleString()!==new BO([1,2]).toLocaleString()})||!b8(function(){BO.prototype.toLocaleString.call([1,2])});XMt("toLocaleString",function(){return KMt(V1e,QMt?F1e(B1e(this)):B1e(this),F1e(arguments))},JMt)});var S8=T(()=>{"use strict";var eCt=d6(),w8=Hr(),tCt=w8.aTypedArray,rCt=w8.exportTypedArrayMethod,nCt=w8.getTypedArrayConstructor;rCt("toReversed",function(){return eCt(tCt(this),nCt(this))})});var E8=T(()=>{"use strict";var UO=Hr(),iCt=st(),oCt=Ir(),aCt=Gg(),sCt=UO.aTypedArray,lCt=UO.getTypedArrayConstructor,uCt=UO.exportTypedArrayMethod,cCt=iCt(UO.TypedArrayPrototype.sort);uCt("toSorted",function(t){t!==void 0&&oCt(t);var r=sCt(this),n=aCt(lCt(r),r);return cCt(n,t)})});var $1e=T(()=>{"use strict";var fCt=Hr().exportTypedArrayMethod,pCt=vt(),dCt=Xt(),hCt=st(),H1e=dCt.Uint8Array,mCt=H1e&&H1e.prototype||{},VO=[].toString,gCt=hCt([].join);pCt(function(){VO.call({})})&&(VO=function(){return gCt(this)});var vCt=mCt.toString!==VO;fCt("toString",VO,vCt)});var T8=T(()=>{"use strict";var yCt=y6(),I8=Hr(),_Ct=PO(),xCt=vi(),bCt=jS(),wCt=I8.aTypedArray,SCt=I8.getTypedArrayConstructor,ECt=I8.exportTypedArrayMethod,ICt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();ECt("with",function(e,t){var r=wCt(this),n=xCt(e),i=_Ct(r)?bCt(t):+t;return yCt(r,SCt(r),n,i)},!ICt)});var X1e=T(()=>{"use strict";var TCt=te(),A8=st(),ACt=Mr(),W1e=String.fromCharCode,Z1e=A8("".charAt),Y1e=A8(/./.exec),K1e=A8("".slice),MCt=/^[\da-f]{2}$/i,CCt=/^[\da-f]{4}$/i;TCt({global:!0},{unescape:function(t){for(var r=ACt(t),n="",i=r.length,o=0,a,c;o<i;){if(a=Z1e(r,o++),a==="%"){if(Z1e(r,o)==="u"){if(c=K1e(r,o+1,o+5),Y1e(CCt,c)){n+=W1e(parseInt(c,16)),o+=5;continue}}else if(c=K1e(r,o,o+2),Y1e(MCt,c)){n+=W1e(parseInt(c,16)),o+=2;continue}}n+=a}return n}})});var O8=T((ICr,nxe)=>{"use strict";var OCt=st(),Q1e=hu(),GO=kh().getWeakData,DCt=Ua(),LCt=jt(),PCt=eo(),M8=Lr(),NCt=ji(),exe=Yi(),J1e=Gr(),txe=On(),RCt=txe.set,kCt=txe.getterFor,qCt=exe.find,jCt=exe.findIndex,zCt=OCt([].splice),FCt=0,HO=function(e){return e.frozen||(e.frozen=new rxe)},rxe=function(){this.entries=[]},C8=function(e,t){return qCt(e.entries,function(r){return r[0]===t})};rxe.prototype={get:function(e){var t=C8(this,e);if(t)return t[1]},has:function(e){return!!C8(this,e)},set:function(e,t){var r=C8(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=jCt(this.entries,function(r){return r[0]===e});return~t&&zCt(this.entries,t,1),!!~t}};nxe.exports={getConstructor:function(e,t,r,n){var i=e(function(d,m){DCt(d,o),RCt(d,{type:t,id:FCt++,frozen:void 0}),PCt(m)||NCt(m,d[n],{that:d,AS_ENTRIES:r})}),o=i.prototype,a=kCt(t),c=function(d,m,v){var E=a(d),I=GO(LCt(m),!0);return I===!0?HO(E).set(m,v):I[E.id]=v,d};return Q1e(o,{delete:function(d){var m=a(this);if(!M8(d))return!1;var v=GO(d);return v===!0?HO(m).delete(d):v&&J1e(v,m.id)&&delete v[m.id]},has:function(m){var v=a(this);if(!M8(m))return!1;var E=GO(m);return E===!0?HO(v).has(m):E&&J1e(E,v.id)}}),Q1e(o,r?{get:function(m){var v=a(this);if(M8(m)){var E=GO(m);return E===!0?HO(v).get(m):E?E[v.id]:void 0}},set:function(m,v){return c(this,m,v)}}:{add:function(m){return c(this,m,!0)}}),i}}});var dxe=T(()=>{"use strict";var BCt=Dp(),ixe=Xt(),YO=st(),oxe=hu(),UCt=kh(),VCt=hS(),lxe=O8(),$O=Lr(),WO=On().enforce,GCt=vt(),HCt=$z(),HS=Object,$Ct=Array.isArray,ZO=HS.isExtensible,uxe=HS.isFrozen,WCt=HS.isSealed,cxe=HS.freeze,ZCt=HS.seal,axe={},sxe={},YCt=!ixe.ActiveXObject&&"ActiveXObject"in ixe,VS,fxe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},pxe=VCt("WeakMap",fxe,lxe),M_=pxe.prototype,KO=YO(M_.set),KCt=function(){return BCt&&GCt(function(){var e=cxe([]);return KO(new pxe,e,1),!uxe(e)})};HCt&&(YCt?(VS=lxe.getConstructor(fxe,"WeakMap",!0),UCt.enable(),D8=YO(M_.delete),GS=YO(M_.has),L8=YO(M_.get),oxe(M_,{delete:function(e){if($O(e)&&!ZO(e)){var t=WO(this);return t.frozen||(t.frozen=new VS),D8(this,e)||t.frozen.delete(e)}return D8(this,e)},has:function(t){if($O(t)&&!ZO(t)){var r=WO(this);return r.frozen||(r.frozen=new VS),GS(this,t)||r.frozen.has(t)}return GS(this,t)},get:function(t){if($O(t)&&!ZO(t)){var r=WO(this);return r.frozen||(r.frozen=new VS),GS(this,t)?L8(this,t):r.frozen.get(t)}return L8(this,t)},set:function(t,r){if($O(t)&&!ZO(t)){var n=WO(this);n.frozen||(n.frozen=new VS),GS(this,t)?KO(this,t,r):n.frozen.set(t,r)}else KO(this,t,r);return this}})):KCt()&&oxe(M_,{set:function(t,r){var n;return $Ct(t)&&(uxe(t)?n=axe:WCt(t)&&(n=sxe)),KO(this,t,r),n===axe&&cxe(t),n===sxe&&ZCt(t),this}}));var D8,GS,L8});var XO=T(()=>{"use strict";dxe()});var hxe=T(()=>{"use strict";var XCt=hS(),QCt=O8();XCt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},QCt)});var mxe=T(()=>{"use strict";hxe()});var gxe=T(()=>{"use strict";jF()});var yxe=T(()=>{"use strict";var JCt=te(),eOt=Fa(),tOt=ro(),JO=pu(),rOt=G0(),vxe=Zi(),QO=to(),P8=Vs(),nOt=_C(),iOt=Fg(),oOt=vr(),aOt=oOt("toStringTag"),eD=Error,C_=function(t,r,n){var i=eOt(N8,this),o;return JO?o=JO(new eD,i?tOt(this):N8):(o=i?this:vxe(N8),QO(o,aOt,"Error")),n!==void 0&&QO(o,"message",iOt(n)),nOt(o,C_,o.stack,1),QO(o,"error",t),QO(o,"suppressed",r),o};JO?JO(C_,eD):rOt(C_,eD,{name:!0});var N8=C_.prototype=vxe(eD.prototype,{constructor:P8(1,C_),message:P8(1,""),name:P8(1,"SuppressedError")});JCt({global:!0,constructor:!0,arity:3},{SuppressedError:C_})});var O_=T((jCr,Txe)=>{"use strict";var Sxe=Xt(),Exe=zw(),Ixe=Dr(),sOt=Zi(),tD=ro(),lOt=jn(),uOt=vr(),cOt=Kr(),_xe="USE_FUNCTION_CONSTRUCTOR",xxe=uOt("asyncIterator"),bxe=Sxe.AsyncIterator,wxe=Exe.AsyncIteratorPrototype,lf,R8;if(wxe)lf=wxe;else if(Ixe(bxe))lf=bxe.prototype;else if(Exe[_xe]||Sxe[_xe])try{R8=tD(tD(tD(Function("return async function*(){}()")()))),tD(R8)===Object.prototype&&(lf=R8)}catch(e){}lf?cOt&&(lf=sOt(lf)):lf={};Ixe(lf[xxe])||lOt(lf,xxe,function(){return this});Txe.exports=lf});var $S=T((zCr,Rxe)=>{"use strict";var Axe=kt(),Mxe=jt(),fOt=Zi(),pOt=Wi(),dOt=hu(),Dxe=On(),hOt=Er(),mOt=O_(),Lxe=sa(),k8=hOt("Promise"),Pxe="AsyncFromSyncIterator",gOt=Dxe.set,Cxe=Dxe.getterFor(Pxe),Oxe=function(e,t,r){var n=e.done;k8.resolve(e.value).then(function(i){t(Lxe(i,n))},r)},Nxe=function(t){t.type=Pxe,gOt(this,t)};Nxe.prototype=dOt(fOt(mOt),{next:function(){var t=Cxe(this);return new k8(function(r,n){var i=Mxe(Axe(t.next,t.iterator));Oxe(i,r,n)})},return:function(){var e=Cxe(this).iterator;return new k8(function(t,r){var n=pOt(e,"return");if(n===void 0)return t(Lxe(void 0,!0));var i=Mxe(Axe(n,e));Oxe(i,t,r)})}});Rxe.exports=Nxe});var Mi=T((FCr,kxe)=>{"use strict";kxe.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var jxe=T((BCr,qxe)=>{"use strict";var vOt=kt(),yOt=$S(),_Ot=jt(),xOt=Th(),bOt=Mi(),wOt=Wi(),SOt=vr(),EOt=SOt("asyncIterator");qxe.exports=function(e,t){var r=arguments.length<2?wOt(e,EOt):t;return r?_Ot(vOt(r,e)):new yOt(bOt(xOt(e)))}});var D_=T((UCr,zxe)=>{"use strict";var IOt=kt(),TOt=Er(),AOt=Wi();zxe.exports=function(e,t,r,n){try{var i=AOt(e,"return");if(i)return TOt("Promise").resolve(IOt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var nv=T((VCr,Fxe)=>{"use strict";var MOt=kt(),COt=Ir(),q8=jt(),OOt=Lr(),DOt=Ah(),LOt=Er(),POt=Mi(),j8=D_(),WS=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,a,c){q8(o);var d=a!==void 0;(d||!t)&&COt(a);var m=POt(o),v=LOt("Promise"),E=m.iterator,I=m.next,M=0;return new v(function(L,R){var P=function(j){j8(E,R,j,R)},q=function(){try{if(d)try{DOt(M)}catch(j){P(j)}v.resolve(q8(MOt(I,E))).then(function(j){try{if(q8(j).done)t?(c.length=M,L(c)):L(i?!1:n||void 0);else{var B=j.value;try{if(d){var Z=a(B,M),re=function(Q){if(r)q();else if(n)Q?q():j8(E,L,!1,R);else if(t)try{c[M++]=Q,q()}catch(oe){P(oe)}else Q?j8(E,L,i||B,R):q()};OOt(Z)?v.resolve(Z).then(re,P):re(Z)}else c[M++]=B,q()}catch(Q){P(Q)}}}catch(Q){R(Q)}},R)}catch(j){R(j)}};q()})}};Fxe.exports={toArray:WS(0),forEach:WS(1),every:WS(2),some:WS(3),find:WS(4)}});var z8=T((GCr,Gxe)=>{"use strict";var NOt=Kn(),Bxe=st(),ROt=Xr(),kOt=cc(),qOt=jxe(),jOt=Th(),zOt=Mi(),FOt=Ep(),BOt=Wi(),UOt=m6(),VOt=Er(),GOt=vr(),HOt=$S(),$Ot=nv().toArray,WOt=GOt("asyncIterator"),Uxe=Bxe(UOt("Array").values),ZOt=Bxe(Uxe([]).next),YOt=function(){return new Vxe(this)},Vxe=function(e){this.iterator=Uxe(e)};Vxe.prototype.next=function(){return ZOt(this.iterator)};Gxe.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(VOt("Promise"))(function(a){var c=ROt(t);i!==void 0&&(i=NOt(i,o));var d=BOt(c,WOt),m=d?void 0:FOt(c)||YOt,v=kOt(r)?new r:[],E=d?qOt(c,d):new HOt(zOt(jOt(c,m)));a($Ot(E,i,v))})}});var Hxe=T(()=>{"use strict";var KOt=te(),XOt=z8();KOt({target:"Array",stat:!0},{fromAsync:XOt})});var $xe=T(()=>{"use strict";UF()});var Wxe=T(()=>{"use strict";var QOt=te(),JOt=Yi().filterReject,eDt=Ni();QOt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return JOt(this,t,arguments.length>1?arguments[1]:void 0)}});eDt("filterOut")});var Zxe=T(()=>{"use strict";var tDt=te(),rDt=Yi().filterReject,nDt=Ni();tDt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return rDt(this,t,arguments.length>1?arguments[1]:void 0)}});nDt("filterReject")});var Yxe=T(()=>{"use strict";WF()});var Kxe=T(()=>{"use strict";ZF()});var rD=T((nOr,Xxe)=>{"use strict";var iDt=Kn(),oDt=st(),aDt=vp(),sDt=Xr(),lDt=sc(),uDt=rn(),cDt=Zi(),fDt=Gg(),pDt=Array,dDt=oDt([].push);Xxe.exports=function(e,t,r,n){for(var i=sDt(e),o=aDt(i),a=iDt(t,r),c=cDt(null),d=uDt(o),m=0,v,E,I;d>m;m++)I=o[m],E=lDt(a(I,m,i)),E in c?dDt(c[E],I):c[E]=[I];if(n&&(v=n(i),v!==pDt))for(E in c)c[E]=fDt(v,c[E]);return c}});var Qxe=T(()=>{"use strict";var hDt=te(),mDt=rD(),gDt=Ni();hDt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return mDt(this,t,r)}});gDt("group")});var Jxe=T(()=>{"use strict";var vDt=te(),yDt=rD(),_Dt=du(),xDt=Ni();vDt({target:"Array",proto:!0,forced:!_Dt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return yDt(this,t,r)}});xDt("groupBy")});var ys=T((lOr,ebe)=>{"use strict";var nD=st(),ZS=Map.prototype;ebe.exports={Map,set:nD(ZS.set),get:nD(ZS.get),has:nD(ZS.has),remove:nD(ZS.delete),proto:ZS}});var F8=T((uOr,tbe)=>{"use strict";var bDt=Kn(),wDt=st(),SDt=vp(),EDt=Xr(),IDt=rn(),iD=ys(),TDt=iD.Map,ADt=iD.get,MDt=iD.has,CDt=iD.set,ODt=wDt([].push);tbe.exports=function(t){for(var r=EDt(this),n=SDt(r),i=bDt(t,arguments.length>1?arguments[1]:void 0),o=new TDt,a=IDt(n),c=0,d,m;a>c;c++)m=n[c],d=i(m,c,r),MDt(o,d)?ODt(ADt(o,d),m):CDt(o,d,[m]);return o}});var rbe=T(()=>{"use strict";var DDt=te(),LDt=du(),PDt=Ni(),NDt=F8(),RDt=Kr();DDt({target:"Array",proto:!0,name:"groupToMap",forced:RDt||!LDt("groupByToMap")},{groupByToMap:NDt});PDt("groupByToMap")});var nbe=T(()=>{"use strict";var kDt=te(),qDt=Ni(),jDt=F8(),zDt=Kr();kDt({target:"Array",proto:!0,forced:zDt},{groupToMap:jDt});qDt("groupToMap")});var abe=T(()=>{"use strict";var FDt=te(),BDt=uc(),ibe=Object.isFrozen,obe=function(e,t){if(!ibe||!BDt(e)||!ibe(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};FDt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!obe(t,!0))return!1;var r=t.raw;return r.length===t.length&&obe(r,!1)}})});var sbe=T(()=>{"use strict";var UDt=gr(),VDt=Ni(),GDt=Xr(),HDt=rn(),$Dt=Ai();UDt&&($Dt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=GDt(this),r=HDt(t);return r===0?0:r-1}}),VDt("lastIndex"))});var cbe=T(()=>{"use strict";var WDt=gr(),ZDt=Ni(),lbe=Xr(),ube=rn(),YDt=Ai();WDt&&(YDt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=lbe(this),r=ube(t);return r===0?void 0:t[r-1]},set:function(t){var r=lbe(this),n=ube(r);return r[n===0?0:n-1]=t}}),ZDt("lastItem"))});var fbe=T(()=>{"use strict";h6()});var pbe=T(()=>{"use strict";g6()});var dbe=T(()=>{"use strict";v6()});var Pp=T((TOr,hbe)=>{"use strict";var KDt=kt();hbe.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,a;!(o=KDt(i,n)).done;)if(a=t(o.value),a!==void 0)return a}});var vu=T((AOr,_be)=>{"use strict";var mbe=st(),XDt=Pp(),gbe=ys(),QDt=gbe.Map,vbe=gbe.proto,JDt=mbe(vbe.forEach),ybe=mbe(vbe.entries),eLt=ybe(new QDt).next;_be.exports=function(e,t,r){return r?XDt({iterator:ybe(e),next:eLt},function(n){return t(n[1],n[0])}):JDt(e,t)}});var oD=T((MOr,xbe)=>{"use strict";var tLt=st(),rLt=Ir(),nLt=eo(),iLt=rn(),oLt=Xr(),B8=ys(),aLt=vu(),sLt=B8.Map,lLt=B8.has,uLt=B8.set,cLt=tLt([].push);xbe.exports=function(t){var r=oLt(this),n=iLt(r),i=[],o=new sLt,a=nLt(t)?function(v){return v}:rLt(t),c,d,m;for(c=0;c<n;c++)d=r[c],m=a(d),lLt(o,m)||uLt(o,m,d);return aLt(o,function(v){cLt(i,v)}),i}});var bbe=T(()=>{"use strict";var fLt=te(),pLt=Ni(),dLt=oD();fLt({target:"Array",proto:!0,forced:!0},{uniqueBy:dLt});pLt("uniqueBy")});var wbe=T(()=>{"use strict";_6()});var U8=T((POr,Sbe)=>{"use strict";var hLt=tS(),mLt=aa(),gLt=TypeError;Sbe.exports=hLt(ArrayBuffer.prototype,"byteLength","get")||function(e){if(mLt(e)!=="ArrayBuffer")throw new gLt("ArrayBuffer expected");return e.byteLength}});var V8=T((NOr,Ebe)=>{"use strict";var vLt=st(),yLt=U8(),_Lt=vLt(ArrayBuffer.prototype.slice);Ebe.exports=function(e){if(yLt(e)!==0)return!1;try{return _Lt(e,0,0),!1}catch(t){return!0}}});var Tbe=T(()=>{"use strict";var xLt=gr(),bLt=Ai(),wLt=V8(),Ibe=ArrayBuffer.prototype;xLt&&!("detached"in Ibe)&&bLt(Ibe,"detached",{configurable:!0,get:function(){return wLt(this)}})});var G8=T((qOr,Abe)=>{"use strict";var SLt=tf();Abe.exports=function(e){try{if(SLt)return Function("return require(\""+e+"\")")()}catch(t){}}});var aD=T((jOr,Cbe)=>{"use strict";var ELt=Xt(),ILt=vt(),H8=Qc(),TLt=GB(),ALt=fO(),MLt=tf(),Mbe=ELt.structuredClone;Cbe.exports=!!Mbe&&!ILt(function(){if(ALt&&H8>92||MLt&&H8>94||TLt&&H8>97)return!1;var e=new ArrayBuffer(8),t=Mbe(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var Pbe=T((zOr,Lbe)=>{"use strict";var Y8=Xt(),CLt=G8(),OLt=aD(),DLt=Y8.structuredClone,Obe=Y8.ArrayBuffer,sD=Y8.MessageChannel,Z8=!1,$8,Dbe,lD,W8;if(OLt)Z8=function(e){DLt(e,{transfer:[e]})};else if(Obe)try{sD||($8=CLt("worker_threads"),$8&&(sD=$8.MessageChannel)),sD&&(Dbe=new sD,lD=new Obe(2),W8=function(e){Dbe.port1.postMessage(null,[e])},lD.byteLength===2&&(W8(lD),lD.byteLength===0&&(Z8=W8)))}catch(e){}Lbe.exports=Z8});var cD=T((FOr,Fbe)=>{"use strict";var uD=Xt(),Q8=st(),qbe=tS(),LLt=X0(),PLt=V8(),NLt=U8(),Nbe=Pbe(),K8=aD(),RLt=uD.structuredClone,jbe=uD.ArrayBuffer,X8=uD.DataView,kLt=uD.TypeError,qLt=Math.min,J8=jbe.prototype,zbe=X8.prototype,jLt=Q8(J8.slice),Rbe=qbe(J8,"resizable","get"),kbe=qbe(J8,"maxByteLength","get"),zLt=Q8(zbe.getInt8),FLt=Q8(zbe.setInt8);Fbe.exports=(K8||Nbe)&&function(e,t,r){var n=NLt(e),i=t===void 0?n:LLt(t),o=!Rbe||!Rbe(e),a;if(PLt(e))throw new kLt("ArrayBuffer is detached");if(K8&&(e=RLt(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))a=jLt(e,0,i);else{var c=r&&!o&&kbe?{maxByteLength:kbe(e)}:void 0;a=new jbe(i,c);for(var d=new X8(e),m=new X8(a),v=qLt(i,n),E=0;E<v;E++)FLt(m,E,zLt(d,E))}return K8||Nbe(e),a}});var Ube=T(()=>{"use strict";var BLt=te(),Bbe=cD();Bbe&&BLt({target:"ArrayBuffer",proto:!0},{transfer:function(){return Bbe(this,arguments.length?arguments[0]:void 0,!0)}})});var Gbe=T(()=>{"use strict";var ULt=te(),Vbe=cD();Vbe&&ULt({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Vbe(this,arguments.length?arguments[0]:void 0,!1)}})});var tV=T((HOr,Ybe)=>{"use strict";var VLt=kt(),GLt=st(),HLt=Kn(),$Lt=jt(),WLt=Ir(),Wbe=eo(),eV=Wi(),Zbe=vr(),ZLt=Zbe("asyncDispose"),Hbe=Zbe("dispose"),YLt=GLt([].push),KLt=function(e,t){if(t==="async-dispose"){var r=eV(e,ZLt);return r!==void 0?r:(r=eV(e,Hbe),function(){VLt(r,this)})}return eV(e,Hbe)},$be=function(e,t,r){return arguments.length<3&&!Wbe(e)&&(r=WLt(KLt($Lt(e),t))),r===void 0?function(){}:HLt(r,e)};Ybe.exports=function(e,t,r,n){var i;if(arguments.length<4){if(Wbe(t)&&r==="sync-dispose")return;i=$be(t,r)}else i=$be(void 0,r,n);YLt(e.stack,i)}});var rwe=T(()=>{"use strict";var XLt=te(),pD=gr(),Qbe=Er(),Kbe=Ir(),QLt=Ua(),Jbe=jn(),JLt=hu(),ePt=Ai(),ewe=vr(),twe=On(),rV=tV(),Xbe=Qbe("Promise"),tPt=Qbe("SuppressedError"),rPt=ReferenceError,nPt=ewe("asyncDispose"),iPt=ewe("toStringTag"),hD="AsyncDisposableStack",oPt=twe.set,dD=twe.getterFor(hD),nV="async-dispose",YS="disposed",aPt="pending",fD=function(e){var t=dD(e);if(t.state===YS)throw new rPt(hD+" already disposed");return t},iV=function(){oPt(QLt(this,L_),{type:hD,state:aPt,stack:[]}),pD||(this.disposed=!1)},L_=iV.prototype;JLt(L_,{disposeAsync:function(){var t=this;return new Xbe(function(r,n){var i=dD(t);if(i.state===YS)return r(void 0);i.state=YS,pD||(t.disposed=!0);var o=i.stack,a=o.length,c=!1,d,m=function(E){c?d=new tPt(E,d):(c=!0,d=E),v()},v=function(){if(a){var E=o[--a];o[a]=null;try{Xbe.resolve(E()).then(v,m)}catch(I){m(I)}}else i.stack=null,c?n(d):r(void 0)};v()})},use:function(t){return rV(fD(this),t,nV),t},adopt:function(t,r){var n=fD(this);return Kbe(r),rV(n,void 0,nV,function(){return r(t)}),t},defer:function(t){var r=fD(this);Kbe(t),rV(r,void 0,nV,t)},move:function(){var t=fD(this),r=new iV;return dD(r).stack=t.stack,t.stack=[],t.state=YS,pD||(this.disposed=!0),r}});pD&&ePt(L_,"disposed",{configurable:!0,get:function(){return dD(this).state===YS}});Jbe(L_,nPt,L_.disposeAsync,{name:"disposeAsync"});Jbe(L_,iPt,hD,{nonWritable:!0});XLt({global:!0,constructor:!0},{AsyncDisposableStack:iV})});var swe=T(()=>{"use strict";var sPt=te(),lPt=Ua(),uPt=ro(),iwe=to(),owe=Gr(),cPt=vr(),Bh=O_(),awe=Kr(),nwe=cPt("toStringTag"),fPt=TypeError,oV=function(){if(lPt(this,Bh),uPt(this)===Bh)throw new fPt("Abstract class AsyncIterator not directly constructable")};oV.prototype=Bh;owe(Bh,nwe)||iwe(Bh,nwe,"AsyncIterator");(awe||!owe(Bh,"constructor")||Bh.constructor===Object)&&iwe(Bh,"constructor",oV);sPt({global:!0,constructor:!0,forced:awe},{AsyncIterator:oV})});var iv=T((KOr,mwe)=>{"use strict";var pPt=kt(),mD=qh(),lwe=jt(),dPt=Zi(),hPt=to(),mPt=hu(),gPt=vr(),cwe=On(),vPt=Er(),yPt=Wi(),_Pt=O_(),aV=sa(),uwe=Ip(),uf=vPt("Promise"),xPt=gPt("toStringTag"),fwe="AsyncIteratorHelper",pwe="WrapForValidAsyncIterator",bPt=cwe.set,dwe=function(e){var t=!e,r=cwe.getterFor(e?pwe:fwe),n=function(i){var o=mD(function(){return r(i)}),a=o.error,c=o.value;return a||t&&c.done?{exit:!0,value:a?uf.reject(c):uf.resolve(aV(void 0,!0))}:{exit:!1,value:c}};return mPt(dPt(_Pt),{next:function(){var o=n(this),a=o.value;if(o.exit)return a;var c=mD(function(){return lwe(a.nextHandler(uf))}),d=c.error,m=c.value;return d&&(a.done=!0),d?uf.reject(m):uf.resolve(m)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var a=o.iterator,c,d,m=mD(function(){if(o.inner)try{uwe(o.inner.iterator,"normal")}catch(v){return uwe(a,"throw",v)}return yPt(a,"return")});return c=d=m.value,m.error?uf.reject(d):c===void 0?uf.resolve(aV(void 0,!0)):(m=mD(function(){return pPt(c,a)}),d=m.value,m.error?uf.reject(d):e?uf.resolve(d):uf.resolve(d).then(function(v){return lwe(v),aV(void 0,!0)}))}})},wPt=dwe(!0),hwe=dwe(!1);hPt(hwe,xPt,"Async Iterator Helper");mwe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?pwe:fwe,o.nextHandler=e,o.counter=0,o.done=!1,bPt(this,o)};return r.prototype=t?wPt:hwe,r}});var lV=T((XOr,vwe)=>{"use strict";var SPt=kt(),EPt=Ir(),sV=jt(),IPt=Lr(),TPt=Mi(),APt=iv(),gwe=sa(),MPt=D_(),CPt=APt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var a=function(d){t.done=!0,o(d)},c=function(d){MPt(r,a,d,a)};e.resolve(sV(SPt(t.next,r))).then(function(d){try{if(sV(d).done)t.done=!0,i(gwe(void 0,!0));else{var m=d.value;try{var v=n(m,t.counter++),E=function(I){i(gwe(I,!1))};IPt(v)?e.resolve(v).then(E,c):E(v)}catch(I){c(I)}}}catch(I){a(I)}},a)})});vwe.exports=function(t){return sV(this),EPt(t),new CPt(TPt(this),{mapper:t})}});var uV=T((QOr,ywe)=>{"use strict";var OPt=kt(),DPt=lV(),LPt=function(e,t){return[t,e]};ywe.exports=function(){return OPt(DPt,this,LPt)}});var _we=T(()=>{"use strict";var PPt=te(),NPt=uV();PPt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:NPt})});var Swe=T(()=>{"use strict";var RPt=kt(),kPt=jn(),qPt=Er(),jPt=Wi(),zPt=Gr(),FPt=vr(),xwe=O_(),bwe=FPt("asyncDispose"),wwe=qPt("Promise");zPt(xwe,bwe)||kPt(xwe,bwe,function(){var e=this;return new wwe(function(t,r){var n=jPt(e,"return");n?wwe.resolve(RPt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var KS=T((nDr,Ewe)=>{"use strict";var BPt=RangeError;Ewe.exports=function(e){if(e===e)return e;throw new BPt("NaN is not allowed")}});var Twe=T(()=>{"use strict";var UPt=te(),VPt=kt(),cV=jt(),GPt=Mi(),HPt=KS(),$Pt=S_(),WPt=iv(),Iwe=sa(),ZPt=Kr(),YPt=WPt(function(e){var t=this;return new e(function(r,n){var i=function(a){t.done=!0,n(a)},o=function(){try{e.resolve(cV(VPt(t.next,t.iterator))).then(function(a){try{cV(a).done?(t.done=!0,r(Iwe(void 0,!0))):t.remaining?(t.remaining--,o()):r(Iwe(a.value,!1))}catch(c){i(c)}},i)}catch(a){i(a)}};o()})});UPt({target:"AsyncIterator",proto:!0,real:!0,forced:ZPt},{drop:function(t){cV(this);var r=$Pt(HPt(+t));return new YPt(GPt(this),{remaining:r})}})});var Awe=T(()=>{"use strict";var KPt=te(),XPt=nv().every;KPt({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return XPt(this,t)}})});var Cwe=T(()=>{"use strict";var QPt=te(),JPt=kt(),eNt=Ir(),fV=jt(),tNt=Lr(),rNt=Mi(),nNt=iv(),Mwe=sa(),iNt=D_(),oNt=Kr(),aNt=nNt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var a=function(m){t.done=!0,o(m)},c=function(m){iNt(r,a,m,a)},d=function(){try{e.resolve(fV(JPt(t.next,r))).then(function(m){try{if(fV(m).done)t.done=!0,i(Mwe(void 0,!0));else{var v=m.value;try{var E=n(v,t.counter++),I=function(M){M?i(Mwe(v,!1)):d()};tNt(E)?e.resolve(E).then(I,c):I(E)}catch(M){c(M)}}}catch(M){a(M)}},a)}catch(m){a(m)}};d()})});QPt({target:"AsyncIterator",proto:!0,real:!0,forced:oNt},{filter:function(t){return fV(this),eNt(t),new aNt(rNt(this),{predicate:t})}})});var Owe=T(()=>{"use strict";var sNt=te(),lNt=nv().find;sNt({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return lNt(this,t)}})});var pV=T((pDr,Pwe)=>{"use strict";var uNt=kt(),cNt=Dr(),Dwe=jt(),Lwe=Mi(),fNt=Ep(),pNt=Wi(),dNt=vr(),hNt=$S(),mNt=dNt("asyncIterator");Pwe.exports=function(t){var r=Dwe(t),n=!0,i=pNt(r,mNt),o;return cNt(i)||(i=fNt(r),n=!1),i!==void 0?o=uNt(i,r):(o=r,n=!0),Dwe(o),Lwe(n?o:new hNt(Lwe(o)))}});var kwe=T(()=>{"use strict";var gNt=te(),Nwe=kt(),vNt=Ir(),XS=jt(),yNt=Lr(),_Nt=Mi(),xNt=iv(),Rwe=sa(),bNt=pV(),wNt=D_(),SNt=Kr(),ENt=xNt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var a=function(v){t.done=!0,o(v)},c=function(v){wNt(r,a,v,a)},d=function(){try{e.resolve(XS(Nwe(t.next,r))).then(function(v){try{if(XS(v).done)t.done=!0,i(Rwe(void 0,!0));else{var E=v.value;try{var I=n(E,t.counter++),M=function(L){try{t.inner=bNt(L),m()}catch(R){c(R)}};yNt(I)?e.resolve(I).then(M,c):M(I)}catch(L){c(L)}}}catch(L){a(L)}},a)}catch(v){a(v)}},m=function(){var v=t.inner;if(v)try{e.resolve(XS(Nwe(v.next,v.iterator))).then(function(E){try{XS(E).done?(t.inner=null,d()):i(Rwe(E.value,!1))}catch(I){c(I)}},c)}catch(E){c(E)}else d()};m()})});gNt({target:"AsyncIterator",proto:!0,real:!0,forced:SNt},{flatMap:function(t){return XS(this),vNt(t),new ENt(_Nt(this),{mapper:t,inner:null})}})});var qwe=T(()=>{"use strict";var INt=te(),TNt=nv().forEach;INt({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return TNt(this,t)}})});var dV=T((vDr,jwe)=>{"use strict";var ANt=kt(),MNt=iv();jwe.exports=MNt(function(){return ANt(this.next,this.iterator)},!0)});var zwe=T(()=>{"use strict";var CNt=te(),ONt=Xr(),DNt=Fa(),LNt=pV(),PNt=O_(),NNt=dV(),RNt=Kr();CNt({target:"AsyncIterator",stat:!0,forced:RNt},{from:function(t){var r=LNt(typeof t=="string"?ONt(t):t);return DNt(PNt,r.iterator)?r.iterator:new NNt(r)}})});var Fwe=T(()=>{"use strict";var kNt=te(),qNt=uV();kNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:qNt})});var Bwe=T(()=>{"use strict";var jNt=te(),zNt=lV(),FNt=Kr();jNt({target:"AsyncIterator",proto:!0,real:!0,forced:FNt},{map:zNt})});var Uwe=T(()=>{"use strict";var BNt=te(),UNt=kt(),VNt=Ir(),hV=jt(),GNt=Lr(),HNt=Er(),$Nt=Mi(),WNt=D_(),mV=HNt("Promise"),ZNt=TypeError;BNt({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){hV(this),VNt(t);var r=$Nt(this),n=r.iterator,i=r.next,o=arguments.length<2,a=o?void 0:arguments[1],c=0;return new mV(function(d,m){var v=function(I){WNt(n,m,I,m)},E=function(){try{mV.resolve(hV(UNt(i,n))).then(function(I){try{if(hV(I).done)o?m(new ZNt("Reduce of empty iterator with no initial value")):d(a);else{var M=I.value;if(o)o=!1,a=M,E();else try{var L=t(a,M,c),R=function(P){a=P,E()};GNt(L)?mV.resolve(L).then(R,v):R(L)}catch(P){v(P)}}c++}catch(P){m(P)}},m)}catch(I){m(I)}};E()})}})});var Vwe=T(()=>{"use strict";var YNt=te(),KNt=nv().some;YNt({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return KNt(this,t)}})});var $we=T(()=>{"use strict";var XNt=te(),Gwe=kt(),Hwe=jt(),QNt=Mi(),JNt=KS(),eRt=S_(),tRt=iv(),gV=sa(),rRt=Kr(),nRt=tRt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=gV(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(Gwe(n,r,void 0)).then(function(){return i}):i}return e.resolve(Gwe(t.next,r)).then(function(o){return Hwe(o).done?(t.done=!0,gV(void 0,!0)):gV(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});XNt({target:"AsyncIterator",proto:!0,real:!0,forced:rRt},{take:function(t){Hwe(this);var r=eRt(JNt(+t));return new nRt(QNt(this),{remaining:r})}})});var Wwe=T(()=>{"use strict";var iRt=te(),oRt=nv().toArray;iRt({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return oRt(this,void 0,[])}})});var vD=T((LDr,Jwe)=>{"use strict";var Ywe=On(),aRt=Mh(),vV=sa(),sRt=eo(),lRt=Lr(),uRt=Ai(),Kwe=gr(),QS="Incorrect Iterator.range arguments",_V="NumericRangeIterator",cRt=Ywe.set,Xwe=Ywe.getterFor(_V),Zwe=RangeError,yV=TypeError,Qwe=aRt(function(t,r,n,i,o,a){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new yV(QS);if(t===1/0||t===-1/0)throw new Zwe(QS);var c=r>t,d=!1,m;if(n===void 0)m=void 0;else if(lRt(n))m=n.step,d=!!n.inclusive;else if(typeof n==i)m=n;else throw new yV(QS);if(sRt(m)&&(m=c?a:-a),typeof m!=i)throw new yV(QS);if(m===1/0||m===-1/0||m===o&&t!==r)throw new Zwe(QS);var v=t!==t||r!==r||m!==m||r>t!=m>o;cRt(this,{type:_V,start:t,end:r,step:m,inclusive:d,hitsEnd:v,currentCount:o,zero:o}),Kwe||(this.start=t,this.end=r,this.step=m,this.inclusive=d)},_V,function(){var t=Xwe(this);if(t.hitsEnd)return vV(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var a=t.inclusive,c;return n>r?c=a?o>n:o>=n:c=a?n>o:n>=o,c?(t.hitsEnd=!0,vV(void 0,!0)):vV(o,!1)}),gD=function(e){uRt(Qwe.prototype,e,{get:function(){return Xwe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};Kwe&&(gD("start"),gD("end"),gD("inclusive"),gD("step"));Jwe.exports=Qwe});var eSe=T(()=>{"use strict";var fRt=te(),pRt=vD();typeof BigInt=="function"&&fRt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new pRt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var xV=T((RDr,iSe)=>{"use strict";rO();XO();var nSe=Er(),dRt=Zi(),tSe=Lr(),hRt=Object,mRt=TypeError,gRt=nSe("Map"),vRt=nSe("WeakMap"),yD=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=dRt(null)};yD.prototype.get=function(e,t){return this[e]||(this[e]=t())};yD.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new vRt):this.primitives||(this.primitives=new gRt),i=n.get(t);return i||n.set(t,i=new yD),i};var rSe=new yD;iSe.exports=function(){var e=rSe,t=arguments.length,r,n;for(r=0;r<t;r++)tSe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===hRt&&e===rSe)throw new mRt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)tSe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var aSe=T(()=>{"use strict";var yRt=te(),_Rt=Ba(),xRt=xV(),bRt=Er(),oSe=Zi(),wRt=Object,SRt=function(){var e=bRt("Object","freeze");return e?e(oSe(null)):oSe(null)};yRt({global:!0,forced:!0},{compositeKey:function(){return _Rt(xRt,wRt,arguments).get("object",SRt)}})});var lSe=T(()=>{"use strict";var ERt=te(),IRt=xV(),sSe=Er(),TRt=Ba();ERt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?sSe("Symbol").for(arguments[0]):TRt(IRt,null,arguments).get("symbol",sSe("Symbol"))}})});var uSe=T(()=>{"use strict";var ARt=te(),MRt=st(),CRt=zC().unpack,ORt=MRt(DataView.prototype.getUint16);ARt({target:"DataView",proto:!0},{getFloat16:function(t){var r=ORt(this,t,arguments.length>1?arguments[1]:!1);return CRt([r&255,r>>8&255],10)}})});var cSe=T(()=>{"use strict";var DRt=te(),LRt=st(),PRt=LRt(DataView.prototype.getUint8);DRt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return PRt(this,t)}})});var bV=T((GDr,fSe)=>{"use strict";var NRt=x6(),RRt=.0009765625,kRt=65504,qRt=6103515625e-14;fSe.exports=Math.f16round||function(t){return NRt(t,RRt,kRt,qRt)}});var pSe=T(()=>{"use strict";var jRt=te(),zRt=st(),FRt=Hs(),BRt=X0(),URt=zC().pack,VRt=bV(),GRt=TypeError,HRt=zRt(DataView.prototype.setUint16);jRt({target:"DataView",proto:!0},{setFloat16:function(t,r){if(FRt(this)!=="DataView")throw new GRt("Incorrect receiver");var n=BRt(t),i=URt(VRt(r),10,2);return HRt(this,n,i[1]<<8|i[0],arguments.length>2?arguments[2]:!1)}})});var dSe=T(()=>{"use strict";var $Rt=te(),WRt=st(),ZRt=Hs(),YRt=X0(),KRt=e8(),XRt=TypeError,QRt=WRt(DataView.prototype.setUint8);$Rt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){if(ZRt(this)!=="DataView")throw new XRt("Incorrect receiver");var n=YRt(t);return QRt(this,n,KRt(r))}})});var ySe=T(()=>{"use strict";var JRt=te(),xD=gr(),e4t=Er(),hSe=Ir(),t4t=Ua(),mSe=jn(),r4t=hu(),n4t=Ai(),gSe=vr(),vSe=On(),wV=tV(),i4t=e4t("SuppressedError"),o4t=ReferenceError,a4t=gSe("dispose"),s4t=gSe("toStringTag"),wD="DisposableStack",l4t=vSe.set,bD=vSe.getterFor(wD),SV="sync-dispose",JS="disposed",u4t="pending",_D=function(e){var t=bD(e);if(t.state===JS)throw new o4t(wD+" already disposed");return t},EV=function(){l4t(t4t(this,P_),{type:wD,state:u4t,stack:[]}),xD||(this.disposed=!1)},P_=EV.prototype;r4t(P_,{dispose:function(){var t=bD(this);if(t.state!==JS){t.state=JS,xD||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var a=r[--n];r[n]=null;try{a()}catch(c){i?o=new i4t(c,o):(i=!0,o=c)}}if(t.stack=null,i)throw o}},use:function(t){return wV(_D(this),t,SV),t},adopt:function(t,r){var n=_D(this);return hSe(r),wV(n,void 0,SV,function(){r(t)}),t},defer:function(t){var r=_D(this);hSe(t),wV(r,void 0,SV,t)},move:function(){var t=_D(this),r=new EV;return bD(r).stack=t.stack,t.stack=[],t.state=JS,xD||(this.disposed=!0),r}});xD&&n4t(P_,"disposed",{configurable:!0,get:function(){return bD(this).state===JS}});mSe(P_,a4t,P_.dispose,{name:"dispose"});mSe(P_,s4t,wD,{nonWritable:!0});JRt({global:!0,constructor:!0},{DisposableStack:EV})});var IV=T((XDr,_Se)=>{"use strict";var c4t=st(),f4t=Ir();_Se.exports=function(){return c4t(f4t(this))}});var xSe=T(()=>{"use strict";var p4t=te(),d4t=IV();p4t({target:"Function",proto:!0,forced:!0},{demethodize:d4t})});var wSe=T(()=>{"use strict";var h4t=te(),m4t=st(),g4t=Dr(),v4t=Uw(),y4t=Gr(),_4t=gr(),x4t=Object.getOwnPropertyDescriptor,bSe=/^\s*class\b/,b4t=m4t(bSe.exec),w4t=function(e){try{if(!_4t||!b4t(bSe,v4t(e)))return!1}catch(r){}var t=x4t(e,"prototype");return!!t&&y4t(t,"writable")&&!t.writable};h4t({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return g4t(t)&&!w4t(t)}})});var SSe=T(()=>{"use strict";var S4t=te(),E4t=cc();S4t({target:"Function",stat:!0,forced:!0},{isConstructor:E4t})});var TSe=T(()=>{"use strict";var I4t=vr(),T4t=ai().f,ESe=I4t("metadata"),ISe=Function.prototype;ISe[ESe]===void 0&&T4t(ISe,ESe,{value:null})});var ASe=T(()=>{"use strict";var A4t=te(),M4t=IV();A4t({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:M4t})});var MSe=T(()=>{"use strict";$6()});var PSe=T(()=>{"use strict";var C4t=te(),O4t=Xt(),D4t=Ua(),L4t=Dr(),P4t=ro(),OSe=to(),N4t=vt(),DSe=Gr(),R4t=vr(),Np=Vg().IteratorPrototype,k4t=Kr(),CSe=R4t("toStringTag"),q4t=TypeError,TV=O4t.Iterator,LSe=k4t||!L4t(TV)||TV.prototype!==Np||!N4t(function(){TV({})}),AV=function(){if(D4t(this,Np),P4t(this)===Np)throw new q4t("Abstract class Iterator not directly constructable")};DSe(Np,CSe)||OSe(Np,CSe,"Iterator");(LSe||!DSe(Np,"constructor")||Np.constructor===Object)&&OSe(Np,"constructor",AV);AV.prototype=Np;C4t({global:!0,constructor:!0,forced:LSe},{Iterator:AV})});var ov=T((pLr,zSe)=>{"use strict";var j4t=kt(),z4t=Zi(),F4t=to(),B4t=hu(),U4t=vr(),NSe=On(),V4t=Wi(),G4t=Vg().IteratorPrototype,MV=sa(),CV=Ip(),H4t=U4t("toStringTag"),RSe="IteratorHelper",kSe="WrapForValidIterator",$4t=NSe.set,qSe=function(e){var t=NSe.getterFor(e?kSe:RSe);return B4t(z4t(G4t),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return MV(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=V4t(n,"return");return i?j4t(i,n):MV(void 0,!0)}if(r.inner)try{CV(r.inner.iterator,"normal")}catch(o){return CV(n,"throw",o)}return CV(n,"normal"),MV(void 0,!0)}})},W4t=qSe(!0),jSe=qSe(!1);F4t(jSe,H4t,"Iterator Helper");zSe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?kSe:RSe,o.nextHandler=e,o.counter=0,o.done=!1,$4t(this,o)};return r.prototype=t?W4t:jSe,r}});var OV=T((dLr,BSe)=>{"use strict";var Z4t=kt(),Y4t=Ir(),FSe=jt(),K4t=Mi(),X4t=ov(),Q4t=MC(),J4t=X4t(function(){var e=this.iterator,t=FSe(Z4t(this.next,e)),r=this.done=!!t.done;if(!r)return Q4t(e,this.mapper,[t.value,this.counter++],!0)});BSe.exports=function(t){return FSe(this),Y4t(t),new J4t(K4t(this),{mapper:t})}});var DV=T((hLr,USe)=>{"use strict";var e5t=kt(),t5t=OV(),r5t=function(e,t){return[t,e]};USe.exports=function(){return e5t(t5t,this,r5t)}});var VSe=T(()=>{"use strict";var n5t=te(),i5t=DV();n5t({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:i5t})});var $Se=T(()=>{"use strict";var o5t=kt(),a5t=jn(),s5t=Wi(),l5t=Gr(),u5t=vr(),GSe=Vg().IteratorPrototype,HSe=u5t("dispose");l5t(GSe,HSe)||a5t(GSe,HSe,function(){var e=s5t(this,"return");e&&o5t(e,this)})});var ZSe=T(()=>{"use strict";var c5t=te(),WSe=kt(),LV=jt(),f5t=Mi(),p5t=KS(),d5t=S_(),h5t=ov(),m5t=Kr(),g5t=h5t(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=LV(WSe(t,e)),n=this.done=!!r.done,n)return;if(r=LV(WSe(t,e)),n=this.done=!!r.done,!n)return r.value});c5t({target:"Iterator",proto:!0,real:!0,forced:m5t},{drop:function(t){LV(this);var r=d5t(p5t(+t));return new g5t(f5t(this),{remaining:r})}})});var YSe=T(()=>{"use strict";var v5t=te(),y5t=ji(),_5t=Ir(),x5t=jt(),b5t=Mi();v5t({target:"Iterator",proto:!0,real:!0},{every:function(t){x5t(this),_5t(t);var r=b5t(this),n=0;return!y5t(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var XSe=T(()=>{"use strict";var w5t=te(),S5t=kt(),E5t=Ir(),KSe=jt(),I5t=Mi(),T5t=ov(),A5t=MC(),M5t=Kr(),C5t=T5t(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=KSe(S5t(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,A5t(e,t,[o,this.counter++],!0))return o}});w5t({target:"Iterator",proto:!0,real:!0,forced:M5t},{filter:function(t){return KSe(this),E5t(t),new C5t(I5t(this),{predicate:t})}})});var QSe=T(()=>{"use strict";var O5t=te(),D5t=ji(),L5t=Ir(),P5t=jt(),N5t=Mi();O5t({target:"Iterator",proto:!0,real:!0},{find:function(t){P5t(this),L5t(t);var r=N5t(this),n=0;return D5t(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var PV=T((ALr,eEe)=>{"use strict";var R5t=kt(),JSe=jt(),k5t=Mi(),q5t=Ep();eEe.exports=function(e,t){(!t||typeof e!="string")&&JSe(e);var r=q5t(e);return k5t(JSe(r!==void 0?R5t(r,e):e))}});var nEe=T(()=>{"use strict";var j5t=te(),tEe=kt(),z5t=Ir(),NV=jt(),F5t=Mi(),B5t=PV(),U5t=ov(),rEe=Ip(),V5t=Kr(),G5t=U5t(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=NV(tEe(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){rEe(e,"throw",i)}if(r=NV(tEe(this.next,e)),this.done=!!r.done)return;try{this.inner=B5t(t(r.value,this.counter++),!1)}catch(i){rEe(e,"throw",i)}}});j5t({target:"Iterator",proto:!0,real:!0,forced:V5t},{flatMap:function(t){return NV(this),z5t(t),new G5t(F5t(this),{mapper:t,inner:null})}})});var iEe=T(()=>{"use strict";var H5t=te(),$5t=ji(),W5t=Ir(),Z5t=jt(),Y5t=Mi();H5t({target:"Iterator",proto:!0,real:!0},{forEach:function(t){Z5t(this),W5t(t);var r=Y5t(this),n=0;$5t(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var oEe=T(()=>{"use strict";var K5t=te(),X5t=kt(),Q5t=Xr(),J5t=Fa(),ekt=Vg().IteratorPrototype,tkt=ov(),rkt=PV(),nkt=Kr(),ikt=tkt(function(){return X5t(this.next,this.iterator)},!0);K5t({target:"Iterator",stat:!0,forced:nkt},{from:function(t){var r=rkt(typeof t=="string"?Q5t(t):t,!0);return J5t(ekt,r.iterator)?r.iterator:new ikt(r)}})});var aEe=T(()=>{"use strict";var okt=te(),akt=DV();okt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:akt})});var sEe=T(()=>{"use strict";var skt=te(),lkt=OV(),ukt=Kr();skt({target:"Iterator",proto:!0,real:!0,forced:ukt},{map:lkt})});var uEe=T(()=>{"use strict";var ckt=te(),lEe=vD(),fkt=TypeError;ckt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new lEe(t,r,n,"number",0,1);if(typeof t=="bigint")return new lEe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new fkt("Incorrect Iterator.range arguments")}})});var cEe=T(()=>{"use strict";var pkt=te(),dkt=ji(),hkt=Ir(),mkt=jt(),gkt=Mi(),vkt=TypeError;pkt({target:"Iterator",proto:!0,real:!0},{reduce:function(t){mkt(this),hkt(t);var r=gkt(this),n=arguments.length<2,i=n?void 0:arguments[1],o=0;if(dkt(r,function(a){n?(n=!1,i=a):i=t(i,a,o),o++},{IS_RECORD:!0}),n)throw new vkt("Reduce of empty iterator with no initial value");return i}})});var fEe=T(()=>{"use strict";var ykt=te(),_kt=ji(),xkt=Ir(),bkt=jt(),wkt=Mi();ykt({target:"Iterator",proto:!0,real:!0},{some:function(t){bkt(this),xkt(t);var r=wkt(this),n=0;return _kt(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var dEe=T(()=>{"use strict";var Skt=te(),Ekt=kt(),pEe=jt(),Ikt=Mi(),Tkt=KS(),Akt=S_(),Mkt=ov(),Ckt=Ip(),Okt=Kr(),Dkt=Mkt(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,Ckt(e,"normal",void 0);var t=pEe(Ekt(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});Skt({target:"Iterator",proto:!0,real:!0,forced:Okt},{take:function(t){pEe(this);var r=Akt(Tkt(+t));return new Dkt(Ikt(this),{remaining:r})}})});var hEe=T(()=>{"use strict";var Lkt=te(),Pkt=jt(),Nkt=ji(),Rkt=Mi(),kkt=[].push;Lkt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return Nkt(Rkt(Pkt(this)),kkt,{that:t,IS_RECORD:!0}),t}})});var gEe=T(()=>{"use strict";var qkt=te(),jkt=jt(),zkt=$S(),Fkt=dV(),mEe=Mi(),Bkt=Kr();qkt({target:"Iterator",proto:!0,real:!0,forced:Bkt},{toAsync:function(){return new Fkt(mEe(new zkt(mEe(jkt(this)))))}})});var RV=T((KLr,vEe)=>{"use strict";var Ukt=vt();vEe.exports=!Ukt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var kV=T((XLr,yEe)=>{"use strict";var Vkt=Lr(),Gkt=On().get;yEe.exports=function(t){if(!Vkt(t))return!1;var r=Gkt(t);return!!r&&r.type==="RawJSON"}});var _Ee=T(()=>{"use strict";var Hkt=te(),$kt=RV(),Wkt=kV();Hkt({target:"JSON",stat:!0,forced:!$kt},{isRawJSON:Wkt})});var jV=T((ePr,SEe)=>{"use strict";var qV=st(),Zkt=Gr(),SD=SyntaxError,Ykt=parseInt,Kkt=String.fromCharCode,Xkt=qV("".charAt),xEe=qV("".slice),bEe=qV(/./.exec),wEe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},Qkt=/^[\da-f]{4}$/i,Jkt=/^[\u0000-\u001F]$/;SEe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=Xkt(e,t);if(i==="\\"){var o=xEe(e,t,t+2);if(Zkt(wEe,o))n+=wEe[o],t+=2;else if(o==="\\u"){t+=2;var a=xEe(e,t,t+4);if(!bEe(Qkt,a))throw new SD("Bad Unicode escape at: "+t);n+=Kkt(Ykt(a,16)),t+=4}else throw new SD("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(bEe(Jkt,i))throw new SD("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new SD("Unterminated string at: "+t);return{value:n,end:t}}});var DEe=T(()=>{"use strict";var e3t=te(),t3t=gr(),$V=Xt(),r3t=Er(),ED=st(),n3t=kt(),CEe=Dr(),i3t=Lr(),o3t=uc(),a3t=Gr(),s3t=Mr(),EEe=rn(),VV=cu(),OEe=vt(),l3t=jV(),u3t=bh(),IEe=$V.JSON,c3t=$V.Number,N_=$V.SyntaxError,WV=IEe&&IEe.parse,f3t=r3t("Object","keys"),p3t=Object.getOwnPropertyDescriptor,la=ED("".charAt),zV=ED("".slice),FV=ED(/./.exec),TEe=ED([].push),BV=/^\d$/,d3t=/^[1-9]$/,h3t=/^(?:-|\d)$/,eE=/^[\t\n\r ]$/,UV=0,AEe=1,m3t=function(e,t){e=s3t(e);var r=new HV(e,0,""),n=r.parse(),i=n.value,o=r.skip(eE,n.end);if(o<e.length)throw new N_("Unexpected extra character: \""+la(e,o)+"\" after the parsed data at: "+o);return CEe(t)?GV({"":i},"",t,n):i},GV=function(e,t,r,n){var i=e[t],o=n&&i===n.value,a=o&&typeof n.source=="string"?{source:n.source}:{},c,d,m,v,E;if(i3t(i)){var I=o3t(i),M=o?n.nodes:I?[]:{};if(I)for(c=M.length,m=EEe(i),v=0;v<m;v++)MEe(i,v,GV(i,""+v,r,v<c?M[v]:void 0));else for(d=f3t(i),m=EEe(d),v=0;v<m;v++)E=d[v],MEe(i,E,GV(i,E,r,a3t(M,E)?M[E]:void 0))}return n3t(r,e,t,i,a)},MEe=function(e,t,r){if(t3t){var n=p3t(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:VV(e,t,r)},g3t=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},HV=function(e,t){this.source=e,this.index=t};HV.prototype={fork:function(e){return new HV(this.source,e)},parse:function(){var e=this.source,t=this.skip(eE,this.index),r=this.fork(t),n=la(e,t);if(FV(h3t,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null);}throw new N_("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new g3t(t,n,e?null:zV(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),la(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),a=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(eE,t),o=this.fork(t).parse(),VV(i,a,o),VV(n,a,o.value),t=this.until([",","}"],o.end);var c=la(e,t);if(c===",")r=!0,t++;else if(c==="}"){t++;break}}return this.node(AEe,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(eE,t),la(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(TEe(i,o),TEe(n,o.value),t=this.until([",","]"],o.end),la(e,t)===",")r=!0,t++;else if(la(e,t)==="]"){t++;break}}return this.node(AEe,n,this.index,t,i)},string:function(){var e=this.index,t=l3t(this.source,this.index+1);return this.node(UV,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(la(e,r)==="-"&&r++,la(e,r)==="0")r++;else if(FV(d3t,la(e,r)))r=this.skip(BV,++r);else throw new N_("Failed to parse number at: "+r);if(la(e,r)==="."&&(r=this.skip(BV,++r)),la(e,r)==="e"||la(e,r)==="E"){r++,(la(e,r)==="+"||la(e,r)==="-")&&r++;var n=r;if(r=this.skip(BV,r),n===r)throw new N_("Failed to parse number's exponent value at: "+r)}return this.node(UV,c3t(zV(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(zV(this.source,r,n)!==t)throw new N_("Failed to parse value at: "+r);return this.node(UV,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&FV(e,la(r,t));t++);return t},until:function(e,t){t=this.skip(eE,t);for(var r=la(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new N_("Unexpected character: \""+r+"\" at: "+t)}};var v3t=OEe(function(){var e="9007199254740993",t;return WV(e,function(r,n,i){t=i.source}),t!==e}),y3t=u3t&&!OEe(function(){return 1/WV("-0 \t")!==-1/0});e3t({target:"JSON",stat:!0,forced:v3t},{parse:function(t,r){return y3t&&!CEe(r)?WV(t):m3t(t,r)}})});var FEe=T(()=>{"use strict";var jEe=te(),_3t=Dp(),zEe=RV(),ID=Er(),x3t=kt(),TD=st(),b3t=Dr(),w3t=kV(),S3t=Mr(),E3t=cu(),I3t=jV(),T3t=SF(),A3t=Sh(),M3t=On().set,C3t=String,LEe=SyntaxError,O3t=ID("JSON","parse"),PEe=ID("JSON","stringify"),D3t=ID("Object","create"),L3t=ID("Object","freeze"),YV=TD("".charAt),ZV=TD("".slice),NEe=TD(/./.exec),P3t=TD([].push),KV=A3t(),REe=KV.length,kEe="Unacceptable as raw JSON",qEe=/^[\t\n\r ]$/;jEe({target:"JSON",stat:!0,forced:!zEe},{rawJSON:function(t){var r=S3t(t);if(r===""||NEe(qEe,YV(r,0))||NEe(qEe,YV(r,r.length-1)))throw new LEe(kEe);var n=O3t(r);if(typeof n=="object"&&n!==null)throw new LEe(kEe);var i=D3t(null);return M3t(i,{type:"RawJSON"}),E3t(i,"rawJSON",r),_3t?L3t(i):i}});PEe&&jEe({target:"JSON",stat:!0,arity:3,forced:!zEe},{stringify:function(t,r,n){var i=T3t(r),o=[],a=PEe(t,function(M,L){var R=b3t(i)?x3t(i,this,C3t(M),L):L;return w3t(R)?KV+(P3t(o,R.rawJSON)-1):R},n);if(typeof a!="string")return a;for(var c="",d=a.length,m=0;m<d;m++){var v=YV(a,m);if(v==="\""){var E=I3t(a,++m).end-1,I=ZV(a,m,E);c+=ZV(I,0,REe)===KV?o[ZV(I,REe)]:"\""+I+"\"",m=E}else c+=v}return c}})});var _s=T((oPr,BEe)=>{"use strict";var N3t=ys().has;BEe.exports=function(e){return N3t(e),e}});var UEe=T(()=>{"use strict";var R3t=te(),k3t=_s(),q3t=ys().remove;R3t({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=k3t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=q3t(t,arguments[i]),r=r&&n;return!!r}})});var GEe=T(()=>{"use strict";var j3t=te(),z3t=_s(),XV=ys(),F3t=XV.get,B3t=XV.has,VEe=XV.set;j3t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=z3t(this),i,o;return B3t(n,t)?(i=F3t(n,t),"update"in r&&(i=r.update(i,t,n),VEe(n,t,i)),i):(o=r.insert(t,n),VEe(n,t,o),o)}})});var HEe=T(()=>{"use strict";var U3t=te(),V3t=Kn(),G3t=_s(),H3t=vu();U3t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=G3t(this),n=V3t(t,arguments.length>1?arguments[1]:void 0);return H3t(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var WEe=T(()=>{"use strict";var $3t=te(),W3t=Kn(),Z3t=_s(),$Ee=ys(),Y3t=vu(),K3t=$Ee.Map,X3t=$Ee.set;$3t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=Z3t(this),n=W3t(t,arguments.length>1?arguments[1]:void 0),i=new K3t;return Y3t(r,function(o,a){n(o,a,r)&&X3t(i,a,o)}),i}})});var ZEe=T(()=>{"use strict";var Q3t=te(),J3t=Kn(),eqt=_s(),tqt=vu();Q3t({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=eqt(this),n=J3t(t,arguments.length>1?arguments[1]:void 0),i=tqt(r,function(o,a){if(n(o,a,r))return{value:o}},!0);return i&&i.value}})});var YEe=T(()=>{"use strict";var rqt=te(),nqt=Kn(),iqt=_s(),oqt=vu();rqt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=iqt(this),n=nqt(t,arguments.length>1?arguments[1]:void 0),i=oqt(r,function(o,a){if(n(o,a,r))return{key:a}},!0);return i&&i.key}})});var tE=T((yPr,QEe)=>{"use strict";var aqt=Kn(),sqt=kt(),lqt=Ir(),uqt=n_(),cqt=eo(),KEe=ji(),XEe=[].push;QEe.exports=function(t){var r=arguments.length,n=r>1?arguments[1]:void 0,i,o,a,c;return uqt(this),i=n!==void 0,i&&lqt(n),cqt(t)?new this:(o=[],i?(a=0,c=aqt(n,r>2?arguments[2]:void 0),KEe(t,function(d){sqt(XEe,o,c(d,a++))})):KEe(t,XEe,{that:o}),new this(o))}});var JEe=T(()=>{"use strict";var fqt=te(),pqt=tE();fqt({target:"Map",stat:!0,forced:!0},{from:pqt})});var eIe=T(()=>{"use strict";var dqt=te(),hqt=st(),mqt=Ir(),gqt=gi(),vqt=ji(),AD=ys(),yqt=Kr(),_qt=AD.Map,xqt=AD.has,bqt=AD.get,wqt=AD.set,Sqt=hqt([].push);dqt({target:"Map",stat:!0,forced:yqt},{groupBy:function(t,r){gqt(t),mqt(r);var n=new _qt,i=0;return vqt(t,function(o){var a=r(o,i++);xqt(n,a)?Sqt(bqt(n,a),o):wqt(n,a,[o])}),n}})});var rIe=T((SPr,tIe)=>{"use strict";tIe.exports=function(e,t){return e===t||e!==e&&t!==t}});var nIe=T(()=>{"use strict";var Eqt=te(),Iqt=rIe(),Tqt=_s(),Aqt=vu();Eqt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return Aqt(Tqt(this),function(r){if(Iqt(r,t))return!0},!0)===!0}})});var oIe=T(()=>{"use strict";var Mqt=te(),Cqt=kt(),Oqt=ji(),Dqt=Dr(),iIe=Ir(),Lqt=ys().Map;Mqt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=Dqt(this)?this:Lqt,i=new n;iIe(r);var o=iIe(i.set);return Oqt(t,function(a){Cqt(o,i,r(a),a)}),i}})});var aIe=T(()=>{"use strict";var Pqt=te(),Nqt=_s(),Rqt=vu();Pqt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=Rqt(Nqt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var lIe=T(()=>{"use strict";var kqt=te(),qqt=Kn(),jqt=_s(),sIe=ys(),zqt=vu(),Fqt=sIe.Map,Bqt=sIe.set;kqt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=jqt(this),n=qqt(t,arguments.length>1?arguments[1]:void 0),i=new Fqt;return zqt(r,function(o,a){Bqt(i,n(o,a,r),o)}),i}})});var cIe=T(()=>{"use strict";var Uqt=te(),Vqt=Kn(),Gqt=_s(),uIe=ys(),Hqt=vu(),$qt=uIe.Map,Wqt=uIe.set;Uqt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=Gqt(this),n=Vqt(t,arguments.length>1?arguments[1]:void 0),i=new $qt;return Hqt(r,function(o,a){Wqt(i,a,n(o,a,r))}),i}})});var fIe=T(()=>{"use strict";var Zqt=te(),Yqt=_s(),Kqt=ji(),Xqt=ys().set;Zqt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=Yqt(this),n=arguments.length,i=0;i<n;)Kqt(arguments[i++],function(o,a){Xqt(r,o,a)},{AS_ENTRIES:!0});return r}})});var rE=T((kPr,pIe)=>{"use strict";var Qqt=wp();pIe.exports=function(){return new this(Qqt(arguments))}});var dIe=T(()=>{"use strict";var Jqt=te(),ejt=rE();Jqt({target:"Map",stat:!0,forced:!0},{of:ejt})});var hIe=T(()=>{"use strict";var tjt=te(),rjt=Ir(),njt=_s(),ijt=vu(),ojt=TypeError;tjt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=njt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(rjt(t),ijt(r,function(o,a){n?(n=!1,i=o):i=t(i,o,a,r)}),n)throw new ojt("Reduce of empty map with no initial value");return i}})});var mIe=T(()=>{"use strict";var ajt=te(),sjt=Kn(),ljt=_s(),ujt=vu();ajt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=ljt(this),n=sjt(t,arguments.length>1?arguments[1]:void 0);return ujt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var vIe=T(()=>{"use strict";var cjt=te(),gIe=Ir(),fjt=_s(),QV=ys(),pjt=TypeError,djt=QV.get,hjt=QV.has,mjt=QV.set;cjt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=fjt(this),i=arguments.length;gIe(r);var o=hjt(n,t);if(!o&&i<3)throw new pjt("Updating absent value");var a=o?djt(n,t):gIe(i>2?arguments[2]:void 0)(t,n);return mjt(n,t,r(a,t,n)),n}})});var OD=T((HPr,yIe)=>{"use strict";var MD=kt(),JV=Ir(),CD=Dr(),gjt=jt(),vjt=TypeError;yIe.exports=function(t,r){var n=gjt(this),i=JV(n.get),o=JV(n.has),a=JV(n.set),c=arguments.length>2?arguments[2]:void 0,d;if(!CD(r)&&!CD(c))throw new vjt("At least one callback required");return MD(o,n,t)?(d=MD(i,n,t),CD(r)&&(d=r(d),MD(a,n,t,d))):CD(c)&&(d=c(),MD(a,n,t,d)),d}});var _Ie=T(()=>{"use strict";var yjt=te(),_jt=OD();yjt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:_jt})});var xIe=T(()=>{"use strict";var xjt=te(),bjt=OD();xjt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:bjt})});var bIe=T(()=>{"use strict";var wjt=te(),Sjt=Math.min,Ejt=Math.max;wjt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){return Sjt(n,Ejt(r,t))}})});var wIe=T(()=>{"use strict";var Ijt=te();Ijt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var SIe=T(()=>{"use strict";var Tjt=te(),Ajt=180/Math.PI;Tjt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*Ajt}})});var e9=T((rNr,EIe)=>{"use strict";EIe.exports=Math.scale||function(t,r,n,i,o){var a=+t,c=+r,d=+n,m=+i,v=+o;return a!==a||c!==c||d!==d||m!==m||v!==v?NaN:a===1/0||a===-1/0?a:(a-c)*(v-m)/(d-c)+m}});var IIe=T(()=>{"use strict";var Mjt=te(),Cjt=e9(),Ojt=jC();Mjt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return Ojt(Cjt(t,r,n,i,o))}})});var TIe=T(()=>{"use strict";var Djt=te(),Ljt=bV();Djt({target:"Math",stat:!0},{f16round:Ljt})});var AIe=T(()=>{"use strict";var Pjt=te();Pjt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,a=r>>>0,c=n>>>0;return a+(i>>>0)+((o&c|(o|c)&~(o+c>>>0))>>>31)|0}})});var MIe=T(()=>{"use strict";var Njt=te();Njt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,a=i&n,c=o&n,d=i>>16,m=o>>16,v=(d*c>>>0)+(a*c>>>16);return d*m+(v>>16)+((a*m>>>0)+(v&n)>>16)}})});var CIe=T(()=>{"use strict";var Rjt=te();Rjt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,a=r>>>0,c=n>>>0;return a-(i>>>0)-((~o&c|~(o^c)&o-c>>>0)>>>31)|0}})});var OIe=T(()=>{"use strict";var kjt=te();kjt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var DIe=T(()=>{"use strict";var qjt=te(),jjt=Math.PI/180;qjt({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*jjt}})});var LIe=T(()=>{"use strict";var zjt=te(),Fjt=e9();zjt({target:"Math",stat:!0,forced:!0},{scale:Fjt})});var kIe=T(()=>{"use strict";var Bjt=te(),Ujt=jt(),Vjt=cB(),Gjt=Mh(),Hjt=sa(),PIe=On(),NIe="Seeded Random",RIe=NIe+" Generator",$jt="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",Wjt=PIe.set,Zjt=PIe.getterFor(RIe),Yjt=TypeError,Kjt=Gjt(function(t){Wjt(this,{type:RIe,seed:t%2147483647})},NIe,function(){var t=Zjt(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return Hjt((r&1073741823)/1073741823,!1)});Bjt({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=Ujt(t).seed;if(!Vjt(r))throw new Yjt($jt);return new Kjt(r)}})});var qIe=T(()=>{"use strict";var Xjt=te();Xjt({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var jIe=T(()=>{"use strict";var Qjt=te();Qjt({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,a=i&n,c=o&n,d=i>>>16,m=o>>>16,v=(d*c>>>0)+(a*c>>>16);return d*m+(v>>>16)+((a*m>>>0)+(v&n)>>>16)}})});var FIe=T(()=>{"use strict";var Jjt=te(),LD=st(),ezt=vi(),tzt=sO(),DD="Invalid number representation",rzt="Invalid radix",nzt=RangeError,t9=SyntaxError,izt=TypeError,zIe=/^[\da-z]+$/,ozt=LD("".charAt),azt=LD(zIe.exec),szt=LD(1 .toString),lzt=LD("".slice);Jjt({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1,i,o;if(typeof t!="string")throw new izt(DD);if(!t.length)throw new t9(DD);if(ozt(t,0)==="-"&&(n=-1,t=lzt(t,1),!t.length))throw new t9(DD);if(i=r===void 0?10:ezt(r),i<2||i>36)throw new nzt(rzt);if(!azt(zIe,t)||szt(o=tzt(t,i),i)!==t)throw new t9(DD);return n*o}})});var BIe=T(()=>{"use strict";var uzt=te(),czt=vD();uzt({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new czt(t,r,n,"number",0,1)}})});var UIe=T(()=>{"use strict";bB()});var ND=T((DNr,HIe)=>{"use strict";var VIe=On(),fzt=Mh(),PD=sa(),pzt=Gr(),dzt=Ng(),hzt=Xr(),GIe="Object Iterator",mzt=VIe.set,gzt=VIe.getterFor(GIe);HIe.exports=fzt(function(t,r){var n=hzt(t);mzt(this,{type:GIe,mode:r,object:n,keys:dzt(n),index:0})},"Object",function(){for(var t=gzt(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,PD(void 0,!0);var n=r[t.index++],i=t.object;if(pzt(i,n)){switch(t.mode){case"keys":return PD(n,!1);case"values":return PD(i[n],!1);}return PD([n,i[n]],!1)}}})});var $Ie=T(()=>{"use strict";var vzt=te(),yzt=ND();vzt({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new yzt(t,"entries")}})});var WIe=T(()=>{"use strict";var _zt=te(),xzt=ND();_zt({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new xzt(t,"keys")}})});var ZIe=T(()=>{"use strict";var bzt=te(),wzt=ND();bzt({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new wzt(t,"values")}})});var YIe=T(()=>{"use strict";var Szt=te(),Ezt=Er(),Izt=st(),Tzt=Ir(),Azt=gi(),Mzt=sc(),Czt=ji(),Ozt=Ezt("Object","create"),Dzt=Izt([].push);Szt({target:"Object",stat:!0},{groupBy:function(t,r){Azt(t),Tzt(r);var n=Ozt(null),i=0;return Czt(t,function(o){var a=Mzt(r(o,i++));a in n?Dzt(n[a],o):n[a]=[o]}),n}})});var oTe=T(()=>{"use strict";var Lzt=te(),RD=kt(),nE=gr(),Pzt=Oh(),KIe=Ir(),Nzt=jt(),Rzt=Ua(),XIe=Dr(),kzt=eo(),qzt=Lr(),kD=Wi(),jzt=jn(),r9=hu(),QIe=Ai(),R_=VB(),zzt=vr(),JIe=On(),Fzt=zzt("observable"),n9="Observable",eTe="Subscription",tTe="SubscriptionObserver",i9=JIe.getterFor,o9=JIe.set,Bzt=i9(n9),rTe=i9(eTe),qD=i9(tTe),nTe=function(e){this.observer=Nzt(e),this.cleanup=void 0,this.subscriptionObserver=void 0};nTe.prototype={type:eTe,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){R_(t)}}},close:function(){if(!nE){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var a9=function(e,t){var r=o9(this,new nTe(e)),n;nE||(this.closed=!1);try{(n=kD(e,"start"))&&RD(n,e,this)}catch(c){R_(c)}if(!r.isClosed()){var i=r.subscriptionObserver=new s9(r);try{var o=t(i),a=o;kzt(o)||(r.cleanup=XIe(o.unsubscribe)?function(){a.unsubscribe()}:KIe(o))}catch(c){i.error(c);return}r.isClosed()&&r.clean()}};a9.prototype=r9({},{unsubscribe:function(){var t=rTe(this);t.isClosed()||(t.close(),t.clean())}});nE&&QIe(a9.prototype,"closed",{configurable:!0,get:function(){return rTe(this).isClosed()}});var s9=function(e){o9(this,{type:tTe,subscriptionState:e}),nE||(this.closed=!1)};s9.prototype=r9({},{next:function(t){var r=qD(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=kD(n,"next");i&&RD(i,n,t)}catch(o){R_(o)}}},error:function(t){var r=qD(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=kD(n,"error");i?RD(i,n,t):R_(t)}catch(o){R_(o)}r.clean()}},complete:function(){var t=qD(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=kD(r,"complete");n&&RD(n,r)}catch(i){R_(i)}t.clean()}}});nE&&QIe(s9.prototype,"closed",{configurable:!0,get:function(){return qD(this).subscriptionState.isClosed()}});var iTe=function(t){Rzt(this,l9),o9(this,{type:n9,subscriber:KIe(t)})},l9=iTe.prototype;r9(l9,{subscribe:function(t){var r=arguments.length;return new a9(XIe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:qzt(t)?t:{},Bzt(this).subscriber)}});jzt(l9,Fzt,function(){return this});Lzt({global:!0,constructor:!0,forced:!0},{Observable:iTe});Pzt(n9)});var sTe=T(()=>{"use strict";var Uzt=te(),Vzt=Er(),Gzt=kt(),aTe=jt(),Hzt=cc(),$zt=Th(),Wzt=Wi(),Zzt=ji(),Yzt=vr(),Kzt=Yzt("observable");Uzt({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=Hzt(this)?this:Vzt("Observable"),n=Wzt(aTe(t),Kzt);if(n){var i=aTe(Gzt(n,t));return i.constructor===r?i:new r(function(a){return i.subscribe(a)})}var o=$zt(t);return new r(function(a){Zzt(o,function(c,d){if(a.next(c),a.closed)return d()},{IS_ITERATOR:!0,INTERRUPTED:!0}),a.complete()})}})});var uTe=T(()=>{"use strict";var Xzt=te(),lTe=Er(),Qzt=cc(),Jzt=lTe("Array");Xzt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=Qzt(this)?this:lTe("Observable"),r=arguments.length,n=Jzt(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var a=0;a<r;a++)if(o.next(n[a]),o.closed)return;o.complete()})}})});var cTe=T(()=>{"use strict";oTe();sTe();uTe()});var fTe=T(()=>{"use strict";iU()});var pTe=T(()=>{"use strict";oU()});var dTe=T(()=>{"use strict";var eFt=te(),tFt=af(),rFt=qh();eFt({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=tFt.f(this),r=rFt(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})});var hTe=T(()=>{"use strict";var nFt=te(),iFt=af();nFt({target:"Promise",stat:!0},{withResolvers:function(){var t=iFt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var cf=T((rRr,yTe)=>{"use strict";rO();XO();var vTe=Er(),oFt=st(),aFt=Jc(),mTe=vTe("Map"),sFt=vTe("WeakMap"),lFt=oFt([].push),gTe=aFt("metadata"),u9=gTe.store||(gTe.store=new sFt),iE=function(e,t,r){var n=u9.get(e);if(!n){if(!r)return;u9.set(e,n=new mTe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new mTe)}return i},uFt=function(e,t,r){var n=iE(t,r,!1);return n===void 0?!1:n.has(e)},cFt=function(e,t,r){var n=iE(t,r,!1);return n===void 0?void 0:n.get(e)},fFt=function(e,t,r,n){iE(r,n,!0).set(e,t)},pFt=function(e,t){var r=iE(e,t,!1),n=[];return r&&r.forEach(function(i,o){lFt(n,o)}),n},dFt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};yTe.exports={store:u9,getMap:iE,has:uFt,get:cFt,set:fFt,keys:pFt,toKey:dFt}});var xTe=T(()=>{"use strict";var hFt=te(),_Te=cf(),mFt=jt(),gFt=_Te.toKey,vFt=_Te.set;hFt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:gFt(arguments[3]);vFt(t,r,mFt(n),i)}})});var wTe=T(()=>{"use strict";var yFt=te(),c9=cf(),_Ft=jt(),xFt=c9.toKey,bFt=c9.getMap,bTe=c9.store;yFt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:xFt(arguments[2]),i=bFt(_Ft(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=bTe.get(r);return o.delete(n),!!o.size||bTe.delete(r)}})});var ETe=T(()=>{"use strict";var wFt=te(),f9=cf(),SFt=jt(),EFt=ro(),IFt=f9.has,TFt=f9.get,AFt=f9.toKey,STe=function(e,t,r){var n=IFt(e,t,r);if(n)return TFt(e,t,r);var i=EFt(t);return i!==null?STe(e,i,r):void 0};wFt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:AFt(arguments[2]);return STe(t,SFt(r),n)}})});var MTe=T(()=>{"use strict";var MFt=te(),ITe=st(),TTe=cf(),CFt=jt(),OFt=ro(),DFt=oD(),LFt=ITe(DFt),PFt=ITe([].concat),NFt=TTe.keys,RFt=TTe.toKey,ATe=function(e,t){var r=NFt(e,t),n=OFt(e);if(n===null)return r;var i=ATe(n,t);return i.length?r.length?LFt(PFt(r,i)):i:r};MFt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:RFt(arguments[1]);return ATe(CFt(t),r)}})});var OTe=T(()=>{"use strict";var kFt=te(),CTe=cf(),qFt=jt(),jFt=CTe.get,zFt=CTe.toKey;kFt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:zFt(arguments[2]);return jFt(t,qFt(r),n)}})});var LTe=T(()=>{"use strict";var FFt=te(),DTe=cf(),BFt=jt(),UFt=DTe.keys,VFt=DTe.toKey;FFt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:VFt(arguments[1]);return UFt(BFt(t),r)}})});var RTe=T(()=>{"use strict";var GFt=te(),PTe=cf(),HFt=jt(),$Ft=ro(),WFt=PTe.has,ZFt=PTe.toKey,NTe=function(e,t,r){var n=WFt(e,t,r);if(n)return!0;var i=$Ft(t);return i!==null?NTe(e,i,r):!1};GFt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:ZFt(arguments[2]);return NTe(t,HFt(r),n)}})});var qTe=T(()=>{"use strict";var YFt=te(),kTe=cf(),KFt=jt(),XFt=kTe.has,QFt=kTe.toKey;YFt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:QFt(arguments[2]);return XFt(t,KFt(r),n)}})});var zTe=T(()=>{"use strict";var JFt=te(),jTe=cf(),e6t=jt(),t6t=jTe.toKey,r6t=jTe.set;JFt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){r6t(t,r,e6t(i),t6t(o))}}})});var BTe=T(()=>{"use strict";var n6t=te(),FTe=st(),i6t=Mr(),o6t=Zg(),a6t=FTe("".charCodeAt),s6t=FTe("".replace),l6t=RegExp("[!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~"+o6t+"]","g");n6t({target:"RegExp",stat:!0,forced:!0},{escape:function(t){var r=i6t(t),n=a6t(r,0);return(n>47&&n<58?"\\x3":"")+s6t(r,l6t,"\\$&")}})});var Va=T((SRr,UTe)=>{"use strict";var p9=st(),jD=Set.prototype;UTe.exports={Set,add:p9(jD.add),has:p9(jD.has),remove:p9(jD.delete),proto:jD}});var ua=T((ERr,VTe)=>{"use strict";var u6t=Va().has;VTe.exports=function(e){return u6t(e),e}});var GTe=T(()=>{"use strict";var c6t=te(),f6t=ua(),p6t=Va().add;c6t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=f6t(this),r=0,n=arguments.length;r<n;r++)p6t(t,arguments[r]);return t}})});var HTe=T(()=>{"use strict";var d6t=te(),h6t=ua(),m6t=Va().remove;d6t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=h6t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=m6t(t,arguments[i]),r=r&&n;return!!r}})});var Nl=T((CRr,KTe)=>{"use strict";var $Te=st(),g6t=Pp(),WTe=Va(),v6t=WTe.Set,ZTe=WTe.proto,y6t=$Te(ZTe.forEach),YTe=$Te(ZTe.keys),_6t=YTe(new v6t).next;KTe.exports=function(e,t,r){return r?g6t({iterator:YTe(e),next:_6t},t):y6t(e,t)}});var zD=T((ORr,QTe)=>{"use strict";var XTe=Va(),x6t=Nl(),b6t=XTe.Set,w6t=XTe.add;QTe.exports=function(e){var t=new b6t;return x6t(e,function(r){w6t(t,r)}),t}});var k_=T((DRr,JTe)=>{"use strict";var S6t=tS(),E6t=Va();JTe.exports=S6t(E6t.proto,"size","get")||function(e){return e.size}});var Uh=T((LRr,o2e)=>{"use strict";var e2e=Ir(),n2e=jt(),t2e=kt(),I6t=vi(),T6t=Mi(),r2e="Invalid size",A6t=RangeError,M6t=TypeError,C6t=Math.max,i2e=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};i2e.prototype={getIterator:function(){return T6t(n2e(t2e(this.keys,this.set)))},includes:function(e){return t2e(this.has,this.set,e)}};o2e.exports=function(e){n2e(e);var t=+e.size;if(t!==t)throw new M6t(r2e);var r=I6t(t);if(r<0)throw new A6t(r2e);return new i2e(e,C6t(r,0),e2e(e.has),e2e(e.keys))}});var d9=T((PRr,l2e)=>{"use strict";var O6t=ua(),s2e=Va(),D6t=zD(),L6t=k_(),P6t=Uh(),N6t=Nl(),R6t=Pp(),k6t=s2e.has,a2e=s2e.remove;l2e.exports=function(t){var r=O6t(this),n=P6t(t),i=D6t(r);return L6t(r)<=n.size?N6t(r,function(o){n.includes(o)&&a2e(i,o)}):R6t(n.getIterator(),function(o){k6t(r,o)&&a2e(i,o)}),i}});var Vh=T((NRr,c2e)=>{"use strict";var q6t=Er(),u2e=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};c2e.exports=function(e){var t=q6t("Set");try{new t()[e](u2e(0));try{return new t()[e](u2e(-1)),!1}catch(r){return!0}}catch(r){return!1}}});var f2e=T(()=>{"use strict";var j6t=te(),z6t=d9(),F6t=Vh();j6t({target:"Set",proto:!0,real:!0,forced:!F6t("difference")},{difference:z6t})});var d2e=T((qRr,p2e)=>{"use strict";var B6t=Hs(),U6t=Gr(),V6t=eo(),G6t=vr(),H6t=Ug(),$6t=G6t("iterator"),W6t=Object;p2e.exports=function(e){if(V6t(e))return!1;var t=W6t(e);return t[$6t]!==void 0||"@@iterator"in t||U6t(H6t,B6t(t))}});var Gh=T((jRr,m2e)=>{"use strict";var Z6t=Er(),h2e=Dr(),Y6t=d2e(),K6t=Lr(),X6t=Z6t("Set"),Q6t=function(e){return K6t(e)&&typeof e.size=="number"&&h2e(e.has)&&h2e(e.keys)};m2e.exports=function(e){return Q6t(e)?e:Y6t(e)?new X6t(e):e}});var g2e=T(()=>{"use strict";var J6t=te(),eBt=kt(),tBt=Gh(),rBt=d9();J6t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return eBt(rBt,this,tBt(t))}})});var v2e=T(()=>{"use strict";var nBt=te(),iBt=Kn(),oBt=ua(),aBt=Nl();nBt({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=oBt(this),n=iBt(t,arguments.length>1?arguments[1]:void 0);return aBt(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var _2e=T(()=>{"use strict";var sBt=te(),lBt=Kn(),uBt=ua(),y2e=Va(),cBt=Nl(),fBt=y2e.Set,pBt=y2e.add;sBt({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=uBt(this),n=lBt(t,arguments.length>1?arguments[1]:void 0),i=new fBt;return cBt(r,function(o){n(o,o,r)&&pBt(i,o)}),i}})});var x2e=T(()=>{"use strict";var dBt=te(),hBt=Kn(),mBt=ua(),gBt=Nl();dBt({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=mBt(this),n=hBt(t,arguments.length>1?arguments[1]:void 0),i=gBt(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var b2e=T(()=>{"use strict";var vBt=te(),yBt=tE();vBt({target:"Set",stat:!0,forced:!0},{from:yBt})});var m9=T((YRr,S2e)=>{"use strict";var _Bt=ua(),h9=Va(),xBt=k_(),bBt=Uh(),wBt=Nl(),SBt=Pp(),EBt=h9.Set,w2e=h9.add,IBt=h9.has;S2e.exports=function(t){var r=_Bt(this),n=bBt(t),i=new EBt;return xBt(r)>n.size?SBt(n.getIterator(),function(o){IBt(r,o)&&w2e(i,o)}):wBt(r,function(o){n.includes(o)&&w2e(i,o)}),i}});var E2e=T(()=>{"use strict";var TBt=te(),ABt=vt(),MBt=m9(),CBt=Vh(),OBt=!CBt("intersection")||ABt(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});TBt({target:"Set",proto:!0,real:!0,forced:OBt},{intersection:MBt})});var I2e=T(()=>{"use strict";var DBt=te(),LBt=kt(),PBt=Gh(),NBt=m9();DBt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return LBt(NBt,this,PBt(t))}})});var g9=T((e4r,T2e)=>{"use strict";var RBt=ua(),kBt=Va().has,qBt=k_(),jBt=Uh(),zBt=Nl(),FBt=Pp(),BBt=Ip();T2e.exports=function(t){var r=RBt(this),n=jBt(t);if(qBt(r)<=n.size)return zBt(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return FBt(i,function(o){if(kBt(r,o))return BBt(i,"normal",!1)})!==!1}});var A2e=T(()=>{"use strict";var UBt=te(),VBt=g9(),GBt=Vh();UBt({target:"Set",proto:!0,real:!0,forced:!GBt("isDisjointFrom")},{isDisjointFrom:VBt})});var M2e=T(()=>{"use strict";var HBt=te(),$Bt=kt(),WBt=Gh(),ZBt=g9();HBt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return $Bt(ZBt,this,WBt(t))}})});var v9=T((o4r,C2e)=>{"use strict";var YBt=ua(),KBt=k_(),XBt=Nl(),QBt=Uh();C2e.exports=function(t){var r=YBt(this),n=QBt(t);return KBt(r)>n.size?!1:XBt(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var O2e=T(()=>{"use strict";var JBt=te(),eUt=v9(),tUt=Vh();JBt({target:"Set",proto:!0,real:!0,forced:!tUt("isSubsetOf")},{isSubsetOf:eUt})});var D2e=T(()=>{"use strict";var rUt=te(),nUt=kt(),iUt=Gh(),oUt=v9();rUt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return nUt(oUt,this,iUt(t))}})});var y9=T((c4r,L2e)=>{"use strict";var aUt=ua(),sUt=Va().has,lUt=k_(),uUt=Uh(),cUt=Pp(),fUt=Ip();L2e.exports=function(t){var r=aUt(this),n=uUt(t);if(lUt(r)<n.size)return!1;var i=n.getIterator();return cUt(i,function(o){if(!sUt(r,o))return fUt(i,"normal",!1)})!==!1}});var P2e=T(()=>{"use strict";var pUt=te(),dUt=y9(),hUt=Vh();pUt({target:"Set",proto:!0,real:!0,forced:!hUt("isSupersetOf")},{isSupersetOf:dUt})});var N2e=T(()=>{"use strict";var mUt=te(),gUt=kt(),vUt=Gh(),yUt=y9();mUt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return gUt(yUt,this,vUt(t))}})});var k2e=T(()=>{"use strict";var _Ut=te(),R2e=st(),xUt=ua(),bUt=Nl(),wUt=Mr(),SUt=R2e([].join),EUt=R2e([].push);_Ut({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=xUt(this),n=t===void 0?",":wUt(t),i=[];return bUt(r,function(o){EUt(i,o)}),SUt(i,n)}})});var j2e=T(()=>{"use strict";var IUt=te(),TUt=Kn(),AUt=ua(),q2e=Va(),MUt=Nl(),CUt=q2e.Set,OUt=q2e.add;IUt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=AUt(this),n=TUt(t,arguments.length>1?arguments[1]:void 0),i=new CUt;return MUt(r,function(o){OUt(i,n(o,o,r))}),i}})});var z2e=T(()=>{"use strict";var DUt=te(),LUt=rE();DUt({target:"Set",stat:!0,forced:!0},{of:LUt})});var F2e=T(()=>{"use strict";var PUt=te(),NUt=Ir(),RUt=ua(),kUt=Nl(),qUt=TypeError;PUt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=RUt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(NUt(t),kUt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new qUt("Reduce of empty set with no initial value");return i}})});var B2e=T(()=>{"use strict";var jUt=te(),zUt=Kn(),FUt=ua(),BUt=Nl();jUt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=FUt(this),n=zUt(t,arguments.length>1?arguments[1]:void 0);return BUt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var x9=T((I4r,U2e)=>{"use strict";var UUt=ua(),_9=Va(),VUt=zD(),GUt=Uh(),HUt=Pp(),$Ut=_9.add,WUt=_9.has,ZUt=_9.remove;U2e.exports=function(t){var r=UUt(this),n=GUt(t).getIterator(),i=VUt(r);return HUt(n,function(o){WUt(r,o)?ZUt(i,o):$Ut(i,o)}),i}});var V2e=T(()=>{"use strict";var YUt=te(),KUt=x9(),XUt=Vh();YUt({target:"Set",proto:!0,real:!0,forced:!XUt("symmetricDifference")},{symmetricDifference:KUt})});var G2e=T(()=>{"use strict";var QUt=te(),JUt=kt(),e8t=Gh(),t8t=x9();QUt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return JUt(t8t,this,e8t(t))}})});var b9=T((O4r,H2e)=>{"use strict";var r8t=ua(),n8t=Va().add,i8t=zD(),o8t=Uh(),a8t=Pp();H2e.exports=function(t){var r=r8t(this),n=o8t(t).getIterator(),i=i8t(r);return a8t(n,function(o){n8t(i,o)}),i}});var $2e=T(()=>{"use strict";var s8t=te(),l8t=b9(),u8t=Vh();s8t({target:"Set",proto:!0,real:!0,forced:!u8t("union")},{union:l8t})});var W2e=T(()=>{"use strict";var c8t=te(),f8t=kt(),p8t=Gh(),d8t=b9();c8t({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return f8t(d8t,this,p8t(t))}})});var Z2e=T(()=>{"use strict";var h8t=te(),m8t=tv().charAt,g8t=gi(),v8t=vi(),y8t=Mr();h8t({target:"String",proto:!0,forced:!0},{at:function(t){var r=y8t(g8t(this)),n=r.length,i=v8t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:m8t(r,o)}})});var w9=T((q4r,Q2e)=>{"use strict";var X2e=st(),_8t=ho(),Y2e=Mr(),x8t=rn(),b8t=TypeError,K2e=X2e([].push),w8t=X2e([].join);Q2e.exports=function(t){var r=_8t(t),n=x8t(r);if(!n)return"";for(var i=arguments.length,o=[],a=0;;){var c=r[a++];if(c===void 0)throw new b8t("Incorrect template");if(K2e(o,Y2e(c)),a===n)return w8t(o,"");a<i&&K2e(o,Y2e(arguments[a]))}}});var J2e=T(()=>{"use strict";var S8t=te(),E8t=w9();S8t({target:"String",stat:!0,forced:!0},{cooked:E8t})});var iAe=T(()=>{"use strict";var I8t=te(),T8t=Mh(),eAe=sa(),A8t=gi(),M8t=Mr(),tAe=On(),rAe=tv(),C8t=rAe.codeAt,O8t=rAe.charAt,nAe="String Iterator",D8t=tAe.set,L8t=tAe.getterFor(nAe),P8t=T8t(function(t){D8t(this,{type:nAe,string:t,index:0})},"String",function(){var t=L8t(this),r=t.string,n=t.index,i;return n>=r.length?eAe(void 0,!0):(i=O8t(r,n),t.index+=i.length,eAe({codePoint:C8t(i,0),position:n},!1))});I8t({target:"String",proto:!0,forced:!0},{codePoints:function(){return new P8t(M8t(A8t(this)))}})});var dAe=T((U4r,pAe)=>{"use strict";var N8t=Er(),FD=st(),R8t=String.fromCharCode,k8t=N8t("String","fromCodePoint"),S9=FD("".charAt),cAe=FD("".charCodeAt),oAe=FD("".indexOf),aAe=FD("".slice),I9=48,fAe=57,sAe=97,q8t=102,lAe=65,j8t=70,uAe=function(e,t){var r=cAe(e,t);return r>=I9&&r<=fAe},E9=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=z8t(cAe(e,t));if(i===-1)return-1;n=n*16+i}return n},z8t=function(e){return e>=I9&&e<=fAe?e-I9:e>=sAe&&e<=q8t?e-sAe+10:e>=lAe&&e<=j8t?e-lAe+10:-1};pAe.exports=function(e){for(var t="",r=0,n=0,i;(n=oAe(e,"\\",n))>-1;){if(t+=aAe(e,r,n),++n===e.length)return;var o=S9(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&S9(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(uAe(e,n))return;t+="\0";break;case"x":if(i=E9(e,n,n+2),i===-1)return;n+=2,t+=R8t(i);break;case"u":if(n<e.length&&S9(e,n)==="{"){var a=oAe(e,"}",++n);if(a===-1)return;i=E9(e,n,a),n=a+1}else i=E9(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=k8t(i);break;default:if(uAe(o,0))return;t+=o;}r=n}return t+aAe(e,r)}});var SAe=T(()=>{"use strict";var F8t=Dp(),B8t=te(),U8t=Jc(),V8t=Er(),G8t=Hw(),BD=st(),yAe=Ba(),_Ae=jt(),H8t=Xr(),$8t=Dr(),W8t=rn(),Z8t=ai().f,Y8t=Rg(),K8t=w9(),X8t=dAe(),xAe=Zg(),Q8t=V8t("WeakMap"),Rp=U8t("GlobalDedentRegistry",new Q8t);Rp.has=Rp.has;Rp.get=Rp.get;Rp.set=Rp.set;var T9=Array,oE=TypeError,hAe=Object.freeze||Object,J8t=Object.isFrozen,eVt=Math.min,mAe=BD("".charAt),bAe=BD("".slice),tVt=BD("".split),gAe=BD(/./.exec),rVt=/([\n\u2028\u2029]|\r\n?)/g,nVt=RegExp("^["+xAe+"]*"),iVt=RegExp("[^"+xAe+"]"),vAe="Invalid tag",oVt="Invalid opening line",aVt="Invalid closing line",sVt=function(e){var t=e.raw;if(F8t&&!J8t(t))throw new oE("Raw template should be frozen");if(Rp.has(t))return Rp.get(t);var r=lVt(t),n=cVt(r);return Z8t(n,"raw",{value:hAe(r)}),hAe(n),Rp.set(t,n),n},lVt=function(e){var t=H8t(e),r=W8t(t),n=T9(r),i=T9(r),o=0,a,c,d,m;if(!r)throw new oE(vAe);for(;o<r;o++){var v=t[o];if(typeof v=="string")n[o]=tVt(v,rVt);else throw new oE(vAe)}for(o=0;o<r;o++){var E=o+1===r;if(a=n[o],o===0){if(a.length===1||a[0].length>0)throw new oE(oVt);a[1]=""}if(E){if(a.length===1||gAe(iVt,a[a.length-1]))throw new oE(aVt);a[a.length-2]="",a[a.length-1]=""}for(var I=2;I<a.length;I+=2){var M=a[I],L=I+1===a.length&&!E,R=gAe(nVt,M)[0];if(!L&&R.length===M.length){a[I]="";continue}c=uVt(R,c)}}var P=c?c.length:0;for(o=0;o<r;o++){for(a=n[o],d=a[0],m=1;m<a.length;m+=2)d+=a[m]+bAe(a[m+1],P);i[o]=d}return i},uVt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=eVt(e.length,t.length);r<n&&mAe(e,r)===mAe(t,r);r++);return bAe(e,0,r)},cVt=function(e){for(var t=0,r=e.length,n=T9(r);t<r;t++)n[t]=X8t(e[t]);return n},wAe=function(e){return G8t(function(t){var r=Y8t(arguments);return r[0]=sVt(_Ae(t)),yAe(e,this,r)},"")},fVt=wAe(K8t);B8t({target:"String",stat:!0,forced:!0},{dedent:function(t){return _Ae(t),$8t(t)?wAe(t):yAe(fVt,this,arguments)}})});var EAe=T(()=>{"use strict";TU()});var IAe=T(()=>{"use strict";NU()});var TAe=T(()=>{"use strict";VU()});var AAe=T(()=>{"use strict";YU()});var MAe=T(()=>{"use strict";var pVt=Xt(),dVt=qi(),hVt=ai().f,mVt=Eo().f,A9=pVt.Symbol;dVt("asyncDispose");A9&&(aE=mVt(A9,"asyncDispose"),aE.enumerable&&aE.configurable&&aE.writable&&hVt(A9,"asyncDispose",{value:aE.value,enumerable:!1,configurable:!1,writable:!1}));var aE});var CAe=T(()=>{"use strict";var gVt=Xt(),vVt=qi(),yVt=ai().f,_Vt=Eo().f,M9=gVt.Symbol;vVt("dispose");M9&&(sE=_Vt(M9,"dispose"),sE.enumerable&&sE.configurable&&sE.writable&&yVt(M9,"dispose",{value:sE.value,enumerable:!1,configurable:!1,writable:!1}));var sE});var O9=T((n5r,OAe)=>{"use strict";var xVt=Er(),bVt=st(),C9=xVt("Symbol"),wVt=C9.keyFor,SVt=bVt(C9.prototype.valueOf);OAe.exports=C9.isRegisteredSymbol||function(t){try{return wVt(SVt(t))!==void 0}catch(r){return!1}}});var DAe=T(()=>{"use strict";var EVt=te(),IVt=O9();EVt({target:"Symbol",stat:!0},{isRegisteredSymbol:IVt})});var LAe=T(()=>{"use strict";var TVt=te(),AVt=O9();TVt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:AVt})});var P9=T((l5r,jAe)=>{"use strict";var MVt=Jc(),kAe=Er(),CVt=st(),OVt=yp(),DVt=vr(),VD=kAe("Symbol"),PAe=VD.isWellKnownSymbol,qAe=kAe("Object","getOwnPropertyNames"),LVt=CVt(VD.prototype.valueOf),NAe=MVt("wks");for(UD=0,D9=qAe(VD),RAe=D9.length;UD<RAe;UD++)try{L9=D9[UD],OVt(VD[L9])&&DVt(L9)}catch(e){}var L9,UD,D9,RAe;jAe.exports=function(t){if(PAe&&PAe(t))return!0;try{for(var r=LVt(t),n=0,i=qAe(NAe),o=i.length;n<o;n++)if(NAe[i[n]]==r)return!0}catch(a){}return!1}});var zAe=T(()=>{"use strict";var PVt=te(),NVt=P9();PVt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:NVt})});var FAe=T(()=>{"use strict";var RVt=te(),kVt=P9();RVt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:kVt})});var BAe=T(()=>{"use strict";var qVt=qi();qVt("matcher")});var UAe=T(()=>{"use strict";var jVt=qi();jVt("metadata")});var VAe=T(()=>{"use strict";var zVt=qi();zVt("metadataKey")});var GAe=T(()=>{"use strict";var FVt=qi();FVt("observable")});var HAe=T(()=>{"use strict";var BVt=qi();BVt("patternMatch")});var $Ae=T(()=>{"use strict";var UVt=qi();UVt("replaceAll")});var ZAe=T(()=>{"use strict";var VVt=Er(),GVt=n_(),HVt=z8(),WAe=Hr(),$Vt=Gg(),WVt=WAe.aTypedArrayConstructor,ZVt=WAe.exportTypedArrayStaticMethod;ZVt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(VVt("Promise"))(function(a){GVt(r),a(HVt(t,i,o))}).then(function(a){return $Vt(WVt(r),a)})},!0)});var YAe=T(()=>{"use strict";c8()});var XAe=T(()=>{"use strict";var KAe=Hr(),YVt=Yi().filterReject,KVt=jO(),XVt=KAe.aTypedArray,QVt=KAe.exportTypedArrayMethod;QVt("filterOut",function(t){var r=YVt(XVt(this),t,arguments.length>1?arguments[1]:void 0);return KVt(this,r)},!0)});var JAe=T(()=>{"use strict";var QAe=Hr(),JVt=Yi().filterReject,e9t=jO(),t9t=QAe.aTypedArray,r9t=QAe.exportTypedArrayMethod;r9t("filterReject",function(t){var r=JVt(t9t(this),t,arguments.length>1?arguments[1]:void 0);return e9t(this,r)},!0)});var eMe=T(()=>{"use strict";f8()});var tMe=T(()=>{"use strict";p8()});var nMe=T(()=>{"use strict";var rMe=Hr(),n9t=rD(),i9t=I_(),o9t=rMe.aTypedArray,a9t=rMe.exportTypedArrayMethod;a9t("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return n9t(o9t(this),t,r,i9t)},!0)});var iMe=T(()=>{"use strict";S8()});var oMe=T(()=>{"use strict";E8()});var aMe=T(()=>{"use strict";var N9=Hr(),s9t=rn(),l9t=PO(),u9t=uu(),c9t=jS(),f9t=vi(),p9t=vt(),d9t=N9.aTypedArray,h9t=N9.getTypedArrayConstructor,m9t=N9.exportTypedArrayMethod,g9t=Math.max,v9t=Math.min,y9t=!p9t(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});m9t("toSpliced",function(t,r){var n=d9t(this),i=h9t(n),o=s9t(n),a=u9t(t,o),c=arguments.length,d=0,m,v,E,I,M,L,R;if(c===0)m=v=0;else if(c===1)m=0,v=o-a;else if(v=v9t(g9t(f9t(r),0),o-a),m=c-2,m){I=new i(m),E=l9t(I);for(var P=2;P<c;P++)M=arguments[P],I[P-2]=E?c9t(M):+M}for(L=o+m-v,R=new i(L);d<a;d++)R[d]=n[d];for(;d<a+m;d++)R[d]=I[d-a];for(;d<L;d++)R[d]=n[d+v-m];return R},!y9t)});var sMe=T(()=>{"use strict";var _9t=st(),R9=Hr(),x9t=Gg(),b9t=oD(),w9t=R9.aTypedArray,S9t=R9.getTypedArrayConstructor,E9t=R9.exportTypedArrayMethod,I9t=_9t(b9t);E9t("uniqueBy",function(t){return w9t(this),x9t(S9t(this),I9t(this,t))},!0)});var lMe=T(()=>{"use strict";T8()});var $D=T((Y5r,uMe)=>{"use strict";var GD=st(),HD=WeakMap.prototype;uMe.exports={WeakMap,set:GD(HD.set),get:GD(HD.get),has:GD(HD.has),remove:GD(HD.delete)}});var k9=T((K5r,cMe)=>{"use strict";var T9t=$D().has;cMe.exports=function(e){return T9t(e),e}});var fMe=T(()=>{"use strict";var A9t=te(),M9t=k9(),C9t=$D().remove;A9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=M9t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=C9t(t,arguments[i]),r=r&&n;return!!r}})});var pMe=T(()=>{"use strict";var O9t=te(),D9t=tE();O9t({target:"WeakMap",stat:!0,forced:!0},{from:D9t})});var dMe=T(()=>{"use strict";var L9t=te(),P9t=rE();L9t({target:"WeakMap",stat:!0,forced:!0},{of:P9t})});var mMe=T(()=>{"use strict";var N9t=te(),R9t=k9(),q9=$D(),k9t=q9.get,q9t=q9.has,hMe=q9.set;N9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=R9t(this),i,o;return q9t(n,t)?(i=k9t(n,t),"update"in r&&(i=r.update(i,t,n),hMe(n,t,i)),i):(o=r.insert(t,n),hMe(n,t,o),o)}})});var gMe=T(()=>{"use strict";var j9t=te(),z9t=OD();j9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:z9t})});var WD=T((skr,vMe)=>{"use strict";var j9=st(),z9=WeakSet.prototype;vMe.exports={WeakSet,add:j9(z9.add),has:j9(z9.has),remove:j9(z9.delete)}});var F9=T((lkr,yMe)=>{"use strict";var F9t=WD().has;yMe.exports=function(e){return F9t(e),e}});var _Me=T(()=>{"use strict";var B9t=te(),U9t=F9(),V9t=WD().add;B9t({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=U9t(this),r=0,n=arguments.length;r<n;r++)V9t(t,arguments[r]);return t}})});var xMe=T(()=>{"use strict";var G9t=te(),H9t=F9(),$9t=WD().remove;G9t({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=H9t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=$9t(t,arguments[i]),r=r&&n;return!!r}})});var bMe=T(()=>{"use strict";var W9t=te(),Z9t=tE();W9t({target:"WeakSet",stat:!0,forced:!0},{from:Z9t})});var wMe=T(()=>{"use strict";var Y9t=te(),K9t=rE();Y9t({target:"WeakSet",stat:!0,forced:!0},{of:K9t})});var B9=T((vkr,IMe)=>{"use strict";var SMe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",EMe={};for(lE=0;lE<66;lE++)EMe[SMe.charAt(lE)]=lE;var lE;IMe.exports={itoc:SMe,ctoi:EMe}});var DMe=T(()=>{"use strict";var X9t=te(),Q9t=Xt(),CMe=Er(),V9=st(),J9t=kt(),G9=vt(),e7t=Mr(),t7t=Gr(),r7t=gu(),U9=B9().ctoi,OMe=/[^\d+/a-z]/i,n7t=/[\t\n\f\r ]+/g,i7t=/[=]{1,2}$/,uE=CMe("atob"),o7t=String.fromCharCode,a7t=V9("".charAt),TMe=V9("".replace),s7t=V9(OMe.exec),H9=G9(function(){return uE(" ")!==""}),$9=!G9(function(){uE("a")}),AMe=!H9&&!$9&&!G9(function(){uE()}),MMe=!H9&&!$9&&uE.length!==1;X9t({global:!0,bind:!0,enumerable:!0,forced:H9||$9||AMe||MMe},{atob:function(t){if(r7t(arguments.length,1),AMe||MMe)return J9t(uE,Q9t,t);var r=TMe(e7t(t),n7t,""),n="",i=0,o=0,a,c;if(r.length%4===0&&(r=TMe(r,i7t,"")),r.length%4===1||s7t(OMe,r))throw new(CMe("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;a=a7t(r,i++);)t7t(U9,a)&&(c=o%4?c*64+U9[a]:U9[a],o++%4&&(n+=o7t(255&c>>(-2*o&6))));return n}})});var FMe=T(()=>{"use strict";var l7t=te(),u7t=Xt(),qMe=Er(),jMe=st(),c7t=kt(),zMe=vt(),LMe=Mr(),f7t=gu(),p7t=B9().itoc,av=qMe("btoa"),PMe=jMe("".charAt),d7t=jMe("".charCodeAt),NMe=!!av&&!zMe(function(){av()}),RMe=!!av&&zMe(function(){return av(null)!=="bnVsbA=="}),kMe=!!av&&av.length!==1;l7t({global:!0,bind:!0,enumerable:!0,forced:NMe||RMe||kMe},{btoa:function(t){if(f7t(arguments.length,1),NMe||RMe||kMe)return c7t(av,u7t,LMe(t));for(var r=LMe(t),n="",i=0,o=p7t,a,c;PMe(r,i)||(o="=",i%1);){if(c=d7t(r,i+=3/4),c>255)throw new(qMe("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a=a<<8|c,n+=PMe(o,63&a>>8-i%1*8)}return n}})});var W9=T((wkr,BMe)=>{"use strict";BMe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var Y9=T((Skr,VMe)=>{"use strict";var h7t=Bw(),Z9=h7t("span").classList,UMe=Z9&&Z9.constructor&&Z9.constructor.prototype;VMe.exports=UMe===Object.prototype?void 0:UMe});var WMe=T(()=>{"use strict";var GMe=Xt(),HMe=W9(),m7t=Y9(),K9=KF(),g7t=to(),$Me=function(e){if(e&&e.forEach!==K9)try{g7t(e,"forEach",K9)}catch(t){e.forEach=K9}};for(ZD in HMe)HMe[ZD]&&$Me(GMe[ZD]&&GMe[ZD].prototype);var ZD;$Me(m7t)});var JMe=T(()=>{"use strict";var ZMe=Xt(),KMe=W9(),v7t=Y9(),cE=sS(),X9=to(),XMe=vr(),Q9=XMe("iterator"),YMe=XMe("toStringTag"),J9=cE.values,QMe=function(e,t){if(e){if(e[Q9]!==J9)try{X9(e,Q9,J9)}catch(n){e[Q9]=J9}if(e[YMe]||X9(e,YMe,t),KMe[t]){for(var r in cE)if(e[r]!==cE[r])try{X9(e,r,cE[r])}catch(n){e[r]=cE[r]}}}};for(YD in KMe)QMe(ZMe[YD]&&ZMe[YD].prototype,YD);var YD;QMe(v7t,"DOMTokenList")});var e7=T((Mkr,eCe)=>{"use strict";eCe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var fCe=T(()=>{"use strict";var y7t=te(),_7t=G8(),QD=Er(),a7=vt(),x7t=Zi(),s7=Vs(),JD=ai().f,b7t=jn(),KD=Ai(),XD=Gr(),w7t=Ua(),S7t=jt(),nCe=PF(),tCe=Fg(),q_=e7(),E7t=yC(),iCe=On(),l7=gr(),oCe=Kr(),j_="DOMException",o7="DATA_CLONE_ERR",tL=QD("Error"),kp=QD(j_)||function(){try{var e=QD("MessageChannel")||_7t("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===o7&&t.code===25)return t.constructor}}(),I7t=kp&&kp.prototype,aCe=tL.prototype,T7t=iCe.set,A7t=iCe.getterFor(j_),M7t="stack"in new tL(j_),sCe=function(e){return XD(q_,e)&&q_[e].m?q_[e].c:0},u7=function(){w7t(this,pE);var t=arguments.length,r=tCe(t<1?void 0:arguments[0]),n=tCe(t<2?void 0:arguments[1],"Error"),i=sCe(n);if(T7t(this,{type:j_,name:n,message:r,code:i}),l7||(this.name=n,this.message=r,this.code=i),M7t){var o=new tL(r);o.name=j_,JD(this,"stack",s7(1,E7t(o.stack,1)))}},pE=u7.prototype=x7t(aCe),lCe=function(e){return{enumerable:!0,configurable:!0,get:e}},t7=function(e){return lCe(function(){return A7t(this)[e]})};l7&&(KD(pE,"code",t7("code")),KD(pE,"message",t7("message")),KD(pE,"name",t7("name")));JD(pE,"constructor",s7(1,u7));var rL=a7(function(){return!(new kp instanceof tL)}),uCe=rL||a7(function(){return aCe.toString!==nCe||String(new kp(1,2))!=="2: 1"}),cCe=rL||a7(function(){return new kp(1,"DataCloneError").code!==25}),C7t=rL||kp[o7]!==25||I7t[o7]!==25,rCe=oCe?uCe||cCe||C7t:rL;y7t({global:!0,constructor:!0,forced:rCe},{DOMException:rCe?u7:kp});var dE=QD(j_),eL=dE.prototype;uCe&&(oCe||kp===dE)&&b7t(eL,"toString",nCe);cCe&&l7&&kp===dE&&KD(eL,"code",lCe(function(){return sCe(S7t(this).name)}));for(r7 in q_)XD(q_,r7)&&(n7=q_[r7],fE=n7.s,i7=s7(6,n7.c),XD(dE,fE)||JD(dE,fE,i7),XD(eL,fE)||JD(eL,fE,i7));var n7,fE,i7,r7});var yCe=T(()=>{"use strict";var O7t=te(),D7t=Xt(),v7=Er(),m7=Vs(),g7=ai().f,pCe=Gr(),L7t=Ua(),P7t=zg(),dCe=Fg(),c7=e7(),N7t=yC(),R7t=gr(),gCe=Kr(),mE="DOMException",vCe=v7("Error"),gE=v7(mE),y7=function(){L7t(this,k7t);var t=arguments.length,r=dCe(t<1?void 0:arguments[0]),n=dCe(t<2?void 0:arguments[1],"Error"),i=new gE(r,n),o=new vCe(r);return o.name=mE,g7(i,"stack",m7(1,N7t(o.stack,1))),P7t(i,this,y7),i},k7t=y7.prototype=gE.prototype,q7t="stack"in new vCe(mE),j7t="stack"in new gE(1,2),f7=gE&&R7t&&Object.getOwnPropertyDescriptor(D7t,mE),z7t=!!f7&&!(f7.writable&&f7.configurable),hCe=q7t&&!z7t&&!j7t;O7t({global:!0,constructor:!0,forced:gCe||hCe},{DOMException:hCe?y7:gE});var hE=v7(mE),mCe=hE.prototype;if(mCe.constructor!==hE){gCe||g7(mCe,"constructor",m7(1,hE));for(p7 in c7)pCe(c7,p7)&&(d7=c7[p7],h7=d7.s,pCe(hE,h7)||g7(hE,h7,m7(6,d7.c)))}var d7,h7,p7});var xCe=T(()=>{"use strict";var F7t=Er(),B7t=$s(),_Ce="DOMException";B7t(F7t(_Ce),_Ce)});var wCe=T(()=>{"use strict";var U7t=te(),V7t=Xt(),bCe=IS().clear;U7t({global:!0,bind:!0,enumerable:!0,forced:V7t.clearImmediate!==bCe},{clearImmediate:bCe})});var ECe=T((qkr,SCe)=>{"use strict";SCe.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var nL=T((jkr,TCe)=>{"use strict";var ICe=Xt(),G7t=Ba(),H7t=Dr(),$7t=ECe(),W7t=Xc(),Z7t=wp(),Y7t=gu(),K7t=ICe.Function,X7t=/MSIE .\./.test(W7t)||$7t&&function(){var e=ICe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();TCe.exports=function(e,t){var r=t?2:1;return X7t?function(n,i){var o=Y7t(arguments.length,1)>r,a=H7t(n)?n:K7t(n),c=o?Z7t(arguments,r):[],d=o?function(){G7t(a,this,c)}:a;return t?e(d,i):e(d)}:e}});var OCe=T(()=>{"use strict";var Q7t=te(),CCe=Xt(),ACe=IS().set,J7t=nL(),MCe=CCe.setImmediate?J7t(ACe,!1):ACe;Q7t({global:!0,bind:!0,enumerable:!0,forced:CCe.setImmediate!==MCe},{setImmediate:MCe})});var DCe=T(()=>{"use strict";wCe();OCe()});var LCe=T(()=>{"use strict";var eGt=te(),tGt=Xt(),rGt=UB(),nGt=Ir(),iGt=gu(),oGt=tf(),aGt=tGt.process;eGt({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){iGt(arguments.length,1),nGt(t);var r=oGt&&aGt.domain;rGt(r?r.bind(t):t)}})});var NCe=T(()=>{"use strict";var sGt=te(),Hh=Xt(),lGt=Ai(),uGt=gr(),cGt=TypeError,fGt=Object.defineProperty,PCe=Hh.self!==Hh;try{uGt?(iL=Object.getOwnPropertyDescriptor(Hh,"self"),(PCe||!iL||!iL.get||!iL.enumerable)&&lGt(Hh,"self",{get:function(){return Hh},set:function(t){if(this!==Hh)throw new cGt("Illegal invocation");fGt(Hh,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):sGt({global:!0,simple:!0,forced:PCe},{self:Hh})}catch(e){}var iL});var KCe=T(()=>{"use strict";var pGt=Kr(),dGt=te(),zi=Xt(),E7=Er(),xE=st(),I7=vt(),hGt=Sh(),aL=Dr(),mGt=cc(),gGt=eo(),sL=Lr(),vGt=yp(),yGt=ji(),jCe=jt(),yE=Hs(),zCe=Gr(),_Gt=cu(),_7=to(),sv=rn(),xGt=gu(),bGt=m_(),lL=ys(),FCe=Va(),RCe=cD(),BCe=CF(),UCe=aD(),vE=zi.Object,wGt=zi.Array,VCe=zi.Date,bE=zi.Error,SGt=zi.EvalError,EGt=zi.RangeError,IGt=zi.ReferenceError,TGt=zi.SyntaxError,GCe=zi.TypeError,AGt=zi.URIError,MGt=zi.PerformanceMark,F_=zi.WebAssembly,CGt=F_&&F_.CompileError||bE,OGt=F_&&F_.LinkError||bE,DGt=F_&&F_.RuntimeError||bE,Wh=E7("DOMException"),_E=lL.Map,wE=lL.has,T7=lL.get,lv=lL.set,HCe=FCe.Set,$Ce=FCe.add,WCe=E7("Object","keys"),kCe=xE([].push),LGt=xE((!0).valueOf),PGt=xE(1 .valueOf),NGt=xE("".valueOf),RGt=xE(VCe.prototype.getTime),w7=hGt("structuredClone"),B_="DataCloneError",oL="Transferring",ZCe=function(e){return!I7(function(){var t=new zi.Set([7]),r=e(t),n=e(vE(7));return r===t||!r.has(7)||typeof n!="object"||+n!=7})&&e},qCe=function(e,t){return!I7(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},kGt=function(e){return!I7(function(){var t=e(new zi.AggregateError([1],w7,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==w7||t.cause!==3})},z_=zi.structuredClone,qGt=pGt||!qCe(z_,bE)||!qCe(z_,Wh)||!kGt(z_),jGt=!z_&&ZCe(function(e){return new MGt(w7,{detail:e}).detail}),$h=ZCe(z_)||jGt,x7=function(e){throw new Wh("Uncloneable type: "+e,B_)},Xs=function(e,t){throw new Wh((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",B_)},b7=function(e,t){return $h||Xs(t),$h(e)},zGt=function(){var e;try{e=new zi.DataTransfer}catch(t){try{e=new zi.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},A7=function(e,t,r){if(wE(t,e))return T7(t,e);var n=r||yE(e),i,o,a,c,d,m;if(n==="SharedArrayBuffer")$h?i=$h(e):i=e;else{var v=zi.DataView;!v&&typeof e.slice!="function"&&Xs("ArrayBuffer");try{if(typeof e.slice=="function"&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,a=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,a),c=new v(e),d=new v(i),m=0;m<o;m++)d.setUint8(m,c.getUint8(m))}catch(E){throw new Wh("ArrayBuffer is detached",B_)}}return lv(t,e,i),i},YCe=function(e,t,r,n,i){var o=zi[t];return sL(o)||Xs(t),new o(A7(e.buffer,i),r,n)},S7=function(e,t,r){this.object=e,this.type=t,this.metadata=r},xs=function(e,t,r){if(vGt(e)&&x7("Symbol"),!sL(e))return e;if(t){if(wE(t,e))return T7(t,e)}else t=new _E;var n=yE(e),i,o,a,c,d,m,v,E;switch(n){case"Array":a=wGt(sv(e));break;case"Object":a={};break;case"Map":a=new _E;break;case"Set":a=new HCe;break;case"RegExp":a=new RegExp(e.source,bGt(e));break;case"Error":switch(o=e.name,o){case"AggregateError":a=new(E7("AggregateError"))([]);break;case"EvalError":a=new SGt;break;case"RangeError":a=new EGt;break;case"ReferenceError":a=new IGt;break;case"SyntaxError":a=new TGt;break;case"TypeError":a=new GCe;break;case"URIError":a=new AGt;break;case"CompileError":a=new CGt;break;case"LinkError":a=new OGt;break;case"RuntimeError":a=new DGt;break;default:a=new bE;}break;case"DOMException":a=new Wh(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":a=r?new S7(e,n):A7(e,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":m=n==="DataView"?e.byteLength:e.length,a=r?new S7(e,n,{offset:e.byteOffset,length:m}):YCe(e,n,e.byteOffset,m,t);break;case"DOMQuad":try{a=new DOMQuad(xs(e.p1,t,r),xs(e.p2,t,r),xs(e.p3,t,r),xs(e.p4,t,r))}catch(I){a=b7(e,n)}break;case"File":if($h)try{a=$h(e),yE(a)!==n&&(a=void 0)}catch(I){}if(!a)try{a=new File([e],e.name,e)}catch(I){}a||Xs(n);break;case"FileList":if(c=zGt(),c){for(d=0,m=sv(e);d<m;d++)c.items.add(xs(e[d],t,r));a=c.files}else a=b7(e,n);break;case"ImageData":try{a=new ImageData(xs(e.data,t,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(I){a=b7(e,n)}break;default:if($h)a=$h(e);else switch(n){case"BigInt":a=vE(e.valueOf());break;case"Boolean":a=vE(LGt(e));break;case"Number":a=vE(PGt(e));break;case"String":a=vE(NGt(e));break;case"Date":a=new VCe(RGt(e));break;case"Blob":try{a=e.slice(0,e.size,e.type)}catch(I){Xs(n)}break;case"DOMPoint":case"DOMPointReadOnly":i=zi[n];try{a=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(I){Xs(n)}break;case"DOMRect":case"DOMRectReadOnly":i=zi[n];try{a=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(I){Xs(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=zi[n];try{a=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(I){Xs(n)}break;case"AudioData":case"VideoFrame":aL(e.clone)||Xs(n);try{a=e.clone()}catch(I){x7(n)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Xs(n);default:x7(n);}}switch(lv(t,e,a),n){case"Array":case"Object":for(v=WCe(e),d=0,m=sv(v);d<m;d++)E=v[d],_Gt(a,E,xs(e[E],t,r));break;case"Map":e.forEach(function(I,M){lv(a,xs(M,t,r),xs(I,t,r))});break;case"Set":e.forEach(function(I){$Ce(a,xs(I,t,r))});break;case"Error":_7(a,"message",xs(e.message,t,r)),zCe(e,"cause")&&_7(a,"cause",xs(e.cause,t,r)),o==="AggregateError"&&(a.errors=xs(e.errors,t,r));case"DOMException":BCe&&_7(a,"stack",xs(e.stack,t,r));}return a},qp=function(e,t){if(!sL(e))return e;if(wE(t,e))return T7(t,e);var r,n,i,o,a,c,d,m;if(e instanceof S7)switch(r=e.type,n=e.object,r){case"ArrayBuffer":case"SharedArrayBuffer":m=A7(n,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,m=YCe(n,r,i.offset,i.length,t);}else switch(yE(e)){case"Array":case"Object":for(c=WCe(e),o=0,a=sv(c);o<a;o++)d=c[o],e[d]=qp(e[d],t);break;case"Map":m=new _E,e.forEach(function(v,E){lv(m,qp(E,t),qp(v,t))});break;case"Set":m=new HCe,e.forEach(function(v){$Ce(m,qp(v,t))});break;case"Error":e.message=qp(e.message,t),zCe(e,"cause")&&(e.cause=qp(e.cause,t)),e.name==="AggregateError"&&(e.errors=qp(e.errors,t));case"DOMException":BCe&&(e.stack=qp(e.stack,t));}return lv(t,e,m||e),m||e},FGt=function(e,t){if(!sL(e))throw new GCe("Transfer option cannot be converted to a sequence");var r=[];yGt(e,function(I){kCe(r,jCe(I))});for(var n=0,i=sv(r),o=[],a,c,d,m,v,E;n<i;){if(a=r[n++],c=yE(a),c==="ArrayBuffer"){kCe(o,a);continue}if(wE(t,a))throw new Wh("Duplicate transferable",B_);if(UCe)m=z_(a,{transfer:[a]});else switch(c){case"ImageBitmap":d=zi.OffscreenCanvas,mGt(d)||Xs(c,oL);try{v=new d(a.width,a.height),E=v.getContext("bitmaprenderer"),E.transferFromImageBitmap(a),m=v.transferToImageBitmap()}catch(I){}break;case"AudioData":case"VideoFrame":(!aL(a.clone)||!aL(a.close))&&Xs(c,oL);try{m=a.clone(),a.close()}catch(I){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Xs(c,oL);}if(m===void 0)throw new Wh("This object cannot be transferred: "+c,B_);lv(t,a,m)}return o},BGt=function(e,t){for(var r=0,n=sv(e),i,o;r<n;){if(i=e[r++],wE(t,i))throw new Wh("Duplicate transferable",B_);RCe?o=RCe(i,void 0,!0):(aL(i.transfer)||Xs("ArrayBuffer",oL),o=i.transfer()),lv(t,i,o)}};dGt({global:!0,enumerable:!0,sham:!UCe,forced:qGt},{structuredClone:function(t){var r=xGt(arguments.length,1)>1&&!gGt(arguments[1])?jCe(arguments[1]):void 0,n=r?r.transfer:void 0,i=!1,o,a;n!==void 0&&(o=new _E,a=FGt(n,o),i=!!sv(a));var c=xs(t,o,i);return i&&(o=new _E,BGt(n,o),c=qp(c,o)),c}})});var JCe=T(()=>{"use strict";var UGt=te(),QCe=Xt(),VGt=nL(),XCe=VGt(QCe.setInterval,!0);UGt({global:!0,bind:!0,forced:QCe.setInterval!==XCe},{setInterval:XCe})});var rOe=T(()=>{"use strict";var GGt=te(),tOe=Xt(),HGt=nL(),eOe=HGt(tOe.setTimeout,!0);GGt({global:!0,bind:!0,forced:tOe.setTimeout!==eOe},{setTimeout:eOe})});var nOe=T(()=>{"use strict";JCe();rOe()});var uL=T((t3r,oOe)=>{"use strict";var $Gt=vt(),WGt=vr(),ZGt=gr(),iOe=Kr(),YGt=WGt("iterator");oOe.exports=!$Gt(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),iOe&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(iOe||!ZGt)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[YGt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var hOe=T((r3r,dOe)=>{"use strict";var uv=st(),M7=2147483647,SE=36,cOe=1,D7=26,KGt=38,XGt=700,QGt=72,JGt=128,eHt="-",tHt=/[^\0-\u007E]/,fOe=/[.\u3002\uFF0E\uFF61]/g,aOe="Overflow: input needs wider integers to process",C7=SE-cOe,sOe=RangeError,rHt=uv(fOe.exec),U_=Math.floor,O7=String.fromCharCode,lOe=uv("".charCodeAt),pOe=uv([].join),Zh=uv([].push),nHt=uv("".replace),iHt=uv("".split),oHt=uv("".toLowerCase),aHt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=lOe(e,r++);if(i>=55296&&i<=56319&&r<n){var o=lOe(e,r++);(o&64512)===56320?Zh(t,((i&1023)<<10)+(o&1023)+65536):(Zh(t,i),r--)}else Zh(t,i)}return t},uOe=function(e){return e+22+75*(e<26)},sHt=function(e,t,r){var n=0;for(e=r?U_(e/XGt):e>>1,e+=U_(e/t);e>C7*D7>>1;)e=U_(e/C7),n+=SE;return U_(n+(C7+1)*e/(e+KGt))},lHt=function(e){var t=[];e=aHt(e);var r=e.length,n=JGt,i=0,o=QGt,a,c;for(a=0;a<e.length;a++)c=e[a],c<128&&Zh(t,O7(c));var d=t.length,m=d;for(d&&Zh(t,eHt);m<r;){var v=M7;for(a=0;a<e.length;a++)c=e[a],c>=n&&c<v&&(v=c);var E=m+1;if(v-n>U_((M7-i)/E))throw new sOe(aOe);for(i+=(v-n)*E,n=v,a=0;a<e.length;a++){if(c=e[a],c<n&&++i>M7)throw new sOe(aOe);if(c===n){for(var I=i,M=SE;;){var L=M<=o?cOe:M>=o+D7?D7:M-o;if(I<L)break;var R=I-L,P=SE-L;Zh(t,O7(uOe(L+R%P))),I=U_(R/P),M+=SE}Zh(t,O7(uOe(I))),o=sHt(i,E,m===d),i=0,m++}}i++,n++}return pOe(t,"")};dOe.exports=function(e){var t=[],r=iHt(nHt(oHt(e),fOe,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Zh(t,rHt(tHt,i)?"xn--"+lHt(i):i);return pOe(t,".")}});var B7=T((n3r,NOe)=>{"use strict";sS();var k7=te(),H_=Xt(),cL=kt(),ff=st(),G_=gr(),TOe=uL(),AOe=jn(),uHt=Ai(),cHt=hu(),fHt=$s(),pHt=Mh(),z7=On(),MOe=Ua(),L7=Dr(),dHt=Gr(),hHt=Kn(),mHt=Hs(),gHt=jt(),COe=Lr(),bs=Mr(),vHt=Zi(),mOe=Vs(),q7=Th(),yHt=Ep(),V_=gu(),_Ht=vr(),xHt=NC(),bHt=_Ht("iterator"),IE="URLSearchParams",OOe=IE+"Iterator",DOe=z7.set,yu=z7.getterFor(IE),wHt=z7.getterFor(OOe),SHt=Object.getOwnPropertyDescriptor,F7=function(e){if(!G_)return H_[e];var t=SHt(H_,e);return t&&t.value},gOe=F7("fetch"),pL=F7("Request"),EE=F7("Headers"),P7=pL&&pL.prototype,vOe=EE&&EE.prototype,EHt=H_.RegExp,IHt=H_.TypeError,LOe=H_.decodeURIComponent,THt=H_.encodeURIComponent,AHt=ff("".charAt),yOe=ff([].join),cv=ff([].push),j7=ff("".replace),MHt=ff([].shift),_Oe=ff([].splice),xOe=ff("".split),CHt=ff("".slice),OHt=/\+/g,bOe=Array(4),DHt=function(e){return bOe[e-1]||(bOe[e-1]=EHt("((?:%[\\da-f]{2}){"+e+"})","gi"))},LHt=function(e){try{return LOe(e)}catch(t){return e}},wOe=function(e){var t=j7(e,OHt," "),r=4;try{return LOe(t)}catch(n){for(;r;)t=j7(t,DHt(r--),LHt);return t}},PHt=/[!'()~]|%20/g,NHt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},RHt=function(e){return NHt[e]},SOe=function(e){return j7(THt(e),PHt,RHt)},N7=pHt(function(t,r){DOe(this,{type:OOe,iterator:q7(yu(t).entries),kind:r})},"Iterator",function(){var t=wHt(this),r=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),POe=function(e){this.entries=[],this.url=null,e!==void 0&&(COe(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?AHt(e,0)==="?"?CHt(e,1):e:bs(e)))};POe.prototype={type:IE,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=yHt(e),r,n,i,o,a,c,d;if(t)for(r=q7(e,t),n=r.next;!(i=cL(n,r)).done;){if(o=q7(gHt(i.value)),a=o.next,(c=cL(a,o)).done||(d=cL(a,o)).done||!cL(a,o).done)throw new IHt("Expected sequence with length 2");cv(this.entries,{key:bs(c.value),value:bs(d.value)})}else for(var m in e)dHt(e,m)&&cv(this.entries,{key:m,value:bs(e[m])})},parseQuery:function(e){if(e)for(var t=xOe(e,"&"),r=0,n,i;r<t.length;)n=t[r++],n.length&&(i=xOe(n,"="),cv(this.entries,{key:wOe(MHt(i)),value:wOe(yOe(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],cv(t,SOe(n.key)+"="+SOe(n.value));return yOe(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dL=function(){MOe(this,$_);var t=arguments.length>0?arguments[0]:void 0,r=DOe(this,new POe(t));G_||(this.size=r.entries.length)},$_=dL.prototype;cHt($_,{append:function(t,r){var n=yu(this);V_(arguments.length,2),cv(n.entries,{key:bs(t),value:bs(r)}),G_||this.length++,n.updateURL()},delete:function(e){for(var t=yu(this),r=V_(arguments.length,1),n=t.entries,i=bs(e),o=r<2?void 0:arguments[1],a=o===void 0?o:bs(o),c=0;c<n.length;){var d=n[c];if(d.key===i&&(a===void 0||d.value===a)){if(_Oe(n,c,1),a!==void 0)break}else c++}G_||(this.size=n.length),t.updateURL()},get:function(t){var r=yu(this).entries;V_(arguments.length,1);for(var n=bs(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=yu(this).entries;V_(arguments.length,1);for(var n=bs(t),i=[],o=0;o<r.length;o++)r[o].key===n&&cv(i,r[o].value);return i},has:function(t){for(var r=yu(this).entries,n=V_(arguments.length,1),i=bs(t),o=n<2?void 0:arguments[1],a=o===void 0?o:bs(o),c=0;c<r.length;){var d=r[c++];if(d.key===i&&(a===void 0||d.value===a))return!0}return!1},set:function(t,r){var n=yu(this);V_(arguments.length,1);for(var i=n.entries,o=!1,a=bs(t),c=bs(r),d=0,m;d<i.length;d++)m=i[d],m.key===a&&(o?_Oe(i,d--,1):(o=!0,m.value=c));o||cv(i,{key:a,value:c}),G_||(this.size=i.length),n.updateURL()},sort:function(){var t=yu(this);xHt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=yu(this).entries,n=hHt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new N7(this,"keys")},values:function(){return new N7(this,"values")},entries:function(){return new N7(this,"entries")}},{enumerable:!0});AOe($_,bHt,$_.entries,{name:"entries"});AOe($_,"toString",function(){return yu(this).serialize()},{enumerable:!0});G_&&uHt($_,"size",{get:function(){return yu(this).entries.length},configurable:!0,enumerable:!0});fHt(dL,IE);k7({global:!0,constructor:!0,forced:!TOe},{URLSearchParams:dL});!TOe&&L7(EE)&&(EOe=ff(vOe.has),IOe=ff(vOe.set),R7=function(e){if(COe(e)){var t=e.body,r;if(mHt(t)===IE)return r=e.headers?new EE(e.headers):new EE,EOe(r,"content-type")||IOe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),vHt(e,{body:mOe(0,bs(t)),headers:mOe(0,r)})}return e},L7(gOe)&&k7({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return gOe(t,arguments.length>1?R7(arguments[1]):{})}}),L7(pL)&&(fL=function(t){return MOe(this,P7),new pL(t,arguments.length>1?R7(arguments[1]):{})},P7.constructor=fL,fL.prototype=P7,k7({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:fL})));var EOe,IOe,R7,fL;NOe.exports={URLSearchParams:dL,getState:yu}});var QOe=T(()=>{"use strict";AU();var kHt=te(),iG=gr(),qHt=uL(),oG=Xt(),ROe=Kn(),Su=st(),yL=jn(),_u=Ai(),jHt=Ua(),tG=Gr(),aG=yB(),W_=XF(),pc=Rg(),zHt=tv().codeAt,FHt=hOe(),zp=Mr(),BHt=$s(),UHt=gu(),$Oe=B7(),WOe=On(),VHt=WOe.set,_L=WOe.getterFor("URL"),GHt=$Oe.URLSearchParams,HHt=$Oe.getState,TE=oG.URL,rG=oG.TypeError,xL=oG.parseInt,$Ht=Math.floor,kOe=Math.pow,wu=Su("".charAt),dc=Su(/./.exec),ME=Su([].join),WHt=Su(1 .toString),ZHt=Su([].pop),Y_=Su([].push),U7=Su("".replace),YHt=Su([].shift),KHt=Su("".split),OE=Su("".slice),bL=Su("".toLowerCase),XHt=Su([].unshift),QHt="Invalid authority",V7="Invalid scheme",fv="Invalid host",qOe="Invalid port",ZOe=/[a-z]/i,JHt=/[\d+-.a-z]/i,nG=/\d/,e$t=/^0x/i,t$t=/^[0-7]+$/,r$t=/^\d+$/,YOe=/^[\da-f]+$/i,n$t=/[\0\t\n\r #%/:<>?@[\\\]^|]/,i$t=/[\0\t\n\r #/:<>?@[\\\]^|]/,o$t=/^[\u0000-\u0020]+/,a$t=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,s$t=/[\t\n\r]/g,xu,l$t=function(e){var t=KHt(e,"."),r,n,i,o,a,c,d;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(a=10,o.length>1&&wu(o,0)==="0"&&(a=dc(e$t,o)?16:8,o=OE(o,a===8?1:2)),o==="")c=0;else{if(!dc(a===10?r$t:a===8?t$t:YOe,o))return e;c=xL(o,a)}Y_(n,c)}for(i=0;i<r;i++)if(c=n[i],i===r-1){if(c>=kOe(256,5-r))return null}else if(c>255)return null;for(d=ZHt(n),i=0;i<n.length;i++)d+=n[i]*kOe(256,3-i);return d},u$t=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,a,c,d,m,v,E,I=function(){return wu(e,i)};if(I()===":"){if(wu(e,1)!==":")return;i+=2,r++,n=r}for(;I();){if(r===8)return;if(I()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=a=0;a<4&&dc(YOe,I());)o=o*16+xL(I(),16),i++,a++;if(I()==="."){if(a===0||(i-=a,r>6))return;for(c=0;I();){if(d=null,c>0)if(I()==="."&&c<4)i++;else return;if(!dc(nG,I()))return;for(;dc(nG,I());){if(m=xL(I(),10),d===null)d=m;else{if(d===0)return;d=d*10+m}if(d>255)return;i++}t[r]=t[r]*256+d,c++,(c===2||c===4)&&r++}if(c!==4)return;break}else if(I()===":"){if(i++,!I())return}else if(I())return;t[r++]=o}if(n!==null)for(v=r-n,r=7;r!==0&&v>0;)E=t[r],t[r--]=t[n+v-1],t[n+--v]=E;else if(r!==8)return;return t},c$t=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(t=n,r=i),t},AE=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)XHt(t,e%256),e=$Ht(e/256);return ME(t,".")}else if(typeof e=="object"){for(t="",n=c$t(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=WHt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},vL={},KOe=aG({},vL,{" ":1,"\"":1,"<":1,">":1,"`":1}),XOe=aG({},KOe,{"#":1,"?":1,"{":1,"}":1}),G7=aG({},XOe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Yh=function(e,t){var r=zHt(e,0);return r>32&&r<127&&!tG(t,e)?e:encodeURIComponent(e)},hL={ftp:21,file:null,http:80,https:443,ws:80,wss:443},CE=function(e,t){var r;return e.length===2&&dc(ZOe,wu(e,0))&&((r=wu(e,1))===":"||!t&&r==="|")},jOe=function(e){var t;return e.length>1&&CE(OE(e,0,2))&&(e.length===2||(t=wu(e,2))==="/"||t==="\\"||t==="?"||t==="#")},f$t=function(e){return e==="."||bL(e)==="%2e"},p$t=function(e){return e=bL(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},H7={},zOe={},$7={},FOe={},BOe={},W7={},UOe={},VOe={},mL={},gL={},Z7={},Y7={},K7={},X7={},GOe={},Q7={},Z_={},pf={},HOe={},pv={},jp={},sG=function(e,t,r){var n=zp(e),i,o,a;if(t){if(o=this.parse(n),o)throw new rG(o);this.searchParams=null}else{if(r!==void 0&&(i=new sG(r,!0)),o=this.parse(n,null,i),o)throw new rG(o);a=HHt(new GHt),a.bindURL(this),this.searchParams=a}};sG.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||H7,o=0,a="",c=!1,d=!1,m=!1,v,E,I,M;for(e=zp(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=U7(e,o$t,""),e=U7(e,a$t,"$1")),e=U7(e,s$t,""),v=W_(e);o<=v.length;){switch(E=v[o],i){case H7:if(E&&dc(ZOe,E))a+=bL(E),i=zOe;else{if(t)return V7;i=$7;continue}break;case zOe:if(E&&(dc(JHt,E)||E==="+"||E==="-"||E==="."))a+=bL(E);else if(E===":"){if(t&&(n.isSpecial()!==tG(hL,a)||a==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=a,t){n.isSpecial()&&hL[n.scheme]===n.port&&(n.port=null);return}a="",n.scheme==="file"?i=X7:n.isSpecial()&&r&&r.scheme===n.scheme?i=FOe:n.isSpecial()?i=VOe:v[o+1]==="/"?(i=BOe,o++):(n.cannotBeABaseURL=!0,Y_(n.path,""),i=HOe)}else{if(t)return V7;a="",i=$7,o=0;continue}break;case $7:if(!r||r.cannotBeABaseURL&&E!=="#")return V7;if(r.cannotBeABaseURL&&E==="#"){n.scheme=r.scheme,n.path=pc(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=jp;break}i=r.scheme==="file"?X7:W7;continue;case FOe:if(E==="/"&&v[o+1]==="/")i=mL,o++;else{i=W7;continue}break;case BOe:if(E==="/"){i=gL;break}else{i=pf;continue}case W7:if(n.scheme=r.scheme,E===xu)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pc(r.path),n.query=r.query;else if(E==="/"||E==="\\"&&n.isSpecial())i=UOe;else if(E==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pc(r.path),n.query="",i=pv;else if(E==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pc(r.path),n.query=r.query,n.fragment="",i=jp;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pc(r.path),n.path.length--,i=pf;continue}break;case UOe:if(n.isSpecial()&&(E==="/"||E==="\\"))i=mL;else if(E==="/")i=gL;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=pf;continue}break;case VOe:if(i=mL,E!=="/"||wu(a,o+1)!=="/")continue;o++;break;case mL:if(E!=="/"&&E!=="\\"){i=gL;continue}break;case gL:if(E==="@"){c&&(a="%40"+a),c=!0,I=W_(a);for(var L=0;L<I.length;L++){var R=I[L];if(R===":"&&!m){m=!0;continue}var P=Yh(R,G7);m?n.password+=P:n.username+=P}a=""}else if(E===xu||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(c&&a==="")return QHt;o-=W_(a).length+1,a="",i=Z7}else a+=E;break;case Z7:case Y7:if(t&&n.scheme==="file"){i=Q7;continue}else if(E===":"&&!d){if(a==="")return fv;if(M=n.parseHost(a),M)return M;if(a="",i=K7,t===Y7)return}else if(E===xu||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(n.isSpecial()&&a==="")return fv;if(t&&a===""&&(n.includesCredentials()||n.port!==null))return;if(M=n.parseHost(a),M)return M;if(a="",i=Z_,t)return;continue}else E==="["?d=!0:E==="]"&&(d=!1),a+=E;break;case K7:if(dc(nG,E))a+=E;else if(E===xu||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()||t){if(a!==""){var q=xL(a,10);if(q>65535)return qOe;n.port=n.isSpecial()&&q===hL[n.scheme]?null:q,a=""}if(t)return;i=Z_;continue}else return qOe;break;case X7:if(n.scheme="file",E==="/"||E==="\\")i=GOe;else if(r&&r.scheme==="file")switch(E){case xu:n.host=r.host,n.path=pc(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=pc(r.path),n.query="",i=pv;break;case"#":n.host=r.host,n.path=pc(r.path),n.query=r.query,n.fragment="",i=jp;break;default:jOe(ME(pc(v,o),""))||(n.host=r.host,n.path=pc(r.path),n.shortenPath()),i=pf;continue;}else{i=pf;continue}break;case GOe:if(E==="/"||E==="\\"){i=Q7;break}r&&r.scheme==="file"&&!jOe(ME(pc(v,o),""))&&(CE(r.path[0],!0)?Y_(n.path,r.path[0]):n.host=r.host),i=pf;continue;case Q7:if(E===xu||E==="/"||E==="\\"||E==="?"||E==="#"){if(!t&&CE(a))i=pf;else if(a===""){if(n.host="",t)return;i=Z_}else{if(M=n.parseHost(a),M)return M;if(n.host==="localhost"&&(n.host=""),t)return;a="",i=Z_}continue}else a+=E;break;case Z_:if(n.isSpecial()){if(i=pf,E!=="/"&&E!=="\\")continue}else if(!t&&E==="?")n.query="",i=pv;else if(!t&&E==="#")n.fragment="",i=jp;else if(E!==xu&&(i=pf,E!=="/"))continue;break;case pf:if(E===xu||E==="/"||E==="\\"&&n.isSpecial()||!t&&(E==="?"||E==="#")){if(p$t(a)?(n.shortenPath(),E!=="/"&&!(E==="\\"&&n.isSpecial())&&Y_(n.path,"")):f$t(a)?E!=="/"&&!(E==="\\"&&n.isSpecial())&&Y_(n.path,""):(n.scheme==="file"&&!n.path.length&&CE(a)&&(n.host&&(n.host=""),a=wu(a,0)+":"),Y_(n.path,a)),a="",n.scheme==="file"&&(E===xu||E==="?"||E==="#"))for(;n.path.length>1&&n.path[0]==="";)YHt(n.path);E==="?"?(n.query="",i=pv):E==="#"&&(n.fragment="",i=jp)}else a+=Yh(E,XOe);break;case HOe:E==="?"?(n.query="",i=pv):E==="#"?(n.fragment="",i=jp):E!==xu&&(n.path[0]+=Yh(E,vL));break;case pv:!t&&E==="#"?(n.fragment="",i=jp):E!==xu&&(E==="'"&&n.isSpecial()?n.query+="%27":E==="#"?n.query+="%23":n.query+=Yh(E,vL));break;case jp:E!==xu&&(n.fragment+=Yh(E,KOe));break;}o++}},parseHost:function(e){var t,r,n;if(wu(e,0)==="["){if(wu(e,e.length-1)!=="]"||(t=u$t(OE(e,1,-1)),!t))return fv;this.host=t}else if(this.isSpecial()){if(e=FHt(e),dc(n$t,e)||(t=l$t(e),t===null))return fv;this.host=t}else{if(dc(i$t,e))return fv;for(t="",r=W_(e),n=0;n<r.length;n++)t+=Yh(r[n],vL);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return tG(hL,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!CE(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,c=e.query,d=e.fragment,m=t+":";return i!==null?(m+="//",e.includesCredentials()&&(m+=r+(n?":"+n:"")+"@"),m+=AE(i),o!==null&&(m+=":"+o)):t==="file"&&(m+="//"),m+=e.cannotBeABaseURL?a[0]:a.length?"/"+ME(a,"/"):"",c!==null&&(m+="?"+c),d!==null&&(m+="#"+d),m},setHref:function(e){var t=this.parse(e);if(t)throw new rG(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new K_(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+AE(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(zp(e)+":",H7)},getUsername:function(){return this.username},setUsername:function(e){var t=W_(zp(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Yh(t[r],G7)}},getPassword:function(){return this.password},setPassword:function(e){var t=W_(zp(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Yh(t[r],G7)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?AE(e):AE(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Z7)},getHostname:function(){var e=this.host;return e===null?"":AE(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Y7)},getPort:function(){var e=this.port;return e===null?"":zp(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=zp(e),e===""?this.port=null:this.parse(e,K7))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+ME(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Z_))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=zp(e),e===""?this.query=null:(wu(e,0)==="?"&&(e=OE(e,1)),this.query="",this.parse(e,pv)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=zp(e),e===""){this.fragment=null;return}wu(e,0)==="#"&&(e=OE(e,1)),this.fragment="",this.parse(e,jp)},update:function(){this.query=this.searchParams.serialize()||null}};var K_=function(t){var r=jHt(this,ws),n=UHt(arguments.length,1)>1?arguments[1]:void 0,i=VHt(r,new sG(t,!1,n));iG||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},ws=K_.prototype,bu=function(e,t){return{get:function(){return _L(this)[e]()},set:t&&function(r){return _L(this)[t](r)},configurable:!0,enumerable:!0}};iG&&(_u(ws,"href",bu("serialize","setHref")),_u(ws,"origin",bu("getOrigin")),_u(ws,"protocol",bu("getProtocol","setProtocol")),_u(ws,"username",bu("getUsername","setUsername")),_u(ws,"password",bu("getPassword","setPassword")),_u(ws,"host",bu("getHost","setHost")),_u(ws,"hostname",bu("getHostname","setHostname")),_u(ws,"port",bu("getPort","setPort")),_u(ws,"pathname",bu("getPathname","setPathname")),_u(ws,"search",bu("getSearch","setSearch")),_u(ws,"searchParams",bu("getSearchParams")),_u(ws,"hash",bu("getHash","setHash")));yL(ws,"toJSON",function(){return _L(this).serialize()},{enumerable:!0});yL(ws,"toString",function(){return _L(this).serialize()},{enumerable:!0});TE&&(J7=TE.createObjectURL,eG=TE.revokeObjectURL,J7&&yL(K_,"createObjectURL",ROe(J7,TE)),eG&&yL(K_,"revokeObjectURL",ROe(eG,TE)));var J7,eG;BHt(K_,"URL");kHt({global:!0,constructor:!0,forced:!qHt,sham:!iG},{URL:K_})});var JOe=T(()=>{"use strict";QOe()});var rDe=T(()=>{"use strict";var d$t=te(),h$t=Er(),m$t=vt(),g$t=gu(),eDe=Mr(),v$t=uL(),tDe=h$t("URL"),y$t=v$t&&m$t(function(){tDe.canParse()});d$t({target:"URL",stat:!0,forced:!y$t},{canParse:function(t){var r=g$t(arguments.length,1),n=eDe(t),i=r<2||arguments[1]===void 0?void 0:eDe(arguments[1]);try{return!!new tDe(n,i)}catch(o){return!1}}})});var nDe=T(()=>{"use strict";var _$t=te(),x$t=kt();_$t({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return x$t(URL.prototype.toString,this)}})});var iDe=T(()=>{"use strict";B7()});var lDe=T(()=>{"use strict";var b$t=jn(),wL=st(),oDe=Mr(),w$t=gu(),sDe=URLSearchParams,SL=sDe.prototype,S$t=wL(SL.append),aDe=wL(SL.delete),E$t=wL(SL.forEach),I$t=wL([].push),lG=new sDe("a=1&a=2&b=3");lG.delete("a",1);lG.delete("b",void 0);lG+""!="a=2"&&b$t(SL,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return aDe(this,e);var n=[];E$t(this,function(E,I){I$t(n,{key:I,value:E})}),w$t(t,1);for(var i=oDe(e),o=oDe(r),a=0,c=0,d=!1,m=n.length,v;a<m;)v=n[a++],d||v.key===i?(d=!0,aDe(this,v.key)):c++;for(;c<m;)v=n[c++],v.key===i&&v.value===o||S$t(this,v.key,v.value)},{enumerable:!0,unsafe:!0})});var pDe=T(()=>{"use strict";var T$t=jn(),cDe=st(),A$t=Mr(),M$t=gu(),fDe=URLSearchParams,uG=fDe.prototype,C$t=cDe(uG.getAll),O$t=cDe(uG.has),uDe=new fDe("a=1");(uDe.has("a",2)||!uDe.has("a",void 0))&&T$t(uG,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return O$t(this,t);var i=C$t(this,t);M$t(r,1);for(var o=A$t(n),a=0;a<i.length;)if(i[a++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var dDe=T(()=>{"use strict";var D$t=gr(),L$t=st(),P$t=Ai(),cG=URLSearchParams.prototype,N$t=L$t(cG.forEach);D$t&&!("size"in cG)&&P$t(cG,"size",{get:function(){var t=0;return N$t(this,function(){t++}),t},configurable:!0,enumerable:!0})});var mDe=T((x3r,hDe)=>{"use strict";wse();Cse();Ose();Dse();Lse();Pse();Nse();Rse();kse();qse();jse();zse();Fse();Bse();Use();dle();yle();jF();jle();UF();Hle();Yle();Xle();eue();tue();nue();oue();WF();ZF();cue();fue();hue();Sue();Eue();Tue();Aue();sS();Zue();Que();Jue();tce();nce();lce();cce();pce();mce();gce();Lce();Rce();kce();h6();g6();v6();Fce();Bce();Uce();_6();_fe();Dfe();Ffe();Ufe();Vfe();Hfe();Zfe();Yfe();ope();ape();fpe();mpe();vpe();Spe();Tpe();Ope();$6();EF();Dpe();rO();Ype();Qpe();ede();tde();rde();ode();sde();lde();cde();pde();hde();mde();gde();vde();xde();Sde();Ede();Ide();kde();qde();zde();Bde();Ude();Vde();Gde();Hde();Xde();ohe();che();ghe();_he();Ehe();Ihe();Mhe();Ohe();Lhe();Phe();zhe();Fhe();Bhe();Ghe();Hhe();$he();Zhe();bB();Khe();Qhe();eme();rme();ime();ome();ame();sme();dme();hme();mme();yme();_me();bme();Sme();Pge();iU();oU();jge();zge();$ge();Yge();Kge();eve();tve();rve();nve();ive();ove();ave();fve();dve();hve();Ove();Lve();EO();jve();Fve();Vve();$ve();Zve();Yve();Jve();aye();uye();fye();TU();AU();Iye();NU();kye();qye();Bye();Uye();Zye();VU();t0e();s0e();p0e();h0e();YU();b0e();T0e();D0e();R0e();k0e();q0e();j0e();z0e();F0e();B0e();U0e();V0e();G0e();H0e();$0e();W0e();w_e();S_e();E_e();I_e();T_e();A_e();M_e();C_e();O_e();c8();P_e();R_e();q_e();U_e();G_e();$_e();f8();p8();K_e();X_e();J_e();t1e();a1e();l1e();c1e();p1e();h1e();g1e();y1e();x1e();T1e();M1e();O1e();k1e();z1e();G1e();S8();E8();$1e();T8();X1e();XO();mxe();gxe();yxe();Hxe();$xe();Wxe();Zxe();Yxe();Kxe();Qxe();Jxe();rbe();nbe();abe();sbe();cbe();fbe();pbe();dbe();bbe();wbe();Tbe();Ube();Gbe();rwe();swe();_we();Swe();Twe();Awe();Cwe();Owe();kwe();qwe();zwe();Fwe();Bwe();Uwe();Vwe();$we();Wwe();eSe();aSe();lSe();uSe();cSe();pSe();dSe();ySe();xSe();wSe();SSe();TSe();ASe();MSe();PSe();VSe();$Se();ZSe();YSe();XSe();QSe();nEe();iEe();oEe();aEe();sEe();uEe();cEe();fEe();dEe();hEe();gEe();_Ee();DEe();FEe();UEe();GEe();HEe();WEe();ZEe();YEe();JEe();eIe();nIe();oIe();aIe();lIe();cIe();fIe();dIe();hIe();mIe();vIe();_Ie();xIe();bIe();wIe();SIe();IIe();TIe();AIe();MIe();CIe();OIe();DIe();LIe();kIe();qIe();jIe();FIe();BIe();UIe();$Ie();WIe();ZIe();YIe();cTe();fTe();pTe();dTe();hTe();xTe();wTe();ETe();MTe();OTe();LTe();RTe();qTe();zTe();BTe();GTe();HTe();f2e();g2e();v2e();_2e();x2e();b2e();E2e();I2e();A2e();M2e();O2e();D2e();P2e();N2e();k2e();j2e();z2e();F2e();B2e();V2e();G2e();$2e();W2e();Z2e();J2e();iAe();SAe();EAe();IAe();TAe();AAe();MAe();CAe();DAe();LAe();zAe();FAe();BAe();UAe();VAe();GAe();HAe();$Ae();ZAe();YAe();XAe();JAe();eMe();tMe();nMe();iMe();oMe();aMe();sMe();lMe();fMe();pMe();dMe();mMe();gMe();_Me();xMe();bMe();wMe();DMe();FMe();WMe();JMe();fCe();yCe();xCe();DCe();LCe();NCe();KCe();nOe();JOe();rDe();nDe();iDe();lDe();pDe();dDe();hDe.exports=uC()});var vDe=T((b3r,gDe)=>{"use strict";gDe.exports=mDe()});var jLe=T((fqr,qLe)=>{"use strict";var aQt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";qLe.exports=aQt});var ULe=T((pqr,BLe)=>{"use strict";var sQt=jLe();function zLe(){}function FLe(){}FLe.resetWarningCache=zLe;BLe.exports=function(){function e(n,i,o,a,c,d){if(d!==sQt){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FLe,resetWarningCache:zLe};return r.PropTypes=r,r}});var Tt=T((mqr,VLe)=>{VLe.exports=ULe()();var dqr,hqr});var fH=T((Pjr,cPe)=>{"use strict";cPe.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var Js=T((Njr,dPe)=>{"use strict";var wQt=fH(),yv=Object.prototype.toString;function hH(e){return yv.call(e)==="[object Array]"}function pH(e){return typeof e=="undefined"}function SQt(e){return e!==null&&!pH(e)&&e.constructor!==null&&!pH(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function EQt(e){return yv.call(e)==="[object ArrayBuffer]"}function IQt(e){return typeof FormData!="undefined"&&e instanceof FormData}function TQt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function AQt(e){return typeof e=="string"}function MQt(e){return typeof e=="number"}function fPe(e){return e!==null&&typeof e=="object"}function uP(e){if(yv.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function CQt(e){return yv.call(e)==="[object Date]"}function OQt(e){return yv.call(e)==="[object File]"}function DQt(e){return yv.call(e)==="[object Blob]"}function pPe(e){return yv.call(e)==="[object Function]"}function LQt(e){return fPe(e)&&pPe(e.pipe)}function PQt(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function NQt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function RQt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function mH(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),hH(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function dH(){var e={};function t(i,o){uP(e[o])&&uP(i)?e[o]=dH(e[o],i):uP(i)?e[o]=dH({},i):hH(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)mH(arguments[r],t);return e}function kQt(e,t,r){return mH(t,function(i,o){r&&typeof i=="function"?e[o]=wQt(i,r):e[o]=i}),e}function qQt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}dPe.exports={isArray:hH,isArrayBuffer:EQt,isBuffer:SQt,isFormData:IQt,isArrayBufferView:TQt,isString:AQt,isNumber:MQt,isObject:fPe,isPlainObject:uP,isUndefined:pH,isDate:CQt,isFile:OQt,isBlob:DQt,isFunction:pPe,isStream:LQt,isURLSearchParams:PQt,isStandardBrowserEnv:RQt,forEach:mH,merge:dH,extend:kQt,trim:NQt,stripBOM:qQt}});var gH=T((Rjr,mPe)=>{"use strict";var o1=Js();function hPe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}mPe.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(o1.isURLSearchParams(r))i=r.toString();else{var o=[];o1.forEach(r,function(d,m){d===null||typeof d=="undefined"||(o1.isArray(d)?m=m+"[]":d=[d],o1.forEach(d,function(E){o1.isDate(E)?E=E.toISOString():o1.isObject(E)&&(E=JSON.stringify(E)),o.push(hPe(m)+"="+hPe(E))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var vPe=T((kjr,gPe)=>{"use strict";var jQt=Js();function cP(){this.handlers=[]}cP.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};cP.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};cP.prototype.forEach=function(t){jQt.forEach(this.handlers,function(n){n!==null&&t(n)})};gPe.exports=cP});var _Pe=T((qjr,yPe)=>{"use strict";var zQt=Js();yPe.exports=function(t,r){zQt.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var vH=T((jjr,xPe)=>{"use strict";xPe.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var yH=T((zjr,bPe)=>{"use strict";var FQt=vH();bPe.exports=function(t,r,n,i,o){var a=new Error(t);return FQt(a,r,n,i,o)}});var SPe=T((Fjr,wPe)=>{"use strict";var BQt=yH();wPe.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(BQt("Request failed with status code "+n.status,n.config,null,n.request,n))}});var IPe=T((Bjr,EPe)=>{"use strict";var fP=Js();EPe.exports=fP.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,c){var d=[];d.push(r+"="+encodeURIComponent(n)),fP.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),fP.isString(o)&&d.push("path="+o),fP.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var APe=T((Ujr,TPe)=>{"use strict";TPe.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var CPe=T((Vjr,MPe)=>{"use strict";MPe.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var DPe=T((Gjr,OPe)=>{"use strict";var UQt=APe(),VQt=CPe();OPe.exports=function(t,r){return t&&!UQt(r)?VQt(t,r):r}});var PPe=T((Hjr,LPe)=>{"use strict";var _H=Js(),GQt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];LPe.exports=function(t){var r={},n,i,o;return t&&_H.forEach(t.split(`
`),function(c){if(o=c.indexOf(":"),n=_H.trim(c.substr(0,o)).toLowerCase(),i=_H.trim(c.substr(o+1)),n){if(r[n]&&GQt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var kPe=T(($jr,RPe)=>{"use strict";var NPe=Js();RPe.exports=NPe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var c=NPe.isString(a)?i(a):a;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}()});var ZE=T((Wjr,qPe)=>{"use strict";function xH(e){this.message=e}xH.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};xH.prototype.__CANCEL__=!0;qPe.exports=xH});var wH=T((Zjr,jPe)=>{"use strict";var pP=Js(),HQt=SPe(),$Qt=IPe(),WQt=gH(),ZQt=DPe(),YQt=PPe(),KQt=kPe(),bH=yH(),XQt=YE(),QQt=ZE();jPe.exports=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,c=t.responseType,d;function m(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}pP.isFormData(o)&&delete a["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var E=t.auth.username||"",I=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(E+":"+I)}var M=ZQt(t.baseURL,t.url);v.open(t.method.toUpperCase(),WQt(M,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function L(){if(v){var P="getAllResponseHeaders"in v?YQt(v.getAllResponseHeaders()):null,q=!c||c==="text"||c==="json"?v.responseText:v.response,j={data:q,status:v.status,statusText:v.statusText,headers:P,config:t,request:v};HQt(function(Z){n(Z),m()},function(Z){i(Z),m()},j),v=null}}if("onloadend"in v?v.onloadend=L:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(L)},v.onabort=function(){v&&(i(bH("Request aborted",t,"ECONNABORTED",v)),v=null)},v.onerror=function(){i(bH("Network Error",t,null,v)),v=null},v.ontimeout=function(){var q=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",j=t.transitional||XQt.transitional;t.timeoutErrorMessage&&(q=t.timeoutErrorMessage),i(bH(q,t,j.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},pP.isStandardBrowserEnv()){var R=(t.withCredentials||KQt(M))&&t.xsrfCookieName?$Qt.read(t.xsrfCookieName):void 0;R&&(a[t.xsrfHeaderName]=R)}"setRequestHeader"in v&&pP.forEach(a,function(q,j){typeof o=="undefined"&&j.toLowerCase()==="content-type"?delete a[j]:v.setRequestHeader(j,q)}),pP.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),c&&c!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(P){v&&(i(!P||P&&P.type?new QQt("canceled"):P),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),o||(o=null),v.send(o)})}});var YE=T((Yjr,BPe)=>{"use strict";var ca=Js(),zPe=_Pe(),JQt=vH(),eJt={"Content-Type":"application/x-www-form-urlencoded"};function FPe(e,t){!ca.isUndefined(e)&&ca.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function tJt(){var e;return typeof XMLHttpRequest!="undefined"?e=wH():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=wH()),e}function rJt(e,t,r){if(ca.isString(e))try{return(t||JSON.parse)(e),ca.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var dP={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:tJt(),transformRequest:[function(t,r){return zPe(r,"Accept"),zPe(r,"Content-Type"),ca.isFormData(t)||ca.isArrayBuffer(t)||ca.isBuffer(t)||ca.isStream(t)||ca.isFile(t)||ca.isBlob(t)?t:ca.isArrayBufferView(t)?t.buffer:ca.isURLSearchParams(t)?(FPe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ca.isObject(t)||r&&r["Content-Type"]==="application/json"?(FPe(r,"application/json"),rJt(t)):t}],transformResponse:[function(t){var r=this.transitional||dP.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&ca.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?JQt(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ca.forEach(["delete","get","head"],function(t){dP.headers[t]={}});ca.forEach(["post","put","patch"],function(t){dP.headers[t]=ca.merge(eJt)});BPe.exports=dP});var VPe=T((Kjr,UPe)=>{"use strict";var nJt=Js(),iJt=YE();UPe.exports=function(t,r,n){var i=this||iJt;return nJt.forEach(n,function(a){t=a.call(i,t,r)}),t}});var SH=T((Xjr,GPe)=>{"use strict";GPe.exports=function(t){return!!(t&&t.__CANCEL__)}});var WPe=T((Qjr,$Pe)=>{"use strict";var HPe=Js(),EH=VPe(),oJt=SH(),aJt=YE(),sJt=ZE();function IH(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sJt("canceled")}$Pe.exports=function(t){IH(t),t.headers=t.headers||{},t.data=EH.call(t,t.data,t.headers,t.transformRequest),t.headers=HPe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),HPe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||aJt.adapter;return r(t).then(function(i){return IH(t),i.data=EH.call(t,i.data,i.headers,t.transformResponse),i},function(i){return oJt(i)||(IH(t),i&&i.response&&(i.response.data=EH.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var TH=T((Jjr,ZPe)=>{"use strict";var kl=Js();ZPe.exports=function(t,r){r=r||{};var n={};function i(v,E){return kl.isPlainObject(v)&&kl.isPlainObject(E)?kl.merge(v,E):kl.isPlainObject(E)?kl.merge({},E):kl.isArray(E)?E.slice():E}function o(v){if(kl.isUndefined(r[v])){if(!kl.isUndefined(t[v]))return i(void 0,t[v])}else return i(t[v],r[v])}function a(v){if(!kl.isUndefined(r[v]))return i(void 0,r[v])}function c(v){if(kl.isUndefined(r[v])){if(!kl.isUndefined(t[v]))return i(void 0,t[v])}else return i(void 0,r[v])}function d(v){if(v in r)return i(t[v],r[v]);if(v in t)return i(void 0,t[v])}var m={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return kl.forEach(Object.keys(t).concat(Object.keys(r)),function(E){var I=m[E]||o,M=I(E);kl.isUndefined(M)&&I!==d||(n[E]=M)}),n}});var AH=T((ezr,YPe)=>{YPe.exports={version:"0.24.0"}});var QPe=T((tzr,XPe)=>{"use strict";var lJt=AH().version,MH={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){MH[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var KPe={};MH.transitional=function(t,r,n){function i(o,a){return"[Axios v"+lJt+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,c){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!KPe[a]&&(KPe[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,c):!0}};function uJt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],a=t[o];if(a){var c=e[o],d=c===void 0||a(c,o,e);if(d!==!0)throw new TypeError("option "+o+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+o)}}XPe.exports={assertOptions:uJt,validators:MH}});var iNe=T((rzr,nNe)=>{"use strict";var tNe=Js(),cJt=gH(),JPe=vPe(),eNe=WPe(),hP=TH(),rNe=QPe(),a1=rNe.validators;function KE(e){this.defaults=e,this.interceptors={request:new JPe,response:new JPe}}KE.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=hP(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&rNe.assertOptions(r,{silentJSONParsing:a1.transitional(a1.boolean),forcedJSONParsing:a1.transitional(a1.boolean),clarifyTimeoutError:a1.transitional(a1.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(i=i&&I.synchronous,n.unshift(I.fulfilled,I.rejected))});var o=[];this.interceptors.response.forEach(function(I){o.push(I.fulfilled,I.rejected)});var a;if(!i){var c=[eNe,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var d=t;n.length;){var m=n.shift(),v=n.shift();try{d=m(d)}catch(E){v(E);break}}try{a=eNe(d)}catch(E){return Promise.reject(E)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};KE.prototype.getUri=function(t){return t=hP(this.defaults,t),cJt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};tNe.forEach(["delete","get","head","options"],function(t){KE.prototype[t]=function(r,n){return this.request(hP(n||{},{method:t,url:r,data:(n||{}).data}))}});tNe.forEach(["post","put","patch"],function(t){KE.prototype[t]=function(r,n,i){return this.request(hP(i||{},{method:t,url:r,data:n}))}});nNe.exports=KE});var aNe=T((nzr,oNe)=>{"use strict";var fJt=ZE();function s1(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new fJt(i),t(r.reason))})}s1.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};s1.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};s1.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};s1.source=function(){var t,r=new s1(function(i){t=i});return{token:r,cancel:t}};oNe.exports=s1});var lNe=T((izr,sNe)=>{"use strict";sNe.exports=function(t){return function(n){return t.apply(null,n)}}});var cNe=T((ozr,uNe)=>{"use strict";uNe.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var dNe=T((azr,CH)=>{"use strict";var fNe=Js(),pJt=fH(),mP=iNe(),dJt=TH(),hJt=YE();function pNe(e){var t=new mP(e),r=pJt(mP.prototype.request,t);return fNe.extend(r,mP.prototype,t),fNe.extend(r,t),r.create=function(i){return pNe(dJt(e,i))},r}var mf=pNe(hJt);mf.Axios=mP;mf.Cancel=ZE();mf.CancelToken=aNe();mf.isCancel=SH();mf.VERSION=AH().version;mf.all=function(t){return Promise.all(t)};mf.spread=lNe();mf.isAxiosError=cNe();CH.exports=mf;CH.exports.default=mf});var em=T((szr,hNe)=>{hNe.exports=dNe()});var INe=T((czr,ENe)=>{var LH=1/0,gJt=17976931348623157e292,gNe=NaN,vJt="[object Symbol]",yJt=/^\s+|\s+$/g,_Jt=/^[-+]0x[0-9a-f]+$/i,xJt=/^0b[01]+$/i,bJt=/^0o[0-7]+$/i,wJt=parseInt,SJt=typeof global=="object"&&global&&global.Object===Object&&global,EJt=typeof self=="object"&&self&&self.Object===Object&&self,IJt=SJt||EJt||Function("return this")(),TJt=Object.prototype,AJt=TJt.toString,vNe=IJt.Symbol,MJt=Math.min,yNe=vNe?vNe.prototype:void 0,_Ne=yNe?yNe.toString:void 0;function CJt(e){if(typeof e=="string")return e;if(wNe(e))return _Ne?_Ne.call(e):"";var t=e+"";return t=="0"&&1/e==-LH?"-0":t}function OJt(e){var t=Math[e];return function(r,n){if(r=SNe(r),n=MJt(PJt(n),292),n){var i=(bNe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(bNe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function xNe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function DJt(e){return!!e&&typeof e=="object"}function wNe(e){return typeof e=="symbol"||DJt(e)&&AJt.call(e)==vJt}function LJt(e){if(!e)return e===0?e:0;if(e=SNe(e),e===LH||e===-LH){var t=e<0?-1:1;return t*gJt}return e===e?e:0}function PJt(e){var t=LJt(e),r=t%1;return t===t?r?t-r:t:0}function SNe(e){if(typeof e=="number")return e;if(wNe(e))return gNe;if(xNe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xNe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(yJt,"");var r=xJt.test(e);return r||bJt.test(e)?wJt(e.slice(2),r?2:8):_Jt.test(e)?gNe:+e}function bNe(e){return e==null?"":CJt(e)}var NJt=OJt("round");ENe.exports=NJt});var XE=T((RH,kH)=>{(function(e,t){typeof RH=="object"&&typeof kH!="undefined"?kH.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(RH,function(){"use strict";var e={},t={};function r(i,o,a){if(t[i]=a,i==="index"){var c="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",d={};return t.shared(d),t.index(e,d),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([c],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(u,l,f,h){return new(f||(f=Promise))(function(_,w){function S(k){try{O(h.next(k))}catch(z){w(z)}}function A(k){try{O(h.throw(k))}catch(z){w(z)}}function O(k){var z;k.done?_(k.value):(z=k.value,z instanceof f?z:new f(function(U){U(z)})).then(S,A)}O((h=h.apply(u,l||[])).next())})}function a(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var c=d;function d(u,l){this.x=u,this.y=l}d.prototype={clone:function(){return new d(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,f=u.y-this.y;return l*l+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),f=Math.sin(u),h=f*this.x+l*this.y;return this.x=l*this.x-f*this.y,this.y=h,this},_rotateAround:function(u,l){var f=Math.cos(u),h=Math.sin(u),_=l.y+h*(this.x-l.x)+f*(this.y-l.y);return this.x=l.x+f*(this.x-l.x)-h*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(u){return u instanceof d?u:Array.isArray(u)?new d(u[0],u[1]):u};var m=a(c),v=E;function E(u,l,f,h){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(h-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=h}E.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,h=0;h<8;h++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var w=this.sampleCurveDerivativeX(f);if(Math.abs(w)<1e-6)break;f-=_/w}var S=0,A=1;for(f=u,h=0;h<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));h++)u>_?S=f:A=f,f=.5*(A-S)+S;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var I=a(v);let M,L;function R(){return M==null&&(M=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),M}function P(){if(L==null&&(L=!1,R())){let l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let h=0;h<5*5;h++){let _=4*h;l.fillStyle=`rgb(${_},${_+1},${_+2})`,l.fillRect(h%5,Math.floor(h/5),1,1)}let f=l.getImageData(0,0,5,5).data;for(let h=0;h<5*5*4;h++)if(h%4!=3&&f[h]!==h){L=!0;break}}}return L||!1}function q(u,l,f,h){let _=new I(u,l,f,h);return w=>_.solve(w)}let j=q(.25,.1,.25,1);function B(u,l,f){return Math.min(f,Math.max(l,u))}function Z(u,l,f){let h=f-l,_=((u-l)%h+h)%h+l;return _===l?f:_}function re(u,...l){for(let f of l)for(let h in f)u[h]=f[h];return u}let Q=1;function oe(u,l,f){let h={};for(let _ in u)h[_]=l.call(this,u[_],_,u);return h}function me(u,l,f){let h={};for(let _ in u)l.call(this,u[_],_,u)&&(h[_]=u[_]);return h}function pe(u){return Array.isArray(u)?u.map(pe):typeof u=="object"&&u?oe(u,pe):u}let Ae={};function Fe(u){Ae[u]||(typeof console!="undefined"&&console.warn(u),Ae[u]=!0)}function $e(u,l,f){return(f.y-u.y)*(l.x-u.x)>(l.y-u.y)*(f.x-u.x)}function Ue(u){return typeof WorkerGlobalScope!="undefined"&&u!==void 0&&u instanceof WorkerGlobalScope}let Xe=null;function Ye(u){return typeof ImageBitmap!="undefined"&&u instanceof ImageBitmap}let Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ke(u,l,f,h,_){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let w=new VideoFrame(u,{timestamp:0});try{let S=w==null?void 0:w.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);let A=S.startsWith("BGR"),O=new Uint8ClampedArray(h*_*4);if(yield w.copyTo(O,function(k,z,U,W,Y){let J=4*Math.max(-z,0),ne=(Math.max(0,U)-U)*W*4+J,ce=4*W,he=Math.max(0,z),qe=Math.max(0,U);return{rect:{x:he,y:qe,width:Math.min(k.width,z+W)-he,height:Math.min(k.height,U+Y)-qe},layout:[{offset:ne,stride:ce}]}}(u,l,f,h,_)),A)for(let k=0;k<O.length;k+=4){let z=O[k];O[k]=O[k+2],O[k+2]=z}return O}finally{w.close()}})}let je,it,ot="AbortError";function at(){return new Error(ot)}let Be={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ze(u){return Be.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}let nt="global-dispatcher";class Ce extends Error{constructor(l,f,h,_){super(`AJAXError: ${f} (${l}): ${h}`),this.status=l,this.statusText=f,this.url=h,this.body=_}}let de=()=>Ue(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Ne=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){let h=Ze(u.url);if(h)return h(u,l);if(Ue(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:nt},l)}if(!(/^file:/.test(f=u.url)||/^file:/.test(de())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(h,_){return o(this,void 0,void 0,function*(){let w=new Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,cache:h.cache,referrer:de(),signal:_.signal});h.type!=="json"||w.headers.has("Accept")||w.headers.set("Accept","application/json");let S=yield fetch(w);if(!S.ok){let k=yield S.blob();throw new Ce(S.status,S.statusText,h.url,k)}let A;A=h.type==="arrayBuffer"||h.type==="image"?S.arrayBuffer():h.type==="json"?S.json():S.text();let O=yield A;if(_.signal.aborted)throw at();return{data:O,cacheControl:S.headers.get("Cache-Control"),expires:S.headers.get("Expires")}})}(u,l);if(Ue(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:nt},l)}var f;return function(h,_){return new Promise((w,S)=>{var A;let O=new XMLHttpRequest;O.open(h.method||"GET",h.url,!0),h.type!=="arrayBuffer"&&h.type!=="image"||(O.responseType="arraybuffer");for(let k in h.headers)O.setRequestHeader(k,h.headers[k]);h.type==="json"&&(O.responseType="text",!((A=h.headers)===null||A===void 0)&&A.Accept||O.setRequestHeader("Accept","application/json")),O.withCredentials=h.credentials==="include",O.onerror=()=>{S(new Error(O.statusText))},O.onload=()=>{if(!_.signal.aborted)if((O.status>=200&&O.status<300||O.status===0)&&O.response!==null){let k=O.response;if(h.type==="json")try{k=JSON.parse(O.response)}catch(z){return void S(z)}w({data:k,cacheControl:O.getResponseHeader("Cache-Control"),expires:O.getResponseHeader("Expires")})}else{let k=new Blob([O.response],{type:O.getResponseHeader("Content-Type")});S(new Ce(O.status,O.statusText,h.url,k))}},_.signal.addEventListener("abort",()=>{O.abort(),S(at())}),O.send(h.body)})}(u,l)};function Ee(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;let l=new URL(u),f=window.location;return l.protocol===f.protocol&&l.host===f.host}function Qe(u,l,f){f[u]&&f[u].indexOf(l)!==-1||(f[u]=f[u]||[],f[u].push(l))}function Ke(u,l,f){if(f&&f[u]){let h=f[u].indexOf(l);h!==-1&&f[u].splice(h,1)}}class yt{constructor(l,f={}){re(this,f),this.type=l}}class _t extends yt{constructor(l,f={}){super("error",re({error:l},f))}}class gt{on(l,f){return this._listeners=this._listeners||{},Qe(l,f,this._listeners),this}off(l,f){return Ke(l,f,this._listeners),Ke(l,f,this._oneTimeListeners),this}once(l,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},Qe(l,f,this._oneTimeListeners),this):new Promise(h=>this.once(l,h))}fire(l,f){typeof l=="string"&&(l=new yt(l,f||{}));let h=l.type;if(this.listens(h)){l.target=this;let _=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(let A of _)A.call(this,l);let w=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(let A of w)Ke(h,A,this._oneTimeListeners),A.call(this,l);let S=this._eventedParent;S&&(re(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(l))}else l instanceof _t&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,f){return this._eventedParent=l,this._eventedParentData=f,this}}var Se={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let ft=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function zt(u,l){let f={};for(let h in u)h!=="ref"&&(f[h]=u[h]);return ft.forEach(h=>{h in l&&(f[h]=l[h])}),f}function pt(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let f=0;f<u.length;f++)if(!pt(u[f],l[f]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(let f in u)if(!pt(u[f],l[f]))return!1;return!0}return u===l}function Ht(u,l){u.push(l)}function ar(u,l,f){Ht(f,{command:"addSource",args:[u,l[u]]})}function Ft(u,l,f){Ht(l,{command:"removeSource",args:[u]}),f[u]=!0}function cr(u,l,f,h){Ft(u,f,h),ar(u,l,f)}function Br(u,l,f){let h;for(h in u[f])if(Object.prototype.hasOwnProperty.call(u[f],h)&&h!=="data"&&!pt(u[f][h],l[f][h]))return!1;for(h in l[f])if(Object.prototype.hasOwnProperty.call(l[f],h)&&h!=="data"&&!pt(u[f][h],l[f][h]))return!1;return!0}function Ur(u,l,f,h,_,w){u=u||{},l=l||{};for(let S in u)Object.prototype.hasOwnProperty.call(u,S)&&(pt(u[S],l[S])||f.push({command:w,args:[h,S,l[S],_]}));for(let S in l)Object.prototype.hasOwnProperty.call(l,S)&&!Object.prototype.hasOwnProperty.call(u,S)&&(pt(u[S],l[S])||f.push({command:w,args:[h,S,l[S],_]}))}function sr(u){return u.id}function nn(u,l){return u[l.id]=l,u}class lt{constructor(l,f,h,_){this.message=(l?`${l}: `:"")+h,_&&(this.identifier=_),f!=null&&f.__line__&&(this.line=f.__line__)}}function wi(u,...l){for(let f of l)for(let h in f)u[h]=f[h];return u}class Tn extends Error{constructor(l,f){super(f),this.message=f,this.key=l}}class Os{constructor(l,f=[]){this.parent=l,this.bindings={};for(let[h,_]of f)this.bindings[h]=_}concat(l){return new Os(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}let Zl={kind:"null"},wt={kind:"number"},Or={kind:"string"},hr={kind:"boolean"},Co={kind:"color"},as={kind:"object"},Ie={kind:"value"},De={kind:"collator"},ct={kind:"formatted"},Lt={kind:"padding"},Dt={kind:"resolvedImage"},ae={kind:"variableAnchorOffsetCollection"};function $(u,l){return{kind:"array",itemType:u,N:l}}function H(u){if(u.kind==="array"){let l=H(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}let K=[Zl,wt,Or,hr,Co,ct,as,$(Ie),Lt,Dt,ae];function se(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!se(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(let f of K)if(!se(f,l))return null}}return`Expected ${H(u)} but found ${H(l)} instead.`}function _e(u,l){return l.some(f=>f.kind===u.kind)}function we(u,l){return l.some(f=>f==="null"?u===null:f==="array"?Array.isArray(u):f==="object"?u&&!Array.isArray(u)&&typeof u=="object":f===typeof u)}function Me(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}let ve=.96422,He=.82521,tt=4/29,Ge=6/29,ht=3*Ge*Ge,Wt=Ge*Ge*Ge,lr=Math.PI/180,ln=180/Math.PI;function Ar(u){return(u%=360)<0&&(u+=360),u}function un([u,l,f,h]){let _,w,S=Ui((.2225045*(u=Zr(u))+.7168786*(l=Zr(l))+.0606169*(f=Zr(f)))/1);u===l&&l===f?_=w=S:(_=Ui((.4360747*u+.3850649*l+.1430804*f)/ve),w=Ui((.0139322*u+.0971045*l+.7141733*f)/He));let A=116*S-16;return[A<0?0:A,500*(_-S),200*(S-w),h]}function Zr(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Ui(u){return u>Wt?Math.pow(u,1/3):u/ht+tt}function Si([u,l,f,h]){let _=(u+16)/116,w=isNaN(l)?_:_+l/500,S=isNaN(f)?_:_-f/200;return _=1*Mn(_),w=ve*Mn(w),S=He*Mn(S),[zr(3.1338561*w-1.6168667*_-.4906146*S),zr(-.9787684*w+1.9161415*_+.033454*S),zr(.0719453*w-.2289914*_+1.4052427*S),h]}function zr(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function Mn(u){return u>Ge?u*u*u:ht*(u-tt)}function fi(u){return parseInt(u.padEnd(2,u),16)/255}function uo(u,l){return yo(l?u/100:u,0,1)}function yo(u,l,f){return Math.min(Math.max(l,u),f)}function Qo(u){return!u.some(Number.isNaN)}let xd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Cn{constructor(l,f,h,_=1,w=!0){this.r=l,this.g=f,this.b=h,this.a=_,w||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,f,h,_]))}static parse(l){if(l instanceof Cn)return l;if(typeof l!="string")return;let f=function(h){if((h=h.toLowerCase().trim())==="transparent")return[0,0,0,0];let _=xd[h];if(_){let[S,A,O]=_;return[S/255,A/255,O/255,1]}if(h.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(h)){let S=h.length<6?1:2,A=1;return[fi(h.slice(A,A+=S)),fi(h.slice(A,A+=S)),fi(h.slice(A,A+=S)),fi(h.slice(A,A+S)||"ff")]}if(h.startsWith("rgb")){let S=h.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[A,O,k,z,U,W,Y,J,ne,ce,he,qe]=S,be=[z||" ",Y||" ",ce].join("");if(be==="  "||be==="  /"||be===",,"||be===",,,"){let Pe=[k,W,ne].join(""),We=Pe==="%%%"?100:Pe===""?255:0;if(We){let ut=[yo(+O/We,0,1),yo(+U/We,0,1),yo(+J/We,0,1),he?uo(+he,qe):1];if(Qo(ut))return ut}}return}}let w=h.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){let[S,A,O,k,z,U,W,Y,J]=w,ne=[O||" ",z||" ",W].join("");if(ne==="  "||ne==="  /"||ne===",,"||ne===",,,"){let ce=[+A,yo(+k,0,100),yo(+U,0,100),Y?uo(+Y,J):1];if(Qo(ce))return function([he,qe,be,Pe]){function We(ut){let Rt=(ut+he/30)%12,fr=qe*Math.min(be,1-be);return be-fr*Math.max(-1,Math.min(Rt-3,9-Rt,1))}return he=Ar(he),qe/=100,be/=100,[We(0),We(8),We(4),Pe]}(ce)}}}(l);return f?new Cn(...f,!1):void 0}get rgb(){let{r:l,g:f,b:h,a:_}=this,w=_||1/0;return this.overwriteGetter("rgb",[l/w,f/w,h/w,_])}get hcl(){return this.overwriteGetter("hcl",function(l){let[f,h,_,w]=un(l),S=Math.sqrt(h*h+_*_);return[Math.round(1e4*S)?Ar(Math.atan2(_,h)*ln):NaN,S,f,w]}(this.rgb))}get lab(){return this.overwriteGetter("lab",un(this.rgb))}overwriteGetter(l,f){return Object.defineProperty(this,l,{value:f}),f}toString(){let[l,f,h,_]=this.rgb;return`rgba(${[l,f,h].map(w=>Math.round(255*w)).join(",")},${_})`}}Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);class Cx{constructor(l,f,h){this.sensitivity=l?f?"variant":"case":f?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,f){return this.collator.compare(l,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ox{constructor(l,f,h,_,w){this.text=l,this.image=f,this.scale=h,this.fontStack=_,this.textColor=w}}class ss{constructor(l){this.sections=l}static fromString(l){return new ss([new Ox(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof ss?l:ss.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class ls{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ls)return l;if(typeof l=="number")return new ls([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(let f of l)if(typeof f!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]];}return new ls(l)}}toString(){return JSON.stringify(this.values)}}let Gk=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ds{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ds)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let f=0;f<l.length;f+=2){let h=l[f],_=l[f+1];if(typeof h!="string"||!Gk.has(h)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new Ds(l)}}toString(){return JSON.stringify(this.values)}}class us{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new us({name:l,available:!1}):null}}function bd(u,l,f,h){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof f=="number"&&f>=0&&f<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[u,l,f,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[u,l,f,h]:[u,l,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Wf(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Cn||u instanceof Cx||u instanceof ss||u instanceof ls||u instanceof Ds||u instanceof us)return!0;if(Array.isArray(u)){for(let l of u)if(!Wf(l))return!1;return!0}if(typeof u=="object"){for(let l in u)if(!Wf(u[l]))return!1;return!0}return!1}function Vi(u){if(u===null)return Zl;if(typeof u=="string")return Or;if(typeof u=="boolean")return hr;if(typeof u=="number")return wt;if(u instanceof Cn)return Co;if(u instanceof Cx)return De;if(u instanceof ss)return ct;if(u instanceof ls)return Lt;if(u instanceof Ds)return ae;if(u instanceof us)return Dt;if(Array.isArray(u)){let l=u.length,f;for(let h of u){let _=Vi(h);if(f){if(f===_)continue;f=Ie;break}f=_}return $(f||Ie,l)}return as}function Vm(u){let l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Cn||u instanceof ss||u instanceof ls||u instanceof Ds||u instanceof us?u.toString():JSON.stringify(u)}class gl{constructor(l,f){this.type=l,this.value=f}static parse(l,f){if(l.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Wf(l[1]))return f.error("invalid value");let h=l[1],_=Vi(h),w=f.expectedType;return _.kind!=="array"||_.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(_=w),new gl(_,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ri{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}let dy={string:Or,number:wt,boolean:hr,object:as};class vl{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h,_=1,w=l[0];if(w==="array"){let A,O;if(l.length>2){let k=l[1];if(typeof k!="string"||!(k in dy)||k==="object")return f.error("The item type argument of \"array\" must be one of string, number, boolean",1);A=dy[k],_++}else A=Ie;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return f.error("The length argument to \"array\" must be a positive integer literal",2);O=l[2],_++}h=$(A,O)}else{if(!dy[w])throw new Error(`Types doesn't contain name = ${w}`);h=dy[w]}let S=[];for(;_<l.length;_++){let A=f.parse(l[_],_,Ie);if(!A)return null;S.push(A)}return new vl(h,S)}evaluate(l){for(let f=0;f<this.args.length;f++){let h=this.args[f].evaluate(l);if(!se(this.type,Vi(h)))return h;if(f===this.args.length-1)throw new Ri(`Expected value to be of type ${H(this.type)}, but found ${H(Vi(h))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}let Dx={"to-boolean":hr,"to-color":Co,"to-number":wt,"to-string":Or};class yl{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h=l[0];if(!Dx[h])throw new Error(`Can't parse ${h} as it is not part of the known types`);if((h==="to-boolean"||h==="to-string")&&l.length!==2)return f.error("Expected one argument.");let _=Dx[h],w=[];for(let S=1;S<l.length;S++){let A=f.parse(l[S],S,Ie);if(!A)return null;w.push(A)}return new yl(_,w)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let f,h;for(let _ of this.args){if(f=_.evaluate(l),h=null,f instanceof Cn)return f;if(typeof f=="string"){let w=l.parseColor(f);if(w)return w}else if(Array.isArray(f)&&(h=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:bd(f[0],f[1],f[2],f[3]),!h))return new Cn(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new Ri(h||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(let h of this.args){f=h.evaluate(l);let _=ls.parse(f);if(_)return _}throw new Ri(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(let h of this.args){f=h.evaluate(l);let _=Ds.parse(f);if(_)return _}throw new Ri(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(let h of this.args){if(f=h.evaluate(l),f===null)return 0;let _=Number(f);if(!isNaN(_))return _}throw new Ri(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return ss.fromString(Vm(this.args[0].evaluate(l)));case"resolvedImage":return us.fromString(Vm(this.args[0].evaluate(l)));default:return Vm(this.args[0].evaluate(l));}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}let Hk=["Unknown","Point","LineString","Polygon"];class hy{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Hk[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let f=this._parseColorCache[l];return f||(f=this._parseColorCache[l]=Cn.parse(l)),f}}class Zf{constructor(l,f,h=[],_,w=new Os,S=[]){this.registry=l,this.path=h,this.key=h.map(A=>`[${A}]`).join(""),this.scope=w,this.errors=S,this.expectedType=_,this._isConstant=f}parse(l,f,h,_,w={}){return f?this.concat(f,h,_)._parse(l,w):this._parse(l,w)}_parse(l,f){function h(_,w,S){return S==="assert"?new vl(w,[_]):S==="coerce"?new yl(w,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let w=this.registry[_];if(w){let S=w.parse(l,this);if(!S)return null;if(this.expectedType){let A=this.expectedType,O=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||O.kind!=="value"){if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||O.kind!=="value"&&O.kind!=="string"){if(A.kind!=="padding"||O.kind!=="value"&&O.kind!=="number"&&O.kind!=="array"){if(A.kind!=="variableAnchorOffsetCollection"||O.kind!=="value"&&O.kind!=="array"){if(this.checkSubtype(A,O))return null}else S=h(S,A,f.typeAnnotation||"coerce");}else S=h(S,A,f.typeAnnotation||"coerce");}else S=h(S,A,f.typeAnnotation||"coerce");}else S=h(S,A,f.typeAnnotation||"assert")}if(!(S instanceof gl)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){let A=new hy;try{S=new gl(S.type,S.evaluate(A))}catch(O){return this.error(O.message),null}}return S}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof l} instead.`)}concat(l,f,h){let _=typeof l=="number"?this.path.concat(l):this.path,w=h?this.scope.concat(h):this.scope;return new Zf(this.registry,this._isConstant,_,f||null,w,this.errors)}error(l,...f){let h=`${this.key}${f.map(_=>`[${_}]`).join("")}`;this.errors.push(new Tn(h,l))}checkSubtype(l,f){let h=se(l,f);return h&&this.error(h),h}}class kc{constructor(l,f){this.type=f.type,this.bindings=[].concat(l),this.result=f}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(let f of this.bindings)l(f[1]);l(this.result)}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);let h=[];for(let w=1;w<l.length-1;w+=2){let S=l[w];if(typeof S!="string")return f.error(`Expected string, but found ${typeof S} instead.`,w);if(/[^a-zA-Z0-9_]/.test(S))return f.error("Variable names must contain only alphanumeric characters or '_'.",w);let A=f.parse(l[w+1],w+1);if(!A)return null;h.push([S,A])}let _=f.parse(l[l.length-1],l.length-1,f.expectedType,h);return _?new kc(h,_):null}outputDefined(){return this.result.outputDefined()}}class vn{constructor(l,f){this.type=f.type,this.name=l,this.boundExpression=f}static parse(l,f){if(l.length!==2||typeof l[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");let h=l[1];return f.scope.has(h)?new vn(h,f.scope.get(h)):f.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Lx{constructor(l,f,h){this.type=l,this.index=f,this.input=h}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,wt),_=f.parse(l[2],2,$(f.expectedType||Ie));return h&&_?new Lx(_.type.itemType,h,_):null}evaluate(l){let f=this.index.evaluate(l),h=this.input.evaluate(l);if(f<0)throw new Ri(`Array index out of bounds: ${f} < 0.`);if(f>=h.length)throw new Ri(`Array index out of bounds: ${f} > ${h.length-1}.`);if(f!==Math.floor(f))throw new Ri(`Array index must be an integer, but found ${f} instead.`);return h[f]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Px{constructor(l,f){this.type=hr,this.needle=l,this.haystack=f}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ie),_=f.parse(l[2],2,Ie);return h&&_?_e(h.type,[hr,Or,wt,Zl,Ie])?new Px(h,_):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${H(h.type)} instead`):null}evaluate(l){let f=this.needle.evaluate(l),h=this.haystack.evaluate(l);if(!h)return!1;if(!we(f,["boolean","string","number","null"]))throw new Ri(`Expected first argument to be of type boolean, string, number or null, but found ${H(Vi(f))} instead.`);if(!we(h,["string","array"]))throw new Ri(`Expected second argument to be of type array or string, but found ${H(Vi(h))} instead.`);return h.indexOf(f)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class wd{constructor(l,f,h){this.type=wt,this.needle=l,this.haystack=f,this.fromIndex=h}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ie),_=f.parse(l[2],2,Ie);if(!h||!_)return null;if(!_e(h.type,[hr,Or,wt,Zl,Ie]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${H(h.type)} instead`);if(l.length===4){let w=f.parse(l[3],3,wt);return w?new wd(h,_,w):null}return new wd(h,_)}evaluate(l){let f=this.needle.evaluate(l),h=this.haystack.evaluate(l);if(!we(f,["boolean","string","number","null"]))throw new Ri(`Expected first argument to be of type boolean, string, number or null, but found ${H(Vi(f))} instead.`);let _;if(this.fromIndex&&(_=this.fromIndex.evaluate(l)),we(h,["string"])){let w=h.indexOf(f,_);return w===-1?-1:[...h.slice(0,w)].length}if(we(h,["array"]))return h.indexOf(f,_);throw new Ri(`Expected second argument to be of type array or string, but found ${H(Vi(h))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Nx{constructor(l,f,h,_,w,S){this.inputType=l,this.type=f,this.input=h,this.cases=_,this.outputs=w,this.otherwise=S}static parse(l,f){if(l.length<5)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return f.error("Expected an even number of arguments.");let h,_;f.expectedType&&f.expectedType.kind!=="value"&&(_=f.expectedType);let w={},S=[];for(let k=2;k<l.length-1;k+=2){let z=l[k],U=l[k+1];Array.isArray(z)||(z=[z]);let W=f.concat(k);if(z.length===0)return W.error("Expected at least one branch label.");for(let J of z){if(typeof J!="number"&&typeof J!="string")return W.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return W.error("Numeric branch labels must be integer values.");if(h){if(W.checkSubtype(h,Vi(J)))return null}else h=Vi(J);if(w[String(J)]!==void 0)return W.error("Branch labels must be unique.");w[String(J)]=S.length}let Y=f.parse(U,k,_);if(!Y)return null;_=_||Y.type,S.push(Y)}let A=f.parse(l[1],1,Ie);if(!A)return null;let O=f.parse(l[l.length-1],l.length-1,_);return O?A.type.kind!=="value"&&f.concat(1).checkSubtype(h,A.type)?null:new Nx(h,_,A,w,S,O):null}evaluate(l){let f=this.input.evaluate(l);return(Vi(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class my{constructor(l,f,h){this.type=l,this.branches=f,this.otherwise=h}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return f.error("Expected an odd number of arguments.");let h;f.expectedType&&f.expectedType.kind!=="value"&&(h=f.expectedType);let _=[];for(let S=1;S<l.length-1;S+=2){let A=f.parse(l[S],S,hr);if(!A)return null;let O=f.parse(l[S+1],S+1,h);if(!O)return null;_.push([A,O]),h=h||O.type}let w=f.parse(l[l.length-1],l.length-1,h);if(!w)return null;if(!h)throw new Error("Can't infer output type");return new my(h,_,w)}evaluate(l){for(let[f,h]of this.branches)if(f.evaluate(l))return h.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(let[f,h]of this.branches)l(f),l(h);l(this.otherwise)}outputDefined(){return this.branches.every(([l,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class Gm{constructor(l,f,h,_){this.type=l,this.input=f,this.beginIndex=h,this.endIndex=_}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ie),_=f.parse(l[2],2,wt);if(!h||!_)return null;if(!_e(h.type,[$(Ie),Or,Ie]))return f.error(`Expected first argument to be of type array or string, but found ${H(h.type)} instead`);if(l.length===4){let w=f.parse(l[3],3,wt);return w?new Gm(h.type,h,_,w):null}return new Gm(h.type,h,_)}evaluate(l){let f=this.input.evaluate(l),h=this.beginIndex.evaluate(l),_;if(this.endIndex&&(_=this.endIndex.evaluate(l)),we(f,["string"]))return[...f].slice(h,_).join("");if(we(f,["array"]))return f.slice(h,_);throw new Ri(`Expected first argument to be of type array or string, but found ${H(Vi(f))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function gy(u,l){let f=u.length-1,h,_,w=0,S=f,A=0;for(;w<=S;)if(A=Math.floor((w+S)/2),h=u[A],_=u[A+1],h<=l){if(A===f||l<_)return A;w=A+1}else{if(!(h>l))throw new Ri("Input is not a number.");S=A-1}return 0}class Sd{constructor(l,f,h){this.type=l,this.input=f,this.labels=[],this.outputs=[];for(let[_,w]of h)this.labels.push(_),this.outputs.push(w)}static parse(l,f){if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");let h=f.parse(l[1],1,wt);if(!h)return null;let _=[],w=null;f.expectedType&&f.expectedType.kind!=="value"&&(w=f.expectedType);for(let S=1;S<l.length;S+=2){let A=S===1?-1/0:l[S],O=l[S+1],k=S,z=S+1;if(typeof A!="number")return f.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",k);if(_.length&&_[_.length-1][0]>=A)return f.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",k);let U=f.parse(O,z,w);if(!U)return null;w=w||U.type,_.push([A,U])}return new Sd(w,h,_)}evaluate(l){let f=this.labels,h=this.outputs;if(f.length===1)return h[0].evaluate(l);let _=this.input.evaluate(l);if(_<=f[0])return h[0].evaluate(l);let w=f.length;return _>=f[w-1]?h[w-1].evaluate(l):h[gy(f,_)].evaluate(l)}eachChild(l){l(this.input);for(let f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function M2(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var $k=C2;function C2(u,l,f,h){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(h-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=h}C2.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,h=0;h<8;h++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var w=this.sampleCurveDerivativeX(f);if(Math.abs(w)<1e-6)break;f-=_/w}var S=0,A=1;for(f=u,h=0;h<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));h++)u>_?S=f:A=f,f=.5*(A-S)+S;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var Wk=M2($k);function Yf(u,l,f){return u+f*(l-u)}function Hm(u,l,f){return u.map((h,_)=>Yf(h,l[_],f))}let Aa={number:Yf,color:function(u,l,f,h="rgb"){switch(h){case"rgb":{let[_,w,S,A]=Hm(u.rgb,l.rgb,f);return new Cn(_,w,S,A,!1)}case"hcl":{let[_,w,S,A]=u.hcl,[O,k,z,U]=l.hcl,W,Y;if(isNaN(_)||isNaN(O))isNaN(_)?isNaN(O)?W=NaN:(W=O,S!==1&&S!==0||(Y=k)):(W=_,z!==1&&z!==0||(Y=w));else{let qe=O-_;O>_&&qe>180?qe-=360:O<_&&_-O>180&&(qe+=360),W=_+f*qe}let[J,ne,ce,he]=function([qe,be,Pe,We]){return qe=isNaN(qe)?0:qe*lr,Si([Pe,Math.cos(qe)*be,Math.sin(qe)*be,We])}([W,Y!=null?Y:Yf(w,k,f),Yf(S,z,f),Yf(A,U,f)]);return new Cn(J,ne,ce,he,!1)}case"lab":{let[_,w,S,A]=Si(Hm(u.lab,l.lab,f));return new Cn(_,w,S,A,!1)}}},array:Hm,padding:function(u,l,f){return new ls(Hm(u.values,l.values,f))},variableAnchorOffsetCollection:function(u,l,f){let h=u.values,_=l.values;if(h.length!==_.length)throw new Ri(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);let w=[];for(let S=0;S<h.length;S+=2){if(h[S]!==_[S])throw new Ri(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${h[S]}, to[${S}]: ${_[S]}`);w.push(h[S]);let[A,O]=h[S+1],[k,z]=_[S+1];w.push([Yf(A,k,f),Yf(O,z,f)])}return new Ds(w)}};class Ma{constructor(l,f,h,_,w){this.type=l,this.operator=f,this.interpolation=h,this.input=_,this.labels=[],this.outputs=[];for(let[S,A]of w)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(l,f,h,_){let w=0;if(l.name==="exponential")w=vy(f,l.base,h,_);else if(l.name==="linear")w=vy(f,1,h,_);else if(l.name==="cubic-bezier"){let S=l.controlPoints;w=new Wk(S[0],S[1],S[2],S[3]).solve(vy(f,1,h,_))}return w}static parse(l,f){let[h,_,w,...S]=l;if(!Array.isArray(_)||_.length===0)return f.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){let k=_[1];if(typeof k!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:k}}else{if(_[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(_[0])}`,1,0);{let k=_.slice(1);if(k.length!==4||k.some(z=>typeof z!="number"||z<0||z>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:k}}}if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(w=f.parse(w,2,wt),!w)return null;let A=[],O=null;h==="interpolate-hcl"||h==="interpolate-lab"?O=Co:f.expectedType&&f.expectedType.kind!=="value"&&(O=f.expectedType);for(let k=0;k<S.length;k+=2){let z=S[k],U=S[k+1],W=k+3,Y=k+4;if(typeof z!="number")return f.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",W);if(A.length&&A[A.length-1][0]>=z)return f.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",W);let J=f.parse(U,Y,O);if(!J)return null;O=O||J.type,A.push([z,J])}return Me(O,wt)||Me(O,Co)||Me(O,Lt)||Me(O,ae)||Me(O,$(wt))?new Ma(O,h,_,w,A):f.error(`Type ${H(O)} is not interpolatable.`)}evaluate(l){let f=this.labels,h=this.outputs;if(f.length===1)return h[0].evaluate(l);let _=this.input.evaluate(l);if(_<=f[0])return h[0].evaluate(l);let w=f.length;if(_>=f[w-1])return h[w-1].evaluate(l);let S=gy(f,_),A=Ma.interpolationFactor(this.interpolation,_,f[S],f[S+1]),O=h[S].evaluate(l),k=h[S+1].evaluate(l);switch(this.operator){case"interpolate":return Aa[this.type.kind](O,k,A);case"interpolate-hcl":return Aa.color(O,k,A,"hcl");case"interpolate-lab":return Aa.color(O,k,A,"lab");}}eachChild(l){l(this.input);for(let f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vy(u,l,f,h){let _=h-f,w=u-f;return _===0?0:l===1?w/_:(Math.pow(l,w)-1)/(Math.pow(l,_)-1)}class yy{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expectected at least one argument.");let h=null,_=f.expectedType;_&&_.kind!=="value"&&(h=_);let w=[];for(let A of l.slice(1)){let O=f.parse(A,1+w.length,h,void 0,{typeAnnotation:"omit"});if(!O)return null;h=h||O.type,w.push(O)}if(!h)throw new Error("No output type");let S=_&&w.some(A=>se(_,A.type));return new yy(S?Ie:h,w)}evaluate(l){let f,h=null,_=0;for(let w of this.args)if(_++,h=w.evaluate(l),h&&h instanceof us&&!h.available&&(f||(f=h.name),h=null,_===this.args.length&&(h=f)),h!==null)break;return h}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}function _y(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function O2(u,l,f,h){return h.compare(l,f)===0}function Ed(u,l,f){let h=u!=="=="&&u!=="!=";return class DNe{constructor(w,S,A){this.type=hr,this.lhs=w,this.rhs=S,this.collator=A,this.hasUntypedArgument=w.type.kind==="value"||S.type.kind==="value"}static parse(w,S){if(w.length!==3&&w.length!==4)return S.error("Expected two or three arguments.");let A=w[0],O=S.parse(w[1],1,Ie);if(!O)return null;if(!_y(A,O.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${H(O.type)}'.`);let k=S.parse(w[2],2,Ie);if(!k)return null;if(!_y(A,k.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${H(k.type)}'.`);if(O.type.kind!==k.type.kind&&O.type.kind!=="value"&&k.type.kind!=="value")return S.error(`Cannot compare types '${H(O.type)}' and '${H(k.type)}'.`);h&&(O.type.kind==="value"&&k.type.kind!=="value"?O=new vl(k.type,[O]):O.type.kind!=="value"&&k.type.kind==="value"&&(k=new vl(O.type,[k])));let z=null;if(w.length===4){if(O.type.kind!=="string"&&k.type.kind!=="string"&&O.type.kind!=="value"&&k.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(z=S.parse(w[3],3,De),!z)return null}return new DNe(O,k,z)}evaluate(w){let S=this.lhs.evaluate(w),A=this.rhs.evaluate(w);if(h&&this.hasUntypedArgument){let O=Vi(S),k=Vi(A);if(O.kind!==k.kind||O.kind!=="string"&&O.kind!=="number")throw new Ri(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${O.kind}, ${k.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){let O=Vi(S),k=Vi(A);if(O.kind!=="string"||k.kind!=="string")return l(w,S,A)}return this.collator?f(w,S,A,this.collator.evaluate(w)):l(w,S,A)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}}}let Zk=Ed("==",function(u,l,f){return l===f},O2),D2=Ed("!=",function(u,l,f){return l!==f},function(u,l,f,h){return!O2(0,l,f,h)}),L2=Ed("<",function(u,l,f){return l<f},function(u,l,f,h){return h.compare(l,f)<0}),Yk=Ed(">",function(u,l,f){return l>f},function(u,l,f,h){return h.compare(l,f)>0}),Kk=Ed("<=",function(u,l,f){return l<=f},function(u,l,f,h){return h.compare(l,f)<=0}),P2=Ed(">=",function(u,l,f){return l>=f},function(u,l,f,h){return h.compare(l,f)>=0});class $m{constructor(l,f,h){this.type=De,this.locale=h,this.caseSensitive=l,this.diacriticSensitive=f}static parse(l,f){if(l.length!==2)return f.error("Expected one argument.");let h=l[1];if(typeof h!="object"||Array.isArray(h))return f.error("Collator options argument must be an object.");let _=f.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,hr);if(!_)return null;let w=f.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,hr);if(!w)return null;let S=null;return h.locale&&(S=f.parse(h.locale,1,Or),!S)?null:new $m(_,w,S)}evaluate(l){return new Cx(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class Rx{constructor(l,f,h,_,w){this.type=Or,this.number=l,this.locale=f,this.currency=h,this.minFractionDigits=_,this.maxFractionDigits=w}static parse(l,f){if(l.length!==3)return f.error("Expected two arguments.");let h=f.parse(l[1],1,wt);if(!h)return null;let _=l[2];if(typeof _!="object"||Array.isArray(_))return f.error("NumberFormat options argument must be an object.");let w=null;if(_.locale&&(w=f.parse(_.locale,1,Or),!w))return null;let S=null;if(_.currency&&(S=f.parse(_.currency,1,Or),!S))return null;let A=null;if(_["min-fraction-digits"]&&(A=f.parse(_["min-fraction-digits"],1,wt),!A))return null;let O=null;return _["max-fraction-digits"]&&(O=f.parse(_["max-fraction-digits"],1,wt),!O)?null:new Rx(h,w,S,A,O)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class xy{constructor(l){this.type=ct,this.sections=l}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h=l[1];if(!Array.isArray(h)&&typeof h=="object")return f.error("First argument must be an image or text section.");let _=[],w=!1;for(let S=1;S<=l.length-1;++S){let A=l[S];if(w&&typeof A=="object"&&!Array.isArray(A)){w=!1;let O=null;if(A["font-scale"]&&(O=f.parse(A["font-scale"],1,wt),!O))return null;let k=null;if(A["text-font"]&&(k=f.parse(A["text-font"],1,$(Or)),!k))return null;let z=null;if(A["text-color"]&&(z=f.parse(A["text-color"],1,Co),!z))return null;let U=_[_.length-1];U.scale=O,U.font=k,U.textColor=z}else{let O=f.parse(l[S],1,Ie);if(!O)return null;let k=O.type.kind;if(k!=="string"&&k!=="value"&&k!=="null"&&k!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,_.push({content:O,scale:null,font:null,textColor:null})}}return new xy(_)}evaluate(l){return new ss(this.sections.map(f=>{let h=f.content.evaluate(l);return Vi(h)===Dt?new Ox("",h,null,null,null):new Ox(Vm(h),null,f.scale?f.scale.evaluate(l):null,f.font?f.font.evaluate(l).join(","):null,f.textColor?f.textColor.evaluate(l):null)}))}eachChild(l){for(let f of this.sections)l(f.content),f.scale&&l(f.scale),f.font&&l(f.font),f.textColor&&l(f.textColor)}outputDefined(){return!1}}class kx{constructor(l){this.type=Dt,this.input=l}static parse(l,f){if(l.length!==2)return f.error("Expected two arguments.");let h=f.parse(l[1],1,Or);return h?new kx(h):f.error("No image name provided.")}evaluate(l){let f=this.input.evaluate(l),h=us.fromString(f);return h&&l.availableImages&&(h.available=l.availableImages.indexOf(f)>-1),h}eachChild(l){l(this.input)}outputDefined(){return!1}}class qx{constructor(l){this.type=wt,this.input=l}static parse(l,f){if(l.length!==2)return f.error(`Expected 1 argument, but found ${l.length-1} instead.`);let h=f.parse(l[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${H(h.type)} instead.`):new qx(h):null}evaluate(l){let f=this.input.evaluate(l);if(typeof f=="string")return[...f].length;if(Array.isArray(f))return f.length;throw new Ri(`Expected value to be of type string or array, but found ${H(Vi(f))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}let Yl=8192;function Xk(u,l){let f=(180+u[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(f*_*Yl),Math.round(h*_*Yl)]}function jx(u,l){let f=Math.pow(2,l.z);return[(_=(u[0]/Yl+l.x)/f,360*_-180),(h=(u[1]/Yl+l.y)/f,360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90)];var h,_}function Kf(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function qc(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function Sn(u,l,f){let h=u[0]-l[0],_=u[1]-l[1],w=u[0]-f[0],S=u[1]-f[1];return h*S-w*_==0&&h*w<=0&&_*S<=0}function by(u,l,f,h){return(_=[h[0]-f[0],h[1]-f[1]])[0]*(w=[l[0]-u[0],l[1]-u[1]])[1]-_[1]*w[0]!=0&&!(!R2(u,l,f,h)||!R2(f,h,u,l));var _,w}function Qk(u,l,f){for(let h of f)for(let _=0;_<h.length-1;++_)if(by(u,l,h[_],h[_+1]))return!0;return!1}function Id(u,l,f=!1){let h=!1;for(let A of l)for(let O=0;O<A.length-1;O++){if(Sn(u,A[O],A[O+1]))return f;(w=A[O])[1]>(_=u)[1]!=(S=A[O+1])[1]>_[1]&&_[0]<(S[0]-w[0])*(_[1]-w[1])/(S[1]-w[1])+w[0]&&(h=!h)}var _,w,S;return h}function Jk(u,l){for(let f of l)if(Id(u,f))return!0;return!1}function N2(u,l){for(let f of u)if(!Id(f,l))return!1;for(let f=0;f<u.length-1;++f)if(Qk(u[f],u[f+1],l))return!1;return!0}function e3(u,l){for(let f of l)if(N2(u,f))return!0;return!1}function R2(u,l,f,h){let _=h[0]-f[0],w=h[1]-f[1],S=(u[0]-f[0])*w-_*(u[1]-f[1]),A=(l[0]-f[0])*w-_*(l[1]-f[1]);return S>0&&A<0||S<0&&A>0}function zx(u,l,f){let h=[];for(let _=0;_<u.length;_++){let w=[];for(let S=0;S<u[_].length;S++){let A=Xk(u[_][S],f);Kf(l,A),w.push(A)}h.push(w)}return h}function k2(u,l,f){let h=[];for(let _=0;_<u.length;_++){let w=zx(u[_],l,f);h.push(w)}return h}function q2(u,l,f,h){if(u[0]<f[0]||u[0]>f[2]){let _=.5*h,w=u[0]-f[0]>_?-h:f[0]-u[0]>_?h:0;w===0&&(w=u[0]-f[2]>_?-h:f[2]-u[0]>_?h:0),u[0]+=w}Kf(l,u)}function j2(u,l,f,h){let _=Math.pow(2,h.z)*Yl,w=[h.x*Yl,h.y*Yl],S=[];for(let A of u)for(let O of A){let k=[O.x+w[0],O.y+w[1]];q2(k,l,f,_),S.push(k)}return S}function z2(u,l,f,h){let _=Math.pow(2,h.z)*Yl,w=[h.x*Yl,h.y*Yl],S=[];for(let O of u){let k=[];for(let z of O){let U=[z.x+w[0],z.y+w[1]];Kf(l,U),k.push(U)}S.push(k)}if(l[2]-l[0]<=_/2){(A=l)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(let O of S)for(let k of O)q2(k,l,f,_)}var A;return S}class Xf{constructor(l,f){this.type=hr,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Wf(l[1])){let h=l[1];if(h.type==="FeatureCollection"){let _=[];for(let w of h.features){let{type:S,coordinates:A}=w.geometry;S==="Polygon"&&_.push(A),S==="MultiPolygon"&&_.push(...A)}if(_.length)return new Xf(h,{type:"MultiPolygon",coordinates:_})}else if(h.type==="Feature"){let _=h.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Xf(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Xf(h,h)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,h){let _=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(h.type==="Polygon"){let A=zx(h.coordinates,w,S),O=j2(f.geometry(),_,w,S);if(!qc(_,w))return!1;for(let k of O)if(!Id(k,A))return!1}if(h.type==="MultiPolygon"){let A=k2(h.coordinates,w,S),O=j2(f.geometry(),_,w,S);if(!qc(_,w))return!1;for(let k of O)if(!Jk(k,A))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,h){let _=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(h.type==="Polygon"){let A=zx(h.coordinates,w,S),O=z2(f.geometry(),_,w,S);if(!qc(_,w))return!1;for(let k of O)if(!N2(k,A))return!1}if(h.type==="MultiPolygon"){let A=k2(h.coordinates,w,S),O=z2(f.geometry(),_,w,S);if(!qc(_,w))return!1;for(let k of O)if(!e3(k,A))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let F2=class{constructor(u=[],l=(f,h)=>f<h?-1:f>h?1:0){if(this.data=u,this.length=this.data.length,this.compare=l,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;let u=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),u}peek(){return this.data[0]}_up(u){let{data:l,compare:f}=this,h=l[u];for(;u>0;){let _=u-1>>1,w=l[_];if(f(h,w)>=0)break;l[u]=w,u=_}l[u]=h}_down(u){let{data:l,compare:f}=this,h=this.length>>1,_=l[u];for(;u<h;){let w=1+(u<<1),S=w+1;if(S<this.length&&f(l[S],l[w])<0&&(w=S),f(l[w],_)>=0)break;l[u]=l[w],u=w}l[u]=_}};function t3(u,l,f,h,_){B2(u,l,f,h||u.length-1,_||r3)}function B2(u,l,f,h,_){for(;h>f;){if(h-f>600){var w=h-f+1,S=l-f+1,A=Math.log(w),O=.5*Math.exp(2*A/3),k=.5*Math.sqrt(A*O*(w-O)/w)*(S-w/2<0?-1:1);B2(u,l,Math.max(f,Math.floor(l-S*O/w+k)),Math.min(h,Math.floor(l+(w-S)*O/w+k)),_)}var z=u[l],U=f,W=h;for(Wm(u,f,l),_(u[h],z)>0&&Wm(u,f,h);U<W;){for(Wm(u,U,W),U++,W--;_(u[U],z)<0;)U++;for(;_(u[W],z)>0;)W--}_(u[f],z)===0?Wm(u,f,W):Wm(u,++W,h),W<=l&&(f=W+1),l<=W&&(h=W-1)}}function Wm(u,l,f){var h=u[l];u[l]=u[f],u[f]=h}function r3(u,l){return u<l?-1:u>l?1:0}function wy(u,l){if(u.length<=1)return[u];let f=[],h,_;for(let w of u){let S=i3(w);S!==0&&(w.area=Math.abs(S),_===void 0&&(_=S<0),_===S<0?(h&&f.push(h),h=[w]):h.push(w))}if(h&&f.push(h),l>1)for(let w=0;w<f.length;w++)f[w].length<=l||(t3(f[w],l,1,f[w].length-1,n3),f[w]=f[w].slice(0,l));return f}function n3(u,l){return l.area-u.area}function i3(u){let l=0;for(let f,h,_=0,w=u.length,S=w-1;_<w;S=_++)f=u[_],h=u[S],l+=(h.x-f.x)*(f.y+h.y);return l}let U2=1/298.257223563,V2=U2*(2-U2),G2=Math.PI/180;class Fx{constructor(l){let f=6378.137*G2*1e3,h=Math.cos(l*G2),_=1/(1-V2*(1-h*h)),w=Math.sqrt(_);this.kx=f*w*h,this.ky=f*w*_*(1-V2)}distance(l,f){let h=this.wrap(l[0]-f[0])*this.kx,_=(l[1]-f[1])*this.ky;return Math.sqrt(h*h+_*_)}pointOnLine(l,f){let h,_,w,S,A=1/0;for(let O=0;O<l.length-1;O++){let k=l[O][0],z=l[O][1],U=this.wrap(l[O+1][0]-k)*this.kx,W=(l[O+1][1]-z)*this.ky,Y=0;U===0&&W===0||(Y=(this.wrap(f[0]-k)*this.kx*U+(f[1]-z)*this.ky*W)/(U*U+W*W),Y>1?(k=l[O+1][0],z=l[O+1][1]):Y>0&&(k+=U/this.kx*Y,z+=W/this.ky*Y)),U=this.wrap(f[0]-k)*this.kx,W=(f[1]-z)*this.ky;let J=U*U+W*W;J<A&&(A=J,h=k,_=z,w=O,S=Y)}return{point:[h,_],index:w,t:Math.max(0,Math.min(1,S))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function H2(u,l){return l[0]-u[0]}function Sy(u){return u[1]-u[0]+1}function Qu(u,l){return u[1]>=u[0]&&u[1]<l}function Bx(u,l){if(u[0]>u[1])return[null,null];let f=Sy(u);if(l){if(f===2)return[u,null];let _=Math.floor(f/2);return[[u[0],u[0]+_],[u[0]+_,u[1]]]}if(f===1)return[u,null];let h=Math.floor(f/2)-1;return[[u[0],u[0]+h],[u[0]+h+1,u[1]]]}function Ux(u,l){if(!Qu(l,u.length))return[1/0,1/0,-1/0,-1/0];let f=[1/0,1/0,-1/0,-1/0];for(let h=l[0];h<=l[1];++h)Kf(f,u[h]);return f}function Vx(u){let l=[1/0,1/0,-1/0,-1/0];for(let f of u)for(let h of f)Kf(l,h);return l}function Ey(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function Gx(u,l,f){if(!Ey(u)||!Ey(l))return NaN;let h=0,_=0;return u[2]<l[0]&&(h=l[0]-u[2]),u[0]>l[2]&&(h=u[0]-l[2]),u[1]>l[3]&&(_=u[1]-l[3]),u[3]<l[1]&&(_=l[1]-u[3]),f.distance([0,0],[h,_])}function Qf(u,l,f){let h=f.pointOnLine(l,u);return f.distance(u,h.point)}function Hx(u,l,f,h,_){let w=Math.min(Qf(u,[f,h],_),Qf(l,[f,h],_)),S=Math.min(Qf(f,[u,l],_),Qf(h,[u,l],_));return Math.min(w,S)}function o3(u,l,f,h,_){if(!Qu(l,u.length)||!Qu(h,f.length))return 1/0;let w=1/0;for(let S=l[0];S<l[1];++S){let A=u[S],O=u[S+1];for(let k=h[0];k<h[1];++k){let z=f[k],U=f[k+1];if(by(A,O,z,U))return 0;w=Math.min(w,Hx(A,O,z,U,_))}}return w}function Oi(u,l,f,h,_){if(!Qu(l,u.length)||!Qu(h,f.length))return NaN;let w=1/0;for(let S=l[0];S<=l[1];++S)for(let A=h[0];A<=h[1];++A)if(w=Math.min(w,_.distance(u[S],f[A])),w===0)return w;return w}function a3(u,l,f){if(Id(u,l,!0))return 0;let h=1/0;for(let _ of l){let w=_[0],S=_[_.length-1];if(w!==S&&(h=Math.min(h,Qf(u,[S,w],f)),h===0))return h;let A=f.pointOnLine(_,u);if(h=Math.min(h,f.distance(u,A.point)),h===0)return h}return h}function Vr(u,l,f,h){if(!Qu(l,u.length))return NaN;for(let w=l[0];w<=l[1];++w)if(Id(u[w],f,!0))return 0;let _=1/0;for(let w=l[0];w<l[1];++w){let S=u[w],A=u[w+1];for(let O of f)for(let k=0,z=O.length,U=z-1;k<z;U=k++){let W=O[U],Y=O[k];if(by(S,A,W,Y))return 0;_=Math.min(_,Hx(S,A,W,Y,h))}}return _}function Iy(u,l){for(let f of u)for(let h of f)if(Id(h,l,!0))return!0;return!1}function Wn(u,l,f,h=1/0){let _=Vx(u),w=Vx(l);if(h!==1/0&&Gx(_,w,f)>=h)return h;if(qc(_,w)){if(Iy(u,l))return 0}else if(Iy(l,u))return 0;let S=1/0;for(let A of u)for(let O=0,k=A.length,z=k-1;O<k;z=O++){let U=A[z],W=A[O];for(let Y of l)for(let J=0,ne=Y.length,ce=ne-1;J<ne;ce=J++){let he=Y[ce],qe=Y[J];if(by(U,W,he,qe))return 0;S=Math.min(S,Hx(U,W,he,qe,f))}}return S}function Rn(u,l,f,h,_,w){if(!w)return;let S=Gx(Ux(h,w),_,f);S<l&&u.push([S,w,[0,0]])}function Jf(u,l,f,h,_,w,S){if(!w||!S)return;let A=Gx(Ux(h,w),Ux(_,S),f);A<l&&u.push([A,w,S])}function Zm(u,l,f,h,_=1/0){let w=Math.min(h.distance(u[0],f[0][0]),_);if(w===0)return w;let S=new F2([[0,[0,u.length-1],[0,0]]],H2),A=Vx(f);for(;S.length>0;){let O=S.pop();if(O[0]>=w)continue;let k=O[1],z=l?50:100;if(Sy(k)<=z){if(!Qu(k,u.length))return NaN;if(l){let U=Vr(u,k,f,h);if(isNaN(U)||U===0)return U;w=Math.min(w,U)}else for(let U=k[0];U<=k[1];++U){let W=a3(u[U],f,h);if(w=Math.min(w,W),w===0)return 0}}else{let U=Bx(k,l);Rn(S,w,h,u,A,U[0]),Rn(S,w,h,u,A,U[1])}}return w}function Ym(u,l,f,h,_,w=1/0){let S=Math.min(w,_.distance(u[0],f[0]));if(S===0)return S;let A=new F2([[0,[0,u.length-1],[0,f.length-1]]],H2);for(;A.length>0;){let O=A.pop();if(O[0]>=S)continue;let k=O[1],z=O[2],U=l?50:100,W=h?50:100;if(Sy(k)<=U&&Sy(z)<=W){if(!Qu(k,u.length)&&Qu(z,f.length))return NaN;let Y;if(l&&h)Y=o3(u,k,f,z,_),S=Math.min(S,Y);else if(l&&!h){let J=u.slice(k[0],k[1]+1);for(let ne=z[0];ne<=z[1];++ne)if(Y=Qf(f[ne],J,_),S=Math.min(S,Y),S===0)return S}else if(!l&&h){let J=f.slice(z[0],z[1]+1);for(let ne=k[0];ne<=k[1];++ne)if(Y=Qf(u[ne],J,_),S=Math.min(S,Y),S===0)return S}else Y=Oi(u,k,f,z,_),S=Math.min(S,Y)}else{let Y=Bx(k,l),J=Bx(z,h);Jf(A,S,_,u,f,Y[0],J[0]),Jf(A,S,_,u,f,Y[0],J[1]),Jf(A,S,_,u,f,Y[1],J[0]),Jf(A,S,_,u,f,Y[1],J[1])}}return S}function $x(u){return u.type==="MultiPolygon"?u.coordinates.map(l=>({type:"Polygon",coordinates:l})):u.type==="MultiLineString"?u.coordinates.map(l=>({type:"LineString",coordinates:l})):u.type==="MultiPoint"?u.coordinates.map(l=>({type:"Point",coordinates:l})):[u]}class ep{constructor(l,f){this.type=wt,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Wf(l[1])){let h=l[1];if(h.type==="FeatureCollection")return new ep(h,h.features.map(_=>$x(_.geometry)).flat());if(h.type==="Feature")return new ep(h,$x(h.geometry));if("type"in h&&"coordinates"in h)return new ep(h,$x(h))}return f.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,h){let _=f.geometry(),w=_.flat().map(O=>jx([O.x,O.y],f.canonical));if(_.length===0)return NaN;let S=new Fx(w[0][1]),A=1/0;for(let O of h){switch(O.type){case"Point":A=Math.min(A,Ym(w,!1,[O.coordinates],!1,S,A));break;case"LineString":A=Math.min(A,Ym(w,!1,O.coordinates,!0,S,A));break;case"Polygon":A=Math.min(A,Zm(w,!1,O.coordinates,S,A));}if(A===0)return A}return A}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,h){let _=f.geometry(),w=_.flat().map(O=>jx([O.x,O.y],f.canonical));if(_.length===0)return NaN;let S=new Fx(w[0][1]),A=1/0;for(let O of h){switch(O.type){case"Point":A=Math.min(A,Ym(w,!0,[O.coordinates],!1,S,A));break;case"LineString":A=Math.min(A,Ym(w,!0,O.coordinates,!0,S,A));break;case"Polygon":A=Math.min(A,Zm(w,!0,O.coordinates,S,A));}if(A===0)return A}return A}(l,this.geometries);if(l.geometryType()==="Polygon")return function(f,h){let _=f.geometry();if(_.length===0||_[0].length===0)return NaN;let w=wy(_,0).map(O=>O.map(k=>k.map(z=>jx([z.x,z.y],f.canonical)))),S=new Fx(w[0][0][0][1]),A=1/0;for(let O of h)for(let k of w){switch(O.type){case"Point":A=Math.min(A,Zm([O.coordinates],!1,k,S,A));break;case"LineString":A=Math.min(A,Zm(O.coordinates,!0,k,S,A));break;case"Polygon":A=Math.min(A,Wn(k,O.coordinates,S,A));}if(A===0)return A}return A}(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let Td={"==":Zk,"!=":D2,">":Yk,"<":L2,">=":P2,"<=":Kk,array:vl,at:Lx,boolean:vl,case:my,coalesce:yy,collator:$m,format:xy,image:kx,in:Px,"index-of":wd,interpolate:Ma,"interpolate-hcl":Ma,"interpolate-lab":Ma,length:qx,let:kc,literal:gl,match:Nx,number:vl,"number-format":Rx,object:vl,slice:Gm,step:Sd,string:vl,"to-boolean":yl,"to-color":yl,"to-number":yl,"to-string":yl,var:vn,within:Xf,distance:ep};class Ls{constructor(l,f,h,_){this.name=l,this.type=f,this._evaluate=h,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,f){let h=l[0],_=Ls.definitions[h];if(!_)return f.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);let w=Array.isArray(_)?_[0]:_.type,S=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,A=S.filter(([k])=>!Array.isArray(k)||k.length===l.length-1),O=null;for(let[k,z]of A){O=new Zf(f.registry,Km,f.path,null,f.scope);let U=[],W=!1;for(let Y=1;Y<l.length;Y++){let J=l[Y],ne=Array.isArray(k)?k[Y-1]:k.type,ce=O.parse(J,1+U.length,ne);if(!ce){W=!0;break}U.push(ce)}if(!W)if(Array.isArray(k)&&k.length!==U.length)O.error(`Expected ${k.length} arguments, but found ${U.length} instead.`);else{for(let Y=0;Y<U.length;Y++){let J=Array.isArray(k)?k[Y]:k.type,ne=U[Y];O.concat(Y+1).checkSubtype(J,ne.type)}if(O.errors.length===0)return new Ls(h,w,z,U)}}if(A.length===1)f.errors.push(...O.errors);else{let k=(A.length?A:S).map(([U])=>{return W=U,Array.isArray(W)?`(${W.map(H).join(", ")})`:`(${H(W.type)}...)`;var W}).join(" | "),z=[];for(let U=1;U<l.length;U++){let W=f.parse(l[U],1+z.length);if(!W)return null;z.push(H(W.type))}f.error(`Expected arguments of type ${k}, but found (${z.join(", ")}) instead.`)}return null}static register(l,f){Ls.definitions=f;for(let h in f)l[h]=Ls}}function Wx(u,[l,f,h,_]){l=l.evaluate(u),f=f.evaluate(u),h=h.evaluate(u);let w=_?_.evaluate(u):1,S=bd(l,f,h,w);if(S)throw new Ri(S);return new Cn(l/255,f/255,h/255,w,!1)}function Zx(u,l){return u in l}function Yx(u,l){let f=l[u];return f===void 0?null:f}function tp(u){return{type:u}}function Km(u){if(u instanceof vn)return Km(u.boundExpression);if(u instanceof Ls&&u.name==="error"||u instanceof $m||u instanceof Xf||u instanceof ep)return!1;let l=u instanceof yl||u instanceof vl,f=!0;return u.eachChild(h=>{f=l?f&&Km(h):f&&h instanceof gl}),!!f&&Xm(u)&&Qm(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Xm(u){if(u instanceof Ls&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Xf||u instanceof ep)return!1;let l=!0;return u.eachChild(f=>{l&&!Xm(f)&&(l=!1)}),l}function Ad(u){if(u instanceof Ls&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(f=>{l&&!Ad(f)&&(l=!1)}),l}function Qm(u,l){if(u instanceof Ls&&l.indexOf(u.name)>=0)return!1;let f=!0;return u.eachChild(h=>{f&&!Qm(h,l)&&(f=!1)}),f}function Ty(u){return{result:"success",value:u}}function Md(u){return{result:"error",value:u}}function Cd(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function $2(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function Kx(u){return!!u.expression&&u.expression.interpolated}function hn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Ay(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function s3(u){return u}function W2(u,l){let f=l.type==="color",h=u.stops&&typeof u.stops[0][0]=="object",_=h||!(h||u.property!==void 0),w=u.type||(Kx(l)?"exponential":"interval");if(f||l.type==="padding"){let z=f?Cn.parse:ls.parse;(u=wi({},u)).stops&&(u.stops=u.stops.map(U=>[U[0],z(U[1])])),u.default=z(u.default?u.default:l.default)}if(u.colorSpace&&(S=u.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var S;let A,O,k;if(w==="exponential")A=Y2;else if(w==="interval")A=My;else if(w==="categorical"){A=Z2,O=Object.create(null);for(let z of u.stops)O[z[0]]=z[1];k=typeof u.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);A=K2}if(h){let z={},U=[];for(let J=0;J<u.stops.length;J++){let ne=u.stops[J],ce=ne[0].zoom;z[ce]===void 0&&(z[ce]={zoom:ce,type:u.type,property:u.property,default:u.default,stops:[]},U.push(ce)),z[ce].stops.push([ne[0].value,ne[1]])}let W=[];for(let J of U)W.push([z[J].zoom,W2(z[J],l)]);let Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:Ma.interpolationFactor.bind(void 0,Y),zoomStops:W.map(J=>J[0]),evaluate:({zoom:J},ne)=>Y2({stops:W,base:u.base},l,J).evaluate(J,ne)}}if(_){let z=w==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:z,interpolationFactor:Ma.interpolationFactor.bind(void 0,z),zoomStops:u.stops.map(U=>U[0]),evaluate:({zoom:U})=>A(u,l,U,O,k)}}return{kind:"source",evaluate(z,U){let W=U&&U.properties?U.properties[u.property]:void 0;return W===void 0?Od(u.default,l.default):A(u,l,W,O,k)}}}function Od(u,l,f){return u!==void 0?u:l!==void 0?l:f!==void 0?f:void 0}function Z2(u,l,f,h,_){return Od(typeof f===_?h[f]:void 0,u.default,l.default)}function My(u,l,f){if(hn(f)!=="number")return Od(u.default,l.default);let h=u.stops.length;if(h===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[h-1][0])return u.stops[h-1][1];let _=gy(u.stops.map(w=>w[0]),f);return u.stops[_][1]}function Y2(u,l,f){let h=u.base!==void 0?u.base:1;if(hn(f)!=="number")return Od(u.default,l.default);let _=u.stops.length;if(_===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[_-1][0])return u.stops[_-1][1];let w=gy(u.stops.map(z=>z[0]),f),S=function(z,U,W,Y){let J=Y-W,ne=z-W;return J===0?0:U===1?ne/J:(Math.pow(U,ne)-1)/(Math.pow(U,J)-1)}(f,h,u.stops[w][0],u.stops[w+1][0]),A=u.stops[w][1],O=u.stops[w+1][1],k=Aa[l.type]||s3;return typeof A.evaluate=="function"?{evaluate(...z){let U=A.evaluate.apply(void 0,z),W=O.evaluate.apply(void 0,z);if(U!==void 0&&W!==void 0)return k(U,W,S,u.colorSpace)}}:k(A,O,S,u.colorSpace)}function K2(u,l,f){switch(l.type){case"color":f=Cn.parse(f);break;case"formatted":f=ss.fromString(f.toString());break;case"resolvedImage":f=us.fromString(f.toString());break;case"padding":f=ls.parse(f);break;default:hn(f)===l.type||l.type==="enum"&&l.values[f]||(f=void 0);}return Od(f,u.default,l.default)}Ls.register(Td,{error:[{kind:"error"},[Or],(u,[l])=>{throw new Ri(l.evaluate(u))}],typeof:[Or,[Ie],(u,[l])=>H(Vi(l.evaluate(u)))],"to-rgba":[$(wt,4),[Co],(u,[l])=>{let[f,h,_,w]=l.evaluate(u).rgb;return[255*f,255*h,255*_,w]}],rgb:[Co,[wt,wt,wt],Wx],rgba:[Co,[wt,wt,wt,wt],Wx],has:{type:hr,overloads:[[[Or],(u,[l])=>Zx(l.evaluate(u),u.properties())],[[Or,as],(u,[l,f])=>Zx(l.evaluate(u),f.evaluate(u))]]},get:{type:Ie,overloads:[[[Or],(u,[l])=>Yx(l.evaluate(u),u.properties())],[[Or,as],(u,[l,f])=>Yx(l.evaluate(u),f.evaluate(u))]]},"feature-state":[Ie,[Or],(u,[l])=>Yx(l.evaluate(u),u.featureState||{})],properties:[as,[],u=>u.properties()],"geometry-type":[Or,[],u=>u.geometryType()],id:[Ie,[],u=>u.id()],zoom:[wt,[],u=>u.globals.zoom],"heatmap-density":[wt,[],u=>u.globals.heatmapDensity||0],"line-progress":[wt,[],u=>u.globals.lineProgress||0],accumulated:[Ie,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[wt,tp(wt),(u,l)=>{let f=0;for(let h of l)f+=h.evaluate(u);return f}],"*":[wt,tp(wt),(u,l)=>{let f=1;for(let h of l)f*=h.evaluate(u);return f}],"-":{type:wt,overloads:[[[wt,wt],(u,[l,f])=>l.evaluate(u)-f.evaluate(u)],[[wt],(u,[l])=>-l.evaluate(u)]]},"/":[wt,[wt,wt],(u,[l,f])=>l.evaluate(u)/f.evaluate(u)],"%":[wt,[wt,wt],(u,[l,f])=>l.evaluate(u)%f.evaluate(u)],ln2:[wt,[],()=>Math.LN2],pi:[wt,[],()=>Math.PI],e:[wt,[],()=>Math.E],"^":[wt,[wt,wt],(u,[l,f])=>Math.pow(l.evaluate(u),f.evaluate(u))],sqrt:[wt,[wt],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[wt,[wt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[wt,[wt],(u,[l])=>Math.log(l.evaluate(u))],log2:[wt,[wt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[wt,[wt],(u,[l])=>Math.sin(l.evaluate(u))],cos:[wt,[wt],(u,[l])=>Math.cos(l.evaluate(u))],tan:[wt,[wt],(u,[l])=>Math.tan(l.evaluate(u))],asin:[wt,[wt],(u,[l])=>Math.asin(l.evaluate(u))],acos:[wt,[wt],(u,[l])=>Math.acos(l.evaluate(u))],atan:[wt,[wt],(u,[l])=>Math.atan(l.evaluate(u))],min:[wt,tp(wt),(u,l)=>Math.min(...l.map(f=>f.evaluate(u)))],max:[wt,tp(wt),(u,l)=>Math.max(...l.map(f=>f.evaluate(u)))],abs:[wt,[wt],(u,[l])=>Math.abs(l.evaluate(u))],round:[wt,[wt],(u,[l])=>{let f=l.evaluate(u);return f<0?-Math.round(-f):Math.round(f)}],floor:[wt,[wt],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[wt,[wt],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[hr,[Or,Ie],(u,[l,f])=>u.properties()[l.value]===f.value],"filter-id-==":[hr,[Ie],(u,[l])=>u.id()===l.value],"filter-type-==":[hr,[Or],(u,[l])=>u.geometryType()===l.value],"filter-<":[hr,[Or,Ie],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h<_}],"filter-id-<":[hr,[Ie],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f<h}],"filter->":[hr,[Or,Ie],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h>_}],"filter-id->":[hr,[Ie],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f>h}],"filter-<=":[hr,[Or,Ie],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h<=_}],"filter-id-<=":[hr,[Ie],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f<=h}],"filter->=":[hr,[Or,Ie],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h>=_}],"filter-id->=":[hr,[Ie],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f>=h}],"filter-has":[hr,[Ie],(u,[l])=>l.value in u.properties()],"filter-has-id":[hr,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[hr,[$(Or)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[hr,[$(Ie)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[hr,[Or,$(Ie)],(u,[l,f])=>f.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[hr,[Or,$(Ie)],(u,[l,f])=>function(h,_,w,S){for(;w<=S;){let A=w+S>>1;if(_[A]===h)return!0;_[A]>h?S=A-1:w=A+1}return!1}(u.properties()[l.value],f.value,0,f.value.length-1)],all:{type:hr,overloads:[[[hr,hr],(u,[l,f])=>l.evaluate(u)&&f.evaluate(u)],[tp(hr),(u,l)=>{for(let f of l)if(!f.evaluate(u))return!1;return!0}]]},any:{type:hr,overloads:[[[hr,hr],(u,[l,f])=>l.evaluate(u)||f.evaluate(u)],[tp(hr),(u,l)=>{for(let f of l)if(f.evaluate(u))return!0;return!1}]]},"!":[hr,[hr],(u,[l])=>!l.evaluate(u)],"is-supported-script":[hr,[Or],(u,[l])=>{let f=u.globals&&u.globals.isSupportedScript;return!f||f(l.evaluate(u))}],upcase:[Or,[Or],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[Or,[Or],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[Or,tp(Ie),(u,l)=>l.map(f=>Vm(f.evaluate(u))).join("")],"resolved-locale":[Or,[De],(u,[l])=>l.evaluate(u).resolvedLocale()]});class Cy{constructor(l,f){var h;this.expression=l,this._warningHistory={},this._evaluator=new hy,this._defaultValue=f?(h=f).type==="color"&&Ay(h.default)?new Cn(0,0,0,0):h.type==="color"?Cn.parse(h.default)||null:h.type==="padding"?ls.parse(h.default)||null:h.type==="variableAnchorOffsetCollection"?Ds.parse(h.default)||null:h.default===void 0?null:h.default:null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(l,f,h,_,w,S){return this._evaluator.globals=l,this._evaluator.feature=f,this._evaluator.featureState=h,this._evaluator.canonical=_,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(l,f,h,_,w,S){this._evaluator.globals=l,this._evaluator.feature=f||null,this._evaluator.featureState=h||null,this._evaluator.canonical=_,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S||null;try{let A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Ri(`Expected value to be one of ${Object.keys(this._enumValues).map(O=>JSON.stringify(O)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console!="undefined"&&console.warn(A.message)),this._defaultValue}}}function Oy(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Td}function Dd(u,l){let f=new Zf(Td,Km,[],l?function(_){let w={color:Co,string:Or,number:wt,enum:Or,boolean:hr,formatted:ct,padding:Lt,resolvedImage:Dt,variableAnchorOffsetCollection:ae};return _.type==="array"?$(w[_.value]||Ie,_.length):w[_.type]}(l):void 0),h=f.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?Ty(new Cy(h,l)):Md(f.errors)}class Ld{constructor(l,f){this.kind=l,this._styleExpression=f,this.isStateDependent=l!=="constant"&&!Ad(f.expression)}evaluateWithoutErrorHandling(l,f,h,_,w,S){return this._styleExpression.evaluateWithoutErrorHandling(l,f,h,_,w,S)}evaluate(l,f,h,_,w,S){return this._styleExpression.evaluate(l,f,h,_,w,S)}}class Pd{constructor(l,f,h,_){this.kind=l,this.zoomStops=h,this._styleExpression=f,this.isStateDependent=l!=="camera"&&!Ad(f.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,f,h,_,w,S){return this._styleExpression.evaluateWithoutErrorHandling(l,f,h,_,w,S)}evaluate(l,f,h,_,w,S){return this._styleExpression.evaluate(l,f,h,_,w,S)}interpolationFactor(l,f,h){return this.interpolationType?Ma.interpolationFactor(this.interpolationType,l,f,h):0}}function Xx(u,l){let f=Dd(u,l);if(f.result==="error")return f;let h=f.value.expression,_=Xm(h);if(!_&&!Cd(l))return Md([new Tn("","data expressions not supported")]);let w=Qm(h,["zoom"]);if(!w&&!$2(l))return Md([new Tn("","zoom expressions not supported")]);let S=Jm(h);return S||w?S instanceof Tn?Md([S]):S instanceof Ma&&!Kx(l)?Md([new Tn("","\"interpolate\" expressions cannot be used with this property")]):Ty(S?new Pd(_?"camera":"composite",f.value,S.labels,S instanceof Ma?S.interpolation:void 0):new Ld(_?"constant":"source",f.value)):Md([new Tn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class Nd{constructor(l,f){this._parameters=l,this._specification=f,wi(this,W2(this._parameters,this._specification))}static deserialize(l){return new Nd(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Jm(u){let l=null;if(u instanceof kc)l=Jm(u.result);else if(u instanceof yy){for(let f of u.args)if(l=Jm(f),l)break}else(u instanceof Sd||u instanceof Ma)&&u.input instanceof Ls&&u.input.name==="zoom"&&(l=u);return l instanceof Tn||u.eachChild(f=>{let h=Jm(f);h instanceof Tn?l=h:!l&&h?l=new Tn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):l&&h&&l!==h&&(l=new Tn("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),l}function Dy(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(let l of u.slice(1))if(!Dy(l)&&typeof l!="boolean")return!1;return!0;default:return!0;}}let Ly={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qx(u){if(u==null)return{filter:()=>!0,needGeometry:!1};Dy(u)||(u=Py(u));let l=Dd(u,Ly);if(l.result==="error")throw new Error(l.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,h,_)=>l.value.evaluate(f,h,{},_),needGeometry:X2(u)}}function l3(u,l){return u<l?-1:u>l?1:0}function X2(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let l=1;l<u.length;l++)if(X2(u[l]))return!0;return!1}function Py(u){if(!u)return!0;let l=u[0];return u.length<=1?l!=="any":l==="=="?Jx(u[1],u[2],"=="):l==="!="?Oo(Jx(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Jx(u[1],u[2],l):l==="any"?(f=u.slice(1),["any"].concat(f.map(Py))):l==="all"?["all"].concat(u.slice(1).map(Py)):l==="none"?["all"].concat(u.slice(1).map(Py).map(Oo)):l==="in"?eg(u[1],u.slice(2)):l==="!in"?Oo(eg(u[1],u.slice(2))):l==="has"?tg(u[1]):l!=="!has"||Oo(tg(u[1]));var f}function Jx(u,l,f){switch(u){case"$type":return[`filter-type-${f}`,l];case"$id":return[`filter-id-${f}`,l];default:return[`filter-${f}`,u,l];}}function eg(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(f=>typeof f!=typeof l[0])?["filter-in-large",u,["literal",l.sort(l3)]]:["filter-in-small",u,["literal",l]];}}function tg(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u];}}function Oo(u){return["!",u]}function rp(u){let l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let _="[";for(let w of u)_+=`${rp(w)},`;return`${_}]`}let f=Object.keys(u).sort(),h="{";for(let _=0;_<f.length;_++)h+=`${JSON.stringify(f[_])}:${rp(u[f[_]])},`;return`${h}}`}function Q2(u){let l="";for(let f of ft)l+=`/${rp(u[f])}`;return l}function J2(u){let l=u.value;return l?[new lt(u.key,l,"constants have been deprecated as of v8")]:[]}function Di(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function _l(u){if(Array.isArray(u))return u.map(_l);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){let l={};for(let f in u)l[f]=_l(u[f]);return l}return Di(u)}function cs(u){let l=u.key,f=u.value,h=u.valueSpec||{},_=u.objectElementValidators||{},w=u.style,S=u.styleSpec,A=u.validateSpec,O=[],k=hn(f);if(k!=="object")return[new lt(l,f,`object expected, ${k} found`)];for(let z in f){let U=z.split(".")[0],W=h[U]||h["*"],Y;if(_[U])Y=_[U];else if(h[U])Y=A;else if(_["*"])Y=_["*"];else{if(!h["*"]){O.push(new lt(l,f[z],`unknown property "${z}"`));continue}Y=A}O=O.concat(Y({key:(l&&`${l}.`)+z,value:f[z],valueSpec:W,style:w,styleSpec:S,object:f,objectKey:z,validateSpec:A},f))}for(let z in h)_[z]||h[z].required&&h[z].default===void 0&&f[z]===void 0&&O.push(new lt(l,f,`missing required property "${z}"`));return O}function rg(u){let l=u.value,f=u.valueSpec,h=u.style,_=u.styleSpec,w=u.key,S=u.arrayElementValidator||u.validateSpec;if(hn(l)!=="array")return[new lt(w,l,`array expected, ${hn(l)} found`)];if(f.length&&l.length!==f.length)return[new lt(w,l,`array length ${f.length} expected, length ${l.length} found`)];if(f["min-length"]&&l.length<f["min-length"])return[new lt(w,l,`array length at least ${f["min-length"]} expected, length ${l.length} found`)];let A={type:f.value,values:f.values};_.$version<7&&(A.function=f.function),hn(f.value)==="object"&&(A=f.value);let O=[];for(let k=0;k<l.length;k++)O=O.concat(S({array:l,arrayIndex:k,value:l[k],valueSpec:A,validateSpec:u.validateSpec,style:h,styleSpec:_,key:`${w}[${k}]`}));return O}function eb(u){let l=u.key,f=u.value,h=u.valueSpec,_=hn(f);return _==="number"&&f!=f&&(_="NaN"),_!=="number"?[new lt(l,f,`number expected, ${_} found`)]:"minimum"in h&&f<h.minimum?[new lt(l,f,`${f} is less than the minimum value ${h.minimum}`)]:"maximum"in h&&f>h.maximum?[new lt(l,f,`${f} is greater than the maximum value ${h.maximum}`)]:[]}function Ny(u){let l=u.valueSpec,f=Di(u.value.type),h,_,w,S={},A=f!=="categorical"&&u.value.property===void 0,O=!A,k=hn(u.value.stops)==="array"&&hn(u.value.stops[0])==="array"&&hn(u.value.stops[0][0])==="object",z=cs({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(Y){if(f==="identity")return[new lt(Y.key,Y.value,"identity function may not have a \"stops\" property")];let J=[],ne=Y.value;return J=J.concat(rg({key:Y.key,value:ne,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:U})),hn(ne)==="array"&&ne.length===0&&J.push(new lt(Y.key,ne,"array must have at least one stop")),J},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return f==="identity"&&A&&z.push(new lt(u.key,u.value,"missing required property \"property\"")),f==="identity"||u.value.stops||z.push(new lt(u.key,u.value,"missing required property \"stops\"")),f==="exponential"&&u.valueSpec.expression&&!Kx(u.valueSpec)&&z.push(new lt(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(O&&!Cd(u.valueSpec)?z.push(new lt(u.key,u.value,"property functions not supported")):A&&!$2(u.valueSpec)&&z.push(new lt(u.key,u.value,"zoom functions not supported"))),f!=="categorical"&&!k||u.value.property!==void 0||z.push(new lt(u.key,u.value,"\"property\" property is required")),z;function U(Y){let J=[],ne=Y.value,ce=Y.key;if(hn(ne)!=="array")return[new lt(ce,ne,`array expected, ${hn(ne)} found`)];if(ne.length!==2)return[new lt(ce,ne,`array length 2 expected, length ${ne.length} found`)];if(k){if(hn(ne[0])!=="object")return[new lt(ce,ne,`object expected, ${hn(ne[0])} found`)];if(ne[0].zoom===void 0)return[new lt(ce,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new lt(ce,ne,"object stop key must have value")];if(w&&w>Di(ne[0].zoom))return[new lt(ce,ne[0].zoom,"stop zoom values must appear in ascending order")];Di(ne[0].zoom)!==w&&(w=Di(ne[0].zoom),_=void 0,S={}),J=J.concat(cs({key:`${ce}[0]`,value:ne[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:eb,value:W}}))}else J=J.concat(W({key:`${ce}[0]`,value:ne[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},ne));return Oy(_l(ne[1]))?J.concat([new lt(`${ce}[1]`,ne[1],"expressions are not allowed in function stops.")]):J.concat(Y.validateSpec({key:`${ce}[1]`,value:ne[1],valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function W(Y,J){let ne=hn(Y.value),ce=Di(Y.value),he=Y.value!==null?Y.value:J;if(h){if(ne!==h)return[new lt(Y.key,he,`${ne} stop domain type must match previous stop domain type ${h}`)]}else h=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean")return[new lt(Y.key,he,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&f!=="categorical"){let qe=`number expected, ${ne} found`;return Cd(l)&&f===void 0&&(qe+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new lt(Y.key,he,qe)]}return f!=="categorical"||ne!=="number"||isFinite(ce)&&Math.floor(ce)===ce?f!=="categorical"&&ne==="number"&&_!==void 0&&ce<_?[new lt(Y.key,he,"stop domain values must appear in ascending order")]:(_=ce,f==="categorical"&&ce in S?[new lt(Y.key,he,"stop domain values must be unique")]:(S[ce]=!0,[])):[new lt(Y.key,he,`integer expected, found ${ce}`)]}}function Rd(u){let l=(u.expressionContext==="property"?Xx:Dd)(_l(u.value),u.valueSpec);if(l.result==="error")return l.value.map(h=>new lt(`${u.key}${h.key}`,u.value,h.message));let f=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!f.outputDefined())return[new lt(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Ad(f))return[new lt(u.key,u.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(u.expressionContext==="filter"&&!Ad(f))return[new lt(u.key,u.value,"\"feature-state\" data expressions are not supported with filters.")];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Qm(f,["zoom","feature-state"]))return[new lt(u.key,u.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(u.expressionContext==="cluster-initial"&&!Xm(f))return[new lt(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ju(u){let l=u.key,f=u.value,h=u.valueSpec,_=[];return Array.isArray(h.values)?h.values.indexOf(Di(f))===-1&&_.push(new lt(l,f,`expected one of [${h.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(h.values).indexOf(Di(f))===-1&&_.push(new lt(l,f,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(f)} found`)),_}function tb(u){return Dy(_l(u.value))?Rd(wi({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ry(u)}function Ry(u){let l=u.value,f=u.key;if(hn(l)!=="array")return[new lt(f,l,`array expected, ${hn(l)} found`)];let h=u.styleSpec,_,w=[];if(l.length<1)return[new lt(f,l,"filter array must have at least 1 element")];switch(w=w.concat(Ju({key:`${f}[0]`,value:l[0],valueSpec:h.filter_operator,style:u.style,styleSpec:u.styleSpec})),Di(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Di(l[1])==="$type"&&w.push(new lt(f,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&w.push(new lt(f,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=hn(l[1]),_!=="string"&&w.push(new lt(`${f}[1]`,l[1],`string expected, ${_} found`)));for(let S=2;S<l.length;S++)_=hn(l[S]),Di(l[1])==="$type"?w=w.concat(Ju({key:`${f}[${S}]`,value:l[S],valueSpec:h.geometry_type,style:u.style,styleSpec:u.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&w.push(new lt(`${f}[${S}]`,l[S],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let S=1;S<l.length;S++)w=w.concat(Ry({key:`${f}[${S}]`,value:l[S],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":_=hn(l[1]),l.length!==2?w.push(new lt(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&w.push(new lt(`${f}[1]`,l[1],`string expected, ${_} found`));}return w}function rb(u,l){let f=u.key,h=u.validateSpec,_=u.style,w=u.styleSpec,S=u.value,A=u.objectKey,O=w[`${l}_${u.layerType}`];if(!O)return[];let k=A.match(/^(.*)-transition$/);if(l==="paint"&&k&&O[k[1]]&&O[k[1]].transition)return h({key:f,value:S,valueSpec:w.transition,style:_,styleSpec:w});let z=u.valueSpec||O[A];if(!z)return[new lt(f,S,`unknown property "${A}"`)];let U;if(hn(S)==="string"&&Cd(z)&&!z.tokens&&(U=/^{([^}]+)}$/.exec(S)))return[new lt(f,S,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(U[1])} }\`.`)];let W=[];return u.layerType==="symbol"&&(A==="text-field"&&_&&!_.glyphs&&W.push(new lt(f,S,"use of \"text-field\" requires a style \"glyphs\" property")),A==="text-font"&&Ay(_l(S))&&Di(S.type)==="identity"&&W.push(new lt(f,S,"\"text-font\" does not support identity functions"))),W.concat(h({key:u.key,value:S,valueSpec:z,style:_,styleSpec:w,expressionContext:"property",propertyType:l,propertyKey:A}))}function ky(u){return rb(u,"paint")}function nb(u){return rb(u,"layout")}function ib(u){let l=[],f=u.value,h=u.key,_=u.style,w=u.styleSpec;f.type||f.ref||l.push(new lt(h,f,"either \"type\" or \"ref\" is required"));let S=Di(f.type),A=Di(f.ref);if(f.id){let O=Di(f.id);for(let k=0;k<u.arrayIndex;k++){let z=_.layers[k];Di(z.id)===O&&l.push(new lt(h,f.id,`duplicate layer id "${f.id}", previously used at line ${z.id.__line__}`))}}if("ref"in f){let O;["type","source","source-layer","filter","layout"].forEach(k=>{k in f&&l.push(new lt(h,f[k],`"${k}" is prohibited for ref layers`))}),_.layers.forEach(k=>{Di(k.id)===A&&(O=k)}),O?O.ref?l.push(new lt(h,f.ref,"ref cannot reference another ref layer")):S=Di(O.type):l.push(new lt(h,f.ref,`ref layer "${A}" not found`))}else if(S!=="background")if(f.source){let O=_.sources&&_.sources[f.source],k=O&&Di(O.type);O?k==="vector"&&S==="raster"?l.push(new lt(h,f.source,`layer "${f.id}" requires a raster source`)):k!=="raster-dem"&&S==="hillshade"?l.push(new lt(h,f.source,`layer "${f.id}" requires a raster-dem source`)):k==="raster"&&S!=="raster"?l.push(new lt(h,f.source,`layer "${f.id}" requires a vector source`)):k!=="vector"||f["source-layer"]?k==="raster-dem"&&S!=="hillshade"?l.push(new lt(h,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!f.paint||!f.paint["line-gradient"]||k==="geojson"&&O.lineMetrics||l.push(new lt(h,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new lt(h,f,`layer "${f.id}" must specify a "source-layer"`)):l.push(new lt(h,f.source,`source "${f.source}" not found`))}else l.push(new lt(h,f,"missing required property \"source\""));return l=l.concat(cs({key:h,value:f,valueSpec:w.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${h}.type`,value:f.type,valueSpec:w.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:f,objectKey:"type"}),filter:tb,layout:O=>cs({layer:f,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":k=>nb(wi({layerType:S},k))}}),paint:O=>cs({layer:f,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":k=>ky(wi({layerType:S},k))}})}})),l}function np(u){let l=u.value,f=u.key,h=hn(l);return h!=="string"?[new lt(f,l,`string expected, ${h} found`)]:[]}let qy={promoteId:function({key:u,value:l}){if(hn(l)==="string")return np({key:u,value:l});{let f=[];for(let h in l)f.push(...np({key:`${u}.${h}`,value:l[h]}));return f}}};function ng(u){let l=u.value,f=u.key,h=u.styleSpec,_=u.style,w=u.validateSpec;if(!l.type)return[new lt(f,l,"\"type\" is required")];let S=Di(l.type),A;switch(S){case"vector":case"raster":return A=cs({key:f,value:l,valueSpec:h[`source_${S.replace("-","_")}`],style:u.style,styleSpec:h,objectElementValidators:qy,validateSpec:w}),A;case"raster-dem":return A=function(O){var k;let z=(k=O.sourceName)!==null&&k!==void 0?k:"",U=O.value,W=O.styleSpec,Y=W.source_raster_dem,J=O.style,ne=[],ce=hn(U);if(U===void 0)return ne;if(ce!=="object")return ne.push(new lt("source_raster_dem",U,`object expected, ${ce} found`)),ne;let he=Di(U.encoding)==="custom",qe=["redFactor","greenFactor","blueFactor","baseShift"],be=O.value.encoding?`"${O.value.encoding}"`:"Default";for(let Pe in U)!he&&qe.includes(Pe)?ne.push(new lt(Pe,U[Pe],`In "${z}": "${Pe}" is only valid when "encoding" is set to "custom". ${be} encoding found`)):Y[Pe]?ne=ne.concat(O.validateSpec({key:Pe,value:U[Pe],valueSpec:Y[Pe],validateSpec:O.validateSpec,style:J,styleSpec:W})):ne.push(new lt(Pe,U[Pe],`unknown property "${Pe}"`));return ne}({sourceName:f,value:l,style:u.style,styleSpec:h,validateSpec:w}),A;case"geojson":if(A=cs({key:f,value:l,valueSpec:h.source_geojson,style:_,styleSpec:h,validateSpec:w,objectElementValidators:qy}),l.cluster)for(let O in l.clusterProperties){let[k,z]=l.clusterProperties[O],U=typeof k=="string"?[k,["accumulated"],["get",O]]:k;A.push(...Rd({key:`${f}.${O}.map`,value:z,validateSpec:w,expressionContext:"cluster-map"})),A.push(...Rd({key:`${f}.${O}.reduce`,value:U,validateSpec:w,expressionContext:"cluster-reduce"}))}return A;case"video":return cs({key:f,value:l,valueSpec:h.source_video,style:_,validateSpec:w,styleSpec:h});case"image":return cs({key:f,value:l,valueSpec:h.source_image,style:_,validateSpec:w,styleSpec:h});case"canvas":return[new lt(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ju({key:`${f}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:w,styleSpec:h});}}function ob(u){let l=u.value,f=u.styleSpec,h=f.light,_=u.style,w=[],S=hn(l);if(l===void 0)return w;if(S!=="object")return w=w.concat([new lt("light",l,`object expected, ${S} found`)]),w;for(let A in l){let O=A.match(/^(.*)-transition$/);w=w.concat(O&&h[O[1]]&&h[O[1]].transition?u.validateSpec({key:A,value:l[A],valueSpec:f.transition,validateSpec:u.validateSpec,style:_,styleSpec:f}):h[A]?u.validateSpec({key:A,value:l[A],valueSpec:h[A],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new lt(A,l[A],`unknown property "${A}"`)])}return w}function ab(u){let l=u.value,f=u.styleSpec,h=f.sky,_=u.style,w=hn(l);if(l===void 0)return[];if(w!=="object")return[new lt("sky",l,`object expected, ${w} found`)];let S=[];for(let A in l)S=S.concat(h[A]?u.validateSpec({key:A,value:l[A],valueSpec:h[A],style:_,styleSpec:f}):[new lt(A,l[A],`unknown property "${A}"`)]);return S}function sb(u){let l=u.value,f=u.styleSpec,h=f.terrain,_=u.style,w=[],S=hn(l);if(l===void 0)return w;if(S!=="object")return w=w.concat([new lt("terrain",l,`object expected, ${S} found`)]),w;for(let A in l)w=w.concat(h[A]?u.validateSpec({key:A,value:l[A],valueSpec:h[A],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new lt(A,l[A],`unknown property "${A}"`)]);return w}function lb(u){let l=[],f=u.value,h=u.key;if(Array.isArray(f)){let _=[],w=[];for(let S in f)f[S].id&&_.includes(f[S].id)&&l.push(new lt(h,f,`all the sprites' ids must be unique, but ${f[S].id} is duplicated`)),_.push(f[S].id),f[S].url&&w.includes(f[S].url)&&l.push(new lt(h,f,`all the sprites' URLs must be unique, but ${f[S].url} is duplicated`)),w.push(f[S].url),l=l.concat(cs({key:`${h}[${S}]`,value:f[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return np({key:h,value:f})}let jy={"*":()=>[],array:rg,boolean:function(u){let l=u.value,f=u.key,h=hn(l);return h!=="boolean"?[new lt(f,l,`boolean expected, ${h} found`)]:[]},number:eb,color:function(u){let l=u.key,f=u.value,h=hn(f);return h!=="string"?[new lt(l,f,`color expected, ${h} found`)]:Cn.parse(String(f))?[]:[new lt(l,f,`color expected, "${f}" found`)]},constants:J2,enum:Ju,filter:tb,function:Ny,layer:ib,object:cs,source:ng,light:ob,sky:ab,terrain:sb,projection:function(u){let l=u.value,f=u.styleSpec,h=f.projection,_=u.style,w=hn(l);if(l===void 0)return[];if(w!=="object")return[new lt("projection",l,`object expected, ${w} found`)];let S=[];for(let A in l)S=S.concat(h[A]?u.validateSpec({key:A,value:l[A],valueSpec:h[A],style:_,styleSpec:f}):[new lt(A,l[A],`unknown property "${A}"`)]);return S},string:np,formatted:function(u){return np(u).length===0?[]:Rd(u)},resolvedImage:function(u){return np(u).length===0?[]:Rd(u)},padding:function(u){let l=u.key,f=u.value;if(hn(f)==="array"){if(f.length<1||f.length>4)return[new lt(l,f,`padding requires 1 to 4 values; ${f.length} values found`)];let h={type:"number"},_=[];for(let w=0;w<f.length;w++)_=_.concat(u.validateSpec({key:`${l}[${w}]`,value:f[w],validateSpec:u.validateSpec,valueSpec:h}));return _}return eb({key:l,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(u){let l=u.key,f=u.value,h=hn(f),_=u.styleSpec;if(h!=="array"||f.length<1||f.length%2!=0)return[new lt(l,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let w=[];for(let S=0;S<f.length;S+=2)w=w.concat(Ju({key:`${l}[${S}]`,value:f[S],valueSpec:_.layout_symbol["text-anchor"]})),w=w.concat(rg({key:`${l}[${S+1}]`,value:f[S+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:_}));return w},sprite:lb};function kd(u){let l=u.value,f=u.valueSpec,h=u.styleSpec;return u.validateSpec=kd,f.expression&&Ay(Di(l))?Ny(u):f.expression&&Oy(_l(l))?Rd(u):f.type&&jy[f.type]?jy[f.type](u):cs(wi({},u,{valueSpec:f.type?h[f.type]:f}))}function eA(u){let l=u.value,f=u.key,h=np(u);return h.length||(l.indexOf("{fontstack}")===-1&&h.push(new lt(f,l,"\"glyphs\" url must include a \"{fontstack}\" token")),l.indexOf("{range}")===-1&&h.push(new lt(f,l,"\"glyphs\" url must include a \"{range}\" token"))),h}function Ps(u,l=Se){let f=[];return f=f.concat(kd({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:kd,objectElementValidators:{glyphs:eA,"*":()=>[]}})),u.constants&&(f=f.concat(J2({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:kd}))),ub(f)}function Kl(u){return function(l){return u(wr(et({},l),{validateSpec:kd}))}}function ub(u){return[].concat(u).sort((l,f)=>l.line-f.line)}function xl(u){return function(...l){return ub(u.apply(this,l))}}Ps.source=xl(Kl(ng)),Ps.sprite=xl(Kl(lb)),Ps.glyphs=xl(Kl(eA)),Ps.light=xl(Kl(ob)),Ps.sky=xl(Kl(ab)),Ps.terrain=xl(Kl(sb)),Ps.layer=xl(Kl(ib)),Ps.filter=xl(Kl(tb)),Ps.paintProperty=xl(Kl(ky)),Ps.layoutProperty=xl(Kl(nb));let ip=Ps,u3=ip.light,c3=ip.sky,tA=ip.paintProperty,rA=ip.layoutProperty;function cb(u,l){let f=!1;if(l&&l.length)for(let h of l)u.fire(new _t(new Error(h.message))),f=!0;return f}class qd{constructor(l,f,h){let _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;let S=new Int32Array(this.arrayBuffer);l=S[0],this.d=(f=S[1])+2*(h=S[2]);for(let O=0;O<this.d*this.d;O++){let k=S[3+O],z=S[3+O+1];_.push(k===z?null:S.subarray(k,z))}let A=S[3+_.length+1];this.keys=S.subarray(S[3+_.length],A),this.bboxes=S.subarray(A),this.insert=this._insertReadonly}else{this.d=f+2*h;for(let S=0;S<this.d*this.d;S++)_.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=l,this.padding=h,this.scale=f/l,this.uid=0;let w=h/f*l;this.min=-w,this.max=l+w}insert(l,f,h,_,w){this._forEachCell(f,h,_,w,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(f),this.bboxes.push(h),this.bboxes.push(_),this.bboxes.push(w)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,f,h,_,w,S){this.cells[w].push(S)}query(l,f,h,_,w){let S=this.min,A=this.max;if(l<=S&&f<=S&&A<=h&&A<=_&&!w)return Array.prototype.slice.call(this.keys);{let O=[];return this._forEachCell(l,f,h,_,this._queryCell,O,{},w),O}}_queryCell(l,f,h,_,w,S,A,O){let k=this.cells[w];if(k!==null){let z=this.keys,U=this.bboxes;for(let W=0;W<k.length;W++){let Y=k[W];if(A[Y]===void 0){let J=4*Y;(O?O(U[J+0],U[J+1],U[J+2],U[J+3]):l<=U[J+2]&&f<=U[J+3]&&h>=U[J+0]&&_>=U[J+1])?(A[Y]=!0,S.push(z[Y])):A[Y]=!1}}}}_forEachCell(l,f,h,_,w,S,A,O){let k=this._convertToCellCoord(l),z=this._convertToCellCoord(f),U=this._convertToCellCoord(h),W=this._convertToCellCoord(_);for(let Y=k;Y<=U;Y++)for(let J=z;J<=W;J++){let ne=this.d*J+Y;if((!O||O(this._convertFromCellCoord(Y),this._convertFromCellCoord(J),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(J+1)))&&w.call(this,l,f,h,_,ne,S,A,O))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let l=this.cells,f=3+this.cells.length+1+1,h=0;for(let S=0;S<this.cells.length;S++)h+=this.cells[S].length;let _=new Int32Array(f+h+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let w=f;for(let S=0;S<l.length;S++){let A=l[S];_[3+S]=w,_.set(A,w),w+=A.length}return _[3+l.length]=w,_.set(this.keys,w),w+=this.keys.length,_[3+l.length+1]=w,_.set(this.bboxes,w),w+=this.bboxes.length,_.buffer}static serialize(l,f){let h=l.toArrayBuffer();return f&&f.push(h),{buffer:h}}static deserialize(l){return new qd(l.buffer)}}let Ns={};function Ut(u,l,f={}){if(Ns[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Ns[u]={klass:l,omit:f.omit||[],shallow:f.shallow||[]}}Ut("Object",Object),Ut("TransferableGridIndex",qd),Ut("Color",Cn),Ut("Error",Error),Ut("AJAXError",Ce),Ut("ResolvedImage",us),Ut("StylePropertyFunction",Nd),Ut("StyleExpression",Cy,{omit:["_evaluator"]}),Ut("ZoomDependentExpression",Pd),Ut("ZoomConstantExpression",Ld),Ut("CompoundExpression",Ls,{omit:["_evaluate"]});for(let u in Td)Td[u]._classRegistryKey||Ut(`Expression_${u}`,Td[u]);function zy(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function fb(u){return u.$name||u.constructor._classRegistryKey}function nA(u){return!function(l){if(l===null||typeof l!="object")return!1;let f=fb(l);return!(!f||f==="Object")}(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||zy(u)||Ye(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function jd(u,l){if(nA(u))return(zy(u)||Ye(u))&&l&&l.push(u),ArrayBuffer.isView(u)&&l&&l.push(u.buffer),u instanceof ImageData&&l&&l.push(u.data.buffer),u;if(Array.isArray(u)){let w=[];for(let S of u)w.push(jd(S,l));return w}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);let f=fb(u);if(!f)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Ns[f])throw new Error(`${f} is not registered.`);let{klass:h}=Ns[f],_=h.serialize?h.serialize(u,l):{};if(h.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let w in u){if(!u.hasOwnProperty(w)||Ns[f].omit.indexOf(w)>=0)continue;let S=u[w];_[w]=Ns[f].shallow.indexOf(w)>=0?S:jd(S,l)}u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(_.$name=f),_}function zd(u){if(nA(u))return u;if(Array.isArray(u))return u.map(zd);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);let l=fb(u)||"Object";if(!Ns[l])throw new Error(`can't deserialize unregistered class ${l}`);let{klass:f}=Ns[l];if(!f)throw new Error(`can't deserialize unregistered class ${l}`);if(f.deserialize)return f.deserialize(u);let h=Object.create(f.prototype);for(let _ of Object.keys(u)){if(_==="$name")continue;let w=u[_];h[_]=Ns[l].shallow.indexOf(_)>=0?w:zd(w)}return h}class pb{constructor(){this.first=!0}update(l,f){let h=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=h,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=h,!0):(this.lastFloorZoom>h?(this.lastIntegerZoom=h+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<h&&(this.lastIntegerZoom=h,this.lastIntegerZoomTime=f),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=h,!0))}}let Jr={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function db(u){for(let l of u)if(mb(l.charCodeAt(0)))return!0;return!1}function f3(u){for(let l of u)if(!Fd(l.charCodeAt(0)))return!1;return!0}function hb(u){let l=u.map(f=>{try{return new RegExp(`\\p{sc=${f}}`,"u").source}catch(h){return null}}).filter(f=>f);return new RegExp(l.join("|"),"u")}let p3=hb(["Arab","Dupl","Mong","Ougr","Syrc"]);function Fd(u){return!p3.test(String.fromCodePoint(u))}let iA=hb(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function mb(u){return!(u!==746&&u!==747&&(u<4352||!(Jr["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Jr["CJK Compatibility"](u)||Jr["CJK Strokes"](u)||!(!Jr["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Jr["Enclosed CJK Letters and Months"](u)||Jr["Ideographic Description Characters"](u)||Jr.Kanbun(u)||Jr.Katakana(u)&&u!==12540||!(!Jr["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Jr["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Jr["Vertical Forms"](u)||Jr["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||iA.test(String.fromCodePoint(u)))))}function oA(u){return!(mb(u)||function(l){return!!(Jr["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Jr["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Jr["Letterlike Symbols"](l)||Jr["Number Forms"](l)||Jr["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Jr["Control Pictures"](l)&&l!==9251||Jr["Optical Character Recognition"](l)||Jr["Enclosed Alphanumerics"](l)||Jr["Geometric Shapes"](l)||Jr["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Jr["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Jr["CJK Symbols and Punctuation"](l)||Jr.Katakana(l)||Jr["Private Use Area"](l)||Jr["CJK Compatibility Forms"](l)||Jr["Small Form Variants"](l)||Jr["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}let d3=hb(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function gb(u){return d3.test(String.fromCodePoint(u))}function h3(u,l){return!(!l&&gb(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Jr.Khmer(u))}function m3(u){for(let l of u)if(gb(l.charCodeAt(0)))return!0;return!1}let fs=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class ti{constructor(l,f){this.zoom=l,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new pb,this.transition={})}isSupportedScript(l){return function(f,h){for(let _ of f)if(!h3(_.charCodeAt(0),h))return!1;return!0}(l,fs.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let l=this.zoom,f=l-Math.floor(l),h=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*h}:{fromScale:.5,toScale:1,t:1-(1-h)*f}}}class Bd{constructor(l,f){this.property=l,this.value=f,this.expression=function(h,_){if(Ay(h))return new Nd(h,_);if(Oy(h)){let w=Xx(h,_);if(w.result==="error")throw new Error(w.value.map(S=>`${S.key}: ${S.message}`).join(", "));return w.value}{let w=h;return _.type==="color"&&typeof h=="string"?w=Cn.parse(h):_.type!=="padding"||typeof h!="number"&&!Array.isArray(h)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(h)&&(w=Ds.parse(h)):w=ls.parse(h),{kind:"constant",evaluate:()=>w}}}(f===void 0?l.specification.default:f,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,f,h){return this.property.possiblyEvaluate(this,l,f,h)}}class Fy{constructor(l){this.property=l,this.value=new Bd(l,void 0)}transitioned(l,f){return new aA(this.property,this.value,f,re({},l.transition,this.transition),l.now)}untransitioned(){return new aA(this.property,this.value,null,{},0)}}class By{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return pe(this._values[l].value.value)}setValue(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Fy(this._values[l].property)),this._values[l].value=new Bd(this._values[l].property,f===null?void 0:pe(f))}getTransition(l){return pe(this._values[l].transition)}setTransition(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Fy(this._values[l].property)),this._values[l].transition=pe(f)||void 0}serialize(){let l={};for(let f of Object.keys(this._values)){let h=this.getValue(f);h!==void 0&&(l[f]=h);let _=this.getTransition(f);_!==void 0&&(l[`${f}-transition`]=_)}return l}transitioned(l,f){let h=new ig(this._properties);for(let _ of Object.keys(this._values))h._values[_]=this._values[_].transitioned(l,f._values[_]);return h}untransitioned(){let l=new ig(this._properties);for(let f of Object.keys(this._values))l._values[f]=this._values[f].untransitioned();return l}}class aA{constructor(l,f,h,_,w){this.property=l,this.value=f,this.begin=w+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=h)}possiblyEvaluate(l,f,h){let _=l.now||0,w=this.value.possiblyEvaluate(l,f,h),S=this.prior;if(S){if(_>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(_<this.begin)return S.possiblyEvaluate(l,f,h);{let A=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(l,f,h),w,function(O){if(O<=0)return 0;if(O>=1)return 1;let k=O*O,z=k*O;return 4*(O<.5?z:3*(O-k)+z-.75)}(A))}}return w}}class ig{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,f,h){let _=new ag(this._properties);for(let w of Object.keys(this._values))_._values[w]=this._values[w].possiblyEvaluate(l,f,h);return _}hasTransition(){for(let l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class og{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return pe(this._values[l].value)}setValue(l,f){this._values[l]=new Bd(this._values[l].property,f===null?void 0:pe(f))}serialize(){let l={};for(let f of Object.keys(this._values)){let h=this.getValue(f);h!==void 0&&(l[f]=h)}return l}possiblyEvaluate(l,f,h){let _=new ag(this._properties);for(let w of Object.keys(this._values))_._values[w]=this._values[w].possiblyEvaluate(l,f,h);return _}}class Xl{constructor(l,f,h){this.property=l,this.value=f,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,f,h,_){return this.property.evaluate(this.value,this.parameters,l,f,h,_)}}class ag{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Zt{constructor(l){this.specification=l}possiblyEvaluate(l,f){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(f)}interpolate(l,f,h){let _=Aa[this.specification.type];return _?_(l,f,h):l}}class dr{constructor(l,f){this.specification=l,this.overrides=f}possiblyEvaluate(l,f,h,_){return new Xl(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(f,null,{},h,_)}:l.expression,f)}interpolate(l,f,h){if(l.value.kind!=="constant"||f.value.kind!=="constant")return l;if(l.value.value===void 0||f.value.value===void 0)return new Xl(this,{kind:"constant",value:void 0},l.parameters);let _=Aa[this.specification.type];if(_){let w=_(l.value.value,f.value.value,h);return new Xl(this,{kind:"constant",value:w},l.parameters)}return l}evaluate(l,f,h,_,w,S){return l.kind==="constant"?l.value:l.evaluate(f,h,_,w,S)}}class Uy extends dr{possiblyEvaluate(l,f,h,_){if(l.value===void 0)return new Xl(this,{kind:"constant",value:void 0},f);if(l.expression.kind==="constant"){let w=l.expression.evaluate(f,null,{},h,_),S=l.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,A=this._calculate(S,S,S,f);return new Xl(this,{kind:"constant",value:A},f)}if(l.expression.kind==="camera"){let w=this._calculate(l.expression.evaluate({zoom:f.zoom-1}),l.expression.evaluate({zoom:f.zoom}),l.expression.evaluate({zoom:f.zoom+1}),f);return new Xl(this,{kind:"constant",value:w},f)}return new Xl(this,l.expression,f)}evaluate(l,f,h,_,w,S){if(l.kind==="source"){let A=l.evaluate(f,h,_,w,S);return this._calculate(A,A,A,f)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(f.zoom)-1},h,_),l.evaluate({zoom:Math.floor(f.zoom)},h,_),l.evaluate({zoom:Math.floor(f.zoom)+1},h,_),f):l.value}_calculate(l,f,h,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:h,to:f}}interpolate(l){return l}}class Vy{constructor(l){this.specification=l}possiblyEvaluate(l,f,h,_){if(l.value!==void 0){if(l.expression.kind==="constant"){let w=l.expression.evaluate(f,null,{},h,_);return this._calculate(w,w,w,f)}return this._calculate(l.expression.evaluate(new ti(Math.floor(f.zoom-1),f)),l.expression.evaluate(new ti(Math.floor(f.zoom),f)),l.expression.evaluate(new ti(Math.floor(f.zoom+1),f)),f)}}_calculate(l,f,h,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:h,to:f}}interpolate(l){return l}}class vb{constructor(l){this.specification=l}possiblyEvaluate(l,f,h,_){return!!l.expression.evaluate(f,null,{},h,_)}interpolate(){return!1}}class b{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let f in l){let h=l[f];h.specification.overridable&&this.overridableProperties.push(f);let _=this.defaultPropertyValues[f]=new Bd(h,void 0),w=this.defaultTransitionablePropertyValues[f]=new Fy(h);this.defaultTransitioningPropertyValues[f]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=_.possiblyEvaluate({})}}}Ut("DataDrivenProperty",dr),Ut("DataConstantProperty",Zt),Ut("CrossFadedDataDrivenProperty",Uy),Ut("CrossFadedProperty",Vy),Ut("ColorRampProperty",vb);let s="-transition";class p extends gt{constructor(l,f){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),f.layout&&(this._unevaluatedLayout=new og(f.layout)),f.paint)){this._transitionablePaint=new By(f.paint);for(let h in l.paint)this.setPaintProperty(h,l.paint[h],{validate:!1});for(let h in l.layout)this.setLayoutProperty(h,l.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ag(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,f,h={}){f!=null&&this._validate(rA,`layers.${this.id}.layout.${l}`,l,f,h)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,f):this.visibility=f)}getPaintProperty(l){return l.endsWith(s)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,f,h={}){if(f!=null&&this._validate(tA,`layers.${this.id}.paint.${l}`,l,f,h))return!1;if(l.endsWith(s))return this._transitionablePaint.setTransition(l.slice(0,-11),f||void 0),!1;{let _=this._transitionablePaint._values[l],w=_.property.specification["property-type"]==="cross-faded-data-driven",S=_.value.isDataDriven(),A=_.value;this._transitionablePaint.setValue(l,f),this._handleSpecialPaintPropertyUpdate(l);let O=this._transitionablePaint._values[l].value;return O.isDataDriven()||S||w||this._handleOverridablePaintPropertyUpdate(l,A,O)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,f,h){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,f){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,f)}serialize(){let l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),me(l,(f,h)=>!(f===void 0||h==="layout"&&!Object.keys(f).length||h==="paint"&&!Object.keys(f).length))}_validate(l,f,h,_,w={}){return(!w||w.validate!==!1)&&cb(this,l.call(ip,{key:f,layerType:this.type,objectKey:h,value:_,styleSpec:Se,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let l in this.paint._values){let f=this.paint.get(l);if(f instanceof Xl&&Cd(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}let g={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class y{constructor(l,f){this._structArray=l,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class x{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,f){return l._trim(),f&&(l.isTransferred=!0,f.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){let f=Object.create(this.prototype);return f.arrayBuffer=l.arrayBuffer,f.length=l.length,f.capacity=l.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function C(u,l=1){let f=0,h=0;return{members:u.map(_=>{let w=g[_.type].BYTES_PER_ELEMENT,S=f=D(f,Math.max(l,w)),A=_.components||1;return h=Math.max(h,w),f+=w*A,{name:_.name,type:_.type,components:A,offset:S}}),size:D(f,Math.max(h,l)),alignment:l}}function D(u,l){return Math.ceil(u/l)*l}class N extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.int16[_+0]=f,this.int16[_+1]=h,l}}N.prototype.bytesPerElement=4,Ut("StructArrayLayout2i4",N);class F extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.int16[w+0]=f,this.int16[w+1]=h,this.int16[w+2]=_,l}}F.prototype.bytesPerElement=6,Ut("StructArrayLayout3i6",F);class V extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_){let w=this.length;return this.resize(w+1),this.emplace(w,l,f,h,_)}emplace(l,f,h,_,w){let S=4*l;return this.int16[S+0]=f,this.int16[S+1]=h,this.int16[S+2]=_,this.int16[S+3]=w,l}}V.prototype.bytesPerElement=8,Ut("StructArrayLayout4i8",V);class G extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S){let A=this.length;return this.resize(A+1),this.emplace(A,l,f,h,_,w,S)}emplace(l,f,h,_,w,S,A){let O=6*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.int16[O+2]=_,this.int16[O+3]=w,this.int16[O+4]=S,this.int16[O+5]=A,l}}G.prototype.bytesPerElement=12,Ut("StructArrayLayout2i4i12",G);class X extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S){let A=this.length;return this.resize(A+1),this.emplace(A,l,f,h,_,w,S)}emplace(l,f,h,_,w,S,A){let O=4*l,k=8*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.uint8[k+4]=_,this.uint8[k+5]=w,this.uint8[k+6]=S,this.uint8[k+7]=A,l}}X.prototype.bytesPerElement=8,Ut("StructArrayLayout2i4ub8",X);class ie extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.float32[_+0]=f,this.float32[_+1]=h,l}}ie.prototype.bytesPerElement=8,Ut("StructArrayLayout2f8",ie);class le extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S,A,O,k,z){let U=this.length;return this.resize(U+1),this.emplace(U,l,f,h,_,w,S,A,O,k,z)}emplace(l,f,h,_,w,S,A,O,k,z,U){let W=10*l;return this.uint16[W+0]=f,this.uint16[W+1]=h,this.uint16[W+2]=_,this.uint16[W+3]=w,this.uint16[W+4]=S,this.uint16[W+5]=A,this.uint16[W+6]=O,this.uint16[W+7]=k,this.uint16[W+8]=z,this.uint16[W+9]=U,l}}le.prototype.bytesPerElement=20,Ut("StructArrayLayout10ui20",le);class fe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S,A,O,k,z,U,W){let Y=this.length;return this.resize(Y+1),this.emplace(Y,l,f,h,_,w,S,A,O,k,z,U,W)}emplace(l,f,h,_,w,S,A,O,k,z,U,W,Y){let J=12*l;return this.int16[J+0]=f,this.int16[J+1]=h,this.int16[J+2]=_,this.int16[J+3]=w,this.uint16[J+4]=S,this.uint16[J+5]=A,this.uint16[J+6]=O,this.uint16[J+7]=k,this.int16[J+8]=z,this.int16[J+9]=U,this.int16[J+10]=W,this.int16[J+11]=Y,l}}fe.prototype.bytesPerElement=24,Ut("StructArrayLayout4i4ui4i24",fe);class ge extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.float32[w+0]=f,this.float32[w+1]=h,this.float32[w+2]=_,l}}ge.prototype.bytesPerElement=12,Ut("StructArrayLayout3f12",ge);class ye extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint32[1*l+0]=f,l}}ye.prototype.bytesPerElement=4,Ut("StructArrayLayout1ul4",ye);class xe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S,A,O,k){let z=this.length;return this.resize(z+1),this.emplace(z,l,f,h,_,w,S,A,O,k)}emplace(l,f,h,_,w,S,A,O,k,z){let U=10*l,W=5*l;return this.int16[U+0]=f,this.int16[U+1]=h,this.int16[U+2]=_,this.int16[U+3]=w,this.int16[U+4]=S,this.int16[U+5]=A,this.uint32[W+3]=O,this.uint16[U+8]=k,this.uint16[U+9]=z,l}}xe.prototype.bytesPerElement=20,Ut("StructArrayLayout6i1ul2ui20",xe);class ue extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S){let A=this.length;return this.resize(A+1),this.emplace(A,l,f,h,_,w,S)}emplace(l,f,h,_,w,S,A){let O=6*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.int16[O+2]=_,this.int16[O+3]=w,this.int16[O+4]=S,this.int16[O+5]=A,l}}ue.prototype.bytesPerElement=12,Ut("StructArrayLayout2i2i2i12",ue);class Te extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w){let S=this.length;return this.resize(S+1),this.emplace(S,l,f,h,_,w)}emplace(l,f,h,_,w,S){let A=4*l,O=8*l;return this.float32[A+0]=f,this.float32[A+1]=h,this.float32[A+2]=_,this.int16[O+6]=w,this.int16[O+7]=S,l}}Te.prototype.bytesPerElement=16,Ut("StructArrayLayout2f1f2i16",Te);class Oe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S){let A=this.length;return this.resize(A+1),this.emplace(A,l,f,h,_,w,S)}emplace(l,f,h,_,w,S,A){let O=16*l,k=4*l,z=8*l;return this.uint8[O+0]=f,this.uint8[O+1]=h,this.float32[k+1]=_,this.float32[k+2]=w,this.int16[z+6]=S,this.int16[z+7]=A,l}}Oe.prototype.bytesPerElement=16,Ut("StructArrayLayout2ub2f2i16",Oe);class ze extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.uint16[w+0]=f,this.uint16[w+1]=h,this.uint16[w+2]=_,l}}ze.prototype.bytesPerElement=6,Ut("StructArrayLayout3ui6",ze);class rt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he){let qe=this.length;return this.resize(qe+1),this.emplace(qe,l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he)}emplace(l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he,qe){let be=24*l,Pe=12*l,We=48*l;return this.int16[be+0]=f,this.int16[be+1]=h,this.uint16[be+2]=_,this.uint16[be+3]=w,this.uint32[Pe+2]=S,this.uint32[Pe+3]=A,this.uint32[Pe+4]=O,this.uint16[be+10]=k,this.uint16[be+11]=z,this.uint16[be+12]=U,this.float32[Pe+7]=W,this.float32[Pe+8]=Y,this.uint8[We+36]=J,this.uint8[We+37]=ne,this.uint8[We+38]=ce,this.uint32[Pe+10]=he,this.int16[be+22]=qe,l}}rt.prototype.bytesPerElement=48,Ut("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",rt);class dt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he,qe,be,Pe,We,ut,Rt,fr,Pt,At,Qt,$t){let Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he,qe,be,Pe,We,ut,Rt,fr,Pt,At,Qt,$t)}emplace(l,f,h,_,w,S,A,O,k,z,U,W,Y,J,ne,ce,he,qe,be,Pe,We,ut,Rt,fr,Pt,At,Qt,$t,Bt){let Je=32*l,er=16*l;return this.int16[Je+0]=f,this.int16[Je+1]=h,this.int16[Je+2]=_,this.int16[Je+3]=w,this.int16[Je+4]=S,this.int16[Je+5]=A,this.int16[Je+6]=O,this.int16[Je+7]=k,this.uint16[Je+8]=z,this.uint16[Je+9]=U,this.uint16[Je+10]=W,this.uint16[Je+11]=Y,this.uint16[Je+12]=J,this.uint16[Je+13]=ne,this.uint16[Je+14]=ce,this.uint16[Je+15]=he,this.uint16[Je+16]=qe,this.uint16[Je+17]=be,this.uint16[Je+18]=Pe,this.uint16[Je+19]=We,this.uint16[Je+20]=ut,this.uint16[Je+21]=Rt,this.uint16[Je+22]=fr,this.uint32[er+12]=Pt,this.float32[er+13]=At,this.float32[er+14]=Qt,this.uint16[Je+30]=$t,this.uint16[Je+31]=Bt,l}}dt.prototype.bytesPerElement=64,Ut("StructArrayLayout8i15ui1ul2f2ui64",dt);class Ct extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.float32[1*l+0]=f,l}}Ct.prototype.bytesPerElement=4,Ut("StructArrayLayout1f4",Ct);class qt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.uint16[6*l+0]=f,this.float32[w+1]=h,this.float32[w+2]=_,l}}qt.prototype.bytesPerElement=12,Ut("StructArrayLayout1ui2f12",qt);class St extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=4*l;return this.uint32[2*l+0]=f,this.uint16[w+2]=h,this.uint16[w+3]=_,l}}St.prototype.bytesPerElement=8,Ut("StructArrayLayout1ul2ui8",St);class bt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.uint16[_+0]=f,this.uint16[_+1]=h,l}}bt.prototype.bytesPerElement=4,Ut("StructArrayLayout2ui4",bt);class Yt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint16[1*l+0]=f,l}}Yt.prototype.bytesPerElement=2,Ut("StructArrayLayout1ui2",Yt);class xr extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_){let w=this.length;return this.resize(w+1),this.emplace(w,l,f,h,_)}emplace(l,f,h,_,w){let S=4*l;return this.float32[S+0]=f,this.float32[S+1]=h,this.float32[S+2]=_,this.float32[S+3]=w,l}}xr.prototype.bytesPerElement=16,Ut("StructArrayLayout4f16",xr);class It extends y{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new m(this.anchorPointX,this.anchorPointY)}}It.prototype.size=20;class Nt extends xe{get(l){return new It(this,l)}}Ut("CollisionBoxArray",Nt);class yr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}yr.prototype.size=48;class ri extends rt{get(l){return new yr(this,l)}}Ut("PlacedSymbolArray",ri);class Nr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Nr.prototype.size=64;class Yr extends dt{get(l){return new Nr(this,l)}}Ut("SymbolInstanceArray",Yr);class ni extends Ct{getoffsetX(l){return this.float32[1*l+0]}}Ut("GlyphOffsetArray",ni);class Do extends F{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Ut("SymbolLineVertexArray",Do);class bl extends y{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}bl.prototype.size=12;class ii extends qt{get(l){return new bl(this,l)}}Ut("TextAnchorOffsetArray",ii);class Ca extends y{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ca.prototype.size=8;class Jo extends St{get(l){return new Ca(this,l)}}Ut("FeatureIndexArray",Jo);class Lo extends N{}class ea extends N{}class Ql extends N{}class Ud extends G{}class Gy extends X{}class Vd extends ie{}class Rs extends le{}class Hy extends fe{}class yb extends ge{}class ks extends ye{}class qs extends ue{}class jc extends Oe{}class wl extends ze{}class _o extends bt{}let Po=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:ps}=Po;class en{constructor(l=[]){this.segments=l}prepareSegment(l,f,h,_){let w=this.segments[this.segments.length-1];return l>en.MAX_VERTEX_ARRAY_LENGTH&&Fe(`Max vertices per segment is ${en.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!w||w.vertexLength+l>en.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==_)&&(w={vertexOffset:f.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},_!==void 0&&(w.sortKey=_),this.segments.push(w)),w}get(){return this.segments}destroy(){for(let l of this.segments)for(let f in l.vaos)l.vaos[f].destroy()}static simpleSegment(l,f,h,_){return new en([{vertexOffset:l,primitiveOffset:f,vertexLength:h,primitiveLength:_,vaos:{},sortKey:0}])}}function op(u,l){return 256*(u=B(Math.floor(u),0,255))+B(Math.floor(l),0,255)}en.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ut("SegmentVector",en);let Gd=C([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Hd={exports:{}},sA={exports:{}};sA.exports=function(u,l){var f,h,_,w,S,A,O,k;for(h=u.length-(f=3&u.length),_=l,S=3432918353,A=461845907,k=0;k<h;)O=255&u.charCodeAt(k)|(255&u.charCodeAt(++k))<<8|(255&u.charCodeAt(++k))<<16|(255&u.charCodeAt(++k))<<24,++k,_=27492+(65535&(w=5*(65535&(_=(_^=O=(65535&(O=(O=(65535&O)*S+(((O>>>16)*S&65535)<<16)&4294967295)<<15|O>>>17))*A+(((O>>>16)*A&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(O=0,f){case 3:O^=(255&u.charCodeAt(k+2))<<16;case 2:O^=(255&u.charCodeAt(k+1))<<8;case 1:_^=O=(65535&(O=(O=(65535&(O^=255&u.charCodeAt(k)))*S+(((O>>>16)*S&65535)<<16)&4294967295)<<15|O>>>17))*A+(((O>>>16)*A&65535)<<16)&4294967295;}return _^=u.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var g3=sA.exports,lA={exports:{}};lA.exports=function(u,l){for(var f,h=u.length,_=l^h,w=0;h>=4;)f=1540483477*(65535&(f=255&u.charCodeAt(w)|(255&u.charCodeAt(++w))<<8|(255&u.charCodeAt(++w))<<16|(255&u.charCodeAt(++w))<<24))+((1540483477*(f>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),h-=4,++w;switch(h){case 3:_^=(255&u.charCodeAt(w+2))<<16;case 2:_^=(255&u.charCodeAt(w+1))<<8;case 1:_=1540483477*(65535&(_^=255&u.charCodeAt(w)))+((1540483477*(_>>>16)&65535)<<16);}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var zc=g3,uA=lA.exports;Hd.exports=zc,Hd.exports.murmur3=zc,Hd.exports.murmur2=uA;var $y=a(Hd.exports);class sg{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,f,h,_){this.ids.push(Wy(l)),this.positions.push(f,h,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let f=Wy(l),h=0,_=this.ids.length-1;for(;h<_;){let S=h+_>>1;this.ids[S]>=f?_=S:h=S+1}let w=[];for(;this.ids[h]===f;)w.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return w}static serialize(l,f){let h=new Float64Array(l.ids),_=new Uint32Array(l.positions);return Zy(h,_,0,h.length-1),f&&f.push(h.buffer,_.buffer),{ids:h,positions:_}}static deserialize(l){let f=new sg;return f.ids=l.ids,f.positions=l.positions,f.indexed=!0,f}}function Wy(u){let l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:$y(String(u))}function Zy(u,l,f,h){for(;f<h;){let _=u[f+h>>1],w=f-1,S=h+1;for(;;){do w++;while(u[w]<_);do S--;while(u[S]>_);if(w>=S)break;$d(u,w,S),$d(l,3*w,3*S),$d(l,3*w+1,3*S+1),$d(l,3*w+2,3*S+2)}S-f<h-S?(Zy(u,l,f,S),f=S+1):(Zy(u,l,S+1,h),h=S)}}function $d(u,l,f){let h=u[l];u[l]=u[f],u[f]=h}Ut("FeaturePositionMap",sg);class lg{constructor(l,f){this.gl=l.gl,this.location=f}}class cA extends lg{constructor(l,f){super(l,f),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class $Q extends lg{constructor(l,f){super(l,f),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class WQ extends lg{constructor(l,f){super(l,f),this.current=Cn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}let VWe=new Float32Array(16);function v3(u){return[op(255*u.r,255*u.g),op(255*u.b,255*u.a)]}class _b{constructor(l,f,h){this.value=l,this.uniformNames=f.map(_=>`u_${_}`),this.type=h}setUniform(l,f,h){l.set(h.constantOr(this.value))}getBinding(l,f,h){return this.type==="color"?new WQ(l,f):new cA(l,f)}}class Yy{constructor(l,f){this.uniformNames=f.map(h=>`u_${h}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=l.tlbr}setUniform(l,f,h,_){let w=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;w&&l.set(w)}getBinding(l,f,h){return h.substr(0,9)==="u_pattern"?new $Q(l,f):new cA(l,f)}}class ap{constructor(l,f,h,_){this.expression=l,this.type=h,this.maxValue=0,this.paintVertexAttributes=f.map(w=>({name:`a_${w}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,f,h,_,w){let S=this.paintVertexArray.length,A=this.expression.evaluate(new ti(0),f,{},_,[],w);this.paintVertexArray.resize(l),this._setPaintValue(S,l,A)}updatePaintArray(l,f,h,_){let w=this.expression.evaluate({zoom:0},h,_);this._setPaintValue(l,f,w)}_setPaintValue(l,f,h){if(this.type==="color"){let _=v3(h);for(let w=l;w<f;w++)this.paintVertexArray.emplace(w,_[0],_[1])}else{for(let _=l;_<f;_++)this.paintVertexArray.emplace(_,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ec{constructor(l,f,h,_,w,S){this.expression=l,this.uniformNames=f.map(A=>`u_${A}_t`),this.type=h,this.useIntegerZoom=_,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=f.map(A=>({name:`a_${A}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(l,f,h,_,w){let S=this.expression.evaluate(new ti(this.zoom),f,{},_,[],w),A=this.expression.evaluate(new ti(this.zoom+1),f,{},_,[],w),O=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(O,l,S,A)}updatePaintArray(l,f,h,_){let w=this.expression.evaluate({zoom:this.zoom},h,_),S=this.expression.evaluate({zoom:this.zoom+1},h,_);this._setPaintValue(l,f,w,S)}_setPaintValue(l,f,h,_){if(this.type==="color"){let w=v3(h),S=v3(_);for(let A=l;A<f;A++)this.paintVertexArray.emplace(A,w[0],w[1],S[0],S[1])}else{for(let w=l;w<f;w++)this.paintVertexArray.emplace(w,h,_);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,f){let h=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,_=B(this.expression.interpolationFactor(h,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,f,h){return new cA(l,f)}}class Wd{constructor(l,f,h,_,w,S){this.expression=l,this.type=f,this.useIntegerZoom=h,this.zoom=_,this.layerId=S,this.zoomInPaintVertexArray=new w,this.zoomOutPaintVertexArray=new w}populatePaintArray(l,f,h){let _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,f.patterns&&f.patterns[this.layerId],h)}updatePaintArray(l,f,h,_,w){this._setPaintValues(l,f,h.patterns&&h.patterns[this.layerId],w)}_setPaintValues(l,f,h,_){if(!_||!h)return;let{min:w,mid:S,max:A}=h,O=_[w],k=_[S],z=_[A];if(O&&k&&z)for(let U=l;U<f;U++)this.zoomInPaintVertexArray.emplace(U,k.tl[0],k.tl[1],k.br[0],k.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],k.pixelRatio,O.pixelRatio),this.zoomOutPaintVertexArray.emplace(U,k.tl[0],k.tl[1],k.br[0],k.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],k.pixelRatio,z.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Gd.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Gd.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ZQ{constructor(l,f,h){this.binders={},this._buffers=[];let _=[];for(let w in l.paint._values){if(!h(w))continue;let S=l.paint.get(w);if(!(S instanceof Xl&&Cd(S.property.specification)))continue;let A=GWe(w,l.type),O=S.value,k=S.property.specification.type,z=S.property.useIntegerZoom,U=S.property.specification["property-type"],W=U==="cross-faded"||U==="cross-faded-data-driven";if(O.kind==="constant")this.binders[w]=W?new Yy(O.value,A):new _b(O.value,A,k),_.push(`/u_${w}`);else if(O.kind==="source"||W){let Y=YQ(w,k,"source");this.binders[w]=W?new Wd(O,k,z,f,Y,l.id):new ap(O,A,k,Y),_.push(`/a_${w}`)}else{let Y=YQ(w,k,"composite");this.binders[w]=new ec(O,A,k,z,f,Y),_.push(`/z_${w}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){let f=this.binders[l];return f instanceof ap||f instanceof ec?f.maxValue:0}populatePaintArrays(l,f,h,_,w){for(let S in this.binders){let A=this.binders[S];(A instanceof ap||A instanceof ec||A instanceof Wd)&&A.populatePaintArray(l,f,h,_,w)}}setConstantPatternPositions(l,f){for(let h in this.binders){let _=this.binders[h];_ instanceof Yy&&_.setConstantPatternPositions(l,f)}}updatePaintArrays(l,f,h,_,w){let S=!1;for(let A in l){let O=f.getPositions(A);for(let k of O){let z=h.feature(k.index);for(let U in this.binders){let W=this.binders[U];if((W instanceof ap||W instanceof ec||W instanceof Wd)&&W.expression.isStateDependent===!0){let Y=_.paint.get(U);W.expression=Y.value,W.updatePaintArray(k.start,k.end,z,l[A],w),S=!0}}}}return S}defines(){let l=[];for(let f in this.binders){let h=this.binders[f];(h instanceof _b||h instanceof Yy)&&l.push(...h.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){let l=[];for(let f in this.binders){let h=this.binders[f];if(h instanceof ap||h instanceof ec)for(let _=0;_<h.paintVertexAttributes.length;_++)l.push(h.paintVertexAttributes[_].name);else if(h instanceof Wd)for(let _=0;_<Gd.members.length;_++)l.push(Gd.members[_].name)}return l}getBinderUniforms(){let l=[];for(let f in this.binders){let h=this.binders[f];if(h instanceof _b||h instanceof Yy||h instanceof ec)for(let _ of h.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,f){let h=[];for(let _ in this.binders){let w=this.binders[_];if(w instanceof _b||w instanceof Yy||w instanceof ec){for(let S of w.uniformNames)if(f[S]){let A=w.getBinding(l,f[S],S);h.push({name:S,property:_,binding:A})}}}return h}setUniforms(l,f,h,_){for(let{name:w,property:S,binding:A}of f)this.binders[S].setUniform(A,_,h.get(S),w)}updatePaintBuffers(l){this._buffers=[];for(let f in this.binders){let h=this.binders[f];if(l&&h instanceof Wd){let _=l.fromScale===2?h.zoomInPaintVertexBuffer:h.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(h instanceof ap||h instanceof ec)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(l){for(let f in this.binders){let h=this.binders[f];(h instanceof ap||h instanceof ec||h instanceof Wd)&&h.upload(l)}this.updatePaintBuffers()}destroy(){for(let l in this.binders){let f=this.binders[l];(f instanceof ap||f instanceof ec||f instanceof Wd)&&f.destroy()}}}class ug{constructor(l,f,h=()=>!0){this.programConfigurations={};for(let _ of l)this.programConfigurations[_.id]=new ZQ(_,f,h);this.needsUpload=!1,this._featureMap=new sg,this._bufferOffset=0}populatePaintArrays(l,f,h,_,w,S){for(let A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(l,f,_,w,S);f.id!==void 0&&this._featureMap.add(f.id,h,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,f,h,_){for(let w of h)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(l,this._featureMap,f,w,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(let f in this.programConfigurations)this.programConfigurations[f].upload(l);this.needsUpload=!1}}destroy(){for(let l in this.programConfigurations)this.programConfigurations[l].destroy()}}function GWe(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function YQ(u,l,f){let h={color:{source:ie,composite:xr},number:{source:Ct,composite:ie}},_=function(w){return{"line-pattern":{source:Rs,composite:Rs},"fill-pattern":{source:Rs,composite:Rs},"fill-extrusion-pattern":{source:Rs,composite:Rs}}[w]}(u);return _&&_[f]||h[l][f]}Ut("ConstantBinder",_b),Ut("CrossFadedConstantBinder",Yy),Ut("SourceExpressionBinder",ap),Ut("CrossFadedCompositeBinder",Wd),Ut("CompositeExpressionBinder",ec),Ut("ProgramConfiguration",ZQ,{omit:["_buffers"]}),Ut("ProgramConfigurationSet",ug);let Gi=8192,y3=Math.pow(2,14)-1,KQ=-y3-1;function cg(u){let l=Gi/u.extent,f=u.loadGeometry();for(let h=0;h<f.length;h++){let _=f[h];for(let w=0;w<_.length;w++){let S=_[w],A=Math.round(S.x*l),O=Math.round(S.y*l);S.x=B(A,KQ,y3),S.y=B(O,KQ,y3),(A<S.x||A>S.x+1||O<S.y||O>S.y+1)&&Fe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function fg(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?cg(u):[]}}function fA(u,l,f,h,_){u.emplaceBack(2*l+(h+1)/2,2*f+(_+1)/2)}class _3{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new ea,this.indexArray=new wl,this.segments=new en,this.programConfigurations=new ug(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){let _=this.layers[0],w=[],S=null,A=!1;_.type==="circle"&&(S=_.layout.get("circle-sort-key"),A=!S.isConstant());for(let{feature:O,id:k,index:z,sourceLayerIndex:U}of l){let W=this.layers[0]._featureFilter.needGeometry,Y=fg(O,W);if(!this.layers[0]._featureFilter.filter(new ti(this.zoom),Y,h))continue;let J=A?S.evaluate(Y,{},h):void 0,ne={id:k,properties:O.properties,type:O.type,sourceLayerIndex:U,index:z,geometry:W?Y.geometry:cg(O),patterns:{},sortKey:J};w.push(ne)}A&&w.sort((O,k)=>O.sortKey-k.sortKey);for(let O of w){let{geometry:k,index:z,sourceLayerIndex:U}=O,W=l[z].feature;this.addFeature(O,k,z,h),f.featureIndex.insert(W,k,z,U,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ps),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,f,h,_){for(let w of f)for(let S of w){let A=S.x,O=S.y;if(A<0||A>=Gi||O<0||O>=Gi)continue;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),z=k.vertexLength;fA(this.layoutVertexArray,A,O,-1,-1),fA(this.layoutVertexArray,A,O,1,-1),fA(this.layoutVertexArray,A,O,1,1),fA(this.layoutVertexArray,A,O,-1,1),this.indexArray.emplaceBack(z,z+1,z+2),this.indexArray.emplaceBack(z,z+3,z+2),k.vertexLength+=4,k.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,{},_)}}function XQ(u,l){for(let f=0;f<u.length;f++)if(Ky(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(Ky(u,l[f]))return!0;return!!x3(u,l)}function HWe(u,l,f){return!!Ky(u,l)||!!b3(l,u,f)}function QQ(u,l){if(u.length===1)return eJ(l,u[0]);for(let f=0;f<l.length;f++){let h=l[f];for(let _=0;_<h.length;_++)if(Ky(u,h[_]))return!0}for(let f=0;f<u.length;f++)if(eJ(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(x3(u,l[f]))return!0;return!1}function $We(u,l,f){if(u.length>1){if(x3(u,l))return!0;for(let h=0;h<l.length;h++)if(b3(l[h],u,f))return!0}for(let h=0;h<u.length;h++)if(b3(u[h],l,f))return!0;return!1}function x3(u,l){if(u.length===0||l.length===0)return!1;for(let f=0;f<u.length-1;f++){let h=u[f],_=u[f+1];for(let w=0;w<l.length-1;w++)if(WWe(h,_,l[w],l[w+1]))return!0}return!1}function WWe(u,l,f,h){return $e(u,f,h)!==$e(l,f,h)&&$e(u,l,f)!==$e(u,l,h)}function b3(u,l,f){let h=f*f;if(l.length===1)return u.distSqr(l[0])<h;for(let _=1;_<l.length;_++)if(JQ(u,l[_-1],l[_])<h)return!0;return!1}function JQ(u,l,f){let h=l.distSqr(f);if(h===0)return u.distSqr(l);let _=((u.x-l.x)*(f.x-l.x)+(u.y-l.y)*(f.y-l.y))/h;return u.distSqr(_<0?l:_>1?f:f.sub(l)._mult(_)._add(l))}function eJ(u,l){let f,h,_,w=!1;for(let S=0;S<u.length;S++){f=u[S];for(let A=0,O=f.length-1;A<f.length;O=A++)h=f[A],_=f[O],h.y>l.y!=_.y>l.y&&l.x<(_.x-h.x)*(l.y-h.y)/(_.y-h.y)+h.x&&(w=!w)}return w}function Ky(u,l){let f=!1;for(let h=0,_=u.length-1;h<u.length;_=h++){let w=u[h],S=u[_];w.y>l.y!=S.y>l.y&&l.x<(S.x-w.x)*(l.y-w.y)/(S.y-w.y)+w.x&&(f=!f)}return f}function ZWe(u,l,f){let h=f[0],_=f[2];if(u.x<h.x&&l.x<h.x||u.x>_.x&&l.x>_.x||u.y<h.y&&l.y<h.y||u.y>_.y&&l.y>_.y)return!1;let w=$e(u,l,f[0]);return w!==$e(u,l,f[1])||w!==$e(u,l,f[2])||w!==$e(u,l,f[3])}function xb(u,l,f){let h=l.paint.get(u).value;return h.kind==="constant"?h.value:f.programConfigurations.get(l.id).getMaxValue(u)}function pA(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function dA(u,l,f,h,_){if(!l[0]&&!l[1])return u;let w=m.convert(l)._mult(_);f==="viewport"&&w._rotate(-h);let S=[];for(let A=0;A<u.length;A++)S.push(u[A].sub(w));return S}let tJ,rJ;Ut("CircleBucket",_3,{omit:["layers"]});var YWe={get paint(){return rJ=rJ||new b({"circle-radius":new dr(Se.paint_circle["circle-radius"]),"circle-color":new dr(Se.paint_circle["circle-color"]),"circle-blur":new dr(Se.paint_circle["circle-blur"]),"circle-opacity":new dr(Se.paint_circle["circle-opacity"]),"circle-translate":new Zt(Se.paint_circle["circle-translate"]),"circle-translate-anchor":new Zt(Se.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Zt(Se.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Zt(Se.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new dr(Se.paint_circle["circle-stroke-width"]),"circle-stroke-color":new dr(Se.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new dr(Se.paint_circle["circle-stroke-opacity"])})},get layout(){return tJ=tJ||new b({"circle-sort-key":new dr(Se.layout_circle["circle-sort-key"])})}},Oa=1e-6,Xy=typeof Float32Array!="undefined"?Float32Array:Array;function w3(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function nJ(u,l,f){var h=l[0],_=l[1],w=l[2],S=l[3],A=l[4],O=l[5],k=l[6],z=l[7],U=l[8],W=l[9],Y=l[10],J=l[11],ne=l[12],ce=l[13],he=l[14],qe=l[15],be=f[0],Pe=f[1],We=f[2],ut=f[3];return u[0]=be*h+Pe*A+We*U+ut*ne,u[1]=be*_+Pe*O+We*W+ut*ce,u[2]=be*w+Pe*k+We*Y+ut*he,u[3]=be*S+Pe*z+We*J+ut*qe,u[4]=(be=f[4])*h+(Pe=f[5])*A+(We=f[6])*U+(ut=f[7])*ne,u[5]=be*_+Pe*O+We*W+ut*ce,u[6]=be*w+Pe*k+We*Y+ut*he,u[7]=be*S+Pe*z+We*J+ut*qe,u[8]=(be=f[8])*h+(Pe=f[9])*A+(We=f[10])*U+(ut=f[11])*ne,u[9]=be*_+Pe*O+We*W+ut*ce,u[10]=be*w+Pe*k+We*Y+ut*he,u[11]=be*S+Pe*z+We*J+ut*qe,u[12]=(be=f[12])*h+(Pe=f[13])*A+(We=f[14])*U+(ut=f[15])*ne,u[13]=be*_+Pe*O+We*W+ut*ce,u[14]=be*w+Pe*k+We*Y+ut*he,u[15]=be*S+Pe*z+We*J+ut*qe,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var bb,KWe=nJ;function hA(u,l,f){var h=l[0],_=l[1],w=l[2],S=l[3];return u[0]=f[0]*h+f[4]*_+f[8]*w+f[12]*S,u[1]=f[1]*h+f[5]*_+f[9]*w+f[13]*S,u[2]=f[2]*h+f[6]*_+f[10]*w+f[14]*S,u[3]=f[3]*h+f[7]*_+f[11]*w+f[15]*S,u}bb=new Xy(4),Xy!=Float32Array&&(bb[0]=0,bb[1]=0,bb[2]=0,bb[3]=0);class XWe extends p{constructor(l){super(l,YWe)}createBucket(l){return new _3(l)}queryRadius(l){let f=l;return xb("circle-radius",this,f)+xb("circle-stroke-width",this,f)+pA(this.paint.get("circle-translate"))}queryIntersectsFeature(l,f,h,_,w,S,A,O){let k=dA(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,A),z=this.paint.get("circle-radius").evaluate(f,h)+this.paint.get("circle-stroke-width").evaluate(f,h),U=this.paint.get("circle-pitch-alignment")==="map",W=U?k:function(J,ne){return J.map(ce=>iJ(ce,ne))}(k,O),Y=U?z*A:z;for(let J of _)for(let ne of J){let ce=U?ne:iJ(ne,O),he=Y,qe=hA([],[ne.x,ne.y,0,1],O);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?he*=qe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(he*=S.cameraToCenterDistance/qe[3]),HWe(W,ce,he))return!0}return!1}}function iJ(u,l){let f=hA([],[u.x,u.y,0,1],l);return new m(f[0]/f[3],f[1]/f[3])}class oJ extends _3{}let aJ;Ut("HeatmapBucket",oJ,{omit:["layers"]});var QWe={get paint(){return aJ=aJ||new b({"heatmap-radius":new dr(Se.paint_heatmap["heatmap-radius"]),"heatmap-weight":new dr(Se.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Zt(Se.paint_heatmap["heatmap-intensity"]),"heatmap-color":new vb(Se.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Zt(Se.paint_heatmap["heatmap-opacity"])})}};function S3(u,{width:l,height:f},h,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*f*h)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*f*h}`)}else _=new Uint8Array(l*f*h);return u.width=l,u.height=f,u.data=_,u}function sJ(u,{width:l,height:f},h){if(l===u.width&&f===u.height)return;let _=S3({},{width:l,height:f},h);E3(u,_,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,f)},h),u.width=l,u.height=f,u.data=_.data}function E3(u,l,f,h,_,w){if(_.width===0||_.height===0)return l;if(_.width>u.width||_.height>u.height||f.x>u.width-_.width||f.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||h.x>l.width-_.width||h.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");let S=u.data,A=l.data;if(S===A)throw new Error("srcData equals dstData, so image is already copied");for(let O=0;O<_.height;O++){let k=((f.y+O)*u.width+f.x)*w,z=((h.y+O)*l.width+h.x)*w;for(let U=0;U<_.width*w;U++)A[z+U]=S[k+U]}return l}class wb{constructor(l,f){S3(this,l,1,f)}resize(l){sJ(this,l,1)}clone(){return new wb({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,h,_,w){E3(l,f,h,_,w,1)}}class Sl{constructor(l,f){S3(this,l,4,f)}resize(l){sJ(this,l,4)}replace(l,f){f?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,h,_,w){E3(l,f,h,_,w,4)}}function lJ(u){let l={},f=u.resolution||256,h=u.clips?u.clips.length:1,_=u.image||new Sl({width:f,height:h});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);let w=(S,A,O)=>{l[u.evaluationKey]=O;let k=u.expression.evaluate(l);_.data[S+A+0]=Math.floor(255*k.r/k.a),_.data[S+A+1]=Math.floor(255*k.g/k.a),_.data[S+A+2]=Math.floor(255*k.b/k.a),_.data[S+A+3]=Math.floor(255*k.a)};if(u.clips)for(let S=0,A=0;S<h;++S,A+=4*f)for(let O=0,k=0;O<f;O++,k+=4){let z=O/(f-1),{start:U,end:W}=u.clips[S];w(A,k,U*(1-z)+W*z)}else for(let S=0,A=0;S<f;S++,A+=4)w(0,A,S/(f-1));return _}Ut("AlphaImage",wb),Ut("RGBAImage",Sl);let I3="big-fb";class JWe extends p{createBucket(l){return new oJ(l)}constructor(l){super(l,QWe),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=lJ({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(I3)&&this.heatmapFbos.delete(I3)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let uJ;var eZe={get paint(){return uJ=uJ||new b({"hillshade-illumination-direction":new Zt(Se.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Zt(Se.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Zt(Se.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Zt(Se.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Zt(Se.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Zt(Se.paint_hillshade["hillshade-accent-color"])})}};class tZe extends p{constructor(l){super(l,eZe)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let rZe=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:nZe}=rZe;function cJ(u,l,f=2){let h=l&&l.length,_=h?l[0]*f:u.length,w=fJ(u,0,_,f,!0),S=[];if(!w||w.next===w.prev)return S;let A,O,k;if(h&&(w=function(z,U,W,Y){let J=[];for(let ne=0,ce=U.length;ne<ce;ne++){let he=fJ(z,U[ne]*Y,ne<ce-1?U[ne+1]*Y:z.length,Y,!1);he===he.next&&(he.steiner=!0),J.push(fZe(he))}J.sort(lZe);for(let ne=0;ne<J.length;ne++)W=uZe(J[ne],W);return W}(u,l,w,f)),u.length>80*f){A=1/0,O=1/0;let z=-1/0,U=-1/0;for(let W=f;W<_;W+=f){let Y=u[W],J=u[W+1];Y<A&&(A=Y),J<O&&(O=J),Y>z&&(z=Y),J>U&&(U=J)}k=Math.max(z-A,U-O),k=k!==0?32767/k:0}return Sb(w,S,f,A,O,k,0),S}function fJ(u,l,f,h,_){let w;if(_===function(S,A,O,k){let z=0;for(let U=A,W=O-k;U<O;U+=k)z+=(S[W]-S[U])*(S[U+1]+S[W+1]),W=U;return z}(u,l,f,h)>0)for(let S=l;S<f;S+=h)w=hJ(S/h|0,u[S],u[S+1],w);else for(let S=f-h;S>=l;S-=h)w=hJ(S/h|0,u[S],u[S+1],w);return w&&mA(w,w.next)&&(Ib(w),w=w.next),w}function pg(u,l){if(!u)return u;l||(l=u);let f,h=u;do if(f=!1,h.steiner||!mA(h,h.next)&&ki(h.prev,h,h.next)!==0)h=h.next;else{if(Ib(h),h=l=h.prev,h===h.next)break;f=!0}while(f||h!==l);return l}function Sb(u,l,f,h,_,w,S){if(!u)return;!S&&w&&function(O,k,z,U){let W=O;do W.z===0&&(W.z=T3(W.x,W.y,k,z,U)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==O);W.prevZ.nextZ=null,W.prevZ=null,function(Y){let J,ne=1;do{let ce,he=Y;Y=null;let qe=null;for(J=0;he;){J++;let be=he,Pe=0;for(let ut=0;ut<ne&&(Pe++,be=be.nextZ,be);ut++);let We=ne;for(;Pe>0||We>0&&be;)Pe!==0&&(We===0||!be||he.z<=be.z)?(ce=he,he=he.nextZ,Pe--):(ce=be,be=be.nextZ,We--),qe?qe.nextZ=ce:Y=ce,ce.prevZ=qe,qe=ce;he=be}qe.nextZ=null,ne*=2}while(J>1)}(W)}(u,h,_,w);let A=u;for(;u.prev!==u.next;){let O=u.prev,k=u.next;if(w?oZe(u,h,_,w):iZe(u))l.push(O.i,u.i,k.i),Ib(u),u=k.next,A=k.next;else if((u=k)===A){S?S===1?Sb(u=aZe(pg(u),l),l,f,h,_,w,2):S===2&&sZe(u,l,f,h,_,w):Sb(pg(u),l,f,h,_,w,1);break}}}function iZe(u){let l=u.prev,f=u,h=u.next;if(ki(l,f,h)>=0)return!1;let _=l.x,w=f.x,S=h.x,A=l.y,O=f.y,k=h.y,z=_<w?_<S?_:S:w<S?w:S,U=A<O?A<k?A:k:O<k?O:k,W=_>w?_>S?_:S:w>S?w:S,Y=A>O?A>k?A:k:O>k?O:k,J=h.next;for(;J!==l;){if(J.x>=z&&J.x<=W&&J.y>=U&&J.y<=Y&&Qy(_,A,w,O,S,k,J.x,J.y)&&ki(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function oZe(u,l,f,h){let _=u.prev,w=u,S=u.next;if(ki(_,w,S)>=0)return!1;let A=_.x,O=w.x,k=S.x,z=_.y,U=w.y,W=S.y,Y=A<O?A<k?A:k:O<k?O:k,J=z<U?z<W?z:W:U<W?U:W,ne=A>O?A>k?A:k:O>k?O:k,ce=z>U?z>W?z:W:U>W?U:W,he=T3(Y,J,l,f,h),qe=T3(ne,ce,l,f,h),be=u.prevZ,Pe=u.nextZ;for(;be&&be.z>=he&&Pe&&Pe.z<=qe;){if(be.x>=Y&&be.x<=ne&&be.y>=J&&be.y<=ce&&be!==_&&be!==S&&Qy(A,z,O,U,k,W,be.x,be.y)&&ki(be.prev,be,be.next)>=0||(be=be.prevZ,Pe.x>=Y&&Pe.x<=ne&&Pe.y>=J&&Pe.y<=ce&&Pe!==_&&Pe!==S&&Qy(A,z,O,U,k,W,Pe.x,Pe.y)&&ki(Pe.prev,Pe,Pe.next)>=0))return!1;Pe=Pe.nextZ}for(;be&&be.z>=he;){if(be.x>=Y&&be.x<=ne&&be.y>=J&&be.y<=ce&&be!==_&&be!==S&&Qy(A,z,O,U,k,W,be.x,be.y)&&ki(be.prev,be,be.next)>=0)return!1;be=be.prevZ}for(;Pe&&Pe.z<=qe;){if(Pe.x>=Y&&Pe.x<=ne&&Pe.y>=J&&Pe.y<=ce&&Pe!==_&&Pe!==S&&Qy(A,z,O,U,k,W,Pe.x,Pe.y)&&ki(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.nextZ}return!0}function aZe(u,l){let f=u;do{let h=f.prev,_=f.next.next;!mA(h,_)&&pJ(h,f,f.next,_)&&Eb(h,_)&&Eb(_,h)&&(l.push(h.i,f.i,_.i),Ib(f),Ib(f.next),f=u=_),f=f.next}while(f!==u);return pg(f)}function sZe(u,l,f,h,_,w){let S=u;do{let A=S.next.next;for(;A!==S.prev;){if(S.i!==A.i&&pZe(S,A)){let O=dJ(S,A);return S=pg(S,S.next),O=pg(O,O.next),Sb(S,l,f,h,_,w,0),void Sb(O,l,f,h,_,w,0)}A=A.next}S=S.next}while(S!==u)}function lZe(u,l){return u.x-l.x}function uZe(u,l){let f=function(_,w){let S=w,A=_.x,O=_.y,k,z=-1/0;do{if(O<=S.y&&O>=S.next.y&&S.next.y!==S.y){let ne=S.x+(O-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(ne<=A&&ne>z&&(z=ne,k=S.x<S.next.x?S:S.next,ne===A))return k}S=S.next}while(S!==w);if(!k)return null;let U=k,W=k.x,Y=k.y,J=1/0;S=k;do{if(A>=S.x&&S.x>=W&&A!==S.x&&Qy(O<Y?A:z,O,W,Y,O<Y?z:A,O,S.x,S.y)){let ne=Math.abs(O-S.y)/(A-S.x);Eb(S,_)&&(ne<J||ne===J&&(S.x>k.x||S.x===k.x&&cZe(k,S)))&&(k=S,J=ne)}S=S.next}while(S!==U);return k}(u,l);if(!f)return l;let h=dJ(f,u);return pg(h,h.next),pg(f,f.next)}function cZe(u,l){return ki(u.prev,u,l.prev)<0&&ki(l.next,u,u.next)<0}function T3(u,l,f,h,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-f)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-h)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function fZe(u){let l=u,f=u;do(l.x<f.x||l.x===f.x&&l.y<f.y)&&(f=l),l=l.next;while(l!==u);return f}function Qy(u,l,f,h,_,w,S,A){return(_-S)*(l-A)>=(u-S)*(w-A)&&(u-S)*(h-A)>=(f-S)*(l-A)&&(f-S)*(w-A)>=(_-S)*(h-A)}function pZe(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(f,h){let _=f;do{if(_.i!==f.i&&_.next.i!==f.i&&_.i!==h.i&&_.next.i!==h.i&&pJ(_,_.next,f,h))return!0;_=_.next}while(_!==f);return!1}(u,l)&&(Eb(u,l)&&Eb(l,u)&&function(f,h){let _=f,w=!1,S=(f.x+h.x)/2,A=(f.y+h.y)/2;do _.y>A!=_.next.y>A&&_.next.y!==_.y&&S<(_.next.x-_.x)*(A-_.y)/(_.next.y-_.y)+_.x&&(w=!w),_=_.next;while(_!==f);return w}(u,l)&&(ki(u.prev,u,l.prev)||ki(u,l.prev,l))||mA(u,l)&&ki(u.prev,u,u.next)>0&&ki(l.prev,l,l.next)>0)}function ki(u,l,f){return(l.y-u.y)*(f.x-l.x)-(l.x-u.x)*(f.y-l.y)}function mA(u,l){return u.x===l.x&&u.y===l.y}function pJ(u,l,f,h){let _=vA(ki(u,l,f)),w=vA(ki(u,l,h)),S=vA(ki(f,h,u)),A=vA(ki(f,h,l));return _!==w&&S!==A||!(_!==0||!gA(u,f,l))||!(w!==0||!gA(u,h,l))||!(S!==0||!gA(f,u,h))||!(A!==0||!gA(f,l,h))}function gA(u,l,f){return l.x<=Math.max(u.x,f.x)&&l.x>=Math.min(u.x,f.x)&&l.y<=Math.max(u.y,f.y)&&l.y>=Math.min(u.y,f.y)}function vA(u){return u>0?1:u<0?-1:0}function Eb(u,l){return ki(u.prev,u,u.next)<0?ki(u,l,u.next)>=0&&ki(u,u.prev,l)>=0:ki(u,l,u.prev)<0||ki(u,u.next,l)<0}function dJ(u,l){let f=A3(u.i,u.x,u.y),h=A3(l.i,l.x,l.y),_=u.next,w=l.prev;return u.next=l,l.prev=u,f.next=_,_.prev=f,h.next=f,f.prev=h,w.next=h,h.prev=w,h}function hJ(u,l,f,h){let _=A3(u,l,f);return h?(_.next=h.next,_.prev=h,h.next.prev=_,h.next=_):(_.prev=_,_.next=_),_}function Ib(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function A3(u,l,f){return{i:u,x:l,y:f,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function M3(u,l,f){let h=f.patternDependencies,_=!1;for(let w of l){let S=w.paint.get(`${u}-pattern`);S.isConstant()||(_=!0);let A=S.constantOr(null);A&&(_=!0,h[A.to]=!0,h[A.from]=!0)}return _}function C3(u,l,f,h,_){let w=_.patternDependencies;for(let S of l){let A=S.paint.get(`${u}-pattern`).value;if(A.kind!=="constant"){let O=A.evaluate({zoom:h-1},f,{},_.availableImages),k=A.evaluate({zoom:h},f,{},_.availableImages),z=A.evaluate({zoom:h+1},f,{},_.availableImages);O=O&&O.name?O.name:O,k=k&&k.name?k.name:k,z=z&&z.name?z.name:z,w[O]=!0,w[k]=!0,w[z]=!0,f.patterns[S.id]={min:O,mid:k,max:z}}}return f}class O3{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ql,this.indexArray=new wl,this.indexArray2=new _o,this.programConfigurations=new ug(l.layers,l.zoom),this.segments=new en,this.segments2=new en,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.hasPattern=M3("fill",this.layers,f);let _=this.layers[0].layout.get("fill-sort-key"),w=!_.isConstant(),S=[];for(let{feature:A,id:O,index:k,sourceLayerIndex:z}of l){let U=this.layers[0]._featureFilter.needGeometry,W=fg(A,U);if(!this.layers[0]._featureFilter.filter(new ti(this.zoom),W,h))continue;let Y=w?_.evaluate(W,{},h,f.availableImages):void 0,J={id:O,properties:A.properties,type:A.type,sourceLayerIndex:z,index:k,geometry:U?W.geometry:cg(A),patterns:{},sortKey:Y};S.push(J)}w&&S.sort((A,O)=>A.sortKey-O.sortKey);for(let A of S){let{geometry:O,index:k,sourceLayerIndex:z}=A;if(this.hasPattern){let U=C3("fill",this.layers,A,this.zoom,f);this.patternFeatures.push(U)}else this.addFeature(A,O,k,h,{});f.featureIndex.insert(l[k].feature,O,k,z,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}addFeatures(l,f,h){for(let _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,nZe),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,f,h,_,w){for(let S of wy(f,500)){let A=0;for(let Y of S)A+=Y.length;let O=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),k=O.vertexLength,z=[],U=[];for(let Y of S){if(Y.length===0)continue;Y!==S[0]&&U.push(z.length/2);let J=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),ne=J.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(ne+Y.length-1,ne),z.push(Y[0].x),z.push(Y[0].y);for(let ce=1;ce<Y.length;ce++)this.layoutVertexArray.emplaceBack(Y[ce].x,Y[ce].y),this.indexArray2.emplaceBack(ne+ce-1,ne+ce),z.push(Y[ce].x),z.push(Y[ce].y);J.vertexLength+=Y.length,J.primitiveLength+=Y.length}let W=cJ(z,U);for(let Y=0;Y<W.length;Y+=3)this.indexArray.emplaceBack(k+W[Y],k+W[Y+1],k+W[Y+2]);O.vertexLength+=A,O.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}}let mJ,gJ;Ut("FillBucket",O3,{omit:["layers","patternFeatures"]});var dZe={get paint(){return gJ=gJ||new b({"fill-antialias":new Zt(Se.paint_fill["fill-antialias"]),"fill-opacity":new dr(Se.paint_fill["fill-opacity"]),"fill-color":new dr(Se.paint_fill["fill-color"]),"fill-outline-color":new dr(Se.paint_fill["fill-outline-color"]),"fill-translate":new Zt(Se.paint_fill["fill-translate"]),"fill-translate-anchor":new Zt(Se.paint_fill["fill-translate-anchor"]),"fill-pattern":new Uy(Se.paint_fill["fill-pattern"])})},get layout(){return mJ=mJ||new b({"fill-sort-key":new dr(Se.layout_fill["fill-sort-key"])})}};class hZe extends p{constructor(l){super(l,dZe)}recalculate(l,f){super.recalculate(l,f);let h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new O3(l)}queryRadius(){return pA(this.paint.get("fill-translate"))}queryIntersectsFeature(l,f,h,_,w,S,A){return QQ(dA(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,A),_)}isTileClipped(){return!0}}let mZe=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),gZe=C([{name:"a_centroid",components:2,type:"Int16"}],4),{members:vZe}=mZe;var Zd={},yZe=c,vJ=Jy;function Jy(u,l,f,h,_){this.properties={},this.extent=f,this.type=0,this._pbf=u,this._geometry=-1,this._keys=h,this._values=_,u.readFields(_Ze,this,l)}function _Ze(u,l,f){u==1?l.id=f.readVarint():u==2?function(h,_){for(var w=h.readVarint()+h.pos;h.pos<w;){var S=_._keys[h.readVarint()],A=_._values[h.readVarint()];_.properties[S]=A}}(f,l):u==3?l.type=f.readVarint():u==4&&(l._geometry=f.pos)}function xZe(u){for(var l,f,h=0,_=0,w=u.length,S=w-1;_<w;S=_++)h+=((f=u[S]).x-(l=u[_]).x)*(l.y+f.y);return h}Jy.types=["Unknown","Point","LineString","Polygon"],Jy.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,f=u.readVarint()+u.pos,h=1,_=0,w=0,S=0,A=[];u.pos<f;){if(_<=0){var O=u.readVarint();h=7&O,_=O>>3}if(_--,h===1||h===2)w+=u.readSVarint(),S+=u.readSVarint(),h===1&&(l&&A.push(l),l=[]),l.push(new yZe(w,S));else{if(h!==7)throw new Error("unknown command "+h);l&&l.push(l[0].clone())}}return l&&A.push(l),A},Jy.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,f=1,h=0,_=0,w=0,S=1/0,A=-1/0,O=1/0,k=-1/0;u.pos<l;){if(h<=0){var z=u.readVarint();f=7&z,h=z>>3}if(h--,f===1||f===2)(_+=u.readSVarint())<S&&(S=_),_>A&&(A=_),(w+=u.readSVarint())<O&&(O=w),w>k&&(k=w);else if(f!==7)throw new Error("unknown command "+f)}return[S,O,A,k]},Jy.prototype.toGeoJSON=function(u,l,f){var h,_,w=this.extent*Math.pow(2,f),S=this.extent*u,A=this.extent*l,O=this.loadGeometry(),k=Jy.types[this.type];function z(Y){for(var J=0;J<Y.length;J++){var ne=Y[J];Y[J]=[360*(ne.x+S)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+A)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var U=[];for(h=0;h<O.length;h++)U[h]=O[h][0];z(O=U);break;case 2:for(h=0;h<O.length;h++)z(O[h]);break;case 3:for(O=function(Y){var J=Y.length;if(J<=1)return[Y];for(var ne,ce,he=[],qe=0;qe<J;qe++){var be=xZe(Y[qe]);be!==0&&(ce===void 0&&(ce=be<0),ce===be<0?(ne&&he.push(ne),ne=[Y[qe]]):ne.push(Y[qe]))}return ne&&he.push(ne),he}(O),h=0;h<O.length;h++)for(_=0;_<O[h].length;_++)z(O[h][_]);}O.length===1?O=O[0]:k="Multi"+k;var W={type:"Feature",geometry:{type:k,coordinates:O},properties:this.properties};return"id"in this&&(W.id=this.id),W};var bZe=vJ,yJ=_J;function _J(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(wZe,this,l),this.length=this._features.length}function wZe(u,l,f){u===15?l.version=f.readVarint():u===1?l.name=f.readString():u===5?l.extent=f.readVarint():u===2?l._features.push(f.pos):u===3?l._keys.push(f.readString()):u===4&&l._values.push(function(h){for(var _=null,w=h.readVarint()+h.pos;h.pos<w;){var S=h.readVarint()>>3;_=S===1?h.readString():S===2?h.readFloat():S===3?h.readDouble():S===4?h.readVarint64():S===5?h.readVarint():S===6?h.readSVarint():S===7?h.readBoolean():null}return _}(f))}_J.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new bZe(this._pbf,l,this.extent,this._keys,this._values)};var SZe=yJ;function EZe(u,l,f){if(u===3){var h=new SZe(f,f.readVarint()+f.pos);h.length&&(l[h.name]=h)}}Zd.VectorTile=function(u,l){this.layers=u.readFields(EZe,{},l)},Zd.VectorTileFeature=vJ,Zd.VectorTileLayer=yJ;let IZe=Zd.VectorTileFeature.types,D3=Math.pow(2,13);function Tb(u,l,f,h,_,w,S,A){u.emplaceBack(l,f,2*Math.floor(h*D3)+S,_*D3*2,w*D3*2,Math.round(A))}class L3{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ud,this.centroidVertexArray=new Lo,this.indexArray=new wl,this.programConfigurations=new ug(l.layers,l.zoom),this.segments=new en,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.features=[],this.hasPattern=M3("fill-extrusion",this.layers,f);for(let{feature:_,id:w,index:S,sourceLayerIndex:A}of l){let O=this.layers[0]._featureFilter.needGeometry,k=fg(_,O);if(!this.layers[0]._featureFilter.filter(new ti(this.zoom),k,h))continue;let z={id:w,sourceLayerIndex:A,index:S,geometry:O?k.geometry:cg(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(C3("fill-extrusion",this.layers,z,this.zoom,f)):this.addFeature(z,z.geometry,S,h,{}),f.featureIndex.insert(_,z.geometry,S,A,this.index,!0)}}addFeatures(l,f,h){for(let _ of this.features){let{geometry:w}=_;this.addFeature(_,w,_.index,f,h)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,vZe),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,gZe.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,f,h,_,w){for(let S of wy(f,500)){let A={x:0,y:0,vertexCount:0},O=0;for(let J of S)O+=J.length;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let J of S){if(J.length===0||AZe(J))continue;let ne=0;for(let ce=0;ce<J.length;ce++){let he=J[ce];if(ce>=1){let qe=J[ce-1];if(!TZe(he,qe)){k.vertexLength+4>en.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let be=he.sub(qe)._perp()._unit(),Pe=qe.dist(he);ne+Pe>32768&&(ne=0),Tb(this.layoutVertexArray,he.x,he.y,be.x,be.y,0,0,ne),Tb(this.layoutVertexArray,he.x,he.y,be.x,be.y,0,1,ne),A.x+=2*he.x,A.y+=2*he.y,A.vertexCount+=2,ne+=Pe,Tb(this.layoutVertexArray,qe.x,qe.y,be.x,be.y,0,0,ne),Tb(this.layoutVertexArray,qe.x,qe.y,be.x,be.y,0,1,ne),A.x+=2*qe.x,A.y+=2*qe.y,A.vertexCount+=2;let We=k.vertexLength;this.indexArray.emplaceBack(We,We+2,We+1),this.indexArray.emplaceBack(We+1,We+2,We+3),k.vertexLength+=4,k.primitiveLength+=2}}}}if(k.vertexLength+O>en.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray)),IZe[l.type]!=="Polygon")continue;let z=[],U=[],W=k.vertexLength;for(let J of S)if(J.length!==0){J!==S[0]&&U.push(z.length/2);for(let ne=0;ne<J.length;ne++){let ce=J[ne];Tb(this.layoutVertexArray,ce.x,ce.y,0,0,1,1,0),A.x+=ce.x,A.y+=ce.y,A.vertexCount+=1,z.push(ce.x),z.push(ce.y)}}let Y=cJ(z,U);for(let J=0;J<Y.length;J+=3)this.indexArray.emplaceBack(W+Y[J],W+Y[J+2],W+Y[J+1]);k.primitiveLength+=Y.length/3,k.vertexLength+=O;for(let J=0;J<A.vertexCount;J++){let ne=Math.floor(A.x/A.vertexCount),ce=Math.floor(A.y/A.vertexCount);this.centroidVertexArray.emplaceBack(ne,ce)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}}function TZe(u,l){return u.x===l.x&&(u.x<0||u.x>Gi)||u.y===l.y&&(u.y<0||u.y>Gi)}function AZe(u){return u.every(l=>l.x<0)||u.every(l=>l.x>Gi)||u.every(l=>l.y<0)||u.every(l=>l.y>Gi)}let xJ;Ut("FillExtrusionBucket",L3,{omit:["layers","features"]});var MZe={get paint(){return xJ=xJ||new b({"fill-extrusion-opacity":new Zt(Se["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new dr(Se["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Zt(Se["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Zt(Se["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Uy(Se["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new dr(Se["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new dr(Se["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Zt(Se["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class CZe extends p{constructor(l){super(l,MZe)}createBucket(l){return new L3(l)}queryRadius(){return pA(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,f,h,_,w,S,A,O){let k=dA(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,A),z=this.paint.get("fill-extrusion-height").evaluate(f,h),U=this.paint.get("fill-extrusion-base").evaluate(f,h),W=function(J,ne,ce,he){let qe=[];for(let be of J){let Pe=[be.x,be.y,0,1];hA(Pe,Pe,ne),qe.push(new m(Pe[0]/Pe[3],Pe[1]/Pe[3]))}return qe}(k,O),Y=function(J,ne,ce,he){let qe=[],be=[],Pe=he[8]*ne,We=he[9]*ne,ut=he[10]*ne,Rt=he[11]*ne,fr=he[8]*ce,Pt=he[9]*ce,At=he[10]*ce,Qt=he[11]*ce;for(let $t of J){let Bt=[],Je=[];for(let er of $t){let Kt=er.x,_r=er.y,Bn=he[0]*Kt+he[4]*_r+he[12],qn=he[1]*Kt+he[5]*_r+he[13],co=he[2]*Kt+he[6]*_r+he[14],Jl=he[3]*Kt+he[7]*_r+he[15],Ro=co+ut,fo=Jl+Rt,Da=Bn+fr,La=qn+Pt,Pa=co+At,Li=Jl+Qt,po=new m((Bn+Pe)/fo,(qn+We)/fo);po.z=Ro/fo,Bt.push(po);let ta=new m(Da/Li,La/Li);ta.z=Pa/Li,Je.push(ta)}qe.push(Bt),be.push(Je)}return[qe,be]}(_,U,z,O);return function(J,ne,ce){let he=1/0;QQ(ce,ne)&&(he=bJ(ce,ne[0]));for(let qe=0;qe<ne.length;qe++){let be=ne[qe],Pe=J[qe];for(let We=0;We<be.length-1;We++){let ut=be[We],Rt=[ut,be[We+1],Pe[We+1],Pe[We],ut];XQ(ce,Rt)&&(he=Math.min(he,bJ(ce,Rt)))}}return he!==1/0&&he}(Y[0],Y[1],W)}}function Ab(u,l){return u.x*l.x+u.y*l.y}function bJ(u,l){if(u.length===1){let f=0,h=l[f++],_;for(;!_||h.equals(_);)if(_=l[f++],!_)return 1/0;for(;f<l.length;f++){let w=l[f],S=u[0],A=_.sub(h),O=w.sub(h),k=S.sub(h),z=Ab(A,A),U=Ab(A,O),W=Ab(O,O),Y=Ab(k,A),J=Ab(k,O),ne=z*W-U*U,ce=(W*Y-U*J)/ne,he=(z*J-U*Y)/ne,qe=h.z*(1-ce-he)+_.z*ce+w.z*he;if(isFinite(qe))return qe}return 1/0}{let f=1/0;for(let h of l)f=Math.min(f,h.z);return f}}let OZe=C([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:DZe}=OZe,LZe=C([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:PZe}=LZe,NZe=Zd.VectorTileFeature.types,RZe=Math.cos(Math.PI/180*37.5),wJ=Math.pow(2,14)/.5;class P3{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new Gy,this.layoutVertexArray2=new Vd,this.indexArray=new wl,this.programConfigurations=new ug(l.layers,l.zoom),this.segments=new en,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.hasPattern=M3("line",this.layers,f);let _=this.layers[0].layout.get("line-sort-key"),w=!_.isConstant(),S=[];for(let{feature:A,id:O,index:k,sourceLayerIndex:z}of l){let U=this.layers[0]._featureFilter.needGeometry,W=fg(A,U);if(!this.layers[0]._featureFilter.filter(new ti(this.zoom),W,h))continue;let Y=w?_.evaluate(W,{},h):void 0,J={id:O,properties:A.properties,type:A.type,sourceLayerIndex:z,index:k,geometry:U?W.geometry:cg(A),patterns:{},sortKey:Y};S.push(J)}w&&S.sort((A,O)=>A.sortKey-O.sortKey);for(let A of S){let{geometry:O,index:k,sourceLayerIndex:z}=A;if(this.hasPattern){let U=C3("line",this.layers,A,this.zoom,f);this.patternFeatures.push(U)}else this.addFeature(A,O,k,h,{});f.featureIndex.insert(l[k].feature,O,k,z,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}addFeatures(l,f,h){for(let _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,PZe)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,DZe),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,f,h,_,w){let S=this.layers[0].layout,A=S.get("line-join").evaluate(l,{}),O=S.get("line-cap"),k=S.get("line-miter-limit"),z=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(let U of f)this.addLine(U,l,A,O,k,z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}addLine(l,f,h,_,w,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let he=0;he<l.length-1;he++)this.totalDistance+=l[he].dist(l[he+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let A=NZe[f.type]==="Polygon",O=l.length;for(;O>=2&&l[O-1].equals(l[O-2]);)O--;let k=0;for(;k<O-1&&l[k].equals(l[k+1]);)k++;if(O<(A?3:2))return;h==="bevel"&&(w=1.05);let z=this.overscaling<=16?15*Gi/(512*this.overscaling):0,U=this.segments.prepareSegment(10*O,this.layoutVertexArray,this.indexArray),W,Y,J,ne,ce;this.e1=this.e2=-1,A&&(W=l[O-2],ce=l[k].sub(W)._unit()._perp());for(let he=k;he<O;he++){if(J=he===O-1?A?l[k+1]:void 0:l[he+1],J&&l[he].equals(J))continue;ce&&(ne=ce),W&&(Y=W),W=l[he],ce=J?J.sub(W)._unit()._perp():ne,ne=ne||ce;let qe=ne.add(ce);qe.x===0&&qe.y===0||qe._unit();let be=ne.x*ce.x+ne.y*ce.y,Pe=qe.x*ce.x+qe.y*ce.y,We=Pe!==0?1/Pe:1/0,ut=2*Math.sqrt(2-2*Pe),Rt=Pe<RZe&&Y&&J,fr=ne.x*ce.y-ne.y*ce.x>0;if(Rt&&he>k){let Qt=W.dist(Y);if(Qt>2*z){let $t=W.sub(W.sub(Y)._mult(z/Qt)._round());this.updateDistance(Y,$t),this.addCurrentVertex($t,ne,0,0,U),Y=$t}}let Pt=Y&&J,At=Pt?h:A?"butt":_;if(Pt&&At==="round"&&(We<S?At="miter":We<=2&&(At="fakeround")),At==="miter"&&We>w&&(At="bevel"),At==="bevel"&&(We>2&&(At="flipbevel"),We<w&&(At="miter")),Y&&this.updateDistance(Y,W),At==="miter")qe._mult(We),this.addCurrentVertex(W,qe,0,0,U);else if(At==="flipbevel"){if(We>100)qe=ce.mult(-1);else{let Qt=We*ne.add(ce).mag()/ne.sub(ce).mag();qe._perp()._mult(Qt*(fr?-1:1))}this.addCurrentVertex(W,qe,0,0,U),this.addCurrentVertex(W,qe.mult(-1),0,0,U)}else if(At==="bevel"||At==="fakeround"){let Qt=-Math.sqrt(We*We-1),$t=fr?Qt:0,Bt=fr?0:Qt;if(Y&&this.addCurrentVertex(W,ne,$t,Bt,U),At==="fakeround"){let Je=Math.round(180*ut/Math.PI/20);for(let er=1;er<Je;er++){let Kt=er/Je;if(Kt!==.5){let Bn=Kt-.5;Kt+=Kt*Bn*(Kt-1)*((1.0904+be*(be*(3.55645-1.43519*be)-3.2452))*Bn*Bn+(.848013+be*(.215638*be-1.06021)))}let _r=ce.sub(ne)._mult(Kt)._add(ne)._unit()._mult(fr?-1:1);this.addHalfVertex(W,_r.x,_r.y,!1,fr,0,U)}}J&&this.addCurrentVertex(W,ce,-$t,-Bt,U)}else if(At==="butt")this.addCurrentVertex(W,qe,0,0,U);else if(At==="square"){let Qt=Y?1:-1;this.addCurrentVertex(W,qe,Qt,Qt,U)}else At==="round"&&(Y&&(this.addCurrentVertex(W,ne,0,0,U),this.addCurrentVertex(W,ne,1,1,U,!0)),J&&(this.addCurrentVertex(W,ce,-1,-1,U,!0),this.addCurrentVertex(W,ce,0,0,U)));if(Rt&&he<O-1){let Qt=W.dist(J);if(Qt>2*z){let $t=W.add(J.sub(W)._mult(z/Qt)._round());this.updateDistance(W,$t),this.addCurrentVertex($t,ce,0,0,U),W=$t}}}}addCurrentVertex(l,f,h,_,w,S=!1){let A=f.y*_-f.x,O=-f.y-f.x*_;this.addHalfVertex(l,f.x+f.y*h,f.y-f.x*h,S,!1,h,w),this.addHalfVertex(l,A,O,S,!0,-_,w),this.distance>wJ/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,f,h,_,w,S))}addHalfVertex({x:l,y:f},h,_,w,S,A,O){let k=.5*(this.lineClips?this.scaledDistance*(wJ-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(w?1:0),(f<<1)+(S?1:0),Math.round(63*h)+128,Math.round(63*_)+128,1+(A===0?0:A<0?-1:1)|(63&k)<<2,k>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let z=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,z),O.primitiveLength++),S?this.e2=z:this.e1=z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,f){this.distance+=l.dist(f),this.updateScaledDistance()}}let SJ,EJ;Ut("LineBucket",P3,{omit:["layers","patternFeatures"]});var IJ={get paint(){return EJ=EJ||new b({"line-opacity":new dr(Se.paint_line["line-opacity"]),"line-color":new dr(Se.paint_line["line-color"]),"line-translate":new Zt(Se.paint_line["line-translate"]),"line-translate-anchor":new Zt(Se.paint_line["line-translate-anchor"]),"line-width":new dr(Se.paint_line["line-width"]),"line-gap-width":new dr(Se.paint_line["line-gap-width"]),"line-offset":new dr(Se.paint_line["line-offset"]),"line-blur":new dr(Se.paint_line["line-blur"]),"line-dasharray":new Vy(Se.paint_line["line-dasharray"]),"line-pattern":new Uy(Se.paint_line["line-pattern"]),"line-gradient":new vb(Se.paint_line["line-gradient"])})},get layout(){return SJ=SJ||new b({"line-cap":new Zt(Se.layout_line["line-cap"]),"line-join":new dr(Se.layout_line["line-join"]),"line-miter-limit":new Zt(Se.layout_line["line-miter-limit"]),"line-round-limit":new Zt(Se.layout_line["line-round-limit"]),"line-sort-key":new dr(Se.layout_line["line-sort-key"])})}};class kZe extends dr{possiblyEvaluate(l,f){return f=new ti(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(l,f)}evaluate(l,f,h,_){return f=re({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(l,f,h,_)}}let yA;class qZe extends p{constructor(l){super(l,IJ),this.gradientVersion=0,yA||(yA=new kZe(IJ.paint.properties["line-width"].specification),yA.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){let f=this.gradientExpression();this.stepInterpolant=!!function(h){return h._styleExpression!==void 0}(f)&&f._styleExpression.expression instanceof Sd,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,f){super.recalculate(l,f),this.paint._values["line-floorwidth"]=yA.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new P3(l)}queryRadius(l){let f=l,h=TJ(xb("line-width",this,f),xb("line-gap-width",this,f)),_=xb("line-offset",this,f);return h/2+Math.abs(_)+pA(this.paint.get("line-translate"))}queryIntersectsFeature(l,f,h,_,w,S,A){let O=dA(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,A),k=A/2*TJ(this.paint.get("line-width").evaluate(f,h),this.paint.get("line-gap-width").evaluate(f,h)),z=this.paint.get("line-offset").evaluate(f,h);return z&&(_=function(U,W){let Y=[];for(let J=0;J<U.length;J++){let ne=U[J],ce=[];for(let he=0;he<ne.length;he++){let qe=ne[he-1],be=ne[he],Pe=ne[he+1],We=he===0?new m(0,0):be.sub(qe)._unit()._perp(),ut=he===ne.length-1?new m(0,0):Pe.sub(be)._unit()._perp(),Rt=We._add(ut)._unit(),fr=Rt.x*ut.x+Rt.y*ut.y;fr!==0&&Rt._mult(1/fr),ce.push(Rt._mult(W)._add(be))}Y.push(ce)}return Y}(_,z*A)),function(U,W,Y){for(let J=0;J<W.length;J++){let ne=W[J];if(U.length>=3){for(let ce=0;ce<ne.length;ce++)if(Ky(U,ne[ce]))return!0}if($We(U,ne,Y))return!0}return!1}(O,_,k)}isTileClipped(){return!0}}function TJ(u,l){return l>0?l+2*u:u}let jZe=C([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),zZe=C([{name:"a_projected_pos",components:3,type:"Float32"}],4);C([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let FZe=C([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);C([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let AJ=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),BZe=C([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function UZe(u,l,f){return u.sections.forEach(h=>{h.text=function(_,w,S){let A=w.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?_=_.toLocaleUpperCase():A==="lowercase"&&(_=_.toLocaleLowerCase()),fs.applyArabicShaping&&(_=fs.applyArabicShaping(_)),_}(h.text,l,f)}),u}C([{name:"triangle",components:3,type:"Uint16"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),C([{type:"Float32",name:"offsetX"}]),C([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),C([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let Mb={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var Xi=24,MJ=kn,CJ=function(u,l,f,h,_){var w,S,A=8*_-h-1,O=(1<<A)-1,k=O>>1,z=-7,U=f?_-1:0,W=f?-1:1,Y=u[l+U];for(U+=W,w=Y&(1<<-z)-1,Y>>=-z,z+=A;z>0;w=256*w+u[l+U],U+=W,z-=8);for(S=w&(1<<-z)-1,w>>=-z,z+=h;z>0;S=256*S+u[l+U],U+=W,z-=8);if(w===0)w=1-k;else{if(w===O)return S?NaN:1/0*(Y?-1:1);S+=Math.pow(2,h),w-=k}return(Y?-1:1)*S*Math.pow(2,w-h)},OJ=function(u,l,f,h,_,w){var S,A,O,k=8*w-_-1,z=(1<<k)-1,U=z>>1,W=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=h?0:w-1,J=h?1:-1,ne=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(A=isNaN(l)?1:0,S=z):(S=Math.floor(Math.log(l)/Math.LN2),l*(O=Math.pow(2,-S))<1&&(S--,O*=2),(l+=S+U>=1?W/O:W*Math.pow(2,1-U))*O>=2&&(S++,O/=2),S+U>=z?(A=0,S=z):S+U>=1?(A=(l*O-1)*Math.pow(2,_),S+=U):(A=l*Math.pow(2,U-1)*Math.pow(2,_),S=0));_>=8;u[f+Y]=255&A,Y+=J,A/=256,_-=8);for(S=S<<_|A,k+=_;k>0;u[f+Y]=255&S,Y+=J,S/=256,k-=8);u[f+Y-J]|=128*ne};function kn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}kn.Varint=0,kn.Fixed64=1,kn.Bytes=2,kn.Fixed32=5;var N3=4294967296,DJ=1/N3,LJ=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function sp(u){return u.type===kn.Bytes?u.readVarint()+u.pos:u.pos+1}function e0(u,l,f){return f?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function PJ(u,l,f){var h=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));f.realloc(h);for(var _=f.pos-1;_>=u;_--)f.buf[_+h]=f.buf[_]}function VZe(u,l){for(var f=0;f<u.length;f++)l.writeVarint(u[f])}function GZe(u,l){for(var f=0;f<u.length;f++)l.writeSVarint(u[f])}function HZe(u,l){for(var f=0;f<u.length;f++)l.writeFloat(u[f])}function $Ze(u,l){for(var f=0;f<u.length;f++)l.writeDouble(u[f])}function WZe(u,l){for(var f=0;f<u.length;f++)l.writeBoolean(u[f])}function ZZe(u,l){for(var f=0;f<u.length;f++)l.writeFixed32(u[f])}function YZe(u,l){for(var f=0;f<u.length;f++)l.writeSFixed32(u[f])}function KZe(u,l){for(var f=0;f<u.length;f++)l.writeFixed64(u[f])}function XZe(u,l){for(var f=0;f<u.length;f++)l.writeSFixed64(u[f])}function _A(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function t0(u,l,f){u[f]=l,u[f+1]=l>>>8,u[f+2]=l>>>16,u[f+3]=l>>>24}function NJ(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}kn.prototype={destroy:function(){this.buf=null},readFields:function(u,l,f){for(f=f||this.length;this.pos<f;){var h=this.readVarint(),_=h>>3,w=this.pos;this.type=7&h,u(_,l,this),this.pos===w&&this.skip(h)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=_A(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=NJ(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=_A(this.buf,this.pos)+_A(this.buf,this.pos+4)*N3;return this.pos+=8,u},readSFixed64:function(){var u=_A(this.buf,this.pos)+NJ(this.buf,this.pos+4)*N3;return this.pos+=8,u},readFloat:function(){var u=CJ(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=CJ(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,f,h=this.buf;return l=127&(f=h[this.pos++]),f<128?l:(l|=(127&(f=h[this.pos++]))<<7,f<128?l:(l|=(127&(f=h[this.pos++]))<<14,f<128?l:(l|=(127&(f=h[this.pos++]))<<21,f<128?l:function(_,w,S){var A,O,k=S.buf;if(A=(112&(O=k[S.pos++]))>>4,O<128||(A|=(127&(O=k[S.pos++]))<<3,O<128)||(A|=(127&(O=k[S.pos++]))<<10,O<128)||(A|=(127&(O=k[S.pos++]))<<17,O<128)||(A|=(127&(O=k[S.pos++]))<<24,O<128)||(A|=(1&(O=k[S.pos++]))<<31,O<128))return e0(_,A,w);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(f=h[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&LJ?function(f,h,_){return LJ.decode(f.subarray(h,_))}(this.buf,l,u):function(f,h,_){for(var w="",S=h;S<_;){var A,O,k,z=f[S],U=null,W=z>239?4:z>223?3:z>191?2:1;if(S+W>_)break;W===1?z<128&&(U=z):W===2?(192&(A=f[S+1]))==128&&(U=(31&z)<<6|63&A)<=127&&(U=null):W===3?(O=f[S+2],(192&(A=f[S+1]))==128&&(192&O)==128&&((U=(15&z)<<12|(63&A)<<6|63&O)<=2047||U>=55296&&U<=57343)&&(U=null)):W===4&&(O=f[S+2],k=f[S+3],(192&(A=f[S+1]))==128&&(192&O)==128&&(192&k)==128&&((U=(15&z)<<18|(63&A)<<12|(63&O)<<6|63&k)<=65535||U>=1114112)&&(U=null)),U===null?(U=65533,W=1):U>65535&&(U-=65536,w+=String.fromCharCode(U>>>10&1023|55296),U=56320|1023&U),w+=String.fromCharCode(U),S+=W}return w}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==kn.Bytes)return u.push(this.readVarint(l));var f=sp(this);for(u=u||[];this.pos<f;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==kn.Bytes)return u.push(this.readSVarint());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==kn.Bytes)return u.push(this.readBoolean());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==kn.Bytes)return u.push(this.readFloat());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==kn.Bytes)return u.push(this.readDouble());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==kn.Bytes)return u.push(this.readFixed32());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==kn.Bytes)return u.push(this.readSFixed32());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==kn.Bytes)return u.push(this.readFixed64());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==kn.Bytes)return u.push(this.readSFixed64());var l=sp(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===kn.Varint)for(;this.buf[this.pos++]>127;);else if(l===kn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===kn.Fixed32)this.pos+=4;else{if(l!==kn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var f=new Uint8Array(l);f.set(this.buf),this.buf=f,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),t0(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),t0(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),t0(this.buf,-1&u,this.pos),t0(this.buf,Math.floor(u*DJ),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),t0(this.buf,-1&u,this.pos),t0(this.buf,Math.floor(u*DJ),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,f){var h,_;if(l>=0?(h=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(h=~(-l%4294967296))?h=h+1|0:(h=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),function(w,S,A){A.buf[A.pos++]=127&w|128,w>>>=7,A.buf[A.pos++]=127&w|128,w>>>=7,A.buf[A.pos++]=127&w|128,w>>>=7,A.buf[A.pos++]=127&w|128,A.buf[A.pos]=127&(w>>>=7)}(h,0,f),function(w,S){var A=(7&w)<<4;S.buf[S.pos++]|=A|((w>>>=3)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w)))))}(_,f)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(h,_,w){for(var S,A,O=0;O<_.length;O++){if((S=_.charCodeAt(O))>55295&&S<57344){if(!A){S>56319||O+1===_.length?(h[w++]=239,h[w++]=191,h[w++]=189):A=S;continue}if(S<56320){h[w++]=239,h[w++]=191,h[w++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(h[w++]=239,h[w++]=191,h[w++]=189,A=null);S<128?h[w++]=S:(S<2048?h[w++]=S>>6|192:(S<65536?h[w++]=S>>12|224:(h[w++]=S>>18|240,h[w++]=S>>12&63|128),h[w++]=S>>6&63|128),h[w++]=63&S|128)}return w}(this.buf,u,this.pos);var f=this.pos-l;f>=128&&PJ(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeFloat:function(u){this.realloc(4),OJ(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),OJ(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var f=0;f<l;f++)this.buf[this.pos++]=u[f]},writeRawMessage:function(u,l){this.pos++;var f=this.pos;u(l,this);var h=this.pos-f;h>=128&&PJ(f,h,this),this.pos=f-1,this.writeVarint(h),this.pos+=h},writeMessage:function(u,l,f){this.writeTag(u,kn.Bytes),this.writeRawMessage(l,f)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,VZe,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,GZe,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,WZe,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,HZe,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,$Ze,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,ZZe,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,YZe,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,KZe,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,XZe,l)},writeBytesField:function(u,l){this.writeTag(u,kn.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,kn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,kn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,kn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,kn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,kn.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,kn.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,kn.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,kn.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,kn.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var R3=a(MJ);let k3=3;function QZe(u,l,f){u===1&&f.readMessage(JZe,l)}function JZe(u,l,f){if(u===3){let{id:h,bitmap:_,width:w,height:S,left:A,top:O,advance:k}=f.readMessage(eYe,{});l.push({id:h,bitmap:new wb({width:w+2*k3,height:S+2*k3},_),metrics:{width:w,height:S,left:A,top:O,advance:k}})}}function eYe(u,l,f){u===1?l.id=f.readVarint():u===2?l.bitmap=f.readBytes():u===3?l.width=f.readVarint():u===4?l.height=f.readVarint():u===5?l.left=f.readSVarint():u===6?l.top=f.readSVarint():u===7&&(l.advance=f.readVarint())}let RJ=k3;function kJ(u){let l=0,f=0;for(let S of u)l+=S.w*S.h,f=Math.max(f,S.w);u.sort((S,A)=>A.h-S.h);let h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),f),h:1/0}],_=0,w=0;for(let S of u)for(let A=h.length-1;A>=0;A--){let O=h[A];if(!(S.w>O.w||S.h>O.h)){if(S.x=O.x,S.y=O.y,w=Math.max(w,S.y+S.h),_=Math.max(_,S.x+S.w),S.w===O.w&&S.h===O.h){let k=h.pop();A<h.length&&(h[A]=k)}else S.h===O.h?(O.x+=S.w,O.w-=S.w):S.w===O.w?(O.y+=S.h,O.h-=S.h):(h.push({x:O.x+S.w,y:O.y,w:O.w-S.w,h:S.h}),O.y+=S.h,O.h-=S.h);break}}return{w:_,h:w,fill:l/(_*w)||0}}let ds=1;class q3{constructor(l,{pixelRatio:f,version:h,stretchX:_,stretchY:w,content:S,textFitWidth:A,textFitHeight:O}){this.paddedRect=l,this.pixelRatio=f,this.stretchX=_,this.stretchY=w,this.content=S,this.version=h,this.textFitWidth=A,this.textFitHeight=O}get tl(){return[this.paddedRect.x+ds,this.paddedRect.y+ds]}get br(){return[this.paddedRect.x+this.paddedRect.w-ds,this.paddedRect.y+this.paddedRect.h-ds]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ds)/this.pixelRatio,(this.paddedRect.h-2*ds)/this.pixelRatio]}}class qJ{constructor(l,f){let h={},_={};this.haveRenderCallbacks=[];let w=[];this.addImages(l,h,w),this.addImages(f,_,w);let{w:S,h:A}=kJ(w),O=new Sl({width:S||1,height:A||1});for(let k in l){let z=l[k],U=h[k].paddedRect;Sl.copy(z.data,O,{x:0,y:0},{x:U.x+ds,y:U.y+ds},z.data)}for(let k in f){let z=f[k],U=_[k].paddedRect,W=U.x+ds,Y=U.y+ds,J=z.data.width,ne=z.data.height;Sl.copy(z.data,O,{x:0,y:0},{x:W,y:Y},z.data),Sl.copy(z.data,O,{x:0,y:ne-1},{x:W,y:Y-1},{width:J,height:1}),Sl.copy(z.data,O,{x:0,y:0},{x:W,y:Y+ne},{width:J,height:1}),Sl.copy(z.data,O,{x:J-1,y:0},{x:W-1,y:Y},{width:1,height:ne}),Sl.copy(z.data,O,{x:0,y:0},{x:W+J,y:Y},{width:1,height:ne})}this.image=O,this.iconPositions=h,this.patternPositions=_}addImages(l,f,h){for(let _ in l){let w=l[_],S={x:0,y:0,w:w.data.width+2*ds,h:w.data.height+2*ds};h.push(S),f[_]=new q3(S,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,f){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let h in l.updatedImages)this.patchUpdatedImage(this.iconPositions[h],l.getImage(h),f),this.patchUpdatedImage(this.patternPositions[h],l.getImage(h),f)}patchUpdatedImage(l,f,h){if(!l||!f||l.version===f.version)return;l.version=f.version;let[_,w]=l.tl;h.update(f.data,void 0,{x:_,y:w})}}var Yd;Ut("ImagePosition",q3),Ut("ImageAtlas",qJ),i.ah=void 0,(Yd=i.ah||(i.ah={}))[Yd.none=0]="none",Yd[Yd.horizontal=1]="horizontal",Yd[Yd.vertical=2]="vertical",Yd[Yd.horizontalOnly=3]="horizontalOnly";let Cb=-17;class Ob{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,f){let h=new Ob;return h.scale=l||1,h.fontStack=f,h}static forImage(l){let f=new Ob;return f.imageName=l,f}}class r0{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,f){let h=new r0;for(let _=0;_<l.sections.length;_++){let w=l.sections[_];w.image?h.addImageSection(w):h.addTextSection(w,f)}return h}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let f="";for(let h=0;h<l.length;h++){let _=l.charCodeAt(h+1)||null,w=l.charCodeAt(h-1)||null;f+=_&&oA(_)&&!Mb[l[h+1]]||w&&oA(w)&&!Mb[l[h-1]]||!Mb[l[h]]?l[h]:Mb[l[h]]}return f}(this.text)}trim(){let l=0;for(let h=0;h<this.text.length&&bA[this.text.charCodeAt(h)];h++)l++;let f=this.text.length;for(let h=this.text.length-1;h>=0&&h>=l&&bA[this.text.charCodeAt(h)];h--)f--;this.text=this.text.substring(l,f),this.sectionIndex=this.sectionIndex.slice(l,f)}substring(l,f){let h=new r0;return h.text=this.text.substring(l,f),h.sectionIndex=this.sectionIndex.slice(l,f),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,f)=>Math.max(l,this.sections[f].scale),0)}addTextSection(l,f){this.text+=l.text,this.sections.push(Ob.forText(l.scale,l.fontStack||f));let h=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(h)}addImageSection(l){let f=l.image?l.image.name:"";if(f.length===0)return void Fe("Can't add FormattedSection with an empty image.");let h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Ob.forImage(f)),this.sectionIndex.push(this.sections.length-1)):Fe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function xA(u,l,f,h,_,w,S,A,O,k,z,U,W,Y,J){let ne=r0.fromFeature(u,_),ce;U===i.ah.vertical&&ne.verticalizePunctuation();let{processBidirectionalText:he,processStyledBidirectionalText:qe}=fs;if(he&&ne.sections.length===1){ce=[];let We=he(ne.toString(),j3(ne,k,w,l,h,Y));for(let ut of We){let Rt=new r0;Rt.text=ut,Rt.sections=ne.sections;for(let fr=0;fr<ut.length;fr++)Rt.sectionIndex.push(0);ce.push(Rt)}}else if(qe){ce=[];let We=qe(ne.text,ne.sectionIndex,j3(ne,k,w,l,h,Y));for(let ut of We){let Rt=new r0;Rt.text=ut[0],Rt.sectionIndex=ut[1],Rt.sections=ne.sections,ce.push(Rt)}}else ce=function(We,ut){let Rt=[],fr=We.text,Pt=0;for(let At of ut)Rt.push(We.substring(Pt,At)),Pt=At;return Pt<fr.length&&Rt.push(We.substring(Pt,fr.length)),Rt}(ne,j3(ne,k,w,l,h,Y));let be=[],Pe={positionedLines:be,text:ne.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:U,iconsInText:!1,verticalizable:!1};return function(We,ut,Rt,fr,Pt,At,Qt,$t,Bt,Je,er,Kt){let _r=0,Bn=Cb,qn=0,co=0,Jl=$t==="right"?1:$t==="left"?0:.5,Ro=0;for(let Li of Pt){Li.trim();let po=Li.getMaxScale(),ta=(po-1)*Xi,ko={positionedGlyphs:[],lineOffset:0};We.positionedLines[Ro]=ko;let Na=ko.positionedGlyphs,qo=0;if(!Li.length()){Bn+=At,++Ro;continue}for(let hs=0;hs<Li.length();hs++){let mn=Li.getSection(hs),Zn=Li.getSectionIndex(hs),oi=Li.getCharCode(hs),js=0,Ei=null,a0=null,Bc=null,Uc=Xi,eu=!(Bt===i.ah.horizontal||!er&&!mb(oi)||er&&(bA[oi]||(fo=oi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(fo)))));if(mn.imageName){let Tl=fr[mn.imageName];if(!Tl)continue;Bc=mn.imageName,We.iconsInText=We.iconsInText||!0,a0=Tl.paddedRect;let xo=Tl.displaySize;mn.scale=mn.scale*Xi/Kt,Ei={width:xo[0],height:xo[1],left:ds,top:-RJ,advance:eu?xo[1]:xo[0]},js=ta+(Xi-xo[1]*mn.scale),Uc=Ei.advance;let lp=eu?xo[0]*mn.scale-Xi*po:xo[1]*mn.scale-Xi*po;lp>0&&lp>qo&&(qo=lp)}else{let Tl=Rt[mn.fontStack],xo=Tl&&Tl[oi];if(xo&&xo.rect)a0=xo.rect,Ei=xo.metrics;else{let lp=ut[mn.fontStack],kb=lp&&lp[oi];if(!kb)continue;Ei=kb.metrics}js=(po-mn.scale)*Xi}eu?(We.verticalizable=!0,Na.push({glyph:oi,imageName:Bc,x:_r,y:Bn+js,vertical:eu,scale:mn.scale,fontStack:mn.fontStack,sectionIndex:Zn,metrics:Ei,rect:a0}),_r+=Uc*mn.scale+Je):(Na.push({glyph:oi,imageName:Bc,x:_r,y:Bn+js,vertical:eu,scale:mn.scale,fontStack:mn.fontStack,sectionIndex:Zn,metrics:Ei,rect:a0}),_r+=Ei.advance*mn.scale+Je)}Na.length!==0&&(qn=Math.max(_r-Je,qn),iYe(Na,0,Na.length-1,Jl,qo)),_r=0;let Il=At*po+qo;ko.lineOffset=Math.max(qo,ta),Bn+=Il,co=Math.max(Il,co),++Ro}var fo;let Da=Bn-Cb,{horizontalAlign:La,verticalAlign:Pa}=z3(Qt);(function(Li,po,ta,ko,Na,qo,Il,hs,mn){let Zn=(po-ta)*Na,oi=0;oi=qo!==Il?-hs*ko-Cb:(-ko*mn+.5)*Il;for(let js of Li)for(let Ei of js.positionedGlyphs)Ei.x+=Zn,Ei.y+=oi})(We.positionedLines,Jl,La,Pa,qn,co,At,Da,Pt.length),We.top+=-Pa*Da,We.bottom=We.top+Da,We.left+=-La*qn,We.right=We.left+qn}(Pe,l,f,h,ce,S,A,O,U,k,W,J),!function(We){for(let ut of We)if(ut.positionedGlyphs.length!==0)return!1;return!0}(be)&&Pe}let bA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},tYe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},rYe={40:!0};function jJ(u,l,f,h,_,w){if(l.imageName){let S=h[l.imageName];return S?S.displaySize[0]*l.scale*Xi/w+_:0}{let S=f[l.fontStack],A=S&&S[u];return A?A.metrics.advance*l.scale+_:0}}function zJ(u,l,f,h){let _=Math.pow(u-l,2);return h?u<l?_/2:2*_:_+Math.abs(f)*f}function nYe(u,l,f){let h=0;return u===10&&(h-=1e4),f&&(h+=150),u!==40&&u!==65288||(h+=50),l!==41&&l!==65289||(h+=50),h}function FJ(u,l,f,h,_,w){let S=null,A=zJ(l,f,_,w);for(let O of h){let k=zJ(l-O.x,f,_,w)+O.badness;k<=A&&(S=O,A=k)}return{index:u,x:l,priorBreak:S,badness:A}}function BJ(u){return u?BJ(u.priorBreak).concat(u.index):[]}function j3(u,l,f,h,_,w){if(!u)return[];let S=[],A=function(U,W,Y,J,ne,ce){let he=0;for(let qe=0;qe<U.length();qe++){let be=U.getSection(qe);he+=jJ(U.getCharCode(qe),be,J,ne,W,ce)}return he/Math.max(1,Math.ceil(he/Y))}(u,l,f,h,_,w),O=u.text.indexOf("\u200B")>=0,k=0;for(let U=0;U<u.length();U++){let W=u.getSection(U),Y=u.getCharCode(U);if(bA[Y]||(k+=jJ(Y,W,h,_,l,w)),U<u.length()-1){let J=!((z=Y)<11904)&&(!!Jr["CJK Compatibility Forms"](z)||!!Jr["CJK Compatibility"](z)||!!Jr["CJK Strokes"](z)||!!Jr["CJK Symbols and Punctuation"](z)||!!Jr["Enclosed CJK Letters and Months"](z)||!!Jr["Halfwidth and Fullwidth Forms"](z)||!!Jr["Ideographic Description Characters"](z)||!!Jr["Vertical Forms"](z)||iA.test(String.fromCodePoint(z)));(tYe[Y]||J||W.imageName||U!==u.length()-2&&rYe[u.getCharCode(U+1)])&&S.push(FJ(U+1,k,A,S,nYe(Y,u.getCharCode(U+1),J&&O),!1))}}var z;return BJ(FJ(u.length(),k,A,S,0,!0))}function z3(u){let l=.5,f=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0;}switch(u){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0;}return{horizontalAlign:l,verticalAlign:f}}function iYe(u,l,f,h,_){if(!h&&!_)return;let w=u[f],S=(u[f].x+w.metrics.advance*w.scale)*h;for(let A=l;A<=f;A++)u[A].x-=S,u[A].y+=_}function oYe(u,l,f){let{horizontalAlign:h,verticalAlign:_}=z3(f),w=l[0]-u.displaySize[0]*h,S=l[1]-u.displaySize[1]*_;return{image:u,top:S,bottom:S+u.displaySize[1],left:w,right:w+u.displaySize[0]}}function UJ(u){var l,f;let h=u.left,_=u.top,w=u.right-h,S=u.bottom-_,A=(l=u.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",O=(f=u.image.textFitHeight)!==null&&f!==void 0?f:"stretchOrShrink",k=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(O==="proportional"){if(A==="stretchOnly"&&w/S<k||A==="proportional"){let z=Math.ceil(S*k);h*=z/w,w=z}}else if(A==="proportional"&&O==="stretchOnly"&&k!==0&&w/S>k){let z=Math.ceil(w/k);_*=z/S,S=z}return{x1:h,y1:_,x2:h+w,y2:_+S}}function VJ(u,l,f,h,_,w){let S=u.image,A;if(S.content){let ce=S.content,he=S.pixelRatio||1;A=[ce[0]/he,ce[1]/he,S.displaySize[0]-ce[2]/he,S.displaySize[1]-ce[3]/he]}let O=l.left*w,k=l.right*w,z,U,W,Y;f==="width"||f==="both"?(Y=_[0]+O-h[3],U=_[0]+k+h[1]):(Y=_[0]+(O+k-S.displaySize[0])/2,U=Y+S.displaySize[0]);let J=l.top*w,ne=l.bottom*w;return f==="height"||f==="both"?(z=_[1]+J-h[0],W=_[1]+ne+h[2]):(z=_[1]+(J+ne-S.displaySize[1])/2,W=z+S.displaySize[1]),{image:S,top:z,right:U,bottom:W,left:Y,collisionPadding:A}}let Db=255,Fc=128,Kd=Db*Fc;function GJ(u,l){let{expression:f}=l;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new ti(u+1))};if(f.kind==="source")return{kind:"source"};{let{zoomStops:h,interpolationType:_}=f,w=0;for(;w<h.length&&h[w]<=u;)w++;w=Math.max(0,w-1);let S=w;for(;S<h.length&&h[S]<u+1;)S++;S=Math.min(h.length-1,S);let A=h[w],O=h[S];return f.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:O,interpolationType:_}:{kind:"camera",minZoom:A,maxZoom:O,minSize:f.evaluate(new ti(A)),maxSize:f.evaluate(new ti(O)),interpolationType:_}}}function F3(u,l,f){let h="never",_=u.get(l);return _?h=_:u.get(f)&&(h="always"),h}let aYe=Zd.VectorTileFeature.types,sYe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wA(u,l,f,h,_,w,S,A,O,k,z,U,W){let Y=A?Math.min(Kd,Math.round(A[0])):0,J=A?Math.min(Kd,Math.round(A[1])):0;u.emplaceBack(l,f,Math.round(32*h),Math.round(32*_),w,S,(Y<<1)+(O?1:0),J,16*k,16*z,256*U,256*W)}function B3(u,l,f){u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f)}function lYe(u){for(let l of u.sections)if(m3(l.text))return!0;return!1}class U3{constructor(l){this.layoutVertexArray=new Hy,this.indexArray=new wl,this.programConfigurations=l,this.segments=new en,this.dynamicLayoutVertexArray=new yb,this.opacityVertexArray=new ks,this.hasVisibleVertices=!1,this.placedSymbolArray=new ri}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,f,h,_){this.isEmpty()||(h&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,jZe.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,zZe.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,sYe,!0),this.opacityVertexBuffer.itemSize=1),(h||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ut("SymbolBuffers",U3);class V3{constructor(l,f,h){this.layoutVertexArray=new l,this.layoutAttributes=f,this.indexArray=new h,this.segments=new en,this.collisionVertexArray=new jc}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,FZe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ut("CollisionBuffers",V3);class n0{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(S=>S.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=w3([]),this.placementViewportMatrix=w3([]);let f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=GJ(this.zoom,f["text-size"]),this.iconSizeData=GJ(this.zoom,f["icon-size"]);let h=this.layers[0].layout,_=h.get("symbol-sort-key"),w=h.get("symbol-z-order");this.canOverlap=F3(h,"text-overlap","text-allow-overlap")!=="never"||F3(h,"icon-overlap","icon-allow-overlap")!=="never"||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,h.get("symbol-placement")==="point"&&(this.writingModes=h.get("text-writing-mode").map(S=>i.ah[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=l.sourceID}createArrays(){this.text=new U3(new ug(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new U3(new ug(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new ni,this.lineVertexArray=new Do,this.symbolInstances=new Yr,this.textAnchorOffsets=new ii}calculateGlyphDependencies(l,f,h,_,w){for(let S=0;S<l.length;S++)if(f[l.charCodeAt(S)]=!0,(h||_)&&w){let A=Mb[l.charAt(S)];A&&(f[A.charCodeAt(0)]=!0)}}populate(l,f,h){let _=this.layers[0],w=_.layout,S=w.get("text-font"),A=w.get("text-field"),O=w.get("icon-image"),k=(A.value.kind!=="constant"||A.value.value instanceof ss&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),z=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,U=w.get("symbol-sort-key");if(this.features=[],!k&&!z)return;let W=f.iconDependencies,Y=f.glyphDependencies,J=f.availableImages,ne=new ti(this.zoom);for(let{feature:ce,id:he,index:qe,sourceLayerIndex:be}of l){let Pe=_._featureFilter.needGeometry,We=fg(ce,Pe);if(!_._featureFilter.filter(ne,We,h))continue;let ut,Rt;if(Pe||(We.geometry=cg(ce)),k){let Pt=_.getValueAndResolveTokens("text-field",We,h,J),At=ss.factory(Pt),Qt=this.hasRTLText=this.hasRTLText||lYe(At);(!Qt||fs.getRTLTextPluginStatus()==="unavailable"||Qt&&fs.isParsed())&&(ut=UZe(At,_,We))}if(z){let Pt=_.getValueAndResolveTokens("icon-image",We,h,J);Rt=Pt instanceof us?Pt:us.fromString(Pt)}if(!ut&&!Rt)continue;let fr=this.sortFeaturesByKey?U.evaluate(We,{},h):void 0;if(this.features.push({id:he,text:ut,icon:Rt,index:qe,sourceLayerIndex:be,geometry:We.geometry,properties:ce.properties,type:aYe[ce.type],sortKey:fr}),Rt&&(W[Rt.name]=!0),ut){let Pt=S.evaluate(We,{},h).join(","),At=w.get("text-rotation-alignment")!=="viewport"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ah.vertical)>=0;for(let Qt of ut.sections)if(Qt.image)W[Qt.image.name]=!0;else{let $t=db(ut.toString()),Bt=Qt.fontStack||Pt,Je=Y[Bt]=Y[Bt]||{};this.calculateGlyphDependencies(Qt.text,Je,At,this.allowVerticalPlacement,$t)}}}w.get("symbol-placement")==="line"&&(this.features=function(ce){let he={},qe={},be=[],Pe=0;function We(Pt){be.push(ce[Pt]),Pe++}function ut(Pt,At,Qt){let $t=qe[Pt];return delete qe[Pt],qe[At]=$t,be[$t].geometry[0].pop(),be[$t].geometry[0]=be[$t].geometry[0].concat(Qt[0]),$t}function Rt(Pt,At,Qt){let $t=he[At];return delete he[At],he[Pt]=$t,be[$t].geometry[0].shift(),be[$t].geometry[0]=Qt[0].concat(be[$t].geometry[0]),$t}function fr(Pt,At,Qt){let $t=Qt?At[0][At[0].length-1]:At[0][0];return`${Pt}:${$t.x}:${$t.y}`}for(let Pt=0;Pt<ce.length;Pt++){let At=ce[Pt],Qt=At.geometry,$t=At.text?At.text.toString():null;if(!$t){We(Pt);continue}let Bt=fr($t,Qt),Je=fr($t,Qt,!0);if(Bt in qe&&Je in he&&qe[Bt]!==he[Je]){let er=Rt(Bt,Je,Qt),Kt=ut(Bt,Je,be[er].geometry);delete he[Bt],delete qe[Je],qe[fr($t,be[Kt].geometry,!0)]=Kt,be[er].geometry=null}else Bt in qe?ut(Bt,Je,Qt):Je in he?Rt(Bt,Je,Qt):(We(Pt),he[Bt]=Pe-1,qe[Je]=Pe-1)}return be.filter(Pt=>Pt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ce,he)=>ce.sortKey-he.sortKey)}update(l,f,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,f,this.layers,h),this.icon.programConfigurations.updatePaintArrays(l,f,this.layers,h))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,f){let h=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(f[l.segment+1]),w=l.dist(f[l.segment]),S={};for(let A=l.segment+1;A<f.length;A++)S[A]={x:f[A].x,y:f[A].y,tileUnitDistanceFromAnchor:_},A<f.length-1&&(_+=f[A+1].dist(f[A]));for(let A=l.segment||0;A>=0;A--)S[A]={x:f[A].x,y:f[A].y,tileUnitDistanceFromAnchor:w},A>0&&(w+=f[A-1].dist(f[A]));for(let A=0;A<f.length;A++){let O=S[A];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(l,f,h,_,w,S,A,O,k,z,U,W){let Y=l.indexArray,J=l.layoutVertexArray,ne=l.segments.prepareSegment(4*f.length,J,Y,this.canOverlap?S.sortKey:void 0),ce=this.glyphOffsetArray.length,he=ne.vertexLength,qe=this.allowVerticalPlacement&&A===i.ah.vertical?Math.PI/2:0,be=S.text&&S.text.sections;for(let Pe=0;Pe<f.length;Pe++){let{tl:We,tr:ut,bl:Rt,br:fr,tex:Pt,pixelOffsetTL:At,pixelOffsetBR:Qt,minFontScaleX:$t,minFontScaleY:Bt,glyphOffset:Je,isSDF:er,sectionIndex:Kt}=f[Pe],_r=ne.vertexLength,Bn=Je[1];wA(J,O.x,O.y,We.x,Bn+We.y,Pt.x,Pt.y,h,er,At.x,At.y,$t,Bt),wA(J,O.x,O.y,ut.x,Bn+ut.y,Pt.x+Pt.w,Pt.y,h,er,Qt.x,At.y,$t,Bt),wA(J,O.x,O.y,Rt.x,Bn+Rt.y,Pt.x,Pt.y+Pt.h,h,er,At.x,Qt.y,$t,Bt),wA(J,O.x,O.y,fr.x,Bn+fr.y,Pt.x+Pt.w,Pt.y+Pt.h,h,er,Qt.x,Qt.y,$t,Bt),B3(l.dynamicLayoutVertexArray,O,qe),Y.emplaceBack(_r,_r+1,_r+2),Y.emplaceBack(_r+1,_r+2,_r+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Je[0]),Pe!==f.length-1&&Kt===f[Pe+1].sectionIndex||l.programConfigurations.populatePaintArrays(J.length,S,S.index,{},W,be&&be[Kt])}l.placedSymbolArray.emplaceBack(O.x,O.y,ce,this.glyphOffsetArray.length-ce,he,k,z,O.segment,h?h[0]:0,h?h[1]:0,_[0],_[1],A,0,!1,0,U)}_addCollisionDebugVertex(l,f,h,_,w,S){return f.emplaceBack(0,0),l.emplaceBack(h.x,h.y,_,w,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(l,f,h,_,w,S,A){let O=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),k=O.vertexLength,z=w.layoutVertexArray,U=w.collisionVertexArray,W=A.anchorX,Y=A.anchorY;this._addCollisionDebugVertex(z,U,S,W,Y,new m(l,f)),this._addCollisionDebugVertex(z,U,S,W,Y,new m(h,f)),this._addCollisionDebugVertex(z,U,S,W,Y,new m(h,_)),this._addCollisionDebugVertex(z,U,S,W,Y,new m(l,_)),O.vertexLength+=4;let J=w.indexArray;J.emplaceBack(k,k+1),J.emplaceBack(k+1,k+2),J.emplaceBack(k+2,k+3),J.emplaceBack(k+3,k),O.primitiveLength+=4}addDebugCollisionBoxes(l,f,h,_){for(let w=l;w<f;w++){let S=this.collisionBoxArray.get(w);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,_?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,h)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new V3(qs,AJ.members,_o),this.iconCollisionBox=new V3(qs,AJ.members,_o);for(let l=0;l<this.symbolInstances.length;l++){let f=this.symbolInstances.get(l);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(l,f,h,_,w,S,A,O,k){let z={};for(let U=f;U<h;U++){let W=l.get(U);z.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},z.textFeatureIndex=W.featureIndex;break}for(let U=_;U<w;U++){let W=l.get(U);z.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},z.verticalTextFeatureIndex=W.featureIndex;break}for(let U=S;U<A;U++){let W=l.get(U);z.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},z.iconFeatureIndex=W.featureIndex;break}for(let U=O;U<k;U++){let W=l.get(U);z.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},z.verticalIconFeatureIndex=W.featureIndex;break}return z}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){let h=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,f){let h=l.placedSymbolArray.get(f),_=h.vertexStartIndex+4*h.numGlyphs;for(let w=h.vertexStartIndex;w<_;w+=4)l.indexArray.emplaceBack(w,w+1,w+2),l.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let f=Math.sin(l),h=Math.cos(l),_=[],w=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);let O=this.symbolInstances.get(A);_.push(0|Math.round(f*O.anchorX+h*O.anchorY)),w.push(O.featureIndex)}return S.sort((A,O)=>_[A]-_[O]||w[O]-w[A]),S}addToSortKeyRanges(l,f){let h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===f?h.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let f of this.symbolInstanceIndexes){let h=this.symbolInstances.get(f);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((_,w,S)=>{_>=0&&S.indexOf(_)===w&&this.addIndicesForPlacedSymbol(this.text,_)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,h.verticalPlacedTextSymbolIndex),h.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.placedIconSymbolIndex),h.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let HJ,$J;Ut("SymbolBucket",n0,{omit:["layers","collisionBoxArray","features","compareText"]}),n0.MAX_GLYPHS=65535,n0.addDynamicAttributes=B3;var G3={get paint(){return $J=$J||new b({"icon-opacity":new dr(Se.paint_symbol["icon-opacity"]),"icon-color":new dr(Se.paint_symbol["icon-color"]),"icon-halo-color":new dr(Se.paint_symbol["icon-halo-color"]),"icon-halo-width":new dr(Se.paint_symbol["icon-halo-width"]),"icon-halo-blur":new dr(Se.paint_symbol["icon-halo-blur"]),"icon-translate":new Zt(Se.paint_symbol["icon-translate"]),"icon-translate-anchor":new Zt(Se.paint_symbol["icon-translate-anchor"]),"text-opacity":new dr(Se.paint_symbol["text-opacity"]),"text-color":new dr(Se.paint_symbol["text-color"],{runtimeType:Co,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new dr(Se.paint_symbol["text-halo-color"]),"text-halo-width":new dr(Se.paint_symbol["text-halo-width"]),"text-halo-blur":new dr(Se.paint_symbol["text-halo-blur"]),"text-translate":new Zt(Se.paint_symbol["text-translate"]),"text-translate-anchor":new Zt(Se.paint_symbol["text-translate-anchor"])})},get layout(){return HJ=HJ||new b({"symbol-placement":new Zt(Se.layout_symbol["symbol-placement"]),"symbol-spacing":new Zt(Se.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Zt(Se.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new dr(Se.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Zt(Se.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Zt(Se.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Zt(Se.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Zt(Se.layout_symbol["icon-ignore-placement"]),"icon-optional":new Zt(Se.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Zt(Se.layout_symbol["icon-rotation-alignment"]),"icon-size":new dr(Se.layout_symbol["icon-size"]),"icon-text-fit":new Zt(Se.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Zt(Se.layout_symbol["icon-text-fit-padding"]),"icon-image":new dr(Se.layout_symbol["icon-image"]),"icon-rotate":new dr(Se.layout_symbol["icon-rotate"]),"icon-padding":new dr(Se.layout_symbol["icon-padding"]),"icon-keep-upright":new Zt(Se.layout_symbol["icon-keep-upright"]),"icon-offset":new dr(Se.layout_symbol["icon-offset"]),"icon-anchor":new dr(Se.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Zt(Se.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Zt(Se.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Zt(Se.layout_symbol["text-rotation-alignment"]),"text-field":new dr(Se.layout_symbol["text-field"]),"text-font":new dr(Se.layout_symbol["text-font"]),"text-size":new dr(Se.layout_symbol["text-size"]),"text-max-width":new dr(Se.layout_symbol["text-max-width"]),"text-line-height":new Zt(Se.layout_symbol["text-line-height"]),"text-letter-spacing":new dr(Se.layout_symbol["text-letter-spacing"]),"text-justify":new dr(Se.layout_symbol["text-justify"]),"text-radial-offset":new dr(Se.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Zt(Se.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new dr(Se.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new dr(Se.layout_symbol["text-anchor"]),"text-max-angle":new Zt(Se.layout_symbol["text-max-angle"]),"text-writing-mode":new Zt(Se.layout_symbol["text-writing-mode"]),"text-rotate":new dr(Se.layout_symbol["text-rotate"]),"text-padding":new Zt(Se.layout_symbol["text-padding"]),"text-keep-upright":new Zt(Se.layout_symbol["text-keep-upright"]),"text-transform":new dr(Se.layout_symbol["text-transform"]),"text-offset":new dr(Se.layout_symbol["text-offset"]),"text-allow-overlap":new Zt(Se.layout_symbol["text-allow-overlap"]),"text-overlap":new Zt(Se.layout_symbol["text-overlap"]),"text-ignore-placement":new Zt(Se.layout_symbol["text-ignore-placement"]),"text-optional":new Zt(Se.layout_symbol["text-optional"])})}};class WJ{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Zl,this.defaultValue=l}evaluate(l){if(l.formattedSection){let f=this.defaultValue.property.overrides;if(f&&f.hasOverride(l.formattedSection))return f.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ut("FormatSectionOverride",WJ,{omit:["defaultValue"]});class SA extends p{constructor(l){super(l,G3)}recalculate(l,f){if(super.recalculate(l,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let h=this.layout.get("text-writing-mode");if(h){let _=[];for(let w of h)_.indexOf(w)<0&&_.push(w);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,f,h,_){let w=this.layout.get(l).evaluate(f,{},h,_),S=this._unevaluatedLayout._values[l];return S.isDataDriven()||Oy(S.value)||!w?w:function(A,O){return O.replace(/{([^{}]+)}/g,(k,z)=>A&&z in A?String(A[z]):"")}(f.properties,w)}createBucket(l){return new n0(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let l of G3.paint.overridableProperties){if(!SA.hasPaintOverride(this.layout,l))continue;let f=this.paint.get(l),h=new WJ(f),_=new Cy(h,f.property.specification),w=null;w=f.value.kind==="constant"||f.value.kind==="source"?new Ld("source",_):new Pd("composite",_,f.value.zoomStops),this.paint._values[l]=new Xl(f.property,w,f.parameters)}}_handleOverridablePaintPropertyUpdate(l,f,h){return!(!this.layout||f.isDataDriven()||h.isDataDriven())&&SA.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,f){let h=l.get("text-field"),_=G3.paint.properties[f],w=!1,S=A=>{for(let O of A)if(_.overrides&&_.overrides.hasOverride(O))return void(w=!0)};if(h.value.kind==="constant"&&h.value.value instanceof ss)S(h.value.value.sections);else if(h.value.kind==="source"){let A=k=>{w||(k instanceof gl&&Vi(k.value)===ct?S(k.value.sections):k instanceof xy?S(k.sections):k.eachChild(A))},O=h.value;O._styleExpression&&A(O._styleExpression.expression)}return w}}let ZJ;var uYe={get paint(){return ZJ=ZJ||new b({"background-color":new Zt(Se.paint_background["background-color"]),"background-pattern":new Vy(Se.paint_background["background-pattern"]),"background-opacity":new Zt(Se.paint_background["background-opacity"])})}};class cYe extends p{constructor(l){super(l,uYe)}}let YJ;var fYe={get paint(){return YJ=YJ||new b({"raster-opacity":new Zt(Se.paint_raster["raster-opacity"]),"raster-hue-rotate":new Zt(Se.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Zt(Se.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Zt(Se.paint_raster["raster-brightness-max"]),"raster-saturation":new Zt(Se.paint_raster["raster-saturation"]),"raster-contrast":new Zt(Se.paint_raster["raster-contrast"]),"raster-resampling":new Zt(Se.paint_raster["raster-resampling"]),"raster-fade-duration":new Zt(Se.paint_raster["raster-fade-duration"])})}};class pYe extends p{constructor(l){super(l,fYe)}}class dYe extends p{constructor(l){super(l,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class hYe{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let H3=6371008.8;class Xd{constructor(l,f){if(isNaN(l)||isNaN(f))throw new Error(`Invalid LngLat object: (${l}, ${f})`);if(this.lng=+l,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Xd(Z(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){let f=Math.PI/180,h=this.lat*f,_=l.lat*f,w=Math.sin(h)*Math.sin(_)+Math.cos(h)*Math.cos(_)*Math.cos((l.lng-this.lng)*f);return H3*Math.acos(Math.min(w,1))}static convert(l){if(l instanceof Xd)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Xd(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Xd(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let KJ=2*Math.PI*H3;function XJ(u){return KJ*Math.cos(u*Math.PI/180)}function QJ(u){return(180+u)/360}function JJ(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function eee(u,l){return u/XJ(l)}function $3(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Lb{constructor(l,f,h=0){this.x=+l,this.y=+f,this.z=+h}static fromLngLat(l,f=0){let h=Xd.convert(l);return new Lb(QJ(h.lng),JJ(h.lat),eee(f,h.lat))}toLngLat(){return new Xd(360*this.x-180,$3(this.y))}toAltitude(){return this.z*XJ($3(this.y))}meterInMercatorCoordinateUnits(){return 1/KJ*(l=$3(this.y),1/Math.cos(l*Math.PI/180));var l}}function tee(u,l,f){var h=2*Math.PI*6378137/256/Math.pow(2,f);return[u*h-2*Math.PI*6378137/2,l*h-2*Math.PI*6378137/2]}class W3{constructor(l,f,h){if(!function(_,w,S){return!(_<0||_>25||S<0||S>=Math.pow(2,_)||w<0||w>=Math.pow(2,_))}(l,f,h))throw new Error(`x=${f}, y=${h}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=f,this.y=h,this.key=Pb(0,l,l,f,h)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,f,h){let _=(S=this.y,A=this.z,O=tee(256*(w=this.x),256*(S=Math.pow(2,A)-S-1),A),k=tee(256*(w+1),256*(S+1),A),O[0]+","+O[1]+","+k[0]+","+k[1]);var w,S,A,O,k;let z=function(U,W,Y){let J,ne="";for(let ce=U;ce>0;ce--)J=1<<ce-1,ne+=(W&J?1:0)+(Y&J?2:0);return ne}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,z).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){let f=this.z-l.z;return f>0&&l.x===this.x>>f&&l.y===this.y>>f}getTilePoint(l){let f=Math.pow(2,this.z);return new m((l.x*f-this.x)*Gi,(l.y*f-this.y)*Gi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class ree{constructor(l,f){this.wrap=l,this.canonical=f,this.key=Pb(l,f.z,f.z,f.x,f.y)}}class El{constructor(l,f,h,_,w){if(l<h)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${h}`);this.overscaledZ=l,this.wrap=f,this.canonical=new W3(h,+_,+w),this.key=Pb(f,l,h,_,w)}clone(){return new El(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);let f=this.canonical.z-l;return l>this.canonical.z?new El(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new El(l,this.wrap,l,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(l,f){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);let h=this.canonical.z-l;return l>this.canonical.z?Pb(this.wrap*+f,l,this.canonical.z,this.canonical.x,this.canonical.y):Pb(this.wrap*+f,l,l,this.canonical.x>>h,this.canonical.y>>h)}isChildOf(l){if(l.wrap!==this.wrap)return!1;let f=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>f&&l.canonical.y===this.canonical.y>>f}children(l){if(this.overscaledZ>=l)return[new El(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let f=this.canonical.z+1,h=2*this.canonical.x,_=2*this.canonical.y;return[new El(f,this.wrap,f,h,_),new El(f,this.wrap,f,h+1,_),new El(f,this.wrap,f,h,_+1),new El(f,this.wrap,f,h+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new El(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new El(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ree(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Lb(l.x-this.wrap,l.y))}}function Pb(u,l,f,h,_){(u*=2)<0&&(u=-1*u-1);let w=1<<f;return(w*w*u+w*_+h).toString(36)+f.toString(36)+l.toString(36)}Ut("CanonicalTileID",W3),Ut("OverscaledTileID",El,{omit:["posMatrix"]});class nee{constructor(l,f,h,_=1,w=1,S=1,A=0){if(this.uid=l,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(h&&!["mapbox","terrarium","custom"].includes(h))return void Fe(`"${h}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=f.height;let O=this.dim=f.height-2;switch(this.data=new Uint32Array(f.data.buffer),h){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=w,this.blueFactor=S,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let k=0;k<O;k++)this.data[this._idx(-1,k)]=this.data[this._idx(0,k)],this.data[this._idx(O,k)]=this.data[this._idx(O-1,k)],this.data[this._idx(k,-1)]=this.data[this._idx(k,0)],this.data[this._idx(k,O)]=this.data[this._idx(k,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let k=0;k<O;k++)for(let z=0;z<O;z++){let U=this.get(k,z);U>this.max&&(this.max=U),U<this.min&&(this.min=U)}}get(l,f){let h=new Uint8Array(this.data.buffer),_=4*this._idx(l,f);return this.unpack(h[_],h[_+1],h[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,f){if(l<-1||l>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(l+1)}unpack(l,f,h){return l*this.redFactor+f*this.greenFactor+h*this.blueFactor-this.baseShift}getPixels(){return new Sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,f,h){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=f*this.dim,w=f*this.dim+this.dim,S=h*this.dim,A=h*this.dim+this.dim;switch(f){case-1:_=w-1;break;case 1:w=_+1;}switch(h){case-1:S=A-1;break;case 1:A=S+1;}let O=-f*this.dim,k=-h*this.dim;for(let z=S;z<A;z++)for(let U=_;U<w;U++)this.data[this._idx(U,z)]=l.data[this._idx(U+O,z+k)]}}Ut("DEMData",nee);class iee{constructor(l){this._stringToNumber={},this._numberToString=[];for(let f=0;f<l.length;f++){let h=l[f];this._stringToNumber[h]=f,this._numberToString[f]=h}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class oee{constructor(l,f,h,_,w){this.type="Feature",this._vectorTileFeature=l,l._z=f,l._x=h,l._y=_,this.properties=l.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){let l={geometry:this.geometry};for(let f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(l[f]=this[f]);return l}}class aee{constructor(l,f){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new qd(Gi,16,0),this.grid3D=new qd(Gi,16,0),this.featureIndexArray=new Jo,this.promoteId=f}insert(l,f,h,_,w,S){let A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,_,w);let O=S?this.grid3D:this.grid;for(let k=0;k<f.length;k++){let z=f[k],U=[1/0,1/0,-1/0,-1/0];for(let W=0;W<z.length;W++){let Y=z[W];U[0]=Math.min(U[0],Y.x),U[1]=Math.min(U[1],Y.y),U[2]=Math.max(U[2],Y.x),U[3]=Math.max(U[3],Y.y)}U[0]<Gi&&U[1]<Gi&&U[2]>=0&&U[3]>=0&&O.insert(A,U[0],U[1],U[2],U[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Zd.VectorTile(new R3(this.rawTileData)).layers,this.sourceLayerCoder=new iee(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,f,h,_){this.loadVTLayers();let w=l.params||{},S=Gi/l.tileSize/l.scale,A=Qx(w.filter),O=l.queryGeometry,k=l.queryPadding*S,z=lee(O),U=this.grid.query(z.minX-k,z.minY-k,z.maxX+k,z.maxY+k),W=lee(l.cameraQueryGeometry),Y=this.grid3D.query(W.minX-k,W.minY-k,W.maxX+k,W.maxY+k,(ce,he,qe,be)=>function(Pe,We,ut,Rt,fr){for(let At of Pe)if(We<=At.x&&ut<=At.y&&Rt>=At.x&&fr>=At.y)return!0;let Pt=[new m(We,ut),new m(We,fr),new m(Rt,fr),new m(Rt,ut)];if(Pe.length>2){for(let At of Pt)if(Ky(Pe,At))return!0}for(let At=0;At<Pe.length-1;At++)if(ZWe(Pe[At],Pe[At+1],Pt))return!0;return!1}(l.cameraQueryGeometry,ce-k,he-k,qe+k,be+k));for(let ce of Y)U.push(ce);U.sort(mYe);let J={},ne;for(let ce=0;ce<U.length;ce++){let he=U[ce];if(he===ne)continue;ne=he;let qe=this.featureIndexArray.get(he),be=null;this.loadMatchingFeature(J,qe.bucketIndex,qe.sourceLayerIndex,qe.featureIndex,A,w.layers,w.availableImages,f,h,_,(Pe,We,ut)=>(be||(be=cg(Pe)),We.queryIntersectsFeature(O,Pe,ut,be,this.z,l.transform,S,l.pixelPosMatrix)))}return J}loadMatchingFeature(l,f,h,_,w,S,A,O,k,z,U){let W=this.bucketLayerIDs[f];if(S&&!function(ce,he){for(let qe=0;qe<ce.length;qe++)if(he.indexOf(ce[qe])>=0)return!0;return!1}(S,W))return;let Y=this.sourceLayerCoder.decode(h),J=this.vtLayers[Y].feature(_);if(w.needGeometry){let ce=fg(J,!0);if(!w.filter(new ti(this.tileID.overscaledZ),ce,this.tileID.canonical))return}else if(!w.filter(new ti(this.tileID.overscaledZ),J))return;let ne=this.getId(J,Y);for(let ce=0;ce<W.length;ce++){let he=W[ce];if(S&&S.indexOf(he)<0)continue;let qe=O[he];if(!qe)continue;let be={};ne&&z&&(be=z.getState(qe.sourceLayer||"_geojsonTileLayer",ne));let Pe=re({},k[he]);Pe.paint=see(Pe.paint,qe.paint,J,be,A),Pe.layout=see(Pe.layout,qe.layout,J,be,A);let We=!U||U(J,qe,be);if(!We)continue;let ut=new oee(J,this.z,this.x,this.y,ne);ut.layer=Pe;let Rt=l[he];Rt===void 0&&(Rt=l[he]=[]),Rt.push({featureIndex:_,feature:ut,intersectionZ:We})}}lookupSymbolFeatures(l,f,h,_,w,S,A,O){let k={};this.loadVTLayers();let z=Qx(w);for(let U of l)this.loadMatchingFeature(k,h,_,U,z,S,A,O,f);return k}hasLayer(l){for(let f of this.bucketLayerIDs)for(let h of f)if(l===h)return!0;return!1}getId(l,f){let h=l.id;return this.promoteId&&(h=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof h=="boolean"&&(h=Number(h))),h}}function see(u,l,f,h,_){return oe(u,(w,S)=>{let A=l instanceof ag?l.get(S):null;return A&&A.evaluate?A.evaluate(f,h,_):A})}function lee(u){let l=1/0,f=1/0,h=-1/0,_=-1/0;for(let w of u)l=Math.min(l,w.x),f=Math.min(f,w.y),h=Math.max(h,w.x),_=Math.max(_,w.y);return{minX:l,minY:f,maxX:h,maxY:_}}function mYe(u,l){return l-u}function uee(u,l,f,h,_){let w=[];for(let S=0;S<u.length;S++){let A=u[S],O;for(let k=0;k<A.length-1;k++){let z=A[k],U=A[k+1];z.x<l&&U.x<l||(z.x<l?z=new m(l,z.y+(l-z.x)/(U.x-z.x)*(U.y-z.y))._round():U.x<l&&(U=new m(l,z.y+(l-z.x)/(U.x-z.x)*(U.y-z.y))._round()),z.y<f&&U.y<f||(z.y<f?z=new m(z.x+(f-z.y)/(U.y-z.y)*(U.x-z.x),f)._round():U.y<f&&(U=new m(z.x+(f-z.y)/(U.y-z.y)*(U.x-z.x),f)._round()),z.x>=h&&U.x>=h||(z.x>=h?z=new m(h,z.y+(h-z.x)/(U.x-z.x)*(U.y-z.y))._round():U.x>=h&&(U=new m(h,z.y+(h-z.x)/(U.x-z.x)*(U.y-z.y))._round()),z.y>=_&&U.y>=_||(z.y>=_?z=new m(z.x+(_-z.y)/(U.y-z.y)*(U.x-z.x),_)._round():U.y>=_&&(U=new m(z.x+(_-z.y)/(U.y-z.y)*(U.x-z.x),_)._round()),O&&z.equals(O[O.length-1])||(O=[z],w.push(O)),O.push(U)))))}}return w}Ut("FeatureIndex",aee,{omit:["rawTileData","sourceLayerCoder"]});class Qd extends m{constructor(l,f,h,_){super(l,f),this.angle=h,_!==void 0&&(this.segment=_)}clone(){return new Qd(this.x,this.y,this.angle,this.segment)}}function cee(u,l,f,h,_){if(l.segment===void 0||f===0)return!0;let w=l,S=l.segment+1,A=0;for(;A>-f/2;){if(S--,S<0)return!1;A-=u[S].dist(w),w=u[S]}A+=u[S].dist(u[S+1]),S++;let O=[],k=0;for(;A<f/2;){let z=u[S],U=u[S+1];if(!U)return!1;let W=u[S-1].angleTo(z)-z.angleTo(U);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:A,angleDelta:W}),k+=W;A-O[0].distance>h;)k-=O.shift().angleDelta;if(k>_)return!1;S++,A+=z.dist(U)}return!0}function fee(u){let l=0;for(let f=0;f<u.length-1;f++)l+=u[f].dist(u[f+1]);return l}function pee(u,l,f){return u?.6*l*f:0}function dee(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function gYe(u,l,f,h,_,w){let S=pee(f,_,w),A=dee(f,h)*w,O=0,k=fee(u)/2;for(let z=0;z<u.length-1;z++){let U=u[z],W=u[z+1],Y=U.dist(W);if(O+Y>k){let J=(k-O)/Y,ne=Aa.number(U.x,W.x,J),ce=Aa.number(U.y,W.y,J),he=new Qd(ne,ce,W.angleTo(U),z);return he._round(),!S||cee(u,he,A,S,l)?he:void 0}O+=Y}}function vYe(u,l,f,h,_,w,S,A,O){let k=pee(h,w,S),z=dee(h,_),U=z*S,W=u[0].x===0||u[0].x===O||u[0].y===0||u[0].y===O;return l-U<l/4&&(l=U+l/4),hee(u,W?l/2*A%l:(z/2+2*w)*S*A%l,l,k,f,U,W,!1,O)}function hee(u,l,f,h,_,w,S,A,O){let k=w/2,z=fee(u),U=0,W=l-f,Y=[];for(let J=0;J<u.length-1;J++){let ne=u[J],ce=u[J+1],he=ne.dist(ce),qe=ce.angleTo(ne);for(;W+f<U+he;){W+=f;let be=(W-U)/he,Pe=Aa.number(ne.x,ce.x,be),We=Aa.number(ne.y,ce.y,be);if(Pe>=0&&Pe<O&&We>=0&&We<O&&W-k>=0&&W+k<=z){let ut=new Qd(Pe,We,qe,J);ut._round(),h&&!cee(u,ut,w,h,_)||Y.push(ut)}}U+=he}return A||Y.length||S||(Y=hee(u,U/2,f,h,_,w,S,!0,O)),Y}Ut("Anchor",Qd);let i0=ds;function mee(u,l,f,h){let _=[],w=u.image,S=w.pixelRatio,A=w.paddedRect.w-2*i0,O=w.paddedRect.h-2*i0,k={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom},z=w.stretchX||[[0,A]],U=w.stretchY||[[0,O]],W=(Je,er)=>Je+er[1]-er[0],Y=z.reduce(W,0),J=U.reduce(W,0),ne=A-Y,ce=O-J,he=0,qe=Y,be=0,Pe=J,We=0,ut=ne,Rt=0,fr=ce;if(w.content&&h){let Je=w.content,er=Je[2]-Je[0],Kt=Je[3]-Je[1];(w.textFitWidth||w.textFitHeight)&&(k=UJ(u)),he=EA(z,0,Je[0]),be=EA(U,0,Je[1]),qe=EA(z,Je[0],Je[2]),Pe=EA(U,Je[1],Je[3]),We=Je[0]-he,Rt=Je[1]-be,ut=er-qe,fr=Kt-Pe}let Pt=k.x1,At=k.y1,Qt=k.x2-Pt,$t=k.y2-At,Bt=(Je,er,Kt,_r)=>{let Bn=IA(Je.stretch-he,qe,Qt,Pt),qn=TA(Je.fixed-We,ut,Je.stretch,Y),co=IA(er.stretch-be,Pe,$t,At),Jl=TA(er.fixed-Rt,fr,er.stretch,J),Ro=IA(Kt.stretch-he,qe,Qt,Pt),fo=TA(Kt.fixed-We,ut,Kt.stretch,Y),Da=IA(_r.stretch-be,Pe,$t,At),La=TA(_r.fixed-Rt,fr,_r.stretch,J),Pa=new m(Bn,co),Li=new m(Ro,co),po=new m(Ro,Da),ta=new m(Bn,Da),ko=new m(qn/S,Jl/S),Na=new m(fo/S,La/S),qo=l*Math.PI/180;if(qo){let mn=Math.sin(qo),Zn=Math.cos(qo),oi=[Zn,-mn,mn,Zn];Pa._matMult(oi),Li._matMult(oi),ta._matMult(oi),po._matMult(oi)}let Il=Je.stretch+Je.fixed,hs=er.stretch+er.fixed;return{tl:Pa,tr:Li,bl:ta,br:po,tex:{x:w.paddedRect.x+i0+Il,y:w.paddedRect.y+i0+hs,w:Kt.stretch+Kt.fixed-Il,h:_r.stretch+_r.fixed-hs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ko,pixelOffsetBR:Na,minFontScaleX:ut/S/Qt,minFontScaleY:fr/S/$t,isSDF:f}};if(h&&(w.stretchX||w.stretchY)){let Je=gee(z,ne,Y),er=gee(U,ce,J);for(let Kt=0;Kt<Je.length-1;Kt++){let _r=Je[Kt],Bn=Je[Kt+1];for(let qn=0;qn<er.length-1;qn++)_.push(Bt(_r,er[qn],Bn,er[qn+1]))}}else _.push(Bt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:O+1}));return _}function EA(u,l,f){let h=0;for(let _ of u)h+=Math.max(l,Math.min(f,_[1]))-Math.max(l,Math.min(f,_[0]));return h}function gee(u,l,f){let h=[{fixed:-i0,stretch:0}];for(let[_,w]of u){let S=h[h.length-1];h.push({fixed:_-S.stretch,stretch:S.stretch}),h.push({fixed:_-S.stretch,stretch:S.stretch+(w-_)})}return h.push({fixed:l+i0,stretch:f}),h}function IA(u,l,f,h){return u/l*f+h}function TA(u,l,f,h){return u-l*f/h}class AA{constructor(l,f,h,_,w,S,A,O,k,z){var U;if(this.boxStartIndex=l.length,k){let W=S.top,Y=S.bottom,J=S.collisionPadding;J&&(W-=J[1],Y+=J[3]);let ne=Y-W;ne>0&&(ne=Math.max(10,ne),this.circleDiameter=ne)}else{let W=!((U=S.image)===null||U===void 0)&&U.content&&(S.image.textFitWidth||S.image.textFitHeight)?UJ(S):{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom};W.y1=W.y1*A-O[0],W.y2=W.y2*A+O[2],W.x1=W.x1*A-O[3],W.x2=W.x2*A+O[1];let Y=S.collisionPadding;if(Y&&(W.x1-=Y[0]*A,W.y1-=Y[1]*A,W.x2+=Y[2]*A,W.y2+=Y[3]*A),z){let J=new m(W.x1,W.y1),ne=new m(W.x2,W.y1),ce=new m(W.x1,W.y2),he=new m(W.x2,W.y2),qe=z*Math.PI/180;J._rotate(qe),ne._rotate(qe),ce._rotate(qe),he._rotate(qe),W.x1=Math.min(J.x,ne.x,ce.x,he.x),W.x2=Math.max(J.x,ne.x,ce.x,he.x),W.y1=Math.min(J.y,ne.y,ce.y,he.y),W.y2=Math.max(J.y,ne.y,ce.y,he.y)}l.emplaceBack(f.x,f.y,W.x1,W.y1,W.x2,W.y2,h,_,w)}this.boxEndIndex=l.length}}class yYe{constructor(l=[],f=(h,_)=>h<_?-1:h>_?1:0){if(this.data=l,this.length=this.data.length,this.compare=f,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;let l=this.data[0],f=this.data.pop();return--this.length>0&&(this.data[0]=f,this._down(0)),l}peek(){return this.data[0]}_up(l){let{data:f,compare:h}=this,_=f[l];for(;l>0;){let w=l-1>>1,S=f[w];if(h(_,S)>=0)break;f[l]=S,l=w}f[l]=_}_down(l){let{data:f,compare:h}=this,_=this.length>>1,w=f[l];for(;l<_;){let S=1+(l<<1),A=S+1;if(A<this.length&&h(f[A],f[S])<0&&(S=A),h(f[S],w)>=0)break;f[l]=f[S],l=S}f[l]=w}}function _Ye(u,l=1,f=!1){let h=1/0,_=1/0,w=-1/0,S=-1/0,A=u[0];for(let Y=0;Y<A.length;Y++){let J=A[Y];(!Y||J.x<h)&&(h=J.x),(!Y||J.y<_)&&(_=J.y),(!Y||J.x>w)&&(w=J.x),(!Y||J.y>S)&&(S=J.y)}let O=Math.min(w-h,S-_),k=O/2,z=new yYe([],xYe);if(O===0)return new m(h,_);for(let Y=h;Y<w;Y+=O)for(let J=_;J<S;J+=O)z.push(new o0(Y+k,J+k,k,u));let U=function(Y){let J=0,ne=0,ce=0,he=Y[0];for(let qe=0,be=he.length,Pe=be-1;qe<be;Pe=qe++){let We=he[qe],ut=he[Pe],Rt=We.x*ut.y-ut.x*We.y;ne+=(We.x+ut.x)*Rt,ce+=(We.y+ut.y)*Rt,J+=3*Rt}return new o0(ne/J,ce/J,0,Y)}(u),W=z.length;for(;z.length;){let Y=z.pop();(Y.d>U.d||!U.d)&&(U=Y,f&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,W)),Y.max-U.d<=l||(k=Y.h/2,z.push(new o0(Y.p.x-k,Y.p.y-k,k,u)),z.push(new o0(Y.p.x+k,Y.p.y-k,k,u)),z.push(new o0(Y.p.x-k,Y.p.y+k,k,u)),z.push(new o0(Y.p.x+k,Y.p.y+k,k,u)),W+=4)}return f&&(console.log(`num probes: ${W}`),console.log(`best distance: ${U.d}`)),U.p}function xYe(u,l){return l.max-u.max}function o0(u,l,f,h){this.p=new m(u,l),this.h=f,this.d=function(_,w){let S=!1,A=1/0;for(let O=0;O<w.length;O++){let k=w[O];for(let z=0,U=k.length,W=U-1;z<U;W=z++){let Y=k[z],J=k[W];Y.y>_.y!=J.y>_.y&&_.x<(J.x-Y.x)*(_.y-Y.y)/(J.y-Y.y)+Y.x&&(S=!S),A=Math.min(A,JQ(_,Y,J))}}return(S?1:-1)*Math.sqrt(A)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}var No;i.aq=void 0,(No=i.aq||(i.aq={}))[No.center=1]="center",No[No.left=2]="left",No[No.right=3]="right",No[No.top=4]="top",No[No.bottom=5]="bottom",No[No["top-left"]=6]="top-left",No[No["top-right"]=7]="top-right",No[No["bottom-left"]=8]="bottom-left",No[No["bottom-right"]=9]="bottom-right";let Jd=7,Z3=Number.POSITIVE_INFINITY;function vee(u,l){return l[1]!==Z3?function(f,h,_){let w=0,S=0;switch(h=Math.abs(h),_=Math.abs(_),f){case"top-right":case"top-left":case"top":S=_-Jd;break;case"bottom-right":case"bottom-left":case"bottom":S=-_+Jd;}switch(f){case"top-right":case"bottom-right":case"right":w=-h;break;case"top-left":case"bottom-left":case"left":w=h;}return[w,S]}(u,l[0],l[1]):function(f,h){let _=0,w=0;h<0&&(h=0);let S=h/Math.SQRT2;switch(f){case"top-right":case"top-left":w=S-Jd;break;case"bottom-right":case"bottom-left":w=-S+Jd;break;case"bottom":w=-h+Jd;break;case"top":w=h-Jd;}switch(f){case"top-right":case"bottom-right":_=-S;break;case"top-left":case"bottom-left":_=S;break;case"left":_=h;break;case"right":_=-h;}return[_,w]}(u,l[0])}function yee(u,l,f){var h;let _=u.layout,w=(h=_.get("text-variable-anchor-offset"))===null||h===void 0?void 0:h.evaluate(l,{},f);if(w){let A=w.values,O=[];for(let k=0;k<A.length;k+=2){let z=O[k]=A[k],U=A[k+1].map(W=>W*Xi);z.startsWith("top")?U[1]-=Jd:z.startsWith("bottom")&&(U[1]+=Jd),O[k+1]=U}return new Ds(O)}let S=_.get("text-variable-anchor");if(S){let A;A=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},f)*Xi,Z3]:_.get("text-offset").evaluate(l,{},f).map(k=>k*Xi);let O=[];for(let k of S)O.push(k,vee(k,A));return new Ds(O)}return null}function Y3(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left";}return"center"}function bYe(u,l,f,h,_,w,S,A,O,k,z){let U=w.textMaxSize.evaluate(l,{});U===void 0&&(U=S);let W=u.layers[0].layout,Y=W.get("icon-offset").evaluate(l,{},z),J=xee(f.horizontal),ne=S/24,ce=u.tilePixelRatio*ne,he=u.tilePixelRatio*U/24,qe=u.tilePixelRatio*A,be=u.tilePixelRatio*W.get("symbol-spacing"),Pe=W.get("text-padding")*u.tilePixelRatio,We=function(Je,er,Kt,_r=1){let Bn=Je.get("icon-padding").evaluate(er,{},Kt),qn=Bn&&Bn.values;return[qn[0]*_r,qn[1]*_r,qn[2]*_r,qn[3]*_r]}(W,l,z,u.tilePixelRatio),ut=W.get("text-max-angle")/180*Math.PI,Rt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",fr=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Pt=W.get("symbol-placement"),At=be/2,Qt=W.get("icon-text-fit"),$t;h&&Qt!=="none"&&(u.allowVerticalPlacement&&f.vertical&&($t=VJ(h,f.vertical,Qt,W.get("icon-text-fit-padding"),Y,ne)),J&&(h=VJ(h,J,Qt,W.get("icon-text-fit-padding"),Y,ne)));let Bt=(Je,er)=>{er.x<0||er.x>=Gi||er.y<0||er.y>=Gi||function(Kt,_r,Bn,qn,co,Jl,Ro,fo,Da,La,Pa,Li,po,ta,ko,Na,qo,Il,hs,mn,Zn,oi,js,Ei,a0){let Bc=Kt.addToLineVertexArray(_r,Bn),Uc,eu,Tl,xo,lp=0,kb=0,Eee=0,Iee=0,nq=-1,iq=-1,up={},Tee=$y("");if(Kt.allowVerticalPlacement&&qn.vertical){let ra=fo.layout.get("text-rotate").evaluate(Zn,{},Ei)+90;Tl=new AA(Da,_r,La,Pa,Li,qn.vertical,po,ta,ko,ra),Ro&&(xo=new AA(Da,_r,La,Pa,Li,Ro,qo,Il,ko,ra))}if(co){let ra=fo.layout.get("icon-rotate").evaluate(Zn,{}),Al=fo.layout.get("icon-text-fit")!=="none",dg=mee(co,ra,js,Al),rc=Ro?mee(Ro,ra,js,Al):void 0;eu=new AA(Da,_r,La,Pa,Li,co,qo,Il,!1,ra),lp=4*dg.length;let hg=Kt.iconSizeData,Vc=null;hg.kind==="source"?(Vc=[Fc*fo.layout.get("icon-size").evaluate(Zn,{})],Vc[0]>Kd&&Fe(`${Kt.layerIds[0]}: Value for "icon-size" is >= ${Db}. Reduce your "icon-size".`)):hg.kind==="composite"&&(Vc=[Fc*oi.compositeIconSizes[0].evaluate(Zn,{},Ei),Fc*oi.compositeIconSizes[1].evaluate(Zn,{},Ei)],(Vc[0]>Kd||Vc[1]>Kd)&&Fe(`${Kt.layerIds[0]}: Value for "icon-size" is >= ${Db}. Reduce your "icon-size".`)),Kt.addSymbols(Kt.icon,dg,Vc,mn,hs,Zn,i.ah.none,_r,Bc.lineStartIndex,Bc.lineLength,-1,Ei),nq=Kt.icon.placedSymbolArray.length-1,rc&&(kb=4*rc.length,Kt.addSymbols(Kt.icon,rc,Vc,mn,hs,Zn,i.ah.vertical,_r,Bc.lineStartIndex,Bc.lineLength,-1,Ei),iq=Kt.icon.placedSymbolArray.length-1)}let Aee=Object.keys(qn.horizontal);for(let ra of Aee){let Al=qn.horizontal[ra];if(!Uc){Tee=$y(Al.text);let rc=fo.layout.get("text-rotate").evaluate(Zn,{},Ei);Uc=new AA(Da,_r,La,Pa,Li,Al,po,ta,ko,rc)}let dg=Al.positionedLines.length===1;if(Eee+=_ee(Kt,_r,Al,Jl,fo,ko,Zn,Na,Bc,qn.vertical?i.ah.horizontal:i.ah.horizontalOnly,dg?Aee:[ra],up,nq,oi,Ei),dg)break}qn.vertical&&(Iee+=_ee(Kt,_r,qn.vertical,Jl,fo,ko,Zn,Na,Bc,i.ah.vertical,["vertical"],up,iq,oi,Ei));let EYe=Uc?Uc.boxStartIndex:Kt.collisionBoxArray.length,IYe=Uc?Uc.boxEndIndex:Kt.collisionBoxArray.length,TYe=Tl?Tl.boxStartIndex:Kt.collisionBoxArray.length,AYe=Tl?Tl.boxEndIndex:Kt.collisionBoxArray.length,MYe=eu?eu.boxStartIndex:Kt.collisionBoxArray.length,CYe=eu?eu.boxEndIndex:Kt.collisionBoxArray.length,OYe=xo?xo.boxStartIndex:Kt.collisionBoxArray.length,DYe=xo?xo.boxEndIndex:Kt.collisionBoxArray.length,tc=-1,CA=(ra,Al)=>ra&&ra.circleDiameter?Math.max(ra.circleDiameter,Al):Al;tc=CA(Uc,tc),tc=CA(Tl,tc),tc=CA(eu,tc),tc=CA(xo,tc);let Mee=tc>-1?1:0;Mee&&(tc*=a0/Xi),Kt.glyphOffsetArray.length>=n0.MAX_GLYPHS&&Fe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Zn.sortKey!==void 0&&Kt.addToSortKeyRanges(Kt.symbolInstances.length,Zn.sortKey);let LYe=yee(fo,Zn,Ei),[PYe,NYe]=function(ra,Al){let dg=ra.length,rc=Al==null?void 0:Al.values;if((rc==null?void 0:rc.length)>0)for(let hg=0;hg<rc.length;hg+=2){let Vc=rc[hg+1];ra.emplaceBack(i.aq[rc[hg]],Vc[0],Vc[1])}return[dg,ra.length]}(Kt.textAnchorOffsets,LYe);Kt.symbolInstances.emplaceBack(_r.x,_r.y,up.right>=0?up.right:-1,up.center>=0?up.center:-1,up.left>=0?up.left:-1,up.vertical||-1,nq,iq,Tee,EYe,IYe,TYe,AYe,MYe,CYe,OYe,DYe,La,Eee,Iee,lp,kb,Mee,0,po,tc,PYe,NYe)}(u,er,Je,f,h,_,$t,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ce,[Pe,Pe,Pe,Pe],Rt,O,qe,We,fr,Y,l,w,k,z,S)};if(Pt==="line")for(let Je of uee(l.geometry,0,0,Gi,Gi)){let er=vYe(Je,be,ut,f.vertical||J,h,24,he,u.overscaling,Gi);for(let Kt of er)J&&wYe(u,J.text,At,Kt)||Bt(Je,Kt)}else if(Pt==="line-center"){for(let Je of l.geometry)if(Je.length>1){let er=gYe(Je,ut,f.vertical||J,h,24,he);er&&Bt(Je,er)}}else if(l.type==="Polygon")for(let Je of wy(l.geometry,0)){let er=_Ye(Je,16);Bt(Je[0],new Qd(er.x,er.y,0))}else if(l.type==="LineString")for(let Je of l.geometry)Bt(Je,new Qd(Je[0].x,Je[0].y,0));else if(l.type==="Point")for(let Je of l.geometry)for(let er of Je)Bt([er],new Qd(er.x,er.y,0))}function _ee(u,l,f,h,_,w,S,A,O,k,z,U,W,Y,J){let ne=function(qe,be,Pe,We,ut,Rt,fr,Pt){let At=We.layout.get("text-rotate").evaluate(Rt,{})*Math.PI/180,Qt=[];for(let $t of be.positionedLines)for(let Bt of $t.positionedGlyphs){if(!Bt.rect)continue;let Je=Bt.rect||{},er=RJ+1,Kt=!0,_r=1,Bn=0,qn=(ut||Pt)&&Bt.vertical,co=Bt.metrics.advance*Bt.scale/2;if(Pt&&be.verticalizable&&(Bn=$t.lineOffset/2-(Bt.imageName?-(Xi-Bt.metrics.width*Bt.scale)/2:(Bt.scale-1)*Xi)),Bt.imageName){let mn=fr[Bt.imageName];Kt=mn.sdf,_r=mn.pixelRatio,er=ds/_r}let Jl=ut?[Bt.x+co,Bt.y]:[0,0],Ro=ut?[0,0]:[Bt.x+co+Pe[0],Bt.y+Pe[1]-Bn],fo=[0,0];qn&&(fo=Ro,Ro=[0,0]);let Da=Bt.metrics.isDoubleResolution?2:1,La=(Bt.metrics.left-er)*Bt.scale-co+Ro[0],Pa=(-Bt.metrics.top-er)*Bt.scale+Ro[1],Li=La+Je.w/Da*Bt.scale/_r,po=Pa+Je.h/Da*Bt.scale/_r,ta=new m(La,Pa),ko=new m(Li,Pa),Na=new m(La,po),qo=new m(Li,po);if(qn){let mn=new m(-co,co-Cb),Zn=-Math.PI/2,oi=Xi/2-co,js=new m(5-Cb-oi,-(Bt.imageName?oi:0)),Ei=new m(...fo);ta._rotateAround(Zn,mn)._add(js)._add(Ei),ko._rotateAround(Zn,mn)._add(js)._add(Ei),Na._rotateAround(Zn,mn)._add(js)._add(Ei),qo._rotateAround(Zn,mn)._add(js)._add(Ei)}if(At){let mn=Math.sin(At),Zn=Math.cos(At),oi=[Zn,-mn,mn,Zn];ta._matMult(oi),ko._matMult(oi),Na._matMult(oi),qo._matMult(oi)}let Il=new m(0,0),hs=new m(0,0);Qt.push({tl:ta,tr:ko,bl:Na,br:qo,tex:Je,writingMode:be.writingMode,glyphOffset:Jl,sectionIndex:Bt.sectionIndex,isSDF:Kt,pixelOffsetTL:Il,pixelOffsetBR:hs,minFontScaleX:0,minFontScaleY:0})}return Qt}(0,f,A,_,w,S,h,u.allowVerticalPlacement),ce=u.textSizeData,he=null;ce.kind==="source"?(he=[Fc*_.layout.get("text-size").evaluate(S,{})],he[0]>Kd&&Fe(`${u.layerIds[0]}: Value for "text-size" is >= ${Db}. Reduce your "text-size".`)):ce.kind==="composite"&&(he=[Fc*Y.compositeTextSizes[0].evaluate(S,{},J),Fc*Y.compositeTextSizes[1].evaluate(S,{},J)],(he[0]>Kd||he[1]>Kd)&&Fe(`${u.layerIds[0]}: Value for "text-size" is >= ${Db}. Reduce your "text-size".`)),u.addSymbols(u.text,ne,he,A,w,S,k,l,O.lineStartIndex,O.lineLength,W,J);for(let qe of z)U[qe]=u.text.placedSymbolArray.length-1;return 4*ne.length}function xee(u){for(let l in u)return u[l];return null}function wYe(u,l,f,h){let _=u.compareText;if(l in _){let w=_[l];for(let S=w.length-1;S>=0;S--)if(h.dist(w[S])<f)return!0}else _[l]=[];return _[l].push(h),!1}let bee=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class K3{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[f,h]=new Uint8Array(l,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");let _=h>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);let w=bee[15&h];if(!w)throw new Error("Unrecognized array type.");let[S]=new Uint16Array(l,2,1),[A]=new Uint32Array(l,4,1);return new K3(A,S,w,l)}constructor(l,f=64,h=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=h,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;let w=bee.indexOf(this.ArrayType),S=2*l*this.ArrayType.BYTES_PER_ELEMENT,A=l*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-A%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${h}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+A+O,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+O),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+A+O,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=l)}add(l,f){let h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=l,this.coords[this._pos++]=f,h}finish(){let l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return X3(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,f,h,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:w,coords:S,nodeSize:A}=this,O=[0,w.length-1,0],k=[];for(;O.length;){let z=O.pop()||0,U=O.pop()||0,W=O.pop()||0;if(U-W<=A){for(let ce=W;ce<=U;ce++){let he=S[2*ce],qe=S[2*ce+1];he>=l&&he<=h&&qe>=f&&qe<=_&&k.push(w[ce])}continue}let Y=W+U>>1,J=S[2*Y],ne=S[2*Y+1];J>=l&&J<=h&&ne>=f&&ne<=_&&k.push(w[Y]),(z===0?l<=J:f<=ne)&&(O.push(W),O.push(Y-1),O.push(1-z)),(z===0?h>=J:_>=ne)&&(O.push(Y+1),O.push(U),O.push(1-z))}return k}within(l,f,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:_,coords:w,nodeSize:S}=this,A=[0,_.length-1,0],O=[],k=h*h;for(;A.length;){let z=A.pop()||0,U=A.pop()||0,W=A.pop()||0;if(U-W<=S){for(let ce=W;ce<=U;ce++)See(w[2*ce],w[2*ce+1],l,f)<=k&&O.push(_[ce]);continue}let Y=W+U>>1,J=w[2*Y],ne=w[2*Y+1];See(J,ne,l,f)<=k&&O.push(_[Y]),(z===0?l-h<=J:f-h<=ne)&&(A.push(W),A.push(Y-1),A.push(1-z)),(z===0?l+h>=J:f+h>=ne)&&(A.push(Y+1),A.push(U),A.push(1-z))}return O}}function X3(u,l,f,h,_,w){if(_-h<=f)return;let S=h+_>>1;wee(u,l,S,h,_,w),X3(u,l,f,h,S-1,1-w),X3(u,l,f,S+1,_,1-w)}function wee(u,l,f,h,_,w){for(;_>h;){if(_-h>600){let k=_-h+1,z=f-h+1,U=Math.log(k),W=.5*Math.exp(2*U/3),Y=.5*Math.sqrt(U*W*(k-W)/k)*(z-k/2<0?-1:1);wee(u,l,f,Math.max(h,Math.floor(f-z*W/k+Y)),Math.min(_,Math.floor(f+(k-z)*W/k+Y)),w)}let S=l[2*f+w],A=h,O=_;for(Nb(u,l,h,f),l[2*_+w]>S&&Nb(u,l,h,_);A<O;){for(Nb(u,l,A,O),A++,O--;l[2*A+w]<S;)A++;for(;l[2*O+w]>S;)O--}l[2*h+w]===S?Nb(u,l,h,O):(O++,Nb(u,l,O,_)),O<=f&&(h=O+1),f<=O&&(_=O-1)}}function Nb(u,l,f,h){Q3(u,f,h),Q3(l,2*f,2*h),Q3(l,2*f+1,2*h+1)}function Q3(u,l,f){let h=u[l];u[l]=u[f],u[f]=h}function See(u,l,f,h){let _=u-f,w=l-h;return _*_+w*w}var J3;i.bg=void 0,(J3=i.bg||(i.bg={})).create="create",J3.load="load",J3.fullLoad="fullLoad";let MA=null,Rb=[],eq=1e3/60,tq="loadTime",rq="fullLoadTime",SYe={mark(u){performance.mark(u)},frame(u){let l=u;MA!=null&&Rb.push(l-MA),MA=l},clearMetrics(){MA=null,Rb=[],performance.clearMeasures(tq),performance.clearMeasures(rq);for(let u in i.bg)performance.clearMarks(i.bg[u])},getPerformanceMetrics(){performance.measure(tq,i.bg.create,i.bg.load),performance.measure(rq,i.bg.create,i.bg.fullLoad);let u=performance.getEntriesByName(tq)[0].duration,l=performance.getEntriesByName(rq)[0].duration,f=Rb.length,h=1/(Rb.reduce((w,S)=>w+S,0)/f/1e3),_=Rb.filter(w=>w>eq).reduce((w,S)=>w+(S-eq)/eq,0);return{loadTime:u,fullLoadTime:l,fps:h,percentDroppedFrames:_/(f+_)*100,totalFrames:f}}};i.$=class extends V{},i.A=Xy,i.B=c3,i.C=function(u){if(Xe==null){let l=u.navigator?u.navigator.userAgent:null;Xe=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Xe},i.D=Zt,i.E=gt,i.F=class{constructor(u,l){this.target=u,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new hYe(()=>this.process()),this.subscription=function(f,h,_,w){return f.addEventListener(h,_,!1),{unsubscribe:()=>{f.removeEventListener(h,_,!1)}}}(this.target,"message",f=>this.receive(f)),this.globalScope=Ue(self)?u:window}registerMessageHandler(u,l){this.messageHandlers[u]=l}sendAsync(u,l){return new Promise((f,h)=>{let _=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[_]={resolve:f,reject:h},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[_];let A={id:_,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(A)},{once:!0});let w=[],S=Object.assign(Object.assign({},u),{id:_,sourceMapId:this.mapId,origin:location.origin,data:jd(u.data,w)});this.target.postMessage(S,{transfer:w})})}receive(u){let l=u.data,f=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[f];let h=this.abortControllers[f];return delete this.abortControllers[f],void(h&&h.abort())}if(Ue(self)||l.mustQueue)return this.tasks[f]=l,this.taskQueue.push(f),void this.invoker.trigger();this.processTask(f,l)}}process(){if(this.taskQueue.length===0)return;let u=this.taskQueue.shift(),l=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(u,l)}processTask(u,l){return o(this,void 0,void 0,function*(){if(l.type==="<response>"){let _=this.resolveRejects[u];return delete this.resolveRejects[u],_?void(l.error?_.reject(zd(l.error)):_.resolve(zd(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let f=zd(l.data),h=new AbortController;this.abortControllers[u]=h;try{let _=yield this.messageHandlers[l.type](l.sourceMapId,f,h);this.completeTask(u,null,_)}catch(_){this.completeTask(u,_)}})}completeTask(u,l,f){let h=[];delete this.abortControllers[u];let _={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?jd(l):null,data:jd(f,h)};this.target.postMessage(_,{transfer:h})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.G=nt,i.H=function(){var u=new Xy(16);return Xy!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},i.I=q3,i.J=function(u,l,f){var h,_,w,S,A,O,k,z,U,W,Y,J,ne=f[0],ce=f[1],he=f[2];return l===u?(u[12]=l[0]*ne+l[4]*ce+l[8]*he+l[12],u[13]=l[1]*ne+l[5]*ce+l[9]*he+l[13],u[14]=l[2]*ne+l[6]*ce+l[10]*he+l[14],u[15]=l[3]*ne+l[7]*ce+l[11]*he+l[15]):(_=l[1],w=l[2],S=l[3],A=l[4],O=l[5],k=l[6],z=l[7],U=l[8],W=l[9],Y=l[10],J=l[11],u[0]=h=l[0],u[1]=_,u[2]=w,u[3]=S,u[4]=A,u[5]=O,u[6]=k,u[7]=z,u[8]=U,u[9]=W,u[10]=Y,u[11]=J,u[12]=h*ne+A*ce+U*he+l[12],u[13]=_*ne+O*ce+W*he+l[13],u[14]=w*ne+k*ce+Y*he+l[14],u[15]=S*ne+z*ce+J*he+l[15]),u},i.K=function(u,l,f){var h=f[0],_=f[1],w=f[2];return u[0]=l[0]*h,u[1]=l[1]*h,u[2]=l[2]*h,u[3]=l[3]*h,u[4]=l[4]*_,u[5]=l[5]*_,u[6]=l[6]*_,u[7]=l[7]*_,u[8]=l[8]*w,u[9]=l[9]*w,u[10]=l[10]*w,u[11]=l[11]*w,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},i.L=nJ,i.M=function(u,l){let f={};for(let h=0;h<l.length;h++){let _=l[h];_ in u&&(f[_]=u[_])}return f},i.N=Xd,i.O=QJ,i.P=m,i.Q=JJ,i.R=Sl,i.S=El,i.T=By,i.U=R,i.V=P,i.W=ke,i.X=Gi,i.Y=C,i.Z=Lb,i._=o,i.a=Be,i.a$=function(u,l){var f=u[0],h=u[1],_=u[2],w=u[3],S=u[4],A=u[5],O=u[6],k=u[7],z=u[8],U=u[9],W=u[10],Y=u[11],J=u[12],ne=u[13],ce=u[14],he=u[15],qe=l[0],be=l[1],Pe=l[2],We=l[3],ut=l[4],Rt=l[5],fr=l[6],Pt=l[7],At=l[8],Qt=l[9],$t=l[10],Bt=l[11],Je=l[12],er=l[13],Kt=l[14],_r=l[15];return Math.abs(f-qe)<=Oa*Math.max(1,Math.abs(f),Math.abs(qe))&&Math.abs(h-be)<=Oa*Math.max(1,Math.abs(h),Math.abs(be))&&Math.abs(_-Pe)<=Oa*Math.max(1,Math.abs(_),Math.abs(Pe))&&Math.abs(w-We)<=Oa*Math.max(1,Math.abs(w),Math.abs(We))&&Math.abs(S-ut)<=Oa*Math.max(1,Math.abs(S),Math.abs(ut))&&Math.abs(A-Rt)<=Oa*Math.max(1,Math.abs(A),Math.abs(Rt))&&Math.abs(O-fr)<=Oa*Math.max(1,Math.abs(O),Math.abs(fr))&&Math.abs(k-Pt)<=Oa*Math.max(1,Math.abs(k),Math.abs(Pt))&&Math.abs(z-At)<=Oa*Math.max(1,Math.abs(z),Math.abs(At))&&Math.abs(U-Qt)<=Oa*Math.max(1,Math.abs(U),Math.abs(Qt))&&Math.abs(W-$t)<=Oa*Math.max(1,Math.abs(W),Math.abs($t))&&Math.abs(Y-Bt)<=Oa*Math.max(1,Math.abs(Y),Math.abs(Bt))&&Math.abs(J-Je)<=Oa*Math.max(1,Math.abs(J),Math.abs(Je))&&Math.abs(ne-er)<=Oa*Math.max(1,Math.abs(ne),Math.abs(er))&&Math.abs(ce-Kt)<=Oa*Math.max(1,Math.abs(ce),Math.abs(Kt))&&Math.abs(he-_r)<=Oa*Math.max(1,Math.abs(he),Math.abs(_r))},i.a0=en,i.a1=W3,i.a2=lt,i.a3=u=>{let l=window.document.createElement("video");return l.muted=!0,new Promise(f=>{l.onloadstart=()=>{f(l)};for(let h of u){let _=window.document.createElement("source");Ee(h)||(l.crossOrigin="Anonymous"),_.src=h,l.appendChild(_)}})},i.a4=function(){return Q++},i.a5=Nt,i.a6=n0,i.a7=Qx,i.a8=fg,i.a9=oee,i.aA=function(u){if(u.type==="custom")return new dYe(u);switch(u.type){case"background":return new cYe(u);case"circle":return new XWe(u);case"fill":return new hZe(u);case"fill-extrusion":return new CZe(u);case"heatmap":return new JWe(u);case"hillshade":return new tZe(u);case"line":return new qZe(u);case"raster":return new pYe(u);case"symbol":return new SA(u);}},i.aB=pe,i.aC=function(u,l){if(!u)return[{command:"setStyle",args:[l]}];let f=[];try{if(!pt(u.version,l.version))return[{command:"setStyle",args:[l]}];pt(u.center,l.center)||f.push({command:"setCenter",args:[l.center]}),pt(u.zoom,l.zoom)||f.push({command:"setZoom",args:[l.zoom]}),pt(u.bearing,l.bearing)||f.push({command:"setBearing",args:[l.bearing]}),pt(u.pitch,l.pitch)||f.push({command:"setPitch",args:[l.pitch]}),pt(u.sprite,l.sprite)||f.push({command:"setSprite",args:[l.sprite]}),pt(u.glyphs,l.glyphs)||f.push({command:"setGlyphs",args:[l.glyphs]}),pt(u.transition,l.transition)||f.push({command:"setTransition",args:[l.transition]}),pt(u.light,l.light)||f.push({command:"setLight",args:[l.light]}),pt(u.terrain,l.terrain)||f.push({command:"setTerrain",args:[l.terrain]}),pt(u.sky,l.sky)||f.push({command:"setSky",args:[l.sky]}),pt(u.projection,l.projection)||f.push({command:"setProjection",args:[l.projection]});let h={},_=[];(function(S,A,O,k){let z;for(z in A=A||{},S=S||{})Object.prototype.hasOwnProperty.call(S,z)&&(Object.prototype.hasOwnProperty.call(A,z)||Ft(z,O,k));for(z in A)Object.prototype.hasOwnProperty.call(A,z)&&(Object.prototype.hasOwnProperty.call(S,z)?pt(S[z],A[z])||(S[z].type==="geojson"&&A[z].type==="geojson"&&Br(S,A,z)?Ht(O,{command:"setGeoJSONSourceData",args:[z,A[z].data]}):cr(z,A,O,k)):ar(z,A,O))})(u.sources,l.sources,_,h);let w=[];u.layers&&u.layers.forEach(S=>{"source"in S&&h[S.source]?f.push({command:"removeLayer",args:[S.id]}):w.push(S)}),f=f.concat(_),function(S,A,O){A=A||[];let k=(S=S||[]).map(sr),z=A.map(sr),U=S.reduce(nn,{}),W=A.reduce(nn,{}),Y=k.slice(),J=Object.create(null),ne,ce,he,qe,be;for(let Pe=0,We=0;Pe<k.length;Pe++)ne=k[Pe],Object.prototype.hasOwnProperty.call(W,ne)?We++:(Ht(O,{command:"removeLayer",args:[ne]}),Y.splice(Y.indexOf(ne,We),1));for(let Pe=0,We=0;Pe<z.length;Pe++)ne=z[z.length-1-Pe],Y[Y.length-1-Pe]!==ne&&(Object.prototype.hasOwnProperty.call(U,ne)?(Ht(O,{command:"removeLayer",args:[ne]}),Y.splice(Y.lastIndexOf(ne,Y.length-We),1)):We++,qe=Y[Y.length-Pe],Ht(O,{command:"addLayer",args:[W[ne],qe]}),Y.splice(Y.length-Pe,0,ne),J[ne]=!0);for(let Pe=0;Pe<z.length;Pe++)if(ne=z[Pe],ce=U[ne],he=W[ne],!J[ne]&&!pt(ce,he))if(pt(ce.source,he.source)&&pt(ce["source-layer"],he["source-layer"])&&pt(ce.type,he.type)){for(be in Ur(ce.layout,he.layout,O,ne,null,"setLayoutProperty"),Ur(ce.paint,he.paint,O,ne,null,"setPaintProperty"),pt(ce.filter,he.filter)||Ht(O,{command:"setFilter",args:[ne,he.filter]}),pt(ce.minzoom,he.minzoom)&&pt(ce.maxzoom,he.maxzoom)||Ht(O,{command:"setLayerZoomRange",args:[ne,he.minzoom,he.maxzoom]}),ce)Object.prototype.hasOwnProperty.call(ce,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?Ur(ce[be],he[be],O,ne,be.slice(6),"setPaintProperty"):pt(ce[be],he[be])||Ht(O,{command:"setLayerProperty",args:[ne,be,he[be]]}));for(be in he)Object.prototype.hasOwnProperty.call(he,be)&&!Object.prototype.hasOwnProperty.call(ce,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?Ur(ce[be],he[be],O,ne,be.slice(6),"setPaintProperty"):pt(ce[be],he[be])||Ht(O,{command:"setLayerProperty",args:[ne,be,he[be]]}))}else Ht(O,{command:"removeLayer",args:[ne]}),qe=Y[Y.lastIndexOf(ne)+1],Ht(O,{command:"addLayer",args:[he,qe]})}(w,l.layers,f)}catch(h){console.warn("Unable to compute style diff:",h),f=[{command:"setStyle",args:[l]}]}return f},i.aD=function(u){let l=[],f=u.id;return f===void 0&&l.push({message:`layers.${f}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${f}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),l},i.aE=function u(l,f){if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(let h=0;h<l.length;h++)if(!u(l[h],f[h]))return!1;return!0}if(typeof l=="object"&&l!==null&&f!==null){if(typeof f!="object"||Object.keys(l).length!==Object.keys(f).length)return!1;for(let h in l)if(!u(l[h],f[h]))return!1;return!0}return l===f},i.aF=oe,i.aG=me,i.aH=class extends lg{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},i.aI=cA,i.aJ=class extends lg{constructor(u,l){super(u,l),this.current=VWe}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},i.aK=$Q,i.aL=WQ,i.aM=Cn,i.aN=class extends lg{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},i.aO=class extends lg{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},i.aP=function(u,l,f,h,_,w,S){var A=1/(l-f),O=1/(h-_),k=1/(w-S);return u[0]=-2*A,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*O,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*k,u[11]=0,u[12]=(l+f)*A,u[13]=(_+h)*O,u[14]=(S+w)*k,u[15]=1,u},i.aQ=KWe,i.aR=class extends Te{},i.aS=BZe,i.aT=class extends ze{},i.aU=I3,i.aV=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},i.aW=lJ,i.aX=Lo,i.aY=wl,i.aZ=class extends Yt{},i.a_=function(u,l){return u[0]===l[0]&&u[1]===l[1]&&u[2]===l[2]&&u[3]===l[3]&&u[4]===l[4]&&u[5]===l[5]&&u[6]===l[6]&&u[7]===l[7]&&u[8]===l[8]&&u[9]===l[9]&&u[10]===l[10]&&u[11]===l[11]&&u[12]===l[12]&&u[13]===l[13]&&u[14]===l[14]&&u[15]===l[15]},i.aa=function(u){let l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,h,_,w)=>{let S=_||w;return l[h]=!S||S.toLowerCase(),""}),l["max-age"]){let f=parseInt(l["max-age"],10);isNaN(f)?delete l["max-age"]:l["max-age"]=f}return l},i.ab=function(u,l){let f=[];for(let h in u)h in l||f.push(h);return f},i.ac=B,i.ad=function(u,l,f){var h=Math.sin(f),_=Math.cos(f),w=l[0],S=l[1],A=l[2],O=l[3],k=l[4],z=l[5],U=l[6],W=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=w*_+k*h,u[1]=S*_+z*h,u[2]=A*_+U*h,u[3]=O*_+W*h,u[4]=k*_-w*h,u[5]=z*_-S*h,u[6]=U*_-A*h,u[7]=W*_-O*h,u},i.ae=function(u){var l=new Xy(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},i.af=hA,i.ag=function(u,l){let f=0,h=0;if(u.kind==="constant")h=u.layoutSize;else if(u.kind!=="source"){let{interpolationType:_,minZoom:w,maxZoom:S}=u,A=_?B(Ma.interpolationFactor(_,l,w,S),0,1):0;u.kind==="camera"?h=Aa.number(u.minSize,u.maxSize,A):f=A}return{uSizeT:f,uSize:h}},i.ai=function(u,{uSize:l,uSizeT:f},{lowerSize:h,upperSize:_}){return u.kind==="source"?h/Fc:u.kind==="composite"?Aa.number(h/Fc,_/Fc,f):l},i.aj=B3,i.ak=function(u,l,f,h){let _=l.y-u.y,w=l.x-u.x,S=h.y-f.y,A=h.x-f.x,O=S*w-A*_;if(O===0)return null;let k=(A*(u.y-f.y)-S*(u.x-f.x))/O;return new m(u.x+k*w,u.y+k*_)},i.al=uee,i.am=XQ,i.an=w3,i.ao=function(u){let l=1/0,f=1/0,h=-1/0,_=-1/0;for(let w of u)l=Math.min(l,w.x),f=Math.min(f,w.y),h=Math.max(h,w.x),_=Math.max(_,w.y);return[l,f,h,_]},i.ap=Xi,i.ar=F3,i.as=function(u,l){var f=l[0],h=l[1],_=l[2],w=l[3],S=l[4],A=l[5],O=l[6],k=l[7],z=l[8],U=l[9],W=l[10],Y=l[11],J=l[12],ne=l[13],ce=l[14],he=l[15],qe=f*A-h*S,be=f*O-_*S,Pe=f*k-w*S,We=h*O-_*A,ut=h*k-w*A,Rt=_*k-w*O,fr=z*ne-U*J,Pt=z*ce-W*J,At=z*he-Y*J,Qt=U*ce-W*ne,$t=U*he-Y*ne,Bt=W*he-Y*ce,Je=qe*Bt-be*$t+Pe*Qt+We*At-ut*Pt+Rt*fr;return Je?(u[0]=(A*Bt-O*$t+k*Qt)*(Je=1/Je),u[1]=(_*$t-h*Bt-w*Qt)*Je,u[2]=(ne*Rt-ce*ut+he*We)*Je,u[3]=(W*ut-U*Rt-Y*We)*Je,u[4]=(O*At-S*Bt-k*Pt)*Je,u[5]=(f*Bt-_*At+w*Pt)*Je,u[6]=(ce*Pe-J*Rt-he*be)*Je,u[7]=(z*Rt-W*Pe+Y*be)*Je,u[8]=(S*$t-A*At+k*fr)*Je,u[9]=(h*At-f*$t-w*fr)*Je,u[10]=(J*ut-ne*Pe+he*qe)*Je,u[11]=(U*Pe-z*ut-Y*qe)*Je,u[12]=(A*Pt-S*Qt-O*fr)*Je,u[13]=(f*Qt-h*Pt+_*fr)*Je,u[14]=(ne*be-J*We-ce*qe)*Je,u[15]=(z*We-U*be+W*qe)*Je,u):null},i.at=Y3,i.au=z3,i.av=K3,i.aw=function(){let u={},l=Se.$version;for(let f in Se.$root){let h=Se.$root[f];if(h.required){let _=null;_=f==="version"?l:h.type==="array"?[]:{},_!=null&&(u[f]=_)}}return u},i.ax=pb,i.ay=de,i.az=function(u){u=u.slice();let l=Object.create(null);for(let f=0;f<u.length;f++)l[u[f].id]=u[f];for(let f=0;f<u.length;f++)"ref"in u[f]&&(u[f]=zt(u[f],l[u[f].ref]));return u},i.b=Ye,i.b0=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},i.b1=function(u,l,f){return u[0]=l[0]*f[0],u[1]=l[1]*f[1],u[2]=l[2]*f[2],u[3]=l[3]*f[3],u},i.b2=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},i.b3=Z,i.b4=ree,i.b5=eee,i.b6=function(u,l,f,h,_){var w,S=1/Math.tan(l/2);return u[0]=S/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=S,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+h)*(w=1/(h-_)),u[14]=2*_*h*w):(u[10]=-1,u[14]=-2*h),u},i.b7=function(u,l,f){var h=Math.sin(f),_=Math.cos(f),w=l[4],S=l[5],A=l[6],O=l[7],k=l[8],z=l[9],U=l[10],W=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=w*_+k*h,u[5]=S*_+z*h,u[6]=A*_+U*h,u[7]=O*_+W*h,u[8]=k*_-w*h,u[9]=z*_-S*h,u[10]=U*_-A*h,u[11]=W*_-O*h,u},i.b8=q,i.b9=j,i.bA=MJ,i.bB=function(u){return u.message===ot},i.bC=Dd,i.bD=fs,i.ba=function(u){return u*Math.PI/180},i.bb=function(u,l){let{x:f,y:h}=Lb.fromLngLat(l);return!(u<0||u>25||h<0||h>=1||f<0||f>=1)},i.bc=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},i.bd=class extends F{},i.be=H3,i.bf=SYe,i.bh=Ce,i.bi=function(u,l){Be.REGISTERED_PROTOCOLS[u]=l},i.bj=function(u){delete Be.REGISTERED_PROTOCOLS[u]},i.bk=function(u,l){let f={};for(let _=0;_<u.length;_++){let w=l&&l[u[_].id]||Q2(u[_]);l&&(l[u[_].id]=w);let S=f[w];S||(S=f[w]=[]),S.push(u[_])}let h=[];for(let _ in f)h.push(f[_]);return h},i.bl=Ut,i.bm=iee,i.bn=aee,i.bo=qJ,i.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=Gi/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;let l=u.bucket.layers[0],f=l.layout,h=l._unevaluatedLayout._values,_={layoutIconSize:h["icon-size"].possiblyEvaluate(new ti(u.bucket.zoom+1),u.canonical),layoutTextSize:h["text-size"].possiblyEvaluate(new ti(u.bucket.zoom+1),u.canonical),textMaxSize:h["text-size"].possiblyEvaluate(new ti(18))};if(u.bucket.textSizeData.kind==="composite"){let{minZoom:k,maxZoom:z}=u.bucket.textSizeData;_.compositeTextSizes=[h["text-size"].possiblyEvaluate(new ti(k),u.canonical),h["text-size"].possiblyEvaluate(new ti(z),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){let{minZoom:k,maxZoom:z}=u.bucket.iconSizeData;_.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new ti(k),u.canonical),h["icon-size"].possiblyEvaluate(new ti(z),u.canonical)]}let w=f.get("text-line-height")*Xi,S=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",A=f.get("text-keep-upright"),O=f.get("text-size");for(let k of u.bucket.features){let z=f.get("text-font").evaluate(k,{},u.canonical).join(","),U=O.evaluate(k,{},u.canonical),W=_.layoutTextSize.evaluate(k,{},u.canonical),Y=_.layoutIconSize.evaluate(k,{},u.canonical),J={horizontal:{},vertical:void 0},ne=k.text,ce,he=[0,0];if(ne){let Pe=ne.toString(),We=f.get("text-letter-spacing").evaluate(k,{},u.canonical)*Xi,ut=f3(Pe)?We:0,Rt=f.get("text-anchor").evaluate(k,{},u.canonical),fr=yee(l,k,u.canonical);if(!fr){let $t=f.get("text-radial-offset").evaluate(k,{},u.canonical);he=$t?vee(Rt,[$t*Xi,Z3]):f.get("text-offset").evaluate(k,{},u.canonical).map(Bt=>Bt*Xi)}let Pt=S?"center":f.get("text-justify").evaluate(k,{},u.canonical),At=f.get("symbol-placement")==="point"?f.get("text-max-width").evaluate(k,{},u.canonical)*Xi:1/0,Qt=()=>{u.bucket.allowVerticalPlacement&&db(Pe)&&(J.vertical=xA(ne,u.glyphMap,u.glyphPositions,u.imagePositions,z,At,w,Rt,"left",ut,he,i.ah.vertical,!0,W,U))};if(!S&&fr){let $t=new Set;if(Pt==="auto")for(let Je=0;Je<fr.values.length;Je+=2)$t.add(Y3(fr.values[Je]));else $t.add(Pt);let Bt=!1;for(let Je of $t)if(!J.horizontal[Je])if(Bt)J.horizontal[Je]=J.horizontal[0];else{let er=xA(ne,u.glyphMap,u.glyphPositions,u.imagePositions,z,At,w,"center",Je,ut,he,i.ah.horizontal,!1,W,U);er&&(J.horizontal[Je]=er,Bt=er.positionedLines.length===1)}Qt()}else{Pt==="auto"&&(Pt=Y3(Rt));let $t=xA(ne,u.glyphMap,u.glyphPositions,u.imagePositions,z,At,w,Rt,Pt,ut,he,i.ah.horizontal,!1,W,U);$t&&(J.horizontal[Pt]=$t),Qt(),db(Pe)&&S&&A&&(J.vertical=xA(ne,u.glyphMap,u.glyphPositions,u.imagePositions,z,At,w,Rt,Pt,ut,he,i.ah.vertical,!1,W,U))}}let qe=!1;if(k.icon&&k.icon.name){let Pe=u.imageMap[k.icon.name];Pe&&(ce=oYe(u.imagePositions[k.icon.name],f.get("icon-offset").evaluate(k,{},u.canonical),f.get("icon-anchor").evaluate(k,{},u.canonical)),qe=!!Pe.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=qe:u.bucket.sdfIcons!==qe&&Fe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Pe.pixelRatio!==u.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}let be=xee(J.horizontal)||J.vertical;u.bucket.iconsInText=!!be&&be.iconsInText,(be||ce)&&bYe(u.bucket,k,J,ce,u.imageMap,_,W,Y,he,qe,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},i.bq=P3,i.br=O3,i.bs=L3,i.bt=Zd,i.bu=R3,i.bv=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},i.bw=function(u,l,f,h,_){return o(this,void 0,void 0,function*(){if(P())try{return yield ke(u,l,f,h,_)}catch(w){}return function(w,S,A,O,k){let z=w.width,U=w.height;je&&it||(je=new OffscreenCanvas(z,U),it=je.getContext("2d",{willReadFrequently:!0})),je.width=z,je.height=U,it.drawImage(w,0,0,z,U);let W=it.getImageData(S,A,O,k);return it.clearRect(0,0,z,U),W.data}(u,l,f,h,_)})},i.bx=nee,i.by=a,i.bz=c,i.c=at,i.d=u=>o(void 0,void 0,void 0,function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));let l=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(l)}catch(f){throw new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.e=re,i.f=u=>new Promise((l,f)=>{let h=new Image;h.onload=()=>{l(h),URL.revokeObjectURL(h.src),h.onload=null,window.requestAnimationFrame(()=>{h.src=Re})},h.onerror=()=>f(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let _=new Blob([new Uint8Array(u)],{type:"image/png"});h.src=u.byteLength?URL.createObjectURL(_):Re}),i.g=Ze,i.h=(u,l)=>Ne(re(u,{type:"json"}),l),i.i=Ue,i.j=_t,i.k=yt,i.l=(u,l)=>Ne(re(u,{type:"arrayBuffer"}),l),i.m=Ne,i.n=function(u){return new R3(u).readFields(QZe,[])},i.o=wb,i.p=kJ,i.q=b,i.r=u3,i.s=Ee,i.t=cb,i.u=ip,i.v=Se,i.w=Fe,i.x=function([u,l,f]){return l+=90,l*=Math.PI/180,f*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(f),y:u*Math.sin(l)*Math.sin(f),z:u*Math.cos(f)}},i.y=Aa,i.z=ti}),r("worker",["./shared"],function(i){"use strict";class o{constructor($){this.keyCache={},$&&this.replace($)}replace($){this._layerConfigs={},this._layers={},this.update($,[])}update($,H){for(let se of $){this._layerConfigs[se.id]=se;let _e=this._layers[se.id]=i.aA(se);_e._featureFilter=i.a7(_e.filter),this.keyCache[se.id]&&delete this.keyCache[se.id]}for(let se of H)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};let K=i.bk(Object.values(this._layerConfigs),this.keyCache);for(let se of K){let _e=se.map(Ge=>this._layers[Ge.id]),we=_e[0];if(we.visibility==="none")continue;let Me=we.source||"",ve=this.familiesBySource[Me];ve||(ve=this.familiesBySource[Me]={});let He=we.sourceLayer||"_geojsonTileLayer",tt=ve[He];tt||(tt=ve[He]=[]),tt.push(_e)}}}class a{constructor($){let H={},K=[];for(let Me in $){let ve=$[Me],He=H[Me]={};for(let tt in ve){let Ge=ve[+tt];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;let ht={x:0,y:0,w:Ge.bitmap.width+2,h:Ge.bitmap.height+2};K.push(ht),He[tt]={rect:ht,metrics:Ge.metrics}}}let{w:se,h:_e}=i.p(K),we=new i.o({width:se||1,height:_e||1});for(let Me in $){let ve=$[Me];for(let He in ve){let tt=ve[+He];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;let Ge=H[Me][He].rect;i.o.copy(tt.bitmap,we,{x:0,y:0},{x:Ge.x+1,y:Ge.y+1},tt.bitmap)}}this.image=we,this.positions=H}}i.bl("GlyphAtlas",a);class c{constructor($){this.tileID=new i.S($.tileID.overscaledZ,$.tileID.wrap,$.tileID.canonical.z,$.tileID.canonical.x,$.tileID.canonical.y),this.uid=$.uid,this.zoom=$.zoom,this.pixelRatio=$.pixelRatio,this.tileSize=$.tileSize,this.source=$.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=$.showCollisionBoxes,this.collectResourceTiming=!!$.collectResourceTiming,this.returnDependencies=!!$.returnDependencies,this.promoteId=$.promoteId,this.inFlightDependencies=[]}parse($,H,K,se){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=$,this.collisionBoxArray=new i.a5;let _e=new i.bm(Object.keys($.layers).sort()),we=new i.bn(this.tileID,this.promoteId);we.bucketLayerIDs=[];let Me={},ve={featureIndex:we,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:K},He=H.familiesBySource[this.source];for(let zr in He){let Mn=$.layers[zr];if(!Mn)continue;Mn.version===1&&i.w(`Vector tile source "${this.source}" layer "${zr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let fi=_e.encode(zr),uo=[];for(let yo=0;yo<Mn.length;yo++){let Qo=Mn.feature(yo),xd=we.getId(Qo,zr);uo.push({feature:Qo,id:xd,index:yo,sourceLayerIndex:fi})}for(let yo of He[zr]){let Qo=yo[0];Qo.source!==this.source&&i.w(`layer.source = ${Qo.source} does not equal this.source = ${this.source}`),Qo.minzoom&&this.zoom<Math.floor(Qo.minzoom)||Qo.maxzoom&&this.zoom>=Qo.maxzoom||Qo.visibility!=="none"&&(d(yo,this.zoom,K),(Me[Qo.id]=Qo.createBucket({index:we.bucketLayerIDs.length,layers:yo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fi,sourceID:this.source})).populate(uo,ve,this.tileID.canonical),we.bucketLayerIDs.push(yo.map(xd=>xd.id)))}}let tt=i.aF(ve.glyphDependencies,zr=>Object.keys(zr).map(Number));this.inFlightDependencies.forEach(zr=>zr==null?void 0:zr.abort()),this.inFlightDependencies=[];let Ge=Promise.resolve({});if(Object.keys(tt).length){let zr=new AbortController;this.inFlightDependencies.push(zr),Ge=se.sendAsync({type:"GG",data:{stacks:tt,source:this.source,tileID:this.tileID,type:"glyphs"}},zr)}let ht=Object.keys(ve.iconDependencies),Wt=Promise.resolve({});if(ht.length){let zr=new AbortController;this.inFlightDependencies.push(zr),Wt=se.sendAsync({type:"GI",data:{icons:ht,source:this.source,tileID:this.tileID,type:"icons"}},zr)}let lr=Object.keys(ve.patternDependencies),ln=Promise.resolve({});if(lr.length){let zr=new AbortController;this.inFlightDependencies.push(zr),ln=se.sendAsync({type:"GI",data:{icons:lr,source:this.source,tileID:this.tileID,type:"patterns"}},zr)}let[Ar,un,Zr]=yield Promise.all([Ge,Wt,ln]),Ui=new a(Ar),Si=new i.bo(un,Zr);for(let zr in Me){let Mn=Me[zr];Mn instanceof i.a6?(d(Mn.layers,this.zoom,K),i.bp({bucket:Mn,glyphMap:Ar,glyphPositions:Ui.positions,imageMap:un,imagePositions:Si.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Mn.hasPattern&&(Mn instanceof i.bq||Mn instanceof i.br||Mn instanceof i.bs)&&(d(Mn.layers,this.zoom,K),Mn.addFeatures(ve,this.tileID.canonical,Si.patternPositions))}return this.status="done",{buckets:Object.values(Me).filter(zr=>!zr.isEmpty()),featureIndex:we,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ui.image,imageAtlas:Si,glyphMap:this.returnDependencies?Ar:null,iconMap:this.returnDependencies?un:null,glyphPositions:this.returnDependencies?Ui.positions:null}})}}function d(ae,$,H){let K=new i.z($);for(let se of ae)se.recalculate(K,H)}class m{constructor($,H,K){this.actor=$,this.layerIndex=H,this.availableImages=K,this.fetching={},this.loading={},this.loaded={}}loadVectorTile($,H){return i._(this,void 0,void 0,function*(){let K=yield i.l($.request,H);try{return{vectorTile:new i.bt.VectorTile(new i.bu(K.data)),rawData:K.data,cacheControl:K.cacheControl,expires:K.expires}}catch(se){let _e=new Uint8Array(K.data),we=`Unable to parse the tile at ${$.request.url}, `;throw we+=_e[0]===31&&_e[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${se.message}`,new Error(we)}})}loadTile($){return i._(this,void 0,void 0,function*(){let H=$.uid,K=!!($&&$.request&&$.request.collectResourceTiming)&&new i.bv($.request),se=new c($);this.loading[H]=se;let _e=new AbortController;se.abort=_e;try{let we=yield this.loadVectorTile($,_e);if(delete this.loading[H],!we)return null;let Me=we.rawData,ve={};we.expires&&(ve.expires=we.expires),we.cacheControl&&(ve.cacheControl=we.cacheControl);let He={};if(K){let Ge=K.finish();Ge&&(He.resourceTiming=JSON.parse(JSON.stringify(Ge)))}se.vectorTile=we.vectorTile;let tt=se.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[H]=se,this.fetching[H]={rawTileData:Me,cacheControl:ve,resourceTiming:He};try{let Ge=yield tt;return i.e({rawTileData:Me.slice(0)},Ge,ve,He)}finally{delete this.fetching[H]}}catch(we){throw delete this.loading[H],se.status="done",this.loaded[H]=se,we}})}reloadTile($){return i._(this,void 0,void 0,function*(){let H=$.uid;if(!this.loaded||!this.loaded[H])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let K=this.loaded[H];if(K.showCollisionBoxes=$.showCollisionBoxes,K.status==="parsing"){let se=yield K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor),_e;if(this.fetching[H]){let{rawTileData:we,cacheControl:Me,resourceTiming:ve}=this.fetching[H];delete this.fetching[H],_e=i.e({rawTileData:we.slice(0)},se,Me,ve)}else _e=se;return _e}if(K.status==="done"&&K.vectorTile)return K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile($){return i._(this,void 0,void 0,function*(){let H=this.loading,K=$.uid;H&&H[K]&&H[K].abort&&(H[K].abort.abort(),delete H[K])})}removeTile($){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[$.uid]&&delete this.loaded[$.uid]})}}class v{constructor(){this.loaded={}}loadTile($){return i._(this,void 0,void 0,function*(){let{uid:H,encoding:K,rawImageData:se,redFactor:_e,greenFactor:we,blueFactor:Me,baseShift:ve}=$,He=se.width+2,tt=se.height+2,Ge=i.b(se)?new i.R({width:He,height:tt},(yield i.bw(se,-1,-1,He,tt))):se,ht=new i.bx(H,Ge,K,_e,we,Me,ve);return this.loaded=this.loaded||{},this.loaded[H]=ht,ht})}removeTile($){let H=this.loaded,K=$.uid;H&&H[K]&&delete H[K]}}function E(ae,$){if(ae.length!==0){I(ae[0],$);for(var H=1;H<ae.length;H++)I(ae[H],!$)}}function I(ae,$){for(var H=0,K=0,se=0,_e=ae.length,we=_e-1;se<_e;we=se++){var Me=(ae[se][0]-ae[we][0])*(ae[we][1]+ae[se][1]),ve=H+Me;K+=Math.abs(H)>=Math.abs(Me)?H-ve+Me:Me-ve+H,H=ve}H+K>=0!=!!$&&ae.reverse()}var M=i.by(function ae($,H){var K,se=$&&$.type;if(se==="FeatureCollection")for(K=0;K<$.features.length;K++)ae($.features[K],H);else if(se==="GeometryCollection")for(K=0;K<$.geometries.length;K++)ae($.geometries[K],H);else if(se==="Feature")ae($.geometry,H);else if(se==="Polygon")E($.coordinates,H);else if(se==="MultiPolygon")for(K=0;K<$.coordinates.length;K++)E($.coordinates[K],H);return $});let L=i.bt.VectorTileFeature.prototype.toGeoJSON;var R={exports:{}},P=i.bz,q=i.bt.VectorTileFeature,j=B;function B(ae,$){this.options=$||{},this.features=ae,this.length=ae.length}function Z(ae,$){this.id=typeof ae.id=="number"?ae.id:void 0,this.type=ae.type,this.rawGeometry=ae.type===1?[ae.geometry]:ae.geometry,this.properties=ae.tags,this.extent=$||4096}B.prototype.feature=function(ae){return new Z(this.features[ae],this.options.extent)},Z.prototype.loadGeometry=function(){var ae=this.rawGeometry;this.geometry=[];for(var $=0;$<ae.length;$++){for(var H=ae[$],K=[],se=0;se<H.length;se++)K.push(new P(H[se][0],H[se][1]));this.geometry.push(K)}return this.geometry},Z.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ae=this.geometry,$=1/0,H=-1/0,K=1/0,se=-1/0,_e=0;_e<ae.length;_e++)for(var we=ae[_e],Me=0;Me<we.length;Me++){var ve=we[Me];$=Math.min($,ve.x),H=Math.max(H,ve.x),K=Math.min(K,ve.y),se=Math.max(se,ve.y)}return[$,K,H,se]},Z.prototype.toGeoJSON=q.prototype.toGeoJSON;var re=i.bA,Q=j;function oe(ae){var $=new re;return function(H,K){for(var se in H.layers)K.writeMessage(3,me,H.layers[se])}(ae,$),$.finish()}function me(ae,$){var H;$.writeVarintField(15,ae.version||1),$.writeStringField(1,ae.name||""),$.writeVarintField(5,ae.extent||4096);var K={keys:[],values:[],keycache:{},valuecache:{}};for(H=0;H<ae.length;H++)K.feature=ae.feature(H),$.writeMessage(2,pe,K);var se=K.keys;for(H=0;H<se.length;H++)$.writeStringField(3,se[H]);var _e=K.values;for(H=0;H<_e.length;H++)$.writeMessage(4,Xe,_e[H])}function pe(ae,$){var H=ae.feature;H.id!==void 0&&$.writeVarintField(1,H.id),$.writeMessage(2,Ae,ae),$.writeVarintField(3,H.type),$.writeMessage(4,Ue,H)}function Ae(ae,$){var H=ae.feature,K=ae.keys,se=ae.values,_e=ae.keycache,we=ae.valuecache;for(var Me in H.properties){var ve=H.properties[Me],He=_e[Me];if(ve!==null){He===void 0&&(K.push(Me),_e[Me]=He=K.length-1),$.writeVarint(He);var tt=typeof ve;tt!=="string"&&tt!=="boolean"&&tt!=="number"&&(ve=JSON.stringify(ve));var Ge=tt+":"+ve,ht=we[Ge];ht===void 0&&(se.push(ve),we[Ge]=ht=se.length-1),$.writeVarint(ht)}}}function Fe(ae,$){return($<<3)+(7&ae)}function $e(ae){return ae<<1^ae>>31}function Ue(ae,$){for(var H=ae.loadGeometry(),K=ae.type,se=0,_e=0,we=H.length,Me=0;Me<we;Me++){var ve=H[Me],He=1;K===1&&(He=ve.length),$.writeVarint(Fe(1,He));for(var tt=K===3?ve.length-1:ve.length,Ge=0;Ge<tt;Ge++){Ge===1&&K!==1&&$.writeVarint(Fe(2,tt-1));var ht=ve[Ge].x-se,Wt=ve[Ge].y-_e;$.writeVarint($e(ht)),$.writeVarint($e(Wt)),se+=ht,_e+=Wt}K===3&&$.writeVarint(Fe(7,1))}}function Xe(ae,$){var H=typeof ae;H==="string"?$.writeStringField(1,ae):H==="boolean"?$.writeBooleanField(7,ae):H==="number"&&(ae%1!=0?$.writeDoubleField(3,ae):ae<0?$.writeSVarintField(6,ae):$.writeVarintField(5,ae))}R.exports=oe,R.exports.fromVectorTileJs=oe,R.exports.fromGeojsonVt=function(ae,$){$=$||{};var H={};for(var K in ae)H[K]=new Q(ae[K].features,$),H[K].name=K,H[K].version=$.version,H[K].extent=$.extent;return oe({layers:H})},R.exports.GeoJSONWrapper=Q;var Ye=i.by(R.exports);let Re={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ae=>ae},ke=Math.fround||(je=new Float32Array(1),ae=>(je[0]=+ae,je[0]));var je;let it=3,ot=5,at=6;class Be{constructor($){this.options=Object.assign(Object.create(Re),$),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load($){let{log:H,minZoom:K,maxZoom:se}=this.options;H&&console.time("total time");let _e=`prepare ${$.length} points`;H&&console.time(_e),this.points=$;let we=[];for(let ve=0;ve<$.length;ve++){let He=$[ve];if(!He.geometry)continue;let[tt,Ge]=He.geometry.coordinates,ht=ke(Ce(tt)),Wt=ke(de(Ge));we.push(ht,Wt,1/0,ve,-1,1),this.options.reduce&&we.push(0)}let Me=this.trees[se+1]=this._createTree(we);H&&console.timeEnd(_e);for(let ve=se;ve>=K;ve--){let He=+Date.now();Me=this.trees[ve]=this._createTree(this._cluster(Me,ve)),H&&console.log("z%d: %d clusters in %dms",ve,Me.numItems,+Date.now()-He)}return H&&console.timeEnd("total time"),this}getClusters($,H){let K=(($[0]+180)%360+360)%360-180,se=Math.max(-90,Math.min(90,$[1])),_e=$[2]===180?180:(($[2]+180)%360+360)%360-180,we=Math.max(-90,Math.min(90,$[3]));if($[2]-$[0]>=360)K=-180,_e=180;else if(K>_e){let Ge=this.getClusters([K,se,180,we],H),ht=this.getClusters([-180,se,_e,we],H);return Ge.concat(ht)}let Me=this.trees[this._limitZoom(H)],ve=Me.range(Ce(K),de(we),Ce(_e),de(se)),He=Me.data,tt=[];for(let Ge of ve){let ht=this.stride*Ge;tt.push(He[ht+ot]>1?Ze(He,ht,this.clusterProps):this.points[He[ht+it]])}return tt}getChildren($){let H=this._getOriginId($),K=this._getOriginZoom($),se="No cluster with the specified id.",_e=this.trees[K];if(!_e)throw new Error(se);let we=_e.data;if(H*this.stride>=we.length)throw new Error(se);let Me=this.options.radius/(this.options.extent*Math.pow(2,K-1)),ve=_e.within(we[H*this.stride],we[H*this.stride+1],Me),He=[];for(let tt of ve){let Ge=tt*this.stride;we[Ge+4]===$&&He.push(we[Ge+ot]>1?Ze(we,Ge,this.clusterProps):this.points[we[Ge+it]])}if(He.length===0)throw new Error(se);return He}getLeaves($,H,K){let se=[];return this._appendLeaves(se,$,H=H||10,K=K||0,0),se}getTile($,H,K){let se=this.trees[this._limitZoom($)],_e=Math.pow(2,$),{extent:we,radius:Me}=this.options,ve=Me/we,He=(K-ve)/_e,tt=(K+1+ve)/_e,Ge={features:[]};return this._addTileFeatures(se.range((H-ve)/_e,He,(H+1+ve)/_e,tt),se.data,H,K,_e,Ge),H===0&&this._addTileFeatures(se.range(1-ve/_e,He,1,tt),se.data,_e,K,_e,Ge),H===_e-1&&this._addTileFeatures(se.range(0,He,ve/_e,tt),se.data,-1,K,_e,Ge),Ge.features.length?Ge:null}getClusterExpansionZoom($){let H=this._getOriginZoom($)-1;for(;H<=this.options.maxZoom;){let K=this.getChildren($);if(H++,K.length!==1)break;$=K[0].properties.cluster_id}return H}_appendLeaves($,H,K,se,_e){let we=this.getChildren(H);for(let Me of we){let ve=Me.properties;if(ve&&ve.cluster?_e+ve.point_count<=se?_e+=ve.point_count:_e=this._appendLeaves($,ve.cluster_id,K,se,_e):_e<se?_e++:$.push(Me),$.length===K)break}return _e}_createTree($){let H=new i.av($.length/this.stride|0,this.options.nodeSize,Float32Array);for(let K=0;K<$.length;K+=this.stride)H.add($[K],$[K+1]);return H.finish(),H.data=$,H}_addTileFeatures($,H,K,se,_e,we){for(let Me of $){let ve=Me*this.stride,He=H[ve+ot]>1,tt,Ge,ht;if(He)tt=nt(H,ve,this.clusterProps),Ge=H[ve],ht=H[ve+1];else{let ln=this.points[H[ve+it]];tt=ln.properties;let[Ar,un]=ln.geometry.coordinates;Ge=Ce(Ar),ht=de(un)}let Wt={type:1,geometry:[[Math.round(this.options.extent*(Ge*_e-K)),Math.round(this.options.extent*(ht*_e-se))]],tags:tt},lr;lr=He||this.options.generateId?H[ve+it]:this.points[H[ve+it]].id,lr!==void 0&&(Wt.id=lr),we.features.push(Wt)}}_limitZoom($){return Math.max(this.options.minZoom,Math.min(Math.floor(+$),this.options.maxZoom+1))}_cluster($,H){let{radius:K,extent:se,reduce:_e,minPoints:we}=this.options,Me=K/(se*Math.pow(2,H)),ve=$.data,He=[],tt=this.stride;for(let Ge=0;Ge<ve.length;Ge+=tt){if(ve[Ge+2]<=H)continue;ve[Ge+2]=H;let ht=ve[Ge],Wt=ve[Ge+1],lr=$.within(ve[Ge],ve[Ge+1],Me),ln=ve[Ge+ot],Ar=ln;for(let un of lr){let Zr=un*tt;ve[Zr+2]>H&&(Ar+=ve[Zr+ot])}if(Ar>ln&&Ar>=we){let un,Zr=ht*ln,Ui=Wt*ln,Si=-1,zr=((Ge/tt|0)<<5)+(H+1)+this.points.length;for(let Mn of lr){let fi=Mn*tt;if(ve[fi+2]<=H)continue;ve[fi+2]=H;let uo=ve[fi+ot];Zr+=ve[fi]*uo,Ui+=ve[fi+1]*uo,ve[fi+4]=zr,_e&&(un||(un=this._map(ve,Ge,!0),Si=this.clusterProps.length,this.clusterProps.push(un)),_e(un,this._map(ve,fi)))}ve[Ge+4]=zr,He.push(Zr/Ar,Ui/Ar,1/0,zr,-1,Ar),_e&&He.push(Si)}else{for(let un=0;un<tt;un++)He.push(ve[Ge+un]);if(Ar>1)for(let un of lr){let Zr=un*tt;if(!(ve[Zr+2]<=H)){ve[Zr+2]=H;for(let Ui=0;Ui<tt;Ui++)He.push(ve[Zr+Ui])}}}}return He}_getOriginId($){return $-this.points.length>>5}_getOriginZoom($){return($-this.points.length)%32}_map($,H,K){if($[H+ot]>1){let we=this.clusterProps[$[H+at]];return K?Object.assign({},we):we}let se=this.points[$[H+it]].properties,_e=this.options.map(se);return K&&_e===se?Object.assign({},_e):_e}}function Ze(ae,$,H){return{type:"Feature",id:ae[$+it],properties:nt(ae,$,H),geometry:{type:"Point",coordinates:[(K=ae[$],360*(K-.5)),Ne(ae[$+1])]}};var K}function nt(ae,$,H){let K=ae[$+ot],se=K>=1e4?`${Math.round(K/1e3)}k`:K>=1e3?Math.round(K/100)/10+"k":K,_e=ae[$+at],we=_e===-1?{}:Object.assign({},H[_e]);return Object.assign(we,{cluster:!0,cluster_id:ae[$+it],point_count:K,point_count_abbreviated:se})}function Ce(ae){return ae/360+.5}function de(ae){let $=Math.sin(ae*Math.PI/180),H=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return H<0?0:H>1?1:H}function Ne(ae){let $=(180-360*ae)*Math.PI/180;return 360*Math.atan(Math.exp($))/Math.PI-90}function Ee(ae,$,H,K){let se=K,_e=$+(H-$>>1),we,Me=H-$,ve=ae[$],He=ae[$+1],tt=ae[H],Ge=ae[H+1];for(let ht=$+3;ht<H;ht+=3){let Wt=Qe(ae[ht],ae[ht+1],ve,He,tt,Ge);if(Wt>se)we=ht,se=Wt;else if(Wt===se){let lr=Math.abs(ht-_e);lr<Me&&(we=ht,Me=lr)}}se>K&&(we-$>3&&Ee(ae,$,we,K),ae[we+2]=se,H-we>3&&Ee(ae,we,H,K))}function Qe(ae,$,H,K,se,_e){let we=se-H,Me=_e-K;if(we!==0||Me!==0){let ve=((ae-H)*we+($-K)*Me)/(we*we+Me*Me);ve>1?(H=se,K=_e):ve>0&&(H+=we*ve,K+=Me*ve)}return we=ae-H,Me=$-K,we*we+Me*Me}function Ke(ae,$,H,K){let se={id:ae==null?null:ae,type:$,geometry:H,tags:K,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if($==="Point"||$==="MultiPoint"||$==="LineString")yt(se,H);else if($==="Polygon")yt(se,H[0]);else if($==="MultiLineString")for(let _e of H)yt(se,_e);else if($==="MultiPolygon")for(let _e of H)yt(se,_e[0]);return se}function yt(ae,$){for(let H=0;H<$.length;H+=3)ae.minX=Math.min(ae.minX,$[H]),ae.minY=Math.min(ae.minY,$[H+1]),ae.maxX=Math.max(ae.maxX,$[H]),ae.maxY=Math.max(ae.maxY,$[H+1])}function _t(ae,$,H,K){if(!$.geometry)return;let se=$.geometry.coordinates;if(se&&se.length===0)return;let _e=$.geometry.type,we=Math.pow(H.tolerance/((1<<H.maxZoom)*H.extent),2),Me=[],ve=$.id;if(H.promoteId?ve=$.properties[H.promoteId]:H.generateId&&(ve=K||0),_e==="Point")gt(se,Me);else if(_e==="MultiPoint")for(let He of se)gt(He,Me);else if(_e==="LineString")Se(se,Me,we,!1);else if(_e==="MultiLineString"){if(H.lineMetrics){for(let He of se)Me=[],Se(He,Me,we,!1),ae.push(Ke(ve,"LineString",Me,$.properties));return}ft(se,Me,we,!1)}else if(_e==="Polygon")ft(se,Me,we,!0);else{if(_e!=="MultiPolygon"){if(_e==="GeometryCollection"){for(let He of $.geometry.geometries)_t(ae,{id:ve,geometry:He,properties:$.properties},H,K);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let He of se){let tt=[];ft(He,tt,we,!0),Me.push(tt)}}ae.push(Ke(ve,_e,Me,$.properties))}function gt(ae,$){$.push(zt(ae[0]),pt(ae[1]),0)}function Se(ae,$,H,K){let se,_e,we=0;for(let ve=0;ve<ae.length;ve++){let He=zt(ae[ve][0]),tt=pt(ae[ve][1]);$.push(He,tt,0),ve>0&&(we+=K?(se*tt-He*_e)/2:Math.sqrt(Math.pow(He-se,2)+Math.pow(tt-_e,2))),se=He,_e=tt}let Me=$.length-3;$[2]=1,Ee($,0,Me,H),$[Me+2]=1,$.size=Math.abs(we),$.start=0,$.end=$.size}function ft(ae,$,H,K){for(let se=0;se<ae.length;se++){let _e=[];Se(ae[se],_e,H,K),$.push(_e)}}function zt(ae){return ae/360+.5}function pt(ae){let $=Math.sin(ae*Math.PI/180),H=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return H<0?0:H>1?1:H}function Ht(ae,$,H,K,se,_e,we,Me){if(K/=$,_e>=(H/=$)&&we<K)return ae;if(we<H||_e>=K)return null;let ve=[];for(let He of ae){let tt=He.geometry,Ge=He.type,ht=se===0?He.minX:He.minY,Wt=se===0?He.maxX:He.maxY;if(ht>=H&&Wt<K){ve.push(He);continue}if(Wt<H||ht>=K)continue;let lr=[];if(Ge==="Point"||Ge==="MultiPoint")ar(tt,lr,H,K,se);else if(Ge==="LineString")Ft(tt,lr,H,K,se,!1,Me.lineMetrics);else if(Ge==="MultiLineString")Br(tt,lr,H,K,se,!1);else if(Ge==="Polygon")Br(tt,lr,H,K,se,!0);else if(Ge==="MultiPolygon")for(let ln of tt){let Ar=[];Br(ln,Ar,H,K,se,!0),Ar.length&&lr.push(Ar)}if(lr.length){if(Me.lineMetrics&&Ge==="LineString"){for(let ln of lr)ve.push(Ke(He.id,Ge,ln,He.tags));continue}Ge!=="LineString"&&Ge!=="MultiLineString"||(lr.length===1?(Ge="LineString",lr=lr[0]):Ge="MultiLineString"),Ge!=="Point"&&Ge!=="MultiPoint"||(Ge=lr.length===3?"Point":"MultiPoint"),ve.push(Ke(He.id,Ge,lr,He.tags))}}return ve.length?ve:null}function ar(ae,$,H,K,se){for(let _e=0;_e<ae.length;_e+=3){let we=ae[_e+se];we>=H&&we<=K&&Ur($,ae[_e],ae[_e+1],ae[_e+2])}}function Ft(ae,$,H,K,se,_e,we){let Me=cr(ae),ve=se===0?sr:nn,He,tt,Ge=ae.start;for(let Ar=0;Ar<ae.length-3;Ar+=3){let un=ae[Ar],Zr=ae[Ar+1],Ui=ae[Ar+2],Si=ae[Ar+3],zr=ae[Ar+4],Mn=se===0?un:Zr,fi=se===0?Si:zr,uo=!1;we&&(He=Math.sqrt(Math.pow(un-Si,2)+Math.pow(Zr-zr,2))),Mn<H?fi>H&&(tt=ve(Me,un,Zr,Si,zr,H),we&&(Me.start=Ge+He*tt)):Mn>K?fi<K&&(tt=ve(Me,un,Zr,Si,zr,K),we&&(Me.start=Ge+He*tt)):Ur(Me,un,Zr,Ui),fi<H&&Mn>=H&&(tt=ve(Me,un,Zr,Si,zr,H),uo=!0),fi>K&&Mn<=K&&(tt=ve(Me,un,Zr,Si,zr,K),uo=!0),!_e&&uo&&(we&&(Me.end=Ge+He*tt),$.push(Me),Me=cr(ae)),we&&(Ge+=He)}let ht=ae.length-3,Wt=ae[ht],lr=ae[ht+1],ln=se===0?Wt:lr;ln>=H&&ln<=K&&Ur(Me,Wt,lr,ae[ht+2]),ht=Me.length-3,_e&&ht>=3&&(Me[ht]!==Me[0]||Me[ht+1]!==Me[1])&&Ur(Me,Me[0],Me[1],Me[2]),Me.length&&$.push(Me)}function cr(ae){let $=[];return $.size=ae.size,$.start=ae.start,$.end=ae.end,$}function Br(ae,$,H,K,se,_e){for(let we of ae)Ft(we,$,H,K,se,_e,!1)}function Ur(ae,$,H,K){ae.push($,H,K)}function sr(ae,$,H,K,se,_e){let we=(_e-$)/(K-$);return Ur(ae,_e,H+(se-H)*we,1),we}function nn(ae,$,H,K,se,_e){let we=(_e-H)/(se-H);return Ur(ae,$+(K-$)*we,_e,1),we}function lt(ae,$){let H=[];for(let K=0;K<ae.length;K++){let se=ae[K],_e=se.type,we;if(_e==="Point"||_e==="MultiPoint"||_e==="LineString")we=wi(se.geometry,$);else if(_e==="MultiLineString"||_e==="Polygon"){we=[];for(let Me of se.geometry)we.push(wi(Me,$))}else if(_e==="MultiPolygon"){we=[];for(let Me of se.geometry){let ve=[];for(let He of Me)ve.push(wi(He,$));we.push(ve)}}H.push(Ke(se.id,_e,we,se.tags))}return H}function wi(ae,$){let H=[];H.size=ae.size,ae.start!==void 0&&(H.start=ae.start,H.end=ae.end);for(let K=0;K<ae.length;K+=3)H.push(ae[K]+$,ae[K+1],ae[K+2]);return H}function Tn(ae,$){if(ae.transformed)return ae;let H=1<<ae.z,K=ae.x,se=ae.y;for(let _e of ae.features){let we=_e.geometry,Me=_e.type;if(_e.geometry=[],Me===1)for(let ve=0;ve<we.length;ve+=2)_e.geometry.push(Os(we[ve],we[ve+1],$,H,K,se));else for(let ve=0;ve<we.length;ve++){let He=[];for(let tt=0;tt<we[ve].length;tt+=2)He.push(Os(we[ve][tt],we[ve][tt+1],$,H,K,se));_e.geometry.push(He)}}return ae.transformed=!0,ae}function Os(ae,$,H,K,se,_e){return[Math.round(H*(ae*K-se)),Math.round(H*($*K-_e))]}function Zl(ae,$,H,K,se){let _e=$===se.maxZoom?0:se.tolerance/((1<<$)*se.extent),we={features:[],numPoints:0,numSimplified:0,numFeatures:ae.length,source:null,x:H,y:K,z:$,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Me of ae)wt(we,Me,_e,se);return we}function wt(ae,$,H,K){let se=$.geometry,_e=$.type,we=[];if(ae.minX=Math.min(ae.minX,$.minX),ae.minY=Math.min(ae.minY,$.minY),ae.maxX=Math.max(ae.maxX,$.maxX),ae.maxY=Math.max(ae.maxY,$.maxY),_e==="Point"||_e==="MultiPoint")for(let Me=0;Me<se.length;Me+=3)we.push(se[Me],se[Me+1]),ae.numPoints++,ae.numSimplified++;else if(_e==="LineString")Or(we,se,ae,H,!1,!1);else if(_e==="MultiLineString"||_e==="Polygon")for(let Me=0;Me<se.length;Me++)Or(we,se[Me],ae,H,_e==="Polygon",Me===0);else if(_e==="MultiPolygon")for(let Me=0;Me<se.length;Me++){let ve=se[Me];for(let He=0;He<ve.length;He++)Or(we,ve[He],ae,H,!0,He===0)}if(we.length){let Me=$.tags||null;if(_e==="LineString"&&K.lineMetrics){Me={};for(let He in $.tags)Me[He]=$.tags[He];Me.mapbox_clip_start=se.start/se.size,Me.mapbox_clip_end=se.end/se.size}let ve={geometry:we,type:_e==="Polygon"||_e==="MultiPolygon"?3:_e==="LineString"||_e==="MultiLineString"?2:1,tags:Me};$.id!==null&&(ve.id=$.id),ae.features.push(ve)}}function Or(ae,$,H,K,se,_e){let we=K*K;if(K>0&&$.size<(se?we:K))return void(H.numPoints+=$.length/3);let Me=[];for(let ve=0;ve<$.length;ve+=3)(K===0||$[ve+2]>we)&&(H.numSimplified++,Me.push($[ve],$[ve+1])),H.numPoints++;se&&function(ve,He){let tt=0;for(let Ge=0,ht=ve.length,Wt=ht-2;Ge<ht;Wt=Ge,Ge+=2)tt+=(ve[Ge]-ve[Wt])*(ve[Ge+1]+ve[Wt+1]);if(tt>0===He)for(let Ge=0,ht=ve.length;Ge<ht/2;Ge+=2){let Wt=ve[Ge],lr=ve[Ge+1];ve[Ge]=ve[ht-2-Ge],ve[Ge+1]=ve[ht-1-Ge],ve[ht-2-Ge]=Wt,ve[ht-1-Ge]=lr}}(Me,_e),ae.push(Me)}let hr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Co{constructor($,H){let K=(H=this.options=function(_e,we){for(let Me in we)_e[Me]=we[Me];return _e}(Object.create(hr),H)).debug;if(K&&console.time("preprocess data"),H.maxZoom<0||H.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(H.promoteId&&H.generateId)throw new Error("promoteId and generateId cannot be used together.");let se=function(_e,we){let Me=[];if(_e.type==="FeatureCollection")for(let ve=0;ve<_e.features.length;ve++)_t(Me,_e.features[ve],we,ve);else _t(Me,_e.type==="Feature"?_e:{geometry:_e},we);return Me}($,H);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",H.indexMaxZoom,H.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(_e,we){let Me=we.buffer/we.extent,ve=_e,He=Ht(_e,1,-1-Me,Me,0,-1,2,we),tt=Ht(_e,1,1-Me,2+Me,0,-1,2,we);return(He||tt)&&(ve=Ht(_e,1,-Me,1+Me,0,-1,2,we)||[],He&&(ve=lt(He,1).concat(ve)),tt&&(ve=ve.concat(lt(tt,-1)))),ve}(se,H),se.length&&this.splitTile(se,0,0,0),K&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile($,H,K,se,_e,we,Me){let ve=[$,H,K,se],He=this.options,tt=He.debug;for(;ve.length;){se=ve.pop(),K=ve.pop(),H=ve.pop(),$=ve.pop();let Ge=1<<H,ht=as(H,K,se),Wt=this.tiles[ht];if(!Wt&&(tt>1&&console.time("creation"),Wt=this.tiles[ht]=Zl($,H,K,se,He),this.tileCoords.push({z:H,x:K,y:se}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",H,K,se,Wt.numFeatures,Wt.numPoints,Wt.numSimplified),console.timeEnd("creation"));let uo=`z${H}`;this.stats[uo]=(this.stats[uo]||0)+1,this.total++}if(Wt.source=$,_e==null){if(H===He.indexMaxZoom||Wt.numPoints<=He.indexMaxPoints)continue}else{if(H===He.maxZoom||H===_e)continue;if(_e!=null){let uo=_e-H;if(K!==we>>uo||se!==Me>>uo)continue}}if(Wt.source=null,$.length===0)continue;tt>1&&console.time("clipping");let lr=.5*He.buffer/He.extent,ln=.5-lr,Ar=.5+lr,un=1+lr,Zr=null,Ui=null,Si=null,zr=null,Mn=Ht($,Ge,K-lr,K+Ar,0,Wt.minX,Wt.maxX,He),fi=Ht($,Ge,K+ln,K+un,0,Wt.minX,Wt.maxX,He);$=null,Mn&&(Zr=Ht(Mn,Ge,se-lr,se+Ar,1,Wt.minY,Wt.maxY,He),Ui=Ht(Mn,Ge,se+ln,se+un,1,Wt.minY,Wt.maxY,He),Mn=null),fi&&(Si=Ht(fi,Ge,se-lr,se+Ar,1,Wt.minY,Wt.maxY,He),zr=Ht(fi,Ge,se+ln,se+un,1,Wt.minY,Wt.maxY,He),fi=null),tt>1&&console.timeEnd("clipping"),ve.push(Zr||[],H+1,2*K,2*se),ve.push(Ui||[],H+1,2*K,2*se+1),ve.push(Si||[],H+1,2*K+1,2*se),ve.push(zr||[],H+1,2*K+1,2*se+1)}}getTile($,H,K){$=+$,H=+H,K=+K;let se=this.options,{extent:_e,debug:we}=se;if($<0||$>24)return null;let Me=1<<$,ve=as($,H=H+Me&Me-1,K);if(this.tiles[ve])return Tn(this.tiles[ve],_e);we>1&&console.log("drilling down to z%d-%d-%d",$,H,K);let He,tt=$,Ge=H,ht=K;for(;!He&&tt>0;)tt--,Ge>>=1,ht>>=1,He=this.tiles[as(tt,Ge,ht)];return He&&He.source?(we>1&&(console.log("found parent tile z%d-%d-%d",tt,Ge,ht),console.time("drilling down")),this.splitTile(He.source,tt,Ge,ht,$,H,K),we>1&&console.timeEnd("drilling down"),this.tiles[ve]?Tn(this.tiles[ve],_e):null):null}}function as(ae,$,H){return 32*((1<<ae)*H+$)+ae}function Ie(ae,$){return $?ae.properties[$]:ae.id}function De(ae,$){if(ae==null)return!0;if(ae.type==="Feature")return Ie(ae,$)!=null;if(ae.type==="FeatureCollection"){let H=new Set;for(let K of ae.features){let se=Ie(K,$);if(se==null||H.has(se))return!1;H.add(se)}return!0}return!1}function ct(ae,$){let H=new Map;if(ae!=null)if(ae.type==="Feature")H.set(Ie(ae,$),ae);else for(let K of ae.features)H.set(Ie(K,$),K);return H}class Lt extends m{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile($,H){return i._(this,void 0,void 0,function*(){let K=$.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let se=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!se)return null;let _e=new class{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.X,this.length=Me.length,this._features=Me}feature(Me){return new class{constructor(ve){this._feature=ve,this.extent=i.X,this.type=ve.type,this.properties=ve.tags,"id"in ve&&!isNaN(ve.id)&&(this.id=parseInt(ve.id,10))}loadGeometry(){if(this._feature.type===1){let ve=[];for(let He of this._feature.geometry)ve.push([new i.P(He[0],He[1])]);return ve}{let ve=[];for(let He of this._feature.geometry){let tt=[];for(let Ge of He)tt.push(new i.P(Ge[0],Ge[1]));ve.push(tt)}return ve}}toGeoJSON(ve,He,tt){return L.call(this,ve,He,tt)}}(this._features[Me])}}(se.features),we=Ye(_e);return we.byteOffset===0&&we.byteLength===we.buffer.byteLength||(we=new Uint8Array(we)),{vectorTile:_e,rawData:we.buffer}})}loadData($){return i._(this,void 0,void 0,function*(){var H;(H=this._pendingRequest)===null||H===void 0||H.abort();let K=!!($&&$.request&&$.request.collectResourceTiming)&&new i.bv($.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON($,this._pendingRequest),this._geoJSONIndex=$.cluster?new Be(function({superclusterOptions:we,clusterProperties:Me}){if(!Me||!we)return we;let ve={},He={},tt={accumulated:null,zoom:0},Ge={properties:null},ht=Object.keys(Me);for(let Wt of ht){let[lr,ln]=Me[Wt],Ar=i.bC(ln),un=i.bC(typeof lr=="string"?[lr,["accumulated"],["get",Wt]]:lr);ve[Wt]=Ar.value,He[Wt]=un.value}return we.map=Wt=>{Ge.properties=Wt;let lr={};for(let ln of ht)lr[ln]=ve[ln].evaluate(tt,Ge);return lr},we.reduce=(Wt,lr)=>{Ge.properties=lr;for(let ln of ht)tt.accumulated=Wt[ln],Wt[ln]=He[ln].evaluate(tt,Ge)},we}($)).load((yield this._pendingData).features):(se=yield this._pendingData,new Co(se,$.geojsonVtOptions)),this.loaded={};let _e={};if(K){let we=K.finish();we&&(_e.resourceTiming={},_e.resourceTiming[$.source]=JSON.parse(JSON.stringify(we)))}return _e}catch(_e){if(delete this._pendingRequest,i.bB(_e))return{abandoned:!0};throw _e}var se})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile($){let H=this.loaded;return H&&H[$.uid]?super.reloadTile($):this.loadTile($)}loadAndProcessGeoJSON($,H){return i._(this,void 0,void 0,function*(){let K=yield this.loadGeoJSON($,H);if(delete this._pendingRequest,typeof K!="object")throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`);if(M(K,!0),$.filter){let se=i.bC($.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(se.result==="error")throw new Error(se.value.map(we=>`${we.key}: ${we.message}`).join(", "));K={type:"FeatureCollection",features:K.features.filter(we=>se.value.evaluate({zoom:0},we))}}return K})}loadGeoJSON($,H){return i._(this,void 0,void 0,function*(){let{promoteId:K}=$;if($.request){let se=yield i.h($.request,H);return this._dataUpdateable=De(se.data,K)?ct(se.data,K):void 0,se.data}if(typeof $.data=="string")try{let se=JSON.parse($.data);return this._dataUpdateable=De(se,K)?ct(se,K):void 0,se}catch(se){throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`)}if(!$.dataDiff)throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${$.source}`);return function(se,_e,we){var Me,ve,He,tt;if(_e.removeAll&&se.clear(),_e.remove)for(let Ge of _e.remove)se.delete(Ge);if(_e.add)for(let Ge of _e.add){let ht=Ie(Ge,we);ht!=null&&se.set(ht,Ge)}if(_e.update)for(let Ge of _e.update){let ht=se.get(Ge.id);if(ht==null)continue;let Wt=!Ge.removeAllProperties&&(((Me=Ge.removeProperties)===null||Me===void 0?void 0:Me.length)>0||((ve=Ge.addOrUpdateProperties)===null||ve===void 0?void 0:ve.length)>0);if((Ge.newGeometry||Ge.removeAllProperties||Wt)&&(ht=Object.assign({},ht),se.set(Ge.id,ht),Wt&&(ht.properties=Object.assign({},ht.properties))),Ge.newGeometry&&(ht.geometry=Ge.newGeometry),Ge.removeAllProperties)ht.properties={};else if(((He=Ge.removeProperties)===null||He===void 0?void 0:He.length)>0)for(let lr of Ge.removeProperties)Object.prototype.hasOwnProperty.call(ht.properties,lr)&&delete ht.properties[lr];if(((tt=Ge.addOrUpdateProperties)===null||tt===void 0?void 0:tt.length)>0)for(let{key:lr,value:ln}of Ge.addOrUpdateProperties)ht.properties[lr]=ln}}(this._dataUpdateable,$.dataDiff,K),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource($){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom($){return this._geoJSONIndex.getClusterExpansionZoom($.clusterId)}getClusterChildren($){return this._geoJSONIndex.getChildren($.clusterId)}getClusterLeaves($){return this._geoJSONIndex.getLeaves($.clusterId,$.limit,$.offset)}}class Dt{constructor($){this.self=$,this.actor=new i.F($),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(H,K)=>{if(this.externalWorkerSourceTypes[H])throw new Error(`Worker source with name "${H}" already registered.`);this.externalWorkerSourceTypes[H]=K},this.self.addProtocol=i.bi,this.self.removeProtocol=i.bj,this.self.registerRTLTextPlugin=H=>{if(i.bD.isParsed())throw new Error("RTL text plugin already registered.");i.bD.setMethods(H)},this.actor.registerMessageHandler("LDT",(H,K)=>this._getDEMWorkerSource(H,K.source).loadTile(K)),this.actor.registerMessageHandler("RDT",(H,K)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource(H,K.source).removeTile(K)})),this.actor.registerMessageHandler("GCEZ",(H,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(H,K.type,K.source).getClusterExpansionZoom(K)})),this.actor.registerMessageHandler("GCC",(H,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(H,K.type,K.source).getClusterChildren(K)})),this.actor.registerMessageHandler("GCL",(H,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(H,K.type,K.source).getClusterLeaves(K)})),this.actor.registerMessageHandler("LD",(H,K)=>this._getWorkerSource(H,K.type,K.source).loadData(K)),this.actor.registerMessageHandler("GD",(H,K)=>this._getWorkerSource(H,K.type,K.source).getData()),this.actor.registerMessageHandler("LT",(H,K)=>this._getWorkerSource(H,K.type,K.source).loadTile(K)),this.actor.registerMessageHandler("RT",(H,K)=>this._getWorkerSource(H,K.type,K.source).reloadTile(K)),this.actor.registerMessageHandler("AT",(H,K)=>this._getWorkerSource(H,K.type,K.source).abortTile(K)),this.actor.registerMessageHandler("RMT",(H,K)=>this._getWorkerSource(H,K.type,K.source).removeTile(K)),this.actor.registerMessageHandler("RS",(H,K)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[H]||!this.workerSources[H][K.type]||!this.workerSources[H][K.type][K.source])return;let se=this.workerSources[H][K.type][K.source];delete this.workerSources[H][K.type][K.source],se.removeSource!==void 0&&se.removeSource(K)})),this.actor.registerMessageHandler("RM",H=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[H],delete this.availableImages[H],delete this.workerSources[H],delete this.demWorkerSources[H]})),this.actor.registerMessageHandler("SR",(H,K)=>i._(this,void 0,void 0,function*(){this.referrer=K})),this.actor.registerMessageHandler("SRPS",(H,K)=>this._syncRTLPluginState(H,K)),this.actor.registerMessageHandler("IS",(H,K)=>i._(this,void 0,void 0,function*(){this.self.importScripts(K)})),this.actor.registerMessageHandler("SI",(H,K)=>this._setImages(H,K)),this.actor.registerMessageHandler("UL",(H,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(H).update(K.layers,K.removedIds)})),this.actor.registerMessageHandler("SL",(H,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(H).replace(K)}))}_setImages($,H){return i._(this,void 0,void 0,function*(){this.availableImages[$]=H;for(let K in this.workerSources[$]){let se=this.workerSources[$][K];for(let _e in se)se[_e].availableImages=H}})}_syncRTLPluginState($,H){return i._(this,void 0,void 0,function*(){if(i.bD.isParsed())return i.bD.getState();if(H.pluginStatus!=="loading")return i.bD.setState(H),H;let K=H.pluginURL;if(this.self.importScripts(K),i.bD.isParsed()){let se={pluginStatus:"loaded",pluginURL:K};return i.bD.setState(se),se}throw i.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${K}`)})}_getAvailableImages($){let H=this.availableImages[$];return H||(H=[]),H}_getLayerIndex($){let H=this.layerIndexes[$];return H||(H=this.layerIndexes[$]=new o),H}_getWorkerSource($,H,K){if(this.workerSources[$]||(this.workerSources[$]={}),this.workerSources[$][H]||(this.workerSources[$][H]={}),!this.workerSources[$][H][K]){let se={sendAsync:(_e,we)=>(_e.targetMapId=$,this.actor.sendAsync(_e,we))};switch(H){case"vector":this.workerSources[$][H][K]=new m(se,this._getLayerIndex($),this._getAvailableImages($));break;case"geojson":this.workerSources[$][H][K]=new Lt(se,this._getLayerIndex($),this._getAvailableImages($));break;default:this.workerSources[$][H][K]=new this.externalWorkerSourceTypes[H](se,this._getLayerIndex($),this._getAvailableImages($));}}return this.workerSources[$][H][K]}_getDEMWorkerSource($,H){return this.demWorkerSources[$]||(this.demWorkerSources[$]={}),this.demWorkerSources[$][H]||(this.demWorkerSources[$][H]=new v),this.demWorkerSources[$][H]}}return i.i(self)&&(self.worker=new Dt(self)),Dt}),r("index",["exports","./shared"],function(i,o){"use strict";var a="4.7.0";let c,d,m={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:b=>new Promise((s,p)=>{let g=requestAnimationFrame(s);b.signal.addEventListener("abort",()=>{cancelAnimationFrame(g),p(o.c())})}),getImageData(b,s=0){return this.getImageCanvasContext(b).getImageData(-s,-s,b.width+2*s,b.height+2*s)},getImageCanvasContext(b){let s=window.document.createElement("canvas"),p=s.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return s.width=b.width,s.height=b.height,p.drawImage(b,0,0,b.width,b.height),p},resolveURL:b=>(c||(c=document.createElement("a")),c.href=b,c.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(d==null&&(d=matchMedia("(prefers-reduced-motion: reduce)")),d.matches)}};class v{static testProp(s){if(!v.docStyle)return s[0];for(let p=0;p<s.length;p++)if(s[p]in v.docStyle)return s[p];return s[0]}static create(s,p,g){let y=window.document.createElement(s);return p!==void 0&&(y.className=p),g&&g.appendChild(y),y}static createNS(s,p){return window.document.createElementNS(s,p)}static disableDrag(){v.docStyle&&v.selectProp&&(v.userSelect=v.docStyle[v.selectProp],v.docStyle[v.selectProp]="none")}static enableDrag(){v.docStyle&&v.selectProp&&(v.docStyle[v.selectProp]=v.userSelect)}static setTransform(s,p){s.style[v.transformProp]=p}static addEventListener(s,p,g,y={}){s.addEventListener(p,g,"passive"in y?y:y.capture)}static removeEventListener(s,p,g,y={}){s.removeEventListener(p,g,"passive"in y?y:y.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",v.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",v.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",v.suppressClickInternal,!0)},0)}static getScale(s){let p=s.getBoundingClientRect();return{x:p.width/s.offsetWidth||1,y:p.height/s.offsetHeight||1,boundingClientRect:p}}static getPoint(s,p,g){let y=p.boundingClientRect;return new o.P((g.clientX-y.left)/p.x-s.clientLeft,(g.clientY-y.top)/p.y-s.clientTop)}static mousePos(s,p){let g=v.getScale(s);return v.getPoint(s,g,p)}static touchPos(s,p){let g=[],y=v.getScale(s);for(let x=0;x<p.length;x++)g.push(v.getPoint(s,y,p[x]));return g}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}}v.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,v.selectProp=v.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),v.transformProp=v.testProp(["transform","WebkitTransform"]);let E={supported:!1,testSupport:function(b){!L&&M&&(R?P(b):I=b)}},I,M,L=!1,R=!1;function P(b){let s=b.createTexture();b.bindTexture(b.TEXTURE_2D,s);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,M),b.isContextLost())return;E.supported=!0}catch(p){}b.deleteTexture(s),L=!0}var q;typeof document!="undefined"&&(M=document.createElement("img"),M.onload=()=>{I&&P(I),I=null,R=!0},M.onerror=()=>{L=!0,I=null},M.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(b){let s,p,g,y;b.resetRequestQueue=()=>{s=[],p=0,g=0,y={}},b.addThrottleControl=N=>{let F=g++;return y[F]=N,F},b.removeThrottleControl=N=>{delete y[N],C()},b.getImage=(N,F,V=!0)=>new Promise((G,X)=>{E.supported&&(N.headers||(N.headers={}),N.headers.accept="image/webp,*/*"),o.e(N,{type:"image"}),s.push({abortController:F,requestParameters:N,supportImageRefresh:V,state:"queued",onError:ie=>{X(ie)},onSuccess:ie=>{G(ie)}}),C()});let x=N=>o._(this,void 0,void 0,function*(){N.state="running";let{requestParameters:F,supportImageRefresh:V,onError:G,onSuccess:X,abortController:ie}=N,le=V===!1&&!o.i(self)&&!o.g(F.url)&&(!F.headers||Object.keys(F.headers).reduce((ye,xe)=>ye&&xe==="accept",!0));p++;let fe=le?D(F,ie):o.m(F,ie);try{let ye=yield fe;delete N.abortController,N.state="completed",ye.data instanceof HTMLImageElement||o.b(ye.data)?X(ye):ye.data&&X({data:yield(ge=ye.data,typeof createImageBitmap=="function"?o.d(ge):o.f(ge)),cacheControl:ye.cacheControl,expires:ye.expires})}catch(ye){delete N.abortController,G(ye)}finally{p--,C()}var ge}),C=()=>{let N=(()=>{for(let F of Object.keys(y))if(y[F]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let F=p;F<N&&s.length>0;F++){let V=s.shift();V.abortController.signal.aborted?F--:x(V)}},D=(N,F)=>new Promise((V,G)=>{let X=new Image,ie=N.url,le=N.credentials;le&&le==="include"?X.crossOrigin="use-credentials":(le&&le==="same-origin"||!o.s(ie))&&(X.crossOrigin="anonymous"),F.signal.addEventListener("abort",()=>{X.src="",G(o.c())}),X.fetchPriority="high",X.onload=()=>{X.onerror=X.onload=null,V({data:X})},X.onerror=()=>{X.onerror=X.onload=null,F.signal.aborted||G(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},X.src=ie})}(q||(q={})),q.resetRequestQueue();class j{constructor(s){this._transformRequestFn=s}transformRequest(s,p){return this._transformRequestFn&&this._transformRequestFn(s,p)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function B(b){var s=new o.A(3);return s[0]=b[0],s[1]=b[1],s[2]=b[2],s}var Z,re=function(b,s,p){return b[0]=s[0]-p[0],b[1]=s[1]-p[1],b[2]=s[2]-p[2],b};Z=new o.A(3),o.A!=Float32Array&&(Z[0]=0,Z[1]=0,Z[2]=0);var Q=function(b){var s=b[0],p=b[1];return s*s+p*p};function oe(b){let s=[];if(typeof b=="string")s.push({id:"default",url:b});else if(b&&b.length>0){let p=[];for(let{id:g,url:y}of b){let x=`${g}${y}`;p.indexOf(x)===-1&&(p.push(x),s.push({id:g,url:y}))}}return s}function me(b,s,p){let g=b.split("?");return g[0]+=`${s}${p}`,g.join("?")}(function(){var b=new o.A(2);o.A!=Float32Array&&(b[0]=0,b[1]=0)})();class pe{constructor(s,p,g,y){this.context=s,this.format=g,this.texture=s.gl.createTexture(),this.update(p,y)}update(s,p,g){let{width:y,height:x}=s,C=!(this.size&&this.size[0]===y&&this.size[1]===x||g),{context:D}=this,{gl:N}=D;if(this.useMipmap=!!(p&&p.useMipmap),N.bindTexture(N.TEXTURE_2D,this.texture),D.pixelStoreUnpackFlipY.set(!1),D.pixelStoreUnpack.set(1),D.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!p||p.premultiply!==!1)),C)this.size=[y,x],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||o.b(s)?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,s):N.texImage2D(N.TEXTURE_2D,0,this.format,y,x,0,this.format,N.UNSIGNED_BYTE,s.data);else{let{x:F,y:V}=g||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||o.b(s)?N.texSubImage2D(N.TEXTURE_2D,0,F,V,N.RGBA,N.UNSIGNED_BYTE,s):N.texSubImage2D(N.TEXTURE_2D,0,F,V,y,x,N.RGBA,N.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&N.generateMipmap(N.TEXTURE_2D)}bind(s,p,g){let{context:y}=this,{gl:x}=y;x.bindTexture(x.TEXTURE_2D,this.texture),g!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(g=x.LINEAR),s!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,s),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,g||s),this.filter=s),p!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,p),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}function Ae(b){let{userImage:s}=b;return!!(s&&s.render&&s.render())&&(b.data.replace(new Uint8Array(s.data.buffer)),!0)}class Fe extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(let{ids:p,promiseResolve:g}of this.requestors)g(this._getImagesForIds(p));this.requestors=[]}}getImage(s){let p=this.images[s];if(p&&!p.data&&p.spriteData){let g=p.spriteData;p.data=new o.R({width:g.width,height:g.height},g.context.getImageData(g.x,g.y,g.width,g.height).data),p.spriteData=null}return p}addImage(s,p){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,p)&&(this.images[s]=p)}_validate(s,p){let g=!0,y=p.data||p.spriteData;return this._validateStretch(p.stretchX,y&&y.width)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "stretchX" value`))),g=!1),this._validateStretch(p.stretchY,y&&y.height)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "stretchY" value`))),g=!1),this._validateContent(p.content,p)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "content" value`))),g=!1),g}_validateStretch(s,p){if(!s)return!0;let g=0;for(let y of s){if(y[0]<g||y[1]<y[0]||p<y[1])return!1;g=y[1]}return!0}_validateContent(s,p){if(!s)return!0;if(s.length!==4)return!1;let g=p.spriteData,y=g&&g.width||p.data.width,x=g&&g.height||p.data.height;return!(s[0]<0||y<s[0]||s[1]<0||x<s[1]||s[2]<0||y<s[2]||s[3]<0||x<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,p,g=!0){let y=this.getImage(s);if(g&&(y.data.width!==p.data.width||y.data.height!==p.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=y.version+1,this.images[s]=p,this.updatedImages[s]=!0}removeImage(s){let p=this.images[s];delete this.images[s],delete this.patterns[s],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise((p,g)=>{let y=!0;if(!this.isLoaded())for(let x of s)this.images[x]||(y=!1);this.isLoaded()||y?p(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:p})})}_getImagesForIds(s){let p={};for(let g of s){let y=this.getImage(g);y||(this.fire(new o.k("styleimagemissing",{id:g})),y=this.getImage(g)),y?p[g]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,textFitWidth:y.textFitWidth,textFitHeight:y.textFitHeight,hasRenderCallback:!!(y.userImage&&y.userImage.render)}:o.w(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){let{width:s,height:p}=this.atlasImage;return{width:s,height:p}}getPattern(s){let p=this.patterns[s],g=this.getImage(s);if(!g)return null;if(p&&p.position.version===g.version)return p.position;if(p)p.position.version=g.version;else{let y={w:g.data.width+2,h:g.data.height+2,x:0,y:0},x=new o.I(y,g);this.patterns[s]={bin:y,position:x}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){let p=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new pe(s,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){let s=[];for(let x in this.patterns)s.push(this.patterns[x].bin);let{w:p,h:g}=o.p(s),y=this.atlasImage;y.resize({width:p||1,height:g||1});for(let x in this.patterns){let{bin:C}=this.patterns[x],D=C.x+1,N=C.y+1,F=this.getImage(x).data,V=F.width,G=F.height;o.R.copy(F,y,{x:0,y:0},{x:D,y:N},{width:V,height:G}),o.R.copy(F,y,{x:0,y:G-1},{x:D,y:N-1},{width:V,height:1}),o.R.copy(F,y,{x:0,y:0},{x:D,y:N+G},{width:V,height:1}),o.R.copy(F,y,{x:V-1,y:0},{x:D-1,y:N},{width:1,height:G}),o.R.copy(F,y,{x:0,y:0},{x:D+V,y:N},{width:1,height:G})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(let p of s){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;let g=this.getImage(p);g||o.w(`Image with ID: "${p}" was not found`),Ae(g)&&this.updateImage(p,g)}}}let $e=1e20;function Ue(b,s,p,g,y,x,C,D,N){for(let F=s;F<s+g;F++)Xe(b,p*x+F,x,y,C,D,N);for(let F=p;F<p+y;F++)Xe(b,F*x+s,1,g,C,D,N)}function Xe(b,s,p,g,y,x,C){x[0]=0,C[0]=-$e,C[1]=$e,y[0]=b[s];for(let D=1,N=0,F=0;D<g;D++){y[D]=b[s+D*p];let V=D*D;do{let G=x[N];F=(y[D]-y[G]+V-G*G)/(D-G)/2}while(F<=C[N]&&--N>-1);N++,x[N]=D,C[N]=F,C[N+1]=$e}for(let D=0,N=0;D<g;D++){for(;C[N+1]<D;)N++;let F=x[N],V=D-F;b[s+D*p]=y[F]+V*V}}class Ye{constructor(s,p){this.requestManager=s,this.localIdeographFontFamily=p,this.entries={}}setURL(s){this.url=s}getGlyphs(s){return o._(this,void 0,void 0,function*(){let p=[];for(let x in s)for(let C of s[x])p.push(this._getAndCacheGlyphsPromise(x,C));let g=yield Promise.all(p),y={};for(let{stack:x,id:C,glyph:D}of g)y[x]||(y[x]={}),y[x][C]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics};return y})}_getAndCacheGlyphsPromise(s,p){return o._(this,void 0,void 0,function*(){let g=this.entries[s];g||(g=this.entries[s]={glyphs:{},requests:{},ranges:{}});let y=g.glyphs[p];if(y!==void 0)return{stack:s,id:p,glyph:y};if(y=this._tinySDF(g,s,p),y)return g.glyphs[p]=y,{stack:s,id:p,glyph:y};let x=Math.floor(p/256);if(256*x>65535)throw new Error("glyphs > 65535 not supported");if(g.ranges[x])return{stack:s,id:p,glyph:y};if(!this.url)throw new Error("glyphsUrl is not set");if(!g.requests[x]){let D=Ye.loadGlyphRange(s,x,this.url,this.requestManager);g.requests[x]=D}let C=yield g.requests[x];for(let D in C)this._doesCharSupportLocalGlyph(+D)||(g.glyphs[+D]=C[+D]);return g.ranges[x]=!0,{stack:s,id:p,glyph:C[p]||null}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(s))}_tinySDF(s,p,g){let y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(g))return;let x=s.tinySDF;if(!x){let D="400";/bold/i.test(p)?D="900":/medium/i.test(p)?D="500":/light/i.test(p)&&(D="200"),x=s.tinySDF=new Ye.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:y,fontWeight:D})}let C=x.draw(String.fromCharCode(g));return{id:g,bitmap:new o.o({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ye.loadGlyphRange=function(b,s,p,g){return o._(this,void 0,void 0,function*(){let y=256*s,x=y+255,C=g.transformRequest(p.replace("{fontstack}",b).replace("{range}",`${y}-${x}`),"Glyphs"),D=yield o.l(C,new AbortController);if(!D||!D.data)throw new Error(`Could not load glyph range. range: ${s}, ${y}-${x}`);let N={};for(let F of o.n(D.data))N[F.id]=F;return N})},Ye.TinySDF=class{constructor({fontSize:b=24,buffer:s=3,radius:p=8,cutoff:g=.25,fontFamily:y="sans-serif",fontWeight:x="normal",fontStyle:C="normal"}={}){this.buffer=s,this.cutoff=g,this.radius=p;let D=this.size=b+4*s,N=this._createCanvas(D),F=this.ctx=N.getContext("2d",{willReadFrequently:!0});F.font=`${C} ${x} ${b}px ${y}`,F.textBaseline="alphabetic",F.textAlign="left",F.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Uint16Array(D)}_createCanvas(b){let s=document.createElement("canvas");return s.width=s.height=b,s}draw(b){let{width:s,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,actualBoundingBoxLeft:y,actualBoundingBoxRight:x}=this.ctx.measureText(b),C=Math.ceil(p),D=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-y))),N=Math.min(this.size-this.buffer,C+Math.ceil(g)),F=D+2*this.buffer,V=N+2*this.buffer,G=Math.max(F*V,0),X=new Uint8ClampedArray(G),ie={data:X,width:F,height:V,glyphWidth:D,glyphHeight:N,glyphTop:C,glyphLeft:0,glyphAdvance:s};if(D===0||N===0)return ie;let{ctx:le,buffer:fe,gridInner:ge,gridOuter:ye}=this;le.clearRect(fe,fe,D,N),le.fillText(b,fe,fe+C);let xe=le.getImageData(fe,fe,D,N);ye.fill($e,0,G),ge.fill(0,0,G);for(let ue=0;ue<N;ue++)for(let Te=0;Te<D;Te++){let Oe=xe.data[4*(ue*D+Te)+3]/255;if(Oe===0)continue;let ze=(ue+fe)*F+Te+fe;if(Oe===1)ye[ze]=0,ge[ze]=$e;else{let rt=.5-Oe;ye[ze]=rt>0?rt*rt:0,ge[ze]=rt<0?rt*rt:0}}Ue(ye,0,0,F,V,F,this.f,this.v,this.z),Ue(ge,fe,fe,D,N,F,this.f,this.v,this.z);for(let ue=0;ue<G;ue++){let Te=Math.sqrt(ye[ue])-Math.sqrt(ge[ue]);X[ue]=Math.round(255-255*(Te/this.radius+this.cutoff))}return ie}};class Re{constructor(){this.specification=o.v.light.position}possiblyEvaluate(s,p){return o.x(s.expression.evaluate(p))}interpolate(s,p,g){return{x:o.y.number(s.x,p.x,g),y:o.y.number(s.y,p.y,g),z:o.y.number(s.z,p.z,g)}}}let ke;class je extends o.E{constructor(s){super(),ke=ke||new o.q({anchor:new o.D(o.v.light.anchor),position:new Re,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ke),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,p={}){if(!this._validate(o.r,s,p))for(let g in s){let y=s[g];g.endsWith("-transition")?this._transitionable.setTransition(g.slice(0,-11),y):this._transitionable.setValue(g,y)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,p,g){return(!g||g.validate!==!1)&&o.t(this,s.call(o.u,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let it=new o.q({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class ot extends o.E{constructor(s){super(),this._transitionable=new o.T(it),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.z(0))}setSky(s,p={}){if(!this._validate(o.B,s,p)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let g in s){let y=s[g];g.endsWith("-transition")?this._transitionable.setTransition(g.slice(0,-11),y):this._transitionable.setValue(g,y)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,p,g={}){return(g==null?void 0:g.validate)!==!1&&o.t(this,s.call(o.u,o.e({value:p,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class at{constructor(s,p){this.width=s,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,p){let g=s.join(",")+String(p);return this.dashEntry[g]||(this.dashEntry[g]=this.addDash(s,p)),this.dashEntry[g]}getDashRanges(s,p,g){let y=[],x=s.length%2==1?-s[s.length-1]*g:0,C=s[0]*g,D=!0;y.push({left:x,right:C,isDash:D,zeroLength:s[0]===0});let N=s[0];for(let F=1;F<s.length;F++){D=!D;let V=s[F];x=N*g,N+=V,C=N*g,y.push({left:x,right:C,isDash:D,zeroLength:V===0})}return y}addRoundDash(s,p,g){let y=p/2;for(let x=-g;x<=g;x++){let C=this.width*(this.nextRow+g+x),D=0,N=s[D];for(let F=0;F<this.width;F++){F/N.right>1&&(N=s[++D]);let V=Math.abs(F-N.left),G=Math.abs(F-N.right),X=Math.min(V,G),ie,le=x/g*(y+1);if(N.isDash){let fe=y-Math.abs(le);ie=Math.sqrt(X*X+fe*fe)}else ie=y-Math.sqrt(X*X+le*le);this.data[C+F]=Math.max(0,Math.min(255,ie+128))}}}addRegularDash(s){for(let D=s.length-1;D>=0;--D){let N=s[D],F=s[D+1];N.zeroLength?s.splice(D,1):F&&F.isDash===N.isDash&&(F.left=N.left,s.splice(D,1))}let p=s[0],g=s[s.length-1];p.isDash===g.isDash&&(p.left=g.left-this.width,g.right=p.right+this.width);let y=this.width*this.nextRow,x=0,C=s[x];for(let D=0;D<this.width;D++){D/C.right>1&&(C=s[++x]);let N=Math.abs(D-C.left),F=Math.abs(D-C.right),V=Math.min(N,F);this.data[y+D]=Math.max(0,Math.min(255,(C.isDash?V:-V)+128))}}addDash(s,p){let g=p?7:0,y=2*g+1;if(this.nextRow+y>this.height)return o.w("LineAtlas out of space"),null;let x=0;for(let D=0;D<s.length;D++)x+=s[D];if(x!==0){let D=this.width/x,N=this.getDashRanges(s,this.width,D);p?this.addRoundDash(N,D,g):this.addRegularDash(N)}let C={y:(this.nextRow+g+.5)/this.height,height:2*g/this.height,width:x};return this.nextRow+=y,this.dirty=!0,C}bind(s){let p=s.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}let Be="maplibre_preloaded_worker_pool";class Ze{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Ze.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Be]}numActive(){return Object.keys(this.active).length}}let nt=Math.floor(m.hardwareConcurrency/2),Ce,de;function Ne(){return Ce||(Ce=new Ze),Ce}Ze.workerCount=o.C(globalThis)?Math.max(Math.min(nt,3),1):1;class Ee{constructor(s,p){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=p;let g=this.workerPool.acquire(p);for(let y=0;y<g.length;y++){let x=new o.F(g[y],p);x.name=`Worker ${y}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,p){let g=[];for(let y of this.actors)g.push(y.sendAsync({type:s,data:p}));return Promise.all(g)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,p){for(let g of this.actors)g.registerMessageHandler(s,p)}}function Qe(){return de||(de=new Ee(Ne(),o.G),de.registerMessageHandler("GR",(b,s,p)=>o.m(s,p))),de}function Ke(b,s){let p=o.H();return o.J(p,p,[1,1,0]),o.K(p,p,[.5*b.width,.5*b.height,1]),o.L(p,p,b.calculatePosMatrix(s.toUnwrapped()))}function yt(b,s,p,g,y,x){let C=function(G,X,ie){if(G)for(let le of G){let fe=X[le];if(fe&&fe.source===ie&&fe.type==="fill-extrusion")return!0}else for(let le in X){let fe=X[le];if(fe.source===ie&&fe.type==="fill-extrusion")return!0}return!1}(y&&y.layers,s,b.id),D=x.maxPitchScaleFactor(),N=b.tilesIn(g,D,C);N.sort(_t);let F=[];for(let G of N)F.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(s,p,b._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,y,x,D,Ke(b.transform,G.tileID))});let V=function(G){let X={},ie={};for(let le of G){let fe=le.queryResults,ge=le.wrappedTileID,ye=ie[ge]=ie[ge]||{};for(let xe in fe){let ue=fe[xe],Te=ye[xe]=ye[xe]||{},Oe=X[xe]=X[xe]||[];for(let ze of ue)Te[ze.featureIndex]||(Te[ze.featureIndex]=!0,Oe.push(ze))}}return X}(F);for(let G in V)V[G].forEach(X=>{let ie=X.feature,le=b.getFeatureState(ie.layer["source-layer"],ie.id);ie.source=ie.layer.source,ie.layer["source-layer"]&&(ie.sourceLayer=ie.layer["source-layer"]),ie.state=le});return V}function _t(b,s){let p=b.tileID,g=s.tileID;return p.overscaledZ-g.overscaledZ||p.canonical.y-g.canonical.y||p.wrap-g.wrap||p.canonical.x-g.canonical.x}function gt(b,s,p){return o._(this,void 0,void 0,function*(){let g=b;if(b.url?g=(yield o.h(s.transformRequest(b.url,"Source"),p)).data:yield m.frameAsync(p),!g)return null;let y=o.M(o.e(g,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in g&&g.vector_layers&&(y.vectorLayerIds=g.vector_layers.map(x=>x.id)),y})}class Se{constructor(s,p){s&&(p?this.setSouthWest(s).setNorthEast(p):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof o.N?new o.N(s.lng,s.lat):o.N.convert(s),this}setSouthWest(s){return this._sw=s instanceof o.N?new o.N(s.lng,s.lat):o.N.convert(s),this}extend(s){let p=this._sw,g=this._ne,y,x;if(s instanceof o.N)y=s,x=s;else{if(!(s instanceof Se))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(Se.convert(s)):this.extend(o.N.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(o.N.convert(s)):this;if(y=s._sw,x=s._ne,!y||!x)return this}return p||g?(p.lng=Math.min(y.lng,p.lng),p.lat=Math.min(y.lat,p.lat),g.lng=Math.max(x.lng,g.lng),g.lat=Math.max(x.lat,g.lat)):(this._sw=new o.N(y.lng,y.lat),this._ne=new o.N(x.lng,x.lat)),this}getCenter(){return new o.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.N(this.getWest(),this.getNorth())}getSouthEast(){return new o.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){let{lng:p,lat:g}=o.N.convert(s),y=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&y}static convert(s){return s instanceof Se?s:s&&new Se(s)}static fromLngLat(s,p=0){let g=360*p/40075017,y=g/Math.cos(Math.PI/180*s.lat);return new Se(new o.N(s.lng-y,s.lat-g),new o.N(s.lng+y,s.lat+g))}adjustAntiMeridian(){let s=new o.N(this._sw.lng,this._sw.lat),p=new o.N(this._ne.lng,this._ne.lat);return new Se(s,s.lng>p.lng?new o.N(p.lng+360,p.lat):p)}}class ft{constructor(s,p,g){this.bounds=Se.convert(this.validateBounds(s)),this.minzoom=p||0,this.maxzoom=g||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){let p=Math.pow(2,s.z),g=Math.floor(o.O(this.bounds.getWest())*p),y=Math.floor(o.Q(this.bounds.getNorth())*p),x=Math.ceil(o.O(this.bounds.getEast())*p),C=Math.ceil(o.Q(this.bounds.getSouth())*p);return s.x>=g&&s.x<x&&s.y>=y&&s.y<C}}class zt extends o.E{constructor(s,p,g,y){if(super(),this.id=s,this.dispatcher=g,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.M(p,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let s=yield gt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),s&&(o.e(this,s),s.bounds&&(this.tileBounds=new ft(s.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new o.j(s))}})}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(s){return o._(this,void 0,void 0,function*(){let p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(p,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};g.request.collectResourceTiming=this._collectResourceTiming;let y="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise((x,C)=>{s.reloadPromise={resolve:x,reject:C}})}else s.actor=this.dispatcher.getActor(),y="LT";s.abortController=new AbortController;try{let x=yield s.actor.sendAsync({type:y,data:g},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,x)}catch(x){if(delete s.abortController,s.aborted)return;if(x&&x.status!==404)throw x;this._afterTileLoadWorkerResponse(s,null)}})}_afterTileLoadWorkerResponse(s,p){if(p&&p.resourceTiming&&(s.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&s.setExpiryData(p),s.loadVectorData(p,this.map.painter),s.reloadPromise){let g=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(g.resolve).catch(g.reject)}}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class pt extends o.E{constructor(s,p,g,y){super(),this.id=s,this.dispatcher=g,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},p),o.e(this,o.M(p,["url","scheme","tileSize"]))}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let s=yield gt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,s&&(o.e(this,s),s.bounds&&(this.tileBounds=new ft(s.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new o.j(s))}})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}serialize(){return o.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return o._(this,void 0,void 0,function*(){let p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{let g=yield q.getImage(this.map._requestManager.transformRequest(p,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(g&&g.data){this.map._refreshExpiredTiles&&g.cacheControl&&g.expires&&s.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});let y=this.map.painter.context,x=y.gl,C=g.data;s.texture=this.map.painter.getTileTexture(C.width),s.texture?s.texture.update(C,{useMipmap:!0}):(s.texture=new pe(y,C,x.RGBA,{useMipmap:!0}),s.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(g){if(delete s.abortController,s.aborted)s.state="unloaded";else if(g)throw s.state="errored",g}})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)})}hasTransition(){return!1}}class Ht extends pt{constructor(s,p,g,y){super(s,p,g,y),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(s){return o._(this,void 0,void 0,function*(){let p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g=this.map._requestManager.transformRequest(p,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{let y=yield q.getImage(g,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(y&&y.data){let x=y.data;this.map._refreshExpiredTiles&&y.cacheControl&&y.expires&&s.setExpiryData({cacheControl:y.cacheControl,expires:y.expires});let C=o.b(x)&&o.U()?x:yield this.readImageNow(x),D={type:this.type,uid:s.uid,source:this.id,rawImageData:C,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();let N=yield s.actor.sendAsync({type:"LDT",data:D});s.dem=N,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(y){if(delete s.abortController,s.aborted)s.state="unloaded";else if(y)throw s.state="errored",y}})}readImageNow(s){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.V()){let p=s.width+2,g=s.height+2;try{return new o.R({width:p,height:g},(yield o.W(s,-1,-1,p,g)))}catch(y){}}return m.getImageData(s,1)})}_getNeighboringTiles(s){let p=s.canonical,g=Math.pow(2,p.z),y=(p.x-1+g)%g,x=p.x===0?s.wrap-1:s.wrap,C=(p.x+1+g)%g,D=p.x+1===g?s.wrap+1:s.wrap,N={};return N[new o.S(s.overscaledZ,x,p.z,y,p.y).key]={backfilled:!1},N[new o.S(s.overscaledZ,D,p.z,C,p.y).key]={backfilled:!1},p.y>0&&(N[new o.S(s.overscaledZ,x,p.z,y,p.y-1).key]={backfilled:!1},N[new o.S(s.overscaledZ,s.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},N[new o.S(s.overscaledZ,D,p.z,C,p.y-1).key]={backfilled:!1}),p.y+1<g&&(N[new o.S(s.overscaledZ,x,p.z,y,p.y+1).key]={backfilled:!1},N[new o.S(s.overscaledZ,s.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},N[new o.S(s.overscaledZ,D,p.z,C,p.y+1).key]={backfilled:!1}),N}unloadTile(s){return o._(this,void 0,void 0,function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))})}}class ar extends o.E{constructor(s,p,g,y){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=g.getActor(),this.setEventedParent(y),this._data=p.data,this._options=o.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;let x=o.X/this.tileSize;p.clusterMaxZoom!==void 0&&this.maxzoom<=p.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${p.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*x,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*x,extent:o.X,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:o.X,radius:(p.clusterRadius||50)*x,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}getData(){return o._(this,void 0,void 0,function*(){let s=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})})}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=s.clusterRadius),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=s.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,p,g){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:p,offset:g}})}_updateWorkerData(s){return o._(this,void 0,void 0,function*(){let p=o.e({type:this.type},this.workerOptions);s?p.dataDiff=s:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(m.resolveURL(this._data),"Source"),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"}));try{let g=yield this.actor.sendAsync({type:"LD",data:p});if(this._pendingLoads--,this._removed||g.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let y=null;g.resourceTiming&&g.resourceTiming[this.id]&&(y=g.resourceTiming[this.id].slice(0));let x={dataType:"source"};this._collectResourceTiming&&y&&y.length>0&&o.e(x,{resourceTiming:y}),this.fire(new o.k("data",Object.assign(Object.assign({},x),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},x),{sourceDataType:"content"})))}catch(g){if(this._pendingLoads--,this._removed)return void this.fire(new o.k("dataabort",{dataType:"source"}));this.fire(new o.j(g))}})}loaded(){return this._pendingLoads===0}loadTile(s){return o._(this,void 0,void 0,function*(){let p=s.actor?"RT":"LT";s.actor=this.actor;let g={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.abortController=new AbortController;let y=yield this.actor.sendAsync({type:p,data:g},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(y,this.map.painter,p==="RT")})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Ft=o.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class cr extends o.E{constructor(s,p,g,y){super(),this.id=s,this.dispatcher=g,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=p}load(s){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let p=yield q.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,s&&(this.coordinates=s),this._finishLoading())}catch(p){this._request=null,this._loaded=!0,this.fire(new o.j(p))}})}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;let p=s.map(o.Z.fromLngLat);this.tileID=function(y){let x=1/0,C=1/0,D=-1/0,N=-1/0;for(let X of y)x=Math.min(x,X.x),C=Math.min(C,X.y),D=Math.max(D,X.x),N=Math.max(N,X.y);let F=Math.max(D-x,N-C),V=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),G=Math.pow(2,V);return new o.a1(V,Math.floor((x+D)/2*G),Math.floor((C+N)/2*G))}(p),this.minzoom=this.maxzoom=this.tileID.z;let g=p.map(y=>this.tileID.getTilePoint(y)._round());return this._boundsArray=new o.$,this._boundsArray.emplaceBack(g[0].x,g[0].y,0,0),this._boundsArray.emplaceBack(g[1].x,g[1].y,o.X,0),this._boundsArray.emplaceBack(g[3].x,g[3].y,0,o.X),this._boundsArray.emplaceBack(g[2].x,g[2].y,o.X,o.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let s=this.map.painter.context,p=s.gl;this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,Ft.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new pe(s,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let g=!1;for(let y in this.tiles){let x=this.tiles[y];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,g=!0)}g&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Br extends cr{constructor(s,p,g,y){super(s,p,g,y),this.roundZoom=!0,this.type="video",this.options=p}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let s=this.options;this.urls=[];for(let p of s.urls)this.urls.push(this.map._requestManager.transformRequest(p,"Source").url);try{let p=yield o.a3(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new o.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){let p=this.video.seekable;s<p.start(0)||s>p.end(0)?this.fire(new o.j(new o.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let s=this.map.painter.context,p=s.gl;this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,Ft.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new pe(s,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let g=!1;for(let y in this.tiles){let x=this.tiles[y];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,g=!0)}g&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ur extends cr{constructor(s,p,g,y){super(s,p,g,y),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(C=>typeof C!="number"))||this.fire(new o.j(new o.a2(`sources.${s}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.j(new o.a2(`sources.${s}`,null,"missing required property \"coordinates\""))),p.animate&&typeof p.animate!="boolean"&&this.fire(new o.j(new o.a2(`sources.${s}`,null,"optional \"animate\" property must be a boolean value"))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.a2(`sources.${s}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.j(new o.a2(`sources.${s}`,null,"missing required property \"canvas\""))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let p=this.map.painter.context,g=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Ft.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new pe(p,this.canvas,g.RGBA,{premultiply:!0});let y=!1;for(let x in this.tiles){let C=this.tiles[x];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,y=!0)}y&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}let sr={},nn=b=>{switch(b){case"geojson":return ar;case"image":return cr;case"raster":return pt;case"raster-dem":return Ht;case"vector":return zt;case"video":return Br;case"canvas":return Ur;}return sr[b]},lt="RTLPluginLoaded";class wi extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Qe()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return o._(this,arguments,void 0,function*(p,g=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=m.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!g)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.k(lt))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Tn=null;function Os(){return Tn||(Tn=new wi),Tn}class Zl{constructor(s,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=o.a4(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){let p=s+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,p,g){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(y,x){let C={};if(!x)return C;for(let D of y){let N=D.layerIds.map(F=>x.getLayer(F)).filter(Boolean);if(N.length!==0){D.layers=N,D.stateDependentLayerIds&&(D.stateDependentLayers=D.stateDependentLayerIds.map(F=>N.filter(V=>V.id===F)[0]));for(let F of N)C[F.id]=D}}return C}(s.buckets,p.style),this.hasSymbolBuckets=!1;for(let y in this.buckets){let x=this.buckets[y];if(x instanceof o.a6){if(this.hasSymbolBuckets=!0,!g)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let y in this.buckets){let x=this.buckets[y];if(x instanceof o.a6&&x.hasRTLText){this.hasRTLText=!0,Os().lazyLoad();break}}this.queryPadding=0;for(let y in this.buckets){let x=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(y).queryRadius(x))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(let g in this.buckets){let y=this.buckets[g];y.uploadPending()&&y.upload(s)}let p=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new pe(s,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new pe(s,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,p,g,y,x,C,D,N,F,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:x,scale:C,tileSize:this.tileSize,pixelPosMatrix:V,transform:N,params:D,queryPadding:this.queryPadding*F},s,p,g):{}}querySourceFeatures(s,p){let g=this.latestFeatureIndex;if(!g||!g.rawTileData)return;let y=g.loadVTLayers(),x=p&&p.sourceLayer?p.sourceLayer:"",C=y._geojsonTileLayer||y[x];if(!C)return;let D=o.a7(p&&p.filter),{z:N,x:F,y:V}=this.tileID.canonical,G={z:N,x:F,y:V};for(let X=0;X<C.length;X++){let ie=C.feature(X);if(D.needGeometry){let ge=o.a8(ie,!0);if(!D.filter(new o.z(this.tileID.overscaledZ),ge,this.tileID.canonical))continue}else if(!D.filter(new o.z(this.tileID.overscaledZ),ie))continue;let le=g.getId(ie,x),fe=new o.a9(ie,N,F,V,le);fe.tile=G,s.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){let p=this.expirationTime;if(s.cacheControl){let g=o.aa(s.cacheControl);g["max-age"]&&(this.expirationTime=Date.now()+1e3*g["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){let g=Date.now(),y=!1;if(this.expirationTime>g)y=!1;else if(p){if(this.expirationTime<p)y=!0;else{let x=this.expirationTime-p;x?this.expirationTime=g+Math.max(x,3e4):y=!0}}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;let g=this.latestFeatureIndex.loadVTLayers();for(let y in this.buckets){if(!p.style.hasLayer(y))continue;let x=this.buckets[y],C=x.layers[0].sourceLayer||"_geojsonTileLayer",D=g[C],N=s[C];if(!D||!N||Object.keys(N).length===0)continue;x.update(N,D,this.imageAtlas&&this.imageAtlas.patternPositions||{});let F=p&&p.style&&p.style.getLayer(y);F&&(this.queryPadding=Math.max(this.queryPadding,F.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<m.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=m.now()+s}setDependencies(s,p){let g={};for(let y of p)g[y]=!0;this.dependencies[s]=g}hasDependency(s,p){for(let g of s){let y=this.dependencies[g];if(y){for(let x of p)if(y[x])return!0}}return!1}}class wt{constructor(s,p){this.max=s,this.onRemove=p,this.reset()}reset(){for(let s in this.data)for(let p of this.data[s])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(s,p,g){let y=s.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);let x={value:p,timeout:void 0};if(g!==void 0&&(x.timeout=setTimeout(()=>{this.remove(s,x)},g)),this.data[y].push(x),this.order.push(y),this.order.length>this.max){let C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){let p=this.data[s].shift();return p.timeout&&clearTimeout(p.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),p.value}getByKey(s){let p=this.data[s];return p?p[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,p){if(!this.has(s))return this;let g=s.wrapped().key,y=p===void 0?0:this.data[g].indexOf(p),x=this.data[g][y];return this.data[g].splice(y,1),x.timeout&&clearTimeout(x.timeout),this.data[g].length===0&&delete this.data[g],this.onRemove(x.value),this.order.splice(this.order.indexOf(g),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){let p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(s){let p=[];for(let g in this.data)for(let y of this.data[g])s(y.value)||p.push(y);for(let g of p)this.remove(g.value.tileID,g)}}class Or{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,p,g){let y=String(p);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][y]=this.stateChanges[s][y]||{},o.e(this.stateChanges[s][y],g),this.deletedStates[s]===null){this.deletedStates[s]={};for(let x in this.state[s])x!==y&&(this.deletedStates[s][x]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][y]===null){this.deletedStates[s][y]={};for(let x in this.state[s][y])g[x]||(this.deletedStates[s][y][x]=null)}else for(let x in g)this.deletedStates[s]&&this.deletedStates[s][y]&&this.deletedStates[s][y][x]===null&&delete this.deletedStates[s][y][x]}removeFeatureState(s,p,g){if(this.deletedStates[s]===null)return;let y=String(p);if(this.deletedStates[s]=this.deletedStates[s]||{},g&&p!==void 0)this.deletedStates[s][y]!==null&&(this.deletedStates[s][y]=this.deletedStates[s][y]||{},this.deletedStates[s][y][g]=null);else if(p!==void 0){if(this.stateChanges[s]&&this.stateChanges[s][y])for(g in this.deletedStates[s][y]={},this.stateChanges[s][y])this.deletedStates[s][y][g]=null;else this.deletedStates[s][y]=null;}else this.deletedStates[s]=null}getState(s,p){let g=String(p),y=o.e({},(this.state[s]||{})[g],(this.stateChanges[s]||{})[g]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){let x=this.deletedStates[s][p];if(x===null)return{};for(let C in x)delete y[C]}return y}initializeTileState(s,p){s.setFeatureState(this.state,p)}coalesceChanges(s,p){let g={};for(let y in this.stateChanges){this.state[y]=this.state[y]||{};let x={};for(let C in this.stateChanges[y])this.state[y][C]||(this.state[y][C]={}),o.e(this.state[y][C],this.stateChanges[y][C]),x[C]=this.state[y][C];g[y]=x}for(let y in this.deletedStates){this.state[y]=this.state[y]||{};let x={};if(this.deletedStates[y]===null)for(let C in this.state[y])x[C]={},this.state[y][C]={};else for(let C in this.deletedStates[y]){if(this.deletedStates[y][C]===null)this.state[y][C]={};else for(let D of Object.keys(this.deletedStates[y][C]))delete this.state[y][C][D];x[C]=this.state[y][C]}g[y]=g[y]||{},o.e(g[y],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(g).length!==0)for(let y in s)s[y].setFeatureState(g,p)}}class hr extends o.E{constructor(s,p,g){super(),this.id=s,this.dispatcher=g,this.on("data",y=>this._dataHandler(y)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,x,C,D)=>{let N=new(nn(x.type))(y,x,C,D);if(N.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${N.id}`);return N})(s,p,g,this),this._tiles={},this._cache=new wt(0,y=>this._unloadTile(y)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Or,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let s in this._tiles){let p=this._tiles[s];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,p,g){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,p,g)}catch(y){s.state="errored",y.status!==404?this._source.fire(new o.j(y,{tile:s})):this.update(this.transform,this.terrain)}})}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new o.k("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let p in this._tiles){let g=this._tiles[p];g.upload(s),g.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(Co).map(s=>s.key)}getRenderableIds(s){let p=[];for(let g in this._tiles)this._isIdRenderable(g,s)&&p.push(this._tiles[g]);return s?p.sort((g,y)=>{let x=g.tileID,C=y.tileID,D=new o.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),N=new o.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-C.overscaledZ||N.y-D.y||N.x-D.x}).map(g=>g.tileID.key):p.map(g=>g.tileID).sort(Co).map(g=>g.key)}hasRenderableParent(s){let p=this.findLoadedParent(s,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(s,p){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(p||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let s in this._tiles)this._tiles[s].state!=="errored"&&this._reloadTile(s,"reloading")}}_reloadTile(s,p){return o._(this,void 0,void 0,function*(){let g=this._tiles[s];g&&(g.state!=="loading"&&(g.state=p),yield this._loadTile(g,s,p))})}_tileLoaded(s,p,g){s.timeAdded=m.now(),g==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(p,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){let p=this.getRenderableIds();for(let y=0;y<p.length;y++){let x=p[y];if(s.neighboringTiles&&s.neighboringTiles[x]){let C=this.getTileByID(x);g(s,C),g(C,s)}}function g(y,x){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let C=x.tileID.canonical.x-y.tileID.canonical.x,D=x.tileID.canonical.y-y.tileID.canonical.y,N=Math.pow(2,y.tileID.canonical.z),F=x.tileID.key;C===0&&D===0||Math.abs(D)>1||(Math.abs(C)>1&&(Math.abs(C+N)===1?C+=N:Math.abs(C-N)===1&&(C-=N)),x.dem&&y.dem&&(y.dem.backfillBorder(x.dem,C,D),y.neighboringTiles&&y.neighboringTiles[F]&&(y.neighboringTiles[F].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,p,g,y){for(let x in this._tiles){let C=this._tiles[x];if(y[x]||!C.hasData()||C.tileID.overscaledZ<=p||C.tileID.overscaledZ>g)continue;let D=C.tileID;for(;C&&C.tileID.overscaledZ>p+1;){let F=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[F.key],C&&C.hasData()&&(D=F)}let N=D;for(;N.overscaledZ>p;)if(N=N.scaledTo(N.overscaledZ-1),s[N.key]){y[D.key]=D;break}}}findLoadedParent(s,p){if(s.key in this._loadedParentTiles){let g=this._loadedParentTiles[s.key];return g&&g.tileID.overscaledZ>=p?g:null}for(let g=s.overscaledZ-1;g>=p;g--){let y=s.scaledTo(g),x=this._getLoadedTile(y);if(x)return x}}findLoadedSibling(s){return this._getLoadedTile(s)}_getLoadedTile(s){let p=this._tiles[s.key];return p&&p.hasData()?p:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){let p=Math.ceil(s.width/this._source.tileSize)+1,g=Math.ceil(s.height/this._source.tileSize)+1,y=Math.floor(p*g*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(x)}handleWrapJump(s){let p=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,p){let g={};for(let y in this._tiles){let x=this._tiles[y];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+p),g[x.tileID.key]=x}this._tiles=g;for(let y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(let y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}_updateCoveredAndRetainedTiles(s,p,g,y,x,C){let D={},N={},F=Object.keys(s),V=m.now();for(let G of F){let X=s[G],ie=this._tiles[G];if(!ie||ie.fadeEndTime!==0&&ie.fadeEndTime<=V)continue;let le=this.findLoadedParent(X,p),fe=this.findLoadedSibling(X),ge=le||fe||null;ge&&(this._addTile(ge.tileID),D[ge.tileID.key]=ge.tileID),N[G]=X}this._retainLoadedChildren(N,y,g,s);for(let G in D)s[G]||(this._coveredTiles[G]=!0,s[G]=D[G]);if(C){let G={},X={};for(let ie of x)this._tiles[ie.key].hasData()?G[ie.key]=ie:X[ie.key]=ie;for(let ie in X){let le=X[ie].children(this._source.maxzoom);this._tiles[le[0].key]&&this._tiles[le[1].key]&&this._tiles[le[2].key]&&this._tiles[le[3].key]&&(G[le[0].key]=s[le[0].key]=le[0],G[le[1].key]=s[le[1].key]=le[1],G[le[2].key]=s[le[2].key]=le[2],G[le[3].key]=s[le[3].key]=le[3],delete X[ie])}for(let ie in X){let le=X[ie],fe=this.findLoadedParent(le,this._source.minzoom),ge=this.findLoadedSibling(le),ye=fe||ge||null;if(ye){G[ye.tileID.key]=s[ye.tileID.key]=ye.tileID;for(let xe in G)G[xe].isChildOf(ye.tileID)&&delete G[xe]}}for(let ie in this._tiles)G[ie]||(this._coveredTiles[ie]=!0)}}update(s,p){if(!this._sourceLoaded||this._paused)return;let g;this.transform=s,this.terrain=p,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?g=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.S(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(g=s.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(g=g.filter(V=>this._source.hasTile(V)))):g=[];let y=s.coveringZoomLevel(this._source),x=Math.max(y-hr.maxOverzooming,this._source.minzoom),C=Math.max(y+hr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let G of g)if(G.canonical.z>this._source.minzoom){let X=G.scaledTo(G.canonical.z-1);V[X.key]=X;let ie=G.scaledTo(Math.max(this._source.minzoom,Math.min(G.canonical.z,5)));V[ie.key]=ie}g=g.concat(Object.values(V))}let D=g.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,D&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let N=this._updateRetainedTiles(g,y);as(this._source.type)&&this._updateCoveredAndRetainedTiles(N,x,C,y,g,p);for(let V in N)this._tiles[V].clearFadeHold();let F=o.ab(this._tiles,N);for(let V of F){let G=this._tiles[V];G.hasSymbolBuckets&&!G.holdingForFade()?G.setHoldDuration(this.map._fadeDuration):G.hasSymbolBuckets&&!G.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,p){var g;let y={},x={},C=Math.max(p-hr.maxOverzooming,this._source.minzoom),D=Math.max(p+hr.maxUnderzooming,this._source.minzoom),N={};for(let F of s){let V=this._addTile(F);y[F.key]=F,V.hasData()||p<this._source.maxzoom&&(N[F.key]=F)}this._retainLoadedChildren(N,p,D,y);for(let F of s){let V=this._tiles[F.key];if(V.hasData())continue;if(p+1>this._source.maxzoom){let X=F.children(this._source.maxzoom)[0],ie=this.getTile(X);if(ie&&ie.hasData()){y[X.key]=X;continue}}else{let X=F.children(this._source.maxzoom);if(y[X[0].key]&&y[X[1].key]&&y[X[2].key]&&y[X[3].key])continue}let G=V.wasRequested();for(let X=F.overscaledZ-1;X>=C;--X){let ie=F.scaledTo(X);if(x[ie.key])break;if(x[ie.key]=!0,V=this.getTile(ie),!V&&G&&(V=this._addTile(ie)),V){let le=V.hasData();if((le||!(!((g=this.map)===null||g===void 0)&&g.cancelPendingTileRequestsWhileZooming)||G)&&(y[ie.key]=ie),G=V.wasRequested(),le)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let s in this._tiles){let p=[],g,y=this._tiles[s].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){g=this._loadedParentTiles[y.key];break}p.push(y.key);let x=y.scaledTo(y.overscaledZ-1);if(g=this._getLoadedTile(x),g)break;y=x}for(let x of p)this._loadedParentTiles[x]=g}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let s in this._tiles){let p=this._tiles[s].tileID,g=this._getLoadedTile(p);this._loadedSiblingTiles[p.key]=g}}_addTile(s){let p=this._tiles[s.key];if(p)return p;p=this._cache.getAndRemove(s),p&&(this._setTileReloadTimer(s.key,p),p.tileID=s,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,p)));let g=p;return p||(p=new Zl(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(p,s.key,p.state)),p.uses++,this._tiles[s.key]=p,g||this._source.fire(new o.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(s,p){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);let g=p.getExpiryTimeout();g&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},g))}_removeTile(s){let p=this._tiles[s];p&&(p.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}_dataHandler(s){let p=s.sourceDataType;s.dataType==="source"&&p==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&p==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,p,g){let y=[],x=this.transform;if(!x)return y;let C=g?x.getCameraQueryGeometry(s):s,D=s.map(le=>x.pointCoordinate(le,this.terrain)),N=C.map(le=>x.pointCoordinate(le,this.terrain)),F=this.getIds(),V=1/0,G=1/0,X=-1/0,ie=-1/0;for(let le of N)V=Math.min(V,le.x),G=Math.min(G,le.y),X=Math.max(X,le.x),ie=Math.max(ie,le.y);for(let le=0;le<F.length;le++){let fe=this._tiles[F[le]];if(fe.holdingForFade())continue;let ge=fe.tileID,ye=Math.pow(2,x.zoom-fe.tileID.overscaledZ),xe=p*fe.queryPadding*o.X/fe.tileSize/ye,ue=[ge.getTilePoint(new o.Z(V,G)),ge.getTilePoint(new o.Z(X,ie))];if(ue[0].x-xe<o.X&&ue[0].y-xe<o.X&&ue[1].x+xe>=0&&ue[1].y+xe>=0){let Te=D.map(ze=>ge.getTilePoint(ze)),Oe=N.map(ze=>ge.getTilePoint(ze));y.push({tile:fe,tileID:ge,queryGeometry:Te,cameraQueryGeometry:Oe,scale:ye})}}return y}getVisibleCoordinates(s){let p=this.getRenderableIds(s).map(g=>this._tiles[g].tileID);for(let g of p)g.posMatrix=this.transform.calculatePosMatrix(g.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(as(this._source.type)){let s=m.now();for(let p in this._tiles)if(this._tiles[p].fadeEndTime>=s)return!0}return!1}setFeatureState(s,p,g){this._state.updateState(s=s||"_geojsonTileLayer",p,g)}removeFeatureState(s,p,g){this._state.removeFeatureState(s=s||"_geojsonTileLayer",p,g)}getFeatureState(s,p){return this._state.getState(s=s||"_geojsonTileLayer",p)}setDependencies(s,p,g){let y=this._tiles[s];y&&y.setDependencies(p,g)}reloadTilesForDependencies(s,p){for(let g in this._tiles)this._tiles[g].hasDependency(s,p)&&this._reloadTile(g,"reloading");this._cache.filter(g=>!g.hasDependency(s,p))}}function Co(b,s){let p=Math.abs(2*b.wrap)-+(b.wrap<0),g=Math.abs(2*s.wrap)-+(s.wrap<0);return b.overscaledZ-s.overscaledZ||g-p||s.canonical.y-b.canonical.y||s.canonical.x-b.canonical.x}function as(b){return b==="raster"||b==="image"||b==="video"}hr.maxOverzooming=10,hr.maxUnderzooming=3;class Ie{constructor(s,p){this.reset(s,p)}reset(s,p){this.points=s||[],this._distances=[0];for(let g=1;g<this.points.length;g++)this._distances[g]=this._distances[g-1]+this.points[g].dist(this.points[g-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=o.ac(s,0,1);let p=1,g=this._distances[p],y=s*this.paddedLength+this.padding;for(;g<y&&p<this._distances.length;)g=this._distances[++p];let x=p-1,C=this._distances[x],D=g-C,N=D>0?(y-C)/D:0;return this.points[x].mult(1-N).add(this.points[p].mult(N))}}function De(b,s){let p=!0;return b==="always"||b!=="never"&&s!=="never"||(p=!1),p}class ct{constructor(s,p,g){let y=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(s/g),this.yCellCount=Math.ceil(p/g);for(let C=0;C<this.xCellCount*this.yCellCount;C++)y.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=p,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,p,g,y,x){this._forEachCell(p,g,y,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(p),this.bboxes.push(g),this.bboxes.push(y),this.bboxes.push(x)}insertCircle(s,p,g,y){this._forEachCell(p-y,g-y,p+y,g+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(p),this.circles.push(g),this.circles.push(y)}_insertBoxCell(s,p,g,y,x,C){this.boxCells[x].push(C)}_insertCircleCell(s,p,g,y,x,C){this.circleCells[x].push(C)}_query(s,p,g,y,x,C,D){if(g<0||s>this.width||y<0||p>this.height)return[];let N=[];if(s<=0&&p<=0&&this.width<=g&&this.height<=y){if(x)return[{key:null,x1:s,y1:p,x2:g,y2:y}];for(let F=0;F<this.boxKeys.length;F++)N.push({key:this.boxKeys[F],x1:this.bboxes[4*F],y1:this.bboxes[4*F+1],x2:this.bboxes[4*F+2],y2:this.bboxes[4*F+3]});for(let F=0;F<this.circleKeys.length;F++){let V=this.circles[3*F],G=this.circles[3*F+1],X=this.circles[3*F+2];N.push({key:this.circleKeys[F],x1:V-X,y1:G-X,x2:V+X,y2:G+X})}}else this._forEachCell(s,p,g,y,this._queryCell,N,{hitTest:x,overlapMode:C,seenUids:{box:{},circle:{}}},D);return N}query(s,p,g,y){return this._query(s,p,g,y,!1,null)}hitTest(s,p,g,y,x,C){return this._query(s,p,g,y,!0,x,C).length>0}hitTestCircle(s,p,g,y,x){let C=s-g,D=s+g,N=p-g,F=p+g;if(D<0||C>this.width||F<0||N>this.height)return!1;let V=[];return this._forEachCell(C,N,D,F,this._queryCellCircle,V,{hitTest:!0,overlapMode:y,circle:{x:s,y:p,radius:g},seenUids:{box:{},circle:{}}},x),V.length>0}_queryCell(s,p,g,y,x,C,D,N){let{seenUids:F,hitTest:V,overlapMode:G}=D,X=this.boxCells[x];if(X!==null){let le=this.bboxes;for(let fe of X)if(!F.box[fe]){F.box[fe]=!0;let ge=4*fe,ye=this.boxKeys[fe];if(s<=le[ge+2]&&p<=le[ge+3]&&g>=le[ge+0]&&y>=le[ge+1]&&(!N||N(ye))&&(!V||!De(G,ye.overlapMode))&&(C.push({key:ye,x1:le[ge],y1:le[ge+1],x2:le[ge+2],y2:le[ge+3]}),V))return!0}}let ie=this.circleCells[x];if(ie!==null){let le=this.circles;for(let fe of ie)if(!F.circle[fe]){F.circle[fe]=!0;let ge=3*fe,ye=this.circleKeys[fe];if(this._circleAndRectCollide(le[ge],le[ge+1],le[ge+2],s,p,g,y)&&(!N||N(ye))&&(!V||!De(G,ye.overlapMode))){let xe=le[ge],ue=le[ge+1],Te=le[ge+2];if(C.push({key:ye,x1:xe-Te,y1:ue-Te,x2:xe+Te,y2:ue+Te}),V)return!0}}}return!1}_queryCellCircle(s,p,g,y,x,C,D,N){let{circle:F,seenUids:V,overlapMode:G}=D,X=this.boxCells[x];if(X!==null){let le=this.bboxes;for(let fe of X)if(!V.box[fe]){V.box[fe]=!0;let ge=4*fe,ye=this.boxKeys[fe];if(this._circleAndRectCollide(F.x,F.y,F.radius,le[ge+0],le[ge+1],le[ge+2],le[ge+3])&&(!N||N(ye))&&!De(G,ye.overlapMode))return C.push(!0),!0}}let ie=this.circleCells[x];if(ie!==null){let le=this.circles;for(let fe of ie)if(!V.circle[fe]){V.circle[fe]=!0;let ge=3*fe,ye=this.circleKeys[fe];if(this._circlesCollide(le[ge],le[ge+1],le[ge+2],F.x,F.y,F.radius)&&(!N||N(ye))&&!De(G,ye.overlapMode))return C.push(!0),!0}}}_forEachCell(s,p,g,y,x,C,D,N){let F=this._convertToXCellCoord(s),V=this._convertToYCellCoord(p),G=this._convertToXCellCoord(g),X=this._convertToYCellCoord(y);for(let ie=F;ie<=G;ie++)for(let le=V;le<=X;le++)if(x.call(this,s,p,g,y,this.xCellCount*le+ie,C,D,N))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,p,g,y,x,C){let D=y-s,N=x-p,F=g+C;return F*F>D*D+N*N}_circleAndRectCollide(s,p,g,y,x,C,D){let N=(C-y)/2,F=Math.abs(s-(y+N));if(F>N+g)return!1;let V=(D-x)/2,G=Math.abs(p-(x+V));if(G>V+g)return!1;if(F<=N||G<=V)return!0;let X=F-N,ie=G-V;return X*X+ie*ie<=g*g}}function Lt(b,s,p,g,y){let x=o.H();return s?(o.K(x,x,[1/y,1/y,1]),p||o.ad(x,x,g.angle)):o.L(x,g.labelPlaneMatrix,b),x}function Dt(b,s,p,g,y){if(s){let x=o.ae(b);return o.K(x,x,[y,y,1]),p||o.ad(x,x,-g.angle),x}return g.glCoordMatrix}function ae(b,s,p,g){let y;g?(y=[b,s,g(b,s),1],o.af(y,y,p)):(y=[b,s,0,1],ln(y,y,p));let x=y[3];return{point:new o.P(y[0]/x,y[1]/x),signedDistanceFromCamera:x,isOccluded:!1}}function $(b,s){return .5+b/s*.5}function H(b,s){return b.x>=-s[0]&&b.x<=s[0]&&b.y>=-s[1]&&b.y<=s[1]}function K(b,s,p,g,y,x,C,D,N,F,V,G,X,ie,le){let fe=g?b.textSizeData:b.iconSizeData,ge=o.ag(fe,p.transform.zoom),ye=[256/p.width*2+1,256/p.height*2+1],xe=g?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;xe.clear();let ue=b.lineVertexArray,Te=g?b.text.placedSymbolArray:b.icon.placedSymbolArray,Oe=p.transform.width/p.transform.height,ze=!1;for(let rt=0;rt<Te.length;rt++){let dt=Te.get(rt);if(dt.hidden||dt.writingMode===o.ah.vertical&&!ze){lr(dt.numGlyphs,xe);continue}ze=!1;let Ct=ae(dt.anchorX,dt.anchorY,s,le);if(!H(Ct.point,ye)){lr(dt.numGlyphs,xe);continue}let qt=$(p.transform.cameraToCenterDistance,Ct.signedDistanceFromCamera),St=o.ai(fe,ge,dt),bt=C?St/qt:St*qt,Yt={getElevation:le,labelPlaneMatrix:y,lineVertexArray:ue,pitchWithMap:C,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:F,tileAnchorPoint:new o.P(dt.anchorX,dt.anchorY),unwrappedTileID:V,width:G,height:X,translation:ie},xr=we(Yt,dt,bt,!1,D,s,x,b.glyphOffsetArray,xe,Oe,N);ze=xr.useVertical,(xr.notEnoughRoom||ze||xr.needsFlipping&&we(Yt,dt,bt,!0,D,s,x,b.glyphOffsetArray,xe,Oe,N).notEnoughRoom)&&lr(dt.numGlyphs,xe)}g?b.text.dynamicLayoutVertexBuffer.updateData(xe):b.icon.dynamicLayoutVertexBuffer.updateData(xe)}function se(b,s,p,g,y,x,C,D){let N=x.glyphStartIndex+x.numGlyphs,F=x.lineStartIndex,V=x.lineStartIndex+x.lineLength,G=s.getoffsetX(x.glyphStartIndex),X=s.getoffsetX(N-1),ie=ht(b*G,p,g,y,x.segment,F,V,D,C);if(!ie)return null;let le=ht(b*X,p,g,y,x.segment,F,V,D,C);return le?D.projectionCache.anyProjectionOccluded?null:{first:ie,last:le}:null}function _e(b,s,p,g){return b===o.ah.horizontal&&Math.abs(p.y-s.y)>Math.abs(p.x-s.x)*g?{useVertical:!0}:(b===o.ah.vertical?s.y<p.y:s.x>p.x)?{needsFlipping:!0}:null}function we(b,s,p,g,y,x,C,D,N,F,V){let G=p/24,X=s.lineOffsetX*G,ie=s.lineOffsetY*G,le;if(s.numGlyphs>1){let fe=s.glyphStartIndex+s.numGlyphs,ge=s.lineStartIndex,ye=s.lineStartIndex+s.lineLength,xe=se(G,D,X,ie,g,s,V,b);if(!xe)return{notEnoughRoom:!0};let ue=ae(xe.first.point.x,xe.first.point.y,C,b.getElevation).point,Te=ae(xe.last.point.x,xe.last.point.y,C,b.getElevation).point;if(y&&!g){let Oe=_e(s.writingMode,ue,Te,F);if(Oe)return Oe}le=[xe.first];for(let Oe=s.glyphStartIndex+1;Oe<fe-1;Oe++)le.push(ht(G*D.getoffsetX(Oe),X,ie,g,s.segment,ge,ye,b,V));le.push(xe.last)}else{if(y&&!g){let ge=ae(b.tileAnchorPoint.x,b.tileAnchorPoint.y,x,b.getElevation).point,ye=s.lineStartIndex+s.segment+1,xe=new o.P(b.lineVertexArray.getx(ye),b.lineVertexArray.gety(ye)),ue=ae(xe.x,xe.y,x,b.getElevation),Te=ue.signedDistanceFromCamera>0?ue.point:function(ze,rt,dt,Ct,qt,St){return Me(ze,rt,dt,1,qt,St)}(b.tileAnchorPoint,xe,ge,0,x,b),Oe=_e(s.writingMode,ge,Te,F);if(Oe)return Oe}let fe=ht(G*D.getoffsetX(s.glyphStartIndex),X,ie,g,s.segment,s.lineStartIndex,s.lineStartIndex+s.lineLength,b,V);if(!fe||b.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};le=[fe]}for(let fe of le)o.aj(N,fe.point,fe.angle);return{}}function Me(b,s,p,g,y,x){let C=b.add(b.sub(s)._unit()),D=y!==void 0?ae(C.x,C.y,y,x.getElevation).point:He(C.x,C.y,x).point,N=p.sub(D);return p.add(N._mult(g/N.mag()))}function ve(b,s,p){let g=s.projectionCache;if(g.projections[b])return g.projections[b];let y=new o.P(s.lineVertexArray.getx(b),s.lineVertexArray.gety(b)),x=He(y.x,y.y,s);if(x.signedDistanceFromCamera>0)return g.projections[b]=x.point,g.anyProjectionOccluded=g.anyProjectionOccluded||x.isOccluded,x.point;let C=b-p.direction;return function(D,N,F,V,G){return Me(D,N,F,V,void 0,G)}(p.distanceFromAnchor===0?s.tileAnchorPoint:new o.P(s.lineVertexArray.getx(C),s.lineVertexArray.gety(C)),y,p.previousVertex,p.absOffsetX-p.distanceFromAnchor+1,s)}function He(b,s,p){let g=b+p.translation[0],y=s+p.translation[1],x;return!p.pitchWithMap&&p.projection.useSpecialProjectionForSymbols?(x=p.projection.projectTileCoordinates(g,y,p.unwrappedTileID,p.getElevation),x.point.x=(.5*x.point.x+.5)*p.width,x.point.y=(.5*-x.point.y+.5)*p.height):(x=ae(g,y,p.labelPlaneMatrix,p.getElevation),x.isOccluded=!1),x}function tt(b,s,p){return b._unit()._perp()._mult(s*p)}function Ge(b,s,p,g,y,x,C,D,N){if(D.projectionCache.offsets[b])return D.projectionCache.offsets[b];let F=p.add(s);if(b+N.direction<g||b+N.direction>=y)return D.projectionCache.offsets[b]=F,F;let V=ve(b+N.direction,D,N),G=tt(V.sub(p),C,N.direction),X=p.add(G),ie=V.add(G);return D.projectionCache.offsets[b]=o.ak(x,F,X,ie)||F,D.projectionCache.offsets[b]}function ht(b,s,p,g,y,x,C,D,N){let F=g?b-s:b+s,V=F>0?1:-1,G=0;g&&(V*=-1,G=Math.PI),V<0&&(G+=Math.PI);let X,ie=V>0?x+y:x+y+1;D.projectionCache.cachedAnchorPoint?X=D.projectionCache.cachedAnchorPoint:(X=He(D.tileAnchorPoint.x,D.tileAnchorPoint.y,D).point,D.projectionCache.cachedAnchorPoint=X);let le,fe,ge=X,ye=X,xe=0,ue=0,Te=Math.abs(F),Oe=[],ze;for(;xe+ue<=Te;){if(ie+=V,ie<x||ie>=C)return null;xe+=ue,ye=ge,fe=le;let Ct={absOffsetX:Te,direction:V,distanceFromAnchor:xe,previousVertex:ye};if(ge=ve(ie,D,Ct),p===0)Oe.push(ye),ze=ge.sub(ye);else{let qt,St=ge.sub(ye);qt=St.mag()===0?tt(ve(ie+V,D,Ct).sub(ge),p,V):tt(St,p,V),fe||(fe=ye.add(qt)),le=Ge(ie,qt,ge,x,C,fe,p,D,Ct),Oe.push(fe),ze=le.sub(fe)}ue=ze.mag()}let rt=ze._mult((Te-xe)/ue)._add(fe||ye),dt=G+Math.atan2(ge.y-ye.y,ge.x-ye.x);return Oe.push(rt),{point:rt,angle:N?dt:0,path:Oe}}let Wt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function lr(b,s){for(let p=0;p<b;p++){let g=s.length;s.resize(g+4),s.float32.set(Wt,3*g)}}function ln(b,s,p){let g=s[0],y=s[1];return b[0]=p[0]*g+p[4]*y+p[12],b[1]=p[1]*g+p[5]*y+p[13],b[3]=p[3]*g+p[7]*y+p[15],b}let Ar=100;class un{constructor(s,p,g=new ct(s.width+200,s.height+200,25),y=new ct(s.width+200,s.height+200,25)){this.transform=s,this.mapProjection=p,this.grid=g,this.ignoredGrid=y,this.pitchFactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+Ar,this.screenBottomBoundary=s.height+Ar,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,p,g,y,x,C,D,N,F,V,G){let X=s.anchorPointX+N[0],ie=s.anchorPointY+N[1],le=this.projectAndGetPerspectiveRatio(y,X,ie,x,V),fe=g*le.perspectiveRatio,ge;if(C||D)ge=this._projectCollisionBox(s,fe,y,x,C,D,N,le,V,G);else{let Oe=le.point.x+(G?G.x*fe:0),ze=le.point.y+(G?G.y*fe:0);ge={allPointsOccluded:!1,box:[Oe+s.x1*fe,ze+s.y1*fe,Oe+s.x2*fe,ze+s.y2*fe]}}let[ye,xe,ue,Te]=ge.box;return this.mapProjection.useSpecialProjectionForSymbols&&(C?ge.allPointsOccluded:this.mapProjection.isOccluded(X,ie,x))||le.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(ye,xe,ue,Te)||p!=="always"&&this.grid.hitTest(ye,xe,ue,Te,p,F)?{box:[ye,xe,ue,Te],placeable:!1,offscreen:!1}:{box:[ye,xe,ue,Te],placeable:!0,offscreen:this.isOffscreen(ye,xe,ue,Te)}}placeCollisionCircles(s,p,g,y,x,C,D,N,F,V,G,X,ie,le,fe,ge){let ye=[],xe=new o.P(p.anchorX,p.anchorY),ue=this.getPerspectiveRatio(C,xe.x,xe.y,D,ge),Te=(G?x/ue:x*ue)/o.ap,Oe={getElevation:ge,labelPlaneMatrix:N,lineVertexArray:g,pitchWithMap:G,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:xe,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:fe},ze=se(Te,y,p.lineOffsetX*Te,p.lineOffsetY*Te,!1,p,!1,Oe),rt=!1,dt=!1,Ct=!0;if(ze){let qt=.5*ie*ue+le,St=new o.P(-100,-100),bt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Yt=new Ie,xr=ze.first,It=ze.last,Nt=[];for(let Nr=xr.path.length-1;Nr>=1;Nr--)Nt.push(xr.path[Nr]);for(let Nr=1;Nr<It.path.length;Nr++)Nt.push(It.path[Nr]);let yr=2.5*qt;if(F){let Nr=this.projectPathToScreenSpace(Nt,Oe,F);Nt=Nr.some(Yr=>Yr.signedDistanceFromCamera<=0)?[]:Nr.map(Yr=>Yr.point)}let ri=[];if(Nt.length>0){let Nr=Nt[0].clone(),Yr=Nt[0].clone();for(let ni=1;ni<Nt.length;ni++)Nr.x=Math.min(Nr.x,Nt[ni].x),Nr.y=Math.min(Nr.y,Nt[ni].y),Yr.x=Math.max(Yr.x,Nt[ni].x),Yr.y=Math.max(Yr.y,Nt[ni].y);ri=Nr.x>=St.x&&Yr.x<=bt.x&&Nr.y>=St.y&&Yr.y<=bt.y?[Nt]:Yr.x<St.x||Nr.x>bt.x||Yr.y<St.y||Nr.y>bt.y?[]:o.al([Nt],St.x,St.y,bt.x,bt.y)}for(let Nr of ri){Yt.reset(Nr,.25*qt);let Yr=0;Yr=Yt.length<=.5*qt?1:Math.ceil(Yt.paddedLength/yr)+1;for(let ni=0;ni<Yr;ni++){let Do=ni/Math.max(Yr-1,1),bl=Yt.lerp(Do),ii=bl.x+Ar,Ca=bl.y+Ar;ye.push(ii,Ca,qt,0);let Jo=ii-qt,Lo=Ca-qt,ea=ii+qt,Ql=Ca+qt;if(Ct=Ct&&this.isOffscreen(Jo,Lo,ea,Ql),dt=dt||this.isInsideGrid(Jo,Lo,ea,Ql),s!=="always"&&this.grid.hitTestCircle(ii,Ca,qt,s,X)&&(rt=!0,!V))return{circles:[],offscreen:!1,collisionDetected:rt}}}}return{circles:!V&&rt||!dt||ue<this.perspectiveRatioCutoff?[]:ye,offscreen:Ct,collisionDetected:rt}}projectPathToScreenSpace(s,p,g){return s.map(y=>ae(y.x,y.y,g,p.getElevation))}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let p=[],g=1/0,y=1/0,x=-1/0,C=-1/0;for(let V of s){let G=new o.P(V.x+Ar,V.y+Ar);g=Math.min(g,G.x),y=Math.min(y,G.y),x=Math.max(x,G.x),C=Math.max(C,G.y),p.push(G)}let D=this.grid.query(g,y,x,C).concat(this.ignoredGrid.query(g,y,x,C)),N={},F={};for(let V of D){let G=V.key;if(N[G.bucketInstanceId]===void 0&&(N[G.bucketInstanceId]={}),N[G.bucketInstanceId][G.featureIndex])continue;let X=[new o.P(V.x1,V.y1),new o.P(V.x2,V.y1),new o.P(V.x2,V.y2),new o.P(V.x1,V.y2)];o.am(p,X)&&(N[G.bucketInstanceId][G.featureIndex]=!0,F[G.bucketInstanceId]===void 0&&(F[G.bucketInstanceId]=[]),F[G.bucketInstanceId].push(G.featureIndex))}return F}insertCollisionBox(s,p,g,y,x,C){(g?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:x,collisionGroupID:C,overlapMode:p},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,p,g,y,x,C){let D=g?this.ignoredGrid:this.grid,N={bucketInstanceId:y,featureIndex:x,collisionGroupID:C,overlapMode:p};for(let F=0;F<s.length;F+=4)D.insertCircle(N,s[F],s[F+1],s[F+2])}projectAndGetPerspectiveRatio(s,p,g,y,x){let C;x?(C=[p,g,x(p,g),1],o.af(C,C,s)):(C=[p,g,0,1],ln(C,C,s));let D=C[3];return{point:new o.P((C[0]/D+1)/2*this.transform.width+Ar,(-C[1]/D+1)/2*this.transform.height+Ar),perspectiveRatio:.5+this.transform.cameraToCenterDistance/D*.5,isOccluded:!1,signedDistanceFromCamera:D}}getPerspectiveRatio(s,p,g,y,x){let C=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(p,g,y,x):ae(p,g,s,x);return .5+this.transform.cameraToCenterDistance/C.signedDistanceFromCamera*.5}isOffscreen(s,p,g,y){return g<Ar||s>=this.screenRightBoundary||y<Ar||p>this.screenBottomBoundary}isInsideGrid(s,p,g,y){return g>=0&&s<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary}getViewportMatrix(){let s=o.an([]);return o.J(s,s,[-100,-100,0]),s}_projectCollisionBox(s,p,g,y,x,C,D,N,F,V){let G=new o.P(1,0),X=new o.P(0,1),ie=new o.P(s.anchorPointX+D[0],s.anchorPointY+D[1]);if(C&&!x){let Ct=this.projectAndGetPerspectiveRatio(g,ie.x+1,ie.y,y,F).point.sub(N.point).unit(),qt=Math.atan(Ct.y/Ct.x)+(Ct.x<0?Math.PI:0),St=Math.sin(qt),bt=Math.cos(qt);G=new o.P(bt,St),X=new o.P(-St,bt)}else if(!C&&x){let Ct=-this.transform.angle,qt=Math.sin(Ct),St=Math.cos(Ct);G=new o.P(St,qt),X=new o.P(-qt,St)}let le=N.point,fe=p;if(x){le=ie;let Ct=this.transform.zoom-Math.floor(this.transform.zoom);fe=Math.pow(2,-Ct),fe*=this.mapProjection.getPitchedTextCorrection(this.transform,ie,y),V||(fe*=o.ac(.5+N.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}V&&(le=le.add(G.mult(V.x*fe)).add(X.mult(V.y*fe)));let ge=s.x1*fe,ye=s.x2*fe,xe=(ge+ye)/2,ue=s.y1*fe,Te=s.y2*fe,Oe=(ue+Te)/2,ze=[{offsetX:ge,offsetY:ue},{offsetX:xe,offsetY:ue},{offsetX:ye,offsetY:ue},{offsetX:ye,offsetY:Oe},{offsetX:ye,offsetY:Te},{offsetX:xe,offsetY:Te},{offsetX:ge,offsetY:Te},{offsetX:ge,offsetY:Oe}],rt=[];for(let{offsetX:Ct,offsetY:qt}of ze)rt.push(new o.P(le.x+G.x*Ct+X.x*qt,le.y+G.y*Ct+X.y*qt));let dt=!1;if(x){let Ct=rt.map(qt=>this.projectAndGetPerspectiveRatio(g,qt.x,qt.y,y,F));dt=Ct.some(qt=>!qt.isOccluded),rt=Ct.map(qt=>qt.point)}else dt=!0;return{box:o.ao(rt),allPointsOccluded:!dt}}}function Zr(b,s,p){return s*(o.X/(b.tileSize*Math.pow(2,p-b.tileID.overscaledZ)))}class Ui{constructor(s,p,g,y){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?p:-p))):y&&g?1:0,this.placed=g}isHidden(){return this.opacity===0&&!this.placed}}class Si{constructor(s,p,g,y,x){this.text=new Ui(s?s.text:null,p,g,x),this.icon=new Ui(s?s.icon:null,p,y,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class zr{constructor(s,p,g){this.text=s,this.icon=p,this.skipFade=g}}class Mn{constructor(){this.invProjMatrix=o.H(),this.viewportMatrix=o.H(),this.circles=[]}}class fi{constructor(s,p,g,y,x){this.bucketInstanceId=s,this.featureIndex=p,this.sourceLayerIndex=g,this.bucketIndex=y,this.tileID=x}}class uo{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){let p=++this.maxGroupID;this.collisionGroups[s]={ID:p,predicate:g=>g.collisionGroupID===p}}return this.collisionGroups[s]}}function yo(b,s,p,g,y){let{horizontalAlign:x,verticalAlign:C}=o.au(b);return new o.P(-(x-.5)*s+g[0]*y,-(C-.5)*p+g[1]*y)}class Qo{constructor(s,p,g,y,x,C){this.transform=s.clone(),this.terrain=g,this.collisionIndex=new un(this.transform,p),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new uo(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){let p=this.terrain;return p?(g,y)=>p.getElevation(s,g,y):null}getBucketParts(s,p,g,y){let x=g.getBucket(p),C=g.latestFeatureIndex;if(!x||!C||p.id!==x.layerIds[0])return;let D=g.collisionBoxArray,N=x.layers[0].layout,F=x.layers[0].paint,V=Math.pow(2,this.transform.zoom-g.tileID.overscaledZ),G=g.tileSize/o.X,X=g.tileID.toUnwrapped(),ie=this.transform.calculatePosMatrix(X),le=N.get("text-pitch-alignment")==="map",fe=N.get("text-rotation-alignment")==="map",ge=Zr(g,1,this.transform.zoom),ye=this.collisionIndex.mapProjection.translatePosition(this.transform,g,F.get("text-translate"),F.get("text-translate-anchor")),xe=this.collisionIndex.mapProjection.translatePosition(this.transform,g,F.get("icon-translate"),F.get("icon-translate-anchor")),ue=Lt(ie,le,fe,this.transform,ge),Te=null;if(le){let ze=Dt(ie,le,fe,this.transform,ge);Te=o.L([],this.transform.labelPlaneMatrix,ze)}this.retainedQueryData[x.bucketInstanceId]=new fi(x.bucketInstanceId,C,x.sourceLayerIndex,x.index,g.tileID);let Oe={bucket:x,layout:N,translationText:ye,translationIcon:xe,posMatrix:ie,unwrappedTileID:X,textLabelPlaneMatrix:ue,labelToScreenMatrix:Te,scale:V,textPixelRatio:G,holdingForFade:g.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:o.ag(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(y)for(let ze of x.sortKeyRanges){let{sortKey:rt,symbolInstanceStart:dt,symbolInstanceEnd:Ct}=ze;s.push({sortKey:rt,symbolInstanceStart:dt,symbolInstanceEnd:Ct,parameters:Oe})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Oe})}attemptAnchorPlacement(s,p,g,y,x,C,D,N,F,V,G,X,ie,le,fe,ge,ye,xe,ue){let Te=o.aq[s.textAnchor],Oe=[s.textOffset0,s.textOffset1],ze=yo(Te,g,y,Oe,x),rt=this.collisionIndex.placeCollisionBox(p,X,N,F,V,D,C,ge,G.predicate,ue,ze);if((!xe||this.collisionIndex.placeCollisionBox(xe,X,N,F,V,D,C,ye,G.predicate,ue,ze).placeable)&&rt.placeable){let dt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID].text&&(dt=this.prevPlacement.variableOffsets[ie.crossTileID].anchor),ie.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ie.crossTileID]={textOffset:Oe,width:g,height:y,anchor:Te,textBoxScale:x,prevAnchor:dt},this.markUsedJustification(le,Te,ie,fe),le.allowVerticalPlacement&&(this.markUsedOrientation(le,fe,ie),this.placedOrientations[ie.crossTileID]=fe),{shift:ze,placedGlyphBoxes:rt}}}placeLayerBucketPart(s,p,g){let{bucket:y,layout:x,translationText:C,translationIcon:D,posMatrix:N,unwrappedTileID:F,textLabelPlaneMatrix:V,labelToScreenMatrix:G,textPixelRatio:X,holdingForFade:ie,collisionBoxArray:le,partiallyEvaluatedTextSize:fe,collisionGroup:ge}=s.parameters,ye=x.get("text-optional"),xe=x.get("icon-optional"),ue=o.ar(x,"text-overlap","text-allow-overlap"),Te=ue==="always",Oe=o.ar(x,"icon-overlap","icon-allow-overlap"),ze=Oe==="always",rt=x.get("text-rotation-alignment")==="map",dt=x.get("text-pitch-alignment")==="map",Ct=x.get("icon-text-fit")!=="none",qt=x.get("symbol-z-order")==="viewport-y",St=Te&&(ze||!y.hasIconData()||xe),bt=ze&&(Te||!y.hasTextData()||ye);!y.collisionArrays&&le&&y.deserializeCollisionBoxes(le);let Yt=this._getTerrainElevationFunc(this.retainedQueryData[y.bucketInstanceId].tileID),xr=(It,Nt,yr)=>{var ri,Nr;if(p[It.crossTileID])return;if(ie)return void(this.placements[It.crossTileID]=new zr(!1,!1,!1));let Yr=!1,ni=!1,Do=!0,bl=null,ii={box:null,placeable:!1,offscreen:null},Ca={box:null,placeable:!1,offscreen:null},Jo=null,Lo=null,ea=null,Ql=0,Ud=0,Gy=0;Nt.textFeatureIndex?Ql=Nt.textFeatureIndex:It.useRuntimeCollisionCircles&&(Ql=It.featureIndex),Nt.verticalTextFeatureIndex&&(Ud=Nt.verticalTextFeatureIndex);let Vd=Nt.textBox;if(Vd){let ks=_o=>{let Po=o.ah.horizontal;if(y.allowVerticalPlacement&&!_o&&this.prevPlacement){let ps=this.prevPlacement.placedOrientations[It.crossTileID];ps&&(this.placedOrientations[It.crossTileID]=ps,Po=ps,this.markUsedOrientation(y,Po,It))}return Po},qs=(_o,Po)=>{if(y.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&Nt.verticalTextBox){for(let ps of y.writingModes)if(ps===o.ah.vertical?(ii=Po(),Ca=ii):ii=_o(),ii&&ii.placeable)break}else ii=_o()},jc=It.textAnchorOffsetStartIndex,wl=It.textAnchorOffsetEndIndex;if(wl===jc){let _o=(Po,ps)=>{let en=this.collisionIndex.placeCollisionBox(Po,ue,X,N,F,dt,rt,C,ge.predicate,Yt);return en&&en.placeable&&(this.markUsedOrientation(y,ps,It),this.placedOrientations[It.crossTileID]=ps),en};qs(()=>_o(Vd,o.ah.horizontal),()=>{let Po=Nt.verticalTextBox;return y.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&Po?_o(Po,o.ah.vertical):{box:null,offscreen:null}}),ks(ii&&ii.placeable)}else{let _o=o.aq[(Nr=(ri=this.prevPlacement)===null||ri===void 0?void 0:ri.variableOffsets[It.crossTileID])===null||Nr===void 0?void 0:Nr.anchor],Po=(en,op,Gd)=>{let Hd=en.x2-en.x1,sA=en.y2-en.y1,g3=It.textBoxScale,lA=Ct&&Oe==="never"?op:null,zc=null,uA=ue==="never"?1:2,$y="never";_o&&uA++;for(let sg=0;sg<uA;sg++){for(let Wy=jc;Wy<wl;Wy++){let Zy=y.textAnchorOffsets.get(Wy);if(_o&&Zy.textAnchor!==_o)continue;let $d=this.attemptAnchorPlacement(Zy,en,Hd,sA,g3,rt,dt,X,N,F,ge,$y,It,y,Gd,C,D,lA,Yt);if($d&&(zc=$d.placedGlyphBoxes,zc&&zc.placeable))return Yr=!0,bl=$d.shift,zc}_o?_o=null:$y=ue}return g&&!zc&&(zc={box:this.collisionIndex.placeCollisionBox(Vd,"always",X,N,F,dt,rt,C,ge.predicate,Yt,new o.P(0,0)).box,offscreen:!1,placeable:!1}),zc};qs(()=>Po(Vd,Nt.iconBox,o.ah.horizontal),()=>{let en=Nt.verticalTextBox;return y.allowVerticalPlacement&&(!ii||!ii.placeable)&&It.numVerticalGlyphVertices>0&&en?Po(en,Nt.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),ii&&(Yr=ii.placeable,Do=ii.offscreen);let ps=ks(ii&&ii.placeable);if(!Yr&&this.prevPlacement){let en=this.prevPlacement.variableOffsets[It.crossTileID];en&&(this.variableOffsets[It.crossTileID]=en,this.markUsedJustification(y,en.anchor,It,ps))}}}if(Jo=ii,Yr=Jo&&Jo.placeable,Do=Jo&&Jo.offscreen,It.useRuntimeCollisionCircles){let ks=y.text.placedSymbolArray.get(It.centerJustifiedTextSymbolIndex),qs=o.ai(y.textSizeData,fe,ks),jc=x.get("text-padding");Lo=this.collisionIndex.placeCollisionCircles(ue,ks,y.lineVertexArray,y.glyphOffsetArray,qs,N,F,V,G,g,dt,ge.predicate,It.collisionCircleDiameter,jc,C,Yt),Lo.circles.length&&Lo.collisionDetected&&!g&&o.w("Collisions detected, but collision boxes are not shown"),Yr=Te||Lo.circles.length>0&&!Lo.collisionDetected,Do=Do&&Lo.offscreen}if(Nt.iconFeatureIndex&&(Gy=Nt.iconFeatureIndex),Nt.iconBox){let ks=qs=>this.collisionIndex.placeCollisionBox(qs,Oe,X,N,F,dt,rt,D,ge.predicate,Yt,Ct&&bl?bl:void 0);Ca&&Ca.placeable&&Nt.verticalIconBox?(ea=ks(Nt.verticalIconBox),ni=ea.placeable):(ea=ks(Nt.iconBox),ni=ea.placeable),Do=Do&&ea.offscreen}let Rs=ye||It.numHorizontalGlyphVertices===0&&It.numVerticalGlyphVertices===0,Hy=xe||It.numIconVertices===0;Rs||Hy?Hy?Rs||(ni=ni&&Yr):Yr=ni&&Yr:ni=Yr=ni&&Yr;let yb=ni&&ea.placeable;if(Yr&&Jo.placeable&&this.collisionIndex.insertCollisionBox(Jo.box,ue,x.get("text-ignore-placement"),y.bucketInstanceId,Ca&&Ca.placeable&&Ud?Ud:Ql,ge.ID),yb&&this.collisionIndex.insertCollisionBox(ea.box,Oe,x.get("icon-ignore-placement"),y.bucketInstanceId,Gy,ge.ID),Lo&&Yr&&this.collisionIndex.insertCollisionCircles(Lo.circles,ue,x.get("text-ignore-placement"),y.bucketInstanceId,Ql,ge.ID),g&&this.storeCollisionData(y.bucketInstanceId,yr,Nt,Jo,ea,Lo),It.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(y.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[It.crossTileID]=new zr(Yr||St,ni||bt,Do||y.justReloaded),p[It.crossTileID]=!0};if(qt){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let It=y.getSortedSymbolIndexes(this.transform.angle);for(let Nt=It.length-1;Nt>=0;--Nt){let yr=It[Nt];xr(y.symbolInstances.get(yr),y.collisionArrays[yr],yr)}}else for(let It=s.symbolInstanceStart;It<s.symbolInstanceEnd;It++)xr(y.symbolInstances.get(It),y.collisionArrays[It],It);if(g&&y.bucketInstanceId in this.collisionCircleArrays){let It=this.collisionCircleArrays[y.bucketInstanceId];o.as(It.invProjMatrix,N),It.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1}storeCollisionData(s,p,g,y,x,C){if(g.textBox||g.iconBox){let D,N;this.collisionBoxArrays.has(s)?D=this.collisionBoxArrays.get(s):(D=new Map,this.collisionBoxArrays.set(s,D)),D.has(p)?N=D.get(p):(N={text:null,icon:null},D.set(p,N)),g.textBox&&(N.text=y.box),g.iconBox&&(N.icon=x.box)}if(C){let D=this.collisionCircleArrays[s];D===void 0&&(D=this.collisionCircleArrays[s]=new Mn);for(let N=0;N<C.circles.length;N+=4)D.circles.push(C.circles[N+0]),D.circles.push(C.circles[N+1]),D.circles.push(C.circles[N+2]),D.circles.push(C.collisionDetected?1:0)}}markUsedJustification(s,p,g,y){let x;x=y===o.ah.vertical?g.verticalPlacedTextSymbolIndex:{left:g.leftJustifiedTextSymbolIndex,center:g.centerJustifiedTextSymbolIndex,right:g.rightJustifiedTextSymbolIndex}[o.at(p)];let C=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex,g.verticalPlacedTextSymbolIndex];for(let D of C)D>=0&&(s.text.placedSymbolArray.get(D).crossTileID=x>=0&&D!==x?0:g.crossTileID)}markUsedOrientation(s,p,g){let y=p===o.ah.horizontal||p===o.ah.horizontalOnly?p:0,x=p===o.ah.vertical?p:0,C=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex];for(let D of C)s.text.placedSymbolArray.get(D).placedOrientation=y;g.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(g.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;let p=this.prevPlacement,g=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;let y=p?p.symbolFadeChange(s):1,x=p?p.opacities:{},C=p?p.variableOffsets:{},D=p?p.placedOrientations:{};for(let N in this.placements){let F=this.placements[N],V=x[N];V?(this.opacities[N]=new Si(V,y,F.text,F.icon),g=g||F.text!==V.text.placed||F.icon!==V.icon.placed):(this.opacities[N]=new Si(null,y,F.text,F.icon,F.skipFade),g=g||F.text||F.icon)}for(let N in x){let F=x[N];if(!this.opacities[N]){let V=new Si(F,y,!1,!1);V.isHidden()||(this.opacities[N]=V,g=g||F.text.placed||F.icon.placed)}}for(let N in C)this.variableOffsets[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.variableOffsets[N]=C[N]);for(let N in D)this.placedOrientations[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.placedOrientations[N]=D[N]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");g?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:s)}updateLayerOpacities(s,p){let g={};for(let y of p){let x=y.getBucket(s);x&&y.latestFeatureIndex&&s.id===x.layerIds[0]&&this.updateBucketOpacities(x,y.tileID,g,y.collisionBoxArray)}}updateBucketOpacities(s,p,g,y){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();let x=s.layers[0],C=x.layout,D=new Si(null,0,!1,!1,!0),N=C.get("text-allow-overlap"),F=C.get("icon-allow-overlap"),V=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),G=C.get("text-rotation-alignment")==="map",X=C.get("text-pitch-alignment")==="map",ie=C.get("icon-text-fit")!=="none",le=new Si(null,0,N&&(F||!s.hasIconData()||C.get("icon-optional")),F&&(N||!s.hasTextData()||C.get("text-optional")),!0);!s.collisionArrays&&y&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(y);let fe=(ye,xe,ue)=>{for(let Te=0;Te<xe/4;Te++)ye.opacityVertexArray.emplaceBack(ue);ye.hasVisibleVertices=ye.hasVisibleVertices||ue!==bd},ge=this.collisionBoxArrays.get(s.bucketInstanceId);for(let ye=0;ye<s.symbolInstances.length;ye++){let xe=s.symbolInstances.get(ye),{numHorizontalGlyphVertices:ue,numVerticalGlyphVertices:Te,crossTileID:Oe}=xe,ze=this.opacities[Oe];g[Oe]?ze=D:ze||(ze=le,this.opacities[Oe]=ze),g[Oe]=!0;let rt=xe.numIconVertices>0,dt=this.placedOrientations[xe.crossTileID],Ct=dt===o.ah.vertical,qt=dt===o.ah.horizontal||dt===o.ah.horizontalOnly;if(ue>0||Te>0){let bt=us(ze.text);fe(s.text,ue,Ct?bd:bt),fe(s.text,Te,qt?bd:bt);let Yt=ze.text.isHidden();[xe.rightJustifiedTextSymbolIndex,xe.centerJustifiedTextSymbolIndex,xe.leftJustifiedTextSymbolIndex].forEach(Nt=>{Nt>=0&&(s.text.placedSymbolArray.get(Nt).hidden=Yt||Ct?1:0)}),xe.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(xe.verticalPlacedTextSymbolIndex).hidden=Yt||qt?1:0);let xr=this.variableOffsets[xe.crossTileID];xr&&this.markUsedJustification(s,xr.anchor,xe,dt);let It=this.placedOrientations[xe.crossTileID];It&&(this.markUsedJustification(s,"left",xe,It),this.markUsedOrientation(s,It,xe))}if(rt){let bt=us(ze.icon),Yt=!(ie&&xe.verticalPlacedIconSymbolIndex&&Ct);xe.placedIconSymbolIndex>=0&&(fe(s.icon,xe.numIconVertices,Yt?bt:bd),s.icon.placedSymbolArray.get(xe.placedIconSymbolIndex).hidden=ze.icon.isHidden()),xe.verticalPlacedIconSymbolIndex>=0&&(fe(s.icon,xe.numVerticalIconVertices,Yt?bd:bt),s.icon.placedSymbolArray.get(xe.verticalPlacedIconSymbolIndex).hidden=ze.icon.isHidden())}let St=ge&&ge.has(ye)?ge.get(ye):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){let bt=s.collisionArrays[ye];if(bt){let Yt=new o.P(0,0);if(bt.textBox||bt.verticalTextBox){let xr=!0;if(V){let It=this.variableOffsets[Oe];It?(Yt=yo(It.anchor,It.width,It.height,It.textOffset,It.textBoxScale),G&&Yt._rotate(X?this.transform.angle:-this.transform.angle)):xr=!1}if(bt.textBox||bt.verticalTextBox){let It;bt.textBox&&(It=Ct),bt.verticalTextBox&&(It=qt),xd(s.textCollisionBox.collisionVertexArray,ze.text.placed,!xr||It,St.text,Yt.x,Yt.y)}}if(bt.iconBox||bt.verticalIconBox){let xr=!!(!qt&&bt.verticalIconBox),It;bt.iconBox&&(It=xr),bt.verticalIconBox&&(It=!xr),xd(s.iconCollisionBox.collisionVertexArray,ze.icon.placed,It,St.icon,ie?Yt.x:0,ie?Yt.y:0)}}}}if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);if(s.bucketInstanceId in this.collisionCircleArrays){let ye=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=ye.invProjMatrix,s.placementViewportMatrix=ye.viewportMatrix,s.collisionCircleArray=ye.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,p){let g=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*g>s}setStale(){this.stale=!0}}function xd(b,s,p,g,y,x){g&&g.length!==0||(g=[0,0,0,0]);let C=g[0]-Ar,D=g[1]-Ar,N=g[2]-Ar,F=g[3]-Ar;b.emplaceBack(s?1:0,p?1:0,y||0,x||0,C,D),b.emplaceBack(s?1:0,p?1:0,y||0,x||0,N,D),b.emplaceBack(s?1:0,p?1:0,y||0,x||0,N,F),b.emplaceBack(s?1:0,p?1:0,y||0,x||0,C,F)}let Cn=Math.pow(2,25),Cx=Math.pow(2,24),Ox=Math.pow(2,17),ss=Math.pow(2,16),ls=Math.pow(2,9),Gk=Math.pow(2,8),Ds=Math.pow(2,1);function us(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;let s=b.placed?1:0,p=Math.floor(127*b.opacity);return p*Cn+s*Cx+p*Ox+s*ss+p*ls+s*Gk+p*Ds+s}let bd=0;function Wf(){return{isOccluded:(b,s,p)=>!1,getPitchedTextCorrection:(b,s,p)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(b,s,p,g){throw new Error("Not implemented.")},translatePosition:(b,s,p,g)=>function(y,x,C,D,N=!1){if(!C[0]&&!C[1])return[0,0];let F=N?D==="map"?y.angle:0:D==="viewport"?-y.angle:0;if(F){let V=Math.sin(F),G=Math.cos(F);C=[C[0]*G-C[1]*V,C[0]*V+C[1]*G]}return[N?C[0]:Zr(x,C[0],y.zoom),N?C[1]:Zr(x,C[1],y.zoom)]}(b,s,p,g),getCircleRadiusCorrection:b=>1}}class Vi{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,p,g,y,x){let C=this._bucketParts;for(;this._currentTileIndex<s.length;)if(p.getBucketParts(C,y,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((D,N)=>D.sortKey-N.sortKey));this._currentPartIndex<C.length;)if(p.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,g),this._currentPartIndex++,x())return!0;return!1}}class Vm{constructor(s,p,g,y,x,C,D,N){this.placement=new Qo(s,Wf(),p,C,D,N),this._currentPlacementIndex=g.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(s,p,g){let y=m.now(),x=()=>!this._forceFullPlacement&&m.now()-y>2;for(;this._currentPlacementIndex>=0;){let C=p[s[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=D)&&(!C.maxzoom||C.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new Vi(C)),this._inProgressLayer.continuePlacement(g[C.source],this.placement,this._showCollisionBoxes,C,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}let gl=512/o.X/2;class Ri{constructor(s,p,g){this.tileID=s,this.bucketInstanceId=g,this._symbolsByKey={};let y=new Map;for(let x=0;x<p.length;x++){let C=p.get(x),D=C.key,N=y.get(D);N?N.push(C):y.set(D,[C])}for(let[x,C]of y){let D={positions:C.map(N=>({x:Math.floor(N.anchorX*gl),y:Math.floor(N.anchorY*gl)})),crossTileIDs:C.map(N=>N.crossTileID)};if(D.positions.length>128){let N=new o.av(D.positions.length,16,Uint16Array);for(let{x:F,y:V}of D.positions)N.add(F,V);N.finish(),delete D.positions,D.index=N}this._symbolsByKey[x]=D}}getScaledCoordinates(s,p){let{x:g,y,z:x}=this.tileID.canonical,{x:C,y:D,z:N}=p.canonical,F=gl/Math.pow(2,N-x),V=(D*o.X+s.anchorY)*F,G=y*o.X*gl;return{x:Math.floor((C*o.X+s.anchorX)*F-g*o.X*gl),y:Math.floor(V-G)}}findMatches(s,p,g){let y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let x=0;x<s.length;x++){let C=s.get(x);if(C.crossTileID)continue;let D=this._symbolsByKey[C.key];if(!D)continue;let N=this.getScaledCoordinates(C,p);if(D.index){let F=D.index.range(N.x-y,N.y-y,N.x+y,N.y+y).sort();for(let V of F){let G=D.crossTileIDs[V];if(!g[G]){g[G]=!0,C.crossTileID=G;break}}}else if(D.positions)for(let F=0;F<D.positions.length;F++){let V=D.positions[F],G=D.crossTileIDs[F];if(Math.abs(V.x-N.x)<=y&&Math.abs(V.y-N.y)<=y&&!g[G]){g[G]=!0,C.crossTileID=G;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class dy{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class vl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){let p=Math.round((s-this.lng)/360);if(p!==0)for(let g in this.indexes){let y=this.indexes[g],x={};for(let C in y){let D=y[C];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+p),x[D.tileID.key]=D}this.indexes[g]=x}this.lng=s}addBucket(s,p,g){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let x=0;x<p.symbolInstances.length;x++)p.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});let y=this.usedCrossTileIDs[s.overscaledZ];for(let x in this.indexes){let C=this.indexes[x];if(Number(x)>s.overscaledZ)for(let D in C){let N=C[D];N.tileID.isChildOf(s)&&N.findMatches(p.symbolInstances,s,y)}else{let D=C[s.scaledTo(Number(x)).key];D&&D.findMatches(p.symbolInstances,s,y)}}for(let x=0;x<p.symbolInstances.length;x++){let C=p.symbolInstances.get(x);C.crossTileID||(C.crossTileID=g.generate(),y[C.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new Ri(s,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(s,p){for(let g of p.getCrossTileIDsLists())for(let y of g)delete this.usedCrossTileIDs[s][y]}removeStaleBuckets(s){let p=!1;for(let g in this.indexes){let y=this.indexes[g];for(let x in y)s[y[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(g,y[x]),delete y[x],p=!0)}return p}}class Dx{constructor(){this.layerIndexes={},this.crossTileIDs=new dy,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,p,g){let y=this.layerIndexes[s.id];y===void 0&&(y=this.layerIndexes[s.id]=new vl);let x=!1,C={};y.handleWrapJump(g);for(let D of p){let N=D.getBucket(s);N&&s.id===N.layerIds[0]&&(N.bucketInstanceId||(N.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(D.tileID,N,this.crossTileIDs)&&(x=!0),C[N.bucketInstanceId]=!0)}return y.removeStaleBuckets(C)&&(x=!0),x}pruneUnusedLayers(s){let p={};s.forEach(g=>{p[g]=!0});for(let g in this.layerIndexes)p[g]||delete this.layerIndexes[g]}}let yl=(b,s)=>o.t(b,s&&s.filter(p=>p.identifier!=="source.canvas")),Hk=o.aw();class hy extends o.E{constructor(s,p={}){super(),this._rtlPluginLoaded=()=>{for(let g in this.sourceCaches){let y=this.sourceCaches[g].getSource().type;y!=="vector"&&y!=="geojson"||this.sourceCaches[g].reload()}},this.map=s,this.dispatcher=new Ee(Ne(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",(g,y)=>this.getGlyphs(g,y)),this.dispatcher.registerMessageHandler("GI",(g,y)=>this.getImages(g,y)),this.imageManager=new Fe,this.imageManager.setEventedParent(this),this.glyphManager=new Ye(s._requestManager,p.localIdeographFontFamily),this.lineAtlas=new at(256,512),this.crossTileSymbolIndex=new Dx,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.ay()),Os().on(lt,this._rtlPluginLoaded),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;let y=this.sourceCaches[g.sourceId];if(!y)return;let x=y.getSource();if(x&&x.vectorLayerIds)for(let C in this._layers){let D=this._layers[C];D.source===x.id&&this._validateLayer(D)}})}loadURL(s,p={},g){this.fire(new o.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;let y=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;let x=this._loadStyleRequest;o.h(y,this._loadStyleRequest).then(C=>{this._loadStyleRequest=null,this._load(C.data,p,g)}).catch(C=>{this._loadStyleRequest=null,C&&!x.signal.aborted&&this.fire(new o.j(C))})}loadJSON(s,p={},g){this.fire(new o.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,m.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(s,p,g)}).catch(()=>{})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(Hk,{validate:!1})}_load(s,p,g){var y;let x=p.transformStyle?p.transformStyle(g,s):s;if(!p.validate||!yl(this,o.u(x))){this._loaded=!0,this.stylesheet=x;for(let C in x.sources)this.addSource(C,x.sources[C],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new je(this.stylesheet.light),this.sky=new ot(this.stylesheet.sky),this.map.setTerrain((y=this.stylesheet.terrain)!==null&&y!==void 0?y:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){let s=o.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",s),this._order=s.map(p=>p.id),this._layers={},this._serializedLayers=null;for(let p of s){let g=o.aA(p);g.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=g}}_loadSprite(s,p=!1,g=void 0){let y;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(x,C,D,N){return o._(this,void 0,void 0,function*(){let F=oe(x),V=D>1?"@2x":"",G={},X={};for(let{id:ie,url:le}of F){let fe=C.transformRequest(me(le,V,".json"),"SpriteJSON");G[ie]=o.h(fe,N);let ge=C.transformRequest(me(le,V,".png"),"SpriteImage");X[ie]=q.getImage(ge,N)}return yield Promise.all([...Object.values(G),...Object.values(X)]),function(ie,le){return o._(this,void 0,void 0,function*(){let fe={};for(let ge in ie){fe[ge]={};let ye=m.getImageCanvasContext((yield le[ge]).data),xe=(yield ie[ge]).data;for(let ue in xe){let{width:Te,height:Oe,x:ze,y:rt,sdf:dt,pixelRatio:Ct,stretchX:qt,stretchY:St,content:bt,textFitWidth:Yt,textFitHeight:xr}=xe[ue];fe[ge][ue]={data:null,pixelRatio:Ct,sdf:dt,stretchX:qt,stretchY:St,content:bt,textFitWidth:Yt,textFitHeight:xr,spriteData:{width:Te,height:Oe,x:ze,y:rt,context:ye}}}}return fe})}(G,X)})}(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(x=>{if(this._spriteRequest=null,x)for(let C in x){this._spritesImagesIds[C]=[];let D=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(N=>!(N in x)):[];for(let N of D)this.imageManager.removeImage(N),this._changedImages[N]=!0;for(let N in x[C]){let F=C==="default"?N:`${C}:${N}`;this._spritesImagesIds[C].push(F),F in this.imageManager.images?this.imageManager.updateImage(F,x[C][N],!1):this.imageManager.addImage(F,x[C][N]),p&&(this._changedImages[F]=!0)}}}).catch(x=>{this._spriteRequest=null,y=x,this.fire(new o.j(y))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),g&&g(y)})}_unloadSprite(){for(let s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(s){let p=this.sourceCaches[s.source];if(!p)return;let g=s.sourceLayer;if(!g)return;let y=p.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(g)===-1)&&this.fire(new o.j(new Error(`Source layer "${g}" does not exist on source "${y.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,p=!1){let g=this._serializedAllLayers();if(!s||s.length===0)return Object.values(p?o.aB(g):g);let y=[];for(let x of s)if(g[x]){let C=p?o.aB(g[x]):g[x];y.push(C)}return y}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};let p=Object.keys(this._layers);for(let g of p){let y=this._layers[g];y.type!=="custom"&&(s[g]=y.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(let s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(let s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;let p=this._changed;if(p){let y=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(y.length||x.length)&&this._updateWorkerLayers(y,x);for(let C in this._updatedSources){let D=this._updatedSources[C];if(D==="reload")this._reloadSource(C);else{if(D!=="clear")throw new Error(`Invalid action ${D}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let C in this._updatedPaintProps)this._layers[C].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}let g={};for(let y in this.sourceCaches){let x=this.sourceCaches[y];g[y]=x.used,x.used=!1}for(let y of this._order){let x=this._layers[y];x.recalculate(s,this._availableImages),!x.isHidden(s.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(let y in g){let x=this.sourceCaches[y];!!g[y]!=!!x.used&&x.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(s),this.sky.recalculate(s),this.z=s.zoom,p&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){let s=Object.keys(this._changedImages);if(s.length){for(let p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,p){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,p={}){var g;this._checkLoaded();let y=this.serialize();if(s=p.transformStyle?p.transformStyle(y,s):s,((g=p.validate)===null||g===void 0||g)&&yl(this,o.u(s)))return!1;(s=o.aB(s)).layers=o.az(s.layers);let x=o.aC(y,s),C=this._getOperationsToPerform(x);if(C.unimplemented.length>0)throw new Error(`Unimplemented: ${C.unimplemented.join(", ")}.`);if(C.operations.length===0)return!1;for(let D of C.operations)D();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){let p=[],g=[];for(let y of s)switch(y.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,y.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,y.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,y.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,y.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,y.args));break;case"addSource":p.push(()=>this.addSource.apply(this,y.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,y.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,y.args));break;case"setLight":p.push(()=>this.setLight.apply(this,y.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,y.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,y.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,y.args));break;case"setSky":p.push(()=>this.setSky.apply(this,y.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,y.args));break;case"setTransition":p.push(()=>{});break;default:g.push(y.command);}return{operations:p,unimplemented:g}}addImage(s,p){if(this.getImage(s))return this.fire(new o.j(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,p),this._afterImageUpdated(s)}updateImage(s,p){this.imageManager.updateImage(s,p)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new o.j(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,p,g={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(o.u.source,`sources.${s}`,p,null,g))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);let y=this.sourceCaches[s]=new hr(s,p,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:s})),y.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(let g in this._layers)if(this._layers[g].source===s)return this.fire(new o.j(new Error(`Source "${s}" cannot be removed while layer "${g}" is using it.`)));let p=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],p.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,p){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);let g=this.sourceCaches[s].getSource();if(g.type!=="geojson")throw new Error(`geojsonSource.type is ${g.type}, which is !== 'geojson`);g.setData(p),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,p,g={}){this._checkLoaded();let y=s.id;if(this.getLayer(y))return void this.fire(new o.j(new Error(`Layer "${y}" already exists on this map.`)));let x;if(s.type==="custom"){if(yl(this,o.aD(s)))return;x=o.aA(s)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(y,s.source),s=o.aB(s),s=o.e(s,{source:y})),this._validate(o.u.layer,`layers.${y}`,s,{arrayIndex:-1},g))return;x=o.aA(s),this._validateLayer(x),x.setEventedParent(this,{layer:{id:y}})}let C=p?this._order.indexOf(p):this._order.length;if(p&&C===-1)this.fire(new o.j(new Error(`Cannot add layer "${y}" before non-existing layer "${p}".`)));else{if(this._order.splice(C,0,y),this._layerOrderChanged=!0,this._layers[y]=x,this._removedLayers[y]&&x.source&&x.type!=="custom"){let D=this._removedLayers[y];delete this._removedLayers[y],D.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(s,p){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new o.j(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===p)return;let g=this._order.indexOf(s);this._order.splice(g,1);let y=p?this._order.indexOf(p):this._order.length;p&&y===-1?this.fire(new o.j(new Error(`Cannot move layer "${s}" before non-existing layer "${p}".`))):(this._order.splice(y,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();let p=this._layers[s];if(!p)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${s}".`)));p.setEventedParent(null);let g=this._order.indexOf(s);this._order.splice(g,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=p,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],p.onRemove&&p.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,p,g){this._checkLoaded();let y=this.getLayer(s);y?y.minzoom===p&&y.maxzoom===g||(p!=null&&(y.minzoom=p),g!=null&&(y.maxzoom=g),this._updateLayer(y)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,p,g={}){this._checkLoaded();let y=this.getLayer(s);if(y){if(!o.aE(y.filter,p))return p==null?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(o.u.filter,`layers.${y.id}.filter`,p,null,g)||(y.filter=o.aB(p),this._updateLayer(y)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return o.aB(this.getLayer(s).filter)}setLayoutProperty(s,p,g,y={}){this._checkLoaded();let x=this.getLayer(s);x?o.aE(x.getLayoutProperty(p),g)||(x.setLayoutProperty(p,g,y),this._updateLayer(x)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,p){let g=this.getLayer(s);if(g)return g.getLayoutProperty(p);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,p,g,y={}){this._checkLoaded();let x=this.getLayer(s);x?o.aE(x.getPaintProperty(p),g)||(x.setPaintProperty(p,g,y)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[s]=!0,this._serializedLayers=null):this.fire(new o.j(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,p){return this.getLayer(s).getPaintProperty(p)}setFeatureState(s,p){this._checkLoaded();let g=s.source,y=s.sourceLayer,x=this.sourceCaches[g];if(x===void 0)return void this.fire(new o.j(new Error(`The source '${g}' does not exist in the map's style.`)));let C=x.getSource().type;C==="geojson"&&y?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||y?(s.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(y,s.id,p)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,p){this._checkLoaded();let g=s.source,y=this.sourceCaches[g];if(y===void 0)return void this.fire(new o.j(new Error(`The source '${g}' does not exist in the map's style.`)));let x=y.getSource().type,C=x==="vector"?s.sourceLayer:void 0;x!=="vector"||C?p&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(C,s.id,p):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();let p=s.source,g=s.sourceLayer,y=this.sourceCaches[p];if(y!==void 0)return y.getSource().type!=="vector"||g?(s.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),y.getFeatureState(g,s.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let s=o.aF(this.sourceCaches,x=>x.serialize()),p=this._serializeByIds(this._order,!0),g=this.map.getTerrain()||void 0,y=this.stylesheet;return o.aG({version:y.version,name:y.name,metadata:y.metadata,light:y.light,sky:y.sky,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:s,layers:p,terrain:g},x=>x!==void 0)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){let p=C=>this._layers[C].type==="fill-extrusion",g={},y=[];for(let C=this._order.length-1;C>=0;C--){let D=this._order[C];if(p(D)){g[D]=C;for(let N of s){let F=N[D];if(F)for(let V of F)y.push(V)}}}y.sort((C,D)=>D.intersectionZ-C.intersectionZ);let x=[];for(let C=this._order.length-1;C>=0;C--){let D=this._order[C];if(p(D))for(let N=y.length-1;N>=0;N--){let F=y[N].feature;if(g[F.layer.id]<C)break;x.push(F),y.pop()}else for(let N of s){let F=N[D];if(F)for(let V of F)x.push(V.feature)}}return x}queryRenderedFeatures(s,p,g){p&&p.filter&&this._validate(o.u.filter,"queryRenderedFeatures.filter",p.filter,null,p);let y={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(let D of p.layers){let N=this._layers[D];if(!N)return this.fire(new o.j(new Error(`The layer '${D}' does not exist in the map's style and cannot be queried for features.`))),[];y[N.source]=!0}}let x=[];p.availableImages=this._availableImages;let C=this._serializedAllLayers();for(let D in this.sourceCaches)p.layers&&!y[D]||x.push(yt(this.sourceCaches[D],this._layers,C,s,p,g));return this.placement&&x.push(function(D,N,F,V,G,X,ie){let le={},fe=X.queryRenderedSymbols(V),ge=[];for(let ye of Object.keys(fe).map(Number))ge.push(ie[ye]);ge.sort(_t);for(let ye of ge){let xe=ye.featureIndex.lookupSymbolFeatures(fe[ye.bucketInstanceId],N,ye.bucketIndex,ye.sourceLayerIndex,G.filter,G.layers,G.availableImages,D);for(let ue in xe){let Te=le[ue]=le[ue]||[],Oe=xe[ue];Oe.sort((ze,rt)=>{let dt=ye.featureSortOrder;if(dt){let Ct=dt.indexOf(ze.featureIndex);return dt.indexOf(rt.featureIndex)-Ct}return rt.featureIndex-ze.featureIndex});for(let ze of Oe)Te.push(ze)}}for(let ye in le)le[ye].forEach(xe=>{let ue=xe.feature,Te=F[D[ye].source].getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=Te});return le}(this._layers,C,this.sourceCaches,s,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(s,p){p&&p.filter&&this._validate(o.u.filter,"querySourceFeatures.filter",p.filter,null,p);let g=this.sourceCaches[s];return g?function(y,x){let C=y.getRenderableIds().map(F=>y.getTileByID(F)),D=[],N={};for(let F=0;F<C.length;F++){let V=C[F],G=V.tileID.canonical.key;N[G]||(N[G]=!0,V.querySourceFeatures(D,x))}return D}(g,p):[]}getLight(){return this.light.getLight()}setLight(s,p={}){this._checkLoaded();let g=this.light.getLight(),y=!1;for(let C in s)if(!o.aE(s[C],g[C])){y=!0;break}if(!y)return;let x={now:m.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,p),this.light.updateTransitions(x)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,p={}){let g=this.getSky(),y=!1;if(!s&&!g)return;if(s&&!g)y=!0;else if(!s&&g)y=!0;else for(let C in s)if(!o.aE(s[C],g[C])){y=!0;break}if(!y)return;let x={now:m.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,p),this.sky.updateTransitions(x)}_validate(s,p,g,y,x={}){return(!x||x.validate!==!1)&&yl(this,s.call(o.u,o.e({key:p,style:this.serialize(),value:g,styleSpec:o.v},y)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Os().off(lt,this._rtlPluginLoaded);for(let p in this._layers)this._layers[p].setEventedParent(null);for(let p in this.sourceCaches){let g=this.sourceCaches[p];g.setEventedParent(null),g.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(let p in this.sourceCaches)this.sourceCaches[p].update(s,this.map.terrain)}_generateCollisionBoxes(){for(let s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,p,g,y,x=!1){let C=!1,D=!1,N={};for(let F of this._order){let V=this._layers[F];if(V.type!=="symbol")continue;if(!N[V.source]){let X=this.sourceCaches[V.source];N[V.source]=X.getRenderableIds(!0).map(ie=>X.getTileByID(ie)).sort((ie,le)=>le.tileID.overscaledZ-ie.tileID.overscaledZ||(ie.tileID.isLessThan(le.tileID)?-1:1))}let G=this.crossTileSymbolIndex.addLayer(V,N[V.source],s.center.lng);C=C||G}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||g===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(m.now(),s.zoom))&&(this.pauseablePlacement=new Vm(s,this.map.terrain,this._order,x,p,g,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,N),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(m.now()),D=!0),C&&this.pauseablePlacement.placement.setStale()),D||C)for(let F of this._order){let V=this._layers[F];V.type==="symbol"&&this.placement.updateLayerOpacities(V,N[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(m.now())}_releaseSymbolFadeTiles(){for(let s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,p){return o._(this,void 0,void 0,function*(){let g=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();let y=this.sourceCaches[p.source];return y&&y.setDependencies(p.tileID.key,p.type,p.icons),g})}getGlyphs(s,p){return o._(this,void 0,void 0,function*(){let g=yield this.glyphManager.getGlyphs(p.stacks),y=this.sourceCaches[p.source];return y&&y.setDependencies(p.tileID.key,p.type,[""]),g})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,p={}){this._checkLoaded(),s&&this._validate(o.u.glyphs,"glyphs",s,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,p,g={},y){this._checkLoaded();let x=[{id:s,url:p}],C=[...oe(this.stylesheet.sprite),...x];this._validate(o.u.sprite,"sprite",C,null,g)||(this.stylesheet.sprite=C,this._loadSprite(x,!0,y))}removeSprite(s){this._checkLoaded();let p=oe(this.stylesheet.sprite);if(p.find(g=>g.id===s)){if(this._spritesImagesIds[s])for(let g of this._spritesImagesIds[s])this.imageManager.removeImage(g),this._changedImages[g]=!0;p.splice(p.findIndex(g=>g.id===s),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return oe(this.stylesheet.sprite)}setSprite(s,p={},g){this._checkLoaded(),s&&this._validate(o.u.sprite,"sprite",s,null,p)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,g):(this._unloadSprite(),g&&g(null)))}}var Zf=o.Y([{name:"a_pos",type:"Int16",components:2}]);let kc={prelude:vn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:vn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:vn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:vn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:vn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:vn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:vn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:vn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:vn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:vn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:vn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:vn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:vn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:vn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:vn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:vn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:vn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:vn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:vn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:vn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:vn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function vn(b,s){let p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,g=s.match(/attribute ([\w]+) ([\w]+)/g),y=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=x?x.concat(y):y,D={};return{fragmentSource:b=b.replace(p,(N,F,V,G,X)=>(D[X]=!0,F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${V} ${G} ${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = u_${X};
#endif
`)),vertexSource:s=s.replace(p,(N,F,V,G,X)=>{let ie=G==="float"?"vec2":"vec4",le=X.match(/color/)?"color":ie;return D[X]?F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${V} ${ie} a_${X};
varying ${V} ${G} ${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${le}(a_${X}, u_${X}_t);
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${V} ${ie} a_${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = a_${X};
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = unpack_mix_${le}(a_${X}, u_${X}_t);
#else
    ${V} ${G} ${X} = u_${X};
#endif
`}),staticAttributes:g,staticUniforms:C}}class Lx{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,p,g,y,x,C,D,N,F){this.context=s;let V=this.boundPaintVertexBuffers.length!==y.length;for(let G=0;!V&&G<y.length;G++)this.boundPaintVertexBuffers[G]!==y[G]&&(V=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==g||V||this.boundIndexBuffer!==x||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==D||this.boundDynamicVertexBuffer2!==N||this.boundDynamicVertexBuffer3!==F?this.freshBind(p,g,y,x,C,D,N,F):(s.bindVertexArray.set(this.vao),D&&D.bind(),x&&x.dynamicDraw&&x.bind(),N&&N.bind(),F&&F.bind())}freshBind(s,p,g,y,x,C,D,N){let F=s.numAttributes,V=this.context,G=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=g,this.boundIndexBuffer=y,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=D,this.boundDynamicVertexBuffer3=N,p.enableAttributes(G,s);for(let X of g)X.enableAttributes(G,s);C&&C.enableAttributes(G,s),D&&D.enableAttributes(G,s),N&&N.enableAttributes(G,s),p.bind(),p.setVertexAttribPointers(G,s,x);for(let X of g)X.bind(),X.setVertexAttribPointers(G,s,x);C&&(C.bind(),C.setVertexAttribPointers(G,s,x)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(G,s,x)),N&&(N.bind(),N.setVertexAttribPointers(G,s,x)),V.currentNumAttributes=F}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let Px=(b,s,p,g,y)=>({u_matrix:b,u_texture:0,u_ele_delta:s,u_fog_matrix:p,u_fog_color:g?g.properties.get("fog-color"):o.aM.white,u_fog_ground_blend:g?g.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:g?g.calculateFogBlendOpacity(y):0,u_horizon_color:g?g.properties.get("horizon-color"):o.aM.white,u_horizon_fog_blend:g?g.properties.get("horizon-fog-blend"):1});function wd(b){let s=[];for(let p=0;p<b.length;p++){if(b[p]===null)continue;let g=b[p].split(" ");s.push(g.pop())}return s}class Nx{constructor(s,p,g,y,x,C){let D=s.gl;this.program=D.createProgram();let N=wd(p.staticAttributes),F=g?g.getBinderAttributes():[],V=N.concat(F),G=kc.prelude.staticUniforms?wd(kc.prelude.staticUniforms):[],X=p.staticUniforms?wd(p.staticUniforms):[],ie=g?g.getBinderUniforms():[],le=G.concat(X).concat(ie),fe=[];for(let ze of le)fe.indexOf(ze)<0&&fe.push(ze);let ge=g?g.defines():[];x&&ge.push("#define OVERDRAW_INSPECTOR;"),C&&ge.push("#define TERRAIN3D;");let ye=ge.concat(kc.prelude.fragmentSource,p.fragmentSource).join(`
`),xe=ge.concat(kc.prelude.vertexSource,p.vertexSource).join(`
`),ue=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);if(D.shaderSource(ue,ye),D.compileShader(ue),!D.getShaderParameter(ue,D.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${D.getShaderInfoLog(ue)}`);D.attachShader(this.program,ue);let Te=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);if(D.shaderSource(Te,xe),D.compileShader(Te),!D.getShaderParameter(Te,D.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${D.getShaderInfoLog(Te)}`);D.attachShader(this.program,Te),this.attributes={};let Oe={};this.numAttributes=V.length;for(let ze=0;ze<this.numAttributes;ze++)V[ze]&&(D.bindAttribLocation(this.program,ze,V[ze]),this.attributes[V[ze]]=ze);if(D.linkProgram(this.program),!D.getProgramParameter(this.program,D.LINK_STATUS))throw new Error(`Program failed to link: ${D.getProgramInfoLog(this.program)}`);D.deleteShader(Te),D.deleteShader(ue);for(let ze=0;ze<fe.length;ze++){let rt=fe[ze];if(rt&&!Oe[rt]){let dt=D.getUniformLocation(this.program,rt);dt&&(Oe[rt]=dt)}}this.fixedUniforms=y(s,Oe),this.terrainUniforms=((ze,rt)=>({u_depth:new o.aH(ze,rt.u_depth),u_terrain:new o.aH(ze,rt.u_terrain),u_terrain_dim:new o.aI(ze,rt.u_terrain_dim),u_terrain_matrix:new o.aJ(ze,rt.u_terrain_matrix),u_terrain_unpack:new o.aK(ze,rt.u_terrain_unpack),u_terrain_exaggeration:new o.aI(ze,rt.u_terrain_exaggeration)}))(s,Oe),this.binderUniforms=g?g.getUniforms(s,Oe):[]}draw(s,p,g,y,x,C,D,N,F,V,G,X,ie,le,fe,ge,ye,xe){let ue=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(g),s.setStencilMode(y),s.setColorMode(x),s.setCullFace(C),N){s.activeTexture.set(ue.TEXTURE2),ue.bindTexture(ue.TEXTURE_2D,N.depthTexture),s.activeTexture.set(ue.TEXTURE3),ue.bindTexture(ue.TEXTURE_2D,N.texture);for(let Oe in this.terrainUniforms)this.terrainUniforms[Oe].set(N[Oe])}for(let Oe in this.fixedUniforms)this.fixedUniforms[Oe].set(D[Oe]);fe&&fe.setUniforms(s,this.binderUniforms,ie,{zoom:le});let Te=0;switch(p){case ue.LINES:Te=2;break;case ue.TRIANGLES:Te=3;break;case ue.LINE_STRIP:Te=1;}for(let Oe of X.get()){let ze=Oe.vaos||(Oe.vaos={});(ze[F]||(ze[F]=new Lx)).bind(s,this,V,fe?fe.getPaintVertexBuffers():[],G,Oe.vertexOffset,ge,ye,xe),ue.drawElements(p,Oe.primitiveLength*Te,ue.UNSIGNED_SHORT,Oe.primitiveOffset*Te*2)}}}function my(b,s,p){let g=1/Zr(p,1,s.transform.tileZoom),y=Math.pow(2,p.tileID.overscaledZ),x=p.tileSize*Math.pow(2,s.transform.tileZoom)/y,C=x*(p.tileID.canonical.x+p.tileID.wrap*y),D=x*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[g,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[C>>16,D>>16],u_pixel_coord_lower:[65535&C,65535&D]}}let Gm=(b,s,p,g)=>{let y=s.style.light,x=y.properties.get("position"),C=[x.x,x.y,x.z],D=function(){var F=new o.A(9);return o.A!=Float32Array&&(F[1]=0,F[2]=0,F[3]=0,F[5]=0,F[6]=0,F[7]=0),F[0]=1,F[4]=1,F[8]=1,F}();y.properties.get("anchor")==="viewport"&&function(F,V){var G=Math.sin(V),X=Math.cos(V);F[0]=X,F[1]=G,F[2]=0,F[3]=-G,F[4]=X,F[5]=0,F[6]=0,F[7]=0,F[8]=1}(D,-s.transform.angle),function(F,V,G){var X=V[0],ie=V[1],le=V[2];F[0]=X*G[0]+ie*G[3]+le*G[6],F[1]=X*G[1]+ie*G[4]+le*G[7],F[2]=X*G[2]+ie*G[5]+le*G[8]}(C,C,D);let N=y.properties.get("color");return{u_matrix:b,u_lightpos:C,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+p,u_opacity:g}},gy=(b,s,p,g,y,x,C)=>o.e(Gm(b,s,p,g),my(x,s,C),{u_height_factor:-Math.pow(2,y.overscaledZ)/C.tileSize/8}),Sd=b=>({u_matrix:b}),M2=(b,s,p,g)=>o.e(Sd(b),my(p,s,g)),$k=(b,s)=>({u_matrix:b,u_world:s}),C2=(b,s,p,g,y)=>o.e(M2(b,s,p,g),{u_world:y}),Wk=(b,s,p,g)=>{let y=b.transform,x,C;if(g.paint.get("circle-pitch-alignment")==="map"){let D=Zr(p,1,y.zoom);x=!0,C=[D,D]}else x=!1,C=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(g.paint.get("circle-pitch-scale")==="map"),u_matrix:b.translatePosMatrix(s.posMatrix,p,g.paint.get("circle-translate"),g.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:C}},Yf=(b,s,p)=>({u_matrix:b,u_inv_matrix:s,u_camera_to_center_distance:p.cameraToCenterDistance,u_viewport_size:[p.width,p.height]}),Hm=(b,s,p=1)=>({u_matrix:b,u_color:s,u_overlay:0,u_overlay_scale:p}),Aa=b=>({u_matrix:b}),Ma=(b,s,p,g)=>({u_matrix:b,u_extrude_scale:Zr(s,1,p),u_intensity:g}),vy=(b,s,p,g)=>{let y=o.H();o.aP(y,0,b.width,b.height,0,0,1);let x=b.context.gl;return{u_matrix:y,u_world:[x.drawingBufferWidth,x.drawingBufferHeight],u_image:p,u_color_ramp:g,u_opacity:s.paint.get("heatmap-opacity")}};function yy(b,s){let p=Math.pow(2,s.canonical.z),g=s.canonical.y;return[new o.Z(0,g/p).toLngLat().lat,new o.Z(0,(g+1)/p).toLngLat().lat]}let _y=(b,s,p,g)=>{let y=b.transform;return{u_matrix:L2(b,s,p,g),u_ratio:1/Zr(s,1,y.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},O2=(b,s,p,g,y)=>o.e(_y(b,s,p,y),{u_image:0,u_image_height:g}),Ed=(b,s,p,g,y)=>{let x=b.transform,C=D2(s,x);return{u_matrix:L2(b,s,p,y),u_texsize:s.imageAtlasTexture.size,u_ratio:1/Zr(s,1,x.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[C,g.fromScale,g.toScale],u_fade:g.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Zk=(b,s,p,g,y,x)=>{let C=b.lineAtlas,D=D2(s,b.transform),N=p.layout.get("line-cap")==="round",F=C.getDash(g.from,N),V=C.getDash(g.to,N),G=F.width*y.fromScale,X=V.width*y.toScale;return o.e(_y(b,s,p,x),{u_patternscale_a:[D/G,-F.height/2],u_patternscale_b:[D/X,-V.height/2],u_sdfgamma:C.width/(256*Math.min(G,X)*b.pixelRatio)/2,u_image:0,u_tex_y_a:F.y,u_tex_y_b:V.y,u_mix:y.t})};function D2(b,s){return 1/Zr(b,1,s.tileZoom)}function L2(b,s,p,g){return b.translatePosMatrix(g?g.posMatrix:s.tileID.posMatrix,s,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}let Yk=(b,s,p,g,y)=>{return{u_matrix:b,u_tl_parent:s,u_scale_parent:p,u_buffer_scale:1,u_fade_t:g.mix,u_opacity:g.opacity*y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:y.paint.get("raster-brightness-min"),u_brightness_high:y.paint.get("raster-brightness-max"),u_saturation_factor:(C=y.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(x=y.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Kk(y.paint.get("raster-hue-rotate"))};var x,C};function Kk(b){b*=Math.PI/180;let s=Math.sin(b),p=Math.cos(b);return[(2*p+1)/3,(-Math.sqrt(3)*s-p+1)/3,(Math.sqrt(3)*s-p+1)/3]}let P2=(b,s,p,g,y,x,C,D,N,F,V,G,X,ie)=>{let le=C.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:le.cameraToCenterDistance,u_pitch:le.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:le.width/le.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:D,u_label_plane_matrix:N,u_coord_matrix:F,u_is_text:+G,u_pitch_with_map:+g,u_is_along_line:y,u_is_variable_anchor:x,u_texsize:X,u_texture:0,u_translation:V,u_pitched_scale:ie}},$m=(b,s,p,g,y,x,C,D,N,F,V,G,X,ie,le)=>{let fe=C.transform;return o.e(P2(b,s,p,g,y,x,C,D,N,F,V,G,X,le),{u_gamma_scale:g?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:C.pixelRatio,u_is_halo:+ie})},Rx=(b,s,p,g,y,x,C,D,N,F,V,G,X,ie)=>o.e($m(b,s,p,g,y,x,C,D,N,F,V,!0,G,!0,ie),{u_texsize_icon:X,u_texture_icon:1}),xy=(b,s,p)=>({u_matrix:b,u_opacity:s,u_color:p}),kx=(b,s,p,g,y,x)=>o.e(function(C,D,N,F){let V=N.imageManager.getPattern(C.from.toString()),G=N.imageManager.getPattern(C.to.toString()),{width:X,height:ie}=N.imageManager.getPixelSize(),le=Math.pow(2,F.tileID.overscaledZ),fe=F.tileSize*Math.pow(2,N.transform.tileZoom)/le,ge=fe*(F.tileID.canonical.x+F.tileID.wrap*le),ye=fe*F.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:V.tl,u_pattern_br_a:V.br,u_pattern_tl_b:G.tl,u_pattern_br_b:G.br,u_texsize:[X,ie],u_mix:D.t,u_pattern_size_a:V.displaySize,u_pattern_size_b:G.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/Zr(F,1,N.transform.tileZoom),u_pixel_coord_upper:[ge>>16,ye>>16],u_pixel_coord_lower:[65535&ge,65535&ye]}}(g,x,p,y),{u_matrix:b,u_opacity:s}),qx={fillExtrusion:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_lightpos:new o.aN(b,s.u_lightpos),u_lightintensity:new o.aI(b,s.u_lightintensity),u_lightcolor:new o.aN(b,s.u_lightcolor),u_vertical_gradient:new o.aI(b,s.u_vertical_gradient),u_opacity:new o.aI(b,s.u_opacity)}),fillExtrusionPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_lightpos:new o.aN(b,s.u_lightpos),u_lightintensity:new o.aI(b,s.u_lightintensity),u_lightcolor:new o.aN(b,s.u_lightcolor),u_vertical_gradient:new o.aI(b,s.u_vertical_gradient),u_height_factor:new o.aI(b,s.u_height_factor),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade),u_opacity:new o.aI(b,s.u_opacity)}),fill:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix)}),fillPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),fillOutline:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world)}),fillOutlinePattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),circle:(b,s)=>({u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_scale_with_map:new o.aH(b,s.u_scale_with_map),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_extrude_scale:new o.aO(b,s.u_extrude_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_matrix:new o.aJ(b,s.u_matrix)}),collisionBox:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_pixel_extrude_scale:new o.aO(b,s.u_pixel_extrude_scale)}),collisionCircle:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_inv_matrix:new o.aJ(b,s.u_inv_matrix),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_viewport_size:new o.aO(b,s.u_viewport_size)}),debug:(b,s)=>({u_color:new o.aL(b,s.u_color),u_matrix:new o.aJ(b,s.u_matrix),u_overlay:new o.aH(b,s.u_overlay),u_overlay_scale:new o.aI(b,s.u_overlay_scale)}),clippingMask:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix)}),heatmap:(b,s)=>({u_extrude_scale:new o.aI(b,s.u_extrude_scale),u_intensity:new o.aI(b,s.u_intensity),u_matrix:new o.aJ(b,s.u_matrix)}),heatmapTexture:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world),u_image:new o.aH(b,s.u_image),u_color_ramp:new o.aH(b,s.u_color_ramp),u_opacity:new o.aI(b,s.u_opacity)}),hillshade:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_latrange:new o.aO(b,s.u_latrange),u_light:new o.aO(b,s.u_light),u_shadow:new o.aL(b,s.u_shadow),u_highlight:new o.aL(b,s.u_highlight),u_accent:new o.aL(b,s.u_accent)}),hillshadePrepare:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_dimension:new o.aO(b,s.u_dimension),u_zoom:new o.aI(b,s.u_zoom),u_unpack:new o.aK(b,s.u_unpack)}),line:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels)}),lineGradient:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_image:new o.aH(b,s.u_image),u_image_height:new o.aI(b,s.u_image_height)}),linePattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texsize:new o.aO(b,s.u_texsize),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_image:new o.aH(b,s.u_image),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),lineSDF:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_patternscale_a:new o.aO(b,s.u_patternscale_a),u_patternscale_b:new o.aO(b,s.u_patternscale_b),u_sdfgamma:new o.aI(b,s.u_sdfgamma),u_image:new o.aH(b,s.u_image),u_tex_y_a:new o.aI(b,s.u_tex_y_a),u_tex_y_b:new o.aI(b,s.u_tex_y_b),u_mix:new o.aI(b,s.u_mix)}),raster:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_tl_parent:new o.aO(b,s.u_tl_parent),u_scale_parent:new o.aI(b,s.u_scale_parent),u_buffer_scale:new o.aI(b,s.u_buffer_scale),u_fade_t:new o.aI(b,s.u_fade_t),u_opacity:new o.aI(b,s.u_opacity),u_image0:new o.aH(b,s.u_image0),u_image1:new o.aH(b,s.u_image1),u_brightness_low:new o.aI(b,s.u_brightness_low),u_brightness_high:new o.aI(b,s.u_brightness_high),u_saturation_factor:new o.aI(b,s.u_saturation_factor),u_contrast_factor:new o.aI(b,s.u_contrast_factor),u_spin_weights:new o.aN(b,s.u_spin_weights)}),symbolIcon:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texture:new o.aH(b,s.u_texture),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),symbolSDF:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texture:new o.aH(b,s.u_texture),u_gamma_scale:new o.aI(b,s.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_is_halo:new o.aH(b,s.u_is_halo),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),symbolTextAndIcon:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texsize_icon:new o.aO(b,s.u_texsize_icon),u_texture:new o.aH(b,s.u_texture),u_texture_icon:new o.aH(b,s.u_texture_icon),u_gamma_scale:new o.aI(b,s.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_is_halo:new o.aH(b,s.u_is_halo),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),background:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_opacity:new o.aI(b,s.u_opacity),u_color:new o.aL(b,s.u_color)}),backgroundPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_opacity:new o.aI(b,s.u_opacity),u_image:new o.aH(b,s.u_image),u_pattern_tl_a:new o.aO(b,s.u_pattern_tl_a),u_pattern_br_a:new o.aO(b,s.u_pattern_br_a),u_pattern_tl_b:new o.aO(b,s.u_pattern_tl_b),u_pattern_br_b:new o.aO(b,s.u_pattern_br_b),u_texsize:new o.aO(b,s.u_texsize),u_mix:new o.aI(b,s.u_mix),u_pattern_size_a:new o.aO(b,s.u_pattern_size_a),u_pattern_size_b:new o.aO(b,s.u_pattern_size_b),u_scale_a:new o.aI(b,s.u_scale_a),u_scale_b:new o.aI(b,s.u_scale_b),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aI(b,s.u_tile_units_to_pixels)}),terrain:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texture:new o.aH(b,s.u_texture),u_ele_delta:new o.aI(b,s.u_ele_delta),u_fog_matrix:new o.aJ(b,s.u_fog_matrix),u_fog_color:new o.aL(b,s.u_fog_color),u_fog_ground_blend:new o.aI(b,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.aI(b,s.u_fog_ground_blend_opacity),u_horizon_color:new o.aL(b,s.u_horizon_color),u_horizon_fog_blend:new o.aI(b,s.u_horizon_fog_blend)}),terrainDepth:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ele_delta:new o.aI(b,s.u_ele_delta)}),terrainCoords:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texture:new o.aH(b,s.u_texture),u_terrain_coords_id:new o.aI(b,s.u_terrain_coords_id),u_ele_delta:new o.aI(b,s.u_ele_delta)}),sky:(b,s)=>({u_sky_color:new o.aL(b,s.u_sky_color),u_horizon_color:new o.aL(b,s.u_horizon_color),u_horizon:new o.aI(b,s.u_horizon),u_sky_horizon_blend:new o.aI(b,s.u_sky_horizon_blend)})};class Yl{constructor(s,p,g){this.context=s;let y=s.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!g,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){let p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Xk={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class jx{constructor(s,p,g,y){this.length=p.length,this.attributes=g,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=s;let x=s.gl;this.buffer=x.createBuffer(),s.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);let p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,p){for(let g=0;g<this.attributes.length;g++){let y=p.attributes[this.attributes[g].name];y!==void 0&&s.enableVertexAttribArray(y)}}setVertexAttribPointers(s,p,g){for(let y=0;y<this.attributes.length;y++){let x=this.attributes[y],C=p.attributes[x.name];C!==void 0&&s.vertexAttribPointer(C,x.components,s[Xk[x.type]],!1,this.itemSize,x.offset+this.itemSize*(g||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Kf=new WeakMap;function qc(b){var s;if(Kf.has(b))return Kf.get(b);{let p=(s=b.getParameter(b.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return Kf.set(b,p),p}}class Sn{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class by extends Sn{getDefault(){return o.aM.transparent}set(s){let p=this.current;(s.r!==p.r||s.g!==p.g||s.b!==p.b||s.a!==p.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Qk extends Sn{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Id extends Sn{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class Jk extends Sn{getDefault(){return[!0,!0,!0,!0]}set(s){let p=this.current;(s[0]!==p[0]||s[1]!==p[1]||s[2]!==p[2]||s[3]!==p[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class N2 extends Sn{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class e3 extends Sn{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class R2 extends Sn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){let p=this.current;(s.func!==p.func||s.ref!==p.ref||s.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class zx extends Sn{getDefault(){let s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){let p=this.current;(s[0]!==p[0]||s[1]!==p[1]||s[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class k2 extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;s?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=s,this.dirty=!1}}class q2 extends Sn{getDefault(){return[0,1]}set(s){let p=this.current;(s[0]!==p[0]||s[1]!==p[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class j2 extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;s?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=s,this.dirty=!1}}class z2 extends Sn{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class Xf extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;s?p.enable(p.BLEND):p.disable(p.BLEND),this.current=s,this.dirty=!1}}class F2 extends Sn{getDefault(){let s=this.gl;return[s.ONE,s.ZERO]}set(s){let p=this.current;(s[0]!==p[0]||s[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class t3 extends Sn{getDefault(){return o.aM.transparent}set(s){let p=this.current;(s.r!==p.r||s.g!==p.g||s.b!==p.b||s.a!==p.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class B2 extends Sn{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class Wm extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;s?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=s,this.dirty=!1}}class r3 extends Sn{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class wy extends Sn{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class n3 extends Sn{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class i3 extends Sn{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class U2 extends Sn{getDefault(){let s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){let p=this.current;(s[0]!==p[0]||s[1]!==p[1]||s[2]!==p[2]||s[3]!==p[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class V2 extends Sn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class G2 extends Sn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Fx extends Sn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.bindTexture(p.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class H2 extends Sn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class Sy extends Sn{getDefault(){return null}set(s){let p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class Qu extends Sn{getDefault(){return null}set(s){var p;if(s===this.current&&!this.dirty)return;let g=this.gl;qc(g)?g.bindVertexArray(s):(p=g.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Bx extends Sn{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class Ux extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class Vx extends Sn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class Ey extends Sn{constructor(s,p){super(s),this.context=s,this.parent=p}getDefault(){return null}}class Gx extends Ey{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class Qf extends Ey{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Hx extends Ey{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class o3{constructor(s,p,g,y,x){this.context=s,this.width=p,this.height=g;let C=s.gl,D=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new Gx(s,D),y)this.depthAttachment=x?new Hx(s,D):new Qf(s,D);else if(x)throw new Error("Stencil cannot be set without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){let s=this.context.gl,p=this.colorAttachment.get();if(p&&s.deleteTexture(p),this.depthAttachment){let g=this.depthAttachment.get();g&&s.deleteRenderbuffer(g)}s.deleteFramebuffer(this.framebuffer)}}class Oi{constructor(s,p,g){this.blendFunction=s,this.blendColor=p,this.mask=g}}Oi.Replace=[1,0],Oi.disabled=new Oi(Oi.Replace,o.aM.transparent,[!1,!1,!1,!1]),Oi.unblended=new Oi(Oi.Replace,o.aM.transparent,[!0,!0,!0,!0]),Oi.alphaBlended=new Oi([1,771],o.aM.transparent,[!0,!0,!0,!0]);class a3{constructor(s){var p,g;if(this.gl=s,this.clearColor=new by(this),this.clearDepth=new Qk(this),this.clearStencil=new Id(this),this.colorMask=new Jk(this),this.depthMask=new N2(this),this.stencilMask=new e3(this),this.stencilFunc=new R2(this),this.stencilOp=new zx(this),this.stencilTest=new k2(this),this.depthRange=new q2(this),this.depthTest=new j2(this),this.depthFunc=new z2(this),this.blend=new Xf(this),this.blendFunc=new F2(this),this.blendColor=new t3(this),this.blendEquation=new B2(this),this.cullFace=new Wm(this),this.cullFaceSide=new r3(this),this.frontFace=new wy(this),this.program=new n3(this),this.activeTexture=new i3(this),this.viewport=new U2(this),this.bindFramebuffer=new V2(this),this.bindRenderbuffer=new G2(this),this.bindTexture=new Fx(this),this.bindVertexBuffer=new H2(this),this.bindElementBuffer=new Sy(this),this.bindVertexArray=new Qu(this),this.pixelStoreUnpack=new Bx(this),this.pixelStoreUnpackPremultiplyAlpha=new Ux(this),this.pixelStoreUnpackFlipY=new Vx(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),qc(s)){this.HALF_FLOAT=s.HALF_FLOAT;let y=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=s.RGBA16F)!==null&&p!==void 0?p:y==null?void 0:y.RGBA16F_EXT,this.RGB16F=(g=s.RGB16F)!==null&&g!==void 0?g:y==null?void 0:y.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");let y=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=y==null?void 0:y.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,p){return new Yl(this,s,p)}createVertexBuffer(s,p,g){return new jx(this,s,p,g)}createRenderbuffer(s,p,g){let y=this.gl,x=y.createRenderbuffer();return this.bindRenderbuffer.set(x),y.renderbufferStorage(y.RENDERBUFFER,s,p,g),this.bindRenderbuffer.set(null),x}createFramebuffer(s,p,g,y){return new o3(this,s,p,g,y)}clear({color:s,depth:p,stencil:g}){let y=this.gl,x=0;s&&(x|=y.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(x|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),g!==void 0&&(x|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(g),this.stencilMask.set(255)),y.clear(x)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){o.aE(s.blendFunction,Oi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return qc(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var p;return qc(this.gl)?this.gl.deleteVertexArray(s):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}class Vr{constructor(s,p,g){this.func=s,this.mask=p,this.range=g}}Vr.ReadOnly=!1,Vr.ReadWrite=!0,Vr.disabled=new Vr(519,Vr.ReadOnly,[0,1]);let Iy=7680;class Wn{constructor(s,p,g,y,x,C){this.test=s,this.ref=p,this.mask=g,this.fail=y,this.depthFail=x,this.pass=C}}Wn.disabled=new Wn({func:519,mask:0},0,0,Iy,Iy,Iy);class Rn{constructor(s,p,g){this.enable=s,this.mode=p,this.frontFace=g}}let Jf;function Zm(b,s,p,g,y){let x=b.context,C=x.gl,D=b.useProgram("collisionBox"),N=[],F=0,V=0;for(let ye=0;ye<g.length;ye++){let xe=g[ye],ue=s.getTile(xe).getBucket(p);if(!ue)continue;let Te=y?ue.textCollisionBox:ue.iconCollisionBox,Oe=ue.collisionCircleArray;if(Oe.length>0){let ze=o.H();o.aQ(ze,ue.placementInvProjMatrix,b.transform.glCoordMatrix),o.aQ(ze,ze,ue.placementViewportMatrix),N.push({circleArray:Oe,circleOffset:V,transform:xe.posMatrix,invTransform:ze,coord:xe}),F+=Oe.length/4,V=F}Te&&D.draw(x,C.LINES,Vr.disabled,Wn.disabled,b.colorModeForRenderPass(),Rn.disabled,{u_matrix:xe.posMatrix,u_pixel_extrude_scale:[1/(G=b.transform).width,1/G.height]},b.style.map.terrain&&b.style.map.terrain.getTerrainData(xe),p.id,Te.layoutVertexBuffer,Te.indexBuffer,Te.segments,null,b.transform.zoom,null,null,Te.collisionVertexBuffer)}var G;if(!y||!N.length)return;let X=b.useProgram("collisionCircle"),ie=new o.aR;ie.resize(4*F),ie._trim();let le=0;for(let ye of N)for(let xe=0;xe<ye.circleArray.length/4;xe++){let ue=4*xe,Te=ye.circleArray[ue+0],Oe=ye.circleArray[ue+1],ze=ye.circleArray[ue+2],rt=ye.circleArray[ue+3];ie.emplace(le++,Te,Oe,ze,rt,0),ie.emplace(le++,Te,Oe,ze,rt,1),ie.emplace(le++,Te,Oe,ze,rt,2),ie.emplace(le++,Te,Oe,ze,rt,3)}(!Jf||Jf.length<2*F)&&(Jf=function(ye){let xe=2*ye,ue=new o.aT;ue.resize(xe),ue._trim();for(let Te=0;Te<xe;Te++){let Oe=6*Te;ue.uint16[Oe+0]=4*Te+0,ue.uint16[Oe+1]=4*Te+1,ue.uint16[Oe+2]=4*Te+2,ue.uint16[Oe+3]=4*Te+2,ue.uint16[Oe+4]=4*Te+3,ue.uint16[Oe+5]=4*Te+0}return ue}(F));let fe=x.createIndexBuffer(Jf,!0),ge=x.createVertexBuffer(ie,o.aS.members,!0);for(let ye of N){let xe=Yf(ye.transform,ye.invTransform,b.transform);X.draw(x,C.TRIANGLES,Vr.disabled,Wn.disabled,b.colorModeForRenderPass(),Rn.disabled,xe,b.style.map.terrain&&b.style.map.terrain.getTerrainData(ye.coord),p.id,ge,fe,o.a0.simpleSegment(0,2*ye.circleOffset,ye.circleArray.length,ye.circleArray.length/2),null,b.transform.zoom,null,null,null)}ge.destroy(),fe.destroy()}Rn.disabled=new Rn(!1,1029,2305),Rn.backCCW=new Rn(!0,1029,2305);let Ym=o.an(new Float32Array(16));function $x(b,s,p,g,y,x){let{horizontalAlign:C,verticalAlign:D}=o.au(b);return new o.P((-(C-.5)*s/y+g[0])*x,(-(D-.5)*p/y+g[1])*x)}function ep(b,s,p,g,y,x){let C=s.tileAnchorPoint.add(new o.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let D=g.mult(x);p||(D=D.rotate(-y));let N=C.add(D);return ae(N.x,N.y,s.labelPlaneMatrix,s.getElevation).point}if(p){let D=He(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(b),N=Math.atan(D.y/D.x)+(D.x<0?Math.PI:0);return b.add(g.rotate(N))}return b.add(g)}function Td(b,s,p,g,y,x,C,D,N,F,V,G,X,ie){let le=b.text.placedSymbolArray,fe=b.text.dynamicLayoutVertexArray,ge=b.icon.dynamicLayoutVertexArray,ye={};fe.clear();for(let xe=0;xe<le.length;xe++){let ue=le.get(xe),Te=ue.hidden||!ue.crossTileID||b.allowVerticalPlacement&&!ue.placedOrientation?null:g[ue.crossTileID];if(Te){let Oe=new o.P(ue.anchorX,ue.anchorY),ze={getElevation:ie,width:y.width,height:y.height,labelPlaneMatrix:x,lineVertexArray:null,pitchWithMap:p,projection:V,projectionCache:null,tileAnchorPoint:Oe,translation:G,unwrappedTileID:X},rt=p?ae(Oe.x,Oe.y,C,ie):He(Oe.x,Oe.y,ze),dt=$(y.cameraToCenterDistance,rt.signedDistanceFromCamera),Ct=o.ai(b.textSizeData,N,ue)*dt/o.ap;p&&(Ct*=b.tilePixelRatio/D);let{width:qt,height:St,anchor:bt,textOffset:Yt,textBoxScale:xr}=Te,It=$x(bt,qt,St,Yt,xr,Ct),Nt=V.getPitchedTextCorrection(y,Oe.add(new o.P(G[0],G[1])),X),yr=ep(rt.point,ze,s,It,y.angle,Nt),ri=b.allowVerticalPlacement&&ue.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let Nr=0;Nr<ue.numGlyphs;Nr++)o.aj(fe,yr,ri);F&&ue.associatedIconIndex>=0&&(ye[ue.associatedIconIndex]={shiftedAnchor:yr,angle:ri})}else lr(ue.numGlyphs,fe)}if(F){ge.clear();let xe=b.icon.placedSymbolArray;for(let ue=0;ue<xe.length;ue++){let Te=xe.get(ue);if(Te.hidden)lr(Te.numGlyphs,ge);else{let Oe=ye[ue];if(Oe)for(let ze=0;ze<Te.numGlyphs;ze++)o.aj(ge,Oe.shiftedAnchor,Oe.angle);else lr(Te.numGlyphs,ge)}}b.icon.dynamicLayoutVertexBuffer.updateData(ge)}b.text.dynamicLayoutVertexBuffer.updateData(fe)}function Ls(b,s,p){return p.iconsInText&&s?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function Wx(b,s,p,g,y,x,C,D,N,F,V,G){let X=b.context,ie=X.gl,le=b.transform,fe=Wf(),ge=D==="map",ye=N==="map",xe=D!=="viewport"&&p.layout.get("symbol-placement")!=="point",ue=ge&&!ye&&!xe,Te=!ye&&xe,Oe=!p.layout.get("symbol-sort-key").isConstant(),ze=!1,rt=b.depthModeForSublayer(0,Vr.ReadOnly),dt=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ct=[],qt=fe.getCircleRadiusCorrection(le);for(let St of g){let bt=s.getTile(St),Yt=bt.getBucket(p);if(!Yt)continue;let xr=y?Yt.text:Yt.icon;if(!xr||!xr.segments.get().length||!xr.hasVisibleVertices)continue;let It=xr.programConfigurations.get(p.id),Nt=y||Yt.sdfIcons,yr=y?Yt.textSizeData:Yt.iconSizeData,ri=ye||le.pitch!==0,Nr=b.useProgram(Ls(Nt,y,Yt),It),Yr=o.ag(yr,le.zoom),ni=b.style.map.terrain&&b.style.map.terrain.getTerrainData(St),Do,bl,ii,Ca,Jo=[0,0],Lo=null;if(y)bl=bt.glyphAtlasTexture,ii=ie.LINEAR,Do=bt.glyphAtlasTexture.size,Yt.iconsInText&&(Jo=bt.imageAtlasTexture.size,Lo=bt.imageAtlasTexture,Ca=ri||b.options.rotating||b.options.zooming||yr.kind==="composite"||yr.kind==="camera"?ie.LINEAR:ie.NEAREST);else{let en=p.layout.get("icon-size").constantOr(0)!==1||Yt.iconsNeedLinear;bl=bt.imageAtlasTexture,ii=Nt||b.options.rotating||b.options.zooming||en||ri?ie.LINEAR:ie.NEAREST,Do=bt.imageAtlasTexture.size}let ea=Zr(bt,1,b.transform.zoom),Ql=Te?St.posMatrix:Ym,Ud=Lt(Ql,ye,ge,b.transform,ea),Gy=Dt(Ql,ye,ge,b.transform,ea),Vd=Dt(St.posMatrix,ye,ge,b.transform,ea),Rs=fe.translatePosition(b.transform,bt,x,C),Hy=dt&&Yt.hasTextData(),yb=p.layout.get("icon-text-fit")!=="none"&&Hy&&Yt.hasIconData();if(xe){let en=b.style.map.terrain?(Gd,Hd)=>b.style.map.terrain.getElevation(St,Gd,Hd):null,op=p.layout.get("text-rotation-alignment")==="map";K(Yt,St.posMatrix,b,y,Ud,Vd,ye,F,op,fe,St.toUnwrapped(),le.width,le.height,Rs,en)}let ks=St.posMatrix,qs=y&&dt||yb,jc=xe||qs?Ym:Ud,wl=Gy,_o=Nt&&p.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Po;Po=Nt?Yt.iconsInText?Rx(yr.kind,Yr,ue,ye,xe,qs,b,ks,jc,wl,Rs,Do,Jo,qt):$m(yr.kind,Yr,ue,ye,xe,qs,b,ks,jc,wl,Rs,y,Do,!0,qt):P2(yr.kind,Yr,ue,ye,xe,qs,b,ks,jc,wl,Rs,y,Do,qt);let ps={program:Nr,buffers:xr,uniformValues:Po,atlasTexture:bl,atlasTextureIcon:Lo,atlasInterpolation:ii,atlasInterpolationIcon:Ca,isSDF:Nt,hasHalo:_o};if(Oe&&Yt.canOverlap){ze=!0;let en=xr.segments.get();for(let op of en)Ct.push({segments:new o.a0([op]),sortKey:op.sortKey,state:ps,terrainData:ni})}else Ct.push({segments:xr.segments,sortKey:0,state:ps,terrainData:ni})}ze&&Ct.sort((St,bt)=>St.sortKey-bt.sortKey);for(let St of Ct){let bt=St.state;if(X.activeTexture.set(ie.TEXTURE0),bt.atlasTexture.bind(bt.atlasInterpolation,ie.CLAMP_TO_EDGE),bt.atlasTextureIcon&&(X.activeTexture.set(ie.TEXTURE1),bt.atlasTextureIcon&&bt.atlasTextureIcon.bind(bt.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),bt.isSDF){let Yt=bt.uniformValues;bt.hasHalo&&(Yt.u_is_halo=1,Zx(bt.buffers,St.segments,p,b,bt.program,rt,V,G,Yt,St.terrainData)),Yt.u_is_halo=0}Zx(bt.buffers,St.segments,p,b,bt.program,rt,V,G,bt.uniformValues,St.terrainData)}}function Zx(b,s,p,g,y,x,C,D,N,F){let V=g.context;y.draw(V,V.gl.TRIANGLES,x,C,D,Rn.disabled,N,F,p.id,b.layoutVertexBuffer,b.indexBuffer,s,p.paint,g.transform.zoom,b.programConfigurations.get(p.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function Yx(b,s,p,g){let y=b.context,x=y.gl,C=Wn.disabled,D=new Oi([x.ONE,x.ONE],o.aM.transparent,[!0,!0,!0,!0]),N=s.getBucket(p);if(!N)return;let F=g.key,V=p.heatmapFbos.get(F);V||(V=Km(y,s.tileSize,s.tileSize),p.heatmapFbos.set(F,V)),y.bindFramebuffer.set(V.framebuffer),y.viewport.set([0,0,s.tileSize,s.tileSize]),y.clear({color:o.aM.transparent});let G=N.programConfigurations.get(p.id),X=b.useProgram("heatmap",G),ie=b.style.map.terrain.getTerrainData(g);X.draw(y,x.TRIANGLES,Vr.disabled,C,D,Rn.disabled,Ma(g.posMatrix,s,b.transform.zoom,p.paint.get("heatmap-intensity")),ie,p.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,p.paint,b.transform.zoom,G)}function tp(b,s,p){let g=b.context,y=g.gl;g.setColorMode(b.colorModeForRenderPass());let x=Xm(g,s),C=p.key,D=s.heatmapFbos.get(C);D&&(g.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,D.colorAttachment.get()),g.activeTexture.set(y.TEXTURE1),x.bind(y.LINEAR,y.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(g,y.TRIANGLES,Vr.disabled,Wn.disabled,b.colorModeForRenderPass(),Rn.disabled,vy(b,s,0,1),null,s.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,s.paint,b.transform.zoom),D.destroy(),s.heatmapFbos.delete(C))}function Km(b,s,p){var g,y;let x=b.gl,C=x.createTexture();x.bindTexture(x.TEXTURE_2D,C),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR);let D=(g=b.HALF_FLOAT)!==null&&g!==void 0?g:x.UNSIGNED_BYTE,N=(y=b.RGBA16F)!==null&&y!==void 0?y:x.RGBA;x.texImage2D(x.TEXTURE_2D,0,N,s,p,0,x.RGBA,D,null);let F=b.createFramebuffer(s,p,!1,!1);return F.colorAttachment.set(C),F}function Xm(b,s){return s.colorRampTexture||(s.colorRampTexture=new pe(b,s.colorRamp,b.gl.RGBA)),s.colorRampTexture}function Ad(b,s,p,g,y){if(!p||!g||!g.imageAtlas)return;let x=g.imageAtlas.patternPositions,C=x[p.to.toString()],D=x[p.from.toString()];if(!C&&D&&(C=D),!D&&C&&(D=C),!C||!D){let N=y.getPaintProperty(s);C=x[N],D=x[N]}C&&D&&b.setConstantPatternPositions(C,D)}function Qm(b,s,p,g,y,x,C){let D=b.context.gl,N="fill-pattern",F=p.paint.get(N),V=F&&F.constantOr(1),G=p.getCrossfadeParameters(),X,ie,le,fe,ge;C?(ie=V&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=D.LINES):(ie=V?"fillPattern":"fill",X=D.TRIANGLES);let ye=F.constantOr(null);for(let xe of g){let ue=s.getTile(xe);if(V&&!ue.patternsLoaded())continue;let Te=ue.getBucket(p);if(!Te)continue;let Oe=Te.programConfigurations.get(p.id),ze=b.useProgram(ie,Oe),rt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(xe);V&&(b.context.activeTexture.set(D.TEXTURE0),ue.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),Oe.updatePaintBuffers(G)),Ad(Oe,N,ye,ue,p);let dt=rt?xe:null,Ct=b.translatePosMatrix(dt?dt.posMatrix:xe.posMatrix,ue,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(C){fe=Te.indexBuffer2,ge=Te.segments2;let qt=[D.drawingBufferWidth,D.drawingBufferHeight];le=ie==="fillOutlinePattern"&&V?C2(Ct,b,G,ue,qt):$k(Ct,qt)}else fe=Te.indexBuffer,ge=Te.segments,le=V?M2(Ct,b,G,ue):Sd(Ct);ze.draw(b.context,X,y,b.stencilModeForClipping(xe),x,Rn.disabled,le,rt,p.id,Te.layoutVertexBuffer,fe,ge,p.paint,b.transform.zoom,Oe)}}function Ty(b,s,p,g,y,x,C){let D=b.context,N=D.gl,F="fill-extrusion-pattern",V=p.paint.get(F),G=V.constantOr(1),X=p.getCrossfadeParameters(),ie=p.paint.get("fill-extrusion-opacity"),le=V.constantOr(null);for(let fe of g){let ge=s.getTile(fe),ye=ge.getBucket(p);if(!ye)continue;let xe=b.style.map.terrain&&b.style.map.terrain.getTerrainData(fe),ue=ye.programConfigurations.get(p.id),Te=b.useProgram(G?"fillExtrusionPattern":"fillExtrusion",ue);G&&(b.context.activeTexture.set(N.TEXTURE0),ge.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),ue.updatePaintBuffers(X)),Ad(ue,F,le,ge,p);let Oe=b.translatePosMatrix(fe.posMatrix,ge,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),ze=p.paint.get("fill-extrusion-vertical-gradient"),rt=G?gy(Oe,b,ze,ie,fe,X,ge):Gm(Oe,b,ze,ie);Te.draw(D,D.gl.TRIANGLES,y,x,C,Rn.backCCW,rt,xe,p.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,p.paint,b.transform.zoom,ue,b.style.map.terrain&&ye.centroidVertexBuffer)}}function Md(b,s,p,g,y,x,C){let D=b.context,N=D.gl,F=p.fbo;if(!F)return;let V=b.useProgram("hillshade"),G=b.style.map.terrain&&b.style.map.terrain.getTerrainData(s);D.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,F.colorAttachment.get()),V.draw(D,N.TRIANGLES,y,x,C,Rn.disabled,((X,ie,le,fe)=>{let ge=le.paint.get("hillshade-shadow-color"),ye=le.paint.get("hillshade-highlight-color"),xe=le.paint.get("hillshade-accent-color"),ue=le.paint.get("hillshade-illumination-direction")*(Math.PI/180);le.paint.get("hillshade-illumination-anchor")==="viewport"&&(ue-=X.transform.angle);let Te=!X.options.moving;return{u_matrix:fe?fe.posMatrix:X.transform.calculatePosMatrix(ie.tileID.toUnwrapped(),Te),u_image:0,u_latrange:yy(0,ie.tileID),u_light:[le.paint.get("hillshade-exaggeration"),ue],u_shadow:ge,u_highlight:ye,u_accent:xe}})(b,p,g,G?s:null),G,g.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}function Cd(b,s,p,g,y,x){let C=b.context,D=C.gl,N=s.dem;if(N&&N.data){let F=N.dim,V=N.stride,G=N.getPixels();if(C.activeTexture.set(D.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||b.getTileTexture(V),s.demTexture){let ie=s.demTexture;ie.update(G,{premultiply:!1}),ie.bind(D.NEAREST,D.CLAMP_TO_EDGE)}else s.demTexture=new pe(C,G,D.RGBA,{premultiply:!1}),s.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);C.activeTexture.set(D.TEXTURE0);let X=s.fbo;if(!X){let ie=new pe(C,{width:F,height:F,data:null},D.RGBA);ie.bind(D.LINEAR,D.CLAMP_TO_EDGE),X=s.fbo=C.createFramebuffer(F,F,!0,!1),X.colorAttachment.set(ie.texture)}C.bindFramebuffer.set(X.framebuffer),C.viewport.set([0,0,F,F]),b.useProgram("hillshadePrepare").draw(C,D.TRIANGLES,g,y,x,Rn.disabled,((ie,le)=>{let fe=le.stride,ge=o.H();return o.aP(ge,0,o.X,-o.X,0,0,1),o.J(ge,ge,[0,-o.X,0]),{u_matrix:ge,u_image:1,u_dimension:[fe,fe],u_zoom:ie.overscaledZ,u_unpack:le.getUnpackVector()}})(s.tileID,N),null,p.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function $2(b,s,p,g,y,x){let C=g.paint.get("raster-fade-duration");if(!x&&C>0){let D=m.now(),N=(D-b.timeAdded)/C,F=s?(D-s.timeAdded)/C:-1,V=p.getSource(),G=y.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),X=!s||Math.abs(s.tileID.overscaledZ-G)>Math.abs(b.tileID.overscaledZ-G),ie=X&&b.refreshedUponExpiration?1:o.ac(X?N:1-F,0,1);return b.refreshedUponExpiration&&N>=1&&(b.refreshedUponExpiration=!1),s?{opacity:1,mix:1-ie}:{opacity:ie,mix:0}}return{opacity:1,mix:0}}let Kx=new o.aM(1,0,0,1),hn=new o.aM(0,1,0,1),Ay=new o.aM(0,0,1,1),s3=new o.aM(1,0,1,1),W2=new o.aM(0,1,1,1);function Od(b,s,p,g){My(b,0,s+p/2,b.transform.width,p,g)}function Z2(b,s,p,g){My(b,s-p/2,0,p,b.transform.height,g)}function My(b,s,p,g,y,x){let C=b.context,D=C.gl;D.enable(D.SCISSOR_TEST),D.scissor(s*b.pixelRatio,p*b.pixelRatio,g*b.pixelRatio,y*b.pixelRatio),C.clear({color:x}),D.disable(D.SCISSOR_TEST)}function Y2(b,s,p){let g=b.context,y=g.gl,x=p.posMatrix,C=b.useProgram("debug"),D=Vr.disabled,N=Wn.disabled,F=b.colorModeForRenderPass(),V="$debug",G=b.style.map.terrain&&b.style.map.terrain.getTerrainData(p);g.activeTexture.set(y.TEXTURE0);let X=s.getTileByID(p.key).latestRawTileData,ie=Math.floor((X&&X.byteLength||0)/1024),le=s.getTile(p).tileSize,fe=512/Math.min(le,512)*(p.overscaledZ/b.transform.zoom)*.5,ge=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(ge+=` => ${p.overscaledZ}`),function(ye,xe){ye.initDebugOverlayCanvas();let ue=ye.debugOverlayCanvas,Te=ye.context.gl,Oe=ye.debugOverlayCanvas.getContext("2d");Oe.clearRect(0,0,ue.width,ue.height),Oe.shadowColor="white",Oe.shadowBlur=2,Oe.lineWidth=1.5,Oe.strokeStyle="white",Oe.textBaseline="top",Oe.font="bold 36px Open Sans, sans-serif",Oe.fillText(xe,5,5),Oe.strokeText(xe,5,5),ye.debugOverlayTexture.update(ue),ye.debugOverlayTexture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE)}(b,`${ge} ${ie}kB`),C.draw(g,y.TRIANGLES,D,N,Oi.alphaBlended,Rn.disabled,Hm(x,o.aM.transparent,fe),null,V,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),C.draw(g,y.LINE_STRIP,D,N,F,Rn.disabled,Hm(x,o.aM.red),G,V,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function K2(b,s,p){let g=b.context,y=g.gl,x=b.colorModeForRenderPass(),C=new Vr(y.LEQUAL,Vr.ReadWrite,b.depthRangeFor3D),D=b.useProgram("terrain"),N=s.getTerrainMesh();g.bindFramebuffer.set(null),g.viewport.set([0,0,b.width,b.height]);for(let F of p){let V=b.renderToTexture.getTexture(F),G=s.getTerrainData(F.tileID);g.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,V.texture);let X=b.transform.calculatePosMatrix(F.tileID.toUnwrapped()),ie=s.getMeshFrameDelta(b.transform.zoom),le=b.transform.calculateFogMatrix(F.tileID.toUnwrapped()),fe=Px(X,ie,le,b.style.sky,b.transform.pitch);D.draw(g,y.TRIANGLES,C,Wn.disabled,x,Rn.backCCW,fe,G,"terrain",N.vertexBuffer,N.indexBuffer,N.segments)}}class Cy{constructor(s,p,g){this.vertexBuffer=s,this.indexBuffer=p,this.segments=g}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class Oy{constructor(s,p){this.context=new a3(s),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=hr.maxUnderzooming+hr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Dx}resize(s,p,g){if(this.width=Math.floor(s*g),this.height=Math.floor(p*g),this.pixelRatio=g,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let y of this.style._order)this.style._layers[y].resize()}setup(){let s=this.context,p=new o.aX;p.emplaceBack(0,0),p.emplaceBack(o.X,0),p.emplaceBack(0,o.X),p.emplaceBack(o.X,o.X),this.tileExtentBuffer=s.createVertexBuffer(p,Zf.members),this.tileExtentSegments=o.a0.simpleSegment(0,0,4,2);let g=new o.aX;g.emplaceBack(0,0),g.emplaceBack(o.X,0),g.emplaceBack(0,o.X),g.emplaceBack(o.X,o.X),this.debugBuffer=s.createVertexBuffer(g,Zf.members),this.debugSegments=o.a0.simpleSegment(0,0,4,5);let y=new o.$;y.emplaceBack(0,0,0,0),y.emplaceBack(o.X,0,o.X,0),y.emplaceBack(0,o.X,0,o.X),y.emplaceBack(o.X,o.X,o.X,o.X),this.rasterBoundsBuffer=s.createVertexBuffer(y,Ft.members),this.rasterBoundsSegments=o.a0.simpleSegment(0,0,4,2);let x=new o.aX;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(x,Zf.members),this.viewportSegments=o.a0.simpleSegment(0,0,4,2);let C=new o.aZ;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(C);let D=new o.aY;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(D);let N=this.context.gl;this.stencilClearMode=new Wn({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO)}clearStencil(){let s=this.context,p=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let g=o.H();o.aP(g,0,this.width,this.height,0,0,1),o.K(g,g,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,p.TRIANGLES,Vr.disabled,this.stencilClearMode,Oi.disabled,Rn.disabled,Aa(g),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,p){if(this.currentStencilSource===s.source||!s.isTileClipped()||!p||!p.length)return;this.currentStencilSource=s.source;let g=this.context,y=g.gl;this.nextStencilID+p.length>256&&this.clearStencil(),g.setColorMode(Oi.disabled),g.setDepthMode(Vr.disabled);let x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let C of p){let D=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(C);x.draw(g,y.TRIANGLES,Vr.disabled,new Wn({func:y.ALWAYS,mask:0},D,255,y.KEEP,y.KEEP,y.REPLACE),Oi.disabled,Rn.disabled,Aa(C.posMatrix),N,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let s=this.nextStencilID++,p=this.context.gl;return new Wn({func:p.NOTEQUAL,mask:255},s,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(s){let p=this.context.gl;return new Wn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(s){let p=this.context.gl,g=s.sort((C,D)=>D.overscaledZ-C.overscaledZ),y=g[g.length-1].overscaledZ,x=g[0].overscaledZ-y+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();let C={};for(let D=0;D<x;D++)C[D+y]=new Wn({func:p.GEQUAL,mask:255},D+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=x,[C,g]}return[{[y]:Wn.disabled},g]}colorModeForRenderPass(){let s=this.context.gl;return this._showOverdrawInspector?new Oi([s.CONSTANT_COLOR,s.ONE],new o.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Oi.unblended:Oi.alphaBlended}depthModeForSublayer(s,p,g){if(!this.opaquePassEnabledForLayer())return Vr.disabled;let y=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new Vr(g||this.context.gl.LEQUAL,p,[y,y])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,p){this.style=s,this.options=p,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(m.now()),this.imageManager.beginFrame();let g=this.style._order,y=this.style.sourceCaches,x={},C={},D={};for(let N in y){let F=y[N];F.used&&F.prepare(this.context),x[N]=F.getVisibleCoordinates(),C[N]=x[N].slice().reverse(),D[N]=F.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let N=0;N<g.length;N++)if(this.style._layers[g[N]].is3D()){this.opaquePassCutoff=N;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let N of g){let F=this.style._layers[N];if(!F.hasOffscreenPass()||F.isHidden(this.transform.zoom))continue;let V=C[F.source];(F.type==="custom"||V.length)&&this.renderLayer(this,y[F.source],F,V)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?o.aM.black:o.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(N,F){let V=N.context,G=V.gl,X=((ye,xe,ue)=>({u_sky_color:ye.properties.get("sky-color"),u_horizon_color:ye.properties.get("horizon-color"),u_horizon:(xe.height/2+xe.getHorizon())*ue,u_sky_horizon_blend:ye.properties.get("sky-horizon-blend")*xe.height/2*ue}))(F,N.style.map.transform,N.pixelRatio),ie=new Vr(G.LEQUAL,Vr.ReadWrite,[0,1]),le=Wn.disabled,fe=N.colorModeForRenderPass(),ge=N.useProgram("sky");if(!F.mesh){let ye=new o.aX;ye.emplaceBack(-1,-1),ye.emplaceBack(1,-1),ye.emplaceBack(1,1),ye.emplaceBack(-1,1);let xe=new o.aY;xe.emplaceBack(0,1,2),xe.emplaceBack(0,2,3),F.mesh=new Cy(V.createVertexBuffer(ye,Zf.members),V.createIndexBuffer(xe),o.a0.simpleSegment(0,0,ye.length,xe.length))}ge.draw(V,G.TRIANGLES,ie,le,fe,Rn.disabled,X,void 0,"sky",F.mesh.vertexBuffer,F.mesh.indexBuffer,F.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=g.length-1;this.currentLayer>=0;this.currentLayer--){let N=this.style._layers[g[this.currentLayer]],F=y[N.source],V=x[N.source];this._renderTileClippingMasks(N,V),this.renderLayer(this,F,N,V)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<g.length;this.currentLayer++){let N=this.style._layers[g[this.currentLayer]],F=y[N.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(N))continue;let V=(N.type==="symbol"?D:C)[N.source];this._renderTileClippingMasks(N,x[N.source]),this.renderLayer(this,F,N,V)}if(this.options.showTileBoundaries){let N=function(F,V){let G=null,X=Object.values(F._layers).flatMap(ge=>ge.source&&!ge.isHidden(V)?[F.sourceCaches[ge.source]]:[]),ie=X.filter(ge=>ge.getSource().type==="vector"),le=X.filter(ge=>ge.getSource().type!=="vector"),fe=ge=>{(!G||G.getSource().maxzoom<ge.getSource().maxzoom)&&(G=ge)};return ie.forEach(ge=>fe(ge)),G||le.forEach(ge=>fe(ge)),G}(this.style,this.transform.zoom);N&&function(F,V,G){for(let X=0;X<G.length;X++)Y2(F,V,G[X])}(this,N,N.getVisibleCoordinates())}this.options.showPadding&&function(N){let F=N.transform.padding;Od(N,N.transform.height-(F.top||0),3,Kx),Od(N,F.bottom||0,3,hn),Z2(N,F.left||0,3,Ay),Z2(N,N.transform.width-(F.right||0),3,s3);let V=N.transform.centerPoint;(function(G,X,ie,le){My(G,X-1,ie-10,2,20,le),My(G,X-10,ie-1,20,2,le)})(N,V.x,N.transform.height-V.y,W2)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;let p=this.terrainFacilitator.matrix,g=this.transform.modelViewProjectionMatrix,y=this.terrainFacilitator.dirty;y||(y=s?!o.a_(p,g):!o.a$(p,g)),y||(y=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),y&&(o.b0(p,g),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(x,C){let D=x.context,N=D.gl,F=Oi.unblended,V=new Vr(N.LEQUAL,Vr.ReadWrite,[0,1]),G=C.getTerrainMesh(),X=C.sourceCache.getRenderableTiles(),ie=x.useProgram("terrainDepth");D.bindFramebuffer.set(C.getFramebuffer("depth").framebuffer),D.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),D.clear({color:o.aM.transparent,depth:1});for(let le of X){let fe=C.getTerrainData(le.tileID),ge={u_matrix:x.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_ele_delta:C.getMeshFrameDelta(x.transform.zoom)};ie.draw(D,N.TRIANGLES,V,Wn.disabled,F,Rn.backCCW,ge,fe,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}D.bindFramebuffer.set(null),D.viewport.set([0,0,x.width,x.height])}(this,this.style.map.terrain),function(x,C){let D=x.context,N=D.gl,F=Oi.unblended,V=new Vr(N.LEQUAL,Vr.ReadWrite,[0,1]),G=C.getTerrainMesh(),X=C.getCoordsTexture(),ie=C.sourceCache.getRenderableTiles(),le=x.useProgram("terrainCoords");D.bindFramebuffer.set(C.getFramebuffer("coords").framebuffer),D.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),D.clear({color:o.aM.transparent,depth:1}),C.coordsIndex=[];for(let fe of ie){let ge=C.getTerrainData(fe.tileID);D.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,X.texture);let ye={u_matrix:x.transform.calculatePosMatrix(fe.tileID.toUnwrapped()),u_terrain_coords_id:(255-C.coordsIndex.length)/255,u_texture:0,u_ele_delta:C.getMeshFrameDelta(x.transform.zoom)};le.draw(D,N.TRIANGLES,V,Wn.disabled,F,Rn.backCCW,ye,ge,"terrain",G.vertexBuffer,G.indexBuffer,G.segments),C.coordsIndex.push(fe.tileID.key)}D.bindFramebuffer.set(null),D.viewport.set([0,0,x.width,x.height])}(this,this.style.map.terrain))}renderLayer(s,p,g,y){if(!g.isHidden(this.transform.zoom)&&(g.type==="background"||g.type==="custom"||(y||[]).length))switch(this.id=g.id,g.type){case"symbol":(function(x,C,D,N,F){if(x.renderPass!=="translucent")return;let V=Wn.disabled,G=x.colorModeForRenderPass();(D._unevaluatedLayout.hasValue("text-variable-anchor")||D._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,ie,le,fe,ge,ye,xe,ue,Te){let Oe=ie.transform,ze=Wf(),rt=ge==="map",dt=ye==="map";for(let Ct of X){let qt=fe.getTile(Ct),St=qt.getBucket(le);if(!St||!St.text||!St.text.segments.get().length)continue;let bt=o.ag(St.textSizeData,Oe.zoom),Yt=Zr(qt,1,ie.transform.zoom),xr=Lt(Ct.posMatrix,dt,rt,ie.transform,Yt),It=le.layout.get("icon-text-fit")!=="none"&&St.hasIconData();if(bt){let Nt=Math.pow(2,Oe.zoom-qt.tileID.overscaledZ),yr=ie.style.map.terrain?(Nr,Yr)=>ie.style.map.terrain.getElevation(Ct,Nr,Yr):null,ri=ze.translatePosition(Oe,qt,xe,ue);Td(St,rt,dt,Te,Oe,xr,Ct.posMatrix,Nt,bt,It,ze,ri,Ct.toUnwrapped(),yr)}}}(N,x,D,C,D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),F),D.paint.get("icon-opacity").constantOr(1)!==0&&Wx(x,C,D,N,!1,D.paint.get("icon-translate"),D.paint.get("icon-translate-anchor"),D.layout.get("icon-rotation-alignment"),D.layout.get("icon-pitch-alignment"),D.layout.get("icon-keep-upright"),V,G),D.paint.get("text-opacity").constantOr(1)!==0&&Wx(x,C,D,N,!0,D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.layout.get("text-keep-upright"),V,G),C.map.showCollisionBoxes&&(Zm(x,C,D,N,!0),Zm(x,C,D,N,!1))})(s,p,g,y,this.style.placement.variableOffsets);break;case"circle":(function(x,C,D,N){if(x.renderPass!=="translucent")return;let F=D.paint.get("circle-opacity"),V=D.paint.get("circle-stroke-width"),G=D.paint.get("circle-stroke-opacity"),X=!D.layout.get("circle-sort-key").isConstant();if(F.constantOr(1)===0&&(V.constantOr(1)===0||G.constantOr(1)===0))return;let ie=x.context,le=ie.gl,fe=x.depthModeForSublayer(0,Vr.ReadOnly),ge=Wn.disabled,ye=x.colorModeForRenderPass(),xe=[];for(let ue=0;ue<N.length;ue++){let Te=N[ue],Oe=C.getTile(Te),ze=Oe.getBucket(D);if(!ze)continue;let rt=ze.programConfigurations.get(D.id),dt=x.useProgram("circle",rt),Ct=ze.layoutVertexBuffer,qt=ze.indexBuffer,St=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Te),bt={programConfiguration:rt,program:dt,layoutVertexBuffer:Ct,indexBuffer:qt,uniformValues:Wk(x,Te,Oe,D),terrainData:St};if(X){let Yt=ze.segments.get();for(let xr of Yt)xe.push({segments:new o.a0([xr]),sortKey:xr.sortKey,state:bt})}else xe.push({segments:ze.segments,sortKey:0,state:bt})}X&&xe.sort((ue,Te)=>ue.sortKey-Te.sortKey);for(let ue of xe){let{programConfiguration:Te,program:Oe,layoutVertexBuffer:ze,indexBuffer:rt,uniformValues:dt,terrainData:Ct}=ue.state;Oe.draw(ie,le.TRIANGLES,fe,ge,ye,Rn.disabled,dt,Ct,D.id,ze,rt,ue.segments,D.paint,x.transform.zoom,Te)}})(s,p,g,y);break;case"heatmap":(function(x,C,D,N){if(D.paint.get("heatmap-opacity")===0)return;let F=x.context;if(x.style.map.terrain){for(let V of N){let G=C.getTile(V);C.hasRenderableParent(V)||(x.renderPass==="offscreen"?Yx(x,G,D,V):x.renderPass==="translucent"&&tp(x,D,V))}F.viewport.set([0,0,x.width,x.height])}else x.renderPass==="offscreen"?function(V,G,X,ie){let le=V.context,fe=le.gl,ge=Wn.disabled,ye=new Oi([fe.ONE,fe.ONE],o.aM.transparent,[!0,!0,!0,!0]);(function(xe,ue,Te){let Oe=xe.gl;xe.activeTexture.set(Oe.TEXTURE1),xe.viewport.set([0,0,ue.width/4,ue.height/4]);let ze=Te.heatmapFbos.get(o.aU);ze?(Oe.bindTexture(Oe.TEXTURE_2D,ze.colorAttachment.get()),xe.bindFramebuffer.set(ze.framebuffer)):(ze=Km(xe,ue.width/4,ue.height/4),Te.heatmapFbos.set(o.aU,ze))})(le,V,X),le.clear({color:o.aM.transparent});for(let xe=0;xe<ie.length;xe++){let ue=ie[xe];if(G.hasRenderableParent(ue))continue;let Te=G.getTile(ue),Oe=Te.getBucket(X);if(!Oe)continue;let ze=Oe.programConfigurations.get(X.id),rt=V.useProgram("heatmap",ze),{zoom:dt}=V.transform;rt.draw(le,fe.TRIANGLES,Vr.disabled,ge,ye,Rn.disabled,Ma(ue.posMatrix,Te,dt,X.paint.get("heatmap-intensity")),null,X.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,X.paint,V.transform.zoom,ze)}le.viewport.set([0,0,V.width,V.height])}(x,C,D,N):x.renderPass==="translucent"&&function(V,G){let X=V.context,ie=X.gl;X.setColorMode(V.colorModeForRenderPass());let le=G.heatmapFbos.get(o.aU);le&&(X.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,le.colorAttachment.get()),X.activeTexture.set(ie.TEXTURE1),Xm(X,G).bind(ie.LINEAR,ie.CLAMP_TO_EDGE),V.useProgram("heatmapTexture").draw(X,ie.TRIANGLES,Vr.disabled,Wn.disabled,V.colorModeForRenderPass(),Rn.disabled,vy(V,G,0,1),null,G.id,V.viewportBuffer,V.quadTriangleIndexBuffer,V.viewportSegments,G.paint,V.transform.zoom))}(x,D)})(s,p,g,y);break;case"line":(function(x,C,D,N){if(x.renderPass!=="translucent")return;let F=D.paint.get("line-opacity"),V=D.paint.get("line-width");if(F.constantOr(1)===0||V.constantOr(1)===0)return;let G=x.depthModeForSublayer(0,Vr.ReadOnly),X=x.colorModeForRenderPass(),ie=D.paint.get("line-dasharray"),le=D.paint.get("line-pattern"),fe=le.constantOr(1),ge=D.paint.get("line-gradient"),ye=D.getCrossfadeParameters(),xe=fe?"linePattern":ie?"lineSDF":ge?"lineGradient":"line",ue=x.context,Te=ue.gl,Oe=!0;for(let ze of N){let rt=C.getTile(ze);if(fe&&!rt.patternsLoaded())continue;let dt=rt.getBucket(D);if(!dt)continue;let Ct=dt.programConfigurations.get(D.id),qt=x.context.program.get(),St=x.useProgram(xe,Ct),bt=Oe||St.program!==qt,Yt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(ze),xr=le.constantOr(null);if(xr&&rt.imageAtlas){let yr=rt.imageAtlas,ri=yr.patternPositions[xr.to.toString()],Nr=yr.patternPositions[xr.from.toString()];ri&&Nr&&Ct.setConstantPatternPositions(ri,Nr)}let It=Yt?ze:null,Nt=fe?Ed(x,rt,D,ye,It):ie?Zk(x,rt,D,ie,ye,It):ge?O2(x,rt,D,dt.lineClipsArray.length,It):_y(x,rt,D,It);if(fe)ue.activeTexture.set(Te.TEXTURE0),rt.imageAtlasTexture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Ct.updatePaintBuffers(ye);else if(ie&&(bt||x.lineAtlas.dirty))ue.activeTexture.set(Te.TEXTURE0),x.lineAtlas.bind(ue);else if(ge){let yr=dt.gradients[D.id],ri=yr.texture;if(D.gradientVersion!==yr.version){let Nr=256;if(D.stepInterpolant){let Yr=C.getSource().maxzoom,ni=ze.canonical.z===Yr?Math.ceil(1<<x.transform.maxZoom-ze.canonical.z):1;Nr=o.ac(o.aV(dt.maxLineLength/o.X*1024*ni),256,ue.maxTextureSize)}yr.gradient=o.aW({expression:D.gradientExpression(),evaluationKey:"lineProgress",resolution:Nr,image:yr.gradient||void 0,clips:dt.lineClipsArray}),yr.texture?yr.texture.update(yr.gradient):yr.texture=new pe(ue,yr.gradient,Te.RGBA),yr.version=D.gradientVersion,ri=yr.texture}ue.activeTexture.set(Te.TEXTURE0),ri.bind(D.stepInterpolant?Te.NEAREST:Te.LINEAR,Te.CLAMP_TO_EDGE)}St.draw(ue,Te.TRIANGLES,G,x.stencilModeForClipping(ze),X,Rn.disabled,Nt,Yt,D.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,D.paint,x.transform.zoom,Ct,dt.layoutVertexBuffer2),Oe=!1}})(s,p,g,y);break;case"fill":(function(x,C,D,N){let F=D.paint.get("fill-color"),V=D.paint.get("fill-opacity");if(V.constantOr(1)===0)return;let G=x.colorModeForRenderPass(),X=D.paint.get("fill-pattern"),ie=x.opaquePassEnabledForLayer()&&!X.constantOr(1)&&F.constantOr(o.aM.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===ie){let le=x.depthModeForSublayer(1,x.renderPass==="opaque"?Vr.ReadWrite:Vr.ReadOnly);Qm(x,C,D,N,le,G,!1)}if(x.renderPass==="translucent"&&D.paint.get("fill-antialias")){let le=x.depthModeForSublayer(D.getPaintProperty("fill-outline-color")?2:0,Vr.ReadOnly);Qm(x,C,D,N,le,G,!0)}})(s,p,g,y);break;case"fill-extrusion":(function(x,C,D,N){let F=D.paint.get("fill-extrusion-opacity");if(F!==0&&x.renderPass==="translucent"){let V=new Vr(x.context.gl.LEQUAL,Vr.ReadWrite,x.depthRangeFor3D);if(F!==1||D.paint.get("fill-extrusion-pattern").constantOr(1))Ty(x,C,D,N,V,Wn.disabled,Oi.disabled),Ty(x,C,D,N,V,x.stencilModeFor3D(),x.colorModeForRenderPass());else{let G=x.colorModeForRenderPass();Ty(x,C,D,N,V,Wn.disabled,G)}}})(s,p,g,y);break;case"hillshade":(function(x,C,D,N){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;let F=x.context,V=x.depthModeForSublayer(0,Vr.ReadOnly),G=x.colorModeForRenderPass(),[X,ie]=x.renderPass==="translucent"?x.stencilConfigForOverlap(N):[{},N];for(let le of ie){let fe=C.getTile(le);fe.needsHillshadePrepare!==void 0&&fe.needsHillshadePrepare&&x.renderPass==="offscreen"?Cd(x,fe,D,V,Wn.disabled,G):x.renderPass==="translucent"&&Md(x,le,fe,D,V,X[le.overscaledZ],G)}F.viewport.set([0,0,x.width,x.height])})(s,p,g,y);break;case"raster":(function(x,C,D,N){if(x.renderPass!=="translucent"||D.paint.get("raster-opacity")===0||!N.length)return;let F=x.context,V=F.gl,G=C.getSource(),X=x.useProgram("raster"),ie=x.colorModeForRenderPass(),[le,fe]=G instanceof cr?[{},N]:x.stencilConfigForOverlap(N),ge=fe[fe.length-1].overscaledZ,ye=!x.options.moving;for(let xe of fe){let ue=x.depthModeForSublayer(xe.overscaledZ-ge,D.paint.get("raster-opacity")===1?Vr.ReadWrite:Vr.ReadOnly,V.LESS),Te=C.getTile(xe);Te.registerFadeDuration(D.paint.get("raster-fade-duration"));let Oe=C.findLoadedParent(xe,0),ze=C.findLoadedSibling(xe),rt=$2(Te,Oe||ze||null,C,D,x.transform,x.style.map.terrain),dt,Ct,qt=D.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;F.activeTexture.set(V.TEXTURE0),Te.texture.bind(qt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),F.activeTexture.set(V.TEXTURE1),Oe?(Oe.texture.bind(qt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),dt=Math.pow(2,Oe.tileID.overscaledZ-Te.tileID.overscaledZ),Ct=[Te.tileID.canonical.x*dt%1,Te.tileID.canonical.y*dt%1]):Te.texture.bind(qt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),Te.texture.useMipmap&&F.extTextureFilterAnisotropic&&x.transform.pitch>20&&V.texParameterf(V.TEXTURE_2D,F.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,F.extTextureFilterAnisotropicMax);let St=x.style.map.terrain&&x.style.map.terrain.getTerrainData(xe),bt=St?xe:null,Yt=bt?bt.posMatrix:x.transform.calculatePosMatrix(xe.toUnwrapped(),ye),xr=Yk(Yt,Ct||[0,0],dt||1,rt,D);G instanceof cr?X.draw(F,V.TRIANGLES,ue,Wn.disabled,ie,Rn.disabled,xr,St,D.id,G.boundsBuffer,x.quadTriangleIndexBuffer,G.boundsSegments):X.draw(F,V.TRIANGLES,ue,le[xe.overscaledZ],ie,Rn.disabled,xr,St,D.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(s,p,g,y);break;case"background":(function(x,C,D,N){let F=D.paint.get("background-color"),V=D.paint.get("background-opacity");if(V===0)return;let G=x.context,X=G.gl,ie=x.transform,le=ie.tileSize,fe=D.paint.get("background-pattern");if(x.isPatternMissing(fe))return;let ge=!fe&&F.a===1&&V===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==ge)return;let ye=Wn.disabled,xe=x.depthModeForSublayer(0,ge==="opaque"?Vr.ReadWrite:Vr.ReadOnly),ue=x.colorModeForRenderPass(),Te=x.useProgram(fe?"backgroundPattern":"background"),Oe=N||ie.coveringTiles({tileSize:le,terrain:x.style.map.terrain});fe&&(G.activeTexture.set(X.TEXTURE0),x.imageManager.bind(x.context));let ze=D.getCrossfadeParameters();for(let rt of Oe){let dt=N?rt.posMatrix:x.transform.calculatePosMatrix(rt.toUnwrapped()),Ct=fe?kx(dt,V,x,fe,{tileID:rt,tileSize:le},ze):xy(dt,V,F),qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(rt);Te.draw(G,X.TRIANGLES,xe,ye,ue,Rn.disabled,Ct,qt,D.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(s,0,g,y);break;case"custom":(function(x,C,D){let N=x.context,F=D.implementation;if(x.renderPass==="offscreen"){let V=F.prerender;V&&(x.setCustomLayerDefaults(),N.setColorMode(x.colorModeForRenderPass()),V.call(F,N.gl,x.transform.customLayerMatrix()),N.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),N.setColorMode(x.colorModeForRenderPass()),N.setStencilMode(Wn.disabled);let V=F.renderingMode==="3d"?new Vr(x.context.gl.LEQUAL,Vr.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,Vr.ReadOnly);N.setDepthMode(V),F.render(N.gl,x.transform.customLayerMatrix(),{farZ:x.transform.farZ,nearZ:x.transform.nearZ,fov:x.transform._fov,modelViewProjectionMatrix:x.transform.modelViewProjectionMatrix,projectionMatrix:x.transform.projectionMatrix}),N.setDirty(),x.setBaseState(),N.bindFramebuffer.set(null)}})(s,0,g);}}translatePosMatrix(s,p,g,y,x){if(!g[0]&&!g[1])return s;let C=x?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(C){let F=Math.sin(C),V=Math.cos(C);g=[g[0]*V-g[1]*F,g[0]*F+g[1]*V]}let D=[x?g[0]:Zr(p,g[0],this.transform.zoom),x?g[1]:Zr(p,g[1],this.transform.zoom),0],N=new Float32Array(16);return o.J(N,s,D),N}saveTileTexture(s){let p=this._tileTextures[s.size[0]];p?p.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){let p=this._tileTextures[s];return p&&p.length>0?p.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;let p=this.imageManager.getPattern(s.from.toString()),g=this.imageManager.getPattern(s.to.toString());return!p||!g}useProgram(s,p){this.cache=this.cache||{};let g=s+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[g]||(this.cache[g]=new Nx(this.context,kc[s],p,qx[s],this._showOverdrawInspector,this.style.map.terrain)),this.cache[g]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new pe(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:s,drawingBufferHeight:p}=this.context.gl;return this.width!==s||this.height!==p}}class Dd{constructor(s,p){this.points=s,this.planes=p}static fromInvProjectionMatrix(s,p,g){let y=Math.pow(2,g),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(D=>{let N=1/(D=o.af([],D,s))[3]/p*y;return o.b1(D,D,[N,N,1/D[3],N])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(D=>{let N=function(X,ie){var le=ie[0],fe=ie[1],ge=ie[2],ye=le*le+fe*fe+ge*ge;return ye>0&&(ye=1/Math.sqrt(ye)),X[0]=ie[0]*ye,X[1]=ie[1]*ye,X[2]=ie[2]*ye,X}([],function(X,ie,le){var fe=ie[0],ge=ie[1],ye=ie[2],xe=le[0],ue=le[1],Te=le[2];return X[0]=ge*Te-ye*ue,X[1]=ye*xe-fe*Te,X[2]=fe*ue-ge*xe,X}([],re([],x[D[0]],x[D[1]]),re([],x[D[2]],x[D[1]]))),F=-((V=N)[0]*(G=x[D[1]])[0]+V[1]*G[1]+V[2]*G[2]);var V,G;return N.concat(F)});return new Dd(x,C)}}class Ld{constructor(s,p){this.min=s,this.max=p,this.center=function(g,y,x){return g[0]=.5*y[0],g[1]=.5*y[1],g[2]=.5*y[2],g}([],function(g,y,x){return g[0]=y[0]+x[0],g[1]=y[1]+x[1],g[2]=y[2]+x[2],g}([],this.min,this.max))}quadrant(s){let p=[s%2==0,s<2],g=B(this.min),y=B(this.max);for(let x=0;x<p.length;x++)g[x]=p[x]?this.min[x]:this.center[x],y[x]=p[x]?this.center[x]:this.max[x];return y[2]=this.max[2],new Ld(g,y)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersects(s){let p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],g=!0;for(let y=0;y<s.planes.length;y++){let x=s.planes[y],C=0;for(let D=0;D<p.length;D++)o.b2(x,p[D])>=0&&C++;if(C===0)return 0;C!==p.length&&(g=!1)}if(g)return 2;for(let y=0;y<3;y++){let x=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let D=0;D<s.points.length;D++){let N=s.points[D][y]-this.min[y];x=Math.min(x,N),C=Math.max(C,N)}if(C<0||x>this.max[y]-this.min[y])return 0}return 1}}class Pd{constructor(s=0,p=0,g=0,y=0){if(isNaN(s)||s<0||isNaN(p)||p<0||isNaN(g)||g<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=p,this.left=g,this.right=y}interpolate(s,p,g){return p.top!=null&&s.top!=null&&(this.top=o.y.number(s.top,p.top,g)),p.bottom!=null&&s.bottom!=null&&(this.bottom=o.y.number(s.bottom,p.bottom,g)),p.left!=null&&s.left!=null&&(this.left=o.y.number(s.left,p.left,g)),p.right!=null&&s.right!=null&&(this.right=o.y.number(s.right,p.right,g)),this}getCenter(s,p){let g=o.ac((this.left+s-this.right)/2,0,s),y=o.ac((this.top+p-this.bottom)/2,0,p);return new o.P(g,y)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new Pd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}let Xx=85.051129;class Nd{constructor(s,p,g,y,x){this.tileSize=512,this._renderWorldCopies=x===void 0||!!x,this._minZoom=s||0,this._maxZoom=p||22,this._minPitch=g==null?0:g,this._maxPitch=y==null?60:y,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Pd,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){let s=new Nd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.apply(this),s}apply(s){this.tileSize=s.tileSize,this.latRange=s.latRange,this.lngRange=s.lngRange,this.width=s.width,this.height=s.height,this._center=s._center,this._elevation=s._elevation,this.minElevationForCurrentTile=s.minElevationForCurrentTile,this.zoom=s.zoom,this.angle=s.angle,this._fov=s._fov,this._pitch=s._pitch,this._unmodified=s._unmodified,this._edgeInsets=s._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(s){let p=-o.b3(s,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var g=new o.A(4);return o.A!=Float32Array&&(g[1]=0,g[2]=0),g[0]=1,g[3]=1,g}(),function(g,y,x){var C=y[0],D=y[1],N=y[2],F=y[3],V=Math.sin(x),G=Math.cos(x);g[0]=C*G+N*V,g[1]=D*G+F*V,g[2]=C*-V+N*G,g[3]=D*-V+F*G}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){let p=o.ac(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(s){let p=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,p,g){this._unmodified=!1,this._edgeInsets.interpolate(s,p,g),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){let p=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(s){let p=[new o.b4(0,s)];if(this._renderWorldCopies){let g=this.pointCoordinate(new o.P(0,0)),y=this.pointCoordinate(new o.P(this.width,0)),x=this.pointCoordinate(new o.P(this.width,this.height)),C=this.pointCoordinate(new o.P(0,this.height)),D=Math.floor(Math.min(g.x,y.x,x.x,C.x)),N=Math.floor(Math.max(g.x,y.x,x.x,C.x)),F=1;for(let V=D-F;V<=N+F;V++)V!==0&&p.push(new o.b4(V,s))}return p}coveringTiles(s){var p,g;let y=this.coveringZoomLevel(s),x=y;if(s.minzoom!==void 0&&y<s.minzoom)return[];s.maxzoom!==void 0&&y>s.maxzoom&&(y=s.maxzoom);let C=this.pointCoordinate(this.getCameraPoint()),D=o.Z.fromLngLat(this.center),N=Math.pow(2,y),F=[N*C.x,N*C.y,0],V=[N*D.x,N*D.y,0],G=Dd.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,y),X=s.minzoom||0;!s.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=y);let ie=s.terrain?2/Math.min(this.tileSize,s.tileSize)*this.tileSize:3,le=ue=>({aabb:new Ld([ue*N,0,0],[(ue+1)*N,N,0]),zoom:0,x:0,y:0,wrap:ue,fullyVisible:!1}),fe=[],ge=[],ye=y,xe=s.reparseOverscaled?x:y;if(this._renderWorldCopies)for(let ue=1;ue<=3;ue++)fe.push(le(-ue)),fe.push(le(ue));for(fe.push(le(0));fe.length>0;){let ue=fe.pop(),Te=ue.x,Oe=ue.y,ze=ue.fullyVisible;if(!ze){let St=ue.aabb.intersects(G);if(St===0)continue;ze=St===2}let rt=s.terrain?F:V,dt=ue.aabb.distanceX(rt),Ct=ue.aabb.distanceY(rt),qt=Math.max(Math.abs(dt),Math.abs(Ct));if(ue.zoom===ye||qt>ie+(1<<ye-ue.zoom)-2&&ue.zoom>=X){let St=ye-ue.zoom,bt=F[0]-.5-(Te<<St),Yt=F[1]-.5-(Oe<<St);ge.push({tileID:new o.S(ue.zoom===ye?xe:ue.zoom,ue.wrap,ue.zoom,Te,Oe),distanceSq:Q([V[0]-.5-Te,V[1]-.5-Oe]),tileDistanceToCamera:Math.sqrt(bt*bt+Yt*Yt)})}else for(let St=0;St<4;St++){let bt=(Te<<1)+St%2,Yt=(Oe<<1)+(St>>1),xr=ue.zoom+1,It=ue.aabb.quadrant(St);if(s.terrain){let Nt=new o.S(xr,ue.wrap,xr,bt,Yt),yr=s.terrain.getMinMaxElevation(Nt),ri=(p=yr.minElevation)!==null&&p!==void 0?p:this.elevation,Nr=(g=yr.maxElevation)!==null&&g!==void 0?g:this.elevation;It=new Ld([It.min[0],It.min[1],ri],[It.max[0],It.max[1],Nr])}fe.push({aabb:It,zoom:xr,x:bt,y:Yt,wrap:ue.wrap,fullyVisible:ze})}}return ge.sort((ue,Te)=>ue.distanceSq-Te.distanceSq).map(ue=>ue.tileID)}resize(s,p){this.width=s,this.height=p,this.pixelsToGLUnits=[2/s,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){let p=o.ac(s.lat,-85.051129,Xx);return new o.P(o.O(s.lng)*this.worldSize,o.Q(p)*this.worldSize)}unproject(s){return new o.Z(s.x/this.worldSize,s.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(s){let p=this.elevation,g=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,y=this.pointLocation(this.centerPoint,s),x=s.getElevationForLngLatZoom(y,this.tileZoom);if(!(this.elevation-x))return;let C=g+p-x,D=Math.cos(this._pitch)*this.cameraToCenterDistance/C/o.b5(1,y.lat),N=this.scaleZoom(D/this.tileSize);this._elevation=x,this._center=y,this.zoom=N}setLocationAtPoint(s,p){let g=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(s),C=new o.Z(x.x-(g.x-y.x),x.y-(g.y-y.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(s,p){return p?this.coordinatePoint(this.locationCoordinate(s),p.getElevationForLngLatZoom(s,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(s))}pointLocation(s,p){return this.coordinateLocation(this.pointCoordinate(s,p))}locationCoordinate(s){return o.Z.fromLngLat(s)}coordinateLocation(s){return s&&s.toLngLat()}pointCoordinate(s,p){if(p){let X=p.pointCoordinate(s);if(X!=null)return X}let g=[s.x,s.y,0,1],y=[s.x,s.y,1,1];o.af(g,g,this.pixelMatrixInverse),o.af(y,y,this.pixelMatrixInverse);let x=g[3],C=y[3],D=g[1]/x,N=y[1]/C,F=g[2]/x,V=y[2]/C,G=F===V?0:(0-F)/(V-F);return new o.Z(o.y.number(g[0]/x,y[0]/C,G)/this.worldSize,o.y.number(D,N,G)/this.worldSize)}coordinatePoint(s,p=0,g=this.pixelMatrix){let y=[s.x*this.worldSize,s.y*this.worldSize,p,1];return o.af(y,y,g),new o.P(y[0]/y[3],y[1]/y[3])}getBounds(){let s=Math.max(0,this.height/2-this.getHorizon());return new Se().extend(this.pointLocation(new o.P(0,s))).extend(this.pointLocation(new o.P(this.width,s))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Se([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Xx])}calculateTileMatrix(s){let p=s.canonical,g=this.worldSize/this.zoomScale(p.z),y=p.x+Math.pow(2,p.z)*s.wrap,x=o.an(new Float64Array(16));return o.J(x,x,[y*g,p.y*g,0]),o.K(x,x,[g/o.X,g/o.X,1]),x}calculatePosMatrix(s,p=!1){let g=s.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[g])return y[g];let x=this.calculateTileMatrix(s);return o.L(x,p?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,x),y[g]=new Float32Array(x),y[g]}calculateFogMatrix(s){let p=s.key,g=this._fogMatrixCache;if(g[p])return g[p];let y=this.calculateTileMatrix(s);return o.L(y,this.fogMatrix,y),g[p]=new Float32Array(y),g[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(s,p){p=o.ac(+p,this.minZoom,this.maxZoom);let g={center:new o.N(s.lng,s.lat),zoom:p},y=this.lngRange;if(!this._renderWorldCopies&&y===null){let ue=179.9999999999;y=[-ue,ue]}let x=this.tileSize*this.zoomScale(g.zoom),C=0,D=x,N=0,F=x,V=0,G=0,{x:X,y:ie}=this.size;if(this.latRange){let ue=this.latRange;C=o.Q(ue[1])*x,D=o.Q(ue[0])*x,D-C<ie&&(V=ie/(D-C))}y&&(N=o.b3(o.O(y[0])*x,0,x),F=o.b3(o.O(y[1])*x,0,x),F<N&&(F+=x),F-N<X&&(G=X/(F-N)));let{x:le,y:fe}=this.project.call({worldSize:x},s),ge,ye,xe=Math.max(G||0,V||0);if(xe){let ue=new o.P(G?(F+N)/2:le,V?(D+C)/2:fe);return g.center=this.unproject.call({worldSize:x},ue).wrap(),g.zoom+=this.scaleZoom(xe),g}if(this.latRange){let ue=ie/2;fe-ue<C&&(ye=C+ue),fe+ue>D&&(ye=D-ue)}if(y){let ue=(N+F)/2,Te=le;this._renderWorldCopies&&(Te=o.b3(le,ue-x/2,ue+x/2));let Oe=X/2;Te-Oe<N&&(ge=N+Oe),Te+Oe>F&&(ge=F-Oe)}if(ge!==void 0||ye!==void 0){let ue=new o.P(ge!=null?ge:le,ye!=null?ye:fe);g.center=this.unproject.call({worldSize:x},ue).wrap()}return g}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let s=this._unmodified,{center:p,zoom:g}=this.getConstrained(this.center,this.zoom);this.center=p,this.zoom=g,this._unmodified=s,this._constraining=!1}_calcMatrices(){if(!this.height)return;let s=this.centerOffset,p=this.point.x,g=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b5(1,this.center.lat)*this.worldSize;let y=o.an(new Float64Array(16));o.K(y,y,[this.width/2,-this.height/2,1]),o.J(y,y,[1,-1,0]),this.labelPlaneMatrix=y,y=o.an(new Float64Array(16)),o.K(y,y,[1,-1,1]),o.J(y,y,[-1,-1,0]),o.K(y,y,[2/this.width,2/this.height,1]),this.glCoordMatrix=y;let x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),C=Math.min(this.elevation,this.minElevationForCurrentTile),D=x-C*this._pixelPerMeter/Math.cos(this._pitch),N=C<0?D:x,F=Math.PI/2+this._pitch,V=this._fov*(.5+s.y/this.height),G=Math.sin(V)*N/Math.sin(o.ac(Math.PI-F-V,.01,Math.PI-.01)),X=this.getHorizon(),ie=2*Math.atan(X/this.cameraToCenterDistance)*(.5+s.y/(2*X)),le=Math.sin(ie)*N/Math.sin(o.ac(Math.PI-F-ie,.01,Math.PI-.01)),fe=Math.min(G,le);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*fe+N),this.nearZ=this.height/50,y=new Float64Array(16),o.b6(y,this._fov,this.width/this.height,this.nearZ,this.farZ),y[8]=2*-s.x/this.width,y[9]=2*s.y/this.height,this.projectionMatrix=o.ae(y),o.K(y,y,[1,-1,1]),o.J(y,y,[0,0,-this.cameraToCenterDistance]),o.b7(y,y,this._pitch),o.ad(y,y,this.angle),o.J(y,y,[-p,-g,0]),this.mercatorMatrix=o.K([],y,[this.worldSize,this.worldSize,this.worldSize]),o.K(y,y,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.L(new Float64Array(16),this.labelPlaneMatrix,y),o.J(y,y,[0,0,-this.elevation]),this.modelViewProjectionMatrix=y,this.invModelViewProjectionMatrix=o.as([],y),this.fogMatrix=new Float64Array(16),o.b6(this.fogMatrix,this._fov,this.width/this.height,x,this.farZ),this.fogMatrix[8]=2*-s.x/this.width,this.fogMatrix[9]=2*s.y/this.height,o.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b7(this.fogMatrix,this.fogMatrix,this._pitch),o.ad(this.fogMatrix,this.fogMatrix,this.angle),o.J(this.fogMatrix,this.fogMatrix,[-p,-g,0]),o.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=o.L(new Float64Array(16),this.labelPlaneMatrix,y);let ge=this.width%2/2,ye=this.height%2/2,xe=Math.cos(this.angle),ue=Math.sin(this.angle),Te=p-Math.round(p)+xe*ge+ue*ye,Oe=g-Math.round(g)+xe*ye+ue*ge,ze=new Float64Array(y);if(o.J(ze,ze,[Te>.5?Te-1:Te,Oe>.5?Oe-1:Oe,0]),this.alignedModelViewProjectionMatrix=ze,y=o.as(new Float64Array(16),this.pixelMatrix),!y)throw new Error("failed to invert matrix");this.pixelMatrixInverse=y,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let s=this.pointCoordinate(new o.P(0,0)),p=[s.x*this.worldSize,s.y*this.worldSize,0,1];return o.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){let s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,s))}getCameraQueryGeometry(s){let p=this.getCameraPoint();if(s.length===1)return[s[0],p];{let g=p.x,y=p.y,x=p.x,C=p.y;for(let D of s)g=Math.min(g,D.x),y=Math.min(y,D.y),x=Math.max(x,D.x),C=Math.max(C,D.y);return[new o.P(g,y),new o.P(x,y),new o.P(x,C),new o.P(g,C),new o.P(g,y)]}}lngLatToCameraDepth(s,p){let g=this.locationCoordinate(s),y=[g.x*this.worldSize,g.y*this.worldSize,p,1];return o.af(y,y,this.modelViewProjectionMatrix),y[2]/y[3]}}function Jm(b,s){let p,g=!1,y=null,x=null,C=()=>{y=null,g&&(b.apply(x,p),y=setTimeout(C,s),g=!1)};return(...D)=>(g=!0,x=this,p=D,y||C(),y)}class Dy{constructor(s){this._getCurrentHash=()=>{let p=window.location.hash.replace("#","");if(this._hashName){let g;return p.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(g=y)}),(g&&g[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{let p=this._getCurrentHash();if(p.length>=3&&!p.some(g=>isNaN(g))){let g=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:g,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{let p=window.location.href.replace(/(#.+)?$/,this.getHashString());window.history.replaceState(window.history.state,null,p)},this._removeHash=()=>{let p=this._getCurrentHash();if(p.length===0)return;let g=p.join("/"),y=g;y.split("&").length>0&&(y=y.split("&")[0]),this._hashName&&(y=`${this._hashName}=${g}`);let x=window.location.hash.replace(y,"");x.startsWith("#&")?x=x.slice(0,1)+x.slice(2):x==="#"&&(x="");let C=window.location.href.replace(/(#.+)?$/,x);C=C.replace("&&","&"),window.history.replaceState(window.history.state,null,C)},this._updateHash=Jm(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){let p=this._map.getCenter(),g=Math.round(100*this._map.getZoom())/100,y=Math.ceil((g*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,y),C=Math.round(p.lng*x)/x,D=Math.round(p.lat*x)/x,N=this._map.getBearing(),F=this._map.getPitch(),V="";if(V+=s?`/${C}/${D}/${g}`:`${g}/${D}/${C}`,(N||F)&&(V+="/"+Math.round(10*N)/10),F&&(V+=`/${Math.round(F)}`),this._hashName){let G=this._hashName,X=!1,ie=window.location.hash.slice(1).split("&").map(le=>{let fe=le.split("=")[0];return fe===G?(X=!0,`${fe}=${V}`):le}).filter(le=>le);return X||ie.push(`${G}=${V}`),`#${ie.join("&")}`}return`#${V}`}}let Ly={linearity:.3,easing:o.b8(0,0,.3,1)},Qx=o.e({deceleration:2500,maxSpeed:1400},Ly),l3=o.e({deceleration:20,maxSpeed:1400},Ly),X2=o.e({deceleration:1e3,maxSpeed:360},Ly),Py=o.e({deceleration:1e3,maxSpeed:90},Ly);class Jx{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:m.now(),settings:s})}_drainInertiaBuffer(){let s=this._inertiaBuffer,p=m.now();for(;s.length>0&&p-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let p={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:x}of this._inertiaBuffer)p.zoom+=x.zoomDelta||0,p.bearing+=x.bearingDelta||0,p.pitch+=x.pitchDelta||0,x.panDelta&&p.pan._add(x.panDelta),x.around&&(p.around=x.around),x.pinchAround&&(p.pinchAround=x.pinchAround);let g=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(p.pan.mag()){let x=tg(p.pan.mag(),g,o.e({},Qx,s||{}));y.offset=p.pan.mult(x.amount/p.pan.mag()),y.center=this._map.transform.center,eg(y,x)}if(p.zoom){let x=tg(p.zoom,g,l3);y.zoom=this._map.transform.zoom+x.amount,eg(y,x)}if(p.bearing){let x=tg(p.bearing,g,X2);y.bearing=this._map.transform.bearing+o.ac(x.amount,-179,179),eg(y,x)}if(p.pitch){let x=tg(p.pitch,g,Py);y.pitch=this._map.transform.pitch+x.amount,eg(y,x)}if(y.zoom||y.bearing){let x=p.pinchAround===void 0?p.around:p.pinchAround;y.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),o.e(y,{noMoveStart:!0})}}function eg(b,s){(!b.duration||b.duration<s.duration)&&(b.duration=s.duration,b.easing=s.easing)}function tg(b,s,p){let{maxSpeed:g,linearity:y,deceleration:x}=p,C=o.ac(b*y/(s/1e3),-g,g),D=Math.abs(C)/(x*y);return{easing:p.easing,duration:1e3*D,amount:C*(D/2)}}class Oo extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,p,g,y={}){let x=v.mousePos(p.getCanvas(),g),C=p.unproject(x);super(s,o.e({point:x,lngLat:C,originalEvent:g},y)),this._defaultPrevented=!1,this.target=p}}class rp extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,p,g){let y=s==="touchend"?g.changedTouches:g.touches,x=v.touchPos(p.getCanvasContainer(),y),C=x.map(N=>p.unproject(N)),D=x.reduce((N,F,V,G)=>N.add(F.div(G.length)),new o.P(0,0));super(s,{points:x,point:D,lngLats:C,lngLat:p.unproject(D),originalEvent:g}),this._defaultPrevented=!1}}class Q2 extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,p,g){super(s,{originalEvent:g}),this._defaultPrevented=!1}}class J2{constructor(s,p){this._map=s,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new Q2(s.type,this._map,s))}mousedown(s,p){return this._mousedownPos=p,this._firePreventable(new Oo(s.type,this._map,s))}mouseup(s){this._map.fire(new Oo(s.type,this._map,s))}click(s,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Oo(s.type,this._map,s))}dblclick(s){return this._firePreventable(new Oo(s.type,this._map,s))}mouseover(s){this._map.fire(new Oo(s.type,this._map,s))}mouseout(s){this._map.fire(new Oo(s.type,this._map,s))}touchstart(s){return this._firePreventable(new rp(s.type,this._map,s))}touchmove(s){this._map.fire(new rp(s.type,this._map,s))}touchend(s){this._map.fire(new rp(s.type,this._map,s))}touchcancel(s){this._map.fire(new rp(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Di{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new Oo(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Oo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new Oo(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _l{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.pointLocation(o.P.convert(s),this._map.terrain)}}class cs{constructor(s,p){this._map=s,this._tr=new _l(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,p){this.isEnabled()&&s.shiftKey&&s.button===0&&(v.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(s,p){if(!this._active)return;let g=p;if(this._lastPos.equals(g)||!this._box&&g.dist(this._startPos)<this._clickTolerance)return;let y=this._startPos;this._lastPos=g,this._box||(this._box=v.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));let x=Math.min(y.x,g.x),C=Math.max(y.x,g.x),D=Math.min(y.y,g.y),N=Math.max(y.y,g.y);v.setTransform(this._box,`translate(${x}px,${D}px)`),this._box.style.width=C-x+"px",this._box.style.height=N-D+"px"}mouseupWindow(s,p){if(!this._active||s.button!==0)return;let g=this._startPos,y=p;if(this.reset(),v.suppressClick(),g.x!==y.x||g.y!==y.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:s})),{cameraAnimation:x=>x.fitScreenCoordinates(g,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(v.remove(this._box),this._box=null),v.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,p){return this._map.fire(new o.k(s,{originalEvent:p}))}}function rg(b,s){if(b.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${s.length}`);let p={};for(let g=0;g<b.length;g++)p[b[g].identifier]=s[g];return p}class eb{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,p,g){(this.centroid||g.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),g.length===this.numTouches&&(this.centroid=function(y){let x=new o.P(0,0);for(let C of y)x._add(C);return x.div(y.length)}(p),this.touches=rg(g,p)))}touchmove(s,p,g){if(this.aborted||!this.centroid)return;let y=rg(g,p);for(let x in this.touches){let C=y[x];(!C||C.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(s,p,g){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),g.length===0){let y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class Ny{constructor(s){this.singleTap=new eb(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,p,g){this.singleTap.touchstart(s,p,g)}touchmove(s,p,g){this.singleTap.touchmove(s,p,g)}touchend(s,p,g){let y=this.singleTap.touchend(s,p,g);if(y){let x=s.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(y)<30;if(x&&C||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class Rd{constructor(s){this._tr=new _l(s),this._zoomIn=new Ny({numTouches:1,numTaps:2}),this._zoomOut=new Ny({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,p,g){this._zoomIn.touchstart(s,p,g),this._zoomOut.touchstart(s,p,g)}touchmove(s,p,g){this._zoomIn.touchmove(s,p,g),this._zoomOut.touchmove(s,p,g)}touchend(s,p,g){let y=this._zoomIn.touchend(s,p,g),x=this._zoomOut.touchend(s,p,g),C=this._tr;return y?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(y)},{originalEvent:s})}):x?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(x)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ju{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){let p=this._moveFunction(...s);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(s,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,p){if(!this.isEnabled())return;let g=this._lastPoint;if(!g)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);let y=p.length?p[0]:p;return!this._moved&&y.dist(g)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(g,y))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&v.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let tb={0:1,2:2};class Ry{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){let p=v.mouseButton(s);this._eventButton=p}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(p,g){let y=tb[g];return p.buttons===void 0||(p.buttons&y)!==y}(s,this._eventButton)}isValidEndEvent(s){return v.mouseButton(s)===this._eventButton}}class rb{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}let ky=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=s=>{s.preventDefault()}},nb=({enable:b,clickTolerance:s,bearingDegreesPerPixelMoved:p=.8})=>{let g=new Ry({checkCorrectEvent:y=>v.mouseButton(y)===0&&y.ctrlKey||v.mouseButton(y)===2});return new Ju({clickTolerance:s,move:(y,x)=>({bearingDelta:(x.x-y.x)*p}),moveStateManager:g,enable:b,assignEvents:ky})},ib=({enable:b,clickTolerance:s,pitchDegreesPerPixelMoved:p=-.5})=>{let g=new Ry({checkCorrectEvent:y=>v.mouseButton(y)===0&&y.ctrlKey||v.mouseButton(y)===2});return new Ju({clickTolerance:s,move:(y,x)=>({pitchDelta:(x.y-y.y)*p}),moveStateManager:g,enable:b,assignEvents:ky})};class np{constructor(s,p){this._clickTolerance=s.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,p,g){return this._calculateTransform(s,p,g)}touchmove(s,p,g){if(this._active){if(!this._shouldBePrevented(g.length))return s.preventDefault(),this._calculateTransform(s,p,g);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,p,g){this._calculateTransform(s,p,g),this._active&&this._shouldBePrevented(g.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,p,g){g.length>0&&(this._active=!0);let y=rg(g,p),x=new o.P(0,0),C=new o.P(0,0),D=0;for(let F in y){let V=y[F],G=this._touches[F];G&&(x._add(V),C._add(V.sub(G)),D++,y[F]=V)}if(this._touches=y,this._shouldBePrevented(D)||!C.mag())return;let N=C.div(D);return this._sum._add(N),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(D),panDelta:N}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qy{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,p,g){this._firstTwoTouches||g.length<2||(this._firstTwoTouches=[g[0].identifier,g[1].identifier],this._start([p[0],p[1]]))}touchmove(s,p,g){if(!this._firstTwoTouches)return;s.preventDefault();let[y,x]=this._firstTwoTouches,C=ng(g,p,y),D=ng(g,p,x);if(!C||!D)return;let N=this._aroundCenter?null:C.add(D).div(2);return this._move([C,D],N,s)}touchend(s,p,g){if(!this._firstTwoTouches)return;let[y,x]=this._firstTwoTouches,C=ng(g,p,y),D=ng(g,p,x);C&&D||(this._active&&v.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ng(b,s,p){for(let g=0;g<b.length;g++)if(b[g].identifier===p)return s[g]}function ob(b,s){return Math.log(b/s)/Math.LN2}class ab extends qy{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,p){let g=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(ob(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ob(this._distance,g),pinchAround:p}}}function sb(b,s){return 180*b.angleWith(s)/Math.PI}class lb extends qy{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,p,g){let y=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:sb(this._vector,y),pinchAround:p}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());let p=25/(Math.PI*this._minDiameter)*360,g=sb(s,this._startVector);return Math.abs(g)<p}}function jy(b){return Math.abs(b.y)>Math.abs(b.x)}class kd extends qy{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,p,g){super.touchstart(s,p,g),this._currentTouchCount=g.length}_start(s){this._lastPoints=s,jy(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,p,g){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let y=s[0].sub(this._lastPoints[0]),x=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,x,g.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(y.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(s,p,g){if(this._valid!==void 0)return this._valid;let y=s.mag()>=2,x=p.mag()>=2;if(!y&&!x)return;if(!y||!x)return this._firstMove===void 0&&(this._firstMove=g),g-this._firstMove<100&&void 0;let C=s.y>0==p.y>0;return jy(s)&&jy(p)&&C}}let eA={panStep:100,bearingStep:15,pitchStep:10};class Ps{constructor(s){this._tr=new _l(s);let p=eA;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let p=0,g=0,y=0,x=0,C=0;switch(s.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:s.shiftKey?g=-1:(s.preventDefault(),x=-1);break;case 39:s.shiftKey?g=1:(s.preventDefault(),x=1);break;case 38:s.shiftKey?y=1:(s.preventDefault(),C=-1);break;case 40:s.shiftKey?y=-1:(s.preventDefault(),C=1);break;default:return;}return this._rotationDisabled&&(g=0,y=0),{cameraAnimation:D=>{let N=this._tr;D.easeTo({duration:300,easeId:"keyboardHandler",easing:Kl,zoom:p?Math.round(N.zoom)+p*(s.shiftKey?2:1):N.zoom,bearing:N.bearing+g*this._bearingStep,pitch:N.pitch+y*this._pitchStep,offset:[-x*this._panStep,-C*this._panStep],center:N.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Kl(b){return b*(2-b)}let ub=4.000244140625;class xl{constructor(s,p){this._onTimeout=g=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(g)},this._map=s,this._tr=new _l(s),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let p=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY,g=m.now(),y=g-(this._lastWheelEventTime||0);this._lastWheelEventTime=g,p!==0&&p%ub==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),s.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=s,this._delta-=p,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let p=v.mousePos(this._map.getCanvas(),s),g=this._tr;this._around=p.y>g.transform.height/2-g.transform.getHorizon()?o.N.convert(this._aroundCenter?g.center:g.unproject(p)):o.N.convert(g.center),this._aroundPoint=g.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let s=this._tr.transform;if(this._delta!==0){let N=this._type==="wheel"&&Math.abs(this._delta)>ub?this._wheelZoomRate:this._defaultZoomRate,F=2/(1+Math.exp(-Math.abs(this._delta*N)));this._delta<0&&F!==0&&(F=1/F);let V=typeof this._targetZoom=="number"?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(V*F))),this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let p=typeof this._targetZoom=="number"?this._targetZoom:s.zoom,g=this._startZoom,y=this._easing,x,C=!1,D=m.now()-this._lastWheelEventTime;if(this._type==="wheel"&&g&&y&&D){let N=Math.min(D/200,1),F=y(N);x=o.y.number(g,p,F),N<1?this._frameId||(this._frameId=!0):C=!0}else x=p,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:x-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let p=o.b9;if(this._prevEase){let g=this._prevEase,y=(m.now()-g.start)/g.duration,x=g.easing(y+.01)-g.easing(y),C=.27/Math.sqrt(x*x+1e-4)*.01,D=Math.sqrt(.0729-C*C);p=o.b8(C,D,.25,1)}return this._prevEase={start:m.now(),duration:s,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ip{constructor(s,p){this._clickZoom=s,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class u3{constructor(s){this._tr=new _l(s),this.reset()}reset(){this._active=!1}dblclick(s,p){return s.preventDefault(),{cameraAnimation:g=>{g.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class c3{constructor(){this._tap=new Ny({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,p,g){if(!this._swipePoint)if(this._tapTime){let y=p[0],x=s.timeStamp-this._tapTime<500,C=this._tapPoint.dist(y)<30;x&&C?g.length>0&&(this._swipePoint=y,this._swipeTouch=g[0].identifier):this.reset()}else this._tap.touchstart(s,p,g)}touchmove(s,p,g){if(this._tapTime){if(this._swipePoint){if(g[0].identifier!==this._swipeTouch)return;let y=p[0],x=y.y-this._swipePoint.y;return this._swipePoint=y,s.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(s,p,g)}touchend(s,p,g){if(this._tapTime)this._swipePoint&&g.length===0&&this.reset();else{let y=this._tap.touchend(s,p,g);y&&(this._tapTime=s.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tA{constructor(s,p,g){this._el=s,this._mousePan=p,this._touchPan=g}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class rA{constructor(s,p,g){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=p,this._mousePitch=g}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class cb{constructor(s,p,g,y){this._el=s,this._touchZoom=p,this._touchRotate=g,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class qd{constructor(s,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=v.create("div","maplibregl-cooperative-gesture-screen",s);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let g=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),y=document.createElement("div");y.className="maplibregl-desktop-message",y.textContent=p,this._container.appendChild(y);let x=document.createElement("div");x.className="maplibregl-mobile-message",x.textContent=g,this._container.appendChild(x),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(v.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,p){this._enabled&&(this._map.fire(new o.k("cooperativegestureprevented",{gestureType:s,originalEvent:p})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let Ns=b=>b.zoom||b.drag||b.pitch||b.rotate;class Ut extends o.k{}function zy(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class fb{constructor(s,p){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,x)=>{if(y.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let C=y.type==="renderFrame"?void 0:y,D={needsRenderFrame:!1},N={},F={},V=y.touches,G=V?this._getMapTouches(V):void 0,X=G?v.touchPos(this._map.getCanvas(),G):v.mousePos(this._map.getCanvas(),y);for(let{handlerName:fe,handler:ge,allowed:ye}of this._handlers){if(!ge.isEnabled())continue;let xe;this._blockedByActive(F,ye,fe)?ge.reset():ge[x||y.type]&&(xe=ge[x||y.type](y,X,G),this.mergeHandlerResult(D,N,xe,fe,C),xe&&xe.needsRenderFrame&&this._triggerRenderFrame()),(xe||ge.isActive())&&(F[fe]=ge)}let ie={};for(let fe in this._previousActiveHandlers)F[fe]||(ie[fe]=C);this._previousActiveHandlers=F,(Object.keys(ie).length||zy(D))&&(this._changes.push([D,N,ie]),this._triggerRenderFrame()),(Object.keys(F).length||zy(D))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:le}=D;le&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],le(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jx(s),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);let g=this._el;this._listeners=[[g,"touchstart",{passive:!0}],[g,"touchmove",{passive:!1}],[g,"touchend",void 0],[g,"touchcancel",void 0],[g,"mousedown",void 0],[g,"mousemove",void 0],[g,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[g,"mouseover",void 0],[g,"mouseout",void 0],[g,"dblclick",void 0],[g,"click",void 0],[g,"keydown",{capture:!1}],[g,"keyup",void 0],[g,"wheel",{passive:!1}],[g,"contextmenu",void 0],[window,"blur",void 0]];for(let[y,x,C]of this._listeners)v.addEventListener(y,x,y===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(let[s,p,g]of this._listeners)v.removeEventListener(s,p,s===document?this.handleWindowEvent:this.handleEvent,g)}_addDefaultHandlers(s){let p=this._map,g=p.getCanvasContainer();this._add("mapEvent",new J2(p,s));let y=p.boxZoom=new cs(p,s);this._add("boxZoom",y),s.interactive&&s.boxZoom&&y.enable();let x=p.cooperativeGestures=new qd(p,s.cooperativeGestures);this._add("cooperativeGestures",x),s.cooperativeGestures&&x.enable();let C=new Rd(p),D=new u3(p);p.doubleClickZoom=new ip(D,C),this._add("tapZoom",C),this._add("clickZoom",D),s.interactive&&s.doubleClickZoom&&p.doubleClickZoom.enable();let N=new c3;this._add("tapDragZoom",N);let F=p.touchPitch=new kd(p);this._add("touchPitch",F),s.interactive&&s.touchPitch&&p.touchPitch.enable(s.touchPitch);let V=nb(s),G=ib(s);p.dragRotate=new rA(s,V,G),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]),s.interactive&&s.dragRotate&&p.dragRotate.enable();let X=(({enable:xe,clickTolerance:ue})=>{let Te=new Ry({checkCorrectEvent:Oe=>v.mouseButton(Oe)===0&&!Oe.ctrlKey});return new Ju({clickTolerance:ue,move:(Oe,ze)=>({around:ze,panDelta:ze.sub(Oe)}),activateOnStart:!0,moveStateManager:Te,enable:xe,assignEvents:ky})})(s),ie=new np(s,p);p.dragPan=new tA(g,X,ie),this._add("mousePan",X),this._add("touchPan",ie,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&p.dragPan.enable(s.dragPan);let le=new lb,fe=new ab;p.touchZoomRotate=new cb(g,fe,le,N),this._add("touchRotate",le,["touchPan","touchZoom"]),this._add("touchZoom",fe,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&p.touchZoomRotate.enable(s.touchZoomRotate);let ge=p.scrollZoom=new xl(p,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),s.interactive&&s.scrollZoom&&p.scrollZoom.enable(s.scrollZoom);let ye=p.keyboard=new Ps(p);this._add("keyboard",ye),s.interactive&&s.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new Di(p))}_add(s,p,g){this._handlers.push({handlerName:s,handler:p,allowed:g}),this._handlersById[s]=p}stop(s){if(!this._updatingCamera){for(let{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(let{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ns(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,p,g){for(let y in s)if(y!==g&&(!p||p.indexOf(y)<0))return!0;return!1}_getMapTouches(s){let p=[];for(let g of s)this._el.contains(g.target)&&p.push(g);return p}mergeHandlerResult(s,p,g,y,x){if(!g)return;o.e(s,g);let C={handlerName:y,originalEvent:g.originalEvent||x};g.zoomDelta!==void 0&&(p.zoom=C),g.panDelta!==void 0&&(p.drag=C),g.pitchDelta!==void 0&&(p.pitch=C),g.bearingDelta!==void 0&&(p.rotate=C)}_applyChanges(){let s={},p={},g={};for(let[y,x,C]of this._changes)y.panDelta&&(s.panDelta=(s.panDelta||new o.P(0,0))._add(y.panDelta)),y.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+y.pitchDelta),y.around!==void 0&&(s.around=y.around),y.pinchAround!==void 0&&(s.pinchAround=y.pinchAround),y.noInertia&&(s.noInertia=y.noInertia),o.e(p,x),o.e(g,C);this._updateMapTransform(s,p,g),this._changes=[]}_updateMapTransform(s,p,g){let y=this._map,x=y._getTransformForUpdate(),C=y.terrain;if(!(zy(s)||C&&this._terrainMovement))return this._fireEvents(p,g,!0);let{panDelta:D,zoomDelta:N,bearingDelta:F,pitchDelta:V,around:G,pinchAround:X}=s;X!==void 0&&(G=X),y._stop(!0),G=G||y.transform.centerPoint;let ie=x.pointLocation(D?G.sub(D):G);F&&(x.bearing+=F),V&&(x.pitch+=V),N&&(x.zoom+=N),C?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(D)):x.setLocationAtPoint(ie,G):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(ie,G)):x.setLocationAtPoint(ie,G),y._applyUpdatedTransform(x),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(p,g,!0)}_fireEvents(s,p,g){let y=Ns(this._eventsInProgress),x=Ns(s),C={};for(let G in s){let{originalEvent:X}=s[G];this._eventsInProgress[G]||(C[`${G}start`]=X),this._eventsInProgress[G]=s[G]}!y&&x&&this._fireEvent("movestart",x.originalEvent);for(let G in C)this._fireEvent(G,C[G]);x&&this._fireEvent("move",x.originalEvent);for(let G in s){let{originalEvent:X}=s[G];this._fireEvent(G,X)}let D={},N;for(let G in this._eventsInProgress){let{handlerName:X,originalEvent:ie}=this._eventsInProgress[G];this._handlersById[X].isActive()||(delete this._eventsInProgress[G],N=p[X]||ie,D[`${G}end`]=N)}for(let G in D)this._fireEvent(G,D[G]);let F=Ns(this._eventsInProgress),V=(y||x)&&!F;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let G=this._map._getTransformForUpdate();G.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(G)}if(g&&V){this._updatingCamera=!0;let G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),X=ie=>ie!==0&&-this._bearingSnap<ie&&ie<this._bearingSnap;!G||!G.essential&&m.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:N})),X(this._map.getBearing())&&this._map.resetNorth()):(X(G.bearing||this._map.getBearing())&&(G.bearing=0),G.freezeElevation=!0,this._map.easeTo(G,{originalEvent:N})),this._updatingCamera=!1}}_fireEvent(s,p){this._map.fire(new o.k(s,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new Ut("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class nA extends o.E{constructor(s,p){super(),this._renderFrameCallback=()=>{let g=Math.min((m.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(g)),g<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.N(this.transform.center.lng,this.transform.center.lat)}setCenter(s,p){return this.jumpTo({center:s},p)}panBy(s,p,g){return s=o.P.convert(s).mult(-1),this.panTo(this.transform.center,o.e({offset:s},p),g)}panTo(s,p,g){return this.easeTo(o.e({center:s},p),g)}getZoom(){return this.transform.zoom}setZoom(s,p){return this.jumpTo({zoom:s},p),this}zoomTo(s,p,g){return this.easeTo(o.e({zoom:s},p),g)}zoomIn(s,p){return this.zoomTo(this.getZoom()+1,s,p),this}zoomOut(s,p){return this.zoomTo(this.getZoom()-1,s,p),this}getBearing(){return this.transform.bearing}setBearing(s,p){return this.jumpTo({bearing:s},p),this}getPadding(){return this.transform.padding}setPadding(s,p){return this.jumpTo({padding:s},p),this}rotateTo(s,p,g){return this.easeTo(o.e({bearing:s},p),g)}resetNorth(s,p){return this.rotateTo(0,o.e({duration:1e3},s),p),this}resetNorthPitch(s,p){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},s),p),this}snapToNorth(s,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,p):this}getPitch(){return this.transform.pitch}setPitch(s,p){return this.jumpTo({pitch:s},p),this}cameraForBounds(s,p){s=Se.convert(s).adjustAntiMeridian();let g=p&&p.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),g,p)}_cameraForBoxAndBearing(s,p,g,y){let x={top:0,bottom:0,right:0,left:0};if(typeof(y=o.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){let St=y.padding;y.padding={top:St,bottom:St,right:St,left:St}}y.padding=o.e(x,y.padding);let C=this.transform,D=C.padding,N=new Se(s,p),F=C.project(N.getNorthWest()),V=C.project(N.getNorthEast()),G=C.project(N.getSouthEast()),X=C.project(N.getSouthWest()),ie=o.ba(-g),le=F.rotate(ie),fe=V.rotate(ie),ge=G.rotate(ie),ye=X.rotate(ie),xe=new o.P(Math.max(le.x,fe.x,ye.x,ge.x),Math.max(le.y,fe.y,ye.y,ge.y)),ue=new o.P(Math.min(le.x,fe.x,ye.x,ge.x),Math.min(le.y,fe.y,ye.y,ge.y)),Te=xe.sub(ue),Oe=(C.width-(D.left+D.right+y.padding.left+y.padding.right))/Te.x,ze=(C.height-(D.top+D.bottom+y.padding.top+y.padding.bottom))/Te.y;if(ze<0||Oe<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");let rt=Math.min(C.scaleZoom(C.scale*Math.min(Oe,ze)),y.maxZoom),dt=o.P.convert(y.offset),Ct=new o.P((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(o.ba(g)),qt=dt.add(Ct).mult(C.scale/C.zoomScale(rt));return{center:C.unproject(F.add(G).div(2).sub(qt)),zoom:rt,bearing:g}}fitBounds(s,p,g){return this._fitInternal(this.cameraForBounds(s,p),p,g)}fitScreenCoordinates(s,p,g,y,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(s)),this.transform.pointLocation(o.P.convert(p)),g,y),y,x)}_fitInternal(s,p,g){return s?(delete(p=o.e(s,p)).padding,p.linear?this.easeTo(p,g):this.flyTo(p,g)):this}jumpTo(s,p){this.stop();let g=this._getTransformForUpdate(),y=!1,x=!1,C=!1;return"zoom"in s&&g.zoom!==+s.zoom&&(y=!0,g.zoom=+s.zoom),s.center!==void 0&&(g.center=o.N.convert(s.center)),"bearing"in s&&g.bearing!==+s.bearing&&(x=!0,g.bearing=+s.bearing),"pitch"in s&&g.pitch!==+s.pitch&&(C=!0,g.pitch=+s.pitch),s.padding==null||g.isPaddingEqual(s.padding)||(g.padding=s.padding),this._applyUpdatedTransform(g),this.fire(new o.k("movestart",p)).fire(new o.k("move",p)),y&&this.fire(new o.k("zoomstart",p)).fire(new o.k("zoom",p)).fire(new o.k("zoomend",p)),x&&this.fire(new o.k("rotatestart",p)).fire(new o.k("rotate",p)).fire(new o.k("rotateend",p)),C&&this.fire(new o.k("pitchstart",p)).fire(new o.k("pitch",p)).fire(new o.k("pitchend",p)),this.fire(new o.k("moveend",p))}calculateCameraOptionsFromTo(s,p,g,y=0){let x=o.Z.fromLngLat(s,p),C=o.Z.fromLngLat(g,y),D=C.x-x.x,N=C.y-x.y,F=C.z-x.z,V=Math.hypot(D,N,F);if(V===0)throw new Error("Can't calculate camera options with same From and To");let G=Math.hypot(D,N),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/V/this.transform.tileSize),ie=180*Math.atan2(D,-N)/Math.PI,le=180*Math.acos(G/V)/Math.PI;return le=F<0?90-le:90+le,{center:C.toLngLat(),zoom:X,pitch:le,bearing:ie}}easeTo(s,p){var g;this._stop(!1,s.easeId),((s=o.e({offset:[0,0],duration:500,easing:o.b9},s)).animate===!1||!s.essential&&m.prefersReducedMotion)&&(s.duration=0);let y=this._getTransformForUpdate(),x=y.zoom,C=y.bearing,D=y.pitch,N=y.padding,F="bearing"in s?this._normalizeBearing(s.bearing,C):C,V="pitch"in s?+s.pitch:D,G="padding"in s?s.padding:y.padding,X=o.P.convert(s.offset),ie=y.centerPoint.add(X),le=y.pointLocation(ie),{center:fe,zoom:ge}=y.getConstrained(o.N.convert(s.center||le),(g=s.zoom)!==null&&g!==void 0?g:x);this._normalizeCenter(fe,y);let ye=y.project(le),xe=y.project(fe).sub(ye),ue=y.zoomScale(ge-x),Te,Oe;s.around&&(Te=o.N.convert(s.around),Oe=y.locationPoint(Te));let ze={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ge!==x,this._rotating=this._rotating||C!==F,this._pitching=this._pitching||V!==D,this._padding=!y.isPaddingEqual(G),this._easeId=s.easeId,this._prepareEase(p,s.noMoveStart,ze),this.terrain&&this._prepareElevation(fe),this._ease(rt=>{if(this._zooming&&(y.zoom=o.y.number(x,ge,rt)),this._rotating&&(y.bearing=o.y.number(C,F,rt)),this._pitching&&(y.pitch=o.y.number(D,V,rt)),this._padding&&(y.interpolatePadding(N,G,rt),ie=y.centerPoint.add(X)),this.terrain&&!s.freezeElevation&&this._updateElevation(rt),Te)y.setLocationAtPoint(Te,Oe);else{let dt=y.zoomScale(y.zoom-x),Ct=ge>x?Math.min(2,ue):Math.max(.5,ue),qt=Math.pow(Ct,1-rt),St=y.unproject(ye.add(xe.mult(rt*qt)).mult(dt));y.setLocationAtPoint(y.renderWorldCopies?St.wrap():St,ie)}this._applyUpdatedTransform(y),this._fireMoveEvents(p)},rt=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(p,rt)},s),this}_prepareEase(s,p,g={}){this._moving=!0,p||g.moving||this.fire(new o.k("movestart",s)),this._zooming&&!g.zooming&&this.fire(new o.k("zoomstart",s)),this._rotating&&!g.rotating&&this.fire(new o.k("rotatestart",s)),this._pitching&&!g.pitching&&this.fire(new o.k("pitchstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);let p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&p!==this._elevationTarget){let g=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(g-(p-(g*s+this._elevationStart))/(1-s)),this._elevationTarget=p}this.transform.elevation=o.y.number(this._elevationStart,this._elevationTarget,s)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){let p=s.getCameraPosition(),g=this.terrain.getElevationForLngLatZoom(p.lngLat,s.zoom);if(p.altitude<g){let y=this.calculateCameraOptionsFromTo(p.lngLat,g,s.center,s.elevation);return{pitch:y.pitch,zoom:y.zoom}}return{}}_applyUpdatedTransform(s){let p=[];if(this.terrain&&p.push(y=>this._elevateCameraIfInsideTerrain(y)),this.transformCameraUpdate&&p.push(y=>this.transformCameraUpdate(y)),!p.length)return;let g=s.clone();for(let y of p){let x=g.clone(),{center:C,zoom:D,pitch:N,bearing:F,elevation:V}=y(x);C&&(x.center=C),D!==void 0&&(x.zoom=D),N!==void 0&&(x.pitch=N),F!==void 0&&(x.bearing=F),V!==void 0&&(x.elevation=V),g.apply(x)}this.transform.apply(g)}_fireMoveEvents(s){this.fire(new o.k("move",s)),this._zooming&&this.fire(new o.k("zoom",s)),this._rotating&&this.fire(new o.k("rotate",s)),this._pitching&&this.fire(new o.k("pitch",s))}_afterEase(s,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;let g=this._zooming,y=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,g&&this.fire(new o.k("zoomend",s)),y&&this.fire(new o.k("rotateend",s)),x&&this.fire(new o.k("pitchend",s)),this.fire(new o.k("moveend",s))}flyTo(s,p){var g;if(!s.essential&&m.prefersReducedMotion){let Nt=o.M(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Nt,p)}this.stop(),s=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.b9},s);let y=this._getTransformForUpdate(),x=y.zoom,C=y.bearing,D=y.pitch,N=y.padding,F="bearing"in s?this._normalizeBearing(s.bearing,C):C,V="pitch"in s?+s.pitch:D,G="padding"in s?s.padding:y.padding,X=o.P.convert(s.offset),ie=y.centerPoint.add(X),le=y.pointLocation(ie),{center:fe,zoom:ge}=y.getConstrained(o.N.convert(s.center||le),(g=s.zoom)!==null&&g!==void 0?g:x);this._normalizeCenter(fe,y);let ye=y.zoomScale(ge-x),xe=y.project(le),ue=y.project(fe).sub(xe),Te=s.curve,Oe=Math.max(y.width,y.height),ze=Oe/ye,rt=ue.mag();if("minZoom"in s){let Nt=o.ac(Math.min(s.minZoom,x,ge),y.minZoom,y.maxZoom),yr=Oe/y.zoomScale(Nt-x);Te=Math.sqrt(yr/rt*2)}let dt=Te*Te;function Ct(Nt){let yr=(ze*ze-Oe*Oe+(Nt?-1:1)*dt*dt*rt*rt)/(2*(Nt?ze:Oe)*dt*rt);return Math.log(Math.sqrt(yr*yr+1)-yr)}function qt(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function St(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}let bt=Ct(!1),Yt=function(Nt){return St(bt)/St(bt+Te*Nt)},xr=function(Nt){return Oe*((St(bt)*(qt(yr=bt+Te*Nt)/St(yr))-qt(bt))/dt)/rt;var yr},It=(Ct(!0)-bt)/Te;if(Math.abs(rt)<1e-6||!isFinite(It)){if(Math.abs(Oe-ze)<1e-6)return this.easeTo(s,p);let Nt=ze<Oe?-1:1;It=Math.abs(Math.log(ze/Oe))/Te,xr=()=>0,Yt=yr=>Math.exp(Nt*Te*yr)}return s.duration="duration"in s?+s.duration:1e3*It/("screenSpeed"in s?+s.screenSpeed/Te:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=C!==F,this._pitching=V!==D,this._padding=!y.isPaddingEqual(G),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(fe),this._ease(Nt=>{let yr=Nt*It,ri=1/Yt(yr);y.zoom=Nt===1?ge:x+y.scaleZoom(ri),this._rotating&&(y.bearing=o.y.number(C,F,Nt)),this._pitching&&(y.pitch=o.y.number(D,V,Nt)),this._padding&&(y.interpolatePadding(N,G,Nt),ie=y.centerPoint.add(X)),this.terrain&&!s.freezeElevation&&this._updateElevation(Nt);let Nr=Nt===1?fe:y.unproject(xe.add(ue.mult(xr(yr))).mult(ri));y.setLocationAtPoint(y.renderWorldCopies?Nr.wrap():Nr,ie),this._applyUpdatedTransform(y),this._fireMoveEvents(p)},()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(p)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,p){var g;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,p)}return s||(g=this.handlers)===null||g===void 0||g.stop(!1),this}_ease(s,p,g){g.animate===!1||g.duration===0?(s(1),p()):(this._easeStart=m.now(),this._easeOptions=g,this._onEaseFrame=s,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,p){s=o.b3(s,-180,180);let g=Math.abs(s-p);return Math.abs(s-360-p)<g&&(s-=360),Math.abs(s+360-p)<g&&(s+=360),s}_normalizeCenter(s,p){if(!p.renderWorldCopies||p.lngRange)return;let g=s.lng-p.center.lng;s.lng+=g>180?-360:g<-180?360:0}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(o.N.convert(s),this.transform.tileZoom)-this.transform.elevation:null}}let jd={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class zd{constructor(s=jd){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=v.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=v.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=v.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){v.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,p){let g=this._map._getUIString(`AttributionControl.${p}`);s.title=g,s.setAttribute("aria-label",g)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){let y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}let p=this._map.style.sourceCaches;for(let y in p){let x=p[y];if(x.used||x.usedForTerrain){let C=x.getSource();C.attribution&&s.indexOf(C.attribution)<0&&s.push(C.attribution)}}s=s.filter(y=>String(y).trim()),s.sort((y,x)=>y.length-x.length),s=s.filter((y,x)=>{for(let C=x+1;C<s.length;C++)if(s[C].indexOf(y)>=0)return!1;return!0});let g=s.join(" | ");g!==this._attribHTML&&(this._attribHTML=g,s.length?(this._innerContainer.innerHTML=g,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class pb{constructor(s={}){this._updateCompact=()=>{let p=this._container.children;if(p.length){let g=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&g.classList.add("maplibregl-compact"):g.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=v.create("div","maplibregl-ctrl");let p=v.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){v.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Jr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){let p=++this._id;return this._queue.push({callback:s,id:p,cancelled:!1}),p}remove(s){let p=this._currentlyRunning,g=p?this._queue.concat(p):this._queue;for(let y of g)if(y.id===s)return void(y.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let p=this._currentlyRunning=this._queue;this._queue=[];for(let g of p)if(!g.cancelled&&(g.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var db=o.Y([{name:"a_pos3d",type:"Int16",components:3}]);class f3 extends o.E{constructor(s){super(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,s.usedForTerrain=!0,s.tileSize=this.tileSize*mg(2,this.deltaZoom)}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,p){this.sourceCache.update(s,p),this._renderableTilesKeys=[];let g={};for(let y of s.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))g[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.posMatrix=new Float64Array(16),o.aP(y.posMatrix,0,o.X,0,o.X,0,1),this._tiles[y.key]=new Zl(y,this.tileSize));for(let y in this._tiles)g[y]||delete this._tiles[y]}freeRtt(s){for(let p in this._tiles){let g=this._tiles[p];(!s||g.tileID.equals(s)||g.tileID.isChildOf(s)||s.isChildOf(g.tileID))&&(g.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s){let p={};for(let g of this._renderableTilesKeys){let y=this._tiles[g].tileID;if(y.canonical.equals(s.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16),o.aP(x.posMatrix,0,o.X,0,o.X,0,1),p[g]=x}else if(y.canonical.isChildOf(s.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16);let C=y.canonical.z-s.canonical.z,D=y.canonical.x-(y.canonical.x>>C<<C),N=y.canonical.y-(y.canonical.y>>C<<C),F=o.X>>C;o.aP(x.posMatrix,0,F,0,F,0,1),o.J(x.posMatrix,x.posMatrix,[-D*F,-N*F,0]),p[g]=x}else if(s.canonical.isChildOf(y.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16);let C=s.canonical.z-y.canonical.z,D=s.canonical.x-(s.canonical.x>>C<<C),N=s.canonical.y-(s.canonical.y>>C<<C),F=o.X>>C;o.aP(x.posMatrix,0,o.X,0,o.X,0,1),o.J(x.posMatrix,x.posMatrix,[D*F,N*F,0]),o.K(x.posMatrix,x.posMatrix,[1/mg(2,C),1/mg(2,C),0]),p[g]=x}}return p}getSourceTile(s,p){let g=this.sourceCache._source,y=s.overscaledZ-this.deltaZoom;if(y>g.maxzoom&&(y=g.maxzoom),y<g.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(y).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!x||!x.dem)&&p)for(;y>=g.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(s.scaledTo(y--).key);return x}tilesAfterTime(s=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=s)}}class hb{constructor(s,p,g){this.painter=s,this.sourceCache=new f3(p),this.options=g,this.exaggeration=typeof g.exaggeration=="number"?g.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,p,g,y=o.X){var x;if(!(p>=0&&p<y&&g>=0&&g<y))return 0;let C=this.getTerrainData(s),D=(x=C.tile)===null||x===void 0?void 0:x.dem;if(!D)return 0;let N=function(le,fe,ge){var ye=fe[0],xe=fe[1];return le[0]=ge[0]*ye+ge[4]*xe+ge[12],le[1]=ge[1]*ye+ge[5]*xe+ge[13],le}([],[p/y*o.X,g/y*o.X],C.u_terrain_matrix),F=[N[0]*D.dim,N[1]*D.dim],V=Math.floor(F[0]),G=Math.floor(F[1]),X=F[0]-V,ie=F[1]-G;return D.get(V,G)*(1-X)*(1-ie)+D.get(V+1,G)*X*(1-ie)+D.get(V,G+1)*(1-X)*ie+D.get(V+1,G+1)*X*ie}getElevationForLngLatZoom(s,p){if(!o.bb(p,s.wrap()))return 0;let{tileID:g,mercatorX:y,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(s,p);return this.getElevation(g,y%o.X,x%o.X,o.X)}getElevation(s,p,g,y=o.X){return this.getDEMElevation(s,p,g,y)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){let y=this.painter.context,x=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new pe(y,x,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new pe(y,new o.R({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.an([])}let p=this.sourceCache.getSourceTile(s,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){let y=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new pe(y,p.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),p.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}let g=p&&p+p.tileID.key+s.key;if(g&&!this._demMatrixCache[g]){let y=this.sourceCache.sourceCache._source.maxzoom,x=s.canonical.z-p.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=y?x=s.canonical.z-y:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let C=s.canonical.x-(s.canonical.x>>x<<x),D=s.canonical.y-(s.canonical.y>>x<<x),N=o.bc(new Float64Array(16),[1/(o.X<<x),1/(o.X<<x),0]);o.J(N,N,[C*o.X,D*o.X,0]),this._demMatrixCache[s.key]={matrix:N,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:g?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(s){let p=this.painter,g=p.width/devicePixelRatio,y=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===g&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new pe(p.context,{width:g,height:y,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new pe(p.context,{width:g,height:y,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(g,y,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,g,y))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,C=0;x<this._coordsTextureSize;x++)for(let D=0;D<this._coordsTextureSize;D++,C+=4)p[C+0]=255&D,p[C+1]=255&x,p[C+2]=D>>8<<4|x>>8,p[C+3]=0;let g=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),y=new pe(s,g,s.gl.RGBA,{premultiply:!1});return y.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);let p=new Uint8Array(4),g=this.painter.context,y=g.gl,x=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),C=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),D=Math.round(this.painter.height/devicePixelRatio);g.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(x,D-C-1,1,1,y.RGBA,y.UNSIGNED_BYTE,p),g.bindFramebuffer.set(null);let N=p[0]+(p[2]>>4<<8),F=p[1]+((15&p[2])<<8),V=this.coordsIndex[255-p[3]],G=V&&this.sourceCache.getTileByID(V);if(!G)return null;let X=this._coordsTextureSize,ie=(1<<G.tileID.canonical.z)*X;return new o.Z((G.tileID.canonical.x*X+N)/ie+G.tileID.wrap,(G.tileID.canonical.y*X+F)/ie,this.getElevation(G.tileID,N,F,X))}depthAtPoint(s){let p=new Uint8Array(4),g=this.painter.context,y=g.gl;return g.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),y.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,p),g.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;let s=this.painter.context,p=new o.bd,g=new o.aY,y=this.meshSize,x=o.X/y,C=y*y;for(let G=0;G<=y;G++)for(let X=0;X<=y;X++)p.emplaceBack(X*x,G*x,0);for(let G=0;G<C;G+=y+1)for(let X=0;X<y;X++)g.emplaceBack(X+G,y+X+G+1,y+X+G+2),g.emplaceBack(X+G,y+X+G+2,X+G+1);let D=p.length,N=D+2*(y+1);for(let G of[0,1])for(let X=0;X<=y;X++)for(let ie of[0,1])p.emplaceBack(X*x,G*o.X,ie);for(let G=0;G<2*y;G+=2)g.emplaceBack(N+G,N+G+1,N+G+3),g.emplaceBack(N+G,N+G+3,N+G+2),g.emplaceBack(D+G,D+G+3,D+G+1),g.emplaceBack(D+G,D+G+2,D+G+3);let F=p.length,V=F+2*(y+1);for(let G of[0,1])for(let X=0;X<=y;X++)for(let ie of[0,1])p.emplaceBack(G*o.X,X*x,ie);for(let G=0;G<2*y;G+=2)g.emplaceBack(F+G,F+G+1,F+G+3),g.emplaceBack(F+G,F+G+3,F+G+2),g.emplaceBack(V+G,V+G+3,V+G+1),g.emplaceBack(V+G,V+G+2,V+G+3);return this._mesh=new Cy(s.createVertexBuffer(p,db.members),s.createIndexBuffer(g),o.a0.simpleSegment(0,0,p.length,g.length)),this._mesh}getMeshFrameDelta(s){return 2*Math.PI*o.be/Math.pow(2,s)/5}getMinTileElevationForLngLatZoom(s,p){var g;let{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(s,p);return(g=this.getMinMaxElevation(y).minElevation)!==null&&g!==void 0?g:0}getMinMaxElevation(s){let p=this.getTerrainData(s).tile,g={minElevation:null,maxElevation:null};return p&&p.dem&&(g.minElevation=p.dem.min*this.exaggeration,g.maxElevation=p.dem.max*this.exaggeration),g}_getOverscaledTileIDFromLngLatZoom(s,p){let g=o.Z.fromLngLat(s.wrap()),y=(1<<p)*o.X,x=g.x*y,C=g.y*y,D=Math.floor(x/o.X),N=Math.floor(C/o.X);return{tileID:new o.S(p,0,p,D,N),mercatorX:x,mercatorY:C}}}class p3{constructor(s,p,g){this._context=s,this._size=p,this._tileSize=g,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){let p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),g=new pe(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return g.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(g.texture),{id:s,fbo:p,texture:g,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>s.id!==p),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(let p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(let s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(s=>!s.inUse)===!1}}let Fd={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class iA{constructor(s,p){this.painter=s,this.terrain=p,this.pool=new p3(s.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(g=>!s._layers[g].isHidden(p)),this._coordsDescendingInv={};for(let g in s.sourceCaches){this._coordsDescendingInv[g]={};let y=s.sourceCaches[g].getVisibleCoordinates();for(let x of y){let C=this.terrain.sourceCache.getTerrainCoords(x);for(let D in C)this._coordsDescendingInv[g][D]||(this._coordsDescendingInv[g][D]=[]),this._coordsDescendingInv[g][D].push(C[D])}}this._coordsDescendingInvStr={};for(let g of s._order){let y=s._layers[g],x=y.source;if(Fd[y.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(let C in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][C]=this._coordsDescendingInv[x][C].map(D=>D.key).sort().join()}}for(let g of this._renderableTiles)for(let y in this._coordsDescendingInvStr){let x=this._coordsDescendingInvStr[y][g.tileID.key];x&&x!==g.rttCoords[y]&&(g.rtt=[])}}renderLayer(s){if(s.isHidden(this.painter.transform.zoom))return!1;let p=s.type,g=this.painter,y=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(Fd[p]&&(this._prevType&&Fd[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(s.id),!y))return!0;if(Fd[this._prevType]||Fd[p]&&y){this._prevType=p;let x=this._stacks.length-1,C=this._stacks[x]||[];for(let D of this._renderableTiles){if(this.pool.isFull()&&(K2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(D),D.rtt[x]){let F=this.pool.getObjectForId(D.rtt[x].id);if(F.stamp===D.rtt[x].stamp){this.pool.useObject(F);continue}}let N=this.pool.getOrCreateFreeObject();this.pool.useObject(N),this.pool.stampObject(N),D.rtt[x]={id:N.id,stamp:N.stamp},g.context.bindFramebuffer.set(N.fbo.framebuffer),g.context.clear({color:o.aM.transparent,stencil:0}),g.currentStencilSource=void 0;for(let F=0;F<C.length;F++){let V=g.style._layers[C[F]],G=V.source?this._coordsDescendingInv[V.source][D.tileID.key]:[D.tileID];g.context.viewport.set([0,0,N.fbo.width,N.fbo.height]),g._renderTileClippingMasks(V,G),g.renderLayer(g,g.style.sourceCaches[V.source],V,G),V.source&&(D.rttCoords[V.source]=this._coordsDescendingInvStr[V.source][D.tileID.key])}}return K2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Fd[p]}return!1}}let mb={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},oA=a,d3={hash:!1,interactive:!0,bearingSnap:7,attributionControl:jd,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},gb=b=>{b.touchstart=b.dragStart,b.touchmoveWindow=b.dragMove,b.touchend=b.dragEnd},h3={showCompass:!0,showZoom:!0,visualizePitch:!1};class m3{constructor(s,p,g=!1){this.mousedown=C=>{this.startMouse(o.e({},C,{ctrlKey:!0,preventDefault:()=>C.preventDefault()}),v.mousePos(this.element,C)),v.addEventListener(window,"mousemove",this.mousemove),v.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.moveMouse(C,v.mousePos(this.element,C))},this.mouseup=C=>{this.mouseRotate.dragEnd(C),this.mousePitch&&this.mousePitch.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=v.touchPos(this.element,C.targetTouches)[0],this.startTouch(C,this._startPos),v.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=v.touchPos(this.element,C.targetTouches)[0],this.moveTouch(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;let y=s.dragRotate._mouseRotate.getClickTolerance(),x=s.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=nb({clickTolerance:y,enable:!0}),this.touchRotate=(({enable:C,clickTolerance:D,bearingDegreesPerPixelMoved:N=.8})=>{let F=new rb;return new Ju({clickTolerance:D,move:(V,G)=>({bearingDelta:(G.x-V.x)*N}),moveStateManager:F,enable:C,assignEvents:gb})})({clickTolerance:y,enable:!0}),this.map=s,g&&(this.mousePitch=ib({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:C,clickTolerance:D,pitchDegreesPerPixelMoved:N=-.5})=>{let F=new rb;return new Ju({clickTolerance:D,move:(V,G)=>({pitchDelta:(G.y-V.y)*N}),moveStateManager:F,enable:C,assignEvents:gb})})({clickTolerance:x,enable:!0})),v.addEventListener(p,"mousedown",this.mousedown),v.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),v.addEventListener(p,"touchcancel",this.reset)}startMouse(s,p){this.mouseRotate.dragStart(s,p),this.mousePitch&&this.mousePitch.dragStart(s,p),v.disableDrag()}startTouch(s,p){this.touchRotate.dragStart(s,p),this.touchPitch&&this.touchPitch.dragStart(s,p),v.disableDrag()}moveMouse(s,p){let g=this.map,{bearingDelta:y}=this.mouseRotate.dragMove(s,p)||{};if(y&&g.setBearing(g.getBearing()+y),this.mousePitch){let{pitchDelta:x}=this.mousePitch.dragMove(s,p)||{};x&&g.setPitch(g.getPitch()+x)}}moveTouch(s,p){let g=this.map,{bearingDelta:y}=this.touchRotate.dragMove(s,p)||{};if(y&&g.setBearing(g.getBearing()+y),this.touchPitch){let{pitchDelta:x}=this.touchPitch.dragMove(s,p)||{};x&&g.setPitch(g.getPitch()+x)}}off(){let s=this.element;v.removeEventListener(s,"mousedown",this.mousedown),v.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),v.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.removeEventListener(window,"touchend",this.touchend),v.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){v.enableDrag(),v.removeEventListener(window,"mousemove",this.mousemove),v.removeEventListener(window,"mouseup",this.mouseup),v.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.removeEventListener(window,"touchend",this.touchend)}}let fs;function ti(b,s,p){let g=new o.N(b.lng,b.lat);if(b=new o.N(b.lng,b.lat),s){let y=new o.N(b.lng-360,b.lat),x=new o.N(b.lng+360,b.lat),C=p.locationPoint(b).distSqr(s);p.locationPoint(y).distSqr(s)<C?b=y:p.locationPoint(x).distSqr(s)<C&&(b=x)}for(;Math.abs(b.lng-p.center.lng)>180;){let y=p.locationPoint(b);if(y.x>=0&&y.y>=0&&y.x<=p.width&&y.y<=p.height)break;b.lng>p.center.lng?b.lng-=360:b.lng+=360}return b.lng!==g.lng&&p.locationPoint(b).y>p.height/2-p.getHorizon()?b:g}let Bd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Fy(b,s,p){let g=b.classList;for(let y in Bd)g.remove(`maplibregl-${p}-anchor-${y}`);g.add(`maplibregl-${p}-anchor-${s}`)}class By extends o.E{constructor(s){if(super(),this._onKeyPress=p=>{let g=p.code,y=p.charCode||p.keyCode;g!=="Space"&&g!=="Enter"&&y!==32&&y!==13||this.togglePopup()},this._onMapClick=p=>{let g=p.originalEvent.target,y=this._element;this._popup&&(g===y||y.contains(g))&&this.togglePopup()},this._update=p=>{var g;if(!this._map)return;let y=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!y)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?ti(this._lngLat,this._flatPos,this._map.transform):(g=this._lngLat)===null||g===void 0?void 0:g.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||p&&p.type!=="moveend"||(this._pos=this._pos.round()),v.setTransform(this._element,`${Bd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${x}`),m.frameAsync(new AbortController).then(()=>{this._updateOpacity(p&&p.type==="moveend")}).catch(()=>{})},this._onMove=p=>{if(!this._isDragging){let g=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=g}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(s==null?void 0:s.opacity,s==null?void 0:s.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=o.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=v.create("div");let p=v.createNS("http://www.w3.org/2000/svg","svg"),g=41,y=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${g}px`),p.setAttributeNS(null,"width",`${y}px`),p.setAttributeNS(null,"viewBox",`0 0 ${y} ${g}`);let x=v.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");let C=v.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");let D=v.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"transform","translate(3.0, 29.0)"),D.setAttributeNS(null,"fill","#000000");let N=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let ye of N){let xe=v.createNS("http://www.w3.org/2000/svg","ellipse");xe.setAttributeNS(null,"opacity","0.04"),xe.setAttributeNS(null,"cx","10.5"),xe.setAttributeNS(null,"cy","5.80029008"),xe.setAttributeNS(null,"rx",ye.rx),xe.setAttributeNS(null,"ry",ye.ry),D.appendChild(xe)}let F=v.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill",this._color);let V=v.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),F.appendChild(V);let G=v.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"opacity","0.25"),G.setAttributeNS(null,"fill","#000000");let X=v.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),G.appendChild(X);let ie=v.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ie.setAttributeNS(null,"fill","#FFFFFF");let le=v.createNS("http://www.w3.org/2000/svg","g");le.setAttributeNS(null,"transform","translate(8.0, 8.0)");let fe=v.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");let ge=v.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#FFFFFF"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962"),le.appendChild(fe),le.appendChild(ge),C.appendChild(D),C.appendChild(F),C.appendChild(G),C.appendChild(ie),C.appendChild(le),p.appendChild(C),p.setAttributeNS(null,"height",g*this._scale+"px"),p.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(p),this._offset=o.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),Fy(this._element,this._anchor,"marker"),s&&s.className)for(let p of s.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),v.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=o.N.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){let y=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){let s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var p,g;if(!(!((p=this._map)===null||p===void 0)&&p.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let y=this._map,x=y.terrain.depthAtPoint(this._pos),C=y.terrain.getElevationForLngLatZoom(this._lngLat,y.transform.tileZoom);if(y.transform.lngLatToCameraDepth(this._lngLat,C)-x<.006)return void(this._element.style.opacity=this._opacity);let D=-this._offset.y/y.transform._pixelPerMeter,N=Math.sin(y.getPitch()*Math.PI/180)*D,F=y.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),V=y.transform.lngLatToCameraDepth(this._lngLat,C+N)-F>.006;!((g=this._popup)===null||g===void 0)&&g.isOpen()&&V&&this._popup.remove(),this._element.style.opacity=V?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=o.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,p){return s===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}let aA={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ig=0,og=!1,Xl={maxWidth:100,unit:"metric"};function ag(b,s,p){let g=p&&p.maxWidth||100,y=b._container.clientHeight/2,x=b.unproject([0,y]),C=b.unproject([g,y]),D=x.distanceTo(C);if(p&&p.unit==="imperial"){let N=3.2808*D;N>5280?Zt(s,g,N/5280,b._getUIString("ScaleControl.Miles")):Zt(s,g,N,b._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Zt(s,g,D/1852,b._getUIString("ScaleControl.NauticalMiles")):D>=1e3?Zt(s,g,D/1e3,b._getUIString("ScaleControl.Kilometers")):Zt(s,g,D,b._getUIString("ScaleControl.Meters"))}function Zt(b,s,p,g){let y=function(x){let C=Math.pow(10,`${Math.floor(x)}`.length-1),D=x/C;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(N){let F=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*F)/F}(D),C*D}(p);b.style.width=s*(y/p)+"px",b.innerHTML=`${y}&nbsp;${g}`}let dr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Uy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Vy(b){if(b){if(typeof b=="number"){let s=Math.round(Math.abs(b)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,b),"top-left":new o.P(s,s),"top-right":new o.P(-s,s),bottom:new o.P(0,-b),"bottom-left":new o.P(s,-s),"bottom-right":new o.P(-s,-s),left:new o.P(b,0),right:new o.P(-b,0)}}if(b instanceof o.P||Array.isArray(b)){let s=o.P.convert(b);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:o.P.convert(b.center||[0,0]),top:o.P.convert(b.top||[0,0]),"top-left":o.P.convert(b["top-left"]||[0,0]),"top-right":o.P.convert(b["top-right"]||[0,0]),bottom:o.P.convert(b.bottom||[0,0]),"bottom-left":o.P.convert(b["bottom-left"]||[0,0]),"bottom-right":o.P.convert(b["bottom-right"]||[0,0]),left:o.P.convert(b.left||[0,0]),right:o.P.convert(b.right||[0,0])}}return Vy(new o.P(0,0))}let vb=a;i.AJAXError=o.bh,i.Evented=o.E,i.LngLat=o.N,i.MercatorCoordinate=o.Z,i.Point=o.P,i.addProtocol=o.bi,i.config=o.a,i.removeProtocol=o.bj,i.AttributionControl=zd,i.BoxZoomHandler=cs,i.CanvasSource=Ur,i.CooperativeGesturesHandler=qd,i.DoubleClickZoomHandler=ip,i.DragPanHandler=tA,i.DragRotateHandler=rA,i.EdgeInsets=Pd,i.FullscreenControl=class extends o.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var s;let p=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=p==null?void 0:p.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)p=p.shadowRoot.fullscreenElement;p===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){v.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let b=this._fullscreenButton=v.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);v.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=ar,i.GeolocateControl=class extends o.E{constructor(b){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",s)),this._finish()}},this._updateCamera=s=>{let p=new o.N(s.coords.longitude,s.coords.latitude),g=s.coords.accuracy,y=this._map.getBearing(),x=o.e({bearing:y},this.options.fitBoundsOptions),C=Se.fromLngLat(p,g);this._map.fitBounds(C,x,{geolocateSource:!0})},this._updateMarker=s=>{if(s){let p=new o.N(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(this.options.trackUserLocation)if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&og)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",s=>s.preventDefault()),this._geolocateButton=v.create("button","maplibregl-ctrl-geolocate",this._container),v.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{let p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=v.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new By({element:this._dotElement}),this._circleElement=v.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new By({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")),this.fire(new o.k("userlocationlostfocus")))})}},this.options=o.e({},aA,b)}onAdd(b){return this._map=b,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(s=!1){if(fs!==void 0&&!s)return fs;if(window.navigator.permissions===void 0)return fs=!!window.navigator.geolocation,fs;try{fs=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(p){fs=!!window.navigator.geolocation}return fs})}().then(s=>this._finishSetupUI(s)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),v.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ig=0,og=!1}_isOutOfMapMaxBounds(b){let s=this._map.getMaxBounds(),p=b.coords;return s&&(p.longitude<s.getWest()||p.longitude>s.getEast()||p.latitude<s.getSouth()||p.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}}_updateCircleRadius(){let b=this._map.getBounds(),s=b.getSouthEast(),p=b.getNorthEast(),g=s.distanceTo(p),y=Math.ceil(this._accuracy/(g/this._map._container.clientHeight)*2);this._circleElement.style.width=`${y}px`,this._circleElement.style.height=`${y}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ig--,og=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart")),this.fire(new o.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ig++,ig>1?(b={maximumAge:6e5,timeout:0},og=!0):(b=this.options.positionOptions,og=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.Hash=Dy,i.ImageSource=cr,i.KeyboardHandler=Ps,i.LngLatBounds=Se,i.LogoControl=pb,i.Map=class extends nA{constructor(b){o.bf.mark(o.bg.create);let s=Object.assign(Object.assign({},d3),b);if(s.minZoom!=null&&s.maxZoom!=null&&s.minZoom>s.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(s.minPitch!=null&&s.maxPitch!=null&&s.minPitch>s.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(s.minPitch!=null&&s.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(s.maxPitch!=null&&s.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Nd(s.minZoom,s.maxZoom,s.minPitch,s.maxPitch,s.renderWorldCopies),{bearingSnap:s.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Jr,this._controls=[],this._mapId=o.a4(),this._contextLost=p=>{p.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.k("webglcontextlost",{originalEvent:p}))},this._contextRestored=p=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:p}))},this._onMapScroll=p=>{if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=s.interactive,this._maxTileCacheSize=s.maxTileCacheSize,this._maxTileCacheZoomLevels=s.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=s.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=s.preserveDrawingBuffer===!0,this._antialias=s.antialias===!0,this._trackResize=s.trackResize===!0,this._bearingSnap=s.bearingSnap,this._refreshExpiredTiles=s.refreshExpiredTiles===!0,this._fadeDuration=s.fadeDuration,this._crossSourceCollisions=s.crossSourceCollisions===!0,this._collectResourceTiming=s.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},mb),s.locale),this._clickTolerance=s.clickTolerance,this._overridePixelRatio=s.pixelRatio,this._maxCanvasSize=s.maxCanvasSize,this.transformCameraUpdate=s.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=s.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=q.addThrottleControl(()=>this.isMoving()),this._requestManager=new j(s.transformRequest),typeof s.container=="string"){if(this._container=document.getElementById(s.container),!this._container)throw new Error(`Container '${s.container}' not found.`)}else{if(!(s.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=s.container}if(s.maxBounds&&this.setMaxBounds(s.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let p=!1,g=Jm(y=>{this._trackResize&&!this._removed&&(this.resize(y),this.redraw())},50);this._resizeObserver=new ResizeObserver(y=>{p?g(y):p=!0}),this._resizeObserver.observe(this._container)}this.handlers=new fb(this,s),this._hash=s.hash&&new Dy(typeof s.hash=="string"&&s.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}),s.bounds&&(this.resize(),this.fitBounds(s.bounds,o.e({},s.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=s.localIdeographFontFamily,this._validateStyle=s.validateStyle,s.style&&this.setStyle(s.style,{localIdeographFontFamily:s.localIdeographFontFamily}),s.attributionControl&&this.addControl(new zd(typeof s.attributionControl=="boolean"?void 0:s.attributionControl)),s.maplibreLogo&&this.addControl(new pb,s.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",p=>{this._update(p.dataType==="style"),this.fire(new o.k(`${p.dataType}data`,p))}),this.on("dataloading",p=>{this.fire(new o.k(`${p.dataType}dataloading`,p))}),this.on("dataabort",p=>{this.fire(new o.k("sourcedataabort",p))})}_getMapId(){return this._mapId}addControl(b,s){if(s===void 0&&(s=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let p=b.onAdd(this);this._controls.push(b);let g=this._controlPositions[s];return s.indexOf("bottom")!==-1?g.insertBefore(p,g.firstChild):g.appendChild(p),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let s=this._controls.indexOf(b);return s>-1&&this._controls.splice(s,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}calculateCameraOptionsFromTo(b,s,p,g){return g==null&&this.terrain&&(g=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(b,s,p,g)}resize(b){var s;let p=this._containerDimensions(),g=p[0],y=p[1],x=this._getClampedPixelRatio(g,y);if(this._resizeCanvas(g,y,x),this.painter.resize(g,y,x),this.painter.overLimit()){let D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];let N=this._getClampedPixelRatio(g,y);this._resizeCanvas(g,y,N),this.painter.resize(g,y,N)}this.transform.resize(g,y),(s=this._requestedCameraState)===null||s===void 0||s.resize(g,y);let C=!this._moving;return C&&(this.stop(),this.fire(new o.k("movestart",b)).fire(new o.k("move",b))),this.fire(new o.k("resize",b)),C&&this.fire(new o.k("moveend",b)),this}_getClampedPixelRatio(b,s){let{0:p,1:g}=this._maxCanvasSize,y=this.getPixelRatio(),x=b*y,C=s*y;return Math.min(x>p?p/x:1,C>g?g/C:1)*y}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(Se.convert(b)),this._update()}setMinZoom(b){if((b=b==null?-2:b)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b==null?22:b)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b==null?0:b)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b==null?60:b)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this._update()}project(b){return this.transform.locationPoint(o.N.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.pointLocation(o.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,s,p){if(b==="mouseenter"||b==="mouseover"){let g=!1;return{layers:s,listener:p,delegates:{mousemove:x=>{let C=s.filter(N=>this.getLayer(N)),D=C.length!==0?this.queryRenderedFeatures(x.point,{layers:C}):[];D.length?g||(g=!0,p.call(this,new Oo(b,this,x.originalEvent,{features:D}))):g=!1},mouseout:()=>{g=!1}}}}if(b==="mouseleave"||b==="mouseout"){let g=!1;return{layers:s,listener:p,delegates:{mousemove:C=>{let D=s.filter(N=>this.getLayer(N));(D.length!==0?this.queryRenderedFeatures(C.point,{layers:D}):[]).length?g=!0:g&&(g=!1,p.call(this,new Oo(b,this,C.originalEvent)))},mouseout:C=>{g&&(g=!1,p.call(this,new Oo(b,this,C.originalEvent)))}}}}{let g=y=>{let x=s.filter(D=>this.getLayer(D)),C=x.length!==0?this.queryRenderedFeatures(y.point,{layers:x}):[];C.length&&(y.features=C,p.call(this,y),delete y.features)};return{layers:s,listener:p,delegates:{[b]:g}}}}_saveDelegatedListener(b,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(s)}_removeDelegatedListener(b,s,p){if(!this._delegatedListeners||!this._delegatedListeners[b])return;let g=this._delegatedListeners[b];for(let y=0;y<g.length;y++){let x=g[y];if(x.listener===p&&x.layers.length===s.length&&x.layers.every(C=>s.includes(C))){for(let C in x.delegates)this.off(C,x.delegates[C]);return void g.splice(y,1)}}}on(b,s,p){if(p===void 0)return super.on(b,s);let g=this._createDelegatedListener(b,typeof s=="string"?[s]:s,p);this._saveDelegatedListener(b,g);for(let y in g.delegates)this.on(y,g.delegates[y]);return this}once(b,s,p){if(p===void 0)return super.once(b,s);let g=typeof s=="string"?[s]:s,y=this._createDelegatedListener(b,g,p);for(let x in y.delegates){let C=y.delegates[x];y.delegates[x]=(...D)=>{this._removeDelegatedListener(b,g,p),C(...D)}}this._saveDelegatedListener(b,y);for(let x in y.delegates)this.once(x,y.delegates[x]);return this}off(b,s,p){return p===void 0?super.off(b,s):(this._removeDelegatedListener(b,typeof s=="string"?[s]:s,p),this)}queryRenderedFeatures(b,s){if(!this.style)return[];let p,g=b instanceof o.P||Array.isArray(b),y=g?b:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(g?{}:b)||{},y instanceof o.P||typeof y[0]=="number")p=[o.P.convert(y)];else{let x=o.P.convert(y[0]),C=o.P.convert(y[1]);p=[x,new o.P(C.x,x.y),C,new o.P(x.x,C.y),x]}return this.style.queryRenderedFeatures(p,s,this.transform)}querySourceFeatures(b,s){return this.style.querySourceFeatures(b,s)}setStyle(b,s){return(s=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(b,s))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){let s=this._locale[b];if(s==null)throw new Error(`Missing UI string '${b}'`);return s}_updateStyle(b,s){if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(b,s));let p=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new hy(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,s,p):this.style.loadJSON(b,s,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new hy(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,s){if(typeof b=="string"){let p=this._requestManager.transformRequest(b,"Style");o.h(p,new AbortController).then(g=>{this._updateDiff(g.data,s)}).catch(g=>{g&&this.fire(new o.j(g))})}else typeof b=="object"&&this._updateDiff(b,s)}_updateDiff(b,s){try{this.style.setState(b,s)&&this._update(!0)}catch(p){o.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(b,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(b,s){return this._lazyInitEmptyStyle(),this.style.addSource(b,s),this._update(!0)}isSourceLoaded(b){let s=this.style&&this.style.sourceCaches[b];if(s!==void 0)return s.loaded();this.fire(new o.j(new Error(`There is no source with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){let s=this.style.sourceCaches[b.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&s.reload();for(let p in this.style._layers){let g=this.style._layers[p];g.type==="hillshade"&&g.source===b.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new hb(this.painter,s,b),this.painter.renderToTexture=new iA(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==b.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:b})),this}getTerrain(){var b,s;return(s=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&s!==void 0?s:null}areTilesLoaded(){let b=this.style&&this.style.sourceCaches;for(let s in b){let p=b[s]._tiles;for(let g in p){let y=p[g];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}addImage(b,s,p={}){let{pixelRatio:g=1,sdf:y=!1,stretchX:x,stretchY:C,content:D,textFitWidth:N,textFitHeight:F}=p;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||o.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:G,data:X}=s,ie=s;return this.style.addImage(b,{data:new o.R({width:V,height:G},new Uint8Array(X)),pixelRatio:g,stretchX:x,stretchY:C,content:D,textFitWidth:N,textFitHeight:F,sdf:y,version:0,userImage:ie}),ie.onAdd&&ie.onAdd(this,b),this}}{let{width:V,height:G,data:X}=m.getImageData(s);this.style.addImage(b,{data:new o.R({width:V,height:G},X),pixelRatio:g,stretchX:x,stretchY:C,content:D,textFitWidth:N,textFitHeight:F,sdf:y,version:0})}}updateImage(b,s){let p=this.style.getImage(b);if(!p)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let g=s instanceof HTMLImageElement||o.b(s)?m.getImageData(s):s,{width:y,height:x,data:C}=g;if(y===void 0||x===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==p.data.width||x!==p.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));let D=!(s instanceof HTMLImageElement||o.b(s));return p.data.replace(C,D),this.style.updateImage(b,p),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return q.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,s){return this._lazyInitEmptyStyle(),this.style.addLayer(b,s),this._update(!0)}moveLayer(b,s){return this.style.moveLayer(b,s),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,s,p){return this.style.setLayerZoomRange(b,s,p),this._update(!0)}setFilter(b,s,p={}){return this.style.setFilter(b,s,p),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,s,p,g={}){return this.style.setPaintProperty(b,s,p,g),this._update(!0)}getPaintProperty(b,s){return this.style.getPaintProperty(b,s)}setLayoutProperty(b,s,p,g={}){return this.style.setLayoutProperty(b,s,p,g),this._update(!0)}getLayoutProperty(b,s){return this.style.getLayoutProperty(b,s)}setGlyphs(b,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,s,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,s,p,g=>{g||this._update(!0)}),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,s,p=>{p||this._update(!0)}),this}setLight(b,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(b){return this._lazyInitEmptyStyle(),this.style.setSky(b),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,s){return this.style.setFeatureState(b,s),this._update()}removeFeatureState(b,s){return this.style.removeFeatureState(b,s),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,s=0;return this._container&&(b=this._container.clientWidth||400,s=this._container.clientHeight||300),[b,s]}_setupContainer(){let b=this._container;b.classList.add("maplibregl-map");let s=this._canvasContainer=v.create("div","maplibregl-canvas-container",b);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=v.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let p=this._containerDimensions(),g=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],g);let y=this._controlContainer=v.create("div","maplibregl-control-container",b),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{x[C]=v.create("div",`maplibregl-ctrl-${C} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,s,p){this._canvas.width=Math.floor(p*b),this._canvas.height=Math.floor(p*s),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${s}px`}_setupPainter(){let b={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},s=null;this._canvas.addEventListener("webglcontextcreationerror",g=>{s={requestedAttributes:b},g&&(s.statusMessage=g.statusMessage,s.type=g.type)},{once:!0});let p=this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b);if(!p){let g="Failed to initialize WebGL";throw s?(s.message=g,new Error(JSON.stringify(s))):new Error(g)}this.painter=new Oy(p,this.transform),E.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){let s=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let y=this.transform.zoom,x=m.now();this.style.zoomHistory.update(y,x);let C=new o.z(y,{now:x,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),D=C.crossFadingFactor();D===1&&D===this._crossFadingFactor||(p=!0,this._crossFadingFactor=D),this.style.update(C)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bf.mark(o.bg.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let g=this._sourcesDirty||this._styleDirty||this._placementDirty;return g||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||g||(this._fullyLoaded=!0,o.bf.mark(o.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(let p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),q.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();let s=this.painter.context.gl.getExtension("WEBGL_lose_context");s!=null&&s.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),v.remove(this._canvasContainer),v.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),o.bf.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,m.frameAsync(this._frameRequest).then(b=>{o.bf.frame(b),this._frameRequest=null,this._render(b)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return oA}getCameraTargetElevation(){return this.transform.elevation}},i.MapMouseEvent=Oo,i.MapTouchEvent=rp,i.MapWheelEvent=Q2,i.Marker=By,i.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{let s=this._map.getZoom(),p=s===this._map.getMaxZoom(),g=s===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=g,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",g.toString())},this._rotateCompassArrow=()=>{let s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=s},this._setButtonTitle=(s,p)=>{let g=this._map._getUIString(`NavigationControl.${p}`);s.title=g,s.setAttribute("aria-label",g)},this.options=o.e({},h3,b),this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),v.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),v.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=v.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new m3(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){v.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,s){let p=v.create("button",b,this._container);return p.type="button",p.addEventListener("click",s),p}},i.Popup=class extends o.E{constructor(b){super(),this.remove=()=>(this._content&&v.remove(this._content),this._container&&(v.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.k("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{var p;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=v.create("div","maplibregl-popup",this._map.getContainer()),this._tip=v.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let D of this.options.className.split(" "))this._container.classList.add(D);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?ti(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._trackPointer&&!s)return;let g=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationPoint(this._lngLat));let y=this.options.anchor,x=Vy(this.options.offset);if(!y){let D=this._container.offsetWidth,N=this._container.offsetHeight,F;F=g.y+x.bottom.y<N?["top"]:g.y>this._map.transform.height-N?["bottom"]:[],g.x<D/2?F.push("left"):g.x>this._map.transform.width-D/2&&F.push("right"),y=F.length===0?"bottom":F.join("-")}let C=g.add(x[y]);this.options.subpixelPositioning||(C=C.round()),v.setTransform(this._container,`${Bd[y]} translate(${C.x}px,${C.y}px)`),Fy(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(dr),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=o.N.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){let s=document.createDocumentFragment(),p=document.createElement("body"),g;for(p.innerHTML=b;g=p.firstChild,g;)s.appendChild(g);return this.setDOMContent(s)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=v.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=v.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let b=this._container.querySelector(Uy);b&&b.focus()}},i.RasterDEMTileSource=Ht,i.RasterTileSource=pt,i.ScaleControl=class{constructor(b){this._onMove=()=>{ag(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,ag(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Xl),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){v.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=xl,i.Style=hy,i.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=v.create("button","maplibregl-ctrl-terrain",this._container),v.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){v.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=kd,i.TwoFingersTouchRotateHandler=lb,i.TwoFingersTouchZoomHandler=ab,i.TwoFingersTouchZoomRotateHandler=cb,i.VectorTileSource=zt,i.VideoSource=Br,i.addSourceType=(b,s)=>o._(void 0,void 0,void 0,function*(){if(nn(b))throw new Error(`A source type called "${b}" already exists.`);((p,g)=>{sr[p]=g})(b,s)}),i.clearPrewarmedResources=function(){let b=Ce;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(Be),Ce=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Os().getRTLTextPluginStatus()},i.getVersion=function(){return vb},i.getWorkerCount=function(){return Ze.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(b){return Qe().broadcast("IS",b)},i.prewarm=function(){Ne().acquire(Be)},i.setMaxParallelImageRequests=function(b){o.a.MAX_PARALLEL_IMAGE_REQUESTS=b},i.setRTLTextPlugin=function(b,s){return Os().setRTLTextPlugin(b,s)},i.setWorkerCount=function(b){Ze.workerCount=b},i.setWorkerUrl=function(b){o.a.WORKER_URL=b}});var n=e;return n})});var YNe=T((MFr,ZNe)=>{"use strict";ZNe.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var eRe=T((CFr,JNe)=>{"use strict";var QNe="%[a-f0-9]{2}",KNe=new RegExp("("+QNe+")|([^%]+?)","gi"),XNe=new RegExp("("+QNe+")+","gi");function zH(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],zH(r),zH(n))}function jJt(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(KNe)||[],r=1;r<t.length;r++)e=zH(t,r).join(""),t=e.match(KNe)||[];return e}}function zJt(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=XNe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(c){var n=jJt(r[0]);n!==r[0]&&(t[r[0]]=n)}r=XNe.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}JNe.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return zJt(e)}}});var rRe=T((OFr,tRe)=>{"use strict";tRe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var iRe=T((DFr,nRe)=>{"use strict";nRe.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],c=e[a];(i?t.indexOf(a)!==-1:t(a,c,e))&&(r[a]=c)}return r}});var BH=T(nl=>{"use strict";var FJt=YNe(),BJt=eRe(),aRe=rRe(),UJt=iRe(),VJt=e=>e==null,FH=Symbol("encodeFragmentIdentifier");function GJt(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[io(t,e),"[",i,"]"].join("")]:[...r,[io(t,e),"[",io(i,e),"]=",io(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[io(t,e),"[]"].join("")]:[...r,[io(t,e),"[]=",io(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[io(t,e),":list="].join("")]:[...r,[io(t,e),":list=",io(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[io(r,e),t,io(i,e)].join("")]:[[n,io(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,io(t,e)]:[...r,[io(t,e),"=",io(n,e)].join("")];}}function HJt(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),a=typeof n=="string"&&!o&&Bp(n,e).includes(e.arrayFormatSeparator);n=a?Bp(n,e):n;let c=o||a?n.split(e.arrayFormatSeparator).map(d=>Bp(d,e)):n===null?n:Bp(n,e);i[r]=c};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&Bp(n,e);return}let a=n===null?[]:n.split(e.arrayFormatSeparator).map(c=>Bp(c,e));if(i[r]===void 0){i[r]=a;return}i[r]=[].concat(i[r],a)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)};}}function sRe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function io(e,t){return t.encode?t.strict?FJt(e):encodeURIComponent(e):e}function Bp(e,t){return t.decode?BJt(e):e}function lRe(e){return Array.isArray(e)?e.sort():typeof e=="object"?lRe(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function uRe(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function $Jt(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function cRe(e){e=uRe(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function oRe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function fRe(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),sRe(t.arrayFormatSeparator);let r=HJt(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,a]=aRe(t.decode?i.replace(/\+/g," "):i,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:Bp(a,t),r(Bp(o,t),a,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let a of Object.keys(o))o[a]=oRe(o[a],t);else n[i]=oRe(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let a=n[o];return a&&typeof a=="object"&&!Array.isArray(a)?i[o]=lRe(a):i[o]=a,i},Object.create(null))}nl.extract=cRe;nl.parse=fRe;nl.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),sRe(t.arrayFormatSeparator);let r=a=>t.skipNull&&VJt(e[a])||t.skipEmptyString&&e[a]==="",n=GJt(t),i={};for(let a of Object.keys(e))r(a)||(i[a]=e[a]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(a=>{let c=e[a];return c===void 0?"":c===null?io(a,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?io(a,t)+"[]":c.reduce(n(a),[]).join("&"):io(a,t)+"="+io(c,t)}).filter(a=>a.length>0).join("&")};nl.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=aRe(e,"#");return Object.assign({url:r.split("?")[0]||"",query:fRe(cRe(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:Bp(n,t)}:{})};nl.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[FH]:!0},t);let r=uRe(e.url).split("?")[0]||"",n=nl.extract(e.url),i=nl.parse(n,{sort:!1}),o=Object.assign(i,e.query),a=nl.stringify(o,t);a&&(a=`?${a}`);let c=$Jt(e.url);return e.fragmentIdentifier&&(c=`#${t[FH]?io(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${a}${c}`};nl.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[FH]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=nl.parseUrl(e,r);return nl.stringifyUrl({url:n,query:UJt(i,t),fragmentIdentifier:o},r)};nl.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return nl.pick(e,n,r)}});var oI=T((aBr,l4e)=>{var Wer=l4e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Wer)});var yf=T((sBr,u4e)=>{var Zer=u4e.exports={version:"2.6.12"};typeof __e=="number"&&(__e=Zer)});var f4e=T((lBr,c4e)=>{c4e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var n$=T((uBr,p4e)=>{var Yer=f4e();p4e.exports=function(e,t,r){if(Yer(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};}return function(){return e.apply(t,arguments)}}});var aI=T((cBr,d4e)=>{d4e.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var sI=T((fBr,h4e)=>{var Ker=aI();h4e.exports=function(e){if(!Ker(e))throw TypeError(e+" is not an object!");return e}});var lI=T((pBr,m4e)=>{m4e.exports=function(e){try{return!!e()}catch(t){return!0}}});var im=T((dBr,g4e)=>{g4e.exports=!lI()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var o$=T((hBr,y4e)=>{var v4e=aI(),i$=oI().document,Xer=v4e(i$)&&v4e(i$.createElement);y4e.exports=function(e){return Xer?i$.createElement(e):{}}});var a$=T((mBr,_4e)=>{_4e.exports=!im()&&!lI()(function(){return Object.defineProperty(o$()("div"),"a",{get:function(){return 7}}).a!=7})});var s$=T((gBr,x4e)=>{var qP=aI();x4e.exports=function(e,t){if(!qP(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!qP(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!qP(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!qP(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var l$=T(w4e=>{var b4e=sI(),Qer=a$(),Jer=s$(),etr=Object.defineProperty;w4e.f=im()?Object.defineProperty:function(t,r,n){if(b4e(t),r=Jer(r,!0),b4e(n),Qer)try{return etr(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var u$=T((yBr,S4e)=>{S4e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var I4e=T((_Br,E4e)=>{var ttr=l$(),rtr=u$();E4e.exports=im()?function(e,t,r){return ttr.f(e,t,rtr(1,r))}:function(e,t,r){return e[t]=r,e}});var jP=T((xBr,T4e)=>{var ntr={}.hasOwnProperty;T4e.exports=function(e,t){return ntr.call(e,t)}});var Sv=T((bBr,M4e)=>{var zP=oI(),c$=yf(),A4e=n$(),itr=I4e(),otr=jP(),FP="prototype",$a=function(e,t,r){var n=e&$a.F,i=e&$a.G,o=e&$a.S,a=e&$a.P,c=e&$a.B,d=e&$a.W,m=i?c$:c$[t]||(c$[t]={}),v=m[FP],E=i?zP:o?zP[t]:(zP[t]||{})[FP],I,M,L;i&&(r=t);for(I in r)M=!n&&E&&E[I]!==void 0,!(M&&otr(m,I))&&(L=M?E[I]:r[I],m[I]=i&&typeof E[I]!="function"?r[I]:c&&M?A4e(L,zP):d&&E[I]==L?function(R){var P=function(q,j,B){if(this instanceof R){switch(arguments.length){case 0:return new R;case 1:return new R(q);case 2:return new R(q,j);}return new R(q,j,B)}return R.apply(this,arguments)};return P[FP]=R[FP],P}(L):a&&typeof L=="function"?A4e(Function.call,L):L,a&&((m.virtual||(m.virtual={}))[I]=L,e&$a.R&&v&&!v[I]&&itr(v,I,L)))};$a.F=1;$a.G=2;$a.S=4;$a.P=8;$a.B=16;$a.W=32;$a.U=64;$a.R=128;M4e.exports=$a});var O4e=T((wBr,C4e)=>{var atr={}.toString;C4e.exports=function(e){return atr.call(e).slice(8,-1)}});var f$=T((SBr,D4e)=>{var str=O4e();D4e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return str(e)=="String"?e.split(""):Object(e)}});var p$=T((EBr,L4e)=>{L4e.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var uI=T((IBr,P4e)=>{var ltr=f$(),utr=p$();P4e.exports=function(e){return ltr(utr(e))}});var d$=T((TBr,N4e)=>{var ctr=Math.ceil,ftr=Math.floor;N4e.exports=function(e){return isNaN(e=+e)?0:(e>0?ftr:ctr)(e)}});var k4e=T((ABr,R4e)=>{var ptr=d$(),dtr=Math.min;R4e.exports=function(e){return e>0?dtr(ptr(e),9007199254740991):0}});var j4e=T((MBr,q4e)=>{var htr=d$(),mtr=Math.max,gtr=Math.min;q4e.exports=function(e,t){return e=htr(e),e<0?mtr(e+t,0):gtr(e,t)}});var F4e=T((CBr,z4e)=>{var vtr=uI(),ytr=k4e(),_tr=j4e();z4e.exports=function(e){return function(t,r,n){var i=vtr(t),o=ytr(i.length),a=_tr(n,o),c;if(e&&r!=r){for(;o>a;)if(c=i[a++],c!=c)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}}});var U4e=T((OBr,B4e)=>{B4e.exports=!0});var W4e=T((DBr,$4e)=>{var xtr=yf(),V4e=oI(),G4e="__core-js_shared__",H4e=V4e[G4e]||(V4e[G4e]={});($4e.exports=function(e,t){return H4e[e]||(H4e[e]=t!==void 0?t:{})})("versions",[]).push({version:xtr.version,mode:U4e()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var Y4e=T((LBr,Z4e)=>{var btr=0,wtr=Math.random();Z4e.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++btr+wtr).toString(36))}});var h$=T((PBr,X4e)=>{var K4e=W4e()("keys"),Str=Y4e();X4e.exports=function(e){return K4e[e]||(K4e[e]=Str(e))}});var e5e=T((NBr,J4e)=>{var Q4e=jP(),Etr=uI(),Itr=F4e()(!1),Ttr=h$()("IE_PROTO");J4e.exports=function(e,t){var r=Etr(e),n=0,i=[],o;for(o in r)o!=Ttr&&Q4e(r,o)&&i.push(o);for(;t.length>n;)Q4e(r,o=t[n++])&&(~Itr(i,o)||i.push(o));return i}});var m$=T((RBr,t5e)=>{t5e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var cI=T((kBr,r5e)=>{var Atr=e5e(),Mtr=m$();r5e.exports=Object.keys||function(t){return Atr(t,Mtr)}});var i5e=T(n5e=>{n5e.f=Object.getOwnPropertySymbols});var BP=T(o5e=>{o5e.f={}.propertyIsEnumerable});var g$=T((zBr,a5e)=>{var Ctr=p$();a5e.exports=function(e){return Object(Ctr(e))}});var u5e=T((FBr,l5e)=>{"use strict";var Otr=im(),s5e=cI(),Dtr=i5e(),Ltr=BP(),Ptr=g$(),Ntr=f$(),UP=Object.assign;l5e.exports=!UP||lI()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),UP({},e)[r]!=7||Object.keys(UP({},t)).join("")!=n})?function(t,r){for(var n=Ptr(t),i=arguments.length,o=1,a=Dtr.f,c=Ltr.f;i>o;)for(var d=Ntr(arguments[o++]),m=a?s5e(d).concat(a(d)):s5e(d),v=m.length,E=0,I;v>E;)I=m[E++],(!Otr||c.call(d,I))&&(n[I]=d[I]);return n}:UP});var c5e=T(()=>{var v$=Sv();v$(v$.S+v$.F,"Object",{assign:u5e()})});var p5e=T((VBr,f5e)=>{c5e();f5e.exports=yf().Object.assign});var h5e=T((HBr,d5e)=>{var Rtr=l$(),ktr=sI(),qtr=cI();d5e.exports=im()?Object.defineProperties:function(t,r){ktr(t);for(var n=qtr(r),i=n.length,o=0,a;i>o;)Rtr.f(t,a=n[o++],r[a]);return t}});var v5e=T(($Br,g5e)=>{var m5e=oI().document;g5e.exports=m5e&&m5e.documentElement});var x5e=T((WBr,_5e)=>{var jtr=sI(),ztr=h5e(),y5e=m$(),Ftr=h$()("IE_PROTO"),_$=function(){},x$="prototype",VP=function(){var e=o$()("iframe"),t=y5e.length,r="<",n=">",i;for(e.style.display="none",v5e().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),VP=i.F;t--;)delete VP[x$][y5e[t]];return VP()};_5e.exports=Object.create||function(t,r){var n;return t!==null?(_$[x$]=jtr(t),n=new _$,_$[x$]=null,n[Ftr]=t):n=VP(),r===void 0?n:ztr(n,r)}});var w5e=T(()=>{var b5e=Sv();b5e(b5e.S,"Object",{create:x5e()})});var E5e=T((KBr,S5e)=>{w5e();var Btr=yf().Object;S5e.exports=function(t,r){return Btr.create(t,r)}});var A5e=T(T5e=>{var Utr=BP(),Vtr=u$(),Gtr=uI(),Htr=s$(),$tr=jP(),Wtr=a$(),I5e=Object.getOwnPropertyDescriptor;T5e.f=im()?I5e:function(t,r){if(t=Gtr(t),r=Htr(r,!0),Wtr)try{return I5e(t,r)}catch(n){}if($tr(t,r))return Vtr(!Utr.f.call(t,r),t[r])}});var O5e=T((QBr,C5e)=>{var Ztr=aI(),Ytr=sI(),M5e=function(e,t){if(Ytr(e),!Ztr(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};C5e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n$()(Function.call,A5e().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return M5e(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:M5e}});var L5e=T(()=>{var D5e=Sv();D5e(D5e.S,"Object",{setPrototypeOf:O5e().set})});var N5e=T((tUr,P5e)=>{L5e();P5e.exports=yf().Object.setPrototypeOf});var q5e=T((oUr,k5e)=>{var w$=Sv(),Ktr=yf(),Xtr=lI();k5e.exports=function(e,t){var r=(Ktr.Object||{})[e]||Object[e],n={};n[e]=t(r),w$(w$.S+w$.F*Xtr(function(){r(1)}),"Object",n)}});var j5e=T(()=>{var Qtr=g$(),Jtr=cI();q5e()("keys",function(){return function(t){return Jtr(Qtr(t))}})});var F5e=T((lUr,z5e)=>{j5e();z5e.exports=yf().Object.keys});var In=T((cUr,GP)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var c=r.apply(null,o);c&&n.push(c)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var d in o)e.call(o,d)&&o[d]&&n.push(d)}}}return n.join(" ")}typeof GP!="undefined"&&GP.exports?(r.default=r,GP.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var HP=T((dUr,U5e)=>{"use strict";var err=function(e,t,r,n,i,o,a,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,n,i,o,a,c],v=0;d=new Error(t.replace(/%s/g,function(){return m[v++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};U5e.exports=err});var T$=T(I$=>{"use strict";Object.defineProperty(I$,"__esModule",{value:!0});function $5e(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function W5e(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function Z5e(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}$5e.__suppressDeprecationWarning=!0;W5e.__suppressDeprecationWarning=!0;Z5e.__suppressDeprecationWarning=!0;function rrr(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=$5e,t.componentWillReceiveProps=W5e),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Z5e;var c=t.componentDidUpdate;t.componentDidUpdate=function(m,v,E){var I=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;c.call(this,m,v,I)}}return e}I$.polyfill=rrr});var A$=T((LUr,X5e)=>{var irr=im(),orr=cI(),arr=uI(),srr=BP().f;X5e.exports=function(e){return function(t){for(var r=arr(t),n=orr(r),i=n.length,o=0,a=[],c;i>o;)c=n[o++],(!irr||srr.call(r,c))&&a.push(e?[c,r[c]]:r[c]);return a}}});var J5e=T(()=>{var Q5e=Sv(),lrr=A$()(!0);Q5e(Q5e.S,"Object",{entries:function(t){return lrr(t)}})});var tke=T((RUr,eke)=>{J5e();eke.exports=yf().Object.entries});var M$=T((kUr,rke)=>{rke.exports=tke()});var YP=T((ZP,ske)=>{"use strict";Object.defineProperty(ZP,"__esModule",{value:!0});ZP.default=vrr;function vrr(e){function t(n,i,o,a,c,d){var m=a||"<<anonymous>>",v=d||o;if(i[o]==null)return n?new Error("Required "+c+" `"+v+"` was not specified "+("in `"+m+"`.")):null;for(var E=arguments.length,I=Array(E>6?E-6:0),M=6;M<E;M++)I[M-6]=arguments[M];return e.apply(void 0,[i,o,m,c,v].concat(I))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}ske.exports=ZP.default});var uke=T(()=>{var lke=Sv(),yrr=A$()(!1);lke(lke.S,"Object",{values:function(t){return yrr(t)}})});var fke=T((GUr,cke)=>{uke();cke.exports=yf().Object.values});var dke=T((HUr,pke)=>{pke.exports=fke()});var gke=T(Xn=>{"use strict";var Uo=typeof Symbol=="function"&&Symbol.for,P$=Uo?Symbol.for("react.element"):60103,N$=Uo?Symbol.for("react.portal"):60106,KP=Uo?Symbol.for("react.fragment"):60107,XP=Uo?Symbol.for("react.strict_mode"):60108,QP=Uo?Symbol.for("react.profiler"):60114,JP=Uo?Symbol.for("react.provider"):60109,eN=Uo?Symbol.for("react.context"):60110,R$=Uo?Symbol.for("react.async_mode"):60111,tN=Uo?Symbol.for("react.concurrent_mode"):60111,rN=Uo?Symbol.for("react.forward_ref"):60112,nN=Uo?Symbol.for("react.suspense"):60113,brr=Uo?Symbol.for("react.suspense_list"):60120,iN=Uo?Symbol.for("react.memo"):60115,oN=Uo?Symbol.for("react.lazy"):60116,wrr=Uo?Symbol.for("react.block"):60121,Srr=Uo?Symbol.for("react.fundamental"):60117,Err=Uo?Symbol.for("react.responder"):60118,Irr=Uo?Symbol.for("react.scope"):60119;function jl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case P$:switch(e=e.type,e){case R$:case tN:case KP:case QP:case XP:case nN:return e;default:switch(e=e&&e.$$typeof,e){case eN:case rN:case oN:case iN:case JP:return e;default:return t;}}case N$:return t;}}}function mke(e){return jl(e)===tN}Xn.AsyncMode=R$;Xn.ConcurrentMode=tN;Xn.ContextConsumer=eN;Xn.ContextProvider=JP;Xn.Element=P$;Xn.ForwardRef=rN;Xn.Fragment=KP;Xn.Lazy=oN;Xn.Memo=iN;Xn.Portal=N$;Xn.Profiler=QP;Xn.StrictMode=XP;Xn.Suspense=nN;Xn.isAsyncMode=function(e){return mke(e)||jl(e)===R$};Xn.isConcurrentMode=mke;Xn.isContextConsumer=function(e){return jl(e)===eN};Xn.isContextProvider=function(e){return jl(e)===JP};Xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===P$};Xn.isForwardRef=function(e){return jl(e)===rN};Xn.isFragment=function(e){return jl(e)===KP};Xn.isLazy=function(e){return jl(e)===oN};Xn.isMemo=function(e){return jl(e)===iN};Xn.isPortal=function(e){return jl(e)===N$};Xn.isProfiler=function(e){return jl(e)===QP};Xn.isStrictMode=function(e){return jl(e)===XP};Xn.isSuspense=function(e){return jl(e)===nN};Xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===KP||e===tN||e===QP||e===XP||e===nN||e===brr||typeof e=="object"&&e!==null&&(e.$$typeof===oN||e.$$typeof===iN||e.$$typeof===JP||e.$$typeof===eN||e.$$typeof===rN||e.$$typeof===Srr||e.$$typeof===Err||e.$$typeof===Irr||e.$$typeof===wrr)};Xn.typeOf=jl});var yke=T((KUr,vke)=>{"use strict";vke.exports=gke()});var Ss=T((aN,xke)=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0});var Trr=Le(),Arr=_ke(Trr),Mrr=yke(),Crr=YP(),Orr=_ke(Crr);function _ke(e){return e&&e.__esModule?e:{default:e}}function Drr(e,t,r,n,i){var o=e[t];return Arr.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,Mrr.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}aN.default=(0,Orr.default)(Drr);xke.exports=aN.default});var Tke=T((uN,Ike)=>{"use strict";Object.defineProperty(uN,"__esModule",{value:!0});uN.default=Frr;var qrr=YP(),jrr=zrr(qrr);function zrr(e){return e&&e.__esModule?e:{default:e}}function Frr(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var c=null;return t.forEach(function(d){if(c==null){var m=d.apply(void 0,o);m!=null&&(c=m)}}),c}return(0,jrr.default)(n)}Ike.exports=uN.default});var Mv=T((g8r,Oke)=>{"use strict";var Urr=function(){};Oke.exports=Urr});var oo=T((E8r,gI)=>{function $rr(e){return e&&e.__esModule?e:{default:e}}gI.exports=$rr,gI.exports.__esModule=!0,gI.exports.default=gI.exports});var Pke=T((pN,Lke)=>{"use strict";pN.__esModule=!0;pN.default=Zrr;var Wrr=/-(.)/g;function Zrr(e){return e.replace(Wrr,function(t,r){return r.toUpperCase()})}Lke.exports=pN.default});var V$=T((dN,Nke)=>{"use strict";var Yrr=oo();dN.__esModule=!0;dN.default=Qrr;var Krr=Yrr(Pke()),Xrr=/^-ms-/;function Qrr(e){return(0,Krr.default)(e.replace(Xrr,"ms-"))}Nke.exports=dN.default});var kke=T((hN,Rke)=>{"use strict";hN.__esModule=!0;hN.default=enr;var Jrr=/([A-Z])/g;function enr(e){return e.replace(Jrr,"-$1").toLowerCase()}Rke.exports=hN.default});var jke=T((mN,qke)=>{"use strict";var tnr=oo();mN.__esModule=!0;mN.default=inr;var rnr=tnr(kke()),nnr=/^ms-/;function inr(e){return(0,rnr.default)(e).replace(nnr,"-ms-")}qke.exports=mN.default});var Fke=T((gN,zke)=>{"use strict";var onr=oo();gN.__esModule=!0;gN.default=unr;var anr=onr(V$()),snr=/^(top|right|bottom|left)$/,lnr=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function unr(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,anr.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),lnr.test(o)&&!snr.test(n)){var a=i.left,c=e.runtimeStyle,d=c&&c.left;d&&(c.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=a,d&&(c.left=d)}return o}}}zke.exports=gN.default});var Uke=T((vN,Bke)=>{"use strict";vN.__esModule=!0;vN.default=cnr;function cnr(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}Bke.exports=vN.default});var xf=T((vI,Vke)=>{"use strict";vI.__esModule=!0;vI.default=void 0;var fnr=!!(typeof window!="undefined"&&window.document&&window.document.createElement);vI.default=fnr;Vke.exports=vI.default});var Yke=T(pn=>{"use strict";var pnr=oo();pn.__esModule=!0;pn.default=pn.animationEnd=pn.animationDelay=pn.animationTiming=pn.animationDuration=pn.animationName=pn.transitionEnd=pn.transitionDuration=pn.transitionDelay=pn.transitionTiming=pn.transitionProperty=pn.transform=void 0;var dnr=pnr(xf()),_N="transform";pn.transform=_N;var bf,G$,Gke;pn.animationEnd=Gke;pn.transitionEnd=G$;var H$,$$,W$,Z$;pn.transitionDelay=Z$;pn.transitionTiming=W$;pn.transitionDuration=$$;pn.transitionProperty=H$;var Hke,$ke,Wke,Zke;pn.animationDelay=Zke;pn.animationTiming=Wke;pn.animationDuration=$ke;pn.animationName=Hke;dnr.default&&(yN=mnr(),bf=yN.prefix,pn.transitionEnd=G$=yN.transitionEnd,pn.animationEnd=Gke=yN.animationEnd,pn.transform=_N=bf+"-"+_N,pn.transitionProperty=H$=bf+"-transition-property",pn.transitionDuration=$$=bf+"-transition-duration",pn.transitionDelay=Z$=bf+"-transition-delay",pn.transitionTiming=W$=bf+"-transition-timing-function",pn.animationName=Hke=bf+"-animation-name",pn.animationDuration=$ke=bf+"-animation-duration",pn.animationTiming=Wke=bf+"-animation-delay",pn.animationDelay=Zke=bf+"-animation-timing-function");var yN,hnr={transform:_N,end:G$,property:H$,timing:W$,delay:Z$,duration:$$};pn.default=hnr;function mnr(){for(var e=document.createElement("div").style,t={O:function(m){return"o"+m.toLowerCase()},Moz:function(m){return m.toLowerCase()},Webkit:function(m){return"webkit"+m},ms:function(m){return"MS"+m}},r=Object.keys(t),n,i,o="",a=0;a<r.length;a++){var c=r[a];if(c+"TransitionProperty"in e){o="-"+c.toLowerCase(),n=t[c]("TransitionEnd"),i=t[c]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var Xke=T((xN,Kke)=>{"use strict";xN.__esModule=!0;xN.default=vnr;var gnr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vnr(e){return!!(e&&gnr.test(e))}Kke.exports=xN.default});var wN=T((bN,Qke)=>{"use strict";var yI=oo();bN.__esModule=!0;bN.default=Snr;var ynr=yI(V$()),Y$=yI(jke()),_nr=yI(Fke()),xnr=yI(Uke()),bnr=Yke(),wnr=yI(Xke());function Snr(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,ynr.default)(t)]||(0,_nr.default)(e).getPropertyValue((0,Y$.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(a){var c=o[a];!c&&c!==0?(0,xnr.default)(e,(0,Y$.default)(a)):(0,wnr.default)(a)?i+=a+"("+c+") ":n+=(0,Y$.default)(a)+": "+c+";"}),i&&(n+=bnr.transform+": "+i+";"),e.style.cssText+=";"+n}Qke.exports=bN.default});var Jke=T(_1=>{"use strict";_1.__esModule=!0;_1.classNamesShape=_1.timeoutsShape=void 0;var T8r=Enr(Tt());function Enr(e){return e&&e.__esModule?e:{default:e}}var Inr=null;_1.timeoutsShape=Inr;var Tnr=null;_1.classNamesShape=Tnr});var t3e=T(ol=>{"use strict";ol.__esModule=!0;ol.default=ol.EXITING=ol.ENTERED=ol.ENTERING=ol.EXITED=ol.UNMOUNTED=void 0;var Anr=Onr(Tt()),K$=e3e(Le()),Mnr=e3e(Ji()),Cnr=T$(),M8r=Jke();function e3e(e){return e&&e.__esModule?e:{default:e}}function Onr(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Dnr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Lnr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _I="unmounted";ol.UNMOUNTED=_I;var Cv="exited";ol.EXITED=Cv;var Ov="entering";ol.ENTERING=Ov;var b1="entered";ol.ENTERED=b1;var X$="exiting";ol.EXITING=X$;var wf=function(e){Lnr(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=i.transitionGroup,c=a&&!a.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?c?(d=Cv,o.appearStatus=Ov):d=b1:n.unmountOnExit||n.mountOnEnter?d=_I:d=Cv,o.state={status:d},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===_I?{status:Cv}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Ov&&a!==b1&&(o=Ov):(a===Ov||a===b1)&&(o=X$)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,a,c;return o=a=c=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:c}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var a=Mnr.default.findDOMNode(this);o===Ov?this.performEnter(a,i):this.performExit(a)}else this.props.unmountOnExit&&this.state.status===Cv&&this.setState({status:_I})},r.performEnter=function(i,o){var a=this,c=this.props.enter,d=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,m=this.getTimeouts(),v=d?m.appear:m.enter;if(!o&&!c){this.safeSetState({status:b1},function(){a.props.onEntered(i)});return}this.props.onEnter(i,d),this.safeSetState({status:Ov},function(){a.props.onEntering(i,d),a.onTransitionEnd(i,v,function(){a.safeSetState({status:b1},function(){a.props.onEntered(i,d)})})})},r.performExit=function(i){var o=this,a=this.props.exit,c=this.getTimeouts();if(!a){this.safeSetState({status:Cv},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:X$},function(){o.props.onExiting(i),o.onTransitionEnd(i,c.exit,function(){o.safeSetState({status:Cv},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,o,a){this.setNextCallback(a);var c=o==null&&!this.props.addEndListener;if(!i||c){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===_I)return null;var o=this.props,a=o.children,c=Dnr(o,["children"]);if(delete c.in,delete c.mountOnEnter,delete c.unmountOnExit,delete c.appear,delete c.enter,delete c.exit,delete c.timeout,delete c.addEndListener,delete c.onEnter,delete c.onEntering,delete c.onEntered,delete c.onExit,delete c.onExiting,delete c.onExited,typeof a=="function")return a(i,c);var d=K$.default.Children.only(a);return K$.default.cloneElement(d,c)},t}(K$.default.Component);wf.contextTypes={transitionGroup:Anr.object};wf.childContextTypes={transitionGroup:function(){}};wf.propTypes={};function x1(){}wf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:x1,onEntering:x1,onEntered:x1,onExit:x1,onExiting:x1,onExited:x1};wf.UNMOUNTED=0;wf.EXITED=1;wf.ENTERING=2;wf.ENTERED=3;wf.EXITING=4;var Pnr=(0,Cnr.polyfill)(wf);ol.default=Pnr});var Dv=T((SN,r3e)=>{"use strict";SN.__esModule=!0;SN.default=Nnr;function Nnr(e){return e&&e.ownerDocument||document}r3e.exports=SN.default});var i3e=T((EN,n3e)=>{"use strict";var Rnr=oo();EN.__esModule=!0;EN.default=qnr;var knr=Rnr(Dv());function qnr(e){e===void 0&&(e=(0,knr.default)());try{return e.activeElement}catch(t){}}n3e.exports=EN.default});var bI=T((xI,a3e)=>{"use strict";var jnr=oo();xI.__esModule=!0;xI.default=void 0;var znr=jnr(xf()),Fnr=function(){return znr.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):o3e(e,t)}:o3e}();xI.default=Fnr;function o3e(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}a3e.exports=xI.default});var c3e=T((Lv,u3e)=>{function s3e(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return l3e[e];var r=String(e),n=Zp[r.toLowerCase()];if(n)return n;var n=IN[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}s3e.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=Zp[r.toLowerCase()];if(i)return i===n;var i=IN[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Lv=u3e.exports=s3e;var Zp=Lv.code=Lv.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},IN=Lv.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Bi=97;Bi<123;Bi++)Zp[String.fromCharCode(Bi)]=Bi-32;for(Bi=48;Bi<58;Bi++)Zp[Bi-48]=Bi;var Bi;for(Bi=1;Bi<13;Bi++)Zp["f"+Bi]=Bi+111;for(Bi=0;Bi<10;Bi++)Zp["numpad "+Bi]=Bi+96;var l3e=Lv.names=Lv.title={};for(Bi in Zp)l3e[Zp[Bi]]=Bi;for(Q$ in IN)Zp[Q$]=IN[Q$];var Q$});var J$=T((TN,f3e)=>{"use strict";Object.defineProperty(TN,"__esModule",{value:!0});TN.default=Bnr;function Bnr(e){return function(r,n,i,o,a){var c=i||"<<anonymous>>",d=a||n;if(r[n]==null)return new Error("The "+o+" `"+d+"` is required to make "+("`"+c+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var m=arguments.length,v=Array(m>5?m-5:0),E=5;E<m;E++)v[E-5]=arguments[E];return e.apply(void 0,[r,n,i,o,a].concat(v))}}f3e.exports=TN.default});var AN=T((wI,d3e)=>{"use strict";var Unr=oo();wI.__esModule=!0;wI.default=void 0;var Vnr=Unr(xf()),p3e=function(){};Vnr.default&&(p3e=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var Gnr=p3e;wI.default=Gnr;d3e.exports=wI.default});var MN=T((SI,m3e)=>{"use strict";var Hnr=oo();SI.__esModule=!0;SI.default=void 0;var $nr=Hnr(xf()),h3e=function(){};$nr.default&&(h3e=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var Wnr=h3e;SI.default=Wnr;m3e.exports=SI.default});var eW=T((CN,v3e)=>{"use strict";CN.__esModule=!0;CN.default=function(e,t,r,n){return(0,Ynr.default)(e,t,r,n),{remove:function(){(0,Xnr.default)(e,t,r,n)}}};var Znr=AN(),Ynr=g3e(Znr),Knr=MN(),Xnr=g3e(Knr);function g3e(e){return e&&e.__esModule?e:{default:e}}v3e.exports=CN.default});var Pv=T((ON,_3e)=>{"use strict";ON.__esModule=!0;ON.default=function(e){return(0,tir.default)(Jnr.default.findDOMNode(e))};var Qnr=Ji(),Jnr=y3e(Qnr),eir=Dv(),tir=y3e(eir);function y3e(e){return e&&e.__esModule?e:{default:e}}_3e.exports=ON.default});var b3e=T((PN,x3e)=>{"use strict";PN.__esModule=!0;var rir=bI(),nir=w1(rir),iir=Tt(),DN=w1(iir),oir=Le(),air=w1(oir),sir=Ji(),lir=w1(sir),uir=eW(),tW=w1(uir),cir=Pv(),fir=w1(cir);function w1(e){return e&&e.__esModule?e:{default:e}}function pir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dir(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mir=27;function gir(e){return e.button===0}function vir(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var LN=function(e){hir(t,e);function t(r,n){pir(this,t);var i=dir(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,a=(0,fir.default)(i);i.documentMouseCaptureListener=(0,tW.default)(a,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,tW.default)(a,o,i.handleMouse),i.documentKeyupListener=(0,tW.default)(a,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=vir(o)||!gir(o)||(0,nir.default)(lir.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===mir&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(air.default.Component);LN.displayName="RootCloseWrapper";LN.propTypes={onRootClose:DN.default.func,children:DN.default.element,disabled:DN.default.bool,event:DN.default.oneOf(["click","mousedown"])};LN.defaultProps={event:"click"};PN.default=LN;x3e.exports=PN.default});var P3e=T((qN,L3e)=>{"use strict";qN.__esModule=!0;qN.default=Dir;var Oir=/^[\w-]*$/,dW=Function.prototype.bind.call(Function.prototype.call,[].slice);function Dir(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=Oir.test(i),a;return o?r?(e=e.getElementById?e:document,(a=e.getElementById(i))?[a]:[]):e.getElementsByClassName&&n?dW(e.getElementsByClassName(i)):dW(e.getElementsByTagName(t)):dW(e.querySelectorAll(t))}L3e.exports=qN.default});var k3e=T((jN,R3e)=>{"use strict";var N3e=oo();jN.__esModule=!0;jN.default=Nir;var Lir=N3e(bI()),Pir=N3e(P3e());function Nir(e,t){return function(n){var i=n.currentTarget,o=n.target,a=(0,Pir.default)(i,e);a.some(function(c){return(0,Lir.default)(c,o)})&&t.call(this,n)}}R3e.exports=jN.default});var z3e=T((TI,j3e)=>{"use strict";var hW=oo();TI.__esModule=!0;TI.default=void 0;var Rir=hW(xf()),kir=hW(AN()),qir=hW(MN()),q3e=function(){};Rir.default&&(q3e=function(t,r,n,i){return(0,kir.default)(t,r,n,i),function(){(0,qir.default)(t,r,n,i)}});var jir=q3e;TI.default=jir;j3e.exports=TI.default});var G3e=T(am=>{"use strict";var zN=oo();am.__esModule=!0;am.default=void 0;var F3e=zN(AN());am.on=F3e.default;var B3e=zN(MN());am.off=B3e.default;var U3e=zN(k3e());am.filter=U3e.default;var V3e=zN(z3e());am.listen=V3e.default;var zir={on:F3e.default,off:B3e.default,filter:U3e.default,listen:V3e.default};am.default=zir});var mW=T((BN,H3e)=>{"use strict";var Fir=oo();BN.__esModule=!0;BN.default=Uir;var Bir=Fir(xf()),FN;function Uir(e){if((!FN&&FN!==0||e)&&Bir.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),FN=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return FN}H3e.exports=BN.default});var AI=T((UN,W3e)=>{"use strict";Object.defineProperty(UN,"__esModule",{value:!0});var Vir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gir=Le(),Hir=$3e(Gir),$ir=YP(),Wir=$3e($ir);function $3e(e){return e&&e.__esModule?e:{default:e}}function Zir(e,t,r,n,i){var o=e[t],a=typeof o=="undefined"?"undefined":Vir(o);return Hir.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(a!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}UN.default=(0,Wir.default)(Zir);W3e.exports=UN.default});var X3e=T((cVr,K3e)=>{"use strict";var Yir=!1,Y3e=function(){};Yir&&(Z3e=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,a="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(a);try{throw new Error(a)}catch(c){}},Y3e=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||Z3e.apply(null,[t].concat(r))});var Z3e;K3e.exports=Y3e});var eqe=T((VN,J3e)=>{"use strict";Object.defineProperty(VN,"__esModule",{value:!0});VN.default=Q3e;var Kir=X3e(),Xir=Qir(Kir);function Qir(e){return e&&e.__esModule?e:{default:e}}var gW={};function Q3e(e,t){return function(n,i,o,a,c){var d=o||"<<anonymous>>",m=c||i;if(n[i]!=null){var v=o+"."+i;(0,Xir.default)(gW[v],"The "+a+" `"+m+"` of "+("`"+d+"` is deprecated. "+t+".")),gW[v]=!0}for(var E=arguments.length,I=Array(E>5?E-5:0),M=5;M<E;M++)I[M-5]=arguments[M];return e.apply(void 0,[n,i,o,a,c].concat(I))}}function Jir(){gW={}}Q3e._resetWarned=Jir;J3e.exports=VN.default});var vW=T((GN,tqe)=>{"use strict";GN.__esModule=!0;GN.default=eor;function eor(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}tqe.exports=GN.default});var nqe=T((HN,rqe)=>{"use strict";var tor=oo();HN.__esModule=!0;HN.default=nor;var ror=tor(vW());function nor(e,t){e.classList?e.classList.add(t):(0,ror.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}rqe.exports=HN.default});var aqe=T((fVr,oqe)=>{"use strict";function iqe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}oqe.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=iqe(t.className,r):t.setAttribute("class",iqe(t.className&&t.className.baseVal||"",r))}});var cqe=T(Nv=>{"use strict";var yW=oo();Nv.__esModule=!0;Nv.default=void 0;var sqe=yW(nqe());Nv.addClass=sqe.default;var lqe=yW(aqe());Nv.removeClass=lqe.default;var uqe=yW(vW());Nv.hasClass=uqe.default;var ior={addClass:sqe.default,removeClass:lqe.default,hasClass:uqe.default};Nv.default=ior});var MI=T(($N,fqe)=>{"use strict";$N.__esModule=!0;$N.default=oor;function oor(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}fqe.exports=$N.default});var _W=T((WN,hqe)=>{"use strict";WN.__esModule=!0;WN.default=por;var aor=MI(),pqe=dqe(aor),sor=Dv(),lor=dqe(sor);function dqe(e){return e&&e.__esModule?e:{default:e}}function uor(e){return e&&e.tagName.toLowerCase()==="body"}function cor(e){var t=(0,lor.default)(e),r=(0,pqe.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function por(e){var t=(0,pqe.default)(e);return t||uor(e)?cor(e):e.scrollHeight>e.clientHeight}hqe.exports=WN.default});var gqe=T(CI=>{"use strict";CI.__esModule=!0;CI.ariaHidden=xW;CI.hideSiblings=mor;CI.showSiblings=gor;var dor=["template","script","style"],hor=function(t){var r=t.nodeType,n=t.tagName;return r===1&&dor.indexOf(n.toLowerCase())===-1},mqe=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&hor(i)&&n(i)})};function xW(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function mor(e,t){mqe(e,t,function(r){return xW(!0,r)})}function gor(e,t){mqe(e,t,function(r){return xW(!1,r)})}});var xqe=T((YN,_qe)=>{"use strict";YN.__esModule=!0;var vor=cqe(),vqe=ZN(vor),yor=wN(),yqe=ZN(yor),_or=mW(),xor=ZN(_or),bor=_W(),wor=ZN(bor),bW=gqe();function ZN(e){return e&&e.__esModule?e:{default:e}}function Sor(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eor(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function Ior(e,t){return Eor(e,function(r){return r.modals.indexOf(t)!==-1})}function Tor(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,yqe.default)(t,"paddingRight")||0,10)+(0,xor.default)()+"px"),(0,yqe.default)(t,r)}function Aor(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var Mor=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,a=o===void 0?!0:o;Sor(this,e),this.add=function(c,d,m){var v=t.modals.indexOf(c),E=t.containers.indexOf(d);if(v!==-1)return v;if(v=t.modals.length,t.modals.push(c),t.hideSiblingNodes&&(0,bW.hideSiblings)(d,c.modalNode),E!==-1)return t.data[E].modals.push(c),v;var I={modals:[c],classes:m?m.split(/\s+/):[],overflowing:(0,wor.default)(d)};return t.handleContainerOverflow&&Tor(I,d),I.classes.forEach(vqe.default.addClass.bind(null,d)),t.containers.push(d),t.data.push(I),v},this.remove=function(c){var d=t.modals.indexOf(c);if(d!==-1){var m=Ior(t.data,c),v=t.data[m],E=t.containers[m];v.modals.splice(v.modals.indexOf(c),1),t.modals.splice(d,1),v.modals.length===0?(v.classes.forEach(vqe.default.removeClass.bind(null,E)),t.handleContainerOverflow&&Aor(v,E),t.hideSiblingNodes&&(0,bW.showSiblings)(E,c.modalNode),t.containers.splice(m,1),t.data.splice(m,1)):t.hideSiblingNodes&&(0,bW.ariaHidden)(!1,v.modals[v.modals.length-1].modalNode)}},this.isTopModal=function(c){return!!t.modals.length&&t.modals[t.modals.length-1]===c},this.hideSiblingNodes=i,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[]};YN.default=Mor;_qe.exports=YN.default});var OI=T((KN,bqe)=>{"use strict";KN.__esModule=!0;KN.default=Lor;var Cor=Ji(),Oor=Dor(Cor);function Dor(e){return e&&e.__esModule?e:{default:e}}function Lor(e,t){return e=typeof e=="function"?e():e,Oor.default.findDOMNode(e)||t}bqe.exports=KN.default});var Mqe=T((XN,Aqe)=>{"use strict";XN.__esModule=!0;var Por=Tt(),wW=I1(Por),Nor=AI(),Ror=I1(Nor),kor=Le(),wqe=I1(kor),qor=Ji(),Sqe=I1(qor),jor=OI(),Eqe=I1(jor),zor=Pv(),Iqe=I1(zor);function I1(e){return e&&e.__esModule?e:{default:e}}function For(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Bor(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SW=function(e){Bor(t,e);function t(){var r,n,i;For(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=Tqe(this,e.call.apply(e,[this].concat(a))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,Eqe.default)(n.props.container,(0,Iqe.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var d=n.props.children?wqe.default.Children.only(n.props.children):null;if(d!==null){n._mountOverlayTarget();var m=!n._overlayInstance;n._overlayInstance=Sqe.default.unstable_renderSubtreeIntoContainer(n,d,n._overlayTarget,function(){m&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(Sqe.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),Tqe(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,Eqe.default)(n.container,(0,Iqe.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(wqe.default.Component);SW.displayName="Portal";SW.propTypes={container:wW.default.oneOfType([Ror.default,wW.default.func]),onRendered:wW.default.func};XN.default=SW;Aqe.exports=XN.default});var AW=T((QN,Oqe)=>{"use strict";QN.__esModule=!0;var Uor=xf(),Vor=sm(Uor),Gor=Tt(),EW=sm(Gor),Hor=AI(),$or=sm(Hor),Wor=Le(),Zor=sm(Wor),Yor=Ji(),IW=sm(Yor),Kor=OI(),Xor=sm(Kor),Qor=Pv(),Jor=sm(Qor),ear=Mqe(),tar=sm(ear);function sm(e){return e&&e.__esModule?e:{default:e}}function rar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var TW=function(e){nar(t,e);function t(){var r,n,i;rar(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=Cqe(this,e.call.apply(e,[this].concat(a))),n),n.getMountNode=function(){return n._portalContainerNode},r),Cqe(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(Vor.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!IW.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,Xor.default)(n,(0,Jor.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?IW.default.createPortal(this.props.children,this._portalContainerNode):null},t}(Zor.default.Component);TW.displayName="Portal";TW.propTypes={container:EW.default.oneOfType([$or.default,EW.default.func]),onRendered:EW.default.func};QN.default=IW.default.createPortal?TW:tar.default;Oqe.exports=QN.default});var Nqe=T((JN,Pqe)=>{"use strict";JN.__esModule=!0;var iar=Tt(),oar=Dqe(iar),aar=Le(),sar=Dqe(aar);function Dqe(e){return e&&e.__esModule?e:{default:e}}function lar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uar(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function car(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var far={children:oar.default.node},Lqe=function(e){car(t,e);function t(){return lar(this,t),uar(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(sar.default.Component);Lqe.propTypes=far;JN.default=Lqe;Pqe.exports=JN.default});var kqe=T((eR,Rqe)=>{"use strict";eR.__esModule=!0;eR.default=par;function par(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}Rqe.exports=eR.default});var $qe=T((rR,Hqe)=>{"use strict";rR.__esModule=!0;var Fqe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dar=i3e(),MW=ma(dar),har=bI(),Bqe=ma(har),mar=xf(),gar=ma(mar),yar=Tt(),yi=ma(yar),_ar=AI(),xar=ma(_ar),bar=eqe(),war=ma(bar),Sar=Ss(),qqe=ma(Sar),Uqe=Le(),lm=ma(Uqe),Ear=Ji(),Iar=ma(Ear),Tar=Mv(),Aar=ma(Tar),Mar=xqe(),Vqe=ma(Mar),Car=AW(),Gqe=ma(Car),Oar=Nqe(),Dar=ma(Oar),Lar=eW(),jqe=ma(Lar),Par=kqe(),Nar=ma(Par),Rar=OI(),kar=ma(Rar),qar=Pv(),CW=ma(qar);function ma(e){return e&&e.__esModule?e:{default:e}}function jar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Far=new Vqe.default,tR=function(e){zar(t,e);function t(){var r,n,i;jar(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=zqe(this,e.call.apply(e,[this].concat(a))),n),Bar.call(n),r),zqe(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),a={};return o.map(function(c){Object.prototype.hasOwnProperty.call(i,c)||(a[c]=n[c])}),a},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,a=n.children,c=n.transition,d=n.backdrop,m=n.className,v=n.style,E=n.onExit,I=n.onExiting,M=n.onEnter,L=n.onEntering,R=n.onEntered,P=lm.default.Children.only(a),q=this.omitProps(this.props,t.propTypes),j=i||c&&!this.state.exited;if(!j)return null;var B=P.props,Z=B.role,re=B.tabIndex;return(Z===void 0||re===void 0)&&(P=(0,Uqe.cloneElement)(P,{role:Z===void 0?"document":Z,tabIndex:re==null?"-1":re})),c&&(P=lm.default.createElement(c,{appear:!0,unmountOnExit:!0,in:i,onExit:E,onExiting:I,onExited:this.handleHidden,onEnter:M,onEntering:L,onEntered:R},P)),lm.default.createElement(Gqe.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},lm.default.createElement("div",Fqe({ref:this.setModalNodeRef,role:Z||"dialog"},q,{style:v,className:m}),d&&this.renderBackdrop(),lm.default.createElement(Dar.default,{ref:this.setDialogRef},P)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,MW.default)((0,CW.default)(this));n&&!(0,Bqe.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,Aar.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return Iar.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(lm.default.Component);tR.propTypes=Fqe({},Gqe.default.propTypes,{show:yi.default.bool,container:yi.default.oneOfType([xar.default,yi.default.func]),onShow:yi.default.func,onHide:yi.default.func,backdrop:yi.default.oneOfType([yi.default.bool,yi.default.oneOf(["static"])]),renderBackdrop:yi.default.func,onEscapeKeyDown:yi.default.func,onEscapeKeyUp:(0,war.default)(yi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:yi.default.func,backdropStyle:yi.default.object,backdropClassName:yi.default.string,containerClassName:yi.default.string,keyboard:yi.default.bool,transition:qqe.default,backdropTransition:qqe.default,autoFocus:yi.default.bool,enforceFocus:yi.default.bool,restoreFocus:yi.default.bool,onEnter:yi.default.func,onEntering:yi.default.func,onEntered:yi.default.func,onExit:yi.default.func,onExiting:yi.default.func,onExited:yi.default.func,manager:yi.default.object.isRequired});tR.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:Far,renderBackdrop:function(t){return lm.default.createElement("div",t)}};var Bar=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,a=r.backdropTransition,c=function(v){return t.backdrop=v},d=o({ref:c,style:n,className:i,onClick:t.handleBackdropClick});return a&&(d=lm.default.createElement(a,{appear:!0,in:t.props.show},d)),d},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,CW.default)(t),n=(0,kar.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,jqe.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,jqe.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,Nar.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){gar.default&&(t.lastFocus=(0,MW.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,MW.default)((0,CW.default)(t));r&&!(0,Bqe.default)(r,n)&&r.focus()}}};tR.Manager=Vqe.default;rR.default=tR;Hqe.exports=rR.default});var UW=T((lR,dje)=>{"use strict";var BW=oo();lR.__esModule=!0;lR.default=fsr;var lsr=BW(bI()),usr=BW(MI()),csr=BW(Dv());function fsr(e){var t=(0,csr.default)(e),r=(0,usr.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,lsr.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}dje.exports=lR.default});var hje=T((_9r,Yp)=>{function VW(){return Yp.exports=VW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.exports.__esModule=!0,Yp.exports.default=Yp.exports,VW.apply(this,arguments)}Yp.exports=VW,Yp.exports.__esModule=!0,Yp.exports.default=Yp.exports});var vje=T((uR,gje)=>{"use strict";var mje=oo();uR.__esModule=!0;uR.default=msr;var psr=mje(Dv()),dsr=mje(wN());function hsr(e){return e.nodeName&&e.nodeName.toLowerCase()}function msr(e){for(var t=(0,psr.default)(e),r=e&&e.offsetParent;r&&hsr(e)!=="html"&&(0,dsr.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}gje.exports=uR.default});var GW=T((cR,yje)=>{"use strict";var gsr=oo();cR.__esModule=!0;cR.default=ysr;var vsr=gsr(MI());function ysr(e,t){var r=(0,vsr.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}yje.exports=cR.default});var xje=T((fR,_je)=>{"use strict";var _sr=oo();fR.__esModule=!0;fR.default=bsr;var xsr=_sr(MI());function bsr(e,t){var r=(0,xsr.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}_je.exports=fR.default});var Sje=T((pR,wje)=>{"use strict";var C1=oo();pR.__esModule=!0;pR.default=Asr;var wsr=C1(hje()),bje=C1(UW()),Ssr=C1(vje()),Esr=C1(GW()),Isr=C1(xje()),RI=C1(wN());function Tsr(e){return e.nodeName&&e.nodeName.toLowerCase()}function Asr(e,t){var r={top:0,left:0},n;return(0,RI.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,Ssr.default)(e),n=(0,bje.default)(e),Tsr(t)!=="html"&&(r=(0,bje.default)(t)),r.top+=parseInt((0,RI.default)(t,"borderTopWidth"),10)-(0,Esr.default)(t)||0,r.left+=parseInt((0,RI.default)(t,"borderLeftWidth"),10)-(0,Isr.default)(t)||0),(0,wsr.default)({},n,{top:n.top-r.top-(parseInt((0,RI.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,RI.default)(e,"marginLeft"),10)||0)})}wje.exports=pR.default});var Tje=T((hR,Ije)=>{"use strict";hR.__esModule=!0;hR.default=ksr;var Msr=UW(),$W=dR(Msr),Csr=Sje(),Osr=dR(Csr),Dsr=GW(),HW=dR(Dsr),Lsr=Pv(),Psr=dR(Lsr);function dR(e){return e&&e.__esModule?e:{default:e}}function Eje(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,HW.default)((0,Psr.default)(e).documentElement)||(0,HW.default)(e);else{var i=(0,$W.default)(e);t=i.width,r=i.height,n=(0,HW.default)(e)}return{width:t,height:r,scroll:n}}function Nsr(e,t,r,n){var i=Eje(r),o=i.scroll,a=i.height,c=e-n-o,d=e+n-o+t;return c<0?-c:d>a?a-d:0}function Rsr(e,t,r,n){var i=Eje(r),o=i.width,a=e-n,c=e+n+t;return a<0?-a:c>o?o-c:0}function ksr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,$W.default)(r):(0,Osr.default)(r,n),a=(0,$W.default)(t),c=a.height,d=a.width,m=void 0,v=void 0,E=void 0,I=void 0;if(e==="left"||e==="right"){v=o.top+(o.height-c)/2,e==="left"?m=o.left-d:m=o.left+o.width;var M=Nsr(v,c,n,i);v+=M,I=50*(1-2*M/c)+"%",E=void 0}else if(e==="top"||e==="bottom"){m=o.left+(o.width-d)/2,e==="top"?v=o.top-c:v=o.top+o.height;var L=Rsr(m,d,n,i);m+=L,E=50*(1-2*L/d)+"%",I=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:m,positionTop:v,arrowOffsetLeft:E,arrowOffsetTop:I}}Ije.exports=hR.default});var Nje=T((gR,Pje)=>{"use strict";gR.__esModule=!0;var Aje=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qsr=In(),jsr=cm(qsr),zsr=Tt(),jv=cm(zsr),Fsr=AI(),Mje=cm(Fsr),Lje=Le(),Cje=cm(Lje),Bsr=Ji(),Oje=cm(Bsr),Usr=Tje(),Vsr=cm(Usr),Gsr=OI(),Hsr=cm(Gsr),$sr=Pv(),Wsr=cm($sr);function cm(e){return e&&e.__esModule?e:{default:e}}function Dje(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Zsr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ysr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ksr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mR=function(e){Ksr(t,e);function t(r,n){Zsr(this,t);var i=Ysr(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,a=typeof o=="function"?o():o;return a&&Oje.default.findDOMNode(a)||null},i.maybeUpdatePosition=function(o){var a=i.getTarget();!i.props.shouldUpdatePosition&&a===i._lastTarget&&!o||i.updatePosition(a)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,a=Dje(n,["children","className"]),c=this.state,d=c.positionLeft,m=c.positionTop,v=Dje(c,["positionLeft","positionTop"]);delete a.target,delete a.container,delete a.containerPadding,delete a.shouldUpdatePosition;var E=Cje.default.Children.only(i);return(0,Lje.cloneElement)(E,Aje({},a,v,{positionLeft:d,positionTop:m,className:(0,jsr.default)(o,E.props.className),style:Aje({},E.props.style,{left:d,top:m})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=Oje.default.findDOMNode(this),o=(0,Hsr.default)(this.props.container,(0,Wsr.default)(this).body);this.setState((0,Vsr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(Cje.default.Component);mR.propTypes={target:jv.default.oneOfType([Mje.default,jv.default.func]),container:jv.default.oneOfType([Mje.default,jv.default.func]),containerPadding:jv.default.number,placement:jv.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:jv.default.bool};mR.displayName="Position";mR.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};gR.default=mR;Pje.exports=gR.default});var Fje=T((vR,zje)=>{"use strict";vR.__esModule=!0;var Xsr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qsr=Tt(),Kp=O1(Qsr),Jsr=Ss(),elr=O1(Jsr),tlr=Le(),kI=O1(tlr),rlr=AW(),Rje=O1(rlr),nlr=Nje(),kje=O1(nlr),ilr=b3e(),qje=O1(ilr);function O1(e){return e&&e.__esModule?e:{default:e}}function olr(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function alr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function slr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function llr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jje=function(e){llr(t,e);function t(r,n){alr(this,t);var i=slr(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,a=n.target,c=n.placement,d=n.shouldUpdatePosition,m=n.rootClose,v=n.children,E=n.transition,I=olr(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),M=I.show||E&&!this.state.exited;if(!M)return null;var L=v;if(L=kI.default.createElement(kje.default,{container:i,containerPadding:o,target:a,placement:c,shouldUpdatePosition:d},L),E){var R=I.onExit,P=I.onExiting,q=I.onEnter,j=I.onEntering,B=I.onEntered;L=kI.default.createElement(E,{in:I.show,appear:!0,onExit:R,onExiting:P,onExited:this.onHiddenListener,onEnter:q,onEntering:j,onEntered:B},L)}return m&&(L=kI.default.createElement(qje.default,{onRootClose:I.onHide,event:I.rootCloseEvent},L)),kI.default.createElement(Rje.default,{container:i},L)},t}(kI.default.Component);jje.propTypes=Xsr({},Rje.default.propTypes,kje.default.propTypes,{show:Kp.default.bool,rootClose:Kp.default.bool,rootCloseEvent:qje.default.propTypes.event,onHide:function(t){var r=Kp.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:elr.default,onEnter:Kp.default.func,onEntering:Kp.default.func,onEntered:Kp.default.func,onExit:Kp.default.func,onExiting:Kp.default.func,onExited:Kp.default.func});vR.default=jje;zje.exports=vR.default});var Yze=T((bHr,td)=>{function _Z(e,t){return td.exports=_Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},td.exports.__esModule=!0,td.exports.default=td.exports,_Z(e,t)}td.exports=_Z,td.exports.__esModule=!0,td.exports.default=td.exports});var xZ=T((wHr,nT)=>{var pur=Yze();function dur(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pur(e,t)}nT.exports=dur,nT.exports.__esModule=!0,nT.exports.default=nT.exports});var wZ=T(bZ=>{"use strict";Object.defineProperty(bZ,"__esModule",{value:!0});function hur(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mur(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var gur=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=mur(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var a=this.tags[this.tags.length-1];if(this.isSpeedy){var c=hur(a);try{var d=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;c.insertRule(n,d?0:c.cssRules.length)}catch(m){}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();bZ.StyleSheet=gur});var Kze=T(SZ=>{"use strict";Object.defineProperty(SZ,"__esModule",{value:!0});function vur(e){function t(Be,Ze,nt,Ce,de){for(var Ne=0,Ee=0,Qe=0,Ke=0,yt,_t,gt=0,Se=0,ft,zt=ft=yt=0,pt=0,Ht=0,ar=0,Ft=0,cr=nt.length,Br=cr-1,Ur,sr="",nn="",lt="",wi="",Tn;pt<cr;){if(_t=nt.charCodeAt(pt),pt===Br&&Ee+Ke+Qe+Ne!==0&&(Ee!==0&&(_t=Ee===47?10:47),Ke=Qe=Ne=0,cr++,Br++),Ee+Ke+Qe+Ne===0){if(pt===Br&&(0<Ht&&(sr=sr.replace(I,"")),0<sr.trim().length)){switch(_t){case 32:case 9:case 59:case 13:case 10:break;default:sr+=nt.charAt(pt);}_t=59}switch(_t){case 123:for(sr=sr.trim(),yt=sr.charCodeAt(0),ft=1,Ft=++pt;pt<cr;){switch(_t=nt.charCodeAt(pt)){case 123:ft++;break;case 125:ft--;break;case 47:switch(_t=nt.charCodeAt(pt+1)){case 42:case 47:e:{for(zt=pt+1;zt<Br;++zt)switch(nt.charCodeAt(zt)){case 47:if(_t===42&&nt.charCodeAt(zt-1)===42&&pt+2!==zt){pt=zt+1;break e}break;case 10:if(_t===47){pt=zt+1;break e}}pt=zt}}break;case 91:_t++;case 40:_t++;case 34:case 39:for(;pt++<Br&&nt.charCodeAt(pt)!==_t;);}if(ft===0)break;pt++}switch(ft=nt.substring(Ft,pt),yt===0&&(yt=(sr=sr.replace(E,"").trim()).charCodeAt(0)),yt){case 64:switch(0<Ht&&(sr=sr.replace(I,"")),_t=sr.charCodeAt(1),_t){case 100:case 109:case 115:case 45:Ht=Ze;break;default:Ht=Re;}if(ft=t(Ze,Ht,ft,_t,de+1),Ft=ft.length,0<je&&(Ht=r(Re,sr,ar),Tn=c(3,ft,Ht,Ze,Ue,$e,Ft,_t,de,Ce),sr=Ht.join(""),Tn!==void 0&&(Ft=(ft=Tn.trim()).length)===0&&(_t=0,ft="")),0<Ft)switch(_t){case 115:sr=sr.replace(Q,a);case 100:case 109:case 45:ft=sr+"{"+ft+"}";break;case 107:sr=sr.replace(j,"$1 $2"),ft=sr+"{"+ft+"}",ft=Ye===1||Ye===2&&o("@"+ft,3)?"@-webkit-"+ft+"@"+ft:"@"+ft;break;default:ft=sr+ft,Ce===112&&(ft=(nn+=ft,""));}else ft="";break;default:ft=t(Ze,r(Ze,sr,ar),ft,Ce,de+1);}lt+=ft,ft=ar=Ht=zt=yt=0,sr="",_t=nt.charCodeAt(++pt);break;case 125:case 59:if(sr=(0<Ht?sr.replace(I,""):sr).trim(),1<(Ft=sr.length))switch(zt===0&&(yt=sr.charCodeAt(0),yt===45||96<yt&&123>yt)&&(Ft=(sr=sr.replace(" ",":")).length),0<je&&(Tn=c(1,sr,Ze,Be,Ue,$e,nn.length,Ce,de,Ce))!==void 0&&(Ft=(sr=Tn.trim()).length)===0&&(sr="\0\0"),yt=sr.charCodeAt(0),_t=sr.charCodeAt(1),yt){case 0:break;case 64:if(_t===105||_t===99){wi+=sr+nt.charAt(pt);break}default:sr.charCodeAt(Ft-1)!==58&&(nn+=i(sr,yt,_t,sr.charCodeAt(2)));}ar=Ht=zt=yt=0,sr="",_t=nt.charCodeAt(++pt);}}switch(_t){case 13:case 10:Ee===47?Ee=0:1+yt===0&&Ce!==107&&0<sr.length&&(Ht=1,sr+="\0"),0<je*ot&&c(0,sr,Ze,Be,Ue,$e,nn.length,Ce,de,Ce),$e=1,Ue++;break;case 59:case 125:if(Ee+Ke+Qe+Ne===0){$e++;break}default:switch($e++,Ur=nt.charAt(pt),_t){case 9:case 32:if(Ke+Ne+Ee===0)switch(gt){case 44:case 58:case 9:case 32:Ur="";break;default:_t!==32&&(Ur=" ");}break;case 0:Ur="\\0";break;case 12:Ur="\\f";break;case 11:Ur="\\v";break;case 38:Ke+Ee+Ne===0&&(Ht=ar=1,Ur="\f"+Ur);break;case 108:if(Ke+Ee+Ne+Xe===0&&0<zt)switch(pt-zt){case 2:gt===112&&nt.charCodeAt(pt-3)===58&&(Xe=gt);case 8:Se===111&&(Xe=Se);}break;case 58:Ke+Ee+Ne===0&&(zt=pt);break;case 44:Ee+Qe+Ke+Ne===0&&(Ht=1,Ur+="\r");break;case 34:case 39:Ee===0&&(Ke=Ke===_t?0:Ke===0?_t:Ke);break;case 91:Ke+Ee+Qe===0&&Ne++;break;case 93:Ke+Ee+Qe===0&&Ne--;break;case 41:Ke+Ee+Ne===0&&Qe--;break;case 40:if(Ke+Ee+Ne===0){if(yt===0)switch(2*gt+3*Se){case 533:break;default:yt=1;}Qe++}break;case 64:Ee+Qe+Ke+Ne+zt+ft===0&&(ft=1);break;case 42:case 47:if(!(0<Ke+Ne+Qe))switch(Ee){case 0:switch(2*_t+3*nt.charCodeAt(pt+1)){case 235:Ee=47;break;case 220:Ft=pt,Ee=42;}break;case 42:_t===47&&gt===42&&Ft+2!==pt&&(nt.charCodeAt(Ft+2)===33&&(nn+=nt.substring(Ft,pt+1)),Ur="",Ee=0);}}Ee===0&&(sr+=Ur);}Se=gt,gt=_t,pt++}if(Ft=nn.length,0<Ft){if(Ht=Ze,0<je&&(Tn=c(2,nn,Ht,Be,Ue,$e,Ft,Ce,de,Ce),Tn!==void 0&&(nn=Tn).length===0))return wi+nn+lt;if(nn=Ht.join(",")+"{"+nn+"}",Ye*Xe!==0){switch(Ye!==2||o(nn,2)||(Xe=0),Xe){case 111:nn=nn.replace(Z,":-moz-$1")+nn;break;case 112:nn=nn.replace(B,"::-webkit-input-$1")+nn.replace(B,"::-moz-$1")+nn.replace(B,":-ms-input-$1")+nn;}Xe=0}}return wi+nn+lt}function r(Be,Ze,nt){var Ce=Ze.trim().split(P);Ze=Ce;var de=Ce.length,Ne=Be.length;switch(Ne){case 0:case 1:var Ee=0;for(Be=Ne===0?"":Be[0]+" ";Ee<de;++Ee)Ze[Ee]=n(Be,Ze[Ee],nt).trim();break;default:var Qe=Ee=0;for(Ze=[];Ee<de;++Ee)for(var Ke=0;Ke<Ne;++Ke)Ze[Qe++]=n(Be[Ke]+" ",Ce[Ee],nt).trim();}return Ze}function n(Be,Ze,nt){var Ce=Ze.charCodeAt(0);switch(33>Ce&&(Ce=(Ze=Ze.trim()).charCodeAt(0)),Ce){case 38:return Ze.replace(q,"$1"+Be.trim());case 58:return Be.trim()+Ze.replace(q,"$1"+Be.trim());default:if(0<1*nt&&0<Ze.indexOf("\f"))return Ze.replace(q,(Be.charCodeAt(0)===58?"":"$1")+Be.trim());}return Be+Ze}function i(Be,Ze,nt,Ce){var de=Be+";",Ne=2*Ze+3*nt+4*Ce;if(Ne===944){Be=de.indexOf(":",9)+1;var Ee=de.substring(Be,de.length-1).trim();return Ee=de.substring(0,Be).trim()+Ee+";",Ye===1||Ye===2&&o(Ee,1)?"-webkit-"+Ee+Ee:Ee}if(Ye===0||Ye===2&&!o(de,1))return de;switch(Ne){case 1015:return de.charCodeAt(10)===97?"-webkit-"+de+de:de;case 951:return de.charCodeAt(3)===116?"-webkit-"+de+de:de;case 963:return de.charCodeAt(5)===110?"-webkit-"+de+de:de;case 1009:if(de.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+de+de;case 978:return"-webkit-"+de+"-moz-"+de+de;case 1019:case 983:return"-webkit-"+de+"-moz-"+de+"-ms-"+de+de;case 883:if(de.charCodeAt(8)===45)return"-webkit-"+de+de;if(0<de.indexOf("image-set(",11))return de.replace(Fe,"$1-webkit-$2")+de;break;case 932:if(de.charCodeAt(4)===45)switch(de.charCodeAt(5)){case 103:return"-webkit-box-"+de.replace("-grow","")+"-webkit-"+de+"-ms-"+de.replace("grow","positive")+de;case 115:return"-webkit-"+de+"-ms-"+de.replace("shrink","negative")+de;case 98:return"-webkit-"+de+"-ms-"+de.replace("basis","preferred-size")+de;}return"-webkit-"+de+"-ms-"+de+de;case 964:return"-webkit-"+de+"-ms-flex-"+de+de;case 1023:if(de.charCodeAt(8)!==99)break;return Ee=de.substring(de.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Ee+"-webkit-"+de+"-ms-flex-pack"+Ee+de;case 1005:return L.test(de)?de.replace(M,":-webkit-")+de.replace(M,":-moz-")+de:de;case 1e3:switch(Ee=de.substring(13).trim(),Ze=Ee.indexOf("-")+1,Ee.charCodeAt(0)+Ee.charCodeAt(Ze)){case 226:Ee=de.replace(re,"tb");break;case 232:Ee=de.replace(re,"tb-rl");break;case 220:Ee=de.replace(re,"lr");break;default:return de;}return"-webkit-"+de+"-ms-"+Ee+de;case 1017:if(de.indexOf("sticky",9)===-1)break;case 975:switch(Ze=(de=Be).length-10,Ee=(de.charCodeAt(Ze)===33?de.substring(0,Ze):de).substring(Be.indexOf(":",7)+1).trim(),Ne=Ee.charCodeAt(0)+(Ee.charCodeAt(7)|0)){case 203:if(111>Ee.charCodeAt(8))break;case 115:de=de.replace(Ee,"-webkit-"+Ee)+";"+de;break;case 207:case 102:de=de.replace(Ee,"-webkit-"+(102<Ne?"inline-":"")+"box")+";"+de.replace(Ee,"-webkit-"+Ee)+";"+de.replace(Ee,"-ms-"+Ee+"box")+";"+de;}return de+";";case 938:if(de.charCodeAt(5)===45)switch(de.charCodeAt(6)){case 105:return Ee=de.replace("-items",""),"-webkit-"+de+"-webkit-box-"+Ee+"-ms-flex-"+Ee+de;case 115:return"-webkit-"+de+"-ms-flex-item-"+de.replace(me,"")+de;default:return"-webkit-"+de+"-ms-flex-line-pack"+de.replace("align-content","").replace(me,"")+de;}break;case 973:case 989:if(de.charCodeAt(3)!==45||de.charCodeAt(4)===122)break;case 931:case 953:if(Ae.test(Be)===!0)return(Ee=Be.substring(Be.indexOf(":")+1)).charCodeAt(0)===115?i(Be.replace("stretch","fill-available"),Ze,nt,Ce).replace(":fill-available",":stretch"):de.replace(Ee,"-webkit-"+Ee)+de.replace(Ee,"-moz-"+Ee.replace("fill-",""))+de;break;case 962:if(de="-webkit-"+de+(de.charCodeAt(5)===102?"-ms-"+de:"")+de,nt+Ce===211&&de.charCodeAt(13)===105&&0<de.indexOf("transform",10))return de.substring(0,de.indexOf(";",27)+1).replace(R,"$1-webkit-$2")+de;}return de}function o(Be,Ze){var nt=Be.indexOf(Ze===1?":":"{"),Ce=Be.substring(0,Ze!==3?nt:10);return nt=Be.substring(nt+1,Be.length-1),it(Ze!==2?Ce:Ce.replace(pe,"$1"),nt,Ze)}function a(Be,Ze){var nt=i(Ze,Ze.charCodeAt(0),Ze.charCodeAt(1),Ze.charCodeAt(2));return nt!==Ze+";"?nt.replace(oe," or ($1)").substring(4):"("+Ze+")"}function c(Be,Ze,nt,Ce,de,Ne,Ee,Qe,Ke,yt){for(var _t=0,gt=Ze,Se;_t<je;++_t)switch(Se=ke[_t].call(v,Be,gt,nt,Ce,de,Ne,Ee,Qe,Ke,yt)){case void 0:case!1:case!0:case null:break;default:gt=Se;}if(gt!==Ze)return gt}function d(Be){switch(Be){case void 0:case null:je=ke.length=0;break;default:if(typeof Be=="function")ke[je++]=Be;else if(typeof Be=="object")for(var Ze=0,nt=Be.length;Ze<nt;++Ze)d(Be[Ze]);else ot=!!Be|0;}return d}function m(Be){return Be=Be.prefix,Be!==void 0&&(it=null,Be?typeof Be!="function"?Ye=1:(Ye=2,it=Be):Ye=0),m}function v(Be,Ze){var nt=Be;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),at=nt,nt=[at],0<je){var Ce=c(-1,Ze,nt,nt,Ue,$e,0,0,0,0);Ce!==void 0&&typeof Ce=="string"&&(Ze=Ce)}var de=t(Re,nt,Ze,0,0);return 0<je&&(Ce=c(-2,de,nt,nt,Ue,$e,de.length,0,0,0),Ce!==void 0&&(de=Ce)),at="",Xe=0,$e=Ue=1,de}var E=/^\0+/g,I=/[\0\r\f]/g,M=/: */g,L=/zoo|gra/,R=/([,: ])(transform)/g,P=/,\r+?/g,q=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,B=/::(place)/g,Z=/:(read-only)/g,re=/[svh]\w+-[tblr]{2}/,Q=/\(\s*(.*)\s*\)/g,oe=/([\s\S]*?);/g,me=/-self|flex-/g,pe=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ae=/stretch|:\s*\w+\-(?:conte|avail)/,Fe=/([^-])(image-set\()/,$e=1,Ue=1,Xe=0,Ye=1,Re=[],ke=[],je=0,it=null,ot=0,at="";return v.use=d,v.set=m,e!==void 0&&m(e),v}SZ.default=vur});var Xze=T(EZ=>{"use strict";Object.defineProperty(EZ,"__esModule",{value:!0});var yur=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};EZ.default=yur});var AZ=T(TZ=>{"use strict";Object.defineProperty(TZ,"__esModule",{value:!0});function _ur(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var xur=wZ(),bur=_ur(Kze());Xze();var IZ="/*|*/",wur=IZ+"}";function Sur(e){e&&VR.current.insert(e+"}")}var VR={current:null},Eur=function(t,r,n,i,o,a,c,d,m,v){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return VR.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return"";}break}case 2:{if(d===0)return r+IZ;break}case 3:switch(d){case 102:case 112:return VR.current.insert(n[0]+r),"";default:return r+(v===0?IZ:"");}case-2:r.split(wur).forEach(Sur);}},Iur=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new bur(n),o={},a;{a=t.container||document.head;var c=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(c,function(I){var M=I.getAttribute("data-emotion-"+r);M.split(" ").forEach(function(L){o[L]=!0}),I.parentNode!==a&&a.appendChild(I)})}var d;if(i.use(t.stylisPlugins)(Eur),d=function(M,L,R,P){var q=L.name;if(VR.current=R,0)var j;i(M,L.styles),P&&(E.inserted[q]=!0)},0)var m,v;var E={key:r,sheet:new xur.StyleSheet({key:r,container:a,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:d};return E};TZ.default=Iur});var MZ=T(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});var Tur=!0;function Aur(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var Mur=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||Tur===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var a=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};GR.getRegisteredStyles=Aur;GR.insertStyles=Mur});var Qze=T(CZ=>{"use strict";Object.defineProperty(CZ,"__esModule",{value:!0});function Cur(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16);}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}CZ.default=Cur});var Jze=T(OZ=>{"use strict";Object.defineProperty(OZ,"__esModule",{value:!0});var Our={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};OZ.default=Our});var eFe=T(DZ=>{"use strict";Object.defineProperty(DZ,"__esModule",{value:!0});function Dur(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}DZ.default=Dur});var HR=T(NZ=>{"use strict";Object.defineProperty(NZ,"__esModule",{value:!0});function PZ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Lur=PZ(Qze()),Pur=PZ(Jze()),Nur=PZ(eFe()),Rur=/[A-Z]|^ms/g,kur=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iFe=function(t){return t.charCodeAt(1)===45},tFe=function(t){return t!=null&&typeof t!="boolean"},LZ=Nur(function(e){return iFe(e)?e:e.replace(Rur,"-$&").toLowerCase()}),rFe=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(kur,function(n,i,o){return If={name:i,styles:o,next:If},i});}return Pur[t]!==1&&!iFe(t)&&typeof r=="number"&&r!==0?r+"px":r};function iT(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return If={name:r.name,styles:r.styles,next:If},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)If={name:i.name,styles:i.styles,next:If},i=i.next;var o=r.styles+";";return o}return qur(e,t,r)}case"function":{if(e!==void 0){var a=If,c=r(e);return If=a,iT(e,t,c,n)}break}case"string":if(0)var d,m;break;}if(t==null)return r;var v=t[r];return v!==void 0&&!n?v:r}function qur(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=iT(e,t,r[i],!1);else for(var o in r){var a=r[o];if(typeof a!="object")t!=null&&t[a]!==void 0?n+=o+"{"+t[a]+"}":tFe(a)&&(n+=LZ(o)+":"+rFe(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)tFe(a[c])&&(n+=LZ(o)+":"+rFe(o,a[c])+";");else{var d=iT(e,t,a,!1);switch(o){case"animation":case"animationName":{n+=LZ(o)+":"+d+";";break}default:n+=o+"{"+d+"}";}}}return n}var nFe=/label:\s*([^\s;\n{]+)\s*;/g,If,jur=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";If=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=iT(n,r,a,!1)):o+=a[0];for(var c=1;c<t.length;c++)o+=iT(n,r,t[c],o.charCodeAt(o.length-1)===46),i&&(o+=a[c]);var d;nFe.lastIndex=0;for(var m="",v;(v=nFe.exec(o))!==null;)m+="-"+v[1];var E=Lur(o)+m;return{name:E,styles:o,next:If}};NZ.serializeStyles=jur});var cFe=T($v=>{"use strict";xZ();var rd=Le(),zur=AZ(),oFe=MZ(),Fur=HR();function Bur(e){return e&&e.__esModule?e:{default:e}}var Uur=Bur(zur),kZ=Object.prototype.hasOwnProperty,sFe=rd.createContext(typeof HTMLElement!="undefined"?Uur.default():null),lFe=rd.createContext({}),Vur=sFe.Provider,uFe=function(t){var r=function(i,o){return rd.createElement(sFe.Consumer,null,function(a){return t(i,a,o)})};return rd.forwardRef(r)},RZ="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Gur=function(t,r){var n={};for(var i in r)kZ.call(r,i)&&(n[i]=r[i]);if(n[RZ]=t,0){var o;if(o.stack)var a}return n},Hur=function(){return null},aFe=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var a=r[RZ],c=[o],d="";typeof r.className=="string"?d=oFe.getRegisteredStyles(t.registered,c,r.className):r.className!=null&&(d=r.className+" ");var m=Fur.serializeStyles(c);if(0)var v;var E=oFe.insertStyles(t,m,typeof a=="string");d+=t.key+"-"+m.name;var I={};for(var M in r)kZ.call(r,M)&&M!=="css"&&M!==RZ&&(I[M]=r[M]);I.ref=i,I.className=d;var L=rd.createElement(a,I),R=rd.createElement(Hur,null);return rd.createElement(rd.Fragment,null,R,L)},$ur=uFe(function(e,t,r){return typeof e.css=="function"?rd.createElement(lFe.Consumer,null,function(n){return aFe(t,e,n,r)}):aFe(t,e,null,r)});$v.CacheProvider=Vur;$v.Emotion=$ur;$v.ThemeContext=lFe;$v.createEmotionProps=Gur;$v.hasOwnProperty=kZ;$v.withEmotionCache=uFe});var fFe=T(qZ=>{"use strict";Object.defineProperty(qZ,"__esModule",{value:!0});var Wur=HR();function Zur(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Wur.serializeStyles(t)}qZ.default=Zur});var gFe=T(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var Yur=xZ(),Tf=Le();AZ();var Af=cFe(),zZ=MZ(),jZ=HR(),Kur=wZ(),Xur=fFe();function dFe(e){return e&&e.__esModule?e:{default:e}}var Qur=dFe(Yur),hFe=dFe(Xur),mFe=function(t,r){var n=arguments;if(r==null||!Af.hasOwnProperty.call(r,"css"))return Tf.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Af.Emotion,o[1]=Af.createEmotionProps(t,r);for(var a=2;a<i;a++)o[a]=n[a];return Tf.createElement.apply(null,o)},Jur=Af.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Tf.createElement(Af.ThemeContext.Consumer,null,function(i){var o=jZ.serializeStyles([r(i)]);return Tf.createElement(pFe,{serialized:o,cache:t})});var n=jZ.serializeStyles([r]);return Tf.createElement(pFe,{serialized:n,cache:t})}),pFe=function(e){Qur.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Kur.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&zZ.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Tf.Component),ecr=function(){var t=hFe.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},tcr=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var a=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))a=e(o);else{a="";for(var c in o)o[c]&&c&&(a&&(a+=" "),a+=c)}break}default:a=o;}a&&(i&&(i+=" "),i+=a)}}return i};function rcr(e,t,r){var n=[],i=zZ.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var ncr=function(){return null},icr=Af.withEmotionCache(function(e,t){return Tf.createElement(Af.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var v=arguments.length,E=new Array(v),I=0;I<v;I++)E[I]=arguments[I];var M=jZ.serializeStyles(E,t.registered);return zZ.insertStyles(t,M,!1),t.key+"-"+M.name},o=function(){for(var v=arguments.length,E=new Array(v),I=0;I<v;I++)E[I]=arguments[I];return rcr(t.registered,i,tcr(E))},a={css:i,cx:o,theme:r},c=e.children(a);n=!0;var d=Tf.createElement(ncr,null);return Tf.createElement(Tf.Fragment,null,d,c)})});Oc.CacheProvider=Af.CacheProvider;Oc.ThemeContext=Af.ThemeContext;Oc.withEmotionCache=Af.withEmotionCache;Object.defineProperty(Oc,"css",{enumerable:!0,get:function(){return hFe.default}});Oc.ClassNames=icr;Oc.Global=Jur;Oc.createElement=mFe;Oc.jsx=mFe;Oc.keyframes=ecr});var SFe=T(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.default=wFe;Dc.skeletonStyles=Dc.skeletonKeyframes=Dc.defaultHighlightColor=Dc.defaultBaseColor=void 0;var RHr=ocr(Le()),B1=gFe();function ocr(e){return e&&e.__esModule?e:{default:e}}function vFe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function acr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vFe(r,!0).forEach(function(n){scr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vFe(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function scr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yFe(){var e=lcr([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return yFe=function(){return e},e}function lcr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $R="#eee";Dc.defaultBaseColor=$R;var _Fe="#f5f5f5";Dc.defaultHighlightColor=_Fe;var xFe=function(t,r){return(0,B1.keyframes)(yFe(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Dc.skeletonKeyframes=xFe;var bFe=(0,B1.css)("background-color:",$R,";background-image:linear-gradient( 90deg,",$R,",",_Fe,",",$R," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Dc.skeletonStyles=bFe;function wFe(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,a=e.circle,c=e.delay,d=e.style,m=e.className,v=[],E=0;E<t;E++){var I={};n!==null&&(I.width=n),o!==null&&(I.height=o),n!==null&&o!==null&&a&&(I.borderRadius="50%");var M="react-loading-skeleton";m&&(M+=" "+m),v.push((0,B1.jsx)("span",{key:E,className:M,css:(0,B1.css)(bFe," animation:",xFe(r,c)," ",r+c,"s ease-in-out infinite;label:Skeleton;"),style:acr({},d,{},I)},"\u200C"))}return(0,B1.jsx)("span",null,i?v.map(function(L,R){return(0,B1.jsx)(i,{key:R},L,"\u200C")}):v)}wFe.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var n6e=T(lT=>{"use strict";DA();var gcr=Le(),t6e=60103;lT.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(WZ=Symbol.for,t6e=WZ("react.element"),lT.Fragment=WZ("react.fragment"));var WZ,vcr=gcr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ycr=Object.prototype.hasOwnProperty,_cr={key:!0,ref:!0,__self:!0,__source:!0};function r6e(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ycr.call(t,n)&&!_cr.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:t6e,type:e,key:o,ref:a,props:i,_owner:vcr.current}}lT.jsx=r6e;lT.jsxs=r6e});var o6e=T((nZr,i6e)=>{"use strict";i6e.exports=n6e()});var FBe=T((ZKr,zBe)=>{"use strict";zBe.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var DUe=T(ei=>{"use strict";var $o=typeof Symbol=="function"&&Symbol.for,IY=$o?Symbol.for("react.element"):60103,TY=$o?Symbol.for("react.portal"):60106,D4=$o?Symbol.for("react.fragment"):60107,L4=$o?Symbol.for("react.strict_mode"):60108,P4=$o?Symbol.for("react.profiler"):60114,N4=$o?Symbol.for("react.provider"):60109,R4=$o?Symbol.for("react.context"):60110,AY=$o?Symbol.for("react.async_mode"):60111,k4=$o?Symbol.for("react.concurrent_mode"):60111,q4=$o?Symbol.for("react.forward_ref"):60112,j4=$o?Symbol.for("react.suspense"):60113,dpr=$o?Symbol.for("react.suspense_list"):60120,z4=$o?Symbol.for("react.memo"):60115,F4=$o?Symbol.for("react.lazy"):60116,hpr=$o?Symbol.for("react.block"):60121,mpr=$o?Symbol.for("react.fundamental"):60117,gpr=$o?Symbol.for("react.responder"):60118,vpr=$o?Symbol.for("react.scope"):60119;function Gl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IY:switch(e=e.type,e){case AY:case k4:case D4:case P4:case L4:case j4:return e;default:switch(e=e&&e.$$typeof,e){case R4:case q4:case F4:case z4:case N4:return e;default:return t;}}case TY:return t;}}}function OUe(e){return Gl(e)===k4}ei.AsyncMode=AY;ei.ConcurrentMode=k4;ei.ContextConsumer=R4;ei.ContextProvider=N4;ei.Element=IY;ei.ForwardRef=q4;ei.Fragment=D4;ei.Lazy=F4;ei.Memo=z4;ei.Portal=TY;ei.Profiler=P4;ei.StrictMode=L4;ei.Suspense=j4;ei.isAsyncMode=function(e){return OUe(e)||Gl(e)===AY};ei.isConcurrentMode=OUe;ei.isContextConsumer=function(e){return Gl(e)===R4};ei.isContextProvider=function(e){return Gl(e)===N4};ei.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IY};ei.isForwardRef=function(e){return Gl(e)===q4};ei.isFragment=function(e){return Gl(e)===D4};ei.isLazy=function(e){return Gl(e)===F4};ei.isMemo=function(e){return Gl(e)===z4};ei.isPortal=function(e){return Gl(e)===TY};ei.isProfiler=function(e){return Gl(e)===P4};ei.isStrictMode=function(e){return Gl(e)===L4};ei.isSuspense=function(e){return Gl(e)===j4};ei.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===D4||e===k4||e===P4||e===L4||e===j4||e===dpr||typeof e=="object"&&e!==null&&(e.$$typeof===F4||e.$$typeof===z4||e.$$typeof===N4||e.$$typeof===R4||e.$$typeof===q4||e.$$typeof===mpr||e.$$typeof===gpr||e.$$typeof===vpr||e.$$typeof===hpr)};ei.typeOf=Gl});var PUe=T((MJr,LUe)=>{"use strict";LUe.exports=DUe()});var ZVe=T(di=>{"use strict";var S5=60103,E5=60106,qT=60107,jT=60108,zT=60114,FT=60109,BT=60110,UT=60112,VT=60113,vK=60120,GT=60115,HT=60116,VVe=60121,GVe=60122,HVe=60117,$Ve=60129,WVe=60131;typeof Symbol=="function"&&Symbol.for&&(Zo=Symbol.for,S5=Zo("react.element"),E5=Zo("react.portal"),qT=Zo("react.fragment"),jT=Zo("react.strict_mode"),zT=Zo("react.profiler"),FT=Zo("react.provider"),BT=Zo("react.context"),UT=Zo("react.forward_ref"),VT=Zo("react.suspense"),vK=Zo("react.suspense_list"),GT=Zo("react.memo"),HT=Zo("react.lazy"),VVe=Zo("react.block"),GVe=Zo("react.server.block"),HVe=Zo("react.fundamental"),$Ve=Zo("react.debug_trace_mode"),WVe=Zo("react.legacy_hidden"));var Zo;function Pc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S5:switch(e=e.type,e){case qT:case zT:case jT:case VT:case vK:return e;default:switch(e=e&&e.$$typeof,e){case BT:case UT:case HT:case GT:case FT:return e;default:return t;}}case E5:return t;}}}var qdr=FT,jdr=S5,zdr=UT,Fdr=qT,Bdr=HT,Udr=GT,Vdr=E5,Gdr=zT,Hdr=jT,$dr=VT;di.ContextConsumer=BT;di.ContextProvider=qdr;di.Element=jdr;di.ForwardRef=zdr;di.Fragment=Fdr;di.Lazy=Bdr;di.Memo=Udr;di.Portal=Vdr;di.Profiler=Gdr;di.StrictMode=Hdr;di.Suspense=$dr;di.isAsyncMode=function(){return!1};di.isConcurrentMode=function(){return!1};di.isContextConsumer=function(e){return Pc(e)===BT};di.isContextProvider=function(e){return Pc(e)===FT};di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S5};di.isForwardRef=function(e){return Pc(e)===UT};di.isFragment=function(e){return Pc(e)===qT};di.isLazy=function(e){return Pc(e)===HT};di.isMemo=function(e){return Pc(e)===GT};di.isPortal=function(e){return Pc(e)===E5};di.isProfiler=function(e){return Pc(e)===zT};di.isStrictMode=function(e){return Pc(e)===jT};di.isSuspense=function(e){return Pc(e)===VT};di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qT||e===zT||e===$Ve||e===jT||e===VT||e===vK||e===WVe||typeof e=="object"&&e!==null&&(e.$$typeof===HT||e.$$typeof===GT||e.$$typeof===FT||e.$$typeof===BT||e.$$typeof===UT||e.$$typeof===HVe||e.$$typeof===VVe||e[0]===GVe)};di.typeOf=Pc});var KVe=T((Oon,YVe)=>{"use strict";YVe.exports=ZVe()});var Nyr={};Lee(Nyr,{SettingsProvider:()=>Lyr,renderApp:()=>Pyr});var BWe=ee(Le(),1),UWe=ee(Ji(),1),Dwn=ee(vDe(),1);var Mx=ee(Le(),1);var Ga=ee(Le()),RDe=ee(Ji());function R$t(e){return!!e&&typeof e.then=="function"}var no=R$t;function k$t(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Vn=k$t,ML=class{},q$t=new ML,DG={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return no(r)?Q_(r.then(n=>({__value:n}))):LG(r)}catch(r){return no(r)?Q_(r.next(()=>e(this.contents))):PG(r)}if(this.state==="loading")return Q_(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(no(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function LG(e){return Object.freeze(wr(et({state:"hasValue",contents:e},DG),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function PG(e){return Object.freeze(wr(et({state:"hasError",contents:e},DG),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function Q_(e){return Object.freeze(wr(et({state:"loading",contents:e},DG),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function j$t(){return Q_(new Promise(()=>{}))}function z$t(e){return e.every(t=>t.state==="hasValue")?LG(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?PG(Vn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Q_(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var UE={loadableWithValue:LG,loadableWithError:PG,loadableWithPromise:Q_,loadableLoading:j$t,loadableAll:z$t,Canceled:ML,CANCELED:q$t},fG,kDe=(fG=Ga.default.useMutableSource)!==null&&fG!==void 0?fG:Ga.default.unstable_useMutableSource;function F$t(){return kDe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var qDe={mutableSourceExists:F$t,useMutableSource:kDe},{mutableSourceExists:B$t}=qDe,NG=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function RG(e){var t;return e==="recoil_early_rendering_2021"&&!B$t()?!1:(t=NG.get(e))!==null&&t!==void 0?t:!1}RG.setPass=e=>{NG.set(e,!0)};RG.setFail=e=>{NG.set(e,!1)};var si=RG;function U$t(e,t,{error:r}={}){return null}var V$t=U$t,df=V$t;function G$t(e,t){let r=new Set(e);return r.add(t),r}function H$t(e,t){let r=new Set(e);return r.delete(t),r}function $$t(e,t,r){let n=new Map(e);return n.set(t,r),n}function W$t(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function Z$t(e,t){let r=new Map(e);return r.delete(t),r}function Y$t(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var jDe={setByAddingToSet:G$t,setByDeletingFromSet:H$t,mapBySettingInMap:$$t,mapByUpdatingInMap:W$t,mapByDeletingFromMap:Z$t,mapByDeletingMultipleFromMap:Y$t};function*K$t(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var zDe=K$t;function X$t(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var FDe=X$t;function Q$t(e,...t){}var J$t=Q$t,kG=J$t;function En(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zE=class{constructor(t){En(this,"key",void 0),this.key=t}},CL=class extends zE{},OL=class extends zE{};function eWt(e){return e instanceof CL||e instanceof OL}var BL={AbstractRecoilValue:zE,RecoilState:CL,RecoilValueReadOnly:OL,isRecoilValue:eWt},tWt=BL.AbstractRecoilValue,rWt=BL.RecoilState,nWt=BL.RecoilValueReadOnly,iWt=BL.isRecoilValue,Xh=Object.freeze({__proto__:null,AbstractRecoilValue:tWt,RecoilState:rWt,RecoilValueReadOnly:nWt,isRecoilValue:iWt}),DL=class{},oWt=new DL,mG=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},hv=new Map,qG=new Map;function aWt(e){return FDe(e,t=>Vn(qG.get(t)))}function sWt(e){if(hv.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}hv.set(e.key,e);let t=e.set==null?new Xh.RecoilValueReadOnly(e.key):new Xh.RecoilState(e.key);return qG.set(e.key,t),t}var LL=class extends Error{};function lWt(e){let t=hv.get(e);if(t==null)throw new LL(`Missing definition for RecoilValue: "${e}""`);return t}function uWt(e){return hv.get(e)}var PL=new Map;function cWt(e){var t;if(!si("recoil_memory_managament_2020"))return;let r=hv.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;hv.delete(e),(n=BDe(e))===null||n===void 0||n(),PL.delete(e)}}function fWt(e,t){si("recoil_memory_managament_2020")&&(t===void 0?PL.delete(e):PL.set(e,t))}function BDe(e){return PL.get(e)}var Eu={nodes:hv,recoilValues:qG,registerNode:sWt,getNode:lWt,getNodeMaybe:uWt,deleteNodeConfigIfPossible:cWt,setConfigDeletionHandler:fWt,getConfigDeletionHandler:BDe,recoilValuesForKeys:aWt,NodeMissingError:LL,DefaultValue:DL,DEFAULT_VALUE:oWt,RecoilValueNotReady:mG},NL=class{};function pWt(){return new NL}var UL={RetentionZone:NL,retentionZone:pWt},{setByAddingToSet:dWt}=jDe,{getNode:VL,getNodeMaybe:hWt,recoilValuesForKeys:yDe}=Eu,{RetentionZone:_De}=UL,mWt=Object.freeze(new Set),gG=class extends Error{};function gWt(e,t,r){if(!si("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let a=n.get(o);a||n.set(o,a=new Set),a.add(t)}if(r instanceof _De)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!si("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function a(c){let d=o.get(c);d&&d.delete(t),d&&d.size===0&&o.delete(c)}if(r instanceof _De)a(r);else if(Array.isArray(r))for(let c of r)a(c)}}function jG(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=VL(r),a=gWt(e,r,o.retainedBy),c=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{c(),a()})}function vWt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function yWt(e,t,r){return jG(e,t,r,"get"),VL(r).get(e,t)}function UDe(e,t,r){return VL(r).peek(e,t)}function _Wt(e,t,r){var n;let i=hWt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),wr(et({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:dWt(e.dirtyAtoms,t)})}function xWt(e,t,r,n){let i=VL(r);if(i.set==null)throw new gG(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return jG(e,t,r,"set"),o(e,t,n)}function bWt(e,t,r){var n,i,o;let a=e.getState(),c=e.getGraph(t.version),d=a.knownAtoms.has(r)?"atom":a.knownSelectors.has(r)?"selector":void 0,m=zDe(VDe(e,t,new Set([r])),v=>v!==r);return{loadable:UDe(e,t,r),isActive:a.knownAtoms.has(r)||a.knownSelectors.has(r),isSet:d==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:d,deps:yDe((n=c.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:yDe(m),components:FDe((i=(o=a.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([v])=>({name:v}))}}}function VDe(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let c=i.pop();c;c=i.pop()){var a;n.add(c);let d=(a=o.nodeToNodeSubscriptions.get(c))!==null&&a!==void 0?a:mWt;for(let m of d)n.has(m)||i.push(m)}return n}var r1={getNodeLoadable:yWt,peekNodeLoadable:UDe,setNodeValue:xWt,cleanUpNode:vWt,setUnvalidatedAtomValue_DEPRECATED:_Wt,peekNodeInfo:bWt,getDownstreamNodes:VDe,initializeNodeIfNewToStore:jG},{CANCELED:wWt}=UE,{getDownstreamNodes:SWt,getNodeLoadable:GDe,setNodeValue:EWt}=r1,{getNodeMaybe:HDe}=Eu,{DefaultValue:zG,RecoilValueNotReady:IWt}=Eu,{AbstractRecoilValue:TWt,RecoilState:AWt,RecoilValueReadOnly:MWt,isRecoilValue:CWt}=Xh;function OWt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||df("Tried to read from a discarded tree");let a=GDe(e,r,t);return a.state==="loading"&&a.contents.catch(()=>wWt),a}function DWt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof zG?r.delete(i):r.set(i,n)}),r}function LWt(e,t,{key:r},n){if(typeof n=="function"){let i=GDe(e,t,r);if(i.state==="loading")throw new IWt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function PWt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,a=LWt(e,t,i,o),c=EWt(e,t,i.key,a);for(let[d,m]of c.entries())vG(t,d,m)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;vG(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,a=HDe(i);a==null||(n=a.invalidate)===null||n===void 0||n.call(a,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else df(`Unknown action ${r.type}`)}function vG(e,t,r){r.state==="hasValue"&&r.contents instanceof zG?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function $De(e,t){e.replaceState(r=>{let n=WDe(r);for(let i of t)PWt(e,n,i);return yG(e,n),n})}function GL(e,t){if(qE.length){let r=qE[qE.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else $De(e,[t])}var qE=[];function NWt(){let e=new Map;return qE.push(e),()=>{for(let[r,n]of e)$De(r,n);qE.pop()!==e&&df("Incorrect order of batch popping")}}function WDe(e){return wr(et({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function yG(e,t){let r=SWt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=HDe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function ZDe(e,t,r){GL(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function RWt(e,t,r){if(r instanceof zG)return ZDe(e,t,r);GL(e,{type:"setLoadable",recoilValue:t,loadable:r})}function kWt(e,t){GL(e,{type:"markModified",recoilValue:t})}function qWt(e,t,r){GL(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var jWt=0;function zWt(e,{key:t},r,n=null){let i=jWt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Vn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),si("recoil_early_rendering_2021")){let a=e.getState().nextTree;a&&a.dirtyAtoms.has(t)&&r(a)}return{release:()=>{let a=e.getState(),c=a.nodeToComponentSubscriptions.get(t);if(c===void 0||!c.has(i)){df(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}c.delete(i),c.size===0&&a.nodeToComponentSubscriptions.delete(t)}}}var mv={RecoilValueReadOnly:MWt,AbstractRecoilValue:TWt,RecoilState:AWt,getRecoilValueAsLoadable:OWt,setRecoilValue:ZDe,setRecoilValueLoadable:RWt,markRecoilValueModified:kWt,setUnvalidatedRecoilValue:qWt,subscribeToRecoilValue:zWt,isRecoilValue:CWt,applyAtomValueWrites:DWt,batchStart:NWt,writeLoadableToTreeState:vG,invalidateDownstreams:yG,copyTreeState:WDe,invalidateDownstreams_FOR_TESTING:yG},{unstable_batchedUpdates:FWt}=RDe.default,BWt={unstable_batchedUpdates:FWt},{unstable_batchedUpdates:UWt}=BWt,VWt={unstable_batchedUpdates:UWt},{batchStart:GWt}=mv,{unstable_batchedUpdates:HWt}=VWt,FG=HWt,$Wt=e=>{FG=e},WWt=()=>FG,ZWt=e=>{FG(()=>{let t=()=>{};try{t=GWt(),e()}finally{t()}})},BG={getBatcher:WWt,setBatcher:$Wt,batchUpdates:ZWt};function YWt(e,t){t()}var KWt={enqueueExecution:YWt};function XWt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var RL=XWt;function QWt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var kL=QWt;function JWt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function eZt(e){return{nodeDeps:kL(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:kL(e.nodeToNodeSubscriptions,t=>new Set(t))}}function pG(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,a)=>{let c=n.get(a);if(c&&r&&c!==r.nodeDeps.get(a))return;n.set(a,new Set(o)),(c==null?o:RL(o,c)).forEach(m=>{i.has(m)||i.set(m,new Set),Vn(i.get(m)).add(a)}),c&&RL(c,o).forEach(v=>{if(!i.has(v))return;let E=Vn(i.get(v));E.delete(a),E.size===0&&i.delete(v)})})}function tZt(e,t,r){var n,i,o,a;let c=t.getState();r===c.currentTree.version||r===((n=c.nextTree)===null||n===void 0?void 0:n.version)||r===((i=c.previousTree)===null||i===void 0?void 0:i.version)||df("Tried to save dependencies to a discarded tree");let d=t.getGraph(r);if(pG(e,d),r===((o=c.previousTree)===null||o===void 0?void 0:o.version)){let v=t.getGraph(c.currentTree.version);pG(e,v,d)}if(r===((a=c.previousTree)===null||a===void 0?void 0:a.version)||r===c.currentTree.version){var m;let v=(m=c.nextTree)===null||m===void 0?void 0:m.version;if(v!==void 0){let E=t.getGraph(v);pG(e,E,d)}}}function rZt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Vn(t.get(n));r.forEach(o=>i.add(o))})}function nZt(e,t,r){r.has(e)||r.set(e,new Set),Vn(r.get(e)).add(t)}var VE={addToDependencyMap:nZt,cloneGraph:eZt,graph:JWt,mergeDepsIntoDependencyMap:rZt,saveDependencyMapToStore:tZt};function iZt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var oZt=iZt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},r={},n=5,i=Math.pow(2,n),o=i-1,a=i/2,c=i/4,d={},m=function(De){return function(){return De}},v=r.hash=function(Ie){var De=typeof Ie=="undefined"?"undefined":t(Ie);if(De==="number")return Ie;De!=="string"&&(Ie+="");for(var ct=0,Lt=0,Dt=Ie.length;Lt<Dt;++Lt){var ae=Ie.charCodeAt(Lt);ct=(ct<<5)-ct+ae|0}return ct},E=function(De){return De-=De>>1&1431655765,De=(De&858993459)+(De>>2&858993459),De=De+(De>>4)&252645135,De+=De>>8,De+=De>>16,De&127},I=function(De,ct){return ct>>>De&o},M=function(De){return 1<<De},L=function(De,ct){return E(De&ct-1)},R=function(De,ct,Lt,Dt){var ae=Dt;if(!De){var $=Dt.length;ae=new Array($);for(var H=0;H<$;++H)ae[H]=Dt[H]}return ae[ct]=Lt,ae},P=function(De,ct,Lt){var Dt=Lt.length-1,ae=0,$=0,H=Lt;if(De)ae=$=ct;else for(H=new Array(Dt);ae<ct;)H[$++]=Lt[ae++];for(++ae;ae<=Dt;)H[$++]=Lt[ae++];return De&&(H.length=Dt),H},q=function(De,ct,Lt,Dt){var ae=Dt.length;if(De){for(var $=ae;$>=ct;)Dt[$--]=Dt[$];return Dt[ct]=Lt,Dt}for(var H=0,K=0,se=new Array(ae+1);H<ct;)se[K++]=Dt[H++];for(se[ct]=Lt;H<ae;)se[++K]=Dt[H++];return se},j=1,B=2,Z=3,re=4,Q={__hamt_isEmpty:!0},oe=function(De){return De===Q||De&&De.__hamt_isEmpty},me=function(De,ct,Lt,Dt){return{type:j,edit:De,hash:ct,key:Lt,value:Dt,_modify:je}},pe=function(De,ct,Lt){return{type:B,edit:De,hash:ct,children:Lt,_modify:it}},Ae=function(De,ct,Lt){return{type:Z,edit:De,mask:ct,children:Lt,_modify:ot}},Fe=function(De,ct,Lt){return{type:re,edit:De,size:ct,children:Lt,_modify:at}},$e=function(De){return De===Q||De.type===j||De.type===B},Ue=function(De,ct,Lt,Dt,ae){for(var $=[],H=Dt,K=0,se=0;H;++se)H&1&&($[se]=ae[K++]),H>>>=1;return $[ct]=Lt,Fe(De,K+1,$)},Xe=function(De,ct,Lt,Dt){for(var ae=new Array(ct-1),$=0,H=0,K=0,se=Dt.length;K<se;++K)if(K!==Lt){var _e=Dt[K];_e&&!oe(_e)&&(ae[$++]=_e,H|=1<<K)}return Ae(De,H,ae)},Ye=function Ie(De,ct,Lt,Dt,ae,$){if(Lt===ae)return pe(De,Lt,[$,Dt]);var H=I(ct,Lt),K=I(ct,ae);return Ae(De,M(H)|M(K),H===K?[Ie(De,ct+n,Lt,Dt,ae,$)]:H<K?[Dt,$]:[$,Dt])},Re=function(De,ct,Lt,Dt,ae,$,H,K){for(var se=ae.length,_e=0;_e<se;++_e){var we=ae[_e];if(Lt(H,we.key)){var Me=we.value,ve=$(Me);return ve===Me?ae:ve===d?(--K.value,P(De,_e,ae)):R(De,_e,me(ct,Dt,H,ve),ae)}}var He=$();return He===d?ae:(++K.value,R(De,se,me(ct,Dt,H,He),ae))},ke=function(De,ct){return De===ct.edit},je=function(De,ct,Lt,Dt,ae,$,H){if(ct($,this.key)){var K=Dt(this.value);return K===this.value?this:K===d?(--H.value,Q):ke(De,this)?(this.value=K,this):me(De,ae,$,K)}var se=Dt();return se===d?this:(++H.value,Ye(De,Lt,this.hash,this,ae,me(De,ae,$,se)))},it=function(De,ct,Lt,Dt,ae,$,H){if(ae===this.hash){var K=ke(De,this),se=Re(K,De,ct,this.hash,this.children,Dt,$,H);return se===this.children?this:se.length>1?pe(De,this.hash,se):se[0]}var _e=Dt();return _e===d?this:(++H.value,Ye(De,Lt,this.hash,this,ae,me(De,ae,$,_e)))},ot=function(De,ct,Lt,Dt,ae,$,H){var K=this.mask,se=this.children,_e=I(Lt,ae),we=M(_e),Me=L(K,we),ve=K&we,He=ve?se[Me]:Q,tt=He._modify(De,ct,Lt+n,Dt,ae,$,H);if(He===tt)return this;var Ge=ke(De,this),ht=K,Wt=void 0;if(ve&&oe(tt)){if(ht&=~we,!ht)return Q;if(se.length<=2&&$e(se[Me^1]))return se[Me^1];Wt=P(Ge,Me,se)}else if(!ve&&!oe(tt)){if(se.length>=a)return Ue(De,_e,tt,K,se);ht|=we,Wt=q(Ge,Me,tt,se)}else Wt=R(Ge,Me,tt,se);return Ge?(this.mask=ht,this.children=Wt,this):Ae(De,ht,Wt)},at=function(De,ct,Lt,Dt,ae,$,H){var K=this.size,se=this.children,_e=I(Lt,ae),we=se[_e],Me=(we||Q)._modify(De,ct,Lt+n,Dt,ae,$,H);if(we===Me)return this;var ve=ke(De,this),He=void 0;if(oe(we)&&!oe(Me))++K,He=R(ve,_e,Me,se);else if(!oe(we)&&oe(Me)){if(--K,K<=c)return Xe(De,K,_e,se);He=R(ve,_e,Q,se)}else He=R(ve,_e,Me,se);return ve?(this.size=K,this.children=He,this):Fe(De,K,He)};Q._modify=function(Ie,De,ct,Lt,Dt,ae,$){var H=Lt();return H===d?Q:(++$.value,me(Ie,Dt,ae,H))};function Be(Ie,De,ct,Lt,Dt){this._editable=Ie,this._edit=De,this._config=ct,this._root=Lt,this._size=Dt}Be.prototype.setTree=function(Ie,De){return this._editable?(this._root=Ie,this._size=De,this):Ie===this._root?this:new Be(this._editable,this._edit,this._config,Ie,De)};var Ze=r.tryGetHash=function(Ie,De,ct,Lt){for(var Dt=Lt._root,ae=0,$=Lt._config.keyEq;;)switch(Dt.type){case j:return $(ct,Dt.key)?Dt.value:Ie;case B:{if(De===Dt.hash)for(var H=Dt.children,K=0,se=H.length;K<se;++K){var _e=H[K];if($(ct,_e.key))return _e.value}return Ie}case Z:{var we=I(ae,De),Me=M(we);if(Dt.mask&Me){Dt=Dt.children[L(Dt.mask,Me)],ae+=n;break}return Ie}case re:{if(Dt=Dt.children[I(ae,De)],Dt){ae+=n;break}return Ie}default:return Ie;}};Be.prototype.tryGetHash=function(Ie,De,ct){return Ze(Ie,De,ct,this)};var nt=r.tryGet=function(Ie,De,ct){return Ze(Ie,ct._config.hash(De),De,ct)};Be.prototype.tryGet=function(Ie,De){return nt(Ie,De,this)};var Ce=r.getHash=function(Ie,De,ct){return Ze(void 0,Ie,De,ct)};Be.prototype.getHash=function(Ie,De){return Ce(Ie,De,this)};var de=r.get=function(Ie,De){return Ze(void 0,De._config.hash(Ie),Ie,De)};Be.prototype.get=function(Ie,De){return nt(De,Ie,this)};var Ne=r.has=function(Ie,De,ct){return Ze(d,Ie,De,ct)!==d};Be.prototype.hasHash=function(Ie,De){return Ne(Ie,De,this)};var Ee=r.has=function(Ie,De){return Ne(De._config.hash(Ie),Ie,De)};Be.prototype.has=function(Ie){return Ee(Ie,this)};var Qe=function(De,ct){return De===ct};r.make=function(Ie){return new Be(0,0,{keyEq:Ie&&Ie.keyEq||Qe,hash:Ie&&Ie.hash||v},Q,0)},r.empty=r.make();var Ke=r.isEmpty=function(Ie){return Ie&&!!oe(Ie._root)};Be.prototype.isEmpty=function(){return Ke(this)};var yt=r.modifyHash=function(Ie,De,ct,Lt){var Dt={value:Lt._size},ae=Lt._root._modify(Lt._editable?Lt._edit:NaN,Lt._config.keyEq,0,Ie,De,ct,Dt);return Lt.setTree(ae,Dt.value)};Be.prototype.modifyHash=function(Ie,De,ct){return yt(ct,Ie,De,this)};var _t=r.modify=function(Ie,De,ct){return yt(Ie,ct._config.hash(De),De,ct)};Be.prototype.modify=function(Ie,De){return _t(De,Ie,this)};var gt=r.setHash=function(Ie,De,ct,Lt){return yt(m(ct),Ie,De,Lt)};Be.prototype.setHash=function(Ie,De,ct){return gt(Ie,De,ct,this)};var Se=r.set=function(Ie,De,ct){return gt(ct._config.hash(Ie),Ie,De,ct)};Be.prototype.set=function(Ie,De){return Se(Ie,De,this)};var ft=m(d),zt=r.removeHash=function(Ie,De,ct){return yt(ft,Ie,De,ct)};Be.prototype.removeHash=Be.prototype.deleteHash=function(Ie,De){return zt(Ie,De,this)};var pt=r.remove=function(Ie,De){return zt(De._config.hash(Ie),Ie,De)};Be.prototype.remove=Be.prototype.delete=function(Ie){return pt(Ie,this)};var Ht=r.beginMutation=function(Ie){return new Be(Ie._editable+1,Ie._edit+1,Ie._config,Ie._root,Ie._size)};Be.prototype.beginMutation=function(){return Ht(this)};var ar=r.endMutation=function(Ie){return Ie._editable=Ie._editable&&Ie._editable-1,Ie};Be.prototype.endMutation=function(){return ar(this)};var Ft=r.mutate=function(Ie,De){var ct=Ht(De);return Ie(ct),ar(ct)};Be.prototype.mutate=function(Ie){return Ft(Ie,this)};var cr=function(De){return De&&Br(De[0],De[1],De[2],De[3],De[4])},Br=function(De,ct,Lt,Dt,ae){for(;Lt<De;){var $=ct[Lt++];if($&&!oe($))return Ur($,Dt,[De,ct,Lt,Dt,ae])}return cr(ae)},Ur=function(De,ct,Lt){switch(De.type){case j:return{value:ct(De),rest:Lt};case B:case re:case Z:var Dt=De.children;return Br(Dt.length,Dt,0,ct,Lt);default:return cr(Lt);}},sr={done:!0};function nn(Ie){this.v=Ie}nn.prototype.next=function(){if(!this.v)return sr;var Ie=this.v;return this.v=cr(Ie.rest),Ie},nn.prototype[Symbol.iterator]=function(){return this};var lt=function(De,ct){return new nn(Ur(De._root,ct))},wi=function(De){return[De.key,De.value]},Tn=r.entries=function(Ie){return lt(Ie,wi)};Be.prototype.entries=Be.prototype[Symbol.iterator]=function(){return Tn(this)};var Os=function(De){return De.key},Zl=r.keys=function(Ie){return lt(Ie,Os)};Be.prototype.keys=function(){return Zl(this)};var wt=function(De){return De.value},Or=r.values=Be.prototype.values=function(Ie){return lt(Ie,wt)};Be.prototype.values=function(){return Or(this)};var hr=r.fold=function(Ie,De,ct){var Lt=ct._root;if(Lt.type===j)return Ie(De,Lt.value,Lt.key);for(var Dt=[Lt.children],ae=void 0;ae=Dt.pop();)for(var $=0,H=ae.length;$<H;){var K=ae[$++];K&&K.type&&(K.type===j?De=Ie(De,K.value,K.key):Dt.push(K.children))}return De};Be.prototype.fold=function(Ie,De){return hr(Ie,De,this)};var Co=r.forEach=function(Ie,De){return hr(function(ct,Lt,Dt){return Ie(Lt,Dt,De)},null,De)};Be.prototype.forEach=function(Ie){return Co(Ie,this)};var as=r.count=function(Ie){return Ie._size};Be.prototype.count=function(){return as(this)},Object.defineProperty(Be.prototype,"size",{get:Be.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),_G=class{constructor(t){En(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return UG(this)}toMap(){return new Map(this._map)}},xG=class e{constructor(t){if(En(this,"_hamt",oZt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return UG(this)}toMap(){return new Map(this._hamt)}};function UG(e){return si("recoil_hamt_2020")?new xG(e):new _G(e)}var aZt={persistentMap:UG},sZt=aZt.persistentMap,lZt=Object.freeze({__proto__:null,persistentMap:sZt}),{graph:uZt}=VE,{persistentMap:xDe}=lZt,cZt=0,YDe=()=>cZt++;function KDe(){let e=YDe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:xDe(),nonvalidatedAtoms:xDe()}}function fZt(){let e=KDe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,uZt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var XDe={makeEmptyTreeState:KDe,makeEmptyStoreState:fZt,getNextTreeStateVersion:YDe};function pZt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var dZt=pZt;function hZt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var mZt=hZt,{cleanUpNode:gZt}=r1,{deleteNodeConfigIfPossible:vZt,getNode:QDe}=Eu,{RetentionZone:JDe}=UL,eLe=new Set;function tLe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){df("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let a of t)if(a instanceof JDe)for(let c of bZt(r,a))i.add(c);else i.add(a);let o=yZt(e,i);for(let a of o)xZt(e,n,a)}function yZt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,a=new Set;return c(t),o;function c(d){let m=new Set,v=_Zt(e,n,d,o,a);for(let L of v){var E;if(QDe(L).retainedBy==="recoilRoot"){a.add(L);continue}if(((E=r.retention.referenceCounts.get(L))!==null&&E!==void 0?E:0)>0){a.add(L);continue}if(rLe(L).some(P=>r.retention.referenceCounts.get(P))){a.add(L);continue}let R=i.nodeToNodeSubscriptions.get(L);if(R&&mZt(R,P=>a.has(P))){a.add(L);continue}o.add(L),m.add(L)}let I=new Set;for(let L of m)for(let R of(M=i.nodeDeps.get(L))!==null&&M!==void 0?M:eLe){var M;o.has(R)||I.add(R)}I.size&&c(I)}}function _Zt(e,t,r,n,i){let o=e.getGraph(t.version),a=[],c=new Set;for(;r.size>0;)d(Vn(r.values().next().value));return a;function d(m){if(n.has(m)||i.has(m)){r.delete(m);return}if(c.has(m))return;let v=o.nodeToNodeSubscriptions.get(m);if(v)for(let E of v)d(E);c.add(m),r.delete(m),a.push(m)}}function xZt(e,t,r){if(!si("recoil_memory_managament_2020"))return;gZt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=rLe(r);for(let d of i){var o;(o=n.retention.nodesRetainedByZone.get(d))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let a=n.graphsByVersion.get(t.version);if(a){let d=a.nodeDeps.get(r);if(d!==void 0){a.nodeDeps.delete(r);for(let m of d){var c;(c=a.nodeToNodeSubscriptions.get(m))===null||c===void 0||c.delete(r)}}a.nodeToNodeSubscriptions.delete(r)}vZt(r)}function bZt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:eLe}function rLe(e){let t=QDe(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof JDe?[t]:t}function wZt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):tLe(e,new Set([t]))}function SZt(e,t,r){var n;if(!si("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?nLe(e,t):i.set(t,o)}function nLe(e,t){if(!si("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),wZt(e,t)}function EZt(e){if(!si("recoil_memory_managament_2020"))return;let t=e.getState();tLe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function IZt(e){return e===void 0?"recoilRoot":e}var GE={updateRetainCount:SZt,updateRetainCountToZero:nLe,releaseScheduledRetainablesNow:EZt,retainedByOptionWithDefault:IZt};function*TZt(e){for(let t of e)for(let r of t)yield r}var AZt=TZt,MZt=typeof window=="undefined",CZt=typeof navigator!="undefined"&&navigator.product==="ReactNative",VG={isSSR:MZt,isReactNative:CZt},{isSSR:OZt}=VG,{batchUpdates:bG}=BG,{initializeNodeIfNewToStore:DZt,peekNodeInfo:LZt}=r1,{graph:PZt}=VE,{DEFAULT_VALUE:NZt,recoilValues:bDe,recoilValuesForKeys:wDe}=Eu,{AbstractRecoilValue:RZt,getRecoilValueAsLoadable:kZt,setRecoilValue:SDe,setUnvalidatedRecoilValue:qZt}=mv,{updateRetainCount:AL}=GE,{getNextTreeStateVersion:jZt,makeEmptyStoreState:zZt}=XDe;var e1=class{constructor(t){En(this,"_store",void 0),En(this,"_refCount",0),En(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),kZt(this._store,r))),En(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),En(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return wDe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?bDe.values():r.isInitialized===!0?wDe(AZt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):zDe(bDe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),En(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),LZt(this._store,this._store.getState().currentTree,r))),En(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new FE(this,bG);return r(n),wG(n.getStore_INTERNAL())}),En(this,"asyncMap",r=>bo(this,null,function*(){this.checkRefCount_INTERNAL();let n=new FE(this,bG);return yield r(n),wG(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Vn(n.get(r));let i=PZt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())DZt(this._store,t.currentTree,r,"get"),AL(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!si("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){si("recoil_memory_managament_2020")&&(OZt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){si("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){si("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function iLe(e,t,r=!1){let n=e.getState(),i=r?jZt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:et({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function FZt(e){let t=new e1(zZt());return e!=null?t.map(e):t}function wG(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Vn(r.previousTree);return new e1(iLe(e,n))}var FE=class extends e1{constructor(t,r){super(iLe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),En(this,"_batch",void 0),En(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{AL(o,n.key,1),SDe(this.getStore_INTERNAL(),n,i)})}),En(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{AL(i,n.key,1),SDe(this.getStore_INTERNAL(),n,NZt)})}),En(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();bG(()=>{for(let[o,a]of n.entries())AL(i,o,1),qZt(i,new RZt(o),a)})}),this._batch=r}},HL={Snapshot:e1,MutableSnapshot:FE,freshSnapshot:FZt,cloneSnapshot:wG},BZt=HL.Snapshot,UZt=HL.MutableSnapshot,VZt=HL.freshSnapshot,GZt=HL.cloneSnapshot,$L=Object.freeze({__proto__:null,Snapshot:BZt,MutableSnapshot:UZt,freshSnapshot:VZt,cloneSnapshot:GZt}),{getNextTreeStateVersion:HZt,makeEmptyStoreState:oLe}=XDe,{cleanUpNode:$Zt,getDownstreamNodes:WZt,setNodeValue:ZZt,setUnvalidatedAtomValue_DEPRECATED:YZt}=r1,{graph:KZt}=VE,{cloneGraph:XZt}=VE,{applyAtomValueWrites:QZt}=mv,{releaseScheduledRetainablesNow:aLe}=GE,{freshSnapshot:JZt}=$L,{useCallback:eYt,useContext:sLe,useEffect:SG,useMemo:tYt,useRef:dG,useState:rYt}=Ga.default;function DE(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var lLe=Object.freeze({getState:DE,replaceState:DE,getGraph:DE,subscribeToTransactions:DE,addTransactionMetadata:DE}),EG=!1;function EDe(e){if(EG)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){si("recoil_memory_managament_2020")&&si("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&aLe(e);let r=t.currentTree.version,n=HZt();t.nextTree=wr(et({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,XZt(Vn(t.graphsByVersion.get(r))))}}var uLe=Ga.default.createContext({current:lLe}),GG=()=>sLe(uLe),cLe=Ga.default.createContext(null);function nYt(){let e=sLe(cLe);return e==null&&kG("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function HG(e,t,r){let n=WZt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[a,[c,d]]of o)d(r)}}function fLe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[a,c]of o)c(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!si("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(HG(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function iYt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,fLe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):df("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,si("recoil_memory_managament_2020")&&aLe(e.current)}finally{t.commitDepth--}}function oYt({setNotifyBatcherOfChange:e}){let t=GG(),[r,n]=rYt([]);return e(()=>n({})),SG(()=>{KWt.enqueueExecution("Batcher",()=>{iYt(t)})}),SG(()=>()=>{e(()=>{})},[e]),null}function aYt(e,t){let r=oLe();return t({set:(n,i)=>{let o=r.currentTree,a=ZZt(e,o,n.key,i),c=new Set(a.keys()),d=o.nonvalidatedAtoms.clone();for(let m of c)d.delete(m);r.currentTree=wr(et({},o),{dirtyAtoms:dZt(o.dirtyAtoms,c),atomValues:QZt(o.atomValues,a),nonvalidatedAtoms:d})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=YZt(r.currentTree,o,i)})}}),r}function sYt(e){return JZt().map(e).getStore_INTERNAL().getState()}var IDe=0;function lYt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,a=P=>{let q=o.current.graphsByVersion;if(q.has(P))return Vn(q.get(P));let j=KZt();return q.set(P,j),j},c=(P,q)=>{if(q==null){let{transactionSubscriptions:j}=L.current.getState(),B=IDe++;return j.set(B,P),{release:()=>{j.delete(B)}}}else{let{nodeTransactionSubscriptions:j}=L.current.getState();j.has(q)||j.set(q,new Map);let B=IDe++;return Vn(j.get(q)).set(B,P),{release:()=>{let Z=j.get(q);Z&&(Z.delete(B),Z.size===0&&j.delete(q))}}}},d=P=>{EDe(L.current);for(let q of Object.keys(P))Vn(L.current.getState().nextTree).transactionMetadata[q]=P[q]},m=P=>{let q=L.current.getState();EDe(L.current);let j=Vn(q.nextTree),B;try{EG=!0,B=P(j)}finally{EG=!1}B!==j&&(q.nextTree=B,si("recoil_early_rendering_2021")&&HG(M,q,B),Vn(v.current)())},v=dG(null),E=eYt(P=>{v.current=P},[v]),I=(i=Ga.default.createMutableSource)!==null&&i!==void 0?i:Ga.default.unstable_createMutableSource,M=r!=null?r:{getState:()=>o.current,replaceState:m,getGraph:a,subscribeToTransactions:c,addTransactionMetadata:d},L=dG(M);o=dG(e!=null?aYt(M,e):t!=null?sYt(t):oLe());let R=tYt(()=>I?I(o,()=>o.current.currentTree.version):null,[I,o]);return SG(()=>()=>{for(let P of L.current.getState().knownAtoms)$Zt(L.current,P)},[]),Ga.default.createElement(uLe.Provider,{value:L},Ga.default.createElement(cLe.Provider,{value:R},Ga.default.createElement(oYt,{setNotifyBatcherOfChange:E}),n))}function uYt(e){let i=e,{override:t}=i,r=yn(i,["override"]),n=GG();return t===!1&&n.current!==lLe?e.children:Ga.default.createElement(lYt,r)}var WL={useStoreRef:GG,useRecoilMutableSource:nYt,RecoilRoot:uYt,notifyComponents_FOR_TESTING:HG,sendEndOfBatchNotifications_FOR_TESTING:fLe},{loadableWithValue:cYt}=UE,{DEFAULT_VALUE:fYt,getNode:pYt}=Eu,{copyTreeState:dYt,getRecoilValueAsLoadable:hYt,invalidateDownstreams:mYt,writeLoadableToTreeState:gYt}=mv;function TDe(e){return pYt(e.key).nodeType==="atom"}var IG=class{constructor(t,r){En(this,"_store",void 0),En(this,"_treeState",void 0),En(this,"_changes",void 0),En(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!TDe(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=hYt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),En(this,"set",(n,i)=>{if(!TDe(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),En(this,"reset",n=>{this.set(n,fYt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=dYt(this._treeState);for(let[r,n]of this._changes)gYt(t,r,cYt(n));return mYt(this._store,t),t}};function vYt(e){return t=>{e.replaceState(r=>{let n=new IG(e,r);return t(n),n.newTreeState_INTERNAL()})}}var yYt={atomicUpdater:vYt},_Yt=yYt.atomicUpdater,xYt=Object.freeze({__proto__:null,atomicUpdater:_Yt});function bYt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var wYt=bYt;function SYt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var EYt=SYt;function IYt(e,t){if(!e)throw new Error(t)}var TYt=IYt,qL=TYt;function AYt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var MYt=AYt;function CYt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var OYt=CYt;var{useRef:DYt}=Ga.default;function LYt(){let e=DYt();if(0&&si("recoil_infer_component_names"))var t;return"<component name not available>"}var $G=LYt,{atomicUpdater:pLe}=xYt,{batchUpdates:WG}=BG,{DEFAULT_VALUE:ZL,getNode:dLe,nodes:PYt}=Eu,{useRecoilMutableSource:NYt,useStoreRef:Rl}=WL,{isRecoilValue:w3r}=Xh,{AbstractRecoilValue:ZG,getRecoilValueAsLoadable:jE,setRecoilValue:t1,setRecoilValueLoadable:RYt,setUnvalidatedRecoilValue:kYt,subscribeToRecoilValue:YG}=mv,{updateRetainCount:LE}=GE,{RetentionZone:qYt}=UL,{Snapshot:S3r,cloneSnapshot:BE}=$L,{setByAddingToSet:jYt}=jDe,{isSSR:jL}=VG,{mutableSourceExists:zYt,useMutableSource:FYt}=qDe,{useCallback:mc,useEffect:Fp,useMemo:hLe,useRef:Kh,useState:KG}=Ga.default,mLe=12e4;function gLe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function BYt(){let e=Rl(),[t,r]=KG([]),n=Kh(new Set);n.current=new Set;let i=Kh(new Set),o=Kh(new Map),a=mc(d=>{let m=o.current.get(d);m&&(m.release(),o.current.delete(d))},[o]),c=$G();return Fp(()=>{let d=e.current;function m(v,E){o.current.has(E)&&r([])}RL(n.current,i.current).forEach(v=>{if(o.current.has(v)){kG(`Double subscription to RecoilValue "${v}"`);return}let E=YG(d,new ZG(v),M=>{m(M,v)},c);o.current.set(v,E),d.getState().nextTree?d.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{m(d.getState(),v)}):m(d.getState(),v)}),RL(i.current,n.current).forEach(v=>{a(v)}),i.current=n.current}),Fp(()=>{let d=o.current;return()=>d.forEach((m,v)=>a(v))},[a]),hLe(()=>{function d(L){return R=>{t1(e.current,L,R)}}function m(L){return()=>t1(e.current,L,ZL)}function v(L){var R;n.current.has(L.key)||(n.current=jYt(n.current,L.key));let P=e.current.getState();return jE(e.current,L,si("recoil_early_rendering_2021")&&(R=P.nextTree)!==null&&R!==void 0?R:P.currentTree)}function E(L){let R=v(L);return gLe(R,L,e)}function I(L){return[E(L),d(L)]}function M(L){return[v(L),d(L)]}return{getRecoilValue:E,getRecoilValueLoadable:v,getRecoilState:I,getRecoilStateLoadable:M,getSetRecoilState:d,getResetRecoilState:m}},[n,e])}var UYt={current:0};function VYt(e){let t=Rl(),r=mc(()=>{var m;let v=t.current,E=v.getState(),I=si("recoil_early_rendering_2021")&&(m=E.nextTree)!==null&&m!==void 0?m:E.currentTree;return jE(v,e,I)},[t,e]),n=mc(()=>r(),[r]),i=$G(),o=mc((m,v)=>{let E=t.current;return YG(E,e,()=>{if(!si("recoil_suppress_rerender_in_callback"))return v();let M=r();d.current.is(M)||v(),d.current=M},i).release},[t,e,i,r]),a=NYt(),c=FYt(a,n,o),d=Kh(c);return Fp(()=>{d.current=c}),c}function GYt(e){let t=Rl(),[r,n]=KG([]),i=$G();Fp(()=>{let c=t.current,d=c.getState(),m=YG(c,e,E=>{var I;if(!si("recoil_suppress_rerender_in_callback"))return n([]);let M=jE(c,e,c.getState().currentTree);!((I=a.current)===null||I===void 0)&&I.is(M)||n(M),a.current=M},i);if(d.nextTree)c.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,n([])});else{var v;if(!si("recoil_suppress_rerender_in_callback"))return n([]);let E=jE(c,e,c.getState().currentTree);!((v=a.current)===null||v===void 0)&&v.is(E)||n(E),a.current=E}return m.release},[i,e,t]);let o=jE(t.current,e),a=Kh(o);return Fp(()=>{a.current=o}),o}function XG(e){return si("recoil_memory_managament_2020")&&xLe(e),zYt()?VYt(e):GYt(e)}function vLe(e){let t=Rl(),r=XG(e);return gLe(r,e,t)}function QG(e){let t=Rl();return mc(r=>{t1(t.current,e,r)},[t,e])}function HYt(e){let t=Rl();return mc(()=>{t1(t.current,e,ZL)},[t,e])}function $Yt(e){return[vLe(e),QG(e)]}function WYt(e){return[XG(e),QG(e)]}function YL(e){let t=Rl();Fp(()=>t.current.subscribeToTransactions(e).release,[e,t])}function ADe(e){let t=e.atomValues.toMap(),r=kL(wYt(t,(n,i)=>{let a=dLe(i).persistence_UNSTABLE;return a!=null&&a.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return MYt(e.nonvalidatedAtoms.toMap(),r)}function ZYt(e){YL(mc(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(df("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=ADe(n),o=ADe(r),a=kL(PYt,d=>{var m,v,E,I;return{persistence_UNSTABLE:{type:(m=(v=d.persistence_UNSTABLE)===null||v===void 0?void 0:v.type)!==null&&m!==void 0?m:"none",backButton:(E=(I=d.persistence_UNSTABLE)===null||I===void 0?void 0:I.backButton)!==null&&E!==void 0?E:!1}}}),c=EYt(n.dirtyAtoms,d=>i.has(d)||o.has(d));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:c,transactionMetadata:et({},n.transactionMetadata)})},[e]))}function YYt(e){YL(mc(t=>{let r=BE(t,"current"),n=BE(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function yLe(e){let t=Kh();return Fp(()=>{t.current=e}),t.current}function KYt(){let e=Rl(),[t,r]=KG(()=>BE(e.current)),n=yLe(t),i=Kh();return Fp(()=>(i.current&&!jL&&window.clearTimeout(i.current),t.retain()),[t]),YL(mc(o=>r(BE(o)),[])),n!==t&&!jL&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},mLe)),t}function _Le(){let e=Rl();return mc(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;WG(()=>{let a=new Set;for(let m of[i.atomValues.keys(),o.atomValues.keys()])for(let v of m){var c,d;((c=i.atomValues.get(v))===null||c===void 0?void 0:c.contents)!==((d=o.atomValues.get(v))===null||d===void 0?void 0:d.contents)&&dLe(v).shouldRestoreFromSnapshots&&a.add(v)}a.forEach(m=>{RYt(e.current,new ZG(m),o.atomValues.has(m)?Vn(o.atomValues.get(m)):ZL)}),e.current.replaceState(m=>wr(et({},m),{stateID:t.getID_INTERNAL()}))})},[e])}function XYt(){let e=Rl();return(t,r={})=>{WG(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>kYt(e.current,new ZG(i),n))})}}var zL=class{},QYt=new zL;function JYt(e,t){let r=Rl(),n=_Le();return mc((...i)=>{function o(v,E){t1(r.current,v,E)}function a(v){t1(r.current,v,ZL)}let c=BE(r.current),d=pLe(r.current),m=QYt;return WG(()=>{let v="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(v);let E=e({set:o,reset:a,snapshot:c,gotoSnapshot:n,transact_UNSTABLE:d});if(typeof E!="function")throw new Error(v);m=E(...i)}),m instanceof zL&&qL(!1),m},t!=null?[...t,r]:void 0)}function xLe(e){if(si("recoil_memory_managament_2020"))return eKt(e)}function eKt(e){let r=(Array.isArray(e)?e:[e]).map(a=>a instanceof qYt?a:a.key),n=Rl();Fp(()=>{if(!si("recoil_memory_managament_2020"))return;let a=n.current;if(i.current&&!jL)window.clearTimeout(i.current),i.current=null;else for(let c of r)LE(a,c,1);return()=>{for(let c of r)LE(a,c,-1)}},[n,...r]);let i=Kh(),o=yLe(r);if(!jL&&(o===void 0||!OYt(o,r))){let a=n.current;for(let c of r)LE(a,c,1);if(o)for(let c of o)LE(a,c,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let c of r)LE(a,c,-1)},mLe)}}function tKt(e,t){let r=Rl();return hLe(()=>(...n)=>{pLe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var rKt={recoilComponentGetRecoilValueCount_FOR_TESTING:UYt,useGotoRecoilSnapshot:_Le,useRecoilCallback:JYt,useRecoilInterface:BYt,useRecoilSnapshot:KYt,useRecoilState:$Yt,useRecoilStateLoadable:WYt,useRecoilTransaction:tKt,useRecoilTransactionObserver:YYt,useRecoilValue:vLe,useRecoilValueLoadable:XG,useRetain:xLe,useResetRecoilState:HYt,useSetRecoilState:QG,useSetUnvalidatedAtomValues:XYt,useTransactionObservation_DEPRECATED:ZYt,useTransactionSubscription_DEPRECATED:YL},{peekNodeInfo:nKt}=r1,{useStoreRef:iKt}=WL;function oKt(){let e=iKt();return({key:t})=>nKt(e.current,e.current.getState().currentTree,t)}var aKt=oKt,{RecoilRoot:sKt,useStoreRef:lKt}=WL,{useMemo:uKt}=Ga.default;function cKt(){let e=lKt().current;return uKt(()=>{function t({children:r}){return Ga.default.createElement(sKt,{store_INTERNAL:e},r)}return t},[e])}var fKt=cKt;var{isReactNative:E3r,isSSR:I3r}=VG;function hc(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`;}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(no(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>hc(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return hc(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,a]of e)i[typeof o=="string"?o:hc(o,t)]=a;return hc(i,t,r)}return e instanceof Set?hc(Array.from(e).sort((i,o)=>hc(i,t).localeCompare(hc(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?hc(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${hc(i,t)}:${hc(e[i],t,i)}`).join(",")}}`}function pKt(e,t={allowFunctions:!1}){return hc(e,t)}var KL=pKt,TG=class{constructor(t){var r,n,i;En(this,"_numLeafs",void 0),En(this,"_root",void 0),En(this,"_onHit",void 0),En(this,"_onSet",void 0),En(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return bLe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=AG(this.root(),t.map(([a,c])=>[a,this._mapNodeValue(c)]),null,r,null,{onNodeVisit:a=>{n==null||n.onNodeVisit(a),a.type==="leaf"&&(i=a)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Vn(i))}delete(t){if(!this.root())return!1;let r=Vn(this.root());return dKt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=SLe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},bLe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return bLe(e.branches.get(i),t,r)},AG=(e,t,r,n,i,o)=>{var a;let c;if(e==null){if(t.length===0)c={type:"leaf",value:n,parent:r,branchKey:i};else{let[d,...m]=t,[v,E]=d;c={type:"branch",nodeKey:v,parent:r,branches:new Map,branchKey:i},c.branches.set(E,AG(null,m,c,n,E,o))}}else if(c=e,t.length){let[d,...m]=t,[v,E]=d;e.type==="branch"&&e.nodeKey===v||qL(!1),e.branches.set(E,AG(e.branches.get(E),m,e,n,E,o))}return o==null||(a=o.onNodeVisit)===null||a===void 0||a.call(o,c),c},dKt=(e,t,r)=>r?(r.branches.delete(t.branchKey),wLe(e,r,r.parent)):e===t,wLe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),wLe(e,r,r.parent)):e===t,SLe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+SLe(r),0),hKt={TreeCache:TG},mKt=hKt.TreeCache,ELe=Object.freeze({__proto__:null,TreeCache:mKt}),MG=class{constructor(t){var r;En(this,"_maxSize",void 0),En(this,"_size",void 0),En(this,"_head",void 0),En(this,"_tail",void 0),En(this,"_map",void 0),En(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),a={key:t,right:o,left:null,value:r};o?o.left=a:this._tail=a,this._map.set(n,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Vn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},gKt={LRUCache:MG},vKt=gKt.LRUCache,ILe=Object.freeze({__proto__:null,LRUCache:vKt}),{LRUCache:yKt}=ILe,{TreeCache:_Kt}=ELe;function xKt(e,t=r=>r){let r=new yKt({maxSize:e}),n=new _Kt({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var MDe=xKt,{TreeCache:bKt}=ELe,EL={equality:"reference",eviction:"keep-all",maxSize:1/0};function wKt({equality:e=EL.equality,eviction:t=EL.eviction,maxSize:r=EL.maxSize}=EL){let n=SKt(e);return EKt(t,r,n)}function SKt(e){switch(e){case"reference":return t=>t;case"value":return t=>KL(t);}throw new Error(`Unrecognized equality policy ${e}`)}function EKt(e,t,r){switch(e){case"keep-all":return new bKt({mapNodeValue:r});case"lru":return MDe(Vn(t),r);case"most-recent":return MDe(1,r);}throw new Error(`Unrecognized eviction policy ${e}`)}var IKt=wKt;function TKt(e){return()=>null}var AKt={startPerfBlock:TKt},{CANCELED:PE,Canceled:MKt,loadableWithError:NE,loadableWithPromise:CKt,loadableWithValue:hG}=UE,{getNodeLoadable:CDe,peekNodeLoadable:OKt,setNodeValue:DKt}=r1,{saveDependencyMapToStore:LKt}=VE,{DEFAULT_VALUE:PKt,RecoilValueNotReady:NKt,getConfigDeletionHandler:RKt,registerNode:ODe}=Eu,{isRecoilValue:kKt}=Xh,{AbstractRecoilValue:qKt}=Xh,{setRecoilValueLoadable:jKt}=mv,{retainedByOptionWithDefault:zKt}=GE,{cloneSnapshot:FKt}=$L,{startPerfBlock:BKt}=AKt,RE=[],IL=new Map,UKt=(()=>{let e=0;return()=>e++})();function VKt(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function GKt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=IKt(n!=null?n:{equality:"reference",eviction:"keep-all"}),a=zKt(e.retainedBy_UNSTABLE),c=new Map,d=0;function m(){return!si("recoil_memory_managament_2020")||d>0}function v(Ce){return c.has(Ce)||c.set(Ce,VKt()),Vn(c.get(Ce))}function E(Ce){return d++,Ce.getState().knownSelectors.add(t),()=>{d--,Ce.getState().knownSelectors.delete(t),c.delete(Ce)}}function I(){return RKt(t)!==void 0&&!m()}function M(Ce,de,Ne){if(de.state==="loading"){let Ee=IL.get(Ne);Ee==null&&IL.set(Ne,Ee=new Set),Ee.add(Ce)}}function L(Ce,de){let Ne=IL.get(de);if(Ne!==void 0){for(let Ee of Ne)jKt(Ee,new qKt(t),Ce);IL.delete(de)}}function R(Ce,de,Ne){let Ee=Ce.getState().knownSelectors.has(Ne);if(Ee&&de.atomValues.has(Ne))return Vn(de.atomValues.get(Ne));let Qe=CDe(Ce,de,Ne);return Qe.state!=="loading"&&Ee&&de.atomValues.set(Ne,Qe),Qe}function P(Ce,de,Ne,Ee,Qe){return de.then(Ke=>{if(!m())return Re(Ce,Qe),PE;let yt=hG(Ke);return ot(Ne,oe(Ee),yt),B(Ce,Ne,new Set(Ee.keys()),Qe),j(Ce,yt,Qe),{__value:Ke,__key:t}}).catch(Ke=>{if(!m())return Re(Ce,Qe),PE;if(ke(Ce,Qe)&&Ye(Ee,Ce,Qe),no(Ke))return q(Ce,Ke,Ne,Ee,Qe);let yt=NE(Ke);throw ot(Ne,oe(Ee),yt),B(Ce,Ne,new Set(Ee.keys()),Qe),j(Ce,yt,Qe),Ke})}function q(Ce,de,Ne,Ee,Qe){return de.then(Ke=>{if(!m())return Re(Ce,Qe),PE;if(Ke instanceof MKt)return df("Selector was released while it had dependencies"),PE;let{__key:yt,__value:_t}=Ke!=null?Ke:{},gt=!0;yt!=null&&(Ne.atomValues.set(yt,hG(_t)),gt=!1);let Se=Q(Ce,Ne);if(Se&&Se.state==="hasValue")return Ue(Se,Ce),{__value:Se.contents,__key:t};if(!ke(Ce,Qe)){var ft;let Ht=Ae(Ne);if((Ht==null||(ft=Ht.latestLoadable)===null||ft===void 0?void 0:ft.state)==="loading")return Ht.latestLoadable.contents}let[zt,pt]=re(Ce,Ne,Qe,gt);if(ke(Ce,Qe)&&Ye(pt,Ce,Qe),je(zt),zt.state!=="loading"&&(ot(Ne,oe(pt),zt),B(Ce,Ne,new Set(pt.keys()),Qe),j(Ce,zt,Qe)),zt.state==="hasError")throw zt.contents;return zt.state==="hasValue"?{__value:zt.contents,__key:t}:zt.contents}).catch(Ke=>{if(!m())return Re(Ce,Qe),PE;let yt=NE(Ke);throw ot(Ne,oe(Ee),NE(Ke)),B(Ce,Ne,new Set(Ee.keys()),Qe),j(Ce,yt,Qe),Ke})}function j(Ce,de,Ne){ke(Ce,Ne)&&(Ue(de,Ce),L(de,Ne))}function B(Ce,de,Ne,Ee){var Qe,Ke,yt,_t;if(ke(Ce,Ee)||de.version===((Qe=Ce.getState())===null||Qe===void 0||(Ke=Qe.currentTree)===null||Ke===void 0?void 0:Ke.version)||de.version===((yt=Ce.getState())===null||yt===void 0||(_t=yt.nextTree)===null||_t===void 0?void 0:_t.version)){var gt,Se,ft;LKt(new Map([[t,Ne]]),Ce,(gt=(Se=Ce.getState())===null||Se===void 0||(ft=Se.nextTree)===null||ft===void 0?void 0:ft.version)!==null&&gt!==void 0?gt:Ce.getState().currentTree.version)}}function Z(Ce,de,Ne,Ee,Qe){Ne.add(Ee),B(Ce,de,Ne,Qe)}function re(Ce,de,Ne,Ee=!1){let Qe=BKt(t),Ke,yt=!1,_t,gt=new Map,Se=new Set;B(Ce,de,Se,Ne);function ft(Ht){let{key:ar}=Ht;Z(Ce,de,Se,ar,Ne);let Ft=Ee?CDe(Ce,de,ar):R(Ce,de,ar);if(je(Ft),gt.set(ar,Ft),Ft.state==="hasValue")return Ft.contents;throw Ft.contents}let zt=!1,pt=Ht=>(...ar)=>{if(!zt)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let Ft=FKt(Ce),cr=Ht({snapshot:Ft});if(typeof cr!="function")throw new Error("getCallback() expects a function that returns a function.");return cr(...ar)};try{Ke=r({get:ft,getCallback:pt}),Ke=kKt(Ke)?ft(Ke):Ke,zt=!0,no(Ke)?Ke=P(Ce,Ke,de,gt,Ne).finally(Qe):Qe()}catch(Ht){Ke=Ht,no(Ke)?Ke=q(Ce,Ke,de,gt,Ne).finally(Qe):(yt=!0,Qe())}return yt?_t=NE(Ke):no(Ke)?_t=CKt(Ke):_t=hG(Ke),je(_t),[_t,gt]}function Q(Ce,de){let Ne=new Set,Ee=v(Ce),Qe=o.get(Ke=>(typeof Ke!="string"&&qL(!1),R(Ce,de,Ke).contents),{onNodeVisit:Ke=>{Ke.type==="branch"&&Ke.nodeKey!==t&&typeof Ke.nodeKey=="string"&&Ne.add(Ke.nodeKey)}});return Qe&&B(Ce,de,Ne,Ee.latestExecutionId),Qe}function oe(Ce){return Array.from(Ce.entries()).map(([de,Ne])=>[de,Ne.contents])}function me(Ce,de){let Ne=UKt(),[Ee,Qe]=re(Ce,de,Ne);return Ue(Ee,Ce,Qe,Ne,de),Xe(de,oe(Qe),Ee),M(Ce,Ee,Ne),Ee}function pe(Ce,de){let Ne=Q(Ce,de);if(Ne!=null)return Ue(Ne,Ce),Ne;let Ee=Ae(de);if(Ee){let Qe=Ee;return M(Ce,Vn(Qe.latestLoadable),Vn(Qe.latestExecutionId)),Vn(Qe.latestLoadable)}return me(Ce,de)}function Ae(Ce){var de;let[,Ne]=(de=Array.from(c.entries()).find(([Ee,Qe])=>Qe.latestLoadable!=null&&Qe.latestExecutionId!=null&&!$e(Ee,Ce)))!==null&&de!==void 0?de:[];return Ne}let Fe=new Map;function $e(Ce,de){var Ne,Ee;let Qe=v(Ce),Ke=(Ne=Qe.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&Ne!==void 0?Ne:new Map,yt=Array(((Ee=Fe.get(de.version))!==null&&Ee!==void 0?Ee:new Map).entries()),_t=Fe.has(de.version)&&yt.length===Ke.size&&yt.every(([gt,Se])=>Ke.get(gt)===Se);return Ke==null||de.version===Qe.stateVersion||_t?!1:(Fe.set(de.version,new Map(Ke)),Array.from(Ke).some(([gt,Se])=>R(Ce,de,gt).contents!==Se.contents))}function Ue(Ce,de,Ne,Ee,Qe){let Ke=v(de);Ce.state==="loading"?(Ke.depValuesDiscoveredSoFarDuringAsyncWork=Ne,Ke.latestExecutionId=Ee,Ke.latestLoadable=Ce,Ke.stateVersion=Qe==null?void 0:Qe.version):(Ke.depValuesDiscoveredSoFarDuringAsyncWork=null,Ke.latestExecutionId=null,Ke.latestLoadable=null,Ke.stateVersion=null)}function Xe(Ce,de,Ne){Ne.state!=="loading"&&ot(Ce,de,Ne)}function Ye(Ce,de,Ne){let Ee=v(de);ke(de,Ne)&&(Ee.depValuesDiscoveredSoFarDuringAsyncWork=Ce)}function Re(Ce,de){ke(Ce,de)&&c.delete(Ce)}function ke(Ce,de){let Ne=v(Ce);return de===Ne.latestExecutionId}function je(Ce){Ce.state!=="loading"&&(Ce.contents,void 0)}function it(Ce){}function ot(Ce,de,Ne){Ce.atomValues.set(t,Ne),o.set(de,Ne)}function at(Ce){if(RE.includes(t)){let de=`Recoil selector has circular dependencies: ${RE.slice(RE.indexOf(t)).join(" \u2192 ")}`;return NE(new Error(de))}RE.push(t);try{return Ce()}finally{RE.pop()}}function Be(Ce,de){return o.get(Ee=>{typeof Ee!="string"&&qL(!1);let Qe=OKt(Ce,de,Ee);return Qe==null?void 0:Qe.contents})}function Ze(Ce,de){return at(()=>pe(Ce,de))}function nt(Ce){Ce.atomValues.delete(t)}return i!=null?ODe({key:t,nodeType:"selector",peek:Be,get:Ze,set:(de,Ne,Ee)=>{let Qe=!1,Ke=new Map;function yt({key:ft}){if(Qe)throw new Error("Recoil: Async selector sets are not currently supported.");let zt=R(de,Ne,ft);if(je(zt),zt.state==="hasValue")return zt.contents;throw zt.state==="loading"?new NKt(ft):zt.contents}function _t(ft,zt){if(Qe)throw new Error("Recoil: Async selector sets are not currently supported.");let pt=typeof zt=="function"?zt(yt(ft)):zt;DKt(de,Ne,ft.key,pt).forEach((ar,Ft)=>Ke.set(Ft,ar))}function gt(ft){_t(ft,PKt)}let Se=i({set:_t,get:yt,reset:gt},Ee);if(Se!==void 0)throw no(Se)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return Qe=!0,Ke},init:E,invalidate:nt,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a}):ODe({key:t,nodeType:"selector",peek:Be,get:Ze,init:E,invalidate:nt,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})}var FL=GKt,{loadableWithError:DDe,loadableWithPromise:LDe,loadableWithValue:kE}=UE,{DEFAULT_VALUE:dv,DefaultValue:X_,getConfigDeletionHandler:TLe,registerNode:HKt,setConfigDeletionHandler:$Kt}=Eu,{isRecoilValue:WKt}=Xh,{markRecoilValueModified:ZKt,setRecoilValue:PDe,setRecoilValueLoadable:YKt}=mv,{retainedByOptionWithDefault:KKt}=GE;function XKt(e){let{key:t,persistence_UNSTABLE:r}=e,n=KKt(e.retainedBy_UNSTABLE),i=0,o=no(e.default)?LDe(e.default.then(P=>(o=kE(P),{__key:t,__value:P})).catch(P=>{throw o=DDe(P),P})):kE(e.default),a,c=new Map;function d(P,q){let j=q.then(B=>{var Z,re;return((re=((Z=P.getState().nextTree)!==null&&Z!==void 0?Z:P.getState().currentTree).atomValues.get(t))===null||re===void 0?void 0:re.contents)===j&&PDe(P,R,B),{__key:t,__value:B}}).catch(B=>{var Z,re;throw((re=((Z=P.getState().nextTree)!==null&&Z!==void 0?Z:P.getState().currentTree).atomValues.get(t))===null||re===void 0?void 0:re.contents)===j&&YKt(P,R,DDe(B)),B});return j}function m(P,q,j){i++;let B=P.getState().knownAtoms.has(t);if(P.getState().knownAtoms.add(t),o.state==="loading"){let pe=()=>{var Ae;((Ae=P.getState().nextTree)!==null&&Ae!==void 0?Ae:P.getState().currentTree).atomValues.has(t)||ZKt(P,R)};o.contents.then(pe).catch(pe)}let Z=dv,re=null;if(e.effects_UNSTABLE!=null&&!B){let pe=!0,Ae=Ue=>Xe=>{if(pe){let Ye=Z instanceof X_||no(Z)?o.state==="hasValue"?o.contents:dv:Z;Z=typeof Xe=="function"?Xe(Ye):Xe,no(Z)&&(Z=Z.then(Re=>(re={effect:Ue,value:Re},Re)))}else{if(no(Xe))throw new Error("Setting atoms to async values is not implemented.");typeof Xe!="function"&&(re={effect:Ue,value:Xe}),PDe(P,R,typeof Xe=="function"?Ye=>{let Re=Xe(Ye);return re={effect:Ue,value:Re},Re}:Xe)}},Fe=Ue=>()=>Ae(Ue)(dv),$e=Ue=>Xe=>{P.subscribeToTransactions(Ye=>{var Re;let{currentTree:ke,previousTree:je}=Ye.getState();je||(df("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),je=ke);let it=(Re=ke.atomValues.get(t))!==null&&Re!==void 0?Re:o;if(it.state==="hasValue"){var ot,at,Be,Ze;let nt=it.contents,Ce=(ot=je.atomValues.get(t))!==null&&ot!==void 0?ot:o,de=Ce.state==="hasValue"?Ce.contents:dv;((at=re)===null||at===void 0?void 0:at.effect)!==Ue||((Be=re)===null||Be===void 0?void 0:Be.value)!==nt?Xe(nt,de):((Ze=re)===null||Ze===void 0?void 0:Ze.effect)===Ue&&(re=null)}},t)};for(let Ue of(Q=e.effects_UNSTABLE)!==null&&Q!==void 0?Q:[]){var Q;let Xe=Ue({node:R,trigger:j,setSelf:Ae(Ue),resetSelf:Fe(Ue),onSet:$e(Ue)});if(Xe!=null){var oe;c.set(P,[...((oe=c.get(P))!==null&&oe!==void 0?oe:[]),Xe])}}pe=!1}if(!(Z instanceof X_)){var me;let pe=no(Z)?LDe(d(P,Z)):kE(Z);q.atomValues.set(t,pe),(me=P.getState().nextTree)===null||me===void 0||me.atomValues.set(t,pe)}return()=>{var pe;i--,(pe=c.get(P))===null||pe===void 0||pe.forEach(Ae=>Ae()),c.delete(P),P.getState().knownAtoms.delete(t)}}function v(P,q){var j,B,Z;return(j=(B=q.atomValues.get(t))!==null&&B!==void 0?B:(Z=a)===null||Z===void 0?void 0:Z[1])!==null&&j!==void 0?j:o}function E(P,q){if(q.atomValues.has(t))return Vn(q.atomValues.get(t));if(q.nonvalidatedAtoms.has(t)){if(a!=null)return a;if(r==null)return kG(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let j=q.nonvalidatedAtoms.get(t),B=r.validator(j,dv);return a=B instanceof X_?o:kE(B),a}else return o}function I(){a=void 0}function M(P,q,j){if(q.atomValues.has(t)){let B=Vn(q.atomValues.get(t));if(B.state==="hasValue"&&j===B.contents)return new Map}else if(!q.nonvalidatedAtoms.has(t)&&j instanceof X_)return new Map;return a=void 0,new Map().set(t,kE(j))}function L(){return TLe(t)!==void 0&&i<=0}let R=HKt({key:t,nodeType:"atom",peek:v,get:E,set:M,init:m,invalidate:I,shouldDeleteConfigOnRelease:L,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return R}function ALe(e){let n=e,{default:t}=n,r=yn(n,["default"]);return WKt(t)?QKt(wr(et({},r),{default:t})):XKt(wr(et({},r),{default:t}))}function QKt(e){let t=ALe(wr(et({},e),{default:dv,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:wr(et({},e.persistence_UNSTABLE),{validator:n=>n instanceof X_?n:Vn(e.persistence_UNSTABLE).validator(n,dv)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=FL({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof X_?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return $Kt(r.key,TLe(e.key)),r}var MLe=ALe,CG=class{constructor(t){var r;En(this,"_map",void 0),En(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},JKt={MapCache:CG},eXt=JKt.MapCache,tXt=Object.freeze({__proto__:null,MapCache:eXt}),{LRUCache:NDe}=ILe,{MapCache:rXt}=tXt,TL={equality:"reference",eviction:"none",maxSize:1/0};function nXt({equality:e=TL.equality,eviction:t=TL.eviction,maxSize:r=TL.maxSize}=TL){let n=iXt(e);return oXt(t,r,n)}function iXt(e){switch(e){case"reference":return t=>t;case"value":return t=>KL(t);}throw new Error(`Unrecognized equality policy ${e}`)}function oXt(e,t,r){switch(e){case"keep-all":return new rXt({mapKey:r});case"lru":return new NDe({mapKey:r,maxSize:Vn(t)});case"most-recent":return new NDe({mapKey:r,maxSize:1});}throw new Error(`Unrecognized eviction policy ${e}`)}var CLe=nXt,{setConfigDeletionHandler:aXt}=Eu;function sXt(e){var t,r;let n=CLe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let a=n.get(i);if(a!=null)return a;let v=e,{cachePolicyForParams_UNSTABLE:c}=v,d=yn(v,["cachePolicyForParams_UNSTABLE"]),m=MLe(wr(et({},d),{key:`${e.key}__${(o=KL(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,m),aXt(m.key,()=>{n.delete(i)}),m}}var lXt=sXt,{setConfigDeletionHandler:uXt}=Eu,cXt=0;function fXt(e){var t,r;let n=CLe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let a=n.get(i);if(a!=null)return a;let c=`${e.key}__selectorFamily/${(o=KL(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${cXt++}`,d=I=>e.get(i)(I),m=e.cachePolicy_UNSTABLE,v=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,E;if(e.set!=null){let I=e.set;E=FL({key:c,get:d,set:(L,R)=>I(i)(L,R),cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:v})}else E=FL({key:c,get:d,cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:v});return n.set(i,E),uXt(E.key,()=>{n.delete(i)}),E}}var Qh=fXt,pXt=Qh({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function dXt(e){return pXt(e)}var hXt=dXt,mXt=Qh({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function gXt(e){return mXt(e)}var vXt=gXt;function yXt(e){return e}var _Xt=yXt,{loadableWithError:OLe,loadableWithPromise:DLe,loadableWithValue:LLe}=UE;function XL(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(a){n[i]=a}return[r,n]}function xXt(e){return e!=null&&!no(e)}function QL(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function JG(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function OG(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>wr(et({},r),{[n]:t[i]}),{})}function J_(e,t,r){let n=r.map((i,o)=>i==null?LLe(t[o]):no(i)?DLe(i):OLe(i));return OG(e,n)}function bXt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var wXt=Qh({key:"__waitForNone",get:e=>({get:t})=>{let r=QL(e),[n,i]=XL(t,r);return J_(e,n,i)},dangerouslyAllowMutability:!0}),SXt=Qh({key:"__waitForAny",get:e=>({get:t})=>{let r=QL(e),[n,i]=XL(t,r);return i.some(o=>!no(o))?J_(e,n,i):new Promise(o=>{for(let[a,c]of i.entries())no(c)&&c.then(d=>{n[a]=JG(d),i[a]=void 0,o(J_(e,n,i))}).catch(d=>{i[a]=d,o(J_(e,n,i))})})},dangerouslyAllowMutability:!0}),EXt=Qh({key:"__waitForAll",get:e=>({get:t})=>{let r=QL(e),[n,i]=XL(t,r);if(i.every(a=>a==null))return OG(e,n);let o=i.find(xXt);if(o!=null)throw o;return Promise.all(i).then(a=>OG(e,bXt(n,a).map(JG)))},dangerouslyAllowMutability:!0}),IXt=Qh({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=QL(e),[n,i]=XL(t,r);return i.every(o=>!no(o))?J_(e,n,i):Promise.all(i.map((o,a)=>no(o)?o.then(c=>{n[a]=JG(c),i[a]=void 0}).catch(c=>{n[a]=void 0,i[a]=c}):null)).then(()=>J_(e,n,i))},dangerouslyAllowMutability:!0}),TXt=Qh({key:"__noWait",get:e=>({get:t})=>{try{return LLe(t(e))}catch(r){return no(r)?DLe(r):OLe(r)}},dangerouslyAllowMutability:!0}),AXt={waitForNone:wXt,waitForAny:SXt,waitForAll:EXt,waitForAllSettled:IXt,noWait:TXt},{batchUpdates:MXt,setBatcher:CXt}=BG,{DefaultValue:OXt}=Eu,{RecoilRoot:DXt}=WL,{isRecoilValue:LXt}=Xh,{retentionZone:PXt}=UL,{freshSnapshot:NXt}=$L,{useGotoRecoilSnapshot:RXt,useRecoilCallback:kXt,useRecoilSnapshot:qXt,useRecoilState:jXt,useRecoilStateLoadable:zXt,useRecoilTransaction:FXt,useRecoilTransactionObserver:BXt,useRecoilValue:UXt,useRecoilValueLoadable:VXt,useResetRecoilState:GXt,useRetain:HXt,useSetRecoilState:$Xt,useSetUnvalidatedAtomValues:WXt,useTransactionObservation_DEPRECATED:ZXt}=rKt,{noWait:YXt,waitForAll:KXt,waitForAllSettled:XXt,waitForAny:QXt,waitForNone:JXt}=AXt,_n={DefaultValue:OXt,RecoilRoot:DXt,useRecoilBridgeAcrossReactRoots_UNSTABLE:fKt,atom:MLe,selector:FL,retentionZone:PXt,atomFamily:lXt,selectorFamily:Qh,constSelector:hXt,errorSelector:vXt,readOnlySelector:_Xt,useRecoilValue:UXt,useRecoilValueLoadable:VXt,useRecoilState:jXt,useRecoilStateLoadable:zXt,useSetRecoilState:$Xt,useResetRecoilState:GXt,useGetRecoilValueInfo_UNSTABLE:aKt,useRetain:HXt,useRecoilCallback:kXt,useRecoilTransaction_UNSTABLE:FXt,useGotoRecoilSnapshot:RXt,useRecoilSnapshot:qXt,useRecoilTransactionObserver_UNSTABLE:BXt,useTransactionObservation_UNSTABLE:ZXt,useSetUnvalidatedAtomValues_UNSTABLE:WXt,noWait:YXt,waitForNone:JXt,waitForAny:QXt,waitForAll:KXt,waitForAllSettled:XXt,isRecoilValue:LXt,batchUpdates:MXt,setBatcher:CXt,snapshot_UNSTABLE:NXt},T3r=_n.DefaultValue,PLe=_n.RecoilRoot,A3r=_n.useRecoilBridgeAcrossReactRoots_UNSTABLE,Fo=_n.atom,M3r=_n.selector,C3r=_n.retentionZone,O3r=_n.atomFamily,D3r=_n.selectorFamily,L3r=_n.constSelector,P3r=_n.errorSelector,N3r=_n.readOnlySelector,Vt=_n.useRecoilValue,R3r=_n.useRecoilValueLoadable,Fi=_n.useRecoilState,k3r=_n.useRecoilStateLoadable,cn=_n.useSetRecoilState,q3r=_n.useResetRecoilState,j3r=_n.useGetRecoilValueInfo_UNSTABLE,z3r=_n.useRetain,F3r=_n.useRecoilCallback,B3r=_n.useRecoilTransaction_UNSTABLE,U3r=_n.useGotoRecoilSnapshot,V3r=_n.useRecoilSnapshot,G3r=_n.useRecoilTransactionObserver_UNSTABLE,H3r=_n.useTransactionObservation_UNSTABLE,$3r=_n.useSetUnvalidatedAtomValues_UNSTABLE,W3r=_n.noWait,Z3r=_n.waitForNone,Y3r=_n.waitForAny,K3r=_n.waitForAll,X3r=_n.waitForAllSettled,Q3r=_n.isRecoilValue,J3r=_n.batchUpdates,eqr=_n.setBatcher,tqr=_n.snapshot_UNSTABLE;var Jh=ee(Le());var JL=ee(Le()),eQt=e=>{let t=JL.useRef(e);return JL.useEffect(()=>{t.current=e}),t},eP=eQt;var tQt=(e,t=100,r=!1)=>{let n=eP(e),i=Jh.useRef(),o=[t,r,n];function a(){i.current&&clearTimeout(i.current),i.current=void 0}Jh.useEffect(()=>a,o);function c(){i.current=void 0}return Jh.useCallback(function(){let d=arguments,{current:m}=i;if(m===void 0&&r)return i.current=setTimeout(c,t),n.current.apply(null,d);m&&clearTimeout(m),i.current=setTimeout(()=>{i.current=void 0,n.current.apply(null,d)},t)},o)},NLe=(e,t,r)=>{let n=Jh.useState(e);return[n[0],tQt(n[1],t,r)]};var n1=ee(Le());function rQt(e,t,r,n){let i=n1.useRef(r),o=n1.useRef(n);n1.useEffect(()=>{i.current=r,o.current=n}),n1.useEffect(()=>{let a=e&&"current"in e?e.current:e;if(!a)return;let c=0;function d(...v){c||i.current.apply(this,v)}a.addEventListener(t,d);let m=o.current;return()=>{c=1,a.removeEventListener(t,d),m&&m()}},[e,t])}var tP=rQt;var nQt={},HE=typeof window=="undefined"?null:window,iQt=HE&&typeof HE.visualViewport!="undefined"?HE.visualViewport:null,RLe=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],oQt=function(e){e===void 0&&(e=nQt);let{wait:t,leading:r,initialWidth:n=0,initialHeight:i=0}=e,[o,a]=NLe(typeof document=="undefined"?[n,i]:RLe,t,r),c=()=>a(RLe);return tP(HE,"resize",c),tP(iQt,"resize",c),tP(HE,"orientationchange",c),o};var kLe=e=>oQt(e)[0];var jWe=ee(Tt(),1);var ql=ee(Le(),1);var SP=ee(Tt(),1);var Qs=Fo({key:"notificationState",default:null});var yc=ee(Le(),1);var Iu=[];var GLe=function(){return Iu.some(function(e){return e.activeTargets.length>0})};var HLe=function(){return Iu.some(function(e){return e.skippedTargets.length>0})};var $Le="ResizeObserver loop completed with undelivered notifications.",WLe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:$Le}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=$Le),window.dispatchEvent(e)};var gv;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(gv||(gv={}));var gc=function(e){return Object.freeze(e)};var eH=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,gc(this)}return e}();var tH=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,gc(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,a=t.bottom,c=t.left,d=t.width,m=t.height;return{x:r,y:n,top:i,right:o,bottom:a,left:c,width:d,height:m}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var $E=function(e){return e instanceof SVGElement&&"getBBox"in e},rP=function(e){if($E(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},rH=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},ZLe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1};var vv=typeof window!="undefined"?window:{};var nP=new WeakMap,YLe=/auto|scroll/,lQt=/^tb|vertical/,uQt=/msie|trident/i.test(vv.navigator&&vv.navigator.userAgent),hf=function(e){return parseFloat(e||"0")},i1=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new eH((r?t:e)||0,(r?e:t)||0)},KLe=gc({devicePixelContentBoxSize:i1(),borderBoxSize:i1(),contentBoxSize:i1(),contentRect:new tH(0,0,0,0)}),nH=function(e,t){if(t===void 0&&(t=!1),nP.has(e)&&!t)return nP.get(e);if(rP(e))return nP.set(e,KLe),KLe;var r=getComputedStyle(e),n=$E(e)&&e.ownerSVGElement&&e.getBBox(),i=!uQt&&r.boxSizing==="border-box",o=lQt.test(r.writingMode||""),a=!n&&YLe.test(r.overflowY||""),c=!n&&YLe.test(r.overflowX||""),d=n?0:hf(r.paddingTop),m=n?0:hf(r.paddingRight),v=n?0:hf(r.paddingBottom),E=n?0:hf(r.paddingLeft),I=n?0:hf(r.borderTopWidth),M=n?0:hf(r.borderRightWidth),L=n?0:hf(r.borderBottomWidth),R=n?0:hf(r.borderLeftWidth),P=E+m,q=d+v,j=R+M,B=I+L,Z=c?e.offsetHeight-B-e.clientHeight:0,re=a?e.offsetWidth-j-e.clientWidth:0,Q=i?P+j:0,oe=i?q+B:0,me=n?n.width:hf(r.width)-Q-re,pe=n?n.height:hf(r.height)-oe-Z,Ae=me+P+re+j,Fe=pe+q+Z+B,$e=gc({devicePixelContentBoxSize:i1(Math.round(me*devicePixelRatio),Math.round(pe*devicePixelRatio),o),borderBoxSize:i1(Ae,Fe,o),contentBoxSize:i1(me,pe,o),contentRect:new tH(E,d,me,pe)});return nP.set(e,$e),$e},iP=function(e,t,r){var n=nH(e,r),i=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case gv.DEVICE_PIXEL_CONTENT_BOX:return a;case gv.BORDER_BOX:return i;default:return o;}};var iH=function(){function e(t){var r=nH(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=gc([r.borderBoxSize]),this.contentBoxSize=gc([r.contentBoxSize]),this.devicePixelContentBoxSize=gc([r.devicePixelContentBoxSize])}return e}();var oP=function(e){if(rP(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var XLe=function(){var e=1/0,t=[];Iu.forEach(function(a){if(a.activeTargets.length!==0){var c=[];a.activeTargets.forEach(function(m){var v=new iH(m.target),E=oP(m.target);c.push(v),m.lastReportedSize=iP(m.target,m.observedBox),E<e&&(e=E)}),t.push(function(){a.callback.call(a.observer,c,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var oH=function(e){Iu.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(oP(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var QLe=function(){var e=0;for(oH(e);GLe();)e=XLe(),oH(e);return HLe()&&WLe(),e>0};var aH,JLe=[],cQt=function(){return JLe.splice(0).forEach(function(e){return e()})},ePe=function(e){if(!aH){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return cQt()}).observe(r,n),aH=function(){r.textContent="".concat(t?t--:t++)}}JLe.push(e),aH()};var tPe=function(e){ePe(function(){requestAnimationFrame(e)})};var aP=0,fQt=function(){return!!aP},pQt=250,dQt={attributes:!0,characterData:!0,childList:!0,subtree:!0},rPe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],nPe=function(e){return e===void 0&&(e=0),Date.now()+e},sH=!1,hQt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=pQt),!sH){sH=!0;var n=nPe(t);tPe(function(){var i=!1;try{i=QLe()}finally{if(sH=!1,t=n-nPe(),!fQt())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,dQt)};document.body?r():vv.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),rPe.forEach(function(r){return vv.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),rPe.forEach(function(r){return vv.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),sP=new hQt,lH=function(e){!aP&&e>0&&sP.start(),aP+=e,!aP&&sP.stop()};var mQt=function(e){return!$E(e)&&!ZLe(e)&&getComputedStyle(e).display==="inline"},iPe=function(){function e(t,r){this.target=t,this.observedBox=r||gv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=iP(this.target,this.observedBox,!0);return mQt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var oPe=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var lP=new WeakMap,aPe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},WE=function(){function e(){}return e.connect=function(t,r){var n=new oPe(t,r);lP.set(t,n)},e.observe=function(t,r,n){var i=lP.get(t),o=i.observationTargets.length===0;aPe(i.observationTargets,r)<0&&(o&&Iu.push(i),i.observationTargets.push(new iPe(r,n&&n.box)),lH(1),sP.schedule())},e.unobserve=function(t,r){var n=lP.get(t),i=aPe(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&Iu.splice(Iu.indexOf(n),1),n.observationTargets.splice(i,1),lH(-1))},e.disconnect=function(t){var r=this,n=lP.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var uH=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");WE.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rH(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");WE.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rH(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");WE.unobserve(this,t)},e.prototype.disconnect=function(){WE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var sPe=ee(Le()),gQt=sPe.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],lPe=gQt;var vQt=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:uH;function yQt(){}function _Qt(e,t){let r=bQt(),n=eP(t);return lPe(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return yQt;function a(c,d){i||n.current(c,d)}return r.subscribe(o,a),()=>{i=!0,r.unsubscribe(o,a)}},[e,r,n]),r.observer}function xQt(){let e=!1,t=[],r=new Map,n=new vQt((i,o)=>{t=t.concat(i);function a(){let c=new Set;for(let d=0;d<t.length;d++){if(c.has(t[d].target))continue;c.add(t[d].target);let m=r.get(t[d].target);m==null||m.forEach(v=>v(t[d],o))}t=[],e=!1}e||window.requestAnimationFrame(a),e=!0});return{observer:n,subscribe(i,o){var a;n.observe(i);let c=(a=r.get(i))!==null&&a!==void 0?a:[];c.push(o),r.set(i,c)},unsubscribe(i,o){var a;let c=(a=r.get(i))!==null&&a!==void 0?a:[];if(c.length===1){n.unobserve(i),r.delete(i);return}let d=c.indexOf(o);d!==-1&&c.splice(d,1),r.set(i,c)}}}var cH,bQt=()=>cH||(cH=xQt()),uPe=_Qt;var NNe=ee(em(),1);var mJt="vkf-unique-control-panel",DH="basemap-selector",OH=class{constructor(){Yn(this,"id",DH)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${mJt}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},mNe=OH;var _v=ee(INe(),1);var TNe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var gP=3,ANe=e=>`${(0,_v.default)(e[0],7)},${(0,_v.default)(e[1],7)}`,vP=class{constructor(){Yn(this,"buttonCopyPosition");Yn(this,"textElCurrentPosition");Yn(this,"textElSavedPosition");Yn(this,"targetEl");Yn(this,"_container");Yn(this,"_button");Yn(this,"savedPosition");Yn(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),Ve("control-mouseposition-save-helper");{let t=Ve("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,_v.default)(this.savedPosition[0],gP)+" Lat: "+(0,_v.default)(this.savedPosition[1],gP)}});Yn(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(ANe(r)),this.updatePosition(t)}});Yn(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,_v.default)(i.lng,gP)+", Lat: "+(0,_v.default)(i.lat,gP),n.innerHTML=this.generateSavedText()});Yn(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(ANe(r)),t.target.blur()});Yn(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,a=TNe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let c=document.createElement("p");this.textElCurrentPosition=c;let d=document.createElement("p");this.textElSavedPosition=d;let m=document.createElement("button");m.id="position-copy-to-clipboard",m.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",m.title=Ve("control-mouseposition-button-title"),this.buttonCopyPosition=m,m.addEventListener("click",this.handleCopyButtonClick);let v=document.createElement("div");v.className="saved-position-container",v.appendChild(d),v.appendChild(m),o.appendChild(c),o.appendChild(v),a.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),a.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=Ve("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function MNe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function l1(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function CNe(e){e.parentNode&&e.parentNode.removeChild(e)}var NH="permalink-control",PH=class{constructor(){Yn(this,"id",NH)}onAdd(t){return this._map=t,this._container=l1("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},ONe=PH;var vc=ee(XE(),1);var yP=class{constructor(){Yn(this,"_map");Yn(this,"_container");Yn(this,"_terrainButton");MNe(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=l1("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=l1("button","maplibregl-ctrl-terrain",this._container),l1("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){CNe(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function tr(e){return e!=null}function LNe(e){return typeof e=="string"||e instanceof String}function Ve(e){let t=kr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var PNe=()=>[{position:"top-left",control:new vc.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new vc.FullscreenControl},{position:"top-left",control:new vc.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new vP},{position:"top-left",control:new yP},{position:"top-left",control:new mNe},{position:"top-left",control:new vc.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new ONe},{position:"bottom-right",control:new vc.AttributionControl({compact:!0})},{position:"bottom-right",control:new vc.ScaleControl({maxWidth:137})}];var el={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:"en",MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1},kr={axiosApiInstance:null,appendSettings(e){el=Object.assign({},el,e)},getSettings(){return el},getBaseMaps(){return el.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},el.MAPVIEW_PARAMS)},getLanguageDict(){return el.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return el.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},el.TERRAIN_TILES)},getUsername(){return el.USERNAME},isUserAuthenticated(){return el.USER_ISAUTHENTICATED===!0},updateSettings(e){el=e},_initAxiosApiInstance(){let e=el.API_GEOREFERENCE_BASEURL,t=LNe(e)&&e.length===0;if(!tr(e)||t)throw new Error("The URL for the georeference service is not set.");let r={"Dev-Mode-Secret":"","Dev-Mode-Name":""},n=Object.assign({baseURL:e,withCredentials:!0},r?{headers:{get:r,post:r,put:r,delete:r}}:{});this.axiosApiInstance=NNe.default.create(n)},getGeoreferenceApiClient(){return tr(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=el.MARKER_URL;if(!tr(e))throw new Error("The marker icon url is not set.");return{id:el.MARKER_IMAGE_ID,url:e}}};var tm="vkf-terrain";var RNe=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),kNe=new Set(["visibility"]),tl={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},Io={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var rl={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},RJt={EXTRA_SMALL:600,SMALL:600,MEDIUM:768,LARGE:992},qNe=e=>e>=RJt.LARGE?rl.HORIZONTAL:rl.VERTICAL,jNe=e=>{switch(e){case rl.HORIZONTAL:default:return"ol-map-large";case rl.VERTICAL:return"ol-map-small";}};var gf=Fo({key:"activeBasemapId",default:kr.getSettings().BASEMAPS[0].id}),_P=Fo({key:"currentApplicationState",default:void 0}),u1=Fo({key:"elementScreenSize",default:{map:{height:0,width:0},layermanagement:{height:0,width:0},padding:{height:15,width:15},offset:{height:15,width:0},spatialtemporalsearch:{height:0,width:0}}}),zNe={facets:[],georeference:!1},Tu=Fo({key:"facetState",default:{facets:[],georeference:!1}}),c1=Fo({key:"layoutState",default:rl.VERTICAL}),$r=Fo({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),FNe=Fo({key:"map3dState",default:!1}),f1=Fo({key:"mapCountState",default:10}),xP=Fo({key:"searchIsLoadingState",default:!1}),li=Fo({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),bP=Fo({key:"selectedOriginalMapIdState",default:void 0}),rm=Fo({key:"timeExtentState",default:[1850,1970]}),qH=[1850,1970],vf=Fo({key:"timeRangeState",default:qH}),wP=Fo({key:"baseMapStyleLayersState",default:[]}),BNe=Fo({key:"activeDialogState",default:tl.None});function UNe(e,t=250){let r=(0,yc.useRef)();return(0,yc.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function VNe(e){let[t,r]=(0,yc.useState)(e);return(0,yc.useEffect)(()=>{r(e)},[e]),t}function p1(e,t){let r=cn(u1),n=jH(e);(0,yc.useEffect)(()=>{let{height:i,width:o}=n;r(a=>Object.assign({},a,{[t]:{height:i,width:o}}))},[n])}var jH=e=>{let[t,r]=(0,yc.useState)({height:0,width:0});return(0,yc.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),uPe(e,n=>r(n.contentRect)),t};function GNe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=GNe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function kJt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=GNe(e))&&(n&&(n+=" "),n+=t);return n}var ur=kJt;var HNe=e=>{let{onClose:t,text:r,type:n}=e;return ql.default.createElement("div",{className:"notification-item"},ql.default.createElement("div",{className:ur("alert","alert-"+n),role:"alert"},ql.default.createElement("div",{className:"close"},ql.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},ql.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),ql.default.createElement("div",{className:"text"},r)))};HNe.propTypes={onClose:SP.default.func,text:SP.default.string,type:SP.default.string};var qJt=()=>{let e=Vt(Qs),t=VNe(e),[r,n]=(0,ql.useState)([]);return(0,ql.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(a=>a.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(a=>a!==void 0))}},[e,r,t]),ql.default.createElement("div",{className:ur("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},a)=>ql.default.createElement(HNe,{key:a,onClose:()=>{let c=[...r];c.splice(a,1),n(c)},type:i,text:o})))},$Ne=qJt;var WNe=$Ne;var mm=ee(Le(),1);var GFe=ee(BH(),1);var m1=ee(Le(),1);var Sr={id:"id",timePublished:"time_published",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",type:"type",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name"},Up={id:"vkf:layer_id"},fa={GEOJSON:"geojson",HISTORIC_MAP:"historic_map"};var d1=class e{constructor({metadata:t,geometry:r}){Yn(this,"metadata",{});Yn(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return tr(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!tr(t)||!tr(r)){console.warn("Trying to update metadata without key or value");return}if(!tr(Sr[t])){console.warn(`Trying to update metadata with invalid key '${t}'`);return}this.metadata[t]=r}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var xRe=ee(em(),1);var fn=e=>e!==void 0,pRe=(e,t,r)=>t in e?e[t]:e[t]=r,QE={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},GH=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return TP(t,r).join("")}};function TP(e,t){return dRe(e,t,[]).join("")}function dRe(e,t,r){if(e.nodeType===QE.CDATA_SECTION||e.nodeType===QE.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)dRe(n,t,r)}return r}function WJt(e,t,r,n){for(var i=ZJt(t);i;i=YJt(i)){var o=i.namespaceURI||null,a=e[o];if(fn(a)){var c=a[i.localName];fn(c)&&c.call(n,i,r)}}}function ZJt(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==QE.ELEMENT;)t=t.nextSibling;return t}function YJt(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==QE.ELEMENT;)t=t.nextSibling;return t}function pa(e,t,r){return KJt(e,t,r)}function KJt(e,t,r){var n=fn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function hRe(e,t){return function(r,n){var i=e.call(fn(t)?t:this,r,n);if(fn(i)){var o=n[n.length-1];o.push(i)}}}function Bo(e,t,r,n,i){return n.push(e),WJt(t,r,n,i),n.pop()}function pr(e,t,r){return function(n,i){let o=e.call(fn(r)?r:this,n,i);if(fn(o)){var a=i[i.length-1],c=fn(t)?t:n.localName;a[c]=o}}}function il(e,t,r){return function(n,i){var o=e.call(fn(r)?r:this,n,i);if(fn(o)){var a=i[i.length-1],c=fn(t)?t:n.localName,d=pRe(a,c,[]);d.push(o)}}}var XJt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function QJt(e){return e.replace(XJt,"")}function xv(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return fn(t[1])||!1}function h1(e){return Vp(TP(e,!1))}function Vp(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function UH(e){return EP(TP(e,!1))}function EP(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Dn(e){return QJt(TP(e,!1))}var JJt="http://www.w3.org/1999/xlink";function HH(e){return e.getAttributeNS(JJt,"href")}function eer(e,t){return Bo({},Aer,e,t)}function mRe(e){return[Vp(e.getAttribute("minx")),Vp(e.getAttribute("miny")),Vp(e.getAttribute("maxx")),Vp(e.getAttribute("maxy"))]}function ter(e,t){let r=mRe(e),n=[Vp(e.getAttribute("resx")),Vp(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function rer(e,t){let r=mRe(e);if(!(!fn(r[0])||!fn(r[1])||!fn(r[2])||!fn(r[3])))return r}function ner(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function ier(e,t){let r=Bo({},Mer,e,t);if(!fn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,a=r.northBoundLatitude;if(!(!fn(n)||!fn(i)||!fn(o)||!fn(a)))return[n,i,o,a]}function oer(e,t){return Bo({},ber,e,t)}function aer(e,t){return Bo({},wer,e,t)}function ser(e,t){return Bo({},Ser,e,t)}function ler(e,t){return Bo({},Eer,e,t)}function uer(e,t){return Bo({},Ier,e,t)}function cer(e,t){return Bo([],Ter,e,t)}function fer(e,t){let r=xv(e.getAttribute("queryable"));return Bo({queryable:fn(r)?r:!1},yRe,e,t)}function per(e,t){var r=t[t.length-1];let n=Bo({},yRe,e,t);if(!fn(n))return;let i=xv(e.getAttribute("queryable"));fn(i)||(i=r.queryable),n.queryable=fn(i)?i:!1;let o=EP(e.getAttribute("cascaded"));fn(o)||(o=r.cascaded),n.cascaded=o;let a=xv(e.getAttribute("opaque"));fn(a)||(a=r.opaque),n.opaque=fn(a)?a:!1;let c=xv(e.getAttribute("noSubsets"));fn(c)||(c=r.noSubsets),n.noSubsets=fn(c)?c:!1;let d=Vp(e.getAttribute("fixedWidth"));fn(d)||(d=r.fixedWidth),n.fixedWidth=d;let m=Vp(e.getAttribute("fixedHeight"));fn(m)||(m=r.fixedHeight),n.fixedHeight=m;let v=["Style","CRS","AuthorityURL"];for(let I=0,M=v.length;I<M;I++){let L=v[I],R=r[L];if(fn(R)){let P=pRe(n,L,[]);P=P.concat(R),n[L]=P}}let E=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let I=0,M=E.length;I<M;I++){let L=E[I],R=n[L];if(!fn(R)){let P=r[L];n[L]=P}}return n}function der(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:xv(e.getAttribute("multipleValues")),nearestValue:xv(e.getAttribute("nearestValue")),current:xv(e.getAttribute("current")),values:Dn(e)}}function Gp(e,t){return Bo({},Ner,e,t)}function her(e,t){return Bo({},Cer,e,t)}function mer(e,t){return Bo({},Der,e,t)}function ger(e,t){return Bo({},Ler,e,t)}function VH(e,t){return Bo({},Oer,e,t)}function gRe(e,t){var r=Gp(e,t);if(fn(r)){let n=[EP(e.getAttribute("width")),EP(e.getAttribute("height"))];return r.size=n,r}}function ver(e,t){var r=Gp(e,t);if(fn(r))return r.name=e.getAttribute("name"),r}function yer(e,t){var r=Gp(e,t);if(fn(r))return r.type=e.getAttribute("type"),r}function _er(e,t){return Bo({},Per,e,t)}function vRe(e,t){return Bo([],Rer,e,t)}var da=[null,"http://www.opengis.net/wms"],xer=pa(da,{Service:pr(aer),Capability:pr(oer)}),ber=pa(da,{Request:pr(her),Exception:pr(cer),Layer:pr(fer)}),wer=pa(da,{Name:pr(Dn),Title:pr(Dn),Abstract:pr(Dn),KeywordList:pr(vRe),OnlineResource:pr(HH),ContactInformation:pr(ser),Fees:pr(Dn),AccessConstraints:pr(Dn),LayerLimit:pr(UH),MaxWidth:pr(UH),MaxHeight:pr(UH)}),Ser=pa(da,{ContactPersonPrimary:pr(ler),ContactPosition:pr(Dn),ContactAddress:pr(uer),ContactVoiceTelephone:pr(Dn),ContactFacsimileTelephone:pr(Dn),ContactElectronicMailAddress:pr(Dn)}),Eer=pa(da,{ContactPerson:pr(Dn),ContactOrganization:pr(Dn)}),Ier=pa(da,{AddressType:pr(Dn),Address:pr(Dn),City:pr(Dn),StateOrProvince:pr(Dn),PostCode:pr(Dn),Country:pr(Dn)}),Ter=pa(da,{Format:hRe(Dn)}),yRe=pa(da,{Name:pr(Dn),Title:pr(Dn),Abstract:pr(Dn),KeywordList:pr(vRe),CRS:il(Dn),SRS:il(Dn),EX_GeographicBoundingBox:pr(ier),LatLonBoundingBox:pr(rer),BoundingBox:il(ter),Dimension:il(der),Attribution:pr(eer),AuthorityURL:il(ver),Identifier:il(Dn),MetadataURL:il(yer),DataURL:il(Gp),FeatureListURL:il(Gp),Style:il(_er),MinScaleDenominator:pr(h1),MaxScaleDenominator:pr(h1),ScaleHint:pr(ner),Layer:il(per)}),Aer=pa(da,{Title:pr(Dn),OnlineResource:pr(HH),LogoURL:pr(gRe)}),Mer=pa(da,{westBoundLongitude:pr(h1),eastBoundLongitude:pr(h1),southBoundLatitude:pr(h1),northBoundLatitude:pr(h1)}),Cer=pa(da,{GetCapabilities:pr(VH),GetMap:pr(VH),GetFeatureInfo:pr(VH)}),Oer=pa(da,{Format:il(Dn),DCPType:il(mer)}),Der=pa(da,{HTTP:pr(ger)}),Ler=pa(da,{Get:pr(Gp),Post:pr(Gp)}),Per=pa(da,{Name:pr(Dn),Title:pr(Dn),Abstract:pr(Dn),LegendURL:il(gRe),StyleSheetURL:pr(Gp),StyleURL:pr(Gp)}),Ner=pa(da,{Format:pr(Dn),OnlineResource:pr(HH)}),Rer=pa(da,{Keyword:hRe(Dn)}),IP=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new GH(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==QE.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),Bo({version:this.version},xer,t,[])||null}};var AP="wms-base-map-layer",JE="wms-base-map-source",eI="xyz-base-map-layer",MP="xyz-base-map-source";function bRe(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function _Re(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function CP(e){return bo(this,null,function*(){let t=yield xRe.default.get(e);if(t.status===200){let r=new IP().parse(t.data);return console.log("parse",_Re(e.split("?")[0],r)),_Re(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var wRe=(e,t,r)=>{if(!t)return!1;if(IRe(e,r),!e.getSource(JE)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(JE,n);let i=e.getStyle().layers[0].id;e.addLayer({id:AP,type:"raster",source:JE,paint:{}},i)}},SRe=e=>{for(let{id:t}of e.getStyle().layers)(t===AP||t===eI)&&e.setLayoutProperty(t,"visibility","visible")},tI=e=>{SRe(e),e.getLayer(AP)&&e.removeLayer(AP),e.getSource(JE)&&e.removeSource(JE)},ERe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},IRe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},TRe=(e,t,r)=>{if(!t)return!1;if(IRe(e,r),tI(e),!e.getSource(eI)){e.addSource(MP,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:eI,type:"raster",source:MP,paint:{}},n)}},ARe=e=>{SRe(e),e.getLayer(eI)&&e.removeLayer(eI),e.getSource(MP)&&e.removeSource(MP)};var RRe=ee(em(),1);var DP=ee(Le(),1);var rI=ee(Le(),1);var OP=ee(Tt(),1);var MRe=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},ker=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},CRe=e=>{let t=Vt($r);return(0,rI.useEffect)(()=>{if(tr(t)){let r=()=>{MRe(t,et({},e))};return t._loaded?MRe(t,et({},e)):t.once("load",r),()=>{ker(t,et({},e)),t.off("load",r)}}},[t]),rI.default.createElement(rI.default.Fragment,null)};CRe.propTypes={sourceId:OP.default.string.isRequired,fillId:OP.default.string.isRequired,outlineId:OP.default.string.isRequired};var ORe=CRe;var DRe=ORe;var LRe="vkf-map-overlay-source",_c="vkf-map-overlay-fill",qer="vkf-map-overlay-outline",$H=(e,t)=>{let r=e.getSource(LRe);r&&r.setData(t)},PRe=()=>DP.default.createElement(DP.default.Fragment,null,DP.default.createElement(DRe,{sourceId:LRe,fillId:_c,outlineId:qer}));PRe.propTypes={};var NRe=PRe;var jer=e=>bo(void 0,null,function*(){var t;try{let r=yield RRe.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),a=n.getElementsByTagName("TileSet"),c=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:a.length-1,tileSize:c}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),kRe=(e,t,r)=>bo(void 0,null,function*(){let n=e.getId(),i=e.getMetadata(Sr.tmsUrls),o=e.getMetadata(Sr.onlineResources).find(m=>m.type==="WMS").url,a=Array.isArray(i)&&i.length>0,c;if(a){let{maxZoom:m,bounds:v,tileSize:E}=yield jer(i[0]);c={bounds:v,tileSize:E,maxzoom:m,tiles:i.map(I=>`${I}/{z}/{x}/{y}.png`),scheme:"tms"}}else c={tiles:(yield CP(o))[0].urls};t.addSource(n,wr(et({type:"raster"},c),{bounds:e.getMetadata(Sr.bounds)}));let d=t.getLayer(_c)!==void 0?_c:void 0;t.addLayer({id:n,type:"raster",metadata:{[Up.id]:n},source:n,layout:{visibility:r.visibility},paint:{"raster-opacity":r.opacity}},d)});function WH(e,t,r){if(e!==null)for(var n,i,o,a,c,d,m,v=0,E=0,I,M=e.type,L=M==="FeatureCollection",R=M==="Feature",P=L?e.features.length:1,q=0;q<P;q++){m=L?e.features[q].geometry:R?e.geometry:e,I=m?m.type==="GeometryCollection":!1,c=I?m.geometries.length:1;for(var j=0;j<c;j++){var B=0,Z=0;if(a=I?m.geometries[j]:m,a!==null){d=a.coordinates;var re=a.type;switch(v=r&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(t(d,E,q,B,Z)===!1)return!1;E++,B++;break;case"LineString":case"MultiPoint":for(n=0;n<d.length;n++){if(t(d[n],E,q,B,Z)===!1)return!1;E++,re==="MultiPoint"&&B++}re==="LineString"&&B++;break;case"Polygon":case"MultiLineString":for(n=0;n<d.length;n++){for(i=0;i<d[n].length-v;i++){if(t(d[n][i],E,q,B,Z)===!1)return!1;E++}re==="MultiLineString"&&B++,re==="Polygon"&&Z++}re==="Polygon"&&B++;break;case"MultiPolygon":for(n=0;n<d.length;n++){for(Z=0,i=0;i<d[n].length;i++){for(o=0;o<d[n][i].length-v;o++){if(t(d[n][i][o],E,q,B,Z)===!1)return!1;E++}Z++}B++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(WH(a.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function nI(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return WH(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var iI,LP,qRe,ZH=class extends d1{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});gg(this,LP);gg(this,iI,!1);Cl(this,LP,qRe).call(this)}addLayerToMap(r,n={visibility:"visible",opacity:1}){return r.getSource(this.getId())?Promise.reject(`Source with id '${this.getId()}' exists already in map.`):kRe(this,r,n)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.toGeoJSON();o.id=this.getId();let a=[o];i.updateData({add:a})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}toGeoJSON(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return fa.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){r.moveLayer(this.getId(),n!=null?n:_c)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return Ml(this,iI)}setIsMissing(r){jb(this,iI,r)}};iI=new WeakMap,LP=new WeakSet,qRe=function(){let r=this.geometry?nI(this.geometry):void 0;this.metadata[Sr.bounds]=r};var jRe=ZH;var xc=jRe;var xn={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},YH={[xn.LINE]:"line-opacity",[xn.FILL]:"fill-opacity",[xn.OUTLINE]:"outline-opacity"},KH={[xn.LINE]:"stroke-opacity",[xn.FILL]:"fill-opacity",[xn.OUTLINE]:"stroke-opacity"},XH=e=>Object.keys(KH).includes(e),mo={[xn.SYMBOL]:{COLOR:"#0000FF"},[xn.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[xn.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[xn.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},QH={[xn.SYMBOL]:{type:"symbol",layout:{"icon-image":kr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom"},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],mo[xn.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["in","$type","Point"]},[xn.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],mo[xn.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],mo[xn.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],mo[xn.LINE].OPACITY]},filter:["in","$type","LineString"]},[xn.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],mo[xn.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],mo[xn.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],mo[xn.OUTLINE].OPACITY]},filter:["in","$type","Polygon"]},[xn.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],mo[xn.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],mo[xn.FILL].OPACITY]},filter:["in","$type","Polygon"]}};var zRe=(e,t)=>{let r=e,n=r.getId(),i=r.getGeoJSON(),o=r.getType();t.addSource(n,{type:o,data:i});let a=t.getLayer(_c)!==void 0?_c:void 0;for(let c of Object.keys(xn)){let d=xn[c],m=`${n}-${d}`;t.addLayer(wr(et({id:m,source:n,metadata:{[Up.id]:n}},QH[d]),{layout:wr(et({},QH[d].layout),{visibility:"visible"})}),a),e.addMapLayer(m)}};var FRe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],bc,bv,Ha,BRe,URe,VRe,nm,JH=class extends d1{constructor({metadata:r,geometry:n,geoJSON:i}){super({metadata:r,geometry:n});gg(this,Ha);gg(this,bc,{});gg(this,bv,[]);jb(this,bc,i),Cl(this,Ha,BRe).call(this)}addLayerToMap(r){tr(r)&&(zRe(this,r),Cl(this,Ha,URe).call(this,r))}getGeoJSON(){return Ml(this,bc)}setGeoJSON(r){jb(this,bc,r)}removeFeature(r){let n=Ml(this,bc).features.findIndex(i=>i.id==r);if(n<0){console.warn(`Trying to remove a feature with non existing id '${r}'`);return}Ml(this,bc).features.splice(n,1)}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0}getType(){return fa.GEOJSON}addMapLayer(r){tr(r)&&Ml(this,bv).push(r)}getMapLibreLayerId(){return Ml(this,bv).length>0?Ml(this,bv)[0]:null}removeMapLibreLayers(r){if(tr(r))for(let{id:n}of Cl(this,Ha,nm).call(this,r))Cl(this,Ha,VRe).call(this,r,n),r.removeLayer(n)}getOpacity(r){let n=Cl(this,Ha,nm).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:a,type:c}of n){if(!XH(c))continue;let d=YH[c];i=r.getPaintProperty(a,d);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=Cl(this,Ha,nm).call(this,r);if(!(i.length===0||!tr(n)))for(let{id:o,type:a}of i){if(!XH(a))continue;let c=mo[a].OPACITY,d=YH[a],m=KH[a];r.setPaintProperty(o,d,["*",["coalesce",["feature-state",m],["get",m],c],n])}}isVisible(r){let n=Cl(this,Ha,nm).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=Cl(this,Ha,nm).call(this,r);if(!(i.length===0||!tr(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}move(r,n){Cl(this,Ha,nm).call(this,r).forEach(({id:o})=>{r.moveLayer(o,n!=null?n:_c)})}moveToTop(r){this.move(r,null)}};bc=new WeakMap,bv=new WeakMap,Ha=new WeakSet,BRe=function(){Ml(this,bc).features=Ml(this,bc).features.map((n,i)=>wr(et({},n),{id:i+1}));let r=this.geometry?nI(this.geometry):nI(Ml(this,bc));this.metadata[Sr.bounds]=r,this.metadata[Sr.id]=crypto.randomUUID(),this.metadata[Sr.timePublished]=Date.now(),this.metadata[Sr.hasGeoReference]=!0},URe=function(r){for(let{id:n}of Cl(this,Ha,nm).call(this,r))for(let{type:i,handler:o}of FRe)r.on(i,n,o)},VRe=function(r,n){for(let{type:i,handler:o}of FRe)r.off(i,n,o)},nm=function(r){let n=Ml(this,bv).map(i=>r.getLayer(i));return n[0]===void 0?[]:n};var GRe=JH;var Hp=GRe;var HRe=ee(XE(),1);var $Re=e=>Object.values(e).every(t=>t===void 0||Object.entries(t).length===0),e$=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>e$(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=e$(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(Fer(e),t))},zer=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=e$(i,t)}),r},Fer=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0,WRe=i=>{var o=i,{isVisible:e,opacity:t,type:r}=o,n=yn(o,["isVisible","opacity","type"]);return{feature:r===fa.GEOJSON?Ber(n):Uer(n),isVisible:e,opacity:t,type:r}},Ber=({geometry:e,geojson:t,properties:r})=>new Hp({metadata:r,geoJSON:t,geometry:e}),Uer=({geometry:e,properties:t})=>new xc({metadata:t,geometry:e}),ZRe=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(Sr.bounds);r=r===void 0?new HRe.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})},YRe=(e,t)=>{let r;if(e===void 0)r=t;else if(t===void 0)r=e;else{let n=Array.isArray(e),i=Array.isArray(t),o=n?e:[e],a=i?t:[t];r=Array.from(new Set([...o,...a]))}return r},KRe=(e,t)=>{let r=e.isVisible(t),n=e.getOpacity(t),i=e.getType(),o={id:e.getId(),isVisible:r,opacity:n,properties:e.getMetadata()};return i===fa.GEOJSON?Object.assign(o,{geojson:e.getGeoJSON(),type:fa.GEOJSON}):Object.assign(o,{type:fa.HISTORIC_MAP,geometry:e.getGeometry()})},PP=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?zer(r,5):r};function wc(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,a),t}},[n,i]=(0,m1.useState)(r),o=a=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let c=a instanceof Function?a(n):a;window.localStorage.setItem(e,JSON.stringify(c)),i(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,c)}};return(0,m1.useEffect)(()=>{i(r())},[]),(0,m1.useEffect)(()=>{let a=()=>{i(r())};return window.addEventListener("storage",a),window.addEventListener("local-storage",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("local-storage",a)}},[]),[n,o]}var XRe=e=>{(0,m1.useEffect)(()=>{let t="onpagehide"in window.self?"pagehide":"unload";return window.addEventListener(t,e,{capture:!0}),()=>{window.removeEventListener(t,e,{capture:!0})}},[e])};var QRe=e=>e.r!==void 0||e.d!==void 0||e.ri!==void 0||e.u!==void 0,JRe=e=>e.rotation!==void 0||e.direction!==void 0||e.right!==void 0||e.up!==void 0,e4e=e=>{let{c:t,r,d:n,u:i,p:o,z:a}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{rotation:r},a===void 0?null:{zoom:a},o===void 0?null:{position:o},n===void 0?null:{direction:n},i===void 0?null:{up:i})},Ver=e=>{let[t,r,n]=e,i=Math.log2(6378137/n)+6;return{center:[t,r],pitch:50,zoom:i}},Ger=(e,t)=>({bearing:Her(t),legacy3dMapView:!0}),t4e=e=>e*(180/Math.PI),Her=e=>{let t=Math.PI+(Math.atan2(e[0],e[1])-Math.PI/2);return t4e(t)};function NP(e){let{center:t,rotation:r,direction:n,position:i,zoom:o}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{pitch:t4e(r)},o===void 0?null:{zoom:o},i===void 0?null:Ver(i),n===void 0||i===void 0?null:Ger(i,n))}var RP={"2D":0,"3D":1},r4e=e=>{if(e!==void 0)return e===RP["3D"]},n4e=e=>{if(QRe(e)){let o=e4e(e);return NP(o)}let{c:t,be:r,p:n,z:i}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{bearing:r},n===void 0?null:{pitch:n},i===void 0?null:{zoom:i})};var wv=ee(Le(),1);var $er=function(){let e=Vt(gf),t=Vt(Tu),r=Vt($r),n=Vt(rm),i=Vt(vf),o=Vt(li),a=cn(_P),[,c]=wc(t$,{operationalLayers:[],is3dEnabled:!1}),d=(0,wv.useCallback)(()=>{if(r!==void 0){let m=r.hasTerrain(),v={activeBasemapId:e,is3dEnabled:m,operationalLayers:o.map(E=>KRe(E,r)).filter(E=>E!==null),searchOptions:{facets:t,timeExtent:n,timeRange:i}};return v.cameraOptions=PP(r),c(v),v}},[e,r,t,o,n,i]);return XRe(d),(0,wv.useEffect)(()=>{a(()=>d)},[d]),wv.default.createElement(wv.default.Fragment,null)},i4e=$er;var o4e=ee(em(),1);function kP(e){return bo(this,null,function*(){let t=kr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield o4e.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var r$=function(e,t){let r="geometry"in t?t.geometry:void 0,n={};delete t.geometry;for(let i in t)if(Object.hasOwn(t,i))if(i==="time_published"){let o=t[i].split("-")[0];n[i]=o}else n[i]=t[i];return n.id=e,new xc({metadata:n,geometry:r})},a4e=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(r$(e[r]._id,e[r]._source));return t};var s4e=e=>kP(e).then(t=>r$(e,t)).catch(()=>{let t=new xc({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var Ya=ee(Le(),1);var y$=ee(p5e(),1);function Gt(){return Gt=y$.default?y$.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gt.apply(this,arguments)}var R5e=ee(E5e(),1);var b$=ee(N5e(),1);function fI(e,t){return fI=b$.default?b$.default.bind():function(n,i){return n.__proto__=i,n},fI(e,t)}function br(e,t){e.prototype=(0,R5e.default)(t.prototype),e.prototype.constructor=e,fI(e,t)}var B5e=ee(F5e(),1);function Tr(e,t){if(e==null)return{};var r={},n=(0,B5e.default)(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on.apply(this,arguments)}function Ev(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var E$=ee(Le());var hUr=ee(HP()),trr=function(){};function V5e(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[g1(n)]=trr,0)var i}),r}function S$(e,t){return e[t]!==void 0}function g1(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function G5e(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Iv(e,t){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iv(e,t)}function pI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Iv(e,t)}var v1=ee(Le()),Y5e=ee(T$()),K5e=ee(HP());var nrr="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Tv(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=G5e(e),o=Object.keys(t),a=o.map(g1);i||!r.length||(0,K5e.default)(!1);var c=function(m){pI(v,m);function v(){for(var I,M=arguments.length,L=new Array(M),R=0;R<M;R++)L[R]=arguments[R];I=m.call.apply(m,[this].concat(L))||this,I.handlers=Object.create(null),o.forEach(function(q){var j=t[q],B=function(re){if(I.props[j]){var Q;I._notifying=!0;for(var oe=arguments.length,me=new Array(oe>1?oe-1:0),pe=1;pe<oe;pe++)me[pe-1]=arguments[pe];(Q=I.props)[j].apply(Q,[re].concat(me)),I._notifying=!1}I.unmounted||I.setState(function(Ae){var Fe,$e=Ae.values;return{values:on(Object.create(null),$e,(Fe={},Fe[q]=re,Fe))}})};I.handlers[j]=B}),r.length&&(I.attachRef=function(q){I.inner=q});var P=Object.create(null);return o.forEach(function(q){P[q]=I.props[g1(q)]}),I.state={values:P,prevProps:{}},I}var E=v.prototype;return E.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(M,L){var R=L.values,P=L.prevProps,q={values:on(Object.create(null),R),prevProps:{}};return o.forEach(function(j){q.prevProps[j]=M[j],!S$(M,j)&&S$(P,j)&&(q.values[j]=M[g1(j)])}),q},E.componentWillUnmount=function(){this.unmounted=!0},E.render=function(){var M=this,L=this.props,R=L.innerRef,P=Ev(L,["innerRef"]);a.forEach(function(j){delete P[j]});var q={};return o.forEach(function(j){var B=M.props[j];q[j]=B!==void 0?B:M.state.values[j]}),v1.default.createElement(e,on({},P,q,this.handlers,{ref:R||this.attachRef}))},v}(v1.default.Component);(0,Y5e.polyfill)(c),c.displayName="Uncontrolled("+n+")",c.propTypes=on({innerRef:function(){}},V5e(t,n)),r.forEach(function(m){c.prototype[m]=function(){var E;return(E=this.inner)[m].apply(E,arguments)}});var d=c;return v1.default.forwardRef&&(d=v1.default.forwardRef(function(m,v){return v1.default.createElement(c,on({},m,{innerRef:v,__source:{fileName:nrr,lineNumber:128},__self:this}))}),d.propTypes=c.propTypes),d.ControlledComponent=e,d.deferControlTo=function(m,v,E){return v===void 0&&(v={}),Tv(m,on({},t,v),E)},d}var C$=ee(M$());var ike=ee(HP()),$P=ee(Tt());var Wa={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},dI={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var nke={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},hI={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function O$(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function zn(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,ike.default)(!1),r+(t?"-"+t:"")}var an=O$(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=$P.default.string,n.bsClass=e,t}),WP=O$(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(c){n.indexOf(c)===-1&&n.push(c)});var o=$P.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=Gt({},i,{bsStyle:o}),t!==void 0){var a=r.defaultProps||(r.defaultProps={});a.bsStyle=t}return r}),_f=O$(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(c){n.indexOf(c)===-1&&n.push(c)});var o=[];n.forEach(function(c){var d=dI[c];d&&d!==c&&o.push(d),o.push(c)});var a=$P.default.oneOf(o);return a._values=o,r.SIZES=n,r.propTypes=Gt({},i,{bsSize:a}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function Ln(e){var t,r=(t={},t[zn(e)]=!0,t);if(e.bsSize){var n=dI[e.bsSize]||e.bsSize;r[zn(e,n)]=!0}return e.bsStyle&&(r[zn(e,e.bsStyle)]=!0),r}function oke(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function ake(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function ui(e){var t={};return(0,C$.default)(e).forEach(function(r){var n=r[0],i=r[1];ake(n)||(t[n]=i)}),[oke(e),t]}function y1(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,C$.default)(e).forEach(function(i){var o=i[0],a=i[1];!ake(o)&&!r[o]&&(n[o]=a)}),[oke(e),n]}var ha=ee(Le());function urr(e,t,r){var n=0;return ha.default.Children.map(e,function(i){return ha.default.isValidElement(i)?t.call(r,i,n++):i})}function crr(e,t,r){var n=0;ha.default.Children.forEach(e,function(i){ha.default.isValidElement(i)&&t.call(r,i,n++)})}function frr(e){var t=0;return ha.default.Children.forEach(e,function(r){ha.default.isValidElement(r)&&++t}),t}function prr(e,t,r){var n=0,i=[];return ha.default.Children.forEach(e,function(o){ha.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function drr(e,t,r){var n=0,i;return ha.default.Children.forEach(e,function(o){i||ha.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function hrr(e,t,r){var n=0,i=!0;return ha.default.Children.forEach(e,function(o){i&&ha.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function mrr(e,t,r){var n=0,i=!1;return ha.default.Children.forEach(e,function(o){i||ha.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function grr(e){var t=[];return ha.default.Children.forEach(e,function(r){ha.default.isValidElement(r)&&t.push(r)}),t}var Sc={map:urr,forEach:crr,count:frr,find:drr,filter:prr,every:hrr,some:mrr,toArray:grr};var D$=ee(Tt()),mI=ee(Le()),_rr={label:D$.default.string.isRequired,onClick:D$.default.func},xrr={label:"Close"},L$=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,a=i.onClick;return mI.default.createElement("button",{type:"button",className:"close",onClick:a},mI.default.createElement("span",{"aria-hidden":"true"},"\xD7"),mI.default.createElement("span",{className:"sr-only"},o))},t}(mI.default.Component);L$.propTypes=_rr;L$.defaultProps=xrr;var hke=L$;function Gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k$=ee(Le()),$p=ee(Tt()),wke=ee(Ss());function Lrr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];n.apply(this,c),i.apply(this,c)}},null)}var Es=Lrr;var Prr={href:$p.default.string,onClick:$p.default.func,onKeyDown:$p.default.func,disabled:$p.default.bool,role:$p.default.string,tabIndex:$p.default.oneOfType([$p.default.number,$p.default.string]),componentClass:wke.default},Nrr={componentClass:"a"};function bke(e){return!e||e.trim()==="#"}var q$=function(e){br(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gn(Gn(o))),o.handleKeyDown=o.handleKeyDown.bind(Gn(Gn(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,a=o.disabled,c=o.href,d=o.onClick;if((a||bke(c))&&i.preventDefault(),a){i.stopPropagation();return}d&&d(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,a=i.disabled,c=i.onKeyDown,d=Tr(i,["componentClass","disabled","onKeyDown"]);return bke(d.href)&&(d.role=d.role||"button",d.href=d.href||"#"),a&&(d.tabIndex=-1,d.style=Gt({pointerEvents:"none"},d.style)),k$.default.createElement(o,Gt({},d,{onClick:this.handleClick,onKeyDown:Es(this.handleKeyDown,c)}))},t}(k$.default.Component);q$.propTypes=Prr;q$.defaultProps=Nrr;var sN=q$;var Ske=ee(dke());var j$=ee(In()),lN=ee(Le()),Av=ee(Tt()),Eke=ee(Ss());var Rrr={active:Av.default.bool,disabled:Av.default.bool,block:Av.default.bool,onClick:Av.default.func,componentClass:Eke.default,href:Av.default.string,type:Av.default.oneOf(["button","reset","submit"])},krr={active:!1,block:!1,disabled:!1},z$=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return lN.default.createElement(sN,Gt({},i,{className:(0,j$.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var a=i.componentClass,c=Tr(i,["componentClass"]),d=a||"button";return lN.default.createElement(d,Gt({},c,{type:c.type||"button",className:o}))},r.render=function(){var i,o=this.props,a=o.active,c=o.block,d=o.className,m=Tr(o,["active","block","className"]),v=ui(m),E=v[0],I=v[1],M=Gt({},Ln(E),(i={active:a},i[zn(E,"block")]=c,i)),L=(0,j$.default)(d,M);return I.href?this.renderAnchor(I,L):this.renderButton(I,L)},t}(lN.default.Component);z$.propTypes=Rrr;z$.defaultProps=krr;var Ec=an("btn",_f([Wa.LARGE,Wa.SMALL,Wa.XSMALL],WP((0,Ske.default)(nke).concat([hI.DEFAULT,hI.PRIMARY,hI.LINK]),hI.DEFAULT,z$)));var Ake=ee(In()),F$=ee(Le()),Mke=ee(Tt());var Brr={glyph:Mke.default.string.isRequired},Cke=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.glyph,c=o.className,d=Tr(o,["glyph","className"]),m=ui(d),v=m[0],E=m[1],I=Gt({},Ln(v),(i={},i[zn(v,a)]=!0,i));return F$.default.createElement("span",Gt({},E,{className:(0,Ake.default)(c,I)}))},t}(F$.default.Component);Cke.propTypes=Brr;var Wp=an("glyphicon",Cke);var Dke=ee(In()),B$=ee(Le()),cN=ee(Tt()),x8r=ee(Mv());var Vrr={htmlFor:cN.default.string,srOnly:cN.default.bool},Grr={srOnly:!1},Hrr={$bs_formGroup:cN.default.object},fN=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,a=this.props,c=a.htmlFor,d=c===void 0?o:c,m=a.srOnly,v=a.className,E=Tr(a,["htmlFor","srOnly","className"]),I=ui(E),M=I[0],L=I[1],R=Gt({},Ln(M),{"sr-only":m});return B$.default.createElement("label",Gt({},L,{htmlFor:d,className:(0,Dke.default)(v,R)}))},t}(B$.default.Component);fN.propTypes=Vrr;fN.defaultProps=Grr;fN.contextTypes=Hrr;var U$=an("control-label",fN);var w3e=ee(M$());function rW(e,t){var r=t.propTypes,n={},i={};return(0,w3e.default)(e).forEach(function(o){var a=o[0],c=o[1];r[a]?n[a]=c:i[a]=c}),[n,i]}var S3e=ee(In()),RN=ee(Le()),Au=ee(Tt()),S1=ee(t3e()),NN,yir={in:Au.default.bool,mountOnEnter:Au.default.bool,unmountOnExit:Au.default.bool,appear:Au.default.bool,timeout:Au.default.number,onEnter:Au.default.func,onEntering:Au.default.func,onEntered:Au.default.func,onExit:Au.default.func,onExiting:Au.default.func,onExited:Au.default.func},_ir={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},xir=(NN={},NN[S1.ENTERING]="in",NN[S1.ENTERED]="in",NN),nW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,a=i.children,c=Tr(i,["className","children"]);return RN.default.createElement(S1.default,c,function(d,m){return RN.default.cloneElement(a,Gt({},m,{className:(0,S3e.default)("fade",o,a.props.className,xir[d])}))})},t}(RN.default.Component);nW.propTypes=yir;nW.defaultProps=_ir;var om=nW;var C3e=ee(In()),lW=ee(Le()),II=ee(Tt()),O3e=ee(Ss()),Y8r=ee(Mv());var iW=ee(In()),EI=ee(Le()),E3e=ee(Tt());var bir={bsRole:"feedback"},wir={$bs_formGroup:E3e.default.object},oW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null;}},r.renderDefaultFeedback=function(i,o,a,c){var d=this.getGlyph(i&&i.validationState);return d?EI.default.createElement(Wp,Gt({},c,{glyph:d,className:(0,iW.default)(o,a)})):null},r.render=function(){var i=this.props,o=i.className,a=i.children,c=Tr(i,["className","children"]),d=ui(c),m=d[0],v=d[1],E=Ln(m);if(!a)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,E,v);var I=EI.default.Children.only(a);return EI.default.cloneElement(I,Gt({},v,{className:(0,iW.default)(I.props.className,o,E)}))},t}(EI.default.Component);oW.defaultProps=bir;oW.contextTypes=wir;var I3e=an("form-control-feedback",oW);var T3e=ee(In()),aW=ee(Le()),A3e=ee(Ss());var Sir={componentClass:A3e.default},Eir={componentClass:"p"},sW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Tr(i,["componentClass","className"]),d=ui(c),m=d[0],v=d[1],E=Ln(m);return aW.default.createElement(o,Gt({},v,{className:(0,T3e.default)(a,E)}))},t}(aW.default.Component);sW.propTypes=Sir;sW.defaultProps=Eir;var M3e=an("form-control-static",sW);var Iir={componentClass:O3e.default,type:II.default.string,id:II.default.string,inputRef:II.default.func},Tir={componentClass:"input"},Air={$bs_formGroup:II.default.object},E1=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,a=this.props,c=a.componentClass,d=a.type,m=a.id,v=m===void 0?o:m,E=a.inputRef,I=a.className,M=a.bsSize,L=Tr(a,["componentClass","type","id","inputRef","className","bsSize"]),R=ui(L),P=R[0],q=R[1],j;if(d!=="file"&&(j=Ln(P)),M){var B=dI[M]||M;j[zn({bsClass:"input"},B)]=!0}return lW.default.createElement(c,Gt({},q,{type:d,id:v,ref:E,className:(0,C3e.default)(I,j)}))},t}(lW.default.Component);E1.propTypes=Iir;E1.defaultProps=Tir;E1.contextTypes=Air;E1.Feedback=I3e;E1.Static=M3e;var uW=an("form-control",_f([Wa.SMALL,Wa.LARGE],E1));var D3e=ee(In()),cW=ee(Le()),kN=ee(Tt());var Mir={controlId:kN.default.string,validationState:kN.default.oneOf(["success","warning","error",null])},Cir={$bs_formGroup:kN.default.object.isRequired},fW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,a=i.validationState;return{$bs_formGroup:{controlId:o,validationState:a}}},r.hasFeedback=function(i){var o=this;return Sc.some(i,function(a){return a.props.bsRole==="feedback"||a.props.children&&o.hasFeedback(a.props.children)})},r.render=function(){var i=this.props,o=i.validationState,a=i.className,c=i.children,d=Tr(i,["validationState","className","children"]),m=y1(d,["controlId"]),v=m[0],E=m[1],I=Gt({},Ln(v),{"has-feedback":this.hasFeedback(c)});return o&&(I["has-"+o]=!0),cW.default.createElement("div",Gt({},E,{className:(0,D3e.default)(a,I)}),c)},t}(cW.default.Component);fW.propTypes=Mir;fW.childContextTypes=Cir;var pW=an("form-group",_f([Wa.LARGE,Wa.SMALL],fW));var qW=ee(In()),jW=ee(G3e()),rje=ee(Dv()),nje=ee(xf()),zW=ee(mW()),A1=ee(Le()),Vo=ee(Tt()),ije=ee(Ji()),M1=ee($qe()),oje=ee(_W()),aje=ee(Ss());var Wqe=ee(In()),OW=ee(Le()),Zqe=ee(Ss());var Uar={componentClass:Zqe.default},Var={componentClass:"div"},DW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Tr(i,["componentClass","className"]),d=ui(c),m=d[0],v=d[1],E=Ln(m);return OW.default.createElement(o,Gt({},v,{className:(0,Wqe.default)(a,E)}))},t}(OW.default.Component);DW.propTypes=Uar;DW.defaultProps=Var;var Rv=an("modal-body",DW);var LW=ee(In()),DI=ee(Le()),Yqe=ee(Tt());var Gar={dialogClassName:Yqe.default.string},Kqe=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.dialogClassName,c=o.className,d=o.style,m=o.children,v=o.onMouseDownDialog,E=Tr(o,["dialogClassName","className","style","children","onMouseDownDialog"]),I=ui(E),M=I[0],L=I[1],R=zn(M),P=Gt({display:"block"},d),q=Gt({},Ln(M),(i={},i[R]=!1,i[zn(M,"dialog")]=!0,i));return DI.default.createElement("div",Gt({},L,{tabIndex:"-1",role:"dialog",style:P,className:(0,LW.default)(c,R)}),DI.default.createElement("div",{className:(0,LW.default)(a,q),onMouseDown:v},DI.default.createElement("div",{className:zn(M,"content"),role:"document"},m)))},t}(DI.default.Component);Kqe.propTypes=Gar;var nR=an("modal",_f([Wa.LARGE,Wa.SMALL],Kqe));var Xqe=ee(In()),PW=ee(Le()),Qqe=ee(Ss());var Har={componentClass:Qqe.default},$ar={componentClass:"div"},NW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Tr(i,["componentClass","className"]),d=ui(c),m=d[0],v=d[1],E=Ln(m);return PW.default.createElement(o,Gt({},v,{className:(0,Xqe.default)(a,E)}))},t}(PW.default.Component);NW.propTypes=Har;NW.defaultProps=$ar;var kv=an("modal-footer",NW);var Jqe=ee(In()),T1=ee(Tt()),iR=ee(Le());var War={closeLabel:T1.default.string,closeButton:T1.default.bool,onHide:T1.default.func},Zar={closeLabel:"Close",closeButton:!1},Yar={$bs_modal:T1.default.shape({onHide:T1.default.func})},oR=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,a=i.closeButton,c=i.onHide,d=i.className,m=i.children,v=Tr(i,["closeLabel","closeButton","onHide","className","children"]),E=this.context.$bs_modal,I=ui(v),M=I[0],L=I[1],R=Ln(M);return iR.default.createElement("div",Gt({},L,{className:(0,Jqe.default)(d,R)}),a&&iR.default.createElement(hke,{label:o,onClick:Es(E&&E.onHide,c)}),m)},t}(iR.default.Component);oR.propTypes=War;oR.defaultProps=Zar;oR.contextTypes=Yar;var qv=an("modal-header",oR);var eje=ee(In()),RW=ee(Le()),tje=ee(Ss());var Kar={componentClass:tje.default},Xar={componentClass:"h4"},kW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Tr(i,["componentClass","className"]),d=ui(c),m=d[0],v=d[1],E=Ln(m);return RW.default.createElement(o,Gt({},v,{className:(0,eje.default)(a,E)}))},t}(RW.default.Component);kW.propTypes=Kar;kW.defaultProps=Xar;var LI=an("modal-title",kW);var Qar=Gt({},M1.default.propTypes,nR.propTypes,{backdrop:Vo.default.oneOf(["static",!0,!1]),backdropClassName:Vo.default.string,keyboard:Vo.default.bool,animation:Vo.default.bool,dialogComponentClass:aje.default,autoFocus:Vo.default.bool,enforceFocus:Vo.default.bool,restoreFocus:Vo.default.bool,show:Vo.default.bool,onHide:Vo.default.func,onEnter:Vo.default.func,onEntering:Vo.default.func,onEntered:Vo.default.func,onExit:Vo.default.func,onExiting:Vo.default.func,onExited:Vo.default.func,container:M1.default.propTypes.container}),Jar=Gt({},M1.default.defaultProps,{animation:!0,dialogComponentClass:nR}),esr={$bs_modal:Vo.default.shape({onHide:Vo.default.func})};function tsr(e){return A1.default.createElement(om,Gt({},e,{timeout:zl.TRANSITION_DURATION}))}function rsr(e){return A1.default.createElement(om,Gt({},e,{timeout:zl.BACKDROP_TRANSITION_DURATION}))}var zl=function(e){br(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(a){var c=o._modal.getDialogElement();o._waitingForMouseUp&&a.target===c&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(Gn(Gn(o))),o.handleExited=o.handleExited.bind(Gn(Gn(o))),o.handleWindowResize=o.handleWindowResize.bind(Gn(Gn(o))),o.handleDialogClick=o.handleDialogClick.bind(Gn(Gn(o))),o.setModalRef=o.setModalRef.bind(Gn(Gn(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){jW.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){jW.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(nje.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,a=(0,rje.default)(i),c=(0,oje.default)(ije.default.findDOMNode(this.props.container||a.body)),d=o>a.documentElement.clientHeight;this.setState({style:{paddingRight:c&&!d?(0,zW.default)():void 0,paddingLeft:!c&&d?(0,zW.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,a=i.backdropClassName,c=i.animation,d=i.show,m=i.dialogComponentClass,v=i.className,E=i.style,I=i.children,M=i.onEntering,L=i.onExited,R=Tr(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),P=rW(R,M1.default),q=P[0],j=P[1],B=d&&!c&&"in";return A1.default.createElement(M1.default,Gt({},q,{ref:this.setModalRef,show:d,containerClassName:zn(R,"open"),transition:c?tsr:void 0,backdrop:o,backdropTransition:c?rsr:void 0,backdropClassName:(0,qW.default)(zn(R,"backdrop"),a,B),onEntering:Es(M,this.handleEntering),onExited:Es(L,this.handleExited),onMouseUp:this.handleMouseUp}),A1.default.createElement(m,Gt({},j,{style:Gt({},this.state.style,E),className:(0,qW.default)(v,B),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),I))},t}(A1.default.Component);zl.propTypes=Qar;zl.defaultProps=Jar;zl.childContextTypes=esr;zl.Body=Rv;zl.Header=qv;zl.Title=LI;zl.Footer=kv;zl.Dialog=nR;zl.TRANSITION_DURATION=300;zl.BACKDROP_TRANSITION_DURATION=150;var Za=an("modal",_f([Wa.LARGE,Wa.SMALL],zl));var sje=ee(In()),PI=ee(c3e()),NI=ee(Le()),Go=ee(Tt()),lje=ee(Ji()),uje=ee(Tke()),a9r=ee(Mv());var nsr={activeKey:Go.default.any,activeHref:Go.default.string,stacked:Go.default.bool,justified:(0,uje.default)(Go.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:Go.default.func,role:Go.default.string,navbar:Go.default.bool,pullRight:Go.default.bool,pullLeft:Go.default.bool},isr={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},osr={$bs_navbar:Go.default.shape({bsClass:Go.default.string,onSelect:Go.default.func}),$bs_tabContainer:Go.default.shape({activeKey:Go.default.any,onSelect:Go.default.func.isRequired,getTabId:Go.default.func.isRequired,getPaneId:Go.default.func.isRequired})},aR=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,a=this.getActiveProps(),c=a.activeKey,d=a.activeHref,m=Sc.find(o,function(L){return i.isActive(L,c,d)}),v=Sc.toArray(o),E=v.indexOf(m),I=lje.default.findDOMNode(this).children,M=I&&I[E];!M||!M.firstChild||M.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,a=this.props.children,c=Sc.filter(a,function(R){return R.props.eventKey!=null&&!R.props.disabled}),d=this.getActiveProps(),m=d.activeKey,v=d.activeHref,E=Sc.find(a,function(R){return o.isActive(R,m,v)}),I=c.indexOf(E);if(I===-1)return c[0];var M=I+i,L=c.length;return M>=L?M=0:M<0&&(M=L-1),c[M]},r.getTabProps=function(i,o,a,c,d){var m=this;if(!o&&a!=="tablist")return null;var v=i.props,E=v.id,I=v["aria-controls"],M=v.eventKey,L=v.role,R=v.onKeyDown,P=v.tabIndex;return o&&(E=o.getTabId(M),I=o.getPaneId(M)),a==="tablist"&&(L=L||"tab",R=Es(function(q){return m.handleTabKeyDown(d,q)},R),P=c?P:-1),{id:E,role:L,onKeyDown:R,"aria-controls":I,tabIndex:P}},r.handleTabKeyDown=function(i,o){var a;switch(o.keyCode){case PI.default.codes.left:case PI.default.codes.up:a=this.getNextActiveChild(-1);break;case PI.default.codes.right:case PI.default.codes.down:a=this.getNextActiveChild(1);break;default:return;}o.preventDefault(),i&&a&&a.props.eventKey!=null&&i(a.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,a){var c=i.props;return c.active||o!=null&&c.eventKey===o||a&&c.href===a?!0:c.active},r.render=function(){var i,o=this,a=this.props,c=a.stacked,d=a.justified,m=a.onSelect,v=a.role,E=a.navbar,I=a.pullRight,M=a.pullLeft,L=a.className,R=a.children,P=Tr(a,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),q=this.context.$bs_tabContainer,j=v||(q?"tablist":null),B=this.getActiveProps(),Z=B.activeKey,re=B.activeHref;delete P.activeKey,delete P.activeHref;var Q=ui(P),oe=Q[0],me=Q[1],pe=Gt({},Ln(oe),(i={},i[zn(oe,"stacked")]=c,i[zn(oe,"justified")]=d,i)),Ae=E!=null?E:this.context.$bs_navbar,Fe,$e;if(Ae){var Ue=this.context.$bs_navbar||{bsClass:"navbar"};pe[zn(Ue,"nav")]=!0,$e=zn(Ue,"right"),Fe=zn(Ue,"left")}else $e="pull-right",Fe="pull-left";return pe[$e]=I,pe[Fe]=M,NI.default.createElement("ul",Gt({},me,{role:j,className:(0,sje.default)(L,pe)}),Sc.map(R,function(Xe){var Ye=o.isActive(Xe,Z,re),Re=Es(Xe.props.onSelect,m,Ae&&Ae.onSelect,q&&q.onSelect);return(0,NI.cloneElement)(Xe,Gt({},o.getTabProps(Xe,q,j,Ye,Re),{active:Ye,activeKey:Z,activeHref:re,onSelect:Re}))}))},t}(NI.default.Component);aR.propTypes=nsr;aR.defaultProps=isr;aR.contextTypes=osr;var cje=an("nav",WP(["tabs","pills"],aR));var fje=ee(In()),sR=ee(Le()),um=ee(Tt());var asr={active:um.default.bool,disabled:um.default.bool,role:um.default.string,href:um.default.string,onClick:um.default.func,onSelect:um.default.func,eventKey:um.default.any},ssr={active:!1,disabled:!1},FW=function(e){br(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gn(Gn(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,a=i.disabled,c=i.onClick,d=i.className,m=i.style,v=Tr(i,["active","disabled","onClick","className","style"]);return delete v.onSelect,delete v.eventKey,delete v.activeKey,delete v.activeHref,v.role?v.role==="tab"&&(v["aria-selected"]=o):v.href==="#"&&(v.role="button"),sR.default.createElement("li",{role:"presentation",className:(0,fje.default)(d,{active:o,disabled:a}),style:m},sR.default.createElement(sN,Gt({},v,{disabled:a,onClick:Es(c,this.handleClick)})))},t}(sR.default.Component);FW.propTypes=asr;FW.defaultProps=ssr;var pje=FW;var Bje=ee(In()),qI=ee(Le()),Fl=ee(Tt()),WW=ee(Fje()),Uje=ee(Ss());var ulr=Gt({},WW.default.propTypes,{show:Fl.default.bool,rootClose:Fl.default.bool,onHide:Fl.default.func,animation:Fl.default.oneOfType([Fl.default.bool,Uje.default]),onEnter:Fl.default.func,onEntering:Fl.default.func,onEntered:Fl.default.func,onExit:Fl.default.func,onExiting:Fl.default.func,onExited:Fl.default.func,placement:Fl.default.oneOf(["top","right","bottom","left"])}),clr={animation:om,rootClose:!1,show:!1,placement:"right"},ZW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,a=i.children,c=Tr(i,["animation","children"]),d=o===!0?om:o||null,m;return d?m=a:m=(0,qI.cloneElement)(a,{className:(0,Bje.default)(a.props.className,"in")}),qI.default.createElement(WW.default,Gt({},c,{transition:d}),m)},t}(qI.default.Component);ZW.propTypes=ulr;ZW.defaultProps=clr;var YW=ZW;var KW=ee(In()),D1=ee(Le()),L1=ee(Tt()),M9r=ee(Mv());var flr={inline:L1.default.bool,disabled:L1.default.bool,title:L1.default.string,validationState:L1.default.oneOf(["success","warning","error",null]),inputRef:L1.default.func},plr={inline:!1,disabled:!1,title:""},XW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,a=i.disabled,c=i.validationState,d=i.inputRef,m=i.className,v=i.style,E=i.title,I=i.children,M=Tr(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),L=ui(M),R=L[0],P=L[1],q=D1.default.createElement("input",Gt({},P,{ref:d,type:"radio",disabled:a}));if(o){var j,B=(j={},j[zn(R,"inline")]=!0,j.disabled=a,j);return D1.default.createElement("label",{className:(0,KW.default)(m,B),style:v,title:E},q,I)}var Z=Gt({},Ln(R),{disabled:a});return c&&(Z["has-"+c]=!0),D1.default.createElement("div",{className:(0,KW.default)(m,Z),style:v},D1.default.createElement("label",{title:E},q,I))},t}(D1.default.Component);XW.propTypes=flr;XW.defaultProps=plr;var QW=an("radio",XW);var rZ=ee(Le()),IR=ee(Tt());var yR=ee(Le()),Mu=ee(Tt());var dlr="tab",hlr="pane",mlr=Mu.default.oneOfType([Mu.default.string,Mu.default.number]),glr={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=mlr.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Mu.default.func,onSelect:Mu.default.func,activeKey:Mu.default.any},vlr={$bs_tabContainer:Mu.default.shape({activeKey:Mu.default.any,onSelect:Mu.default.func.isRequired,getTabId:Mu.default.func.isRequired,getPaneId:Mu.default.func.isRequired})},JW=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,a=i.onSelect,c=i.generateChildId,d=i.id,m=c||function(v,E){return d?d+"-"+E+"-"+v:null};return{$bs_tabContainer:{activeKey:o,onSelect:a,getTabId:function(E){return m(E,dlr)},getPaneId:function(E){return m(E,hlr)}}}},r.render=function(){var i=this.props,o=i.children,a=Tr(i,["children"]);return delete a.generateChildId,delete a.onSelect,delete a.activeKey,yR.default.cloneElement(yR.default.Children.only(o),a)},t}(yR.default.Component);JW.propTypes=glr;JW.childContextTypes=vlr;var _R=Tv(JW,{activeKey:"onSelect"});var Vje=ee(In()),eZ=ee(Le()),ga=ee(Tt()),xR=ee(Ss());var ylr={componentClass:xR.default,animation:ga.default.oneOfType([ga.default.bool,xR.default]),mountOnEnter:ga.default.bool,unmountOnExit:ga.default.bool},_lr={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},xlr={$bs_tabContainer:ga.default.shape({activeKey:ga.default.any})},blr={$bs_tabContent:ga.default.shape({bsClass:ga.default.string,animation:ga.default.oneOfType([ga.default.bool,xR.default]),activeKey:ga.default.any,mountOnEnter:ga.default.bool,unmountOnExit:ga.default.bool,onPaneEnter:ga.default.func.isRequired,onPaneExited:ga.default.func.isRequired,exiting:ga.default.bool.isRequired})},jI=function(e){br(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(Gn(Gn(o))),o.handlePaneExited=o.handlePaneExited.bind(Gn(Gn(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,a=i.animation,c=i.mountOnEnter,d=i.unmountOnExit,m=this.state.activeKey,v=this.getContainerActiveKey(),E=m!=null?m:v,I=m!=null&&m!==v;return{$bs_tabContent:{bsClass:o,animation:a,activeKey:E,mountOnEnter:c,unmountOnExit:d,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:I}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var a=o.activeChild;return a!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Tr(i,["componentClass","className"]),d=y1(c,["animation","mountOnEnter","unmountOnExit"]),m=d[0],v=d[1];return eZ.default.createElement(o,Gt({},v,{className:(0,Vje.default)(a,zn(m,"content"))}))},t}(eZ.default.Component);jI.propTypes=ylr;jI.defaultProps=_lr;jI.contextTypes=xlr;jI.childContextTypes=blr;var bR=an("tab",jI);var Gje=ee(In()),wR=ee(Le()),Qn=ee(Tt()),tZ=ee(Ss()),$9r=ee(Mv());var wlr={eventKey:Qn.default.any,animation:Qn.default.oneOfType([Qn.default.bool,tZ.default]),id:Qn.default.string,"aria-labelledby":Qn.default.string,bsClass:Qn.default.string,onEnter:Qn.default.func,onEntering:Qn.default.func,onEntered:Qn.default.func,onExit:Qn.default.func,onExiting:Qn.default.func,onExited:Qn.default.func,mountOnEnter:Qn.default.bool,unmountOnExit:Qn.default.bool},Slr={$bs_tabContainer:Qn.default.shape({getTabId:Qn.default.func,getPaneId:Qn.default.func}),$bs_tabContent:Qn.default.shape({bsClass:Qn.default.string,animation:Qn.default.oneOfType([Qn.default.bool,tZ.default]),activeKey:Qn.default.any,mountOnEnter:Qn.default.bool,unmountOnExit:Qn.default.bool,onPaneEnter:Qn.default.func.isRequired,onPaneExited:Qn.default.func.isRequired,exiting:Qn.default.bool.isRequired})},Elr={$bs_tabContainer:Qn.default.oneOf([null])},SR=function(e){br(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(Gn(Gn(o))),o.handleExited=o.handleExited.bind(Gn(Gn(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,a=i.className,c=i.onEnter,d=i.onEntering,m=i.onEntered,v=i.onExit,E=i.onExiting,I=i.onExited,M=i.mountOnEnter,L=i.unmountOnExit,R=Tr(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),P=this.context,q=P.$bs_tabContent,j=P.$bs_tabContainer,B=y1(R,["animation"]),Z=B[0],re=B[1],Q=this.isActive(),oe=this.getAnimation(),me=M!=null?M:q&&q.mountOnEnter,pe=L!=null?L:q&&q.unmountOnExit;if(!Q&&!oe&&pe)return null;var Ae=oe===!0?om:oe||null;q&&(Z.bsClass=zn(q,"pane"));var Fe=Gt({},Ln(Z),{active:Q});j&&(re.id=j.getPaneId(o),re["aria-labelledby"]=j.getTabId(o));var $e=wR.default.createElement("div",Gt({},re,{role:"tabpanel","aria-hidden":!Q,className:(0,Gje.default)(a,Fe)}));if(Ae){var Ue=q&&q.exiting;return wR.default.createElement(Ae,{in:Q&&!Ue,onEnter:Es(this.handleEnter,c),onEntering:d,onEntered:m,onExit:v,onExiting:E,onExited:Es(this.handleExited,I),mountOnEnter:me,unmountOnExit:pe},$e)}return $e},t}(wR.default.Component);SR.propTypes=wlr;SR.contextTypes=Slr;SR.childContextTypes=Elr;var ER=an("tab-pane",SR);var Ilr=Gt({},ER.propTypes,{disabled:IR.default.bool,title:IR.default.node,tabClassName:IR.default.string}),zI=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=Gt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,rZ.default.createElement(ER,i)},t}(rZ.default.Component);zI.propTypes=Ilr;zI.Container=_R;zI.Content=bR;zI.Pane=ER;var TR=zI;var zv=ee(Le()),Ic=ee(Tt()),Hje=ee(J$());var $je=ee(Ss());var Tlr=_R.ControlledComponent,Alr={activeKey:Ic.default.any,bsStyle:Ic.default.oneOf(["tabs","pills"]),animation:Ic.default.oneOfType([Ic.default.bool,$je.default]),id:(0,Hje.default)(Ic.default.oneOfType([Ic.default.string,Ic.default.number])),onSelect:Ic.default.func,mountOnEnter:Ic.default.bool,unmountOnExit:Ic.default.bool},Mlr={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function Clr(e){var t;return Sc.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var AR=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,a=o.title,c=o.eventKey,d=o.disabled,m=o.tabClassName;return a==null?null:zv.default.createElement(pje,{eventKey:c,disabled:d,className:m},a)},r.render=function(){var i=this.props,o=i.id,a=i.onSelect,c=i.animation,d=i.mountOnEnter,m=i.unmountOnExit,v=i.bsClass,E=i.className,I=i.style,M=i.children,L=i.activeKey,R=L===void 0?Clr(M):L,P=Tr(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return zv.default.createElement(Tlr,{id:o,activeKey:R,onSelect:a,className:E,style:I},zv.default.createElement("div",null,zv.default.createElement(cje,Gt({},P,{role:"tablist"}),Sc.map(M,this.renderTab)),zv.default.createElement(bR,{bsClass:v,animation:c,mountOnEnter:d,unmountOnExit:m},M)))},t}(zv.default.Component);AR.propTypes=Alr;AR.defaultProps=Mlr;an("tab",AR);var nZ=Tv(AR,{activeKey:"onSelect"});var Wje=ee(In()),FI=ee(Le()),va=ee(Tt()),Zje=ee(J$());var Olr={id:(0,Zje.default)(va.default.oneOfType([va.default.string,va.default.number])),placement:va.default.oneOf(["top","right","bottom","left"]),positionTop:va.default.oneOfType([va.default.number,va.default.string]),positionLeft:va.default.oneOfType([va.default.number,va.default.string]),arrowOffsetTop:va.default.oneOfType([va.default.number,va.default.string]),arrowOffsetLeft:va.default.oneOfType([va.default.number,va.default.string])},Dlr={placement:"right"},iZ=function(e){br(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.placement,c=o.positionTop,d=o.positionLeft,m=o.arrowOffsetTop,v=o.arrowOffsetLeft,E=o.className,I=o.style,M=o.children,L=Tr(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),R=ui(L),P=R[0],q=R[1],j=Gt({},Ln(P),(i={},i[a]=!0,i)),B=Gt({top:c,left:d},I),Z={top:m,left:v};return FI.default.createElement("div",Gt({},q,{role:"tooltip",className:(0,Wje.default)(E,j),style:B}),FI.default.createElement("div",{className:zn(P,"arrow"),style:Z}),FI.default.createElement("div",{className:zn(P,"inner")},M))},t}(FI.default.Component);iZ.propTypes=Olr;iZ.defaultProps=Dlr;var oZ=an("tooltip",iZ);var BI=ee(Tt(),1);var Jn=ee(Le(),1);var aZ=ee(Tt(),1);var Yje=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,Jn.useState)(""),[o,a]=(0,Jn.useState)(!1),[c,d]=(0,Jn.useState)([]),[m,v]=(0,Jn.useState)(null),E=cn(Qs),I=(0,Jn.useRef)(),M=(0,Jn.useRef)(),L=re=>{d([]),v(null),E({id:"dialog-add-wms",type:"danger",text:re})},R=()=>{t()},P=()=>{r(m),R()},q=()=>bo(void 0,null,function*(){if(!bRe(n)){a(!0);return}try{let re=yield CP(n);re.length!==0&&(d(re),v(re[0]))}catch(re){L(Ve("dialog.add-wms.error.invalid-url"))}}),j=re=>{i(re.target.value)},B=re=>{re.code==="Enter"&&q()},Z=re=>{let Q=c.find(oe=>oe.id===re.target.value);v(Q)};return Jn.default.createElement("div",null,Jn.default.createElement(Za,{className:"vkf-dialog-addwms",show:!0,onHide:R},Jn.default.createElement(Za.Header,null,Jn.default.createElement(Za.Title,null,Ve("control-basemapselector-addwms-title"))),Jn.default.createElement(Za.Body,null,Jn.default.createElement("div",{className:"dialog-content"},Jn.default.createElement("div",{className:ur("form-group","set-url",o?"has-warning":"")},Jn.default.createElement("label",{htmlFor:I.current},Ve("control-basemapselector-addwms-input-label")),Jn.default.createElement("div",{className:"form-group-capabilities"},Jn.default.createElement("input",{type:"url",className:"form-control",ref:I,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:j,onKeyDown:B}),Jn.default.createElement("button",{type:"submit",className:"btn",onClick:q},Ve("control-basemapselector-addwms-btn-load-capabilities"))),Jn.default.createElement("p",{className:"help-block"},Ve("control-basemapselector-addwms-input-description"))),c.length>0&&m!==null&&Jn.default.createElement("div",{className:ur("form-group","set-layer")},Jn.default.createElement("label",{htmlFor:M.current},Ve("control-basemapselector-addwms-select-label")),Jn.default.createElement("select",{ref:M,value:m.id,onChange:Z,className:"form-control"},c.map(re=>Jn.default.createElement("option",{key:re.id,value:re.id},re.label))),Jn.default.createElement("p",{className:"help-block"},Ve("control-basemapselector-addwms-select-description"))))),Jn.default.createElement(Za.Footer,null,Jn.default.createElement(Ec,{onClick:R},Ve("control-basemapselector-addwms-btn-canel")),Jn.default.createElement(Ec,{onClick:P,bsStyle:"primary",className:ur(m===null?"disabled":"")},Ve("control-basemapselector-addwms-btn-submit")))))};Yje.propTypes={onClose:aZ.default.func.isRequired,onSubmit:aZ.default.func.isRequired};var Kje=Yje;var Fv="vkf-custom-basemaps",Xje=e=>{let{map:t}=e,[r,n]=Fi(gf),[i,o]=wc(Fv,[]),a=kr.getBaseMaps(),c=cn(Qs),[d,m]=(0,Ya.useState)(!1),v=L=>{n(L.id)},E=()=>{m(!0)},I=L=>{L.type==="wms"&&tI(t,L),r===L.id&&n(a[0].id),o(R=>R.filter(P=>P.id!==L.id))},M=L=>{if([...a,...i].find(P=>P.id===L.id||P.label===L.label))c({id:"basemapSelector",type:"danger",text:Ve("control-basemapselector-error-initializiation")});else{let P=wr(et({},L),{allowDeletion:!0});o(q=>[...q,P])}};return Ya.default.createElement(Ya.default.Fragment,null,r!==void 0&&Ya.default.createElement(Ya.default.Fragment,null,Ya.default.createElement("h2",null,Ve("control-basemapselector-label"),":"),Ya.default.createElement("ul",{className:"wms-entries"},[...a,...i].map(L=>Ya.default.createElement("li",{key:L.id,className:"basemap-selector-entry"},Ya.default.createElement(QW,{onChange:()=>v(L),name:L.id,value:L.id,checked:r===L.id},L.label),L.allowDeletion&&Ya.default.createElement("button",{className:"delete-basemap-button",onClick:R=>{R.preventDefault(),R.stopPropagation(),I(L)},title:"Remove basemap"},Ya.default.createElement(Wp,{glyph:"remove"}))))),Ya.default.createElement("div",{className:"controls-container"},Ya.default.createElement("button",{className:"add-wms-button",onClick:E},Ve("control-basemapselector-btn-addwms")))),d&&Ya.default.createElement(Kje,{onClose:()=>m(!1),onSubmit:M}))};Xje.propTypes={map:BI.default.object,onBasemapChange:BI.default.func,onSetNotification:BI.default.func,activeBasemapId:BI.default.string};var Qje=Xje;var Tc={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},sGr={9001:Tc.METERS,9002:Tc.FEET,9003:Tc.USFEET,9101:Tc.RADIANS,9102:Tc.DEGREES};var al={};al[Tc.RADIANS]=6370997/(2*Math.PI);al[Tc.DEGREES]=2*Math.PI*6370997/360;al[Tc.FEET]=.3048;al[Tc.METERS]=1;al[Tc.USFEET]=1200/3937;var sl=Tc;var Llr=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||al[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}(),MR=Llr;function pi(e,t,r){return Math.min(Math.max(e,t),r)}var Jje=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var r=Math.exp(t);return(r+1/r)/2},e}(),CR=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function eze(e,t,r,n,i,o){var a=i-r,c=o-n;if(a!==0||c!==0){var d=((e-r)*a+(t-n)*c)/(a*a+c*c);d>1?(r=i,n=o):d>0&&(r+=a*d,n+=c*d)}return Xp(e,t,r,n)}function Xp(e,t,r,n){var i=r-e,o=n-t;return i*i+o*o}function tze(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,i=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>i&&(i=a,n=o)}if(i===0)return null;var c=e[n];e[n]=e[r],e[r]=c;for(var d=r+1;d<t;d++)for(var m=-e[d][r]/e[r][r],v=r;v<t+1;v++)r==v?e[d][v]=0:e[d][v]+=m*e[r][v]}for(var E=new Array(t),I=t-1;I>=0;I--){E[I]=e[I][t]/e[I][I];for(var M=I-1;M>=0;M--)e[M][t]-=e[M][I]*E[I]}return E}function P1(e){return e*Math.PI/180}function Ac(e,t){var r=e%t;return r*t<0?r+t:r}function rze(e,t,r){return e+r*(t-e)}function nze(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function UI(e,t){return Math.floor(nze(e,t))}function VI(e,t){return Math.ceil(nze(e,t))}var Plr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GI=6378137,R1=Math.PI*GI,Nlr=[-R1,-R1,R1,R1],Rlr=[-180,-85,180,85],OR=GI*Math.log(Math.tan(Math.PI/2)),N1=function(e){Plr(t,e);function t(r){return e.call(this,{code:r,units:sl.METERS,extent:Nlr,global:!0,worldExtent:Rlr,getPointResolution:function(n,i){return n/Jje(i[1]/GI)}})||this}return t}(MR),sZ=[new N1("EPSG:3857"),new N1("EPSG:102100"),new N1("EPSG:102113"),new N1("EPSG:900913"),new N1("http://www.opengis.net/def/crs/EPSG/0/3857"),new N1("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ize(e,t,r){var n=e.length,i=r>1?r:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(n));for(var a=0;a<n;a+=i){o[a]=R1*e[a]/180;var c=GI*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));c>OR?c=OR:c<-OR&&(c=-OR),o[a+1]=c}return o}function oze(e,t,r){var n=e.length,i=r>1?r:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(n));for(var a=0;a<n;a+=i)o[a]=180*e[a]/R1,o[a+1]=360*Math.atan(Math.exp(e[a+1]/GI))/Math.PI-90;return o}var klr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qlr=6378137,aze=[-180,-90,180,90],jlr=Math.PI*qlr/180,Bv=function(e){klr(t,e);function t(r,n){return e.call(this,{code:r,units:sl.DEGREES,extent:aze,axisOrientation:n,global:!0,metersPerUnit:jlr,worldExtent:aze})||this}return t}(MR),lZ=[new Bv("CRS:84"),new Bv("EPSG:4326","neu"),new Bv("urn:ogc:def:crs:OGC:1.3:CRS84"),new Bv("urn:ogc:def:crs:OGC:2:84"),new Bv("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Bv("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Bv("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var uZ={};function sze(e){return uZ[e]||uZ[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function lze(e,t){uZ[e]=t}var ci=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function Cu(e){for(var t in e)delete e[t]}var uze=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function cze(e){var t;for(t in e)return!1;return!t}var k1={};function HI(e,t,r){var n=e.getCode(),i=t.getCode();n in k1||(k1[n]={}),k1[n][i]=r}function fze(e,t){var r;return e in k1&&t in k1[e]&&(r=k1[e][t]),r}var Ho={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function bn(){return function(){throw new Error("Unimplemented abstract method.")}()}var zlr=0;function ao(e){return e.ol_uid||(e.ol_uid=String(++zlr))}var DR="6.15.1";var Flr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Blr=function(e){Flr(t,e);function t(r){var n=this,i=DR==="latest"?DR:"v"+DR.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+r+" for details.";return n=e.call(this,o)||this,n.code=r,n.name="AssertionError",n.message=o,n}return t}(Error),LR=Blr;function qr(e,t){if(!e)throw new LR(t)}function $I(e){for(var t=Sf(),r=0,n=e.length;r<n;++r)ZI(t,e[r]);return t}function Ulr(e,t,r){var n=Math.min.apply(null,e),i=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return Jp(n,i,o,a,r)}function dze(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function PR(e,t,r){var n,i;return t<e[0]?n=e[0]-t:e[2]<t?n=t-e[2]:n=0,r<e[1]?i=e[1]-r:e[3]<r?i=r-e[3]:i=0,n*n+i*i}function Qp(e,t){return cZ(e,t[0],t[1])}function hze(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function cZ(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function pze(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],c=t[1],d=Ho.UNKNOWN;return a<r?d=d|Ho.LEFT:a>i&&(d=d|Ho.RIGHT),c<n?d=d|Ho.BELOW:c>o&&(d=d|Ho.ABOVE),d===Ho.UNKNOWN&&(d=Ho.INTERSECTING),d}function Sf(){return[1/0,1/0,-1/0,-1/0]}function Jp(e,t,r,n,i){return i?(i[0]=e,i[1]=t,i[2]=r,i[3]=n,i):[e,t,r,n]}function q1(e){return Jp(1/0,1/0,-1/0,-1/0,e)}function mze(e,t){var r=e[0],n=e[1];return Jp(r,n,r,n,t)}function gze(e,t,r,n,i){var o=q1(i);return fZ(o,e,t,r,n)}function WI(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function vze(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function ZI(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function fZ(e,t,r,n,i){for(;r<n;r+=i)Vlr(e,t[r],t[r+1]);return e}function Vlr(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function NR(e,t){var r;return r=t(RR(e)),r||(r=t(kR(e)),r)||(r=t(qR(e)),r)||(r=t(fm(e)),r)?r:!1}function YI(e){var t=0;return Uv(e)||(t=Ci(e)*ya(e)),t}function RR(e){return[e[0],e[1]]}function kR(e){return[e[2],e[1]]}function Mc(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function yze(e,t){var r;return t==="bottom-left"?r=RR(e):t==="bottom-right"?r=kR(e):t==="top-left"?r=fm(e):t==="top-right"?r=qR(e):qr(!1,13),r}function KI(e,t,r,n,i){var o=Glr(e,t,r,n),a=o[0],c=o[1],d=o[2],m=o[3],v=o[4],E=o[5],I=o[6],M=o[7];return Jp(Math.min(a,d,v,I),Math.min(c,m,E,M),Math.max(a,d,v,I),Math.max(c,m,E,M),i)}function Glr(e,t,r,n){var i=t*n[0]/2,o=t*n[1]/2,a=Math.cos(r),c=Math.sin(r),d=i*a,m=i*c,v=o*a,E=o*c,I=e[0],M=e[1];return[I-d+E,M-m-v,I-d-E,M-m+v,I+d-E,M+m+v,I+d+E,M+m-v,I-d+E,M-m-v]}function ya(e){return e[3]-e[1]}function Ef(e,t,r){var n=r||Sf();return XI(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):q1(n),n}function fm(e){return[e[0],e[3]]}function qR(e){return[e[2],e[3]]}function Ci(e){return e[2]-e[0]}function XI(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Uv(e){return e[2]<e[0]||e[3]<e[1]}function _ze(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function xze(e,t,r){var n=!1,i=pze(e,t),o=pze(e,r);if(i===Ho.INTERSECTING||o===Ho.INTERSECTING)n=!0;else{var a=e[0],c=e[1],d=e[2],m=e[3],v=t[0],E=t[1],I=r[0],M=r[1],L=(M-E)/(I-v),R=void 0,P=void 0;o&Ho.ABOVE&&!(i&Ho.ABOVE)&&(R=I-(M-m)/L,n=R>=a&&R<=d),!n&&o&Ho.RIGHT&&!(i&Ho.RIGHT)&&(P=M-(I-d)*L,n=P>=c&&P<=m),!n&&o&Ho.BELOW&&!(i&Ho.BELOW)&&(R=I-(M-c)/L,n=R>=a&&R<=d),!n&&o&Ho.LEFT&&!(i&Ho.LEFT)&&(P=M-(I-a)*L,n=P>=c&&P<=m)}return n}function bze(e,t,r,n){var i=[];if(n>1)for(var o=e[2]-e[0],a=e[3]-e[1],c=0;c<n;++c)i.push(e[0]+o*c/n,e[1],e[2],e[1]+a*c/n,e[2]-o*c/n,e[3],e[0],e[3]-a*c/n);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var d=[],m=[],c=0,v=i.length;c<v;c+=2)d.push(i[c]),m.push(i[c+1]);return Ulr(d,m,r)}function wze(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Vv(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function j1(e,t){var r=Math.cos(t),n=Math.sin(t),i=e[0]*r-e[1]*n,o=e[1]*r+e[0]*n;return e[0]=i,e[1]=o,e}function Sze(e,t){return e[0]*=t,e[1]*=t,e}function Eze(e,t){if(t.canWrapX()){var r=Ci(t.getExtent()),n=Ize(e,t,r);n&&(e[0]-=n*r)}return e}function Ize(e,t,r){var n=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])){var o=r||Ci(n);i=Math.floor((e[0]-n[0])/o)}return i}var Hlr=6371008.8;function pZ(e,t,r){var n=r||Hlr,i=P1(e[1]),o=P1(t[1]),a=(o-i)/2,c=P1(t[0]-e[0])/2,d=Math.sin(a)*Math.sin(a)+Math.sin(c)*Math.sin(c)*Math.cos(i)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}var dZ=!0;function Aze(e){var t=e===void 0?!0:e;dZ=!t}function hZ(e,t,r){var n;if(t!==void 0){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];n=t}else n=e.slice();return n}function Mze(e,t,r){if(t!==void 0&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function $lr(e){lze(e.getCode(),e),HI(e,e,hZ)}function Wlr(e){e.forEach($lr)}function ll(e){return typeof e=="string"?sze(e):e||null}function mZ(e,t,r,n){e=ll(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(t,r),n&&n!==e.getUnits()){var a=e.getMetersPerUnit();a&&(i=i*a/al[n])}}else{var c=e.getUnits();if(c==sl.DEGREES&&!n||n==sl.DEGREES)i=t;else{var d=gZ(e,ll("EPSG:4326"));if(d===Mze&&c!==sl.DEGREES)i=t*e.getMetersPerUnit();else{var m=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];m=d(m,m,2);var v=pZ(m.slice(0,2),m.slice(2,4)),E=pZ(m.slice(4,6),m.slice(6,8));i=(v+E)/2}var a=n?al[n]:e.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function Tze(e){Wlr(e),e.forEach(function(t){e.forEach(function(r){t!==r&&HI(t,r,hZ)})})}function Zlr(e,t,r,n){e.forEach(function(i){t.forEach(function(o){HI(i,o,r),HI(o,i,n)})})}function jR(e,t){return e?typeof e=="string"?ll(e):e:ll(t)}function Cze(e,t){var r=QI(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Ac(n+180,360)-180),r}function pm(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return r;var n=gZ(e,t);return n===hZ&&r}function gZ(e,t){var r=e.getCode(),n=t.getCode(),i=fze(r,n);return i||(i=Mze),i}function Gv(e,t){var r=ll(e),n=ll(t);return gZ(r,n)}function QI(e,t,r){var n=Gv(t,r);return n(e,void 0,e.length)}function Oze(e,t,r,n){var i=Gv(t,r);return bze(e,i,void 0,n)}var ed=null;function Dze(){return ed}function JI(e,t){return ed?QI(e,t,ed):e}function Cc(e,t){return ed?QI(e,ed,t):(dZ&&!Vv(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(dZ=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Lze(e,t){return ed?Oze(e,t,ed):e}function dm(e,t){return ed?Oze(e,ed,t):e}function Ylr(){Tze(sZ),Tze(lZ),Zlr(lZ,sZ,ize,oze)}Ylr();var go=ee(Le(),1);var tT=ee(Le(),1),vZ=ee(Tt(),1);var Hv=ee(Le(),1),eT=ee(Tt(),1);var Pze=({checked:e,georeferenceMode:t,id:r,onClick:n})=>{let i=Ve(`facet-${r.toLowerCase()}`);return r!=="ToGeoref"||r==="toGeoref"&&t?Hv.default.createElement("li",null,Hv.default.createElement("label",{htmlFor:r},Hv.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),Hv.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):Hv.default.createElement(Hv.default.Fragment,null)};Pze.propTypes={checked:eT.default.bool,georeferenceMode:eT.default.bool,id:eT.default.string,onClick:eT.default.func};var Nze=Pze;var Rze={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic"},Klr={};Object.keys(Rze).forEach(e=>{Klr[e]=!1});var kze=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=Fi(Tu),i=(0,tT.useMemo)(()=>{let a=et({},Rze);return t&&delete a.MM,a},[t]),o=a=>{n(c=>{let{facets:d,georeference:m}=c;if(a==="ToGeoref")return{facets:d,georeference:!m};{let v=d.slice(),E=v.findIndex(I=>I.id===a);if(E>-1)v.splice(E,1);else{let[I,M]=i[a].split("-");v.push({key:I,value:M,id:a})}return{facets:v,georeference:m}}})};return tT.default.createElement("ul",{className:"search-facet"},Object.keys(i).map(a=>tT.default.createElement(Nze,{checked:r.facets.findIndex(c=>c.id===a)!==-1,key:a,georeferenceMode:e,onClick:o,id:a})))};kze.propTypes={georeferenceMode:vZ.default.bool,mosaicMode:vZ.default.bool};var qze=kze;var zR=qze;var nd=ee(Le(),1);var UZ=ee(Tt(),1);var so=ee(Le(),1),ul=ee(Tt(),1);function Pr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var jze=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Xlr(e,t){return!!(e===t||jze(e)&&jze(t))}function Qlr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Xlr(e[r],t[r]))return!1;return!0}function Jlr(e,t){t===void 0&&(t=Qlr);var r,n=[],i,o=!1;function a(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return o&&r===this&&t(c,n)||(i=e.apply(this,c),o=!0,r=this,n=c),i}return a}var FR=Jlr;var F1=ee(Le());var eur=typeof performance=="object"&&typeof performance.now=="function",zze=eur?function(){return performance.now()}:function(){return Date.now()};function Fze(e){cancelAnimationFrame(e.id)}function tur(e,t){var r=zze();function n(){zze()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var yZ=-1;function Bze(e){if(e===void 0&&(e=!1),yZ===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),yZ=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return yZ}var z1=null;function Uze(e){if(e===void 0&&(e=!1),z1===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?z1="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?z1="negative":z1="positive-ascending"),document.body.removeChild(t),z1}return z1}var rur=150,nur=function(t,r){return t};function iur(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,d=e.initInstanceProps,m=e.shouldResetStyleCacheOnItemSizeChange,v=e.validateProps;return t=function(E){pI(I,E);function I(L){var R;return R=E.call(this,L)||this,R._instanceProps=d(R.props,Pr(R)),R._outerRef=void 0,R._resetIsScrollingTimeoutId=null,R.state={instance:Pr(R),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof R.props.initialScrollOffset=="number"?R.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},R._callOnItemsRendered=void 0,R._callOnItemsRendered=FR(function(P,q,j,B){return R.props.onItemsRendered({overscanStartIndex:P,overscanStopIndex:q,visibleStartIndex:j,visibleStopIndex:B})}),R._callOnScroll=void 0,R._callOnScroll=FR(function(P,q,j){return R.props.onScroll({scrollDirection:P,scrollOffset:q,scrollUpdateWasRequested:j})}),R._getItemStyle=void 0,R._getItemStyle=function(P){var q=R.props,j=q.direction,B=q.itemSize,Z=q.layout,re=R._getItemStyleCache(m&&B,m&&Z,m&&j),Q;if(re.hasOwnProperty(P))Q=re[P];else{var oe=r(R.props,P,R._instanceProps),me=i(R.props,P,R._instanceProps),pe=j==="horizontal"||Z==="horizontal",Ae=j==="rtl",Fe=pe?oe:0;re[P]=Q={position:"absolute",left:Ae?void 0:Fe,right:Ae?Fe:void 0,top:pe?0:oe,height:pe?"100%":me,width:pe?me:"100%"}}return Q},R._getItemStyleCache=void 0,R._getItemStyleCache=FR(function(P,q,j){return{}}),R._onScrollHorizontal=function(P){var q=P.currentTarget,j=q.clientWidth,B=q.scrollLeft,Z=q.scrollWidth;R.setState(function(re){if(re.scrollOffset===B)return null;var Q=R.props.direction,oe=B;if(Q==="rtl")switch(Uze()){case"negative":oe=-B;break;case"positive-descending":oe=Z-j-B;break;}return oe=Math.max(0,Math.min(oe,Z-j)),{isScrolling:!0,scrollDirection:re.scrollOffset<B?"forward":"backward",scrollOffset:oe,scrollUpdateWasRequested:!1}},R._resetIsScrollingDebounced)},R._onScrollVertical=function(P){var q=P.currentTarget,j=q.clientHeight,B=q.scrollHeight,Z=q.scrollTop;R.setState(function(re){if(re.scrollOffset===Z)return null;var Q=Math.max(0,Math.min(Z,B-j));return{isScrolling:!0,scrollDirection:re.scrollOffset<Q?"forward":"backward",scrollOffset:Q,scrollUpdateWasRequested:!1}},R._resetIsScrollingDebounced)},R._outerRefSetter=function(P){var q=R.props.outerRef;R._outerRef=P,typeof q=="function"?q(P):q!=null&&typeof q=="object"&&q.hasOwnProperty("current")&&(q.current=P)},R._resetIsScrollingDebounced=function(){R._resetIsScrollingTimeoutId!==null&&Fze(R._resetIsScrollingTimeoutId),R._resetIsScrollingTimeoutId=tur(R._resetIsScrolling,rur)},R._resetIsScrolling=function(){R._resetIsScrollingTimeoutId=null,R.setState({isScrolling:!1},function(){R._getItemStyleCache(-1,null)})},R}I.getDerivedStateFromProps=function(R,P){return our(R,P),v(R),null};var M=I.prototype;return M.scrollTo=function(R){R=Math.max(0,R),this.setState(function(P){return P.scrollOffset===R?null:{scrollDirection:P.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},M.scrollToItem=function(R,P){P===void 0&&(P="auto");var q=this.props,j=q.itemCount,B=q.layout,Z=this.state.scrollOffset;R=Math.max(0,Math.min(R,j-1));var re=0;if(this._outerRef){var Q=this._outerRef;B==="vertical"?re=Q.scrollWidth>Q.clientWidth?Bze():0:re=Q.scrollHeight>Q.clientHeight?Bze():0}this.scrollTo(o(this.props,R,P,Z,this._instanceProps,re))},M.componentDidMount=function(){var R=this.props,P=R.direction,q=R.initialScrollOffset,j=R.layout;if(typeof q=="number"&&this._outerRef!=null){var B=this._outerRef;P==="horizontal"||j==="horizontal"?B.scrollLeft=q:B.scrollTop=q}this._callPropsCallbacks()},M.componentDidUpdate=function(){var R=this.props,P=R.direction,q=R.layout,j=this.state,B=j.scrollOffset,Z=j.scrollUpdateWasRequested;if(Z&&this._outerRef!=null){var re=this._outerRef;if(P==="horizontal"||q==="horizontal"){if(P==="rtl")switch(Uze()){case"negative":re.scrollLeft=-B;break;case"positive-ascending":re.scrollLeft=B;break;default:var Q=re.clientWidth,oe=re.scrollWidth;re.scrollLeft=oe-Q-B;break;}else re.scrollLeft=B;}else re.scrollTop=B}this._callPropsCallbacks()},M.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Fze(this._resetIsScrollingTimeoutId)},M.render=function(){var R=this.props,P=R.children,q=R.className,j=R.direction,B=R.height,Z=R.innerRef,re=R.innerElementType,Q=R.innerTagName,oe=R.itemCount,me=R.itemData,pe=R.itemKey,Ae=pe===void 0?nur:pe,Fe=R.layout,$e=R.outerElementType,Ue=R.outerTagName,Xe=R.style,Ye=R.useIsScrolling,Re=R.width,ke=this.state.isScrolling,je=j==="horizontal"||Fe==="horizontal",it=je?this._onScrollHorizontal:this._onScrollVertical,ot=this._getRangeToRender(),at=ot[0],Be=ot[1],Ze=[];if(oe>0)for(var nt=at;nt<=Be;nt++)Ze.push((0,F1.createElement)(P,{data:me,key:Ae(nt,me),index:nt,isScrolling:Ye?ke:void 0,style:this._getItemStyle(nt)}));var Ce=n(this.props,this._instanceProps);return(0,F1.createElement)($e||Ue||"div",{className:q,onScroll:it,ref:this._outerRefSetter,style:on({position:"relative",height:B,width:Re,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:j},Xe)},(0,F1.createElement)(re||Q||"div",{children:Ze,ref:Z,style:{height:je?"100%":Ce,pointerEvents:ke?"none":void 0,width:je?Ce:"100%"}}))},M._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var R=this.props.itemCount;if(R>0){var P=this._getRangeToRender(),q=P[0],j=P[1],B=P[2],Z=P[3];this._callOnItemsRendered(q,j,B,Z)}}if(typeof this.props.onScroll=="function"){var re=this.state,Q=re.scrollDirection,oe=re.scrollOffset,me=re.scrollUpdateWasRequested;this._callOnScroll(Q,oe,me)}},M._getRangeToRender=function(){var R=this.props,P=R.itemCount,q=R.overscanCount,j=this.state,B=j.isScrolling,Z=j.scrollDirection,re=j.scrollOffset;if(P===0)return[0,0,0,0];var Q=a(this.props,re,this._instanceProps),oe=c(this.props,Q,re,this._instanceProps),me=!B||Z==="backward"?Math.max(1,q):1,pe=!B||Z==="forward"?Math.max(1,q):1;return[Math.max(0,Q-me),Math.max(0,Math.min(P-1,oe+pe)),Q,oe]},I}(F1.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var our=function(t,r){var n=t.children,i=t.direction,o=t.height,a=t.layout,c=t.innerTagName,d=t.outerTagName,m=t.width,v=r.instance;if(0)var E};var Vze=iur({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,a){var c=t.direction,d=t.height,m=t.itemCount,v=t.itemSize,E=t.layout,I=t.width,M=c==="horizontal"||E==="horizontal",L=M?I:d,R=Math.max(0,m*v-L),P=Math.min(R,r*v),q=Math.max(0,r*v-L+v+a);switch(n==="smart"&&(i>=q-L&&i<=P+L?n="auto":n="center"),n){case"start":return P;case"end":return q;case"center":{var j=Math.round(q+(P-q)/2);return j<Math.ceil(L/2)?0:j>R+Math.floor(L/2)?R:j}case"auto":default:return i>=q&&i<=P?i:i<q?q:P;}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,a=t.itemCount,c=t.itemSize,d=t.layout,m=t.width,v=i==="horizontal"||d==="horizontal",E=r*c,I=v?m:o,M=Math.ceil((I+n-E)/c);return Math.max(0,Math.min(a-1,r+M-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var Hze=ee(Le());function aur(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function sur(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,a=[],c=null,d=null,m=i;m<=o;m++){var v=t(m);v?d!==null&&(a.push(c,d),c=d=null):(d=m,c===null&&(c=m))}if(d!==null){for(var E=Math.min(Math.max(d,c+n-1),r-1),I=d+1;I<=E&&!t(I);I++)d=I;a.push(c,d)}if(a.length)for(;a[1]-a[0]+1<n&&a[0]>0;){var M=a[0]-1;if(!t(M))a[0]=M;else break}return a}var lur=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},uur=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),cur=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Gze=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},fur=function(e){cur(t,e);function t(){var r,n,i,o;lur(this,t);for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=(n=(i=Gze(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(c))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(m){var v=m.visibleStartIndex,E=m.visibleStopIndex;i._lastRenderedStartIndex=v,i._lastRenderedStopIndex=E,i._ensureRowsLoaded(v,E)},i._setRef=function(m){i._listRef=m},n),Gze(i,o)}return uur(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,a=o.isItemLoaded,c=o.itemCount,d=o.minimumBatchSize,m=d===void 0?10:d,v=o.threshold,E=v===void 0?15:v,I=sur({isItemLoaded:a,itemCount:c,minimumBatchSize:m,startIndex:Math.max(0,n-E),stopIndex:Math.min(c-1,i+E)});(this._memoizedUnloadedRanges.length!==I.length||this._memoizedUnloadedRanges.some(function(M,L){return I[L]!==M}))&&(this._memoizedUnloadedRanges=I,this._loadUnloadedRanges(I))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,a=function(m){var v=n[m],E=n[m+1],I=o(v,E);I!=null&&I.then(function(){if(aur({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:v,stopIndex:E})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(v,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},c=0;c<n.length;c+=2)a(c)}}]),t}(Hze.PureComponent),$ze=fur;var rT=ee(Le(),1);var BR=ee(Tt(),1);var Wze=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=a=>{a.keyCode===13&&n()},o=Ve(`mapsearch-${r}`)===""?Ve(r):Ve(`mapsearch-${r}`);return rT.default.createElement("div",{className:ur("inner-col",r)},rT.default.createElement("div",{className:ur("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,rT.default.createElement("span",{className:"caret-container"},rT.default.createElement("span",{className:"caret caret-reversed"}))))};Wze.propTypes={onClick:BR.default.func,sortOrder:BR.default.string,type:BR.default.string};var Zze=Wze;var TFe=ee(Le(),1);var UR=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1;var aT=ee(Le(),1);var _i=ee(Le(),1),Bl=ee(Tt(),1);var U1=ee(SFe(),1);var oT="http://www.deutschefotothek.de/images/noimage/image120.jpg",EFe=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:a})=>{var re;let{direction:c,maps:d}=t,m=(re=d[r])!=null?re:Wv,v=Vt(li),[E,I]=(0,_i.useState)(m.getMetadata(Sr.thumbnailUrl)===void 0?"":m.getMetadata(Sr.thumbnailUrl).replace("http:","")),M=()=>{n(m)},L=Q=>{Q.key==="Enter"&&M()},R=()=>{E!==""&&E!==oT&&I(oT)};(0,_i.useEffect)(()=>{I(m.getMetadata(Sr.thumbnailUrl))},[m]);let P=m===Wv,q=UR(v,m)&&!P,j=m.getMetadata(Sr.mapScale)==="0"||m.getMetadata(Sr.mapScale)===0?Ve("mapsearch-listelement-unknown"):`1:${m.getMetadata(Sr.mapScale)}`,B=parseInt(m.getMetadata(Sr.timePublished),0),Z=m.getMetadata(Sr.type)==="mosaic";return _i.default.createElement("li",{tabIndex:0,style:a,className:ur("vkf-mapsearch-record",m.getMetadata(Sr.type),q&&"selected",c,P&&"loading"),id:m.getMetadata(Sr.id),onClick:P?void 0:M,onKeyDown:P?void 0:L,onMouseEnter:i,onMouseLeave:o},e,_i.default.createElement("span",{className:"data-col time"},isNaN(B)?"":B),_i.default.createElement("span",{className:"data-col title"},m.getMetadata(Sr.title)),_i.default.createElement("span",{className:"data-col time"},"1"),_i.default.createElement("div",{className:"view-item"},_i.default.createElement("span",{className:"thumbnail",href:"#"},E===""?_i.default.createElement(U1.default.default,{height:"calc(100% - 6px)"}):_i.default.createElement("img",{alt:`Thumbnail Image of Map ${m.getMetadata(Sr.title)} ${m.getMetadata(Sr.timePublished)}`,onError:R,src:E}),q&&_i.default.createElement("span",{className:"badge selected-badge"},_i.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),_i.default.createElement("div",{className:"overview"},_i.default.createElement("h2",null,P?_i.default.createElement(U1.default.default,null):m.getMetadata(Sr.title)),_i.default.createElement("div",{className:"details"},_i.default.createElement("div",{className:"timestamp"},P?_i.default.createElement(U1.default.default,null):`${Ve("mapsearch-listelement-time")} ${m.getMetadata(Sr.timePublished)}`),_i.default.createElement("div",{className:"scale"},P?_i.default.createElement(U1.default.default,null):`${Ve("mapsearch-listelement-scale")} ${j}`),Z&&_i.default.createElement("div",{className:"type"},P?_i.default.createElement(U1.default.default,null):`${Ve("originalview-title-mosaic")}`),!m.getMetadata(Sr.hasGeoReference)&&_i.default.createElement("div",{className:"georeference"},Ve("mapsearch-listelement-no-georef"))))))};EFe.propTypes={children:Bl.default.element,data:Bl.default.shape({direction:Bl.default.oneOf(["horizontal","vertical"]),feature:Bl.default.object,is3d:Bl.default.bool,maps:Bl.default.object,selected:Bl.default.bool}),onClick:Bl.default.func,onMouseEnter:Bl.default.func,onMouseLeave:Bl.default.func,index:Bl.default.number,style:Bl.default.object};var FZ=EFe;var IFe=e=>{var d;let{data:t,index:r}=e,{maps:n}=t,i=Vt($r),o=(d=n[r])!=null?d:Wv,a=(0,aT.useCallback)(()=>{tr(i)&&$H(i,o.toGeoJSON())},[i,o]),c=(0,aT.useCallback)(()=>{tr(i)&&$H(i,{type:"FeatureCollection",features:[]})},[i,o]);return aT.default.createElement(FZ,et({onMouseEnter:a,onMouseLeave:c},e))};IFe.propTypes=et({},FZ.propTypes);var BZ=IFe;var AFe=e=>{let t=Vt($r),[r,n]=Fi(li);return TFe.default.createElement(BZ,et({onClick:o=>{UR(r,o)?(n(c=>c.filter(d=>d.getId()!==o.getId())),o.removeMapLibreLayers(t)):o.addLayerToMap(t).then(()=>{n(c=>[...c,o])})}},e))};AFe.propTypes=et({},BZ.propTypes);var MFe=AFe;var ucr=["map_scale","time_published","title","georeference"],Wv=new xc({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",time_published:"",title:"Loading"}}),WR=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=MFe,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:a=!0,searchResultDescriptor:{itemCount:c,id:d},sortSettings:m})=>{let{activeType:v,sortOrder:E}=m,I=Vt(FNe),[M,L]=(0,so.useState)({}),R=(0,so.useRef)(!1),P=(0,so.useRef)(),q=(0,so.useRef)(),{height:j,width:B}=jH(q),Z=(0,so.useCallback)(Q=>!R.current&&M[Q]!==void 0&&M[Q]!==Wv,[M]),re=(0,so.useCallback)((Q,oe)=>{if(Q!==void 0&&oe!==void 0){let me=oe-Q+1;return i(Q,me).then(pe=>{pe&&L(Ae=>{let Fe=R.current?{}:Object.assign({},Ae);return R.current=!1,pe.forEach(($e,Ue)=>{Fe[Q+Ue]=$e}),Fe})})}},[i]);return(0,so.useEffect)(()=>{Wv.updateMetadata("title",Ve("mapsearch-listelement-loading"))},[]),(0,so.useEffect)(()=>{R.current=!0,P.current.resetloadMoreItemsCache(!0)},[d]),so.default.createElement("div",{className:ur("vkf-mapsearch-result-list",e)},a&&so.default.createElement("div",{className:"list-header"},so.default.createElement("strong",{className:"list-label"},Ve("mapsearch-sorting"),":"),so.default.createElement("div",{className:"inner-columns"},ucr.map(Q=>so.default.createElement(Zze,{key:Q,onClick:o,sortOrder:v===Q?E:"",type:Q})))),so.default.createElement("div",{className:"mapsearch-contentlist-container",ref:q},so.default.createElement($ze,{isItemLoaded:Z,itemCount:c,loadMoreItems:re,minimumBatchSize:n,ref:P},({onItemsRendered:Q,ref:oe})=>so.default.createElement(Vze,{height:j,innerElementType:"ul",itemCount:c,itemSize:t,itemData:{direction:e,maps:M,is3d:I},layout:e,onItemsRendered:Q,ref:oe,width:B},r))))};WR.propTypes={direction:ul.default.oneOf(["horizontal","vertical"]),itemSize:ul.default.number,minimumBatchSize:ul.default.number,ListItemComponent:ul.default.elementType,renderHeader:ul.default.bool,onFetchResults:ul.default.func,onUpdateSortType:ul.default.func,searchResultDescriptor:ul.default.shape({id:ul.default.number,itemCount:ul.default.number}),sortSettings:ul.default.shape({activeType:ul.default.string,sortOrder:ul.default.string})};var ccr="title",sT={ASCENDING:"ascending",DESCENDING:"descending"},CFe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=yn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[a,c]=(0,nd.useState)({activeType:ccr,sortOrder:sT.ASCENDING}),{activeType:d,sortOrder:m}=a,v=I=>{let M=I===d&&m===sT.ASCENDING?sT.DESCENDING:sT.ASCENDING;c({sortOrder:M,activeType:I})};return nd.default.createElement(nd.Fragment,null,r&&nd.default.createElement(NRe,{sortSettings:a}),nd.default.createElement(t,{customQuery:e,renderConsumer:I=>nd.default.createElement(WR,et(et({onUpdateSortType:v,sortSettings:a},n),I)),sortSettings:a}))};CFe.propTypes=et({DataProvider:UZ.default.elementType.isRequired,enableOverlayLayer:UZ.default.bool},WR.propTypes);var ZR=CFe;var GZ=ee(Le(),1),HZ=ee(Tt(),1);var VZ=ee(Le(),1),YR=ee(Tt(),1);var OFe=({name:e,color:t,size:r})=>VZ.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},VZ.default.createElement("use",{xlinkHref:`${kr.getSettings().ICON_SPRITE}#${e}`}));OFe.propTypes={name:YR.default.string.isRequired,color:YR.default.string,size:YR.default.number};var Ka=OFe;var DFe=({onClick:e,isOpen:t})=>{let r=Vt(Tu);return GZ.default.createElement("button",{className:ur("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:Ve(`mapsearch-facetedsearch-${t?"close":"open"}`)},GZ.default.createElement(Ka,{name:"icon-filter"}))};DFe.propTypes={isOpen:HZ.default.bool,onClick:HZ.default.func};var KR=DFe;var Mf=ee(Le(),1);var fcr=()=>Mf.default.createElement("div",{className:"lds-roller"},Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null),Mf.default.createElement("div",null)),XR=fcr;var Xa=ee(Le(),1),hm=ee(Tt(),1);var $Z=ee(em(),1);var pcr=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},LFe=function(e){return{aggs:{summary:{stats:{field:e}}}}},PFe=function(e,t,r,n,i,o,a,c){return{query:{bool:{filter:[{range:{[e]:{gte:t[0],lte:t[1]}}},{geo_shape:{[r]:{relation:"intersects",shape:{type:"envelope",coordinates:n}}}},pcr(a),{term:{has_georeference:!0}},...(c||[])],must:[{match_all:{}}]}},sort:{[i]:{order:o}}}};var NFe=(e,t)=>{let{padding:r,offset:n,layermanagement:i,map:o,spatialtemporalsearch:a}=e,c,d,m,v;return t===rl.VERTICAL?(c=0,d=o.height,m=o.width,v=0):(c=0+a.width+r.width,d=o.height-n.height-r.height,m=o.width-i.width-r.width,v=n.height+r.height),[[c,d],[c,v],[m,d],[m,v]]},RFe=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[a,c],[d,m]]=t;return[[Math.max(a,r),Math.min(n,c)],[Math.min(d,i),Math.max(o,m)]]};var kFe=ee(XE(),1),qFe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,a=Vt(u1),{facets:c}=Vt(Tu),d=Vt(c1),m=Vt($r),[v,E]=(0,Xa.useState)(void 0),I=cn(xP),M=cn(f1),[L,R]=Fi(vf),[P,q]=Fi(rm),[j,B]=(0,Xa.useState)({itemCount:10,id:Date.now()}),re=kr.getSettings().API_SEARCH,Q=(0,Xa.useCallback)(Fe=>{let $e=o==="ascending"?"asc":"desc",Ue=RFe([[Fe[0],Fe[3]],[Fe[2],Fe[1]]]);return PFe("time_published",P.map(Xe=>`${Xe}-01-01`),"geometry",Ue,i,$e,c,e)},[c,i,o,P]),oe=(0,Xa.useCallback)((Fe,$e,Ue=!1)=>{if(v===void 0)return I(!1),new Promise(Re=>Re([]));let Xe=Q(v,"ESPG:4326"),Ye=re+"/_search?from="+Fe+"&size="+$e;return I(!0),$Z.default.post(Ye,Xe).then(Re=>{if(Re.status===200){let ke=Re.data;return Ue?ke:a4e(ke.hits.hits)}}).catch(Re=>{console.warn(Re)}).finally(()=>{I(!1)})},[Q,v]),me=(0,Xa.useCallback)(()=>{oe(0,0,!0).then(Fe=>{let $e=Fe.hits.total.value;M($e),B({itemCount:$e,id:Date.now()})})},[oe]),pe=UNe(me,30),Ae=(0,Xa.useCallback)(()=>{if(tr(m)){let Fe=NFe(a,d),$e=new kFe.LngLatBounds;Fe.forEach(Xe=>{let Ye=m.unproject(Xe);$e.extend(Ye)});let Ue=$e.toArray().flat();(v===void 0||!WI(Ue,v))&&E(Ue)}},[m,v,a]);return(0,Xa.useEffect)(()=>{if(tr(m))return m.on("moveend",Ae),()=>{m.off("moveend",Ae)}},[m,Ae]),(0,Xa.useEffect)(()=>{pe()},[c,me,v,i,o,P]),(0,Xa.useEffect)(()=>{Ae()},[a,m]),(0,Xa.useEffect)(()=>{let Fe=`${re}/_search?`,$e=LFe("time_published");$Z.default.post(Fe,$e,{}).then(Ue=>{if(Ue.status===200){let Xe=Ue.data,Ye=new Date(Xe.aggregations.summary.max),ke=[new Date(Xe.aggregations.summary.min).getUTCFullYear(),Ye.getUTCFullYear()];(L===void 0||qH===L||ke[0]!==L[0]||ke[1]!==L[1])&&(R(ke),q(ke))}})},[]),Xa.default.createElement(Xa.default.Fragment,null,r({minimumBatchSize:t,onRefresh:me,onFetchResults:oe,searchResultDescriptor:j}))};qFe.propTypes={customQuery:hm.default.array,minimumBatchSize:hm.default.number,projection:hm.default.string,renderConsumer:hm.default.func,sortSettings:hm.default.shape({activeType:hm.default.string,sortOrder:hm.default.string})};var QR=qFe;var JR=ee(Tt(),1),jFe="EPSG:3857",zFe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=Fi(Tu),[o,a]=(0,go.useState)(!1),[c,d]=(0,go.useState)(!1),m=Vt(xP),v=Vt(f1),E=()=>{a(M=>!M)},I=()=>{i(zNe)};return(0,go.useEffect)(()=>{d(m)},[m]),go.default.createElement("div",{className:ur("mapsearch-container",o&&"facetedsearch-open")},go.default.createElement("div",{className:"panel panel-default searchTablePanel"},go.default.createElement("div",{className:"panel-heading"},go.default.createElement("div",{className:"content"},go.default.createElement("div",null,v===0?Ve("mapsearch-found-no-maps"):`${v} ${Ve("mapsearch-found-maps")}`),n.facets.length>0&&go.default.createElement("button",{className:"remove-filter",onClick:I},go.default.createElement(Ka,{name:"icon-filter"})),c&&go.default.createElement("div",{className:"loading-spinner"},go.default.createElement(XR,null)),go.default.createElement(KR,{onClick:E,isOpen:o})),go.default.createElement("div",{className:"facet-container"},go.default.createElement(zR,{georeferenceMode:!1,mosaicMode:r}))),go.default.createElement("div",{className:"panel-body"},go.default.createElement(ZR,{customQuery:e,DataProvider:QR,ListItemComponent:t}))))};zFe.propTypes={customQuery:JR.default.array,MapSearchListItemComponent:JR.default.elementType,mosaicMode:JR.default.bool};var FFe=zFe;var BFe=e=>typeof e=="string"||e instanceof String,dcr=e=>{if(e===void 0||!Array.isArray(e)||e.length<2)return!1;let[t,r,...n]=e;if(isNaN(t)||isNaN(r)||n.some(i=>isNaN(i)))return!1;if(!UFe(t,r)){let[i,o]=Cze([t,r],jFe);return UFe(i,o)}return!0},UFe=(e,t)=>e<=180&&e>=-180&&t<=90&&t>=-90,VFe=e=>{let{activeBasemapId:t,is3dEnabled:r,oid:n,operationalLayers:i,mapView:o}=e,a=!0;return a&&(a=t===void 0||BFe(t)),a&&(a=r===void 0||typeof r=="boolean"),a&&(a=n===void 0||BFe(n)||Array.isArray(n)),a&&(a=i===void 0||Array.isArray(i)),a&&(a=o===void 0||hcr(o,r)),a},hcr=e=>{let t,{bearing:r,center:n,pitch:i,zoom:o}=e;return t=n===void 0||dcr(n),t&&(t=i===void 0||!isNaN(i)&&i>=0),t&&(t=r===void 0||!isNaN(r)),t&&(t=o===void 0||!isNaN(o)),t};var t$="vk_persistence_container",HFe=()=>{let e=Vt($r),[t,r]=(0,mm.useState)(void 0),n=cn(gf),i=cn(Tu),o=cn(Qs),a=cn(li),c=cn(vf),d=cn(rm),m=kr.getGeoreferenceApiClient(),[v]=wc(t$,{operationalLayers:[],is3dEnabled:!1}),[E,I]=wc(Fv,[]),M=(L,R="danger")=>{o({id:"persistence-controller",type:R,text:L})};return(0,mm.useEffect)(()=>{let Z=(0,GFe.parse)(location.search,{arrayFormat:"comma",parseNumbers:!0}),{b:L,v:R,oid:P,map_id:q,map_view_id:j}=Z,B=yn(Z,["b","v","oid","map_id","map_view_id"]);if(j!==void 0){let Q=`/map_view/${j}`;m.get(Q).then(oe=>{let{map_view_json:me}=oe.data,Fe=JSON.parse(me),{customBasemaps:pe}=Fe,Ae=yn(Fe,["customBasemaps"]);pe!==void 0&&pe.length>0&&I(pe.concat(E).filter(($e,Ue,Xe)=>Xe.findIndex(Ye=>Ye.id===$e.id)===Ue)),Ae.mapView&&JRe(Ae.mapView)&&(Ae.mapView=NP(Ae.mapView)),r(Ae)})}else{let re=r4e(R),Q={activeBasemapId:L,is3dEnabled:re,cameraOptions:n4e(B),oid:YRe(P,q)},oe=!$Re(Q)||P!==void 0;r(oe?Q:v)}},[]),(0,mm.useEffect)(()=>{if(t!==void 0){let{activeBasemapId:L,is3dEnabled:R,oid:P,operationalLayers:q,cameraOptions:j={}}=t;if(!VFe(t)){M(Ve("persistencecontroller-error-persistence-object"));return}try{if(L!==void 0&&n(L),e!==void 0){let B=Object.assign({},kr.getDefaultMapView(),j);if(e.jumpTo(B),B.legacy3dMapView){let Z=e.getCanvas(),re=Z.height,Q=Z.width,oe=e.unproject([Q/2,re*.3]);e.setCenter(oe),M(Ve("persistencecontroller-deprecated-3d-map-view"),"warning")}if(R&&e.enableTerrain(),q!==void 0&&q.length>0&&P===void 0)try{let Z=q.map(WRe),re=[];for(let{feature:Q,isVisible:oe,opacity:me}of Z)if(Q!==void 0){let pe=Q.addLayerToMap(e,{visibility:oe?"visible":"none",opacity:me});re.push(pe)}Promise.all(re).then(()=>{a(Z.map(Q=>Q.feature))})}catch(Z){console.error(Z),M(Ve("persistencecontroller-error-persistence-object"))}else if(P!==void 0){let re=(Array.isArray(P)?P:[P]).map(Q=>s4e(Q));Promise.all(re).then(Q=>{Promise.all(Q.map(oe=>oe.addLayerToMap(e))).then(()=>{a(Q)}),(j===void 0||Object.entries(j).length===0)&&ZRe(e,Q)}).catch(Q=>{console.error(Q),M(Ve("persistencecontroller-error-single-map"),"warning")})}}}catch(B){console.error(B),M(Ve("persistencecontroller-error-persistence-object"))}}},[e,t]),(0,mm.useEffect)(()=>{if(t!==void 0){let{searchOptions:L}=t;if(L!==void 0){let{facets:R,timeExtent:P,timeRange:q}=L;R!==void 0&&i(R),q!==void 0&&c(q),P!==void 0&&d(P)}}},[t]),mm.default.createElement(i4e,null)};var A2=ee(Le(),1),RWe=ee(Tt(),1);var Wu=ee(Le(),1);var x$e=ee(Tt(),1);var Wo=ee(Le(),1);var ey=ee(Tt(),1);var id=ee(Le(),1);var mcr=()=>{let e=Vt($r),[t,r]=(0,id.useState)(!0),n=Vt(li),i=Ve(t?"layermanagement-deactivate-all-maps":"layermanagement-activate-all-maps"),o=(0,id.useCallback)(()=>{n.forEach(a=>{a.setVisibility(e,t?"none":"visible")})},[e,t,n]);return(0,id.useEffect)(()=>{if(e){let a=()=>{let d=n.length===0?!0:n.some(m=>m.isVisible(e));r(d)},c=()=>{a()};return e._loaded?a():e.on("load",a),e.on(Io.visibilityChanged,c),()=>{e.off(Io.visibilityChanged,c),e.off("load",a)}}},[e,n]),id.default.createElement("button",{onClick:o,className:ur("deactivate-map-col-control",t?"deactivate":""),title:i,id:"deactivate-all-maps"},id.default.createElement(Ka,{name:"layermanagement-deactivate","aria-labelledby":"deactivate-all-maps",alt:i}))},$Fe=mcr;var WFe=$Fe;var _a=ee(Le(),1);var e4=ee(Tt(),1);var ZFe=(e,t)=>{for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].forEach(i=>{i.setOpacity(t,0),i.setVisibility(t,"visible")})},YFe=e=>e.slice().sort((t,r)=>{let n=t.getMetadata(Sr.timePublished),i=r.getMetadata(Sr.timePublished);return n>i?1:n<i?-1:0}),KFe=(e,t)=>{let r={};return e.forEach(n=>{n.move(t,null);let i=n.getMetadata(Sr.timePublished);i in r?r[i].push(n):r[i]=[n]}),r};var XFe=({animationOptions:e={}})=>{let[t,r]=(0,_a.useState)(!1),[n,i]=(0,_a.useState)(void 0),[o,a]=(0,_a.useState)(!1),c=Vt($r),d=Ve(`dynamicmapvis-${o?"close":"open"}`),[m,v]=Fi(li),E=(0,_a.useRef)(!1),I=B=>{let{layers:Z,delay:re=500}=B;Z.forEach(Q=>{Q.setOpacity(c,0),Q.setVisibility(c,"visible")}),setTimeout(()=>{M(B)},re)},M=B=>{var me;let{layers:Z,steps:re=.1,delay:Q=500,successCallback:oe}=B;if(E.current){let pe=((me=Z[0].getOpacity(c))!=null?me:0)+re;pe>1?(Z.forEach(Ae=>{Ae.setOpacity(c,1)}),tr(oe)&&oe()):(Z.forEach(Ae=>{Ae.setOpacity(c,pe)}),setTimeout(()=>{M(B)},Q))}},L=B=>{let{sortedLayers:Z,delay:re=500}=B;if(ZFe(Z,c),E.current){let oe=Object.keys(Z);if(oe.length>0){let me=oe[0],pe=Z[me],Q=Z,{[me]:Ae}=Q,Fe=yn(Q,[Dee(me)]),$e=()=>{L(wr(et({},B),{sortedLayers:Fe}))};setTimeout(()=>{I(wr(et({},B),{layers:pe,successCallback:$e}),re)}),i(me)}else P()}},R=()=>{r(!0),E.current=!0;let B=YFe(m),Z=KFe(B,c);v(B),L(wr(et({},e),{sortedLayers:Z}))},P=()=>{r(!1),E.current=!1,i(void 0)},q=B=>{B.preventDefault(),o?(P(),a(!1)):a(!0)},j=n&&n.length>4?n.split(" ")[2]:n;return _a.default.createElement("div",{className:ur("vkf-dyn-vis-control",t&&"play",o&&"open"),title:d,"aria-label":d,id:"dynamic-map-visualization"},_a.default.createElement("button",{type:"button",className:"open-dyn-vis",onClick:q,"aria-labelledby":"dynamic-map-visualization"},_a.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg",alt:d},_a.default.createElement("path",{className:"arrow",d:"M14.822,4.521c0.057,-0.014 0.117,-0.021 0.178,-0.021c1.561,0 3.047,0.348 4.385,0.97c1.342,0.611 2.573,1.513 3.589,2.699c0.83,0.969 1.452,2.052 1.868,3.192c0.425,1.136 0.658,2.363 0.658,3.639c0,1.561 -0.348,3.047 -0.97,4.385c-0.611,1.342 -1.513,2.573 -2.699,3.589c-0.969,0.83 -2.052,1.452 -3.192,1.868c-1.136,0.425 -2.363,0.658 -3.639,0.658c-1.561,0 -3.047,-0.348 -4.385,-0.97c-1.342,-0.611 -2.573,-1.513 -3.589,-2.699l-0.488,-0.569c-0.075,-0.088 -0.126,-0.188 -0.154,-0.292c-1.033,-1.48 -1.696,-3.234 -1.85,-5.122l-1.685,1.685c-0.293,0.293 -0.768,0.293 -1.061,0c-0.293,-0.292 -0.293,-0.768 0,-1.06l3,-3c0.293,-0.293 0.768,-0.293 1.061,0l3,3c0.292,0.292 0.292,0.768 0,1.06c-0.293,0.293 -0.768,0.293 -1.061,0l-1.754,-1.754c0.286,3.268 2.35,6.059 5.208,7.389c2.154,0.98 4.642,1.084 6.877,0.268c2.229,-0.835 4.051,-2.533 5.049,-4.678c0.98,-2.154 1.084,-4.642 0.268,-6.877c-0.835,-2.229 -2.533,-4.051 -4.678,-5.049c-3.095,-1.408 -6.88,-1.008 -9.613,1.333c-0.315,0.269 -0.788,0.233 -1.058,-0.082c-0.269,-0.314 -0.233,-0.788 0.082,-1.057c1.921,-1.646 4.287,-2.469 6.653,-2.505Z"}),_a.default.createElement("path",{className:"minute-hand",d:"M14.238,8.795l0,5.47c0,0.414 0.336,0.75 0.75,0.75c0.414,0 0.75,-0.336 0.75,-0.75l0,-5.47c0,-0.414 -0.336,-0.75 -0.75,-0.75c-0.414,-0 -0.75,0.336 -0.75,0.75Z"}),_a.default.createElement("path",{className:"hour-hand",d:"M21.18,14.263l-5.47,-0c-0.414,-0 -0.75,0.336 -0.75,0.75c-0,0.413 0.336,0.75 0.75,0.75l5.47,-0c0.414,-0 0.75,-0.337 0.75,-0.75c0,-0.414 -0.336,-0.75 -0.75,-0.75Z"}))),_a.default.createElement("div",{className:"content"},_a.default.createElement("div",{className:ur("feedback",n!==void 0&&"running")},j),_a.default.createElement("button",{"aria-label":Ve("dynamicmapvis-start"),className:"start-button",onClick:R,tabIndex:o?void 0:-1,title:Ve("dynamicmapvis-start"),type:"button"},"Start"),_a.default.createElement("button",{"aria-label":Ve("dynamicmapvis-stop"),className:"stop-button",onClick:P,tabIndex:o?void 0:-1,title:Ve("dynamicmapvis-stop"),type:"button"},"Stop")))};XFe.propTypes={animationOptions:e4.default.shape({delay:e4.default.number,steps:e4.default.number})};var QFe=XFe;var JFe=QFe;var Fn=ee(Le(),1);var e6e=ee(Le()),t4=(0,e6e.createContext)({dragDropManager:void 0});var cBe=ee(o6e()),f4=ee(Le());var Ul;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Ul||(Ul={}));function mr(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;o=new Error(t.replace(/%s/g,function(){return n[a++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var V1="dnd-core/INIT_COORDS",gm="dnd-core/BEGIN_DRAG",G1="dnd-core/PUBLISH_DRAG_SOURCE",vm="dnd-core/HOVER",ym="dnd-core/DROP",_m="dnd-core/END_DRAG";function ZZ(e,t){return{type:V1,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function r4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r4=function(r){return typeof r}:r4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r4(e)}function a6e(e,t,r){return t.split(".").reduce(function(n,i){return n&&n[i]?n[i]:r||null},e)}function s6e(e,t){return e.filter(function(r){return r!==t})}function n4(e){return r4(e)==="object"}function l6e(e,t){var r=new Map,n=function(a){r.set(a,r.has(a)?r.get(a)+1:1)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(o,a){o===1&&i.push(a)}),i}function u6e(e,t){return e.filter(function(r){return t.indexOf(r)>-1})}var xcr={type:V1,payload:{clientOffset:null,sourceClientOffset:null}};function c6e(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,o=i===void 0?!0:i,a=n.clientOffset,c=n.getSourceClientOffset,d=e.getMonitor(),m=e.getRegistry();e.dispatch(ZZ(a)),bcr(r,d,m);var v=Ecr(r,d);if(v===null){e.dispatch(xcr);return}var E=null;if(a){if(!c)throw new Error("getSourceClientOffset must be defined");wcr(c),E=c(v)}e.dispatch(ZZ(a,E));var I=m.getSource(v),M=I.beginDrag(d,v);if(M!=null){Scr(M),m.pinSource(v);var L=m.getSourceType(v);return{type:gm,payload:{itemType:L,item:M,sourceId:v,clientOffset:a||null,sourceClientOffset:E||null,isSourcePublic:!!o}}}}}function bcr(e,t,r){mr(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){mr(r.getSource(n),"Expected sourceIds to be registered.")})}function wcr(e){mr(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Scr(e){mr(n4(e),"Item must be an object.")}function Ecr(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function f6e(e){return function(){var r=e.getMonitor();if(r.isDragging())return{type:G1}}}function uT(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(r){return r===t}):e===t}function p6e(e){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;Icr(r);var o=r.slice(0),a=e.getMonitor(),c=e.getRegistry();Tcr(o,a,c);var d=a.getItemType();return Acr(o,c,d),Mcr(o,a,c),{type:vm,payload:{targetIds:o,clientOffset:i||null}}}}function Icr(e){mr(Array.isArray(e),"Expected targetIds to be an array.")}function Tcr(e,t,r){mr(t.isDragging(),"Cannot call hover while not dragging."),mr(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];mr(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var o=r.getTarget(i);mr(o,"Expected targetIds to be registered.")}}function Acr(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],o=t.getTargetType(i);uT(o,r)||e.splice(n,1)}}function Mcr(e,t,r){e.forEach(function(n){var i=r.getTarget(n);i.hover(t,n)})}function d6e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6e(Object(r),!0).forEach(function(n){Ccr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ccr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6e(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();Ocr(n);var o=Pcr(n);o.forEach(function(a,c){var d=Dcr(a,c,i,n),m={type:ym,payload:{dropResult:h6e(h6e({},r),d)}};e.dispatch(m)})}}function Ocr(e){mr(e.isDragging(),"Cannot call drop while not dragging."),mr(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Dcr(e,t,r,n){var i=r.getTarget(e),o=i?i.drop(n,e):void 0;return Lcr(o),typeof o=="undefined"&&(o=t===0?{}:n.getDropResult()),o}function Lcr(e){mr(typeof e=="undefined"||n4(e),"Drop result must either be an object or undefined.")}function Pcr(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function g6e(e){return function(){var r=e.getMonitor(),n=e.getRegistry();Ncr(r);var i=r.getSourceId();if(i!=null){var o=n.getSource(i,!0);o.endDrag(r,i),n.unpinSource()}return{type:_m}}}function Ncr(e){mr(e.isDragging(),"Cannot call endDrag while not dragging.")}function v6e(e){return{beginDrag:c6e(e),publishDragSource:f6e(e),hover:p6e(e),drop:m6e(e),endDrag:g6e(e)}}function Rcr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kcr(e,t,r){return t&&y6e(e.prototype,t),r&&y6e(e,r),e}function cT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _6e=function(){function e(t,r){var n=this;Rcr(this,e),cT(this,"store",void 0),cT(this,"monitor",void 0),cT(this,"backend",void 0),cT(this,"isSetUp",!1),cT(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}return kcr(e,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function i(a){return function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var v=a.apply(r,d);typeof v!="undefined"&&n(v)}}var o=v6e(this);return Object.keys(o).reduce(function(a,c){var d=o[c];return a[c]=i(d),a},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),e}();function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function YZ(e,t){if(Hn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fT(e){var t=YZ(e,"string");return Hn(t)==="symbol"?t:String(t)}function mt(e,t,r){return t=fT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x6e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6e(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ou(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var b6e=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),KZ=function(){return Math.random().toString(36).substring(7).split("").join(".")},w6e={INIT:"@@redux/INIT"+KZ(),REPLACE:"@@redux/REPLACE"+KZ(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+KZ()}};function qcr(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function XZ(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ou(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(Ou(1));return r(XZ)(e,t)}if(typeof e!="function")throw new Error(Ou(2));var i=e,o=t,a=[],c=a,d=!1;function m(){c===a&&(c=a.slice())}function v(){if(d)throw new Error(Ou(3));return o}function E(R){if(typeof R!="function")throw new Error(Ou(4));if(d)throw new Error(Ou(5));var P=!0;return m(),c.push(R),function(){if(P){if(d)throw new Error(Ou(6));P=!1,m();var j=c.indexOf(R);c.splice(j,1),a=null}}}function I(R){if(!qcr(R))throw new Error(Ou(7));if(typeof R.type=="undefined")throw new Error(Ou(8));if(d)throw new Error(Ou(9));try{d=!0,o=i(o,R)}finally{d=!1}for(var P=a=c,q=0;q<P.length;q++){var j=P[q];j()}return R}function M(R){if(typeof R!="function")throw new Error(Ou(10));i=R,I({type:w6e.REPLACE})}function L(){var R,P=E;return R={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Ou(11));function B(){j.next&&j.next(v())}B();var Z=P(B);return{unsubscribe:Z}}},R[b6e]=function(){return this},R}return I({type:w6e.INIT}),n={dispatch:I,subscribe:E,getState:v,replaceReducer:M},n[b6e]=L,n}var jcr=function(t,r){return t===r};function S6e(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function E6e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jcr;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function I6e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6e(Object(r),!0).forEach(function(n){zcr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zcr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A6e={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function M6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A6e,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case V1:case gm:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case vm:return S6e(e.clientOffset,r.clientOffset)?e:T6e(T6e({},e),{},{clientOffset:r.clientOffset});case _m:case ym:return A6e;default:return e;}}var pT="dnd-core/ADD_SOURCE",dT="dnd-core/ADD_TARGET",hT="dnd-core/REMOVE_SOURCE",Zv="dnd-core/REMOVE_TARGET";function C6e(e){return{type:pT,payload:{sourceId:e}}}function O6e(e){return{type:dT,payload:{targetId:e}}}function D6e(e){return{type:hT,payload:{sourceId:e}}}function L6e(e){return{type:Zv,payload:{targetId:e}}}function P6e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6e(Object(r),!0).forEach(function(n){Fcr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fcr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bcr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function N6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bcr,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case gm:return Du(Du({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case G1:return Du(Du({},e),{},{isSourcePublic:!0});case vm:return Du(Du({},e),{},{targetIds:r.targetIds});case Zv:return e.targetIds.indexOf(r.targetId)===-1?e:Du(Du({},e),{},{targetIds:s6e(e.targetIds,r.targetId)});case ym:return Du(Du({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case _m:return Du(Du({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e;}}function R6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pT:case dT:return e+1;case hT:case Zv:return e-1;default:return e;}}var H1=[],i4=[];H1.__IS_NONE__=!0;i4.__IS_ALL__=!0;function k6e(e,t){if(e===H1)return!1;if(e===i4||typeof t=="undefined")return!0;var r=u6e(t,e);return r.length>0}function q6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vm:break;case pT:case dT:case Zv:case hT:return H1;case gm:case G1:case _m:case ym:default:return i4;}var r=t.payload,n=r.targetIds,i=n===void 0?[]:n,o=r.prevTargetIds,a=o===void 0?[]:o,c=l6e(i,a),d=c.length>0||!E6e(i,a);if(!d)return H1;var m=a[a.length-1],v=i[i.length-1];return m!==v&&(m&&c.push(m),v&&c.push(v)),c}function j6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function z6e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z6e(Object(r),!0).forEach(function(n){Ucr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z6e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ucr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:q6e(e.dirtyHandlerIds,{type:t.type,payload:F6e(F6e({},t.payload),{},{prevTargetIds:a6e(e,"dragOperation.targetIds",[])})}),dragOffset:M6e(e.dragOffset,t),refCount:R6e(e.refCount,t),dragOperation:N6e(e.dragOperation,t),stateId:j6e(e.stateId)}}function Vcr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function U6e(e,t){return{x:e.x-t.x,y:e.y-t.y}}function V6e(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return!t||!r||!n?null:U6e(Vcr(t,n),r)}function G6e(e){var t=e.clientOffset,r=e.initialClientOffset;return!t||!r?null:U6e(t,r)}function Gcr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hcr(e,t,r){return t&&H6e(e.prototype,t),r&&H6e(e,r),e}function $6e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W6e=function(){function e(t,r){Gcr(this,e),$6e(this,"store",void 0),$6e(this,"registry",void 0),this.store=t,this.registry=r}return Hcr(e,[{key:"subscribeToStateChange",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;mr(typeof r=="function","listener must be a function."),mr(typeof o=="undefined"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,c=function(){var m=n.store.getState(),v=m.stateId;try{var E=v===a||v===a+1&&!k6e(m.dirtyHandlerIds,o);E||r()}finally{a=v}};return this.store.subscribe(c)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;mr(typeof r=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var c=n.store.getState().dragOffset;c!==i&&(i=c,r())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return mr(n,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(mr(n,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(r),o=this.getItemType();return uT(i,o)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(mr(n,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(r),o=this.getItemType();return i!==o?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var i=n.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(r),a=this.getItemType();if(a&&!uT(o,a))return!1;var c=this.getTargetIds();if(!c.length)return!1;var d=c.indexOf(r);return i?d===c.length-1:d>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return V6e(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return G6e(this.store.getState().dragOffset)}}]),e}();var $cr=0;function Z6e(){return $cr++}function o4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o4=function(r){return typeof r}:o4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o4(e)}function Y6e(e){mr(typeof e.canDrag=="function","Expected canDrag to be a function."),mr(typeof e.beginDrag=="function","Expected beginDrag to be a function."),mr(typeof e.endDrag=="function","Expected endDrag to be a function.")}function K6e(e){mr(typeof e.canDrop=="function","Expected canDrop to be a function."),mr(typeof e.hover=="function","Expected hover to be a function."),mr(typeof e.drop=="function","Expected beginDrag to be a function.")}function a4(e,t){if(t&&Array.isArray(e)){e.forEach(function(r){return a4(r,!1)});return}mr(typeof e=="string"||o4(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var X6e=typeof global!="undefined"?global:self,Q6e=X6e.MutationObserver||X6e.WebKitMutationObserver;function QZ(e){return function(){let r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),e()}}}function Wcr(e){let t=1,r=new Q6e(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}var J6e=typeof Q6e=="function"?Wcr:QZ;var s4=class{enqueueTask(t){let{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:t}=this;for(;this.index<t.length;){let r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=J6e(this.flush),this.requestErrorThrow=QZ(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var l4=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}};var u4=class{create(t){let r=this.freeTasks,n=r.length?r.pop():new l4(this.onError,i=>r[r.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}};var eBe=new s4,Zcr=new u4(eBe.registerPendingError);function tBe(e){eBe.enqueueTask(Zcr.create(e))}function Ycr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kcr(e,t,r){return t&&rBe(e.prototype,t),r&&rBe(e,r),e}function $1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xcr(e,t){return tfr(e)||efr(e,t)||Jcr(e,t)||Qcr()}function Qcr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jcr(e,t){if(e){if(typeof e=="string")return nBe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nBe(e,t)}}function nBe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function efr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function tfr(e){if(Array.isArray(e))return e}function rfr(e){var t=Z6e().toString();switch(e){case Ul.SOURCE:return"S".concat(t);case Ul.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e));}}function iBe(e){switch(e[0]){case"S":return Ul.SOURCE;case"T":return Ul.TARGET;default:mr(!1,"Cannot parse handler ID: ".concat(e));}}function oBe(e,t){var r=e.entries(),n=!1;do{var i=r.next(),o=i.done,a=Xcr(i.value,2),c=a[1];if(c===t)return!0;n=!!o}while(!n);return!1}var aBe=function(){function e(t){Ycr(this,e),$1(this,"types",new Map),$1(this,"dragSources",new Map),$1(this,"dropTargets",new Map),$1(this,"pinnedSourceId",null),$1(this,"pinnedSource",null),$1(this,"store",void 0),this.store=t}return Kcr(e,[{key:"addSource",value:function(r,n){a4(r),Y6e(n);var i=this.addHandler(Ul.SOURCE,r,n);return this.store.dispatch(C6e(i)),i}},{key:"addTarget",value:function(r,n){a4(r,!0),K6e(n);var i=this.addHandler(Ul.TARGET,r,n);return this.store.dispatch(O6e(i)),i}},{key:"containsHandler",value:function(r){return oBe(this.dragSources,r)||oBe(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;mr(this.isSourceId(r),"Expected a valid source ID.");var i=n&&r===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(r);return o}},{key:"getTarget",value:function(r){return mr(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return mr(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return mr(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=iBe(r);return n===Ul.SOURCE}},{key:"isTargetId",value:function(r){var n=iBe(r);return n===Ul.TARGET}},{key:"removeSource",value:function(r){var n=this;mr(this.getSource(r),"Expected an existing source."),this.store.dispatch(D6e(r)),tBe(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){mr(this.getTarget(r),"Expected an existing target."),this.store.dispatch(L6e(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);mr(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){mr(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,i){var o=rfr(r);return this.types.set(o,n),r===Ul.SOURCE?this.dragSources.set(o,i):r===Ul.TARGET&&this.dropTargets.set(o,i),o}}]),e}();function sBe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=nfr(n),o=new W6e(i,new aBe(i)),a=new _6e(i,o),c=e(a,t,r);return a.receiveBackend(c),a}function nfr(e){var t=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return XZ(B6e,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var ifr=["children"];function ofr(e,t){return ufr(e)||lfr(e,t)||sfr(e,t)||afr()}function afr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sfr(e,t){if(e){if(typeof e=="string")return lBe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lBe(e,t)}}function lBe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lfr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function ufr(e){if(Array.isArray(e))return e}function cfr(e,t){if(e==null)return{};var r=ffr(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ffr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var uBe=0,c4=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),fBe=(0,f4.memo)(function(t){var r=t.children,n=cfr(t,ifr),i=pfr(n),o=ofr(i,2),a=o[0],c=o[1];return(0,f4.useEffect)(function(){if(c){var d=pBe();return++uBe,function(){--uBe===0&&(d[c4]=null)}}},[]),(0,cBe.jsx)(t4.Provider,Object.assign({value:a},{children:r}),void 0)});function pfr(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var r=dfr(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[r,n]}function dfr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pBe(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=t;return i[c4]||(i[c4]={dragDropManager:sBe(e,t,r,n)}),i[c4]}function pBe(){return typeof global!="undefined"?global:window}function hfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mfr(e,t,r){return t&&dBe(e.prototype,t),r&&dBe(e,r),e}function hBe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JZ=!1,eY=!1,mBe=function(){function e(t){hfr(this,e),hBe(this,"internalMonitor",void 0),hBe(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return mfr(e,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){mr(!JZ,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return JZ=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{JZ=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;mr(!eY,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return eY=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{eY=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function gfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vfr(e,t,r){return t&&gBe(e.prototype,t),r&&gBe(e,r),e}function vBe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tY=!1,yBe=function(){function e(t){gfr(this,e),vBe(this,"internalMonitor",void 0),vBe(this,"targetId",null),this.internalMonitor=t.getMonitor()}return vfr(e,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;mr(!tY,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return tY=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{tY=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();var mT=ee(Le());function yfr(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function _fr(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!(0,mT.isValidElement)(t)){var n=t;return e(n,r),n}var i=t;yfr(i);var o=r?function(a){return e(a,r)}:e;return xfr(i,o)}}function p4(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var i=_fr(n);t[r]=function(){return i}}}),t}function _Be(e,t){typeof e=="function"?e(t):e.current=t}function xfr(e,t){var r=e.ref;return mr(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,mT.cloneElement)(e,{ref:function(i){_Be(r,i),_Be(t,i)}}):(0,mT.cloneElement)(e,{ref:t})}function d4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d4=function(r){return typeof r}:d4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d4(e)}function gT(e){return e!==null&&d4(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vT(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var m=o[d];if(!c(m))return!1;var v=e[m],E=t[m];if(i=r?r.call(n,v,E,m):void 0,i===!1||i===void 0&&v!==E)return!1}return!0}function bfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wfr(e,t,r){return t&&xBe(e.prototype,t),r&&xBe(e,r),e}function Qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bBe=function(){function e(t){var r=this;bfr(this,e),Qa(this,"hooks",p4({dragSource:function(i,o){r.clearDragSource(),r.dragSourceOptions=o||null,gT(i)?r.dragSourceRef=i:r.dragSourceNode=i,r.reconnectDragSource()},dragPreview:function(i,o){r.clearDragPreview(),r.dragPreviewOptions=o||null,gT(i)?r.dragPreviewRef=i:r.dragPreviewNode=i,r.reconnectDragPreview()}})),Qa(this,"handlerId",null),Qa(this,"dragSourceRef",null),Qa(this,"dragSourceNode",void 0),Qa(this,"dragSourceOptionsInternal",null),Qa(this,"dragSourceUnsubscribe",void 0),Qa(this,"dragPreviewRef",null),Qa(this,"dragPreviewNode",void 0),Qa(this,"dragPreviewOptionsInternal",null),Qa(this,"dragPreviewUnsubscribe",void 0),Qa(this,"lastConnectedHandlerId",null),Qa(this,"lastConnectedDragSource",null),Qa(this,"lastConnectedDragSourceOptions",null),Qa(this,"lastConnectedDragPreview",null),Qa(this,"lastConnectedDragPreviewOptions",null),Qa(this,"backend",void 0),this.backend=t}return wfr(e,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!vT(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!vT(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function Sfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Efr(e,t,r){return t&&wBe(e.prototype,t),r&&wBe(e,r),e}function Cf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SBe=function(){function e(t){var r=this;Sfr(this,e),Cf(this,"hooks",p4({dropTarget:function(i,o){r.clearDropTarget(),r.dropTargetOptions=o,gT(i)?r.dropTargetRef=i:r.dropTargetNode=i,r.reconnect()}})),Cf(this,"handlerId",null),Cf(this,"dropTargetRef",null),Cf(this,"dropTargetNode",void 0),Cf(this,"dropTargetOptionsInternal",null),Cf(this,"unsubscribeDropTarget",void 0),Cf(this,"lastConnectedHandlerId",null),Cf(this,"lastConnectedDropTarget",null),Cf(this,"lastConnectedDropTargetOptions",null),Cf(this,"backend",void 0),this.backend=t}return Efr(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!vT(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function EBe(e,t,r){var n=r.getRegistry(),i=n.addTarget(e,t);return[i,function(){return n.removeTarget(i)}]}function IBe(e,t,r){var n=r.getRegistry(),i=n.addSource(e,t);return[i,function(){return n.removeSource(i)}]}var h4=ee(Le()),Vl=typeof window!="undefined"?h4.useLayoutEffect:h4.useEffect;var g4=ee(Le());function m4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m4=function(r){return typeof r}:m4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m4(e)}function Ifr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tfr(e,t,r){return t&&TBe(e.prototype,t),r&&TBe(e,r),e}function rY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ABe=function(){function e(t,r,n){Ifr(this,e),rY(this,"spec",void 0),rY(this,"monitor",void 0),rY(this,"connector",void 0),this.spec=t,this.monitor=r,this.connector=n}return Tfr(e,[{key:"beginDrag",value:function(){var r,n=this.spec,i=this.monitor,o=null;return m4(n.item)==="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},(r=o)!==null&&r!==void 0?r:null}},{key:"canDrag",value:function(){var r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}},{key:"isDragging",value:function(r,n){var i=this.spec,o=this.monitor,a=i.isDragging;return a?a(o):n===r.getSourceId()}},{key:"endDrag",value:function(){var r=this.spec,n=this.monitor,i=this.connector,o=r.end;o&&o(n.getItem(),n),i.reconnect()}}]),e}();function MBe(e,t,r){var n=(0,g4.useMemo)(function(){return new ABe(e,t,r)},[t,r]);return(0,g4.useEffect)(function(){n.spec=e},[e]),n}var CBe=ee(Le());function Lu(){var e=(0,CBe.useContext)(t4),t=e.dragDropManager;return mr(t!=null,"Expected drag drop context"),t}var OBe=ee(Le());function DBe(e){return(0,OBe.useMemo)(function(){var t=e.type;return mr(t!=null,"spec.type must be defined"),t},[e])}function Afr(e,t){return Dfr(e)||Ofr(e,t)||Cfr(e,t)||Mfr()}function Mfr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfr(e,t){if(e){if(typeof e=="string")return LBe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LBe(e,t)}}function LBe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ofr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Dfr(e){if(Array.isArray(e))return e}function PBe(e,t,r){var n=Lu(),i=MBe(e,t,r),o=DBe(e);Vl(function(){if(o!=null){var c=IBe(o,i,n),d=Afr(c,2),m=d[0],v=d[1];return t.receiveHandlerId(m),r.receiveHandlerId(m),v}},[n,t,r,i,o])}var NBe=ee(Le());function Lfr(e){return kfr(e)||Rfr(e)||Nfr(e)||Pfr()}function Pfr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfr(e,t){if(e){if(typeof e=="string")return nY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nY(e,t)}}function Rfr(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kfr(e){if(Array.isArray(e))return nY(e)}function nY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v4(e,t){var r=Lfr(t||[]);return t==null&&typeof e!="function"&&r.push(e),(0,NBe.useMemo)(function(){return typeof e=="function"?e():e},r)}var RBe=ee(Le());function kBe(){var e=Lu();return(0,RBe.useMemo)(function(){return new mBe(e)},[e])}var qBe=ee(Le());function jBe(e,t){var r=Lu(),n=(0,qBe.useMemo)(function(){return new bBe(r.getBackend())},[r]);return Vl(function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,e]),Vl(function(){return n.dragPreviewOptions=t||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,t]),n}var UBe=ee(FBe()),y4=ee(Le());function qfr(e,t){return Bfr(e)||Ffr(e,t)||zfr(e,t)||jfr()}function jfr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfr(e,t){if(e){if(typeof e=="string")return BBe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BBe(e,t)}}function BBe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ffr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Bfr(e){if(Array.isArray(e))return e}function VBe(e,t,r){var n=(0,y4.useState)(function(){return t(e)}),i=qfr(n,2),o=i[0],a=i[1],c=(0,y4.useCallback)(function(){var d=t(e);(0,UBe.default)(o,d)||(a(d),r&&r())},[o,e,r]);return Vl(c),[o,c]}function Ufr(e,t){return $fr(e)||Hfr(e,t)||Gfr(e,t)||Vfr()}function Vfr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gfr(e,t){if(e){if(typeof e=="string")return GBe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GBe(e,t)}}function GBe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hfr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function $fr(e){if(Array.isArray(e))return e}function HBe(e,t,r){var n=VBe(e,t,r),i=Ufr(n,2),o=i[0],a=i[1];return Vl(function(){var d=e.getHandlerId();if(d!=null)return e.subscribeToStateChange(a,{handlerIds:[d]})},[e,a]),o}function _4(e,t,r){return HBe(t,e||function(){return{}},function(){return r.reconnect()})}var iY=ee(Le());function $Be(e){return(0,iY.useMemo)(function(){return e.hooks.dragSource()},[e])}function WBe(e){return(0,iY.useMemo)(function(){return e.hooks.dragPreview()},[e])}function ZBe(e,t){var r=v4(e,t);mr(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=kBe(),i=jBe(r.options,r.previewOptions);return PBe(r,n,i),[_4(r.collect,n,i),$Be(i),WBe(i)]}var YBe=ee(Le());function KBe(e){var t=e.accept;return(0,YBe.useMemo)(function(){return mr(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}var x4=ee(Le());function Wfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zfr(e,t,r){return t&&XBe(e.prototype,t),r&&XBe(e,r),e}function QBe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JBe=function(){function e(t,r){Wfr(this,e),QBe(this,"spec",void 0),QBe(this,"monitor",void 0),this.spec=t,this.monitor=r}return Zfr(e,[{key:"canDrop",value:function(){var r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}},{key:"drop",value:function(){var r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}}]),e}();function eUe(e,t){var r=(0,x4.useMemo)(function(){return new JBe(e,t)},[t]);return(0,x4.useEffect)(function(){r.spec=e},[e]),r}function Yfr(e,t){return Jfr(e)||Qfr(e,t)||Xfr(e,t)||Kfr()}function Kfr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfr(e,t){if(e){if(typeof e=="string")return tUe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tUe(e,t)}}function tUe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qfr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Jfr(e){if(Array.isArray(e))return e}function rUe(e,t,r){var n=Lu(),i=eUe(e,t),o=KBe(e);Vl(function(){var c=EBe(o,i,n),d=Yfr(c,2),m=d[0],v=d[1];return t.receiveHandlerId(m),r.receiveHandlerId(m),v},[n,t,i,r,o.map(function(a){return a.toString()}).join("|")])}var nUe=ee(Le());function iUe(){var e=Lu();return(0,nUe.useMemo)(function(){return new yBe(e)},[e])}var oUe=ee(Le());function aUe(e){var t=Lu(),r=(0,oUe.useMemo)(function(){return new SBe(t.getBackend())},[t]);return Vl(function(){return r.dropTargetOptions=e||null,r.reconnect(),function(){return r.disconnectDropTarget()}},[e]),r}var sUe=ee(Le());function lUe(e){return(0,sUe.useMemo)(function(){return e.hooks.dropTarget()},[e])}function b4(e,t){var r=v4(e,t),n=iUe(),i=aUe(r.options);return rUe(r,n,i),[_4(r.collect,n,i),lUe(i)]}var Im=ee(Tt(),1);var w4=ee(Le(),1);function uUe(e,t=300,r={}){let n=(0,w4.useRef)(null),i=(0,w4.useCallback)(o=>{n.current?(clearTimeout(n.current),n.current=null,e&&e(o)):n.current=setTimeout(()=>{r.onSingleTap&&r.onSingleTap(o),n.current=null},t)},[e,t,r.onSingleTap]);return e?{onClick:i}:{}}var ju=ee(Le(),1);var NT=ee(Tt(),1);function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fT(n.key),n)}}function ba(e,t,r){return t&&cUe(e.prototype,t),r&&cUe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(e)}function oY(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function aY(e,t){if(t&&(Hn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}function Sa(e){var t=oY();return function(){var n=Pu(e),i;if(t){var o=Pu(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return aY(this,i)}}var xY=ee(Le());var sY={},epr=[],tpr=function(t){epr.push(t)};function rpr(e,t){if(0)var r}function npr(e,t){if(0)var r}function ipr(){sY={}}function fUe(e,t,r){!t&&!sY[r]&&(e(!1,r),sY[r]=!0)}function S4(e,t){fUe(rpr,e,t)}function opr(e,t){fUe(npr,e,t)}S4.preMessage=tpr;S4.resetWarned=ipr;S4.noteOnce=opr;var od=S4;var pUe=ee(Le()),apr=function(t){var r,n,i=t.className,o=t.included,a=t.vertical,c=t.style,d=t.length,m=t.offset,v=t.reverse;d<0&&(v=!v,d=Math.abs(d),m=100-m);var E=a?(r={},mt(r,v?"top":"bottom","".concat(m,"%")),mt(r,v?"bottom":"top","auto"),mt(r,"height","".concat(d,"%")),r):(n={},mt(n,v?"right":"left","".concat(m,"%")),mt(n,v?"left":"right","auto"),mt(n,"width","".concat(d,"%")),n),I=Et(Et({},c),E);return o?pUe.default.createElement("div",{className:i,style:I}):null},E4=apr;function Ja(e,t){if(e==null)return{};var r=Ev(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lY(e){if(Array.isArray(e))return W1(e)}function uY(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yT(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function cY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nu(e){return lY(e)||uY(e)||yT(e)||cY()}function fY(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Pu(e),e!==null););return e}function xm(){return typeof Reflect!="undefined"&&Reflect.get?xm=Reflect.get.bind():xm=function(t,r,n){var i=fY(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xm.apply(this,arguments)}var Y1=ee(Le());var pY=ee(Ji());function Is(e,t,r,n){var i=pY.default.unstable_batchedUpdates?function(a){pY.default.unstable_batchedUpdates(r,a)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var bUe=ee(In());var dY=ee(Le()),dUe=ee(In());var spr=function(t,r,n,i,o,a){od(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var c=Object.keys(r).map(parseFloat).sort(function(m,v){return m-v});if(n&&i)for(var d=o;d<=a;d+=i)c.indexOf(d)===-1&&c.push(d);return c},lpr=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,a=t.dots,c=t.step,d=t.included,m=t.lowerBound,v=t.upperBound,E=t.max,I=t.min,M=t.dotStyle,L=t.activeDotStyle,R=E-I,P=spr(n,o,a,c,I,E).map(function(q){var j,B="".concat(Math.abs(q-I)/R*100,"%"),Z=!d&&q===v||d&&q<=v&&q>=m,re=n?Et(Et({},M),{},mt({},i?"top":"bottom",B)):Et(Et({},M),{},mt({},i?"right":"left",B));Z&&(re=Et(Et({},re),L));var Q=(0,dUe.default)((j={},mt(j,"".concat(r,"-dot"),!0),mt(j,"".concat(r,"-dot-active"),Z),mt(j,"".concat(r,"-dot-reverse"),i),j));return dY.default.createElement("span",{className:Q,style:re,key:q})});return dY.default.createElement("div",{className:"".concat(r,"-step")},P)},hUe=lpr;var I4=ee(Le()),mUe=ee(In()),upr=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,a=t.included,c=t.upperBound,d=t.lowerBound,m=t.max,v=t.min,E=t.onClickLabel,I=Object.keys(o),M=m-v,L=I.map(parseFloat).sort(function(R,P){return R-P}).map(function(R){var P,q=o[R],j=Hn(q)==="object"&&!I4.default.isValidElement(q),B=j?q.label:q;if(!B&&B!==0)return null;var Z=!a&&R===c||a&&R<=c&&R>=d,re=(0,mUe.default)((P={},mt(P,"".concat(r,"-text"),!0),mt(P,"".concat(r,"-text-active"),Z),P)),Q=mt({marginBottom:"-50%"},i?"top":"bottom","".concat((R-v)/M*100,"%")),oe=mt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((R-v)/M*100,"%")),me=n?Q:oe,pe=j?Et(Et({},me),q.style):me;return I4.default.createElement("span",{className:re,style:pe,key:R,onMouseDown:function(Fe){return E(Fe,R)},onTouchStart:function(Fe){return E(Fe,R)}},B)});return I4.default.createElement("div",{className:r},L)},gUe=upr;var hY=ee(Le()),vUe=ee(In());var Z1=function(e){wa(r,e);var t=Sa(r);function r(){var n;return xa(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return ba(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Is(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,a=this.props,c=a.prefixCls,d=a.vertical,m=a.reverse,v=a.offset,E=a.style,I=a.disabled,M=a.min,L=a.max,R=a.value,P=a.tabIndex,q=a.ariaLabel,j=a.ariaLabelledBy,B=a.ariaValueTextFormatter,Z=Ja(a,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),re=(0,vUe.default)(this.props.className,mt({},"".concat(c,"-handle-click-focused"),this.state.clickFocused)),Q=d?(i={},mt(i,m?"top":"bottom","".concat(v,"%")),mt(i,m?"bottom":"top","auto"),mt(i,"transform",m?null:"translateY(+50%)"),i):(o={},mt(o,m?"right":"left","".concat(v,"%")),mt(o,m?"left":"right","auto"),mt(o,"transform","translateX(".concat(m?"+":"-","50%)")),o),oe=Et(Et({},E),Q),me=P||0;(I||P===null)&&(me=null);var pe;return B&&(pe=B(R)),hY.default.createElement("div",on({ref:this.setHandleRef,tabIndex:me},Z,{className:re,style:oe,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":M,"aria-valuemax":L,"aria-valuenow":R,"aria-disabled":!!I,"aria-label":q,"aria-labelledby":j,"aria-valuetext":pe}))}}]),r}(hY.default.Component);var _Ue=ee(Ji());var Cr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Cr.F1&&r<=Cr.F12)return!1;switch(r){case Cr.ALT:case Cr.CAPS_LOCK:case Cr.CONTEXT_MENU:case Cr.CTRL:case Cr.DOWN:case Cr.END:case Cr.ESC:case Cr.HOME:case Cr.INSERT:case Cr.LEFT:case Cr.MAC_FF_META:case Cr.META:case Cr.NUMLOCK:case Cr.NUM_CENTER:case Cr.PAGE_DOWN:case Cr.PAGE_UP:case Cr.PAUSE:case Cr.PRINT_SCREEN:case Cr.RIGHT:case Cr.SHIFT:case Cr.UP:case Cr.WIN_KEY:case Cr.WIN_KEY_RIGHT:return!1;default:return!0;}},isCharacterKey:function(t){if(t>=Cr.ZERO&&t<=Cr.NINE||t>=Cr.NUM_ZERO&&t<=Cr.NUM_MULTIPLY||t>=Cr.A&&t<=Cr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Cr.SPACE:case Cr.QUESTION_MARK:case Cr.NUM_PLUS:case Cr.NUM_MINUS:case Cr.NUM_PERIOD:case Cr.NUM_DIVISION:case Cr.SEMICOLON:case Cr.DASH:case Cr.EQUALS:case Cr.COMMA:case Cr.PERIOD:case Cr.SLASH:case Cr.APOSTROPHE:case Cr.SINGLE_QUOTE:case Cr.OPEN_SQUARE_BRACKET:case Cr.BACKSLASH:case Cr.CLOSE_SQUARE_BRACKET:return!0;default:return!1;}}},ad=Cr;function T4(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,_Ue.findDOMNode)(t[r])})}catch(r){return!1}}function A4(e,t){var r=t.min,n=t.max;return e<r||e>n}function mY(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function yUe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,a=Object.keys(r).map(parseFloat);if(n!==null){var c=Math.pow(10,xUe(n)),d=Math.floor((o*c-i*c)/(n*c)),m=Math.min((e-i)/n,d),v=Math.round(m)*n+i;a.push(v)}var E=a.map(function(I){return Math.abs(e-I)});return a[E.indexOf(Math.min.apply(Math,Nu(E)))]}function xUe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function gY(e,t){return e?t.clientY:t.pageX}function vY(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function yY(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function _T(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function M4(e,t){var r=t.step,n=isFinite(yUe(e,t))?yUe(e,t):0;return r===null?n:parseFloat(n.toFixed(xUe(r)))}function sd(e){e.stopPropagation(),e.preventDefault()}function cpr(e,t,r){var n={increase:function(c,d){return c+d},decrease:function(c,d){return c-d}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function C4(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case ad.UP:o=t&&r?i:n;break;case ad.RIGHT:o=!t&&r?i:n;break;case ad.DOWN:o=t&&r?n:i;break;case ad.LEFT:o=!t&&r?n:i;break;case ad.END:return function(a,c){return c.max};case ad.HOME:return function(a,c){return c.min};case ad.PAGE_UP:return function(a,c){return a+c.step*2};case ad.PAGE_DOWN:return function(a,c){return a-c.step*2};default:return;}return function(a,c){return cpr(o,a,c)}}function Of(){}function xT(e){var t;return t=function(r){wa(i,r);var n=Sa(i);function i(o){var a;xa(this,i),a=n.call(this,o),a.onDown=function(E,I){var M=I,L=a.props,R=L.draggableTrack,P=L.vertical,q=a.state.bounds,j=R&&a.positionGetValue?a.positionGetValue(M)||[]:[],B=T4(E,a.handlesRefs);if(a.dragTrack=R&&q.length>=2&&!B&&!j.map(function(re,Q){var oe=Q?!0:re>=q[Q];return Q===j.length-1?re<=q[Q]:oe}).some(function(re){return!re}),a.dragTrack)a.dragOffset=M,a.startBounds=Nu(q);else{if(!B)a.dragOffset=0;else{var Z=yY(P,E.target);a.dragOffset=M-Z,M=Z}a.onStart(M)}},a.onMouseDown=function(E){if(E.button===0){a.removeDocumentEvents();var I=a.props.vertical,M=gY(I,E);a.onDown(E,M),a.addDocumentMouseEvents()}},a.onTouchStart=function(E){if(!mY(E)){var I=a.props.vertical,M=vY(I,E);a.onDown(E,M),a.addDocumentTouchEvents(),sd(E)}},a.onFocus=function(E){var I=a.props,M=I.onFocus,L=I.vertical;if(T4(E,a.handlesRefs)&&!a.dragTrack){var R=yY(L,E.target);a.dragOffset=0,a.onStart(R),sd(E),M&&M(E)}},a.onBlur=function(E){var I=a.props.onBlur;a.dragTrack||a.onEnd(),I&&I(E)},a.onMouseUp=function(){a.handlesRefs[a.prevMovedHandleIndex]&&a.handlesRefs[a.prevMovedHandleIndex].clickFocus()},a.onMouseMove=function(E){if(!a.sliderRef){a.onEnd();return}var I=gY(a.props.vertical,E);a.onMove(E,I-a.dragOffset,a.dragTrack,a.startBounds)},a.onTouchMove=function(E){if(mY(E)||!a.sliderRef){a.onEnd();return}var I=vY(a.props.vertical,E);a.onMove(E,I-a.dragOffset,a.dragTrack,a.startBounds)},a.onKeyDown=function(E){a.sliderRef&&T4(E,a.handlesRefs)&&a.onKeyboard(E)},a.onClickMarkLabel=function(E,I){E.stopPropagation(),a.onChange({value:I}),a.setState({value:I},function(){return a.onEnd(!0)})},a.saveSlider=function(E){a.sliderRef=E};var c=o.step,d=o.max,m=o.min,v=isFinite(d-m)?(d-m)%c===0:!0;return od(c&&Math.floor(c)===c?v:!0,"Slider[max] - Slider[min] (".concat(d-m,") should be a multiple of Slider[step] (").concat(c,")")),a.handlesRefs={},a}return ba(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var a=this.props,c=a.autoFocus,d=a.disabled;c&&!d&&this.focus()}},{key:"componentWillUnmount",value:function(){xm(Pu(i.prototype),"componentWillUnmount",this)&&xm(Pu(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var a=this.sliderRef,c=this.props,d=c.vertical,m=c.reverse,v=a.getBoundingClientRect();return d?m?v.bottom:v.top:window.pageXOffset+(m?v.right:v.left)}},{key:"getSliderLength",value:function(){var a=this.sliderRef;if(!a)return 0;var c=a.getBoundingClientRect();return this.props.vertical?c.height:c.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Is(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Is(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Is(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Is(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var a;this.props.disabled||(a=this.handlesRefs[0])===null||a===void 0||a.focus()}},{key:"blur",value:function(){var a=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(c){var d,m;(d=a.handlesRefs[c])===null||d===void 0||(m=d.blur)===null||m===void 0||m.call(d)})}},{key:"calcValue",value:function(a){var c=this.props,d=c.vertical,m=c.min,v=c.max,E=Math.abs(Math.max(a,0)/this.getSliderLength()),I=d?(1-E)*(v-m)+m:E*(v-m)+m;return I}},{key:"calcValueByPos",value:function(a){var c=this.props.reverse?-1:1,d=c*(a-this.getSliderStart()),m=this.trimAlignValue(this.calcValue(d));return m}},{key:"calcOffset",value:function(a){var c=this.props,d=c.min,m=c.max,v=(a-d)/(m-d);return Math.max(0,v*100)}},{key:"saveHandle",value:function(a,c){this.handlesRefs[a]=c}},{key:"render",value:function(){var a,c=this.props,d=c.prefixCls,m=c.className,v=c.marks,E=c.dots,I=c.step,M=c.included,L=c.disabled,R=c.vertical,P=c.reverse,q=c.min,j=c.max,B=c.children,Z=c.maximumTrackStyle,re=c.style,Q=c.railStyle,oe=c.dotStyle,me=c.activeDotStyle,pe=xm(Pu(i.prototype),"render",this).call(this),Ae=pe.tracks,Fe=pe.handles,$e=(0,bUe.default)(d,(a={},mt(a,"".concat(d,"-with-marks"),Object.keys(v).length),mt(a,"".concat(d,"-disabled"),L),mt(a,"".concat(d,"-vertical"),R),mt(a,m,m),a));return Y1.default.createElement("div",{ref:this.saveSlider,className:$e,onTouchStart:L?Of:this.onTouchStart,onMouseDown:L?Of:this.onMouseDown,onMouseUp:L?Of:this.onMouseUp,onKeyDown:L?Of:this.onKeyDown,onFocus:L?Of:this.onFocus,onBlur:L?Of:this.onBlur,style:re},Y1.default.createElement("div",{className:"".concat(d,"-rail"),style:Et(Et({},Z),Q)}),Ae,Y1.default.createElement(hUe,{prefixCls:d,vertical:R,reverse:P,marks:v,dots:E,step:I,included:M,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:q,dotStyle:oe,activeDotStyle:me}),Fe,Y1.default.createElement(gUe,{className:"".concat(d,"-mark"),onClickLabel:L?Of:this.onClickMarkLabel,vertical:R,marks:v,included:M,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:q,reverse:P}),B)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Et(Et({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=Ja(n,["index"]);return delete o.dragging,o.value===null?null:Y1.default.createElement(Z1,on({},o,{key:i}))},onBeforeChange:Of,onChange:Of,onAfterChange:Of,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var fpr=function(e){wa(r,e);var t=Sa(r);function r(n){var i;xa(this,r),i=t.call(this,n),i.positionGetValue=function(c){return[]},i.onEnd=function(c){var d=i.state.dragging;i.removeDocumentEvents(),(d||c)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,a=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(a),dragging:!1},od(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),od(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return ba(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var a=this.props,c=a.min,d=a.max,m=a.value,v=a.onChange;if("min"in this.props||"max"in this.props){var E=m!==void 0?m:o.value,I=this.trimAlignValue(E,this.props);I!==o.value&&(this.setState({value:I}),!(c===i.min&&d===i.max)&&A4(E,this.props)&&v(I))}}},{key:"onChange",value:function(i){var o=this.props,a=!("value"in o),c=i.value>this.props.max?Et(Et({},i),{},{value:this.props.max}):i;a&&this.setState(c);var d=c.value;o.onChange(d)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,a=this.getValue();o.onBeforeChange(a);var c=this.calcValueByPos(i);this.startValue=c,this.startPosition=i,c!==a&&(this.prevMovedHandleIndex=0,this.onChange({value:c}))}},{key:"onMove",value:function(i,o){sd(i);var a=this.state.value,c=this.calcValueByPos(o);c!==a&&this.onChange({value:c})}},{key:"onKeyboard",value:function(i){var o=this.props,a=o.reverse,c=o.vertical,d=C4(i,c,a);if(d){sd(i);var m=this.state,v=m.value,E=d(v,this.props),I=this.trimAlignValue(E);if(I===v)return;this.onChange({value:I}),this.props.onAfterChange(I),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var a=Et(Et({},this.props),o),c=_T(i,a);return M4(c,a)}},{key:"render",value:function(){var i=this,o=this.props,a=o.prefixCls,c=o.vertical,d=o.included,m=o.disabled,v=o.minimumTrackStyle,E=o.trackStyle,I=o.handleStyle,M=o.tabIndex,L=o.ariaLabelForHandle,R=o.ariaLabelledByForHandle,P=o.ariaValueTextFormatterForHandle,q=o.min,j=o.max,B=o.startPoint,Z=o.reverse,re=o.handle,Q=this.state,oe=Q.value,me=Q.dragging,pe=this.calcOffset(oe),Ae=re({className:"".concat(a,"-handle"),prefixCls:a,vertical:c,offset:pe,value:oe,dragging:me,disabled:m,min:q,max:j,reverse:Z,index:0,tabIndex:M,ariaLabel:L,ariaLabelledBy:R,ariaValueTextFormatter:P,style:I[0]||I,ref:function(Ye){return i.saveHandle(0,Ye)}}),Fe=B!==void 0?this.calcOffset(B):0,$e=E[0]||E,Ue=xY.default.createElement(E4,{className:"".concat(a,"-track"),vertical:c,included:d,offset:Fe,reverse:Z,length:pe-Fe,style:Et(Et({},v),$e)});return{tracks:Ue,handles:Ae}}}]),r}(xY.default.Component),wUe=xT(fpr);var bY=ee(Le()),wY=ee(In());var bT=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,a=o.allowCross,c=o.pushable,d=Number(c),m=_T(r,o),v=m;return!a&&n!=null&&i!==void 0&&(n>0&&m<=i[n-1]+d&&(v=i[n-1]+d),n<i.length-1&&m>=i[n+1]-d&&(v=i[n+1]-d)),M4(v,o)},SY=function(e){wa(r,e);var t=Sa(r);function r(n){var i;xa(this,r),i=t.call(this,n),i.positionGetValue=function(M){var L=i.getValue(),R=i.calcValueByPos(M),P=i.getClosestBound(R),q=i.getBoundNeedMoving(R,P),j=L[q];if(R===j)return null;var B=Nu(L);return B[q]=R,B},i.onEnd=function(M){var L=i.state.handle;i.removeDocumentEvents(),L||(i.dragTrack=!1),(L!==null||M)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,a=n.min,c=n.max,d=Array.apply(void 0,Nu(Array(o+1))).map(function(){return a}),m="defaultValue"in n?n.defaultValue:d,v=n.value!==void 0?n.value:m,E=v.map(function(M,L){return bT({value:M,handle:L,props:n})}),I=E[0]===c?0:E.length-1;return i.state={handle:null,recent:I,bounds:E},i}return ba(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var a=this,c=this.props,d=c.onChange,m=c.value,v=c.min,E=c.max;if(("min"in this.props||"max"in this.props)&&!(v===i.min&&E===i.max)){var I=m||o.bounds;if(I.some(function(L){return A4(L,a.props)})){var M=I.map(function(L){return _T(L,a.props)});d(M)}}}},{key:"onChange",value:function(i){var o=this.props,a=!("value"in o);if(a)this.setState(i);else{var c={};["handle","recent"].forEach(function(v){i[v]!==void 0&&(c[v]=i[v])}),Object.keys(c).length&&this.setState(c)}var d=Et(Et({},this.state),i),m=d.bounds;o.onChange(m)}},{key:"onStart",value:function(i){var o=this.props,a=this.state,c=this.getValue();o.onBeforeChange(c);var d=this.calcValueByPos(i);this.startValue=d,this.startPosition=i;var m=this.getClosestBound(d);this.prevMovedHandleIndex=this.getBoundNeedMoving(d,m),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var v=c[this.prevMovedHandleIndex];if(d!==v){var E=Nu(a.bounds);E[this.prevMovedHandleIndex]=d,this.onChange({bounds:E})}}},{key:"onMove",value:function(i,o,a,c){sd(i);var d=this.state,m=this.props,v=m.max||100,E=m.min||0;if(a){var I=m.vertical?-o:o;I=m.reverse?-I:I;var M=v-Math.max.apply(Math,Nu(c)),L=E-Math.min.apply(Math,Nu(c)),R=Math.min(Math.max(I/(this.getSliderLength()/(v-E)),L),M),P=c.map(function(B){return Math.floor(Math.max(Math.min(B+R,v),E))});d.bounds.map(function(B,Z){return B===P[Z]}).some(function(B){return!B})&&this.onChange({bounds:P});return}var q=this.calcValueByPos(o),j=d.bounds[d.handle];q!==j&&this.moveTo(q)}},{key:"onKeyboard",value:function(i){var o=this.props,a=o.reverse,c=o.vertical,d=C4(i,c,a);if(d){sd(i);var m=this.state,v=this.props,E=m.bounds,I=m.handle,M=E[I===null?m.recent:I],L=d(M,v),R=bT({value:L,handle:I,bounds:m.bounds,props:v});if(R===M)return;var P=!0;this.moveTo(R,P)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,a=0,c=1;c<o.length-1;c+=1)i>=o[c]&&(a=c);return Math.abs(o[a+1]-i)<Math.abs(o[a]-i)&&(a+=1),a}},{key:"getBoundNeedMoving",value:function(i,o){var a=this.state,c=a.bounds,d=a.recent,m=o,v=c[o+1]===c[o];return v&&c[d]===c[o]&&(m=d),v&&i!==c[o+1]&&(m=i<c[o+1]?o:o+1),m}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,a=i.step,c=i.min,d=i.max,m=this.internalPointsCache;if(!m||m.marks!==o||m.step!==a){var v=Et({},o);if(a!==null)for(var E=c;E<=d;E+=a)v[E]=E;var I=Object.keys(v).map(parseFloat);I.sort(function(M,L){return M-L}),this.internalPointsCache={marks:o,step:a,points:I}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var a=this,c=this.state,d=this.props,m=Nu(c.bounds),v=c.handle===null?c.recent:c.handle;m[v]=i;var E=v;d.pushable!==!1?this.pushSurroundingHandles(m,E):d.allowCross&&(m.sort(function(I,M){return I-M}),E=m.indexOf(i)),this.onChange({recent:E,handle:E,bounds:m}),o&&(this.props.onAfterChange(m),this.setState({},function(){a.handlesRefs[E].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var a=i[o],c=this.props.pushable,d=Number(c),m=0;if(i[o+1]-a<d&&(m=1),a-i[o-1]<d&&(m=-1),m!==0){var v=o+m,E=m*(i[v]-a);this.pushHandle(i,v,m,d-E)||(i[o]=i[v]-m*d)}}},{key:"pushHandle",value:function(i,o,a,c){for(var d=i[o],m=i[o];a*(m-d)<c;){if(!this.pushHandleOnePoint(i,o,a))return i[o]=d,!1;m=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,a){var c=this.getPoints(),d=c.indexOf(i[o]),m=d+a;if(m>=c.length||m<0)return!1;var v=o+a,E=c[m],I=this.props.pushable,M=Number(I),L=a*(i[v]-E);return this.pushHandle(i,v,a,M-L)?(i[o]=E,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,a=o.handle,c=o.bounds;return bT({value:i,handle:a,bounds:c,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,a=o.handle,c=o.bounds,d=this.props,m=d.prefixCls,v=d.vertical,E=d.included,I=d.disabled,M=d.min,L=d.max,R=d.reverse,P=d.handle,q=d.trackStyle,j=d.handleStyle,B=d.tabIndex,Z=d.ariaLabelGroupForHandles,re=d.ariaLabelledByGroupForHandles,Q=d.ariaValueTextFormatterGroupForHandles,oe=c.map(function(Fe){return i.calcOffset(Fe)}),me="".concat(m,"-handle"),pe=c.map(function(Fe,$e){var Ue,Xe=B[$e]||0;(I||B[$e]===null)&&(Xe=null);var Ye=a===$e;return P({className:(0,wY.default)((Ue={},mt(Ue,me,!0),mt(Ue,"".concat(me,"-").concat($e+1),!0),mt(Ue,"".concat(me,"-dragging"),Ye),Ue)),prefixCls:m,vertical:v,dragging:Ye,offset:oe[$e],value:Fe,index:$e,tabIndex:Xe,min:M,max:L,reverse:R,disabled:I,style:j[$e],ref:function(ke){return i.saveHandle($e,ke)},ariaLabel:Z[$e],ariaLabelledBy:re[$e],ariaValueTextFormatter:Q[$e]})}),Ae=c.slice(0,-1).map(function(Fe,$e){var Ue,Xe=$e+1,Ye=(0,wY.default)((Ue={},mt(Ue,"".concat(m,"-track"),!0),mt(Ue,"".concat(m,"-track-").concat(Xe),!0),Ue));return bY.default.createElement(E4,{className:Ye,vertical:v,reverse:R,included:E,offset:oe[Xe-1],length:oe[Xe]-oe[Xe-1],style:q[$e],key:Xe})});return{tracks:Ae,handles:pe}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var a=i.value||o.bounds,c=a.map(function(d,m){return bT({value:d,handle:m,bounds:o.bounds,props:i})});if(o.bounds.length===c.length){if(c.every(function(d,m){return d===o.bounds[m]}))return null}else c=a.map(function(d,m){return bT({value:d,handle:m,props:i})});return Et(Et({},o),{},{bounds:c})}}]),r}(bY.default.Component);SY.displayName="Range";SY.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var O4=xT(SY);var PT=ee(Le());var fd=ee(Le());var lK=ee(Le()),nx=ee(Le());var $l=ee(Le()),rVe=ee(Ji());var EUe=function(t){return+setTimeout(t,16)},IUe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(EUe=function(t){return window.requestAnimationFrame(t)},IUe=function(t){return window.cancelAnimationFrame(t)});var SUe=0,EY=new Map;function TUe(e){EY.delete(e)}var AUe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;SUe+=1;var n=SUe;function i(o){if(o===0)TUe(n),t();else{var a=EUe(function(){i(o-1)});EY.set(n,a)}}return i(r),n};AUe.cancel=function(e){var t=EY.get(e);return TUe(t),IUe(t)};var cl=AUe;function Yv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var MUe=ee(Le()),CUe=ee(Ji());function ppr(e){return e instanceof HTMLElement||e instanceof SVGElement}function wT(e){return ppr(e)?e:e instanceof MUe.default.Component?CUe.default.findDOMNode(e):null}var _pr=ee(Le()),MY=ee(PUe());var ypr=ee(Le());function CY(e,t){typeof e=="function"?e(t):Hn(e)==="object"&&e&&"current"in e&&(e.current=t)}function K1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(function(i){return i});return n.length<=1?n[0]:function(i){t.forEach(function(o){CY(o,i)})}}function B4(e){var t,r,n=(0,MY.isMemo)(e)?e.type.type:e.type;return!(typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render))}var Lc=ee(Le()),NUe=ee(Ji());function Df(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var xpr=(0,Lc.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,Lc.useRef)(),a=(0,Lc.useRef)();(0,Lc.useImperativeHandle)(t,function(){return{}});var c=(0,Lc.useRef)(!1);return!c.current&&Df()&&(a.current=n(),o.current=a.current.parentNode,c.current=!0),(0,Lc.useEffect)(function(){r==null||r(e)}),(0,Lc.useEffect)(function(){return a.current.parentNode===null&&o.current!==null&&o.current.appendChild(a.current),function(){var d,m;(d=a.current)===null||d===void 0||(m=d.parentNode)===null||m===void 0||m.removeChild(a.current)}},[]),a.current?NUe.default.createPortal(i,a.current):null}),RUe=xpr;var nVe=ee(In());function bpr(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function kUe(e,t,r){var n=e[t]||{};return Et(Et({},n),r)}function qUe(e,t,r,n){for(var i=r.points,o=Object.keys(e),a=0;a<o.length;a+=1){var c=o[a];if(bpr(e[c].points,i,n))return"".concat(t,"-placement-").concat(c)}return""}function OY(e){if(Array.isArray(e))return e}function DY(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,c=[],d=!0,m=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(v){m=!0,i=v}finally{try{if(!d&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(m)throw i}}return c}}function LY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(e,t){return OY(e)||DY(e,t)||yT(e,t)||LY()}var Jv=ee(Le()),LT=ee(Le());var jUe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var UY=ee(Le()),t8e=ee(In());var JUe=ee(In());var pl=ee(Le()),BY=ee(Le());var PY=ee(Le());var zUe=PY.createContext({});var FUe=ee(Le()),wpr=function(e){wa(r,e);var t=Sa(r);function r(){return xa(this,r),t.apply(this,arguments)}return ba(r,[{key:"render",value:function(){return this.props.children}}]),r}(FUe.Component),BUe=wpr;var X1=ee(Le());function ld(e){var t=X1.useRef(!1),r=X1.useState(e),n=Pn(r,2),i=n[0],o=n[1];X1.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,d){d&&t.current||o(c)}return[i,a]}var X4=ee(Le()),wm=ee(Le());var ud="none",ST="appear",ET="enter",IT="leave",NY="none",fl="prepare",cd="start",bm="active",U4="end",V4="prepared";var $4=ee(Le()),jY=ee(Le());function UUe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Spr(e,t){var r={animationend:UUe("Animation","AnimationEnd"),transitionend:UUe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var Epr=Spr(Df(),typeof window!="undefined"?window:{}),GUe={};Df()&&(VUe=document.createElement("div"),GUe=VUe.style);var VUe,G4={};function HUe(e){if(G4[e])return G4[e];var t=Epr[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in GUe)return G4[e]=t[o],G4[e]}return""}var $Ue=HUe("animationend"),WUe=HUe("transitionend"),H4=!!($Ue&&WUe),RY=$Ue||"animationend",kY=WUe||"transitionend";function qY(e,t){if(!e)return null;if(Hn(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var ZUe=function(e){var t=(0,jY.useRef)(),r=(0,jY.useRef)(e);r.current=e;var n=$4.useCallback(function(a){r.current(a)},[]);function i(a){a&&(a.removeEventListener(kY,n),a.removeEventListener(RY,n))}function o(a){t.current&&t.current!==a&&i(t.current),a&&a!==t.current&&(a.addEventListener(kY,n),a.addEventListener(RY,n),t.current=a)}return $4.useEffect(function(){return function(){i(t.current)}},[]),[o,i]};var W4=ee(Le()),Ipr=Df()?W4.useLayoutEffect:W4.useEffect,Z4=Ipr;var KUe=ee(Le());var Y4=ee(Le()),YUe=function(){var e=Y4.useRef(null);function t(){cl.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=cl(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return Y4.useEffect(function(){return function(){t()}},[]),[r,t]};var Tpr=[fl,cd,bm,U4],Apr=[fl,V4],zY=!1,XUe=!0;function K4(e){return e===bm||e===U4}var QUe=function(e,t,r){var n=ld(NY),i=Pn(n,2),o=i[0],a=i[1],c=YUe(),d=Pn(c,2),m=d[0],v=d[1];function E(){a(fl,!0)}var I=t?Apr:Tpr;return Z4(function(){if(o!==NY&&o!==U4){var M=I.indexOf(o),L=I[M+1],R=r(o);R===zY?a(L,!0):L&&m(function(P){function q(){P.isCanceled()||a(L,!0)}R===!0?q():Promise.resolve(R).then(q)})}},[e,o]),KUe.useEffect(function(){return function(){v()}},[]),[E,o]};function FY(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,a=n.motionAppear,c=a===void 0?!0:a,d=n.motionLeave,m=d===void 0?!0:d,v=n.motionDeadline,E=n.motionLeaveImmediately,I=n.onAppearPrepare,M=n.onEnterPrepare,L=n.onLeavePrepare,R=n.onAppearStart,P=n.onEnterStart,q=n.onLeaveStart,j=n.onAppearActive,B=n.onEnterActive,Z=n.onLeaveActive,re=n.onAppearEnd,Q=n.onEnterEnd,oe=n.onLeaveEnd,me=n.onVisibleChanged,pe=ld(),Ae=Pn(pe,2),Fe=Ae[0],$e=Ae[1],Ue=ld(ud),Xe=Pn(Ue,2),Ye=Xe[0],Re=Xe[1],ke=ld(null),je=Pn(ke,2),it=je[0],ot=je[1],at=(0,wm.useRef)(!1),Be=(0,wm.useRef)(null);function Ze(){return r()}var nt=(0,wm.useRef)(!1);function Ce(){Re(ud,!0),ot(null,!0)}function de(ar){var Ft=Ze();if(!(ar&&!ar.deadline&&ar.target!==Ft)){var cr=nt.current,Br;Ye===ST&&cr?Br=re==null?void 0:re(Ft,ar):Ye===ET&&cr?Br=Q==null?void 0:Q(Ft,ar):Ye===IT&&cr&&(Br=oe==null?void 0:oe(Ft,ar)),Ye!==ud&&cr&&Br!==!1&&Ce()}}var Ne=ZUe(de),Ee=Pn(Ne,1),Qe=Ee[0],Ke=function(Ft){var cr,Br,Ur;switch(Ft){case ST:return cr={},mt(cr,fl,I),mt(cr,cd,R),mt(cr,bm,j),cr;case ET:return Br={},mt(Br,fl,M),mt(Br,cd,P),mt(Br,bm,B),Br;case IT:return Ur={},mt(Ur,fl,L),mt(Ur,cd,q),mt(Ur,bm,Z),Ur;default:return{};}},yt=X4.useMemo(function(){return Ke(Ye)},[Ye]),_t=QUe(Ye,!e,function(ar){if(ar===fl){var Ft=yt[fl];return Ft?Ft(Ze()):zY}if(ft in yt){var cr;ot(((cr=yt[ft])===null||cr===void 0?void 0:cr.call(yt,Ze(),null))||null)}return ft===bm&&(Qe(Ze()),v>0&&(clearTimeout(Be.current),Be.current=setTimeout(function(){de({deadline:!0})},v))),ft===V4&&Ce(),XUe}),gt=Pn(_t,2),Se=gt[0],ft=gt[1],zt=K4(ft);nt.current=zt,Z4(function(){$e(t);var ar=at.current;at.current=!0;var Ft;!ar&&t&&c&&(Ft=ST),ar&&t&&o&&(Ft=ET),(ar&&!t&&m||!ar&&E&&!t&&m)&&(Ft=IT);var cr=Ke(Ft);Ft&&(e||cr[fl])?(Re(Ft),Se()):Re(ud)},[t]),(0,wm.useEffect)(function(){(Ye===ST&&!c||Ye===ET&&!o||Ye===IT&&!m)&&Re(ud)},[c,o,m]),(0,wm.useEffect)(function(){return function(){at.current=!1,clearTimeout(Be.current)}},[]);var pt=X4.useRef(!1);(0,wm.useEffect)(function(){Fe&&(pt.current=!0),Fe!==void 0&&Ye===ud&&((pt.current||Fe)&&(me==null||me(Fe)),pt.current=!0)},[Fe,Ye]);var Ht=it;return yt[fl]&&ft===cd&&(Ht=Et({transition:"none"},Ht)),[Ye,ft,Ht,Fe!=null?Fe:t]}function Mpr(e){var t=e;Hn(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=pl.forwardRef(function(i,o){var a=i.visible,c=a===void 0?!0:a,d=i.removeOnLeave,m=d===void 0?!0:d,v=i.forceRender,E=i.children,I=i.motionName,M=i.leavedClassName,L=i.eventProps,R=pl.useContext(zUe),P=R.motion,q=r(i,P),j=(0,BY.useRef)(),B=(0,BY.useRef)();function Z(){try{return j.current instanceof HTMLElement?j.current:wT(B.current)}catch(ot){return null}}var re=FY(q,c,Z,i),Q=Pn(re,4),oe=Q[0],me=Q[1],pe=Q[2],Ae=Q[3],Fe=pl.useRef(Ae);Ae&&(Fe.current=!0);var $e=pl.useCallback(function(ot){j.current=ot,CY(o,ot)},[o]),Ue,Xe=Et(Et({},L),{},{visible:c});if(!E)Ue=null;else if(oe===ud)Ae?Ue=E(Et({},Xe),$e):!m&&Fe.current&&M?Ue=E(Et(Et({},Xe),{},{className:M}),$e):v||!m&&!M?Ue=E(Et(Et({},Xe),{},{style:{display:"none"}}),$e):Ue=null;else{var Ye,Re;me===fl?Re="prepare":K4(me)?Re="active":me===cd&&(Re="start");var ke=qY(I,"".concat(oe,"-").concat(Re));Ue=E(Et(Et({},Xe),{},{className:(0,JUe.default)(qY(I,oe),(Ye={},mt(Ye,ke,ke&&Re),mt(Ye,I,typeof I=="string"),Ye)),style:pe}),$e)}if(pl.isValidElement(Ue)&&B4(Ue)){var je=Ue,it=je.ref;it||(Ue=pl.cloneElement(Ue,{ref:$e}))}return pl.createElement(BUe,{ref:B},Ue)});return n.displayName="CSSMotion",n}var Q4=Mpr(H4);var Kv=ee(Le());var J4="add",e5="keep",t5="remove",n5="removed";function Cpr(e){var t;return e&&Hn(e)==="object"&&"key"in e?t=e:t={key:e},Et(Et({},t),{},{key:String(t.key)})}function r5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Cpr)}function e8e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=r5(e),a=r5(t);o.forEach(function(m){for(var v=!1,E=n;E<i;E+=1){var I=a[E];if(I.key===m.key){n<E&&(r=r.concat(a.slice(n,E).map(function(M){return Et(Et({},M),{},{status:J4})})),n=E),r.push(Et(Et({},I),{},{status:e5})),n+=1,v=!0;break}}v||r.push(Et(Et({},m),{},{status:t5}))}),n<i&&(r=r.concat(a.slice(n).map(function(m){return Et(Et({},m),{},{status:J4})})));var c={};r.forEach(function(m){var v=m.key;c[v]=(c[v]||0)+1});var d=Object.keys(c).filter(function(m){return c[m]>1});return d.forEach(function(m){r=r.filter(function(v){var E=v.key,I=v.status;return E!==m||I!==t5}),r.forEach(function(v){v.key===m&&(v.status=e5)})}),r}var Opr=["component","children","onVisibleChanged","onAllRemoved"],Dpr=["status"],Lpr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Ppr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q4,r=function(n){wa(o,n);var i=Sa(o);function o(){var a;xa(this,o);for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return a=i.call.apply(i,[this].concat(d)),mt(Pr(a),"state",{keyEntities:[]}),mt(Pr(a),"removeKey",function(v){var E=a.state.keyEntities,I=E.map(function(M){return M.key!==v?M:Et(Et({},M),{},{status:n5})});return a.setState({keyEntities:I}),I.filter(function(M){var L=M.status;return L!==n5}).length}),a}return ba(o,[{key:"render",value:function(){var c=this,d=this.state.keyEntities,m=this.props,v=m.component,E=m.children,I=m.onVisibleChanged,M=m.onAllRemoved,L=Ja(m,Opr),R=v||Kv.Fragment,P={};return Lpr.forEach(function(q){P[q]=L[q],delete L[q]}),delete L.keys,Kv.createElement(R,L,d.map(function(q,j){var B=q.status,Z=Ja(q,Dpr),re=B===J4||B===e5;return Kv.createElement(t,on({},P,{key:Z.key,visible:re,eventProps:Z,onVisibleChanged:function(oe){if(I==null||I(oe,{key:Z.key}),!oe){var me=c.removeKey(Z.key);me===0&&M&&M()}}}),function(Q,oe){return E(Et(Et({},Q),{},{index:j}),oe)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,d){var m=c.keys,v=d.keyEntities,E=r5(m),I=e8e(v,E);return{keyEntities:I.filter(function(M){var L=v.find(function(R){var P=R.key;return M.key===P});return!(L&&L.status===n5&&M.status===t5)})}}}]),o}(Kv.Component);return mt(r,"defaultProps",{component:"div"}),r}var Npr=Ppr(H4);var Q1=Q4;function i5(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function VY(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,c=e.maskTransitionName;if(!i)return null;var d={};return(o||c||a)&&(d=Et({motionAppear:!0},i5({motion:o,prefixCls:t,transitionName:c,animation:a}))),UY.createElement(Q1,on({},d,{visible:r,removeOnLeave:!0}),function(m){var v=m.className;return UY.createElement("div",{style:{zIndex:n},className:(0,t8e.default)("".concat(t,"-mask"),v)})})}var Hl=ee(Le()),Qv=ee(Le());function r8e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8e(Object(r),!0).forEach(function(n){Rpr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(e){"@babel/helpers - typeof";return ZY=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZY(e)}function Rpr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TT,kpr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function u5(){if(TT!==void 0)return TT;TT="";var e=document.createElement("p").style,t="Transform";for(var r in kpr)r+t in e&&(TT=r);return TT}function g8e(){return u5()?"".concat(u5(),"TransitionProperty"):"transitionProperty"}function c5(){return u5()?"".concat(u5(),"Transform"):"transform"}function i8e(e,t){var r=g8e();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function GY(e,t){var r=c5();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function qpr(e){return e.style.transitionProperty||e.style[g8e()]}function jpr(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(c5());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var zpr=/matrix\((.*)\)/,Fpr=/matrix3d\((.*)\)/;function Bpr(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(c5());if(n&&n!=="none"){var i,o=n.match(zpr);if(o)o=o[1],i=o.split(",").map(function(c){return parseFloat(c,10)}),i[4]=t.x,i[5]=t.y,GY(e,"matrix(".concat(i.join(","),")"));else{var a=n.match(Fpr)[1];i=a.split(",").map(function(c){return parseFloat(c,10)}),i[12]=t.x,i[13]=t.y,GY(e,"matrix3d(".concat(i.join(","),")"))}}else GY(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Upr=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,CT;function o8e(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function J1(e,t,r){var n=r;if(ZY(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&J1(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return CT(e,t)}function Vpr(e){var t,r,n,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=a.clientLeft||o.clientLeft||0,n-=a.clientTop||o.clientTop||0,{left:r,top:n}}function v8e(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function y8e(e){return v8e(e)}function _8e(e){return v8e(e,!0)}function MT(e){var t=Vpr(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=y8e(n),t.top+=_8e(n),t}function QY(e){return e!=null&&e==e.window}function x8e(e){return QY(e)?e.document:e.nodeType===9?e:e.ownerDocument}function Gpr(e,t,r){var n=r,i="",o=x8e(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var Hpr=new RegExp("^(".concat(Upr,")(?!px)[a-z%]+$"),"i"),$pr=/^(top|right|bottom|left)$/,HY="currentStyle",$Y="runtimeStyle",Xv="left",Wpr="px";function Zpr(e,t){var r=e[HY]&&e[HY][t];if(Hpr.test(r)&&!$pr.test(t)){var n=e.style,i=n[Xv],o=e[$Y][Xv];e[$Y][Xv]=e[HY][Xv],n[Xv]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+Wpr,n[Xv]=i,e[$Y][Xv]=o}return r===""?"auto":r}typeof window!="undefined"&&(CT=window.getComputedStyle?Gpr:Zpr);function o5(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function a8e(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function s8e(e,t,r){J1(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=o5("left",r),a=o5("top",r),c=a8e(o),d=a8e(a);o!=="left"&&(n=999),a!=="top"&&(i=999);var m="",v=MT(e);("left"in t||"top"in t)&&(m=qpr(e)||"",i8e(e,"none")),"left"in t&&(e.style[c]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[d]="",e.style[a]="".concat(i,"px")),o8e(e);var E=MT(e),I={};for(var M in t)if(t.hasOwnProperty(M)){var L=o5(M,r),R=M==="left"?n:i,P=v[M]-E[M];L===M?I[L]=R+P:I[L]=R-P}J1(e,I),o8e(e),("left"in t||"top"in t)&&i8e(e,m);var q={};for(var j in t)if(t.hasOwnProperty(j)){var B=o5(j,r),Z=t[j]-v[j];j===B?q[B]=I[B]+Z:q[B]=I[B]-Z}J1(e,q)}function Ypr(e,t){var r=MT(e),n=jpr(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Bpr(e,i)}function Kpr(e,t,r){if(r.ignoreShake){var n=MT(e),i=n.left.toFixed(0),o=n.top.toFixed(0),a=t.left.toFixed(0),c=t.top.toFixed(0);if(i===a&&o===c)return}r.useCssRight||r.useCssBottom?s8e(e,t,r):r.useCssTransform&&c5()in document.body.style?Ypr(e,t):s8e(e,t,r)}function JY(e,t){for(var r=0;r<e.length;r++)t(e[r])}function b8e(e){return CT(e,"boxSizing")==="border-box"}var Xpr=["margin","border","padding"],YY=-1,Qpr=2,KY=1,Jpr=0;function edr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function AT(e,t,r){var n=0,i,o,a;for(o=0;o<t.length;o++)if(i=t[o],i)for(a=0;a<r.length;a++){var c=void 0;i==="border"?c="".concat(i).concat(r[a],"Width"):c=i+r[a],n+=parseFloat(CT(e,c))||0}return n}var Lf={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};JY(["Width","Height"],function(e){Lf["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Lf["viewport".concat(e)](r))},Lf["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,a=o[r];return n.compatMode==="CSS1Compat"&&a||i&&i[r]||a}});function l8e(e,t,r){var n=r;if(QY(e))return t==="width"?Lf.viewportWidth(e):Lf.viewportHeight(e);if(e.nodeType===9)return t==="width"?Lf.docWidth(e):Lf.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),a=b8e(e),c=0;(o==null||o<=0)&&(o=void 0,c=CT(e,t),(c==null||Number(c)<0)&&(c=e.style[t]||0),c=Math.floor(parseFloat(c))||0),n===void 0&&(n=a?KY:YY);var d=o!==void 0||a,m=o||c;return n===YY?d?m-AT(e,["border","padding"],i):c:d?n===KY?m:m+(n===Qpr?-AT(e,["border"],i):AT(e,["margin"],i)):c+AT(e,Xpr.slice(n),i)}var tdr={position:"absolute",visibility:"hidden",display:"block"};function u8e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=l8e.apply(void 0,t):edr(i,tdr,function(){n=l8e.apply(void 0,t)}),n}JY(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Lf["outer".concat(t)]=function(n,i){return n&&u8e(n,e,i?Jpr:KY)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Lf[e]=function(n,i){var o=i;if(o!==void 0){if(n){var a=b8e(n);return a&&(o+=AT(n,["padding","border"],r)),J1(n,e,o)}return}return n&&u8e(n,e,YY)}});function w8e(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Fr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:x8e,offset:function(t,r,n){if(typeof r!="undefined")Kpr(t,r,n||{});else return MT(t)},isWindow:QY,each:JY,css:J1,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:w8e,getWindowScrollLeft:function(t){return y8e(t)},getWindowScrollTop:function(t){return _8e(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Fr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};w8e(Fr,Lf);var WY=Fr.getParent;function XY(e){if(Fr.isWindow(e)||e.nodeType===9)return null;var t=Fr.getDocument(e),r=t.body,n,i=Fr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:WY(e);for(n=WY(e);n&&n!==r&&n.nodeType!==9;n=WY(n))if(i=Fr.css(n,"position"),i!=="static")return n;return null}var c8e=Fr.getParent;function rdr(e){if(Fr.isWindow(e)||e.nodeType===9)return!1;var t=Fr.getDocument(e),r=t.body,n=null;for(n=c8e(e);n&&n!==r&&n!==t;n=c8e(n)){var i=Fr.css(n,"position");if(i==="fixed")return!0}return!1}function eK(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=XY(e),i=Fr.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,c=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==a&&n!==c&&Fr.css(n,"overflow")!=="visible"){var d=Fr.offset(n);d.left+=n.clientLeft,d.top+=n.clientTop,r.top=Math.max(r.top,d.top),r.right=Math.min(r.right,d.left+n.clientWidth),r.bottom=Math.min(r.bottom,d.top+n.clientHeight),r.left=Math.max(r.left,d.left)}else if(n===a||n===c)break;n=XY(n)}var m=null;if(!Fr.isWindow(e)&&e.nodeType!==9){m=e.style.position;var v=Fr.css(e,"position");v==="absolute"&&(e.style.position="fixed")}var E=Fr.getWindowScrollLeft(o),I=Fr.getWindowScrollTop(o),M=Fr.viewportWidth(o),L=Fr.viewportHeight(o),R=c.scrollWidth,P=c.scrollHeight,q=window.getComputedStyle(a);if(q.overflowX==="hidden"&&(R=o.innerWidth),q.overflowY==="hidden"&&(P=o.innerHeight),e.style&&(e.style.position=m),t||rdr(e))r.left=Math.max(r.left,E),r.top=Math.max(r.top,I),r.right=Math.min(r.right,E+M),r.bottom=Math.min(r.bottom,I+L);else{var j=Math.max(R,E+M);r.right=Math.min(r.right,j);var B=Math.max(P,I+L);r.bottom=Math.min(r.bottom,B)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function ndr(e,t,r,n){var i=Fr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Fr.mix(i,o)}function tK(e){var t,r,n;if(!Fr.isWindow(e)&&e.nodeType!==9)t=Fr.offset(e),r=Fr.outerWidth(e),n=Fr.outerHeight(e);else{var i=Fr.getWindow(e);t={left:Fr.getWindowScrollLeft(i),top:Fr.getWindowScrollTop(i)},r=Fr.viewportWidth(i),n=Fr.viewportHeight(i)}return t.width=r,t.height=n,t}function f8e(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,a=e.left,c=e.top;return r==="c"?c+=o/2:r==="b"&&(c+=o),n==="c"?a+=i/2:n==="r"&&(a+=i),{left:a,top:c}}function a5(e,t,r,n,i){var o=f8e(t,r[1]),a=f8e(e,r[0]),c=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-c[0]+n[0]-i[0]),top:Math.round(e.top-c[1]+n[1]-i[1])}}function p8e(e,t,r){return e.left<r.left||e.left+t.width>r.right}function d8e(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function idr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function odr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function s5(e,t,r){var n=[];return Fr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function l5(e,t){return e[t]=-e[t],e}function h8e(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function m8e(e,t){e[0]=h8e(e[0],t.width),e[1]=h8e(e[1],t.height)}function S8e(e,t,r,n){var i=r.points,o=r.offset||[0,0],a=r.targetOffset||[0,0],c=r.overflow,d=r.source||e;o=[].concat(o),a=[].concat(a),c=c||{};var m={},v=0,E=!!(c&&c.alwaysByViewport),I=eK(d,E),M=tK(d);m8e(o,M),m8e(a,t);var L=a5(M,t,i,o,a),R=Fr.merge(M,L);if(I&&(c.adjustX||c.adjustY)&&n){if(c.adjustX&&p8e(L,M,I)){var P=s5(i,/[lr]/gi,{l:"r",r:"l"}),q=l5(o,0),j=l5(a,0),B=a5(M,t,P,q,j);idr(B,M,I)||(v=1,i=P,o=q,a=j)}if(c.adjustY&&d8e(L,M,I)){var Z=s5(i,/[tb]/gi,{t:"b",b:"t"}),re=l5(o,1),Q=l5(a,1),oe=a5(M,t,Z,re,Q);odr(oe,M,I)||(v=1,i=Z,o=re,a=Q)}v&&(L=a5(M,t,i,o,a),Fr.mix(R,L));var me=p8e(L,M,I),pe=d8e(L,M,I);if(me||pe){var Ae=i;me&&(Ae=s5(i,/[lr]/gi,{l:"r",r:"l"})),pe&&(Ae=s5(i,/[tb]/gi,{t:"b",b:"t"})),i=Ae,o=r.offset||[0,0],a=r.targetOffset||[0,0]}m.adjustX=c.adjustX&&me,m.adjustY=c.adjustY&&pe,(m.adjustX||m.adjustY)&&(R=ndr(L,M,I,m))}return R.width!==M.width&&Fr.css(d,"width",Fr.width(d)+R.width-M.width),R.height!==M.height&&Fr.css(d,"height",Fr.height(d)+R.height-M.height),Fr.offset(d,{left:R.left,top:R.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:m}}function adr(e,t){var r=eK(e,t),n=tK(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function f5(e,t,r){var n=r.target||t,i=tK(n),o=!adr(n,r.overflow&&r.overflow.alwaysByViewport);return S8e(e,i,r,o)}f5.__getOffsetParent=XY;f5.__getVisibleRectForElement=eK;function E8e(e,t,r){var n,i,o=Fr.getDocument(e),a=o.defaultView||o.parentWindow,c=Fr.getWindowScrollLeft(a),d=Fr.getWindowScrollTop(a),m=Fr.viewportWidth(a),v=Fr.viewportHeight(a);"pageX"in t?n=t.pageX:n=c+t.clientX,"pageY"in t?i=t.pageY:i=d+t.clientY;var E={left:n,top:i,width:0,height:0},I=n>=0&&n<=c+m&&i>=0&&i<=d+v,M=[r.points[0],"cc"];return S8e(e,E,n8e(n8e({},r),{},{points:M}),I)}function sdr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=n.has(o);if(od(!d,"Warning: There may be circular references"),d)return!1;if(o===a)return!0;if(r&&c>1)return!1;n.add(o);var m=c+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var v=0;v<o.length;v++)if(!i(o[v],a[v],m))return!1;return!0}if(o&&a&&Hn(o)==="object"&&Hn(a)==="object"){var E=Object.keys(o);return E.length!==Object.keys(a).length?!1:E.every(function(I){return i(o[I],a[I],m)})}return!1}return i(e,t)}var I8e=sdr;var T8e=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1};var ex=ee(Le());var A8e=Df()?ex.useLayoutEffect:ex.useEffect,ldr=function(t,r){var n=ex.useRef(!0);A8e(function(){return t(n.current)},r),A8e(function(){return n.current=!1,function(){n.current=!0}},[])};var OT=ldr;var Ea=ee(Le());var rK=ee(Le()),M8e=function(e,t){var r=rK.default.useRef(!1),n=rK.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(a){if(i(),!r.current||a===!0){if(e(a)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var O8e=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];r.call(n,a[1],a[0])}},t}()}(),nK=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,p5=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),udr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(p5):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),cdr=2;function fdr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&c()}function a(){udr(o)}function c(){var d=Date.now();if(r){if(d-i<cdr)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=d}return c}var pdr=20,ddr=["top","right","bottom","left","width","height","size","weight"],hdr=typeof MutationObserver!="undefined",mdr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=fdr(this.refresh.bind(this),pdr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!nK||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hdr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!nK||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=ddr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),D8e=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},tx=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||p5},L8e=h5(0,0,0,0);function d5(e){return parseFloat(e)||0}function C8e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+d5(o)},0)}function gdr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],a=e["padding-"+o];r[o]=d5(a)}return r}function vdr(e){var t=e.getBBox();return h5(0,0,t.width,t.height)}function ydr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return L8e;var n=tx(e).getComputedStyle(e),i=gdr(n),o=i.left+i.right,a=i.top+i.bottom,c=d5(n.width),d=d5(n.height);if(n.boxSizing==="border-box"&&(Math.round(c+o)!==t&&(c-=C8e(n,"left","right")+o),Math.round(d+a)!==r&&(d-=C8e(n,"top","bottom")+a)),!xdr(e)){var m=Math.round(c+o)-t,v=Math.round(d+a)-r;Math.abs(m)!==1&&(c-=m),Math.abs(v)!==1&&(d-=v)}return h5(i.left,i.top,c,d)}var _dr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof tx(e).SVGGraphicsElement}:function(e){return e instanceof tx(e).SVGElement&&typeof e.getBBox=="function"}}();function xdr(e){return e===tx(e).document.documentElement}function bdr(e){return nK?_dr(e)?vdr(e):ydr(e):L8e}function wdr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return D8e(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function h5(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Sdr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=h5(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=bdr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Edr=function(){function e(t,r){var n=wdr(r);D8e(this,{target:t,contentRect:n})}return e}(),Idr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new O8e,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof tx(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new Sdr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof tx(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Edr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),P8e=typeof WeakMap!="undefined"?new WeakMap:new O8e,N8e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=mdr.getInstance(),n=new Idr(t,r,this);P8e.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){N8e.prototype[e]=function(){var t;return(t=P8e.get(this))[e].apply(t,arguments)}});var Tdr=function(){return typeof p5.ResizeObserver!="undefined"?p5.ResizeObserver:N8e}(),R8e=Tdr;function k8e(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function q8e(e,t){e!==document.activeElement&&Yv(t,e)&&typeof e.focus=="function"&&e.focus()}function iK(e,t){var r=null,n=null;function i(a){var c=Pn(a,1),d=c[0].target;if(document.documentElement.contains(d)){var m=d.getBoundingClientRect(),v=m.width,E=m.height,I=Math.floor(v),M=Math.floor(E);(r!==I||n!==M)&&Promise.resolve().then(function(){t({width:I,height:M})}),r=I,n=M}}var o=new R8e(i);return e&&o.observe(e),function(){o.disconnect()}}function j8e(e){return typeof e!="function"?null:e()}function z8e(e){return Hn(e)!=="object"||!e?null:e}var Adr=function(t,r){var n=t.children,i=t.disabled,o=t.target,a=t.align,c=t.onAlign,d=t.monitorWindowResize,m=t.monitorBufferTime,v=m===void 0?0:m,E=Ea.default.useRef({}),I=Ea.default.useRef(),M=Ea.default.Children.only(n),L=Ea.default.useRef({});L.current.disabled=i,L.current.target=o,L.current.align=a,L.current.onAlign=c;var R=M8e(function(){var Fe=L.current,$e=Fe.disabled,Ue=Fe.target,Xe=Fe.align,Ye=Fe.onAlign,Re=I.current;if(!$e&&Ue&&Re){var ke,je=j8e(Ue),it=z8e(Ue);E.current.element=je,E.current.point=it,E.current.align=Xe;var ot=document,at=ot.activeElement;return je&&T8e(je)?ke=f5(Re,je,Xe):it&&(ke=E8e(Re,it,Xe)),q8e(at,Re),Ye&&ke&&Ye(Re,ke),!0}return!1},v),P=Pn(R,2),q=P[0],j=P[1],B=Ea.default.useState(),Z=Pn(B,2),re=Z[0],Q=Z[1],oe=Ea.default.useState(),me=Pn(oe,2),pe=me[0],Ae=me[1];return OT(function(){Q(j8e(o)),Ae(z8e(o))}),Ea.default.useEffect(function(){(E.current.element!==re||!k8e(E.current.point,pe)||!I8e(E.current.align,a))&&q()}),Ea.default.useEffect(function(){var Fe=iK(I.current,q);return Fe},[I.current]),Ea.default.useEffect(function(){var Fe=iK(re,q);return Fe},[re]),Ea.default.useEffect(function(){i?j():q()},[i]),Ea.default.useEffect(function(){if(d){var Fe=Is(window,"resize",q);return Fe.remove}},[d]),Ea.default.useEffect(function(){return function(){j()}},[]),Ea.default.useImperativeHandle(r,function(){return{forceAlign:function(){return q(!0)}}}),Ea.default.isValidElement(M)&&(M=Ea.default.cloneElement(M,{ref:K1(M.ref,I)})),M},F8e=Ea.default.forwardRef(Adr);F8e.displayName="Align";var B8e=F8e;var U8e=B8e;var W8e=ee(In());function DT(){"use strict";DT=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(Re,ke,je){Re[ke]=je.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function m(Re,ke,je){return Object.defineProperty(Re,ke,{value:je,enumerable:!0,configurable:!0,writable:!0}),Re[ke]}try{m({},"")}catch(Re){m=function(je,it,ot){return je[it]=ot}}function v(Re,ke,je,it){var ot=ke&&ke.prototype instanceof q?ke:q,at=Object.create(ot.prototype),Be=new Xe(it||[]);return i(at,"_invoke",{value:Ae(Re,je,Be)}),at}function E(Re,ke,je){try{return{type:"normal",arg:Re.call(ke,je)}}catch(it){return{type:"throw",arg:it}}}t.wrap=v;var I="suspendedStart",M="suspendedYield",L="executing",R="completed",P={};function q(){}function j(){}function B(){}var Z={};m(Z,a,function(){return this});var re=Object.getPrototypeOf,Q=re&&re(re(Ye([])));Q&&Q!==r&&n.call(Q,a)&&(Z=Q);var oe=B.prototype=q.prototype=Object.create(Z);function me(Re){["next","throw","return"].forEach(function(ke){m(Re,ke,function(je){return this._invoke(ke,je)})})}function pe(Re,ke){function je(ot,at,Be,Ze){var nt=E(Re[ot],Re,at);if(nt.type!=="throw"){var Ce=nt.arg,de=Ce.value;return de&&Hn(de)=="object"&&n.call(de,"__await")?ke.resolve(de.__await).then(function(Ne){je("next",Ne,Be,Ze)},function(Ne){je("throw",Ne,Be,Ze)}):ke.resolve(de).then(function(Ne){Ce.value=Ne,Be(Ce)},function(Ne){return je("throw",Ne,Be,Ze)})}Ze(nt.arg)}var it;i(this,"_invoke",{value:function(at,Be){function Ze(){return new ke(function(nt,Ce){je(at,Be,nt,Ce)})}return it=it?it.then(Ze,Ze):Ze()}})}function Ae(Re,ke,je){var it=I;return function(ot,at){if(it===L)throw new Error("Generator is already running");if(it===R){if(ot==="throw")throw at;return{value:e,done:!0}}for(je.method=ot,je.arg=at;;){var Be=je.delegate;if(Be){var Ze=Fe(Be,je);if(Ze){if(Ze===P)continue;return Ze}}if(je.method==="next")je.sent=je._sent=je.arg;else if(je.method==="throw"){if(it===I)throw it=R,je.arg;je.dispatchException(je.arg)}else je.method==="return"&&je.abrupt("return",je.arg);it=L;var nt=E(Re,ke,je);if(nt.type==="normal"){if(it=je.done?R:M,nt.arg===P)continue;return{value:nt.arg,done:je.done}}nt.type==="throw"&&(it=R,je.method="throw",je.arg=nt.arg)}}}function Fe(Re,ke){var je=ke.method,it=Re.iterator[je];if(it===e)return ke.delegate=null,je==="throw"&&Re.iterator.return&&(ke.method="return",ke.arg=e,Fe(Re,ke),ke.method==="throw")||je!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+je+"' method")),P;var ot=E(it,Re.iterator,ke.arg);if(ot.type==="throw")return ke.method="throw",ke.arg=ot.arg,ke.delegate=null,P;var at=ot.arg;return at?at.done?(ke[Re.resultName]=at.value,ke.next=Re.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=e),ke.delegate=null,P):at:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,P)}function $e(Re){var ke={tryLoc:Re[0]};1 in Re&&(ke.catchLoc=Re[1]),2 in Re&&(ke.finallyLoc=Re[2],ke.afterLoc=Re[3]),this.tryEntries.push(ke)}function Ue(Re){var ke=Re.completion||{};ke.type="normal",delete ke.arg,Re.completion=ke}function Xe(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach($e,this),this.reset(!0)}function Ye(Re){if(Re||Re===""){var ke=Re[a];if(ke)return ke.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var je=-1,it=function ot(){for(;++je<Re.length;)if(n.call(Re,je))return ot.value=Re[je],ot.done=!1,ot;return ot.value=e,ot.done=!0,ot};return it.next=it}}throw new TypeError(Hn(Re)+" is not iterable")}return j.prototype=B,i(oe,"constructor",{value:B,configurable:!0}),i(B,"constructor",{value:j,configurable:!0}),j.displayName=m(B,d,"GeneratorFunction"),t.isGeneratorFunction=function(Re){var ke=typeof Re=="function"&&Re.constructor;return!!ke&&(ke===j||(ke.displayName||ke.name)==="GeneratorFunction")},t.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,B):(Re.__proto__=B,m(Re,d,"GeneratorFunction")),Re.prototype=Object.create(oe),Re},t.awrap=function(Re){return{__await:Re}},me(pe.prototype),m(pe.prototype,c,function(){return this}),t.AsyncIterator=pe,t.async=function(Re,ke,je,it,ot){ot===void 0&&(ot=Promise);var at=new pe(v(Re,ke,je,it),ot);return t.isGeneratorFunction(ke)?at:at.next().then(function(Be){return Be.done?Be.value:at.next()})},me(oe),m(oe,d,"Generator"),m(oe,a,function(){return this}),m(oe,"toString",function(){return"[object Generator]"}),t.keys=function(Re){var ke=Object(Re),je=[];for(var it in ke)je.push(it);return je.reverse(),function ot(){for(;je.length;){var at=je.pop();if(at in ke)return ot.value=at,ot.done=!1,ot}return ot.done=!0,ot}},t.values=Ye,Xe.prototype={constructor:Xe,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(Ue),!ke)for(var je in this)je.charAt(0)==="t"&&n.call(this,je)&&!isNaN(+je.slice(1))&&(this[je]=e)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var je=this;function it(Ce,de){return Be.type="throw",Be.arg=ke,je.next=Ce,de&&(je.method="next",je.arg=e),!!de}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var at=this.tryEntries[ot],Be=at.completion;if(at.tryLoc==="root")return it("end");if(at.tryLoc<=this.prev){var Ze=n.call(at,"catchLoc"),nt=n.call(at,"finallyLoc");if(Ze&&nt){if(this.prev<at.catchLoc)return it(at.catchLoc,!0);if(this.prev<at.finallyLoc)return it(at.finallyLoc)}else if(Ze){if(this.prev<at.catchLoc)return it(at.catchLoc,!0)}else{if(!nt)throw new Error("try statement without catch or finally");if(this.prev<at.finallyLoc)return it(at.finallyLoc)}}}},abrupt:function(ke,je){for(var it=this.tryEntries.length-1;it>=0;--it){var ot=this.tryEntries[it];if(ot.tryLoc<=this.prev&&n.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var at=ot;break}}at&&(ke==="break"||ke==="continue")&&at.tryLoc<=je&&je<=at.finallyLoc&&(at=null);var Be=at?at.completion:{};return Be.type=ke,Be.arg=je,at?(this.method="next",this.next=at.finallyLoc,P):this.complete(Be)},complete:function(ke,je){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&je&&(this.next=je),P},finish:function(ke){for(var je=this.tryEntries.length-1;je>=0;--je){var it=this.tryEntries[je];if(it.finallyLoc===ke)return this.complete(it.completion,it.afterLoc),Ue(it),P}},catch:function(ke){for(var je=this.tryEntries.length-1;je>=0;--je){var it=this.tryEntries[je];if(it.tryLoc===ke){var ot=it.completion;if(ot.type==="throw"){var at=ot.arg;Ue(it)}return at}}throw new Error("illegal catch attempt")},delegateYield:function(ke,je,it){return this.delegate={iterator:Ye(ke),resultName:je,nextLoc:it},this.method==="next"&&(this.arg=e),P}},t}function V8e(e,t,r,n,i,o,a){try{var c=e[o](a),d=c.value}catch(m){r(m);return}c.done?t(d):Promise.resolve(d).then(n,i)}function oK(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(d){V8e(o,n,i,a,c,"next",d)}function c(d){V8e(o,n,i,a,c,"throw",d)}a(void 0)})}}var rx=ee(Le());var G8e=["measure","alignPre","align",null,"motion"],H8e=function(e,t){var r=ld(null),n=Pn(r,2),i=n[0],o=n[1],a=(0,rx.useRef)();function c(v){o(v,!0)}function d(){cl.cancel(a.current)}function m(v){d(),a.current=cl(function(){c(function(E){switch(i){case"align":return"motion";case"motion":return"stable";default:}return E}),v==null||v()})}return(0,rx.useEffect)(function(){c("measure")},[e]),(0,rx.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(a.current=cl(oK(DT().mark(function v(){var E,I;return DT().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:E=G8e.indexOf(i),I=G8e[E+1],I&&E!==-1&&c(I);case 3:case"end":return L.stop();}},v)}))))},[i]),(0,rx.useEffect)(function(){return function(){d()}},[]),[i,m]};var m5=ee(Le()),$8e=function(e){var t=m5.useState({width:0,height:0}),r=Pn(t,2),n=r[0],i=r[1];function o(c){var d=c.offsetWidth,m=c.offsetHeight,v=c.getBoundingClientRect(),E=v.width,I=v.height;Math.abs(d-E)<1&&Math.abs(m-I)<1&&(d=E,m=I),i({width:d,height:m})}var a=m5.useMemo(function(){var c={};if(e){var d=n.width,m=n.height;e.indexOf("height")!==-1&&m?c.height=m:e.indexOf("minHeight")!==-1&&m&&(c.minHeight=m),e.indexOf("width")!==-1&&d?c.width=d:e.indexOf("minWidth")!==-1&&d&&(c.minWidth=d)}return c},[e,n]);return[a,o]};var Z8e=Hl.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,a=e.children,c=e.zIndex,d=e.stretch,m=e.destroyPopupOnHide,v=e.forceRender,E=e.align,I=e.point,M=e.getRootDomNode,L=e.getClassNameFromAlign,R=e.onAlign,P=e.onMouseEnter,q=e.onMouseLeave,j=e.onMouseDown,B=e.onTouchStart,Z=e.onClick,re=(0,Qv.useRef)(),Q=(0,Qv.useRef)(),oe=(0,Qv.useState)(),me=Pn(oe,2),pe=me[0],Ae=me[1],Fe=$8e(d),$e=Pn(Fe,2),Ue=$e[0],Xe=$e[1];function Ye(){d&&Xe(M())}var Re=H8e(r,Ye),ke=Pn(Re,2),je=ke[0],it=ke[1],ot=(0,Qv.useState)(0),at=Pn(ot,2),Be=at[0],Ze=at[1],nt=(0,Qv.useRef)();OT(function(){je==="alignPre"&&Ze(0)},[je]);function Ce(){return I||M}function de(){var gt;(gt=re.current)===null||gt===void 0||gt.forceAlign()}function Ne(gt,Se){var ft=L(Se);pe!==ft&&Ae(ft),Ze(function(zt){return zt+1}),je==="align"&&(R==null||R(gt,Se))}OT(function(){je==="align"&&(Be<3?de():it(function(){var gt;(gt=nt.current)===null||gt===void 0||gt.call(nt)}))},[Be]);var Ee=Et({},i5(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(gt){var Se=Ee[gt];Ee[gt]=function(ft,zt){return it(),Se==null?void 0:Se(ft,zt)}});function Qe(){return new Promise(function(gt){nt.current=gt})}Hl.useEffect(function(){!Ee.motionName&&je==="motion"&&it()},[Ee.motionName,je]),Hl.useImperativeHandle(t,function(){return{forceAlign:de,getElement:function(){return Q.current}}});var Ke=Et(Et({},Ue),{},{zIndex:c,opacity:je==="motion"||je==="stable"||!r?void 0:0,pointerEvents:!r&&je!=="stable"?"none":void 0},o),yt=!0;E!=null&&E.points&&(je==="align"||je==="stable")&&(yt=!1);var _t=a;return Hl.Children.count(a)>1&&(_t=Hl.createElement("div",{className:"".concat(n,"-content")},a)),Hl.createElement(Q1,on({visible:r,ref:Q,leavedClassName:"".concat(n,"-hidden")},Ee,{onAppearPrepare:Qe,onEnterPrepare:Qe,removeOnLeave:m,forceRender:v}),function(gt,Se){var ft=gt.className,zt=gt.style,pt=(0,W8e.default)(n,i,pe,ft);return Hl.createElement(U8e,{target:Ce(),key:"popup",ref:re,monitorWindowResize:!0,disabled:yt,align:E,onAlign:Ne},Hl.createElement("div",{ref:Se,className:pt,onMouseEnter:P,onMouseLeave:q,onMouseDownCapture:j,onTouchStartCapture:B,onClick:Z,style:Et(Et({},zt),Ke)},_t))})});Z8e.displayName="PopupInner";var Y8e=Z8e;var Ru=ee(Le());var K8e=ee(In()),X8e=Ru.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,a=e.mobile;a=a===void 0?{}:a;var c=a.popupClassName,d=a.popupStyle,m=a.popupMotion,v=m===void 0?{}:m,E=a.popupRender,I=e.onClick,M=Ru.useRef();Ru.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return M.current}}});var L=Et({zIndex:i},d),R=o;return Ru.Children.count(o)>1&&(R=Ru.createElement("div",{className:"".concat(r,"-content")},o)),E&&(R=E(R)),Ru.createElement(Q1,on({visible:n,ref:M,removeOnLeave:!0},v),function(P,q){var j=P.className,B=P.style,Z=(0,K8e.default)(r,c,j);return Ru.createElement("div",{ref:q,className:Z,onClick:I,style:Et(Et({},B),L)},R)})});X8e.displayName="MobilePopupInner";var Q8e=X8e;var Mdr=["visible","mobile"],J8e=Jv.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=Ja(e,Mdr),o=(0,LT.useState)(r),a=Pn(o,2),c=a[0],d=a[1],m=(0,LT.useState)(!1),v=Pn(m,2),E=v[0],I=v[1],M=Et(Et({},i),{},{visible:c});(0,LT.useEffect)(function(){d(r),r&&n&&I(jUe())},[r,n]);var L=E?Jv.createElement(Q8e,on({},M,{mobile:n,ref:t})):Jv.createElement(Y8e,on({},M,{ref:t}));return Jv.createElement("div",null,Jv.createElement(VY,M),L)});J8e.displayName="Popup";var eVe=J8e;var tVe=ee(Le()),Cdr=tVe.createContext(null),aK=Cdr;function sK(){}function Odr(){return""}function Ddr(e){return e?e.ownerDocument:window.document}var Ldr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Pdr(e){var t=function(r){wa(i,r);var n=Sa(i);function i(o){var a;xa(this,i),a=n.call(this,o),mt(Pr(a),"popupRef",$l.createRef()),mt(Pr(a),"triggerRef",$l.createRef()),mt(Pr(a),"portalContainer",void 0),mt(Pr(a),"attachId",void 0),mt(Pr(a),"clickOutsideHandler",void 0),mt(Pr(a),"touchOutsideHandler",void 0),mt(Pr(a),"contextMenuOutsideHandler1",void 0),mt(Pr(a),"contextMenuOutsideHandler2",void 0),mt(Pr(a),"mouseDownTimeout",void 0),mt(Pr(a),"focusTime",void 0),mt(Pr(a),"preClickTime",void 0),mt(Pr(a),"preTouchTime",void 0),mt(Pr(a),"delayTimer",void 0),mt(Pr(a),"hasPopupMouseDown",void 0),mt(Pr(a),"onMouseEnter",function(d){var m=a.props.mouseEnterDelay;a.fireEvents("onMouseEnter",d),a.delaySetPopupVisible(!0,m,m?null:d)}),mt(Pr(a),"onMouseMove",function(d){a.fireEvents("onMouseMove",d),a.setPoint(d)}),mt(Pr(a),"onMouseLeave",function(d){a.fireEvents("onMouseLeave",d),a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)}),mt(Pr(a),"onPopupMouseEnter",function(){a.clearDelayTimer()}),mt(Pr(a),"onPopupMouseLeave",function(d){var m;d.relatedTarget&&!d.relatedTarget.setTimeout&&Yv((m=a.popupRef.current)===null||m===void 0?void 0:m.getElement(),d.relatedTarget)||a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)}),mt(Pr(a),"onFocus",function(d){a.fireEvents("onFocus",d),a.clearDelayTimer(),a.isFocusToShow()&&(a.focusTime=Date.now(),a.delaySetPopupVisible(!0,a.props.focusDelay))}),mt(Pr(a),"onMouseDown",function(d){a.fireEvents("onMouseDown",d),a.preClickTime=Date.now()}),mt(Pr(a),"onTouchStart",function(d){a.fireEvents("onTouchStart",d),a.preTouchTime=Date.now()}),mt(Pr(a),"onBlur",function(d){a.fireEvents("onBlur",d),a.clearDelayTimer(),a.isBlurToHide()&&a.delaySetPopupVisible(!1,a.props.blurDelay)}),mt(Pr(a),"onContextMenu",function(d){d.preventDefault(),a.fireEvents("onContextMenu",d),a.setPopupVisible(!0,d)}),mt(Pr(a),"onContextMenuClose",function(){a.isContextMenuToShow()&&a.close()}),mt(Pr(a),"onClick",function(d){if(a.fireEvents("onClick",d),a.focusTime){var m;if(a.preClickTime&&a.preTouchTime?m=Math.min(a.preClickTime,a.preTouchTime):a.preClickTime?m=a.preClickTime:a.preTouchTime&&(m=a.preTouchTime),Math.abs(m-a.focusTime)<20)return;a.focusTime=0}a.preClickTime=0,a.preTouchTime=0,a.isClickToShow()&&(a.isClickToHide()||a.isBlurToHide())&&d&&d.preventDefault&&d.preventDefault();var v=!a.state.popupVisible;(a.isClickToHide()&&!v||v&&a.isClickToShow())&&a.setPopupVisible(!a.state.popupVisible,d)}),mt(Pr(a),"onPopupMouseDown",function(){if(a.hasPopupMouseDown=!0,clearTimeout(a.mouseDownTimeout),a.mouseDownTimeout=window.setTimeout(function(){a.hasPopupMouseDown=!1},0),a.context){var d;(d=a.context).onPopupMouseDown.apply(d,arguments)}}),mt(Pr(a),"onDocumentClick",function(d){if(!(a.props.mask&&!a.props.maskClosable)){var m=d.target,v=a.getRootDomNode(),E=a.getPopupDomNode();(!Yv(v,m)||a.isContextMenuOnly())&&!Yv(E,m)&&!a.hasPopupMouseDown&&a.close()}}),mt(Pr(a),"getRootDomNode",function(){var d=a.props.getTriggerDOMNode;if(d)return d(a.triggerRef.current);try{var m=wT(a.triggerRef.current);if(m)return m}catch(v){}return rVe.default.findDOMNode(Pr(a))}),mt(Pr(a),"getPopupClassNameFromAlign",function(d){var m=[],v=a.props,E=v.popupPlacement,I=v.builtinPlacements,M=v.prefixCls,L=v.alignPoint,R=v.getPopupClassNameFromAlign;return E&&I&&m.push(qUe(I,M,d,L)),R&&m.push(R(d)),m.join(" ")}),mt(Pr(a),"getComponent",function(){var d=a.props,m=d.prefixCls,v=d.destroyPopupOnHide,E=d.popupClassName,I=d.onPopupAlign,M=d.popupMotion,L=d.popupAnimation,R=d.popupTransitionName,P=d.popupStyle,q=d.mask,j=d.maskAnimation,B=d.maskTransitionName,Z=d.maskMotion,re=d.zIndex,Q=d.popup,oe=d.stretch,me=d.alignPoint,pe=d.mobile,Ae=d.forceRender,Fe=d.onPopupClick,$e=a.state,Ue=$e.popupVisible,Xe=$e.point,Ye=a.getPopupAlign(),Re={};return a.isMouseEnterToShow()&&(Re.onMouseEnter=a.onPopupMouseEnter),a.isMouseLeaveToHide()&&(Re.onMouseLeave=a.onPopupMouseLeave),Re.onMouseDown=a.onPopupMouseDown,Re.onTouchStart=a.onPopupMouseDown,$l.createElement(eVe,on({prefixCls:m,destroyPopupOnHide:v,visible:Ue,point:me&&Xe,className:E,align:Ye,onAlign:I,animation:L,getClassNameFromAlign:a.getPopupClassNameFromAlign},Re,{stretch:oe,getRootDomNode:a.getRootDomNode,style:P,mask:q,zIndex:re,transitionName:R,maskAnimation:j,maskTransitionName:B,maskMotion:Z,ref:a.popupRef,motion:M,mobile:pe,forceRender:Ae,onClick:Fe}),typeof Q=="function"?Q():Q)}),mt(Pr(a),"attachParent",function(d){cl.cancel(a.attachId);var m=a.props,v=m.getPopupContainer,E=m.getDocument,I=a.getRootDomNode(),M;v?(I||v.length===0)&&(M=v(I)):M=E(a.getRootDomNode()).body,M?M.appendChild(d):a.attachId=cl(function(){a.attachParent(d)})}),mt(Pr(a),"getContainer",function(){if(!a.portalContainer){var d=a.props.getDocument,m=d(a.getRootDomNode()).createElement("div");m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.width="100%",a.portalContainer=m}return a.attachParent(a.portalContainer),a.portalContainer}),mt(Pr(a),"setPoint",function(d){var m=a.props.alignPoint;!m||!d||a.setState({point:{pageX:d.pageX,pageY:d.pageY}})}),mt(Pr(a),"handlePortalUpdate",function(){a.state.prevPopupVisible!==a.state.popupVisible&&a.props.afterPopupVisibleChange(a.state.popupVisible)}),mt(Pr(a),"triggerContextValue",{onPopupMouseDown:a.onPopupMouseDown});var c;return"popupVisible"in o?c=!!o.popupVisible:c=!!o.defaultPopupVisible,a.state={prevPopupVisible:c,popupVisible:c},Ldr.forEach(function(d){a["fire".concat(d)]=function(m){a.fireEvents(d,m)}}),a}return ba(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var a=this.props,c=this.state;if(c.popupVisible){var d;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(d=a.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Is(d,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(d=d||a.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Is(d,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(d=d||a.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Is(d,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Is(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),cl.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var a;return((a=this.popupRef.current)===null||a===void 0?void 0:a.getElement())||null}},{key:"getPopupAlign",value:function(){var a=this.props,c=a.popupPlacement,d=a.popupAlign,m=a.builtinPlacements;return c&&m?kUe(m,c,d):d}},{key:"setPopupVisible",value:function(a,c){var d=this.props.alignPoint,m=this.state.popupVisible;this.clearDelayTimer(),m!==a&&("popupVisible"in this.props||this.setState({popupVisible:a,prevPopupVisible:m}),this.props.onPopupVisibleChange(a)),d&&c&&a&&this.setPoint(c)}},{key:"delaySetPopupVisible",value:function(a,c,d){var m=this,v=c*1e3;if(this.clearDelayTimer(),v){var E=d?{pageX:d.pageX,pageY:d.pageY}:null;this.delayTimer=window.setTimeout(function(){m.setPopupVisible(a,E),m.clearDelayTimer()},v)}else this.setPopupVisible(a,d)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(a){var c=this.props.children.props,d=this.props;return c[a]&&d[a]?this["fire".concat(a)]:c[a]||d[a]}},{key:"isClickToShow",value:function(){var a=this.props,c=a.action,d=a.showAction;return c.indexOf("click")!==-1||d.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var a=this.props.action;return a==="contextMenu"||a.length===1&&a[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var a=this.props,c=a.action,d=a.showAction;return c.indexOf("contextMenu")!==-1||d.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var a=this.props,c=a.action,d=a.hideAction;return c.indexOf("click")!==-1||d.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var a=this.props,c=a.action,d=a.showAction;return c.indexOf("hover")!==-1||d.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var a=this.props,c=a.action,d=a.hideAction;return c.indexOf("hover")!==-1||d.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var a=this.props,c=a.action,d=a.showAction;return c.indexOf("focus")!==-1||d.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var a=this.props,c=a.action,d=a.hideAction;return c.indexOf("focus")!==-1||d.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var a;(a=this.popupRef.current)===null||a===void 0||a.forceAlign()}}},{key:"fireEvents",value:function(a,c){var d=this.props.children.props[a];d&&d(c);var m=this.props[a];m&&m(c)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var a=this.state.popupVisible,c=this.props,d=c.children,m=c.forceRender,v=c.alignPoint,E=c.className,I=c.autoDestroy,M=$l.Children.only(d),L={key:"trigger"};this.isContextMenuToShow()?L.onContextMenu=this.onContextMenu:L.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(L.onClick=this.onClick,L.onMouseDown=this.onMouseDown,L.onTouchStart=this.onTouchStart):(L.onClick=this.createTwoChains("onClick"),L.onMouseDown=this.createTwoChains("onMouseDown"),L.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(L.onMouseEnter=this.onMouseEnter,v&&(L.onMouseMove=this.onMouseMove)):L.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?L.onMouseLeave=this.onMouseLeave:L.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(L.onFocus=this.onFocus,L.onBlur=this.onBlur):(L.onFocus=this.createTwoChains("onFocus"),L.onBlur=this.createTwoChains("onBlur"));var R=(0,nVe.default)(M&&M.props&&M.props.className,E);R&&(L.className=R);var P=Et({},L);B4(M)&&(P.ref=K1(this.triggerRef,M.ref));var q=$l.cloneElement(M,P),j;return(a||this.popupRef.current||m)&&(j=$l.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!a&&I&&(j=null),$l.createElement(aK.Provider,{value:this.triggerContextValue},q,j)}}],[{key:"getDerivedStateFromProps",value:function(a,c){var d=a.popupVisible,m={};return d!==void 0&&c.popupVisible!==d&&(m.popupVisible=d,m.prevPopupVisible=c.popupVisible),m}}]),i}($l.Component);return mt(t,"contextType",aK),mt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Odr,getDocument:Ddr,onPopupVisibleChange:sK,afterPopupVisibleChange:sK,onPopupAlign:sK,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var iVe=Pdr(RUe);var ku={adjustX:1,adjustY:1},qu=[0,0],oVe={left:{points:["cr","cl"],overflow:ku,offset:[-4,0],targetOffset:qu},right:{points:["cl","cr"],overflow:ku,offset:[4,0],targetOffset:qu},top:{points:["bc","tc"],overflow:ku,offset:[0,-4],targetOffset:qu},bottom:{points:["tc","bc"],overflow:ku,offset:[0,4],targetOffset:qu},topLeft:{points:["bl","tl"],overflow:ku,offset:[0,-4],targetOffset:qu},leftTop:{points:["tr","tl"],overflow:ku,offset:[-4,0],targetOffset:qu},topRight:{points:["br","tr"],overflow:ku,offset:[0,-4],targetOffset:qu},rightTop:{points:["tl","tr"],overflow:ku,offset:[4,0],targetOffset:qu},bottomRight:{points:["tr","br"],overflow:ku,offset:[0,4],targetOffset:qu},rightBottom:{points:["bl","br"],overflow:ku,offset:[4,0],targetOffset:qu},bottomLeft:{points:["tl","bl"],overflow:ku,offset:[0,4],targetOffset:qu},leftBottom:{points:["br","bl"],overflow:ku,offset:[-4,0],targetOffset:qu}};var g5=ee(Le()),aVe=ee(In());function v5(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,a=e.overlayInnerStyle,c=e.className,d=e.style;return g5.createElement("div",{className:(0,aVe.default)("".concat(i,"-content"),c),style:d},t!==!1&&g5.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),g5.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:a},typeof n=="function"?n():n))}var Ndr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Rdr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,a=t.mouseEnterDelay,c=a===void 0?0:a,d=t.mouseLeaveDelay,m=d===void 0?.1:d,v=t.overlayStyle,E=t.prefixCls,I=E===void 0?"rc-tooltip":E,M=t.children,L=t.onVisibleChange,R=t.afterVisibleChange,P=t.transitionName,q=t.animation,j=t.motion,B=t.placement,Z=B===void 0?"right":B,re=t.align,Q=re===void 0?{}:re,oe=t.destroyTooltipOnHide,me=oe===void 0?!1:oe,pe=t.defaultVisible,Ae=t.getTooltipContainer,Fe=t.overlayInnerStyle,$e=t.arrowContent,Ue=t.overlay,Xe=t.id,Ye=t.showArrow,Re=Ye===void 0?!0:Ye,ke=Ja(t,Ndr),je=(0,nx.useRef)(null);(0,nx.useImperativeHandle)(r,function(){return je.current});var it=Et({},ke);"visible"in t&&(it.popupVisible=t.visible);var ot=function(){return lK.createElement(v5,{showArrow:Re,arrowContent:$e,key:"content",prefixCls:I,id:Xe,overlayInnerStyle:Fe},Ue)},at=!1,Be=!1;if(typeof me=="boolean")at=me;else if(me&&Hn(me)==="object"){var Ze=me.keepParent;at=Ze===!0,Be=Ze===!1}return lK.createElement(iVe,on({popupClassName:n,prefixCls:I,popup:ot,action:o,builtinPlacements:oVe,popupPlacement:Z,ref:je,popupAlign:Q,getPopupContainer:Ae,onPopupVisibleChange:L,afterPopupVisibleChange:R,popupTransitionName:P,popupAnimation:q,popupMotion:j,defaultPopupVisible:pe,destroyPopupOnHide:at,autoDestroy:Be,mouseLeaveDelay:m,popupStyle:v,mouseEnterDelay:c},it),M)},sVe=(0,nx.forwardRef)(Rdr);var lVe=sVe;var kdr=fd.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=fd.useRef(null),o=K1(t,i),a=fd.useRef(null);function c(){cl.cancel(a.current)}function d(){a.current=cl(function(){var m;(m=i.current)===null||m===void 0||m.forcePopupAlign()})}return fd.useEffect(function(){return r?d():c(),c},[r,n]),fd.createElement(lVe,on({ref:o},e))}),uK=kdr;function cK(e){var t;return t=function(r){wa(i,r);var n=Sa(i);function i(){var o;return xa(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(a,c){o.setState(function(d){return{visibles:Et(Et({},d.visibles),{},mt({},a,c))}})},o.handleWithTooltip=function(a){var c=a.value,d=a.dragging,m=a.index,v=a.disabled,E=Ja(a,["value","dragging","index","disabled"]),I=o.props,M=I.tipFormatter,L=I.tipProps,R=I.handleStyle,P=I.getTooltipContainer,q=L.prefixCls,j=q===void 0?"rc-slider-tooltip":q,B=L.overlay,Z=B===void 0?M(c):B,re=L.placement,Q=re===void 0?"top":re,oe=L.visible,me=oe===void 0?!1:oe,pe=Ja(L,["prefixCls","overlay","placement","visible"]),Ae;return Array.isArray(R)?Ae=R[m]||R[0]:Ae=R,PT.default.createElement(uK,on({},pe,{getTooltipContainer:P,prefixCls:j,overlay:Z,placement:Q,visible:!v&&(o.state.visibles[m]||d)||me,key:m}),PT.default.createElement(Z1,on({},E,{style:Et({},Ae),value:c,onMouseEnter:function(){return o.handleTooltipVisibleChange(m,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(m,!1)}})))},o}return ba(i,[{key:"render",value:function(){return PT.default.createElement(e,on({},this.props,{handle:this.handleWithTooltip}))}}]),i}(PT.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var y5=wUe;y5.Range=O4;y5.Handle=Z1;y5.createSliderWithTooltip=cK;var _5=y5;var fK=e=>{let{onEndDrag:t,onStartDrag:r,orientation:n="horizontal",layer:i}=e,o=Vt($r),[a,c]=(0,ju.useState)(i.getOpacity(o)*100),d=(0,ju.useRef)(null),m=0,v=100,E=(L,R)=>{if(n==="vertical"){var P=100-(L-m)/(v-m)*100;R.style.top=P+"%",R.innerHTML=L.toFixed(0)+"%";return}let q=(L-m)/(v-m)*100;R.style.left=q+"%",R.innerHTML=L+"%"},I=L=>{let{layerId:R}=L;if(R===i.getId()){let P=i.getOpacity(o)*100;c(P)}},M=L=>{c(L),tr(o)&&i.setOpacity(o,L/100)};return(0,ju.useEffect)(()=>{E(Math.round(a),d.current)},[a]),(0,ju.useEffect)(()=>{if(o)return o.on(Io.opacityChanged,I),()=>{o.off(Io.opacityChanged,I)}},[o]),ju.default.createElement("div",{className:"opacity-container"},ju.default.createElement("div",{className:"slider-container"},ju.default.createElement(_5,{onAfterChange:t,onBeforeChange:r,onChange:M,value:a,vertical:n==="vertical"}),ju.default.createElement("div",{className:"tooltip value",ref:d},"100%")))};fK.propTypes={onEndDrag:NT.default.func,onStartDrag:NT.default.func,layer:NT.default.object.isRequired,orientation:NT.default.oneOf(["horizontal","vertical"])};var ix=ee(Le(),1),uVe=ee(Tt(),1);var cVe=r=>{var n=r,{active:e}=n,t=yn(n,["active"]);let i=kr.getSettings();return ix.default.createElement("button",et({className:ur("vkf-drag-button",e&&"active"),title:i==="de"?"Ebene verschieben":"Move layer"},t),ix.default.createElement("span",null),ix.default.createElement("span",null),ix.default.createElement("span",null),ix.default.createElement("span",null))};cVe.propTypes={active:uVe.default.bool};var fVe=cVe;var pVe=ee(Tt(),1),Sm=ee(Le(),1);var dVe=e=>{let{layer:t}=e,r=t.getMetadata(Sr.title),n=Vt($r),i=(0,Sm.useMemo)(()=>t.isVisible(n),[t,n]),[o,a]=(0,Sm.useState)(i),c=m=>{m.preventDefault(),m.stopPropagation(),a(!o),n&&t.setVisibility(n,o?"none":"visible")},d=({layerId:m,value:v})=>{m===t.getId()&&a(v==="visible")};return(0,Sm.useEffect)(()=>{if(n)return n.on(Io.visibilityChanged,d),()=>{n.off(Io.visibilityChanged,d)}},[n]),Sm.default.createElement("button",{className:ur("disable-layer minimize-tool",o?"record-visible":"record-hidden"),onClick:c,type:"button",title:Ve("layermanagement-show-map")},` ${Ve("layermanagement-show-map")}: ${r}`)};dVe.propTypes={layer:pVe.default.object};var hVe=dVe;var zu=Ka;var pK=ee(Le(),1);var mVe=ee(Tt(),1);var gVe=e=>{let{layer:t}=e,r=Vt($r),n=cn(li);return pK.default.createElement("button",{className:"remove-layer minimize-tool",onClick:o=>{o.stopPropagation(),tr(r)&&(t.removeMapLibreLayers(r),n(a=>a.filter(c=>c.getId()!==t.getId())))},type:"button",title:Ve("layermanagement-remove-map")},pK.default.createElement(zu,{name:"layeraction-remove-map"}))};gVe.propTypes={layer:mVe.default.object.isRequired};var vVe=gVe;var dK=ee(Le(),1);var yVe=ee(Tt(),1);var _Ve=e=>{let{layer:t}=e,r=Vt($r);return dK.default.createElement("button",{className:"zoom-layer minimize-tool",onClick:()=>{if(tr(r)){let i=t.getMetadata(Sr.bounds);r.fitBounds(i,{padding:{left:350,right:350,top:50,bottom:50},animate:!1})}},type:"button",title:Ve("layermanagement-zoom-to-map")},dK.default.createElement(zu,{name:"layeraction-center"}))};_Ve.propTypes={layer:yVe.default.object.isRequired};var xVe=_Ve;var hK=ee(Le(),1);var bVe=ee(Tt(),1),wVe=e=>{let{layer:t}=e,r=Vt($r),n=cn(li);return hK.default.createElement("button",{className:"move-layer-top minimize-tool",onClick:o=>{o.stopPropagation(),t.moveToTop(r),n(a=>[...a.filter(c=>c!==t),t])},type:"button",title:Ve("layermanagement-move-top")},hK.default.createElement(Ka,{name:"layeraction-totop"}))};wVe.propTypes={layer:bVe.default.object.isRequired};var SVe=wVe;var Em=ee(Le(),1);var EVe=ee(Tt(),1),IVe=e=>{let{layer:t}=e,r=kr.getSettings(),[n,i]=(0,Em.useState)(t.getMetadata(Sr.thumbnailUrl)),o=t.getType(),a=t.getMetadata(Sr.title),c=()=>{n!==oT&&i(oT)};return o===fa.GEOJSON?Em.default.createElement("div",{className:"thumbnail-container"},Em.default.createElement("img",{src:r.FALLBACK_THUMBNAIL,alt:`GeoJSON Image for ${a}`}),Em.default.createElement("span",{className:"geojson-badge"},"GeoJSON")):Em.default.createElement("div",{className:"thumbnail-container"},Em.default.createElement("img",{onError:c,src:n,alt:`Thumbnail Image of Map for ${a}`}))};IVe.propTypes={layer:EVe.default.object.isRequired};var TVe=IVe;var RT=ee(Le(),1);var AVe=ee(Tt(),1),MVe=({layer:e})=>{let t=cn(bP),r=(0,RT.useCallback)(()=>{t(e.getId())},[e]);return RT.default.createElement("button",{className:"show-original",onClick:r,type:"button",title:Ve("layermanagement-show-original")},RT.default.createElement(zu,{name:"layeraction-showoriginal"}))};MVe.propTypes={layer:AVe.default.object};var CVe=MVe;var kT=ee(Le(),1);var OVe=(e,t)=>{let r="data:text/json;charset=utf-8,"+encodeURIComponent(t),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",`${e}.json`),n.click()};var DVe=ee(Tt(),1);var LVe=({layer:e})=>{let t=(0,kT.useCallback)(()=>{OVe(e.getMetadata(Sr.title),JSON.stringify(e.getGeoJSON()))},[e]);return kT.default.createElement("button",{className:"export-geojson",onClick:t,type:"button",title:Ve("layermanagement-export")},kT.default.createElement(Ka,{name:"layeraction-export"}))};LVe.propTypes={layer:DVe.default.instanceOf(Hp).isRequired};var PVe=LVe;var NVe={LAYER:"LAYER"},RVe=e=>{let{id:t,index:r,layer:n,onMoveLayer:i}=e,[o,a]=(0,Fn.useState)(!1),[c,d]=(0,Fn.useState)(!1),[m,v]=(0,Fn.useState)(!1),[E,I]=(0,Fn.useState)(!1),M=(0,Fn.useRef)(null),L=kr.getSettings(),[{handlerId:R},P]=b4({accept:NVe.LAYER,collect(Re){return{handlerId:Re.getHandlerId()}},hover(Re,ke){var nt;if(!M.current)return;let je=Re.index,it=r;if(je===it)return;let ot=(nt=M.current)==null?void 0:nt.getBoundingClientRect(),at=(ot.bottom-ot.top)/2,Ze=ke.getClientOffset().y-ot.top;je<it&&Ze<at||je>it&&Ze>at||(i(je,it),Re.index=it)}}),[{draggedItem:q,isDragging:j},B]=ZBe({type:NVe.LAYER,item:()=>({id:t,index:r}),collect:Re=>({isDragging:Re.isDragging(),draggedItem:Re.getItem()})}),Z=()=>setTimeout(()=>{M.current!==null&&(M.current.contains(document.activeElement)||Q())},100),re=()=>{a(!0)},Q=()=>{a(!1)},oe=uUe(()=>{v(Re=>!Re)},500),me=()=>{d(!0)},pe=()=>{d(!1)};(0,Fn.useEffect)(()=>{o?q===null&&!E&&I(!0):q!==void 0&&!c&&I(!1)},[o,E,c,q]),B(P(M));let Ae=n.getId(),Fe=n.getType(),$e=n.getMetadata(Sr.timePublished),Ue=n.getMetadata(Sr.title),Ye=n.getMetadata(Sr.type)==="mosaic";return Fn.default.createElement("li",wr(et({className:ur("vkf-layermanagement-record",j&&"drag-and-drop-placeholder",m&&"show-actions",Fe===fa.GEOJSON&&"geojson-data",E&&(q===null||q.id===Ae)&&"force-hover"),id:r,"data-id":Ae,"data-handler-id":R,onFocus:re,onBlur:Z,onMouseEnter:re,onMouseOver:re,onMouseLeave:Q},oe),{ref:M}),Fn.default.createElement("div",{className:"visibility-container"},Fn.default.createElement(hVe,{layer:n})),Fn.default.createElement(TVe,{layer:n}),Fn.default.createElement("div",{className:"metadata-container"},Fn.default.createElement("h3",null,Ue),Fn.default.createElement("div",{className:"timestamps"},Fn.default.createElement("span",{className:"timestamps-label"},`${Ve("layermanagement-timestamp")} ${$e}`)),Ye&&Fn.default.createElement("div",{className:"type"},Fn.default.createElement("span",{className:"timestamps-label"},`${Ve("originalview-title-mosaic")}`))),Fn.default.createElement("div",{className:"control-container"},Fn.default.createElement(SVe,{layer:n}),Fn.default.createElement(vVe,{layer:n}),Fn.default.createElement(xVe,{layer:n}),Fe!==fa.GEOJSON?Fn.default.createElement(CVe,{layer:n}):Fn.default.createElement(PVe,{layer:n}),!Ye&&L.LINK_TO_GEOREFERENCE!==void 0&&Fe!==fa.GEOJSON&&Fn.default.createElement("button",{className:"georeference-update",title:`${Ve("layermangement-georef-update")} ...`,onClick:()=>{window.open(`${L.LINK_TO_GEOREFERENCE}?map_id=${Ae}`,"_blank")}},Fn.default.createElement(Ka,{name:"icon-point-move"})),Fn.default.createElement(fK,{onStartDrag:me,onEndDrag:pe,orientation:"horizontal",layer:n})),Fn.default.createElement("div",{className:"drag-container"},Fn.default.createElement(fVe,{tabIndex:-1})))};RVe.propTypes={id:Im.default.string,index:Im.default.number,layer:Im.default.oneOfType([Im.default.instanceOf(Hp),Im.default.instanceOf(xc)]),onMoveLayer:Im.default.func,showActions:Im.default.func};var kVe=RVe;var qVe=kVe;var Fu=ee(Le(),1);var jVe=ee(Tt(),1);var x5=(e,t,r)=>{let n=new FileReader;n.onloadend=function(){try{t({content:JSON.parse(this.result),modified:e.lastModified,name:e.name.split(".")[0]})}catch(i){console.log(i),r()}},n.readAsText(e)};var zVe=({onAddGeoJson:e})=>{let[t,r]=(0,Fu.useState)(!1),n=cn(Qs),i=(0,Fu.useRef)(),o=()=>{r(!0)},a=()=>{r(!1)},c=()=>{i.current!==void 0&&i.current!==null&&(a(),i.current.click(),document.activeElement.blur())},d=()=>{n({id:"geojsonUploadHint",type:"danger",text:Ve("mapwrapper-geojson-parse-error")})},m=v=>{let E=v.target.files[0];x5(E,e,d)};return Fu.default.createElement("div",{className:ur("geojson-upload-hint",t&&"show"),"aria-describedby":"geojson-upload-label"},Fu.default.createElement("button",{className:"geojson-upload",onMouseEnter:o,onMouseLeave:a,onClick:c},Fu.default.createElement(zu,{name:"layermanagement-upload"}),Fu.default.createElement("span",{className:"label",id:"geojson-upload-label"},Ve("geojson-adddialog-title"))),Fu.default.createElement("div",{className:"upload-info"},Ve("geojson-adddialog-body")),Fu.default.createElement("label",{className:"visually-hidden",htmlFor:"geojson-upload-file"},"GeoJSON Upload"),Fu.default.createElement("input",{id:"geojson-upload-file",accept:"application/json, application/geo+json, .geojson",className:"hidden-file-input",type:"file",ref:i,onChange:m}))};zVe.propTypes={onAddGeoJson:jVe.default.func};var FVe=zVe;var BVe=FVe;var UVe=({onAddGeoJson:e,showControls:t={showBadge:!0,showHideButton:!0,showDynamicMapVisualization:!0},showHeader:r=!0})=>{let{showBadge:n,showDynamicMapVisualization:i,showHideButton:o}=t,a=Vt($r),[c,d]=Fi(li),m=(0,Wo.useMemo)(()=>c.toReversed(),[c]),v=(0,Wo.useRef)();p1(v,"layermanagement");let E=(I,M)=>{let L=[...m],R=L.splice(I,1)[0];L.splice(M,0,R);let P=M-1,q=P<0?null:L[P].getMapLibreLayerId();R.move(a,q),d(L.reverse())};return Wo.default.createElement("div",{className:"vkf-layermanagement-root",ref:v},n&&c.length!==0&&Wo.default.createElement("span",{className:"badge"},c.length),r&&Wo.default.createElement("div",{className:"heading"},Wo.default.createElement("span",{className:"header-label"},Ve("layermanagement-header-lbl")),Wo.default.createElement("div",{className:"header-functions"},Wo.default.createElement(BVe,{onAddGeoJson:e}),o&&Wo.default.createElement(WFe,null),i&&Wo.default.createElement(JFe,{animationOptions:{delay:30,steps:.01}}))),Wo.default.createElement("ul",{className:"layermanagement-body"},c===void 0||c.length===0?Wo.default.createElement("li",{className:"empty"},Wo.default.createElement("h4",null,Ve("layermanagement-start-msg-header")),Wo.default.createElement("p",null,Ve("layermanagement-start-msg-body"))):m.map((I,M)=>{let L=I.getId();return Wo.default.createElement(qVe,{onMoveLayer:E,layer:I,index:M,key:L,id:L})})))};UVe.propTypes={onAddGeoJson:ey.default.func,showControls:ey.default.shape({showBadge:ey.default.bool,showDynamicMapVisualization:ey.default.bool,showHideButton:ey.default.bool}),showHeader:ey.default.bool};var b5=UVe;var ny=ee(Le(),1);var N5=ee(Tt(),1);var To=ee(Le(),1),mK=ee(Tt(),1);var gK=e=>{let{timeRange:t}=e,[r,n]=Fi(rm),[i,o]=(0,To.useState)(t),[a,c]=(0,To.useState)(!1),d=(0,To.useRef)(),m=(0,To.useRef)(),v=(0,To.useRef)(),E=[m,d],I=(0,To.useCallback)(function(){let M;E.forEach((L,R)=>{let P=L.current,q=i[R],j=(q-t[0])/(t[1]-t[0])*100;P.style.left=j+"%",P.innerHTML=q,M!==void 0&&Math.abs(j-M)<12?c(!0):c(!1),M=j})},[i,t]);return(0,To.useEffect)(()=>{I()},[I,i]),(0,To.useEffect)(()=>{(r[0]!==i[0]||r[1]!==i[1])&&o(r)},[r]),To.default.createElement("div",{className:"timeslider-container"},To.default.createElement("label",null,Ve("timeslider-adjust-timeperiod")),To.default.createElement("div",{className:`slider-container ${a?"labels-too-close":""}`},To.default.createElement(O4,{allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:t[0],max:t[1],onChange:M=>{o(M)},onAfterChange:M=>{o(M),n(M)},ref:v,value:i}),To.default.createElement("div",{className:"tooltip min-value",id:"min-value",ref:m},i[0]),To.default.createElement("div",{className:"tooltip max-value",id:"max-value",ref:d},i[1])))};gK.defaultProps={timeRange:[1850,1970]};gK.propTypes={timeRange:mK.default.arrayOf(mK.default.number)};var w5=gK;var L5=ee(Le(),1);var ry=ee(Le(),1),uX=ee(Tt(),1);var As=ee(Le(),1);var Mt=ee(Tt()),xt=ee(Le()),Wdr=ee(KVe());function XVe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function QVe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function yK(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return QVe(r.overflowY,t)||QVe(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(a){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function I5(e,t,r,n,i,o,a,c){return o<e&&a>t||o>e&&a<t?0:o<=e&&c<=r||a>=t&&c>=r?o-e-n:a>t&&c<r||o<e&&c>r?a-t+i:0}var JVe=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,c=t.skipOverflowHiddenElements,d=typeof a=="function"?a:function(Se){return Se!==a};if(!XVe(e))throw new TypeError("Invalid target");for(var m,v,E=document.scrollingElement||document.documentElement,I=[],M=e;XVe(M)&&d(M);){if((M=(v=(m=M).parentElement)==null?m.getRootNode().host||null:v)===E){I.push(M);break}M!=null&&M===document.body&&yK(M)&&!yK(document.documentElement)||M!=null&&yK(M,c)&&I.push(M)}for(var L=r.visualViewport?r.visualViewport.width:innerWidth,R=r.visualViewport?r.visualViewport.height:innerHeight,P=window.scrollX||pageXOffset,q=window.scrollY||pageYOffset,j=e.getBoundingClientRect(),B=j.height,Z=j.width,re=j.top,Q=j.right,oe=j.bottom,me=j.left,pe=i==="start"||i==="nearest"?re:i==="end"?oe:re+B/2,Ae=o==="center"?me+Z/2:o==="end"?Q:me,Fe=[],$e=0;$e<I.length;$e++){var Ue=I[$e],Xe=Ue.getBoundingClientRect(),Ye=Xe.height,Re=Xe.width,ke=Xe.top,je=Xe.right,it=Xe.bottom,ot=Xe.left;if(n==="if-needed"&&re>=0&&me>=0&&oe<=R&&Q<=L&&re>=ke&&oe<=it&&me>=ot&&Q<=je)return Fe;var at=getComputedStyle(Ue),Be=parseInt(at.borderLeftWidth,10),Ze=parseInt(at.borderTopWidth,10),nt=parseInt(at.borderRightWidth,10),Ce=parseInt(at.borderBottomWidth,10),de=0,Ne=0,Ee="offsetWidth"in Ue?Ue.offsetWidth-Ue.clientWidth-Be-nt:0,Qe="offsetHeight"in Ue?Ue.offsetHeight-Ue.clientHeight-Ze-Ce:0,Ke="offsetWidth"in Ue?Ue.offsetWidth===0?0:Re/Ue.offsetWidth:0,yt="offsetHeight"in Ue?Ue.offsetHeight===0?0:Ye/Ue.offsetHeight:0;if(E===Ue)de=i==="start"?pe:i==="end"?pe-R:i==="nearest"?I5(q,q+R,R,Ze,Ce,q+pe,q+pe+B,B):pe-R/2,Ne=o==="start"?Ae:o==="center"?Ae-L/2:o==="end"?Ae-L:I5(P,P+L,L,Be,nt,P+Ae,P+Ae+Z,Z),de=Math.max(0,de+q),Ne=Math.max(0,Ne+P);else{de=i==="start"?pe-ke-Ze:i==="end"?pe-it+Ce+Qe:i==="nearest"?I5(ke,it,Ye,Ze,Ce+Qe,pe,pe+B,B):pe-(ke+Ye/2)+Qe/2,Ne=o==="start"?Ae-ot-Be:o==="center"?Ae-(ot+Re/2)+Ee/2:o==="end"?Ae-je+nt+Ee:I5(ot,je,Re,Be,nt+Ee,Ae,Ae+Z,Z);var _t=Ue.scrollLeft,gt=Ue.scrollTop;pe+=gt-(de=Math.max(0,Math.min(gt+de/yt,Ue.scrollHeight-Ye/yt+Qe))),Ae+=_t-(Ne=Math.max(0,Math.min(_t+Ne/Ke,Ue.scrollWidth-Re/Ke+Ee)))}Fe.push({el:Ue,top:de,left:Ne})}return Fe};var $T=function(){return $T=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},$T.apply(this,arguments)};var Zdr=0;function XT(){}function Ydr(e,t){if(!e)return;JVe(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:a}=n;i.scrollTop=o,i.scrollLeft=a})}function e9e(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function xK(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n(),r=setTimeout(()=>{r=null,e(...a)},t)}return i.cancel=n,i}function Ao(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(c=>(c&&c(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function Pf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function Kdr(){return String(Zdr++)}function Xdr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function T5(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=s9e(t,n)?t[n]:e[n],r),{})}function s9e(e,t){return e[t]!==void 0}function YT(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function KT(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let a=t+e;a<0?a=i?o:0:a>o&&(a=i?0:o);let c=ty(e,a,r,n,i);return c===-1?t>=r?-1:t:c}function ty(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let a=t+1;a<r;a++)if(!n(a).hasAttribute("disabled"))return a}else for(let a=t-1;a>=0;a--)if(!n(a).hasAttribute("disabled"))return a;return i?e>0?ty(1,0,r,n,!1):ty(-1,r-1,r,n,!1):-1}function t9e(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(e9e(i,e,r)||n&&e9e(i,r.document.activeElement,r)))}var Qdr=xK(e=>{u9e(e).textContent=""},500);function l9e(e,t){let r=u9e(t);e&&(r.textContent=e,Qdr(t))}function u9e(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var c9e={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Jdr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(a=>{ehr(a,e,t,r),r[a]!==t[a]&&(o[a]=r[a])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(et({type:i},o))}function ehr(e,t,r,n){let{props:i,type:o}=t,a=`on${wK(e)}Change`;i[a]&&n[e]!==void 0&&n[e]!==r[e]&&i[a](et({type:o},n))}function thr(e,t){return t.changes}function rhr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var nhr=xK((e,t)=>{l9e(e(),t)},200),ihr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?xt.useLayoutEffect:xt.useEffect;function f9e(e){let{id:t=`downshift-${Kdr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:a}=e;return(0,xt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(d=>`${t}-item-${d}`),toggleButtonId:o||`${t}-toggle-button`,inputId:a||`${t}-input`}).current}function bK(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function ohr(e){return e?String(e):""}function r9e(e){return /^\S{1}$/.test(e)}function wK(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function O5(e){let t=(0,xt.useRef)(e);return t.current=e,t}function p9e(e,t,r){let n=(0,xt.useRef)(),i=(0,xt.useRef)(),o=(0,xt.useCallback)((E,I)=>{i.current=I,E=T5(E,I.props);let M=e(E,I);return I.props.stateReducer(E,wr(et({},I),{changes:M}))},[e]),[a,c]=(0,xt.useReducer)(o,t),d=O5(r),m=(0,xt.useCallback)(E=>c(et({props:d.current},E)),[d]),v=i.current;return(0,xt.useEffect)(()=>{v&&n.current&&n.current!==a&&Jdr(v,T5(n.current,v.props),a),n.current=a},[a,r,v]),[a,m]}function d9e(e,t,r){let[n,i]=p9e(e,t,r);return[T5(n,r),i]}var ZT={itemToString:ohr,stateReducer:thr,getA11ySelectionMessage:rhr,scrollIntoView:Ydr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function Ts(e,t,r){r===void 0&&(r=c9e);let n=e[`default${wK(t)}`];return n!==void 0?n:r[t]}function WT(e,t,r){r===void 0&&(r=c9e);let n=e[t];if(n!==void 0)return n;let i=e[`initial${wK(t)}`];return i!==void 0?i:Ts(e,t,r)}function h9e(e){let t=WT(e,"selectedItem"),r=WT(e,"isOpen"),n=WT(e,"highlightedIndex"),i=WT(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function ox(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:a}=e,{selectedItem:c,highlightedIndex:d}=t;return i.length===0?-1:o!==void 0&&d===o?o:a!==void 0?a:c?r===0?i.indexOf(c):KT(r,i.indexOf(c),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function m9e(e,t,r,n){let i=(0,xt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,xt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},a=v=>{i.current.isMouseDown=!1,e&&!t9e(v.target,t.map(E=>E.current),r)&&n()},c=()=>{i.current.isTouchMove=!1},d=()=>{i.current.isTouchMove=!0},m=v=>{e&&!i.current.isTouchMove&&!t9e(v.target,t.map(E=>E.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",a),r.addEventListener("touchstart",c),r.addEventListener("touchmove",d),r.addEventListener("touchend",m),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",a),r.removeEventListener("touchstart",c),r.removeEventListener("touchmove",d),r.removeEventListener("touchend",m)}},[e,r]),i}var SK=()=>XT;function A5(e,t,r){let d=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:a}=d,c=yn(d,["isInitialMount","highlightedIndex","items","environment"]);(0,xt.useEffect)(()=>{n||nhr(()=>e(et({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},c)),a.document)},t)}function g9e(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:a}=e,c=(0,xt.useRef)(!0);return ihr(()=>{t<0||!r||!Object.keys(n.current).length||(c.current===!1?c.current=!0:a(i(t),o))},[t]),c}var EK=XT;function v9e(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ox(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:ox(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Ts(i,"highlightedIndex"),isOpen:Ts(i,"isOpen"),selectedItem:Ts(i,"selectedItem"),inputValue:Ts(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.");}return et(et({},e),o)}function n9e(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,a=t.toLowerCase(),c=0;c<n.length;c++){var d=(c+r+1)%n.length,m=n[d];if(m!==void 0&&i(m).toLowerCase().startsWith(a)){var v=o(d);if(!(v!=null&&v.hasAttribute("disabled")))return d}}return r}var Ron={items:Mt.default.array.isRequired,itemToString:Mt.default.func,getA11yStatusMessage:Mt.default.func,getA11ySelectionMessage:Mt.default.func,circularNavigation:Mt.default.bool,highlightedIndex:Mt.default.number,defaultHighlightedIndex:Mt.default.number,initialHighlightedIndex:Mt.default.number,isOpen:Mt.default.bool,defaultIsOpen:Mt.default.bool,initialIsOpen:Mt.default.bool,selectedItem:Mt.default.any,initialSelectedItem:Mt.default.any,defaultSelectedItem:Mt.default.any,id:Mt.default.string,labelId:Mt.default.string,menuId:Mt.default.string,getItemId:Mt.default.func,toggleButtonId:Mt.default.string,stateReducer:Mt.default.func,onSelectedItemChange:Mt.default.func,onHighlightedIndexChange:Mt.default.func,onStateChange:Mt.default.func,onIsOpenChange:Mt.default.func,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})};function ahr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var shr=$T($T({},ZT),{getA11yStatusMessage:ahr}),lhr=XT,IK=0,TK=1,AK=2,MK=3,CK=4,OK=5,DK=6,LK=7,M5=8,y9e=9,_9e=10,PK=11,x9e=12,NK=13,RK=14,kK=15,b9e=16,w9e=17,S9e=18,E9e=19,qK=20,_K=21,I9e=22,T9e=Object.freeze({__proto__:null,MenuKeyDownArrowDown:IK,MenuKeyDownArrowUp:TK,MenuKeyDownEscape:AK,MenuKeyDownHome:MK,MenuKeyDownEnd:CK,MenuKeyDownEnter:OK,MenuKeyDownSpaceButton:DK,MenuKeyDownCharacter:LK,MenuBlur:M5,MenuMouseLeave:y9e,ItemMouseMove:_9e,ItemClick:PK,ToggleButtonClick:x9e,ToggleButtonKeyDownArrowDown:NK,ToggleButtonKeyDownArrowUp:RK,ToggleButtonKeyDownCharacter:kK,FunctionToggleMenu:b9e,FunctionOpenMenu:w9e,FunctionCloseMenu:S9e,FunctionSetHighlightedIndex:E9e,FunctionSelectItem:qK,FunctionSetInputValue:_K,FunctionReset:I9e});function uhr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case PK:o={isOpen:Ts(n,"isOpen"),highlightedIndex:Ts(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case kK:{let a=t.key,c=`${e.inputValue}${a}`,d=n9e({keysSoFar:c,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=et({inputValue:c},d>=0&&{selectedItem:n.items[d]})}break;case NK:o={highlightedIndex:ox(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case RK:o={highlightedIndex:ox(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case OK:case DK:o=et({isOpen:Ts(n,"isOpen"),highlightedIndex:Ts(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case MK:o={highlightedIndex:ty(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case CK:o={highlightedIndex:ty(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case AK:o={isOpen:!1,highlightedIndex:-1};break;case M5:o={isOpen:!1,highlightedIndex:-1};break;case LK:{let a=t.key,c=`${e.inputValue}${a}`,d=n9e({keysSoFar:c,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=et({inputValue:c},d>=0&&{highlightedIndex:d})}break;case IK:o={highlightedIndex:KT(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case TK:o={highlightedIndex:KT(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case qK:o={selectedItem:t.selectedItem};break;default:return v9e(e,t,T9e);}return et(et({},e),o)}A9e.stateChangeTypes=T9e;function A9e(e){e===void 0&&(e={}),lhr(e,A9e);let t=et(et({},shr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:a,itemToString:c,getA11ySelectionMessage:d,getA11yStatusMessage:m}=t,v=h9e(t),[E,I]=d9e(uhr,v,t),{isOpen:M,highlightedIndex:L,selectedItem:R,inputValue:P}=E,q=(0,xt.useRef)(null),j=(0,xt.useRef)(null),B=(0,xt.useRef)({}),Z=(0,xt.useRef)(!0),re=(0,xt.useRef)(null),Q=f9e(t),oe=(0,xt.useRef)(),me=(0,xt.useRef)(!0),pe=O5({state:E,props:t}),Ae=(0,xt.useCallback)(Ne=>B.current[Q.getItemId(Ne)],[Q]);A5(m,[M,L,P,r],et({isInitialMount:me.current,previousResultCount:oe.current,items:r,environment:i,itemToString:c},E)),A5(d,[R],et({isInitialMount:me.current,previousResultCount:oe.current,items:r,environment:i,itemToString:c},E));let Fe=g9e({menuElement:j.current,highlightedIndex:L,isOpen:M,itemRefs:B,scrollIntoView:n,getItemNodeFromIndex:Ae});(0,xt.useEffect)(()=>(re.current=xK(Ne=>{Ne({type:_K,inputValue:""})},500),()=>{re.current.cancel()}),[]),(0,xt.useEffect)(()=>{P&&re.current(I)},[I,P]),EK({isInitialMount:me.current,props:t,state:E}),(0,xt.useEffect)(()=>{if(me.current){(o||a||M)&&j.current&&j.current.focus();return}if(M){j.current&&j.current.focus();return}i.document.activeElement===j.current&&q.current&&(Z.current=!1,q.current.focus())},[M]),(0,xt.useEffect)(()=>{me.current||(oe.current=r.length)});let $e=m9e(M,[j,q],i,()=>{I({type:M5})}),Ue=SK("getMenuProps","getToggleButtonProps");(0,xt.useEffect)(()=>{me.current=!1},[]),(0,xt.useEffect)(()=>{M||(B.current={})},[M]);let Xe=(0,xt.useMemo)(()=>({ArrowDown(Ne){Ne.preventDefault(),I({type:NK,getItemNodeFromIndex:Ae,shiftKey:Ne.shiftKey})},ArrowUp(Ne){Ne.preventDefault(),I({type:RK,getItemNodeFromIndex:Ae,shiftKey:Ne.shiftKey})}}),[I,Ae]),Ye=(0,xt.useMemo)(()=>({ArrowDown(Ne){Ne.preventDefault(),I({type:IK,getItemNodeFromIndex:Ae,shiftKey:Ne.shiftKey})},ArrowUp(Ne){Ne.preventDefault(),I({type:TK,getItemNodeFromIndex:Ae,shiftKey:Ne.shiftKey})},Home(Ne){Ne.preventDefault(),I({type:MK,getItemNodeFromIndex:Ae})},End(Ne){Ne.preventDefault(),I({type:CK,getItemNodeFromIndex:Ae})},Escape(){I({type:AK})},Enter(Ne){Ne.preventDefault(),I({type:OK})}," "(Ne){Ne.preventDefault(),I({type:DK})}}),[I,Ae]),Re=(0,xt.useCallback)(()=>{I({type:b9e})},[I]),ke=(0,xt.useCallback)(()=>{I({type:S9e})},[I]),je=(0,xt.useCallback)(()=>{I({type:w9e})},[I]),it=(0,xt.useCallback)(Ne=>{I({type:E9e,highlightedIndex:Ne})},[I]),ot=(0,xt.useCallback)(Ne=>{I({type:qK,selectedItem:Ne})},[I]),at=(0,xt.useCallback)(()=>{I({type:I9e})},[I]),Be=(0,xt.useCallback)(Ne=>{I({type:_K,inputValue:Ne})},[I]),Ze=(0,xt.useCallback)(Ne=>et({id:Q.labelId,htmlFor:Q.toggleButtonId},Ne),[Q]),nt=(0,xt.useCallback)(function(Ne,Ee){let Ft=Ne===void 0?{}:Ne,{onMouseLeave:Qe,refKey:Ke="ref",onKeyDown:yt,onBlur:_t,ref:gt}=Ft,Se=yn(Ft,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:ft=!1}=Ee===void 0?{}:Ee,zt=pe.current.state,pt=cr=>{let Br=YT(cr);Br&&Ye[Br]?Ye[Br](cr):r9e(Br)&&I({type:LK,key:Br,getItemNodeFromIndex:Ae})},Ht=()=>{if(Z.current===!1){Z.current=!0;return}!$e.current.isMouseDown&&I({type:M5})},ar=()=>{I({type:y9e})};return Ue("getMenuProps",ft,Ke,j),et(wr(et({[Ke]:Pf(gt,cr=>{j.current=cr}),id:Q.menuId,role:"listbox","aria-labelledby":Q.labelId,tabIndex:-1},zt.isOpen&&zt.highlightedIndex>-1&&{"aria-activedescendant":Q.getItemId(zt.highlightedIndex)}),{onMouseLeave:Ao(Qe,ar),onKeyDown:Ao(yt,pt),onBlur:Ao(_t,Ht)}),Se)},[I,pe,Ye,$e,Ue,Q,Ae]),Ce=(0,xt.useCallback)(function(Ne,Ee){let Ht=Ne===void 0?{}:Ne,{onClick:Qe,onKeyDown:Ke,refKey:yt="ref",ref:_t}=Ht,gt=yn(Ht,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:Se=!1}=Ee===void 0?{}:Ee,ft=()=>{I({type:x9e})},zt=ar=>{let Ft=YT(ar);Ft&&Xe[Ft]?Xe[Ft](ar):r9e(Ft)&&I({type:kK,key:Ft,getItemNodeFromIndex:Ae})},pt=et({[yt]:Pf(_t,ar=>{q.current=ar}),id:Q.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":pe.current.state.isOpen,"aria-labelledby":`${Q.labelId} ${Q.toggleButtonId}`},gt);return gt.disabled||(pt.onClick=Ao(Qe,ft),pt.onKeyDown=Ao(Ke,zt)),Ue("getToggleButtonProps",Se,yt,q),pt},[I,pe,Xe,Ue,Q,Ae]),de=(0,xt.useCallback)(function(Ne){let Br=Ne===void 0?{}:Ne,{item:Ee,index:Qe,onMouseMove:Ke,onClick:yt,refKey:_t="ref",ref:gt,disabled:Se}=Br,ft=yn(Br,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:zt,props:pt}=pe.current,Ht=()=>{Qe!==zt.highlightedIndex&&(Fe.current=!1,I({type:_9e,index:Qe,disabled:Se}))},ar=()=>{I({type:PK,index:Qe})},Ft=bK(Qe,Ee,pt.items);if(Ft<0)throw new Error("Pass either item or item index in getItemProps!");let cr=et({disabled:Se,role:"option","aria-selected":`${Ft===zt.highlightedIndex}`,id:Q.getItemId(Ft),[_t]:Pf(gt,Ur=>{Ur&&(B.current[Q.getItemId(Ft)]=Ur)})},ft);return Se||(cr.onClick=Ao(yt,ar)),cr.onMouseMove=Ao(Ke,Ht),cr},[I,pe,Fe,Q]);return{getToggleButtonProps:Ce,getLabelProps:Ze,getMenuProps:nt,getItemProps:de,toggleMenu:Re,openMenu:je,closeMenu:ke,setHighlightedIndex:it,selectItem:ot,reset:at,setInputValue:Be,highlightedIndex:L,isOpen:M,selectedItem:R,inputValue:P}}var jK=0,zK=1,FK=2,BK=3,UK=4,VK=5,GK=6,C5=7,M9e=8,C9e=9,HK=10,O9e=11,D9e=12,L9e=13,P9e=14,N9e=15,$K=16,R9e=17,k9e=18,WK=19,q9e=Object.freeze({__proto__:null,InputKeyDownArrowDown:jK,InputKeyDownArrowUp:zK,InputKeyDownEscape:FK,InputKeyDownHome:BK,InputKeyDownEnd:UK,InputKeyDownEnter:VK,InputChange:GK,InputBlur:C5,MenuMouseLeave:M9e,ItemMouseMove:C9e,ItemClick:HK,ToggleButtonClick:O9e,FunctionToggleMenu:D9e,FunctionOpenMenu:L9e,FunctionCloseMenu:P9e,FunctionSetHighlightedIndex:N9e,FunctionSelectItem:$K,FunctionSetInputValue:R9e,FunctionReset:k9e,ControlledPropUpdatedSelectedItem:WK});function chr(e){let t=h9e(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),wr(et({},t),{inputValue:n})}var kon={items:Mt.default.array.isRequired,itemToString:Mt.default.func,getA11yStatusMessage:Mt.default.func,getA11ySelectionMessage:Mt.default.func,circularNavigation:Mt.default.bool,highlightedIndex:Mt.default.number,defaultHighlightedIndex:Mt.default.number,initialHighlightedIndex:Mt.default.number,isOpen:Mt.default.bool,defaultIsOpen:Mt.default.bool,initialIsOpen:Mt.default.bool,selectedItem:Mt.default.any,initialSelectedItem:Mt.default.any,defaultSelectedItem:Mt.default.any,inputValue:Mt.default.string,defaultInputValue:Mt.default.string,initialInputValue:Mt.default.string,id:Mt.default.string,labelId:Mt.default.string,menuId:Mt.default.string,getItemId:Mt.default.func,inputId:Mt.default.string,toggleButtonId:Mt.default.string,stateReducer:Mt.default.func,onSelectedItemChange:Mt.default.func,onHighlightedIndexChange:Mt.default.func,onStateChange:Mt.default.func,onIsOpenChange:Mt.default.func,onInputValueChange:Mt.default.func,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})};function fhr(e,t,r){let n=(0,xt.useRef)(),[i,o]=p9e(e,t,r);return(0,xt.useEffect)(()=>{s9e(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:WK,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[T5(i,r),o]}var phr=XT,dhr=wr(et({},ZT),{getA11yStatusMessage:Xdr,circularNavigation:!0});function hhr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case HK:o={isOpen:Ts(n,"isOpen"),highlightedIndex:Ts(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case jK:e.isOpen?o={highlightedIndex:KT(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:ox(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case zK:e.isOpen?o={highlightedIndex:KT(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:ox(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case VK:o=et({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:Ts(n,"isOpen"),highlightedIndex:Ts(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case FK:o=et({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case BK:o={highlightedIndex:ty(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case UK:o={highlightedIndex:ty(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case C5:o=et({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case GK:o={isOpen:!0,highlightedIndex:Ts(n,"highlightedIndex"),inputValue:t.inputValue};break;case $K:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case WK:o={inputValue:t.inputValue};break;default:return v9e(e,t,q9e);}return et(et({},e),o)}D5.stateChangeTypes=q9e;function D5(e){e===void 0&&(e={}),phr(e,D5);let t=et(et({},dhr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:a,getA11yStatusMessage:c,getA11ySelectionMessage:d,itemToString:m}=t,v=chr(t),[E,I]=fhr(hhr,v,t),{isOpen:M,highlightedIndex:L,selectedItem:R,inputValue:P}=E,q=(0,xt.useRef)(null),j=(0,xt.useRef)({}),B=(0,xt.useRef)(null),Z=(0,xt.useRef)(null),re=(0,xt.useRef)(null),Q=(0,xt.useRef)(!0),oe=f9e(t),me=(0,xt.useRef)(),pe=O5({state:E,props:t}),Ae=(0,xt.useCallback)(Ee=>j.current[oe.getItemId(Ee)],[oe]);A5(c,[M,L,P,i],et({isInitialMount:Q.current,previousResultCount:me.current,items:i,environment:a,itemToString:m},E)),A5(d,[R],et({isInitialMount:Q.current,previousResultCount:me.current,items:i,environment:a,itemToString:m},E));let Fe=g9e({menuElement:q.current,highlightedIndex:L,isOpen:M,itemRefs:j,scrollIntoView:o,getItemNodeFromIndex:Ae});EK({isInitialMount:Q.current,props:t,state:E}),(0,xt.useEffect)(()=>{(r||n||M)&&B.current&&B.current.focus()},[]),(0,xt.useEffect)(()=>{Q.current||(me.current=i.length)});let $e=m9e(M,[re,q,Z],a,()=>{I({type:C5,selectItem:!1})}),Ue=SK("getInputProps","getComboboxProps","getMenuProps");(0,xt.useEffect)(()=>{Q.current=!1},[]),(0,xt.useEffect)(()=>{M||(j.current={})},[M]);let Xe=(0,xt.useMemo)(()=>({ArrowDown(Ee){Ee.preventDefault(),I({type:jK,shiftKey:Ee.shiftKey,getItemNodeFromIndex:Ae})},ArrowUp(Ee){Ee.preventDefault(),I({type:zK,shiftKey:Ee.shiftKey,getItemNodeFromIndex:Ae})},Home(Ee){pe.current.state.isOpen&&(Ee.preventDefault(),I({type:BK,getItemNodeFromIndex:Ae}))},End(Ee){pe.current.state.isOpen&&(Ee.preventDefault(),I({type:UK,getItemNodeFromIndex:Ae}))},Escape(Ee){let Qe=pe.current.state;(Qe.isOpen||Qe.inputValue||Qe.selectedItem||Qe.highlightedIndex>-1)&&(Ee.preventDefault(),I({type:FK}))},Enter(Ee){let Qe=pe.current.state;!Qe.isOpen||Qe.highlightedIndex<0||Ee.which===229||(Ee.preventDefault(),I({type:VK,getItemNodeFromIndex:Ae}))}}),[I,pe,Ae]),Ye=(0,xt.useCallback)(Ee=>et({id:oe.labelId,htmlFor:oe.inputId},Ee),[oe]),Re=(0,xt.useCallback)(function(Ee,Qe){let ft=Ee===void 0?{}:Ee,{onMouseLeave:Ke,refKey:yt="ref",ref:_t}=ft,gt=yn(ft,["onMouseLeave","refKey","ref"]),{suppressRefError:Se=!1}=Qe===void 0?{}:Qe;return Ue("getMenuProps",Se,yt,q),et({[yt]:Pf(_t,zt=>{q.current=zt}),id:oe.menuId,role:"listbox","aria-labelledby":oe.labelId,onMouseLeave:Ao(Ke,()=>{I({type:M9e})})},gt)},[I,Ue,oe]),ke=(0,xt.useCallback)(function(Ee){let wi=Ee===void 0?{}:Ee,{item:Qe,index:Ke,refKey:yt="ref",ref:_t,onMouseMove:gt,onMouseDown:Se,onClick:ft,onPress:zt,disabled:pt}=wi,Ht=yn(wi,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:ar,state:Ft}=pe.current,cr=bK(Ke,Qe,ar.items);if(cr<0)throw new Error("Pass either item or item index in getItemProps!");let Br="onClick",Ur=ft,sr=()=>{Ke!==Ft.highlightedIndex&&(Fe.current=!1,I({type:C9e,index:Ke,disabled:pt}))},nn=()=>{I({type:HK,index:Ke})},lt=Tn=>Tn.preventDefault();return et(wr(et({[yt]:Pf(_t,Tn=>{Tn&&(j.current[oe.getItemId(cr)]=Tn)}),disabled:pt,role:"option","aria-selected":`${cr===Ft.highlightedIndex}`,id:oe.getItemId(cr)},!pt&&{[Br]:Ao(Ur,nn)}),{onMouseMove:Ao(gt,sr),onMouseDown:Ao(Se,lt)}),Ht)},[I,pe,Fe,oe]),je=(0,xt.useCallback)(function(Ee){let ft=Ee===void 0?{}:Ee,{onClick:Qe,onPress:Ke,refKey:yt="ref",ref:_t}=ft,gt=yn(ft,["onClick","onPress","refKey","ref"]),Se=()=>{I({type:O9e}),!pe.current.state.isOpen&&B.current&&B.current.focus()};return et(et({[yt]:Pf(_t,zt=>{Z.current=zt}),id:oe.toggleButtonId,tabIndex:-1},!gt.disabled&&{onClick:Ao(Qe,Se)}),gt)},[I,pe,oe]),it=(0,xt.useCallback)(function(Ee,Qe){let nn=Ee===void 0?{}:Ee,{onKeyDown:Ke,onChange:yt,onInput:_t,onBlur:gt,onChangeText:Se,refKey:ft="ref",ref:zt}=nn,pt=yn(nn,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:Ht=!1}=Qe===void 0?{}:Qe;Ue("getInputProps",Ht,ft,B);let ar=pe.current.state,Ft=lt=>{let wi=YT(lt);wi&&Xe[wi]&&Xe[wi](lt)},cr=lt=>{I({type:GK,inputValue:lt.target.value})},Br=()=>{ar.isOpen&&!$e.current.isMouseDown&&I({type:C5,selectItem:!0})},Ur="onChange",sr={};return pt.disabled||(sr={[Ur]:Ao(yt,_t,cr),onKeyDown:Ao(Ke,Ft),onBlur:Ao(gt,Br)}),et(et(wr(et({[ft]:Pf(zt,lt=>{B.current=lt}),id:oe.inputId,"aria-autocomplete":"list","aria-controls":oe.menuId},ar.isOpen&&ar.highlightedIndex>-1&&{"aria-activedescendant":oe.getItemId(ar.highlightedIndex)}),{"aria-labelledby":oe.labelId,autoComplete:"off",value:ar.inputValue}),sr),pt)},[I,Xe,pe,$e,Ue,oe]),ot=(0,xt.useCallback)(function(Ee,Qe){let Se=Ee===void 0?{}:Ee,{refKey:Ke="ref",ref:yt}=Se,_t=yn(Se,["refKey","ref"]),{suppressRefError:gt=!1}=Qe===void 0?{}:Qe;return Ue("getComboboxProps",gt,Ke,re),et({[Ke]:Pf(yt,ft=>{re.current=ft}),role:"combobox","aria-haspopup":"listbox","aria-owns":oe.menuId,"aria-expanded":pe.current.state.isOpen},_t)},[pe,Ue,oe]),at=(0,xt.useCallback)(()=>{I({type:D9e})},[I]),Be=(0,xt.useCallback)(()=>{I({type:P9e})},[I]),Ze=(0,xt.useCallback)(()=>{I({type:L9e})},[I]),nt=(0,xt.useCallback)(Ee=>{I({type:N9e,highlightedIndex:Ee})},[I]),Ce=(0,xt.useCallback)(Ee=>{I({type:$K,selectedItem:Ee})},[I]),de=(0,xt.useCallback)(Ee=>{I({type:R9e,inputValue:Ee})},[I]),Ne=(0,xt.useCallback)(()=>{I({type:k9e})},[I]);return{getItemProps:ke,getLabelProps:Ye,getMenuProps:Re,getInputProps:it,getComboboxProps:ot,getToggleButtonProps:je,toggleMenu:at,openMenu:Ze,closeMenu:Be,setHighlightedIndex:nt,setInputValue:de,selectItem:Ce,reset:Ne,highlightedIndex:L,isOpen:M,selectedItem:R,inputValue:P}}var j9e={activeIndex:-1,selectedItems:[]};function i9e(e,t){return WT(e,t,j9e)}function o9e(e,t){return Ts(e,t,j9e)}function mhr(e){let t=i9e(e,"activeIndex"),r=i9e(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function a9e(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function ghr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var qon={selectedItems:Mt.default.array,initialSelectedItems:Mt.default.array,defaultSelectedItems:Mt.default.array,itemToString:Mt.default.func,getA11yRemovalMessage:Mt.default.func,stateReducer:Mt.default.func,activeIndex:Mt.default.number,initialActiveIndex:Mt.default.number,defaultActiveIndex:Mt.default.number,onActiveIndexChange:Mt.default.func,onSelectedItemsChange:Mt.default.func,keyNavigationNext:Mt.default.string,keyNavigationPrevious:Mt.default.string,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})},vhr={itemToString:ZT.itemToString,stateReducer:ZT.stateReducer,environment:ZT.environment,getA11yRemovalMessage:ghr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},yhr=XT,ZK=0,YK=1,KK=2,XK=3,QK=4,JK=5,eX=6,tX=7,rX=8,nX=9,iX=10,oX=11,aX=12,_hr=Object.freeze({__proto__:null,SelectedItemClick:ZK,SelectedItemKeyDownDelete:YK,SelectedItemKeyDownBackspace:KK,SelectedItemKeyDownNavigationNext:XK,SelectedItemKeyDownNavigationPrevious:QK,DropdownKeyDownNavigationPrevious:JK,DropdownKeyDownBackspace:eX,DropdownClick:tX,FunctionAddSelectedItem:rX,FunctionRemoveSelectedItem:nX,FunctionSetSelectedItems:iX,FunctionSetActiveIndex:oX,FunctionReset:aX});function xhr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:a,selectedItems:c}=e,d;switch(r){case ZK:d={activeIndex:n};break;case QK:d={activeIndex:a-1<0?0:a-1};break;case XK:d={activeIndex:a+1>=c.length?-1:a+1};break;case KK:case YK:{let m=a;c.length===1?m=-1:a===c.length-1&&(m=c.length-2),d={selectedItems:[...c.slice(0,a),...c.slice(a+1)],activeIndex:m};break}case JK:d={activeIndex:c.length-1};break;case eX:d={selectedItems:c.slice(0,c.length-1)};break;case rX:d={selectedItems:[...c,o]};break;case tX:d={activeIndex:-1};break;case nX:{let m=a,v=c.indexOf(o);v>=0&&(c.length===1?m=-1:v===c.length-1&&(m=c.length-2),d={selectedItems:[...c.slice(0,v),...c.slice(v+1)],activeIndex:m});break}case iX:{let{selectedItems:m}=t;d={selectedItems:m};break}case oX:{let{activeIndex:m}=t;d={activeIndex:m};break}case aX:d={activeIndex:o9e(i,"activeIndex"),selectedItems:o9e(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.");}return et(et({},e),d)}z9e.stateChangeTypes=_hr;function z9e(e){e===void 0&&(e={}),yhr(e,z9e);let t=et(et({},vhr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:a}=t,[c,d]=d9e(xhr,mhr(t),t),{activeIndex:m,selectedItems:v}=c,E=(0,xt.useRef)(!0),I=(0,xt.useRef)(null),M=(0,xt.useRef)(v),L=(0,xt.useRef)();L.current=[];let R=O5({state:c,props:t});(0,xt.useEffect)(()=>{if(!E.current){if(v.length<M.current.length){let Ae=M.current.find(Fe=>v.indexOf(Fe)<0);l9e(r({itemToString:n,resultCount:v.length,removedSelectedItem:Ae,activeIndex:m,activeSelectedItem:v[m]}),i.document)}M.current=v}},[v.length]),(0,xt.useEffect)(()=>{E.current||(m===-1&&I.current?I.current.focus():L.current[m]&&L.current[m].focus())},[m]),EK({isInitialMount:E.current,props:t,state:c});let P=SK("getDropdownProps");(0,xt.useEffect)(()=>{E.current=!1},[]);let q=(0,xt.useMemo)(()=>({[a](){d({type:QK})},[o](){d({type:XK})},Delete(){d({type:YK})},Backspace(){d({type:KK})}}),[d,o,a]),j=(0,xt.useMemo)(()=>({[a](Ae){a9e(Ae)&&d({type:JK})},Backspace(Ae){a9e(Ae)&&d({type:eX})}}),[d,a]),B=(0,xt.useCallback)(function(Ae){let Be=Ae===void 0?{}:Ae,{refKey:Fe="ref",ref:$e,onClick:Ue,onKeyDown:Xe,selectedItem:Ye,index:Re}=Be,ke=yn(Be,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:je}=R.current;if(bK(Re,Ye,je.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let ot=()=>{d({type:ZK,index:Re})},at=Ze=>{let nt=YT(Ze);nt&&q[nt]&&q[nt](Ze)};return et({[Fe]:Pf($e,Ze=>{Ze&&L.current.push(Ze)}),tabIndex:Re===je.activeIndex?0:-1,onClick:Ao(Ue,ot),onKeyDown:Ao(Xe,at)},ke)},[d,R,q]),Z=(0,xt.useCallback)(function(Ae,Fe){let at=Ae===void 0?{}:Ae,{refKey:$e="ref",ref:Ue,onKeyDown:Xe,onClick:Ye,preventKeyAction:Re=!1}=at,ke=yn(at,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:je=!1}=Fe===void 0?{}:Fe;P("getDropdownProps",je,$e,I);let it=Be=>{let Ze=YT(Be);Ze&&j[Ze]&&j[Ze](Be)},ot=()=>{d({type:tX})};return et(et({[$e]:Pf(Ue,Be=>{Be&&(I.current=Be)})},!Re&&{onKeyDown:Ao(Xe,it),onClick:Ao(Ye,ot)}),ke)},[d,j,P]),re=(0,xt.useCallback)(Ae=>{d({type:rX,selectedItem:Ae})},[d]),Q=(0,xt.useCallback)(Ae=>{d({type:nX,selectedItem:Ae})},[d]),oe=(0,xt.useCallback)(Ae=>{d({type:iX,selectedItems:Ae})},[d]),me=(0,xt.useCallback)(Ae=>{d({type:oX,activeIndex:Ae})},[d]),pe=(0,xt.useCallback)(()=>{d({type:aX})},[d]);return{getSelectedItemProps:B,getDropdownProps:Z,addSelectedItem:re,removeSelectedItem:Q,setSelectedItems:oe,setActiveIndex:me,reset:pe,selectedItems:v,activeIndex:m}}var Tm=ee(Tt(),1);function sX({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:a=300}){let[c,d]=(0,As.useState)([]),[m,v]=(0,As.useState)(void 0),E=(0,As.useRef)(),I=(0,As.useRef)(null),M=Xe=>{clearTimeout(I.current),I.current=setTimeout(()=>{t(Xe).then(Ye=>d(Ye))},a)},L=({inputValue:Xe})=>{m!==void 0&&v(void 0),M(Xe)},R=({selectedItem:Xe})=>{o!==void 0&&o(Xe),v(Xe)},{isOpen:P,getToggleButtonProps:q,getLabelProps:j,getMenuProps:B,getInputProps:Z,getComboboxProps:re,getItemProps:Q,highlightedIndex:oe}=D5({items:c,itemToString:n,onInputValueChange:L,onSelectedItemChange:R}),$e=e!=null?e:{},{onClick:me}=$e,pe=yn($e,["onClick"]),Ue=Z(),{ref:Ae}=Ue,Fe=yn(Ue,["ref"]);return As.default.createElement("div",{className:"vkf-autocomplete-container"},As.default.createElement("label",wr(et({},j()),{id:Fe["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),As.default.createElement("div",et({className:"form-group"},re()),As.default.createElement("input",et(wr(et({},Fe),{ref:Xe=>{Ae(Xe),E.current=Xe},type:"text"}),i)),As.default.createElement("button",et(et(wr(et({type:"button"},q()),{"aria-label":"toggle menu"}),pe),me!==void 0?{onClick:()=>{me(m,E.current!==null?E.current.value:"")}}:{}),"\u2193")),As.default.createElement("div",{className:"autocomplete-dropdown"},As.default.createElement("ul",wr(et({className:"autocomplete-result-list"},B()),{id:Fe["aria-controls"]}),P&&c.map((Xe,Ye)=>As.default.createElement("li",et({className:ur("ui-menu-item",oe===Ye&&"highlighted",m===Xe&&"selected"),key:`${Xe.label}${Ye}`},Q({item:Xe,index:Ye})),Xe.label)))))}sX.propTypes={buttonProps:Tm.default.object,fetchInputItems:Tm.default.func,label:Tm.default.string,inputProps:Tm.default.object,itemToString:Tm.default.func,onSelectedItemChange:Tm.default.func,timeout:Tm.default.number};var F9e=ee(em(),1),lX=(e,t,r)=>{let n=e+"?format=json&q="+t;return F9e.default.get(n).then(i=>{let a=i.data.map(c=>({label:c.display_name,value:c.display_name,lonlat:{x:parseFloat(c.lon),y:parseFloat(c.lat)},type:c.type}));return r!==void 0&&r(),a})};var bhr=e=>e?e.label:"",B9e=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,ry.useState)(!1),o=cn(Qs),a=(0,ry.useCallback)(d=>(i(!0),lX(r,d,()=>{i(!1)})),[r]),c=(d,m)=>{d!==void 0?t(d):lX(r,m).then(v=>{if(v.length>0)t(v[0]);else throw new Error(Ve("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:Ve("placenamesearch-unknown-placename")})})};return ry.default.createElement("div",{className:"gazetteersearch-container"},ry.default.createElement(sX,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:c,"aria-label":Ve("placenamesearch-submit"),title:Ve("placenamesearch-submit")},fetchInputItems:a,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:Ve("placenamesearch-placeholder")},itemToString:bhr,onSelectedItemChange:c}))};B9e.propTypes={onSelectPosition:uX.default.func.isRequired,searchUrl:uX.default.string.isRequired};var U9e=B9e;var V9e=ee(Tt(),1),G9e=({searchUrl:e})=>{let t=Vt($r),r=(0,L5.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return L5.default.createElement(U9e,{onSelectPosition:r,searchUrl:e})};G9e.propTypes={searchUrl:V9e.default.string.isRequired};var P5=G9e;var H9e=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=Vt(vf);return ny.default.createElement("div",{className:"spatialsearch-inner-container"},ny.default.createElement("div",{className:"spatialsearch-content-panel"},ny.default.createElement("div",{className:"body-container"},ny.default.createElement(P5,{searchUrl:kr.getNominatimUrl()}),ny.default.createElement(w5,{timeRange:n}),ny.default.createElement(FFe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r}))))};H9e.propTypes={customQuery:N5.default.array,MapSearchListItemComponent:N5.default.elementType,mosaicMode:N5.default.bool};var $9e=H9e;var sn=ee(Le(),1),gk=ee(Tt(),1);var Am=ee(Le(),1),iy=ee(Tt(),1);var W9e=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>Am.default.createElement(Za,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},Am.default.createElement(Za.Header,null,Am.default.createElement("p",null,o),Am.default.createElement("button",{onClick:t},Am.default.createElement("span",null,"+"))),Am.default.createElement(Za.Body,null,n()),i!==void 0&&Am.default.createElement(Za.Footer,null,i()));W9e.propTypes={isOpen:iy.default.bool,onClose:iy.default.func,modalClassName:iy.default.string,renderContent:iy.default.func,renderFooter:iy.default.func,title:iy.default.string};var Z9e=W9e;var R5=Z9e;var Sx=ee(Le(),1),HHe=ee(em(),1),m2=ee(Tt(),1);var whr=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();var es=whr;var pd={PROPERTYCHANGE:"propertychange"};var Shr=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}(),Mm=Shr;function QT(e,t){return e>t?1:e<t?-1:0}function ax(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(e[i]<t)return i-1}else if(r<0){for(i=1;i<n;++i)if(e[i]<=t)return i}else for(i=1;i<n;++i){if(e[i]==t)return i;if(e[i]<t)return typeof r=="function"?r(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return n-1}function Y9e(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i=0;i<n;i++)e[e.length]=r[i]}function k5(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function K9e(e,t,r){var n=t||QT;return e.every(function(i,o){if(o===0)return!0;var a=n(e[o-1],i);return!(a>0||r&&a===0)})}function Cm(){return!0}function dd(){return!1}function hd(){}function X9e(e){var t=!1,r,n,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!k5(o,n))&&(t=!0,i=this,n=o,r=e.apply(this,arguments)),r}}var Ehr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ihr=function(e){Ehr(t,e);function t(r){var n=e.call(this)||this;return n.eventTarget_=r,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return t.prototype.addEventListener=function(r,n){if(!(!r||!n)){var i=this.listeners_||(this.listeners_={}),o=i[r]||(i[r]=[]);o.indexOf(n)===-1&&o.push(n)}},t.prototype.dispatchEvent=function(r){var n=typeof r=="string",i=n?r:r.type,o=this.listeners_&&this.listeners_[i];if(o){var a=n?new es(r):r;a.target||(a.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),d=this.pendingRemovals_||(this.pendingRemovals_={});i in c||(c[i]=0,d[i]=0),++c[i];for(var m,v=0,E=o.length;v<E;++v)if("handleEvent"in o[v]?m=o[v].handleEvent(a):m=o[v].call(this,a),m===!1||a.propagationStopped){m=!1;break}if(--c[i]===0){var I=d[i];for(delete d[i];I--;)this.removeEventListener(i,hd);delete c[i]}return m}},t.prototype.disposeInternal=function(){this.listeners_&&Cu(this.listeners_)},t.prototype.getListeners=function(r){return this.listeners_&&this.listeners_[r]||void 0},t.prototype.hasListener=function(r){return this.listeners_?r?r in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(r,n){var i=this.listeners_&&this.listeners_[r];if(i){var o=i.indexOf(n);o!==-1&&(this.pendingRemovals_&&r in this.pendingRemovals_?(i[o]=hd,++this.pendingRemovals_[r]):(i.splice(o,1),i.length===0&&delete this.listeners_[r]))}},t}(Mm),Bu=Ihr;var nr={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function tn(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function sx(e,t,r,n){return tn(e,t,r,n,!0)}function Nn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Cu(e))}var Thr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q5=function(e){Thr(t,e);function t(){var r=e.call(this)||this;return r.on=r.onInternal,r.once=r.onceInternal,r.un=r.unInternal,r.revision_=0,r}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(nr.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(r,n){if(Array.isArray(r)){for(var i=r.length,o=new Array(i),a=0;a<i;++a)o[a]=tn(this,r[a],n);return o}else return tn(this,r,n)},t.prototype.onceInternal=function(r,n){var i;if(Array.isArray(r)){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=sx(this,r[a],n)}else i=sx(this,r,n);return n.ol_key=i,i},t.prototype.unInternal=function(r,n){var i=n.ol_key;if(i)Ahr(i);else if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)this.removeEventListener(r[o],n);else this.removeEventListener(r,n)},t}(Bu);q5.prototype.on;q5.prototype.once;q5.prototype.un;function Ahr(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)Nn(e[t]);else Nn(e)}var j5=q5;var J9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q9e=function(e){J9e(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.key=n,o.oldValue=i,o}return t}(es);var Mhr=function(e){J9e(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,ao(n),n.values_=null,r!==void 0&&n.setProperties(r),n}return t.prototype.get=function(r){var n;return this.values_&&this.values_.hasOwnProperty(r)&&(n=this.values_[r]),n},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&ci({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(r,n){var i;i="change:".concat(r),this.hasListener(i)&&this.dispatchEvent(new Q9e(i,r,n)),i=pd.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Q9e(i,r,n))},t.prototype.addChangeListener=function(r,n){this.addEventListener("change:".concat(r),n)},t.prototype.removeChangeListener=function(r,n){this.removeEventListener("change:".concat(r),n)},t.prototype.set=function(r,n,i){var o=this.values_||(this.values_={});if(i)o[r]=n;else{var a=o[r];o[r]=n,a!==n&&this.notify(r,a)}},t.prototype.setProperties=function(r,n){for(var i in r)this.set(i,r[i],n)},t.prototype.applyProperties=function(r){r.values_&&ci(this.values_||(this.values_={}),r.values_)},t.prototype.unset=function(r,n){if(this.values_&&r in this.values_){var i=this.values_[r];delete this.values_[r],cze(this.values_)&&(this.values_=null),n||this.notify(r,i)}},t}(j5),Yo=Mhr;var cX={ACTIVE:"active"};function fX(e){return Math.pow(e,3)}function Uu(e){return 1-fX(1-e)}function e7e(e){return 3*e*e-2*e*e*e}function t7e(e){return e}var Chr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ohr=function(e){Chr(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,r&&r.handleEvent&&(n.handleEvent=r.handleEvent),n.map_=null,n.setActive(!0),n}return t.prototype.getActive=function(){return this.get(cX.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(r){return!0},t.prototype.setActive=function(r){this.set(cX.ACTIVE,r)},t.prototype.setMap=function(r){this.map_=r},t}(Yo);function r7e(e,t,r){var n=e.getCenterInternal();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:r!==void 0?r:250,easing:t7e,center:e.getConstrainedCenter(i)})}}function lx(e,t,r,n){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:r,duration:n!==void 0?n:250,easing:Uu})}}var Nf=Ohr;var xi={SINGLECLICK:"singleclick",CLICK:nr.CLICK,DBLCLICK:nr.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Dhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lhr=function(e){Dhr(t,e);function t(r){var n=this,i=r||{};return n=e.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(r){return!1},t.prototype.handleDragEvent=function(r){},t.prototype.handleEvent=function(r){if(!r.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(r),this.handlingDownUpSequence){if(r.type==xi.POINTERDRAG)this.handleDragEvent(r),r.originalEvent.preventDefault();else if(r.type==xi.POINTERUP){var i=this.handleUpEvent(r);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(r.type==xi.POINTERDOWN){var o=this.handleDownEvent(r);this.handlingDownUpSequence=o,n=this.stopDown(o)}else r.type==xi.POINTERMOVE&&this.handleMoveEvent(r);return!n},t.prototype.handleMoveEvent=function(r){},t.prototype.handleUpEvent=function(r){return!1},t.prototype.stopDown=function(r){return r},t.prototype.updateTrackedPointers_=function(r){r.activePointers&&(this.targetPointers=r.activePointers)},t}(Nf);function ux(e){for(var t=e.length,r=0,n=0,i=0;i<t;i++)r+=e[i].clientX,n+=e[i].clientY;return[r/t,n/t]}var Rf=Lhr;var ts={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var Om=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",n7e=Om.indexOf("firefox")!==-1,Phr=Om.indexOf("safari")!==-1&&Om.indexOf("chrom")==-1,i7e=Phr&&!!(Om.indexOf("version/15.4")>=0||Om.match(/cpu (os|iphone os) 15_4 like mac os x/)),o7e=Om.indexOf("webkit")!==-1&&Om.indexOf("edge")==-1,a7e=Om.indexOf("macintosh")!==-1,z5=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,s7e=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,l7e=typeof Image!="undefined"&&Image.prototype.decode,F5=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(r){}return e}();var pX=new Array(6);function Vu(){return[1,0,0,1,0,0]}function cx(e){return B5(e,1,0,0,1,0,0)}function dX(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],c=e[5],d=t[0],m=t[1],v=t[2],E=t[3],I=t[4],M=t[5];return e[0]=r*d+i*m,e[1]=n*d+o*m,e[2]=r*v+i*E,e[3]=n*v+o*E,e[4]=r*I+i*M+a,e[5]=n*I+o*M+c,e}function B5(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function Dm(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function U5(e,t){var r=Math.cos(t),n=Math.sin(t);return dX(e,B5(pX,r,n,-n,r,0,0))}function JT(e,t,r){return dX(e,B5(pX,t,0,0,r,0,0))}function u7e(e,t,r){return dX(e,B5(pX,1,0,0,1,t,r))}function Lm(e,t,r,n,i,o,a,c){var d=Math.sin(o),m=Math.cos(o);return e[0]=n*m,e[1]=i*d,e[2]=-n*d,e[3]=i*m,e[4]=a*n*m-c*n*d+t,e[5]=a*i*d+c*i*m+r,e}function c7e(e,t){var r=Nhr(t);qr(r!==0,32);var n=t[0],i=t[1],o=t[2],a=t[3],c=t[4],d=t[5];return e[0]=a/r,e[1]=-i/r,e[2]=-o/r,e[3]=n/r,e[4]=(o*d-a*c)/r,e[5]=-(n*d-i*c)/r,e}function Nhr(e){return e[0]*e[3]-e[1]*e[2]}function hX(e,t,r,n,i,o){for(var a=o||[],c=0,d=t;d<r;d+=n){var m=e[d],v=e[d+1];a[c++]=i[0]*m+i[2]*v+i[4],a[c++]=i[1]*m+i[3]*v+i[5]}return o&&a.length!=c&&(a.length=c),a}function f7e(e,t,r,n,i,o,a){for(var c=a||[],d=Math.cos(i),m=Math.sin(i),v=o[0],E=o[1],I=0,M=t;M<r;M+=n){var L=e[M]-v,R=e[M+1]-E;c[I++]=v+L*d-R*m,c[I++]=E+L*m+R*d;for(var P=M+2;P<M+n;++P)c[I++]=e[P]}return a&&c.length!=I&&(c.length=I),c}function p7e(e,t,r,n,i,o,a,c){for(var d=c||[],m=a[0],v=a[1],E=0,I=t;I<r;I+=n){var M=e[I]-m,L=e[I+1]-v;d[E++]=m+i*M,d[E++]=v+o*L;for(var R=I+2;R<I+n;++R)d[E++]=e[R]}return c&&d.length!=E&&(d.length=E),d}function d7e(e,t,r,n,i,o,a){for(var c=a||[],d=0,m=t;m<r;m+=n){c[d++]=e[m]+i,c[d++]=e[m+1]+o;for(var v=m+2;v<m+n;++v)c[d++]=e[v]}return a&&c.length!=d&&(c.length=d),c}var Rhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h7e=Vu(),khr=function(e){Rhr(t,e);function t(){var r=e.call(this)||this;return r.extent_=Sf(),r.extentRevision_=-1,r.simplifiedGeometryMaxMinSquaredTolerance=0,r.simplifiedGeometryRevision=0,r.simplifyTransformedInternal=X9e(function(n,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),r}return t.prototype.simplifyTransformed=function(r,n){return this.simplifyTransformedInternal(this.getRevision(),r,n)},t.prototype.clone=function(){return bn()},t.prototype.closestPointXY=function(r,n,i,o){return bn()},t.prototype.containsXY=function(r,n){var i=this.getClosestPoint([r,n]);return i[0]===r&&i[1]===n},t.prototype.getClosestPoint=function(r,n){var i=n||[NaN,NaN];return this.closestPointXY(r[0],r[1],i,1/0),i},t.prototype.intersectsCoordinate=function(r){return this.containsXY(r[0],r[1])},t.prototype.computeExtent=function(r){return bn()},t.prototype.getExtent=function(r){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&q1(n),this.extentRevision_=this.getRevision()}return _ze(this.extent_,r)},t.prototype.rotate=function(r,n){bn()},t.prototype.scale=function(r,n,i){bn()},t.prototype.simplify=function(r){return this.getSimplifiedGeometry(r*r)},t.prototype.getSimplifiedGeometry=function(r){return bn()},t.prototype.getType=function(){return bn()},t.prototype.applyTransform=function(r){bn()},t.prototype.intersectsExtent=function(r){return bn()},t.prototype.translate=function(r,n){bn()},t.prototype.transform=function(r,n){var i=ll(r),o=i.getUnits()==sl.TILE_PIXELS?function(a,c,d){var m=i.getExtent(),v=i.getWorldExtent(),E=ya(v)/ya(m);return Lm(h7e,v[0],v[3],E,-E,0,0,0),hX(a,0,a.length,d,h7e,c),Gv(i,n)(a,c,d)}:Gv(i,n);return this.applyTransform(o),this},t}(Yo),m7e=khr;var qhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jhr=function(e){qhr(t,e);function t(){var r=e.call(this)||this;return r.layout=ts.XY,r.stride=2,r.flatCoordinates=null,r}return t.prototype.computeExtent=function(r){return gze(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)},t.prototype.getCoordinates=function(){return bn()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(r){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),r<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&r<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(r),i=n.getFlatCoordinates();return i.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=r,this)},t.prototype.getSimplifiedGeometryInternal=function(r){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(r,n){this.stride=g7e(r),this.layout=r,this.flatCoordinates=n},t.prototype.setCoordinates=function(r,n){bn()},t.prototype.setLayout=function(r,n,i){var o;if(r)o=g7e(r);else{for(var a=0;a<i;++a)if(n.length===0){this.layout=ts.XY,this.stride=2;return}else n=n[0];o=n.length,r=zhr(o)}this.layout=r,this.stride=o},t.prototype.applyTransform=function(r){this.flatCoordinates&&(r(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(r,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();f7e(i,0,i.length,o,r,n,i),this.changed()}},t.prototype.scale=function(r,n,i){var o=n;o===void 0&&(o=r);var a=i;a||(a=Mc(this.getExtent()));var c=this.getFlatCoordinates();if(c){var d=this.getStride();p7e(c,0,c.length,d,r,o,a,c),this.changed()}},t.prototype.translate=function(r,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();d7e(i,0,i.length,o,r,n,i),this.changed()}},t}(m7e);function zhr(e){var t;return e==2?t=ts.XY:e==3?t=ts.XYZ:e==4&&(t=ts.XYZM),t}function g7e(e){var t;return e==ts.XY?t=2:e==ts.XYZ||e==ts.XYM?t=3:e==ts.XYZM&&(t=4),t}var fx=jhr;function v7e(e,t,r,n,i,o,a){var c=e[t],d=e[t+1],m=e[r]-c,v=e[r+1]-d,E;if(m===0&&v===0)E=t;else{var I=((i-c)*m+(o-d)*v)/(m*m+v*v);if(I>1)E=r;else if(I>0){for(var M=0;M<n;++M)a[M]=rze(e[t+M],e[r+M],I);a.length=n;return}else E=t}for(var M=0;M<n;++M)a[M]=e[E+M];a.length=n}function mX(e,t,r,n,i){var o=e[t],a=e[t+1];for(t+=n;t<r;t+=n){var c=e[t],d=e[t+1],m=Xp(o,a,c,d);m>i&&(i=m),o=c,a=d}return i}function y7e(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var c=r[o];i=mX(e,t,c,n,i),t=c}return i}function gX(e,t,r,n,i,o,a,c,d,m,v){if(t==r)return m;var E,I;if(i===0)if(I=Xp(a,c,e[t],e[t+1]),I<m){for(E=0;E<n;++E)d[E]=e[t+E];return d.length=n,I}else return m;for(var M=v||[NaN,NaN],L=t+n;L<r;)if(v7e(e,L-n,L,n,a,c,M),I=Xp(a,c,M[0],M[1]),I<m){for(m=I,E=0;E<n;++E)d[E]=M[E];d.length=n,L+=n}else L+=n*Math.max((Math.sqrt(I)-Math.sqrt(m))/i|0,1);if(o&&(v7e(e,r-n,t,n,a,c,M),I=Xp(a,c,M[0],M[1]),I<m)){for(m=I,E=0;E<n;++E)d[E]=M[E];d.length=n}return m}function _7e(e,t,r,n,i,o,a,c,d,m,v){for(var E=v||[NaN,NaN],I=0,M=r.length;I<M;++I){var L=r[I];m=gX(e,t,L,n,i,o,a,c,d,m,E),t=L}return m}function x7e(e,t,r,n){for(var i=0,o=r.length;i<o;++i)e[t++]=r[i];return t}function vX(e,t,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],c=0;c<n;++c)e[t++]=a[c];return t}function b7e(e,t,r,n,i){for(var o=i||[],a=0,c=0,d=r.length;c<d;++c){var m=vX(e,t,r[c],n);o[a++]=m,t=m}return o.length=a,o}function w7e(e,t,r,n,i,o,a){var c=(r-t)/n;if(c<3){for(;t<r;t+=n)o[a++]=e[t],o[a++]=e[t+1];return a}var d=new Array(c);d[0]=1,d[c-1]=1;for(var m=[t,r-n],v=0;m.length>0;){for(var E=m.pop(),I=m.pop(),M=0,L=e[I],R=e[I+1],P=e[E],q=e[E+1],j=I+n;j<E;j+=n){var B=e[j],Z=e[j+1],re=eze(B,Z,L,R,P,q);re>M&&(v=j,M=re)}M>i&&(d[(v-t)/n]=1,I+n<v&&m.push(I,v),v+n<E&&m.push(v,E))}for(var j=0;j<c;++j)d[j]&&(o[a++]=e[t+j*n],o[a++]=e[t+j*n+1]);return a}function px(e,t){return t*Math.round(e/t)}function Fhr(e,t,r,n,i,o,a){if(t==r)return a;var c=px(e[t],i),d=px(e[t+1],i);t+=n,o[a++]=c,o[a++]=d;var m,v;do if(m=px(e[t],i),v=px(e[t+1],i),t+=n,t==r)return o[a++]=m,o[a++]=v,a;while(m==c&&v==d);for(;t<r;){var E=px(e[t],i),I=px(e[t+1],i);if(t+=n,!(E==m&&I==v)){var M=m-c,L=v-d,R=E-c,P=I-d;if(M*P==L*R&&(M<0&&R<M||M==R||M>0&&R>M)&&(L<0&&P<L||L==P||L>0&&P>L)){m=E,v=I;continue}o[a++]=m,o[a++]=v,c=m,d=v,m=E,v=I}}return o[a++]=m,o[a++]=v,a}function S7e(e,t,r,n,i,o,a,c){for(var d=0,m=r.length;d<m;++d){var v=r[d];a=Fhr(e,t,v,n,i,o,a),c.push(a),t=v}return a}function yX(e,t,r,n,i){for(var o=i!==void 0?i:[],a=0,c=t;c<r;c+=n)o[a++]=e.slice(c,c+n);return o.length=a,o}function E7e(e,t,r,n,i){for(var o=i!==void 0?i:[],a=0,c=0,d=r.length;c<d;++c){var m=r[c];o[a++]=yX(e,t,m,n,o[a]),t=m}return o.length=a,o}function _X(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var c=e[t],d=e[t+1];i+=a*c-o*d,o=c,a=d}return i/2}function I7e(e,t,r,n){for(var i=0,o=0,a=r.length;o<a;++o){var c=r[o];i+=_X(e,t,c,n),t=c}return i}var Bhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uhr=function(e){Bhr(t,e);function t(r,n){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(r[0])?i.setFlatCoordinates(n,r):i.setCoordinates(r,n),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(r,n,i,o){return o<PR(this.getExtent(),r,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mX(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gX(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,r,n,i,o))},t.prototype.getArea=function(){return _X(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return yX(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[];return n.length=w7e(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,n,0),new t(n,ts.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(r){return!1},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vX(this.flatCoordinates,0,r,this.stride),this.changed()},t}(fx),xX=Uhr;var Vhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ghr=function(e){Vhr(t,e);function t(r,n){var i=e.call(this)||this;return i.setCoordinates(r,n),i}return t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,i,o){var a=this.flatCoordinates,c=Xp(r,n,a[0],a[1]);if(c<o){for(var d=this.stride,m=0;m<d;++m)i[m]=a[m];return i.length=d,c}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(r){return mze(this.flatCoordinates,r)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(r){return cZ(r,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=x7e(this.flatCoordinates,0,r,this.stride),this.changed()},t}(fx),T7e=Ghr;function A7e(e,t,r,n,i){var o=NR(i,function(a){return!Pm(e,t,r,n,a[0],a[1])});return!o}function Pm(e,t,r,n,i,o){for(var a=0,c=e[r-n],d=e[r-n+1];t<r;t+=n){var m=e[t],v=e[t+1];d<=o?v>o&&(m-c)*(o-d)-(i-c)*(v-d)>0&&a++:v<=o&&(m-c)*(o-d)-(i-c)*(v-d)<0&&a--,c=m,d=v}return a!==0}function V5(e,t,r,n,i,o){if(r.length===0||!Pm(e,t,r[0],n,i,o))return!1;for(var a=1,c=r.length;a<c;++a)if(Pm(e,r[a-1],r[a],n,i,o))return!1;return!0}function M7e(e,t,r,n,i,o,a){for(var c,d,m,v,E,I,M,L=i[o+1],R=[],P=0,q=r.length;P<q;++P){var j=r[P];for(v=e[j-n],I=e[j-n+1],c=t;c<j;c+=n)E=e[c],M=e[c+1],(L<=I&&M<=L||I<=L&&L<=M)&&(m=(L-I)/(M-I)*(E-v)+v,R.push(m)),v=E,I=M}var B=NaN,Z=-1/0;for(R.sort(QT),v=R[0],c=1,d=R.length;c<d;++c){E=R[c];var re=Math.abs(E-v);re>Z&&(m=(v+E)/2,V5(e,t,r,n,m,L)&&(B=m,Z=re)),v=E}return isNaN(B)&&(B=i[o]),a?(a.push(B,L,Z),a):[B,L,Z]}function C7e(e,t,r,n,i){var o;for(t+=n;t<r;t+=n)if(o=i(e.slice(t-n,t),e.slice(t,t+n)),o)return o;return!1}function O7e(e,t,r,n,i){var o=fZ(Sf(),e,t,r,n);return XI(i,o)?hze(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:C7e(e,t,r,n,function(a,c){return xze(i,a,c)}):!1}function bX(e,t,r,n,i){return!!(O7e(e,t,r,n,i)||Pm(e,t,r,n,i[0],i[1])||Pm(e,t,r,n,i[0],i[3])||Pm(e,t,r,n,i[2],i[1])||Pm(e,t,r,n,i[2],i[3]))}function D7e(e,t,r,n,i){if(!bX(e,t,r[0],n,i))return!1;if(r.length===1)return!0;for(var o=1,a=r.length;o<a;++o)if(A7e(e,r[o-1],r[o],n,i)&&!O7e(e,r[o-1],r[o],n,i))return!1;return!0}function L7e(e,t,r,n){for(;t<r-n;){for(var i=0;i<n;++i){var o=e[t+i];e[t+i]=e[r-n+i],e[r-n+i]=o}t+=n,r-=n}}function P7e(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var c=e[t],d=e[t+1];i+=(c-o)*(d+a),o=c,a=d}return i===0?void 0:i>0}function N7e(e,t,r,n,i){for(var o=i!==void 0?i:!1,a=0,c=r.length;a<c;++a){var d=r[a],m=P7e(e,t,d,n);if(a===0){if(o&&m||!o&&!m)return!1}else if(o&&!m||!o&&m)return!1;t=d}return!0}function wX(e,t,r,n,i){for(var o=i!==void 0?i:!1,a=0,c=r.length;a<c;++a){var d=r[a],m=P7e(e,t,d,n),v=a===0?o&&m||!o&&!m:o&&!m||!o&&m;v&&L7e(e,t,d,n),t=d}return t}var Hhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R7e=function(e){Hhr(t,e);function t(r,n,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,n!==void 0&&i?(o.setFlatCoordinates(n,r),o.ends_=i):o.setCoordinates(r,n),o}return t.prototype.appendLinearRing=function(r){this.flatCoordinates?Y9e(this.flatCoordinates,r.getFlatCoordinates()):this.flatCoordinates=r.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,i,o){return o<PR(this.getExtent(),r,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y7e(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_7e(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,r,n,i,o))},t.prototype.containsXY=function(r,n){return V5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,n)},t.prototype.getArea=function(){return I7e(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(r){var n;return r!==void 0?(n=this.getOrientedFlatCoordinates().slice(),wX(n,0,this.ends_,this.stride,r)):n=this.flatCoordinates,E7e(n,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var r=Mc(this.getExtent());this.flatInteriorPoint_=M7e(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new T7e(this.getFlatInteriorPoint(),ts.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(r){return r<0||this.ends_.length<=r?null:new xX(this.flatCoordinates.slice(r===0?0:this.ends_[r-1],this.ends_[r]),this.layout)},t.prototype.getLinearRings=function(){for(var r=this.layout,n=this.flatCoordinates,i=this.ends_,o=[],a=0,c=0,d=i.length;c<d;++c){var m=i[c],v=new xX(n.slice(a,m),r);o.push(v),a=m}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var r=this.flatCoordinates;N7e(r,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=r:(this.orientedFlatCoordinates_=r.slice(),this.orientedFlatCoordinates_.length=wX(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[],i=[];return n.length=S7e(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(r),n,0,i),new t(n,ts.XY,i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(r){return D7e(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r)},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=b7e(this.flatCoordinates,0,r,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(fx),k7e=R7e;function e2(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=[t,r,t,i,n,i,n,r,t,r];return new R7e(o,ts.XY,[o.length])}var $hr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Whr=function(e){$hr(t,e);function t(r){var n=e.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+r,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var r=this.startPixel_,n=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(r[0],n[0])+i,o.top=Math.min(r[1],n[1])+i,o.width=Math.abs(n[0]-r[0])+i,o.height=Math.abs(n[1]-r[1])+i},t.prototype.setMap=function(r){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=r,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(r,n){this.startPixel_=r,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var r=this.startPixel_,n=this.endPixel_,i=[r,[r[0],n[1]],n,[n[0],r[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new k7e([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(Mm),q7e=Whr;function t2(e){var t=arguments;return function(r){for(var n=!0,i=0,o=t.length;i<o&&(n=n&&t[i](r),!!n);++i);return n}}var j7e=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Zhr=function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)},G5=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Zhr(e):!0},z7e=Cm;var H5=function(e){var t=e.originalEvent;return t.button==0&&!(o7e&&a7e&&t.ctrlKey)};var $5=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var F7e=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},W5=function(e){var t=e.originalEvent,r=t.target.tagName;return r!=="INPUT"&&r!=="SELECT"&&r!=="TEXTAREA"&&!t.target.isContentEditable},Z5=function(e){var t=e.originalEvent;return qr(t!==void 0,56),t.pointerType=="mouse"};var B7e=function(e){var t=e.originalEvent;return qr(t!==void 0,56),t.isPrimary&&t.button===0};var U7e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y5={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},SX=function(e){U7e(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return t}(es);var Yhr=function(e){U7e(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=r||{};return n.box_=new q7e(i.className||"ol-dragbox"),n.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:H5,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return t.prototype.defaultBoxEndCondition=function(r,n,i){var o=i[0]-n[0],a=i[1]-n[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(r){this.box_.setPixels(this.startPixel_,r.pixel),this.dispatchEvent(new SX(Y5.BOXDRAG,r.coordinate,r))},t.prototype.handleUpEvent=function(r){this.box_.setMap(null);var n=this.boxEndCondition_(r,this.startPixel_,r.pixel);return n&&this.onBoxEnd(r),this.dispatchEvent(new SX(n?Y5.BOXEND:Y5.BOXCANCEL,r.coordinate,r)),!1},t.prototype.handleDownEvent=function(r){return this.condition_(r)?(this.startPixel_=r.pixel,this.box_.setMap(r.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new SX(Y5.BOXSTART,r.coordinate,r)),!0):!1},t.prototype.onBoxEnd=function(r){},t}(Rf),V7e=Yhr;var Khr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xhr=function(e){Khr(t,e);function t(r){var n=this,i=r||{},o=i.condition?i.condition:F7e;return n=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,n.duration_=i.duration!==void 0?i.duration:200,n.out_=i.out!==void 0?i.out:!1,n}return t.prototype.onBoxEnd=function(r){var n=this.getMap(),i=n.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),c=i.getResolutionForExtentInternal(a),d=i.getResolution()/c;o=o.clone(),o.scale(d*d)}i.fitInternal(o,{duration:this.duration_,easing:Uu})},t}(V7e),K5=Xhr;var kf={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};function md(e,t,r,n){var i;return r&&r.length?i=r.shift():s7e?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",n)}function G7e(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function dx(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function r2(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function H7e(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function $7e(e,t){for(var r=e.childNodes,n=0;;++n){var i=r[n],o=t[n];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--n;continue}e.insertBefore(o,i)}}}var Qhr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jhr=function(e){Qhr(t,e);function t(r){var n=e.call(this)||this,i=r.element;return i&&!r.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],r.render&&(n.render=r.render),r.target&&n.setTarget(r.target),n}return t.prototype.disposeInternal=function(){r2(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(r){this.map_&&r2(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Nn(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=r,r){var o=this.target_?this.target_:r.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==hd&&this.listenerKeys.push(tn(r,kf.POSTRENDER,this.render,this)),r.render()}},t.prototype.render=function(r){},t.prototype.setTarget=function(r){this.target_=typeof r=="string"?document.getElementById(r):r},t}(Yo),Wl=Jhr;var vo={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var n2="ol-hidden";var Gu="ol-unselectable",EX="ol-unsupported",qf="ol-control",IX="ol-collapsed",emr=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),W7e=["style","variant","weight","size","lineHeight","family"],Z7e=function(e){var t=e.match(emr);if(!t)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=W7e.length;n<i;++n){var o=t[n+1];o!==void 0&&(r[W7e[n]]=o)}return r.families=r.family.split(/,\s?/),r};var tmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y7e=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],K7e={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},rmr=function(e){tmr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this,n.on,n.once,n.un,n.keys_=i.keys!==void 0?i.keys:!1,n.source_=i.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var o=i.label!==void 0?i.label:"\u2922";n.labelNode_=typeof o=="string"?document.createTextNode(o):o;var a=i.labelActive!==void 0?i.labelActive:"\xD7";n.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a;var c=i.tipLabel?i.tipLabel:"Toggle full-screen";return n.button_=document.createElement("button"),n.button_.title=c,n.button_.setAttribute("type","button"),n.button_.appendChild(n.labelNode_),n.button_.addEventListener(nr.CLICK,n.handleClick_.bind(n),!1),n.setClassName_(n.button_,n.isInFullscreen_),n.element.className="".concat(n.cssClassName_," ").concat(Gu," ").concat(qf),n.element.appendChild(n.button_),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var r=this.getMap();if(r){var n=r.getOwnerDocument();if(X7e(n))if(Q7e(n))imr(n);else{var i=void 0;this.source_?i=typeof this.source_=="string"?n.getElementById(this.source_):this.source_:i=r.getTargetElement(),this.keys_?nmr(i):J7e(i)}}},t.prototype.handleFullScreenChange_=function(){var r=this.getMap();if(r){var n=this.isInFullscreen_;this.isInFullscreen_=Q7e(r.getOwnerDocument()),n!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(dx(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(K7e.ENTERFULLSCREEN)):(dx(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(K7e.LEAVEFULLSCREEN)),r.updateSize())}},t.prototype.setClassName_=function(r,n){var i,o,a,c;n?((i=r.classList).remove.apply(i,this.inactiveClassName_),(o=r.classList).add.apply(o,this.activeClassName_)):((a=r.classList).remove.apply(a,this.activeClassName_),(c=r.classList).add.apply(c,this.inactiveClassName_))},t.prototype.setMap=function(r){var n=this.getMap();n&&n.removeChangeListener(vo.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,r),this.handleMapTargetChange_(),r&&r.addChangeListener(vo.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var r=this.documentListeners_,n=0,i=r.length;n<i;++n)Nn(r[n]);r.length=0;var o=this.getMap();if(o){var a=o.getOwnerDocument();X7e(a)?this.element.classList.remove(EX):this.element.classList.add(EX);for(var n=0,i=Y7e.length;n<i;++n)r.push(tn(a,Y7e[n],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(Wl);function X7e(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function Q7e(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function J7e(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function nmr(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():J7e(e)}function imr(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}var eGe=rmr;var Ms={ADD:"add",REMOVE:"remove"};var rGe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tGe={LENGTH:"length"},X5=function(e){rGe(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.element=n,o.index=i,o}return t}(es);var omr=function(e){rGe(t,e);function t(r,n){var i=e.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=r||[],i.unique_)for(var a=0,c=i.array_.length;a<c;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(r){for(var n=0,i=r.length;n<i;++n)this.push(r[n]);return this},t.prototype.forEach=function(r){for(var n=this.array_,i=0,o=n.length;i<o;++i)r(n[i],i,n)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(r){return this.array_[r]},t.prototype.getLength=function(){return this.get(tGe.LENGTH)},t.prototype.insertAt=function(r,n){this.unique_&&this.assertUnique_(n),this.array_.splice(r,0,n),this.updateLength_(),this.dispatchEvent(new X5(Ms.ADD,n,r))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(r){this.unique_&&this.assertUnique_(r);var n=this.getLength();return this.insertAt(n,r),this.getLength()},t.prototype.remove=function(r){for(var n=this.array_,i=0,o=n.length;i<o;++i)if(n[i]===r)return this.removeAt(i)},t.prototype.removeAt=function(r){var n=this.array_[r];return this.array_.splice(r,1),this.updateLength_(),this.dispatchEvent(new X5(Ms.REMOVE,n,r)),n},t.prototype.setAt=function(r,n){var i=this.getLength();if(r<i){this.unique_&&this.assertUnique_(n,r);var o=this.array_[r];this.array_[r]=n,this.dispatchEvent(new X5(Ms.REMOVE,o,r)),this.dispatchEvent(new X5(Ms.ADD,n,r))}else{for(var a=i;a<r;++a)this.insertAt(a,void 0);this.insertAt(r,n)}},t.prototype.updateLength_=function(){this.set(tGe.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(r,n){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===r&&i!==n)throw new LR(58)},t}(Yo),Cs=omr;var amr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),smr=function(e){amr(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==xi.DBLCLICK){var i=r.originalEvent,o=r.map,a=r.coordinate,c=i.shiftKey?-this.delta_:this.delta_,d=o.getView();lx(d,c,a,this.duration_),i.preventDefault(),n=!0}return!n},t}(Nf),nGe=smr;var lmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),umr=function(e){lmr(t,e);function t(r){var n=e.call(this,{stopDown:dd})||this,i=r||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:t2($5,B7e);return n.condition_=i.onFocusOnly?t2(G5,o):o,n.noKinetic_=!1,n}return t.prototype.handleDragEvent=function(r){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=ux(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=r.map,c=a.getView();Sze(o,c.getResolution()),j1(o,c.getRotation()),c.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,r.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(r){var n=r.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),c=i.getCenterInternal(),d=n.getPixelFromCoordinateInternal(c),m=n.getCoordinateFromPixelInternal([d[0]-o*Math.cos(a),d[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(m),duration:500,easing:Uu})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>0&&this.condition_(r)){var n=r.map,i=n.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(Rf),iGe=umr;function hx(e){if(e!==void 0)return 0}function TX(e){if(e!==void 0)return e}function oGe(e){var t=2*Math.PI/e;return function(r,n){if(n)return r;if(r!==void 0)return r=Math.floor(r/t+.5)*t,r}}function aGe(e){var t=e||P1(5);return function(r,n){if(n)return r;if(r!==void 0)return Math.abs(r)<=t?0:r}}var cmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fmr=function(e){cmr(t,e);function t(r){var n=this,i=r||{};return n=e.call(this,{stopDown:dd})||this,n.condition_=i.condition?i.condition:j7e,n.lastAngle_=void 0,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleDragEvent=function(r){if(Z5(r)){var n=r.map,i=n.getView();if(i.getConstraints().rotation!==hx){var o=n.getSize(),a=r.pixel,c=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var d=c-this.lastAngle_;i.adjustRotationInternal(-d)}this.lastAngle_=c}}},t.prototype.handleUpEvent=function(r){if(!Z5(r))return!0;var n=r.map,i=n.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(r){if(!Z5(r))return!1;if(H5(r)&&this.condition_(r)){var n=r.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(Rf),sGe=fmr;var Nm={LEFT:37,UP:38,RIGHT:39,DOWN:40};var pmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dmr=function(e){pmr(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.defaultCondition_=function(o){return $5(o)&&W5(o)},n.condition_=i.condition!==void 0?i.condition:n.defaultCondition_,n.duration_=i.duration!==void 0?i.duration:100,n.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==nr.KEYDOWN){var i=r.originalEvent,o=i.keyCode;if(this.condition_(r)&&(o==Nm.DOWN||o==Nm.LEFT||o==Nm.RIGHT||o==Nm.UP)){var a=r.map,c=a.getView(),d=c.getResolution()*this.pixelDelta_,m=0,v=0;o==Nm.DOWN?v=-d:o==Nm.LEFT?m=-d:o==Nm.RIGHT?m=d:v=d;var E=[m,v];j1(E,c.getRotation()),r7e(c,E,this.duration_),i.preventDefault(),n=!0}}return!n},t}(Nf),lGe=dmr;var hmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mmr=function(e){hmr(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.condition_=i.condition?i.condition:W5,n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:100,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==nr.KEYDOWN||r.type==nr.KEYPRESS){var i=r.originalEvent,o=i.charCode;if(this.condition_(r)&&(o==43||o==45)){var a=r.map,c=o==43?this.delta_:-this.delta_,d=a.getView();lx(d,c,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},t}(Nf),uGe=mmr;var gmr=function(){function e(t,r,n){this.decay_=t,this.minVelocity_=r,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,r){this.points_.push(t,r,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,r=this.points_.length-3;if(this.points_[r+2]<t)return!1;for(var n=r-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[r+2]-this.points_[n+2];if(i<16.666666666666668)return!1;var o=this.points_[r]-this.points_[n],a=this.points_[r+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),cGe=gmr;var vmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AX={TRACKPAD:"trackpad",WHEEL:"wheel"},ymr=function(e){vmr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,i)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,n.duration_=i.duration!==void 0?i.duration:250,n.timeout_=i.timeout!==void 0?i.timeout:80,n.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,n.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:z7e;return n.condition_=i.onFocusOnly?t2(G5,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var r=this.getMap();if(r){var n=r.getView();n.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(r){if(!this.condition_(r))return!0;var n=r.type;if(n!==nr.WHEEL)return!0;var i=r.map,o=r.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=r.coordinate);var a;if(r.type==nr.WHEEL&&(a=o.deltaY,n7e&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=z5),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?AX.TRACKPAD:AX.WHEEL);var d=i.getView();if(this.mode_===AX.TRACKPAD&&!(d.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(d.getAnimating()&&d.cancelAnimations(),d.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),d.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=a;var m=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),m),!1},t.prototype.handleWheelZoom_=function(r){var n=r.getView();n.getAnimating()&&n.cancelAnimations();var i=-pi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),lx(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(r){this.useAnchor_=r,r||(this.lastAnchor_=null)},t}(Nf),fGe=ymr;var _mr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xmr=function(e){_mr(t,e);function t(r){var n=this,i=r||{},o=i;return o.stopDown||(o.stopDown=dd),n=e.call(this,o)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=i.threshold!==void 0?i.threshold:.3,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleDragEvent=function(r){var n=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var c=a-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=a;var d=r.map,m=d.getView();if(m.getConstraints().rotation!==hx){var v=d.getViewport().getBoundingClientRect(),E=ux(this.targetPointers);E[0]-=v.left,E[1]-=v.top,this.anchor_=d.getCoordinateFromPixelInternal(E),this.rotating_&&(d.render(),m.adjustRotationInternal(n,this.anchor_))}},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,i=n.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(Rf),pGe=xmr;var bmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wmr=function(e){bmr(t,e);function t(r){var n=this,i=r||{},o=i;return o.stopDown||(o.stopDown=dd),n=e.call(this,o)||this,n.anchor_=null,n.duration_=i.duration!==void 0?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return t.prototype.handleDragEvent=function(r){var n=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,c=i.clientY-o.clientY,d=Math.sqrt(a*a+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/d),this.lastDistance_=d;var m=r.map,v=m.getView();n!=1&&(this.lastScaleDelta_=n);var E=m.getViewport().getBoundingClientRect(),I=ux(this.targetPointers);I[0]-=E.left,I[1]-=E.top,this.anchor_=m.getCoordinateFromPixelInternal(I),m.render(),v.adjustResolutionInternal(n,this.anchor_)},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,i=n.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(Rf),dGe=wmr;var Smr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Emr=function(e){Smr(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.map=n,o.frameState=i!==void 0?i:null,o}return t}(es),Rm=Emr;var Imr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tmr=function(e){Imr(t,e);function t(r,n,i,o,a,c){var d=e.call(this,r,n,a)||this;return d.originalEvent=i,d.pixel_=null,d.coordinate_=null,d.dragging=o!==void 0?o:!1,d.activePointers=c,d}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(r){this.pixel_=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(r){this.coordinate_=r},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(Rm),jf=Tmr;var wn={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var Amr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mmr=function(e){Amr(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un,n.background_=r.background;var i=ci({},r);return typeof r.properties=="object"&&(delete i.properties,ci(i,r.properties)),i[wn.OPACITY]=r.opacity!==void 0?r.opacity:1,qr(typeof i[wn.OPACITY]=="number",64),i[wn.VISIBLE]=r.visible!==void 0?r.visible:!0,i[wn.Z_INDEX]=r.zIndex,i[wn.MAX_RESOLUTION]=r.maxResolution!==void 0?r.maxResolution:1/0,i[wn.MIN_RESOLUTION]=r.minResolution!==void 0?r.minResolution:0,i[wn.MIN_ZOOM]=r.minZoom!==void 0?r.minZoom:-1/0,i[wn.MAX_ZOOM]=r.maxZoom!==void 0?r.maxZoom:1/0,n.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(r){var n=this.state_||{layer:this,managed:r===void 0?!0:r},i=this.getZIndex();return n.opacity=pi(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},t.prototype.getLayersArray=function(r){return bn()},t.prototype.getLayerStatesArray=function(r){return bn()},t.prototype.getExtent=function(){return this.get(wn.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(wn.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(wn.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(wn.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(wn.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(wn.OPACITY)},t.prototype.getSourceState=function(){return bn()},t.prototype.getVisible=function(){return this.get(wn.VISIBLE)},t.prototype.getZIndex=function(){return this.get(wn.Z_INDEX)},t.prototype.setBackground=function(r){this.background_=r,this.changed()},t.prototype.setExtent=function(r){this.set(wn.EXTENT,r)},t.prototype.setMaxResolution=function(r){this.set(wn.MAX_RESOLUTION,r)},t.prototype.setMinResolution=function(r){this.set(wn.MIN_RESOLUTION,r)},t.prototype.setMaxZoom=function(r){this.set(wn.MAX_ZOOM,r)},t.prototype.setMinZoom=function(r){this.set(wn.MIN_ZOOM,r)},t.prototype.setOpacity=function(r){qr(typeof r=="number",64),this.set(wn.OPACITY,r)},t.prototype.setVisible=function(r){this.set(wn.VISIBLE,r)},t.prototype.setZIndex=function(r){this.set(wn.Z_INDEX,r)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(Yo),Q5=Mmr;var rs={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Cmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Omr=function(e){Cmr(t,e);function t(r){var n=this,i=ci({},r);delete i.source,n=e.call(this,i)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,r.render&&(n.render=r.render),r.map&&n.setMap(r.map),n.addChangeListener(wn.SOURCE,n.handleSourcePropertyChange_);var o=r.source?r.source:null;return n.setSource(o),n}return t.prototype.getLayersArray=function(r){var n=r||[];return n.push(this),n},t.prototype.getLayerStatesArray=function(r){var n=r||[];return n.push(this.getLayerState()),n},t.prototype.getSource=function(){return this.get(wn.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var r=this.getSource();return r?r.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Nn(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=tn(r,nr.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(r){return this.renderer_?this.renderer_.getFeatures(r):new Promise(function(n){return n([])})},t.prototype.getData=function(r){return!this.renderer_||!this.rendered?null:this.renderer_.getData(r)},t.prototype.render=function(r,n){var i=this.getRenderer();if(i.prepareFrame(r))return this.rendered=!0,i.renderFrame(r,n)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(r){r||this.unrender(),this.set(wn.MAP,r)},t.prototype.getMapInternal=function(){return this.get(wn.MAP)},t.prototype.setMap=function(r){this.mapPrecomposeKey_&&(Nn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),r||this.changed(),this.mapRenderKey_&&(Nn(this.mapRenderKey_),this.mapRenderKey_=null),r&&(this.mapPrecomposeKey_=tn(r,rs.PRECOMPOSE,function(n){var i=n,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);qr(!o.some(function(c){return c.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=tn(this,nr.CHANGE,r.render,r),this.changed())},t.prototype.setSource=function(r){this.set(wn.SOURCE,r)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(Q5);function oy(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}var i2=Omr;var dl={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function MX(e){return e[0]>0&&e[1]>0}function hGe(e,t,r){return r===void 0&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function Ko(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var gGe=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,vGe=/^([a-z]*)$|^hsla?\(.*\)$/i;function yGe(e){return typeof e=="string"?e:Lmr(e)}function _Ge(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}else return""}var CX=function(){var e=1024,t={},r=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(r>=e){var o=0;for(var a in t)o++&3||(delete t[a],--r)}i=Dmr(n),t[n]=i,++r}return i}}();function xGe(e){return Array.isArray(e)?e:CX(e)}function Dmr(e){var t,r,n,i,o;if(vGe.exec(e)&&(e=_Ge(e)),gGe.exec(e)){var a=e.length-1,c=void 0;a<=4?c=1:c=2;var d=a===4||a===8;t=parseInt(e.substr(1+0*c,c),16),r=parseInt(e.substr(1+1*c,c),16),n=parseInt(e.substr(1+2*c,c),16),d?i=parseInt(e.substr(1+3*c,c),16):i=255,c==1&&(t=(t<<4)+t,r=(r<<4)+r,n=(n<<4)+n,d&&(i=(i<<4)+i)),o=[t,r,n,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),mGe(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),mGe(o)):qr(!1,14);return o}function mGe(e){return e[0]=pi(e[0]+.5|0,0,255),e[1]=pi(e[1]+.5|0,0,255),e[2]=pi(e[2]+.5|0,0,255),e[3]=pi(e[3],0,1),e}function Lmr(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var r=e[1];r!=(r|0)&&(r=r+.5|0);var n=e[2];n!=(n|0)&&(n=n+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+r+","+n+","+i+")"}function bGe(e){return vGe.test(e)&&(e=_Ge(e)),gGe.test(e)||e.indexOf("rgba(")===0||e.indexOf("rgb(")===0}var zf=new Yo,Pmr=new Bu;Pmr.setSize=function(){console.warn("labelCache is deprecated.")};var mx=null,OX,Nmr={},Tcn=function(){var e=100,t="32px ",r=["monospace","serif"],n=r.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function c(m,v,E){for(var I=!0,M=0;M<n;++M){var L=r[M];if(a=wGe(m+" "+v+" "+t+L,i),E!=L){var R=wGe(m+" "+v+" "+t+E+","+L,i);I=I&&R!=a}}return!!I}function d(){for(var m=!0,v=zf.getKeys(),E=0,I=v.length;E<I;++E){var M=v[E];zf.get(M)<e&&(c.apply(this,M.split(`
`))?(Cu(Nmr),mx=null,OX=void 0,zf.set(M,e)):(zf.set(M,zf.get(M)+1,!0),m=!1))}m&&(clearInterval(o),o=void 0)}return function(m){var v=Z7e(m);if(v)for(var E=v.families,I=0,M=E.length;I<M;++I){var L=E[I],R=v.style+`
`+v.weight+`
`+L;zf.get(R)===void 0&&(zf.set(R,e,!0),c(v.style,v.weight,L)||(zf.set(R,0,!0),o===void 0&&(o=setInterval(d,32))))}}}();function Rmr(e,t){return mx||(mx=md(1,1)),e!=OX&&(mx.font=e,OX=mx.font),mx.measureText(t)}function wGe(e,t){return Rmr(e,t).width}var kmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qmr=function(e){kmr(t,e);function t(r){var n=e.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=r,n.declutterExecutorGroup=null,n}return t.prototype.getFeatures=function(r){return bn()},t.prototype.getData=function(r){return null},t.prototype.prepareFrame=function(r){return bn()},t.prototype.renderFrame=function(r,n){return bn()},t.prototype.loadedTileCallback=function(r,n,i){r[n]||(r[n]={}),r[n][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(r,n,i){return function(o,a){var c=this.loadedTileCallback.bind(this,i,o);return r.forEachLoadedTile(n,o,a,c)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(r,n,i,o,a){},t.prototype.getDataAtPixel=function(r,n,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(r){var n=r.target;n.getState()===dl.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(r){var n=r.getState();return n!=dl.LOADED&&n!=dl.ERROR&&r.addEventListener(nr.CHANGE,this.boundHandleImageChange_),n==dl.IDLE&&(r.load(),n=r.getState()),n==dl.LOADED},t.prototype.renderIfReadyAndVisible=function(){var r=this.getLayer();r&&r.getVisible()&&r.getSourceState()==="ready"&&r.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(j5),SGe=qmr;var jmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zmr=function(e){jmr(t,e);function t(r,n,i,o){var a=e.call(this,r)||this;return a.inversePixelTransform=n,a.frameState=i,a.context=o,a}return t}(es),gx=zmr;var hl={ANIMATING:0,INTERACTING:1};var Fmr=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var r in this.cache_){var n=this.cache_[r];!(t++&3)&&!n.hasListener()&&(delete this.cache_[r],--this.cacheSize_)}}},e.prototype.get=function(t,r,n){var i=EGe(t,r,n);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,r,n,i){var o=EGe(t,r,n);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function EGe(e,t,r){var n=r?yGe(r):"null";return t+":"+e+":"+n}var DX=new Fmr;var Bmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Umr=function(e){Bmr(t,e);function t(r,n,i,o){var a=e.call(this)||this;return a.extent=r,a.pixelRatio_=i,a.resolution=n,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(nr.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return bn()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){bn()},t}(Bu),IGe=Umr;var Vmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zcn=function(e){Vmr(t,e);function t(r,n,i,o,a,c){var d=e.call(this,r,n,i,dl.IDLE)||this;return d.src_=o,d.image_=new Image,a!==null&&(d.image_.crossOrigin=a),d.unlisten_=null,d.state=dl.IDLE,d.imageLoadFunction_=c,d}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=dl.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ya(this.extent)/this.image_.height),this.state=dl.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==dl.IDLE||this.state==dl.ERROR)&&(this.state=dl.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=LX(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(r){this.image_=r,this.resolution=ya(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(IGe);function LX(e,t,r){var n=e,i=!0,o=!1,a=!1,c=[sx(n,nr.LOAD,function(){a=!0,o||t()})];return n.src&&l7e?(o=!0,n.decode().then(function(){i&&t()}).catch(function(d){i&&(a?t():r())})):c.push(sx(n,nr.ERROR,r)),function(){i=!1,c.forEach(Nn)}}var Gmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hmr=function(e){Gmr(t,e);function t(r){var n=e.call(this)||this;n.projection=ll(r.projection),n.attributions_=TGe(r.attributions),n.attributionsCollapsible_=r.attributionsCollapsible!==void 0?r.attributionsCollapsible:!0,n.loading=!1,n.state_=r.state!==void 0?r.state:"ready",n.wrapX_=r.wrapX!==void 0?r.wrapX:!1,n.interpolate_=!!r.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),n}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return bn()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(r){this.attributions_=TGe(r),this.changed()},t.prototype.setState=function(r){this.state_=r,this.changed()},t}(Yo);function TGe(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}var AGe=Hmr;function J5(e){var t=e||{},r=new Cs,n=new cGe(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&r.push(new sGe);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&r.push(new nGe({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&r.push(new iGe({onFocusOnly:t.onFocusOnly,kinetic:n}));var c=t.pinchRotate!==void 0?t.pinchRotate:!0;c&&r.push(new pGe);var d=t.pinchZoom!==void 0?t.pinchZoom:!0;d&&r.push(new dGe({duration:t.zoomDuration}));var m=t.keyboard!==void 0?t.keyboard:!0;m&&(r.push(new lGe),r.push(new uGe({delta:t.zoomDelta,duration:t.zoomDuration})));var v=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;v&&r.push(new fGe({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var E=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return E&&r.push(new K5({duration:t.zoomDuration})),r}var $mr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wmr=function(e){$mr(t,e);function t(r){var n=e.call(this)||this;return n.map_=r,n}return t.prototype.dispatchRenderEvent=function(r,n){bn()},t.prototype.calculateMatrices2D=function(r){var n=r.viewState,i=r.coordinateToPixelTransform,o=r.pixelToCoordinateTransform;Lm(i,r.size[0]/2,r.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),c7e(o,i)},t.prototype.forEachFeatureAtCoordinate=function(r,n,i,o,a,c,d,m){var v,E=n.viewState;function I(Ye,Re,ke,je){return a.call(c,Re,Ye?ke:null,je)}var M=E.projection,L=Eze(r.slice(),M),R=[[0,0]];if(M.canWrapX()&&o){var P=M.getExtent(),q=Ci(P);R.push([-q,0],[q,0])}for(var j=n.layerStatesArray,B=j.length,Z=[],re=[],Q=0;Q<R.length;Q++)for(var oe=B-1;oe>=0;--oe){var me=j[oe],pe=me.layer;if(pe.hasRenderer()&&oy(me,E)&&d.call(m,pe)){var Ae=pe.getRenderer(),Fe=pe.getSource();if(Ae&&Fe){var $e=Fe.getWrapX()?L:r,Ue=I.bind(null,me.managed);re[0]=$e[0]+R[Q][0],re[1]=$e[1]+R[Q][1],v=Ae.forEachFeatureAtCoordinate(re,n,i,Ue,Z)}if(v)return v}}if(Z.length!==0){var Xe=1/Z.length;return Z.forEach(function(Ye,Re){return Ye.distanceSq+=Re*Xe}),Z.sort(function(Ye,Re){return Ye.distanceSq-Re.distanceSq}),Z.some(function(Ye){return v=Ye.callback(Ye.feature,Ye.layer,Ye.geometry)}),v}},t.prototype.forEachLayerAtPixel=function(r,n,i,o,a){return bn()},t.prototype.hasFeatureAtCoordinate=function(r,n,i,o,a,c){var d=this.forEachFeatureAtCoordinate(r,n,i,o,Cm,this,a,c);return d!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(r){bn()},t.prototype.scheduleExpireIconCache=function(r){DX.canExpireCache()&&r.postRenderFunctions.push(Zmr)},t}(Mm);function Zmr(e,t){DX.expire()}var MGe=Wmr;var Ymr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kmr=function(e){Ymr(t,e);function t(r){var n=e.call(this,r)||this;n.fontChangeListenerKey_=tn(zf,pd.PROPERTYCHANGE,r.redrawText.bind(r)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Gu+" ol-layers";var o=r.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return t.prototype.dispatchRenderEvent=function(r,n){var i=this.getMap();if(i.hasListener(r)){var o=new gx(r,void 0,n);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){Nn(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(r){if(!r){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(r),this.dispatchRenderEvent(rs.PRECOMPOSE,r);var n=r.layerStatesArray.sort(function(M,L){return M.zIndex-L.zIndex}),i=r.viewState;this.children_.length=0;for(var o=[],a=null,c=0,d=n.length;c<d;++c){var m=n[c];r.layerIndex=c;var v=m.layer,E=v.getSourceState();if(!oy(m,i)||E!="ready"&&E!="undefined"){v.unrender();continue}var I=v.render(r,a);I&&(I!==a&&(this.children_.push(I),a=I),"getDeclutter"in v&&o.push(v))}for(var c=o.length-1;c>=0;--c)o[c].renderDeclutter(r);$7e(this.element_,this.children_),this.dispatchRenderEvent(rs.POSTCOMPOSE,r),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(r)},t.prototype.forEachLayerAtPixel=function(r,n,i,o,a){for(var c=n.viewState,d=n.layerStatesArray,m=d.length,v=m-1;v>=0;--v){var E=d[v],I=E.layer;if(I.hasRenderer()&&oy(E,c)&&a(I)){var M=I.getRenderer(),L=M.getDataAtPixel(r,n,i);if(L){var R=o(I,L);if(R)return R}}}},t}(MGe),CGe=Kmr;var OGe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gd=function(e){OGe(t,e);function t(r,n){var i=e.call(this,r)||this;return i.layer=n,i}return t}(es);var PX={LAYERS:"layers"},Xmr=function(e){OGe(t,e);function t(r){var n=this,i=r||{},o=ci({},i);delete o.layers;var a=i.layers;return n=e.call(this,o)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(PX.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new Cs(a.slice(),{unique:!0}):qr(typeof a.getArray=="function",43):a=new Cs(void 0,{unique:!0}),n.setLayers(a),n}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Nn),this.layersListenerKeys_.length=0;var r=this.getLayers();this.layersListenerKeys_.push(tn(r,Ms.ADD,this.handleLayersAdd_,this),tn(r,Ms.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(Nn);Cu(this.listenerKeys_);for(var i=r.getArray(),o=0,a=i.length;o<a;o++){var c=i[o];this.registerLayerListeners_(c),this.dispatchEvent(new gd("addlayer",c))}this.changed()},t.prototype.registerLayerListeners_=function(r){var n=[tn(r,pd.PROPERTYCHANGE,this.handleLayerChange_,this),tn(r,nr.CHANGE,this.handleLayerChange_,this)];r instanceof t&&n.push(tn(r,"addlayer",this.handleLayerGroupAdd_,this),tn(r,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ao(r)]=n},t.prototype.handleLayerGroupAdd_=function(r){this.dispatchEvent(new gd("addlayer",r.layer))},t.prototype.handleLayerGroupRemove_=function(r){this.dispatchEvent(new gd("removelayer",r.layer))},t.prototype.handleLayersAdd_=function(r){var n=r.element;this.registerLayerListeners_(n),this.dispatchEvent(new gd("addlayer",n)),this.changed()},t.prototype.handleLayersRemove_=function(r){var n=r.element,i=ao(n);this.listenerKeys_[i].forEach(Nn),delete this.listenerKeys_[i],this.dispatchEvent(new gd("removelayer",n)),this.changed()},t.prototype.getLayers=function(){return this.get(PX.LAYERS)},t.prototype.setLayers=function(r){var n=this.getLayers();if(n)for(var i=n.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new gd("removelayer",i[o]));this.set(PX.LAYERS,r)},t.prototype.getLayersArray=function(r){var n=r!==void 0?r:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},t.prototype.getLayerStatesArray=function(r){var n=r!==void 0?r:[],i=n.length;this.getLayers().forEach(function(v){v.getLayerStatesArray(n)});var o=this.getLayerState(),a=o.zIndex;!r&&o.zIndex===void 0&&(a=0);for(var c=i,d=n.length;c<d;c++){var m=n[c];m.opacity*=o.opacity,m.visible=m.visible&&o.visible,m.maxResolution=Math.min(m.maxResolution,o.maxResolution),m.minResolution=Math.max(m.minResolution,o.minResolution),m.minZoom=Math.max(m.minZoom,o.minZoom),m.maxZoom=Math.min(m.maxZoom,o.maxZoom),o.extent!==void 0&&(m.extent!==void 0?m.extent=Ef(m.extent,o.extent):m.extent=o.extent),m.zIndex===void 0&&(m.zIndex=a)}return n},t.prototype.getSourceState=function(){return"ready"},t}(Q5),o2=Xmr;var a2={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Qmr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jmr=function(e){Qmr(t,e);function t(r,n){var i=e.call(this,r)||this;i.map_=r,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n===void 0?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=tn(o,a2.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=tn(o,a2.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(nr.TOUCHMOVE,i.boundHandleTouchMove_,F5?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(r){var n=new jf(xi.CLICK,this.map_,r);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new jf(xi.DBLCLICK,this.map_,r),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new jf(xi.SINGLECLICK,this.map_,r);this.dispatchEvent(i)}.bind(this),250)},t.prototype.updateActivePointers_=function(r){var n=r,i=n.pointerId;if(n.type==xi.POINTERUP||n.type==xi.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==n.target){delete this.trackedTouches_[o];break}}else(n.type==xi.POINTERDOWN||n.type==xi.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=uze(this.trackedTouches_)},t.prototype.handlePointerUp_=function(r){this.updateActivePointers_(r);var n=new jf(xi.POINTERUP,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(r)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Nn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(r){return r.button===0},t.prototype.handlePointerDown_=function(r){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(r);var n=new jf(xi.POINTERDOWN,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.down_={};for(var i in r){var o=r[i];this.down_[i]=typeof o=="function"?hd:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(tn(a,xi.POINTERMOVE,this.handlePointerMove_,this),tn(a,xi.POINTERUP,this.handlePointerUp_,this),tn(this.element_,xi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(tn(this.element_.getRootNode(),xi.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(r){if(this.isMoving_(r)){this.updateActivePointers_(r),this.dragging_=!0;var n=new jf(xi.POINTERDRAG,this.map_,r,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}},t.prototype.relayMoveEvent_=function(r){this.originalPointerMoveEvent_=r;var n=!!(this.down_&&this.isMoving_(r));this.dispatchEvent(new jf(xi.POINTERMOVE,this.map_,r,n))},t.prototype.handleTouchMove_=function(r){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof r.cancelable!="boolean"||r.cancelable===!0)&&r.preventDefault()},t.prototype.isMoving_=function(r){return this.dragging_||Math.abs(r.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(r.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Nn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(nr.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Nn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Nn),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(Bu),DGe=Jmr;var s2=1/0,egr=function(){function e(t,r){this.priorityFunction_=t,this.keyFunction_=r,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Cu(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,r=this.priorities_,n=t[0];t.length==1?(t.length=0,r.length=0):(t[0]=t.pop(),r[0]=r.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},e.prototype.enqueue=function(t){qr(!(this.keyFunction_(t)in this.queuedElements_),31);var r=this.priorityFunction_(t);return r!=s2?(this.elements_.push(t),this.priorities_.push(r),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var r=this.elements_,n=this.priorities_,i=r.length,o=r[t],a=n[t],c=t;t<i>>1;){var d=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),v=m<i&&n[m]<n[d]?m:d;r[t]=r[v],n[t]=n[v],t=v}r[t]=o,n[t]=a,this.siftDown_(c,t)},e.prototype.siftDown_=function(t,r){for(var n=this.elements_,i=this.priorities_,o=n[r],a=i[r];r>t;){var c=this.getParentIndex_(r);if(i[c]>a)n[r]=n[c],i[r]=i[c],r=c;else break}n[r]=o,i[r]=a},e.prototype.reprioritize=function(){var t=this.priorityFunction_,r=this.elements_,n=this.priorities_,i=0,o=r.length,a,c,d;for(c=0;c<o;++c)a=r[c],d=t(a),d==s2?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=d,r[i++]=a);r.length=i,n.length=i,this.heapify_()},e}(),LGe=egr;var ir={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var tgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rgr=function(e){tgr(t,e);function t(r,n){var i=e.call(this,function(o){return r.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(r){var n=e.prototype.enqueue.call(this,r);if(n){var i=r[0];i.addEventListener(nr.CHANGE,this.boundHandleTileChange_)}return n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(r){var n=r.target,i=n.getState();if(i===ir.LOADED||i===ir.ERROR||i===ir.EMPTY){n.removeEventListener(nr.CHANGE,this.boundHandleTileChange_);var o=n.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(r,n){for(var i=0,o,a,c;this.tilesLoading_<r&&i<n&&this.getCount()>0;)a=this.dequeue()[0],c=a.getKey(),o=a.getState(),o===ir.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++i,a.load())},t}(LGe),PGe=rgr;function NGe(e,t,r,n,i){if(!e||!(r in e.wantedTiles))return s2;if(!e.wantedTiles[r][t.getKey()])return s2;var o=e.viewState.center,a=n[0]-o[0],c=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+c*c)/i}var Hu={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var RGe=42,km=256;function NX(e,t,r){return function(n,i,o,a,c){if(n){if(!i&&!t)return n;var d=t?0:o[0]*i,m=t?0:o[1]*i,v=c?c[0]:0,E=c?c[1]:0,I=e[0]+d/2+v,M=e[2]-d/2+v,L=e[1]+m/2+E,R=e[3]-m/2+E;I>M&&(I=(M+I)/2,M=I),L>R&&(L=(R+L)/2,R=L);var P=pi(n[0],I,M),q=pi(n[1],L,R);if(a&&r&&i){var j=30*i;P+=-j*Math.log(1+Math.max(0,I-n[0])/j)+j*Math.log(1+Math.max(0,n[0]-M)/j),q+=-j*Math.log(1+Math.max(0,L-n[1])/j)+j*Math.log(1+Math.max(0,n[1]-R)/j)}return[P,q]}}}function kGe(e){return e}function RX(e,t,r,n){var i=Ci(t)/r[0],o=ya(t)/r[1];return n?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function kX(e,t,r){var n=Math.min(e,t),i=50;return n*=Math.log(1+i*Math.max(0,e/t-1))/i+1,r&&(n=Math.max(n,r),n/=Math.log(1+i*Math.max(0,r/e-1))/i+1),pi(n,r/2,t*2)}function qGe(e,t,r,n){return function(i,o,a,c){if(i!==void 0){var d=e[0],m=e[e.length-1],v=r?RX(d,r,a,n):d;if(c){var E=t!==void 0?t:!0;return E?kX(i,v,m):pi(i,m,v)}var I=Math.min(v,i),M=Math.floor(ax(e,I,o));return e[M]>v&&M<e.length-1?e[M+1]:e[M]}else return}}function jGe(e,t,r,n,i,o){return function(a,c,d,m){if(a!==void 0){var v=i?RX(t,i,d,o):t,E=r!==void 0?r:0;if(m){var I=n!==void 0?n:!0;return I?kX(a,v,E):pi(a,E,v)}var M=1e-9,L=Math.ceil(Math.log(t/v)/Math.log(e)-M),R=-c*(.5-M)+.5,P=Math.min(v,a),q=Math.floor(Math.log(t/P)/Math.log(e)+R),j=Math.max(L,q),B=t/Math.pow(e,j);return pi(B,E,v)}else return}}function qX(e,t,r,n,i){return function(o,a,c,d){if(o!==void 0){var m=n?RX(e,n,c,i):e,v=r!==void 0?r:!0;return!v||!d?pi(o,t,m):kX(o,m,t)}else return}}var ngr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jX=0,igr=function(e){ngr(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=ci({},r);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=jR(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.projection&&Aze(),i.center&&(i.center=Cc(i.center,n.projection_)),i.extent&&(i.extent=dm(i.extent,n.projection_)),n.applyOptions_(i),n}return t.prototype.applyOptions_=function(r){var n=ci({},r);for(var i in Hu)delete n[i];this.setProperties(n,!0);var o=agr(r);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=r.resolutions,this.padding_=r.padding,this.minZoom_=o.minZoom;var a=ogr(r),c=o.constraint,d=sgr(r);this.constraints_={center:a,resolution:c,rotation:d},this.setRotation(r.rotation!==void 0?r.rotation:0),this.setCenterInternal(r.center!==void 0?r.center:null),r.resolution!==void 0?this.setResolution(r.resolution):r.zoom!==void 0&&this.setZoom(r.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(r){var n=this.padding_;this.padding_=r;var i=this.getCenter();if(i){var o=r||[0,0,0,0];n=n||[0,0,0,0];var a=this.getResolution(),c=a/2*(o[3]-n[3]+n[1]-o[1]),d=a/2*(o[0]-n[0]+n[2]-o[2]);this.setCenterInternal([i[0]+c,i[1]-d])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(r){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),ci({},n,r)},t.prototype.animate=function(r){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var o=arguments[i];o.center&&(o=ci({},o),o.center=Cc(o.center,this.getProjection())),o.anchor&&(o=ci({},o),o.anchor=Cc(o.anchor,this.getProjection())),n[i]=o}this.animateInternal.apply(this,n)},t.prototype.animateInternal=function(r){var n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===n){i&&ek(i,!0);return}for(var c=Date.now(),d=this.targetCenter_.slice(),m=this.targetResolution_,v=this.targetRotation_,E=[];o<n;++o){var I=arguments[o],M={start:c,complete:!1,anchor:I.anchor,duration:I.duration!==void 0?I.duration:1e3,easing:I.easing||e7e,callback:i};if(I.center&&(M.sourceCenter=d,M.targetCenter=I.center.slice(),d=M.targetCenter),I.zoom!==void 0?(M.sourceResolution=m,M.targetResolution=this.getResolutionForZoom(I.zoom),m=M.targetResolution):I.resolution&&(M.sourceResolution=m,M.targetResolution=I.resolution,m=M.targetResolution),I.rotation!==void 0){M.sourceRotation=v;var L=Ac(I.rotation-v+Math.PI,2*Math.PI)-Math.PI;M.targetRotation=v+L,v=M.targetRotation}lgr(M)?M.complete=!0:c+=M.duration,E.push(M)}this.animations_.push(E),this.setHint(hl.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[hl.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[hl.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(hl.ANIMATING,-this.hints_[hl.ANIMATING]);for(var r,n=0,i=this.animations_.length;n<i;++n){var o=this.animations_[n];if(o[0].callback&&ek(o[0].callback,!1),!r)for(var a=0,c=o.length;a<c;++a){var d=o[a];if(!d.complete){r=d.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=r,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var r=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,c=0,d=o.length;c<d;++c){var m=o[c];if(!m.complete){var v=r-m.start,E=m.duration>0?v/m.duration:1;E>=1?(m.complete=!0,E=1):a=!1;var I=m.easing(E);if(m.sourceCenter){var M=m.sourceCenter[0],L=m.sourceCenter[1],R=m.targetCenter[0],P=m.targetCenter[1];this.nextCenter_=m.targetCenter;var q=M+I*(R-M),j=L+I*(P-L);this.targetCenter_=[q,j]}if(m.sourceResolution&&m.targetResolution){var B=I===1?m.targetResolution:m.sourceResolution+I*(m.targetResolution-m.sourceResolution);if(m.anchor){var Z=this.getViewportSize_(this.getRotation()),re=this.constraints_.resolution(B,0,Z,!0);this.targetCenter_=this.calculateCenterZoom(re,m.anchor)}this.nextResolution_=m.targetResolution,this.targetResolution_=B,this.applyTargetState_(!0)}if(m.sourceRotation!==void 0&&m.targetRotation!==void 0){var Q=I===1?Ac(m.targetRotation+Math.PI,2*Math.PI)-Math.PI:m.sourceRotation+I*(m.targetRotation-m.sourceRotation);if(m.anchor){var oe=this.constraints_.rotation(Q,!0);this.targetCenter_=this.calculateCenterRotate(oe,m.anchor)}this.nextRotation_=m.targetRotation,this.targetRotation_=Q}if(this.applyTargetState_(!0),n=!0,!m.complete)break}}if(a){this.animations_[i]=null,this.setHint(hl.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var me=o[0].callback;me&&ek(me,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(r,n){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-n[0],o[1]-n[1]],j1(i,r-this.getRotation()),wze(i,n)),i},t.prototype.calculateCenterZoom=function(r,n){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var c=n[0]-r*(n[0]-o[0])/a,d=n[1]-r*(n[1]-o[1])/a;i=[c,d]}return i},t.prototype.getViewportSize_=function(r){var n=this.viewportSize_;if(r){var i=n[0],o=n[1];return[Math.abs(i*Math.cos(r))+Math.abs(o*Math.sin(r)),Math.abs(i*Math.sin(r))+Math.abs(o*Math.cos(r))]}else return n},t.prototype.setViewportSize=function(r){this.viewportSize_=Array.isArray(r)?r.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var r=this.getCenterInternal();return r&&JI(r,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(Hu.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(r){return r!==void 0?(r[0]=this.hints_[0],r[1]=this.hints_[1],r):this.hints_.slice()},t.prototype.calculateExtent=function(r){var n=this.calculateExtentInternal(r);return Lze(n,this.getProjection())},t.prototype.calculateExtentInternal=function(r){var n=r||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();qr(i,1);var o=this.getResolution();qr(o!==void 0,2);var a=this.getRotation();return qr(a!==void 0,3),KI(i,o,a,n)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({maxZoom:r}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({minZoom:r}))},t.prototype.setConstrainResolution=function(r){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:r}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(Hu.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(r,n){return this.getResolutionForExtentInternal(dm(r,this.getProjection()),n)},t.prototype.getResolutionForExtentInternal=function(r,n){var i=n||this.getViewportSizeMinusPadding_(),o=Ci(r)/i[0],a=ya(r)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(r){var n=r||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(n);return function(c){var d=i/Math.pow(n,c*a);return d}},t.prototype.getRotation=function(){return this.get(Hu.ROTATION)},t.prototype.getValueForResolutionFunction=function(r){var n=Math.log(r||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/n;return function(c){var d=Math.log(i/c)/n/a;return d}},t.prototype.getViewportSizeMinusPadding_=function(r){var n=this.getViewportSize_(r),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},t.prototype.getState=function(){var r=this.getProjection(),n=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var c=this.getViewportSizeMinusPadding_();o=zX(o,this.getViewportSize_(),[c[0]/2+a[3],c[1]/2+a[0]],n,i)}return{center:o.slice(0),projection:r!==void 0?r:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var r,n=this.getResolution();return n!==void 0&&(r=this.getZoomForResolution(n)),r},t.prototype.getZoomForResolution=function(r){var n=this.minZoom_||0,i,o;if(this.resolutions_){var a=ax(this.resolutions_,r,1);n=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(i/r)/Math.log(o)},t.prototype.getResolutionForZoom=function(r){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=pi(Math.floor(r),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,pi(r-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,r-this.minZoom_)},t.prototype.fit=function(r,n){var i;if(qr(Array.isArray(r)||typeof r.getSimplifiedGeometry=="function",24),Array.isArray(r)){qr(!Uv(r),25);var o=dm(r,this.getProjection());i=e2(o)}else if(r.getType()==="Circle"){var o=dm(r.getExtent(),this.getProjection());i=e2(o),i.rotate(this.getRotation(),Mc(o))}else{var a=Dze();a?i=r.clone().transform(a,this.getProjection()):i=r}this.fitInternal(i,n)},t.prototype.rotatedExtentForGeometry=function(r){for(var n=this.getRotation(),i=Math.cos(n),o=Math.sin(-n),a=r.getFlatCoordinates(),c=r.getStride(),d=1/0,m=1/0,v=-1/0,E=-1/0,I=0,M=a.length;I<M;I+=c){var L=a[I]*i-a[I+1]*o,R=a[I]*o+a[I+1]*i;d=Math.min(d,L),m=Math.min(m,R),v=Math.max(v,L),E=Math.max(E,R)}return[d,m,v,E]},t.prototype.fitInternal=function(r,n){var i=n||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],c=i.nearest!==void 0?i.nearest:!1,d;i.minResolution!==void 0?d=i.minResolution:i.maxZoom!==void 0?d=this.getResolutionForZoom(i.maxZoom):d=0;var m=this.rotatedExtentForGeometry(r),v=this.getResolutionForExtentInternal(m,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);v=isNaN(v)?d:Math.max(v,d),v=this.getConstrainedResolution(v,c?0:1);var E=this.getRotation(),I=Math.sin(E),M=Math.cos(E),L=Mc(m);L[0]+=(a[1]-a[3])/2*v,L[1]+=(a[0]-a[2])/2*v;var R=L[0]*M-L[1]*I,P=L[1]*M+L[0]*I,q=this.getConstrainedCenter([R,P],v),j=i.callback?i.callback:hd;i.duration!==void 0?this.animateInternal({resolution:v,center:q,duration:i.duration,easing:i.easing},j):(this.targetResolution_=v,this.targetCenter_=q,this.applyTargetState_(!1,!0),ek(j,!0))},t.prototype.centerOn=function(r,n,i){this.centerOnInternal(Cc(r,this.getProjection()),n,i)},t.prototype.centerOnInternal=function(r,n,i){this.setCenterInternal(zX(r,n,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(r,n,i,o){var a,c=this.padding_;if(c&&r){var d=this.getViewportSizeMinusPadding_(-i),m=zX(r,o,[d[0]/2+c[3],d[1]/2+c[0]],n,i);a=[r[0]-m[0],r[1]-m[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(r){var n=JI(this.targetCenter_,this.getProjection());this.setCenter([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustCenterInternal=function(r){var n=this.targetCenter_;this.setCenterInternal([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustResolution=function(r,n){var i=n&&Cc(n,this.getProjection());this.adjustResolutionInternal(r,i)},t.prototype.adjustResolutionInternal=function(r,n){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*r,0,o,i);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=r,this.applyTargetState_()},t.prototype.adjustZoom=function(r,n){this.adjustResolution(Math.pow(this.zoomFactor_,-r),n)},t.prototype.adjustRotation=function(r,n){n&&(n=Cc(n,this.getProjection())),this.adjustRotationInternal(r,n)},t.prototype.adjustRotationInternal=function(r,n){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+r,i);n&&(this.targetCenter_=this.calculateCenterRotate(o,n)),this.targetRotation_+=r,this.applyTargetState_()},t.prototype.setCenter=function(r){this.setCenterInternal(r&&Cc(r,this.getProjection()))},t.prototype.setCenterInternal=function(r){this.targetCenter_=r,this.applyTargetState_()},t.prototype.setHint=function(r,n){return this.hints_[r]+=n,this.changed(),this.hints_[r]},t.prototype.setResolution=function(r){this.targetResolution_=r,this.applyTargetState_()},t.prototype.setRotation=function(r){this.targetRotation_=r,this.applyTargetState_()},t.prototype.setZoom=function(r){this.setResolution(this.getResolutionForZoom(r))},t.prototype.applyTargetState_=function(r,n){var i=this.getAnimating()||this.getInteracting()||n,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),c=this.constraints_.resolution(this.targetResolution_,0,a,i),d=this.constraints_.center(this.targetCenter_,c,a,i,this.calculateCenterShift(this.targetCenter_,c,o,a));this.get(Hu.ROTATION)!==o&&this.set(Hu.ROTATION,o),this.get(Hu.RESOLUTION)!==c&&(this.set(Hu.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!d||!this.get(Hu.CENTER)||!Vv(this.get(Hu.CENTER),d))&&this.set(Hu.CENTER,d),this.getAnimating()&&!r&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(r,n,i){var o=r!==void 0?r:200,a=n||0,c=this.constraints_.rotation(this.targetRotation_),d=this.getViewportSize_(c),m=this.constraints_.resolution(this.targetResolution_,a,d),v=this.constraints_.center(this.targetCenter_,m,d,!1,this.calculateCenterShift(this.targetCenter_,m,c,d));if(o===0&&!this.cancelAnchor_){this.targetResolution_=m,this.targetRotation_=c,this.targetCenter_=v,this.applyTargetState_();return}var E=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==m||this.getRotation()!==c||!this.getCenterInternal()||!Vv(this.getCenterInternal(),v))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:v,resolution:m,duration:o,easing:Uu,anchor:E}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(hl.INTERACTING,1)},t.prototype.endInteraction=function(r,n,i){var o=i&&Cc(i,this.getProjection());this.endInteractionInternal(r,n,o)},t.prototype.endInteractionInternal=function(r,n,i){this.setHint(hl.INTERACTING,-1),this.resolveConstraints(r,n,i)},t.prototype.getConstrainedCenter=function(r,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(r,n||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(r,n){var i=this.getResolutionForZoom(r);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},t.prototype.getConstrainedResolution=function(r,n){var i=n||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(r,i,o)},t}(Yo);function ek(e,t){setTimeout(function(){e(t)},0)}function ogr(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return NX(e.extent,e.constrainOnlyCenter,t)}var r=jR(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,NX(n,!1,!1)}return kGe}function agr(e){var t,r,n,i=28,o=2,a=e.minZoom!==void 0?e.minZoom:jX,c=e.maxZoom!==void 0?e.maxZoom:i,d=e.zoomFactor!==void 0?e.zoomFactor:o,m=e.multiWorld!==void 0?e.multiWorld:!1,v=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,E=e.showFullExtent!==void 0?e.showFullExtent:!1,I=jR(e.projection,"EPSG:3857"),M=I.getExtent(),L=e.constrainOnlyCenter,R=e.extent;if(!m&&!R&&I.isGlobal()&&(L=!1,R=M),e.resolutions!==void 0){var P=e.resolutions;r=P[a],n=P[c]!==void 0?P[c]:P[P.length-1],e.constrainResolution?t=qGe(P,v,!L&&R,E):t=qX(r,n,v,!L&&R,E)}else{var q=M?Math.max(Ci(M),ya(M)):360*al[sl.DEGREES]/I.getMetersPerUnit(),j=q/km/Math.pow(o,jX),B=j/Math.pow(o,i-jX);r=e.maxResolution,r!==void 0?a=0:r=j/Math.pow(d,a),n=e.minResolution,n===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?n=r/Math.pow(d,c):n=j/Math.pow(d,c):n=B),c=a+Math.floor(Math.log(r/n)/Math.log(d)),n=r/Math.pow(d,c-a),e.constrainResolution?t=jGe(d,r,n,v,!L&&R,E):t=qX(r,n,v,!L&&R,E)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:a,zoomFactor:d}}function sgr(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var r=e.constrainRotation;return r===void 0||r===!0?aGe():r===!1?TX:typeof r=="number"?oGe(r):TX}else return hx}function lgr(e){return!(e.sourceCenter&&e.targetCenter&&!Vv(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function zX(e,t,r,n,i){var o=Math.cos(-i),a=Math.sin(-i),c=e[0]*o-e[1]*a,d=e[1]*o+e[0]*a;c+=(t[0]/2-r[0])*n,d+=(r[1]-t[1]/2)*n,a=-a;var m=c*o-d*a,v=d*o+c*a;return[m,v]}var Ff=igr;var ugr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function zGe(e){if(e instanceof i2){e.setMapInternal(null);return}e instanceof o2&&e.getLayers().forEach(zGe)}function FGe(e,t){if(e instanceof i2){e.setMapInternal(t);return}if(e instanceof o2)for(var r=e.getLayers().getArray(),n=0,i=r.length;n<i;++n)FGe(r[n],t)}var cgr=function(e){ugr(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=fgr(r);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,n.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:z5,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Vu(),n.pixelToCoordinateTransform_=Vu(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=r.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new Cs,n.interactions=i.interactions||new Cs,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new PGe(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(vo.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(vo.VIEW,n.handleViewChanged_),n.addChangeListener(vo.SIZE,n.handleSizeChanged_),n.addChangeListener(vo.TARGET,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return r.view&&!(r.view instanceof Ff)&&r.view.then(function(a){o.setView(new Ff(a))}),n.controls.addEventListener(Ms.ADD,function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener(Ms.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Ms.ADD,function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Ms.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Ms.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener(Ms.REMOVE,function(a){var c=a.element,d=c.getId();d!==void 0&&delete this.overlayIdIndex_[d.toString()],a.element.setMap(null)}.bind(n)),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(r){this.getControls().push(r)},t.prototype.addInteraction=function(r){this.getInteractions().push(r)},t.prototype.addLayer=function(r){var n=this.getLayerGroup().getLayers();n.push(r)},t.prototype.handleLayerAdd_=function(r){FGe(r.layer,this)},t.prototype.addOverlay=function(r){this.getOverlays().push(r)},t.prototype.addOverlayInternal_=function(r){var n=r.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=r),r.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(r,n,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(r);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter!==void 0?i.layerFilter:Cm,d=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,d,n,null,c,null)}},t.prototype.getFeaturesAtPixel=function(r,n){var i=[];return this.forEachFeatureAtPixel(r,function(o){i.push(o)},n),i},t.prototype.getAllLayers=function(){var r=[];function n(i){i.forEach(function(o){o instanceof o2?n(o.getLayers()):r.push(o)})}return n(this.getLayers()),r},t.prototype.forEachLayerAtPixel=function(r,n,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.layerFilter||Cm;return this.renderer_.forEachLayerAtPixel(r,this.frameState_,a,n,c)}},t.prototype.hasFeatureAtPixel=function(r,n){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(r);n=n!==void 0?n:{};var o=n.layerFilter!==void 0?n.layerFilter:Cm,a=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,c,o,null)},t.prototype.getEventCoordinate=function(r){return this.getCoordinateFromPixel(this.getEventPixel(r))},t.prototype.getEventCoordinateInternal=function(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))},t.prototype.getEventPixel=function(r){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in r?r.changedTouches[0]:r;return[i.clientX-n.left,i.clientY-n.top]},t.prototype.getTarget=function(){return this.get(vo.TARGET)},t.prototype.getTargetElement=function(){var r=this.getTarget();return r!==void 0?typeof r=="string"?document.getElementById(r):r:null},t.prototype.getCoordinateFromPixel=function(r){return JI(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(r){var n=this.frameState_;return n?Dm(n.pixelToCoordinateTransform,r.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(r){var n=this.overlayIdIndex_[r.toString()];return n!==void 0?n:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(vo.LAYERGROUP)},t.prototype.setLayers=function(r){var n=this.getLayerGroup();if(r instanceof Cs){n.setLayers(r);return}var i=n.getLayers();i.clear(),i.extend(r)},t.prototype.getLayers=function(){var r=this.getLayerGroup().getLayers();return r},t.prototype.getLoadingOrNotReady=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,i=r.length;n<i;++n){var o=r[n];if(o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var c=o.layer.getSource();if(c&&c.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(r){var n=Cc(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},t.prototype.getPixelFromCoordinateInternal=function(r){var n=this.frameState_;return n?Dm(n.coordinateToPixelTransform,r.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(vo.SIZE)},t.prototype.getView=function(){return this.get(vo.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var r=this.getTargetElement();return r?r.ownerDocument:document},t.prototype.getTilePriority=function(r,n,i,o){return NGe(this.frameState_,r,n,i,o)},t.prototype.handleBrowserEvent=function(r,n){var i=n||r.type,o=new jf(i,this,r);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(r){if(this.frameState_){var n=r.originalEvent,i=n.type;if(i===a2.POINTERDOWN||i===nr.WHEEL||i===nr.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,c=n.target;if(this.overlayContainerStopEvent_.contains(c)||!(a===o?o.documentElement:a).contains(c))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1)for(var d=this.getInteractions().getArray().slice(),m=d.length-1;m>=0;m--){var v=d[m];if(!(v.getMap()!==this||!v.getActive()||!this.getTargetElement())){var E=v.handleEvent(r);if(!E||r.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var r=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,o=i;if(r){var a=r.viewHints;if(a[hl.ANIMATING]||a[hl.INTERACTING]){var c=Date.now()-r.time>8;i=c?0:8,o=c?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}r&&this.renderer_&&!r.animate&&(this.renderComplete_===!0?(this.hasListener(rs.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(rs.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Rm(kf.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Rm(kf.LOADSTART,this,r))));for(var d=this.postRenderFunctions_,m=0,v=d.length;m<v;++m)d[m](this,r);d.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var r=0,n=this.targetChangeHandlerKeys_.length;r<n;++r)Nn(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(nr.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(nr.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,r2(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new DGe(this,this.moveTolerance_);for(var o in xi)this.mapBrowserEventHandler_.addEventListener(xi[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(nr.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(nr.WHEEL,this.boundHandleBrowserEvent_,F5?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[tn(c,nr.KEYDOWN,this.handleBrowserEvent,this),tn(c,nr.KEYPRESS,this.handleBrowserEvent,this),tn(a,nr.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Nn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Nn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var r=this.getView();r&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=tn(r,pd.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=tn(r,nr.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Nn),this.layerGroupPropertyListenerKeys_=null);var r=this.getLayerGroup();r&&(this.handleLayerAdd_(new gd("addlayer",r)),this.layerGroupPropertyListenerKeys_=[tn(r,pd.PROPERTYCHANGE,this.render,this),tn(r,nr.CHANGE,this.render,this),tn(r,"addlayer",this.handleLayerAdd_,this),tn(r,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,i=r.length;n<i;++n){var o=r[n].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(r){return this.getControls().remove(r)},t.prototype.removeInteraction=function(r){return this.getInteractions().remove(r)},t.prototype.removeLayer=function(r){var n=this.getLayerGroup().getLayers();return n.remove(r)},t.prototype.handleLayerRemove_=function(r){zGe(r.layer)},t.prototype.removeOverlay=function(r){return this.getOverlays().remove(r)},t.prototype.renderFrame_=function(r){var n=this,i=this.getSize(),o=this.getView(),a=this.frameState_,c=null;if(i!==void 0&&MX(i)&&o&&o.isDef()){var d=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),m=o.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:KI(m.center,m.resolution,m.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:m,viewHints:d,wantedTiles:{},mapId:ao(this),renderTargets:{}},m.nextCenter&&m.nextResolution){var v=isNaN(m.nextRotation)?m.rotation:m.nextRotation;c.nextExtent=KI(m.nextCenter,m.nextResolution,v,i)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),a){var E=!this.previousExtent_||!Uv(this.previousExtent_)&&!WI(c.extent,this.previousExtent_);E&&(this.dispatchEvent(new Rm(kf.MOVESTART,this,a)),this.previousExtent_=q1(this.previousExtent_))}var I=this.previousExtent_&&!c.viewHints[hl.ANIMATING]&&!c.viewHints[hl.INTERACTING]&&!WI(c.extent,this.previousExtent_);I&&(this.dispatchEvent(new Rm(kf.MOVEEND,this,c)),dze(c.extent,this.previousExtent_))}this.dispatchEvent(new Rm(kf.POSTRENDER,this,c)),this.renderComplete_=this.hasListener(kf.LOADSTART)||this.hasListener(kf.LOADEND)||this.hasListener(rs.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},t.prototype.setLayerGroup=function(r){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new gd("removelayer",n)),this.set(vo.LAYERGROUP,r)},t.prototype.setSize=function(r){this.set(vo.SIZE,r)},t.prototype.setTarget=function(r){this.set(vo.TARGET,r)},t.prototype.setView=function(r){if(!r||r instanceof Ff){this.set(vo.VIEW,r);return}this.set(vo.VIEW,new Ff);var n=this;r.then(function(i){n.setView(new Ff(i))})},t.prototype.updateSize=function(){var r=this.getTargetElement(),n=void 0;if(r){var i=getComputedStyle(r),o=r.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=r.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(n=[o,a],!MX(n)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var r=this.getView();if(r){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),r.setViewportSize(n)}},t}(Yo);function fgr(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r={},n=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new o2({layers:e.layers});r[vo.LAYERGROUP]=n,r[vo.TARGET]=e.target,r[vo.VIEW]=e.view instanceof Ff?e.view:new Ff;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Cs(e.controls.slice()):(qr(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new Cs(e.interactions.slice()):(qr(typeof e.interactions.getArray=="function",48),o=e.interactions));var a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new Cs(e.overlays.slice()):(qr(typeof e.overlays.getArray=="function",49),a=e.overlays):a=new Cs,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:r}}var BGe=cgr;var pgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dgr=function(e){pgr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=i.collapsed!==void 0?i.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=i.collapsible!==void 0,n.collapsible_=i.collapsible!==void 0?i.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",c=i.expandClassName!==void 0?i.expandClassName:o+"-expand",d=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",m=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof d=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=d,n.collapseLabel_.className=m):n.collapseLabel_=d;var v=i.label!==void 0?i.label:"i";typeof v=="string"?(n.label_=document.createElement("span"),n.label_.textContent=v,n.label_.className=c):n.label_=v;var E=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(E),n.toggleButton_.addEventListener(nr.CLICK,n.handleClick_.bind(n),!1);var I=o+" "+Gu+" "+qf+(n.collapsed_&&n.collapsible_?" "+IX:"")+(n.collapsible_?"":" ol-uncollapsible"),M=n.element;return M.className=I,M.appendChild(n.toggleButton_),M.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return t.prototype.collectSourceAttributions_=function(r){for(var n={},i=[],o=!0,a=r.layerStatesArray,c=0,d=a.length;c<d;++c){var m=a[c];if(oy(m,r.viewState)){var v=m.layer.getSource();if(v){var E=v.getAttributions();if(E){var I=E(r);if(I)if(o=o&&v.getAttributionsCollapsible()!==!1,Array.isArray(I))for(var M=0,L=I.length;M<L;++M)I[M]in n||(i.push(I[M]),n[I[M]]=!0);else I in n||(i.push(I),n[I]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(r){if(!r){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(r),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!k5(n,this.renderedAttributions_)){H7e(this.ulElement_);for(var o=0,a=n.length;o<a;++o){var c=document.createElement("li");c.innerHTML=n[o],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}},t.prototype.handleClick_=function(r){r.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(IX),this.collapsed_?dx(this.collapseLabel_,this.label_):dx(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(r){this.collapsible_!==r&&(this.collapsible_=r,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(r){this.userCollapsed_=r,!(!this.collapsible_||this.collapsed_===r)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(r){this.updateElement_(r.frameState)},t}(Wl),UGe=dgr;var hgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mgr=function(e){hgr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",c=i.compassClassName!==void 0?i.compassClassName:"ol-compass";n.label_=null,typeof a=="string"?(n.label_=document.createElement("span"),n.label_.className=c,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(c));var d=i.tipLabel?i.tipLabel:"Reset rotation",m=document.createElement("button");m.className=o+"-reset",m.setAttribute("type","button"),m.title=d,m.appendChild(n.label_),m.addEventListener(nr.CLICK,n.handleClick_.bind(n),!1);var v=o+" "+Gu+" "+qf,E=n.element;return E.className=v,E.appendChild(m),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=i.duration!==void 0?i.duration:250,n.autoHide_=i.autoHide!==void 0?i.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(n2),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var r=this.getMap(),n=r.getView();if(n){var i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Uu}):n.setRotation(0))}},t.prototype.render=function(r){var n=r.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(n2);!a&&i===0?this.element.classList.add(n2):a&&i!==0&&this.element.classList.remove(n2)}this.label_.style.transform=o}this.rotation_=i}},t}(Wl),VGe=mgr;var ggr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vgr=function(e){ggr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,c=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",d=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",m=i.zoomInLabel!==void 0?i.zoomInLabel:"+",v=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",E=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",I=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",M=document.createElement("button");M.className=c,M.setAttribute("type","button"),M.title=E,M.appendChild(typeof m=="string"?document.createTextNode(m):m),M.addEventListener(nr.CLICK,n.handleClick_.bind(n,a),!1);var L=document.createElement("button");L.className=d,L.setAttribute("type","button"),L.title=I,L.appendChild(typeof v=="string"?document.createTextNode(v):v),L.addEventListener(nr.CLICK,n.handleClick_.bind(n,-a),!1);var R=o+" "+Gu+" "+qf,P=n.element;return P.className=R,P.appendChild(M),P.appendChild(L),n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleClick_=function(r,n){n.preventDefault(),this.zoomByDelta_(r)},t.prototype.zoomByDelta_=function(r){var n=this.getMap(),i=n.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+r);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Uu})):i.setZoom(a)}}},t}(Wl),tk=vgr;var ygr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_gr=function(e){ygr(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this,n.extent=i.extent?i.extent:null;var o=i.className!==void 0?i.className:"ol-zoom-extent",a=i.label!==void 0?i.label:"E",c=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",d=document.createElement("button");d.setAttribute("type","button"),d.title=c,d.appendChild(typeof a=="string"?document.createTextNode(a):a),d.addEventListener(nr.CLICK,n.handleClick_.bind(n),!1);var m=o+" "+Gu+" "+qf,v=n.element;return v.className=m,v.appendChild(d),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var r=this.getMap(),n=r.getView(),i=this.extent?this.extent:n.getProjection().getExtent();n.fitInternal(e2(i))},t}(Wl),GGe=_gr;function HGe(e){var t=e||{},r=new Cs,n=t.zoom!==void 0?t.zoom:!0;n&&r.push(new tk(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&r.push(new VGe(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&r.push(new UGe(t.attributionOptions)),r}var xgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bgr=function(e){xgr(t,e);function t(r){return r=ci({},r),r.controls||(r.controls=HGe()),r.interactions||(r.interactions=J5({onFocusOnly:!0})),e.call(this,r)||this}return t.prototype.createRenderer=function(){return new CGe(this)},t}(BGe),$Ge=bgr;var l2={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var wgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sgr=function(e){wgr(t,e);function t(r){var n=this,i=r||{},o=ci({},i);return delete o.preload,delete o.useInterimTilesOnError,n=e.call(this,o)||this,n.on,n.once,n.un,n.setPreload(i.preload!==void 0?i.preload:0),n.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),n}return t.prototype.getPreload=function(){return this.get(l2.PRELOAD)},t.prototype.setPreload=function(r){this.set(l2.PRELOAD,r)},t.prototype.getUseInterimTilesOnError=function(){return this.get(l2.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(r){this.set(l2.USE_INTERIM_TILES_ON_ERROR,r)},t.prototype.getData=function(r){return e.prototype.getData.call(this,r)},t}(i2),WGe=Sgr;var Egr=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var r=this.oldest_;r;)t(r.value_,r.key_,this),r=r.newer},e.prototype.get=function(t,r){var n=this.entries_[t];return qr(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},e.prototype.remove=function(t){var r=this.entries_[t];return qr(r!==void 0,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,r){this.get(t),this.entries_[t].value_=r},e.prototype.set=function(t,r){qr(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(),rk=Egr;var ZGe=function(){function e(t,r,n,i){this.minX=t,this.maxX=r,this.minY=n,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,r){return this.minX<=t&&t<=this.maxX&&this.minY<=r&&r<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function ay(e,t,r,n,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=r,i.maxY=n,i):new ZGe(e,t,r,n)}var nk=ZGe;var Igr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tgr=function(e){Igr(t,e);function t(r,n,i){var o=e.call(this)||this,a=i||{};return o.tileCoord=r,o.state=n,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(nr.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var r=this.interimTile;do{if(r.getState()==ir.LOADED)return this.transition_=0,r;r=r.interimTile}while(r);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var r=this.interimTile,n=this;do{if(r.getState()==ir.LOADED){r.interimTile=null;break}else r.getState()==ir.LOADING?n=r:r.getState()==ir.IDLE?n.interimTile=r.interimTile:n=r;r=n.interimTile}while(r)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(r){if(this.state!==ir.ERROR&&this.state>r)throw new Error("Tile load sequence violation");this.state=r,this.changed()},t.prototype.load=function(){bn()},t.prototype.getAlpha=function(r,n){if(!this.transition_)return 1;var i=this.transitionStarts_[r];if(!i)i=n,this.transitionStarts_[r]=i;else if(i===-1)return 1;var o=n-i+1e3/60;return o>=this.transition_?1:fX(o/this.transition_)},t.prototype.inTransition=function(r){return this.transition_?this.transitionStarts_[r]!==-1:!1},t.prototype.endTransition=function(r){this.transition_&&(this.transitionStarts_[r]=-1)},t}(Bu),vx=Tgr;var Agr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mgr=function(e){Agr(t,e);function t(r){var n=this,i=ir.IDLE;return n=e.call(this,r.tileCoord,i,{transition:r.transition,interpolate:r.interpolate})||this,n.loader_=r.loader,n.data_=null,n.error_=null,n.size_=r.size||[256,256],n}return t.prototype.getSize=function(){return this.size_},t.prototype.getData=function(){return this.data_},t.prototype.getError=function(){return this.error_},t.prototype.load=function(){if(!(this.state!==ir.IDLE&&this.state!==ir.ERROR)){this.state=ir.LOADING,this.changed();var r=this;this.loader_().then(function(n){r.data_=n,r.state=ir.LOADED,r.changed()}).catch(function(n){r.error_=n,r.state=ir.ERROR,r.changed()})}},t}(vx),YGe=Mgr;var Cgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ogr=function(e){Cgr(t,e);function t(r,n,i,o,a,c){var d=e.call(this,r,n,c)||this;return d.crossOrigin_=o,d.src_=i,d.key=i,d.image_=new Image,o!==null&&(d.image_.crossOrigin=o),d.unlisten_=null,d.tileLoadFunction_=a,d}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r,this.state=ir.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=ir.ERROR,this.unlistenImage_(),this.image_=Dgr(),this.changed()},t.prototype.handleImageLoad_=function(){var r=this.image_;r.naturalWidth&&r.naturalHeight?this.state=ir.LOADED:this.state=ir.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==ir.ERROR&&(this.state=ir.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ir.IDLE&&(this.state=ir.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=LX(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(vx);function Dgr(){var e=md(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var sy=Ogr;var KGe=.5,Bf=!0;var Lgr=10,XGe=.25,Pgr=function(){function e(t,r,n,i,o,a){this.sourceProj_=t,this.targetProj_=r;var c={},d=Gv(this.targetProj_,this.sourceProj_);this.transformInv_=function(B){var Z=B[0]+"/"+B[1];return c[Z]||(c[Z]=d(B)),c[Z]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ci(i)==Ci(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ci(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ci(this.targetProj_.getExtent()):null;var m=fm(n),v=qR(n),E=kR(n),I=RR(n),M=this.transformInv_(m),L=this.transformInv_(v),R=this.transformInv_(E),P=this.transformInv_(I),q=Lgr+(a?Math.max(0,Math.ceil(CR(YI(n)/(a*a*256*256)))):0);if(this.addQuad_(m,v,E,I,M,L,R,P,q),this.wrapsXInSource_){var j=1/0;this.triangles_.forEach(function(B,Z,re){j=Math.min(j,B.source[0][0],B.source[1][0],B.source[2][0])}),this.triangles_.forEach(function(B){if(Math.max(B.source[0][0],B.source[1][0],B.source[2][0])-j>this.sourceWorldWidth_/2){var Z=[[B.source[0][0],B.source[0][1]],[B.source[1][0],B.source[1][1]],[B.source[2][0],B.source[2][1]]];Z[0][0]-j>this.sourceWorldWidth_/2&&(Z[0][0]-=this.sourceWorldWidth_),Z[1][0]-j>this.sourceWorldWidth_/2&&(Z[1][0]-=this.sourceWorldWidth_),Z[2][0]-j>this.sourceWorldWidth_/2&&(Z[2][0]-=this.sourceWorldWidth_);var re=Math.min(Z[0][0],Z[1][0],Z[2][0]),Q=Math.max(Z[0][0],Z[1][0],Z[2][0]);Q-re<this.sourceWorldWidth_/2&&(B.source=Z)}}.bind(this))}c={}}return e.prototype.addTriangle_=function(t,r,n,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,r,n]})},e.prototype.addQuad_=function(t,r,n,i,o,a,c,d,m){var v=$I([o,a,c,d]),E=this.sourceWorldWidth_?Ci(v)/this.sourceWorldWidth_:null,I=this.sourceWorldWidth_,M=this.sourceProj_.canWrapX()&&E>.5&&E<1,L=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var R=$I([t,r,n,i]),P=Ci(R)/this.targetWorldWidth_;L=P>XGe||L}!M&&this.sourceProj_.isGlobal()&&E&&(L=E>XGe||L)}if(!(!L&&this.maxSourceExtent_&&isFinite(v[0])&&isFinite(v[1])&&isFinite(v[2])&&isFinite(v[3])&&!XI(v,this.maxSourceExtent_))){var q=0;if(!L&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(d[0])||!isFinite(d[1]))){if(m>0)L=!0;else if(q=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),q!=1&&q!=2&&q!=4&&q!=8)return}if(m>0){if(!L){var j=[(t[0]+n[0])/2,(t[1]+n[1])/2],B=this.transformInv_(j),Z=void 0;if(M){var re=(Ac(o[0],I)+Ac(c[0],I))/2;Z=re-Ac(B[0],I)}else Z=(o[0]+c[0])/2-B[0];var Q=(o[1]+c[1])/2-B[1],oe=Z*Z+Q*Q;L=oe>this.errorThresholdSquared_}if(L){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var me=[(r[0]+n[0])/2,(r[1]+n[1])/2],pe=this.transformInv_(me),Ae=[(i[0]+t[0])/2,(i[1]+t[1])/2],Fe=this.transformInv_(Ae);this.addQuad_(t,r,me,Ae,o,a,pe,Fe,m-1),this.addQuad_(Ae,me,n,i,Fe,pe,c,d,m-1)}else{var $e=[(t[0]+r[0])/2,(t[1]+r[1])/2],Ue=this.transformInv_($e),Xe=[(n[0]+i[0])/2,(n[1]+i[1])/2],Ye=this.transformInv_(Xe);this.addQuad_(t,$e,Xe,i,o,Ue,Ye,d,m-1),this.addQuad_($e,r,n,Xe,Ue,a,c,Ye,m-1)}return}}if(M){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}q&11||this.addTriangle_(t,n,i,o,c,d),q&14||this.addTriangle_(t,n,r,o,c,a),q&&(q&13||this.addTriangle_(r,i,t,a,d,o),q&7||this.addTriangle_(r,i,n,a,d,c))}},e.prototype.calculateSourceExtent=function(){var t=Sf();return this.triangles_.forEach(function(r,n,i){var o=r.source;ZI(t,o[0]),ZI(t,o[1]),ZI(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),QGe=Pgr;var FX={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};var BX,VX=[];function JGe(e,t,r,n,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(n,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(r,i)),e.restore()}function UX(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function Ngr(){if(BX===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",JGe(e,4,5,4,0),JGe(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;BX=UX(t,0)||UX(t,4)||UX(t,8)}return BX}function eHe(e,t,r,n){var i=QI(r,t,e),o=mZ(t,n,r),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var c=e.getMetersPerUnit();c!==void 0&&(o/=c);var d=e.getExtent();if(!d||Qp(d,i)){var m=mZ(e,o,i)/o;isFinite(m)&&m>0&&(o/=m)}return o}function tHe(e,t,r,n){var i=Mc(r),o=eHe(e,t,i,n);return(!isFinite(o)||o<=0)&&NR(r,function(a){return o=eHe(e,t,a,n),isFinite(o)&&o>0}),o}function rHe(e,t,r,n,i,o,a,c,d,m,v,E){var I=md(Math.round(r*e),Math.round(r*t),VX);if(E||ci(I,FX),d.length===0)return I.canvas;I.scale(r,r);function M(Z){return Math.round(Z*r)/r}I.globalCompositeOperation="lighter";var L=Sf();d.forEach(function(Z,re,Q){vze(L,Z.extent)});var R=Ci(L),P=ya(L),q=md(Math.round(r*R/n),Math.round(r*P/n));E||ci(q,FX);var j=r/n;d.forEach(function(Z,re,Q){var oe=Z.extent[0]-L[0],me=-(Z.extent[3]-L[3]),pe=Ci(Z.extent),Ae=ya(Z.extent);Z.image.width>0&&Z.image.height>0&&q.drawImage(Z.image,m,m,Z.image.width-2*m,Z.image.height-2*m,oe*j,me*j,pe*j,Ae*j)});var B=fm(a);return c.getTriangles().forEach(function(Z,re,Q){var oe=Z.source,me=Z.target,pe=oe[0][0],Ae=oe[0][1],Fe=oe[1][0],$e=oe[1][1],Ue=oe[2][0],Xe=oe[2][1],Ye=M((me[0][0]-B[0])/o),Re=M(-(me[0][1]-B[1])/o),ke=M((me[1][0]-B[0])/o),je=M(-(me[1][1]-B[1])/o),it=M((me[2][0]-B[0])/o),ot=M(-(me[2][1]-B[1])/o),at=pe,Be=Ae;pe=0,Ae=0,Fe-=at,$e-=Be,Ue-=at,Xe-=Be;var Ze=[[Fe,$e,0,0,ke-Ye],[Ue,Xe,0,0,it-Ye],[0,0,Fe,$e,je-Re],[0,0,Ue,Xe,ot-Re]],nt=tze(Ze);if(nt){if(I.save(),I.beginPath(),Ngr()||!E){I.moveTo(ke,je);for(var Ce=4,de=Ye-ke,Ne=Re-je,Ee=0;Ee<Ce;Ee++)I.lineTo(ke+M((Ee+1)*de/Ce),je+M(Ee*Ne/(Ce-1))),Ee!=Ce-1&&I.lineTo(ke+M((Ee+1)*de/Ce),je+M((Ee+1)*Ne/(Ce-1)));I.lineTo(it,ot)}else I.moveTo(ke,je),I.lineTo(Ye,Re),I.lineTo(it,ot);I.clip(),I.transform(nt[0],nt[2],nt[1],nt[3],Ye,Re),I.translate(L[0]-at,L[3]-Be),I.scale(n/r,-n/r),I.drawImage(q.canvas,0,0),I.restore()}}),v&&(I.save(),I.globalCompositeOperation="source-over",I.strokeStyle="black",I.lineWidth=1,c.getTriangles().forEach(function(Z,re,Q){var oe=Z.target,me=(oe[0][0]-B[0])/o,pe=-(oe[0][1]-B[1])/o,Ae=(oe[1][0]-B[0])/o,Fe=-(oe[1][1]-B[1])/o,$e=(oe[2][0]-B[0])/o,Ue=-(oe[2][1]-B[1])/o;I.beginPath(),I.moveTo(Ae,Fe),I.lineTo(me,pe),I.lineTo($e,Ue),I.closePath(),I.stroke()}),I.restore()),I.canvas}var Rgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kgr=function(e){Rgr(t,e);function t(r,n,i,o,a,c,d,m,v,E,I,M){var L=e.call(this,a,ir.IDLE,{interpolate:!!M})||this;L.renderEdges_=I!==void 0?I:!1,L.pixelRatio_=d,L.gutter_=m,L.canvas_=null,L.sourceTileGrid_=n,L.targetTileGrid_=o,L.wrappedTileCoord_=c||a,L.sourceTiles_=[],L.sourcesListenerKeys_=null,L.sourceZ_=0;var R=o.getTileCoordExtent(L.wrappedTileCoord_),P=L.targetTileGrid_.getExtent(),q=L.sourceTileGrid_.getExtent(),j=P?Ef(R,P):R;if(YI(j)===0)return L.state=ir.EMPTY,L;var B=r.getExtent();B&&(q?q=Ef(q,B):q=B);var Z=o.getResolution(L.wrappedTileCoord_[0]),re=tHe(r,i,j,Z);if(!isFinite(re)||re<=0)return L.state=ir.EMPTY,L;var Q=E!==void 0?E:KGe;if(L.triangulation_=new QGe(r,i,j,q,re*Q,Z),L.triangulation_.getTriangles().length===0)return L.state=ir.EMPTY,L;L.sourceZ_=n.getZForResolution(re);var oe=L.triangulation_.calculateSourceExtent();if(q&&(r.canWrapX()?(oe[1]=pi(oe[1],q[1],q[3]),oe[3]=pi(oe[3],q[1],q[3])):oe=Ef(oe,q)),!YI(oe))L.state=ir.EMPTY;else{for(var me=n.getTileRangeForExtentAndZ(oe,L.sourceZ_),pe=me.minX;pe<=me.maxX;pe++)for(var Ae=me.minY;Ae<=me.maxY;Ae++){var Fe=v(L.sourceZ_,pe,Ae,d);Fe&&L.sourceTiles_.push(Fe)}L.sourceTiles_.length===0&&(L.state=ir.EMPTY)}return L}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var r=[];if(this.sourceTiles_.forEach(function(v,E,I){v&&v.getState()==ir.LOADED&&r.push({extent:this.sourceTileGrid_.getTileCoordExtent(v.tileCoord),image:v.getImage()})}.bind(this)),this.sourceTiles_.length=0,r.length===0)this.state=ir.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(n),d=this.sourceTileGrid_.getResolution(this.sourceZ_),m=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=rHe(o,a,this.pixelRatio_,d,this.sourceTileGrid_.getExtent(),c,m,this.triangulation_,r,this.gutter_,this.renderEdges_,this.interpolate),this.state=ir.LOADED}this.changed()},t.prototype.load=function(){if(this.state==ir.IDLE){this.state=ir.LOADING,this.changed();var r=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();if(a==ir.IDLE||a==ir.LOADING){r++;var c=tn(n,nr.CHANGE,function(d){var m=n.getState();(m==ir.LOADED||m==ir.ERROR||m==ir.EMPTY)&&(Nn(c),r--,r===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),r===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();a==ir.IDLE&&n.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Nn),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(G7e(this.canvas_.getContext("2d")),VX.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(vx),ik=kgr;var u2=34962,c2=34963,iHe=35040,yx=35044,oHe=35048,aHe=5121,sHe=5123,lHe=5125,GX=5126,nHe=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function HX(e,t){for(var r=ci({preserveDrawingBuffer:!0,antialias:!i7e},t),n=nHe.length,i=0;i<n;++i)try{var o=e.getContext(nHe[i],r);if(o)return o}catch(a){}return null}var qgr={STATIC_DRAW:yx,STREAM_DRAW:iHe,DYNAMIC_DRAW:oHe},jgr=function(){function e(t,r){this.array=null,this.type=t,qr(t===u2||t===c2,62),this.usage=r!==void 0?r:qgr.STATIC_DRAW}return e.prototype.ofSize=function(t){this.array=new($X(this.type))(t)},e.prototype.fromArray=function(t){var r=$X(this.type);this.array=r.from?r.from(t):new r(t)},e.prototype.fromArrayBuffer=function(t){this.array=new($X(this.type))(t)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}();function $X(e){switch(e){case u2:return Float32Array;case c2:return Uint32Array;default:return Float32Array;}}var ok=jgr;var zgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function cHe(e,t,r){var n=r?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n)}function Fgr(e,t,r,n){cHe(e,t,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}function uHe(e,t,r,n,i,o){var a=e.getGL(),c,d;if(r instanceof Float32Array){c=a.FLOAT,e.getExtension("OES_texture_float");var m=e.getExtension("OES_texture_float_linear");d=m!==null}else c=a.UNSIGNED_BYTE,d=!0;cHe(a,t,o&&d);var v=r.byteLength/n[1],E=1;v%8===0?E=8:v%4===0?E=4:v%2===0&&(E=2);var I;switch(i){case 1:{I=a.LUMINANCE;break}case 2:{I=a.LUMINANCE_ALPHA;break}case 3:{I=a.RGB;break}case 4:{I=a.RGBA;break}default:throw new Error("Unsupported number of bands: ".concat(i));}var M=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,E),a.texImage2D(a.TEXTURE_2D,0,I,n[0],n[1],0,I,c,r),a.pixelStorei(a.UNPACK_ALIGNMENT,M)}var _x=null;function Bgr(){var e=document.createElement("canvas");e.width=1,e.height=1,_x=e.getContext("2d")}var Ugr=function(e){zgr(t,e);function t(r){var n=e.call(this)||this;n.tile,n.textures=[],n.handleTileChange_=n.handleTileChange_.bind(n),n.renderSize_=Ko(r.grid.getTileSize(r.tile.tileCoord[0])),n.gutter_=r.gutter||0,n.bandCount=NaN,n.helper_=r.helper;var i=new ok(u2,yx);return i.fromArray([0,1,1,1,1,0,0,0]),n.helper_.flushBufferData(i),n.coords=i,n.setTile(r.tile),n}return t.prototype.setTile=function(r){if(r!==this.tile)if(this.tile&&this.tile.removeEventListener(nr.CHANGE,this.handleTileChange_),this.tile=r,this.textures.length=0,this.loaded=r.getState()===ir.LOADED,this.loaded)this.uploadTile_();else{if(r instanceof sy){var n=r.getImage();n instanceof Image&&!n.crossOrigin&&(n.crossOrigin="anonymous")}r.addEventListener(nr.CHANGE,this.handleTileChange_)}},t.prototype.uploadTile_=function(){var r=this.helper_,n=r.getGL(),i=this.tile;if(i instanceof sy||i instanceof ik){var o=n.createTexture();this.textures.push(o),this.bandCount=4,Fgr(n,o,i.getImage(),i.interpolate);return}var a=i.getSize(),c=[a[0]+2*this.gutter_,a[1]+2*this.gutter_],d=i.getData(),m=d instanceof Float32Array,v=c[0]*c[1],E=m?Float32Array:Uint8Array,I=E.BYTES_PER_ELEMENT,M=d.byteLength/c[1];this.bandCount=Math.floor(M/I/c[0]);var L=Math.ceil(this.bandCount/4);if(L===1){var o=n.createTexture();this.textures.push(o),uHe(r,o,d,c,this.bandCount,i.interpolate);return}for(var R=new Array(L),P=0;P<L;++P){var o=n.createTexture();this.textures.push(o);var q=P<L-1?4:this.bandCount%4;R[P]=new E(v*q)}for(var j=0,B=0,Z=c[0]*this.bandCount,re=0;re<c[1];++re){for(var Q=0;Q<Z;++Q){var oe=d[B+Q],me=Math.floor(j/this.bandCount),pe=Q%this.bandCount,P=Math.floor(pe/4),Ae=R[P],q=Ae.length/v,Fe=pe%4;Ae[me*q+Fe]=oe,++j}B+=M/I}for(var P=0;P<L;++P){var o=this.textures[P],Ae=R[P],q=Ae.length/v;uHe(r,o,Ae,c,q,i.interpolate)}},t.prototype.handleTileChange_=function(){this.tile.getState()===ir.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(nr.CHANGE))},t.prototype.disposeInternal=function(){var r=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var n=0;n<this.textures.length;++n)r.deleteTexture(this.textures[n]);this.tile.removeEventListener(nr.CHANGE,this.handleTileChange_)},t.prototype.getPixelData=function(r,n){if(!this.loaded)return null;var i=this.renderSize_[0],o=this.renderSize_[1],a=this.gutter_;if(this.tile instanceof YGe){var c=this.tile.getSize(),d=c[0],m=c[1],v=d+2*a,E=m+2*a,I=a+Math.floor(d*(r/i)),M=a+Math.floor(m*(n/o)),L=this.tile.getData();if(L instanceof DataView){var R=L.byteLength/(v*E),P=R*(M*v+I),q=L.buffer.slice(P,P+R);return new DataView(q)}var j=this.bandCount*(M*v+I);return L.slice(j,j+this.bandCount)}_x||Bgr(),_x.clearRect(0,0,1,1);var B=this.tile.getImage(),Z=B.width,re=B.height,Q=Z-2*a,oe=re-2*a,me=a+Math.floor(Q*(r/i)),pe=a+Math.floor(oe*(n/o)),Ae;try{_x.drawImage(B,me,pe,1,1,0,0,1,1),Ae=_x.getImageData(0,0,1,1).data}catch(Fe){return _x=null,null}return Ae},t}(Bu),fHe=Ugr;var f2={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};var Vgr=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,Ggr=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,Hgr=function(){function e(t){this.gl_=t.webGlContext;var r=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=r.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=r.createFramebuffer();var n=r.createShader(r.VERTEX_SHADER);r.shaderSource(n,t.vertexShader||Vgr),r.compileShader(n);var i=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,t.fragmentShader||Ggr),r.compileShader(i),this.renderTargetProgram_=r.createProgram(),r.attachShader(this.renderTargetProgram_,n),r.attachShader(this.renderTargetProgram_,i),r.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=r.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.bufferData(r.ARRAY_BUFFER,new Float32Array(o),r.STATIC_DRAW),this.renderTargetAttribLocation_=r.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(a){this.uniforms_.push({value:t.uniforms[a],location:r.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(t){var r=this.getGL(),n=[r.drawingBufferWidth*this.scaleRatio_,r.drawingBufferHeight*this.scaleRatio_];if(r.bindFramebuffer(r.FRAMEBUFFER,this.getFrameBuffer()),r.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var i=0,o=r.RGBA,a=0,c=r.RGBA,d=r.UNSIGNED_BYTE,m=null;r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.texImage2D(r.TEXTURE_2D,i,o,n[0],n[1],a,c,d,m),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(t,r,n,i){var o=this.getGL(),a=t.size;if(o.bindFramebuffer(o.FRAMEBUFFER,r?r.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!r){var c=ao(o.canvas);if(!t.renderTargets[c]){var d=o.getContextAttributes();d&&d.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),t.renderTargets[c]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var m=t.layerStatesArray[t.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,m),this.applyUniforms(t),n&&n(o,t),o.drawArrays(o.TRIANGLES,0,6),i&&i(o,t)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(t){var r=this.getGL(),n,i=1;this.uniforms_.forEach(function(o){if(n=typeof o.value=="function"?o.value(t):o.value,n instanceof HTMLCanvasElement||n instanceof ImageData)o.texture||(o.texture=r.createTexture()),r.activeTexture(r["TEXTURE".concat(i)]),r.bindTexture(r.TEXTURE_2D,o.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),n instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,n.width,n.height,0,r.UNSIGNED_BYTE,new Uint8Array(n.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.uniform1i(o.location,i++);else if(Array.isArray(n))switch(n.length){case 2:r.uniform2f(o.location,n[0],n[1]);return;case 3:r.uniform3f(o.location,n[0],n[1],n[2]);return;case 4:r.uniform4f(o.location,n[0],n[1],n[2],n[3]);return;default:return;}else typeof n=="number"&&r.uniform1f(o.location,n)})},e}(),WX=Hgr;function ak(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function xx(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var $gr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var p2={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},bx={UNSIGNED_BYTE:aHe,UNSIGNED_SHORT:sHe,UNSIGNED_INT:lHe,FLOAT:GX},sk={};function pHe(e){return"shared/"+e}var dHe=0;function Wgr(){var e="unique/"+dHe;return dHe+=1,e}function Zgr(e){var t=sk[e];if(!t){var r=document.createElement("canvas");r.style.position="absolute",r.style.left="0",t={users:0,canvas:r},sk[e]=t}return t.users+=1,t.canvas}function Ygr(e){var t=sk[e];if(t&&(t.users-=1,!(t.users>0))){var r=t.canvas,n=HX(r),i=n.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete sk[e]}}var Kgr=function(e){$gr(t,e);function t(r){var n=e.call(this)||this,i=r||{};n.boundHandleWebGLContextLost_=n.handleWebGLContextLost.bind(n),n.boundHandleWebGLContextRestored_=n.handleWebGLContextRestored.bind(n),n.canvasCacheKey_=i.canvasCacheKey?pHe(i.canvasCacheKey):Wgr(),n.canvas_=Zgr(n.canvasCacheKey_),n.gl_=HX(n.canvas_),n.bufferCache_={},n.extensionCache_={},n.currentProgram_=null,n.canvas_.addEventListener(f2.LOST,n.boundHandleWebGLContextLost_),n.canvas_.addEventListener(f2.RESTORED,n.boundHandleWebGLContextRestored_),n.offsetRotateMatrix_=Vu(),n.offsetScaleMatrix_=Vu(),n.tmpMat4_=ak(),n.uniformLocations_={},n.attribLocations_={},n.uniforms_=[],i.uniforms&&n.setUniforms(i.uniforms);var o=n.getGL();return n.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(a){return new WX({webGlContext:o,scaleRatio:a.scaleRatio,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms})}):[new WX({webGlContext:o})],n.shaderCompileErrors_=null,n.startTime_=Date.now(),n}return t.prototype.setUniforms=function(r){this.uniforms_=[];for(var n in r)this.uniforms_.push({name:n,value:r[n]});this.uniformLocations_={}},t.prototype.canvasCacheKeyMatches=function(r){return this.canvasCacheKey_===pHe(r)},t.prototype.getExtension=function(r){if(r in this.extensionCache_)return this.extensionCache_[r];var n=this.gl_.getExtension(r);return this.extensionCache_[r]=n,n},t.prototype.bindBuffer=function(r){var n=this.getGL(),i=ao(r),o=this.bufferCache_[i];if(!o){var a=n.createBuffer();o={buffer:r,webGlBuffer:a},this.bufferCache_[i]=o}n.bindBuffer(r.getType(),o.webGlBuffer)},t.prototype.flushBufferData=function(r){var n=this.getGL();this.bindBuffer(r),n.bufferData(r.getType(),r.getArray(),r.getUsage())},t.prototype.deleteBuffer=function(r){var n=this.getGL(),i=ao(r),o=this.bufferCache_[i];o&&!n.isContextLost()&&n.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[i]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(f2.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(f2.RESTORED,this.boundHandleWebGLContextRestored_),Ygr(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},t.prototype.prepareDraw=function(r,n){var i=this.getGL(),o=this.getCanvas(),a=r.size,c=r.pixelRatio;o.width=a[0]*c,o.height=a[1]*c,o.style.width=a[0]+"px",o.style.height=a[1]+"px",i.useProgram(this.currentProgram_);for(var d=this.postProcessPasses_.length-1;d>=0;d--)this.postProcessPasses_[d].init(r);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(r),this.applyUniforms(r)},t.prototype.prepareDrawToRenderTarget=function(r,n,i){var o=this.getGL(),a=n.getSize();o.bindFramebuffer(o.FRAMEBUFFER,n.getFramebuffer()),o.viewport(0,0,a[0],a[1]),o.bindTexture(o.TEXTURE_2D,n.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(r),this.applyUniforms(r)},t.prototype.drawElements=function(r,n){var i=this.getGL();this.getExtension("OES_element_index_uint");var o=i.UNSIGNED_INT,a=4,c=n-r,d=r*a;i.drawElements(i.TRIANGLES,c,o,d)},t.prototype.finalizeDraw=function(r,n,i){for(var o=0,a=this.postProcessPasses_.length;o<a;o++)o===a-1?this.postProcessPasses_[o].apply(r,null,n,i):this.postProcessPasses_[o].apply(r,this.postProcessPasses_[o+1])},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(r){var n=r.size,i=r.viewState.rotation,o=cx(this.offsetScaleMatrix_);JT(o,2/n[0],2/n[1]);var a=cx(this.offsetRotateMatrix_);i!==0&&U5(a,-i),this.setUniformMatrixValue(p2.OFFSET_SCALE_MATRIX,xx(this.tmpMat4_,o)),this.setUniformMatrixValue(p2.OFFSET_ROTATION_MATRIX,xx(this.tmpMat4_,a)),this.setUniformFloatValue(p2.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(p2.ZOOM,r.viewState.zoom),this.setUniformFloatValue(p2.RESOLUTION,r.viewState.resolution)},t.prototype.applyUniforms=function(r){var n=this.getGL(),i,o=0;this.uniforms_.forEach(function(a){if(i=typeof a.value=="function"?a.value(r):a.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(o)]),n.bindTexture(n.TEXTURE_2D,a.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var c=!(i instanceof HTMLImageElement)||i.complete;c&&a.prevValue!==i&&(a.prevValue=i,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i)),n.uniform1i(this.getUniformLocation(a.name),o++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(a.name,xx(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:n.uniform2f(this.getUniformLocation(a.name),i[0],i[1]);return;case 3:n.uniform3f(this.getUniformLocation(a.name),i[0],i[1],i[2]);return;case 4:n.uniform4f(this.getUniformLocation(a.name),i[0],i[1],i[2],i[3]);return;default:return;}else typeof i=="number"&&n.uniform1f(this.getUniformLocation(a.name),i)}.bind(this))},t.prototype.useProgram=function(r){if(r==this.currentProgram_)return!1;var n=this.getGL();return n.useProgram(r),this.currentProgram_=r,this.uniformLocations_={},this.attribLocations_={},!0},t.prototype.compileShader=function(r,n){var i=this.getGL(),o=i.createShader(n);return i.shaderSource(o,r),i.compileShader(o),o},t.prototype.getProgram=function(r,n){var i=this.getGL(),o=this.compileShader(r,i.FRAGMENT_SHADER),a=this.compileShader(n,i.VERTEX_SHADER),c=i.createProgram();if(i.attachShader(c,o),i.attachShader(c,a),i.linkProgram(c),!i.getShaderParameter(o,i.COMPILE_STATUS)){var d="Fragment shader compliation failed: ".concat(i.getShaderInfoLog(o));throw new Error(d)}if(i.deleteShader(o),!i.getShaderParameter(a,i.COMPILE_STATUS)){var d="Vertex shader compilation failed: ".concat(i.getShaderInfoLog(a));throw new Error(d)}if(i.deleteShader(a),!i.getProgramParameter(c,i.LINK_STATUS)){var d="GL program linking failed: ".concat(i.getShaderInfoLog(a));throw new Error(d)}return c},t.prototype.getUniformLocation=function(r){return this.uniformLocations_[r]===void 0&&(this.uniformLocations_[r]=this.getGL().getUniformLocation(this.currentProgram_,r)),this.uniformLocations_[r]},t.prototype.getAttributeLocation=function(r){return this.attribLocations_[r]===void 0&&(this.attribLocations_[r]=this.getGL().getAttribLocation(this.currentProgram_,r)),this.attribLocations_[r]},t.prototype.makeProjectionTransform=function(r,n){var i=r.size,o=r.viewState.rotation,a=r.viewState.resolution,c=r.viewState.center;return cx(n),Lm(n,0,0,2/(a*i[0]),2/(a*i[1]),-o,-c[0],-c[1]),n},t.prototype.setUniformFloatValue=function(r,n){this.getGL().uniform1f(this.getUniformLocation(r),n)},t.prototype.setUniformFloatVec4=function(r,n){this.getGL().uniform4fv(this.getUniformLocation(r),n)},t.prototype.setUniformMatrixValue=function(r,n){this.getGL().uniformMatrix4fv(this.getUniformLocation(r),!1,n)},t.prototype.enableAttributeArray_=function(r,n,i,o,a){var c=this.getAttributeLocation(r);c<0||(this.getGL().enableVertexAttribArray(c),this.getGL().vertexAttribPointer(c,n,i,!1,o,a))},t.prototype.enableAttributes=function(r){for(var n=Xgr(r),i=0,o=0;o<r.length;o++){var a=r[o];this.enableAttributeArray_(a.name,a.size,a.type||GX,n,i),i+=a.size*hHe(a.type)}},t.prototype.handleWebGLContextLost=function(){Cu(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(r,n,i){var o=this.getGL(),a=i||o.createTexture(),c=0,d=o.RGBA,m=0,v=o.RGBA,E=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,a),n?o.texImage2D(o.TEXTURE_2D,c,d,v,E,n):o.texImage2D(o.TEXTURE_2D,c,d,r[0],r[1],m,v,E,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a},t}(Mm);function Xgr(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*hHe(n.type)}return t}function hHe(e){switch(e){case bx.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case bx.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case bx.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case bx.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT;}}var mHe=Kgr;var Qgr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Jgr=function(e){Qgr(t,e);function t(r,n){var i=e.call(this,r)||this,o=n||{};return i.inversePixelTransform_=Vu(),i.pixelContext_=null,i.postProcesses_=o.postProcesses,i.uniforms_=o.uniforms,i.helper,r.addChangeListener(wn.MAP,i.removeHelper.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return t.prototype.dispatchPreComposeEvent=function(r,n){var i=this.getLayer();if(i.hasListener(rs.PRECOMPOSE)){var o=new gx(rs.PRECOMPOSE,void 0,n,r);i.dispatchEvent(o)}},t.prototype.dispatchPostComposeEvent=function(r,n){var i=this.getLayer();if(i.hasListener(rs.POSTCOMPOSE)){var o=new gx(rs.POSTCOMPOSE,void 0,n,r);i.dispatchEvent(o)}},t.prototype.reset=function(r){this.uniforms_=r.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},t.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},t.prototype.prepareFrame=function(r){if(this.getLayer().getRenderSource()){for(var n=!0,i=-1,o=void 0,a=0,c=r.layerStatesArray.length;a<c;a++){var d=r.layerStatesArray[a].layer,m=d.getRenderer();if(!(m instanceof t)){n=!0;continue}var v=d.getClassName();if((n||v!==o)&&(i+=1,n=!1),o=v,m===this)break}var E="map/"+r.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(E))&&(this.removeHelper(),this.helper=new mHe({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:E}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(r)},t.prototype.afterHelperCreated=function(){},t.prototype.prepareFrameInternal=function(r){return!0},t.prototype.disposeInternal=function(){this.removeHelper(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(r,n,i){var o=this.getLayer();if(o.hasListener(r)){Lm(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var a=new gx(r,this.inversePixelTransform_,i,n);o.dispatchEvent(a)}},t.prototype.preRender=function(r,n){this.dispatchRenderEvent_(rs.PRERENDER,r,n)},t.prototype.postRender=function(r,n){this.dispatchRenderEvent_(rs.POSTRENDER,r,n)},t.prototype.getDataAtPixel=function(r,n,i){var o=Dm([n.pixelRatio,0,0,n.pixelRatio,0,0],r.slice()),a=this.helper.getGL();if(!a)return null;var c=this.getLayer(),d=c.getExtent();if(d){var m=Dm(n.pixelToCoordinateTransform,r.slice());if(!Qp(d,m))return null}var v=a.getContextAttributes();if(!v||!v.preserveDrawingBuffer)return new Uint8Array;var E=Math.round(o[0]),I=Math.round(o[1]),M=this.pixelContext_;if(!M){var L=document.createElement("canvas");L.width=1,L.height=1,M=L.getContext("2d"),this.pixelContext_=M}M.clearRect(0,0,1,1);var R;try{M.drawImage(a.canvas,E,I,1,1,0,0,1,1),R=M.getImageData(0,0,1,1).data}catch(P){return R}return R[3]===0?null:R},t}(SGe);var gHe=Jgr;function wx(e,t,r,n){return n!==void 0?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function ly(e,t,r){return e+"/"+t+"/"+r}function qm(e){return ly(e[0],e[1],e[2])}function vHe(e){return e.split("/").map(Number)}function yHe(e){return(e[1]<<e[0])+e[2]}function _He(e,t){var r=e[0],n=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o=t.getFullTileRange(r);return o?o.containsXY(n,i):!0}var evr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jr={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},d2={TEXTURE_COORD:"a_textureCoord"},tvr=[{name:d2.TEXTURE_COORD,size:2,type:bx.FLOAT}],rvr={};function nvr(e){return 2*(1-1/(e+1))-1}function xHe(e,t,r){r in e||(e[r]=[]),e[r].push(t)}function ZX(e,t){var r=e.layerStatesArray[e.layerIndex];r.extent&&(t=Ef(t,dm(r.extent,e.viewState.projection)));var n=r.layer.getRenderSource();if(!n.getWrapX()){var i=n.getTileGridForProjection(e.viewState.projection).getExtent();i&&(t=Ef(t,i))}return t}function YX(e,t){return"".concat(e.getKey(),",").concat(qm(t))}var ivr=function(e){evr(t,e);function t(r,n){var i=e.call(this,r,{uniforms:n.uniforms})||this;i.renderComplete=!1,i.tileTransform_=Vu(),i.tempMat4_=ak(),i.tempTileRange_=new nk(0,0,0,0),i.tempTileCoord_=wx(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=n.vertexShader,i.fragmentShader_=n.fragmentShader,i.indices_=new ok(c2,yx),i.indices_.fromArray([0,1,3,1,2,3]);var o=n.cacheSize!==void 0?n.cacheSize:512;return i.tileTextureCache_=new rk(o),i.paletteTextures_=n.paletteTextures||[],i.frameState_=null,i}return t.prototype.reset=function(r){e.prototype.reset.call(this,{uniforms:r.uniforms}),this.vertexShader_=r.vertexShader,this.fragmentShader_=r.fragmentShader,this.paletteTextures_=r.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},t.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},t.prototype.isDrawableTile_=function(r){var n=this.getLayer(),i=r.getState(),o=n.getUseInterimTilesOnError();return i==ir.LOADED||i==ir.EMPTY||i==ir.ERROR&&!o},t.prototype.prepareFrameInternal=function(r){var n=this.getLayer(),i=n.getRenderSource();return!i||Uv(ZX(r,r.extent))?!1:i.getState()==="ready"},t.prototype.enqueueTiles=function(r,n,i,o){var a=r.viewState,c=this.getLayer(),d=c.getRenderSource(),m=d.getTileGridForProjection(a.projection),v=d.getGutterForProjection(a.projection),E=ao(d);E in r.wantedTiles||(r.wantedTiles[E]={});for(var I=r.wantedTiles[E],M=this.tileTextureCache_,L=Math.max(i-c.getPreload(),m.getMinZoom(),c.getMinZoom()),R=i;R>=L;--R)for(var P=m.getTileRangeForExtentAndZ(n,R,this.tempTileRange_),q=m.getResolution(R),j=P.minX;j<=P.maxX;++j)for(var B=P.minY;B<=P.maxY;++B){var Z=wx(R,j,B,this.tempTileCoord_),re=YX(d,Z),Q=void 0,oe=void 0;if(M.containsKey(re)&&(Q=M.get(re),oe=Q.tile),!Q||Q.tile.key!==d.getKey())if(oe=d.getTile(R,j,B,r.pixelRatio,a.projection),!Q)Q=new fHe({tile:oe,grid:m,helper:this.helper,gutter:v}),M.set(re,Q);else if(this.isDrawableTile_(oe))Q.setTile(oe);else{var me=oe.getInterimTile();Q.setTile(me)}xHe(o,Q,R);var pe=oe.getKey();I[pe]=!0,oe.getState()===ir.IDLE&&(r.tileQueue.isKeyQueued(pe)||r.tileQueue.enqueue([oe,E,m.getTileCoordCenter(Z),q]))}},t.prototype.renderFrame=function(r){this.frameState_=r,this.renderComplete=!0;var n=this.helper.getGL();this.preRender(n,r);var i=r.viewState,o=this.getLayer(),a=o.getRenderSource(),c=a.getTileGridForProjection(i.projection),d=a.getGutterForProjection(i.projection),m=ZX(r,r.extent),v=c.getZForResolution(i.resolution,a.zDirection),E={};if(r.nextExtent){var I=c.getZForResolution(i.nextResolution,a.zDirection),M=ZX(r,r.nextExtent);this.enqueueTiles(r,M,I,E)}this.enqueueTiles(r,m,v,E);for(var L={},R=ao(this),P=r.time,q=!1,j=E[v],B=0,Z=j.length;B<Z;++B){var re=j[B],Q=re.tile,oe=Q.tileCoord;if(re.loaded){var me=Q.getAlpha(R,P);if(me===1){Q.endTransition(R);continue}q=!0;var pe=qm(oe);L[pe]=me}this.renderComplete=!1;var Ae=this.findAltTiles_(c,oe,v+1,E);if(!Ae)for(var Fe=c.getMinZoom(),$e=v-1;$e>=Fe;--$e){var Ue=this.findAltTiles_(c,oe,$e,E);if(Ue)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(r,!q);for(var Xe=Object.keys(E).map(Number).sort(QT),Ye=i.center[0],Re=i.center[1],ke=0,je=Xe.length;ke<je;++ke)for(var it=Xe[ke],ot=c.getResolution(it),at=Ko(c.getTileSize(it),this.tempSize_),Be=c.getOrigin(it),Ze=at[0]+2*d,nt=at[1]+2*d,Ce=Ze/nt,de=(Ye-Be[0])/(at[0]*ot),Ne=(Be[1]-Re)/(at[1]*ot),Ee=i.resolution/ot,Qe=nvr(it),Ke=E[it],B=0,Z=Ke.length;B<Z;++B){var re=Ke[B];if(re.loaded){var Q=re.tile,oe=Q.tileCoord,pe=qm(oe),yt=oe[1],_t=oe[2];cx(this.tileTransform_),JT(this.tileTransform_,2/(r.size[0]*Ee/Ze),-2/(r.size[1]*Ee/Ze)),U5(this.tileTransform_,i.rotation),JT(this.tileTransform_,1,1/Ce),u7e(this.tileTransform_,(at[0]*(yt-de)-d)/Ze,(at[1]*(_t-Ne)-d)/nt),this.helper.setUniformMatrixValue(jr.TILE_TRANSFORM,xx(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(re.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(tvr);for(var gt=0;gt<re.textures.length;){var Se="TEXTURE"+gt,ft="".concat(jr.TILE_TEXTURE_ARRAY,"[").concat(gt,"]");n.activeTexture(n[Se]),n.bindTexture(n.TEXTURE_2D,re.textures[gt]),n.uniform1i(this.helper.getUniformLocation(ft),gt),++gt}for(var zt=0;zt<this.paletteTextures_.length;++zt){var pt=this.paletteTextures_[zt];n.activeTexture(n["TEXTURE"+gt]);var Ht=pt.getTexture(n);n.bindTexture(n.TEXTURE_2D,Ht),n.uniform1i(this.helper.getUniformLocation(pt.name),gt),++gt}var me=pe in L?L[pe]:1;me<1&&(r.animate=!0),this.helper.setUniformFloatValue(jr.TRANSITION_ALPHA,me),this.helper.setUniformFloatValue(jr.DEPTH,Qe),this.helper.setUniformFloatValue(jr.TEXTURE_PIXEL_WIDTH,Ze),this.helper.setUniformFloatValue(jr.TEXTURE_PIXEL_HEIGHT,nt),this.helper.setUniformFloatValue(jr.TEXTURE_RESOLUTION,ot),this.helper.setUniformFloatValue(jr.TEXTURE_ORIGIN_X,Be[0]+yt*at[0]*ot-d*ot),this.helper.setUniformFloatValue(jr.TEXTURE_ORIGIN_Y,Be[1]-_t*at[1]*ot+d*ot);var ar=m;d>0&&(ar=c.getTileCoordExtent(oe),Ef(ar,m,ar)),this.helper.setUniformFloatVec4(jr.RENDER_EXTENT,ar),this.helper.setUniformFloatValue(jr.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(jr.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(r,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var Ft=this.helper.getCanvas(),cr=this.tileTextureCache_;cr.canExpireCache();){var re=cr.pop();re.dispose()}var Br=function(Ur,sr){a.expireCache(sr.viewState.projection,rvr)};return r.postRenderFunctions.push(Br),this.postRender(n,r),Ft},t.prototype.getData=function(r){var n=this.helper.getGL();if(!n)return null;var i=this.frameState_;if(!i)return null;var o=this.getLayer(),a=Dm(i.pixelToCoordinateTransform,r.slice()),c=i.viewState,d=o.getExtent();if(d&&!Qp(dm(d,c.projection),a))return null;var m=o.getSources($I([a]),c.resolution),v,E,I;for(v=m.length-1;v>=0;--v)if(E=m[v],E.getState()==="ready"){if(I=E.getTileGridForProjection(c.projection),E.getWrapX())break;var M=I.getExtent();if(!M||Qp(M,a))break}if(v<0)return null;for(var L=this.tileTextureCache_,R=I.getZForResolution(c.resolution);R>=I.getMinZoom();--R){var P=I.getTileCoordForCoordAndZ(a,R),q=YX(E,P);if(L.containsKey(q)){var j=L.get(q);if(j.loaded){var B=I.getOrigin(R),Z=Ko(I.getTileSize(R)),re=I.getResolution(R),Q=(a[0]-B[0])/re-P[1]*Z[0],oe=(B[1]-a[1])/re-P[2]*Z[1];return j.getPixelData(Q,oe)}}}return null},t.prototype.findAltTiles_=function(r,n,i,o){var a=r.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!a)return!1;for(var c=!0,d=this.tileTextureCache_,m=this.getLayer().getRenderSource(),v=a.minX;v<=a.maxX;++v)for(var E=a.minY;E<=a.maxY;++E){var I=YX(m,[i,v,E]),M=!1;if(d.containsKey(I)){var L=d.get(I);L.loaded&&(xHe(o,L,i),M=!0)}M||(c=!1)}return c},t.prototype.removeHelper=function(){if(this.helper){var r=this.tileTextureCache_;r.forEach(function(n){return n.dispose()}),r.clear()}e.prototype.removeHelper.call(this)},t.prototype.disposeInternal=function(){var r=this.helper;if(r){var n=r.getGL();n.deleteProgram(this.program_),delete this.program_,r.deleteBuffer(this.indices_)}e.prototype.disposeInternal.call(this),delete this.indices_,delete this.tileTextureCache_,delete this.frameState_},t}(gHe),bHe=ivr;var ovr=function(){function e(t,r){this.name=t,this.data=r,this.texture_=null}return e.prototype.getTexture=function(t){if(!this.texture_){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=r}return this.texture_},e}(),wHe=ovr;var Jt={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},Qr={};function Uf(e){if(typeof e=="number")return Jt.NUMBER;if(typeof e=="boolean")return Jt.BOOLEAN;if(typeof e=="string")return bGe(e)?Jt.COLOR|Jt.STRING:Jt.STRING;if(!Array.isArray(e))throw new Error("Unhandled value type: ".concat(JSON.stringify(e)));var t=e,r=t.every(function(i){return typeof i=="number"});if(r)return t.length===3||t.length===4?Jt.COLOR|Jt.NUMBER_ARRAY:Jt.NUMBER_ARRAY;if(typeof t[0]!="string")throw new Error("Expected an expression operator but received: ".concat(JSON.stringify(t)));var n=Qr[t[0]];if(n===void 0)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return n.getReturnType(t.slice(1))}function avr(e){return CR(e)%1===0}function lk(e){var t=e.toString();return t.indexOf(".")===-1?t+".0":t}function SHe(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(e.length,"(").concat(e.map(lk).join(", "),")")}function svr(e){var t=xGe(e).slice();return t.length<4&&t.push(1),SHe(t.map(function(r,n){return n<3?r/255:r}))}function XX(e,t){return e.stringLiteralsMap[t]===void 0&&(e.stringLiteralsMap[t]=Object.keys(e.stringLiteralsMap).length),e.stringLiteralsMap[t]}function lvr(e,t){return lk(XX(e,t))}function or(e,t,r){if(Array.isArray(t)&&typeof t[0]=="string"){var n=Qr[t[0]];if(n===void 0)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return n.toGlsl(e,t.slice(1),r)}var i=Uf(t);if((i&Jt.NUMBER)>0)return lk(t);if((i&Jt.BOOLEAN)>0)return t.toString();if((i&Jt.STRING)>0&&(r===void 0||r==Jt.STRING))return lvr(e,t.toString());if((i&Jt.COLOR)>0&&(r===void 0||r==Jt.COLOR))return svr(t);if((i&Jt.NUMBER_ARRAY)>0)return SHe(t);throw new Error("Unexpected expression ".concat(t," (expected type ").concat(r,")"))}function EHe(e){if(!(Uf(e)&Jt.NUMBER))throw new Error("A numeric value was expected, got ".concat(JSON.stringify(e)," instead"))}function lo(e){for(var t=0;t<e.length;t++)EHe(e[t])}function IHe(e){if(!(Uf(e)&Jt.STRING))throw new Error("A string value was expected, got ".concat(JSON.stringify(e)," instead"))}function QX(e){if(!(Uf(e)&Jt.BOOLEAN))throw new Error("A boolean value was expected, got ".concat(JSON.stringify(e)," instead"))}function bi(e,t){if(e.length!==t)throw new Error("Exactly ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function jm(e,t){if(e.length<t)throw new Error("At least ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function uk(e,t){if(e.length>t)throw new Error("At most ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function THe(e){if(e.length%2!==0)throw new Error("An even amount of arguments was expected, got ".concat(e," instead"))}function uvr(e){if(e.length%2===0)throw new Error("An odd amount of arguments was expected, got ".concat(e," instead"))}function JX(e,t){if(!avr(t))throw new Error("Could not infer only one type from the following expression: ".concat(JSON.stringify(e)))}Qr.get={getReturnType:function(e){return Jt.ANY},toGlsl:function(e,t){bi(t,1),IHe(t[0]);var r=t[0].toString();e.attributes.indexOf(r)===-1&&e.attributes.push(r);var n=e.inFragmentShader?"v_":"a_";return n+r}};function eQ(e){return"u_var_"+e}Qr.var={getReturnType:function(e){return Jt.ANY},toGlsl:function(e,t){bi(t,1),IHe(t[0]);var r=t[0].toString();return e.variables.indexOf(r)===-1&&e.variables.push(r),eQ(r)}};var tQ="u_paletteTextures";Qr.palette={getReturnType:function(e){return Jt.COLOR},toGlsl:function(e,t){bi(t,2),EHe(t[0]);var r=or(e,t[0]),n=t[1];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");for(var i=n.length,o=new Uint8Array(i*4),a=0;a<i;a++){var c=n[a],d=void 0;if(typeof c=="string")d=CX(c);else{if(!Array.isArray(c))throw new Error("The second argument of palette must be an array of strings or colors");var m=c.length;if(m===4)d=c;else{if(m!==3)throw new Error("Expected palette color to have 3 or 4 values, got ".concat(m));d=[c[0],c[1],c[2],1]}}var v=a*4;o[v]=d[0],o[v+1]=d[1],o[v+2]=d[2],o[v+3]=d[3]*255}e.paletteTextures||(e.paletteTextures=[]);var E="".concat(tQ,"[").concat(e.paletteTextures.length,"]"),I=new wHe(E,o);return e.paletteTextures.push(I),"texture2D(".concat(E,", vec2((").concat(r," + 0.5) / ").concat(i,".0, 0.5))")}};var KX="getBandValue";Qr.band={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){jm(t,1),uk(t,3);var r=t[0];if(!(KX in e.functions)){for(var n="",i=e.bandCount||1,o=0;o<i;o++){var a=Math.floor(o/4),c=o%4;c===i-1&&c===1&&(c=3);var d="".concat(jr.TILE_TEXTURE_ARRAY,"[").concat(a,"]");n+=`
          if (band == `.concat(o+1,`.0) {
            return texture2D(`).concat(d,", v_textureCoord + vec2(dx, dy))[").concat(c,`];
          }
        `)}e.functions[KX]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `.concat(jr.TEXTURE_PIXEL_WIDTH,`;
          float dy = yOffset / `).concat(jr.TEXTURE_PIXEL_HEIGHT,`;
          `).concat(n,`
        }
      `)}var m=or(e,r),v=or(e,t[1]||0),E=or(e,t[2]||0);return"".concat(KX,"(").concat(m,", ").concat(v,", ").concat(E,")")}};Qr.time={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,0),"u_time"}};Qr.zoom={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,0),"u_zoom"}};Qr.resolution={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,0),"u_resolution"}};Qr["*"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," * ").concat(or(e,t[1]),")")}};Qr["/"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," / ").concat(or(e,t[1]),")")}};Qr["+"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," + ").concat(or(e,t[1]),")")}};Qr["-"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," - ").concat(or(e,t[1]),")")}};Qr.clamp={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){bi(t,3),lo(t);var r=or(e,t[1]),n=or(e,t[2]);return"clamp(".concat(or(e,t[0]),", ").concat(r,", ").concat(n,")")}};Qr["%"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"mod(".concat(or(e,t[0]),", ").concat(or(e,t[1]),")")}};Qr["^"]={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,2),lo(t),"pow(".concat(or(e,t[0]),", ").concat(or(e,t[1]),")")}};Qr.abs={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"abs(".concat(or(e,t[0]),")")}};Qr.floor={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"floor(".concat(or(e,t[0]),")")}};Qr.round={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"floor(".concat(or(e,t[0])," + 0.5)")}};Qr.ceil={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"ceil(".concat(or(e,t[0]),")")}};Qr.sin={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"sin(".concat(or(e,t[0]),")")}};Qr.cos={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return bi(t,1),lo(t),"cos(".concat(or(e,t[0]),")")}};Qr.atan={getReturnType:function(e){return Jt.NUMBER},toGlsl:function(e,t){return jm(t,1),uk(t,2),lo(t),t.length===2?"atan(".concat(or(e,t[0]),", ").concat(or(e,t[1]),")"):"atan(".concat(or(e,t[0]),")")}};Qr[">"]={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," > ").concat(or(e,t[1]),")")}};Qr[">="]={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," >= ").concat(or(e,t[1]),")")}};Qr["<"]={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," < ").concat(or(e,t[1]),")")}};Qr["<="]={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){return bi(t,2),lo(t),"(".concat(or(e,t[0])," <= ").concat(or(e,t[1]),")")}};function AHe(e){return{getReturnType:function(t){return Jt.BOOLEAN},toGlsl:function(t,r){bi(r,2);for(var n=Jt.ANY,i=0;i<r.length;i++)n&=Uf(r[i]);if(n===Jt.NONE)throw new Error("All arguments should be of compatible type, got ".concat(JSON.stringify(r)," instead"));return n&=~Jt.COLOR,"(".concat(or(t,r[0],n)," ").concat(e," ").concat(or(t,r[1],n),")")}}}Qr["=="]=AHe("==");Qr["!="]=AHe("!=");Qr["!"]={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){return bi(t,1),QX(t[0]),"(!".concat(or(e,t[0]),")")}};function MHe(e){return{getReturnType:function(t){return Jt.BOOLEAN},toGlsl:function(t,r){jm(r,2);for(var n=0;n<r.length;n++)QX(r[n]);var i="";return i=r.map(function(o){return or(t,o)}).join(" ".concat(e," ")),i="(".concat(i,")"),i}}}Qr.all=MHe("&&");Qr.any=MHe("||");Qr.between={getReturnType:function(e){return Jt.BOOLEAN},toGlsl:function(e,t){bi(t,3),lo(t);var r=or(e,t[1]),n=or(e,t[2]),i=or(e,t[0]);return"(".concat(i," >= ").concat(r," && ").concat(i," <= ").concat(n,")")}};Qr.array={getReturnType:function(e){return Jt.NUMBER_ARRAY},toGlsl:function(e,t){jm(t,2),uk(t,4),lo(t);var r=t.map(function(n){return or(e,n,Jt.NUMBER)});return"vec".concat(t.length,"(").concat(r.join(", "),")")}};Qr.color={getReturnType:function(e){return Jt.COLOR},toGlsl:function(e,t){jm(t,3),uk(t,4),lo(t);var r=t;t.length===3&&r.push(1);var n=t.map(function(i,o){return or(e,i,Jt.NUMBER)+(o<3?" / 255.0":"")});return"vec".concat(t.length,"(").concat(n.join(", "),")")}};Qr.interpolate={getReturnType:function(e){for(var t=Jt.COLOR|Jt.NUMBER,r=3;r<e.length;r+=2)t=t&Uf(e[r]);return t},toGlsl:function(e,t,r){THe(t),jm(t,6);var n=t[0],i;switch(n[0]){case"linear":i=1;break;case"exponential":i=n[1];break;default:i=null;}if(!i)throw new Error("Invalid interpolation type for \"interpolate\" operator, received: ".concat(JSON.stringify(n)));var o=r!==void 0?r:Jt.ANY,a=Qr.interpolate.getReturnType(t)&o;JX(t,a);for(var c=or(e,t[1]),d=lk(i),m="",v=2;v<t.length-2;v+=2){var E=or(e,t[v]),I=m||or(e,t[v+1],a),M=or(e,t[v+2]),L=or(e,t[v+3],a);m="mix(".concat(I,", ").concat(L,", pow(clamp((").concat(c," - ").concat(E,") / (").concat(M," - ").concat(E,"), 0.0, 1.0), ").concat(d,"))")}return m}};Qr.match={getReturnType:function(e){for(var t=Jt.ANY,r=2;r<e.length;r+=2)t=t&Uf(e[r]);return t=t&Uf(e[e.length-1]),t},toGlsl:function(e,t,r){THe(t),jm(t,4);var n=r!==void 0?r:Jt.ANY,i=Qr.match.getReturnType(t)&n;JX(t,i);for(var o=or(e,t[0]),a=or(e,t[t.length-1],i),c=null,d=t.length-3;d>=1;d-=2){var m=or(e,t[d]),v=or(e,t[d+1],i);c="(".concat(o," == ").concat(m," ? ").concat(v," : ").concat(c||a,")")}return c}};Qr.case={getReturnType:function(e){for(var t=Jt.ANY,r=1;r<e.length;r+=2)t=t&Uf(e[r]);return t=t&Uf(e[e.length-1]),t},toGlsl:function(e,t,r){uvr(t),jm(t,3);var n=r!==void 0?r:Jt.ANY,i=Qr.case.getReturnType(t)&n;JX(t,i);for(var o=0;o<t.length-1;o+=2)QX(t[o]);for(var a=or(e,t[t.length-1],i),c=null,o=t.length-3;o>=0;o-=2){var d=or(e,t[o]),m=or(e,t[o+1],i);c="(".concat(d," ? ").concat(m," : ").concat(c||a,")")}return c}};var cvr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function CHe(e,t){var r=`
    attribute vec2 `.concat(d2.TEXTURE_COORD,`;
    uniform mat4 `).concat(jr.TILE_TRANSFORM,`;
    uniform float `).concat(jr.TEXTURE_PIXEL_WIDTH,`;
    uniform float `).concat(jr.TEXTURE_PIXEL_HEIGHT,`;
    uniform float `).concat(jr.TEXTURE_RESOLUTION,`;
    uniform float `).concat(jr.TEXTURE_ORIGIN_X,`;
    uniform float `).concat(jr.TEXTURE_ORIGIN_Y,`;
    uniform float `).concat(jr.DEPTH,`;

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = `).concat(d2.TEXTURE_COORD,`;
      v_mapCoord = vec2(
        `).concat(jr.TEXTURE_ORIGIN_X," + ").concat(jr.TEXTURE_RESOLUTION," * ").concat(jr.TEXTURE_PIXEL_WIDTH,` * v_textureCoord[0],
        `).concat(jr.TEXTURE_ORIGIN_Y," - ").concat(jr.TEXTURE_RESOLUTION," * ").concat(jr.TEXTURE_PIXEL_HEIGHT,` * v_textureCoord[1]
      );
      gl_Position = `).concat(jr.TILE_TRANSFORM," * vec4(").concat(d2.TEXTURE_COORD,", ").concat(jr.DEPTH,`, 1.0);
    }
  `),n={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:t},i=[];if(e.color!==void 0){var o=or(n,e.color,Jt.COLOR);i.push("color = ".concat(o,";"))}if(e.contrast!==void 0){var a=or(n,e.contrast,Jt.NUMBER);i.push("color.rgb = clamp((".concat(a," + 1.0) * color.rgb - (").concat(a," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(e.exposure!==void 0){var c=or(n,e.exposure,Jt.NUMBER);i.push("color.rgb = clamp((".concat(c," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(e.saturation!==void 0){var d=or(n,e.saturation,Jt.NUMBER);i.push(`
      float saturation = `.concat(d,` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `))}if(e.gamma!==void 0){var m=or(n,e.gamma,Jt.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / ".concat(m,"));"))}if(e.brightness!==void 0){var v=or(n,e.brightness,Jt.NUMBER);i.push("color.rgb = clamp(color.rgb + ".concat(v,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}var E={},I=n.variables.length;if(I>1&&!e.variables)throw new Error("Missing variables in style (expected ".concat(n.variables,")"));for(var M=function(B){var Z=n.variables[B];if(!(Z in e.variables))throw new Error("Missing '".concat(Z,"' in style variables"));var re=eQ(Z);E[re]=function(){var Q=e.variables[Z];return typeof Q=="string"&&(Q=XX(n,Q)),Q!==void 0?Q:-9999999}},L=0;L<I;++L)M(L);var R=Object.keys(E).map(function(B){return"uniform float ".concat(B,";")}),P=Math.ceil(t/4);R.push("uniform sampler2D ".concat(jr.TILE_TEXTURE_ARRAY,"[").concat(P,"];")),n.paletteTextures&&R.push("uniform sampler2D ".concat(tQ,"[").concat(n.paletteTextures.length,"];"));var q=Object.keys(n.functions).map(function(B){return n.functions[B]}),j=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 `.concat(jr.RENDER_EXTENT,`;
    uniform float `).concat(jr.TRANSITION_ALPHA,`;
    uniform float `).concat(jr.TEXTURE_PIXEL_WIDTH,`;
    uniform float `).concat(jr.TEXTURE_PIXEL_HEIGHT,`;
    uniform float `).concat(jr.RESOLUTION,`;
    uniform float `).concat(jr.ZOOM,`;

    `).concat(R.join(`
`),`

    `).concat(q.join(`
`),`

    void main() {
      if (
        v_mapCoord[0] < `).concat(jr.RENDER_EXTENT,`[0] ||
        v_mapCoord[1] < `).concat(jr.RENDER_EXTENT,`[1] ||
        v_mapCoord[0] > `).concat(jr.RENDER_EXTENT,`[2] ||
        v_mapCoord[1] > `).concat(jr.RENDER_EXTENT,`[3]
      ) {
        discard;
      }

      vec4 color = texture2D(`).concat(jr.TILE_TEXTURE_ARRAY,`[0],  v_textureCoord);

      `).concat(i.join(`
`),`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `).concat(jr.TRANSITION_ALPHA,`;
    }`);return{vertexShader:r,fragmentShader:j,uniforms:E,paletteTextures:n.paletteTextures}}var OHe=function(e){cvr(t,e);function t(r){var n=this,i=r?ci({},r):{},o=i.style||{};delete i.style;var a=i.cacheSize;return delete i.cacheSize,n=e.call(this,i)||this,n.sources_=i.sources,n.renderedSource_=null,n.renderedResolution_=NaN,n.style_=o,n.cacheSize_=a,n.styleVariables_=n.style_.variables||{},n.addChangeListener(wn.SOURCE,n.handleSourceUpdate_),n}return t.prototype.getSources=function(r,n){var i=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(r,n):this.sources_:i?[i]:[]},t.prototype.getRenderSource=function(){return this.renderedSource_||this.getSource()},t.prototype.getSourceState=function(){var r=this.getRenderSource();return r?r.getState():"undefined"},t.prototype.handleSourceUpdate_=function(){this.getSource()&&this.setStyle(this.style_)},t.prototype.getSourceBandCount_=function(){var r=Number.MAX_SAFE_INTEGER,n=this.getSources([-r,-r,r,r],r);return n&&n.length&&"bandCount"in n[0]?n[0].bandCount:4},t.prototype.createRenderer=function(){var r=CHe(this.style_,this.getSourceBandCount_());return new bHe(this,{vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms,cacheSize:this.cacheSize_,paletteTextures:r.paletteTextures})},t.prototype.renderSources=function(r,n){for(var i=this.getRenderer(),o,a=0,c=n.length;a<c;++a)this.renderedSource_=n[a],i.prepareFrame(r)&&(o=i.renderFrame(r));return o},t.prototype.render=function(r,n){var i=this;this.rendered=!0;for(var o=r.viewState,a=this.getSources(r.extent,o.resolution),c=!0,d=function(M,L){var R=a[M],P=R.getState();if(P=="loading"){var q=function(){R.getState()=="ready"&&(R.removeEventListener("change",q),i.changed())};R.addEventListener("change",q)}c=c&&P=="ready"},m=0,v=a.length;m<v;++m)d(m,v);var E=this.renderSources(r,a);if(this.getRenderer().renderComplete&&c)return this.renderedResolution_=o.resolution,E;if(this.renderedResolution_>.5*o.resolution){var I=this.getSources(r.extent,this.renderedResolution_).filter(function(M){return!a.includes(M)});if(I.length>0)return this.renderSources(r,I)}return E},t.prototype.setStyle=function(r){this.styleVariables_=r.variables||{},this.style_=r;var n=CHe(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,paletteTextures:n.paletteTextures}),this.changed()},t.prototype.updateStyleVariables=function(r){ci(this.styleVariables_,r),this.changed()},t}(WGe);OHe.prototype.dispose;var DHe=OHe;var fvr=[0,0,0],zm=5,pvr=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,qr(K9e(this.resolutions_,function(a,c){return c-a},!0),17);var r;if(!t.origins){for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(!r)r=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==r){r=void 0;break}}this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,qr(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=fm(o)),qr(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,qr(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:km,qr(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,c){var d=new nk(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var m=this.getTileRangeForExtentAndZ(o,c);d.minX=Math.max(m.minX,d.minX),d.maxX=Math.min(m.maxX,d.maxX),d.minY=Math.max(m.minY,d.minY),d.maxY=Math.min(m.maxY,d.maxY)}return d},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,r,n){for(var i=this.getTileRangeForExtentAndZ(t,r),o=i.minX,a=i.maxX;o<=a;++o)for(var c=i.minY,d=i.maxY;c<=d;++c)n([r,o,c])},e.prototype.forEachTileCoordParentTileRange=function(t,r,n,i){var o,a,c,d=null,m=t[0]-1;for(this.zoomFactor_===2?(a=t[1],c=t[2]):d=this.getTileCoordExtent(t,i);m>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),c=Math.floor(c/2),o=ay(a,a,c,c,n)):o=this.getTileRangeForExtentAndZ(d,m,n),r(m,o))return!0;--m}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,r,n){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return ay(i,i+1,o,o+1,r)}var a=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,r)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,r,n){if(r>this.maxZoom||r<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(r===i)return ay(o,a,o,a,n);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,r-i),d=Math.floor(o*c),m=Math.floor(a*c);if(r<i)return ay(d,d,m,m,n);var v=Math.floor(c*(o+1))-1,E=Math.floor(c*(a+1))-1;return ay(d,v,m,E,n)}var I=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(I,r,n)},e.prototype.getTileRangeExtent=function(t,r,n){var i=this.getOrigin(t),o=this.getResolution(t),a=Ko(this.getTileSize(t),this.tmpSize_),c=i[0]+r.minX*a[0]*o,d=i[0]+(r.maxX+1)*a[0]*o,m=i[1]+r.minY*a[1]*o,v=i[1]+(r.maxY+1)*a[1]*o;return Jp(c,m,d,v,n)},e.prototype.getTileRangeForExtentAndZ=function(t,r,n){var i=fvr;this.getTileCoordForXYAndZ_(t[0],t[3],r,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],r,!0,i),ay(o,i[1],a,i[2],n)},e.prototype.getTileCoordCenter=function(t){var r=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Ko(this.getTileSize(t[0]),this.tmpSize_);return[r[0]+(t[1]+.5)*i[0]*n,r[1]-(t[2]+.5)*i[1]*n]},e.prototype.getTileCoordExtent=function(t,r){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Ko(this.getTileSize(t[0]),this.tmpSize_),a=n[0]+t[1]*o[0]*i,c=n[1]-(t[2]+1)*o[1]*i,d=a+o[0]*i,m=c+o[1]*i;return Jp(a,c,d,m,r)},e.prototype.getTileCoordForCoordAndResolution=function(t,r,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordForXYAndResolution_=function(t,r,n,i,o){var a=this.getZForResolution(n),c=n/this.getResolution(a),d=this.getOrigin(a),m=Ko(this.getTileSize(a),this.tmpSize_),v=c*(t-d[0])/n/m[0],E=c*(d[1]-r)/n/m[1];return i?(v=VI(v,zm)-1,E=VI(E,zm)-1):(v=UI(v,zm),E=UI(E,zm)),wx(a,v,E,o)},e.prototype.getTileCoordForXYAndZ_=function(t,r,n,i,o){var a=this.getOrigin(n),c=this.getResolution(n),d=Ko(this.getTileSize(n),this.tmpSize_),m=(t-a[0])/c/d[0],v=(a[1]-r)/c/d[1];return i?(m=VI(m,zm)-1,v=VI(v,zm)-1):(m=UI(m,zm),v=UI(v,zm)),wx(n,m,v,o)},e.prototype.getTileCoordForCoordAndZ=function(t,r,n){return this.getTileCoordForXYAndZ_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,r){var n=ax(this.resolutions_,t,r||0);return pi(n,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,r){return bX(r,0,r.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var r=this.resolutions_.length,n=new Array(r),i=this.minZoom;i<r;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},e}(),ck=pvr;var dvr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hvr=function(e){dvr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(r){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in r)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var r=this.peekFirstKey(),n=vHe(r),i=n[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(qm(o.tileCoord)),o.release())}.bind(this))}},t}(rk),fk=hvr;var pk={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function dk(e){var t=e.getDefaultTileGrid();return t||(t=vvr(e),e.setDefaultTileGrid(t)),t}function LHe(e,t,r){var n=t[0],i=e.getTileCoordCenter(t),o=PHe(r);if(Qp(o,i))return t;var a=Ci(o),c=Math.ceil((o[0]-i[0])/a);return i[0]+=a*c,e.getTileCoordForCoordAndZ(i,n)}function mvr(e,t,r,n){var i=n!==void 0?n:"top-left",o=gvr(e,t,r);return new ck({extent:e,origin:yze(e,i),resolutions:o,tileSize:r})}function gvr(e,t,r,n){for(var i=t!==void 0?t:RGe,o=ya(e),a=Ci(e),c=Ko(r!==void 0?r:km),d=n>0?n:Math.max(a/c[0],o/c[1]),m=i+1,v=new Array(m),E=0;E<m;++E)v[E]=d/Math.pow(2,E);return v}function vvr(e,t,r,n){var i=PHe(e);return mvr(i,t,r,n)}function PHe(e){e=ll(e);var t=e.getExtent();if(!t){var r=180*al[sl.DEGREES]/e.getMetersPerUnit();t=Jp(-r,-r,r,r)}return t}var NHe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yvr=function(e){NHe(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,projection:r.projection,state:r.state,wrapX:r.wrapX,interpolate:r.interpolate})||this;n.on,n.once,n.un,n.opaque_=r.opaque!==void 0?r.opaque:!1,n.tilePixelRatio_=r.tilePixelRatio!==void 0?r.tilePixelRatio:1,n.tileGrid=r.tileGrid!==void 0?r.tileGrid:null;var i=[256,256];return n.tileGrid&&Ko(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),i),n.tileCache=new fk(r.cacheSize||0),n.tmpSize=[0,0],n.key_=r.key||"",n.tileOptions={transition:r.transition,interpolate:r.interpolate},n.zDirection=r.zDirection?r.zDirection:0,n}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(r,n){var i=this.getTileCacheForProjection(r);i&&i.expireCache(n)},t.prototype.forEachLoadedTile=function(r,n,i,o){var a=this.getTileCacheForProjection(r);if(!a)return!1;for(var c=!0,d,m,v,E=i.minX;E<=i.maxX;++E)for(var I=i.minY;I<=i.maxY;++I)m=ly(n,E,I),v=!1,a.containsKey(m)&&(d=a.get(m),v=d.getState()===ir.LOADED,v&&(v=o(d)!==!1)),v||(c=!1);return c},t.prototype.getGutterForProjection=function(r){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(r){this.key_!==r&&(this.key_=r,this.changed())},t.prototype.getOpaque=function(r){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(r,n,i,o,a){return bn()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(r){return this.tileGrid?this.tileGrid:dk(r)},t.prototype.getTileCacheForProjection=function(r){var n=this.getProjection();return qr(n===null||pm(n,r),68),this.tileCache},t.prototype.getTilePixelRatio=function(r){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(r,n,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(n),c=Ko(o.getTileSize(r),this.tmpSize);return a==1?c:hGe(c,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(r,n){var i=n!==void 0?n:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(r=LHe(o,r,i)),_He(r,o)?r:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(r,n){var i=this.getTileCacheForProjection(n);r>i.highWaterMark&&(i.highWaterMark=r)},t.prototype.useTile=function(r,n,i,o){},t}(AGe),RHe=function(e){NHe(t,e);function t(r,n){var i=e.call(this,r)||this;return i.tile=n,i}return t}(es);var kHe=yvr;function _vr(e,t){var r=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,c,d){if(a)return e.replace(r,a[0].toString()).replace(n,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var m=a[0],v=t.getFullTileRange(m);qr(v,55);var E=v.getHeight()-a[2]-1;return E.toString()})}}function qHe(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=_vr(e[i],t);return rQ(n)}function rQ(e){return e.length===1?e[0]:function(t,r,n){if(t){var i=yHe(t),o=Ac(i,e.length);return e[o](t,r,n)}else return}}function hk(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e),r){for(var a=parseInt(r[2],10),c=parseInt(r[1],10);c<=a;c++)t.push(e.replace(r[0],c.toString()));return t}return t.push(e),t}var xvr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bvr=function(e){xvr(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(n.tileUrlFunction=r.tileUrlFunction),n.urls=null,r.urls?n.setUrls(r.urls):r.url&&n.setUrl(r.url),n.tileLoadingKeys_={},n}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(r){var n=r.target,i=ao(n),o=n.getState(),a;o==ir.LOADING?(this.tileLoadingKeys_[i]=!0,a=pk.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==ir.ERROR?pk.TILELOADERROR:o==ir.LOADED?pk.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new RHe(a,n))},t.prototype.setTileLoadFunction=function(r){this.tileCache.clear(),this.tileLoadFunction=r,this.changed()},t.prototype.setTileUrlFunction=function(r,n){this.tileUrlFunction=r,this.tileCache.pruneExceptNewestZ(),typeof n!="undefined"?this.setKey(n):this.changed()},t.prototype.setUrl=function(r){var n=hk(r);this.urls=n,this.setUrls(n)},t.prototype.setUrls=function(r){this.urls=r;var n=r.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(qHe(r,this.tileGrid),n):this.setKey(n)},t.prototype.tileUrlFunction=function(r,n,i){},t.prototype.useTile=function(r,n,i){var o=ly(r,n,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(kHe),jHe=bvr;var wvr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Svr=function(e){wvr(t,e);function t(r){var n=this,i=r.imageSmoothing!==void 0?r.imageSmoothing:!0;return r.interpolate!==void 0&&(i=r.interpolate),n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction?r.tileLoadFunction:Evr,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX,transition:r.transition,interpolate:i,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this,n.crossOrigin=r.crossOrigin!==void 0?r.crossOrigin:null,n.tileClass=r.tileClass!==void 0?r.tileClass:sy,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=r.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return t.prototype.canExpireCache=function(){if(!Bf)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var r in this.tileCacheForProjection)if(this.tileCacheForProjection[r].canExpireCache())return!0;return!1},t.prototype.expireCache=function(r,n){if(!Bf){e.prototype.expireCache.call(this,r,n);return}var i=this.getTileCacheForProjection(r);this.tileCache.expireCache(this.tileCache==i?n:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}},t.prototype.getGutterForProjection=function(r){return Bf&&this.getProjection()&&r&&!pm(this.getProjection(),r)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var r=e.prototype.getKey.call(this);return this.getInterpolate()||(r+=":disable-interpolation"),r},t.prototype.getOpaque=function(r){return Bf&&this.getProjection()&&r&&!pm(this.getProjection(),r)?!1:e.prototype.getOpaque.call(this,r)},t.prototype.getTileGridForProjection=function(r){if(!Bf)return e.prototype.getTileGridForProjection.call(this,r);var n=this.getProjection();if(this.tileGrid&&(!n||pm(n,r)))return this.tileGrid;var i=ao(r);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=dk(r)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(r){if(!Bf)return e.prototype.getTileCacheForProjection.call(this,r);var n=this.getProjection();if(!n||pm(n,r))return this.tileCache;var i=ao(r);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new fk(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(r,n,i,o,a,c){var d=[r,n,i],m=this.getTileCoordForTileUrlFunction(d,a),v=m?this.tileUrlFunction(m,o,a):void 0,E=new this.tileClass(d,v!==void 0?ir.IDLE:ir.EMPTY,v!==void 0?v:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return E.key=c,E.addEventListener(nr.CHANGE,this.handleTileChange.bind(this)),E},t.prototype.getTile=function(r,n,i,o,a){var c=this.getProjection();if(!Bf||!c||!a||pm(c,a))return this.getTileInternal(r,n,i,o,c||a);var d=this.getTileCacheForProjection(a),m=[r,n,i],v=void 0,E=qm(m);d.containsKey(E)&&(v=d.get(E));var I=this.getKey();if(v&&v.key==I)return v;var M=this.getTileGridForProjection(c),L=this.getTileGridForProjection(a),R=this.getTileCoordForTileUrlFunction(m,a),P=new ik(c,M,a,L,m,R,this.getTilePixelRatio(o),this.getGutter(),function(q,j,B,Z){return this.getTileInternal(q,j,B,Z,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return P.key=I,v?(P.interimTile=v,P.refreshInterimChain(),d.replace(E,P)):d.set(E,P),P},t.prototype.getTileInternal=function(r,n,i,o,a){var c=null,d=ly(r,n,i),m=this.getKey();if(!this.tileCache.containsKey(d))c=this.createTile_(r,n,i,o,a,m),this.tileCache.set(d,c);else if(c=this.tileCache.get(d),c.key!=m){var v=c;c=this.createTile_(r,n,i,o,a,m),v.getState()==ir.IDLE?c.interimTile=v.interimTile:c.interimTile=v,c.refreshInterimChain(),this.tileCache.replace(d,c)}return c},t.prototype.setRenderReprojectionEdges=function(r){if(!(!Bf||this.renderReprojectionEdges_==r)){this.renderReprojectionEdges_=r;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},t.prototype.setTileGridForProjection=function(r,n){if(Bf){var i=ll(r);if(i){var o=ao(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=n)}}},t}(jHe);function Evr(e,t){e.getImage().src=t}var zHe=Svr;var FHe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nQ={DEFAULT:"default",TRUNCATED:"truncated"},Ivr=function(e){FHe(t,e);function t(r,n,i,o,a,c,d){var m=e.call(this,n,i,o,a,c,d)||this;return m.zoomifyImage_=null,m.tileSize_=r,m}return t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var r=e.prototype.getImage.call(this);if(this.state==ir.LOADED){var n=this.tileSize_;if(r.width==n[0]&&r.height==n[1])return this.zoomifyImage_=r,r;var i=md(n[0],n[1]);return i.drawImage(r,0,0),this.zoomifyImage_=i.canvas,i.canvas}else return r},t}(sy);var Tvr=function(e){FHe(t,e);function t(r){var n=this,i=r,o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.size,c=i.tierSizeCalculation!==void 0?i.tierSizeCalculation:nQ.DEFAULT,d=i.tilePixelRatio||1,m=a[0],v=a[1],E=[],I=i.tileSize||km,M=I*d;switch(c){case nQ.DEFAULT:for(;m>M||v>M;)E.push([Math.ceil(m/M),Math.ceil(v/M)]),M+=M;break;case nQ.TRUNCATED:for(var L=m,R=v;L>M||R>M;)E.push([Math.ceil(L/M),Math.ceil(R/M)]),L>>=1,R>>=1;break;default:qr(!1,53);break;}E.push([1,1]),E.reverse();for(var P=[d],q=[0],j=1,B=E.length;j<B;j++)P.push(d<<j),q.push(E[j-1][0]*E[j-1][1]+q[j-1]);P.reverse();var Z=new ck({tileSize:I,extent:i.extent||[0,-v,m,0],resolutions:P}),re=i.url;re&&re.indexOf("{TileGroup}")==-1&&re.indexOf("{tileIndex}")==-1&&(re+="{TileGroup}/{z}-{x}-{y}.jpg");var Q=hk(re),oe=I*d;function me(Xe){return function(Ye,Re,ke){if(Ye){var je=Ye[0],it=Ye[1],ot=Ye[2],at=it+ot*E[je][0],Be=(at+q[je])/oe|0,Ze={z:je,x:it,y:ot,tileIndex:at,TileGroup:"TileGroup"+Be};return Xe.replace(/\{(\w+?)\}/g,function(nt,Ce){return Ze[Ce]})}else return}}var pe=rQ(Q.map(me)),Ae=Ivr.bind(null,Ko(I*d));n=e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,projection:i.projection,tilePixelRatio:d,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:Ae,tileGrid:Z,tileUrlFunction:pe,transition:i.transition})||this,n.zDirection=i.zDirection;var Fe=Z.getTileCoordForCoordAndResolution(Mc(Z.getExtent()),P[P.length-1]),$e=pe(Fe,1,null),Ue=new Image;return Ue.addEventListener("error",function(){oe=I,this.changed()}.bind(n)),Ue.src=$e,n}return t}(zHe),BHe=Tvr;var ml=ee(Le(),1),UHe=ee(Ji(),1),vd=ee(Tt(),1);var h2={brightness:0,contrast:0,saturation:0},mk=e=>{let{max:t=1,min:r=0,onChange:n=()=>console.warn("onChange is not implemented."),step:i=.01,type:o="",value:a=.5,tooltip:c}=e,d=m=>{n(o,m)};return ml.default.createElement("div",{className:"filter-slider",title:c},ml.default.createElement("span",{className:ur("slider-icon",o),title:c}),ml.default.createElement("div",null,ml.default.createElement(_5,{title:c,ariaLabelForHandle:c,max:t,min:r,onChange:d,step:i,value:a})),ml.default.createElement("span",{className:"slider-tooltip",title:c},a))};mk.propTypes={max:vd.default.number,min:vd.default.number,onChange:vd.default.number,step:vd.default.number,tooltip:vd.default.string,type:vd.default.string,value:vd.default.number};var VHe=e=>{let{layer:t}=e,[r,n]=(0,ml.useState)(et({},h2)),i=(a,c)=>{let d=Object.assign({},r,{[a]:c});n(d),t.updateStyleVariables(d)},o=()=>{n(et({},h2)),t.updateStyleVariables(et({},h2))};return ml.default.createElement("div",null,ml.default.createElement(mk,{max:1,min:-1,onChange:i,step:.01,type:"contrast",value:r.contrast,tooltip:Ve("control-imagemanipulation-contrast")}),ml.default.createElement(mk,{max:1,min:-1,onChange:i,step:.01,type:"saturation",value:r.saturation,tooltip:Ve("control-imagemanipulation-saturation")}),ml.default.createElement(mk,{max:1,min:-1,onChange:i,step:.01,type:"brightness",value:r.brightness,tooltip:Ve("control-imagemanipulation-brightness")}),ml.default.createElement("button",{className:"btn-reset",title:Ve("control-imagemanipulation-reset"),onClick:o},Ve("control-imagemanipulation-reset")))};VHe.propTypes={layer:vd.default.object};var iQ=class extends Wl{constructor(t){let r="ol-unselectable ol-control image-manipulation",n=document.createElement("div");n.className=r;let i=document.createElement("button");i.title=Ve("control-imagemanipulation-open"),i.innerHTML="I",i.type="button",n.appendChild(i);let o=document.createElement("div");o.className="content-container",o.style.display="none",n.appendChild(o);let a=()=>{let c=o.style.display==="block";n.className=c?r:`${r} active`,o.style.display=c?"none":"block"};UHe.default.render(ml.default.createElement(VHe,{layer:t.layer}),o),i.addEventListener("click",a,!1),i.addEventListener("touchstart",a,!1),super({element:n,target:t.target})}},GHe=iQ;function Avr(e){return bo(this,null,function*(){try{let t=yield HHe.default.get(e);if(t.status===200){let n=new DOMParser().parseFromString(t.data,"text/xml");return{width:parseInt(n.firstChild.attributes.WIDTH.value,0),height:parseInt(n.firstChild.attributes.HEIGHT.value,0),url:e.substring(0,e.lastIndexOf("/")+1)}}else throw new Error("Could not fetch ImageProperties.xml")}catch(t){console.error("Something went wrong while trying to fetch the ImageProperties.xml."),console.error(t)}})}var $He=e=>{let{className:t="",onLoad:r,urlImageProperties:n,withImageManipulation:i=!1}=e,o=(0,Sx.useRef)(null);return(0,Sx.useEffect)(()=>{bo(void 0,null,function*(){let d=yield Avr(n),m=new BHe({url:d.url,size:[d.width,d.height],crossOrigin:"anonymous",zDirection:-1}),v=m.getTileGrid().getExtent(),E=new DHe({style:{brightness:["var","brightness"],contrast:["var","contrast"],saturation:["var","saturation"],variables:et({},h2)},source:m}),I=new Ff({resolutions:E.getSource().getTileGrid().getResolutions(),extent:v,constrainOnlyCenter:!0}),M=new $Ge({controls:[new eGe({tipLabel:Ve("control-fullscreen-title")}),new tk({zoomInTipLabel:Ve("control-zoom-in"),zoomOutTipLabel:Ve("control-zoom-in")})],interactions:J5().extend([new K5]),layers:[E],target:o.current,view:I});I.fit(v,{padding:[50,50,50,50]});let L=M.getSize();M.addControl(new GGe({tipLabel:Ve("control-zoomtoextent-title"),extent:I.calculateExtent([L[0]+50,L[1]+50])})),i&&M.addControl(new GHe({layer:E})),r&&r({layer:E,map:M,source:m,zoomifyProps:d})})},[n]),Sx.default.createElement("div",{className:ur("vk-mapview-zoomify",t),ref:o})};$He.propTypes={className:m2.default.string,onLoad:m2.default.func,urlImageProperties:m2.default.string.isRequired,withImageManipulation:m2.default.bool};var WHe=$He;var ZHe=WHe;var YHe=e=>{let{isOpen:t,onClose:r,map_id:n}=e,[i,o]=(0,sn.useState)(null),a=()=>{o(null),r()};if((0,sn.useEffect)(()=>{n!==void 0&&bo(void 0,null,function*(){let L=yield kP(n);o(L)})},[n,o]),i===null)return sn.default.createElement("div",{className:"vkf-view-original-map container"});let c=i.online_resources,d=c.find(M=>M.type==="Permalink"),m=c.find(M=>M.type==="WMS"),v=c.find(M=>M.type==="WCS"),E=c.find(M=>M.type==="download"),I=i.type==="mosaic";return sn.default.createElement(R5,{key:n,modalClassName:ur("vkf-modal-original-map",i.type),onClose:a,renderContent:()=>sn.default.createElement("div",{className:"vkf-view-original-map"},sn.default.createElement("div",{className:"title"},sn.default.createElement("h1",null,i.title," ",sn.default.createElement("small",null,"/ ",i.title_long)),sn.default.createElement("div",{className:"header-functions"},!I&&sn.default.createElement("a",{href:i.permalink,rel:"noreferrer",className:"btn btn-default",target:"_blank"},Ve("originalview-link-slub-label")),E!==void 0&&sn.default.createElement("a",{href:E.url,rel:"noreferrer",className:"btn btn-default btn-download",target:"_blank",title:Ve("originalview-link-download-label")},Ve("originalview-link-download-label")))),i.thumb_url!==void 0&&I&&sn.default.createElement("div",null,sn.default.createElement("img",{className:"thumbnail",height:200,width:200,src:i.thumb_url})),sn.default.createElement("div",{className:"content-metadata"},sn.default.createElement("dl",null,sn.default.createElement("dt",null,Ve("originalview-label-desc")),sn.default.createElement("dd",null,i.description),sn.default.createElement("dt",null,Ve("originalview-label-identifier")),sn.default.createElement("dd",null,n),sn.default.createElement("dt",null,Ve("originalview-label-scale")),sn.default.createElement("dd",null,"1:",i.map_scale),d!==void 0&&sn.default.createElement(sn.default.Fragment,null,sn.default.createElement("dt",null,"Permalink"),sn.default.createElement("dd",null,sn.default.createElement("a",{href:d.url,rel:"noreferrer",target:"_blank"},d.url))),(m!==void 0||v!==void 0)&&sn.default.createElement(sn.default.Fragment,null,sn.default.createElement("dt",null,Ve("originalview-label-services")),m!==void 0&&sn.default.createElement("dd",null,sn.default.createElement("a",{href:m.url,rel:"noreferrer",target:"_blank"},"WMS")),v!==void 0&&sn.default.createElement("dd",null,sn.default.createElement("a",{href:v.url,rel:"noreferrer",target:"_blank"},"WCS"))))),!I&&sn.default.createElement("div",{className:"content-map"},sn.default.createElement(ZHe,{urlImageProperties:i.zoomify_url,withImageManipulation:!0}))),isOpen:t,title:Ve(I?"originalview-title-mosaic":"originalview-title")})};YHe.propTypes={isOpen:gk.default.bool,onClose:gk.default.func,map_id:gk.default.string};var KHe=YHe;var Xo=ee(Le(),1);var $n=ee(Le(),1),v2=ee(Tt(),1);var Mvr=e=>["MultiLineString","LineString"].includes(e),Cvr=e=>["MultiPolygon","Polygon"].includes(e),oQ=e=>Mvr(e)?xn.LINE:Cvr(e)?xn.OUTLINE:xn.LINE,Ex={marker:()=>mo[xn.SYMBOL].COLOR,fill:()=>mo[xn.FILL].COLOR,"fill-opacity":()=>mo[xn.FILL].OPACITY,stroke:e=>{let t=oQ(e);return mo[t].COLOR},"stroke-opacity":e=>{let t=oQ(e);return mo[t].OPACITY},"stroke-width":e=>{let t=oQ(e);return mo[t].WIDTH}},uy={marker:{default:Ex.marker,geometryTypes:["Point","MultiPoint"],inputProps:{type:"color"}},fill:{default:Ex.fill,geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{type:"color"}},"fill-opacity":{default:Ex["fill-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{step:.05,min:0,max:1,type:"number"}},stroke:{default:Ex.stroke,geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{type:"color"}},"stroke-opacity":{default:Ex["stroke-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{max:1,min:0,step:.05,type:"number"}},"stroke-width":{default:Ex["stroke-width"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{step:.1,min:0,max:20,type:"number"}}},vk={img_link:{inputProps:{type:"text"}},title:{inputProps:{type:"text"}},description:{inputProps:{type:"text"}}},aQ=["geometry"],sQ=Object.keys(uy),g2=Object.keys(vk);var XHe=e=>([t,r])=>{let n=e[t];return Object.hasOwn(e,t)&&tr(n)&&n!==""?[t,n]:[t,r]},lQ=e=>{var t;return(t=e==null?void 0:e.geometry)==null?void 0:t.type},Ovr=()=>{let e=Object.values(uy).map(({geometryTypes:r})=>r);return new Set(e.flat(2))},uQ=(()=>{let e=Ovr(),t={};for(let r of e)t[r]=([n])=>sQ.includes(n)&&uy[n].geometryTypes.includes(r);return t})(),Dvr=([e])=>!g2.includes(e),Lvr=([e])=>!aQ.includes(e);var Pvr=e=>{let t=lQ(e),n=Object.entries(e.properties).filter(i=>!uQ[t](i));return Object.fromEntries(n)},Nvr=e=>{let t=lQ(e),n=Object.entries(e.properties).filter(i=>uQ[t](i));return Object.fromEntries(n)},QHe=e=>{let t=lQ(e),r=Nvr(e);return Object.entries(uy).filter(uQ[t]).map(([i,{default:o}])=>[i,o(t)]).map(XHe(r))},JHe=e=>{let t=Pvr(e),n=g2.map(o=>[o,""]).map(XHe(t)),i=Object.entries(t).filter(Dvr).filter(Lvr);return[...n,...i]},cQ=e=>{let t=["marker","stroke","stroke-opacity","stroke-width","fill","fill-opacity","geometry"];return Object.keys(e.properties).filter(n=>!t.includes(n)).reduce((n,i)=>wr(et({},n),{[i]:e.properties[i]}),{})},Rvr=(e,t)=>Object.keys(e).filter(n=>{let i=aQ.includes(n),o=sQ.includes(n),a=!tr(t[n])||t[n]==="";return!i&&!o&&a}),e$e=({oldProperties:e,propertyFields:t,styleFields:r})=>{let n={};t.forEach(([d,m])=>{let v=m==="",E=d==="";tr(d)&&!E&&!v&&(n[d]=m)}),r.forEach(([d,m])=>{n[d]=m});let i=Object.fromEntries(t),o=Rvr(e,i);return{addOrUpdateProperties:Object.entries(n).map(([d,m])=>({key:d,value:m})),removeProperties:o}};var yk=ee(Le(),1);var t$e=ee(Tt(),1);var r$e=({typeOfView:e})=>yk.default.createElement("div",{className:`broken-img-container ${e==="view"?"view":""}`},yk.default.createElement("img",{src:kr.getSettings().FALLBACK_NOT_FOUND,alt:"broken image"}),yk.default.createElement("p",null,Ve("geojson-image-fallback-p"))),n$e=r$e;r$e.propTypes={typeOfView:t$e.default.string};var _k=n$e;var kvr=[...g2,"attribution"],i$e=({feature:e,showPresentationView:t,onEdit:r,onClose:n})=>{let[i,o]=(0,$n.useState)(cQ(e)),[a,c]=(0,$n.useState)(!1),{imageLink:d,title:m,description:v,attribution:E}=(0,$n.useMemo)(()=>({imageLink:i.img_link,title:i.title,description:i.description,attribution:i.attribution}),[i]),I=(0,$n.useMemo)(()=>tr(d)&&d.length>0&&!a,[d,a]),M=(0,$n.useMemo)(()=>Object.entries(i).filter(([L])=>!kvr.includes(L)),[i]);return(0,$n.useEffect)(()=>{o(cQ(e)),c(!1)},[e]),$n.default.createElement("div",{className:"presentation-view"},$n.default.createElement("div",{className:"header-buttons"},t&&$n.default.createElement($n.default.Fragment,null,$n.default.createElement("button",{className:"btn btn-xs",onClick:r},$n.default.createElement("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"})),$n.default.createElement("button",{className:"btn btn-xs",onClick:n,title:Ve("mapsearch-facetedsearch-close")},$n.default.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"})))),$n.default.createElement("div",{className:"image-container"},I&&$n.default.createElement("img",{src:d,className:"image",onError:()=>c(!0)}),a&&$n.default.createElement(_k,{typeOfView:"view"})),$n.default.createElement("div",{className:`header-container ${d?"":"no-image"}`},$n.default.createElement("h2",{className:"title"},m!=null?m:Ve("geojson-featureview-no-title")),$n.default.createElement("p",{className:"description body2"},v!=null?v:Ve("geojson-featureview-no-description")),tr(E)&&$n.default.createElement("p",{className:"attribution"},E)),$n.default.createElement("div",{className:"metadata-container"},M.length>0&&$n.default.createElement("h3",null,Ve("geojson-featureview-metadata")),M.map(([L,R])=>$n.default.createElement("div",{key:L},$n.default.createElement("label",{htmlFor:L},L),$n.default.createElement("p",{className:"body1",key:L},R)))))};i$e.propTypes={feature:v2.default.any,showPresentationView:v2.default.bool,onEdit:v2.default.func,onClose:v2.default.func};var o$e=i$e;var a$e=o$e;var gn=ee(Le(),1);var yd=ee(Tt(),1);var s$e=ee(Le(),1),y2=ee(Tt(),1);function cy(e){let{children:t,className:r="",onClick:n,type:i="default"}=e;return s$e.default.createElement(Ec,{className:`vkf-button-base vkf-button-${i} ${r}`,onClick:n,type:"button"},t)}cy.propTypes={children:y2.default.node.isRequired,className:y2.default.string,onClick:y2.default.func.isRequired,type:y2.default.oneOf(["primary","default"])};var fQ=cy;var fy=ee(Le(),1);var xk=ee(Tt(),1);var l$e=({show:e,onClose:t,onDelete:r})=>fy.default.createElement(Za,{show:e,onHide:t,className:"vkf-delete-dialog"},fy.default.createElement(qv,{closeButton:!0}),fy.default.createElement(Rv,null,Ve("geojson-deletemodal-body")),fy.default.createElement(kv,null,fy.default.createElement(cy,{className:"delete-btn",onClick:r,type:"primary"},Ve("geojson-deletemodal-delete-btn")),fy.default.createElement(cy,{className:"cancel-btn",onClick:t,type:"default"},Ve("geojson-featureview-cancel-btn"))));l$e.propTypes={show:xk.default.bool,onClose:xk.default.func,onDelete:xk.default.func};var u$e=l$e;var c$e=u$e;var hi=ee(Le(),1),ns=ee(Tt(),1);var pQ="FF",dQ=e=>Number(e.toFixed(0)).toString(16).padStart(2,"0"),qvr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.split("(")[1].split(")")[0].split(",").map(n=>parseInt(n,10)).map(dQ).join("");return t?`#${r}${pQ}`:`#${r}`},jvr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.split("(")[1].split(")")[0].split(","),n=r.slice(0,3).map(o=>parseInt(o,10)).map(dQ).join(""),i=dQ(parseFloat(r[3])*255);return t?`#${n}${i}`:`#${n}`},zvr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.trim();if(r.startsWith("rgba"))return jvr(r,{useAlpha:t});if(r.startsWith("rgb"))return qvr(r,{useAlpha:t});if(r.startsWith("#"))if(e.length===4){let n=e.slice(1,3).map(i=>`${i}${i}`);return t?`#${n}${pQ}`:`#${n}`}else{if(e.length===7)return t?`${e}${pQ}`:e;if(e.length===9)return t?e:e.slice(0,7)}throw new Error("Unknown color format")},Fvr=e=>{let t={blue:"#0000ff",green:"#008000",orange:"#ffa500",pink:"#ffc0cb",yellow:"#ffff00"};if(!tr(e)&&typeof e!="string")throw new Error("No input specified");let r=e.trim().toLowerCase();if(!Object.hasOwn(t,r))throw new Error("No matching legacy color found");return t[r]},f$e=e=>{let t=e;try{t=zvr(e)}catch(r){t=Fvr(e)}return t};var p$e=e=>{let{isHeaderEditable:t,onBlur:r,onChange:n,onDelete:i,title:o,inputProps:a={},value:c}=e,[d,m]=(0,hi.useState)(o==="img_link"?c:""),v=(0,hi.useRef)(),E=(0,hi.useRef)(),I=(0,hi.useMemo)(()=>tr(c)&&c.length>30,[c]),M=(0,hi.useCallback)(j=>{let{type:B,min:Z,max:re}=a,Q=j;if(B==="number")Q=Number.parseFloat(Q),Q=Number.isNaN(Q)?1:Q,tr(Z)&&(Q=Math.max(Z,Q)),tr(re)&&(Q=Math.min(re,Q));else if(B==="color")try{Q=f$e(Q)}catch(oe){Q=mo[xn.SYMBOL].COLOR}return Q},[a]),L=(0,hi.useMemo)(()=>M(c),[c,M]),R=(0,hi.useCallback)(j=>B=>{let Z=v.current.value,re=M(E.current.value);B.target.value=re,j==="title"&&(B.target.value=Z),tr(r)&&r([Z,re]),Z==="img_link"&&m(re)},[M,r,m]),P=(0,hi.useCallback)(j=>{if(tr(n)){let B=M(j.target.value);n([o,B])}},[M,n]),q=(0,hi.useCallback)(()=>{i()},[i]);return(0,hi.useEffect)(()=>{},[d]),hi.default.createElement("div",{className:"feature-edit-input-field"},d&&d!=="broken"?hi.default.createElement("div",{className:"img-container"},hi.default.createElement("label",{className:"body1",htmlFor:"image"},Ve("geojson-featureview-image-title")),hi.default.createElement("img",{src:d,className:"image",id:"image",onError:()=>m("broken")})):null,d==="broken"&&hi.default.createElement(_k,null),hi.default.createElement("div",{className:"input-field"},hi.default.createElement("input",{className:"editable-label body1",onBlur:t?R("title"):void 0,type:"text",defaultValue:o,readOnly:!t,ref:v}),t&&hi.default.createElement("button",{className:"btn btn-xs",onClick:q},hi.default.createElement("span",{className:"glyphicon glyphicon-minus","aria-hidden":"true"}))),I?hi.default.createElement("textarea",wr(et({className:"body2"},a),{defaultValue:L,onChange:P,onBlur:R("value"),ref:E,rows:Math.ceil(L.length/20)})):hi.default.createElement("input",wr(et({className:"body2"},a),{defaultValue:L,onChange:P,onBlur:R("value"),ref:E})))};p$e.propTypes={debounceChanges:ns.default.bool,error:ns.default.bool,inputProps:ns.default.shape({max:ns.default.number,min:ns.default.number,step:ns.default.number,type:ns.default.string}),isHeaderEditable:ns.default.bool,onBlur:ns.default.func,onChange:ns.default.func,onDelete:ns.default.func,title:ns.default.oneOfType([ns.default.string,ns.default.array]),value:ns.default.any};var d$e=p$e;var hQ=d$e;var h$e=e=>{let{feature:t,onFeatureStateChange:r,onDelete:n,onClose:i,onSave:o}=e,[a,c]=(0,gn.useState)(JHe(t)),[d,m]=(0,gn.useState)(QHe(t)),v=(0,gn.useRef)(!1),[E,I]=(0,gn.useState)(!1);(0,gn.useEffect)(()=>()=>{v.current||q()},[]);let M=(0,gn.useCallback)((Q,oe)=>me=>{let[pe,Ae]=me;m(Fe=>{let $e=[...Fe];return $e[oe]=[pe,Ae],$e}),r({[Q]:Ae})},[m,r]),L=(0,gn.useCallback)(Q=>oe=>{c(me=>{let pe=[...me];return pe[Q]=oe,pe})},[c]),R=(0,gn.useCallback)(()=>{c(Q=>{let me=`label-${Q.filter(([pe])=>pe.startsWith("label-")).length+1}`;return[...Q,[me,""]]})},[c]),P=(0,gn.useCallback)(Q=>()=>{c(oe=>{let me=[...oe];return me.splice(Q,1),me})},[c]),q=(0,gn.useCallback)(()=>{i({doRemoveFeatureState:!0})},[i]),j=(0,gn.useCallback)(()=>{v.current=!0;let Q=e$e({oldProperties:t.properties,propertyFields:a,styleFields:d});o(Q)},[o,t,a,d]),B=(0,gn.useCallback)(()=>{I(!0)},[I]),Z=(0,gn.useCallback)(()=>{I(!1)},[I]),re=(0,gn.useCallback)(()=>{n(t),I(!1)},[n,I]);return gn.default.createElement("div",{className:"feature-edit-field"},gn.default.createElement("div",{className:"header"},gn.default.createElement("p",{className:"body1"},Ve("geojson-featureview-header"))),gn.default.createElement("div",{className:"property-container"},gn.default.createElement("div",{className:"style-property-container"},d.map((Q,oe)=>{let[me,pe]=Q,{inputProps:Ae}=uy[me];return gn.default.createElement(hQ,{onChange:M(me,oe),onBlur:M(me,oe),key:me,isHeaderEditable:!1,title:me,inputProps:Ae,value:pe})})),gn.default.createElement("div",{className:"none-style-property-container"},a.map((Q,oe)=>{var $e;let[me,pe]=Q,Ae=tr(vk[me]),Fe=($e=vk[me])==null?void 0:$e.inputProps;return gn.default.createElement(hQ,{onBlur:L(oe),key:me,isHeaderEditable:!Ae,title:me,inputProps:Fe,value:pe,onDelete:Ae?void 0:P(oe)})})),gn.default.createElement("div",{className:"add-new-field-btn"},gn.default.createElement("button",{className:"btn btn-xs",onClick:R},gn.default.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"})))),gn.default.createElement("div",{className:"footer-container"},gn.default.createElement("div",null,gn.default.createElement(fQ,{className:"cancel-btn",onClick:q,type:"default"},Ve("geojson-featureview-cancel-btn")),gn.default.createElement(fQ,{className:"save-btn",onClick:j,type:"primary"},Ve("geojson-featureview-save-btn"))),gn.default.createElement(Ec,{className:"delete-btn",onClick:B},Ve("geojson-featureview-delete-btn"))),E&&gn.default.createElement(c$e,{show:E,onClose:Z,onDelete:re}))};h$e.propTypes={feature:yd.default.shape({id:yd.default.number.isRequired,geometry:yd.default.object.isRequired,properties:yd.default.object.isRequired}).isRequired,onFeatureStateChange:yd.default.func,onClose:yd.default.func,onDelete:yd.default.func,onSave:yd.default.func};var m$e=h$e;var g$e=m$e;var $u=ee(Le(),1);var Bvr=e=>{var t;return tr((t=e.layer.metadata)==null?void 0:t[Up.id])},v$e=(e,t)=>`${e}-${t}`,Uvr=(e,t)=>{let{x:r,y:n}=e;return[[r-t,n-t],[r+t,n+t]]};function Vvr({map:e,layout:t}){let[r,n]=(0,$u.useState)(null),[i,o]=(0,$u.useState)(null),a=(0,$u.useRef)(null),c=(0,$u.useRef)(null),d=(0,$u.useCallback)(()=>{tr(c.current)&&e.removeFeatureState(c.current)},[e]),m=(0,$u.useCallback)(()=>{a.current=null,d(),n(null),o(null)},[o,n]),v=(0,$u.useCallback)(E=>{let{point:I}=E,M=Uvr(I,2),L=e.queryRenderedFeatures(M).filter(Bvr).at(0);if(tr(L)){let{id:R,source:P}=L;if((a==null?void 0:a.current)===v$e(R,P))return;n(L),o(P),a.current=v$e(R,P),c.current={id:R,source:P}}else m()},[e]);return(0,$u.useEffect)(()=>{if(tr(e)&&t===rl.HORIZONTAL)return e.on("click",v),()=>{e.off("click",v)}},[e,t,v]),{geoJsonFeature:r,setGeoJsonFeature:n,sourceId:i,resetClickedFeature:m,removeFeatureState:d}}var y$e=Vvr;var Gvr=()=>{let[e,t]=(0,Xo.useState)(!0),r=Vt($r),n=Vt(c1),i=Vt(li),{geoJsonFeature:o,setGeoJsonFeature:a,sourceId:c,resetClickedFeature:d,removeFeatureState:m}=y$e({map:r,layout:n});(0,Xo.useEffect)(()=>{t(!0)},[t,o]);let v=(0,Xo.useMemo)(()=>i.find(j=>j.getId()===c),[o,i,c]),E=(0,Xo.useMemo)(()=>r.getSource(c),[r,c]),I=(0,Xo.useCallback)(j=>{let B=c,Z=o.id;r.setFeatureState({source:B,id:Z},j)},[r,c,o]),M=(0,Xo.useCallback)(({doRemoveFeatureState:j}={doRemoveFeatureState:!0})=>{j&&m(),t(!0)},[t,m]),L=(0,Xo.useCallback)(({addOrUpdateProperties:j,removeProperties:B})=>{let Z=o.id,re={update:[{id:o.id,addOrUpdateProperties:j,removeProperties:B}]};E.updateData(re).getData().then(Q=>{let oe=Q.features.findIndex(me=>me.id===Z);if(oe<0){console.error(`Cannot save feature with inexisting id '${Z}'.`);return}v.setGeoJSON(Q),a(Q.features[oe]),M({doRemoveFeatureState:!1})})},[o,E,v,a,M]),R=(0,Xo.useCallback)(()=>{d()},[d]),P=(0,Xo.useCallback)(()=>{t(!1)},[t]),q=(0,Xo.useCallback)(j=>{let{id:B}=j;E.updateData({remove:[B]}),v.removeFeature(B),R()},[E,v,R]);return Xo.default.createElement("div",{className:ur("vkf-geojson-view-root",o!==null&&"in")},o!==null&&e&&Xo.default.createElement(a$e,{feature:o,showPresentationView:e,onEdit:P,onClose:R}),o!==null&&!e&&Xo.default.createElement(g$e,{feature:o,onFeatureStateChange:I,onDelete:q,onClose:M,onSave:L}))},_$e=Gvr;var mQ=({onAddGeoJson:e})=>{let[t,r]=Fi(bP),n=(0,Wu.useRef)(null);p1(n,"spatialtemporalsearch");let i=()=>r(void 0);return Wu.default.createElement(Wu.default.Fragment,null,Wu.default.createElement("div",{className:"vkf-horizontal-layout"},Wu.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container",ref:n},Wu.default.createElement($9e,null)),Wu.default.createElement(_$e,null),Wu.default.createElement("div",{className:"layermanagement-container",id:"layermanagement-container"},Wu.default.createElement(b5,{onAddGeoJson:e}))),Wu.default.createElement(KHe,{onClose:i,isOpen:t!==void 0,map_id:t}))};mQ.propTypes={onAddGeoJson:x$e.default.func};var Mo=ee(Le(),1);var Ki=ee(Le(),1),Sk=ee(Tt(),1);var gQ=ee(Le(),1),vQ=ee(Tt(),1);var b$e=({onClick:e})=>gQ.default.createElement("button",{className:"vkf-toggle-search-button",onClick:e,title:"toggle search"},gQ.default.createElement(zu,{name:"icon-search"}));b$e.propTypes={isOpen:vQ.default.bool,onClick:vQ.default.func};var w$e=b$e;var bk=ee(Le(),1),wk=ee(Tt(),1);var yQ=({disabled:e,onClick:t,isOpen:r})=>bk.default.createElement("button",{className:ur("vkf-toggle-search-result-list",r?"open":"closed",e&&"disabled"),disabled:e,onClick:t},bk.default.createElement("div",{className:"background"}),bk.default.createElement("div",{className:"chevron"}));yQ.propTypes={disabled:wk.default.bool,isOpen:wk.default.bool,onClick:wk.default.func};var S$e=({enableReopenResultList:e=!0,onToggleFacets:t,showFacets:r})=>{let n=Vt(f1),[i,o]=(0,Ki.useState)(!1),[a,c]=(0,Ki.useState)(!1),d=Vt(vf),[m,v]=(0,Ki.useState)(!1),E=()=>{o(L=>!L)},I=()=>{c(L=>!L)};(0,Ki.useEffect)(()=>{n===0&&i?(o(!1),v(!0)):e&&n>0&&m&&(o(!0),v(!1))},[n]);let M=i?"show-search-result-list":"hide-search-result-list";return Ki.default.createElement(Ki.Fragment,null,Ki.default.createElement("div",{className:"vkf-search-header"},Ki.default.createElement("div",{className:"top-container"},Ki.default.createElement("div",{className:"result-summary"},n===0?Ve("mapsearch-found-no-maps"):`${n} ${Ve("mapsearch-found-maps")}`),Ki.default.createElement("div",{className:"controls-container"},Ki.default.createElement(KR,{onClick:t,isOpen:r}),Ki.default.createElement(w$e,{onClick:I,isOpen:a}))),a&&Ki.default.createElement("div",{className:"bottom-container"},Ki.default.createElement(P5,{searchUrl:kr.getNominatimUrl()}),Ki.default.createElement(w5,{timeRange:d}))),Ki.default.createElement(yQ,{disabled:n===0,onClick:E,isOpen:i}),Ki.default.createElement("div",{className:ur("vkf-search-result-container",M)},Ki.default.createElement(ZR,{enableOverlayLayer:!1,DataProvider:QR,direction:"horizontal",itemSize:170,renderHeader:!1})))};S$e.propTypes={enableReopenResultList:Sk.default.bool,onToggleFacets:Sk.default.func,showFacets:Sk.default.bool};var E$e=S$e;var Ek=ee(Le(),1);var _Q=ee(Tt(),1);var I$e=({buttonState:e,onClick:t})=>{let r=Vt(li),n=r.length===0;return Ek.default.createElement("button",{className:ur("vkf-toggle-layermanagement-button",!n&&e&&"opened",n&&"disabled"),disabled:n,onClick:t},!n&&Ek.default.createElement("span",{className:"badge"},r.length),Ek.default.createElement(zu,{name:"layers"}))};I$e.propTypes={buttonState:_Q.default.bool,onClick:_Q.default.func};var T$e=I$e;var A$e=b5;var M$e=ee(Le(),1),C$e=ee(Tt(),1),O$e=({onCloseLayerManagement:e})=>{let t=Vt(li);return(0,M$e.useEffect)(()=>{t.length===0&&e()},[t]),null};O$e.propTypes={onCloseLayerManagement:C$e.default.func.isRequired};var D$e=O$e;var Hvr=()=>{let e=cn(u1),[t,r]=(0,Mo.useState)(!1),[n,i]=(0,Mo.useState)(!1),o=(0,Mo.useCallback)(()=>{i(!1)},[]),a=(0,Mo.useCallback)(()=>{i(d=>!d)},[]),c=()=>{r(d=>!d)};return(0,Mo.useEffect)(()=>{e(d=>Object.assign({},d,{spatialtemporalsearch:{height:0,width:0},layermanagement:{height:0,width:0}}))},[]),Mo.default.createElement(Mo.default.Fragment,null,Mo.default.createElement(D$e,{onCloseLayerManagement:o}),Mo.default.createElement("div",{className:"vkf-vertical-layout"},Mo.default.createElement(E$e,{onToggleFacets:c,showFacets:t}),Mo.default.createElement(T$e,{buttonState:n,onClick:a}),Mo.default.createElement("div",{className:ur("layermanagement-container",!n&&"closed")},Mo.default.createElement(A$e,{showControls:{showBadge:!1,showDynamicMapVisualization:!1,showHideButton:!0}}))),Mo.default.createElement(R5,{modalClassName:"faceted-search-modal",onClose:c,renderContent:()=>Mo.default.createElement(zR,{georeferenceMode:!1}),isOpen:t,title:"Filter"}))},xQ=Hvr;var $f=ee(Le(),1);var NWe=ee(Tt(),1);var Rc=ee(Le(),1),qk=ee(Tt(),1);function bQ(e){var t=null,r=function(){return t==null&&(t=e()),t};return r}function L$e(e,t){return e.filter(function(r){return r!==t})}function P$e(e,t){var r=new Set,n=function(a){return r.add(a)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(o){return i.push(o)}),i}function $vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wvr(e,t,r){return t&&N$e(e.prototype,t),r&&N$e(e,r),e}function R$e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k$e=function(){function e(t){$vr(this,e),R$e(this,"entered",[]),R$e(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return Wvr(e,[{key:"enter",value:function(r){var n=this,i=this.entered.length,o=function(c){return n.isNodeInDocument(c)&&(!c.contains||c.contains(r))};return this.entered=P$e(this.entered.filter(o),[r]),i===0&&this.entered.length>0}},{key:"leave",value:function(r){var n=this.entered.length;return this.entered=L$e(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}();var q$e=bQ(function(){return /firefox/i.test(navigator.userAgent)}),wQ=bQ(function(){return!!window.safari});function Zvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yvr(e,t,r){return t&&j$e(e.prototype,t),r&&j$e(e,r),e}function _2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SQ=function(){function e(t,r){Zvr(this,e),_2(this,"xs",void 0),_2(this,"ys",void 0),_2(this,"c1s",void 0),_2(this,"c2s",void 0),_2(this,"c3s",void 0);for(var n=t.length,i=[],o=0;o<n;o++)i.push(o);i.sort(function(pe,Ae){return t[pe]<t[Ae]?-1:1});for(var a=[],c=[],d=[],m,v,E=0;E<n-1;E++)m=t[E+1]-t[E],v=r[E+1]-r[E],c.push(m),a.push(v),d.push(v/m);for(var I=[d[0]],M=0;M<c.length-1;M++){var L=d[M],R=d[M+1];if(L*R<=0)I.push(0);else{m=c[M];var P=c[M+1],q=m+P;I.push(3*q/((q+P)/L+(q+m)/R))}}I.push(d[d.length-1]);for(var j=[],B=[],Z,re=0;re<I.length-1;re++){Z=d[re];var Q=I[re],oe=1/c[re],me=Q+I[re+1]-Z-Z;j.push((Z-Q-me)*oe),B.push(me*oe*oe)}this.xs=t,this.ys=r,this.c1s=I,this.c2s=j,this.c3s=B}return Yvr(e,[{key:"interpolate",value:function(r){var n=this.xs,i=this.ys,o=this.c1s,a=this.c2s,c=this.c3s,d=n.length-1;if(r===n[d])return i[d];for(var m=0,v=c.length-1,E;m<=v;){E=Math.floor(.5*(m+v));var I=n[E];if(I<r)m=E+1;else if(I>r)v=E-1;else return i[E]}d=Math.max(0,v);var M=r-n[d],L=M*M;return i[d]+o[d]*M+a[d]*L+c[d]*M*L}}]),e}();var Kvr=1;function EQ(e){var t=e.nodeType===Kvr?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,i=r.left;return{x:i,y:n}}function x2(e){return{x:e.clientX,y:e.clientY}}function Xvr(e){var t;return e.nodeName==="IMG"&&(q$e()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function Qvr(e,t,r,n){var i=e?t.width:r,o=e?t.height:n;return wQ()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function z$e(e,t,r,n,i){var o=Xvr(t),a=o?e:t,c=EQ(a),d={x:r.x-c.x,y:r.y-c.y},m=e.offsetWidth,v=e.offsetHeight,E=n.anchorX,I=n.anchorY,M=Qvr(o,t,m,v),L=M.dragPreviewWidth,R=M.dragPreviewHeight,P=function(){var oe=new SQ([0,.5,1],[d.y,d.y/v*R,d.y+R-v]),me=oe.interpolate(I);return wQ()&&o&&(me+=(window.devicePixelRatio-1)*R),me},q=function(){var oe=new SQ([0,.5,1],[d.x,d.x/m*L,d.x+L-m]);return oe.interpolate(E)},j=i.offsetX,B=i.offsetY,Z=j===0||j,re=B===0||B;return{x:Z?j:q(),y:re?B:P()}}var Fm={};Lee(Fm,{FILE:()=>IQ,HTML:()=>MQ,TEXT:()=>AQ,URL:()=>TQ});var IQ="__NATIVE_FILE__",TQ="__NATIVE_URL__",AQ="__NATIVE_TEXT__",MQ="__NATIVE_HTML__";function Ik(e,t,r){var n=t.reduce(function(i,o){return i||e.getData(o)},"");return n!=null?n:r}var Ix;function Tk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ak=(Ix={},Tk(Ix,IQ,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),Tk(Ix,MQ,{exposeProperties:{html:function(t,r){return Ik(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),Tk(Ix,TQ,{exposeProperties:{urls:function(t,r){return Ik(t,r,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),Tk(Ix,AQ,{exposeProperties:{text:function(t,r){return Ik(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),Ix);function Jvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eyr(e,t,r){return t&&F$e(e.prototype,t),r&&F$e(e,r),e}function B$e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U$e=function(){function e(t){Jvr(this,e),B$e(this,"item",void 0),B$e(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return eyr(e,[{key:"initializeExposedProperties",value:function(){var r=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(r.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,"\" until the drop event.")),null}})})}},{key:"loadDataTransfer",value:function(r){var n=this;if(r){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:n.config.exposeProperties[o](r,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(r,n){return n===r.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function V$e(e,t){var r=new U$e(Ak[e]);return r.loadDataTransfer(t),r}function Mk(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ak).filter(function(r){var n=Ak[r].matchesTypes;return n.some(function(i){return t.indexOf(i)>-1})})[0]||null}function tyr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ryr(e,t,r){return t&&G$e(e.prototype,t),r&&G$e(e,r),e}function CQ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H$e=function(){function e(t,r){tyr(this,e),CQ(this,"ownerDocument",null),CQ(this,"globalContext",void 0),CQ(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=r}return ryr(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){var r;return(r=this.globalContext)!==null&&r!==void 0&&r.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}}]),e}();function $$e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W$e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$$e(Object(r),!0).forEach(function(n){dn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$$e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nyr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iyr(e,t,r){return t&&Z$e(e.prototype,t),r&&Z$e(e,r),e}function dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y$e=function(){function e(t,r,n){var i=this;nyr(this,e),dn(this,"options",void 0),dn(this,"actions",void 0),dn(this,"monitor",void 0),dn(this,"registry",void 0),dn(this,"enterLeaveCounter",void 0),dn(this,"sourcePreviewNodes",new Map),dn(this,"sourcePreviewNodeOptions",new Map),dn(this,"sourceNodes",new Map),dn(this,"sourceNodeOptions",new Map),dn(this,"dragStartSourceIds",null),dn(this,"dropTargetIds",[]),dn(this,"dragEnterTargetIds",[]),dn(this,"currentNativeSource",null),dn(this,"currentNativeHandle",null),dn(this,"currentDragSourceNode",null),dn(this,"altKeyPressed",!1),dn(this,"mouseMoveTimeoutTimer",null),dn(this,"asyncEndDragFrameId",null),dn(this,"dragOverTargetIds",null),dn(this,"lastClientOffset",null),dn(this,"hoverRafId",null),dn(this,"getSourceClientOffset",function(o){var a=i.sourceNodes.get(o);return a&&EQ(a)||null}),dn(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),dn(this,"isNodeInDocument",function(o){return!!(o&&i.document&&i.document.body&&i.document.body.contains(o))}),dn(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),dn(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),dn(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var a=i.dragStartSourceIds;i.dragStartSourceIds=null;var c=x2(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:c});var d=o.dataTransfer,m=Mk(d);if(i.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){var v=i.monitor.getSourceId(),E=i.sourceNodes.get(v),I=i.sourcePreviewNodes.get(v)||E;if(I){var M=i.getCurrentSourcePreviewNodeOptions(),L=M.anchorX,R=M.anchorY,P=M.offsetX,q=M.offsetY,j={anchorX:L,anchorY:R},B={offsetX:P,offsetY:q},Z=z$e(E,I,c,j,B);d.setDragImage(I,Z.x,Z.y)}}try{d==null||d.setData("application/json",{})}catch(oe){}i.setCurrentDragSourceNode(o.target);var re=i.getCurrentSourcePreviewNodeOptions(),Q=re.captureDraggingState;Q?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(m)i.beginDragNativeItem(m);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),dn(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),dn(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var a=i.enterLeaveCounter.enter(o.target);if(!(!a||i.monitor.isDragging())){var c=o.dataTransfer,d=Mk(c);d&&i.beginDragNativeItem(d,c)}}),dn(this,"handleTopDragEnter",function(o){var a=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,a.length>0&&i.actions.hover(a,{clientOffset:x2(o)});var c=a.some(function(d){return i.monitor.canDropOnTarget(d)});c&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),dn(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),dn(this,"handleTopDragOver",function(o){var a=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=x2(o),i.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(a||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var c=(a||[]).some(function(d){return i.monitor.canDropOnTarget(d)});c?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),dn(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var a=i.enterLeaveCounter.leave(o.target);a&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),dn(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var a;o.preventDefault(),(a=i.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else Mk(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),dn(this,"handleTopDrop",function(o){var a=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(a,{clientOffset:x2(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),dn(this,"handleSelectStart",function(o){var a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))}),this.options=new H$e(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new k$e(this.isNodeInDocument)}return iyr(e,[{key:"profile",value:function(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}},{key:"teardown",value:function(){var r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(r,n,i){var o=this;return this.sourcePreviewNodeOptions.set(r,i),this.sourcePreviewNodes.set(r,n),function(){o.sourcePreviewNodes.delete(r),o.sourcePreviewNodeOptions.delete(r)}}},{key:"connectDragSource",value:function(r,n,i){var o=this;this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,i);var a=function(m){return o.handleDragStart(m,r)},c=function(m){return o.handleSelectStart(m)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",c),function(){o.sourceNodes.delete(r),o.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",c),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(r,n){var i=this,o=function(m){return i.handleDragEnter(m,r)},a=function(m){return i.handleDragOver(m,r)},c=function(m){return i.handleDrop(m,r)};return n.addEventListener("dragenter",o),n.addEventListener("dragover",a),n.addEventListener("drop",c),function(){n.removeEventListener("dragenter",o),n.removeEventListener("dragover",a),n.removeEventListener("drop",c)}}},{key:"addEventListeners",value:function(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return W$e({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return W$e({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(Fm).some(function(n){return Fm[n]===r})}},{key:"beginDragNativeItem",value:function(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=V$e(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(r){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=n.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(r,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(r,n){this.dropTargetIds.unshift(n)}}]),e}();var K$e=function(t,r,n){return new Y$e(t,r,n)};function X$e(e,t,...r){if(oyr()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function oyr(){return typeof process!="undefined"&&!0}var _d;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(_d||(_d={}));var ayr={Left:1,Right:2,Center:4},syr={Left:0,Center:1,Right:2};function Ck(e){return e.button===void 0||e.button===syr.Left}function Q$e(e){return e.buttons===void 0||(e.buttons&ayr.Left)===0}function Ok(e){return!!e.targetTouches}var lyr=1;function J$e(e){let t=e.nodeType===lyr?e:e.parentElement;if(!t)return;let{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function uyr(e,t){if(e.targetTouches.length===1)return b2(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return b2(e.touches[0])}function b2(e,t){return Ok(e)?uyr(e,t):{x:e.clientX,y:e.clientY}}function eWe(e,t,r,n){return Math.sqrt(Math.pow(Math.abs(r-e),2)+Math.pow(Math.abs(n-t),2))}function tWe(e,t,r,n,i){if(!i)return!1;let o=Math.atan2(n-t,r-e)*180/Math.PI+180;for(let a=0;a<i.length;++a){let c=i[a];if(c&&(c.start==null||o>=c.start)&&(c.end==null||o<=c.end))return!0}return!1}var OQ=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch(t){}return e})();var Dk=class{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,r){this.args=t,this.context=r}};var w2={[_d.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[_d.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[_d.keyboard]:{keydown:"keydown"}},Lk=class e{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){let t=this.options.rootElement;t&&(X$e(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){let t=this.options.rootElement;t&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,r,n,i=!1){let o=OQ?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(a){let c=w2[a][r];c&&t.addEventListener(c,n,o)})}removeEventListener(t,r,n,i=!1){let o=OQ?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(a){let c=w2[a][r];c&&t.removeEventListener(c,n,o)})}connectDragSource(t,r){let n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(r,"start",n)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,r){let n=this.options.rootElement;if(!this.document||!n)return()=>{};let i=o=>{if(!this.document||!n||!this.monitor.isDragging())return;let a;switch(o.type){case w2.mouse.move:a={x:o.clientX,y:o.clientY};break;case w2.touch.move:var c,d;a={x:((c=o.touches[0])===null||c===void 0?void 0:c.clientX)||0,y:((d=o.touches[0])===null||d===void 0?void 0:d.clientY)||0};break;}let m=a!=null?this.document.elementFromPoint(a.x,a.y):void 0,v=m&&r.contains(m);if(m===r||v)return this.handleMove(o,t)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,r),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,r,n){this.getSourceClientOffset=i=>{let o=this.sourceNodes.get(i);return o&&J$e(o)},this.handleTopMoveStartCapture=i=>{Ck(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!Ck(i))return;let o=b2(i);o&&(Ok(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=o),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!Ck(i))return;let o=i.type===w2.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),o),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,o)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(o)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;let{moveStartSourceIds:o,dragOverTargetIds:a}=this,c=this.options.enableHoverOutsideTarget,d=b2(i,this.lastTargetTouchFallback);if(!d)return;if(this._isScrolling||!this.monitor.isDragging()&&tWe(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,d.x,d.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&eWe(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,d.x,d.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;let m=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(m),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();let v=(a||[]).map(L=>this.targetNodes.get(L)).filter(L=>!!L),E=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(d.x,d.y,v):this.document.elementsFromPoint(d.x,d.y),I=[];for(let L in E){if(!E.hasOwnProperty(L))continue;let R=E[L];for(R!=null&&I.push(R);R;)R=R.parentElement,R&&I.indexOf(R)===-1&&I.push(R)}let M=I.filter(L=>v.indexOf(L)>-1).map(L=>this._getDropTargetId(L)).filter(L=>!!L).filter((L,R,P)=>P.indexOf(L)===R);if(c)for(let L in this.targetNodes){let R=this.targetNodes.get(L);if(m&&R&&R.contains(m)&&M.indexOf(L)===-1){M.unshift(L);break}}M.reverse(),this.actions.hover(M,{clientOffset:d})},this._getDropTargetId=i=>{let o=this.targetNodes.keys(),a=o.next();for(;a.done===!1;){let c=a.value;if(i===this.targetNodes.get(c))return c;a=o.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Q$e(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Dk(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(_d.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(_d.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(_d.keyboard)}};var rWe=function(t,r={},n={}){return new Lk(t,r,n)};function DQ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cyr(e,t,r){fyr(e,t),t.set(e,r)}function fyr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pk(e,t){var r=nWe(e,t,"get");return pyr(e,r)}function pyr(e,t){return t.get?t.get.call(e):t.value}function dyr(e,t,r){var n=nWe(e,t,"set");return hyr(e,n,r),r}function nWe(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function hyr(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var Tx=new WeakMap,Nk=class{constructor(){cyr(this,Tx,{writable:!0,value:void 0}),DQ(this,"register",t=>{Pk(this,Tx).push(t)}),DQ(this,"unregister",t=>{let r;for(;(r=Pk(this,Tx).indexOf(t))!==-1;)Pk(this,Tx).splice(r,1)}),DQ(this,"backendChanged",t=>{for(let r of Pk(this,Tx))r.backendChanged(t)}),dyr(this,Tx,[])}};function Nc(e,t,r){myr(e,t),t.set(e,r)}function myr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wr(e,t){var r=sWe(e,t,"get");return gyr(e,r)}function gyr(e,t){return t.get?t.get.call(e):t.value}function Ax(e,t,r){var n=sWe(e,t,"set");return vyr(e,n,r),r}function sWe(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function vyr(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var Zu=new WeakMap,Rk=new WeakMap,Yu=new WeakMap,Bm=new WeakMap,py=new WeakMap,iWe=new WeakMap,oWe=new WeakMap,aWe=new WeakMap,LQ=new WeakMap,PQ=new WeakMap,kk=new WeakMap,S2=class e{constructor(t,r,n){if(Nc(this,Zu,{writable:!0,value:void 0}),Nc(this,Rk,{writable:!0,value:void 0}),Nc(this,Yu,{writable:!0,value:void 0}),Nc(this,Bm,{writable:!0,value:void 0}),Nc(this,py,{writable:!0,value:void 0}),Nc(this,iWe,{writable:!0,value:(i,o,a)=>{var c,d;if(!a.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(a)));let m=a.backend(i,o,a.options),v=a.id,E=!a.id&&m&&m.constructor;if(E&&(v=m.constructor.name),v)E&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(a),`
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`));if(Wr(this,Yu)[v])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        `.concat(JSON.stringify(a)," (conflicts with: ").concat(JSON.stringify(Wr(this,Yu)[v]),")"));return{id:v,instance:m,preview:(c=a.preview)!==null&&c!==void 0?c:!1,transition:a.transition,skipDispatchOnTransition:(d=a.skipDispatchOnTransition)!==null&&d!==void 0?d:!1}}}),Vf(this,"setup",()=>{if(typeof window!="undefined"){if(e.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");e.isSetUp=!0,Wr(this,oWe).call(this,window),Wr(this,Yu)[Wr(this,Zu)].instance.setup()}}),Vf(this,"teardown",()=>{typeof window!="undefined"&&(e.isSetUp=!1,Wr(this,aWe).call(this,window),Wr(this,Yu)[Wr(this,Zu)].instance.teardown())}),Vf(this,"connectDragSource",(i,o,a)=>Wr(this,kk).call(this,"connectDragSource",i,o,a)),Vf(this,"connectDragPreview",(i,o,a)=>Wr(this,kk).call(this,"connectDragPreview",i,o,a)),Vf(this,"connectDropTarget",(i,o,a)=>Wr(this,kk).call(this,"connectDropTarget",i,o,a)),Vf(this,"profile",()=>Wr(this,Yu)[Wr(this,Zu)].instance.profile()),Vf(this,"previewEnabled",()=>Wr(this,Yu)[Wr(this,Zu)].preview),Vf(this,"previewsList",()=>Wr(this,Rk)),Vf(this,"backendsList",()=>Wr(this,Bm)),Nc(this,oWe,{writable:!0,value:i=>{Wr(this,Bm).forEach(o=>{o.transition&&i.addEventListener(o.transition.event,Wr(this,LQ))})}}),Nc(this,aWe,{writable:!0,value:i=>{Wr(this,Bm).forEach(o=>{o.transition&&i.removeEventListener(o.transition.event,Wr(this,LQ))})}}),Nc(this,LQ,{writable:!0,value:i=>{let o=Wr(this,Zu);if(Wr(this,Bm).some(c=>c.id!==Wr(this,Zu)&&c.transition&&c.transition.check(i)?(Ax(this,Zu,c.id),!0):!1),Wr(this,Zu)!==o){var a;Wr(this,Yu)[o].instance.teardown(),Object.keys(Wr(this,py)).forEach(v=>{let E=Wr(this,py)[v];E.unsubscribe(),E.unsubscribe=Wr(this,PQ).call(this,E.func,...E.args)}),Wr(this,Rk).backendChanged(this);let c=Wr(this,Yu)[Wr(this,Zu)];if(c.instance.setup(),c.skipDispatchOnTransition)return;let d=i.constructor,m=new d(i.type,i);(a=i.target)===null||a===void 0||a.dispatchEvent(m)}}}),Nc(this,PQ,{writable:!0,value:(i,o,a,c)=>Wr(this,Yu)[Wr(this,Zu)].instance[i](o,a,c)}),Nc(this,kk,{writable:!0,value:(i,o,a,c)=>{let d="".concat(i,"_").concat(o),m=Wr(this,PQ).call(this,i,o,a,c);return Wr(this,py)[d]={func:i,args:[o,a,c],unsubscribe:m},()=>{Wr(this,py)[d].unsubscribe(),delete Wr(this,py)[d]}}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);Ax(this,Rk,new Nk),Ax(this,Yu,{}),Ax(this,Bm,[]),n.backends.forEach(i=>{let o=Wr(this,iWe).call(this,t,r,i);Wr(this,Yu)[o.id]=o,Wr(this,Bm).push(o)}),Ax(this,Zu,Wr(this,Bm)[0].id),Ax(this,py,{})}};Vf(S2,"isSetUp",!1);var NQ=(e,t,r)=>new S2(e,t,r);var E2=(e,t)=>({event:e,check:t});var RQ=E2("touchstart",e=>{let t=e;return t.touches!==null&&t.touches!==void 0}),yyr=E2("dragstart",e=>e.type.indexOf("drag")!==-1||e.type.indexOf("drop")!==-1),_yr=E2("mousedown",e=>e.type.indexOf("touch")===-1&&e.type.indexOf("mouse")!==-1),kQ=E2("pointerdown",e=>e.pointerType=="mouse");var qQ={backends:[{id:"html5",backend:K$e,transition:kQ},{id:"touch",backend:rWe,options:{enableMouseEvents:!0},preview:!0,transition:RQ}]};var Um=ee(Le());function jQ(){return jQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jQ.apply(this,arguments)}var xyr=(0,Um.createContext)(null),zQ=e=>{let o=e,{portal:t}=o,r=yn(o,["portal"]),[n,i]=(0,Um.useState)(null);return Um.default.createElement(xyr.Provider,{value:t!=null?t:n},Um.default.createElement(fBe,jQ({backend:NQ},r)),t?null:Um.default.createElement("div",{ref:i}))};var{FILE:byr}=Fm,wyr={WRONG_FILETYPE:"wrong-filetype"},Syr=qQ.backends.map(e=>e.id==="touch"?wr(et({},e),{options:wr(et({},e.options),{scrollAngleRanges:[{start:30,end:150},{start:210,end:330}]})}):e),FQ=({children:e,onDrop:t,onError:r})=>{let[n,i]=(0,Rc.useState)(void 0),o=d=>{let m=d[0];x5(m,t,r)},[{isOver:a},c]=b4({accept:byr,collect(d){return{canDrop:d.canDrop(),isOver:d.isOver()}},drop:d=>{o(d.files)},hover:(d,m)=>{let v=m.getItem();v.items.length>0&&v.items[0].type!=="application/json"&&v.items[0].type!=="application/geo+json"&&i(wyr.WRONG_FILETYPE)}});return(0,Rc.useEffect)(()=>{a||i(void 0)},[a]),Rc.default.createElement("div",{className:ur("vkf-dropzone",a&&"animation-show"),ref:c},a&&Rc.default.createElement("div",{className:"dropzone-content"},Rc.default.createElement("p",{className:ur("dropzone-info",n!==void 0&&"error")},n===void 0?Ve("dropzone-drop"):Ve(`dropzone-${n}`)),Rc.default.createElement(Ka,{name:"dropzone-upload"})),e)};FQ.propTypes={children:qk.default.node,onDrop:qk.default.func.isRequired,onError:qk.default.func.isRequired};var lWe=e=>Rc.default.createElement(zQ,{options:Object.assign({},qQ,{backends:Syr})},Rc.default.createElement(FQ,et({},e),e.children));lWe.propTypes=FQ.propTypes;var uWe=lWe;var is=ee(Le(),1);var jk=ee(Tt(),1);var cWe=({initialName:e,onClose:t,onSubmit:r})=>{let n=(0,is.useRef)(),i=()=>{t()},o=()=>{let a=tr(n.current)?n.current.value:void 0;r(a)};return is.default.createElement("div",null,is.default.createElement(Za,{className:"vkf-dialog-add-geojson",onHide:i,show:!0},is.default.createElement(qv,null,is.default.createElement(LI,null,Ve("geojson-adddialog-title"))),is.default.createElement(Rv,null,is.default.createElement("div",{className:"dialog-content"},is.default.createElement("form",null,is.default.createElement(pW,null,is.default.createElement(U$,null,Ve("geojson-adddialog-layer-title-label")),is.default.createElement(uW,{autoFocus:!0,defaultValue:e!=null?e:"Unknown",inputRef:a=>{n.current=a},name:"title",type:"text",onKeyDown:a=>{a.key==="Enter"&&o()}}))))),is.default.createElement(kv,null,is.default.createElement(Ec,{onClick:i},Ve("geojson-adddialog-cancel")),is.default.createElement(Ec,{onClick:o,bsStyle:"primary"},Ve("geojson-adddialog-confirm")))))};cWe.propTypes={initialName:jk.default.string,onClose:jk.default.func.isRequired,onSubmit:jk.default.func.isRequired};var fWe=cWe;var Xu=ee(Le(),1),Ku=ee(Tt(),1);var I2=ee(Le(),1),pWe=ee(Ji(),1);var Gf=ee(Le(),1);var Eyr=(e,t)=>{let r=Vt($r),[n,i]=(0,Gf.useState)(null),[o,a]=Fi(BNe),c=(0,Gf.useRef)(null),d=(0,Gf.useCallback)(v=>{c.current&&!c.current.contains(v.target)&&a(tl.None)},[]),m=(0,Gf.useCallback)(()=>{a(v=>v===t?tl.None:t)},[t]);return(0,Gf.useEffect)(()=>{if(tr(r)){let v=I=>{var M;((M=I.control)==null?void 0:M.id)===e&&i(I.control._container)},E=I=>{var M;((M=I.control)==null?void 0:M.id)===e&&i(null)};return r.on(Io.controlAdded,v),r.on(Io.controlRemoved,E),()=>{r.off(Io.controlAdded,v),r.off(Io.controlRemoved,E)}}},[r]),(0,Gf.useEffect)(()=>(o===t?document.addEventListener("mousedown",d):document.removeEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[o,t,d]),{baseMapControlEl:n,activeDialog:o,toggleDialog:m,dialogRef:c}},zk=Eyr;var Iyr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=zk(DH,tl.BasemapSelector);return e!==null?(0,pWe.createPortal)(I2.default.createElement("div",{ref:n},I2.default.createElement("button",{onClick:r,title:Ve("control-basemapselector-open"),className:ur("maplibregl-ctrl-basemap-selector",t===tl.BasemapSelector&&"active")}),t===tl.BasemapSelector&&I2.default.createElement("div",{className:ur("basemap-selector-modal",t===tl.BasemapSelector&&"active")},I2.default.createElement(Qje,null))),e):null},dWe=Iyr;var hWe=dWe;function BQ(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function mWe(e){return new Promise(t=>setTimeout(t,e))}var gWe=ee(XE(),1);var Fk=class extends gWe.Map{constructor(){super(...arguments);Yn(this,"terrainConfiguration",kr.getTerrain());Yn(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);Yn(this,"isTerrainEnabled",!1);Yn(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,a=r-o,c=()=>{if(!this.terrain||this.terrainFlattening)return;let d=(performance.now()-i)/n;if(d<.99){let m=1-mg(1-d,4),v=o+m*a;this.terrain.exaggeration=v,requestAnimationFrame(c)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(c)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>bo(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==tm||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(tm,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:tm,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,BQ(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>mWe(500)).then(()=>{this.getSource(tm).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(tm)||i()})}disableTerrain(){return bo(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let a=(performance.now()-n)/r;if(this._elevationFreeze=!1,a<.99){let c=mg(1-a,4),d=i*c;this.terrain.exaggeration=d,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(tm)&&this.removeSource(tm),this.abortController.abort(),this.abortController=new AbortController,BQ(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var UQ=class extends Fk{addControl(t,r){let n=super.addControl(t,r);return this.fire(Io.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(Io.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var d;let o=super.setPaintProperty(t,r,n,i),a=this.getLayer(t),c=(d=a==null?void 0:a.metadata)==null?void 0:d[Up.id];return RNe.has(r)&&c&&this.fire(Io.opacityChanged,{layerId:c,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var d;let o=super.setLayoutProperty(t,r,n,i),a=this.getLayer(t),c=(d=a==null?void 0:a.metadata)==null?void 0:d[Up.id];return kNe.has(r)&&c&&this.fire(Io.visibilityChanged,{layerId:c,property:r,value:n}),o}},vWe=UQ;var yWe=vWe;var T2=ee(Le(),1),MWe=ee(Ji(),1);var Hf=ee(Le(),1);var Ia=ee(Le(),1);var _We=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},xWe=e=>kr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},bWe=e=>({map_id:e.filter(t=>t.getType()===fa.HISTORIC_MAP).map(t=>t.getId())}),wWe=e=>({v:e?RP["3D"]:RP["2D"]});var EWe=ee(BH(),1);var os=ee(Le(),1),VQ=ee(Tt(),1);var SWe=({onClick:e,value:t})=>{let[r,n]=(0,os.useState)(!1),i=(0,os.useRef)(),o=(0,os.useRef)(),a=(0,os.useCallback)(()=>{(e!==void 0&&t===""?e():new Promise(d=>d())).then(d=>{clearTimeout(o.current),navigator.clipboard.writeText(d!==void 0?d:t),n(!0)})},[e,t]);return(0,os.useEffect)(()=>(r&&(o.current=setTimeout(()=>{n(!1)},1e3)),()=>{clearTimeout(o.current)}),[r]),os.default.createElement(os.default.Fragment,null,os.default.createElement("button",{className:"copy-button",onClick:a,ref:i,title:Ve("control-permalink-exporter-copy-title")},os.default.createElement(Wp,{glyph:"copy"})),os.default.createElement(YW,{placement:"right",target:i.current,show:r},os.default.createElement(oZ,{id:"copy-state-indicator"},Ve("control-permalink-exporter-copy"))))};SWe.propTypes={onClick:VQ.default.func,value:VQ.default.string};var Bk=SWe;var Tyr=()=>{let e=Vt($r),t=Vt(li),r=Vt(gf),[n,i]=(0,Ia.useState)(""),o=(0,Ia.useRef)(),a=(0,Ia.useCallback)(()=>{if(!tr(e))return;let c=_We(PP(e,!0)),d=wWe(e.hasTerrain()),m=bWe(t),v=xWe(r),E=(0,EWe.stringify)(Object.assign({},c,d,m,v),{arrayFormat:"comma"});i(Uk(E))},[e]);return(0,Ia.useEffect)(()=>{if(e)return a(),e.on("moveend",a),()=>{e.off("moveend",a)}},[e,a]),Ia.default.createElement(Ia.default.Fragment,null,Ia.default.createElement("div",{className:"action-content"},Ia.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Ia.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Ia.default.createElement(Bk,{value:n})),Ia.default.createElement("div",{className:"description"},Ia.default.createElement("p",null,Ve("control-permalink-exporter-permalink-description"))))},IWe=Tyr;var Ta=ee(Le(),1);var TWe=()=>{let[e]=wc(Fv,[]),[t,r]=(0,Ta.useState)(!1),[n,i]=(0,Ta.useState)(""),o=Vt(_P),a=kr.getGeoreferenceApiClient(),c="/map_view/",d=(0,Ta.useCallback)(()=>{if(o!==void 0){let m=o(),{searchOptions:v}=m,E=yn(m,["searchOptions"]),I=e.filter(L=>L.id===E.activeBasemapId),M=Object.assign({},E,I.length>0?{customBasemaps:I}:null);return r(!0),a.post(c,{map_view_json:M}).then(L=>{if(L.status===200&&L.data!==void 0){let{map_view_id:R}=L.data,P=Uk(`map_view_id=${R}`);return i(P),r(!1),P}})}},[e,o]);return Ta.default.createElement(Ta.default.Fragment,null,Ta.default.createElement("div",{className:"action-content"},Ta.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),Ta.default.createElement("input",{placeholder:Ve("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),Ta.default.createElement(Bk,{onClick:d,value:n}),Ta.default.createElement("button",{className:ur("upload-button",t&&"loading"),onClick:d},t?Ta.default.createElement(XR,null):Ta.default.createElement(Wp,{glyph:"upload"}),"Upload")),Ta.default.createElement("div",{className:"description"},Ta.default.createElement("p",null,Ve("control-permalink-exporter-mapview-description"))))};var Uk=e=>`${window.location.origin}${window.location.pathname}?${e}`,Ayr=()=>{let e=!kr.isUserAuthenticated();return Hf.default.createElement("div",{className:"vkf-permalink-exporter"},Hf.default.createElement(nZ,{defaultActiveKey:1,id:"permalink-exporter-tabs"},Hf.default.createElement(TR,{eventKey:1,title:Ve("control-permalink-title-permalink")},Hf.default.createElement("div",{className:"permalink-exporter-content"},Hf.default.createElement(IWe,null))),Hf.default.createElement(TR,{disabled:e,eventKey:2,title:Ve("control-permalink-title-map-view")},Hf.default.createElement("div",{className:"permalink-exporter-content"},!e&&Hf.default.createElement(TWe,null)))))},AWe=Hf.default.memo(Ayr);var Myr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=zk(NH,tl.Permalink);return e!==null?(0,MWe.createPortal)(T2.default.createElement("div",{ref:n},T2.default.createElement("button",{className:ur("maplibregl-ctrl-permalink",t===tl.Permalink&&"active"),onClick:r,title:Ve("control-permalink-open")}),t===tl.Permalink&&T2.default.createElement("div",{className:"content-container"},T2.default.createElement(AWe,null))),e):null},CWe=Myr;var Vk=ee(Le(),1);var Cyr=()=>{let e=Vt($r),t=Vt(gf),r=Vt(wP),[n]=wc(Fv,[]),i=kr.getBaseMaps(),o=(0,Vk.useMemo)(()=>[...i,...n],[n,i]);return(0,Vk.useEffect)(()=>{if(tr(e)){let a=o.find(d=>d.id===t);if(a===void 0)return;let c=a;if(tI(e),ARe(e),c.type==="vector")ERe(e,r);else if(c.type==="wms")wRe(e,c,r);else if(c.type==="xyz")TRe(e,c,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},OWe=Cyr;function DWe(){return{"NavigationControl.ZoomIn":Ve("control-zoom-in"),"NavigationControl.ZoomOut":Ve("control-zoom-out"),"FullscreenControl.Enter":Ve("control-fullscreen-Enter"),"FullscreenControl.Exit":Ve("control-fullscreen-Exit"),"NavigationControl.ResetBearing":Ve("control-rotate"),"TerrainControl.Enable":Ve("control-toggleviewmode-title"),"TerrainControl.Disable":Ve("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":Ve("control-locateme-title"),"GeolocateControl.LocationNotAvailable":Ve("control-locateme-location-not-available")}}var Oyr="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json";function LWe(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},onAddGeoJson:i,loadMarkerIcon:o=!0}=e,[a,c]=Fi($r),d=cn(wP),m=(0,Xu.useRef)();return p1(m,"map"),(0,Xu.useEffect)(()=>{let v=new yWe({container:m.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:Oyr,locale:DWe(),attributionControl:!1}),E=()=>{if(c(v),d(v.getStyle().layers),o===!0){let{id:I,url:M}=kr.getMarkerSettings();v.loadImage(M).then(L=>{v.addImage(I,L.data,{sdf:!0})})}};return v.on("style.load",E),()=>{v.off("style.load",E),c(void 0),v.remove()}},[]),(0,Xu.useEffect)(()=>{if(tr(a)){let v=PNe();return v.forEach(({control:E,position:I})=>{a.addControl(E,I)}),()=>{v.forEach(({control:E})=>{a.removeControl(E)})}}},[a]),Xu.default.createElement("div",{className:"map-container"},Xu.default.createElement("div",{ref:m,className:ur("map-div","olMap",jNe(r)),tabIndex:0},tr(a)&&Xu.default.createElement(t,{onAddGeoJson:i}),Xu.default.createElement(hWe,null),Xu.default.createElement(CWe,null),Xu.default.createElement(OWe,null)))}var GQ={baseMapUrl:Ku.default.arrayOf(Ku.default.string),ChildComponent:Ku.default.func,layout:Ku.default.string,mapViewSettings:Ku.default.shape({center:Ku.default.arrayOf(Ku.default.number),projection:Ku.default.string,zoom:Ku.default.number}),onAddGeoJson:Ku.default.func,loadMarkerIcon:Ku.default.bool};LWe.propTypes=GQ;var PWe=LWe;var HQ=({mapWrapperProps:e})=>{var E;let[t,r]=(0,$f.useState)(!1),n=cn(Qs),i=cn(li),o=Vt($r),a=(0,$f.useRef)(),c=I=>{if(tr(o)){try{let M=a.current.content,L={[Sr.title]:I,[Sr.timeChanged]:a.current.modified},R=new Hp({metadata:L,geoJSON:M});R.addLayerToMap(o),i(P=>[...P,R])}catch(M){console.log(M),m()}v(!1)}},d=I=>{a.current=I,v(!0)},m=()=>{n({id:"mapWrapper",type:"danger",text:Ve("mapwrapper-geojson-parse-error")})},v=I=>{r(M=>I!==void 0?I:!M)};return $f.default.createElement($f.default.Fragment,null,t&&$f.default.createElement(fWe,{initialName:(E=a.current)==null?void 0:E.name,onSubmit:c,onClose:v.bind(!1)}),$f.default.createElement(uWe,{onDrop:d,onError:m},$f.default.createElement(PWe,et({onAddGeoJson:d},e))))};HQ.propTypes={mapWrapperProps:NWe.default.shape(GQ)};var Dyr=e=>{switch(e){case rl.HORIZONTAL:return mQ;case rl.VERTICAL:return xQ;default:return xQ;}},kWe=e=>{let{layout:t}=e,r=cn(c1),n=Dyr(t);return(0,A2.useEffect)(()=>{r(t)},[t]),A2.default.createElement(HQ,{mapWrapperProps:{baseMapUrl:kr.getDefaultBaseMapUrls(),enable3d:!0,enableTerrain:!0,layout:t,mapViewSettings:kr.getDefaultMapView(),ChildComponent:n}})};kWe.propTypes={layout:RWe.default.oneOf(Object.values(rl))};var qWe=A2.default.memo(kWe);var zWe=()=>{let e=kLe(),t=qNe(e);return Mx.default.createElement(PLe,null,Mx.default.createElement("div",{className:"vkf-plugin-map"},Mx.default.createElement(WNe,null),Mx.default.createElement(qWe,{layout:t}),Mx.default.createElement(HFe,null)))};zWe.propTypes={id:jWe.default.string.isRequired};var FWe=zWe;var Lyr=kr;function Pyr(e){UWe.default.render(BWe.default.createElement(FWe,{id:e.id}),e)}return BYe(Nyr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.0/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (** @license React v17.0.2
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/