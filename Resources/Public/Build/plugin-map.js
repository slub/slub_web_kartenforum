var vk2=(()=>{var dJe=Object.create;var Nw=Object.defineProperty,hJe=Object.defineProperties,mJe=Object.getOwnPropertyDescriptor,gJe=Object.getOwnPropertyDescriptors,vJe=Object.getOwnPropertyNames,RM=Object.getOwnPropertySymbols,yJe=Object.getPrototypeOf,yz=Object.prototype.hasOwnProperty,Yre=Object.prototype.propertyIsEnumerable;var Kre=e=>{throw TypeError(e)},Wg=Math.pow,vz=(e,t,r)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qe=(e,t)=>{for(var r in t||(t={}))yz.call(t,r)&&vz(e,r,t[r]);if(RM)for(var r of RM(t))Yre.call(t,r)&&vz(e,r,t[r]);return e},xr=(e,t)=>hJe(e,gJe(t));var Xre=e=>typeof e=="symbol"?e:e+"",En=(e,t)=>{var r={};for(var n in e)yz.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&RM)for(var n of RM(e))t.indexOf(n)<0&&Yre.call(e,n)&&(r[n]=e[n]);return r};var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Qre=(e,t)=>{for(var r in t)Nw(e,r,{get:t[r],enumerable:!0})},Jre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vJe(t))!yz.call(e,i)&&i!==r&&Nw(e,i,{get:()=>t[i],enumerable:!(n=mJe(t,i))||n.enumerable});return e};var J=(e,t,r)=>(r=e!=null?dJe(yJe(e)):{},Jre(t||!e||!e.__esModule?Nw(r,"default",{value:e,enumerable:!0}):r,e)),_Je=e=>Jre(Nw({},"__esModule",{value:!0}),e);var nt=(e,t,r)=>vz(e,typeof t!="symbol"?t+"":t,r),_z=(e,t,r)=>t.has(e)||Kre("Cannot "+r);var $g=(e,t,r)=>(_z(e,t,"read from private field"),r?r.call(e):t.get(e)),V0=(e,t,r)=>t.has(e)?Kre("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ene=(e,t,r,n)=>(_z(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Yl=(e,t,r)=>(_z(e,t,"access private method"),r);var ko=(e,t,r)=>new Promise((n,i)=>{var o=p=>{try{c(r.next(p))}catch(m){i(m)}},a=p=>{try{c(r.throw(p))}catch(m){i(m)}},c=p=>p.done?n(p.value):Promise.resolve(p.value).then(o,a);c((r=r.apply(e,t)).next())});var kM=T((Nbr,rne)=>{"use strict";var tne=Object.getOwnPropertySymbols,xJe=Object.prototype.hasOwnProperty,bJe=Object.prototype.propertyIsEnumerable;function wJe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function SJe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}rne.exports=SJe()?Object.assign:function(e,t){for(var r,n=wJe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)xJe.call(r,a)&&(n[a]=r[a]);if(tne){i=tne(r);for(var c=0;c<i.length;c++)bJe.call(r,i[c])&&(n[i[c]]=r[i[c]])}}return n}});var yne=T(qn=>{"use strict";var bz=kM(),G0=60103,one=60106;qn.Fragment=60107;qn.StrictMode=60108;qn.Profiler=60114;var ane=60109,sne=60110,lne=60112;qn.Suspense=60113;var une=60115,cne=60116;typeof Symbol=="function"&&Symbol.for&&(Su=Symbol.for,G0=Su("react.element"),one=Su("react.portal"),qn.Fragment=Su("react.fragment"),qn.StrictMode=Su("react.strict_mode"),qn.Profiler=Su("react.profiler"),ane=Su("react.provider"),sne=Su("react.context"),lne=Su("react.forward_ref"),qn.Suspense=Su("react.suspense"),une=Su("react.memo"),cne=Su("react.lazy"));var Su,nne=typeof Symbol=="function"&&Symbol.iterator;function EJe(e){return e===null||typeof e!="object"?null:(e=nne&&e[nne]||e["@@iterator"],typeof e=="function"?e:null)}function Rw(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pne={};function H0(e,t,r){this.props=e,this.context=t,this.refs=pne,this.updater=r||fne}H0.prototype.isReactComponent={};H0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Rw(85));this.updater.enqueueSetState(this,e,t,"setState")};H0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dne(){}dne.prototype=H0.prototype;function wz(e,t,r){this.props=e,this.context=t,this.refs=pne,this.updater=r||fne}var Sz=wz.prototype=new dne;Sz.constructor=wz;bz(Sz,H0.prototype);Sz.isPureReactComponent=!0;var Ez={current:null},hne=Object.prototype.hasOwnProperty,mne={key:!0,ref:!0,__self:!0,__source:!0};function gne(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)hne.call(t,n)&&!mne.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var p=Array(c),m=0;m<c;m++)p[m]=arguments[m+2];i.children=p}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:G0,type:e,key:o,ref:a,props:i,_owner:Ez.current}}function IJe(e,t){return{$$typeof:G0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iz(e){return typeof e=="object"&&e!==null&&e.$$typeof===G0}function TJe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ine=/\/+/g;function xz(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TJe(""+e.key):t.toString(36)}function jM(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case G0:case one:a=!0;}}if(a)return a=e,i=i(a),e=n===""?"."+xz(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(ine,"$&/")+"/"),jM(i,t,r,"",function(m){return m})):i!=null&&(Iz(i)&&(i=IJe(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ine,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){o=e[c];var p=n+xz(o,c);a+=jM(o,t,r,p,i)}else if(p=EJe(e),typeof p=="function")for(e=p.call(e),c=0;!(o=e.next()).done;)o=o.value,p=n+xz(o,c++),a+=jM(o,t,r,p,i);else if(o==="object")throw t=""+e,Error(Rw(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function qM(e,t,r){if(e==null)return e;var n=[],i=0;return jM(e,n,"","",function(o){return t.call(r,o,i++)}),n}function CJe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var vne={current:null};function kp(){var e=vne.current;if(e===null)throw Error(Rw(321));return e}var MJe={ReactCurrentDispatcher:vne,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ez,IsSomeRendererActing:{current:!1},assign:bz};qn.Children={map:qM,forEach:function(e,t,r){qM(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qM(e,function(){t++}),t},toArray:function(e){return qM(e,function(t){return t})||[]},only:function(e){if(!Iz(e))throw Error(Rw(143));return e}};qn.Component=H0;qn.PureComponent=wz;qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MJe;qn.cloneElement=function(e,t,r){if(e==null)throw Error(Rw(267,e));var n=bz({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ez.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(p in t)hne.call(t,p)&&!mne.hasOwnProperty(p)&&(n[p]=t[p]===void 0&&c!==void 0?c[p]:t[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){c=Array(p);for(var m=0;m<p;m++)c[m]=arguments[m+2];n.children=c}return{$$typeof:G0,type:e.type,key:i,ref:o,props:n,_owner:a}};qn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:sne,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:ane,_context:e},e.Consumer=e};qn.createElement=gne;qn.createFactory=function(e){var t=gne.bind(null,e);return t.type=e,t};qn.createRef=function(){return{current:null}};qn.forwardRef=function(e){return{$$typeof:lne,render:e}};qn.isValidElement=Iz;qn.lazy=function(e){return{$$typeof:cne,_payload:{_status:-1,_result:e},_init:CJe}};qn.memo=function(e,t){return{$$typeof:une,type:e,compare:t===void 0?null:t}};qn.useCallback=function(e,t){return kp().useCallback(e,t)};qn.useContext=function(e,t){return kp().useContext(e,t)};qn.useDebugValue=function(){};qn.useEffect=function(e,t){return kp().useEffect(e,t)};qn.useImperativeHandle=function(e,t,r){return kp().useImperativeHandle(e,t,r)};qn.useLayoutEffect=function(e,t){return kp().useLayoutEffect(e,t)};qn.useMemo=function(e,t){return kp().useMemo(e,t)};qn.useReducer=function(e,t,r){return kp().useReducer(e,t,r)};qn.useRef=function(e){return kp().useRef(e)};qn.useState=function(e){return kp().useState(e)};qn.version="17.0.2"});var De=T((kbr,_ne)=>{"use strict";_ne.exports=yne()});var Ine=T(Jn=>{"use strict";var $0,jw,UM,Pz;typeof performance=="object"&&typeof performance.now=="function"?(xne=performance,Jn.unstable_now=function(){return xne.now()}):(Tz=Date,bne=Tz.now(),Jn.unstable_now=function(){return Tz.now()-bne});var xne,Tz,bne;typeof window=="undefined"||typeof MessageChannel!="function"?(W0=null,Cz=null,Mz=function(){if(W0!==null)try{var e=Jn.unstable_now();W0(!0,e),W0=null}catch(t){throw setTimeout(Mz,0),t}},$0=function(e){W0!==null?setTimeout($0,0,e):(W0=e,setTimeout(Mz,0))},jw=function(e,t){Cz=setTimeout(e,t)},UM=function(){clearTimeout(Cz)},Jn.unstable_shouldYield=function(){return!1},Pz=Jn.unstable_forceFrameRate=function(){}):(wne=window.setTimeout,Sne=window.clearTimeout,typeof console!="undefined"&&(Ene=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Ene!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),kw=!1,qw=null,zM=-1,Az=5,Oz=0,Jn.unstable_shouldYield=function(){return Jn.unstable_now()>=Oz},Pz=function(){},Jn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Az=0<e?Math.floor(1e3/e):5},Dz=new MessageChannel,FM=Dz.port2,Dz.port1.onmessage=function(){if(qw!==null){var e=Jn.unstable_now();Oz=e+Az;try{qw(!0,e)?FM.postMessage(null):(kw=!1,qw=null)}catch(t){throw FM.postMessage(null),t}}else kw=!1},$0=function(e){qw=e,kw||(kw=!0,FM.postMessage(null))},jw=function(e,t){zM=wne(function(){e(Jn.unstable_now())},t)},UM=function(){Sne(zM),zM=-1});var W0,Cz,Mz,wne,Sne,Ene,kw,qw,zM,Az,Oz,Dz,FM;function Lz(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<BM(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Cc(e){return e=e[0],e===void 0?null:e}function VM(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],c=o+1,p=e[c];if(a!==void 0&&0>BM(a,r))p!==void 0&&0>BM(p,a)?(e[n]=p,e[c]=r,n=c):(e[n]=a,e[o]=r,n=o);else if(p!==void 0&&0>BM(p,r))e[n]=p,e[c]=r,n=c;else break e}}return t}return null}function BM(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var mf=[],Ah=[],AJe=1,Eu=null,Za=3,GM=!1,Zg=!1,zw=!1;function Nz(e){for(var t=Cc(Ah);t!==null;){if(t.callback===null)VM(Ah);else if(t.startTime<=e)VM(Ah),t.sortIndex=t.expirationTime,Lz(mf,t);else break;t=Cc(Ah)}}function Rz(e){if(zw=!1,Nz(e),!Zg)if(Cc(mf)!==null)Zg=!0,$0(kz);else{var t=Cc(Ah);t!==null&&jw(Rz,t.startTime-e)}}function kz(e,t){Zg=!1,zw&&(zw=!1,UM()),GM=!0;var r=Za;try{for(Nz(t),Eu=Cc(mf);Eu!==null&&(!(Eu.expirationTime>t)||e&&!Jn.unstable_shouldYield());){var n=Eu.callback;if(typeof n=="function"){Eu.callback=null,Za=Eu.priorityLevel;var i=n(Eu.expirationTime<=t);t=Jn.unstable_now(),typeof i=="function"?Eu.callback=i:Eu===Cc(mf)&&VM(mf),Nz(t)}else VM(mf);Eu=Cc(mf)}if(Eu!==null)var o=!0;else{var a=Cc(Ah);a!==null&&jw(Rz,a.startTime-t),o=!1}return o}finally{Eu=null,Za=r,GM=!1}}var OJe=Pz;Jn.unstable_IdlePriority=5;Jn.unstable_ImmediatePriority=1;Jn.unstable_LowPriority=4;Jn.unstable_NormalPriority=3;Jn.unstable_Profiling=null;Jn.unstable_UserBlockingPriority=2;Jn.unstable_cancelCallback=function(e){e.callback=null};Jn.unstable_continueExecution=function(){Zg||GM||(Zg=!0,$0(kz))};Jn.unstable_getCurrentPriorityLevel=function(){return Za};Jn.unstable_getFirstCallbackNode=function(){return Cc(mf)};Jn.unstable_next=function(e){switch(Za){case 1:case 2:case 3:var t=3;break;default:t=Za;}var r=Za;Za=t;try{return e()}finally{Za=r}};Jn.unstable_pauseExecution=function(){};Jn.unstable_requestPaint=OJe;Jn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var r=Za;Za=e;try{return t()}finally{Za=r}};Jn.unstable_scheduleCallback=function(e,t,r){var n=Jn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3;}return i=r+i,e={id:AJe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,Lz(Ah,e),Cc(mf)===null&&e===Cc(Ah)&&(zw?UM():zw=!0,jw(Rz,r-n))):(e.sortIndex=i,Lz(mf,e),Zg||GM||(Zg=!0,$0(kz))),e};Jn.unstable_wrapCallback=function(e){var t=Za;return function(){var r=Za;Za=t;try{return e.apply(this,arguments)}finally{Za=r}}}});var Cne=T((jbr,Tne)=>{"use strict";Tne.exports=Ine()});var dae=T(Ou=>{"use strict";var qA=De(),Hi=kM(),ea=Cne();function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!qA)throw Error(Lt(227));var Fie=new Set,mS={};function ov(e,t){h1(e,t),h1(e+"Capture",t)}function h1(e,t){for(mS[e]=t,e=0;e<t.length;e++)Fie.add(t[e])}var Up=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),DJe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mne=Object.prototype.hasOwnProperty,Ane={},One={};function PJe(e){return Mne.call(One,e)?!0:Mne.call(Ane,e)?!1:DJe.test(e)?One[e]=!0:(Ane[e]=!0,!1)}function LJe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1;}}function NJe(e,t,r,n){if(t===null||typeof t=="undefined"||LJe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function As(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ya={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ya[e]=new As(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ya[t]=new As(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ya[e]=new As(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ya[e]=new As(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ya[e]=new As(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ya[e]=new As(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ya[e]=new As(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ya[e]=new As(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ya[e]=new As(e,5,!1,e.toLowerCase(),null,!1,!1)});var H6=/[\-:]([a-z])/g;function W6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H6,W6);ya[t]=new As(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H6,W6);ya[t]=new As(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H6,W6);ya[t]=new As(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ya[e]=new As(e,1,!1,e.toLowerCase(),null,!1,!1)});ya.xlinkHref=new As("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ya[e]=new As(e,1,!1,e.toLowerCase(),null,!0,!0)});function $6(e,t,r,n){var i=ya.hasOwnProperty(t)?ya[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(NJe(t,r,i,n)&&(r=null),n||i===null?PJe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var av=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qw=60103,Kg=60106,Dh=60107,Z6=60108,nS=60114,Y6=60109,K6=60110,jA=60112,iS=60113,hA=60120,zA=60115,X6=60116,Q6=60121,J6=60128,Bie=60129,eF=60130,o6=60131;typeof Symbol=="function"&&Symbol.for&&(qo=Symbol.for,Qw=qo("react.element"),Kg=qo("react.portal"),Dh=qo("react.fragment"),Z6=qo("react.strict_mode"),nS=qo("react.profiler"),Y6=qo("react.provider"),K6=qo("react.context"),jA=qo("react.forward_ref"),iS=qo("react.suspense"),hA=qo("react.suspense_list"),zA=qo("react.memo"),X6=qo("react.lazy"),Q6=qo("react.block"),qo("react.scope"),J6=qo("react.opaque.id"),Bie=qo("react.debug_trace_mode"),eF=qo("react.offscreen"),o6=qo("react.legacy_hidden"));var qo,Dne=typeof Symbol=="function"&&Symbol.iterator;function Fw(e){return e===null||typeof e!="object"?null:(e=Dne&&e[Dne]||e["@@iterator"],typeof e=="function"?e:null)}var qz;function Jw(e){if(qz===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qz=t&&t[1]||""}return`
`+qz+e}var jz=!1;function HM(e,t){if(!e||jz)return"";jz=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=c);break}}}finally{jz=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jw(e):""}function RJe(e){switch(e.tag){case 5:return Jw(e.type);case 16:return Jw("Lazy");case 13:return Jw("Suspense");case 19:return Jw("SuspenseList");case 0:case 2:case 15:return e=HM(e.type,!1),e;case 11:return e=HM(e.type.render,!1),e;case 22:return e=HM(e.type._render,!1),e;case 1:return e=HM(e.type,!0),e;default:return"";}}function i1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dh:return"Fragment";case Kg:return"Portal";case nS:return"Profiler";case Z6:return"StrictMode";case iS:return"Suspense";case hA:return"SuspenseList";}if(typeof e=="object")switch(e.$$typeof){case K6:return(e.displayName||"Context")+".Consumer";case Y6:return(e._context.displayName||"Context")+".Provider";case jA:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case zA:return i1(e.type);case Q6:return i1(e._render);case X6:t=e._payload,e=e._init;try{return i1(e(t))}catch(r){}}return null}function Vh(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return"";}}function Uie(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kJe(e){var t=Uie(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function WM(e){e._valueTracker||(e._valueTracker=kJe(e))}function Vie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Uie(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mA(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function a6(e,t){var r=t.checked;return Hi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Pne(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gie(e,t){t=t.checked,t!=null&&$6(e,"checked",t,!1)}function s6(e,t){Gie(e,t);var r=Vh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l6(e,t.type,r):t.hasOwnProperty("defaultValue")&&l6(e,t.type,Vh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function l6(e,t,r){(t!=="number"||mA(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function qJe(e){var t="";return qA.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function u6(e,t){return e=Hi({children:void 0},t),(t=qJe(t.children))&&(e.children=t),e}function o1(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function c6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return Hi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nne(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Lt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vh(r)}}function Hie(e,t){var r=Vh(t.value),n=Vh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Rne(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var f6={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Wie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function p6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wie(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $M,$ie=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==f6.svg||"innerHTML"in e)e.innerHTML=t;else{for($M=$M||document.createElement("div"),$M.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$M.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gS(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var oS={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jJe=["Webkit","ms","Moz","O"];Object.keys(oS).forEach(function(e){jJe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oS[t]=oS[e]})});function Zie(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||oS.hasOwnProperty(e)&&oS[e]?(""+t).trim():t+"px"}function Yie(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Zie(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var zJe=Hi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d6(e,t){if(t){if(zJe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Lt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Lt(62))}}function h6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function tF(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m6=null,a1=null,s1=null;function kne(e){if(e=OS(e)){if(typeof m6!="function")throw Error(Lt(280));var t=e.stateNode;t&&(t=HA(t),m6(e.stateNode,e.type,t))}}function Kie(e){a1?s1?s1.push(e):s1=[e]:a1=e}function Xie(){if(a1){var e=a1,t=s1;if(s1=a1=null,kne(e),t)for(e=0;e<t.length;e++)kne(t[e])}}function rF(e,t){return e(t)}function Qie(e,t,r,n,i){return e(t,r,n,i)}function nF(){}var Jie=rF,Xg=!1,zz=!1;function iF(){(a1!==null||s1!==null)&&(nF(),Xie())}function FJe(e,t,r){if(zz)return e(t,r);zz=!0;try{return Jie(e,t,r)}finally{zz=!1,iF()}}function vS(e,t){var r=e.stateNode;if(r===null)return null;var n=HA(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1;}if(e)return null;if(r&&typeof r!="function")throw Error(Lt(231,t,typeof r));return r}var g6=!1;if(Up)try{Z0={},Object.defineProperty(Z0,"passive",{get:function(){g6=!0}}),window.addEventListener("test",Z0,Z0),window.removeEventListener("test",Z0,Z0)}catch(e){g6=!1}var Z0;function BJe(e,t,r,n,i,o,a,c,p){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(g){this.onError(g)}}var aS=!1,gA=null,vA=!1,v6=null,UJe={onError:function(e){aS=!0,gA=e}};function VJe(e,t,r,n,i,o,a,c,p){aS=!1,gA=null,BJe.apply(UJe,arguments)}function GJe(e,t,r,n,i,o,a,c,p){if(VJe.apply(this,arguments),aS){if(aS){var m=gA;aS=!1,gA=null}else throw Error(Lt(198));vA||(vA=!0,v6=m)}}function sv(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eoe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qne(e){if(sv(e)!==e)throw Error(Lt(188))}function HJe(e){var t=e.alternate;if(!t){if(t=sv(e),t===null)throw Error(Lt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return qne(i),e;if(o===n)return qne(i),t;o=o.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,c=i.child;c;){if(c===r){a=!0,r=i,n=o;break}if(c===n){a=!0,n=i,r=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===r){a=!0,r=o,n=i;break}if(c===n){a=!0,n=o,r=i;break}c=c.sibling}if(!a)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?e:t}function toe(e){if(e=HJe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function jne(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var roe,oF,noe,ioe,y6=!1,gf=[],Rh=null,kh=null,qh=null,yS=new Map,_S=new Map,Bw=[],zne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _6(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Fne(e,t){switch(e){case"focusin":case"focusout":Rh=null;break;case"dragenter":case"dragleave":kh=null;break;case"mouseover":case"mouseout":qh=null;break;case"pointerover":case"pointerout":yS.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_S.delete(t.pointerId);}}function Uw(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=_6(t,r,n,i,o),t!==null&&(t=OS(t),t!==null&&oF(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function WJe(e,t,r,n,i){switch(t){case"focusin":return Rh=Uw(Rh,e,t,r,n,i),!0;case"dragenter":return kh=Uw(kh,e,t,r,n,i),!0;case"mouseover":return qh=Uw(qh,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return yS.set(o,Uw(yS.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,_S.set(o,Uw(_S.get(o)||null,e,t,r,n,i)),!0;}return!1}function $Je(e){var t=Qg(e.target);if(t!==null){var r=sv(t);if(r!==null){if(t=r.tag,t===13){if(t=eoe(r),t!==null){e.blockedOn=t,ioe(e.lanePriority,function(){ea.unstable_runWithPriority(e.priority,function(){noe(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iA(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=uF(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=OS(r),t!==null&&oF(t),e.blockedOn=r,!1;t.shift()}return!0}function Bne(e,t,r){iA(e)&&r.delete(t)}function ZJe(){for(y6=!1;0<gf.length;){var e=gf[0];if(e.blockedOn!==null){e=OS(e.blockedOn),e!==null&&roe(e);break}for(var t=e.targetContainers;0<t.length;){var r=uF(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&gf.shift()}Rh!==null&&iA(Rh)&&(Rh=null),kh!==null&&iA(kh)&&(kh=null),qh!==null&&iA(qh)&&(qh=null),yS.forEach(Bne),_S.forEach(Bne)}function Vw(e,t){e.blockedOn===t&&(e.blockedOn=null,y6||(y6=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,ZJe)))}function ooe(e){function t(i){return Vw(i,e)}if(0<gf.length){Vw(gf[0],e);for(var r=1;r<gf.length;r++){var n=gf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rh!==null&&Vw(Rh,e),kh!==null&&Vw(kh,e),qh!==null&&Vw(qh,e),yS.forEach(t),_S.forEach(t),r=0;r<Bw.length;r++)n=Bw[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bw.length&&(r=Bw[0],r.blockedOn===null);)$Je(r),r.blockedOn===null&&Bw.shift()}function ZM(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Q0={animationend:ZM("Animation","AnimationEnd"),animationiteration:ZM("Animation","AnimationIteration"),animationstart:ZM("Animation","AnimationStart"),transitionend:ZM("Transition","TransitionEnd")},Fz={},aoe={};Up&&(aoe=document.createElement("div").style,"AnimationEvent"in window||(delete Q0.animationend.animation,delete Q0.animationiteration.animation,delete Q0.animationstart.animation),"TransitionEvent"in window||delete Q0.transitionend.transition);function FA(e){if(Fz[e])return Fz[e];if(!Q0[e])return e;var t=Q0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aoe)return Fz[e]=t[r];return e}var soe=FA("animationend"),loe=FA("animationiteration"),uoe=FA("animationstart"),coe=FA("transitionend"),foe=new Map,aF=new Map,YJe=["abort","abort",soe,"animationEnd",loe,"animationIteration",uoe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",coe,"transitionEnd","waiting","waiting"];function sF(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),aF.set(n,t),foe.set(n,i),ov(i,[n])}}var KJe=ea.unstable_now;KJe();var Ti=8;function K0(e){if(1&e)return Ti=15,1;if(2&e)return Ti=14,2;if(4&e)return Ti=13,4;var t=24&e;return t!==0?(Ti=12,t):e&32?(Ti=11,32):(t=192&e,t!==0?(Ti=10,t):e&256?(Ti=9,256):(t=3584&e,t!==0?(Ti=8,t):e&4096?(Ti=7,4096):(t=4186112&e,t!==0?(Ti=6,t):(t=62914560&e,t!==0?(Ti=5,t):e&67108864?(Ti=4,67108864):e&134217728?(Ti=3,134217728):(t=805306368&e,t!==0?(Ti=2,t):1073741824&e?(Ti=1,1073741824):(Ti=8,e))))))}function XJe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0;}}function QJe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Lt(358,e));}}function xS(e,t){var r=e.pendingLanes;if(r===0)return Ti=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,c=e.pingedLanes;if(o!==0)n=o,i=Ti=15;else if(o=r&134217727,o!==0){var p=o&~a;p!==0?(n=K0(p),i=Ti):(c&=o,c!==0&&(n=K0(c),i=Ti))}else o=r&~a,o!==0?(n=K0(o),i=Ti):c!==0&&(n=K0(c),i=Ti);if(n===0)return 0;if(n=31-Gh(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&a)){if(K0(t),i<=Ti)return t;Ti=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gh(t),i=1<<r,n|=e[r],t&=~i;return n}function poe(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yA(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=X0(24&~t),e===0?yA(10,t):e;case 10:return e=X0(192&~t),e===0?yA(8,t):e;case 8:return e=X0(3584&~t),e===0&&(e=X0(4186112&~t),e===0&&(e=512)),e;case 2:return t=X0(805306368&~t),t===0&&(t=268435456),t;}throw Error(Lt(358,e))}function X0(e){return e&-e}function Bz(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function BA(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Gh(t),e[t]=r}var Gh=Math.clz32?Math.clz32:tet,JJe=Math.log,eet=Math.LN2;function tet(e){return e===0?32:31-(JJe(e)/eet|0)|0}var ret=ea.unstable_UserBlockingPriority,net=ea.unstable_runWithPriority,oA=!0;function iet(e,t,r,n){Xg||nF();var i=lF,o=Xg;Xg=!0;try{Qie(i,e,t,r,n)}finally{(Xg=o)||iF()}}function oet(e,t,r,n){net(ret,lF.bind(null,e,t,r,n))}function lF(e,t,r,n){if(oA){var i;if((i=(t&4)===0)&&0<gf.length&&-1<zne.indexOf(e))e=_6(null,e,t,r,n),gf.push(e);else{var o=uF(e,t,r,n);if(o===null)i&&Fne(e,n);else{if(i){if(-1<zne.indexOf(e)){e=_6(o,e,t,r,n),gf.push(e);return}if(WJe(o,e,t,r,n))return;Fne(e,n)}Ioe(e,t,n,null,r)}}}}function uF(e,t,r,n){var i=tF(n);if(i=Qg(i),i!==null){var o=sv(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=eoe(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ioe(e,t,n,i,r),null}var Ph=null,cF=null,aA=null;function doe(){if(aA)return aA;var e,t=cF,r=t.length,n,i="value"in Ph?Ph.value:Ph.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return aA=i.slice(e,1<n?1-n:void 0)}function sA(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function YM(){return!0}function Une(){return!1}function Xl(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?YM:Une,this.isPropagationStopped=Une,this}return Hi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=YM)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=YM)},persist:function(){},isPersistent:YM}),t}var y1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fF=Xl(y1),AS=Hi({},y1,{view:0,detail:0}),aet=Xl(AS),Uz,Vz,Gw,UA=Hi({},AS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pF,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gw&&(Gw&&e.type==="mousemove"?(Uz=e.screenX-Gw.screenX,Vz=e.screenY-Gw.screenY):Vz=Uz=0,Gw=e),Uz)},movementY:function(e){return"movementY"in e?e.movementY:Vz}}),Vne=Xl(UA),set=Hi({},UA,{dataTransfer:0}),uet=Xl(set),cet=Hi({},AS,{relatedTarget:0}),Gz=Xl(cet),fet=Hi({},y1,{animationName:0,elapsedTime:0,pseudoElement:0}),pet=Xl(fet),det=Hi({},y1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),het=Xl(det),met=Hi({},y1,{data:0}),Gne=Xl(met),get={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vet={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yet={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _et(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yet[e])?!!t[e]:!1}function pF(){return _et}var xet=Hi({},AS,{key:function(e){if(e.key){var t=get[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sA(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vet[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pF,charCode:function(e){return e.type==="keypress"?sA(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sA(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bet=Xl(xet),wet=Hi({},UA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hne=Xl(wet),Eet=Hi({},AS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pF}),Iet=Xl(Eet),Tet=Hi({},y1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cet=Xl(Tet),Met=Hi({},UA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aet=Xl(Met),Oet=[9,13,27,32],dF=Up&&"CompositionEvent"in window,sS=null;Up&&"documentMode"in document&&(sS=document.documentMode);var Det=Up&&"TextEvent"in window&&!sS,hoe=Up&&(!dF||sS&&8<sS&&11>=sS),Wne=" ",$ne=!1;function moe(e,t){switch(e){case"keyup":return Oet.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1;}}function goe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var J0=!1;function Pet(e,t){switch(e){case"compositionend":return goe(t);case"keypress":return t.which!==32?null:($ne=!0,Wne);case"textInput":return e=t.data,e===Wne&&$ne?null:e;default:return null;}}function Let(e,t){if(J0)return e==="compositionend"||!dF&&moe(e,t)?(e=doe(),aA=cF=Ph=null,J0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hoe&&t.locale!=="ko"?null:t.data;default:return null;}}var Net={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Net[e.type]:t==="textarea"}function voe(e,t,r,n){Kie(n),t=_A(t,"onChange"),0<t.length&&(r=new fF("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lS=null,bS=null;function Ret(e){woe(e,0)}function VA(e){var t=t1(e);if(Vie(t))return e}function ket(e,t){if(e==="change")return t}var yoe=!1;Up&&(Up?(XM="oninput"in document,XM||(Hz=document.createElement("div"),Hz.setAttribute("oninput","return;"),XM=typeof Hz.oninput=="function"),KM=XM):KM=!1,yoe=KM&&(!document.documentMode||9<document.documentMode));var KM,XM,Hz;function Yne(){lS&&(lS.detachEvent("onpropertychange",_oe),bS=lS=null)}function _oe(e){if(e.propertyName==="value"&&VA(bS)){var t=[];if(voe(t,bS,e,tF(e)),e=Ret,Xg)e(t);else{Xg=!0;try{rF(e,t)}finally{Xg=!1,iF()}}}}function qet(e,t,r){e==="focusin"?(Yne(),lS=t,bS=r,lS.attachEvent("onpropertychange",_oe)):e==="focusout"&&Yne()}function jet(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return VA(bS)}function zet(e,t){if(e==="click")return VA(t)}function Fet(e,t){if(e==="input"||e==="change")return VA(t)}function Bet(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Iu=typeof Object.is=="function"?Object.is:Bet,Uet=Object.prototype.hasOwnProperty;function wS(e,t){if(Iu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Uet.call(t,r[n])||!Iu(e[r[n]],t[r[n]]))return!1;return!0}function Kne(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xne(e,t){var r=Kne(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kne(r)}}function xoe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xoe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qne(){for(var e=window,t=mA();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=mA(e.document)}return t}function x6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vet=Up&&"documentMode"in document&&11>=document.documentMode,e1=null,b6=null,uS=null,w6=!1;function Jne(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;w6||e1==null||e1!==mA(n)||(n=e1,"selectionStart"in n&&x6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uS&&wS(uS,n)||(uS=n,n=_A(b6,"onSelect"),0<n.length&&(t=new fF("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=e1)))}sF("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);sF("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);sF(YJe,2);for(Wz="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),QM=0;QM<Wz.length;QM++)aF.set(Wz[QM],0);var Wz,QM;h1("onMouseEnter",["mouseout","mouseover"]);h1("onMouseLeave",["mouseout","mouseover"]);h1("onPointerEnter",["pointerout","pointerover"]);h1("onPointerLeave",["pointerout","pointerover"]);ov("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ov("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ov("onBeforeInput",["compositionend","keypress","textInput","paste"]);ov("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ov("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ov("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),boe=new Set("cancel close invalid load scroll toggle".split(" ").concat(eS));function eie(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GJe(n,t,void 0,e),e.currentTarget=null}function woe(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],p=c.instance,m=c.currentTarget;if(c=c.listener,p!==o&&i.isPropagationStopped())break e;eie(i,c,m),o=p}else for(a=0;a<n.length;a++){if(c=n[a],p=c.instance,m=c.currentTarget,c=c.listener,p!==o&&i.isPropagationStopped())break e;eie(i,c,m),o=p}}}if(vA)throw e=v6,vA=!1,v6=null,e}function Ri(e,t){var r=Coe(t),n=e+"__bubble";r.has(n)||(Eoe(t,e,2,!1),r.add(n))}var tie="_reactListening"+Math.random().toString(36).slice(2);function Soe(e){e[tie]||(e[tie]=!0,Fie.forEach(function(t){boe.has(t)||rie(t,!1,e,null),rie(t,!0,e,null)}))}function rie(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&boe.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=Coe(o),c=e+"__"+(t?"capture":"bubble");a.has(c)||(t&&(i|=4),Eoe(o,e,i,t),a.add(c))}function Eoe(e,t,r,n){var i=aF.get(t);switch(i===void 0?2:i){case 0:i=iet;break;case 1:i=oet;break;default:i=lF;}r=i.bind(null,t,r,e),i=void 0,!g6||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ioe(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var p=a.tag;if((p===3||p===4)&&(p=a.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Qg(c),a===null)return;if(p=a.tag,p===5||p===6){n=o=a;continue e}c=c.parentNode}}n=n.return}FJe(function(){var m=o,g=tF(r),S=[];e:{var I=foe.get(e);if(I!==void 0){var M=fF,P=e;switch(e){case"keypress":if(sA(r)===0)break e;case"keydown":case"keyup":M=bet;break;case"focusin":P="focus",M=Gz;break;case"focusout":P="blur",M=Gz;break;case"beforeblur":case"afterblur":M=Gz;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Vne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=uet;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Iet;break;case soe:case loe:case uoe:M=pet;break;case coe:M=Cet;break;case"scroll":M=aet;break;case"wheel":M=Aet;break;case"copy":case"cut":case"paste":M=het;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Hne;}var N=(t&4)!==0,L=!N&&e==="scroll",q=N?I!==null?I+"Capture":null:I;N=[];for(var j=m,B;j!==null;){B=j;var H=B.stateNode;if(B.tag===5&&H!==null&&(B=H,q!==null&&(H=vS(j,q),H!=null&&N.push(SS(j,H,B)))),L)break;j=j.return}0<N.length&&(I=new M(I,P,null,r,g),S.push({event:I,listeners:N}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",I&&!(t&16)&&(P=r.relatedTarget||r.fromElement)&&(Qg(P)||P[_1]))break e;if((M||I)&&(I=g.window===g?g:(I=g.ownerDocument)?I.defaultView||I.parentWindow:window,M?(P=r.relatedTarget||r.toElement,M=m,P=P?Qg(P):null,P!==null&&(L=sv(P),P!==L||P.tag!==5&&P.tag!==6)&&(P=null)):(M=null,P=m),M!==P)){if(N=Vne,H="onMouseLeave",q="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(N=Hne,H="onPointerLeave",q="onPointerEnter",j="pointer"),L=M==null?I:t1(M),B=P==null?I:t1(P),I=new N(H,j+"leave",M,r,g),I.target=L,I.relatedTarget=B,H=null,Qg(g)===m&&(N=new N(q,j+"enter",P,r,g),N.target=B,N.relatedTarget=L,H=N),L=H,M&&P)t:{for(N=M,q=P,j=0,B=N;B;B=Y0(B))j++;for(B=0,H=q;H;H=Y0(H))B++;for(;0<j-B;)N=Y0(N),j--;for(;0<B-j;)q=Y0(q),B--;for(;j--;){if(N===q||q!==null&&N===q.alternate)break t;N=Y0(N),q=Y0(q)}N=null}else N=null;M!==null&&nie(S,I,M,N,!1),P!==null&&L!==null&&nie(S,L,P,N,!0)}}e:{if(I=m?t1(m):window,M=I.nodeName&&I.nodeName.toLowerCase(),M==="select"||M==="input"&&I.type==="file")var Q=ket;else if(Zne(I)){if(yoe)Q=Fet;else{Q=jet;var ee=qet}}else(M=I.nodeName)&&M.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Q=zet);if(Q&&(Q=Q(e,m))){voe(S,Q,r,g);break e}ee&&ee(e,I,m),e==="focusout"&&(ee=I._wrapperState)&&ee.controlled&&I.type==="number"&&l6(I,"number",I.value)}switch(ee=m?t1(m):window,e){case"focusin":(Zne(ee)||ee.contentEditable==="true")&&(e1=ee,b6=m,uS=null);break;case"focusout":uS=b6=e1=null;break;case"mousedown":w6=!0;break;case"contextmenu":case"mouseup":case"dragend":w6=!1,Jne(S,r,g);break;case"selectionchange":if(Vet)break;case"keydown":case"keyup":Jne(S,r,g);}var ne;if(dF)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e;}de=void 0}else J0?moe(e,r)&&(de="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(de="onCompositionStart");de&&(hoe&&r.locale!=="ko"&&(J0||de!=="onCompositionStart"?de==="onCompositionEnd"&&J0&&(ne=doe()):(Ph=g,cF="value"in Ph?Ph.value:Ph.textContent,J0=!0)),ee=_A(m,de),0<ee.length&&(de=new Gne(de,e,null,r,g),S.push({event:de,listeners:ee}),ne?de.data=ne:(ne=goe(r),ne!==null&&(de.data=ne)))),(ne=Det?Pet(e,r):Let(e,r))&&(m=_A(m,"onBeforeInput"),0<m.length&&(g=new Gne("onBeforeInput","beforeinput",null,r,g),S.push({event:g,listeners:m}),g.data=ne))}woe(S,t)})}function SS(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _A(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vS(e,r),o!=null&&n.unshift(SS(e,o,i)),o=vS(e,t),o!=null&&n.push(SS(e,o,i))),e=e.return}return n}function Y0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nie(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var c=r,p=c.alternate,m=c.stateNode;if(p!==null&&p===n)break;c.tag===5&&m!==null&&(c=m,i?(p=vS(r,o),p!=null&&a.unshift(SS(r,p,c))):i||(p=vS(r,o),p!=null&&a.push(SS(r,p,c)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function xA(){}var $z=null,Zz=null;function Toe(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus;}return!1}function S6(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iie=typeof setTimeout=="function"?setTimeout:void 0,Get=typeof clearTimeout=="function"?clearTimeout:void 0;function hF(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function l1(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function oie(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yz=0;function Het(e){return{$$typeof:J6,toString:e,valueOf:e}}var GA=Math.random().toString(36).slice(2),Lh="__reactFiber$"+GA,bA="__reactProps$"+GA,_1="__reactContainer$"+GA,aie="__reactEvents$"+GA;function Qg(e){var t=e[Lh];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_1]||r[Lh]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oie(e);e!==null;){if(r=e[Lh])return r;e=oie(e)}return t}e=r,r=e.parentNode}return null}function OS(e){return e=e[Lh]||e[_1],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function t1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Lt(33))}function HA(e){return e[bA]||null}function Coe(e){var t=e[aie];return t===void 0&&(t=e[aie]=new Set),t}var E6=[],r1=-1;function Zh(e){return{current:e}}function ki(e){0>r1||(e.current=E6[r1],E6[r1]=null,r1--)}function io(e,t){r1++,E6[r1]=e.current,e.current=t}var Hh={},Qa=Zh(Hh),ol=Zh(!1),rv=Hh;function m1(e,t){var r=e.type.contextTypes;if(!r)return Hh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function al(e){return e=e.childContextTypes,e!=null}function wA(){ki(ol),ki(Qa)}function sie(e,t,r){if(Qa.current!==Hh)throw Error(Lt(168));io(Qa,t),io(ol,r)}function Moe(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Lt(108,i1(t)||"Unknown",i));return Hi({},r,n)}function lA(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hh,rv=Qa.current,io(Qa,e),io(ol,ol.current),!0}function lie(e,t,r){var n=e.stateNode;if(!n)throw Error(Lt(169));r?(e=Moe(e,t,rv),n.__reactInternalMemoizedMergedChildContext=e,ki(ol),ki(Qa),io(Qa,e)):ki(ol),io(ol,r)}var mF=null,tv=null,Wet=ea.unstable_runWithPriority,gF=ea.unstable_scheduleCallback,I6=ea.unstable_cancelCallback,$et=ea.unstable_shouldYield,uie=ea.unstable_requestPaint,T6=ea.unstable_now,Zet=ea.unstable_getCurrentPriorityLevel,WA=ea.unstable_ImmediatePriority,Aoe=ea.unstable_UserBlockingPriority,Ooe=ea.unstable_NormalPriority,Doe=ea.unstable_LowPriority,Poe=ea.unstable_IdlePriority,Kz={},Yet=uie!==void 0?uie:function(){},qp=null,uA=null,Xz=!1,cie=T6(),Ka=1e4>cie?T6:function(){return T6()-cie};function g1(){switch(Zet()){case WA:return 99;case Aoe:return 98;case Ooe:return 97;case Doe:return 96;case Poe:return 95;default:throw Error(Lt(332));}}function Loe(e){switch(e){case 99:return WA;case 98:return Aoe;case 97:return Ooe;case 96:return Doe;case 95:return Poe;default:throw Error(Lt(332));}}function nv(e,t){return e=Loe(e),Wet(e,t)}function ES(e,t,r){return e=Loe(e),gF(e,t,r)}function bf(){if(uA!==null){var e=uA;uA=null,I6(e)}Noe()}function Noe(){if(!Xz&&qp!==null){Xz=!0;var e=0;try{var t=qp;nv(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),qp=null}catch(r){throw qp!==null&&(qp=qp.slice(e+1)),gF(WA,bf),r}finally{Xz=!1}}}var Ket=av.ReactCurrentBatchConfig;function Mc(e,t){if(e&&e.defaultProps){t=Hi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var SA=Zh(null),EA=null,n1=null,IA=null;function vF(){IA=n1=EA=null}function yF(e){var t=SA.current;ki(SA),e.type._context._currentValue=t}function Roe(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function u1(e,t){EA=e,IA=n1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ac=!0),e.firstContext=null)}function Mu(e,t){if(IA!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(IA=e,t=1073741823),t={context:e,observedBits:t,next:null},n1===null){if(EA===null)throw Error(Lt(308));n1=t,EA.dependencies={lanes:0,firstContext:t,responders:null}}else n1=n1.next=t;return e._currentValue}var Oh=!1;function _F(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function koe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zh(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function fie(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function IS(e,t,r,n){var i=e.updateQueue;Oh=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var p=c,m=p.next;p.next=null,a===null?o=m:a.next=m,a=p;var g=e.alternate;if(g!==null){g=g.updateQueue;var S=g.lastBaseUpdate;S!==a&&(S===null?g.firstBaseUpdate=m:S.next=m,g.lastBaseUpdate=p)}}if(o!==null){S=i.baseState,a=0,g=m=p=null;do{c=o.lane;var I=o.eventTime;if((n&c)===c){g!==null&&(g=g.next={eventTime:I,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var M=e,P=o;switch(c=t,I=r,P.tag){case 1:if(M=P.payload,typeof M=="function"){S=M.call(I,S,c);break e}S=M;break e;case 3:M.flags=M.flags&-4097|64;case 0:if(M=P.payload,c=typeof M=="function"?M.call(I,S,c):M,c==null)break e;S=Hi({},S,c);break e;case 2:Oh=!0;}}o.callback!==null&&(e.flags|=32,c=i.effects,c===null?i.effects=[o]:c.push(o))}else I={eventTime:I,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(m=g=I,p=S):g=g.next=I,a|=c;if(o=o.next,o===null){if(c=i.shared.pending,c===null)break;o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);g===null&&(p=S),i.baseState=p,i.firstBaseUpdate=m,i.lastBaseUpdate=g,PS|=a,e.lanes=a,e.memoizedState=S}}function pie(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Lt(191,i));i.call(n)}}}var qoe=new qA.Component().refs;function TA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Hi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $A={isMounted:function(e){return(e=e._reactInternals)?sv(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kl(),i=Fh(e),o=jh(n,i);o.payload=t,r!=null&&(o.callback=r),zh(e,o),Bh(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kl(),i=Fh(e),o=jh(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),zh(e,o),Bh(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kl(),n=Fh(e),i=jh(r,n);i.tag=2,t!=null&&(i.callback=t),zh(e,i),Bh(e,n,r)}};function die(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!wS(r,n)||!wS(i,o):!0}function joe(e,t,r){var n=!1,i=Hh,o=t.contextType;return typeof o=="object"&&o!==null?o=Mu(o):(i=al(t)?rv:Qa.current,n=t.contextTypes,o=(n=n!=null)?m1(e,i):Hh),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$A,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hie(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$A.enqueueReplaceState(t,t.state,null)}function C6(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=qoe,_F(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mu(o):(o=al(t)?rv:Qa.current,i.context=m1(e,o)),IS(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(TA(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$A.enqueueReplaceState(i,i.state,null),IS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var JM=Array.isArray;function Hw(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===qoe&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,e))}return e}function eA(e,t){if(e.type!=="textarea")throw Error(Lt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function zoe(e){function t(L,q){if(e){var j=L.lastEffect;j!==null?(j.nextEffect=q,L.lastEffect=q):L.firstEffect=L.lastEffect=q,q.nextEffect=null,q.flags=8}}function r(L,q){if(!e)return null;for(;q!==null;)t(L,q),q=q.sibling;return null}function n(L,q){for(L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function i(L,q){return L=$h(L,q),L.index=0,L.sibling=null,L}function o(L,q,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<q?(L.flags=2,q):j):(L.flags=2,q)):q}function a(L){return e&&L.alternate===null&&(L.flags=2),L}function c(L,q,j,B){return q===null||q.tag!==6?(q=r6(j,L.mode,B),q.return=L,q):(q=i(q,j),q.return=L,q)}function p(L,q,j,B){return q!==null&&q.elementType===j.type?(B=i(q,j.props),B.ref=Hw(L,q,j),B.return=L,B):(B=dA(j.type,j.key,j.props,null,L.mode,B),B.ref=Hw(L,q,j),B.return=L,B)}function m(L,q,j,B){return q===null||q.tag!==4||q.stateNode.containerInfo!==j.containerInfo||q.stateNode.implementation!==j.implementation?(q=n6(j,L.mode,B),q.return=L,q):(q=i(q,j.children||[]),q.return=L,q)}function g(L,q,j,B,H){return q===null||q.tag!==7?(q=d1(j,L.mode,B,H),q.return=L,q):(q=i(q,j),q.return=L,q)}function S(L,q,j){if(typeof q=="string"||typeof q=="number")return q=r6(""+q,L.mode,j),q.return=L,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Qw:return j=dA(q.type,q.key,q.props,null,L.mode,j),j.ref=Hw(L,null,q),j.return=L,j;case Kg:return q=n6(q,L.mode,j),q.return=L,q;}if(JM(q)||Fw(q))return q=d1(q,L.mode,j,null),q.return=L,q;eA(L,q)}return null}function I(L,q,j,B){var H=q!==null?q.key:null;if(typeof j=="string"||typeof j=="number")return H!==null?null:c(L,q,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qw:return j.key===H?j.type===Dh?g(L,q,j.props.children,B,H):p(L,q,j,B):null;case Kg:return j.key===H?m(L,q,j,B):null;}if(JM(j)||Fw(j))return H!==null?null:g(L,q,j,B,null);eA(L,j)}return null}function M(L,q,j,B,H){if(typeof B=="string"||typeof B=="number")return L=L.get(j)||null,c(q,L,""+B,H);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Qw:return L=L.get(B.key===null?j:B.key)||null,B.type===Dh?g(q,L,B.props.children,H,B.key):p(q,L,B,H);case Kg:return L=L.get(B.key===null?j:B.key)||null,m(q,L,B,H);}if(JM(B)||Fw(B))return L=L.get(j)||null,g(q,L,B,H,null);eA(q,B)}return null}function P(L,q,j,B){for(var H=null,Q=null,ee=q,ne=q=0,de=null;ee!==null&&ne<j.length;ne++){ee.index>ne?(de=ee,ee=null):de=ee.sibling;var ue=I(L,ee,j[ne],B);if(ue===null){ee===null&&(ee=de);break}e&&ee&&ue.alternate===null&&t(L,ee),q=o(ue,q,ne),Q===null?H=ue:Q.sibling=ue,Q=ue,ee=de}if(ne===j.length)return r(L,ee),H;if(ee===null){for(;ne<j.length;ne++)ee=S(L,j[ne],B),ee!==null&&(q=o(ee,q,ne),Q===null?H=ee:Q.sibling=ee,Q=ee);return H}for(ee=n(L,ee);ne<j.length;ne++)de=M(ee,L,ne,j[ne],B),de!==null&&(e&&de.alternate!==null&&ee.delete(de.key===null?ne:de.key),q=o(de,q,ne),Q===null?H=de:Q.sibling=de,Q=de);return e&&ee.forEach(function(be){return t(L,be)}),H}function N(L,q,j,B){var H=Fw(j);if(typeof H!="function")throw Error(Lt(150));if(j=H.call(j),j==null)throw Error(Lt(151));for(var Q=H=null,ee=q,ne=q=0,de=null,ue=j.next();ee!==null&&!ue.done;ne++,ue=j.next()){ee.index>ne?(de=ee,ee=null):de=ee.sibling;var be=I(L,ee,ue.value,B);if(be===null){ee===null&&(ee=de);break}e&&ee&&be.alternate===null&&t(L,ee),q=o(be,q,ne),Q===null?H=be:Q.sibling=be,Q=be,ee=de}if(ue.done)return r(L,ee),H;if(ee===null){for(;!ue.done;ne++,ue=j.next())ue=S(L,ue.value,B),ue!==null&&(q=o(ue,q,ne),Q===null?H=ue:Q.sibling=ue,Q=ue);return H}for(ee=n(L,ee);!ue.done;ne++,ue=j.next())ue=M(ee,L,ne,ue.value,B),ue!==null&&(e&&ue.alternate!==null&&ee.delete(ue.key===null?ne:ue.key),q=o(ue,q,ne),Q===null?H=ue:Q.sibling=ue,Q=ue);return e&&ee.forEach(function(Ee){return t(L,Ee)}),H}return function(L,q,j,B){var H=typeof j=="object"&&j!==null&&j.type===Dh&&j.key===null;H&&(j=j.props.children);var Q=typeof j=="object"&&j!==null;if(Q)switch(j.$$typeof){case Qw:e:{for(Q=j.key,H=q;H!==null;){if(H.key===Q){switch(H.tag){case 7:if(j.type===Dh){r(L,H.sibling),q=i(H,j.props.children),q.return=L,L=q;break e}break;default:if(H.elementType===j.type){r(L,H.sibling),q=i(H,j.props),q.ref=Hw(L,H,j),q.return=L,L=q;break e}}r(L,H);break}else t(L,H);H=H.sibling}j.type===Dh?(q=d1(j.props.children,L.mode,B,j.key),q.return=L,L=q):(B=dA(j.type,j.key,j.props,null,L.mode,B),B.ref=Hw(L,q,j),B.return=L,L=B)}return a(L);case Kg:e:{for(H=j.key;q!==null;){if(q.key===H){if(q.tag===4&&q.stateNode.containerInfo===j.containerInfo&&q.stateNode.implementation===j.implementation){r(L,q.sibling),q=i(q,j.children||[]),q.return=L,L=q;break e}else{r(L,q);break}}else t(L,q);q=q.sibling}q=n6(j,L.mode,B),q.return=L,L=q}return a(L);}if(typeof j=="string"||typeof j=="number")return j=""+j,q!==null&&q.tag===6?(r(L,q.sibling),q=i(q,j),q.return=L,L=q):(r(L,q),q=r6(j,L.mode,B),q.return=L,L=q),a(L);if(JM(j))return P(L,q,j,B);if(Fw(j))return N(L,q,j,B);if(Q&&eA(L,j),typeof j=="undefined"&&!H)switch(L.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Lt(152,i1(L.type)||"Component"));}return r(L,q)}}var CA=zoe(!0),Foe=zoe(!1),DS={},_f=Zh(DS),TS=Zh(DS),CS=Zh(DS);function Jg(e){if(e===DS)throw Error(Lt(174));return e}function M6(e,t){switch(io(CS,t),io(TS,e),io(_f,DS),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p6(t,e);}ki(_f),io(_f,t)}function v1(){ki(_f),ki(TS),ki(CS)}function mie(e){Jg(CS.current);var t=Jg(_f.current),r=p6(t,e.type);t!==r&&(io(TS,e),io(_f,r))}function xF(e){TS.current===e&&(ki(_f),ki(TS))}var no=Zh(0);function MA(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zp=null,Nh=null,xf=!1;function Boe(e,t){var r=Tu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function gie(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1;}}function A6(e){if(xf){var t=Nh;if(t){var r=t;if(!gie(e,t)){if(t=l1(r.nextSibling),!t||!gie(e,t)){e.flags=e.flags&-1025|2,xf=!1,zp=e;return}Boe(zp,r)}zp=e,Nh=l1(t.firstChild)}else e.flags=e.flags&-1025|2,xf=!1,zp=e}}function vie(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zp=e}function tA(e){if(e!==zp)return!1;if(!xf)return vie(e),xf=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!S6(t,e.memoizedProps))for(t=Nh;t;)Boe(e,t),t=l1(t.nextSibling);if(vie(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nh=l1(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nh=null}}else Nh=zp?l1(e.stateNode.nextSibling):null;return!0}function Qz(){Nh=zp=null,xf=!1}var c1=[];function bF(){for(var e=0;e<c1.length;e++)c1[e]._workInProgressVersionPrimary=null;c1.length=0}var cS=av.ReactCurrentDispatcher,Cu=av.ReactCurrentBatchConfig,MS=0,co=null,Ya=null,ga=null,AA=!1,fS=!1;function nl(){throw Error(Lt(321))}function wF(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Iu(e[r],t[r]))return!1;return!0}function SF(e,t,r,n,i,o){if(MS=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cS.current=e===null||e.memoizedState===null?Qet:Jet,e=r(n,i),fS){o=0;do{if(fS=!1,!(25>o))throw Error(Lt(301));o+=1,ga=Ya=null,t.updateQueue=null,cS.current=ett,e=r(n,i)}while(fS)}if(cS.current=LA,t=Ya!==null&&Ya.next!==null,MS=0,ga=Ya=co=null,AA=!1,t)throw Error(Lt(300));return e}function ev(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ga===null?co.memoizedState=ga=e:ga=ga.next=e,ga}function lv(){if(Ya===null){var e=co.alternate;e=e!==null?e.memoizedState:null}else e=Ya.next;var t=ga===null?co.memoizedState:ga.next;if(t!==null)ga=t,Ya=e;else{if(e===null)throw Error(Lt(310));Ya=e,e={memoizedState:Ya.memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},ga===null?co.memoizedState=ga=e:ga=ga.next=e}return ga}function vf(e,t){return typeof t=="function"?t(e):t}function Ww(e){var t=lv(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=Ya,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var c=a=o=null,p=i;do{var m=p.lane;if((MS&m)===m)c!==null&&(c=c.next={lane:0,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null}),n=p.eagerReducer===e?p.eagerState:e(n,p.action);else{var g={lane:m,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null};c===null?(a=c=g,o=n):c=c.next=g,co.lanes|=m,PS|=m}p=p.next}while(p!==null&&p!==i);c===null?o=n:c.next=a,Iu(n,t.memoizedState)||(Ac=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function $w(e){var t=lv(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Iu(o,t.memoizedState)||(Ac=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function yie(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(MS&e)===e)&&(t._workInProgressVersionPrimary=n,c1.push(t))),e)return r(t._source);throw c1.push(t),Error(Lt(350))}function Uoe(e,t,r,n){var i=Ms;if(i===null)throw Error(Lt(349));var o=t._getVersion,a=o(t._source),c=cS.current,p=c.useState(function(){return yie(i,t,r)}),m=p[1],g=p[0];p=ga;var S=e.memoizedState,I=S.refs,M=I.getSnapshot,P=S.source;S=S.subscribe;var N=co;return e.memoizedState={refs:I,source:t,subscribe:n},c.useEffect(function(){I.getSnapshot=r,I.setSnapshot=m;var L=o(t._source);if(!Iu(a,L)){L=r(t._source),Iu(g,L)||(m(L),L=Fh(N),i.mutableReadLanes|=L&i.pendingLanes),L=i.mutableReadLanes,i.entangledLanes|=L;for(var q=i.entanglements,j=L;0<j;){var B=31-Gh(j),H=1<<B;q[B]|=L,j&=~H}}},[r,t,n]),c.useEffect(function(){return n(t._source,function(){var L=I.getSnapshot,q=I.setSnapshot;try{q(L(t._source));var j=Fh(N);i.mutableReadLanes|=j&i.pendingLanes}catch(B){q(function(){throw B})}})},[t,n]),Iu(M,r)&&Iu(P,t)&&Iu(S,n)||(e={pending:null,dispatch:null,lastRenderedReducer:vf,lastRenderedState:g},e.dispatch=m=TF.bind(null,co,e),p.queue=e,p.baseQueue=null,g=yie(i,t,r),p.memoizedState=p.baseState=g),g}function Voe(e,t,r){var n=lv();return Uoe(n,e,t,r)}function Zw(e){var t=ev();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:vf,lastRenderedState:e},e=e.dispatch=TF.bind(null,co,e),[t.memoizedState,e]}function OA(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=co.updateQueue,t===null?(t={lastEffect:null},co.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _ie(e){var t=ev();return e={current:e},t.memoizedState=e}function DA(){return lv().memoizedState}function O6(e,t,r,n){var i=ev();co.flags|=e,i.memoizedState=OA(1|t,r,void 0,n===void 0?null:n)}function EF(e,t,r,n){var i=lv();n=n===void 0?null:n;var o=void 0;if(Ya!==null){var a=Ya.memoizedState;if(o=a.destroy,n!==null&&wF(n,a.deps)){OA(t,r,o,n);return}}co.flags|=e,i.memoizedState=OA(1|t,r,o,n)}function xie(e,t){return O6(516,4,e,t)}function PA(e,t){return EF(516,4,e,t)}function Goe(e,t){return EF(4,2,e,t)}function Hoe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Woe(e,t,r){return r=r!=null?r.concat([e]):null,EF(4,2,Hoe.bind(null,t,e),r)}function IF(){}function $oe(e,t){var r=lv();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wF(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zoe(e,t){var r=lv();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wF(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xet(e,t){var r=g1();nv(98>r?98:r,function(){e(!0)}),nv(97<r?97:r,function(){var n=Cu.transition;Cu.transition=1;try{e(!1),t()}finally{Cu.transition=n}})}function TF(e,t,r){var n=Kl(),i=Fh(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===co||a!==null&&a===co)fS=AA=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,p=a(c,r);if(o.eagerReducer=a,o.eagerState=p,Iu(p,c))return}catch(m){}finally{}Bh(e,i,n)}}var LA={readContext:Mu,useCallback:nl,useContext:nl,useEffect:nl,useImperativeHandle:nl,useLayoutEffect:nl,useMemo:nl,useReducer:nl,useRef:nl,useState:nl,useDebugValue:nl,useDeferredValue:nl,useTransition:nl,useMutableSource:nl,useOpaqueIdentifier:nl,unstable_isNewReconciler:!1},Qet={readContext:Mu,useCallback:function(e,t){return ev().memoizedState=[e,t===void 0?null:t],e},useContext:Mu,useEffect:xie,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,O6(4,2,Hoe.bind(null,t,e),r)},useLayoutEffect:function(e,t){return O6(4,2,e,t)},useMemo:function(e,t){var r=ev();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ev();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=TF.bind(null,co,e),[n.memoizedState,e]},useRef:_ie,useState:Zw,useDebugValue:IF,useDeferredValue:function(e){var t=Zw(e),r=t[0],n=t[1];return xie(function(){var i=Cu.transition;Cu.transition=1;try{n(e)}finally{Cu.transition=i}},[e]),r},useTransition:function(){var e=Zw(!1),t=e[0];return e=Xet.bind(null,e[1]),_ie(e),[e,t]},useMutableSource:function(e,t,r){var n=ev();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},Uoe(n,e,t,r)},useOpaqueIdentifier:function(){if(xf){var e=!1,t=Het(function(){throw e||(e=!0,r("r:"+(Yz++).toString(36))),Error(Lt(355))}),r=Zw(t)[1];return!(co.mode&2)&&(co.flags|=516,OA(5,function(){r("r:"+(Yz++).toString(36))},void 0,null)),t}return t="r:"+(Yz++).toString(36),Zw(t),t},unstable_isNewReconciler:!1},Jet={readContext:Mu,useCallback:$oe,useContext:Mu,useEffect:PA,useImperativeHandle:Woe,useLayoutEffect:Goe,useMemo:Zoe,useReducer:Ww,useRef:DA,useState:function(){return Ww(vf)},useDebugValue:IF,useDeferredValue:function(e){var t=Ww(vf),r=t[0],n=t[1];return PA(function(){var i=Cu.transition;Cu.transition=1;try{n(e)}finally{Cu.transition=i}},[e]),r},useTransition:function(){var e=Ww(vf)[0];return[DA().current,e]},useMutableSource:Voe,useOpaqueIdentifier:function(){return Ww(vf)[0]},unstable_isNewReconciler:!1},ett={readContext:Mu,useCallback:$oe,useContext:Mu,useEffect:PA,useImperativeHandle:Woe,useLayoutEffect:Goe,useMemo:Zoe,useReducer:$w,useRef:DA,useState:function(){return $w(vf)},useDebugValue:IF,useDeferredValue:function(e){var t=$w(vf),r=t[0],n=t[1];return PA(function(){var i=Cu.transition;Cu.transition=1;try{n(e)}finally{Cu.transition=i}},[e]),r},useTransition:function(){var e=$w(vf)[0];return[DA().current,e]},useMutableSource:Voe,useOpaqueIdentifier:function(){return $w(vf)[0]},unstable_isNewReconciler:!1},ttt=av.ReactCurrentOwner,Ac=!1;function il(e,t,r,n){t.child=e===null?Foe(t,null,r,n):CA(t,e.child,r,n)}function bie(e,t,r,n,i){r=r.render;var o=t.ref;return u1(t,i),n=SF(e,t,r,n,o,i),e!==null&&!Ac?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Fp(e,t,i)):(t.flags|=1,il(e,t,n,i),t.child)}function wie(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!PF(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Yoe(e,t,a,n,i,o)):(e=dA(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&o)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:wS,r(i,n)&&e.ref===t.ref)?Fp(e,t,o):(t.flags|=1,e=$h(a,n),e.ref=t.ref,e.return=t,t.child=e)}function Yoe(e,t,r,n,i,o){if(e!==null&&wS(e.memoizedProps,n)&&e.ref===t.ref)if(Ac=!1,(o&i)!==0)e.flags&16384&&(Ac=!0);else return t.lanes=e.lanes,Fp(e,t,o);return D6(e,t,r,n,o)}function Jz(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if(!(t.mode&4))t.memoizedState={baseLanes:0},nA(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},nA(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},nA(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,nA(t,n);return il(e,t,i,r),t.child}function Koe(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function D6(e,t,r,n,i){var o=al(r)?rv:Qa.current;return o=m1(t,o),u1(t,i),r=SF(e,t,r,n,o,i),e!==null&&!Ac?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Fp(e,t,i)):(t.flags|=1,il(e,t,r,i),t.child)}function Sie(e,t,r,n,i){if(al(r)){var o=!0;lA(t)}else o=!1;if(u1(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),joe(t,r,n),C6(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var p=a.context,m=r.contextType;typeof m=="object"&&m!==null?m=Mu(m):(m=al(r)?rv:Qa.current,m=m1(t,m));var g=r.getDerivedStateFromProps,S=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";S||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||p!==m)&&hie(t,a,n,m),Oh=!1;var I=t.memoizedState;a.state=I,IS(t,n,a,i),p=t.memoizedState,c!==n||I!==p||ol.current||Oh?(typeof g=="function"&&(TA(t,r,g,n),p=t.memoizedState),(c=Oh||die(t,r,c,n,I,p,m))?(S||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=m,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,koe(e,t),c=t.memoizedProps,m=t.type===t.elementType?c:Mc(t.type,c),a.props=m,S=t.pendingProps,I=a.context,p=r.contextType,typeof p=="object"&&p!==null?p=Mu(p):(p=al(r)?rv:Qa.current,p=m1(t,p));var M=r.getDerivedStateFromProps;(g=typeof M=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==S||I!==p)&&hie(t,a,n,p),Oh=!1,I=t.memoizedState,a.state=I,IS(t,n,a,i);var P=t.memoizedState;c!==S||I!==P||ol.current||Oh?(typeof M=="function"&&(TA(t,r,M,n),P=t.memoizedState),(m=Oh||die(t,r,m,n,I,P,p))?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,P,p),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,P,p)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=P),a.props=n,a.state=P,a.context=p,n=m):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),n=!1)}return P6(e,t,r,n,o,i)}function P6(e,t,r,n,i,o){Koe(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&lie(t,r,!1),Fp(e,t,o);n=t.stateNode,ttt.current=t;var c=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=CA(t,e.child,null,o),t.child=CA(t,null,c,o)):il(e,t,c,o),t.memoizedState=n.state,i&&lie(t,r,!0),t.child}function Eie(e){var t=e.stateNode;t.pendingContext?sie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sie(e,t.context,!1),M6(e,t.containerInfo)}var rA={dehydrated:null,retryLane:0};function Iie(e,t,r){var n=t.pendingProps,i=no.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),io(no,i&1),e===null?(n.fallback!==void 0&&A6(t),e=n.children,i=n.fallback,o?(e=Tie(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=rA,e):typeof n.unstable_expectedLoadTime=="number"?(e=Tie(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=rA,t.lanes=33554432,e):(r=LF({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=Mie(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=rA,n):(r=Cie(e,t,n.children,r),t.memoizedState=null,r):o?(n=Mie(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=rA,n):(r=Cie(e,t,n.children,r),t.memoizedState=null,r)}function Tie(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=LF(t,i,0,null),r=d1(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function Cie(e,t,r,n){var i=e.child;return e=i.sibling,r=$h(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Mie(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var c={mode:"hidden",children:r};return!(o&2)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=$h(a,c),e!==null?n=$h(e,n):(n=d1(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Aie(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Roe(e.return,t)}function e6(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function Oie(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(il(e,t,n.children,r),n=no.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Aie(e,r);else if(e.tag===19)Aie(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(io(no,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&MA(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),e6(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&MA(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}e6(t,!0,r,null,o,t.lastEffect);break;case"together":e6(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null;}return t.child}function Fp(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),PS|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Lt(153));if(t.child!==null){for(e=t.child,r=$h(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$h(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var Xoe,L6,Qoe,Joe;Xoe=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};L6=function(){};Qoe=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Jg(_f.current);var o=null;switch(r){case"input":i=a6(e,i),n=a6(e,n),o=[];break;case"option":i=u6(e,i),n=u6(e,n),o=[];break;case"select":i=Hi({},i,{value:void 0}),n=Hi({},n,{value:void 0}),o=[];break;case"textarea":i=c6(e,i),n=c6(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xA);}d6(r,n);var a;r=null;for(m in i)if(!n.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(mS.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in n){var p=n[m];if(c=i!=null?i[m]:void 0,n.hasOwnProperty(m)&&p!==c&&(p!=null||c!=null))if(m==="style"){if(c){for(a in c)!c.hasOwnProperty(a)||p&&p.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in p)p.hasOwnProperty(a)&&c[a]!==p[a]&&(r||(r={}),r[a]=p[a])}else r||(o||(o=[]),o.push(m,r)),r=p;}else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,c=c?c.__html:void 0,p!=null&&c!==p&&(o=o||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(mS.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&Ri("scroll",e),o||c===p||(o=[])):typeof p=="object"&&p!==null&&p.$$typeof===J6?p.toString():(o=o||[]).push(m,p))}r&&(o=o||[]).push("style",r);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};Joe=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yw(e,t){if(!xf)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null;}}function rtt(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return al(t.type)&&wA(),null;case 3:return v1(),ki(ol),ki(Qa),bF(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tA(t)?t.flags|=4:n.hydrate||(t.flags|=256)),L6(t),null;case 5:xF(t);var i=Jg(CS.current);if(r=t.type,e!==null&&t.stateNode!=null)Qoe(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Lt(166));return null}if(e=Jg(_f.current),tA(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Lh]=t,n[bA]=o,r){case"dialog":Ri("cancel",n),Ri("close",n);break;case"iframe":case"object":case"embed":Ri("load",n);break;case"video":case"audio":for(e=0;e<eS.length;e++)Ri(eS[e],n);break;case"source":Ri("error",n);break;case"img":case"image":case"link":Ri("error",n),Ri("load",n);break;case"details":Ri("toggle",n);break;case"input":Pne(n,o),Ri("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ri("invalid",n);break;case"textarea":Nne(n,o),Ri("invalid",n);}d6(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):mS.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ri("scroll",n));switch(r){case"input":WM(n),Lne(n,o,!0);break;case"textarea":WM(n),Rne(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=xA);}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===f6.html&&(e=Wie(r)),e===f6.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Lh]=t,e[bA]=n,Xoe(e,t,!1,!1),t.stateNode=e,a=h6(r,n),r){case"dialog":Ri("cancel",e),Ri("close",e),i=n;break;case"iframe":case"object":case"embed":Ri("load",e),i=n;break;case"video":case"audio":for(i=0;i<eS.length;i++)Ri(eS[i],e);i=n;break;case"source":Ri("error",e),i=n;break;case"img":case"image":case"link":Ri("error",e),Ri("load",e),i=n;break;case"details":Ri("toggle",e),i=n;break;case"input":Pne(e,n),i=a6(e,n),Ri("invalid",e);break;case"option":i=u6(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Hi({},n,{value:void 0}),Ri("invalid",e);break;case"textarea":Nne(e,n),i=c6(e,n),Ri("invalid",e);break;default:i=n;}d6(r,i);var c=i;for(o in c)if(c.hasOwnProperty(o)){var p=c[o];o==="style"?Yie(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&$ie(e,p)):o==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&gS(e,p):typeof p=="number"&&gS(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mS.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Ri("scroll",e):p!=null&&$6(e,o,p,a))}switch(r){case"input":WM(e),Lne(e,n,!1);break;case"textarea":WM(e),Rne(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vh(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?o1(e,!!n.multiple,o,!1):n.defaultValue!=null&&o1(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xA);}Toe(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Joe(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Lt(166));r=Jg(CS.current),Jg(_f.current),tA(t)?(n=t.stateNode,r=t.memoizedProps,n[Lh]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Lh]=t,t.stateNode=n)}return null;case 13:return ki(no),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&tA(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||no.current&1?va===0&&(va=3):((va===0||va===3)&&(va=4),Ms===null||!(PS&134217727)&&!(b1&134217727)||f1(Ms,Xa))),(n||r)&&(t.flags|=4),null);case 4:return v1(),L6(t),e===null&&Soe(t.stateNode.containerInfo),null;case 10:return yF(t),null;case 17:return al(t.type)&&wA(),null;case 19:if(ki(no),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null){if(o)Yw(n,!1);else{if(va!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=MA(e),a!==null){for(t.flags|=64,Yw(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return io(no,no.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ka()>z6&&(t.flags|=64,o=!0,Yw(n,!1),t.lanes=33554432)}}else{if(!o)if(e=MA(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yw(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!xf)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ka()-n.renderingStartTime>z6&&r!==1073741824&&(t.flags|=64,o=!0,Yw(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ka(),r.sibling=null,t=no.current,io(no,o?t&1|2:t&1),r):null;case 23:case 24:return DF(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null;}throw Error(Lt(156,t.tag))}function ntt(e){switch(e.tag){case 1:al(e.type)&&wA();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(v1(),ki(ol),ki(Qa),bF(),t=e.flags,t&64)throw Error(Lt(285));return e.flags=t&-4097|64,e;case 5:return xF(e),null;case 13:return ki(no),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return ki(no),null;case 4:return v1(),null;case 10:return yF(e),null;case 23:case 24:return DF(),null;default:return null;}}function CF(e,t){try{var r="",n=t;do r+=RJe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function N6(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var itt=typeof WeakMap=="function"?WeakMap:Map;function eae(e,t,r){r=jh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){RA||(RA=!0,F6=n),N6(e,t)},r}function tae(e,t,r){r=jh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return N6(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(yf===null?yf=new Set([this]):yf.add(this),N6(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var ott=typeof WeakSet=="function"?WeakSet:Set;function Die(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Uh(e,r)}else t.current=null}function att(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Mc(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&hF(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return;}throw Error(Lt(163))}function stt(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(cae(r,e),mtt(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Mc(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&pie(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode;}pie(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&Toe(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&ooe(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return;}throw Error(Lt(163))}function Pie(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Zie("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Lie(e,t){if(tv&&typeof tv.onCommitFiberUnmount=="function")try{tv.onCommitFiberUnmount(mF,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)cae(t,r);else{n=t;try{i()}catch(o){Uh(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Die(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uh(t,o)}break;case 5:Die(t);break;case 4:rae(e,t);}}function Nie(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Rie(e){return e.tag===5||e.tag===3||e.tag===4}function kie(e){e:{for(var t=e.return;t!==null;){if(Rie(t))break e;t=t.return}throw Error(Lt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Lt(161));}r.flags&16&&(gS(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Rie(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?R6(e,r,t):k6(e,r,t)}function R6(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xA));else if(n!==4&&(e=e.child,e!==null))for(R6(e,t,r),e=e.sibling;e!==null;)R6(e,t,r),e=e.sibling}function k6(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(k6(e,t,r),e=e.sibling;e!==null;)k6(e,t,r),e=e.sibling}function rae(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Lt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e;}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,c=r,p=c;;)if(Lie(a,p),p.child!==null&&p.tag!==4)p.child.return=p,p=p.child;else{if(p===c)break e;for(;p.sibling===null;){if(p.return===null||p.return===c)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o?(a=i,c=r.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Lie(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function t6(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[bA]=n,e==="input"&&n.type==="radio"&&n.name!=null&&Gie(r,n),h6(e,i),t=h6(e,n),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];a==="style"?Yie(r,c):a==="dangerouslySetInnerHTML"?$ie(r,c):a==="children"?gS(r,c):$6(r,a,c,t)}switch(e){case"input":s6(r,n);break;case"textarea":Hie(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?o1(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?o1(r,!!n.multiple,n.defaultValue,!0):o1(r,!!n.multiple,n.multiple?[]:"",!1));}}}return;case 6:if(t.stateNode===null)throw Error(Lt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,ooe(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(OF=Ka(),Pie(t.child,!0)),qie(t);return;case 19:qie(t);return;case 17:return;case 23:case 24:Pie(t,t.memoizedState!==null);return;}throw Error(Lt(163))}function qie(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ott),t.forEach(function(n){var i=ytt.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ltt(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var utt=Math.ceil,NA=av.ReactCurrentDispatcher,MF=av.ReactCurrentOwner,zr=0,Ms=null,jo=null,Xa=0,iv=0,q6=Zh(0),va=0,ZA=null,x1=0,PS=0,b1=0,AF=0,j6=null,OF=0,z6=1/0;function w1(){z6=Ka()+500}var ir=null,RA=!1,F6=null,yf=null,Wh=!1,pS=null,tS=90,B6=[],U6=[],Bp=null,dS=0,V6=null,cA=-1,jp=0,fA=0,hS=null,pA=!1;function Kl(){return zr&48?Ka():cA!==-1?cA:cA=Ka()}function Fh(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return g1()===99?1:2;if(jp===0&&(jp=x1),Ket.transition!==0){fA!==0&&(fA=j6!==null?j6.pendingLanes:0),e=jp;var t=4186112&~fA;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=g1(),zr&4&&e===98?e=yA(12,jp):(e=XJe(e),e=yA(e,jp)),e}function Bh(e,t,r){if(50<dS)throw dS=0,V6=null,Error(Lt(185));if(e=YA(e,t),e===null)return null;BA(e,t,r),e===Ms&&(b1|=t,va===4&&f1(e,Xa));var n=g1();t===1?zr&8&&!(zr&48)?G6(e):(Au(e,r),zr===0&&(w1(),bf())):(!(zr&4)||n!==98&&n!==99||(Bp===null?Bp=new Set([e]):Bp.add(e)),Au(e,r)),j6=e}function YA(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Au(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Gh(a),p=1<<c,m=o[c];if(m===-1){if(!(p&n)||p&i){m=t,K0(p);var g=Ti;o[c]=10<=g?m+250:6<=g?m+5e3:-1}}else m<=t&&(e.expiredLanes|=p);a&=~p}if(n=xS(e,e===Ms?Xa:0),t=Ti,n===0)r!==null&&(r!==Kz&&I6(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==Kz&&I6(r)}t===15?(r=G6.bind(null,e),qp===null?(qp=[r],uA=gF(WA,Noe)):qp.push(r),r=Kz):t===14?r=ES(99,G6.bind(null,e)):(r=QJe(t),r=ES(r,nae.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function nae(e){if(cA=-1,fA=jp=0,zr&48)throw Error(Lt(327));var t=e.callbackNode;if(Yh()&&e.callbackNode!==t)return null;var r=xS(e,e===Ms?Xa:0);if(r===0)return null;var n=r,i=zr;zr|=16;var o=sae();(Ms!==e||Xa!==n)&&(w1(),p1(e,n));do try{ptt();break}catch(c){aae(e,c)}while(!0);if(vF(),NA.current=o,zr=i,jo!==null?n=0:(Ms=null,Xa=0,n=va),x1&b1)p1(e,0);else if(n!==0){if(n===2&&(zr|=64,e.hydrate&&(e.hydrate=!1,hF(e.containerInfo)),r=poe(e),r!==0&&(n=rS(e,r))),n===1)throw t=ZA,p1(e,0),f1(e,r),Au(e,Ka()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Lt(345));case 2:Yg(e);break;case 3:if(f1(e,r),(r&62914560)===r&&(n=OF+500-Ka(),10<n)){if(xS(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Kl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=iie(Yg.bind(null,e),n);break}Yg(e);break;case 4:if(f1(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-Gh(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=Ka()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*utt(r/1960))-r,10<r){e.timeoutHandle=iie(Yg.bind(null,e),r);break}Yg(e);break;case 5:Yg(e);break;default:throw Error(Lt(329));}}return Au(e,Ka()),e.callbackNode===t?nae.bind(null,e):null}function f1(e,t){for(t&=~AF,t&=~b1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gh(t),n=1<<r;e[r]=-1,t&=~n}}function G6(e){if(zr&48)throw Error(Lt(327));if(Yh(),e===Ms&&e.expiredLanes&Xa){var t=Xa,r=rS(e,t);x1&b1&&(t=xS(e,t),r=rS(e,t))}else t=xS(e,0),r=rS(e,t);if(e.tag!==0&&r===2&&(zr|=64,e.hydrate&&(e.hydrate=!1,hF(e.containerInfo)),t=poe(e),t!==0&&(r=rS(e,t))),r===1)throw r=ZA,p1(e,0),f1(e,t),Au(e,Ka()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yg(e),Au(e,Ka()),null}function ctt(){if(Bp!==null){var e=Bp;Bp=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Au(t,Ka())})}bf()}function iae(e,t){var r=zr;zr|=1;try{return e(t)}finally{zr=r,zr===0&&(w1(),bf())}}function oae(e,t){var r=zr;zr&=-2,zr|=8;try{return e(t)}finally{zr=r,zr===0&&(w1(),bf())}}function nA(e,t){io(q6,iv),iv|=t,x1|=t}function DF(){iv=q6.current,ki(q6)}function p1(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Get(r)),jo!==null)for(r=jo.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&wA();break;case 3:v1(),ki(ol),ki(Qa),bF();break;case 5:xF(n);break;case 4:v1();break;case 13:ki(no);break;case 19:ki(no);break;case 10:yF(n);break;case 23:case 24:DF();}r=r.return}Ms=e,jo=$h(e.current,null),Xa=iv=x1=t,va=0,ZA=null,AF=b1=PS=0}function aae(e,t){do{var r=jo;try{if(vF(),cS.current=LA,AA){for(var n=co.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}AA=!1}if(MS=0,ga=Ya=co=null,fS=!1,MF.current=null,r===null||r.return===null){va=1,ZA=t,jo=null;break}e:{var o=e,a=r.return,c=r,p=t;if(t=Xa,c.flags|=2048,c.firstEffect=c.lastEffect=null,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p;if(!(c.mode&2)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var S=(no.current&1)!==0,I=a;do{var M;if(M=I.tag===13){var P=I.memoizedState;if(P!==null)M=P.dehydrated!==null;else{var N=I.memoizedProps;M=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!S}}if(M){var L=I.updateQueue;if(L===null){var q=new Set;q.add(m),I.updateQueue=q}else L.add(m);if(!(I.mode&2)){if(I.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var j=jh(-1,1);j.tag=2,zh(c,j)}c.lanes|=1;break e}p=void 0,c=t;var B=o.pingCache;if(B===null?(B=o.pingCache=new itt,p=new Set,B.set(m,p)):(p=B.get(m),p===void 0&&(p=new Set,B.set(m,p))),!p.has(c)){p.add(c);var H=vtt.bind(null,o,m,c);m.then(H,H)}I.flags|=4096,I.lanes=t;break e}I=I.return}while(I!==null);p=Error((i1(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}va!==5&&(va=2),p=CF(p,c),I=a;do{switch(I.tag){case 3:o=p,I.flags|=4096,t&=-t,I.lanes|=t;var Q=eae(I,o,t);fie(I,Q);break e;case 1:o=p;var ee=I.type,ne=I.stateNode;if(!(I.flags&64)&&(typeof ee.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(yf===null||!yf.has(ne)))){I.flags|=4096,t&=-t,I.lanes|=t;var de=tae(I,o,t);fie(I,de);break e}}I=I.return}while(I!==null)}uae(r)}catch(ue){t=ue,jo===r&&r!==null&&(jo=r=r.return);continue}break}while(!0)}function sae(){var e=NA.current;return NA.current=LA,e===null?LA:e}function rS(e,t){var r=zr;zr|=16;var n=sae();Ms===e&&Xa===t||p1(e,t);do try{ftt();break}catch(i){aae(e,i)}while(!0);if(vF(),zr=r,NA.current=n,jo!==null)throw Error(Lt(261));return Ms=null,Xa=0,va}function ftt(){for(;jo!==null;)lae(jo)}function ptt(){for(;jo!==null&&!$et();)lae(jo)}function lae(e){var t=fae(e.alternate,e,iv);e.memoizedProps=e.pendingProps,t===null?uae(e):jo=t,MF.current=null}function uae(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=ntt(t),r!==null){r.flags&=2047,jo=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=rtt(r,t,iv),r!==null){jo=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||iv&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){jo=t;return}jo=t=e}while(t!==null);va===0&&(va=5)}function Yg(e){var t=g1();return nv(99,dtt.bind(null,e,t)),null}function dtt(e,t){do Yh();while(pS!==null);if(zr&48)throw Error(Lt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Lt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,c=e.expirationTimes;0<o;){var p=31-Gh(o),m=1<<p;i[p]=0,a[p]=-1,c[p]=-1,o&=~m}if(Bp!==null&&!(n&24)&&Bp.has(e)&&Bp.delete(e),e===Ms&&(jo=Ms=null,Xa=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=zr,zr|=32,MF.current=null,$z=oA,a=Qne(),x6(a)){if("selectionStart"in a)c={start:a.selectionStart,end:a.selectionEnd};else e:if(c=(c=a.ownerDocument)&&c.defaultView||window,(m=c.getSelection&&c.getSelection())&&m.rangeCount!==0){c=m.anchorNode,o=m.anchorOffset,p=m.focusNode,m=m.focusOffset;try{c.nodeType,p.nodeType}catch(ue){c=null;break e}var g=0,S=-1,I=-1,M=0,P=0,N=a,L=null;t:for(;;){for(var q;N!==c||o!==0&&N.nodeType!==3||(S=g+o),N!==p||m!==0&&N.nodeType!==3||(I=g+m),N.nodeType===3&&(g+=N.nodeValue.length),(q=N.firstChild)!==null;)L=N,N=q;for(;;){if(N===a)break t;if(L===c&&++M===o&&(S=g),L===p&&++P===m&&(I=g),(q=N.nextSibling)!==null)break;N=L,L=N.parentNode}N=q}c=S===-1||I===-1?null:{start:S,end:I}}else c=null;c=c||{start:0,end:0}}else c=null;Zz={focusedElem:a,selectionRange:c},oA=!1,hS=null,pA=!1,ir=n;do try{htt()}catch(ue){if(ir===null)throw Error(Lt(330));Uh(ir,ue),ir=ir.nextEffect}while(ir!==null);hS=null,ir=n;do try{for(a=e;ir!==null;){var j=ir.flags;if(j&16&&gS(ir.stateNode,""),j&128){var B=ir.alternate;if(B!==null){var H=B.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(j&1038){case 2:kie(ir),ir.flags&=-3;break;case 6:kie(ir),ir.flags&=-3,t6(ir.alternate,ir);break;case 1024:ir.flags&=-1025;break;case 1028:ir.flags&=-1025,t6(ir.alternate,ir);break;case 4:t6(ir.alternate,ir);break;case 8:c=ir,rae(a,c);var Q=c.alternate;Nie(c),Q!==null&&Nie(Q);}ir=ir.nextEffect}}catch(ue){if(ir===null)throw Error(Lt(330));Uh(ir,ue),ir=ir.nextEffect}while(ir!==null);if(H=Zz,B=Qne(),j=H.focusedElem,a=H.selectionRange,B!==j&&j&&j.ownerDocument&&xoe(j.ownerDocument.documentElement,j)){for(a!==null&&x6(j)&&(B=a.start,H=a.end,H===void 0&&(H=B),("selectionStart"in j)?(j.selectionStart=B,j.selectionEnd=Math.min(H,j.value.length)):(H=(B=j.ownerDocument||document)&&B.defaultView||window,H.getSelection&&(H=H.getSelection(),c=j.textContent.length,Q=Math.min(a.start,c),a=a.end===void 0?Q:Math.min(a.end,c),!H.extend&&Q>a&&(c=a,a=Q,Q=c),c=Xne(j,Q),o=Xne(j,a),c&&o&&(H.rangeCount!==1||H.anchorNode!==c.node||H.anchorOffset!==c.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(B=B.createRange(),B.setStart(c.node,c.offset),H.removeAllRanges(),Q>a?(H.addRange(B),H.extend(o.node,o.offset)):(B.setEnd(o.node,o.offset),H.addRange(B)))))),B=[],H=j;H=H.parentNode;)H.nodeType===1&&B.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<B.length;j++)H=B[j],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}oA=!!$z,Zz=$z=null,e.current=r,ir=n;do try{for(j=e;ir!==null;){var ee=ir.flags;if(ee&36&&stt(j,ir.alternate,ir),ee&128){B=void 0;var ne=ir.ref;if(ne!==null){var de=ir.stateNode;switch(ir.tag){case 5:B=de;break;default:B=de;}typeof ne=="function"?ne(B):ne.current=B}}ir=ir.nextEffect}}catch(ue){if(ir===null)throw Error(Lt(330));Uh(ir,ue),ir=ir.nextEffect}while(ir!==null);ir=null,Yet(),zr=i}else e.current=r;if(Wh)Wh=!1,pS=e,tS=t;else for(ir=n;ir!==null;)t=ir.nextEffect,ir.nextEffect=null,ir.flags&8&&(ee=ir,ee.sibling=null,ee.stateNode=null),ir=t;if(n=e.pendingLanes,n===0&&(yf=null),n===1?e===V6?dS++:(dS=0,V6=e):dS=0,r=r.stateNode,tv&&typeof tv.onCommitFiberRoot=="function")try{tv.onCommitFiberRoot(mF,r,void 0,(r.current.flags&64)===64)}catch(ue){}if(Au(e,Ka()),RA)throw RA=!1,e=F6,F6=null,e;return zr&8||bf(),null}function htt(){for(;ir!==null;){var e=ir.alternate;pA||hS===null||(ir.flags&8?jne(ir,hS)&&(pA=!0):ir.tag===13&&ltt(e,ir)&&jne(ir,hS)&&(pA=!0));var t=ir.flags;t&256&&att(e,ir),!(t&512)||Wh||(Wh=!0,ES(97,function(){return Yh(),null})),ir=ir.nextEffect}}function Yh(){if(tS!==90){var e=97<tS?97:tS;return tS=90,nv(e,gtt)}return!1}function mtt(e,t){B6.push(t,e),Wh||(Wh=!0,ES(97,function(){return Yh(),null}))}function cae(e,t){U6.push(t,e),Wh||(Wh=!0,ES(97,function(){return Yh(),null}))}function gtt(){if(pS===null)return!1;var e=pS;if(pS=null,zr&48)throw Error(Lt(331));var t=zr;zr|=32;var r=U6;U6=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(p){if(o===null)throw Error(Lt(330));Uh(o,p)}}for(r=B6,B6=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var c=i.create;i.destroy=c()}catch(p){if(o===null)throw Error(Lt(330));Uh(o,p)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return zr=t,bf(),!0}function jie(e,t,r){t=CF(r,t),t=eae(e,t,1),zh(e,t),t=Kl(),e=YA(e,1),e!==null&&(BA(e,1,t),Au(e,t))}function Uh(e,t){if(e.tag===3)jie(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){jie(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yf===null||!yf.has(n))){e=CF(t,e);var i=tae(r,e,1);if(zh(r,i),i=Kl(),r=YA(r,1),r!==null)BA(r,1,i),Au(r,i);else if(typeof n.componentDidCatch=="function"&&(yf===null||!yf.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function vtt(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kl(),e.pingedLanes|=e.suspendedLanes&r,Ms===e&&(Xa&r)===r&&(va===4||va===3&&(Xa&62914560)===Xa&&500>Ka()-OF?p1(e,0):AF|=r),Au(e,t)}function ytt(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(jp===0&&(jp=x1),t=X0(62914560&~jp),t===0&&(t=4194304)):t=g1()===99?1:2:t=1),r=Kl(),e=YA(e,t),e!==null&&(BA(e,t,r),Au(e,r))}var fae;fae=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||ol.current)Ac=!0;else if(r&n)Ac=!!(e.flags&16384);else{switch(Ac=!1,t.tag){case 3:Eie(t),Qz();break;case 5:mie(t);break;case 1:al(t.type)&&lA(t);break;case 4:M6(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;io(SA,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?Iie(e,t,r):(io(no,no.current&1),t=Fp(e,t,r),t!==null?t.sibling:null);io(no,no.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return Oie(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),io(no,no.current),n)break;return null;case 23:case 24:return t.lanes=0,Jz(e,t,r);}return Fp(e,t,r)}}else Ac=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=m1(t,Qa.current),u1(t,r),i=SF(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,al(n)){var o=!0;lA(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_F(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&TA(t,n,a,e),i.updater=$A,t.stateNode=i,i._reactInternals=t,C6(t,n,e,r),t=P6(null,t,n,!0,o,r)}else t.tag=0,il(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=xtt(i),e=Mc(i,e),o){case 0:t=D6(null,t,i,e,r);break e;case 1:t=Sie(null,t,i,e,r);break e;case 11:t=bie(null,t,i,e,r);break e;case 14:t=wie(null,t,i,Mc(i.type,e),n,r);break e;}throw Error(Lt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mc(n,i),D6(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mc(n,i),Sie(e,t,n,i,r);case 3:if(Eie(t),n=t.updateQueue,e===null||n===null)throw Error(Lt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,koe(e,t),IS(t,n,null,r),n=t.memoizedState.element,n===i)Qz(),t=Fp(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Nh=l1(t.stateNode.containerInfo.firstChild),zp=t,o=xf=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],c1.push(o);for(r=Foe(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else il(e,t,n,r),Qz();t=t.child}return t;case 5:return mie(t),e===null&&A6(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,S6(n,i)?a=null:o!==null&&S6(n,o)&&(t.flags|=16),Koe(e,t),il(e,t,a,r),t.child;case 6:return e===null&&A6(t),null;case 13:return Iie(e,t,r);case 4:return M6(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=CA(t,null,n,r):il(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mc(n,i),bie(e,t,n,i,r);case 7:return il(e,t,t.pendingProps,r),t.child;case 8:return il(e,t,t.pendingProps.children,r),t.child;case 12:return il(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(io(SA,c._currentValue),c._currentValue=o,a!==null)if(c=a.value,o=Iu(c,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(c,o):1073741823)|0,o===0){if(a.children===i.children&&!ol.current){t=Fp(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var p=c.dependencies;if(p!==null){a=c.child;for(var m=p.firstContext;m!==null;){if(m.context===n&&m.observedBits&o){c.tag===1&&(m=jh(-1,r&-r),m.tag=2,zh(c,m)),c.lanes|=r,m=c.alternate,m!==null&&(m.lanes|=r),Roe(c.return,r),p.lanes|=r;break}m=m.next}}else a=c.tag===10&&c.type===t.type?null:c.child;if(a!==null)a.return=c;else for(a=c;a!==null;){if(a===t){a=null;break}if(c=a.sibling,c!==null){c.return=a.return,a=c;break}a=a.return}c=a}il(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,u1(t,r),i=Mu(i,o.unstable_observedBits),n=n(i),t.flags|=1,il(e,t,n,r),t.child;case 14:return i=t.type,o=Mc(i,t.pendingProps),o=Mc(i.type,o),wie(e,t,i,o,n,r);case 15:return Yoe(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mc(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,al(n)?(e=!0,lA(t)):e=!1,u1(t,r),joe(t,n,i),C6(t,n,i,r),P6(null,t,n,!0,e,r);case 19:return Oie(e,t,r);case 23:return Jz(e,t,r);case 24:return Jz(e,t,r);}throw Error(Lt(156,t.tag))};function _tt(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,r,n){return new _tt(e,t,r,n)}function PF(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xtt(e){if(typeof e=="function")return PF(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jA)return 11;if(e===zA)return 14}return 2}function $h(e,t){var r=e.alternate;return r===null?(r=Tu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dA(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")PF(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Dh:return d1(r.children,i,o,t);case Bie:a=8,i|=16;break;case Z6:a=8,i|=1;break;case nS:return e=Tu(12,r,t,i|8),e.elementType=nS,e.type=nS,e.lanes=o,e;case iS:return e=Tu(13,r,t,i),e.type=iS,e.elementType=iS,e.lanes=o,e;case hA:return e=Tu(19,r,t,i),e.elementType=hA,e.lanes=o,e;case eF:return LF(r,i,o,t);case o6:return e=Tu(24,r,t,i),e.elementType=o6,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y6:a=10;break e;case K6:a=9;break e;case jA:a=11;break e;case zA:a=14;break e;case X6:a=16,n=null;break e;case Q6:a=22;break e;}throw Error(Lt(130,e==null?e:typeof e,""));}return t=Tu(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function d1(e,t,r,n){return e=Tu(7,e,n,t),e.lanes=r,e}function LF(e,t,r,n){return e=Tu(23,e,n,t),e.elementType=eF,e.lanes=r,e}function r6(e,t,r){return e=Tu(6,e,null,t),e.lanes=r,e}function n6(e,t,r){return t=Tu(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function btt(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bz(0),this.expirationTimes=Bz(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bz(0),this.mutableSourceEagerHydrationData=null}function wtt(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kA(e,t,r,n){var i=t.current,o=Kl(),a=Fh(i);e:if(r){r=r._reactInternals;t:{if(sv(r)!==r||r.tag!==1)throw Error(Lt(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(al(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(Lt(171))}if(r.tag===1){var p=r.type;if(al(p)){r=Moe(r,p,c);break e}}r=c}else r=Hh;return t.context===null?t.context=r:t.pendingContext=r,t=jh(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),zh(i,t),Bh(i,a,o),a}function i6(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function zie(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function NF(e,t){zie(e,t),(e=e.alternate)&&zie(e,t)}function Stt(){return null}function RF(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new btt(e,t,r!=null&&r.hydrate===!0),t=Tu(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,_F(t),e[_1]=r.current,Soe(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}RF.prototype.render=function(e){kA(e,this._internalRoot,null,null)};RF.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;kA(null,e,null,function(){t[_1]=null})};function LS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ett(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new RF(e,0,t?{hydrate:!0}:void 0)}function KA(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var c=i;i=function(){var m=i6(a);c.call(m)}}kA(t,a,e,i)}else{if(o=r._reactRootContainer=Ett(r,n),a=o._internalRoot,typeof i=="function"){var p=i;i=function(){var m=i6(a);p.call(m)}}oae(function(){kA(t,a,e,i)})}return i6(a)}roe=function(e){if(e.tag===13){var t=Kl();Bh(e,4,t),NF(e,4)}};oF=function(e){if(e.tag===13){var t=Kl();Bh(e,67108864,t),NF(e,67108864)}};noe=function(e){if(e.tag===13){var t=Kl(),r=Fh(e);Bh(e,r,t),NF(e,r)}};ioe=function(e,t){return t()};m6=function(e,t,r){switch(t){case"input":if(s6(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=HA(n);if(!i)throw Error(Lt(90));Vie(n),s6(n,i)}}}break;case"textarea":Hie(e,r);break;case"select":t=r.value,t!=null&&o1(e,!!r.multiple,t,!1);}};rF=iae;Qie=function(e,t,r,n,i){var o=zr;zr|=4;try{return nv(98,e.bind(null,t,r,n,i))}finally{zr=o,zr===0&&(w1(),bf())}};nF=function(){!(zr&49)&&(ctt(),Yh())};Jie=function(e,t){var r=zr;zr|=2;try{return e(t)}finally{zr=r,zr===0&&(w1(),bf())}};function pae(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LS(t))throw Error(Lt(200));return wtt(e,t,null,r)}var Itt={Events:[OS,t1,HA,Kie,Xie,Yh,{current:!1}]},Kw={findFiberByHostInstance:Qg,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ttt={bundleType:Kw.bundleType,version:Kw.version,rendererPackageName:Kw.rendererPackageName,rendererConfig:Kw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:av.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=toe(e),e===null?null:e.stateNode},findFiberByHostInstance:Kw.findFiberByHostInstance||Stt,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Xw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xw.isDisabled&&Xw.supportsFiber))try{mF=Xw.inject(Ttt),tv=Xw}catch(e){}var Xw;Ou.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Itt;Ou.createPortal=pae;Ou.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Lt(188)):Error(Lt(268,Object.keys(e)));return e=toe(t),e=e===null?null:e.stateNode,e};Ou.flushSync=function(e,t){var r=zr;if(r&48)return e(t);zr|=1;try{if(e)return nv(99,e.bind(null,t))}finally{zr=r,bf()}};Ou.hydrate=function(e,t,r){if(!LS(t))throw Error(Lt(200));return KA(null,e,t,!0,r)};Ou.render=function(e,t,r){if(!LS(t))throw Error(Lt(200));return KA(null,e,t,!1,r)};Ou.unmountComponentAtNode=function(e){if(!LS(e))throw Error(Lt(40));return e._reactRootContainer?(oae(function(){KA(null,null,e,!1,function(){e._reactRootContainer=null,e[_1]=null})}),!0):!1};Ou.unstable_batchedUpdates=iae;Ou.unstable_createPortal=function(e,t){return pae(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ou.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!LS(r))throw Error(Lt(200));if(e==null||e._reactInternals===void 0)throw Error(Lt(38));return KA(e,t,r,!1,n)};Ou.version="17.0.2"});var fo=T((Fbr,mae)=>{"use strict";function hae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hae)}catch(e){console.error(e)}}hae(),mae.exports=dae()});var er=T((gae,vae)=>{"use strict";var XA=function(e){return e&&e.Math===Math&&e};vae.exports=XA(typeof globalThis=="object"&&globalThis)||XA(typeof window=="object"&&window)||XA(typeof self=="object"&&self)||XA(typeof global=="object"&&global)||function(){return this}()||gae||Function("return this")()});var _t=T((Bbr,yae)=>{"use strict";yae.exports=function(e){try{return!!e()}catch(t){return!0}}});var _r=T((Ubr,_ae)=>{"use strict";var Ctt=_t();_ae.exports=!Ctt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var S1=T((Vbr,xae)=>{"use strict";var Mtt=_t();xae.exports=!Mtt(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var zt=T((Gbr,bae)=>{"use strict";var Att=S1(),QA=Function.prototype.call;bae.exports=Att?QA.bind(QA):function(){return QA.apply(QA,arguments)}});var NS=T(Eae=>{"use strict";var wae={}.propertyIsEnumerable,Sae=Object.getOwnPropertyDescriptor,Ott=Sae&&!wae.call({1:2},1);Eae.f=Ott?function(t){var r=Sae(this,t);return!!r&&r.enumerable}:wae});var sl=T((Wbr,Iae)=>{"use strict";Iae.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var lt=T(($br,Mae)=>{"use strict";var Tae=S1(),Cae=Function.prototype,kF=Cae.call,Dtt=Tae&&Cae.bind.bind(kF,kF);Mae.exports=Tae?Dtt:function(e){return function(){return kF.apply(e,arguments)}}});var _a=T((Zbr,Oae)=>{"use strict";var Aae=lt(),Ptt=Aae({}.toString),Ltt=Aae("".slice);Oae.exports=function(e){return Ltt(Ptt(e),8,-1)}});var Vp=T((Ybr,Dae)=>{"use strict";var Ntt=lt(),Rtt=_t(),ktt=_a(),qF=Object,qtt=Ntt("".split);Dae.exports=Rtt(function(){return!qF("z").propertyIsEnumerable(0)})?function(e){return ktt(e)==="String"?qtt(e,""):qF(e)}:qF});var po=T((Kbr,Pae)=>{"use strict";Pae.exports=function(e){return e==null}});var Ci=T((Xbr,Lae)=>{"use strict";var jtt=po(),ztt=TypeError;Lae.exports=function(e){if(jtt(e))throw new ztt("Can't call method on "+e);return e}});var Mo=T((Qbr,Nae)=>{"use strict";var Ftt=Vp(),Btt=Ci();Nae.exports=function(e){return Ftt(Btt(e))}});var zF=T((Jbr,Rae)=>{"use strict";var jF=typeof document=="object"&&document.all,Utt=typeof jF=="undefined"&&jF!==void 0;Rae.exports={all:jF,IS_HTMLDDA:Utt}});var Rr=T((ewr,qae)=>{"use strict";var kae=zF(),Vtt=kae.all;qae.exports=kae.IS_HTMLDDA?function(e){return typeof e=="function"||e===Vtt}:function(e){return typeof e=="function"}});var kr=T((twr,Fae)=>{"use strict";var jae=Rr(),zae=zF(),Gtt=zae.all;Fae.exports=zae.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:jae(e)||e===Gtt}:function(e){return typeof e=="object"?e!==null:jae(e)}});var Mr=T((rwr,Bae)=>{"use strict";var FF=er(),Htt=Rr(),Wtt=function(e){return Htt(e)?e:void 0};Bae.exports=function(e,t){return arguments.length<2?Wtt(FF[e]):FF[e]&&FF[e][t]}});var Ja=T((nwr,Uae)=>{"use strict";var $tt=lt();Uae.exports=$tt({}.isPrototypeOf)});var wf=T((iwr,Vae)=>{"use strict";Vae.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""});var Sf=T((owr,Yae)=>{"use strict";var Zae=er(),BF=wf(),Gae=Zae.process,Hae=Zae.Deno,Wae=Gae&&Gae.versions||Hae&&Hae.version,$ae=Wae&&Wae.v8,Oc,JA;$ae&&(Oc=$ae.split("."),JA=Oc[0]>0&&Oc[0]<4?1:+(Oc[0]+Oc[1]));!JA&&BF&&(Oc=BF.match(/Edge\/(\d+)/),(!Oc||Oc[1]>=74)&&(Oc=BF.match(/Chrome\/(\d+)/),Oc&&(JA=+Oc[1])));Yae.exports=JA});var Kh=T((awr,Xae)=>{"use strict";var Kae=Sf(),Ztt=_t(),Ytt=er(),Ktt=Ytt.String;Xae.exports=!!Object.getOwnPropertySymbols&&!Ztt(function(){var e=Symbol("symbol detection");return!Ktt(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Kae&&Kae<41})});var UF=T((swr,Qae)=>{"use strict";var Xtt=Kh();Qae.exports=Xtt&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Gp=T((lwr,Jae)=>{"use strict";var Qtt=Mr(),Jtt=Rr(),ert=Ja(),trt=UF(),rrt=Object;Jae.exports=trt?function(e){return typeof e=="symbol"}:function(e){var t=Qtt("Symbol");return Jtt(t)&&ert(t.prototype,rrt(e))}});var Xh=T((uwr,ese)=>{"use strict";var nrt=String;ese.exports=function(e){try{return nrt(e)}catch(t){return"Object"}}});var Ar=T((cwr,tse)=>{"use strict";var irt=Rr(),ort=Xh(),art=TypeError;tse.exports=function(e){if(irt(e))return e;throw new art(ort(e)+" is not a function")}});var oo=T((fwr,rse)=>{"use strict";var srt=Ar(),lrt=po();rse.exports=function(e,t){var r=e[t];return lrt(r)?void 0:srt(r)}});var WF=T((pwr,nse)=>{"use strict";var VF=zt(),GF=Rr(),HF=kr(),urt=TypeError;nse.exports=function(e,t){var r,n;if(t==="string"&&GF(r=e.toString)&&!HF(n=VF(r,e))||GF(r=e.valueOf)&&!HF(n=VF(r,e))||t!=="string"&&GF(r=e.toString)&&!HF(n=VF(r,e)))return n;throw new urt("Can't convert object to primitive value")}});var on=T((dwr,ise)=>{"use strict";ise.exports=!1});var eO=T((hwr,ase)=>{"use strict";var ose=er(),crt=Object.defineProperty;ase.exports=function(e,t){try{crt(ose,e,{value:t,configurable:!0,writable:!0})}catch(r){ose[e]=t}return t}});var RS=T((mwr,lse)=>{"use strict";var frt=er(),prt=eO(),sse="__core-js_shared__",drt=frt[sse]||prt(sse,{});lse.exports=drt});var Ef=T((gwr,cse)=>{"use strict";var hrt=on(),use=RS();(cse.exports=function(e,t){return use[e]||(use[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:hrt?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var an=T((vwr,fse)=>{"use strict";var mrt=Ci(),grt=Object;fse.exports=function(e){return grt(mrt(e))}});var Yr=T((ywr,pse)=>{"use strict";var vrt=lt(),yrt=an(),_rt=vrt({}.hasOwnProperty);pse.exports=Object.hasOwn||function(t,r){return _rt(yrt(t),r)}});var Qh=T((_wr,dse)=>{"use strict";var xrt=lt(),brt=0,wrt=Math.random(),Srt=xrt(1 .toString);dse.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Srt(++brt+wrt,36)}});var br=T((xwr,mse)=>{"use strict";var Ert=er(),Irt=Ef(),hse=Yr(),Trt=Qh(),Crt=Kh(),Mrt=UF(),E1=Ert.Symbol,$F=Irt("wks"),Art=Mrt?E1.for||E1:E1&&E1.withoutSetter||Trt;mse.exports=function(e){return hse($F,e)||($F[e]=Crt&&hse(E1,e)?E1[e]:Art("Symbol."+e)),$F[e]}});var kS=T((bwr,yse)=>{"use strict";var Ort=zt(),gse=kr(),vse=Gp(),Drt=oo(),Prt=WF(),Lrt=br(),Nrt=TypeError,Rrt=Lrt("toPrimitive");yse.exports=function(e,t){if(!gse(e)||vse(e))return e;var r=Drt(e,Rrt),n;if(r){if(t===void 0&&(t="default"),n=Ort(r,e,t),!gse(n)||vse(n))return n;throw new Nrt("Can't convert object to primitive value")}return t===void 0&&(t="number"),Prt(e,t)}});var Dc=T((wwr,_se)=>{"use strict";var krt=kS(),qrt=Gp();_se.exports=function(e){var t=krt(e,"string");return qrt(t)?t:t+""}});var qS=T((Swr,bse)=>{"use strict";var jrt=er(),xse=kr(),ZF=jrt.document,zrt=xse(ZF)&&xse(ZF.createElement);bse.exports=function(e){return zrt?ZF.createElement(e):{}}});var YF=T((Ewr,wse)=>{"use strict";var Frt=_r(),Brt=_t(),Urt=qS();wse.exports=!Frt&&!Brt(function(){return Object.defineProperty(Urt("div"),"a",{get:function(){return 7}}).a!==7})});var zo=T(Ese=>{"use strict";var Vrt=_r(),Grt=zt(),Hrt=NS(),Wrt=sl(),$rt=Mo(),Zrt=Dc(),Yrt=Yr(),Krt=YF(),Sse=Object.getOwnPropertyDescriptor;Ese.f=Vrt?Sse:function(t,r){if(t=$rt(t),r=Zrt(r),Krt)try{return Sse(t,r)}catch(n){}if(Yrt(t,r))return Wrt(!Grt(Hrt.f,t,r),t[r])}});var KF=T((Twr,Ise)=>{"use strict";var Xrt=_r(),Qrt=_t();Ise.exports=Xrt&&Qrt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Ut=T((Cwr,Tse)=>{"use strict";var Jrt=kr(),ent=String,tnt=TypeError;Tse.exports=function(e){if(Jrt(e))return e;throw new tnt(ent(e)+" is not an object")}});var yi=T(Mse=>{"use strict";var rnt=_r(),nnt=YF(),int=KF(),tO=Ut(),Cse=Dc(),ont=TypeError,XF=Object.defineProperty,ant=Object.getOwnPropertyDescriptor,QF="enumerable",JF="configurable",e8="writable";Mse.f=rnt?int?function(t,r,n){if(tO(t),r=Cse(r),tO(n),typeof t=="function"&&r==="prototype"&&"value"in n&&e8 in n&&!n[e8]){var i=ant(t,r);i&&i[e8]&&(t[r]=n.value,n={configurable:JF in n?n[JF]:i[JF],enumerable:QF in n?n[QF]:i[QF],writable:!1})}return XF(t,r,n)}:XF:function(t,r,n){if(tO(t),r=Cse(r),tO(n),nnt)try{return XF(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new ont("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var ho=T((Awr,Ase)=>{"use strict";var snt=_r(),lnt=yi(),unt=sl();Ase.exports=snt?function(e,t,r){return lnt.f(e,t,unt(1,r))}:function(e,t,r){return e[t]=r,e}});var uv=T((Owr,Dse)=>{"use strict";var t8=_r(),cnt=Yr(),Ose=Function.prototype,fnt=t8&&Object.getOwnPropertyDescriptor,r8=cnt(Ose,"name"),pnt=r8&&function(){}.name==="something",dnt=r8&&(!t8||t8&&fnt(Ose,"name").configurable);Dse.exports={EXISTS:r8,PROPER:pnt,CONFIGURABLE:dnt}});var jS=T((Dwr,Pse)=>{"use strict";var hnt=lt(),mnt=Rr(),n8=RS(),gnt=hnt(Function.toString);mnt(n8.inspectSource)||(n8.inspectSource=function(e){return gnt(e)});Pse.exports=n8.inspectSource});var i8=T((Pwr,Nse)=>{"use strict";var vnt=er(),ynt=Rr(),Lse=vnt.WeakMap;Nse.exports=ynt(Lse)&&/native code/.test(String(Lse))});var zS=T((Lwr,kse)=>{"use strict";var _nt=Ef(),xnt=Qh(),Rse=_nt("keys");kse.exports=function(e){return Rse[e]||(Rse[e]=xnt(e))}});var I1=T((Nwr,qse)=>{"use strict";qse.exports={}});var Fn=T((Rwr,Fse)=>{"use strict";var bnt=i8(),zse=er(),wnt=kr(),Snt=ho(),o8=Yr(),a8=RS(),Ent=zS(),Int=I1(),jse="Object already initialized",s8=zse.TypeError,Tnt=zse.WeakMap,rO,FS,nO,Cnt=function(e){return nO(e)?FS(e):rO(e,{})},Mnt=function(e){return function(t){var r;if(!wnt(t)||(r=FS(t)).type!==e)throw new s8("Incompatible receiver, "+e+" required");return r}};bnt||a8.state?(Pc=a8.state||(a8.state=new Tnt),Pc.get=Pc.get,Pc.has=Pc.has,Pc.set=Pc.set,rO=function(e,t){if(Pc.has(e))throw new s8(jse);return t.facade=e,Pc.set(e,t),t},FS=function(e){return Pc.get(e)||{}},nO=function(e){return Pc.has(e)}):(cv=Ent("state"),Int[cv]=!0,rO=function(e,t){if(o8(e,cv))throw new s8(jse);return t.facade=e,Snt(e,cv,t),t},FS=function(e){return o8(e,cv)?e[cv]:{}},nO=function(e){return o8(e,cv)});var Pc,cv;Fse.exports={set:rO,get:FS,has:nO,enforce:Cnt,getterFor:Mnt}});var BS=T((kwr,Vse)=>{"use strict";var u8=lt(),Ant=_t(),Ont=Rr(),iO=Yr(),l8=_r(),Dnt=uv().CONFIGURABLE,Pnt=jS(),Use=Fn(),Lnt=Use.enforce,Nnt=Use.get,Bse=String,oO=Object.defineProperty,Rnt=u8("".slice),knt=u8("".replace),qnt=u8([].join),jnt=l8&&!Ant(function(){return oO(function(){},"length",{value:8}).length!==8}),znt=String(String).split("String"),Fnt=Vse.exports=function(e,t,r){Rnt(Bse(t),0,7)==="Symbol("&&(t="["+knt(Bse(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!iO(e,"name")||Dnt&&e.name!==t)&&(l8?oO(e,"name",{value:t,configurable:!0}):e.name=t),jnt&&r&&iO(r,"arity")&&e.length!==r.arity&&oO(e,"length",{value:r.arity});try{r&&iO(r,"constructor")&&r.constructor?l8&&oO(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=Lnt(e);return iO(n,"source")||(n.source=qnt(znt,typeof t=="string"?t:"")),e};Function.prototype.toString=Fnt(function(){return Ont(this)&&Nnt(this).source||Pnt(this)},"toString")});var Zn=T((qwr,Gse)=>{"use strict";var Bnt=Rr(),Unt=yi(),Vnt=BS(),Gnt=eO();Gse.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(Bnt(r)&&Vnt(r,o,n),n.global)i?e[t]=r:Gnt(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(a){}i?e[t]=r:Unt.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var c8=T((jwr,Hse)=>{"use strict";var Hnt=Math.ceil,Wnt=Math.floor;Hse.exports=Math.trunc||function(t){var r=+t;return(r>0?Wnt:Hnt)(r)}});var Mi=T((zwr,Wse)=>{"use strict";var $nt=c8();Wse.exports=function(e){var t=+e;return t!==t||t===0?0:$nt(t)}});var Du=T((Fwr,$se)=>{"use strict";var Znt=Mi(),Ynt=Math.max,Knt=Math.min;$se.exports=function(e,t){var r=Znt(e);return r<0?Ynt(r+t,0):Knt(r,t)}});var ll=T((Bwr,Zse)=>{"use strict";var Xnt=Mi(),Qnt=Math.min;Zse.exports=function(e){return e>0?Qnt(Xnt(e),9007199254740991):0}});var fn=T((Uwr,Yse)=>{"use strict";var Jnt=ll();Yse.exports=function(e){return Jnt(e.length)}});var T1=T((Vwr,Xse)=>{"use strict";var eit=Mo(),tit=Du(),rit=fn(),Kse=function(e){return function(t,r,n){var i=eit(t),o=rit(i),a=tit(n,o),c;if(e&&r!==r){for(;o>a;)if(c=i[a++],c!==c)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}};Xse.exports={includes:Kse(!0),indexOf:Kse(!1)}});var p8=T((Gwr,Jse)=>{"use strict";var nit=lt(),f8=Yr(),iit=Mo(),oit=T1().indexOf,ait=I1(),Qse=nit([].push);Jse.exports=function(e,t){var r=iit(e),n=0,i=[],o;for(o in r)!f8(ait,o)&&f8(r,o)&&Qse(i,o);for(;t.length>n;)f8(r,o=t[n++])&&(~oit(i,o)||Qse(i,o));return i}});var aO=T((Hwr,ele)=>{"use strict";ele.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Hp=T(tle=>{"use strict";var sit=p8(),lit=aO(),uit=lit.concat("length","prototype");tle.f=Object.getOwnPropertyNames||function(t){return sit(t,uit)}});var US=T(rle=>{"use strict";rle.f=Object.getOwnPropertySymbols});var sO=T((Zwr,nle)=>{"use strict";var cit=Mr(),fit=lt(),pit=Hp(),dit=US(),hit=Ut(),mit=fit([].concat);nle.exports=cit("Reflect","ownKeys")||function(t){var r=pit.f(hit(t)),n=dit.f;return n?mit(r,n(t)):r}});var C1=T((Ywr,ole)=>{"use strict";var ile=Yr(),git=sO(),vit=zo(),yit=yi();ole.exports=function(e,t,r){for(var n=git(t),i=yit.f,o=vit.f,a=0;a<n.length;a++){var c=n[a];!ile(e,c)&&!(r&&ile(r,c))&&i(e,c,o(t,c))}}});var M1=T((Kwr,ale)=>{"use strict";var _it=_t(),xit=Rr(),bit=/#|\.prototype\./,VS=function(e,t){var r=Sit[wit(e)];return r===Iit?!0:r===Eit?!1:xit(t)?_it(t):!!t},wit=VS.normalize=function(e){return String(e).replace(bit,".").toLowerCase()},Sit=VS.data={},Eit=VS.NATIVE="N",Iit=VS.POLYFILL="P";ale.exports=VS});var re=T((Xwr,sle)=>{"use strict";var d8=er(),Tit=zo().f,Cit=ho(),Mit=Zn(),Ait=eO(),Oit=C1(),Dit=M1();sle.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,c,p,m,g;if(n?a=d8:i?a=d8[r]||Ait(r,{}):a=(d8[r]||{}).prototype,a)for(c in t){if(m=t[c],e.dontCallGetSet?(g=Tit(a,c),p=g&&g.value):p=a[c],o=Dit(n?c:r+(i?".":"#")+c,e.forced),!o&&p!==void 0){if(typeof m==typeof p)continue;Oit(m,p)}(e.sham||p&&p.sham)&&Cit(m,"sham",!0),Mit(a,c,m,e)}}});var lO=T((Qwr,ule)=>{"use strict";var Pit=br(),Lit=Pit("toStringTag"),lle={};lle[Lit]="z";ule.exports=String(lle)==="[object z]"});var ul=T((Jwr,cle)=>{"use strict";var Nit=lO(),Rit=Rr(),uO=_a(),kit=br(),qit=kit("toStringTag"),jit=Object,zit=uO(function(){return arguments}())==="Arguments",Fit=function(e,t){try{return e[t]}catch(r){}};cle.exports=Nit?uO:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Fit(t=jit(e),qit))=="string"?r:zit?uO(t):(n=uO(t))==="Object"&&Rit(t.callee)?"Arguments":n}});var Pr=T((eSr,fle)=>{"use strict";var Bit=ul(),Uit=String;fle.exports=function(e){if(Bit(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Uit(e)}});var fv=T((tSr,ple)=>{"use strict";var Vit=p8(),Git=aO();ple.exports=Object.keys||function(t){return Vit(t,Git)}});var cO=T(dle=>{"use strict";var Hit=_r(),Wit=KF(),$it=yi(),Zit=Ut(),Yit=Mo(),Kit=fv();dle.f=Hit&&!Wit?Object.defineProperties:function(t,r){Zit(t);for(var n=Yit(r),i=Kit(r),o=i.length,a=0,c;o>a;)$it.f(t,c=i[a++],n[c]);return t}});var h8=T((nSr,hle)=>{"use strict";var Xit=Mr();hle.exports=Xit("document","documentElement")});var ao=T((iSr,ble)=>{"use strict";var Qit=Ut(),Jit=cO(),mle=aO(),eot=I1(),tot=h8(),rot=qS(),not=zS(),gle=">",vle="<",g8="prototype",v8="script",_le=not("IE_PROTO"),m8=function(){},xle=function(e){return vle+v8+gle+e+vle+"/"+v8+gle},yle=function(e){e.write(xle("")),e.close();var t=e.parentWindow.Object;return e=null,t},iot=function(){var e=rot("iframe"),t="java"+v8+":",r;return e.style.display="none",tot.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(xle("document.F=Object")),r.close(),r.F},fO,pO=function(){try{fO=new ActiveXObject("htmlfile")}catch(t){}pO=typeof document!="undefined"?document.domain&&fO?yle(fO):iot():yle(fO);for(var e=mle.length;e--;)delete pO[g8][mle[e]];return pO()};eot[_le]=!0;ble.exports=Object.create||function(t,r){var n;return t!==null?(m8[g8]=Qit(t),n=new m8,m8[g8]=null,n[_le]=t):n=pO(),r===void 0?n:Jit.f(n,r)}});var Pu=T((oSr,wle)=>{"use strict";var oot=Dc(),aot=yi(),sot=sl();wle.exports=function(e,t,r){var n=oot(t);n in e?aot.f(e,n,sot(0,r)):e[n]=r}});var pv=T((aSr,Ele)=>{"use strict";var Sle=Du(),lot=fn(),uot=Pu(),cot=Array,fot=Math.max;Ele.exports=function(e,t,r){for(var n=lot(e),i=Sle(t,n),o=Sle(r===void 0?n:r,n),a=cot(fot(o-i,0)),c=0;i<o;i++,c++)uot(a,c,e[i]);return a.length=c,a}});var dO=T((sSr,Cle)=>{"use strict";var pot=_a(),dot=Mo(),Ile=Hp().f,hot=pv(),Tle=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mot=function(e){try{return Ile(e)}catch(t){return hot(Tle)}};Cle.exports.f=function(t){return Tle&&pot(t)==="Window"?mot(t):Ile(dot(t))}});var qi=T((lSr,Ale)=>{"use strict";var Mle=BS(),got=yi();Ale.exports=function(e,t,r){return r.get&&Mle(r.get,t,{getter:!0}),r.set&&Mle(r.set,t,{setter:!0}),got.f(e,t,r)}});var y8=T(Ole=>{"use strict";var vot=br();Ole.f=vot});var hO=T((cSr,Dle)=>{"use strict";var yot=er();Dle.exports=yot});var Yi=T((fSr,Lle)=>{"use strict";var Ple=hO(),_ot=Yr(),xot=y8(),bot=yi().f;Lle.exports=function(e){var t=Ple.Symbol||(Ple.Symbol={});_ot(t,e)||bot(t,e,{value:xot.f(e)})}});var _8=T((pSr,Nle)=>{"use strict";var wot=zt(),Sot=Mr(),Eot=br(),Iot=Zn();Nle.exports=function(){var e=Sot("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=Eot("toPrimitive");t&&!t[n]&&Iot(t,n,function(i){return wot(r,this)},{arity:1})}});var cl=T((dSr,kle)=>{"use strict";var Tot=yi().f,Cot=Yr(),Mot=br(),Rle=Mot("toStringTag");kle.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Cot(e,Rle)&&Tot(e,Rle,{configurable:!0,value:t})}});var Wp=T((hSr,qle)=>{"use strict";var Aot=_a(),Oot=lt();qle.exports=function(e){if(Aot(e)==="Function")return Oot(e)}});var oi=T((mSr,zle)=>{"use strict";var jle=Wp(),Dot=Ar(),Pot=S1(),Lot=jle(jle.bind);zle.exports=function(e,t){return Dot(e),t===void 0?e:Pot?Lot(e,t):function(){return e.apply(t,arguments)}}});var Lc=T((gSr,Fle)=>{"use strict";var Not=_a();Fle.exports=Array.isArray||function(t){return Not(t)==="Array"}});var Nc=T((vSr,Hle)=>{"use strict";var Rot=lt(),kot=_t(),Ble=Rr(),qot=ul(),jot=Mr(),zot=jS(),Ule=function(){},Fot=[],Vle=jot("Reflect","construct"),x8=/^\s*(?:class|function)\b/,Bot=Rot(x8.exec),Uot=!x8.test(Ule),GS=function(t){if(!Ble(t))return!1;try{return Vle(Ule,Fot,t),!0}catch(r){return!1}},Gle=function(t){if(!Ble(t))return!1;switch(qot(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return Uot||!!Bot(x8,zot(t))}catch(r){return!0}};Gle.sham=!0;Hle.exports=!Vle||kot(function(){var e;return GS(GS.call)||!GS(Object)||!GS(function(){e=!0})||e})?Gle:GS});var Yle=T((ySr,Zle)=>{"use strict";var Wle=Lc(),Vot=Nc(),Got=kr(),Hot=br(),Wot=Hot("species"),$le=Array;Zle.exports=function(e){var t;return Wle(e)&&(t=e.constructor,Vot(t)&&(t===$le||Wle(t.prototype))?t=void 0:Got(t)&&(t=t[Wot],t===null&&(t=void 0))),t===void 0?$le:t}});var A1=T((_Sr,Kle)=>{"use strict";var $ot=Yle();Kle.exports=function(e,t){return new($ot(e))(t===0?0:t)}});var so=T((xSr,Qle)=>{"use strict";var Zot=oi(),Yot=lt(),Kot=Vp(),Xot=an(),Qot=fn(),Jot=A1(),Xle=Yot([].push),Jh=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,c=e===5||o;return function(p,m,g,S){for(var I=Xot(p),M=Kot(I),P=Zot(m,g),N=Qot(M),L=0,q=S||Jot,j=t?q(p,N):r||a?q(p,0):void 0,B,H;N>L;L++)if((c||L in M)&&(B=M[L],H=P(B,L,I),e))if(t)j[L]=H;else if(H)switch(e){case 3:return!0;case 5:return B;case 6:return L;case 2:Xle(j,B);}else switch(e){case 4:return!1;case 7:Xle(j,B);}return o?-1:n||i?i:j}};Qle.exports={forEach:Jh(0),map:Jh(1),filter:Jh(2),some:Jh(3),every:Jh(4),find:Jh(5),findIndex:Jh(6),filterReject:Jh(7)}});var mue=T(()=>{"use strict";var mO=re(),gO=er(),A8=zt(),eat=lt(),tat=on(),O1=_r(),D1=Kh(),rat=_t(),ta=Yr(),nat=Ja(),E8=Ut(),vO=Mo(),O8=Dc(),iat=Pr(),I8=sl(),WS=ao(),tue=fv(),oat=Hp(),rue=dO(),aat=US(),nue=zo(),iue=yi(),sat=cO(),oue=NS(),b8=Zn(),lat=qi(),D8=Ef(),uat=zS(),aue=I1(),Jle=Qh(),cat=br(),fat=y8(),pat=Yi(),dat=_8(),hat=cl(),sue=Fn(),yO=so().forEach,fl=uat("hidden"),_O="Symbol",$S="prototype",mat=sue.set,eue=sue.getterFor(_O),Lu=Object[$S],dv=gO.Symbol,HS=dv&&dv[$S],gat=gO.RangeError,vat=gO.TypeError,w8=gO.QObject,lue=nue.f,hv=iue.f,uue=rue.f,yat=oue.f,cue=eat([].push),$p=D8("symbols"),ZS=D8("op-symbols"),_at=D8("wks"),T8=!w8||!w8[$S]||!w8[$S].findChild,fue=function(e,t,r){var n=lue(Lu,t);n&&delete Lu[t],hv(e,t,r),n&&e!==Lu&&hv(Lu,t,n)},C8=O1&&rat(function(){return WS(hv({},"a",{get:function(){return hv(this,"a",{value:7}).a}})).a!==7})?fue:hv,S8=function(e,t){var r=$p[e]=WS(HS);return mat(r,{type:_O,tag:e,description:t}),O1||(r.description=t),r},xO=function(t,r,n){t===Lu&&xO(ZS,r,n),E8(t);var i=O8(r);return E8(n),ta($p,i)?(n.enumerable?(ta(t,fl)&&t[fl][i]&&(t[fl][i]=!1),n=WS(n,{enumerable:I8(0,!1)})):(ta(t,fl)||hv(t,fl,I8(1,{})),t[fl][i]=!0),C8(t,i,n)):hv(t,i,n)},P8=function(t,r){E8(t);var n=vO(r),i=tue(n).concat(hue(n));return yO(i,function(o){(!O1||A8(M8,n,o))&&xO(t,o,n[o])}),t},xat=function(t,r){return r===void 0?WS(t):P8(WS(t),r)},M8=function(t){var r=O8(t),n=A8(yat,this,r);return this===Lu&&ta($p,r)&&!ta(ZS,r)?!1:n||!ta(this,r)||!ta($p,r)||ta(this,fl)&&this[fl][r]?n:!0},pue=function(t,r){var n=vO(t),i=O8(r);if(!(n===Lu&&ta($p,i)&&!ta(ZS,i))){var o=lue(n,i);return o&&ta($p,i)&&!(ta(n,fl)&&n[fl][i])&&(o.enumerable=!0),o}},due=function(t){var r=uue(vO(t)),n=[];return yO(r,function(i){!ta($p,i)&&!ta(aue,i)&&cue(n,i)}),n},hue=function(e){var t=e===Lu,r=uue(t?ZS:vO(e)),n=[];return yO(r,function(i){ta($p,i)&&(!t||ta(Lu,i))&&cue(n,$p[i])}),n};D1||(dv=function(){if(nat(HS,this))throw new vat("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:iat(arguments[0]),r=Jle(t),n=function(i){this===Lu&&A8(n,ZS,i),ta(this,fl)&&ta(this[fl],r)&&(this[fl][r]=!1);var o=I8(1,i);try{C8(this,r,o)}catch(a){if(!(a instanceof gat))throw a;fue(this,r,o)}};return O1&&T8&&C8(Lu,r,{configurable:!0,set:n}),S8(r,t)},HS=dv[$S],b8(HS,"toString",function(){return eue(this).tag}),b8(dv,"withoutSetter",function(e){return S8(Jle(e),e)}),oue.f=M8,iue.f=xO,sat.f=P8,nue.f=pue,oat.f=rue.f=due,aat.f=hue,fat.f=function(e){return S8(cat(e),e)},O1&&(lat(HS,"description",{configurable:!0,get:function(){return eue(this).description}}),tat||b8(Lu,"propertyIsEnumerable",M8,{unsafe:!0})));mO({global:!0,constructor:!0,wrap:!0,forced:!D1,sham:!D1},{Symbol:dv});yO(tue(_at),function(e){pat(e)});mO({target:_O,stat:!0,forced:!D1},{useSetter:function(){T8=!0},useSimple:function(){T8=!1}});mO({target:"Object",stat:!0,forced:!D1,sham:!O1},{create:xat,defineProperty:xO,defineProperties:P8,getOwnPropertyDescriptor:pue});mO({target:"Object",stat:!0,forced:!D1},{getOwnPropertyNames:due});dat();hat(dv,_O);aue[fl]=!0});var L8=T((SSr,gue)=>{"use strict";var bat=Kh();gue.exports=bat&&!!Symbol.for&&!!Symbol.keyFor});var yue=T(()=>{"use strict";var wat=re(),Sat=Mr(),Eat=Yr(),Iat=Pr(),vue=Ef(),Tat=L8(),N8=vue("string-to-symbol-registry"),Cat=vue("symbol-to-string-registry");wat({target:"Symbol",stat:!0,forced:!Tat},{for:function(e){var t=Iat(e);if(Eat(N8,t))return N8[t];var r=Sat("Symbol")(t);return N8[t]=r,Cat[r]=t,r}})});var xue=T(()=>{"use strict";var Mat=re(),Aat=Yr(),Oat=Gp(),Dat=Xh(),Pat=Ef(),Lat=L8(),_ue=Pat("symbol-to-string-registry");Mat({target:"Symbol",stat:!0,forced:!Lat},{keyFor:function(t){if(!Oat(t))throw new TypeError(Dat(t)+" is not a symbol");if(Aat(_ue,t))return _ue[t]}})});var es=T((MSr,Eue)=>{"use strict";var Nat=S1(),Sue=Function.prototype,bue=Sue.apply,wue=Sue.call;Eue.exports=typeof Reflect=="object"&&Reflect.apply||(Nat?wue.bind(bue):function(){return wue.apply(bue,arguments)})});var Zp=T((ASr,Iue)=>{"use strict";var Rat=lt();Iue.exports=Rat([].slice)});var R8=T((OSr,Aue)=>{"use strict";var kat=lt(),Tue=Lc(),qat=Rr(),Cue=_a(),jat=Pr(),Mue=kat([].push);Aue.exports=function(e){if(qat(e))return e;if(Tue(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?Mue(r,i):(typeof i=="number"||Cue(i)==="Number"||Cue(i)==="String")&&Mue(r,jat(i))}var o=r.length,a=!0;return function(c,p){if(a)return a=!1,p;if(Tue(this))return p;for(var m=0;m<o;m++)if(r[m]===c)return p}}}});var k8=T(()=>{"use strict";var zat=re(),que=Mr(),jue=es(),Fat=zt(),YS=lt(),zue=_t(),Oue=Rr(),Due=Gp(),Fue=Zp(),Bat=R8(),Uat=Kh(),Vat=String,em=que("JSON","stringify"),bO=YS(/./.exec),Pue=YS("".charAt),Gat=YS("".charCodeAt),Hat=YS("".replace),Wat=YS(1 .toString),$at=/[\uD800-\uDFFF]/g,Lue=/^[\uD800-\uDBFF]$/,Nue=/^[\uDC00-\uDFFF]$/,Rue=!Uat||zue(function(){var e=que("Symbol")("stringify detection");return em([e])!=="[null]"||em({a:e})!=="{}"||em(Object(e))!=="{}"}),kue=zue(function(){return em("\uDF06\uD834")!=="\"\\udf06\\ud834\""||em("\uDEAD")!=="\"\\udead\""}),Zat=function(e,t){var r=Fue(arguments),n=Bat(t);if(!(!Oue(n)&&(e===void 0||Due(e))))return r[1]=function(i,o){if(Oue(n)&&(o=Fat(n,this,Vat(i),o)),!Due(o))return o},jue(em,null,r)},Yat=function(e,t,r){var n=Pue(r,t-1),i=Pue(r,t+1);return bO(Lue,e)&&!bO(Nue,i)||bO(Nue,e)&&!bO(Lue,n)?"\\u"+Wat(Gat(e,0),16):e};em&&zat({target:"JSON",stat:!0,arity:3,forced:Rue||kue},{stringify:function(t,r,n){var i=Fue(arguments),o=jue(Rue?Zat:em,null,i);return kue&&typeof o=="string"?Hat(o,$at,Yat):o}})});var Uue=T(()=>{"use strict";var Kat=re(),Xat=Kh(),Qat=_t(),Bue=US(),Jat=an(),est=!Xat||Qat(function(){Bue.f(1)});Kat({target:"Object",stat:!0,forced:est},{getOwnPropertySymbols:function(t){var r=Bue.f;return r?r(Jat(t)):[]}})});var Vue=T(()=>{"use strict";mue();yue();xue();k8();Uue()});var Kue=T(()=>{"use strict";var tst=re(),rst=_r(),nst=er(),wO=lt(),ist=Yr(),ost=Rr(),ast=Ja(),sst=Pr(),lst=qi(),ust=C1(),Yp=nst.Symbol,mv=Yp&&Yp.prototype;rst&&ost(Yp)&&(!("description"in mv)||Yp().description!==void 0)&&(q8={},KS=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:sst(arguments[0]),r=ast(mv,this)?new Yp(t):t===void 0?Yp():Yp(t);return t===""&&(q8[r]=!0),r},ust(KS,Yp),KS.prototype=mv,mv.constructor=KS,Gue=String(Yp("description detection"))==="Symbol(description detection)",Hue=wO(mv.valueOf),Wue=wO(mv.toString),$ue=/^Symbol\((.*)\)[^)]+$/,Zue=wO("".replace),Yue=wO("".slice),lst(mv,"description",{configurable:!0,get:function(){var t=Hue(this);if(ist(q8,t))return"";var r=Wue(t),n=Gue?Yue(r,7,-1):Zue(r,$ue,"$1");return n===""?void 0:n}}),tst({global:!0,constructor:!0,forced:!0},{Symbol:KS}));var q8,KS,Gue,Hue,Wue,$ue,Zue,Yue});var Xue=T(()=>{"use strict";var cst=Yi();cst("asyncIterator")});var Que=T(()=>{"use strict";var fst=Yi();fst("hasInstance")});var Jue=T(()=>{"use strict";var pst=Yi();pst("isConcatSpreadable")});var ece=T(()=>{"use strict";var dst=Yi();dst("iterator")});var tce=T(()=>{"use strict";var hst=Yi();hst("match")});var rce=T(()=>{"use strict";var mst=Yi();mst("matchAll")});var nce=T(()=>{"use strict";var gst=Yi();gst("replace")});var ice=T(()=>{"use strict";var vst=Yi();vst("search")});var oce=T(()=>{"use strict";var yst=Yi();yst("species")});var ace=T(()=>{"use strict";var _st=Yi();_st("split")});var sce=T(()=>{"use strict";var xst=Yi(),bst=_8();xst("toPrimitive");bst()});var lce=T(()=>{"use strict";var wst=Mr(),Sst=Yi(),Est=cl();Sst("toStringTag");Est(wst("Symbol"),"Symbol")});var uce=T(()=>{"use strict";var Ist=Yi();Ist("unscopables")});var XS=T((fEr,cce)=>{"use strict";var Tst=lt(),Cst=Ar();cce.exports=function(e,t,r){try{return Tst(Cst(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var j8=T((pEr,fce)=>{"use strict";var Mst=Rr(),Ast=String,Ost=TypeError;fce.exports=function(e){if(typeof e=="object"||Mst(e))return e;throw new Ost("Can't set "+Ast(e)+" as a prototype")}});var Nu=T((dEr,pce)=>{"use strict";var Dst=XS(),Pst=Ut(),Lst=j8();pce.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=Dst(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return Pst(i),Lst(o),e?r(i,o):i.__proto__=o,i}}():void 0)});var z8=T((hEr,dce)=>{"use strict";var Nst=yi().f;dce.exports=function(e,t,r){r in e||Nst(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var gv=T((mEr,mce)=>{"use strict";var Rst=Rr(),kst=kr(),hce=Nu();mce.exports=function(e,t,r){var n,i;return hce&&Rst(n=t.constructor)&&n!==r&&kst(i=n.prototype)&&i!==r.prototype&&hce(e,i),e}});var vv=T((gEr,gce)=>{"use strict";var qst=Pr();gce.exports=function(e,t){return e===void 0?arguments.length<2?"":t:qst(e)}});var F8=T((vEr,vce)=>{"use strict";var jst=kr(),zst=ho();vce.exports=function(e,t){jst(t)&&"cause"in t&&zst(e,"cause",t.cause)}});var SO=T((yEr,xce)=>{"use strict";var Fst=lt(),yce=Error,Bst=Fst("".replace),Ust=function(e){return String(new yce(e).stack)}("zxcasd"),_ce=/\n\s*at [^:]*:[^\n]*/,Vst=_ce.test(Ust);xce.exports=function(e,t){if(Vst&&typeof e=="string"&&!yce.prepareStackTrace)for(;t--;)e=Bst(e,_ce,"");return e}});var B8=T((_Er,bce)=>{"use strict";var Gst=_t(),Hst=sl();bce.exports=!Gst(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",Hst(1,7)),e.stack!==7):!0})});var EO=T((xEr,Sce)=>{"use strict";var Wst=ho(),$st=SO(),Zst=B8(),wce=Error.captureStackTrace;Sce.exports=function(e,t,r,n){Zst&&(wce?wce(e,t):Wst(e,"stack",$st(r,n)))}});var U8=T((bEr,Oce)=>{"use strict";var Ece=Mr(),Yst=Yr(),Ice=ho(),Kst=Ja(),Tce=Nu(),Cce=C1(),Mce=z8(),Xst=gv(),Qst=vv(),Jst=F8(),elt=EO(),tlt=_r(),Ace=on();Oce.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,a=e.split("."),c=a[a.length-1],p=Ece.apply(null,a);if(p){var m=p.prototype;if(!Ace&&Yst(m,"cause")&&delete m.cause,!r)return p;var g=Ece("Error"),S=t(function(I,M){var P=Qst(n?M:I,void 0),N=n?new p(I):new p;return P!==void 0&&Ice(N,"message",P),elt(N,S,N.stack,2),this&&Kst(m,this)&&Xst(N,this,S),arguments.length>o&&Jst(N,arguments[o]),N});if(S.prototype=m,c!=="Error"?Tce?Tce(S,g):Cce(S,g,{name:!0}):tlt&&i in p&&(Mce(S,p,i),Mce(S,p,"prepareStackTrace")),Cce(S,p),!Ace)try{m.name!==c&&Ice(m,"name",c),m.constructor=S}catch(I){}return S}}});var Nce=T(()=>{"use strict";var Pce=re(),rlt=er(),If=es(),Lce=U8(),V8="WebAssembly",Dce=rlt[V8],IO=new Error("e",{cause:7}).cause!==7,yv=function(e,t){var r={};r[e]=Lce(e,t,IO),Pce({global:!0,constructor:!0,arity:1,forced:IO},r)},G8=function(e,t){if(Dce&&Dce[e]){var r={};r[e]=Lce(V8+"."+e,t,IO),Pce({target:V8,stat:!0,constructor:!0,arity:1,forced:IO},r)}};yv("Error",function(e){return function(r){return If(e,this,arguments)}});yv("EvalError",function(e){return function(r){return If(e,this,arguments)}});yv("RangeError",function(e){return function(r){return If(e,this,arguments)}});yv("ReferenceError",function(e){return function(r){return If(e,this,arguments)}});yv("SyntaxError",function(e){return function(r){return If(e,this,arguments)}});yv("TypeError",function(e){return function(r){return If(e,this,arguments)}});yv("URIError",function(e){return function(r){return If(e,this,arguments)}});G8("CompileError",function(e){return function(r){return If(e,this,arguments)}});G8("LinkError",function(e){return function(r){return If(e,this,arguments)}});G8("RuntimeError",function(e){return function(r){return If(e,this,arguments)}})});var H8=T((EEr,kce)=>{"use strict";var nlt=_r(),ilt=_t(),olt=Ut(),alt=ao(),Rce=vv(),TO=Error.prototype.toString,slt=ilt(function(){if(nlt){var e=alt(Object.defineProperty({},"name",{get:function(){return this===e}}));if(TO.call(e)!=="true")return!0}return TO.call({message:1,name:2})!=="2: 1"||TO.call({})!=="Error"});kce.exports=slt?function(){var t=olt(this),r=Rce(t.name,"Error"),n=Rce(t.message);return r?n?r+": "+n:r:n}:TO});var zce=T(()=>{"use strict";var llt=Zn(),qce=H8(),jce=Error.prototype;jce.toString!==qce&&llt(jce,"toString",qce)});var CO=T((CEr,Fce)=>{"use strict";var ult=_t();Fce.exports=!ult(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var mo=T((MEr,Uce)=>{"use strict";var clt=Yr(),flt=Rr(),plt=an(),dlt=zS(),hlt=CO(),Bce=dlt("IE_PROTO"),W8=Object,mlt=W8.prototype;Uce.exports=hlt?W8.getPrototypeOf:function(e){var t=plt(e);if(clt(t,Bce))return t[Bce];var r=t.constructor;return flt(r)&&t instanceof r?r.prototype:t instanceof W8?mlt:null}});var _v=T((AEr,Vce)=>{"use strict";Vce.exports={}});var MO=T((OEr,Gce)=>{"use strict";var glt=br(),vlt=_v(),ylt=glt("iterator"),_lt=Array.prototype;Gce.exports=function(e){return e!==void 0&&(vlt.Array===e||_lt[ylt]===e)}});var Kp=T((DEr,Wce)=>{"use strict";var xlt=ul(),Hce=oo(),blt=po(),wlt=_v(),Slt=br(),Elt=Slt("iterator");Wce.exports=function(e){if(!blt(e))return Hce(e,Elt)||Hce(e,"@@iterator")||wlt[xlt(e)]}});var tm=T((PEr,$ce)=>{"use strict";var Ilt=zt(),Tlt=Ar(),Clt=Ut(),Mlt=Xh(),Alt=Kp(),Olt=TypeError;$ce.exports=function(e,t){var r=arguments.length<2?Alt(e):t;if(Tlt(r))return Clt(Ilt(r,e));throw new Olt(Mlt(e)+" is not iterable")}});var Xp=T((LEr,Yce)=>{"use strict";var Dlt=zt(),Zce=Ut(),Plt=oo();Yce.exports=function(e,t,r){var n,i;Zce(e);try{if(n=Plt(e,"return"),!n){if(t==="throw")throw r;return r}n=Dlt(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return Zce(n),r}});var Ki=T((NEr,Jce)=>{"use strict";var Llt=oi(),Nlt=zt(),Rlt=Ut(),klt=Xh(),qlt=MO(),jlt=fn(),Kce=Ja(),zlt=tm(),Flt=Kp(),Xce=Xp(),Blt=TypeError,AO=function(e,t){this.stopped=e,this.result=t},Qce=AO.prototype;Jce.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),c=!!(r&&r.INTERRUPTED),p=Llt(t,n),m,g,S,I,M,P,N,L=function(j){return m&&Xce(m,"normal",j),new AO(!0,j)},q=function(j){return i?(Rlt(j),c?p(j[0],j[1],L):p(j[0],j[1])):c?p(j,L):p(j)};if(o)m=e.iterator;else if(a)m=e;else{if(g=Flt(e),!g)throw new Blt(klt(e)+" is not iterable");if(qlt(g)){for(S=0,I=jlt(e);I>S;S++)if(M=q(e[S]),M&&Kce(Qce,M))return M;return new AO(!1)}m=zlt(e,g)}for(P=o?e.next:m.next;!(N=Nlt(P,m)).done;){try{M=q(N.value)}catch(j){Xce(m,"throw",j)}if(typeof M=="object"&&M&&Kce(Qce,M))return M}return new AO(!1)}});var tfe=T(()=>{"use strict";var Ult=re(),Vlt=Ja(),Glt=mo(),OO=Nu(),Hlt=C1(),efe=ao(),$8=ho(),Z8=sl(),Wlt=F8(),$lt=EO(),Zlt=Ki(),Ylt=vv(),Klt=br(),Xlt=Klt("toStringTag"),DO=Error,Qlt=[].push,P1=function(t,r){var n=Vlt(Y8,this),i;OO?i=OO(new DO,n?Glt(this):Y8):(i=n?this:efe(Y8),$8(i,Xlt,"Error")),r!==void 0&&$8(i,"message",Ylt(r)),$lt(i,P1,i.stack,1),arguments.length>2&&Wlt(i,arguments[2]);var o=[];return Zlt(t,Qlt,{that:o}),$8(i,"errors",o),i};OO?OO(P1,DO):Hlt(P1,DO,{name:!0});var Y8=P1.prototype=efe(DO.prototype,{constructor:Z8(1,P1),message:Z8(1,""),name:Z8(1,"AggregateError")});Ult({global:!0,constructor:!0,arity:2},{AggregateError:P1})});var K8=T(()=>{"use strict";tfe()});var ofe=T(()=>{"use strict";var Jlt=re(),eut=Mr(),tut=es(),rfe=_t(),rut=U8(),X8="AggregateError",nfe=eut(X8),ife=!rfe(function(){return nfe([1]).errors[0]!==1})&&rfe(function(){return nfe([1],X8,{cause:7}).cause!==7});Jlt({global:!0,constructor:!0,arity:2,forced:ife},{AggregateError:rut(X8,function(e){return function(r,n){return tut(e,this,arguments)}},ife,!0)})});var Wi=T((BEr,afe)=>{"use strict";var nut=br(),iut=ao(),out=yi().f,Q8=nut("unscopables"),J8=Array.prototype;J8[Q8]===void 0&&out(J8,Q8,{configurable:!0,value:iut(null)});afe.exports=function(e){J8[Q8][e]=!0}});var eB=T(()=>{"use strict";var aut=re(),sut=an(),lut=fn(),uut=Mi(),cut=Wi();aut({target:"Array",proto:!0},{at:function(t){var r=sut(this),n=lut(r),i=uut(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});cut("at")});var rm=T((GEr,sfe)=>{"use strict";var fut=TypeError,put=9007199254740991;sfe.exports=function(e){if(e>put)throw fut("Maximum allowed index exceeded");return e}});var L1=T((HEr,lfe)=>{"use strict";var dut=_t(),hut=br(),mut=Sf(),gut=hut("species");lfe.exports=function(e){return mut>=51||!dut(function(){var t=[],r=t.constructor={};return r[gut]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var pfe=T(()=>{"use strict";var vut=re(),yut=_t(),_ut=Lc(),xut=kr(),but=an(),wut=fn(),ufe=rm(),cfe=Pu(),Sut=A1(),Eut=L1(),Iut=br(),Tut=Sf(),ffe=Iut("isConcatSpreadable"),Cut=Tut>=51||!yut(function(){var e=[];return e[ffe]=!1,e.concat()[0]!==e}),Mut=function(e){if(!xut(e))return!1;var t=e[ffe];return t!==void 0?!!t:_ut(e)},Aut=!Cut||!Eut("concat");vut({target:"Array",proto:!0,arity:1,forced:Aut},{concat:function(t){var r=but(this),n=Sut(r,0),i=0,o,a,c,p,m;for(o=-1,c=arguments.length;o<c;o++)if(m=o===-1?r:arguments[o],Mut(m))for(p=wut(m),ufe(i+p),a=0;a<p;a++,i++)a in m&&cfe(n,i,m[a]);else ufe(i+1),cfe(n,i++,m);return n.length=i,n}})});var QS=T((ZEr,hfe)=>{"use strict";var dfe=Xh(),Out=TypeError;hfe.exports=function(e,t){if(!delete e[t])throw new Out("Cannot delete property "+dfe(t)+" of "+dfe(e))}});var rB=T((YEr,mfe)=>{"use strict";var Dut=an(),tB=Du(),Put=fn(),Lut=QS(),Nut=Math.min;mfe.exports=[].copyWithin||function(t,r){var n=Dut(this),i=Put(n),o=tB(t,i),a=tB(r,i),c=arguments.length>2?arguments[2]:void 0,p=Nut((c===void 0?i:tB(c,i))-a,i-o),m=1;for(a<o&&o<a+p&&(m=-1,a+=p-1,o+=p-1);p-->0;)a in n?n[o]=n[a]:Lut(n,o),o+=m,a+=m;return n}});var gfe=T(()=>{"use strict";var Rut=re(),kut=rB(),qut=Wi();Rut({target:"Array",proto:!0},{copyWithin:kut});qut("copyWithin")});var Ru=T((QEr,vfe)=>{"use strict";var jut=_t();vfe.exports=function(e,t){var r=[][e];return!!r&&jut(function(){r.call(null,t||function(){return 1},1)})}});var yfe=T(()=>{"use strict";var zut=re(),Fut=so().every,But=Ru(),Uut=But("every");zut({target:"Array",proto:!0,forced:!Uut},{every:function(t){return Fut(this,t,arguments.length>1?arguments[1]:void 0)}})});var PO=T((tIr,xfe)=>{"use strict";var Vut=an(),_fe=Du(),Gut=fn();xfe.exports=function(t){for(var r=Vut(this),n=Gut(r),i=arguments.length,o=_fe(i>1?arguments[1]:void 0,n),a=i>2?arguments[2]:void 0,c=a===void 0?n:_fe(a,n);c>o;)r[o++]=t;return r}});var bfe=T(()=>{"use strict";var Hut=re(),Wut=PO(),$ut=Wi();Hut({target:"Array",proto:!0},{fill:Wut});$ut("fill")});var wfe=T(()=>{"use strict";var Zut=re(),Yut=so().filter,Kut=L1(),Xut=Kut("filter");Zut({target:"Array",proto:!0,forced:!Xut},{filter:function(t){return Yut(this,t,arguments.length>1?arguments[1]:void 0)}})});var Efe=T(()=>{"use strict";var Qut=re(),Jut=so().find,ect=Wi(),nB="find",Sfe=!0;nB in[]&&Array(1)[nB](function(){Sfe=!1});Qut({target:"Array",proto:!0,forced:Sfe},{find:function(t){return Jut(this,t,arguments.length>1?arguments[1]:void 0)}});ect(nB)});var Tfe=T(()=>{"use strict";var tct=re(),rct=so().findIndex,nct=Wi(),iB="findIndex",Ife=!0;iB in[]&&Array(1)[iB](function(){Ife=!1});tct({target:"Array",proto:!0,forced:Ife},{findIndex:function(t){return rct(this,t,arguments.length>1?arguments[1]:void 0)}});nct(iB)});var JS=T((cIr,Mfe)=>{"use strict";var ict=oi(),oct=Vp(),act=an(),sct=fn(),Cfe=function(e){var t=e===1;return function(r,n,i){for(var o=act(r),a=oct(o),c=ict(n,i),p=sct(a),m,g;p-->0;)if(m=a[p],g=c(m,p,o),g)switch(e){case 0:return m;case 1:return p;}return t?-1:void 0}};Mfe.exports={findLast:Cfe(0),findLastIndex:Cfe(1)}});var oB=T(()=>{"use strict";var lct=re(),uct=JS().findLast,cct=Wi();lct({target:"Array",proto:!0},{findLast:function(t){return uct(this,t,arguments.length>1?arguments[1]:void 0)}});cct("findLast")});var aB=T(()=>{"use strict";var fct=re(),pct=JS().findLastIndex,dct=Wi();fct({target:"Array",proto:!0},{findLastIndex:function(t){return pct(this,t,arguments.length>1?arguments[1]:void 0)}});dct("findLastIndex")});var sB=T((mIr,Ofe)=>{"use strict";var hct=Lc(),mct=fn(),gct=rm(),vct=oi(),Afe=function(e,t,r,n,i,o,a,c){for(var p=i,m=0,g=a?vct(a,c):!1,S,I;m<n;)m in r&&(S=g?g(r[m],m,t):r[m],o>0&&hct(S)?(I=mct(S),p=Afe(e,t,S,I,p,o-1)-1):(gct(p+1),e[p]=S),p++),m++;return p};Ofe.exports=Afe});var Dfe=T(()=>{"use strict";var yct=re(),_ct=sB(),xct=an(),bct=fn(),wct=Mi(),Sct=A1();yct({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=xct(this),n=bct(r),i=Sct(r,0);return i.length=_ct(i,r,r,n,0,t===void 0?1:wct(t)),i}})});var Pfe=T(()=>{"use strict";var Ect=re(),Ict=sB(),Tct=Ar(),Cct=an(),Mct=fn(),Act=A1();Ect({target:"Array",proto:!0},{flatMap:function(t){var r=Cct(this),n=Mct(r),i;return Tct(t),i=Act(r,0),i.length=Ict(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var lB=T((xIr,Lfe)=>{"use strict";var Oct=so().forEach,Dct=Ru(),Pct=Dct("forEach");Lfe.exports=Pct?[].forEach:function(t){return Oct(this,t,arguments.length>1?arguments[1]:void 0)}});var Rfe=T(()=>{"use strict";var Lct=re(),Nfe=lB();Lct({target:"Array",proto:!0,forced:[].forEach!==Nfe},{forEach:Nfe})});var LO=T((SIr,kfe)=>{"use strict";var Nct=Ut(),Rct=Xp();kfe.exports=function(e,t,r,n){try{return n?t(Nct(r)[0],r[1]):t(r)}catch(i){Rct(e,"throw",i)}}});var uB=T((EIr,zfe)=>{"use strict";var kct=oi(),qct=zt(),jct=an(),zct=LO(),Fct=MO(),Bct=Nc(),Uct=fn(),qfe=Pu(),Vct=tm(),Gct=Kp(),jfe=Array;zfe.exports=function(t){var r=jct(t),n=Bct(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=kct(o,i>2?arguments[2]:void 0));var c=Gct(r),p=0,m,g,S,I,M,P;if(c&&!(this===jfe&&Fct(c)))for(I=Vct(r,c),M=I.next,g=n?new this:[];!(S=qct(M,I)).done;p++)P=a?zct(I,o,[S.value,p],!0):S.value,qfe(g,p,P);else for(m=Uct(r),g=n?new this(m):jfe(m);m>p;p++)P=a?o(r[p],p):r[p],qfe(g,p,P);return g.length=p,g}});var eE=T((IIr,Vfe)=>{"use strict";var Hct=br(),Bfe=Hct("iterator"),Ufe=!1;try{Ffe=0,cB={next:function(){return{done:!!Ffe++}},return:function(){Ufe=!0}},cB[Bfe]=function(){return this},Array.from(cB,function(){throw 2})}catch(e){}var Ffe,cB;Vfe.exports=function(e,t){try{if(!t&&!Ufe)return!1}catch(i){return!1}var r=!1;try{var n={};n[Bfe]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var Gfe=T(()=>{"use strict";var Wct=re(),$ct=uB(),Zct=eE(),Yct=!Zct(function(e){Array.from(e)});Wct({target:"Array",stat:!0,forced:Yct},{from:$ct})});var Hfe=T(()=>{"use strict";var Kct=re(),Xct=T1().includes,Qct=_t(),Jct=Wi(),eft=Qct(function(){return!Array(1).includes()});Kct({target:"Array",proto:!0,forced:eft},{includes:function(t){return Xct(this,t,arguments.length>1?arguments[1]:void 0)}});Jct("includes")});var $fe=T(()=>{"use strict";var tft=re(),rft=Wp(),nft=T1().indexOf,ift=Ru(),fB=rft([].indexOf),Wfe=!!fB&&1/fB([1],1,-0)<0,oft=Wfe||!ift("indexOf");tft({target:"Array",proto:!0,forced:oft},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return Wfe?fB(this,t,r)||0:nft(this,t,r)}})});var Zfe=T(()=>{"use strict";var aft=re(),sft=Lc();aft({target:"Array",stat:!0},{isArray:sft})});var xv=T((NIr,Xfe)=>{"use strict";var lft=_t(),uft=Rr(),cft=kr(),fft=ao(),Yfe=mo(),pft=Zn(),dft=br(),hft=on(),hB=dft("iterator"),Kfe=!1,Qp,pB,dB;[].keys&&(dB=[].keys(),"next"in dB?(pB=Yfe(Yfe(dB)),pB!==Object.prototype&&(Qp=pB)):Kfe=!0);var mft=!cft(Qp)||lft(function(){var e={};return Qp[hB].call(e)!==e});mft?Qp={}:hft&&(Qp=fft(Qp));uft(Qp[hB])||pft(Qp,hB,function(){return this});Xfe.exports={IteratorPrototype:Qp,BUGGY_SAFARI_ITERATORS:Kfe}});var nm=T((RIr,Qfe)=>{"use strict";var gft=xv().IteratorPrototype,vft=ao(),yft=sl(),_ft=cl(),xft=_v(),bft=function(){return this};Qfe.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=vft(gft,{next:yft(+!n,r)}),_ft(e,i,!1,!0),xft[i]=bft,e}});var kO=T((kIr,lpe)=>{"use strict";var wft=re(),Sft=zt(),NO=on(),ape=uv(),Eft=Rr(),Ift=nm(),Jfe=mo(),epe=Nu(),Tft=cl(),Cft=ho(),mB=Zn(),Mft=br(),tpe=_v(),spe=xv(),Aft=ape.PROPER,Oft=ape.CONFIGURABLE,rpe=spe.IteratorPrototype,RO=spe.BUGGY_SAFARI_ITERATORS,tE=Mft("iterator"),npe="keys",rE="values",ipe="entries",ope=function(){return this};lpe.exports=function(e,t,r,n,i,o,a){Ift(r,t,n);var c=function(q){if(q===i&&I)return I;if(!RO&&q&&q in g)return g[q];switch(q){case npe:return function(){return new r(this,q)};case rE:return function(){return new r(this,q)};case ipe:return function(){return new r(this,q)};}return function(){return new r(this)}},p=t+" Iterator",m=!1,g=e.prototype,S=g[tE]||g["@@iterator"]||i&&g[i],I=!RO&&S||c(i),M=t==="Array"&&g.entries||S,P,N,L;if(M&&(P=Jfe(M.call(new e)),P!==Object.prototype&&P.next&&(!NO&&Jfe(P)!==rpe&&(epe?epe(P,rpe):Eft(P[tE])||mB(P,tE,ope)),Tft(P,p,!0,!0),NO&&(tpe[p]=ope))),Aft&&i===rE&&S&&S.name!==rE&&(!NO&&Oft?Cft(g,"name",rE):(m=!0,I=function(){return Sft(S,this)})),i)if(N={values:c(rE),keys:o?I:c(npe),entries:c(ipe)},a)for(L in N)(RO||m||!(L in g))&&mB(g,L,N[L]);else wft({target:t,proto:!0,forced:RO||m},N);return(!NO||a)&&g[tE]!==I&&mB(g,tE,I,{name:i}),tpe[t]=I,N}});var xa=T((qIr,upe)=>{"use strict";upe.exports=function(e,t){return{value:e,done:t}}});var nE=T((jIr,hpe)=>{"use strict";var Dft=Mo(),gB=Wi(),cpe=_v(),ppe=Fn(),Pft=yi().f,Lft=kO(),qO=xa(),Nft=on(),Rft=_r(),dpe="Array Iterator",kft=ppe.set,qft=ppe.getterFor(dpe);hpe.exports=Lft(Array,"Array",function(e,t){kft(this,{type:dpe,target:Dft(e),index:0,kind:t})},function(){var e=qft(this),t=e.target,r=e.kind,n=e.index++;if(!t||n>=t.length)return e.target=void 0,qO(void 0,!0);switch(r){case"keys":return qO(n,!1);case"values":return qO(t[n],!1);}return qO([n,t[n]],!1)},"values");var fpe=cpe.Arguments=cpe.Array;gB("keys");gB("values");gB("entries");if(!Nft&&Rft&&fpe.name!=="values")try{Pft(fpe,"name",{value:"values"})}catch(e){}});var mpe=T(()=>{"use strict";var jft=re(),zft=lt(),Fft=Vp(),Bft=Mo(),Uft=Ru(),Vft=zft([].join),Gft=Fft!==Object,Hft=Gft||!Uft("join",",");jft({target:"Array",proto:!0,forced:Hft},{join:function(t){return Vft(Bft(this),t===void 0?",":t)}})});var yB=T((BIr,vpe)=>{"use strict";var Wft=es(),$ft=Mo(),Zft=Mi(),Yft=fn(),Kft=Ru(),Xft=Math.min,vB=[].lastIndexOf,gpe=!!vB&&1/[1].lastIndexOf(1,-0)<0,Qft=Kft("lastIndexOf"),Jft=gpe||!Qft;vpe.exports=Jft?function(t){if(gpe)return Wft(vB,this,arguments)||0;var r=$ft(this),n=Yft(r),i=n-1;for(arguments.length>1&&(i=Xft(i,Zft(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:vB});var _pe=T(()=>{"use strict";var ept=re(),ype=yB();ept({target:"Array",proto:!0,forced:ype!==[].lastIndexOf},{lastIndexOf:ype})});var xpe=T(()=>{"use strict";var tpt=re(),rpt=so().map,npt=L1(),ipt=npt("map");tpt({target:"Array",proto:!0,forced:!ipt},{map:function(t){return rpt(this,t,arguments.length>1?arguments[1]:void 0)}})});var wpe=T(()=>{"use strict";var opt=re(),apt=_t(),spt=Nc(),lpt=Pu(),bpe=Array,upt=apt(function(){function e(){}return!(bpe.of.call(e)instanceof e)});opt({target:"Array",stat:!0,forced:upt},{of:function(){for(var t=0,r=arguments.length,n=new(spt(this)?this:bpe)(r);r>t;)lpt(n,t,arguments[t++]);return n.length=r,n}})});var jO=T((ZIr,Spe)=>{"use strict";var cpt=_r(),fpt=Lc(),ppt=TypeError,dpt=Object.getOwnPropertyDescriptor,hpt=cpt&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();Spe.exports=hpt?function(e,t){if(fpt(e)&&!dpt(e,"length").writable)throw new ppt("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var Epe=T(()=>{"use strict";var mpt=re(),gpt=an(),vpt=fn(),ypt=jO(),_pt=rm(),xpt=_t(),bpt=xpt(function(){return[].push.call({length:4294967296},1)!==4294967297}),wpt=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Spt=bpt||!wpt();mpt({target:"Array",proto:!0,arity:1,forced:Spt},{push:function(t){var r=gpt(this),n=vpt(r),i=arguments.length;_pt(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return ypt(r,n),n}})});var iE=T((XIr,Tpe)=>{"use strict";var Ept=Ar(),Ipt=an(),Tpt=Vp(),Cpt=fn(),Mpt=TypeError,Ipe=function(e){return function(t,r,n,i){Ept(r);var o=Ipt(t),a=Tpt(o),c=Cpt(o),p=e?c-1:0,m=e?-1:1;if(n<2)for(;;){if(p in a){i=a[p],p+=m;break}if(p+=m,e?p<0:c<=p)throw new Mpt("Reduce of empty array with no initial value")}for(;e?p>=0:c>p;p+=m)p in a&&(i=r(i,a[p],p,o));return i}};Tpe.exports={left:Ipe(!1),right:Ipe(!0)}});var Tf=T((QIr,Cpe)=>{"use strict";var Apt=er(),Opt=_a();Cpe.exports=Opt(Apt.process)==="process"});var Ape=T(()=>{"use strict";var Dpt=re(),Ppt=iE().left,Lpt=Ru(),Mpe=Sf(),Npt=Tf(),Rpt=!Npt&&Mpe>79&&Mpe<83,kpt=Rpt||!Lpt("reduce");Dpt({target:"Array",proto:!0,forced:kpt},{reduce:function(t){var r=arguments.length;return Ppt(this,t,r,r>1?arguments[1]:void 0)}})});var Dpe=T(()=>{"use strict";var qpt=re(),jpt=iE().right,zpt=Ru(),Ope=Sf(),Fpt=Tf(),Bpt=!Fpt&&Ope>79&&Ope<83,Upt=Bpt||!zpt("reduceRight");qpt({target:"Array",proto:!0,forced:Upt},{reduceRight:function(t){return jpt(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var Lpe=T(()=>{"use strict";var Vpt=re(),Gpt=lt(),Hpt=Lc(),Wpt=Gpt([].reverse),Ppe=[1,2];Vpt({target:"Array",proto:!0,forced:String(Ppe)===String(Ppe.reverse())},{reverse:function(){return Hpt(this)&&(this.length=this.length),Wpt(this)}})});var kpe=T(()=>{"use strict";var $pt=re(),Npe=Lc(),Zpt=Nc(),Ypt=kr(),Rpe=Du(),Kpt=fn(),Xpt=Mo(),Qpt=Pu(),Jpt=br(),edt=L1(),tdt=Zp(),rdt=edt("slice"),ndt=Jpt("species"),_B=Array,idt=Math.max;$pt({target:"Array",proto:!0,forced:!rdt},{slice:function(t,r){var n=Xpt(this),i=Kpt(n),o=Rpe(t,i),a=Rpe(r===void 0?i:r,i),c,p,m;if(Npe(n)&&(c=n.constructor,Zpt(c)&&(c===_B||Npe(c.prototype))?c=void 0:Ypt(c)&&(c=c[ndt],c===null&&(c=void 0)),c===_B||c===void 0))return tdt(n,o,a);for(p=new(c===void 0?_B:c)(idt(a-o,0)),m=0;o<a;o++,m++)o in n&&Qpt(p,m,n[o]);return p.length=m,p}})});var qpe=T(()=>{"use strict";var odt=re(),adt=so().some,sdt=Ru(),ldt=sdt("some");odt({target:"Array",proto:!0,forced:!ldt},{some:function(t){return adt(this,t,arguments.length>1?arguments[1]:void 0)}})});var zO=T((uTr,zpe)=>{"use strict";var jpe=pv(),udt=Math.floor,xB=function(e,t){var r=e.length,n=udt(r/2);return r<8?cdt(e,t):fdt(e,xB(jpe(e,0,n),t),xB(jpe(e,n),t),t)},cdt=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},fdt=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,c=0;a<i||c<o;)e[a+c]=a<i&&c<o?n(t[a],r[c])<=0?t[a++]:r[c++]:a<i?t[a++]:r[c++];return e};zpe.exports=xB});var bB=T((cTr,Bpe)=>{"use strict";var pdt=wf(),Fpe=pdt.match(/firefox\/(\d+)/i);Bpe.exports=!!Fpe&&+Fpe[1]});var wB=T((fTr,Upe)=>{"use strict";var ddt=wf();Upe.exports=/MSIE|Trident/.test(ddt)});var FO=T((pTr,Gpe)=>{"use strict";var hdt=wf(),Vpe=hdt.match(/AppleWebKit\/(\d+)\./);Gpe.exports=!!Vpe&&+Vpe[1]});var Jpe=T(()=>{"use strict";var mdt=re(),Xpe=lt(),gdt=Ar(),vdt=an(),Hpe=fn(),ydt=QS(),Wpe=Pr(),SB=_t(),_dt=zO(),xdt=Ru(),$pe=bB(),bdt=wB(),Zpe=Sf(),Ype=FO(),im=[],Kpe=Xpe(im.sort),wdt=Xpe(im.push),Sdt=SB(function(){im.sort(void 0)}),Edt=SB(function(){im.sort(null)}),Idt=xdt("sort"),Qpe=!SB(function(){if(Zpe)return Zpe<70;if(!($pe&&$pe>3)){if(bdt)return!0;if(Ype)return Ype<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)im.push({k:r+i,v:n})}for(im.sort(function(o,a){return a.v-o.v}),i=0;i<im.length;i++)r=im[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),Tdt=Sdt||!Edt||!Idt||!Qpe,Cdt=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Wpe(t)>Wpe(r)?1:-1}};mdt({target:"Array",proto:!0,forced:Tdt},{sort:function(t){t!==void 0&&gdt(t);var r=vdt(this);if(Qpe)return t===void 0?Kpe(r):Kpe(r,t);var n=[],i=Hpe(r),o,a;for(a=0;a<i;a++)a in r&&wdt(n,r[a]);for(_dt(n,Cdt(t)),o=Hpe(n),a=0;a<o;)r[a]=n[a++];for(;a<i;)ydt(r,a++);return r}})});var om=T((mTr,tde)=>{"use strict";var Mdt=Mr(),Adt=qi(),Odt=br(),Ddt=_r(),ede=Odt("species");tde.exports=function(e){var t=Mdt(e);Ddt&&t&&!t[ede]&&Adt(t,ede,{configurable:!0,get:function(){return this}})}});var rde=T(()=>{"use strict";var Pdt=om();Pdt("Array")});var nde=T(()=>{"use strict";var Ldt=re(),Ndt=an(),Rdt=Du(),kdt=Mi(),qdt=fn(),jdt=jO(),zdt=rm(),Fdt=A1(),Bdt=Pu(),EB=QS(),Udt=L1(),Vdt=Udt("splice"),Gdt=Math.max,Hdt=Math.min;Ldt({target:"Array",proto:!0,forced:!Vdt},{splice:function(t,r){var n=Ndt(this),i=qdt(n),o=Rdt(t,i),a=arguments.length,c,p,m,g,S,I;for(a===0?c=p=0:a===1?(c=0,p=i-o):(c=a-2,p=Hdt(Gdt(kdt(r),0),i-o)),zdt(i+c-p),m=Fdt(n,p),g=0;g<p;g++)S=o+g,S in n&&Bdt(m,g,n[S]);if(m.length=p,c<p){for(g=o;g<i-p;g++)S=g+p,I=g+c,S in n?n[I]=n[S]:EB(n,I);for(g=i;g>i-p+c;g--)EB(n,g-1)}else if(c>p)for(g=i-p;g>o;g--)S=g+p-1,I=g+c-1,S in n?n[I]=n[S]:EB(n,I);for(g=0;g<c;g++)n[g+o]=arguments[g+2];return jdt(n,i-p+c),m}})});var IB=T((xTr,ide)=>{"use strict";var Wdt=fn();ide.exports=function(e,t){for(var r=Wdt(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var TB=T(()=>{"use strict";var $dt=re(),Zdt=IB(),Ydt=Mo(),Kdt=Wi(),Xdt=Array;$dt({target:"Array",proto:!0},{toReversed:function(){return Zdt(Ydt(this),Xdt)}});Kdt("toReversed")});var bv=T((STr,ode)=>{"use strict";var Qdt=fn();ode.exports=function(e,t){for(var r=0,n=Qdt(t),i=new e(n);n>r;)i[r]=t[r++];return i}});var CB=T((ETr,ade)=>{"use strict";var Jdt=er();ade.exports=function(e){return Jdt[e].prototype}});var MB=T(()=>{"use strict";var eht=re(),tht=lt(),rht=Ar(),nht=Mo(),iht=bv(),oht=CB(),aht=Wi(),sht=Array,lht=tht(oht("Array").sort);eht({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&rht(t);var r=nht(this),n=iht(sht,r);return lht(n,t)}});aht("toSorted")});var AB=T(()=>{"use strict";var uht=re(),cht=Wi(),fht=rm(),pht=fn(),dht=Du(),hht=Mo(),mht=Mi(),ght=Array,vht=Math.max,yht=Math.min;uht({target:"Array",proto:!0},{toSpliced:function(t,r){var n=hht(this),i=pht(n),o=dht(t,i),a=arguments.length,c=0,p,m,g,S;for(a===0?p=m=0:a===1?(p=0,m=i-o):(p=a-2,m=yht(vht(mht(r),0),i-o)),g=fht(i+p-m),S=ght(g);c<o;c++)S[c]=n[c];for(;c<o+p;c++)S[c]=arguments[c-o+2];for(;c<g;c++)S[c]=n[c+m-p];return S}});cht("toSpliced")});var sde=T(()=>{"use strict";var _ht=Wi();_ht("flat")});var lde=T(()=>{"use strict";var xht=Wi();xht("flatMap")});var ude=T(()=>{"use strict";var bht=re(),wht=an(),Sht=fn(),Eht=jO(),Iht=QS(),Tht=rm(),Cht=[].unshift(0)!==1,Mht=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},Aht=Cht||!Mht();bht({target:"Array",proto:!0,arity:1,forced:Aht},{unshift:function(t){var r=wht(this),n=Sht(r),i=arguments.length;if(i){Tht(n+i);for(var o=n;o--;){var a=o+i;o in r?r[a]=r[o]:Iht(r,a)}for(var c=0;c<i;c++)r[c]=arguments[c]}return Eht(r,n+i)}})});var OB=T((RTr,cde)=>{"use strict";var Oht=fn(),Dht=Mi(),Pht=RangeError;cde.exports=function(e,t,r,n){var i=Oht(e),o=Dht(r),a=o<0?i+o:o;if(a>=i||a<0)throw new Pht("Incorrect index");for(var c=new t(i),p=0;p<i;p++)c[p]=p===a?n:e[p];return c}});var DB=T(()=>{"use strict";var Lht=re(),Nht=OB(),Rht=Mo(),kht=Array;Lht({target:"Array",proto:!0},{with:function(e,t){return Nht(Rht(this),kht,e,t)}})});var BO=T((jTr,fde)=>{"use strict";fde.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var ku=T((zTr,pde)=>{"use strict";var qht=Zn();pde.exports=function(e,t,r){for(var n in t)qht(e,n,t[n],r);return e}});var ts=T((FTr,dde)=>{"use strict";var jht=Ja(),zht=TypeError;dde.exports=function(e,t){if(jht(t,e))return e;throw new zht("Incorrect invocation")}});var N1=T((BTr,hde)=>{"use strict";var Fht=Mi(),Bht=ll(),Uht=RangeError;hde.exports=function(e){if(e===void 0)return 0;var t=Fht(e),r=Bht(t);if(t!==r)throw new Uht("Wrong length or index");return r}});var UO=T((UTr,mde)=>{"use strict";mde.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var PB=T((VTr,yde)=>{"use strict";var Vht=UO(),Ght=Math.abs,vde=2220446049250313e-31,gde=1/vde,Hht=function(e){return e+gde-gde};yde.exports=function(e,t,r,n){var i=+e,o=Ght(i),a=Vht(i);if(o<n)return a*Hht(o/n/t)*n*t;var c=(1+t/vde)*o,p=c-(c-o);return p>r||p!==p?a*(1/0):a*p}});var VO=T((GTr,_de)=>{"use strict";var Wht=PB(),$ht=1.1920928955078125e-7,Zht=34028234663852886e22,Yht=11754943508222875e-54;_de.exports=Math.fround||function(t){return Wht(t,$ht,Zht,Yht)}});var GO=T((HTr,xde)=>{"use strict";var Kht=Array,Xht=Math.abs,Jp=Math.pow,Qht=Math.floor,Jht=Math.log,emt=Math.LN2,tmt=function(e,t,r){var n=Kht(r),i=r*8-t-1,o=(1<<i)-1,a=o>>1,c=t===23?Jp(2,-24)-Jp(2,-77):0,p=e<0||e===0&&1/e<0?1:0,m=0,g,S,I;for(e=Xht(e),e!==e||e===1/0?(S=e!==e?1:0,g=o):(g=Qht(Jht(e)/emt),I=Jp(2,-g),e*I<1&&(g--,I*=2),g+a>=1?e+=c/I:e+=c*Jp(2,1-a),e*I>=2&&(g++,I/=2),g+a>=o?(S=0,g=o):g+a>=1?(S=(e*I-1)*Jp(2,t),g+=a):(S=e*Jp(2,a-1)*Jp(2,t),g=0));t>=8;)n[m++]=S&255,S/=256,t-=8;for(g=g<<t|S,i+=t;i>0;)n[m++]=g&255,g/=256,i-=8;return n[--m]|=p*128,n},rmt=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,a=n-7,c=r-1,p=e[c--],m=p&127,g;for(p>>=7;a>0;)m=m*256+e[c--],a-=8;for(g=m&(1<<-a)-1,m>>=-a,a+=t;a>0;)g=g*256+e[c--],a-=8;if(m===0)m=1-o;else{if(m===i)return g?NaN:p?-1/0:1/0;g+=Jp(2,t),m-=o}return(p?-1:1)*g*Jp(2,m-t)};xde.exports={pack:tmt,unpack:rmt}});var sE=T((WTr,jde)=>{"use strict";var KO=er(),zB=lt(),LB=_r(),nmt=BO(),Lde=uv(),bde=ho(),imt=qi(),wde=ku(),NB=_t(),HO=ts(),omt=Mi(),amt=ll(),ZO=N1(),smt=VO(),Nde=GO(),lmt=mo(),Sde=Nu(),umt=Hp().f,cmt=PO(),fmt=pv(),Rde=cl(),FB=Fn(),pmt=Lde.PROPER,Ede=Lde.CONFIGURABLE,k1="ArrayBuffer",XO="DataView",q1="prototype",dmt="Wrong length",kde="Wrong index",Ide=FB.getterFor(k1),aE=FB.getterFor(XO),Tde=FB.set,qu=KO[k1],Ql=qu,R1=Ql&&Ql[q1],Cf=KO[XO],wv=Cf&&Cf[q1],Cde=Object.prototype,hmt=KO.Array,YO=KO.RangeError,mmt=zB(cmt),gmt=zB([].reverse),qde=Nde.pack,Mde=Nde.unpack,Ade=function(e){return[e&255]},Ode=function(e){return[e&255,e>>8&255]},Dde=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},Pde=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},vmt=function(e){return qde(smt(e),23,4)},ymt=function(e){return qde(e,52,8)},WO=function(e,t,r){imt(e[q1],t,{configurable:!0,get:function(){return r(this)[t]}})},am=function(e,t,r,n){var i=aE(e),o=ZO(r),a=!!n;if(o+t>i.byteLength)throw new YO(kde);var c=i.bytes,p=o+i.byteOffset,m=fmt(c,p,p+t);return a?m:gmt(m)},sm=function(e,t,r,n,i,o){var a=aE(e),c=ZO(r),p=n(+i),m=!!o;if(c+t>a.byteLength)throw new YO(kde);for(var g=a.bytes,S=c+a.byteOffset,I=0;I<t;I++)g[S+I]=p[m?I:t-I-1]};if(!nmt)Ql=function(t){HO(this,R1);var r=ZO(t);Tde(this,{type:k1,bytes:mmt(hmt(r),0),byteLength:r}),LB||(this.byteLength=r,this.detached=!1)},R1=Ql[q1],Cf=function(t,r,n){HO(this,wv),HO(t,R1);var i=Ide(t),o=i.byteLength,a=omt(r);if(a<0||a>o)throw new YO("Wrong offset");if(n=n===void 0?o-a:amt(n),a+n>o)throw new YO(dmt);Tde(this,{type:XO,buffer:t,byteLength:n,byteOffset:a,bytes:i.bytes}),LB||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},wv=Cf[q1],LB&&(WO(Ql,"byteLength",Ide),WO(Cf,"buffer",aE),WO(Cf,"byteLength",aE),WO(Cf,"byteOffset",aE)),wde(wv,{getInt8:function(t){return am(this,1,t)[0]<<24>>24},getUint8:function(t){return am(this,1,t)[0]},getInt16:function(t){var r=am(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=am(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return Pde(am(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return Pde(am(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return Mde(am(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return Mde(am(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){sm(this,1,t,Ade,r)},setUint8:function(t,r){sm(this,1,t,Ade,r)},setInt16:function(t,r){sm(this,2,t,Ode,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){sm(this,2,t,Ode,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){sm(this,4,t,Dde,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){sm(this,4,t,Dde,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){sm(this,4,t,vmt,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){sm(this,8,t,ymt,r,arguments.length>2?arguments[2]:!1)}});else{if(RB=pmt&&qu.name!==k1,!NB(function(){qu(1)})||!NB(function(){new qu(-1)})||NB(function(){return new qu,new qu(1.5),new qu(NaN),qu.length!==1||RB&&!Ede})){for(Ql=function(t){return HO(this,R1),new qu(ZO(t))},Ql[q1]=R1,kB=umt(qu),qB=0;kB.length>qB;)($O=kB[qB++])in Ql||bde(Ql,$O,qu[$O]);R1.constructor=Ql}else RB&&Ede&&bde(qu,"name",k1);Sde&&lmt(wv)!==Cde&&Sde(wv,Cde),oE=new Cf(new Ql(2)),jB=zB(wv.setInt8),oE.setInt8(0,2147483648),oE.setInt8(1,2147483649),(oE.getInt8(0)||!oE.getInt8(1))&&wde(wv,{setInt8:function(t,r){jB(this,t,r<<24>>24)},setUint8:function(t,r){jB(this,t,r<<24>>24)}},{unsafe:!0})}var RB,kB,qB,$O,oE,jB;Rde(Ql,k1);Rde(Cf,XO);jde.exports={ArrayBuffer:Ql,DataView:Cf}});var Fde=T(()=>{"use strict";var _mt=re(),xmt=er(),bmt=sE(),wmt=om(),BB="ArrayBuffer",zde=bmt[BB],Smt=xmt[BB];_mt({global:!0,constructor:!0,forced:Smt!==zde},{ArrayBuffer:zde});wmt(BB)});var Kr=T((YTr,Kde)=>{"use strict";var Emt=BO(),HB=_r(),Os=er(),Gde=Rr(),eD=kr(),um=Yr(),WB=ul(),Imt=Xh(),Tmt=ho(),UB=Zn(),Cmt=qi(),Mmt=Ja(),tD=mo(),z1=Nu(),Amt=br(),Omt=Qh(),Hde=Fn(),Wde=Hde.enforce,Dmt=Hde.get,QO=Os.Int8Array,VB=QO&&QO.prototype,Bde=Os.Uint8ClampedArray,Ude=Bde&&Bde.prototype,Mf=QO&&tD(QO),Rc=VB&&tD(VB),Pmt=Object.prototype,$B=Os.TypeError,Vde=Amt("toStringTag"),GB=Omt("TYPED_ARRAY_TAG"),JO="TypedArrayConstructor",ed=Emt&&!!z1&&WB(Os.opera)!=="Opera",$de=!1,pl,lm,j1,td={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ZB={BigInt64Array:8,BigUint64Array:8},Lmt=function(t){if(!eD(t))return!1;var r=WB(t);return r==="DataView"||um(td,r)||um(ZB,r)},Zde=function(e){var t=tD(e);if(eD(t)){var r=Dmt(t);return r&&um(r,JO)?r[JO]:Zde(t)}},Yde=function(e){if(!eD(e))return!1;var t=WB(e);return um(td,t)||um(ZB,t)},Nmt=function(e){if(Yde(e))return e;throw new $B("Target is not a typed array")},Rmt=function(e){if(Gde(e)&&(!z1||Mmt(Mf,e)))return e;throw new $B(Imt(e)+" is not a typed array constructor")},kmt=function(e,t,r,n){if(HB){if(r)for(var i in td){var o=Os[i];if(o&&um(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(c){}}}(!Rc[e]||r)&&UB(Rc,e,r?t:ed&&VB[e]||t,n)}},qmt=function(e,t,r){var n,i;if(HB){if(z1){if(r){for(n in td)if(i=Os[n],i&&um(i,e))try{delete i[e]}catch(o){}}if(!Mf[e]||r)try{return UB(Mf,e,r?t:ed&&Mf[e]||t)}catch(o){}else return}for(n in td)i=Os[n],i&&(!i[e]||r)&&UB(i,e,t)}};for(pl in td)lm=Os[pl],j1=lm&&lm.prototype,j1?Wde(j1)[JO]=lm:ed=!1;for(pl in ZB)lm=Os[pl],j1=lm&&lm.prototype,j1&&(Wde(j1)[JO]=lm);if((!ed||!Gde(Mf)||Mf===Function.prototype)&&(Mf=function(){throw new $B("Incorrect invocation")},ed))for(pl in td)Os[pl]&&z1(Os[pl],Mf);if((!ed||!Rc||Rc===Pmt)&&(Rc=Mf.prototype,ed))for(pl in td)Os[pl]&&z1(Os[pl].prototype,Rc);ed&&tD(Ude)!==Rc&&z1(Ude,Rc);if(HB&&!um(Rc,Vde)){$de=!0,Cmt(Rc,Vde,{configurable:!0,get:function(){return eD(this)?this[GB]:void 0}});for(pl in td)Os[pl]&&Tmt(Os[pl],GB,pl)}Kde.exports={NATIVE_ARRAY_BUFFER_VIEWS:ed,TYPED_ARRAY_TAG:$de&&GB,aTypedArray:Nmt,aTypedArrayConstructor:Rmt,exportTypedArrayMethod:kmt,exportTypedArrayStaticMethod:qmt,getTypedArrayConstructor:Zde,isView:Lmt,isTypedArray:Yde,TypedArray:Mf,TypedArrayPrototype:Rc}});var Qde=T(()=>{"use strict";var jmt=re(),Xde=Kr(),zmt=Xde.NATIVE_ARRAY_BUFFER_VIEWS;jmt({target:"ArrayBuffer",stat:!0,forced:!zmt},{isView:Xde.isView})});var F1=T((QTr,Jde)=>{"use strict";var Fmt=Nc(),Bmt=Xh(),Umt=TypeError;Jde.exports=function(e){if(Fmt(e))return e;throw new Umt(Bmt(e)+" is not a constructor")}});var Sv=T((JTr,the)=>{"use strict";var ehe=Ut(),Vmt=F1(),Gmt=po(),Hmt=br(),Wmt=Hmt("species");the.exports=function(e,t){var r=ehe(e).constructor,n;return r===void 0||Gmt(n=ehe(r)[Wmt])?t:Vmt(n)}});var she=T(()=>{"use strict";var $mt=re(),KB=Wp(),Zmt=_t(),ohe=sE(),rhe=Ut(),nhe=Du(),Ymt=ll(),Kmt=Sv(),XB=ohe.ArrayBuffer,YB=ohe.DataView,ahe=YB.prototype,ihe=KB(XB.prototype.slice),Xmt=KB(ahe.getUint8),Qmt=KB(ahe.setUint8),Jmt=Zmt(function(){return!new XB(2).slice(1,void 0).byteLength});$mt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Jmt},{slice:function(t,r){if(ihe&&r===void 0)return ihe(rhe(this),t);for(var n=rhe(this).byteLength,i=nhe(t,n),o=nhe(r===void 0?n:r,n),a=new(Kmt(this,XB))(Ymt(o-i)),c=new YB(this),p=new YB(a),m=0;i<o;)Qmt(p,m++,Xmt(c,i++));return a}})});var lhe=T(()=>{"use strict";var egt=re(),tgt=sE(),rgt=BO();egt({global:!0,constructor:!0,forced:!rgt},{DataView:tgt.DataView})});var uhe=T(()=>{"use strict";lhe()});var che=T(()=>{"use strict";var ngt=re(),igt=lt(),ogt=_t(),agt=ogt(function(){return new Date(16e11).getYear()!==120}),sgt=igt(Date.prototype.getFullYear);ngt({target:"Date",proto:!0,forced:agt},{getYear:function(){return sgt(this)-1900}})});var phe=T(()=>{"use strict";var lgt=re(),ugt=lt(),fhe=Date,cgt=ugt(fhe.prototype.getTime);lgt({target:"Date",stat:!0},{now:function(){return cgt(new fhe)}})});var mhe=T(()=>{"use strict";var fgt=re(),dhe=lt(),pgt=Mi(),hhe=Date.prototype,dgt=dhe(hhe.getTime),hgt=dhe(hhe.setFullYear);fgt({target:"Date",proto:!0},{setYear:function(t){dgt(this);var r=pgt(t),n=r>=0&&r<=99?r+1900:r;return hgt(this,n)}})});var ghe=T(()=>{"use strict";var mgt=re();mgt({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var lE=T((h2r,vhe)=>{"use strict";var ggt=Mi(),vgt=Pr(),ygt=Ci(),_gt=RangeError;vhe.exports=function(t){var r=vgt(ygt(this)),n="",i=ggt(t);if(i<0||i===1/0)throw new _gt("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var rD=T((m2r,bhe)=>{"use strict";var xhe=lt(),xgt=ll(),yhe=Pr(),bgt=lE(),wgt=Ci(),Sgt=xhe(bgt),Egt=xhe("".slice),Igt=Math.ceil,_he=function(e){return function(t,r,n){var i=yhe(wgt(t)),o=xgt(r),a=i.length,c=n===void 0?" ":yhe(n),p,m;return o<=a||c===""?i:(p=o-a,m=Sgt(c,Igt(p/c.length)),m.length>p&&(m=Egt(m,0,p)),e?i+m:m+i)}};bhe.exports={start:_he(!1),end:_he(!0)}});var Ehe=T((g2r,She)=>{"use strict";var cm=lt(),whe=_t(),Ev=rD().start,Tgt=RangeError,Cgt=isFinite,Mgt=Math.abs,rd=Date.prototype,QB=rd.toISOString,Agt=cm(rd.getTime),Ogt=cm(rd.getUTCDate),Dgt=cm(rd.getUTCFullYear),Pgt=cm(rd.getUTCHours),Lgt=cm(rd.getUTCMilliseconds),Ngt=cm(rd.getUTCMinutes),Rgt=cm(rd.getUTCMonth),kgt=cm(rd.getUTCSeconds);She.exports=whe(function(){return QB.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!whe(function(){QB.call(new Date(NaN))})?function(){if(!Cgt(Agt(this)))throw new Tgt("Invalid time value");var t=this,r=Dgt(t),n=Lgt(t),i=r<0?"-":r>9999?"+":"";return i+Ev(Mgt(r),i?6:4,0)+"-"+Ev(Rgt(t)+1,2,0)+"-"+Ev(Ogt(t),2,0)+"T"+Ev(Pgt(t),2,0)+":"+Ev(Ngt(t),2,0)+":"+Ev(kgt(t),2,0)+"."+Ev(n,3,0)+"Z"}:QB});var The=T(()=>{"use strict";var qgt=re(),Ihe=Ehe();qgt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Ihe},{toISOString:Ihe})});var Che=T(()=>{"use strict";var jgt=re(),zgt=_t(),Fgt=an(),Bgt=kS(),Ugt=zgt(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});jgt({target:"Date",proto:!0,arity:1,forced:Ugt},{toJSON:function(t){var r=Fgt(this),n=Bgt(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var Ahe=T((b2r,Mhe)=>{"use strict";var Vgt=Ut(),Ggt=WF(),Hgt=TypeError;Mhe.exports=function(e){if(Vgt(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new Hgt("Incorrect hint");return Ggt(this,e)}});var Phe=T(()=>{"use strict";var Wgt=Yr(),$gt=Zn(),Zgt=Ahe(),Ygt=br(),Ohe=Ygt("toPrimitive"),Dhe=Date.prototype;Wgt(Dhe,Ohe)||$gt(Dhe,Ohe,Zgt)});var khe=T(()=>{"use strict";var Nhe=lt(),Kgt=Zn(),JB=Date.prototype,Lhe="Invalid Date",Rhe="toString",Xgt=Nhe(JB[Rhe]),Qgt=Nhe(JB.getTime);String(new Date(NaN))!==Lhe&&Kgt(JB,Rhe,function(){var t=Qgt(this);return t===t?Xgt(this):Lhe})});var jhe=T(()=>{"use strict";var Jgt=re(),uE=lt(),evt=Pr(),tvt=uE("".charAt),rvt=uE("".charCodeAt),nvt=uE(/./.exec),ivt=uE(1 .toString),ovt=uE("".toUpperCase),avt=/[\w*+\-./@]/,qhe=function(e,t){for(var r=ivt(e,16);r.length<t;)r="0"+r;return r};Jgt({global:!0},{escape:function(t){for(var r=evt(t),n="",i=r.length,o=0,a,c;o<i;)a=tvt(r,o++),nvt(avt,a)?n+=a:(c=rvt(a,0),c<256?n+="%"+qhe(c,2):n+="%u"+ovt(qhe(c,4)));return n}})});var tU=T((M2r,Uhe)=>{"use strict";var Fhe=lt(),svt=Ar(),lvt=kr(),uvt=Yr(),zhe=Zp(),cvt=S1(),Bhe=Function,fvt=Fhe([].concat),pvt=Fhe([].join),eU={},dvt=function(e,t,r){if(!uvt(eU,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";eU[t]=Bhe("C,a","return new C("+pvt(n,",")+")")}return eU[t](e,r)};Uhe.exports=cvt?Bhe.bind:function(t){var r=svt(this),n=r.prototype,i=zhe(arguments,1),o=function(){var c=fvt(i,zhe(arguments));return this instanceof o?dvt(r,c.length,c):r.apply(t,c)};return lvt(n)&&(o.prototype=n),o}});var Ghe=T(()=>{"use strict";var hvt=re(),Vhe=tU();hvt({target:"Function",proto:!0,forced:Function.bind!==Vhe},{bind:Vhe})});var $he=T(()=>{"use strict";var mvt=Rr(),Hhe=kr(),gvt=yi(),vvt=mo(),yvt=br(),_vt=BS(),rU=yvt("hasInstance"),Whe=Function.prototype;rU in Whe||gvt.f(Whe,rU,{value:_vt(function(e){if(!mvt(this)||!Hhe(e))return!1;var t=this.prototype;if(!Hhe(t))return e instanceof this;for(;e=vvt(e);)if(t===e)return!0;return!1},rU)})});var Xhe=T(()=>{"use strict";var xvt=_r(),bvt=uv().EXISTS,Zhe=lt(),wvt=qi(),Yhe=Function.prototype,Svt=Zhe(Yhe.toString),Khe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Evt=Zhe(Khe.exec),Ivt="name";xvt&&!bvt&&wvt(Yhe,Ivt,{configurable:!0,get:function(){try{return Evt(Khe,Svt(this))[1]}catch(e){return""}}})});var iU=T(()=>{"use strict";var Tvt=re(),nU=er();Tvt({global:!0,forced:nU.globalThis!==nU},{globalThis:nU})});var Qhe=T(()=>{"use strict";var Cvt=er(),Mvt=cl();Mvt(Cvt.JSON,"JSON",!0)});var nD=T((z2r,Jhe)=>{"use strict";var Avt=_t();Jhe.exports=Avt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var oD=T((F2r,tme)=>{"use strict";var Ovt=_t(),Dvt=kr(),Pvt=_a(),eme=nD(),iD=Object.isExtensible,Lvt=Ovt(function(){iD(1)});tme.exports=Lvt||eme?function(t){return!Dvt(t)||eme&&Pvt(t)==="ArrayBuffer"?!1:iD?iD(t):!0}:iD});var nd=T((B2r,rme)=>{"use strict";var Nvt=_t();rme.exports=!Nvt(function(){return Object.isExtensible(Object.preventExtensions({}))})});var fm=T((U2r,ome)=>{"use strict";var Rvt=re(),kvt=lt(),qvt=I1(),jvt=kr(),oU=Yr(),zvt=yi().f,nme=Hp(),Fvt=dO(),aU=oD(),Bvt=Qh(),Uvt=nd(),ime=!1,id=Bvt("meta"),Vvt=0,sU=function(e){zvt(e,id,{value:{objectID:"O"+Vvt++,weakData:{}}})},Gvt=function(e,t){if(!jvt(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!oU(e,id)){if(!aU(e))return"F";if(!t)return"E";sU(e)}return e[id].objectID},Hvt=function(e,t){if(!oU(e,id)){if(!aU(e))return!0;if(!t)return!1;sU(e)}return e[id].weakData},Wvt=function(e){return Uvt&&ime&&aU(e)&&!oU(e,id)&&sU(e),e},$vt=function(){Zvt.enable=function(){},ime=!0;var e=nme.f,t=kvt([].splice),r={};r[id]=1,e(r).length&&(nme.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===id){t(i,o,1);break}return i},Rvt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Fvt.f}))},Zvt=ome.exports={enable:$vt,fastKey:Gvt,getWeakData:Hvt,onFreeze:Wvt};qvt[id]=!0});var cE=T((V2r,sme)=>{"use strict";var Yvt=re(),Kvt=er(),Xvt=lt(),ame=M1(),Qvt=Zn(),Jvt=fm(),eyt=Ki(),tyt=ts(),ryt=Rr(),nyt=po(),lU=kr(),uU=_t(),iyt=eE(),oyt=cl(),ayt=gv();sme.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=Kvt[e],c=a&&a.prototype,p=a,m={},g=function(q){var j=Xvt(c[q]);Qvt(c,q,q==="add"?function(H){return j(this,H===0?0:H),this}:q==="delete"?function(B){return i&&!lU(B)?!1:j(this,B===0?0:B)}:q==="get"?function(H){return i&&!lU(H)?void 0:j(this,H===0?0:H)}:q==="has"?function(H){return i&&!lU(H)?!1:j(this,H===0?0:H)}:function(H,Q){return j(this,H===0?0:H,Q),this})},S=ame(e,!ryt(a)||!(i||c.forEach&&!uU(function(){new a().entries().next()})));if(S)p=r.getConstructor(t,e,n,o),Jvt.enable();else if(ame(e,!0)){var I=new p,M=I[o](i?{}:-0,1)!==I,P=uU(function(){I.has(1)}),N=iyt(function(q){new a(q)}),L=!i&&uU(function(){for(var q=new a,j=5;j--;)q[o](j,j);return!q.has(-0)});N||(p=t(function(q,j){tyt(q,c);var B=ayt(new a,q,p);return nyt(j)||eyt(j,B[o],{that:B,AS_ENTRIES:n}),B}),p.prototype=c,c.constructor=p),(P||L)&&(g("delete"),g("has"),n&&g("get")),(L||M)&&g(o),i&&c.clear&&delete c.clear}return m[e]=p,Yvt({global:!0,constructor:!0,forced:p!==a},m),oyt(p,e),i||r.setStrong(p,e,n),p}});var fU=T((G2r,pme)=>{"use strict";var syt=ao(),lyt=qi(),lme=ku(),uyt=oi(),cyt=ts(),fyt=po(),pyt=Ki(),dyt=kO(),aD=xa(),hyt=om(),fE=_r(),ume=fm().fastKey,fme=Fn(),cme=fme.set,cU=fme.getterFor;pme.exports={getConstructor:function(e,t,r,n){var i=e(function(m,g){cyt(m,o),cme(m,{type:t,index:syt(null),first:void 0,last:void 0,size:0}),fE||(m.size=0),fyt(g)||pyt(g,m[n],{that:m,AS_ENTRIES:r})}),o=i.prototype,a=cU(t),c=function(m,g,S){var I=a(m),M=p(m,g),P,N;return M?M.value=S:(I.last=M={index:N=ume(g,!0),key:g,value:S,previous:P=I.last,next:void 0,removed:!1},I.first||(I.first=M),P&&(P.next=M),fE?I.size++:m.size++,N!=="F"&&(I.index[N]=M)),m},p=function(m,g){var S=a(m),I=ume(g),M;if(I!=="F")return S.index[I];for(M=S.first;M;M=M.next)if(M.key===g)return M};return lme(o,{clear:function(){for(var g=this,S=a(g),I=S.index,M=S.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete I[M.index],M=M.next;S.first=S.last=void 0,fE?S.size=0:g.size=0},delete:function(m){var g=this,S=a(g),I=p(g,m);if(I){var M=I.next,P=I.previous;delete S.index[I.index],I.removed=!0,P&&(P.next=M),M&&(M.previous=P),S.first===I&&(S.first=M),S.last===I&&(S.last=P),fE?S.size--:g.size--}return!!I},forEach:function(g){for(var S=a(this),I=uyt(g,arguments.length>1?arguments[1]:void 0),M;M=M?M.next:S.first;)for(I(M.value,M.key,this);M&&M.removed;)M=M.previous},has:function(g){return!!p(this,g)}}),lme(o,r?{get:function(g){var S=p(this,g);return S&&S.value},set:function(g,S){return c(this,g===0?0:g,S)}}:{add:function(g){return c(this,g=g===0?0:g,g)}}),fE&&lyt(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=cU(t),o=cU(n);dyt(e,t,function(a,c){cme(this,{type:n,target:a,state:i(a),kind:c,last:void 0})},function(){for(var a=o(this),c=a.kind,p=a.last;p&&p.removed;)p=p.previous;return!a.target||!(a.last=p=p?p.next:a.state.first)?(a.target=void 0,aD(void 0,!0)):aD(c==="keys"?p.key:c==="values"?p.value:[p.key,p.value],!1)},r?"entries":"values",!r,!0),hyt(t)}}});var dme=T(()=>{"use strict";var myt=cE(),gyt=fU();myt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},gyt)});var sD=T(()=>{"use strict";dme()});var pU=T((Y2r,hme)=>{"use strict";var vyt=Math.log;hme.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:vyt(1+r)}});var gme=T(()=>{"use strict";var yyt=re(),_yt=pU(),dU=Math.acosh,xyt=Math.log,mme=Math.sqrt,byt=Math.LN2,wyt=!dU||Math.floor(dU(Number.MAX_VALUE))!==710||dU(1/0)!==1/0;yyt({target:"Math",stat:!0,forced:wyt},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?xyt(r)+byt:_yt(r-1+mme(r-1)*mme(r+1))}})});var _me=T(()=>{"use strict";var Syt=re(),vme=Math.asinh,Eyt=Math.log,Iyt=Math.sqrt;function yme(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-yme(-t):Eyt(t+Iyt(t*t+1))}var Tyt=!(vme&&1/vme(0)>0);Syt({target:"Math",stat:!0,forced:Tyt},{asinh:yme})});var bme=T(()=>{"use strict";var Cyt=re(),xme=Math.atanh,Myt=Math.log,Ayt=!(xme&&1/xme(-0)<0);Cyt({target:"Math",stat:!0,forced:Ayt},{atanh:function(t){var r=+t;return r===0?r:Myt((1+r)/(1-r))/2}})});var wme=T(()=>{"use strict";var Oyt=re(),Dyt=UO(),Pyt=Math.abs,Lyt=Math.pow;Oyt({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return Dyt(r)*Lyt(Pyt(r),1/3)}})});var Sme=T(()=>{"use strict";var Nyt=re(),Ryt=Math.floor,kyt=Math.log,qyt=Math.LOG2E;Nyt({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-Ryt(kyt(r+.5)*qyt):32}})});var dE=T((aCr,Eme)=>{"use strict";var pE=Math.expm1,jyt=Math.exp;Eme.exports=!pE||pE(10)>22025.465794806718||pE(10)<22025.465794806718||pE(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:jyt(r)-1}:pE});var Tme=T(()=>{"use strict";var zyt=re(),Fyt=dE(),Ime=Math.cosh,Byt=Math.abs,hU=Math.E,Uyt=!Ime||Ime(710)===1/0;zyt({target:"Math",stat:!0,forced:Uyt},{cosh:function(t){var r=Fyt(Byt(t)-1)+1;return(r+1/(r*hU*hU))*(hU/2)}})});var Mme=T(()=>{"use strict";var Vyt=re(),Cme=dE();Vyt({target:"Math",stat:!0,forced:Cme!==Math.expm1},{expm1:Cme})});var Ame=T(()=>{"use strict";var Gyt=re(),Hyt=VO();Gyt({target:"Math",stat:!0},{fround:Hyt})});var Dme=T(()=>{"use strict";var Wyt=re(),Ome=Math.hypot,$yt=Math.abs,Zyt=Math.sqrt,Yyt=!!Ome&&Ome(1/0,NaN)!==1/0;Wyt({target:"Math",stat:!0,arity:2,forced:Yyt},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,a=0,c,p;i<o;)c=$yt(arguments[i++]),a<c?(p=a/c,n=n*p*p+1,a=c):c>0?(p=c/a,n+=p*p):n+=c;return a===1/0?1/0:a*Zyt(n)}})});var Lme=T(()=>{"use strict";var Kyt=re(),Xyt=_t(),Pme=Math.imul,Qyt=Xyt(function(){return Pme(4294967295,5)!==-5||Pme.length!==2});Kyt({target:"Math",stat:!0,forced:Qyt},{imul:function(t,r){var n=65535,i=+t,o=+r,a=n&i,c=n&o;return 0|a*c+((n&i>>>16)*c+a*(n&o>>>16)<<16>>>0)}})});var mU=T((vCr,Nme)=>{"use strict";var Jyt=Math.log,e0t=Math.LOG10E;Nme.exports=Math.log10||function(t){return Jyt(t)*e0t}});var Rme=T(()=>{"use strict";var t0t=re(),r0t=mU();t0t({target:"Math",stat:!0},{log10:r0t})});var kme=T(()=>{"use strict";var n0t=re(),i0t=pU();n0t({target:"Math",stat:!0},{log1p:i0t})});var qme=T(()=>{"use strict";var o0t=re(),a0t=Math.log,s0t=Math.LN2;o0t({target:"Math",stat:!0},{log2:function(t){return a0t(t)/s0t}})});var jme=T(()=>{"use strict";var l0t=re(),u0t=UO();l0t({target:"Math",stat:!0},{sign:u0t})});var Bme=T(()=>{"use strict";var c0t=re(),f0t=_t(),zme=dE(),p0t=Math.abs,Fme=Math.exp,d0t=Math.E,h0t=f0t(function(){return Math.sinh(-2e-17)!==-2e-17});c0t({target:"Math",stat:!0,forced:h0t},{sinh:function(t){var r=+t;return p0t(r)<1?(zme(r)-zme(-r))/2:(Fme(r-1)-Fme(-r-1))*(d0t/2)}})});var Gme=T(()=>{"use strict";var m0t=re(),Ume=dE(),Vme=Math.exp;m0t({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=Ume(r),i=Ume(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Vme(r)+Vme(-r))}})});var Hme=T(()=>{"use strict";var g0t=cl();g0t(Math,"Math",!0)});var Wme=T(()=>{"use strict";var v0t=re(),y0t=c8();v0t({target:"Math",stat:!0},{trunc:y0t})});var hE=T((NCr,$me)=>{"use strict";var _0t=lt();$me.exports=_0t(1 .valueOf)});var Iv=T((RCr,Zme)=>{"use strict";Zme.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Tv=T((kCr,Kme)=>{"use strict";var x0t=lt(),b0t=Ci(),w0t=Pr(),vU=Iv(),Yme=x0t("".replace),S0t=RegExp("^["+vU+"]+"),E0t=RegExp("(^|[^"+vU+"])["+vU+"]+$"),gU=function(e){return function(t){var r=w0t(b0t(t));return e&1&&(r=Yme(r,S0t,"")),e&2&&(r=Yme(r,E0t,"$1")),r}};Kme.exports={start:gU(1),end:gU(2),trim:gU(3)}});var nge=T(()=>{"use strict";var I0t=re(),yU=on(),T0t=_r(),Jme=er(),_U=hO(),ege=lt(),C0t=M1(),Xme=Yr(),M0t=gv(),A0t=Ja(),O0t=Gp(),tge=kS(),D0t=_t(),P0t=Hp().f,L0t=zo().f,N0t=yi().f,R0t=hE(),k0t=Tv().trim,mE="Number",B1=Jme[mE],Qme=_U[mE],xU=B1.prototype,q0t=Jme.TypeError,j0t=ege("".slice),lD=ege("".charCodeAt),z0t=function(e){var t=tge(e,"number");return typeof t=="bigint"?t:F0t(t)},F0t=function(e){var t=tge(e,"number"),r,n,i,o,a,c,p,m;if(O0t(t))throw new q0t("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=k0t(t),r=lD(t,0),r===43||r===45){if(n=lD(t,2),n===88||n===120)return NaN}else if(r===48){switch(lD(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t;}for(a=j0t(t,2),c=a.length,p=0;p<c;p++)if(m=lD(a,p),m<48||m>o)return NaN;return parseInt(a,i)}}return+t},bU=C0t(mE,!B1(" 0o1")||!B1("0b1")||B1("+0x1")),B0t=function(e){return A0t(xU,e)&&D0t(function(){R0t(e)})},uD=function(t){var r=arguments.length<1?0:B1(z0t(t));return B0t(this)?M0t(Object(r),this,uD):r};uD.prototype=xU;bU&&!yU&&(xU.constructor=uD);I0t({global:!0,constructor:!0,wrap:!0,forced:bU},{Number:uD});var rge=function(e,t){for(var r=T0t?P0t(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Xme(t,i=r[n])&&!Xme(e,i)&&N0t(e,i,L0t(t,i))};yU&&Qme&&rge(_U[mE],Qme);(bU||yU)&&rge(_U[mE],B1)});var ige=T(()=>{"use strict";var U0t=re();U0t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var wU=T((BCr,oge)=>{"use strict";var V0t=er(),G0t=V0t.isFinite;oge.exports=Number.isFinite||function(t){return typeof t=="number"&&G0t(t)}});var age=T(()=>{"use strict";var H0t=re(),W0t=wU();H0t({target:"Number",stat:!0},{isFinite:W0t})});var cD=T((GCr,sge)=>{"use strict";var $0t=kr(),Z0t=Math.floor;sge.exports=Number.isInteger||function(t){return!$0t(t)&&isFinite(t)&&Z0t(t)===t}});var lge=T(()=>{"use strict";var Y0t=re(),K0t=cD();Y0t({target:"Number",stat:!0},{isInteger:K0t})});var uge=T(()=>{"use strict";var X0t=re();X0t({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var cge=T(()=>{"use strict";var Q0t=re(),J0t=cD(),e1t=Math.abs;Q0t({target:"Number",stat:!0},{isSafeInteger:function(t){return J0t(t)&&e1t(t)<=9007199254740991}})});var fge=T(()=>{"use strict";var t1t=re();t1t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var pge=T(()=>{"use strict";var r1t=re();r1t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var SU=T((tMr,gge)=>{"use strict";var mge=er(),n1t=_t(),i1t=lt(),o1t=Pr(),a1t=Tv().trim,s1t=Iv(),l1t=i1t("".charAt),fD=mge.parseFloat,dge=mge.Symbol,hge=dge&&dge.iterator,u1t=1/fD(s1t+"-0")!==-1/0||hge&&!n1t(function(){fD(Object(hge))});gge.exports=u1t?function(t){var r=a1t(o1t(t)),n=fD(r);return n===0&&l1t(r,0)==="-"?-0:n}:fD});var yge=T(()=>{"use strict";var c1t=re(),vge=SU();c1t({target:"Number",stat:!0,forced:Number.parseFloat!==vge},{parseFloat:vge})});var pD=T((iMr,Ege)=>{"use strict";var wge=er(),f1t=_t(),p1t=lt(),d1t=Pr(),h1t=Tv().trim,_ge=Iv(),gE=wge.parseInt,xge=wge.Symbol,bge=xge&&xge.iterator,Sge=/^[+-]?0x/i,m1t=p1t(Sge.exec),g1t=gE(_ge+"08")!==8||gE(_ge+"0x16")!==22||bge&&!f1t(function(){gE(Object(bge))});Ege.exports=g1t?function(t,r){var n=h1t(d1t(t));return gE(n,r>>>0||(m1t(Sge,n)?16:10))}:gE});var Tge=T(()=>{"use strict";var v1t=re(),Ige=pD();v1t({target:"Number",stat:!0,forced:Number.parseInt!==Ige},{parseInt:Ige})});var Dge=T(()=>{"use strict";var y1t=re(),IU=lt(),_1t=Mi(),x1t=hE(),b1t=lE(),w1t=mU(),EU=_t(),S1t=RangeError,Cge=String,E1t=isFinite,I1t=Math.abs,T1t=Math.floor,Mge=Math.pow,C1t=Math.round,Af=IU(1 .toExponential),M1t=IU(b1t),Age=IU("".slice),Oge=Af(-69e-12,4)==="-6.9000e-11"&&Af(1.255,2)==="1.25e+0"&&Af(12345,3)==="1.235e+4"&&Af(25,0)==="3e+1",A1t=function(){return EU(function(){Af(1,1/0)})&&EU(function(){Af(1,-1/0)})},O1t=function(){return!EU(function(){Af(1/0,1/0),Af(NaN,1/0)})},D1t=!Oge||!A1t()||!O1t();y1t({target:"Number",proto:!0,forced:D1t},{toExponential:function(t){var r=x1t(this);if(t===void 0)return Af(r);var n=_1t(t);if(!E1t(r))return String(r);if(n<0||n>20)throw new S1t("Incorrect fraction digits");if(Oge)return Af(r,n);var i="",o="",a=0,c="",p="";if(r<0&&(i="-",r=-r),r===0)a=0,o=M1t("0",n+1);else{var m=w1t(r);a=T1t(m);var g=0,S=Mge(10,a-n);g=C1t(r/S),2*r>=(2*g+1)*S&&(g+=1),g>=Mge(10,n+1)&&(g/=10,a+=1),o=Cge(g)}return n!==0&&(o=Age(o,0,1)+"."+Age(o,1)),a===0?(c="+",p="0"):(c=a>0?"+":"-",p=Cge(I1t(a))),o+="e"+c+p,i+o}})});var qge=T(()=>{"use strict";var P1t=re(),MU=lt(),L1t=Mi(),N1t=hE(),R1t=lE(),Pge=_t(),k1t=RangeError,Rge=String,kge=Math.floor,CU=MU(R1t),Lge=MU("".slice),vE=MU(1 .toFixed),V1=function(e,t,r){return t===0?r:t%2===1?V1(e,t-1,r*e):V1(e*e,t/2,r)},q1t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},U1=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=kge(i/1e7)},TU=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=kge(n/t),n=n%t*1e7},Nge=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=Rge(e[t]);r=r===""?n:r+CU("0",7-n.length)+n}return r},j1t=Pge(function(){return vE(8e-5,3)!=="0.000"||vE(.9,0)!=="1"||vE(1.255,2)!=="1.25"||vE(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!Pge(function(){vE({})});P1t({target:"Number",proto:!0,forced:j1t},{toFixed:function(t){var r=N1t(this),n=L1t(t),i=[0,0,0,0,0,0],o="",a="0",c,p,m,g;if(n<0||n>20)throw new k1t("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return Rge(r);if(r<0&&(o="-",r=-r),r>1e-21)if(c=q1t(r*V1(2,69,1))-69,p=c<0?r*V1(2,-c,1):r/V1(2,c,1),p*=4503599627370496,c=52-c,c>0){for(U1(i,0,p),m=n;m>=7;)U1(i,1e7,0),m-=7;for(U1(i,V1(10,m,1),0),m=c-1;m>=23;)TU(i,1<<23),m-=23;TU(i,1<<m),U1(i,1,1),TU(i,2),a=Nge(i)}else U1(i,0,p),U1(i,1<<-c,0),a=Nge(i)+CU("0",n);return n>0?(g=a.length,a=o+(g<=n?"0."+CU("0",n-g)+a:Lge(a,0,g-n)+"."+Lge(a,g-n))):a=o+a,a}})});var Fge=T(()=>{"use strict";var z1t=re(),F1t=lt(),jge=_t(),zge=hE(),dD=F1t(1 .toPrecision),B1t=jge(function(){return dD(1,void 0)!=="1"})||!jge(function(){dD({})});z1t({target:"Number",proto:!0,forced:B1t},{toPrecision:function(t){return t===void 0?dD(zge(this)):dD(zge(this),t)}})});var OU=T((dMr,Vge)=>{"use strict";var Bge=_r(),U1t=lt(),V1t=zt(),G1t=_t(),AU=fv(),H1t=US(),W1t=NS(),$1t=an(),Z1t=Vp(),G1=Object.assign,Uge=Object.defineProperty,Y1t=U1t([].concat);Vge.exports=!G1||G1t(function(){if(Bge&&G1({b:1},G1(Uge({},"a",{enumerable:!0,get:function(){Uge(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),G1({},e)[r]!==7||AU(G1({},t)).join("")!==n})?function(t,r){for(var n=$1t(t),i=arguments.length,o=1,a=H1t.f,c=W1t.f;i>o;)for(var p=Z1t(arguments[o++]),m=a?Y1t(AU(p),a(p)):AU(p),g=m.length,S=0,I;g>S;)I=m[S++],(!Bge||V1t(c,p,I))&&(n[I]=p[I]);return n}:G1});var Hge=T(()=>{"use strict";var K1t=re(),Gge=OU();K1t({target:"Object",stat:!0,arity:2,forced:Object.assign!==Gge},{assign:Gge})});var Wge=T(()=>{"use strict";var X1t=re(),Q1t=_r(),J1t=ao();X1t({target:"Object",stat:!0,sham:!Q1t},{create:J1t})});var yE=T((yMr,Zge)=>{"use strict";var e_t=on(),t_t=er(),r_t=_t(),$ge=FO();Zge.exports=e_t||!r_t(function(){if(!($ge&&$ge<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t_t[e]}})});var Yge=T(()=>{"use strict";var n_t=re(),i_t=_r(),o_t=yE(),a_t=Ar(),s_t=an(),l_t=yi();i_t&&n_t({target:"Object",proto:!0,forced:o_t},{__defineGetter__:function(t,r){l_t.f(s_t(this),t,{get:a_t(r),enumerable:!0,configurable:!0})}})});var Xge=T(()=>{"use strict";var u_t=re(),c_t=_r(),Kge=cO().f;u_t({target:"Object",stat:!0,forced:Object.defineProperties!==Kge,sham:!c_t},{defineProperties:Kge})});var Jge=T(()=>{"use strict";var f_t=re(),p_t=_r(),Qge=yi().f;f_t({target:"Object",stat:!0,forced:Object.defineProperty!==Qge,sham:!p_t},{defineProperty:Qge})});var eve=T(()=>{"use strict";var d_t=re(),h_t=_r(),m_t=yE(),g_t=Ar(),v_t=an(),y_t=yi();h_t&&d_t({target:"Object",proto:!0,forced:m_t},{__defineSetter__:function(t,r){y_t.f(v_t(this),t,{set:g_t(r),enumerable:!0,configurable:!0})}})});var DU=T((CMr,ove)=>{"use strict";var rve=_r(),__t=_t(),nve=lt(),x_t=mo(),b_t=fv(),w_t=Mo(),S_t=NS().f,ive=nve(S_t),E_t=nve([].push),I_t=rve&&__t(function(){var e=Object.create(null);return e[2]=2,!ive(e,2)}),tve=function(e){return function(t){for(var r=w_t(t),n=b_t(r),i=I_t&&x_t(r)===null,o=n.length,a=0,c=[],p;o>a;)p=n[a++],(!rve||(i?p in r:ive(r,p)))&&E_t(c,e?[p,r[p]]:r[p]);return c}};ove.exports={entries:tve(!0),values:tve(!1)}});var ave=T(()=>{"use strict";var T_t=re(),C_t=DU().entries;T_t({target:"Object",stat:!0},{entries:function(t){return C_t(t)}})});var sve=T(()=>{"use strict";var M_t=re(),A_t=nd(),O_t=_t(),D_t=kr(),P_t=fm().onFreeze,PU=Object.freeze,L_t=O_t(function(){PU(1)});M_t({target:"Object",stat:!0,forced:L_t,sham:!A_t},{freeze:function(t){return PU&&D_t(t)?PU(P_t(t)):t}})});var lve=T(()=>{"use strict";var N_t=re(),R_t=Ki(),k_t=Pu();N_t({target:"Object",stat:!0},{fromEntries:function(t){var r={};return R_t(t,function(n,i){k_t(r,n,i)},{AS_ENTRIES:!0}),r}})});var fve=T(()=>{"use strict";var q_t=re(),j_t=_t(),z_t=Mo(),uve=zo().f,cve=_r(),F_t=!cve||j_t(function(){uve(1)});q_t({target:"Object",stat:!0,forced:F_t,sham:!cve},{getOwnPropertyDescriptor:function(t,r){return uve(z_t(t),r)}})});var pve=T(()=>{"use strict";var B_t=re(),U_t=_r(),V_t=sO(),G_t=Mo(),H_t=zo(),W_t=Pu();B_t({target:"Object",stat:!0,sham:!U_t},{getOwnPropertyDescriptors:function(t){for(var r=G_t(t),n=H_t.f,i=V_t(r),o={},a=0,c,p;i.length>a;)p=n(r,c=i[a++]),p!==void 0&&W_t(o,c,p);return o}})});var dve=T(()=>{"use strict";var $_t=re(),Z_t=_t(),Y_t=dO().f,K_t=Z_t(function(){return!Object.getOwnPropertyNames(1)});$_t({target:"Object",stat:!0,forced:K_t},{getOwnPropertyNames:Y_t})});var mve=T(()=>{"use strict";var X_t=re(),Q_t=_t(),J_t=an(),hve=mo(),ext=CO(),txt=Q_t(function(){hve(1)});X_t({target:"Object",stat:!0,forced:txt,sham:!ext},{getPrototypeOf:function(t){return hve(J_t(t))}})});var LU=T(()=>{"use strict";var rxt=re(),nxt=Yr();rxt({target:"Object",stat:!0},{hasOwn:nxt})});var NU=T((GMr,gve)=>{"use strict";gve.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var vve=T(()=>{"use strict";var ixt=re(),oxt=NU();ixt({target:"Object",stat:!0},{is:oxt})});var _ve=T(()=>{"use strict";var axt=re(),yve=oD();axt({target:"Object",stat:!0,forced:Object.isExtensible!==yve},{isExtensible:yve})});var bve=T(()=>{"use strict";var sxt=re(),lxt=_t(),uxt=kr(),cxt=_a(),xve=nD(),RU=Object.isFrozen,fxt=xve||lxt(function(){RU(1)});sxt({target:"Object",stat:!0,forced:fxt},{isFrozen:function(t){return!uxt(t)||xve&&cxt(t)==="ArrayBuffer"?!0:RU?RU(t):!1}})});var Sve=T(()=>{"use strict";var pxt=re(),dxt=_t(),hxt=kr(),mxt=_a(),wve=nD(),kU=Object.isSealed,gxt=wve||dxt(function(){kU(1)});pxt({target:"Object",stat:!0,forced:gxt},{isSealed:function(t){return!hxt(t)||wve&&mxt(t)==="ArrayBuffer"?!0:kU?kU(t):!1}})});var Ive=T(()=>{"use strict";var vxt=re(),yxt=an(),Eve=fv(),_xt=_t(),xxt=_xt(function(){Eve(1)});vxt({target:"Object",stat:!0,forced:xxt},{keys:function(t){return Eve(yxt(t))}})});var Tve=T(()=>{"use strict";var bxt=re(),wxt=_r(),Sxt=yE(),Ext=an(),Ixt=Dc(),Txt=mo(),Cxt=zo().f;wxt&&bxt({target:"Object",proto:!0,forced:Sxt},{__lookupGetter__:function(t){var r=Ext(this),n=Ixt(t),i;do if(i=Cxt(r,n))return i.get;while(r=Txt(r))}})});var Cve=T(()=>{"use strict";var Mxt=re(),Axt=_r(),Oxt=yE(),Dxt=an(),Pxt=Dc(),Lxt=mo(),Nxt=zo().f;Axt&&Mxt({target:"Object",proto:!0,forced:Oxt},{__lookupSetter__:function(t){var r=Dxt(this),n=Pxt(t),i;do if(i=Nxt(r,n))return i.set;while(r=Lxt(r))}})});var Mve=T(()=>{"use strict";var Rxt=re(),kxt=kr(),qxt=fm().onFreeze,jxt=nd(),zxt=_t(),qU=Object.preventExtensions,Fxt=zxt(function(){qU(1)});Rxt({target:"Object",stat:!0,forced:Fxt,sham:!jxt},{preventExtensions:function(t){return qU&&kxt(t)?qU(qxt(t)):t}})});var Nve=T(()=>{"use strict";var Bxt=_r(),Uxt=qi(),Ave=kr(),Vxt=an(),Gxt=Ci(),Ove=Object.getPrototypeOf,Dve=Object.setPrototypeOf,Pve=Object.prototype,Lve="__proto__";if(Bxt&&Ove&&Dve&&!(Lve in Pve))try{Uxt(Pve,Lve,{configurable:!0,get:function(){return Ove(Vxt(this))},set:function(t){var r=Gxt(this);!Ave(t)&&t!==null||!Ave(r)||Dve(r,t)}})}catch(e){}});var Rve=T(()=>{"use strict";var Hxt=re(),Wxt=kr(),$xt=fm().onFreeze,Zxt=nd(),Yxt=_t(),jU=Object.seal,Kxt=Yxt(function(){jU(1)});Hxt({target:"Object",stat:!0,forced:Kxt,sham:!Zxt},{seal:function(t){return jU&&Wxt(t)?jU($xt(t)):t}})});var kve=T(()=>{"use strict";var Xxt=re(),Qxt=Nu();Xxt({target:"Object",stat:!0},{setPrototypeOf:Qxt})});var jve=T((dAr,qve)=>{"use strict";var Jxt=lO(),ebt=ul();qve.exports=Jxt?{}.toString:function(){return"[object "+ebt(this)+"]"}});var zve=T(()=>{"use strict";var tbt=lO(),rbt=Zn(),nbt=jve();tbt||rbt(Object.prototype,"toString",nbt,{unsafe:!0})});var Fve=T(()=>{"use strict";var ibt=re(),obt=DU().values;ibt({target:"Object",stat:!0},{values:function(t){return obt(t)}})});var Uve=T(()=>{"use strict";var abt=re(),Bve=SU();abt({global:!0,forced:parseFloat!==Bve},{parseFloat:Bve})});var Gve=T(()=>{"use strict";var sbt=re(),Vve=pD();sbt({global:!0,forced:parseInt!==Vve},{parseInt:Vve})});var ju=T((wAr,Hve)=>{"use strict";var lbt=TypeError;Hve.exports=function(e,t){if(e<t)throw new lbt("Not enough arguments");return e}});var zU=T((SAr,Wve)=>{"use strict";var ubt=wf();Wve.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(ubt)});var bE=T((EAr,tye)=>{"use strict";var Jl=er(),cbt=es(),fbt=oi(),$ve=Rr(),pbt=Yr(),eye=_t(),Zve=h8(),dbt=Zp(),Yve=qS(),hbt=ju(),mbt=zU(),gbt=Tf(),HU=Jl.setImmediate,WU=Jl.clearImmediate,vbt=Jl.process,FU=Jl.Dispatch,ybt=Jl.Function,Kve=Jl.MessageChannel,_bt=Jl.String,BU=0,_E={},Xve="onreadystatechange",xE,Cv,UU,VU;eye(function(){xE=Jl.location});var $U=function(e){if(pbt(_E,e)){var t=_E[e];delete _E[e],t()}},GU=function(e){return function(){$U(e)}},Qve=function(e){$U(e.data)},Jve=function(e){Jl.postMessage(_bt(e),xE.protocol+"//"+xE.host)};(!HU||!WU)&&(HU=function(t){hbt(arguments.length,1);var r=$ve(t)?t:ybt(t),n=dbt(arguments,1);return _E[++BU]=function(){cbt(r,void 0,n)},Cv(BU),BU},WU=function(t){delete _E[t]},gbt?Cv=function(e){vbt.nextTick(GU(e))}:FU&&FU.now?Cv=function(e){FU.now(GU(e))}:Kve&&!mbt?(UU=new Kve,VU=UU.port2,UU.port1.onmessage=Qve,Cv=fbt(VU.postMessage,VU)):Jl.addEventListener&&$ve(Jl.postMessage)&&!Jl.importScripts&&xE&&xE.protocol!=="file:"&&!eye(Jve)?(Cv=Jve,Jl.addEventListener("message",Qve,!1)):Xve in Yve("script")?Cv=function(e){Zve.appendChild(Yve("script"))[Xve]=function(){Zve.removeChild(this),$U(e)}}:Cv=function(e){setTimeout(GU(e),0)});tye.exports={set:HU,clear:WU}});var ZU=T((IAr,nye)=>{"use strict";var rye=function(){this.head=null,this.tail=null};rye.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};nye.exports=rye});var oye=T((TAr,iye)=>{"use strict";var xbt=wf();iye.exports=/ipad|iphone|ipod/i.test(xbt)&&typeof Pebble!="undefined"});var sye=T((CAr,aye)=>{"use strict";var bbt=wf();aye.exports=/web0s(?!.*chrome)/i.test(bbt)});var e7=T((MAr,hye)=>{"use strict";var Mv=er(),lye=oi(),wbt=zo().f,YU=bE().set,Sbt=ZU(),Ebt=zU(),Ibt=oye(),Tbt=sye(),KU=Tf(),uye=Mv.MutationObserver||Mv.WebKitMutationObserver,cye=Mv.document,fye=Mv.process,hD=Mv.Promise,pye=wbt(Mv,"queueMicrotask"),JU=pye&&pye.value,H1,XU,QU,mD,dye;JU||(wE=new Sbt,SE=function(){var e,t;for(KU&&(e=fye.domain)&&e.exit();t=wE.get();)try{t()}catch(r){throw wE.head&&H1(),r}e&&e.enter()},!Ebt&&!KU&&!Tbt&&uye&&cye?(XU=!0,QU=cye.createTextNode(""),new uye(SE).observe(QU,{characterData:!0}),H1=function(){QU.data=XU=!XU}):!Ibt&&hD&&hD.resolve?(mD=hD.resolve(void 0),mD.constructor=hD,dye=lye(mD.then,mD),H1=function(){dye(SE)}):KU?H1=function(){fye.nextTick(SE)}:(YU=lye(YU,Mv),H1=function(){YU(SE)}),JU=function(e){wE.head||H1(),wE.add(e)});var wE,SE;hye.exports=JU});var t7=T((AAr,mye)=>{"use strict";mye.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var pm=T((OAr,gye)=>{"use strict";gye.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Av=T((DAr,vye)=>{"use strict";var Cbt=er();vye.exports=Cbt.Promise});var gD=T((PAr,yye)=>{"use strict";yye.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var r7=T((LAr,_ye)=>{"use strict";var Mbt=gD(),Abt=Tf();_ye.exports=!Mbt&&!Abt&&typeof window=="object"&&typeof document=="object"});var W1=T((NAr,wye)=>{"use strict";var Obt=er(),EE=Av(),Dbt=Rr(),Pbt=M1(),Lbt=jS(),Nbt=br(),Rbt=r7(),kbt=gD(),qbt=on(),n7=Sf(),xye=EE&&EE.prototype,jbt=Nbt("species"),i7=!1,bye=Dbt(Obt.PromiseRejectionEvent),zbt=Pbt("Promise",function(){var e=Lbt(EE),t=e!==String(EE);if(!t&&n7===66||qbt&&!(xye.catch&&xye.finally))return!0;if(!n7||n7<51||!/native code/.test(e)){var r=new EE(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[jbt]=n,i7=r.then(function(){})instanceof n,!i7)return!0}return!t&&(Rbt||kbt)&&!bye});wye.exports={CONSTRUCTOR:zbt,REJECTION_EVENT:bye,SUBCLASSING:i7}});var Of=T((RAr,Eye)=>{"use strict";var Sye=Ar(),Fbt=TypeError,Bbt=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Fbt("Bad Promise constructor");t=n,r=i}),this.resolve=Sye(t),this.reject=Sye(r)};Eye.exports.f=function(e){return new Bbt(e)}});var Vye=T(()=>{"use strict";var Ubt=re(),Vbt=on(),xD=Tf(),dm=er(),K1=zt(),Iye=Zn(),Tye=Nu(),Gbt=cl(),Hbt=om(),Wbt=Ar(),_D=Rr(),$bt=kr(),Zbt=ts(),Ybt=Sv(),Dye=bE().set,u7=e7(),Kbt=t7(),Xbt=pm(),Qbt=ZU(),Pye=Fn(),bD=Av(),c7=W1(),Lye=Of(),wD="Promise",Nye=c7.CONSTRUCTOR,Jbt=c7.REJECTION_EVENT,ewt=c7.SUBCLASSING,o7=Pye.getterFor(wD),twt=Pye.set,$1=bD&&bD.prototype,Ov=bD,vD=$1,Rye=dm.TypeError,a7=dm.document,f7=dm.process,s7=Lye.f,rwt=s7,nwt=!!(a7&&a7.createEvent&&dm.dispatchEvent),kye="unhandledrejection",iwt="rejectionhandled",Cye=0,qye=1,owt=2,p7=1,jye=2,yD,Mye,awt,Aye,zye=function(e){var t;return $bt(e)&&_D(t=e.then)?t:!1},Fye=function(e,t){var r=t.value,n=t.state===qye,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,c=e.domain,p,m,g;try{i?(n||(t.rejection===jye&&lwt(t),t.rejection=p7),i===!0?p=r:(c&&c.enter(),p=i(r),c&&(c.exit(),g=!0)),p===e.promise?a(new Rye("Promise-chain cycle")):(m=zye(p))?K1(m,p,o,a):o(p)):a(r)}catch(S){c&&!g&&c.exit(),a(S)}},Bye=function(e,t){e.notified||(e.notified=!0,u7(function(){for(var r=e.reactions,n;n=r.get();)Fye(n,e);e.notified=!1,t&&!e.rejection&&swt(e)}))},Uye=function(e,t,r){var n,i;nwt?(n=a7.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),dm.dispatchEvent(n)):n={promise:t,reason:r},!Jbt&&(i=dm["on"+e])?i(n):e===kye&&Kbt("Unhandled promise rejection",r)},swt=function(e){K1(Dye,dm,function(){var t=e.facade,r=e.value,n=Oye(e),i;if(n&&(i=Xbt(function(){xD?f7.emit("unhandledRejection",r,t):Uye(kye,t,r)}),e.rejection=xD||Oye(e)?jye:p7,i.error))throw i.value})},Oye=function(e){return e.rejection!==p7&&!e.parent},lwt=function(e){K1(Dye,dm,function(){var t=e.facade;xD?f7.emit("rejectionHandled",t):Uye(iwt,t,e.value)})},Z1=function(e,t,r){return function(n){e(t,n,r)}},Y1=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=owt,Bye(e,!0))},l7=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Rye("Promise can't be resolved itself");var n=zye(t);n?u7(function(){var i={done:!1};try{K1(n,t,Z1(l7,i,e),Z1(Y1,i,e))}catch(o){Y1(i,o,e)}}):(e.value=t,e.state=qye,Bye(e,!1))}catch(i){Y1({done:!1},i,e)}}};if(Nye&&(Ov=function(t){Zbt(this,vD),Wbt(t),K1(yD,this);var r=o7(this);try{t(Z1(l7,r),Z1(Y1,r))}catch(n){Y1(r,n)}},vD=Ov.prototype,yD=function(t){twt(this,{type:wD,done:!1,notified:!1,parent:!1,reactions:new Qbt,rejection:!1,state:Cye,value:void 0})},yD.prototype=Iye(vD,"then",function(t,r){var n=o7(this),i=s7(Ybt(this,Ov));return n.parent=!0,i.ok=_D(t)?t:!0,i.fail=_D(r)&&r,i.domain=xD?f7.domain:void 0,n.state===Cye?n.reactions.add(i):u7(function(){Fye(i,n)}),i.promise}),Mye=function(){var e=new yD,t=o7(e);this.promise=e,this.resolve=Z1(l7,t),this.reject=Z1(Y1,t)},Lye.f=s7=function(e){return e===Ov||e===awt?new Mye(e):rwt(e)},!Vbt&&_D(bD)&&$1!==Object.prototype)){Aye=$1.then,ewt||Iye($1,"then",function(t,r){var n=this;return new Ov(function(i,o){K1(Aye,n,i,o)}).then(t,r)},{unsafe:!0});try{delete $1.constructor}catch(e){}Tye&&Tye($1,vD)}Ubt({global:!0,constructor:!0,wrap:!0,forced:Nye},{Promise:Ov});Gbt(Ov,wD,!1,!0);Hbt(wD)});var IE=T((jAr,Gye)=>{"use strict";var uwt=Av(),cwt=eE(),fwt=W1().CONSTRUCTOR;Gye.exports=fwt||!cwt(function(e){uwt.all(e).then(void 0,function(){})})});var Hye=T(()=>{"use strict";var pwt=re(),dwt=zt(),hwt=Ar(),mwt=Of(),gwt=pm(),vwt=Ki(),ywt=IE();pwt({target:"Promise",stat:!0,forced:ywt},{all:function(t){var r=this,n=mwt.f(r),i=n.resolve,o=n.reject,a=gwt(function(){var c=hwt(r.resolve),p=[],m=0,g=1;vwt(t,function(S){var I=m++,M=!1;g++,dwt(c,r,S).then(function(P){M||(M=!0,p[I]=P,--g||i(p))},o)}),--g||i(p)});return a.error&&o(a.value),n.promise}})});var $ye=T(()=>{"use strict";var _wt=re(),xwt=on(),bwt=W1().CONSTRUCTOR,h7=Av(),wwt=Mr(),Swt=Rr(),Ewt=Zn(),Wye=h7&&h7.prototype;_wt({target:"Promise",proto:!0,forced:bwt,real:!0},{catch:function(e){return this.then(void 0,e)}});!xwt&&Swt(h7)&&(d7=wwt("Promise").prototype.catch,Wye.catch!==d7&&Ewt(Wye,"catch",d7,{unsafe:!0}));var d7});var Zye=T(()=>{"use strict";var Iwt=re(),Twt=zt(),Cwt=Ar(),Mwt=Of(),Awt=pm(),Owt=Ki(),Dwt=IE();Iwt({target:"Promise",stat:!0,forced:Dwt},{race:function(t){var r=this,n=Mwt.f(r),i=n.reject,o=Awt(function(){var a=Cwt(r.resolve);Owt(t,function(c){Twt(a,r,c).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var Yye=T(()=>{"use strict";var Pwt=re(),Lwt=zt(),Nwt=Of(),Rwt=W1().CONSTRUCTOR;Pwt({target:"Promise",stat:!0,forced:Rwt},{reject:function(t){var r=Nwt.f(this);return Lwt(r.reject,void 0,t),r.promise}})});var m7=T(($Ar,Kye)=>{"use strict";var kwt=Ut(),qwt=kr(),jwt=Of();Kye.exports=function(e,t){if(kwt(e),qwt(t)&&t.constructor===e)return t;var r=jwt.f(e),n=r.resolve;return n(t),r.promise}});var Jye=T(()=>{"use strict";var zwt=re(),Fwt=Mr(),Xye=on(),Bwt=Av(),Qye=W1().CONSTRUCTOR,Uwt=m7(),Vwt=Fwt("Promise"),Gwt=Xye&&!Qye;zwt({target:"Promise",stat:!0,forced:Xye||Qye},{resolve:function(t){return Uwt(Gwt&&this===Vwt?Bwt:this,t)}})});var e0e=T(()=>{"use strict";Vye();Hye();$ye();Zye();Yye();Jye()});var g7=T(()=>{"use strict";var Hwt=re(),Wwt=zt(),$wt=Ar(),Zwt=Of(),Ywt=pm(),Kwt=Ki(),Xwt=IE();Hwt({target:"Promise",stat:!0,forced:Xwt},{allSettled:function(t){var r=this,n=Zwt.f(r),i=n.resolve,o=n.reject,a=Ywt(function(){var c=$wt(r.resolve),p=[],m=0,g=1;Kwt(t,function(S){var I=m++,M=!1;g++,Wwt(c,r,S).then(function(P){M||(M=!0,p[I]={status:"fulfilled",value:P},--g||i(p))},function(P){M||(M=!0,p[I]={status:"rejected",reason:P},--g||i(p))})}),--g||i(p)});return a.error&&o(a.value),n.promise}})});var v7=T(()=>{"use strict";var Qwt=re(),Jwt=zt(),eSt=Ar(),tSt=Mr(),rSt=Of(),nSt=pm(),iSt=Ki(),oSt=IE(),t0e="No one promise resolved";Qwt({target:"Promise",stat:!0,forced:oSt},{any:function(t){var r=this,n=tSt("AggregateError"),i=rSt.f(r),o=i.resolve,a=i.reject,c=nSt(function(){var p=eSt(r.resolve),m=[],g=0,S=1,I=!1;iSt(t,function(M){var P=g++,N=!1;S++,Jwt(p,r,M).then(function(L){N||I||(I=!0,o(L))},function(L){N||I||(N=!0,m[P]=L,--S||a(new n(m,t0e)))})}),--S||a(new n(m,t0e))});return c.error&&a(c.value),i.promise}})});var o0e=T(()=>{"use strict";var aSt=re(),sSt=on(),SD=Av(),lSt=_t(),n0e=Mr(),i0e=Rr(),uSt=Sv(),r0e=m7(),cSt=Zn(),_7=SD&&SD.prototype,fSt=!!SD&&lSt(function(){_7.finally.call({then:function(){}},function(){})});aSt({target:"Promise",proto:!0,real:!0,forced:fSt},{finally:function(e){var t=uSt(this,n0e("Promise")),r=i0e(e);return this.then(r?function(n){return r0e(t,e()).then(function(){return n})}:e,r?function(n){return r0e(t,e()).then(function(){throw n})}:e)}});!sSt&&i0e(SD)&&(y7=n0e("Promise").prototype.finally,_7.finally!==y7&&cSt(_7,"finally",y7,{unsafe:!0}));var y7});var a0e=T(()=>{"use strict";var pSt=re(),dSt=es(),hSt=Ar(),mSt=Ut(),gSt=_t(),vSt=!gSt(function(){Reflect.apply(function(){})});pSt({target:"Reflect",stat:!0,forced:vSt},{apply:function(t,r,n){return dSt(hSt(t),r,mSt(n))}})});var d0e=T(()=>{"use strict";var ySt=re(),_St=Mr(),x7=es(),xSt=tU(),s0e=F1(),bSt=Ut(),l0e=kr(),wSt=ao(),c0e=_t(),b7=_St("Reflect","construct"),SSt=Object.prototype,ESt=[].push,f0e=c0e(function(){function e(){}return!(b7(function(){},[],e)instanceof e)}),p0e=!c0e(function(){b7(function(){})}),u0e=f0e||p0e;ySt({target:"Reflect",stat:!0,forced:u0e,sham:u0e},{construct:function(t,r){s0e(t),bSt(r);var n=arguments.length<3?t:s0e(arguments[2]);if(p0e&&!f0e)return b7(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);}var i=[null];return x7(ESt,i,r),new(x7(xSt,t,i))}var o=n.prototype,a=wSt(l0e(o)?o:SSt),c=x7(t,a,r);return l0e(c)?c:a}})});var g0e=T(()=>{"use strict";var ISt=re(),TSt=_r(),h0e=Ut(),CSt=Dc(),m0e=yi(),MSt=_t(),ASt=MSt(function(){Reflect.defineProperty(m0e.f({},1,{value:1}),1,{value:2})});ISt({target:"Reflect",stat:!0,forced:ASt,sham:!TSt},{defineProperty:function(t,r,n){h0e(t);var i=CSt(r);h0e(n);try{return m0e.f(t,i,n),!0}catch(o){return!1}}})});var v0e=T(()=>{"use strict";var OSt=re(),DSt=Ut(),PSt=zo().f;OSt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=PSt(DSt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var w7=T((pOr,_0e)=>{"use strict";var y0e=Yr();_0e.exports=function(e){return e!==void 0&&(y0e(e,"value")||y0e(e,"writable"))}});var b0e=T(()=>{"use strict";var LSt=re(),NSt=zt(),RSt=kr(),kSt=Ut(),qSt=w7(),jSt=zo(),zSt=mo();function x0e(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(kSt(e)===r)return e[t];if(n=jSt.f(e,t),n)return qSt(n)?n.value:n.get===void 0?void 0:NSt(n.get,r);if(RSt(i=zSt(e)))return x0e(i,t,r)}LSt({target:"Reflect",stat:!0},{get:x0e})});var w0e=T(()=>{"use strict";var FSt=re(),BSt=_r(),USt=Ut(),VSt=zo();FSt({target:"Reflect",stat:!0,sham:!BSt},{getOwnPropertyDescriptor:function(t,r){return VSt.f(USt(t),r)}})});var S0e=T(()=>{"use strict";var GSt=re(),HSt=Ut(),WSt=mo(),$St=CO();GSt({target:"Reflect",stat:!0,sham:!$St},{getPrototypeOf:function(t){return WSt(HSt(t))}})});var E0e=T(()=>{"use strict";var ZSt=re();ZSt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var I0e=T(()=>{"use strict";var YSt=re(),KSt=Ut(),XSt=oD();YSt({target:"Reflect",stat:!0},{isExtensible:function(t){return KSt(t),XSt(t)}})});var T0e=T(()=>{"use strict";var QSt=re(),JSt=sO();QSt({target:"Reflect",stat:!0},{ownKeys:JSt})});var C0e=T(()=>{"use strict";var eEt=re(),tEt=Mr(),rEt=Ut(),nEt=nd();eEt({target:"Reflect",stat:!0,sham:!nEt},{preventExtensions:function(t){rEt(t);try{var r=tEt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var P0e=T(()=>{"use strict";var iEt=re(),oEt=zt(),aEt=Ut(),M0e=kr(),sEt=w7(),lEt=_t(),S7=yi(),A0e=zo(),uEt=mo(),O0e=sl();function D0e(e,t,r){var n=arguments.length<4?e:arguments[3],i=A0e.f(aEt(e),t),o,a,c;if(!i){if(M0e(a=uEt(e)))return D0e(a,t,r,n);i=O0e(0)}if(sEt(i)){if(i.writable===!1||!M0e(n))return!1;if(o=A0e.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,S7.f(n,t,o)}else S7.f(n,t,O0e(0,r))}else{if(c=i.set,c===void 0)return!1;oEt(c,n,r)}return!0}var cEt=lEt(function(){var e=function(){},t=S7.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});iEt({target:"Reflect",stat:!0,forced:cEt},{set:D0e})});var N0e=T(()=>{"use strict";var fEt=re(),pEt=Ut(),dEt=j8(),L0e=Nu();L0e&&fEt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){pEt(t),dEt(r);try{return L0e(t,r),!0}catch(n){return!1}}})});var R0e=T(()=>{"use strict";var hEt=re(),mEt=er(),gEt=cl();hEt({global:!0},{Reflect:{}});gEt(mEt.Reflect,"Reflect",!0)});var X1=T((LOr,k0e)=>{"use strict";var vEt=kr(),yEt=_a(),_Et=br(),xEt=_Et("match");k0e.exports=function(e){var t;return vEt(e)&&((t=e[xEt])!==void 0?!!t:yEt(e)==="RegExp")}});var ED=T((NOr,q0e)=>{"use strict";var bEt=Ut();q0e.exports=function(){var e=bEt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var Q1=T((ROr,z0e)=>{"use strict";var wEt=zt(),SEt=Yr(),EEt=Ja(),IEt=ED(),j0e=RegExp.prototype;z0e.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in j0e)&&!SEt(e,"flags")&&EEt(j0e,e)?wEt(IEt,e):t}});var TE=T((kOr,F0e)=>{"use strict";var E7=_t(),TEt=er(),I7=TEt.RegExp,T7=E7(function(){var e=I7("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),CEt=T7||E7(function(){return!I7("a","y").sticky}),MEt=T7||E7(function(){var e=I7("^r","gy");return e.lastIndex=2,e.exec("str")!==null});F0e.exports={BROKEN_CARET:MEt,MISSED_STICKY:CEt,UNSUPPORTED_Y:T7}});var ID=T((qOr,B0e)=>{"use strict";var AEt=_t(),OEt=er(),DEt=OEt.RegExp;B0e.exports=AEt(function(){var e=DEt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var C7=T((jOr,U0e)=>{"use strict";var PEt=_t(),LEt=er(),NEt=LEt.RegExp;U0e.exports=PEt(function(){var e=NEt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var X0e=T(()=>{"use strict";var REt=_r(),D7=er(),CE=lt(),kEt=M1(),qEt=gv(),jEt=ho(),zEt=Hp().f,V0e=Ja(),FEt=X1(),G0e=Pr(),BEt=Q1(),$0e=TE(),UEt=z8(),VEt=Zn(),GEt=_t(),HEt=Yr(),WEt=Fn().enforce,$Et=om(),ZEt=br(),Z0e=ID(),Y0e=C7(),YEt=ZEt("match"),mm=D7.RegExp,J1=mm.prototype,KEt=D7.SyntaxError,XEt=CE(J1.exec),TD=CE("".charAt),H0e=CE("".replace),W0e=CE("".indexOf),QEt=CE("".slice),JEt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Dv=/a/g,M7=/a/g,eIt=new mm(Dv)!==Dv,K0e=$0e.MISSED_STICKY,tIt=$0e.UNSUPPORTED_Y,rIt=REt&&(!eIt||K0e||Z0e||Y0e||GEt(function(){return M7[YEt]=!1,mm(Dv)!==Dv||mm(M7)===M7||String(mm(Dv,"i"))!=="/a/i"})),nIt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=TD(e,r),o==="\\"){n+=o+TD(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},iIt=function(e){for(var t=e.length,r=0,n="",i=[],o={},a=!1,c=!1,p=0,m="",g;r<=t;r++){if(g=TD(e,r),g==="\\")g+=TD(e,++r);else if(g==="]")a=!1;else if(!a)switch(!0){case g==="[":a=!0;break;case g==="(":XEt(JEt,QEt(e,r+1))&&(r+=2,c=!0),n+=g,p++;continue;case g===">"&&c:if(m===""||HEt(o,m))throw new KEt("Invalid capture group name");o[m]=!0,i[i.length]=[m,p],c=!1,m="";continue;}c?m+=g:n+=g}return[n,i]};if(kEt("RegExp",rIt)){for(hm=function(t,r){var n=V0e(J1,this),i=FEt(t),o=r===void 0,a=[],c=t,p,m,g,S,I,M;if(!n&&i&&o&&t.constructor===hm)return t;if((i||V0e(J1,t))&&(t=t.source,o&&(r=BEt(c))),t=t===void 0?"":G0e(t),r=r===void 0?"":G0e(r),c=t,Z0e&&("dotAll"in Dv)&&(m=!!r&&W0e(r,"s")>-1,m&&(r=H0e(r,/s/g,""))),p=r,K0e&&("sticky"in Dv)&&(g=!!r&&W0e(r,"y")>-1,g&&tIt&&(r=H0e(r,/y/g,""))),Y0e&&(S=iIt(t),t=S[0],a=S[1]),I=qEt(mm(t,r),n?this:J1,hm),(m||g||a.length)&&(M=WEt(I),m&&(M.dotAll=!0,M.raw=hm(nIt(t),p)),g&&(M.sticky=!0),a.length&&(M.groups=a)),t!==c)try{jEt(I,"source",c===""?"(?:)":c)}catch(P){}return I},A7=zEt(mm),O7=0;A7.length>O7;)UEt(hm,mm,A7[O7++]);J1.constructor=hm,hm.prototype=J1,VEt(D7,"RegExp",hm,{constructor:!0})}var hm,A7,O7;$Et("RegExp")});var J0e=T(()=>{"use strict";var oIt=_r(),aIt=ID(),sIt=_a(),lIt=qi(),uIt=Fn().get,Q0e=RegExp.prototype,cIt=TypeError;oIt&&aIt&&lIt(Q0e,"dotAll",{configurable:!0,get:function(){if(this!==Q0e){if(sIt(this)==="RegExp")return!!uIt(this).dotAll;throw new cIt("Incompatible receiver, RegExp required")}}})});var ME=T((VOr,t1e)=>{"use strict";var e_=zt(),MD=lt(),fIt=Pr(),pIt=ED(),dIt=TE(),hIt=Ef(),mIt=ao(),gIt=Fn().get,vIt=ID(),yIt=C7(),_It=hIt("native-string-replace",String.prototype.replace),CD=RegExp.prototype.exec,L7=CD,xIt=MD("".charAt),bIt=MD("".indexOf),wIt=MD("".replace),P7=MD("".slice),N7=function(){var e=/a/,t=/b*/g;return e_(CD,e,"a"),e_(CD,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),e1e=dIt.BROKEN_CARET,R7=/()??/.exec("")[1]!==void 0,SIt=N7||R7||e1e||vIt||yIt;SIt&&(L7=function(t){var r=this,n=gIt(r),i=fIt(t),o=n.raw,a,c,p,m,g,S,I;if(o)return o.lastIndex=r.lastIndex,a=e_(L7,o,i),r.lastIndex=o.lastIndex,a;var M=n.groups,P=e1e&&r.sticky,N=e_(pIt,r),L=r.source,q=0,j=i;if(P&&(N=wIt(N,"y",""),bIt(N,"g")===-1&&(N+="g"),j=P7(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&xIt(i,r.lastIndex-1)!==`
`)&&(L="(?: "+L+")",j=" "+j,q++),c=new RegExp("^(?:"+L+")",N)),R7&&(c=new RegExp("^"+L+"$(?!\\s)",N)),N7&&(p=r.lastIndex),m=e_(CD,P?c:r,j),P?m?(m.input=P7(m.input,q),m[0]=P7(m[0],q),m.index=r.lastIndex,r.lastIndex+=m[0].length):r.lastIndex=0:N7&&m&&(r.lastIndex=r.global?m.index+m[0].length:p),R7&&m&&m.length>1&&e_(_It,m[0],c,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(m[g]=void 0)}),m&&M)for(m.groups=S=mIt(null),g=0;g<M.length;g++)I=M[g],S[I[0]]=m[I[1]];return m});t1e.exports=L7});var AD=T(()=>{"use strict";var EIt=re(),r1e=ME();EIt({target:"RegExp",proto:!0,forced:/./.exec!==r1e},{exec:r1e})});var o1e=T(()=>{"use strict";var IIt=er(),TIt=_r(),CIt=qi(),MIt=ED(),AIt=_t(),n1e=IIt.RegExp,i1e=n1e.prototype,OIt=TIt&&AIt(function(){var e=!0;try{n1e(".","d")}catch(p){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(p,m){Object.defineProperty(t,p,{get:function(){return r+=m,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var a in o)i(a,o[a]);var c=Object.getOwnPropertyDescriptor(i1e,"flags").get.call(t);return c!==n||r!==n});OIt&&CIt(i1e,"flags",{configurable:!0,get:MIt})});var s1e=T(()=>{"use strict";var DIt=_r(),PIt=TE().MISSED_STICKY,LIt=_a(),NIt=qi(),RIt=Fn().get,a1e=RegExp.prototype,kIt=TypeError;DIt&&PIt&&NIt(a1e,"sticky",{configurable:!0,get:function(){if(this!==a1e){if(LIt(this)==="RegExp")return!!RIt(this).sticky;throw new kIt("Incompatible receiver, RegExp required")}}})});var c1e=T(()=>{"use strict";AD();var qIt=re(),l1e=zt(),jIt=Rr(),u1e=Ut(),zIt=Pr(),FIt=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),BIt=/./.test;qIt({target:"RegExp",proto:!0,forced:!FIt},{test:function(e){var t=u1e(this),r=zIt(e),n=t.exec;if(!jIt(n))return l1e(BIt,t,r);var i=l1e(n,t,r);return i===null?!1:(u1e(i),!0)}})});var d1e=T(()=>{"use strict";var UIt=uv().PROPER,VIt=Zn(),GIt=Ut(),f1e=Pr(),HIt=_t(),WIt=Q1(),k7="toString",$It=RegExp.prototype,p1e=$It[k7],ZIt=HIt(function(){return p1e.call({source:"a",flags:"b"})!=="/a/b"}),YIt=UIt&&p1e.name!==k7;(ZIt||YIt)&&VIt(RegExp.prototype,k7,function(){var t=GIt(this),r=f1e(t.source),n=f1e(WIt(t));return"/"+r+"/"+n},{unsafe:!0})});var h1e=T(()=>{"use strict";var KIt=cE(),XIt=fU();KIt("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},XIt)});var m1e=T(()=>{"use strict";h1e()});var g1e=T(()=>{"use strict";var QIt=re(),JIt=lt(),eTt=Ci(),tTt=Mi(),rTt=Pr(),nTt=_t(),iTt=JIt("".charAt),oTt=nTt(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});QIt({target:"String",proto:!0,forced:oTt},{at:function(t){var r=rTt(eTt(this)),n=r.length,i=tTt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:iTt(r,o)}})});var Pv=T((aDr,_1e)=>{"use strict";var q7=lt(),aTt=Mi(),sTt=Pr(),lTt=Ci(),uTt=q7("".charAt),v1e=q7("".charCodeAt),cTt=q7("".slice),y1e=function(e){return function(t,r){var n=sTt(lTt(t)),i=aTt(r),o=n.length,a,c;return i<0||i>=o?e?"":void 0:(a=v1e(n,i),a<55296||a>56319||i+1===o||(c=v1e(n,i+1))<56320||c>57343?e?uTt(n,i):a:e?cTt(n,i,i+2):(a-55296<<10)+(c-56320)+65536)}};_1e.exports={codeAt:y1e(!1),charAt:y1e(!0)}});var x1e=T(()=>{"use strict";var fTt=re(),pTt=Pv().codeAt;fTt({target:"String",proto:!0},{codePointAt:function(t){return pTt(this,t)}})});var OD=T((uDr,b1e)=>{"use strict";var dTt=X1(),hTt=TypeError;b1e.exports=function(e){if(dTt(e))throw new hTt("The method doesn't accept regular expressions");return e}});var DD=T((cDr,w1e)=>{"use strict";var mTt=br(),gTt=mTt("match");w1e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[gTt]=!1,"/./"[e](t)}catch(n){}}return!1}});var C1e=T(()=>{"use strict";var vTt=re(),I1e=Wp(),yTt=zo().f,_Tt=ll(),S1e=Pr(),xTt=OD(),bTt=Ci(),wTt=DD(),STt=on(),E1e=I1e("".endsWith),ETt=I1e("".slice),ITt=Math.min,T1e=wTt("endsWith"),TTt=!STt&&!T1e&&!!function(){var e=yTt(String.prototype,"endsWith");return e&&!e.writable}();vTt({target:"String",proto:!0,forced:!TTt&&!T1e},{endsWith:function(t){var r=S1e(bTt(this));xTt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:ITt(_Tt(n),i),a=S1e(t);return E1e?E1e(r,a,o):ETt(r,o-a.length,o)===a}})});var O1e=T(()=>{"use strict";var CTt=re(),MTt=lt(),ATt=Du(),OTt=RangeError,M1e=String.fromCharCode,A1e=String.fromCodePoint,DTt=MTt([].join),PTt=!!A1e&&A1e.length!==1;CTt({target:"String",stat:!0,arity:1,forced:PTt},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],ATt(o,1114111)!==o)throw new OTt(o+" is not a valid code point");r[i]=o<65536?M1e(o):M1e(((o-=65536)>>10)+55296,o%1024+56320)}return DTt(r,"")}})});var P1e=T(()=>{"use strict";var LTt=re(),NTt=lt(),RTt=OD(),kTt=Ci(),D1e=Pr(),qTt=DD(),jTt=NTt("".indexOf);LTt({target:"String",proto:!0,forced:!qTt("includes")},{includes:function(t){return!!~jTt(D1e(kTt(this)),D1e(RTt(t)),arguments.length>1?arguments[1]:void 0)}})});var j7=T(()=>{"use strict";var zTt=re(),FTt=lt(),BTt=Ci(),UTt=Pr(),L1e=FTt("".charCodeAt);zTt({target:"String",proto:!0},{isWellFormed:function(){for(var t=UTt(BTt(this)),r=t.length,n=0;n<r;n++){var i=L1e(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(L1e(t,n)&64512)!==56320))return!1}return!0}})});var z7=T(()=>{"use strict";var VTt=Pv().charAt,GTt=Pr(),R1e=Fn(),HTt=kO(),N1e=xa(),k1e="String Iterator",WTt=R1e.set,$Tt=R1e.getterFor(k1e);HTt(String,"String",function(e){WTt(this,{type:k1e,string:GTt(e),index:0})},function(){var t=$Tt(this),r=t.string,n=t.index,i;return n>=r.length?N1e(void 0,!0):(i=VTt(r,n),t.index+=i.length,N1e(i,!1))})});var AE=T((bDr,B1e)=>{"use strict";AD();var q1e=Wp(),j1e=Zn(),ZTt=ME(),z1e=_t(),F1e=br(),YTt=ho(),KTt=F1e("species"),F7=RegExp.prototype;B1e.exports=function(e,t,r,n){var i=F1e(e),o=!z1e(function(){var m={};return m[i]=function(){return 7},""[e](m)!==7}),a=o&&!z1e(function(){var m=!1,g=/a/;return e==="split"&&(g={},g.constructor={},g.constructor[KTt]=function(){return g},g.flags="",g[i]=/./[i]),g.exec=function(){return m=!0,null},g[i](""),!m});if(!o||!a||r){var c=q1e(/./[i]),p=t(i,""[e],function(m,g,S,I,M){var P=q1e(m),N=g.exec;return N===ZTt||N===F7.exec?o&&!M?{done:!0,value:c(g,S,I)}:{done:!0,value:P(S,g,I)}:{done:!1}});j1e(String.prototype,e,p[0]),j1e(F7,i,p[1])}n&&YTt(F7[i],"sham",!0)}});var OE=T((wDr,U1e)=>{"use strict";var XTt=Pv().charAt;U1e.exports=function(e,t,r){return t+(r?XTt(e,t).length:1)}});var t_=T((SDr,G1e)=>{"use strict";var V1e=zt(),QTt=Ut(),JTt=Rr(),e2t=_a(),t2t=ME(),r2t=TypeError;G1e.exports=function(e,t){var r=e.exec;if(JTt(r)){var n=V1e(r,e,t);return n!==null&&QTt(n),n}if(e2t(e)==="RegExp")return V1e(t2t,e,t);throw new r2t("RegExp#exec called on incompatible receiver")}});var W1e=T(()=>{"use strict";var n2t=zt(),i2t=AE(),o2t=Ut(),a2t=po(),s2t=ll(),B7=Pr(),l2t=Ci(),u2t=oo(),c2t=OE(),H1e=t_();i2t("match",function(e,t,r){return[function(i){var o=l2t(this),a=a2t(i)?void 0:u2t(i,e);return a?n2t(a,i,o):new RegExp(i)[e](B7(o))},function(n){var i=o2t(this),o=B7(n),a=r(t,i,o);if(a.done)return a.value;if(!i.global)return H1e(i,o);var c=i.unicode;i.lastIndex=0;for(var p=[],m=0,g;(g=H1e(i,o))!==null;){var S=B7(g[0]);p[m]=S,S===""&&(i.lastIndex=c2t(o,s2t(i.lastIndex),c)),m++}return m===0?null:p}]})});var W7=T(()=>{"use strict";var f2t=re(),$1e=zt(),K1e=Wp(),p2t=nm(),PD=xa(),Z1e=Ci(),X1e=ll(),DE=Pr(),d2t=Ut(),h2t=po(),m2t=_a(),g2t=X1(),Q1e=Q1(),v2t=oo(),y2t=Zn(),_2t=_t(),x2t=br(),b2t=Sv(),w2t=OE(),S2t=t_(),J1e=Fn(),V7=on(),LD=x2t("matchAll"),e_e="RegExp String",t_e=e_e+" Iterator",E2t=J1e.set,I2t=J1e.getterFor(t_e),Y1e=RegExp.prototype,T2t=TypeError,G7=K1e("".indexOf),ND=K1e("".matchAll),U7=!!ND&&!_2t(function(){ND("a",/./)}),C2t=p2t(function(t,r,n,i){E2t(this,{type:t_e,regexp:t,string:r,global:n,unicode:i,done:!1})},e_e,function(){var t=I2t(this);if(t.done)return PD(void 0,!0);var r=t.regexp,n=t.string,i=S2t(r,n);return i===null?(t.done=!0,PD(void 0,!0)):t.global?(DE(i[0])===""&&(r.lastIndex=w2t(n,X1e(r.lastIndex),t.unicode)),PD(i,!1)):(t.done=!0,PD(i,!1))}),H7=function(e){var t=d2t(this),r=DE(e),n=b2t(t,RegExp),i=DE(Q1e(t)),o,a,c;return o=new n(n===RegExp?t.source:t,i),a=!!~G7(i,"g"),c=!!~G7(i,"u"),o.lastIndex=X1e(t.lastIndex),new C2t(o,r,a,c)};f2t({target:"String",proto:!0,forced:U7},{matchAll:function(t){var r=Z1e(this),n,i,o,a;if(h2t(t)){if(U7)return ND(r,t)}else{if(g2t(t)&&(n=DE(Z1e(Q1e(t))),!~G7(n,"g")))throw new T2t("`.matchAll` does not allow non-global regexes");if(U7)return ND(r,t);if(o=v2t(t,LD),o===void 0&&V7&&m2t(t)==="RegExp"&&(o=H7),o)return $1e(o,t,r)}return i=DE(r),a=new RegExp(t,"g"),V7?$1e(H7,a,i):a[LD](i)}});V7||LD in Y1e||y2t(Y1e,LD,H7)});var $7=T((MDr,r_e)=>{"use strict";var M2t=wf();r_e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(M2t)});var n_e=T(()=>{"use strict";var A2t=re(),O2t=rD().end,D2t=$7();A2t({target:"String",proto:!0,forced:D2t},{padEnd:function(t){return O2t(this,t,arguments.length>1?arguments[1]:void 0)}})});var i_e=T(()=>{"use strict";var P2t=re(),L2t=rD().start,N2t=$7();P2t({target:"String",proto:!0,forced:N2t},{padStart:function(t){return L2t(this,t,arguments.length>1?arguments[1]:void 0)}})});var l_e=T(()=>{"use strict";var R2t=re(),s_e=lt(),k2t=Mo(),q2t=an(),o_e=Pr(),j2t=fn(),a_e=s_e([].push),z2t=s_e([].join);R2t({target:"String",stat:!0},{raw:function(t){var r=k2t(q2t(t).raw),n=j2t(r);if(!n)return"";for(var i=arguments.length,o=[],a=0;;){if(a_e(o,o_e(r[a++])),a===n)return z2t(o,"");a<i&&a_e(o,o_e(arguments[a]))}}})});var u_e=T(()=>{"use strict";var F2t=re(),B2t=lE();F2t({target:"String",proto:!0},{repeat:B2t})});var X7=T((qDr,c_e)=>{"use strict";var K7=lt(),U2t=an(),V2t=Math.floor,Z7=K7("".charAt),G2t=K7("".replace),Y7=K7("".slice),H2t=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,W2t=/\$([$&'`]|\d{1,2})/g;c_e.exports=function(e,t,r,n,i,o){var a=r+e.length,c=n.length,p=W2t;return i!==void 0&&(i=U2t(i),p=H2t),G2t(o,p,function(m,g){var S;switch(Z7(g,0)){case"$":return"$";case"&":return e;case"`":return Y7(t,0,r);case"'":return Y7(t,a);case"<":S=i[Y7(g,1,-1)];break;default:var I=+g;if(I===0)return m;if(I>c){var M=V2t(I/10);return M===0?m:M<=c?n[M-1]===void 0?Z7(g,1):n[M-1]+Z7(g,1):m}S=n[I-1];}return S===void 0?"":S})}});var m_e=T(()=>{"use strict";var $2t=es(),f_e=zt(),RD=lt(),Z2t=AE(),Y2t=_t(),K2t=Ut(),X2t=Rr(),Q2t=po(),J2t=Mi(),eCt=ll(),r_=Pr(),tCt=Ci(),rCt=OE(),nCt=oo(),iCt=X7(),oCt=t_(),aCt=br(),J7=aCt("replace"),sCt=Math.max,lCt=Math.min,uCt=RD([].concat),Q7=RD([].push),p_e=RD("".indexOf),d_e=RD("".slice),cCt=function(e){return e===void 0?e:String(e)},fCt=function(){return"a".replace(/./,"$0")==="$0"}(),h_e=function(){return /./[J7]?/./[J7]("a","$0")==="":!1}(),pCt=!Y2t(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Z2t("replace",function(e,t,r){var n=h_e?"$":"$0";return[function(o,a){var c=tCt(this),p=Q2t(o)?void 0:nCt(o,J7);return p?f_e(p,o,c,a):f_e(t,r_(c),o,a)},function(i,o){var a=K2t(this),c=r_(i);if(typeof o=="string"&&p_e(o,n)===-1&&p_e(o,"$<")===-1){var p=r(t,a,c,o);if(p.done)return p.value}var m=X2t(o);m||(o=r_(o));var g=a.global,S;g&&(S=a.unicode,a.lastIndex=0);for(var I=[],M;M=oCt(a,c),!(M===null||(Q7(I,M),!g));){var P=r_(M[0]);P===""&&(a.lastIndex=rCt(c,eCt(a.lastIndex),S))}for(var N="",L=0,q=0;q<I.length;q++){M=I[q];for(var j=r_(M[0]),B=sCt(lCt(J2t(M.index),c.length),0),H=[],Q,ee=1;ee<M.length;ee++)Q7(H,cCt(M[ee]));var ne=M.groups;if(m){var de=uCt([j],H,B,c);ne!==void 0&&Q7(de,ne),Q=r_($2t(o,void 0,de))}else Q=iCt(j,c,B,H,ne,o);B>=L&&(N+=d_e(c,L,B)+Q,L=B+j.length)}return N+d_e(c,L)}]},!pCt||!fCt||h_e)});var t9=T(()=>{"use strict";var dCt=re(),hCt=zt(),e9=lt(),g_e=Ci(),mCt=Rr(),gCt=po(),vCt=X1(),n_=Pr(),yCt=oo(),_Ct=Q1(),xCt=X7(),bCt=br(),wCt=on(),SCt=bCt("replace"),ECt=TypeError,x_e=e9("".indexOf),ICt=e9("".replace),v_e=e9("".slice),TCt=Math.max,y_e=function(e,t,r){return r>e.length?-1:t===""?r:x_e(e,t,r)};dCt({target:"String",proto:!0},{replaceAll:function(t,r){var n=g_e(this),i,o,a,c,p,m,g,S,I,M=0,P=0,N="";if(!gCt(t)){if(i=vCt(t),i&&(o=n_(g_e(_Ct(t))),!~x_e(o,"g")))throw new ECt("`.replaceAll` does not allow non-global regexes");if(a=yCt(t,SCt),a)return hCt(a,t,n,r);if(wCt&&i)return ICt(n_(n),t,r)}for(c=n_(n),p=n_(t),m=mCt(r),m||(r=n_(r)),g=p.length,S=TCt(1,g),M=y_e(c,p,0);M!==-1;)I=m?n_(r(p,M,c)):xCt(p,c,M,[],void 0,r),N+=v_e(c,P,M)+I,P=M+g,M=y_e(c,p,M+S);return P<c.length&&(N+=v_e(c,P)),N}})});var S_e=T(()=>{"use strict";var CCt=zt(),MCt=AE(),ACt=Ut(),OCt=po(),DCt=Ci(),b_e=NU(),w_e=Pr(),PCt=oo(),LCt=t_();MCt("search",function(e,t,r){return[function(i){var o=DCt(this),a=OCt(i)?void 0:PCt(i,e);return a?CCt(a,i,o):new RegExp(i)[e](w_e(o))},function(n){var i=ACt(this),o=w_e(n),a=r(t,i,o);if(a.done)return a.value;var c=i.lastIndex;b_e(c,0)||(i.lastIndex=0);var p=LCt(i,o);return b_e(i.lastIndex,c)||(i.lastIndex=c),p===null?-1:p.index}]})});var A_e=T(()=>{"use strict";var NCt=es(),PE=zt(),n9=lt(),RCt=AE(),kCt=Ut(),qCt=po(),jCt=X1(),E_e=Ci(),zCt=Sv(),FCt=OE(),BCt=ll(),r9=Pr(),UCt=oo(),I_e=pv(),T_e=t_(),VCt=ME(),GCt=TE(),HCt=_t(),i_=GCt.UNSUPPORTED_Y,C_e=4294967295,WCt=Math.min,M_e=[].push,$Ct=n9(/./.exec),o_=n9(M_e),LE=n9("".slice),ZCt=!HCt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});RCt("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,o){var a=r9(E_e(this)),c=o===void 0?C_e:o>>>0;if(c===0)return[];if(i===void 0)return[a];if(!jCt(i))return PE(t,a,i,c);for(var p=[],m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),g=0,S=new RegExp(i.source,m+"g"),I,M,P;(I=PE(VCt,S,a))&&(M=S.lastIndex,!(M>g&&(o_(p,LE(a,g,I.index)),I.length>1&&I.index<a.length&&NCt(M_e,p,I_e(I,1)),P=I[0].length,g=M,p.length>=c)));)S.lastIndex===I.index&&S.lastIndex++;return g===a.length?(P||!$Ct(S,""))&&o_(p,""):o_(p,LE(a,g)),p.length>c?I_e(p,0,c):p}:"0".split(void 0,0).length?n=function(i,o){return i===void 0&&o===0?[]:PE(t,this,i,o)}:n=t,[function(o,a){var c=E_e(this),p=qCt(o)?void 0:UCt(o,e);return p?PE(p,o,c,a):PE(n,r9(c),o,a)},function(i,o){var a=kCt(this),c=r9(i),p=r(n,a,c,o,n!==t);if(p.done)return p.value;var m=zCt(a,RegExp),g=a.unicode,S=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(i_?"g":"y"),I=new m(i_?"^(?:"+a.source+")":a,S),M=o===void 0?C_e:o>>>0;if(M===0)return[];if(c.length===0)return T_e(I,c)===null?[c]:[];for(var P=0,N=0,L=[];N<c.length;){I.lastIndex=i_?0:N;var q=T_e(I,i_?LE(c,N):c),j;if(q===null||(j=WCt(BCt(I.lastIndex+(i_?N:0)),c.length))===P)N=FCt(c,N,g);else{if(o_(L,LE(c,P,N)),L.length===M)return L;for(var B=1;B<=q.length-1;B++)if(o_(L,q[B]),L.length===M)return L;N=P=j}}return o_(L,LE(c,P)),L}]},!ZCt,i_)});var N_e=T(()=>{"use strict";var YCt=re(),P_e=Wp(),KCt=zo().f,XCt=ll(),O_e=Pr(),QCt=OD(),JCt=Ci(),eMt=DD(),tMt=on(),D_e=P_e("".startsWith),rMt=P_e("".slice),nMt=Math.min,L_e=eMt("startsWith"),iMt=!tMt&&!L_e&&!!function(){var e=KCt(String.prototype,"startsWith");return e&&!e.writable}();YCt({target:"String",proto:!0,forced:!iMt&&!L_e},{startsWith:function(t){var r=O_e(JCt(this));QCt(t);var n=XCt(nMt(arguments.length>1?arguments[1]:void 0,r.length)),i=O_e(t);return D_e?D_e(r,i,n):rMt(r,n,n+i.length)===i}})});var k_e=T(()=>{"use strict";var oMt=re(),aMt=lt(),sMt=Ci(),R_e=Mi(),lMt=Pr(),uMt=aMt("".slice),cMt=Math.max,fMt=Math.min,pMt=!"".substr||"ab".substr(-1)!=="b";oMt({target:"String",proto:!0,forced:pMt},{substr:function(t,r){var n=lMt(sMt(this)),i=n.length,o=R_e(t),a,c;return o===1/0&&(o=0),o<0&&(o=cMt(i+o,0)),a=r===void 0?i:R_e(r),a<=0||a===1/0?"":(c=fMt(o+a,i),o>=c?"":uMt(n,o,c))}})});var s9=T(()=>{"use strict";var dMt=re(),z_e=zt(),a9=lt(),hMt=Ci(),mMt=Pr(),gMt=_t(),vMt=Array,i9=a9("".charAt),q_e=a9("".charCodeAt),yMt=a9([].join),o9="".toWellFormed,_Mt="\uFFFD",j_e=o9&&gMt(function(){return z_e(o9,1)!=="1"});dMt({target:"String",proto:!0,forced:j_e},{toWellFormed:function(){var t=mMt(hMt(this));if(j_e)return z_e(o9,t);for(var r=t.length,n=vMt(r),i=0;i<r;i++){var o=q_e(t,i);(o&63488)!==55296?n[i]=i9(t,i):o>=56320||i+1>=r||(q_e(t,i+1)&64512)!==56320?n[i]=_Mt:(n[i]=i9(t,i),n[++i]=i9(t,i))}return yMt(n,"")}})});var kD=T((QDr,U_e)=>{"use strict";var xMt=uv().PROPER,bMt=_t(),F_e=Iv(),B_e="\u200B\x85\u180E";U_e.exports=function(e){return bMt(function(){return!!F_e[e]()||B_e[e]()!==B_e||xMt&&F_e[e].name!==e})}});var V_e=T(()=>{"use strict";var wMt=re(),SMt=Tv().trim,EMt=kD();wMt({target:"String",proto:!0,forced:EMt("trim")},{trim:function(){return SMt(this)}})});var l9=T((tPr,G_e)=>{"use strict";var IMt=Tv().end,TMt=kD();G_e.exports=TMt("trimEnd")?function(){return IMt(this)}:"".trimEnd});var W_e=T(()=>{"use strict";var CMt=re(),H_e=l9();CMt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==H_e},{trimRight:H_e})});var Z_e=T(()=>{"use strict";W_e();var MMt=re(),$_e=l9();MMt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==$_e},{trimEnd:$_e})});var u9=T((aPr,Y_e)=>{"use strict";var AMt=Tv().start,OMt=kD();Y_e.exports=OMt("trimStart")?function(){return AMt(this)}:"".trimStart});var X_e=T(()=>{"use strict";var DMt=re(),K_e=u9();DMt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==K_e},{trimLeft:K_e})});var J_e=T(()=>{"use strict";X_e();var PMt=re(),Q_e=u9();PMt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==Q_e},{trimStart:Q_e})});var dl=T((fPr,txe)=>{"use strict";var LMt=lt(),NMt=Ci(),exe=Pr(),RMt=/"/g,kMt=LMt("".replace);txe.exports=function(e,t,r,n){var i=exe(NMt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+kMt(exe(n),RMt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var hl=T((pPr,rxe)=>{"use strict";var qMt=_t();rxe.exports=function(e){return qMt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var nxe=T(()=>{"use strict";var jMt=re(),zMt=dl(),FMt=hl();jMt({target:"String",proto:!0,forced:FMt("anchor")},{anchor:function(t){return zMt(this,"a","name",t)}})});var ixe=T(()=>{"use strict";var BMt=re(),UMt=dl(),VMt=hl();BMt({target:"String",proto:!0,forced:VMt("big")},{big:function(){return UMt(this,"big","","")}})});var oxe=T(()=>{"use strict";var GMt=re(),HMt=dl(),WMt=hl();GMt({target:"String",proto:!0,forced:WMt("blink")},{blink:function(){return HMt(this,"blink","","")}})});var axe=T(()=>{"use strict";var $Mt=re(),ZMt=dl(),YMt=hl();$Mt({target:"String",proto:!0,forced:YMt("bold")},{bold:function(){return ZMt(this,"b","","")}})});var sxe=T(()=>{"use strict";var KMt=re(),XMt=dl(),QMt=hl();KMt({target:"String",proto:!0,forced:QMt("fixed")},{fixed:function(){return XMt(this,"tt","","")}})});var lxe=T(()=>{"use strict";var JMt=re(),eAt=dl(),tAt=hl();JMt({target:"String",proto:!0,forced:tAt("fontcolor")},{fontcolor:function(t){return eAt(this,"font","color",t)}})});var uxe=T(()=>{"use strict";var rAt=re(),nAt=dl(),iAt=hl();rAt({target:"String",proto:!0,forced:iAt("fontsize")},{fontsize:function(t){return nAt(this,"font","size",t)}})});var cxe=T(()=>{"use strict";var oAt=re(),aAt=dl(),sAt=hl();oAt({target:"String",proto:!0,forced:sAt("italics")},{italics:function(){return aAt(this,"i","","")}})});var fxe=T(()=>{"use strict";var lAt=re(),uAt=dl(),cAt=hl();lAt({target:"String",proto:!0,forced:cAt("link")},{link:function(t){return uAt(this,"a","href",t)}})});var pxe=T(()=>{"use strict";var fAt=re(),pAt=dl(),dAt=hl();fAt({target:"String",proto:!0,forced:dAt("small")},{small:function(){return pAt(this,"small","","")}})});var dxe=T(()=>{"use strict";var hAt=re(),mAt=dl(),gAt=hl();hAt({target:"String",proto:!0,forced:gAt("strike")},{strike:function(){return mAt(this,"strike","","")}})});var hxe=T(()=>{"use strict";var vAt=re(),yAt=dl(),_At=hl();vAt({target:"String",proto:!0,forced:_At("sub")},{sub:function(){return yAt(this,"sub","","")}})});var mxe=T(()=>{"use strict";var xAt=re(),bAt=dl(),wAt=hl();xAt({target:"String",proto:!0,forced:wAt("sup")},{sup:function(){return bAt(this,"sup","","")}})});var qD=T((zPr,vxe)=>{"use strict";var gxe=er(),c9=_t(),SAt=eE(),EAt=Kr().NATIVE_ARRAY_BUFFER_VIEWS,IAt=gxe.ArrayBuffer,Lv=gxe.Int8Array;vxe.exports=!EAt||!c9(function(){Lv(1)})||!c9(function(){new Lv(-1)})||!SAt(function(e){new Lv,new Lv(null),new Lv(1.5),new Lv(e)},!0)||c9(function(){return new Lv(new IAt(2),1,void 0).length!==1})});var a_=T((FPr,yxe)=>{"use strict";var TAt=Mi(),CAt=RangeError;yxe.exports=function(e){var t=TAt(e);if(t<0)throw new CAt("The argument can't be less than 0");return t}});var f9=T((BPr,_xe)=>{"use strict";var MAt=a_(),AAt=RangeError;_xe.exports=function(e,t){var r=MAt(e);if(r%t)throw new AAt("Wrong offset");return r}});var p9=T((UPr,xxe)=>{"use strict";var OAt=Math.round;xxe.exports=function(e){var t=OAt(e);return t<0?0:t>255?255:t&255}});var jD=T((VPr,bxe)=>{"use strict";var DAt=ul();bxe.exports=function(e){var t=DAt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var NE=T((GPr,wxe)=>{"use strict";var PAt=kS(),LAt=TypeError;wxe.exports=function(e){var t=PAt(e,"number");if(typeof t=="number")throw new LAt("Can't convert number to bigint");return BigInt(t)}});var d9=T((HPr,Sxe)=>{"use strict";var NAt=oi(),RAt=zt(),kAt=F1(),qAt=an(),jAt=fn(),zAt=tm(),FAt=Kp(),BAt=MO(),UAt=jD(),VAt=Kr().aTypedArrayConstructor,GAt=NE();Sxe.exports=function(t){var r=kAt(this),n=qAt(t),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0,c=FAt(n),p,m,g,S,I,M,P,N;if(c&&!BAt(c))for(P=zAt(n,c),N=P.next,n=[];!(M=RAt(N,P)).done;)n.push(M.value);for(a&&i>2&&(o=NAt(o,arguments[2])),m=jAt(n),g=new(VAt(r))(m),S=UAt(g),p=0;m>p;p++)I=a?o(n[p],p):n[p],g[p]=S?GAt(I):+I;return g}});var Df=T((WPr,x9)=>{"use strict";var Exe=re(),Rxe=er(),Ixe=zt(),HAt=_r(),WAt=qD(),s_=Kr(),kxe=sE(),Txe=ts(),$At=sl(),RE=ho(),ZAt=cD(),YAt=ll(),Cxe=N1(),h9=f9(),KAt=p9(),qxe=Dc(),kE=Yr(),XAt=ul(),v9=kr(),QAt=Gp(),JAt=ao(),eOt=Ja(),zD=Nu(),tOt=Hp().f,Mxe=d9(),rOt=so().forEach,nOt=om(),iOt=qi(),jxe=yi(),zxe=zo(),b9=Fn(),oOt=gv(),y9=b9.get,aOt=b9.set,sOt=b9.enforce,Fxe=jxe.f,lOt=zxe.f,m9=Rxe.RangeError,Bxe=kxe.ArrayBuffer,uOt=Bxe.prototype,cOt=kxe.DataView,FD=s_.NATIVE_ARRAY_BUFFER_VIEWS,Axe=s_.TYPED_ARRAY_TAG,Oxe=s_.TypedArray,qE=s_.TypedArrayPrototype,fOt=s_.aTypedArrayConstructor,_9=s_.isTypedArray,BD="BYTES_PER_ELEMENT",g9="Wrong length",Dxe=function(e,t){fOt(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},UD=function(e,t){iOt(e,t,{configurable:!0,get:function(){return y9(this)[t]}})},Pxe=function(e){var t;return eOt(uOt,e)||(t=XAt(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Uxe=function(e,t){return _9(e)&&!QAt(t)&&t in e&&ZAt(+t)&&t>=0},Lxe=function(t,r){return r=qxe(r),Uxe(t,r)?$At(2,t[r]):lOt(t,r)},Nxe=function(t,r,n){return r=qxe(r),Uxe(t,r)&&v9(n)&&kE(n,"value")&&!kE(n,"get")&&!kE(n,"set")&&!n.configurable&&(!kE(n,"writable")||n.writable)&&(!kE(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):Fxe(t,r,n)};HAt?(FD||(zxe.f=Lxe,jxe.f=Nxe,UD(qE,"buffer"),UD(qE,"byteOffset"),UD(qE,"byteLength"),UD(qE,"length")),Exe({target:"Object",stat:!0,forced:!FD},{getOwnPropertyDescriptor:Lxe,defineProperty:Nxe}),x9.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,a="set"+e,c=Rxe[i],p=c,m=p&&p.prototype,g={},S=function(N,L){var q=y9(N);return q.view[o](L*n+q.byteOffset,!0)},I=function(N,L,q){var j=y9(N);j.view[a](L*n+j.byteOffset,r?KAt(q):q,!0)},M=function(N,L){Fxe(N,L,{get:function(){return S(this,L)},set:function(q){return I(this,L,q)},enumerable:!0})};FD?WAt&&(p=t(function(N,L,q,j){return Txe(N,m),oOt(function(){return v9(L)?Pxe(L)?j!==void 0?new c(L,h9(q,n),j):q!==void 0?new c(L,h9(q,n)):new c(L):_9(L)?Dxe(p,L):Ixe(Mxe,p,L):new c(Cxe(L))}(),N,p)}),zD&&zD(p,Oxe),rOt(tOt(c),function(N){N in p||RE(p,N,c[N])}),p.prototype=m):(p=t(function(N,L,q,j){Txe(N,m);var B=0,H=0,Q,ee,ne;if(!v9(L))ne=Cxe(L),ee=ne*n,Q=new Bxe(ee);else if(Pxe(L)){Q=L,H=h9(q,n);var de=L.byteLength;if(j===void 0){if(de%n)throw new m9(g9);if(ee=de-H,ee<0)throw new m9(g9)}else if(ee=YAt(j)*n,ee+H>de)throw new m9(g9);ne=ee/n}else return _9(L)?Dxe(p,L):Ixe(Mxe,p,L);for(aOt(N,{buffer:Q,byteOffset:H,byteLength:ee,length:ne,view:new cOt(Q)});B<ne;)M(N,B++)}),zD&&zD(p,Oxe),m=p.prototype=JAt(qE)),m.constructor!==p&&RE(m,"constructor",p),sOt(m).TypedArrayConstructor=p,Axe&&RE(m,Axe,i);var P=p!==c;g[i]=p,Exe({global:!0,constructor:!0,forced:P,sham:!FD},g),BD in p||RE(p,BD,n),BD in m||RE(m,BD,n),nOt(i)}):x9.exports=function(){}});var Vxe=T(()=>{"use strict";var pOt=Df();pOt("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Gxe=T(()=>{"use strict";var dOt=Df();dOt("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Hxe=T(()=>{"use strict";var hOt=Df();hOt("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Wxe=T(()=>{"use strict";var mOt=Df();mOt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var $xe=T(()=>{"use strict";var gOt=Df();gOt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Zxe=T(()=>{"use strict";var vOt=Df();vOt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Yxe=T(()=>{"use strict";var yOt=Df();yOt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Kxe=T(()=>{"use strict";var _Ot=Df();_Ot("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Xxe=T(()=>{"use strict";var xOt=Df();xOt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var w9=T(()=>{"use strict";var Qxe=Kr(),bOt=fn(),wOt=Mi(),SOt=Qxe.aTypedArray,EOt=Qxe.exportTypedArrayMethod;EOt("at",function(t){var r=SOt(this),n=bOt(r),i=wOt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var ebe=T(()=>{"use strict";var IOt=lt(),Jxe=Kr(),TOt=rB(),COt=IOt(TOt),MOt=Jxe.aTypedArray,AOt=Jxe.exportTypedArrayMethod;AOt("copyWithin",function(t,r){return COt(MOt(this),t,r,arguments.length>2?arguments[2]:void 0)})});var rbe=T(()=>{"use strict";var tbe=Kr(),OOt=so().every,DOt=tbe.aTypedArray,POt=tbe.exportTypedArrayMethod;POt("every",function(t){return OOt(DOt(this),t,arguments.length>1?arguments[1]:void 0)})});var ibe=T(()=>{"use strict";var nbe=Kr(),LOt=PO(),NOt=NE(),ROt=ul(),kOt=zt(),qOt=lt(),jOt=_t(),zOt=nbe.aTypedArray,FOt=nbe.exportTypedArrayMethod,BOt=qOt("".slice),UOt=jOt(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});FOt("fill",function(t){var r=arguments.length;zOt(this);var n=BOt(ROt(this),0,3)==="Big"?NOt(t):+t;return kOt(LOt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},UOt)});var l_=T((_Lr,abe)=>{"use strict";var obe=Kr(),VOt=Sv(),GOt=obe.aTypedArrayConstructor,HOt=obe.getTypedArrayConstructor;abe.exports=function(e){return GOt(VOt(e,HOt(e)))}});var VD=T((xLr,sbe)=>{"use strict";var WOt=bv(),$Ot=l_();sbe.exports=function(e,t){return WOt($Ot(e),t)}});var ube=T(()=>{"use strict";var lbe=Kr(),ZOt=so().filter,YOt=VD(),KOt=lbe.aTypedArray,XOt=lbe.exportTypedArrayMethod;XOt("filter",function(t){var r=ZOt(KOt(this),t,arguments.length>1?arguments[1]:void 0);return YOt(this,r)})});var fbe=T(()=>{"use strict";var cbe=Kr(),QOt=so().find,JOt=cbe.aTypedArray,eDt=cbe.exportTypedArrayMethod;eDt("find",function(t){return QOt(JOt(this),t,arguments.length>1?arguments[1]:void 0)})});var dbe=T(()=>{"use strict";var pbe=Kr(),tDt=so().findIndex,rDt=pbe.aTypedArray,nDt=pbe.exportTypedArrayMethod;nDt("findIndex",function(t){return tDt(rDt(this),t,arguments.length>1?arguments[1]:void 0)})});var S9=T(()=>{"use strict";var hbe=Kr(),iDt=JS().findLast,oDt=hbe.aTypedArray,aDt=hbe.exportTypedArrayMethod;aDt("findLast",function(t){return iDt(oDt(this),t,arguments.length>1?arguments[1]:void 0)})});var E9=T(()=>{"use strict";var mbe=Kr(),sDt=JS().findLastIndex,lDt=mbe.aTypedArray,uDt=mbe.exportTypedArrayMethod;uDt("findLastIndex",function(t){return sDt(lDt(this),t,arguments.length>1?arguments[1]:void 0)})});var vbe=T(()=>{"use strict";var gbe=Kr(),cDt=so().forEach,fDt=gbe.aTypedArray,pDt=gbe.exportTypedArrayMethod;pDt("forEach",function(t){cDt(fDt(this),t,arguments.length>1?arguments[1]:void 0)})});var ybe=T(()=>{"use strict";var dDt=qD(),hDt=Kr().exportTypedArrayStaticMethod,mDt=d9();hDt("from",mDt,dDt)});var xbe=T(()=>{"use strict";var _be=Kr(),gDt=T1().includes,vDt=_be.aTypedArray,yDt=_be.exportTypedArrayMethod;yDt("includes",function(t){return gDt(vDt(this),t,arguments.length>1?arguments[1]:void 0)})});var wbe=T(()=>{"use strict";var bbe=Kr(),_Dt=T1().indexOf,xDt=bbe.aTypedArray,bDt=bbe.exportTypedArrayMethod;bDt("indexOf",function(t){return _Dt(xDt(this),t,arguments.length>1?arguments[1]:void 0)})});var Cbe=T(()=>{"use strict";var wDt=er(),SDt=_t(),I9=lt(),Ebe=Kr(),T9=nE(),EDt=br(),C9=EDt("iterator"),Sbe=wDt.Uint8Array,IDt=I9(T9.values),TDt=I9(T9.keys),CDt=I9(T9.entries),M9=Ebe.aTypedArray,GD=Ebe.exportTypedArrayMethod,u_=Sbe&&Sbe.prototype,HD=!SDt(function(){u_[C9].call([1])}),Ibe=!!u_&&u_.values&&u_[C9]===u_.values&&u_.values.name==="values",Tbe=function(){return IDt(M9(this))};GD("entries",function(){return CDt(M9(this))},HD);GD("keys",function(){return TDt(M9(this))},HD);GD("values",Tbe,HD||!Ibe,{name:"values"});GD(C9,Tbe,HD||!Ibe,{name:"values"})});var Abe=T(()=>{"use strict";var Mbe=Kr(),MDt=lt(),ADt=Mbe.aTypedArray,ODt=Mbe.exportTypedArrayMethod,DDt=MDt([].join);ODt("join",function(t){return DDt(ADt(this),t)})});var Dbe=T(()=>{"use strict";var Obe=Kr(),PDt=es(),LDt=yB(),NDt=Obe.aTypedArray,RDt=Obe.exportTypedArrayMethod;RDt("lastIndexOf",function(t){var r=arguments.length;return PDt(LDt,NDt(this),r>1?[t,arguments[1]]:[t])})});var Lbe=T(()=>{"use strict";var Pbe=Kr(),kDt=so().map,qDt=l_(),jDt=Pbe.aTypedArray,zDt=Pbe.exportTypedArrayMethod;zDt("map",function(t){return kDt(jDt(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(qDt(r))(n)})})});var Rbe=T(()=>{"use strict";var Nbe=Kr(),FDt=qD(),BDt=Nbe.aTypedArrayConstructor,UDt=Nbe.exportTypedArrayStaticMethod;UDt("of",function(){for(var t=0,r=arguments.length,n=new(BDt(this))(r);r>t;)n[t]=arguments[t++];return n},FDt)});var qbe=T(()=>{"use strict";var kbe=Kr(),VDt=iE().left,GDt=kbe.aTypedArray,HDt=kbe.exportTypedArrayMethod;HDt("reduce",function(t){var r=arguments.length;return VDt(GDt(this),t,r,r>1?arguments[1]:void 0)})});var zbe=T(()=>{"use strict";var jbe=Kr(),WDt=iE().right,$Dt=jbe.aTypedArray,ZDt=jbe.exportTypedArrayMethod;ZDt("reduceRight",function(t){var r=arguments.length;return WDt($Dt(this),t,r,r>1?arguments[1]:void 0)})});var Bbe=T(()=>{"use strict";var Fbe=Kr(),YDt=Fbe.aTypedArray,KDt=Fbe.exportTypedArrayMethod,XDt=Math.floor;KDt("reverse",function(){for(var t=this,r=YDt(t).length,n=XDt(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var $be=T(()=>{"use strict";var Vbe=er(),Gbe=zt(),D9=Kr(),QDt=fn(),JDt=f9(),ePt=an(),Hbe=_t(),tPt=Vbe.RangeError,A9=Vbe.Int8Array,Ube=A9&&A9.prototype,Wbe=Ube&&Ube.set,rPt=D9.aTypedArray,nPt=D9.exportTypedArrayMethod,O9=!Hbe(function(){var e=new Uint8ClampedArray(2);return Gbe(Wbe,e,{length:1,0:3},1),e[1]!==3}),iPt=O9&&D9.NATIVE_ARRAY_BUFFER_VIEWS&&Hbe(function(){var e=new A9(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});nPt("set",function(t){rPt(this);var r=JDt(arguments.length>1?arguments[1]:void 0,1),n=ePt(t);if(O9)return Gbe(Wbe,this,n,r);var i=this.length,o=QDt(n),a=0;if(o+r>i)throw new tPt("Wrong length");for(;a<o;)this[r+a]=n[a++]},!O9||iPt)});var Ybe=T(()=>{"use strict";var Zbe=Kr(),oPt=l_(),aPt=_t(),sPt=Zp(),lPt=Zbe.aTypedArray,uPt=Zbe.exportTypedArrayMethod,cPt=aPt(function(){new Int8Array(1).slice()});uPt("slice",function(t,r){for(var n=sPt(lPt(this),t,r),i=oPt(this),o=0,a=n.length,c=new i(a);a>o;)c[o]=n[o++];return c},cPt)});var Xbe=T(()=>{"use strict";var Kbe=Kr(),fPt=so().some,pPt=Kbe.aTypedArray,dPt=Kbe.exportTypedArrayMethod;dPt("some",function(t){return fPt(pPt(this),t,arguments.length>1?arguments[1]:void 0)})});var nwe=T(()=>{"use strict";var hPt=er(),mPt=Wp(),P9=_t(),gPt=Ar(),vPt=zO(),rwe=Kr(),Qbe=bB(),yPt=wB(),Jbe=Sf(),ewe=FO(),_Pt=rwe.aTypedArray,xPt=rwe.exportTypedArrayMethod,jE=hPt.Uint16Array,c_=jE&&mPt(jE.prototype.sort),bPt=!!c_&&!(P9(function(){c_(new jE(2),null)})&&P9(function(){c_(new jE(2),{})})),twe=!!c_&&!P9(function(){if(Jbe)return Jbe<74;if(Qbe)return Qbe<67;if(yPt)return!0;if(ewe)return ewe<602;var e=new jE(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(c_(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),wPt=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};xPt("sort",function(t){return t!==void 0&&gPt(t),twe?c_(this,t):vPt(_Pt(this),wPt(t))},!twe||bPt)});var awe=T(()=>{"use strict";var owe=Kr(),SPt=ll(),iwe=Du(),EPt=l_(),IPt=owe.aTypedArray,TPt=owe.exportTypedArrayMethod;TPt("subarray",function(t,r){var n=IPt(this),i=n.length,o=iwe(t,i),a=EPt(n);return new a(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,SPt((r===void 0?i:iwe(r,i))-o))})});var fwe=T(()=>{"use strict";var CPt=er(),MPt=es(),uwe=Kr(),L9=_t(),swe=Zp(),WD=CPt.Int8Array,lwe=uwe.aTypedArray,APt=uwe.exportTypedArrayMethod,cwe=[].toLocaleString,OPt=!!WD&&L9(function(){cwe.call(new WD(1))}),DPt=L9(function(){return[1,2].toLocaleString()!==new WD([1,2]).toLocaleString()})||!L9(function(){WD.prototype.toLocaleString.call([1,2])});APt("toLocaleString",function(){return MPt(cwe,OPt?swe(lwe(this)):lwe(this),swe(arguments))},DPt)});var R9=T(()=>{"use strict";var PPt=IB(),N9=Kr(),LPt=N9.aTypedArray,NPt=N9.exportTypedArrayMethod,RPt=N9.getTypedArrayConstructor;NPt("toReversed",function(){return PPt(LPt(this),RPt(this))})});var k9=T(()=>{"use strict";var $D=Kr(),kPt=lt(),qPt=Ar(),jPt=bv(),zPt=$D.aTypedArray,FPt=$D.getTypedArrayConstructor,BPt=$D.exportTypedArrayMethod,UPt=kPt($D.TypedArrayPrototype.sort);BPt("toSorted",function(t){t!==void 0&&qPt(t);var r=zPt(this),n=jPt(FPt(r),r);return UPt(n,t)})});var dwe=T(()=>{"use strict";var VPt=Kr().exportTypedArrayMethod,GPt=_t(),HPt=er(),WPt=lt(),pwe=HPt.Uint8Array,$Pt=pwe&&pwe.prototype||{},ZD=[].toString,ZPt=WPt([].join);GPt(function(){ZD.call({})})&&(ZD=function(){return ZPt(this)});var YPt=$Pt.toString!==ZD;VPt("toString",ZD,YPt)});var j9=T(()=>{"use strict";var KPt=OB(),q9=Kr(),XPt=jD(),QPt=Mi(),JPt=NE(),eLt=q9.aTypedArray,tLt=q9.getTypedArrayConstructor,rLt=q9.exportTypedArrayMethod,nLt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();rLt("with",function(e,t){var r=eLt(this),n=QPt(e),i=XPt(r)?JPt(t):+t;return KPt(r,tLt(r),n,i)},!nLt)});var ywe=T(()=>{"use strict";var iLt=re(),z9=lt(),oLt=Pr(),hwe=String.fromCharCode,mwe=z9("".charAt),gwe=z9(/./.exec),vwe=z9("".slice),aLt=/^[\da-f]{2}$/i,sLt=/^[\da-f]{4}$/i;iLt({global:!0},{unescape:function(t){for(var r=oLt(t),n="",i=r.length,o=0,a,c;o<i;){if(a=mwe(r,o++),a==="%"){if(mwe(r,o)==="u"){if(c=vwe(r,o+1,o+5),gwe(sLt,c)){n+=hwe(parseInt(c,16)),o+=5;continue}}else if(c=vwe(r,o,o+2),gwe(aLt,c)){n+=hwe(parseInt(c,16)),o+=2;continue}}n+=a}return n}})});var U9=T((SNr,Ewe)=>{"use strict";var lLt=lt(),_we=ku(),YD=fm().getWeakData,uLt=ts(),cLt=Ut(),fLt=po(),F9=kr(),pLt=Ki(),bwe=so(),xwe=Yr(),wwe=Fn(),dLt=wwe.set,hLt=wwe.getterFor,mLt=bwe.find,gLt=bwe.findIndex,vLt=lLt([].splice),yLt=0,KD=function(e){return e.frozen||(e.frozen=new Swe)},Swe=function(){this.entries=[]},B9=function(e,t){return mLt(e.entries,function(r){return r[0]===t})};Swe.prototype={get:function(e){var t=B9(this,e);if(t)return t[1]},has:function(e){return!!B9(this,e)},set:function(e,t){var r=B9(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=gLt(this.entries,function(r){return r[0]===e});return~t&&vLt(this.entries,t,1),!!~t}};Ewe.exports={getConstructor:function(e,t,r,n){var i=e(function(p,m){uLt(p,o),dLt(p,{type:t,id:yLt++,frozen:void 0}),fLt(m)||pLt(m,p[n],{that:p,AS_ENTRIES:r})}),o=i.prototype,a=hLt(t),c=function(p,m,g){var S=a(p),I=YD(cLt(m),!0);return I===!0?KD(S).set(m,g):I[S.id]=g,p};return _we(o,{delete:function(p){var m=a(this);if(!F9(p))return!1;var g=YD(p);return g===!0?KD(m).delete(p):g&&xwe(g,m.id)&&delete g[m.id]},has:function(m){var g=a(this);if(!F9(m))return!1;var S=YD(m);return S===!0?KD(g).has(m):S&&xwe(S,g.id)}}),_we(o,r?{get:function(m){var g=a(this);if(F9(m)){var S=YD(m);return S===!0?KD(g).get(m):S?S[g.id]:void 0}},set:function(m,g){return c(this,m,g)}}:{add:function(m){return c(this,m,!0)}}),i}}});var Nwe=T(()=>{"use strict";var _Lt=nd(),Iwe=er(),eP=lt(),Twe=ku(),xLt=fm(),bLt=cE(),Awe=U9(),XD=kr(),QD=Fn().enforce,wLt=_t(),SLt=i8(),BE=Object,ELt=Array.isArray,JD=BE.isExtensible,Owe=BE.isFrozen,ILt=BE.isSealed,Dwe=BE.freeze,TLt=BE.seal,Cwe={},Mwe={},CLt=!Iwe.ActiveXObject&&"ActiveXObject"in Iwe,zE,Pwe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Lwe=bLt("WeakMap",Pwe,Awe),f_=Lwe.prototype,tP=eP(f_.set),MLt=function(){return _Lt&&wLt(function(){var e=Dwe([]);return tP(new Lwe,e,1),!Owe(e)})};SLt&&(CLt?(zE=Awe.getConstructor(Pwe,"WeakMap",!0),xLt.enable(),V9=eP(f_.delete),FE=eP(f_.has),G9=eP(f_.get),Twe(f_,{delete:function(e){if(XD(e)&&!JD(e)){var t=QD(this);return t.frozen||(t.frozen=new zE),V9(this,e)||t.frozen.delete(e)}return V9(this,e)},has:function(t){if(XD(t)&&!JD(t)){var r=QD(this);return r.frozen||(r.frozen=new zE),FE(this,t)||r.frozen.has(t)}return FE(this,t)},get:function(t){if(XD(t)&&!JD(t)){var r=QD(this);return r.frozen||(r.frozen=new zE),FE(this,t)?G9(this,t):r.frozen.get(t)}return G9(this,t)},set:function(t,r){if(XD(t)&&!JD(t)){var n=QD(this);n.frozen||(n.frozen=new zE),FE(this,t)?tP(this,t,r):n.frozen.set(t,r)}else tP(this,t,r);return this}})):MLt()&&Twe(f_,{set:function(t,r){var n;return ELt(t)&&(Owe(t)?n=Cwe:ILt(t)&&(n=Mwe)),tP(this,t,r),n===Cwe&&Dwe(t),n===Mwe&&TLt(t),this}}));var V9,FE,G9});var rP=T(()=>{"use strict";Nwe()});var Rwe=T(()=>{"use strict";var ALt=cE(),OLt=U9();ALt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},OLt)});var kwe=T(()=>{"use strict";Rwe()});var qwe=T(()=>{"use strict";K8()});var zwe=T(()=>{"use strict";var DLt=re(),PLt=Ja(),LLt=mo(),iP=Nu(),NLt=C1(),jwe=ao(),nP=ho(),H9=sl(),RLt=EO(),kLt=vv(),qLt=br(),jLt=qLt("toStringTag"),oP=Error,p_=function(t,r,n){var i=PLt(W9,this),o;return iP?o=iP(new oP,i?LLt(this):W9):(o=i?this:jwe(W9),nP(o,jLt,"Error")),n!==void 0&&nP(o,"message",kLt(n)),RLt(o,p_,o.stack,1),nP(o,"error",t),nP(o,"suppressed",r),o};iP?iP(p_,oP):NLt(p_,oP,{name:!0});var W9=p_.prototype=jwe(oP.prototype,{constructor:H9(1,p_),message:H9(1,""),name:H9(1,"SuppressedError")});DLt({global:!0,constructor:!0,arity:3},{SuppressedError:p_})});var d_=T((kNr,$we)=>{"use strict";var Gwe=er(),Hwe=RS(),Wwe=Rr(),zLt=ao(),aP=mo(),FLt=Zn(),BLt=br(),ULt=on(),Fwe="USE_FUNCTION_CONSTRUCTOR",Bwe=BLt("asyncIterator"),Uwe=Gwe.AsyncIterator,Vwe=Hwe.AsyncIteratorPrototype,Pf,$9;if(Vwe)Pf=Vwe;else if(Wwe(Uwe))Pf=Uwe.prototype;else if(Hwe[Fwe]||Gwe[Fwe])try{$9=aP(aP(aP(Function("return async function*(){}()")()))),aP($9)===Object.prototype&&(Pf=$9)}catch(e){}Pf?ULt&&(Pf=zLt(Pf)):Pf={};Wwe(Pf[Bwe])||FLt(Pf,Bwe,function(){return this});$we.exports=Pf});var UE=T((qNr,rSe)=>{"use strict";var Zwe=zt(),Ywe=Ut(),VLt=ao(),GLt=oo(),HLt=ku(),Qwe=Fn(),WLt=Mr(),$Lt=d_(),Jwe=xa(),Z9=WLt("Promise"),eSe="AsyncFromSyncIterator",ZLt=Qwe.set,Kwe=Qwe.getterFor(eSe),Xwe=function(e,t,r){var n=e.done;Z9.resolve(e.value).then(function(i){t(Jwe(i,n))},r)},tSe=function(t){t.type=eSe,ZLt(this,t)};tSe.prototype=HLt(VLt($Lt),{next:function(){var t=Kwe(this);return new Z9(function(r,n){var i=Ywe(Zwe(t.next,t.iterator));Xwe(i,r,n)})},return:function(){var e=Kwe(this).iterator;return new Z9(function(t,r){var n=GLt(e,"return");if(n===void 0)return t(Jwe(void 0,!0));var i=Ywe(Zwe(n,e));Xwe(i,t,r)})}});rSe.exports=tSe});var ji=T((jNr,nSe)=>{"use strict";nSe.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var oSe=T((zNr,iSe)=>{"use strict";var YLt=zt(),KLt=UE(),XLt=Ut(),QLt=tm(),JLt=ji(),eNt=oo(),tNt=br(),rNt=tNt("asyncIterator");iSe.exports=function(e,t){var r=arguments.length<2?eNt(e,rNt):t;return r?XLt(YLt(r,e)):new KLt(JLt(QLt(e)))}});var h_=T((FNr,aSe)=>{"use strict";var nNt=zt(),iNt=Mr(),oNt=oo();aSe.exports=function(e,t,r,n){try{var i=oNt(e,"return");if(i)return iNt("Promise").resolve(nNt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var Nv=T((BNr,sSe)=>{"use strict";var aNt=zt(),sNt=Ar(),Y9=Ut(),lNt=kr(),uNt=rm(),cNt=Mr(),fNt=ji(),K9=h_(),VE=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,a,c){Y9(o);var p=a!==void 0;(p||!t)&&sNt(a);var m=fNt(o),g=cNt("Promise"),S=m.iterator,I=m.next,M=0;return new g(function(P,N){var L=function(j){K9(S,N,j,N)},q=function(){try{if(p)try{uNt(M)}catch(j){L(j)}g.resolve(Y9(aNt(I,S))).then(function(j){try{if(Y9(j).done)t?(c.length=M,P(c)):P(i?!1:n||void 0);else{var B=j.value;try{if(p){var H=a(B,M),Q=function(ee){if(r)q();else if(n)ee?q():K9(S,P,!1,N);else if(t)try{c[M++]=ee,q()}catch(ne){L(ne)}else ee?K9(S,P,i||B,N):q()};lNt(H)?g.resolve(H).then(Q,L):Q(H)}else c[M++]=B,q()}catch(ee){L(ee)}}}catch(ee){N(ee)}},N)}catch(j){N(j)}};q()})}};sSe.exports={toArray:VE(0),forEach:VE(1),every:VE(2),some:VE(3),find:VE(4)}});var X9=T((UNr,fSe)=>{"use strict";var pNt=oi(),lSe=lt(),dNt=an(),hNt=Nc(),mNt=oSe(),gNt=tm(),vNt=ji(),yNt=Kp(),_Nt=oo(),xNt=CB(),bNt=Mr(),wNt=br(),SNt=UE(),ENt=Nv().toArray,INt=wNt("asyncIterator"),uSe=lSe(xNt("Array").values),TNt=lSe(uSe([]).next),CNt=function(){return new cSe(this)},cSe=function(e){this.iterator=uSe(e)};cSe.prototype.next=function(){return TNt(this.iterator)};fSe.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(bNt("Promise"))(function(a){var c=dNt(t);i!==void 0&&(i=pNt(i,o));var p=_Nt(c,INt),m=p?void 0:yNt(c)||CNt,g=hNt(r)?new r:[],S=p?mNt(c,p):new SNt(vNt(gNt(c,m)));a(ENt(S,i,g))})}});var pSe=T(()=>{"use strict";var MNt=re(),ANt=X9();MNt({target:"Array",stat:!0},{fromAsync:ANt})});var dSe=T(()=>{"use strict";eB()});var hSe=T(()=>{"use strict";var ONt=re(),DNt=so().filterReject,PNt=Wi();ONt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return DNt(this,t,arguments.length>1?arguments[1]:void 0)}});PNt("filterOut")});var mSe=T(()=>{"use strict";var LNt=re(),NNt=so().filterReject,RNt=Wi();LNt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return NNt(this,t,arguments.length>1?arguments[1]:void 0)}});RNt("filterReject")});var gSe=T(()=>{"use strict";oB()});var vSe=T(()=>{"use strict";aB()});var sP=T((t5r,ySe)=>{"use strict";var kNt=oi(),qNt=lt(),jNt=Vp(),zNt=an(),FNt=Dc(),BNt=fn(),UNt=ao(),VNt=bv(),GNt=Array,HNt=qNt([].push);ySe.exports=function(e,t,r,n){for(var i=zNt(e),o=jNt(i),a=kNt(t,r),c=UNt(null),p=BNt(o),m=0,g,S,I;p>m;m++)I=o[m],S=FNt(a(I,m,i)),S in c?HNt(c[S],I):c[S]=[I];if(n&&(g=n(i),g!==GNt))for(S in c)c[S]=VNt(g,c[S]);return c}});var _Se=T(()=>{"use strict";var WNt=re(),$Nt=sP(),ZNt=Wi();WNt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return $Nt(this,t,r)}});ZNt("group")});var xSe=T(()=>{"use strict";var YNt=re(),KNt=sP(),XNt=Ru(),QNt=Wi();YNt({target:"Array",proto:!0,forced:!XNt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return KNt(this,t,r)}});QNt("groupBy")});var Ds=T((a5r,bSe)=>{"use strict";var lP=lt(),GE=Map.prototype;bSe.exports={Map,set:lP(GE.set),get:lP(GE.get),has:lP(GE.has),remove:lP(GE.delete),proto:GE}});var Q9=T((s5r,wSe)=>{"use strict";var JNt=oi(),e5t=lt(),t5t=Vp(),r5t=an(),n5t=fn(),uP=Ds(),i5t=uP.Map,o5t=uP.get,a5t=uP.has,s5t=uP.set,l5t=e5t([].push);wSe.exports=function(t){for(var r=r5t(this),n=t5t(r),i=JNt(t,arguments.length>1?arguments[1]:void 0),o=new i5t,a=n5t(n),c=0,p,m;a>c;c++)m=n[c],p=i(m,c,r),a5t(o,p)?l5t(o5t(o,p),m):s5t(o,p,[m]);return o}});var SSe=T(()=>{"use strict";var u5t=re(),c5t=Ru(),f5t=Wi(),p5t=Q9(),d5t=on();u5t({target:"Array",proto:!0,name:"groupToMap",forced:d5t||!c5t("groupByToMap")},{groupByToMap:p5t});f5t("groupByToMap")});var ESe=T(()=>{"use strict";var h5t=re(),m5t=Wi(),g5t=Q9(),v5t=on();h5t({target:"Array",proto:!0,forced:v5t},{groupToMap:g5t});m5t("groupToMap")});var CSe=T(()=>{"use strict";var y5t=re(),_5t=Lc(),ISe=Object.isFrozen,TSe=function(e,t){if(!ISe||!_5t(e)||!ISe(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};y5t({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!TSe(t,!0))return!1;var r=t.raw;return r.length===t.length&&TSe(r,!1)}})});var MSe=T(()=>{"use strict";var x5t=_r(),b5t=Wi(),w5t=an(),S5t=fn(),E5t=qi();x5t&&(E5t(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=w5t(this),r=S5t(t);return r===0?0:r-1}}),b5t("lastIndex"))});var DSe=T(()=>{"use strict";var I5t=_r(),T5t=Wi(),ASe=an(),OSe=fn(),C5t=qi();I5t&&(C5t(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=ASe(this),r=OSe(t);return r===0?void 0:t[r-1]},set:function(t){var r=ASe(this),n=OSe(r);return r[n===0?0:n-1]=t}}),T5t("lastItem"))});var PSe=T(()=>{"use strict";TB()});var LSe=T(()=>{"use strict";MB()});var NSe=T(()=>{"use strict";AB()});var od=T((E5r,RSe)=>{"use strict";var M5t=zt();RSe.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,a;!(o=M5t(i,n)).done;)if(a=t(o.value),a!==void 0)return a}});var zu=T((I5r,FSe)=>{"use strict";var kSe=lt(),A5t=od(),qSe=Ds(),O5t=qSe.Map,jSe=qSe.proto,D5t=kSe(jSe.forEach),zSe=kSe(jSe.entries),P5t=zSe(new O5t).next;FSe.exports=function(e,t,r){return r?A5t({iterator:zSe(e),next:P5t},function(n){return t(n[1],n[0])}):D5t(e,t)}});var cP=T((T5r,BSe)=>{"use strict";var L5t=lt(),N5t=Ar(),R5t=po(),k5t=fn(),q5t=an(),J9=Ds(),j5t=zu(),z5t=J9.Map,F5t=J9.has,B5t=J9.set,U5t=L5t([].push);BSe.exports=function(t){var r=q5t(this),n=k5t(r),i=[],o=new z5t,a=R5t(t)?function(g){return g}:N5t(t),c,p,m;for(c=0;c<n;c++)p=r[c],m=a(p),F5t(o,m)||B5t(o,m,p);return j5t(o,function(g){U5t(i,g)}),i}});var USe=T(()=>{"use strict";var V5t=re(),G5t=Wi(),H5t=cP();V5t({target:"Array",proto:!0,forced:!0},{uniqueBy:H5t});G5t("uniqueBy")});var VSe=T(()=>{"use strict";DB()});var eV=T((D5r,GSe)=>{"use strict";var W5t=XS(),$5t=_a(),Z5t=TypeError;GSe.exports=W5t(ArrayBuffer.prototype,"byteLength","get")||function(e){if($5t(e)!=="ArrayBuffer")throw new Z5t("ArrayBuffer expected");return e.byteLength}});var tV=T((P5r,HSe)=>{"use strict";var Y5t=lt(),K5t=eV(),X5t=Y5t(ArrayBuffer.prototype.slice);HSe.exports=function(e){if(K5t(e)!==0)return!1;try{return X5t(e,0,0),!1}catch(t){return!0}}});var $Se=T(()=>{"use strict";var Q5t=_r(),J5t=qi(),eRt=tV(),WSe=ArrayBuffer.prototype;Q5t&&!("detached"in WSe)&&J5t(WSe,"detached",{configurable:!0,get:function(){return eRt(this)}})});var rV=T((R5r,ZSe)=>{"use strict";var tRt=Tf();ZSe.exports=function(e){try{if(tRt)return Function("return require(\""+e+"\")")()}catch(t){}}});var fP=T((k5r,KSe)=>{"use strict";var rRt=er(),nRt=_t(),nV=Sf(),iRt=r7(),oRt=gD(),aRt=Tf(),YSe=rRt.structuredClone;KSe.exports=!!YSe&&!nRt(function(){if(oRt&&nV>92||aRt&&nV>94||iRt&&nV>97)return!1;var e=new ArrayBuffer(8),t=YSe(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var eEe=T((q5r,JSe)=>{"use strict";var sV=er(),sRt=rV(),lRt=fP(),uRt=sV.structuredClone,XSe=sV.ArrayBuffer,pP=sV.MessageChannel,aV=!1,iV,QSe,dP,oV;if(lRt)aV=function(e){uRt(e,{transfer:[e]})};else if(XSe)try{pP||(iV=sRt("worker_threads"),iV&&(pP=iV.MessageChannel)),pP&&(QSe=new pP,dP=new XSe(2),oV=function(e){QSe.port1.postMessage(null,[e])},dP.byteLength===2&&(oV(dP),dP.byteLength===0&&(aV=oV)))}catch(e){}JSe.exports=aV});var mP=T((j5r,sEe)=>{"use strict";var hP=er(),cV=lt(),iEe=XS(),cRt=N1(),fRt=tV(),pRt=eV(),tEe=eEe(),lV=fP(),dRt=hP.structuredClone,oEe=hP.ArrayBuffer,uV=hP.DataView,hRt=hP.TypeError,mRt=Math.min,fV=oEe.prototype,aEe=uV.prototype,gRt=cV(fV.slice),rEe=iEe(fV,"resizable","get"),nEe=iEe(fV,"maxByteLength","get"),vRt=cV(aEe.getInt8),yRt=cV(aEe.setInt8);sEe.exports=(lV||tEe)&&function(e,t,r){var n=pRt(e),i=t===void 0?n:cRt(t),o=!rEe||!rEe(e),a;if(fRt(e))throw new hRt("ArrayBuffer is detached");if(lV&&(e=dRt(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))a=gRt(e,0,i);else{var c=r&&!o&&nEe?{maxByteLength:nEe(e)}:void 0;a=new oEe(i,c);for(var p=new uV(e),m=new uV(a),g=mRt(i,n),S=0;S<g;S++)yRt(m,S,vRt(p,S))}return lV||tEe(e),a}});var uEe=T(()=>{"use strict";var _Rt=re(),lEe=mP();lEe&&_Rt({target:"ArrayBuffer",proto:!0},{transfer:function(){return lEe(this,arguments.length?arguments[0]:void 0,!0)}})});var fEe=T(()=>{"use strict";var xRt=re(),cEe=mP();cEe&&xRt({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return cEe(this,arguments.length?arguments[0]:void 0,!1)}})});var dV=T((V5r,gEe)=>{"use strict";var bRt=zt(),wRt=lt(),SRt=oi(),ERt=Ut(),IRt=Ar(),hEe=po(),pV=oo(),mEe=br(),TRt=mEe("asyncDispose"),pEe=mEe("dispose"),CRt=wRt([].push),MRt=function(e,t){if(t==="async-dispose"){var r=pV(e,TRt);return r!==void 0?r:(r=pV(e,pEe),function(){bRt(r,this)})}return pV(e,pEe)},dEe=function(e,t,r){return arguments.length<3&&!hEe(e)&&(r=IRt(MRt(ERt(e),t))),r===void 0?function(){}:SRt(r,e)};gEe.exports=function(e,t,r,n){var i;if(arguments.length<4){if(hEe(t)&&r==="sync-dispose")return;i=dEe(t,r)}else i=dEe(void 0,r,n);CRt(e.stack,i)}});var SEe=T(()=>{"use strict";var ARt=re(),vP=_r(),_Ee=Mr(),vEe=Ar(),ORt=ts(),xEe=Zn(),DRt=ku(),PRt=qi(),bEe=br(),wEe=Fn(),hV=dV(),yEe=_Ee("Promise"),LRt=_Ee("SuppressedError"),NRt=ReferenceError,RRt=bEe("asyncDispose"),kRt=bEe("toStringTag"),_P="AsyncDisposableStack",qRt=wEe.set,yP=wEe.getterFor(_P),mV="async-dispose",HE="disposed",jRt="pending",gP=function(e){var t=yP(e);if(t.state===HE)throw new NRt(_P+" already disposed");return t},gV=function(){qRt(ORt(this,m_),{type:_P,state:jRt,stack:[]}),vP||(this.disposed=!1)},m_=gV.prototype;DRt(m_,{disposeAsync:function(){var t=this;return new yEe(function(r,n){var i=yP(t);if(i.state===HE)return r(void 0);i.state=HE,vP||(t.disposed=!0);var o=i.stack,a=o.length,c=!1,p,m=function(S){c?p=new LRt(S,p):(c=!0,p=S),g()},g=function(){if(a){var S=o[--a];o[a]=null;try{yEe.resolve(S()).then(g,m)}catch(I){m(I)}}else i.stack=null,c?n(p):r(void 0)};g()})},use:function(t){return hV(gP(this),t,mV),t},adopt:function(t,r){var n=gP(this);return vEe(r),hV(n,void 0,mV,function(){return r(t)}),t},defer:function(t){var r=gP(this);vEe(t),hV(r,void 0,mV,t)},move:function(){var t=gP(this),r=new gV;return yP(r).stack=t.stack,t.stack=[],t.state=HE,vP||(this.disposed=!0),r}});vP&&PRt(m_,"disposed",{configurable:!0,get:function(){return yP(this).state===HE}});xEe(m_,RRt,m_.disposeAsync,{name:"disposeAsync"});xEe(m_,kRt,_P,{nonWritable:!0});ARt({global:!0,constructor:!0},{AsyncDisposableStack:gV})});var MEe=T(()=>{"use strict";var zRt=re(),FRt=ts(),BRt=mo(),IEe=ho(),TEe=Yr(),URt=br(),gm=d_(),CEe=on(),EEe=URt("toStringTag"),VRt=TypeError,vV=function(){if(FRt(this,gm),BRt(this)===gm)throw new VRt("Abstract class AsyncIterator not directly constructable")};vV.prototype=gm;TEe(gm,EEe)||IEe(gm,EEe,"AsyncIterator");(CEe||!TEe(gm,"constructor")||gm.constructor===Object)&&IEe(gm,"constructor",vV);zRt({global:!0,constructor:!0,forced:CEe},{AsyncIterator:vV})});var Rv=T((Z5r,kEe)=>{"use strict";var GRt=zt(),xP=pm(),AEe=Ut(),HRt=ao(),WRt=ho(),$Rt=ku(),ZRt=br(),DEe=Fn(),YRt=Mr(),KRt=oo(),XRt=d_(),yV=xa(),OEe=Xp(),Lf=YRt("Promise"),QRt=ZRt("toStringTag"),PEe="AsyncIteratorHelper",LEe="WrapForValidAsyncIterator",JRt=DEe.set,NEe=function(e){var t=!e,r=DEe.getterFor(e?LEe:PEe),n=function(i){var o=xP(function(){return r(i)}),a=o.error,c=o.value;return a||t&&c.done?{exit:!0,value:a?Lf.reject(c):Lf.resolve(yV(void 0,!0))}:{exit:!1,value:c}};return $Rt(HRt(XRt),{next:function(){var o=n(this),a=o.value;if(o.exit)return a;var c=xP(function(){return AEe(a.nextHandler(Lf))}),p=c.error,m=c.value;return p&&(a.done=!0),p?Lf.reject(m):Lf.resolve(m)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var a=o.iterator,c,p,m=xP(function(){if(o.inner)try{OEe(o.inner.iterator,"normal")}catch(g){return OEe(a,"throw",g)}return KRt(a,"return")});return c=p=m.value,m.error?Lf.reject(p):c===void 0?Lf.resolve(yV(void 0,!0)):(m=xP(function(){return GRt(c,a)}),p=m.value,m.error?Lf.reject(p):e?Lf.resolve(p):Lf.resolve(p).then(function(g){return AEe(g),yV(void 0,!0)}))}})},e4t=NEe(!0),REe=NEe(!1);WRt(REe,QRt,"Async Iterator Helper");kEe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?LEe:PEe,o.nextHandler=e,o.counter=0,o.done=!1,JRt(this,o)};return r.prototype=t?e4t:REe,r}});var xV=T((Y5r,jEe)=>{"use strict";var t4t=zt(),r4t=Ar(),_V=Ut(),n4t=kr(),i4t=ji(),o4t=Rv(),qEe=xa(),a4t=h_(),s4t=o4t(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var a=function(p){t.done=!0,o(p)},c=function(p){a4t(r,a,p,a)};e.resolve(_V(t4t(t.next,r))).then(function(p){try{if(_V(p).done)t.done=!0,i(qEe(void 0,!0));else{var m=p.value;try{var g=n(m,t.counter++),S=function(I){i(qEe(I,!1))};n4t(g)?e.resolve(g).then(S,c):S(g)}catch(I){c(I)}}}catch(I){a(I)}},a)})});jEe.exports=function(t){return _V(this),r4t(t),new s4t(i4t(this),{mapper:t})}});var bV=T((K5r,zEe)=>{"use strict";var l4t=zt(),u4t=xV(),c4t=function(e,t){return[t,e]};zEe.exports=function(){return l4t(u4t,this,c4t)}});var FEe=T(()=>{"use strict";var f4t=re(),p4t=bV();f4t({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:p4t})});var GEe=T(()=>{"use strict";var d4t=zt(),h4t=Zn(),m4t=Mr(),g4t=oo(),v4t=Yr(),y4t=br(),BEe=d_(),UEe=y4t("asyncDispose"),VEe=m4t("Promise");v4t(BEe,UEe)||h4t(BEe,UEe,function(){var e=this;return new VEe(function(t,r){var n=g4t(e,"return");n?VEe.resolve(d4t(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var WE=T((tRr,HEe)=>{"use strict";var _4t=RangeError;HEe.exports=function(e){if(e===e)return e;throw new _4t("NaN is not allowed")}});var $Ee=T(()=>{"use strict";var x4t=re(),b4t=zt(),wV=Ut(),w4t=ji(),S4t=WE(),E4t=a_(),I4t=Rv(),WEe=xa(),T4t=on(),C4t=I4t(function(e){var t=this;return new e(function(r,n){var i=function(a){t.done=!0,n(a)},o=function(){try{e.resolve(wV(b4t(t.next,t.iterator))).then(function(a){try{wV(a).done?(t.done=!0,r(WEe(void 0,!0))):t.remaining?(t.remaining--,o()):r(WEe(a.value,!1))}catch(c){i(c)}},i)}catch(a){i(a)}};o()})});x4t({target:"AsyncIterator",proto:!0,real:!0,forced:T4t},{drop:function(t){wV(this);var r=E4t(S4t(+t));return new C4t(w4t(this),{remaining:r})}})});var ZEe=T(()=>{"use strict";var M4t=re(),A4t=Nv().every;M4t({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return A4t(this,t)}})});var KEe=T(()=>{"use strict";var O4t=re(),D4t=zt(),P4t=Ar(),SV=Ut(),L4t=kr(),N4t=ji(),R4t=Rv(),YEe=xa(),k4t=h_(),q4t=on(),j4t=R4t(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var a=function(m){t.done=!0,o(m)},c=function(m){k4t(r,a,m,a)},p=function(){try{e.resolve(SV(D4t(t.next,r))).then(function(m){try{if(SV(m).done)t.done=!0,i(YEe(void 0,!0));else{var g=m.value;try{var S=n(g,t.counter++),I=function(M){M?i(YEe(g,!1)):p()};L4t(S)?e.resolve(S).then(I,c):I(S)}catch(M){c(M)}}}catch(M){a(M)}},a)}catch(m){a(m)}};p()})});O4t({target:"AsyncIterator",proto:!0,real:!0,forced:q4t},{filter:function(t){return SV(this),P4t(t),new j4t(N4t(this),{predicate:t})}})});var XEe=T(()=>{"use strict";var z4t=re(),F4t=Nv().find;z4t({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return F4t(this,t)}})});var EV=T((cRr,eIe)=>{"use strict";var B4t=zt(),U4t=Rr(),QEe=Ut(),JEe=ji(),V4t=Kp(),G4t=oo(),H4t=br(),W4t=UE(),$4t=H4t("asyncIterator");eIe.exports=function(t){var r=QEe(t),n=!0,i=G4t(r,$4t),o;return U4t(i)||(i=V4t(r),n=!1),i!==void 0?o=B4t(i,r):(o=r,n=!0),QEe(o),JEe(n?o:new W4t(JEe(o)))}});var nIe=T(()=>{"use strict";var Z4t=re(),tIe=zt(),Y4t=Ar(),$E=Ut(),K4t=kr(),X4t=ji(),Q4t=Rv(),rIe=xa(),J4t=EV(),e3t=h_(),t3t=on(),r3t=Q4t(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var a=function(g){t.done=!0,o(g)},c=function(g){e3t(r,a,g,a)},p=function(){try{e.resolve($E(tIe(t.next,r))).then(function(g){try{if($E(g).done)t.done=!0,i(rIe(void 0,!0));else{var S=g.value;try{var I=n(S,t.counter++),M=function(P){try{t.inner=J4t(P),m()}catch(N){c(N)}};K4t(I)?e.resolve(I).then(M,c):M(I)}catch(P){c(P)}}}catch(P){a(P)}},a)}catch(g){a(g)}},m=function(){var g=t.inner;if(g)try{e.resolve($E(tIe(g.next,g.iterator))).then(function(S){try{$E(S).done?(t.inner=null,p()):i(rIe(S.value,!1))}catch(I){c(I)}},c)}catch(S){c(S)}else p()};m()})});Z4t({target:"AsyncIterator",proto:!0,real:!0,forced:t3t},{flatMap:function(t){return $E(this),Y4t(t),new r3t(X4t(this),{mapper:t,inner:null})}})});var iIe=T(()=>{"use strict";var n3t=re(),i3t=Nv().forEach;n3t({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return i3t(this,t)}})});var IV=T((mRr,oIe)=>{"use strict";var o3t=zt(),a3t=Rv();oIe.exports=a3t(function(){return o3t(this.next,this.iterator)},!0)});var aIe=T(()=>{"use strict";var s3t=re(),l3t=an(),u3t=Ja(),c3t=EV(),f3t=d_(),p3t=IV(),d3t=on();s3t({target:"AsyncIterator",stat:!0,forced:d3t},{from:function(t){var r=c3t(typeof t=="string"?l3t(t):t);return u3t(f3t,r.iterator)?r.iterator:new p3t(r)}})});var sIe=T(()=>{"use strict";var h3t=re(),m3t=bV();h3t({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:m3t})});var lIe=T(()=>{"use strict";var g3t=re(),v3t=xV(),y3t=on();g3t({target:"AsyncIterator",proto:!0,real:!0,forced:y3t},{map:v3t})});var uIe=T(()=>{"use strict";var _3t=re(),x3t=zt(),b3t=Ar(),TV=Ut(),w3t=kr(),S3t=Mr(),E3t=ji(),I3t=h_(),CV=S3t("Promise"),T3t=TypeError;_3t({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){TV(this),b3t(t);var r=E3t(this),n=r.iterator,i=r.next,o=arguments.length<2,a=o?void 0:arguments[1],c=0;return new CV(function(p,m){var g=function(I){I3t(n,m,I,m)},S=function(){try{CV.resolve(TV(x3t(i,n))).then(function(I){try{if(TV(I).done)o?m(new T3t("Reduce of empty iterator with no initial value")):p(a);else{var M=I.value;if(o)o=!1,a=M,S();else try{var P=t(a,M,c),N=function(L){a=L,S()};w3t(P)?CV.resolve(P).then(N,g):N(P)}catch(L){g(L)}}c++}catch(L){m(L)}},m)}catch(I){m(I)}};S()})}})});var cIe=T(()=>{"use strict";var C3t=re(),M3t=Nv().some;C3t({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return M3t(this,t)}})});var dIe=T(()=>{"use strict";var A3t=re(),fIe=zt(),pIe=Ut(),O3t=ji(),D3t=WE(),P3t=a_(),L3t=Rv(),MV=xa(),N3t=on(),R3t=L3t(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=MV(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(fIe(n,r,void 0)).then(function(){return i}):i}return e.resolve(fIe(t.next,r)).then(function(o){return pIe(o).done?(t.done=!0,MV(void 0,!0)):MV(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});A3t({target:"AsyncIterator",proto:!0,real:!0,forced:N3t},{take:function(t){pIe(this);var r=P3t(D3t(+t));return new R3t(O3t(this),{remaining:r})}})});var hIe=T(()=>{"use strict";var k3t=re(),q3t=Nv().toArray;k3t({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return q3t(this,void 0,[])}})});var wP=T((ORr,xIe)=>{"use strict";var gIe=Fn(),j3t=nm(),AV=xa(),z3t=po(),F3t=kr(),B3t=qi(),vIe=_r(),ZE="Incorrect Iterator.range arguments",DV="NumericRangeIterator",U3t=gIe.set,yIe=gIe.getterFor(DV),mIe=RangeError,OV=TypeError,_Ie=j3t(function(t,r,n,i,o,a){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new OV(ZE);if(t===1/0||t===-1/0)throw new mIe(ZE);var c=r>t,p=!1,m;if(n===void 0)m=void 0;else if(F3t(n))m=n.step,p=!!n.inclusive;else if(typeof n==i)m=n;else throw new OV(ZE);if(z3t(m)&&(m=c?a:-a),typeof m!=i)throw new OV(ZE);if(m===1/0||m===-1/0||m===o&&t!==r)throw new mIe(ZE);var g=t!==t||r!==r||m!==m||r>t!=m>o;U3t(this,{type:DV,start:t,end:r,step:m,inclusive:p,hitsEnd:g,currentCount:o,zero:o}),vIe||(this.start=t,this.end=r,this.step=m,this.inclusive=p)},DV,function(){var t=yIe(this);if(t.hitsEnd)return AV(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var a=t.inclusive,c;return n>r?c=a?o>n:o>=n:c=a?n>o:n>=o,c?(t.hitsEnd=!0,AV(void 0,!0)):AV(o,!1)}),bP=function(e){B3t(_Ie.prototype,e,{get:function(){return yIe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};vIe&&(bP("start"),bP("end"),bP("inclusive"),bP("step"));xIe.exports=_Ie});var bIe=T(()=>{"use strict";var V3t=re(),G3t=wP();typeof BigInt=="function"&&V3t({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new G3t(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var PV=T((LRr,IIe)=>{"use strict";sD();rP();var EIe=Mr(),H3t=ao(),wIe=kr(),W3t=Object,$3t=TypeError,Z3t=EIe("Map"),Y3t=EIe("WeakMap"),SP=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=H3t(null)};SP.prototype.get=function(e,t){return this[e]||(this[e]=t())};SP.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new Y3t):this.primitives||(this.primitives=new Z3t),i=n.get(t);return i||n.set(t,i=new SP),i};var SIe=new SP;IIe.exports=function(){var e=SIe,t=arguments.length,r,n;for(r=0;r<t;r++)wIe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===W3t&&e===SIe)throw new $3t("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)wIe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var CIe=T(()=>{"use strict";var K3t=re(),X3t=es(),Q3t=PV(),J3t=Mr(),TIe=ao(),ekt=Object,tkt=function(){var e=J3t("Object","freeze");return e?e(TIe(null)):TIe(null)};K3t({global:!0,forced:!0},{compositeKey:function(){return X3t(Q3t,ekt,arguments).get("object",tkt)}})});var AIe=T(()=>{"use strict";var rkt=re(),nkt=PV(),MIe=Mr(),ikt=es();rkt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?MIe("Symbol").for(arguments[0]):ikt(nkt,null,arguments).get("symbol",MIe("Symbol"))}})});var OIe=T(()=>{"use strict";var okt=re(),akt=lt(),skt=GO().unpack,lkt=akt(DataView.prototype.getUint16);okt({target:"DataView",proto:!0},{getFloat16:function(t){var r=lkt(this,t,arguments.length>1?arguments[1]:!1);return skt([r&255,r>>8&255],10)}})});var DIe=T(()=>{"use strict";var ukt=re(),ckt=lt(),fkt=ckt(DataView.prototype.getUint8);ukt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return fkt(this,t)}})});var LV=T((URr,PIe)=>{"use strict";var pkt=PB(),dkt=.0009765625,hkt=65504,mkt=6103515625e-14;PIe.exports=Math.f16round||function(t){return pkt(t,dkt,hkt,mkt)}});var LIe=T(()=>{"use strict";var gkt=re(),vkt=lt(),ykt=ul(),_kt=N1(),xkt=GO().pack,bkt=LV(),wkt=TypeError,Skt=vkt(DataView.prototype.setUint16);gkt({target:"DataView",proto:!0},{setFloat16:function(t,r){if(ykt(this)!=="DataView")throw new wkt("Incorrect receiver");var n=_kt(t),i=xkt(bkt(r),10,2);return Skt(this,n,i[1]<<8|i[0],arguments.length>2?arguments[2]:!1)}})});var NIe=T(()=>{"use strict";var Ekt=re(),Ikt=lt(),Tkt=ul(),Ckt=N1(),Mkt=p9(),Akt=TypeError,Okt=Ikt(DataView.prototype.setUint8);Ekt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){if(Tkt(this)!=="DataView")throw new Akt("Incorrect receiver");var n=Ckt(t);return Okt(this,n,Mkt(r))}})});var zIe=T(()=>{"use strict";var Dkt=re(),IP=_r(),Pkt=Mr(),RIe=Ar(),Lkt=ts(),kIe=Zn(),Nkt=ku(),Rkt=qi(),qIe=br(),jIe=Fn(),NV=dV(),kkt=Pkt("SuppressedError"),qkt=ReferenceError,jkt=qIe("dispose"),zkt=qIe("toStringTag"),CP="DisposableStack",Fkt=jIe.set,TP=jIe.getterFor(CP),RV="sync-dispose",YE="disposed",Bkt="pending",EP=function(e){var t=TP(e);if(t.state===YE)throw new qkt(CP+" already disposed");return t},kV=function(){Fkt(Lkt(this,g_),{type:CP,state:Bkt,stack:[]}),IP||(this.disposed=!1)},g_=kV.prototype;Nkt(g_,{dispose:function(){var t=TP(this);if(t.state!==YE){t.state=YE,IP||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var a=r[--n];r[n]=null;try{a()}catch(c){i?o=new kkt(c,o):(i=!0,o=c)}}if(t.stack=null,i)throw o}},use:function(t){return NV(EP(this),t,RV),t},adopt:function(t,r){var n=EP(this);return RIe(r),NV(n,void 0,RV,function(){r(t)}),t},defer:function(t){var r=EP(this);RIe(t),NV(r,void 0,RV,t)},move:function(){var t=EP(this),r=new kV;return TP(r).stack=t.stack,t.stack=[],t.state=YE,IP||(this.disposed=!0),r}});IP&&Rkt(g_,"disposed",{configurable:!0,get:function(){return TP(this).state===YE}});kIe(g_,jkt,g_.dispose,{name:"dispose"});kIe(g_,zkt,CP,{nonWritable:!0});Dkt({global:!0,constructor:!0},{DisposableStack:kV})});var qV=T((YRr,FIe)=>{"use strict";var Ukt=lt(),Vkt=Ar();FIe.exports=function(){return Ukt(Vkt(this))}});var BIe=T(()=>{"use strict";var Gkt=re(),Hkt=qV();Gkt({target:"Function",proto:!0,forced:!0},{demethodize:Hkt})});var VIe=T(()=>{"use strict";var Wkt=re(),$kt=lt(),Zkt=Rr(),Ykt=jS(),Kkt=Yr(),Xkt=_r(),Qkt=Object.getOwnPropertyDescriptor,UIe=/^\s*class\b/,Jkt=$kt(UIe.exec),eqt=function(e){try{if(!Xkt||!Jkt(UIe,Ykt(e)))return!1}catch(r){}var t=Qkt(e,"prototype");return!!t&&Kkt(t,"writable")&&!t.writable};Wkt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return Zkt(t)&&!eqt(t)}})});var GIe=T(()=>{"use strict";var tqt=re(),rqt=Nc();tqt({target:"Function",stat:!0,forced:!0},{isConstructor:rqt})});var $Ie=T(()=>{"use strict";var nqt=br(),iqt=yi().f,HIe=nqt("metadata"),WIe=Function.prototype;WIe[HIe]===void 0&&iqt(WIe,HIe,{value:null})});var ZIe=T(()=>{"use strict";var oqt=re(),aqt=qV();oqt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:aqt})});var YIe=T(()=>{"use strict";iU()});var eTe=T(()=>{"use strict";var sqt=re(),lqt=er(),uqt=ts(),cqt=Rr(),fqt=mo(),XIe=ho(),pqt=_t(),QIe=Yr(),dqt=br(),ad=xv().IteratorPrototype,hqt=on(),KIe=dqt("toStringTag"),mqt=TypeError,jV=lqt.Iterator,JIe=hqt||!cqt(jV)||jV.prototype!==ad||!pqt(function(){jV({})}),zV=function(){if(uqt(this,ad),fqt(this)===ad)throw new mqt("Abstract class Iterator not directly constructable")};QIe(ad,KIe)||XIe(ad,KIe,"Iterator");(JIe||!QIe(ad,"constructor")||ad.constructor===Object)&&XIe(ad,"constructor",zV);zV.prototype=ad;sqt({global:!0,constructor:!0,forced:JIe},{Iterator:zV})});var kv=T((c4r,aTe)=>{"use strict";var gqt=zt(),vqt=ao(),yqt=ho(),_qt=ku(),xqt=br(),tTe=Fn(),bqt=oo(),wqt=xv().IteratorPrototype,FV=xa(),BV=Xp(),Sqt=xqt("toStringTag"),rTe="IteratorHelper",nTe="WrapForValidIterator",Eqt=tTe.set,iTe=function(e){var t=tTe.getterFor(e?nTe:rTe);return _qt(vqt(wqt),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return FV(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=bqt(n,"return");return i?gqt(i,n):FV(void 0,!0)}if(r.inner)try{BV(r.inner.iterator,"normal")}catch(o){return BV(n,"throw",o)}return BV(n,"normal"),FV(void 0,!0)}})},Iqt=iTe(!0),oTe=iTe(!1);yqt(oTe,Sqt,"Iterator Helper");aTe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?nTe:rTe,o.nextHandler=e,o.counter=0,o.done=!1,Eqt(this,o)};return r.prototype=t?Iqt:oTe,r}});var UV=T((f4r,lTe)=>{"use strict";var Tqt=zt(),Cqt=Ar(),sTe=Ut(),Mqt=ji(),Aqt=kv(),Oqt=LO(),Dqt=Aqt(function(){var e=this.iterator,t=sTe(Tqt(this.next,e)),r=this.done=!!t.done;if(!r)return Oqt(e,this.mapper,[t.value,this.counter++],!0)});lTe.exports=function(t){return sTe(this),Cqt(t),new Dqt(Mqt(this),{mapper:t})}});var VV=T((p4r,uTe)=>{"use strict";var Pqt=zt(),Lqt=UV(),Nqt=function(e,t){return[t,e]};uTe.exports=function(){return Pqt(Lqt,this,Nqt)}});var cTe=T(()=>{"use strict";var Rqt=re(),kqt=VV();Rqt({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:kqt})});var dTe=T(()=>{"use strict";var qqt=zt(),jqt=Zn(),zqt=oo(),Fqt=Yr(),Bqt=br(),fTe=xv().IteratorPrototype,pTe=Bqt("dispose");Fqt(fTe,pTe)||jqt(fTe,pTe,function(){var e=zqt(this,"return");e&&qqt(e,this)})});var mTe=T(()=>{"use strict";var Uqt=re(),hTe=zt(),GV=Ut(),Vqt=ji(),Gqt=WE(),Hqt=a_(),Wqt=kv(),$qt=on(),Zqt=Wqt(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=GV(hTe(t,e)),n=this.done=!!r.done,n)return;if(r=GV(hTe(t,e)),n=this.done=!!r.done,!n)return r.value});Uqt({target:"Iterator",proto:!0,real:!0,forced:$qt},{drop:function(t){GV(this);var r=Hqt(Gqt(+t));return new Zqt(Vqt(this),{remaining:r})}})});var gTe=T(()=>{"use strict";var Yqt=re(),Kqt=Ki(),Xqt=Ar(),Qqt=Ut(),Jqt=ji();Yqt({target:"Iterator",proto:!0,real:!0},{every:function(t){Qqt(this),Xqt(t);var r=Jqt(this),n=0;return!Kqt(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var yTe=T(()=>{"use strict";var ejt=re(),tjt=zt(),rjt=Ar(),vTe=Ut(),njt=ji(),ijt=kv(),ojt=LO(),ajt=on(),sjt=ijt(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=vTe(tjt(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,ojt(e,t,[o,this.counter++],!0))return o}});ejt({target:"Iterator",proto:!0,real:!0,forced:ajt},{filter:function(t){return vTe(this),rjt(t),new sjt(njt(this),{predicate:t})}})});var _Te=T(()=>{"use strict";var ljt=re(),ujt=Ki(),cjt=Ar(),fjt=Ut(),pjt=ji();ljt({target:"Iterator",proto:!0,real:!0},{find:function(t){fjt(this),cjt(t);var r=pjt(this),n=0;return ujt(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var HV=T((I4r,bTe)=>{"use strict";var djt=zt(),xTe=Ut(),hjt=ji(),mjt=Kp();bTe.exports=function(e,t){(!t||typeof e!="string")&&xTe(e);var r=mjt(e);return hjt(xTe(r!==void 0?djt(r,e):e))}});var ETe=T(()=>{"use strict";var gjt=re(),wTe=zt(),vjt=Ar(),WV=Ut(),yjt=ji(),_jt=HV(),xjt=kv(),STe=Xp(),bjt=on(),wjt=xjt(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=WV(wTe(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){STe(e,"throw",i)}if(r=WV(wTe(this.next,e)),this.done=!!r.done)return;try{this.inner=_jt(t(r.value,this.counter++),!1)}catch(i){STe(e,"throw",i)}}});gjt({target:"Iterator",proto:!0,real:!0,forced:bjt},{flatMap:function(t){return WV(this),vjt(t),new wjt(yjt(this),{mapper:t,inner:null})}})});var ITe=T(()=>{"use strict";var Sjt=re(),Ejt=Ki(),Ijt=Ar(),Tjt=Ut(),Cjt=ji();Sjt({target:"Iterator",proto:!0,real:!0},{forEach:function(t){Tjt(this),Ijt(t);var r=Cjt(this),n=0;Ejt(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var TTe=T(()=>{"use strict";var Mjt=re(),Ajt=zt(),Ojt=an(),Djt=Ja(),Pjt=xv().IteratorPrototype,Ljt=kv(),Njt=HV(),Rjt=on(),kjt=Ljt(function(){return Ajt(this.next,this.iterator)},!0);Mjt({target:"Iterator",stat:!0,forced:Rjt},{from:function(t){var r=Njt(typeof t=="string"?Ojt(t):t,!0);return Djt(Pjt,r.iterator)?r.iterator:new kjt(r)}})});var CTe=T(()=>{"use strict";var qjt=re(),jjt=VV();qjt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:jjt})});var MTe=T(()=>{"use strict";var zjt=re(),Fjt=UV(),Bjt=on();zjt({target:"Iterator",proto:!0,real:!0,forced:Bjt},{map:Fjt})});var OTe=T(()=>{"use strict";var Ujt=re(),ATe=wP(),Vjt=TypeError;Ujt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new ATe(t,r,n,"number",0,1);if(typeof t=="bigint")return new ATe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new Vjt("Incorrect Iterator.range arguments")}})});var DTe=T(()=>{"use strict";var Gjt=re(),Hjt=Ki(),Wjt=Ar(),$jt=Ut(),Zjt=ji(),Yjt=TypeError;Gjt({target:"Iterator",proto:!0,real:!0},{reduce:function(t){$jt(this),Wjt(t);var r=Zjt(this),n=arguments.length<2,i=n?void 0:arguments[1],o=0;if(Hjt(r,function(a){n?(n=!1,i=a):i=t(i,a,o),o++},{IS_RECORD:!0}),n)throw new Yjt("Reduce of empty iterator with no initial value");return i}})});var PTe=T(()=>{"use strict";var Kjt=re(),Xjt=Ki(),Qjt=Ar(),Jjt=Ut(),ezt=ji();Kjt({target:"Iterator",proto:!0,real:!0},{some:function(t){Jjt(this),Qjt(t);var r=ezt(this),n=0;return Xjt(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var NTe=T(()=>{"use strict";var tzt=re(),rzt=zt(),LTe=Ut(),nzt=ji(),izt=WE(),ozt=a_(),azt=kv(),szt=Xp(),lzt=on(),uzt=azt(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,szt(e,"normal",void 0);var t=LTe(rzt(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});tzt({target:"Iterator",proto:!0,real:!0,forced:lzt},{take:function(t){LTe(this);var r=ozt(izt(+t));return new uzt(nzt(this),{remaining:r})}})});var RTe=T(()=>{"use strict";var czt=re(),fzt=Ut(),pzt=Ki(),dzt=ji(),hzt=[].push;czt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return pzt(dzt(fzt(this)),hzt,{that:t,IS_RECORD:!0}),t}})});var qTe=T(()=>{"use strict";var mzt=re(),gzt=Ut(),vzt=UE(),yzt=IV(),kTe=ji(),_zt=on();mzt({target:"Iterator",proto:!0,real:!0,forced:_zt},{toAsync:function(){return new yzt(kTe(new vzt(kTe(gzt(this)))))}})});var $V=T((Z4r,jTe)=>{"use strict";var xzt=_t();jTe.exports=!xzt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var ZV=T((Y4r,zTe)=>{"use strict";var bzt=kr(),wzt=Fn().get;zTe.exports=function(t){if(!bzt(t))return!1;var r=wzt(t);return!!r&&r.type==="RawJSON"}});var FTe=T(()=>{"use strict";var Szt=re(),Ezt=$V(),Izt=ZV();Szt({target:"JSON",stat:!0,forced:!Ezt},{isRawJSON:Izt})});var KV=T((Q4r,GTe)=>{"use strict";var YV=lt(),Tzt=Yr(),MP=SyntaxError,Czt=parseInt,Mzt=String.fromCharCode,Azt=YV("".charAt),BTe=YV("".slice),UTe=YV(/./.exec),VTe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},Ozt=/^[\da-f]{4}$/i,Dzt=/^[\u0000-\u001F]$/;GTe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=Azt(e,t);if(i==="\\"){var o=BTe(e,t,t+2);if(Tzt(VTe,o))n+=VTe[o],t+=2;else if(o==="\\u"){t+=2;var a=BTe(e,t,t+4);if(!UTe(Ozt,a))throw new MP("Bad Unicode escape at: "+t);n+=Mzt(Czt(a,16)),t+=4}else throw new MP("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(UTe(Dzt,i))throw new MP("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new MP("Unterminated string at: "+t);return{value:n,end:t}}});var QTe=T(()=>{"use strict";var Pzt=re(),Lzt=_r(),iG=er(),Nzt=Mr(),AP=lt(),Rzt=zt(),KTe=Rr(),kzt=kr(),qzt=Lc(),jzt=Yr(),zzt=Pr(),HTe=fn(),tG=Pu(),XTe=_t(),Fzt=KV(),Bzt=Kh(),WTe=iG.JSON,Uzt=iG.Number,v_=iG.SyntaxError,oG=WTe&&WTe.parse,Vzt=Nzt("Object","keys"),Gzt=Object.getOwnPropertyDescriptor,ba=AP("".charAt),XV=AP("".slice),QV=AP(/./.exec),$Te=AP([].push),JV=/^\d$/,Hzt=/^[1-9]$/,Wzt=/^(?:-|\d)$/,KE=/^[\t\n\r ]$/,eG=0,ZTe=1,$zt=function(e,t){e=zzt(e);var r=new nG(e,0,""),n=r.parse(),i=n.value,o=r.skip(KE,n.end);if(o<e.length)throw new v_("Unexpected extra character: \""+ba(e,o)+"\" after the parsed data at: "+o);return KTe(t)?rG({"":i},"",t,n):i},rG=function(e,t,r,n){var i=e[t],o=n&&i===n.value,a=o&&typeof n.source=="string"?{source:n.source}:{},c,p,m,g,S;if(kzt(i)){var I=qzt(i),M=o?n.nodes:I?[]:{};if(I)for(c=M.length,m=HTe(i),g=0;g<m;g++)YTe(i,g,rG(i,""+g,r,g<c?M[g]:void 0));else for(p=Vzt(i),m=HTe(p),g=0;g<m;g++)S=p[g],YTe(i,S,rG(i,S,r,jzt(M,S)?M[S]:void 0))}return Rzt(r,e,t,i,a)},YTe=function(e,t,r){if(Lzt){var n=Gzt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:tG(e,t,r)},Zzt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},nG=function(e,t){this.source=e,this.index=t};nG.prototype={fork:function(e){return new nG(this.source,e)},parse:function(){var e=this.source,t=this.skip(KE,this.index),r=this.fork(t),n=ba(e,t);if(QV(Wzt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null);}throw new v_("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new Zzt(t,n,e?null:XV(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),ba(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),a=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(KE,t),o=this.fork(t).parse(),tG(i,a,o),tG(n,a,o.value),t=this.until([",","}"],o.end);var c=ba(e,t);if(c===",")r=!0,t++;else if(c==="}"){t++;break}}return this.node(ZTe,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(KE,t),ba(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if($Te(i,o),$Te(n,o.value),t=this.until([",","]"],o.end),ba(e,t)===",")r=!0,t++;else if(ba(e,t)==="]"){t++;break}}return this.node(ZTe,n,this.index,t,i)},string:function(){var e=this.index,t=Fzt(this.source,this.index+1);return this.node(eG,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(ba(e,r)==="-"&&r++,ba(e,r)==="0")r++;else if(QV(Hzt,ba(e,r)))r=this.skip(JV,++r);else throw new v_("Failed to parse number at: "+r);if(ba(e,r)==="."&&(r=this.skip(JV,++r)),ba(e,r)==="e"||ba(e,r)==="E"){r++,(ba(e,r)==="+"||ba(e,r)==="-")&&r++;var n=r;if(r=this.skip(JV,r),n===r)throw new v_("Failed to parse number's exponent value at: "+r)}return this.node(eG,Uzt(XV(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(XV(this.source,r,n)!==t)throw new v_("Failed to parse value at: "+r);return this.node(eG,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&QV(e,ba(r,t));t++);return t},until:function(e,t){t=this.skip(KE,t);for(var r=ba(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new v_("Unexpected character: \""+r+"\" at: "+t)}};var Yzt=XTe(function(){var e="9007199254740993",t;return oG(e,function(r,n,i){t=i.source}),t!==e}),Kzt=Bzt&&!XTe(function(){return 1/oG("-0 \t")!==-1/0});Pzt({target:"JSON",stat:!0,forced:Yzt},{parse:function(t,r){return Kzt&&!KTe(r)?oG(t):$zt(t,r)}})});var s2e=T(()=>{"use strict";var o2e=re(),Xzt=nd(),a2e=$V(),OP=Mr(),Qzt=zt(),DP=lt(),Jzt=Rr(),e6t=ZV(),t6t=Pr(),r6t=Pu(),n6t=KV(),i6t=R8(),o6t=Qh(),a6t=Fn().set,s6t=String,JTe=SyntaxError,l6t=OP("JSON","parse"),e2e=OP("JSON","stringify"),u6t=OP("Object","create"),c6t=OP("Object","freeze"),sG=DP("".charAt),aG=DP("".slice),t2e=DP(/./.exec),f6t=DP([].push),lG=o6t(),r2e=lG.length,n2e="Unacceptable as raw JSON",i2e=/^[\t\n\r ]$/;o2e({target:"JSON",stat:!0,forced:!a2e},{rawJSON:function(t){var r=t6t(t);if(r===""||t2e(i2e,sG(r,0))||t2e(i2e,sG(r,r.length-1)))throw new JTe(n2e);var n=l6t(r);if(typeof n=="object"&&n!==null)throw new JTe(n2e);var i=u6t(null);return a6t(i,{type:"RawJSON"}),r6t(i,"rawJSON",r),Xzt?c6t(i):i}});e2e&&o2e({target:"JSON",stat:!0,arity:3,forced:!a2e},{stringify:function(t,r,n){var i=i6t(r),o=[],a=e2e(t,function(M,P){var N=Jzt(i)?Qzt(i,this,s6t(M),P):P;return e6t(N)?lG+(f6t(o,N.rawJSON)-1):N},n);if(typeof a!="string")return a;for(var c="",p=a.length,m=0;m<p;m++){var g=sG(a,m);if(g==="\""){var S=n6t(a,++m).end-1,I=aG(a,m,S);c+=aG(I,0,r2e)===lG?o[aG(I,r2e)]:"\""+I+"\"",m=S}else c+=g}return c}})});var Ps=T((n3r,l2e)=>{"use strict";var p6t=Ds().has;l2e.exports=function(e){return p6t(e),e}});var u2e=T(()=>{"use strict";var d6t=re(),h6t=Ps(),m6t=Ds().remove;d6t({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=h6t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=m6t(t,arguments[i]),r=r&&n;return!!r}})});var f2e=T(()=>{"use strict";var g6t=re(),v6t=Ps(),uG=Ds(),y6t=uG.get,_6t=uG.has,c2e=uG.set;g6t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=v6t(this),i,o;return _6t(n,t)?(i=y6t(n,t),"update"in r&&(i=r.update(i,t,n),c2e(n,t,i)),i):(o=r.insert(t,n),c2e(n,t,o),o)}})});var p2e=T(()=>{"use strict";var x6t=re(),b6t=oi(),w6t=Ps(),S6t=zu();x6t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=w6t(this),n=b6t(t,arguments.length>1?arguments[1]:void 0);return S6t(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var h2e=T(()=>{"use strict";var E6t=re(),I6t=oi(),T6t=Ps(),d2e=Ds(),C6t=zu(),M6t=d2e.Map,A6t=d2e.set;E6t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=T6t(this),n=I6t(t,arguments.length>1?arguments[1]:void 0),i=new M6t;return C6t(r,function(o,a){n(o,a,r)&&A6t(i,a,o)}),i}})});var m2e=T(()=>{"use strict";var O6t=re(),D6t=oi(),P6t=Ps(),L6t=zu();O6t({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=P6t(this),n=D6t(t,arguments.length>1?arguments[1]:void 0),i=L6t(r,function(o,a){if(n(o,a,r))return{value:o}},!0);return i&&i.value}})});var g2e=T(()=>{"use strict";var N6t=re(),R6t=oi(),k6t=Ps(),q6t=zu();N6t({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=k6t(this),n=R6t(t,arguments.length>1?arguments[1]:void 0),i=q6t(r,function(o,a){if(n(o,a,r))return{key:a}},!0);return i&&i.key}})});var XE=T((g3r,_2e)=>{"use strict";var j6t=oi(),z6t=zt(),F6t=Ar(),B6t=F1(),U6t=po(),v2e=Ki(),y2e=[].push;_2e.exports=function(t){var r=arguments.length,n=r>1?arguments[1]:void 0,i,o,a,c;return B6t(this),i=n!==void 0,i&&F6t(n),U6t(t)?new this:(o=[],i?(a=0,c=j6t(n,r>2?arguments[2]:void 0),v2e(t,function(p){z6t(y2e,o,c(p,a++))})):v2e(t,y2e,{that:o}),new this(o))}});var x2e=T(()=>{"use strict";var V6t=re(),G6t=XE();V6t({target:"Map",stat:!0,forced:!0},{from:G6t})});var b2e=T(()=>{"use strict";var H6t=re(),W6t=lt(),$6t=Ar(),Z6t=Ci(),Y6t=Ki(),PP=Ds(),K6t=on(),X6t=PP.Map,Q6t=PP.has,J6t=PP.get,eFt=PP.set,tFt=W6t([].push);H6t({target:"Map",stat:!0,forced:K6t},{groupBy:function(t,r){Z6t(t),$6t(r);var n=new X6t,i=0;return Y6t(t,function(o){var a=r(o,i++);Q6t(n,a)?tFt(J6t(n,a),o):eFt(n,a,[o])}),n}})});var S2e=T((b3r,w2e)=>{"use strict";w2e.exports=function(e,t){return e===t||e!==e&&t!==t}});var E2e=T(()=>{"use strict";var rFt=re(),nFt=S2e(),iFt=Ps(),oFt=zu();rFt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return oFt(iFt(this),function(r){if(nFt(r,t))return!0},!0)===!0}})});var T2e=T(()=>{"use strict";var aFt=re(),sFt=zt(),lFt=Ki(),uFt=Rr(),I2e=Ar(),cFt=Ds().Map;aFt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=uFt(this)?this:cFt,i=new n;I2e(r);var o=I2e(i.set);return lFt(t,function(a){sFt(o,i,r(a),a)}),i}})});var C2e=T(()=>{"use strict";var fFt=re(),pFt=Ps(),dFt=zu();fFt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=dFt(pFt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var A2e=T(()=>{"use strict";var hFt=re(),mFt=oi(),gFt=Ps(),M2e=Ds(),vFt=zu(),yFt=M2e.Map,_Ft=M2e.set;hFt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=gFt(this),n=mFt(t,arguments.length>1?arguments[1]:void 0),i=new yFt;return vFt(r,function(o,a){_Ft(i,n(o,a,r),o)}),i}})});var D2e=T(()=>{"use strict";var xFt=re(),bFt=oi(),wFt=Ps(),O2e=Ds(),SFt=zu(),EFt=O2e.Map,IFt=O2e.set;xFt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=wFt(this),n=bFt(t,arguments.length>1?arguments[1]:void 0),i=new EFt;return SFt(r,function(o,a){IFt(i,a,n(o,a,r))}),i}})});var P2e=T(()=>{"use strict";var TFt=re(),CFt=Ps(),MFt=Ki(),AFt=Ds().set;TFt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=CFt(this),n=arguments.length,i=0;i<n;)MFt(arguments[i++],function(o,a){AFt(r,o,a)},{AS_ENTRIES:!0});return r}})});var QE=T((N3r,L2e)=>{"use strict";var OFt=Zp();L2e.exports=function(){return new this(OFt(arguments))}});var N2e=T(()=>{"use strict";var DFt=re(),PFt=QE();DFt({target:"Map",stat:!0,forced:!0},{of:PFt})});var R2e=T(()=>{"use strict";var LFt=re(),NFt=Ar(),RFt=Ps(),kFt=zu(),qFt=TypeError;LFt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=RFt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(NFt(t),kFt(r,function(o,a){n?(n=!1,i=o):i=t(i,o,a,r)}),n)throw new qFt("Reduce of empty map with no initial value");return i}})});var k2e=T(()=>{"use strict";var jFt=re(),zFt=oi(),FFt=Ps(),BFt=zu();jFt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=FFt(this),n=zFt(t,arguments.length>1?arguments[1]:void 0);return BFt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var j2e=T(()=>{"use strict";var UFt=re(),q2e=Ar(),VFt=Ps(),cG=Ds(),GFt=TypeError,HFt=cG.get,WFt=cG.has,$Ft=cG.set;UFt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=VFt(this),i=arguments.length;q2e(r);var o=WFt(n,t);if(!o&&i<3)throw new GFt("Updating absent value");var a=o?HFt(n,t):q2e(i>2?arguments[2]:void 0)(t,n);return $Ft(n,t,r(a,t,n)),n}})});var RP=T((V3r,z2e)=>{"use strict";var LP=zt(),fG=Ar(),NP=Rr(),ZFt=Ut(),YFt=TypeError;z2e.exports=function(t,r){var n=ZFt(this),i=fG(n.get),o=fG(n.has),a=fG(n.set),c=arguments.length>2?arguments[2]:void 0,p;if(!NP(r)&&!NP(c))throw new YFt("At least one callback required");return LP(o,n,t)?(p=LP(i,n,t),NP(r)&&(p=r(p),LP(a,n,t,p))):NP(c)&&(p=c(),LP(a,n,t,p)),p}});var F2e=T(()=>{"use strict";var KFt=re(),XFt=RP();KFt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:XFt})});var B2e=T(()=>{"use strict";var QFt=re(),JFt=RP();QFt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:JFt})});var U2e=T(()=>{"use strict";var e8t=re(),t8t=Math.min,r8t=Math.max;e8t({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){return t8t(n,r8t(r,t))}})});var V2e=T(()=>{"use strict";var n8t=re();n8t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var G2e=T(()=>{"use strict";var i8t=re(),o8t=180/Math.PI;i8t({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*o8t}})});var pG=T((ekr,H2e)=>{"use strict";H2e.exports=Math.scale||function(t,r,n,i,o){var a=+t,c=+r,p=+n,m=+i,g=+o;return a!==a||c!==c||p!==p||m!==m||g!==g?NaN:a===1/0||a===-1/0?a:(a-c)*(g-m)/(p-c)+m}});var W2e=T(()=>{"use strict";var a8t=re(),s8t=pG(),l8t=VO();a8t({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return l8t(s8t(t,r,n,i,o))}})});var $2e=T(()=>{"use strict";var u8t=re(),c8t=LV();u8t({target:"Math",stat:!0},{f16round:c8t})});var Z2e=T(()=>{"use strict";var f8t=re();f8t({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,a=r>>>0,c=n>>>0;return a+(i>>>0)+((o&c|(o|c)&~(o+c>>>0))>>>31)|0}})});var Y2e=T(()=>{"use strict";var p8t=re();p8t({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,a=i&n,c=o&n,p=i>>16,m=o>>16,g=(p*c>>>0)+(a*c>>>16);return p*m+(g>>16)+((a*m>>>0)+(g&n)>>16)}})});var K2e=T(()=>{"use strict";var d8t=re();d8t({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,a=r>>>0,c=n>>>0;return a-(i>>>0)-((~o&c|~(o^c)&o-c>>>0)>>>31)|0}})});var X2e=T(()=>{"use strict";var h8t=re();h8t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var Q2e=T(()=>{"use strict";var m8t=re(),g8t=Math.PI/180;m8t({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*g8t}})});var J2e=T(()=>{"use strict";var v8t=re(),y8t=pG();v8t({target:"Math",stat:!0,forced:!0},{scale:y8t})});var nCe=T(()=>{"use strict";var _8t=re(),x8t=Ut(),b8t=wU(),w8t=nm(),S8t=xa(),eCe=Fn(),tCe="Seeded Random",rCe=tCe+" Generator",E8t="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",I8t=eCe.set,T8t=eCe.getterFor(rCe),C8t=TypeError,M8t=w8t(function(t){I8t(this,{type:rCe,seed:t%2147483647})},tCe,function(){var t=T8t(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return S8t((r&1073741823)/1073741823,!1)});_8t({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=x8t(t).seed;if(!b8t(r))throw new C8t(E8t);return new M8t(r)}})});var iCe=T(()=>{"use strict";var A8t=re();A8t({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var oCe=T(()=>{"use strict";var O8t=re();O8t({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,a=i&n,c=o&n,p=i>>>16,m=o>>>16,g=(p*c>>>0)+(a*c>>>16);return p*m+(g>>>16)+((a*m>>>0)+(g&n)>>>16)}})});var sCe=T(()=>{"use strict";var D8t=re(),qP=lt(),P8t=Mi(),L8t=pD(),kP="Invalid number representation",N8t="Invalid radix",R8t=RangeError,dG=SyntaxError,k8t=TypeError,aCe=/^[\da-z]+$/,q8t=qP("".charAt),j8t=qP(aCe.exec),z8t=qP(1 .toString),F8t=qP("".slice);D8t({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1,i,o;if(typeof t!="string")throw new k8t(kP);if(!t.length)throw new dG(kP);if(q8t(t,0)==="-"&&(n=-1,t=F8t(t,1),!t.length))throw new dG(kP);if(i=r===void 0?10:P8t(r),i<2||i>36)throw new R8t(N8t);if(!j8t(aCe,t)||z8t(o=L8t(t,i),i)!==t)throw new dG(kP);return n*o}})});var lCe=T(()=>{"use strict";var B8t=re(),U8t=wP();B8t({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new U8t(t,r,n,"number",0,1)}})});var uCe=T(()=>{"use strict";LU()});var zP=T((Akr,pCe)=>{"use strict";var cCe=Fn(),V8t=nm(),jP=xa(),G8t=Yr(),H8t=fv(),W8t=an(),fCe="Object Iterator",$8t=cCe.set,Z8t=cCe.getterFor(fCe);pCe.exports=V8t(function(t,r){var n=W8t(t);$8t(this,{type:fCe,mode:r,object:n,keys:H8t(n),index:0})},"Object",function(){for(var t=Z8t(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,jP(void 0,!0);var n=r[t.index++],i=t.object;if(G8t(i,n)){switch(t.mode){case"keys":return jP(n,!1);case"values":return jP(i[n],!1);}return jP([n,i[n]],!1)}}})});var dCe=T(()=>{"use strict";var Y8t=re(),K8t=zP();Y8t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new K8t(t,"entries")}})});var hCe=T(()=>{"use strict";var X8t=re(),Q8t=zP();X8t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new Q8t(t,"keys")}})});var mCe=T(()=>{"use strict";var J8t=re(),eBt=zP();J8t({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new eBt(t,"values")}})});var gCe=T(()=>{"use strict";var tBt=re(),rBt=Mr(),nBt=lt(),iBt=Ar(),oBt=Ci(),aBt=Dc(),sBt=Ki(),lBt=rBt("Object","create"),uBt=nBt([].push);tBt({target:"Object",stat:!0},{groupBy:function(t,r){oBt(t),iBt(r);var n=lBt(null),i=0;return sBt(t,function(o){var a=aBt(r(o,i++));a in n?uBt(n[a],o):n[a]=[o]}),n}})});var TCe=T(()=>{"use strict";var cBt=re(),FP=zt(),JE=_r(),fBt=om(),vCe=Ar(),pBt=Ut(),dBt=ts(),yCe=Rr(),hBt=po(),mBt=kr(),BP=oo(),gBt=Zn(),hG=ku(),_Ce=qi(),y_=t7(),vBt=br(),xCe=Fn(),yBt=vBt("observable"),mG="Observable",bCe="Subscription",wCe="SubscriptionObserver",gG=xCe.getterFor,vG=xCe.set,_Bt=gG(mG),SCe=gG(bCe),UP=gG(wCe),ECe=function(e){this.observer=pBt(e),this.cleanup=void 0,this.subscriptionObserver=void 0};ECe.prototype={type:bCe,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){y_(t)}}},close:function(){if(!JE){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var yG=function(e,t){var r=vG(this,new ECe(e)),n;JE||(this.closed=!1);try{(n=BP(e,"start"))&&FP(n,e,this)}catch(c){y_(c)}if(!r.isClosed()){var i=r.subscriptionObserver=new _G(r);try{var o=t(i),a=o;hBt(o)||(r.cleanup=yCe(o.unsubscribe)?function(){a.unsubscribe()}:vCe(o))}catch(c){i.error(c);return}r.isClosed()&&r.clean()}};yG.prototype=hG({},{unsubscribe:function(){var t=SCe(this);t.isClosed()||(t.close(),t.clean())}});JE&&_Ce(yG.prototype,"closed",{configurable:!0,get:function(){return SCe(this).isClosed()}});var _G=function(e){vG(this,{type:wCe,subscriptionState:e}),JE||(this.closed=!1)};_G.prototype=hG({},{next:function(t){var r=UP(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=BP(n,"next");i&&FP(i,n,t)}catch(o){y_(o)}}},error:function(t){var r=UP(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=BP(n,"error");i?FP(i,n,t):y_(t)}catch(o){y_(o)}r.clean()}},complete:function(){var t=UP(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=BP(r,"complete");n&&FP(n,r)}catch(i){y_(i)}t.clean()}}});JE&&_Ce(_G.prototype,"closed",{configurable:!0,get:function(){return UP(this).subscriptionState.isClosed()}});var ICe=function(t){dBt(this,xG),vG(this,{type:mG,subscriber:vCe(t)})},xG=ICe.prototype;hG(xG,{subscribe:function(t){var r=arguments.length;return new yG(yCe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:mBt(t)?t:{},_Bt(this).subscriber)}});gBt(xG,yBt,function(){return this});cBt({global:!0,constructor:!0,forced:!0},{Observable:ICe});fBt(mG)});var MCe=T(()=>{"use strict";var xBt=re(),bBt=Mr(),wBt=zt(),CCe=Ut(),SBt=Nc(),EBt=tm(),IBt=oo(),TBt=Ki(),CBt=br(),MBt=CBt("observable");xBt({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=SBt(this)?this:bBt("Observable"),n=IBt(CCe(t),MBt);if(n){var i=CCe(wBt(n,t));return i.constructor===r?i:new r(function(a){return i.subscribe(a)})}var o=EBt(t);return new r(function(a){TBt(o,function(c,p){if(a.next(c),a.closed)return p()},{IS_ITERATOR:!0,INTERRUPTED:!0}),a.complete()})}})});var OCe=T(()=>{"use strict";var ABt=re(),ACe=Mr(),OBt=Nc(),DBt=ACe("Array");ABt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=OBt(this)?this:ACe("Observable"),r=arguments.length,n=DBt(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var a=0;a<r;a++)if(o.next(n[a]),o.closed)return;o.complete()})}})});var DCe=T(()=>{"use strict";TCe();MCe();OCe()});var PCe=T(()=>{"use strict";g7()});var LCe=T(()=>{"use strict";v7()});var NCe=T(()=>{"use strict";var PBt=re(),LBt=Of(),NBt=pm();PBt({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=LBt.f(this),r=NBt(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})});var RCe=T(()=>{"use strict";var RBt=re(),kBt=Of();RBt({target:"Promise",stat:!0},{withResolvers:function(){var t=kBt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var Nf=T((eqr,zCe)=>{"use strict";sD();rP();var jCe=Mr(),qBt=lt(),jBt=Ef(),kCe=jCe("Map"),zBt=jCe("WeakMap"),FBt=qBt([].push),qCe=jBt("metadata"),bG=qCe.store||(qCe.store=new zBt),eI=function(e,t,r){var n=bG.get(e);if(!n){if(!r)return;bG.set(e,n=new kCe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new kCe)}return i},BBt=function(e,t,r){var n=eI(t,r,!1);return n===void 0?!1:n.has(e)},UBt=function(e,t,r){var n=eI(t,r,!1);return n===void 0?void 0:n.get(e)},VBt=function(e,t,r,n){eI(r,n,!0).set(e,t)},GBt=function(e,t){var r=eI(e,t,!1),n=[];return r&&r.forEach(function(i,o){FBt(n,o)}),n},HBt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};zCe.exports={store:bG,getMap:eI,has:BBt,get:UBt,set:VBt,keys:GBt,toKey:HBt}});var BCe=T(()=>{"use strict";var WBt=re(),FCe=Nf(),$Bt=Ut(),ZBt=FCe.toKey,YBt=FCe.set;WBt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:ZBt(arguments[3]);YBt(t,r,$Bt(n),i)}})});var VCe=T(()=>{"use strict";var KBt=re(),wG=Nf(),XBt=Ut(),QBt=wG.toKey,JBt=wG.getMap,UCe=wG.store;KBt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:QBt(arguments[2]),i=JBt(XBt(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=UCe.get(r);return o.delete(n),!!o.size||UCe.delete(r)}})});var HCe=T(()=>{"use strict";var eUt=re(),SG=Nf(),tUt=Ut(),rUt=mo(),nUt=SG.has,iUt=SG.get,oUt=SG.toKey,GCe=function(e,t,r){var n=nUt(e,t,r);if(n)return iUt(e,t,r);var i=rUt(t);return i!==null?GCe(e,i,r):void 0};eUt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:oUt(arguments[2]);return GCe(t,tUt(r),n)}})});var YCe=T(()=>{"use strict";var aUt=re(),WCe=lt(),$Ce=Nf(),sUt=Ut(),lUt=mo(),uUt=cP(),cUt=WCe(uUt),fUt=WCe([].concat),pUt=$Ce.keys,dUt=$Ce.toKey,ZCe=function(e,t){var r=pUt(e,t),n=lUt(e);if(n===null)return r;var i=ZCe(n,t);return i.length?r.length?cUt(fUt(r,i)):i:r};aUt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:dUt(arguments[1]);return ZCe(sUt(t),r)}})});var XCe=T(()=>{"use strict";var hUt=re(),KCe=Nf(),mUt=Ut(),gUt=KCe.get,vUt=KCe.toKey;hUt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:vUt(arguments[2]);return gUt(t,mUt(r),n)}})});var JCe=T(()=>{"use strict";var yUt=re(),QCe=Nf(),_Ut=Ut(),xUt=QCe.keys,bUt=QCe.toKey;yUt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:bUt(arguments[1]);return xUt(_Ut(t),r)}})});var rMe=T(()=>{"use strict";var wUt=re(),eMe=Nf(),SUt=Ut(),EUt=mo(),IUt=eMe.has,TUt=eMe.toKey,tMe=function(e,t,r){var n=IUt(e,t,r);if(n)return!0;var i=EUt(t);return i!==null?tMe(e,i,r):!1};wUt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:TUt(arguments[2]);return tMe(t,SUt(r),n)}})});var iMe=T(()=>{"use strict";var CUt=re(),nMe=Nf(),MUt=Ut(),AUt=nMe.has,OUt=nMe.toKey;CUt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:OUt(arguments[2]);return AUt(t,MUt(r),n)}})});var aMe=T(()=>{"use strict";var DUt=re(),oMe=Nf(),PUt=Ut(),LUt=oMe.toKey,NUt=oMe.set;DUt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){NUt(t,r,PUt(i),LUt(o))}}})});var lMe=T(()=>{"use strict";var RUt=re(),sMe=lt(),kUt=Pr(),qUt=Iv(),jUt=sMe("".charCodeAt),zUt=sMe("".replace),FUt=RegExp("[!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~"+qUt+"]","g");RUt({target:"RegExp",stat:!0,forced:!0},{escape:function(t){var r=kUt(t),n=jUt(r,0);return(n>47&&n<58?"\\x3":"")+zUt(r,FUt,"\\$&")}})});var rs=T((bqr,uMe)=>{"use strict";var EG=lt(),VP=Set.prototype;uMe.exports={Set,add:EG(VP.add),has:EG(VP.has),remove:EG(VP.delete),proto:VP}});var wa=T((wqr,cMe)=>{"use strict";var BUt=rs().has;cMe.exports=function(e){return BUt(e),e}});var fMe=T(()=>{"use strict";var UUt=re(),VUt=wa(),GUt=rs().add;UUt({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=VUt(this),r=0,n=arguments.length;r<n;r++)GUt(t,arguments[r]);return t}})});var pMe=T(()=>{"use strict";var HUt=re(),WUt=wa(),$Ut=rs().remove;HUt({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=WUt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=$Ut(t,arguments[i]),r=r&&n;return!!r}})});var eu=T((Cqr,vMe)=>{"use strict";var dMe=lt(),ZUt=od(),hMe=rs(),YUt=hMe.Set,mMe=hMe.proto,KUt=dMe(mMe.forEach),gMe=dMe(mMe.keys),XUt=gMe(new YUt).next;vMe.exports=function(e,t,r){return r?ZUt({iterator:gMe(e),next:XUt},t):KUt(e,t)}});var GP=T((Mqr,_Me)=>{"use strict";var yMe=rs(),QUt=eu(),JUt=yMe.Set,e7t=yMe.add;_Me.exports=function(e){var t=new JUt;return QUt(e,function(r){e7t(t,r)}),t}});var __=T((Aqr,xMe)=>{"use strict";var t7t=XS(),r7t=rs();xMe.exports=t7t(r7t.proto,"size","get")||function(e){return e.size}});var vm=T((Oqr,TMe)=>{"use strict";var bMe=Ar(),EMe=Ut(),wMe=zt(),n7t=Mi(),i7t=ji(),SMe="Invalid size",o7t=RangeError,a7t=TypeError,s7t=Math.max,IMe=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};IMe.prototype={getIterator:function(){return i7t(EMe(wMe(this.keys,this.set)))},includes:function(e){return wMe(this.has,this.set,e)}};TMe.exports=function(e){EMe(e);var t=+e.size;if(t!==t)throw new a7t(SMe);var r=n7t(t);if(r<0)throw new o7t(SMe);return new IMe(e,s7t(r,0),bMe(e.has),bMe(e.keys))}});var IG=T((Dqr,AMe)=>{"use strict";var l7t=wa(),MMe=rs(),u7t=GP(),c7t=__(),f7t=vm(),p7t=eu(),d7t=od(),h7t=MMe.has,CMe=MMe.remove;AMe.exports=function(t){var r=l7t(this),n=f7t(t),i=u7t(r);return c7t(r)<=n.size?p7t(r,function(o){n.includes(o)&&CMe(i,o)}):d7t(n.getIterator(),function(o){h7t(r,o)&&CMe(i,o)}),i}});var ym=T((Pqr,DMe)=>{"use strict";var m7t=Mr(),OMe=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};DMe.exports=function(e){var t=m7t("Set");try{new t()[e](OMe(0));try{return new t()[e](OMe(-1)),!1}catch(r){return!0}}catch(r){return!1}}});var PMe=T(()=>{"use strict";var g7t=re(),v7t=IG(),y7t=ym();g7t({target:"Set",proto:!0,real:!0,forced:!y7t("difference")},{difference:v7t})});var NMe=T((Rqr,LMe)=>{"use strict";var _7t=ul(),x7t=Yr(),b7t=po(),w7t=br(),S7t=_v(),E7t=w7t("iterator"),I7t=Object;LMe.exports=function(e){if(b7t(e))return!1;var t=I7t(e);return t[E7t]!==void 0||"@@iterator"in t||x7t(S7t,_7t(t))}});var _m=T((kqr,kMe)=>{"use strict";var T7t=Mr(),RMe=Rr(),C7t=NMe(),M7t=kr(),A7t=T7t("Set"),O7t=function(e){return M7t(e)&&typeof e.size=="number"&&RMe(e.has)&&RMe(e.keys)};kMe.exports=function(e){return O7t(e)?e:C7t(e)?new A7t(e):e}});var qMe=T(()=>{"use strict";var D7t=re(),P7t=zt(),L7t=_m(),N7t=IG();D7t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return P7t(N7t,this,L7t(t))}})});var jMe=T(()=>{"use strict";var R7t=re(),k7t=oi(),q7t=wa(),j7t=eu();R7t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=q7t(this),n=k7t(t,arguments.length>1?arguments[1]:void 0);return j7t(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var FMe=T(()=>{"use strict";var z7t=re(),F7t=oi(),B7t=wa(),zMe=rs(),U7t=eu(),V7t=zMe.Set,G7t=zMe.add;z7t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=B7t(this),n=F7t(t,arguments.length>1?arguments[1]:void 0),i=new V7t;return U7t(r,function(o){n(o,o,r)&&G7t(i,o)}),i}})});var BMe=T(()=>{"use strict";var H7t=re(),W7t=oi(),$7t=wa(),Z7t=eu();H7t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=$7t(this),n=W7t(t,arguments.length>1?arguments[1]:void 0),i=Z7t(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var UMe=T(()=>{"use strict";var Y7t=re(),K7t=XE();Y7t({target:"Set",stat:!0,forced:!0},{from:K7t})});var CG=T(($qr,GMe)=>{"use strict";var X7t=wa(),TG=rs(),Q7t=__(),J7t=vm(),e9t=eu(),t9t=od(),r9t=TG.Set,VMe=TG.add,n9t=TG.has;GMe.exports=function(t){var r=X7t(this),n=J7t(t),i=new r9t;return Q7t(r)>n.size?t9t(n.getIterator(),function(o){n9t(r,o)&&VMe(i,o)}):e9t(r,function(o){n.includes(o)&&VMe(i,o)}),i}});var HMe=T(()=>{"use strict";var i9t=re(),o9t=_t(),a9t=CG(),s9t=ym(),l9t=!s9t("intersection")||o9t(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});i9t({target:"Set",proto:!0,real:!0,forced:l9t},{intersection:a9t})});var WMe=T(()=>{"use strict";var u9t=re(),c9t=zt(),f9t=_m(),p9t=CG();u9t({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return c9t(p9t,this,f9t(t))}})});var MG=T((Qqr,$Me)=>{"use strict";var d9t=wa(),h9t=rs().has,m9t=__(),g9t=vm(),v9t=eu(),y9t=od(),_9t=Xp();$Me.exports=function(t){var r=d9t(this),n=g9t(t);if(m9t(r)<=n.size)return v9t(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return y9t(i,function(o){if(h9t(r,o))return _9t(i,"normal",!1)})!==!1}});var ZMe=T(()=>{"use strict";var x9t=re(),b9t=MG(),w9t=ym();x9t({target:"Set",proto:!0,real:!0,forced:!w9t("isDisjointFrom")},{isDisjointFrom:b9t})});var YMe=T(()=>{"use strict";var S9t=re(),E9t=zt(),I9t=_m(),T9t=MG();S9t({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return E9t(T9t,this,I9t(t))}})});var AG=T((njr,KMe)=>{"use strict";var C9t=wa(),M9t=__(),A9t=eu(),O9t=vm();KMe.exports=function(t){var r=C9t(this),n=O9t(t);return M9t(r)>n.size?!1:A9t(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var XMe=T(()=>{"use strict";var D9t=re(),P9t=AG(),L9t=ym();D9t({target:"Set",proto:!0,real:!0,forced:!L9t("isSubsetOf")},{isSubsetOf:P9t})});var QMe=T(()=>{"use strict";var N9t=re(),R9t=zt(),k9t=_m(),q9t=AG();N9t({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return R9t(q9t,this,k9t(t))}})});var OG=T((ljr,JMe)=>{"use strict";var j9t=wa(),z9t=rs().has,F9t=__(),B9t=vm(),U9t=od(),V9t=Xp();JMe.exports=function(t){var r=j9t(this),n=B9t(t);if(F9t(r)<n.size)return!1;var i=n.getIterator();return U9t(i,function(o){if(!z9t(r,o))return V9t(i,"normal",!1)})!==!1}});var eAe=T(()=>{"use strict";var G9t=re(),H9t=OG(),W9t=ym();G9t({target:"Set",proto:!0,real:!0,forced:!W9t("isSupersetOf")},{isSupersetOf:H9t})});var tAe=T(()=>{"use strict";var $9t=re(),Z9t=zt(),Y9t=_m(),K9t=OG();$9t({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return Z9t(K9t,this,Y9t(t))}})});var nAe=T(()=>{"use strict";var X9t=re(),rAe=lt(),Q9t=wa(),J9t=eu(),eVt=Pr(),tVt=rAe([].join),rVt=rAe([].push);X9t({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=Q9t(this),n=t===void 0?",":eVt(t),i=[];return J9t(r,function(o){rVt(i,o)}),tVt(i,n)}})});var oAe=T(()=>{"use strict";var nVt=re(),iVt=oi(),oVt=wa(),iAe=rs(),aVt=eu(),sVt=iAe.Set,lVt=iAe.add;nVt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=oVt(this),n=iVt(t,arguments.length>1?arguments[1]:void 0),i=new sVt;return aVt(r,function(o){lVt(i,n(o,o,r))}),i}})});var aAe=T(()=>{"use strict";var uVt=re(),cVt=QE();uVt({target:"Set",stat:!0,forced:!0},{of:cVt})});var sAe=T(()=>{"use strict";var fVt=re(),pVt=Ar(),dVt=wa(),hVt=eu(),mVt=TypeError;fVt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=dVt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(pVt(t),hVt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new mVt("Reduce of empty set with no initial value");return i}})});var lAe=T(()=>{"use strict";var gVt=re(),vVt=oi(),yVt=wa(),_Vt=eu();gVt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=yVt(this),n=vVt(t,arguments.length>1?arguments[1]:void 0);return _Vt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var PG=T((Sjr,uAe)=>{"use strict";var xVt=wa(),DG=rs(),bVt=GP(),wVt=vm(),SVt=od(),EVt=DG.add,IVt=DG.has,TVt=DG.remove;uAe.exports=function(t){var r=xVt(this),n=wVt(t).getIterator(),i=bVt(r);return SVt(n,function(o){IVt(r,o)?TVt(i,o):EVt(i,o)}),i}});var cAe=T(()=>{"use strict";var CVt=re(),MVt=PG(),AVt=ym();CVt({target:"Set",proto:!0,real:!0,forced:!AVt("symmetricDifference")},{symmetricDifference:MVt})});var fAe=T(()=>{"use strict";var OVt=re(),DVt=zt(),PVt=_m(),LVt=PG();OVt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return DVt(LVt,this,PVt(t))}})});var LG=T((Mjr,pAe)=>{"use strict";var NVt=wa(),RVt=rs().add,kVt=GP(),qVt=vm(),jVt=od();pAe.exports=function(t){var r=NVt(this),n=qVt(t).getIterator(),i=kVt(r);return jVt(n,function(o){RVt(i,o)}),i}});var dAe=T(()=>{"use strict";var zVt=re(),FVt=LG(),BVt=ym();zVt({target:"Set",proto:!0,real:!0,forced:!BVt("union")},{union:FVt})});var hAe=T(()=>{"use strict";var UVt=re(),VVt=zt(),GVt=_m(),HVt=LG();UVt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return VVt(HVt,this,GVt(t))}})});var mAe=T(()=>{"use strict";var WVt=re(),$Vt=Pv().charAt,ZVt=Ci(),YVt=Mi(),KVt=Pr();WVt({target:"String",proto:!0,forced:!0},{at:function(t){var r=KVt(ZVt(this)),n=r.length,i=YVt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:$Vt(r,o)}})});var NG=T((Rjr,_Ae)=>{"use strict";var yAe=lt(),XVt=Mo(),gAe=Pr(),QVt=fn(),JVt=TypeError,vAe=yAe([].push),eGt=yAe([].join);_Ae.exports=function(t){var r=XVt(t),n=QVt(r);if(!n)return"";for(var i=arguments.length,o=[],a=0;;){var c=r[a++];if(c===void 0)throw new JVt("Incorrect template");if(vAe(o,gAe(c)),a===n)return eGt(o,"");a<i&&vAe(o,gAe(arguments[a]))}}});var xAe=T(()=>{"use strict";var tGt=re(),rGt=NG();tGt({target:"String",stat:!0,forced:!0},{cooked:rGt})});var IAe=T(()=>{"use strict";var nGt=re(),iGt=nm(),bAe=xa(),oGt=Ci(),aGt=Pr(),wAe=Fn(),SAe=Pv(),sGt=SAe.codeAt,lGt=SAe.charAt,EAe="String Iterator",uGt=wAe.set,cGt=wAe.getterFor(EAe),fGt=iGt(function(t){uGt(this,{type:EAe,string:t,index:0})},"String",function(){var t=cGt(this),r=t.string,n=t.index,i;return n>=r.length?bAe(void 0,!0):(i=lGt(r,n),t.index+=i.length,bAe({codePoint:sGt(i,0),position:n},!1))});nGt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new fGt(aGt(oGt(this)))}})});var NAe=T((Fjr,LAe)=>{"use strict";var pGt=Mr(),HP=lt(),dGt=String.fromCharCode,hGt=pGt("String","fromCodePoint"),RG=HP("".charAt),DAe=HP("".charCodeAt),TAe=HP("".indexOf),CAe=HP("".slice),qG=48,PAe=57,MAe=97,mGt=102,AAe=65,gGt=70,OAe=function(e,t){var r=DAe(e,t);return r>=qG&&r<=PAe},kG=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=vGt(DAe(e,t));if(i===-1)return-1;n=n*16+i}return n},vGt=function(e){return e>=qG&&e<=PAe?e-qG:e>=MAe&&e<=mGt?e-MAe+10:e>=AAe&&e<=gGt?e-AAe+10:-1};LAe.exports=function(e){for(var t="",r=0,n=0,i;(n=TAe(e,"\\",n))>-1;){if(t+=CAe(e,r,n),++n===e.length)return;var o=RG(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&RG(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(OAe(e,n))return;t+="\0";break;case"x":if(i=kG(e,n,n+2),i===-1)return;n+=2,t+=dGt(i);break;case"u":if(n<e.length&&RG(e,n)==="{"){var a=TAe(e,"}",++n);if(a===-1)return;i=kG(e,n,a),n=a+1}else i=kG(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=hGt(i);break;default:if(OAe(o,0))return;t+=o;}r=n}return t+CAe(e,r)}});var GAe=T(()=>{"use strict";var yGt=nd(),_Gt=re(),xGt=Ef(),bGt=Mr(),wGt=BS(),WP=lt(),zAe=es(),FAe=Ut(),SGt=an(),EGt=Rr(),IGt=fn(),TGt=yi().f,CGt=pv(),MGt=NG(),AGt=NAe(),BAe=Iv(),OGt=bGt("WeakMap"),sd=xGt("GlobalDedentRegistry",new OGt);sd.has=sd.has;sd.get=sd.get;sd.set=sd.set;var jG=Array,tI=TypeError,RAe=Object.freeze||Object,DGt=Object.isFrozen,PGt=Math.min,kAe=WP("".charAt),UAe=WP("".slice),LGt=WP("".split),qAe=WP(/./.exec),NGt=/([\n\u2028\u2029]|\r\n?)/g,RGt=RegExp("^["+BAe+"]*"),kGt=RegExp("[^"+BAe+"]"),jAe="Invalid tag",qGt="Invalid opening line",jGt="Invalid closing line",zGt=function(e){var t=e.raw;if(yGt&&!DGt(t))throw new tI("Raw template should be frozen");if(sd.has(t))return sd.get(t);var r=FGt(t),n=UGt(r);return TGt(n,"raw",{value:RAe(r)}),RAe(n),sd.set(t,n),n},FGt=function(e){var t=SGt(e),r=IGt(t),n=jG(r),i=jG(r),o=0,a,c,p,m;if(!r)throw new tI(jAe);for(;o<r;o++){var g=t[o];if(typeof g=="string")n[o]=LGt(g,NGt);else throw new tI(jAe)}for(o=0;o<r;o++){var S=o+1===r;if(a=n[o],o===0){if(a.length===1||a[0].length>0)throw new tI(qGt);a[1]=""}if(S){if(a.length===1||qAe(kGt,a[a.length-1]))throw new tI(jGt);a[a.length-2]="",a[a.length-1]=""}for(var I=2;I<a.length;I+=2){var M=a[I],P=I+1===a.length&&!S,N=qAe(RGt,M)[0];if(!P&&N.length===M.length){a[I]="";continue}c=BGt(N,c)}}var L=c?c.length:0;for(o=0;o<r;o++){for(a=n[o],p=a[0],m=1;m<a.length;m+=2)p+=a[m]+UAe(a[m+1],L);i[o]=p}return i},BGt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=PGt(e.length,t.length);r<n&&kAe(e,r)===kAe(t,r);r++);return UAe(e,0,r)},UGt=function(e){for(var t=0,r=e.length,n=jG(r);t<r;t++)n[t]=AGt(e[t]);return n},VAe=function(e){return wGt(function(t){var r=CGt(arguments);return r[0]=zGt(FAe(t)),zAe(e,this,r)},"")},VGt=VAe(MGt);_Gt({target:"String",stat:!0,forced:!0},{dedent:function(t){return FAe(t),EGt(t)?VAe(t):zAe(VGt,this,arguments)}})});var HAe=T(()=>{"use strict";j7()});var WAe=T(()=>{"use strict";W7()});var $Ae=T(()=>{"use strict";t9()});var ZAe=T(()=>{"use strict";s9()});var YAe=T(()=>{"use strict";var GGt=er(),HGt=Yi(),WGt=yi().f,$Gt=zo().f,zG=GGt.Symbol;HGt("asyncDispose");zG&&(rI=$Gt(zG,"asyncDispose"),rI.enumerable&&rI.configurable&&rI.writable&&WGt(zG,"asyncDispose",{value:rI.value,enumerable:!1,configurable:!1,writable:!1}));var rI});var KAe=T(()=>{"use strict";var ZGt=er(),YGt=Yi(),KGt=yi().f,XGt=zo().f,FG=ZGt.Symbol;YGt("dispose");FG&&(nI=XGt(FG,"dispose"),nI.enumerable&&nI.configurable&&nI.writable&&KGt(FG,"dispose",{value:nI.value,enumerable:!1,configurable:!1,writable:!1}));var nI});var UG=T((tzr,XAe)=>{"use strict";var QGt=Mr(),JGt=lt(),BG=QGt("Symbol"),eHt=BG.keyFor,tHt=JGt(BG.prototype.valueOf);XAe.exports=BG.isRegisteredSymbol||function(t){try{return eHt(tHt(t))!==void 0}catch(r){return!1}}});var QAe=T(()=>{"use strict";var rHt=re(),nHt=UG();rHt({target:"Symbol",stat:!0},{isRegisteredSymbol:nHt})});var JAe=T(()=>{"use strict";var iHt=re(),oHt=UG();iHt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:oHt})});var HG=T((azr,oOe)=>{"use strict";var aHt=Ef(),nOe=Mr(),sHt=lt(),lHt=Gp(),uHt=br(),ZP=nOe("Symbol"),eOe=ZP.isWellKnownSymbol,iOe=nOe("Object","getOwnPropertyNames"),cHt=sHt(ZP.prototype.valueOf),tOe=aHt("wks");for($P=0,VG=iOe(ZP),rOe=VG.length;$P<rOe;$P++)try{GG=VG[$P],lHt(ZP[GG])&&uHt(GG)}catch(e){}var GG,$P,VG,rOe;oOe.exports=function(t){if(eOe&&eOe(t))return!0;try{for(var r=cHt(t),n=0,i=iOe(tOe),o=i.length;n<o;n++)if(tOe[i[n]]==r)return!0}catch(a){}return!1}});var aOe=T(()=>{"use strict";var fHt=re(),pHt=HG();fHt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:pHt})});var sOe=T(()=>{"use strict";var dHt=re(),hHt=HG();dHt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:hHt})});var lOe=T(()=>{"use strict";var mHt=Yi();mHt("matcher")});var uOe=T(()=>{"use strict";var gHt=Yi();gHt("metadata")});var cOe=T(()=>{"use strict";var vHt=Yi();vHt("metadataKey")});var fOe=T(()=>{"use strict";var yHt=Yi();yHt("observable")});var pOe=T(()=>{"use strict";var _Ht=Yi();_Ht("patternMatch")});var dOe=T(()=>{"use strict";var xHt=Yi();xHt("replaceAll")});var mOe=T(()=>{"use strict";var bHt=Mr(),wHt=F1(),SHt=X9(),hOe=Kr(),EHt=bv(),IHt=hOe.aTypedArrayConstructor,THt=hOe.exportTypedArrayStaticMethod;THt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(bHt("Promise"))(function(a){wHt(r),a(SHt(t,i,o))}).then(function(a){return EHt(IHt(r),a)})},!0)});var gOe=T(()=>{"use strict";w9()});var yOe=T(()=>{"use strict";var vOe=Kr(),CHt=so().filterReject,MHt=VD(),AHt=vOe.aTypedArray,OHt=vOe.exportTypedArrayMethod;OHt("filterOut",function(t){var r=CHt(AHt(this),t,arguments.length>1?arguments[1]:void 0);return MHt(this,r)},!0)});var xOe=T(()=>{"use strict";var _Oe=Kr(),DHt=so().filterReject,PHt=VD(),LHt=_Oe.aTypedArray,NHt=_Oe.exportTypedArrayMethod;NHt("filterReject",function(t){var r=DHt(LHt(this),t,arguments.length>1?arguments[1]:void 0);return PHt(this,r)},!0)});var bOe=T(()=>{"use strict";S9()});var wOe=T(()=>{"use strict";E9()});var EOe=T(()=>{"use strict";var SOe=Kr(),RHt=sP(),kHt=l_(),qHt=SOe.aTypedArray,jHt=SOe.exportTypedArrayMethod;jHt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return RHt(qHt(this),t,r,kHt)},!0)});var IOe=T(()=>{"use strict";R9()});var TOe=T(()=>{"use strict";k9()});var COe=T(()=>{"use strict";var WG=Kr(),zHt=fn(),FHt=jD(),BHt=Du(),UHt=NE(),VHt=Mi(),GHt=_t(),HHt=WG.aTypedArray,WHt=WG.getTypedArrayConstructor,$Ht=WG.exportTypedArrayMethod,ZHt=Math.max,YHt=Math.min,KHt=!GHt(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});$Ht("toSpliced",function(t,r){var n=HHt(this),i=WHt(n),o=zHt(n),a=BHt(t,o),c=arguments.length,p=0,m,g,S,I,M,P,N;if(c===0)m=g=0;else if(c===1)m=0,g=o-a;else if(g=YHt(ZHt(VHt(r),0),o-a),m=c-2,m){I=new i(m),S=FHt(I);for(var L=2;L<c;L++)M=arguments[L],I[L-2]=S?UHt(M):+M}for(P=o+m-g,N=new i(P);p<a;p++)N[p]=n[p];for(;p<a+m;p++)N[p]=I[p-a];for(;p<P;p++)N[p]=n[p+g-m];return N},!KHt)});var MOe=T(()=>{"use strict";var XHt=lt(),$G=Kr(),QHt=bv(),JHt=cP(),eWt=$G.aTypedArray,tWt=$G.getTypedArrayConstructor,rWt=$G.exportTypedArrayMethod,nWt=XHt(JHt);rWt("uniqueBy",function(t){return eWt(this),QHt(tWt(this),nWt(this,t))},!0)});var AOe=T(()=>{"use strict";j9()});var XP=T(($zr,OOe)=>{"use strict";var YP=lt(),KP=WeakMap.prototype;OOe.exports={WeakMap,set:YP(KP.set),get:YP(KP.get),has:YP(KP.has),remove:YP(KP.delete)}});var ZG=T((Zzr,DOe)=>{"use strict";var iWt=XP().has;DOe.exports=function(e){return iWt(e),e}});var POe=T(()=>{"use strict";var oWt=re(),aWt=ZG(),sWt=XP().remove;oWt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=aWt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=sWt(t,arguments[i]),r=r&&n;return!!r}})});var LOe=T(()=>{"use strict";var lWt=re(),uWt=XE();lWt({target:"WeakMap",stat:!0,forced:!0},{from:uWt})});var NOe=T(()=>{"use strict";var cWt=re(),fWt=QE();cWt({target:"WeakMap",stat:!0,forced:!0},{of:fWt})});var kOe=T(()=>{"use strict";var pWt=re(),dWt=ZG(),YG=XP(),hWt=YG.get,mWt=YG.has,ROe=YG.set;pWt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=dWt(this),i,o;return mWt(n,t)?(i=hWt(n,t),"update"in r&&(i=r.update(i,t,n),ROe(n,t,i)),i):(o=r.insert(t,n),ROe(n,t,o),o)}})});var qOe=T(()=>{"use strict";var gWt=re(),vWt=RP();gWt({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:vWt})});var QP=T((o6r,jOe)=>{"use strict";var KG=lt(),XG=WeakSet.prototype;jOe.exports={WeakSet,add:KG(XG.add),has:KG(XG.has),remove:KG(XG.delete)}});var QG=T((a6r,zOe)=>{"use strict";var yWt=QP().has;zOe.exports=function(e){return yWt(e),e}});var FOe=T(()=>{"use strict";var _Wt=re(),xWt=QG(),bWt=QP().add;_Wt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=xWt(this),r=0,n=arguments.length;r<n;r++)bWt(t,arguments[r]);return t}})});var BOe=T(()=>{"use strict";var wWt=re(),SWt=QG(),EWt=QP().remove;wWt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=SWt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=EWt(t,arguments[i]),r=r&&n;return!!r}})});var UOe=T(()=>{"use strict";var IWt=re(),TWt=XE();IWt({target:"WeakSet",stat:!0,forced:!0},{from:TWt})});var VOe=T(()=>{"use strict";var CWt=re(),MWt=QE();CWt({target:"WeakSet",stat:!0,forced:!0},{of:MWt})});var JG=T((m6r,WOe)=>{"use strict";var GOe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",HOe={};for(iI=0;iI<66;iI++)HOe[GOe.charAt(iI)]=iI;var iI;WOe.exports={itoc:GOe,ctoi:HOe}});var QOe=T(()=>{"use strict";var AWt=re(),OWt=er(),KOe=Mr(),tH=lt(),DWt=zt(),rH=_t(),PWt=Pr(),LWt=Yr(),NWt=ju(),eH=JG().ctoi,XOe=/[^\d+/a-z]/i,RWt=/[\t\n\f\r ]+/g,kWt=/[=]{1,2}$/,oI=KOe("atob"),qWt=String.fromCharCode,jWt=tH("".charAt),$Oe=tH("".replace),zWt=tH(XOe.exec),nH=rH(function(){return oI(" ")!==""}),iH=!rH(function(){oI("a")}),ZOe=!nH&&!iH&&!rH(function(){oI()}),YOe=!nH&&!iH&&oI.length!==1;AWt({global:!0,bind:!0,enumerable:!0,forced:nH||iH||ZOe||YOe},{atob:function(t){if(NWt(arguments.length,1),ZOe||YOe)return DWt(oI,OWt,t);var r=$Oe(PWt(t),RWt,""),n="",i=0,o=0,a,c;if(r.length%4===0&&(r=$Oe(r,kWt,"")),r.length%4===1||zWt(XOe,r))throw new(KOe("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;a=jWt(r,i++);)LWt(eH,a)&&(c=o%4?c*64+eH[a]:eH[a],o++%4&&(n+=qWt(255&c>>(-2*o&6))));return n}})});var sDe=T(()=>{"use strict";var FWt=re(),BWt=er(),iDe=Mr(),oDe=lt(),UWt=zt(),aDe=_t(),JOe=Pr(),VWt=ju(),GWt=JG().itoc,qv=iDe("btoa"),eDe=oDe("".charAt),HWt=oDe("".charCodeAt),tDe=!!qv&&!aDe(function(){qv()}),rDe=!!qv&&aDe(function(){return qv(null)!=="bnVsbA=="}),nDe=!!qv&&qv.length!==1;FWt({global:!0,bind:!0,enumerable:!0,forced:tDe||rDe||nDe},{btoa:function(t){if(VWt(arguments.length,1),tDe||rDe||nDe)return UWt(qv,BWt,JOe(t));for(var r=JOe(t),n="",i=0,o=GWt,a,c;eDe(r,i)||(o="=",i%1);){if(c=HWt(r,i+=3/4),c>255)throw new(iDe("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a=a<<8|c,n+=eDe(o,63&a>>8-i%1*8)}return n}})});var oH=T((x6r,lDe)=>{"use strict";lDe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var sH=T((b6r,cDe)=>{"use strict";var WWt=qS(),aH=WWt("span").classList,uDe=aH&&aH.constructor&&aH.constructor.prototype;cDe.exports=uDe===Object.prototype?void 0:uDe});var hDe=T(()=>{"use strict";var fDe=er(),pDe=oH(),$Wt=sH(),lH=lB(),ZWt=ho(),dDe=function(e){if(e&&e.forEach!==lH)try{ZWt(e,"forEach",lH)}catch(t){e.forEach=lH}};for(JP in pDe)pDe[JP]&&dDe(fDe[JP]&&fDe[JP].prototype);var JP;dDe($Wt)});var xDe=T(()=>{"use strict";var mDe=er(),vDe=oH(),YWt=sH(),aI=nE(),uH=ho(),yDe=br(),cH=yDe("iterator"),gDe=yDe("toStringTag"),fH=aI.values,_De=function(e,t){if(e){if(e[cH]!==fH)try{uH(e,cH,fH)}catch(n){e[cH]=fH}if(e[gDe]||uH(e,gDe,t),vDe[t]){for(var r in aI)if(e[r]!==aI[r])try{uH(e,r,aI[r])}catch(n){e[r]=aI[r]}}}};for(eL in vDe)_De(mDe[eL]&&mDe[eL].prototype,eL);var eL;_De(YWt,"DOMTokenList")});var pH=T((T6r,bDe)=>{"use strict";bDe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var PDe=T(()=>{"use strict";var KWt=re(),XWt=rV(),nL=Mr(),yH=_t(),QWt=ao(),_H=sl(),iL=yi().f,JWt=Zn(),tL=qi(),rL=Yr(),e$t=ts(),t$t=Ut(),EDe=H8(),wDe=vv(),x_=pH(),r$t=SO(),IDe=Fn(),xH=_r(),TDe=on(),b_="DOMException",vH="DATA_CLONE_ERR",aL=nL("Error"),ld=nL(b_)||function(){try{var e=nL("MessageChannel")||XWt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===vH&&t.code===25)return t.constructor}}(),n$t=ld&&ld.prototype,CDe=aL.prototype,i$t=IDe.set,o$t=IDe.getterFor(b_),a$t="stack"in new aL(b_),MDe=function(e){return rL(x_,e)&&x_[e].m?x_[e].c:0},bH=function(){e$t(this,lI);var t=arguments.length,r=wDe(t<1?void 0:arguments[0]),n=wDe(t<2?void 0:arguments[1],"Error"),i=MDe(n);if(i$t(this,{type:b_,name:n,message:r,code:i}),xH||(this.name=n,this.message=r,this.code=i),a$t){var o=new aL(r);o.name=b_,iL(this,"stack",_H(1,r$t(o.stack,1)))}},lI=bH.prototype=QWt(CDe),ADe=function(e){return{enumerable:!0,configurable:!0,get:e}},dH=function(e){return ADe(function(){return o$t(this)[e]})};xH&&(tL(lI,"code",dH("code")),tL(lI,"message",dH("message")),tL(lI,"name",dH("name")));iL(lI,"constructor",_H(1,bH));var sL=yH(function(){return!(new ld instanceof aL)}),ODe=sL||yH(function(){return CDe.toString!==EDe||String(new ld(1,2))!=="2: 1"}),DDe=sL||yH(function(){return new ld(1,"DataCloneError").code!==25}),s$t=sL||ld[vH]!==25||n$t[vH]!==25,SDe=TDe?ODe||DDe||s$t:sL;KWt({global:!0,constructor:!0,forced:SDe},{DOMException:SDe?bH:ld});var uI=nL(b_),oL=uI.prototype;ODe&&(TDe||ld===uI)&&JWt(oL,"toString",EDe);DDe&&xH&&ld===uI&&tL(oL,"code",ADe(function(){return MDe(t$t(this).name)}));for(hH in x_)rL(x_,hH)&&(mH=x_[hH],sI=mH.s,gH=_H(6,mH.c),rL(uI,sI)||iL(uI,sI,gH),rL(oL,sI)||iL(oL,sI,gH));var mH,sI,gH,hH});var zDe=T(()=>{"use strict";var l$t=re(),u$t=er(),AH=Mr(),CH=sl(),MH=yi().f,LDe=Yr(),c$t=ts(),f$t=gv(),NDe=vv(),wH=pH(),p$t=SO(),d$t=_r(),qDe=on(),fI="DOMException",jDe=AH("Error"),pI=AH(fI),OH=function(){c$t(this,h$t);var t=arguments.length,r=NDe(t<1?void 0:arguments[0]),n=NDe(t<2?void 0:arguments[1],"Error"),i=new pI(r,n),o=new jDe(r);return o.name=fI,MH(i,"stack",CH(1,p$t(o.stack,1))),f$t(i,this,OH),i},h$t=OH.prototype=pI.prototype,m$t="stack"in new jDe(fI),g$t="stack"in new pI(1,2),SH=pI&&d$t&&Object.getOwnPropertyDescriptor(u$t,fI),v$t=!!SH&&!(SH.writable&&SH.configurable),RDe=m$t&&!v$t&&!g$t;l$t({global:!0,constructor:!0,forced:qDe||RDe},{DOMException:RDe?OH:pI});var cI=AH(fI),kDe=cI.prototype;if(kDe.constructor!==cI){qDe||MH(kDe,"constructor",CH(1,cI));for(EH in wH)LDe(wH,EH)&&(IH=wH[EH],TH=IH.s,LDe(cI,TH)||MH(cI,TH,CH(6,IH.c)))}var IH,TH,EH});var BDe=T(()=>{"use strict";var y$t=Mr(),_$t=cl(),FDe="DOMException";_$t(y$t(FDe),FDe)});var VDe=T(()=>{"use strict";var x$t=re(),b$t=er(),UDe=bE().clear;x$t({global:!0,bind:!0,enumerable:!0,forced:b$t.clearImmediate!==UDe},{clearImmediate:UDe})});var HDe=T((R6r,GDe)=>{"use strict";GDe.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var lL=T((k6r,$De)=>{"use strict";var WDe=er(),w$t=es(),S$t=Rr(),E$t=HDe(),I$t=wf(),T$t=Zp(),C$t=ju(),M$t=WDe.Function,A$t=/MSIE .\./.test(I$t)||E$t&&function(){var e=WDe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();$De.exports=function(e,t){var r=t?2:1;return A$t?function(n,i){var o=C$t(arguments.length,1)>r,a=S$t(n)?n:M$t(n),c=o?T$t(arguments,r):[],p=o?function(){w$t(a,this,c)}:a;return t?e(p,i):e(p)}:e}});var XDe=T(()=>{"use strict";var O$t=re(),KDe=er(),ZDe=bE().set,D$t=lL(),YDe=KDe.setImmediate?D$t(ZDe,!1):ZDe;O$t({global:!0,bind:!0,enumerable:!0,forced:KDe.setImmediate!==YDe},{setImmediate:YDe})});var QDe=T(()=>{"use strict";VDe();XDe()});var JDe=T(()=>{"use strict";var P$t=re(),L$t=er(),N$t=e7(),R$t=Ar(),k$t=ju(),q$t=Tf(),j$t=L$t.process;P$t({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){k$t(arguments.length,1),R$t(t);var r=q$t&&j$t.domain;N$t(r?r.bind(t):t)}})});var tPe=T(()=>{"use strict";var z$t=re(),xm=er(),F$t=qi(),B$t=_r(),U$t=TypeError,V$t=Object.defineProperty,ePe=xm.self!==xm;try{B$t?(uL=Object.getOwnPropertyDescriptor(xm,"self"),(ePe||!uL||!uL.get||!uL.enumerable)&&F$t(xm,"self",{get:function(){return xm},set:function(t){if(this!==xm)throw new U$t("Illegal invocation");V$t(xm,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):z$t({global:!0,simple:!0,forced:ePe},{self:xm})}catch(e){}var uL});var vPe=T(()=>{"use strict";var G$t=on(),H$t=re(),Xi=er(),kH=Mr(),gI=lt(),qH=_t(),W$t=Qh(),fL=Rr(),$$t=Nc(),Z$t=po(),pL=kr(),Y$t=Gp(),K$t=Ki(),oPe=Ut(),hI=ul(),aPe=Yr(),X$t=Pu(),DH=ho(),jv=fn(),Q$t=ju(),J$t=Q1(),dL=Ds(),sPe=rs(),rPe=mP(),lPe=B8(),uPe=fP(),dI=Xi.Object,eZt=Xi.Array,cPe=Xi.Date,vI=Xi.Error,tZt=Xi.EvalError,rZt=Xi.RangeError,nZt=Xi.ReferenceError,iZt=Xi.SyntaxError,fPe=Xi.TypeError,oZt=Xi.URIError,aZt=Xi.PerformanceMark,S_=Xi.WebAssembly,sZt=S_&&S_.CompileError||vI,lZt=S_&&S_.LinkError||vI,uZt=S_&&S_.RuntimeError||vI,wm=kH("DOMException"),mI=dL.Map,yI=dL.has,jH=dL.get,zv=dL.set,pPe=sPe.Set,dPe=sPe.add,hPe=kH("Object","keys"),nPe=gI([].push),cZt=gI((!0).valueOf),fZt=gI(1 .valueOf),pZt=gI("".valueOf),dZt=gI(cPe.prototype.getTime),NH=W$t("structuredClone"),E_="DataCloneError",cL="Transferring",mPe=function(e){return!qH(function(){var t=new Xi.Set([7]),r=e(t),n=e(dI(7));return r===t||!r.has(7)||typeof n!="object"||+n!=7})&&e},iPe=function(e,t){return!qH(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},hZt=function(e){return!qH(function(){var t=e(new Xi.AggregateError([1],NH,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==NH||t.cause!==3})},w_=Xi.structuredClone,mZt=G$t||!iPe(w_,vI)||!iPe(w_,wm)||!hZt(w_),gZt=!w_&&mPe(function(e){return new aZt(NH,{detail:e}).detail}),bm=mPe(w_)||gZt,PH=function(e){throw new wm("Uncloneable type: "+e,E_)},ml=function(e,t){throw new wm((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",E_)},LH=function(e,t){return bm||ml(t),bm(e)},vZt=function(){var e;try{e=new Xi.DataTransfer}catch(t){try{e=new Xi.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},zH=function(e,t,r){if(yI(t,e))return jH(t,e);var n=r||hI(e),i,o,a,c,p,m;if(n==="SharedArrayBuffer")bm?i=bm(e):i=e;else{var g=Xi.DataView;!g&&typeof e.slice!="function"&&ml("ArrayBuffer");try{if(typeof e.slice=="function"&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,a=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,a),c=new g(e),p=new g(i),m=0;m<o;m++)p.setUint8(m,c.getUint8(m))}catch(S){throw new wm("ArrayBuffer is detached",E_)}}return zv(t,e,i),i},gPe=function(e,t,r,n,i){var o=Xi[t];return pL(o)||ml(t),new o(zH(e.buffer,i),r,n)},RH=function(e,t,r){this.object=e,this.type=t,this.metadata=r},Ls=function(e,t,r){if(Y$t(e)&&PH("Symbol"),!pL(e))return e;if(t){if(yI(t,e))return jH(t,e)}else t=new mI;var n=hI(e),i,o,a,c,p,m,g,S;switch(n){case"Array":a=eZt(jv(e));break;case"Object":a={};break;case"Map":a=new mI;break;case"Set":a=new pPe;break;case"RegExp":a=new RegExp(e.source,J$t(e));break;case"Error":switch(o=e.name,o){case"AggregateError":a=new(kH("AggregateError"))([]);break;case"EvalError":a=new tZt;break;case"RangeError":a=new rZt;break;case"ReferenceError":a=new nZt;break;case"SyntaxError":a=new iZt;break;case"TypeError":a=new fPe;break;case"URIError":a=new oZt;break;case"CompileError":a=new sZt;break;case"LinkError":a=new lZt;break;case"RuntimeError":a=new uZt;break;default:a=new vI;}break;case"DOMException":a=new wm(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":a=r?new RH(e,n):zH(e,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":m=n==="DataView"?e.byteLength:e.length,a=r?new RH(e,n,{offset:e.byteOffset,length:m}):gPe(e,n,e.byteOffset,m,t);break;case"DOMQuad":try{a=new DOMQuad(Ls(e.p1,t,r),Ls(e.p2,t,r),Ls(e.p3,t,r),Ls(e.p4,t,r))}catch(I){a=LH(e,n)}break;case"File":if(bm)try{a=bm(e),hI(a)!==n&&(a=void 0)}catch(I){}if(!a)try{a=new File([e],e.name,e)}catch(I){}a||ml(n);break;case"FileList":if(c=vZt(),c){for(p=0,m=jv(e);p<m;p++)c.items.add(Ls(e[p],t,r));a=c.files}else a=LH(e,n);break;case"ImageData":try{a=new ImageData(Ls(e.data,t,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(I){a=LH(e,n)}break;default:if(bm)a=bm(e);else switch(n){case"BigInt":a=dI(e.valueOf());break;case"Boolean":a=dI(cZt(e));break;case"Number":a=dI(fZt(e));break;case"String":a=dI(pZt(e));break;case"Date":a=new cPe(dZt(e));break;case"Blob":try{a=e.slice(0,e.size,e.type)}catch(I){ml(n)}break;case"DOMPoint":case"DOMPointReadOnly":i=Xi[n];try{a=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(I){ml(n)}break;case"DOMRect":case"DOMRectReadOnly":i=Xi[n];try{a=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(I){ml(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=Xi[n];try{a=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(I){ml(n)}break;case"AudioData":case"VideoFrame":fL(e.clone)||ml(n);try{a=e.clone()}catch(I){PH(n)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ml(n);default:PH(n);}}switch(zv(t,e,a),n){case"Array":case"Object":for(g=hPe(e),p=0,m=jv(g);p<m;p++)S=g[p],X$t(a,S,Ls(e[S],t,r));break;case"Map":e.forEach(function(I,M){zv(a,Ls(M,t,r),Ls(I,t,r))});break;case"Set":e.forEach(function(I){dPe(a,Ls(I,t,r))});break;case"Error":DH(a,"message",Ls(e.message,t,r)),aPe(e,"cause")&&DH(a,"cause",Ls(e.cause,t,r)),o==="AggregateError"&&(a.errors=Ls(e.errors,t,r));case"DOMException":lPe&&DH(a,"stack",Ls(e.stack,t,r));}return a},ud=function(e,t){if(!pL(e))return e;if(yI(t,e))return jH(t,e);var r,n,i,o,a,c,p,m;if(e instanceof RH)switch(r=e.type,n=e.object,r){case"ArrayBuffer":case"SharedArrayBuffer":m=zH(n,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,m=gPe(n,r,i.offset,i.length,t);}else switch(hI(e)){case"Array":case"Object":for(c=hPe(e),o=0,a=jv(c);o<a;o++)p=c[o],e[p]=ud(e[p],t);break;case"Map":m=new mI,e.forEach(function(g,S){zv(m,ud(S,t),ud(g,t))});break;case"Set":m=new pPe,e.forEach(function(g){dPe(m,ud(g,t))});break;case"Error":e.message=ud(e.message,t),aPe(e,"cause")&&(e.cause=ud(e.cause,t)),e.name==="AggregateError"&&(e.errors=ud(e.errors,t));case"DOMException":lPe&&(e.stack=ud(e.stack,t));}return zv(t,e,m||e),m||e},yZt=function(e,t){if(!pL(e))throw new fPe("Transfer option cannot be converted to a sequence");var r=[];K$t(e,function(I){nPe(r,oPe(I))});for(var n=0,i=jv(r),o=[],a,c,p,m,g,S;n<i;){if(a=r[n++],c=hI(a),c==="ArrayBuffer"){nPe(o,a);continue}if(yI(t,a))throw new wm("Duplicate transferable",E_);if(uPe)m=w_(a,{transfer:[a]});else switch(c){case"ImageBitmap":p=Xi.OffscreenCanvas,$$t(p)||ml(c,cL);try{g=new p(a.width,a.height),S=g.getContext("bitmaprenderer"),S.transferFromImageBitmap(a),m=g.transferToImageBitmap()}catch(I){}break;case"AudioData":case"VideoFrame":(!fL(a.clone)||!fL(a.close))&&ml(c,cL);try{m=a.clone(),a.close()}catch(I){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ml(c,cL);}if(m===void 0)throw new wm("This object cannot be transferred: "+c,E_);zv(t,a,m)}return o},_Zt=function(e,t){for(var r=0,n=jv(e),i,o;r<n;){if(i=e[r++],yI(t,i))throw new wm("Duplicate transferable",E_);rPe?o=rPe(i,void 0,!0):(fL(i.transfer)||ml("ArrayBuffer",cL),o=i.transfer()),zv(t,i,o)}};H$t({global:!0,enumerable:!0,sham:!uPe,forced:mZt},{structuredClone:function(t){var r=Q$t(arguments.length,1)>1&&!Z$t(arguments[1])?oPe(arguments[1]):void 0,n=r?r.transfer:void 0,i=!1,o,a;n!==void 0&&(o=new mI,a=yZt(n,o),i=!!jv(a));var c=Ls(t,o,i);return i&&(o=new mI,_Zt(n,o),c=ud(c,o)),c}})});var xPe=T(()=>{"use strict";var xZt=re(),_Pe=er(),bZt=lL(),yPe=bZt(_Pe.setInterval,!0);xZt({global:!0,bind:!0,forced:_Pe.setInterval!==yPe},{setInterval:yPe})});var SPe=T(()=>{"use strict";var wZt=re(),wPe=er(),SZt=lL(),bPe=SZt(wPe.setTimeout,!0);wZt({global:!0,bind:!0,forced:wPe.setTimeout!==bPe},{setTimeout:bPe})});var EPe=T(()=>{"use strict";xPe();SPe()});var hL=T((J6r,TPe)=>{"use strict";var EZt=_t(),IZt=br(),TZt=_r(),IPe=on(),CZt=IZt("iterator");TPe.exports=!EZt(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),IPe&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(IPe||!TZt)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[CZt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var RPe=T((eFr,NPe)=>{"use strict";var Fv=lt(),FH=2147483647,_I=36,DPe=1,VH=26,MZt=38,AZt=700,OZt=72,DZt=128,PZt="-",LZt=/[^\0-\u007E]/,PPe=/[.\u3002\uFF0E\uFF61]/g,CPe="Overflow: input needs wider integers to process",BH=_I-DPe,MPe=RangeError,NZt=Fv(PPe.exec),I_=Math.floor,UH=String.fromCharCode,APe=Fv("".charCodeAt),LPe=Fv([].join),Sm=Fv([].push),RZt=Fv("".replace),kZt=Fv("".split),qZt=Fv("".toLowerCase),jZt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=APe(e,r++);if(i>=55296&&i<=56319&&r<n){var o=APe(e,r++);(o&64512)===56320?Sm(t,((i&1023)<<10)+(o&1023)+65536):(Sm(t,i),r--)}else Sm(t,i)}return t},OPe=function(e){return e+22+75*(e<26)},zZt=function(e,t,r){var n=0;for(e=r?I_(e/AZt):e>>1,e+=I_(e/t);e>BH*VH>>1;)e=I_(e/BH),n+=_I;return I_(n+(BH+1)*e/(e+MZt))},FZt=function(e){var t=[];e=jZt(e);var r=e.length,n=DZt,i=0,o=OZt,a,c;for(a=0;a<e.length;a++)c=e[a],c<128&&Sm(t,UH(c));var p=t.length,m=p;for(p&&Sm(t,PZt);m<r;){var g=FH;for(a=0;a<e.length;a++)c=e[a],c>=n&&c<g&&(g=c);var S=m+1;if(g-n>I_((FH-i)/S))throw new MPe(CPe);for(i+=(g-n)*S,n=g,a=0;a<e.length;a++){if(c=e[a],c<n&&++i>FH)throw new MPe(CPe);if(c===n){for(var I=i,M=_I;;){var P=M<=o?DPe:M>=o+VH?VH:M-o;if(I<P)break;var N=I-P,L=_I-P;Sm(t,UH(OPe(P+N%L))),I=I_(N/L),M+=_I}Sm(t,UH(OPe(I))),o=zZt(i,S,m===p),i=0,m++}}i++,n++}return LPe(t,"")};NPe.exports=function(e){var t=[],r=kZt(RZt(qZt(e),PPe,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Sm(t,NZt(LZt,i)?"xn--"+FZt(i):i);return LPe(t,".")}});var JH=T((tFr,tLe)=>{"use strict";nE();var ZH=re(),M_=er(),mL=zt(),Rf=lt(),C_=_r(),$Pe=hL(),ZPe=Zn(),BZt=qi(),UZt=ku(),VZt=cl(),GZt=nm(),XH=Fn(),YPe=ts(),GH=Rr(),HZt=Yr(),WZt=oi(),$Zt=ul(),ZZt=Ut(),KPe=kr(),Ns=Pr(),YZt=ao(),kPe=sl(),YH=tm(),KZt=Kp(),T_=ju(),XZt=br(),QZt=zO(),JZt=XZt("iterator"),bI="URLSearchParams",XPe=bI+"Iterator",QPe=XH.set,Fu=XH.getterFor(bI),eYt=XH.getterFor(XPe),tYt=Object.getOwnPropertyDescriptor,QH=function(e){if(!C_)return M_[e];var t=tYt(M_,e);return t&&t.value},qPe=QH("fetch"),vL=QH("Request"),xI=QH("Headers"),HH=vL&&vL.prototype,jPe=xI&&xI.prototype,rYt=M_.RegExp,nYt=M_.TypeError,JPe=M_.decodeURIComponent,iYt=M_.encodeURIComponent,oYt=Rf("".charAt),zPe=Rf([].join),Bv=Rf([].push),KH=Rf("".replace),aYt=Rf([].shift),FPe=Rf([].splice),BPe=Rf("".split),sYt=Rf("".slice),lYt=/\+/g,UPe=Array(4),uYt=function(e){return UPe[e-1]||(UPe[e-1]=rYt("((?:%[\\da-f]{2}){"+e+"})","gi"))},cYt=function(e){try{return JPe(e)}catch(t){return e}},VPe=function(e){var t=KH(e,lYt," "),r=4;try{return JPe(t)}catch(n){for(;r;)t=KH(t,uYt(r--),cYt);return t}},fYt=/[!'()~]|%20/g,pYt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},dYt=function(e){return pYt[e]},GPe=function(e){return KH(iYt(e),fYt,dYt)},WH=GZt(function(t,r){QPe(this,{type:XPe,iterator:YH(Fu(t).entries),kind:r})},"Iterator",function(){var t=eYt(this),r=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),eLe=function(e){this.entries=[],this.url=null,e!==void 0&&(KPe(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?oYt(e,0)==="?"?sYt(e,1):e:Ns(e)))};eLe.prototype={type:bI,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=KZt(e),r,n,i,o,a,c,p;if(t)for(r=YH(e,t),n=r.next;!(i=mL(n,r)).done;){if(o=YH(ZZt(i.value)),a=o.next,(c=mL(a,o)).done||(p=mL(a,o)).done||!mL(a,o).done)throw new nYt("Expected sequence with length 2");Bv(this.entries,{key:Ns(c.value),value:Ns(p.value)})}else for(var m in e)HZt(e,m)&&Bv(this.entries,{key:m,value:Ns(e[m])})},parseQuery:function(e){if(e)for(var t=BPe(e,"&"),r=0,n,i;r<t.length;)n=t[r++],n.length&&(i=BPe(n,"="),Bv(this.entries,{key:VPe(aYt(i)),value:VPe(zPe(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],Bv(t,GPe(n.key)+"="+GPe(n.value));return zPe(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var yL=function(){YPe(this,A_);var t=arguments.length>0?arguments[0]:void 0,r=QPe(this,new eLe(t));C_||(this.size=r.entries.length)},A_=yL.prototype;UZt(A_,{append:function(t,r){var n=Fu(this);T_(arguments.length,2),Bv(n.entries,{key:Ns(t),value:Ns(r)}),C_||this.length++,n.updateURL()},delete:function(e){for(var t=Fu(this),r=T_(arguments.length,1),n=t.entries,i=Ns(e),o=r<2?void 0:arguments[1],a=o===void 0?o:Ns(o),c=0;c<n.length;){var p=n[c];if(p.key===i&&(a===void 0||p.value===a)){if(FPe(n,c,1),a!==void 0)break}else c++}C_||(this.size=n.length),t.updateURL()},get:function(t){var r=Fu(this).entries;T_(arguments.length,1);for(var n=Ns(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=Fu(this).entries;T_(arguments.length,1);for(var n=Ns(t),i=[],o=0;o<r.length;o++)r[o].key===n&&Bv(i,r[o].value);return i},has:function(t){for(var r=Fu(this).entries,n=T_(arguments.length,1),i=Ns(t),o=n<2?void 0:arguments[1],a=o===void 0?o:Ns(o),c=0;c<r.length;){var p=r[c++];if(p.key===i&&(a===void 0||p.value===a))return!0}return!1},set:function(t,r){var n=Fu(this);T_(arguments.length,1);for(var i=n.entries,o=!1,a=Ns(t),c=Ns(r),p=0,m;p<i.length;p++)m=i[p],m.key===a&&(o?FPe(i,p--,1):(o=!0,m.value=c));o||Bv(i,{key:a,value:c}),C_||(this.size=i.length),n.updateURL()},sort:function(){var t=Fu(this);QZt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Fu(this).entries,n=WZt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new WH(this,"keys")},values:function(){return new WH(this,"values")},entries:function(){return new WH(this,"entries")}},{enumerable:!0});ZPe(A_,JZt,A_.entries,{name:"entries"});ZPe(A_,"toString",function(){return Fu(this).serialize()},{enumerable:!0});C_&&BZt(A_,"size",{get:function(){return Fu(this).entries.length},configurable:!0,enumerable:!0});VZt(yL,bI);ZH({global:!0,constructor:!0,forced:!$Pe},{URLSearchParams:yL});!$Pe&&GH(xI)&&(HPe=Rf(jPe.has),WPe=Rf(jPe.set),$H=function(e){if(KPe(e)){var t=e.body,r;if($Zt(t)===bI)return r=e.headers?new xI(e.headers):new xI,HPe(r,"content-type")||WPe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),YZt(e,{body:kPe(0,Ns(t)),headers:kPe(0,r)})}return e},GH(qPe)&&ZH({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return qPe(t,arguments.length>1?$H(arguments[1]):{})}}),GH(vL)&&(gL=function(t){return YPe(this,HH),new vL(t,arguments.length>1?$H(arguments[1]):{})},HH.constructor=gL,gL.prototype=HH,ZH({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:gL})));var HPe,WPe,$H,gL;tLe.exports={URLSearchParams:yL,getState:Fu}});var _Le=T(()=>{"use strict";z7();var hYt=re(),gW=_r(),mYt=hL(),vW=er(),rLe=oi(),Hu=lt(),SL=Zn(),Bu=qi(),gYt=ts(),dW=Yr(),yW=OU(),O_=uB(),kc=pv(),vYt=Pv().codeAt,yYt=RPe(),fd=Pr(),_Yt=cl(),xYt=ju(),dLe=JH(),hLe=Fn(),bYt=hLe.set,EL=hLe.getterFor("URL"),wYt=dLe.URLSearchParams,SYt=dLe.getState,wI=vW.URL,hW=vW.TypeError,IL=vW.parseInt,EYt=Math.floor,nLe=Math.pow,Gu=Hu("".charAt),qc=Hu(/./.exec),EI=Hu([].join),IYt=Hu(1 .toString),TYt=Hu([].pop),P_=Hu([].push),eW=Hu("".replace),CYt=Hu([].shift),MYt=Hu("".split),TI=Hu("".slice),TL=Hu("".toLowerCase),AYt=Hu([].unshift),OYt="Invalid authority",tW="Invalid scheme",Uv="Invalid host",iLe="Invalid port",mLe=/[a-z]/i,DYt=/[\d+-.a-z]/i,mW=/\d/,PYt=/^0x/i,LYt=/^[0-7]+$/,NYt=/^\d+$/,gLe=/^[\da-f]+$/i,RYt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,kYt=/[\0\t\n\r #/:<>?@[\\\]^|]/,qYt=/^[\u0000-\u0020]+/,jYt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,zYt=/[\t\n\r]/g,Uu,FYt=function(e){var t=MYt(e,"."),r,n,i,o,a,c,p;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(a=10,o.length>1&&Gu(o,0)==="0"&&(a=qc(PYt,o)?16:8,o=TI(o,a===8?1:2)),o==="")c=0;else{if(!qc(a===10?NYt:a===8?LYt:gLe,o))return e;c=IL(o,a)}P_(n,c)}for(i=0;i<r;i++)if(c=n[i],i===r-1){if(c>=nLe(256,5-r))return null}else if(c>255)return null;for(p=TYt(n),i=0;i<n.length;i++)p+=n[i]*nLe(256,3-i);return p},BYt=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,a,c,p,m,g,S,I=function(){return Gu(e,i)};if(I()===":"){if(Gu(e,1)!==":")return;i+=2,r++,n=r}for(;I();){if(r===8)return;if(I()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=a=0;a<4&&qc(gLe,I());)o=o*16+IL(I(),16),i++,a++;if(I()==="."){if(a===0||(i-=a,r>6))return;for(c=0;I();){if(p=null,c>0)if(I()==="."&&c<4)i++;else return;if(!qc(mW,I()))return;for(;qc(mW,I());){if(m=IL(I(),10),p===null)p=m;else{if(p===0)return;p=p*10+m}if(p>255)return;i++}t[r]=t[r]*256+p,c++,(c===2||c===4)&&r++}if(c!==4)return;break}else if(I()===":"){if(i++,!I())return}else if(I())return;t[r++]=o}if(n!==null)for(g=r-n,r=7;r!==0&&g>0;)S=t[r],t[r--]=t[n+g-1],t[n+--g]=S;else if(r!==8)return;return t},UYt=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(t=n,r=i),t},SI=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)AYt(t,e%256),e=EYt(e/256);return EI(t,".")}else if(typeof e=="object"){for(t="",n=UYt(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=IYt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},wL={},vLe=yW({},wL,{" ":1,"\"":1,"<":1,">":1,"`":1}),yLe=yW({},vLe,{"#":1,"?":1,"{":1,"}":1}),rW=yW({},yLe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Em=function(e,t){var r=vYt(e,0);return r>32&&r<127&&!dW(t,e)?e:encodeURIComponent(e)},_L={ftp:21,file:null,http:80,https:443,ws:80,wss:443},II=function(e,t){var r;return e.length===2&&qc(mLe,Gu(e,0))&&((r=Gu(e,1))===":"||!t&&r==="|")},oLe=function(e){var t;return e.length>1&&II(TI(e,0,2))&&(e.length===2||(t=Gu(e,2))==="/"||t==="\\"||t==="?"||t==="#")},VYt=function(e){return e==="."||TL(e)==="%2e"},GYt=function(e){return e=TL(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},nW={},aLe={},iW={},sLe={},lLe={},oW={},uLe={},cLe={},xL={},bL={},aW={},sW={},lW={},uW={},fLe={},cW={},D_={},kf={},pLe={},Vv={},cd={},_W=function(e,t,r){var n=fd(e),i,o,a;if(t){if(o=this.parse(n),o)throw new hW(o);this.searchParams=null}else{if(r!==void 0&&(i=new _W(r,!0)),o=this.parse(n,null,i),o)throw new hW(o);a=SYt(new wYt),a.bindURL(this),this.searchParams=a}};_W.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||nW,o=0,a="",c=!1,p=!1,m=!1,g,S,I,M;for(e=fd(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=eW(e,qYt,""),e=eW(e,jYt,"$1")),e=eW(e,zYt,""),g=O_(e);o<=g.length;){switch(S=g[o],i){case nW:if(S&&qc(mLe,S))a+=TL(S),i=aLe;else{if(t)return tW;i=iW;continue}break;case aLe:if(S&&(qc(DYt,S)||S==="+"||S==="-"||S==="."))a+=TL(S);else if(S===":"){if(t&&(n.isSpecial()!==dW(_L,a)||a==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=a,t){n.isSpecial()&&_L[n.scheme]===n.port&&(n.port=null);return}a="",n.scheme==="file"?i=uW:n.isSpecial()&&r&&r.scheme===n.scheme?i=sLe:n.isSpecial()?i=cLe:g[o+1]==="/"?(i=lLe,o++):(n.cannotBeABaseURL=!0,P_(n.path,""),i=pLe)}else{if(t)return tW;a="",i=iW,o=0;continue}break;case iW:if(!r||r.cannotBeABaseURL&&S!=="#")return tW;if(r.cannotBeABaseURL&&S==="#"){n.scheme=r.scheme,n.path=kc(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=cd;break}i=r.scheme==="file"?uW:oW;continue;case sLe:if(S==="/"&&g[o+1]==="/")i=xL,o++;else{i=oW;continue}break;case lLe:if(S==="/"){i=bL;break}else{i=kf;continue}case oW:if(n.scheme=r.scheme,S===Uu)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kc(r.path),n.query=r.query;else if(S==="/"||S==="\\"&&n.isSpecial())i=uLe;else if(S==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kc(r.path),n.query="",i=Vv;else if(S==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kc(r.path),n.query=r.query,n.fragment="",i=cd;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kc(r.path),n.path.length--,i=kf;continue}break;case uLe:if(n.isSpecial()&&(S==="/"||S==="\\"))i=xL;else if(S==="/")i=bL;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=kf;continue}break;case cLe:if(i=xL,S!=="/"||Gu(a,o+1)!=="/")continue;o++;break;case xL:if(S!=="/"&&S!=="\\"){i=bL;continue}break;case bL:if(S==="@"){c&&(a="%40"+a),c=!0,I=O_(a);for(var P=0;P<I.length;P++){var N=I[P];if(N===":"&&!m){m=!0;continue}var L=Em(N,rW);m?n.password+=L:n.username+=L}a=""}else if(S===Uu||S==="/"||S==="?"||S==="#"||S==="\\"&&n.isSpecial()){if(c&&a==="")return OYt;o-=O_(a).length+1,a="",i=aW}else a+=S;break;case aW:case sW:if(t&&n.scheme==="file"){i=cW;continue}else if(S===":"&&!p){if(a==="")return Uv;if(M=n.parseHost(a),M)return M;if(a="",i=lW,t===sW)return}else if(S===Uu||S==="/"||S==="?"||S==="#"||S==="\\"&&n.isSpecial()){if(n.isSpecial()&&a==="")return Uv;if(t&&a===""&&(n.includesCredentials()||n.port!==null))return;if(M=n.parseHost(a),M)return M;if(a="",i=D_,t)return;continue}else S==="["?p=!0:S==="]"&&(p=!1),a+=S;break;case lW:if(qc(mW,S))a+=S;else if(S===Uu||S==="/"||S==="?"||S==="#"||S==="\\"&&n.isSpecial()||t){if(a!==""){var q=IL(a,10);if(q>65535)return iLe;n.port=n.isSpecial()&&q===_L[n.scheme]?null:q,a=""}if(t)return;i=D_;continue}else return iLe;break;case uW:if(n.scheme="file",S==="/"||S==="\\")i=fLe;else if(r&&r.scheme==="file")switch(S){case Uu:n.host=r.host,n.path=kc(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=kc(r.path),n.query="",i=Vv;break;case"#":n.host=r.host,n.path=kc(r.path),n.query=r.query,n.fragment="",i=cd;break;default:oLe(EI(kc(g,o),""))||(n.host=r.host,n.path=kc(r.path),n.shortenPath()),i=kf;continue;}else{i=kf;continue}break;case fLe:if(S==="/"||S==="\\"){i=cW;break}r&&r.scheme==="file"&&!oLe(EI(kc(g,o),""))&&(II(r.path[0],!0)?P_(n.path,r.path[0]):n.host=r.host),i=kf;continue;case cW:if(S===Uu||S==="/"||S==="\\"||S==="?"||S==="#"){if(!t&&II(a))i=kf;else if(a===""){if(n.host="",t)return;i=D_}else{if(M=n.parseHost(a),M)return M;if(n.host==="localhost"&&(n.host=""),t)return;a="",i=D_}continue}else a+=S;break;case D_:if(n.isSpecial()){if(i=kf,S!=="/"&&S!=="\\")continue}else if(!t&&S==="?")n.query="",i=Vv;else if(!t&&S==="#")n.fragment="",i=cd;else if(S!==Uu&&(i=kf,S!=="/"))continue;break;case kf:if(S===Uu||S==="/"||S==="\\"&&n.isSpecial()||!t&&(S==="?"||S==="#")){if(GYt(a)?(n.shortenPath(),S!=="/"&&!(S==="\\"&&n.isSpecial())&&P_(n.path,"")):VYt(a)?S!=="/"&&!(S==="\\"&&n.isSpecial())&&P_(n.path,""):(n.scheme==="file"&&!n.path.length&&II(a)&&(n.host&&(n.host=""),a=Gu(a,0)+":"),P_(n.path,a)),a="",n.scheme==="file"&&(S===Uu||S==="?"||S==="#"))for(;n.path.length>1&&n.path[0]==="";)CYt(n.path);S==="?"?(n.query="",i=Vv):S==="#"&&(n.fragment="",i=cd)}else a+=Em(S,yLe);break;case pLe:S==="?"?(n.query="",i=Vv):S==="#"?(n.fragment="",i=cd):S!==Uu&&(n.path[0]+=Em(S,wL));break;case Vv:!t&&S==="#"?(n.fragment="",i=cd):S!==Uu&&(S==="'"&&n.isSpecial()?n.query+="%27":S==="#"?n.query+="%23":n.query+=Em(S,wL));break;case cd:S!==Uu&&(n.fragment+=Em(S,vLe));break;}o++}},parseHost:function(e){var t,r,n;if(Gu(e,0)==="["){if(Gu(e,e.length-1)!=="]"||(t=BYt(TI(e,1,-1)),!t))return Uv;this.host=t}else if(this.isSpecial()){if(e=yYt(e),qc(RYt,e)||(t=FYt(e),t===null))return Uv;this.host=t}else{if(qc(kYt,e))return Uv;for(t="",r=O_(e),n=0;n<r.length;n++)t+=Em(r[n],wL);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return dW(_L,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!II(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,c=e.query,p=e.fragment,m=t+":";return i!==null?(m+="//",e.includesCredentials()&&(m+=r+(n?":"+n:"")+"@"),m+=SI(i),o!==null&&(m+=":"+o)):t==="file"&&(m+="//"),m+=e.cannotBeABaseURL?a[0]:a.length?"/"+EI(a,"/"):"",c!==null&&(m+="?"+c),p!==null&&(m+="#"+p),m},setHref:function(e){var t=this.parse(e);if(t)throw new hW(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new L_(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+SI(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(fd(e)+":",nW)},getUsername:function(){return this.username},setUsername:function(e){var t=O_(fd(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Em(t[r],rW)}},getPassword:function(){return this.password},setPassword:function(e){var t=O_(fd(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Em(t[r],rW)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?SI(e):SI(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,aW)},getHostname:function(){var e=this.host;return e===null?"":SI(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,sW)},getPort:function(){var e=this.port;return e===null?"":fd(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=fd(e),e===""?this.port=null:this.parse(e,lW))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+EI(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,D_))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=fd(e),e===""?this.query=null:(Gu(e,0)==="?"&&(e=TI(e,1)),this.query="",this.parse(e,Vv)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=fd(e),e===""){this.fragment=null;return}Gu(e,0)==="#"&&(e=TI(e,1)),this.fragment="",this.parse(e,cd)},update:function(){this.query=this.searchParams.serialize()||null}};var L_=function(t){var r=gYt(this,Rs),n=xYt(arguments.length,1)>1?arguments[1]:void 0,i=bYt(r,new _W(t,!1,n));gW||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Rs=L_.prototype,Vu=function(e,t){return{get:function(){return EL(this)[e]()},set:t&&function(r){return EL(this)[t](r)},configurable:!0,enumerable:!0}};gW&&(Bu(Rs,"href",Vu("serialize","setHref")),Bu(Rs,"origin",Vu("getOrigin")),Bu(Rs,"protocol",Vu("getProtocol","setProtocol")),Bu(Rs,"username",Vu("getUsername","setUsername")),Bu(Rs,"password",Vu("getPassword","setPassword")),Bu(Rs,"host",Vu("getHost","setHost")),Bu(Rs,"hostname",Vu("getHostname","setHostname")),Bu(Rs,"port",Vu("getPort","setPort")),Bu(Rs,"pathname",Vu("getPathname","setPathname")),Bu(Rs,"search",Vu("getSearch","setSearch")),Bu(Rs,"searchParams",Vu("getSearchParams")),Bu(Rs,"hash",Vu("getHash","setHash")));SL(Rs,"toJSON",function(){return EL(this).serialize()},{enumerable:!0});SL(Rs,"toString",function(){return EL(this).serialize()},{enumerable:!0});wI&&(fW=wI.createObjectURL,pW=wI.revokeObjectURL,fW&&SL(L_,"createObjectURL",rLe(fW,wI)),pW&&SL(L_,"revokeObjectURL",rLe(pW,wI)));var fW,pW;_Yt(L_,"URL");hYt({global:!0,constructor:!0,forced:!mYt,sham:!gW},{URL:L_})});var xLe=T(()=>{"use strict";_Le()});var SLe=T(()=>{"use strict";var HYt=re(),WYt=Mr(),$Yt=_t(),ZYt=ju(),bLe=Pr(),YYt=hL(),wLe=WYt("URL"),KYt=YYt&&$Yt(function(){wLe.canParse()});HYt({target:"URL",stat:!0,forced:!KYt},{canParse:function(t){var r=ZYt(arguments.length,1),n=bLe(t),i=r<2||arguments[1]===void 0?void 0:bLe(arguments[1]);try{return!!new wLe(n,i)}catch(o){return!1}}})});var ELe=T(()=>{"use strict";var XYt=re(),QYt=zt();XYt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return QYt(URL.prototype.toString,this)}})});var ILe=T(()=>{"use strict";JH()});var ALe=T(()=>{"use strict";var JYt=Zn(),CL=lt(),TLe=Pr(),eKt=ju(),MLe=URLSearchParams,ML=MLe.prototype,tKt=CL(ML.append),CLe=CL(ML.delete),rKt=CL(ML.forEach),nKt=CL([].push),xW=new MLe("a=1&a=2&b=3");xW.delete("a",1);xW.delete("b",void 0);xW+""!="a=2"&&JYt(ML,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return CLe(this,e);var n=[];rKt(this,function(S,I){nKt(n,{key:I,value:S})}),eKt(t,1);for(var i=TLe(e),o=TLe(r),a=0,c=0,p=!1,m=n.length,g;a<m;)g=n[a++],p||g.key===i?(p=!0,CLe(this,g.key)):c++;for(;c<m;)g=n[c++],g.key===i&&g.value===o||tKt(this,g.key,g.value)},{enumerable:!0,unsafe:!0})});var LLe=T(()=>{"use strict";var iKt=Zn(),DLe=lt(),oKt=Pr(),aKt=ju(),PLe=URLSearchParams,bW=PLe.prototype,sKt=DLe(bW.getAll),lKt=DLe(bW.has),OLe=new PLe("a=1");(OLe.has("a",2)||!OLe.has("a",void 0))&&iKt(bW,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return lKt(this,t);var i=sKt(this,t);aKt(r,1);for(var o=oKt(n),a=0;a<i.length;)if(i[a++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var NLe=T(()=>{"use strict";var uKt=_r(),cKt=lt(),fKt=qi(),wW=URLSearchParams.prototype,pKt=cKt(wW.forEach);uKt&&!("size"in wW)&&fKt(wW,"size",{get:function(){var t=0;return pKt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var kLe=T((yFr,RLe)=>{"use strict";Vue();Kue();Xue();Que();Jue();ece();tce();rce();nce();ice();oce();ace();sce();lce();uce();Nce();zce();K8();ofe();eB();pfe();gfe();yfe();bfe();wfe();Efe();Tfe();oB();aB();Dfe();Pfe();Rfe();Gfe();Hfe();$fe();Zfe();nE();mpe();_pe();xpe();wpe();Epe();Ape();Dpe();Lpe();kpe();qpe();Jpe();rde();nde();TB();MB();AB();sde();lde();ude();DB();Fde();Qde();she();uhe();che();phe();mhe();ghe();The();Che();Phe();khe();jhe();Ghe();$he();Xhe();iU();k8();Qhe();sD();gme();_me();bme();wme();Sme();Tme();Mme();Ame();Dme();Lme();Rme();kme();qme();jme();Bme();Gme();Hme();Wme();nge();ige();age();lge();uge();cge();fge();pge();yge();Tge();Dge();qge();Fge();Hge();Wge();Yge();Xge();Jge();eve();ave();sve();lve();fve();pve();dve();mve();LU();vve();_ve();bve();Sve();Ive();Tve();Cve();Mve();Nve();Rve();kve();zve();Fve();Uve();Gve();e0e();g7();v7();o0e();a0e();d0e();g0e();v0e();b0e();w0e();S0e();E0e();I0e();T0e();C0e();P0e();N0e();R0e();X0e();J0e();AD();o1e();s1e();c1e();d1e();m1e();g1e();x1e();C1e();O1e();P1e();j7();z7();W1e();W7();n_e();i_e();l_e();u_e();m_e();t9();S_e();A_e();N_e();k_e();s9();V_e();Z_e();J_e();nxe();ixe();oxe();axe();sxe();lxe();uxe();cxe();fxe();pxe();dxe();hxe();mxe();Vxe();Gxe();Hxe();Wxe();$xe();Zxe();Yxe();Kxe();Xxe();w9();ebe();rbe();ibe();ube();fbe();dbe();S9();E9();vbe();ybe();xbe();wbe();Cbe();Abe();Dbe();Lbe();Rbe();qbe();zbe();Bbe();$be();Ybe();Xbe();nwe();awe();fwe();R9();k9();dwe();j9();ywe();rP();kwe();qwe();zwe();pSe();dSe();hSe();mSe();gSe();vSe();_Se();xSe();SSe();ESe();CSe();MSe();DSe();PSe();LSe();NSe();USe();VSe();$Se();uEe();fEe();SEe();MEe();FEe();GEe();$Ee();ZEe();KEe();XEe();nIe();iIe();aIe();sIe();lIe();uIe();cIe();dIe();hIe();bIe();CIe();AIe();OIe();DIe();LIe();NIe();zIe();BIe();VIe();GIe();$Ie();ZIe();YIe();eTe();cTe();dTe();mTe();gTe();yTe();_Te();ETe();ITe();TTe();CTe();MTe();OTe();DTe();PTe();NTe();RTe();qTe();FTe();QTe();s2e();u2e();f2e();p2e();h2e();m2e();g2e();x2e();b2e();E2e();T2e();C2e();A2e();D2e();P2e();N2e();R2e();k2e();j2e();F2e();B2e();U2e();V2e();G2e();W2e();$2e();Z2e();Y2e();K2e();X2e();Q2e();J2e();nCe();iCe();oCe();sCe();lCe();uCe();dCe();hCe();mCe();gCe();DCe();PCe();LCe();NCe();RCe();BCe();VCe();HCe();YCe();XCe();JCe();rMe();iMe();aMe();lMe();fMe();pMe();PMe();qMe();jMe();FMe();BMe();UMe();HMe();WMe();ZMe();YMe();XMe();QMe();eAe();tAe();nAe();oAe();aAe();sAe();lAe();cAe();fAe();dAe();hAe();mAe();xAe();IAe();GAe();HAe();WAe();$Ae();ZAe();YAe();KAe();QAe();JAe();aOe();sOe();lOe();uOe();cOe();fOe();pOe();dOe();mOe();gOe();yOe();xOe();bOe();wOe();EOe();IOe();TOe();COe();MOe();AOe();POe();LOe();NOe();kOe();qOe();FOe();BOe();UOe();VOe();QOe();sDe();hDe();xDe();PDe();zDe();BDe();QDe();JDe();tPe();vPe();EPe();xLe();SLe();ELe();ILe();ALe();LLe();NLe();RLe.exports=hO()});var jLe=T((_Fr,qLe)=>{"use strict";qLe.exports=kLe()});var o5e=T((l8r,i5e)=>{"use strict";var jtr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";i5e.exports=jtr});var u5e=T((u8r,l5e)=>{"use strict";var ztr=o5e();function a5e(){}function s5e(){}s5e.resetWarningCache=a5e;l5e.exports=function(){function e(n,i,o,a,c,p){if(p!==ztr){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s5e,resetWarningCache:a5e};return r.PropTypes=r,r}});var mt=T((p8r,c5e)=>{c5e.exports=u5e()();var c8r,f8r});var E$=T((OBr,D5e)=>{"use strict";D5e.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var vl=T((DBr,N5e)=>{"use strict";var err=E$(),Yv=Object.prototype.toString;function C$(e){return Yv.call(e)==="[object Array]"}function I$(e){return typeof e=="undefined"}function trr(e){return e!==null&&!I$(e)&&e.constructor!==null&&!I$(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function rrr(e){return Yv.call(e)==="[object ArrayBuffer]"}function nrr(e){return typeof FormData!="undefined"&&e instanceof FormData}function irr(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function orr(e){return typeof e=="string"}function arr(e){return typeof e=="number"}function P5e(e){return e!==null&&typeof e=="object"}function hN(e){if(Yv.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function srr(e){return Yv.call(e)==="[object Date]"}function lrr(e){return Yv.call(e)==="[object File]"}function urr(e){return Yv.call(e)==="[object Blob]"}function L5e(e){return Yv.call(e)==="[object Function]"}function crr(e){return P5e(e)&&L5e(e.pipe)}function frr(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function prr(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function drr(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function M$(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),C$(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function T$(){var e={};function t(i,o){hN(e[o])&&hN(i)?e[o]=T$(e[o],i):hN(i)?e[o]=T$({},i):C$(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)M$(arguments[r],t);return e}function hrr(e,t,r){return M$(t,function(i,o){r&&typeof i=="function"?e[o]=err(i,r):e[o]=i}),e}function mrr(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}N5e.exports={isArray:C$,isArrayBuffer:rrr,isBuffer:trr,isFormData:nrr,isArrayBufferView:irr,isString:orr,isNumber:arr,isObject:P5e,isPlainObject:hN,isUndefined:I$,isDate:srr,isFile:lrr,isBlob:urr,isFunction:L5e,isStream:crr,isURLSearchParams:frr,isStandardBrowserEnv:drr,forEach:M$,merge:T$,extend:hrr,trim:prr,stripBOM:mrr}});var A$=T((PBr,k5e)=>{"use strict";var U_=vl();function R5e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}k5e.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(U_.isURLSearchParams(r))i=r.toString();else{var o=[];U_.forEach(r,function(p,m){p===null||typeof p=="undefined"||(U_.isArray(p)?m=m+"[]":p=[p],U_.forEach(p,function(S){U_.isDate(S)?S=S.toISOString():U_.isObject(S)&&(S=JSON.stringify(S)),o.push(R5e(m)+"="+R5e(S))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var j5e=T((LBr,q5e)=>{"use strict";var grr=vl();function mN(){this.handlers=[]}mN.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};mN.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};mN.prototype.forEach=function(t){grr.forEach(this.handlers,function(n){n!==null&&t(n)})};q5e.exports=mN});var F5e=T((NBr,z5e)=>{"use strict";var vrr=vl();z5e.exports=function(t,r){vrr.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var O$=T((RBr,B5e)=>{"use strict";B5e.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var D$=T((kBr,U5e)=>{"use strict";var yrr=O$();U5e.exports=function(t,r,n,i,o){var a=new Error(t);return yrr(a,r,n,i,o)}});var G5e=T((qBr,V5e)=>{"use strict";var _rr=D$();V5e.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(_rr("Request failed with status code "+n.status,n.config,null,n.request,n))}});var W5e=T((jBr,H5e)=>{"use strict";var gN=vl();H5e.exports=gN.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,c){var p=[];p.push(r+"="+encodeURIComponent(n)),gN.isNumber(i)&&p.push("expires="+new Date(i).toGMTString()),gN.isString(o)&&p.push("path="+o),gN.isString(a)&&p.push("domain="+a),c===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Z5e=T((zBr,$5e)=>{"use strict";$5e.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var K5e=T((FBr,Y5e)=>{"use strict";Y5e.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var Q5e=T((BBr,X5e)=>{"use strict";var xrr=Z5e(),brr=K5e();X5e.exports=function(t,r){return t&&!xrr(r)?brr(t,r):r}});var eRe=T((UBr,J5e)=>{"use strict";var P$=vl(),wrr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];J5e.exports=function(t){var r={},n,i,o;return t&&P$.forEach(t.split(`
`),function(c){if(o=c.indexOf(":"),n=P$.trim(c.substr(0,o)).toLowerCase(),i=P$.trim(c.substr(o+1)),n){if(r[n]&&wrr.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var nRe=T((VBr,rRe)=>{"use strict";var tRe=vl();rRe.exports=tRe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var c=tRe.isString(a)?i(a):a;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}()});var GI=T((GBr,iRe)=>{"use strict";function L$(e){this.message=e}L$.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};L$.prototype.__CANCEL__=!0;iRe.exports=L$});var R$=T((HBr,oRe)=>{"use strict";var vN=vl(),Srr=G5e(),Err=W5e(),Irr=A$(),Trr=Q5e(),Crr=eRe(),Mrr=nRe(),N$=D$(),Arr=HI(),Orr=GI();oRe.exports=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,c=t.responseType,p;function m(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}vN.isFormData(o)&&delete a["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var S=t.auth.username||"",I=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(S+":"+I)}var M=Trr(t.baseURL,t.url);g.open(t.method.toUpperCase(),Irr(M,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function P(){if(g){var L="getAllResponseHeaders"in g?Crr(g.getAllResponseHeaders()):null,q=!c||c==="text"||c==="json"?g.responseText:g.response,j={data:q,status:g.status,statusText:g.statusText,headers:L,config:t,request:g};Srr(function(H){n(H),m()},function(H){i(H),m()},j),g=null}}if("onloadend"in g?g.onloadend=P:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(P)},g.onabort=function(){g&&(i(N$("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){i(N$("Network Error",t,null,g)),g=null},g.ontimeout=function(){var q=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",j=t.transitional||Arr.transitional;t.timeoutErrorMessage&&(q=t.timeoutErrorMessage),i(N$(q,t,j.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},vN.isStandardBrowserEnv()){var N=(t.withCredentials||Mrr(M))&&t.xsrfCookieName?Err.read(t.xsrfCookieName):void 0;N&&(a[t.xsrfHeaderName]=N)}"setRequestHeader"in g&&vN.forEach(a,function(q,j){typeof o=="undefined"&&j.toLowerCase()==="content-type"?delete a[j]:g.setRequestHeader(j,q)}),vN.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),c&&c!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(L){g&&(i(!L||L&&L.type?new Orr("canceled"):L),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),o||(o=null),g.send(o)})}});var HI=T((WBr,lRe)=>{"use strict";var Sa=vl(),aRe=F5e(),Drr=O$(),Prr={"Content-Type":"application/x-www-form-urlencoded"};function sRe(e,t){!Sa.isUndefined(e)&&Sa.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Lrr(){var e;return typeof XMLHttpRequest!="undefined"?e=R$():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=R$()),e}function Nrr(e,t,r){if(Sa.isString(e))try{return(t||JSON.parse)(e),Sa.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var yN={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Lrr(),transformRequest:[function(t,r){return aRe(r,"Accept"),aRe(r,"Content-Type"),Sa.isFormData(t)||Sa.isArrayBuffer(t)||Sa.isBuffer(t)||Sa.isStream(t)||Sa.isFile(t)||Sa.isBlob(t)?t:Sa.isArrayBufferView(t)?t.buffer:Sa.isURLSearchParams(t)?(sRe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Sa.isObject(t)||r&&r["Content-Type"]==="application/json"?(sRe(r,"application/json"),Nrr(t)):t}],transformResponse:[function(t){var r=this.transitional||yN.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Sa.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Drr(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sa.forEach(["delete","get","head"],function(t){yN.headers[t]={}});Sa.forEach(["post","put","patch"],function(t){yN.headers[t]=Sa.merge(Prr)});lRe.exports=yN});var cRe=T(($Br,uRe)=>{"use strict";var Rrr=vl(),krr=HI();uRe.exports=function(t,r,n){var i=this||krr;return Rrr.forEach(n,function(a){t=a.call(i,t,r)}),t}});var k$=T((ZBr,fRe)=>{"use strict";fRe.exports=function(t){return!!(t&&t.__CANCEL__)}});var hRe=T((YBr,dRe)=>{"use strict";var pRe=vl(),q$=cRe(),qrr=k$(),jrr=HI(),zrr=GI();function j$(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zrr("canceled")}dRe.exports=function(t){j$(t),t.headers=t.headers||{},t.data=q$.call(t,t.data,t.headers,t.transformRequest),t.headers=pRe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),pRe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||jrr.adapter;return r(t).then(function(i){return j$(t),i.data=q$.call(t,i.data,i.headers,t.transformResponse),i},function(i){return qrr(i)||(j$(t),i&&i.response&&(i.response.data=q$.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var z$=T((KBr,mRe)=>{"use strict";var ru=vl();mRe.exports=function(t,r){r=r||{};var n={};function i(g,S){return ru.isPlainObject(g)&&ru.isPlainObject(S)?ru.merge(g,S):ru.isPlainObject(S)?ru.merge({},S):ru.isArray(S)?S.slice():S}function o(g){if(ru.isUndefined(r[g])){if(!ru.isUndefined(t[g]))return i(void 0,t[g])}else return i(t[g],r[g])}function a(g){if(!ru.isUndefined(r[g]))return i(void 0,r[g])}function c(g){if(ru.isUndefined(r[g])){if(!ru.isUndefined(t[g]))return i(void 0,t[g])}else return i(void 0,r[g])}function p(g){if(g in r)return i(t[g],r[g]);if(g in t)return i(void 0,t[g])}var m={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p};return ru.forEach(Object.keys(t).concat(Object.keys(r)),function(S){var I=m[S]||o,M=I(S);ru.isUndefined(M)&&I!==p||(n[S]=M)}),n}});var F$=T((XBr,gRe)=>{gRe.exports={version:"0.24.0"}});var _Re=T((QBr,yRe)=>{"use strict";var Frr=F$().version,B$={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){B$[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var vRe={};B$.transitional=function(t,r,n){function i(o,a){return"[Axios v"+Frr+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,c){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!vRe[a]&&(vRe[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,c):!0}};function Brr(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],a=t[o];if(a){var c=e[o],p=c===void 0||a(c,o,e);if(p!==!0)throw new TypeError("option "+o+" must be "+p);continue}if(r!==!0)throw Error("Unknown option "+o)}}yRe.exports={assertOptions:Brr,validators:B$}});var IRe=T((JBr,ERe)=>{"use strict";var wRe=vl(),Urr=A$(),xRe=j5e(),bRe=hRe(),_N=z$(),SRe=_Re(),V_=SRe.validators;function WI(e){this.defaults=e,this.interceptors={request:new xRe,response:new xRe}}WI.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=_N(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&SRe.assertOptions(r,{silentJSONParsing:V_.transitional(V_.boolean),forcedJSONParsing:V_.transitional(V_.boolean),clarifyTimeoutError:V_.transitional(V_.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(i=i&&I.synchronous,n.unshift(I.fulfilled,I.rejected))});var o=[];this.interceptors.response.forEach(function(I){o.push(I.fulfilled,I.rejected)});var a;if(!i){var c=[bRe,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var p=t;n.length;){var m=n.shift(),g=n.shift();try{p=m(p)}catch(S){g(S);break}}try{a=bRe(p)}catch(S){return Promise.reject(S)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};WI.prototype.getUri=function(t){return t=_N(this.defaults,t),Urr(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};wRe.forEach(["delete","get","head","options"],function(t){WI.prototype[t]=function(r,n){return this.request(_N(n||{},{method:t,url:r,data:(n||{}).data}))}});wRe.forEach(["post","put","patch"],function(t){WI.prototype[t]=function(r,n,i){return this.request(_N(i||{},{method:t,url:r,data:n}))}});ERe.exports=WI});var CRe=T((eUr,TRe)=>{"use strict";var Vrr=GI();function G_(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new Vrr(i),t(r.reason))})}G_.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};G_.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};G_.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};G_.source=function(){var t,r=new G_(function(i){t=i});return{token:r,cancel:t}};TRe.exports=G_});var ARe=T((tUr,MRe)=>{"use strict";MRe.exports=function(t){return function(n){return t.apply(null,n)}}});var DRe=T((rUr,ORe)=>{"use strict";ORe.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var NRe=T((nUr,U$)=>{"use strict";var PRe=vl(),Grr=E$(),xN=IRe(),Hrr=z$(),Wrr=HI();function LRe(e){var t=new xN(e),r=Grr(xN.prototype.request,t);return PRe.extend(r,xN.prototype,t),PRe.extend(r,t),r.create=function(i){return LRe(Hrr(e,i))},r}var zf=LRe(Wrr);zf.Axios=xN;zf.Cancel=GI();zf.CancelToken=CRe();zf.isCancel=k$();zf.VERSION=F$().version;zf.all=function(t){return Promise.all(t)};zf.spread=ARe();zf.isAxiosError=DRe();U$.exports=zf;U$.exports.default=zf});var Am=T((iUr,RRe)=>{RRe.exports=NRe()});var $I=T((V$,G$)=>{(function(e,t){typeof V$=="object"&&typeof G$!="undefined"?G$.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(V$,function(){"use strict";var e={},t={};function r(i,o,a){if(t[i]=a,i==="index"){var c="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",p={};return t.shared(p),t.index(e,p),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([c],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(u,l,f,h){return new(f||(f=Promise))(function(_,w){function E(k){try{O(h.next(k))}catch(z){w(z)}}function C(k){try{O(h.throw(k))}catch(z){w(z)}}function O(k){var z;k.done?_(k.value):(z=k.value,z instanceof f?z:new f(function(U){U(z)})).then(E,C)}O((h=h.apply(u,l||[])).next())})}function a(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var c=p;function p(u,l){this.x=u,this.y=l}p.prototype={clone:function(){return new p(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,f=u.y-this.y;return l*l+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),f=Math.sin(u),h=f*this.x+l*this.y;return this.x=l*this.x-f*this.y,this.y=h,this},_rotateAround:function(u,l){var f=Math.cos(u),h=Math.sin(u),_=l.y+h*(this.x-l.x)+f*(this.y-l.y);return this.x=l.x+f*(this.x-l.x)-h*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},p.convert=function(u){return u instanceof p?u:Array.isArray(u)?new p(u[0],u[1]):u};var m=a(c),g=S;function S(u,l,f,h){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(h-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=h}S.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,h=0;h<8;h++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var w=this.sampleCurveDerivativeX(f);if(Math.abs(w)<1e-6)break;f-=_/w}var E=0,C=1;for(f=u,h=0;h<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));h++)u>_?E=f:C=f,f=.5*(C-E)+E;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var I=a(g);let M,P;function N(){return M==null&&(M=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),M}function L(){if(P==null&&(P=!1,N())){let l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let h=0;h<5*5;h++){let _=4*h;l.fillStyle=`rgb(${_},${_+1},${_+2})`,l.fillRect(h%5,Math.floor(h/5),1,1)}let f=l.getImageData(0,0,5,5).data;for(let h=0;h<5*5*4;h++)if(h%4!=3&&f[h]!==h){P=!0;break}}}return P||!1}function q(u,l,f,h){let _=new I(u,l,f,h);return w=>_.solve(w)}let j=q(.25,.1,.25,1);function B(u,l,f){return Math.min(f,Math.max(l,u))}function H(u,l,f){let h=f-l,_=((u-l)%h+h)%h+l;return _===l?f:_}function Q(u,...l){for(let f of l)for(let h in f)u[h]=f[h];return u}let ee=1;function ne(u,l,f){let h={};for(let _ in u)h[_]=l.call(this,u[_],_,u);return h}function de(u,l,f){let h={};for(let _ in u)l.call(this,u[_],_,u)&&(h[_]=u[_]);return h}function ue(u){return Array.isArray(u)?u.map(ue):typeof u=="object"&&u?ne(u,ue):u}let be={};function Ee(u){be[u]||(typeof console!="undefined"&&console.warn(u),be[u]=!0)}function Re(u,l,f){return(f.y-u.y)*(l.x-u.x)>(l.y-u.y)*(f.x-u.x)}function Ie(u){return typeof WorkerGlobalScope!="undefined"&&u!==void 0&&u instanceof WorkerGlobalScope}let We=null;function $e(u){return typeof ImageBitmap!="undefined"&&u instanceof ImageBitmap}let Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function je(u,l,f,h,_){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let w=new VideoFrame(u,{timestamp:0});try{let E=w==null?void 0:w.format;if(!E||!E.startsWith("BGR")&&!E.startsWith("RGB"))throw new Error(`Unrecognized format ${E}`);let C=E.startsWith("BGR"),O=new Uint8ClampedArray(h*_*4);if(yield w.copyTo(O,function(k,z,U,Z,Y){let te=4*Math.max(-z,0),ie=(Math.max(0,U)-U)*Z*4+te,fe=4*Z,me=Math.max(0,z),Ue=Math.max(0,U);return{rect:{x:me,y:Ue,width:Math.min(k.width,z+Z)-me,height:Math.min(k.height,U+Y)-Ue},layout:[{offset:ie,stride:fe}]}}(u,l,f,h,_)),C)for(let k=0;k<O.length;k+=4){let z=O[k];O[k]=O[k+2],O[k+2]=z}return O}finally{w.close()}})}let Ce,Xe,et="AbortError";function st(){return new Error(et)}let Ge={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ke(u){return Ge.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}let it="global-dispatcher";class Le extends Error{constructor(l,f,h,_){super(`AJAXError: ${f} (${l}): ${h}`),this.status=l,this.statusText=f,this.url=h,this.body=_}}let he=()=>Ie(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Be=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){let h=Ke(u.url);if(h)return h(u,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:it},l)}if(!(/^file:/.test(f=u.url)||/^file:/.test(he())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(h,_){return o(this,void 0,void 0,function*(){let w=new Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,cache:h.cache,referrer:he(),signal:_.signal});h.type!=="json"||w.headers.has("Accept")||w.headers.set("Accept","application/json");let E=yield fetch(w);if(!E.ok){let k=yield E.blob();throw new Le(E.status,E.statusText,h.url,k)}let C;C=h.type==="arrayBuffer"||h.type==="image"?E.arrayBuffer():h.type==="json"?E.json():E.text();let O=yield C;if(_.signal.aborted)throw st();return{data:O,cacheControl:E.headers.get("Cache-Control"),expires:E.headers.get("Expires")}})}(u,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:it},l)}var f;return function(h,_){return new Promise((w,E)=>{var C;let O=new XMLHttpRequest;O.open(h.method||"GET",h.url,!0),h.type!=="arrayBuffer"&&h.type!=="image"||(O.responseType="arraybuffer");for(let k in h.headers)O.setRequestHeader(k,h.headers[k]);h.type==="json"&&(O.responseType="text",!((C=h.headers)===null||C===void 0)&&C.Accept||O.setRequestHeader("Accept","application/json")),O.withCredentials=h.credentials==="include",O.onerror=()=>{E(new Error(O.statusText))},O.onload=()=>{if(!_.signal.aborted)if((O.status>=200&&O.status<300||O.status===0)&&O.response!==null){let k=O.response;if(h.type==="json")try{k=JSON.parse(O.response)}catch(z){return void E(z)}w({data:k,cacheControl:O.getResponseHeader("Cache-Control"),expires:O.getResponseHeader("Expires")})}else{let k=new Blob([O.response],{type:O.getResponseHeader("Content-Type")});E(new Le(O.status,O.statusText,h.url,k))}},_.signal.addEventListener("abort",()=>{O.abort(),E(st())}),O.send(h.body)})}(u,l)};function Me(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;let l=new URL(u),f=window.location;return l.protocol===f.protocol&&l.host===f.host}function tt(u,l,f){f[u]&&f[u].indexOf(l)!==-1||(f[u]=f[u]||[],f[u].push(l))}function Je(u,l,f){if(f&&f[u]){let h=f[u].indexOf(l);h!==-1&&f[u].splice(h,1)}}class xt{constructor(l,f={}){Q(this,f),this.type=l}}class bt extends xt{constructor(l,f={}){super("error",Q({error:l},f))}}class yt{on(l,f){return this._listeners=this._listeners||{},tt(l,f,this._listeners),this}off(l,f){return Je(l,f,this._listeners),Je(l,f,this._oneTimeListeners),this}once(l,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},tt(l,f,this._oneTimeListeners),this):new Promise(h=>this.once(l,h))}fire(l,f){typeof l=="string"&&(l=new xt(l,f||{}));let h=l.type;if(this.listens(h)){l.target=this;let _=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(let C of _)C.call(this,l);let w=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(let C of w)Je(h,C,this._oneTimeListeners),C.call(this,l);let E=this._eventedParent;E&&(Q(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(l))}else l instanceof bt&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,f){return this._eventedParent=l,this._eventedParentData=f,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let pt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Vt(u,l){let f={};for(let h in u)h!=="ref"&&(f[h]=u[h]);return pt.forEach(h=>{h in l&&(f[h]=l[h])}),f}function dt(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let f=0;f<u.length;f++)if(!dt(u[f],l[f]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(let f in u)if(!dt(u[f],l[f]))return!1;return!0}return u===l}function Zt(u,l){u.push(l)}function ur(u,l,f){Zt(f,{command:"addSource",args:[u,l[u]]})}function Gt(u,l,f){Zt(l,{command:"removeSource",args:[u]}),f[u]=!0}function pr(u,l,f,h){Gt(u,f,h),ur(u,l,f)}function Wr(u,l,f){let h;for(h in u[f])if(Object.prototype.hasOwnProperty.call(u[f],h)&&h!=="data"&&!dt(u[f][h],l[f][h]))return!1;for(h in l[f])if(Object.prototype.hasOwnProperty.call(l[f],h)&&h!=="data"&&!dt(u[f][h],l[f][h]))return!1;return!0}function $r(u,l,f,h,_,w){u=u||{},l=l||{};for(let E in u)Object.prototype.hasOwnProperty.call(u,E)&&(dt(u[E],l[E])||f.push({command:w,args:[h,E,l[E],_]}));for(let E in l)Object.prototype.hasOwnProperty.call(l,E)&&!Object.prototype.hasOwnProperty.call(u,E)&&(dt(u[E],l[E])||f.push({command:w,args:[h,E,l[E],_]}))}function cr(u){return u.id}function pn(u,l){return u[l.id]=l,u}class ut{constructor(l,f,h,_){this.message=(l?`${l}: `:"")+h,_&&(this.identifier=_),f!=null&&f.__line__&&(this.line=f.__line__)}}function Pi(u,...l){for(let f of l)for(let h in f)u[h]=f[h];return u}class kn extends Error{constructor(l,f){super(f),this.message=f,this.key=l}}class Zs{constructor(l,f=[]){this.parent=l,this.bindings={};for(let[h,_]of f)this.bindings[h]=_}concat(l){return new Zs(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}let gu={kind:"null"},Et={kind:"number"},Nr={kind:"string"},gr={kind:"boolean"},Ho={kind:"color"},_s={kind:"object"},Ae={kind:"value"},qe={kind:"collator"},ft={kind:"formatted"},Rt={kind:"padding"},Nt={kind:"resolvedImage"},ae={kind:"variableAnchorOffsetCollection"};function $(u,l){return{kind:"array",itemType:u,N:l}}function W(u){if(u.kind==="array"){let l=W(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}let K=[gu,Et,Nr,gr,Ho,ft,_s,$(Ae),Rt,Nt,ae];function se(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!se(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(let f of K)if(!se(f,l))return null}}return`Expected ${W(u)} but found ${W(l)} instead.`}function _e(u,l){return l.some(f=>f.kind===u.kind)}function Se(u,l){return l.some(f=>f==="null"?u===null:f==="array"?Array.isArray(u):f==="object"?u&&!Array.isArray(u)&&typeof u=="object":f===typeof u)}function Pe(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}let ve=.96422,Ze=.82521,ot=4/29,He=6/29,gt=3*He*He,Kt=He*He*He,fr=Math.PI/180,gn=180/Math.PI;function Dr(u){return(u%=360)<0&&(u+=360),u}function vn([u,l,f,h]){let _,w,E=eo((.2225045*(u=rn(u))+.7168786*(l=rn(l))+.0606169*(f=rn(f)))/1);u===l&&l===f?_=w=E:(_=eo((.4360747*u+.3850649*l+.1430804*f)/ve),w=eo((.0139322*u+.0971045*l+.7141733*f)/Ze));let C=116*E-16;return[C<0?0:C,500*(_-E),200*(E-w),h]}function rn(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function eo(u){return u>Kt?Math.pow(u,1/3):u/gt+ot}function Li([u,l,f,h]){let _=(u+16)/116,w=isNaN(l)?_:_+l/500,E=isNaN(f)?_:_-f/200;return _=1*jn(_),w=ve*jn(w),E=Ze*jn(E),[Gr(3.1338561*w-1.6168667*_-.4906146*E),Gr(-.9787684*w+1.9161415*_+.033454*E),Gr(.0719453*w-.2289914*_+1.4052427*E),h]}function Gr(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function jn(u){return u>He?u*u*u:gt*(u-ot)}function Si(u){return parseInt(u.padEnd(2,u),16)/255}function Eo(u,l){return Lo(l?u/100:u,0,1)}function Lo(u,l,f){return Math.min(Math.max(l,u),f)}function fa(u){return!u.some(Number.isNaN)}let Yd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class zn{constructor(l,f,h,_=1,w=!0){this.r=l,this.g=f,this.b=h,this.a=_,w||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,f,h,_]))}static parse(l){if(l instanceof zn)return l;if(typeof l!="string")return;let f=function(h){if((h=h.toLowerCase().trim())==="transparent")return[0,0,0,0];let _=Yd[h];if(_){let[E,C,O]=_;return[E/255,C/255,O/255,1]}if(h.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(h)){let E=h.length<6?1:2,C=1;return[Si(h.slice(C,C+=E)),Si(h.slice(C,C+=E)),Si(h.slice(C,C+=E)),Si(h.slice(C,C+E)||"ff")]}if(h.startsWith("rgb")){let E=h.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){let[C,O,k,z,U,Z,Y,te,ie,fe,me,Ue]=E,we=[z||" ",Y||" ",fe].join("");if(we==="  "||we==="  /"||we===",,"||we===",,,"){let ze=[k,Z,ie].join(""),Ye=ze==="%%%"?100:ze===""?255:0;if(Ye){let ct=[Lo(+O/Ye,0,1),Lo(+U/Ye,0,1),Lo(+te/Ye,0,1),me?Eo(+me,Ue):1];if(fa(ct))return ct}}return}}let w=h.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){let[E,C,O,k,z,U,Z,Y,te]=w,ie=[O||" ",z||" ",Z].join("");if(ie==="  "||ie==="  /"||ie===",,"||ie===",,,"){let fe=[+C,Lo(+k,0,100),Lo(+U,0,100),Y?Eo(+Y,te):1];if(fa(fe))return function([me,Ue,we,ze]){function Ye(ct){let jt=(ct+me/30)%12,dr=Ue*Math.min(we,1-we);return we-dr*Math.max(-1,Math.min(jt-3,9-jt,1))}return me=Dr(me),Ue/=100,we/=100,[Ye(0),Ye(8),Ye(4),ze]}(fe)}}}(l);return f?new zn(...f,!1):void 0}get rgb(){let{r:l,g:f,b:h,a:_}=this,w=_||1/0;return this.overwriteGetter("rgb",[l/w,f/w,h/w,_])}get hcl(){return this.overwriteGetter("hcl",function(l){let[f,h,_,w]=vn(l),E=Math.sqrt(h*h+_*_);return[Math.round(1e4*E)?Dr(Math.atan2(_,h)*gn):NaN,E,f,w]}(this.rgb))}get lab(){return this.overwriteGetter("lab",vn(this.rgb))}overwriteGetter(l,f){return Object.defineProperty(this,l,{value:f}),f}toString(){let[l,f,h,_]=this.rgb;return`rgba(${[l,f,h].map(w=>Math.round(255*w)).join(",")},${_})`}}zn.black=new zn(0,0,0,1),zn.white=new zn(1,1,1,1),zn.transparent=new zn(0,0,0,0),zn.red=new zn(1,0,0,1);class Tb{constructor(l,f,h){this.sensitivity=l?f?"variant":"case":f?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,f){return this.collator.compare(l,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Cb{constructor(l,f,h,_,w){this.text=l,this.image=f,this.scale=h,this.fontStack=_,this.textColor=w}}class xs{constructor(l){this.sections=l}static fromString(l){return new xs([new Cb(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof xs?l:xs.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class bs{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof bs)return l;if(typeof l=="number")return new bs([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(let f of l)if(typeof f!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]];}return new bs(l)}}toString(){return JSON.stringify(this.values)}}let rj=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ys{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ys)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let f=0;f<l.length;f+=2){let h=l[f],_=l[f+1];if(typeof h!="string"||!rj.has(h)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new Ys(l)}}toString(){return JSON.stringify(this.values)}}class ws{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ws({name:l,available:!1}):null}}function Kd(u,l,f,h){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof f=="number"&&f>=0&&f<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[u,l,f,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[u,l,f,h]:[u,l,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _p(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof zn||u instanceof Tb||u instanceof xs||u instanceof bs||u instanceof Ys||u instanceof ws)return!0;if(Array.isArray(u)){for(let l of u)if(!_p(l))return!1;return!0}if(typeof u=="object"){for(let l in u)if(!_p(u[l]))return!1;return!0}return!1}function to(u){if(u===null)return gu;if(typeof u=="string")return Nr;if(typeof u=="boolean")return gr;if(typeof u=="number")return Et;if(u instanceof zn)return Ho;if(u instanceof Tb)return qe;if(u instanceof xs)return ft;if(u instanceof bs)return Rt;if(u instanceof Ys)return ae;if(u instanceof ws)return Nt;if(Array.isArray(u)){let l=u.length,f;for(let h of u){let _=to(h);if(f){if(f===_)continue;f=Ae;break}f=_}return $(f||Ae,l)}return _s}function xg(u){let l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof zn||u instanceof xs||u instanceof bs||u instanceof Ys||u instanceof ws?u.toString():JSON.stringify(u)}class ql{constructor(l,f){this.type=l,this.value=f}static parse(l,f){if(l.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!_p(l[1]))return f.error("invalid value");let h=l[1],_=to(h),w=f.expectedType;return _.kind!=="array"||_.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(_=w),new ql(_,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class $i{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}let Yy={string:Nr,number:Et,boolean:gr,object:_s};class jl{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h,_=1,w=l[0];if(w==="array"){let C,O;if(l.length>2){let k=l[1];if(typeof k!="string"||!(k in Yy)||k==="object")return f.error("The item type argument of \"array\" must be one of string, number, boolean",1);C=Yy[k],_++}else C=Ae;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return f.error("The length argument to \"array\" must be a positive integer literal",2);O=l[2],_++}h=$(C,O)}else{if(!Yy[w])throw new Error(`Types doesn't contain name = ${w}`);h=Yy[w]}let E=[];for(;_<l.length;_++){let C=f.parse(l[_],_,Ae);if(!C)return null;E.push(C)}return new jl(h,E)}evaluate(l){for(let f=0;f<this.args.length;f++){let h=this.args[f].evaluate(l);if(!se(this.type,to(h)))return h;if(f===this.args.length-1)throw new $i(`Expected value to be of type ${W(this.type)}, but found ${W(to(h))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}let Mb={"to-boolean":gr,"to-color":Ho,"to-number":Et,"to-string":Nr};class zl{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h=l[0];if(!Mb[h])throw new Error(`Can't parse ${h} as it is not part of the known types`);if((h==="to-boolean"||h==="to-string")&&l.length!==2)return f.error("Expected one argument.");let _=Mb[h],w=[];for(let E=1;E<l.length;E++){let C=f.parse(l[E],E,Ae);if(!C)return null;w.push(C)}return new zl(_,w)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let f,h;for(let _ of this.args){if(f=_.evaluate(l),h=null,f instanceof zn)return f;if(typeof f=="string"){let w=l.parseColor(f);if(w)return w}else if(Array.isArray(f)&&(h=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:Kd(f[0],f[1],f[2],f[3]),!h))return new zn(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new $i(h||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(let h of this.args){f=h.evaluate(l);let _=bs.parse(f);if(_)return _}throw new $i(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(let h of this.args){f=h.evaluate(l);let _=Ys.parse(f);if(_)return _}throw new $i(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(let h of this.args){if(f=h.evaluate(l),f===null)return 0;let _=Number(f);if(!isNaN(_))return _}throw new $i(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return xs.fromString(xg(this.args[0].evaluate(l)));case"resolvedImage":return ws.fromString(xg(this.args[0].evaluate(l)));default:return xg(this.args[0].evaluate(l));}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}let nj=["Unknown","Point","LineString","Polygon"];class Ky{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?nj[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let f=this._parseColorCache[l];return f||(f=this._parseColorCache[l]=zn.parse(l)),f}}class xp{constructor(l,f,h=[],_,w=new Zs,E=[]){this.registry=l,this.path=h,this.key=h.map(C=>`[${C}]`).join(""),this.scope=w,this.errors=E,this.expectedType=_,this._isConstant=f}parse(l,f,h,_,w={}){return f?this.concat(f,h,_)._parse(l,w):this._parse(l,w)}_parse(l,f){function h(_,w,E){return E==="assert"?new jl(w,[_]):E==="coerce"?new zl(w,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let w=this.registry[_];if(w){let E=w.parse(l,this);if(!E)return null;if(this.expectedType){let C=this.expectedType,O=E.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||O.kind!=="value"){if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||O.kind!=="value"&&O.kind!=="string"){if(C.kind!=="padding"||O.kind!=="value"&&O.kind!=="number"&&O.kind!=="array"){if(C.kind!=="variableAnchorOffsetCollection"||O.kind!=="value"&&O.kind!=="array"){if(this.checkSubtype(C,O))return null}else E=h(E,C,f.typeAnnotation||"coerce");}else E=h(E,C,f.typeAnnotation||"coerce");}else E=h(E,C,f.typeAnnotation||"coerce");}else E=h(E,C,f.typeAnnotation||"assert")}if(!(E instanceof ql)&&E.type.kind!=="resolvedImage"&&this._isConstant(E)){let C=new Ky;try{E=new ql(E.type,E.evaluate(C))}catch(O){return this.error(O.message),null}}return E}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof l} instead.`)}concat(l,f,h){let _=typeof l=="number"?this.path.concat(l):this.path,w=h?this.scope.concat(h):this.scope;return new xp(this.registry,this._isConstant,_,f||null,w,this.errors)}error(l,...f){let h=`${this.key}${f.map(_=>`[${_}]`).join("")}`;this.errors.push(new kn(h,l))}checkSubtype(l,f){let h=se(l,f);return h&&this.error(h),h}}class sf{constructor(l,f){this.type=f.type,this.bindings=[].concat(l),this.result=f}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(let f of this.bindings)l(f[1]);l(this.result)}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);let h=[];for(let w=1;w<l.length-1;w+=2){let E=l[w];if(typeof E!="string")return f.error(`Expected string, but found ${typeof E} instead.`,w);if(/[^a-zA-Z0-9_]/.test(E))return f.error("Variable names must contain only alphanumeric characters or '_'.",w);let C=f.parse(l[w+1],w+1);if(!C)return null;h.push([E,C])}let _=f.parse(l[l.length-1],l.length-1,f.expectedType,h);return _?new sf(h,_):null}outputDefined(){return this.result.outputDefined()}}class Sn{constructor(l,f){this.type=f.type,this.name=l,this.boundExpression=f}static parse(l,f){if(l.length!==2||typeof l[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");let h=l[1];return f.scope.has(h)?new Sn(h,f.scope.get(h)):f.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Ab{constructor(l,f,h){this.type=l,this.index=f,this.input=h}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Et),_=f.parse(l[2],2,$(f.expectedType||Ae));return h&&_?new Ab(_.type.itemType,h,_):null}evaluate(l){let f=this.index.evaluate(l),h=this.input.evaluate(l);if(f<0)throw new $i(`Array index out of bounds: ${f} < 0.`);if(f>=h.length)throw new $i(`Array index out of bounds: ${f} > ${h.length-1}.`);if(f!==Math.floor(f))throw new $i(`Array index must be an integer, but found ${f} instead.`);return h[f]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Ob{constructor(l,f){this.type=gr,this.needle=l,this.haystack=f}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ae),_=f.parse(l[2],2,Ae);return h&&_?_e(h.type,[gr,Nr,Et,gu,Ae])?new Ob(h,_):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${W(h.type)} instead`):null}evaluate(l){let f=this.needle.evaluate(l),h=this.haystack.evaluate(l);if(!h)return!1;if(!Se(f,["boolean","string","number","null"]))throw new $i(`Expected first argument to be of type boolean, string, number or null, but found ${W(to(f))} instead.`);if(!Se(h,["string","array"]))throw new $i(`Expected second argument to be of type array or string, but found ${W(to(h))} instead.`);return h.indexOf(f)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Xd{constructor(l,f,h){this.type=Et,this.needle=l,this.haystack=f,this.fromIndex=h}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ae),_=f.parse(l[2],2,Ae);if(!h||!_)return null;if(!_e(h.type,[gr,Nr,Et,gu,Ae]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${W(h.type)} instead`);if(l.length===4){let w=f.parse(l[3],3,Et);return w?new Xd(h,_,w):null}return new Xd(h,_)}evaluate(l){let f=this.needle.evaluate(l),h=this.haystack.evaluate(l);if(!Se(f,["boolean","string","number","null"]))throw new $i(`Expected first argument to be of type boolean, string, number or null, but found ${W(to(f))} instead.`);let _;if(this.fromIndex&&(_=this.fromIndex.evaluate(l)),Se(h,["string"])){let w=h.indexOf(f,_);return w===-1?-1:[...h.slice(0,w)].length}if(Se(h,["array"]))return h.indexOf(f,_);throw new $i(`Expected second argument to be of type array or string, but found ${W(to(h))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Db{constructor(l,f,h,_,w,E){this.inputType=l,this.type=f,this.input=h,this.cases=_,this.outputs=w,this.otherwise=E}static parse(l,f){if(l.length<5)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return f.error("Expected an even number of arguments.");let h,_;f.expectedType&&f.expectedType.kind!=="value"&&(_=f.expectedType);let w={},E=[];for(let k=2;k<l.length-1;k+=2){let z=l[k],U=l[k+1];Array.isArray(z)||(z=[z]);let Z=f.concat(k);if(z.length===0)return Z.error("Expected at least one branch label.");for(let te of z){if(typeof te!="number"&&typeof te!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof te=="number"&&Math.abs(te)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof te=="number"&&Math.floor(te)!==te)return Z.error("Numeric branch labels must be integer values.");if(h){if(Z.checkSubtype(h,to(te)))return null}else h=to(te);if(w[String(te)]!==void 0)return Z.error("Branch labels must be unique.");w[String(te)]=E.length}let Y=f.parse(U,k,_);if(!Y)return null;_=_||Y.type,E.push(Y)}let C=f.parse(l[1],1,Ae);if(!C)return null;let O=f.parse(l[l.length-1],l.length-1,_);return O?C.type.kind!=="value"&&f.concat(1).checkSubtype(h,C.type)?null:new Db(h,_,C,w,E,O):null}evaluate(l){let f=this.input.evaluate(l);return(to(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class Xy{constructor(l,f,h){this.type=l,this.branches=f,this.otherwise=h}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return f.error("Expected an odd number of arguments.");let h;f.expectedType&&f.expectedType.kind!=="value"&&(h=f.expectedType);let _=[];for(let E=1;E<l.length-1;E+=2){let C=f.parse(l[E],E,gr);if(!C)return null;let O=f.parse(l[E+1],E+1,h);if(!O)return null;_.push([C,O]),h=h||O.type}let w=f.parse(l[l.length-1],l.length-1,h);if(!w)return null;if(!h)throw new Error("Can't infer output type");return new Xy(h,_,w)}evaluate(l){for(let[f,h]of this.branches)if(f.evaluate(l))return h.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(let[f,h]of this.branches)l(f),l(h);l(this.otherwise)}outputDefined(){return this.branches.every(([l,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class bg{constructor(l,f,h,_){this.type=l,this.input=f,this.beginIndex=h,this.endIndex=_}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);let h=f.parse(l[1],1,Ae),_=f.parse(l[2],2,Et);if(!h||!_)return null;if(!_e(h.type,[$(Ae),Nr,Ae]))return f.error(`Expected first argument to be of type array or string, but found ${W(h.type)} instead`);if(l.length===4){let w=f.parse(l[3],3,Et);return w?new bg(h.type,h,_,w):null}return new bg(h.type,h,_)}evaluate(l){let f=this.input.evaluate(l),h=this.beginIndex.evaluate(l),_;if(this.endIndex&&(_=this.endIndex.evaluate(l)),Se(f,["string"]))return[...f].slice(h,_).join("");if(Se(f,["array"]))return f.slice(h,_);throw new $i(`Expected first argument to be of type array or string, but found ${W(to(f))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Qy(u,l){let f=u.length-1,h,_,w=0,E=f,C=0;for(;w<=E;)if(C=Math.floor((w+E)/2),h=u[C],_=u[C+1],h<=l){if(C===f||l<_)return C;w=C+1}else{if(!(h>l))throw new $i("Input is not a number.");E=C-1}return 0}class Qd{constructor(l,f,h){this.type=l,this.input=f,this.labels=[],this.outputs=[];for(let[_,w]of h)this.labels.push(_),this.outputs.push(w)}static parse(l,f){if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");let h=f.parse(l[1],1,Et);if(!h)return null;let _=[],w=null;f.expectedType&&f.expectedType.kind!=="value"&&(w=f.expectedType);for(let E=1;E<l.length;E+=2){let C=E===1?-1/0:l[E],O=l[E+1],k=E,z=E+1;if(typeof C!="number")return f.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",k);if(_.length&&_[_.length-1][0]>=C)return f.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",k);let U=f.parse(O,z,w);if(!U)return null;w=w||U.type,_.push([C,U])}return new Qd(w,h,_)}evaluate(l){let f=this.labels,h=this.outputs;if(f.length===1)return h[0].evaluate(l);let _=this.input.evaluate(l);if(_<=f[0])return h[0].evaluate(l);let w=f.length;return _>=f[w-1]?h[w-1].evaluate(l):h[Qy(f,_)].evaluate(l)}eachChild(l){l(this.input);for(let f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function LC(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ij=NC;function NC(u,l,f,h){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(h-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=h}NC.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,h=0;h<8;h++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var w=this.sampleCurveDerivativeX(f);if(Math.abs(w)<1e-6)break;f-=_/w}var E=0,C=1;for(f=u,h=0;h<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));h++)u>_?E=f:C=f,f=.5*(C-E)+E;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var oj=LC(ij);function bp(u,l,f){return u+f*(l-u)}function wg(u,l,f){return u.map((h,_)=>bp(h,l[_],f))}let Fa={number:bp,color:function(u,l,f,h="rgb"){switch(h){case"rgb":{let[_,w,E,C]=wg(u.rgb,l.rgb,f);return new zn(_,w,E,C,!1)}case"hcl":{let[_,w,E,C]=u.hcl,[O,k,z,U]=l.hcl,Z,Y;if(isNaN(_)||isNaN(O))isNaN(_)?isNaN(O)?Z=NaN:(Z=O,E!==1&&E!==0||(Y=k)):(Z=_,z!==1&&z!==0||(Y=w));else{let Ue=O-_;O>_&&Ue>180?Ue-=360:O<_&&_-O>180&&(Ue+=360),Z=_+f*Ue}let[te,ie,fe,me]=function([Ue,we,ze,Ye]){return Ue=isNaN(Ue)?0:Ue*fr,Li([ze,Math.cos(Ue)*we,Math.sin(Ue)*we,Ye])}([Z,Y!=null?Y:bp(w,k,f),bp(E,z,f),bp(C,U,f)]);return new zn(te,ie,fe,me,!1)}case"lab":{let[_,w,E,C]=Li(wg(u.lab,l.lab,f));return new zn(_,w,E,C,!1)}}},array:wg,padding:function(u,l,f){return new bs(wg(u.values,l.values,f))},variableAnchorOffsetCollection:function(u,l,f){let h=u.values,_=l.values;if(h.length!==_.length)throw new $i(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);let w=[];for(let E=0;E<h.length;E+=2){if(h[E]!==_[E])throw new $i(`Cannot interpolate values containing mismatched anchors. from[${E}]: ${h[E]}, to[${E}]: ${_[E]}`);w.push(h[E]);let[C,O]=h[E+1],[k,z]=_[E+1];w.push([bp(C,k,f),bp(O,z,f)])}return new Ys(w)}};class Ba{constructor(l,f,h,_,w){this.type=l,this.operator=f,this.interpolation=h,this.input=_,this.labels=[],this.outputs=[];for(let[E,C]of w)this.labels.push(E),this.outputs.push(C)}static interpolationFactor(l,f,h,_){let w=0;if(l.name==="exponential")w=Jy(f,l.base,h,_);else if(l.name==="linear")w=Jy(f,1,h,_);else if(l.name==="cubic-bezier"){let E=l.controlPoints;w=new oj(E[0],E[1],E[2],E[3]).solve(Jy(f,1,h,_))}return w}static parse(l,f){let[h,_,w,...E]=l;if(!Array.isArray(_)||_.length===0)return f.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){let k=_[1];if(typeof k!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:k}}else{if(_[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(_[0])}`,1,0);{let k=_.slice(1);if(k.length!==4||k.some(z=>typeof z!="number"||z<0||z>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:k}}}if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(w=f.parse(w,2,Et),!w)return null;let C=[],O=null;h==="interpolate-hcl"||h==="interpolate-lab"?O=Ho:f.expectedType&&f.expectedType.kind!=="value"&&(O=f.expectedType);for(let k=0;k<E.length;k+=2){let z=E[k],U=E[k+1],Z=k+3,Y=k+4;if(typeof z!="number")return f.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",Z);if(C.length&&C[C.length-1][0]>=z)return f.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",Z);let te=f.parse(U,Y,O);if(!te)return null;O=O||te.type,C.push([z,te])}return Pe(O,Et)||Pe(O,Ho)||Pe(O,Rt)||Pe(O,ae)||Pe(O,$(Et))?new Ba(O,h,_,w,C):f.error(`Type ${W(O)} is not interpolatable.`)}evaluate(l){let f=this.labels,h=this.outputs;if(f.length===1)return h[0].evaluate(l);let _=this.input.evaluate(l);if(_<=f[0])return h[0].evaluate(l);let w=f.length;if(_>=f[w-1])return h[w-1].evaluate(l);let E=Qy(f,_),C=Ba.interpolationFactor(this.interpolation,_,f[E],f[E+1]),O=h[E].evaluate(l),k=h[E+1].evaluate(l);switch(this.operator){case"interpolate":return Fa[this.type.kind](O,k,C);case"interpolate-hcl":return Fa.color(O,k,C,"hcl");case"interpolate-lab":return Fa.color(O,k,C,"lab");}}eachChild(l){l(this.input);for(let f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Jy(u,l,f,h){let _=h-f,w=u-f;return _===0?0:l===1?w/_:(Math.pow(l,w)-1)/(Math.pow(l,_)-1)}class e0{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expectected at least one argument.");let h=null,_=f.expectedType;_&&_.kind!=="value"&&(h=_);let w=[];for(let C of l.slice(1)){let O=f.parse(C,1+w.length,h,void 0,{typeAnnotation:"omit"});if(!O)return null;h=h||O.type,w.push(O)}if(!h)throw new Error("No output type");let E=_&&w.some(C=>se(_,C.type));return new e0(E?Ae:h,w)}evaluate(l){let f,h=null,_=0;for(let w of this.args)if(_++,h=w.evaluate(l),h&&h instanceof ws&&!h.available&&(f||(f=h.name),h=null,_===this.args.length&&(h=f)),h!==null)break;return h}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}function t0(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function RC(u,l,f,h){return h.compare(l,f)===0}function Jd(u,l,f){let h=u!=="=="&&u!=="!=";return class kRe{constructor(w,E,C){this.type=gr,this.lhs=w,this.rhs=E,this.collator=C,this.hasUntypedArgument=w.type.kind==="value"||E.type.kind==="value"}static parse(w,E){if(w.length!==3&&w.length!==4)return E.error("Expected two or three arguments.");let C=w[0],O=E.parse(w[1],1,Ae);if(!O)return null;if(!t0(C,O.type))return E.concat(1).error(`"${C}" comparisons are not supported for type '${W(O.type)}'.`);let k=E.parse(w[2],2,Ae);if(!k)return null;if(!t0(C,k.type))return E.concat(2).error(`"${C}" comparisons are not supported for type '${W(k.type)}'.`);if(O.type.kind!==k.type.kind&&O.type.kind!=="value"&&k.type.kind!=="value")return E.error(`Cannot compare types '${W(O.type)}' and '${W(k.type)}'.`);h&&(O.type.kind==="value"&&k.type.kind!=="value"?O=new jl(k.type,[O]):O.type.kind!=="value"&&k.type.kind==="value"&&(k=new jl(O.type,[k])));let z=null;if(w.length===4){if(O.type.kind!=="string"&&k.type.kind!=="string"&&O.type.kind!=="value"&&k.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(z=E.parse(w[3],3,qe),!z)return null}return new kRe(O,k,z)}evaluate(w){let E=this.lhs.evaluate(w),C=this.rhs.evaluate(w);if(h&&this.hasUntypedArgument){let O=to(E),k=to(C);if(O.kind!==k.kind||O.kind!=="string"&&O.kind!=="number")throw new $i(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${O.kind}, ${k.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){let O=to(E),k=to(C);if(O.kind!=="string"||k.kind!=="string")return l(w,E,C)}return this.collator?f(w,E,C,this.collator.evaluate(w)):l(w,E,C)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}}}let aj=Jd("==",function(u,l,f){return l===f},RC),kC=Jd("!=",function(u,l,f){return l!==f},function(u,l,f,h){return!RC(0,l,f,h)}),qC=Jd("<",function(u,l,f){return l<f},function(u,l,f,h){return h.compare(l,f)<0}),sj=Jd(">",function(u,l,f){return l>f},function(u,l,f,h){return h.compare(l,f)>0}),lj=Jd("<=",function(u,l,f){return l<=f},function(u,l,f,h){return h.compare(l,f)<=0}),jC=Jd(">=",function(u,l,f){return l>=f},function(u,l,f,h){return h.compare(l,f)>=0});class Sg{constructor(l,f,h){this.type=qe,this.locale=h,this.caseSensitive=l,this.diacriticSensitive=f}static parse(l,f){if(l.length!==2)return f.error("Expected one argument.");let h=l[1];if(typeof h!="object"||Array.isArray(h))return f.error("Collator options argument must be an object.");let _=f.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,gr);if(!_)return null;let w=f.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,gr);if(!w)return null;let E=null;return h.locale&&(E=f.parse(h.locale,1,Nr),!E)?null:new Sg(_,w,E)}evaluate(l){return new Tb(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class Pb{constructor(l,f,h,_,w){this.type=Nr,this.number=l,this.locale=f,this.currency=h,this.minFractionDigits=_,this.maxFractionDigits=w}static parse(l,f){if(l.length!==3)return f.error("Expected two arguments.");let h=f.parse(l[1],1,Et);if(!h)return null;let _=l[2];if(typeof _!="object"||Array.isArray(_))return f.error("NumberFormat options argument must be an object.");let w=null;if(_.locale&&(w=f.parse(_.locale,1,Nr),!w))return null;let E=null;if(_.currency&&(E=f.parse(_.currency,1,Nr),!E))return null;let C=null;if(_["min-fraction-digits"]&&(C=f.parse(_["min-fraction-digits"],1,Et),!C))return null;let O=null;return _["max-fraction-digits"]&&(O=f.parse(_["max-fraction-digits"],1,Et),!O)?null:new Pb(h,w,E,C,O)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class r0{constructor(l){this.type=ft,this.sections=l}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let h=l[1];if(!Array.isArray(h)&&typeof h=="object")return f.error("First argument must be an image or text section.");let _=[],w=!1;for(let E=1;E<=l.length-1;++E){let C=l[E];if(w&&typeof C=="object"&&!Array.isArray(C)){w=!1;let O=null;if(C["font-scale"]&&(O=f.parse(C["font-scale"],1,Et),!O))return null;let k=null;if(C["text-font"]&&(k=f.parse(C["text-font"],1,$(Nr)),!k))return null;let z=null;if(C["text-color"]&&(z=f.parse(C["text-color"],1,Ho),!z))return null;let U=_[_.length-1];U.scale=O,U.font=k,U.textColor=z}else{let O=f.parse(l[E],1,Ae);if(!O)return null;let k=O.type.kind;if(k!=="string"&&k!=="value"&&k!=="null"&&k!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,_.push({content:O,scale:null,font:null,textColor:null})}}return new r0(_)}evaluate(l){return new xs(this.sections.map(f=>{let h=f.content.evaluate(l);return to(h)===Nt?new Cb("",h,null,null,null):new Cb(xg(h),null,f.scale?f.scale.evaluate(l):null,f.font?f.font.evaluate(l).join(","):null,f.textColor?f.textColor.evaluate(l):null)}))}eachChild(l){for(let f of this.sections)l(f.content),f.scale&&l(f.scale),f.font&&l(f.font),f.textColor&&l(f.textColor)}outputDefined(){return!1}}class Lb{constructor(l){this.type=Nt,this.input=l}static parse(l,f){if(l.length!==2)return f.error("Expected two arguments.");let h=f.parse(l[1],1,Nr);return h?new Lb(h):f.error("No image name provided.")}evaluate(l){let f=this.input.evaluate(l),h=ws.fromString(f);return h&&l.availableImages&&(h.available=l.availableImages.indexOf(f)>-1),h}eachChild(l){l(this.input)}outputDefined(){return!1}}class Nb{constructor(l){this.type=Et,this.input=l}static parse(l,f){if(l.length!==2)return f.error(`Expected 1 argument, but found ${l.length-1} instead.`);let h=f.parse(l[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${W(h.type)} instead.`):new Nb(h):null}evaluate(l){let f=this.input.evaluate(l);if(typeof f=="string")return[...f].length;if(Array.isArray(f))return f.length;throw new $i(`Expected value to be of type string or array, but found ${W(to(f))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}let vu=8192;function uj(u,l){let f=(180+u[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(f*_*vu),Math.round(h*_*vu)]}function Rb(u,l){let f=Math.pow(2,l.z);return[(_=(u[0]/vu+l.x)/f,360*_-180),(h=(u[1]/vu+l.y)/f,360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90)];var h,_}function wp(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function lf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function Pn(u,l,f){let h=u[0]-l[0],_=u[1]-l[1],w=u[0]-f[0],E=u[1]-f[1];return h*E-w*_==0&&h*w<=0&&_*E<=0}function n0(u,l,f,h){return(_=[h[0]-f[0],h[1]-f[1]])[0]*(w=[l[0]-u[0],l[1]-u[1]])[1]-_[1]*w[0]!=0&&!(!FC(u,l,f,h)||!FC(f,h,u,l));var _,w}function cj(u,l,f){for(let h of f)for(let _=0;_<h.length-1;++_)if(n0(u,l,h[_],h[_+1]))return!0;return!1}function eh(u,l,f=!1){let h=!1;for(let C of l)for(let O=0;O<C.length-1;O++){if(Pn(u,C[O],C[O+1]))return f;(w=C[O])[1]>(_=u)[1]!=(E=C[O+1])[1]>_[1]&&_[0]<(E[0]-w[0])*(_[1]-w[1])/(E[1]-w[1])+w[0]&&(h=!h)}var _,w,E;return h}function fj(u,l){for(let f of l)if(eh(u,f))return!0;return!1}function zC(u,l){for(let f of u)if(!eh(f,l))return!1;for(let f=0;f<u.length-1;++f)if(cj(u[f],u[f+1],l))return!1;return!0}function pj(u,l){for(let f of l)if(zC(u,f))return!0;return!1}function FC(u,l,f,h){let _=h[0]-f[0],w=h[1]-f[1],E=(u[0]-f[0])*w-_*(u[1]-f[1]),C=(l[0]-f[0])*w-_*(l[1]-f[1]);return E>0&&C<0||E<0&&C>0}function kb(u,l,f){let h=[];for(let _=0;_<u.length;_++){let w=[];for(let E=0;E<u[_].length;E++){let C=uj(u[_][E],f);wp(l,C),w.push(C)}h.push(w)}return h}function BC(u,l,f){let h=[];for(let _=0;_<u.length;_++){let w=kb(u[_],l,f);h.push(w)}return h}function UC(u,l,f,h){if(u[0]<f[0]||u[0]>f[2]){let _=.5*h,w=u[0]-f[0]>_?-h:f[0]-u[0]>_?h:0;w===0&&(w=u[0]-f[2]>_?-h:f[2]-u[0]>_?h:0),u[0]+=w}wp(l,u)}function VC(u,l,f,h){let _=Math.pow(2,h.z)*vu,w=[h.x*vu,h.y*vu],E=[];for(let C of u)for(let O of C){let k=[O.x+w[0],O.y+w[1]];UC(k,l,f,_),E.push(k)}return E}function GC(u,l,f,h){let _=Math.pow(2,h.z)*vu,w=[h.x*vu,h.y*vu],E=[];for(let O of u){let k=[];for(let z of O){let U=[z.x+w[0],z.y+w[1]];wp(l,U),k.push(U)}E.push(k)}if(l[2]-l[0]<=_/2){(C=l)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(let O of E)for(let k of O)UC(k,l,f,_)}var C;return E}class Sp{constructor(l,f){this.type=gr,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(_p(l[1])){let h=l[1];if(h.type==="FeatureCollection"){let _=[];for(let w of h.features){let{type:E,coordinates:C}=w.geometry;E==="Polygon"&&_.push(C),E==="MultiPolygon"&&_.push(...C)}if(_.length)return new Sp(h,{type:"MultiPolygon",coordinates:_})}else if(h.type==="Feature"){let _=h.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Sp(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Sp(h,h)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,h){let _=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],E=f.canonicalID();if(h.type==="Polygon"){let C=kb(h.coordinates,w,E),O=VC(f.geometry(),_,w,E);if(!lf(_,w))return!1;for(let k of O)if(!eh(k,C))return!1}if(h.type==="MultiPolygon"){let C=BC(h.coordinates,w,E),O=VC(f.geometry(),_,w,E);if(!lf(_,w))return!1;for(let k of O)if(!fj(k,C))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,h){let _=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],E=f.canonicalID();if(h.type==="Polygon"){let C=kb(h.coordinates,w,E),O=GC(f.geometry(),_,w,E);if(!lf(_,w))return!1;for(let k of O)if(!zC(k,C))return!1}if(h.type==="MultiPolygon"){let C=BC(h.coordinates,w,E),O=GC(f.geometry(),_,w,E);if(!lf(_,w))return!1;for(let k of O)if(!pj(k,C))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let HC=class{constructor(u=[],l=(f,h)=>f<h?-1:f>h?1:0){if(this.data=u,this.length=this.data.length,this.compare=l,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;let u=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),u}peek(){return this.data[0]}_up(u){let{data:l,compare:f}=this,h=l[u];for(;u>0;){let _=u-1>>1,w=l[_];if(f(h,w)>=0)break;l[u]=w,u=_}l[u]=h}_down(u){let{data:l,compare:f}=this,h=this.length>>1,_=l[u];for(;u<h;){let w=1+(u<<1),E=w+1;if(E<this.length&&f(l[E],l[w])<0&&(w=E),f(l[w],_)>=0)break;l[u]=l[w],u=w}l[u]=_}};function dj(u,l,f,h,_){WC(u,l,f,h||u.length-1,_||hj)}function WC(u,l,f,h,_){for(;h>f;){if(h-f>600){var w=h-f+1,E=l-f+1,C=Math.log(w),O=.5*Math.exp(2*C/3),k=.5*Math.sqrt(C*O*(w-O)/w)*(E-w/2<0?-1:1);WC(u,l,Math.max(f,Math.floor(l-E*O/w+k)),Math.min(h,Math.floor(l+(w-E)*O/w+k)),_)}var z=u[l],U=f,Z=h;for(Eg(u,f,l),_(u[h],z)>0&&Eg(u,f,h);U<Z;){for(Eg(u,U,Z),U++,Z--;_(u[U],z)<0;)U++;for(;_(u[Z],z)>0;)Z--}_(u[f],z)===0?Eg(u,f,Z):Eg(u,++Z,h),Z<=l&&(f=Z+1),l<=Z&&(h=Z-1)}}function Eg(u,l,f){var h=u[l];u[l]=u[f],u[f]=h}function hj(u,l){return u<l?-1:u>l?1:0}function i0(u,l){if(u.length<=1)return[u];let f=[],h,_;for(let w of u){let E=gj(w);E!==0&&(w.area=Math.abs(E),_===void 0&&(_=E<0),_===E<0?(h&&f.push(h),h=[w]):h.push(w))}if(h&&f.push(h),l>1)for(let w=0;w<f.length;w++)f[w].length<=l||(dj(f[w],l,1,f[w].length-1,mj),f[w]=f[w].slice(0,l));return f}function mj(u,l){return l.area-u.area}function gj(u){let l=0;for(let f,h,_=0,w=u.length,E=w-1;_<w;E=_++)f=u[_],h=u[E],l+=(h.x-f.x)*(f.y+h.y);return l}let $C=1/298.257223563,ZC=$C*(2-$C),YC=Math.PI/180;class qb{constructor(l){let f=6378.137*YC*1e3,h=Math.cos(l*YC),_=1/(1-ZC*(1-h*h)),w=Math.sqrt(_);this.kx=f*w*h,this.ky=f*w*_*(1-ZC)}distance(l,f){let h=this.wrap(l[0]-f[0])*this.kx,_=(l[1]-f[1])*this.ky;return Math.sqrt(h*h+_*_)}pointOnLine(l,f){let h,_,w,E,C=1/0;for(let O=0;O<l.length-1;O++){let k=l[O][0],z=l[O][1],U=this.wrap(l[O+1][0]-k)*this.kx,Z=(l[O+1][1]-z)*this.ky,Y=0;U===0&&Z===0||(Y=(this.wrap(f[0]-k)*this.kx*U+(f[1]-z)*this.ky*Z)/(U*U+Z*Z),Y>1?(k=l[O+1][0],z=l[O+1][1]):Y>0&&(k+=U/this.kx*Y,z+=Z/this.ky*Y)),U=this.wrap(f[0]-k)*this.kx,Z=(f[1]-z)*this.ky;let te=U*U+Z*Z;te<C&&(C=te,h=k,_=z,w=O,E=Y)}return{point:[h,_],index:w,t:Math.max(0,Math.min(1,E))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function KC(u,l){return l[0]-u[0]}function o0(u){return u[1]-u[0]+1}function wc(u,l){return u[1]>=u[0]&&u[1]<l}function jb(u,l){if(u[0]>u[1])return[null,null];let f=o0(u);if(l){if(f===2)return[u,null];let _=Math.floor(f/2);return[[u[0],u[0]+_],[u[0]+_,u[1]]]}if(f===1)return[u,null];let h=Math.floor(f/2)-1;return[[u[0],u[0]+h],[u[0]+h+1,u[1]]]}function zb(u,l){if(!wc(l,u.length))return[1/0,1/0,-1/0,-1/0];let f=[1/0,1/0,-1/0,-1/0];for(let h=l[0];h<=l[1];++h)wp(f,u[h]);return f}function Fb(u){let l=[1/0,1/0,-1/0,-1/0];for(let f of u)for(let h of f)wp(l,h);return l}function a0(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function Bb(u,l,f){if(!a0(u)||!a0(l))return NaN;let h=0,_=0;return u[2]<l[0]&&(h=l[0]-u[2]),u[0]>l[2]&&(h=u[0]-l[2]),u[1]>l[3]&&(_=u[1]-l[3]),u[3]<l[1]&&(_=l[1]-u[3]),f.distance([0,0],[h,_])}function Ep(u,l,f){let h=f.pointOnLine(l,u);return f.distance(u,h.point)}function Ub(u,l,f,h,_){let w=Math.min(Ep(u,[f,h],_),Ep(l,[f,h],_)),E=Math.min(Ep(f,[u,l],_),Ep(h,[u,l],_));return Math.min(w,E)}function vj(u,l,f,h,_){if(!wc(l,u.length)||!wc(h,f.length))return 1/0;let w=1/0;for(let E=l[0];E<l[1];++E){let C=u[E],O=u[E+1];for(let k=h[0];k<h[1];++k){let z=f[k],U=f[k+1];if(n0(C,O,z,U))return 0;w=Math.min(w,Ub(C,O,z,U,_))}}return w}function Ui(u,l,f,h,_){if(!wc(l,u.length)||!wc(h,f.length))return NaN;let w=1/0;for(let E=l[0];E<=l[1];++E)for(let C=h[0];C<=h[1];++C)if(w=Math.min(w,_.distance(u[E],f[C])),w===0)return w;return w}function yj(u,l,f){if(eh(u,l,!0))return 0;let h=1/0;for(let _ of l){let w=_[0],E=_[_.length-1];if(w!==E&&(h=Math.min(h,Ep(u,[E,w],f)),h===0))return h;let C=f.pointOnLine(_,u);if(h=Math.min(h,f.distance(u,C.point)),h===0)return h}return h}function Zr(u,l,f,h){if(!wc(l,u.length))return NaN;for(let w=l[0];w<=l[1];++w)if(eh(u[w],f,!0))return 0;let _=1/0;for(let w=l[0];w<l[1];++w){let E=u[w],C=u[w+1];for(let O of f)for(let k=0,z=O.length,U=z-1;k<z;U=k++){let Z=O[U],Y=O[k];if(n0(E,C,Z,Y))return 0;_=Math.min(_,Ub(E,C,Z,Y,h))}}return _}function s0(u,l){for(let f of u)for(let h of f)if(eh(h,l,!0))return!0;return!1}function ni(u,l,f,h=1/0){let _=Fb(u),w=Fb(l);if(h!==1/0&&Bb(_,w,f)>=h)return h;if(lf(_,w)){if(s0(u,l))return 0}else if(s0(l,u))return 0;let E=1/0;for(let C of u)for(let O=0,k=C.length,z=k-1;O<k;z=O++){let U=C[z],Z=C[O];for(let Y of l)for(let te=0,ie=Y.length,fe=ie-1;te<ie;fe=te++){let me=Y[fe],Ue=Y[te];if(n0(U,Z,me,Ue))return 0;E=Math.min(E,Ub(U,Z,me,Ue,f))}}return E}function Hn(u,l,f,h,_,w){if(!w)return;let E=Bb(zb(h,w),_,f);E<l&&u.push([E,w,[0,0]])}function Ip(u,l,f,h,_,w,E){if(!w||!E)return;let C=Bb(zb(h,w),zb(_,E),f);C<l&&u.push([C,w,E])}function Ig(u,l,f,h,_=1/0){let w=Math.min(h.distance(u[0],f[0][0]),_);if(w===0)return w;let E=new HC([[0,[0,u.length-1],[0,0]]],KC),C=Fb(f);for(;E.length>0;){let O=E.pop();if(O[0]>=w)continue;let k=O[1],z=l?50:100;if(o0(k)<=z){if(!wc(k,u.length))return NaN;if(l){let U=Zr(u,k,f,h);if(isNaN(U)||U===0)return U;w=Math.min(w,U)}else for(let U=k[0];U<=k[1];++U){let Z=yj(u[U],f,h);if(w=Math.min(w,Z),w===0)return 0}}else{let U=jb(k,l);Hn(E,w,h,u,C,U[0]),Hn(E,w,h,u,C,U[1])}}return w}function Tg(u,l,f,h,_,w=1/0){let E=Math.min(w,_.distance(u[0],f[0]));if(E===0)return E;let C=new HC([[0,[0,u.length-1],[0,f.length-1]]],KC);for(;C.length>0;){let O=C.pop();if(O[0]>=E)continue;let k=O[1],z=O[2],U=l?50:100,Z=h?50:100;if(o0(k)<=U&&o0(z)<=Z){if(!wc(k,u.length)&&wc(z,f.length))return NaN;let Y;if(l&&h)Y=vj(u,k,f,z,_),E=Math.min(E,Y);else if(l&&!h){let te=u.slice(k[0],k[1]+1);for(let ie=z[0];ie<=z[1];++ie)if(Y=Ep(f[ie],te,_),E=Math.min(E,Y),E===0)return E}else if(!l&&h){let te=f.slice(z[0],z[1]+1);for(let ie=k[0];ie<=k[1];++ie)if(Y=Ep(u[ie],te,_),E=Math.min(E,Y),E===0)return E}else Y=Ui(u,k,f,z,_),E=Math.min(E,Y)}else{let Y=jb(k,l),te=jb(z,h);Ip(C,E,_,u,f,Y[0],te[0]),Ip(C,E,_,u,f,Y[0],te[1]),Ip(C,E,_,u,f,Y[1],te[0]),Ip(C,E,_,u,f,Y[1],te[1])}}return E}function Vb(u){return u.type==="MultiPolygon"?u.coordinates.map(l=>({type:"Polygon",coordinates:l})):u.type==="MultiLineString"?u.coordinates.map(l=>({type:"LineString",coordinates:l})):u.type==="MultiPoint"?u.coordinates.map(l=>({type:"Point",coordinates:l})):[u]}class Tp{constructor(l,f){this.type=Et,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(_p(l[1])){let h=l[1];if(h.type==="FeatureCollection")return new Tp(h,h.features.map(_=>Vb(_.geometry)).flat());if(h.type==="Feature")return new Tp(h,Vb(h.geometry));if("type"in h&&"coordinates"in h)return new Tp(h,Vb(h))}return f.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,h){let _=f.geometry(),w=_.flat().map(O=>Rb([O.x,O.y],f.canonical));if(_.length===0)return NaN;let E=new qb(w[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,Tg(w,!1,[O.coordinates],!1,E,C));break;case"LineString":C=Math.min(C,Tg(w,!1,O.coordinates,!0,E,C));break;case"Polygon":C=Math.min(C,Ig(w,!1,O.coordinates,E,C));}if(C===0)return C}return C}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,h){let _=f.geometry(),w=_.flat().map(O=>Rb([O.x,O.y],f.canonical));if(_.length===0)return NaN;let E=new qb(w[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,Tg(w,!0,[O.coordinates],!1,E,C));break;case"LineString":C=Math.min(C,Tg(w,!0,O.coordinates,!0,E,C));break;case"Polygon":C=Math.min(C,Ig(w,!0,O.coordinates,E,C));}if(C===0)return C}return C}(l,this.geometries);if(l.geometryType()==="Polygon")return function(f,h){let _=f.geometry();if(_.length===0||_[0].length===0)return NaN;let w=i0(_,0).map(O=>O.map(k=>k.map(z=>Rb([z.x,z.y],f.canonical)))),E=new qb(w[0][0][0][1]),C=1/0;for(let O of h)for(let k of w){switch(O.type){case"Point":C=Math.min(C,Ig([O.coordinates],!1,k,E,C));break;case"LineString":C=Math.min(C,Ig(O.coordinates,!0,k,E,C));break;case"Polygon":C=Math.min(C,ni(k,O.coordinates,E,C));}if(C===0)return C}return C}(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let th={"==":aj,"!=":kC,">":sj,"<":qC,">=":jC,"<=":lj,array:jl,at:Ab,boolean:jl,case:Xy,coalesce:e0,collator:Sg,format:r0,image:Lb,in:Ob,"index-of":Xd,interpolate:Ba,"interpolate-hcl":Ba,"interpolate-lab":Ba,length:Nb,let:sf,literal:ql,match:Db,number:jl,"number-format":Pb,object:jl,slice:bg,step:Qd,string:jl,"to-boolean":zl,"to-color":zl,"to-number":zl,"to-string":zl,var:Sn,within:Sp,distance:Tp};class Ks{constructor(l,f,h,_){this.name=l,this.type=f,this._evaluate=h,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,f){let h=l[0],_=Ks.definitions[h];if(!_)return f.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);let w=Array.isArray(_)?_[0]:_.type,E=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,C=E.filter(([k])=>!Array.isArray(k)||k.length===l.length-1),O=null;for(let[k,z]of C){O=new xp(f.registry,Cg,f.path,null,f.scope);let U=[],Z=!1;for(let Y=1;Y<l.length;Y++){let te=l[Y],ie=Array.isArray(k)?k[Y-1]:k.type,fe=O.parse(te,1+U.length,ie);if(!fe){Z=!0;break}U.push(fe)}if(!Z)if(Array.isArray(k)&&k.length!==U.length)O.error(`Expected ${k.length} arguments, but found ${U.length} instead.`);else{for(let Y=0;Y<U.length;Y++){let te=Array.isArray(k)?k[Y]:k.type,ie=U[Y];O.concat(Y+1).checkSubtype(te,ie.type)}if(O.errors.length===0)return new Ks(h,w,z,U)}}if(C.length===1)f.errors.push(...O.errors);else{let k=(C.length?C:E).map(([U])=>{return Z=U,Array.isArray(Z)?`(${Z.map(W).join(", ")})`:`(${W(Z.type)}...)`;var Z}).join(" | "),z=[];for(let U=1;U<l.length;U++){let Z=f.parse(l[U],1+z.length);if(!Z)return null;z.push(W(Z.type))}f.error(`Expected arguments of type ${k}, but found (${z.join(", ")}) instead.`)}return null}static register(l,f){Ks.definitions=f;for(let h in f)l[h]=Ks}}function Gb(u,[l,f,h,_]){l=l.evaluate(u),f=f.evaluate(u),h=h.evaluate(u);let w=_?_.evaluate(u):1,E=Kd(l,f,h,w);if(E)throw new $i(E);return new zn(l/255,f/255,h/255,w,!1)}function Hb(u,l){return u in l}function Wb(u,l){let f=l[u];return f===void 0?null:f}function Cp(u){return{type:u}}function Cg(u){if(u instanceof Sn)return Cg(u.boundExpression);if(u instanceof Ks&&u.name==="error"||u instanceof Sg||u instanceof Sp||u instanceof Tp)return!1;let l=u instanceof zl||u instanceof jl,f=!0;return u.eachChild(h=>{f=l?f&&Cg(h):f&&h instanceof ql}),!!f&&Mg(u)&&Ag(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Mg(u){if(u instanceof Ks&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Sp||u instanceof Tp)return!1;let l=!0;return u.eachChild(f=>{l&&!Mg(f)&&(l=!1)}),l}function rh(u){if(u instanceof Ks&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(f=>{l&&!rh(f)&&(l=!1)}),l}function Ag(u,l){if(u instanceof Ks&&l.indexOf(u.name)>=0)return!1;let f=!0;return u.eachChild(h=>{f&&!Ag(h,l)&&(f=!1)}),f}function l0(u){return{result:"success",value:u}}function nh(u){return{result:"error",value:u}}function ih(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function XC(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function $b(u){return!!u.expression&&u.expression.interpolated}function bn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function u0(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function _j(u){return u}function QC(u,l){let f=l.type==="color",h=u.stops&&typeof u.stops[0][0]=="object",_=h||!(h||u.property!==void 0),w=u.type||($b(l)?"exponential":"interval");if(f||l.type==="padding"){let z=f?zn.parse:bs.parse;(u=Pi({},u)).stops&&(u.stops=u.stops.map(U=>[U[0],z(U[1])])),u.default=z(u.default?u.default:l.default)}if(u.colorSpace&&(E=u.colorSpace)!=="rgb"&&E!=="hcl"&&E!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var E;let C,O,k;if(w==="exponential")C=eM;else if(w==="interval")C=c0;else if(w==="categorical"){C=JC,O=Object.create(null);for(let z of u.stops)O[z[0]]=z[1];k=typeof u.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);C=tM}if(h){let z={},U=[];for(let te=0;te<u.stops.length;te++){let ie=u.stops[te],fe=ie[0].zoom;z[fe]===void 0&&(z[fe]={zoom:fe,type:u.type,property:u.property,default:u.default,stops:[]},U.push(fe)),z[fe].stops.push([ie[0].value,ie[1]])}let Z=[];for(let te of U)Z.push([z[te].zoom,QC(z[te],l)]);let Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:Ba.interpolationFactor.bind(void 0,Y),zoomStops:Z.map(te=>te[0]),evaluate:({zoom:te},ie)=>eM({stops:Z,base:u.base},l,te).evaluate(te,ie)}}if(_){let z=w==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:z,interpolationFactor:Ba.interpolationFactor.bind(void 0,z),zoomStops:u.stops.map(U=>U[0]),evaluate:({zoom:U})=>C(u,l,U,O,k)}}return{kind:"source",evaluate(z,U){let Z=U&&U.properties?U.properties[u.property]:void 0;return Z===void 0?oh(u.default,l.default):C(u,l,Z,O,k)}}}function oh(u,l,f){return u!==void 0?u:l!==void 0?l:f!==void 0?f:void 0}function JC(u,l,f,h,_){return oh(typeof f===_?h[f]:void 0,u.default,l.default)}function c0(u,l,f){if(bn(f)!=="number")return oh(u.default,l.default);let h=u.stops.length;if(h===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[h-1][0])return u.stops[h-1][1];let _=Qy(u.stops.map(w=>w[0]),f);return u.stops[_][1]}function eM(u,l,f){let h=u.base!==void 0?u.base:1;if(bn(f)!=="number")return oh(u.default,l.default);let _=u.stops.length;if(_===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[_-1][0])return u.stops[_-1][1];let w=Qy(u.stops.map(z=>z[0]),f),E=function(z,U,Z,Y){let te=Y-Z,ie=z-Z;return te===0?0:U===1?ie/te:(Math.pow(U,ie)-1)/(Math.pow(U,te)-1)}(f,h,u.stops[w][0],u.stops[w+1][0]),C=u.stops[w][1],O=u.stops[w+1][1],k=Fa[l.type]||_j;return typeof C.evaluate=="function"?{evaluate(...z){let U=C.evaluate.apply(void 0,z),Z=O.evaluate.apply(void 0,z);if(U!==void 0&&Z!==void 0)return k(U,Z,E,u.colorSpace)}}:k(C,O,E,u.colorSpace)}function tM(u,l,f){switch(l.type){case"color":f=zn.parse(f);break;case"formatted":f=xs.fromString(f.toString());break;case"resolvedImage":f=ws.fromString(f.toString());break;case"padding":f=bs.parse(f);break;default:bn(f)===l.type||l.type==="enum"&&l.values[f]||(f=void 0);}return oh(f,u.default,l.default)}Ks.register(th,{error:[{kind:"error"},[Nr],(u,[l])=>{throw new $i(l.evaluate(u))}],typeof:[Nr,[Ae],(u,[l])=>W(to(l.evaluate(u)))],"to-rgba":[$(Et,4),[Ho],(u,[l])=>{let[f,h,_,w]=l.evaluate(u).rgb;return[255*f,255*h,255*_,w]}],rgb:[Ho,[Et,Et,Et],Gb],rgba:[Ho,[Et,Et,Et,Et],Gb],has:{type:gr,overloads:[[[Nr],(u,[l])=>Hb(l.evaluate(u),u.properties())],[[Nr,_s],(u,[l,f])=>Hb(l.evaluate(u),f.evaluate(u))]]},get:{type:Ae,overloads:[[[Nr],(u,[l])=>Wb(l.evaluate(u),u.properties())],[[Nr,_s],(u,[l,f])=>Wb(l.evaluate(u),f.evaluate(u))]]},"feature-state":[Ae,[Nr],(u,[l])=>Wb(l.evaluate(u),u.featureState||{})],properties:[_s,[],u=>u.properties()],"geometry-type":[Nr,[],u=>u.geometryType()],id:[Ae,[],u=>u.id()],zoom:[Et,[],u=>u.globals.zoom],"heatmap-density":[Et,[],u=>u.globals.heatmapDensity||0],"line-progress":[Et,[],u=>u.globals.lineProgress||0],accumulated:[Ae,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Et,Cp(Et),(u,l)=>{let f=0;for(let h of l)f+=h.evaluate(u);return f}],"*":[Et,Cp(Et),(u,l)=>{let f=1;for(let h of l)f*=h.evaluate(u);return f}],"-":{type:Et,overloads:[[[Et,Et],(u,[l,f])=>l.evaluate(u)-f.evaluate(u)],[[Et],(u,[l])=>-l.evaluate(u)]]},"/":[Et,[Et,Et],(u,[l,f])=>l.evaluate(u)/f.evaluate(u)],"%":[Et,[Et,Et],(u,[l,f])=>l.evaluate(u)%f.evaluate(u)],ln2:[Et,[],()=>Math.LN2],pi:[Et,[],()=>Math.PI],e:[Et,[],()=>Math.E],"^":[Et,[Et,Et],(u,[l,f])=>Math.pow(l.evaluate(u),f.evaluate(u))],sqrt:[Et,[Et],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[Et,[Et],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[Et,[Et],(u,[l])=>Math.log(l.evaluate(u))],log2:[Et,[Et],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[Et,[Et],(u,[l])=>Math.sin(l.evaluate(u))],cos:[Et,[Et],(u,[l])=>Math.cos(l.evaluate(u))],tan:[Et,[Et],(u,[l])=>Math.tan(l.evaluate(u))],asin:[Et,[Et],(u,[l])=>Math.asin(l.evaluate(u))],acos:[Et,[Et],(u,[l])=>Math.acos(l.evaluate(u))],atan:[Et,[Et],(u,[l])=>Math.atan(l.evaluate(u))],min:[Et,Cp(Et),(u,l)=>Math.min(...l.map(f=>f.evaluate(u)))],max:[Et,Cp(Et),(u,l)=>Math.max(...l.map(f=>f.evaluate(u)))],abs:[Et,[Et],(u,[l])=>Math.abs(l.evaluate(u))],round:[Et,[Et],(u,[l])=>{let f=l.evaluate(u);return f<0?-Math.round(-f):Math.round(f)}],floor:[Et,[Et],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[Et,[Et],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[gr,[Nr,Ae],(u,[l,f])=>u.properties()[l.value]===f.value],"filter-id-==":[gr,[Ae],(u,[l])=>u.id()===l.value],"filter-type-==":[gr,[Nr],(u,[l])=>u.geometryType()===l.value],"filter-<":[gr,[Nr,Ae],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h<_}],"filter-id-<":[gr,[Ae],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f<h}],"filter->":[gr,[Nr,Ae],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h>_}],"filter-id->":[gr,[Ae],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f>h}],"filter-<=":[gr,[Nr,Ae],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h<=_}],"filter-id-<=":[gr,[Ae],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f<=h}],"filter->=":[gr,[Nr,Ae],(u,[l,f])=>{let h=u.properties()[l.value],_=f.value;return typeof h==typeof _&&h>=_}],"filter-id->=":[gr,[Ae],(u,[l])=>{let f=u.id(),h=l.value;return typeof f==typeof h&&f>=h}],"filter-has":[gr,[Ae],(u,[l])=>l.value in u.properties()],"filter-has-id":[gr,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[gr,[$(Nr)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[gr,[$(Ae)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[gr,[Nr,$(Ae)],(u,[l,f])=>f.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[gr,[Nr,$(Ae)],(u,[l,f])=>function(h,_,w,E){for(;w<=E;){let C=w+E>>1;if(_[C]===h)return!0;_[C]>h?E=C-1:w=C+1}return!1}(u.properties()[l.value],f.value,0,f.value.length-1)],all:{type:gr,overloads:[[[gr,gr],(u,[l,f])=>l.evaluate(u)&&f.evaluate(u)],[Cp(gr),(u,l)=>{for(let f of l)if(!f.evaluate(u))return!1;return!0}]]},any:{type:gr,overloads:[[[gr,gr],(u,[l,f])=>l.evaluate(u)||f.evaluate(u)],[Cp(gr),(u,l)=>{for(let f of l)if(f.evaluate(u))return!0;return!1}]]},"!":[gr,[gr],(u,[l])=>!l.evaluate(u)],"is-supported-script":[gr,[Nr],(u,[l])=>{let f=u.globals&&u.globals.isSupportedScript;return!f||f(l.evaluate(u))}],upcase:[Nr,[Nr],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[Nr,[Nr],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[Nr,Cp(Ae),(u,l)=>l.map(f=>xg(f.evaluate(u))).join("")],"resolved-locale":[Nr,[qe],(u,[l])=>l.evaluate(u).resolvedLocale()]});class f0{constructor(l,f){var h;this.expression=l,this._warningHistory={},this._evaluator=new Ky,this._defaultValue=f?(h=f).type==="color"&&u0(h.default)?new zn(0,0,0,0):h.type==="color"?zn.parse(h.default)||null:h.type==="padding"?bs.parse(h.default)||null:h.type==="variableAnchorOffsetCollection"?Ys.parse(h.default)||null:h.default===void 0?null:h.default:null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(l,f,h,_,w,E){return this._evaluator.globals=l,this._evaluator.feature=f,this._evaluator.featureState=h,this._evaluator.canonical=_,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(l,f,h,_,w,E){this._evaluator.globals=l,this._evaluator.feature=f||null,this._evaluator.featureState=h||null,this._evaluator.canonical=_,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=E||null;try{let C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new $i(`Expected value to be one of ${Object.keys(this._enumValues).map(O=>JSON.stringify(O)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console!="undefined"&&console.warn(C.message)),this._defaultValue}}}function p0(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in th}function ah(u,l){let f=new xp(th,Cg,[],l?function(_){let w={color:Ho,string:Nr,number:Et,enum:Nr,boolean:gr,formatted:ft,padding:Rt,resolvedImage:Nt,variableAnchorOffsetCollection:ae};return _.type==="array"?$(w[_.value]||Ae,_.length):w[_.type]}(l):void 0),h=f.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?l0(new f0(h,l)):nh(f.errors)}class sh{constructor(l,f){this.kind=l,this._styleExpression=f,this.isStateDependent=l!=="constant"&&!rh(f.expression)}evaluateWithoutErrorHandling(l,f,h,_,w,E){return this._styleExpression.evaluateWithoutErrorHandling(l,f,h,_,w,E)}evaluate(l,f,h,_,w,E){return this._styleExpression.evaluate(l,f,h,_,w,E)}}class lh{constructor(l,f,h,_){this.kind=l,this.zoomStops=h,this._styleExpression=f,this.isStateDependent=l!=="camera"&&!rh(f.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,f,h,_,w,E){return this._styleExpression.evaluateWithoutErrorHandling(l,f,h,_,w,E)}evaluate(l,f,h,_,w,E){return this._styleExpression.evaluate(l,f,h,_,w,E)}interpolationFactor(l,f,h){return this.interpolationType?Ba.interpolationFactor(this.interpolationType,l,f,h):0}}function Zb(u,l){let f=ah(u,l);if(f.result==="error")return f;let h=f.value.expression,_=Mg(h);if(!_&&!ih(l))return nh([new kn("","data expressions not supported")]);let w=Ag(h,["zoom"]);if(!w&&!XC(l))return nh([new kn("","zoom expressions not supported")]);let E=Og(h);return E||w?E instanceof kn?nh([E]):E instanceof Ba&&!$b(l)?nh([new kn("","\"interpolate\" expressions cannot be used with this property")]):l0(E?new lh(_?"camera":"composite",f.value,E.labels,E instanceof Ba?E.interpolation:void 0):new sh(_?"constant":"source",f.value)):nh([new kn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class uh{constructor(l,f){this._parameters=l,this._specification=f,Pi(this,QC(this._parameters,this._specification))}static deserialize(l){return new uh(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Og(u){let l=null;if(u instanceof sf)l=Og(u.result);else if(u instanceof e0){for(let f of u.args)if(l=Og(f),l)break}else(u instanceof Qd||u instanceof Ba)&&u.input instanceof Ks&&u.input.name==="zoom"&&(l=u);return l instanceof kn||u.eachChild(f=>{let h=Og(f);h instanceof kn?l=h:!l&&h?l=new kn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):l&&h&&l!==h&&(l=new kn("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),l}function d0(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(let l of u.slice(1))if(!d0(l)&&typeof l!="boolean")return!1;return!0;default:return!0;}}let h0={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Yb(u){if(u==null)return{filter:()=>!0,needGeometry:!1};d0(u)||(u=m0(u));let l=ah(u,h0);if(l.result==="error")throw new Error(l.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,h,_)=>l.value.evaluate(f,h,{},_),needGeometry:rM(u)}}function xj(u,l){return u<l?-1:u>l?1:0}function rM(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let l=1;l<u.length;l++)if(rM(u[l]))return!0;return!1}function m0(u){if(!u)return!0;let l=u[0];return u.length<=1?l!=="any":l==="=="?Kb(u[1],u[2],"=="):l==="!="?Wo(Kb(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Kb(u[1],u[2],l):l==="any"?(f=u.slice(1),["any"].concat(f.map(m0))):l==="all"?["all"].concat(u.slice(1).map(m0)):l==="none"?["all"].concat(u.slice(1).map(m0).map(Wo)):l==="in"?Dg(u[1],u.slice(2)):l==="!in"?Wo(Dg(u[1],u.slice(2))):l==="has"?Pg(u[1]):l!=="!has"||Wo(Pg(u[1]));var f}function Kb(u,l,f){switch(u){case"$type":return[`filter-type-${f}`,l];case"$id":return[`filter-id-${f}`,l];default:return[`filter-${f}`,u,l];}}function Dg(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(f=>typeof f!=typeof l[0])?["filter-in-large",u,["literal",l.sort(xj)]]:["filter-in-small",u,["literal",l]];}}function Pg(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u];}}function Wo(u){return["!",u]}function Mp(u){let l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let _="[";for(let w of u)_+=`${Mp(w)},`;return`${_}]`}let f=Object.keys(u).sort(),h="{";for(let _=0;_<f.length;_++)h+=`${JSON.stringify(f[_])}:${Mp(u[f[_]])},`;return`${h}}`}function nM(u){let l="";for(let f of pt)l+=`/${Mp(u[f])}`;return l}function iM(u){let l=u.value;return l?[new ut(u.key,l,"constants have been deprecated as of v8")]:[]}function Vi(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function Fl(u){if(Array.isArray(u))return u.map(Fl);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){let l={};for(let f in u)l[f]=Fl(u[f]);return l}return Vi(u)}function Ss(u){let l=u.key,f=u.value,h=u.valueSpec||{},_=u.objectElementValidators||{},w=u.style,E=u.styleSpec,C=u.validateSpec,O=[],k=bn(f);if(k!=="object")return[new ut(l,f,`object expected, ${k} found`)];for(let z in f){let U=z.split(".")[0],Z=h[U]||h["*"],Y;if(_[U])Y=_[U];else if(h[U])Y=C;else if(_["*"])Y=_["*"];else{if(!h["*"]){O.push(new ut(l,f[z],`unknown property "${z}"`));continue}Y=C}O=O.concat(Y({key:(l&&`${l}.`)+z,value:f[z],valueSpec:Z,style:w,styleSpec:E,object:f,objectKey:z,validateSpec:C},f))}for(let z in h)_[z]||h[z].required&&h[z].default===void 0&&f[z]===void 0&&O.push(new ut(l,f,`missing required property "${z}"`));return O}function Lg(u){let l=u.value,f=u.valueSpec,h=u.style,_=u.styleSpec,w=u.key,E=u.arrayElementValidator||u.validateSpec;if(bn(l)!=="array")return[new ut(w,l,`array expected, ${bn(l)} found`)];if(f.length&&l.length!==f.length)return[new ut(w,l,`array length ${f.length} expected, length ${l.length} found`)];if(f["min-length"]&&l.length<f["min-length"])return[new ut(w,l,`array length at least ${f["min-length"]} expected, length ${l.length} found`)];let C={type:f.value,values:f.values};_.$version<7&&(C.function=f.function),bn(f.value)==="object"&&(C=f.value);let O=[];for(let k=0;k<l.length;k++)O=O.concat(E({array:l,arrayIndex:k,value:l[k],valueSpec:C,validateSpec:u.validateSpec,style:h,styleSpec:_,key:`${w}[${k}]`}));return O}function Xb(u){let l=u.key,f=u.value,h=u.valueSpec,_=bn(f);return _==="number"&&f!=f&&(_="NaN"),_!=="number"?[new ut(l,f,`number expected, ${_} found`)]:"minimum"in h&&f<h.minimum?[new ut(l,f,`${f} is less than the minimum value ${h.minimum}`)]:"maximum"in h&&f>h.maximum?[new ut(l,f,`${f} is greater than the maximum value ${h.maximum}`)]:[]}function g0(u){let l=u.valueSpec,f=Vi(u.value.type),h,_,w,E={},C=f!=="categorical"&&u.value.property===void 0,O=!C,k=bn(u.value.stops)==="array"&&bn(u.value.stops[0])==="array"&&bn(u.value.stops[0][0])==="object",z=Ss({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(Y){if(f==="identity")return[new ut(Y.key,Y.value,"identity function may not have a \"stops\" property")];let te=[],ie=Y.value;return te=te.concat(Lg({key:Y.key,value:ie,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:U})),bn(ie)==="array"&&ie.length===0&&te.push(new ut(Y.key,ie,"array must have at least one stop")),te},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return f==="identity"&&C&&z.push(new ut(u.key,u.value,"missing required property \"property\"")),f==="identity"||u.value.stops||z.push(new ut(u.key,u.value,"missing required property \"stops\"")),f==="exponential"&&u.valueSpec.expression&&!$b(u.valueSpec)&&z.push(new ut(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(O&&!ih(u.valueSpec)?z.push(new ut(u.key,u.value,"property functions not supported")):C&&!XC(u.valueSpec)&&z.push(new ut(u.key,u.value,"zoom functions not supported"))),f!=="categorical"&&!k||u.value.property!==void 0||z.push(new ut(u.key,u.value,"\"property\" property is required")),z;function U(Y){let te=[],ie=Y.value,fe=Y.key;if(bn(ie)!=="array")return[new ut(fe,ie,`array expected, ${bn(ie)} found`)];if(ie.length!==2)return[new ut(fe,ie,`array length 2 expected, length ${ie.length} found`)];if(k){if(bn(ie[0])!=="object")return[new ut(fe,ie,`object expected, ${bn(ie[0])} found`)];if(ie[0].zoom===void 0)return[new ut(fe,ie,"object stop key must have zoom")];if(ie[0].value===void 0)return[new ut(fe,ie,"object stop key must have value")];if(w&&w>Vi(ie[0].zoom))return[new ut(fe,ie[0].zoom,"stop zoom values must appear in ascending order")];Vi(ie[0].zoom)!==w&&(w=Vi(ie[0].zoom),_=void 0,E={}),te=te.concat(Ss({key:`${fe}[0]`,value:ie[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Xb,value:Z}}))}else te=te.concat(Z({key:`${fe}[0]`,value:ie[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},ie));return p0(Fl(ie[1]))?te.concat([new ut(`${fe}[1]`,ie[1],"expressions are not allowed in function stops.")]):te.concat(Y.validateSpec({key:`${fe}[1]`,value:ie[1],valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function Z(Y,te){let ie=bn(Y.value),fe=Vi(Y.value),me=Y.value!==null?Y.value:te;if(h){if(ie!==h)return[new ut(Y.key,me,`${ie} stop domain type must match previous stop domain type ${h}`)]}else h=ie;if(ie!=="number"&&ie!=="string"&&ie!=="boolean")return[new ut(Y.key,me,"stop domain value must be a number, string, or boolean")];if(ie!=="number"&&f!=="categorical"){let Ue=`number expected, ${ie} found`;return ih(l)&&f===void 0&&(Ue+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new ut(Y.key,me,Ue)]}return f!=="categorical"||ie!=="number"||isFinite(fe)&&Math.floor(fe)===fe?f!=="categorical"&&ie==="number"&&_!==void 0&&fe<_?[new ut(Y.key,me,"stop domain values must appear in ascending order")]:(_=fe,f==="categorical"&&fe in E?[new ut(Y.key,me,"stop domain values must be unique")]:(E[fe]=!0,[])):[new ut(Y.key,me,`integer expected, found ${fe}`)]}}function ch(u){let l=(u.expressionContext==="property"?Zb:ah)(Fl(u.value),u.valueSpec);if(l.result==="error")return l.value.map(h=>new ut(`${u.key}${h.key}`,u.value,h.message));let f=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!f.outputDefined())return[new ut(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!rh(f))return[new ut(u.key,u.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(u.expressionContext==="filter"&&!rh(f))return[new ut(u.key,u.value,"\"feature-state\" data expressions are not supported with filters.")];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Ag(f,["zoom","feature-state"]))return[new ut(u.key,u.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(u.expressionContext==="cluster-initial"&&!Mg(f))return[new ut(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sc(u){let l=u.key,f=u.value,h=u.valueSpec,_=[];return Array.isArray(h.values)?h.values.indexOf(Vi(f))===-1&&_.push(new ut(l,f,`expected one of [${h.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(h.values).indexOf(Vi(f))===-1&&_.push(new ut(l,f,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(f)} found`)),_}function Qb(u){return d0(Fl(u.value))?ch(Pi({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):v0(u)}function v0(u){let l=u.value,f=u.key;if(bn(l)!=="array")return[new ut(f,l,`array expected, ${bn(l)} found`)];let h=u.styleSpec,_,w=[];if(l.length<1)return[new ut(f,l,"filter array must have at least 1 element")];switch(w=w.concat(Sc({key:`${f}[0]`,value:l[0],valueSpec:h.filter_operator,style:u.style,styleSpec:u.styleSpec})),Vi(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Vi(l[1])==="$type"&&w.push(new ut(f,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&w.push(new ut(f,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=bn(l[1]),_!=="string"&&w.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`)));for(let E=2;E<l.length;E++)_=bn(l[E]),Vi(l[1])==="$type"?w=w.concat(Sc({key:`${f}[${E}]`,value:l[E],valueSpec:h.geometry_type,style:u.style,styleSpec:u.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&w.push(new ut(`${f}[${E}]`,l[E],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let E=1;E<l.length;E++)w=w.concat(v0({key:`${f}[${E}]`,value:l[E],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":_=bn(l[1]),l.length!==2?w.push(new ut(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&w.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`));}return w}function Jb(u,l){let f=u.key,h=u.validateSpec,_=u.style,w=u.styleSpec,E=u.value,C=u.objectKey,O=w[`${l}_${u.layerType}`];if(!O)return[];let k=C.match(/^(.*)-transition$/);if(l==="paint"&&k&&O[k[1]]&&O[k[1]].transition)return h({key:f,value:E,valueSpec:w.transition,style:_,styleSpec:w});let z=u.valueSpec||O[C];if(!z)return[new ut(f,E,`unknown property "${C}"`)];let U;if(bn(E)==="string"&&ih(z)&&!z.tokens&&(U=/^{([^}]+)}$/.exec(E)))return[new ut(f,E,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(U[1])} }\`.`)];let Z=[];return u.layerType==="symbol"&&(C==="text-field"&&_&&!_.glyphs&&Z.push(new ut(f,E,"use of \"text-field\" requires a style \"glyphs\" property")),C==="text-font"&&u0(Fl(E))&&Vi(E.type)==="identity"&&Z.push(new ut(f,E,"\"text-font\" does not support identity functions"))),Z.concat(h({key:u.key,value:E,valueSpec:z,style:_,styleSpec:w,expressionContext:"property",propertyType:l,propertyKey:C}))}function y0(u){return Jb(u,"paint")}function ew(u){return Jb(u,"layout")}function tw(u){let l=[],f=u.value,h=u.key,_=u.style,w=u.styleSpec;f.type||f.ref||l.push(new ut(h,f,"either \"type\" or \"ref\" is required"));let E=Vi(f.type),C=Vi(f.ref);if(f.id){let O=Vi(f.id);for(let k=0;k<u.arrayIndex;k++){let z=_.layers[k];Vi(z.id)===O&&l.push(new ut(h,f.id,`duplicate layer id "${f.id}", previously used at line ${z.id.__line__}`))}}if("ref"in f){let O;["type","source","source-layer","filter","layout"].forEach(k=>{k in f&&l.push(new ut(h,f[k],`"${k}" is prohibited for ref layers`))}),_.layers.forEach(k=>{Vi(k.id)===C&&(O=k)}),O?O.ref?l.push(new ut(h,f.ref,"ref cannot reference another ref layer")):E=Vi(O.type):l.push(new ut(h,f.ref,`ref layer "${C}" not found`))}else if(E!=="background")if(f.source){let O=_.sources&&_.sources[f.source],k=O&&Vi(O.type);O?k==="vector"&&E==="raster"?l.push(new ut(h,f.source,`layer "${f.id}" requires a raster source`)):k!=="raster-dem"&&E==="hillshade"?l.push(new ut(h,f.source,`layer "${f.id}" requires a raster-dem source`)):k==="raster"&&E!=="raster"?l.push(new ut(h,f.source,`layer "${f.id}" requires a vector source`)):k!=="vector"||f["source-layer"]?k==="raster-dem"&&E!=="hillshade"?l.push(new ut(h,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!f.paint||!f.paint["line-gradient"]||k==="geojson"&&O.lineMetrics||l.push(new ut(h,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ut(h,f,`layer "${f.id}" must specify a "source-layer"`)):l.push(new ut(h,f.source,`source "${f.source}" not found`))}else l.push(new ut(h,f,"missing required property \"source\""));return l=l.concat(Ss({key:h,value:f,valueSpec:w.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${h}.type`,value:f.type,valueSpec:w.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:f,objectKey:"type"}),filter:Qb,layout:O=>Ss({layer:f,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":k=>ew(Pi({layerType:E},k))}}),paint:O=>Ss({layer:f,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":k=>y0(Pi({layerType:E},k))}})}})),l}function Ap(u){let l=u.value,f=u.key,h=bn(l);return h!=="string"?[new ut(f,l,`string expected, ${h} found`)]:[]}let _0={promoteId:function({key:u,value:l}){if(bn(l)==="string")return Ap({key:u,value:l});{let f=[];for(let h in l)f.push(...Ap({key:`${u}.${h}`,value:l[h]}));return f}}};function Ng(u){let l=u.value,f=u.key,h=u.styleSpec,_=u.style,w=u.validateSpec;if(!l.type)return[new ut(f,l,"\"type\" is required")];let E=Vi(l.type),C;switch(E){case"vector":case"raster":return C=Ss({key:f,value:l,valueSpec:h[`source_${E.replace("-","_")}`],style:u.style,styleSpec:h,objectElementValidators:_0,validateSpec:w}),C;case"raster-dem":return C=function(O){var k;let z=(k=O.sourceName)!==null&&k!==void 0?k:"",U=O.value,Z=O.styleSpec,Y=Z.source_raster_dem,te=O.style,ie=[],fe=bn(U);if(U===void 0)return ie;if(fe!=="object")return ie.push(new ut("source_raster_dem",U,`object expected, ${fe} found`)),ie;let me=Vi(U.encoding)==="custom",Ue=["redFactor","greenFactor","blueFactor","baseShift"],we=O.value.encoding?`"${O.value.encoding}"`:"Default";for(let ze in U)!me&&Ue.includes(ze)?ie.push(new ut(ze,U[ze],`In "${z}": "${ze}" is only valid when "encoding" is set to "custom". ${we} encoding found`)):Y[ze]?ie=ie.concat(O.validateSpec({key:ze,value:U[ze],valueSpec:Y[ze],validateSpec:O.validateSpec,style:te,styleSpec:Z})):ie.push(new ut(ze,U[ze],`unknown property "${ze}"`));return ie}({sourceName:f,value:l,style:u.style,styleSpec:h,validateSpec:w}),C;case"geojson":if(C=Ss({key:f,value:l,valueSpec:h.source_geojson,style:_,styleSpec:h,validateSpec:w,objectElementValidators:_0}),l.cluster)for(let O in l.clusterProperties){let[k,z]=l.clusterProperties[O],U=typeof k=="string"?[k,["accumulated"],["get",O]]:k;C.push(...ch({key:`${f}.${O}.map`,value:z,validateSpec:w,expressionContext:"cluster-map"})),C.push(...ch({key:`${f}.${O}.reduce`,value:U,validateSpec:w,expressionContext:"cluster-reduce"}))}return C;case"video":return Ss({key:f,value:l,valueSpec:h.source_video,style:_,validateSpec:w,styleSpec:h});case"image":return Ss({key:f,value:l,valueSpec:h.source_image,style:_,validateSpec:w,styleSpec:h});case"canvas":return[new ut(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Sc({key:`${f}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:w,styleSpec:h});}}function rw(u){let l=u.value,f=u.styleSpec,h=f.light,_=u.style,w=[],E=bn(l);if(l===void 0)return w;if(E!=="object")return w=w.concat([new ut("light",l,`object expected, ${E} found`)]),w;for(let C in l){let O=C.match(/^(.*)-transition$/);w=w.concat(O&&h[O[1]]&&h[O[1]].transition?u.validateSpec({key:C,value:l[C],valueSpec:f.transition,validateSpec:u.validateSpec,style:_,styleSpec:f}):h[C]?u.validateSpec({key:C,value:l[C],valueSpec:h[C],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut(C,l[C],`unknown property "${C}"`)])}return w}function nw(u){let l=u.value,f=u.styleSpec,h=f.sky,_=u.style,w=bn(l);if(l===void 0)return[];if(w!=="object")return[new ut("sky",l,`object expected, ${w} found`)];let E=[];for(let C in l)E=E.concat(h[C]?u.validateSpec({key:C,value:l[C],valueSpec:h[C],style:_,styleSpec:f}):[new ut(C,l[C],`unknown property "${C}"`)]);return E}function iw(u){let l=u.value,f=u.styleSpec,h=f.terrain,_=u.style,w=[],E=bn(l);if(l===void 0)return w;if(E!=="object")return w=w.concat([new ut("terrain",l,`object expected, ${E} found`)]),w;for(let C in l)w=w.concat(h[C]?u.validateSpec({key:C,value:l[C],valueSpec:h[C],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut(C,l[C],`unknown property "${C}"`)]);return w}function ow(u){let l=[],f=u.value,h=u.key;if(Array.isArray(f)){let _=[],w=[];for(let E in f)f[E].id&&_.includes(f[E].id)&&l.push(new ut(h,f,`all the sprites' ids must be unique, but ${f[E].id} is duplicated`)),_.push(f[E].id),f[E].url&&w.includes(f[E].url)&&l.push(new ut(h,f,`all the sprites' URLs must be unique, but ${f[E].url} is duplicated`)),w.push(f[E].url),l=l.concat(Ss({key:`${h}[${E}]`,value:f[E],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return Ap({key:h,value:f})}let x0={"*":()=>[],array:Lg,boolean:function(u){let l=u.value,f=u.key,h=bn(l);return h!=="boolean"?[new ut(f,l,`boolean expected, ${h} found`)]:[]},number:Xb,color:function(u){let l=u.key,f=u.value,h=bn(f);return h!=="string"?[new ut(l,f,`color expected, ${h} found`)]:zn.parse(String(f))?[]:[new ut(l,f,`color expected, "${f}" found`)]},constants:iM,enum:Sc,filter:Qb,function:g0,layer:tw,object:Ss,source:Ng,light:rw,sky:nw,terrain:iw,projection:function(u){let l=u.value,f=u.styleSpec,h=f.projection,_=u.style,w=bn(l);if(l===void 0)return[];if(w!=="object")return[new ut("projection",l,`object expected, ${w} found`)];let E=[];for(let C in l)E=E.concat(h[C]?u.validateSpec({key:C,value:l[C],valueSpec:h[C],style:_,styleSpec:f}):[new ut(C,l[C],`unknown property "${C}"`)]);return E},string:Ap,formatted:function(u){return Ap(u).length===0?[]:ch(u)},resolvedImage:function(u){return Ap(u).length===0?[]:ch(u)},padding:function(u){let l=u.key,f=u.value;if(bn(f)==="array"){if(f.length<1||f.length>4)return[new ut(l,f,`padding requires 1 to 4 values; ${f.length} values found`)];let h={type:"number"},_=[];for(let w=0;w<f.length;w++)_=_.concat(u.validateSpec({key:`${l}[${w}]`,value:f[w],validateSpec:u.validateSpec,valueSpec:h}));return _}return Xb({key:l,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(u){let l=u.key,f=u.value,h=bn(f),_=u.styleSpec;if(h!=="array"||f.length<1||f.length%2!=0)return[new ut(l,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let w=[];for(let E=0;E<f.length;E+=2)w=w.concat(Sc({key:`${l}[${E}]`,value:f[E],valueSpec:_.layout_symbol["text-anchor"]})),w=w.concat(Lg({key:`${l}[${E+1}]`,value:f[E+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:_}));return w},sprite:ow};function fh(u){let l=u.value,f=u.valueSpec,h=u.styleSpec;return u.validateSpec=fh,f.expression&&u0(Vi(l))?g0(u):f.expression&&p0(Fl(l))?ch(u):f.type&&x0[f.type]?x0[f.type](u):Ss(Pi({},u,{valueSpec:f.type?h[f.type]:f}))}function oM(u){let l=u.value,f=u.key,h=Ap(u);return h.length||(l.indexOf("{fontstack}")===-1&&h.push(new ut(f,l,"\"glyphs\" url must include a \"{fontstack}\" token")),l.indexOf("{range}")===-1&&h.push(new ut(f,l,"\"glyphs\" url must include a \"{range}\" token"))),h}function Xs(u,l=Te){let f=[];return f=f.concat(fh({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:fh,objectElementValidators:{glyphs:oM,"*":()=>[]}})),u.constants&&(f=f.concat(iM({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:fh}))),aw(f)}function yu(u){return function(l){return u(xr(Qe({},l),{validateSpec:fh}))}}function aw(u){return[].concat(u).sort((l,f)=>l.line-f.line)}function Bl(u){return function(...l){return aw(u.apply(this,l))}}Xs.source=Bl(yu(Ng)),Xs.sprite=Bl(yu(ow)),Xs.glyphs=Bl(yu(oM)),Xs.light=Bl(yu(rw)),Xs.sky=Bl(yu(nw)),Xs.terrain=Bl(yu(iw)),Xs.layer=Bl(yu(tw)),Xs.filter=Bl(yu(Qb)),Xs.paintProperty=Bl(yu(y0)),Xs.layoutProperty=Bl(yu(ew));let Op=Xs,bj=Op.light,wj=Op.sky,aM=Op.paintProperty,sM=Op.layoutProperty;function sw(u,l){let f=!1;if(l&&l.length)for(let h of l)u.fire(new bt(new Error(h.message))),f=!0;return f}class ph{constructor(l,f,h){let _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;let E=new Int32Array(this.arrayBuffer);l=E[0],this.d=(f=E[1])+2*(h=E[2]);for(let O=0;O<this.d*this.d;O++){let k=E[3+O],z=E[3+O+1];_.push(k===z?null:E.subarray(k,z))}let C=E[3+_.length+1];this.keys=E.subarray(E[3+_.length],C),this.bboxes=E.subarray(C),this.insert=this._insertReadonly}else{this.d=f+2*h;for(let E=0;E<this.d*this.d;E++)_.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=l,this.padding=h,this.scale=f/l,this.uid=0;let w=h/f*l;this.min=-w,this.max=l+w}insert(l,f,h,_,w){this._forEachCell(f,h,_,w,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(f),this.bboxes.push(h),this.bboxes.push(_),this.bboxes.push(w)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,f,h,_,w,E){this.cells[w].push(E)}query(l,f,h,_,w){let E=this.min,C=this.max;if(l<=E&&f<=E&&C<=h&&C<=_&&!w)return Array.prototype.slice.call(this.keys);{let O=[];return this._forEachCell(l,f,h,_,this._queryCell,O,{},w),O}}_queryCell(l,f,h,_,w,E,C,O){let k=this.cells[w];if(k!==null){let z=this.keys,U=this.bboxes;for(let Z=0;Z<k.length;Z++){let Y=k[Z];if(C[Y]===void 0){let te=4*Y;(O?O(U[te+0],U[te+1],U[te+2],U[te+3]):l<=U[te+2]&&f<=U[te+3]&&h>=U[te+0]&&_>=U[te+1])?(C[Y]=!0,E.push(z[Y])):C[Y]=!1}}}}_forEachCell(l,f,h,_,w,E,C,O){let k=this._convertToCellCoord(l),z=this._convertToCellCoord(f),U=this._convertToCellCoord(h),Z=this._convertToCellCoord(_);for(let Y=k;Y<=U;Y++)for(let te=z;te<=Z;te++){let ie=this.d*te+Y;if((!O||O(this._convertFromCellCoord(Y),this._convertFromCellCoord(te),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(te+1)))&&w.call(this,l,f,h,_,ie,E,C,O))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let l=this.cells,f=3+this.cells.length+1+1,h=0;for(let E=0;E<this.cells.length;E++)h+=this.cells[E].length;let _=new Int32Array(f+h+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let w=f;for(let E=0;E<l.length;E++){let C=l[E];_[3+E]=w,_.set(C,w),w+=C.length}return _[3+l.length]=w,_.set(this.keys,w),w+=this.keys.length,_[3+l.length+1]=w,_.set(this.bboxes,w),w+=this.bboxes.length,_.buffer}static serialize(l,f){let h=l.toArrayBuffer();return f&&f.push(h),{buffer:h}}static deserialize(l){return new ph(l.buffer)}}let Qs={};function Wt(u,l,f={}){if(Qs[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Qs[u]={klass:l,omit:f.omit||[],shallow:f.shallow||[]}}Wt("Object",Object),Wt("TransferableGridIndex",ph),Wt("Color",zn),Wt("Error",Error),Wt("AJAXError",Le),Wt("ResolvedImage",ws),Wt("StylePropertyFunction",uh),Wt("StyleExpression",f0,{omit:["_evaluator"]}),Wt("ZoomDependentExpression",lh),Wt("ZoomConstantExpression",sh),Wt("CompoundExpression",Ks,{omit:["_evaluate"]});for(let u in th)th[u]._classRegistryKey||Wt(`Expression_${u}`,th[u]);function b0(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function lw(u){return u.$name||u.constructor._classRegistryKey}function lM(u){return!function(l){if(l===null||typeof l!="object")return!1;let f=lw(l);return!(!f||f==="Object")}(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||b0(u)||$e(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function dh(u,l){if(lM(u))return(b0(u)||$e(u))&&l&&l.push(u),ArrayBuffer.isView(u)&&l&&l.push(u.buffer),u instanceof ImageData&&l&&l.push(u.data.buffer),u;if(Array.isArray(u)){let w=[];for(let E of u)w.push(dh(E,l));return w}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);let f=lw(u);if(!f)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Qs[f])throw new Error(`${f} is not registered.`);let{klass:h}=Qs[f],_=h.serialize?h.serialize(u,l):{};if(h.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let w in u){if(!u.hasOwnProperty(w)||Qs[f].omit.indexOf(w)>=0)continue;let E=u[w];_[w]=Qs[f].shallow.indexOf(w)>=0?E:dh(E,l)}u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(_.$name=f),_}function hh(u){if(lM(u))return u;if(Array.isArray(u))return u.map(hh);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);let l=lw(u)||"Object";if(!Qs[l])throw new Error(`can't deserialize unregistered class ${l}`);let{klass:f}=Qs[l];if(!f)throw new Error(`can't deserialize unregistered class ${l}`);if(f.deserialize)return f.deserialize(u);let h=Object.create(f.prototype);for(let _ of Object.keys(u)){if(_==="$name")continue;let w=u[_];h[_]=Qs[l].shallow.indexOf(_)>=0?w:hh(w)}return h}class uw{constructor(){this.first=!0}update(l,f){let h=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=h,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=h,!0):(this.lastFloorZoom>h?(this.lastIntegerZoom=h+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<h&&(this.lastIntegerZoom=h,this.lastIntegerZoomTime=f),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=h,!0))}}let ln={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function cw(u){for(let l of u)if(pw(l.charCodeAt(0)))return!0;return!1}function Sj(u){for(let l of u)if(!mh(l.charCodeAt(0)))return!1;return!0}function fw(u){let l=u.map(f=>{try{return new RegExp(`\\p{sc=${f}}`,"u").source}catch(h){return null}}).filter(f=>f);return new RegExp(l.join("|"),"u")}let Ej=fw(["Arab","Dupl","Mong","Ougr","Syrc"]);function mh(u){return!Ej.test(String.fromCodePoint(u))}let uM=fw(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function pw(u){return!(u!==746&&u!==747&&(u<4352||!(ln["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||ln["CJK Compatibility"](u)||ln["CJK Strokes"](u)||!(!ln["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||ln["Enclosed CJK Letters and Months"](u)||ln["Ideographic Description Characters"](u)||ln.Kanbun(u)||ln.Katakana(u)&&u!==12540||!(!ln["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!ln["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||ln["Vertical Forms"](u)||ln["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||uM.test(String.fromCodePoint(u)))))}function cM(u){return!(pw(u)||function(l){return!!(ln["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||ln["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||ln["Letterlike Symbols"](l)||ln["Number Forms"](l)||ln["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||ln["Control Pictures"](l)&&l!==9251||ln["Optical Character Recognition"](l)||ln["Enclosed Alphanumerics"](l)||ln["Geometric Shapes"](l)||ln["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||ln["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||ln["CJK Symbols and Punctuation"](l)||ln.Katakana(l)||ln["Private Use Area"](l)||ln["CJK Compatibility Forms"](l)||ln["Small Form Variants"](l)||ln["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}let Ij=fw(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function dw(u){return Ij.test(String.fromCodePoint(u))}function Tj(u,l){return!(!l&&dw(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||ln.Khmer(u))}function Cj(u){for(let l of u)if(dw(l.charCodeAt(0)))return!0;return!1}let Es=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class di{constructor(l,f){this.zoom=l,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new uw,this.transition={})}isSupportedScript(l){return function(f,h){for(let _ of f)if(!Tj(_.charCodeAt(0),h))return!1;return!0}(l,Es.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let l=this.zoom,f=l-Math.floor(l),h=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*h}:{fromScale:.5,toScale:1,t:1-(1-h)*f}}}class gh{constructor(l,f){this.property=l,this.value=f,this.expression=function(h,_){if(u0(h))return new uh(h,_);if(p0(h)){let w=Zb(h,_);if(w.result==="error")throw new Error(w.value.map(E=>`${E.key}: ${E.message}`).join(", "));return w.value}{let w=h;return _.type==="color"&&typeof h=="string"?w=zn.parse(h):_.type!=="padding"||typeof h!="number"&&!Array.isArray(h)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(h)&&(w=Ys.parse(h)):w=bs.parse(h),{kind:"constant",evaluate:()=>w}}}(f===void 0?l.specification.default:f,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,f,h){return this.property.possiblyEvaluate(this,l,f,h)}}class w0{constructor(l){this.property=l,this.value=new gh(l,void 0)}transitioned(l,f){return new fM(this.property,this.value,f,Q({},l.transition,this.transition),l.now)}untransitioned(){return new fM(this.property,this.value,null,{},0)}}class S0{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return ue(this._values[l].value.value)}setValue(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new w0(this._values[l].property)),this._values[l].value=new gh(this._values[l].property,f===null?void 0:ue(f))}getTransition(l){return ue(this._values[l].transition)}setTransition(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new w0(this._values[l].property)),this._values[l].transition=ue(f)||void 0}serialize(){let l={};for(let f of Object.keys(this._values)){let h=this.getValue(f);h!==void 0&&(l[f]=h);let _=this.getTransition(f);_!==void 0&&(l[`${f}-transition`]=_)}return l}transitioned(l,f){let h=new Rg(this._properties);for(let _ of Object.keys(this._values))h._values[_]=this._values[_].transitioned(l,f._values[_]);return h}untransitioned(){let l=new Rg(this._properties);for(let f of Object.keys(this._values))l._values[f]=this._values[f].untransitioned();return l}}class fM{constructor(l,f,h,_,w){this.property=l,this.value=f,this.begin=w+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=h)}possiblyEvaluate(l,f,h){let _=l.now||0,w=this.value.possiblyEvaluate(l,f,h),E=this.prior;if(E){if(_>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(_<this.begin)return E.possiblyEvaluate(l,f,h);{let C=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(l,f,h),w,function(O){if(O<=0)return 0;if(O>=1)return 1;let k=O*O,z=k*O;return 4*(O<.5?z:3*(O-k)+z-.75)}(C))}}return w}}class Rg{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,f,h){let _=new qg(this._properties);for(let w of Object.keys(this._values))_._values[w]=this._values[w].possiblyEvaluate(l,f,h);return _}hasTransition(){for(let l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class kg{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return ue(this._values[l].value)}setValue(l,f){this._values[l]=new gh(this._values[l].property,f===null?void 0:ue(f))}serialize(){let l={};for(let f of Object.keys(this._values)){let h=this.getValue(f);h!==void 0&&(l[f]=h)}return l}possiblyEvaluate(l,f,h){let _=new qg(this._properties);for(let w of Object.keys(this._values))_._values[w]=this._values[w].possiblyEvaluate(l,f,h);return _}}class _u{constructor(l,f,h){this.property=l,this.value=f,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,f,h,_){return this.property.evaluate(this.value,this.parameters,l,f,h,_)}}class qg{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Xt{constructor(l){this.specification=l}possiblyEvaluate(l,f){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(f)}interpolate(l,f,h){let _=Fa[this.specification.type];return _?_(l,f,h):l}}class mr{constructor(l,f){this.specification=l,this.overrides=f}possiblyEvaluate(l,f,h,_){return new _u(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(f,null,{},h,_)}:l.expression,f)}interpolate(l,f,h){if(l.value.kind!=="constant"||f.value.kind!=="constant")return l;if(l.value.value===void 0||f.value.value===void 0)return new _u(this,{kind:"constant",value:void 0},l.parameters);let _=Fa[this.specification.type];if(_){let w=_(l.value.value,f.value.value,h);return new _u(this,{kind:"constant",value:w},l.parameters)}return l}evaluate(l,f,h,_,w,E){return l.kind==="constant"?l.value:l.evaluate(f,h,_,w,E)}}class E0 extends mr{possiblyEvaluate(l,f,h,_){if(l.value===void 0)return new _u(this,{kind:"constant",value:void 0},f);if(l.expression.kind==="constant"){let w=l.expression.evaluate(f,null,{},h,_),E=l.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,C=this._calculate(E,E,E,f);return new _u(this,{kind:"constant",value:C},f)}if(l.expression.kind==="camera"){let w=this._calculate(l.expression.evaluate({zoom:f.zoom-1}),l.expression.evaluate({zoom:f.zoom}),l.expression.evaluate({zoom:f.zoom+1}),f);return new _u(this,{kind:"constant",value:w},f)}return new _u(this,l.expression,f)}evaluate(l,f,h,_,w,E){if(l.kind==="source"){let C=l.evaluate(f,h,_,w,E);return this._calculate(C,C,C,f)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(f.zoom)-1},h,_),l.evaluate({zoom:Math.floor(f.zoom)},h,_),l.evaluate({zoom:Math.floor(f.zoom)+1},h,_),f):l.value}_calculate(l,f,h,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:h,to:f}}interpolate(l){return l}}class I0{constructor(l){this.specification=l}possiblyEvaluate(l,f,h,_){if(l.value!==void 0){if(l.expression.kind==="constant"){let w=l.expression.evaluate(f,null,{},h,_);return this._calculate(w,w,w,f)}return this._calculate(l.expression.evaluate(new di(Math.floor(f.zoom-1),f)),l.expression.evaluate(new di(Math.floor(f.zoom),f)),l.expression.evaluate(new di(Math.floor(f.zoom+1),f)),f)}}_calculate(l,f,h,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:h,to:f}}interpolate(l){return l}}class hw{constructor(l){this.specification=l}possiblyEvaluate(l,f,h,_){return!!l.expression.evaluate(f,null,{},h,_)}interpolate(){return!1}}class b{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let f in l){let h=l[f];h.specification.overridable&&this.overridableProperties.push(f);let _=this.defaultPropertyValues[f]=new gh(h,void 0),w=this.defaultTransitionablePropertyValues[f]=new w0(h);this.defaultTransitioningPropertyValues[f]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=_.possiblyEvaluate({})}}}Wt("DataDrivenProperty",mr),Wt("DataConstantProperty",Xt),Wt("CrossFadedDataDrivenProperty",E0),Wt("CrossFadedProperty",I0),Wt("ColorRampProperty",hw);let s="-transition";class d extends yt{constructor(l,f){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),f.layout&&(this._unevaluatedLayout=new kg(f.layout)),f.paint)){this._transitionablePaint=new S0(f.paint);for(let h in l.paint)this.setPaintProperty(h,l.paint[h],{validate:!1});for(let h in l.layout)this.setLayoutProperty(h,l.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qg(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,f,h={}){f!=null&&this._validate(sM,`layers.${this.id}.layout.${l}`,l,f,h)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,f):this.visibility=f)}getPaintProperty(l){return l.endsWith(s)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,f,h={}){if(f!=null&&this._validate(aM,`layers.${this.id}.paint.${l}`,l,f,h))return!1;if(l.endsWith(s))return this._transitionablePaint.setTransition(l.slice(0,-11),f||void 0),!1;{let _=this._transitionablePaint._values[l],w=_.property.specification["property-type"]==="cross-faded-data-driven",E=_.value.isDataDriven(),C=_.value;this._transitionablePaint.setValue(l,f),this._handleSpecialPaintPropertyUpdate(l);let O=this._transitionablePaint._values[l].value;return O.isDataDriven()||E||w||this._handleOverridablePaintPropertyUpdate(l,C,O)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,f,h){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,f){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,f)}serialize(){let l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),de(l,(f,h)=>!(f===void 0||h==="layout"&&!Object.keys(f).length||h==="paint"&&!Object.keys(f).length))}_validate(l,f,h,_,w={}){return(!w||w.validate!==!1)&&sw(this,l.call(Op,{key:f,layerType:this.type,objectKey:h,value:_,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let l in this.paint._values){let f=this.paint.get(l);if(f instanceof _u&&ih(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}let v={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class y{constructor(l,f){this._structArray=l,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class x{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,f){return l._trim(),f&&(l.isTransferred=!0,f.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){let f=Object.create(this.prototype);return f.arrayBuffer=l.arrayBuffer,f.length=l.length,f.capacity=l.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function A(u,l=1){let f=0,h=0;return{members:u.map(_=>{let w=v[_.type].BYTES_PER_ELEMENT,E=f=D(f,Math.max(l,w)),C=_.components||1;return h=Math.max(h,w),f+=w*C,{name:_.name,type:_.type,components:C,offset:E}}),size:D(f,Math.max(h,l)),alignment:l}}function D(u,l){return Math.ceil(u/l)*l}class R extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.int16[_+0]=f,this.int16[_+1]=h,l}}R.prototype.bytesPerElement=4,Wt("StructArrayLayout2i4",R);class F extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.int16[w+0]=f,this.int16[w+1]=h,this.int16[w+2]=_,l}}F.prototype.bytesPerElement=6,Wt("StructArrayLayout3i6",F);class V extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_){let w=this.length;return this.resize(w+1),this.emplace(w,l,f,h,_)}emplace(l,f,h,_,w){let E=4*l;return this.int16[E+0]=f,this.int16[E+1]=h,this.int16[E+2]=_,this.int16[E+3]=w,l}}V.prototype.bytesPerElement=8,Wt("StructArrayLayout4i8",V);class G extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E){let C=this.length;return this.resize(C+1),this.emplace(C,l,f,h,_,w,E)}emplace(l,f,h,_,w,E,C){let O=6*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.int16[O+2]=_,this.int16[O+3]=w,this.int16[O+4]=E,this.int16[O+5]=C,l}}G.prototype.bytesPerElement=12,Wt("StructArrayLayout2i4i12",G);class X extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E){let C=this.length;return this.resize(C+1),this.emplace(C,l,f,h,_,w,E)}emplace(l,f,h,_,w,E,C){let O=4*l,k=8*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.uint8[k+4]=_,this.uint8[k+5]=w,this.uint8[k+6]=E,this.uint8[k+7]=C,l}}X.prototype.bytesPerElement=8,Wt("StructArrayLayout2i4ub8",X);class oe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.float32[_+0]=f,this.float32[_+1]=h,l}}oe.prototype.bytesPerElement=8,Wt("StructArrayLayout2f8",oe);class le extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E,C,O,k,z){let U=this.length;return this.resize(U+1),this.emplace(U,l,f,h,_,w,E,C,O,k,z)}emplace(l,f,h,_,w,E,C,O,k,z,U){let Z=10*l;return this.uint16[Z+0]=f,this.uint16[Z+1]=h,this.uint16[Z+2]=_,this.uint16[Z+3]=w,this.uint16[Z+4]=E,this.uint16[Z+5]=C,this.uint16[Z+6]=O,this.uint16[Z+7]=k,this.uint16[Z+8]=z,this.uint16[Z+9]=U,l}}le.prototype.bytesPerElement=20,Wt("StructArrayLayout10ui20",le);class pe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E,C,O,k,z,U,Z){let Y=this.length;return this.resize(Y+1),this.emplace(Y,l,f,h,_,w,E,C,O,k,z,U,Z)}emplace(l,f,h,_,w,E,C,O,k,z,U,Z,Y){let te=12*l;return this.int16[te+0]=f,this.int16[te+1]=h,this.int16[te+2]=_,this.int16[te+3]=w,this.uint16[te+4]=E,this.uint16[te+5]=C,this.uint16[te+6]=O,this.uint16[te+7]=k,this.int16[te+8]=z,this.int16[te+9]=U,this.int16[te+10]=Z,this.int16[te+11]=Y,l}}pe.prototype.bytesPerElement=24,Wt("StructArrayLayout4i4ui4i24",pe);class ge extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.float32[w+0]=f,this.float32[w+1]=h,this.float32[w+2]=_,l}}ge.prototype.bytesPerElement=12,Wt("StructArrayLayout3f12",ge);class ye extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint32[1*l+0]=f,l}}ye.prototype.bytesPerElement=4,Wt("StructArrayLayout1ul4",ye);class xe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E,C,O,k){let z=this.length;return this.resize(z+1),this.emplace(z,l,f,h,_,w,E,C,O,k)}emplace(l,f,h,_,w,E,C,O,k,z){let U=10*l,Z=5*l;return this.int16[U+0]=f,this.int16[U+1]=h,this.int16[U+2]=_,this.int16[U+3]=w,this.int16[U+4]=E,this.int16[U+5]=C,this.uint32[Z+3]=O,this.uint16[U+8]=k,this.uint16[U+9]=z,l}}xe.prototype.bytesPerElement=20,Wt("StructArrayLayout6i1ul2ui20",xe);class ce extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E){let C=this.length;return this.resize(C+1),this.emplace(C,l,f,h,_,w,E)}emplace(l,f,h,_,w,E,C){let O=6*l;return this.int16[O+0]=f,this.int16[O+1]=h,this.int16[O+2]=_,this.int16[O+3]=w,this.int16[O+4]=E,this.int16[O+5]=C,l}}ce.prototype.bytesPerElement=12,Wt("StructArrayLayout2i2i2i12",ce);class Oe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w){let E=this.length;return this.resize(E+1),this.emplace(E,l,f,h,_,w)}emplace(l,f,h,_,w,E){let C=4*l,O=8*l;return this.float32[C+0]=f,this.float32[C+1]=h,this.float32[C+2]=_,this.int16[O+6]=w,this.int16[O+7]=E,l}}Oe.prototype.bytesPerElement=16,Wt("StructArrayLayout2f1f2i16",Oe);class ke extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E){let C=this.length;return this.resize(C+1),this.emplace(C,l,f,h,_,w,E)}emplace(l,f,h,_,w,E,C){let O=16*l,k=4*l,z=8*l;return this.uint8[O+0]=f,this.uint8[O+1]=h,this.float32[k+1]=_,this.float32[k+2]=w,this.int16[z+6]=E,this.int16[z+7]=C,l}}ke.prototype.bytesPerElement=16,Wt("StructArrayLayout2ub2f2i16",ke);class Ve extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.uint16[w+0]=f,this.uint16[w+1]=h,this.uint16[w+2]=_,l}}Ve.prototype.bytesPerElement=6,Wt("StructArrayLayout3ui6",Ve);class at extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me){let Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me)}emplace(l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me,Ue){let we=24*l,ze=12*l,Ye=48*l;return this.int16[we+0]=f,this.int16[we+1]=h,this.uint16[we+2]=_,this.uint16[we+3]=w,this.uint32[ze+2]=E,this.uint32[ze+3]=C,this.uint32[ze+4]=O,this.uint16[we+10]=k,this.uint16[we+11]=z,this.uint16[we+12]=U,this.float32[ze+7]=Z,this.float32[ze+8]=Y,this.uint8[Ye+36]=te,this.uint8[Ye+37]=ie,this.uint8[Ye+38]=fe,this.uint32[ze+10]=me,this.int16[we+22]=Ue,l}}at.prototype.bytesPerElement=48,Wt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",at);class ht extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me,Ue,we,ze,Ye,ct,jt,dr,kt,Ot,tr,Yt){let Ht=this.length;return this.resize(Ht+1),this.emplace(Ht,l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me,Ue,we,ze,Ye,ct,jt,dr,kt,Ot,tr,Yt)}emplace(l,f,h,_,w,E,C,O,k,z,U,Z,Y,te,ie,fe,me,Ue,we,ze,Ye,ct,jt,dr,kt,Ot,tr,Yt,Ht){let rt=32*l,nr=16*l;return this.int16[rt+0]=f,this.int16[rt+1]=h,this.int16[rt+2]=_,this.int16[rt+3]=w,this.int16[rt+4]=E,this.int16[rt+5]=C,this.int16[rt+6]=O,this.int16[rt+7]=k,this.uint16[rt+8]=z,this.uint16[rt+9]=U,this.uint16[rt+10]=Z,this.uint16[rt+11]=Y,this.uint16[rt+12]=te,this.uint16[rt+13]=ie,this.uint16[rt+14]=fe,this.uint16[rt+15]=me,this.uint16[rt+16]=Ue,this.uint16[rt+17]=we,this.uint16[rt+18]=ze,this.uint16[rt+19]=Ye,this.uint16[rt+20]=ct,this.uint16[rt+21]=jt,this.uint16[rt+22]=dr,this.uint32[nr+12]=kt,this.float32[nr+13]=Ot,this.float32[nr+14]=tr,this.uint16[rt+30]=Yt,this.uint16[rt+31]=Ht,l}}ht.prototype.bytesPerElement=64,Wt("StructArrayLayout8i15ui1ul2f2ui64",ht);class Pt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.float32[1*l+0]=f,l}}Pt.prototype.bytesPerElement=4,Wt("StructArrayLayout1f4",Pt);class Bt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=3*l;return this.uint16[6*l+0]=f,this.float32[w+1]=h,this.float32[w+2]=_,l}}Bt.prototype.bytesPerElement=12,Wt("StructArrayLayout1ui2f12",Bt);class It extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,h){let _=this.length;return this.resize(_+1),this.emplace(_,l,f,h)}emplace(l,f,h,_){let w=4*l;return this.uint32[2*l+0]=f,this.uint16[w+2]=h,this.uint16[w+3]=_,l}}It.prototype.bytesPerElement=8,Wt("StructArrayLayout1ul2ui8",It);class St extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f){let h=this.length;return this.resize(h+1),this.emplace(h,l,f)}emplace(l,f,h){let _=2*l;return this.uint16[_+0]=f,this.uint16[_+1]=h,l}}St.prototype.bytesPerElement=4,Wt("StructArrayLayout2ui4",St);class Qt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){let f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint16[1*l+0]=f,l}}Qt.prototype.bytesPerElement=2,Wt("StructArrayLayout1ui2",Qt);class Er extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,h,_){let w=this.length;return this.resize(w+1),this.emplace(w,l,f,h,_)}emplace(l,f,h,_,w){let E=4*l;return this.float32[E+0]=f,this.float32[E+1]=h,this.float32[E+2]=_,this.float32[E+3]=w,l}}Er.prototype.bytesPerElement=16,Wt("StructArrayLayout4f16",Er);class At extends y{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new m(this.anchorPointX,this.anchorPointY)}}At.prototype.size=20;class qt extends xe{get(l){return new At(this,l)}}Wt("CollisionBoxArray",qt);class wr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}wr.prototype.size=48;class hi extends at{get(l){return new wr(this,l)}}Wt("PlacedSymbolArray",hi);class jr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}jr.prototype.size=64;class nn extends ht{get(l){return new jr(this,l)}}Wt("SymbolInstanceArray",nn);class mi extends Pt{getoffsetX(l){return this.float32[1*l+0]}}Wt("GlyphOffsetArray",mi);class $o extends F{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Wt("SymbolLineVertexArray",$o);class Ul extends y{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ul.prototype.size=12;class gi extends Bt{get(l){return new Ul(this,l)}}Wt("TextAnchorOffsetArray",gi);class Ua extends y{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ua.prototype.size=8;class pa extends It{get(l){return new Ua(this,l)}}Wt("FeatureIndexArray",pa);class Zo extends R{}class da extends R{}class xu extends R{}class vh extends G{}class T0 extends X{}class yh extends oe{}class Js extends le{}class C0 extends pe{}class mw extends ge{}class el extends ye{}class tl extends ce{}class uf extends ke{}class Vl extends Ve{}class No extends St{}let Yo=A([{name:"a_pos",components:2,type:"Int16"}],4),{members:Is}=Yo;class un{constructor(l=[]){this.segments=l}prepareSegment(l,f,h,_){let w=this.segments[this.segments.length-1];return l>un.MAX_VERTEX_ARRAY_LENGTH&&Ee(`Max vertices per segment is ${un.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!w||w.vertexLength+l>un.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==_)&&(w={vertexOffset:f.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},_!==void 0&&(w.sortKey=_),this.segments.push(w)),w}get(){return this.segments}destroy(){for(let l of this.segments)for(let f in l.vaos)l.vaos[f].destroy()}static simpleSegment(l,f,h,_){return new un([{vertexOffset:l,primitiveOffset:f,vertexLength:h,primitiveLength:_,vaos:{},sortKey:0}])}}function Dp(u,l){return 256*(u=B(Math.floor(u),0,255))+B(Math.floor(l),0,255)}un.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wt("SegmentVector",un);let _h=A([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var xh={exports:{}},pM={exports:{}};pM.exports=function(u,l){var f,h,_,w,E,C,O,k;for(h=u.length-(f=3&u.length),_=l,E=3432918353,C=461845907,k=0;k<h;)O=255&u.charCodeAt(k)|(255&u.charCodeAt(++k))<<8|(255&u.charCodeAt(++k))<<16|(255&u.charCodeAt(++k))<<24,++k,_=27492+(65535&(w=5*(65535&(_=(_^=O=(65535&(O=(O=(65535&O)*E+(((O>>>16)*E&65535)<<16)&4294967295)<<15|O>>>17))*C+(((O>>>16)*C&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(O=0,f){case 3:O^=(255&u.charCodeAt(k+2))<<16;case 2:O^=(255&u.charCodeAt(k+1))<<8;case 1:_^=O=(65535&(O=(O=(65535&(O^=255&u.charCodeAt(k)))*E+(((O>>>16)*E&65535)<<16)&4294967295)<<15|O>>>17))*C+(((O>>>16)*C&65535)<<16)&4294967295;}return _^=u.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var Mj=pM.exports,dM={exports:{}};dM.exports=function(u,l){for(var f,h=u.length,_=l^h,w=0;h>=4;)f=1540483477*(65535&(f=255&u.charCodeAt(w)|(255&u.charCodeAt(++w))<<8|(255&u.charCodeAt(++w))<<16|(255&u.charCodeAt(++w))<<24))+((1540483477*(f>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),h-=4,++w;switch(h){case 3:_^=(255&u.charCodeAt(w+2))<<16;case 2:_^=(255&u.charCodeAt(w+1))<<8;case 1:_=1540483477*(65535&(_^=255&u.charCodeAt(w)))+((1540483477*(_>>>16)&65535)<<16);}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var cf=Mj,hM=dM.exports;xh.exports=cf,xh.exports.murmur3=cf,xh.exports.murmur2=hM;var M0=a(xh.exports);class jg{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,f,h,_){this.ids.push(A0(l)),this.positions.push(f,h,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let f=A0(l),h=0,_=this.ids.length-1;for(;h<_;){let E=h+_>>1;this.ids[E]>=f?_=E:h=E+1}let w=[];for(;this.ids[h]===f;)w.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return w}static serialize(l,f){let h=new Float64Array(l.ids),_=new Uint32Array(l.positions);return O0(h,_,0,h.length-1),f&&f.push(h.buffer,_.buffer),{ids:h,positions:_}}static deserialize(l){let f=new jg;return f.ids=l.ids,f.positions=l.positions,f.indexed=!0,f}}function A0(u){let l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:M0(String(u))}function O0(u,l,f,h){for(;f<h;){let _=u[f+h>>1],w=f-1,E=h+1;for(;;){do w++;while(u[w]<_);do E--;while(u[E]>_);if(w>=E)break;bh(u,w,E),bh(l,3*w,3*E),bh(l,3*w+1,3*E+1),bh(l,3*w+2,3*E+2)}E-f<h-E?(O0(u,l,f,E),f=E+1):(O0(u,l,E+1,h),h=E)}}function bh(u,l,f){let h=u[l];u[l]=u[f],u[f]=h}Wt("FeaturePositionMap",jg);class zg{constructor(l,f){this.gl=l.gl,this.location=f}}class mM extends zg{constructor(l,f){super(l,f),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class pte extends zg{constructor(l,f){super(l,f),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class dte extends zg{constructor(l,f){super(l,f),this.current=zn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}let bXe=new Float32Array(16);function Aj(u){return[Dp(255*u.r,255*u.g),Dp(255*u.b,255*u.a)]}class gw{constructor(l,f,h){this.value=l,this.uniformNames=f.map(_=>`u_${_}`),this.type=h}setUniform(l,f,h){l.set(h.constantOr(this.value))}getBinding(l,f,h){return this.type==="color"?new dte(l,f):new mM(l,f)}}class D0{constructor(l,f){this.uniformNames=f.map(h=>`u_${h}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=l.tlbr}setUniform(l,f,h,_){let w=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;w&&l.set(w)}getBinding(l,f,h){return h.substr(0,9)==="u_pattern"?new pte(l,f):new mM(l,f)}}class Pp{constructor(l,f,h,_){this.expression=l,this.type=h,this.maxValue=0,this.paintVertexAttributes=f.map(w=>({name:`a_${w}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,f,h,_,w){let E=this.paintVertexArray.length,C=this.expression.evaluate(new di(0),f,{},_,[],w);this.paintVertexArray.resize(l),this._setPaintValue(E,l,C)}updatePaintArray(l,f,h,_){let w=this.expression.evaluate({zoom:0},h,_);this._setPaintValue(l,f,w)}_setPaintValue(l,f,h){if(this.type==="color"){let _=Aj(h);for(let w=l;w<f;w++)this.paintVertexArray.emplace(w,_[0],_[1])}else{for(let _=l;_<f;_++)this.paintVertexArray.emplace(_,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ec{constructor(l,f,h,_,w,E){this.expression=l,this.uniformNames=f.map(C=>`u_${C}_t`),this.type=h,this.useIntegerZoom=_,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=f.map(C=>({name:`a_${C}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(l,f,h,_,w){let E=this.expression.evaluate(new di(this.zoom),f,{},_,[],w),C=this.expression.evaluate(new di(this.zoom+1),f,{},_,[],w),O=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(O,l,E,C)}updatePaintArray(l,f,h,_){let w=this.expression.evaluate({zoom:this.zoom},h,_),E=this.expression.evaluate({zoom:this.zoom+1},h,_);this._setPaintValue(l,f,w,E)}_setPaintValue(l,f,h,_){if(this.type==="color"){let w=Aj(h),E=Aj(_);for(let C=l;C<f;C++)this.paintVertexArray.emplace(C,w[0],w[1],E[0],E[1])}else{for(let w=l;w<f;w++)this.paintVertexArray.emplace(w,h,_);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,f){let h=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,_=B(this.expression.interpolationFactor(h,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,f,h){return new mM(l,f)}}class wh{constructor(l,f,h,_,w,E){this.expression=l,this.type=f,this.useIntegerZoom=h,this.zoom=_,this.layerId=E,this.zoomInPaintVertexArray=new w,this.zoomOutPaintVertexArray=new w}populatePaintArray(l,f,h){let _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,f.patterns&&f.patterns[this.layerId],h)}updatePaintArray(l,f,h,_,w){this._setPaintValues(l,f,h.patterns&&h.patterns[this.layerId],w)}_setPaintValues(l,f,h,_){if(!_||!h)return;let{min:w,mid:E,max:C}=h,O=_[w],k=_[E],z=_[C];if(O&&k&&z)for(let U=l;U<f;U++)this.zoomInPaintVertexArray.emplace(U,k.tl[0],k.tl[1],k.br[0],k.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],k.pixelRatio,O.pixelRatio),this.zoomOutPaintVertexArray.emplace(U,k.tl[0],k.tl[1],k.br[0],k.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],k.pixelRatio,z.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,_h.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,_h.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class hte{constructor(l,f,h){this.binders={},this._buffers=[];let _=[];for(let w in l.paint._values){if(!h(w))continue;let E=l.paint.get(w);if(!(E instanceof _u&&ih(E.property.specification)))continue;let C=wXe(w,l.type),O=E.value,k=E.property.specification.type,z=E.property.useIntegerZoom,U=E.property.specification["property-type"],Z=U==="cross-faded"||U==="cross-faded-data-driven";if(O.kind==="constant")this.binders[w]=Z?new D0(O.value,C):new gw(O.value,C,k),_.push(`/u_${w}`);else if(O.kind==="source"||Z){let Y=mte(w,k,"source");this.binders[w]=Z?new wh(O,k,z,f,Y,l.id):new Pp(O,C,k,Y),_.push(`/a_${w}`)}else{let Y=mte(w,k,"composite");this.binders[w]=new Ec(O,C,k,z,f,Y),_.push(`/z_${w}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){let f=this.binders[l];return f instanceof Pp||f instanceof Ec?f.maxValue:0}populatePaintArrays(l,f,h,_,w){for(let E in this.binders){let C=this.binders[E];(C instanceof Pp||C instanceof Ec||C instanceof wh)&&C.populatePaintArray(l,f,h,_,w)}}setConstantPatternPositions(l,f){for(let h in this.binders){let _=this.binders[h];_ instanceof D0&&_.setConstantPatternPositions(l,f)}}updatePaintArrays(l,f,h,_,w){let E=!1;for(let C in l){let O=f.getPositions(C);for(let k of O){let z=h.feature(k.index);for(let U in this.binders){let Z=this.binders[U];if((Z instanceof Pp||Z instanceof Ec||Z instanceof wh)&&Z.expression.isStateDependent===!0){let Y=_.paint.get(U);Z.expression=Y.value,Z.updatePaintArray(k.start,k.end,z,l[C],w),E=!0}}}}return E}defines(){let l=[];for(let f in this.binders){let h=this.binders[f];(h instanceof gw||h instanceof D0)&&l.push(...h.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){let l=[];for(let f in this.binders){let h=this.binders[f];if(h instanceof Pp||h instanceof Ec)for(let _=0;_<h.paintVertexAttributes.length;_++)l.push(h.paintVertexAttributes[_].name);else if(h instanceof wh)for(let _=0;_<_h.members.length;_++)l.push(_h.members[_].name)}return l}getBinderUniforms(){let l=[];for(let f in this.binders){let h=this.binders[f];if(h instanceof gw||h instanceof D0||h instanceof Ec)for(let _ of h.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,f){let h=[];for(let _ in this.binders){let w=this.binders[_];if(w instanceof gw||w instanceof D0||w instanceof Ec){for(let E of w.uniformNames)if(f[E]){let C=w.getBinding(l,f[E],E);h.push({name:E,property:_,binding:C})}}}return h}setUniforms(l,f,h,_){for(let{name:w,property:E,binding:C}of f)this.binders[E].setUniform(C,_,h.get(E),w)}updatePaintBuffers(l){this._buffers=[];for(let f in this.binders){let h=this.binders[f];if(l&&h instanceof wh){let _=l.fromScale===2?h.zoomInPaintVertexBuffer:h.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(h instanceof Pp||h instanceof Ec)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(l){for(let f in this.binders){let h=this.binders[f];(h instanceof Pp||h instanceof Ec||h instanceof wh)&&h.upload(l)}this.updatePaintBuffers()}destroy(){for(let l in this.binders){let f=this.binders[l];(f instanceof Pp||f instanceof Ec||f instanceof wh)&&f.destroy()}}}class Fg{constructor(l,f,h=()=>!0){this.programConfigurations={};for(let _ of l)this.programConfigurations[_.id]=new hte(_,f,h);this.needsUpload=!1,this._featureMap=new jg,this._bufferOffset=0}populatePaintArrays(l,f,h,_,w,E){for(let C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(l,f,_,w,E);f.id!==void 0&&this._featureMap.add(f.id,h,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,f,h,_){for(let w of h)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(l,this._featureMap,f,w,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(let f in this.programConfigurations)this.programConfigurations[f].upload(l);this.needsUpload=!1}}destroy(){for(let l in this.programConfigurations)this.programConfigurations[l].destroy()}}function wXe(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function mte(u,l,f){let h={color:{source:oe,composite:Er},number:{source:Pt,composite:oe}},_=function(w){return{"line-pattern":{source:Js,composite:Js},"fill-pattern":{source:Js,composite:Js},"fill-extrusion-pattern":{source:Js,composite:Js}}[w]}(u);return _&&_[f]||h[l][f]}Wt("ConstantBinder",gw),Wt("CrossFadedConstantBinder",D0),Wt("SourceExpressionBinder",Pp),Wt("CrossFadedCompositeBinder",wh),Wt("CompositeExpressionBinder",Ec),Wt("ProgramConfiguration",hte,{omit:["_buffers"]}),Wt("ProgramConfigurationSet",Fg);let ro=8192,Oj=Math.pow(2,14)-1,gte=-Oj-1;function Bg(u){let l=ro/u.extent,f=u.loadGeometry();for(let h=0;h<f.length;h++){let _=f[h];for(let w=0;w<_.length;w++){let E=_[w],C=Math.round(E.x*l),O=Math.round(E.y*l);E.x=B(C,gte,Oj),E.y=B(O,gte,Oj),(C<E.x||C>E.x+1||O<E.y||O>E.y+1)&&Ee("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function Ug(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?Bg(u):[]}}function gM(u,l,f,h,_){u.emplaceBack(2*l+(h+1)/2,2*f+(_+1)/2)}class Dj{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new da,this.indexArray=new Vl,this.segments=new un,this.programConfigurations=new Fg(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){let _=this.layers[0],w=[],E=null,C=!1;_.type==="circle"&&(E=_.layout.get("circle-sort-key"),C=!E.isConstant());for(let{feature:O,id:k,index:z,sourceLayerIndex:U}of l){let Z=this.layers[0]._featureFilter.needGeometry,Y=Ug(O,Z);if(!this.layers[0]._featureFilter.filter(new di(this.zoom),Y,h))continue;let te=C?E.evaluate(Y,{},h):void 0,ie={id:k,properties:O.properties,type:O.type,sourceLayerIndex:U,index:z,geometry:Z?Y.geometry:Bg(O),patterns:{},sortKey:te};w.push(ie)}C&&w.sort((O,k)=>O.sortKey-k.sortKey);for(let O of w){let{geometry:k,index:z,sourceLayerIndex:U}=O,Z=l[z].feature;this.addFeature(O,k,z,h),f.featureIndex.insert(Z,k,z,U,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Is),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,f,h,_){for(let w of f)for(let E of w){let C=E.x,O=E.y;if(C<0||C>=ro||O<0||O>=ro)continue;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),z=k.vertexLength;gM(this.layoutVertexArray,C,O,-1,-1),gM(this.layoutVertexArray,C,O,1,-1),gM(this.layoutVertexArray,C,O,1,1),gM(this.layoutVertexArray,C,O,-1,1),this.indexArray.emplaceBack(z,z+1,z+2),this.indexArray.emplaceBack(z,z+3,z+2),k.vertexLength+=4,k.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,{},_)}}function vte(u,l){for(let f=0;f<u.length;f++)if(P0(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(P0(u,l[f]))return!0;return!!Pj(u,l)}function SXe(u,l,f){return!!P0(u,l)||!!Lj(l,u,f)}function yte(u,l){if(u.length===1)return xte(l,u[0]);for(let f=0;f<l.length;f++){let h=l[f];for(let _=0;_<h.length;_++)if(P0(u,h[_]))return!0}for(let f=0;f<u.length;f++)if(xte(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(Pj(u,l[f]))return!0;return!1}function EXe(u,l,f){if(u.length>1){if(Pj(u,l))return!0;for(let h=0;h<l.length;h++)if(Lj(l[h],u,f))return!0}for(let h=0;h<u.length;h++)if(Lj(u[h],l,f))return!0;return!1}function Pj(u,l){if(u.length===0||l.length===0)return!1;for(let f=0;f<u.length-1;f++){let h=u[f],_=u[f+1];for(let w=0;w<l.length-1;w++)if(IXe(h,_,l[w],l[w+1]))return!0}return!1}function IXe(u,l,f,h){return Re(u,f,h)!==Re(l,f,h)&&Re(u,l,f)!==Re(u,l,h)}function Lj(u,l,f){let h=f*f;if(l.length===1)return u.distSqr(l[0])<h;for(let _=1;_<l.length;_++)if(_te(u,l[_-1],l[_])<h)return!0;return!1}function _te(u,l,f){let h=l.distSqr(f);if(h===0)return u.distSqr(l);let _=((u.x-l.x)*(f.x-l.x)+(u.y-l.y)*(f.y-l.y))/h;return u.distSqr(_<0?l:_>1?f:f.sub(l)._mult(_)._add(l))}function xte(u,l){let f,h,_,w=!1;for(let E=0;E<u.length;E++){f=u[E];for(let C=0,O=f.length-1;C<f.length;O=C++)h=f[C],_=f[O],h.y>l.y!=_.y>l.y&&l.x<(_.x-h.x)*(l.y-h.y)/(_.y-h.y)+h.x&&(w=!w)}return w}function P0(u,l){let f=!1;for(let h=0,_=u.length-1;h<u.length;_=h++){let w=u[h],E=u[_];w.y>l.y!=E.y>l.y&&l.x<(E.x-w.x)*(l.y-w.y)/(E.y-w.y)+w.x&&(f=!f)}return f}function TXe(u,l,f){let h=f[0],_=f[2];if(u.x<h.x&&l.x<h.x||u.x>_.x&&l.x>_.x||u.y<h.y&&l.y<h.y||u.y>_.y&&l.y>_.y)return!1;let w=Re(u,l,f[0]);return w!==Re(u,l,f[1])||w!==Re(u,l,f[2])||w!==Re(u,l,f[3])}function vw(u,l,f){let h=l.paint.get(u).value;return h.kind==="constant"?h.value:f.programConfigurations.get(l.id).getMaxValue(u)}function vM(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function yM(u,l,f,h,_){if(!l[0]&&!l[1])return u;let w=m.convert(l)._mult(_);f==="viewport"&&w._rotate(-h);let E=[];for(let C=0;C<u.length;C++)E.push(u[C].sub(w));return E}let bte,wte;Wt("CircleBucket",Dj,{omit:["layers"]});var CXe={get paint(){return wte=wte||new b({"circle-radius":new mr(Te.paint_circle["circle-radius"]),"circle-color":new mr(Te.paint_circle["circle-color"]),"circle-blur":new mr(Te.paint_circle["circle-blur"]),"circle-opacity":new mr(Te.paint_circle["circle-opacity"]),"circle-translate":new Xt(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new Xt(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Xt(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Xt(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new mr(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new mr(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new mr(Te.paint_circle["circle-stroke-opacity"])})},get layout(){return bte=bte||new b({"circle-sort-key":new mr(Te.layout_circle["circle-sort-key"])})}},Va=1e-6,L0=typeof Float32Array!="undefined"?Float32Array:Array;function Nj(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Ste(u,l,f){var h=l[0],_=l[1],w=l[2],E=l[3],C=l[4],O=l[5],k=l[6],z=l[7],U=l[8],Z=l[9],Y=l[10],te=l[11],ie=l[12],fe=l[13],me=l[14],Ue=l[15],we=f[0],ze=f[1],Ye=f[2],ct=f[3];return u[0]=we*h+ze*C+Ye*U+ct*ie,u[1]=we*_+ze*O+Ye*Z+ct*fe,u[2]=we*w+ze*k+Ye*Y+ct*me,u[3]=we*E+ze*z+Ye*te+ct*Ue,u[4]=(we=f[4])*h+(ze=f[5])*C+(Ye=f[6])*U+(ct=f[7])*ie,u[5]=we*_+ze*O+Ye*Z+ct*fe,u[6]=we*w+ze*k+Ye*Y+ct*me,u[7]=we*E+ze*z+Ye*te+ct*Ue,u[8]=(we=f[8])*h+(ze=f[9])*C+(Ye=f[10])*U+(ct=f[11])*ie,u[9]=we*_+ze*O+Ye*Z+ct*fe,u[10]=we*w+ze*k+Ye*Y+ct*me,u[11]=we*E+ze*z+Ye*te+ct*Ue,u[12]=(we=f[12])*h+(ze=f[13])*C+(Ye=f[14])*U+(ct=f[15])*ie,u[13]=we*_+ze*O+Ye*Z+ct*fe,u[14]=we*w+ze*k+Ye*Y+ct*me,u[15]=we*E+ze*z+Ye*te+ct*Ue,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var yw,MXe=Ste;function _M(u,l,f){var h=l[0],_=l[1],w=l[2],E=l[3];return u[0]=f[0]*h+f[4]*_+f[8]*w+f[12]*E,u[1]=f[1]*h+f[5]*_+f[9]*w+f[13]*E,u[2]=f[2]*h+f[6]*_+f[10]*w+f[14]*E,u[3]=f[3]*h+f[7]*_+f[11]*w+f[15]*E,u}yw=new L0(4),L0!=Float32Array&&(yw[0]=0,yw[1]=0,yw[2]=0,yw[3]=0);class AXe extends d{constructor(l){super(l,CXe)}createBucket(l){return new Dj(l)}queryRadius(l){let f=l;return vw("circle-radius",this,f)+vw("circle-stroke-width",this,f)+vM(this.paint.get("circle-translate"))}queryIntersectsFeature(l,f,h,_,w,E,C,O){let k=yM(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),E.angle,C),z=this.paint.get("circle-radius").evaluate(f,h)+this.paint.get("circle-stroke-width").evaluate(f,h),U=this.paint.get("circle-pitch-alignment")==="map",Z=U?k:function(te,ie){return te.map(fe=>Ete(fe,ie))}(k,O),Y=U?z*C:z;for(let te of _)for(let ie of te){let fe=U?ie:Ete(ie,O),me=Y,Ue=_M([],[ie.x,ie.y,0,1],O);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?me*=Ue[3]/E.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(me*=E.cameraToCenterDistance/Ue[3]),SXe(Z,fe,me))return!0}return!1}}function Ete(u,l){let f=_M([],[u.x,u.y,0,1],l);return new m(f[0]/f[3],f[1]/f[3])}class Ite extends Dj{}let Tte;Wt("HeatmapBucket",Ite,{omit:["layers"]});var OXe={get paint(){return Tte=Tte||new b({"heatmap-radius":new mr(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new mr(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Xt(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new hw(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Xt(Te.paint_heatmap["heatmap-opacity"])})}};function Rj(u,{width:l,height:f},h,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*f*h)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*f*h}`)}else _=new Uint8Array(l*f*h);return u.width=l,u.height=f,u.data=_,u}function Cte(u,{width:l,height:f},h){if(l===u.width&&f===u.height)return;let _=Rj({},{width:l,height:f},h);kj(u,_,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,f)},h),u.width=l,u.height=f,u.data=_.data}function kj(u,l,f,h,_,w){if(_.width===0||_.height===0)return l;if(_.width>u.width||_.height>u.height||f.x>u.width-_.width||f.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||h.x>l.width-_.width||h.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");let E=u.data,C=l.data;if(E===C)throw new Error("srcData equals dstData, so image is already copied");for(let O=0;O<_.height;O++){let k=((f.y+O)*u.width+f.x)*w,z=((h.y+O)*l.width+h.x)*w;for(let U=0;U<_.width*w;U++)C[z+U]=E[k+U]}return l}class _w{constructor(l,f){Rj(this,l,1,f)}resize(l){Cte(this,l,1)}clone(){return new _w({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,h,_,w){kj(l,f,h,_,w,1)}}class Gl{constructor(l,f){Rj(this,l,4,f)}resize(l){Cte(this,l,4)}replace(l,f){f?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Gl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,h,_,w){kj(l,f,h,_,w,4)}}function Mte(u){let l={},f=u.resolution||256,h=u.clips?u.clips.length:1,_=u.image||new Gl({width:f,height:h});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);let w=(E,C,O)=>{l[u.evaluationKey]=O;let k=u.expression.evaluate(l);_.data[E+C+0]=Math.floor(255*k.r/k.a),_.data[E+C+1]=Math.floor(255*k.g/k.a),_.data[E+C+2]=Math.floor(255*k.b/k.a),_.data[E+C+3]=Math.floor(255*k.a)};if(u.clips)for(let E=0,C=0;E<h;++E,C+=4*f)for(let O=0,k=0;O<f;O++,k+=4){let z=O/(f-1),{start:U,end:Z}=u.clips[E];w(C,k,U*(1-z)+Z*z)}else for(let E=0,C=0;E<f;E++,C+=4)w(0,C,E/(f-1));return _}Wt("AlphaImage",_w),Wt("RGBAImage",Gl);let qj="big-fb";class DXe extends d{createBucket(l){return new Ite(l)}constructor(l){super(l,OXe),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Mte({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(qj)&&this.heatmapFbos.delete(qj)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Ate;var PXe={get paint(){return Ate=Ate||new b({"hillshade-illumination-direction":new Xt(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Xt(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Xt(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Xt(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Xt(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Xt(Te.paint_hillshade["hillshade-accent-color"])})}};class LXe extends d{constructor(l){super(l,PXe)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let NXe=A([{name:"a_pos",components:2,type:"Int16"}],4),{members:RXe}=NXe;function Ote(u,l,f=2){let h=l&&l.length,_=h?l[0]*f:u.length,w=Dte(u,0,_,f,!0),E=[];if(!w||w.next===w.prev)return E;let C,O,k;if(h&&(w=function(z,U,Z,Y){let te=[];for(let ie=0,fe=U.length;ie<fe;ie++){let me=Dte(z,U[ie]*Y,ie<fe-1?U[ie+1]*Y:z.length,Y,!1);me===me.next&&(me.steiner=!0),te.push(VXe(me))}te.sort(FXe);for(let ie=0;ie<te.length;ie++)Z=BXe(te[ie],Z);return Z}(u,l,w,f)),u.length>80*f){C=1/0,O=1/0;let z=-1/0,U=-1/0;for(let Z=f;Z<_;Z+=f){let Y=u[Z],te=u[Z+1];Y<C&&(C=Y),te<O&&(O=te),Y>z&&(z=Y),te>U&&(U=te)}k=Math.max(z-C,U-O),k=k!==0?32767/k:0}return xw(w,E,f,C,O,k,0),E}function Dte(u,l,f,h,_){let w;if(_===function(E,C,O,k){let z=0;for(let U=C,Z=O-k;U<O;U+=k)z+=(E[Z]-E[U])*(E[U+1]+E[Z+1]),Z=U;return z}(u,l,f,h)>0)for(let E=l;E<f;E+=h)w=Nte(E/h|0,u[E],u[E+1],w);else for(let E=f-h;E>=l;E-=h)w=Nte(E/h|0,u[E],u[E+1],w);return w&&xM(w,w.next)&&(ww(w),w=w.next),w}function Vg(u,l){if(!u)return u;l||(l=u);let f,h=u;do if(f=!1,h.steiner||!xM(h,h.next)&&Zi(h.prev,h,h.next)!==0)h=h.next;else{if(ww(h),h=l=h.prev,h===h.next)break;f=!0}while(f||h!==l);return l}function xw(u,l,f,h,_,w,E){if(!u)return;!E&&w&&function(O,k,z,U){let Z=O;do Z.z===0&&(Z.z=jj(Z.x,Z.y,k,z,U)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==O);Z.prevZ.nextZ=null,Z.prevZ=null,function(Y){let te,ie=1;do{let fe,me=Y;Y=null;let Ue=null;for(te=0;me;){te++;let we=me,ze=0;for(let ct=0;ct<ie&&(ze++,we=we.nextZ,we);ct++);let Ye=ie;for(;ze>0||Ye>0&&we;)ze!==0&&(Ye===0||!we||me.z<=we.z)?(fe=me,me=me.nextZ,ze--):(fe=we,we=we.nextZ,Ye--),Ue?Ue.nextZ=fe:Y=fe,fe.prevZ=Ue,Ue=fe;me=we}Ue.nextZ=null,ie*=2}while(te>1)}(Z)}(u,h,_,w);let C=u;for(;u.prev!==u.next;){let O=u.prev,k=u.next;if(w?qXe(u,h,_,w):kXe(u))l.push(O.i,u.i,k.i),ww(u),u=k.next,C=k.next;else if((u=k)===C){E?E===1?xw(u=jXe(Vg(u),l),l,f,h,_,w,2):E===2&&zXe(u,l,f,h,_,w):xw(Vg(u),l,f,h,_,w,1);break}}}function kXe(u){let l=u.prev,f=u,h=u.next;if(Zi(l,f,h)>=0)return!1;let _=l.x,w=f.x,E=h.x,C=l.y,O=f.y,k=h.y,z=_<w?_<E?_:E:w<E?w:E,U=C<O?C<k?C:k:O<k?O:k,Z=_>w?_>E?_:E:w>E?w:E,Y=C>O?C>k?C:k:O>k?O:k,te=h.next;for(;te!==l;){if(te.x>=z&&te.x<=Z&&te.y>=U&&te.y<=Y&&N0(_,C,w,O,E,k,te.x,te.y)&&Zi(te.prev,te,te.next)>=0)return!1;te=te.next}return!0}function qXe(u,l,f,h){let _=u.prev,w=u,E=u.next;if(Zi(_,w,E)>=0)return!1;let C=_.x,O=w.x,k=E.x,z=_.y,U=w.y,Z=E.y,Y=C<O?C<k?C:k:O<k?O:k,te=z<U?z<Z?z:Z:U<Z?U:Z,ie=C>O?C>k?C:k:O>k?O:k,fe=z>U?z>Z?z:Z:U>Z?U:Z,me=jj(Y,te,l,f,h),Ue=jj(ie,fe,l,f,h),we=u.prevZ,ze=u.nextZ;for(;we&&we.z>=me&&ze&&ze.z<=Ue;){if(we.x>=Y&&we.x<=ie&&we.y>=te&&we.y<=fe&&we!==_&&we!==E&&N0(C,z,O,U,k,Z,we.x,we.y)&&Zi(we.prev,we,we.next)>=0||(we=we.prevZ,ze.x>=Y&&ze.x<=ie&&ze.y>=te&&ze.y<=fe&&ze!==_&&ze!==E&&N0(C,z,O,U,k,Z,ze.x,ze.y)&&Zi(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;we&&we.z>=me;){if(we.x>=Y&&we.x<=ie&&we.y>=te&&we.y<=fe&&we!==_&&we!==E&&N0(C,z,O,U,k,Z,we.x,we.y)&&Zi(we.prev,we,we.next)>=0)return!1;we=we.prevZ}for(;ze&&ze.z<=Ue;){if(ze.x>=Y&&ze.x<=ie&&ze.y>=te&&ze.y<=fe&&ze!==_&&ze!==E&&N0(C,z,O,U,k,Z,ze.x,ze.y)&&Zi(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function jXe(u,l){let f=u;do{let h=f.prev,_=f.next.next;!xM(h,_)&&Pte(h,f,f.next,_)&&bw(h,_)&&bw(_,h)&&(l.push(h.i,f.i,_.i),ww(f),ww(f.next),f=u=_),f=f.next}while(f!==u);return Vg(f)}function zXe(u,l,f,h,_,w){let E=u;do{let C=E.next.next;for(;C!==E.prev;){if(E.i!==C.i&&GXe(E,C)){let O=Lte(E,C);return E=Vg(E,E.next),O=Vg(O,O.next),xw(E,l,f,h,_,w,0),void xw(O,l,f,h,_,w,0)}C=C.next}E=E.next}while(E!==u)}function FXe(u,l){return u.x-l.x}function BXe(u,l){let f=function(_,w){let E=w,C=_.x,O=_.y,k,z=-1/0;do{if(O<=E.y&&O>=E.next.y&&E.next.y!==E.y){let ie=E.x+(O-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(ie<=C&&ie>z&&(z=ie,k=E.x<E.next.x?E:E.next,ie===C))return k}E=E.next}while(E!==w);if(!k)return null;let U=k,Z=k.x,Y=k.y,te=1/0;E=k;do{if(C>=E.x&&E.x>=Z&&C!==E.x&&N0(O<Y?C:z,O,Z,Y,O<Y?z:C,O,E.x,E.y)){let ie=Math.abs(O-E.y)/(C-E.x);bw(E,_)&&(ie<te||ie===te&&(E.x>k.x||E.x===k.x&&UXe(k,E)))&&(k=E,te=ie)}E=E.next}while(E!==U);return k}(u,l);if(!f)return l;let h=Lte(f,u);return Vg(h,h.next),Vg(f,f.next)}function UXe(u,l){return Zi(u.prev,u,l.prev)<0&&Zi(l.next,u,u.next)<0}function jj(u,l,f,h,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-f)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-h)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function VXe(u){let l=u,f=u;do(l.x<f.x||l.x===f.x&&l.y<f.y)&&(f=l),l=l.next;while(l!==u);return f}function N0(u,l,f,h,_,w,E,C){return(_-E)*(l-C)>=(u-E)*(w-C)&&(u-E)*(h-C)>=(f-E)*(l-C)&&(f-E)*(w-C)>=(_-E)*(h-C)}function GXe(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(f,h){let _=f;do{if(_.i!==f.i&&_.next.i!==f.i&&_.i!==h.i&&_.next.i!==h.i&&Pte(_,_.next,f,h))return!0;_=_.next}while(_!==f);return!1}(u,l)&&(bw(u,l)&&bw(l,u)&&function(f,h){let _=f,w=!1,E=(f.x+h.x)/2,C=(f.y+h.y)/2;do _.y>C!=_.next.y>C&&_.next.y!==_.y&&E<(_.next.x-_.x)*(C-_.y)/(_.next.y-_.y)+_.x&&(w=!w),_=_.next;while(_!==f);return w}(u,l)&&(Zi(u.prev,u,l.prev)||Zi(u,l.prev,l))||xM(u,l)&&Zi(u.prev,u,u.next)>0&&Zi(l.prev,l,l.next)>0)}function Zi(u,l,f){return(l.y-u.y)*(f.x-l.x)-(l.x-u.x)*(f.y-l.y)}function xM(u,l){return u.x===l.x&&u.y===l.y}function Pte(u,l,f,h){let _=wM(Zi(u,l,f)),w=wM(Zi(u,l,h)),E=wM(Zi(f,h,u)),C=wM(Zi(f,h,l));return _!==w&&E!==C||!(_!==0||!bM(u,f,l))||!(w!==0||!bM(u,h,l))||!(E!==0||!bM(f,u,h))||!(C!==0||!bM(f,l,h))}function bM(u,l,f){return l.x<=Math.max(u.x,f.x)&&l.x>=Math.min(u.x,f.x)&&l.y<=Math.max(u.y,f.y)&&l.y>=Math.min(u.y,f.y)}function wM(u){return u>0?1:u<0?-1:0}function bw(u,l){return Zi(u.prev,u,u.next)<0?Zi(u,l,u.next)>=0&&Zi(u,u.prev,l)>=0:Zi(u,l,u.prev)<0||Zi(u,u.next,l)<0}function Lte(u,l){let f=zj(u.i,u.x,u.y),h=zj(l.i,l.x,l.y),_=u.next,w=l.prev;return u.next=l,l.prev=u,f.next=_,_.prev=f,h.next=f,f.prev=h,w.next=h,h.prev=w,h}function Nte(u,l,f,h){let _=zj(u,l,f);return h?(_.next=h.next,_.prev=h,h.next.prev=_,h.next=_):(_.prev=_,_.next=_),_}function ww(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function zj(u,l,f){return{i:u,x:l,y:f,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Fj(u,l,f){let h=f.patternDependencies,_=!1;for(let w of l){let E=w.paint.get(`${u}-pattern`);E.isConstant()||(_=!0);let C=E.constantOr(null);C&&(_=!0,h[C.to]=!0,h[C.from]=!0)}return _}function Bj(u,l,f,h,_){let w=_.patternDependencies;for(let E of l){let C=E.paint.get(`${u}-pattern`).value;if(C.kind!=="constant"){let O=C.evaluate({zoom:h-1},f,{},_.availableImages),k=C.evaluate({zoom:h},f,{},_.availableImages),z=C.evaluate({zoom:h+1},f,{},_.availableImages);O=O&&O.name?O.name:O,k=k&&k.name?k.name:k,z=z&&z.name?z.name:z,w[O]=!0,w[k]=!0,w[z]=!0,f.patterns[E.id]={min:O,mid:k,max:z}}}return f}class Uj{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new xu,this.indexArray=new Vl,this.indexArray2=new No,this.programConfigurations=new Fg(l.layers,l.zoom),this.segments=new un,this.segments2=new un,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.hasPattern=Fj("fill",this.layers,f);let _=this.layers[0].layout.get("fill-sort-key"),w=!_.isConstant(),E=[];for(let{feature:C,id:O,index:k,sourceLayerIndex:z}of l){let U=this.layers[0]._featureFilter.needGeometry,Z=Ug(C,U);if(!this.layers[0]._featureFilter.filter(new di(this.zoom),Z,h))continue;let Y=w?_.evaluate(Z,{},h,f.availableImages):void 0,te={id:O,properties:C.properties,type:C.type,sourceLayerIndex:z,index:k,geometry:U?Z.geometry:Bg(C),patterns:{},sortKey:Y};E.push(te)}w&&E.sort((C,O)=>C.sortKey-O.sortKey);for(let C of E){let{geometry:O,index:k,sourceLayerIndex:z}=C;if(this.hasPattern){let U=Bj("fill",this.layers,C,this.zoom,f);this.patternFeatures.push(U)}else this.addFeature(C,O,k,h,{});f.featureIndex.insert(l[k].feature,O,k,z,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}addFeatures(l,f,h){for(let _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,RXe),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,f,h,_,w){for(let E of i0(f,500)){let C=0;for(let Y of E)C+=Y.length;let O=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),k=O.vertexLength,z=[],U=[];for(let Y of E){if(Y.length===0)continue;Y!==E[0]&&U.push(z.length/2);let te=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),ie=te.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(ie+Y.length-1,ie),z.push(Y[0].x),z.push(Y[0].y);for(let fe=1;fe<Y.length;fe++)this.layoutVertexArray.emplaceBack(Y[fe].x,Y[fe].y),this.indexArray2.emplaceBack(ie+fe-1,ie+fe),z.push(Y[fe].x),z.push(Y[fe].y);te.vertexLength+=Y.length,te.primitiveLength+=Y.length}let Z=Ote(z,U);for(let Y=0;Y<Z.length;Y+=3)this.indexArray.emplaceBack(k+Z[Y],k+Z[Y+1],k+Z[Y+2]);O.vertexLength+=C,O.primitiveLength+=Z.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}}let Rte,kte;Wt("FillBucket",Uj,{omit:["layers","patternFeatures"]});var HXe={get paint(){return kte=kte||new b({"fill-antialias":new Xt(Te.paint_fill["fill-antialias"]),"fill-opacity":new mr(Te.paint_fill["fill-opacity"]),"fill-color":new mr(Te.paint_fill["fill-color"]),"fill-outline-color":new mr(Te.paint_fill["fill-outline-color"]),"fill-translate":new Xt(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new Xt(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new E0(Te.paint_fill["fill-pattern"])})},get layout(){return Rte=Rte||new b({"fill-sort-key":new mr(Te.layout_fill["fill-sort-key"])})}};class WXe extends d{constructor(l){super(l,HXe)}recalculate(l,f){super.recalculate(l,f);let h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new Uj(l)}queryRadius(){return vM(this.paint.get("fill-translate"))}queryIntersectsFeature(l,f,h,_,w,E,C){return yte(yM(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),E.angle,C),_)}isTileClipped(){return!0}}let $Xe=A([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ZXe=A([{name:"a_centroid",components:2,type:"Int16"}],4),{members:YXe}=$Xe;var Sh={},KXe=c,qte=R0;function R0(u,l,f,h,_){this.properties={},this.extent=f,this.type=0,this._pbf=u,this._geometry=-1,this._keys=h,this._values=_,u.readFields(XXe,this,l)}function XXe(u,l,f){u==1?l.id=f.readVarint():u==2?function(h,_){for(var w=h.readVarint()+h.pos;h.pos<w;){var E=_._keys[h.readVarint()],C=_._values[h.readVarint()];_.properties[E]=C}}(f,l):u==3?l.type=f.readVarint():u==4&&(l._geometry=f.pos)}function QXe(u){for(var l,f,h=0,_=0,w=u.length,E=w-1;_<w;E=_++)h+=((f=u[E]).x-(l=u[_]).x)*(l.y+f.y);return h}R0.types=["Unknown","Point","LineString","Polygon"],R0.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,f=u.readVarint()+u.pos,h=1,_=0,w=0,E=0,C=[];u.pos<f;){if(_<=0){var O=u.readVarint();h=7&O,_=O>>3}if(_--,h===1||h===2)w+=u.readSVarint(),E+=u.readSVarint(),h===1&&(l&&C.push(l),l=[]),l.push(new KXe(w,E));else{if(h!==7)throw new Error("unknown command "+h);l&&l.push(l[0].clone())}}return l&&C.push(l),C},R0.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,f=1,h=0,_=0,w=0,E=1/0,C=-1/0,O=1/0,k=-1/0;u.pos<l;){if(h<=0){var z=u.readVarint();f=7&z,h=z>>3}if(h--,f===1||f===2)(_+=u.readSVarint())<E&&(E=_),_>C&&(C=_),(w+=u.readSVarint())<O&&(O=w),w>k&&(k=w);else if(f!==7)throw new Error("unknown command "+f)}return[E,O,C,k]},R0.prototype.toGeoJSON=function(u,l,f){var h,_,w=this.extent*Math.pow(2,f),E=this.extent*u,C=this.extent*l,O=this.loadGeometry(),k=R0.types[this.type];function z(Y){for(var te=0;te<Y.length;te++){var ie=Y[te];Y[te]=[360*(ie.x+E)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(ie.y+C)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var U=[];for(h=0;h<O.length;h++)U[h]=O[h][0];z(O=U);break;case 2:for(h=0;h<O.length;h++)z(O[h]);break;case 3:for(O=function(Y){var te=Y.length;if(te<=1)return[Y];for(var ie,fe,me=[],Ue=0;Ue<te;Ue++){var we=QXe(Y[Ue]);we!==0&&(fe===void 0&&(fe=we<0),fe===we<0?(ie&&me.push(ie),ie=[Y[Ue]]):ie.push(Y[Ue]))}return ie&&me.push(ie),me}(O),h=0;h<O.length;h++)for(_=0;_<O[h].length;_++)z(O[h][_]);}O.length===1?O=O[0]:k="Multi"+k;var Z={type:"Feature",geometry:{type:k,coordinates:O},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var JXe=qte,jte=zte;function zte(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(eQe,this,l),this.length=this._features.length}function eQe(u,l,f){u===15?l.version=f.readVarint():u===1?l.name=f.readString():u===5?l.extent=f.readVarint():u===2?l._features.push(f.pos):u===3?l._keys.push(f.readString()):u===4&&l._values.push(function(h){for(var _=null,w=h.readVarint()+h.pos;h.pos<w;){var E=h.readVarint()>>3;_=E===1?h.readString():E===2?h.readFloat():E===3?h.readDouble():E===4?h.readVarint64():E===5?h.readVarint():E===6?h.readSVarint():E===7?h.readBoolean():null}return _}(f))}zte.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new JXe(this._pbf,l,this.extent,this._keys,this._values)};var tQe=jte;function rQe(u,l,f){if(u===3){var h=new tQe(f,f.readVarint()+f.pos);h.length&&(l[h.name]=h)}}Sh.VectorTile=function(u,l){this.layers=u.readFields(rQe,{},l)},Sh.VectorTileFeature=qte,Sh.VectorTileLayer=jte;let nQe=Sh.VectorTileFeature.types,Vj=Math.pow(2,13);function Sw(u,l,f,h,_,w,E,C){u.emplaceBack(l,f,2*Math.floor(h*Vj)+E,_*Vj*2,w*Vj*2,Math.round(C))}class Gj{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new vh,this.centroidVertexArray=new Zo,this.indexArray=new Vl,this.programConfigurations=new Fg(l.layers,l.zoom),this.segments=new un,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.features=[],this.hasPattern=Fj("fill-extrusion",this.layers,f);for(let{feature:_,id:w,index:E,sourceLayerIndex:C}of l){let O=this.layers[0]._featureFilter.needGeometry,k=Ug(_,O);if(!this.layers[0]._featureFilter.filter(new di(this.zoom),k,h))continue;let z={id:w,sourceLayerIndex:C,index:E,geometry:O?k.geometry:Bg(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(Bj("fill-extrusion",this.layers,z,this.zoom,f)):this.addFeature(z,z.geometry,E,h,{}),f.featureIndex.insert(_,z.geometry,E,C,this.index,!0)}}addFeatures(l,f,h){for(let _ of this.features){let{geometry:w}=_;this.addFeature(_,w,_.index,f,h)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,YXe),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,ZXe.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,f,h,_,w){for(let E of i0(f,500)){let C={x:0,y:0,vertexCount:0},O=0;for(let te of E)O+=te.length;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let te of E){if(te.length===0||oQe(te))continue;let ie=0;for(let fe=0;fe<te.length;fe++){let me=te[fe];if(fe>=1){let Ue=te[fe-1];if(!iQe(me,Ue)){k.vertexLength+4>un.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let we=me.sub(Ue)._perp()._unit(),ze=Ue.dist(me);ie+ze>32768&&(ie=0),Sw(this.layoutVertexArray,me.x,me.y,we.x,we.y,0,0,ie),Sw(this.layoutVertexArray,me.x,me.y,we.x,we.y,0,1,ie),C.x+=2*me.x,C.y+=2*me.y,C.vertexCount+=2,ie+=ze,Sw(this.layoutVertexArray,Ue.x,Ue.y,we.x,we.y,0,0,ie),Sw(this.layoutVertexArray,Ue.x,Ue.y,we.x,we.y,0,1,ie),C.x+=2*Ue.x,C.y+=2*Ue.y,C.vertexCount+=2;let Ye=k.vertexLength;this.indexArray.emplaceBack(Ye,Ye+2,Ye+1),this.indexArray.emplaceBack(Ye+1,Ye+2,Ye+3),k.vertexLength+=4,k.primitiveLength+=2}}}}if(k.vertexLength+O>un.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray)),nQe[l.type]!=="Polygon")continue;let z=[],U=[],Z=k.vertexLength;for(let te of E)if(te.length!==0){te!==E[0]&&U.push(z.length/2);for(let ie=0;ie<te.length;ie++){let fe=te[ie];Sw(this.layoutVertexArray,fe.x,fe.y,0,0,1,1,0),C.x+=fe.x,C.y+=fe.y,C.vertexCount+=1,z.push(fe.x),z.push(fe.y)}}let Y=Ote(z,U);for(let te=0;te<Y.length;te+=3)this.indexArray.emplaceBack(Z+Y[te],Z+Y[te+2],Z+Y[te+1]);k.primitiveLength+=Y.length/3,k.vertexLength+=O;for(let te=0;te<C.vertexCount;te++){let ie=Math.floor(C.x/C.vertexCount),fe=Math.floor(C.y/C.vertexCount);this.centroidVertexArray.emplaceBack(ie,fe)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}}function iQe(u,l){return u.x===l.x&&(u.x<0||u.x>ro)||u.y===l.y&&(u.y<0||u.y>ro)}function oQe(u){return u.every(l=>l.x<0)||u.every(l=>l.x>ro)||u.every(l=>l.y<0)||u.every(l=>l.y>ro)}let Fte;Wt("FillExtrusionBucket",Gj,{omit:["layers","features"]});var aQe={get paint(){return Fte=Fte||new b({"fill-extrusion-opacity":new Xt(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new mr(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Xt(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Xt(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new E0(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new mr(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new mr(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Xt(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sQe extends d{constructor(l){super(l,aQe)}createBucket(l){return new Gj(l)}queryRadius(){return vM(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,f,h,_,w,E,C,O){let k=yM(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),E.angle,C),z=this.paint.get("fill-extrusion-height").evaluate(f,h),U=this.paint.get("fill-extrusion-base").evaluate(f,h),Z=function(te,ie,fe,me){let Ue=[];for(let we of te){let ze=[we.x,we.y,0,1];_M(ze,ze,ie),Ue.push(new m(ze[0]/ze[3],ze[1]/ze[3]))}return Ue}(k,O),Y=function(te,ie,fe,me){let Ue=[],we=[],ze=me[8]*ie,Ye=me[9]*ie,ct=me[10]*ie,jt=me[11]*ie,dr=me[8]*fe,kt=me[9]*fe,Ot=me[10]*fe,tr=me[11]*fe;for(let Yt of te){let Ht=[],rt=[];for(let nr of Yt){let Jt=nr.x,Sr=nr.y,Qn=me[0]*Jt+me[4]*Sr+me[12],$n=me[1]*Jt+me[5]*Sr+me[13],Io=me[2]*Jt+me[6]*Sr+me[14],bu=me[3]*Jt+me[7]*Sr+me[15],Xo=Io+ct,To=bu+jt,Ga=Qn+dr,Ha=$n+kt,Wa=Io+Ot,Gi=bu+tr,Co=new m((Qn+ze)/To,($n+Ye)/To);Co.z=Xo/To,Ht.push(Co);let ha=new m(Ga/Gi,Ha/Gi);ha.z=Wa/Gi,rt.push(ha)}Ue.push(Ht),we.push(rt)}return[Ue,we]}(_,U,z,O);return function(te,ie,fe){let me=1/0;yte(fe,ie)&&(me=Bte(fe,ie[0]));for(let Ue=0;Ue<ie.length;Ue++){let we=ie[Ue],ze=te[Ue];for(let Ye=0;Ye<we.length-1;Ye++){let ct=we[Ye],jt=[ct,we[Ye+1],ze[Ye+1],ze[Ye],ct];vte(fe,jt)&&(me=Math.min(me,Bte(fe,jt)))}}return me!==1/0&&me}(Y[0],Y[1],Z)}}function Ew(u,l){return u.x*l.x+u.y*l.y}function Bte(u,l){if(u.length===1){let f=0,h=l[f++],_;for(;!_||h.equals(_);)if(_=l[f++],!_)return 1/0;for(;f<l.length;f++){let w=l[f],E=u[0],C=_.sub(h),O=w.sub(h),k=E.sub(h),z=Ew(C,C),U=Ew(C,O),Z=Ew(O,O),Y=Ew(k,C),te=Ew(k,O),ie=z*Z-U*U,fe=(Z*Y-U*te)/ie,me=(z*te-U*Y)/ie,Ue=h.z*(1-fe-me)+_.z*fe+w.z*me;if(isFinite(Ue))return Ue}return 1/0}{let f=1/0;for(let h of l)f=Math.min(f,h.z);return f}}let lQe=A([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:uQe}=lQe,cQe=A([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:fQe}=cQe,pQe=Sh.VectorTileFeature.types,dQe=Math.cos(Math.PI/180*37.5),Ute=Math.pow(2,14)/.5;class Hj{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new T0,this.layoutVertexArray2=new yh,this.indexArray=new Vl,this.programConfigurations=new Fg(l.layers,l.zoom),this.segments=new un,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,h){this.hasPattern=Fj("line",this.layers,f);let _=this.layers[0].layout.get("line-sort-key"),w=!_.isConstant(),E=[];for(let{feature:C,id:O,index:k,sourceLayerIndex:z}of l){let U=this.layers[0]._featureFilter.needGeometry,Z=Ug(C,U);if(!this.layers[0]._featureFilter.filter(new di(this.zoom),Z,h))continue;let Y=w?_.evaluate(Z,{},h):void 0,te={id:O,properties:C.properties,type:C.type,sourceLayerIndex:z,index:k,geometry:U?Z.geometry:Bg(C),patterns:{},sortKey:Y};E.push(te)}w&&E.sort((C,O)=>C.sortKey-O.sortKey);for(let C of E){let{geometry:O,index:k,sourceLayerIndex:z}=C;if(this.hasPattern){let U=Bj("line",this.layers,C,this.zoom,f);this.patternFeatures.push(U)}else this.addFeature(C,O,k,h,{});f.featureIndex.insert(l[k].feature,O,k,z,this.index)}}update(l,f,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,h)}addFeatures(l,f,h){for(let _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,fQe)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,uQe),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,f,h,_,w){let E=this.layers[0].layout,C=E.get("line-join").evaluate(l,{}),O=E.get("line-cap"),k=E.get("line-miter-limit"),z=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(let U of f)this.addLine(U,l,C,O,k,z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,h,w,_)}addLine(l,f,h,_,w,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let me=0;me<l.length-1;me++)this.totalDistance+=l[me].dist(l[me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let C=pQe[f.type]==="Polygon",O=l.length;for(;O>=2&&l[O-1].equals(l[O-2]);)O--;let k=0;for(;k<O-1&&l[k].equals(l[k+1]);)k++;if(O<(C?3:2))return;h==="bevel"&&(w=1.05);let z=this.overscaling<=16?15*ro/(512*this.overscaling):0,U=this.segments.prepareSegment(10*O,this.layoutVertexArray,this.indexArray),Z,Y,te,ie,fe;this.e1=this.e2=-1,C&&(Z=l[O-2],fe=l[k].sub(Z)._unit()._perp());for(let me=k;me<O;me++){if(te=me===O-1?C?l[k+1]:void 0:l[me+1],te&&l[me].equals(te))continue;fe&&(ie=fe),Z&&(Y=Z),Z=l[me],fe=te?te.sub(Z)._unit()._perp():ie,ie=ie||fe;let Ue=ie.add(fe);Ue.x===0&&Ue.y===0||Ue._unit();let we=ie.x*fe.x+ie.y*fe.y,ze=Ue.x*fe.x+Ue.y*fe.y,Ye=ze!==0?1/ze:1/0,ct=2*Math.sqrt(2-2*ze),jt=ze<dQe&&Y&&te,dr=ie.x*fe.y-ie.y*fe.x>0;if(jt&&me>k){let tr=Z.dist(Y);if(tr>2*z){let Yt=Z.sub(Z.sub(Y)._mult(z/tr)._round());this.updateDistance(Y,Yt),this.addCurrentVertex(Yt,ie,0,0,U),Y=Yt}}let kt=Y&&te,Ot=kt?h:C?"butt":_;if(kt&&Ot==="round"&&(Ye<E?Ot="miter":Ye<=2&&(Ot="fakeround")),Ot==="miter"&&Ye>w&&(Ot="bevel"),Ot==="bevel"&&(Ye>2&&(Ot="flipbevel"),Ye<w&&(Ot="miter")),Y&&this.updateDistance(Y,Z),Ot==="miter")Ue._mult(Ye),this.addCurrentVertex(Z,Ue,0,0,U);else if(Ot==="flipbevel"){if(Ye>100)Ue=fe.mult(-1);else{let tr=Ye*ie.add(fe).mag()/ie.sub(fe).mag();Ue._perp()._mult(tr*(dr?-1:1))}this.addCurrentVertex(Z,Ue,0,0,U),this.addCurrentVertex(Z,Ue.mult(-1),0,0,U)}else if(Ot==="bevel"||Ot==="fakeround"){let tr=-Math.sqrt(Ye*Ye-1),Yt=dr?tr:0,Ht=dr?0:tr;if(Y&&this.addCurrentVertex(Z,ie,Yt,Ht,U),Ot==="fakeround"){let rt=Math.round(180*ct/Math.PI/20);for(let nr=1;nr<rt;nr++){let Jt=nr/rt;if(Jt!==.5){let Qn=Jt-.5;Jt+=Jt*Qn*(Jt-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*Qn*Qn+(.848013+we*(.215638*we-1.06021)))}let Sr=fe.sub(ie)._mult(Jt)._add(ie)._unit()._mult(dr?-1:1);this.addHalfVertex(Z,Sr.x,Sr.y,!1,dr,0,U)}}te&&this.addCurrentVertex(Z,fe,-Yt,-Ht,U)}else if(Ot==="butt")this.addCurrentVertex(Z,Ue,0,0,U);else if(Ot==="square"){let tr=Y?1:-1;this.addCurrentVertex(Z,Ue,tr,tr,U)}else Ot==="round"&&(Y&&(this.addCurrentVertex(Z,ie,0,0,U),this.addCurrentVertex(Z,ie,1,1,U,!0)),te&&(this.addCurrentVertex(Z,fe,-1,-1,U,!0),this.addCurrentVertex(Z,fe,0,0,U)));if(jt&&me<O-1){let tr=Z.dist(te);if(tr>2*z){let Yt=Z.add(te.sub(Z)._mult(z/tr)._round());this.updateDistance(Z,Yt),this.addCurrentVertex(Yt,fe,0,0,U),Z=Yt}}}}addCurrentVertex(l,f,h,_,w,E=!1){let C=f.y*_-f.x,O=-f.y-f.x*_;this.addHalfVertex(l,f.x+f.y*h,f.y-f.x*h,E,!1,h,w),this.addHalfVertex(l,C,O,E,!0,-_,w),this.distance>Ute/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,f,h,_,w,E))}addHalfVertex({x:l,y:f},h,_,w,E,C,O){let k=.5*(this.lineClips?this.scaledDistance*(Ute-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(w?1:0),(f<<1)+(E?1:0),Math.round(63*h)+128,Math.round(63*_)+128,1+(C===0?0:C<0?-1:1)|(63&k)<<2,k>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let z=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,z),O.primitiveLength++),E?this.e2=z:this.e1=z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,f){this.distance+=l.dist(f),this.updateScaledDistance()}}let Vte,Gte;Wt("LineBucket",Hj,{omit:["layers","patternFeatures"]});var Hte={get paint(){return Gte=Gte||new b({"line-opacity":new mr(Te.paint_line["line-opacity"]),"line-color":new mr(Te.paint_line["line-color"]),"line-translate":new Xt(Te.paint_line["line-translate"]),"line-translate-anchor":new Xt(Te.paint_line["line-translate-anchor"]),"line-width":new mr(Te.paint_line["line-width"]),"line-gap-width":new mr(Te.paint_line["line-gap-width"]),"line-offset":new mr(Te.paint_line["line-offset"]),"line-blur":new mr(Te.paint_line["line-blur"]),"line-dasharray":new I0(Te.paint_line["line-dasharray"]),"line-pattern":new E0(Te.paint_line["line-pattern"]),"line-gradient":new hw(Te.paint_line["line-gradient"])})},get layout(){return Vte=Vte||new b({"line-cap":new Xt(Te.layout_line["line-cap"]),"line-join":new mr(Te.layout_line["line-join"]),"line-miter-limit":new Xt(Te.layout_line["line-miter-limit"]),"line-round-limit":new Xt(Te.layout_line["line-round-limit"]),"line-sort-key":new mr(Te.layout_line["line-sort-key"])})}};class hQe extends mr{possiblyEvaluate(l,f){return f=new di(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(l,f)}evaluate(l,f,h,_){return f=Q({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(l,f,h,_)}}let SM;class mQe extends d{constructor(l){super(l,Hte),this.gradientVersion=0,SM||(SM=new hQe(Hte.paint.properties["line-width"].specification),SM.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){let f=this.gradientExpression();this.stepInterpolant=!!function(h){return h._styleExpression!==void 0}(f)&&f._styleExpression.expression instanceof Qd,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,f){super.recalculate(l,f),this.paint._values["line-floorwidth"]=SM.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new Hj(l)}queryRadius(l){let f=l,h=Wte(vw("line-width",this,f),vw("line-gap-width",this,f)),_=vw("line-offset",this,f);return h/2+Math.abs(_)+vM(this.paint.get("line-translate"))}queryIntersectsFeature(l,f,h,_,w,E,C){let O=yM(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),E.angle,C),k=C/2*Wte(this.paint.get("line-width").evaluate(f,h),this.paint.get("line-gap-width").evaluate(f,h)),z=this.paint.get("line-offset").evaluate(f,h);return z&&(_=function(U,Z){let Y=[];for(let te=0;te<U.length;te++){let ie=U[te],fe=[];for(let me=0;me<ie.length;me++){let Ue=ie[me-1],we=ie[me],ze=ie[me+1],Ye=me===0?new m(0,0):we.sub(Ue)._unit()._perp(),ct=me===ie.length-1?new m(0,0):ze.sub(we)._unit()._perp(),jt=Ye._add(ct)._unit(),dr=jt.x*ct.x+jt.y*ct.y;dr!==0&&jt._mult(1/dr),fe.push(jt._mult(Z)._add(we))}Y.push(fe)}return Y}(_,z*C)),function(U,Z,Y){for(let te=0;te<Z.length;te++){let ie=Z[te];if(U.length>=3){for(let fe=0;fe<ie.length;fe++)if(P0(U,ie[fe]))return!0}if(EXe(U,ie,Y))return!0}return!1}(O,_,k)}isTileClipped(){return!0}}function Wte(u,l){return l>0?l+2*u:u}let gQe=A([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),vQe=A([{name:"a_projected_pos",components:3,type:"Float32"}],4);A([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let yQe=A([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);A([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let $te=A([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_Qe=A([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xQe(u,l,f){return u.sections.forEach(h=>{h.text=function(_,w,E){let C=w.layout.get("text-transform").evaluate(E,{});return C==="uppercase"?_=_.toLocaleUpperCase():C==="lowercase"&&(_=_.toLocaleLowerCase()),Es.applyArabicShaping&&(_=Es.applyArabicShaping(_)),_}(h.text,l,f)}),u}A([{name:"triangle",components:3,type:"Uint16"}]),A([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),A([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),A([{type:"Float32",name:"offsetX"}]),A([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),A([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let Iw={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var uo=24,Zte=Wn,Yte=function(u,l,f,h,_){var w,E,C=8*_-h-1,O=(1<<C)-1,k=O>>1,z=-7,U=f?_-1:0,Z=f?-1:1,Y=u[l+U];for(U+=Z,w=Y&(1<<-z)-1,Y>>=-z,z+=C;z>0;w=256*w+u[l+U],U+=Z,z-=8);for(E=w&(1<<-z)-1,w>>=-z,z+=h;z>0;E=256*E+u[l+U],U+=Z,z-=8);if(w===0)w=1-k;else{if(w===O)return E?NaN:1/0*(Y?-1:1);E+=Math.pow(2,h),w-=k}return(Y?-1:1)*E*Math.pow(2,w-h)},Kte=function(u,l,f,h,_,w){var E,C,O,k=8*w-_-1,z=(1<<k)-1,U=z>>1,Z=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=h?0:w-1,te=h?1:-1,ie=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(C=isNaN(l)?1:0,E=z):(E=Math.floor(Math.log(l)/Math.LN2),l*(O=Math.pow(2,-E))<1&&(E--,O*=2),(l+=E+U>=1?Z/O:Z*Math.pow(2,1-U))*O>=2&&(E++,O/=2),E+U>=z?(C=0,E=z):E+U>=1?(C=(l*O-1)*Math.pow(2,_),E+=U):(C=l*Math.pow(2,U-1)*Math.pow(2,_),E=0));_>=8;u[f+Y]=255&C,Y+=te,C/=256,_-=8);for(E=E<<_|C,k+=_;k>0;u[f+Y]=255&E,Y+=te,E/=256,k-=8);u[f+Y-te]|=128*ie};function Wn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}Wn.Varint=0,Wn.Fixed64=1,Wn.Bytes=2,Wn.Fixed32=5;var Wj=4294967296,Xte=1/Wj,Qte=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function Lp(u){return u.type===Wn.Bytes?u.readVarint()+u.pos:u.pos+1}function k0(u,l,f){return f?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function Jte(u,l,f){var h=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));f.realloc(h);for(var _=f.pos-1;_>=u;_--)f.buf[_+h]=f.buf[_]}function bQe(u,l){for(var f=0;f<u.length;f++)l.writeVarint(u[f])}function wQe(u,l){for(var f=0;f<u.length;f++)l.writeSVarint(u[f])}function SQe(u,l){for(var f=0;f<u.length;f++)l.writeFloat(u[f])}function EQe(u,l){for(var f=0;f<u.length;f++)l.writeDouble(u[f])}function IQe(u,l){for(var f=0;f<u.length;f++)l.writeBoolean(u[f])}function TQe(u,l){for(var f=0;f<u.length;f++)l.writeFixed32(u[f])}function CQe(u,l){for(var f=0;f<u.length;f++)l.writeSFixed32(u[f])}function MQe(u,l){for(var f=0;f<u.length;f++)l.writeFixed64(u[f])}function AQe(u,l){for(var f=0;f<u.length;f++)l.writeSFixed64(u[f])}function EM(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function q0(u,l,f){u[f]=l,u[f+1]=l>>>8,u[f+2]=l>>>16,u[f+3]=l>>>24}function ere(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}Wn.prototype={destroy:function(){this.buf=null},readFields:function(u,l,f){for(f=f||this.length;this.pos<f;){var h=this.readVarint(),_=h>>3,w=this.pos;this.type=7&h,u(_,l,this),this.pos===w&&this.skip(h)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=EM(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=ere(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=EM(this.buf,this.pos)+EM(this.buf,this.pos+4)*Wj;return this.pos+=8,u},readSFixed64:function(){var u=EM(this.buf,this.pos)+ere(this.buf,this.pos+4)*Wj;return this.pos+=8,u},readFloat:function(){var u=Yte(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Yte(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,f,h=this.buf;return l=127&(f=h[this.pos++]),f<128?l:(l|=(127&(f=h[this.pos++]))<<7,f<128?l:(l|=(127&(f=h[this.pos++]))<<14,f<128?l:(l|=(127&(f=h[this.pos++]))<<21,f<128?l:function(_,w,E){var C,O,k=E.buf;if(C=(112&(O=k[E.pos++]))>>4,O<128||(C|=(127&(O=k[E.pos++]))<<3,O<128)||(C|=(127&(O=k[E.pos++]))<<10,O<128)||(C|=(127&(O=k[E.pos++]))<<17,O<128)||(C|=(127&(O=k[E.pos++]))<<24,O<128)||(C|=(1&(O=k[E.pos++]))<<31,O<128))return k0(_,C,w);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(f=h[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&Qte?function(f,h,_){return Qte.decode(f.subarray(h,_))}(this.buf,l,u):function(f,h,_){for(var w="",E=h;E<_;){var C,O,k,z=f[E],U=null,Z=z>239?4:z>223?3:z>191?2:1;if(E+Z>_)break;Z===1?z<128&&(U=z):Z===2?(192&(C=f[E+1]))==128&&(U=(31&z)<<6|63&C)<=127&&(U=null):Z===3?(O=f[E+2],(192&(C=f[E+1]))==128&&(192&O)==128&&((U=(15&z)<<12|(63&C)<<6|63&O)<=2047||U>=55296&&U<=57343)&&(U=null)):Z===4&&(O=f[E+2],k=f[E+3],(192&(C=f[E+1]))==128&&(192&O)==128&&(192&k)==128&&((U=(15&z)<<18|(63&C)<<12|(63&O)<<6|63&k)<=65535||U>=1114112)&&(U=null)),U===null?(U=65533,Z=1):U>65535&&(U-=65536,w+=String.fromCharCode(U>>>10&1023|55296),U=56320|1023&U),w+=String.fromCharCode(U),E+=Z}return w}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==Wn.Bytes)return u.push(this.readVarint(l));var f=Lp(this);for(u=u||[];this.pos<f;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==Wn.Bytes)return u.push(this.readSVarint());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==Wn.Bytes)return u.push(this.readBoolean());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==Wn.Bytes)return u.push(this.readFloat());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==Wn.Bytes)return u.push(this.readDouble());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==Wn.Bytes)return u.push(this.readFixed32());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==Wn.Bytes)return u.push(this.readSFixed32());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==Wn.Bytes)return u.push(this.readFixed64());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==Wn.Bytes)return u.push(this.readSFixed64());var l=Lp(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===Wn.Varint)for(;this.buf[this.pos++]>127;);else if(l===Wn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===Wn.Fixed32)this.pos+=4;else{if(l!==Wn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var f=new Uint8Array(l);f.set(this.buf),this.buf=f,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),q0(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),q0(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),q0(this.buf,-1&u,this.pos),q0(this.buf,Math.floor(u*Xte),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),q0(this.buf,-1&u,this.pos),q0(this.buf,Math.floor(u*Xte),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,f){var h,_;if(l>=0?(h=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(h=~(-l%4294967296))?h=h+1|0:(h=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),function(w,E,C){C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,C.buf[C.pos]=127&(w>>>=7)}(h,0,f),function(w,E){var C=(7&w)<<4;E.buf[E.pos++]|=C|((w>>>=3)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w)))))}(_,f)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(h,_,w){for(var E,C,O=0;O<_.length;O++){if((E=_.charCodeAt(O))>55295&&E<57344){if(!C){E>56319||O+1===_.length?(h[w++]=239,h[w++]=191,h[w++]=189):C=E;continue}if(E<56320){h[w++]=239,h[w++]=191,h[w++]=189,C=E;continue}E=C-55296<<10|E-56320|65536,C=null}else C&&(h[w++]=239,h[w++]=191,h[w++]=189,C=null);E<128?h[w++]=E:(E<2048?h[w++]=E>>6|192:(E<65536?h[w++]=E>>12|224:(h[w++]=E>>18|240,h[w++]=E>>12&63|128),h[w++]=E>>6&63|128),h[w++]=63&E|128)}return w}(this.buf,u,this.pos);var f=this.pos-l;f>=128&&Jte(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeFloat:function(u){this.realloc(4),Kte(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Kte(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var f=0;f<l;f++)this.buf[this.pos++]=u[f]},writeRawMessage:function(u,l){this.pos++;var f=this.pos;u(l,this);var h=this.pos-f;h>=128&&Jte(f,h,this),this.pos=f-1,this.writeVarint(h),this.pos+=h},writeMessage:function(u,l,f){this.writeTag(u,Wn.Bytes),this.writeRawMessage(l,f)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,bQe,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,wQe,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,IQe,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,SQe,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,EQe,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,TQe,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,CQe,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,MQe,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,AQe,l)},writeBytesField:function(u,l){this.writeTag(u,Wn.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,Wn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,Wn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,Wn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,Wn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,Wn.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,Wn.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,Wn.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,Wn.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,Wn.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var $j=a(Zte);let Zj=3;function OQe(u,l,f){u===1&&f.readMessage(DQe,l)}function DQe(u,l,f){if(u===3){let{id:h,bitmap:_,width:w,height:E,left:C,top:O,advance:k}=f.readMessage(PQe,{});l.push({id:h,bitmap:new _w({width:w+2*Zj,height:E+2*Zj},_),metrics:{width:w,height:E,left:C,top:O,advance:k}})}}function PQe(u,l,f){u===1?l.id=f.readVarint():u===2?l.bitmap=f.readBytes():u===3?l.width=f.readVarint():u===4?l.height=f.readVarint():u===5?l.left=f.readSVarint():u===6?l.top=f.readSVarint():u===7&&(l.advance=f.readVarint())}let tre=Zj;function rre(u){let l=0,f=0;for(let E of u)l+=E.w*E.h,f=Math.max(f,E.w);u.sort((E,C)=>C.h-E.h);let h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),f),h:1/0}],_=0,w=0;for(let E of u)for(let C=h.length-1;C>=0;C--){let O=h[C];if(!(E.w>O.w||E.h>O.h)){if(E.x=O.x,E.y=O.y,w=Math.max(w,E.y+E.h),_=Math.max(_,E.x+E.w),E.w===O.w&&E.h===O.h){let k=h.pop();C<h.length&&(h[C]=k)}else E.h===O.h?(O.x+=E.w,O.w-=E.w):E.w===O.w?(O.y+=E.h,O.h-=E.h):(h.push({x:O.x+E.w,y:O.y,w:O.w-E.w,h:E.h}),O.y+=E.h,O.h-=E.h);break}}return{w:_,h:w,fill:l/(_*w)||0}}let Ts=1;class Yj{constructor(l,{pixelRatio:f,version:h,stretchX:_,stretchY:w,content:E,textFitWidth:C,textFitHeight:O}){this.paddedRect=l,this.pixelRatio=f,this.stretchX=_,this.stretchY=w,this.content=E,this.version=h,this.textFitWidth=C,this.textFitHeight=O}get tl(){return[this.paddedRect.x+Ts,this.paddedRect.y+Ts]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ts,this.paddedRect.y+this.paddedRect.h-Ts]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ts)/this.pixelRatio,(this.paddedRect.h-2*Ts)/this.pixelRatio]}}class nre{constructor(l,f){let h={},_={};this.haveRenderCallbacks=[];let w=[];this.addImages(l,h,w),this.addImages(f,_,w);let{w:E,h:C}=rre(w),O=new Gl({width:E||1,height:C||1});for(let k in l){let z=l[k],U=h[k].paddedRect;Gl.copy(z.data,O,{x:0,y:0},{x:U.x+Ts,y:U.y+Ts},z.data)}for(let k in f){let z=f[k],U=_[k].paddedRect,Z=U.x+Ts,Y=U.y+Ts,te=z.data.width,ie=z.data.height;Gl.copy(z.data,O,{x:0,y:0},{x:Z,y:Y},z.data),Gl.copy(z.data,O,{x:0,y:ie-1},{x:Z,y:Y-1},{width:te,height:1}),Gl.copy(z.data,O,{x:0,y:0},{x:Z,y:Y+ie},{width:te,height:1}),Gl.copy(z.data,O,{x:te-1,y:0},{x:Z-1,y:Y},{width:1,height:ie}),Gl.copy(z.data,O,{x:0,y:0},{x:Z+te,y:Y},{width:1,height:ie})}this.image=O,this.iconPositions=h,this.patternPositions=_}addImages(l,f,h){for(let _ in l){let w=l[_],E={x:0,y:0,w:w.data.width+2*Ts,h:w.data.height+2*Ts};h.push(E),f[_]=new Yj(E,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,f){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let h in l.updatedImages)this.patchUpdatedImage(this.iconPositions[h],l.getImage(h),f),this.patchUpdatedImage(this.patternPositions[h],l.getImage(h),f)}patchUpdatedImage(l,f,h){if(!l||!f||l.version===f.version)return;l.version=f.version;let[_,w]=l.tl;h.update(f.data,void 0,{x:_,y:w})}}var Eh;Wt("ImagePosition",Yj),Wt("ImageAtlas",nre),i.ah=void 0,(Eh=i.ah||(i.ah={}))[Eh.none=0]="none",Eh[Eh.horizontal=1]="horizontal",Eh[Eh.vertical=2]="vertical",Eh[Eh.horizontalOnly=3]="horizontalOnly";let Tw=-17;class Cw{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,f){let h=new Cw;return h.scale=l||1,h.fontStack=f,h}static forImage(l){let f=new Cw;return f.imageName=l,f}}class j0{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,f){let h=new j0;for(let _=0;_<l.sections.length;_++){let w=l.sections[_];w.image?h.addImageSection(w):h.addTextSection(w,f)}return h}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let f="";for(let h=0;h<l.length;h++){let _=l.charCodeAt(h+1)||null,w=l.charCodeAt(h-1)||null;f+=_&&cM(_)&&!Iw[l[h+1]]||w&&cM(w)&&!Iw[l[h-1]]||!Iw[l[h]]?l[h]:Iw[l[h]]}return f}(this.text)}trim(){let l=0;for(let h=0;h<this.text.length&&TM[this.text.charCodeAt(h)];h++)l++;let f=this.text.length;for(let h=this.text.length-1;h>=0&&h>=l&&TM[this.text.charCodeAt(h)];h--)f--;this.text=this.text.substring(l,f),this.sectionIndex=this.sectionIndex.slice(l,f)}substring(l,f){let h=new j0;return h.text=this.text.substring(l,f),h.sectionIndex=this.sectionIndex.slice(l,f),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,f)=>Math.max(l,this.sections[f].scale),0)}addTextSection(l,f){this.text+=l.text,this.sections.push(Cw.forText(l.scale,l.fontStack||f));let h=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(h)}addImageSection(l){let f=l.image?l.image.name:"";if(f.length===0)return void Ee("Can't add FormattedSection with an empty image.");let h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Cw.forImage(f)),this.sectionIndex.push(this.sections.length-1)):Ee("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function IM(u,l,f,h,_,w,E,C,O,k,z,U,Z,Y,te){let ie=j0.fromFeature(u,_),fe;U===i.ah.vertical&&ie.verticalizePunctuation();let{processBidirectionalText:me,processStyledBidirectionalText:Ue}=Es;if(me&&ie.sections.length===1){fe=[];let Ye=me(ie.toString(),Kj(ie,k,w,l,h,Y));for(let ct of Ye){let jt=new j0;jt.text=ct,jt.sections=ie.sections;for(let dr=0;dr<ct.length;dr++)jt.sectionIndex.push(0);fe.push(jt)}}else if(Ue){fe=[];let Ye=Ue(ie.text,ie.sectionIndex,Kj(ie,k,w,l,h,Y));for(let ct of Ye){let jt=new j0;jt.text=ct[0],jt.sectionIndex=ct[1],jt.sections=ie.sections,fe.push(jt)}}else fe=function(Ye,ct){let jt=[],dr=Ye.text,kt=0;for(let Ot of ct)jt.push(Ye.substring(kt,Ot)),kt=Ot;return kt<dr.length&&jt.push(Ye.substring(kt,dr.length)),jt}(ie,Kj(ie,k,w,l,h,Y));let we=[],ze={positionedLines:we,text:ie.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:U,iconsInText:!1,verticalizable:!1};return function(Ye,ct,jt,dr,kt,Ot,tr,Yt,Ht,rt,nr,Jt){let Sr=0,Qn=Tw,$n=0,Io=0,bu=Yt==="right"?1:Yt==="left"?0:.5,Xo=0;for(let Gi of kt){Gi.trim();let Co=Gi.getMaxScale(),ha=(Co-1)*uo,Qo={positionedGlyphs:[],lineOffset:0};Ye.positionedLines[Xo]=Qo;let $a=Qo.positionedGlyphs,Jo=0;if(!Gi.length()){Qn+=Ot,++Xo;continue}for(let Cs=0;Cs<Gi.length();Cs++){let wn=Gi.getSection(Cs),ii=Gi.getSectionIndex(Cs),vi=Gi.getCharCode(Cs),rl=0,Ni=null,U0=null,pf=null,df=uo,wu=!(Ht===i.ah.horizontal||!nr&&!pw(vi)||nr&&(TM[vi]||(To=vi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(To)))));if(wn.imageName){let $l=dr[wn.imageName];if(!$l)continue;pf=wn.imageName,Ye.iconsInText=Ye.iconsInText||!0,U0=$l.paddedRect;let Ro=$l.displaySize;wn.scale=wn.scale*uo/Jt,Ni={width:Ro[0],height:Ro[1],left:Ts,top:-tre,advance:wu?Ro[1]:Ro[0]},rl=ha+(uo-Ro[1]*wn.scale),df=Ni.advance;let Np=wu?Ro[0]*wn.scale-uo*Co:Ro[1]*wn.scale-uo*Co;Np>0&&Np>Jo&&(Jo=Np)}else{let $l=jt[wn.fontStack],Ro=$l&&$l[vi];if(Ro&&Ro.rect)U0=Ro.rect,Ni=Ro.metrics;else{let Np=ct[wn.fontStack],Lw=Np&&Np[vi];if(!Lw)continue;Ni=Lw.metrics}rl=(Co-wn.scale)*uo}wu?(Ye.verticalizable=!0,$a.push({glyph:vi,imageName:pf,x:Sr,y:Qn+rl,vertical:wu,scale:wn.scale,fontStack:wn.fontStack,sectionIndex:ii,metrics:Ni,rect:U0}),Sr+=df*wn.scale+rt):($a.push({glyph:vi,imageName:pf,x:Sr,y:Qn+rl,vertical:wu,scale:wn.scale,fontStack:wn.fontStack,sectionIndex:ii,metrics:Ni,rect:U0}),Sr+=Ni.advance*wn.scale+rt)}$a.length!==0&&($n=Math.max(Sr-rt,$n),kQe($a,0,$a.length-1,bu,Jo)),Sr=0;let Wl=Ot*Co+Jo;Qo.lineOffset=Math.max(Jo,ha),Qn+=Wl,Io=Math.max(Wl,Io),++Xo}var To;let Ga=Qn-Tw,{horizontalAlign:Ha,verticalAlign:Wa}=Xj(tr);(function(Gi,Co,ha,Qo,$a,Jo,Wl,Cs,wn){let ii=(Co-ha)*$a,vi=0;vi=Jo!==Wl?-Cs*Qo-Tw:(-Qo*wn+.5)*Wl;for(let rl of Gi)for(let Ni of rl.positionedGlyphs)Ni.x+=ii,Ni.y+=vi})(Ye.positionedLines,bu,Ha,Wa,$n,Io,Ot,Ga,kt.length),Ye.top+=-Wa*Ga,Ye.bottom=Ye.top+Ga,Ye.left+=-Ha*$n,Ye.right=Ye.left+$n}(ze,l,f,h,fe,E,C,O,U,k,Z,te),!function(Ye){for(let ct of Ye)if(ct.positionedGlyphs.length!==0)return!1;return!0}(we)&&ze}let TM={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},LQe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},NQe={40:!0};function ire(u,l,f,h,_,w){if(l.imageName){let E=h[l.imageName];return E?E.displaySize[0]*l.scale*uo/w+_:0}{let E=f[l.fontStack],C=E&&E[u];return C?C.metrics.advance*l.scale+_:0}}function ore(u,l,f,h){let _=Math.pow(u-l,2);return h?u<l?_/2:2*_:_+Math.abs(f)*f}function RQe(u,l,f){let h=0;return u===10&&(h-=1e4),f&&(h+=150),u!==40&&u!==65288||(h+=50),l!==41&&l!==65289||(h+=50),h}function are(u,l,f,h,_,w){let E=null,C=ore(l,f,_,w);for(let O of h){let k=ore(l-O.x,f,_,w)+O.badness;k<=C&&(E=O,C=k)}return{index:u,x:l,priorBreak:E,badness:C}}function sre(u){return u?sre(u.priorBreak).concat(u.index):[]}function Kj(u,l,f,h,_,w){if(!u)return[];let E=[],C=function(U,Z,Y,te,ie,fe){let me=0;for(let Ue=0;Ue<U.length();Ue++){let we=U.getSection(Ue);me+=ire(U.getCharCode(Ue),we,te,ie,Z,fe)}return me/Math.max(1,Math.ceil(me/Y))}(u,l,f,h,_,w),O=u.text.indexOf("\u200B")>=0,k=0;for(let U=0;U<u.length();U++){let Z=u.getSection(U),Y=u.getCharCode(U);if(TM[Y]||(k+=ire(Y,Z,h,_,l,w)),U<u.length()-1){let te=!((z=Y)<11904)&&(!!ln["CJK Compatibility Forms"](z)||!!ln["CJK Compatibility"](z)||!!ln["CJK Strokes"](z)||!!ln["CJK Symbols and Punctuation"](z)||!!ln["Enclosed CJK Letters and Months"](z)||!!ln["Halfwidth and Fullwidth Forms"](z)||!!ln["Ideographic Description Characters"](z)||!!ln["Vertical Forms"](z)||uM.test(String.fromCodePoint(z)));(LQe[Y]||te||Z.imageName||U!==u.length()-2&&NQe[u.getCharCode(U+1)])&&E.push(are(U+1,k,C,E,RQe(Y,u.getCharCode(U+1),te&&O),!1))}}var z;return sre(are(u.length(),k,C,E,0,!0))}function Xj(u){let l=.5,f=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0;}switch(u){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0;}return{horizontalAlign:l,verticalAlign:f}}function kQe(u,l,f,h,_){if(!h&&!_)return;let w=u[f],E=(u[f].x+w.metrics.advance*w.scale)*h;for(let C=l;C<=f;C++)u[C].x-=E,u[C].y+=_}function qQe(u,l,f){let{horizontalAlign:h,verticalAlign:_}=Xj(f),w=l[0]-u.displaySize[0]*h,E=l[1]-u.displaySize[1]*_;return{image:u,top:E,bottom:E+u.displaySize[1],left:w,right:w+u.displaySize[0]}}function lre(u){var l,f;let h=u.left,_=u.top,w=u.right-h,E=u.bottom-_,C=(l=u.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",O=(f=u.image.textFitHeight)!==null&&f!==void 0?f:"stretchOrShrink",k=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(O==="proportional"){if(C==="stretchOnly"&&w/E<k||C==="proportional"){let z=Math.ceil(E*k);h*=z/w,w=z}}else if(C==="proportional"&&O==="stretchOnly"&&k!==0&&w/E>k){let z=Math.ceil(w/k);_*=z/E,E=z}return{x1:h,y1:_,x2:h+w,y2:_+E}}function ure(u,l,f,h,_,w){let E=u.image,C;if(E.content){let fe=E.content,me=E.pixelRatio||1;C=[fe[0]/me,fe[1]/me,E.displaySize[0]-fe[2]/me,E.displaySize[1]-fe[3]/me]}let O=l.left*w,k=l.right*w,z,U,Z,Y;f==="width"||f==="both"?(Y=_[0]+O-h[3],U=_[0]+k+h[1]):(Y=_[0]+(O+k-E.displaySize[0])/2,U=Y+E.displaySize[0]);let te=l.top*w,ie=l.bottom*w;return f==="height"||f==="both"?(z=_[1]+te-h[0],Z=_[1]+ie+h[2]):(z=_[1]+(te+ie-E.displaySize[1])/2,Z=z+E.displaySize[1]),{image:E,top:z,right:U,bottom:Z,left:Y,collisionPadding:C}}let Mw=255,ff=128,Ih=Mw*ff;function cre(u,l){let{expression:f}=l;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new di(u+1))};if(f.kind==="source")return{kind:"source"};{let{zoomStops:h,interpolationType:_}=f,w=0;for(;w<h.length&&h[w]<=u;)w++;w=Math.max(0,w-1);let E=w;for(;E<h.length&&h[E]<u+1;)E++;E=Math.min(h.length-1,E);let C=h[w],O=h[E];return f.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:O,interpolationType:_}:{kind:"camera",minZoom:C,maxZoom:O,minSize:f.evaluate(new di(C)),maxSize:f.evaluate(new di(O)),interpolationType:_}}}function Qj(u,l,f){let h="never",_=u.get(l);return _?h=_:u.get(f)&&(h="always"),h}let jQe=Sh.VectorTileFeature.types,zQe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function CM(u,l,f,h,_,w,E,C,O,k,z,U,Z){let Y=C?Math.min(Ih,Math.round(C[0])):0,te=C?Math.min(Ih,Math.round(C[1])):0;u.emplaceBack(l,f,Math.round(32*h),Math.round(32*_),w,E,(Y<<1)+(O?1:0),te,16*k,16*z,256*U,256*Z)}function Jj(u,l,f){u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f)}function FQe(u){for(let l of u.sections)if(Cj(l.text))return!0;return!1}class ez{constructor(l){this.layoutVertexArray=new C0,this.indexArray=new Vl,this.programConfigurations=l,this.segments=new un,this.dynamicLayoutVertexArray=new mw,this.opacityVertexArray=new el,this.hasVisibleVertices=!1,this.placedSymbolArray=new hi}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,f,h,_){this.isEmpty()||(h&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,gQe.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,vQe.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,zQe,!0),this.opacityVertexBuffer.itemSize=1),(h||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Wt("SymbolBuffers",ez);class tz{constructor(l,f,h){this.layoutVertexArray=new l,this.layoutAttributes=f,this.indexArray=new h,this.segments=new un,this.collisionVertexArray=new uf}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,yQe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Wt("CollisionBuffers",tz);class z0{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(E=>E.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Nj([]),this.placementViewportMatrix=Nj([]);let f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cre(this.zoom,f["text-size"]),this.iconSizeData=cre(this.zoom,f["icon-size"]);let h=this.layers[0].layout,_=h.get("symbol-sort-key"),w=h.get("symbol-z-order");this.canOverlap=Qj(h,"text-overlap","text-allow-overlap")!=="never"||Qj(h,"icon-overlap","icon-allow-overlap")!=="never"||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,h.get("symbol-placement")==="point"&&(this.writingModes=h.get("text-writing-mode").map(E=>i.ah[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=l.sourceID}createArrays(){this.text=new ez(new Fg(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new ez(new Fg(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new mi,this.lineVertexArray=new $o,this.symbolInstances=new nn,this.textAnchorOffsets=new gi}calculateGlyphDependencies(l,f,h,_,w){for(let E=0;E<l.length;E++)if(f[l.charCodeAt(E)]=!0,(h||_)&&w){let C=Iw[l.charAt(E)];C&&(f[C.charCodeAt(0)]=!0)}}populate(l,f,h){let _=this.layers[0],w=_.layout,E=w.get("text-font"),C=w.get("text-field"),O=w.get("icon-image"),k=(C.value.kind!=="constant"||C.value.value instanceof xs&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),z=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,U=w.get("symbol-sort-key");if(this.features=[],!k&&!z)return;let Z=f.iconDependencies,Y=f.glyphDependencies,te=f.availableImages,ie=new di(this.zoom);for(let{feature:fe,id:me,index:Ue,sourceLayerIndex:we}of l){let ze=_._featureFilter.needGeometry,Ye=Ug(fe,ze);if(!_._featureFilter.filter(ie,Ye,h))continue;let ct,jt;if(ze||(Ye.geometry=Bg(fe)),k){let kt=_.getValueAndResolveTokens("text-field",Ye,h,te),Ot=xs.factory(kt),tr=this.hasRTLText=this.hasRTLText||FQe(Ot);(!tr||Es.getRTLTextPluginStatus()==="unavailable"||tr&&Es.isParsed())&&(ct=xQe(Ot,_,Ye))}if(z){let kt=_.getValueAndResolveTokens("icon-image",Ye,h,te);jt=kt instanceof ws?kt:ws.fromString(kt)}if(!ct&&!jt)continue;let dr=this.sortFeaturesByKey?U.evaluate(Ye,{},h):void 0;if(this.features.push({id:me,text:ct,icon:jt,index:Ue,sourceLayerIndex:we,geometry:Ye.geometry,properties:fe.properties,type:jQe[fe.type],sortKey:dr}),jt&&(Z[jt.name]=!0),ct){let kt=E.evaluate(Ye,{},h).join(","),Ot=w.get("text-rotation-alignment")!=="viewport"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ah.vertical)>=0;for(let tr of ct.sections)if(tr.image)Z[tr.image.name]=!0;else{let Yt=cw(ct.toString()),Ht=tr.fontStack||kt,rt=Y[Ht]=Y[Ht]||{};this.calculateGlyphDependencies(tr.text,rt,Ot,this.allowVerticalPlacement,Yt)}}}w.get("symbol-placement")==="line"&&(this.features=function(fe){let me={},Ue={},we=[],ze=0;function Ye(kt){we.push(fe[kt]),ze++}function ct(kt,Ot,tr){let Yt=Ue[kt];return delete Ue[kt],Ue[Ot]=Yt,we[Yt].geometry[0].pop(),we[Yt].geometry[0]=we[Yt].geometry[0].concat(tr[0]),Yt}function jt(kt,Ot,tr){let Yt=me[Ot];return delete me[Ot],me[kt]=Yt,we[Yt].geometry[0].shift(),we[Yt].geometry[0]=tr[0].concat(we[Yt].geometry[0]),Yt}function dr(kt,Ot,tr){let Yt=tr?Ot[0][Ot[0].length-1]:Ot[0][0];return`${kt}:${Yt.x}:${Yt.y}`}for(let kt=0;kt<fe.length;kt++){let Ot=fe[kt],tr=Ot.geometry,Yt=Ot.text?Ot.text.toString():null;if(!Yt){Ye(kt);continue}let Ht=dr(Yt,tr),rt=dr(Yt,tr,!0);if(Ht in Ue&&rt in me&&Ue[Ht]!==me[rt]){let nr=jt(Ht,rt,tr),Jt=ct(Ht,rt,we[nr].geometry);delete me[Ht],delete Ue[rt],Ue[dr(Yt,we[Jt].geometry,!0)]=Jt,we[nr].geometry=null}else Ht in Ue?ct(Ht,rt,tr):rt in me?jt(Ht,rt,tr):(Ye(kt),me[Ht]=ze-1,Ue[rt]=ze-1)}return we.filter(kt=>kt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((fe,me)=>fe.sortKey-me.sortKey)}update(l,f,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,f,this.layers,h),this.icon.programConfigurations.updatePaintArrays(l,f,this.layers,h))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,f){let h=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(f[l.segment+1]),w=l.dist(f[l.segment]),E={};for(let C=l.segment+1;C<f.length;C++)E[C]={x:f[C].x,y:f[C].y,tileUnitDistanceFromAnchor:_},C<f.length-1&&(_+=f[C+1].dist(f[C]));for(let C=l.segment||0;C>=0;C--)E[C]={x:f[C].x,y:f[C].y,tileUnitDistanceFromAnchor:w},C>0&&(w+=f[C-1].dist(f[C]));for(let C=0;C<f.length;C++){let O=E[C];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(l,f,h,_,w,E,C,O,k,z,U,Z){let Y=l.indexArray,te=l.layoutVertexArray,ie=l.segments.prepareSegment(4*f.length,te,Y,this.canOverlap?E.sortKey:void 0),fe=this.glyphOffsetArray.length,me=ie.vertexLength,Ue=this.allowVerticalPlacement&&C===i.ah.vertical?Math.PI/2:0,we=E.text&&E.text.sections;for(let ze=0;ze<f.length;ze++){let{tl:Ye,tr:ct,bl:jt,br:dr,tex:kt,pixelOffsetTL:Ot,pixelOffsetBR:tr,minFontScaleX:Yt,minFontScaleY:Ht,glyphOffset:rt,isSDF:nr,sectionIndex:Jt}=f[ze],Sr=ie.vertexLength,Qn=rt[1];CM(te,O.x,O.y,Ye.x,Qn+Ye.y,kt.x,kt.y,h,nr,Ot.x,Ot.y,Yt,Ht),CM(te,O.x,O.y,ct.x,Qn+ct.y,kt.x+kt.w,kt.y,h,nr,tr.x,Ot.y,Yt,Ht),CM(te,O.x,O.y,jt.x,Qn+jt.y,kt.x,kt.y+kt.h,h,nr,Ot.x,tr.y,Yt,Ht),CM(te,O.x,O.y,dr.x,Qn+dr.y,kt.x+kt.w,kt.y+kt.h,h,nr,tr.x,tr.y,Yt,Ht),Jj(l.dynamicLayoutVertexArray,O,Ue),Y.emplaceBack(Sr,Sr+1,Sr+2),Y.emplaceBack(Sr+1,Sr+2,Sr+3),ie.vertexLength+=4,ie.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(rt[0]),ze!==f.length-1&&Jt===f[ze+1].sectionIndex||l.programConfigurations.populatePaintArrays(te.length,E,E.index,{},Z,we&&we[Jt])}l.placedSymbolArray.emplaceBack(O.x,O.y,fe,this.glyphOffsetArray.length-fe,me,k,z,O.segment,h?h[0]:0,h?h[1]:0,_[0],_[1],C,0,!1,0,U)}_addCollisionDebugVertex(l,f,h,_,w,E){return f.emplaceBack(0,0),l.emplaceBack(h.x,h.y,_,w,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(l,f,h,_,w,E,C){let O=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),k=O.vertexLength,z=w.layoutVertexArray,U=w.collisionVertexArray,Z=C.anchorX,Y=C.anchorY;this._addCollisionDebugVertex(z,U,E,Z,Y,new m(l,f)),this._addCollisionDebugVertex(z,U,E,Z,Y,new m(h,f)),this._addCollisionDebugVertex(z,U,E,Z,Y,new m(h,_)),this._addCollisionDebugVertex(z,U,E,Z,Y,new m(l,_)),O.vertexLength+=4;let te=w.indexArray;te.emplaceBack(k,k+1),te.emplaceBack(k+1,k+2),te.emplaceBack(k+2,k+3),te.emplaceBack(k+3,k),O.primitiveLength+=4}addDebugCollisionBoxes(l,f,h,_){for(let w=l;w<f;w++){let E=this.collisionBoxArray.get(w);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,_?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,h)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new tz(tl,$te.members,No),this.iconCollisionBox=new tz(tl,$te.members,No);for(let l=0;l<this.symbolInstances.length;l++){let f=this.symbolInstances.get(l);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(l,f,h,_,w,E,C,O,k){let z={};for(let U=f;U<h;U++){let Z=l.get(U);z.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},z.textFeatureIndex=Z.featureIndex;break}for(let U=_;U<w;U++){let Z=l.get(U);z.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},z.verticalTextFeatureIndex=Z.featureIndex;break}for(let U=E;U<C;U++){let Z=l.get(U);z.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},z.iconFeatureIndex=Z.featureIndex;break}for(let U=O;U<k;U++){let Z=l.get(U);z.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},z.verticalIconFeatureIndex=Z.featureIndex;break}return z}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){let h=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,f){let h=l.placedSymbolArray.get(f),_=h.vertexStartIndex+4*h.numGlyphs;for(let w=h.vertexStartIndex;w<_;w+=4)l.indexArray.emplaceBack(w,w+1,w+2),l.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let f=Math.sin(l),h=Math.cos(l),_=[],w=[],E=[];for(let C=0;C<this.symbolInstances.length;++C){E.push(C);let O=this.symbolInstances.get(C);_.push(0|Math.round(f*O.anchorX+h*O.anchorY)),w.push(O.featureIndex)}return E.sort((C,O)=>_[C]-_[O]||w[O]-w[C]),E}addToSortKeyRanges(l,f){let h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===f?h.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let f of this.symbolInstanceIndexes){let h=this.symbolInstances.get(f);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((_,w,E)=>{_>=0&&E.indexOf(_)===w&&this.addIndicesForPlacedSymbol(this.text,_)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,h.verticalPlacedTextSymbolIndex),h.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.placedIconSymbolIndex),h.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let fre,pre;Wt("SymbolBucket",z0,{omit:["layers","collisionBoxArray","features","compareText"]}),z0.MAX_GLYPHS=65535,z0.addDynamicAttributes=Jj;var rz={get paint(){return pre=pre||new b({"icon-opacity":new mr(Te.paint_symbol["icon-opacity"]),"icon-color":new mr(Te.paint_symbol["icon-color"]),"icon-halo-color":new mr(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new mr(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new mr(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new Xt(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new Xt(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new mr(Te.paint_symbol["text-opacity"]),"text-color":new mr(Te.paint_symbol["text-color"],{runtimeType:Ho,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new mr(Te.paint_symbol["text-halo-color"]),"text-halo-width":new mr(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new mr(Te.paint_symbol["text-halo-blur"]),"text-translate":new Xt(Te.paint_symbol["text-translate"]),"text-translate-anchor":new Xt(Te.paint_symbol["text-translate-anchor"])})},get layout(){return fre=fre||new b({"symbol-placement":new Xt(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new Xt(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Xt(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new mr(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Xt(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Xt(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Xt(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Xt(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new Xt(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Xt(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new mr(Te.layout_symbol["icon-size"]),"icon-text-fit":new Xt(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Xt(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new mr(Te.layout_symbol["icon-image"]),"icon-rotate":new mr(Te.layout_symbol["icon-rotate"]),"icon-padding":new mr(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new Xt(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new mr(Te.layout_symbol["icon-offset"]),"icon-anchor":new mr(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Xt(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Xt(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Xt(Te.layout_symbol["text-rotation-alignment"]),"text-field":new mr(Te.layout_symbol["text-field"]),"text-font":new mr(Te.layout_symbol["text-font"]),"text-size":new mr(Te.layout_symbol["text-size"]),"text-max-width":new mr(Te.layout_symbol["text-max-width"]),"text-line-height":new Xt(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new mr(Te.layout_symbol["text-letter-spacing"]),"text-justify":new mr(Te.layout_symbol["text-justify"]),"text-radial-offset":new mr(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Xt(Te.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new mr(Te.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new mr(Te.layout_symbol["text-anchor"]),"text-max-angle":new Xt(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new Xt(Te.layout_symbol["text-writing-mode"]),"text-rotate":new mr(Te.layout_symbol["text-rotate"]),"text-padding":new Xt(Te.layout_symbol["text-padding"]),"text-keep-upright":new Xt(Te.layout_symbol["text-keep-upright"]),"text-transform":new mr(Te.layout_symbol["text-transform"]),"text-offset":new mr(Te.layout_symbol["text-offset"]),"text-allow-overlap":new Xt(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new Xt(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new Xt(Te.layout_symbol["text-ignore-placement"]),"text-optional":new Xt(Te.layout_symbol["text-optional"])})}};class dre{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:gu,this.defaultValue=l}evaluate(l){if(l.formattedSection){let f=this.defaultValue.property.overrides;if(f&&f.hasOverride(l.formattedSection))return f.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Wt("FormatSectionOverride",dre,{omit:["defaultValue"]});class MM extends d{constructor(l){super(l,rz)}recalculate(l,f){if(super.recalculate(l,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let h=this.layout.get("text-writing-mode");if(h){let _=[];for(let w of h)_.indexOf(w)<0&&_.push(w);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,f,h,_){let w=this.layout.get(l).evaluate(f,{},h,_),E=this._unevaluatedLayout._values[l];return E.isDataDriven()||p0(E.value)||!w?w:function(C,O){return O.replace(/{([^{}]+)}/g,(k,z)=>C&&z in C?String(C[z]):"")}(f.properties,w)}createBucket(l){return new z0(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let l of rz.paint.overridableProperties){if(!MM.hasPaintOverride(this.layout,l))continue;let f=this.paint.get(l),h=new dre(f),_=new f0(h,f.property.specification),w=null;w=f.value.kind==="constant"||f.value.kind==="source"?new sh("source",_):new lh("composite",_,f.value.zoomStops),this.paint._values[l]=new _u(f.property,w,f.parameters)}}_handleOverridablePaintPropertyUpdate(l,f,h){return!(!this.layout||f.isDataDriven()||h.isDataDriven())&&MM.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,f){let h=l.get("text-field"),_=rz.paint.properties[f],w=!1,E=C=>{for(let O of C)if(_.overrides&&_.overrides.hasOverride(O))return void(w=!0)};if(h.value.kind==="constant"&&h.value.value instanceof xs)E(h.value.value.sections);else if(h.value.kind==="source"){let C=k=>{w||(k instanceof ql&&to(k.value)===ft?E(k.value.sections):k instanceof r0?E(k.sections):k.eachChild(C))},O=h.value;O._styleExpression&&C(O._styleExpression.expression)}return w}}let hre;var BQe={get paint(){return hre=hre||new b({"background-color":new Xt(Te.paint_background["background-color"]),"background-pattern":new I0(Te.paint_background["background-pattern"]),"background-opacity":new Xt(Te.paint_background["background-opacity"])})}};class UQe extends d{constructor(l){super(l,BQe)}}let mre;var VQe={get paint(){return mre=mre||new b({"raster-opacity":new Xt(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new Xt(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Xt(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Xt(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new Xt(Te.paint_raster["raster-saturation"]),"raster-contrast":new Xt(Te.paint_raster["raster-contrast"]),"raster-resampling":new Xt(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new Xt(Te.paint_raster["raster-fade-duration"])})}};class GQe extends d{constructor(l){super(l,VQe)}}class HQe extends d{constructor(l){super(l,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class WQe{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let nz=6371008.8;class Th{constructor(l,f){if(isNaN(l)||isNaN(f))throw new Error(`Invalid LngLat object: (${l}, ${f})`);if(this.lng=+l,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Th(H(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){let f=Math.PI/180,h=this.lat*f,_=l.lat*f,w=Math.sin(h)*Math.sin(_)+Math.cos(h)*Math.cos(_)*Math.cos((l.lng-this.lng)*f);return nz*Math.acos(Math.min(w,1))}static convert(l){if(l instanceof Th)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Th(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Th(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let gre=2*Math.PI*nz;function vre(u){return gre*Math.cos(u*Math.PI/180)}function yre(u){return(180+u)/360}function _re(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function xre(u,l){return u/vre(l)}function iz(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Aw{constructor(l,f,h=0){this.x=+l,this.y=+f,this.z=+h}static fromLngLat(l,f=0){let h=Th.convert(l);return new Aw(yre(h.lng),_re(h.lat),xre(f,h.lat))}toLngLat(){return new Th(360*this.x-180,iz(this.y))}toAltitude(){return this.z*vre(iz(this.y))}meterInMercatorCoordinateUnits(){return 1/gre*(l=iz(this.y),1/Math.cos(l*Math.PI/180));var l}}function bre(u,l,f){var h=2*Math.PI*6378137/256/Math.pow(2,f);return[u*h-2*Math.PI*6378137/2,l*h-2*Math.PI*6378137/2]}class oz{constructor(l,f,h){if(!function(_,w,E){return!(_<0||_>25||E<0||E>=Math.pow(2,_)||w<0||w>=Math.pow(2,_))}(l,f,h))throw new Error(`x=${f}, y=${h}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=f,this.y=h,this.key=Ow(0,l,l,f,h)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,f,h){let _=(E=this.y,C=this.z,O=bre(256*(w=this.x),256*(E=Math.pow(2,C)-E-1),C),k=bre(256*(w+1),256*(E+1),C),O[0]+","+O[1]+","+k[0]+","+k[1]);var w,E,C,O,k;let z=function(U,Z,Y){let te,ie="";for(let fe=U;fe>0;fe--)te=1<<fe-1,ie+=(Z&te?1:0)+(Y&te?2:0);return ie}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,z).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){let f=this.z-l.z;return f>0&&l.x===this.x>>f&&l.y===this.y>>f}getTilePoint(l){let f=Math.pow(2,this.z);return new m((l.x*f-this.x)*ro,(l.y*f-this.y)*ro)}toString(){return`${this.z}/${this.x}/${this.y}`}}class wre{constructor(l,f){this.wrap=l,this.canonical=f,this.key=Ow(l,f.z,f.z,f.x,f.y)}}class Hl{constructor(l,f,h,_,w){if(l<h)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${h}`);this.overscaledZ=l,this.wrap=f,this.canonical=new oz(h,+_,+w),this.key=Ow(f,l,h,_,w)}clone(){return new Hl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);let f=this.canonical.z-l;return l>this.canonical.z?new Hl(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Hl(l,this.wrap,l,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(l,f){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);let h=this.canonical.z-l;return l>this.canonical.z?Ow(this.wrap*+f,l,this.canonical.z,this.canonical.x,this.canonical.y):Ow(this.wrap*+f,l,l,this.canonical.x>>h,this.canonical.y>>h)}isChildOf(l){if(l.wrap!==this.wrap)return!1;let f=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>f&&l.canonical.y===this.canonical.y>>f}children(l){if(this.overscaledZ>=l)return[new Hl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let f=this.canonical.z+1,h=2*this.canonical.x,_=2*this.canonical.y;return[new Hl(f,this.wrap,f,h,_),new Hl(f,this.wrap,f,h+1,_),new Hl(f,this.wrap,f,h,_+1),new Hl(f,this.wrap,f,h+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Hl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Hl(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new wre(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Aw(l.x-this.wrap,l.y))}}function Ow(u,l,f,h,_){(u*=2)<0&&(u=-1*u-1);let w=1<<f;return(w*w*u+w*_+h).toString(36)+f.toString(36)+l.toString(36)}Wt("CanonicalTileID",oz),Wt("OverscaledTileID",Hl,{omit:["posMatrix"]});class Sre{constructor(l,f,h,_=1,w=1,E=1,C=0){if(this.uid=l,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(h&&!["mapbox","terrarium","custom"].includes(h))return void Ee(`"${h}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=f.height;let O=this.dim=f.height-2;switch(this.data=new Uint32Array(f.data.buffer),h){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=w,this.blueFactor=E,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let k=0;k<O;k++)this.data[this._idx(-1,k)]=this.data[this._idx(0,k)],this.data[this._idx(O,k)]=this.data[this._idx(O-1,k)],this.data[this._idx(k,-1)]=this.data[this._idx(k,0)],this.data[this._idx(k,O)]=this.data[this._idx(k,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let k=0;k<O;k++)for(let z=0;z<O;z++){let U=this.get(k,z);U>this.max&&(this.max=U),U<this.min&&(this.min=U)}}get(l,f){let h=new Uint8Array(this.data.buffer),_=4*this._idx(l,f);return this.unpack(h[_],h[_+1],h[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,f){if(l<-1||l>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(l+1)}unpack(l,f,h){return l*this.redFactor+f*this.greenFactor+h*this.blueFactor-this.baseShift}getPixels(){return new Gl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,f,h){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=f*this.dim,w=f*this.dim+this.dim,E=h*this.dim,C=h*this.dim+this.dim;switch(f){case-1:_=w-1;break;case 1:w=_+1;}switch(h){case-1:E=C-1;break;case 1:C=E+1;}let O=-f*this.dim,k=-h*this.dim;for(let z=E;z<C;z++)for(let U=_;U<w;U++)this.data[this._idx(U,z)]=l.data[this._idx(U+O,z+k)]}}Wt("DEMData",Sre);class Ere{constructor(l){this._stringToNumber={},this._numberToString=[];for(let f=0;f<l.length;f++){let h=l[f];this._stringToNumber[h]=f,this._numberToString[f]=h}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class Ire{constructor(l,f,h,_,w){this.type="Feature",this._vectorTileFeature=l,l._z=f,l._x=h,l._y=_,this.properties=l.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){let l={geometry:this.geometry};for(let f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(l[f]=this[f]);return l}}class Tre{constructor(l,f){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ph(ro,16,0),this.grid3D=new ph(ro,16,0),this.featureIndexArray=new pa,this.promoteId=f}insert(l,f,h,_,w,E){let C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,_,w);let O=E?this.grid3D:this.grid;for(let k=0;k<f.length;k++){let z=f[k],U=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<z.length;Z++){let Y=z[Z];U[0]=Math.min(U[0],Y.x),U[1]=Math.min(U[1],Y.y),U[2]=Math.max(U[2],Y.x),U[3]=Math.max(U[3],Y.y)}U[0]<ro&&U[1]<ro&&U[2]>=0&&U[3]>=0&&O.insert(C,U[0],U[1],U[2],U[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Sh.VectorTile(new $j(this.rawTileData)).layers,this.sourceLayerCoder=new Ere(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,f,h,_){this.loadVTLayers();let w=l.params||{},E=ro/l.tileSize/l.scale,C=Yb(w.filter),O=l.queryGeometry,k=l.queryPadding*E,z=Mre(O),U=this.grid.query(z.minX-k,z.minY-k,z.maxX+k,z.maxY+k),Z=Mre(l.cameraQueryGeometry),Y=this.grid3D.query(Z.minX-k,Z.minY-k,Z.maxX+k,Z.maxY+k,(fe,me,Ue,we)=>function(ze,Ye,ct,jt,dr){for(let Ot of ze)if(Ye<=Ot.x&&ct<=Ot.y&&jt>=Ot.x&&dr>=Ot.y)return!0;let kt=[new m(Ye,ct),new m(Ye,dr),new m(jt,dr),new m(jt,ct)];if(ze.length>2){for(let Ot of kt)if(P0(ze,Ot))return!0}for(let Ot=0;Ot<ze.length-1;Ot++)if(TXe(ze[Ot],ze[Ot+1],kt))return!0;return!1}(l.cameraQueryGeometry,fe-k,me-k,Ue+k,we+k));for(let fe of Y)U.push(fe);U.sort($Qe);let te={},ie;for(let fe=0;fe<U.length;fe++){let me=U[fe];if(me===ie)continue;ie=me;let Ue=this.featureIndexArray.get(me),we=null;this.loadMatchingFeature(te,Ue.bucketIndex,Ue.sourceLayerIndex,Ue.featureIndex,C,w.layers,w.availableImages,f,h,_,(ze,Ye,ct)=>(we||(we=Bg(ze)),Ye.queryIntersectsFeature(O,ze,ct,we,this.z,l.transform,E,l.pixelPosMatrix)))}return te}loadMatchingFeature(l,f,h,_,w,E,C,O,k,z,U){let Z=this.bucketLayerIDs[f];if(E&&!function(fe,me){for(let Ue=0;Ue<fe.length;Ue++)if(me.indexOf(fe[Ue])>=0)return!0;return!1}(E,Z))return;let Y=this.sourceLayerCoder.decode(h),te=this.vtLayers[Y].feature(_);if(w.needGeometry){let fe=Ug(te,!0);if(!w.filter(new di(this.tileID.overscaledZ),fe,this.tileID.canonical))return}else if(!w.filter(new di(this.tileID.overscaledZ),te))return;let ie=this.getId(te,Y);for(let fe=0;fe<Z.length;fe++){let me=Z[fe];if(E&&E.indexOf(me)<0)continue;let Ue=O[me];if(!Ue)continue;let we={};ie&&z&&(we=z.getState(Ue.sourceLayer||"_geojsonTileLayer",ie));let ze=Q({},k[me]);ze.paint=Cre(ze.paint,Ue.paint,te,we,C),ze.layout=Cre(ze.layout,Ue.layout,te,we,C);let Ye=!U||U(te,Ue,we);if(!Ye)continue;let ct=new Ire(te,this.z,this.x,this.y,ie);ct.layer=ze;let jt=l[me];jt===void 0&&(jt=l[me]=[]),jt.push({featureIndex:_,feature:ct,intersectionZ:Ye})}}lookupSymbolFeatures(l,f,h,_,w,E,C,O){let k={};this.loadVTLayers();let z=Yb(w);for(let U of l)this.loadMatchingFeature(k,h,_,U,z,E,C,O,f);return k}hasLayer(l){for(let f of this.bucketLayerIDs)for(let h of f)if(l===h)return!0;return!1}getId(l,f){let h=l.id;return this.promoteId&&(h=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof h=="boolean"&&(h=Number(h))),h}}function Cre(u,l,f,h,_){return ne(u,(w,E)=>{let C=l instanceof qg?l.get(E):null;return C&&C.evaluate?C.evaluate(f,h,_):C})}function Mre(u){let l=1/0,f=1/0,h=-1/0,_=-1/0;for(let w of u)l=Math.min(l,w.x),f=Math.min(f,w.y),h=Math.max(h,w.x),_=Math.max(_,w.y);return{minX:l,minY:f,maxX:h,maxY:_}}function $Qe(u,l){return l-u}function Are(u,l,f,h,_){let w=[];for(let E=0;E<u.length;E++){let C=u[E],O;for(let k=0;k<C.length-1;k++){let z=C[k],U=C[k+1];z.x<l&&U.x<l||(z.x<l?z=new m(l,z.y+(l-z.x)/(U.x-z.x)*(U.y-z.y))._round():U.x<l&&(U=new m(l,z.y+(l-z.x)/(U.x-z.x)*(U.y-z.y))._round()),z.y<f&&U.y<f||(z.y<f?z=new m(z.x+(f-z.y)/(U.y-z.y)*(U.x-z.x),f)._round():U.y<f&&(U=new m(z.x+(f-z.y)/(U.y-z.y)*(U.x-z.x),f)._round()),z.x>=h&&U.x>=h||(z.x>=h?z=new m(h,z.y+(h-z.x)/(U.x-z.x)*(U.y-z.y))._round():U.x>=h&&(U=new m(h,z.y+(h-z.x)/(U.x-z.x)*(U.y-z.y))._round()),z.y>=_&&U.y>=_||(z.y>=_?z=new m(z.x+(_-z.y)/(U.y-z.y)*(U.x-z.x),_)._round():U.y>=_&&(U=new m(z.x+(_-z.y)/(U.y-z.y)*(U.x-z.x),_)._round()),O&&z.equals(O[O.length-1])||(O=[z],w.push(O)),O.push(U)))))}}return w}Wt("FeatureIndex",Tre,{omit:["rawTileData","sourceLayerCoder"]});class Ch extends m{constructor(l,f,h,_){super(l,f),this.angle=h,_!==void 0&&(this.segment=_)}clone(){return new Ch(this.x,this.y,this.angle,this.segment)}}function Ore(u,l,f,h,_){if(l.segment===void 0||f===0)return!0;let w=l,E=l.segment+1,C=0;for(;C>-f/2;){if(E--,E<0)return!1;C-=u[E].dist(w),w=u[E]}C+=u[E].dist(u[E+1]),E++;let O=[],k=0;for(;C<f/2;){let z=u[E],U=u[E+1];if(!U)return!1;let Z=u[E-1].angleTo(z)-z.angleTo(U);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:C,angleDelta:Z}),k+=Z;C-O[0].distance>h;)k-=O.shift().angleDelta;if(k>_)return!1;E++,C+=z.dist(U)}return!0}function Dre(u){let l=0;for(let f=0;f<u.length-1;f++)l+=u[f].dist(u[f+1]);return l}function Pre(u,l,f){return u?.6*l*f:0}function Lre(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function ZQe(u,l,f,h,_,w){let E=Pre(f,_,w),C=Lre(f,h)*w,O=0,k=Dre(u)/2;for(let z=0;z<u.length-1;z++){let U=u[z],Z=u[z+1],Y=U.dist(Z);if(O+Y>k){let te=(k-O)/Y,ie=Fa.number(U.x,Z.x,te),fe=Fa.number(U.y,Z.y,te),me=new Ch(ie,fe,Z.angleTo(U),z);return me._round(),!E||Ore(u,me,C,E,l)?me:void 0}O+=Y}}function YQe(u,l,f,h,_,w,E,C,O){let k=Pre(h,w,E),z=Lre(h,_),U=z*E,Z=u[0].x===0||u[0].x===O||u[0].y===0||u[0].y===O;return l-U<l/4&&(l=U+l/4),Nre(u,Z?l/2*C%l:(z/2+2*w)*E*C%l,l,k,f,U,Z,!1,O)}function Nre(u,l,f,h,_,w,E,C,O){let k=w/2,z=Dre(u),U=0,Z=l-f,Y=[];for(let te=0;te<u.length-1;te++){let ie=u[te],fe=u[te+1],me=ie.dist(fe),Ue=fe.angleTo(ie);for(;Z+f<U+me;){Z+=f;let we=(Z-U)/me,ze=Fa.number(ie.x,fe.x,we),Ye=Fa.number(ie.y,fe.y,we);if(ze>=0&&ze<O&&Ye>=0&&Ye<O&&Z-k>=0&&Z+k<=z){let ct=new Ch(ze,Ye,Ue,te);ct._round(),h&&!Ore(u,ct,w,h,_)||Y.push(ct)}}U+=me}return C||Y.length||E||(Y=Nre(u,U/2,f,h,_,w,E,!0,O)),Y}Wt("Anchor",Ch);let F0=Ts;function Rre(u,l,f,h){let _=[],w=u.image,E=w.pixelRatio,C=w.paddedRect.w-2*F0,O=w.paddedRect.h-2*F0,k={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom},z=w.stretchX||[[0,C]],U=w.stretchY||[[0,O]],Z=(rt,nr)=>rt+nr[1]-nr[0],Y=z.reduce(Z,0),te=U.reduce(Z,0),ie=C-Y,fe=O-te,me=0,Ue=Y,we=0,ze=te,Ye=0,ct=ie,jt=0,dr=fe;if(w.content&&h){let rt=w.content,nr=rt[2]-rt[0],Jt=rt[3]-rt[1];(w.textFitWidth||w.textFitHeight)&&(k=lre(u)),me=AM(z,0,rt[0]),we=AM(U,0,rt[1]),Ue=AM(z,rt[0],rt[2]),ze=AM(U,rt[1],rt[3]),Ye=rt[0]-me,jt=rt[1]-we,ct=nr-Ue,dr=Jt-ze}let kt=k.x1,Ot=k.y1,tr=k.x2-kt,Yt=k.y2-Ot,Ht=(rt,nr,Jt,Sr)=>{let Qn=OM(rt.stretch-me,Ue,tr,kt),$n=DM(rt.fixed-Ye,ct,rt.stretch,Y),Io=OM(nr.stretch-we,ze,Yt,Ot),bu=DM(nr.fixed-jt,dr,nr.stretch,te),Xo=OM(Jt.stretch-me,Ue,tr,kt),To=DM(Jt.fixed-Ye,ct,Jt.stretch,Y),Ga=OM(Sr.stretch-we,ze,Yt,Ot),Ha=DM(Sr.fixed-jt,dr,Sr.stretch,te),Wa=new m(Qn,Io),Gi=new m(Xo,Io),Co=new m(Xo,Ga),ha=new m(Qn,Ga),Qo=new m($n/E,bu/E),$a=new m(To/E,Ha/E),Jo=l*Math.PI/180;if(Jo){let wn=Math.sin(Jo),ii=Math.cos(Jo),vi=[ii,-wn,wn,ii];Wa._matMult(vi),Gi._matMult(vi),ha._matMult(vi),Co._matMult(vi)}let Wl=rt.stretch+rt.fixed,Cs=nr.stretch+nr.fixed;return{tl:Wa,tr:Gi,bl:ha,br:Co,tex:{x:w.paddedRect.x+F0+Wl,y:w.paddedRect.y+F0+Cs,w:Jt.stretch+Jt.fixed-Wl,h:Sr.stretch+Sr.fixed-Cs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Qo,pixelOffsetBR:$a,minFontScaleX:ct/E/tr,minFontScaleY:dr/E/Yt,isSDF:f}};if(h&&(w.stretchX||w.stretchY)){let rt=kre(z,ie,Y),nr=kre(U,fe,te);for(let Jt=0;Jt<rt.length-1;Jt++){let Sr=rt[Jt],Qn=rt[Jt+1];for(let $n=0;$n<nr.length-1;$n++)_.push(Ht(Sr,nr[$n],Qn,nr[$n+1]))}}else _.push(Ht({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:O+1}));return _}function AM(u,l,f){let h=0;for(let _ of u)h+=Math.max(l,Math.min(f,_[1]))-Math.max(l,Math.min(f,_[0]));return h}function kre(u,l,f){let h=[{fixed:-F0,stretch:0}];for(let[_,w]of u){let E=h[h.length-1];h.push({fixed:_-E.stretch,stretch:E.stretch}),h.push({fixed:_-E.stretch,stretch:E.stretch+(w-_)})}return h.push({fixed:l+F0,stretch:f}),h}function OM(u,l,f,h){return u/l*f+h}function DM(u,l,f,h){return u-l*f/h}class PM{constructor(l,f,h,_,w,E,C,O,k,z){var U;if(this.boxStartIndex=l.length,k){let Z=E.top,Y=E.bottom,te=E.collisionPadding;te&&(Z-=te[1],Y+=te[3]);let ie=Y-Z;ie>0&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{let Z=!((U=E.image)===null||U===void 0)&&U.content&&(E.image.textFitWidth||E.image.textFitHeight)?lre(E):{x1:E.left,y1:E.top,x2:E.right,y2:E.bottom};Z.y1=Z.y1*C-O[0],Z.y2=Z.y2*C+O[2],Z.x1=Z.x1*C-O[3],Z.x2=Z.x2*C+O[1];let Y=E.collisionPadding;if(Y&&(Z.x1-=Y[0]*C,Z.y1-=Y[1]*C,Z.x2+=Y[2]*C,Z.y2+=Y[3]*C),z){let te=new m(Z.x1,Z.y1),ie=new m(Z.x2,Z.y1),fe=new m(Z.x1,Z.y2),me=new m(Z.x2,Z.y2),Ue=z*Math.PI/180;te._rotate(Ue),ie._rotate(Ue),fe._rotate(Ue),me._rotate(Ue),Z.x1=Math.min(te.x,ie.x,fe.x,me.x),Z.x2=Math.max(te.x,ie.x,fe.x,me.x),Z.y1=Math.min(te.y,ie.y,fe.y,me.y),Z.y2=Math.max(te.y,ie.y,fe.y,me.y)}l.emplaceBack(f.x,f.y,Z.x1,Z.y1,Z.x2,Z.y2,h,_,w)}this.boxEndIndex=l.length}}class KQe{constructor(l=[],f=(h,_)=>h<_?-1:h>_?1:0){if(this.data=l,this.length=this.data.length,this.compare=f,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;let l=this.data[0],f=this.data.pop();return--this.length>0&&(this.data[0]=f,this._down(0)),l}peek(){return this.data[0]}_up(l){let{data:f,compare:h}=this,_=f[l];for(;l>0;){let w=l-1>>1,E=f[w];if(h(_,E)>=0)break;f[l]=E,l=w}f[l]=_}_down(l){let{data:f,compare:h}=this,_=this.length>>1,w=f[l];for(;l<_;){let E=1+(l<<1),C=E+1;if(C<this.length&&h(f[C],f[E])<0&&(E=C),h(f[E],w)>=0)break;f[l]=f[E],l=E}f[l]=w}}function XQe(u,l=1,f=!1){let h=1/0,_=1/0,w=-1/0,E=-1/0,C=u[0];for(let Y=0;Y<C.length;Y++){let te=C[Y];(!Y||te.x<h)&&(h=te.x),(!Y||te.y<_)&&(_=te.y),(!Y||te.x>w)&&(w=te.x),(!Y||te.y>E)&&(E=te.y)}let O=Math.min(w-h,E-_),k=O/2,z=new KQe([],QQe);if(O===0)return new m(h,_);for(let Y=h;Y<w;Y+=O)for(let te=_;te<E;te+=O)z.push(new B0(Y+k,te+k,k,u));let U=function(Y){let te=0,ie=0,fe=0,me=Y[0];for(let Ue=0,we=me.length,ze=we-1;Ue<we;ze=Ue++){let Ye=me[Ue],ct=me[ze],jt=Ye.x*ct.y-ct.x*Ye.y;ie+=(Ye.x+ct.x)*jt,fe+=(Ye.y+ct.y)*jt,te+=3*jt}return new B0(ie/te,fe/te,0,Y)}(u),Z=z.length;for(;z.length;){let Y=z.pop();(Y.d>U.d||!U.d)&&(U=Y,f&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,Z)),Y.max-U.d<=l||(k=Y.h/2,z.push(new B0(Y.p.x-k,Y.p.y-k,k,u)),z.push(new B0(Y.p.x+k,Y.p.y-k,k,u)),z.push(new B0(Y.p.x-k,Y.p.y+k,k,u)),z.push(new B0(Y.p.x+k,Y.p.y+k,k,u)),Z+=4)}return f&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${U.d}`)),U.p}function QQe(u,l){return l.max-u.max}function B0(u,l,f,h){this.p=new m(u,l),this.h=f,this.d=function(_,w){let E=!1,C=1/0;for(let O=0;O<w.length;O++){let k=w[O];for(let z=0,U=k.length,Z=U-1;z<U;Z=z++){let Y=k[z],te=k[Z];Y.y>_.y!=te.y>_.y&&_.x<(te.x-Y.x)*(_.y-Y.y)/(te.y-Y.y)+Y.x&&(E=!E),C=Math.min(C,_te(_,Y,te))}}return(E?1:-1)*Math.sqrt(C)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}var Ko;i.aq=void 0,(Ko=i.aq||(i.aq={}))[Ko.center=1]="center",Ko[Ko.left=2]="left",Ko[Ko.right=3]="right",Ko[Ko.top=4]="top",Ko[Ko.bottom=5]="bottom",Ko[Ko["top-left"]=6]="top-left",Ko[Ko["top-right"]=7]="top-right",Ko[Ko["bottom-left"]=8]="bottom-left",Ko[Ko["bottom-right"]=9]="bottom-right";let Mh=7,az=Number.POSITIVE_INFINITY;function qre(u,l){return l[1]!==az?function(f,h,_){let w=0,E=0;switch(h=Math.abs(h),_=Math.abs(_),f){case"top-right":case"top-left":case"top":E=_-Mh;break;case"bottom-right":case"bottom-left":case"bottom":E=-_+Mh;}switch(f){case"top-right":case"bottom-right":case"right":w=-h;break;case"top-left":case"bottom-left":case"left":w=h;}return[w,E]}(u,l[0],l[1]):function(f,h){let _=0,w=0;h<0&&(h=0);let E=h/Math.SQRT2;switch(f){case"top-right":case"top-left":w=E-Mh;break;case"bottom-right":case"bottom-left":w=-E+Mh;break;case"bottom":w=-h+Mh;break;case"top":w=h-Mh;}switch(f){case"top-right":case"bottom-right":_=-E;break;case"top-left":case"bottom-left":_=E;break;case"left":_=h;break;case"right":_=-h;}return[_,w]}(u,l[0])}function jre(u,l,f){var h;let _=u.layout,w=(h=_.get("text-variable-anchor-offset"))===null||h===void 0?void 0:h.evaluate(l,{},f);if(w){let C=w.values,O=[];for(let k=0;k<C.length;k+=2){let z=O[k]=C[k],U=C[k+1].map(Z=>Z*uo);z.startsWith("top")?U[1]-=Mh:z.startsWith("bottom")&&(U[1]+=Mh),O[k+1]=U}return new Ys(O)}let E=_.get("text-variable-anchor");if(E){let C;C=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},f)*uo,az]:_.get("text-offset").evaluate(l,{},f).map(k=>k*uo);let O=[];for(let k of E)O.push(k,qre(k,C));return new Ys(O)}return null}function sz(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left";}return"center"}function JQe(u,l,f,h,_,w,E,C,O,k,z){let U=w.textMaxSize.evaluate(l,{});U===void 0&&(U=E);let Z=u.layers[0].layout,Y=Z.get("icon-offset").evaluate(l,{},z),te=Fre(f.horizontal),ie=E/24,fe=u.tilePixelRatio*ie,me=u.tilePixelRatio*U/24,Ue=u.tilePixelRatio*C,we=u.tilePixelRatio*Z.get("symbol-spacing"),ze=Z.get("text-padding")*u.tilePixelRatio,Ye=function(rt,nr,Jt,Sr=1){let Qn=rt.get("icon-padding").evaluate(nr,{},Jt),$n=Qn&&Qn.values;return[$n[0]*Sr,$n[1]*Sr,$n[2]*Sr,$n[3]*Sr]}(Z,l,z,u.tilePixelRatio),ct=Z.get("text-max-angle")/180*Math.PI,jt=Z.get("text-rotation-alignment")!=="viewport"&&Z.get("symbol-placement")!=="point",dr=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",kt=Z.get("symbol-placement"),Ot=we/2,tr=Z.get("icon-text-fit"),Yt;h&&tr!=="none"&&(u.allowVerticalPlacement&&f.vertical&&(Yt=ure(h,f.vertical,tr,Z.get("icon-text-fit-padding"),Y,ie)),te&&(h=ure(h,te,tr,Z.get("icon-text-fit-padding"),Y,ie)));let Ht=(rt,nr)=>{nr.x<0||nr.x>=ro||nr.y<0||nr.y>=ro||function(Jt,Sr,Qn,$n,Io,bu,Xo,To,Ga,Ha,Wa,Gi,Co,ha,Qo,$a,Jo,Wl,Cs,wn,ii,vi,rl,Ni,U0){let pf=Jt.addToLineVertexArray(Sr,Qn),df,wu,$l,Ro,Np=0,Lw=0,Gre=0,Hre=0,mz=-1,gz=-1,Rp={},Wre=M0("");if(Jt.allowVerticalPlacement&&$n.vertical){let ma=To.layout.get("text-rotate").evaluate(ii,{},Ni)+90;$l=new PM(Ga,Sr,Ha,Wa,Gi,$n.vertical,Co,ha,Qo,ma),Xo&&(Ro=new PM(Ga,Sr,Ha,Wa,Gi,Xo,Jo,Wl,Qo,ma))}if(Io){let ma=To.layout.get("icon-rotate").evaluate(ii,{}),Zl=To.layout.get("icon-text-fit")!=="none",Gg=Rre(Io,ma,rl,Zl),Tc=Xo?Rre(Xo,ma,rl,Zl):void 0;wu=new PM(Ga,Sr,Ha,Wa,Gi,Io,Jo,Wl,!1,ma),Np=4*Gg.length;let Hg=Jt.iconSizeData,hf=null;Hg.kind==="source"?(hf=[ff*To.layout.get("icon-size").evaluate(ii,{})],hf[0]>Ih&&Ee(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${Mw}. Reduce your "icon-size".`)):Hg.kind==="composite"&&(hf=[ff*vi.compositeIconSizes[0].evaluate(ii,{},Ni),ff*vi.compositeIconSizes[1].evaluate(ii,{},Ni)],(hf[0]>Ih||hf[1]>Ih)&&Ee(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${Mw}. Reduce your "icon-size".`)),Jt.addSymbols(Jt.icon,Gg,hf,wn,Cs,ii,i.ah.none,Sr,pf.lineStartIndex,pf.lineLength,-1,Ni),mz=Jt.icon.placedSymbolArray.length-1,Tc&&(Lw=4*Tc.length,Jt.addSymbols(Jt.icon,Tc,hf,wn,Cs,ii,i.ah.vertical,Sr,pf.lineStartIndex,pf.lineLength,-1,Ni),gz=Jt.icon.placedSymbolArray.length-1)}let $re=Object.keys($n.horizontal);for(let ma of $re){let Zl=$n.horizontal[ma];if(!df){Wre=M0(Zl.text);let Tc=To.layout.get("text-rotate").evaluate(ii,{},Ni);df=new PM(Ga,Sr,Ha,Wa,Gi,Zl,Co,ha,Qo,Tc)}let Gg=Zl.positionedLines.length===1;if(Gre+=zre(Jt,Sr,Zl,bu,To,Qo,ii,$a,pf,$n.vertical?i.ah.horizontal:i.ah.horizontalOnly,Gg?$re:[ma],Rp,mz,vi,Ni),Gg)break}$n.vertical&&(Hre+=zre(Jt,Sr,$n.vertical,bu,To,Qo,ii,$a,pf,i.ah.vertical,["vertical"],Rp,gz,vi,Ni));let rJe=df?df.boxStartIndex:Jt.collisionBoxArray.length,nJe=df?df.boxEndIndex:Jt.collisionBoxArray.length,iJe=$l?$l.boxStartIndex:Jt.collisionBoxArray.length,oJe=$l?$l.boxEndIndex:Jt.collisionBoxArray.length,aJe=wu?wu.boxStartIndex:Jt.collisionBoxArray.length,sJe=wu?wu.boxEndIndex:Jt.collisionBoxArray.length,lJe=Ro?Ro.boxStartIndex:Jt.collisionBoxArray.length,uJe=Ro?Ro.boxEndIndex:Jt.collisionBoxArray.length,Ic=-1,NM=(ma,Zl)=>ma&&ma.circleDiameter?Math.max(ma.circleDiameter,Zl):Zl;Ic=NM(df,Ic),Ic=NM($l,Ic),Ic=NM(wu,Ic),Ic=NM(Ro,Ic);let Zre=Ic>-1?1:0;Zre&&(Ic*=U0/uo),Jt.glyphOffsetArray.length>=z0.MAX_GLYPHS&&Ee("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ii.sortKey!==void 0&&Jt.addToSortKeyRanges(Jt.symbolInstances.length,ii.sortKey);let cJe=jre(To,ii,Ni),[fJe,pJe]=function(ma,Zl){let Gg=ma.length,Tc=Zl==null?void 0:Zl.values;if((Tc==null?void 0:Tc.length)>0)for(let Hg=0;Hg<Tc.length;Hg+=2){let hf=Tc[Hg+1];ma.emplaceBack(i.aq[Tc[Hg]],hf[0],hf[1])}return[Gg,ma.length]}(Jt.textAnchorOffsets,cJe);Jt.symbolInstances.emplaceBack(Sr.x,Sr.y,Rp.right>=0?Rp.right:-1,Rp.center>=0?Rp.center:-1,Rp.left>=0?Rp.left:-1,Rp.vertical||-1,mz,gz,Wre,rJe,nJe,iJe,oJe,aJe,sJe,lJe,uJe,Ha,Gre,Hre,Np,Lw,Zre,0,Co,Ic,fJe,pJe)}(u,nr,rt,f,h,_,Yt,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,fe,[ze,ze,ze,ze],jt,O,Ue,Ye,dr,Y,l,w,k,z,E)};if(kt==="line")for(let rt of Are(l.geometry,0,0,ro,ro)){let nr=YQe(rt,we,ct,f.vertical||te,h,24,me,u.overscaling,ro);for(let Jt of nr)te&&eJe(u,te.text,Ot,Jt)||Ht(rt,Jt)}else if(kt==="line-center"){for(let rt of l.geometry)if(rt.length>1){let nr=ZQe(rt,ct,f.vertical||te,h,24,me);nr&&Ht(rt,nr)}}else if(l.type==="Polygon")for(let rt of i0(l.geometry,0)){let nr=XQe(rt,16);Ht(rt[0],new Ch(nr.x,nr.y,0))}else if(l.type==="LineString")for(let rt of l.geometry)Ht(rt,new Ch(rt[0].x,rt[0].y,0));else if(l.type==="Point")for(let rt of l.geometry)for(let nr of rt)Ht([nr],new Ch(nr.x,nr.y,0))}function zre(u,l,f,h,_,w,E,C,O,k,z,U,Z,Y,te){let ie=function(Ue,we,ze,Ye,ct,jt,dr,kt){let Ot=Ye.layout.get("text-rotate").evaluate(jt,{})*Math.PI/180,tr=[];for(let Yt of we.positionedLines)for(let Ht of Yt.positionedGlyphs){if(!Ht.rect)continue;let rt=Ht.rect||{},nr=tre+1,Jt=!0,Sr=1,Qn=0,$n=(ct||kt)&&Ht.vertical,Io=Ht.metrics.advance*Ht.scale/2;if(kt&&we.verticalizable&&(Qn=Yt.lineOffset/2-(Ht.imageName?-(uo-Ht.metrics.width*Ht.scale)/2:(Ht.scale-1)*uo)),Ht.imageName){let wn=dr[Ht.imageName];Jt=wn.sdf,Sr=wn.pixelRatio,nr=Ts/Sr}let bu=ct?[Ht.x+Io,Ht.y]:[0,0],Xo=ct?[0,0]:[Ht.x+Io+ze[0],Ht.y+ze[1]-Qn],To=[0,0];$n&&(To=Xo,Xo=[0,0]);let Ga=Ht.metrics.isDoubleResolution?2:1,Ha=(Ht.metrics.left-nr)*Ht.scale-Io+Xo[0],Wa=(-Ht.metrics.top-nr)*Ht.scale+Xo[1],Gi=Ha+rt.w/Ga*Ht.scale/Sr,Co=Wa+rt.h/Ga*Ht.scale/Sr,ha=new m(Ha,Wa),Qo=new m(Gi,Wa),$a=new m(Ha,Co),Jo=new m(Gi,Co);if($n){let wn=new m(-Io,Io-Tw),ii=-Math.PI/2,vi=uo/2-Io,rl=new m(5-Tw-vi,-(Ht.imageName?vi:0)),Ni=new m(...To);ha._rotateAround(ii,wn)._add(rl)._add(Ni),Qo._rotateAround(ii,wn)._add(rl)._add(Ni),$a._rotateAround(ii,wn)._add(rl)._add(Ni),Jo._rotateAround(ii,wn)._add(rl)._add(Ni)}if(Ot){let wn=Math.sin(Ot),ii=Math.cos(Ot),vi=[ii,-wn,wn,ii];ha._matMult(vi),Qo._matMult(vi),$a._matMult(vi),Jo._matMult(vi)}let Wl=new m(0,0),Cs=new m(0,0);tr.push({tl:ha,tr:Qo,bl:$a,br:Jo,tex:rt,writingMode:we.writingMode,glyphOffset:bu,sectionIndex:Ht.sectionIndex,isSDF:Jt,pixelOffsetTL:Wl,pixelOffsetBR:Cs,minFontScaleX:0,minFontScaleY:0})}return tr}(0,f,C,_,w,E,h,u.allowVerticalPlacement),fe=u.textSizeData,me=null;fe.kind==="source"?(me=[ff*_.layout.get("text-size").evaluate(E,{})],me[0]>Ih&&Ee(`${u.layerIds[0]}: Value for "text-size" is >= ${Mw}. Reduce your "text-size".`)):fe.kind==="composite"&&(me=[ff*Y.compositeTextSizes[0].evaluate(E,{},te),ff*Y.compositeTextSizes[1].evaluate(E,{},te)],(me[0]>Ih||me[1]>Ih)&&Ee(`${u.layerIds[0]}: Value for "text-size" is >= ${Mw}. Reduce your "text-size".`)),u.addSymbols(u.text,ie,me,C,w,E,k,l,O.lineStartIndex,O.lineLength,Z,te);for(let Ue of z)U[Ue]=u.text.placedSymbolArray.length-1;return 4*ie.length}function Fre(u){for(let l in u)return u[l];return null}function eJe(u,l,f,h){let _=u.compareText;if(l in _){let w=_[l];for(let E=w.length-1;E>=0;E--)if(h.dist(w[E])<f)return!0}else _[l]=[];return _[l].push(h),!1}let Bre=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class lz{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[f,h]=new Uint8Array(l,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");let _=h>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);let w=Bre[15&h];if(!w)throw new Error("Unrecognized array type.");let[E]=new Uint16Array(l,2,1),[C]=new Uint32Array(l,4,1);return new lz(C,E,w,l)}constructor(l,f=64,h=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=h,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;let w=Bre.indexOf(this.ArrayType),E=2*l*this.ArrayType.BYTES_PER_ELEMENT,C=l*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-C%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${h}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+C+O,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+E+C+O),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+C+O,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=l)}add(l,f){let h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=l,this.coords[this._pos++]=f,h}finish(){let l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return uz(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,f,h,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:w,coords:E,nodeSize:C}=this,O=[0,w.length-1,0],k=[];for(;O.length;){let z=O.pop()||0,U=O.pop()||0,Z=O.pop()||0;if(U-Z<=C){for(let fe=Z;fe<=U;fe++){let me=E[2*fe],Ue=E[2*fe+1];me>=l&&me<=h&&Ue>=f&&Ue<=_&&k.push(w[fe])}continue}let Y=Z+U>>1,te=E[2*Y],ie=E[2*Y+1];te>=l&&te<=h&&ie>=f&&ie<=_&&k.push(w[Y]),(z===0?l<=te:f<=ie)&&(O.push(Z),O.push(Y-1),O.push(1-z)),(z===0?h>=te:_>=ie)&&(O.push(Y+1),O.push(U),O.push(1-z))}return k}within(l,f,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:_,coords:w,nodeSize:E}=this,C=[0,_.length-1,0],O=[],k=h*h;for(;C.length;){let z=C.pop()||0,U=C.pop()||0,Z=C.pop()||0;if(U-Z<=E){for(let fe=Z;fe<=U;fe++)Vre(w[2*fe],w[2*fe+1],l,f)<=k&&O.push(_[fe]);continue}let Y=Z+U>>1,te=w[2*Y],ie=w[2*Y+1];Vre(te,ie,l,f)<=k&&O.push(_[Y]),(z===0?l-h<=te:f-h<=ie)&&(C.push(Z),C.push(Y-1),C.push(1-z)),(z===0?l+h>=te:f+h>=ie)&&(C.push(Y+1),C.push(U),C.push(1-z))}return O}}function uz(u,l,f,h,_,w){if(_-h<=f)return;let E=h+_>>1;Ure(u,l,E,h,_,w),uz(u,l,f,h,E-1,1-w),uz(u,l,f,E+1,_,1-w)}function Ure(u,l,f,h,_,w){for(;_>h;){if(_-h>600){let k=_-h+1,z=f-h+1,U=Math.log(k),Z=.5*Math.exp(2*U/3),Y=.5*Math.sqrt(U*Z*(k-Z)/k)*(z-k/2<0?-1:1);Ure(u,l,f,Math.max(h,Math.floor(f-z*Z/k+Y)),Math.min(_,Math.floor(f+(k-z)*Z/k+Y)),w)}let E=l[2*f+w],C=h,O=_;for(Dw(u,l,h,f),l[2*_+w]>E&&Dw(u,l,h,_);C<O;){for(Dw(u,l,C,O),C++,O--;l[2*C+w]<E;)C++;for(;l[2*O+w]>E;)O--}l[2*h+w]===E?Dw(u,l,h,O):(O++,Dw(u,l,O,_)),O<=f&&(h=O+1),f<=O&&(_=O-1)}}function Dw(u,l,f,h){cz(u,f,h),cz(l,2*f,2*h),cz(l,2*f+1,2*h+1)}function cz(u,l,f){let h=u[l];u[l]=u[f],u[f]=h}function Vre(u,l,f,h){let _=u-f,w=l-h;return _*_+w*w}var fz;i.bg=void 0,(fz=i.bg||(i.bg={})).create="create",fz.load="load",fz.fullLoad="fullLoad";let LM=null,Pw=[],pz=1e3/60,dz="loadTime",hz="fullLoadTime",tJe={mark(u){performance.mark(u)},frame(u){let l=u;LM!=null&&Pw.push(l-LM),LM=l},clearMetrics(){LM=null,Pw=[],performance.clearMeasures(dz),performance.clearMeasures(hz);for(let u in i.bg)performance.clearMarks(i.bg[u])},getPerformanceMetrics(){performance.measure(dz,i.bg.create,i.bg.load),performance.measure(hz,i.bg.create,i.bg.fullLoad);let u=performance.getEntriesByName(dz)[0].duration,l=performance.getEntriesByName(hz)[0].duration,f=Pw.length,h=1/(Pw.reduce((w,E)=>w+E,0)/f/1e3),_=Pw.filter(w=>w>pz).reduce((w,E)=>w+(E-pz)/pz,0);return{loadTime:u,fullLoadTime:l,fps:h,percentDroppedFrames:_/(f+_)*100,totalFrames:f}}};i.$=class extends V{},i.A=L0,i.B=wj,i.C=function(u){if(We==null){let l=u.navigator?u.navigator.userAgent:null;We=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return We},i.D=Xt,i.E=yt,i.F=class{constructor(u,l){this.target=u,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new WQe(()=>this.process()),this.subscription=function(f,h,_,w){return f.addEventListener(h,_,!1),{unsubscribe:()=>{f.removeEventListener(h,_,!1)}}}(this.target,"message",f=>this.receive(f)),this.globalScope=Ie(self)?u:window}registerMessageHandler(u,l){this.messageHandlers[u]=l}sendAsync(u,l){return new Promise((f,h)=>{let _=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[_]={resolve:f,reject:h},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[_];let C={id:_,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(C)},{once:!0});let w=[],E=Object.assign(Object.assign({},u),{id:_,sourceMapId:this.mapId,origin:location.origin,data:dh(u.data,w)});this.target.postMessage(E,{transfer:w})})}receive(u){let l=u.data,f=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[f];let h=this.abortControllers[f];return delete this.abortControllers[f],void(h&&h.abort())}if(Ie(self)||l.mustQueue)return this.tasks[f]=l,this.taskQueue.push(f),void this.invoker.trigger();this.processTask(f,l)}}process(){if(this.taskQueue.length===0)return;let u=this.taskQueue.shift(),l=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(u,l)}processTask(u,l){return o(this,void 0,void 0,function*(){if(l.type==="<response>"){let _=this.resolveRejects[u];return delete this.resolveRejects[u],_?void(l.error?_.reject(hh(l.error)):_.resolve(hh(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let f=hh(l.data),h=new AbortController;this.abortControllers[u]=h;try{let _=yield this.messageHandlers[l.type](l.sourceMapId,f,h);this.completeTask(u,null,_)}catch(_){this.completeTask(u,_)}})}completeTask(u,l,f){let h=[];delete this.abortControllers[u];let _={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?dh(l):null,data:dh(f,h)};this.target.postMessage(_,{transfer:h})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.G=it,i.H=function(){var u=new L0(16);return L0!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},i.I=Yj,i.J=function(u,l,f){var h,_,w,E,C,O,k,z,U,Z,Y,te,ie=f[0],fe=f[1],me=f[2];return l===u?(u[12]=l[0]*ie+l[4]*fe+l[8]*me+l[12],u[13]=l[1]*ie+l[5]*fe+l[9]*me+l[13],u[14]=l[2]*ie+l[6]*fe+l[10]*me+l[14],u[15]=l[3]*ie+l[7]*fe+l[11]*me+l[15]):(_=l[1],w=l[2],E=l[3],C=l[4],O=l[5],k=l[6],z=l[7],U=l[8],Z=l[9],Y=l[10],te=l[11],u[0]=h=l[0],u[1]=_,u[2]=w,u[3]=E,u[4]=C,u[5]=O,u[6]=k,u[7]=z,u[8]=U,u[9]=Z,u[10]=Y,u[11]=te,u[12]=h*ie+C*fe+U*me+l[12],u[13]=_*ie+O*fe+Z*me+l[13],u[14]=w*ie+k*fe+Y*me+l[14],u[15]=E*ie+z*fe+te*me+l[15]),u},i.K=function(u,l,f){var h=f[0],_=f[1],w=f[2];return u[0]=l[0]*h,u[1]=l[1]*h,u[2]=l[2]*h,u[3]=l[3]*h,u[4]=l[4]*_,u[5]=l[5]*_,u[6]=l[6]*_,u[7]=l[7]*_,u[8]=l[8]*w,u[9]=l[9]*w,u[10]=l[10]*w,u[11]=l[11]*w,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},i.L=Ste,i.M=function(u,l){let f={};for(let h=0;h<l.length;h++){let _=l[h];_ in u&&(f[_]=u[_])}return f},i.N=Th,i.O=yre,i.P=m,i.Q=_re,i.R=Gl,i.S=Hl,i.T=S0,i.U=N,i.V=L,i.W=je,i.X=ro,i.Y=A,i.Z=Aw,i._=o,i.a=Ge,i.a$=function(u,l){var f=u[0],h=u[1],_=u[2],w=u[3],E=u[4],C=u[5],O=u[6],k=u[7],z=u[8],U=u[9],Z=u[10],Y=u[11],te=u[12],ie=u[13],fe=u[14],me=u[15],Ue=l[0],we=l[1],ze=l[2],Ye=l[3],ct=l[4],jt=l[5],dr=l[6],kt=l[7],Ot=l[8],tr=l[9],Yt=l[10],Ht=l[11],rt=l[12],nr=l[13],Jt=l[14],Sr=l[15];return Math.abs(f-Ue)<=Va*Math.max(1,Math.abs(f),Math.abs(Ue))&&Math.abs(h-we)<=Va*Math.max(1,Math.abs(h),Math.abs(we))&&Math.abs(_-ze)<=Va*Math.max(1,Math.abs(_),Math.abs(ze))&&Math.abs(w-Ye)<=Va*Math.max(1,Math.abs(w),Math.abs(Ye))&&Math.abs(E-ct)<=Va*Math.max(1,Math.abs(E),Math.abs(ct))&&Math.abs(C-jt)<=Va*Math.max(1,Math.abs(C),Math.abs(jt))&&Math.abs(O-dr)<=Va*Math.max(1,Math.abs(O),Math.abs(dr))&&Math.abs(k-kt)<=Va*Math.max(1,Math.abs(k),Math.abs(kt))&&Math.abs(z-Ot)<=Va*Math.max(1,Math.abs(z),Math.abs(Ot))&&Math.abs(U-tr)<=Va*Math.max(1,Math.abs(U),Math.abs(tr))&&Math.abs(Z-Yt)<=Va*Math.max(1,Math.abs(Z),Math.abs(Yt))&&Math.abs(Y-Ht)<=Va*Math.max(1,Math.abs(Y),Math.abs(Ht))&&Math.abs(te-rt)<=Va*Math.max(1,Math.abs(te),Math.abs(rt))&&Math.abs(ie-nr)<=Va*Math.max(1,Math.abs(ie),Math.abs(nr))&&Math.abs(fe-Jt)<=Va*Math.max(1,Math.abs(fe),Math.abs(Jt))&&Math.abs(me-Sr)<=Va*Math.max(1,Math.abs(me),Math.abs(Sr))},i.a0=un,i.a1=oz,i.a2=ut,i.a3=u=>{let l=window.document.createElement("video");return l.muted=!0,new Promise(f=>{l.onloadstart=()=>{f(l)};for(let h of u){let _=window.document.createElement("source");Me(h)||(l.crossOrigin="Anonymous"),_.src=h,l.appendChild(_)}})},i.a4=function(){return ee++},i.a5=qt,i.a6=z0,i.a7=Yb,i.a8=Ug,i.a9=Ire,i.aA=function(u){if(u.type==="custom")return new HQe(u);switch(u.type){case"background":return new UQe(u);case"circle":return new AXe(u);case"fill":return new WXe(u);case"fill-extrusion":return new sQe(u);case"heatmap":return new DXe(u);case"hillshade":return new LXe(u);case"line":return new mQe(u);case"raster":return new GQe(u);case"symbol":return new MM(u);}},i.aB=ue,i.aC=function(u,l){if(!u)return[{command:"setStyle",args:[l]}];let f=[];try{if(!dt(u.version,l.version))return[{command:"setStyle",args:[l]}];dt(u.center,l.center)||f.push({command:"setCenter",args:[l.center]}),dt(u.zoom,l.zoom)||f.push({command:"setZoom",args:[l.zoom]}),dt(u.bearing,l.bearing)||f.push({command:"setBearing",args:[l.bearing]}),dt(u.pitch,l.pitch)||f.push({command:"setPitch",args:[l.pitch]}),dt(u.sprite,l.sprite)||f.push({command:"setSprite",args:[l.sprite]}),dt(u.glyphs,l.glyphs)||f.push({command:"setGlyphs",args:[l.glyphs]}),dt(u.transition,l.transition)||f.push({command:"setTransition",args:[l.transition]}),dt(u.light,l.light)||f.push({command:"setLight",args:[l.light]}),dt(u.terrain,l.terrain)||f.push({command:"setTerrain",args:[l.terrain]}),dt(u.sky,l.sky)||f.push({command:"setSky",args:[l.sky]}),dt(u.projection,l.projection)||f.push({command:"setProjection",args:[l.projection]});let h={},_=[];(function(E,C,O,k){let z;for(z in C=C||{},E=E||{})Object.prototype.hasOwnProperty.call(E,z)&&(Object.prototype.hasOwnProperty.call(C,z)||Gt(z,O,k));for(z in C)Object.prototype.hasOwnProperty.call(C,z)&&(Object.prototype.hasOwnProperty.call(E,z)?dt(E[z],C[z])||(E[z].type==="geojson"&&C[z].type==="geojson"&&Wr(E,C,z)?Zt(O,{command:"setGeoJSONSourceData",args:[z,C[z].data]}):pr(z,C,O,k)):ur(z,C,O))})(u.sources,l.sources,_,h);let w=[];u.layers&&u.layers.forEach(E=>{"source"in E&&h[E.source]?f.push({command:"removeLayer",args:[E.id]}):w.push(E)}),f=f.concat(_),function(E,C,O){C=C||[];let k=(E=E||[]).map(cr),z=C.map(cr),U=E.reduce(pn,{}),Z=C.reduce(pn,{}),Y=k.slice(),te=Object.create(null),ie,fe,me,Ue,we;for(let ze=0,Ye=0;ze<k.length;ze++)ie=k[ze],Object.prototype.hasOwnProperty.call(Z,ie)?Ye++:(Zt(O,{command:"removeLayer",args:[ie]}),Y.splice(Y.indexOf(ie,Ye),1));for(let ze=0,Ye=0;ze<z.length;ze++)ie=z[z.length-1-ze],Y[Y.length-1-ze]!==ie&&(Object.prototype.hasOwnProperty.call(U,ie)?(Zt(O,{command:"removeLayer",args:[ie]}),Y.splice(Y.lastIndexOf(ie,Y.length-Ye),1)):Ye++,Ue=Y[Y.length-ze],Zt(O,{command:"addLayer",args:[Z[ie],Ue]}),Y.splice(Y.length-ze,0,ie),te[ie]=!0);for(let ze=0;ze<z.length;ze++)if(ie=z[ze],fe=U[ie],me=Z[ie],!te[ie]&&!dt(fe,me))if(dt(fe.source,me.source)&&dt(fe["source-layer"],me["source-layer"])&&dt(fe.type,me.type)){for(we in $r(fe.layout,me.layout,O,ie,null,"setLayoutProperty"),$r(fe.paint,me.paint,O,ie,null,"setPaintProperty"),dt(fe.filter,me.filter)||Zt(O,{command:"setFilter",args:[ie,me.filter]}),dt(fe.minzoom,me.minzoom)&&dt(fe.maxzoom,me.maxzoom)||Zt(O,{command:"setLayerZoomRange",args:[ie,me.minzoom,me.maxzoom]}),fe)Object.prototype.hasOwnProperty.call(fe,we)&&we!=="layout"&&we!=="paint"&&we!=="filter"&&we!=="metadata"&&we!=="minzoom"&&we!=="maxzoom"&&(we.indexOf("paint.")===0?$r(fe[we],me[we],O,ie,we.slice(6),"setPaintProperty"):dt(fe[we],me[we])||Zt(O,{command:"setLayerProperty",args:[ie,we,me[we]]}));for(we in me)Object.prototype.hasOwnProperty.call(me,we)&&!Object.prototype.hasOwnProperty.call(fe,we)&&we!=="layout"&&we!=="paint"&&we!=="filter"&&we!=="metadata"&&we!=="minzoom"&&we!=="maxzoom"&&(we.indexOf("paint.")===0?$r(fe[we],me[we],O,ie,we.slice(6),"setPaintProperty"):dt(fe[we],me[we])||Zt(O,{command:"setLayerProperty",args:[ie,we,me[we]]}))}else Zt(O,{command:"removeLayer",args:[ie]}),Ue=Y[Y.lastIndexOf(ie)+1],Zt(O,{command:"addLayer",args:[me,Ue]})}(w,l.layers,f)}catch(h){console.warn("Unable to compute style diff:",h),f=[{command:"setStyle",args:[l]}]}return f},i.aD=function(u){let l=[],f=u.id;return f===void 0&&l.push({message:`layers.${f}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${f}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),l},i.aE=function u(l,f){if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(let h=0;h<l.length;h++)if(!u(l[h],f[h]))return!1;return!0}if(typeof l=="object"&&l!==null&&f!==null){if(typeof f!="object"||Object.keys(l).length!==Object.keys(f).length)return!1;for(let h in l)if(!u(l[h],f[h]))return!1;return!0}return l===f},i.aF=ne,i.aG=de,i.aH=class extends zg{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},i.aI=mM,i.aJ=class extends zg{constructor(u,l){super(u,l),this.current=bXe}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},i.aK=pte,i.aL=dte,i.aM=zn,i.aN=class extends zg{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},i.aO=class extends zg{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},i.aP=function(u,l,f,h,_,w,E){var C=1/(l-f),O=1/(h-_),k=1/(w-E);return u[0]=-2*C,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*O,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*k,u[11]=0,u[12]=(l+f)*C,u[13]=(_+h)*O,u[14]=(E+w)*k,u[15]=1,u},i.aQ=MXe,i.aR=class extends Oe{},i.aS=_Qe,i.aT=class extends Ve{},i.aU=qj,i.aV=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},i.aW=Mte,i.aX=Zo,i.aY=Vl,i.aZ=class extends Qt{},i.a_=function(u,l){return u[0]===l[0]&&u[1]===l[1]&&u[2]===l[2]&&u[3]===l[3]&&u[4]===l[4]&&u[5]===l[5]&&u[6]===l[6]&&u[7]===l[7]&&u[8]===l[8]&&u[9]===l[9]&&u[10]===l[10]&&u[11]===l[11]&&u[12]===l[12]&&u[13]===l[13]&&u[14]===l[14]&&u[15]===l[15]},i.aa=function(u){let l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,h,_,w)=>{let E=_||w;return l[h]=!E||E.toLowerCase(),""}),l["max-age"]){let f=parseInt(l["max-age"],10);isNaN(f)?delete l["max-age"]:l["max-age"]=f}return l},i.ab=function(u,l){let f=[];for(let h in u)h in l||f.push(h);return f},i.ac=B,i.ad=function(u,l,f){var h=Math.sin(f),_=Math.cos(f),w=l[0],E=l[1],C=l[2],O=l[3],k=l[4],z=l[5],U=l[6],Z=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=w*_+k*h,u[1]=E*_+z*h,u[2]=C*_+U*h,u[3]=O*_+Z*h,u[4]=k*_-w*h,u[5]=z*_-E*h,u[6]=U*_-C*h,u[7]=Z*_-O*h,u},i.ae=function(u){var l=new L0(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},i.af=_M,i.ag=function(u,l){let f=0,h=0;if(u.kind==="constant")h=u.layoutSize;else if(u.kind!=="source"){let{interpolationType:_,minZoom:w,maxZoom:E}=u,C=_?B(Ba.interpolationFactor(_,l,w,E),0,1):0;u.kind==="camera"?h=Fa.number(u.minSize,u.maxSize,C):f=C}return{uSizeT:f,uSize:h}},i.ai=function(u,{uSize:l,uSizeT:f},{lowerSize:h,upperSize:_}){return u.kind==="source"?h/ff:u.kind==="composite"?Fa.number(h/ff,_/ff,f):l},i.aj=Jj,i.ak=function(u,l,f,h){let _=l.y-u.y,w=l.x-u.x,E=h.y-f.y,C=h.x-f.x,O=E*w-C*_;if(O===0)return null;let k=(C*(u.y-f.y)-E*(u.x-f.x))/O;return new m(u.x+k*w,u.y+k*_)},i.al=Are,i.am=vte,i.an=Nj,i.ao=function(u){let l=1/0,f=1/0,h=-1/0,_=-1/0;for(let w of u)l=Math.min(l,w.x),f=Math.min(f,w.y),h=Math.max(h,w.x),_=Math.max(_,w.y);return[l,f,h,_]},i.ap=uo,i.ar=Qj,i.as=function(u,l){var f=l[0],h=l[1],_=l[2],w=l[3],E=l[4],C=l[5],O=l[6],k=l[7],z=l[8],U=l[9],Z=l[10],Y=l[11],te=l[12],ie=l[13],fe=l[14],me=l[15],Ue=f*C-h*E,we=f*O-_*E,ze=f*k-w*E,Ye=h*O-_*C,ct=h*k-w*C,jt=_*k-w*O,dr=z*ie-U*te,kt=z*fe-Z*te,Ot=z*me-Y*te,tr=U*fe-Z*ie,Yt=U*me-Y*ie,Ht=Z*me-Y*fe,rt=Ue*Ht-we*Yt+ze*tr+Ye*Ot-ct*kt+jt*dr;return rt?(u[0]=(C*Ht-O*Yt+k*tr)*(rt=1/rt),u[1]=(_*Yt-h*Ht-w*tr)*rt,u[2]=(ie*jt-fe*ct+me*Ye)*rt,u[3]=(Z*ct-U*jt-Y*Ye)*rt,u[4]=(O*Ot-E*Ht-k*kt)*rt,u[5]=(f*Ht-_*Ot+w*kt)*rt,u[6]=(fe*ze-te*jt-me*we)*rt,u[7]=(z*jt-Z*ze+Y*we)*rt,u[8]=(E*Yt-C*Ot+k*dr)*rt,u[9]=(h*Ot-f*Yt-w*dr)*rt,u[10]=(te*ct-ie*ze+me*Ue)*rt,u[11]=(U*ze-z*ct-Y*Ue)*rt,u[12]=(C*kt-E*tr-O*dr)*rt,u[13]=(f*tr-h*kt+_*dr)*rt,u[14]=(ie*we-te*Ye-fe*Ue)*rt,u[15]=(z*Ye-U*we+Z*Ue)*rt,u):null},i.at=sz,i.au=Xj,i.av=lz,i.aw=function(){let u={},l=Te.$version;for(let f in Te.$root){let h=Te.$root[f];if(h.required){let _=null;_=f==="version"?l:h.type==="array"?[]:{},_!=null&&(u[f]=_)}}return u},i.ax=uw,i.ay=he,i.az=function(u){u=u.slice();let l=Object.create(null);for(let f=0;f<u.length;f++)l[u[f].id]=u[f];for(let f=0;f<u.length;f++)"ref"in u[f]&&(u[f]=Vt(u[f],l[u[f].ref]));return u},i.b=$e,i.b0=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},i.b1=function(u,l,f){return u[0]=l[0]*f[0],u[1]=l[1]*f[1],u[2]=l[2]*f[2],u[3]=l[3]*f[3],u},i.b2=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},i.b3=H,i.b4=wre,i.b5=xre,i.b6=function(u,l,f,h,_){var w,E=1/Math.tan(l/2);return u[0]=E/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=E,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+h)*(w=1/(h-_)),u[14]=2*_*h*w):(u[10]=-1,u[14]=-2*h),u},i.b7=function(u,l,f){var h=Math.sin(f),_=Math.cos(f),w=l[4],E=l[5],C=l[6],O=l[7],k=l[8],z=l[9],U=l[10],Z=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=w*_+k*h,u[5]=E*_+z*h,u[6]=C*_+U*h,u[7]=O*_+Z*h,u[8]=k*_-w*h,u[9]=z*_-E*h,u[10]=U*_-C*h,u[11]=Z*_-O*h,u},i.b8=q,i.b9=j,i.bA=Zte,i.bB=function(u){return u.message===et},i.bC=ah,i.bD=Es,i.ba=function(u){return u*Math.PI/180},i.bb=function(u,l){let{x:f,y:h}=Aw.fromLngLat(l);return!(u<0||u>25||h<0||h>=1||f<0||f>=1)},i.bc=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},i.bd=class extends F{},i.be=nz,i.bf=tJe,i.bh=Le,i.bi=function(u,l){Ge.REGISTERED_PROTOCOLS[u]=l},i.bj=function(u){delete Ge.REGISTERED_PROTOCOLS[u]},i.bk=function(u,l){let f={};for(let _=0;_<u.length;_++){let w=l&&l[u[_].id]||nM(u[_]);l&&(l[u[_].id]=w);let E=f[w];E||(E=f[w]=[]),E.push(u[_])}let h=[];for(let _ in f)h.push(f[_]);return h},i.bl=Wt,i.bm=Ere,i.bn=Tre,i.bo=nre,i.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ro/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;let l=u.bucket.layers[0],f=l.layout,h=l._unevaluatedLayout._values,_={layoutIconSize:h["icon-size"].possiblyEvaluate(new di(u.bucket.zoom+1),u.canonical),layoutTextSize:h["text-size"].possiblyEvaluate(new di(u.bucket.zoom+1),u.canonical),textMaxSize:h["text-size"].possiblyEvaluate(new di(18))};if(u.bucket.textSizeData.kind==="composite"){let{minZoom:k,maxZoom:z}=u.bucket.textSizeData;_.compositeTextSizes=[h["text-size"].possiblyEvaluate(new di(k),u.canonical),h["text-size"].possiblyEvaluate(new di(z),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){let{minZoom:k,maxZoom:z}=u.bucket.iconSizeData;_.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new di(k),u.canonical),h["icon-size"].possiblyEvaluate(new di(z),u.canonical)]}let w=f.get("text-line-height")*uo,E=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",C=f.get("text-keep-upright"),O=f.get("text-size");for(let k of u.bucket.features){let z=f.get("text-font").evaluate(k,{},u.canonical).join(","),U=O.evaluate(k,{},u.canonical),Z=_.layoutTextSize.evaluate(k,{},u.canonical),Y=_.layoutIconSize.evaluate(k,{},u.canonical),te={horizontal:{},vertical:void 0},ie=k.text,fe,me=[0,0];if(ie){let ze=ie.toString(),Ye=f.get("text-letter-spacing").evaluate(k,{},u.canonical)*uo,ct=Sj(ze)?Ye:0,jt=f.get("text-anchor").evaluate(k,{},u.canonical),dr=jre(l,k,u.canonical);if(!dr){let Yt=f.get("text-radial-offset").evaluate(k,{},u.canonical);me=Yt?qre(jt,[Yt*uo,az]):f.get("text-offset").evaluate(k,{},u.canonical).map(Ht=>Ht*uo)}let kt=E?"center":f.get("text-justify").evaluate(k,{},u.canonical),Ot=f.get("symbol-placement")==="point"?f.get("text-max-width").evaluate(k,{},u.canonical)*uo:1/0,tr=()=>{u.bucket.allowVerticalPlacement&&cw(ze)&&(te.vertical=IM(ie,u.glyphMap,u.glyphPositions,u.imagePositions,z,Ot,w,jt,"left",ct,me,i.ah.vertical,!0,Z,U))};if(!E&&dr){let Yt=new Set;if(kt==="auto")for(let rt=0;rt<dr.values.length;rt+=2)Yt.add(sz(dr.values[rt]));else Yt.add(kt);let Ht=!1;for(let rt of Yt)if(!te.horizontal[rt])if(Ht)te.horizontal[rt]=te.horizontal[0];else{let nr=IM(ie,u.glyphMap,u.glyphPositions,u.imagePositions,z,Ot,w,"center",rt,ct,me,i.ah.horizontal,!1,Z,U);nr&&(te.horizontal[rt]=nr,Ht=nr.positionedLines.length===1)}tr()}else{kt==="auto"&&(kt=sz(jt));let Yt=IM(ie,u.glyphMap,u.glyphPositions,u.imagePositions,z,Ot,w,jt,kt,ct,me,i.ah.horizontal,!1,Z,U);Yt&&(te.horizontal[kt]=Yt),tr(),cw(ze)&&E&&C&&(te.vertical=IM(ie,u.glyphMap,u.glyphPositions,u.imagePositions,z,Ot,w,jt,kt,ct,me,i.ah.vertical,!1,Z,U))}}let Ue=!1;if(k.icon&&k.icon.name){let ze=u.imageMap[k.icon.name];ze&&(fe=qQe(u.imagePositions[k.icon.name],f.get("icon-offset").evaluate(k,{},u.canonical),f.get("icon-anchor").evaluate(k,{},u.canonical)),Ue=!!ze.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Ue:u.bucket.sdfIcons!==Ue&&Ee("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ze.pixelRatio!==u.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}let we=Fre(te.horizontal)||te.vertical;u.bucket.iconsInText=!!we&&we.iconsInText,(we||fe)&&JQe(u.bucket,k,te,fe,u.imageMap,_,Z,Y,me,Ue,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},i.bq=Hj,i.br=Uj,i.bs=Gj,i.bt=Sh,i.bu=$j,i.bv=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},i.bw=function(u,l,f,h,_){return o(this,void 0,void 0,function*(){if(L())try{return yield je(u,l,f,h,_)}catch(w){}return function(w,E,C,O,k){let z=w.width,U=w.height;Ce&&Xe||(Ce=new OffscreenCanvas(z,U),Xe=Ce.getContext("2d",{willReadFrequently:!0})),Ce.width=z,Ce.height=U,Xe.drawImage(w,0,0,z,U);let Z=Xe.getImageData(E,C,O,k);return Xe.clearRect(0,0,z,U),Z.data}(u,l,f,h,_)})},i.bx=Sre,i.by=a,i.bz=c,i.c=st,i.d=u=>o(void 0,void 0,void 0,function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));let l=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(l)}catch(f){throw new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.e=Q,i.f=u=>new Promise((l,f)=>{let h=new Image;h.onload=()=>{l(h),URL.revokeObjectURL(h.src),h.onload=null,window.requestAnimationFrame(()=>{h.src=Fe})},h.onerror=()=>f(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let _=new Blob([new Uint8Array(u)],{type:"image/png"});h.src=u.byteLength?URL.createObjectURL(_):Fe}),i.g=Ke,i.h=(u,l)=>Be(Q(u,{type:"json"}),l),i.i=Ie,i.j=bt,i.k=xt,i.l=(u,l)=>Be(Q(u,{type:"arrayBuffer"}),l),i.m=Be,i.n=function(u){return new $j(u).readFields(OQe,[])},i.o=_w,i.p=rre,i.q=b,i.r=bj,i.s=Me,i.t=sw,i.u=Op,i.v=Te,i.w=Ee,i.x=function([u,l,f]){return l+=90,l*=Math.PI/180,f*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(f),y:u*Math.sin(l)*Math.sin(f),z:u*Math.cos(f)}},i.y=Fa,i.z=di}),r("worker",["./shared"],function(i){"use strict";class o{constructor($){this.keyCache={},$&&this.replace($)}replace($){this._layerConfigs={},this._layers={},this.update($,[])}update($,W){for(let se of $){this._layerConfigs[se.id]=se;let _e=this._layers[se.id]=i.aA(se);_e._featureFilter=i.a7(_e.filter),this.keyCache[se.id]&&delete this.keyCache[se.id]}for(let se of W)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};let K=i.bk(Object.values(this._layerConfigs),this.keyCache);for(let se of K){let _e=se.map(He=>this._layers[He.id]),Se=_e[0];if(Se.visibility==="none")continue;let Pe=Se.source||"",ve=this.familiesBySource[Pe];ve||(ve=this.familiesBySource[Pe]={});let Ze=Se.sourceLayer||"_geojsonTileLayer",ot=ve[Ze];ot||(ot=ve[Ze]=[]),ot.push(_e)}}}class a{constructor($){let W={},K=[];for(let Pe in $){let ve=$[Pe],Ze=W[Pe]={};for(let ot in ve){let He=ve[+ot];if(!He||He.bitmap.width===0||He.bitmap.height===0)continue;let gt={x:0,y:0,w:He.bitmap.width+2,h:He.bitmap.height+2};K.push(gt),Ze[ot]={rect:gt,metrics:He.metrics}}}let{w:se,h:_e}=i.p(K),Se=new i.o({width:se||1,height:_e||1});for(let Pe in $){let ve=$[Pe];for(let Ze in ve){let ot=ve[+Ze];if(!ot||ot.bitmap.width===0||ot.bitmap.height===0)continue;let He=W[Pe][Ze].rect;i.o.copy(ot.bitmap,Se,{x:0,y:0},{x:He.x+1,y:He.y+1},ot.bitmap)}}this.image=Se,this.positions=W}}i.bl("GlyphAtlas",a);class c{constructor($){this.tileID=new i.S($.tileID.overscaledZ,$.tileID.wrap,$.tileID.canonical.z,$.tileID.canonical.x,$.tileID.canonical.y),this.uid=$.uid,this.zoom=$.zoom,this.pixelRatio=$.pixelRatio,this.tileSize=$.tileSize,this.source=$.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=$.showCollisionBoxes,this.collectResourceTiming=!!$.collectResourceTiming,this.returnDependencies=!!$.returnDependencies,this.promoteId=$.promoteId,this.inFlightDependencies=[]}parse($,W,K,se){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=$,this.collisionBoxArray=new i.a5;let _e=new i.bm(Object.keys($.layers).sort()),Se=new i.bn(this.tileID,this.promoteId);Se.bucketLayerIDs=[];let Pe={},ve={featureIndex:Se,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:K},Ze=W.familiesBySource[this.source];for(let Gr in Ze){let jn=$.layers[Gr];if(!jn)continue;jn.version===1&&i.w(`Vector tile source "${this.source}" layer "${Gr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let Si=_e.encode(Gr),Eo=[];for(let Lo=0;Lo<jn.length;Lo++){let fa=jn.feature(Lo),Yd=Se.getId(fa,Gr);Eo.push({feature:fa,id:Yd,index:Lo,sourceLayerIndex:Si})}for(let Lo of Ze[Gr]){let fa=Lo[0];fa.source!==this.source&&i.w(`layer.source = ${fa.source} does not equal this.source = ${this.source}`),fa.minzoom&&this.zoom<Math.floor(fa.minzoom)||fa.maxzoom&&this.zoom>=fa.maxzoom||fa.visibility!=="none"&&(p(Lo,this.zoom,K),(Pe[fa.id]=fa.createBucket({index:Se.bucketLayerIDs.length,layers:Lo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Si,sourceID:this.source})).populate(Eo,ve,this.tileID.canonical),Se.bucketLayerIDs.push(Lo.map(Yd=>Yd.id)))}}let ot=i.aF(ve.glyphDependencies,Gr=>Object.keys(Gr).map(Number));this.inFlightDependencies.forEach(Gr=>Gr==null?void 0:Gr.abort()),this.inFlightDependencies=[];let He=Promise.resolve({});if(Object.keys(ot).length){let Gr=new AbortController;this.inFlightDependencies.push(Gr),He=se.sendAsync({type:"GG",data:{stacks:ot,source:this.source,tileID:this.tileID,type:"glyphs"}},Gr)}let gt=Object.keys(ve.iconDependencies),Kt=Promise.resolve({});if(gt.length){let Gr=new AbortController;this.inFlightDependencies.push(Gr),Kt=se.sendAsync({type:"GI",data:{icons:gt,source:this.source,tileID:this.tileID,type:"icons"}},Gr)}let fr=Object.keys(ve.patternDependencies),gn=Promise.resolve({});if(fr.length){let Gr=new AbortController;this.inFlightDependencies.push(Gr),gn=se.sendAsync({type:"GI",data:{icons:fr,source:this.source,tileID:this.tileID,type:"patterns"}},Gr)}let[Dr,vn,rn]=yield Promise.all([He,Kt,gn]),eo=new a(Dr),Li=new i.bo(vn,rn);for(let Gr in Pe){let jn=Pe[Gr];jn instanceof i.a6?(p(jn.layers,this.zoom,K),i.bp({bucket:jn,glyphMap:Dr,glyphPositions:eo.positions,imageMap:vn,imagePositions:Li.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):jn.hasPattern&&(jn instanceof i.bq||jn instanceof i.br||jn instanceof i.bs)&&(p(jn.layers,this.zoom,K),jn.addFeatures(ve,this.tileID.canonical,Li.patternPositions))}return this.status="done",{buckets:Object.values(Pe).filter(Gr=>!Gr.isEmpty()),featureIndex:Se,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:eo.image,imageAtlas:Li,glyphMap:this.returnDependencies?Dr:null,iconMap:this.returnDependencies?vn:null,glyphPositions:this.returnDependencies?eo.positions:null}})}}function p(ae,$,W){let K=new i.z($);for(let se of ae)se.recalculate(K,W)}class m{constructor($,W,K){this.actor=$,this.layerIndex=W,this.availableImages=K,this.fetching={},this.loading={},this.loaded={}}loadVectorTile($,W){return i._(this,void 0,void 0,function*(){let K=yield i.l($.request,W);try{return{vectorTile:new i.bt.VectorTile(new i.bu(K.data)),rawData:K.data,cacheControl:K.cacheControl,expires:K.expires}}catch(se){let _e=new Uint8Array(K.data),Se=`Unable to parse the tile at ${$.request.url}, `;throw Se+=_e[0]===31&&_e[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${se.message}`,new Error(Se)}})}loadTile($){return i._(this,void 0,void 0,function*(){let W=$.uid,K=!!($&&$.request&&$.request.collectResourceTiming)&&new i.bv($.request),se=new c($);this.loading[W]=se;let _e=new AbortController;se.abort=_e;try{let Se=yield this.loadVectorTile($,_e);if(delete this.loading[W],!Se)return null;let Pe=Se.rawData,ve={};Se.expires&&(ve.expires=Se.expires),Se.cacheControl&&(ve.cacheControl=Se.cacheControl);let Ze={};if(K){let He=K.finish();He&&(Ze.resourceTiming=JSON.parse(JSON.stringify(He)))}se.vectorTile=Se.vectorTile;let ot=se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[W]=se,this.fetching[W]={rawTileData:Pe,cacheControl:ve,resourceTiming:Ze};try{let He=yield ot;return i.e({rawTileData:Pe.slice(0)},He,ve,Ze)}finally{delete this.fetching[W]}}catch(Se){throw delete this.loading[W],se.status="done",this.loaded[W]=se,Se}})}reloadTile($){return i._(this,void 0,void 0,function*(){let W=$.uid;if(!this.loaded||!this.loaded[W])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let K=this.loaded[W];if(K.showCollisionBoxes=$.showCollisionBoxes,K.status==="parsing"){let se=yield K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor),_e;if(this.fetching[W]){let{rawTileData:Se,cacheControl:Pe,resourceTiming:ve}=this.fetching[W];delete this.fetching[W],_e=i.e({rawTileData:Se.slice(0)},se,Pe,ve)}else _e=se;return _e}if(K.status==="done"&&K.vectorTile)return K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile($){return i._(this,void 0,void 0,function*(){let W=this.loading,K=$.uid;W&&W[K]&&W[K].abort&&(W[K].abort.abort(),delete W[K])})}removeTile($){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[$.uid]&&delete this.loaded[$.uid]})}}class g{constructor(){this.loaded={}}loadTile($){return i._(this,void 0,void 0,function*(){let{uid:W,encoding:K,rawImageData:se,redFactor:_e,greenFactor:Se,blueFactor:Pe,baseShift:ve}=$,Ze=se.width+2,ot=se.height+2,He=i.b(se)?new i.R({width:Ze,height:ot},(yield i.bw(se,-1,-1,Ze,ot))):se,gt=new i.bx(W,He,K,_e,Se,Pe,ve);return this.loaded=this.loaded||{},this.loaded[W]=gt,gt})}removeTile($){let W=this.loaded,K=$.uid;W&&W[K]&&delete W[K]}}function S(ae,$){if(ae.length!==0){I(ae[0],$);for(var W=1;W<ae.length;W++)I(ae[W],!$)}}function I(ae,$){for(var W=0,K=0,se=0,_e=ae.length,Se=_e-1;se<_e;Se=se++){var Pe=(ae[se][0]-ae[Se][0])*(ae[Se][1]+ae[se][1]),ve=W+Pe;K+=Math.abs(W)>=Math.abs(Pe)?W-ve+Pe:Pe-ve+W,W=ve}W+K>=0!=!!$&&ae.reverse()}var M=i.by(function ae($,W){var K,se=$&&$.type;if(se==="FeatureCollection")for(K=0;K<$.features.length;K++)ae($.features[K],W);else if(se==="GeometryCollection")for(K=0;K<$.geometries.length;K++)ae($.geometries[K],W);else if(se==="Feature")ae($.geometry,W);else if(se==="Polygon")S($.coordinates,W);else if(se==="MultiPolygon")for(K=0;K<$.coordinates.length;K++)S($.coordinates[K],W);return $});let P=i.bt.VectorTileFeature.prototype.toGeoJSON;var N={exports:{}},L=i.bz,q=i.bt.VectorTileFeature,j=B;function B(ae,$){this.options=$||{},this.features=ae,this.length=ae.length}function H(ae,$){this.id=typeof ae.id=="number"?ae.id:void 0,this.type=ae.type,this.rawGeometry=ae.type===1?[ae.geometry]:ae.geometry,this.properties=ae.tags,this.extent=$||4096}B.prototype.feature=function(ae){return new H(this.features[ae],this.options.extent)},H.prototype.loadGeometry=function(){var ae=this.rawGeometry;this.geometry=[];for(var $=0;$<ae.length;$++){for(var W=ae[$],K=[],se=0;se<W.length;se++)K.push(new L(W[se][0],W[se][1]));this.geometry.push(K)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ae=this.geometry,$=1/0,W=-1/0,K=1/0,se=-1/0,_e=0;_e<ae.length;_e++)for(var Se=ae[_e],Pe=0;Pe<Se.length;Pe++){var ve=Se[Pe];$=Math.min($,ve.x),W=Math.max(W,ve.x),K=Math.min(K,ve.y),se=Math.max(se,ve.y)}return[$,K,W,se]},H.prototype.toGeoJSON=q.prototype.toGeoJSON;var Q=i.bA,ee=j;function ne(ae){var $=new Q;return function(W,K){for(var se in W.layers)K.writeMessage(3,de,W.layers[se])}(ae,$),$.finish()}function de(ae,$){var W;$.writeVarintField(15,ae.version||1),$.writeStringField(1,ae.name||""),$.writeVarintField(5,ae.extent||4096);var K={keys:[],values:[],keycache:{},valuecache:{}};for(W=0;W<ae.length;W++)K.feature=ae.feature(W),$.writeMessage(2,ue,K);var se=K.keys;for(W=0;W<se.length;W++)$.writeStringField(3,se[W]);var _e=K.values;for(W=0;W<_e.length;W++)$.writeMessage(4,We,_e[W])}function ue(ae,$){var W=ae.feature;W.id!==void 0&&$.writeVarintField(1,W.id),$.writeMessage(2,be,ae),$.writeVarintField(3,W.type),$.writeMessage(4,Ie,W)}function be(ae,$){var W=ae.feature,K=ae.keys,se=ae.values,_e=ae.keycache,Se=ae.valuecache;for(var Pe in W.properties){var ve=W.properties[Pe],Ze=_e[Pe];if(ve!==null){Ze===void 0&&(K.push(Pe),_e[Pe]=Ze=K.length-1),$.writeVarint(Ze);var ot=typeof ve;ot!=="string"&&ot!=="boolean"&&ot!=="number"&&(ve=JSON.stringify(ve));var He=ot+":"+ve,gt=Se[He];gt===void 0&&(se.push(ve),Se[He]=gt=se.length-1),$.writeVarint(gt)}}}function Ee(ae,$){return($<<3)+(7&ae)}function Re(ae){return ae<<1^ae>>31}function Ie(ae,$){for(var W=ae.loadGeometry(),K=ae.type,se=0,_e=0,Se=W.length,Pe=0;Pe<Se;Pe++){var ve=W[Pe],Ze=1;K===1&&(Ze=ve.length),$.writeVarint(Ee(1,Ze));for(var ot=K===3?ve.length-1:ve.length,He=0;He<ot;He++){He===1&&K!==1&&$.writeVarint(Ee(2,ot-1));var gt=ve[He].x-se,Kt=ve[He].y-_e;$.writeVarint(Re(gt)),$.writeVarint(Re(Kt)),se+=gt,_e+=Kt}K===3&&$.writeVarint(Ee(7,1))}}function We(ae,$){var W=typeof ae;W==="string"?$.writeStringField(1,ae):W==="boolean"?$.writeBooleanField(7,ae):W==="number"&&(ae%1!=0?$.writeDoubleField(3,ae):ae<0?$.writeSVarintField(6,ae):$.writeVarintField(5,ae))}N.exports=ne,N.exports.fromVectorTileJs=ne,N.exports.fromGeojsonVt=function(ae,$){$=$||{};var W={};for(var K in ae)W[K]=new ee(ae[K].features,$),W[K].name=K,W[K].version=$.version,W[K].extent=$.extent;return ne({layers:W})},N.exports.GeoJSONWrapper=ee;var $e=i.by(N.exports);let Fe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ae=>ae},je=Math.fround||(Ce=new Float32Array(1),ae=>(Ce[0]=+ae,Ce[0]));var Ce;let Xe=3,et=5,st=6;class Ge{constructor($){this.options=Object.assign(Object.create(Fe),$),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load($){let{log:W,minZoom:K,maxZoom:se}=this.options;W&&console.time("total time");let _e=`prepare ${$.length} points`;W&&console.time(_e),this.points=$;let Se=[];for(let ve=0;ve<$.length;ve++){let Ze=$[ve];if(!Ze.geometry)continue;let[ot,He]=Ze.geometry.coordinates,gt=je(Le(ot)),Kt=je(he(He));Se.push(gt,Kt,1/0,ve,-1,1),this.options.reduce&&Se.push(0)}let Pe=this.trees[se+1]=this._createTree(Se);W&&console.timeEnd(_e);for(let ve=se;ve>=K;ve--){let Ze=+Date.now();Pe=this.trees[ve]=this._createTree(this._cluster(Pe,ve)),W&&console.log("z%d: %d clusters in %dms",ve,Pe.numItems,+Date.now()-Ze)}return W&&console.timeEnd("total time"),this}getClusters($,W){let K=(($[0]+180)%360+360)%360-180,se=Math.max(-90,Math.min(90,$[1])),_e=$[2]===180?180:(($[2]+180)%360+360)%360-180,Se=Math.max(-90,Math.min(90,$[3]));if($[2]-$[0]>=360)K=-180,_e=180;else if(K>_e){let He=this.getClusters([K,se,180,Se],W),gt=this.getClusters([-180,se,_e,Se],W);return He.concat(gt)}let Pe=this.trees[this._limitZoom(W)],ve=Pe.range(Le(K),he(Se),Le(_e),he(se)),Ze=Pe.data,ot=[];for(let He of ve){let gt=this.stride*He;ot.push(Ze[gt+et]>1?Ke(Ze,gt,this.clusterProps):this.points[Ze[gt+Xe]])}return ot}getChildren($){let W=this._getOriginId($),K=this._getOriginZoom($),se="No cluster with the specified id.",_e=this.trees[K];if(!_e)throw new Error(se);let Se=_e.data;if(W*this.stride>=Se.length)throw new Error(se);let Pe=this.options.radius/(this.options.extent*Math.pow(2,K-1)),ve=_e.within(Se[W*this.stride],Se[W*this.stride+1],Pe),Ze=[];for(let ot of ve){let He=ot*this.stride;Se[He+4]===$&&Ze.push(Se[He+et]>1?Ke(Se,He,this.clusterProps):this.points[Se[He+Xe]])}if(Ze.length===0)throw new Error(se);return Ze}getLeaves($,W,K){let se=[];return this._appendLeaves(se,$,W=W||10,K=K||0,0),se}getTile($,W,K){let se=this.trees[this._limitZoom($)],_e=Math.pow(2,$),{extent:Se,radius:Pe}=this.options,ve=Pe/Se,Ze=(K-ve)/_e,ot=(K+1+ve)/_e,He={features:[]};return this._addTileFeatures(se.range((W-ve)/_e,Ze,(W+1+ve)/_e,ot),se.data,W,K,_e,He),W===0&&this._addTileFeatures(se.range(1-ve/_e,Ze,1,ot),se.data,_e,K,_e,He),W===_e-1&&this._addTileFeatures(se.range(0,Ze,ve/_e,ot),se.data,-1,K,_e,He),He.features.length?He:null}getClusterExpansionZoom($){let W=this._getOriginZoom($)-1;for(;W<=this.options.maxZoom;){let K=this.getChildren($);if(W++,K.length!==1)break;$=K[0].properties.cluster_id}return W}_appendLeaves($,W,K,se,_e){let Se=this.getChildren(W);for(let Pe of Se){let ve=Pe.properties;if(ve&&ve.cluster?_e+ve.point_count<=se?_e+=ve.point_count:_e=this._appendLeaves($,ve.cluster_id,K,se,_e):_e<se?_e++:$.push(Pe),$.length===K)break}return _e}_createTree($){let W=new i.av($.length/this.stride|0,this.options.nodeSize,Float32Array);for(let K=0;K<$.length;K+=this.stride)W.add($[K],$[K+1]);return W.finish(),W.data=$,W}_addTileFeatures($,W,K,se,_e,Se){for(let Pe of $){let ve=Pe*this.stride,Ze=W[ve+et]>1,ot,He,gt;if(Ze)ot=it(W,ve,this.clusterProps),He=W[ve],gt=W[ve+1];else{let gn=this.points[W[ve+Xe]];ot=gn.properties;let[Dr,vn]=gn.geometry.coordinates;He=Le(Dr),gt=he(vn)}let Kt={type:1,geometry:[[Math.round(this.options.extent*(He*_e-K)),Math.round(this.options.extent*(gt*_e-se))]],tags:ot},fr;fr=Ze||this.options.generateId?W[ve+Xe]:this.points[W[ve+Xe]].id,fr!==void 0&&(Kt.id=fr),Se.features.push(Kt)}}_limitZoom($){return Math.max(this.options.minZoom,Math.min(Math.floor(+$),this.options.maxZoom+1))}_cluster($,W){let{radius:K,extent:se,reduce:_e,minPoints:Se}=this.options,Pe=K/(se*Math.pow(2,W)),ve=$.data,Ze=[],ot=this.stride;for(let He=0;He<ve.length;He+=ot){if(ve[He+2]<=W)continue;ve[He+2]=W;let gt=ve[He],Kt=ve[He+1],fr=$.within(ve[He],ve[He+1],Pe),gn=ve[He+et],Dr=gn;for(let vn of fr){let rn=vn*ot;ve[rn+2]>W&&(Dr+=ve[rn+et])}if(Dr>gn&&Dr>=Se){let vn,rn=gt*gn,eo=Kt*gn,Li=-1,Gr=((He/ot|0)<<5)+(W+1)+this.points.length;for(let jn of fr){let Si=jn*ot;if(ve[Si+2]<=W)continue;ve[Si+2]=W;let Eo=ve[Si+et];rn+=ve[Si]*Eo,eo+=ve[Si+1]*Eo,ve[Si+4]=Gr,_e&&(vn||(vn=this._map(ve,He,!0),Li=this.clusterProps.length,this.clusterProps.push(vn)),_e(vn,this._map(ve,Si)))}ve[He+4]=Gr,Ze.push(rn/Dr,eo/Dr,1/0,Gr,-1,Dr),_e&&Ze.push(Li)}else{for(let vn=0;vn<ot;vn++)Ze.push(ve[He+vn]);if(Dr>1)for(let vn of fr){let rn=vn*ot;if(!(ve[rn+2]<=W)){ve[rn+2]=W;for(let eo=0;eo<ot;eo++)Ze.push(ve[rn+eo])}}}}return Ze}_getOriginId($){return $-this.points.length>>5}_getOriginZoom($){return($-this.points.length)%32}_map($,W,K){if($[W+et]>1){let Se=this.clusterProps[$[W+st]];return K?Object.assign({},Se):Se}let se=this.points[$[W+Xe]].properties,_e=this.options.map(se);return K&&_e===se?Object.assign({},_e):_e}}function Ke(ae,$,W){return{type:"Feature",id:ae[$+Xe],properties:it(ae,$,W),geometry:{type:"Point",coordinates:[(K=ae[$],360*(K-.5)),Be(ae[$+1])]}};var K}function it(ae,$,W){let K=ae[$+et],se=K>=1e4?`${Math.round(K/1e3)}k`:K>=1e3?Math.round(K/100)/10+"k":K,_e=ae[$+st],Se=_e===-1?{}:Object.assign({},W[_e]);return Object.assign(Se,{cluster:!0,cluster_id:ae[$+Xe],point_count:K,point_count_abbreviated:se})}function Le(ae){return ae/360+.5}function he(ae){let $=Math.sin(ae*Math.PI/180),W=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return W<0?0:W>1?1:W}function Be(ae){let $=(180-360*ae)*Math.PI/180;return 360*Math.atan(Math.exp($))/Math.PI-90}function Me(ae,$,W,K){let se=K,_e=$+(W-$>>1),Se,Pe=W-$,ve=ae[$],Ze=ae[$+1],ot=ae[W],He=ae[W+1];for(let gt=$+3;gt<W;gt+=3){let Kt=tt(ae[gt],ae[gt+1],ve,Ze,ot,He);if(Kt>se)Se=gt,se=Kt;else if(Kt===se){let fr=Math.abs(gt-_e);fr<Pe&&(Se=gt,Pe=fr)}}se>K&&(Se-$>3&&Me(ae,$,Se,K),ae[Se+2]=se,W-Se>3&&Me(ae,Se,W,K))}function tt(ae,$,W,K,se,_e){let Se=se-W,Pe=_e-K;if(Se!==0||Pe!==0){let ve=((ae-W)*Se+($-K)*Pe)/(Se*Se+Pe*Pe);ve>1?(W=se,K=_e):ve>0&&(W+=Se*ve,K+=Pe*ve)}return Se=ae-W,Pe=$-K,Se*Se+Pe*Pe}function Je(ae,$,W,K){let se={id:ae==null?null:ae,type:$,geometry:W,tags:K,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if($==="Point"||$==="MultiPoint"||$==="LineString")xt(se,W);else if($==="Polygon")xt(se,W[0]);else if($==="MultiLineString")for(let _e of W)xt(se,_e);else if($==="MultiPolygon")for(let _e of W)xt(se,_e[0]);return se}function xt(ae,$){for(let W=0;W<$.length;W+=3)ae.minX=Math.min(ae.minX,$[W]),ae.minY=Math.min(ae.minY,$[W+1]),ae.maxX=Math.max(ae.maxX,$[W]),ae.maxY=Math.max(ae.maxY,$[W+1])}function bt(ae,$,W,K){if(!$.geometry)return;let se=$.geometry.coordinates;if(se&&se.length===0)return;let _e=$.geometry.type,Se=Math.pow(W.tolerance/((1<<W.maxZoom)*W.extent),2),Pe=[],ve=$.id;if(W.promoteId?ve=$.properties[W.promoteId]:W.generateId&&(ve=K||0),_e==="Point")yt(se,Pe);else if(_e==="MultiPoint")for(let Ze of se)yt(Ze,Pe);else if(_e==="LineString")Te(se,Pe,Se,!1);else if(_e==="MultiLineString"){if(W.lineMetrics){for(let Ze of se)Pe=[],Te(Ze,Pe,Se,!1),ae.push(Je(ve,"LineString",Pe,$.properties));return}pt(se,Pe,Se,!1)}else if(_e==="Polygon")pt(se,Pe,Se,!0);else{if(_e!=="MultiPolygon"){if(_e==="GeometryCollection"){for(let Ze of $.geometry.geometries)bt(ae,{id:ve,geometry:Ze,properties:$.properties},W,K);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Ze of se){let ot=[];pt(Ze,ot,Se,!0),Pe.push(ot)}}ae.push(Je(ve,_e,Pe,$.properties))}function yt(ae,$){$.push(Vt(ae[0]),dt(ae[1]),0)}function Te(ae,$,W,K){let se,_e,Se=0;for(let ve=0;ve<ae.length;ve++){let Ze=Vt(ae[ve][0]),ot=dt(ae[ve][1]);$.push(Ze,ot,0),ve>0&&(Se+=K?(se*ot-Ze*_e)/2:Math.sqrt(Math.pow(Ze-se,2)+Math.pow(ot-_e,2))),se=Ze,_e=ot}let Pe=$.length-3;$[2]=1,Me($,0,Pe,W),$[Pe+2]=1,$.size=Math.abs(Se),$.start=0,$.end=$.size}function pt(ae,$,W,K){for(let se=0;se<ae.length;se++){let _e=[];Te(ae[se],_e,W,K),$.push(_e)}}function Vt(ae){return ae/360+.5}function dt(ae){let $=Math.sin(ae*Math.PI/180),W=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return W<0?0:W>1?1:W}function Zt(ae,$,W,K,se,_e,Se,Pe){if(K/=$,_e>=(W/=$)&&Se<K)return ae;if(Se<W||_e>=K)return null;let ve=[];for(let Ze of ae){let ot=Ze.geometry,He=Ze.type,gt=se===0?Ze.minX:Ze.minY,Kt=se===0?Ze.maxX:Ze.maxY;if(gt>=W&&Kt<K){ve.push(Ze);continue}if(Kt<W||gt>=K)continue;let fr=[];if(He==="Point"||He==="MultiPoint")ur(ot,fr,W,K,se);else if(He==="LineString")Gt(ot,fr,W,K,se,!1,Pe.lineMetrics);else if(He==="MultiLineString")Wr(ot,fr,W,K,se,!1);else if(He==="Polygon")Wr(ot,fr,W,K,se,!0);else if(He==="MultiPolygon")for(let gn of ot){let Dr=[];Wr(gn,Dr,W,K,se,!0),Dr.length&&fr.push(Dr)}if(fr.length){if(Pe.lineMetrics&&He==="LineString"){for(let gn of fr)ve.push(Je(Ze.id,He,gn,Ze.tags));continue}He!=="LineString"&&He!=="MultiLineString"||(fr.length===1?(He="LineString",fr=fr[0]):He="MultiLineString"),He!=="Point"&&He!=="MultiPoint"||(He=fr.length===3?"Point":"MultiPoint"),ve.push(Je(Ze.id,He,fr,Ze.tags))}}return ve.length?ve:null}function ur(ae,$,W,K,se){for(let _e=0;_e<ae.length;_e+=3){let Se=ae[_e+se];Se>=W&&Se<=K&&$r($,ae[_e],ae[_e+1],ae[_e+2])}}function Gt(ae,$,W,K,se,_e,Se){let Pe=pr(ae),ve=se===0?cr:pn,Ze,ot,He=ae.start;for(let Dr=0;Dr<ae.length-3;Dr+=3){let vn=ae[Dr],rn=ae[Dr+1],eo=ae[Dr+2],Li=ae[Dr+3],Gr=ae[Dr+4],jn=se===0?vn:rn,Si=se===0?Li:Gr,Eo=!1;Se&&(Ze=Math.sqrt(Math.pow(vn-Li,2)+Math.pow(rn-Gr,2))),jn<W?Si>W&&(ot=ve(Pe,vn,rn,Li,Gr,W),Se&&(Pe.start=He+Ze*ot)):jn>K?Si<K&&(ot=ve(Pe,vn,rn,Li,Gr,K),Se&&(Pe.start=He+Ze*ot)):$r(Pe,vn,rn,eo),Si<W&&jn>=W&&(ot=ve(Pe,vn,rn,Li,Gr,W),Eo=!0),Si>K&&jn<=K&&(ot=ve(Pe,vn,rn,Li,Gr,K),Eo=!0),!_e&&Eo&&(Se&&(Pe.end=He+Ze*ot),$.push(Pe),Pe=pr(ae)),Se&&(He+=Ze)}let gt=ae.length-3,Kt=ae[gt],fr=ae[gt+1],gn=se===0?Kt:fr;gn>=W&&gn<=K&&$r(Pe,Kt,fr,ae[gt+2]),gt=Pe.length-3,_e&&gt>=3&&(Pe[gt]!==Pe[0]||Pe[gt+1]!==Pe[1])&&$r(Pe,Pe[0],Pe[1],Pe[2]),Pe.length&&$.push(Pe)}function pr(ae){let $=[];return $.size=ae.size,$.start=ae.start,$.end=ae.end,$}function Wr(ae,$,W,K,se,_e){for(let Se of ae)Gt(Se,$,W,K,se,_e,!1)}function $r(ae,$,W,K){ae.push($,W,K)}function cr(ae,$,W,K,se,_e){let Se=(_e-$)/(K-$);return $r(ae,_e,W+(se-W)*Se,1),Se}function pn(ae,$,W,K,se,_e){let Se=(_e-W)/(se-W);return $r(ae,$+(K-$)*Se,_e,1),Se}function ut(ae,$){let W=[];for(let K=0;K<ae.length;K++){let se=ae[K],_e=se.type,Se;if(_e==="Point"||_e==="MultiPoint"||_e==="LineString")Se=Pi(se.geometry,$);else if(_e==="MultiLineString"||_e==="Polygon"){Se=[];for(let Pe of se.geometry)Se.push(Pi(Pe,$))}else if(_e==="MultiPolygon"){Se=[];for(let Pe of se.geometry){let ve=[];for(let Ze of Pe)ve.push(Pi(Ze,$));Se.push(ve)}}W.push(Je(se.id,_e,Se,se.tags))}return W}function Pi(ae,$){let W=[];W.size=ae.size,ae.start!==void 0&&(W.start=ae.start,W.end=ae.end);for(let K=0;K<ae.length;K+=3)W.push(ae[K]+$,ae[K+1],ae[K+2]);return W}function kn(ae,$){if(ae.transformed)return ae;let W=1<<ae.z,K=ae.x,se=ae.y;for(let _e of ae.features){let Se=_e.geometry,Pe=_e.type;if(_e.geometry=[],Pe===1)for(let ve=0;ve<Se.length;ve+=2)_e.geometry.push(Zs(Se[ve],Se[ve+1],$,W,K,se));else for(let ve=0;ve<Se.length;ve++){let Ze=[];for(let ot=0;ot<Se[ve].length;ot+=2)Ze.push(Zs(Se[ve][ot],Se[ve][ot+1],$,W,K,se));_e.geometry.push(Ze)}}return ae.transformed=!0,ae}function Zs(ae,$,W,K,se,_e){return[Math.round(W*(ae*K-se)),Math.round(W*($*K-_e))]}function gu(ae,$,W,K,se){let _e=$===se.maxZoom?0:se.tolerance/((1<<$)*se.extent),Se={features:[],numPoints:0,numSimplified:0,numFeatures:ae.length,source:null,x:W,y:K,z:$,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Pe of ae)Et(Se,Pe,_e,se);return Se}function Et(ae,$,W,K){let se=$.geometry,_e=$.type,Se=[];if(ae.minX=Math.min(ae.minX,$.minX),ae.minY=Math.min(ae.minY,$.minY),ae.maxX=Math.max(ae.maxX,$.maxX),ae.maxY=Math.max(ae.maxY,$.maxY),_e==="Point"||_e==="MultiPoint")for(let Pe=0;Pe<se.length;Pe+=3)Se.push(se[Pe],se[Pe+1]),ae.numPoints++,ae.numSimplified++;else if(_e==="LineString")Nr(Se,se,ae,W,!1,!1);else if(_e==="MultiLineString"||_e==="Polygon")for(let Pe=0;Pe<se.length;Pe++)Nr(Se,se[Pe],ae,W,_e==="Polygon",Pe===0);else if(_e==="MultiPolygon")for(let Pe=0;Pe<se.length;Pe++){let ve=se[Pe];for(let Ze=0;Ze<ve.length;Ze++)Nr(Se,ve[Ze],ae,W,!0,Ze===0)}if(Se.length){let Pe=$.tags||null;if(_e==="LineString"&&K.lineMetrics){Pe={};for(let Ze in $.tags)Pe[Ze]=$.tags[Ze];Pe.mapbox_clip_start=se.start/se.size,Pe.mapbox_clip_end=se.end/se.size}let ve={geometry:Se,type:_e==="Polygon"||_e==="MultiPolygon"?3:_e==="LineString"||_e==="MultiLineString"?2:1,tags:Pe};$.id!==null&&(ve.id=$.id),ae.features.push(ve)}}function Nr(ae,$,W,K,se,_e){let Se=K*K;if(K>0&&$.size<(se?Se:K))return void(W.numPoints+=$.length/3);let Pe=[];for(let ve=0;ve<$.length;ve+=3)(K===0||$[ve+2]>Se)&&(W.numSimplified++,Pe.push($[ve],$[ve+1])),W.numPoints++;se&&function(ve,Ze){let ot=0;for(let He=0,gt=ve.length,Kt=gt-2;He<gt;Kt=He,He+=2)ot+=(ve[He]-ve[Kt])*(ve[He+1]+ve[Kt+1]);if(ot>0===Ze)for(let He=0,gt=ve.length;He<gt/2;He+=2){let Kt=ve[He],fr=ve[He+1];ve[He]=ve[gt-2-He],ve[He+1]=ve[gt-1-He],ve[gt-2-He]=Kt,ve[gt-1-He]=fr}}(Pe,_e),ae.push(Pe)}let gr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Ho{constructor($,W){let K=(W=this.options=function(_e,Se){for(let Pe in Se)_e[Pe]=Se[Pe];return _e}(Object.create(gr),W)).debug;if(K&&console.time("preprocess data"),W.maxZoom<0||W.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(W.promoteId&&W.generateId)throw new Error("promoteId and generateId cannot be used together.");let se=function(_e,Se){let Pe=[];if(_e.type==="FeatureCollection")for(let ve=0;ve<_e.features.length;ve++)bt(Pe,_e.features[ve],Se,ve);else bt(Pe,_e.type==="Feature"?_e:{geometry:_e},Se);return Pe}($,W);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",W.indexMaxZoom,W.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(_e,Se){let Pe=Se.buffer/Se.extent,ve=_e,Ze=Zt(_e,1,-1-Pe,Pe,0,-1,2,Se),ot=Zt(_e,1,1-Pe,2+Pe,0,-1,2,Se);return(Ze||ot)&&(ve=Zt(_e,1,-Pe,1+Pe,0,-1,2,Se)||[],Ze&&(ve=ut(Ze,1).concat(ve)),ot&&(ve=ve.concat(ut(ot,-1)))),ve}(se,W),se.length&&this.splitTile(se,0,0,0),K&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile($,W,K,se,_e,Se,Pe){let ve=[$,W,K,se],Ze=this.options,ot=Ze.debug;for(;ve.length;){se=ve.pop(),K=ve.pop(),W=ve.pop(),$=ve.pop();let He=1<<W,gt=_s(W,K,se),Kt=this.tiles[gt];if(!Kt&&(ot>1&&console.time("creation"),Kt=this.tiles[gt]=gu($,W,K,se,Ze),this.tileCoords.push({z:W,x:K,y:se}),ot)){ot>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",W,K,se,Kt.numFeatures,Kt.numPoints,Kt.numSimplified),console.timeEnd("creation"));let Eo=`z${W}`;this.stats[Eo]=(this.stats[Eo]||0)+1,this.total++}if(Kt.source=$,_e==null){if(W===Ze.indexMaxZoom||Kt.numPoints<=Ze.indexMaxPoints)continue}else{if(W===Ze.maxZoom||W===_e)continue;if(_e!=null){let Eo=_e-W;if(K!==Se>>Eo||se!==Pe>>Eo)continue}}if(Kt.source=null,$.length===0)continue;ot>1&&console.time("clipping");let fr=.5*Ze.buffer/Ze.extent,gn=.5-fr,Dr=.5+fr,vn=1+fr,rn=null,eo=null,Li=null,Gr=null,jn=Zt($,He,K-fr,K+Dr,0,Kt.minX,Kt.maxX,Ze),Si=Zt($,He,K+gn,K+vn,0,Kt.minX,Kt.maxX,Ze);$=null,jn&&(rn=Zt(jn,He,se-fr,se+Dr,1,Kt.minY,Kt.maxY,Ze),eo=Zt(jn,He,se+gn,se+vn,1,Kt.minY,Kt.maxY,Ze),jn=null),Si&&(Li=Zt(Si,He,se-fr,se+Dr,1,Kt.minY,Kt.maxY,Ze),Gr=Zt(Si,He,se+gn,se+vn,1,Kt.minY,Kt.maxY,Ze),Si=null),ot>1&&console.timeEnd("clipping"),ve.push(rn||[],W+1,2*K,2*se),ve.push(eo||[],W+1,2*K,2*se+1),ve.push(Li||[],W+1,2*K+1,2*se),ve.push(Gr||[],W+1,2*K+1,2*se+1)}}getTile($,W,K){$=+$,W=+W,K=+K;let se=this.options,{extent:_e,debug:Se}=se;if($<0||$>24)return null;let Pe=1<<$,ve=_s($,W=W+Pe&Pe-1,K);if(this.tiles[ve])return kn(this.tiles[ve],_e);Se>1&&console.log("drilling down to z%d-%d-%d",$,W,K);let Ze,ot=$,He=W,gt=K;for(;!Ze&&ot>0;)ot--,He>>=1,gt>>=1,Ze=this.tiles[_s(ot,He,gt)];return Ze&&Ze.source?(Se>1&&(console.log("found parent tile z%d-%d-%d",ot,He,gt),console.time("drilling down")),this.splitTile(Ze.source,ot,He,gt,$,W,K),Se>1&&console.timeEnd("drilling down"),this.tiles[ve]?kn(this.tiles[ve],_e):null):null}}function _s(ae,$,W){return 32*((1<<ae)*W+$)+ae}function Ae(ae,$){return $?ae.properties[$]:ae.id}function qe(ae,$){if(ae==null)return!0;if(ae.type==="Feature")return Ae(ae,$)!=null;if(ae.type==="FeatureCollection"){let W=new Set;for(let K of ae.features){let se=Ae(K,$);if(se==null||W.has(se))return!1;W.add(se)}return!0}return!1}function ft(ae,$){let W=new Map;if(ae!=null)if(ae.type==="Feature")W.set(Ae(ae,$),ae);else for(let K of ae.features)W.set(Ae(K,$),K);return W}class Rt extends m{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile($,W){return i._(this,void 0,void 0,function*(){let K=$.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let se=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!se)return null;let _e=new class{constructor(Pe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.X,this.length=Pe.length,this._features=Pe}feature(Pe){return new class{constructor(ve){this._feature=ve,this.extent=i.X,this.type=ve.type,this.properties=ve.tags,"id"in ve&&!isNaN(ve.id)&&(this.id=parseInt(ve.id,10))}loadGeometry(){if(this._feature.type===1){let ve=[];for(let Ze of this._feature.geometry)ve.push([new i.P(Ze[0],Ze[1])]);return ve}{let ve=[];for(let Ze of this._feature.geometry){let ot=[];for(let He of Ze)ot.push(new i.P(He[0],He[1]));ve.push(ot)}return ve}}toGeoJSON(ve,Ze,ot){return P.call(this,ve,Ze,ot)}}(this._features[Pe])}}(se.features),Se=$e(_e);return Se.byteOffset===0&&Se.byteLength===Se.buffer.byteLength||(Se=new Uint8Array(Se)),{vectorTile:_e,rawData:Se.buffer}})}loadData($){return i._(this,void 0,void 0,function*(){var W;(W=this._pendingRequest)===null||W===void 0||W.abort();let K=!!($&&$.request&&$.request.collectResourceTiming)&&new i.bv($.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON($,this._pendingRequest),this._geoJSONIndex=$.cluster?new Ge(function({superclusterOptions:Se,clusterProperties:Pe}){if(!Pe||!Se)return Se;let ve={},Ze={},ot={accumulated:null,zoom:0},He={properties:null},gt=Object.keys(Pe);for(let Kt of gt){let[fr,gn]=Pe[Kt],Dr=i.bC(gn),vn=i.bC(typeof fr=="string"?[fr,["accumulated"],["get",Kt]]:fr);ve[Kt]=Dr.value,Ze[Kt]=vn.value}return Se.map=Kt=>{He.properties=Kt;let fr={};for(let gn of gt)fr[gn]=ve[gn].evaluate(ot,He);return fr},Se.reduce=(Kt,fr)=>{He.properties=fr;for(let gn of gt)ot.accumulated=Kt[gn],Kt[gn]=Ze[gn].evaluate(ot,He)},Se}($)).load((yield this._pendingData).features):(se=yield this._pendingData,new Ho(se,$.geojsonVtOptions)),this.loaded={};let _e={};if(K){let Se=K.finish();Se&&(_e.resourceTiming={},_e.resourceTiming[$.source]=JSON.parse(JSON.stringify(Se)))}return _e}catch(_e){if(delete this._pendingRequest,i.bB(_e))return{abandoned:!0};throw _e}var se})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile($){let W=this.loaded;return W&&W[$.uid]?super.reloadTile($):this.loadTile($)}loadAndProcessGeoJSON($,W){return i._(this,void 0,void 0,function*(){let K=yield this.loadGeoJSON($,W);if(delete this._pendingRequest,typeof K!="object")throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`);if(M(K,!0),$.filter){let se=i.bC($.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(se.result==="error")throw new Error(se.value.map(Se=>`${Se.key}: ${Se.message}`).join(", "));K={type:"FeatureCollection",features:K.features.filter(Se=>se.value.evaluate({zoom:0},Se))}}return K})}loadGeoJSON($,W){return i._(this,void 0,void 0,function*(){let{promoteId:K}=$;if($.request){let se=yield i.h($.request,W);return this._dataUpdateable=qe(se.data,K)?ft(se.data,K):void 0,se.data}if(typeof $.data=="string")try{let se=JSON.parse($.data);return this._dataUpdateable=qe(se,K)?ft(se,K):void 0,se}catch(se){throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`)}if(!$.dataDiff)throw new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${$.source}`);return function(se,_e,Se){var Pe,ve,Ze,ot;if(_e.removeAll&&se.clear(),_e.remove)for(let He of _e.remove)se.delete(He);if(_e.add)for(let He of _e.add){let gt=Ae(He,Se);gt!=null&&se.set(gt,He)}if(_e.update)for(let He of _e.update){let gt=se.get(He.id);if(gt==null)continue;let Kt=!He.removeAllProperties&&(((Pe=He.removeProperties)===null||Pe===void 0?void 0:Pe.length)>0||((ve=He.addOrUpdateProperties)===null||ve===void 0?void 0:ve.length)>0);if((He.newGeometry||He.removeAllProperties||Kt)&&(gt=Object.assign({},gt),se.set(He.id,gt),Kt&&(gt.properties=Object.assign({},gt.properties))),He.newGeometry&&(gt.geometry=He.newGeometry),He.removeAllProperties)gt.properties={};else if(((Ze=He.removeProperties)===null||Ze===void 0?void 0:Ze.length)>0)for(let fr of He.removeProperties)Object.prototype.hasOwnProperty.call(gt.properties,fr)&&delete gt.properties[fr];if(((ot=He.addOrUpdateProperties)===null||ot===void 0?void 0:ot.length)>0)for(let{key:fr,value:gn}of He.addOrUpdateProperties)gt.properties[fr]=gn}}(this._dataUpdateable,$.dataDiff,K),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource($){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom($){return this._geoJSONIndex.getClusterExpansionZoom($.clusterId)}getClusterChildren($){return this._geoJSONIndex.getChildren($.clusterId)}getClusterLeaves($){return this._geoJSONIndex.getLeaves($.clusterId,$.limit,$.offset)}}class Nt{constructor($){this.self=$,this.actor=new i.F($),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(W,K)=>{if(this.externalWorkerSourceTypes[W])throw new Error(`Worker source with name "${W}" already registered.`);this.externalWorkerSourceTypes[W]=K},this.self.addProtocol=i.bi,this.self.removeProtocol=i.bj,this.self.registerRTLTextPlugin=W=>{if(i.bD.isParsed())throw new Error("RTL text plugin already registered.");i.bD.setMethods(W)},this.actor.registerMessageHandler("LDT",(W,K)=>this._getDEMWorkerSource(W,K.source).loadTile(K)),this.actor.registerMessageHandler("RDT",(W,K)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource(W,K.source).removeTile(K)})),this.actor.registerMessageHandler("GCEZ",(W,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(W,K.type,K.source).getClusterExpansionZoom(K)})),this.actor.registerMessageHandler("GCC",(W,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(W,K.type,K.source).getClusterChildren(K)})),this.actor.registerMessageHandler("GCL",(W,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(W,K.type,K.source).getClusterLeaves(K)})),this.actor.registerMessageHandler("LD",(W,K)=>this._getWorkerSource(W,K.type,K.source).loadData(K)),this.actor.registerMessageHandler("GD",(W,K)=>this._getWorkerSource(W,K.type,K.source).getData()),this.actor.registerMessageHandler("LT",(W,K)=>this._getWorkerSource(W,K.type,K.source).loadTile(K)),this.actor.registerMessageHandler("RT",(W,K)=>this._getWorkerSource(W,K.type,K.source).reloadTile(K)),this.actor.registerMessageHandler("AT",(W,K)=>this._getWorkerSource(W,K.type,K.source).abortTile(K)),this.actor.registerMessageHandler("RMT",(W,K)=>this._getWorkerSource(W,K.type,K.source).removeTile(K)),this.actor.registerMessageHandler("RS",(W,K)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[W]||!this.workerSources[W][K.type]||!this.workerSources[W][K.type][K.source])return;let se=this.workerSources[W][K.type][K.source];delete this.workerSources[W][K.type][K.source],se.removeSource!==void 0&&se.removeSource(K)})),this.actor.registerMessageHandler("RM",W=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[W],delete this.availableImages[W],delete this.workerSources[W],delete this.demWorkerSources[W]})),this.actor.registerMessageHandler("SR",(W,K)=>i._(this,void 0,void 0,function*(){this.referrer=K})),this.actor.registerMessageHandler("SRPS",(W,K)=>this._syncRTLPluginState(W,K)),this.actor.registerMessageHandler("IS",(W,K)=>i._(this,void 0,void 0,function*(){this.self.importScripts(K)})),this.actor.registerMessageHandler("SI",(W,K)=>this._setImages(W,K)),this.actor.registerMessageHandler("UL",(W,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(W).update(K.layers,K.removedIds)})),this.actor.registerMessageHandler("SL",(W,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(W).replace(K)}))}_setImages($,W){return i._(this,void 0,void 0,function*(){this.availableImages[$]=W;for(let K in this.workerSources[$]){let se=this.workerSources[$][K];for(let _e in se)se[_e].availableImages=W}})}_syncRTLPluginState($,W){return i._(this,void 0,void 0,function*(){if(i.bD.isParsed())return i.bD.getState();if(W.pluginStatus!=="loading")return i.bD.setState(W),W;let K=W.pluginURL;if(this.self.importScripts(K),i.bD.isParsed()){let se={pluginStatus:"loaded",pluginURL:K};return i.bD.setState(se),se}throw i.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${K}`)})}_getAvailableImages($){let W=this.availableImages[$];return W||(W=[]),W}_getLayerIndex($){let W=this.layerIndexes[$];return W||(W=this.layerIndexes[$]=new o),W}_getWorkerSource($,W,K){if(this.workerSources[$]||(this.workerSources[$]={}),this.workerSources[$][W]||(this.workerSources[$][W]={}),!this.workerSources[$][W][K]){let se={sendAsync:(_e,Se)=>(_e.targetMapId=$,this.actor.sendAsync(_e,Se))};switch(W){case"vector":this.workerSources[$][W][K]=new m(se,this._getLayerIndex($),this._getAvailableImages($));break;case"geojson":this.workerSources[$][W][K]=new Rt(se,this._getLayerIndex($),this._getAvailableImages($));break;default:this.workerSources[$][W][K]=new this.externalWorkerSourceTypes[W](se,this._getLayerIndex($),this._getAvailableImages($));}}return this.workerSources[$][W][K]}_getDEMWorkerSource($,W){return this.demWorkerSources[$]||(this.demWorkerSources[$]={}),this.demWorkerSources[$][W]||(this.demWorkerSources[$][W]=new g),this.demWorkerSources[$][W]}}return i.i(self)&&(self.worker=new Nt(self)),Nt}),r("index",["exports","./shared"],function(i,o){"use strict";var a="4.7.0";let c,p,m={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:b=>new Promise((s,d)=>{let v=requestAnimationFrame(s);b.signal.addEventListener("abort",()=>{cancelAnimationFrame(v),d(o.c())})}),getImageData(b,s=0){return this.getImageCanvasContext(b).getImageData(-s,-s,b.width+2*s,b.height+2*s)},getImageCanvasContext(b){let s=window.document.createElement("canvas"),d=s.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return s.width=b.width,s.height=b.height,d.drawImage(b,0,0,b.width,b.height),d},resolveURL:b=>(c||(c=document.createElement("a")),c.href=b,c.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(p==null&&(p=matchMedia("(prefers-reduced-motion: reduce)")),p.matches)}};class g{static testProp(s){if(!g.docStyle)return s[0];for(let d=0;d<s.length;d++)if(s[d]in g.docStyle)return s[d];return s[0]}static create(s,d,v){let y=window.document.createElement(s);return d!==void 0&&(y.className=d),v&&v.appendChild(y),y}static createNS(s,d){return window.document.createElementNS(s,d)}static disableDrag(){g.docStyle&&g.selectProp&&(g.userSelect=g.docStyle[g.selectProp],g.docStyle[g.selectProp]="none")}static enableDrag(){g.docStyle&&g.selectProp&&(g.docStyle[g.selectProp]=g.userSelect)}static setTransform(s,d){s.style[g.transformProp]=d}static addEventListener(s,d,v,y={}){s.addEventListener(d,v,"passive"in y?y:y.capture)}static removeEventListener(s,d,v,y={}){s.removeEventListener(d,v,"passive"in y?y:y.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",g.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",g.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",g.suppressClickInternal,!0)},0)}static getScale(s){let d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}static getPoint(s,d,v){let y=d.boundingClientRect;return new o.P((v.clientX-y.left)/d.x-s.clientLeft,(v.clientY-y.top)/d.y-s.clientTop)}static mousePos(s,d){let v=g.getScale(s);return g.getPoint(s,v,d)}static touchPos(s,d){let v=[],y=g.getScale(s);for(let x=0;x<d.length;x++)v.push(g.getPoint(s,y,d[x]));return v}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}}g.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,g.selectProp=g.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),g.transformProp=g.testProp(["transform","WebkitTransform"]);let S={supported:!1,testSupport:function(b){!P&&M&&(N?L(b):I=b)}},I,M,P=!1,N=!1;function L(b){let s=b.createTexture();b.bindTexture(b.TEXTURE_2D,s);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,M),b.isContextLost())return;S.supported=!0}catch(d){}b.deleteTexture(s),P=!0}var q;typeof document!="undefined"&&(M=document.createElement("img"),M.onload=()=>{I&&L(I),I=null,N=!0},M.onerror=()=>{P=!0,I=null},M.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(b){let s,d,v,y;b.resetRequestQueue=()=>{s=[],d=0,v=0,y={}},b.addThrottleControl=R=>{let F=v++;return y[F]=R,F},b.removeThrottleControl=R=>{delete y[R],A()},b.getImage=(R,F,V=!0)=>new Promise((G,X)=>{S.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),o.e(R,{type:"image"}),s.push({abortController:F,requestParameters:R,supportImageRefresh:V,state:"queued",onError:oe=>{X(oe)},onSuccess:oe=>{G(oe)}}),A()});let x=R=>o._(this,void 0,void 0,function*(){R.state="running";let{requestParameters:F,supportImageRefresh:V,onError:G,onSuccess:X,abortController:oe}=R,le=V===!1&&!o.i(self)&&!o.g(F.url)&&(!F.headers||Object.keys(F.headers).reduce((ye,xe)=>ye&&xe==="accept",!0));d++;let pe=le?D(F,oe):o.m(F,oe);try{let ye=yield pe;delete R.abortController,R.state="completed",ye.data instanceof HTMLImageElement||o.b(ye.data)?X(ye):ye.data&&X({data:yield(ge=ye.data,typeof createImageBitmap=="function"?o.d(ge):o.f(ge)),cacheControl:ye.cacheControl,expires:ye.expires})}catch(ye){delete R.abortController,G(ye)}finally{d--,A()}var ge}),A=()=>{let R=(()=>{for(let F of Object.keys(y))if(y[F]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let F=d;F<R&&s.length>0;F++){let V=s.shift();V.abortController.signal.aborted?F--:x(V)}},D=(R,F)=>new Promise((V,G)=>{let X=new Image,oe=R.url,le=R.credentials;le&&le==="include"?X.crossOrigin="use-credentials":(le&&le==="same-origin"||!o.s(oe))&&(X.crossOrigin="anonymous"),F.signal.addEventListener("abort",()=>{X.src="",G(o.c())}),X.fetchPriority="high",X.onload=()=>{X.onerror=X.onload=null,V({data:X})},X.onerror=()=>{X.onerror=X.onload=null,F.signal.aborted||G(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},X.src=oe})}(q||(q={})),q.resetRequestQueue();class j{constructor(s){this._transformRequestFn=s}transformRequest(s,d){return this._transformRequestFn&&this._transformRequestFn(s,d)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function B(b){var s=new o.A(3);return s[0]=b[0],s[1]=b[1],s[2]=b[2],s}var H,Q=function(b,s,d){return b[0]=s[0]-d[0],b[1]=s[1]-d[1],b[2]=s[2]-d[2],b};H=new o.A(3),o.A!=Float32Array&&(H[0]=0,H[1]=0,H[2]=0);var ee=function(b){var s=b[0],d=b[1];return s*s+d*d};function ne(b){let s=[];if(typeof b=="string")s.push({id:"default",url:b});else if(b&&b.length>0){let d=[];for(let{id:v,url:y}of b){let x=`${v}${y}`;d.indexOf(x)===-1&&(d.push(x),s.push({id:v,url:y}))}}return s}function de(b,s,d){let v=b.split("?");return v[0]+=`${s}${d}`,v.join("?")}(function(){var b=new o.A(2);o.A!=Float32Array&&(b[0]=0,b[1]=0)})();class ue{constructor(s,d,v,y){this.context=s,this.format=v,this.texture=s.gl.createTexture(),this.update(d,y)}update(s,d,v){let{width:y,height:x}=s,A=!(this.size&&this.size[0]===y&&this.size[1]===x||v),{context:D}=this,{gl:R}=D;if(this.useMipmap=!!(d&&d.useMipmap),R.bindTexture(R.TEXTURE_2D,this.texture),D.pixelStoreUnpackFlipY.set(!1),D.pixelStoreUnpack.set(1),D.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!d||d.premultiply!==!1)),A)this.size=[y,x],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||o.b(s)?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,s):R.texImage2D(R.TEXTURE_2D,0,this.format,y,x,0,this.format,R.UNSIGNED_BYTE,s.data);else{let{x:F,y:V}=v||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||o.b(s)?R.texSubImage2D(R.TEXTURE_2D,0,F,V,R.RGBA,R.UNSIGNED_BYTE,s):R.texSubImage2D(R.TEXTURE_2D,0,F,V,y,x,R.RGBA,R.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&R.generateMipmap(R.TEXTURE_2D)}bind(s,d,v){let{context:y}=this,{gl:x}=y;x.bindTexture(x.TEXTURE_2D,this.texture),v!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=x.LINEAR),s!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,s),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,v||s),this.filter=s),d!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,d),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}function be(b){let{userImage:s}=b;return!!(s&&s.render&&s.render())&&(b.data.replace(new Uint8Array(s.data.buffer)),!0)}class Ee extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(let{ids:d,promiseResolve:v}of this.requestors)v(this._getImagesForIds(d));this.requestors=[]}}getImage(s){let d=this.images[s];if(d&&!d.data&&d.spriteData){let v=d.spriteData;d.data=new o.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),d.spriteData=null}return d}addImage(s,d){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,d)&&(this.images[s]=d)}_validate(s,d){let v=!0,y=d.data||d.spriteData;return this._validateStretch(d.stretchX,y&&y.width)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "stretchX" value`))),v=!1),this._validateStretch(d.stretchY,y&&y.height)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "stretchY" value`))),v=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${s}" has invalid "content" value`))),v=!1),v}_validateStretch(s,d){if(!s)return!0;let v=0;for(let y of s){if(y[0]<v||y[1]<y[0]||d<y[1])return!1;v=y[1]}return!0}_validateContent(s,d){if(!s)return!0;if(s.length!==4)return!1;let v=d.spriteData,y=v&&v.width||d.data.width,x=v&&v.height||d.data.height;return!(s[0]<0||y<s[0]||s[1]<0||x<s[1]||s[2]<0||y<s[2]||s[3]<0||x<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,d,v=!0){let y=this.getImage(s);if(v&&(y.data.width!==d.data.width||y.data.height!==d.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=y.version+1,this.images[s]=d,this.updatedImages[s]=!0}removeImage(s){let d=this.images[s];delete this.images[s],delete this.patterns[s],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise((d,v)=>{let y=!0;if(!this.isLoaded())for(let x of s)this.images[x]||(y=!1);this.isLoaded()||y?d(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:d})})}_getImagesForIds(s){let d={};for(let v of s){let y=this.getImage(v);y||(this.fire(new o.k("styleimagemissing",{id:v})),y=this.getImage(v)),y?d[v]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,textFitWidth:y.textFitWidth,textFitHeight:y.textFitHeight,hasRenderCallback:!!(y.userImage&&y.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){let{width:s,height:d}=this.atlasImage;return{width:s,height:d}}getPattern(s){let d=this.patterns[s],v=this.getImage(s);if(!v)return null;if(d&&d.position.version===v.version)return d.position;if(d)d.position.version=v.version;else{let y={w:v.data.width+2,h:v.data.height+2,x:0,y:0},x=new o.I(y,v);this.patterns[s]={bin:y,position:x}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){let d=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ue(s,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){let s=[];for(let x in this.patterns)s.push(this.patterns[x].bin);let{w:d,h:v}=o.p(s),y=this.atlasImage;y.resize({width:d||1,height:v||1});for(let x in this.patterns){let{bin:A}=this.patterns[x],D=A.x+1,R=A.y+1,F=this.getImage(x).data,V=F.width,G=F.height;o.R.copy(F,y,{x:0,y:0},{x:D,y:R},{width:V,height:G}),o.R.copy(F,y,{x:0,y:G-1},{x:D,y:R-1},{width:V,height:1}),o.R.copy(F,y,{x:0,y:0},{x:D,y:R+G},{width:V,height:1}),o.R.copy(F,y,{x:V-1,y:0},{x:D-1,y:R},{width:1,height:G}),o.R.copy(F,y,{x:0,y:0},{x:D+V,y:R},{width:1,height:G})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(let d of s){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;let v=this.getImage(d);v||o.w(`Image with ID: "${d}" was not found`),be(v)&&this.updateImage(d,v)}}}let Re=1e20;function Ie(b,s,d,v,y,x,A,D,R){for(let F=s;F<s+v;F++)We(b,d*x+F,x,y,A,D,R);for(let F=d;F<d+y;F++)We(b,F*x+s,1,v,A,D,R)}function We(b,s,d,v,y,x,A){x[0]=0,A[0]=-Re,A[1]=Re,y[0]=b[s];for(let D=1,R=0,F=0;D<v;D++){y[D]=b[s+D*d];let V=D*D;do{let G=x[R];F=(y[D]-y[G]+V-G*G)/(D-G)/2}while(F<=A[R]&&--R>-1);R++,x[R]=D,A[R]=F,A[R+1]=Re}for(let D=0,R=0;D<v;D++){for(;A[R+1]<D;)R++;let F=x[R],V=D-F;b[s+D*d]=y[F]+V*V}}class $e{constructor(s,d){this.requestManager=s,this.localIdeographFontFamily=d,this.entries={}}setURL(s){this.url=s}getGlyphs(s){return o._(this,void 0,void 0,function*(){let d=[];for(let x in s)for(let A of s[x])d.push(this._getAndCacheGlyphsPromise(x,A));let v=yield Promise.all(d),y={};for(let{stack:x,id:A,glyph:D}of v)y[x]||(y[x]={}),y[x][A]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics};return y})}_getAndCacheGlyphsPromise(s,d){return o._(this,void 0,void 0,function*(){let v=this.entries[s];v||(v=this.entries[s]={glyphs:{},requests:{},ranges:{}});let y=v.glyphs[d];if(y!==void 0)return{stack:s,id:d,glyph:y};if(y=this._tinySDF(v,s,d),y)return v.glyphs[d]=y,{stack:s,id:d,glyph:y};let x=Math.floor(d/256);if(256*x>65535)throw new Error("glyphs > 65535 not supported");if(v.ranges[x])return{stack:s,id:d,glyph:y};if(!this.url)throw new Error("glyphsUrl is not set");if(!v.requests[x]){let D=$e.loadGlyphRange(s,x,this.url,this.requestManager);v.requests[x]=D}let A=yield v.requests[x];for(let D in A)this._doesCharSupportLocalGlyph(+D)||(v.glyphs[+D]=A[+D]);return v.ranges[x]=!0,{stack:s,id:d,glyph:A[d]||null}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(s))}_tinySDF(s,d,v){let y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(v))return;let x=s.tinySDF;if(!x){let D="400";/bold/i.test(d)?D="900":/medium/i.test(d)?D="500":/light/i.test(d)&&(D="200"),x=s.tinySDF=new $e.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:y,fontWeight:D})}let A=x.draw(String.fromCharCode(v));return{id:v,bitmap:new o.o({width:A.width||60,height:A.height||60},A.data),metrics:{width:A.glyphWidth/2||24,height:A.glyphHeight/2||24,left:A.glyphLeft/2+.5||0,top:A.glyphTop/2-27.5||-8,advance:A.glyphAdvance/2||24,isDoubleResolution:!0}}}}$e.loadGlyphRange=function(b,s,d,v){return o._(this,void 0,void 0,function*(){let y=256*s,x=y+255,A=v.transformRequest(d.replace("{fontstack}",b).replace("{range}",`${y}-${x}`),"Glyphs"),D=yield o.l(A,new AbortController);if(!D||!D.data)throw new Error(`Could not load glyph range. range: ${s}, ${y}-${x}`);let R={};for(let F of o.n(D.data))R[F.id]=F;return R})},$e.TinySDF=class{constructor({fontSize:b=24,buffer:s=3,radius:d=8,cutoff:v=.25,fontFamily:y="sans-serif",fontWeight:x="normal",fontStyle:A="normal"}={}){this.buffer=s,this.cutoff=v,this.radius=d;let D=this.size=b+4*s,R=this._createCanvas(D),F=this.ctx=R.getContext("2d",{willReadFrequently:!0});F.font=`${A} ${x} ${b}px ${y}`,F.textBaseline="alphabetic",F.textAlign="left",F.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Uint16Array(D)}_createCanvas(b){let s=document.createElement("canvas");return s.width=s.height=b,s}draw(b){let{width:s,actualBoundingBoxAscent:d,actualBoundingBoxDescent:v,actualBoundingBoxLeft:y,actualBoundingBoxRight:x}=this.ctx.measureText(b),A=Math.ceil(d),D=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-y))),R=Math.min(this.size-this.buffer,A+Math.ceil(v)),F=D+2*this.buffer,V=R+2*this.buffer,G=Math.max(F*V,0),X=new Uint8ClampedArray(G),oe={data:X,width:F,height:V,glyphWidth:D,glyphHeight:R,glyphTop:A,glyphLeft:0,glyphAdvance:s};if(D===0||R===0)return oe;let{ctx:le,buffer:pe,gridInner:ge,gridOuter:ye}=this;le.clearRect(pe,pe,D,R),le.fillText(b,pe,pe+A);let xe=le.getImageData(pe,pe,D,R);ye.fill(Re,0,G),ge.fill(0,0,G);for(let ce=0;ce<R;ce++)for(let Oe=0;Oe<D;Oe++){let ke=xe.data[4*(ce*D+Oe)+3]/255;if(ke===0)continue;let Ve=(ce+pe)*F+Oe+pe;if(ke===1)ye[Ve]=0,ge[Ve]=Re;else{let at=.5-ke;ye[Ve]=at>0?at*at:0,ge[Ve]=at<0?at*at:0}}Ie(ye,0,0,F,V,F,this.f,this.v,this.z),Ie(ge,pe,pe,D,R,F,this.f,this.v,this.z);for(let ce=0;ce<G;ce++){let Oe=Math.sqrt(ye[ce])-Math.sqrt(ge[ce]);X[ce]=Math.round(255-255*(Oe/this.radius+this.cutoff))}return oe}};class Fe{constructor(){this.specification=o.v.light.position}possiblyEvaluate(s,d){return o.x(s.expression.evaluate(d))}interpolate(s,d,v){return{x:o.y.number(s.x,d.x,v),y:o.y.number(s.y,d.y,v),z:o.y.number(s.z,d.z,v)}}}let je;class Ce extends o.E{constructor(s){super(),je=je||new o.q({anchor:new o.D(o.v.light.anchor),position:new Fe,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(je),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,d={}){if(!this._validate(o.r,s,d))for(let v in s){let y=s[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),y):this._transitionable.setValue(v,y)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,v){return(!v||v.validate!==!1)&&o.t(this,s.call(o.u,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let Xe=new o.q({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class et extends o.E{constructor(s){super(),this._transitionable=new o.T(Xe),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.z(0))}setSky(s,d={}){if(!this._validate(o.B,s,d)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let v in s){let y=s[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),y):this._transitionable.setValue(v,y)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,v={}){return(v==null?void 0:v.validate)!==!1&&o.t(this,s.call(o.u,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class st{constructor(s,d){this.width=s,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,d){let v=s.join(",")+String(d);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(s,d)),this.dashEntry[v]}getDashRanges(s,d,v){let y=[],x=s.length%2==1?-s[s.length-1]*v:0,A=s[0]*v,D=!0;y.push({left:x,right:A,isDash:D,zeroLength:s[0]===0});let R=s[0];for(let F=1;F<s.length;F++){D=!D;let V=s[F];x=R*v,R+=V,A=R*v,y.push({left:x,right:A,isDash:D,zeroLength:V===0})}return y}addRoundDash(s,d,v){let y=d/2;for(let x=-v;x<=v;x++){let A=this.width*(this.nextRow+v+x),D=0,R=s[D];for(let F=0;F<this.width;F++){F/R.right>1&&(R=s[++D]);let V=Math.abs(F-R.left),G=Math.abs(F-R.right),X=Math.min(V,G),oe,le=x/v*(y+1);if(R.isDash){let pe=y-Math.abs(le);oe=Math.sqrt(X*X+pe*pe)}else oe=y-Math.sqrt(X*X+le*le);this.data[A+F]=Math.max(0,Math.min(255,oe+128))}}}addRegularDash(s){for(let D=s.length-1;D>=0;--D){let R=s[D],F=s[D+1];R.zeroLength?s.splice(D,1):F&&F.isDash===R.isDash&&(F.left=R.left,s.splice(D,1))}let d=s[0],v=s[s.length-1];d.isDash===v.isDash&&(d.left=v.left-this.width,v.right=d.right+this.width);let y=this.width*this.nextRow,x=0,A=s[x];for(let D=0;D<this.width;D++){D/A.right>1&&(A=s[++x]);let R=Math.abs(D-A.left),F=Math.abs(D-A.right),V=Math.min(R,F);this.data[y+D]=Math.max(0,Math.min(255,(A.isDash?V:-V)+128))}}addDash(s,d){let v=d?7:0,y=2*v+1;if(this.nextRow+y>this.height)return o.w("LineAtlas out of space"),null;let x=0;for(let D=0;D<s.length;D++)x+=s[D];if(x!==0){let D=this.width/x,R=this.getDashRanges(s,this.width,D);d?this.addRoundDash(R,D,v):this.addRegularDash(R)}let A={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:x};return this.nextRow+=y,this.dirty=!0,A}bind(s){let d=s.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}let Ge="maplibre_preloaded_worker_pool";class Ke{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Ke.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ge]}numActive(){return Object.keys(this.active).length}}let it=Math.floor(m.hardwareConcurrency/2),Le,he;function Be(){return Le||(Le=new Ke),Le}Ke.workerCount=o.C(globalThis)?Math.max(Math.min(it,3),1):1;class Me{constructor(s,d){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=d;let v=this.workerPool.acquire(d);for(let y=0;y<v.length;y++){let x=new o.F(v[y],d);x.name=`Worker ${y}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,d){let v=[];for(let y of this.actors)v.push(y.sendAsync({type:s,data:d}));return Promise.all(v)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,d){for(let v of this.actors)v.registerMessageHandler(s,d)}}function tt(){return he||(he=new Me(Be(),o.G),he.registerMessageHandler("GR",(b,s,d)=>o.m(s,d))),he}function Je(b,s){let d=o.H();return o.J(d,d,[1,1,0]),o.K(d,d,[.5*b.width,.5*b.height,1]),o.L(d,d,b.calculatePosMatrix(s.toUnwrapped()))}function xt(b,s,d,v,y,x){let A=function(G,X,oe){if(G)for(let le of G){let pe=X[le];if(pe&&pe.source===oe&&pe.type==="fill-extrusion")return!0}else for(let le in X){let pe=X[le];if(pe.source===oe&&pe.type==="fill-extrusion")return!0}return!1}(y&&y.layers,s,b.id),D=x.maxPitchScaleFactor(),R=b.tilesIn(v,D,A);R.sort(bt);let F=[];for(let G of R)F.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(s,d,b._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,y,x,D,Je(b.transform,G.tileID))});let V=function(G){let X={},oe={};for(let le of G){let pe=le.queryResults,ge=le.wrappedTileID,ye=oe[ge]=oe[ge]||{};for(let xe in pe){let ce=pe[xe],Oe=ye[xe]=ye[xe]||{},ke=X[xe]=X[xe]||[];for(let Ve of ce)Oe[Ve.featureIndex]||(Oe[Ve.featureIndex]=!0,ke.push(Ve))}}return X}(F);for(let G in V)V[G].forEach(X=>{let oe=X.feature,le=b.getFeatureState(oe.layer["source-layer"],oe.id);oe.source=oe.layer.source,oe.layer["source-layer"]&&(oe.sourceLayer=oe.layer["source-layer"]),oe.state=le});return V}function bt(b,s){let d=b.tileID,v=s.tileID;return d.overscaledZ-v.overscaledZ||d.canonical.y-v.canonical.y||d.wrap-v.wrap||d.canonical.x-v.canonical.x}function yt(b,s,d){return o._(this,void 0,void 0,function*(){let v=b;if(b.url?v=(yield o.h(s.transformRequest(b.url,"Source"),d)).data:yield m.frameAsync(d),!v)return null;let y=o.M(o.e(v,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in v&&v.vector_layers&&(y.vectorLayerIds=v.vector_layers.map(x=>x.id)),y})}class Te{constructor(s,d){s&&(d?this.setSouthWest(s).setNorthEast(d):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof o.N?new o.N(s.lng,s.lat):o.N.convert(s),this}setSouthWest(s){return this._sw=s instanceof o.N?new o.N(s.lng,s.lat):o.N.convert(s),this}extend(s){let d=this._sw,v=this._ne,y,x;if(s instanceof o.N)y=s,x=s;else{if(!(s instanceof Te))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(Te.convert(s)):this.extend(o.N.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(o.N.convert(s)):this;if(y=s._sw,x=s._ne,!y||!x)return this}return d||v?(d.lng=Math.min(y.lng,d.lng),d.lat=Math.min(y.lat,d.lat),v.lng=Math.max(x.lng,v.lng),v.lat=Math.max(x.lat,v.lat)):(this._sw=new o.N(y.lng,y.lat),this._ne=new o.N(x.lng,x.lat)),this}getCenter(){return new o.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.N(this.getWest(),this.getNorth())}getSouthEast(){return new o.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){let{lng:d,lat:v}=o.N.convert(s),y=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&y}static convert(s){return s instanceof Te?s:s&&new Te(s)}static fromLngLat(s,d=0){let v=360*d/40075017,y=v/Math.cos(Math.PI/180*s.lat);return new Te(new o.N(s.lng-y,s.lat-v),new o.N(s.lng+y,s.lat+v))}adjustAntiMeridian(){let s=new o.N(this._sw.lng,this._sw.lat),d=new o.N(this._ne.lng,this._ne.lat);return new Te(s,s.lng>d.lng?new o.N(d.lng+360,d.lat):d)}}class pt{constructor(s,d,v){this.bounds=Te.convert(this.validateBounds(s)),this.minzoom=d||0,this.maxzoom=v||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){let d=Math.pow(2,s.z),v=Math.floor(o.O(this.bounds.getWest())*d),y=Math.floor(o.Q(this.bounds.getNorth())*d),x=Math.ceil(o.O(this.bounds.getEast())*d),A=Math.ceil(o.Q(this.bounds.getSouth())*d);return s.x>=v&&s.x<x&&s.y>=y&&s.y<A}}class Vt extends o.E{constructor(s,d,v,y){if(super(),this.id=s,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.M(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let s=yield yt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),s&&(o.e(this,s),s.bounds&&(this.tileBounds=new pt(s.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new o.j(s))}})}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(s){return o._(this,void 0,void 0,function*(){let d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(d,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};v.request.collectResourceTiming=this._collectResourceTiming;let y="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise((x,A)=>{s.reloadPromise={resolve:x,reject:A}})}else s.actor=this.dispatcher.getActor(),y="LT";s.abortController=new AbortController;try{let x=yield s.actor.sendAsync({type:y,data:v},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,x)}catch(x){if(delete s.abortController,s.aborted)return;if(x&&x.status!==404)throw x;this._afterTileLoadWorkerResponse(s,null)}})}_afterTileLoadWorkerResponse(s,d){if(d&&d.resourceTiming&&(s.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&s.setExpiryData(d),s.loadVectorData(d,this.map.painter),s.reloadPromise){let v=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(v.resolve).catch(v.reject)}}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class dt extends o.E{constructor(s,d,v,y){super(),this.id=s,this.dispatcher=v,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.M(d,["url","scheme","tileSize"]))}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let s=yield yt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,s&&(o.e(this,s),s.bounds&&(this.tileBounds=new pt(s.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new o.j(s))}})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}serialize(){return o.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return o._(this,void 0,void 0,function*(){let d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{let v=yield q.getImage(this.map._requestManager.transformRequest(d,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(v&&v.data){this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&s.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});let y=this.map.painter.context,x=y.gl,A=v.data;s.texture=this.map.painter.getTileTexture(A.width),s.texture?s.texture.update(A,{useMipmap:!0}):(s.texture=new ue(y,A,x.RGBA,{useMipmap:!0}),s.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(v){if(delete s.abortController,s.aborted)s.state="unloaded";else if(v)throw s.state="errored",v}})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)})}hasTransition(){return!1}}class Zt extends dt{constructor(s,d,v,y){super(s,d,v,y),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(s){return o._(this,void 0,void 0,function*(){let d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(d,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{let y=yield q.getImage(v,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(y&&y.data){let x=y.data;this.map._refreshExpiredTiles&&y.cacheControl&&y.expires&&s.setExpiryData({cacheControl:y.cacheControl,expires:y.expires});let A=o.b(x)&&o.U()?x:yield this.readImageNow(x),D={type:this.type,uid:s.uid,source:this.id,rawImageData:A,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();let R=yield s.actor.sendAsync({type:"LDT",data:D});s.dem=R,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(y){if(delete s.abortController,s.aborted)s.state="unloaded";else if(y)throw s.state="errored",y}})}readImageNow(s){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.V()){let d=s.width+2,v=s.height+2;try{return new o.R({width:d,height:v},(yield o.W(s,-1,-1,d,v)))}catch(y){}}return m.getImageData(s,1)})}_getNeighboringTiles(s){let d=s.canonical,v=Math.pow(2,d.z),y=(d.x-1+v)%v,x=d.x===0?s.wrap-1:s.wrap,A=(d.x+1+v)%v,D=d.x+1===v?s.wrap+1:s.wrap,R={};return R[new o.S(s.overscaledZ,x,d.z,y,d.y).key]={backfilled:!1},R[new o.S(s.overscaledZ,D,d.z,A,d.y).key]={backfilled:!1},d.y>0&&(R[new o.S(s.overscaledZ,x,d.z,y,d.y-1).key]={backfilled:!1},R[new o.S(s.overscaledZ,s.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},R[new o.S(s.overscaledZ,D,d.z,A,d.y-1).key]={backfilled:!1}),d.y+1<v&&(R[new o.S(s.overscaledZ,x,d.z,y,d.y+1).key]={backfilled:!1},R[new o.S(s.overscaledZ,s.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},R[new o.S(s.overscaledZ,D,d.z,A,d.y+1).key]={backfilled:!1}),R}unloadTile(s){return o._(this,void 0,void 0,function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))})}}class ur extends o.E{constructor(s,d,v,y){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(y),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;let x=o.X/this.tileSize;d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*x,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*x,extent:o.X,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.X,radius:(d.clusterRadius||50)*x,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}getData(){return o._(this,void 0,void 0,function*(){let s=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})})}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=s.clusterRadius),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=s.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,d,v){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:d,offset:v}})}_updateWorkerData(s){return o._(this,void 0,void 0,function*(){let d=o.e({type:this.type},this.workerOptions);s?d.dataDiff=s:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(m.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"}));try{let v=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||v.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let y=null;v.resourceTiming&&v.resourceTiming[this.id]&&(y=v.resourceTiming[this.id].slice(0));let x={dataType:"source"};this._collectResourceTiming&&y&&y.length>0&&o.e(x,{resourceTiming:y}),this.fire(new o.k("data",Object.assign(Object.assign({},x),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},x),{sourceDataType:"content"})))}catch(v){if(this._pendingLoads--,this._removed)return void this.fire(new o.k("dataabort",{dataType:"source"}));this.fire(new o.j(v))}})}loaded(){return this._pendingLoads===0}loadTile(s){return o._(this,void 0,void 0,function*(){let d=s.actor?"RT":"LT";s.actor=this.actor;let v={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.abortController=new AbortController;let y=yield this.actor.sendAsync({type:d,data:v},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(y,this.map.painter,d==="RT")})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Gt=o.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class pr extends o.E{constructor(s,d,v,y){super(),this.id=s,this.dispatcher=v,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=d}load(s){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let d=yield q.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,s&&(this.coordinates=s),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new o.j(d))}})}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;let d=s.map(o.Z.fromLngLat);this.tileID=function(y){let x=1/0,A=1/0,D=-1/0,R=-1/0;for(let X of y)x=Math.min(x,X.x),A=Math.min(A,X.y),D=Math.max(D,X.x),R=Math.max(R,X.y);let F=Math.max(D-x,R-A),V=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),G=Math.pow(2,V);return new o.a1(V,Math.floor((x+D)/2*G),Math.floor((A+R)/2*G))}(d),this.minzoom=this.maxzoom=this.tileID.z;let v=d.map(y=>this.tileID.getTilePoint(y)._round());return this._boundsArray=new o.$,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,o.X,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,o.X),this._boundsArray.emplaceBack(v[2].x,v[2].y,o.X,o.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let s=this.map.painter.context,d=s.gl;this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ue(s,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let v=!1;for(let y in this.tiles){let x=this.tiles[y];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,v=!0)}v&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Wr extends pr{constructor(s,d,v,y){super(s,d,v,y),this.roundZoom=!0,this.type="video",this.options=d}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let s=this.options;this.urls=[];for(let d of s.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{let d=yield o.a3(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new o.j(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){let d=this.video.seekable;s<d.start(0)||s>d.end(0)?this.fire(new o.j(new o.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let s=this.map.painter.context,d=s.gl;this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new ue(s,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let v=!1;for(let y in this.tiles){let x=this.tiles[y];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,v=!0)}v&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class $r extends pr{constructor(s,d,v,y){super(s,d,v,y),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(A=>typeof A!="number"))||this.fire(new o.j(new o.a2(`sources.${s}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.j(new o.a2(`sources.${s}`,null,"missing required property \"coordinates\""))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.a2(`sources.${s}`,null,"optional \"animate\" property must be a boolean value"))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.a2(`sources.${s}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.j(new o.a2(`sources.${s}`,null,"missing required property \"canvas\""))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let d=this.map.painter.context,v=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ue(d,this.canvas,v.RGBA,{premultiply:!0});let y=!1;for(let x in this.tiles){let A=this.tiles[x];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture,y=!0)}y&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}let cr={},pn=b=>{switch(b){case"geojson":return ur;case"image":return pr;case"raster":return dt;case"raster-dem":return Zt;case"vector":return Vt;case"video":return Wr;case"canvas":return $r;}return cr[b]},ut="RTLPluginLoaded";class Pi extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=tt()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return o._(this,arguments,void 0,function*(d,v=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=m.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!v)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.k(ut))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let kn=null;function Zs(){return kn||(kn=new Pi),kn}class gu{constructor(s,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=o.a4(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){let d=s+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,d,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(y,x){let A={};if(!x)return A;for(let D of y){let R=D.layerIds.map(F=>x.getLayer(F)).filter(Boolean);if(R.length!==0){D.layers=R,D.stateDependentLayerIds&&(D.stateDependentLayers=D.stateDependentLayerIds.map(F=>R.filter(V=>V.id===F)[0]));for(let F of R)A[F.id]=D}}return A}(s.buckets,d.style),this.hasSymbolBuckets=!1;for(let y in this.buckets){let x=this.buckets[y];if(x instanceof o.a6){if(this.hasSymbolBuckets=!0,!v)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let y in this.buckets){let x=this.buckets[y];if(x instanceof o.a6&&x.hasRTLText){this.hasRTLText=!0,Zs().lazyLoad();break}}this.queryPadding=0;for(let y in this.buckets){let x=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(y).queryRadius(x))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(let v in this.buckets){let y=this.buckets[v];y.uploadPending()&&y.upload(s)}let d=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ue(s,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ue(s,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,d,v,y,x,A,D,R,F,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:x,scale:A,tileSize:this.tileSize,pixelPosMatrix:V,transform:R,params:D,queryPadding:this.queryPadding*F},s,d,v):{}}querySourceFeatures(s,d){let v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;let y=v.loadVTLayers(),x=d&&d.sourceLayer?d.sourceLayer:"",A=y._geojsonTileLayer||y[x];if(!A)return;let D=o.a7(d&&d.filter),{z:R,x:F,y:V}=this.tileID.canonical,G={z:R,x:F,y:V};for(let X=0;X<A.length;X++){let oe=A.feature(X);if(D.needGeometry){let ge=o.a8(oe,!0);if(!D.filter(new o.z(this.tileID.overscaledZ),ge,this.tileID.canonical))continue}else if(!D.filter(new o.z(this.tileID.overscaledZ),oe))continue;let le=v.getId(oe,x),pe=new o.a9(oe,R,F,V,le);pe.tile=G,s.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){let d=this.expirationTime;if(s.cacheControl){let v=o.aa(s.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){let v=Date.now(),y=!1;if(this.expirationTime>v)y=!1;else if(d){if(this.expirationTime<d)y=!0;else{let x=this.expirationTime-d;x?this.expirationTime=v+Math.max(x,3e4):y=!0}}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;let v=this.latestFeatureIndex.loadVTLayers();for(let y in this.buckets){if(!d.style.hasLayer(y))continue;let x=this.buckets[y],A=x.layers[0].sourceLayer||"_geojsonTileLayer",D=v[A],R=s[A];if(!D||!R||Object.keys(R).length===0)continue;x.update(R,D,this.imageAtlas&&this.imageAtlas.patternPositions||{});let F=d&&d.style&&d.style.getLayer(y);F&&(this.queryPadding=Math.max(this.queryPadding,F.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<m.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=m.now()+s}setDependencies(s,d){let v={};for(let y of d)v[y]=!0;this.dependencies[s]=v}hasDependency(s,d){for(let v of s){let y=this.dependencies[v];if(y){for(let x of d)if(y[x])return!0}}return!1}}class Et{constructor(s,d){this.max=s,this.onRemove=d,this.reset()}reset(){for(let s in this.data)for(let d of this.data[s])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(s,d,v){let y=s.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);let x={value:d,timeout:void 0};if(v!==void 0&&(x.timeout=setTimeout(()=>{this.remove(s,x)},v)),this.data[y].push(x),this.order.push(y),this.order.length>this.max){let A=this._getAndRemoveByKey(this.order[0]);A&&this.onRemove(A)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){let d=this.data[s].shift();return d.timeout&&clearTimeout(d.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),d.value}getByKey(s){let d=this.data[s];return d?d[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,d){if(!this.has(s))return this;let v=s.wrapped().key,y=d===void 0?0:this.data[v].indexOf(d),x=this.data[v][y];return this.data[v].splice(y,1),x.timeout&&clearTimeout(x.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(x.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){let d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(s){let d=[];for(let v in this.data)for(let y of this.data[v])s(y.value)||d.push(y);for(let v of d)this.remove(v.value.tileID,v)}}class Nr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,d,v){let y=String(d);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][y]=this.stateChanges[s][y]||{},o.e(this.stateChanges[s][y],v),this.deletedStates[s]===null){this.deletedStates[s]={};for(let x in this.state[s])x!==y&&(this.deletedStates[s][x]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][y]===null){this.deletedStates[s][y]={};for(let x in this.state[s][y])v[x]||(this.deletedStates[s][y][x]=null)}else for(let x in v)this.deletedStates[s]&&this.deletedStates[s][y]&&this.deletedStates[s][y][x]===null&&delete this.deletedStates[s][y][x]}removeFeatureState(s,d,v){if(this.deletedStates[s]===null)return;let y=String(d);if(this.deletedStates[s]=this.deletedStates[s]||{},v&&d!==void 0)this.deletedStates[s][y]!==null&&(this.deletedStates[s][y]=this.deletedStates[s][y]||{},this.deletedStates[s][y][v]=null);else if(d!==void 0){if(this.stateChanges[s]&&this.stateChanges[s][y])for(v in this.deletedStates[s][y]={},this.stateChanges[s][y])this.deletedStates[s][y][v]=null;else this.deletedStates[s][y]=null;}else this.deletedStates[s]=null}getState(s,d){let v=String(d),y=o.e({},(this.state[s]||{})[v],(this.stateChanges[s]||{})[v]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){let x=this.deletedStates[s][d];if(x===null)return{};for(let A in x)delete y[A]}return y}initializeTileState(s,d){s.setFeatureState(this.state,d)}coalesceChanges(s,d){let v={};for(let y in this.stateChanges){this.state[y]=this.state[y]||{};let x={};for(let A in this.stateChanges[y])this.state[y][A]||(this.state[y][A]={}),o.e(this.state[y][A],this.stateChanges[y][A]),x[A]=this.state[y][A];v[y]=x}for(let y in this.deletedStates){this.state[y]=this.state[y]||{};let x={};if(this.deletedStates[y]===null)for(let A in this.state[y])x[A]={},this.state[y][A]={};else for(let A in this.deletedStates[y]){if(this.deletedStates[y][A]===null)this.state[y][A]={};else for(let D of Object.keys(this.deletedStates[y][A]))delete this.state[y][A][D];x[A]=this.state[y][A]}v[y]=v[y]||{},o.e(v[y],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(let y in s)s[y].setFeatureState(v,d)}}class gr extends o.E{constructor(s,d,v){super(),this.id=s,this.dispatcher=v,this.on("data",y=>this._dataHandler(y)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,x,A,D)=>{let R=new(pn(x.type))(y,x,A,D);if(R.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${R.id}`);return R})(s,d,v,this),this._tiles={},this._cache=new Et(0,y=>this._unloadTile(y)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Nr,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let s in this._tiles){let d=this._tiles[s];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,d,v){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,d,v)}catch(y){s.state="errored",y.status!==404?this._source.fire(new o.j(y,{tile:s})):this.update(this.transform,this.terrain)}})}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new o.k("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let d in this._tiles){let v=this._tiles[d];v.upload(s),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(Ho).map(s=>s.key)}getRenderableIds(s){let d=[];for(let v in this._tiles)this._isIdRenderable(v,s)&&d.push(this._tiles[v]);return s?d.sort((v,y)=>{let x=v.tileID,A=y.tileID,D=new o.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),R=new o.P(A.canonical.x,A.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-A.overscaledZ||R.y-D.y||R.x-D.x}).map(v=>v.tileID.key):d.map(v=>v.tileID).sort(Ho).map(v=>v.key)}hasRenderableParent(s){let d=this.findLoadedParent(s,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(s,d){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(d||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let s in this._tiles)this._tiles[s].state!=="errored"&&this._reloadTile(s,"reloading")}}_reloadTile(s,d){return o._(this,void 0,void 0,function*(){let v=this._tiles[s];v&&(v.state!=="loading"&&(v.state=d),yield this._loadTile(v,s,d))})}_tileLoaded(s,d,v){s.timeAdded=m.now(),v==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(d,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){let d=this.getRenderableIds();for(let y=0;y<d.length;y++){let x=d[y];if(s.neighboringTiles&&s.neighboringTiles[x]){let A=this.getTileByID(x);v(s,A),v(A,s)}}function v(y,x){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let A=x.tileID.canonical.x-y.tileID.canonical.x,D=x.tileID.canonical.y-y.tileID.canonical.y,R=Math.pow(2,y.tileID.canonical.z),F=x.tileID.key;A===0&&D===0||Math.abs(D)>1||(Math.abs(A)>1&&(Math.abs(A+R)===1?A+=R:Math.abs(A-R)===1&&(A-=R)),x.dem&&y.dem&&(y.dem.backfillBorder(x.dem,A,D),y.neighboringTiles&&y.neighboringTiles[F]&&(y.neighboringTiles[F].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,d,v,y){for(let x in this._tiles){let A=this._tiles[x];if(y[x]||!A.hasData()||A.tileID.overscaledZ<=d||A.tileID.overscaledZ>v)continue;let D=A.tileID;for(;A&&A.tileID.overscaledZ>d+1;){let F=A.tileID.scaledTo(A.tileID.overscaledZ-1);A=this._tiles[F.key],A&&A.hasData()&&(D=F)}let R=D;for(;R.overscaledZ>d;)if(R=R.scaledTo(R.overscaledZ-1),s[R.key]){y[D.key]=D;break}}}findLoadedParent(s,d){if(s.key in this._loadedParentTiles){let v=this._loadedParentTiles[s.key];return v&&v.tileID.overscaledZ>=d?v:null}for(let v=s.overscaledZ-1;v>=d;v--){let y=s.scaledTo(v),x=this._getLoadedTile(y);if(x)return x}}findLoadedSibling(s){return this._getLoadedTile(s)}_getLoadedTile(s){let d=this._tiles[s.key];return d&&d.hasData()?d:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){let d=Math.ceil(s.width/this._source.tileSize)+1,v=Math.ceil(s.height/this._source.tileSize)+1,y=Math.floor(d*v*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(x)}handleWrapJump(s){let d=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,d){let v={};for(let y in this._tiles){let x=this._tiles[y];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+d),v[x.tileID.key]=x}this._tiles=v;for(let y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(let y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}_updateCoveredAndRetainedTiles(s,d,v,y,x,A){let D={},R={},F=Object.keys(s),V=m.now();for(let G of F){let X=s[G],oe=this._tiles[G];if(!oe||oe.fadeEndTime!==0&&oe.fadeEndTime<=V)continue;let le=this.findLoadedParent(X,d),pe=this.findLoadedSibling(X),ge=le||pe||null;ge&&(this._addTile(ge.tileID),D[ge.tileID.key]=ge.tileID),R[G]=X}this._retainLoadedChildren(R,y,v,s);for(let G in D)s[G]||(this._coveredTiles[G]=!0,s[G]=D[G]);if(A){let G={},X={};for(let oe of x)this._tiles[oe.key].hasData()?G[oe.key]=oe:X[oe.key]=oe;for(let oe in X){let le=X[oe].children(this._source.maxzoom);this._tiles[le[0].key]&&this._tiles[le[1].key]&&this._tiles[le[2].key]&&this._tiles[le[3].key]&&(G[le[0].key]=s[le[0].key]=le[0],G[le[1].key]=s[le[1].key]=le[1],G[le[2].key]=s[le[2].key]=le[2],G[le[3].key]=s[le[3].key]=le[3],delete X[oe])}for(let oe in X){let le=X[oe],pe=this.findLoadedParent(le,this._source.minzoom),ge=this.findLoadedSibling(le),ye=pe||ge||null;if(ye){G[ye.tileID.key]=s[ye.tileID.key]=ye.tileID;for(let xe in G)G[xe].isChildOf(ye.tileID)&&delete G[xe]}}for(let oe in this._tiles)G[oe]||(this._coveredTiles[oe]=!0)}}update(s,d){if(!this._sourceLoaded||this._paused)return;let v;this.transform=s,this.terrain=d,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.S(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(v=s.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(v=v.filter(V=>this._source.hasTile(V)))):v=[];let y=s.coveringZoomLevel(this._source),x=Math.max(y-gr.maxOverzooming,this._source.minzoom),A=Math.max(y+gr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let G of v)if(G.canonical.z>this._source.minzoom){let X=G.scaledTo(G.canonical.z-1);V[X.key]=X;let oe=G.scaledTo(Math.max(this._source.minzoom,Math.min(G.canonical.z,5)));V[oe.key]=oe}v=v.concat(Object.values(V))}let D=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,D&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let R=this._updateRetainedTiles(v,y);_s(this._source.type)&&this._updateCoveredAndRetainedTiles(R,x,A,y,v,d);for(let V in R)this._tiles[V].clearFadeHold();let F=o.ab(this._tiles,R);for(let V of F){let G=this._tiles[V];G.hasSymbolBuckets&&!G.holdingForFade()?G.setHoldDuration(this.map._fadeDuration):G.hasSymbolBuckets&&!G.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,d){var v;let y={},x={},A=Math.max(d-gr.maxOverzooming,this._source.minzoom),D=Math.max(d+gr.maxUnderzooming,this._source.minzoom),R={};for(let F of s){let V=this._addTile(F);y[F.key]=F,V.hasData()||d<this._source.maxzoom&&(R[F.key]=F)}this._retainLoadedChildren(R,d,D,y);for(let F of s){let V=this._tiles[F.key];if(V.hasData())continue;if(d+1>this._source.maxzoom){let X=F.children(this._source.maxzoom)[0],oe=this.getTile(X);if(oe&&oe.hasData()){y[X.key]=X;continue}}else{let X=F.children(this._source.maxzoom);if(y[X[0].key]&&y[X[1].key]&&y[X[2].key]&&y[X[3].key])continue}let G=V.wasRequested();for(let X=F.overscaledZ-1;X>=A;--X){let oe=F.scaledTo(X);if(x[oe.key])break;if(x[oe.key]=!0,V=this.getTile(oe),!V&&G&&(V=this._addTile(oe)),V){let le=V.hasData();if((le||!(!((v=this.map)===null||v===void 0)&&v.cancelPendingTileRequestsWhileZooming)||G)&&(y[oe.key]=oe),G=V.wasRequested(),le)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let s in this._tiles){let d=[],v,y=this._tiles[s].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){v=this._loadedParentTiles[y.key];break}d.push(y.key);let x=y.scaledTo(y.overscaledZ-1);if(v=this._getLoadedTile(x),v)break;y=x}for(let x of d)this._loadedParentTiles[x]=v}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let s in this._tiles){let d=this._tiles[s].tileID,v=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=v}}_addTile(s){let d=this._tiles[s.key];if(d)return d;d=this._cache.getAndRemove(s),d&&(this._setTileReloadTimer(s.key,d),d.tileID=s,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,d)));let v=d;return d||(d=new gu(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(d,s.key,d.state)),d.uses++,this._tiles[s.key]=d,v||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(s,d){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);let v=d.getExpiryTimeout();v&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},v))}_removeTile(s){let d=this._tiles[s];d&&(d.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(s){let d=s.sourceDataType;s.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&d==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,d,v){let y=[],x=this.transform;if(!x)return y;let A=v?x.getCameraQueryGeometry(s):s,D=s.map(le=>x.pointCoordinate(le,this.terrain)),R=A.map(le=>x.pointCoordinate(le,this.terrain)),F=this.getIds(),V=1/0,G=1/0,X=-1/0,oe=-1/0;for(let le of R)V=Math.min(V,le.x),G=Math.min(G,le.y),X=Math.max(X,le.x),oe=Math.max(oe,le.y);for(let le=0;le<F.length;le++){let pe=this._tiles[F[le]];if(pe.holdingForFade())continue;let ge=pe.tileID,ye=Math.pow(2,x.zoom-pe.tileID.overscaledZ),xe=d*pe.queryPadding*o.X/pe.tileSize/ye,ce=[ge.getTilePoint(new o.Z(V,G)),ge.getTilePoint(new o.Z(X,oe))];if(ce[0].x-xe<o.X&&ce[0].y-xe<o.X&&ce[1].x+xe>=0&&ce[1].y+xe>=0){let Oe=D.map(Ve=>ge.getTilePoint(Ve)),ke=R.map(Ve=>ge.getTilePoint(Ve));y.push({tile:pe,tileID:ge,queryGeometry:Oe,cameraQueryGeometry:ke,scale:ye})}}return y}getVisibleCoordinates(s){let d=this.getRenderableIds(s).map(v=>this._tiles[v].tileID);for(let v of d)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(_s(this._source.type)){let s=m.now();for(let d in this._tiles)if(this._tiles[d].fadeEndTime>=s)return!0}return!1}setFeatureState(s,d,v){this._state.updateState(s=s||"_geojsonTileLayer",d,v)}removeFeatureState(s,d,v){this._state.removeFeatureState(s=s||"_geojsonTileLayer",d,v)}getFeatureState(s,d){return this._state.getState(s=s||"_geojsonTileLayer",d)}setDependencies(s,d,v){let y=this._tiles[s];y&&y.setDependencies(d,v)}reloadTilesForDependencies(s,d){for(let v in this._tiles)this._tiles[v].hasDependency(s,d)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(s,d))}}function Ho(b,s){let d=Math.abs(2*b.wrap)-+(b.wrap<0),v=Math.abs(2*s.wrap)-+(s.wrap<0);return b.overscaledZ-s.overscaledZ||v-d||s.canonical.y-b.canonical.y||s.canonical.x-b.canonical.x}function _s(b){return b==="raster"||b==="image"||b==="video"}gr.maxOverzooming=10,gr.maxUnderzooming=3;class Ae{constructor(s,d){this.reset(s,d)}reset(s,d){this.points=s||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=o.ac(s,0,1);let d=1,v=this._distances[d],y=s*this.paddedLength+this.padding;for(;v<y&&d<this._distances.length;)v=this._distances[++d];let x=d-1,A=this._distances[x],D=v-A,R=D>0?(y-A)/D:0;return this.points[x].mult(1-R).add(this.points[d].mult(R))}}function qe(b,s){let d=!0;return b==="always"||b!=="never"&&s!=="never"||(d=!1),d}class ft{constructor(s,d,v){let y=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(s/v),this.yCellCount=Math.ceil(d/v);for(let A=0;A<this.xCellCount*this.yCellCount;A++)y.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=d,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,d,v,y,x){this._forEachCell(d,v,y,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(d),this.bboxes.push(v),this.bboxes.push(y),this.bboxes.push(x)}insertCircle(s,d,v,y){this._forEachCell(d-y,v-y,d+y,v+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(d),this.circles.push(v),this.circles.push(y)}_insertBoxCell(s,d,v,y,x,A){this.boxCells[x].push(A)}_insertCircleCell(s,d,v,y,x,A){this.circleCells[x].push(A)}_query(s,d,v,y,x,A,D){if(v<0||s>this.width||y<0||d>this.height)return[];let R=[];if(s<=0&&d<=0&&this.width<=v&&this.height<=y){if(x)return[{key:null,x1:s,y1:d,x2:v,y2:y}];for(let F=0;F<this.boxKeys.length;F++)R.push({key:this.boxKeys[F],x1:this.bboxes[4*F],y1:this.bboxes[4*F+1],x2:this.bboxes[4*F+2],y2:this.bboxes[4*F+3]});for(let F=0;F<this.circleKeys.length;F++){let V=this.circles[3*F],G=this.circles[3*F+1],X=this.circles[3*F+2];R.push({key:this.circleKeys[F],x1:V-X,y1:G-X,x2:V+X,y2:G+X})}}else this._forEachCell(s,d,v,y,this._queryCell,R,{hitTest:x,overlapMode:A,seenUids:{box:{},circle:{}}},D);return R}query(s,d,v,y){return this._query(s,d,v,y,!1,null)}hitTest(s,d,v,y,x,A){return this._query(s,d,v,y,!0,x,A).length>0}hitTestCircle(s,d,v,y,x){let A=s-v,D=s+v,R=d-v,F=d+v;if(D<0||A>this.width||F<0||R>this.height)return!1;let V=[];return this._forEachCell(A,R,D,F,this._queryCellCircle,V,{hitTest:!0,overlapMode:y,circle:{x:s,y:d,radius:v},seenUids:{box:{},circle:{}}},x),V.length>0}_queryCell(s,d,v,y,x,A,D,R){let{seenUids:F,hitTest:V,overlapMode:G}=D,X=this.boxCells[x];if(X!==null){let le=this.bboxes;for(let pe of X)if(!F.box[pe]){F.box[pe]=!0;let ge=4*pe,ye=this.boxKeys[pe];if(s<=le[ge+2]&&d<=le[ge+3]&&v>=le[ge+0]&&y>=le[ge+1]&&(!R||R(ye))&&(!V||!qe(G,ye.overlapMode))&&(A.push({key:ye,x1:le[ge],y1:le[ge+1],x2:le[ge+2],y2:le[ge+3]}),V))return!0}}let oe=this.circleCells[x];if(oe!==null){let le=this.circles;for(let pe of oe)if(!F.circle[pe]){F.circle[pe]=!0;let ge=3*pe,ye=this.circleKeys[pe];if(this._circleAndRectCollide(le[ge],le[ge+1],le[ge+2],s,d,v,y)&&(!R||R(ye))&&(!V||!qe(G,ye.overlapMode))){let xe=le[ge],ce=le[ge+1],Oe=le[ge+2];if(A.push({key:ye,x1:xe-Oe,y1:ce-Oe,x2:xe+Oe,y2:ce+Oe}),V)return!0}}}return!1}_queryCellCircle(s,d,v,y,x,A,D,R){let{circle:F,seenUids:V,overlapMode:G}=D,X=this.boxCells[x];if(X!==null){let le=this.bboxes;for(let pe of X)if(!V.box[pe]){V.box[pe]=!0;let ge=4*pe,ye=this.boxKeys[pe];if(this._circleAndRectCollide(F.x,F.y,F.radius,le[ge+0],le[ge+1],le[ge+2],le[ge+3])&&(!R||R(ye))&&!qe(G,ye.overlapMode))return A.push(!0),!0}}let oe=this.circleCells[x];if(oe!==null){let le=this.circles;for(let pe of oe)if(!V.circle[pe]){V.circle[pe]=!0;let ge=3*pe,ye=this.circleKeys[pe];if(this._circlesCollide(le[ge],le[ge+1],le[ge+2],F.x,F.y,F.radius)&&(!R||R(ye))&&!qe(G,ye.overlapMode))return A.push(!0),!0}}}_forEachCell(s,d,v,y,x,A,D,R){let F=this._convertToXCellCoord(s),V=this._convertToYCellCoord(d),G=this._convertToXCellCoord(v),X=this._convertToYCellCoord(y);for(let oe=F;oe<=G;oe++)for(let le=V;le<=X;le++)if(x.call(this,s,d,v,y,this.xCellCount*le+oe,A,D,R))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,d,v,y,x,A){let D=y-s,R=x-d,F=v+A;return F*F>D*D+R*R}_circleAndRectCollide(s,d,v,y,x,A,D){let R=(A-y)/2,F=Math.abs(s-(y+R));if(F>R+v)return!1;let V=(D-x)/2,G=Math.abs(d-(x+V));if(G>V+v)return!1;if(F<=R||G<=V)return!0;let X=F-R,oe=G-V;return X*X+oe*oe<=v*v}}function Rt(b,s,d,v,y){let x=o.H();return s?(o.K(x,x,[1/y,1/y,1]),d||o.ad(x,x,v.angle)):o.L(x,v.labelPlaneMatrix,b),x}function Nt(b,s,d,v,y){if(s){let x=o.ae(b);return o.K(x,x,[y,y,1]),d||o.ad(x,x,-v.angle),x}return v.glCoordMatrix}function ae(b,s,d,v){let y;v?(y=[b,s,v(b,s),1],o.af(y,y,d)):(y=[b,s,0,1],gn(y,y,d));let x=y[3];return{point:new o.P(y[0]/x,y[1]/x),signedDistanceFromCamera:x,isOccluded:!1}}function $(b,s){return .5+b/s*.5}function W(b,s){return b.x>=-s[0]&&b.x<=s[0]&&b.y>=-s[1]&&b.y<=s[1]}function K(b,s,d,v,y,x,A,D,R,F,V,G,X,oe,le){let pe=v?b.textSizeData:b.iconSizeData,ge=o.ag(pe,d.transform.zoom),ye=[256/d.width*2+1,256/d.height*2+1],xe=v?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;xe.clear();let ce=b.lineVertexArray,Oe=v?b.text.placedSymbolArray:b.icon.placedSymbolArray,ke=d.transform.width/d.transform.height,Ve=!1;for(let at=0;at<Oe.length;at++){let ht=Oe.get(at);if(ht.hidden||ht.writingMode===o.ah.vertical&&!Ve){fr(ht.numGlyphs,xe);continue}Ve=!1;let Pt=ae(ht.anchorX,ht.anchorY,s,le);if(!W(Pt.point,ye)){fr(ht.numGlyphs,xe);continue}let Bt=$(d.transform.cameraToCenterDistance,Pt.signedDistanceFromCamera),It=o.ai(pe,ge,ht),St=A?It/Bt:It*Bt,Qt={getElevation:le,labelPlaneMatrix:y,lineVertexArray:ce,pitchWithMap:A,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:F,tileAnchorPoint:new o.P(ht.anchorX,ht.anchorY),unwrappedTileID:V,width:G,height:X,translation:oe},Er=Se(Qt,ht,St,!1,D,s,x,b.glyphOffsetArray,xe,ke,R);Ve=Er.useVertical,(Er.notEnoughRoom||Ve||Er.needsFlipping&&Se(Qt,ht,St,!0,D,s,x,b.glyphOffsetArray,xe,ke,R).notEnoughRoom)&&fr(ht.numGlyphs,xe)}v?b.text.dynamicLayoutVertexBuffer.updateData(xe):b.icon.dynamicLayoutVertexBuffer.updateData(xe)}function se(b,s,d,v,y,x,A,D){let R=x.glyphStartIndex+x.numGlyphs,F=x.lineStartIndex,V=x.lineStartIndex+x.lineLength,G=s.getoffsetX(x.glyphStartIndex),X=s.getoffsetX(R-1),oe=gt(b*G,d,v,y,x.segment,F,V,D,A);if(!oe)return null;let le=gt(b*X,d,v,y,x.segment,F,V,D,A);return le?D.projectionCache.anyProjectionOccluded?null:{first:oe,last:le}:null}function _e(b,s,d,v){return b===o.ah.horizontal&&Math.abs(d.y-s.y)>Math.abs(d.x-s.x)*v?{useVertical:!0}:(b===o.ah.vertical?s.y<d.y:s.x>d.x)?{needsFlipping:!0}:null}function Se(b,s,d,v,y,x,A,D,R,F,V){let G=d/24,X=s.lineOffsetX*G,oe=s.lineOffsetY*G,le;if(s.numGlyphs>1){let pe=s.glyphStartIndex+s.numGlyphs,ge=s.lineStartIndex,ye=s.lineStartIndex+s.lineLength,xe=se(G,D,X,oe,v,s,V,b);if(!xe)return{notEnoughRoom:!0};let ce=ae(xe.first.point.x,xe.first.point.y,A,b.getElevation).point,Oe=ae(xe.last.point.x,xe.last.point.y,A,b.getElevation).point;if(y&&!v){let ke=_e(s.writingMode,ce,Oe,F);if(ke)return ke}le=[xe.first];for(let ke=s.glyphStartIndex+1;ke<pe-1;ke++)le.push(gt(G*D.getoffsetX(ke),X,oe,v,s.segment,ge,ye,b,V));le.push(xe.last)}else{if(y&&!v){let ge=ae(b.tileAnchorPoint.x,b.tileAnchorPoint.y,x,b.getElevation).point,ye=s.lineStartIndex+s.segment+1,xe=new o.P(b.lineVertexArray.getx(ye),b.lineVertexArray.gety(ye)),ce=ae(xe.x,xe.y,x,b.getElevation),Oe=ce.signedDistanceFromCamera>0?ce.point:function(Ve,at,ht,Pt,Bt,It){return Pe(Ve,at,ht,1,Bt,It)}(b.tileAnchorPoint,xe,ge,0,x,b),ke=_e(s.writingMode,ge,Oe,F);if(ke)return ke}let pe=gt(G*D.getoffsetX(s.glyphStartIndex),X,oe,v,s.segment,s.lineStartIndex,s.lineStartIndex+s.lineLength,b,V);if(!pe||b.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};le=[pe]}for(let pe of le)o.aj(R,pe.point,pe.angle);return{}}function Pe(b,s,d,v,y,x){let A=b.add(b.sub(s)._unit()),D=y!==void 0?ae(A.x,A.y,y,x.getElevation).point:Ze(A.x,A.y,x).point,R=d.sub(D);return d.add(R._mult(v/R.mag()))}function ve(b,s,d){let v=s.projectionCache;if(v.projections[b])return v.projections[b];let y=new o.P(s.lineVertexArray.getx(b),s.lineVertexArray.gety(b)),x=Ze(y.x,y.y,s);if(x.signedDistanceFromCamera>0)return v.projections[b]=x.point,v.anyProjectionOccluded=v.anyProjectionOccluded||x.isOccluded,x.point;let A=b-d.direction;return function(D,R,F,V,G){return Pe(D,R,F,V,void 0,G)}(d.distanceFromAnchor===0?s.tileAnchorPoint:new o.P(s.lineVertexArray.getx(A),s.lineVertexArray.gety(A)),y,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,s)}function Ze(b,s,d){let v=b+d.translation[0],y=s+d.translation[1],x;return!d.pitchWithMap&&d.projection.useSpecialProjectionForSymbols?(x=d.projection.projectTileCoordinates(v,y,d.unwrappedTileID,d.getElevation),x.point.x=(.5*x.point.x+.5)*d.width,x.point.y=(.5*-x.point.y+.5)*d.height):(x=ae(v,y,d.labelPlaneMatrix,d.getElevation),x.isOccluded=!1),x}function ot(b,s,d){return b._unit()._perp()._mult(s*d)}function He(b,s,d,v,y,x,A,D,R){if(D.projectionCache.offsets[b])return D.projectionCache.offsets[b];let F=d.add(s);if(b+R.direction<v||b+R.direction>=y)return D.projectionCache.offsets[b]=F,F;let V=ve(b+R.direction,D,R),G=ot(V.sub(d),A,R.direction),X=d.add(G),oe=V.add(G);return D.projectionCache.offsets[b]=o.ak(x,F,X,oe)||F,D.projectionCache.offsets[b]}function gt(b,s,d,v,y,x,A,D,R){let F=v?b-s:b+s,V=F>0?1:-1,G=0;v&&(V*=-1,G=Math.PI),V<0&&(G+=Math.PI);let X,oe=V>0?x+y:x+y+1;D.projectionCache.cachedAnchorPoint?X=D.projectionCache.cachedAnchorPoint:(X=Ze(D.tileAnchorPoint.x,D.tileAnchorPoint.y,D).point,D.projectionCache.cachedAnchorPoint=X);let le,pe,ge=X,ye=X,xe=0,ce=0,Oe=Math.abs(F),ke=[],Ve;for(;xe+ce<=Oe;){if(oe+=V,oe<x||oe>=A)return null;xe+=ce,ye=ge,pe=le;let Pt={absOffsetX:Oe,direction:V,distanceFromAnchor:xe,previousVertex:ye};if(ge=ve(oe,D,Pt),d===0)ke.push(ye),Ve=ge.sub(ye);else{let Bt,It=ge.sub(ye);Bt=It.mag()===0?ot(ve(oe+V,D,Pt).sub(ge),d,V):ot(It,d,V),pe||(pe=ye.add(Bt)),le=He(oe,Bt,ge,x,A,pe,d,D,Pt),ke.push(pe),Ve=le.sub(pe)}ce=Ve.mag()}let at=Ve._mult((Oe-xe)/ce)._add(pe||ye),ht=G+Math.atan2(ge.y-ye.y,ge.x-ye.x);return ke.push(at),{point:at,angle:R?ht:0,path:ke}}let Kt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function fr(b,s){for(let d=0;d<b;d++){let v=s.length;s.resize(v+4),s.float32.set(Kt,3*v)}}function gn(b,s,d){let v=s[0],y=s[1];return b[0]=d[0]*v+d[4]*y+d[12],b[1]=d[1]*v+d[5]*y+d[13],b[3]=d[3]*v+d[7]*y+d[15],b}let Dr=100;class vn{constructor(s,d,v=new ft(s.width+200,s.height+200,25),y=new ft(s.width+200,s.height+200,25)){this.transform=s,this.mapProjection=d,this.grid=v,this.ignoredGrid=y,this.pitchFactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+Dr,this.screenBottomBoundary=s.height+Dr,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,d,v,y,x,A,D,R,F,V,G){let X=s.anchorPointX+R[0],oe=s.anchorPointY+R[1],le=this.projectAndGetPerspectiveRatio(y,X,oe,x,V),pe=v*le.perspectiveRatio,ge;if(A||D)ge=this._projectCollisionBox(s,pe,y,x,A,D,R,le,V,G);else{let ke=le.point.x+(G?G.x*pe:0),Ve=le.point.y+(G?G.y*pe:0);ge={allPointsOccluded:!1,box:[ke+s.x1*pe,Ve+s.y1*pe,ke+s.x2*pe,Ve+s.y2*pe]}}let[ye,xe,ce,Oe]=ge.box;return this.mapProjection.useSpecialProjectionForSymbols&&(A?ge.allPointsOccluded:this.mapProjection.isOccluded(X,oe,x))||le.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(ye,xe,ce,Oe)||d!=="always"&&this.grid.hitTest(ye,xe,ce,Oe,d,F)?{box:[ye,xe,ce,Oe],placeable:!1,offscreen:!1}:{box:[ye,xe,ce,Oe],placeable:!0,offscreen:this.isOffscreen(ye,xe,ce,Oe)}}placeCollisionCircles(s,d,v,y,x,A,D,R,F,V,G,X,oe,le,pe,ge){let ye=[],xe=new o.P(d.anchorX,d.anchorY),ce=this.getPerspectiveRatio(A,xe.x,xe.y,D,ge),Oe=(G?x/ce:x*ce)/o.ap,ke={getElevation:ge,labelPlaneMatrix:R,lineVertexArray:v,pitchWithMap:G,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:xe,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:pe},Ve=se(Oe,y,d.lineOffsetX*Oe,d.lineOffsetY*Oe,!1,d,!1,ke),at=!1,ht=!1,Pt=!0;if(Ve){let Bt=.5*oe*ce+le,It=new o.P(-100,-100),St=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Qt=new Ae,Er=Ve.first,At=Ve.last,qt=[];for(let jr=Er.path.length-1;jr>=1;jr--)qt.push(Er.path[jr]);for(let jr=1;jr<At.path.length;jr++)qt.push(At.path[jr]);let wr=2.5*Bt;if(F){let jr=this.projectPathToScreenSpace(qt,ke,F);qt=jr.some(nn=>nn.signedDistanceFromCamera<=0)?[]:jr.map(nn=>nn.point)}let hi=[];if(qt.length>0){let jr=qt[0].clone(),nn=qt[0].clone();for(let mi=1;mi<qt.length;mi++)jr.x=Math.min(jr.x,qt[mi].x),jr.y=Math.min(jr.y,qt[mi].y),nn.x=Math.max(nn.x,qt[mi].x),nn.y=Math.max(nn.y,qt[mi].y);hi=jr.x>=It.x&&nn.x<=St.x&&jr.y>=It.y&&nn.y<=St.y?[qt]:nn.x<It.x||jr.x>St.x||nn.y<It.y||jr.y>St.y?[]:o.al([qt],It.x,It.y,St.x,St.y)}for(let jr of hi){Qt.reset(jr,.25*Bt);let nn=0;nn=Qt.length<=.5*Bt?1:Math.ceil(Qt.paddedLength/wr)+1;for(let mi=0;mi<nn;mi++){let $o=mi/Math.max(nn-1,1),Ul=Qt.lerp($o),gi=Ul.x+Dr,Ua=Ul.y+Dr;ye.push(gi,Ua,Bt,0);let pa=gi-Bt,Zo=Ua-Bt,da=gi+Bt,xu=Ua+Bt;if(Pt=Pt&&this.isOffscreen(pa,Zo,da,xu),ht=ht||this.isInsideGrid(pa,Zo,da,xu),s!=="always"&&this.grid.hitTestCircle(gi,Ua,Bt,s,X)&&(at=!0,!V))return{circles:[],offscreen:!1,collisionDetected:at}}}}return{circles:!V&&at||!ht||ce<this.perspectiveRatioCutoff?[]:ye,offscreen:Pt,collisionDetected:at}}projectPathToScreenSpace(s,d,v){return s.map(y=>ae(y.x,y.y,v,d.getElevation))}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let d=[],v=1/0,y=1/0,x=-1/0,A=-1/0;for(let V of s){let G=new o.P(V.x+Dr,V.y+Dr);v=Math.min(v,G.x),y=Math.min(y,G.y),x=Math.max(x,G.x),A=Math.max(A,G.y),d.push(G)}let D=this.grid.query(v,y,x,A).concat(this.ignoredGrid.query(v,y,x,A)),R={},F={};for(let V of D){let G=V.key;if(R[G.bucketInstanceId]===void 0&&(R[G.bucketInstanceId]={}),R[G.bucketInstanceId][G.featureIndex])continue;let X=[new o.P(V.x1,V.y1),new o.P(V.x2,V.y1),new o.P(V.x2,V.y2),new o.P(V.x1,V.y2)];o.am(d,X)&&(R[G.bucketInstanceId][G.featureIndex]=!0,F[G.bucketInstanceId]===void 0&&(F[G.bucketInstanceId]=[]),F[G.bucketInstanceId].push(G.featureIndex))}return F}insertCollisionBox(s,d,v,y,x,A){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:x,collisionGroupID:A,overlapMode:d},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,d,v,y,x,A){let D=v?this.ignoredGrid:this.grid,R={bucketInstanceId:y,featureIndex:x,collisionGroupID:A,overlapMode:d};for(let F=0;F<s.length;F+=4)D.insertCircle(R,s[F],s[F+1],s[F+2])}projectAndGetPerspectiveRatio(s,d,v,y,x){let A;x?(A=[d,v,x(d,v),1],o.af(A,A,s)):(A=[d,v,0,1],gn(A,A,s));let D=A[3];return{point:new o.P((A[0]/D+1)/2*this.transform.width+Dr,(-A[1]/D+1)/2*this.transform.height+Dr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/D*.5,isOccluded:!1,signedDistanceFromCamera:D}}getPerspectiveRatio(s,d,v,y,x){let A=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(d,v,y,x):ae(d,v,s,x);return .5+this.transform.cameraToCenterDistance/A.signedDistanceFromCamera*.5}isOffscreen(s,d,v,y){return v<Dr||s>=this.screenRightBoundary||y<Dr||d>this.screenBottomBoundary}isInsideGrid(s,d,v,y){return v>=0&&s<this.gridRightBoundary&&y>=0&&d<this.gridBottomBoundary}getViewportMatrix(){let s=o.an([]);return o.J(s,s,[-100,-100,0]),s}_projectCollisionBox(s,d,v,y,x,A,D,R,F,V){let G=new o.P(1,0),X=new o.P(0,1),oe=new o.P(s.anchorPointX+D[0],s.anchorPointY+D[1]);if(A&&!x){let Pt=this.projectAndGetPerspectiveRatio(v,oe.x+1,oe.y,y,F).point.sub(R.point).unit(),Bt=Math.atan(Pt.y/Pt.x)+(Pt.x<0?Math.PI:0),It=Math.sin(Bt),St=Math.cos(Bt);G=new o.P(St,It),X=new o.P(-It,St)}else if(!A&&x){let Pt=-this.transform.angle,Bt=Math.sin(Pt),It=Math.cos(Pt);G=new o.P(It,Bt),X=new o.P(-Bt,It)}let le=R.point,pe=d;if(x){le=oe;let Pt=this.transform.zoom-Math.floor(this.transform.zoom);pe=Math.pow(2,-Pt),pe*=this.mapProjection.getPitchedTextCorrection(this.transform,oe,y),V||(pe*=o.ac(.5+R.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}V&&(le=le.add(G.mult(V.x*pe)).add(X.mult(V.y*pe)));let ge=s.x1*pe,ye=s.x2*pe,xe=(ge+ye)/2,ce=s.y1*pe,Oe=s.y2*pe,ke=(ce+Oe)/2,Ve=[{offsetX:ge,offsetY:ce},{offsetX:xe,offsetY:ce},{offsetX:ye,offsetY:ce},{offsetX:ye,offsetY:ke},{offsetX:ye,offsetY:Oe},{offsetX:xe,offsetY:Oe},{offsetX:ge,offsetY:Oe},{offsetX:ge,offsetY:ke}],at=[];for(let{offsetX:Pt,offsetY:Bt}of Ve)at.push(new o.P(le.x+G.x*Pt+X.x*Bt,le.y+G.y*Pt+X.y*Bt));let ht=!1;if(x){let Pt=at.map(Bt=>this.projectAndGetPerspectiveRatio(v,Bt.x,Bt.y,y,F));ht=Pt.some(Bt=>!Bt.isOccluded),at=Pt.map(Bt=>Bt.point)}else ht=!0;return{box:o.ao(at),allPointsOccluded:!ht}}}function rn(b,s,d){return s*(o.X/(b.tileSize*Math.pow(2,d-b.tileID.overscaledZ)))}class eo{constructor(s,d,v,y){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?d:-d))):y&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Li{constructor(s,d,v,y,x){this.text=new eo(s?s.text:null,d,v,x),this.icon=new eo(s?s.icon:null,d,y,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Gr{constructor(s,d,v){this.text=s,this.icon=d,this.skipFade=v}}class jn{constructor(){this.invProjMatrix=o.H(),this.viewportMatrix=o.H(),this.circles=[]}}class Si{constructor(s,d,v,y,x){this.bucketInstanceId=s,this.featureIndex=d,this.sourceLayerIndex=v,this.bucketIndex=y,this.tileID=x}}class Eo{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){let d=++this.maxGroupID;this.collisionGroups[s]={ID:d,predicate:v=>v.collisionGroupID===d}}return this.collisionGroups[s]}}function Lo(b,s,d,v,y){let{horizontalAlign:x,verticalAlign:A}=o.au(b);return new o.P(-(x-.5)*s+v[0]*y,-(A-.5)*d+v[1]*y)}class fa{constructor(s,d,v,y,x,A){this.transform=s.clone(),this.terrain=v,this.collisionIndex=new vn(this.transform,d),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new Eo(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){let d=this.terrain;return d?(v,y)=>d.getElevation(s,v,y):null}getBucketParts(s,d,v,y){let x=v.getBucket(d),A=v.latestFeatureIndex;if(!x||!A||d.id!==x.layerIds[0])return;let D=v.collisionBoxArray,R=x.layers[0].layout,F=x.layers[0].paint,V=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),G=v.tileSize/o.X,X=v.tileID.toUnwrapped(),oe=this.transform.calculatePosMatrix(X),le=R.get("text-pitch-alignment")==="map",pe=R.get("text-rotation-alignment")==="map",ge=rn(v,1,this.transform.zoom),ye=this.collisionIndex.mapProjection.translatePosition(this.transform,v,F.get("text-translate"),F.get("text-translate-anchor")),xe=this.collisionIndex.mapProjection.translatePosition(this.transform,v,F.get("icon-translate"),F.get("icon-translate-anchor")),ce=Rt(oe,le,pe,this.transform,ge),Oe=null;if(le){let Ve=Nt(oe,le,pe,this.transform,ge);Oe=o.L([],this.transform.labelPlaneMatrix,Ve)}this.retainedQueryData[x.bucketInstanceId]=new Si(x.bucketInstanceId,A,x.sourceLayerIndex,x.index,v.tileID);let ke={bucket:x,layout:R,translationText:ye,translationIcon:xe,posMatrix:oe,unwrappedTileID:X,textLabelPlaneMatrix:ce,labelToScreenMatrix:Oe,scale:V,textPixelRatio:G,holdingForFade:v.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:o.ag(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(y)for(let Ve of x.sortKeyRanges){let{sortKey:at,symbolInstanceStart:ht,symbolInstanceEnd:Pt}=Ve;s.push({sortKey:at,symbolInstanceStart:ht,symbolInstanceEnd:Pt,parameters:ke})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:ke})}attemptAnchorPlacement(s,d,v,y,x,A,D,R,F,V,G,X,oe,le,pe,ge,ye,xe,ce){let Oe=o.aq[s.textAnchor],ke=[s.textOffset0,s.textOffset1],Ve=Lo(Oe,v,y,ke,x),at=this.collisionIndex.placeCollisionBox(d,X,R,F,V,D,A,ge,G.predicate,ce,Ve);if((!xe||this.collisionIndex.placeCollisionBox(xe,X,R,F,V,D,A,ye,G.predicate,ce,Ve).placeable)&&at.placeable){let ht;if(this.prevPlacement&&this.prevPlacement.variableOffsets[oe.crossTileID]&&this.prevPlacement.placements[oe.crossTileID]&&this.prevPlacement.placements[oe.crossTileID].text&&(ht=this.prevPlacement.variableOffsets[oe.crossTileID].anchor),oe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[oe.crossTileID]={textOffset:ke,width:v,height:y,anchor:Oe,textBoxScale:x,prevAnchor:ht},this.markUsedJustification(le,Oe,oe,pe),le.allowVerticalPlacement&&(this.markUsedOrientation(le,pe,oe),this.placedOrientations[oe.crossTileID]=pe),{shift:Ve,placedGlyphBoxes:at}}}placeLayerBucketPart(s,d,v){let{bucket:y,layout:x,translationText:A,translationIcon:D,posMatrix:R,unwrappedTileID:F,textLabelPlaneMatrix:V,labelToScreenMatrix:G,textPixelRatio:X,holdingForFade:oe,collisionBoxArray:le,partiallyEvaluatedTextSize:pe,collisionGroup:ge}=s.parameters,ye=x.get("text-optional"),xe=x.get("icon-optional"),ce=o.ar(x,"text-overlap","text-allow-overlap"),Oe=ce==="always",ke=o.ar(x,"icon-overlap","icon-allow-overlap"),Ve=ke==="always",at=x.get("text-rotation-alignment")==="map",ht=x.get("text-pitch-alignment")==="map",Pt=x.get("icon-text-fit")!=="none",Bt=x.get("symbol-z-order")==="viewport-y",It=Oe&&(Ve||!y.hasIconData()||xe),St=Ve&&(Oe||!y.hasTextData()||ye);!y.collisionArrays&&le&&y.deserializeCollisionBoxes(le);let Qt=this._getTerrainElevationFunc(this.retainedQueryData[y.bucketInstanceId].tileID),Er=(At,qt,wr)=>{var hi,jr;if(d[At.crossTileID])return;if(oe)return void(this.placements[At.crossTileID]=new Gr(!1,!1,!1));let nn=!1,mi=!1,$o=!0,Ul=null,gi={box:null,placeable:!1,offscreen:null},Ua={box:null,placeable:!1,offscreen:null},pa=null,Zo=null,da=null,xu=0,vh=0,T0=0;qt.textFeatureIndex?xu=qt.textFeatureIndex:At.useRuntimeCollisionCircles&&(xu=At.featureIndex),qt.verticalTextFeatureIndex&&(vh=qt.verticalTextFeatureIndex);let yh=qt.textBox;if(yh){let el=No=>{let Yo=o.ah.horizontal;if(y.allowVerticalPlacement&&!No&&this.prevPlacement){let Is=this.prevPlacement.placedOrientations[At.crossTileID];Is&&(this.placedOrientations[At.crossTileID]=Is,Yo=Is,this.markUsedOrientation(y,Yo,At))}return Yo},tl=(No,Yo)=>{if(y.allowVerticalPlacement&&At.numVerticalGlyphVertices>0&&qt.verticalTextBox){for(let Is of y.writingModes)if(Is===o.ah.vertical?(gi=Yo(),Ua=gi):gi=No(),gi&&gi.placeable)break}else gi=No()},uf=At.textAnchorOffsetStartIndex,Vl=At.textAnchorOffsetEndIndex;if(Vl===uf){let No=(Yo,Is)=>{let un=this.collisionIndex.placeCollisionBox(Yo,ce,X,R,F,ht,at,A,ge.predicate,Qt);return un&&un.placeable&&(this.markUsedOrientation(y,Is,At),this.placedOrientations[At.crossTileID]=Is),un};tl(()=>No(yh,o.ah.horizontal),()=>{let Yo=qt.verticalTextBox;return y.allowVerticalPlacement&&At.numVerticalGlyphVertices>0&&Yo?No(Yo,o.ah.vertical):{box:null,offscreen:null}}),el(gi&&gi.placeable)}else{let No=o.aq[(jr=(hi=this.prevPlacement)===null||hi===void 0?void 0:hi.variableOffsets[At.crossTileID])===null||jr===void 0?void 0:jr.anchor],Yo=(un,Dp,_h)=>{let xh=un.x2-un.x1,pM=un.y2-un.y1,Mj=At.textBoxScale,dM=Pt&&ke==="never"?Dp:null,cf=null,hM=ce==="never"?1:2,M0="never";No&&hM++;for(let jg=0;jg<hM;jg++){for(let A0=uf;A0<Vl;A0++){let O0=y.textAnchorOffsets.get(A0);if(No&&O0.textAnchor!==No)continue;let bh=this.attemptAnchorPlacement(O0,un,xh,pM,Mj,at,ht,X,R,F,ge,M0,At,y,_h,A,D,dM,Qt);if(bh&&(cf=bh.placedGlyphBoxes,cf&&cf.placeable))return nn=!0,Ul=bh.shift,cf}No?No=null:M0=ce}return v&&!cf&&(cf={box:this.collisionIndex.placeCollisionBox(yh,"always",X,R,F,ht,at,A,ge.predicate,Qt,new o.P(0,0)).box,offscreen:!1,placeable:!1}),cf};tl(()=>Yo(yh,qt.iconBox,o.ah.horizontal),()=>{let un=qt.verticalTextBox;return y.allowVerticalPlacement&&(!gi||!gi.placeable)&&At.numVerticalGlyphVertices>0&&un?Yo(un,qt.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),gi&&(nn=gi.placeable,$o=gi.offscreen);let Is=el(gi&&gi.placeable);if(!nn&&this.prevPlacement){let un=this.prevPlacement.variableOffsets[At.crossTileID];un&&(this.variableOffsets[At.crossTileID]=un,this.markUsedJustification(y,un.anchor,At,Is))}}}if(pa=gi,nn=pa&&pa.placeable,$o=pa&&pa.offscreen,At.useRuntimeCollisionCircles){let el=y.text.placedSymbolArray.get(At.centerJustifiedTextSymbolIndex),tl=o.ai(y.textSizeData,pe,el),uf=x.get("text-padding");Zo=this.collisionIndex.placeCollisionCircles(ce,el,y.lineVertexArray,y.glyphOffsetArray,tl,R,F,V,G,v,ht,ge.predicate,At.collisionCircleDiameter,uf,A,Qt),Zo.circles.length&&Zo.collisionDetected&&!v&&o.w("Collisions detected, but collision boxes are not shown"),nn=Oe||Zo.circles.length>0&&!Zo.collisionDetected,$o=$o&&Zo.offscreen}if(qt.iconFeatureIndex&&(T0=qt.iconFeatureIndex),qt.iconBox){let el=tl=>this.collisionIndex.placeCollisionBox(tl,ke,X,R,F,ht,at,D,ge.predicate,Qt,Pt&&Ul?Ul:void 0);Ua&&Ua.placeable&&qt.verticalIconBox?(da=el(qt.verticalIconBox),mi=da.placeable):(da=el(qt.iconBox),mi=da.placeable),$o=$o&&da.offscreen}let Js=ye||At.numHorizontalGlyphVertices===0&&At.numVerticalGlyphVertices===0,C0=xe||At.numIconVertices===0;Js||C0?C0?Js||(mi=mi&&nn):nn=mi&&nn:mi=nn=mi&&nn;let mw=mi&&da.placeable;if(nn&&pa.placeable&&this.collisionIndex.insertCollisionBox(pa.box,ce,x.get("text-ignore-placement"),y.bucketInstanceId,Ua&&Ua.placeable&&vh?vh:xu,ge.ID),mw&&this.collisionIndex.insertCollisionBox(da.box,ke,x.get("icon-ignore-placement"),y.bucketInstanceId,T0,ge.ID),Zo&&nn&&this.collisionIndex.insertCollisionCircles(Zo.circles,ce,x.get("text-ignore-placement"),y.bucketInstanceId,xu,ge.ID),v&&this.storeCollisionData(y.bucketInstanceId,wr,qt,pa,da,Zo),At.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(y.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[At.crossTileID]=new Gr(nn||It,mi||St,$o||y.justReloaded),d[At.crossTileID]=!0};if(Bt){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let At=y.getSortedSymbolIndexes(this.transform.angle);for(let qt=At.length-1;qt>=0;--qt){let wr=At[qt];Er(y.symbolInstances.get(wr),y.collisionArrays[wr],wr)}}else for(let At=s.symbolInstanceStart;At<s.symbolInstanceEnd;At++)Er(y.symbolInstances.get(At),y.collisionArrays[At],At);if(v&&y.bucketInstanceId in this.collisionCircleArrays){let At=this.collisionCircleArrays[y.bucketInstanceId];o.as(At.invProjMatrix,R),At.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1}storeCollisionData(s,d,v,y,x,A){if(v.textBox||v.iconBox){let D,R;this.collisionBoxArrays.has(s)?D=this.collisionBoxArrays.get(s):(D=new Map,this.collisionBoxArrays.set(s,D)),D.has(d)?R=D.get(d):(R={text:null,icon:null},D.set(d,R)),v.textBox&&(R.text=y.box),v.iconBox&&(R.icon=x.box)}if(A){let D=this.collisionCircleArrays[s];D===void 0&&(D=this.collisionCircleArrays[s]=new jn);for(let R=0;R<A.circles.length;R+=4)D.circles.push(A.circles[R+0]),D.circles.push(A.circles[R+1]),D.circles.push(A.circles[R+2]),D.circles.push(A.collisionDetected?1:0)}}markUsedJustification(s,d,v,y){let x;x=y===o.ah.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[o.at(d)];let A=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(let D of A)D>=0&&(s.text.placedSymbolArray.get(D).crossTileID=x>=0&&D!==x?0:v.crossTileID)}markUsedOrientation(s,d,v){let y=d===o.ah.horizontal||d===o.ah.horizontalOnly?d:0,x=d===o.ah.vertical?d:0,A=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(let D of A)s.text.placedSymbolArray.get(D).placedOrientation=y;v.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;let d=this.prevPlacement,v=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;let y=d?d.symbolFadeChange(s):1,x=d?d.opacities:{},A=d?d.variableOffsets:{},D=d?d.placedOrientations:{};for(let R in this.placements){let F=this.placements[R],V=x[R];V?(this.opacities[R]=new Li(V,y,F.text,F.icon),v=v||F.text!==V.text.placed||F.icon!==V.icon.placed):(this.opacities[R]=new Li(null,y,F.text,F.icon,F.skipFade),v=v||F.text||F.icon)}for(let R in x){let F=x[R];if(!this.opacities[R]){let V=new Li(F,y,!1,!1);V.isHidden()||(this.opacities[R]=V,v=v||F.text.placed||F.icon.placed)}}for(let R in A)this.variableOffsets[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.variableOffsets[R]=A[R]);for(let R in D)this.placedOrientations[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.placedOrientations[R]=D[R]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:s)}updateLayerOpacities(s,d){let v={};for(let y of d){let x=y.getBucket(s);x&&y.latestFeatureIndex&&s.id===x.layerIds[0]&&this.updateBucketOpacities(x,y.tileID,v,y.collisionBoxArray)}}updateBucketOpacities(s,d,v,y){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();let x=s.layers[0],A=x.layout,D=new Li(null,0,!1,!1,!0),R=A.get("text-allow-overlap"),F=A.get("icon-allow-overlap"),V=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),G=A.get("text-rotation-alignment")==="map",X=A.get("text-pitch-alignment")==="map",oe=A.get("icon-text-fit")!=="none",le=new Li(null,0,R&&(F||!s.hasIconData()||A.get("icon-optional")),F&&(R||!s.hasTextData()||A.get("text-optional")),!0);!s.collisionArrays&&y&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(y);let pe=(ye,xe,ce)=>{for(let Oe=0;Oe<xe/4;Oe++)ye.opacityVertexArray.emplaceBack(ce);ye.hasVisibleVertices=ye.hasVisibleVertices||ce!==Kd},ge=this.collisionBoxArrays.get(s.bucketInstanceId);for(let ye=0;ye<s.symbolInstances.length;ye++){let xe=s.symbolInstances.get(ye),{numHorizontalGlyphVertices:ce,numVerticalGlyphVertices:Oe,crossTileID:ke}=xe,Ve=this.opacities[ke];v[ke]?Ve=D:Ve||(Ve=le,this.opacities[ke]=Ve),v[ke]=!0;let at=xe.numIconVertices>0,ht=this.placedOrientations[xe.crossTileID],Pt=ht===o.ah.vertical,Bt=ht===o.ah.horizontal||ht===o.ah.horizontalOnly;if(ce>0||Oe>0){let St=ws(Ve.text);pe(s.text,ce,Pt?Kd:St),pe(s.text,Oe,Bt?Kd:St);let Qt=Ve.text.isHidden();[xe.rightJustifiedTextSymbolIndex,xe.centerJustifiedTextSymbolIndex,xe.leftJustifiedTextSymbolIndex].forEach(qt=>{qt>=0&&(s.text.placedSymbolArray.get(qt).hidden=Qt||Pt?1:0)}),xe.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(xe.verticalPlacedTextSymbolIndex).hidden=Qt||Bt?1:0);let Er=this.variableOffsets[xe.crossTileID];Er&&this.markUsedJustification(s,Er.anchor,xe,ht);let At=this.placedOrientations[xe.crossTileID];At&&(this.markUsedJustification(s,"left",xe,At),this.markUsedOrientation(s,At,xe))}if(at){let St=ws(Ve.icon),Qt=!(oe&&xe.verticalPlacedIconSymbolIndex&&Pt);xe.placedIconSymbolIndex>=0&&(pe(s.icon,xe.numIconVertices,Qt?St:Kd),s.icon.placedSymbolArray.get(xe.placedIconSymbolIndex).hidden=Ve.icon.isHidden()),xe.verticalPlacedIconSymbolIndex>=0&&(pe(s.icon,xe.numVerticalIconVertices,Qt?Kd:St),s.icon.placedSymbolArray.get(xe.verticalPlacedIconSymbolIndex).hidden=Ve.icon.isHidden())}let It=ge&&ge.has(ye)?ge.get(ye):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){let St=s.collisionArrays[ye];if(St){let Qt=new o.P(0,0);if(St.textBox||St.verticalTextBox){let Er=!0;if(V){let At=this.variableOffsets[ke];At?(Qt=Lo(At.anchor,At.width,At.height,At.textOffset,At.textBoxScale),G&&Qt._rotate(X?this.transform.angle:-this.transform.angle)):Er=!1}if(St.textBox||St.verticalTextBox){let At;St.textBox&&(At=Pt),St.verticalTextBox&&(At=Bt),Yd(s.textCollisionBox.collisionVertexArray,Ve.text.placed,!Er||At,It.text,Qt.x,Qt.y)}}if(St.iconBox||St.verticalIconBox){let Er=!!(!Bt&&St.verticalIconBox),At;St.iconBox&&(At=Er),St.verticalIconBox&&(At=!Er),Yd(s.iconCollisionBox.collisionVertexArray,Ve.icon.placed,At,It.icon,oe?Qt.x:0,oe?Qt.y:0)}}}}if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);if(s.bucketInstanceId in this.collisionCircleArrays){let ye=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=ye.invProjMatrix,s.placementViewportMatrix=ye.viewportMatrix,s.collisionCircleArray=ye.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,d){let v=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*v>s}setStale(){this.stale=!0}}function Yd(b,s,d,v,y,x){v&&v.length!==0||(v=[0,0,0,0]);let A=v[0]-Dr,D=v[1]-Dr,R=v[2]-Dr,F=v[3]-Dr;b.emplaceBack(s?1:0,d?1:0,y||0,x||0,A,D),b.emplaceBack(s?1:0,d?1:0,y||0,x||0,R,D),b.emplaceBack(s?1:0,d?1:0,y||0,x||0,R,F),b.emplaceBack(s?1:0,d?1:0,y||0,x||0,A,F)}let zn=Math.pow(2,25),Tb=Math.pow(2,24),Cb=Math.pow(2,17),xs=Math.pow(2,16),bs=Math.pow(2,9),rj=Math.pow(2,8),Ys=Math.pow(2,1);function ws(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;let s=b.placed?1:0,d=Math.floor(127*b.opacity);return d*zn+s*Tb+d*Cb+s*xs+d*bs+s*rj+d*Ys+s}let Kd=0;function _p(){return{isOccluded:(b,s,d)=>!1,getPitchedTextCorrection:(b,s,d)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(b,s,d,v){throw new Error("Not implemented.")},translatePosition:(b,s,d,v)=>function(y,x,A,D,R=!1){if(!A[0]&&!A[1])return[0,0];let F=R?D==="map"?y.angle:0:D==="viewport"?-y.angle:0;if(F){let V=Math.sin(F),G=Math.cos(F);A=[A[0]*G-A[1]*V,A[0]*V+A[1]*G]}return[R?A[0]:rn(x,A[0],y.zoom),R?A[1]:rn(x,A[1],y.zoom)]}(b,s,d,v),getCircleRadiusCorrection:b=>1}}class to{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,d,v,y,x){let A=this._bucketParts;for(;this._currentTileIndex<s.length;)if(d.getBucketParts(A,y,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort((D,R)=>D.sortKey-R.sortKey));this._currentPartIndex<A.length;)if(d.placeLayerBucketPart(A[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,x())return!0;return!1}}class xg{constructor(s,d,v,y,x,A,D,R){this.placement=new fa(s,_p(),d,A,D,R),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(s,d,v){let y=m.now(),x=()=>!this._forceFullPlacement&&m.now()-y>2;for(;this._currentPlacementIndex>=0;){let A=d[s[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(A.type==="symbol"&&(!A.minzoom||A.minzoom<=D)&&(!A.maxzoom||A.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new to(A)),this._inProgressLayer.continuePlacement(v[A.source],this.placement,this._showCollisionBoxes,A,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}let ql=512/o.X/2;class $i{constructor(s,d,v){this.tileID=s,this.bucketInstanceId=v,this._symbolsByKey={};let y=new Map;for(let x=0;x<d.length;x++){let A=d.get(x),D=A.key,R=y.get(D);R?R.push(A):y.set(D,[A])}for(let[x,A]of y){let D={positions:A.map(R=>({x:Math.floor(R.anchorX*ql),y:Math.floor(R.anchorY*ql)})),crossTileIDs:A.map(R=>R.crossTileID)};if(D.positions.length>128){let R=new o.av(D.positions.length,16,Uint16Array);for(let{x:F,y:V}of D.positions)R.add(F,V);R.finish(),delete D.positions,D.index=R}this._symbolsByKey[x]=D}}getScaledCoordinates(s,d){let{x:v,y,z:x}=this.tileID.canonical,{x:A,y:D,z:R}=d.canonical,F=ql/Math.pow(2,R-x),V=(D*o.X+s.anchorY)*F,G=y*o.X*ql;return{x:Math.floor((A*o.X+s.anchorX)*F-v*o.X*ql),y:Math.floor(V-G)}}findMatches(s,d,v){let y=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let x=0;x<s.length;x++){let A=s.get(x);if(A.crossTileID)continue;let D=this._symbolsByKey[A.key];if(!D)continue;let R=this.getScaledCoordinates(A,d);if(D.index){let F=D.index.range(R.x-y,R.y-y,R.x+y,R.y+y).sort();for(let V of F){let G=D.crossTileIDs[V];if(!v[G]){v[G]=!0,A.crossTileID=G;break}}}else if(D.positions)for(let F=0;F<D.positions.length;F++){let V=D.positions[F],G=D.crossTileIDs[F];if(Math.abs(V.x-R.x)<=y&&Math.abs(V.y-R.y)<=y&&!v[G]){v[G]=!0,A.crossTileID=G;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class Yy{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class jl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){let d=Math.round((s-this.lng)/360);if(d!==0)for(let v in this.indexes){let y=this.indexes[v],x={};for(let A in y){let D=y[A];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+d),x[D.tileID.key]=D}this.indexes[v]=x}this.lng=s}addBucket(s,d,v){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let x=0;x<d.symbolInstances.length;x++)d.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});let y=this.usedCrossTileIDs[s.overscaledZ];for(let x in this.indexes){let A=this.indexes[x];if(Number(x)>s.overscaledZ)for(let D in A){let R=A[D];R.tileID.isChildOf(s)&&R.findMatches(d.symbolInstances,s,y)}else{let D=A[s.scaledTo(Number(x)).key];D&&D.findMatches(d.symbolInstances,s,y)}}for(let x=0;x<d.symbolInstances.length;x++){let A=d.symbolInstances.get(x);A.crossTileID||(A.crossTileID=v.generate(),y[A.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new $i(s,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(s,d){for(let v of d.getCrossTileIDsLists())for(let y of v)delete this.usedCrossTileIDs[s][y]}removeStaleBuckets(s){let d=!1;for(let v in this.indexes){let y=this.indexes[v];for(let x in y)s[y[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,y[x]),delete y[x],d=!0)}return d}}class Mb{constructor(){this.layerIndexes={},this.crossTileIDs=new Yy,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,d,v){let y=this.layerIndexes[s.id];y===void 0&&(y=this.layerIndexes[s.id]=new jl);let x=!1,A={};y.handleWrapJump(v);for(let D of d){let R=D.getBucket(s);R&&s.id===R.layerIds[0]&&(R.bucketInstanceId||(R.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(D.tileID,R,this.crossTileIDs)&&(x=!0),A[R.bucketInstanceId]=!0)}return y.removeStaleBuckets(A)&&(x=!0),x}pruneUnusedLayers(s){let d={};s.forEach(v=>{d[v]=!0});for(let v in this.layerIndexes)d[v]||delete this.layerIndexes[v]}}let zl=(b,s)=>o.t(b,s&&s.filter(d=>d.identifier!=="source.canvas")),nj=o.aw();class Ky extends o.E{constructor(s,d={}){super(),this._rtlPluginLoaded=()=>{for(let v in this.sourceCaches){let y=this.sourceCaches[v].getSource().type;y!=="vector"&&y!=="geojson"||this.sourceCaches[v].reload()}},this.map=s,this.dispatcher=new Me(Be(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",(v,y)=>this.getGlyphs(v,y)),this.dispatcher.registerMessageHandler("GI",(v,y)=>this.getImages(v,y)),this.imageManager=new Ee,this.imageManager.setEventedParent(this),this.glyphManager=new $e(s._requestManager,d.localIdeographFontFamily),this.lineAtlas=new st(256,512),this.crossTileSymbolIndex=new Mb,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.ay()),Zs().on(ut,this._rtlPluginLoaded),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;let y=this.sourceCaches[v.sourceId];if(!y)return;let x=y.getSource();if(x&&x.vectorLayerIds)for(let A in this._layers){let D=this._layers[A];D.source===x.id&&this._validateLayer(D)}})}loadURL(s,d={},v){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;let y=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;let x=this._loadStyleRequest;o.h(y,this._loadStyleRequest).then(A=>{this._loadStyleRequest=null,this._load(A.data,d,v)}).catch(A=>{this._loadStyleRequest=null,A&&!x.signal.aborted&&this.fire(new o.j(A))})}loadJSON(s,d={},v){this.fire(new o.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,m.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(s,d,v)}).catch(()=>{})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(nj,{validate:!1})}_load(s,d,v){var y;let x=d.transformStyle?d.transformStyle(v,s):s;if(!d.validate||!zl(this,o.u(x))){this._loaded=!0,this.stylesheet=x;for(let A in x.sources)this.addSource(A,x.sources[A],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new Ce(this.stylesheet.light),this.sky=new et(this.stylesheet.sky),this.map.setTerrain((y=this.stylesheet.terrain)!==null&&y!==void 0?y:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){let s=o.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",s),this._order=s.map(d=>d.id),this._layers={},this._serializedLayers=null;for(let d of s){let v=o.aA(d);v.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=v}}_loadSprite(s,d=!1,v=void 0){let y;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(x,A,D,R){return o._(this,void 0,void 0,function*(){let F=ne(x),V=D>1?"@2x":"",G={},X={};for(let{id:oe,url:le}of F){let pe=A.transformRequest(de(le,V,".json"),"SpriteJSON");G[oe]=o.h(pe,R);let ge=A.transformRequest(de(le,V,".png"),"SpriteImage");X[oe]=q.getImage(ge,R)}return yield Promise.all([...Object.values(G),...Object.values(X)]),function(oe,le){return o._(this,void 0,void 0,function*(){let pe={};for(let ge in oe){pe[ge]={};let ye=m.getImageCanvasContext((yield le[ge]).data),xe=(yield oe[ge]).data;for(let ce in xe){let{width:Oe,height:ke,x:Ve,y:at,sdf:ht,pixelRatio:Pt,stretchX:Bt,stretchY:It,content:St,textFitWidth:Qt,textFitHeight:Er}=xe[ce];pe[ge][ce]={data:null,pixelRatio:Pt,sdf:ht,stretchX:Bt,stretchY:It,content:St,textFitWidth:Qt,textFitHeight:Er,spriteData:{width:Oe,height:ke,x:Ve,y:at,context:ye}}}}return pe})}(G,X)})}(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(x=>{if(this._spriteRequest=null,x)for(let A in x){this._spritesImagesIds[A]=[];let D=this._spritesImagesIds[A]?this._spritesImagesIds[A].filter(R=>!(R in x)):[];for(let R of D)this.imageManager.removeImage(R),this._changedImages[R]=!0;for(let R in x[A]){let F=A==="default"?R:`${A}:${R}`;this._spritesImagesIds[A].push(F),F in this.imageManager.images?this.imageManager.updateImage(F,x[A][R],!1):this.imageManager.addImage(F,x[A][R]),d&&(this._changedImages[F]=!0)}}}).catch(x=>{this._spriteRequest=null,y=x,this.fire(new o.j(y))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),v&&v(y)})}_unloadSprite(){for(let s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(s){let d=this.sourceCaches[s.source];if(!d)return;let v=s.sourceLayer;if(!v)return;let y=d.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(v)===-1)&&this.fire(new o.j(new Error(`Source layer "${v}" does not exist on source "${y.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,d=!1){let v=this._serializedAllLayers();if(!s||s.length===0)return Object.values(d?o.aB(v):v);let y=[];for(let x of s)if(v[x]){let A=d?o.aB(v[x]):v[x];y.push(A)}return y}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};let d=Object.keys(this._layers);for(let v of d){let y=this._layers[v];y.type!=="custom"&&(s[v]=y.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(let s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(let s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;let d=this._changed;if(d){let y=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(y.length||x.length)&&this._updateWorkerLayers(y,x);for(let A in this._updatedSources){let D=this._updatedSources[A];if(D==="reload")this._reloadSource(A);else{if(D!=="clear")throw new Error(`Invalid action ${D}`);this._clearSource(A)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let A in this._updatedPaintProps)this._layers[A].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}let v={};for(let y in this.sourceCaches){let x=this.sourceCaches[y];v[y]=x.used,x.used=!1}for(let y of this._order){let x=this._layers[y];x.recalculate(s,this._availableImages),!x.isHidden(s.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(let y in v){let x=this.sourceCaches[y];!!v[y]!=!!x.used&&x.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(s),this.sky.recalculate(s),this.z=s.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){let s=Object.keys(this._changedImages);if(s.length){for(let d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,d={}){var v;this._checkLoaded();let y=this.serialize();if(s=d.transformStyle?d.transformStyle(y,s):s,((v=d.validate)===null||v===void 0||v)&&zl(this,o.u(s)))return!1;(s=o.aB(s)).layers=o.az(s.layers);let x=o.aC(y,s),A=this._getOperationsToPerform(x);if(A.unimplemented.length>0)throw new Error(`Unimplemented: ${A.unimplemented.join(", ")}.`);if(A.operations.length===0)return!1;for(let D of A.operations)D();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){let d=[],v=[];for(let y of s)switch(y.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,y.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,y.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,y.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,y.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,y.args));break;case"addSource":d.push(()=>this.addSource.apply(this,y.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,y.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,y.args));break;case"setLight":d.push(()=>this.setLight.apply(this,y.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,y.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,y.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,y.args));break;case"setSky":d.push(()=>this.setSky.apply(this,y.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,y.args));break;case"setTransition":d.push(()=>{});break;default:v.push(y.command);}return{operations:d,unimplemented:v}}addImage(s,d){if(this.getImage(s))return this.fire(new o.j(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,d),this._afterImageUpdated(s)}updateImage(s,d){this.imageManager.updateImage(s,d)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new o.j(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,d,v={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.u.source,`sources.${s}`,d,null,v))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);let y=this.sourceCaches[s]=new gr(s,d,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:s})),y.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(let v in this._layers)if(this._layers[v].source===s)return this.fire(new o.j(new Error(`Source "${s}" cannot be removed while layer "${v}" is using it.`)));let d=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,d){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);let v=this.sourceCaches[s].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(d),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,d,v={}){this._checkLoaded();let y=s.id;if(this.getLayer(y))return void this.fire(new o.j(new Error(`Layer "${y}" already exists on this map.`)));let x;if(s.type==="custom"){if(zl(this,o.aD(s)))return;x=o.aA(s)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(y,s.source),s=o.aB(s),s=o.e(s,{source:y})),this._validate(o.u.layer,`layers.${y}`,s,{arrayIndex:-1},v))return;x=o.aA(s),this._validateLayer(x),x.setEventedParent(this,{layer:{id:y}})}let A=d?this._order.indexOf(d):this._order.length;if(d&&A===-1)this.fire(new o.j(new Error(`Cannot add layer "${y}" before non-existing layer "${d}".`)));else{if(this._order.splice(A,0,y),this._layerOrderChanged=!0,this._layers[y]=x,this._removedLayers[y]&&x.source&&x.type!=="custom"){let D=this._removedLayers[y];delete this._removedLayers[y],D.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(s,d){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new o.j(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===d)return;let v=this._order.indexOf(s);this._order.splice(v,1);let y=d?this._order.indexOf(d):this._order.length;d&&y===-1?this.fire(new o.j(new Error(`Cannot move layer "${s}" before non-existing layer "${d}".`))):(this._order.splice(y,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();let d=this._layers[s];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${s}".`)));d.setEventedParent(null);let v=this._order.indexOf(s);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=d,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],d.onRemove&&d.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,d,v){this._checkLoaded();let y=this.getLayer(s);y?y.minzoom===d&&y.maxzoom===v||(d!=null&&(y.minzoom=d),v!=null&&(y.maxzoom=v),this._updateLayer(y)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,d,v={}){this._checkLoaded();let y=this.getLayer(s);if(y){if(!o.aE(y.filter,d))return d==null?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(o.u.filter,`layers.${y.id}.filter`,d,null,v)||(y.filter=o.aB(d),this._updateLayer(y)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return o.aB(this.getLayer(s).filter)}setLayoutProperty(s,d,v,y={}){this._checkLoaded();let x=this.getLayer(s);x?o.aE(x.getLayoutProperty(d),v)||(x.setLayoutProperty(d,v,y),this._updateLayer(x)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,d){let v=this.getLayer(s);if(v)return v.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,d,v,y={}){this._checkLoaded();let x=this.getLayer(s);x?o.aE(x.getPaintProperty(d),v)||(x.setPaintProperty(d,v,y)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[s]=!0,this._serializedLayers=null):this.fire(new o.j(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,d){return this.getLayer(s).getPaintProperty(d)}setFeatureState(s,d){this._checkLoaded();let v=s.source,y=s.sourceLayer,x=this.sourceCaches[v];if(x===void 0)return void this.fire(new o.j(new Error(`The source '${v}' does not exist in the map's style.`)));let A=x.getSource().type;A==="geojson"&&y?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):A!=="vector"||y?(s.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(y,s.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,d){this._checkLoaded();let v=s.source,y=this.sourceCaches[v];if(y===void 0)return void this.fire(new o.j(new Error(`The source '${v}' does not exist in the map's style.`)));let x=y.getSource().type,A=x==="vector"?s.sourceLayer:void 0;x!=="vector"||A?d&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(A,s.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();let d=s.source,v=s.sourceLayer,y=this.sourceCaches[d];if(y!==void 0)return y.getSource().type!=="vector"||v?(s.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),y.getFeatureState(v,s.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let s=o.aF(this.sourceCaches,x=>x.serialize()),d=this._serializeByIds(this._order,!0),v=this.map.getTerrain()||void 0,y=this.stylesheet;return o.aG({version:y.version,name:y.name,metadata:y.metadata,light:y.light,sky:y.sky,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:s,layers:d,terrain:v},x=>x!==void 0)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){let d=A=>this._layers[A].type==="fill-extrusion",v={},y=[];for(let A=this._order.length-1;A>=0;A--){let D=this._order[A];if(d(D)){v[D]=A;for(let R of s){let F=R[D];if(F)for(let V of F)y.push(V)}}}y.sort((A,D)=>D.intersectionZ-A.intersectionZ);let x=[];for(let A=this._order.length-1;A>=0;A--){let D=this._order[A];if(d(D))for(let R=y.length-1;R>=0;R--){let F=y[R].feature;if(v[F.layer.id]<A)break;x.push(F),y.pop()}else for(let R of s){let F=R[D];if(F)for(let V of F)x.push(V.feature)}}return x}queryRenderedFeatures(s,d,v){d&&d.filter&&this._validate(o.u.filter,"queryRenderedFeatures.filter",d.filter,null,d);let y={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(let D of d.layers){let R=this._layers[D];if(!R)return this.fire(new o.j(new Error(`The layer '${D}' does not exist in the map's style and cannot be queried for features.`))),[];y[R.source]=!0}}let x=[];d.availableImages=this._availableImages;let A=this._serializedAllLayers();for(let D in this.sourceCaches)d.layers&&!y[D]||x.push(xt(this.sourceCaches[D],this._layers,A,s,d,v));return this.placement&&x.push(function(D,R,F,V,G,X,oe){let le={},pe=X.queryRenderedSymbols(V),ge=[];for(let ye of Object.keys(pe).map(Number))ge.push(oe[ye]);ge.sort(bt);for(let ye of ge){let xe=ye.featureIndex.lookupSymbolFeatures(pe[ye.bucketInstanceId],R,ye.bucketIndex,ye.sourceLayerIndex,G.filter,G.layers,G.availableImages,D);for(let ce in xe){let Oe=le[ce]=le[ce]||[],ke=xe[ce];ke.sort((Ve,at)=>{let ht=ye.featureSortOrder;if(ht){let Pt=ht.indexOf(Ve.featureIndex);return ht.indexOf(at.featureIndex)-Pt}return at.featureIndex-Ve.featureIndex});for(let Ve of ke)Oe.push(Ve)}}for(let ye in le)le[ye].forEach(xe=>{let ce=xe.feature,Oe=F[D[ye].source].getFeatureState(ce.layer["source-layer"],ce.id);ce.source=ce.layer.source,ce.layer["source-layer"]&&(ce.sourceLayer=ce.layer["source-layer"]),ce.state=Oe});return le}(this._layers,A,this.sourceCaches,s,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(s,d){d&&d.filter&&this._validate(o.u.filter,"querySourceFeatures.filter",d.filter,null,d);let v=this.sourceCaches[s];return v?function(y,x){let A=y.getRenderableIds().map(F=>y.getTileByID(F)),D=[],R={};for(let F=0;F<A.length;F++){let V=A[F],G=V.tileID.canonical.key;R[G]||(R[G]=!0,V.querySourceFeatures(D,x))}return D}(v,d):[]}getLight(){return this.light.getLight()}setLight(s,d={}){this._checkLoaded();let v=this.light.getLight(),y=!1;for(let A in s)if(!o.aE(s[A],v[A])){y=!0;break}if(!y)return;let x={now:m.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,d),this.light.updateTransitions(x)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,d={}){let v=this.getSky(),y=!1;if(!s&&!v)return;if(s&&!v)y=!0;else if(!s&&v)y=!0;else for(let A in s)if(!o.aE(s[A],v[A])){y=!0;break}if(!y)return;let x={now:m.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,d),this.sky.updateTransitions(x)}_validate(s,d,v,y,x={}){return(!x||x.validate!==!1)&&zl(this,s.call(o.u,o.e({key:d,style:this.serialize(),value:v,styleSpec:o.v},y)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Zs().off(ut,this._rtlPluginLoaded);for(let d in this._layers)this._layers[d].setEventedParent(null);for(let d in this.sourceCaches){let v=this.sourceCaches[d];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(let d in this.sourceCaches)this.sourceCaches[d].update(s,this.map.terrain)}_generateCollisionBoxes(){for(let s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,d,v,y,x=!1){let A=!1,D=!1,R={};for(let F of this._order){let V=this._layers[F];if(V.type!=="symbol")continue;if(!R[V.source]){let X=this.sourceCaches[V.source];R[V.source]=X.getRenderableIds(!0).map(oe=>X.getTileByID(oe)).sort((oe,le)=>le.tileID.overscaledZ-oe.tileID.overscaledZ||(oe.tileID.isLessThan(le.tileID)?-1:1))}let G=this.crossTileSymbolIndex.addLayer(V,R[V.source],s.center.lng);A=A||G}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(m.now(),s.zoom))&&(this.pauseablePlacement=new xg(s,this.map.terrain,this._order,x,d,v,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,R),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(m.now()),D=!0),A&&this.pauseablePlacement.placement.setStale()),D||A)for(let F of this._order){let V=this._layers[F];V.type==="symbol"&&this.placement.updateLayerOpacities(V,R[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(m.now())}_releaseSymbolFadeTiles(){for(let s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,d){return o._(this,void 0,void 0,function*(){let v=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();let y=this.sourceCaches[d.source];return y&&y.setDependencies(d.tileID.key,d.type,d.icons),v})}getGlyphs(s,d){return o._(this,void 0,void 0,function*(){let v=yield this.glyphManager.getGlyphs(d.stacks),y=this.sourceCaches[d.source];return y&&y.setDependencies(d.tileID.key,d.type,[""]),v})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,d={}){this._checkLoaded(),s&&this._validate(o.u.glyphs,"glyphs",s,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,d,v={},y){this._checkLoaded();let x=[{id:s,url:d}],A=[...ne(this.stylesheet.sprite),...x];this._validate(o.u.sprite,"sprite",A,null,v)||(this.stylesheet.sprite=A,this._loadSprite(x,!0,y))}removeSprite(s){this._checkLoaded();let d=ne(this.stylesheet.sprite);if(d.find(v=>v.id===s)){if(this._spritesImagesIds[s])for(let v of this._spritesImagesIds[s])this.imageManager.removeImage(v),this._changedImages[v]=!0;d.splice(d.findIndex(v=>v.id===s),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return ne(this.stylesheet.sprite)}setSprite(s,d={},v){this._checkLoaded(),s&&this._validate(o.u.sprite,"sprite",s,null,d)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,v):(this._unloadSprite(),v&&v(null)))}}var xp=o.Y([{name:"a_pos",type:"Int16",components:2}]);let sf={prelude:Sn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Sn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Sn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Sn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Sn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Sn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:Sn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Sn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Sn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Sn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Sn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Sn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Sn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Sn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Sn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Sn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Sn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Sn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Sn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Sn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Sn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Sn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Sn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Sn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Sn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Sn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Sn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Sn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Sn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:Sn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Sn(b,s){let d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=s.match(/attribute ([\w]+) ([\w]+)/g),y=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=x?x.concat(y):y,D={};return{fragmentSource:b=b.replace(d,(R,F,V,G,X)=>(D[X]=!0,F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${V} ${G} ${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = u_${X};
#endif
`)),vertexSource:s=s.replace(d,(R,F,V,G,X)=>{let oe=G==="float"?"vec2":"vec4",le=X.match(/color/)?"color":oe;return D[X]?F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${V} ${oe} a_${X};
varying ${V} ${G} ${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${le}(a_${X}, u_${X}_t);
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:F==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${V} ${oe} a_${X};
#else
uniform ${V} ${G} u_${X};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = a_${X};
#else
    ${V} ${G} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${V} ${G} ${X} = unpack_mix_${le}(a_${X}, u_${X}_t);
#else
    ${V} ${G} ${X} = u_${X};
#endif
`}),staticAttributes:v,staticUniforms:A}}class Ab{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,d,v,y,x,A,D,R,F){this.context=s;let V=this.boundPaintVertexBuffers.length!==y.length;for(let G=0;!V&&G<y.length;G++)this.boundPaintVertexBuffers[G]!==y[G]&&(V=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==v||V||this.boundIndexBuffer!==x||this.boundVertexOffset!==A||this.boundDynamicVertexBuffer!==D||this.boundDynamicVertexBuffer2!==R||this.boundDynamicVertexBuffer3!==F?this.freshBind(d,v,y,x,A,D,R,F):(s.bindVertexArray.set(this.vao),D&&D.bind(),x&&x.dynamicDraw&&x.bind(),R&&R.bind(),F&&F.bind())}freshBind(s,d,v,y,x,A,D,R){let F=s.numAttributes,V=this.context,G=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=y,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=A,this.boundDynamicVertexBuffer2=D,this.boundDynamicVertexBuffer3=R,d.enableAttributes(G,s);for(let X of v)X.enableAttributes(G,s);A&&A.enableAttributes(G,s),D&&D.enableAttributes(G,s),R&&R.enableAttributes(G,s),d.bind(),d.setVertexAttribPointers(G,s,x);for(let X of v)X.bind(),X.setVertexAttribPointers(G,s,x);A&&(A.bind(),A.setVertexAttribPointers(G,s,x)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(G,s,x)),R&&(R.bind(),R.setVertexAttribPointers(G,s,x)),V.currentNumAttributes=F}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let Ob=(b,s,d,v,y)=>({u_matrix:b,u_texture:0,u_ele_delta:s,u_fog_matrix:d,u_fog_color:v?v.properties.get("fog-color"):o.aM.white,u_fog_ground_blend:v?v.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:v?v.calculateFogBlendOpacity(y):0,u_horizon_color:v?v.properties.get("horizon-color"):o.aM.white,u_horizon_fog_blend:v?v.properties.get("horizon-fog-blend"):1});function Xd(b){let s=[];for(let d=0;d<b.length;d++){if(b[d]===null)continue;let v=b[d].split(" ");s.push(v.pop())}return s}class Db{constructor(s,d,v,y,x,A){let D=s.gl;this.program=D.createProgram();let R=Xd(d.staticAttributes),F=v?v.getBinderAttributes():[],V=R.concat(F),G=sf.prelude.staticUniforms?Xd(sf.prelude.staticUniforms):[],X=d.staticUniforms?Xd(d.staticUniforms):[],oe=v?v.getBinderUniforms():[],le=G.concat(X).concat(oe),pe=[];for(let Ve of le)pe.indexOf(Ve)<0&&pe.push(Ve);let ge=v?v.defines():[];x&&ge.push("#define OVERDRAW_INSPECTOR;"),A&&ge.push("#define TERRAIN3D;");let ye=ge.concat(sf.prelude.fragmentSource,d.fragmentSource).join(`
`),xe=ge.concat(sf.prelude.vertexSource,d.vertexSource).join(`
`),ce=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);if(D.shaderSource(ce,ye),D.compileShader(ce),!D.getShaderParameter(ce,D.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${D.getShaderInfoLog(ce)}`);D.attachShader(this.program,ce);let Oe=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);if(D.shaderSource(Oe,xe),D.compileShader(Oe),!D.getShaderParameter(Oe,D.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${D.getShaderInfoLog(Oe)}`);D.attachShader(this.program,Oe),this.attributes={};let ke={};this.numAttributes=V.length;for(let Ve=0;Ve<this.numAttributes;Ve++)V[Ve]&&(D.bindAttribLocation(this.program,Ve,V[Ve]),this.attributes[V[Ve]]=Ve);if(D.linkProgram(this.program),!D.getProgramParameter(this.program,D.LINK_STATUS))throw new Error(`Program failed to link: ${D.getProgramInfoLog(this.program)}`);D.deleteShader(Oe),D.deleteShader(ce);for(let Ve=0;Ve<pe.length;Ve++){let at=pe[Ve];if(at&&!ke[at]){let ht=D.getUniformLocation(this.program,at);ht&&(ke[at]=ht)}}this.fixedUniforms=y(s,ke),this.terrainUniforms=((Ve,at)=>({u_depth:new o.aH(Ve,at.u_depth),u_terrain:new o.aH(Ve,at.u_terrain),u_terrain_dim:new o.aI(Ve,at.u_terrain_dim),u_terrain_matrix:new o.aJ(Ve,at.u_terrain_matrix),u_terrain_unpack:new o.aK(Ve,at.u_terrain_unpack),u_terrain_exaggeration:new o.aI(Ve,at.u_terrain_exaggeration)}))(s,ke),this.binderUniforms=v?v.getUniforms(s,ke):[]}draw(s,d,v,y,x,A,D,R,F,V,G,X,oe,le,pe,ge,ye,xe){let ce=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(v),s.setStencilMode(y),s.setColorMode(x),s.setCullFace(A),R){s.activeTexture.set(ce.TEXTURE2),ce.bindTexture(ce.TEXTURE_2D,R.depthTexture),s.activeTexture.set(ce.TEXTURE3),ce.bindTexture(ce.TEXTURE_2D,R.texture);for(let ke in this.terrainUniforms)this.terrainUniforms[ke].set(R[ke])}for(let ke in this.fixedUniforms)this.fixedUniforms[ke].set(D[ke]);pe&&pe.setUniforms(s,this.binderUniforms,oe,{zoom:le});let Oe=0;switch(d){case ce.LINES:Oe=2;break;case ce.TRIANGLES:Oe=3;break;case ce.LINE_STRIP:Oe=1;}for(let ke of X.get()){let Ve=ke.vaos||(ke.vaos={});(Ve[F]||(Ve[F]=new Ab)).bind(s,this,V,pe?pe.getPaintVertexBuffers():[],G,ke.vertexOffset,ge,ye,xe),ce.drawElements(d,ke.primitiveLength*Oe,ce.UNSIGNED_SHORT,ke.primitiveOffset*Oe*2)}}}function Xy(b,s,d){let v=1/rn(d,1,s.transform.tileZoom),y=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,s.transform.tileZoom)/y,A=x*(d.tileID.canonical.x+d.tileID.wrap*y),D=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[v,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[A>>16,D>>16],u_pixel_coord_lower:[65535&A,65535&D]}}let bg=(b,s,d,v)=>{let y=s.style.light,x=y.properties.get("position"),A=[x.x,x.y,x.z],D=function(){var F=new o.A(9);return o.A!=Float32Array&&(F[1]=0,F[2]=0,F[3]=0,F[5]=0,F[6]=0,F[7]=0),F[0]=1,F[4]=1,F[8]=1,F}();y.properties.get("anchor")==="viewport"&&function(F,V){var G=Math.sin(V),X=Math.cos(V);F[0]=X,F[1]=G,F[2]=0,F[3]=-G,F[4]=X,F[5]=0,F[6]=0,F[7]=0,F[8]=1}(D,-s.transform.angle),function(F,V,G){var X=V[0],oe=V[1],le=V[2];F[0]=X*G[0]+oe*G[3]+le*G[6],F[1]=X*G[1]+oe*G[4]+le*G[7],F[2]=X*G[2]+oe*G[5]+le*G[8]}(A,A,D);let R=y.properties.get("color");return{u_matrix:b,u_lightpos:A,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[R.r,R.g,R.b],u_vertical_gradient:+d,u_opacity:v}},Qy=(b,s,d,v,y,x,A)=>o.e(bg(b,s,d,v),Xy(x,s,A),{u_height_factor:-Math.pow(2,y.overscaledZ)/A.tileSize/8}),Qd=b=>({u_matrix:b}),LC=(b,s,d,v)=>o.e(Qd(b),Xy(d,s,v)),ij=(b,s)=>({u_matrix:b,u_world:s}),NC=(b,s,d,v,y)=>o.e(LC(b,s,d,v),{u_world:y}),oj=(b,s,d,v)=>{let y=b.transform,x,A;if(v.paint.get("circle-pitch-alignment")==="map"){let D=rn(d,1,y.zoom);x=!0,A=[D,D]}else x=!1,A=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:b.translatePosMatrix(s.posMatrix,d,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:A}},bp=(b,s,d)=>({u_matrix:b,u_inv_matrix:s,u_camera_to_center_distance:d.cameraToCenterDistance,u_viewport_size:[d.width,d.height]}),wg=(b,s,d=1)=>({u_matrix:b,u_color:s,u_overlay:0,u_overlay_scale:d}),Fa=b=>({u_matrix:b}),Ba=(b,s,d,v)=>({u_matrix:b,u_extrude_scale:rn(s,1,d),u_intensity:v}),Jy=(b,s,d,v)=>{let y=o.H();o.aP(y,0,b.width,b.height,0,0,1);let x=b.context.gl;return{u_matrix:y,u_world:[x.drawingBufferWidth,x.drawingBufferHeight],u_image:d,u_color_ramp:v,u_opacity:s.paint.get("heatmap-opacity")}};function e0(b,s){let d=Math.pow(2,s.canonical.z),v=s.canonical.y;return[new o.Z(0,v/d).toLngLat().lat,new o.Z(0,(v+1)/d).toLngLat().lat]}let t0=(b,s,d,v)=>{let y=b.transform;return{u_matrix:qC(b,s,d,v),u_ratio:1/rn(s,1,y.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},RC=(b,s,d,v,y)=>o.e(t0(b,s,d,y),{u_image:0,u_image_height:v}),Jd=(b,s,d,v,y)=>{let x=b.transform,A=kC(s,x);return{u_matrix:qC(b,s,d,y),u_texsize:s.imageAtlasTexture.size,u_ratio:1/rn(s,1,x.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[A,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},aj=(b,s,d,v,y,x)=>{let A=b.lineAtlas,D=kC(s,b.transform),R=d.layout.get("line-cap")==="round",F=A.getDash(v.from,R),V=A.getDash(v.to,R),G=F.width*y.fromScale,X=V.width*y.toScale;return o.e(t0(b,s,d,x),{u_patternscale_a:[D/G,-F.height/2],u_patternscale_b:[D/X,-V.height/2],u_sdfgamma:A.width/(256*Math.min(G,X)*b.pixelRatio)/2,u_image:0,u_tex_y_a:F.y,u_tex_y_b:V.y,u_mix:y.t})};function kC(b,s){return 1/rn(b,1,s.tileZoom)}function qC(b,s,d,v){return b.translatePosMatrix(v?v.posMatrix:s.tileID.posMatrix,s,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}let sj=(b,s,d,v,y)=>{return{u_matrix:b,u_tl_parent:s,u_scale_parent:d,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:y.paint.get("raster-brightness-min"),u_brightness_high:y.paint.get("raster-brightness-max"),u_saturation_factor:(A=y.paint.get("raster-saturation"),A>0?1-1/(1.001-A):-A),u_contrast_factor:(x=y.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:lj(y.paint.get("raster-hue-rotate"))};var x,A};function lj(b){b*=Math.PI/180;let s=Math.sin(b),d=Math.cos(b);return[(2*d+1)/3,(-Math.sqrt(3)*s-d+1)/3,(Math.sqrt(3)*s-d+1)/3]}let jC=(b,s,d,v,y,x,A,D,R,F,V,G,X,oe)=>{let le=A.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:le.cameraToCenterDistance,u_pitch:le.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:le.width/le.height,u_fade_change:A.options.fadeDuration?A.symbolFadeChange:1,u_matrix:D,u_label_plane_matrix:R,u_coord_matrix:F,u_is_text:+G,u_pitch_with_map:+v,u_is_along_line:y,u_is_variable_anchor:x,u_texsize:X,u_texture:0,u_translation:V,u_pitched_scale:oe}},Sg=(b,s,d,v,y,x,A,D,R,F,V,G,X,oe,le)=>{let pe=A.transform;return o.e(jC(b,s,d,v,y,x,A,D,R,F,V,G,X,le),{u_gamma_scale:v?Math.cos(pe._pitch)*pe.cameraToCenterDistance:1,u_device_pixel_ratio:A.pixelRatio,u_is_halo:+oe})},Pb=(b,s,d,v,y,x,A,D,R,F,V,G,X,oe)=>o.e(Sg(b,s,d,v,y,x,A,D,R,F,V,!0,G,!0,oe),{u_texsize_icon:X,u_texture_icon:1}),r0=(b,s,d)=>({u_matrix:b,u_opacity:s,u_color:d}),Lb=(b,s,d,v,y,x)=>o.e(function(A,D,R,F){let V=R.imageManager.getPattern(A.from.toString()),G=R.imageManager.getPattern(A.to.toString()),{width:X,height:oe}=R.imageManager.getPixelSize(),le=Math.pow(2,F.tileID.overscaledZ),pe=F.tileSize*Math.pow(2,R.transform.tileZoom)/le,ge=pe*(F.tileID.canonical.x+F.tileID.wrap*le),ye=pe*F.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:V.tl,u_pattern_br_a:V.br,u_pattern_tl_b:G.tl,u_pattern_br_b:G.br,u_texsize:[X,oe],u_mix:D.t,u_pattern_size_a:V.displaySize,u_pattern_size_b:G.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/rn(F,1,R.transform.tileZoom),u_pixel_coord_upper:[ge>>16,ye>>16],u_pixel_coord_lower:[65535&ge,65535&ye]}}(v,x,d,y),{u_matrix:b,u_opacity:s}),Nb={fillExtrusion:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_lightpos:new o.aN(b,s.u_lightpos),u_lightintensity:new o.aI(b,s.u_lightintensity),u_lightcolor:new o.aN(b,s.u_lightcolor),u_vertical_gradient:new o.aI(b,s.u_vertical_gradient),u_opacity:new o.aI(b,s.u_opacity)}),fillExtrusionPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_lightpos:new o.aN(b,s.u_lightpos),u_lightintensity:new o.aI(b,s.u_lightintensity),u_lightcolor:new o.aN(b,s.u_lightcolor),u_vertical_gradient:new o.aI(b,s.u_vertical_gradient),u_height_factor:new o.aI(b,s.u_height_factor),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade),u_opacity:new o.aI(b,s.u_opacity)}),fill:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix)}),fillPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),fillOutline:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world)}),fillOutlinePattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world),u_image:new o.aH(b,s.u_image),u_texsize:new o.aO(b,s.u_texsize),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),circle:(b,s)=>({u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_scale_with_map:new o.aH(b,s.u_scale_with_map),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_extrude_scale:new o.aO(b,s.u_extrude_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_matrix:new o.aJ(b,s.u_matrix)}),collisionBox:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_pixel_extrude_scale:new o.aO(b,s.u_pixel_extrude_scale)}),collisionCircle:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_inv_matrix:new o.aJ(b,s.u_inv_matrix),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_viewport_size:new o.aO(b,s.u_viewport_size)}),debug:(b,s)=>({u_color:new o.aL(b,s.u_color),u_matrix:new o.aJ(b,s.u_matrix),u_overlay:new o.aH(b,s.u_overlay),u_overlay_scale:new o.aI(b,s.u_overlay_scale)}),clippingMask:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix)}),heatmap:(b,s)=>({u_extrude_scale:new o.aI(b,s.u_extrude_scale),u_intensity:new o.aI(b,s.u_intensity),u_matrix:new o.aJ(b,s.u_matrix)}),heatmapTexture:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_world:new o.aO(b,s.u_world),u_image:new o.aH(b,s.u_image),u_color_ramp:new o.aH(b,s.u_color_ramp),u_opacity:new o.aI(b,s.u_opacity)}),hillshade:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_latrange:new o.aO(b,s.u_latrange),u_light:new o.aO(b,s.u_light),u_shadow:new o.aL(b,s.u_shadow),u_highlight:new o.aL(b,s.u_highlight),u_accent:new o.aL(b,s.u_accent)}),hillshadePrepare:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_image:new o.aH(b,s.u_image),u_dimension:new o.aO(b,s.u_dimension),u_zoom:new o.aI(b,s.u_zoom),u_unpack:new o.aK(b,s.u_unpack)}),line:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels)}),lineGradient:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_image:new o.aH(b,s.u_image),u_image_height:new o.aI(b,s.u_image_height)}),linePattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texsize:new o.aO(b,s.u_texsize),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_image:new o.aH(b,s.u_image),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_scale:new o.aN(b,s.u_scale),u_fade:new o.aI(b,s.u_fade)}),lineSDF:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ratio:new o.aI(b,s.u_ratio),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,s.u_units_to_pixels),u_patternscale_a:new o.aO(b,s.u_patternscale_a),u_patternscale_b:new o.aO(b,s.u_patternscale_b),u_sdfgamma:new o.aI(b,s.u_sdfgamma),u_image:new o.aH(b,s.u_image),u_tex_y_a:new o.aI(b,s.u_tex_y_a),u_tex_y_b:new o.aI(b,s.u_tex_y_b),u_mix:new o.aI(b,s.u_mix)}),raster:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_tl_parent:new o.aO(b,s.u_tl_parent),u_scale_parent:new o.aI(b,s.u_scale_parent),u_buffer_scale:new o.aI(b,s.u_buffer_scale),u_fade_t:new o.aI(b,s.u_fade_t),u_opacity:new o.aI(b,s.u_opacity),u_image0:new o.aH(b,s.u_image0),u_image1:new o.aH(b,s.u_image1),u_brightness_low:new o.aI(b,s.u_brightness_low),u_brightness_high:new o.aI(b,s.u_brightness_high),u_saturation_factor:new o.aI(b,s.u_saturation_factor),u_contrast_factor:new o.aI(b,s.u_contrast_factor),u_spin_weights:new o.aN(b,s.u_spin_weights)}),symbolIcon:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texture:new o.aH(b,s.u_texture),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),symbolSDF:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texture:new o.aH(b,s.u_texture),u_gamma_scale:new o.aI(b,s.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_is_halo:new o.aH(b,s.u_is_halo),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),symbolTextAndIcon:(b,s)=>({u_is_size_zoom_constant:new o.aH(b,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,s.u_is_size_feature_constant),u_size_t:new o.aI(b,s.u_size_t),u_size:new o.aI(b,s.u_size),u_camera_to_center_distance:new o.aI(b,s.u_camera_to_center_distance),u_pitch:new o.aI(b,s.u_pitch),u_rotate_symbol:new o.aH(b,s.u_rotate_symbol),u_aspect_ratio:new o.aI(b,s.u_aspect_ratio),u_fade_change:new o.aI(b,s.u_fade_change),u_matrix:new o.aJ(b,s.u_matrix),u_label_plane_matrix:new o.aJ(b,s.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,s.u_coord_matrix),u_is_text:new o.aH(b,s.u_is_text),u_pitch_with_map:new o.aH(b,s.u_pitch_with_map),u_is_along_line:new o.aH(b,s.u_is_along_line),u_is_variable_anchor:new o.aH(b,s.u_is_variable_anchor),u_texsize:new o.aO(b,s.u_texsize),u_texsize_icon:new o.aO(b,s.u_texsize_icon),u_texture:new o.aH(b,s.u_texture),u_texture_icon:new o.aH(b,s.u_texture_icon),u_gamma_scale:new o.aI(b,s.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,s.u_device_pixel_ratio),u_is_halo:new o.aH(b,s.u_is_halo),u_translation:new o.aO(b,s.u_translation),u_pitched_scale:new o.aI(b,s.u_pitched_scale)}),background:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_opacity:new o.aI(b,s.u_opacity),u_color:new o.aL(b,s.u_color)}),backgroundPattern:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_opacity:new o.aI(b,s.u_opacity),u_image:new o.aH(b,s.u_image),u_pattern_tl_a:new o.aO(b,s.u_pattern_tl_a),u_pattern_br_a:new o.aO(b,s.u_pattern_br_a),u_pattern_tl_b:new o.aO(b,s.u_pattern_tl_b),u_pattern_br_b:new o.aO(b,s.u_pattern_br_b),u_texsize:new o.aO(b,s.u_texsize),u_mix:new o.aI(b,s.u_mix),u_pattern_size_a:new o.aO(b,s.u_pattern_size_a),u_pattern_size_b:new o.aO(b,s.u_pattern_size_b),u_scale_a:new o.aI(b,s.u_scale_a),u_scale_b:new o.aI(b,s.u_scale_b),u_pixel_coord_upper:new o.aO(b,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,s.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aI(b,s.u_tile_units_to_pixels)}),terrain:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texture:new o.aH(b,s.u_texture),u_ele_delta:new o.aI(b,s.u_ele_delta),u_fog_matrix:new o.aJ(b,s.u_fog_matrix),u_fog_color:new o.aL(b,s.u_fog_color),u_fog_ground_blend:new o.aI(b,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.aI(b,s.u_fog_ground_blend_opacity),u_horizon_color:new o.aL(b,s.u_horizon_color),u_horizon_fog_blend:new o.aI(b,s.u_horizon_fog_blend)}),terrainDepth:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_ele_delta:new o.aI(b,s.u_ele_delta)}),terrainCoords:(b,s)=>({u_matrix:new o.aJ(b,s.u_matrix),u_texture:new o.aH(b,s.u_texture),u_terrain_coords_id:new o.aI(b,s.u_terrain_coords_id),u_ele_delta:new o.aI(b,s.u_ele_delta)}),sky:(b,s)=>({u_sky_color:new o.aL(b,s.u_sky_color),u_horizon_color:new o.aL(b,s.u_horizon_color),u_horizon:new o.aI(b,s.u_horizon),u_sky_horizon_blend:new o.aI(b,s.u_sky_horizon_blend)})};class vu{constructor(s,d,v){this.context=s;let y=s.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){let d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let uj={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Rb{constructor(s,d,v,y){this.length=d.length,this.attributes=v,this.itemSize=d.bytesPerElement,this.dynamicDraw=y,this.context=s;let x=s.gl;this.buffer=x.createBuffer(),s.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);let d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,d){for(let v=0;v<this.attributes.length;v++){let y=d.attributes[this.attributes[v].name];y!==void 0&&s.enableVertexAttribArray(y)}}setVertexAttribPointers(s,d,v){for(let y=0;y<this.attributes.length;y++){let x=this.attributes[y],A=d.attributes[x.name];A!==void 0&&s.vertexAttribPointer(A,x.components,s[uj[x.type]],!1,this.itemSize,x.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let wp=new WeakMap;function lf(b){var s;if(wp.has(b))return wp.get(b);{let d=(s=b.getParameter(b.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return wp.set(b,d),d}}class Pn{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class n0 extends Pn{getDefault(){return o.aM.transparent}set(s){let d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class cj extends Pn{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class eh extends Pn{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class fj extends Pn{getDefault(){return[!0,!0,!0,!0]}set(s){let d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class zC extends Pn{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class pj extends Pn{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class FC extends Pn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){let d=this.current;(s.func!==d.func||s.ref!==d.ref||s.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class kb extends Pn{getDefault(){let s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){let d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class BC extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;s?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=s,this.dirty=!1}}class UC extends Pn{getDefault(){return[0,1]}set(s){let d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class VC extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;s?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=s,this.dirty=!1}}class GC extends Pn{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class Sp extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;s?d.enable(d.BLEND):d.disable(d.BLEND),this.current=s,this.dirty=!1}}class HC extends Pn{getDefault(){let s=this.gl;return[s.ONE,s.ZERO]}set(s){let d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class dj extends Pn{getDefault(){return o.aM.transparent}set(s){let d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class WC extends Pn{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class Eg extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;s?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=s,this.dirty=!1}}class hj extends Pn{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class i0 extends Pn{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class mj extends Pn{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class gj extends Pn{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class $C extends Pn{getDefault(){let s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){let d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class ZC extends Pn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class YC extends Pn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class qb extends Pn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.bindTexture(d.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class KC extends Pn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class o0 extends Pn{getDefault(){return null}set(s){let d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class wc extends Pn{getDefault(){return null}set(s){var d;if(s===this.current&&!this.dirty)return;let v=this.gl;lf(v)?v.bindVertexArray(s):(d=v.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class jb extends Pn{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class zb extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class Fb extends Pn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class a0 extends Pn{constructor(s,d){super(s),this.context=s,this.parent=d}getDefault(){return null}}class Bb extends a0{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class Ep extends a0{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Ub extends a0{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class vj{constructor(s,d,v,y,x){this.context=s,this.width=d,this.height=v;let A=s.gl,D=this.framebuffer=A.createFramebuffer();if(this.colorAttachment=new Bb(s,D),y)this.depthAttachment=x?new Ub(s,D):new Ep(s,D);else if(x)throw new Error("Stencil cannot be set without depth");if(A.checkFramebufferStatus(A.FRAMEBUFFER)!==A.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){let s=this.context.gl,d=this.colorAttachment.get();if(d&&s.deleteTexture(d),this.depthAttachment){let v=this.depthAttachment.get();v&&s.deleteRenderbuffer(v)}s.deleteFramebuffer(this.framebuffer)}}class Ui{constructor(s,d,v){this.blendFunction=s,this.blendColor=d,this.mask=v}}Ui.Replace=[1,0],Ui.disabled=new Ui(Ui.Replace,o.aM.transparent,[!1,!1,!1,!1]),Ui.unblended=new Ui(Ui.Replace,o.aM.transparent,[!0,!0,!0,!0]),Ui.alphaBlended=new Ui([1,771],o.aM.transparent,[!0,!0,!0,!0]);class yj{constructor(s){var d,v;if(this.gl=s,this.clearColor=new n0(this),this.clearDepth=new cj(this),this.clearStencil=new eh(this),this.colorMask=new fj(this),this.depthMask=new zC(this),this.stencilMask=new pj(this),this.stencilFunc=new FC(this),this.stencilOp=new kb(this),this.stencilTest=new BC(this),this.depthRange=new UC(this),this.depthTest=new VC(this),this.depthFunc=new GC(this),this.blend=new Sp(this),this.blendFunc=new HC(this),this.blendColor=new dj(this),this.blendEquation=new WC(this),this.cullFace=new Eg(this),this.cullFaceSide=new hj(this),this.frontFace=new i0(this),this.program=new mj(this),this.activeTexture=new gj(this),this.viewport=new $C(this),this.bindFramebuffer=new ZC(this),this.bindRenderbuffer=new YC(this),this.bindTexture=new qb(this),this.bindVertexBuffer=new KC(this),this.bindElementBuffer=new o0(this),this.bindVertexArray=new wc(this),this.pixelStoreUnpack=new jb(this),this.pixelStoreUnpackPremultiplyAlpha=new zb(this),this.pixelStoreUnpackFlipY=new Fb(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),lf(s)){this.HALF_FLOAT=s.HALF_FLOAT;let y=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=s.RGBA16F)!==null&&d!==void 0?d:y==null?void 0:y.RGBA16F_EXT,this.RGB16F=(v=s.RGB16F)!==null&&v!==void 0?v:y==null?void 0:y.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");let y=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=y==null?void 0:y.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,d){return new vu(this,s,d)}createVertexBuffer(s,d,v){return new Rb(this,s,d,v)}createRenderbuffer(s,d,v){let y=this.gl,x=y.createRenderbuffer();return this.bindRenderbuffer.set(x),y.renderbufferStorage(y.RENDERBUFFER,s,d,v),this.bindRenderbuffer.set(null),x}createFramebuffer(s,d,v,y){return new vj(this,s,d,v,y)}clear({color:s,depth:d,stencil:v}){let y=this.gl,x=0;s&&(x|=y.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(x|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),v!==void 0&&(x|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),y.clear(x)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){o.aE(s.blendFunction,Ui.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return lf(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var d;return lf(this.gl)?this.gl.deleteVertexArray(s):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}class Zr{constructor(s,d,v){this.func=s,this.mask=d,this.range=v}}Zr.ReadOnly=!1,Zr.ReadWrite=!0,Zr.disabled=new Zr(519,Zr.ReadOnly,[0,1]);let s0=7680;class ni{constructor(s,d,v,y,x,A){this.test=s,this.ref=d,this.mask=v,this.fail=y,this.depthFail=x,this.pass=A}}ni.disabled=new ni({func:519,mask:0},0,0,s0,s0,s0);class Hn{constructor(s,d,v){this.enable=s,this.mode=d,this.frontFace=v}}let Ip;function Ig(b,s,d,v,y){let x=b.context,A=x.gl,D=b.useProgram("collisionBox"),R=[],F=0,V=0;for(let ye=0;ye<v.length;ye++){let xe=v[ye],ce=s.getTile(xe).getBucket(d);if(!ce)continue;let Oe=y?ce.textCollisionBox:ce.iconCollisionBox,ke=ce.collisionCircleArray;if(ke.length>0){let Ve=o.H();o.aQ(Ve,ce.placementInvProjMatrix,b.transform.glCoordMatrix),o.aQ(Ve,Ve,ce.placementViewportMatrix),R.push({circleArray:ke,circleOffset:V,transform:xe.posMatrix,invTransform:Ve,coord:xe}),F+=ke.length/4,V=F}Oe&&D.draw(x,A.LINES,Zr.disabled,ni.disabled,b.colorModeForRenderPass(),Hn.disabled,{u_matrix:xe.posMatrix,u_pixel_extrude_scale:[1/(G=b.transform).width,1/G.height]},b.style.map.terrain&&b.style.map.terrain.getTerrainData(xe),d.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,null,b.transform.zoom,null,null,Oe.collisionVertexBuffer)}var G;if(!y||!R.length)return;let X=b.useProgram("collisionCircle"),oe=new o.aR;oe.resize(4*F),oe._trim();let le=0;for(let ye of R)for(let xe=0;xe<ye.circleArray.length/4;xe++){let ce=4*xe,Oe=ye.circleArray[ce+0],ke=ye.circleArray[ce+1],Ve=ye.circleArray[ce+2],at=ye.circleArray[ce+3];oe.emplace(le++,Oe,ke,Ve,at,0),oe.emplace(le++,Oe,ke,Ve,at,1),oe.emplace(le++,Oe,ke,Ve,at,2),oe.emplace(le++,Oe,ke,Ve,at,3)}(!Ip||Ip.length<2*F)&&(Ip=function(ye){let xe=2*ye,ce=new o.aT;ce.resize(xe),ce._trim();for(let Oe=0;Oe<xe;Oe++){let ke=6*Oe;ce.uint16[ke+0]=4*Oe+0,ce.uint16[ke+1]=4*Oe+1,ce.uint16[ke+2]=4*Oe+2,ce.uint16[ke+3]=4*Oe+2,ce.uint16[ke+4]=4*Oe+3,ce.uint16[ke+5]=4*Oe+0}return ce}(F));let pe=x.createIndexBuffer(Ip,!0),ge=x.createVertexBuffer(oe,o.aS.members,!0);for(let ye of R){let xe=bp(ye.transform,ye.invTransform,b.transform);X.draw(x,A.TRIANGLES,Zr.disabled,ni.disabled,b.colorModeForRenderPass(),Hn.disabled,xe,b.style.map.terrain&&b.style.map.terrain.getTerrainData(ye.coord),d.id,ge,pe,o.a0.simpleSegment(0,2*ye.circleOffset,ye.circleArray.length,ye.circleArray.length/2),null,b.transform.zoom,null,null,null)}ge.destroy(),pe.destroy()}Hn.disabled=new Hn(!1,1029,2305),Hn.backCCW=new Hn(!0,1029,2305);let Tg=o.an(new Float32Array(16));function Vb(b,s,d,v,y,x){let{horizontalAlign:A,verticalAlign:D}=o.au(b);return new o.P((-(A-.5)*s/y+v[0])*x,(-(D-.5)*d/y+v[1])*x)}function Tp(b,s,d,v,y,x){let A=s.tileAnchorPoint.add(new o.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let D=v.mult(x);d||(D=D.rotate(-y));let R=A.add(D);return ae(R.x,R.y,s.labelPlaneMatrix,s.getElevation).point}if(d){let D=Ze(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(b),R=Math.atan(D.y/D.x)+(D.x<0?Math.PI:0);return b.add(v.rotate(R))}return b.add(v)}function th(b,s,d,v,y,x,A,D,R,F,V,G,X,oe){let le=b.text.placedSymbolArray,pe=b.text.dynamicLayoutVertexArray,ge=b.icon.dynamicLayoutVertexArray,ye={};pe.clear();for(let xe=0;xe<le.length;xe++){let ce=le.get(xe),Oe=ce.hidden||!ce.crossTileID||b.allowVerticalPlacement&&!ce.placedOrientation?null:v[ce.crossTileID];if(Oe){let ke=new o.P(ce.anchorX,ce.anchorY),Ve={getElevation:oe,width:y.width,height:y.height,labelPlaneMatrix:x,lineVertexArray:null,pitchWithMap:d,projection:V,projectionCache:null,tileAnchorPoint:ke,translation:G,unwrappedTileID:X},at=d?ae(ke.x,ke.y,A,oe):Ze(ke.x,ke.y,Ve),ht=$(y.cameraToCenterDistance,at.signedDistanceFromCamera),Pt=o.ai(b.textSizeData,R,ce)*ht/o.ap;d&&(Pt*=b.tilePixelRatio/D);let{width:Bt,height:It,anchor:St,textOffset:Qt,textBoxScale:Er}=Oe,At=Vb(St,Bt,It,Qt,Er,Pt),qt=V.getPitchedTextCorrection(y,ke.add(new o.P(G[0],G[1])),X),wr=Tp(at.point,Ve,s,At,y.angle,qt),hi=b.allowVerticalPlacement&&ce.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let jr=0;jr<ce.numGlyphs;jr++)o.aj(pe,wr,hi);F&&ce.associatedIconIndex>=0&&(ye[ce.associatedIconIndex]={shiftedAnchor:wr,angle:hi})}else fr(ce.numGlyphs,pe)}if(F){ge.clear();let xe=b.icon.placedSymbolArray;for(let ce=0;ce<xe.length;ce++){let Oe=xe.get(ce);if(Oe.hidden)fr(Oe.numGlyphs,ge);else{let ke=ye[ce];if(ke)for(let Ve=0;Ve<Oe.numGlyphs;Ve++)o.aj(ge,ke.shiftedAnchor,ke.angle);else fr(Oe.numGlyphs,ge)}}b.icon.dynamicLayoutVertexBuffer.updateData(ge)}b.text.dynamicLayoutVertexBuffer.updateData(pe)}function Ks(b,s,d){return d.iconsInText&&s?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function Gb(b,s,d,v,y,x,A,D,R,F,V,G){let X=b.context,oe=X.gl,le=b.transform,pe=_p(),ge=D==="map",ye=R==="map",xe=D!=="viewport"&&d.layout.get("symbol-placement")!=="point",ce=ge&&!ye&&!xe,Oe=!ye&&xe,ke=!d.layout.get("symbol-sort-key").isConstant(),Ve=!1,at=b.depthModeForSublayer(0,Zr.ReadOnly),ht=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Pt=[],Bt=pe.getCircleRadiusCorrection(le);for(let It of v){let St=s.getTile(It),Qt=St.getBucket(d);if(!Qt)continue;let Er=y?Qt.text:Qt.icon;if(!Er||!Er.segments.get().length||!Er.hasVisibleVertices)continue;let At=Er.programConfigurations.get(d.id),qt=y||Qt.sdfIcons,wr=y?Qt.textSizeData:Qt.iconSizeData,hi=ye||le.pitch!==0,jr=b.useProgram(Ks(qt,y,Qt),At),nn=o.ag(wr,le.zoom),mi=b.style.map.terrain&&b.style.map.terrain.getTerrainData(It),$o,Ul,gi,Ua,pa=[0,0],Zo=null;if(y)Ul=St.glyphAtlasTexture,gi=oe.LINEAR,$o=St.glyphAtlasTexture.size,Qt.iconsInText&&(pa=St.imageAtlasTexture.size,Zo=St.imageAtlasTexture,Ua=hi||b.options.rotating||b.options.zooming||wr.kind==="composite"||wr.kind==="camera"?oe.LINEAR:oe.NEAREST);else{let un=d.layout.get("icon-size").constantOr(0)!==1||Qt.iconsNeedLinear;Ul=St.imageAtlasTexture,gi=qt||b.options.rotating||b.options.zooming||un||hi?oe.LINEAR:oe.NEAREST,$o=St.imageAtlasTexture.size}let da=rn(St,1,b.transform.zoom),xu=Oe?It.posMatrix:Tg,vh=Rt(xu,ye,ge,b.transform,da),T0=Nt(xu,ye,ge,b.transform,da),yh=Nt(It.posMatrix,ye,ge,b.transform,da),Js=pe.translatePosition(b.transform,St,x,A),C0=ht&&Qt.hasTextData(),mw=d.layout.get("icon-text-fit")!=="none"&&C0&&Qt.hasIconData();if(xe){let un=b.style.map.terrain?(_h,xh)=>b.style.map.terrain.getElevation(It,_h,xh):null,Dp=d.layout.get("text-rotation-alignment")==="map";K(Qt,It.posMatrix,b,y,vh,yh,ye,F,Dp,pe,It.toUnwrapped(),le.width,le.height,Js,un)}let el=It.posMatrix,tl=y&&ht||mw,uf=xe||tl?Tg:vh,Vl=T0,No=qt&&d.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Yo;Yo=qt?Qt.iconsInText?Pb(wr.kind,nn,ce,ye,xe,tl,b,el,uf,Vl,Js,$o,pa,Bt):Sg(wr.kind,nn,ce,ye,xe,tl,b,el,uf,Vl,Js,y,$o,!0,Bt):jC(wr.kind,nn,ce,ye,xe,tl,b,el,uf,Vl,Js,y,$o,Bt);let Is={program:jr,buffers:Er,uniformValues:Yo,atlasTexture:Ul,atlasTextureIcon:Zo,atlasInterpolation:gi,atlasInterpolationIcon:Ua,isSDF:qt,hasHalo:No};if(ke&&Qt.canOverlap){Ve=!0;let un=Er.segments.get();for(let Dp of un)Pt.push({segments:new o.a0([Dp]),sortKey:Dp.sortKey,state:Is,terrainData:mi})}else Pt.push({segments:Er.segments,sortKey:0,state:Is,terrainData:mi})}Ve&&Pt.sort((It,St)=>It.sortKey-St.sortKey);for(let It of Pt){let St=It.state;if(X.activeTexture.set(oe.TEXTURE0),St.atlasTexture.bind(St.atlasInterpolation,oe.CLAMP_TO_EDGE),St.atlasTextureIcon&&(X.activeTexture.set(oe.TEXTURE1),St.atlasTextureIcon&&St.atlasTextureIcon.bind(St.atlasInterpolationIcon,oe.CLAMP_TO_EDGE)),St.isSDF){let Qt=St.uniformValues;St.hasHalo&&(Qt.u_is_halo=1,Hb(St.buffers,It.segments,d,b,St.program,at,V,G,Qt,It.terrainData)),Qt.u_is_halo=0}Hb(St.buffers,It.segments,d,b,St.program,at,V,G,St.uniformValues,It.terrainData)}}function Hb(b,s,d,v,y,x,A,D,R,F){let V=v.context;y.draw(V,V.gl.TRIANGLES,x,A,D,Hn.disabled,R,F,d.id,b.layoutVertexBuffer,b.indexBuffer,s,d.paint,v.transform.zoom,b.programConfigurations.get(d.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function Wb(b,s,d,v){let y=b.context,x=y.gl,A=ni.disabled,D=new Ui([x.ONE,x.ONE],o.aM.transparent,[!0,!0,!0,!0]),R=s.getBucket(d);if(!R)return;let F=v.key,V=d.heatmapFbos.get(F);V||(V=Cg(y,s.tileSize,s.tileSize),d.heatmapFbos.set(F,V)),y.bindFramebuffer.set(V.framebuffer),y.viewport.set([0,0,s.tileSize,s.tileSize]),y.clear({color:o.aM.transparent});let G=R.programConfigurations.get(d.id),X=b.useProgram("heatmap",G),oe=b.style.map.terrain.getTerrainData(v);X.draw(y,x.TRIANGLES,Zr.disabled,A,D,Hn.disabled,Ba(v.posMatrix,s,b.transform.zoom,d.paint.get("heatmap-intensity")),oe,d.id,R.layoutVertexBuffer,R.indexBuffer,R.segments,d.paint,b.transform.zoom,G)}function Cp(b,s,d){let v=b.context,y=v.gl;v.setColorMode(b.colorModeForRenderPass());let x=Mg(v,s),A=d.key,D=s.heatmapFbos.get(A);D&&(v.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,D.colorAttachment.get()),v.activeTexture.set(y.TEXTURE1),x.bind(y.LINEAR,y.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(v,y.TRIANGLES,Zr.disabled,ni.disabled,b.colorModeForRenderPass(),Hn.disabled,Jy(b,s,0,1),null,s.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,s.paint,b.transform.zoom),D.destroy(),s.heatmapFbos.delete(A))}function Cg(b,s,d){var v,y;let x=b.gl,A=x.createTexture();x.bindTexture(x.TEXTURE_2D,A),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR);let D=(v=b.HALF_FLOAT)!==null&&v!==void 0?v:x.UNSIGNED_BYTE,R=(y=b.RGBA16F)!==null&&y!==void 0?y:x.RGBA;x.texImage2D(x.TEXTURE_2D,0,R,s,d,0,x.RGBA,D,null);let F=b.createFramebuffer(s,d,!1,!1);return F.colorAttachment.set(A),F}function Mg(b,s){return s.colorRampTexture||(s.colorRampTexture=new ue(b,s.colorRamp,b.gl.RGBA)),s.colorRampTexture}function rh(b,s,d,v,y){if(!d||!v||!v.imageAtlas)return;let x=v.imageAtlas.patternPositions,A=x[d.to.toString()],D=x[d.from.toString()];if(!A&&D&&(A=D),!D&&A&&(D=A),!A||!D){let R=y.getPaintProperty(s);A=x[R],D=x[R]}A&&D&&b.setConstantPatternPositions(A,D)}function Ag(b,s,d,v,y,x,A){let D=b.context.gl,R="fill-pattern",F=d.paint.get(R),V=F&&F.constantOr(1),G=d.getCrossfadeParameters(),X,oe,le,pe,ge;A?(oe=V&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=D.LINES):(oe=V?"fillPattern":"fill",X=D.TRIANGLES);let ye=F.constantOr(null);for(let xe of v){let ce=s.getTile(xe);if(V&&!ce.patternsLoaded())continue;let Oe=ce.getBucket(d);if(!Oe)continue;let ke=Oe.programConfigurations.get(d.id),Ve=b.useProgram(oe,ke),at=b.style.map.terrain&&b.style.map.terrain.getTerrainData(xe);V&&(b.context.activeTexture.set(D.TEXTURE0),ce.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),ke.updatePaintBuffers(G)),rh(ke,R,ye,ce,d);let ht=at?xe:null,Pt=b.translatePosMatrix(ht?ht.posMatrix:xe.posMatrix,ce,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(A){pe=Oe.indexBuffer2,ge=Oe.segments2;let Bt=[D.drawingBufferWidth,D.drawingBufferHeight];le=oe==="fillOutlinePattern"&&V?NC(Pt,b,G,ce,Bt):ij(Pt,Bt)}else pe=Oe.indexBuffer,ge=Oe.segments,le=V?LC(Pt,b,G,ce):Qd(Pt);Ve.draw(b.context,X,y,b.stencilModeForClipping(xe),x,Hn.disabled,le,at,d.id,Oe.layoutVertexBuffer,pe,ge,d.paint,b.transform.zoom,ke)}}function l0(b,s,d,v,y,x,A){let D=b.context,R=D.gl,F="fill-extrusion-pattern",V=d.paint.get(F),G=V.constantOr(1),X=d.getCrossfadeParameters(),oe=d.paint.get("fill-extrusion-opacity"),le=V.constantOr(null);for(let pe of v){let ge=s.getTile(pe),ye=ge.getBucket(d);if(!ye)continue;let xe=b.style.map.terrain&&b.style.map.terrain.getTerrainData(pe),ce=ye.programConfigurations.get(d.id),Oe=b.useProgram(G?"fillExtrusionPattern":"fillExtrusion",ce);G&&(b.context.activeTexture.set(R.TEXTURE0),ge.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),ce.updatePaintBuffers(X)),rh(ce,F,le,ge,d);let ke=b.translatePosMatrix(pe.posMatrix,ge,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ve=d.paint.get("fill-extrusion-vertical-gradient"),at=G?Qy(ke,b,Ve,oe,pe,X,ge):bg(ke,b,Ve,oe);Oe.draw(D,D.gl.TRIANGLES,y,x,A,Hn.backCCW,at,xe,d.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,d.paint,b.transform.zoom,ce,b.style.map.terrain&&ye.centroidVertexBuffer)}}function nh(b,s,d,v,y,x,A){let D=b.context,R=D.gl,F=d.fbo;if(!F)return;let V=b.useProgram("hillshade"),G=b.style.map.terrain&&b.style.map.terrain.getTerrainData(s);D.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,F.colorAttachment.get()),V.draw(D,R.TRIANGLES,y,x,A,Hn.disabled,((X,oe,le,pe)=>{let ge=le.paint.get("hillshade-shadow-color"),ye=le.paint.get("hillshade-highlight-color"),xe=le.paint.get("hillshade-accent-color"),ce=le.paint.get("hillshade-illumination-direction")*(Math.PI/180);le.paint.get("hillshade-illumination-anchor")==="viewport"&&(ce-=X.transform.angle);let Oe=!X.options.moving;return{u_matrix:pe?pe.posMatrix:X.transform.calculatePosMatrix(oe.tileID.toUnwrapped(),Oe),u_image:0,u_latrange:e0(0,oe.tileID),u_light:[le.paint.get("hillshade-exaggeration"),ce],u_shadow:ge,u_highlight:ye,u_accent:xe}})(b,d,v,G?s:null),G,v.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}function ih(b,s,d,v,y,x){let A=b.context,D=A.gl,R=s.dem;if(R&&R.data){let F=R.dim,V=R.stride,G=R.getPixels();if(A.activeTexture.set(D.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||b.getTileTexture(V),s.demTexture){let oe=s.demTexture;oe.update(G,{premultiply:!1}),oe.bind(D.NEAREST,D.CLAMP_TO_EDGE)}else s.demTexture=new ue(A,G,D.RGBA,{premultiply:!1}),s.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);A.activeTexture.set(D.TEXTURE0);let X=s.fbo;if(!X){let oe=new ue(A,{width:F,height:F,data:null},D.RGBA);oe.bind(D.LINEAR,D.CLAMP_TO_EDGE),X=s.fbo=A.createFramebuffer(F,F,!0,!1),X.colorAttachment.set(oe.texture)}A.bindFramebuffer.set(X.framebuffer),A.viewport.set([0,0,F,F]),b.useProgram("hillshadePrepare").draw(A,D.TRIANGLES,v,y,x,Hn.disabled,((oe,le)=>{let pe=le.stride,ge=o.H();return o.aP(ge,0,o.X,-o.X,0,0,1),o.J(ge,ge,[0,-o.X,0]),{u_matrix:ge,u_image:1,u_dimension:[pe,pe],u_zoom:oe.overscaledZ,u_unpack:le.getUnpackVector()}})(s.tileID,R),null,d.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function XC(b,s,d,v,y,x){let A=v.paint.get("raster-fade-duration");if(!x&&A>0){let D=m.now(),R=(D-b.timeAdded)/A,F=s?(D-s.timeAdded)/A:-1,V=d.getSource(),G=y.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),X=!s||Math.abs(s.tileID.overscaledZ-G)>Math.abs(b.tileID.overscaledZ-G),oe=X&&b.refreshedUponExpiration?1:o.ac(X?R:1-F,0,1);return b.refreshedUponExpiration&&R>=1&&(b.refreshedUponExpiration=!1),s?{opacity:1,mix:1-oe}:{opacity:oe,mix:0}}return{opacity:1,mix:0}}let $b=new o.aM(1,0,0,1),bn=new o.aM(0,1,0,1),u0=new o.aM(0,0,1,1),_j=new o.aM(1,0,1,1),QC=new o.aM(0,1,1,1);function oh(b,s,d,v){c0(b,0,s+d/2,b.transform.width,d,v)}function JC(b,s,d,v){c0(b,s-d/2,0,d,b.transform.height,v)}function c0(b,s,d,v,y,x){let A=b.context,D=A.gl;D.enable(D.SCISSOR_TEST),D.scissor(s*b.pixelRatio,d*b.pixelRatio,v*b.pixelRatio,y*b.pixelRatio),A.clear({color:x}),D.disable(D.SCISSOR_TEST)}function eM(b,s,d){let v=b.context,y=v.gl,x=d.posMatrix,A=b.useProgram("debug"),D=Zr.disabled,R=ni.disabled,F=b.colorModeForRenderPass(),V="$debug",G=b.style.map.terrain&&b.style.map.terrain.getTerrainData(d);v.activeTexture.set(y.TEXTURE0);let X=s.getTileByID(d.key).latestRawTileData,oe=Math.floor((X&&X.byteLength||0)/1024),le=s.getTile(d).tileSize,pe=512/Math.min(le,512)*(d.overscaledZ/b.transform.zoom)*.5,ge=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ge+=` => ${d.overscaledZ}`),function(ye,xe){ye.initDebugOverlayCanvas();let ce=ye.debugOverlayCanvas,Oe=ye.context.gl,ke=ye.debugOverlayCanvas.getContext("2d");ke.clearRect(0,0,ce.width,ce.height),ke.shadowColor="white",ke.shadowBlur=2,ke.lineWidth=1.5,ke.strokeStyle="white",ke.textBaseline="top",ke.font="bold 36px Open Sans, sans-serif",ke.fillText(xe,5,5),ke.strokeText(xe,5,5),ye.debugOverlayTexture.update(ce),ye.debugOverlayTexture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE)}(b,`${ge} ${oe}kB`),A.draw(v,y.TRIANGLES,D,R,Ui.alphaBlended,Hn.disabled,wg(x,o.aM.transparent,pe),null,V,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),A.draw(v,y.LINE_STRIP,D,R,F,Hn.disabled,wg(x,o.aM.red),G,V,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function tM(b,s,d){let v=b.context,y=v.gl,x=b.colorModeForRenderPass(),A=new Zr(y.LEQUAL,Zr.ReadWrite,b.depthRangeFor3D),D=b.useProgram("terrain"),R=s.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,b.width,b.height]);for(let F of d){let V=b.renderToTexture.getTexture(F),G=s.getTerrainData(F.tileID);v.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,V.texture);let X=b.transform.calculatePosMatrix(F.tileID.toUnwrapped()),oe=s.getMeshFrameDelta(b.transform.zoom),le=b.transform.calculateFogMatrix(F.tileID.toUnwrapped()),pe=Ob(X,oe,le,b.style.sky,b.transform.pitch);D.draw(v,y.TRIANGLES,A,ni.disabled,x,Hn.backCCW,pe,G,"terrain",R.vertexBuffer,R.indexBuffer,R.segments)}}class f0{constructor(s,d,v){this.vertexBuffer=s,this.indexBuffer=d,this.segments=v}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class p0{constructor(s,d){this.context=new yj(s),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=gr.maxUnderzooming+gr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Mb}resize(s,d,v){if(this.width=Math.floor(s*v),this.height=Math.floor(d*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let y of this.style._order)this.style._layers[y].resize()}setup(){let s=this.context,d=new o.aX;d.emplaceBack(0,0),d.emplaceBack(o.X,0),d.emplaceBack(0,o.X),d.emplaceBack(o.X,o.X),this.tileExtentBuffer=s.createVertexBuffer(d,xp.members),this.tileExtentSegments=o.a0.simpleSegment(0,0,4,2);let v=new o.aX;v.emplaceBack(0,0),v.emplaceBack(o.X,0),v.emplaceBack(0,o.X),v.emplaceBack(o.X,o.X),this.debugBuffer=s.createVertexBuffer(v,xp.members),this.debugSegments=o.a0.simpleSegment(0,0,4,5);let y=new o.$;y.emplaceBack(0,0,0,0),y.emplaceBack(o.X,0,o.X,0),y.emplaceBack(0,o.X,0,o.X),y.emplaceBack(o.X,o.X,o.X,o.X),this.rasterBoundsBuffer=s.createVertexBuffer(y,Gt.members),this.rasterBoundsSegments=o.a0.simpleSegment(0,0,4,2);let x=new o.aX;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(x,xp.members),this.viewportSegments=o.a0.simpleSegment(0,0,4,2);let A=new o.aZ;A.emplaceBack(0),A.emplaceBack(1),A.emplaceBack(3),A.emplaceBack(2),A.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(A);let D=new o.aY;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(D);let R=this.context.gl;this.stencilClearMode=new ni({func:R.ALWAYS,mask:0},0,255,R.ZERO,R.ZERO,R.ZERO)}clearStencil(){let s=this.context,d=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let v=o.H();o.aP(v,0,this.width,this.height,0,0,1),o.K(v,v,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,d.TRIANGLES,Zr.disabled,this.stencilClearMode,Ui.disabled,Hn.disabled,Fa(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,d){if(this.currentStencilSource===s.source||!s.isTileClipped()||!d||!d.length)return;this.currentStencilSource=s.source;let v=this.context,y=v.gl;this.nextStencilID+d.length>256&&this.clearStencil(),v.setColorMode(Ui.disabled),v.setDepthMode(Zr.disabled);let x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let A of d){let D=this._tileClippingMaskIDs[A.key]=this.nextStencilID++,R=this.style.map.terrain&&this.style.map.terrain.getTerrainData(A);x.draw(v,y.TRIANGLES,Zr.disabled,new ni({func:y.ALWAYS,mask:0},D,255,y.KEEP,y.KEEP,y.REPLACE),Ui.disabled,Hn.disabled,Fa(A.posMatrix),R,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let s=this.nextStencilID++,d=this.context.gl;return new ni({func:d.NOTEQUAL,mask:255},s,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(s){let d=this.context.gl;return new ni({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(s){let d=this.context.gl,v=s.sort((A,D)=>D.overscaledZ-A.overscaledZ),y=v[v.length-1].overscaledZ,x=v[0].overscaledZ-y+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();let A={};for(let D=0;D<x;D++)A[D+y]=new ni({func:d.GEQUAL,mask:255},D+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=x,[A,v]}return[{[y]:ni.disabled},v]}colorModeForRenderPass(){let s=this.context.gl;return this._showOverdrawInspector?new Ui([s.CONSTANT_COLOR,s.ONE],new o.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ui.unblended:Ui.alphaBlended}depthModeForSublayer(s,d,v){if(!this.opaquePassEnabledForLayer())return Zr.disabled;let y=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new Zr(v||this.context.gl.LEQUAL,d,[y,y])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,d){this.style=s,this.options=d,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(m.now()),this.imageManager.beginFrame();let v=this.style._order,y=this.style.sourceCaches,x={},A={},D={};for(let R in y){let F=y[R];F.used&&F.prepare(this.context),x[R]=F.getVisibleCoordinates(),A[R]=x[R].slice().reverse(),D[R]=F.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let R=0;R<v.length;R++)if(this.style._layers[v[R]].is3D()){this.opaquePassCutoff=R;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let R of v){let F=this.style._layers[R];if(!F.hasOffscreenPass()||F.isHidden(this.transform.zoom))continue;let V=A[F.source];(F.type==="custom"||V.length)&&this.renderLayer(this,y[F.source],F,V)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aM.black:o.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(R,F){let V=R.context,G=V.gl,X=((ye,xe,ce)=>({u_sky_color:ye.properties.get("sky-color"),u_horizon_color:ye.properties.get("horizon-color"),u_horizon:(xe.height/2+xe.getHorizon())*ce,u_sky_horizon_blend:ye.properties.get("sky-horizon-blend")*xe.height/2*ce}))(F,R.style.map.transform,R.pixelRatio),oe=new Zr(G.LEQUAL,Zr.ReadWrite,[0,1]),le=ni.disabled,pe=R.colorModeForRenderPass(),ge=R.useProgram("sky");if(!F.mesh){let ye=new o.aX;ye.emplaceBack(-1,-1),ye.emplaceBack(1,-1),ye.emplaceBack(1,1),ye.emplaceBack(-1,1);let xe=new o.aY;xe.emplaceBack(0,1,2),xe.emplaceBack(0,2,3),F.mesh=new f0(V.createVertexBuffer(ye,xp.members),V.createIndexBuffer(xe),o.a0.simpleSegment(0,0,ye.length,xe.length))}ge.draw(V,G.TRIANGLES,oe,le,pe,Hn.disabled,X,void 0,"sky",F.mesh.vertexBuffer,F.mesh.indexBuffer,F.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){let R=this.style._layers[v[this.currentLayer]],F=y[R.source],V=x[R.source];this._renderTileClippingMasks(R,V),this.renderLayer(this,F,R,V)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){let R=this.style._layers[v[this.currentLayer]],F=y[R.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(R))continue;let V=(R.type==="symbol"?D:A)[R.source];this._renderTileClippingMasks(R,x[R.source]),this.renderLayer(this,F,R,V)}if(this.options.showTileBoundaries){let R=function(F,V){let G=null,X=Object.values(F._layers).flatMap(ge=>ge.source&&!ge.isHidden(V)?[F.sourceCaches[ge.source]]:[]),oe=X.filter(ge=>ge.getSource().type==="vector"),le=X.filter(ge=>ge.getSource().type!=="vector"),pe=ge=>{(!G||G.getSource().maxzoom<ge.getSource().maxzoom)&&(G=ge)};return oe.forEach(ge=>pe(ge)),G||le.forEach(ge=>pe(ge)),G}(this.style,this.transform.zoom);R&&function(F,V,G){for(let X=0;X<G.length;X++)eM(F,V,G[X])}(this,R,R.getVisibleCoordinates())}this.options.showPadding&&function(R){let F=R.transform.padding;oh(R,R.transform.height-(F.top||0),3,$b),oh(R,F.bottom||0,3,bn),JC(R,F.left||0,3,u0),JC(R,R.transform.width-(F.right||0),3,_j);let V=R.transform.centerPoint;(function(G,X,oe,le){c0(G,X-1,oe-10,2,20,le),c0(G,X-10,oe-1,20,2,le)})(R,V.x,R.transform.height-V.y,QC)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;let d=this.terrainFacilitator.matrix,v=this.transform.modelViewProjectionMatrix,y=this.terrainFacilitator.dirty;y||(y=s?!o.a_(d,v):!o.a$(d,v)),y||(y=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),y&&(o.b0(d,v),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(x,A){let D=x.context,R=D.gl,F=Ui.unblended,V=new Zr(R.LEQUAL,Zr.ReadWrite,[0,1]),G=A.getTerrainMesh(),X=A.sourceCache.getRenderableTiles(),oe=x.useProgram("terrainDepth");D.bindFramebuffer.set(A.getFramebuffer("depth").framebuffer),D.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),D.clear({color:o.aM.transparent,depth:1});for(let le of X){let pe=A.getTerrainData(le.tileID),ge={u_matrix:x.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_ele_delta:A.getMeshFrameDelta(x.transform.zoom)};oe.draw(D,R.TRIANGLES,V,ni.disabled,F,Hn.backCCW,ge,pe,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}D.bindFramebuffer.set(null),D.viewport.set([0,0,x.width,x.height])}(this,this.style.map.terrain),function(x,A){let D=x.context,R=D.gl,F=Ui.unblended,V=new Zr(R.LEQUAL,Zr.ReadWrite,[0,1]),G=A.getTerrainMesh(),X=A.getCoordsTexture(),oe=A.sourceCache.getRenderableTiles(),le=x.useProgram("terrainCoords");D.bindFramebuffer.set(A.getFramebuffer("coords").framebuffer),D.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),D.clear({color:o.aM.transparent,depth:1}),A.coordsIndex=[];for(let pe of oe){let ge=A.getTerrainData(pe.tileID);D.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,X.texture);let ye={u_matrix:x.transform.calculatePosMatrix(pe.tileID.toUnwrapped()),u_terrain_coords_id:(255-A.coordsIndex.length)/255,u_texture:0,u_ele_delta:A.getMeshFrameDelta(x.transform.zoom)};le.draw(D,R.TRIANGLES,V,ni.disabled,F,Hn.backCCW,ye,ge,"terrain",G.vertexBuffer,G.indexBuffer,G.segments),A.coordsIndex.push(pe.tileID.key)}D.bindFramebuffer.set(null),D.viewport.set([0,0,x.width,x.height])}(this,this.style.map.terrain))}renderLayer(s,d,v,y){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(y||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(x,A,D,R,F){if(x.renderPass!=="translucent")return;let V=ni.disabled,G=x.colorModeForRenderPass();(D._unevaluatedLayout.hasValue("text-variable-anchor")||D._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,oe,le,pe,ge,ye,xe,ce,Oe){let ke=oe.transform,Ve=_p(),at=ge==="map",ht=ye==="map";for(let Pt of X){let Bt=pe.getTile(Pt),It=Bt.getBucket(le);if(!It||!It.text||!It.text.segments.get().length)continue;let St=o.ag(It.textSizeData,ke.zoom),Qt=rn(Bt,1,oe.transform.zoom),Er=Rt(Pt.posMatrix,ht,at,oe.transform,Qt),At=le.layout.get("icon-text-fit")!=="none"&&It.hasIconData();if(St){let qt=Math.pow(2,ke.zoom-Bt.tileID.overscaledZ),wr=oe.style.map.terrain?(jr,nn)=>oe.style.map.terrain.getElevation(Pt,jr,nn):null,hi=Ve.translatePosition(ke,Bt,xe,ce);th(It,at,ht,Oe,ke,Er,Pt.posMatrix,qt,St,At,Ve,hi,Pt.toUnwrapped(),wr)}}}(R,x,D,A,D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),F),D.paint.get("icon-opacity").constantOr(1)!==0&&Gb(x,A,D,R,!1,D.paint.get("icon-translate"),D.paint.get("icon-translate-anchor"),D.layout.get("icon-rotation-alignment"),D.layout.get("icon-pitch-alignment"),D.layout.get("icon-keep-upright"),V,G),D.paint.get("text-opacity").constantOr(1)!==0&&Gb(x,A,D,R,!0,D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.layout.get("text-keep-upright"),V,G),A.map.showCollisionBoxes&&(Ig(x,A,D,R,!0),Ig(x,A,D,R,!1))})(s,d,v,y,this.style.placement.variableOffsets);break;case"circle":(function(x,A,D,R){if(x.renderPass!=="translucent")return;let F=D.paint.get("circle-opacity"),V=D.paint.get("circle-stroke-width"),G=D.paint.get("circle-stroke-opacity"),X=!D.layout.get("circle-sort-key").isConstant();if(F.constantOr(1)===0&&(V.constantOr(1)===0||G.constantOr(1)===0))return;let oe=x.context,le=oe.gl,pe=x.depthModeForSublayer(0,Zr.ReadOnly),ge=ni.disabled,ye=x.colorModeForRenderPass(),xe=[];for(let ce=0;ce<R.length;ce++){let Oe=R[ce],ke=A.getTile(Oe),Ve=ke.getBucket(D);if(!Ve)continue;let at=Ve.programConfigurations.get(D.id),ht=x.useProgram("circle",at),Pt=Ve.layoutVertexBuffer,Bt=Ve.indexBuffer,It=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Oe),St={programConfiguration:at,program:ht,layoutVertexBuffer:Pt,indexBuffer:Bt,uniformValues:oj(x,Oe,ke,D),terrainData:It};if(X){let Qt=Ve.segments.get();for(let Er of Qt)xe.push({segments:new o.a0([Er]),sortKey:Er.sortKey,state:St})}else xe.push({segments:Ve.segments,sortKey:0,state:St})}X&&xe.sort((ce,Oe)=>ce.sortKey-Oe.sortKey);for(let ce of xe){let{programConfiguration:Oe,program:ke,layoutVertexBuffer:Ve,indexBuffer:at,uniformValues:ht,terrainData:Pt}=ce.state;ke.draw(oe,le.TRIANGLES,pe,ge,ye,Hn.disabled,ht,Pt,D.id,Ve,at,ce.segments,D.paint,x.transform.zoom,Oe)}})(s,d,v,y);break;case"heatmap":(function(x,A,D,R){if(D.paint.get("heatmap-opacity")===0)return;let F=x.context;if(x.style.map.terrain){for(let V of R){let G=A.getTile(V);A.hasRenderableParent(V)||(x.renderPass==="offscreen"?Wb(x,G,D,V):x.renderPass==="translucent"&&Cp(x,D,V))}F.viewport.set([0,0,x.width,x.height])}else x.renderPass==="offscreen"?function(V,G,X,oe){let le=V.context,pe=le.gl,ge=ni.disabled,ye=new Ui([pe.ONE,pe.ONE],o.aM.transparent,[!0,!0,!0,!0]);(function(xe,ce,Oe){let ke=xe.gl;xe.activeTexture.set(ke.TEXTURE1),xe.viewport.set([0,0,ce.width/4,ce.height/4]);let Ve=Oe.heatmapFbos.get(o.aU);Ve?(ke.bindTexture(ke.TEXTURE_2D,Ve.colorAttachment.get()),xe.bindFramebuffer.set(Ve.framebuffer)):(Ve=Cg(xe,ce.width/4,ce.height/4),Oe.heatmapFbos.set(o.aU,Ve))})(le,V,X),le.clear({color:o.aM.transparent});for(let xe=0;xe<oe.length;xe++){let ce=oe[xe];if(G.hasRenderableParent(ce))continue;let Oe=G.getTile(ce),ke=Oe.getBucket(X);if(!ke)continue;let Ve=ke.programConfigurations.get(X.id),at=V.useProgram("heatmap",Ve),{zoom:ht}=V.transform;at.draw(le,pe.TRIANGLES,Zr.disabled,ge,ye,Hn.disabled,Ba(ce.posMatrix,Oe,ht,X.paint.get("heatmap-intensity")),null,X.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,X.paint,V.transform.zoom,Ve)}le.viewport.set([0,0,V.width,V.height])}(x,A,D,R):x.renderPass==="translucent"&&function(V,G){let X=V.context,oe=X.gl;X.setColorMode(V.colorModeForRenderPass());let le=G.heatmapFbos.get(o.aU);le&&(X.activeTexture.set(oe.TEXTURE0),oe.bindTexture(oe.TEXTURE_2D,le.colorAttachment.get()),X.activeTexture.set(oe.TEXTURE1),Mg(X,G).bind(oe.LINEAR,oe.CLAMP_TO_EDGE),V.useProgram("heatmapTexture").draw(X,oe.TRIANGLES,Zr.disabled,ni.disabled,V.colorModeForRenderPass(),Hn.disabled,Jy(V,G,0,1),null,G.id,V.viewportBuffer,V.quadTriangleIndexBuffer,V.viewportSegments,G.paint,V.transform.zoom))}(x,D)})(s,d,v,y);break;case"line":(function(x,A,D,R){if(x.renderPass!=="translucent")return;let F=D.paint.get("line-opacity"),V=D.paint.get("line-width");if(F.constantOr(1)===0||V.constantOr(1)===0)return;let G=x.depthModeForSublayer(0,Zr.ReadOnly),X=x.colorModeForRenderPass(),oe=D.paint.get("line-dasharray"),le=D.paint.get("line-pattern"),pe=le.constantOr(1),ge=D.paint.get("line-gradient"),ye=D.getCrossfadeParameters(),xe=pe?"linePattern":oe?"lineSDF":ge?"lineGradient":"line",ce=x.context,Oe=ce.gl,ke=!0;for(let Ve of R){let at=A.getTile(Ve);if(pe&&!at.patternsLoaded())continue;let ht=at.getBucket(D);if(!ht)continue;let Pt=ht.programConfigurations.get(D.id),Bt=x.context.program.get(),It=x.useProgram(xe,Pt),St=ke||It.program!==Bt,Qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ve),Er=le.constantOr(null);if(Er&&at.imageAtlas){let wr=at.imageAtlas,hi=wr.patternPositions[Er.to.toString()],jr=wr.patternPositions[Er.from.toString()];hi&&jr&&Pt.setConstantPatternPositions(hi,jr)}let At=Qt?Ve:null,qt=pe?Jd(x,at,D,ye,At):oe?aj(x,at,D,oe,ye,At):ge?RC(x,at,D,ht.lineClipsArray.length,At):t0(x,at,D,At);if(pe)ce.activeTexture.set(Oe.TEXTURE0),at.imageAtlasTexture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),Pt.updatePaintBuffers(ye);else if(oe&&(St||x.lineAtlas.dirty))ce.activeTexture.set(Oe.TEXTURE0),x.lineAtlas.bind(ce);else if(ge){let wr=ht.gradients[D.id],hi=wr.texture;if(D.gradientVersion!==wr.version){let jr=256;if(D.stepInterpolant){let nn=A.getSource().maxzoom,mi=Ve.canonical.z===nn?Math.ceil(1<<x.transform.maxZoom-Ve.canonical.z):1;jr=o.ac(o.aV(ht.maxLineLength/o.X*1024*mi),256,ce.maxTextureSize)}wr.gradient=o.aW({expression:D.gradientExpression(),evaluationKey:"lineProgress",resolution:jr,image:wr.gradient||void 0,clips:ht.lineClipsArray}),wr.texture?wr.texture.update(wr.gradient):wr.texture=new ue(ce,wr.gradient,Oe.RGBA),wr.version=D.gradientVersion,hi=wr.texture}ce.activeTexture.set(Oe.TEXTURE0),hi.bind(D.stepInterpolant?Oe.NEAREST:Oe.LINEAR,Oe.CLAMP_TO_EDGE)}It.draw(ce,Oe.TRIANGLES,G,x.stencilModeForClipping(Ve),X,Hn.disabled,qt,Qt,D.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,D.paint,x.transform.zoom,Pt,ht.layoutVertexBuffer2),ke=!1}})(s,d,v,y);break;case"fill":(function(x,A,D,R){let F=D.paint.get("fill-color"),V=D.paint.get("fill-opacity");if(V.constantOr(1)===0)return;let G=x.colorModeForRenderPass(),X=D.paint.get("fill-pattern"),oe=x.opaquePassEnabledForLayer()&&!X.constantOr(1)&&F.constantOr(o.aM.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===oe){let le=x.depthModeForSublayer(1,x.renderPass==="opaque"?Zr.ReadWrite:Zr.ReadOnly);Ag(x,A,D,R,le,G,!1)}if(x.renderPass==="translucent"&&D.paint.get("fill-antialias")){let le=x.depthModeForSublayer(D.getPaintProperty("fill-outline-color")?2:0,Zr.ReadOnly);Ag(x,A,D,R,le,G,!0)}})(s,d,v,y);break;case"fill-extrusion":(function(x,A,D,R){let F=D.paint.get("fill-extrusion-opacity");if(F!==0&&x.renderPass==="translucent"){let V=new Zr(x.context.gl.LEQUAL,Zr.ReadWrite,x.depthRangeFor3D);if(F!==1||D.paint.get("fill-extrusion-pattern").constantOr(1))l0(x,A,D,R,V,ni.disabled,Ui.disabled),l0(x,A,D,R,V,x.stencilModeFor3D(),x.colorModeForRenderPass());else{let G=x.colorModeForRenderPass();l0(x,A,D,R,V,ni.disabled,G)}}})(s,d,v,y);break;case"hillshade":(function(x,A,D,R){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;let F=x.context,V=x.depthModeForSublayer(0,Zr.ReadOnly),G=x.colorModeForRenderPass(),[X,oe]=x.renderPass==="translucent"?x.stencilConfigForOverlap(R):[{},R];for(let le of oe){let pe=A.getTile(le);pe.needsHillshadePrepare!==void 0&&pe.needsHillshadePrepare&&x.renderPass==="offscreen"?ih(x,pe,D,V,ni.disabled,G):x.renderPass==="translucent"&&nh(x,le,pe,D,V,X[le.overscaledZ],G)}F.viewport.set([0,0,x.width,x.height])})(s,d,v,y);break;case"raster":(function(x,A,D,R){if(x.renderPass!=="translucent"||D.paint.get("raster-opacity")===0||!R.length)return;let F=x.context,V=F.gl,G=A.getSource(),X=x.useProgram("raster"),oe=x.colorModeForRenderPass(),[le,pe]=G instanceof pr?[{},R]:x.stencilConfigForOverlap(R),ge=pe[pe.length-1].overscaledZ,ye=!x.options.moving;for(let xe of pe){let ce=x.depthModeForSublayer(xe.overscaledZ-ge,D.paint.get("raster-opacity")===1?Zr.ReadWrite:Zr.ReadOnly,V.LESS),Oe=A.getTile(xe);Oe.registerFadeDuration(D.paint.get("raster-fade-duration"));let ke=A.findLoadedParent(xe,0),Ve=A.findLoadedSibling(xe),at=XC(Oe,ke||Ve||null,A,D,x.transform,x.style.map.terrain),ht,Pt,Bt=D.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;F.activeTexture.set(V.TEXTURE0),Oe.texture.bind(Bt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),F.activeTexture.set(V.TEXTURE1),ke?(ke.texture.bind(Bt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),ht=Math.pow(2,ke.tileID.overscaledZ-Oe.tileID.overscaledZ),Pt=[Oe.tileID.canonical.x*ht%1,Oe.tileID.canonical.y*ht%1]):Oe.texture.bind(Bt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),Oe.texture.useMipmap&&F.extTextureFilterAnisotropic&&x.transform.pitch>20&&V.texParameterf(V.TEXTURE_2D,F.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,F.extTextureFilterAnisotropicMax);let It=x.style.map.terrain&&x.style.map.terrain.getTerrainData(xe),St=It?xe:null,Qt=St?St.posMatrix:x.transform.calculatePosMatrix(xe.toUnwrapped(),ye),Er=sj(Qt,Pt||[0,0],ht||1,at,D);G instanceof pr?X.draw(F,V.TRIANGLES,ce,ni.disabled,oe,Hn.disabled,Er,It,D.id,G.boundsBuffer,x.quadTriangleIndexBuffer,G.boundsSegments):X.draw(F,V.TRIANGLES,ce,le[xe.overscaledZ],oe,Hn.disabled,Er,It,D.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(s,d,v,y);break;case"background":(function(x,A,D,R){let F=D.paint.get("background-color"),V=D.paint.get("background-opacity");if(V===0)return;let G=x.context,X=G.gl,oe=x.transform,le=oe.tileSize,pe=D.paint.get("background-pattern");if(x.isPatternMissing(pe))return;let ge=!pe&&F.a===1&&V===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==ge)return;let ye=ni.disabled,xe=x.depthModeForSublayer(0,ge==="opaque"?Zr.ReadWrite:Zr.ReadOnly),ce=x.colorModeForRenderPass(),Oe=x.useProgram(pe?"backgroundPattern":"background"),ke=R||oe.coveringTiles({tileSize:le,terrain:x.style.map.terrain});pe&&(G.activeTexture.set(X.TEXTURE0),x.imageManager.bind(x.context));let Ve=D.getCrossfadeParameters();for(let at of ke){let ht=R?at.posMatrix:x.transform.calculatePosMatrix(at.toUnwrapped()),Pt=pe?Lb(ht,V,x,pe,{tileID:at,tileSize:le},Ve):r0(ht,V,F),Bt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(at);Oe.draw(G,X.TRIANGLES,xe,ye,ce,Hn.disabled,Pt,Bt,D.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(s,0,v,y);break;case"custom":(function(x,A,D){let R=x.context,F=D.implementation;if(x.renderPass==="offscreen"){let V=F.prerender;V&&(x.setCustomLayerDefaults(),R.setColorMode(x.colorModeForRenderPass()),V.call(F,R.gl,x.transform.customLayerMatrix()),R.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),R.setColorMode(x.colorModeForRenderPass()),R.setStencilMode(ni.disabled);let V=F.renderingMode==="3d"?new Zr(x.context.gl.LEQUAL,Zr.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,Zr.ReadOnly);R.setDepthMode(V),F.render(R.gl,x.transform.customLayerMatrix(),{farZ:x.transform.farZ,nearZ:x.transform.nearZ,fov:x.transform._fov,modelViewProjectionMatrix:x.transform.modelViewProjectionMatrix,projectionMatrix:x.transform.projectionMatrix}),R.setDirty(),x.setBaseState(),R.bindFramebuffer.set(null)}})(s,0,v);}}translatePosMatrix(s,d,v,y,x){if(!v[0]&&!v[1])return s;let A=x?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(A){let F=Math.sin(A),V=Math.cos(A);v=[v[0]*V-v[1]*F,v[0]*F+v[1]*V]}let D=[x?v[0]:rn(d,v[0],this.transform.zoom),x?v[1]:rn(d,v[1],this.transform.zoom),0],R=new Float32Array(16);return o.J(R,s,D),R}saveTileTexture(s){let d=this._tileTextures[s.size[0]];d?d.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){let d=this._tileTextures[s];return d&&d.length>0?d.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;let d=this.imageManager.getPattern(s.from.toString()),v=this.imageManager.getPattern(s.to.toString());return!d||!v}useProgram(s,d){this.cache=this.cache||{};let v=s+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Db(this.context,sf[s],d,Nb[s],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ue(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:s,drawingBufferHeight:d}=this.context.gl;return this.width!==s||this.height!==d}}class ah{constructor(s,d){this.points=s,this.planes=d}static fromInvProjectionMatrix(s,d,v){let y=Math.pow(2,v),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(D=>{let R=1/(D=o.af([],D,s))[3]/d*y;return o.b1(D,D,[R,R,1/D[3],R])}),A=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(D=>{let R=function(X,oe){var le=oe[0],pe=oe[1],ge=oe[2],ye=le*le+pe*pe+ge*ge;return ye>0&&(ye=1/Math.sqrt(ye)),X[0]=oe[0]*ye,X[1]=oe[1]*ye,X[2]=oe[2]*ye,X}([],function(X,oe,le){var pe=oe[0],ge=oe[1],ye=oe[2],xe=le[0],ce=le[1],Oe=le[2];return X[0]=ge*Oe-ye*ce,X[1]=ye*xe-pe*Oe,X[2]=pe*ce-ge*xe,X}([],Q([],x[D[0]],x[D[1]]),Q([],x[D[2]],x[D[1]]))),F=-((V=R)[0]*(G=x[D[1]])[0]+V[1]*G[1]+V[2]*G[2]);var V,G;return R.concat(F)});return new ah(x,A)}}class sh{constructor(s,d){this.min=s,this.max=d,this.center=function(v,y,x){return v[0]=.5*y[0],v[1]=.5*y[1],v[2]=.5*y[2],v}([],function(v,y,x){return v[0]=y[0]+x[0],v[1]=y[1]+x[1],v[2]=y[2]+x[2],v}([],this.min,this.max))}quadrant(s){let d=[s%2==0,s<2],v=B(this.min),y=B(this.max);for(let x=0;x<d.length;x++)v[x]=d[x]?this.min[x]:this.center[x],y[x]=d[x]?this.center[x]:this.max[x];return y[2]=this.max[2],new sh(v,y)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersects(s){let d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],v=!0;for(let y=0;y<s.planes.length;y++){let x=s.planes[y],A=0;for(let D=0;D<d.length;D++)o.b2(x,d[D])>=0&&A++;if(A===0)return 0;A!==d.length&&(v=!1)}if(v)return 2;for(let y=0;y<3;y++){let x=Number.MAX_VALUE,A=-Number.MAX_VALUE;for(let D=0;D<s.points.length;D++){let R=s.points[D][y]-this.min[y];x=Math.min(x,R),A=Math.max(A,R)}if(A<0||x>this.max[y]-this.min[y])return 0}return 1}}class lh{constructor(s=0,d=0,v=0,y=0){if(isNaN(s)||s<0||isNaN(d)||d<0||isNaN(v)||v<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=d,this.left=v,this.right=y}interpolate(s,d,v){return d.top!=null&&s.top!=null&&(this.top=o.y.number(s.top,d.top,v)),d.bottom!=null&&s.bottom!=null&&(this.bottom=o.y.number(s.bottom,d.bottom,v)),d.left!=null&&s.left!=null&&(this.left=o.y.number(s.left,d.left,v)),d.right!=null&&s.right!=null&&(this.right=o.y.number(s.right,d.right,v)),this}getCenter(s,d){let v=o.ac((this.left+s-this.right)/2,0,s),y=o.ac((this.top+d-this.bottom)/2,0,d);return new o.P(v,y)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new lh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}let Zb=85.051129;class uh{constructor(s,d,v,y,x){this.tileSize=512,this._renderWorldCopies=x===void 0||!!x,this._minZoom=s||0,this._maxZoom=d||22,this._minPitch=v==null?0:v,this._maxPitch=y==null?60:y,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new lh,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){let s=new uh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.apply(this),s}apply(s){this.tileSize=s.tileSize,this.latRange=s.latRange,this.lngRange=s.lngRange,this.width=s.width,this.height=s.height,this._center=s._center,this._elevation=s._elevation,this.minElevationForCurrentTile=s.minElevationForCurrentTile,this.zoom=s.zoom,this.angle=s.angle,this._fov=s._fov,this._pitch=s._pitch,this._unmodified=s._unmodified,this._edgeInsets=s._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(s){let d=-o.b3(s,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var v=new o.A(4);return o.A!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,y,x){var A=y[0],D=y[1],R=y[2],F=y[3],V=Math.sin(x),G=Math.cos(x);v[0]=A*G+R*V,v[1]=D*G+F*V,v[2]=A*-V+R*G,v[3]=D*-V+F*G}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){let d=o.ac(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(s){let d=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,d,v){this._unmodified=!1,this._edgeInsets.interpolate(s,d,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){let d=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(s){let d=[new o.b4(0,s)];if(this._renderWorldCopies){let v=this.pointCoordinate(new o.P(0,0)),y=this.pointCoordinate(new o.P(this.width,0)),x=this.pointCoordinate(new o.P(this.width,this.height)),A=this.pointCoordinate(new o.P(0,this.height)),D=Math.floor(Math.min(v.x,y.x,x.x,A.x)),R=Math.floor(Math.max(v.x,y.x,x.x,A.x)),F=1;for(let V=D-F;V<=R+F;V++)V!==0&&d.push(new o.b4(V,s))}return d}coveringTiles(s){var d,v;let y=this.coveringZoomLevel(s),x=y;if(s.minzoom!==void 0&&y<s.minzoom)return[];s.maxzoom!==void 0&&y>s.maxzoom&&(y=s.maxzoom);let A=this.pointCoordinate(this.getCameraPoint()),D=o.Z.fromLngLat(this.center),R=Math.pow(2,y),F=[R*A.x,R*A.y,0],V=[R*D.x,R*D.y,0],G=ah.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,y),X=s.minzoom||0;!s.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=y);let oe=s.terrain?2/Math.min(this.tileSize,s.tileSize)*this.tileSize:3,le=ce=>({aabb:new sh([ce*R,0,0],[(ce+1)*R,R,0]),zoom:0,x:0,y:0,wrap:ce,fullyVisible:!1}),pe=[],ge=[],ye=y,xe=s.reparseOverscaled?x:y;if(this._renderWorldCopies)for(let ce=1;ce<=3;ce++)pe.push(le(-ce)),pe.push(le(ce));for(pe.push(le(0));pe.length>0;){let ce=pe.pop(),Oe=ce.x,ke=ce.y,Ve=ce.fullyVisible;if(!Ve){let It=ce.aabb.intersects(G);if(It===0)continue;Ve=It===2}let at=s.terrain?F:V,ht=ce.aabb.distanceX(at),Pt=ce.aabb.distanceY(at),Bt=Math.max(Math.abs(ht),Math.abs(Pt));if(ce.zoom===ye||Bt>oe+(1<<ye-ce.zoom)-2&&ce.zoom>=X){let It=ye-ce.zoom,St=F[0]-.5-(Oe<<It),Qt=F[1]-.5-(ke<<It);ge.push({tileID:new o.S(ce.zoom===ye?xe:ce.zoom,ce.wrap,ce.zoom,Oe,ke),distanceSq:ee([V[0]-.5-Oe,V[1]-.5-ke]),tileDistanceToCamera:Math.sqrt(St*St+Qt*Qt)})}else for(let It=0;It<4;It++){let St=(Oe<<1)+It%2,Qt=(ke<<1)+(It>>1),Er=ce.zoom+1,At=ce.aabb.quadrant(It);if(s.terrain){let qt=new o.S(Er,ce.wrap,Er,St,Qt),wr=s.terrain.getMinMaxElevation(qt),hi=(d=wr.minElevation)!==null&&d!==void 0?d:this.elevation,jr=(v=wr.maxElevation)!==null&&v!==void 0?v:this.elevation;At=new sh([At.min[0],At.min[1],hi],[At.max[0],At.max[1],jr])}pe.push({aabb:At,zoom:Er,x:St,y:Qt,wrap:ce.wrap,fullyVisible:Ve})}}return ge.sort((ce,Oe)=>ce.distanceSq-Oe.distanceSq).map(ce=>ce.tileID)}resize(s,d){this.width=s,this.height=d,this.pixelsToGLUnits=[2/s,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){let d=o.ac(s.lat,-85.051129,Zb);return new o.P(o.O(s.lng)*this.worldSize,o.Q(d)*this.worldSize)}unproject(s){return new o.Z(s.x/this.worldSize,s.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(s){let d=this.elevation,v=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,y=this.pointLocation(this.centerPoint,s),x=s.getElevationForLngLatZoom(y,this.tileZoom);if(!(this.elevation-x))return;let A=v+d-x,D=Math.cos(this._pitch)*this.cameraToCenterDistance/A/o.b5(1,y.lat),R=this.scaleZoom(D/this.tileSize);this._elevation=x,this._center=y,this.zoom=R}setLocationAtPoint(s,d){let v=this.pointCoordinate(d),y=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(s),A=new o.Z(x.x-(v.x-y.x),x.y-(v.y-y.y));this.center=this.coordinateLocation(A),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(s,d){return d?this.coordinatePoint(this.locationCoordinate(s),d.getElevationForLngLatZoom(s,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(s))}pointLocation(s,d){return this.coordinateLocation(this.pointCoordinate(s,d))}locationCoordinate(s){return o.Z.fromLngLat(s)}coordinateLocation(s){return s&&s.toLngLat()}pointCoordinate(s,d){if(d){let X=d.pointCoordinate(s);if(X!=null)return X}let v=[s.x,s.y,0,1],y=[s.x,s.y,1,1];o.af(v,v,this.pixelMatrixInverse),o.af(y,y,this.pixelMatrixInverse);let x=v[3],A=y[3],D=v[1]/x,R=y[1]/A,F=v[2]/x,V=y[2]/A,G=F===V?0:(0-F)/(V-F);return new o.Z(o.y.number(v[0]/x,y[0]/A,G)/this.worldSize,o.y.number(D,R,G)/this.worldSize)}coordinatePoint(s,d=0,v=this.pixelMatrix){let y=[s.x*this.worldSize,s.y*this.worldSize,d,1];return o.af(y,y,v),new o.P(y[0]/y[3],y[1]/y[3])}getBounds(){let s=Math.max(0,this.height/2-this.getHorizon());return new Te().extend(this.pointLocation(new o.P(0,s))).extend(this.pointLocation(new o.P(this.width,s))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Te([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Zb])}calculateTileMatrix(s){let d=s.canonical,v=this.worldSize/this.zoomScale(d.z),y=d.x+Math.pow(2,d.z)*s.wrap,x=o.an(new Float64Array(16));return o.J(x,x,[y*v,d.y*v,0]),o.K(x,x,[v/o.X,v/o.X,1]),x}calculatePosMatrix(s,d=!1){let v=s.key,y=d?this._alignedPosMatrixCache:this._posMatrixCache;if(y[v])return y[v];let x=this.calculateTileMatrix(s);return o.L(x,d?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,x),y[v]=new Float32Array(x),y[v]}calculateFogMatrix(s){let d=s.key,v=this._fogMatrixCache;if(v[d])return v[d];let y=this.calculateTileMatrix(s);return o.L(y,this.fogMatrix,y),v[d]=new Float32Array(y),v[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(s,d){d=o.ac(+d,this.minZoom,this.maxZoom);let v={center:new o.N(s.lng,s.lat),zoom:d},y=this.lngRange;if(!this._renderWorldCopies&&y===null){let ce=179.9999999999;y=[-ce,ce]}let x=this.tileSize*this.zoomScale(v.zoom),A=0,D=x,R=0,F=x,V=0,G=0,{x:X,y:oe}=this.size;if(this.latRange){let ce=this.latRange;A=o.Q(ce[1])*x,D=o.Q(ce[0])*x,D-A<oe&&(V=oe/(D-A))}y&&(R=o.b3(o.O(y[0])*x,0,x),F=o.b3(o.O(y[1])*x,0,x),F<R&&(F+=x),F-R<X&&(G=X/(F-R)));let{x:le,y:pe}=this.project.call({worldSize:x},s),ge,ye,xe=Math.max(G||0,V||0);if(xe){let ce=new o.P(G?(F+R)/2:le,V?(D+A)/2:pe);return v.center=this.unproject.call({worldSize:x},ce).wrap(),v.zoom+=this.scaleZoom(xe),v}if(this.latRange){let ce=oe/2;pe-ce<A&&(ye=A+ce),pe+ce>D&&(ye=D-ce)}if(y){let ce=(R+F)/2,Oe=le;this._renderWorldCopies&&(Oe=o.b3(le,ce-x/2,ce+x/2));let ke=X/2;Oe-ke<R&&(ge=R+ke),Oe+ke>F&&(ge=F-ke)}if(ge!==void 0||ye!==void 0){let ce=new o.P(ge!=null?ge:le,ye!=null?ye:pe);v.center=this.unproject.call({worldSize:x},ce).wrap()}return v}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let s=this._unmodified,{center:d,zoom:v}=this.getConstrained(this.center,this.zoom);this.center=d,this.zoom=v,this._unmodified=s,this._constraining=!1}_calcMatrices(){if(!this.height)return;let s=this.centerOffset,d=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b5(1,this.center.lat)*this.worldSize;let y=o.an(new Float64Array(16));o.K(y,y,[this.width/2,-this.height/2,1]),o.J(y,y,[1,-1,0]),this.labelPlaneMatrix=y,y=o.an(new Float64Array(16)),o.K(y,y,[1,-1,1]),o.J(y,y,[-1,-1,0]),o.K(y,y,[2/this.width,2/this.height,1]),this.glCoordMatrix=y;let x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),A=Math.min(this.elevation,this.minElevationForCurrentTile),D=x-A*this._pixelPerMeter/Math.cos(this._pitch),R=A<0?D:x,F=Math.PI/2+this._pitch,V=this._fov*(.5+s.y/this.height),G=Math.sin(V)*R/Math.sin(o.ac(Math.PI-F-V,.01,Math.PI-.01)),X=this.getHorizon(),oe=2*Math.atan(X/this.cameraToCenterDistance)*(.5+s.y/(2*X)),le=Math.sin(oe)*R/Math.sin(o.ac(Math.PI-F-oe,.01,Math.PI-.01)),pe=Math.min(G,le);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*pe+R),this.nearZ=this.height/50,y=new Float64Array(16),o.b6(y,this._fov,this.width/this.height,this.nearZ,this.farZ),y[8]=2*-s.x/this.width,y[9]=2*s.y/this.height,this.projectionMatrix=o.ae(y),o.K(y,y,[1,-1,1]),o.J(y,y,[0,0,-this.cameraToCenterDistance]),o.b7(y,y,this._pitch),o.ad(y,y,this.angle),o.J(y,y,[-d,-v,0]),this.mercatorMatrix=o.K([],y,[this.worldSize,this.worldSize,this.worldSize]),o.K(y,y,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.L(new Float64Array(16),this.labelPlaneMatrix,y),o.J(y,y,[0,0,-this.elevation]),this.modelViewProjectionMatrix=y,this.invModelViewProjectionMatrix=o.as([],y),this.fogMatrix=new Float64Array(16),o.b6(this.fogMatrix,this._fov,this.width/this.height,x,this.farZ),this.fogMatrix[8]=2*-s.x/this.width,this.fogMatrix[9]=2*s.y/this.height,o.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b7(this.fogMatrix,this.fogMatrix,this._pitch),o.ad(this.fogMatrix,this.fogMatrix,this.angle),o.J(this.fogMatrix,this.fogMatrix,[-d,-v,0]),o.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=o.L(new Float64Array(16),this.labelPlaneMatrix,y);let ge=this.width%2/2,ye=this.height%2/2,xe=Math.cos(this.angle),ce=Math.sin(this.angle),Oe=d-Math.round(d)+xe*ge+ce*ye,ke=v-Math.round(v)+xe*ye+ce*ge,Ve=new Float64Array(y);if(o.J(Ve,Ve,[Oe>.5?Oe-1:Oe,ke>.5?ke-1:ke,0]),this.alignedModelViewProjectionMatrix=Ve,y=o.as(new Float64Array(16),this.pixelMatrix),!y)throw new Error("failed to invert matrix");this.pixelMatrixInverse=y,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let s=this.pointCoordinate(new o.P(0,0)),d=[s.x*this.worldSize,s.y*this.worldSize,0,1];return o.af(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){let s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,s))}getCameraQueryGeometry(s){let d=this.getCameraPoint();if(s.length===1)return[s[0],d];{let v=d.x,y=d.y,x=d.x,A=d.y;for(let D of s)v=Math.min(v,D.x),y=Math.min(y,D.y),x=Math.max(x,D.x),A=Math.max(A,D.y);return[new o.P(v,y),new o.P(x,y),new o.P(x,A),new o.P(v,A),new o.P(v,y)]}}lngLatToCameraDepth(s,d){let v=this.locationCoordinate(s),y=[v.x*this.worldSize,v.y*this.worldSize,d,1];return o.af(y,y,this.modelViewProjectionMatrix),y[2]/y[3]}}function Og(b,s){let d,v=!1,y=null,x=null,A=()=>{y=null,v&&(b.apply(x,d),y=setTimeout(A,s),v=!1)};return(...D)=>(v=!0,x=this,d=D,y||A(),y)}class d0{constructor(s){this._getCurrentHash=()=>{let d=window.location.hash.replace("#","");if(this._hashName){let v;return d.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(v=y)}),(v&&v[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{let d=this._getCurrentHash();if(d.length>=3&&!d.some(v=>isNaN(v))){let v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:v,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{let d=window.location.href.replace(/(#.+)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{let d=this._getCurrentHash();if(d.length===0)return;let v=d.join("/"),y=v;y.split("&").length>0&&(y=y.split("&")[0]),this._hashName&&(y=`${this._hashName}=${v}`);let x=window.location.hash.replace(y,"");x.startsWith("#&")?x=x.slice(0,1)+x.slice(2):x==="#"&&(x="");let A=window.location.href.replace(/(#.+)?$/,x);A=A.replace("&&","&"),window.history.replaceState(window.history.state,null,A)},this._updateHash=Og(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){let d=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,y=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,y),A=Math.round(d.lng*x)/x,D=Math.round(d.lat*x)/x,R=this._map.getBearing(),F=this._map.getPitch(),V="";if(V+=s?`/${A}/${D}/${v}`:`${v}/${D}/${A}`,(R||F)&&(V+="/"+Math.round(10*R)/10),F&&(V+=`/${Math.round(F)}`),this._hashName){let G=this._hashName,X=!1,oe=window.location.hash.slice(1).split("&").map(le=>{let pe=le.split("=")[0];return pe===G?(X=!0,`${pe}=${V}`):le}).filter(le=>le);return X||oe.push(`${G}=${V}`),`#${oe.join("&")}`}return`#${V}`}}let h0={linearity:.3,easing:o.b8(0,0,.3,1)},Yb=o.e({deceleration:2500,maxSpeed:1400},h0),xj=o.e({deceleration:20,maxSpeed:1400},h0),rM=o.e({deceleration:1e3,maxSpeed:360},h0),m0=o.e({deceleration:1e3,maxSpeed:90},h0);class Kb{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:m.now(),settings:s})}_drainInertiaBuffer(){let s=this._inertiaBuffer,d=m.now();for(;s.length>0&&d-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:x}of this._inertiaBuffer)d.zoom+=x.zoomDelta||0,d.bearing+=x.bearingDelta||0,d.pitch+=x.pitchDelta||0,x.panDelta&&d.pan._add(x.panDelta),x.around&&(d.around=x.around),x.pinchAround&&(d.pinchAround=x.pinchAround);let v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(d.pan.mag()){let x=Pg(d.pan.mag(),v,o.e({},Yb,s||{}));y.offset=d.pan.mult(x.amount/d.pan.mag()),y.center=this._map.transform.center,Dg(y,x)}if(d.zoom){let x=Pg(d.zoom,v,xj);y.zoom=this._map.transform.zoom+x.amount,Dg(y,x)}if(d.bearing){let x=Pg(d.bearing,v,rM);y.bearing=this._map.transform.bearing+o.ac(x.amount,-179,179),Dg(y,x)}if(d.pitch){let x=Pg(d.pitch,v,m0);y.pitch=this._map.transform.pitch+x.amount,Dg(y,x)}if(y.zoom||y.bearing){let x=d.pinchAround===void 0?d.around:d.pinchAround;y.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),o.e(y,{noMoveStart:!0})}}function Dg(b,s){(!b.duration||b.duration<s.duration)&&(b.duration=s.duration,b.easing=s.easing)}function Pg(b,s,d){let{maxSpeed:v,linearity:y,deceleration:x}=d,A=o.ac(b*y/(s/1e3),-v,v),D=Math.abs(A)/(x*y);return{easing:d.easing,duration:1e3*D,amount:A*(D/2)}}class Wo extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,v,y={}){let x=g.mousePos(d.getCanvas(),v),A=d.unproject(x);super(s,o.e({point:x,lngLat:A,originalEvent:v},y)),this._defaultPrevented=!1,this.target=d}}class Mp extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,v){let y=s==="touchend"?v.changedTouches:v.touches,x=g.touchPos(d.getCanvasContainer(),y),A=x.map(R=>d.unproject(R)),D=x.reduce((R,F,V,G)=>R.add(F.div(G.length)),new o.P(0,0));super(s,{points:x,point:D,lngLats:A,lngLat:d.unproject(D),originalEvent:v}),this._defaultPrevented=!1}}class nM extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,v){super(s,{originalEvent:v}),this._defaultPrevented=!1}}class iM{constructor(s,d){this._map=s,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new nM(s.type,this._map,s))}mousedown(s,d){return this._mousedownPos=d,this._firePreventable(new Wo(s.type,this._map,s))}mouseup(s){this._map.fire(new Wo(s.type,this._map,s))}click(s,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Wo(s.type,this._map,s))}dblclick(s){return this._firePreventable(new Wo(s.type,this._map,s))}mouseover(s){this._map.fire(new Wo(s.type,this._map,s))}mouseout(s){this._map.fire(new Wo(s.type,this._map,s))}touchstart(s){return this._firePreventable(new Mp(s.type,this._map,s))}touchmove(s){this._map.fire(new Mp(s.type,this._map,s))}touchend(s){this._map.fire(new Mp(s.type,this._map,s))}touchcancel(s){this._map.fire(new Mp(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Vi{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new Wo(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Wo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new Wo(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fl{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.pointLocation(o.P.convert(s),this._map.terrain)}}class Ss{constructor(s,d){this._map=s,this._tr=new Fl(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,d){this.isEnabled()&&s.shiftKey&&s.button===0&&(g.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(s,d){if(!this._active)return;let v=d;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;let y=this._startPos;this._lastPos=v,this._box||(this._box=g.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));let x=Math.min(y.x,v.x),A=Math.max(y.x,v.x),D=Math.min(y.y,v.y),R=Math.max(y.y,v.y);g.setTransform(this._box,`translate(${x}px,${D}px)`),this._box.style.width=A-x+"px",this._box.style.height=R-D+"px"}mouseupWindow(s,d){if(!this._active||s.button!==0)return;let v=this._startPos,y=d;if(this.reset(),g.suppressClick(),v.x!==y.x||v.y!==y.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:s})),{cameraAnimation:x=>x.fitScreenCoordinates(v,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,d){return this._map.fire(new o.k(s,{originalEvent:d}))}}function Lg(b,s){if(b.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${s.length}`);let d={};for(let v=0;v<b.length;v++)d[b[v].identifier]=s[v];return d}class Xb{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,d,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),v.length===this.numTouches&&(this.centroid=function(y){let x=new o.P(0,0);for(let A of y)x._add(A);return x.div(y.length)}(d),this.touches=Lg(v,d)))}touchmove(s,d,v){if(this.aborted||!this.centroid)return;let y=Lg(v,d);for(let x in this.touches){let A=y[x];(!A||A.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(s,d,v){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){let y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class g0{constructor(s){this.singleTap=new Xb(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,d,v){this.singleTap.touchstart(s,d,v)}touchmove(s,d,v){this.singleTap.touchmove(s,d,v)}touchend(s,d,v){let y=this.singleTap.touchend(s,d,v);if(y){let x=s.timeStamp-this.lastTime<500,A=!this.lastTap||this.lastTap.dist(y)<30;if(x&&A||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class ch{constructor(s){this._tr=new Fl(s),this._zoomIn=new g0({numTouches:1,numTaps:2}),this._zoomOut=new g0({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,d,v){this._zoomIn.touchstart(s,d,v),this._zoomOut.touchstart(s,d,v)}touchmove(s,d,v){this._zoomIn.touchmove(s,d,v),this._zoomOut.touchmove(s,d,v)}touchend(s,d,v){let y=this._zoomIn.touchend(s,d,v),x=this._zoomOut.touchend(s,d,v),A=this._tr;return y?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:A.zoom+1,around:A.unproject(y)},{originalEvent:s})}):x?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:A.zoom-1,around:A.unproject(x)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sc{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){let d=this._moveFunction(...s);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(s,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,d){if(!this.isEnabled())return;let v=this._lastPoint;if(!v)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);let y=d.length?d[0]:d;return!this._moved&&y.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(v,y))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&g.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let Qb={0:1,2:2};class v0{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){let d=g.mouseButton(s);this._eventButton=d}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(d,v){let y=Qb[v];return d.buttons===void 0||(d.buttons&y)!==y}(s,this._eventButton)}isValidEndEvent(s){return g.mouseButton(s)===this._eventButton}}class Jb{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}let y0=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=s=>{s.preventDefault()}},ew=({enable:b,clickTolerance:s,bearingDegreesPerPixelMoved:d=.8})=>{let v=new v0({checkCorrectEvent:y=>g.mouseButton(y)===0&&y.ctrlKey||g.mouseButton(y)===2});return new Sc({clickTolerance:s,move:(y,x)=>({bearingDelta:(x.x-y.x)*d}),moveStateManager:v,enable:b,assignEvents:y0})},tw=({enable:b,clickTolerance:s,pitchDegreesPerPixelMoved:d=-.5})=>{let v=new v0({checkCorrectEvent:y=>g.mouseButton(y)===0&&y.ctrlKey||g.mouseButton(y)===2});return new Sc({clickTolerance:s,move:(y,x)=>({pitchDelta:(x.y-y.y)*d}),moveStateManager:v,enable:b,assignEvents:y0})};class Ap{constructor(s,d){this._clickTolerance=s.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,d,v){return this._calculateTransform(s,d,v)}touchmove(s,d,v){if(this._active){if(!this._shouldBePrevented(v.length))return s.preventDefault(),this._calculateTransform(s,d,v);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,d,v){this._calculateTransform(s,d,v),this._active&&this._shouldBePrevented(v.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,d,v){v.length>0&&(this._active=!0);let y=Lg(v,d),x=new o.P(0,0),A=new o.P(0,0),D=0;for(let F in y){let V=y[F],G=this._touches[F];G&&(x._add(V),A._add(V.sub(G)),D++,y[F]=V)}if(this._touches=y,this._shouldBePrevented(D)||!A.mag())return;let R=A.div(D);return this._sum._add(R),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(D),panDelta:R}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _0{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,d,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([d[0],d[1]]))}touchmove(s,d,v){if(!this._firstTwoTouches)return;s.preventDefault();let[y,x]=this._firstTwoTouches,A=Ng(v,d,y),D=Ng(v,d,x);if(!A||!D)return;let R=this._aroundCenter?null:A.add(D).div(2);return this._move([A,D],R,s)}touchend(s,d,v){if(!this._firstTwoTouches)return;let[y,x]=this._firstTwoTouches,A=Ng(v,d,y),D=Ng(v,d,x);A&&D||(this._active&&g.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Ng(b,s,d){for(let v=0;v<b.length;v++)if(b[v].identifier===d)return s[v]}function rw(b,s){return Math.log(b/s)/Math.LN2}class nw extends _0{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,d){let v=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(rw(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:rw(this._distance,v),pinchAround:d}}}function iw(b,s){return 180*b.angleWith(s)/Math.PI}class ow extends _0{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,d,v){let y=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:iw(this._vector,y),pinchAround:d}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());let d=25/(Math.PI*this._minDiameter)*360,v=iw(s,this._startVector);return Math.abs(v)<d}}function x0(b){return Math.abs(b.y)>Math.abs(b.x)}class fh extends _0{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,d,v){super.touchstart(s,d,v),this._currentTouchCount=v.length}_start(s){this._lastPoints=s,x0(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,d,v){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let y=s[0].sub(this._lastPoints[0]),x=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,x,v.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(y.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(s,d,v){if(this._valid!==void 0)return this._valid;let y=s.mag()>=2,x=d.mag()>=2;if(!y&&!x)return;if(!y||!x)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;let A=s.y>0==d.y>0;return x0(s)&&x0(d)&&A}}let oM={panStep:100,bearingStep:15,pitchStep:10};class Xs{constructor(s){this._tr=new Fl(s);let d=oM;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let d=0,v=0,y=0,x=0,A=0;switch(s.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:s.shiftKey?v=-1:(s.preventDefault(),x=-1);break;case 39:s.shiftKey?v=1:(s.preventDefault(),x=1);break;case 38:s.shiftKey?y=1:(s.preventDefault(),A=-1);break;case 40:s.shiftKey?y=-1:(s.preventDefault(),A=1);break;default:return;}return this._rotationDisabled&&(v=0,y=0),{cameraAnimation:D=>{let R=this._tr;D.easeTo({duration:300,easeId:"keyboardHandler",easing:yu,zoom:d?Math.round(R.zoom)+d*(s.shiftKey?2:1):R.zoom,bearing:R.bearing+v*this._bearingStep,pitch:R.pitch+y*this._pitchStep,offset:[-x*this._panStep,-A*this._panStep],center:R.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function yu(b){return b*(2-b)}let aw=4.000244140625;class Bl{constructor(s,d){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=s,this._tr=new Fl(s),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let d=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY,v=m.now(),y=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,d!==0&&d%aw==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(y*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),s.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=s,this._delta-=d,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let d=g.mousePos(this._map.getCanvas(),s),v=this._tr;this._around=d.y>v.transform.height/2-v.transform.getHorizon()?o.N.convert(this._aroundCenter?v.center:v.unproject(d)):o.N.convert(v.center),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let s=this._tr.transform;if(this._delta!==0){let R=this._type==="wheel"&&Math.abs(this._delta)>aw?this._wheelZoomRate:this._defaultZoomRate,F=2/(1+Math.exp(-Math.abs(this._delta*R)));this._delta<0&&F!==0&&(F=1/F);let V=typeof this._targetZoom=="number"?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(V*F))),this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let d=typeof this._targetZoom=="number"?this._targetZoom:s.zoom,v=this._startZoom,y=this._easing,x,A=!1,D=m.now()-this._lastWheelEventTime;if(this._type==="wheel"&&v&&y&&D){let R=Math.min(D/200,1),F=y(R);x=o.y.number(v,d,F),R<1?this._frameId||(this._frameId=!0):A=!0}else x=d,A=!0;return this._active=!0,A&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!A,zoomDelta:x-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let d=o.b9;if(this._prevEase){let v=this._prevEase,y=(m.now()-v.start)/v.duration,x=v.easing(y+.01)-v.easing(y),A=.27/Math.sqrt(x*x+1e-4)*.01,D=Math.sqrt(.0729-A*A);d=o.b8(A,D,.25,1)}return this._prevEase={start:m.now(),duration:s,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Op{constructor(s,d){this._clickZoom=s,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class bj{constructor(s){this._tr=new Fl(s),this.reset()}reset(){this._active=!1}dblclick(s,d){return s.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wj{constructor(){this._tap=new g0({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,d,v){if(!this._swipePoint)if(this._tapTime){let y=d[0],x=s.timeStamp-this._tapTime<500,A=this._tapPoint.dist(y)<30;x&&A?v.length>0&&(this._swipePoint=y,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(s,d,v)}touchmove(s,d,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;let y=d[0],x=y.y-this._swipePoint.y;return this._swipePoint=y,s.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(s,d,v)}touchend(s,d,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{let y=this._tap.touchend(s,d,v);y&&(this._tapTime=s.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class aM{constructor(s,d,v){this._el=s,this._mousePan=d,this._touchPan=v}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class sM{constructor(s,d,v){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=d,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class sw{constructor(s,d,v,y){this._el=s,this._touchZoom=d,this._touchRotate=v,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ph{constructor(s,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=g.create("div","maplibregl-cooperative-gesture-screen",s);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let v=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),y=document.createElement("div");y.className="maplibregl-desktop-message",y.textContent=d,this._container.appendChild(y);let x=document.createElement("div");x.className="maplibregl-mobile-message",x.textContent=v,this._container.appendChild(x),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(g.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,d){this._enabled&&(this._map.fire(new o.k("cooperativegestureprevented",{gestureType:s,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let Qs=b=>b.zoom||b.drag||b.pitch||b.rotate;class Wt extends o.k{}function b0(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class lw{constructor(s,d){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,x)=>{if(y.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let A=y.type==="renderFrame"?void 0:y,D={needsRenderFrame:!1},R={},F={},V=y.touches,G=V?this._getMapTouches(V):void 0,X=G?g.touchPos(this._map.getCanvas(),G):g.mousePos(this._map.getCanvas(),y);for(let{handlerName:pe,handler:ge,allowed:ye}of this._handlers){if(!ge.isEnabled())continue;let xe;this._blockedByActive(F,ye,pe)?ge.reset():ge[x||y.type]&&(xe=ge[x||y.type](y,X,G),this.mergeHandlerResult(D,R,xe,pe,A),xe&&xe.needsRenderFrame&&this._triggerRenderFrame()),(xe||ge.isActive())&&(F[pe]=ge)}let oe={};for(let pe in this._previousActiveHandlers)F[pe]||(oe[pe]=A);this._previousActiveHandlers=F,(Object.keys(oe).length||b0(D))&&(this._changes.push([D,R,oe]),this._triggerRenderFrame()),(Object.keys(F).length||b0(D))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:le}=D;le&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],le(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Kb(s),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);let v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(let[y,x,A]of this._listeners)g.addEventListener(y,x,y===document?this.handleWindowEvent:this.handleEvent,A)}destroy(){for(let[s,d,v]of this._listeners)g.removeEventListener(s,d,s===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(s){let d=this._map,v=d.getCanvasContainer();this._add("mapEvent",new iM(d,s));let y=d.boxZoom=new Ss(d,s);this._add("boxZoom",y),s.interactive&&s.boxZoom&&y.enable();let x=d.cooperativeGestures=new ph(d,s.cooperativeGestures);this._add("cooperativeGestures",x),s.cooperativeGestures&&x.enable();let A=new ch(d),D=new bj(d);d.doubleClickZoom=new Op(D,A),this._add("tapZoom",A),this._add("clickZoom",D),s.interactive&&s.doubleClickZoom&&d.doubleClickZoom.enable();let R=new wj;this._add("tapDragZoom",R);let F=d.touchPitch=new fh(d);this._add("touchPitch",F),s.interactive&&s.touchPitch&&d.touchPitch.enable(s.touchPitch);let V=ew(s),G=tw(s);d.dragRotate=new sM(s,V,G),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]),s.interactive&&s.dragRotate&&d.dragRotate.enable();let X=(({enable:xe,clickTolerance:ce})=>{let Oe=new v0({checkCorrectEvent:ke=>g.mouseButton(ke)===0&&!ke.ctrlKey});return new Sc({clickTolerance:ce,move:(ke,Ve)=>({around:Ve,panDelta:Ve.sub(ke)}),activateOnStart:!0,moveStateManager:Oe,enable:xe,assignEvents:y0})})(s),oe=new Ap(s,d);d.dragPan=new aM(v,X,oe),this._add("mousePan",X),this._add("touchPan",oe,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&d.dragPan.enable(s.dragPan);let le=new ow,pe=new nw;d.touchZoomRotate=new sw(v,pe,le,R),this._add("touchRotate",le,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&d.touchZoomRotate.enable(s.touchZoomRotate);let ge=d.scrollZoom=new Bl(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),s.interactive&&s.scrollZoom&&d.scrollZoom.enable(s.scrollZoom);let ye=d.keyboard=new Xs(d);this._add("keyboard",ye),s.interactive&&s.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new Vi(d))}_add(s,d,v){this._handlers.push({handlerName:s,handler:d,allowed:v}),this._handlersById[s]=d}stop(s){if(!this._updatingCamera){for(let{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(let{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Qs(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,d,v){for(let y in s)if(y!==v&&(!d||d.indexOf(y)<0))return!0;return!1}_getMapTouches(s){let d=[];for(let v of s)this._el.contains(v.target)&&d.push(v);return d}mergeHandlerResult(s,d,v,y,x){if(!v)return;o.e(s,v);let A={handlerName:y,originalEvent:v.originalEvent||x};v.zoomDelta!==void 0&&(d.zoom=A),v.panDelta!==void 0&&(d.drag=A),v.pitchDelta!==void 0&&(d.pitch=A),v.bearingDelta!==void 0&&(d.rotate=A)}_applyChanges(){let s={},d={},v={};for(let[y,x,A]of this._changes)y.panDelta&&(s.panDelta=(s.panDelta||new o.P(0,0))._add(y.panDelta)),y.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+y.pitchDelta),y.around!==void 0&&(s.around=y.around),y.pinchAround!==void 0&&(s.pinchAround=y.pinchAround),y.noInertia&&(s.noInertia=y.noInertia),o.e(d,x),o.e(v,A);this._updateMapTransform(s,d,v),this._changes=[]}_updateMapTransform(s,d,v){let y=this._map,x=y._getTransformForUpdate(),A=y.terrain;if(!(b0(s)||A&&this._terrainMovement))return this._fireEvents(d,v,!0);let{panDelta:D,zoomDelta:R,bearingDelta:F,pitchDelta:V,around:G,pinchAround:X}=s;X!==void 0&&(G=X),y._stop(!0),G=G||y.transform.centerPoint;let oe=x.pointLocation(D?G.sub(D):G);F&&(x.bearing+=F),V&&(x.pitch+=V),R&&(x.zoom+=R),A?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(D)):x.setLocationAtPoint(oe,G):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(oe,G)):x.setLocationAtPoint(oe,G),y._applyUpdatedTransform(x),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(d,v,!0)}_fireEvents(s,d,v){let y=Qs(this._eventsInProgress),x=Qs(s),A={};for(let G in s){let{originalEvent:X}=s[G];this._eventsInProgress[G]||(A[`${G}start`]=X),this._eventsInProgress[G]=s[G]}!y&&x&&this._fireEvent("movestart",x.originalEvent);for(let G in A)this._fireEvent(G,A[G]);x&&this._fireEvent("move",x.originalEvent);for(let G in s){let{originalEvent:X}=s[G];this._fireEvent(G,X)}let D={},R;for(let G in this._eventsInProgress){let{handlerName:X,originalEvent:oe}=this._eventsInProgress[G];this._handlersById[X].isActive()||(delete this._eventsInProgress[G],R=d[X]||oe,D[`${G}end`]=R)}for(let G in D)this._fireEvent(G,D[G]);let F=Qs(this._eventsInProgress),V=(y||x)&&!F;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let G=this._map._getTransformForUpdate();G.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(G)}if(v&&V){this._updatingCamera=!0;let G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),X=oe=>oe!==0&&-this._bearingSnap<oe&&oe<this._bearingSnap;!G||!G.essential&&m.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:R})),X(this._map.getBearing())&&this._map.resetNorth()):(X(G.bearing||this._map.getBearing())&&(G.bearing=0),G.freezeElevation=!0,this._map.easeTo(G,{originalEvent:R})),this._updatingCamera=!1}}_fireEvent(s,d){this._map.fire(new o.k(s,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new Wt("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class lM extends o.E{constructor(s,d){super(),this._renderFrameCallback=()=>{let v=Math.min((m.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.N(this.transform.center.lng,this.transform.center.lat)}setCenter(s,d){return this.jumpTo({center:s},d)}panBy(s,d,v){return s=o.P.convert(s).mult(-1),this.panTo(this.transform.center,o.e({offset:s},d),v)}panTo(s,d,v){return this.easeTo(o.e({center:s},d),v)}getZoom(){return this.transform.zoom}setZoom(s,d){return this.jumpTo({zoom:s},d),this}zoomTo(s,d,v){return this.easeTo(o.e({zoom:s},d),v)}zoomIn(s,d){return this.zoomTo(this.getZoom()+1,s,d),this}zoomOut(s,d){return this.zoomTo(this.getZoom()-1,s,d),this}getBearing(){return this.transform.bearing}setBearing(s,d){return this.jumpTo({bearing:s},d),this}getPadding(){return this.transform.padding}setPadding(s,d){return this.jumpTo({padding:s},d),this}rotateTo(s,d,v){return this.easeTo(o.e({bearing:s},d),v)}resetNorth(s,d){return this.rotateTo(0,o.e({duration:1e3},s),d),this}resetNorthPitch(s,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},s),d),this}snapToNorth(s,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,d):this}getPitch(){return this.transform.pitch}setPitch(s,d){return this.jumpTo({pitch:s},d),this}cameraForBounds(s,d){s=Te.convert(s).adjustAntiMeridian();let v=d&&d.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),v,d)}_cameraForBoxAndBearing(s,d,v,y){let x={top:0,bottom:0,right:0,left:0};if(typeof(y=o.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){let It=y.padding;y.padding={top:It,bottom:It,right:It,left:It}}y.padding=o.e(x,y.padding);let A=this.transform,D=A.padding,R=new Te(s,d),F=A.project(R.getNorthWest()),V=A.project(R.getNorthEast()),G=A.project(R.getSouthEast()),X=A.project(R.getSouthWest()),oe=o.ba(-v),le=F.rotate(oe),pe=V.rotate(oe),ge=G.rotate(oe),ye=X.rotate(oe),xe=new o.P(Math.max(le.x,pe.x,ye.x,ge.x),Math.max(le.y,pe.y,ye.y,ge.y)),ce=new o.P(Math.min(le.x,pe.x,ye.x,ge.x),Math.min(le.y,pe.y,ye.y,ge.y)),Oe=xe.sub(ce),ke=(A.width-(D.left+D.right+y.padding.left+y.padding.right))/Oe.x,Ve=(A.height-(D.top+D.bottom+y.padding.top+y.padding.bottom))/Oe.y;if(Ve<0||ke<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");let at=Math.min(A.scaleZoom(A.scale*Math.min(ke,Ve)),y.maxZoom),ht=o.P.convert(y.offset),Pt=new o.P((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(o.ba(v)),Bt=ht.add(Pt).mult(A.scale/A.zoomScale(at));return{center:A.unproject(F.add(G).div(2).sub(Bt)),zoom:at,bearing:v}}fitBounds(s,d,v){return this._fitInternal(this.cameraForBounds(s,d),d,v)}fitScreenCoordinates(s,d,v,y,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(s)),this.transform.pointLocation(o.P.convert(d)),v,y),y,x)}_fitInternal(s,d,v){return s?(delete(d=o.e(s,d)).padding,d.linear?this.easeTo(d,v):this.flyTo(d,v)):this}jumpTo(s,d){this.stop();let v=this._getTransformForUpdate(),y=!1,x=!1,A=!1;return"zoom"in s&&v.zoom!==+s.zoom&&(y=!0,v.zoom=+s.zoom),s.center!==void 0&&(v.center=o.N.convert(s.center)),"bearing"in s&&v.bearing!==+s.bearing&&(x=!0,v.bearing=+s.bearing),"pitch"in s&&v.pitch!==+s.pitch&&(A=!0,v.pitch=+s.pitch),s.padding==null||v.isPaddingEqual(s.padding)||(v.padding=s.padding),this._applyUpdatedTransform(v),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),y&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),x&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),A&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(s,d,v,y=0){let x=o.Z.fromLngLat(s,d),A=o.Z.fromLngLat(v,y),D=A.x-x.x,R=A.y-x.y,F=A.z-x.z,V=Math.hypot(D,R,F);if(V===0)throw new Error("Can't calculate camera options with same From and To");let G=Math.hypot(D,R),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/V/this.transform.tileSize),oe=180*Math.atan2(D,-R)/Math.PI,le=180*Math.acos(G/V)/Math.PI;return le=F<0?90-le:90+le,{center:A.toLngLat(),zoom:X,pitch:le,bearing:oe}}easeTo(s,d){var v;this._stop(!1,s.easeId),((s=o.e({offset:[0,0],duration:500,easing:o.b9},s)).animate===!1||!s.essential&&m.prefersReducedMotion)&&(s.duration=0);let y=this._getTransformForUpdate(),x=y.zoom,A=y.bearing,D=y.pitch,R=y.padding,F="bearing"in s?this._normalizeBearing(s.bearing,A):A,V="pitch"in s?+s.pitch:D,G="padding"in s?s.padding:y.padding,X=o.P.convert(s.offset),oe=y.centerPoint.add(X),le=y.pointLocation(oe),{center:pe,zoom:ge}=y.getConstrained(o.N.convert(s.center||le),(v=s.zoom)!==null&&v!==void 0?v:x);this._normalizeCenter(pe,y);let ye=y.project(le),xe=y.project(pe).sub(ye),ce=y.zoomScale(ge-x),Oe,ke;s.around&&(Oe=o.N.convert(s.around),ke=y.locationPoint(Oe));let Ve={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ge!==x,this._rotating=this._rotating||A!==F,this._pitching=this._pitching||V!==D,this._padding=!y.isPaddingEqual(G),this._easeId=s.easeId,this._prepareEase(d,s.noMoveStart,Ve),this.terrain&&this._prepareElevation(pe),this._ease(at=>{if(this._zooming&&(y.zoom=o.y.number(x,ge,at)),this._rotating&&(y.bearing=o.y.number(A,F,at)),this._pitching&&(y.pitch=o.y.number(D,V,at)),this._padding&&(y.interpolatePadding(R,G,at),oe=y.centerPoint.add(X)),this.terrain&&!s.freezeElevation&&this._updateElevation(at),Oe)y.setLocationAtPoint(Oe,ke);else{let ht=y.zoomScale(y.zoom-x),Pt=ge>x?Math.min(2,ce):Math.max(.5,ce),Bt=Math.pow(Pt,1-at),It=y.unproject(ye.add(xe.mult(at*Bt)).mult(ht));y.setLocationAtPoint(y.renderWorldCopies?It.wrap():It,oe)}this._applyUpdatedTransform(y),this._fireMoveEvents(d)},at=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d,at)},s),this}_prepareEase(s,d,v={}){this._moving=!0,d||v.moving||this.fire(new o.k("movestart",s)),this._zooming&&!v.zooming&&this.fire(new o.k("zoomstart",s)),this._rotating&&!v.rotating&&this.fire(new o.k("rotatestart",s)),this._pitching&&!v.pitching&&this.fire(new o.k("pitchstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);let d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&d!==this._elevationTarget){let v=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(v-(d-(v*s+this._elevationStart))/(1-s)),this._elevationTarget=d}this.transform.elevation=o.y.number(this._elevationStart,this._elevationTarget,s)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){let d=s.getCameraPosition(),v=this.terrain.getElevationForLngLatZoom(d.lngLat,s.zoom);if(d.altitude<v){let y=this.calculateCameraOptionsFromTo(d.lngLat,v,s.center,s.elevation);return{pitch:y.pitch,zoom:y.zoom}}return{}}_applyUpdatedTransform(s){let d=[];if(this.terrain&&d.push(y=>this._elevateCameraIfInsideTerrain(y)),this.transformCameraUpdate&&d.push(y=>this.transformCameraUpdate(y)),!d.length)return;let v=s.clone();for(let y of d){let x=v.clone(),{center:A,zoom:D,pitch:R,bearing:F,elevation:V}=y(x);A&&(x.center=A),D!==void 0&&(x.zoom=D),R!==void 0&&(x.pitch=R),F!==void 0&&(x.bearing=F),V!==void 0&&(x.elevation=V),v.apply(x)}this.transform.apply(v)}_fireMoveEvents(s){this.fire(new o.k("move",s)),this._zooming&&this.fire(new o.k("zoom",s)),this._rotating&&this.fire(new o.k("rotate",s)),this._pitching&&this.fire(new o.k("pitch",s))}_afterEase(s,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;let v=this._zooming,y=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new o.k("zoomend",s)),y&&this.fire(new o.k("rotateend",s)),x&&this.fire(new o.k("pitchend",s)),this.fire(new o.k("moveend",s))}flyTo(s,d){var v;if(!s.essential&&m.prefersReducedMotion){let qt=o.M(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(qt,d)}this.stop(),s=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.b9},s);let y=this._getTransformForUpdate(),x=y.zoom,A=y.bearing,D=y.pitch,R=y.padding,F="bearing"in s?this._normalizeBearing(s.bearing,A):A,V="pitch"in s?+s.pitch:D,G="padding"in s?s.padding:y.padding,X=o.P.convert(s.offset),oe=y.centerPoint.add(X),le=y.pointLocation(oe),{center:pe,zoom:ge}=y.getConstrained(o.N.convert(s.center||le),(v=s.zoom)!==null&&v!==void 0?v:x);this._normalizeCenter(pe,y);let ye=y.zoomScale(ge-x),xe=y.project(le),ce=y.project(pe).sub(xe),Oe=s.curve,ke=Math.max(y.width,y.height),Ve=ke/ye,at=ce.mag();if("minZoom"in s){let qt=o.ac(Math.min(s.minZoom,x,ge),y.minZoom,y.maxZoom),wr=ke/y.zoomScale(qt-x);Oe=Math.sqrt(wr/at*2)}let ht=Oe*Oe;function Pt(qt){let wr=(Ve*Ve-ke*ke+(qt?-1:1)*ht*ht*at*at)/(2*(qt?Ve:ke)*ht*at);return Math.log(Math.sqrt(wr*wr+1)-wr)}function Bt(qt){return(Math.exp(qt)-Math.exp(-qt))/2}function It(qt){return(Math.exp(qt)+Math.exp(-qt))/2}let St=Pt(!1),Qt=function(qt){return It(St)/It(St+Oe*qt)},Er=function(qt){return ke*((It(St)*(Bt(wr=St+Oe*qt)/It(wr))-Bt(St))/ht)/at;var wr},At=(Pt(!0)-St)/Oe;if(Math.abs(at)<1e-6||!isFinite(At)){if(Math.abs(ke-Ve)<1e-6)return this.easeTo(s,d);let qt=Ve<ke?-1:1;At=Math.abs(Math.log(Ve/ke))/Oe,Er=()=>0,Qt=wr=>Math.exp(qt*Oe*wr)}return s.duration="duration"in s?+s.duration:1e3*At/("screenSpeed"in s?+s.screenSpeed/Oe:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=A!==F,this._pitching=V!==D,this._padding=!y.isPaddingEqual(G),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(pe),this._ease(qt=>{let wr=qt*At,hi=1/Qt(wr);y.zoom=qt===1?ge:x+y.scaleZoom(hi),this._rotating&&(y.bearing=o.y.number(A,F,qt)),this._pitching&&(y.pitch=o.y.number(D,V,qt)),this._padding&&(y.interpolatePadding(R,G,qt),oe=y.centerPoint.add(X)),this.terrain&&!s.freezeElevation&&this._updateElevation(qt);let jr=qt===1?pe:y.unproject(xe.add(ce.mult(Er(wr))).mult(hi));y.setLocationAtPoint(y.renderWorldCopies?jr.wrap():jr,oe),this._applyUpdatedTransform(y),this._fireMoveEvents(d)},()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,d){var v;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,d)}return s||(v=this.handlers)===null||v===void 0||v.stop(!1),this}_ease(s,d,v){v.animate===!1||v.duration===0?(s(1),d()):(this._easeStart=m.now(),this._easeOptions=v,this._onEaseFrame=s,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,d){s=o.b3(s,-180,180);let v=Math.abs(s-d);return Math.abs(s-360-d)<v&&(s-=360),Math.abs(s+360-d)<v&&(s+=360),s}_normalizeCenter(s,d){if(!d.renderWorldCopies||d.lngRange)return;let v=s.lng-d.center.lng;s.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(o.N.convert(s),this.transform.tileZoom)-this.transform.elevation:null}}let dh={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class hh{constructor(s=dh){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=g.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=g.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,d){let v=this._map._getUIString(`AttributionControl.${d}`);s.title=v,s.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){let y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}let d=this._map.style.sourceCaches;for(let y in d){let x=d[y];if(x.used||x.usedForTerrain){let A=x.getSource();A.attribution&&s.indexOf(A.attribution)<0&&s.push(A.attribution)}}s=s.filter(y=>String(y).trim()),s.sort((y,x)=>y.length-x.length),s=s.filter((y,x)=>{for(let A=x+1;A<s.length;A++)if(s[A].indexOf(y)>=0)return!1;return!0});let v=s.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,s.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class uw{constructor(s={}){this._updateCompact=()=>{let d=this._container.children;if(d.length){let v=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=g.create("div","maplibregl-ctrl");let d=g.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){g.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ln{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){let d=++this._id;return this._queue.push({callback:s,id:d,cancelled:!1}),d}remove(s){let d=this._currentlyRunning,v=d?this._queue.concat(d):this._queue;for(let y of v)if(y.id===s)return void(y.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let d=this._currentlyRunning=this._queue;this._queue=[];for(let v of d)if(!v.cancelled&&(v.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var cw=o.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Sj extends o.E{constructor(s){super(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,s.usedForTerrain=!0,s.tileSize=this.tileSize*Wg(2,this.deltaZoom)}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,d){this.sourceCache.update(s,d),this._renderableTilesKeys=[];let v={};for(let y of s.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))v[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.posMatrix=new Float64Array(16),o.aP(y.posMatrix,0,o.X,0,o.X,0,1),this._tiles[y.key]=new gu(y,this.tileSize));for(let y in this._tiles)v[y]||delete this._tiles[y]}freeRtt(s){for(let d in this._tiles){let v=this._tiles[d];(!s||v.tileID.equals(s)||v.tileID.isChildOf(s)||s.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s){let d={};for(let v of this._renderableTilesKeys){let y=this._tiles[v].tileID;if(y.canonical.equals(s.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16),o.aP(x.posMatrix,0,o.X,0,o.X,0,1),d[v]=x}else if(y.canonical.isChildOf(s.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16);let A=y.canonical.z-s.canonical.z,D=y.canonical.x-(y.canonical.x>>A<<A),R=y.canonical.y-(y.canonical.y>>A<<A),F=o.X>>A;o.aP(x.posMatrix,0,F,0,F,0,1),o.J(x.posMatrix,x.posMatrix,[-D*F,-R*F,0]),d[v]=x}else if(s.canonical.isChildOf(y.canonical)){let x=s.clone();x.posMatrix=new Float64Array(16);let A=s.canonical.z-y.canonical.z,D=s.canonical.x-(s.canonical.x>>A<<A),R=s.canonical.y-(s.canonical.y>>A<<A),F=o.X>>A;o.aP(x.posMatrix,0,o.X,0,o.X,0,1),o.J(x.posMatrix,x.posMatrix,[D*F,R*F,0]),o.K(x.posMatrix,x.posMatrix,[1/Wg(2,A),1/Wg(2,A),0]),d[v]=x}}return d}getSourceTile(s,d){let v=this.sourceCache._source,y=s.overscaledZ-this.deltaZoom;if(y>v.maxzoom&&(y=v.maxzoom),y<v.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(y).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!x||!x.dem)&&d)for(;y>=v.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(s.scaledTo(y--).key);return x}tilesAfterTime(s=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=s)}}class fw{constructor(s,d,v){this.painter=s,this.sourceCache=new Sj(d),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,d,v,y=o.X){var x;if(!(d>=0&&d<y&&v>=0&&v<y))return 0;let A=this.getTerrainData(s),D=(x=A.tile)===null||x===void 0?void 0:x.dem;if(!D)return 0;let R=function(le,pe,ge){var ye=pe[0],xe=pe[1];return le[0]=ge[0]*ye+ge[4]*xe+ge[12],le[1]=ge[1]*ye+ge[5]*xe+ge[13],le}([],[d/y*o.X,v/y*o.X],A.u_terrain_matrix),F=[R[0]*D.dim,R[1]*D.dim],V=Math.floor(F[0]),G=Math.floor(F[1]),X=F[0]-V,oe=F[1]-G;return D.get(V,G)*(1-X)*(1-oe)+D.get(V+1,G)*X*(1-oe)+D.get(V,G+1)*(1-X)*oe+D.get(V+1,G+1)*X*oe}getElevationForLngLatZoom(s,d){if(!o.bb(d,s.wrap()))return 0;let{tileID:v,mercatorX:y,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(s,d);return this.getElevation(v,y%o.X,x%o.X,o.X)}getElevation(s,d,v,y=o.X){return this.getDEMElevation(s,d,v,y)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){let y=this.painter.context,x=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ue(y,x,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ue(y,new o.R({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.an([])}let d=this.sourceCache.getSourceTile(s,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){let y=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new ue(y,d.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),d.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}let v=d&&d+d.tileID.key+s.key;if(v&&!this._demMatrixCache[v]){let y=this.sourceCache.sourceCache._source.maxzoom,x=s.canonical.z-d.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=y?x=s.canonical.z-y:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let A=s.canonical.x-(s.canonical.x>>x<<x),D=s.canonical.y-(s.canonical.y>>x<<x),R=o.bc(new Float64Array(16),[1/(o.X<<x),1/(o.X<<x),0]);o.J(R,R,[A*o.X,D*o.X,0]),this._demMatrixCache[s.key]={matrix:R,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(s){let d=this.painter,v=d.width/devicePixelRatio,y=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ue(d.context,{width:v,height:y,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ue(d.context,{width:v,height:y,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(v,y,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,v,y))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,A=0;x<this._coordsTextureSize;x++)for(let D=0;D<this._coordsTextureSize;D++,A+=4)d[A+0]=255&D,d[A+1]=255&x,d[A+2]=D>>8<<4|x>>8,d[A+3]=0;let v=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),y=new ue(s,v,s.gl.RGBA,{premultiply:!1});return y.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);let d=new Uint8Array(4),v=this.painter.context,y=v.gl,x=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),A=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),D=Math.round(this.painter.height/devicePixelRatio);v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(x,D-A-1,1,1,y.RGBA,y.UNSIGNED_BYTE,d),v.bindFramebuffer.set(null);let R=d[0]+(d[2]>>4<<8),F=d[1]+((15&d[2])<<8),V=this.coordsIndex[255-d[3]],G=V&&this.sourceCache.getTileByID(V);if(!G)return null;let X=this._coordsTextureSize,oe=(1<<G.tileID.canonical.z)*X;return new o.Z((G.tileID.canonical.x*X+R)/oe+G.tileID.wrap,(G.tileID.canonical.y*X+F)/oe,this.getElevation(G.tileID,R,F,X))}depthAtPoint(s){let d=new Uint8Array(4),v=this.painter.context,y=v.gl;return v.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),y.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,d),v.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;let s=this.painter.context,d=new o.bd,v=new o.aY,y=this.meshSize,x=o.X/y,A=y*y;for(let G=0;G<=y;G++)for(let X=0;X<=y;X++)d.emplaceBack(X*x,G*x,0);for(let G=0;G<A;G+=y+1)for(let X=0;X<y;X++)v.emplaceBack(X+G,y+X+G+1,y+X+G+2),v.emplaceBack(X+G,y+X+G+2,X+G+1);let D=d.length,R=D+2*(y+1);for(let G of[0,1])for(let X=0;X<=y;X++)for(let oe of[0,1])d.emplaceBack(X*x,G*o.X,oe);for(let G=0;G<2*y;G+=2)v.emplaceBack(R+G,R+G+1,R+G+3),v.emplaceBack(R+G,R+G+3,R+G+2),v.emplaceBack(D+G,D+G+3,D+G+1),v.emplaceBack(D+G,D+G+2,D+G+3);let F=d.length,V=F+2*(y+1);for(let G of[0,1])for(let X=0;X<=y;X++)for(let oe of[0,1])d.emplaceBack(G*o.X,X*x,oe);for(let G=0;G<2*y;G+=2)v.emplaceBack(F+G,F+G+1,F+G+3),v.emplaceBack(F+G,F+G+3,F+G+2),v.emplaceBack(V+G,V+G+3,V+G+1),v.emplaceBack(V+G,V+G+2,V+G+3);return this._mesh=new f0(s.createVertexBuffer(d,cw.members),s.createIndexBuffer(v),o.a0.simpleSegment(0,0,d.length,v.length)),this._mesh}getMeshFrameDelta(s){return 2*Math.PI*o.be/Math.pow(2,s)/5}getMinTileElevationForLngLatZoom(s,d){var v;let{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(s,d);return(v=this.getMinMaxElevation(y).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(s){let d=this.getTerrainData(s).tile,v={minElevation:null,maxElevation:null};return d&&d.dem&&(v.minElevation=d.dem.min*this.exaggeration,v.maxElevation=d.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(s,d){let v=o.Z.fromLngLat(s.wrap()),y=(1<<d)*o.X,x=v.x*y,A=v.y*y,D=Math.floor(x/o.X),R=Math.floor(A/o.X);return{tileID:new o.S(d,0,d,D,R),mercatorX:x,mercatorY:A}}}class Ej{constructor(s,d,v){this._context=s,this._size=d,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){let d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new ue(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(v.texture),{id:s,fbo:d,texture:v,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>s.id!==d),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(let d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(let s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(s=>!s.inUse)===!1}}let mh={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class uM{constructor(s,d){this.painter=s,this.terrain=d,this.pool=new Ej(s.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(v=>!s._layers[v].isHidden(d)),this._coordsDescendingInv={};for(let v in s.sourceCaches){this._coordsDescendingInv[v]={};let y=s.sourceCaches[v].getVisibleCoordinates();for(let x of y){let A=this.terrain.sourceCache.getTerrainCoords(x);for(let D in A)this._coordsDescendingInv[v][D]||(this._coordsDescendingInv[v][D]=[]),this._coordsDescendingInv[v][D].push(A[D])}}this._coordsDescendingInvStr={};for(let v of s._order){let y=s._layers[v],x=y.source;if(mh[y.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(let A in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][A]=this._coordsDescendingInv[x][A].map(D=>D.key).sort().join()}}for(let v of this._renderableTiles)for(let y in this._coordsDescendingInvStr){let x=this._coordsDescendingInvStr[y][v.tileID.key];x&&x!==v.rttCoords[y]&&(v.rtt=[])}}renderLayer(s){if(s.isHidden(this.painter.transform.zoom))return!1;let d=s.type,v=this.painter,y=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(mh[d]&&(this._prevType&&mh[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(s.id),!y))return!0;if(mh[this._prevType]||mh[d]&&y){this._prevType=d;let x=this._stacks.length-1,A=this._stacks[x]||[];for(let D of this._renderableTiles){if(this.pool.isFull()&&(tM(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(D),D.rtt[x]){let F=this.pool.getObjectForId(D.rtt[x].id);if(F.stamp===D.rtt[x].stamp){this.pool.useObject(F);continue}}let R=this.pool.getOrCreateFreeObject();this.pool.useObject(R),this.pool.stampObject(R),D.rtt[x]={id:R.id,stamp:R.stamp},v.context.bindFramebuffer.set(R.fbo.framebuffer),v.context.clear({color:o.aM.transparent,stencil:0}),v.currentStencilSource=void 0;for(let F=0;F<A.length;F++){let V=v.style._layers[A[F]],G=V.source?this._coordsDescendingInv[V.source][D.tileID.key]:[D.tileID];v.context.viewport.set([0,0,R.fbo.width,R.fbo.height]),v._renderTileClippingMasks(V,G),v.renderLayer(v,v.style.sourceCaches[V.source],V,G),V.source&&(D.rttCoords[V.source]=this._coordsDescendingInvStr[V.source][D.tileID.key])}}return tM(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),mh[d]}return!1}}let pw={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},cM=a,Ij={hash:!1,interactive:!0,bearingSnap:7,attributionControl:dh,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},dw=b=>{b.touchstart=b.dragStart,b.touchmoveWindow=b.dragMove,b.touchend=b.dragEnd},Tj={showCompass:!0,showZoom:!0,visualizePitch:!1};class Cj{constructor(s,d,v=!1){this.mousedown=A=>{this.startMouse(o.e({},A,{ctrlKey:!0,preventDefault:()=>A.preventDefault()}),g.mousePos(this.element,A)),g.addEventListener(window,"mousemove",this.mousemove),g.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=A=>{this.moveMouse(A,g.mousePos(this.element,A))},this.mouseup=A=>{this.mouseRotate.dragEnd(A),this.mousePitch&&this.mousePitch.dragEnd(A),this.offTemp()},this.touchstart=A=>{A.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,A.targetTouches)[0],this.startTouch(A,this._startPos),g.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.addEventListener(window,"touchend",this.touchend))},this.touchmove=A=>{A.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,A.targetTouches)[0],this.moveTouch(A,this._lastPos))},this.touchend=A=>{A.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;let y=s.dragRotate._mouseRotate.getClickTolerance(),x=s.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=ew({clickTolerance:y,enable:!0}),this.touchRotate=(({enable:A,clickTolerance:D,bearingDegreesPerPixelMoved:R=.8})=>{let F=new Jb;return new Sc({clickTolerance:D,move:(V,G)=>({bearingDelta:(G.x-V.x)*R}),moveStateManager:F,enable:A,assignEvents:dw})})({clickTolerance:y,enable:!0}),this.map=s,v&&(this.mousePitch=tw({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:A,clickTolerance:D,pitchDegreesPerPixelMoved:R=-.5})=>{let F=new Jb;return new Sc({clickTolerance:D,move:(V,G)=>({pitchDelta:(G.y-V.y)*R}),moveStateManager:F,enable:A,assignEvents:dw})})({clickTolerance:x,enable:!0})),g.addEventListener(d,"mousedown",this.mousedown),g.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(d,"touchcancel",this.reset)}startMouse(s,d){this.mouseRotate.dragStart(s,d),this.mousePitch&&this.mousePitch.dragStart(s,d),g.disableDrag()}startTouch(s,d){this.touchRotate.dragStart(s,d),this.touchPitch&&this.touchPitch.dragStart(s,d),g.disableDrag()}moveMouse(s,d){let v=this.map,{bearingDelta:y}=this.mouseRotate.dragMove(s,d)||{};if(y&&v.setBearing(v.getBearing()+y),this.mousePitch){let{pitchDelta:x}=this.mousePitch.dragMove(s,d)||{};x&&v.setPitch(v.getPitch()+x)}}moveTouch(s,d){let v=this.map,{bearingDelta:y}=this.touchRotate.dragMove(s,d)||{};if(y&&v.setBearing(v.getBearing()+y),this.touchPitch){let{pitchDelta:x}=this.touchPitch.dragMove(s,d)||{};x&&v.setPitch(v.getPitch()+x)}}off(){let s=this.element;g.removeEventListener(s,"mousedown",this.mousedown),g.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.removeEventListener(window,"touchend",this.touchend),g.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){g.enableDrag(),g.removeEventListener(window,"mousemove",this.mousemove),g.removeEventListener(window,"mouseup",this.mouseup),g.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.removeEventListener(window,"touchend",this.touchend)}}let Es;function di(b,s,d){let v=new o.N(b.lng,b.lat);if(b=new o.N(b.lng,b.lat),s){let y=new o.N(b.lng-360,b.lat),x=new o.N(b.lng+360,b.lat),A=d.locationPoint(b).distSqr(s);d.locationPoint(y).distSqr(s)<A?b=y:d.locationPoint(x).distSqr(s)<A&&(b=x)}for(;Math.abs(b.lng-d.center.lng)>180;){let y=d.locationPoint(b);if(y.x>=0&&y.y>=0&&y.x<=d.width&&y.y<=d.height)break;b.lng>d.center.lng?b.lng-=360:b.lng+=360}return b.lng!==v.lng&&d.locationPoint(b).y>d.height/2-d.getHorizon()?b:v}let gh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function w0(b,s,d){let v=b.classList;for(let y in gh)v.remove(`maplibregl-${d}-anchor-${y}`);v.add(`maplibregl-${d}-anchor-${s}`)}class S0 extends o.E{constructor(s){if(super(),this._onKeyPress=d=>{let v=d.code,y=d.charCode||d.keyCode;v!=="Space"&&v!=="Enter"&&y!==32&&y!==13||this.togglePopup()},this._onMapClick=d=>{let v=d.originalEvent.target,y=this._element;this._popup&&(v===y||y.contains(v))&&this.togglePopup()},this._update=d=>{var v;if(!this._map)return;let y=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!y)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?di(this._lngLat,this._flatPos,this._map.transform):(v=this._lngLat)===null||v===void 0?void 0:v.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let A="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?A="rotateX(0deg)":this._pitchAlignment==="map"&&(A=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,`${gh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${A} ${x}`),m.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){let v=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(s==null?void 0:s.opacity,s==null?void 0:s.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=o.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div");let d=g.createNS("http://www.w3.org/2000/svg","svg"),v=41,y=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${v}px`),d.setAttributeNS(null,"width",`${y}px`),d.setAttributeNS(null,"viewBox",`0 0 ${y} ${v}`);let x=g.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");let A=g.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill-rule","nonzero");let D=g.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"transform","translate(3.0, 29.0)"),D.setAttributeNS(null,"fill","#000000");let R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let ye of R){let xe=g.createNS("http://www.w3.org/2000/svg","ellipse");xe.setAttributeNS(null,"opacity","0.04"),xe.setAttributeNS(null,"cx","10.5"),xe.setAttributeNS(null,"cy","5.80029008"),xe.setAttributeNS(null,"rx",ye.rx),xe.setAttributeNS(null,"ry",ye.ry),D.appendChild(xe)}let F=g.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill",this._color);let V=g.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),F.appendChild(V);let G=g.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"opacity","0.25"),G.setAttributeNS(null,"fill","#000000");let X=g.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),G.appendChild(X);let oe=g.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),oe.setAttributeNS(null,"fill","#FFFFFF");let le=g.createNS("http://www.w3.org/2000/svg","g");le.setAttributeNS(null,"transform","translate(8.0, 8.0)");let pe=g.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");let ge=g.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#FFFFFF"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962"),le.appendChild(pe),le.appendChild(ge),A.appendChild(D),A.appendChild(F),A.appendChild(G),A.appendChild(oe),A.appendChild(le),d.appendChild(A),d.setAttributeNS(null,"height",v*this._scale+"px"),d.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),w0(this._element,this._anchor,"marker"),s&&s.className)for(let d of s.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=o.N.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){let y=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){let s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var d,v;if(!(!((d=this._map)===null||d===void 0)&&d.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let y=this._map,x=y.terrain.depthAtPoint(this._pos),A=y.terrain.getElevationForLngLatZoom(this._lngLat,y.transform.tileZoom);if(y.transform.lngLatToCameraDepth(this._lngLat,A)-x<.006)return void(this._element.style.opacity=this._opacity);let D=-this._offset.y/y.transform._pixelPerMeter,R=Math.sin(y.getPitch()*Math.PI/180)*D,F=y.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),V=y.transform.lngLatToCameraDepth(this._lngLat,A+R)-F>.006;!((v=this._popup)===null||v===void 0)&&v.isOpen()&&V&&this._popup.remove(),this._element.style.opacity=V?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=o.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,d){return s===void 0&&d===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}let fM={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Rg=0,kg=!1,_u={maxWidth:100,unit:"metric"};function qg(b,s,d){let v=d&&d.maxWidth||100,y=b._container.clientHeight/2,x=b.unproject([0,y]),A=b.unproject([v,y]),D=x.distanceTo(A);if(d&&d.unit==="imperial"){let R=3.2808*D;R>5280?Xt(s,v,R/5280,b._getUIString("ScaleControl.Miles")):Xt(s,v,R,b._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Xt(s,v,D/1852,b._getUIString("ScaleControl.NauticalMiles")):D>=1e3?Xt(s,v,D/1e3,b._getUIString("ScaleControl.Kilometers")):Xt(s,v,D,b._getUIString("ScaleControl.Meters"))}function Xt(b,s,d,v){let y=function(x){let A=Math.pow(10,`${Math.floor(x)}`.length-1),D=x/A;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(R){let F=Math.pow(10,Math.ceil(-Math.log(R)/Math.LN10));return Math.round(R*F)/F}(D),A*D}(d);b.style.width=s*(y/d)+"px",b.innerHTML=`${y}&nbsp;${v}`}let mr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},E0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function I0(b){if(b){if(typeof b=="number"){let s=Math.round(Math.abs(b)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,b),"top-left":new o.P(s,s),"top-right":new o.P(-s,s),bottom:new o.P(0,-b),"bottom-left":new o.P(s,-s),"bottom-right":new o.P(-s,-s),left:new o.P(b,0),right:new o.P(-b,0)}}if(b instanceof o.P||Array.isArray(b)){let s=o.P.convert(b);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:o.P.convert(b.center||[0,0]),top:o.P.convert(b.top||[0,0]),"top-left":o.P.convert(b["top-left"]||[0,0]),"top-right":o.P.convert(b["top-right"]||[0,0]),bottom:o.P.convert(b.bottom||[0,0]),"bottom-left":o.P.convert(b["bottom-left"]||[0,0]),"bottom-right":o.P.convert(b["bottom-right"]||[0,0]),left:o.P.convert(b.left||[0,0]),right:o.P.convert(b.right||[0,0])}}return I0(new o.P(0,0))}let hw=a;i.AJAXError=o.bh,i.Evented=o.E,i.LngLat=o.N,i.MercatorCoordinate=o.Z,i.Point=o.P,i.addProtocol=o.bi,i.config=o.a,i.removeProtocol=o.bj,i.AttributionControl=hh,i.BoxZoomHandler=Ss,i.CanvasSource=$r,i.CooperativeGesturesHandler=ph,i.DoubleClickZoomHandler=Op,i.DragPanHandler=aM,i.DragRotateHandler=sM,i.EdgeInsets=lh,i.FullscreenControl=class extends o.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var s;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=d==null?void 0:d.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){g.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let b=this._fullscreenButton=g.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);g.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=ur,i.GeolocateControl=class extends o.E{constructor(b){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",s)),this._finish()}},this._updateCamera=s=>{let d=new o.N(s.coords.longitude,s.coords.latitude),v=s.coords.accuracy,y=this._map.getBearing(),x=o.e({bearing:y},this.options.fitBoundsOptions),A=Te.fromLngLat(d,v);this._map.fitBounds(A,x,{geolocateSource:!0})},this._updateMarker=s=>{if(s){let d=new o.N(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(this.options.trackUserLocation)if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&kg)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",s=>s.preventDefault()),this._geolocateButton=g.create("button","maplibregl-ctrl-geolocate",this._container),g.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{let d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new S0({element:this._dotElement}),this._circleElement=g.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new S0({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")),this.fire(new o.k("userlocationlostfocus")))})}},this.options=o.e({},fM,b)}onAdd(b){return this._map=b,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(s=!1){if(Es!==void 0&&!s)return Es;if(window.navigator.permissions===void 0)return Es=!!window.navigator.geolocation,Es;try{Es=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(d){Es=!!window.navigator.geolocation}return Es})}().then(s=>this._finishSetupUI(s)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Rg=0,kg=!1}_isOutOfMapMaxBounds(b){let s=this._map.getMaxBounds(),d=b.coords;return s&&(d.longitude<s.getWest()||d.longitude>s.getEast()||d.latitude<s.getSouth()||d.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}}_updateCircleRadius(){let b=this._map.getBounds(),s=b.getSouthEast(),d=b.getNorthEast(),v=s.distanceTo(d),y=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${y}px`,this._circleElement.style.height=`${y}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Rg--,kg=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart")),this.fire(new o.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Rg++,Rg>1?(b={maximumAge:6e5,timeout:0},kg=!0):(b=this.options.positionOptions,kg=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.Hash=d0,i.ImageSource=pr,i.KeyboardHandler=Xs,i.LngLatBounds=Te,i.LogoControl=uw,i.Map=class extends lM{constructor(b){o.bf.mark(o.bg.create);let s=Object.assign(Object.assign({},Ij),b);if(s.minZoom!=null&&s.maxZoom!=null&&s.minZoom>s.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(s.minPitch!=null&&s.maxPitch!=null&&s.minPitch>s.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(s.minPitch!=null&&s.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(s.maxPitch!=null&&s.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new uh(s.minZoom,s.maxZoom,s.minPitch,s.maxPitch,s.renderWorldCopies),{bearingSnap:s.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new ln,this._controls=[],this._mapId=o.a4(),this._contextLost=d=>{d.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.k("webglcontextlost",{originalEvent:d}))},this._contextRestored=d=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:d}))},this._onMapScroll=d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=s.interactive,this._maxTileCacheSize=s.maxTileCacheSize,this._maxTileCacheZoomLevels=s.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=s.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=s.preserveDrawingBuffer===!0,this._antialias=s.antialias===!0,this._trackResize=s.trackResize===!0,this._bearingSnap=s.bearingSnap,this._refreshExpiredTiles=s.refreshExpiredTiles===!0,this._fadeDuration=s.fadeDuration,this._crossSourceCollisions=s.crossSourceCollisions===!0,this._collectResourceTiming=s.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},pw),s.locale),this._clickTolerance=s.clickTolerance,this._overridePixelRatio=s.pixelRatio,this._maxCanvasSize=s.maxCanvasSize,this.transformCameraUpdate=s.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=s.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=q.addThrottleControl(()=>this.isMoving()),this._requestManager=new j(s.transformRequest),typeof s.container=="string"){if(this._container=document.getElementById(s.container),!this._container)throw new Error(`Container '${s.container}' not found.`)}else{if(!(s.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=s.container}if(s.maxBounds&&this.setMaxBounds(s.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let d=!1,v=Og(y=>{this._trackResize&&!this._removed&&(this.resize(y),this.redraw())},50);this._resizeObserver=new ResizeObserver(y=>{d?v(y):d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new lw(this,s),this._hash=s.hash&&new d0(typeof s.hash=="string"&&s.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}),s.bounds&&(this.resize(),this.fitBounds(s.bounds,o.e({},s.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=s.localIdeographFontFamily,this._validateStyle=s.validateStyle,s.style&&this.setStyle(s.style,{localIdeographFontFamily:s.localIdeographFontFamily}),s.attributionControl&&this.addControl(new hh(typeof s.attributionControl=="boolean"?void 0:s.attributionControl)),s.maplibreLogo&&this.addControl(new uw,s.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new o.k(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new o.k(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new o.k("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(b,s){if(s===void 0&&(s=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let d=b.onAdd(this);this._controls.push(b);let v=this._controlPositions[s];return s.indexOf("bottom")!==-1?v.insertBefore(d,v.firstChild):v.appendChild(d),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let s=this._controls.indexOf(b);return s>-1&&this._controls.splice(s,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}calculateCameraOptionsFromTo(b,s,d,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(b,s,d,v)}resize(b){var s;let d=this._containerDimensions(),v=d[0],y=d[1],x=this._getClampedPixelRatio(v,y);if(this._resizeCanvas(v,y,x),this.painter.resize(v,y,x),this.painter.overLimit()){let D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];let R=this._getClampedPixelRatio(v,y);this._resizeCanvas(v,y,R),this.painter.resize(v,y,R)}this.transform.resize(v,y),(s=this._requestedCameraState)===null||s===void 0||s.resize(v,y);let A=!this._moving;return A&&(this.stop(),this.fire(new o.k("movestart",b)).fire(new o.k("move",b))),this.fire(new o.k("resize",b)),A&&this.fire(new o.k("moveend",b)),this}_getClampedPixelRatio(b,s){let{0:d,1:v}=this._maxCanvasSize,y=this.getPixelRatio(),x=b*y,A=s*y;return Math.min(x>d?d/x:1,A>v?v/A:1)*y}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(Te.convert(b)),this._update()}setMinZoom(b){if((b=b==null?-2:b)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b==null?22:b)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b==null?0:b)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b==null?60:b)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this._update()}project(b){return this.transform.locationPoint(o.N.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.pointLocation(o.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,s,d){if(b==="mouseenter"||b==="mouseover"){let v=!1;return{layers:s,listener:d,delegates:{mousemove:x=>{let A=s.filter(R=>this.getLayer(R)),D=A.length!==0?this.queryRenderedFeatures(x.point,{layers:A}):[];D.length?v||(v=!0,d.call(this,new Wo(b,this,x.originalEvent,{features:D}))):v=!1},mouseout:()=>{v=!1}}}}if(b==="mouseleave"||b==="mouseout"){let v=!1;return{layers:s,listener:d,delegates:{mousemove:A=>{let D=s.filter(R=>this.getLayer(R));(D.length!==0?this.queryRenderedFeatures(A.point,{layers:D}):[]).length?v=!0:v&&(v=!1,d.call(this,new Wo(b,this,A.originalEvent)))},mouseout:A=>{v&&(v=!1,d.call(this,new Wo(b,this,A.originalEvent)))}}}}{let v=y=>{let x=s.filter(D=>this.getLayer(D)),A=x.length!==0?this.queryRenderedFeatures(y.point,{layers:x}):[];A.length&&(y.features=A,d.call(this,y),delete y.features)};return{layers:s,listener:d,delegates:{[b]:v}}}}_saveDelegatedListener(b,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(s)}_removeDelegatedListener(b,s,d){if(!this._delegatedListeners||!this._delegatedListeners[b])return;let v=this._delegatedListeners[b];for(let y=0;y<v.length;y++){let x=v[y];if(x.listener===d&&x.layers.length===s.length&&x.layers.every(A=>s.includes(A))){for(let A in x.delegates)this.off(A,x.delegates[A]);return void v.splice(y,1)}}}on(b,s,d){if(d===void 0)return super.on(b,s);let v=this._createDelegatedListener(b,typeof s=="string"?[s]:s,d);this._saveDelegatedListener(b,v);for(let y in v.delegates)this.on(y,v.delegates[y]);return this}once(b,s,d){if(d===void 0)return super.once(b,s);let v=typeof s=="string"?[s]:s,y=this._createDelegatedListener(b,v,d);for(let x in y.delegates){let A=y.delegates[x];y.delegates[x]=(...D)=>{this._removeDelegatedListener(b,v,d),A(...D)}}this._saveDelegatedListener(b,y);for(let x in y.delegates)this.once(x,y.delegates[x]);return this}off(b,s,d){return d===void 0?super.off(b,s):(this._removeDelegatedListener(b,typeof s=="string"?[s]:s,d),this)}queryRenderedFeatures(b,s){if(!this.style)return[];let d,v=b instanceof o.P||Array.isArray(b),y=v?b:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(v?{}:b)||{},y instanceof o.P||typeof y[0]=="number")d=[o.P.convert(y)];else{let x=o.P.convert(y[0]),A=o.P.convert(y[1]);d=[x,new o.P(A.x,x.y),A,new o.P(x.x,A.y),x]}return this.style.queryRenderedFeatures(d,s,this.transform)}querySourceFeatures(b,s){return this.style.querySourceFeatures(b,s)}setStyle(b,s){return(s=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(b,s))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){let s=this._locale[b];if(s==null)throw new Error(`Missing UI string '${b}'`);return s}_updateStyle(b,s){if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(b,s));let d=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new Ky(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,s,d):this.style.loadJSON(b,s,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ky(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,s){if(typeof b=="string"){let d=this._requestManager.transformRequest(b,"Style");o.h(d,new AbortController).then(v=>{this._updateDiff(v.data,s)}).catch(v=>{v&&this.fire(new o.j(v))})}else typeof b=="object"&&this._updateDiff(b,s)}_updateDiff(b,s){try{this.style.setState(b,s)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(b,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(b,s){return this._lazyInitEmptyStyle(),this.style.addSource(b,s),this._update(!0)}isSourceLoaded(b){let s=this.style&&this.style.sourceCaches[b];if(s!==void 0)return s.loaded();this.fire(new o.j(new Error(`There is no source with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){let s=this.style.sourceCaches[b.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&s.reload();for(let d in this.style._layers){let v=this.style._layers[d];v.type==="hillshade"&&v.source===b.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new fw(this.painter,s,b),this.painter.renderToTexture=new uM(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==b.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:b})),this}getTerrain(){var b,s;return(s=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&s!==void 0?s:null}areTilesLoaded(){let b=this.style&&this.style.sourceCaches;for(let s in b){let d=b[s]._tiles;for(let v in d){let y=d[v];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}addImage(b,s,d={}){let{pixelRatio:v=1,sdf:y=!1,stretchX:x,stretchY:A,content:D,textFitWidth:R,textFitHeight:F}=d;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||o.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:G,data:X}=s,oe=s;return this.style.addImage(b,{data:new o.R({width:V,height:G},new Uint8Array(X)),pixelRatio:v,stretchX:x,stretchY:A,content:D,textFitWidth:R,textFitHeight:F,sdf:y,version:0,userImage:oe}),oe.onAdd&&oe.onAdd(this,b),this}}{let{width:V,height:G,data:X}=m.getImageData(s);this.style.addImage(b,{data:new o.R({width:V,height:G},X),pixelRatio:v,stretchX:x,stretchY:A,content:D,textFitWidth:R,textFitHeight:F,sdf:y,version:0})}}updateImage(b,s){let d=this.style.getImage(b);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let v=s instanceof HTMLImageElement||o.b(s)?m.getImageData(s):s,{width:y,height:x,data:A}=v;if(y===void 0||x===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==d.data.width||x!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));let D=!(s instanceof HTMLImageElement||o.b(s));return d.data.replace(A,D),this.style.updateImage(b,d),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return q.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,s){return this._lazyInitEmptyStyle(),this.style.addLayer(b,s),this._update(!0)}moveLayer(b,s){return this.style.moveLayer(b,s),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,s,d){return this.style.setLayerZoomRange(b,s,d),this._update(!0)}setFilter(b,s,d={}){return this.style.setFilter(b,s,d),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,s,d,v={}){return this.style.setPaintProperty(b,s,d,v),this._update(!0)}getPaintProperty(b,s){return this.style.getPaintProperty(b,s)}setLayoutProperty(b,s,d,v={}){return this.style.setLayoutProperty(b,s,d,v),this._update(!0)}getLayoutProperty(b,s){return this.style.getLayoutProperty(b,s)}setGlyphs(b,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,s,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,s,d,v=>{v||this._update(!0)}),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,s,d=>{d||this._update(!0)}),this}setLight(b,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(b){return this._lazyInitEmptyStyle(),this.style.setSky(b),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,s){return this.style.setFeatureState(b,s),this._update()}removeFeatureState(b,s){return this.style.removeFeatureState(b,s),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,s=0;return this._container&&(b=this._container.clientWidth||400,s=this._container.clientHeight||300),[b,s]}_setupContainer(){let b=this._container;b.classList.add("maplibregl-map");let s=this._canvasContainer=g.create("div","maplibregl-canvas-container",b);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=g.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let d=this._containerDimensions(),v=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],v);let y=this._controlContainer=g.create("div","maplibregl-control-container",b),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(A=>{x[A]=g.create("div",`maplibregl-ctrl-${A} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,s,d){this._canvas.width=Math.floor(d*b),this._canvas.height=Math.floor(d*s),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${s}px`}_setupPainter(){let b={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},s=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{s={requestedAttributes:b},v&&(s.statusMessage=v.statusMessage,s.type=v.type)},{once:!0});let d=this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b);if(!d){let v="Failed to initialize WebGL";throw s?(s.message=v,new Error(JSON.stringify(s))):new Error(v)}this.painter=new p0(d,this.transform),S.testSupport(d)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){let s=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let y=this.transform.zoom,x=m.now();this.style.zoomHistory.update(y,x);let A=new o.z(y,{now:x,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),D=A.crossFadingFactor();D===1&&D===this._crossFadingFactor||(d=!0,this._crossFadingFactor=D),this.style.update(A)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bf.mark(o.bg.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,o.bf.mark(o.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(let d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),q.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();let s=this.painter.context.gl.getExtension("WEBGL_lose_context");s!=null&&s.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),g.remove(this._canvasContainer),g.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),o.bf.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,m.frameAsync(this._frameRequest).then(b=>{o.bf.frame(b),this._frameRequest=null,this._render(b)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return cM}getCameraTargetElevation(){return this.transform.elevation}},i.MapMouseEvent=Wo,i.MapTouchEvent=Mp,i.MapWheelEvent=nM,i.Marker=S0,i.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{let s=this._map.getZoom(),d=s===this._map.getMaxZoom(),v=s===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{let s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=s},this._setButtonTitle=(s,d)=>{let v=this._map._getUIString(`NavigationControl.${d}`);s.title=v,s.setAttribute("aria-label",v)},this.options=o.e({},Tj,b),this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),g.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),g.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=g.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Cj(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,s){let d=g.create("button",b,this._container);return d.type="button",d.addEventListener("click",s),d}},i.Popup=class extends o.E{constructor(b){super(),this.remove=()=>(this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.k("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{var d;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=g.create("div","maplibregl-popup",this._map.getContainer()),this._tip=g.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let D of this.options.className.split(" "))this._container.classList.add(D);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?di(this._lngLat,this._flatPos,this._map.transform):(d=this._lngLat)===null||d===void 0?void 0:d.wrap(),this._trackPointer&&!s)return;let v=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationPoint(this._lngLat));let y=this.options.anchor,x=I0(this.options.offset);if(!y){let D=this._container.offsetWidth,R=this._container.offsetHeight,F;F=v.y+x.bottom.y<R?["top"]:v.y>this._map.transform.height-R?["bottom"]:[],v.x<D/2?F.push("left"):v.x>this._map.transform.width-D/2&&F.push("right"),y=F.length===0?"bottom":F.join("-")}let A=v.add(x[y]);this.options.subpixelPositioning||(A=A.round()),g.setTransform(this._container,`${gh[y]} translate(${A.x}px,${A.y}px)`),w0(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(mr),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=o.N.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){let s=document.createDocumentFragment(),d=document.createElement("body"),v;for(d.innerHTML=b;v=d.firstChild,v;)s.appendChild(v);return this.setDOMContent(s)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=g.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let b=this._container.querySelector(E0);b&&b.focus()}},i.RasterDEMTileSource=Zt,i.RasterTileSource=dt,i.ScaleControl=class{constructor(b){this._onMove=()=>{qg(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,qg(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},_u),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=Bl,i.Style=Ky,i.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=g.create("button","maplibregl-ctrl-terrain",this._container),g.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){g.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=fh,i.TwoFingersTouchRotateHandler=ow,i.TwoFingersTouchZoomHandler=nw,i.TwoFingersTouchZoomRotateHandler=sw,i.VectorTileSource=Vt,i.VideoSource=Wr,i.addSourceType=(b,s)=>o._(void 0,void 0,void 0,function*(){if(pn(b))throw new Error(`A source type called "${b}" already exists.`);((d,v)=>{cr[d]=v})(b,s)}),i.clearPrewarmedResources=function(){let b=Le;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(Ge),Le=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Zs().getRTLTextPluginStatus()},i.getVersion=function(){return hw},i.getWorkerCount=function(){return Ke.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(b){return tt().broadcast("IS",b)},i.prewarm=function(){Be().acquire(Ge)},i.setMaxParallelImageRequests=function(b){o.a.MAX_PARALLEL_IMAGE_REQUESTS=b},i.setRTLTextPlugin=function(b,s){return Zs().setRTLTextPlugin(b,s)},i.setWorkerCount=function(b){Ke.workerCount=b},i.setWorkerUrl=function(b){o.a.WORKER_URL=b}});var n=e;return n})});var $Re=T((DUr,WRe)=>{var $$=1/0,Zrr=17976931348623157e292,jRe=NaN,Yrr="[object Symbol]",Krr=/^\s+|\s+$/g,Xrr=/^[-+]0x[0-9a-f]+$/i,Qrr=/^0b[01]+$/i,Jrr=/^0o[0-7]+$/i,enr=parseInt,tnr=typeof global=="object"&&global&&global.Object===Object&&global,rnr=typeof self=="object"&&self&&self.Object===Object&&self,nnr=tnr||rnr||Function("return this")(),inr=Object.prototype,onr=inr.toString,zRe=nnr.Symbol,anr=Math.min,FRe=zRe?zRe.prototype:void 0,BRe=FRe?FRe.toString:void 0;function snr(e){if(typeof e=="string")return e;if(GRe(e))return BRe?BRe.call(e):"";var t=e+"";return t=="0"&&1/e==-$$?"-0":t}function lnr(e){var t=Math[e];return function(r,n){if(r=HRe(r),n=anr(fnr(n),292),n){var i=(VRe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(VRe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function URe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function unr(e){return!!e&&typeof e=="object"}function GRe(e){return typeof e=="symbol"||unr(e)&&onr.call(e)==Yrr}function cnr(e){if(!e)return e===0?e:0;if(e=HRe(e),e===$$||e===-$$){var t=e<0?-1:1;return t*Zrr}return e===e?e:0}function fnr(e){var t=cnr(e),r=t%1;return t===t?r?t-r:t:0}function HRe(e){if(typeof e=="number")return e;if(GRe(e))return jRe;if(URe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=URe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Krr,"");var r=Qrr.test(e);return r||Jrr.test(e)?enr(e.slice(2),r?2:8):Xrr.test(e)?jRe:+e}function VRe(e){return e==null?"":snr(e)}var pnr=lnr("round");WRe.exports=pnr});var v4e=T((T7r,g4e)=>{"use strict";g4e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var w4e=T((C7r,b4e)=>{"use strict";var x4e="%[a-f0-9]{2}",y4e=new RegExp("("+x4e+")|([^%]+?)","gi"),_4e=new RegExp("("+x4e+")+","gi");function J$(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],J$(r),J$(n))}function gnr(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(y4e)||[],r=1;r<t.length;r++)e=J$(t,r).join(""),t=e.match(y4e)||[];return e}}function vnr(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=_4e.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(c){var n=gnr(r[0]);n!==r[0]&&(t[r[0]]=n)}r=_4e.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}b4e.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return vnr(e)}}});var E4e=T((M7r,S4e)=>{"use strict";S4e.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var T4e=T((A7r,I4e)=>{"use strict";I4e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],c=e[a];(i?t.indexOf(a)!==-1:t(a,c,e))&&(r[a]=c)}return r}});var tZ=T(bl=>{"use strict";var ynr=v4e(),_nr=w4e(),M4e=E4e(),xnr=T4e(),bnr=e=>e==null,eZ=Symbol("encodeFragmentIdentifier");function wnr(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[yo(t,e),"[",i,"]"].join("")]:[...r,[yo(t,e),"[",yo(i,e),"]=",yo(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[yo(t,e),"[]"].join("")]:[...r,[yo(t,e),"[]=",yo(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[yo(t,e),":list="].join("")]:[...r,[yo(t,e),":list=",yo(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[yo(r,e),t,yo(i,e)].join("")]:[[n,yo(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,yo(t,e)]:[...r,[yo(t,e),"=",yo(n,e)].join("")];}}function Snr(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),a=typeof n=="string"&&!o&&hd(n,e).includes(e.arrayFormatSeparator);n=a?hd(n,e):n;let c=o||a?n.split(e.arrayFormatSeparator).map(p=>hd(p,e)):n===null?n:hd(n,e);i[r]=c};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&hd(n,e);return}let a=n===null?[]:n.split(e.arrayFormatSeparator).map(c=>hd(c,e));if(i[r]===void 0){i[r]=a;return}i[r]=[].concat(i[r],a)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)};}}function A4e(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function yo(e,t){return t.encode?t.strict?ynr(e):encodeURIComponent(e):e}function hd(e,t){return t.decode?_nr(e):e}function O4e(e){return Array.isArray(e)?e.sort():typeof e=="object"?O4e(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function D4e(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Enr(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function P4e(e){e=D4e(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function C4e(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function L4e(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),A4e(t.arrayFormatSeparator);let r=Snr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,a]=M4e(t.decode?i.replace(/\+/g," "):i,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:hd(a,t),r(hd(o,t),a,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let a of Object.keys(o))o[a]=C4e(o[a],t);else n[i]=C4e(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let a=n[o];return a&&typeof a=="object"&&!Array.isArray(a)?i[o]=O4e(a):i[o]=a,i},Object.create(null))}bl.extract=P4e;bl.parse=L4e;bl.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),A4e(t.arrayFormatSeparator);let r=a=>t.skipNull&&bnr(e[a])||t.skipEmptyString&&e[a]==="",n=wnr(t),i={};for(let a of Object.keys(e))r(a)||(i[a]=e[a]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(a=>{let c=e[a];return c===void 0?"":c===null?yo(a,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?yo(a,t)+"[]":c.reduce(n(a),[]).join("&"):yo(a,t)+"="+yo(c,t)}).filter(a=>a.length>0).join("&")};bl.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=M4e(e,"#");return Object.assign({url:r.split("?")[0]||"",query:L4e(P4e(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:hd(n,t)}:{})};bl.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[eZ]:!0},t);let r=D4e(e.url).split("?")[0]||"",n=bl.extract(e.url),i=bl.parse(n,{sort:!1}),o=Object.assign(i,e.query),a=bl.stringify(o,t);a&&(a=`?${a}`);let c=Enr(e.url);return e.fragmentIdentifier&&(c=`#${t[eZ]?yo(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${a}${c}`};bl.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[eZ]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=bl.parseUrl(e,r);return bl.stringifyUrl({url:n,query:xnr(i,t),fragmentIdentifier:o},r)};bl.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return bl.pick(e,n,r)}});var rT=T((iVr,O3e)=>{var Iir=O3e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Iir)});var Bf=T((oVr,D3e)=>{var Tir=D3e.exports={version:"2.6.12"};typeof __e=="number"&&(__e=Tir)});var L3e=T((aVr,P3e)=>{P3e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var vZ=T((sVr,N3e)=>{var Cir=L3e();N3e.exports=function(e,t,r){if(Cir(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};}return function(){return e.apply(t,arguments)}}});var nT=T((lVr,R3e)=>{R3e.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var iT=T((uVr,k3e)=>{var Mir=nT();k3e.exports=function(e){if(!Mir(e))throw TypeError(e+" is not an object!");return e}});var oT=T((cVr,q3e)=>{q3e.exports=function(e){try{return!!e()}catch(t){return!0}}});var Nm=T((fVr,j3e)=>{j3e.exports=!oT()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var _Z=T((pVr,F3e)=>{var z3e=nT(),yZ=rT().document,Air=z3e(yZ)&&z3e(yZ.createElement);F3e.exports=function(e){return Air?yZ.createElement(e):{}}});var xZ=T((dVr,B3e)=>{B3e.exports=!Nm()&&!oT()(function(){return Object.defineProperty(_Z()("div"),"a",{get:function(){return 7}}).a!=7})});var bZ=T((hVr,U3e)=>{var VN=nT();U3e.exports=function(e,t){if(!VN(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!VN(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!VN(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!VN(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var wZ=T(G3e=>{var V3e=iT(),Oir=xZ(),Dir=bZ(),Pir=Object.defineProperty;G3e.f=Nm()?Object.defineProperty:function(t,r,n){if(V3e(t),r=Dir(r,!0),V3e(n),Oir)try{return Pir(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var SZ=T((gVr,H3e)=>{H3e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var $3e=T((vVr,W3e)=>{var Lir=wZ(),Nir=SZ();W3e.exports=Nm()?function(e,t,r){return Lir.f(e,t,Nir(1,r))}:function(e,t,r){return e[t]=r,e}});var GN=T((yVr,Z3e)=>{var Rir={}.hasOwnProperty;Z3e.exports=function(e,t){return Rir.call(e,t)}});var ey=T((_Vr,K3e)=>{var HN=rT(),EZ=Bf(),Y3e=vZ(),kir=$3e(),qir=GN(),WN="prototype",os=function(e,t,r){var n=e&os.F,i=e&os.G,o=e&os.S,a=e&os.P,c=e&os.B,p=e&os.W,m=i?EZ:EZ[t]||(EZ[t]={}),g=m[WN],S=i?HN:o?HN[t]:(HN[t]||{})[WN],I,M,P;i&&(r=t);for(I in r)M=!n&&S&&S[I]!==void 0,!(M&&qir(m,I))&&(P=M?S[I]:r[I],m[I]=i&&typeof S[I]!="function"?r[I]:c&&M?Y3e(P,HN):p&&S[I]==P?function(N){var L=function(q,j,B){if(this instanceof N){switch(arguments.length){case 0:return new N;case 1:return new N(q);case 2:return new N(q,j);}return new N(q,j,B)}return N.apply(this,arguments)};return L[WN]=N[WN],L}(P):a&&typeof P=="function"?Y3e(Function.call,P):P,a&&((m.virtual||(m.virtual={}))[I]=P,e&os.R&&g&&!g[I]&&kir(g,I,P)))};os.F=1;os.G=2;os.S=4;os.P=8;os.B=16;os.W=32;os.U=64;os.R=128;K3e.exports=os});var Q3e=T((xVr,X3e)=>{var jir={}.toString;X3e.exports=function(e){return jir.call(e).slice(8,-1)}});var IZ=T((bVr,J3e)=>{var zir=Q3e();J3e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return zir(e)=="String"?e.split(""):Object(e)}});var TZ=T((wVr,eke)=>{eke.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var aT=T((SVr,tke)=>{var Fir=IZ(),Bir=TZ();tke.exports=function(e){return Fir(Bir(e))}});var CZ=T((EVr,rke)=>{var Uir=Math.ceil,Vir=Math.floor;rke.exports=function(e){return isNaN(e=+e)?0:(e>0?Vir:Uir)(e)}});var ike=T((IVr,nke)=>{var Gir=CZ(),Hir=Math.min;nke.exports=function(e){return e>0?Hir(Gir(e),9007199254740991):0}});var ake=T((TVr,oke)=>{var Wir=CZ(),$ir=Math.max,Zir=Math.min;oke.exports=function(e,t){return e=Wir(e),e<0?$ir(e+t,0):Zir(e,t)}});var lke=T((CVr,ske)=>{var Yir=aT(),Kir=ike(),Xir=ake();ske.exports=function(e){return function(t,r,n){var i=Yir(t),o=Kir(i.length),a=Xir(n,o),c;if(e&&r!=r){for(;o>a;)if(c=i[a++],c!=c)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}}});var cke=T((MVr,uke)=>{uke.exports=!0});var mke=T((AVr,hke)=>{var Qir=Bf(),fke=rT(),pke="__core-js_shared__",dke=fke[pke]||(fke[pke]={});(hke.exports=function(e,t){return dke[e]||(dke[e]=t!==void 0?t:{})})("versions",[]).push({version:Qir.version,mode:cke()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var vke=T((OVr,gke)=>{var Jir=0,eor=Math.random();gke.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++Jir+eor).toString(36))}});var MZ=T((DVr,_ke)=>{var yke=mke()("keys"),tor=vke();_ke.exports=function(e){return yke[e]||(yke[e]=tor(e))}});var wke=T((PVr,bke)=>{var xke=GN(),ror=aT(),nor=lke()(!1),ior=MZ()("IE_PROTO");bke.exports=function(e,t){var r=ror(e),n=0,i=[],o;for(o in r)o!=ior&&xke(r,o)&&i.push(o);for(;t.length>n;)xke(r,o=t[n++])&&(~nor(i,o)||i.push(o));return i}});var AZ=T((LVr,Ske)=>{Ske.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var sT=T((NVr,Eke)=>{var oor=wke(),aor=AZ();Eke.exports=Object.keys||function(t){return oor(t,aor)}});var Tke=T(Ike=>{Ike.f=Object.getOwnPropertySymbols});var $N=T(Cke=>{Cke.f={}.propertyIsEnumerable});var OZ=T((qVr,Mke)=>{var sor=TZ();Mke.exports=function(e){return Object(sor(e))}});var Dke=T((jVr,Oke)=>{"use strict";var lor=Nm(),Ake=sT(),uor=Tke(),cor=$N(),por=OZ(),dor=IZ(),ZN=Object.assign;Oke.exports=!ZN||oT()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ZN({},e)[r]!=7||Object.keys(ZN({},t)).join("")!=n})?function(t,r){for(var n=por(t),i=arguments.length,o=1,a=uor.f,c=cor.f;i>o;)for(var p=dor(arguments[o++]),m=a?Ake(p).concat(a(p)):Ake(p),g=m.length,S=0,I;g>S;)I=m[S++],(!lor||c.call(p,I))&&(n[I]=p[I]);return n}:ZN});var Pke=T(()=>{var DZ=ey();DZ(DZ.S+DZ.F,"Object",{assign:Dke()})});var Nke=T((BVr,Lke)=>{Pke();Lke.exports=Bf().Object.assign});var kke=T((VVr,Rke)=>{var hor=wZ(),mor=iT(),gor=sT();Rke.exports=Nm()?Object.defineProperties:function(t,r){mor(t);for(var n=gor(r),i=n.length,o=0,a;i>o;)hor.f(t,a=n[o++],r[a]);return t}});var zke=T((GVr,jke)=>{var qke=rT().document;jke.exports=qke&&qke.documentElement});var Uke=T((HVr,Bke)=>{var vor=iT(),yor=kke(),Fke=AZ(),_or=MZ()("IE_PROTO"),LZ=function(){},NZ="prototype",YN=function(){var e=_Z()("iframe"),t=Fke.length,r="<",n=">",i;for(e.style.display="none",zke().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),YN=i.F;t--;)delete YN[NZ][Fke[t]];return YN()};Bke.exports=Object.create||function(t,r){var n;return t!==null?(LZ[NZ]=vor(t),n=new LZ,LZ[NZ]=null,n[_or]=t):n=YN(),r===void 0?n:yor(n,r)}});var Gke=T(()=>{var Vke=ey();Vke(Vke.S,"Object",{create:Uke()})});var Wke=T((ZVr,Hke)=>{Gke();var xor=Bf().Object;Hke.exports=function(t,r){return xor.create(t,r)}});var Yke=T(Zke=>{var bor=$N(),wor=SZ(),Sor=aT(),Eor=bZ(),Ior=GN(),Tor=xZ(),$ke=Object.getOwnPropertyDescriptor;Zke.f=Nm()?$ke:function(t,r){if(t=Sor(t),r=Eor(r,!0),Tor)try{return $ke(t,r)}catch(n){}if(Ior(t,r))return wor(!bor.f.call(t,r),t[r])}});var Qke=T((KVr,Xke)=>{var Cor=nT(),Mor=iT(),Kke=function(e,t){if(Mor(e),!Cor(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};Xke.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=vZ()(Function.call,Yke().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return Kke(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:Kke}});var eqe=T(()=>{var Jke=ey();Jke(Jke.S,"Object",{setPrototypeOf:Qke().set})});var rqe=T((JVr,tqe)=>{eqe();tqe.exports=Bf().Object.setPrototypeOf});var oqe=T((nGr,iqe)=>{var kZ=ey(),Aor=Bf(),Oor=oT();iqe.exports=function(e,t){var r=(Aor.Object||{})[e]||Object[e],n={};n[e]=t(r),kZ(kZ.S+kZ.F*Oor(function(){r(1)}),"Object",n)}});var aqe=T(()=>{var Dor=OZ(),Por=sT();oqe()("keys",function(){return function(t){return Por(Dor(t))}})});var lqe=T((aGr,sqe)=>{aqe();sqe.exports=Bf().Object.keys});var Nn=T((lGr,KN)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var c=r.apply(null,o);c&&n.push(c)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var p in o)e.call(o,p)&&o[p]&&n.push(p)}}}return n.join(" ")}typeof KN!="undefined"&&KN.exports?(r.default=r,KN.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var XN=T((fGr,cqe)=>{"use strict";var Lor=function(e,t,r,n,i,o,a,c){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,n,i,o,a,c],g=0;p=new Error(t.replace(/%s/g,function(){return m[g++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};cqe.exports=Lor});var FZ=T(zZ=>{"use strict";Object.defineProperty(zZ,"__esModule",{value:!0});function hqe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function mqe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function gqe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}hqe.__suppressDeprecationWarning=!0;mqe.__suppressDeprecationWarning=!0;gqe.__suppressDeprecationWarning=!0;function Ror(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=hqe,t.componentWillReceiveProps=mqe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=gqe;var c=t.componentDidUpdate;t.componentDidUpdate=function(m,g,S){var I=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:S;c.call(this,m,g,I)}}return e}zZ.polyfill=Ror});var BZ=T((OGr,_qe)=>{var qor=Nm(),jor=sT(),zor=aT(),For=$N().f;_qe.exports=function(e){return function(t){for(var r=zor(t),n=jor(r),i=n.length,o=0,a=[],c;i>o;)c=n[o++],(!qor||For.call(r,c))&&a.push(e?[c,r[c]]:r[c]);return a}}});var bqe=T(()=>{var xqe=ey(),Bor=BZ()(!0);xqe(xqe.S,"Object",{entries:function(t){return Bor(t)}})});var Sqe=T((LGr,wqe)=>{bqe();wqe.exports=Bf().Object.entries});var UZ=T((NGr,Eqe)=>{Eqe.exports=Sqe()});var t5=T((e5,Aqe)=>{"use strict";Object.defineProperty(e5,"__esModule",{value:!0});e5.default=Kor;function Kor(e){function t(n,i,o,a,c,p){var m=a||"<<anonymous>>",g=p||o;if(i[o]==null)return n?new Error("Required "+c+" `"+g+"` was not specified "+("in `"+m+"`.")):null;for(var S=arguments.length,I=Array(S>6?S-6:0),M=6;M<S;M++)I[M-6]=arguments[M];return e.apply(void 0,[i,o,m,c,g].concat(I))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}Aqe.exports=e5.default});var Dqe=T(()=>{var Oqe=ey(),Xor=BZ()(!1);Oqe(Oqe.S,"Object",{values:function(t){return Xor(t)}})});var Lqe=T((UGr,Pqe)=>{Dqe();Pqe.exports=Bf().Object.values});var Rqe=T((VGr,Nqe)=>{Nqe.exports=Lqe()});var jqe=T(si=>{"use strict";var na=typeof Symbol=="function"&&Symbol.for,$Z=na?Symbol.for("react.element"):60103,ZZ=na?Symbol.for("react.portal"):60106,r5=na?Symbol.for("react.fragment"):60107,n5=na?Symbol.for("react.strict_mode"):60108,i5=na?Symbol.for("react.profiler"):60114,o5=na?Symbol.for("react.provider"):60109,a5=na?Symbol.for("react.context"):60110,YZ=na?Symbol.for("react.async_mode"):60111,s5=na?Symbol.for("react.concurrent_mode"):60111,l5=na?Symbol.for("react.forward_ref"):60112,u5=na?Symbol.for("react.suspense"):60113,ear=na?Symbol.for("react.suspense_list"):60120,c5=na?Symbol.for("react.memo"):60115,f5=na?Symbol.for("react.lazy"):60116,tar=na?Symbol.for("react.block"):60121,rar=na?Symbol.for("react.fundamental"):60117,nar=na?Symbol.for("react.responder"):60118,iar=na?Symbol.for("react.scope"):60119;function iu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $Z:switch(e=e.type,e){case YZ:case s5:case r5:case i5:case n5:case u5:return e;default:switch(e=e&&e.$$typeof,e){case a5:case l5:case f5:case c5:case o5:return e;default:return t;}}case ZZ:return t;}}}function qqe(e){return iu(e)===s5}si.AsyncMode=YZ;si.ConcurrentMode=s5;si.ContextConsumer=a5;si.ContextProvider=o5;si.Element=$Z;si.ForwardRef=l5;si.Fragment=r5;si.Lazy=f5;si.Memo=c5;si.Portal=ZZ;si.Profiler=i5;si.StrictMode=n5;si.Suspense=u5;si.isAsyncMode=function(e){return qqe(e)||iu(e)===YZ};si.isConcurrentMode=qqe;si.isContextConsumer=function(e){return iu(e)===a5};si.isContextProvider=function(e){return iu(e)===o5};si.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$Z};si.isForwardRef=function(e){return iu(e)===l5};si.isFragment=function(e){return iu(e)===r5};si.isLazy=function(e){return iu(e)===f5};si.isMemo=function(e){return iu(e)===c5};si.isPortal=function(e){return iu(e)===ZZ};si.isProfiler=function(e){return iu(e)===i5};si.isStrictMode=function(e){return iu(e)===n5};si.isSuspense=function(e){return iu(e)===u5};si.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===r5||e===s5||e===i5||e===n5||e===u5||e===ear||typeof e=="object"&&e!==null&&(e.$$typeof===f5||e.$$typeof===c5||e.$$typeof===o5||e.$$typeof===a5||e.$$typeof===l5||e.$$typeof===rar||e.$$typeof===nar||e.$$typeof===iar||e.$$typeof===tar)};si.typeOf=iu});var Fqe=T((ZGr,zqe)=>{"use strict";zqe.exports=jqe()});var ks=T((p5,Uqe)=>{"use strict";Object.defineProperty(p5,"__esModule",{value:!0});var oar=De(),aar=Bqe(oar),sar=Fqe(),lar=t5(),uar=Bqe(lar);function Bqe(e){return e&&e.__esModule?e:{default:e}}function car(e,t,r,n,i){var o=e[t];return aar.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,sar.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}p5.default=(0,uar.default)(car);Uqe.exports=p5.default});var Zqe=T((m5,$qe)=>{"use strict";Object.defineProperty(m5,"__esModule",{value:!0});m5.default=xar;var gar=t5(),yar=_ar(gar);function _ar(e){return e&&e.__esModule?e:{default:e}}function xar(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var c=null;return t.forEach(function(p){if(c==null){var m=p.apply(void 0,o);m!=null&&(c=m)}}),c}return(0,yar.default)(n)}$qe.exports=m5.default});var ay=T((hHr,Qqe)=>{"use strict";var war=function(){};Qqe.exports=war});var xo=T((wHr,dT)=>{function Tar(e){return e&&e.__esModule?e:{default:e}}dT.exports=Tar,dT.exports.__esModule=!0,dT.exports.default=dT.exports});var tje=T((y5,eje)=>{"use strict";y5.__esModule=!0;y5.default=Mar;var Car=/-(.)/g;function Mar(e){return e.replace(Car,function(t,r){return r.toUpperCase()})}eje.exports=y5.default});var nY=T((_5,rje)=>{"use strict";var Aar=xo();_5.__esModule=!0;_5.default=Par;var Oar=Aar(tje()),Dar=/^-ms-/;function Par(e){return(0,Oar.default)(e.replace(Dar,"ms-"))}rje.exports=_5.default});var ije=T((x5,nje)=>{"use strict";x5.__esModule=!0;x5.default=Nar;var Lar=/([A-Z])/g;function Nar(e){return e.replace(Lar,"-$1").toLowerCase()}nje.exports=x5.default});var aje=T((b5,oje)=>{"use strict";var Rar=xo();b5.__esModule=!0;b5.default=jar;var kar=Rar(ije()),qar=/^ms-/;function jar(e){return(0,kar.default)(e).replace(qar,"-ms-")}oje.exports=b5.default});var lje=T((w5,sje)=>{"use strict";var zar=xo();w5.__esModule=!0;w5.default=Var;var Far=zar(nY()),Bar=/^(top|right|bottom|left)$/,Uar=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function Var(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,Far.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),Uar.test(o)&&!Bar.test(n)){var a=i.left,c=e.runtimeStyle,p=c&&c.left;p&&(c.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=a,p&&(c.left=p)}return o}}}sje.exports=w5.default});var cje=T((S5,uje)=>{"use strict";S5.__esModule=!0;S5.default=Gar;function Gar(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}uje.exports=S5.default});var Vf=T((hT,fje)=>{"use strict";hT.__esModule=!0;hT.default=void 0;var Har=!!(typeof window!="undefined"&&window.document&&window.document.createElement);hT.default=Har;fje.exports=hT.default});var vje=T(_n=>{"use strict";var War=xo();_n.__esModule=!0;_n.default=_n.animationEnd=_n.animationDelay=_n.animationTiming=_n.animationDuration=_n.animationName=_n.transitionEnd=_n.transitionDuration=_n.transitionDelay=_n.transitionTiming=_n.transitionProperty=_n.transform=void 0;var $ar=War(Vf()),I5="transform";_n.transform=I5;var Gf,iY,pje;_n.animationEnd=pje;_n.transitionEnd=iY;var oY,aY,sY,lY;_n.transitionDelay=lY;_n.transitionTiming=sY;_n.transitionDuration=aY;_n.transitionProperty=oY;var dje,hje,mje,gje;_n.animationDelay=gje;_n.animationTiming=mje;_n.animationDuration=hje;_n.animationName=dje;$ar.default&&(E5=Yar(),Gf=E5.prefix,_n.transitionEnd=iY=E5.transitionEnd,_n.animationEnd=pje=E5.animationEnd,_n.transform=I5=Gf+"-"+I5,_n.transitionProperty=oY=Gf+"-transition-property",_n.transitionDuration=aY=Gf+"-transition-duration",_n.transitionDelay=lY=Gf+"-transition-delay",_n.transitionTiming=sY=Gf+"-transition-timing-function",_n.animationName=dje=Gf+"-animation-name",_n.animationDuration=hje=Gf+"-animation-duration",_n.animationTiming=mje=Gf+"-animation-delay",_n.animationDelay=gje=Gf+"-animation-timing-function");var E5,Zar={transform:I5,end:iY,property:oY,timing:sY,delay:lY,duration:aY};_n.default=Zar;function Yar(){for(var e=document.createElement("div").style,t={O:function(m){return"o"+m.toLowerCase()},Moz:function(m){return m.toLowerCase()},Webkit:function(m){return"webkit"+m},ms:function(m){return"MS"+m}},r=Object.keys(t),n,i,o="",a=0;a<r.length;a++){var c=r[a];if(c+"TransitionProperty"in e){o="-"+c.toLowerCase(),n=t[c]("TransitionEnd"),i=t[c]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var _je=T((T5,yje)=>{"use strict";T5.__esModule=!0;T5.default=Xar;var Kar=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Xar(e){return!!(e&&Kar.test(e))}yje.exports=T5.default});var M5=T((C5,xje)=>{"use strict";var mT=xo();C5.__esModule=!0;C5.default=nsr;var Qar=mT(nY()),uY=mT(aje()),Jar=mT(lje()),esr=mT(cje()),tsr=vje(),rsr=mT(_je());function nsr(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,Qar.default)(t)]||(0,Jar.default)(e).getPropertyValue((0,uY.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(a){var c=o[a];!c&&c!==0?(0,esr.default)(e,(0,uY.default)(a)):(0,rsr.default)(a)?i+=a+"("+c+") ":n+=(0,uY.default)(a)+": "+c+";"}),i&&(n+=tsr.transform+": "+i+";"),e.style.cssText+=";"+n}xje.exports=C5.default});var bje=T(nx=>{"use strict";nx.__esModule=!0;nx.classNamesShape=nx.timeoutsShape=void 0;var EHr=isr(mt());function isr(e){return e&&e.__esModule?e:{default:e}}var osr=null;nx.timeoutsShape=osr;var asr=null;nx.classNamesShape=asr});var Sje=T(Sl=>{"use strict";Sl.__esModule=!0;Sl.default=Sl.EXITING=Sl.ENTERED=Sl.ENTERING=Sl.EXITED=Sl.UNMOUNTED=void 0;var ssr=csr(mt()),cY=wje(De()),lsr=wje(fo()),usr=FZ(),THr=bje();function wje(e){return e&&e.__esModule?e:{default:e}}function csr(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function fsr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function psr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var gT="unmounted";Sl.UNMOUNTED=gT;var sy="exited";Sl.EXITED=sy;var ly="entering";Sl.ENTERING=ly;var ox="entered";Sl.ENTERED=ox;var fY="exiting";Sl.EXITING=fY;var Hf=function(e){psr(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=i.transitionGroup,c=a&&!a.isMounting?n.enter:n.appear,p;return o.appearStatus=null,n.in?c?(p=sy,o.appearStatus=ly):p=ox:n.unmountOnExit||n.mountOnEnter?p=gT:p=sy,o.state={status:p},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===gT?{status:sy}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ly&&a!==ox&&(o=ly):(a===ly||a===ox)&&(o=fY)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,a,c;return o=a=c=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:c}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var a=lsr.default.findDOMNode(this);o===ly?this.performEnter(a,i):this.performExit(a)}else this.props.unmountOnExit&&this.state.status===sy&&this.setState({status:gT})},r.performEnter=function(i,o){var a=this,c=this.props.enter,p=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,m=this.getTimeouts(),g=p?m.appear:m.enter;if(!o&&!c){this.safeSetState({status:ox},function(){a.props.onEntered(i)});return}this.props.onEnter(i,p),this.safeSetState({status:ly},function(){a.props.onEntering(i,p),a.onTransitionEnd(i,g,function(){a.safeSetState({status:ox},function(){a.props.onEntered(i,p)})})})},r.performExit=function(i){var o=this,a=this.props.exit,c=this.getTimeouts();if(!a){this.safeSetState({status:sy},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:fY},function(){o.props.onExiting(i),o.onTransitionEnd(i,c.exit,function(){o.safeSetState({status:sy},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,o,a){this.setNextCallback(a);var c=o==null&&!this.props.addEndListener;if(!i||c){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===gT)return null;var o=this.props,a=o.children,c=fsr(o,["children"]);if(delete c.in,delete c.mountOnEnter,delete c.unmountOnExit,delete c.appear,delete c.enter,delete c.exit,delete c.timeout,delete c.addEndListener,delete c.onEnter,delete c.onEntering,delete c.onEntered,delete c.onExit,delete c.onExiting,delete c.onExited,typeof a=="function")return a(i,c);var p=cY.default.Children.only(a);return cY.default.cloneElement(p,c)},t}(cY.default.Component);Hf.contextTypes={transitionGroup:ssr.object};Hf.childContextTypes={transitionGroup:function(){}};Hf.propTypes={};function ix(){}Hf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ix,onEntering:ix,onEntered:ix,onExit:ix,onExiting:ix,onExited:ix};Hf.UNMOUNTED=0;Hf.EXITED=1;Hf.ENTERING=2;Hf.ENTERED=3;Hf.EXITING=4;var dsr=(0,usr.polyfill)(Hf);Sl.default=dsr});var uy=T((A5,Eje)=>{"use strict";A5.__esModule=!0;A5.default=hsr;function hsr(e){return e&&e.ownerDocument||document}Eje.exports=A5.default});var Tje=T((O5,Ije)=>{"use strict";var msr=xo();O5.__esModule=!0;O5.default=vsr;var gsr=msr(uy());function vsr(e){e===void 0&&(e=(0,gsr.default)());try{return e.activeElement}catch(t){}}Ije.exports=O5.default});var yT=T((vT,Mje)=>{"use strict";var ysr=xo();vT.__esModule=!0;vT.default=void 0;var _sr=ysr(Vf()),xsr=function(){return _sr.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):Cje(e,t)}:Cje}();vT.default=xsr;function Cje(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}Mje.exports=vT.default});var Pje=T((cy,Dje)=>{function Aje(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return Oje[e];var r=String(e),n=bd[r.toLowerCase()];if(n)return n;var n=D5[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}Aje.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=bd[r.toLowerCase()];if(i)return i===n;var i=D5[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};cy=Dje.exports=Aje;var bd=cy.code=cy.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},D5=cy.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Qi=97;Qi<123;Qi++)bd[String.fromCharCode(Qi)]=Qi-32;for(Qi=48;Qi<58;Qi++)bd[Qi-48]=Qi;var Qi;for(Qi=1;Qi<13;Qi++)bd["f"+Qi]=Qi+111;for(Qi=0;Qi<10;Qi++)bd["numpad "+Qi]=Qi+96;var Oje=cy.names=cy.title={};for(Qi in bd)Oje[bd[Qi]]=Qi;for(pY in D5)bd[pY]=D5[pY];var pY});var dY=T((P5,Lje)=>{"use strict";Object.defineProperty(P5,"__esModule",{value:!0});P5.default=bsr;function bsr(e){return function(r,n,i,o,a){var c=i||"<<anonymous>>",p=a||n;if(r[n]==null)return new Error("The "+o+" `"+p+"` is required to make "+("`"+c+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var m=arguments.length,g=Array(m>5?m-5:0),S=5;S<m;S++)g[S-5]=arguments[S];return e.apply(void 0,[r,n,i,o,a].concat(g))}}Lje.exports=P5.default});var L5=T((_T,Rje)=>{"use strict";var wsr=xo();_T.__esModule=!0;_T.default=void 0;var Ssr=wsr(Vf()),Nje=function(){};Ssr.default&&(Nje=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var Esr=Nje;_T.default=Esr;Rje.exports=_T.default});var N5=T((xT,qje)=>{"use strict";var Isr=xo();xT.__esModule=!0;xT.default=void 0;var Tsr=Isr(Vf()),kje=function(){};Tsr.default&&(kje=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var Csr=kje;xT.default=Csr;qje.exports=xT.default});var hY=T((R5,zje)=>{"use strict";R5.__esModule=!0;R5.default=function(e,t,r,n){return(0,Asr.default)(e,t,r,n),{remove:function(){(0,Dsr.default)(e,t,r,n)}}};var Msr=L5(),Asr=jje(Msr),Osr=N5(),Dsr=jje(Osr);function jje(e){return e&&e.__esModule?e:{default:e}}zje.exports=R5.default});var fy=T((k5,Bje)=>{"use strict";k5.__esModule=!0;k5.default=function(e){return(0,Rsr.default)(Lsr.default.findDOMNode(e))};var Psr=fo(),Lsr=Fje(Psr),Nsr=uy(),Rsr=Fje(Nsr);function Fje(e){return e&&e.__esModule?e:{default:e}}Bje.exports=k5.default});var Vje=T((z5,Uje)=>{"use strict";z5.__esModule=!0;var ksr=yT(),qsr=ax(ksr),jsr=mt(),q5=ax(jsr),zsr=De(),Fsr=ax(zsr),Bsr=fo(),Usr=ax(Bsr),Vsr=hY(),mY=ax(Vsr),Gsr=fy(),Hsr=ax(Gsr);function ax(e){return e&&e.__esModule?e:{default:e}}function Wsr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $sr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Zsr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ysr=27;function Ksr(e){return e.button===0}function Xsr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var j5=function(e){Zsr(t,e);function t(r,n){Wsr(this,t);var i=$sr(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,a=(0,Hsr.default)(i);i.documentMouseCaptureListener=(0,mY.default)(a,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,mY.default)(a,o,i.handleMouse),i.documentKeyupListener=(0,mY.default)(a,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=Xsr(o)||!Ksr(o)||(0,qsr.default)(Usr.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===Ysr&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(Fsr.default.Component);j5.displayName="RootCloseWrapper";j5.propTypes={onRootClose:q5.default.func,children:q5.default.element,disabled:q5.default.bool,event:q5.default.oneOf(["click","mousedown"])};j5.defaultProps={event:"click"};z5.default=j5;Uje.exports=z5.default});var tze=T((V5,eze)=>{"use strict";V5.__esModule=!0;V5.default=flr;var clr=/^[\w-]*$/,CY=Function.prototype.bind.call(Function.prototype.call,[].slice);function flr(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=clr.test(i),a;return o?r?(e=e.getElementById?e:document,(a=e.getElementById(i))?[a]:[]):e.getElementsByClassName&&n?CY(e.getElementsByClassName(i)):CY(e.getElementsByTagName(t)):CY(e.querySelectorAll(t))}eze.exports=V5.default});var ize=T((G5,nze)=>{"use strict";var rze=xo();G5.__esModule=!0;G5.default=hlr;var plr=rze(yT()),dlr=rze(tze());function hlr(e,t){return function(n){var i=n.currentTarget,o=n.target,a=(0,dlr.default)(i,e);a.some(function(c){return(0,plr.default)(c,o)})&&t.call(this,n)}}nze.exports=G5.default});var sze=T((ST,aze)=>{"use strict";var MY=xo();ST.__esModule=!0;ST.default=void 0;var mlr=MY(Vf()),glr=MY(L5()),vlr=MY(N5()),oze=function(){};mlr.default&&(oze=function(t,r,n,i){return(0,glr.default)(t,r,n,i),function(){(0,vlr.default)(t,r,n,i)}});var ylr=oze;ST.default=ylr;aze.exports=ST.default});var pze=T(km=>{"use strict";var H5=xo();km.__esModule=!0;km.default=void 0;var lze=H5(L5());km.on=lze.default;var uze=H5(N5());km.off=uze.default;var cze=H5(ize());km.filter=cze.default;var fze=H5(sze());km.listen=fze.default;var _lr={on:lze.default,off:uze.default,filter:cze.default,listen:fze.default};km.default=_lr});var AY=T(($5,dze)=>{"use strict";var xlr=xo();$5.__esModule=!0;$5.default=wlr;var blr=xlr(Vf()),W5;function wlr(e){if((!W5&&W5!==0||e)&&blr.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),W5=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return W5}dze.exports=$5.default});var ET=T((Z5,mze)=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});var Slr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Elr=De(),Ilr=hze(Elr),Tlr=t5(),Clr=hze(Tlr);function hze(e){return e&&e.__esModule?e:{default:e}}function Mlr(e,t,r,n,i){var o=e[t],a=typeof o=="undefined"?"undefined":Slr(o);return Ilr.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(a!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}Z5.default=(0,Clr.default)(Mlr);mze.exports=Z5.default});var _ze=T((lWr,yze)=>{"use strict";var Alr=!1,vze=function(){};Alr&&(gze=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,a="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(a);try{throw new Error(a)}catch(c){}},vze=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||gze.apply(null,[t].concat(r))});var gze;yze.exports=vze});var wze=T((Y5,bze)=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.default=xze;var Olr=_ze(),Dlr=Plr(Olr);function Plr(e){return e&&e.__esModule?e:{default:e}}var OY={};function xze(e,t){return function(n,i,o,a,c){var p=o||"<<anonymous>>",m=c||i;if(n[i]!=null){var g=o+"."+i;(0,Dlr.default)(OY[g],"The "+a+" `"+m+"` of "+("`"+p+"` is deprecated. "+t+".")),OY[g]=!0}for(var S=arguments.length,I=Array(S>5?S-5:0),M=5;M<S;M++)I[M-5]=arguments[M];return e.apply(void 0,[n,i,o,a,c].concat(I))}}function Llr(){OY={}}xze._resetWarned=Llr;bze.exports=Y5.default});var DY=T((K5,Sze)=>{"use strict";K5.__esModule=!0;K5.default=Nlr;function Nlr(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}Sze.exports=K5.default});var Ize=T((X5,Eze)=>{"use strict";var Rlr=xo();X5.__esModule=!0;X5.default=qlr;var klr=Rlr(DY());function qlr(e,t){e.classList?e.classList.add(t):(0,klr.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}Eze.exports=X5.default});var Mze=T((uWr,Cze)=>{"use strict";function Tze(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}Cze.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=Tze(t.className,r):t.setAttribute("class",Tze(t.className&&t.className.baseVal||"",r))}});var Pze=T(py=>{"use strict";var PY=xo();py.__esModule=!0;py.default=void 0;var Aze=PY(Ize());py.addClass=Aze.default;var Oze=PY(Mze());py.removeClass=Oze.default;var Dze=PY(DY());py.hasClass=Dze.default;var jlr={addClass:Aze.default,removeClass:Oze.default,hasClass:Dze.default};py.default=jlr});var IT=T((Q5,Lze)=>{"use strict";Q5.__esModule=!0;Q5.default=zlr;function zlr(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}Lze.exports=Q5.default});var LY=T((J5,kze)=>{"use strict";J5.__esModule=!0;J5.default=Hlr;var Flr=IT(),Nze=Rze(Flr),Blr=uy(),Ulr=Rze(Blr);function Rze(e){return e&&e.__esModule?e:{default:e}}function Vlr(e){return e&&e.tagName.toLowerCase()==="body"}function Glr(e){var t=(0,Ulr.default)(e),r=(0,Nze.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function Hlr(e){var t=(0,Nze.default)(e);return t||Vlr(e)?Glr(e):e.scrollHeight>e.clientHeight}kze.exports=J5.default});var jze=T(TT=>{"use strict";TT.__esModule=!0;TT.ariaHidden=NY;TT.hideSiblings=Zlr;TT.showSiblings=Ylr;var Wlr=["template","script","style"],$lr=function(t){var r=t.nodeType,n=t.tagName;return r===1&&Wlr.indexOf(n.toLowerCase())===-1},qze=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&$lr(i)&&n(i)})};function NY(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function Zlr(e,t){qze(e,t,function(r){return NY(!0,r)})}function Ylr(e,t){qze(e,t,function(r){return NY(!1,r)})}});var Uze=T((tR,Bze)=>{"use strict";tR.__esModule=!0;var Klr=Pze(),zze=eR(Klr),Xlr=M5(),Fze=eR(Xlr),Qlr=AY(),Jlr=eR(Qlr),eur=LY(),tur=eR(eur),RY=jze();function eR(e){return e&&e.__esModule?e:{default:e}}function rur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nur(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function iur(e,t){return nur(e,function(r){return r.modals.indexOf(t)!==-1})}function our(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,Fze.default)(t,"paddingRight")||0,10)+(0,Jlr.default)()+"px"),(0,Fze.default)(t,r)}function aur(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var sur=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,a=o===void 0?!0:o;rur(this,e),this.add=function(c,p,m){var g=t.modals.indexOf(c),S=t.containers.indexOf(p);if(g!==-1)return g;if(g=t.modals.length,t.modals.push(c),t.hideSiblingNodes&&(0,RY.hideSiblings)(p,c.modalNode),S!==-1)return t.data[S].modals.push(c),g;var I={modals:[c],classes:m?m.split(/\s+/):[],overflowing:(0,tur.default)(p)};return t.handleContainerOverflow&&our(I,p),I.classes.forEach(zze.default.addClass.bind(null,p)),t.containers.push(p),t.data.push(I),g},this.remove=function(c){var p=t.modals.indexOf(c);if(p!==-1){var m=iur(t.data,c),g=t.data[m],S=t.containers[m];g.modals.splice(g.modals.indexOf(c),1),t.modals.splice(p,1),g.modals.length===0?(g.classes.forEach(zze.default.removeClass.bind(null,S)),t.handleContainerOverflow&&aur(g,S),t.hideSiblingNodes&&(0,RY.showSiblings)(S,c.modalNode),t.containers.splice(m,1),t.data.splice(m,1)):t.hideSiblingNodes&&(0,RY.ariaHidden)(!1,g.modals[g.modals.length-1].modalNode)}},this.isTopModal=function(c){return!!t.modals.length&&t.modals[t.modals.length-1]===c},this.hideSiblingNodes=i,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[]};tR.default=sur;Bze.exports=tR.default});var CT=T((rR,Vze)=>{"use strict";rR.__esModule=!0;rR.default=fur;var lur=fo(),uur=cur(lur);function cur(e){return e&&e.__esModule?e:{default:e}}function fur(e,t){return e=typeof e=="function"?e():e,uur.default.findDOMNode(e)||t}Vze.exports=rR.default});var Kze=T((nR,Yze)=>{"use strict";nR.__esModule=!0;var pur=mt(),kY=ux(pur),dur=ET(),hur=ux(dur),mur=De(),Gze=ux(mur),gur=fo(),Hze=ux(gur),vur=CT(),Wze=ux(vur),yur=fy(),$ze=ux(yur);function ux(e){return e&&e.__esModule?e:{default:e}}function _ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qY=function(e){xur(t,e);function t(){var r,n,i;_ur(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=Zze(this,e.call.apply(e,[this].concat(a))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,Wze.default)(n.props.container,(0,$ze.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var p=n.props.children?Gze.default.Children.only(n.props.children):null;if(p!==null){n._mountOverlayTarget();var m=!n._overlayInstance;n._overlayInstance=Hze.default.unstable_renderSubtreeIntoContainer(n,p,n._overlayTarget,function(){m&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(Hze.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),Zze(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,Wze.default)(n.container,(0,$ze.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(Gze.default.Component);qY.displayName="Portal";qY.propTypes={container:kY.default.oneOfType([hur.default,kY.default.func]),onRendered:kY.default.func};nR.default=qY;Yze.exports=nR.default});var BY=T((iR,Qze)=>{"use strict";iR.__esModule=!0;var bur=Vf(),wur=qm(bur),Sur=mt(),jY=qm(Sur),Eur=ET(),Iur=qm(Eur),Tur=De(),Cur=qm(Tur),Mur=fo(),zY=qm(Mur),Aur=CT(),Our=qm(Aur),Dur=fy(),Pur=qm(Dur),Lur=Kze(),Nur=qm(Lur);function qm(e){return e&&e.__esModule?e:{default:e}}function Rur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FY=function(e){kur(t,e);function t(){var r,n,i;Rur(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=Xze(this,e.call.apply(e,[this].concat(a))),n),n.getMountNode=function(){return n._portalContainerNode},r),Xze(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(wur.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!zY.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,Our.default)(n,(0,Pur.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?zY.default.createPortal(this.props.children,this._portalContainerNode):null},t}(Cur.default.Component);FY.displayName="Portal";FY.propTypes={container:jY.default.oneOfType([Iur.default,jY.default.func]),onRendered:jY.default.func};iR.default=zY.default.createPortal?FY:Nur.default;Qze.exports=iR.default});var r6e=T((oR,t6e)=>{"use strict";oR.__esModule=!0;var qur=mt(),jur=Jze(qur),zur=De(),Fur=Jze(zur);function Jze(e){return e&&e.__esModule?e:{default:e}}function Bur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Vur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gur={children:jur.default.node},e6e=function(e){Vur(t,e);function t(){return Bur(this,t),Uur(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(Fur.default.Component);e6e.propTypes=Gur;oR.default=e6e;t6e.exports=oR.default});var i6e=T((aR,n6e)=>{"use strict";aR.__esModule=!0;aR.default=Hur;function Hur(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}n6e.exports=aR.default});var h6e=T((lR,d6e)=>{"use strict";lR.__esModule=!0;var l6e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wur=Tje(),UY=Ca(Wur),$ur=yT(),u6e=Ca($ur),Zur=Vf(),Yur=Ca(Zur),Kur=mt(),Ai=Ca(Kur),Xur=ET(),Qur=Ca(Xur),Jur=wze(),ecr=Ca(Jur),tcr=ks(),o6e=Ca(tcr),c6e=De(),jm=Ca(c6e),rcr=fo(),ncr=Ca(rcr),icr=ay(),ocr=Ca(icr),acr=Uze(),f6e=Ca(acr),scr=BY(),p6e=Ca(scr),lcr=r6e(),ucr=Ca(lcr),ccr=hY(),a6e=Ca(ccr),fcr=i6e(),pcr=Ca(fcr),dcr=CT(),hcr=Ca(dcr),mcr=fy(),VY=Ca(mcr);function Ca(e){return e&&e.__esModule?e:{default:e}}function gcr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vcr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ycr=new f6e.default,sR=function(e){vcr(t,e);function t(){var r,n,i;gcr(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=(r=(n=s6e(this,e.call.apply(e,[this].concat(a))),n),_cr.call(n),r),s6e(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),a={};return o.map(function(c){Object.prototype.hasOwnProperty.call(i,c)||(a[c]=n[c])}),a},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,a=n.children,c=n.transition,p=n.backdrop,m=n.className,g=n.style,S=n.onExit,I=n.onExiting,M=n.onEnter,P=n.onEntering,N=n.onEntered,L=jm.default.Children.only(a),q=this.omitProps(this.props,t.propTypes),j=i||c&&!this.state.exited;if(!j)return null;var B=L.props,H=B.role,Q=B.tabIndex;return(H===void 0||Q===void 0)&&(L=(0,c6e.cloneElement)(L,{role:H===void 0?"document":H,tabIndex:Q==null?"-1":Q})),c&&(L=jm.default.createElement(c,{appear:!0,unmountOnExit:!0,in:i,onExit:S,onExiting:I,onExited:this.handleHidden,onEnter:M,onEntering:P,onEntered:N},L)),jm.default.createElement(p6e.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},jm.default.createElement("div",l6e({ref:this.setModalNodeRef,role:H||"dialog"},q,{style:g,className:m}),p&&this.renderBackdrop(),jm.default.createElement(ucr.default,{ref:this.setDialogRef},L)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,UY.default)((0,VY.default)(this));n&&!(0,u6e.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,ocr.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return ncr.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(jm.default.Component);sR.propTypes=l6e({},p6e.default.propTypes,{show:Ai.default.bool,container:Ai.default.oneOfType([Qur.default,Ai.default.func]),onShow:Ai.default.func,onHide:Ai.default.func,backdrop:Ai.default.oneOfType([Ai.default.bool,Ai.default.oneOf(["static"])]),renderBackdrop:Ai.default.func,onEscapeKeyDown:Ai.default.func,onEscapeKeyUp:(0,ecr.default)(Ai.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:Ai.default.func,backdropStyle:Ai.default.object,backdropClassName:Ai.default.string,containerClassName:Ai.default.string,keyboard:Ai.default.bool,transition:o6e.default,backdropTransition:o6e.default,autoFocus:Ai.default.bool,enforceFocus:Ai.default.bool,restoreFocus:Ai.default.bool,onEnter:Ai.default.func,onEntering:Ai.default.func,onEntered:Ai.default.func,onExit:Ai.default.func,onExiting:Ai.default.func,onExited:Ai.default.func,manager:Ai.default.object.isRequired});sR.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:ycr,renderBackdrop:function(t){return jm.default.createElement("div",t)}};var _cr=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,a=r.backdropTransition,c=function(g){return t.backdrop=g},p=o({ref:c,style:n,className:i,onClick:t.handleBackdropClick});return a&&(p=jm.default.createElement(a,{appear:!0,in:t.props.show},p)),p},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,VY.default)(t),n=(0,hcr.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,a6e.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,a6e.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,pcr.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){Yur.default&&(t.lastFocus=(0,UY.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,UY.default)((0,VY.default)(t));r&&!(0,u6e.default)(r,n)&&r.focus()}}};sR.Manager=f6e.default;lR.default=sR;d6e.exports=lR.default});var rK=T((hR,R6e)=>{"use strict";var tK=xo();hR.__esModule=!0;hR.default=Vcr;var Fcr=tK(yT()),Bcr=tK(IT()),Ucr=tK(uy());function Vcr(e){var t=(0,Ucr.default)(e),r=(0,Bcr.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,Fcr.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}R6e.exports=hR.default});var k6e=T((v$r,wd)=>{function nK(){return wd.exports=nK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.exports.__esModule=!0,wd.exports.default=wd.exports,nK.apply(this,arguments)}wd.exports=nK,wd.exports.__esModule=!0,wd.exports.default=wd.exports});var z6e=T((mR,j6e)=>{"use strict";var q6e=xo();mR.__esModule=!0;mR.default=$cr;var Gcr=q6e(uy()),Hcr=q6e(M5());function Wcr(e){return e.nodeName&&e.nodeName.toLowerCase()}function $cr(e){for(var t=(0,Gcr.default)(e),r=e&&e.offsetParent;r&&Wcr(e)!=="html"&&(0,Hcr.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}j6e.exports=mR.default});var iK=T((gR,F6e)=>{"use strict";var Zcr=xo();gR.__esModule=!0;gR.default=Kcr;var Ycr=Zcr(IT());function Kcr(e,t){var r=(0,Ycr.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}F6e.exports=gR.default});var U6e=T((vR,B6e)=>{"use strict";var Xcr=xo();vR.__esModule=!0;vR.default=Jcr;var Qcr=Xcr(IT());function Jcr(e,t){var r=(0,Qcr.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}B6e.exports=vR.default});var H6e=T((yR,G6e)=>{"use strict";var dx=xo();yR.__esModule=!0;yR.default=ofr;var efr=dx(k6e()),V6e=dx(rK()),tfr=dx(z6e()),rfr=dx(iK()),nfr=dx(U6e()),PT=dx(M5());function ifr(e){return e.nodeName&&e.nodeName.toLowerCase()}function ofr(e,t){var r={top:0,left:0},n;return(0,PT.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,tfr.default)(e),n=(0,V6e.default)(e),ifr(t)!=="html"&&(r=(0,V6e.default)(t)),r.top+=parseInt((0,PT.default)(t,"borderTopWidth"),10)-(0,rfr.default)(t)||0,r.left+=parseInt((0,PT.default)(t,"borderLeftWidth"),10)-(0,nfr.default)(t)||0),(0,efr.default)({},n,{top:n.top-r.top-(parseInt((0,PT.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,PT.default)(e,"marginLeft"),10)||0)})}G6e.exports=yR.default});var Z6e=T((xR,$6e)=>{"use strict";xR.__esModule=!0;xR.default=hfr;var afr=rK(),aK=_R(afr),sfr=H6e(),lfr=_R(sfr),ufr=iK(),oK=_R(ufr),cfr=fy(),ffr=_R(cfr);function _R(e){return e&&e.__esModule?e:{default:e}}function W6e(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,oK.default)((0,ffr.default)(e).documentElement)||(0,oK.default)(e);else{var i=(0,aK.default)(e);t=i.width,r=i.height,n=(0,oK.default)(e)}return{width:t,height:r,scroll:n}}function pfr(e,t,r,n){var i=W6e(r),o=i.scroll,a=i.height,c=e-n-o,p=e+n-o+t;return c<0?-c:p>a?a-p:0}function dfr(e,t,r,n){var i=W6e(r),o=i.width,a=e-n,c=e+n+t;return a<0?-a:c>o?o-c:0}function hfr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,aK.default)(r):(0,lfr.default)(r,n),a=(0,aK.default)(t),c=a.height,p=a.width,m=void 0,g=void 0,S=void 0,I=void 0;if(e==="left"||e==="right"){g=o.top+(o.height-c)/2,e==="left"?m=o.left-p:m=o.left+o.width;var M=pfr(g,c,n,i);g+=M,I=50*(1-2*M/c)+"%",S=void 0}else if(e==="top"||e==="bottom"){m=o.left+(o.width-p)/2,e==="top"?g=o.top-c:g=o.top+o.height;var P=dfr(m,p,n,i);m+=P,S=50*(1-2*P/p)+"%",I=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:m,positionTop:g,arrowOffsetLeft:S,arrowOffsetTop:I}}$6e.exports=xR.default});var rFe=T((wR,tFe)=>{"use strict";wR.__esModule=!0;var Y6e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mfr=Nn(),gfr=Fm(mfr),vfr=mt(),gy=Fm(vfr),yfr=ET(),K6e=Fm(yfr),eFe=De(),X6e=Fm(eFe),_fr=fo(),Q6e=Fm(_fr),xfr=Z6e(),bfr=Fm(xfr),wfr=CT(),Sfr=Fm(wfr),Efr=fy(),Ifr=Fm(Efr);function Fm(e){return e&&e.__esModule?e:{default:e}}function J6e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Tfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cfr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Mfr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bR=function(e){Mfr(t,e);function t(r,n){Tfr(this,t);var i=Cfr(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,a=typeof o=="function"?o():o;return a&&Q6e.default.findDOMNode(a)||null},i.maybeUpdatePosition=function(o){var a=i.getTarget();!i.props.shouldUpdatePosition&&a===i._lastTarget&&!o||i.updatePosition(a)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,a=J6e(n,["children","className"]),c=this.state,p=c.positionLeft,m=c.positionTop,g=J6e(c,["positionLeft","positionTop"]);delete a.target,delete a.container,delete a.containerPadding,delete a.shouldUpdatePosition;var S=X6e.default.Children.only(i);return(0,eFe.cloneElement)(S,Y6e({},a,g,{positionLeft:p,positionTop:m,className:(0,gfr.default)(o,S.props.className),style:Y6e({},S.props.style,{left:p,top:m})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=Q6e.default.findDOMNode(this),o=(0,Sfr.default)(this.props.container,(0,Ifr.default)(this).body);this.setState((0,bfr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(X6e.default.Component);bR.propTypes={target:gy.default.oneOfType([K6e.default,gy.default.func]),container:gy.default.oneOfType([K6e.default,gy.default.func]),containerPadding:gy.default.number,placement:gy.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:gy.default.bool};bR.displayName="Position";bR.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};wR.default=bR;tFe.exports=wR.default});var lFe=T((SR,sFe)=>{"use strict";SR.__esModule=!0;var Afr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ofr=mt(),Sd=hx(Ofr),Dfr=ks(),Pfr=hx(Dfr),Lfr=De(),LT=hx(Lfr),Nfr=BY(),nFe=hx(Nfr),Rfr=rFe(),iFe=hx(Rfr),kfr=Vje(),oFe=hx(kfr);function hx(e){return e&&e.__esModule?e:{default:e}}function qfr(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function jfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zfr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ffr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aFe=function(e){Ffr(t,e);function t(r,n){jfr(this,t);var i=zfr(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,a=n.target,c=n.placement,p=n.shouldUpdatePosition,m=n.rootClose,g=n.children,S=n.transition,I=qfr(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),M=I.show||S&&!this.state.exited;if(!M)return null;var P=g;if(P=LT.default.createElement(iFe.default,{container:i,containerPadding:o,target:a,placement:c,shouldUpdatePosition:p},P),S){var N=I.onExit,L=I.onExiting,q=I.onEnter,j=I.onEntering,B=I.onEntered;P=LT.default.createElement(S,{in:I.show,appear:!0,onExit:N,onExiting:L,onExited:this.onHiddenListener,onEnter:q,onEntering:j,onEntered:B},P)}return m&&(P=LT.default.createElement(oFe.default,{onRootClose:I.onHide,event:I.rootCloseEvent},P)),LT.default.createElement(nFe.default,{container:i},P)},t}(LT.default.Component);aFe.propTypes=Afr({},nFe.default.propTypes,iFe.default.propTypes,{show:Sd.default.bool,rootClose:Sd.default.bool,rootCloseEvent:oFe.default.propTypes.event,onHide:function(t){var r=Sd.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:Pfr.default,onEnter:Sd.default.func,onEntering:Sd.default.func,onEntered:Sd.default.func,onExit:Sd.default.func,onExiting:Sd.default.func,onExited:Sd.default.func});SR.default=aFe;sFe.exports=SR.default});var v8e=T((_Kr,Md)=>{function LK(e,t){return Md.exports=LK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Md.exports.__esModule=!0,Md.exports.default=Md.exports,LK(e,t)}Md.exports=LK,Md.exports.__esModule=!0,Md.exports.default=Md.exports});var NK=T((xKr,e2)=>{var Gpr=v8e();function Hpr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gpr(e,t)}e2.exports=Hpr,e2.exports.__esModule=!0,e2.exports.default=e2.exports});var kK=T(RK=>{"use strict";Object.defineProperty(RK,"__esModule",{value:!0});function Wpr(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function $pr(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var Zpr=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=$pr(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var a=this.tags[this.tags.length-1];if(this.isSpeedy){var c=Wpr(a);try{var p=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;c.insertRule(n,p?0:c.cssRules.length)}catch(m){}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();RK.StyleSheet=Zpr});var y8e=T(qK=>{"use strict";Object.defineProperty(qK,"__esModule",{value:!0});function Ypr(e){function t(Ge,Ke,it,Le,he){for(var Be=0,Me=0,tt=0,Je=0,xt,bt,yt=0,Te=0,pt,Vt=pt=xt=0,dt=0,Zt=0,ur=0,Gt=0,pr=it.length,Wr=pr-1,$r,cr="",pn="",ut="",Pi="",kn;dt<pr;){if(bt=it.charCodeAt(dt),dt===Wr&&Me+Je+tt+Be!==0&&(Me!==0&&(bt=Me===47?10:47),Je=tt=Be=0,pr++,Wr++),Me+Je+tt+Be===0){if(dt===Wr&&(0<Zt&&(cr=cr.replace(I,"")),0<cr.trim().length)){switch(bt){case 32:case 9:case 59:case 13:case 10:break;default:cr+=it.charAt(dt);}bt=59}switch(bt){case 123:for(cr=cr.trim(),xt=cr.charCodeAt(0),pt=1,Gt=++dt;dt<pr;){switch(bt=it.charCodeAt(dt)){case 123:pt++;break;case 125:pt--;break;case 47:switch(bt=it.charCodeAt(dt+1)){case 42:case 47:e:{for(Vt=dt+1;Vt<Wr;++Vt)switch(it.charCodeAt(Vt)){case 47:if(bt===42&&it.charCodeAt(Vt-1)===42&&dt+2!==Vt){dt=Vt+1;break e}break;case 10:if(bt===47){dt=Vt+1;break e}}dt=Vt}}break;case 91:bt++;case 40:bt++;case 34:case 39:for(;dt++<Wr&&it.charCodeAt(dt)!==bt;);}if(pt===0)break;dt++}switch(pt=it.substring(Gt,dt),xt===0&&(xt=(cr=cr.replace(S,"").trim()).charCodeAt(0)),xt){case 64:switch(0<Zt&&(cr=cr.replace(I,"")),bt=cr.charCodeAt(1),bt){case 100:case 109:case 115:case 45:Zt=Ke;break;default:Zt=Fe;}if(pt=t(Ke,Zt,pt,bt,he+1),Gt=pt.length,0<Ce&&(Zt=r(Fe,cr,ur),kn=c(3,pt,Zt,Ke,Ie,Re,Gt,bt,he,Le),cr=Zt.join(""),kn!==void 0&&(Gt=(pt=kn.trim()).length)===0&&(bt=0,pt="")),0<Gt)switch(bt){case 115:cr=cr.replace(ee,a);case 100:case 109:case 45:pt=cr+"{"+pt+"}";break;case 107:cr=cr.replace(j,"$1 $2"),pt=cr+"{"+pt+"}",pt=$e===1||$e===2&&o("@"+pt,3)?"@-webkit-"+pt+"@"+pt:"@"+pt;break;default:pt=cr+pt,Le===112&&(pt=(pn+=pt,""));}else pt="";break;default:pt=t(Ke,r(Ke,cr,ur),pt,Le,he+1);}ut+=pt,pt=ur=Zt=Vt=xt=0,cr="",bt=it.charCodeAt(++dt);break;case 125:case 59:if(cr=(0<Zt?cr.replace(I,""):cr).trim(),1<(Gt=cr.length))switch(Vt===0&&(xt=cr.charCodeAt(0),xt===45||96<xt&&123>xt)&&(Gt=(cr=cr.replace(" ",":")).length),0<Ce&&(kn=c(1,cr,Ke,Ge,Ie,Re,pn.length,Le,he,Le))!==void 0&&(Gt=(cr=kn.trim()).length)===0&&(cr="\0\0"),xt=cr.charCodeAt(0),bt=cr.charCodeAt(1),xt){case 0:break;case 64:if(bt===105||bt===99){Pi+=cr+it.charAt(dt);break}default:cr.charCodeAt(Gt-1)!==58&&(pn+=i(cr,xt,bt,cr.charCodeAt(2)));}ur=Zt=Vt=xt=0,cr="",bt=it.charCodeAt(++dt);}}switch(bt){case 13:case 10:Me===47?Me=0:1+xt===0&&Le!==107&&0<cr.length&&(Zt=1,cr+="\0"),0<Ce*et&&c(0,cr,Ke,Ge,Ie,Re,pn.length,Le,he,Le),Re=1,Ie++;break;case 59:case 125:if(Me+Je+tt+Be===0){Re++;break}default:switch(Re++,$r=it.charAt(dt),bt){case 9:case 32:if(Je+Be+Me===0)switch(yt){case 44:case 58:case 9:case 32:$r="";break;default:bt!==32&&($r=" ");}break;case 0:$r="\\0";break;case 12:$r="\\f";break;case 11:$r="\\v";break;case 38:Je+Me+Be===0&&(Zt=ur=1,$r="\f"+$r);break;case 108:if(Je+Me+Be+We===0&&0<Vt)switch(dt-Vt){case 2:yt===112&&it.charCodeAt(dt-3)===58&&(We=yt);case 8:Te===111&&(We=Te);}break;case 58:Je+Me+Be===0&&(Vt=dt);break;case 44:Me+tt+Je+Be===0&&(Zt=1,$r+="\r");break;case 34:case 39:Me===0&&(Je=Je===bt?0:Je===0?bt:Je);break;case 91:Je+Me+tt===0&&Be++;break;case 93:Je+Me+tt===0&&Be--;break;case 41:Je+Me+Be===0&&tt--;break;case 40:if(Je+Me+Be===0){if(xt===0)switch(2*yt+3*Te){case 533:break;default:xt=1;}tt++}break;case 64:Me+tt+Je+Be+Vt+pt===0&&(pt=1);break;case 42:case 47:if(!(0<Je+Be+tt))switch(Me){case 0:switch(2*bt+3*it.charCodeAt(dt+1)){case 235:Me=47;break;case 220:Gt=dt,Me=42;}break;case 42:bt===47&&yt===42&&Gt+2!==dt&&(it.charCodeAt(Gt+2)===33&&(pn+=it.substring(Gt,dt+1)),$r="",Me=0);}}Me===0&&(cr+=$r);}Te=yt,yt=bt,dt++}if(Gt=pn.length,0<Gt){if(Zt=Ke,0<Ce&&(kn=c(2,pn,Zt,Ge,Ie,Re,Gt,Le,he,Le),kn!==void 0&&(pn=kn).length===0))return Pi+pn+ut;if(pn=Zt.join(",")+"{"+pn+"}",$e*We!==0){switch($e!==2||o(pn,2)||(We=0),We){case 111:pn=pn.replace(H,":-moz-$1")+pn;break;case 112:pn=pn.replace(B,"::-webkit-input-$1")+pn.replace(B,"::-moz-$1")+pn.replace(B,":-ms-input-$1")+pn;}We=0}}return Pi+pn+ut}function r(Ge,Ke,it){var Le=Ke.trim().split(L);Ke=Le;var he=Le.length,Be=Ge.length;switch(Be){case 0:case 1:var Me=0;for(Ge=Be===0?"":Ge[0]+" ";Me<he;++Me)Ke[Me]=n(Ge,Ke[Me],it).trim();break;default:var tt=Me=0;for(Ke=[];Me<he;++Me)for(var Je=0;Je<Be;++Je)Ke[tt++]=n(Ge[Je]+" ",Le[Me],it).trim();}return Ke}function n(Ge,Ke,it){var Le=Ke.charCodeAt(0);switch(33>Le&&(Le=(Ke=Ke.trim()).charCodeAt(0)),Le){case 38:return Ke.replace(q,"$1"+Ge.trim());case 58:return Ge.trim()+Ke.replace(q,"$1"+Ge.trim());default:if(0<1*it&&0<Ke.indexOf("\f"))return Ke.replace(q,(Ge.charCodeAt(0)===58?"":"$1")+Ge.trim());}return Ge+Ke}function i(Ge,Ke,it,Le){var he=Ge+";",Be=2*Ke+3*it+4*Le;if(Be===944){Ge=he.indexOf(":",9)+1;var Me=he.substring(Ge,he.length-1).trim();return Me=he.substring(0,Ge).trim()+Me+";",$e===1||$e===2&&o(Me,1)?"-webkit-"+Me+Me:Me}if($e===0||$e===2&&!o(he,1))return he;switch(Be){case 1015:return he.charCodeAt(10)===97?"-webkit-"+he+he:he;case 951:return he.charCodeAt(3)===116?"-webkit-"+he+he:he;case 963:return he.charCodeAt(5)===110?"-webkit-"+he+he:he;case 1009:if(he.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+he+he;case 978:return"-webkit-"+he+"-moz-"+he+he;case 1019:case 983:return"-webkit-"+he+"-moz-"+he+"-ms-"+he+he;case 883:if(he.charCodeAt(8)===45)return"-webkit-"+he+he;if(0<he.indexOf("image-set(",11))return he.replace(Ee,"$1-webkit-$2")+he;break;case 932:if(he.charCodeAt(4)===45)switch(he.charCodeAt(5)){case 103:return"-webkit-box-"+he.replace("-grow","")+"-webkit-"+he+"-ms-"+he.replace("grow","positive")+he;case 115:return"-webkit-"+he+"-ms-"+he.replace("shrink","negative")+he;case 98:return"-webkit-"+he+"-ms-"+he.replace("basis","preferred-size")+he;}return"-webkit-"+he+"-ms-"+he+he;case 964:return"-webkit-"+he+"-ms-flex-"+he+he;case 1023:if(he.charCodeAt(8)!==99)break;return Me=he.substring(he.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Me+"-webkit-"+he+"-ms-flex-pack"+Me+he;case 1005:return P.test(he)?he.replace(M,":-webkit-")+he.replace(M,":-moz-")+he:he;case 1e3:switch(Me=he.substring(13).trim(),Ke=Me.indexOf("-")+1,Me.charCodeAt(0)+Me.charCodeAt(Ke)){case 226:Me=he.replace(Q,"tb");break;case 232:Me=he.replace(Q,"tb-rl");break;case 220:Me=he.replace(Q,"lr");break;default:return he;}return"-webkit-"+he+"-ms-"+Me+he;case 1017:if(he.indexOf("sticky",9)===-1)break;case 975:switch(Ke=(he=Ge).length-10,Me=(he.charCodeAt(Ke)===33?he.substring(0,Ke):he).substring(Ge.indexOf(":",7)+1).trim(),Be=Me.charCodeAt(0)+(Me.charCodeAt(7)|0)){case 203:if(111>Me.charCodeAt(8))break;case 115:he=he.replace(Me,"-webkit-"+Me)+";"+he;break;case 207:case 102:he=he.replace(Me,"-webkit-"+(102<Be?"inline-":"")+"box")+";"+he.replace(Me,"-webkit-"+Me)+";"+he.replace(Me,"-ms-"+Me+"box")+";"+he;}return he+";";case 938:if(he.charCodeAt(5)===45)switch(he.charCodeAt(6)){case 105:return Me=he.replace("-items",""),"-webkit-"+he+"-webkit-box-"+Me+"-ms-flex-"+Me+he;case 115:return"-webkit-"+he+"-ms-flex-item-"+he.replace(de,"")+he;default:return"-webkit-"+he+"-ms-flex-line-pack"+he.replace("align-content","").replace(de,"")+he;}break;case 973:case 989:if(he.charCodeAt(3)!==45||he.charCodeAt(4)===122)break;case 931:case 953:if(be.test(Ge)===!0)return(Me=Ge.substring(Ge.indexOf(":")+1)).charCodeAt(0)===115?i(Ge.replace("stretch","fill-available"),Ke,it,Le).replace(":fill-available",":stretch"):he.replace(Me,"-webkit-"+Me)+he.replace(Me,"-moz-"+Me.replace("fill-",""))+he;break;case 962:if(he="-webkit-"+he+(he.charCodeAt(5)===102?"-ms-"+he:"")+he,it+Le===211&&he.charCodeAt(13)===105&&0<he.indexOf("transform",10))return he.substring(0,he.indexOf(";",27)+1).replace(N,"$1-webkit-$2")+he;}return he}function o(Ge,Ke){var it=Ge.indexOf(Ke===1?":":"{"),Le=Ge.substring(0,Ke!==3?it:10);return it=Ge.substring(it+1,Ge.length-1),Xe(Ke!==2?Le:Le.replace(ue,"$1"),it,Ke)}function a(Ge,Ke){var it=i(Ke,Ke.charCodeAt(0),Ke.charCodeAt(1),Ke.charCodeAt(2));return it!==Ke+";"?it.replace(ne," or ($1)").substring(4):"("+Ke+")"}function c(Ge,Ke,it,Le,he,Be,Me,tt,Je,xt){for(var bt=0,yt=Ke,Te;bt<Ce;++bt)switch(Te=je[bt].call(g,Ge,yt,it,Le,he,Be,Me,tt,Je,xt)){case void 0:case!1:case!0:case null:break;default:yt=Te;}if(yt!==Ke)return yt}function p(Ge){switch(Ge){case void 0:case null:Ce=je.length=0;break;default:if(typeof Ge=="function")je[Ce++]=Ge;else if(typeof Ge=="object")for(var Ke=0,it=Ge.length;Ke<it;++Ke)p(Ge[Ke]);else et=!!Ge|0;}return p}function m(Ge){return Ge=Ge.prefix,Ge!==void 0&&(Xe=null,Ge?typeof Ge!="function"?$e=1:($e=2,Xe=Ge):$e=0),m}function g(Ge,Ke){var it=Ge;if(33>it.charCodeAt(0)&&(it=it.trim()),st=it,it=[st],0<Ce){var Le=c(-1,Ke,it,it,Ie,Re,0,0,0,0);Le!==void 0&&typeof Le=="string"&&(Ke=Le)}var he=t(Fe,it,Ke,0,0);return 0<Ce&&(Le=c(-2,he,it,it,Ie,Re,he.length,0,0,0),Le!==void 0&&(he=Le)),st="",We=0,Re=Ie=1,he}var S=/^\0+/g,I=/[\0\r\f]/g,M=/: */g,P=/zoo|gra/,N=/([,: ])(transform)/g,L=/,\r+?/g,q=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,B=/::(place)/g,H=/:(read-only)/g,Q=/[svh]\w+-[tblr]{2}/,ee=/\(\s*(.*)\s*\)/g,ne=/([\s\S]*?);/g,de=/-self|flex-/g,ue=/[^]*?(:[rp][el]a[\w-]+)[^]*/,be=/stretch|:\s*\w+\-(?:conte|avail)/,Ee=/([^-])(image-set\()/,Re=1,Ie=1,We=0,$e=1,Fe=[],je=[],Ce=0,Xe=null,et=0,st="";return g.use=p,g.set=m,e!==void 0&&m(e),g}qK.default=Ypr});var _8e=T(jK=>{"use strict";Object.defineProperty(jK,"__esModule",{value:!0});var Kpr=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};jK.default=Kpr});var BK=T(FK=>{"use strict";Object.defineProperty(FK,"__esModule",{value:!0});function Xpr(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Qpr=kK(),Jpr=Xpr(y8e());_8e();var zK="/*|*/",edr=zK+"}";function tdr(e){e&&YR.current.insert(e+"}")}var YR={current:null},rdr=function(t,r,n,i,o,a,c,p,m,g){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return YR.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return"";}break}case 2:{if(p===0)return r+zK;break}case 3:switch(p){case 102:case 112:return YR.current.insert(n[0]+r),"";default:return r+(g===0?zK:"");}case-2:r.split(edr).forEach(tdr);}},ndr=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new Jpr(n),o={},a;{a=t.container||document.head;var c=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(c,function(I){var M=I.getAttribute("data-emotion-"+r);M.split(" ").forEach(function(P){o[P]=!0}),I.parentNode!==a&&a.appendChild(I)})}var p;if(i.use(t.stylisPlugins)(rdr),p=function(M,P,N,L){var q=P.name;if(YR.current=N,0)var j;i(M,P.styles),L&&(S.inserted[q]=!0)},0)var m,g;var S={key:r,sheet:new Qpr.StyleSheet({key:r,container:a,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:p};return S};FK.default=ndr});var UK=T(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});var idr=!0;function odr(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var adr=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||idr===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var a=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};KR.getRegisteredStyles=odr;KR.insertStyles=adr});var x8e=T(VK=>{"use strict";Object.defineProperty(VK,"__esModule",{value:!0});function sdr(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16);}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}VK.default=sdr});var b8e=T(GK=>{"use strict";Object.defineProperty(GK,"__esModule",{value:!0});var ldr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};GK.default=ldr});var w8e=T(HK=>{"use strict";Object.defineProperty(HK,"__esModule",{value:!0});function udr(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}HK.default=udr});var XR=T(ZK=>{"use strict";Object.defineProperty(ZK,"__esModule",{value:!0});function $K(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var cdr=$K(x8e()),fdr=$K(b8e()),pdr=$K(w8e()),ddr=/[A-Z]|^ms/g,hdr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,T8e=function(t){return t.charCodeAt(1)===45},S8e=function(t){return t!=null&&typeof t!="boolean"},WK=pdr(function(e){return T8e(e)?e:e.replace(ddr,"-$&").toLowerCase()}),E8e=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(hdr,function(n,i,o){return Zf={name:i,styles:o,next:Zf},i});}return fdr[t]!==1&&!T8e(t)&&typeof r=="number"&&r!==0?r+"px":r};function t2(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Zf={name:r.name,styles:r.styles,next:Zf},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Zf={name:i.name,styles:i.styles,next:Zf},i=i.next;var o=r.styles+";";return o}return mdr(e,t,r)}case"function":{if(e!==void 0){var a=Zf,c=r(e);return Zf=a,t2(e,t,c,n)}break}case"string":if(0)var p,m;break;}if(t==null)return r;var g=t[r];return g!==void 0&&!n?g:r}function mdr(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=t2(e,t,r[i],!1);else for(var o in r){var a=r[o];if(typeof a!="object")t!=null&&t[a]!==void 0?n+=o+"{"+t[a]+"}":S8e(a)&&(n+=WK(o)+":"+E8e(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)S8e(a[c])&&(n+=WK(o)+":"+E8e(o,a[c])+";");else{var p=t2(e,t,a,!1);switch(o){case"animation":case"animationName":{n+=WK(o)+":"+p+";";break}default:n+=o+"{"+p+"}";}}}return n}var I8e=/label:\s*([^\s;\n{]+)\s*;/g,Zf,gdr=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Zf=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=t2(n,r,a,!1)):o+=a[0];for(var c=1;c<t.length;c++)o+=t2(n,r,t[c],o.charCodeAt(o.length-1)===46),i&&(o+=a[c]);var p;I8e.lastIndex=0;for(var m="",g;(g=I8e.exec(o))!==null;)m+="-"+g[1];var S=cdr(o)+m;return{name:S,styles:o,next:Zf}};ZK.serializeStyles=gdr});var P8e=T(Ey=>{"use strict";NK();var Ad=De(),vdr=BK(),C8e=UK(),ydr=XR();function _dr(e){return e&&e.__esModule?e:{default:e}}var xdr=_dr(vdr),KK=Object.prototype.hasOwnProperty,A8e=Ad.createContext(typeof HTMLElement!="undefined"?xdr.default():null),O8e=Ad.createContext({}),bdr=A8e.Provider,D8e=function(t){var r=function(i,o){return Ad.createElement(A8e.Consumer,null,function(a){return t(i,a,o)})};return Ad.forwardRef(r)},YK="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wdr=function(t,r){var n={};for(var i in r)KK.call(r,i)&&(n[i]=r[i]);if(n[YK]=t,0){var o;if(o.stack)var a}return n},Sdr=function(){return null},M8e=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var a=r[YK],c=[o],p="";typeof r.className=="string"?p=C8e.getRegisteredStyles(t.registered,c,r.className):r.className!=null&&(p=r.className+" ");var m=ydr.serializeStyles(c);if(0)var g;var S=C8e.insertStyles(t,m,typeof a=="string");p+=t.key+"-"+m.name;var I={};for(var M in r)KK.call(r,M)&&M!=="css"&&M!==YK&&(I[M]=r[M]);I.ref=i,I.className=p;var P=Ad.createElement(a,I),N=Ad.createElement(Sdr,null);return Ad.createElement(Ad.Fragment,null,N,P)},Edr=D8e(function(e,t,r){return typeof e.css=="function"?Ad.createElement(O8e.Consumer,null,function(n){return M8e(t,e,n,r)}):M8e(t,e,null,r)});Ey.CacheProvider=bdr;Ey.Emotion=Edr;Ey.ThemeContext=O8e;Ey.createEmotionProps=wdr;Ey.hasOwnProperty=KK;Ey.withEmotionCache=D8e});var L8e=T(XK=>{"use strict";Object.defineProperty(XK,"__esModule",{value:!0});var Idr=XR();function Tdr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Idr.serializeStyles(t)}XK.default=Tdr});var j8e=T(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});var Cdr=NK(),Yf=De();BK();var Kf=P8e(),JK=UK(),QK=XR(),Mdr=kK(),Adr=L8e();function R8e(e){return e&&e.__esModule?e:{default:e}}var Odr=R8e(Cdr),k8e=R8e(Adr),q8e=function(t,r){var n=arguments;if(r==null||!Kf.hasOwnProperty.call(r,"css"))return Yf.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Kf.Emotion,o[1]=Kf.createEmotionProps(t,r);for(var a=2;a<i;a++)o[a]=n[a];return Yf.createElement.apply(null,o)},Ddr=Kf.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Yf.createElement(Kf.ThemeContext.Consumer,null,function(i){var o=QK.serializeStyles([r(i)]);return Yf.createElement(N8e,{serialized:o,cache:t})});var n=QK.serializeStyles([r]);return Yf.createElement(N8e,{serialized:n,cache:t})}),N8e=function(e){Odr.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Mdr.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&JK.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Yf.Component),Pdr=function(){var t=k8e.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ldr=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var a=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))a=e(o);else{a="";for(var c in o)o[c]&&c&&(a&&(a+=" "),a+=c)}break}default:a=o;}a&&(i&&(i+=" "),i+=a)}}return i};function Ndr(e,t,r){var n=[],i=JK.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var Rdr=function(){return null},kdr=Kf.withEmotionCache(function(e,t){return Yf.createElement(Kf.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var g=arguments.length,S=new Array(g),I=0;I<g;I++)S[I]=arguments[I];var M=QK.serializeStyles(S,t.registered);return JK.insertStyles(t,M,!1),t.key+"-"+M.name},o=function(){for(var g=arguments.length,S=new Array(g),I=0;I<g;I++)S[I]=arguments[I];return Ndr(t.registered,i,Ldr(S))},a={css:i,cx:o,theme:r},c=e.children(a);n=!0;var p=Yf.createElement(Rdr,null);return Yf.createElement(Yf.Fragment,null,p,c)})});Qc.CacheProvider=Kf.CacheProvider;Qc.ThemeContext=Kf.ThemeContext;Qc.withEmotionCache=Kf.withEmotionCache;Object.defineProperty(Qc,"css",{enumerable:!0,get:function(){return k8e.default}});Qc.ClassNames=kdr;Qc.Global=Ddr;Qc.createElement=q8e;Qc.jsx=q8e;Qc.keyframes=Pdr});var H8e=T(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=G8e;Jc.skeletonStyles=Jc.skeletonKeyframes=Jc.defaultHighlightColor=Jc.defaultBaseColor=void 0;var LKr=qdr(De()),Ix=j8e();function qdr(e){return e&&e.__esModule?e:{default:e}}function z8e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jdr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8e(r,!0).forEach(function(n){zdr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8e(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zdr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8e(){var e=Fdr([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return F8e=function(){return e},e}function Fdr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QR="#eee";Jc.defaultBaseColor=QR;var B8e="#f5f5f5";Jc.defaultHighlightColor=B8e;var U8e=function(t,r){return(0,Ix.keyframes)(F8e(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Jc.skeletonKeyframes=U8e;var V8e=(0,Ix.css)("background-color:",QR,";background-image:linear-gradient( 90deg,",QR,",",B8e,",",QR," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Jc.skeletonStyles=V8e;function G8e(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,a=e.circle,c=e.delay,p=e.style,m=e.className,g=[],S=0;S<t;S++){var I={};n!==null&&(I.width=n),o!==null&&(I.height=o),n!==null&&o!==null&&a&&(I.borderRadius="50%");var M="react-loading-skeleton";m&&(M+=" "+m),g.push((0,Ix.jsx)("span",{key:S,className:M,css:(0,Ix.css)(V8e," animation:",U8e(r,c)," ",r+c,"s ease-in-out infinite;label:Skeleton;"),style:jdr({},p,{},I)},"\u200C"))}return(0,Ix.jsx)("span",null,i?g.map(function(P,N){return(0,Ix.jsx)(i,{key:N},P,"\u200C")}):g)}G8e.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var AUe=T(pi=>{"use strict";var sa=typeof Symbol=="function"&&Symbol.for,qX=sa?Symbol.for("react.element"):60103,jX=sa?Symbol.for("react.portal"):60106,g3=sa?Symbol.for("react.fragment"):60107,v3=sa?Symbol.for("react.strict_mode"):60108,y3=sa?Symbol.for("react.profiler"):60114,_3=sa?Symbol.for("react.provider"):60109,x3=sa?Symbol.for("react.context"):60110,zX=sa?Symbol.for("react.async_mode"):60111,b3=sa?Symbol.for("react.concurrent_mode"):60111,w3=sa?Symbol.for("react.forward_ref"):60112,S3=sa?Symbol.for("react.suspense"):60113,Tmr=sa?Symbol.for("react.suspense_list"):60120,E3=sa?Symbol.for("react.memo"):60115,I3=sa?Symbol.for("react.lazy"):60116,Cmr=sa?Symbol.for("react.block"):60121,Mmr=sa?Symbol.for("react.fundamental"):60117,Amr=sa?Symbol.for("react.responder"):60118,Omr=sa?Symbol.for("react.scope"):60119;function lu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qX:switch(e=e.type,e){case zX:case b3:case g3:case y3:case v3:case S3:return e;default:switch(e=e&&e.$$typeof,e){case x3:case w3:case I3:case E3:case _3:return e;default:return t;}}case jX:return t;}}}function MUe(e){return lu(e)===b3}pi.AsyncMode=zX;pi.ConcurrentMode=b3;pi.ContextConsumer=x3;pi.ContextProvider=_3;pi.Element=qX;pi.ForwardRef=w3;pi.Fragment=g3;pi.Lazy=I3;pi.Memo=E3;pi.Portal=jX;pi.Profiler=y3;pi.StrictMode=v3;pi.Suspense=S3;pi.isAsyncMode=function(e){return MUe(e)||lu(e)===zX};pi.isConcurrentMode=MUe;pi.isContextConsumer=function(e){return lu(e)===x3};pi.isContextProvider=function(e){return lu(e)===_3};pi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qX};pi.isForwardRef=function(e){return lu(e)===w3};pi.isFragment=function(e){return lu(e)===g3};pi.isLazy=function(e){return lu(e)===I3};pi.isMemo=function(e){return lu(e)===E3};pi.isPortal=function(e){return lu(e)===jX};pi.isProfiler=function(e){return lu(e)===y3};pi.isStrictMode=function(e){return lu(e)===v3};pi.isSuspense=function(e){return lu(e)===S3};pi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===g3||e===b3||e===y3||e===v3||e===S3||e===Tmr||typeof e=="object"&&e!==null&&(e.$$typeof===I3||e.$$typeof===E3||e.$$typeof===_3||e.$$typeof===x3||e.$$typeof===w3||e.$$typeof===Mmr||e.$$typeof===Amr||e.$$typeof===Omr||e.$$typeof===Cmr)};pi.typeOf=lu});var DUe=T((Ksn,OUe)=>{"use strict";OUe.exports=AUe()});var M9e=T(L2=>{"use strict";kM();var Jgr=De(),T9e=60103;L2.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(CQ=Symbol.for,T9e=CQ("react.element"),L2.Fragment=CQ("react.fragment"));var CQ,evr=Jgr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tvr=Object.prototype.hasOwnProperty,rvr={key:!0,ref:!0,__self:!0,__source:!0};function C9e(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)tvr.call(t,n)&&!rvr.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:T9e,type:e,key:o,ref:a,props:i,_owner:evr.current}}L2.jsx=C9e;L2.jsxs=C9e});var O9e=T((gdn,A9e)=>{"use strict";A9e.exports=M9e()});var cGe=T((Xmn,uGe)=>{"use strict";uGe.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var xHe=T(Ii=>{"use strict";var Nk=60103,Rk=60106,H2=60107,W2=60108,$2=60114,Z2=60109,Y2=60110,K2=60112,X2=60113,UQ=60120,Q2=60115,J2=60116,mHe=60121,gHe=60122,vHe=60117,yHe=60129,_He=60131;typeof Symbol=="function"&&Symbol.for&&(la=Symbol.for,Nk=la("react.element"),Rk=la("react.portal"),H2=la("react.fragment"),W2=la("react.strict_mode"),$2=la("react.profiler"),Z2=la("react.provider"),Y2=la("react.context"),K2=la("react.forward_ref"),X2=la("react.suspense"),UQ=la("react.suspense_list"),Q2=la("react.memo"),J2=la("react.lazy"),mHe=la("react.block"),gHe=la("react.server.block"),vHe=la("react.fundamental"),yHe=la("react.debug_trace_mode"),_He=la("react.legacy_hidden"));var la;function nf(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nk:switch(e=e.type,e){case H2:case $2:case W2:case X2:case UQ:return e;default:switch(e=e&&e.$$typeof,e){case Y2:case K2:case J2:case Q2:case Z2:return e;default:return t;}}case Rk:return t;}}}var qyr=Z2,jyr=Nk,zyr=K2,Fyr=H2,Byr=J2,Uyr=Q2,Vyr=Rk,Gyr=$2,Hyr=W2,Wyr=X2;Ii.ContextConsumer=Y2;Ii.ContextProvider=qyr;Ii.Element=jyr;Ii.ForwardRef=zyr;Ii.Fragment=Fyr;Ii.Lazy=Byr;Ii.Memo=Uyr;Ii.Portal=Vyr;Ii.Profiler=Gyr;Ii.StrictMode=Hyr;Ii.Suspense=Wyr;Ii.isAsyncMode=function(){return!1};Ii.isConcurrentMode=function(){return!1};Ii.isContextConsumer=function(e){return nf(e)===Y2};Ii.isContextProvider=function(e){return nf(e)===Z2};Ii.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nk};Ii.isForwardRef=function(e){return nf(e)===K2};Ii.isFragment=function(e){return nf(e)===H2};Ii.isLazy=function(e){return nf(e)===J2};Ii.isMemo=function(e){return nf(e)===Q2};Ii.isPortal=function(e){return nf(e)===Rk};Ii.isProfiler=function(e){return nf(e)===$2};Ii.isStrictMode=function(e){return nf(e)===W2};Ii.isSuspense=function(e){return nf(e)===X2};Ii.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===H2||e===$2||e===yHe||e===W2||e===X2||e===UQ||e===_He||typeof e=="object"&&e!==null&&(e.$$typeof===J2||e.$$typeof===Q2||e.$$typeof===Z2||e.$$typeof===Y2||e.$$typeof===K2||e.$$typeof===vHe||e.$$typeof===mHe||e[0]===gHe)};Ii.typeOf=nf});var wHe=T((Yyn,bHe)=>{"use strict";bHe.exports=xHe()});var Pbr={};Qre(Pbr,{SettingsProvider:()=>Obr,renderApp:()=>Dbr});var _Xe=J(De(),1),xXe=J(fo(),1),x5n=J(jLe(),1);var Ib=J(De(),1);var ns=J(De()),rNe=J(fo());function dKt(e){return!!e&&typeof e.then=="function"}var go=dKt;function hKt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var ei=hKt,LL=class{},mKt=new LL,VW={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return go(r)?R_(r.then(n=>({__value:n}))):GW(r)}catch(r){return go(r)?R_(r.next(()=>e(this.contents))):HW(r)}if(this.state==="loading")return R_(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(go(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function GW(e){return Object.freeze(xr(Qe({state:"hasValue",contents:e},VW),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function HW(e){return Object.freeze(xr(Qe({state:"hasError",contents:e},VW),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function R_(e){return Object.freeze(xr(Qe({state:"loading",contents:e},VW),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function gKt(){return R_(new Promise(()=>{}))}function vKt(e){return e.every(t=>t.state==="hasValue")?GW(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?HW(ei(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):R_(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var jI={loadableWithValue:GW,loadableWithError:HW,loadableWithPromise:R_,loadableLoading:gKt,loadableAll:vKt,Canceled:LL,CANCELED:mKt},SW,nNe=(SW=ns.default.useMutableSource)!==null&&SW!==void 0?SW:ns.default.unstable_useMutableSource;function yKt(){return nNe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var iNe={mutableSourceExists:yKt,useMutableSource:nNe},{mutableSourceExists:_Kt}=iNe,WW=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function $W(e){var t;return e==="recoil_early_rendering_2021"&&!_Kt()?!1:(t=WW.get(e))!==null&&t!==void 0?t:!1}$W.setPass=e=>{WW.set(e,!0)};$W.setFail=e=>{WW.set(e,!1)};var _i=$W;function xKt(e,t,{error:r}={}){return null}var bKt=xKt,qf=bKt;function wKt(e,t){let r=new Set(e);return r.add(t),r}function SKt(e,t){let r=new Set(e);return r.delete(t),r}function EKt(e,t,r){let n=new Map(e);return n.set(t,r),n}function IKt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function TKt(e,t){let r=new Map(e);return r.delete(t),r}function CKt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var oNe={setByAddingToSet:wKt,setByDeletingFromSet:SKt,mapBySettingInMap:EKt,mapByUpdatingInMap:IKt,mapByDeletingFromMap:TKt,mapByDeletingMultipleFromMap:CKt};function*MKt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var aNe=MKt;function AKt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var sNe=AKt;function OKt(e,...t){}var DKt=OKt,ZW=DKt;function Ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RI=class{constructor(t){Ln(this,"key",void 0),this.key=t}},NL=class extends RI{},RL=class extends RI{};function PKt(e){return e instanceof NL||e instanceof RL}var WL={AbstractRecoilValue:RI,RecoilState:NL,RecoilValueReadOnly:RL,isRecoilValue:PKt},LKt=WL.AbstractRecoilValue,NKt=WL.RecoilState,RKt=WL.RecoilValueReadOnly,kKt=WL.isRecoilValue,Tm=Object.freeze({__proto__:null,AbstractRecoilValue:LKt,RecoilState:NKt,RecoilValueReadOnly:RKt,isRecoilValue:kKt}),kL=class{},qKt=new kL,CW=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},Hv=new Map,YW=new Map;function jKt(e){return sNe(e,t=>ei(YW.get(t)))}function zKt(e){if(Hv.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}Hv.set(e.key,e);let t=e.set==null?new Tm.RecoilValueReadOnly(e.key):new Tm.RecoilState(e.key);return YW.set(e.key,t),t}var qL=class extends Error{};function FKt(e){let t=Hv.get(e);if(t==null)throw new qL(`Missing definition for RecoilValue: "${e}""`);return t}function BKt(e){return Hv.get(e)}var jL=new Map;function UKt(e){var t;if(!_i("recoil_memory_managament_2020"))return;let r=Hv.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;Hv.delete(e),(n=lNe(e))===null||n===void 0||n(),jL.delete(e)}}function VKt(e,t){_i("recoil_memory_managament_2020")&&(t===void 0?jL.delete(e):jL.set(e,t))}function lNe(e){return jL.get(e)}var Wu={nodes:Hv,recoilValues:YW,registerNode:zKt,getNode:FKt,getNodeMaybe:BKt,deleteNodeConfigIfPossible:UKt,setConfigDeletionHandler:VKt,getConfigDeletionHandler:lNe,recoilValuesForKeys:jKt,NodeMissingError:qL,DefaultValue:kL,DEFAULT_VALUE:qKt,RecoilValueNotReady:CW},zL=class{};function GKt(){return new zL}var $L={RetentionZone:zL,retentionZone:GKt},{setByAddingToSet:HKt}=oNe,{getNode:ZL,getNodeMaybe:WKt,recoilValuesForKeys:zLe}=Wu,{RetentionZone:FLe}=$L,$Kt=Object.freeze(new Set),MW=class extends Error{};function ZKt(e,t,r){if(!_i("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let a=n.get(o);a||n.set(o,a=new Set),a.add(t)}if(r instanceof FLe)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!_i("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function a(c){let p=o.get(c);p&&p.delete(t),p&&p.size===0&&o.delete(c)}if(r instanceof FLe)a(r);else if(Array.isArray(r))for(let c of r)a(c)}}function KW(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=ZL(r),a=ZKt(e,r,o.retainedBy),c=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{c(),a()})}function YKt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function KKt(e,t,r){return KW(e,t,r,"get"),ZL(r).get(e,t)}function uNe(e,t,r){return ZL(r).peek(e,t)}function XKt(e,t,r){var n;let i=WKt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),xr(Qe({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:HKt(e.dirtyAtoms,t)})}function QKt(e,t,r,n){let i=ZL(r);if(i.set==null)throw new MW(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return KW(e,t,r,"set"),o(e,t,n)}function JKt(e,t,r){var n,i,o;let a=e.getState(),c=e.getGraph(t.version),p=a.knownAtoms.has(r)?"atom":a.knownSelectors.has(r)?"selector":void 0,m=aNe(cNe(e,t,new Set([r])),g=>g!==r);return{loadable:uNe(e,t,r),isActive:a.knownAtoms.has(r)||a.knownSelectors.has(r),isSet:p==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:p,deps:zLe((n=c.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:zLe(m),components:sNe((i=(o=a.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([g])=>({name:g}))}}}function cNe(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let c=i.pop();c;c=i.pop()){var a;n.add(c);let p=(a=o.nodeToNodeSubscriptions.get(c))!==null&&a!==void 0?a:$Kt;for(let m of p)n.has(m)||i.push(m)}return n}var z_={getNodeLoadable:KKt,peekNodeLoadable:uNe,setNodeValue:QKt,cleanUpNode:YKt,setUnvalidatedAtomValue_DEPRECATED:XKt,peekNodeInfo:JKt,getDownstreamNodes:cNe,initializeNodeIfNewToStore:KW},{CANCELED:eXt}=jI,{getDownstreamNodes:tXt,getNodeLoadable:fNe,setNodeValue:rXt}=z_,{getNodeMaybe:pNe}=Wu,{DefaultValue:XW,RecoilValueNotReady:nXt}=Wu,{AbstractRecoilValue:iXt,RecoilState:oXt,RecoilValueReadOnly:aXt,isRecoilValue:sXt}=Tm;function lXt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||qf("Tried to read from a discarded tree");let a=fNe(e,r,t);return a.state==="loading"&&a.contents.catch(()=>eXt),a}function uXt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof XW?r.delete(i):r.set(i,n)}),r}function cXt(e,t,{key:r},n){if(typeof n=="function"){let i=fNe(e,t,r);if(i.state==="loading")throw new nXt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function fXt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,a=cXt(e,t,i,o),c=rXt(e,t,i.key,a);for(let[p,m]of c.entries())AW(t,p,m)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;AW(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,a=pNe(i);a==null||(n=a.invalidate)===null||n===void 0||n.call(a,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else qf(`Unknown action ${r.type}`)}function AW(e,t,r){r.state==="hasValue"&&r.contents instanceof XW?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function dNe(e,t){e.replaceState(r=>{let n=hNe(r);for(let i of t)fXt(e,n,i);return OW(e,n),n})}function YL(e,t){if(LI.length){let r=LI[LI.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else dNe(e,[t])}var LI=[];function pXt(){let e=new Map;return LI.push(e),()=>{for(let[r,n]of e)dNe(r,n);LI.pop()!==e&&qf("Incorrect order of batch popping")}}function hNe(e){return xr(Qe({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function OW(e,t){let r=tXt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=pNe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function mNe(e,t,r){YL(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function dXt(e,t,r){if(r instanceof XW)return mNe(e,t,r);YL(e,{type:"setLoadable",recoilValue:t,loadable:r})}function hXt(e,t){YL(e,{type:"markModified",recoilValue:t})}function mXt(e,t,r){YL(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var gXt=0;function vXt(e,{key:t},r,n=null){let i=gXt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),ei(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),_i("recoil_early_rendering_2021")){let a=e.getState().nextTree;a&&a.dirtyAtoms.has(t)&&r(a)}return{release:()=>{let a=e.getState(),c=a.nodeToComponentSubscriptions.get(t);if(c===void 0||!c.has(i)){qf(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}c.delete(i),c.size===0&&a.nodeToComponentSubscriptions.delete(t)}}}var Wv={RecoilValueReadOnly:aXt,AbstractRecoilValue:iXt,RecoilState:oXt,getRecoilValueAsLoadable:lXt,setRecoilValue:mNe,setRecoilValueLoadable:dXt,markRecoilValueModified:hXt,setUnvalidatedRecoilValue:mXt,subscribeToRecoilValue:vXt,isRecoilValue:sXt,applyAtomValueWrites:uXt,batchStart:pXt,writeLoadableToTreeState:AW,invalidateDownstreams:OW,copyTreeState:hNe,invalidateDownstreams_FOR_TESTING:OW},{unstable_batchedUpdates:yXt}=rNe.default,_Xt={unstable_batchedUpdates:yXt},{unstable_batchedUpdates:xXt}=_Xt,bXt={unstable_batchedUpdates:xXt},{batchStart:wXt}=Wv,{unstable_batchedUpdates:SXt}=bXt,QW=SXt,EXt=e=>{QW=e},IXt=()=>QW,TXt=e=>{QW(()=>{let t=()=>{};try{t=wXt(),e()}finally{t()}})},JW={getBatcher:IXt,setBatcher:EXt,batchUpdates:TXt};function CXt(e,t){t()}var MXt={enqueueExecution:CXt};function AXt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var FL=AXt;function OXt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var BL=OXt;function DXt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function PXt(e){return{nodeDeps:BL(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:BL(e.nodeToNodeSubscriptions,t=>new Set(t))}}function EW(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,a)=>{let c=n.get(a);if(c&&r&&c!==r.nodeDeps.get(a))return;n.set(a,new Set(o)),(c==null?o:FL(o,c)).forEach(m=>{i.has(m)||i.set(m,new Set),ei(i.get(m)).add(a)}),c&&FL(c,o).forEach(g=>{if(!i.has(g))return;let S=ei(i.get(g));S.delete(a),S.size===0&&i.delete(g)})})}function LXt(e,t,r){var n,i,o,a;let c=t.getState();r===c.currentTree.version||r===((n=c.nextTree)===null||n===void 0?void 0:n.version)||r===((i=c.previousTree)===null||i===void 0?void 0:i.version)||qf("Tried to save dependencies to a discarded tree");let p=t.getGraph(r);if(EW(e,p),r===((o=c.previousTree)===null||o===void 0?void 0:o.version)){let g=t.getGraph(c.currentTree.version);EW(e,g,p)}if(r===((a=c.previousTree)===null||a===void 0?void 0:a.version)||r===c.currentTree.version){var m;let g=(m=c.nextTree)===null||m===void 0?void 0:m.version;if(g!==void 0){let S=t.getGraph(g);EW(e,S,p)}}}function NXt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=ei(t.get(n));r.forEach(o=>i.add(o))})}function RXt(e,t,r){r.has(e)||r.set(e,new Set),ei(r.get(e)).add(t)}var zI={addToDependencyMap:RXt,cloneGraph:PXt,graph:DXt,mergeDepsIntoDependencyMap:NXt,saveDependencyMapToStore:LXt};function kXt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var qXt=kXt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},r={},n=5,i=Math.pow(2,n),o=i-1,a=i/2,c=i/4,p={},m=function(qe){return function(){return qe}},g=r.hash=function(Ae){var qe=typeof Ae=="undefined"?"undefined":t(Ae);if(qe==="number")return Ae;qe!=="string"&&(Ae+="");for(var ft=0,Rt=0,Nt=Ae.length;Rt<Nt;++Rt){var ae=Ae.charCodeAt(Rt);ft=(ft<<5)-ft+ae|0}return ft},S=function(qe){return qe-=qe>>1&1431655765,qe=(qe&858993459)+(qe>>2&858993459),qe=qe+(qe>>4)&252645135,qe+=qe>>8,qe+=qe>>16,qe&127},I=function(qe,ft){return ft>>>qe&o},M=function(qe){return 1<<qe},P=function(qe,ft){return S(qe&ft-1)},N=function(qe,ft,Rt,Nt){var ae=Nt;if(!qe){var $=Nt.length;ae=new Array($);for(var W=0;W<$;++W)ae[W]=Nt[W]}return ae[ft]=Rt,ae},L=function(qe,ft,Rt){var Nt=Rt.length-1,ae=0,$=0,W=Rt;if(qe)ae=$=ft;else for(W=new Array(Nt);ae<ft;)W[$++]=Rt[ae++];for(++ae;ae<=Nt;)W[$++]=Rt[ae++];return qe&&(W.length=Nt),W},q=function(qe,ft,Rt,Nt){var ae=Nt.length;if(qe){for(var $=ae;$>=ft;)Nt[$--]=Nt[$];return Nt[ft]=Rt,Nt}for(var W=0,K=0,se=new Array(ae+1);W<ft;)se[K++]=Nt[W++];for(se[ft]=Rt;W<ae;)se[++K]=Nt[W++];return se},j=1,B=2,H=3,Q=4,ee={__hamt_isEmpty:!0},ne=function(qe){return qe===ee||qe&&qe.__hamt_isEmpty},de=function(qe,ft,Rt,Nt){return{type:j,edit:qe,hash:ft,key:Rt,value:Nt,_modify:Ce}},ue=function(qe,ft,Rt){return{type:B,edit:qe,hash:ft,children:Rt,_modify:Xe}},be=function(qe,ft,Rt){return{type:H,edit:qe,mask:ft,children:Rt,_modify:et}},Ee=function(qe,ft,Rt){return{type:Q,edit:qe,size:ft,children:Rt,_modify:st}},Re=function(qe){return qe===ee||qe.type===j||qe.type===B},Ie=function(qe,ft,Rt,Nt,ae){for(var $=[],W=Nt,K=0,se=0;W;++se)W&1&&($[se]=ae[K++]),W>>>=1;return $[ft]=Rt,Ee(qe,K+1,$)},We=function(qe,ft,Rt,Nt){for(var ae=new Array(ft-1),$=0,W=0,K=0,se=Nt.length;K<se;++K)if(K!==Rt){var _e=Nt[K];_e&&!ne(_e)&&(ae[$++]=_e,W|=1<<K)}return be(qe,W,ae)},$e=function Ae(qe,ft,Rt,Nt,ae,$){if(Rt===ae)return ue(qe,Rt,[$,Nt]);var W=I(ft,Rt),K=I(ft,ae);return be(qe,M(W)|M(K),W===K?[Ae(qe,ft+n,Rt,Nt,ae,$)]:W<K?[Nt,$]:[$,Nt])},Fe=function(qe,ft,Rt,Nt,ae,$,W,K){for(var se=ae.length,_e=0;_e<se;++_e){var Se=ae[_e];if(Rt(W,Se.key)){var Pe=Se.value,ve=$(Pe);return ve===Pe?ae:ve===p?(--K.value,L(qe,_e,ae)):N(qe,_e,de(ft,Nt,W,ve),ae)}}var Ze=$();return Ze===p?ae:(++K.value,N(qe,se,de(ft,Nt,W,Ze),ae))},je=function(qe,ft){return qe===ft.edit},Ce=function(qe,ft,Rt,Nt,ae,$,W){if(ft($,this.key)){var K=Nt(this.value);return K===this.value?this:K===p?(--W.value,ee):je(qe,this)?(this.value=K,this):de(qe,ae,$,K)}var se=Nt();return se===p?this:(++W.value,$e(qe,Rt,this.hash,this,ae,de(qe,ae,$,se)))},Xe=function(qe,ft,Rt,Nt,ae,$,W){if(ae===this.hash){var K=je(qe,this),se=Fe(K,qe,ft,this.hash,this.children,Nt,$,W);return se===this.children?this:se.length>1?ue(qe,this.hash,se):se[0]}var _e=Nt();return _e===p?this:(++W.value,$e(qe,Rt,this.hash,this,ae,de(qe,ae,$,_e)))},et=function(qe,ft,Rt,Nt,ae,$,W){var K=this.mask,se=this.children,_e=I(Rt,ae),Se=M(_e),Pe=P(K,Se),ve=K&Se,Ze=ve?se[Pe]:ee,ot=Ze._modify(qe,ft,Rt+n,Nt,ae,$,W);if(Ze===ot)return this;var He=je(qe,this),gt=K,Kt=void 0;if(ve&&ne(ot)){if(gt&=~Se,!gt)return ee;if(se.length<=2&&Re(se[Pe^1]))return se[Pe^1];Kt=L(He,Pe,se)}else if(!ve&&!ne(ot)){if(se.length>=a)return Ie(qe,_e,ot,K,se);gt|=Se,Kt=q(He,Pe,ot,se)}else Kt=N(He,Pe,ot,se);return He?(this.mask=gt,this.children=Kt,this):be(qe,gt,Kt)},st=function(qe,ft,Rt,Nt,ae,$,W){var K=this.size,se=this.children,_e=I(Rt,ae),Se=se[_e],Pe=(Se||ee)._modify(qe,ft,Rt+n,Nt,ae,$,W);if(Se===Pe)return this;var ve=je(qe,this),Ze=void 0;if(ne(Se)&&!ne(Pe))++K,Ze=N(ve,_e,Pe,se);else if(!ne(Se)&&ne(Pe)){if(--K,K<=c)return We(qe,K,_e,se);Ze=N(ve,_e,ee,se)}else Ze=N(ve,_e,Pe,se);return ve?(this.size=K,this.children=Ze,this):Ee(qe,K,Ze)};ee._modify=function(Ae,qe,ft,Rt,Nt,ae,$){var W=Rt();return W===p?ee:(++$.value,de(Ae,Nt,ae,W))};function Ge(Ae,qe,ft,Rt,Nt){this._editable=Ae,this._edit=qe,this._config=ft,this._root=Rt,this._size=Nt}Ge.prototype.setTree=function(Ae,qe){return this._editable?(this._root=Ae,this._size=qe,this):Ae===this._root?this:new Ge(this._editable,this._edit,this._config,Ae,qe)};var Ke=r.tryGetHash=function(Ae,qe,ft,Rt){for(var Nt=Rt._root,ae=0,$=Rt._config.keyEq;;)switch(Nt.type){case j:return $(ft,Nt.key)?Nt.value:Ae;case B:{if(qe===Nt.hash)for(var W=Nt.children,K=0,se=W.length;K<se;++K){var _e=W[K];if($(ft,_e.key))return _e.value}return Ae}case H:{var Se=I(ae,qe),Pe=M(Se);if(Nt.mask&Pe){Nt=Nt.children[P(Nt.mask,Pe)],ae+=n;break}return Ae}case Q:{if(Nt=Nt.children[I(ae,qe)],Nt){ae+=n;break}return Ae}default:return Ae;}};Ge.prototype.tryGetHash=function(Ae,qe,ft){return Ke(Ae,qe,ft,this)};var it=r.tryGet=function(Ae,qe,ft){return Ke(Ae,ft._config.hash(qe),qe,ft)};Ge.prototype.tryGet=function(Ae,qe){return it(Ae,qe,this)};var Le=r.getHash=function(Ae,qe,ft){return Ke(void 0,Ae,qe,ft)};Ge.prototype.getHash=function(Ae,qe){return Le(Ae,qe,this)};var he=r.get=function(Ae,qe){return Ke(void 0,qe._config.hash(Ae),Ae,qe)};Ge.prototype.get=function(Ae,qe){return it(qe,Ae,this)};var Be=r.has=function(Ae,qe,ft){return Ke(p,Ae,qe,ft)!==p};Ge.prototype.hasHash=function(Ae,qe){return Be(Ae,qe,this)};var Me=r.has=function(Ae,qe){return Be(qe._config.hash(Ae),Ae,qe)};Ge.prototype.has=function(Ae){return Me(Ae,this)};var tt=function(qe,ft){return qe===ft};r.make=function(Ae){return new Ge(0,0,{keyEq:Ae&&Ae.keyEq||tt,hash:Ae&&Ae.hash||g},ee,0)},r.empty=r.make();var Je=r.isEmpty=function(Ae){return Ae&&!!ne(Ae._root)};Ge.prototype.isEmpty=function(){return Je(this)};var xt=r.modifyHash=function(Ae,qe,ft,Rt){var Nt={value:Rt._size},ae=Rt._root._modify(Rt._editable?Rt._edit:NaN,Rt._config.keyEq,0,Ae,qe,ft,Nt);return Rt.setTree(ae,Nt.value)};Ge.prototype.modifyHash=function(Ae,qe,ft){return xt(ft,Ae,qe,this)};var bt=r.modify=function(Ae,qe,ft){return xt(Ae,ft._config.hash(qe),qe,ft)};Ge.prototype.modify=function(Ae,qe){return bt(qe,Ae,this)};var yt=r.setHash=function(Ae,qe,ft,Rt){return xt(m(ft),Ae,qe,Rt)};Ge.prototype.setHash=function(Ae,qe,ft){return yt(Ae,qe,ft,this)};var Te=r.set=function(Ae,qe,ft){return yt(ft._config.hash(Ae),Ae,qe,ft)};Ge.prototype.set=function(Ae,qe){return Te(Ae,qe,this)};var pt=m(p),Vt=r.removeHash=function(Ae,qe,ft){return xt(pt,Ae,qe,ft)};Ge.prototype.removeHash=Ge.prototype.deleteHash=function(Ae,qe){return Vt(Ae,qe,this)};var dt=r.remove=function(Ae,qe){return Vt(qe._config.hash(Ae),Ae,qe)};Ge.prototype.remove=Ge.prototype.delete=function(Ae){return dt(Ae,this)};var Zt=r.beginMutation=function(Ae){return new Ge(Ae._editable+1,Ae._edit+1,Ae._config,Ae._root,Ae._size)};Ge.prototype.beginMutation=function(){return Zt(this)};var ur=r.endMutation=function(Ae){return Ae._editable=Ae._editable&&Ae._editable-1,Ae};Ge.prototype.endMutation=function(){return ur(this)};var Gt=r.mutate=function(Ae,qe){var ft=Zt(qe);return Ae(ft),ur(ft)};Ge.prototype.mutate=function(Ae){return Gt(Ae,this)};var pr=function(qe){return qe&&Wr(qe[0],qe[1],qe[2],qe[3],qe[4])},Wr=function(qe,ft,Rt,Nt,ae){for(;Rt<qe;){var $=ft[Rt++];if($&&!ne($))return $r($,Nt,[qe,ft,Rt,Nt,ae])}return pr(ae)},$r=function(qe,ft,Rt){switch(qe.type){case j:return{value:ft(qe),rest:Rt};case B:case Q:case H:var Nt=qe.children;return Wr(Nt.length,Nt,0,ft,Rt);default:return pr(Rt);}},cr={done:!0};function pn(Ae){this.v=Ae}pn.prototype.next=function(){if(!this.v)return cr;var Ae=this.v;return this.v=pr(Ae.rest),Ae},pn.prototype[Symbol.iterator]=function(){return this};var ut=function(qe,ft){return new pn($r(qe._root,ft))},Pi=function(qe){return[qe.key,qe.value]},kn=r.entries=function(Ae){return ut(Ae,Pi)};Ge.prototype.entries=Ge.prototype[Symbol.iterator]=function(){return kn(this)};var Zs=function(qe){return qe.key},gu=r.keys=function(Ae){return ut(Ae,Zs)};Ge.prototype.keys=function(){return gu(this)};var Et=function(qe){return qe.value},Nr=r.values=Ge.prototype.values=function(Ae){return ut(Ae,Et)};Ge.prototype.values=function(){return Nr(this)};var gr=r.fold=function(Ae,qe,ft){var Rt=ft._root;if(Rt.type===j)return Ae(qe,Rt.value,Rt.key);for(var Nt=[Rt.children],ae=void 0;ae=Nt.pop();)for(var $=0,W=ae.length;$<W;){var K=ae[$++];K&&K.type&&(K.type===j?qe=Ae(qe,K.value,K.key):Nt.push(K.children))}return qe};Ge.prototype.fold=function(Ae,qe){return gr(Ae,qe,this)};var Ho=r.forEach=function(Ae,qe){return gr(function(ft,Rt,Nt){return Ae(Rt,Nt,qe)},null,qe)};Ge.prototype.forEach=function(Ae){return Ho(Ae,this)};var _s=r.count=function(Ae){return Ae._size};Ge.prototype.count=function(){return _s(this)},Object.defineProperty(Ge.prototype,"size",{get:Ge.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),DW=class{constructor(t){Ln(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return e$(this)}toMap(){return new Map(this._map)}},PW=class e{constructor(t){if(Ln(this,"_hamt",qXt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return e$(this)}toMap(){return new Map(this._hamt)}};function e$(e){return _i("recoil_hamt_2020")?new PW(e):new DW(e)}var jXt={persistentMap:e$},zXt=jXt.persistentMap,FXt=Object.freeze({__proto__:null,persistentMap:zXt}),{graph:BXt}=zI,{persistentMap:BLe}=FXt,UXt=0,gNe=()=>UXt++;function vNe(){let e=gNe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:BLe(),nonvalidatedAtoms:BLe()}}function VXt(){let e=vNe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,BXt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var yNe={makeEmptyTreeState:vNe,makeEmptyStoreState:VXt,getNextTreeStateVersion:gNe};function GXt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var HXt=GXt;function WXt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var $Xt=WXt,{cleanUpNode:ZXt}=z_,{deleteNodeConfigIfPossible:YXt,getNode:_Ne}=Wu,{RetentionZone:xNe}=$L,bNe=new Set;function wNe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){qf("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let a of t)if(a instanceof xNe)for(let c of JXt(r,a))i.add(c);else i.add(a);let o=KXt(e,i);for(let a of o)QXt(e,n,a)}function KXt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,a=new Set;return c(t),o;function c(p){let m=new Set,g=XXt(e,n,p,o,a);for(let P of g){var S;if(_Ne(P).retainedBy==="recoilRoot"){a.add(P);continue}if(((S=r.retention.referenceCounts.get(P))!==null&&S!==void 0?S:0)>0){a.add(P);continue}if(SNe(P).some(L=>r.retention.referenceCounts.get(L))){a.add(P);continue}let N=i.nodeToNodeSubscriptions.get(P);if(N&&$Xt(N,L=>a.has(L))){a.add(P);continue}o.add(P),m.add(P)}let I=new Set;for(let P of m)for(let N of(M=i.nodeDeps.get(P))!==null&&M!==void 0?M:bNe){var M;o.has(N)||I.add(N)}I.size&&c(I)}}function XXt(e,t,r,n,i){let o=e.getGraph(t.version),a=[],c=new Set;for(;r.size>0;)p(ei(r.values().next().value));return a;function p(m){if(n.has(m)||i.has(m)){r.delete(m);return}if(c.has(m))return;let g=o.nodeToNodeSubscriptions.get(m);if(g)for(let S of g)p(S);c.add(m),r.delete(m),a.push(m)}}function QXt(e,t,r){if(!_i("recoil_memory_managament_2020"))return;ZXt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=SNe(r);for(let p of i){var o;(o=n.retention.nodesRetainedByZone.get(p))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let a=n.graphsByVersion.get(t.version);if(a){let p=a.nodeDeps.get(r);if(p!==void 0){a.nodeDeps.delete(r);for(let m of p){var c;(c=a.nodeToNodeSubscriptions.get(m))===null||c===void 0||c.delete(r)}}a.nodeToNodeSubscriptions.delete(r)}YXt(r)}function JXt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:bNe}function SNe(e){let t=_Ne(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof xNe?[t]:t}function eQt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):wNe(e,new Set([t]))}function tQt(e,t,r){var n;if(!_i("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?ENe(e,t):i.set(t,o)}function ENe(e,t){if(!_i("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),eQt(e,t)}function rQt(e){if(!_i("recoil_memory_managament_2020"))return;let t=e.getState();wNe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function nQt(e){return e===void 0?"recoilRoot":e}var FI={updateRetainCount:tQt,updateRetainCountToZero:ENe,releaseScheduledRetainablesNow:rQt,retainedByOptionWithDefault:nQt};function*iQt(e){for(let t of e)for(let r of t)yield r}var oQt=iQt,aQt=typeof window=="undefined",sQt=typeof navigator!="undefined"&&navigator.product==="ReactNative",t$={isSSR:aQt,isReactNative:sQt},{isSSR:lQt}=t$,{batchUpdates:LW}=JW,{initializeNodeIfNewToStore:uQt,peekNodeInfo:cQt}=z_,{graph:fQt}=zI,{DEFAULT_VALUE:pQt,recoilValues:ULe,recoilValuesForKeys:VLe}=Wu,{AbstractRecoilValue:dQt,getRecoilValueAsLoadable:hQt,setRecoilValue:GLe,setUnvalidatedRecoilValue:mQt}=Wv,{updateRetainCount:PL}=FI,{getNextTreeStateVersion:gQt,makeEmptyStoreState:vQt}=yNe;var q_=class{constructor(t){Ln(this,"_store",void 0),Ln(this,"_refCount",0),Ln(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),hQt(this._store,r))),Ln(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ln(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return VLe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?ULe.values():r.isInitialized===!0?VLe(oQt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):aNe(ULe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),Ln(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),cQt(this._store,this._store.getState().currentTree,r))),Ln(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new kI(this,LW);return r(n),NW(n.getStore_INTERNAL())}),Ln(this,"asyncMap",r=>ko(this,null,function*(){this.checkRefCount_INTERNAL();let n=new kI(this,LW);return yield r(n),NW(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return ei(n.get(r));let i=fQt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())uQt(this._store,t.currentTree,r,"get"),PL(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!_i("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){_i("recoil_memory_managament_2020")&&(lQt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){_i("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){_i("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function INe(e,t,r=!1){let n=e.getState(),i=r?gQt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:Qe({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function yQt(e){let t=new q_(vQt());return e!=null?t.map(e):t}function NW(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:ei(r.previousTree);return new q_(INe(e,n))}var kI=class extends q_{constructor(t,r){super(INe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),Ln(this,"_batch",void 0),Ln(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{PL(o,n.key,1),GLe(this.getStore_INTERNAL(),n,i)})}),Ln(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{PL(i,n.key,1),GLe(this.getStore_INTERNAL(),n,pQt)})}),Ln(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();LW(()=>{for(let[o,a]of n.entries())PL(i,o,1),mQt(i,new dQt(o),a)})}),this._batch=r}},KL={Snapshot:q_,MutableSnapshot:kI,freshSnapshot:yQt,cloneSnapshot:NW},_Qt=KL.Snapshot,xQt=KL.MutableSnapshot,bQt=KL.freshSnapshot,wQt=KL.cloneSnapshot,XL=Object.freeze({__proto__:null,Snapshot:_Qt,MutableSnapshot:xQt,freshSnapshot:bQt,cloneSnapshot:wQt}),{getNextTreeStateVersion:SQt,makeEmptyStoreState:TNe}=yNe,{cleanUpNode:EQt,getDownstreamNodes:IQt,setNodeValue:TQt,setUnvalidatedAtomValue_DEPRECATED:CQt}=z_,{graph:MQt}=zI,{cloneGraph:AQt}=zI,{applyAtomValueWrites:OQt}=Wv,{releaseScheduledRetainablesNow:CNe}=FI,{freshSnapshot:DQt}=XL,{useCallback:PQt,useContext:MNe,useEffect:RW,useMemo:LQt,useRef:IW,useState:NQt}=ns.default;function CI(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var ANe=Object.freeze({getState:CI,replaceState:CI,getGraph:CI,subscribeToTransactions:CI,addTransactionMetadata:CI}),kW=!1;function HLe(e){if(kW)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){_i("recoil_memory_managament_2020")&&_i("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&CNe(e);let r=t.currentTree.version,n=SQt();t.nextTree=xr(Qe({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,AQt(ei(t.graphsByVersion.get(r))))}}var ONe=ns.default.createContext({current:ANe}),r$=()=>MNe(ONe),DNe=ns.default.createContext(null);function RQt(){let e=MNe(DNe);return e==null&&ZW("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function n$(e,t,r){let n=IQt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[a,[c,p]]of o)p(r)}}function PNe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[a,c]of o)c(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!_i("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(n$(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function kQt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,PNe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):qf("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,_i("recoil_memory_managament_2020")&&CNe(e.current)}finally{t.commitDepth--}}function qQt({setNotifyBatcherOfChange:e}){let t=r$(),[r,n]=NQt([]);return e(()=>n({})),RW(()=>{MXt.enqueueExecution("Batcher",()=>{kQt(t)})}),RW(()=>()=>{e(()=>{})},[e]),null}function jQt(e,t){let r=TNe();return t({set:(n,i)=>{let o=r.currentTree,a=TQt(e,o,n.key,i),c=new Set(a.keys()),p=o.nonvalidatedAtoms.clone();for(let m of c)p.delete(m);r.currentTree=xr(Qe({},o),{dirtyAtoms:HXt(o.dirtyAtoms,c),atomValues:OQt(o.atomValues,a),nonvalidatedAtoms:p})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=CQt(r.currentTree,o,i)})}}),r}function zQt(e){return DQt().map(e).getStore_INTERNAL().getState()}var WLe=0;function FQt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,a=L=>{let q=o.current.graphsByVersion;if(q.has(L))return ei(q.get(L));let j=MQt();return q.set(L,j),j},c=(L,q)=>{if(q==null){let{transactionSubscriptions:j}=P.current.getState(),B=WLe++;return j.set(B,L),{release:()=>{j.delete(B)}}}else{let{nodeTransactionSubscriptions:j}=P.current.getState();j.has(q)||j.set(q,new Map);let B=WLe++;return ei(j.get(q)).set(B,L),{release:()=>{let H=j.get(q);H&&(H.delete(B),H.size===0&&j.delete(q))}}}},p=L=>{HLe(P.current);for(let q of Object.keys(L))ei(P.current.getState().nextTree).transactionMetadata[q]=L[q]},m=L=>{let q=P.current.getState();HLe(P.current);let j=ei(q.nextTree),B;try{kW=!0,B=L(j)}finally{kW=!1}B!==j&&(q.nextTree=B,_i("recoil_early_rendering_2021")&&n$(M,q,B),ei(g.current)())},g=IW(null),S=PQt(L=>{g.current=L},[g]),I=(i=ns.default.createMutableSource)!==null&&i!==void 0?i:ns.default.unstable_createMutableSource,M=r!=null?r:{getState:()=>o.current,replaceState:m,getGraph:a,subscribeToTransactions:c,addTransactionMetadata:p},P=IW(M);o=IW(e!=null?jQt(M,e):t!=null?zQt(t):TNe());let N=LQt(()=>I?I(o,()=>o.current.currentTree.version):null,[I,o]);return RW(()=>()=>{for(let L of P.current.getState().knownAtoms)EQt(P.current,L)},[]),ns.default.createElement(ONe.Provider,{value:P},ns.default.createElement(DNe.Provider,{value:N},ns.default.createElement(qQt,{setNotifyBatcherOfChange:S}),n))}function BQt(e){let i=e,{override:t}=i,r=En(i,["override"]),n=r$();return t===!1&&n.current!==ANe?e.children:ns.default.createElement(FQt,r)}var QL={useStoreRef:r$,useRecoilMutableSource:RQt,RecoilRoot:BQt,notifyComponents_FOR_TESTING:n$,sendEndOfBatchNotifications_FOR_TESTING:PNe},{loadableWithValue:UQt}=jI,{DEFAULT_VALUE:VQt,getNode:GQt}=Wu,{copyTreeState:HQt,getRecoilValueAsLoadable:WQt,invalidateDownstreams:$Qt,writeLoadableToTreeState:ZQt}=Wv;function $Le(e){return GQt(e.key).nodeType==="atom"}var qW=class{constructor(t,r){Ln(this,"_store",void 0),Ln(this,"_treeState",void 0),Ln(this,"_changes",void 0),Ln(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!$Le(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=WQt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),Ln(this,"set",(n,i)=>{if(!$Le(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),Ln(this,"reset",n=>{this.set(n,VQt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=HQt(this._treeState);for(let[r,n]of this._changes)ZQt(t,r,UQt(n));return $Qt(this._store,t),t}};function YQt(e){return t=>{e.replaceState(r=>{let n=new qW(e,r);return t(n),n.newTreeState_INTERNAL()})}}var KQt={atomicUpdater:YQt},XQt=KQt.atomicUpdater,QQt=Object.freeze({__proto__:null,atomicUpdater:XQt});function JQt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var eJt=JQt;function tJt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var rJt=tJt;function nJt(e,t){if(!e)throw new Error(t)}var iJt=nJt,UL=iJt;function oJt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var aJt=oJt;function sJt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var lJt=sJt;var{useRef:uJt}=ns.default;function cJt(){let e=uJt();if(0&&_i("recoil_infer_component_names"))var t;return"<component name not available>"}var i$=cJt,{atomicUpdater:LNe}=QQt,{batchUpdates:o$}=JW,{DEFAULT_VALUE:JL,getNode:NNe,nodes:fJt}=Wu,{useRecoilMutableSource:pJt,useStoreRef:tu}=QL,{isRecoilValue:xFr}=Tm,{AbstractRecoilValue:a$,getRecoilValueAsLoadable:NI,setRecoilValue:j_,setRecoilValueLoadable:dJt,setUnvalidatedRecoilValue:hJt,subscribeToRecoilValue:s$}=Wv,{updateRetainCount:MI}=FI,{RetentionZone:mJt}=$L,{Snapshot:bFr,cloneSnapshot:qI}=XL,{setByAddingToSet:gJt}=oNe,{isSSR:VL}=t$,{mutableSourceExists:vJt,useMutableSource:yJt}=iNe,{useCallback:zc,useEffect:pd,useMemo:RNe,useRef:Im,useState:l$}=ns.default,kNe=12e4;function qNe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function _Jt(){let e=tu(),[t,r]=l$([]),n=Im(new Set);n.current=new Set;let i=Im(new Set),o=Im(new Map),a=zc(p=>{let m=o.current.get(p);m&&(m.release(),o.current.delete(p))},[o]),c=i$();return pd(()=>{let p=e.current;function m(g,S){o.current.has(S)&&r([])}FL(n.current,i.current).forEach(g=>{if(o.current.has(g)){ZW(`Double subscription to RecoilValue "${g}"`);return}let S=s$(p,new a$(g),M=>{m(M,g)},c);o.current.set(g,S),p.getState().nextTree?p.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{m(p.getState(),g)}):m(p.getState(),g)}),FL(i.current,n.current).forEach(g=>{a(g)}),i.current=n.current}),pd(()=>{let p=o.current;return()=>p.forEach((m,g)=>a(g))},[a]),RNe(()=>{function p(P){return N=>{j_(e.current,P,N)}}function m(P){return()=>j_(e.current,P,JL)}function g(P){var N;n.current.has(P.key)||(n.current=gJt(n.current,P.key));let L=e.current.getState();return NI(e.current,P,_i("recoil_early_rendering_2021")&&(N=L.nextTree)!==null&&N!==void 0?N:L.currentTree)}function S(P){let N=g(P);return qNe(N,P,e)}function I(P){return[S(P),p(P)]}function M(P){return[g(P),p(P)]}return{getRecoilValue:S,getRecoilValueLoadable:g,getRecoilState:I,getRecoilStateLoadable:M,getSetRecoilState:p,getResetRecoilState:m}},[n,e])}var xJt={current:0};function bJt(e){let t=tu(),r=zc(()=>{var m;let g=t.current,S=g.getState(),I=_i("recoil_early_rendering_2021")&&(m=S.nextTree)!==null&&m!==void 0?m:S.currentTree;return NI(g,e,I)},[t,e]),n=zc(()=>r(),[r]),i=i$(),o=zc((m,g)=>{let S=t.current;return s$(S,e,()=>{if(!_i("recoil_suppress_rerender_in_callback"))return g();let M=r();p.current.is(M)||g(),p.current=M},i).release},[t,e,i,r]),a=pJt(),c=yJt(a,n,o),p=Im(c);return pd(()=>{p.current=c}),c}function wJt(e){let t=tu(),[r,n]=l$([]),i=i$();pd(()=>{let c=t.current,p=c.getState(),m=s$(c,e,S=>{var I;if(!_i("recoil_suppress_rerender_in_callback"))return n([]);let M=NI(c,e,c.getState().currentTree);!((I=a.current)===null||I===void 0)&&I.is(M)||n(M),a.current=M},i);if(p.nextTree)c.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,n([])});else{var g;if(!_i("recoil_suppress_rerender_in_callback"))return n([]);let S=NI(c,e,c.getState().currentTree);!((g=a.current)===null||g===void 0)&&g.is(S)||n(S),a.current=S}return m.release},[i,e,t]);let o=NI(t.current,e),a=Im(o);return pd(()=>{a.current=o}),o}function u$(e){return _i("recoil_memory_managament_2020")&&BNe(e),vJt()?bJt(e):wJt(e)}function jNe(e){let t=tu(),r=u$(e);return qNe(r,e,t)}function c$(e){let t=tu();return zc(r=>{j_(t.current,e,r)},[t,e])}function SJt(e){let t=tu();return zc(()=>{j_(t.current,e,JL)},[t,e])}function EJt(e){return[jNe(e),c$(e)]}function IJt(e){return[u$(e),c$(e)]}function eN(e){let t=tu();pd(()=>t.current.subscribeToTransactions(e).release,[e,t])}function ZLe(e){let t=e.atomValues.toMap(),r=BL(eJt(t,(n,i)=>{let a=NNe(i).persistence_UNSTABLE;return a!=null&&a.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return aJt(e.nonvalidatedAtoms.toMap(),r)}function TJt(e){eN(zc(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(qf("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=ZLe(n),o=ZLe(r),a=BL(fJt,p=>{var m,g,S,I;return{persistence_UNSTABLE:{type:(m=(g=p.persistence_UNSTABLE)===null||g===void 0?void 0:g.type)!==null&&m!==void 0?m:"none",backButton:(S=(I=p.persistence_UNSTABLE)===null||I===void 0?void 0:I.backButton)!==null&&S!==void 0?S:!1}}}),c=rJt(n.dirtyAtoms,p=>i.has(p)||o.has(p));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:c,transactionMetadata:Qe({},n.transactionMetadata)})},[e]))}function CJt(e){eN(zc(t=>{let r=qI(t,"current"),n=qI(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function zNe(e){let t=Im();return pd(()=>{t.current=e}),t.current}function MJt(){let e=tu(),[t,r]=l$(()=>qI(e.current)),n=zNe(t),i=Im();return pd(()=>(i.current&&!VL&&window.clearTimeout(i.current),t.retain()),[t]),eN(zc(o=>r(qI(o)),[])),n!==t&&!VL&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},kNe)),t}function FNe(){let e=tu();return zc(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;o$(()=>{let a=new Set;for(let m of[i.atomValues.keys(),o.atomValues.keys()])for(let g of m){var c,p;((c=i.atomValues.get(g))===null||c===void 0?void 0:c.contents)!==((p=o.atomValues.get(g))===null||p===void 0?void 0:p.contents)&&NNe(g).shouldRestoreFromSnapshots&&a.add(g)}a.forEach(m=>{dJt(e.current,new a$(m),o.atomValues.has(m)?ei(o.atomValues.get(m)):JL)}),e.current.replaceState(m=>xr(Qe({},m),{stateID:t.getID_INTERNAL()}))})},[e])}function AJt(){let e=tu();return(t,r={})=>{o$(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>hJt(e.current,new a$(i),n))})}}var GL=class{},OJt=new GL;function DJt(e,t){let r=tu(),n=FNe();return zc((...i)=>{function o(g,S){j_(r.current,g,S)}function a(g){j_(r.current,g,JL)}let c=qI(r.current),p=LNe(r.current),m=OJt;return o$(()=>{let g="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(g);let S=e({set:o,reset:a,snapshot:c,gotoSnapshot:n,transact_UNSTABLE:p});if(typeof S!="function")throw new Error(g);m=S(...i)}),m instanceof GL&&UL(!1),m},t!=null?[...t,r]:void 0)}function BNe(e){if(_i("recoil_memory_managament_2020"))return PJt(e)}function PJt(e){let r=(Array.isArray(e)?e:[e]).map(a=>a instanceof mJt?a:a.key),n=tu();pd(()=>{if(!_i("recoil_memory_managament_2020"))return;let a=n.current;if(i.current&&!VL)window.clearTimeout(i.current),i.current=null;else for(let c of r)MI(a,c,1);return()=>{for(let c of r)MI(a,c,-1)}},[n,...r]);let i=Im(),o=zNe(r);if(!VL&&(o===void 0||!lJt(o,r))){let a=n.current;for(let c of r)MI(a,c,1);if(o)for(let c of o)MI(a,c,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let c of r)MI(a,c,-1)},kNe)}}function LJt(e,t){let r=tu();return RNe(()=>(...n)=>{LNe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var NJt={recoilComponentGetRecoilValueCount_FOR_TESTING:xJt,useGotoRecoilSnapshot:FNe,useRecoilCallback:DJt,useRecoilInterface:_Jt,useRecoilSnapshot:MJt,useRecoilState:EJt,useRecoilStateLoadable:IJt,useRecoilTransaction:LJt,useRecoilTransactionObserver:CJt,useRecoilValue:jNe,useRecoilValueLoadable:u$,useRetain:BNe,useResetRecoilState:SJt,useSetRecoilState:c$,useSetUnvalidatedAtomValues:AJt,useTransactionObservation_DEPRECATED:TJt,useTransactionSubscription_DEPRECATED:eN},{peekNodeInfo:RJt}=z_,{useStoreRef:kJt}=QL;function qJt(){let e=kJt();return({key:t})=>RJt(e.current,e.current.getState().currentTree,t)}var jJt=qJt,{RecoilRoot:zJt,useStoreRef:FJt}=QL,{useMemo:BJt}=ns.default;function UJt(){let e=FJt().current;return BJt(()=>{function t({children:r}){return ns.default.createElement(zJt,{store_INTERNAL:e},r)}return t},[e])}var VJt=UJt;var{isReactNative:wFr,isSSR:SFr}=t$;function jc(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`;}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(go(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>jc(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return jc(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,a]of e)i[typeof o=="string"?o:jc(o,t)]=a;return jc(i,t,r)}return e instanceof Set?jc(Array.from(e).sort((i,o)=>jc(i,t).localeCompare(jc(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?jc(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${jc(i,t)}:${jc(e[i],t,i)}`).join(",")}}`}function GJt(e,t={allowFunctions:!1}){return jc(e,t)}var tN=GJt,jW=class{constructor(t){var r,n,i;Ln(this,"_numLeafs",void 0),Ln(this,"_root",void 0),Ln(this,"_onHit",void 0),Ln(this,"_onSet",void 0),Ln(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return UNe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=zW(this.root(),t.map(([a,c])=>[a,this._mapNodeValue(c)]),null,r,null,{onNodeVisit:a=>{n==null||n.onNodeVisit(a),a.type==="leaf"&&(i=a)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(ei(i))}delete(t){if(!this.root())return!1;let r=ei(this.root());return HJt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=GNe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},UNe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return UNe(e.branches.get(i),t,r)},zW=(e,t,r,n,i,o)=>{var a;let c;if(e==null){if(t.length===0)c={type:"leaf",value:n,parent:r,branchKey:i};else{let[p,...m]=t,[g,S]=p;c={type:"branch",nodeKey:g,parent:r,branches:new Map,branchKey:i},c.branches.set(S,zW(null,m,c,n,S,o))}}else if(c=e,t.length){let[p,...m]=t,[g,S]=p;e.type==="branch"&&e.nodeKey===g||UL(!1),e.branches.set(S,zW(e.branches.get(S),m,e,n,S,o))}return o==null||(a=o.onNodeVisit)===null||a===void 0||a.call(o,c),c},HJt=(e,t,r)=>r?(r.branches.delete(t.branchKey),VNe(e,r,r.parent)):e===t,VNe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),VNe(e,r,r.parent)):e===t,GNe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+GNe(r),0),WJt={TreeCache:jW},$Jt=WJt.TreeCache,HNe=Object.freeze({__proto__:null,TreeCache:$Jt}),FW=class{constructor(t){var r;Ln(this,"_maxSize",void 0),Ln(this,"_size",void 0),Ln(this,"_head",void 0),Ln(this,"_tail",void 0),Ln(this,"_map",void 0),Ln(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),a={key:t,right:o,left:null,value:r};o?o.left=a:this._tail=a,this._map.set(n,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=ei(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},ZJt={LRUCache:FW},YJt=ZJt.LRUCache,WNe=Object.freeze({__proto__:null,LRUCache:YJt}),{LRUCache:KJt}=WNe,{TreeCache:XJt}=HNe;function QJt(e,t=r=>r){let r=new KJt({maxSize:e}),n=new XJt({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var YLe=QJt,{TreeCache:JJt}=HNe,AL={equality:"reference",eviction:"keep-all",maxSize:1/0};function eer({equality:e=AL.equality,eviction:t=AL.eviction,maxSize:r=AL.maxSize}=AL){let n=ter(e);return rer(t,r,n)}function ter(e){switch(e){case"reference":return t=>t;case"value":return t=>tN(t);}throw new Error(`Unrecognized equality policy ${e}`)}function rer(e,t,r){switch(e){case"keep-all":return new JJt({mapNodeValue:r});case"lru":return YLe(ei(t),r);case"most-recent":return YLe(1,r);}throw new Error(`Unrecognized eviction policy ${e}`)}var ner=eer;function ier(e){return()=>null}var oer={startPerfBlock:ier},{CANCELED:AI,Canceled:aer,loadableWithError:OI,loadableWithPromise:ser,loadableWithValue:TW}=jI,{getNodeLoadable:KLe,peekNodeLoadable:ler,setNodeValue:uer}=z_,{saveDependencyMapToStore:cer}=zI,{DEFAULT_VALUE:fer,RecoilValueNotReady:per,getConfigDeletionHandler:der,registerNode:XLe}=Wu,{isRecoilValue:her}=Tm,{AbstractRecoilValue:mer}=Tm,{setRecoilValueLoadable:ger}=Wv,{retainedByOptionWithDefault:ver}=FI,{cloneSnapshot:yer}=XL,{startPerfBlock:_er}=oer,DI=[],OL=new Map,xer=(()=>{let e=0;return()=>e++})();function ber(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function wer(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=ner(n!=null?n:{equality:"reference",eviction:"keep-all"}),a=ver(e.retainedBy_UNSTABLE),c=new Map,p=0;function m(){return!_i("recoil_memory_managament_2020")||p>0}function g(Le){return c.has(Le)||c.set(Le,ber()),ei(c.get(Le))}function S(Le){return p++,Le.getState().knownSelectors.add(t),()=>{p--,Le.getState().knownSelectors.delete(t),c.delete(Le)}}function I(){return der(t)!==void 0&&!m()}function M(Le,he,Be){if(he.state==="loading"){let Me=OL.get(Be);Me==null&&OL.set(Be,Me=new Set),Me.add(Le)}}function P(Le,he){let Be=OL.get(he);if(Be!==void 0){for(let Me of Be)ger(Me,new mer(t),Le);OL.delete(he)}}function N(Le,he,Be){let Me=Le.getState().knownSelectors.has(Be);if(Me&&he.atomValues.has(Be))return ei(he.atomValues.get(Be));let tt=KLe(Le,he,Be);return tt.state!=="loading"&&Me&&he.atomValues.set(Be,tt),tt}function L(Le,he,Be,Me,tt){return he.then(Je=>{if(!m())return Fe(Le,tt),AI;let xt=TW(Je);return et(Be,ne(Me),xt),B(Le,Be,new Set(Me.keys()),tt),j(Le,xt,tt),{__value:Je,__key:t}}).catch(Je=>{if(!m())return Fe(Le,tt),AI;if(je(Le,tt)&&$e(Me,Le,tt),go(Je))return q(Le,Je,Be,Me,tt);let xt=OI(Je);throw et(Be,ne(Me),xt),B(Le,Be,new Set(Me.keys()),tt),j(Le,xt,tt),Je})}function q(Le,he,Be,Me,tt){return he.then(Je=>{if(!m())return Fe(Le,tt),AI;if(Je instanceof aer)return qf("Selector was released while it had dependencies"),AI;let{__key:xt,__value:bt}=Je!=null?Je:{},yt=!0;xt!=null&&(Be.atomValues.set(xt,TW(bt)),yt=!1);let Te=ee(Le,Be);if(Te&&Te.state==="hasValue")return Ie(Te,Le),{__value:Te.contents,__key:t};if(!je(Le,tt)){var pt;let Zt=be(Be);if((Zt==null||(pt=Zt.latestLoadable)===null||pt===void 0?void 0:pt.state)==="loading")return Zt.latestLoadable.contents}let[Vt,dt]=Q(Le,Be,tt,yt);if(je(Le,tt)&&$e(dt,Le,tt),Ce(Vt),Vt.state!=="loading"&&(et(Be,ne(dt),Vt),B(Le,Be,new Set(dt.keys()),tt),j(Le,Vt,tt)),Vt.state==="hasError")throw Vt.contents;return Vt.state==="hasValue"?{__value:Vt.contents,__key:t}:Vt.contents}).catch(Je=>{if(!m())return Fe(Le,tt),AI;let xt=OI(Je);throw et(Be,ne(Me),OI(Je)),B(Le,Be,new Set(Me.keys()),tt),j(Le,xt,tt),Je})}function j(Le,he,Be){je(Le,Be)&&(Ie(he,Le),P(he,Be))}function B(Le,he,Be,Me){var tt,Je,xt,bt;if(je(Le,Me)||he.version===((tt=Le.getState())===null||tt===void 0||(Je=tt.currentTree)===null||Je===void 0?void 0:Je.version)||he.version===((xt=Le.getState())===null||xt===void 0||(bt=xt.nextTree)===null||bt===void 0?void 0:bt.version)){var yt,Te,pt;cer(new Map([[t,Be]]),Le,(yt=(Te=Le.getState())===null||Te===void 0||(pt=Te.nextTree)===null||pt===void 0?void 0:pt.version)!==null&&yt!==void 0?yt:Le.getState().currentTree.version)}}function H(Le,he,Be,Me,tt){Be.add(Me),B(Le,he,Be,tt)}function Q(Le,he,Be,Me=!1){let tt=_er(t),Je,xt=!1,bt,yt=new Map,Te=new Set;B(Le,he,Te,Be);function pt(Zt){let{key:ur}=Zt;H(Le,he,Te,ur,Be);let Gt=Me?KLe(Le,he,ur):N(Le,he,ur);if(Ce(Gt),yt.set(ur,Gt),Gt.state==="hasValue")return Gt.contents;throw Gt.contents}let Vt=!1,dt=Zt=>(...ur)=>{if(!Vt)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let Gt=yer(Le),pr=Zt({snapshot:Gt});if(typeof pr!="function")throw new Error("getCallback() expects a function that returns a function.");return pr(...ur)};try{Je=r({get:pt,getCallback:dt}),Je=her(Je)?pt(Je):Je,Vt=!0,go(Je)?Je=L(Le,Je,he,yt,Be).finally(tt):tt()}catch(Zt){Je=Zt,go(Je)?Je=q(Le,Je,he,yt,Be).finally(tt):(xt=!0,tt())}return xt?bt=OI(Je):go(Je)?bt=ser(Je):bt=TW(Je),Ce(bt),[bt,yt]}function ee(Le,he){let Be=new Set,Me=g(Le),tt=o.get(Je=>(typeof Je!="string"&&UL(!1),N(Le,he,Je).contents),{onNodeVisit:Je=>{Je.type==="branch"&&Je.nodeKey!==t&&typeof Je.nodeKey=="string"&&Be.add(Je.nodeKey)}});return tt&&B(Le,he,Be,Me.latestExecutionId),tt}function ne(Le){return Array.from(Le.entries()).map(([he,Be])=>[he,Be.contents])}function de(Le,he){let Be=xer(),[Me,tt]=Q(Le,he,Be);return Ie(Me,Le,tt,Be,he),We(he,ne(tt),Me),M(Le,Me,Be),Me}function ue(Le,he){let Be=ee(Le,he);if(Be!=null)return Ie(Be,Le),Be;let Me=be(he);if(Me){let tt=Me;return M(Le,ei(tt.latestLoadable),ei(tt.latestExecutionId)),ei(tt.latestLoadable)}return de(Le,he)}function be(Le){var he;let[,Be]=(he=Array.from(c.entries()).find(([Me,tt])=>tt.latestLoadable!=null&&tt.latestExecutionId!=null&&!Re(Me,Le)))!==null&&he!==void 0?he:[];return Be}let Ee=new Map;function Re(Le,he){var Be,Me;let tt=g(Le),Je=(Be=tt.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&Be!==void 0?Be:new Map,xt=Array(((Me=Ee.get(he.version))!==null&&Me!==void 0?Me:new Map).entries()),bt=Ee.has(he.version)&&xt.length===Je.size&&xt.every(([yt,Te])=>Je.get(yt)===Te);return Je==null||he.version===tt.stateVersion||bt?!1:(Ee.set(he.version,new Map(Je)),Array.from(Je).some(([yt,Te])=>N(Le,he,yt).contents!==Te.contents))}function Ie(Le,he,Be,Me,tt){let Je=g(he);Le.state==="loading"?(Je.depValuesDiscoveredSoFarDuringAsyncWork=Be,Je.latestExecutionId=Me,Je.latestLoadable=Le,Je.stateVersion=tt==null?void 0:tt.version):(Je.depValuesDiscoveredSoFarDuringAsyncWork=null,Je.latestExecutionId=null,Je.latestLoadable=null,Je.stateVersion=null)}function We(Le,he,Be){Be.state!=="loading"&&et(Le,he,Be)}function $e(Le,he,Be){let Me=g(he);je(he,Be)&&(Me.depValuesDiscoveredSoFarDuringAsyncWork=Le)}function Fe(Le,he){je(Le,he)&&c.delete(Le)}function je(Le,he){let Be=g(Le);return he===Be.latestExecutionId}function Ce(Le){Le.state!=="loading"&&(Le.contents,void 0)}function Xe(Le){}function et(Le,he,Be){Le.atomValues.set(t,Be),o.set(he,Be)}function st(Le){if(DI.includes(t)){let he=`Recoil selector has circular dependencies: ${DI.slice(DI.indexOf(t)).join(" \u2192 ")}`;return OI(new Error(he))}DI.push(t);try{return Le()}finally{DI.pop()}}function Ge(Le,he){return o.get(Me=>{typeof Me!="string"&&UL(!1);let tt=ler(Le,he,Me);return tt==null?void 0:tt.contents})}function Ke(Le,he){return st(()=>ue(Le,he))}function it(Le){Le.atomValues.delete(t)}return i!=null?XLe({key:t,nodeType:"selector",peek:Ge,get:Ke,set:(he,Be,Me)=>{let tt=!1,Je=new Map;function xt({key:pt}){if(tt)throw new Error("Recoil: Async selector sets are not currently supported.");let Vt=N(he,Be,pt);if(Ce(Vt),Vt.state==="hasValue")return Vt.contents;throw Vt.state==="loading"?new per(pt):Vt.contents}function bt(pt,Vt){if(tt)throw new Error("Recoil: Async selector sets are not currently supported.");let dt=typeof Vt=="function"?Vt(xt(pt)):Vt;uer(he,Be,pt.key,dt).forEach((ur,Gt)=>Je.set(Gt,ur))}function yt(pt){bt(pt,fer)}let Te=i({set:bt,get:xt,reset:yt},Me);if(Te!==void 0)throw go(Te)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return tt=!0,Je},init:S,invalidate:it,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a}):XLe({key:t,nodeType:"selector",peek:Ge,get:Ke,init:S,invalidate:it,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})}var HL=wer,{loadableWithError:QLe,loadableWithPromise:JLe,loadableWithValue:PI}=jI,{DEFAULT_VALUE:Gv,DefaultValue:N_,getConfigDeletionHandler:$Ne,registerNode:Ser,setConfigDeletionHandler:Eer}=Wu,{isRecoilValue:Ier}=Tm,{markRecoilValueModified:Ter,setRecoilValue:eNe,setRecoilValueLoadable:Cer}=Wv,{retainedByOptionWithDefault:Mer}=FI;function Aer(e){let{key:t,persistence_UNSTABLE:r}=e,n=Mer(e.retainedBy_UNSTABLE),i=0,o=go(e.default)?JLe(e.default.then(L=>(o=PI(L),{__key:t,__value:L})).catch(L=>{throw o=QLe(L),L})):PI(e.default),a,c=new Map;function p(L,q){let j=q.then(B=>{var H,Q;return((Q=((H=L.getState().nextTree)!==null&&H!==void 0?H:L.getState().currentTree).atomValues.get(t))===null||Q===void 0?void 0:Q.contents)===j&&eNe(L,N,B),{__key:t,__value:B}}).catch(B=>{var H,Q;throw((Q=((H=L.getState().nextTree)!==null&&H!==void 0?H:L.getState().currentTree).atomValues.get(t))===null||Q===void 0?void 0:Q.contents)===j&&Cer(L,N,QLe(B)),B});return j}function m(L,q,j){i++;let B=L.getState().knownAtoms.has(t);if(L.getState().knownAtoms.add(t),o.state==="loading"){let ue=()=>{var be;((be=L.getState().nextTree)!==null&&be!==void 0?be:L.getState().currentTree).atomValues.has(t)||Ter(L,N)};o.contents.then(ue).catch(ue)}let H=Gv,Q=null;if(e.effects_UNSTABLE!=null&&!B){let ue=!0,be=Ie=>We=>{if(ue){let $e=H instanceof N_||go(H)?o.state==="hasValue"?o.contents:Gv:H;H=typeof We=="function"?We($e):We,go(H)&&(H=H.then(Fe=>(Q={effect:Ie,value:Fe},Fe)))}else{if(go(We))throw new Error("Setting atoms to async values is not implemented.");typeof We!="function"&&(Q={effect:Ie,value:We}),eNe(L,N,typeof We=="function"?$e=>{let Fe=We($e);return Q={effect:Ie,value:Fe},Fe}:We)}},Ee=Ie=>()=>be(Ie)(Gv),Re=Ie=>We=>{L.subscribeToTransactions($e=>{var Fe;let{currentTree:je,previousTree:Ce}=$e.getState();Ce||(qf("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),Ce=je);let Xe=(Fe=je.atomValues.get(t))!==null&&Fe!==void 0?Fe:o;if(Xe.state==="hasValue"){var et,st,Ge,Ke;let it=Xe.contents,Le=(et=Ce.atomValues.get(t))!==null&&et!==void 0?et:o,he=Le.state==="hasValue"?Le.contents:Gv;((st=Q)===null||st===void 0?void 0:st.effect)!==Ie||((Ge=Q)===null||Ge===void 0?void 0:Ge.value)!==it?We(it,he):((Ke=Q)===null||Ke===void 0?void 0:Ke.effect)===Ie&&(Q=null)}},t)};for(let Ie of(ee=e.effects_UNSTABLE)!==null&&ee!==void 0?ee:[]){var ee;let We=Ie({node:N,trigger:j,setSelf:be(Ie),resetSelf:Ee(Ie),onSet:Re(Ie)});if(We!=null){var ne;c.set(L,[...((ne=c.get(L))!==null&&ne!==void 0?ne:[]),We])}}ue=!1}if(!(H instanceof N_)){var de;let ue=go(H)?JLe(p(L,H)):PI(H);q.atomValues.set(t,ue),(de=L.getState().nextTree)===null||de===void 0||de.atomValues.set(t,ue)}return()=>{var ue;i--,(ue=c.get(L))===null||ue===void 0||ue.forEach(be=>be()),c.delete(L),L.getState().knownAtoms.delete(t)}}function g(L,q){var j,B,H;return(j=(B=q.atomValues.get(t))!==null&&B!==void 0?B:(H=a)===null||H===void 0?void 0:H[1])!==null&&j!==void 0?j:o}function S(L,q){if(q.atomValues.has(t))return ei(q.atomValues.get(t));if(q.nonvalidatedAtoms.has(t)){if(a!=null)return a;if(r==null)return ZW(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let j=q.nonvalidatedAtoms.get(t),B=r.validator(j,Gv);return a=B instanceof N_?o:PI(B),a}else return o}function I(){a=void 0}function M(L,q,j){if(q.atomValues.has(t)){let B=ei(q.atomValues.get(t));if(B.state==="hasValue"&&j===B.contents)return new Map}else if(!q.nonvalidatedAtoms.has(t)&&j instanceof N_)return new Map;return a=void 0,new Map().set(t,PI(j))}function P(){return $Ne(t)!==void 0&&i<=0}let N=Ser({key:t,nodeType:"atom",peek:g,get:S,set:M,init:m,invalidate:I,shouldDeleteConfigOnRelease:P,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return N}function ZNe(e){let n=e,{default:t}=n,r=En(n,["default"]);return Ier(t)?Oer(xr(Qe({},r),{default:t})):Aer(xr(Qe({},r),{default:t}))}function Oer(e){let t=ZNe(xr(Qe({},e),{default:Gv,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:xr(Qe({},e.persistence_UNSTABLE),{validator:n=>n instanceof N_?n:ei(e.persistence_UNSTABLE).validator(n,Gv)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=HL({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof N_?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Eer(r.key,$Ne(e.key)),r}var YNe=ZNe,BW=class{constructor(t){var r;Ln(this,"_map",void 0),Ln(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},Der={MapCache:BW},Per=Der.MapCache,Ler=Object.freeze({__proto__:null,MapCache:Per}),{LRUCache:tNe}=WNe,{MapCache:Ner}=Ler,DL={equality:"reference",eviction:"none",maxSize:1/0};function Rer({equality:e=DL.equality,eviction:t=DL.eviction,maxSize:r=DL.maxSize}=DL){let n=ker(e);return qer(t,r,n)}function ker(e){switch(e){case"reference":return t=>t;case"value":return t=>tN(t);}throw new Error(`Unrecognized equality policy ${e}`)}function qer(e,t,r){switch(e){case"keep-all":return new Ner({mapKey:r});case"lru":return new tNe({mapKey:r,maxSize:ei(t)});case"most-recent":return new tNe({mapKey:r,maxSize:1});}throw new Error(`Unrecognized eviction policy ${e}`)}var KNe=Rer,{setConfigDeletionHandler:jer}=Wu;function zer(e){var t,r;let n=KNe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let a=n.get(i);if(a!=null)return a;let g=e,{cachePolicyForParams_UNSTABLE:c}=g,p=En(g,["cachePolicyForParams_UNSTABLE"]),m=YNe(xr(Qe({},p),{key:`${e.key}__${(o=tN(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,m),jer(m.key,()=>{n.delete(i)}),m}}var Fer=zer,{setConfigDeletionHandler:Ber}=Wu,Uer=0;function Ver(e){var t,r;let n=KNe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let a=n.get(i);if(a!=null)return a;let c=`${e.key}__selectorFamily/${(o=tN(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${Uer++}`,p=I=>e.get(i)(I),m=e.cachePolicy_UNSTABLE,g=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,S;if(e.set!=null){let I=e.set;S=HL({key:c,get:p,set:(P,N)=>I(i)(P,N),cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:g})}else S=HL({key:c,get:p,cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:g});return n.set(i,S),Ber(S.key,()=>{n.delete(i)}),S}}var Cm=Ver,Ger=Cm({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Her(e){return Ger(e)}var Wer=Her,$er=Cm({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Zer(e){return $er(e)}var Yer=Zer;function Ker(e){return e}var Xer=Ker,{loadableWithError:XNe,loadableWithPromise:QNe,loadableWithValue:JNe}=jI;function rN(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(a){n[i]=a}return[r,n]}function Qer(e){return e!=null&&!go(e)}function nN(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function f$(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function UW(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>xr(Qe({},r),{[n]:t[i]}),{})}function k_(e,t,r){let n=r.map((i,o)=>i==null?JNe(t[o]):go(i)?QNe(i):XNe(i));return UW(e,n)}function Jer(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var etr=Cm({key:"__waitForNone",get:e=>({get:t})=>{let r=nN(e),[n,i]=rN(t,r);return k_(e,n,i)},dangerouslyAllowMutability:!0}),ttr=Cm({key:"__waitForAny",get:e=>({get:t})=>{let r=nN(e),[n,i]=rN(t,r);return i.some(o=>!go(o))?k_(e,n,i):new Promise(o=>{for(let[a,c]of i.entries())go(c)&&c.then(p=>{n[a]=f$(p),i[a]=void 0,o(k_(e,n,i))}).catch(p=>{i[a]=p,o(k_(e,n,i))})})},dangerouslyAllowMutability:!0}),rtr=Cm({key:"__waitForAll",get:e=>({get:t})=>{let r=nN(e),[n,i]=rN(t,r);if(i.every(a=>a==null))return UW(e,n);let o=i.find(Qer);if(o!=null)throw o;return Promise.all(i).then(a=>UW(e,Jer(n,a).map(f$)))},dangerouslyAllowMutability:!0}),ntr=Cm({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=nN(e),[n,i]=rN(t,r);return i.every(o=>!go(o))?k_(e,n,i):Promise.all(i.map((o,a)=>go(o)?o.then(c=>{n[a]=f$(c),i[a]=void 0}).catch(c=>{n[a]=void 0,i[a]=c}):null)).then(()=>k_(e,n,i))},dangerouslyAllowMutability:!0}),itr=Cm({key:"__noWait",get:e=>({get:t})=>{try{return JNe(t(e))}catch(r){return go(r)?QNe(r):XNe(r)}},dangerouslyAllowMutability:!0}),otr={waitForNone:etr,waitForAny:ttr,waitForAll:rtr,waitForAllSettled:ntr,noWait:itr},{batchUpdates:atr,setBatcher:str}=JW,{DefaultValue:ltr}=Wu,{RecoilRoot:utr}=QL,{isRecoilValue:ctr}=Tm,{retentionZone:ftr}=$L,{freshSnapshot:ptr}=XL,{useGotoRecoilSnapshot:dtr,useRecoilCallback:htr,useRecoilSnapshot:mtr,useRecoilState:gtr,useRecoilStateLoadable:vtr,useRecoilTransaction:ytr,useRecoilTransactionObserver:_tr,useRecoilValue:xtr,useRecoilValueLoadable:btr,useResetRecoilState:wtr,useRetain:Str,useSetRecoilState:Etr,useSetUnvalidatedAtomValues:Itr,useTransactionObservation_DEPRECATED:Ttr}=NJt,{noWait:Ctr,waitForAll:Mtr,waitForAllSettled:Atr,waitForAny:Otr,waitForNone:Dtr}=otr,In={DefaultValue:ltr,RecoilRoot:utr,useRecoilBridgeAcrossReactRoots_UNSTABLE:VJt,atom:YNe,selector:HL,retentionZone:ftr,atomFamily:Fer,selectorFamily:Cm,constSelector:Wer,errorSelector:Yer,readOnlySelector:Xer,useRecoilValue:xtr,useRecoilValueLoadable:btr,useRecoilState:gtr,useRecoilStateLoadable:vtr,useSetRecoilState:Etr,useResetRecoilState:wtr,useGetRecoilValueInfo_UNSTABLE:jJt,useRetain:Str,useRecoilCallback:htr,useRecoilTransaction_UNSTABLE:ytr,useGotoRecoilSnapshot:dtr,useRecoilSnapshot:mtr,useRecoilTransactionObserver_UNSTABLE:_tr,useTransactionObservation_UNSTABLE:Ttr,useSetUnvalidatedAtomValues_UNSTABLE:Itr,noWait:Ctr,waitForNone:Dtr,waitForAny:Otr,waitForAll:Mtr,waitForAllSettled:Atr,isRecoilValue:ctr,batchUpdates:atr,setBatcher:str,snapshot_UNSTABLE:ptr},EFr=In.DefaultValue,e5e=In.RecoilRoot,IFr=In.useRecoilBridgeAcrossReactRoots_UNSTABLE,vo=In.atom,p$=In.selector,TFr=In.retentionZone,CFr=In.atomFamily,MFr=In.selectorFamily,AFr=In.constSelector,OFr=In.errorSelector,DFr=In.readOnlySelector,Ft=In.useRecoilValue,PFr=In.useRecoilValueLoadable,zi=In.useRecoilState,LFr=In.useRecoilStateLoadable,Fr=In.useSetRecoilState,NFr=In.useResetRecoilState,RFr=In.useGetRecoilValueInfo_UNSTABLE,kFr=In.useRetain,qFr=In.useRecoilCallback,jFr=In.useRecoilTransaction_UNSTABLE,zFr=In.useGotoRecoilSnapshot,FFr=In.useRecoilSnapshot,BFr=In.useRecoilTransactionObserver_UNSTABLE,UFr=In.useTransactionObservation_UNSTABLE,VFr=In.useSetUnvalidatedAtomValues_UNSTABLE,GFr=In.noWait,HFr=In.waitForNone,WFr=In.waitForAny,$Fr=In.waitForAll,ZFr=In.waitForAllSettled,YFr=In.isRecoilValue,KFr=In.batchUpdates,XFr=In.setBatcher,QFr=In.snapshot_UNSTABLE;var Mm=J(De());var iN=J(De()),Ptr=e=>{let t=iN.useRef(e);return iN.useEffect(()=>{t.current=e}),t},oN=Ptr;var Ltr=(e,t=100,r=!1)=>{let n=oN(e),i=Mm.useRef(),o=[t,r,n];function a(){i.current&&clearTimeout(i.current),i.current=void 0}Mm.useEffect(()=>a,o);function c(){i.current=void 0}return Mm.useCallback(function(){let p=arguments,{current:m}=i;if(m===void 0&&r)return i.current=setTimeout(c,t),n.current.apply(null,p);m&&clearTimeout(m),i.current=setTimeout(()=>{i.current=void 0,n.current.apply(null,p)},t)},o)},t5e=(e,t,r)=>{let n=Mm.useState(e);return[n[0],Ltr(n[1],t,r)]};var F_=J(De());function Ntr(e,t,r,n){let i=F_.useRef(r),o=F_.useRef(n);F_.useEffect(()=>{i.current=r,o.current=n}),F_.useEffect(()=>{let a=e&&"current"in e?e.current:e;if(!a)return;let c=0;function p(...g){c||i.current.apply(this,g)}a.addEventListener(t,p);let m=o.current;return()=>{c=1,a.removeEventListener(t,p),m&&m()}},[e,t])}var aN=Ntr;var Rtr={},BI=typeof window=="undefined"?null:window,ktr=BI&&typeof BI.visualViewport!="undefined"?BI.visualViewport:null,r5e=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],qtr=function(e){e===void 0&&(e=Rtr);let{wait:t,leading:r,initialWidth:n=0,initialHeight:i=0}=e,[o,a]=t5e(typeof document=="undefined"?[n,i]:r5e,t,r),c=()=>a(r5e);return aN(BI,"resize",c),aN(ktr,"resize",c),aN(BI,"orientationchange",c),o};var n5e=e=>qtr(e)[0];var gXe=J(mt(),1);var nu=J(De(),1);var AN=J(mt(),1);var gl=vo({key:"notificationState",default:null});var Uc=J(De(),1);var $u=[];var f5e=function(){return $u.some(function(e){return e.activeTargets.length>0})};var p5e=function(){return $u.some(function(e){return e.skippedTargets.length>0})};var d5e="ResizeObserver loop completed with undelivered notifications.",h5e=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:d5e}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=d5e),window.dispatchEvent(e)};var $v;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})($v||($v={}));var Fc=function(e){return Object.freeze(e)};var d$=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Fc(this)}return e}();var h$=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Fc(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,a=t.bottom,c=t.left,p=t.width,m=t.height;return{x:r,y:n,top:i,right:o,bottom:a,left:c,width:p,height:m}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var UI=function(e){return e instanceof SVGElement&&"getBBox"in e},sN=function(e){if(UI(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},m$=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},m5e=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1};var Zv=typeof window!="undefined"?window:{};var lN=new WeakMap,g5e=/auto|scroll/,Ftr=/^tb|vertical/,Btr=/msie|trident/i.test(Zv.navigator&&Zv.navigator.userAgent),jf=function(e){return parseFloat(e||"0")},B_=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new d$((r?t:e)||0,(r?e:t)||0)},v5e=Fc({devicePixelContentBoxSize:B_(),borderBoxSize:B_(),contentBoxSize:B_(),contentRect:new h$(0,0,0,0)}),g$=function(e,t){if(t===void 0&&(t=!1),lN.has(e)&&!t)return lN.get(e);if(sN(e))return lN.set(e,v5e),v5e;var r=getComputedStyle(e),n=UI(e)&&e.ownerSVGElement&&e.getBBox(),i=!Btr&&r.boxSizing==="border-box",o=Ftr.test(r.writingMode||""),a=!n&&g5e.test(r.overflowY||""),c=!n&&g5e.test(r.overflowX||""),p=n?0:jf(r.paddingTop),m=n?0:jf(r.paddingRight),g=n?0:jf(r.paddingBottom),S=n?0:jf(r.paddingLeft),I=n?0:jf(r.borderTopWidth),M=n?0:jf(r.borderRightWidth),P=n?0:jf(r.borderBottomWidth),N=n?0:jf(r.borderLeftWidth),L=S+m,q=p+g,j=N+M,B=I+P,H=c?e.offsetHeight-B-e.clientHeight:0,Q=a?e.offsetWidth-j-e.clientWidth:0,ee=i?L+j:0,ne=i?q+B:0,de=n?n.width:jf(r.width)-ee-Q,ue=n?n.height:jf(r.height)-ne-H,be=de+L+Q+j,Ee=ue+q+H+B,Re=Fc({devicePixelContentBoxSize:B_(Math.round(de*devicePixelRatio),Math.round(ue*devicePixelRatio),o),borderBoxSize:B_(be,Ee,o),contentBoxSize:B_(de,ue,o),contentRect:new h$(S,p,de,ue)});return lN.set(e,Re),Re},uN=function(e,t,r){var n=g$(e,r),i=n.borderBoxSize,o=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case $v.DEVICE_PIXEL_CONTENT_BOX:return a;case $v.BORDER_BOX:return i;default:return o;}};var v$=function(){function e(t){var r=g$(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Fc([r.borderBoxSize]),this.contentBoxSize=Fc([r.contentBoxSize]),this.devicePixelContentBoxSize=Fc([r.devicePixelContentBoxSize])}return e}();var cN=function(e){if(sN(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var y5e=function(){var e=1/0,t=[];$u.forEach(function(a){if(a.activeTargets.length!==0){var c=[];a.activeTargets.forEach(function(m){var g=new v$(m.target),S=cN(m.target);c.push(g),m.lastReportedSize=uN(m.target,m.observedBox),S<e&&(e=S)}),t.push(function(){a.callback.call(a.observer,c,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var y$=function(e){$u.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(cN(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var _5e=function(){var e=0;for(y$(e);f5e();)e=y5e(),y$(e);return p5e()&&h5e(),e>0};var _$,x5e=[],Utr=function(){return x5e.splice(0).forEach(function(e){return e()})},b5e=function(e){if(!_$){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Utr()}).observe(r,n),_$=function(){r.textContent="".concat(t?t--:t++)}}x5e.push(e),_$()};var w5e=function(e){b5e(function(){requestAnimationFrame(e)})};var fN=0,Vtr=function(){return!!fN},Gtr=250,Htr={attributes:!0,characterData:!0,childList:!0,subtree:!0},S5e=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],E5e=function(e){return e===void 0&&(e=0),Date.now()+e},x$=!1,Wtr=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Gtr),!x$){x$=!0;var n=E5e(t);w5e(function(){var i=!1;try{i=_5e()}finally{if(x$=!1,t=n-E5e(),!Vtr())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Htr)};document.body?r():Zv.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),S5e.forEach(function(r){return Zv.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),S5e.forEach(function(r){return Zv.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),pN=new Wtr,b$=function(e){!fN&&e>0&&pN.start(),fN+=e,!fN&&pN.stop()};var $tr=function(e){return!UI(e)&&!m5e(e)&&getComputedStyle(e).display==="inline"},I5e=function(){function e(t,r){this.target=t,this.observedBox=r||$v.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=uN(this.target,this.observedBox,!0);return $tr(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var T5e=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var dN=new WeakMap,C5e=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},VI=function(){function e(){}return e.connect=function(t,r){var n=new T5e(t,r);dN.set(t,n)},e.observe=function(t,r,n){var i=dN.get(t),o=i.observationTargets.length===0;C5e(i.observationTargets,r)<0&&(o&&$u.push(i),i.observationTargets.push(new I5e(r,n&&n.box)),b$(1),pN.schedule())},e.unobserve=function(t,r){var n=dN.get(t),i=C5e(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&$u.splice($u.indexOf(n),1),n.observationTargets.splice(i,1),b$(-1))},e.disconnect=function(t){var r=this,n=dN.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var w$=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");VI.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!m$(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");VI.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!m$(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");VI.unobserve(this,t)},e.prototype.disconnect=function(){VI.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var M5e=J(De()),Ztr=M5e.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],A5e=Ztr;var Ytr=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:w$;function Ktr(){}function Xtr(e,t){let r=Jtr(),n=oN(t);return A5e(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return Ktr;function a(c,p){i||n.current(c,p)}return r.subscribe(o,a),()=>{i=!0,r.unsubscribe(o,a)}},[e,r,n]),r.observer}function Qtr(){let e=!1,t=[],r=new Map,n=new Ytr((i,o)=>{t=t.concat(i);function a(){let c=new Set;for(let p=0;p<t.length;p++){if(c.has(t[p].target))continue;c.add(t[p].target);let m=r.get(t[p].target);m==null||m.forEach(g=>g(t[p],o))}t=[],e=!1}e||window.requestAnimationFrame(a),e=!0});return{observer:n,subscribe(i,o){var a;n.observe(i);let c=(a=r.get(i))!==null&&a!==void 0?a:[];c.push(o),r.set(i,c)},unsubscribe(i,o){var a;let c=(a=r.get(i))!==null&&a!==void 0?a:[];if(c.length===1){n.unobserve(i),r.delete(i);return}let p=c.indexOf(o);p!==-1&&c.splice(p,1),r.set(i,c)}}}var S$,Jtr=()=>S$||(S$=Qtr()),O5e=Xtr;var e4e=J(Am(),1);var Bc=J($I(),1);var $rr="vkf-unique-control-panel",W$="basemap-selector",H$=class{constructor(){nt(this,"id",W$)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${$rr}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},qRe=H$;var Kv=J($Re(),1);var ZRe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var bN=3,YRe=e=>`${(0,Kv.default)(e[0],7)},${(0,Kv.default)(e[1],7)}`,wN=class{constructor(){nt(this,"buttonCopyPosition");nt(this,"textElCurrentPosition");nt(this,"textElSavedPosition");nt(this,"targetEl");nt(this,"_container");nt(this,"_button");nt(this,"savedPosition");nt(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),Ne("control-mouseposition-save-helper");{let t=Ne("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,Kv.default)(this.savedPosition[0],bN)+" Lat: "+(0,Kv.default)(this.savedPosition[1],bN)}});nt(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(YRe(r)),this.updatePosition(t)}});nt(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,Kv.default)(i.lng,bN)+", Lat: "+(0,Kv.default)(i.lat,bN),n.innerHTML=this.generateSavedText()});nt(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(YRe(r)),t.target.blur()});nt(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,a=ZRe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let c=document.createElement("p");this.textElCurrentPosition=c;let p=document.createElement("p");this.textElSavedPosition=p;let m=document.createElement("button");m.id="position-copy-to-clipboard",m.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",m.title=Ne("control-mouseposition-button-title"),this.buttonCopyPosition=m,m.addEventListener("click",this.handleCopyButtonClick);let g=document.createElement("div");g.className="saved-position-container",g.appendChild(p),g.appendChild(m),o.appendChild(c),o.appendChild(g),a.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),a.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=Ne("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function KRe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function H_(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function XRe(e){e.parentNode&&e.parentNode.removeChild(e)}var Y$="permalink-control",Z$=class{constructor(){nt(this,"id",Y$)}onAdd(t){return this._map=t,this._container=H_("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},QRe=Z$;var SN=class{constructor(){nt(this,"_map");nt(this,"_container");nt(this,"_terrainButton");KRe(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=H_("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=H_("button","maplibregl-ctrl-terrain",this._container),H_("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){XRe(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function Tt(e){return e!=null}function EN(e){return typeof e=="string"||e instanceof String}function Ne(e){let t=Tr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var JRe=()=>[{position:"top-left",control:new Bc.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new Bc.FullscreenControl},{position:"top-left",control:new Bc.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new wN},{position:"top-left",control:new SN},{position:"top-left",control:new qRe},{position:"top-left",control:new Bc.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new QRe},{position:"bottom-right",control:new Bc.AttributionControl({compact:!0})},{position:"bottom-right",control:new Bc.ScaleControl({maxWidth:137})}];var W_={EN:"en",DE:"de"},yl={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:W_.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1},Tr={axiosApiInstance:null,appendSettings(e){yl=Object.assign({},yl,e)},getSettings(){return yl},getBaseMaps(){return yl.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},yl.MAPVIEW_PARAMS)},getLanguageDict(){return yl.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return yl.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},yl.TERRAIN_TILES)},getUsername(){return yl.USERNAME},isUserAuthenticated(){return yl.USER_ISAUTHENTICATED===!0},updateSettings(e){yl=e},_initAxiosApiInstance(){let e=yl.API_GEOREFERENCE_BASEURL,t=EN(e)&&e.length===0;if(!Tt(e)||t)throw new Error("The URL for the georeference service is not set.");let r={"Dev-Mode-Secret":"","Dev-Mode-Name":""},n=Object.assign({baseURL:e,withCredentials:!0},r?{headers:{get:r,post:r,put:r,delete:r}}:{});this.axiosApiInstance=e4e.default.create(n)},getGeoreferenceApiClient(){return Tt(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=yl.MARKER_URL;if(!Tt(e))throw new Error("The marker icon url is not set.");return{id:yl.MARKER_IMAGE_ID,url:e}}};var Om="vkf-terrain";var t4e=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),r4e=new Set(["visibility"]),_l={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},Fo={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var xl={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},dnr={EXTRA_SMALL:600,SMALL:600,MEDIUM:768,LARGE:992},n4e=e=>e>=dnr.LARGE?xl.HORIZONTAL:xl.VERTICAL,i4e=e=>{switch(e){case xl.HORIZONTAL:default:return"ol-map-large";case xl.VERTICAL:return"ol-map-small";}};var Ff=vo({key:"activeBasemapId",default:Tr.getSettings().BASEMAPS[0].id}),IN=vo({key:"currentApplicationState",default:void 0}),$_=vo({key:"elementScreenSize",default:{map:{height:0,width:0},layermanagement:{height:0,width:0},padding:{height:15,width:15},offset:{height:15,width:0},spatialtemporalsearch:{height:0,width:0}}}),o4e={facets:[],georeference:!1},Zu=vo({key:"facetState",default:{facets:[],georeference:!1}}),Z_=vo({key:"layoutState",default:xl.VERTICAL}),Qr=vo({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),a4e=vo({key:"map3dState",default:!1}),Y_=vo({key:"mapCountState",default:10}),TN=vo({key:"searchIsLoadingState",default:!1}),ai=vo({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),CN=vo({key:"selectedOriginalMapIdState",default:void 0}),dd=vo({key:"selectedGeoJsonLayerIdState",default:void 0}),K$=vo({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),s4e=p$({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(dd),r=e(ai),n=e(K$);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),ZI=vo({key:"selectedGeoJsonFeatureIdentifierState",default:{featureId:void 0,sourceId:void 0}}),l4e=p$({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let{featureId:t,sourceId:r}=e(ZI);return Tt(t)&&Tt(r)}}),Dm=vo({key:"timeExtentState",default:[1850,1970]}),X$=[1850,1970],Pm=vo({key:"timeRangeState",default:X$}),MN=vo({key:"baseMapStyleLayersState",default:[]}),u4e=vo({key:"activeDialogState",default:_l.None});function c4e(e,t=250){let r=(0,Uc.useRef)();return(0,Uc.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function f4e(e){let[t,r]=(0,Uc.useState)(e);return(0,Uc.useEffect)(()=>{r(e)},[e]),t}function K_(e,t){let r=Fr($_),n=Q$(e);(0,Uc.useEffect)(()=>{let{height:i,width:o}=n;r(a=>Object.assign({},a,{[t]:{height:i,width:o}}))},[n])}var Q$=e=>{let[t,r]=(0,Uc.useState)({height:0,width:0});return(0,Uc.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),O5e(e,n=>r(n.contentRect)),t};function p4e(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=p4e(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function hnr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=p4e(e))&&(n&&(n+=" "),n+=t);return n}var Ct=hnr;var d4e=e=>{let{onClose:t,text:r,type:n}=e;return nu.default.createElement("div",{className:"notification-item"},nu.default.createElement("div",{className:Ct("alert","alert-"+n),role:"alert"},nu.default.createElement("div",{className:"close"},nu.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},nu.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),nu.default.createElement("div",{className:"text"},r)))};d4e.propTypes={onClose:AN.default.func,text:AN.default.string,type:AN.default.string};var mnr=()=>{let e=Ft(gl),t=f4e(e),[r,n]=(0,nu.useState)([]);return(0,nu.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(a=>a.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(a=>a!==void 0))}},[e,r,t]),nu.default.createElement("div",{className:Ct("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},a)=>nu.default.createElement(d4e,{key:a,onClose:()=>{let c=[...r];c.splice(a,1),n(c)},type:i,text:o})))},h4e=mnr;var m4e=h4e;var Hm=J(De(),1);var pBe=J(tZ(),1);var J_=J(De(),1);var vr={id:"id",timePublished:"time_published",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",type:"type",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name"},md={id:"vkf:layer_id"},_o={GEOJSON:"geojson",HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic"};var X_=class e{constructor({metadata:t,geometry:r}){nt(this,"metadata",{});nt(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return Tt(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!Tt(t)||!Tt(r)){console.warn("Trying to update metadata without key or value");return}if(!Tt(vr[t])){console.warn(`Trying to update metadata with invalid key '${t}'`);return}this.metadata[t]=r}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var U4e=J(Am(),1);var yn=e=>e!==void 0,N4e=(e,t,r)=>t in e?e[t]:e[t]=r,YI={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},iZ=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return PN(t,r).join("")}};function PN(e,t){return R4e(e,t,[]).join("")}function R4e(e,t,r){if(e.nodeType===YI.CDATA_SECTION||e.nodeType===YI.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)R4e(n,t,r)}return r}function Inr(e,t,r,n){for(var i=Tnr(t);i;i=Cnr(i)){var o=i.namespaceURI||null,a=e[o];if(yn(a)){var c=a[i.localName];yn(c)&&c.call(n,i,r)}}}function Tnr(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==YI.ELEMENT;)t=t.nextSibling;return t}function Cnr(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==YI.ELEMENT;)t=t.nextSibling;return t}function Ea(e,t,r){return Mnr(e,t,r)}function Mnr(e,t,r){var n=yn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function k4e(e,t){return function(r,n){var i=e.call(yn(t)?t:this,r,n);if(yn(i)){var o=n[n.length-1];o.push(i)}}}function ra(e,t,r,n,i){return n.push(e),Inr(t,r,n,i),n.pop()}function hr(e,t,r){return function(n,i){let o=e.call(yn(r)?r:this,n,i);if(yn(o)){var a=i[i.length-1],c=yn(t)?t:n.localName;a[c]=o}}}function wl(e,t,r){return function(n,i){var o=e.call(yn(r)?r:this,n,i);if(yn(o)){var a=i[i.length-1],c=yn(t)?t:n.localName,p=N4e(a,c,[]);p.push(o)}}}var Anr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Onr(e){return e.replace(Anr,"")}function Xv(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return yn(t[1])||!1}function Q_(e){return gd(PN(e,!1))}function gd(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function rZ(e){return ON(PN(e,!1))}function ON(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Bn(e){return Onr(PN(e,!1))}var Dnr="http://www.w3.org/1999/xlink";function oZ(e){return e.getAttributeNS(Dnr,"href")}function Pnr(e,t){return ra({},oir,e,t)}function q4e(e){return[gd(e.getAttribute("minx")),gd(e.getAttribute("miny")),gd(e.getAttribute("maxx")),gd(e.getAttribute("maxy"))]}function Lnr(e,t){let r=q4e(e),n=[gd(e.getAttribute("resx")),gd(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function Nnr(e,t){let r=q4e(e);if(!(!yn(r[0])||!yn(r[1])||!yn(r[2])||!yn(r[3])))return r}function Rnr(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function knr(e,t){let r=ra({},air,e,t);if(!yn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,a=r.northBoundLatitude;if(!(!yn(n)||!yn(i)||!yn(o)||!yn(a)))return[n,i,o,a]}function qnr(e,t){return ra({},Jnr,e,t)}function jnr(e,t){return ra({},eir,e,t)}function znr(e,t){return ra({},tir,e,t)}function Fnr(e,t){return ra({},rir,e,t)}function Bnr(e,t){return ra({},nir,e,t)}function Unr(e,t){return ra([],iir,e,t)}function Vnr(e,t){let r=Xv(e.getAttribute("queryable"));return ra({queryable:yn(r)?r:!1},F4e,e,t)}function Gnr(e,t){var r=t[t.length-1];let n=ra({},F4e,e,t);if(!yn(n))return;let i=Xv(e.getAttribute("queryable"));yn(i)||(i=r.queryable),n.queryable=yn(i)?i:!1;let o=ON(e.getAttribute("cascaded"));yn(o)||(o=r.cascaded),n.cascaded=o;let a=Xv(e.getAttribute("opaque"));yn(a)||(a=r.opaque),n.opaque=yn(a)?a:!1;let c=Xv(e.getAttribute("noSubsets"));yn(c)||(c=r.noSubsets),n.noSubsets=yn(c)?c:!1;let p=gd(e.getAttribute("fixedWidth"));yn(p)||(p=r.fixedWidth),n.fixedWidth=p;let m=gd(e.getAttribute("fixedHeight"));yn(m)||(m=r.fixedHeight),n.fixedHeight=m;let g=["Style","CRS","AuthorityURL"];for(let I=0,M=g.length;I<M;I++){let P=g[I],N=r[P];if(yn(N)){let L=N4e(n,P,[]);L=L.concat(N),n[P]=L}}let S=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let I=0,M=S.length;I<M;I++){let P=S[I],N=n[P];if(!yn(N)){let L=r[P];n[P]=L}}return n}function Hnr(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Xv(e.getAttribute("multipleValues")),nearestValue:Xv(e.getAttribute("nearestValue")),current:Xv(e.getAttribute("current")),values:Bn(e)}}function vd(e,t){return ra({},pir,e,t)}function Wnr(e,t){return ra({},sir,e,t)}function $nr(e,t){return ra({},uir,e,t)}function Znr(e,t){return ra({},cir,e,t)}function nZ(e,t){return ra({},lir,e,t)}function j4e(e,t){var r=vd(e,t);if(yn(r)){let n=[ON(e.getAttribute("width")),ON(e.getAttribute("height"))];return r.size=n,r}}function Ynr(e,t){var r=vd(e,t);if(yn(r))return r.name=e.getAttribute("name"),r}function Knr(e,t){var r=vd(e,t);if(yn(r))return r.type=e.getAttribute("type"),r}function Xnr(e,t){return ra({},fir,e,t)}function z4e(e,t){return ra([],dir,e,t)}var Ia=[null,"http://www.opengis.net/wms"],Qnr=Ea(Ia,{Service:hr(jnr),Capability:hr(qnr)}),Jnr=Ea(Ia,{Request:hr(Wnr),Exception:hr(Unr),Layer:hr(Vnr)}),eir=Ea(Ia,{Name:hr(Bn),Title:hr(Bn),Abstract:hr(Bn),KeywordList:hr(z4e),OnlineResource:hr(oZ),ContactInformation:hr(znr),Fees:hr(Bn),AccessConstraints:hr(Bn),LayerLimit:hr(rZ),MaxWidth:hr(rZ),MaxHeight:hr(rZ)}),tir=Ea(Ia,{ContactPersonPrimary:hr(Fnr),ContactPosition:hr(Bn),ContactAddress:hr(Bnr),ContactVoiceTelephone:hr(Bn),ContactFacsimileTelephone:hr(Bn),ContactElectronicMailAddress:hr(Bn)}),rir=Ea(Ia,{ContactPerson:hr(Bn),ContactOrganization:hr(Bn)}),nir=Ea(Ia,{AddressType:hr(Bn),Address:hr(Bn),City:hr(Bn),StateOrProvince:hr(Bn),PostCode:hr(Bn),Country:hr(Bn)}),iir=Ea(Ia,{Format:k4e(Bn)}),F4e=Ea(Ia,{Name:hr(Bn),Title:hr(Bn),Abstract:hr(Bn),KeywordList:hr(z4e),CRS:wl(Bn),SRS:wl(Bn),EX_GeographicBoundingBox:hr(knr),LatLonBoundingBox:hr(Nnr),BoundingBox:wl(Lnr),Dimension:wl(Hnr),Attribution:hr(Pnr),AuthorityURL:wl(Ynr),Identifier:wl(Bn),MetadataURL:wl(Knr),DataURL:wl(vd),FeatureListURL:wl(vd),Style:wl(Xnr),MinScaleDenominator:hr(Q_),MaxScaleDenominator:hr(Q_),ScaleHint:hr(Rnr),Layer:wl(Gnr)}),oir=Ea(Ia,{Title:hr(Bn),OnlineResource:hr(oZ),LogoURL:hr(j4e)}),air=Ea(Ia,{westBoundLongitude:hr(Q_),eastBoundLongitude:hr(Q_),southBoundLatitude:hr(Q_),northBoundLatitude:hr(Q_)}),sir=Ea(Ia,{GetCapabilities:hr(nZ),GetMap:hr(nZ),GetFeatureInfo:hr(nZ)}),lir=Ea(Ia,{Format:wl(Bn),DCPType:wl($nr)}),uir=Ea(Ia,{HTTP:hr(Znr)}),cir=Ea(Ia,{Get:hr(vd),Post:hr(vd)}),fir=Ea(Ia,{Name:hr(Bn),Title:hr(Bn),Abstract:hr(Bn),LegendURL:wl(j4e),StyleSheetURL:hr(vd),StyleURL:hr(vd)}),pir=Ea(Ia,{Format:hr(Bn),OnlineResource:hr(oZ)}),dir=Ea(Ia,{Keyword:k4e(Bn)}),DN=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new iZ(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==YI.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),ra({version:this.version},Qnr,t,[])||null}};var LN="wms-base-map-layer",KI="wms-base-map-source",XI="xyz-base-map-layer",NN="xyz-base-map-source";function V4e(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function B4e(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function RN(e){return ko(this,null,function*(){let t=yield U4e.default.get(e);if(t.status===200){let r=new DN().parse(t.data);return console.log("parse",B4e(e.split("?")[0],r)),B4e(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var G4e=(e,t,r)=>{if(!t)return!1;if($4e(e,r),!e.getSource(KI)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(KI,n);let i=e.getStyle().layers[0].id;e.addLayer({id:LN,type:"raster",source:KI,paint:{}},i)}},H4e=e=>{for(let{id:t}of e.getStyle().layers)(t===LN||t===XI)&&e.setLayoutProperty(t,"visibility","visible")},QI=e=>{H4e(e),e.getLayer(LN)&&e.removeLayer(LN),e.getSource(KI)&&e.removeSource(KI)},W4e=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},$4e=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},Z4e=(e,t,r)=>{if(!t)return!1;if($4e(e,r),QI(e),!e.getSource(XI)){e.addSource(NN,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:XI,type:"raster",source:NN,paint:{}},n)}},Y4e=e=>{H4e(e),e.getLayer(XI)&&e.removeLayer(XI),e.getSource(NN)&&e.removeSource(NN)};var n3e=J(Am(),1);var qN=J(De(),1);var JI=J(De(),1);var kN=J(mt(),1);var K4e=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},hir=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},X4e=e=>{let t=Ft(Qr);return(0,JI.useEffect)(()=>{if(Tt(t)){let r=()=>{K4e(t,Qe({},e))};return t._loaded?K4e(t,Qe({},e)):t.once("load",r),()=>{hir(t,Qe({},e)),t.off("load",r)}}},[t]),JI.default.createElement(JI.default.Fragment,null)};X4e.propTypes={sourceId:kN.default.string.isRequired,fillId:kN.default.string.isRequired,outlineId:kN.default.string.isRequired};var Q4e=X4e;var J4e=Q4e;var e3e="vkf-map-overlay-source",Vc="vkf-map-overlay-fill",mir="vkf-map-overlay-outline",aZ=(e,t)=>{let r=e.getSource(e3e);r&&r.setData(t)},t3e=()=>qN.default.createElement(qN.default.Fragment,null,qN.default.createElement(J4e,{sourceId:e3e,fillId:Vc,outlineId:mir}));t3e.propTypes={};var r3e=t3e;var gir=e=>ko(void 0,null,function*(){var t;try{let r=yield n3e.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),a=n.getElementsByTagName("TileSet"),c=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:a.length-1,tileSize:c}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),i3e=(e,t,r)=>ko(void 0,null,function*(){let n=e.getId(),i=e.getMetadata(vr.tmsUrls),o=e.getMetadata(vr.onlineResources).find(m=>m.type==="WMS").url,a=Array.isArray(i)&&i.length>0,c;if(a){let{maxZoom:m,bounds:g,tileSize:S}=yield gir(i[0]);c={bounds:g,tileSize:S,maxzoom:m,tiles:i.map(I=>`${I}/{z}/{x}/{y}.png`),scheme:"tms"}}else c={tiles:(yield RN(o))[0].urls};t.addSource(n,xr(Qe({type:"raster"},c),{bounds:e.getMetadata(vr.bounds)}));let p=t.getLayer(Vc)!==void 0?Vc:void 0;t.addLayer({id:n,type:"raster",metadata:{[md.id]:n},source:n,layout:{visibility:r.visibility},paint:{"raster-opacity":r.opacity}},p)});function sZ(e,t,r){if(e!==null)for(var n,i,o,a,c,p,m,g=0,S=0,I,M=e.type,P=M==="FeatureCollection",N=M==="Feature",L=P?e.features.length:1,q=0;q<L;q++){m=P?e.features[q].geometry:N?e.geometry:e,I=m?m.type==="GeometryCollection":!1,c=I?m.geometries.length:1;for(var j=0;j<c;j++){var B=0,H=0;if(a=I?m.geometries[j]:m,a!==null){p=a.coordinates;var Q=a.type;switch(g=r&&(Q==="Polygon"||Q==="MultiPolygon")?1:0,Q){case null:break;case"Point":if(t(p,S,q,B,H)===!1)return!1;S++,B++;break;case"LineString":case"MultiPoint":for(n=0;n<p.length;n++){if(t(p[n],S,q,B,H)===!1)return!1;S++,Q==="MultiPoint"&&B++}Q==="LineString"&&B++;break;case"Polygon":case"MultiLineString":for(n=0;n<p.length;n++){for(i=0;i<p[n].length-g;i++){if(t(p[n][i],S,q,B,H)===!1)return!1;S++}Q==="MultiLineString"&&B++,Q==="Polygon"&&H++}Q==="Polygon"&&B++;break;case"MultiPolygon":for(n=0;n<p.length;n++){for(H=0,i=0;i<p[n].length;i++){for(o=0;o<p[n][i].length-g;o++){if(t(p[n][i][o],S,q,B,H)===!1)return!1;S++}H++}B++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(sZ(a.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function eT(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return sZ(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var tT,jN,o3e,lZ=class extends X_{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});V0(this,jN);V0(this,tT,!1);Yl(this,jN,o3e).call(this)}addLayerToMap(r,n={visibility:"visible",opacity:1}){return r.getSource(this.getId())?Promise.reject(`Source with id '${this.getId()}' exists already in map.`):i3e(this,r,n)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.toGeoJSON();o.id=this.getId();let a=[o];i.updateData({add:a})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}toGeoJSON(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return _o.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){r.moveLayer(this.getId(),n!=null?n:Vc)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return $g(this,tT)}setIsMissing(r){ene(this,tT,r)}};tT=new WeakMap,jN=new WeakSet,o3e=function(){let r=this.geometry?eT(this.geometry):void 0;this.metadata[vr.bounds]=r};var a3e=lZ;var Gc=a3e;var Tn={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},uZ={[Tn.LINE]:"line-opacity",[Tn.FILL]:"fill-opacity",[Tn.OUTLINE]:"outline-opacity"},cZ={[Tn.LINE]:"stroke-opacity",[Tn.FILL]:"fill-opacity",[Tn.OUTLINE]:"stroke-opacity"},fZ=e=>Object.keys(cZ).includes(e),Ao={[Tn.SYMBOL]:{COLOR:"#0000FF"},[Tn.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[Tn.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[Tn.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},pZ={[Tn.SYMBOL]:{type:"symbol",layout:{"icon-image":Tr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom"},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],Ao[Tn.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["in","$type","Point"]},[Tn.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Ao[Tn.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Ao[Tn.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Ao[Tn.LINE].OPACITY]},filter:["in","$type","LineString"]},[Tn.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Ao[Tn.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Ao[Tn.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Ao[Tn.OUTLINE].OPACITY]},filter:["in","$type","Polygon"]},[Tn.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],Ao[Tn.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],Ao[Tn.FILL].OPACITY]},filter:["in","$type","Polygon"]}};var s3e=(e,t)=>{let r=e,n=r.getId(),i=r.getGeoJson(),o=r.getType();t.addSource(n,{type:o,data:i});let a=t.getLayer(Vc)!==void 0?Vc:void 0;for(let c of Object.keys(Tn)){let p=Tn[c],m=`${n}-${p}`;t.addLayer(xr(Qe({id:m,source:n,metadata:{[md.id]:n}},pZ[p]),{layout:xr(Qe({},pZ[p].layout),{visibility:"visible"})}),a),e.addMapLayer(m)}};var l3e=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],Qv,is,u3e,c3e,f3e,Lm,dZ=class extends X_{constructor({metadata:r,geometry:n,geoJSON:i}){super({metadata:r,geometry:n});V0(this,is);nt(this,"geoJSON",{});V0(this,Qv,[]);this.geoJSON=i,Yl(this,is,u3e).call(this)}addLayerToMap(r){Tt(r)&&(s3e(this,r),Yl(this,is,c3e).call(this,r))}getGeoJson(){return this.geoJSON}setGeoJson(r){this.geoJSON=r}getFeature(r){let n=this.geoJSON.features.find(i=>i.id===r);return Tt(n)?n:(console.warn(`No feature found for id '${r}'`),null)}removeFeature(r){let n=this.geoJSON.features.findIndex(i=>i.id===r);if(n<0){console.warn(`Trying to remove a feature with non existing id '${r}'`);return}this.geoJSON.features.splice(n,1)}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0}getType(){return _o.GEOJSON}addMapLayer(r){Tt(r)&&$g(this,Qv).push(r)}getMapLibreLayerId(){return $g(this,Qv).length>0?$g(this,Qv)[0]:null}removeMapLibreLayers(r){if(Tt(r))for(let{id:n}of Yl(this,is,Lm).call(this,r))Yl(this,is,f3e).call(this,r,n),r.removeLayer(n)}getOpacity(r){let n=Yl(this,is,Lm).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:a,type:c}of n){if(!fZ(c))continue;let p=uZ[c];i=r.getPaintProperty(a,p);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=Yl(this,is,Lm).call(this,r);if(!(i.length===0||!Tt(n)))for(let{id:o,type:a}of i){if(!fZ(a))continue;let c=Ao[a].OPACITY,p=uZ[a],m=cZ[a];r.setPaintProperty(o,p,["*",["coalesce",["feature-state",m],["get",m],c],n])}}isVisible(r){let n=Yl(this,is,Lm).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=Yl(this,is,Lm).call(this,r);if(!(i.length===0||!Tt(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}move(r,n){Yl(this,is,Lm).call(this,r).forEach(({id:o})=>{r.moveLayer(o,n!=null?n:Vc)})}moveToTop(r){this.move(r,null)}};Qv=new WeakMap,is=new WeakSet,u3e=function(){var n;this.geoJSON.features=this.geoJSON.features.map((i,o)=>(Object.hasOwn(i,"properties")||(i.properties={}),xr(Qe({},i),{id:o+1})));let r=this.geometry?eT(this.geometry):eT(this.geoJSON);this.metadata[vr.bounds]=r,this.metadata[vr.id]=(n=this.metadata[vr.id])!=null?n:crypto.randomUUID(),this.metadata[vr.timePublished]=Date.now(),this.metadata[vr.hasGeoReference]=!0},c3e=function(r){for(let{id:n}of Yl(this,is,Lm).call(this,r))for(let{type:i,handler:o}of l3e)r.on(i,n,o)},f3e=function(r,n){for(let{type:i,handler:o}of l3e)r.off(i,n,o)},Lm=function(r){let n=$g(this,Qv).map(i=>r.getLayer(i));return n[0]===void 0?[]:n};var p3e=dZ;var yd=p3e;var d3e=J($I(),1);var h3e=e=>Object.values(e).every(t=>t===void 0||Object.entries(t).length===0),hZ=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>hZ(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=hZ(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(yir(e),t))},vir=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=hZ(i,t)}),r},yir=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0,m3e=i=>{var o=i,{isVisible:e,opacity:t,type:r}=o,n=En(o,["isVisible","opacity","type"]);return{feature:r===_o.GEOJSON?_ir(n):xir(n),isVisible:e,opacity:t,type:r}},_ir=({geometry:e,geojson:t,properties:r})=>new yd({metadata:r,geoJSON:t,geometry:e}),xir=({geometry:e,properties:t})=>new Gc({metadata:t,geometry:e}),g3e=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(vr.bounds);r=r===void 0?new d3e.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})},v3e=(e,t)=>{let r;if(e===void 0)r=t;else if(t===void 0)r=e;else{let n=Array.isArray(e),i=Array.isArray(t),o=n?e:[e],a=i?t:[t];r=Array.from(new Set([...o,...a]))}return r},y3e=(e,t)=>{let r=e.isVisible(t),n=e.getOpacity(t),i=e.getType(),o={id:e.getId(),isVisible:r,opacity:n,properties:e.getMetadata()};return i===_o.GEOJSON?Object.assign(o,{geojson:e.getGeoJson(),type:_o.GEOJSON}):Object.assign(o,{type:_o.HISTORIC_MAP,geometry:e.getGeometry()})},zN=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?vir(r,5):r};function Hc(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,a),t}},[n,i]=(0,J_.useState)(r),o=a=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let c=a instanceof Function?a(n):a;window.localStorage.setItem(e,JSON.stringify(c)),i(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,c)}};return(0,J_.useEffect)(()=>{i(r())},[]),(0,J_.useEffect)(()=>{let a=()=>{i(r())};return window.addEventListener("storage",a),window.addEventListener("local-storage",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("local-storage",a)}},[]),[n,o]}var _3e=e=>{(0,J_.useEffect)(()=>{let t="onpagehide"in window.self?"pagehide":"unload";return window.addEventListener(t,e,{capture:!0}),()=>{window.removeEventListener(t,e,{capture:!0})}},[e])};var x3e=e=>e.r!==void 0||e.d!==void 0||e.ri!==void 0||e.u!==void 0,b3e=e=>e.rotation!==void 0||e.direction!==void 0||e.right!==void 0||e.up!==void 0,w3e=e=>{let{c:t,r,d:n,u:i,p:o,z:a}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{rotation:r},a===void 0?null:{zoom:a},o===void 0?null:{position:o},n===void 0?null:{direction:n},i===void 0?null:{up:i})},bir=e=>{let[t,r,n]=e,i=Math.log2(6378137/n)+6;return{center:[t,r],pitch:50,zoom:i}},wir=(e,t)=>({bearing:Sir(t),legacy3dMapView:!0}),S3e=e=>e*(180/Math.PI),Sir=e=>{let t=Math.PI+(Math.atan2(e[0],e[1])-Math.PI/2);return S3e(t)};function FN(e){let{center:t,rotation:r,direction:n,position:i,zoom:o}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{pitch:S3e(r)},o===void 0?null:{zoom:o},i===void 0?null:bir(i),n===void 0||i===void 0?null:wir(i,n))}var BN={"2D":0,"3D":1},E3e=e=>{if(e!==void 0)return e===BN["3D"]},I3e=e=>{if(x3e(e)){let o=w3e(e);return FN(o)}let{c:t,be:r,p:n,z:i}=e;return Object.assign({},t===void 0?null:{center:t},r===void 0?null:{bearing:r},n===void 0?null:{pitch:n},i===void 0?null:{zoom:i})};var Jv=J(De(),1);var Eir=function(){let e=Ft(Ff),t=Ft(Zu),r=Ft(Qr),n=Ft(Dm),i=Ft(Pm),o=Ft(ai),a=Fr(IN),[,c]=Hc(mZ,{operationalLayers:[],is3dEnabled:!1}),p=(0,Jv.useCallback)(()=>{if(r!==void 0){let m=r.hasTerrain(),g={activeBasemapId:e,is3dEnabled:m,operationalLayers:o.map(S=>y3e(S,r)).filter(S=>S!==null),searchOptions:{facets:t,timeExtent:n,timeRange:i}};return g.cameraOptions=zN(r),c(g),g}},[e,r,t,o,n,i]);return _3e(p),(0,Jv.useEffect)(()=>{a(()=>p)},[p]),Jv.default.createElement(Jv.default.Fragment,null)},T3e=Eir;var C3e=J(Am(),1);function UN(e){return ko(this,null,function*(){let t=Tr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield C3e.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var gZ=function(e,t){let r="geometry"in t?t.geometry:void 0,n={};delete t.geometry;for(let i in t)if(Object.hasOwn(t,i))if(i==="time_published"){let o=t[i].split("-")[0];n[i]=o}else n[i]=t[i];return n.id=e,new Gc({metadata:n,geometry:r})},M3e=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(gZ(e[r]._id,e[r]._source));return t};var A3e=e=>UN(e).then(t=>gZ(e,t)).catch(()=>{let t=new Gc({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var ls=J(De(),1);var PZ=J(Nke(),1);function $t(){return $t=PZ.default?PZ.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(this,arguments)}var nqe=J(Wke(),1);var RZ=J(rqe(),1);function lT(e,t){return lT=RZ.default?RZ.default.bind():function(n,i){return n.__proto__=i,n},lT(e,t)}function Ir(e,t){e.prototype=(0,nqe.default)(t.prototype),e.prototype.constructor=e,lT(e,t)}var uqe=J(lqe(),1);function Or(e,t){if(e==null)return{};var r={},n=(0,uqe.default)(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}function ty(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var jZ=J(De());var pGr=J(XN()),Nor=function(){};function fqe(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[ex(n)]=Nor,0)var i}),r}function qZ(e,t){return e[t]!==void 0}function ex(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function pqe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ry(e,t)}function uT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ry(e,t)}var tx=J(De()),vqe=J(FZ()),yqe=J(XN());var kor="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function ny(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=pqe(e),o=Object.keys(t),a=o.map(ex);i||!r.length||(0,yqe.default)(!1);var c=function(m){uT(g,m);function g(){for(var I,M=arguments.length,P=new Array(M),N=0;N<M;N++)P[N]=arguments[N];I=m.call.apply(m,[this].concat(P))||this,I.handlers=Object.create(null),o.forEach(function(q){var j=t[q],B=function(Q){if(I.props[j]){var ee;I._notifying=!0;for(var ne=arguments.length,de=new Array(ne>1?ne-1:0),ue=1;ue<ne;ue++)de[ue-1]=arguments[ue];(ee=I.props)[j].apply(ee,[Q].concat(de)),I._notifying=!1}I.unmounted||I.setState(function(be){var Ee,Re=be.values;return{values:dn(Object.create(null),Re,(Ee={},Ee[q]=Q,Ee))}})};I.handlers[j]=B}),r.length&&(I.attachRef=function(q){I.inner=q});var L=Object.create(null);return o.forEach(function(q){L[q]=I.props[ex(q)]}),I.state={values:L,prevProps:{}},I}var S=g.prototype;return S.shouldComponentUpdate=function(){return!this._notifying},g.getDerivedStateFromProps=function(M,P){var N=P.values,L=P.prevProps,q={values:dn(Object.create(null),N),prevProps:{}};return o.forEach(function(j){q.prevProps[j]=M[j],!qZ(M,j)&&qZ(L,j)&&(q.values[j]=M[ex(j)])}),q},S.componentWillUnmount=function(){this.unmounted=!0},S.render=function(){var M=this,P=this.props,N=P.innerRef,L=ty(P,["innerRef"]);a.forEach(function(j){delete L[j]});var q={};return o.forEach(function(j){var B=M.props[j];q[j]=B!==void 0?B:M.state.values[j]}),tx.default.createElement(e,dn({},L,q,this.handlers,{ref:N||this.attachRef}))},g}(tx.default.Component);(0,vqe.polyfill)(c),c.displayName="Uncontrolled("+n+")",c.propTypes=dn({innerRef:function(){}},fqe(t,n)),r.forEach(function(m){c.prototype[m]=function(){var S;return(S=this.inner)[m].apply(S,arguments)}});var p=c;return tx.default.forwardRef&&(p=tx.default.forwardRef(function(m,g){return tx.default.createElement(c,dn({},m,{innerRef:g,__source:{fileName:kor,lineNumber:128},__self:this}))}),p.propTypes=c.propTypes),p.ControlledComponent=e,p.deferControlTo=function(m,g,S){return g===void 0&&(g={}),ny(m,dn({},t,g),S)},p}var VZ=J(UZ());var Tqe=J(XN()),QN=J(mt());var as={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},cT={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var Iqe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},fT={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function GZ(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Yn(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,Tqe.default)(!1),r+(t?"-"+t:"")}var hn=GZ(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=QN.default.string,n.bsClass=e,t}),JN=GZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(c){n.indexOf(c)===-1&&n.push(c)});var o=QN.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=$t({},i,{bsStyle:o}),t!==void 0){var a=r.defaultProps||(r.defaultProps={});a.bsStyle=t}return r}),Uf=GZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(c){n.indexOf(c)===-1&&n.push(c)});var o=[];n.forEach(function(c){var p=cT[c];p&&p!==c&&o.push(p),o.push(c)});var a=QN.default.oneOf(o);return a._values=o,r.SIZES=n,r.propTypes=$t({},i,{bsSize:a}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function Un(e){var t,r=(t={},t[Yn(e)]=!0,t);if(e.bsSize){var n=cT[e.bsSize]||e.bsSize;r[Yn(e,n)]=!0}return e.bsStyle&&(r[Yn(e,e.bsStyle)]=!0),r}function Cqe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function Mqe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function xi(e){var t={};return(0,VZ.default)(e).forEach(function(r){var n=r[0],i=r[1];Mqe(n)||(t[n]=i)}),[Cqe(e),t]}function rx(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,VZ.default)(e).forEach(function(i){var o=i[0],a=i[1];!Mqe(o)&&!r[o]&&(n[o]=a)}),[Cqe(e),n]}var Ta=J(De());function Uor(e,t,r){var n=0;return Ta.default.Children.map(e,function(i){return Ta.default.isValidElement(i)?t.call(r,i,n++):i})}function Vor(e,t,r){var n=0;Ta.default.Children.forEach(e,function(i){Ta.default.isValidElement(i)&&t.call(r,i,n++)})}function Gor(e){var t=0;return Ta.default.Children.forEach(e,function(r){Ta.default.isValidElement(r)&&++t}),t}function Hor(e,t,r){var n=0,i=[];return Ta.default.Children.forEach(e,function(o){Ta.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function Wor(e,t,r){var n=0,i;return Ta.default.Children.forEach(e,function(o){i||Ta.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function $or(e,t,r){var n=0,i=!0;return Ta.default.Children.forEach(e,function(o){i&&Ta.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function Zor(e,t,r){var n=0,i=!1;return Ta.default.Children.forEach(e,function(o){i||Ta.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function Yor(e){var t=[];return Ta.default.Children.forEach(e,function(r){Ta.default.isValidElement(r)&&t.push(r)}),t}var Wc={map:Uor,forEach:Vor,count:Gor,find:Wor,filter:Hor,every:$or,some:Zor,toArray:Yor};var HZ=J(mt()),pT=J(De()),Qor={label:HZ.default.string.isRequired,onClick:HZ.default.func},Jor={label:"Close"},WZ=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,a=i.onClick;return pT.default.createElement("button",{type:"button",className:"close",onClick:a},pT.default.createElement("span",{"aria-hidden":"true"},"\xD7"),pT.default.createElement("span",{className:"sr-only"},o))},t}(pT.default.Component);WZ.propTypes=Qor;WZ.defaultProps=Jor;var kqe=WZ;function ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var KZ=J(De()),_d=J(mt()),Gqe=J(ks());function far(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var a=arguments.length,c=new Array(a),p=0;p<a;p++)c[p]=arguments[p];n.apply(this,c),i.apply(this,c)}},null)}var qs=far;var par={href:_d.default.string,onClick:_d.default.func,onKeyDown:_d.default.func,disabled:_d.default.bool,role:_d.default.string,tabIndex:_d.default.oneOfType([_d.default.number,_d.default.string]),componentClass:Gqe.default},dar={componentClass:"a"};function Vqe(e){return!e||e.trim()==="#"}var XZ=function(e){Ir(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(ti(ti(o))),o.handleKeyDown=o.handleKeyDown.bind(ti(ti(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,a=o.disabled,c=o.href,p=o.onClick;if((a||Vqe(c))&&i.preventDefault(),a){i.stopPropagation();return}p&&p(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,a=i.disabled,c=i.onKeyDown,p=Or(i,["componentClass","disabled","onKeyDown"]);return Vqe(p.href)&&(p.role=p.role||"button",p.href=p.href||"#"),a&&(p.tabIndex=-1,p.style=$t({pointerEvents:"none"},p.style)),KZ.default.createElement(o,$t({},p,{onClick:this.handleClick,onKeyDown:qs(this.handleKeyDown,c)}))},t}(KZ.default.Component);XZ.propTypes=par;XZ.defaultProps=dar;var d5=XZ;var Hqe=J(Rqe());var QZ=J(Nn()),h5=J(De()),iy=J(mt()),Wqe=J(ks());var har={active:iy.default.bool,disabled:iy.default.bool,block:iy.default.bool,onClick:iy.default.func,componentClass:Wqe.default,href:iy.default.string,type:iy.default.oneOf(["button","reset","submit"])},mar={active:!1,block:!1,disabled:!1},JZ=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return h5.default.createElement(d5,$t({},i,{className:(0,QZ.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var a=i.componentClass,c=Or(i,["componentClass"]),p=a||"button";return h5.default.createElement(p,$t({},c,{type:c.type||"button",className:o}))},r.render=function(){var i,o=this.props,a=o.active,c=o.block,p=o.className,m=Or(o,["active","block","className"]),g=xi(m),S=g[0],I=g[1],M=$t({},Un(S),(i={active:a},i[Yn(S,"block")]=c,i)),P=(0,QZ.default)(p,M);return I.href?this.renderAnchor(I,P):this.renderButton(I,P)},t}(h5.default.Component);JZ.propTypes=har;JZ.defaultProps=mar;var oy=hn("btn",Uf([as.LARGE,as.SMALL,as.XSMALL],JN((0,Hqe.default)(Iqe).concat([fT.DEFAULT,fT.PRIMARY,fT.LINK]),fT.DEFAULT,JZ)));var Yqe=J(Nn()),eY=J(De()),Kqe=J(mt());var bar={glyph:Kqe.default.string.isRequired},Xqe=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.glyph,c=o.className,p=Or(o,["glyph","className"]),m=xi(p),g=m[0],S=m[1],I=$t({},Un(g),(i={},i[Yn(g,a)]=!0,i));return eY.default.createElement("span",$t({},S,{className:(0,Yqe.default)(c,I)}))},t}(eY.default.Component);Xqe.propTypes=bar;var xd=hn("glyphicon",Xqe);var Jqe=J(Nn()),tY=J(De()),g5=J(mt()),yHr=J(ay());var Sar={htmlFor:g5.default.string,srOnly:g5.default.bool},Ear={srOnly:!1},Iar={$bs_formGroup:g5.default.object},v5=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,a=this.props,c=a.htmlFor,p=c===void 0?o:c,m=a.srOnly,g=a.className,S=Or(a,["htmlFor","srOnly","className"]),I=xi(S),M=I[0],P=I[1],N=$t({},Un(M),{"sr-only":m});return tY.default.createElement("label",$t({},P,{htmlFor:p,className:(0,Jqe.default)(g,N)}))},t}(tY.default.Component);v5.propTypes=Sar;v5.defaultProps=Ear;v5.contextTypes=Iar;var rY=hn("control-label",v5);var Gje=J(UZ());function gY(e,t){var r=t.propTypes,n={},i={};return(0,Gje.default)(e).forEach(function(o){var a=o[0],c=o[1];r[a]?n[a]=c:i[a]=c}),[n,i]}var Hje=J(Nn()),B5=J(De()),Yu=J(mt()),sx=J(Sje()),F5,Qsr={in:Yu.default.bool,mountOnEnter:Yu.default.bool,unmountOnExit:Yu.default.bool,appear:Yu.default.bool,timeout:Yu.default.number,onEnter:Yu.default.func,onEntering:Yu.default.func,onEntered:Yu.default.func,onExit:Yu.default.func,onExiting:Yu.default.func,onExited:Yu.default.func},Jsr={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},elr=(F5={},F5[sx.ENTERING]="in",F5[sx.ENTERED]="in",F5),vY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,a=i.children,c=Or(i,["className","children"]);return B5.default.createElement(sx.default,c,function(p,m){return B5.default.cloneElement(a,$t({},m,{className:(0,Hje.default)("fade",o,a.props.className,elr[p])}))})},t}(B5.default.Component);vY.propTypes=Qsr;vY.defaultProps=Jsr;var Rm=vY;var Xje=J(Nn()),wY=J(De()),wT=J(mt()),Qje=J(ks()),$Hr=J(ay());var yY=J(Nn()),bT=J(De()),Wje=J(mt());var tlr={bsRole:"feedback"},rlr={$bs_formGroup:Wje.default.object},_Y=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null;}},r.renderDefaultFeedback=function(i,o,a,c){var p=this.getGlyph(i&&i.validationState);return p?bT.default.createElement(xd,$t({},c,{glyph:p,className:(0,yY.default)(o,a)})):null},r.render=function(){var i=this.props,o=i.className,a=i.children,c=Or(i,["className","children"]),p=xi(c),m=p[0],g=p[1],S=Un(m);if(!a)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,S,g);var I=bT.default.Children.only(a);return bT.default.cloneElement(I,$t({},g,{className:(0,yY.default)(I.props.className,o,S)}))},t}(bT.default.Component);_Y.defaultProps=tlr;_Y.contextTypes=rlr;var $je=hn("form-control-feedback",_Y);var Zje=J(Nn()),xY=J(De()),Yje=J(ks());var nlr={componentClass:Yje.default},ilr={componentClass:"p"},bY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Or(i,["componentClass","className"]),p=xi(c),m=p[0],g=p[1],S=Un(m);return xY.default.createElement(o,$t({},g,{className:(0,Zje.default)(a,S)}))},t}(xY.default.Component);bY.propTypes=nlr;bY.defaultProps=ilr;var Kje=hn("form-control-static",bY);var olr={componentClass:Qje.default,type:wT.default.string,id:wT.default.string,inputRef:wT.default.func},alr={componentClass:"input"},slr={$bs_formGroup:wT.default.object},lx=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,a=this.props,c=a.componentClass,p=a.type,m=a.id,g=m===void 0?o:m,S=a.inputRef,I=a.className,M=a.bsSize,P=Or(a,["componentClass","type","id","inputRef","className","bsSize"]),N=xi(P),L=N[0],q=N[1],j;if(p!=="file"&&(j=Un(L)),M){var B=cT[M]||M;j[Yn({bsClass:"input"},B)]=!0}return wY.default.createElement(c,$t({},q,{type:p,id:g,ref:S,className:(0,Xje.default)(I,j)}))},t}(wY.default.Component);lx.propTypes=olr;lx.defaultProps=alr;lx.contextTypes=slr;lx.Feedback=$je;lx.Static=Kje;var SY=hn("form-control",Uf([as.SMALL,as.LARGE],lx));var Jje=J(Nn()),EY=J(De()),U5=J(mt());var llr={controlId:U5.default.string,validationState:U5.default.oneOf(["success","warning","error",null])},ulr={$bs_formGroup:U5.default.object.isRequired},IY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,a=i.validationState;return{$bs_formGroup:{controlId:o,validationState:a}}},r.hasFeedback=function(i){var o=this;return Wc.some(i,function(a){return a.props.bsRole==="feedback"||a.props.children&&o.hasFeedback(a.props.children)})},r.render=function(){var i=this.props,o=i.validationState,a=i.className,c=i.children,p=Or(i,["validationState","className","children"]),m=rx(p,["controlId"]),g=m[0],S=m[1],I=$t({},Un(g),{"has-feedback":this.hasFeedback(c)});return o&&(I["has-"+o]=!0),EY.default.createElement("div",$t({},S,{className:(0,Jje.default)(a,I)}),c)},t}(EY.default.Component);IY.propTypes=llr;IY.childContextTypes=ulr;var TY=hn("form-group",Uf([as.LARGE,as.SMALL],IY));var XY=J(Nn()),QY=J(pze()),E6e=J(uy()),I6e=J(Vf()),JY=J(AY()),fx=J(De()),ia=J(mt()),T6e=J(fo()),px=J(h6e()),C6e=J(LY()),M6e=J(ks());var m6e=J(Nn()),GY=J(De()),g6e=J(ks());var xcr={componentClass:g6e.default},bcr={componentClass:"div"},HY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Or(i,["componentClass","className"]),p=xi(c),m=p[0],g=p[1],S=Un(m);return GY.default.createElement(o,$t({},g,{className:(0,m6e.default)(a,S)}))},t}(GY.default.Component);HY.propTypes=xcr;HY.defaultProps=bcr;var dy=hn("modal-body",HY);var WY=J(Nn()),MT=J(De()),v6e=J(mt());var wcr={dialogClassName:v6e.default.string},y6e=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.dialogClassName,c=o.className,p=o.style,m=o.children,g=o.onMouseDownDialog,S=Or(o,["dialogClassName","className","style","children","onMouseDownDialog"]),I=xi(S),M=I[0],P=I[1],N=Yn(M),L=$t({display:"block"},p),q=$t({},Un(M),(i={},i[N]=!1,i[Yn(M,"dialog")]=!0,i));return MT.default.createElement("div",$t({},P,{tabIndex:"-1",role:"dialog",style:L,className:(0,WY.default)(c,N)}),MT.default.createElement("div",{className:(0,WY.default)(a,q),onMouseDown:g},MT.default.createElement("div",{className:Yn(M,"content"),role:"document"},m)))},t}(MT.default.Component);y6e.propTypes=wcr;var uR=hn("modal",Uf([as.LARGE,as.SMALL],y6e));var _6e=J(Nn()),$Y=J(De()),x6e=J(ks());var Scr={componentClass:x6e.default},Ecr={componentClass:"div"},ZY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Or(i,["componentClass","className"]),p=xi(c),m=p[0],g=p[1],S=Un(m);return $Y.default.createElement(o,$t({},g,{className:(0,_6e.default)(a,S)}))},t}($Y.default.Component);ZY.propTypes=Scr;ZY.defaultProps=Ecr;var hy=hn("modal-footer",ZY);var b6e=J(Nn()),cx=J(mt()),cR=J(De());var Icr={closeLabel:cx.default.string,closeButton:cx.default.bool,onHide:cx.default.func},Tcr={closeLabel:"Close",closeButton:!1},Ccr={$bs_modal:cx.default.shape({onHide:cx.default.func})},fR=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,a=i.closeButton,c=i.onHide,p=i.className,m=i.children,g=Or(i,["closeLabel","closeButton","onHide","className","children"]),S=this.context.$bs_modal,I=xi(g),M=I[0],P=I[1],N=Un(M);return cR.default.createElement("div",$t({},P,{className:(0,b6e.default)(p,N)}),a&&cR.default.createElement(kqe,{label:o,onClick:qs(S&&S.onHide,c)}),m)},t}(cR.default.Component);fR.propTypes=Icr;fR.defaultProps=Tcr;fR.contextTypes=Ccr;var my=hn("modal-header",fR);var w6e=J(Nn()),YY=J(De()),S6e=J(ks());var Mcr={componentClass:S6e.default},Acr={componentClass:"h4"},KY=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Or(i,["componentClass","className"]),p=xi(c),m=p[0],g=p[1],S=Un(m);return YY.default.createElement(o,$t({},g,{className:(0,w6e.default)(a,S)}))},t}(YY.default.Component);KY.propTypes=Mcr;KY.defaultProps=Acr;var AT=hn("modal-title",KY);var Ocr=$t({},px.default.propTypes,uR.propTypes,{backdrop:ia.default.oneOf(["static",!0,!1]),backdropClassName:ia.default.string,keyboard:ia.default.bool,animation:ia.default.bool,dialogComponentClass:M6e.default,autoFocus:ia.default.bool,enforceFocus:ia.default.bool,restoreFocus:ia.default.bool,show:ia.default.bool,onHide:ia.default.func,onEnter:ia.default.func,onEntering:ia.default.func,onEntered:ia.default.func,onExit:ia.default.func,onExiting:ia.default.func,onExited:ia.default.func,container:px.default.propTypes.container}),Dcr=$t({},px.default.defaultProps,{animation:!0,dialogComponentClass:uR}),Pcr={$bs_modal:ia.default.shape({onHide:ia.default.func})};function Lcr(e){return fx.default.createElement(Rm,$t({},e,{timeout:ou.TRANSITION_DURATION}))}function Ncr(e){return fx.default.createElement(Rm,$t({},e,{timeout:ou.BACKDROP_TRANSITION_DURATION}))}var ou=function(e){Ir(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(a){var c=o._modal.getDialogElement();o._waitingForMouseUp&&a.target===c&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(ti(ti(o))),o.handleExited=o.handleExited.bind(ti(ti(o))),o.handleWindowResize=o.handleWindowResize.bind(ti(ti(o))),o.handleDialogClick=o.handleDialogClick.bind(ti(ti(o))),o.setModalRef=o.setModalRef.bind(ti(ti(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){QY.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){QY.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(I6e.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,a=(0,E6e.default)(i),c=(0,C6e.default)(T6e.default.findDOMNode(this.props.container||a.body)),p=o>a.documentElement.clientHeight;this.setState({style:{paddingRight:c&&!p?(0,JY.default)():void 0,paddingLeft:!c&&p?(0,JY.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,a=i.backdropClassName,c=i.animation,p=i.show,m=i.dialogComponentClass,g=i.className,S=i.style,I=i.children,M=i.onEntering,P=i.onExited,N=Or(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),L=gY(N,px.default),q=L[0],j=L[1],B=p&&!c&&"in";return fx.default.createElement(px.default,$t({},q,{ref:this.setModalRef,show:p,containerClassName:Yn(N,"open"),transition:c?Lcr:void 0,backdrop:o,backdropTransition:c?Ncr:void 0,backdropClassName:(0,XY.default)(Yn(N,"backdrop"),a,B),onEntering:qs(M,this.handleEntering),onExited:qs(P,this.handleExited),onMouseUp:this.handleMouseUp}),fx.default.createElement(m,$t({},j,{style:$t({},this.state.style,S),className:(0,XY.default)(g,B),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),I))},t}(fx.default.Component);ou.propTypes=Ocr;ou.defaultProps=Dcr;ou.childContextTypes=Pcr;ou.Body=dy;ou.Header=my;ou.Title=AT;ou.Footer=hy;ou.Dialog=uR;ou.TRANSITION_DURATION=300;ou.BACKDROP_TRANSITION_DURATION=150;var ss=hn("modal",Uf([as.LARGE,as.SMALL],ou));var A6e=J(Nn()),OT=J(Pje()),DT=J(De()),oa=J(mt()),O6e=J(fo()),D6e=J(Zqe()),i$r=J(ay());var Rcr={activeKey:oa.default.any,activeHref:oa.default.string,stacked:oa.default.bool,justified:(0,D6e.default)(oa.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:oa.default.func,role:oa.default.string,navbar:oa.default.bool,pullRight:oa.default.bool,pullLeft:oa.default.bool},kcr={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},qcr={$bs_navbar:oa.default.shape({bsClass:oa.default.string,onSelect:oa.default.func}),$bs_tabContainer:oa.default.shape({activeKey:oa.default.any,onSelect:oa.default.func.isRequired,getTabId:oa.default.func.isRequired,getPaneId:oa.default.func.isRequired})},pR=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,a=this.getActiveProps(),c=a.activeKey,p=a.activeHref,m=Wc.find(o,function(P){return i.isActive(P,c,p)}),g=Wc.toArray(o),S=g.indexOf(m),I=O6e.default.findDOMNode(this).children,M=I&&I[S];!M||!M.firstChild||M.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,a=this.props.children,c=Wc.filter(a,function(N){return N.props.eventKey!=null&&!N.props.disabled}),p=this.getActiveProps(),m=p.activeKey,g=p.activeHref,S=Wc.find(a,function(N){return o.isActive(N,m,g)}),I=c.indexOf(S);if(I===-1)return c[0];var M=I+i,P=c.length;return M>=P?M=0:M<0&&(M=P-1),c[M]},r.getTabProps=function(i,o,a,c,p){var m=this;if(!o&&a!=="tablist")return null;var g=i.props,S=g.id,I=g["aria-controls"],M=g.eventKey,P=g.role,N=g.onKeyDown,L=g.tabIndex;return o&&(S=o.getTabId(M),I=o.getPaneId(M)),a==="tablist"&&(P=P||"tab",N=qs(function(q){return m.handleTabKeyDown(p,q)},N),L=c?L:-1),{id:S,role:P,onKeyDown:N,"aria-controls":I,tabIndex:L}},r.handleTabKeyDown=function(i,o){var a;switch(o.keyCode){case OT.default.codes.left:case OT.default.codes.up:a=this.getNextActiveChild(-1);break;case OT.default.codes.right:case OT.default.codes.down:a=this.getNextActiveChild(1);break;default:return;}o.preventDefault(),i&&a&&a.props.eventKey!=null&&i(a.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,a){var c=i.props;return c.active||o!=null&&c.eventKey===o||a&&c.href===a?!0:c.active},r.render=function(){var i,o=this,a=this.props,c=a.stacked,p=a.justified,m=a.onSelect,g=a.role,S=a.navbar,I=a.pullRight,M=a.pullLeft,P=a.className,N=a.children,L=Or(a,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),q=this.context.$bs_tabContainer,j=g||(q?"tablist":null),B=this.getActiveProps(),H=B.activeKey,Q=B.activeHref;delete L.activeKey,delete L.activeHref;var ee=xi(L),ne=ee[0],de=ee[1],ue=$t({},Un(ne),(i={},i[Yn(ne,"stacked")]=c,i[Yn(ne,"justified")]=p,i)),be=S!=null?S:this.context.$bs_navbar,Ee,Re;if(be){var Ie=this.context.$bs_navbar||{bsClass:"navbar"};ue[Yn(Ie,"nav")]=!0,Re=Yn(Ie,"right"),Ee=Yn(Ie,"left")}else Re="pull-right",Ee="pull-left";return ue[Re]=I,ue[Ee]=M,DT.default.createElement("ul",$t({},de,{role:j,className:(0,A6e.default)(P,ue)}),Wc.map(N,function(We){var $e=o.isActive(We,H,Q),Fe=qs(We.props.onSelect,m,be&&be.onSelect,q&&q.onSelect);return(0,DT.cloneElement)(We,$t({},o.getTabProps(We,q,j,$e,Fe),{active:$e,activeKey:H,activeHref:Q,onSelect:Fe}))}))},t}(DT.default.Component);pR.propTypes=Rcr;pR.defaultProps=kcr;pR.contextTypes=qcr;var P6e=hn("nav",JN(["tabs","pills"],pR));var L6e=J(Nn()),dR=J(De()),zm=J(mt());var jcr={active:zm.default.bool,disabled:zm.default.bool,role:zm.default.string,href:zm.default.string,onClick:zm.default.func,onSelect:zm.default.func,eventKey:zm.default.any},zcr={active:!1,disabled:!1},eK=function(e){Ir(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(ti(ti(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,a=i.disabled,c=i.onClick,p=i.className,m=i.style,g=Or(i,["active","disabled","onClick","className","style"]);return delete g.onSelect,delete g.eventKey,delete g.activeKey,delete g.activeHref,g.role?g.role==="tab"&&(g["aria-selected"]=o):g.href==="#"&&(g.role="button"),dR.default.createElement("li",{role:"presentation",className:(0,L6e.default)(p,{active:o,disabled:a}),style:m},dR.default.createElement(d5,$t({},g,{disabled:a,onClick:qs(c,this.handleClick)})))},t}(dR.default.Component);eK.propTypes=jcr;eK.defaultProps=zcr;var N6e=eK;var uFe=J(Nn()),NT=J(De()),au=J(mt()),sK=J(lFe()),cFe=J(ks());var Bfr=$t({},sK.default.propTypes,{show:au.default.bool,rootClose:au.default.bool,onHide:au.default.func,animation:au.default.oneOfType([au.default.bool,cFe.default]),onEnter:au.default.func,onEntering:au.default.func,onEntered:au.default.func,onExit:au.default.func,onExiting:au.default.func,onExited:au.default.func,placement:au.default.oneOf(["top","right","bottom","left"])}),Ufr={animation:Rm,rootClose:!1,show:!1,placement:"right"},lK=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,a=i.children,c=Or(i,["animation","children"]),p=o===!0?Rm:o||null,m;return p?m=a:m=(0,NT.cloneElement)(a,{className:(0,uFe.default)(a.props.className,"in")}),NT.default.createElement(sK.default,$t({},c,{transition:p}),m)},t}(NT.default.Component);lK.propTypes=Bfr;lK.defaultProps=Ufr;var uK=lK;var cK=J(Nn()),mx=J(De()),gx=J(mt()),T$r=J(ay());var Vfr={inline:gx.default.bool,disabled:gx.default.bool,title:gx.default.string,validationState:gx.default.oneOf(["success","warning","error",null]),inputRef:gx.default.func},Gfr={inline:!1,disabled:!1,title:""},fK=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,a=i.disabled,c=i.validationState,p=i.inputRef,m=i.className,g=i.style,S=i.title,I=i.children,M=Or(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),P=xi(M),N=P[0],L=P[1],q=mx.default.createElement("input",$t({},L,{ref:p,type:"radio",disabled:a}));if(o){var j,B=(j={},j[Yn(N,"inline")]=!0,j.disabled=a,j);return mx.default.createElement("label",{className:(0,cK.default)(m,B),style:g,title:S},q,I)}var H=$t({},Un(N),{disabled:a});return c&&(H["has-"+c]=!0),mx.default.createElement("div",{className:(0,cK.default)(m,H),style:g},mx.default.createElement("label",{title:S},q,I))},t}(mx.default.Component);fK.propTypes=Vfr;fK.defaultProps=Gfr;var pK=hn("radio",fK);var gK=J(De()),DR=J(mt());var ER=J(De()),Ku=J(mt());var Hfr="tab",Wfr="pane",$fr=Ku.default.oneOfType([Ku.default.string,Ku.default.number]),Zfr={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=$fr.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Ku.default.func,onSelect:Ku.default.func,activeKey:Ku.default.any},Yfr={$bs_tabContainer:Ku.default.shape({activeKey:Ku.default.any,onSelect:Ku.default.func.isRequired,getTabId:Ku.default.func.isRequired,getPaneId:Ku.default.func.isRequired})},dK=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,a=i.onSelect,c=i.generateChildId,p=i.id,m=c||function(g,S){return p?p+"-"+S+"-"+g:null};return{$bs_tabContainer:{activeKey:o,onSelect:a,getTabId:function(S){return m(S,Hfr)},getPaneId:function(S){return m(S,Wfr)}}}},r.render=function(){var i=this.props,o=i.children,a=Or(i,["children"]);return delete a.generateChildId,delete a.onSelect,delete a.activeKey,ER.default.cloneElement(ER.default.Children.only(o),a)},t}(ER.default.Component);dK.propTypes=Zfr;dK.childContextTypes=Yfr;var IR=ny(dK,{activeKey:"onSelect"});var fFe=J(Nn()),hK=J(De()),Ma=J(mt()),TR=J(ks());var Kfr={componentClass:TR.default,animation:Ma.default.oneOfType([Ma.default.bool,TR.default]),mountOnEnter:Ma.default.bool,unmountOnExit:Ma.default.bool},Xfr={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},Qfr={$bs_tabContainer:Ma.default.shape({activeKey:Ma.default.any})},Jfr={$bs_tabContent:Ma.default.shape({bsClass:Ma.default.string,animation:Ma.default.oneOfType([Ma.default.bool,TR.default]),activeKey:Ma.default.any,mountOnEnter:Ma.default.bool,unmountOnExit:Ma.default.bool,onPaneEnter:Ma.default.func.isRequired,onPaneExited:Ma.default.func.isRequired,exiting:Ma.default.bool.isRequired})},RT=function(e){Ir(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(ti(ti(o))),o.handlePaneExited=o.handlePaneExited.bind(ti(ti(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,a=i.animation,c=i.mountOnEnter,p=i.unmountOnExit,m=this.state.activeKey,g=this.getContainerActiveKey(),S=m!=null?m:g,I=m!=null&&m!==g;return{$bs_tabContent:{bsClass:o,animation:a,activeKey:S,mountOnEnter:c,unmountOnExit:p,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:I}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var a=o.activeChild;return a!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,a=i.className,c=Or(i,["componentClass","className"]),p=rx(c,["animation","mountOnEnter","unmountOnExit"]),m=p[0],g=p[1];return hK.default.createElement(o,$t({},g,{className:(0,fFe.default)(a,Yn(m,"content"))}))},t}(hK.default.Component);RT.propTypes=Kfr;RT.defaultProps=Xfr;RT.contextTypes=Qfr;RT.childContextTypes=Jfr;var CR=hn("tab",RT);var pFe=J(Nn()),MR=J(De()),li=J(mt()),mK=J(ks()),G$r=J(ay());var epr={eventKey:li.default.any,animation:li.default.oneOfType([li.default.bool,mK.default]),id:li.default.string,"aria-labelledby":li.default.string,bsClass:li.default.string,onEnter:li.default.func,onEntering:li.default.func,onEntered:li.default.func,onExit:li.default.func,onExiting:li.default.func,onExited:li.default.func,mountOnEnter:li.default.bool,unmountOnExit:li.default.bool},tpr={$bs_tabContainer:li.default.shape({getTabId:li.default.func,getPaneId:li.default.func}),$bs_tabContent:li.default.shape({bsClass:li.default.string,animation:li.default.oneOfType([li.default.bool,mK.default]),activeKey:li.default.any,mountOnEnter:li.default.bool,unmountOnExit:li.default.bool,onPaneEnter:li.default.func.isRequired,onPaneExited:li.default.func.isRequired,exiting:li.default.bool.isRequired})},rpr={$bs_tabContainer:li.default.oneOf([null])},AR=function(e){Ir(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(ti(ti(o))),o.handleExited=o.handleExited.bind(ti(ti(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,a=i.className,c=i.onEnter,p=i.onEntering,m=i.onEntered,g=i.onExit,S=i.onExiting,I=i.onExited,M=i.mountOnEnter,P=i.unmountOnExit,N=Or(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),L=this.context,q=L.$bs_tabContent,j=L.$bs_tabContainer,B=rx(N,["animation"]),H=B[0],Q=B[1],ee=this.isActive(),ne=this.getAnimation(),de=M!=null?M:q&&q.mountOnEnter,ue=P!=null?P:q&&q.unmountOnExit;if(!ee&&!ne&&ue)return null;var be=ne===!0?Rm:ne||null;q&&(H.bsClass=Yn(q,"pane"));var Ee=$t({},Un(H),{active:ee});j&&(Q.id=j.getPaneId(o),Q["aria-labelledby"]=j.getTabId(o));var Re=MR.default.createElement("div",$t({},Q,{role:"tabpanel","aria-hidden":!ee,className:(0,pFe.default)(a,Ee)}));if(be){var Ie=q&&q.exiting;return MR.default.createElement(be,{in:ee&&!Ie,onEnter:qs(this.handleEnter,c),onEntering:p,onEntered:m,onExit:g,onExiting:S,onExited:qs(this.handleExited,I),mountOnEnter:de,unmountOnExit:ue},Re)}return Re},t}(MR.default.Component);AR.propTypes=epr;AR.contextTypes=tpr;AR.childContextTypes=rpr;var OR=hn("tab-pane",AR);var npr=$t({},OR.propTypes,{disabled:DR.default.bool,title:DR.default.node,tabClassName:DR.default.string}),kT=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=$t({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,gK.default.createElement(OR,i)},t}(gK.default.Component);kT.propTypes=npr;kT.Container=IR;kT.Content=CR;kT.Pane=OR;var PR=kT;var vy=J(De()),$c=J(mt()),dFe=J(dY());var hFe=J(ks());var ipr=IR.ControlledComponent,opr={activeKey:$c.default.any,bsStyle:$c.default.oneOf(["tabs","pills"]),animation:$c.default.oneOfType([$c.default.bool,hFe.default]),id:(0,dFe.default)($c.default.oneOfType([$c.default.string,$c.default.number])),onSelect:$c.default.func,mountOnEnter:$c.default.bool,unmountOnExit:$c.default.bool},apr={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function spr(e){var t;return Wc.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var LR=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,a=o.title,c=o.eventKey,p=o.disabled,m=o.tabClassName;return a==null?null:vy.default.createElement(N6e,{eventKey:c,disabled:p,className:m},a)},r.render=function(){var i=this.props,o=i.id,a=i.onSelect,c=i.animation,p=i.mountOnEnter,m=i.unmountOnExit,g=i.bsClass,S=i.className,I=i.style,M=i.children,P=i.activeKey,N=P===void 0?spr(M):P,L=Or(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return vy.default.createElement(ipr,{id:o,activeKey:N,onSelect:a,className:S,style:I},vy.default.createElement("div",null,vy.default.createElement(P6e,$t({},L,{role:"tablist"}),Wc.map(M,this.renderTab)),vy.default.createElement(CR,{bsClass:g,animation:c,mountOnEnter:p,unmountOnExit:m},M)))},t}(vy.default.Component);LR.propTypes=opr;LR.defaultProps=apr;hn("tab",LR);var vK=ny(LR,{activeKey:"onSelect"});var mFe=J(Nn()),qT=J(De()),Aa=J(mt()),gFe=J(dY());var lpr={id:(0,gFe.default)(Aa.default.oneOfType([Aa.default.string,Aa.default.number])),placement:Aa.default.oneOf(["top","right","bottom","left"]),positionTop:Aa.default.oneOfType([Aa.default.number,Aa.default.string]),positionLeft:Aa.default.oneOfType([Aa.default.number,Aa.default.string]),arrowOffsetTop:Aa.default.oneOfType([Aa.default.number,Aa.default.string]),arrowOffsetLeft:Aa.default.oneOfType([Aa.default.number,Aa.default.string])},upr={placement:"right"},yK=function(e){Ir(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,a=o.placement,c=o.positionTop,p=o.positionLeft,m=o.arrowOffsetTop,g=o.arrowOffsetLeft,S=o.className,I=o.style,M=o.children,P=Or(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),N=xi(P),L=N[0],q=N[1],j=$t({},Un(L),(i={},i[a]=!0,i)),B=$t({top:c,left:p},I),H={top:m,left:g};return qT.default.createElement("div",$t({},q,{role:"tooltip",className:(0,mFe.default)(S,j),style:B}),qT.default.createElement("div",{className:Yn(L,"arrow"),style:H}),qT.default.createElement("div",{className:Yn(L,"inner")},M))},t}(qT.default.Component);yK.propTypes=lpr;yK.defaultProps=upr;var _K=hn("tooltip",yK);var jT=J(mt(),1);var ui=J(De(),1);var xK=J(mt(),1);var vFe=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,ui.useState)(""),[o,a]=(0,ui.useState)(!1),[c,p]=(0,ui.useState)([]),[m,g]=(0,ui.useState)(null),S=Fr(gl),I=(0,ui.useRef)(),M=(0,ui.useRef)(),P=Q=>{p([]),g(null),S({id:"dialog-add-wms",type:"danger",text:Q})},N=()=>{t()},L=()=>{r(m),N()},q=()=>ko(void 0,null,function*(){if(!V4e(n)){a(!0);return}try{let Q=yield RN(n);Q.length!==0&&(p(Q),g(Q[0]))}catch(Q){P(Ne("dialog.add-wms.error.invalid-url"))}}),j=Q=>{i(Q.target.value)},B=Q=>{Q.code==="Enter"&&q()},H=Q=>{let ee=c.find(ne=>ne.id===Q.target.value);g(ee)};return ui.default.createElement("div",null,ui.default.createElement(ss,{className:"vkf-dialog-addwms",show:!0,onHide:N},ui.default.createElement(ss.Header,null,ui.default.createElement(ss.Title,null,Ne("control-basemapselector-addwms-title"))),ui.default.createElement(ss.Body,null,ui.default.createElement("div",{className:"dialog-content"},ui.default.createElement("div",{className:Ct("form-group","set-url",o?"has-warning":"")},ui.default.createElement("label",{htmlFor:I.current},Ne("control-basemapselector-addwms-input-label")),ui.default.createElement("div",{className:"form-group-capabilities"},ui.default.createElement("input",{type:"url",className:"form-control",ref:I,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:j,onKeyDown:B}),ui.default.createElement("button",{type:"submit",className:"btn",onClick:q},Ne("control-basemapselector-addwms-btn-load-capabilities"))),ui.default.createElement("p",{className:"help-block"},Ne("control-basemapselector-addwms-input-description"))),c.length>0&&m!==null&&ui.default.createElement("div",{className:Ct("form-group","set-layer")},ui.default.createElement("label",{htmlFor:M.current},Ne("control-basemapselector-addwms-select-label")),ui.default.createElement("select",{ref:M,value:m.id,onChange:H,className:"form-control"},c.map(Q=>ui.default.createElement("option",{key:Q.id,value:Q.id},Q.label))),ui.default.createElement("p",{className:"help-block"},Ne("control-basemapselector-addwms-select-description"))))),ui.default.createElement(ss.Footer,null,ui.default.createElement(oy,{onClick:N},Ne("control-basemapselector-addwms-btn-canel")),ui.default.createElement(oy,{onClick:L,bsStyle:"primary",className:Ct(m===null?"disabled":"")},Ne("control-basemapselector-addwms-btn-submit")))))};vFe.propTypes={onClose:xK.default.func.isRequired,onSubmit:xK.default.func.isRequired};var yFe=vFe;var yy="vkf-custom-basemaps",_Fe=e=>{let{map:t}=e,[r,n]=zi(Ff),[i,o]=Hc(yy,[]),a=Tr.getBaseMaps(),c=Fr(gl),[p,m]=(0,ls.useState)(!1),g=P=>{n(P.id)},S=()=>{m(!0)},I=P=>{P.type==="wms"&&QI(t,P),r===P.id&&n(a[0].id),o(N=>N.filter(L=>L.id!==P.id))},M=P=>{if([...a,...i].find(L=>L.id===P.id||L.label===P.label))c({id:"basemapSelector",type:"danger",text:Ne("control-basemapselector-error-initializiation")});else{let L=xr(Qe({},P),{allowDeletion:!0});o(q=>[...q,L])}};return ls.default.createElement(ls.default.Fragment,null,r!==void 0&&ls.default.createElement(ls.default.Fragment,null,ls.default.createElement("h2",null,Ne("control-basemapselector-label"),":"),ls.default.createElement("ul",{className:"wms-entries"},[...a,...i].map(P=>ls.default.createElement("li",{key:P.id,className:"basemap-selector-entry"},ls.default.createElement(pK,{onChange:()=>g(P),name:P.id,value:P.id,checked:r===P.id},P.label),P.allowDeletion&&ls.default.createElement("button",{className:"delete-basemap-button",onClick:N=>{N.preventDefault(),N.stopPropagation(),I(P)},title:"Remove basemap"},ls.default.createElement(xd,{glyph:"remove"}))))),ls.default.createElement("div",{className:"controls-container"},ls.default.createElement("button",{className:"add-wms-button",onClick:S},Ne("control-basemapselector-btn-addwms")))),p&&ls.default.createElement(yFe,{onClose:()=>m(!1),onSubmit:M}))};_Fe.propTypes={map:jT.default.object,onBasemapChange:jT.default.func,onSetNotification:jT.default.func,activeBasemapId:jT.default.string};var xFe=_Fe;var Zc={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},oYr={9001:Zc.METERS,9002:Zc.FEET,9003:Zc.USFEET,9101:Zc.RADIANS,9102:Zc.DEGREES};var El={};El[Zc.RADIANS]=6370997/(2*Math.PI);El[Zc.DEGREES]=2*Math.PI*6370997/360;El[Zc.FEET]=.3048;El[Zc.METERS]=1;El[Zc.USFEET]=1200/3937;var Il=Zc;var cpr=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||El[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}(),NR=cpr;function Ei(e,t,r){return Math.min(Math.max(e,t),r)}var bFe=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var r=Math.exp(t);return(r+1/r)/2},e}(),RR=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function wFe(e,t,r,n,i,o){var a=i-r,c=o-n;if(a!==0||c!==0){var p=((e-r)*a+(t-n)*c)/(a*a+c*c);p>1?(r=i,n=o):p>0&&(r+=a*p,n+=c*p)}return Ed(e,t,r,n)}function Ed(e,t,r,n){var i=r-e,o=n-t;return i*i+o*o}function SFe(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,i=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>i&&(i=a,n=o)}if(i===0)return null;var c=e[n];e[n]=e[r],e[r]=c;for(var p=r+1;p<t;p++)for(var m=-e[p][r]/e[r][r],g=r;g<t+1;g++)r==g?e[p][g]=0:e[p][g]+=m*e[r][g]}for(var S=new Array(t),I=t-1;I>=0;I--){S[I]=e[I][t]/e[I][I];for(var M=I-1;M>=0;M--)e[M][t]-=e[M][I]*S[I]}return S}function vx(e){return e*Math.PI/180}function Yc(e,t){var r=e%t;return r*t<0?r+t:r}function EFe(e,t,r){return e+r*(t-e)}function IFe(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function zT(e,t){return Math.floor(IFe(e,t))}function FT(e,t){return Math.ceil(IFe(e,t))}var fpr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BT=6378137,_x=Math.PI*BT,ppr=[-_x,-_x,_x,_x],dpr=[-180,-85,180,85],kR=BT*Math.log(Math.tan(Math.PI/2)),yx=function(e){fpr(t,e);function t(r){return e.call(this,{code:r,units:Il.METERS,extent:ppr,global:!0,worldExtent:dpr,getPointResolution:function(n,i){return n/bFe(i[1]/BT)}})||this}return t}(NR),bK=[new yx("EPSG:3857"),new yx("EPSG:102100"),new yx("EPSG:102113"),new yx("EPSG:900913"),new yx("http://www.opengis.net/def/crs/EPSG/0/3857"),new yx("http://www.opengis.net/gml/srs/epsg.xml#3857")];function TFe(e,t,r){var n=e.length,i=r>1?r:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(n));for(var a=0;a<n;a+=i){o[a]=_x*e[a]/180;var c=BT*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));c>kR?c=kR:c<-kR&&(c=-kR),o[a+1]=c}return o}function CFe(e,t,r){var n=e.length,i=r>1?r:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(n));for(var a=0;a<n;a+=i)o[a]=180*e[a]/_x,o[a+1]=360*Math.atan(Math.exp(e[a+1]/BT))/Math.PI-90;return o}var hpr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mpr=6378137,MFe=[-180,-90,180,90],gpr=Math.PI*mpr/180,_y=function(e){hpr(t,e);function t(r,n){return e.call(this,{code:r,units:Il.DEGREES,extent:MFe,axisOrientation:n,global:!0,metersPerUnit:gpr,worldExtent:MFe})||this}return t}(NR),wK=[new _y("CRS:84"),new _y("EPSG:4326","neu"),new _y("urn:ogc:def:crs:OGC:1.3:CRS84"),new _y("urn:ogc:def:crs:OGC:2:84"),new _y("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _y("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _y("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var SK={};function AFe(e){return SK[e]||SK[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function OFe(e,t){SK[e]=t}var bi=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function Xu(e){for(var t in e)delete e[t]}var DFe=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function PFe(e){var t;for(t in e)return!1;return!t}var xx={};function UT(e,t,r){var n=e.getCode(),i=t.getCode();n in xx||(xx[n]={}),xx[n][i]=r}function LFe(e,t){var r;return e in xx&&t in xx[e]&&(r=xx[e][t]),r}var aa={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Cn(){return function(){throw new Error("Unimplemented abstract method.")}()}var vpr=0;function bo(e){return e.ol_uid||(e.ol_uid=String(++vpr))}var qR="6.15.1";var ypr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_pr=function(e){ypr(t,e);function t(r){var n=this,i=qR==="latest"?qR:"v"+qR.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+r+" for details.";return n=e.call(this,o)||this,n.code=r,n.name="AssertionError",n.message=o,n}return t}(Error),jR=_pr;function Br(e,t){if(!e)throw new jR(t)}function VT(e){for(var t=Wf(),r=0,n=e.length;r<n;++r)HT(t,e[r]);return t}function xpr(e,t,r){var n=Math.min.apply(null,e),i=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return Td(n,i,o,a,r)}function RFe(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function zR(e,t,r){var n,i;return t<e[0]?n=e[0]-t:e[2]<t?n=t-e[2]:n=0,r<e[1]?i=e[1]-r:e[3]<r?i=r-e[3]:i=0,n*n+i*i}function Id(e,t){return EK(e,t[0],t[1])}function kFe(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function EK(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function NFe(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],c=t[1],p=aa.UNKNOWN;return a<r?p=p|aa.LEFT:a>i&&(p=p|aa.RIGHT),c<n?p=p|aa.BELOW:c>o&&(p=p|aa.ABOVE),p===aa.UNKNOWN&&(p=aa.INTERSECTING),p}function Wf(){return[1/0,1/0,-1/0,-1/0]}function Td(e,t,r,n,i){return i?(i[0]=e,i[1]=t,i[2]=r,i[3]=n,i):[e,t,r,n]}function bx(e){return Td(1/0,1/0,-1/0,-1/0,e)}function qFe(e,t){var r=e[0],n=e[1];return Td(r,n,r,n,t)}function jFe(e,t,r,n,i){var o=bx(i);return IK(o,e,t,r,n)}function GT(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function zFe(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function HT(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function IK(e,t,r,n,i){for(;r<n;r+=i)bpr(e,t[r],t[r+1]);return e}function bpr(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function FR(e,t){var r;return r=t(BR(e)),r||(r=t(UR(e)),r)||(r=t(VR(e)),r)||(r=t(Bm(e)),r)?r:!1}function WT(e){var t=0;return xy(e)||(t=Fi(e)*Oa(e)),t}function BR(e){return[e[0],e[1]]}function UR(e){return[e[2],e[1]]}function Kc(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function FFe(e,t){var r;return t==="bottom-left"?r=BR(e):t==="bottom-right"?r=UR(e):t==="top-left"?r=Bm(e):t==="top-right"?r=VR(e):Br(!1,13),r}function $T(e,t,r,n,i){var o=wpr(e,t,r,n),a=o[0],c=o[1],p=o[2],m=o[3],g=o[4],S=o[5],I=o[6],M=o[7];return Td(Math.min(a,p,g,I),Math.min(c,m,S,M),Math.max(a,p,g,I),Math.max(c,m,S,M),i)}function wpr(e,t,r,n){var i=t*n[0]/2,o=t*n[1]/2,a=Math.cos(r),c=Math.sin(r),p=i*a,m=i*c,g=o*a,S=o*c,I=e[0],M=e[1];return[I-p+S,M-m-g,I-p-S,M-m+g,I+p-S,M+m+g,I+p+S,M+m-g,I-p+S,M-m-g]}function Oa(e){return e[3]-e[1]}function $f(e,t,r){var n=r||Wf();return ZT(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):bx(n),n}function Bm(e){return[e[0],e[3]]}function VR(e){return[e[2],e[3]]}function Fi(e){return e[2]-e[0]}function ZT(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function xy(e){return e[2]<e[0]||e[3]<e[1]}function BFe(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function UFe(e,t,r){var n=!1,i=NFe(e,t),o=NFe(e,r);if(i===aa.INTERSECTING||o===aa.INTERSECTING)n=!0;else{var a=e[0],c=e[1],p=e[2],m=e[3],g=t[0],S=t[1],I=r[0],M=r[1],P=(M-S)/(I-g),N=void 0,L=void 0;o&aa.ABOVE&&!(i&aa.ABOVE)&&(N=I-(M-m)/P,n=N>=a&&N<=p),!n&&o&aa.RIGHT&&!(i&aa.RIGHT)&&(L=M-(I-p)*P,n=L>=c&&L<=m),!n&&o&aa.BELOW&&!(i&aa.BELOW)&&(N=I-(M-c)/P,n=N>=a&&N<=p),!n&&o&aa.LEFT&&!(i&aa.LEFT)&&(L=M-(I-a)*P,n=L>=c&&L<=m)}return n}function VFe(e,t,r,n){var i=[];if(n>1)for(var o=e[2]-e[0],a=e[3]-e[1],c=0;c<n;++c)i.push(e[0]+o*c/n,e[1],e[2],e[1]+a*c/n,e[2]-o*c/n,e[3],e[0],e[3]-a*c/n);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var p=[],m=[],c=0,g=i.length;c<g;c+=2)p.push(i[c]),m.push(i[c+1]);return xpr(p,m,r)}function GFe(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function by(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function wx(e,t){var r=Math.cos(t),n=Math.sin(t),i=e[0]*r-e[1]*n,o=e[1]*r+e[0]*n;return e[0]=i,e[1]=o,e}function HFe(e,t){return e[0]*=t,e[1]*=t,e}function WFe(e,t){if(t.canWrapX()){var r=Fi(t.getExtent()),n=$Fe(e,t,r);n&&(e[0]-=n*r)}return e}function $Fe(e,t,r){var n=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])){var o=r||Fi(n);i=Math.floor((e[0]-n[0])/o)}return i}var Spr=6371008.8;function TK(e,t,r){var n=r||Spr,i=vx(e[1]),o=vx(t[1]),a=(o-i)/2,c=vx(t[0]-e[0])/2,p=Math.sin(a)*Math.sin(a)+Math.sin(c)*Math.sin(c)*Math.cos(i)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))}var CK=!0;function YFe(e){var t=e===void 0?!0:e;CK=!t}function MK(e,t,r){var n;if(t!==void 0){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];n=t}else n=e.slice();return n}function KFe(e,t,r){if(t!==void 0&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function Epr(e){OFe(e.getCode(),e),UT(e,e,MK)}function Ipr(e){e.forEach(Epr)}function Tl(e){return typeof e=="string"?AFe(e):e||null}function AK(e,t,r,n){e=Tl(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(t,r),n&&n!==e.getUnits()){var a=e.getMetersPerUnit();a&&(i=i*a/El[n])}}else{var c=e.getUnits();if(c==Il.DEGREES&&!n||n==Il.DEGREES)i=t;else{var p=OK(e,Tl("EPSG:4326"));if(p===KFe&&c!==Il.DEGREES)i=t*e.getMetersPerUnit();else{var m=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];m=p(m,m,2);var g=TK(m.slice(0,2),m.slice(2,4)),S=TK(m.slice(4,6),m.slice(6,8));i=(g+S)/2}var a=n?El[n]:e.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function ZFe(e){Ipr(e),e.forEach(function(t){e.forEach(function(r){t!==r&&UT(t,r,MK)})})}function Tpr(e,t,r,n){e.forEach(function(i){t.forEach(function(o){UT(i,o,r),UT(o,i,n)})})}function GR(e,t){return e?typeof e=="string"?Tl(e):e:Tl(t)}function XFe(e,t){var r=YT(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Yc(n+180,360)-180),r}function Um(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return r;var n=OK(e,t);return n===MK&&r}function OK(e,t){var r=e.getCode(),n=t.getCode(),i=LFe(r,n);return i||(i=KFe),i}function wy(e,t){var r=Tl(e),n=Tl(t);return OK(r,n)}function YT(e,t,r){var n=wy(t,r);return n(e,void 0,e.length)}function QFe(e,t,r,n){var i=wy(t,r);return VFe(e,i,void 0,n)}var Cd=null;function JFe(){return Cd}function KT(e,t){return Cd?YT(e,t,Cd):e}function Xc(e,t){return Cd?YT(e,Cd,t):(CK&&!by(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(CK=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function e8e(e,t){return Cd?QFe(e,t,Cd):e}function Vm(e,t){return Cd?QFe(e,Cd,t):e}function Cpr(){ZFe(bK),ZFe(wK),Tpr(wK,bK,TFe,CFe)}Cpr();var Oo=J(De(),1);var QT=J(De(),1),DK=J(mt(),1);var Sy=J(De(),1),XT=J(mt(),1);var t8e=({checked:e,georeferenceMode:t,id:r,onClick:n})=>{let i=Ne(`facet-${r.toLowerCase()}`);return r!=="ToGeoref"||r==="toGeoref"&&t?Sy.default.createElement("li",null,Sy.default.createElement("label",{htmlFor:r},Sy.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),Sy.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):Sy.default.createElement(Sy.default.Fragment,null)};t8e.propTypes={checked:XT.default.bool,georeferenceMode:XT.default.bool,id:XT.default.string,onClick:XT.default.func};var r8e=t8e;var n8e={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic"},Mpr={};Object.keys(n8e).forEach(e=>{Mpr[e]=!1});var i8e=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=zi(Zu),i=(0,QT.useMemo)(()=>{let a=Qe({},n8e);return t&&delete a.MM,a},[t]),o=a=>{n(c=>{let{facets:p,georeference:m}=c;if(a==="ToGeoref")return{facets:p,georeference:!m};{let g=p.slice(),S=g.findIndex(I=>I.id===a);if(S>-1)g.splice(S,1);else{let[I,M]=i[a].split("-");g.push({key:I,value:M,id:a})}return{facets:g,georeference:m}}})};return QT.default.createElement("ul",{className:"search-facet"},Object.keys(i).map(a=>QT.default.createElement(r8e,{checked:r.facets.findIndex(c=>c.id===a)!==-1,key:a,georeferenceMode:e,onClick:o,id:a})))};i8e.propTypes={georeferenceMode:DK.default.bool,mosaicMode:DK.default.bool};var o8e=i8e;var HR=o8e;var Od=J(De(),1);var rX=J(mt(),1);var wo=J(De(),1),Cl=J(mt(),1);function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a8e=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Apr(e,t){return!!(e===t||a8e(e)&&a8e(t))}function Opr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Apr(e[r],t[r]))return!1;return!0}function Dpr(e,t){t===void 0&&(t=Opr);var r,n=[],i,o=!1;function a(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return o&&r===this&&t(c,n)||(i=e.apply(this,c),o=!0,r=this,n=c),i}return a}var WR=Dpr;var Ex=J(De());var Ppr=typeof performance=="object"&&typeof performance.now=="function",s8e=Ppr?function(){return performance.now()}:function(){return Date.now()};function l8e(e){cancelAnimationFrame(e.id)}function Lpr(e,t){var r=s8e();function n(){s8e()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var PK=-1;function u8e(e){if(e===void 0&&(e=!1),PK===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),PK=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return PK}var Sx=null;function c8e(e){if(e===void 0&&(e=!1),Sx===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Sx="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Sx="negative":Sx="positive-ascending"),document.body.removeChild(t),Sx}return Sx}var Npr=150,Rpr=function(t,r){return t};function kpr(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,p=e.initInstanceProps,m=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(S){uT(I,S);function I(P){var N;return N=S.call(this,P)||this,N._instanceProps=p(N.props,qr(N)),N._outerRef=void 0,N._resetIsScrollingTimeoutId=null,N.state={instance:qr(N),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof N.props.initialScrollOffset=="number"?N.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},N._callOnItemsRendered=void 0,N._callOnItemsRendered=WR(function(L,q,j,B){return N.props.onItemsRendered({overscanStartIndex:L,overscanStopIndex:q,visibleStartIndex:j,visibleStopIndex:B})}),N._callOnScroll=void 0,N._callOnScroll=WR(function(L,q,j){return N.props.onScroll({scrollDirection:L,scrollOffset:q,scrollUpdateWasRequested:j})}),N._getItemStyle=void 0,N._getItemStyle=function(L){var q=N.props,j=q.direction,B=q.itemSize,H=q.layout,Q=N._getItemStyleCache(m&&B,m&&H,m&&j),ee;if(Q.hasOwnProperty(L))ee=Q[L];else{var ne=r(N.props,L,N._instanceProps),de=i(N.props,L,N._instanceProps),ue=j==="horizontal"||H==="horizontal",be=j==="rtl",Ee=ue?ne:0;Q[L]=ee={position:"absolute",left:be?void 0:Ee,right:be?Ee:void 0,top:ue?0:ne,height:ue?"100%":de,width:ue?de:"100%"}}return ee},N._getItemStyleCache=void 0,N._getItemStyleCache=WR(function(L,q,j){return{}}),N._onScrollHorizontal=function(L){var q=L.currentTarget,j=q.clientWidth,B=q.scrollLeft,H=q.scrollWidth;N.setState(function(Q){if(Q.scrollOffset===B)return null;var ee=N.props.direction,ne=B;if(ee==="rtl")switch(c8e()){case"negative":ne=-B;break;case"positive-descending":ne=H-j-B;break;}return ne=Math.max(0,Math.min(ne,H-j)),{isScrolling:!0,scrollDirection:Q.scrollOffset<B?"forward":"backward",scrollOffset:ne,scrollUpdateWasRequested:!1}},N._resetIsScrollingDebounced)},N._onScrollVertical=function(L){var q=L.currentTarget,j=q.clientHeight,B=q.scrollHeight,H=q.scrollTop;N.setState(function(Q){if(Q.scrollOffset===H)return null;var ee=Math.max(0,Math.min(H,B-j));return{isScrolling:!0,scrollDirection:Q.scrollOffset<ee?"forward":"backward",scrollOffset:ee,scrollUpdateWasRequested:!1}},N._resetIsScrollingDebounced)},N._outerRefSetter=function(L){var q=N.props.outerRef;N._outerRef=L,typeof q=="function"?q(L):q!=null&&typeof q=="object"&&q.hasOwnProperty("current")&&(q.current=L)},N._resetIsScrollingDebounced=function(){N._resetIsScrollingTimeoutId!==null&&l8e(N._resetIsScrollingTimeoutId),N._resetIsScrollingTimeoutId=Lpr(N._resetIsScrolling,Npr)},N._resetIsScrolling=function(){N._resetIsScrollingTimeoutId=null,N.setState({isScrolling:!1},function(){N._getItemStyleCache(-1,null)})},N}I.getDerivedStateFromProps=function(N,L){return qpr(N,L),g(N),null};var M=I.prototype;return M.scrollTo=function(N){N=Math.max(0,N),this.setState(function(L){return L.scrollOffset===N?null:{scrollDirection:L.scrollOffset<N?"forward":"backward",scrollOffset:N,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},M.scrollToItem=function(N,L){L===void 0&&(L="auto");var q=this.props,j=q.itemCount,B=q.layout,H=this.state.scrollOffset;N=Math.max(0,Math.min(N,j-1));var Q=0;if(this._outerRef){var ee=this._outerRef;B==="vertical"?Q=ee.scrollWidth>ee.clientWidth?u8e():0:Q=ee.scrollHeight>ee.clientHeight?u8e():0}this.scrollTo(o(this.props,N,L,H,this._instanceProps,Q))},M.componentDidMount=function(){var N=this.props,L=N.direction,q=N.initialScrollOffset,j=N.layout;if(typeof q=="number"&&this._outerRef!=null){var B=this._outerRef;L==="horizontal"||j==="horizontal"?B.scrollLeft=q:B.scrollTop=q}this._callPropsCallbacks()},M.componentDidUpdate=function(){var N=this.props,L=N.direction,q=N.layout,j=this.state,B=j.scrollOffset,H=j.scrollUpdateWasRequested;if(H&&this._outerRef!=null){var Q=this._outerRef;if(L==="horizontal"||q==="horizontal"){if(L==="rtl")switch(c8e()){case"negative":Q.scrollLeft=-B;break;case"positive-ascending":Q.scrollLeft=B;break;default:var ee=Q.clientWidth,ne=Q.scrollWidth;Q.scrollLeft=ne-ee-B;break;}else Q.scrollLeft=B;}else Q.scrollTop=B}this._callPropsCallbacks()},M.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&l8e(this._resetIsScrollingTimeoutId)},M.render=function(){var N=this.props,L=N.children,q=N.className,j=N.direction,B=N.height,H=N.innerRef,Q=N.innerElementType,ee=N.innerTagName,ne=N.itemCount,de=N.itemData,ue=N.itemKey,be=ue===void 0?Rpr:ue,Ee=N.layout,Re=N.outerElementType,Ie=N.outerTagName,We=N.style,$e=N.useIsScrolling,Fe=N.width,je=this.state.isScrolling,Ce=j==="horizontal"||Ee==="horizontal",Xe=Ce?this._onScrollHorizontal:this._onScrollVertical,et=this._getRangeToRender(),st=et[0],Ge=et[1],Ke=[];if(ne>0)for(var it=st;it<=Ge;it++)Ke.push((0,Ex.createElement)(L,{data:de,key:be(it,de),index:it,isScrolling:$e?je:void 0,style:this._getItemStyle(it)}));var Le=n(this.props,this._instanceProps);return(0,Ex.createElement)(Re||Ie||"div",{className:q,onScroll:Xe,ref:this._outerRefSetter,style:dn({position:"relative",height:B,width:Fe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:j},We)},(0,Ex.createElement)(Q||ee||"div",{children:Ke,ref:H,style:{height:Ce?"100%":Le,pointerEvents:je?"none":void 0,width:Ce?Le:"100%"}}))},M._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var N=this.props.itemCount;if(N>0){var L=this._getRangeToRender(),q=L[0],j=L[1],B=L[2],H=L[3];this._callOnItemsRendered(q,j,B,H)}}if(typeof this.props.onScroll=="function"){var Q=this.state,ee=Q.scrollDirection,ne=Q.scrollOffset,de=Q.scrollUpdateWasRequested;this._callOnScroll(ee,ne,de)}},M._getRangeToRender=function(){var N=this.props,L=N.itemCount,q=N.overscanCount,j=this.state,B=j.isScrolling,H=j.scrollDirection,Q=j.scrollOffset;if(L===0)return[0,0,0,0];var ee=a(this.props,Q,this._instanceProps),ne=c(this.props,ee,Q,this._instanceProps),de=!B||H==="backward"?Math.max(1,q):1,ue=!B||H==="forward"?Math.max(1,q):1;return[Math.max(0,ee-de),Math.max(0,Math.min(L-1,ne+ue)),ee,ne]},I}(Ex.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var qpr=function(t,r){var n=t.children,i=t.direction,o=t.height,a=t.layout,c=t.innerTagName,p=t.outerTagName,m=t.width,g=r.instance;if(0)var S};var f8e=kpr({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,a){var c=t.direction,p=t.height,m=t.itemCount,g=t.itemSize,S=t.layout,I=t.width,M=c==="horizontal"||S==="horizontal",P=M?I:p,N=Math.max(0,m*g-P),L=Math.min(N,r*g),q=Math.max(0,r*g-P+g+a);switch(n==="smart"&&(i>=q-P&&i<=L+P?n="auto":n="center"),n){case"start":return L;case"end":return q;case"center":{var j=Math.round(q+(L-q)/2);return j<Math.ceil(P/2)?0:j>N+Math.floor(P/2)?N:j}case"auto":default:return i>=q&&i<=L?i:i<q?q:L;}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,a=t.itemCount,c=t.itemSize,p=t.layout,m=t.width,g=i==="horizontal"||p==="horizontal",S=r*c,I=g?m:o,M=Math.ceil((I+n-S)/c);return Math.max(0,Math.min(a-1,r+M-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var d8e=J(De());function jpr(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function zpr(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,a=[],c=null,p=null,m=i;m<=o;m++){var g=t(m);g?p!==null&&(a.push(c,p),c=p=null):(p=m,c===null&&(c=m))}if(p!==null){for(var S=Math.min(Math.max(p,c+n-1),r-1),I=p+1;I<=S&&!t(I);I++)p=I;a.push(c,p)}if(a.length)for(;a[1]-a[0]+1<n&&a[0]>0;){var M=a[0]-1;if(!t(M))a[0]=M;else break}return a}var Fpr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Bpr=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Upr=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p8e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Vpr=function(e){Upr(t,e);function t(){var r,n,i,o;Fpr(this,t);for(var a=arguments.length,c=Array(a),p=0;p<a;p++)c[p]=arguments[p];return o=(n=(i=p8e(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(c))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(m){var g=m.visibleStartIndex,S=m.visibleStopIndex;i._lastRenderedStartIndex=g,i._lastRenderedStopIndex=S,i._ensureRowsLoaded(g,S)},i._setRef=function(m){i._listRef=m},n),p8e(i,o)}return Bpr(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,a=o.isItemLoaded,c=o.itemCount,p=o.minimumBatchSize,m=p===void 0?10:p,g=o.threshold,S=g===void 0?15:g,I=zpr({isItemLoaded:a,itemCount:c,minimumBatchSize:m,startIndex:Math.max(0,n-S),stopIndex:Math.min(c-1,i+S)});(this._memoizedUnloadedRanges.length!==I.length||this._memoizedUnloadedRanges.some(function(M,P){return I[P]!==M}))&&(this._memoizedUnloadedRanges=I,this._loadUnloadedRanges(I))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,a=function(m){var g=n[m],S=n[m+1],I=o(g,S);I!=null&&I.then(function(){if(jpr({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:g,stopIndex:S})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(g,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},c=0;c<n.length;c+=2)a(c)}}]),t}(d8e.PureComponent),h8e=Vpr;var JT=J(De(),1);var $R=J(mt(),1);var m8e=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=a=>{a.keyCode===13&&n()},o=Ne(`mapsearch-${r}`)===""?Ne(r):Ne(`mapsearch-${r}`);return JT.default.createElement("div",{className:Ct("inner-col",r)},JT.default.createElement("div",{className:Ct("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,JT.default.createElement("span",{className:"caret-container"},JT.default.createElement("span",{className:"caret caret-reversed"}))))};m8e.propTypes={onClick:$R.default.func,sortOrder:$R.default.string,type:$R.default.string};var g8e=m8e;var Z8e=J(De(),1);var ZR=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1;var n2=J(De(),1);var ci=J(De(),1),su=J(mt(),1);var Tx=J(H8e(),1);var r2="http://www.deutschefotothek.de/images/noimage/image120.jpg",W8e=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:a})=>{var Q;let{direction:c,maps:p}=t,m=(Q=p[r])!=null?Q:Iy,g=Ft(ai),[S,I]=(0,ci.useState)(m.getMetadata(vr.thumbnailUrl)===void 0?"":m.getMetadata(vr.thumbnailUrl).replace("http:","")),M=()=>{n(m)},P=ee=>{ee.key==="Enter"&&M()},N=()=>{S!==""&&S!==r2&&I(r2)};(0,ci.useEffect)(()=>{I(m.getMetadata(vr.thumbnailUrl))},[m]);let L=m===Iy,q=ZR(g,m)&&!L,j=m.getMetadata(vr.mapScale)==="0"||m.getMetadata(vr.mapScale)===0?Ne("mapsearch-listelement-unknown"):`1:${m.getMetadata(vr.mapScale)}`,B=parseInt(m.getMetadata(vr.timePublished),0),H=m.getMetadata(vr.type)===_o.MOSAIC_MAP;return ci.default.createElement("li",{tabIndex:0,style:a,className:Ct("vkf-mapsearch-record",m.getMetadata(vr.type),q&&"selected",c,L&&"loading"),id:m.getMetadata(vr.id),onClick:L?void 0:M,onKeyDown:L?void 0:P,onMouseEnter:i,onMouseLeave:o},e,ci.default.createElement("span",{className:"data-col time"},isNaN(B)?"":B),ci.default.createElement("span",{className:"data-col title"},m.getMetadata(vr.title)),ci.default.createElement("span",{className:"data-col time"},"1"),ci.default.createElement("div",{className:"view-item"},ci.default.createElement("span",{className:"thumbnail",href:"#"},S===""?ci.default.createElement(Tx.default.default,{height:"calc(100% - 6px)"}):ci.default.createElement(ci.default.Fragment,null,ci.default.createElement("img",{alt:`Thumbnail Image of Map ${m.getMetadata(vr.title)} ${m.getMetadata(vr.timePublished)}`,onError:N,src:S}),H&&ci.default.createElement("span",{className:Ct("mosaic-badge",q&&"selected")},Ne("mosaic-badge-title"))),q&&ci.default.createElement("span",{className:"badge selected-badge"},ci.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),ci.default.createElement("div",{className:"overview"},ci.default.createElement("h2",null,L?ci.default.createElement(Tx.default.default,null):m.getMetadata(vr.title)),ci.default.createElement("div",{className:"details"},ci.default.createElement("div",{className:"timestamp"},L?ci.default.createElement(Tx.default.default,null):`${Ne("mapsearch-listelement-time")} ${m.getMetadata(vr.timePublished)}`),ci.default.createElement("div",{className:"scale"},L?ci.default.createElement(Tx.default.default,null):`${Ne("mapsearch-listelement-scale")} ${j}`),H&&ci.default.createElement("div",{className:"type"},L?ci.default.createElement(Tx.default.default,null):`${Ne("originalview-title-mosaic")}`),!m.getMetadata(vr.hasGeoReference)&&ci.default.createElement("div",{className:"georeference"},Ne("mapsearch-listelement-no-georef"))))))};W8e.propTypes={children:su.default.element,data:su.default.shape({direction:su.default.oneOf(["horizontal","vertical"]),feature:su.default.object,is3d:su.default.bool,maps:su.default.object,selected:su.default.bool}),onClick:su.default.func,onMouseEnter:su.default.func,onMouseLeave:su.default.func,index:su.default.number,style:su.default.object};var eX=W8e;var $8e=e=>{var p;let{data:t,index:r}=e,{maps:n}=t,i=Ft(Qr),o=(p=n[r])!=null?p:Iy,a=(0,n2.useCallback)(()=>{Tt(i)&&aZ(i,o.toGeoJSON())},[i,o]),c=(0,n2.useCallback)(()=>{Tt(i)&&aZ(i,{type:"FeatureCollection",features:[]})},[i,o]);return n2.default.createElement(eX,Qe({onMouseEnter:a,onMouseLeave:c},e))};$8e.propTypes=Qe({},eX.propTypes);var tX=$8e;var Y8e=e=>{let t=Ft(Qr),[r,n]=zi(ai),i=Fr(dd);return Z8e.default.createElement(tX,Qe({onClick:a=>{i(void 0),ZR(r,a)?(n(p=>p.filter(m=>m.getId()!==a.getId())),a.removeMapLibreLayers(t)):a.addLayerToMap(t).then(()=>{n(p=>[...p,a])})}},e))};Y8e.propTypes=Qe({},tX.propTypes);var K8e=Y8e;var Bdr=["map_scale","time_published","title","georeference"],Iy=new Gc({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",time_published:"",title:"Loading"}}),JR=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=K8e,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:a=!0,searchResultDescriptor:{itemCount:c,id:p},sortSettings:m})=>{let{activeType:g,sortOrder:S}=m,I=Ft(a4e),[M,P]=(0,wo.useState)({}),N=(0,wo.useRef)(!1),L=(0,wo.useRef)(),q=(0,wo.useRef)(),{height:j,width:B}=Q$(q),H=(0,wo.useCallback)(ee=>!N.current&&M[ee]!==void 0&&M[ee]!==Iy,[M]),Q=(0,wo.useCallback)((ee,ne)=>{if(ee!==void 0&&ne!==void 0){let de=ne-ee+1;return i(ee,de).then(ue=>{ue&&P(be=>{let Ee=N.current?{}:Object.assign({},be);return N.current=!1,ue.forEach((Re,Ie)=>{Ee[ee+Ie]=Re}),Ee})})}},[i]);return(0,wo.useEffect)(()=>{Iy.updateMetadata("title",Ne("mapsearch-listelement-loading"))},[]),(0,wo.useEffect)(()=>{N.current=!0,L.current.resetloadMoreItemsCache(!0)},[p]),wo.default.createElement("div",{className:Ct("vkf-mapsearch-result-list",e)},a&&wo.default.createElement("div",{className:"list-header"},wo.default.createElement("strong",{className:"list-label"},Ne("mapsearch-sorting"),":"),wo.default.createElement("div",{className:"inner-columns"},Bdr.map(ee=>wo.default.createElement(g8e,{key:ee,onClick:o,sortOrder:g===ee?S:"",type:ee})))),wo.default.createElement("div",{className:"mapsearch-contentlist-container",ref:q},wo.default.createElement(h8e,{isItemLoaded:H,itemCount:c,loadMoreItems:Q,minimumBatchSize:n,ref:L},({onItemsRendered:ee,ref:ne})=>wo.default.createElement(f8e,{height:j,innerElementType:"ul",itemCount:c,itemSize:t,itemData:{direction:e,maps:M,is3d:I},layout:e,onItemsRendered:ee,ref:ne,width:B},r))))};JR.propTypes={direction:Cl.default.oneOf(["horizontal","vertical"]),itemSize:Cl.default.number,minimumBatchSize:Cl.default.number,ListItemComponent:Cl.default.elementType,renderHeader:Cl.default.bool,onFetchResults:Cl.default.func,onUpdateSortType:Cl.default.func,searchResultDescriptor:Cl.default.shape({id:Cl.default.number,itemCount:Cl.default.number}),sortSettings:Cl.default.shape({activeType:Cl.default.string,sortOrder:Cl.default.string})};var Udr="title",i2={ASCENDING:"ascending",DESCENDING:"descending"},X8e=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=En(o,["customQuery","DataProvider","enableOverlayLayer"]);let[a,c]=(0,Od.useState)({activeType:Udr,sortOrder:i2.ASCENDING}),{activeType:p,sortOrder:m}=a,g=I=>{let M=I===p&&m===i2.ASCENDING?i2.DESCENDING:i2.ASCENDING;c({sortOrder:M,activeType:I})};return Od.default.createElement(Od.Fragment,null,r&&Od.default.createElement(r3e,{sortSettings:a}),Od.default.createElement(t,{customQuery:e,renderConsumer:I=>Od.default.createElement(JR,Qe(Qe({onUpdateSortType:g,sortSettings:a},n),I)),sortSettings:a}))};X8e.propTypes=Qe({DataProvider:rX.default.elementType.isRequired,enableOverlayLayer:rX.default.bool},JR.propTypes);var e4=X8e;var iX=J(De(),1),oX=J(mt(),1);var nX=J(De(),1),t4=J(mt(),1);var Q8e=({name:e,color:t,size:r})=>nX.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},nX.default.createElement("use",{xlinkHref:`${Tr.getSettings().ICON_SPRITE}#${e}`}));Q8e.propTypes={name:t4.default.string.isRequired,color:t4.default.string,size:t4.default.number};var us=Q8e;var J8e=({onClick:e,isOpen:t})=>{let r=Ft(Zu);return iX.default.createElement("button",{className:Ct("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:Ne(`mapsearch-facetedsearch-${t?"close":"open"}`)},iX.default.createElement(us,{name:"icon-filter"}))};J8e.propTypes={isOpen:oX.default.bool,onClick:oX.default.func};var r4=J8e;var Xf=J(De(),1);var Vdr=()=>Xf.default.createElement("div",{className:"lds-roller"},Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null),Xf.default.createElement("div",null)),n4=Vdr;var cs=J(De(),1),Gm=J(mt(),1);var aX=J(Am(),1);var Gdr=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},eBe=function(e){return{aggs:{summary:{stats:{field:e}}}}},tBe=function(e,t,r,n,i,o,a,c){return{query:{bool:{filter:[{range:{[e]:{gte:t[0],lte:t[1]}}},{geo_shape:{[r]:{relation:"intersects",shape:{type:"envelope",coordinates:n}}}},Gdr(a),{term:{has_georeference:!0}},...(c||[])],must:[{match_all:{}}]}},sort:{[i]:{order:o}}}};var rBe=(e,t)=>{let{padding:r,offset:n,layermanagement:i,map:o,spatialtemporalsearch:a}=e,c,p,m,g;return t===xl.VERTICAL?(c=0,p=o.height,m=o.width,g=0):(c=0+a.width+r.width,p=o.height-n.height-r.height,m=o.width-i.width-r.width,g=n.height+r.height),[[c,p],[c,g],[m,p],[m,g]]},nBe=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[a,c],[p,m]]=t;return[[Math.max(a,r),Math.min(n,c)],[Math.min(p,i),Math.max(o,m)]]};var iBe=J($I(),1),oBe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,a=Ft($_),{facets:c}=Ft(Zu),p=Ft(Z_),m=Ft(Qr),[g,S]=(0,cs.useState)(void 0),I=Fr(TN),M=Fr(Y_),[P,N]=zi(Pm),[L,q]=zi(Dm),[j,B]=(0,cs.useState)({itemCount:10,id:Date.now()}),Q=Tr.getSettings().API_SEARCH,ee=(0,cs.useCallback)(Ee=>{let Re=o==="ascending"?"asc":"desc",Ie=nBe([[Ee[0],Ee[3]],[Ee[2],Ee[1]]]);return tBe("time_published",L.map(We=>`${We}-01-01`),"geometry",Ie,i,Re,c,e)},[c,i,o,L]),ne=(0,cs.useCallback)((Ee,Re,Ie=!1)=>{if(g===void 0)return I(!1),new Promise(Fe=>Fe([]));let We=ee(g,"ESPG:4326"),$e=Q+"/_search?from="+Ee+"&size="+Re;return I(!0),aX.default.post($e,We).then(Fe=>{if(Fe.status===200){let je=Fe.data;return Ie?je:M3e(je.hits.hits)}}).catch(Fe=>{console.warn(Fe)}).finally(()=>{I(!1)})},[ee,g]),de=(0,cs.useCallback)(()=>{ne(0,0,!0).then(Ee=>{let Re=Ee.hits.total.value;M(Re),B({itemCount:Re,id:Date.now()})})},[ne]),ue=c4e(de,30),be=(0,cs.useCallback)(()=>{if(Tt(m)){let Ee=rBe(a,p),Re=new iBe.LngLatBounds;Ee.forEach(We=>{let $e=m.unproject(We);Re.extend($e)});let Ie=Re.toArray().flat();(g===void 0||!GT(Ie,g))&&S(Ie)}},[m,g,a]);return(0,cs.useEffect)(()=>{if(Tt(m))return m.on("moveend",be),()=>{m.off("moveend",be)}},[m,be]),(0,cs.useEffect)(()=>{ue()},[c,de,g,i,o,L]),(0,cs.useEffect)(()=>{be()},[a,m]),(0,cs.useEffect)(()=>{let Ee=`${Q}/_search?`,Re=eBe("time_published");aX.default.post(Ee,Re,{}).then(Ie=>{if(Ie.status===200){let We=Ie.data,$e=new Date(We.aggregations.summary.max),je=[new Date(We.aggregations.summary.min).getUTCFullYear(),$e.getUTCFullYear()];(P===void 0||X$===P||je[0]!==P[0]||je[1]!==P[1])&&(N(je),q(je))}})},[]),cs.default.createElement(cs.default.Fragment,null,r({minimumBatchSize:t,onRefresh:de,onFetchResults:ne,searchResultDescriptor:j}))};oBe.propTypes={customQuery:Gm.default.array,minimumBatchSize:Gm.default.number,projection:Gm.default.string,renderConsumer:Gm.default.func,sortSettings:Gm.default.shape({activeType:Gm.default.string,sortOrder:Gm.default.string})};var i4=oBe;var o4=J(mt(),1),aBe="EPSG:3857",sBe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=zi(Zu),[o,a]=(0,Oo.useState)(!1),[c,p]=(0,Oo.useState)(!1),m=Ft(TN),g=Ft(Y_),S=()=>{a(M=>!M)},I=()=>{i(o4e)};return(0,Oo.useEffect)(()=>{p(m)},[m]),Oo.default.createElement("div",{className:Ct("mapsearch-container",o&&"facetedsearch-open")},Oo.default.createElement("div",{className:"panel panel-default searchTablePanel"},Oo.default.createElement("div",{className:"panel-heading"},Oo.default.createElement("div",{className:"content"},Oo.default.createElement("div",null,g===0?Ne("mapsearch-found-no-maps"):`${g} ${Ne("mapsearch-found-maps")}`),n.facets.length>0&&Oo.default.createElement("button",{className:"remove-filter",onClick:I},Oo.default.createElement(us,{name:"icon-filter"})),c&&Oo.default.createElement("div",{className:"loading-spinner"},Oo.default.createElement(n4,null)),Oo.default.createElement(r4,{onClick:S,isOpen:o})),Oo.default.createElement("div",{className:"facet-container"},Oo.default.createElement(HR,{georeferenceMode:!1,mosaicMode:r}))),Oo.default.createElement("div",{className:"panel-body"},Oo.default.createElement(e4,{customQuery:e,DataProvider:i4,ListItemComponent:t}))))};sBe.propTypes={customQuery:o4.default.array,MapSearchListItemComponent:o4.default.elementType,mosaicMode:o4.default.bool};var lBe=sBe;var uBe=e=>typeof e=="string"||e instanceof String,Hdr=e=>{if(e===void 0||!Array.isArray(e)||e.length<2)return!1;let[t,r,...n]=e;if(isNaN(t)||isNaN(r)||n.some(i=>isNaN(i)))return!1;if(!cBe(t,r)){let[i,o]=XFe([t,r],aBe);return cBe(i,o)}return!0},cBe=(e,t)=>e<=180&&e>=-180&&t<=90&&t>=-90,fBe=e=>{let{activeBasemapId:t,is3dEnabled:r,oid:n,operationalLayers:i,mapView:o}=e,a=!0;return a&&(a=t===void 0||uBe(t)),a&&(a=r===void 0||typeof r=="boolean"),a&&(a=n===void 0||uBe(n)||Array.isArray(n)),a&&(a=i===void 0||Array.isArray(i)),a&&(a=o===void 0||Wdr(o,r)),a},Wdr=e=>{let t,{bearing:r,center:n,pitch:i,zoom:o}=e;return t=n===void 0||Hdr(n),t&&(t=i===void 0||!isNaN(i)&&i>=0),t&&(t=r===void 0||!isNaN(r)),t&&(t=o===void 0||!isNaN(o)),t};var mZ="vk_persistence_container",dBe=()=>{let e=Ft(Qr),[t,r]=(0,Hm.useState)(void 0),n=Fr(Ff),i=Fr(Zu),o=Fr(gl),a=Fr(ai),c=Fr(Pm),p=Fr(Dm),m=Tr.getGeoreferenceApiClient(),[g]=Hc(mZ,{operationalLayers:[],is3dEnabled:!1}),[S,I]=Hc(yy,[]),M=(P,N="danger")=>{o({id:"persistence-controller",type:N,text:P})};return(0,Hm.useEffect)(()=>{let H=(0,pBe.parse)(location.search,{arrayFormat:"comma",parseNumbers:!0}),{b:P,v:N,oid:L,map_id:q,map_view_id:j}=H,B=En(H,["b","v","oid","map_id","map_view_id"]);if(j!==void 0){let ee=`/map_view/${j}`;m.get(ee).then(ne=>{let{map_view_json:de}=ne.data,Ee=JSON.parse(de),{customBasemaps:ue}=Ee,be=En(Ee,["customBasemaps"]);ue!==void 0&&ue.length>0&&I(ue.concat(S).filter((Re,Ie,We)=>We.findIndex($e=>$e.id===Re.id)===Ie)),be.mapView&&b3e(be.mapView)&&(be.mapView=FN(be.mapView)),r(be)})}else{let Q=E3e(N),ee={activeBasemapId:P,is3dEnabled:Q,cameraOptions:I3e(B),oid:v3e(L,q)},ne=!h3e(ee)||L!==void 0;r(ne?ee:g)}},[]),(0,Hm.useEffect)(()=>{if(t!==void 0){let{activeBasemapId:P,is3dEnabled:N,oid:L,operationalLayers:q,cameraOptions:j={}}=t;if(!fBe(t)){M(Ne("persistencecontroller-error-persistence-object"));return}try{if(P!==void 0&&n(P),e!==void 0){let B=Object.assign({},Tr.getDefaultMapView(),j);if(e.jumpTo(B),B.legacy3dMapView){let H=e.getCanvas(),Q=H.height,ee=H.width,ne=e.unproject([ee/2,Q*.3]);e.setCenter(ne),M(Ne("persistencecontroller-deprecated-3d-map-view"),"warning")}if(N&&e.enableTerrain(),q!==void 0&&q.length>0&&L===void 0)try{let H=q.map(m3e),Q=[];for(let{feature:ee,isVisible:ne,opacity:de}of H)if(ee!==void 0){let ue=ee.addLayerToMap(e,{visibility:ne?"visible":"none",opacity:de});Q.push(ue)}Promise.all(Q).then(()=>{a(H.map(ee=>ee.feature))})}catch(H){console.error(H),M(Ne("persistencecontroller-error-persistence-object"))}else if(L!==void 0){let Q=(Array.isArray(L)?L:[L]).map(ee=>A3e(ee));Promise.all(Q).then(ee=>{Promise.all(ee.map(ne=>ne.addLayerToMap(e))).then(()=>{a(ee)}),(j===void 0||Object.entries(j).length===0)&&g3e(e,ee)}).catch(ee=>{console.error(ee),M(Ne("persistencecontroller-error-single-map"),"warning")})}}}catch(B){console.error(B),M(Ne("persistencecontroller-error-persistence-object"))}}},[e,t]),(0,Hm.useEffect)(()=>{if(t!==void 0){let{searchOptions:P}=t;if(P!==void 0){let{facets:N,timeExtent:L,timeRange:q}=P;N!==void 0&&i(N),q!==void 0&&c(q),L!==void 0&&p(L)}}},[t]),Hm.default.createElement(T3e,null)};var PC=J(De(),1),dXe=J(mt(),1);var $s=J(De(),1);var QYe=J(mt(),1);var Ur=J(De(),1);var o2=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},hBe=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(hBe.test(e)){let t=Date.prototype[e.replace(hBe,"$1UTC")];t&&(o2.prototype[e]=t)}});var a4=class extends o2{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=$dr.format(this),r=Zdr.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${Ydr.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,Qe({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,Qe({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,Qe({timeZone:"UTC"},r))}},$dr=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),Zdr=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),Ydr=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});var Ty=e=>new a4(+new Date(e));var Kdr=Math.pow(10,8)*24*60*60*1e3,qQr=-Kdr,s4=6048e5,mBe=864e5,a2=6e4,s2=36e5,gBe=1e3;var Xdr=3600;var vBe=Xdr*24,jQr=vBe*7,Qdr=vBe*365.2425,Jdr=Qdr/12,zQr=Jdr*3,sX=Symbol.for("constructDateFrom");function Mn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&sX in e?e[sX](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xr(e,t){return Mn(t||e,e)}function l4(e,t,r){let n=Xr(e,r==null?void 0:r.in);return isNaN(t)?Mn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}var ehr={};function Qu(){return ehr}function Ml(e,t){var c,p,m,g,S,I,M,P;let r=Qu(),n=(P=(M=(g=(m=t==null?void 0:t.weekStartsOn)!=null?m:(p=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:p.weekStartsOn)!=null?g:r.weekStartsOn)!=null?M:(I=(S=r.locale)==null?void 0:S.options)==null?void 0:I.weekStartsOn)!=null?P:0,i=Xr(e,t==null?void 0:t.in),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function ef(e,t){return Ml(e,xr(Qe({},t),{weekStartsOn:1}))}function u4(e,t){let r=Xr(e,t==null?void 0:t.in),n=r.getFullYear(),i=Mn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=ef(i),a=Mn(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);let c=ef(a);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Cy(e){let t=Xr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function yBe(e,...t){let r=Mn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function l2(e,t){let r=Xr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function _Be(e,t,r){let[n,i]=yBe(r==null?void 0:r.in,e,t),o=l2(n),a=l2(i),c=+o-Cy(o),p=+a-Cy(a);return Math.round((c-p)/mBe)}function xBe(e,t){let r=u4(e,t),n=Mn((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ef(n)}function bBe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function c4(e){return!(!bBe(e)&&typeof e!="number"||isNaN(+Xr(e)))}function wBe(e,t){let r=Xr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var thr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SBe=(e,t,r)=>{let n,i=thr[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function f4(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var rhr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nhr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ihr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EBe={date:f4({formats:rhr,defaultWidth:"full"}),time:f4({formats:nhr,defaultWidth:"full"}),dateTime:f4({formats:ihr,defaultWidth:"full"})};var ohr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IBe=(e,t,r,n)=>ohr[e];function Cx(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let a=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):a;i=e.formattingValues[c]||e.formattingValues[a]}else{let a=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[a]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var ahr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},shr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lhr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uhr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},chr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fhr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},phr=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd";}return r+"th"},TBe={ordinalNumber:phr,era:Cx({values:ahr,defaultWidth:"wide"}),quarter:Cx({values:shr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cx({values:lhr,defaultWidth:"wide"}),day:Cx({values:uhr,defaultWidth:"wide"}),dayPeriod:Cx({values:chr,defaultWidth:"wide",formattingValues:fhr,defaultFormattingWidth:"wide"})};function Mx(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let a=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(c)?hhr(c,S=>S.test(a)):dhr(c,S=>S.test(a)),m;m=e.valueCallback?e.valueCallback(p):p,m=r.valueCallback?r.valueCallback(m):m;let g=t.slice(a.length);return{value:m,rest:g}}}function dhr(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hhr(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function CBe(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;let c=t.slice(i.length);return{value:a,rest:c}}}var mhr=/^(\d+)(th|st|nd|rd)?/i,ghr=/\d+/i,vhr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yhr={any:[/^b/i,/^(a|c)/i]},_hr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xhr={any:[/1/i,/2/i,/3/i,/4/i]},bhr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},whr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Shr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ehr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ihr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Thr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MBe={ordinalNumber:CBe({matchPattern:mhr,parsePattern:ghr,valueCallback:e=>parseInt(e,10)}),era:Mx({matchPatterns:vhr,defaultMatchWidth:"wide",parsePatterns:yhr,defaultParseWidth:"any"}),quarter:Mx({matchPatterns:_hr,defaultMatchWidth:"wide",parsePatterns:xhr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mx({matchPatterns:bhr,defaultMatchWidth:"wide",parsePatterns:whr,defaultParseWidth:"any"}),day:Mx({matchPatterns:Shr,defaultMatchWidth:"wide",parsePatterns:Ehr,defaultParseWidth:"any"}),dayPeriod:Mx({matchPatterns:Ihr,defaultMatchWidth:"any",parsePatterns:Thr,defaultParseWidth:"any"})};var u2={code:"en-US",formatDistance:SBe,formatLong:EBe,formatRelative:IBe,localize:TBe,match:MBe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ABe(e,t){let r=Xr(e,t==null?void 0:t.in);return _Be(r,wBe(r))+1}function p4(e,t){let r=Xr(e,t==null?void 0:t.in),n=+ef(r)-+xBe(r);return Math.round(n/s4)+1}function Ax(e,t){var g,S,I,M,P,N,L,q;let r=Xr(e,t==null?void 0:t.in),n=r.getFullYear(),i=Qu(),o=(q=(L=(M=(I=t==null?void 0:t.firstWeekContainsDate)!=null?I:(S=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:S.firstWeekContainsDate)!=null?M:i.firstWeekContainsDate)!=null?L:(N=(P=i.locale)==null?void 0:P.options)==null?void 0:N.firstWeekContainsDate)!=null?q:1,a=Mn((t==null?void 0:t.in)||e,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);let c=Ml(a,t),p=Mn((t==null?void 0:t.in)||e,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);let m=Ml(p,t);return+r>=+c?n+1:+r>=+m?n:n-1}function OBe(e,t){var c,p,m,g,S,I,M,P;let r=Qu(),n=(P=(M=(g=(m=t==null?void 0:t.firstWeekContainsDate)!=null?m:(p=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)!=null?g:r.firstWeekContainsDate)!=null?M:(I=(S=r.locale)==null?void 0:S.options)==null?void 0:I.firstWeekContainsDate)!=null?P:1,i=Ax(e,t),o=Mn((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Ml(o,t)}function d4(e,t){let r=Xr(e,t==null?void 0:t.in),n=+Ml(r,t)-+OBe(r,t);return Math.round(n/s4)+1}function Kn(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}var Dd={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return Kn(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):Kn(r+1,2)},d(e,t){return Kn(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m.";}},h(e,t){return Kn(e.getHours()%12||12,t.length)},H(e,t){return Kn(e.getHours(),t.length)},m(e,t){return Kn(e.getMinutes(),t.length)},s(e,t){return Kn(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Kn(i,t.length)}};var Ox={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lX={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"});}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Dd.y(e,t)},Y:function(e,t,r,n){let i=Ax(e,n),o=i>0?i:1-i;if(t==="YY"){let a=o%100;return Kn(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Kn(o,t.length)},R:function(e,t){let r=u4(e);return Kn(r,t.length)},u:function(e,t){let r=e.getFullYear();return Kn(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Kn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"});}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Kn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"});}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return Dd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"});}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Kn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"});}},w:function(e,t,r,n){let i=d4(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Kn(i,t.length)},I:function(e,t,r){let n=p4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Kn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Dd.d(e,t)},D:function(e,t,r){let n=ABe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Kn(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"});}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Kn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"});}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Kn(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"});}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Kn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"});}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=Ox.noon:n===0?i=Ox.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=Ox.evening:n>=12?i=Ox.afternoon:n>=4?i=Ox.morning:i=Ox.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Dd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Dd.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Kn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Kn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Dd.s(e,t)},S:function(e,t){return Dd.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PBe(n);case"XXXX":case"XX":return My(n);case"XXXXX":case"XXX":default:return My(n,":");}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return PBe(n);case"xxxx":case"xx":return My(n);case"xxxxx":case"xxx":default:return My(n,":");}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DBe(n,":");case"OOOO":default:return"GMT"+My(n,":");}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DBe(n,":");case"zzzz":default:return"GMT"+My(n,":");}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return Kn(n,t.length)},T:function(e,t,r){return Kn(+e,t.length)}};function DBe(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+Kn(o,2)}function PBe(e,t){return e%60===0?(e>0?"-":"+")+Kn(Math.abs(e)/60,2):My(e,t)}function My(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Kn(Math.trunc(n/60),2),o=Kn(n%60,2);return r+i+t+o}var LBe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"});}},NBe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"});}},Chr=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return LBe(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break;}return o.replace("{{date}}",LBe(n,t)).replace("{{time}}",NBe(i,t))},c2={p:NBe,P:Chr};var Mhr=/^D+$/,Ahr=/^Y+$/,Ohr=["D","DD","YY","YYYY"];function h4(e){return Mhr.test(e)}function m4(e){return Ahr.test(e)}function f2(e,t,r){let n=Dhr(e,t,r);if(console.warn(n),Ohr.includes(e))throw new RangeError(n)}function Dhr(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Phr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lhr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nhr=/^'([^]*?)'?$/,Rhr=/''/g,khr=/[a-zA-Z]/;function uX(e,t,r){var g,S,I,M,P,N,L,q,j,B,H,Q,ee,ne,de,ue,be,Ee;let n=Qu(),i=(S=(g=r==null?void 0:r.locale)!=null?g:n.locale)!=null?S:u2,o=(B=(j=(N=(P=r==null?void 0:r.firstWeekContainsDate)!=null?P:(M=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:M.firstWeekContainsDate)!=null?N:n.firstWeekContainsDate)!=null?j:(q=(L=n.locale)==null?void 0:L.options)==null?void 0:q.firstWeekContainsDate)!=null?B:1,a=(Ee=(be=(ne=(ee=r==null?void 0:r.weekStartsOn)!=null?ee:(Q=(H=r==null?void 0:r.locale)==null?void 0:H.options)==null?void 0:Q.weekStartsOn)!=null?ne:n.weekStartsOn)!=null?be:(ue=(de=n.locale)==null?void 0:de.options)==null?void 0:ue.weekStartsOn)!=null?Ee:0,c=Xr(e,r==null?void 0:r.in);if(!c4(c))throw new RangeError("Invalid time value");let p=t.match(Lhr).map(Re=>{let Ie=Re[0];if(Ie==="p"||Ie==="P"){let We=c2[Ie];return We(Re,i.formatLong)}return Re}).join("").match(Phr).map(Re=>{if(Re==="''")return{isToken:!1,value:"'"};let Ie=Re[0];if(Ie==="'")return{isToken:!1,value:qhr(Re)};if(lX[Ie])return{isToken:!0,value:Re};if(Ie.match(khr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ie+"`");return{isToken:!1,value:Re}});i.localize.preprocessor&&(p=i.localize.preprocessor(c,p));let m={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return p.map(Re=>{if(!Re.isToken)return Re.value;let Ie=Re.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&m4(Ie)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&h4(Ie))&&f2(Ie,t,String(e));let We=lX[Ie[0]];return We(c,Ie,i.localize,m)}).join("")}function qhr(e){let t=e.match(Nhr);return t?t[1].replace(Rhr,"'"):e}function RBe(){return Object.assign({},Qu())}function kBe(e,t){let r=Xr(e,t==null?void 0:t.in).getDay();return r===0?7:r}function qBe(e){return Math.trunc(+Xr(e)/1e3)}function jBe(e,t){let r=jhr(t)?new t(0):Mn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function jhr(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var zhr=10,g4=class{constructor(){nt(this,"subPriority",0)}validate(t,r){return!0}},v4=class extends g4{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},y4=class extends g4{constructor(r,n){super();nt(this,"priority",zhr);nt(this,"subPriority",-1);this.context=r||(i=>Mn(n,i))}set(r,n){return n.timestampIsSet?r:Mn(r,jBe(r,this.context))}};var sr=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new v4(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var _4=class extends sr{constructor(){super(...arguments);nt(this,"priority",140);nt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var Rn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ju={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fi(e,t){return e&&{value:t(e.value),rest:e.rest}}function An(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ec(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(i*s2+o*a2+a*gBe),rest:t.slice(r[0].length)}}function x4(e){return An(Rn.anyDigitsSigned,e)}function Jr(e,t){switch(e){case 1:return An(Rn.singleDigit,t);case 2:return An(Rn.twoDigits,t);case 3:return An(Rn.threeDigits,t);case 4:return An(Rn.fourDigits,t);default:return An(new RegExp("^\\d{1,"+e+"}"),t);}}function Dx(e,t){switch(e){case 1:return An(Rn.singleDigitSigned,t);case 2:return An(Rn.twoDigitsSigned,t);case 3:return An(Rn.threeDigitsSigned,t);case 4:return An(Rn.fourDigitsSigned,t);default:return An(new RegExp("^-?\\d{1,"+e+"}"),t);}}function Px(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0;}}function b4(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,a=Math.trunc(o/100)*100,c=e>=o%100;i=e+a-(c?100:0)}return r?i:1-i}function w4(e){return e%400===0||e%4===0&&e%100!==0}var S4=class extends sr{constructor(){super(...arguments);nt(this,"priority",130);nt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return fi(Jr(4,r),o);case"yo":return fi(i.ordinalNumber(r,{unit:"year"}),o);default:return fi(Jr(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let c=b4(i.year,o);return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}let a=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}};var E4=class extends sr{constructor(){super(...arguments);nt(this,"priority",130);nt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return fi(Jr(4,r),o);case"Yo":return fi(i.ordinalNumber(r,{unit:"year"}),o);default:return fi(Jr(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let a=Ax(r,o);if(i.isTwoDigitYear){let p=b4(i.year,a);return r.setFullYear(p,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ml(r,o)}let c=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(c,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ml(r,o)}};var I4=class extends sr{constructor(){super(...arguments);nt(this,"priority",130);nt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?Dx(4,r):Dx(n.length,r)}set(r,n,i){let o=Mn(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),ef(o)}};var T4=class extends sr{constructor(){super(...arguments);nt(this,"priority",130);nt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?Dx(4,r):Dx(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var C4=class extends sr{constructor(){super(...arguments);nt(this,"priority",120);nt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Jr(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var M4=class extends sr{constructor(){super(...arguments);nt(this,"priority",120);nt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Jr(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var A4=class extends sr{constructor(){super(...arguments);nt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);nt(this,"priority",110)}parse(r,n,i){let o=a=>a-1;switch(n){case"M":return fi(An(Rn.month,r),o);case"MM":return fi(Jr(2,r),o);case"Mo":return fi(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};var O4=class extends sr{constructor(){super(...arguments);nt(this,"priority",110);nt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=a=>a-1;switch(n){case"L":return fi(An(Rn.month,r),o);case"LL":return fi(Jr(2,r),o);case"Lo":return fi(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};function zBe(e,t,r){let n=Xr(e,r==null?void 0:r.in),i=d4(n,r)-t;return n.setDate(n.getDate()-i*7),Xr(n,r==null?void 0:r.in)}var D4=class extends sr{constructor(){super(...arguments);nt(this,"priority",100);nt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return An(Rn.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Jr(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return Ml(zBe(r,i,o),o)}};function FBe(e,t,r){let n=Xr(e,r==null?void 0:r.in),i=p4(n,r)-t;return n.setDate(n.getDate()-i*7),n}var P4=class extends sr{constructor(){super(...arguments);nt(this,"priority",100);nt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return An(Rn.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Jr(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return ef(FBe(r,i))}};var Fhr=[31,28,31,30,31,30,31,31,30,31,30,31],Bhr=[31,29,31,30,31,30,31,31,30,31,30,31],L4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"subPriority",1);nt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return An(Rn.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Jr(n.length,r);}}validate(r,n){let i=r.getFullYear(),o=w4(i),a=r.getMonth();return o?n>=1&&n<=Bhr[a]:n>=1&&n<=Fhr[a]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};var N4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"subpriority",1);nt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return An(Rn.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Jr(n.length,r);}}validate(r,n){let i=r.getFullYear();return w4(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};function Lx(e,t,r){var S,I,M,P,N,L,q,j;let n=Qu(),i=(j=(q=(P=(M=r==null?void 0:r.weekStartsOn)!=null?M:(I=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:I.weekStartsOn)!=null?P:n.weekStartsOn)!=null?q:(L=(N=n.locale)==null?void 0:N.options)==null?void 0:L.weekStartsOn)!=null?j:0,o=Xr(e,r==null?void 0:r.in),a=o.getDay(),p=(t%7+7)%7,m=7-i,g=t<0||t>6?t-(a+m)%7:(p+m)%7-(a+m)%7;return l4(o,g,r)}var R4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=Lx(r,i,o),r.setHours(0,0,0,0),r}};var k4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let a=c=>{let p=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return fi(Jr(n.length,r),a);case"eo":return fi(i.ordinalNumber(r,{unit:"day"}),a);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=Lx(r,i,o),r.setHours(0,0,0,0),r}};var q4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let a=c=>{let p=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return fi(Jr(n.length,r),a);case"co":return fi(i.ordinalNumber(r,{unit:"day"}),a);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=Lx(r,i,o),r.setHours(0,0,0,0),r}};function BBe(e,t,r){let n=Xr(e,r==null?void 0:r.in),i=kBe(n,r),o=t-i;return l4(n,o,r)}var j4=class extends sr{constructor(){super(...arguments);nt(this,"priority",90);nt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=a=>a===0?7:a;switch(n){case"i":case"ii":return Jr(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return fi(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return fi(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return fi(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return fi(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=BBe(r,i),r.setHours(0,0,0,0),r}};var z4=class extends sr{constructor(){super(...arguments);nt(this,"priority",80);nt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(Px(i),0,0,0),r}};var F4=class extends sr{constructor(){super(...arguments);nt(this,"priority",80);nt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(Px(i),0,0,0),r}};var B4=class extends sr{constructor(){super(...arguments);nt(this,"priority",80);nt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(Px(i),0,0,0),r}};var U4=class extends sr{constructor(){super(...arguments);nt(this,"priority",70);nt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return An(Rn.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r);}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};var V4=class extends sr{constructor(){super(...arguments);nt(this,"priority",70);nt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return An(Rn.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r);}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};var G4=class extends sr{constructor(){super(...arguments);nt(this,"priority",70);nt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return An(Rn.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r);}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};var H4=class extends sr{constructor(){super(...arguments);nt(this,"priority",70);nt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return An(Rn.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r);}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};var W4=class extends sr{constructor(){super(...arguments);nt(this,"priority",60);nt(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return An(Rn.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Jr(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};var $4=class extends sr{constructor(){super(...arguments);nt(this,"priority",50);nt(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return An(Rn.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Jr(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};var Z4=class extends sr{constructor(){super(...arguments);nt(this,"priority",30);nt(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return fi(Jr(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};var Y4=class extends sr{constructor(){super(...arguments);nt(this,"priority",10);nt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ec(Ju.basicOptionalMinutes,r);case"XX":return ec(Ju.basic,r);case"XXXX":return ec(Ju.basicOptionalSeconds,r);case"XXXXX":return ec(Ju.extendedOptionalSeconds,r);case"XXX":default:return ec(Ju.extended,r);}}set(r,n,i){return n.timestampIsSet?r:Mn(r,r.getTime()-Cy(r)-i)}};var K4=class extends sr{constructor(){super(...arguments);nt(this,"priority",10);nt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ec(Ju.basicOptionalMinutes,r);case"xx":return ec(Ju.basic,r);case"xxxx":return ec(Ju.basicOptionalSeconds,r);case"xxxxx":return ec(Ju.extendedOptionalSeconds,r);case"xxx":default:return ec(Ju.extended,r);}}set(r,n,i){return n.timestampIsSet?r:Mn(r,r.getTime()-Cy(r)-i)}};var X4=class extends sr{constructor(){super(...arguments);nt(this,"priority",40);nt(this,"incompatibleTokens","*")}parse(r){return x4(r)}set(r,n,i){return[Mn(r,i*1e3),{timestampIsSet:!0}]}};var Q4=class extends sr{constructor(){super(...arguments);nt(this,"priority",20);nt(this,"incompatibleTokens","*")}parse(r){return x4(r)}set(r,n,i){return[Mn(r,i),{timestampIsSet:!0}]}};var UBe={G:new _4,y:new S4,Y:new E4,R:new I4,u:new T4,Q:new C4,q:new M4,M:new A4,L:new O4,w:new D4,I:new P4,d:new L4,D:new N4,E:new R4,e:new k4,c:new q4,i:new j4,a:new z4,b:new F4,B:new B4,h:new U4,H:new V4,K:new G4,k:new H4,m:new W4,s:new $4,S:new Z4,X:new Y4,x:new K4,t:new X4,T:new Q4};var Uhr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vhr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ghr=/^'([^]*?)'?$/,Hhr=/''/g,Whr=/\S/,$hr=/[a-zA-Z]/;function cX(e,t,r,n){var L,q,j,B,H,Q,ee,ne,de,ue,be,Ee,Re,Ie,We,$e,Fe,je;let i=()=>Mn((n==null?void 0:n.in)||r,NaN),o=RBe(),a=(q=(L=n==null?void 0:n.locale)!=null?L:o.locale)!=null?q:u2,c=(ue=(de=(Q=(H=n==null?void 0:n.firstWeekContainsDate)!=null?H:(B=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)!=null?Q:o.firstWeekContainsDate)!=null?de:(ne=(ee=o.locale)==null?void 0:ee.options)==null?void 0:ne.firstWeekContainsDate)!=null?ue:1,p=(je=(Fe=(Ie=(Re=n==null?void 0:n.weekStartsOn)!=null?Re:(Ee=(be=n==null?void 0:n.locale)==null?void 0:be.options)==null?void 0:Ee.weekStartsOn)!=null?Ie:o.weekStartsOn)!=null?Fe:($e=(We=o.locale)==null?void 0:We.options)==null?void 0:$e.weekStartsOn)!=null?je:0;if(!t)return e?i():Xr(r,n==null?void 0:n.in);let m={firstWeekContainsDate:c,weekStartsOn:p,locale:a},g=[new y4(n==null?void 0:n.in,r)],S=t.match(Vhr).map(Ce=>{let Xe=Ce[0];if(Xe in c2){let et=c2[Xe];return et(Ce,a.formatLong)}return Ce}).join("").match(Uhr),I=[];for(let Ce of S){!(n!=null&&n.useAdditionalWeekYearTokens)&&m4(Ce)&&f2(Ce,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&h4(Ce)&&f2(Ce,t,e);let Xe=Ce[0],et=UBe[Xe];if(et){let{incompatibleTokens:st}=et;if(Array.isArray(st)){let Ke=I.find(it=>st.includes(it.token)||it.token===Xe);if(Ke)throw new RangeError(`The format string mustn't contain \`${Ke.fullToken}\` and \`${Ce}\` at the same time`)}else if(et.incompatibleTokens==="*"&&I.length>0)throw new RangeError(`The format string mustn't contain \`${Ce}\` and any other token at the same time`);I.push({token:Xe,fullToken:Ce});let Ge=et.run(e,Ce,a.match,m);if(!Ge)return i();g.push(Ge.setter),e=Ge.rest}else{if(Xe.match($hr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Xe+"`");if(Ce==="''"?Ce="'":Xe==="'"&&(Ce=Zhr(Ce)),e.indexOf(Ce)===0)e=e.slice(Ce.length);else return i()}}if(e.length>0&&Whr.test(e))return i();let M=g.map(Ce=>Ce.priority).sort((Ce,Xe)=>Xe-Ce).filter((Ce,Xe,et)=>et.indexOf(Ce)===Xe).map(Ce=>g.filter(Xe=>Xe.priority===Ce).sort((Xe,et)=>et.subPriority-Xe.subPriority)).map(Ce=>Ce[0]),P=Xr(r,n==null?void 0:n.in);if(isNaN(+P))return i();let N={};for(let Ce of M){if(!Ce.validate(P,m))return i();let Xe=Ce.set(P,N,m);Array.isArray(Xe)?(P=Xe[0],Object.assign(N,Xe[1])):P=Xe}return P}function Zhr(e){return e.match(Ghr)[1].replace(Hhr,"'")}function VBe(e,t){var m;let r=()=>Mn(t==null?void 0:t.in,NaN),n=(m=t==null?void 0:t.additionalDigits)!=null?m:2,i=Qhr(e),o;if(i.date){let g=Jhr(i.date,n);o=emr(g.restDateString,g.year)}if(!o||isNaN(+o))return r();let a=+o,c=0,p;if(i.time&&(c=tmr(i.time),isNaN(c)))return r();if(i.timezone){if(p=rmr(i.timezone),isNaN(p))return r()}else{let g=new Date(a+c),S=Xr(0,t==null?void 0:t.in);return S.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),S.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),S}return Xr(a+c+p,t==null?void 0:t.in)}var J4={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yhr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Khr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xhr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Qhr(e){let t={},r=e.split(J4.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],J4.timeZoneDelimiter.test(t.date)&&(t.date=e.split(J4.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let i=J4.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Jhr(e,t){let r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};let i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function emr(e,t){if(t===null)return new Date(NaN);let r=e.match(Yhr);if(!r)return new Date(NaN);let n=!!r[4],i=p2(r[1]),o=p2(r[2])-1,a=p2(r[3]),c=p2(r[4]),p=p2(r[5])-1;if(n)return smr(t,c,p)?nmr(t,c,p):new Date(NaN);{let m=new Date(0);return!omr(t,o,a)||!amr(t,i)?new Date(NaN):(m.setUTCFullYear(t,o,Math.max(i,a)),m)}}function p2(e){return e?parseInt(e):1}function tmr(e){let t=e.match(Khr);if(!t)return NaN;let r=fX(t[1]),n=fX(t[2]),i=fX(t[3]);return lmr(r,n,i)?r*s2+n*a2+i*1e3:NaN}function fX(e){return e&&parseFloat(e.replace(",","."))||0}function rmr(e){if(e==="Z")return 0;let t=e.match(Xhr);if(!t)return 0;let r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return umr(n,i)?r*(n*s2+i*a2):NaN}function nmr(e,t,r){let n=new Date(0);n.setUTCFullYear(e,0,4);let i=n.getUTCDay()||7,o=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var imr=[31,null,31,30,31,30,31,31,30,31,30,31];function GBe(e){return e%400===0||e%4===0&&e%100!==0}function omr(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(imr[t]||(GBe(e)?29:28))}function amr(e,t){return t>=1&&t<=(GBe(e)?366:365)}function smr(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function lmr(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function umr(e,t){return t>=0&&t<=59}var Nx={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function js(e){let t=Tr.getSettings().LANGUAGE_CODE,r=new Date(e);return Qf(r)?Object.hasOwn(Nx,t)?uX(r,Nx[t],{in:Ty}):uX(r,Nx[W_.EN],{in:Ty}):e}function pX(e){let t=Tr.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn(Nx,t)?cX(e,Nx[t],r,{in:Ty}):cX(e,Nx[W_.EN],r,{in:Ty})}function Ay(e){return!Tt(e)||!EN(e)?new Date("invalid"):VBe(e,{in:Ty})}function Qf(e){return c4(e)}function e3(e){return l2(e,{in:Ty})}function t3(e){return Tt(e)?qBe(e):Number.NaN}var Wm=J(De(),1),i3=J(mt(),1);var Al=J(De(),1),n3=J(mt(),1);var en=J(De(),1),HBe=J(mt(),1);var cmr=e=>["MultiLineString","LineString"].includes(e),fmr=e=>["MultiPolygon","Polygon"].includes(e),dX=e=>cmr(e)?Tn.LINE:fmr(e)?Tn.OUTLINE:Tn.LINE,Rx={marker:()=>Ao[Tn.SYMBOL].COLOR,fill:()=>Ao[Tn.FILL].COLOR,"fill-opacity":()=>Ao[Tn.FILL].OPACITY,stroke:e=>{let t=dX(e);return Ao[t].COLOR},"stroke-opacity":e=>{let t=dX(e);return Ao[t].OPACITY},"stroke-width":e=>{let t=dX(e);return Ao[t].WIDTH}},Oy={marker:{default:Rx.marker,geometryTypes:["Point","MultiPoint"],inputProps:{type:"color"}},fill:{default:Rx.fill,geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{type:"color"}},"fill-opacity":{default:Rx["fill-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{step:.05,min:0,max:1,type:"number"}},stroke:{default:Rx.stroke,geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{type:"color"}},"stroke-opacity":{default:Rx["stroke-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{max:1,min:0,step:.05,type:"number"}},"stroke-width":{default:Rx["stroke-width"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{step:.1,min:0,max:20,type:"number"}}},r3={img_link:{inputProps:{type:"text"}},title:{inputProps:{type:"text"}},description:{inputProps:{type:"text"}},time:{inputProps:{type:"text"}}},hX=["geometry"],mX=Object.keys(Oy),d2=Object.keys(r3),zs={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"},fs={imgLink:"img_link",title:"title",description:"description",time:"time",marker:"marker",fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity"};var pmr={edit:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},en.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),en.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":en.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),en.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),en.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},en.default.createElement("path",{d:"M0 0h30v30H0z"}),en.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),en.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},en.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},en.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},en.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),en.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},en.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),en.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:en.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},en.default.createElement("path",{d:"M6.5 11a6.5 6.5 0 1 0 6.5 6.5A6.508 6.508 0 0 0 6.5 11Zm2.391 7.312-2 2.5a.517.517 0 0 1-.782 0l-2-2.5A.5.5 0 0 1 4.5 17.5h.876a.125.125 0 0 0 .124-.12V14.5a1 1 0 1 1 2 0v2.875a.127.127 0 0 0 .124.125H8.5a.5.5 0 0 1 .391.812zm5.788-6.112.018-.017a.751.751 0 0 0 .018-1.043l-2.029-2.174a.249.249 0 0 1 0-.341l2.028-2.174a.75.75 0 0 0-1.078-1.043l-.018.019-2.666 2.856a.752.752 0 0 0 0 1.025l2.666 2.857a.752.752 0 0 0 1.061.035zm1.607-1.06a.75.75 0 0 0 1.078 1.043l.018-.018 2.666-2.857a.752.752 0 0 0 0-1.025l-2.666-2.856a.751.751 0 0 0-1.061-.036.731.731 0 0 0-.036 1.06l2.029 2.174a.249.249 0 0 1 0 .341z"}),en.default.createElement("path",{d:"M23.414 3 21 .587A2 2 0 0 0 19.586 0H8a2 2 0 0 0-2 2v7.214a.248.248 0 0 0 .242.25c.366.006 1.038.033 1.485.082A.246.246 0 0 0 8 9.3V2.5a.5.5 0 0 1 .5-.5h10.879a.5.5 0 0 1 .353.146l2.122 2.121a.5.5 0 0 1 .146.355V18a.5.5 0 0 1-.5.5h-6.869a.244.244 0 0 0-.241.208 7.983 7.983 0 0 1-.373 1.459.243.243 0 0 0 .228.332H22a2 2 0 0 0 2-2V4.415A2 2 0 0 0 23.414 3Z"})),filter:en.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),en.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),[zs.POINT]:en.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[zs.LINE_STRING]:en.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),en.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),en.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[zs.POLYGON]:en.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),en.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),en.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),en.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),en.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},WBe=({name:e})=>{var t;return(t=pmr[e])!=null?t:""};WBe.propTypes={name:HBe.default.string.isRequired};var $Be=WBe;var Ji=$Be;var ZBe=({geometry:e,properties:t,onClick:r})=>{let{defaultTitle:n,defaultTime:i}=(0,Al.useMemo)(()=>({defaultTtitle:Ne("geojson-featureview-no-title"),defaultTime:Ne("geojson-featureview-no-time")}),[]),o=(0,Al.useMemo)(()=>{let{type:p}=e;return p===zs.MULTI_LINE_STRING?zs.LINE_STRING:p===zs.MULTI_POLYGON?zs.POLYGON:p===zs.MULTI_POINT?zs.POINT:p===zs.GEOMETRY_COLLECTION?zs.POLYGON:Object.values(zs).includes(p)?p:zs.POLYGON},[e]),a=(0,Al.useMemo)(()=>{let p=t[fs.time];if(!Tt(p))return i;let m=Ay(p);return Qf(m)?js(m):Ne("geojson-featureview-invalid-time")},[t[fs.time]]),c=(0,Al.useMemo)(()=>{var p;return(p=t[fs.title])!=null?p:n},[t[fs.title]]);return Al.default.createElement("div",{className:"geojson-feature-item-root",onClick:r},Al.default.createElement("div",{className:"geojson-feature-item-container"},Al.default.createElement("div",{className:"sub-headline"},Al.default.createElement("div",{className:`type-icon icon--${o}`},Al.default.createElement(Ji,{name:o})),Al.default.createElement("div",{className:"type-text"},o)),Al.default.createElement("div",{className:"title"},c),Al.default.createElement("div",{className:"details"},Ne("geojson-featureview-time"),": ",a)))};ZBe.propTypes={properties:n3.default.object.isRequired,geometry:n3.default.object.isRequired,onClick:n3.default.func.isRequired};var YBe=ZBe;var KBe=YBe;var XBe=({className:e,features:t,onFeatureClick:r})=>Wm.default.createElement(Wm.default.Fragment,null,Wm.default.createElement("div",{className:e},Wm.default.createElement("div",{className:"geojson-layer-feature-list-container"},t.length===0&&Wm.default.createElement("div",{className:"no-feature-container"},Ne("geojsonlayerpanel-no-features")),t.length>0&&Wm.default.createElement("div",{className:"feature-list"},t.map(n=>Wm.default.createElement(KBe,{key:n.id,onClick:()=>r(n.id),properties:n.properties,geometry:n.geometry}))))));XBe.propTypes={className:i3.default.string,features:i3.default.array.isRequired,onFeatureClick:i3.default.func.isRequired};var QBe=XBe;var JBe=QBe;var o3=J(De(),1),eUe=J(mt(),1);var tUe=({className:e})=>o3.default.createElement("div",{className:e},o3.default.createElement("div",{className:"content"},o3.default.createElement("pre",null,`  /\\_/\\
 ( o.o )
  > ^ <
`)));tUe.propTypes={className:eUe.default.string};var rUe=tUe;var nUe=rUe;var tf=J(De(),1),s3=J(mt(),1);var a3=J(De(),1),Dy=J(mt(),1);var iUe=(0,a3.forwardRef)(function(t,r){let{children:n,className:i="",onClick:o,type:a="default",disabled:c=!1,title:p}=t;return a3.default.createElement("button",{className:`vkf-button-${a} ${i}`,disabled:c,onClick:o,ref:r,title:p},n)});iUe.propTypes={children:Dy.default.node,className:Dy.default.string,onClick:Dy.default.func,disabled:Dy.default.bool,title:Dy.default.string,type:Dy.default.oneOf(["primary","default","delete","discard","edit","save"])};var h2=iUe;var Fs=h2;var oUe=({title:e,onCloseClick:t,onEditClick:r})=>{let n=(0,tf.useMemo)(()=>!Tt(r),[r]);return tf.default.createElement("div",{className:"geojson-panel-header-root"},tf.default.createElement("div",{className:"header-buttons"},!n&&tf.default.createElement(Fs,{className:"edit-button",onClick:r,type:"edit"},tf.default.createElement(Ji,{name:"edit"})),tf.default.createElement(Fs,{className:"close-button",onClick:t,title:Ne("mapsearch-facetedsearch-close")},tf.default.createElement(Ji,{name:"close"}))),tf.default.createElement("div",{className:"header-info"},tf.default.createElement("span",{className:"header-title"},e)))};oUe.propTypes={title:s3.default.string.isRequired,onCloseClick:s3.default.func.isRequired,onEditClick:s3.default.func};var aUe=oUe;var kx=aUe;var wi=J(De(),1),rp=J(mt(),1);function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function gX(e,t){if(ri(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ri(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m2(e){var t=gX(e,"string");return ri(t)==="symbol"?t:String(t)}function vt(e,t,r){return t=m2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sUe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sUe(Object(r),!0).forEach(function(n){vt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sUe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m2(n.key),n)}}function Pa(e,t,r){return t&&lUe(e.prototype,t),r&&lUe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function La(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tc(e)}function vX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yX(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function Na(e){var t=vX();return function(){var n=tc(e),i;if(t){var o=tc(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return yX(this,i)}}var PX=J(De());var _X={},dmr=[],hmr=function(t){dmr.push(t)};function mmr(e,t){if(0)var r}function gmr(e,t){if(0)var r}function vmr(){_X={}}function uUe(e,t,r){!t&&!_X[r]&&(e(!1,r),_X[r]=!0)}function l3(e,t){uUe(mmr,e,t)}function ymr(e,t){uUe(gmr,e,t)}l3.preMessage=hmr;l3.resetWarned=vmr;l3.noteOnce=ymr;var Pd=l3;var cUe=J(De()),_mr=function(t){var r,n,i=t.className,o=t.included,a=t.vertical,c=t.style,p=t.length,m=t.offset,g=t.reverse;p<0&&(g=!g,p=Math.abs(p),m=100-m);var S=a?(r={},vt(r,g?"top":"bottom","".concat(m,"%")),vt(r,g?"bottom":"top","auto"),vt(r,"height","".concat(p,"%")),r):(n={},vt(n,g?"right":"left","".concat(m,"%")),vt(n,g?"left":"right","auto"),vt(n,"width","".concat(p,"%")),n),I=Mt(Mt({},c),S);return o?cUe.default.createElement("div",{className:i,style:I}):null},u3=_mr;function ps(e,t){if(e==null)return{};var r=ty(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xX(e){if(Array.isArray(e))return qx(e)}function bX(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g2(e,t){if(e){if(typeof e=="string")return qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(e,t)}}function wX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rc(e){return xX(e)||bX(e)||g2(e)||wX()}function SX(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=tc(e),e!==null););return e}function $m(){return typeof Reflect!="undefined"&&Reflect.get?$m=Reflect.get.bind():$m=function(t,r,n){var i=SX(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$m.apply(this,arguments)}var zx=J(De());var EX=J(fo());function Bs(e,t,r,n){var i=EX.default.unstable_batchedUpdates?function(a){EX.default.unstable_batchedUpdates(r,a)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var _Ue=J(Nn());var IX=J(De()),fUe=J(Nn());var xmr=function(t,r,n,i,o,a){Pd(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var c=Object.keys(r).map(parseFloat).sort(function(m,g){return m-g});if(n&&i)for(var p=o;p<=a;p+=i)c.indexOf(p)===-1&&c.push(p);return c},bmr=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,a=t.dots,c=t.step,p=t.included,m=t.lowerBound,g=t.upperBound,S=t.max,I=t.min,M=t.dotStyle,P=t.activeDotStyle,N=S-I,L=xmr(n,o,a,c,I,S).map(function(q){var j,B="".concat(Math.abs(q-I)/N*100,"%"),H=!p&&q===g||p&&q<=g&&q>=m,Q=n?Mt(Mt({},M),{},vt({},i?"top":"bottom",B)):Mt(Mt({},M),{},vt({},i?"right":"left",B));H&&(Q=Mt(Mt({},Q),P));var ee=(0,fUe.default)((j={},vt(j,"".concat(r,"-dot"),!0),vt(j,"".concat(r,"-dot-active"),H),vt(j,"".concat(r,"-dot-reverse"),i),j));return IX.default.createElement("span",{className:ee,style:Q,key:q})});return IX.default.createElement("div",{className:"".concat(r,"-step")},L)},pUe=bmr;var c3=J(De()),dUe=J(Nn()),wmr=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,a=t.included,c=t.upperBound,p=t.lowerBound,m=t.max,g=t.min,S=t.onClickLabel,I=Object.keys(o),M=m-g,P=I.map(parseFloat).sort(function(N,L){return N-L}).map(function(N){var L,q=o[N],j=ri(q)==="object"&&!c3.default.isValidElement(q),B=j?q.label:q;if(!B&&B!==0)return null;var H=!a&&N===c||a&&N<=c&&N>=p,Q=(0,dUe.default)((L={},vt(L,"".concat(r,"-text"),!0),vt(L,"".concat(r,"-text-active"),H),L)),ee=vt({marginBottom:"-50%"},i?"top":"bottom","".concat((N-g)/M*100,"%")),ne=vt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((N-g)/M*100,"%")),de=n?ee:ne,ue=j?Mt(Mt({},de),q.style):de;return c3.default.createElement("span",{className:Q,style:ue,key:N,onMouseDown:function(Ee){return S(Ee,N)},onTouchStart:function(Ee){return S(Ee,N)}},B)});return c3.default.createElement("div",{className:r},P)},hUe=wmr;var TX=J(De()),mUe=J(Nn());var jx=function(e){La(r,e);var t=Na(r);function r(){var n;return Da(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return Pa(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Bs(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,a=this.props,c=a.prefixCls,p=a.vertical,m=a.reverse,g=a.offset,S=a.style,I=a.disabled,M=a.min,P=a.max,N=a.value,L=a.tabIndex,q=a.ariaLabel,j=a.ariaLabelledBy,B=a.ariaValueTextFormatter,H=ps(a,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),Q=(0,mUe.default)(this.props.className,vt({},"".concat(c,"-handle-click-focused"),this.state.clickFocused)),ee=p?(i={},vt(i,m?"top":"bottom","".concat(g,"%")),vt(i,m?"bottom":"top","auto"),vt(i,"transform",m?null:"translateY(+50%)"),i):(o={},vt(o,m?"right":"left","".concat(g,"%")),vt(o,m?"left":"right","auto"),vt(o,"transform","translateX(".concat(m?"+":"-","50%)")),o),ne=Mt(Mt({},S),ee),de=L||0;(I||L===null)&&(de=null);var ue;return B&&(ue=B(N)),TX.default.createElement("div",dn({ref:this.setHandleRef,tabIndex:de},H,{className:Q,style:ne,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":M,"aria-valuemax":P,"aria-valuenow":N,"aria-disabled":!!I,"aria-label":q,"aria-labelledby":j,"aria-valuetext":ue}))}}]),r}(TX.default.Component);var vUe=J(fo());var Lr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Lr.F1&&r<=Lr.F12)return!1;switch(r){case Lr.ALT:case Lr.CAPS_LOCK:case Lr.CONTEXT_MENU:case Lr.CTRL:case Lr.DOWN:case Lr.END:case Lr.ESC:case Lr.HOME:case Lr.INSERT:case Lr.LEFT:case Lr.MAC_FF_META:case Lr.META:case Lr.NUMLOCK:case Lr.NUM_CENTER:case Lr.PAGE_DOWN:case Lr.PAGE_UP:case Lr.PAUSE:case Lr.PRINT_SCREEN:case Lr.RIGHT:case Lr.SHIFT:case Lr.UP:case Lr.WIN_KEY:case Lr.WIN_KEY_RIGHT:return!1;default:return!0;}},isCharacterKey:function(t){if(t>=Lr.ZERO&&t<=Lr.NINE||t>=Lr.NUM_ZERO&&t<=Lr.NUM_MULTIPLY||t>=Lr.A&&t<=Lr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Lr.SPACE:case Lr.QUESTION_MARK:case Lr.NUM_PLUS:case Lr.NUM_MINUS:case Lr.NUM_PERIOD:case Lr.NUM_DIVISION:case Lr.SEMICOLON:case Lr.DASH:case Lr.EQUALS:case Lr.COMMA:case Lr.PERIOD:case Lr.SLASH:case Lr.APOSTROPHE:case Lr.SINGLE_QUOTE:case Lr.OPEN_SQUARE_BRACKET:case Lr.BACKSLASH:case Lr.CLOSE_SQUARE_BRACKET:return!0;default:return!1;}}},Ld=Lr;function f3(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,vUe.findDOMNode)(t[r])})}catch(r){return!1}}function p3(e,t){var r=t.min,n=t.max;return e<r||e>n}function CX(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function gUe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,a=Object.keys(r).map(parseFloat);if(n!==null){var c=Math.pow(10,yUe(n)),p=Math.floor((o*c-i*c)/(n*c)),m=Math.min((e-i)/n,p),g=Math.round(m)*n+i;a.push(g)}var S=a.map(function(I){return Math.abs(e-I)});return a[S.indexOf(Math.min.apply(Math,rc(S)))]}function yUe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function MX(e,t){return e?t.clientY:t.pageX}function AX(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function OX(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function v2(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function d3(e,t){var r=t.step,n=isFinite(gUe(e,t))?gUe(e,t):0;return r===null?n:parseFloat(n.toFixed(yUe(r)))}function Nd(e){e.stopPropagation(),e.preventDefault()}function Smr(e,t,r){var n={increase:function(c,p){return c+p},decrease:function(c,p){return c-p}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function h3(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Ld.UP:o=t&&r?i:n;break;case Ld.RIGHT:o=!t&&r?i:n;break;case Ld.DOWN:o=t&&r?n:i;break;case Ld.LEFT:o=!t&&r?n:i;break;case Ld.END:return function(a,c){return c.max};case Ld.HOME:return function(a,c){return c.min};case Ld.PAGE_UP:return function(a,c){return a+c.step*2};case Ld.PAGE_DOWN:return function(a,c){return a-c.step*2};default:return;}return function(a,c){return Smr(o,a,c)}}function Jf(){}function y2(e){var t;return t=function(r){La(i,r);var n=Na(i);function i(o){var a;Da(this,i),a=n.call(this,o),a.onDown=function(S,I){var M=I,P=a.props,N=P.draggableTrack,L=P.vertical,q=a.state.bounds,j=N&&a.positionGetValue?a.positionGetValue(M)||[]:[],B=f3(S,a.handlesRefs);if(a.dragTrack=N&&q.length>=2&&!B&&!j.map(function(Q,ee){var ne=ee?!0:Q>=q[ee];return ee===j.length-1?Q<=q[ee]:ne}).some(function(Q){return!Q}),a.dragTrack)a.dragOffset=M,a.startBounds=rc(q);else{if(!B)a.dragOffset=0;else{var H=OX(L,S.target);a.dragOffset=M-H,M=H}a.onStart(M)}},a.onMouseDown=function(S){if(S.button===0){a.removeDocumentEvents();var I=a.props.vertical,M=MX(I,S);a.onDown(S,M),a.addDocumentMouseEvents()}},a.onTouchStart=function(S){if(!CX(S)){var I=a.props.vertical,M=AX(I,S);a.onDown(S,M),a.addDocumentTouchEvents(),Nd(S)}},a.onFocus=function(S){var I=a.props,M=I.onFocus,P=I.vertical;if(f3(S,a.handlesRefs)&&!a.dragTrack){var N=OX(P,S.target);a.dragOffset=0,a.onStart(N),Nd(S),M&&M(S)}},a.onBlur=function(S){var I=a.props.onBlur;a.dragTrack||a.onEnd(),I&&I(S)},a.onMouseUp=function(){a.handlesRefs[a.prevMovedHandleIndex]&&a.handlesRefs[a.prevMovedHandleIndex].clickFocus()},a.onMouseMove=function(S){if(!a.sliderRef){a.onEnd();return}var I=MX(a.props.vertical,S);a.onMove(S,I-a.dragOffset,a.dragTrack,a.startBounds)},a.onTouchMove=function(S){if(CX(S)||!a.sliderRef){a.onEnd();return}var I=AX(a.props.vertical,S);a.onMove(S,I-a.dragOffset,a.dragTrack,a.startBounds)},a.onKeyDown=function(S){a.sliderRef&&f3(S,a.handlesRefs)&&a.onKeyboard(S)},a.onClickMarkLabel=function(S,I){S.stopPropagation(),a.onChange({value:I}),a.setState({value:I},function(){return a.onEnd(!0)})},a.saveSlider=function(S){a.sliderRef=S};var c=o.step,p=o.max,m=o.min,g=isFinite(p-m)?(p-m)%c===0:!0;return Pd(c&&Math.floor(c)===c?g:!0,"Slider[max] - Slider[min] (".concat(p-m,") should be a multiple of Slider[step] (").concat(c,")")),a.handlesRefs={},a}return Pa(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var a=this.props,c=a.autoFocus,p=a.disabled;c&&!p&&this.focus()}},{key:"componentWillUnmount",value:function(){$m(tc(i.prototype),"componentWillUnmount",this)&&$m(tc(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var a=this.sliderRef,c=this.props,p=c.vertical,m=c.reverse,g=a.getBoundingClientRect();return p?m?g.bottom:g.top:window.pageXOffset+(m?g.right:g.left)}},{key:"getSliderLength",value:function(){var a=this.sliderRef;if(!a)return 0;var c=a.getBoundingClientRect();return this.props.vertical?c.height:c.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Bs(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Bs(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Bs(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Bs(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var a;this.props.disabled||(a=this.handlesRefs[0])===null||a===void 0||a.focus()}},{key:"blur",value:function(){var a=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(c){var p,m;(p=a.handlesRefs[c])===null||p===void 0||(m=p.blur)===null||m===void 0||m.call(p)})}},{key:"calcValue",value:function(a){var c=this.props,p=c.vertical,m=c.min,g=c.max,S=Math.abs(Math.max(a,0)/this.getSliderLength()),I=p?(1-S)*(g-m)+m:S*(g-m)+m;return I}},{key:"calcValueByPos",value:function(a){var c=this.props.reverse?-1:1,p=c*(a-this.getSliderStart()),m=this.trimAlignValue(this.calcValue(p));return m}},{key:"calcOffset",value:function(a){var c=this.props,p=c.min,m=c.max,g=(a-p)/(m-p);return Math.max(0,g*100)}},{key:"saveHandle",value:function(a,c){this.handlesRefs[a]=c}},{key:"render",value:function(){var a,c=this.props,p=c.prefixCls,m=c.className,g=c.marks,S=c.dots,I=c.step,M=c.included,P=c.disabled,N=c.vertical,L=c.reverse,q=c.min,j=c.max,B=c.children,H=c.maximumTrackStyle,Q=c.style,ee=c.railStyle,ne=c.dotStyle,de=c.activeDotStyle,ue=$m(tc(i.prototype),"render",this).call(this),be=ue.tracks,Ee=ue.handles,Re=(0,_Ue.default)(p,(a={},vt(a,"".concat(p,"-with-marks"),Object.keys(g).length),vt(a,"".concat(p,"-disabled"),P),vt(a,"".concat(p,"-vertical"),N),vt(a,m,m),a));return zx.default.createElement("div",{ref:this.saveSlider,className:Re,onTouchStart:P?Jf:this.onTouchStart,onMouseDown:P?Jf:this.onMouseDown,onMouseUp:P?Jf:this.onMouseUp,onKeyDown:P?Jf:this.onKeyDown,onFocus:P?Jf:this.onFocus,onBlur:P?Jf:this.onBlur,style:Q},zx.default.createElement("div",{className:"".concat(p,"-rail"),style:Mt(Mt({},H),ee)}),be,zx.default.createElement(pUe,{prefixCls:p,vertical:N,reverse:L,marks:g,dots:S,step:I,included:M,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:q,dotStyle:ne,activeDotStyle:de}),Ee,zx.default.createElement(hUe,{className:"".concat(p,"-mark"),onClickLabel:P?Jf:this.onClickMarkLabel,vertical:N,marks:g,included:M,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:q,reverse:L}),B)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Mt(Mt({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=ps(n,["index"]);return delete o.dragging,o.value===null?null:zx.default.createElement(jx,dn({},o,{key:i}))},onBeforeChange:Jf,onChange:Jf,onAfterChange:Jf,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var Emr=function(e){La(r,e);var t=Na(r);function r(n){var i;Da(this,r),i=t.call(this,n),i.positionGetValue=function(c){return[]},i.onEnd=function(c){var p=i.state.dragging;i.removeDocumentEvents(),(p||c)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,a=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(a),dragging:!1},Pd(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Pd(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return Pa(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var a=this.props,c=a.min,p=a.max,m=a.value,g=a.onChange;if("min"in this.props||"max"in this.props){var S=m!==void 0?m:o.value,I=this.trimAlignValue(S,this.props);I!==o.value&&(this.setState({value:I}),!(c===i.min&&p===i.max)&&p3(S,this.props)&&g(I))}}},{key:"onChange",value:function(i){var o=this.props,a=!("value"in o),c=i.value>this.props.max?Mt(Mt({},i),{},{value:this.props.max}):i;a&&this.setState(c);var p=c.value;o.onChange(p)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,a=this.getValue();o.onBeforeChange(a);var c=this.calcValueByPos(i);this.startValue=c,this.startPosition=i,c!==a&&(this.prevMovedHandleIndex=0,this.onChange({value:c}))}},{key:"onMove",value:function(i,o){Nd(i);var a=this.state.value,c=this.calcValueByPos(o);c!==a&&this.onChange({value:c})}},{key:"onKeyboard",value:function(i){var o=this.props,a=o.reverse,c=o.vertical,p=h3(i,c,a);if(p){Nd(i);var m=this.state,g=m.value,S=p(g,this.props),I=this.trimAlignValue(S);if(I===g)return;this.onChange({value:I}),this.props.onAfterChange(I),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var a=Mt(Mt({},this.props),o),c=v2(i,a);return d3(c,a)}},{key:"render",value:function(){var i=this,o=this.props,a=o.prefixCls,c=o.vertical,p=o.included,m=o.disabled,g=o.minimumTrackStyle,S=o.trackStyle,I=o.handleStyle,M=o.tabIndex,P=o.ariaLabelForHandle,N=o.ariaLabelledByForHandle,L=o.ariaValueTextFormatterForHandle,q=o.min,j=o.max,B=o.startPoint,H=o.reverse,Q=o.handle,ee=this.state,ne=ee.value,de=ee.dragging,ue=this.calcOffset(ne),be=Q({className:"".concat(a,"-handle"),prefixCls:a,vertical:c,offset:ue,value:ne,dragging:de,disabled:m,min:q,max:j,reverse:H,index:0,tabIndex:M,ariaLabel:P,ariaLabelledBy:N,ariaValueTextFormatter:L,style:I[0]||I,ref:function($e){return i.saveHandle(0,$e)}}),Ee=B!==void 0?this.calcOffset(B):0,Re=S[0]||S,Ie=PX.default.createElement(u3,{className:"".concat(a,"-track"),vertical:c,included:p,offset:Ee,reverse:H,length:ue-Ee,style:Mt(Mt({},g),Re)});return{tracks:Ie,handles:be}}}]),r}(PX.default.Component),xUe=y2(Emr);var LX=J(De()),NX=J(Nn());var _2=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,a=o.allowCross,c=o.pushable,p=Number(c),m=v2(r,o),g=m;return!a&&n!=null&&i!==void 0&&(n>0&&m<=i[n-1]+p&&(g=i[n-1]+p),n<i.length-1&&m>=i[n+1]-p&&(g=i[n+1]-p)),d3(g,o)},RX=function(e){La(r,e);var t=Na(r);function r(n){var i;Da(this,r),i=t.call(this,n),i.positionGetValue=function(M){var P=i.getValue(),N=i.calcValueByPos(M),L=i.getClosestBound(N),q=i.getBoundNeedMoving(N,L),j=P[q];if(N===j)return null;var B=rc(P);return B[q]=N,B},i.onEnd=function(M){var P=i.state.handle;i.removeDocumentEvents(),P||(i.dragTrack=!1),(P!==null||M)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,a=n.min,c=n.max,p=Array.apply(void 0,rc(Array(o+1))).map(function(){return a}),m="defaultValue"in n?n.defaultValue:p,g=n.value!==void 0?n.value:m,S=g.map(function(M,P){return _2({value:M,handle:P,props:n})}),I=S[0]===c?0:S.length-1;return i.state={handle:null,recent:I,bounds:S},i}return Pa(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var a=this,c=this.props,p=c.onChange,m=c.value,g=c.min,S=c.max;if(("min"in this.props||"max"in this.props)&&!(g===i.min&&S===i.max)){var I=m||o.bounds;if(I.some(function(P){return p3(P,a.props)})){var M=I.map(function(P){return v2(P,a.props)});p(M)}}}},{key:"onChange",value:function(i){var o=this.props,a=!("value"in o);if(a)this.setState(i);else{var c={};["handle","recent"].forEach(function(g){i[g]!==void 0&&(c[g]=i[g])}),Object.keys(c).length&&this.setState(c)}var p=Mt(Mt({},this.state),i),m=p.bounds;o.onChange(m)}},{key:"onStart",value:function(i){var o=this.props,a=this.state,c=this.getValue();o.onBeforeChange(c);var p=this.calcValueByPos(i);this.startValue=p,this.startPosition=i;var m=this.getClosestBound(p);this.prevMovedHandleIndex=this.getBoundNeedMoving(p,m),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var g=c[this.prevMovedHandleIndex];if(p!==g){var S=rc(a.bounds);S[this.prevMovedHandleIndex]=p,this.onChange({bounds:S})}}},{key:"onMove",value:function(i,o,a,c){Nd(i);var p=this.state,m=this.props,g=m.max||100,S=m.min||0;if(a){var I=m.vertical?-o:o;I=m.reverse?-I:I;var M=g-Math.max.apply(Math,rc(c)),P=S-Math.min.apply(Math,rc(c)),N=Math.min(Math.max(I/(this.getSliderLength()/(g-S)),P),M),L=c.map(function(B){return Math.floor(Math.max(Math.min(B+N,g),S))});p.bounds.map(function(B,H){return B===L[H]}).some(function(B){return!B})&&this.onChange({bounds:L});return}var q=this.calcValueByPos(o),j=p.bounds[p.handle];q!==j&&this.moveTo(q)}},{key:"onKeyboard",value:function(i){var o=this.props,a=o.reverse,c=o.vertical,p=h3(i,c,a);if(p){Nd(i);var m=this.state,g=this.props,S=m.bounds,I=m.handle,M=S[I===null?m.recent:I],P=p(M,g),N=_2({value:P,handle:I,bounds:m.bounds,props:g});if(N===M)return;var L=!0;this.moveTo(N,L)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,a=0,c=1;c<o.length-1;c+=1)i>=o[c]&&(a=c);return Math.abs(o[a+1]-i)<Math.abs(o[a]-i)&&(a+=1),a}},{key:"getBoundNeedMoving",value:function(i,o){var a=this.state,c=a.bounds,p=a.recent,m=o,g=c[o+1]===c[o];return g&&c[p]===c[o]&&(m=p),g&&i!==c[o+1]&&(m=i<c[o+1]?o:o+1),m}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,a=i.step,c=i.min,p=i.max,m=this.internalPointsCache;if(!m||m.marks!==o||m.step!==a){var g=Mt({},o);if(a!==null)for(var S=c;S<=p;S+=a)g[S]=S;var I=Object.keys(g).map(parseFloat);I.sort(function(M,P){return M-P}),this.internalPointsCache={marks:o,step:a,points:I}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var a=this,c=this.state,p=this.props,m=rc(c.bounds),g=c.handle===null?c.recent:c.handle;m[g]=i;var S=g;p.pushable!==!1?this.pushSurroundingHandles(m,S):p.allowCross&&(m.sort(function(I,M){return I-M}),S=m.indexOf(i)),this.onChange({recent:S,handle:S,bounds:m}),o&&(this.props.onAfterChange(m),this.setState({},function(){a.handlesRefs[S].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var a=i[o],c=this.props.pushable,p=Number(c),m=0;if(i[o+1]-a<p&&(m=1),a-i[o-1]<p&&(m=-1),m!==0){var g=o+m,S=m*(i[g]-a);this.pushHandle(i,g,m,p-S)||(i[o]=i[g]-m*p)}}},{key:"pushHandle",value:function(i,o,a,c){for(var p=i[o],m=i[o];a*(m-p)<c;){if(!this.pushHandleOnePoint(i,o,a))return i[o]=p,!1;m=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,a){var c=this.getPoints(),p=c.indexOf(i[o]),m=p+a;if(m>=c.length||m<0)return!1;var g=o+a,S=c[m],I=this.props.pushable,M=Number(I),P=a*(i[g]-S);return this.pushHandle(i,g,a,M-P)?(i[o]=S,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,a=o.handle,c=o.bounds;return _2({value:i,handle:a,bounds:c,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,a=o.handle,c=o.bounds,p=this.props,m=p.prefixCls,g=p.vertical,S=p.included,I=p.disabled,M=p.min,P=p.max,N=p.reverse,L=p.handle,q=p.trackStyle,j=p.handleStyle,B=p.tabIndex,H=p.ariaLabelGroupForHandles,Q=p.ariaLabelledByGroupForHandles,ee=p.ariaValueTextFormatterGroupForHandles,ne=c.map(function(Ee){return i.calcOffset(Ee)}),de="".concat(m,"-handle"),ue=c.map(function(Ee,Re){var Ie,We=B[Re]||0;(I||B[Re]===null)&&(We=null);var $e=a===Re;return L({className:(0,NX.default)((Ie={},vt(Ie,de,!0),vt(Ie,"".concat(de,"-").concat(Re+1),!0),vt(Ie,"".concat(de,"-dragging"),$e),Ie)),prefixCls:m,vertical:g,dragging:$e,offset:ne[Re],value:Ee,index:Re,tabIndex:We,min:M,max:P,reverse:N,disabled:I,style:j[Re],ref:function(je){return i.saveHandle(Re,je)},ariaLabel:H[Re],ariaLabelledBy:Q[Re],ariaValueTextFormatter:ee[Re]})}),be=c.slice(0,-1).map(function(Ee,Re){var Ie,We=Re+1,$e=(0,NX.default)((Ie={},vt(Ie,"".concat(m,"-track"),!0),vt(Ie,"".concat(m,"-track-").concat(We),!0),Ie));return LX.default.createElement(u3,{className:$e,vertical:g,reverse:N,included:S,offset:ne[We-1],length:ne[We]-ne[We-1],style:q[Re],key:We})});return{tracks:be,handles:ue}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var a=i.value||o.bounds,c=a.map(function(p,m){return _2({value:p,handle:m,bounds:o.bounds,props:i})});if(o.bounds.length===c.length){if(c.every(function(p,m){return p===o.bounds[m]}))return null}else c=a.map(function(p,m){return _2({value:p,handle:m,props:i})});return Mt(Mt({},o),{},{bounds:c})}}]),r}(LX.default.Component);RX.displayName="Range";RX.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var m3=y2(RX);var D2=J(De());var jd=J(De());var xQ=J(De()),$x=J(De());var cu=J(De()),e9e=J(fo());var wUe=function(t){return+setTimeout(t,16)},SUe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(wUe=function(t){return window.requestAnimationFrame(t)},SUe=function(t){return window.cancelAnimationFrame(t)});var bUe=0,kX=new Map;function EUe(e){kX.delete(e)}var IUe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;bUe+=1;var n=bUe;function i(o){if(o===0)EUe(n),t();else{var a=wUe(function(){i(o-1)});kX.set(n,a)}}return i(r),n};IUe.cancel=function(e){var t=kX.get(e);return EUe(t),SUe(t)};var Ol=IUe;function Py(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var TUe=J(De()),CUe=J(fo());function Imr(e){return e instanceof HTMLElement||e instanceof SVGElement}function x2(e){return Imr(e)?e:e instanceof TUe.default.Component?CUe.default.findDOMNode(e):null}var Pmr=J(De()),FX=J(DUe());var Dmr=J(De());function BX(e,t){typeof e=="function"?e(t):ri(e)==="object"&&e&&"current"in e&&(e.current=t)}function Fx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(function(i){return i});return n.length<=1?n[0]:function(i){t.forEach(function(o){BX(o,i)})}}function T3(e){var t,r,n=(0,FX.isMemo)(e)?e.type.type:e.type;return!(typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render))}var rf=J(De()),PUe=J(fo());function ep(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var Lmr=(0,rf.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,rf.useRef)(),a=(0,rf.useRef)();(0,rf.useImperativeHandle)(t,function(){return{}});var c=(0,rf.useRef)(!1);return!c.current&&ep()&&(a.current=n(),o.current=a.current.parentNode,c.current=!0),(0,rf.useEffect)(function(){r==null||r(e)}),(0,rf.useEffect)(function(){return a.current.parentNode===null&&o.current!==null&&o.current.appendChild(a.current),function(){var p,m;(p=a.current)===null||p===void 0||(m=p.parentNode)===null||m===void 0||m.removeChild(a.current)}},[]),a.current?PUe.default.createPortal(i,a.current):null}),LUe=Lmr;var t9e=J(Nn());function Nmr(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function NUe(e,t,r){var n=e[t]||{};return Mt(Mt({},n),r)}function RUe(e,t,r,n){for(var i=r.points,o=Object.keys(e),a=0;a<o.length;a+=1){var c=o[a];if(Nmr(e[c].points,i,n))return"".concat(t,"-placement-").concat(c)}return""}function UX(e){if(Array.isArray(e))return e}function VX(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,c=[],p=!0,m=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);p=!0);}catch(g){m=!0,i=g}finally{try{if(!p&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(m)throw i}}return c}}function GX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(e,t){return UX(e)||VX(e,t)||g2(e,t)||GX()}var ky=J(De()),O2=J(De());var kUe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var eQ=J(De()),JUe=J(Nn());var XUe=J(Nn());var Pl=J(De()),JX=J(De());var HX=J(De());var qUe=HX.createContext({});var jUe=J(De()),Rmr=function(e){La(r,e);var t=Na(r);function r(){return Da(this,r),t.apply(this,arguments)}return Pa(r,[{key:"render",value:function(){return this.props.children}}]),r}(jUe.Component),zUe=Rmr;var Bx=J(De());function Rd(e){var t=Bx.useRef(!1),r=Bx.useState(e),n=Vn(r,2),i=n[0],o=n[1];Bx.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,p){p&&t.current||o(c)}return[i,a]}var k3=J(De()),Ym=J(De());var kd="none",b2="appear",w2="enter",S2="leave",WX="none",Dl="prepare",qd="start",Zm="active",C3="end",M3="prepared";var D3=J(De()),KX=J(De());function FUe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function kmr(e,t){var r={animationend:FUe("Animation","AnimationEnd"),transitionend:FUe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var qmr=kmr(ep(),typeof window!="undefined"?window:{}),UUe={};ep()&&(BUe=document.createElement("div"),UUe=BUe.style);var BUe,A3={};function VUe(e){if(A3[e])return A3[e];var t=qmr[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in UUe)return A3[e]=t[o],A3[e]}return""}var GUe=VUe("animationend"),HUe=VUe("transitionend"),O3=!!(GUe&&HUe),$X=GUe||"animationend",ZX=HUe||"transitionend";function YX(e,t){if(!e)return null;if(ri(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var WUe=function(e){var t=(0,KX.useRef)(),r=(0,KX.useRef)(e);r.current=e;var n=D3.useCallback(function(a){r.current(a)},[]);function i(a){a&&(a.removeEventListener(ZX,n),a.removeEventListener($X,n))}function o(a){t.current&&t.current!==a&&i(t.current),a&&a!==t.current&&(a.addEventListener(ZX,n),a.addEventListener($X,n),t.current=a)}return D3.useEffect(function(){return function(){i(t.current)}},[]),[o,i]};var P3=J(De()),jmr=ep()?P3.useLayoutEffect:P3.useEffect,L3=jmr;var ZUe=J(De());var N3=J(De()),$Ue=function(){var e=N3.useRef(null);function t(){Ol.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=Ol(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return N3.useEffect(function(){return function(){t()}},[]),[r,t]};var zmr=[Dl,qd,Zm,C3],Fmr=[Dl,M3],XX=!1,YUe=!0;function R3(e){return e===Zm||e===C3}var KUe=function(e,t,r){var n=Rd(WX),i=Vn(n,2),o=i[0],a=i[1],c=$Ue(),p=Vn(c,2),m=p[0],g=p[1];function S(){a(Dl,!0)}var I=t?Fmr:zmr;return L3(function(){if(o!==WX&&o!==C3){var M=I.indexOf(o),P=I[M+1],N=r(o);N===XX?a(P,!0):P&&m(function(L){function q(){L.isCanceled()||a(P,!0)}N===!0?q():Promise.resolve(N).then(q)})}},[e,o]),ZUe.useEffect(function(){return function(){g()}},[]),[S,o]};function QX(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,a=n.motionAppear,c=a===void 0?!0:a,p=n.motionLeave,m=p===void 0?!0:p,g=n.motionDeadline,S=n.motionLeaveImmediately,I=n.onAppearPrepare,M=n.onEnterPrepare,P=n.onLeavePrepare,N=n.onAppearStart,L=n.onEnterStart,q=n.onLeaveStart,j=n.onAppearActive,B=n.onEnterActive,H=n.onLeaveActive,Q=n.onAppearEnd,ee=n.onEnterEnd,ne=n.onLeaveEnd,de=n.onVisibleChanged,ue=Rd(),be=Vn(ue,2),Ee=be[0],Re=be[1],Ie=Rd(kd),We=Vn(Ie,2),$e=We[0],Fe=We[1],je=Rd(null),Ce=Vn(je,2),Xe=Ce[0],et=Ce[1],st=(0,Ym.useRef)(!1),Ge=(0,Ym.useRef)(null);function Ke(){return r()}var it=(0,Ym.useRef)(!1);function Le(){Fe(kd,!0),et(null,!0)}function he(ur){var Gt=Ke();if(!(ur&&!ur.deadline&&ur.target!==Gt)){var pr=it.current,Wr;$e===b2&&pr?Wr=Q==null?void 0:Q(Gt,ur):$e===w2&&pr?Wr=ee==null?void 0:ee(Gt,ur):$e===S2&&pr&&(Wr=ne==null?void 0:ne(Gt,ur)),$e!==kd&&pr&&Wr!==!1&&Le()}}var Be=WUe(he),Me=Vn(Be,1),tt=Me[0],Je=function(Gt){var pr,Wr,$r;switch(Gt){case b2:return pr={},vt(pr,Dl,I),vt(pr,qd,N),vt(pr,Zm,j),pr;case w2:return Wr={},vt(Wr,Dl,M),vt(Wr,qd,L),vt(Wr,Zm,B),Wr;case S2:return $r={},vt($r,Dl,P),vt($r,qd,q),vt($r,Zm,H),$r;default:return{};}},xt=k3.useMemo(function(){return Je($e)},[$e]),bt=KUe($e,!e,function(ur){if(ur===Dl){var Gt=xt[Dl];return Gt?Gt(Ke()):XX}if(pt in xt){var pr;et(((pr=xt[pt])===null||pr===void 0?void 0:pr.call(xt,Ke(),null))||null)}return pt===Zm&&(tt(Ke()),g>0&&(clearTimeout(Ge.current),Ge.current=setTimeout(function(){he({deadline:!0})},g))),pt===M3&&Le(),YUe}),yt=Vn(bt,2),Te=yt[0],pt=yt[1],Vt=R3(pt);it.current=Vt,L3(function(){Re(t);var ur=st.current;st.current=!0;var Gt;!ur&&t&&c&&(Gt=b2),ur&&t&&o&&(Gt=w2),(ur&&!t&&m||!ur&&S&&!t&&m)&&(Gt=S2);var pr=Je(Gt);Gt&&(e||pr[Dl])?(Fe(Gt),Te()):Fe(kd)},[t]),(0,Ym.useEffect)(function(){($e===b2&&!c||$e===w2&&!o||$e===S2&&!m)&&Fe(kd)},[c,o,m]),(0,Ym.useEffect)(function(){return function(){st.current=!1,clearTimeout(Ge.current)}},[]);var dt=k3.useRef(!1);(0,Ym.useEffect)(function(){Ee&&(dt.current=!0),Ee!==void 0&&$e===kd&&((dt.current||Ee)&&(de==null||de(Ee)),dt.current=!0)},[Ee,$e]);var Zt=Xe;return xt[Dl]&&pt===qd&&(Zt=Mt({transition:"none"},Zt)),[$e,pt,Zt,Ee!=null?Ee:t]}function Bmr(e){var t=e;ri(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=Pl.forwardRef(function(i,o){var a=i.visible,c=a===void 0?!0:a,p=i.removeOnLeave,m=p===void 0?!0:p,g=i.forceRender,S=i.children,I=i.motionName,M=i.leavedClassName,P=i.eventProps,N=Pl.useContext(qUe),L=N.motion,q=r(i,L),j=(0,JX.useRef)(),B=(0,JX.useRef)();function H(){try{return j.current instanceof HTMLElement?j.current:x2(B.current)}catch(et){return null}}var Q=QX(q,c,H,i),ee=Vn(Q,4),ne=ee[0],de=ee[1],ue=ee[2],be=ee[3],Ee=Pl.useRef(be);be&&(Ee.current=!0);var Re=Pl.useCallback(function(et){j.current=et,BX(o,et)},[o]),Ie,We=Mt(Mt({},P),{},{visible:c});if(!S)Ie=null;else if(ne===kd)be?Ie=S(Mt({},We),Re):!m&&Ee.current&&M?Ie=S(Mt(Mt({},We),{},{className:M}),Re):g||!m&&!M?Ie=S(Mt(Mt({},We),{},{style:{display:"none"}}),Re):Ie=null;else{var $e,Fe;de===Dl?Fe="prepare":R3(de)?Fe="active":de===qd&&(Fe="start");var je=YX(I,"".concat(ne,"-").concat(Fe));Ie=S(Mt(Mt({},We),{},{className:(0,XUe.default)(YX(I,ne),($e={},vt($e,je,je&&Fe),vt($e,I,typeof I=="string"),$e)),style:ue}),Re)}if(Pl.isValidElement(Ie)&&T3(Ie)){var Ce=Ie,Xe=Ce.ref;Xe||(Ie=Pl.cloneElement(Ie,{ref:Re}))}return Pl.createElement(zUe,{ref:B},Ie)});return n.displayName="CSSMotion",n}var q3=Bmr(O3);var Ly=J(De());var j3="add",z3="keep",F3="remove",U3="removed";function Umr(e){var t;return e&&ri(e)==="object"&&"key"in e?t=e:t={key:e},Mt(Mt({},t),{},{key:String(t.key)})}function B3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Umr)}function QUe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=B3(e),a=B3(t);o.forEach(function(m){for(var g=!1,S=n;S<i;S+=1){var I=a[S];if(I.key===m.key){n<S&&(r=r.concat(a.slice(n,S).map(function(M){return Mt(Mt({},M),{},{status:j3})})),n=S),r.push(Mt(Mt({},I),{},{status:z3})),n+=1,g=!0;break}}g||r.push(Mt(Mt({},m),{},{status:F3}))}),n<i&&(r=r.concat(a.slice(n).map(function(m){return Mt(Mt({},m),{},{status:j3})})));var c={};r.forEach(function(m){var g=m.key;c[g]=(c[g]||0)+1});var p=Object.keys(c).filter(function(m){return c[m]>1});return p.forEach(function(m){r=r.filter(function(g){var S=g.key,I=g.status;return S!==m||I!==F3}),r.forEach(function(g){g.key===m&&(g.status=z3)})}),r}var Vmr=["component","children","onVisibleChanged","onAllRemoved"],Gmr=["status"],Hmr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Wmr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q3,r=function(n){La(o,n);var i=Na(o);function o(){var a;Da(this,o);for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return a=i.call.apply(i,[this].concat(p)),vt(qr(a),"state",{keyEntities:[]}),vt(qr(a),"removeKey",function(g){var S=a.state.keyEntities,I=S.map(function(M){return M.key!==g?M:Mt(Mt({},M),{},{status:U3})});return a.setState({keyEntities:I}),I.filter(function(M){var P=M.status;return P!==U3}).length}),a}return Pa(o,[{key:"render",value:function(){var c=this,p=this.state.keyEntities,m=this.props,g=m.component,S=m.children,I=m.onVisibleChanged,M=m.onAllRemoved,P=ps(m,Vmr),N=g||Ly.Fragment,L={};return Hmr.forEach(function(q){L[q]=P[q],delete P[q]}),delete P.keys,Ly.createElement(N,P,p.map(function(q,j){var B=q.status,H=ps(q,Gmr),Q=B===j3||B===z3;return Ly.createElement(t,dn({},L,{key:H.key,visible:Q,eventProps:H,onVisibleChanged:function(ne){if(I==null||I(ne,{key:H.key}),!ne){var de=c.removeKey(H.key);de===0&&M&&M()}}}),function(ee,ne){return S(Mt(Mt({},ee),{},{index:j}),ne)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,p){var m=c.keys,g=p.keyEntities,S=B3(m),I=QUe(g,S);return{keyEntities:I.filter(function(M){var P=g.find(function(N){var L=N.key;return M.key===L});return!(P&&P.status===U3&&M.status===F3)})}}}]),o}(Ly.Component);return vt(r,"defaultProps",{component:"div"}),r}var $mr=Wmr(O3);var Ux=q3;function V3(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function tQ(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,c=e.maskTransitionName;if(!i)return null;var p={};return(o||c||a)&&(p=Mt({motionAppear:!0},V3({motion:o,prefixCls:t,transitionName:c,animation:a}))),eQ.createElement(Ux,dn({},p,{visible:r,removeOnLeave:!0}),function(m){var g=m.className;return eQ.createElement("div",{style:{zIndex:n},className:(0,JUe.default)("".concat(t,"-mask"),g)})})}var uu=J(De()),Ry=J(De());function e7e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7e(Object(r),!0).forEach(function(n){Zmr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e){"@babel/helpers - typeof";return aQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aQ(e)}function Zmr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E2,Ymr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Z3(){if(E2!==void 0)return E2;E2="";var e=document.createElement("p").style,t="Transform";for(var r in Ymr)r+t in e&&(E2=r);return E2}function h7e(){return Z3()?"".concat(Z3(),"TransitionProperty"):"transitionProperty"}function Y3(){return Z3()?"".concat(Z3(),"Transform"):"transform"}function r7e(e,t){var r=h7e();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function rQ(e,t){var r=Y3();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function Kmr(e){return e.style.transitionProperty||e.style[h7e()]}function Xmr(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(Y3());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Qmr=/matrix\((.*)\)/,Jmr=/matrix3d\((.*)\)/;function egr(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(Y3());if(n&&n!=="none"){var i,o=n.match(Qmr);if(o)o=o[1],i=o.split(",").map(function(c){return parseFloat(c,10)}),i[4]=t.x,i[5]=t.y,rQ(e,"matrix(".concat(i.join(","),")"));else{var a=n.match(Jmr)[1];i=a.split(",").map(function(c){return parseFloat(c,10)}),i[12]=t.x,i[13]=t.y,rQ(e,"matrix3d(".concat(i.join(","),")"))}}else rQ(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var tgr=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,C2;function n7e(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Vx(e,t,r){var n=r;if(aQ(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&Vx(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return C2(e,t)}function rgr(e){var t,r,n,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=a.clientLeft||o.clientLeft||0,n-=a.clientTop||o.clientTop||0,{left:r,top:n}}function m7e(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function g7e(e){return m7e(e)}function v7e(e){return m7e(e,!0)}function T2(e){var t=rgr(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=g7e(n),t.top+=v7e(n),t}function cQ(e){return e!=null&&e==e.window}function y7e(e){return cQ(e)?e.document:e.nodeType===9?e:e.ownerDocument}function ngr(e,t,r){var n=r,i="",o=y7e(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var igr=new RegExp("^(".concat(tgr,")(?!px)[a-z%]+$"),"i"),ogr=/^(top|right|bottom|left)$/,nQ="currentStyle",iQ="runtimeStyle",Ny="left",agr="px";function sgr(e,t){var r=e[nQ]&&e[nQ][t];if(igr.test(r)&&!ogr.test(t)){var n=e.style,i=n[Ny],o=e[iQ][Ny];e[iQ][Ny]=e[nQ][Ny],n[Ny]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+agr,n[Ny]=i,e[iQ][Ny]=o}return r===""?"auto":r}typeof window!="undefined"&&(C2=window.getComputedStyle?ngr:sgr);function G3(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function i7e(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function o7e(e,t,r){Vx(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=G3("left",r),a=G3("top",r),c=i7e(o),p=i7e(a);o!=="left"&&(n=999),a!=="top"&&(i=999);var m="",g=T2(e);("left"in t||"top"in t)&&(m=Kmr(e)||"",r7e(e,"none")),"left"in t&&(e.style[c]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[p]="",e.style[a]="".concat(i,"px")),n7e(e);var S=T2(e),I={};for(var M in t)if(t.hasOwnProperty(M)){var P=G3(M,r),N=M==="left"?n:i,L=g[M]-S[M];P===M?I[P]=N+L:I[P]=N-L}Vx(e,I),n7e(e),("left"in t||"top"in t)&&r7e(e,m);var q={};for(var j in t)if(t.hasOwnProperty(j)){var B=G3(j,r),H=t[j]-g[j];j===B?q[B]=I[B]+H:q[B]=I[B]-H}Vx(e,q)}function lgr(e,t){var r=T2(e),n=Xmr(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),egr(e,i)}function ugr(e,t,r){if(r.ignoreShake){var n=T2(e),i=n.left.toFixed(0),o=n.top.toFixed(0),a=t.left.toFixed(0),c=t.top.toFixed(0);if(i===a&&o===c)return}r.useCssRight||r.useCssBottom?o7e(e,t,r):r.useCssTransform&&Y3()in document.body.style?lgr(e,t):o7e(e,t,r)}function fQ(e,t){for(var r=0;r<e.length;r++)t(e[r])}function _7e(e){return C2(e,"boxSizing")==="border-box"}var cgr=["margin","border","padding"],sQ=-1,fgr=2,lQ=1,pgr=0;function dgr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function I2(e,t,r){var n=0,i,o,a;for(o=0;o<t.length;o++)if(i=t[o],i)for(a=0;a<r.length;a++){var c=void 0;i==="border"?c="".concat(i).concat(r[a],"Width"):c=i+r[a],n+=parseFloat(C2(e,c))||0}return n}var tp={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};fQ(["Width","Height"],function(e){tp["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],tp["viewport".concat(e)](r))},tp["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,a=o[r];return n.compatMode==="CSS1Compat"&&a||i&&i[r]||a}});function a7e(e,t,r){var n=r;if(cQ(e))return t==="width"?tp.viewportWidth(e):tp.viewportHeight(e);if(e.nodeType===9)return t==="width"?tp.docWidth(e):tp.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),a=_7e(e),c=0;(o==null||o<=0)&&(o=void 0,c=C2(e,t),(c==null||Number(c)<0)&&(c=e.style[t]||0),c=Math.floor(parseFloat(c))||0),n===void 0&&(n=a?lQ:sQ);var p=o!==void 0||a,m=o||c;return n===sQ?p?m-I2(e,["border","padding"],i):c:p?n===lQ?m:m+(n===fgr?-I2(e,["border"],i):I2(e,["margin"],i)):c+I2(e,cgr.slice(n),i)}var hgr={position:"absolute",visibility:"hidden",display:"block"};function s7e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=a7e.apply(void 0,t):dgr(i,hgr,function(){n=a7e.apply(void 0,t)}),n}fQ(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);tp["outer".concat(t)]=function(n,i){return n&&s7e(n,e,i?pgr:lQ)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];tp[e]=function(n,i){var o=i;if(o!==void 0){if(n){var a=_7e(n);return a&&(o+=I2(n,["padding","border"],r)),Vx(n,e,o)}return}return n&&s7e(n,e,sQ)}});function x7e(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Hr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:y7e,offset:function(t,r,n){if(typeof r!="undefined")ugr(t,r,n||{});else return T2(t)},isWindow:cQ,each:fQ,css:Vx,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:x7e,getWindowScrollLeft:function(t){return g7e(t)},getWindowScrollTop:function(t){return v7e(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Hr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};x7e(Hr,tp);var oQ=Hr.getParent;function uQ(e){if(Hr.isWindow(e)||e.nodeType===9)return null;var t=Hr.getDocument(e),r=t.body,n,i=Hr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:oQ(e);for(n=oQ(e);n&&n!==r&&n.nodeType!==9;n=oQ(n))if(i=Hr.css(n,"position"),i!=="static")return n;return null}var l7e=Hr.getParent;function mgr(e){if(Hr.isWindow(e)||e.nodeType===9)return!1;var t=Hr.getDocument(e),r=t.body,n=null;for(n=l7e(e);n&&n!==r&&n!==t;n=l7e(n)){var i=Hr.css(n,"position");if(i==="fixed")return!0}return!1}function pQ(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=uQ(e),i=Hr.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,c=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==a&&n!==c&&Hr.css(n,"overflow")!=="visible"){var p=Hr.offset(n);p.left+=n.clientLeft,p.top+=n.clientTop,r.top=Math.max(r.top,p.top),r.right=Math.min(r.right,p.left+n.clientWidth),r.bottom=Math.min(r.bottom,p.top+n.clientHeight),r.left=Math.max(r.left,p.left)}else if(n===a||n===c)break;n=uQ(n)}var m=null;if(!Hr.isWindow(e)&&e.nodeType!==9){m=e.style.position;var g=Hr.css(e,"position");g==="absolute"&&(e.style.position="fixed")}var S=Hr.getWindowScrollLeft(o),I=Hr.getWindowScrollTop(o),M=Hr.viewportWidth(o),P=Hr.viewportHeight(o),N=c.scrollWidth,L=c.scrollHeight,q=window.getComputedStyle(a);if(q.overflowX==="hidden"&&(N=o.innerWidth),q.overflowY==="hidden"&&(L=o.innerHeight),e.style&&(e.style.position=m),t||mgr(e))r.left=Math.max(r.left,S),r.top=Math.max(r.top,I),r.right=Math.min(r.right,S+M),r.bottom=Math.min(r.bottom,I+P);else{var j=Math.max(N,S+M);r.right=Math.min(r.right,j);var B=Math.max(L,I+P);r.bottom=Math.min(r.bottom,B)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function ggr(e,t,r,n){var i=Hr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Hr.mix(i,o)}function dQ(e){var t,r,n;if(!Hr.isWindow(e)&&e.nodeType!==9)t=Hr.offset(e),r=Hr.outerWidth(e),n=Hr.outerHeight(e);else{var i=Hr.getWindow(e);t={left:Hr.getWindowScrollLeft(i),top:Hr.getWindowScrollTop(i)},r=Hr.viewportWidth(i),n=Hr.viewportHeight(i)}return t.width=r,t.height=n,t}function u7e(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,a=e.left,c=e.top;return r==="c"?c+=o/2:r==="b"&&(c+=o),n==="c"?a+=i/2:n==="r"&&(a+=i),{left:a,top:c}}function H3(e,t,r,n,i){var o=u7e(t,r[1]),a=u7e(e,r[0]),c=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-c[0]+n[0]-i[0]),top:Math.round(e.top-c[1]+n[1]-i[1])}}function c7e(e,t,r){return e.left<r.left||e.left+t.width>r.right}function f7e(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function vgr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function ygr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function W3(e,t,r){var n=[];return Hr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function $3(e,t){return e[t]=-e[t],e}function p7e(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function d7e(e,t){e[0]=p7e(e[0],t.width),e[1]=p7e(e[1],t.height)}function b7e(e,t,r,n){var i=r.points,o=r.offset||[0,0],a=r.targetOffset||[0,0],c=r.overflow,p=r.source||e;o=[].concat(o),a=[].concat(a),c=c||{};var m={},g=0,S=!!(c&&c.alwaysByViewport),I=pQ(p,S),M=dQ(p);d7e(o,M),d7e(a,t);var P=H3(M,t,i,o,a),N=Hr.merge(M,P);if(I&&(c.adjustX||c.adjustY)&&n){if(c.adjustX&&c7e(P,M,I)){var L=W3(i,/[lr]/gi,{l:"r",r:"l"}),q=$3(o,0),j=$3(a,0),B=H3(M,t,L,q,j);vgr(B,M,I)||(g=1,i=L,o=q,a=j)}if(c.adjustY&&f7e(P,M,I)){var H=W3(i,/[tb]/gi,{t:"b",b:"t"}),Q=$3(o,1),ee=$3(a,1),ne=H3(M,t,H,Q,ee);ygr(ne,M,I)||(g=1,i=H,o=Q,a=ee)}g&&(P=H3(M,t,i,o,a),Hr.mix(N,P));var de=c7e(P,M,I),ue=f7e(P,M,I);if(de||ue){var be=i;de&&(be=W3(i,/[lr]/gi,{l:"r",r:"l"})),ue&&(be=W3(i,/[tb]/gi,{t:"b",b:"t"})),i=be,o=r.offset||[0,0],a=r.targetOffset||[0,0]}m.adjustX=c.adjustX&&de,m.adjustY=c.adjustY&&ue,(m.adjustX||m.adjustY)&&(N=ggr(P,M,I,m))}return N.width!==M.width&&Hr.css(p,"width",Hr.width(p)+N.width-M.width),N.height!==M.height&&Hr.css(p,"height",Hr.height(p)+N.height-M.height),Hr.offset(p,{left:N.left,top:N.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:m}}function _gr(e,t){var r=pQ(e,t),n=dQ(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function K3(e,t,r){var n=r.target||t,i=dQ(n),o=!_gr(n,r.overflow&&r.overflow.alwaysByViewport);return b7e(e,i,r,o)}K3.__getOffsetParent=uQ;K3.__getVisibleRectForElement=pQ;function w7e(e,t,r){var n,i,o=Hr.getDocument(e),a=o.defaultView||o.parentWindow,c=Hr.getWindowScrollLeft(a),p=Hr.getWindowScrollTop(a),m=Hr.viewportWidth(a),g=Hr.viewportHeight(a);"pageX"in t?n=t.pageX:n=c+t.clientX,"pageY"in t?i=t.pageY:i=p+t.clientY;var S={left:n,top:i,width:0,height:0},I=n>=0&&n<=c+m&&i>=0&&i<=p+g,M=[r.points[0],"cc"];return b7e(e,S,t7e(t7e({},r),{},{points:M}),I)}function xgr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=n.has(o);if(Pd(!p,"Warning: There may be circular references"),p)return!1;if(o===a)return!0;if(r&&c>1)return!1;n.add(o);var m=c+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var g=0;g<o.length;g++)if(!i(o[g],a[g],m))return!1;return!0}if(o&&a&&ri(o)==="object"&&ri(a)==="object"){var S=Object.keys(o);return S.length!==Object.keys(a).length?!1:S.every(function(I){return i(o[I],a[I],m)})}return!1}return i(e,t)}var S7e=xgr;var E7e=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1};var Gx=J(De());var I7e=ep()?Gx.useLayoutEffect:Gx.useEffect,bgr=function(t,r){var n=Gx.useRef(!0);I7e(function(){return t(n.current)},r),I7e(function(){return n.current=!1,function(){n.current=!0}},[])};var M2=bgr;var Ra=J(De());var hQ=J(De()),T7e=function(e,t){var r=hQ.default.useRef(!1),n=hQ.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(a){if(i(),!r.current||a===!0){if(e(a)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var M7e=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];r.call(n,a[1],a[0])}},t}()}(),mQ=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,X3=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),wgr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(X3):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Sgr=2;function Egr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&c()}function a(){wgr(o)}function c(){var p=Date.now();if(r){if(p-i<Sgr)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=p}return c}var Igr=20,Tgr=["top","right","bottom","left","width","height","size","weight"],Cgr=typeof MutationObserver!="undefined",Mgr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Egr(this.refresh.bind(this),Igr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!mQ||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Cgr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!mQ||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=Tgr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),A7e=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Hx=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||X3},O7e=J3(0,0,0,0);function Q3(e){return parseFloat(e)||0}function C7e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+Q3(o)},0)}function Agr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],a=e["padding-"+o];r[o]=Q3(a)}return r}function Ogr(e){var t=e.getBBox();return J3(0,0,t.width,t.height)}function Dgr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return O7e;var n=Hx(e).getComputedStyle(e),i=Agr(n),o=i.left+i.right,a=i.top+i.bottom,c=Q3(n.width),p=Q3(n.height);if(n.boxSizing==="border-box"&&(Math.round(c+o)!==t&&(c-=C7e(n,"left","right")+o),Math.round(p+a)!==r&&(p-=C7e(n,"top","bottom")+a)),!Lgr(e)){var m=Math.round(c+o)-t,g=Math.round(p+a)-r;Math.abs(m)!==1&&(c-=m),Math.abs(g)!==1&&(p-=g)}return J3(i.left,i.top,c,p)}var Pgr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof Hx(e).SVGGraphicsElement}:function(e){return e instanceof Hx(e).SVGElement&&typeof e.getBBox=="function"}}();function Lgr(e){return e===Hx(e).document.documentElement}function Ngr(e){return mQ?Pgr(e)?Ogr(e):Dgr(e):O7e}function Rgr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return A7e(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function J3(e,t,r,n){return{x:e,y:t,width:r,height:n}}var kgr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=J3(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Ngr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),qgr=function(){function e(t,r){var n=Rgr(r);A7e(this,{target:t,contentRect:n})}return e}(),jgr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new M7e,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Hx(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new kgr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Hx(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new qgr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),D7e=typeof WeakMap!="undefined"?new WeakMap:new M7e,P7e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Mgr.getInstance(),n=new jgr(t,r,this);D7e.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){P7e.prototype[e]=function(){var t;return(t=D7e.get(this))[e].apply(t,arguments)}});var zgr=function(){return typeof X3.ResizeObserver!="undefined"?X3.ResizeObserver:P7e}(),L7e=zgr;function N7e(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function R7e(e,t){e!==document.activeElement&&Py(t,e)&&typeof e.focus=="function"&&e.focus()}function gQ(e,t){var r=null,n=null;function i(a){var c=Vn(a,1),p=c[0].target;if(document.documentElement.contains(p)){var m=p.getBoundingClientRect(),g=m.width,S=m.height,I=Math.floor(g),M=Math.floor(S);(r!==I||n!==M)&&Promise.resolve().then(function(){t({width:I,height:M})}),r=I,n=M}}var o=new L7e(i);return e&&o.observe(e),function(){o.disconnect()}}function k7e(e){return typeof e!="function"?null:e()}function q7e(e){return ri(e)!=="object"||!e?null:e}var Fgr=function(t,r){var n=t.children,i=t.disabled,o=t.target,a=t.align,c=t.onAlign,p=t.monitorWindowResize,m=t.monitorBufferTime,g=m===void 0?0:m,S=Ra.default.useRef({}),I=Ra.default.useRef(),M=Ra.default.Children.only(n),P=Ra.default.useRef({});P.current.disabled=i,P.current.target=o,P.current.align=a,P.current.onAlign=c;var N=T7e(function(){var Ee=P.current,Re=Ee.disabled,Ie=Ee.target,We=Ee.align,$e=Ee.onAlign,Fe=I.current;if(!Re&&Ie&&Fe){var je,Ce=k7e(Ie),Xe=q7e(Ie);S.current.element=Ce,S.current.point=Xe,S.current.align=We;var et=document,st=et.activeElement;return Ce&&E7e(Ce)?je=K3(Fe,Ce,We):Xe&&(je=w7e(Fe,Xe,We)),R7e(st,Fe),$e&&je&&$e(Fe,je),!0}return!1},g),L=Vn(N,2),q=L[0],j=L[1],B=Ra.default.useState(),H=Vn(B,2),Q=H[0],ee=H[1],ne=Ra.default.useState(),de=Vn(ne,2),ue=de[0],be=de[1];return M2(function(){ee(k7e(o)),be(q7e(o))}),Ra.default.useEffect(function(){(S.current.element!==Q||!N7e(S.current.point,ue)||!S7e(S.current.align,a))&&q()}),Ra.default.useEffect(function(){var Ee=gQ(I.current,q);return Ee},[I.current]),Ra.default.useEffect(function(){var Ee=gQ(Q,q);return Ee},[Q]),Ra.default.useEffect(function(){i?j():q()},[i]),Ra.default.useEffect(function(){if(p){var Ee=Bs(window,"resize",q);return Ee.remove}},[p]),Ra.default.useEffect(function(){return function(){j()}},[]),Ra.default.useImperativeHandle(r,function(){return{forceAlign:function(){return q(!0)}}}),Ra.default.isValidElement(M)&&(M=Ra.default.cloneElement(M,{ref:Fx(M.ref,I)})),M},j7e=Ra.default.forwardRef(Fgr);j7e.displayName="Align";var z7e=j7e;var F7e=z7e;var H7e=J(Nn());function A2(){"use strict";A2=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(Fe,je,Ce){Fe[je]=Ce.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function m(Fe,je,Ce){return Object.defineProperty(Fe,je,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Fe[je]}try{m({},"")}catch(Fe){m=function(Ce,Xe,et){return Ce[Xe]=et}}function g(Fe,je,Ce,Xe){var et=je&&je.prototype instanceof q?je:q,st=Object.create(et.prototype),Ge=new We(Xe||[]);return i(st,"_invoke",{value:be(Fe,Ce,Ge)}),st}function S(Fe,je,Ce){try{return{type:"normal",arg:Fe.call(je,Ce)}}catch(Xe){return{type:"throw",arg:Xe}}}t.wrap=g;var I="suspendedStart",M="suspendedYield",P="executing",N="completed",L={};function q(){}function j(){}function B(){}var H={};m(H,a,function(){return this});var Q=Object.getPrototypeOf,ee=Q&&Q(Q($e([])));ee&&ee!==r&&n.call(ee,a)&&(H=ee);var ne=B.prototype=q.prototype=Object.create(H);function de(Fe){["next","throw","return"].forEach(function(je){m(Fe,je,function(Ce){return this._invoke(je,Ce)})})}function ue(Fe,je){function Ce(et,st,Ge,Ke){var it=S(Fe[et],Fe,st);if(it.type!=="throw"){var Le=it.arg,he=Le.value;return he&&ri(he)=="object"&&n.call(he,"__await")?je.resolve(he.__await).then(function(Be){Ce("next",Be,Ge,Ke)},function(Be){Ce("throw",Be,Ge,Ke)}):je.resolve(he).then(function(Be){Le.value=Be,Ge(Le)},function(Be){return Ce("throw",Be,Ge,Ke)})}Ke(it.arg)}var Xe;i(this,"_invoke",{value:function(st,Ge){function Ke(){return new je(function(it,Le){Ce(st,Ge,it,Le)})}return Xe=Xe?Xe.then(Ke,Ke):Ke()}})}function be(Fe,je,Ce){var Xe=I;return function(et,st){if(Xe===P)throw new Error("Generator is already running");if(Xe===N){if(et==="throw")throw st;return{value:e,done:!0}}for(Ce.method=et,Ce.arg=st;;){var Ge=Ce.delegate;if(Ge){var Ke=Ee(Ge,Ce);if(Ke){if(Ke===L)continue;return Ke}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(Xe===I)throw Xe=N,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);Xe=P;var it=S(Fe,je,Ce);if(it.type==="normal"){if(Xe=Ce.done?N:M,it.arg===L)continue;return{value:it.arg,done:Ce.done}}it.type==="throw"&&(Xe=N,Ce.method="throw",Ce.arg=it.arg)}}}function Ee(Fe,je){var Ce=je.method,Xe=Fe.iterator[Ce];if(Xe===e)return je.delegate=null,Ce==="throw"&&Fe.iterator.return&&(je.method="return",je.arg=e,Ee(Fe,je),je.method==="throw")||Ce!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),L;var et=S(Xe,Fe.iterator,je.arg);if(et.type==="throw")return je.method="throw",je.arg=et.arg,je.delegate=null,L;var st=et.arg;return st?st.done?(je[Fe.resultName]=st.value,je.next=Fe.nextLoc,je.method!=="return"&&(je.method="next",je.arg=e),je.delegate=null,L):st:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,L)}function Re(Fe){var je={tryLoc:Fe[0]};1 in Fe&&(je.catchLoc=Fe[1]),2 in Fe&&(je.finallyLoc=Fe[2],je.afterLoc=Fe[3]),this.tryEntries.push(je)}function Ie(Fe){var je=Fe.completion||{};je.type="normal",delete je.arg,Fe.completion=je}function We(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Re,this),this.reset(!0)}function $e(Fe){if(Fe||Fe===""){var je=Fe[a];if(je)return je.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Ce=-1,Xe=function et(){for(;++Ce<Fe.length;)if(n.call(Fe,Ce))return et.value=Fe[Ce],et.done=!1,et;return et.value=e,et.done=!0,et};return Xe.next=Xe}}throw new TypeError(ri(Fe)+" is not iterable")}return j.prototype=B,i(ne,"constructor",{value:B,configurable:!0}),i(B,"constructor",{value:j,configurable:!0}),j.displayName=m(B,p,"GeneratorFunction"),t.isGeneratorFunction=function(Fe){var je=typeof Fe=="function"&&Fe.constructor;return!!je&&(je===j||(je.displayName||je.name)==="GeneratorFunction")},t.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,B):(Fe.__proto__=B,m(Fe,p,"GeneratorFunction")),Fe.prototype=Object.create(ne),Fe},t.awrap=function(Fe){return{__await:Fe}},de(ue.prototype),m(ue.prototype,c,function(){return this}),t.AsyncIterator=ue,t.async=function(Fe,je,Ce,Xe,et){et===void 0&&(et=Promise);var st=new ue(g(Fe,je,Ce,Xe),et);return t.isGeneratorFunction(je)?st:st.next().then(function(Ge){return Ge.done?Ge.value:st.next()})},de(ne),m(ne,p,"Generator"),m(ne,a,function(){return this}),m(ne,"toString",function(){return"[object Generator]"}),t.keys=function(Fe){var je=Object(Fe),Ce=[];for(var Xe in je)Ce.push(Xe);return Ce.reverse(),function et(){for(;Ce.length;){var st=Ce.pop();if(st in je)return et.value=st,et.done=!1,et}return et.done=!0,et}},t.values=$e,We.prototype={constructor:We,reset:function(je){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(Ie),!je)for(var Ce in this)Ce.charAt(0)==="t"&&n.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=e)},stop:function(){this.done=!0;var je=this.tryEntries[0].completion;if(je.type==="throw")throw je.arg;return this.rval},dispatchException:function(je){if(this.done)throw je;var Ce=this;function Xe(Le,he){return Ge.type="throw",Ge.arg=je,Ce.next=Le,he&&(Ce.method="next",Ce.arg=e),!!he}for(var et=this.tryEntries.length-1;et>=0;--et){var st=this.tryEntries[et],Ge=st.completion;if(st.tryLoc==="root")return Xe("end");if(st.tryLoc<=this.prev){var Ke=n.call(st,"catchLoc"),it=n.call(st,"finallyLoc");if(Ke&&it){if(this.prev<st.catchLoc)return Xe(st.catchLoc,!0);if(this.prev<st.finallyLoc)return Xe(st.finallyLoc)}else if(Ke){if(this.prev<st.catchLoc)return Xe(st.catchLoc,!0)}else{if(!it)throw new Error("try statement without catch or finally");if(this.prev<st.finallyLoc)return Xe(st.finallyLoc)}}}},abrupt:function(je,Ce){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var et=this.tryEntries[Xe];if(et.tryLoc<=this.prev&&n.call(et,"finallyLoc")&&this.prev<et.finallyLoc){var st=et;break}}st&&(je==="break"||je==="continue")&&st.tryLoc<=Ce&&Ce<=st.finallyLoc&&(st=null);var Ge=st?st.completion:{};return Ge.type=je,Ge.arg=Ce,st?(this.method="next",this.next=st.finallyLoc,L):this.complete(Ge)},complete:function(je,Ce){if(je.type==="throw")throw je.arg;return je.type==="break"||je.type==="continue"?this.next=je.arg:je.type==="return"?(this.rval=this.arg=je.arg,this.method="return",this.next="end"):je.type==="normal"&&Ce&&(this.next=Ce),L},finish:function(je){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var Xe=this.tryEntries[Ce];if(Xe.finallyLoc===je)return this.complete(Xe.completion,Xe.afterLoc),Ie(Xe),L}},catch:function(je){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var Xe=this.tryEntries[Ce];if(Xe.tryLoc===je){var et=Xe.completion;if(et.type==="throw"){var st=et.arg;Ie(Xe)}return st}}throw new Error("illegal catch attempt")},delegateYield:function(je,Ce,Xe){return this.delegate={iterator:$e(je),resultName:Ce,nextLoc:Xe},this.method==="next"&&(this.arg=e),L}},t}function B7e(e,t,r,n,i,o,a){try{var c=e[o](a),p=c.value}catch(m){r(m);return}c.done?t(p):Promise.resolve(p).then(n,i)}function vQ(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(p){B7e(o,n,i,a,c,"next",p)}function c(p){B7e(o,n,i,a,c,"throw",p)}a(void 0)})}}var Wx=J(De());var U7e=["measure","alignPre","align",null,"motion"],V7e=function(e,t){var r=Rd(null),n=Vn(r,2),i=n[0],o=n[1],a=(0,Wx.useRef)();function c(g){o(g,!0)}function p(){Ol.cancel(a.current)}function m(g){p(),a.current=Ol(function(){c(function(S){switch(i){case"align":return"motion";case"motion":return"stable";default:}return S}),g==null||g()})}return(0,Wx.useEffect)(function(){c("measure")},[e]),(0,Wx.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(a.current=Ol(vQ(A2().mark(function g(){var S,I;return A2().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:S=U7e.indexOf(i),I=U7e[S+1],I&&S!==-1&&c(I);case 3:case"end":return P.stop();}},g)}))))},[i]),(0,Wx.useEffect)(function(){return function(){p()}},[]),[i,m]};var ek=J(De()),G7e=function(e){var t=ek.useState({width:0,height:0}),r=Vn(t,2),n=r[0],i=r[1];function o(c){var p=c.offsetWidth,m=c.offsetHeight,g=c.getBoundingClientRect(),S=g.width,I=g.height;Math.abs(p-S)<1&&Math.abs(m-I)<1&&(p=S,m=I),i({width:p,height:m})}var a=ek.useMemo(function(){var c={};if(e){var p=n.width,m=n.height;e.indexOf("height")!==-1&&m?c.height=m:e.indexOf("minHeight")!==-1&&m&&(c.minHeight=m),e.indexOf("width")!==-1&&p?c.width=p:e.indexOf("minWidth")!==-1&&p&&(c.minWidth=p)}return c},[e,n]);return[a,o]};var W7e=uu.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,a=e.children,c=e.zIndex,p=e.stretch,m=e.destroyPopupOnHide,g=e.forceRender,S=e.align,I=e.point,M=e.getRootDomNode,P=e.getClassNameFromAlign,N=e.onAlign,L=e.onMouseEnter,q=e.onMouseLeave,j=e.onMouseDown,B=e.onTouchStart,H=e.onClick,Q=(0,Ry.useRef)(),ee=(0,Ry.useRef)(),ne=(0,Ry.useState)(),de=Vn(ne,2),ue=de[0],be=de[1],Ee=G7e(p),Re=Vn(Ee,2),Ie=Re[0],We=Re[1];function $e(){p&&We(M())}var Fe=V7e(r,$e),je=Vn(Fe,2),Ce=je[0],Xe=je[1],et=(0,Ry.useState)(0),st=Vn(et,2),Ge=st[0],Ke=st[1],it=(0,Ry.useRef)();M2(function(){Ce==="alignPre"&&Ke(0)},[Ce]);function Le(){return I||M}function he(){var yt;(yt=Q.current)===null||yt===void 0||yt.forceAlign()}function Be(yt,Te){var pt=P(Te);ue!==pt&&be(pt),Ke(function(Vt){return Vt+1}),Ce==="align"&&(N==null||N(yt,Te))}M2(function(){Ce==="align"&&(Ge<3?he():Xe(function(){var yt;(yt=it.current)===null||yt===void 0||yt.call(it)}))},[Ge]);var Me=Mt({},V3(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(yt){var Te=Me[yt];Me[yt]=function(pt,Vt){return Xe(),Te==null?void 0:Te(pt,Vt)}});function tt(){return new Promise(function(yt){it.current=yt})}uu.useEffect(function(){!Me.motionName&&Ce==="motion"&&Xe()},[Me.motionName,Ce]),uu.useImperativeHandle(t,function(){return{forceAlign:he,getElement:function(){return ee.current}}});var Je=Mt(Mt({},Ie),{},{zIndex:c,opacity:Ce==="motion"||Ce==="stable"||!r?void 0:0,pointerEvents:!r&&Ce!=="stable"?"none":void 0},o),xt=!0;S!=null&&S.points&&(Ce==="align"||Ce==="stable")&&(xt=!1);var bt=a;return uu.Children.count(a)>1&&(bt=uu.createElement("div",{className:"".concat(n,"-content")},a)),uu.createElement(Ux,dn({visible:r,ref:ee,leavedClassName:"".concat(n,"-hidden")},Me,{onAppearPrepare:tt,onEnterPrepare:tt,removeOnLeave:m,forceRender:g}),function(yt,Te){var pt=yt.className,Vt=yt.style,dt=(0,H7e.default)(n,i,ue,pt);return uu.createElement(F7e,{target:Le(),key:"popup",ref:Q,monitorWindowResize:!0,disabled:xt,align:S,onAlign:Be},uu.createElement("div",{ref:Te,className:dt,onMouseEnter:L,onMouseLeave:q,onMouseDownCapture:j,onTouchStartCapture:B,onClick:H,style:Mt(Mt({},Vt),Je)},bt))})});W7e.displayName="PopupInner";var $7e=W7e;var nc=J(De());var Z7e=J(Nn()),Y7e=nc.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,a=e.mobile;a=a===void 0?{}:a;var c=a.popupClassName,p=a.popupStyle,m=a.popupMotion,g=m===void 0?{}:m,S=a.popupRender,I=e.onClick,M=nc.useRef();nc.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return M.current}}});var P=Mt({zIndex:i},p),N=o;return nc.Children.count(o)>1&&(N=nc.createElement("div",{className:"".concat(r,"-content")},o)),S&&(N=S(N)),nc.createElement(Ux,dn({visible:n,ref:M,removeOnLeave:!0},g),function(L,q){var j=L.className,B=L.style,H=(0,Z7e.default)(r,c,j);return nc.createElement("div",{ref:q,className:H,onClick:I,style:Mt(Mt({},B),P)},N)})});Y7e.displayName="MobilePopupInner";var K7e=Y7e;var Bgr=["visible","mobile"],X7e=ky.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=ps(e,Bgr),o=(0,O2.useState)(r),a=Vn(o,2),c=a[0],p=a[1],m=(0,O2.useState)(!1),g=Vn(m,2),S=g[0],I=g[1],M=Mt(Mt({},i),{},{visible:c});(0,O2.useEffect)(function(){p(r),r&&n&&I(kUe())},[r,n]);var P=S?ky.createElement(K7e,dn({},M,{mobile:n,ref:t})):ky.createElement($7e,dn({},M,{ref:t}));return ky.createElement("div",null,ky.createElement(tQ,M),P)});X7e.displayName="Popup";var Q7e=X7e;var J7e=J(De()),Ugr=J7e.createContext(null),yQ=Ugr;function _Q(){}function Vgr(){return""}function Ggr(e){return e?e.ownerDocument:window.document}var Hgr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Wgr(e){var t=function(r){La(i,r);var n=Na(i);function i(o){var a;Da(this,i),a=n.call(this,o),vt(qr(a),"popupRef",cu.createRef()),vt(qr(a),"triggerRef",cu.createRef()),vt(qr(a),"portalContainer",void 0),vt(qr(a),"attachId",void 0),vt(qr(a),"clickOutsideHandler",void 0),vt(qr(a),"touchOutsideHandler",void 0),vt(qr(a),"contextMenuOutsideHandler1",void 0),vt(qr(a),"contextMenuOutsideHandler2",void 0),vt(qr(a),"mouseDownTimeout",void 0),vt(qr(a),"focusTime",void 0),vt(qr(a),"preClickTime",void 0),vt(qr(a),"preTouchTime",void 0),vt(qr(a),"delayTimer",void 0),vt(qr(a),"hasPopupMouseDown",void 0),vt(qr(a),"onMouseEnter",function(p){var m=a.props.mouseEnterDelay;a.fireEvents("onMouseEnter",p),a.delaySetPopupVisible(!0,m,m?null:p)}),vt(qr(a),"onMouseMove",function(p){a.fireEvents("onMouseMove",p),a.setPoint(p)}),vt(qr(a),"onMouseLeave",function(p){a.fireEvents("onMouseLeave",p),a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)}),vt(qr(a),"onPopupMouseEnter",function(){a.clearDelayTimer()}),vt(qr(a),"onPopupMouseLeave",function(p){var m;p.relatedTarget&&!p.relatedTarget.setTimeout&&Py((m=a.popupRef.current)===null||m===void 0?void 0:m.getElement(),p.relatedTarget)||a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)}),vt(qr(a),"onFocus",function(p){a.fireEvents("onFocus",p),a.clearDelayTimer(),a.isFocusToShow()&&(a.focusTime=Date.now(),a.delaySetPopupVisible(!0,a.props.focusDelay))}),vt(qr(a),"onMouseDown",function(p){a.fireEvents("onMouseDown",p),a.preClickTime=Date.now()}),vt(qr(a),"onTouchStart",function(p){a.fireEvents("onTouchStart",p),a.preTouchTime=Date.now()}),vt(qr(a),"onBlur",function(p){a.fireEvents("onBlur",p),a.clearDelayTimer(),a.isBlurToHide()&&a.delaySetPopupVisible(!1,a.props.blurDelay)}),vt(qr(a),"onContextMenu",function(p){p.preventDefault(),a.fireEvents("onContextMenu",p),a.setPopupVisible(!0,p)}),vt(qr(a),"onContextMenuClose",function(){a.isContextMenuToShow()&&a.close()}),vt(qr(a),"onClick",function(p){if(a.fireEvents("onClick",p),a.focusTime){var m;if(a.preClickTime&&a.preTouchTime?m=Math.min(a.preClickTime,a.preTouchTime):a.preClickTime?m=a.preClickTime:a.preTouchTime&&(m=a.preTouchTime),Math.abs(m-a.focusTime)<20)return;a.focusTime=0}a.preClickTime=0,a.preTouchTime=0,a.isClickToShow()&&(a.isClickToHide()||a.isBlurToHide())&&p&&p.preventDefault&&p.preventDefault();var g=!a.state.popupVisible;(a.isClickToHide()&&!g||g&&a.isClickToShow())&&a.setPopupVisible(!a.state.popupVisible,p)}),vt(qr(a),"onPopupMouseDown",function(){if(a.hasPopupMouseDown=!0,clearTimeout(a.mouseDownTimeout),a.mouseDownTimeout=window.setTimeout(function(){a.hasPopupMouseDown=!1},0),a.context){var p;(p=a.context).onPopupMouseDown.apply(p,arguments)}}),vt(qr(a),"onDocumentClick",function(p){if(!(a.props.mask&&!a.props.maskClosable)){var m=p.target,g=a.getRootDomNode(),S=a.getPopupDomNode();(!Py(g,m)||a.isContextMenuOnly())&&!Py(S,m)&&!a.hasPopupMouseDown&&a.close()}}),vt(qr(a),"getRootDomNode",function(){var p=a.props.getTriggerDOMNode;if(p)return p(a.triggerRef.current);try{var m=x2(a.triggerRef.current);if(m)return m}catch(g){}return e9e.default.findDOMNode(qr(a))}),vt(qr(a),"getPopupClassNameFromAlign",function(p){var m=[],g=a.props,S=g.popupPlacement,I=g.builtinPlacements,M=g.prefixCls,P=g.alignPoint,N=g.getPopupClassNameFromAlign;return S&&I&&m.push(RUe(I,M,p,P)),N&&m.push(N(p)),m.join(" ")}),vt(qr(a),"getComponent",function(){var p=a.props,m=p.prefixCls,g=p.destroyPopupOnHide,S=p.popupClassName,I=p.onPopupAlign,M=p.popupMotion,P=p.popupAnimation,N=p.popupTransitionName,L=p.popupStyle,q=p.mask,j=p.maskAnimation,B=p.maskTransitionName,H=p.maskMotion,Q=p.zIndex,ee=p.popup,ne=p.stretch,de=p.alignPoint,ue=p.mobile,be=p.forceRender,Ee=p.onPopupClick,Re=a.state,Ie=Re.popupVisible,We=Re.point,$e=a.getPopupAlign(),Fe={};return a.isMouseEnterToShow()&&(Fe.onMouseEnter=a.onPopupMouseEnter),a.isMouseLeaveToHide()&&(Fe.onMouseLeave=a.onPopupMouseLeave),Fe.onMouseDown=a.onPopupMouseDown,Fe.onTouchStart=a.onPopupMouseDown,cu.createElement(Q7e,dn({prefixCls:m,destroyPopupOnHide:g,visible:Ie,point:de&&We,className:S,align:$e,onAlign:I,animation:P,getClassNameFromAlign:a.getPopupClassNameFromAlign},Fe,{stretch:ne,getRootDomNode:a.getRootDomNode,style:L,mask:q,zIndex:Q,transitionName:N,maskAnimation:j,maskTransitionName:B,maskMotion:H,ref:a.popupRef,motion:M,mobile:ue,forceRender:be,onClick:Ee}),typeof ee=="function"?ee():ee)}),vt(qr(a),"attachParent",function(p){Ol.cancel(a.attachId);var m=a.props,g=m.getPopupContainer,S=m.getDocument,I=a.getRootDomNode(),M;g?(I||g.length===0)&&(M=g(I)):M=S(a.getRootDomNode()).body,M?M.appendChild(p):a.attachId=Ol(function(){a.attachParent(p)})}),vt(qr(a),"getContainer",function(){if(!a.portalContainer){var p=a.props.getDocument,m=p(a.getRootDomNode()).createElement("div");m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.width="100%",a.portalContainer=m}return a.attachParent(a.portalContainer),a.portalContainer}),vt(qr(a),"setPoint",function(p){var m=a.props.alignPoint;!m||!p||a.setState({point:{pageX:p.pageX,pageY:p.pageY}})}),vt(qr(a),"handlePortalUpdate",function(){a.state.prevPopupVisible!==a.state.popupVisible&&a.props.afterPopupVisibleChange(a.state.popupVisible)}),vt(qr(a),"triggerContextValue",{onPopupMouseDown:a.onPopupMouseDown});var c;return"popupVisible"in o?c=!!o.popupVisible:c=!!o.defaultPopupVisible,a.state={prevPopupVisible:c,popupVisible:c},Hgr.forEach(function(p){a["fire".concat(p)]=function(m){a.fireEvents(p,m)}}),a}return Pa(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var a=this.props,c=this.state;if(c.popupVisible){var p;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(p=a.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Bs(p,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(p=p||a.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Bs(p,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(p=p||a.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Bs(p,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Bs(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Ol.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var a;return((a=this.popupRef.current)===null||a===void 0?void 0:a.getElement())||null}},{key:"getPopupAlign",value:function(){var a=this.props,c=a.popupPlacement,p=a.popupAlign,m=a.builtinPlacements;return c&&m?NUe(m,c,p):p}},{key:"setPopupVisible",value:function(a,c){var p=this.props.alignPoint,m=this.state.popupVisible;this.clearDelayTimer(),m!==a&&("popupVisible"in this.props||this.setState({popupVisible:a,prevPopupVisible:m}),this.props.onPopupVisibleChange(a)),p&&c&&a&&this.setPoint(c)}},{key:"delaySetPopupVisible",value:function(a,c,p){var m=this,g=c*1e3;if(this.clearDelayTimer(),g){var S=p?{pageX:p.pageX,pageY:p.pageY}:null;this.delayTimer=window.setTimeout(function(){m.setPopupVisible(a,S),m.clearDelayTimer()},g)}else this.setPopupVisible(a,p)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(a){var c=this.props.children.props,p=this.props;return c[a]&&p[a]?this["fire".concat(a)]:c[a]||p[a]}},{key:"isClickToShow",value:function(){var a=this.props,c=a.action,p=a.showAction;return c.indexOf("click")!==-1||p.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var a=this.props.action;return a==="contextMenu"||a.length===1&&a[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var a=this.props,c=a.action,p=a.showAction;return c.indexOf("contextMenu")!==-1||p.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var a=this.props,c=a.action,p=a.hideAction;return c.indexOf("click")!==-1||p.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var a=this.props,c=a.action,p=a.showAction;return c.indexOf("hover")!==-1||p.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var a=this.props,c=a.action,p=a.hideAction;return c.indexOf("hover")!==-1||p.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var a=this.props,c=a.action,p=a.showAction;return c.indexOf("focus")!==-1||p.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var a=this.props,c=a.action,p=a.hideAction;return c.indexOf("focus")!==-1||p.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var a;(a=this.popupRef.current)===null||a===void 0||a.forceAlign()}}},{key:"fireEvents",value:function(a,c){var p=this.props.children.props[a];p&&p(c);var m=this.props[a];m&&m(c)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var a=this.state.popupVisible,c=this.props,p=c.children,m=c.forceRender,g=c.alignPoint,S=c.className,I=c.autoDestroy,M=cu.Children.only(p),P={key:"trigger"};this.isContextMenuToShow()?P.onContextMenu=this.onContextMenu:P.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(P.onClick=this.onClick,P.onMouseDown=this.onMouseDown,P.onTouchStart=this.onTouchStart):(P.onClick=this.createTwoChains("onClick"),P.onMouseDown=this.createTwoChains("onMouseDown"),P.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(P.onMouseEnter=this.onMouseEnter,g&&(P.onMouseMove=this.onMouseMove)):P.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?P.onMouseLeave=this.onMouseLeave:P.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(P.onFocus=this.onFocus,P.onBlur=this.onBlur):(P.onFocus=this.createTwoChains("onFocus"),P.onBlur=this.createTwoChains("onBlur"));var N=(0,t9e.default)(M&&M.props&&M.props.className,S);N&&(P.className=N);var L=Mt({},P);T3(M)&&(L.ref=Fx(this.triggerRef,M.ref));var q=cu.cloneElement(M,L),j;return(a||this.popupRef.current||m)&&(j=cu.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!a&&I&&(j=null),cu.createElement(yQ.Provider,{value:this.triggerContextValue},q,j)}}],[{key:"getDerivedStateFromProps",value:function(a,c){var p=a.popupVisible,m={};return p!==void 0&&c.popupVisible!==p&&(m.popupVisible=p,m.prevPopupVisible=c.popupVisible),m}}]),i}(cu.Component);return vt(t,"contextType",yQ),vt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Vgr,getDocument:Ggr,onPopupVisibleChange:_Q,afterPopupVisibleChange:_Q,onPopupAlign:_Q,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var r9e=Wgr(LUe);var ic={adjustX:1,adjustY:1},oc=[0,0],n9e={left:{points:["cr","cl"],overflow:ic,offset:[-4,0],targetOffset:oc},right:{points:["cl","cr"],overflow:ic,offset:[4,0],targetOffset:oc},top:{points:["bc","tc"],overflow:ic,offset:[0,-4],targetOffset:oc},bottom:{points:["tc","bc"],overflow:ic,offset:[0,4],targetOffset:oc},topLeft:{points:["bl","tl"],overflow:ic,offset:[0,-4],targetOffset:oc},leftTop:{points:["tr","tl"],overflow:ic,offset:[-4,0],targetOffset:oc},topRight:{points:["br","tr"],overflow:ic,offset:[0,-4],targetOffset:oc},rightTop:{points:["tl","tr"],overflow:ic,offset:[4,0],targetOffset:oc},bottomRight:{points:["tr","br"],overflow:ic,offset:[0,4],targetOffset:oc},rightBottom:{points:["bl","br"],overflow:ic,offset:[4,0],targetOffset:oc},bottomLeft:{points:["tl","bl"],overflow:ic,offset:[0,4],targetOffset:oc},leftBottom:{points:["br","bl"],overflow:ic,offset:[-4,0],targetOffset:oc}};var tk=J(De()),i9e=J(Nn());function rk(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,a=e.overlayInnerStyle,c=e.className,p=e.style;return tk.createElement("div",{className:(0,i9e.default)("".concat(i,"-content"),c),style:p},t!==!1&&tk.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),tk.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:a},typeof n=="function"?n():n))}var $gr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Zgr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,a=t.mouseEnterDelay,c=a===void 0?0:a,p=t.mouseLeaveDelay,m=p===void 0?.1:p,g=t.overlayStyle,S=t.prefixCls,I=S===void 0?"rc-tooltip":S,M=t.children,P=t.onVisibleChange,N=t.afterVisibleChange,L=t.transitionName,q=t.animation,j=t.motion,B=t.placement,H=B===void 0?"right":B,Q=t.align,ee=Q===void 0?{}:Q,ne=t.destroyTooltipOnHide,de=ne===void 0?!1:ne,ue=t.defaultVisible,be=t.getTooltipContainer,Ee=t.overlayInnerStyle,Re=t.arrowContent,Ie=t.overlay,We=t.id,$e=t.showArrow,Fe=$e===void 0?!0:$e,je=ps(t,$gr),Ce=(0,$x.useRef)(null);(0,$x.useImperativeHandle)(r,function(){return Ce.current});var Xe=Mt({},je);"visible"in t&&(Xe.popupVisible=t.visible);var et=function(){return xQ.createElement(rk,{showArrow:Fe,arrowContent:Re,key:"content",prefixCls:I,id:We,overlayInnerStyle:Ee},Ie)},st=!1,Ge=!1;if(typeof de=="boolean")st=de;else if(de&&ri(de)==="object"){var Ke=de.keepParent;st=Ke===!0,Ge=Ke===!1}return xQ.createElement(r9e,dn({popupClassName:n,prefixCls:I,popup:et,action:o,builtinPlacements:n9e,popupPlacement:H,ref:Ce,popupAlign:ee,getPopupContainer:be,onPopupVisibleChange:P,afterPopupVisibleChange:N,popupTransitionName:L,popupAnimation:q,popupMotion:j,defaultPopupVisible:ue,destroyPopupOnHide:st,autoDestroy:Ge,mouseLeaveDelay:m,popupStyle:g,mouseEnterDelay:c},Xe),M)},o9e=(0,$x.forwardRef)(Zgr);var a9e=o9e;var Ygr=jd.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=jd.useRef(null),o=Fx(t,i),a=jd.useRef(null);function c(){Ol.cancel(a.current)}function p(){a.current=Ol(function(){var m;(m=i.current)===null||m===void 0||m.forcePopupAlign()})}return jd.useEffect(function(){return r?p():c(),c},[r,n]),jd.createElement(a9e,dn({ref:o},e))}),bQ=Ygr;function wQ(e){var t;return t=function(r){La(i,r);var n=Na(i);function i(){var o;return Da(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(a,c){o.setState(function(p){return{visibles:Mt(Mt({},p.visibles),{},vt({},a,c))}})},o.handleWithTooltip=function(a){var c=a.value,p=a.dragging,m=a.index,g=a.disabled,S=ps(a,["value","dragging","index","disabled"]),I=o.props,M=I.tipFormatter,P=I.tipProps,N=I.handleStyle,L=I.getTooltipContainer,q=P.prefixCls,j=q===void 0?"rc-slider-tooltip":q,B=P.overlay,H=B===void 0?M(c):B,Q=P.placement,ee=Q===void 0?"top":Q,ne=P.visible,de=ne===void 0?!1:ne,ue=ps(P,["prefixCls","overlay","placement","visible"]),be;return Array.isArray(N)?be=N[m]||N[0]:be=N,D2.default.createElement(bQ,dn({},ue,{getTooltipContainer:L,prefixCls:j,overlay:H,placement:ee,visible:!g&&(o.state.visibles[m]||p)||de,key:m}),D2.default.createElement(jx,dn({},S,{style:Mt({},be),value:c,onMouseEnter:function(){return o.handleTooltipVisibleChange(m,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(m,!1)}})))},o}return Pa(i,[{key:"render",value:function(){return D2.default.createElement(e,dn({},this.props,{handle:this.handleWithTooltip}))}}]),i}(D2.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var nk=xUe;nk.Range=m3;nk.Handle=jx;nk.createSliderWithTooltip=wQ;var ik=nk;var Zx=J(mt(),1),Bi=J(De(),1);var P2=J(mt(),1),Ll=J(De(),1);function Kgr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var s9e=(0,Ll.forwardRef)(function({value:t,onBlur:r,onKeyDown:n,editable:i},o){let[a,c]=(0,Ll.useState)(t),p=(0,Ll.useMemo)(()=>Tr.getSettings().LANGUAGE_CODE===W_.DE?".":"/",[]),m=(0,Ll.useCallback)(S=>{let I=`${S.target.value}`;Kgr(I,p)||I.length>10||c(S.target.value)},[p]),g=(0,Ll.useCallback)(S=>{r(S,a)},[a,r]);return(0,Ll.useEffect)(()=>{c(t)},[t]),Ll.default.createElement("div",{className:"date-input-root"},Ll.default.createElement("input",{className:Ct(!i&&"readonly"),ref:o,value:a,onBlur:g,onKeyDown:n,onChange:m,readOnly:!i,tabIndex:i?void 0:-1}))});s9e.propTypes={value:P2.default.string.isRequired,onBlur:P2.default.func.isRequired,onKeyDown:P2.default.func.isRequired,editable:P2.default.bool};var SQ=s9e;var l9e=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,Bi.useState)(e),[a,c]=(0,Bi.useState)(!1),[p,m]=(0,Bi.useState)(0),[g,S]=(0,Bi.useState)(1),I=(0,Bi.useRef)(),M=(0,Bi.useRef)(),P=(0,Bi.useRef)(),{start:N,end:L}=(0,Bi.useMemo)(()=>({start:js(i[0]*1e3),end:js(i[1]*1e3)}),[i]),q=(0,Bi.useCallback)((Q,ee)=>{let ne=pX(ee).valueOf()/1e3,de=i[1];if(Q.relatedTarget!==M.current&&Q.relatedTarget!==P.current&&c(!1),!Qf(ne)||ne>de||ne<t){n([i[0],i[1]]),m(Date.now());return}n([ne,de])},[i]),j=(0,Bi.useCallback)((Q,ee)=>{let ne=i[0],de=pX(ee).valueOf()/1e3;if(Q.relatedTarget!==I.current&&Q.relatedTarget!==P.current&&c(!1),!Qf(de)||ne>de||de>r){n([i[0],i[1]]),S(Date.now());return}n([ne,de])},[i]),B=(0,Bi.useCallback)(Q=>{Q.key==="Enter"&&(Q.target===I.current&&M.current.focus(),Q.target===M.current&&(Q.target.blur(),c(!1)))},[]),H=(0,Bi.useCallback)(()=>{a||I.current.focus(),c(Q=>!Q)},[]);return(0,Bi.useEffect)(()=>{o(e)},[e]),Bi.default.createElement("div",{className:"timeslider-controls-root"},Bi.default.createElement(SQ,{ref:I,key:p,value:N,onBlur:q,onKeyDown:B,editable:a}),Bi.default.createElement("span",null,"\u2013"),Bi.default.createElement(SQ,{ref:M,key:g,value:L,onBlur:j,onKeyDown:B,editable:a}),Bi.default.createElement("button",{ref:P,className:Ct("edit-button",a&&"edit-state"),onClick:H},Bi.default.createElement(Ji,{name:"edit-inverse"})))};l9e.propTypes={values:Zx.default.arrayOf(Zx.default.number).isRequired,min:Zx.default.number.isRequired,max:Zx.default.number.isRequired,onChange:Zx.default.func.isRequired};var u9e=l9e;var qy=J(mt(),1),Yx=J(De(),1);var c9e=(0,Yx.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let a=(0,Yx.useMemo)(()=>Array.isArray(i)?n?`${js(i[0]*1e3)} - ${js(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?js(i*1e3):i,[i]);return Yx.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},a)});c9e.propTypes={className:qy.default.string,posX:qy.default.number.isRequired,shouldUseDate:qy.default.bool.isRequired,value:qy.default.oneOfType([qy.default.array,qy.default.number]).isRequired};var ok=c9e;var f9e=(e,t,r,n)=>{let i=e.map(m=>(m-t[0])/(t[1]-t[0])),o=i[0]*n,a=i[1]*n,c=EQ(o,r,n),p=EQ(a,r,n);return{posMin:c,posMax:p}},p9e=(e,t,r,n)=>{let a=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return EQ(a,r,n)},EQ=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var IQ=[1e3,1e3],TQ=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:a,showControls:c}=e,[p,m]=(0,wi.useState)(r),[g,S]=(0,wi.useState)(0),[I,M]=(0,wi.useState)(0),[P,N]=(0,wi.useState)(0),[L,q]=(0,wi.useState)({min:0,max:0}),[j,B]=(0,wi.useState)(0),[H,Q]=(0,wi.useState)(!1),ee=(0,wi.useRef)(),ne=(0,wi.useRef)(),de=(0,wi.useRef)(),ue=(0,wi.useCallback)(Ee=>{let{posMin:Re,posMax:Ie}=f9e(Ee,n,g,P);if(Math.abs(Re-Ie)<g){Q(!0);let $e=p9e(Ee,n,I,P);B($e);return}Q(!1),q({min:Re,max:Ie})},[n,g,P]),be=(0,wi.useCallback)(Ee=>{ue(Ee),m(Ee)},[ue]);return(0,wi.useEffect)(()=>{if(ee.current&&ne.current&&de.current){let Ee=ee.current.getBoundingClientRect().width,Re=ne.current.getBoundingClientRect().width,Ie=de.current.getBoundingClientRect().width;q({min:0,max:Ee-Re}),M(Ie),N(Ee),S(Re)}},[]),(0,wi.useEffect)(()=>{m(r),ue(r)},[r,ue]),wi.default.createElement("div",{className:"timeslider-container"},wi.default.createElement("div",{className:"timeslider-control-container"},wi.default.createElement("label",null,t),c&&wi.default.createElement(u9e,{min:n[0],max:n[1],values:p,onChange:be})),wi.default.createElement("div",{ref:ee,className:"slider-container"},wi.default.createElement(m3,Qe({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:be,onAfterChange:i,value:p},o)),wi.default.createElement(ok,{className:Ct("tooltip min-value",H&&"labels-too-close"),posX:L.min,ref:ne,value:H?IQ[0]:p[0],shouldUseDate:a}),wi.default.createElement(ok,{className:Ct("tooltip max-value",H&&"labels-too-close"),posX:L.max,value:H?IQ[1]:p[1],shouldUseDate:a}),wi.default.createElement(ok,{className:Ct("tooltip min-max-value",H&&"labels-too-close"),posX:j,ref:de,value:H?p:IQ,shouldUseDate:a})))};TQ.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};TQ.propTypes={title:rp.default.string.isRequired,values:rp.default.arrayOf(rp.default.number),timeRange:rp.default.arrayOf(rp.default.number),onChange:rp.default.func.isRequired,sliderProps:rp.default.object,shouldUseDate:rp.default.bool,showControls:rp.default.bool};var d9e=TQ;var ak=d9e;var h9e=(e,t)=>{let r="data:text/json;charset=utf-8,"+encodeURIComponent(t),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",`${e}.json`),n.click()};var Xgr=()=>{let[e,t]=(0,Ur.useState)(!1),[r,n]=(0,Ur.useState)(!1),[i,o]=(0,Ur.useState)([]),a=(0,Ur.useRef)([]),c=Fr(dd),{selectedLayer:p,lastUpdated:m}=Ft(s4e),g=Fr(ZI),{title:S,timePublished:I,layerId:M}=(0,Ur.useMemo)(()=>({title:p==null?void 0:p.getMetadata(vr.title),timePublished:p==null?void 0:p.getMetadata(vr.timePublished),layerId:p==null?void 0:p.getMetadata(vr.id)}),[p==null?void 0:p.getMetadata(vr.title),p==null?void 0:p.getMetadata(vr.timePublished)]),P=(0,Ur.useMemo)(()=>js(I),[I]),N=(0,Ur.useMemo)(()=>{var be,Ee;return(Ee=(be=p==null?void 0:p.getGeoJson())==null?void 0:be.features)!=null?Ee:[]},[p,m]),L=(0,Ur.useMemo)(()=>{let be=N.map(({properties:Ie})=>Ay(Ie[fs.time])).filter(Ie=>Qf(Ie)).sort((Ie,We)=>Ie.valueOf()-We.valueOf());if(be.length<2)return[];let Ee=t3(e3(be[0])),Re=t3(e3(be[be.length-1]));return Ee===Re?[]:(o([Ee,Re]),[Ee,Re])},[N]),q=(0,Ur.useMemo)(()=>L.length===2,[L]),j=(0,Ur.useMemo)(()=>{if(!(i.length===2))return N;let[Ee,Re]=i;return N.filter(({properties:Ie})=>{let We=Ie[fs.time],$e=t3(e3(Ay(We)));return Number.isNaN($e)?!0:$e>=Ee&&$e<=Re})},[N,L,i]),B=(0,Ur.useCallback)(()=>{c(void 0),ue()},[]),H=(0,Ur.useCallback)(()=>{t(!0),ue()},[]),Q=(0,Ur.useCallback)(()=>t(!1),[]),ee=(0,Ur.useCallback)(()=>{r?(a.current=i,o([])):o(a.current),n(!r)},[r,i]),ne=(0,Ur.useCallback)(()=>{let Ee=JSON.stringify({type:"FeatureCollection",features:j}),Re=p.getMetadata("title");h9e(Re,Ee)},[j]),de=(0,Ur.useCallback)(be=>{g({featureId:be,sourceId:M})},[M]),ue=(0,Ur.useCallback)(()=>{n(!1),o([]),a.current=[]},[]);return(0,Ur.useEffect)(()=>()=>{ue()},[p]),Ur.default.createElement(Ur.default.Fragment,null,Ur.default.createElement("div",{className:Ct("vkf-geojson-layer-view-root",Tt(p)&&"in")},Tt(p)&&Ur.default.createElement(Ur.default.Fragment,null,Ur.default.createElement(kx,{title:Ne("geojsonlayerpanel-header-title"),onCloseClick:e?Q:B}),Ur.default.createElement("div",{className:"headline-container"},Ur.default.createElement("div",{className:"geojson-headline--date"},P),Ur.default.createElement("div",{className:"title-row"},Ur.default.createElement("div",{className:"geojson-headline--title"},S),Ur.default.createElement(Fs,{className:"geojson-headline--button export-button",disabled:j.length===0,onClick:ne,title:Ne("layermanagement-export-geojson")},Ur.default.createElement(Ji,{name:"export-geojson"})),Ur.default.createElement(Fs,{className:"geojson-headline--button filter-button",disabled:e||!q,onClick:ee,title:Ne("layermanagement-filter-geojson-features")},Ur.default.createElement(Ji,{name:"filter"})))),Ur.default.createElement("div",{className:Ct("plain-divider",r&&"filtered")},Ur.default.createElement("span",{className:Ct("caret-container",r&&"filtered")},Ur.default.createElement(Ji,{name:"caret"}))),Ur.default.createElement("div",{className:Ct("filter-container",r&&"in")},!e&&q&&Ur.default.createElement(ak,{title:`${Ne("geojsonlayerpanel-timefilter-title")}: `,timeRange:L,onChange:be=>o(be),values:L,sliderProps:{step:86400,draggableTrack:!0},shouldUseDate:!0,showControls:!0})),Ur.default.createElement(JBe,{className:Ct("geojson-layer-feature-list-root ",e===!1&&["in","scrollable"]),features:j,onFeatureClick:de}),Ur.default.createElement(nUe,{className:Ct("geojson-layer-edit-panel-root",e===!0&&"in")}))))},m9e=Xgr;var g9e=m9e;var Bo=J(De(),1);var zy=J(mt(),1);var zd=J(De(),1);var Qgr=()=>{let e=Ft(Qr),[t,r]=(0,zd.useState)(!0),n=Ft(ai),i=Ne(t?"layermanagement-deactivate-all-maps":"layermanagement-activate-all-maps"),o=(0,zd.useCallback)(()=>{n.forEach(a=>{a.setVisibility(e,t?"none":"visible")})},[e,t,n]);return(0,zd.useEffect)(()=>{if(e){let a=()=>{let p=n.length===0?!0:n.some(m=>m.isVisible(e));r(p)},c=()=>{a()};return e._loaded?a():e.on("load",a),e.on(Fo.visibilityChanged,c),()=>{e.off(Fo.visibilityChanged,c),e.off("load",a)}}},[e,n]),zd.default.createElement("button",{onClick:o,className:Ct("deactivate-map-col-control",t?"deactivate":""),title:i,id:"deactivate-all-maps"},zd.default.createElement(us,{name:"layermanagement-deactivate","aria-labelledby":"deactivate-all-maps",alt:i}))},v9e=Qgr;var y9e=v9e;var ka=J(De(),1);var sk=J(mt(),1);var _9e=(e,t)=>{for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].forEach(i=>{i.setOpacity(t,0),i.setVisibility(t,"visible")})},x9e=e=>e.slice().sort((t,r)=>{let n=t.getMetadata(vr.timePublished),i=r.getMetadata(vr.timePublished);return n>i?1:n<i?-1:0}),b9e=(e,t)=>{let r={};return e.forEach(n=>{n.move(t,null);let i=n.getMetadata(vr.timePublished);i in r?r[i].push(n):r[i]=[n]}),r};var w9e=({animationOptions:e={}})=>{let[t,r]=(0,ka.useState)(!1),[n,i]=(0,ka.useState)(void 0),[o,a]=(0,ka.useState)(!1),c=Ft(Qr),p=Ne(`dynamicmapvis-${o?"close":"open"}`),[m,g]=zi(ai),S=(0,ka.useRef)(!1),I=B=>{let{layers:H,delay:Q=500}=B;H.forEach(ee=>{ee.setOpacity(c,0),ee.setVisibility(c,"visible")}),setTimeout(()=>{M(B)},Q)},M=B=>{var de;let{layers:H,steps:Q=.1,delay:ee=500,successCallback:ne}=B;if(S.current){let ue=((de=H[0].getOpacity(c))!=null?de:0)+Q;ue>1?(H.forEach(be=>{be.setOpacity(c,1)}),Tt(ne)&&ne()):(H.forEach(be=>{be.setOpacity(c,ue)}),setTimeout(()=>{M(B)},ee))}},P=B=>{let{sortedLayers:H,delay:Q=500}=B;if(_9e(H,c),S.current){let ne=Object.keys(H);if(ne.length>0){let de=ne[0],ue=H[de],ee=H,{[de]:be}=ee,Ee=En(ee,[Xre(de)]),Re=()=>{P(xr(Qe({},B),{sortedLayers:Ee}))};setTimeout(()=>{I(xr(Qe({},B),{layers:ue,successCallback:Re}),Q)}),i(de)}else L()}},N=()=>{r(!0),S.current=!0;let B=x9e(m),H=b9e(B,c);g(B),P(xr(Qe({},e),{sortedLayers:H}))},L=()=>{r(!1),S.current=!1,i(void 0)},q=B=>{B.preventDefault(),o?(L(),a(!1)):a(!0)},j=n&&n.length>4?n.split(" ")[2]:n;return ka.default.createElement("div",{className:Ct("vkf-dyn-vis-control",t&&"play",o&&"open"),title:p,"aria-label":p,id:"dynamic-map-visualization"},ka.default.createElement("button",{type:"button",className:"open-dyn-vis",onClick:q,"aria-labelledby":"dynamic-map-visualization"},ka.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg",alt:p},ka.default.createElement("path",{className:"arrow",d:"M14.822,4.521c0.057,-0.014 0.117,-0.021 0.178,-0.021c1.561,0 3.047,0.348 4.385,0.97c1.342,0.611 2.573,1.513 3.589,2.699c0.83,0.969 1.452,2.052 1.868,3.192c0.425,1.136 0.658,2.363 0.658,3.639c0,1.561 -0.348,3.047 -0.97,4.385c-0.611,1.342 -1.513,2.573 -2.699,3.589c-0.969,0.83 -2.052,1.452 -3.192,1.868c-1.136,0.425 -2.363,0.658 -3.639,0.658c-1.561,0 -3.047,-0.348 -4.385,-0.97c-1.342,-0.611 -2.573,-1.513 -3.589,-2.699l-0.488,-0.569c-0.075,-0.088 -0.126,-0.188 -0.154,-0.292c-1.033,-1.48 -1.696,-3.234 -1.85,-5.122l-1.685,1.685c-0.293,0.293 -0.768,0.293 -1.061,0c-0.293,-0.292 -0.293,-0.768 0,-1.06l3,-3c0.293,-0.293 0.768,-0.293 1.061,0l3,3c0.292,0.292 0.292,0.768 0,1.06c-0.293,0.293 -0.768,0.293 -1.061,0l-1.754,-1.754c0.286,3.268 2.35,6.059 5.208,7.389c2.154,0.98 4.642,1.084 6.877,0.268c2.229,-0.835 4.051,-2.533 5.049,-4.678c0.98,-2.154 1.084,-4.642 0.268,-6.877c-0.835,-2.229 -2.533,-4.051 -4.678,-5.049c-3.095,-1.408 -6.88,-1.008 -9.613,1.333c-0.315,0.269 -0.788,0.233 -1.058,-0.082c-0.269,-0.314 -0.233,-0.788 0.082,-1.057c1.921,-1.646 4.287,-2.469 6.653,-2.505Z"}),ka.default.createElement("path",{className:"minute-hand",d:"M14.238,8.795l0,5.47c0,0.414 0.336,0.75 0.75,0.75c0.414,0 0.75,-0.336 0.75,-0.75l0,-5.47c0,-0.414 -0.336,-0.75 -0.75,-0.75c-0.414,-0 -0.75,0.336 -0.75,0.75Z"}),ka.default.createElement("path",{className:"hour-hand",d:"M21.18,14.263l-5.47,-0c-0.414,-0 -0.75,0.336 -0.75,0.75c-0,0.413 0.336,0.75 0.75,0.75l5.47,-0c0.414,-0 0.75,-0.337 0.75,-0.75c0,-0.414 -0.336,-0.75 -0.75,-0.75Z"}))),ka.default.createElement("div",{className:"content"},ka.default.createElement("div",{className:Ct("feedback",n!==void 0&&"running")},j),ka.default.createElement("button",{"aria-label":Ne("dynamicmapvis-start"),className:"start-button",onClick:N,tabIndex:o?void 0:-1,title:Ne("dynamicmapvis-start"),type:"button"},"Start"),ka.default.createElement("button",{"aria-label":Ne("dynamicmapvis-stop"),className:"stop-button",onClick:L,tabIndex:o?void 0:-1,title:Ne("dynamicmapvis-stop"),type:"button"},"Stop")))};w9e.propTypes={animationOptions:sk.default.shape({delay:sk.default.number,steps:sk.default.number})};var S9e=w9e;var E9e=S9e;var Xn=J(De(),1);var I9e=J(De()),lk=(0,I9e.createContext)({dragDropManager:void 0});var NVe=J(O9e()),yk=J(De());var fu;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(fu||(fu={}));function yr(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;o=new Error(t.replace(/%s/g,function(){return n[a++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Kx="dnd-core/INIT_COORDS",Km="dnd-core/BEGIN_DRAG",Xx="dnd-core/PUBLISH_DRAG_SOURCE",Xm="dnd-core/HOVER",Qm="dnd-core/DROP",Jm="dnd-core/END_DRAG";function MQ(e,t){return{type:Kx,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function uk(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uk=function(r){return typeof r}:uk=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uk(e)}function D9e(e,t,r){return t.split(".").reduce(function(n,i){return n&&n[i]?n[i]:r||null},e)}function P9e(e,t){return e.filter(function(r){return r!==t})}function ck(e){return uk(e)==="object"}function L9e(e,t){var r=new Map,n=function(a){r.set(a,r.has(a)?r.get(a)+1:1)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(o,a){o===1&&i.push(a)}),i}function N9e(e,t){return e.filter(function(r){return t.indexOf(r)>-1})}var nvr={type:Kx,payload:{clientOffset:null,sourceClientOffset:null}};function R9e(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,o=i===void 0?!0:i,a=n.clientOffset,c=n.getSourceClientOffset,p=e.getMonitor(),m=e.getRegistry();e.dispatch(MQ(a)),ivr(r,p,m);var g=svr(r,p);if(g===null){e.dispatch(nvr);return}var S=null;if(a){if(!c)throw new Error("getSourceClientOffset must be defined");ovr(c),S=c(g)}e.dispatch(MQ(a,S));var I=m.getSource(g),M=I.beginDrag(p,g);if(M!=null){avr(M),m.pinSource(g);var P=m.getSourceType(g);return{type:Km,payload:{itemType:P,item:M,sourceId:g,clientOffset:a||null,sourceClientOffset:S||null,isSourcePublic:!!o}}}}}function ivr(e,t,r){yr(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){yr(r.getSource(n),"Expected sourceIds to be registered.")})}function ovr(e){yr(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function avr(e){yr(ck(e),"Item must be an object.")}function svr(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function k9e(e){return function(){var r=e.getMonitor();if(r.isDragging())return{type:Xx}}}function N2(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(r){return r===t}):e===t}function q9e(e){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;lvr(r);var o=r.slice(0),a=e.getMonitor(),c=e.getRegistry();uvr(o,a,c);var p=a.getItemType();return cvr(o,c,p),fvr(o,a,c),{type:Xm,payload:{targetIds:o,clientOffset:i||null}}}}function lvr(e){yr(Array.isArray(e),"Expected targetIds to be an array.")}function uvr(e,t,r){yr(t.isDragging(),"Cannot call hover while not dragging."),yr(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];yr(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var o=r.getTarget(i);yr(o,"Expected targetIds to be registered.")}}function cvr(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],o=t.getTargetType(i);N2(o,r)||e.splice(n,1)}}function fvr(e,t,r){e.forEach(function(n){var i=r.getTarget(n);i.hover(t,n)})}function j9e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j9e(Object(r),!0).forEach(function(n){pvr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j9e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pvr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9e(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();dvr(n);var o=gvr(n);o.forEach(function(a,c){var p=hvr(a,c,i,n),m={type:Qm,payload:{dropResult:z9e(z9e({},r),p)}};e.dispatch(m)})}}function dvr(e){yr(e.isDragging(),"Cannot call drop while not dragging."),yr(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function hvr(e,t,r,n){var i=r.getTarget(e),o=i?i.drop(n,e):void 0;return mvr(o),typeof o=="undefined"&&(o=t===0?{}:n.getDropResult()),o}function mvr(e){yr(typeof e=="undefined"||ck(e),"Drop result must either be an object or undefined.")}function gvr(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function B9e(e){return function(){var r=e.getMonitor(),n=e.getRegistry();vvr(r);var i=r.getSourceId();if(i!=null){var o=n.getSource(i,!0);o.endDrag(r,i),n.unpinSource()}return{type:Jm}}}function vvr(e){yr(e.isDragging(),"Cannot call endDrag while not dragging.")}function U9e(e){return{beginDrag:R9e(e),publishDragSource:k9e(e),hover:q9e(e),drop:F9e(e),endDrag:B9e(e)}}function yvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _vr(e,t,r){return t&&V9e(e.prototype,t),r&&V9e(e,r),e}function R2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G9e=function(){function e(t,r){var n=this;yvr(this,e),R2(this,"store",void 0),R2(this,"monitor",void 0),R2(this,"backend",void 0),R2(this,"isSetUp",!1),R2(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}return _vr(e,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function i(a){return function(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];var g=a.apply(r,p);typeof g!="undefined"&&n(g)}}var o=U9e(this);return Object.keys(o).reduce(function(a,c){var p=o[c];return a[c]=i(p),a},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),e}();function ac(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var H9e=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),AQ=function(){return Math.random().toString(36).substring(7).split("").join(".")},W9e={INIT:"@@redux/INIT"+AQ(),REPLACE:"@@redux/REPLACE"+AQ(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+AQ()}};function xvr(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function OQ(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ac(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(ac(1));return r(OQ)(e,t)}if(typeof e!="function")throw new Error(ac(2));var i=e,o=t,a=[],c=a,p=!1;function m(){c===a&&(c=a.slice())}function g(){if(p)throw new Error(ac(3));return o}function S(N){if(typeof N!="function")throw new Error(ac(4));if(p)throw new Error(ac(5));var L=!0;return m(),c.push(N),function(){if(L){if(p)throw new Error(ac(6));L=!1,m();var j=c.indexOf(N);c.splice(j,1),a=null}}}function I(N){if(!xvr(N))throw new Error(ac(7));if(typeof N.type=="undefined")throw new Error(ac(8));if(p)throw new Error(ac(9));try{p=!0,o=i(o,N)}finally{p=!1}for(var L=a=c,q=0;q<L.length;q++){var j=L[q];j()}return N}function M(N){if(typeof N!="function")throw new Error(ac(10));i=N,I({type:W9e.REPLACE})}function P(){var N,L=S;return N={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(ac(11));function B(){j.next&&j.next(g())}B();var H=L(B);return{unsubscribe:H}}},N[H9e]=function(){return this},N}return I({type:W9e.INIT}),n={dispatch:I,subscribe:S,getState:g,replaceReducer:M},n[H9e]=P,n}var bvr=function(t,r){return t===r};function $9e(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function Z9e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bvr;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Y9e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y9e(Object(r),!0).forEach(function(n){wvr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y9e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wvr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X9e={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Q9e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X9e,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Kx:case Km:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Xm:return $9e(e.clientOffset,r.clientOffset)?e:K9e(K9e({},e),{},{clientOffset:r.clientOffset});case Jm:case Qm:return X9e;default:return e;}}var k2="dnd-core/ADD_SOURCE",q2="dnd-core/ADD_TARGET",j2="dnd-core/REMOVE_SOURCE",jy="dnd-core/REMOVE_TARGET";function J9e(e){return{type:k2,payload:{sourceId:e}}}function eVe(e){return{type:q2,payload:{targetId:e}}}function tVe(e){return{type:j2,payload:{sourceId:e}}}function rVe(e){return{type:jy,payload:{targetId:e}}}function nVe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nVe(Object(r),!0).forEach(function(n){Svr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nVe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Svr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Evr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function iVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Evr,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Km:return sc(sc({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Xx:return sc(sc({},e),{},{isSourcePublic:!0});case Xm:return sc(sc({},e),{},{targetIds:r.targetIds});case jy:return e.targetIds.indexOf(r.targetId)===-1?e:sc(sc({},e),{},{targetIds:P9e(e.targetIds,r.targetId)});case Qm:return sc(sc({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Jm:return sc(sc({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e;}}function oVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k2:case q2:return e+1;case j2:case jy:return e-1;default:return e;}}var Qx=[],fk=[];Qx.__IS_NONE__=!0;fk.__IS_ALL__=!0;function aVe(e,t){if(e===Qx)return!1;if(e===fk||typeof t=="undefined")return!0;var r=N9e(t,e);return r.length>0}function sVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xm:break;case k2:case q2:case jy:case j2:return Qx;case Km:case Xx:case Jm:case Qm:default:return fk;}var r=t.payload,n=r.targetIds,i=n===void 0?[]:n,o=r.prevTargetIds,a=o===void 0?[]:o,c=L9e(i,a),p=c.length>0||!Z9e(i,a);if(!p)return Qx;var m=a[a.length-1],g=i[i.length-1];return m!==g&&(m&&c.push(m),g&&c.push(g)),c}function lVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function uVe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uVe(Object(r),!0).forEach(function(n){Ivr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uVe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ivr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:sVe(e.dirtyHandlerIds,{type:t.type,payload:cVe(cVe({},t.payload),{},{prevTargetIds:D9e(e,"dragOperation.targetIds",[])})}),dragOffset:Q9e(e.dragOffset,t),refCount:oVe(e.refCount,t),dragOperation:iVe(e.dragOperation,t),stateId:lVe(e.stateId)}}function Tvr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function pVe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dVe(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return!t||!r||!n?null:pVe(Tvr(t,n),r)}function hVe(e){var t=e.clientOffset,r=e.initialClientOffset;return!t||!r?null:pVe(t,r)}function Cvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mvr(e,t,r){return t&&mVe(e.prototype,t),r&&mVe(e,r),e}function gVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vVe=function(){function e(t,r){Cvr(this,e),gVe(this,"store",void 0),gVe(this,"registry",void 0),this.store=t,this.registry=r}return Mvr(e,[{key:"subscribeToStateChange",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;yr(typeof r=="function","listener must be a function."),yr(typeof o=="undefined"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,c=function(){var m=n.store.getState(),g=m.stateId;try{var S=g===a||g===a+1&&!aVe(m.dirtyHandlerIds,o);S||r()}finally{a=g}};return this.store.subscribe(c)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;yr(typeof r=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var c=n.store.getState().dragOffset;c!==i&&(i=c,r())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return yr(n,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(yr(n,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(r),o=this.getItemType();return N2(i,o)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(yr(n,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(r),o=this.getItemType();return i!==o?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var i=n.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(r),a=this.getItemType();if(a&&!N2(o,a))return!1;var c=this.getTargetIds();if(!c.length)return!1;var p=c.indexOf(r);return i?p===c.length-1:p>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return dVe(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return hVe(this.store.getState().dragOffset)}}]),e}();var Avr=0;function yVe(){return Avr++}function pk(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pk=function(r){return typeof r}:pk=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pk(e)}function _Ve(e){yr(typeof e.canDrag=="function","Expected canDrag to be a function."),yr(typeof e.beginDrag=="function","Expected beginDrag to be a function."),yr(typeof e.endDrag=="function","Expected endDrag to be a function.")}function xVe(e){yr(typeof e.canDrop=="function","Expected canDrop to be a function."),yr(typeof e.hover=="function","Expected hover to be a function."),yr(typeof e.drop=="function","Expected beginDrag to be a function.")}function dk(e,t){if(t&&Array.isArray(e)){e.forEach(function(r){return dk(r,!1)});return}yr(typeof e=="string"||pk(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var bVe=typeof global!="undefined"?global:self,wVe=bVe.MutationObserver||bVe.WebKitMutationObserver;function DQ(e){return function(){let r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),e()}}}function Ovr(e){let t=1,r=new wVe(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}var SVe=typeof wVe=="function"?Ovr:DQ;var hk=class{enqueueTask(t){let{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:t}=this;for(;this.index<t.length;){let r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=SVe(this.flush),this.requestErrorThrow=DQ(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var mk=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}};var gk=class{create(t){let r=this.freeTasks,n=r.length?r.pop():new mk(this.onError,i=>r[r.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}};var EVe=new hk,Dvr=new gk(EVe.registerPendingError);function IVe(e){EVe.enqueueTask(Dvr.create(e))}function Pvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lvr(e,t,r){return t&&TVe(e.prototype,t),r&&TVe(e,r),e}function Jx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nvr(e,t){return jvr(e)||qvr(e,t)||kvr(e,t)||Rvr()}function Rvr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kvr(e,t){if(e){if(typeof e=="string")return CVe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CVe(e,t)}}function CVe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qvr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function jvr(e){if(Array.isArray(e))return e}function zvr(e){var t=yVe().toString();switch(e){case fu.SOURCE:return"S".concat(t);case fu.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e));}}function MVe(e){switch(e[0]){case"S":return fu.SOURCE;case"T":return fu.TARGET;default:yr(!1,"Cannot parse handler ID: ".concat(e));}}function AVe(e,t){var r=e.entries(),n=!1;do{var i=r.next(),o=i.done,a=Nvr(i.value,2),c=a[1];if(c===t)return!0;n=!!o}while(!n);return!1}var OVe=function(){function e(t){Pvr(this,e),Jx(this,"types",new Map),Jx(this,"dragSources",new Map),Jx(this,"dropTargets",new Map),Jx(this,"pinnedSourceId",null),Jx(this,"pinnedSource",null),Jx(this,"store",void 0),this.store=t}return Lvr(e,[{key:"addSource",value:function(r,n){dk(r),_Ve(n);var i=this.addHandler(fu.SOURCE,r,n);return this.store.dispatch(J9e(i)),i}},{key:"addTarget",value:function(r,n){dk(r,!0),xVe(n);var i=this.addHandler(fu.TARGET,r,n);return this.store.dispatch(eVe(i)),i}},{key:"containsHandler",value:function(r){return AVe(this.dragSources,r)||AVe(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;yr(this.isSourceId(r),"Expected a valid source ID.");var i=n&&r===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(r);return o}},{key:"getTarget",value:function(r){return yr(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return yr(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return yr(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=MVe(r);return n===fu.SOURCE}},{key:"isTargetId",value:function(r){var n=MVe(r);return n===fu.TARGET}},{key:"removeSource",value:function(r){var n=this;yr(this.getSource(r),"Expected an existing source."),this.store.dispatch(tVe(r)),IVe(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){yr(this.getTarget(r),"Expected an existing target."),this.store.dispatch(rVe(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);yr(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){yr(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,i){var o=zvr(r);return this.types.set(o,n),r===fu.SOURCE?this.dragSources.set(o,i):r===fu.TARGET&&this.dropTargets.set(o,i),o}}]),e}();function DVe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=Fvr(n),o=new vVe(i,new OVe(i)),a=new G9e(i,o),c=e(a,t,r);return a.receiveBackend(c),a}function Fvr(e){var t=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return OQ(fVe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Bvr=["children"];function Uvr(e,t){return Wvr(e)||Hvr(e,t)||Gvr(e,t)||Vvr()}function Vvr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gvr(e,t){if(e){if(typeof e=="string")return PVe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PVe(e,t)}}function PVe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hvr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Wvr(e){if(Array.isArray(e))return e}function $vr(e,t){if(e==null)return{};var r=Zvr(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zvr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var LVe=0,vk=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),RVe=(0,yk.memo)(function(t){var r=t.children,n=$vr(t,Bvr),i=Yvr(n),o=Uvr(i,2),a=o[0],c=o[1];return(0,yk.useEffect)(function(){if(c){var p=kVe();return++LVe,function(){--LVe===0&&(p[vk]=null)}}},[]),(0,NVe.jsx)(lk.Provider,Object.assign({value:a},{children:r}),void 0)});function Yvr(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var r=Kvr(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[r,n]}function Kvr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kVe(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=t;return i[vk]||(i[vk]={dragDropManager:DVe(e,t,r,n)}),i[vk]}function kVe(){return typeof global!="undefined"?global:window}function Xvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qvr(e,t,r){return t&&qVe(e.prototype,t),r&&qVe(e,r),e}function jVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PQ=!1,LQ=!1,zVe=function(){function e(t){Xvr(this,e),jVe(this,"internalMonitor",void 0),jVe(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return Qvr(e,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){yr(!PQ,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return PQ=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{PQ=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;yr(!LQ,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return LQ=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{LQ=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function Jvr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eyr(e,t,r){return t&&FVe(e.prototype,t),r&&FVe(e,r),e}function BVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NQ=!1,UVe=function(){function e(t){Jvr(this,e),BVe(this,"internalMonitor",void 0),BVe(this,"targetId",null),this.internalMonitor=t.getMonitor()}return eyr(e,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;yr(!NQ,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return NQ=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{NQ=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();var z2=J(De());function tyr(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function ryr(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!(0,z2.isValidElement)(t)){var n=t;return e(n,r),n}var i=t;tyr(i);var o=r?function(a){return e(a,r)}:e;return nyr(i,o)}}function _k(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var i=ryr(n);t[r]=function(){return i}}}),t}function VVe(e,t){typeof e=="function"?e(t):e.current=t}function nyr(e,t){var r=e.ref;return yr(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,z2.cloneElement)(e,{ref:function(i){VVe(r,i),VVe(t,i)}}):(0,z2.cloneElement)(e,{ref:t})}function xk(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xk=function(r){return typeof r}:xk=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xk(e)}function F2(e){return e!==null&&xk(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function B2(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),p=0;p<o.length;p++){var m=o[p];if(!c(m))return!1;var g=e[m],S=t[m];if(i=r?r.call(n,g,S,m):void 0,i===!1||i===void 0&&g!==S)return!1}return!0}function iyr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oyr(e,t,r){return t&&GVe(e.prototype,t),r&&GVe(e,r),e}function ds(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HVe=function(){function e(t){var r=this;iyr(this,e),ds(this,"hooks",_k({dragSource:function(i,o){r.clearDragSource(),r.dragSourceOptions=o||null,F2(i)?r.dragSourceRef=i:r.dragSourceNode=i,r.reconnectDragSource()},dragPreview:function(i,o){r.clearDragPreview(),r.dragPreviewOptions=o||null,F2(i)?r.dragPreviewRef=i:r.dragPreviewNode=i,r.reconnectDragPreview()}})),ds(this,"handlerId",null),ds(this,"dragSourceRef",null),ds(this,"dragSourceNode",void 0),ds(this,"dragSourceOptionsInternal",null),ds(this,"dragSourceUnsubscribe",void 0),ds(this,"dragPreviewRef",null),ds(this,"dragPreviewNode",void 0),ds(this,"dragPreviewOptionsInternal",null),ds(this,"dragPreviewUnsubscribe",void 0),ds(this,"lastConnectedHandlerId",null),ds(this,"lastConnectedDragSource",null),ds(this,"lastConnectedDragSourceOptions",null),ds(this,"lastConnectedDragPreview",null),ds(this,"lastConnectedDragPreviewOptions",null),ds(this,"backend",void 0),this.backend=t}return oyr(e,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!B2(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!B2(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function ayr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function syr(e,t,r){return t&&WVe(e.prototype,t),r&&WVe(e,r),e}function np(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $Ve=function(){function e(t){var r=this;ayr(this,e),np(this,"hooks",_k({dropTarget:function(i,o){r.clearDropTarget(),r.dropTargetOptions=o,F2(i)?r.dropTargetRef=i:r.dropTargetNode=i,r.reconnect()}})),np(this,"handlerId",null),np(this,"dropTargetRef",null),np(this,"dropTargetNode",void 0),np(this,"dropTargetOptionsInternal",null),np(this,"unsubscribeDropTarget",void 0),np(this,"lastConnectedHandlerId",null),np(this,"lastConnectedDropTarget",null),np(this,"lastConnectedDropTargetOptions",null),np(this,"backend",void 0),this.backend=t}return syr(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!B2(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function ZVe(e,t,r){var n=r.getRegistry(),i=n.addTarget(e,t);return[i,function(){return n.removeTarget(i)}]}function YVe(e,t,r){var n=r.getRegistry(),i=n.addSource(e,t);return[i,function(){return n.removeSource(i)}]}var bk=J(De()),pu=typeof window!="undefined"?bk.useLayoutEffect:bk.useEffect;var Sk=J(De());function wk(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wk=function(r){return typeof r}:wk=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wk(e)}function lyr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uyr(e,t,r){return t&&KVe(e.prototype,t),r&&KVe(e,r),e}function RQ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XVe=function(){function e(t,r,n){lyr(this,e),RQ(this,"spec",void 0),RQ(this,"monitor",void 0),RQ(this,"connector",void 0),this.spec=t,this.monitor=r,this.connector=n}return uyr(e,[{key:"beginDrag",value:function(){var r,n=this.spec,i=this.monitor,o=null;return wk(n.item)==="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},(r=o)!==null&&r!==void 0?r:null}},{key:"canDrag",value:function(){var r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}},{key:"isDragging",value:function(r,n){var i=this.spec,o=this.monitor,a=i.isDragging;return a?a(o):n===r.getSourceId()}},{key:"endDrag",value:function(){var r=this.spec,n=this.monitor,i=this.connector,o=r.end;o&&o(n.getItem(),n),i.reconnect()}}]),e}();function QVe(e,t,r){var n=(0,Sk.useMemo)(function(){return new XVe(e,t,r)},[t,r]);return(0,Sk.useEffect)(function(){n.spec=e},[e]),n}var JVe=J(De());function lc(){var e=(0,JVe.useContext)(lk),t=e.dragDropManager;return yr(t!=null,"Expected drag drop context"),t}var eGe=J(De());function tGe(e){return(0,eGe.useMemo)(function(){var t=e.type;return yr(t!=null,"spec.type must be defined"),t},[e])}function cyr(e,t){return hyr(e)||dyr(e,t)||pyr(e,t)||fyr()}function fyr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pyr(e,t){if(e){if(typeof e=="string")return rGe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rGe(e,t)}}function rGe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dyr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function hyr(e){if(Array.isArray(e))return e}function nGe(e,t,r){var n=lc(),i=QVe(e,t,r),o=tGe(e);pu(function(){if(o!=null){var c=YVe(o,i,n),p=cyr(c,2),m=p[0],g=p[1];return t.receiveHandlerId(m),r.receiveHandlerId(m),g}},[n,t,r,i,o])}var iGe=J(De());function myr(e){return _yr(e)||yyr(e)||vyr(e)||gyr()}function gyr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vyr(e,t){if(e){if(typeof e=="string")return kQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kQ(e,t)}}function yyr(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _yr(e){if(Array.isArray(e))return kQ(e)}function kQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ek(e,t){var r=myr(t||[]);return t==null&&typeof e!="function"&&r.push(e),(0,iGe.useMemo)(function(){return typeof e=="function"?e():e},r)}var oGe=J(De());function aGe(){var e=lc();return(0,oGe.useMemo)(function(){return new zVe(e)},[e])}var sGe=J(De());function lGe(e,t){var r=lc(),n=(0,sGe.useMemo)(function(){return new HVe(r.getBackend())},[r]);return pu(function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,e]),pu(function(){return n.dragPreviewOptions=t||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,t]),n}var pGe=J(cGe()),Ik=J(De());function xyr(e,t){return Eyr(e)||Syr(e,t)||wyr(e,t)||byr()}function byr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wyr(e,t){if(e){if(typeof e=="string")return fGe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fGe(e,t)}}function fGe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Syr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Eyr(e){if(Array.isArray(e))return e}function dGe(e,t,r){var n=(0,Ik.useState)(function(){return t(e)}),i=xyr(n,2),o=i[0],a=i[1],c=(0,Ik.useCallback)(function(){var p=t(e);(0,pGe.default)(o,p)||(a(p),r&&r())},[o,e,r]);return pu(c),[o,c]}function Iyr(e,t){return Ayr(e)||Myr(e,t)||Cyr(e,t)||Tyr()}function Tyr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cyr(e,t){if(e){if(typeof e=="string")return hGe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hGe(e,t)}}function hGe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Myr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function Ayr(e){if(Array.isArray(e))return e}function mGe(e,t,r){var n=dGe(e,t,r),i=Iyr(n,2),o=i[0],a=i[1];return pu(function(){var p=e.getHandlerId();if(p!=null)return e.subscribeToStateChange(a,{handlerIds:[p]})},[e,a]),o}function Tk(e,t,r){return mGe(t,e||function(){return{}},function(){return r.reconnect()})}var qQ=J(De());function gGe(e){return(0,qQ.useMemo)(function(){return e.hooks.dragSource()},[e])}function vGe(e){return(0,qQ.useMemo)(function(){return e.hooks.dragPreview()},[e])}function yGe(e,t){var r=Ek(e,t);yr(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=aGe(),i=lGe(r.options,r.previewOptions);return nGe(r,n,i),[Tk(r.collect,n,i),gGe(i),vGe(i)]}var _Ge=J(De());function xGe(e){var t=e.accept;return(0,_Ge.useMemo)(function(){return yr(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}var Ck=J(De());function Oyr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dyr(e,t,r){return t&&bGe(e.prototype,t),r&&bGe(e,r),e}function wGe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SGe=function(){function e(t,r){Oyr(this,e),wGe(this,"spec",void 0),wGe(this,"monitor",void 0),this.spec=t,this.monitor=r}return Dyr(e,[{key:"canDrop",value:function(){var r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}},{key:"drop",value:function(){var r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}}]),e}();function EGe(e,t){var r=(0,Ck.useMemo)(function(){return new SGe(e,t)},[t]);return(0,Ck.useEffect)(function(){r.spec=e},[e]),r}function Pyr(e,t){return kyr(e)||Ryr(e,t)||Nyr(e,t)||Lyr()}function Lyr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nyr(e,t){if(e){if(typeof e=="string")return IGe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IGe(e,t)}}function IGe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ryr(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(p){o=!0,c=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function kyr(e){if(Array.isArray(e))return e}function TGe(e,t,r){var n=lc(),i=EGe(e,t),o=xGe(e);pu(function(){var c=ZVe(o,i,n),p=Pyr(c,2),m=p[0],g=p[1];return t.receiveHandlerId(m),r.receiveHandlerId(m),g},[n,t,i,r,o.map(function(a){return a.toString()}).join("|")])}var CGe=J(De());function MGe(){var e=lc();return(0,CGe.useMemo)(function(){return new UVe(e)},[e])}var AGe=J(De());function OGe(e){var t=lc(),r=(0,AGe.useMemo)(function(){return new $Ve(t.getBackend())},[t]);return pu(function(){return r.dropTargetOptions=e||null,r.reconnect(),function(){return r.disconnectDropTarget()}},[e]),r}var DGe=J(De());function PGe(e){return(0,DGe.useMemo)(function(){return e.hooks.dropTarget()},[e])}function Mk(e,t){var r=Ek(e,t),n=MGe(),i=OGe(r.options);return TGe(r,n,i),[Tk(r.collect,n,i),PGe(i)]}var tg=J(mt(),1);var Ak=J(De(),1);function LGe(e,t=300,r={}){let n=(0,Ak.useRef)(null),i=(0,Ak.useCallback)(o=>{n.current?(clearTimeout(n.current),n.current=null,e&&e(o)):n.current=setTimeout(()=>{r.onSingleTap&&r.onSingleTap(o),n.current=null},t)},[e,t,r.onSingleTap]);return e?{onClick:i}:{}}var uc=J(De(),1);var U2=J(mt(),1);var jQ=e=>{let{onEndDrag:t,onStartDrag:r,orientation:n="horizontal",layer:i}=e,o=Ft(Qr),[a,c]=(0,uc.useState)(i.getOpacity(o)*100),p=(0,uc.useRef)(null),m=0,g=100,S=(P,N)=>{if(n==="vertical"){var L=100-(P-m)/(g-m)*100;N.style.top=L+"%",N.innerHTML=P.toFixed(0)+"%";return}let q=(P-m)/(g-m)*100;N.style.left=q+"%",N.innerHTML=P+"%"},I=P=>{let{layerId:N}=P;if(N===i.getId()){let L=i.getOpacity(o)*100;c(L)}},M=P=>{c(P),Tt(o)&&i.setOpacity(o,P/100)};return(0,uc.useEffect)(()=>{S(Math.round(a),p.current)},[a]),(0,uc.useEffect)(()=>{if(o)return o.on(Fo.opacityChanged,I),()=>{o.off(Fo.opacityChanged,I)}},[o]),uc.default.createElement("div",{className:"opacity-container"},uc.default.createElement("div",{className:"slider-container"},uc.default.createElement(ik,{onAfterChange:t,onBeforeChange:r,onChange:M,value:a,vertical:n==="vertical"}),uc.default.createElement("div",{className:"tooltip value",ref:p},"100%")))};jQ.propTypes={onEndDrag:U2.default.func,onStartDrag:U2.default.func,layer:U2.default.object.isRequired,orientation:U2.default.oneOf(["horizontal","vertical"])};var eb=J(De(),1),NGe=J(mt(),1);var RGe=r=>{var n=r,{active:e}=n,t=En(n,["active"]);let i=Tr.getSettings();return eb.default.createElement("button",Qe({className:Ct("vkf-drag-button",e&&"active"),title:i==="de"?"Ebene verschieben":"Move layer"},t),eb.default.createElement("span",null),eb.default.createElement("span",null),eb.default.createElement("span",null),eb.default.createElement("span",null))};RGe.propTypes={active:NGe.default.bool};var kGe=RGe;var qGe=J(mt(),1),eg=J(De(),1);var jGe=e=>{let{layer:t}=e,r=t.getMetadata(vr.title),n=Ft(Qr),i=(0,eg.useMemo)(()=>t.isVisible(n),[t,n]),[o,a]=(0,eg.useState)(i),c=m=>{m.preventDefault(),m.stopPropagation(),a(!o),n&&t.setVisibility(n,o?"none":"visible")},p=({layerId:m,value:g})=>{m===t.getId()&&a(g==="visible")};return(0,eg.useEffect)(()=>{if(n)return n.on(Fo.visibilityChanged,p),()=>{n.off(Fo.visibilityChanged,p)}},[n]),eg.default.createElement("button",{className:Ct("disable-layer minimize-tool",o?"record-visible":"record-hidden"),onClick:c,type:"button",title:Ne("layermanagement-show-map")},` ${Ne("layermanagement-show-map")}: ${r}`)};jGe.propTypes={layer:qGe.default.object};var zGe=jGe;var cc=us;var zQ=J(De(),1);var FGe=J(mt(),1);var BGe=e=>{let{layer:t}=e,r=Ft(Qr),n=Fr(ai);return zQ.default.createElement("button",{className:"remove-layer minimize-tool",onClick:o=>{o.stopPropagation(),Tt(r)&&(t.removeMapLibreLayers(r),n(a=>a.filter(c=>c.getId()!==t.getId())))},type:"button",title:Ne("layermanagement-remove-map")},zQ.default.createElement(cc,{name:"layeraction-remove-map"}))};BGe.propTypes={layer:FGe.default.object.isRequired};var UGe=BGe;var FQ=J(De(),1);var VGe=J(mt(),1);var GGe=e=>{let{layer:t}=e,r=Ft(Qr);return FQ.default.createElement("button",{className:"zoom-layer minimize-tool",onClick:()=>{if(Tt(r)){let i=t.getMetadata(vr.bounds);r.fitBounds(i,{padding:{left:350,right:350,top:50,bottom:50},animate:!1})}},type:"button",title:Ne("layermanagement-zoom-to-map")},FQ.default.createElement(cc,{name:"layeraction-center"}))};GGe.propTypes={layer:VGe.default.object.isRequired};var HGe=GGe;var BQ=J(De(),1);var WGe=J(mt(),1),$Ge=e=>{let{layer:t}=e,r=Ft(Qr),n=Fr(ai);return BQ.default.createElement("button",{className:"move-layer-top minimize-tool",onClick:o=>{o.stopPropagation(),t.moveToTop(r),n(a=>[...a.filter(c=>c!==t),t])},type:"button",title:Ne("layermanagement-move-top")},BQ.default.createElement(us,{name:"layeraction-totop"}))};$Ge.propTypes={layer:WGe.default.object.isRequired};var ZGe=$Ge;var du=J(De(),1);var YGe=J(mt(),1);var KGe=e=>{let{layer:t}=e,r=Tr.getSettings(),[n,i]=(0,du.useState)(t.getMetadata(vr.thumbnailUrl)),o=t.getType(),a=t.getMetadata(vr.title),c=t.getMetadata(vr.type)===_o.MOSAIC_MAP,p=()=>{n!==r2&&i(r2)};return du.default.createElement("div",{className:"thumbnail-container"},o===_o.GEOJSON?du.default.createElement(du.default.Fragment,null,du.default.createElement("img",{src:r.FALLBACK_THUMBNAIL,alt:`GeoJSON Image for ${a}`}),du.default.createElement("span",{className:"geojson-badge"},"GeoJSON")):c?du.default.createElement(du.default.Fragment,null,du.default.createElement("img",{onError:p,src:n,alt:`Mosaic Thumbnail Image of Map for ${a}`}),du.default.createElement("span",{className:"mosaic-badge"},Ne("mosaic-badge-title"))):du.default.createElement("img",{onError:p,src:n,alt:`Thumbnail Image of Map for ${a}`}))};KGe.propTypes={layer:YGe.default.object.isRequired};var XGe=KGe;var V2=J(De(),1);var QGe=J(mt(),1),JGe=({layer:e})=>{let t=Fr(CN),r=(0,V2.useCallback)(()=>{t(e.getId())},[e]);return V2.default.createElement("button",{className:"show-original",onClick:r,type:"button",title:Ne("layermanagement-show-original")},V2.default.createElement(cc,{name:"layeraction-showoriginal"}))};JGe.propTypes={layer:QGe.default.object};var eHe=JGe;var G2=J(De(),1),tHe=J(mt(),1);var rHe=({layer:e})=>{let t=Fr(dd),r=(0,G2.useCallback)(()=>{e&&Tt(e.getId())&&t(e.getId())},[e]);return G2.default.createElement("button",{className:"show-geojson-layer",onClick:r,type:"button",title:Ne("layermanagement-show-geojson")},G2.default.createElement(us,{name:"layermanagement-show-geojson"}))};rHe.propTypes={layer:tHe.default.instanceOf(yd).isRequired};var nHe=rHe;var iHe={LAYER:"LAYER"},oHe=e=>{let{id:t,index:r,layer:n,onMoveLayer:i}=e,[o,a]=(0,Xn.useState)(!1),[c,p]=(0,Xn.useState)(!1),[m,g]=(0,Xn.useState)(!1),[S,I]=(0,Xn.useState)(!1),M=(0,Xn.useRef)(null),P=Tr.getSettings(),[{handlerId:N},L]=Mk({accept:iHe.LAYER,collect(Fe){return{handlerId:Fe.getHandlerId()}},hover(Fe,je){var it;if(!M.current)return;let Ce=Fe.index,Xe=r;if(Ce===Xe)return;let et=(it=M.current)==null?void 0:it.getBoundingClientRect(),st=(et.bottom-et.top)/2,Ke=je.getClientOffset().y-et.top;Ce<Xe&&Ke<st||Ce>Xe&&Ke>st||(i(Ce,Xe),Fe.index=Xe)}}),[{draggedItem:q,isDragging:j},B]=yGe({type:iHe.LAYER,item:()=>({id:t,index:r}),collect:Fe=>({isDragging:Fe.isDragging(),draggedItem:Fe.getItem()})}),H=()=>setTimeout(()=>{M.current!==null&&(M.current.contains(document.activeElement)||ee())},100),Q=()=>{a(!0)},ee=()=>{a(!1)},ne=LGe(()=>{g(Fe=>!Fe)},500),de=()=>{p(!0)},ue=()=>{p(!1)};(0,Xn.useEffect)(()=>{o?q===null&&!S&&I(!0):q!==void 0&&!c&&I(!1)},[o,S,c,q]),B(L(M));let be=n.getId(),Ee=n.getType(),Re=n.getMetadata(vr.timePublished),Ie=n.getMetadata(vr.title),$e=n.getMetadata(vr.type)==="mosaic";return Xn.default.createElement("li",xr(Qe({className:Ct("vkf-layermanagement-record",j&&"drag-and-drop-placeholder",m&&"show-actions",Ee===_o.GEOJSON&&"geojson-data",S&&(q===null||q.id===be)&&"force-hover"),id:r,"data-id":be,"data-handler-id":N,onFocus:Q,onBlur:H,onMouseEnter:Q,onMouseOver:Q,onMouseLeave:ee},ne),{ref:M}),Xn.default.createElement("div",{className:"visibility-container"},Xn.default.createElement(zGe,{layer:n})),Xn.default.createElement(XGe,{layer:n}),Xn.default.createElement("div",{className:"metadata-container"},Xn.default.createElement("h3",null,Ie),Xn.default.createElement("div",{className:"timestamps"},Xn.default.createElement("span",{className:"timestamps-label"},`${Ne("layermanagement-timestamp")} ${Ee===_o.GEOJSON?js(Re):Re}`)),$e&&Xn.default.createElement("div",{className:"type"},Xn.default.createElement("span",{className:"timestamps-label"},`${Ne("originalview-title-mosaic")}`))),Xn.default.createElement("div",{className:"control-container"},Xn.default.createElement(ZGe,{layer:n}),Xn.default.createElement(UGe,{layer:n}),Xn.default.createElement(HGe,{layer:n}),Ee!==_o.GEOJSON?Xn.default.createElement(eHe,{layer:n}):Xn.default.createElement(nHe,{layer:n}),!$e&&P.LINK_TO_GEOREFERENCE!==void 0&&Ee!==_o.GEOJSON&&Xn.default.createElement("button",{className:"georeference-update",title:`${Ne("layermangement-georef-update")} ...`,onClick:()=>{window.open(`${P.LINK_TO_GEOREFERENCE}?map_id=${be}`,"_blank")}},Xn.default.createElement(us,{name:"icon-point-move"})),Xn.default.createElement(jQ,{onStartDrag:de,onEndDrag:ue,orientation:"horizontal",layer:n})),Xn.default.createElement("div",{className:"drag-container"},Xn.default.createElement(kGe,{tabIndex:-1})))};oHe.propTypes={id:tg.default.string,index:tg.default.number,layer:tg.default.oneOfType([tg.default.instanceOf(yd),tg.default.instanceOf(Gc)]),onMoveLayer:tg.default.func,showActions:tg.default.func};var aHe=oHe;var sHe=aHe;var fc=J(De(),1);var lHe=J(mt(),1);var Ok=(e,t,r)=>{let n=new FileReader;n.onloadend=function(){try{t({content:JSON.parse(this.result),modified:e.lastModified,name:e.name.split(".")[0]})}catch(i){console.log(i),r()}},n.readAsText(e)};var uHe=({onAddGeoJson:e})=>{let[t,r]=(0,fc.useState)(!1),n=Fr(gl),i=(0,fc.useRef)(),o=()=>{r(!0)},a=()=>{r(!1)},c=()=>{i.current!==void 0&&i.current!==null&&(a(),i.current.click(),document.activeElement.blur())},p=()=>{n({id:"geojsonUploadHint",type:"danger",text:Ne("mapwrapper-geojson-parse-error")})},m=g=>{let S=g.target.files[0];Ok(S,e,p)};return fc.default.createElement("div",{className:Ct("geojson-upload-hint",t&&"show"),"aria-describedby":"geojson-upload-label"},fc.default.createElement("button",{className:"geojson-upload",onMouseEnter:o,onMouseLeave:a,onClick:c},fc.default.createElement(cc,{name:"layermanagement-upload"}),fc.default.createElement("span",{className:"label",id:"geojson-upload-label"},Ne("geojson-adddialog-title"))),fc.default.createElement("div",{className:"upload-info"},Ne("geojson-adddialog-body")),fc.default.createElement("label",{className:"visually-hidden",htmlFor:"geojson-upload-file"},"GeoJSON Upload"),fc.default.createElement("input",{id:"geojson-upload-file",accept:"application/json, application/geo+json, .geojson",className:"hidden-file-input",type:"file",ref:i,onChange:m}))};uHe.propTypes={onAddGeoJson:lHe.default.func};var cHe=uHe;var fHe=cHe;var pHe=({onAddGeoJson:e,showControls:t={showBadge:!0,showHideButton:!0,showDynamicMapVisualization:!0},showHeader:r=!0})=>{let{showBadge:n,showDynamicMapVisualization:i,showHideButton:o}=t,a=Ft(Qr),c=Ft(dd),[p,m]=zi(ai),g=(0,Bo.useMemo)(()=>Tt(c),[c]),S=(0,Bo.useMemo)(()=>p.toReversed(),[p]),I=(0,Bo.useRef)();K_(I,"layermanagement");let M=(P,N)=>{let L=[...S],q=L.splice(P,1)[0];L.splice(N,0,q);let j=N-1,B=j<0?null:L[j].getMapLibreLayerId();q.move(a,B),m(L.reverse())};return Bo.default.createElement("div",{className:Ct("vkf-layermanagement-root",!g&&"in"),ref:I},n&&p.length!==0&&Bo.default.createElement("span",{className:"badge"},p.length),r&&Bo.default.createElement("div",{className:"heading"},Bo.default.createElement("span",{className:"header-label"},Ne("layermanagement-header-lbl")),Bo.default.createElement("div",{className:"header-functions"},Bo.default.createElement(fHe,{onAddGeoJson:e}),o&&Bo.default.createElement(y9e,null),i&&Bo.default.createElement(E9e,{animationOptions:{delay:30,steps:.01}}))),Bo.default.createElement("ul",{className:"layermanagement-body"},p===void 0||p.length===0?Bo.default.createElement("li",{className:"empty"},Bo.default.createElement("h4",null,Ne("layermanagement-start-msg-header")),Bo.default.createElement("p",null,Ne("layermanagement-start-msg-body"))):S.map((P,N)=>{let L=P.getId();return Bo.default.createElement(sHe,{onMoveLayer:M,layer:P,index:N,key:L,id:L})})))};pHe.propTypes={onAddGeoJson:zy.default.func,showControls:zy.default.shape({showBadge:zy.default.bool,showDynamicMapVisualization:zy.default.bool,showHideButton:zy.default.bool}),showHeader:zy.default.bool};var Dk=pHe;var ng=J(De(),1);var Hk=J(mt(),1);var Pk=J(De(),1);var dHe=()=>{let e=Ft(Pm),[t,r]=zi(Dm),n=(0,Pk.useCallback)(i=>r(i),[]);return Pk.default.createElement(ak,{title:Ne("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};dHe.propTypes={};var hHe=dHe;var Lk=hHe;var Vk=J(De(),1);var By=J(De(),1),NJ=J(mt(),1);var Vs=J(De(),1);var Dt=J(mt()),wt=J(De()),$yr=J(wHe());function SHe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function EHe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function VQ(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return EHe(r.overflowY,t)||EHe(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(a){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function kk(e,t,r,n,i,o,a,c){return o<e&&a>t||o>e&&a<t?0:o<=e&&c<=r||a>=t&&c>=r?o-e-n:a>t&&c<r||o<e&&c>r?a-t+i:0}var IHe=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,c=t.skipOverflowHiddenElements,p=typeof a=="function"?a:function(Te){return Te!==a};if(!SHe(e))throw new TypeError("Invalid target");for(var m,g,S=document.scrollingElement||document.documentElement,I=[],M=e;SHe(M)&&p(M);){if((M=(g=(m=M).parentElement)==null?m.getRootNode().host||null:g)===S){I.push(M);break}M!=null&&M===document.body&&VQ(M)&&!VQ(document.documentElement)||M!=null&&VQ(M,c)&&I.push(M)}for(var P=r.visualViewport?r.visualViewport.width:innerWidth,N=r.visualViewport?r.visualViewport.height:innerHeight,L=window.scrollX||pageXOffset,q=window.scrollY||pageYOffset,j=e.getBoundingClientRect(),B=j.height,H=j.width,Q=j.top,ee=j.right,ne=j.bottom,de=j.left,ue=i==="start"||i==="nearest"?Q:i==="end"?ne:Q+B/2,be=o==="center"?de+H/2:o==="end"?ee:de,Ee=[],Re=0;Re<I.length;Re++){var Ie=I[Re],We=Ie.getBoundingClientRect(),$e=We.height,Fe=We.width,je=We.top,Ce=We.right,Xe=We.bottom,et=We.left;if(n==="if-needed"&&Q>=0&&de>=0&&ne<=N&&ee<=P&&Q>=je&&ne<=Xe&&de>=et&&ee<=Ce)return Ee;var st=getComputedStyle(Ie),Ge=parseInt(st.borderLeftWidth,10),Ke=parseInt(st.borderTopWidth,10),it=parseInt(st.borderRightWidth,10),Le=parseInt(st.borderBottomWidth,10),he=0,Be=0,Me="offsetWidth"in Ie?Ie.offsetWidth-Ie.clientWidth-Ge-it:0,tt="offsetHeight"in Ie?Ie.offsetHeight-Ie.clientHeight-Ke-Le:0,Je="offsetWidth"in Ie?Ie.offsetWidth===0?0:Fe/Ie.offsetWidth:0,xt="offsetHeight"in Ie?Ie.offsetHeight===0?0:$e/Ie.offsetHeight:0;if(S===Ie)he=i==="start"?ue:i==="end"?ue-N:i==="nearest"?kk(q,q+N,N,Ke,Le,q+ue,q+ue+B,B):ue-N/2,Be=o==="start"?be:o==="center"?be-P/2:o==="end"?be-P:kk(L,L+P,P,Ge,it,L+be,L+be+H,H),he=Math.max(0,he+q),Be=Math.max(0,Be+L);else{he=i==="start"?ue-je-Ke:i==="end"?ue-Xe+Le+tt:i==="nearest"?kk(je,Xe,$e,Ke,Le+tt,ue,ue+B,B):ue-(je+$e/2)+tt/2,Be=o==="start"?be-et-Ge:o==="center"?be-(et+Fe/2)+Me/2:o==="end"?be-Ce+it+Me:kk(et,Ce,Fe,Ge,it+Me,be,be+H,H);var bt=Ie.scrollLeft,yt=Ie.scrollTop;ue+=yt-(he=Math.max(0,Math.min(yt+he/xt,Ie.scrollHeight-$e/xt+tt))),be+=bt-(Be=Math.max(0,Math.min(bt+Be/Je,Ie.scrollWidth-Fe/Je+Me)))}Ee.push({el:Ie,top:he,left:Be})}return Ee};var eC=function(){return eC=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},eC.apply(this,arguments)};var Zyr=0;function oC(){}function Yyr(e,t){if(!e)return;IHe(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:a}=n;i.scrollTop=o,i.scrollLeft=a})}function THe(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function HQ(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n(),r=setTimeout(()=>{r=null,e(...a)},t)}return i.cancel=n,i}function Uo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(c=>(c&&c(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function ip(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function Kyr(){return String(Zyr++)}function Xyr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function qk(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=LHe(t,n)?t[n]:e[n],r),{})}function LHe(e,t){return e[t]!==void 0}function nC(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function iC(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let a=t+e;a<0?a=i?o:0:a>o&&(a=i?0:o);let c=Fy(e,a,r,n,i);return c===-1?t>=r?-1:t:c}function Fy(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let a=t+1;a<r;a++)if(!n(a).hasAttribute("disabled"))return a}else for(let a=t-1;a>=0;a--)if(!n(a).hasAttribute("disabled"))return a;return i?e>0?Fy(1,0,r,n,!1):Fy(-1,r-1,r,n,!1):-1}function CHe(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(THe(i,e,r)||n&&THe(i,r.document.activeElement,r)))}var Qyr=HQ(e=>{RHe(e).textContent=""},500);function NHe(e,t){let r=RHe(t);e&&(r.textContent=e,Qyr(t))}function RHe(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var kHe={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Jyr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(a=>{e0r(a,e,t,r),r[a]!==t[a]&&(o[a]=r[a])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(Qe({type:i},o))}function e0r(e,t,r,n){let{props:i,type:o}=t,a=`on${$Q(e)}Change`;i[a]&&n[e]!==void 0&&n[e]!==r[e]&&i[a](Qe({type:o},n))}function t0r(e,t){return t.changes}function r0r(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var n0r=HQ((e,t)=>{NHe(e(),t)},200),i0r=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?wt.useLayoutEffect:wt.useEffect;function qHe(e){let{id:t=`downshift-${Kyr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:a}=e;return(0,wt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(p=>`${t}-item-${p}`),toggleButtonId:o||`${t}-toggle-button`,inputId:a||`${t}-input`}).current}function WQ(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function o0r(e){return e?String(e):""}function MHe(e){return /^\S{1}$/.test(e)}function $Q(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function Bk(e){let t=(0,wt.useRef)(e);return t.current=e,t}function jHe(e,t,r){let n=(0,wt.useRef)(),i=(0,wt.useRef)(),o=(0,wt.useCallback)((S,I)=>{i.current=I,S=qk(S,I.props);let M=e(S,I);return I.props.stateReducer(S,xr(Qe({},I),{changes:M}))},[e]),[a,c]=(0,wt.useReducer)(o,t),p=Bk(r),m=(0,wt.useCallback)(S=>c(Qe({props:p.current},S)),[p]),g=i.current;return(0,wt.useEffect)(()=>{g&&n.current&&n.current!==a&&Jyr(g,qk(n.current,g.props),a),n.current=a},[a,r,g]),[a,m]}function zHe(e,t,r){let[n,i]=jHe(e,t,r);return[qk(n,r),i]}var rC={itemToString:o0r,stateReducer:t0r,getA11ySelectionMessage:r0r,scrollIntoView:Yyr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function Us(e,t,r){r===void 0&&(r=kHe);let n=e[`default${$Q(t)}`];return n!==void 0?n:r[t]}function tC(e,t,r){r===void 0&&(r=kHe);let n=e[t];if(n!==void 0)return n;let i=e[`initial${$Q(t)}`];return i!==void 0?i:Us(e,t,r)}function FHe(e){let t=tC(e,"selectedItem"),r=tC(e,"isOpen"),n=tC(e,"highlightedIndex"),i=tC(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function tb(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:a}=e,{selectedItem:c,highlightedIndex:p}=t;return i.length===0?-1:o!==void 0&&p===o?o:a!==void 0?a:c?r===0?i.indexOf(c):iC(r,i.indexOf(c),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function BHe(e,t,r,n){let i=(0,wt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,wt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},a=g=>{i.current.isMouseDown=!1,e&&!CHe(g.target,t.map(S=>S.current),r)&&n()},c=()=>{i.current.isTouchMove=!1},p=()=>{i.current.isTouchMove=!0},m=g=>{e&&!i.current.isTouchMove&&!CHe(g.target,t.map(S=>S.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",a),r.addEventListener("touchstart",c),r.addEventListener("touchmove",p),r.addEventListener("touchend",m),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",a),r.removeEventListener("touchstart",c),r.removeEventListener("touchmove",p),r.removeEventListener("touchend",m)}},[e,r]),i}var ZQ=()=>oC;function jk(e,t,r){let p=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:a}=p,c=En(p,["isInitialMount","highlightedIndex","items","environment"]);(0,wt.useEffect)(()=>{n||n0r(()=>e(Qe({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},c)),a.document)},t)}function UHe(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:a}=e,c=(0,wt.useRef)(!0);return i0r(()=>{t<0||!r||!Object.keys(n.current).length||(c.current===!1?c.current=!0:a(i(t),o))},[t]),c}var YQ=oC;function VHe(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:tb(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:tb(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Us(i,"highlightedIndex"),isOpen:Us(i,"isOpen"),selectedItem:Us(i,"selectedItem"),inputValue:Us(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.");}return Qe(Qe({},e),o)}function AHe(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,a=t.toLowerCase(),c=0;c<n.length;c++){var p=(c+r+1)%n.length,m=n[p];if(m!==void 0&&i(m).toLowerCase().startsWith(a)){var g=o(p);if(!(g!=null&&g.hasAttribute("disabled")))return p}}return r}var e0n={items:Dt.default.array.isRequired,itemToString:Dt.default.func,getA11yStatusMessage:Dt.default.func,getA11ySelectionMessage:Dt.default.func,circularNavigation:Dt.default.bool,highlightedIndex:Dt.default.number,defaultHighlightedIndex:Dt.default.number,initialHighlightedIndex:Dt.default.number,isOpen:Dt.default.bool,defaultIsOpen:Dt.default.bool,initialIsOpen:Dt.default.bool,selectedItem:Dt.default.any,initialSelectedItem:Dt.default.any,defaultSelectedItem:Dt.default.any,id:Dt.default.string,labelId:Dt.default.string,menuId:Dt.default.string,getItemId:Dt.default.func,toggleButtonId:Dt.default.string,stateReducer:Dt.default.func,onSelectedItemChange:Dt.default.func,onHighlightedIndexChange:Dt.default.func,onStateChange:Dt.default.func,onIsOpenChange:Dt.default.func,environment:Dt.default.shape({addEventListener:Dt.default.func,removeEventListener:Dt.default.func,document:Dt.default.shape({getElementById:Dt.default.func,activeElement:Dt.default.any,body:Dt.default.any})})};function a0r(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var s0r=eC(eC({},rC),{getA11yStatusMessage:a0r}),l0r=oC,KQ=0,XQ=1,QQ=2,JQ=3,eJ=4,tJ=5,rJ=6,nJ=7,zk=8,GHe=9,HHe=10,iJ=11,WHe=12,oJ=13,aJ=14,sJ=15,$He=16,ZHe=17,YHe=18,KHe=19,lJ=20,GQ=21,XHe=22,QHe=Object.freeze({__proto__:null,MenuKeyDownArrowDown:KQ,MenuKeyDownArrowUp:XQ,MenuKeyDownEscape:QQ,MenuKeyDownHome:JQ,MenuKeyDownEnd:eJ,MenuKeyDownEnter:tJ,MenuKeyDownSpaceButton:rJ,MenuKeyDownCharacter:nJ,MenuBlur:zk,MenuMouseLeave:GHe,ItemMouseMove:HHe,ItemClick:iJ,ToggleButtonClick:WHe,ToggleButtonKeyDownArrowDown:oJ,ToggleButtonKeyDownArrowUp:aJ,ToggleButtonKeyDownCharacter:sJ,FunctionToggleMenu:$He,FunctionOpenMenu:ZHe,FunctionCloseMenu:YHe,FunctionSetHighlightedIndex:KHe,FunctionSelectItem:lJ,FunctionSetInputValue:GQ,FunctionReset:XHe});function u0r(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case iJ:o={isOpen:Us(n,"isOpen"),highlightedIndex:Us(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case sJ:{let a=t.key,c=`${e.inputValue}${a}`,p=AHe({keysSoFar:c,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=Qe({inputValue:c},p>=0&&{selectedItem:n.items[p]})}break;case oJ:o={highlightedIndex:tb(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case aJ:o={highlightedIndex:tb(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case tJ:case rJ:o=Qe({isOpen:Us(n,"isOpen"),highlightedIndex:Us(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case JQ:o={highlightedIndex:Fy(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case eJ:o={highlightedIndex:Fy(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case QQ:o={isOpen:!1,highlightedIndex:-1};break;case zk:o={isOpen:!1,highlightedIndex:-1};break;case nJ:{let a=t.key,c=`${e.inputValue}${a}`,p=AHe({keysSoFar:c,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=Qe({inputValue:c},p>=0&&{highlightedIndex:p})}break;case KQ:o={highlightedIndex:iC(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case XQ:o={highlightedIndex:iC(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case lJ:o={selectedItem:t.selectedItem};break;default:return VHe(e,t,QHe);}return Qe(Qe({},e),o)}JHe.stateChangeTypes=QHe;function JHe(e){e===void 0&&(e={}),l0r(e,JHe);let t=Qe(Qe({},s0r),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:a,itemToString:c,getA11ySelectionMessage:p,getA11yStatusMessage:m}=t,g=FHe(t),[S,I]=zHe(u0r,g,t),{isOpen:M,highlightedIndex:P,selectedItem:N,inputValue:L}=S,q=(0,wt.useRef)(null),j=(0,wt.useRef)(null),B=(0,wt.useRef)({}),H=(0,wt.useRef)(!0),Q=(0,wt.useRef)(null),ee=qHe(t),ne=(0,wt.useRef)(),de=(0,wt.useRef)(!0),ue=Bk({state:S,props:t}),be=(0,wt.useCallback)(Be=>B.current[ee.getItemId(Be)],[ee]);jk(m,[M,P,L,r],Qe({isInitialMount:de.current,previousResultCount:ne.current,items:r,environment:i,itemToString:c},S)),jk(p,[N],Qe({isInitialMount:de.current,previousResultCount:ne.current,items:r,environment:i,itemToString:c},S));let Ee=UHe({menuElement:j.current,highlightedIndex:P,isOpen:M,itemRefs:B,scrollIntoView:n,getItemNodeFromIndex:be});(0,wt.useEffect)(()=>(Q.current=HQ(Be=>{Be({type:GQ,inputValue:""})},500),()=>{Q.current.cancel()}),[]),(0,wt.useEffect)(()=>{L&&Q.current(I)},[I,L]),YQ({isInitialMount:de.current,props:t,state:S}),(0,wt.useEffect)(()=>{if(de.current){(o||a||M)&&j.current&&j.current.focus();return}if(M){j.current&&j.current.focus();return}i.document.activeElement===j.current&&q.current&&(H.current=!1,q.current.focus())},[M]),(0,wt.useEffect)(()=>{de.current||(ne.current=r.length)});let Re=BHe(M,[j,q],i,()=>{I({type:zk})}),Ie=ZQ("getMenuProps","getToggleButtonProps");(0,wt.useEffect)(()=>{de.current=!1},[]),(0,wt.useEffect)(()=>{M||(B.current={})},[M]);let We=(0,wt.useMemo)(()=>({ArrowDown(Be){Be.preventDefault(),I({type:oJ,getItemNodeFromIndex:be,shiftKey:Be.shiftKey})},ArrowUp(Be){Be.preventDefault(),I({type:aJ,getItemNodeFromIndex:be,shiftKey:Be.shiftKey})}}),[I,be]),$e=(0,wt.useMemo)(()=>({ArrowDown(Be){Be.preventDefault(),I({type:KQ,getItemNodeFromIndex:be,shiftKey:Be.shiftKey})},ArrowUp(Be){Be.preventDefault(),I({type:XQ,getItemNodeFromIndex:be,shiftKey:Be.shiftKey})},Home(Be){Be.preventDefault(),I({type:JQ,getItemNodeFromIndex:be})},End(Be){Be.preventDefault(),I({type:eJ,getItemNodeFromIndex:be})},Escape(){I({type:QQ})},Enter(Be){Be.preventDefault(),I({type:tJ})}," "(Be){Be.preventDefault(),I({type:rJ})}}),[I,be]),Fe=(0,wt.useCallback)(()=>{I({type:$He})},[I]),je=(0,wt.useCallback)(()=>{I({type:YHe})},[I]),Ce=(0,wt.useCallback)(()=>{I({type:ZHe})},[I]),Xe=(0,wt.useCallback)(Be=>{I({type:KHe,highlightedIndex:Be})},[I]),et=(0,wt.useCallback)(Be=>{I({type:lJ,selectedItem:Be})},[I]),st=(0,wt.useCallback)(()=>{I({type:XHe})},[I]),Ge=(0,wt.useCallback)(Be=>{I({type:GQ,inputValue:Be})},[I]),Ke=(0,wt.useCallback)(Be=>Qe({id:ee.labelId,htmlFor:ee.toggleButtonId},Be),[ee]),it=(0,wt.useCallback)(function(Be,Me){let Gt=Be===void 0?{}:Be,{onMouseLeave:tt,refKey:Je="ref",onKeyDown:xt,onBlur:bt,ref:yt}=Gt,Te=En(Gt,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:pt=!1}=Me===void 0?{}:Me,Vt=ue.current.state,dt=pr=>{let Wr=nC(pr);Wr&&$e[Wr]?$e[Wr](pr):MHe(Wr)&&I({type:nJ,key:Wr,getItemNodeFromIndex:be})},Zt=()=>{if(H.current===!1){H.current=!0;return}!Re.current.isMouseDown&&I({type:zk})},ur=()=>{I({type:GHe})};return Ie("getMenuProps",pt,Je,j),Qe(xr(Qe({[Je]:ip(yt,pr=>{j.current=pr}),id:ee.menuId,role:"listbox","aria-labelledby":ee.labelId,tabIndex:-1},Vt.isOpen&&Vt.highlightedIndex>-1&&{"aria-activedescendant":ee.getItemId(Vt.highlightedIndex)}),{onMouseLeave:Uo(tt,ur),onKeyDown:Uo(xt,dt),onBlur:Uo(bt,Zt)}),Te)},[I,ue,$e,Re,Ie,ee,be]),Le=(0,wt.useCallback)(function(Be,Me){let Zt=Be===void 0?{}:Be,{onClick:tt,onKeyDown:Je,refKey:xt="ref",ref:bt}=Zt,yt=En(Zt,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:Te=!1}=Me===void 0?{}:Me,pt=()=>{I({type:WHe})},Vt=ur=>{let Gt=nC(ur);Gt&&We[Gt]?We[Gt](ur):MHe(Gt)&&I({type:sJ,key:Gt,getItemNodeFromIndex:be})},dt=Qe({[xt]:ip(bt,ur=>{q.current=ur}),id:ee.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":ue.current.state.isOpen,"aria-labelledby":`${ee.labelId} ${ee.toggleButtonId}`},yt);return yt.disabled||(dt.onClick=Uo(tt,pt),dt.onKeyDown=Uo(Je,Vt)),Ie("getToggleButtonProps",Te,xt,q),dt},[I,ue,We,Ie,ee,be]),he=(0,wt.useCallback)(function(Be){let Wr=Be===void 0?{}:Be,{item:Me,index:tt,onMouseMove:Je,onClick:xt,refKey:bt="ref",ref:yt,disabled:Te}=Wr,pt=En(Wr,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:Vt,props:dt}=ue.current,Zt=()=>{tt!==Vt.highlightedIndex&&(Ee.current=!1,I({type:HHe,index:tt,disabled:Te}))},ur=()=>{I({type:iJ,index:tt})},Gt=WQ(tt,Me,dt.items);if(Gt<0)throw new Error("Pass either item or item index in getItemProps!");let pr=Qe({disabled:Te,role:"option","aria-selected":`${Gt===Vt.highlightedIndex}`,id:ee.getItemId(Gt),[bt]:ip(yt,$r=>{$r&&(B.current[ee.getItemId(Gt)]=$r)})},pt);return Te||(pr.onClick=Uo(xt,ur)),pr.onMouseMove=Uo(Je,Zt),pr},[I,ue,Ee,ee]);return{getToggleButtonProps:Le,getLabelProps:Ke,getMenuProps:it,getItemProps:he,toggleMenu:Fe,openMenu:Ce,closeMenu:je,setHighlightedIndex:Xe,selectItem:et,reset:st,setInputValue:Ge,highlightedIndex:P,isOpen:M,selectedItem:N,inputValue:L}}var uJ=0,cJ=1,fJ=2,pJ=3,dJ=4,hJ=5,mJ=6,Fk=7,eWe=8,tWe=9,gJ=10,rWe=11,nWe=12,iWe=13,oWe=14,aWe=15,vJ=16,sWe=17,lWe=18,yJ=19,uWe=Object.freeze({__proto__:null,InputKeyDownArrowDown:uJ,InputKeyDownArrowUp:cJ,InputKeyDownEscape:fJ,InputKeyDownHome:pJ,InputKeyDownEnd:dJ,InputKeyDownEnter:hJ,InputChange:mJ,InputBlur:Fk,MenuMouseLeave:eWe,ItemMouseMove:tWe,ItemClick:gJ,ToggleButtonClick:rWe,FunctionToggleMenu:nWe,FunctionOpenMenu:iWe,FunctionCloseMenu:oWe,FunctionSetHighlightedIndex:aWe,FunctionSelectItem:vJ,FunctionSetInputValue:sWe,FunctionReset:lWe,ControlledPropUpdatedSelectedItem:yJ});function c0r(e){let t=FHe(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),xr(Qe({},t),{inputValue:n})}var t0n={items:Dt.default.array.isRequired,itemToString:Dt.default.func,getA11yStatusMessage:Dt.default.func,getA11ySelectionMessage:Dt.default.func,circularNavigation:Dt.default.bool,highlightedIndex:Dt.default.number,defaultHighlightedIndex:Dt.default.number,initialHighlightedIndex:Dt.default.number,isOpen:Dt.default.bool,defaultIsOpen:Dt.default.bool,initialIsOpen:Dt.default.bool,selectedItem:Dt.default.any,initialSelectedItem:Dt.default.any,defaultSelectedItem:Dt.default.any,inputValue:Dt.default.string,defaultInputValue:Dt.default.string,initialInputValue:Dt.default.string,id:Dt.default.string,labelId:Dt.default.string,menuId:Dt.default.string,getItemId:Dt.default.func,inputId:Dt.default.string,toggleButtonId:Dt.default.string,stateReducer:Dt.default.func,onSelectedItemChange:Dt.default.func,onHighlightedIndexChange:Dt.default.func,onStateChange:Dt.default.func,onIsOpenChange:Dt.default.func,onInputValueChange:Dt.default.func,environment:Dt.default.shape({addEventListener:Dt.default.func,removeEventListener:Dt.default.func,document:Dt.default.shape({getElementById:Dt.default.func,activeElement:Dt.default.any,body:Dt.default.any})})};function f0r(e,t,r){let n=(0,wt.useRef)(),[i,o]=jHe(e,t,r);return(0,wt.useEffect)(()=>{LHe(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:yJ,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[qk(i,r),o]}var p0r=oC,d0r=xr(Qe({},rC),{getA11yStatusMessage:Xyr,circularNavigation:!0});function h0r(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case gJ:o={isOpen:Us(n,"isOpen"),highlightedIndex:Us(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case uJ:e.isOpen?o={highlightedIndex:iC(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:tb(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case cJ:e.isOpen?o={highlightedIndex:iC(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:tb(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case hJ:o=Qe({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:Us(n,"isOpen"),highlightedIndex:Us(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case fJ:o=Qe({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case pJ:o={highlightedIndex:Fy(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case dJ:o={highlightedIndex:Fy(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case Fk:o=Qe({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case mJ:o={isOpen:!0,highlightedIndex:Us(n,"highlightedIndex"),inputValue:t.inputValue};break;case vJ:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case yJ:o={inputValue:t.inputValue};break;default:return VHe(e,t,uWe);}return Qe(Qe({},e),o)}Uk.stateChangeTypes=uWe;function Uk(e){e===void 0&&(e={}),p0r(e,Uk);let t=Qe(Qe({},d0r),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:a,getA11yStatusMessage:c,getA11ySelectionMessage:p,itemToString:m}=t,g=c0r(t),[S,I]=f0r(h0r,g,t),{isOpen:M,highlightedIndex:P,selectedItem:N,inputValue:L}=S,q=(0,wt.useRef)(null),j=(0,wt.useRef)({}),B=(0,wt.useRef)(null),H=(0,wt.useRef)(null),Q=(0,wt.useRef)(null),ee=(0,wt.useRef)(!0),ne=qHe(t),de=(0,wt.useRef)(),ue=Bk({state:S,props:t}),be=(0,wt.useCallback)(Me=>j.current[ne.getItemId(Me)],[ne]);jk(c,[M,P,L,i],Qe({isInitialMount:ee.current,previousResultCount:de.current,items:i,environment:a,itemToString:m},S)),jk(p,[N],Qe({isInitialMount:ee.current,previousResultCount:de.current,items:i,environment:a,itemToString:m},S));let Ee=UHe({menuElement:q.current,highlightedIndex:P,isOpen:M,itemRefs:j,scrollIntoView:o,getItemNodeFromIndex:be});YQ({isInitialMount:ee.current,props:t,state:S}),(0,wt.useEffect)(()=>{(r||n||M)&&B.current&&B.current.focus()},[]),(0,wt.useEffect)(()=>{ee.current||(de.current=i.length)});let Re=BHe(M,[Q,q,H],a,()=>{I({type:Fk,selectItem:!1})}),Ie=ZQ("getInputProps","getComboboxProps","getMenuProps");(0,wt.useEffect)(()=>{ee.current=!1},[]),(0,wt.useEffect)(()=>{M||(j.current={})},[M]);let We=(0,wt.useMemo)(()=>({ArrowDown(Me){Me.preventDefault(),I({type:uJ,shiftKey:Me.shiftKey,getItemNodeFromIndex:be})},ArrowUp(Me){Me.preventDefault(),I({type:cJ,shiftKey:Me.shiftKey,getItemNodeFromIndex:be})},Home(Me){ue.current.state.isOpen&&(Me.preventDefault(),I({type:pJ,getItemNodeFromIndex:be}))},End(Me){ue.current.state.isOpen&&(Me.preventDefault(),I({type:dJ,getItemNodeFromIndex:be}))},Escape(Me){let tt=ue.current.state;(tt.isOpen||tt.inputValue||tt.selectedItem||tt.highlightedIndex>-1)&&(Me.preventDefault(),I({type:fJ}))},Enter(Me){let tt=ue.current.state;!tt.isOpen||tt.highlightedIndex<0||Me.which===229||(Me.preventDefault(),I({type:hJ,getItemNodeFromIndex:be}))}}),[I,ue,be]),$e=(0,wt.useCallback)(Me=>Qe({id:ne.labelId,htmlFor:ne.inputId},Me),[ne]),Fe=(0,wt.useCallback)(function(Me,tt){let pt=Me===void 0?{}:Me,{onMouseLeave:Je,refKey:xt="ref",ref:bt}=pt,yt=En(pt,["onMouseLeave","refKey","ref"]),{suppressRefError:Te=!1}=tt===void 0?{}:tt;return Ie("getMenuProps",Te,xt,q),Qe({[xt]:ip(bt,Vt=>{q.current=Vt}),id:ne.menuId,role:"listbox","aria-labelledby":ne.labelId,onMouseLeave:Uo(Je,()=>{I({type:eWe})})},yt)},[I,Ie,ne]),je=(0,wt.useCallback)(function(Me){let Pi=Me===void 0?{}:Me,{item:tt,index:Je,refKey:xt="ref",ref:bt,onMouseMove:yt,onMouseDown:Te,onClick:pt,onPress:Vt,disabled:dt}=Pi,Zt=En(Pi,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:ur,state:Gt}=ue.current,pr=WQ(Je,tt,ur.items);if(pr<0)throw new Error("Pass either item or item index in getItemProps!");let Wr="onClick",$r=pt,cr=()=>{Je!==Gt.highlightedIndex&&(Ee.current=!1,I({type:tWe,index:Je,disabled:dt}))},pn=()=>{I({type:gJ,index:Je})},ut=kn=>kn.preventDefault();return Qe(xr(Qe({[xt]:ip(bt,kn=>{kn&&(j.current[ne.getItemId(pr)]=kn)}),disabled:dt,role:"option","aria-selected":`${pr===Gt.highlightedIndex}`,id:ne.getItemId(pr)},!dt&&{[Wr]:Uo($r,pn)}),{onMouseMove:Uo(yt,cr),onMouseDown:Uo(Te,ut)}),Zt)},[I,ue,Ee,ne]),Ce=(0,wt.useCallback)(function(Me){let pt=Me===void 0?{}:Me,{onClick:tt,onPress:Je,refKey:xt="ref",ref:bt}=pt,yt=En(pt,["onClick","onPress","refKey","ref"]),Te=()=>{I({type:rWe}),!ue.current.state.isOpen&&B.current&&B.current.focus()};return Qe(Qe({[xt]:ip(bt,Vt=>{H.current=Vt}),id:ne.toggleButtonId,tabIndex:-1},!yt.disabled&&{onClick:Uo(tt,Te)}),yt)},[I,ue,ne]),Xe=(0,wt.useCallback)(function(Me,tt){let pn=Me===void 0?{}:Me,{onKeyDown:Je,onChange:xt,onInput:bt,onBlur:yt,onChangeText:Te,refKey:pt="ref",ref:Vt}=pn,dt=En(pn,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:Zt=!1}=tt===void 0?{}:tt;Ie("getInputProps",Zt,pt,B);let ur=ue.current.state,Gt=ut=>{let Pi=nC(ut);Pi&&We[Pi]&&We[Pi](ut)},pr=ut=>{I({type:mJ,inputValue:ut.target.value})},Wr=()=>{ur.isOpen&&!Re.current.isMouseDown&&I({type:Fk,selectItem:!0})},$r="onChange",cr={};return dt.disabled||(cr={[$r]:Uo(xt,bt,pr),onKeyDown:Uo(Je,Gt),onBlur:Uo(yt,Wr)}),Qe(Qe(xr(Qe({[pt]:ip(Vt,ut=>{B.current=ut}),id:ne.inputId,"aria-autocomplete":"list","aria-controls":ne.menuId},ur.isOpen&&ur.highlightedIndex>-1&&{"aria-activedescendant":ne.getItemId(ur.highlightedIndex)}),{"aria-labelledby":ne.labelId,autoComplete:"off",value:ur.inputValue}),cr),dt)},[I,We,ue,Re,Ie,ne]),et=(0,wt.useCallback)(function(Me,tt){let Te=Me===void 0?{}:Me,{refKey:Je="ref",ref:xt}=Te,bt=En(Te,["refKey","ref"]),{suppressRefError:yt=!1}=tt===void 0?{}:tt;return Ie("getComboboxProps",yt,Je,Q),Qe({[Je]:ip(xt,pt=>{Q.current=pt}),role:"combobox","aria-haspopup":"listbox","aria-owns":ne.menuId,"aria-expanded":ue.current.state.isOpen},bt)},[ue,Ie,ne]),st=(0,wt.useCallback)(()=>{I({type:nWe})},[I]),Ge=(0,wt.useCallback)(()=>{I({type:oWe})},[I]),Ke=(0,wt.useCallback)(()=>{I({type:iWe})},[I]),it=(0,wt.useCallback)(Me=>{I({type:aWe,highlightedIndex:Me})},[I]),Le=(0,wt.useCallback)(Me=>{I({type:vJ,selectedItem:Me})},[I]),he=(0,wt.useCallback)(Me=>{I({type:sWe,inputValue:Me})},[I]),Be=(0,wt.useCallback)(()=>{I({type:lWe})},[I]);return{getItemProps:je,getLabelProps:$e,getMenuProps:Fe,getInputProps:Xe,getComboboxProps:et,getToggleButtonProps:Ce,toggleMenu:st,openMenu:Ke,closeMenu:Ge,setHighlightedIndex:it,setInputValue:he,selectItem:Le,reset:Be,highlightedIndex:P,isOpen:M,selectedItem:N,inputValue:L}}var cWe={activeIndex:-1,selectedItems:[]};function OHe(e,t){return tC(e,t,cWe)}function DHe(e,t){return Us(e,t,cWe)}function m0r(e){let t=OHe(e,"activeIndex"),r=OHe(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function PHe(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function g0r(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var r0n={selectedItems:Dt.default.array,initialSelectedItems:Dt.default.array,defaultSelectedItems:Dt.default.array,itemToString:Dt.default.func,getA11yRemovalMessage:Dt.default.func,stateReducer:Dt.default.func,activeIndex:Dt.default.number,initialActiveIndex:Dt.default.number,defaultActiveIndex:Dt.default.number,onActiveIndexChange:Dt.default.func,onSelectedItemsChange:Dt.default.func,keyNavigationNext:Dt.default.string,keyNavigationPrevious:Dt.default.string,environment:Dt.default.shape({addEventListener:Dt.default.func,removeEventListener:Dt.default.func,document:Dt.default.shape({getElementById:Dt.default.func,activeElement:Dt.default.any,body:Dt.default.any})})},v0r={itemToString:rC.itemToString,stateReducer:rC.stateReducer,environment:rC.environment,getA11yRemovalMessage:g0r,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},y0r=oC,_J=0,xJ=1,bJ=2,wJ=3,SJ=4,EJ=5,IJ=6,TJ=7,CJ=8,MJ=9,AJ=10,OJ=11,DJ=12,_0r=Object.freeze({__proto__:null,SelectedItemClick:_J,SelectedItemKeyDownDelete:xJ,SelectedItemKeyDownBackspace:bJ,SelectedItemKeyDownNavigationNext:wJ,SelectedItemKeyDownNavigationPrevious:SJ,DropdownKeyDownNavigationPrevious:EJ,DropdownKeyDownBackspace:IJ,DropdownClick:TJ,FunctionAddSelectedItem:CJ,FunctionRemoveSelectedItem:MJ,FunctionSetSelectedItems:AJ,FunctionSetActiveIndex:OJ,FunctionReset:DJ});function x0r(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:a,selectedItems:c}=e,p;switch(r){case _J:p={activeIndex:n};break;case SJ:p={activeIndex:a-1<0?0:a-1};break;case wJ:p={activeIndex:a+1>=c.length?-1:a+1};break;case bJ:case xJ:{let m=a;c.length===1?m=-1:a===c.length-1&&(m=c.length-2),p={selectedItems:[...c.slice(0,a),...c.slice(a+1)],activeIndex:m};break}case EJ:p={activeIndex:c.length-1};break;case IJ:p={selectedItems:c.slice(0,c.length-1)};break;case CJ:p={selectedItems:[...c,o]};break;case TJ:p={activeIndex:-1};break;case MJ:{let m=a,g=c.indexOf(o);g>=0&&(c.length===1?m=-1:g===c.length-1&&(m=c.length-2),p={selectedItems:[...c.slice(0,g),...c.slice(g+1)],activeIndex:m});break}case AJ:{let{selectedItems:m}=t;p={selectedItems:m};break}case OJ:{let{activeIndex:m}=t;p={activeIndex:m};break}case DJ:p={activeIndex:DHe(i,"activeIndex"),selectedItems:DHe(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.");}return Qe(Qe({},e),p)}fWe.stateChangeTypes=_0r;function fWe(e){e===void 0&&(e={}),y0r(e,fWe);let t=Qe(Qe({},v0r),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:a}=t,[c,p]=zHe(x0r,m0r(t),t),{activeIndex:m,selectedItems:g}=c,S=(0,wt.useRef)(!0),I=(0,wt.useRef)(null),M=(0,wt.useRef)(g),P=(0,wt.useRef)();P.current=[];let N=Bk({state:c,props:t});(0,wt.useEffect)(()=>{if(!S.current){if(g.length<M.current.length){let be=M.current.find(Ee=>g.indexOf(Ee)<0);NHe(r({itemToString:n,resultCount:g.length,removedSelectedItem:be,activeIndex:m,activeSelectedItem:g[m]}),i.document)}M.current=g}},[g.length]),(0,wt.useEffect)(()=>{S.current||(m===-1&&I.current?I.current.focus():P.current[m]&&P.current[m].focus())},[m]),YQ({isInitialMount:S.current,props:t,state:c});let L=ZQ("getDropdownProps");(0,wt.useEffect)(()=>{S.current=!1},[]);let q=(0,wt.useMemo)(()=>({[a](){p({type:SJ})},[o](){p({type:wJ})},Delete(){p({type:xJ})},Backspace(){p({type:bJ})}}),[p,o,a]),j=(0,wt.useMemo)(()=>({[a](be){PHe(be)&&p({type:EJ})},Backspace(be){PHe(be)&&p({type:IJ})}}),[p,a]),B=(0,wt.useCallback)(function(be){let Ge=be===void 0?{}:be,{refKey:Ee="ref",ref:Re,onClick:Ie,onKeyDown:We,selectedItem:$e,index:Fe}=Ge,je=En(Ge,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:Ce}=N.current;if(WQ(Fe,$e,Ce.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let et=()=>{p({type:_J,index:Fe})},st=Ke=>{let it=nC(Ke);it&&q[it]&&q[it](Ke)};return Qe({[Ee]:ip(Re,Ke=>{Ke&&P.current.push(Ke)}),tabIndex:Fe===Ce.activeIndex?0:-1,onClick:Uo(Ie,et),onKeyDown:Uo(We,st)},je)},[p,N,q]),H=(0,wt.useCallback)(function(be,Ee){let st=be===void 0?{}:be,{refKey:Re="ref",ref:Ie,onKeyDown:We,onClick:$e,preventKeyAction:Fe=!1}=st,je=En(st,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:Ce=!1}=Ee===void 0?{}:Ee;L("getDropdownProps",Ce,Re,I);let Xe=Ge=>{let Ke=nC(Ge);Ke&&j[Ke]&&j[Ke](Ge)},et=()=>{p({type:TJ})};return Qe(Qe({[Re]:ip(Ie,Ge=>{Ge&&(I.current=Ge)})},!Fe&&{onKeyDown:Uo(We,Xe),onClick:Uo($e,et)}),je)},[p,j,L]),Q=(0,wt.useCallback)(be=>{p({type:CJ,selectedItem:be})},[p]),ee=(0,wt.useCallback)(be=>{p({type:MJ,selectedItem:be})},[p]),ne=(0,wt.useCallback)(be=>{p({type:AJ,selectedItems:be})},[p]),de=(0,wt.useCallback)(be=>{p({type:OJ,activeIndex:be})},[p]),ue=(0,wt.useCallback)(()=>{p({type:DJ})},[p]);return{getSelectedItemProps:B,getDropdownProps:H,addSelectedItem:Q,removeSelectedItem:ee,setSelectedItems:ne,setActiveIndex:de,reset:ue,selectedItems:g,activeIndex:m}}var rg=J(mt(),1);function PJ({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:a=300}){let[c,p]=(0,Vs.useState)([]),[m,g]=(0,Vs.useState)(void 0),S=(0,Vs.useRef)(),I=(0,Vs.useRef)(null),M=We=>{clearTimeout(I.current),I.current=setTimeout(()=>{t(We).then($e=>p($e))},a)},P=({inputValue:We})=>{m!==void 0&&g(void 0),M(We)},N=({selectedItem:We})=>{o!==void 0&&o(We),g(We)},{isOpen:L,getToggleButtonProps:q,getLabelProps:j,getMenuProps:B,getInputProps:H,getComboboxProps:Q,getItemProps:ee,highlightedIndex:ne}=Uk({items:c,itemToString:n,onInputValueChange:P,onSelectedItemChange:N}),Re=e!=null?e:{},{onClick:de}=Re,ue=En(Re,["onClick"]),Ie=H(),{ref:be}=Ie,Ee=En(Ie,["ref"]);return Vs.default.createElement("div",{className:"vkf-autocomplete-container"},Vs.default.createElement("label",xr(Qe({},j()),{id:Ee["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Vs.default.createElement("div",Qe({className:"form-group"},Q()),Vs.default.createElement("input",Qe(xr(Qe({},Ee),{ref:We=>{be(We),S.current=We},type:"text"}),i)),Vs.default.createElement("button",Qe(Qe(xr(Qe({type:"button"},q()),{"aria-label":"toggle menu"}),ue),de!==void 0?{onClick:()=>{de(m,S.current!==null?S.current.value:"")}}:{}),"\u2193")),Vs.default.createElement("div",{className:"autocomplete-dropdown"},Vs.default.createElement("ul",xr(Qe({className:"autocomplete-result-list"},B()),{id:Ee["aria-controls"]}),L&&c.map((We,$e)=>Vs.default.createElement("li",Qe({className:Ct("ui-menu-item",ne===$e&&"highlighted",m===We&&"selected"),key:`${We.label}${$e}`},ee({item:We,index:$e})),We.label)))))}PJ.propTypes={buttonProps:rg.default.object,fetchInputItems:rg.default.func,label:rg.default.string,inputProps:rg.default.object,itemToString:rg.default.func,onSelectedItemChange:rg.default.func,timeout:rg.default.number};var pWe=J(Am(),1),LJ=(e,t,r)=>{let n=e+"?format=json&q="+t;return pWe.default.get(n).then(i=>{let a=i.data.map(c=>({label:c.display_name,value:c.display_name,lonlat:{x:parseFloat(c.lon),y:parseFloat(c.lat)},type:c.type}));return r!==void 0&&r(),a})};var b0r=e=>e?e.label:"",dWe=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,By.useState)(!1),o=Fr(gl),a=(0,By.useCallback)(p=>(i(!0),LJ(r,p,()=>{i(!1)})),[r]),c=(p,m)=>{p!==void 0?t(p):LJ(r,m).then(g=>{if(g.length>0)t(g[0]);else throw new Error(Ne("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:Ne("placenamesearch-unknown-placename")})})};return By.default.createElement("div",{className:"gazetteersearch-container"},By.default.createElement(PJ,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:c,"aria-label":Ne("placenamesearch-submit"),title:Ne("placenamesearch-submit")},fetchInputItems:a,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:Ne("placenamesearch-placeholder")},itemToString:b0r,onSelectedItemChange:c}))};dWe.propTypes={onSelectPosition:NJ.default.func.isRequired,searchUrl:NJ.default.string.isRequired};var hWe=dWe;var mWe=J(mt(),1),gWe=({searchUrl:e})=>{let t=Ft(Qr),r=(0,Vk.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return Vk.default.createElement(hWe,{onSelectPosition:r,searchUrl:e})};gWe.propTypes={searchUrl:mWe.default.string.isRequired};var Gk=gWe;var vWe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=Ft(l4e);return ng.default.createElement("div",{className:Ct("vkf-spatialsearch-root",!n&&"in")},ng.default.createElement("div",{className:"spatialsearch-inner-container"},ng.default.createElement("div",{className:"spatialsearch-content-panel"},ng.default.createElement("div",{className:"body-container"},ng.default.createElement(Gk,{searchUrl:Tr.getNominatimUrl()}),ng.default.createElement(Lk,null),ng.default.createElement(lBe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};vWe.propTypes={customQuery:Hk.default.array,MapSearchListItemComponent:Hk.default.elementType,mosaicMode:Hk.default.bool};var yWe=vWe;var mn=J(De(),1),Cq=J(mt(),1);var ig=J(De(),1),Uy=J(mt(),1);var _We=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>ig.default.createElement(ss,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},ig.default.createElement(ss.Header,null,ig.default.createElement("p",null,o),ig.default.createElement("button",{onClick:t},ig.default.createElement("span",null,"+"))),ig.default.createElement(ss.Body,null,n()),i!==void 0&&ig.default.createElement(ss.Footer,null,i()));_We.propTypes={isOpen:Uy.default.bool,onClose:Uy.default.func,modalClassName:Uy.default.string,renderContent:Uy.default.func,renderFooter:Uy.default.func,title:Uy.default.string};var xWe=_We;var Wk=xWe;var _b=J(De(),1),vYe=J(Am(),1),SC=J(mt(),1);var w0r=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();var hs=w0r;var Fd={PROPERTYCHANGE:"propertychange"};var S0r=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}(),og=S0r;function aC(e,t){return e>t?1:e<t?-1:0}function rb(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(e[i]<t)return i-1}else if(r<0){for(i=1;i<n;++i)if(e[i]<=t)return i}else for(i=1;i<n;++i){if(e[i]==t)return i;if(e[i]<t)return typeof r=="function"?r(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return n-1}function bWe(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i=0;i<n;i++)e[e.length]=r[i]}function $k(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function wWe(e,t,r){var n=t||aC;return e.every(function(i,o){if(o===0)return!0;var a=n(e[o-1],i);return!(a>0||r&&a===0)})}function ag(){return!0}function Bd(){return!1}function Ud(){}function SWe(e){var t=!1,r,n,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!$k(o,n))&&(t=!0,i=this,n=o,r=e.apply(this,arguments)),r}}var E0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I0r=function(e){E0r(t,e);function t(r){var n=e.call(this)||this;return n.eventTarget_=r,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return t.prototype.addEventListener=function(r,n){if(!(!r||!n)){var i=this.listeners_||(this.listeners_={}),o=i[r]||(i[r]=[]);o.indexOf(n)===-1&&o.push(n)}},t.prototype.dispatchEvent=function(r){var n=typeof r=="string",i=n?r:r.type,o=this.listeners_&&this.listeners_[i];if(o){var a=n?new hs(r):r;a.target||(a.target=this.eventTarget_||this);var c=this.dispatching_||(this.dispatching_={}),p=this.pendingRemovals_||(this.pendingRemovals_={});i in c||(c[i]=0,p[i]=0),++c[i];for(var m,g=0,S=o.length;g<S;++g)if("handleEvent"in o[g]?m=o[g].handleEvent(a):m=o[g].call(this,a),m===!1||a.propagationStopped){m=!1;break}if(--c[i]===0){var I=p[i];for(delete p[i];I--;)this.removeEventListener(i,Ud);delete c[i]}return m}},t.prototype.disposeInternal=function(){this.listeners_&&Xu(this.listeners_)},t.prototype.getListeners=function(r){return this.listeners_&&this.listeners_[r]||void 0},t.prototype.hasListener=function(r){return this.listeners_?r?r in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(r,n){var i=this.listeners_&&this.listeners_[r];if(i){var o=i.indexOf(n);o!==-1&&(this.pendingRemovals_&&r in this.pendingRemovals_?(i[o]=Ud,++this.pendingRemovals_[r]):(i.splice(o,1),i.length===0&&delete this.listeners_[r]))}},t}(og),pc=I0r;var or={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function cn(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function nb(e,t,r,n){return cn(e,t,r,n,!0)}function Gn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Xu(e))}var T0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zk=function(e){T0r(t,e);function t(){var r=e.call(this)||this;return r.on=r.onInternal,r.once=r.onceInternal,r.un=r.unInternal,r.revision_=0,r}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(or.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(r,n){if(Array.isArray(r)){for(var i=r.length,o=new Array(i),a=0;a<i;++a)o[a]=cn(this,r[a],n);return o}else return cn(this,r,n)},t.prototype.onceInternal=function(r,n){var i;if(Array.isArray(r)){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=nb(this,r[a],n)}else i=nb(this,r,n);return n.ol_key=i,i},t.prototype.unInternal=function(r,n){var i=n.ol_key;if(i)C0r(i);else if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)this.removeEventListener(r[o],n);else this.removeEventListener(r,n)},t}(pc);Zk.prototype.on;Zk.prototype.once;Zk.prototype.un;function C0r(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)Gn(e[t]);else Gn(e)}var Yk=Zk;var IWe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EWe=function(e){IWe(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.key=n,o.oldValue=i,o}return t}(hs);var M0r=function(e){IWe(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,bo(n),n.values_=null,r!==void 0&&n.setProperties(r),n}return t.prototype.get=function(r){var n;return this.values_&&this.values_.hasOwnProperty(r)&&(n=this.values_[r]),n},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&bi({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(r,n){var i;i="change:".concat(r),this.hasListener(i)&&this.dispatchEvent(new EWe(i,r,n)),i=Fd.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new EWe(i,r,n))},t.prototype.addChangeListener=function(r,n){this.addEventListener("change:".concat(r),n)},t.prototype.removeChangeListener=function(r,n){this.removeEventListener("change:".concat(r),n)},t.prototype.set=function(r,n,i){var o=this.values_||(this.values_={});if(i)o[r]=n;else{var a=o[r];o[r]=n,a!==n&&this.notify(r,a)}},t.prototype.setProperties=function(r,n){for(var i in r)this.set(i,r[i],n)},t.prototype.applyProperties=function(r){r.values_&&bi(this.values_||(this.values_={}),r.values_)},t.prototype.unset=function(r,n){if(this.values_&&r in this.values_){var i=this.values_[r];delete this.values_[r],PFe(this.values_)&&(this.values_=null),n||this.notify(r,i)}},t}(Yk),ua=M0r;var RJ={ACTIVE:"active"};function kJ(e){return Math.pow(e,3)}function dc(e){return 1-kJ(1-e)}function TWe(e){return 3*e*e-2*e*e*e}function CWe(e){return e}var A0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O0r=function(e){A0r(t,e);function t(r){var n=e.call(this)||this;return n.on,n.once,n.un,r&&r.handleEvent&&(n.handleEvent=r.handleEvent),n.map_=null,n.setActive(!0),n}return t.prototype.getActive=function(){return this.get(RJ.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(r){return!0},t.prototype.setActive=function(r){this.set(RJ.ACTIVE,r)},t.prototype.setMap=function(r){this.map_=r},t}(ua);function MWe(e,t,r){var n=e.getCenterInternal();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:r!==void 0?r:250,easing:CWe,center:e.getConstrainedCenter(i)})}}function ib(e,t,r,n){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:r,duration:n!==void 0?n:250,easing:dc})}}var op=O0r;var Oi={SINGLECLICK:"singleclick",CLICK:or.CLICK,DBLCLICK:or.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var D0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P0r=function(e){D0r(t,e);function t(r){var n=this,i=r||{};return n=e.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(r){return!1},t.prototype.handleDragEvent=function(r){},t.prototype.handleEvent=function(r){if(!r.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(r),this.handlingDownUpSequence){if(r.type==Oi.POINTERDRAG)this.handleDragEvent(r),r.originalEvent.preventDefault();else if(r.type==Oi.POINTERUP){var i=this.handleUpEvent(r);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(r.type==Oi.POINTERDOWN){var o=this.handleDownEvent(r);this.handlingDownUpSequence=o,n=this.stopDown(o)}else r.type==Oi.POINTERMOVE&&this.handleMoveEvent(r);return!n},t.prototype.handleMoveEvent=function(r){},t.prototype.handleUpEvent=function(r){return!1},t.prototype.stopDown=function(r){return r},t.prototype.updateTrackedPointers_=function(r){r.activePointers&&(this.targetPointers=r.activePointers)},t}(op);function ob(e){for(var t=e.length,r=0,n=0,i=0;i<t;i++)r+=e[i].clientX,n+=e[i].clientY;return[r/t,n/t]}var ap=P0r;var ms={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var sg=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",AWe=sg.indexOf("firefox")!==-1,L0r=sg.indexOf("safari")!==-1&&sg.indexOf("chrom")==-1,OWe=L0r&&!!(sg.indexOf("version/15.4")>=0||sg.match(/cpu (os|iphone os) 15_4 like mac os x/)),DWe=sg.indexOf("webkit")!==-1&&sg.indexOf("edge")==-1,PWe=sg.indexOf("macintosh")!==-1,Kk=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,LWe=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,NWe=typeof Image!="undefined"&&Image.prototype.decode,Xk=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(r){}return e}();var qJ=new Array(6);function hc(){return[1,0,0,1,0,0]}function ab(e){return Qk(e,1,0,0,1,0,0)}function jJ(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],c=e[5],p=t[0],m=t[1],g=t[2],S=t[3],I=t[4],M=t[5];return e[0]=r*p+i*m,e[1]=n*p+o*m,e[2]=r*g+i*S,e[3]=n*g+o*S,e[4]=r*I+i*M+a,e[5]=n*I+o*M+c,e}function Qk(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function lg(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function Jk(e,t){var r=Math.cos(t),n=Math.sin(t);return jJ(e,Qk(qJ,r,n,-n,r,0,0))}function sC(e,t,r){return jJ(e,Qk(qJ,t,0,0,r,0,0))}function RWe(e,t,r){return jJ(e,Qk(qJ,1,0,0,1,t,r))}function ug(e,t,r,n,i,o,a,c){var p=Math.sin(o),m=Math.cos(o);return e[0]=n*m,e[1]=i*p,e[2]=-n*p,e[3]=i*m,e[4]=a*n*m-c*n*p+t,e[5]=a*i*p+c*i*m+r,e}function kWe(e,t){var r=N0r(t);Br(r!==0,32);var n=t[0],i=t[1],o=t[2],a=t[3],c=t[4],p=t[5];return e[0]=a/r,e[1]=-i/r,e[2]=-o/r,e[3]=n/r,e[4]=(o*p-a*c)/r,e[5]=-(n*p-i*c)/r,e}function N0r(e){return e[0]*e[3]-e[1]*e[2]}function zJ(e,t,r,n,i,o){for(var a=o||[],c=0,p=t;p<r;p+=n){var m=e[p],g=e[p+1];a[c++]=i[0]*m+i[2]*g+i[4],a[c++]=i[1]*m+i[3]*g+i[5]}return o&&a.length!=c&&(a.length=c),a}function qWe(e,t,r,n,i,o,a){for(var c=a||[],p=Math.cos(i),m=Math.sin(i),g=o[0],S=o[1],I=0,M=t;M<r;M+=n){var P=e[M]-g,N=e[M+1]-S;c[I++]=g+P*p-N*m,c[I++]=S+P*m+N*p;for(var L=M+2;L<M+n;++L)c[I++]=e[L]}return a&&c.length!=I&&(c.length=I),c}function jWe(e,t,r,n,i,o,a,c){for(var p=c||[],m=a[0],g=a[1],S=0,I=t;I<r;I+=n){var M=e[I]-m,P=e[I+1]-g;p[S++]=m+i*M,p[S++]=g+o*P;for(var N=I+2;N<I+n;++N)p[S++]=e[N]}return c&&p.length!=S&&(p.length=S),p}function zWe(e,t,r,n,i,o,a){for(var c=a||[],p=0,m=t;m<r;m+=n){c[p++]=e[m]+i,c[p++]=e[m+1]+o;for(var g=m+2;g<m+n;++g)c[p++]=e[g]}return a&&c.length!=p&&(c.length=p),c}var R0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FWe=hc(),k0r=function(e){R0r(t,e);function t(){var r=e.call(this)||this;return r.extent_=Wf(),r.extentRevision_=-1,r.simplifiedGeometryMaxMinSquaredTolerance=0,r.simplifiedGeometryRevision=0,r.simplifyTransformedInternal=SWe(function(n,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),r}return t.prototype.simplifyTransformed=function(r,n){return this.simplifyTransformedInternal(this.getRevision(),r,n)},t.prototype.clone=function(){return Cn()},t.prototype.closestPointXY=function(r,n,i,o){return Cn()},t.prototype.containsXY=function(r,n){var i=this.getClosestPoint([r,n]);return i[0]===r&&i[1]===n},t.prototype.getClosestPoint=function(r,n){var i=n||[NaN,NaN];return this.closestPointXY(r[0],r[1],i,1/0),i},t.prototype.intersectsCoordinate=function(r){return this.containsXY(r[0],r[1])},t.prototype.computeExtent=function(r){return Cn()},t.prototype.getExtent=function(r){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&bx(n),this.extentRevision_=this.getRevision()}return BFe(this.extent_,r)},t.prototype.rotate=function(r,n){Cn()},t.prototype.scale=function(r,n,i){Cn()},t.prototype.simplify=function(r){return this.getSimplifiedGeometry(r*r)},t.prototype.getSimplifiedGeometry=function(r){return Cn()},t.prototype.getType=function(){return Cn()},t.prototype.applyTransform=function(r){Cn()},t.prototype.intersectsExtent=function(r){return Cn()},t.prototype.translate=function(r,n){Cn()},t.prototype.transform=function(r,n){var i=Tl(r),o=i.getUnits()==Il.TILE_PIXELS?function(a,c,p){var m=i.getExtent(),g=i.getWorldExtent(),S=Oa(g)/Oa(m);return ug(FWe,g[0],g[3],S,-S,0,0,0),zJ(a,0,a.length,p,FWe,c),wy(i,n)(a,c,p)}:wy(i,n);return this.applyTransform(o),this},t}(ua),BWe=k0r;var q0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j0r=function(e){q0r(t,e);function t(){var r=e.call(this)||this;return r.layout=ms.XY,r.stride=2,r.flatCoordinates=null,r}return t.prototype.computeExtent=function(r){return jFe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)},t.prototype.getCoordinates=function(){return Cn()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(r){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),r<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&r<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(r),i=n.getFlatCoordinates();return i.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=r,this)},t.prototype.getSimplifiedGeometryInternal=function(r){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(r,n){this.stride=UWe(r),this.layout=r,this.flatCoordinates=n},t.prototype.setCoordinates=function(r,n){Cn()},t.prototype.setLayout=function(r,n,i){var o;if(r)o=UWe(r);else{for(var a=0;a<i;++a)if(n.length===0){this.layout=ms.XY,this.stride=2;return}else n=n[0];o=n.length,r=z0r(o)}this.layout=r,this.stride=o},t.prototype.applyTransform=function(r){this.flatCoordinates&&(r(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(r,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();qWe(i,0,i.length,o,r,n,i),this.changed()}},t.prototype.scale=function(r,n,i){var o=n;o===void 0&&(o=r);var a=i;a||(a=Kc(this.getExtent()));var c=this.getFlatCoordinates();if(c){var p=this.getStride();jWe(c,0,c.length,p,r,o,a,c),this.changed()}},t.prototype.translate=function(r,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();zWe(i,0,i.length,o,r,n,i),this.changed()}},t}(BWe);function z0r(e){var t;return e==2?t=ms.XY:e==3?t=ms.XYZ:e==4&&(t=ms.XYZM),t}function UWe(e){var t;return e==ms.XY?t=2:e==ms.XYZ||e==ms.XYM?t=3:e==ms.XYZM&&(t=4),t}var sb=j0r;function VWe(e,t,r,n,i,o,a){var c=e[t],p=e[t+1],m=e[r]-c,g=e[r+1]-p,S;if(m===0&&g===0)S=t;else{var I=((i-c)*m+(o-p)*g)/(m*m+g*g);if(I>1)S=r;else if(I>0){for(var M=0;M<n;++M)a[M]=EFe(e[t+M],e[r+M],I);a.length=n;return}else S=t}for(var M=0;M<n;++M)a[M]=e[S+M];a.length=n}function FJ(e,t,r,n,i){var o=e[t],a=e[t+1];for(t+=n;t<r;t+=n){var c=e[t],p=e[t+1],m=Ed(o,a,c,p);m>i&&(i=m),o=c,a=p}return i}function GWe(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var c=r[o];i=FJ(e,t,c,n,i),t=c}return i}function BJ(e,t,r,n,i,o,a,c,p,m,g){if(t==r)return m;var S,I;if(i===0)if(I=Ed(a,c,e[t],e[t+1]),I<m){for(S=0;S<n;++S)p[S]=e[t+S];return p.length=n,I}else return m;for(var M=g||[NaN,NaN],P=t+n;P<r;)if(VWe(e,P-n,P,n,a,c,M),I=Ed(a,c,M[0],M[1]),I<m){for(m=I,S=0;S<n;++S)p[S]=M[S];p.length=n,P+=n}else P+=n*Math.max((Math.sqrt(I)-Math.sqrt(m))/i|0,1);if(o&&(VWe(e,r-n,t,n,a,c,M),I=Ed(a,c,M[0],M[1]),I<m)){for(m=I,S=0;S<n;++S)p[S]=M[S];p.length=n}return m}function HWe(e,t,r,n,i,o,a,c,p,m,g){for(var S=g||[NaN,NaN],I=0,M=r.length;I<M;++I){var P=r[I];m=BJ(e,t,P,n,i,o,a,c,p,m,S),t=P}return m}function WWe(e,t,r,n){for(var i=0,o=r.length;i<o;++i)e[t++]=r[i];return t}function UJ(e,t,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],c=0;c<n;++c)e[t++]=a[c];return t}function $We(e,t,r,n,i){for(var o=i||[],a=0,c=0,p=r.length;c<p;++c){var m=UJ(e,t,r[c],n);o[a++]=m,t=m}return o.length=a,o}function ZWe(e,t,r,n,i,o,a){var c=(r-t)/n;if(c<3){for(;t<r;t+=n)o[a++]=e[t],o[a++]=e[t+1];return a}var p=new Array(c);p[0]=1,p[c-1]=1;for(var m=[t,r-n],g=0;m.length>0;){for(var S=m.pop(),I=m.pop(),M=0,P=e[I],N=e[I+1],L=e[S],q=e[S+1],j=I+n;j<S;j+=n){var B=e[j],H=e[j+1],Q=wFe(B,H,P,N,L,q);Q>M&&(g=j,M=Q)}M>i&&(p[(g-t)/n]=1,I+n<g&&m.push(I,g),g+n<S&&m.push(g,S))}for(var j=0;j<c;++j)p[j]&&(o[a++]=e[t+j*n],o[a++]=e[t+j*n+1]);return a}function lb(e,t){return t*Math.round(e/t)}function F0r(e,t,r,n,i,o,a){if(t==r)return a;var c=lb(e[t],i),p=lb(e[t+1],i);t+=n,o[a++]=c,o[a++]=p;var m,g;do if(m=lb(e[t],i),g=lb(e[t+1],i),t+=n,t==r)return o[a++]=m,o[a++]=g,a;while(m==c&&g==p);for(;t<r;){var S=lb(e[t],i),I=lb(e[t+1],i);if(t+=n,!(S==m&&I==g)){var M=m-c,P=g-p,N=S-c,L=I-p;if(M*L==P*N&&(M<0&&N<M||M==N||M>0&&N>M)&&(P<0&&L<P||P==L||P>0&&L>P)){m=S,g=I;continue}o[a++]=m,o[a++]=g,c=m,p=g,m=S,g=I}}return o[a++]=m,o[a++]=g,a}function YWe(e,t,r,n,i,o,a,c){for(var p=0,m=r.length;p<m;++p){var g=r[p];a=F0r(e,t,g,n,i,o,a),c.push(a),t=g}return a}function VJ(e,t,r,n,i){for(var o=i!==void 0?i:[],a=0,c=t;c<r;c+=n)o[a++]=e.slice(c,c+n);return o.length=a,o}function KWe(e,t,r,n,i){for(var o=i!==void 0?i:[],a=0,c=0,p=r.length;c<p;++c){var m=r[c];o[a++]=VJ(e,t,m,n,o[a]),t=m}return o.length=a,o}function GJ(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var c=e[t],p=e[t+1];i+=a*c-o*p,o=c,a=p}return i/2}function XWe(e,t,r,n){for(var i=0,o=0,a=r.length;o<a;++o){var c=r[o];i+=GJ(e,t,c,n),t=c}return i}var B0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U0r=function(e){B0r(t,e);function t(r,n){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(r[0])?i.setFlatCoordinates(n,r):i.setCoordinates(r,n),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(r,n,i,o){return o<zR(this.getExtent(),r,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(FJ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),BJ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,r,n,i,o))},t.prototype.getArea=function(){return GJ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return VJ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[];return n.length=ZWe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,n,0),new t(n,ms.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(r){return!1},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=UJ(this.flatCoordinates,0,r,this.stride),this.changed()},t}(sb),HJ=U0r;var V0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G0r=function(e){V0r(t,e);function t(r,n){var i=e.call(this)||this;return i.setCoordinates(r,n),i}return t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,i,o){var a=this.flatCoordinates,c=Ed(r,n,a[0],a[1]);if(c<o){for(var p=this.stride,m=0;m<p;++m)i[m]=a[m];return i.length=p,c}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(r){return qFe(this.flatCoordinates,r)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(r){return EK(r,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=WWe(this.flatCoordinates,0,r,this.stride),this.changed()},t}(sb),QWe=G0r;function JWe(e,t,r,n,i){var o=FR(i,function(a){return!cg(e,t,r,n,a[0],a[1])});return!o}function cg(e,t,r,n,i,o){for(var a=0,c=e[r-n],p=e[r-n+1];t<r;t+=n){var m=e[t],g=e[t+1];p<=o?g>o&&(m-c)*(o-p)-(i-c)*(g-p)>0&&a++:g<=o&&(m-c)*(o-p)-(i-c)*(g-p)<0&&a--,c=m,p=g}return a!==0}function eq(e,t,r,n,i,o){if(r.length===0||!cg(e,t,r[0],n,i,o))return!1;for(var a=1,c=r.length;a<c;++a)if(cg(e,r[a-1],r[a],n,i,o))return!1;return!0}function e$e(e,t,r,n,i,o,a){for(var c,p,m,g,S,I,M,P=i[o+1],N=[],L=0,q=r.length;L<q;++L){var j=r[L];for(g=e[j-n],I=e[j-n+1],c=t;c<j;c+=n)S=e[c],M=e[c+1],(P<=I&&M<=P||I<=P&&P<=M)&&(m=(P-I)/(M-I)*(S-g)+g,N.push(m)),g=S,I=M}var B=NaN,H=-1/0;for(N.sort(aC),g=N[0],c=1,p=N.length;c<p;++c){S=N[c];var Q=Math.abs(S-g);Q>H&&(m=(g+S)/2,eq(e,t,r,n,m,P)&&(B=m,H=Q)),g=S}return isNaN(B)&&(B=i[o]),a?(a.push(B,P,H),a):[B,P,H]}function t$e(e,t,r,n,i){var o;for(t+=n;t<r;t+=n)if(o=i(e.slice(t-n,t),e.slice(t,t+n)),o)return o;return!1}function r$e(e,t,r,n,i){var o=IK(Wf(),e,t,r,n);return ZT(i,o)?kFe(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:t$e(e,t,r,n,function(a,c){return UFe(i,a,c)}):!1}function WJ(e,t,r,n,i){return!!(r$e(e,t,r,n,i)||cg(e,t,r,n,i[0],i[1])||cg(e,t,r,n,i[0],i[3])||cg(e,t,r,n,i[2],i[1])||cg(e,t,r,n,i[2],i[3]))}function n$e(e,t,r,n,i){if(!WJ(e,t,r[0],n,i))return!1;if(r.length===1)return!0;for(var o=1,a=r.length;o<a;++o)if(JWe(e,r[o-1],r[o],n,i)&&!r$e(e,r[o-1],r[o],n,i))return!1;return!0}function i$e(e,t,r,n){for(;t<r-n;){for(var i=0;i<n;++i){var o=e[t+i];e[t+i]=e[r-n+i],e[r-n+i]=o}t+=n,r-=n}}function o$e(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var c=e[t],p=e[t+1];i+=(c-o)*(p+a),o=c,a=p}return i===0?void 0:i>0}function a$e(e,t,r,n,i){for(var o=i!==void 0?i:!1,a=0,c=r.length;a<c;++a){var p=r[a],m=o$e(e,t,p,n);if(a===0){if(o&&m||!o&&!m)return!1}else if(o&&!m||!o&&m)return!1;t=p}return!0}function $J(e,t,r,n,i){for(var o=i!==void 0?i:!1,a=0,c=r.length;a<c;++a){var p=r[a],m=o$e(e,t,p,n),g=a===0?o&&m||!o&&!m:o&&!m||!o&&m;g&&i$e(e,t,p,n),t=p}return t}var H0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s$e=function(e){H0r(t,e);function t(r,n,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,n!==void 0&&i?(o.setFlatCoordinates(n,r),o.ends_=i):o.setCoordinates(r,n),o}return t.prototype.appendLinearRing=function(r){this.flatCoordinates?bWe(this.flatCoordinates,r.getFlatCoordinates()):this.flatCoordinates=r.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var r=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return r.applyProperties(this),r},t.prototype.closestPointXY=function(r,n,i,o){return o<zR(this.getExtent(),r,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(GWe(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),HWe(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,r,n,i,o))},t.prototype.containsXY=function(r,n){return eq(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,n)},t.prototype.getArea=function(){return XWe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(r){var n;return r!==void 0?(n=this.getOrientedFlatCoordinates().slice(),$J(n,0,this.ends_,this.stride,r)):n=this.flatCoordinates,KWe(n,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var r=Kc(this.getExtent());this.flatInteriorPoint_=e$e(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new QWe(this.getFlatInteriorPoint(),ms.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(r){return r<0||this.ends_.length<=r?null:new HJ(this.flatCoordinates.slice(r===0?0:this.ends_[r-1],this.ends_[r]),this.layout)},t.prototype.getLinearRings=function(){for(var r=this.layout,n=this.flatCoordinates,i=this.ends_,o=[],a=0,c=0,p=i.length;c<p;++c){var m=i[c],g=new HJ(n.slice(a,m),r);o.push(g),a=m}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var r=this.flatCoordinates;a$e(r,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=r:(this.orientedFlatCoordinates_=r.slice(),this.orientedFlatCoordinates_.length=$J(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(r){var n=[],i=[];return n.length=YWe(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(r),n,0,i),new t(n,ms.XY,i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(r){return n$e(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r)},t.prototype.setCoordinates=function(r,n){this.setLayout(n,r,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=$We(this.flatCoordinates,0,r,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(sb),l$e=s$e;function lC(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=[t,r,t,i,n,i,n,r,t,r];return new s$e(o,ms.XY,[o.length])}var W0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$0r=function(e){W0r(t,e);function t(r){var n=e.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+r,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var r=this.startPixel_,n=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(r[0],n[0])+i,o.top=Math.min(r[1],n[1])+i,o.width=Math.abs(n[0]-r[0])+i,o.height=Math.abs(n[1]-r[1])+i},t.prototype.setMap=function(r){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=r,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(r,n){this.startPixel_=r,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var r=this.startPixel_,n=this.endPixel_,i=[r,[r[0],n[1]],n,[n[0],r[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new l$e([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(og),u$e=$0r;function uC(e){var t=arguments;return function(r){for(var n=!0,i=0,o=t.length;i<o&&(n=n&&t[i](r),!!n);++i);return n}}var c$e=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Z0r=function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)},tq=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Z0r(e):!0},f$e=ag;var rq=function(e){var t=e.originalEvent;return t.button==0&&!(DWe&&PWe&&t.ctrlKey)};var nq=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var p$e=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},iq=function(e){var t=e.originalEvent,r=t.target.tagName;return r!=="INPUT"&&r!=="SELECT"&&r!=="TEXTAREA"&&!t.target.isContentEditable},oq=function(e){var t=e.originalEvent;return Br(t!==void 0,56),t.pointerType=="mouse"};var d$e=function(e){var t=e.originalEvent;return Br(t!==void 0,56),t.isPrimary&&t.button===0};var h$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aq={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},ZJ=function(e){h$e(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return t}(hs);var Y0r=function(e){h$e(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=r||{};return n.box_=new u$e(i.className||"ol-dragbox"),n.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:rq,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return t.prototype.defaultBoxEndCondition=function(r,n,i){var o=i[0]-n[0],a=i[1]-n[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(r){this.box_.setPixels(this.startPixel_,r.pixel),this.dispatchEvent(new ZJ(aq.BOXDRAG,r.coordinate,r))},t.prototype.handleUpEvent=function(r){this.box_.setMap(null);var n=this.boxEndCondition_(r,this.startPixel_,r.pixel);return n&&this.onBoxEnd(r),this.dispatchEvent(new ZJ(n?aq.BOXEND:aq.BOXCANCEL,r.coordinate,r)),!1},t.prototype.handleDownEvent=function(r){return this.condition_(r)?(this.startPixel_=r.pixel,this.box_.setMap(r.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ZJ(aq.BOXSTART,r.coordinate,r)),!0):!1},t.prototype.onBoxEnd=function(r){},t}(ap),m$e=Y0r;var K0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X0r=function(e){K0r(t,e);function t(r){var n=this,i=r||{},o=i.condition?i.condition:p$e;return n=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,n.duration_=i.duration!==void 0?i.duration:200,n.out_=i.out!==void 0?i.out:!1,n}return t.prototype.onBoxEnd=function(r){var n=this.getMap(),i=n.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),c=i.getResolutionForExtentInternal(a),p=i.getResolution()/c;o=o.clone(),o.scale(p*p)}i.fitInternal(o,{duration:this.duration_,easing:dc})},t}(m$e),sq=X0r;var sp={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};function Vd(e,t,r,n){var i;return r&&r.length?i=r.shift():LWe?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",n)}function g$e(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function ub(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function cC(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function v$e(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function y$e(e,t){for(var r=e.childNodes,n=0;;++n){var i=r[n],o=t[n];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--n;continue}e.insertBefore(o,i)}}}var Q0r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J0r=function(e){Q0r(t,e);function t(r){var n=e.call(this)||this,i=r.element;return i&&!r.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],r.render&&(n.render=r.render),r.target&&n.setTarget(r.target),n}return t.prototype.disposeInternal=function(){cC(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(r){this.map_&&cC(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Gn(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=r,r){var o=this.target_?this.target_:r.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==Ud&&this.listenerKeys.push(cn(r,sp.POSTRENDER,this.render,this)),r.render()}},t.prototype.render=function(r){},t.prototype.setTarget=function(r){this.target_=typeof r=="string"?document.getElementById(r):r},t}(ua),hu=J0r;var Do={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var fC="ol-hidden";var mc="ol-unselectable",YJ="ol-unsupported",lp="ol-control",KJ="ol-collapsed",e1r=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),_$e=["style","variant","weight","size","lineHeight","family"],x$e=function(e){var t=e.match(e1r);if(!t)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=_$e.length;n<i;++n){var o=t[n+1];o!==void 0&&(r[_$e[n]]=o)}return r.families=r.family.split(/,\s?/),r};var t1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b$e=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],w$e={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},r1r=function(e){t1r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this,n.on,n.once,n.un,n.keys_=i.keys!==void 0?i.keys:!1,n.source_=i.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var o=i.label!==void 0?i.label:"\u2922";n.labelNode_=typeof o=="string"?document.createTextNode(o):o;var a=i.labelActive!==void 0?i.labelActive:"\xD7";n.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a;var c=i.tipLabel?i.tipLabel:"Toggle full-screen";return n.button_=document.createElement("button"),n.button_.title=c,n.button_.setAttribute("type","button"),n.button_.appendChild(n.labelNode_),n.button_.addEventListener(or.CLICK,n.handleClick_.bind(n),!1),n.setClassName_(n.button_,n.isInFullscreen_),n.element.className="".concat(n.cssClassName_," ").concat(mc," ").concat(lp),n.element.appendChild(n.button_),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var r=this.getMap();if(r){var n=r.getOwnerDocument();if(S$e(n))if(E$e(n))i1r(n);else{var i=void 0;this.source_?i=typeof this.source_=="string"?n.getElementById(this.source_):this.source_:i=r.getTargetElement(),this.keys_?n1r(i):I$e(i)}}},t.prototype.handleFullScreenChange_=function(){var r=this.getMap();if(r){var n=this.isInFullscreen_;this.isInFullscreen_=E$e(r.getOwnerDocument()),n!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(ub(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(w$e.ENTERFULLSCREEN)):(ub(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(w$e.LEAVEFULLSCREEN)),r.updateSize())}},t.prototype.setClassName_=function(r,n){var i,o,a,c;n?((i=r.classList).remove.apply(i,this.inactiveClassName_),(o=r.classList).add.apply(o,this.activeClassName_)):((a=r.classList).remove.apply(a,this.activeClassName_),(c=r.classList).add.apply(c,this.inactiveClassName_))},t.prototype.setMap=function(r){var n=this.getMap();n&&n.removeChangeListener(Do.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,r),this.handleMapTargetChange_(),r&&r.addChangeListener(Do.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var r=this.documentListeners_,n=0,i=r.length;n<i;++n)Gn(r[n]);r.length=0;var o=this.getMap();if(o){var a=o.getOwnerDocument();S$e(a)?this.element.classList.remove(YJ):this.element.classList.add(YJ);for(var n=0,i=b$e.length;n<i;++n)r.push(cn(a,b$e[n],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(hu);function S$e(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function E$e(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function I$e(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function n1r(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():I$e(e)}function i1r(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}var T$e=r1r;var Gs={ADD:"add",REMOVE:"remove"};var M$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),C$e={LENGTH:"length"},lq=function(e){M$e(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.element=n,o.index=i,o}return t}(hs);var o1r=function(e){M$e(t,e);function t(r,n){var i=e.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=r||[],i.unique_)for(var a=0,c=i.array_.length;a<c;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(r){for(var n=0,i=r.length;n<i;++n)this.push(r[n]);return this},t.prototype.forEach=function(r){for(var n=this.array_,i=0,o=n.length;i<o;++i)r(n[i],i,n)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(r){return this.array_[r]},t.prototype.getLength=function(){return this.get(C$e.LENGTH)},t.prototype.insertAt=function(r,n){this.unique_&&this.assertUnique_(n),this.array_.splice(r,0,n),this.updateLength_(),this.dispatchEvent(new lq(Gs.ADD,n,r))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(r){this.unique_&&this.assertUnique_(r);var n=this.getLength();return this.insertAt(n,r),this.getLength()},t.prototype.remove=function(r){for(var n=this.array_,i=0,o=n.length;i<o;++i)if(n[i]===r)return this.removeAt(i)},t.prototype.removeAt=function(r){var n=this.array_[r];return this.array_.splice(r,1),this.updateLength_(),this.dispatchEvent(new lq(Gs.REMOVE,n,r)),n},t.prototype.setAt=function(r,n){var i=this.getLength();if(r<i){this.unique_&&this.assertUnique_(n,r);var o=this.array_[r];this.array_[r]=n,this.dispatchEvent(new lq(Gs.REMOVE,o,r)),this.dispatchEvent(new lq(Gs.ADD,n,r))}else{for(var a=i;a<r;++a)this.insertAt(a,void 0);this.insertAt(r,n)}},t.prototype.updateLength_=function(){this.set(C$e.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(r,n){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===r&&i!==n)throw new jR(58)},t}(ua),Hs=o1r;var a1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s1r=function(e){a1r(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==Oi.DBLCLICK){var i=r.originalEvent,o=r.map,a=r.coordinate,c=i.shiftKey?-this.delta_:this.delta_,p=o.getView();ib(p,c,a,this.duration_),i.preventDefault(),n=!0}return!n},t}(op),A$e=s1r;var l1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u1r=function(e){l1r(t,e);function t(r){var n=e.call(this,{stopDown:Bd})||this,i=r||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:uC(nq,d$e);return n.condition_=i.onFocusOnly?uC(tq,o):o,n.noKinetic_=!1,n}return t.prototype.handleDragEvent=function(r){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=ob(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=r.map,c=a.getView();HFe(o,c.getResolution()),wx(o,c.getRotation()),c.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,r.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(r){var n=r.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),c=i.getCenterInternal(),p=n.getPixelFromCoordinateInternal(c),m=n.getCoordinateFromPixelInternal([p[0]-o*Math.cos(a),p[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(m),duration:500,easing:dc})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>0&&this.condition_(r)){var n=r.map,i=n.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(ap),O$e=u1r;function cb(e){if(e!==void 0)return 0}function XJ(e){if(e!==void 0)return e}function D$e(e){var t=2*Math.PI/e;return function(r,n){if(n)return r;if(r!==void 0)return r=Math.floor(r/t+.5)*t,r}}function P$e(e){var t=e||vx(5);return function(r,n){if(n)return r;if(r!==void 0)return Math.abs(r)<=t?0:r}}var c1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f1r=function(e){c1r(t,e);function t(r){var n=this,i=r||{};return n=e.call(this,{stopDown:Bd})||this,n.condition_=i.condition?i.condition:c$e,n.lastAngle_=void 0,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleDragEvent=function(r){if(oq(r)){var n=r.map,i=n.getView();if(i.getConstraints().rotation!==cb){var o=n.getSize(),a=r.pixel,c=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var p=c-this.lastAngle_;i.adjustRotationInternal(-p)}this.lastAngle_=c}}},t.prototype.handleUpEvent=function(r){if(!oq(r))return!0;var n=r.map,i=n.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(r){if(!oq(r))return!1;if(rq(r)&&this.condition_(r)){var n=r.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(ap),L$e=f1r;var fg={LEFT:37,UP:38,RIGHT:39,DOWN:40};var p1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d1r=function(e){p1r(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.defaultCondition_=function(o){return nq(o)&&iq(o)},n.condition_=i.condition!==void 0?i.condition:n.defaultCondition_,n.duration_=i.duration!==void 0?i.duration:100,n.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==or.KEYDOWN){var i=r.originalEvent,o=i.keyCode;if(this.condition_(r)&&(o==fg.DOWN||o==fg.LEFT||o==fg.RIGHT||o==fg.UP)){var a=r.map,c=a.getView(),p=c.getResolution()*this.pixelDelta_,m=0,g=0;o==fg.DOWN?g=-p:o==fg.LEFT?m=-p:o==fg.RIGHT?m=p:g=p;var S=[m,g];wx(S,c.getRotation()),MWe(c,S,this.duration_),i.preventDefault(),n=!0}}return!n},t}(op),N$e=d1r;var h1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m1r=function(e){h1r(t,e);function t(r){var n=e.call(this)||this,i=r||{};return n.condition_=i.condition?i.condition:iq,n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:100,n}return t.prototype.handleEvent=function(r){var n=!1;if(r.type==or.KEYDOWN||r.type==or.KEYPRESS){var i=r.originalEvent,o=i.charCode;if(this.condition_(r)&&(o==43||o==45)){var a=r.map,c=o==43?this.delta_:-this.delta_,p=a.getView();ib(p,c,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},t}(op),R$e=m1r;var g1r=function(){function e(t,r,n){this.decay_=t,this.minVelocity_=r,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,r){this.points_.push(t,r,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,r=this.points_.length-3;if(this.points_[r+2]<t)return!1;for(var n=r-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[r+2]-this.points_[n+2];if(i<16.666666666666668)return!1;var o=this.points_[r]-this.points_[n],a=this.points_[r+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),k$e=g1r;var v1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QJ={TRACKPAD:"trackpad",WHEEL:"wheel"},y1r=function(e){v1r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,i)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,n.duration_=i.duration!==void 0?i.duration:250,n.timeout_=i.timeout!==void 0?i.timeout:80,n.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,n.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:f$e;return n.condition_=i.onFocusOnly?uC(tq,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var r=this.getMap();if(r){var n=r.getView();n.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(r){if(!this.condition_(r))return!0;var n=r.type;if(n!==or.WHEEL)return!0;var i=r.map,o=r.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=r.coordinate);var a;if(r.type==or.WHEEL&&(a=o.deltaY,AWe&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Kk),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?QJ.TRACKPAD:QJ.WHEEL);var p=i.getView();if(this.mode_===QJ.TRACKPAD&&!(p.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(p.getAnimating()&&p.cancelAnimations(),p.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),p.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=a;var m=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),m),!1},t.prototype.handleWheelZoom_=function(r){var n=r.getView();n.getAnimating()&&n.cancelAnimations();var i=-Ei(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ib(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(r){this.useAnchor_=r,r||(this.lastAnchor_=null)},t}(op),q$e=y1r;var _1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x1r=function(e){_1r(t,e);function t(r){var n=this,i=r||{},o=i;return o.stopDown||(o.stopDown=Bd),n=e.call(this,o)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=i.threshold!==void 0?i.threshold:.3,n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleDragEvent=function(r){var n=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var c=a-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=a;var p=r.map,m=p.getView();if(m.getConstraints().rotation!==cb){var g=p.getViewport().getBoundingClientRect(),S=ob(this.targetPointers);S[0]-=g.left,S[1]-=g.top,this.anchor_=p.getCoordinateFromPixelInternal(S),this.rotating_&&(p.render(),m.adjustRotationInternal(n,this.anchor_))}},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,i=n.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(ap),j$e=x1r;var b1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w1r=function(e){b1r(t,e);function t(r){var n=this,i=r||{},o=i;return o.stopDown||(o.stopDown=Bd),n=e.call(this,o)||this,n.anchor_=null,n.duration_=i.duration!==void 0?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return t.prototype.handleDragEvent=function(r){var n=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,c=i.clientY-o.clientY,p=Math.sqrt(a*a+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/p),this.lastDistance_=p;var m=r.map,g=m.getView();n!=1&&(this.lastScaleDelta_=n);var S=m.getViewport().getBoundingClientRect(),I=ob(this.targetPointers);I[0]-=S.left,I[1]-=S.top,this.anchor_=m.getCoordinateFromPixelInternal(I),m.render(),g.adjustResolutionInternal(n,this.anchor_)},t.prototype.handleUpEvent=function(r){if(this.targetPointers.length<2){var n=r.map,i=n.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var n=r.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(ap),z$e=w1r;var S1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E1r=function(e){S1r(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.map=n,o.frameState=i!==void 0?i:null,o}return t}(hs),pg=E1r;var I1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T1r=function(e){I1r(t,e);function t(r,n,i,o,a,c){var p=e.call(this,r,n,a)||this;return p.originalEvent=i,p.pixel_=null,p.coordinate_=null,p.dragging=o!==void 0?o:!1,p.activePointers=c,p}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(r){this.pixel_=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(r){this.coordinate_=r},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(pg),up=T1r;var On={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var C1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M1r=function(e){C1r(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un,n.background_=r.background;var i=bi({},r);return typeof r.properties=="object"&&(delete i.properties,bi(i,r.properties)),i[On.OPACITY]=r.opacity!==void 0?r.opacity:1,Br(typeof i[On.OPACITY]=="number",64),i[On.VISIBLE]=r.visible!==void 0?r.visible:!0,i[On.Z_INDEX]=r.zIndex,i[On.MAX_RESOLUTION]=r.maxResolution!==void 0?r.maxResolution:1/0,i[On.MIN_RESOLUTION]=r.minResolution!==void 0?r.minResolution:0,i[On.MIN_ZOOM]=r.minZoom!==void 0?r.minZoom:-1/0,i[On.MAX_ZOOM]=r.maxZoom!==void 0?r.maxZoom:1/0,n.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(r){var n=this.state_||{layer:this,managed:r===void 0?!0:r},i=this.getZIndex();return n.opacity=Ei(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},t.prototype.getLayersArray=function(r){return Cn()},t.prototype.getLayerStatesArray=function(r){return Cn()},t.prototype.getExtent=function(){return this.get(On.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(On.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(On.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(On.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(On.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(On.OPACITY)},t.prototype.getSourceState=function(){return Cn()},t.prototype.getVisible=function(){return this.get(On.VISIBLE)},t.prototype.getZIndex=function(){return this.get(On.Z_INDEX)},t.prototype.setBackground=function(r){this.background_=r,this.changed()},t.prototype.setExtent=function(r){this.set(On.EXTENT,r)},t.prototype.setMaxResolution=function(r){this.set(On.MAX_RESOLUTION,r)},t.prototype.setMinResolution=function(r){this.set(On.MIN_RESOLUTION,r)},t.prototype.setMaxZoom=function(r){this.set(On.MAX_ZOOM,r)},t.prototype.setMinZoom=function(r){this.set(On.MIN_ZOOM,r)},t.prototype.setOpacity=function(r){Br(typeof r=="number",64),this.set(On.OPACITY,r)},t.prototype.setVisible=function(r){this.set(On.VISIBLE,r)},t.prototype.setZIndex=function(r){this.set(On.Z_INDEX,r)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(ua),uq=M1r;var gs={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var A1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O1r=function(e){A1r(t,e);function t(r){var n=this,i=bi({},r);delete i.source,n=e.call(this,i)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,r.render&&(n.render=r.render),r.map&&n.setMap(r.map),n.addChangeListener(On.SOURCE,n.handleSourcePropertyChange_);var o=r.source?r.source:null;return n.setSource(o),n}return t.prototype.getLayersArray=function(r){var n=r||[];return n.push(this),n},t.prototype.getLayerStatesArray=function(r){var n=r||[];return n.push(this.getLayerState()),n},t.prototype.getSource=function(){return this.get(On.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var r=this.getSource();return r?r.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Gn(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=cn(r,or.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(r){return this.renderer_?this.renderer_.getFeatures(r):new Promise(function(n){return n([])})},t.prototype.getData=function(r){return!this.renderer_||!this.rendered?null:this.renderer_.getData(r)},t.prototype.render=function(r,n){var i=this.getRenderer();if(i.prepareFrame(r))return this.rendered=!0,i.renderFrame(r,n)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(r){r||this.unrender(),this.set(On.MAP,r)},t.prototype.getMapInternal=function(){return this.get(On.MAP)},t.prototype.setMap=function(r){this.mapPrecomposeKey_&&(Gn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),r||this.changed(),this.mapRenderKey_&&(Gn(this.mapRenderKey_),this.mapRenderKey_=null),r&&(this.mapPrecomposeKey_=cn(r,gs.PRECOMPOSE,function(n){var i=n,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);Br(!o.some(function(c){return c.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=cn(this,or.CHANGE,r.render,r),this.changed())},t.prototype.setSource=function(r){this.set(On.SOURCE,r)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(uq);function Vy(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}var pC=O1r;var Nl={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function JJ(e){return e[0]>0&&e[1]>0}function F$e(e,t,r){return r===void 0&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function ca(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var U$e=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,V$e=/^([a-z]*)$|^hsla?\(.*\)$/i;function G$e(e){return typeof e=="string"?e:P1r(e)}function H$e(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}else return""}var eee=function(){var e=1024,t={},r=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(r>=e){var o=0;for(var a in t)o++&3||(delete t[a],--r)}i=D1r(n),t[n]=i,++r}return i}}();function W$e(e){return Array.isArray(e)?e:eee(e)}function D1r(e){var t,r,n,i,o;if(V$e.exec(e)&&(e=H$e(e)),U$e.exec(e)){var a=e.length-1,c=void 0;a<=4?c=1:c=2;var p=a===4||a===8;t=parseInt(e.substr(1+0*c,c),16),r=parseInt(e.substr(1+1*c,c),16),n=parseInt(e.substr(1+2*c,c),16),p?i=parseInt(e.substr(1+3*c,c),16):i=255,c==1&&(t=(t<<4)+t,r=(r<<4)+r,n=(n<<4)+n,p&&(i=(i<<4)+i)),o=[t,r,n,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),B$e(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),B$e(o)):Br(!1,14);return o}function B$e(e){return e[0]=Ei(e[0]+.5|0,0,255),e[1]=Ei(e[1]+.5|0,0,255),e[2]=Ei(e[2]+.5|0,0,255),e[3]=Ei(e[3],0,1),e}function P1r(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var r=e[1];r!=(r|0)&&(r=r+.5|0);var n=e[2];n!=(n|0)&&(n=n+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+r+","+n+","+i+")"}function $$e(e){return V$e.test(e)&&(e=H$e(e)),U$e.test(e)||e.indexOf("rgba(")===0||e.indexOf("rgb(")===0}var cp=new ua,L1r=new pc;L1r.setSize=function(){console.warn("labelCache is deprecated.")};var fb=null,tee,N1r={},Hbn=function(){var e=100,t="32px ",r=["monospace","serif"],n=r.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function c(m,g,S){for(var I=!0,M=0;M<n;++M){var P=r[M];if(a=Z$e(m+" "+g+" "+t+P,i),S!=P){var N=Z$e(m+" "+g+" "+t+S+","+P,i);I=I&&N!=a}}return!!I}function p(){for(var m=!0,g=cp.getKeys(),S=0,I=g.length;S<I;++S){var M=g[S];cp.get(M)<e&&(c.apply(this,M.split(`
`))?(Xu(N1r),fb=null,tee=void 0,cp.set(M,e)):(cp.set(M,cp.get(M)+1,!0),m=!1))}m&&(clearInterval(o),o=void 0)}return function(m){var g=x$e(m);if(g)for(var S=g.families,I=0,M=S.length;I<M;++I){var P=S[I],N=g.style+`
`+g.weight+`
`+P;cp.get(N)===void 0&&(cp.set(N,e,!0),c(g.style,g.weight,P)||(cp.set(N,0,!0),o===void 0&&(o=setInterval(p,32))))}}}();function R1r(e,t){return fb||(fb=Vd(1,1)),e!=tee&&(fb.font=e,tee=fb.font),fb.measureText(t)}function Z$e(e,t){return R1r(e,t).width}var k1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q1r=function(e){k1r(t,e);function t(r){var n=e.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=r,n.declutterExecutorGroup=null,n}return t.prototype.getFeatures=function(r){return Cn()},t.prototype.getData=function(r){return null},t.prototype.prepareFrame=function(r){return Cn()},t.prototype.renderFrame=function(r,n){return Cn()},t.prototype.loadedTileCallback=function(r,n,i){r[n]||(r[n]={}),r[n][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(r,n,i){return function(o,a){var c=this.loadedTileCallback.bind(this,i,o);return r.forEachLoadedTile(n,o,a,c)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(r,n,i,o,a){},t.prototype.getDataAtPixel=function(r,n,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(r){var n=r.target;n.getState()===Nl.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(r){var n=r.getState();return n!=Nl.LOADED&&n!=Nl.ERROR&&r.addEventListener(or.CHANGE,this.boundHandleImageChange_),n==Nl.IDLE&&(r.load(),n=r.getState()),n==Nl.LOADED},t.prototype.renderIfReadyAndVisible=function(){var r=this.getLayer();r&&r.getVisible()&&r.getSourceState()==="ready"&&r.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(Yk),Y$e=q1r;var j1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),z1r=function(e){j1r(t,e);function t(r,n,i,o){var a=e.call(this,r)||this;return a.inversePixelTransform=n,a.frameState=i,a.context=o,a}return t}(hs),pb=z1r;var Rl={ANIMATING:0,INTERACTING:1};var F1r=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var r in this.cache_){var n=this.cache_[r];!(t++&3)&&!n.hasListener()&&(delete this.cache_[r],--this.cacheSize_)}}},e.prototype.get=function(t,r,n){var i=K$e(t,r,n);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,r,n,i){var o=K$e(t,r,n);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function K$e(e,t,r){var n=r?G$e(r):"null";return t+":"+e+":"+n}var ree=new F1r;var B1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U1r=function(e){B1r(t,e);function t(r,n,i,o){var a=e.call(this)||this;return a.extent=r,a.pixelRatio_=i,a.resolution=n,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(or.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Cn()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Cn()},t}(pc),X$e=U1r;var V1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dwn=function(e){V1r(t,e);function t(r,n,i,o,a,c){var p=e.call(this,r,n,i,Nl.IDLE)||this;return p.src_=o,p.image_=new Image,a!==null&&(p.image_.crossOrigin=a),p.unlisten_=null,p.state=Nl.IDLE,p.imageLoadFunction_=c,p}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=Nl.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Oa(this.extent)/this.image_.height),this.state=Nl.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==Nl.IDLE||this.state==Nl.ERROR)&&(this.state=Nl.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=nee(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(r){this.image_=r,this.resolution=Oa(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(X$e);function nee(e,t,r){var n=e,i=!0,o=!1,a=!1,c=[nb(n,or.LOAD,function(){a=!0,o||t()})];return n.src&&NWe?(o=!0,n.decode().then(function(){i&&t()}).catch(function(p){i&&(a?t():r())})):c.push(nb(n,or.ERROR,r)),function(){i=!1,c.forEach(Gn)}}var G1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H1r=function(e){G1r(t,e);function t(r){var n=e.call(this)||this;n.projection=Tl(r.projection),n.attributions_=Q$e(r.attributions),n.attributionsCollapsible_=r.attributionsCollapsible!==void 0?r.attributionsCollapsible:!0,n.loading=!1,n.state_=r.state!==void 0?r.state:"ready",n.wrapX_=r.wrapX!==void 0?r.wrapX:!1,n.interpolate_=!!r.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),n}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Cn()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(r){this.attributions_=Q$e(r),this.changed()},t.prototype.setState=function(r){this.state_=r,this.changed()},t}(ua);function Q$e(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}var J$e=H1r;function cq(e){var t=e||{},r=new Hs,n=new k$e(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&r.push(new L$e);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&r.push(new A$e({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&r.push(new O$e({onFocusOnly:t.onFocusOnly,kinetic:n}));var c=t.pinchRotate!==void 0?t.pinchRotate:!0;c&&r.push(new j$e);var p=t.pinchZoom!==void 0?t.pinchZoom:!0;p&&r.push(new z$e({duration:t.zoomDuration}));var m=t.keyboard!==void 0?t.keyboard:!0;m&&(r.push(new N$e),r.push(new R$e({delta:t.zoomDelta,duration:t.zoomDuration})));var g=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;g&&r.push(new q$e({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var S=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return S&&r.push(new sq({duration:t.zoomDuration})),r}var W1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$1r=function(e){W1r(t,e);function t(r){var n=e.call(this)||this;return n.map_=r,n}return t.prototype.dispatchRenderEvent=function(r,n){Cn()},t.prototype.calculateMatrices2D=function(r){var n=r.viewState,i=r.coordinateToPixelTransform,o=r.pixelToCoordinateTransform;ug(i,r.size[0]/2,r.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),kWe(o,i)},t.prototype.forEachFeatureAtCoordinate=function(r,n,i,o,a,c,p,m){var g,S=n.viewState;function I($e,Fe,je,Ce){return a.call(c,Fe,$e?je:null,Ce)}var M=S.projection,P=WFe(r.slice(),M),N=[[0,0]];if(M.canWrapX()&&o){var L=M.getExtent(),q=Fi(L);N.push([-q,0],[q,0])}for(var j=n.layerStatesArray,B=j.length,H=[],Q=[],ee=0;ee<N.length;ee++)for(var ne=B-1;ne>=0;--ne){var de=j[ne],ue=de.layer;if(ue.hasRenderer()&&Vy(de,S)&&p.call(m,ue)){var be=ue.getRenderer(),Ee=ue.getSource();if(be&&Ee){var Re=Ee.getWrapX()?P:r,Ie=I.bind(null,de.managed);Q[0]=Re[0]+N[ee][0],Q[1]=Re[1]+N[ee][1],g=be.forEachFeatureAtCoordinate(Q,n,i,Ie,H)}if(g)return g}}if(H.length!==0){var We=1/H.length;return H.forEach(function($e,Fe){return $e.distanceSq+=Fe*We}),H.sort(function($e,Fe){return $e.distanceSq-Fe.distanceSq}),H.some(function($e){return g=$e.callback($e.feature,$e.layer,$e.geometry)}),g}},t.prototype.forEachLayerAtPixel=function(r,n,i,o,a){return Cn()},t.prototype.hasFeatureAtCoordinate=function(r,n,i,o,a,c){var p=this.forEachFeatureAtCoordinate(r,n,i,o,ag,this,a,c);return p!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(r){Cn()},t.prototype.scheduleExpireIconCache=function(r){ree.canExpireCache()&&r.postRenderFunctions.push(Z1r)},t}(og);function Z1r(e,t){ree.expire()}var eZe=$1r;var Y1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K1r=function(e){Y1r(t,e);function t(r){var n=e.call(this,r)||this;n.fontChangeListenerKey_=cn(cp,Fd.PROPERTYCHANGE,r.redrawText.bind(r)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=mc+" ol-layers";var o=r.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return t.prototype.dispatchRenderEvent=function(r,n){var i=this.getMap();if(i.hasListener(r)){var o=new pb(r,void 0,n);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){Gn(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(r){if(!r){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(r),this.dispatchRenderEvent(gs.PRECOMPOSE,r);var n=r.layerStatesArray.sort(function(M,P){return M.zIndex-P.zIndex}),i=r.viewState;this.children_.length=0;for(var o=[],a=null,c=0,p=n.length;c<p;++c){var m=n[c];r.layerIndex=c;var g=m.layer,S=g.getSourceState();if(!Vy(m,i)||S!="ready"&&S!="undefined"){g.unrender();continue}var I=g.render(r,a);I&&(I!==a&&(this.children_.push(I),a=I),"getDeclutter"in g&&o.push(g))}for(var c=o.length-1;c>=0;--c)o[c].renderDeclutter(r);y$e(this.element_,this.children_),this.dispatchRenderEvent(gs.POSTCOMPOSE,r),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(r)},t.prototype.forEachLayerAtPixel=function(r,n,i,o,a){for(var c=n.viewState,p=n.layerStatesArray,m=p.length,g=m-1;g>=0;--g){var S=p[g],I=S.layer;if(I.hasRenderer()&&Vy(S,c)&&a(I)){var M=I.getRenderer(),P=M.getDataAtPixel(r,n,i);if(P){var N=o(I,P);if(N)return N}}}},t}(eZe),tZe=K1r;var rZe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gd=function(e){rZe(t,e);function t(r,n){var i=e.call(this,r)||this;return i.layer=n,i}return t}(hs);var iee={LAYERS:"layers"},X1r=function(e){rZe(t,e);function t(r){var n=this,i=r||{},o=bi({},i);delete o.layers;var a=i.layers;return n=e.call(this,o)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(iee.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new Hs(a.slice(),{unique:!0}):Br(typeof a.getArray=="function",43):a=new Hs(void 0,{unique:!0}),n.setLayers(a),n}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Gn),this.layersListenerKeys_.length=0;var r=this.getLayers();this.layersListenerKeys_.push(cn(r,Gs.ADD,this.handleLayersAdd_,this),cn(r,Gs.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(Gn);Xu(this.listenerKeys_);for(var i=r.getArray(),o=0,a=i.length;o<a;o++){var c=i[o];this.registerLayerListeners_(c),this.dispatchEvent(new Gd("addlayer",c))}this.changed()},t.prototype.registerLayerListeners_=function(r){var n=[cn(r,Fd.PROPERTYCHANGE,this.handleLayerChange_,this),cn(r,or.CHANGE,this.handleLayerChange_,this)];r instanceof t&&n.push(cn(r,"addlayer",this.handleLayerGroupAdd_,this),cn(r,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[bo(r)]=n},t.prototype.handleLayerGroupAdd_=function(r){this.dispatchEvent(new Gd("addlayer",r.layer))},t.prototype.handleLayerGroupRemove_=function(r){this.dispatchEvent(new Gd("removelayer",r.layer))},t.prototype.handleLayersAdd_=function(r){var n=r.element;this.registerLayerListeners_(n),this.dispatchEvent(new Gd("addlayer",n)),this.changed()},t.prototype.handleLayersRemove_=function(r){var n=r.element,i=bo(n);this.listenerKeys_[i].forEach(Gn),delete this.listenerKeys_[i],this.dispatchEvent(new Gd("removelayer",n)),this.changed()},t.prototype.getLayers=function(){return this.get(iee.LAYERS)},t.prototype.setLayers=function(r){var n=this.getLayers();if(n)for(var i=n.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new Gd("removelayer",i[o]));this.set(iee.LAYERS,r)},t.prototype.getLayersArray=function(r){var n=r!==void 0?r:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},t.prototype.getLayerStatesArray=function(r){var n=r!==void 0?r:[],i=n.length;this.getLayers().forEach(function(g){g.getLayerStatesArray(n)});var o=this.getLayerState(),a=o.zIndex;!r&&o.zIndex===void 0&&(a=0);for(var c=i,p=n.length;c<p;c++){var m=n[c];m.opacity*=o.opacity,m.visible=m.visible&&o.visible,m.maxResolution=Math.min(m.maxResolution,o.maxResolution),m.minResolution=Math.max(m.minResolution,o.minResolution),m.minZoom=Math.max(m.minZoom,o.minZoom),m.maxZoom=Math.min(m.maxZoom,o.maxZoom),o.extent!==void 0&&(m.extent!==void 0?m.extent=$f(m.extent,o.extent):m.extent=o.extent),m.zIndex===void 0&&(m.zIndex=a)}return n},t.prototype.getSourceState=function(){return"ready"},t}(uq),dC=X1r;var hC={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Q1r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J1r=function(e){Q1r(t,e);function t(r,n){var i=e.call(this,r)||this;i.map_=r,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n===void 0?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=cn(o,hC.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=cn(o,hC.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(or.TOUCHMOVE,i.boundHandleTouchMove_,Xk?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(r){var n=new up(Oi.CLICK,this.map_,r);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new up(Oi.DBLCLICK,this.map_,r),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new up(Oi.SINGLECLICK,this.map_,r);this.dispatchEvent(i)}.bind(this),250)},t.prototype.updateActivePointers_=function(r){var n=r,i=n.pointerId;if(n.type==Oi.POINTERUP||n.type==Oi.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==n.target){delete this.trackedTouches_[o];break}}else(n.type==Oi.POINTERDOWN||n.type==Oi.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=DFe(this.trackedTouches_)},t.prototype.handlePointerUp_=function(r){this.updateActivePointers_(r);var n=new up(Oi.POINTERUP,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(r)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Gn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(r){return r.button===0},t.prototype.handlePointerDown_=function(r){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(r);var n=new up(Oi.POINTERDOWN,this.map_,r,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.down_={};for(var i in r){var o=r[i];this.down_[i]=typeof o=="function"?Ud:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(cn(a,Oi.POINTERMOVE,this.handlePointerMove_,this),cn(a,Oi.POINTERUP,this.handlePointerUp_,this),cn(this.element_,Oi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(cn(this.element_.getRootNode(),Oi.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(r){if(this.isMoving_(r)){this.updateActivePointers_(r),this.dragging_=!0;var n=new up(Oi.POINTERDRAG,this.map_,r,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}},t.prototype.relayMoveEvent_=function(r){this.originalPointerMoveEvent_=r;var n=!!(this.down_&&this.isMoving_(r));this.dispatchEvent(new up(Oi.POINTERMOVE,this.map_,r,n))},t.prototype.handleTouchMove_=function(r){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof r.cancelable!="boolean"||r.cancelable===!0)&&r.preventDefault()},t.prototype.isMoving_=function(r){return this.dragging_||Math.abs(r.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(r.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Gn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(or.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Gn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Gn),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(pc),nZe=J1r;var mC=1/0,e_r=function(){function e(t,r){this.priorityFunction_=t,this.keyFunction_=r,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Xu(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,r=this.priorities_,n=t[0];t.length==1?(t.length=0,r.length=0):(t[0]=t.pop(),r[0]=r.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},e.prototype.enqueue=function(t){Br(!(this.keyFunction_(t)in this.queuedElements_),31);var r=this.priorityFunction_(t);return r!=mC?(this.elements_.push(t),this.priorities_.push(r),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var r=this.elements_,n=this.priorities_,i=r.length,o=r[t],a=n[t],c=t;t<i>>1;){var p=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),g=m<i&&n[m]<n[p]?m:p;r[t]=r[g],n[t]=n[g],t=g}r[t]=o,n[t]=a,this.siftDown_(c,t)},e.prototype.siftDown_=function(t,r){for(var n=this.elements_,i=this.priorities_,o=n[r],a=i[r];r>t;){var c=this.getParentIndex_(r);if(i[c]>a)n[r]=n[c],i[r]=i[c],r=c;else break}n[r]=o,i[r]=a},e.prototype.reprioritize=function(){var t=this.priorityFunction_,r=this.elements_,n=this.priorities_,i=0,o=r.length,a,c,p;for(c=0;c<o;++c)a=r[c],p=t(a),p==mC?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=p,r[i++]=a);r.length=i,n.length=i,this.heapify_()},e}(),iZe=e_r;var ar={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var t_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r_r=function(e){t_r(t,e);function t(r,n){var i=e.call(this,function(o){return r.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(r){var n=e.prototype.enqueue.call(this,r);if(n){var i=r[0];i.addEventListener(or.CHANGE,this.boundHandleTileChange_)}return n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(r){var n=r.target,i=n.getState();if(i===ar.LOADED||i===ar.ERROR||i===ar.EMPTY){n.removeEventListener(or.CHANGE,this.boundHandleTileChange_);var o=n.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(r,n){for(var i=0,o,a,c;this.tilesLoading_<r&&i<n&&this.getCount()>0;)a=this.dequeue()[0],c=a.getKey(),o=a.getState(),o===ar.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++i,a.load())},t}(iZe),oZe=r_r;function aZe(e,t,r,n,i){if(!e||!(r in e.wantedTiles))return mC;if(!e.wantedTiles[r][t.getKey()])return mC;var o=e.viewState.center,a=n[0]-o[0],c=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+c*c)/i}var gc={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var sZe=42,dg=256;function oee(e,t,r){return function(n,i,o,a,c){if(n){if(!i&&!t)return n;var p=t?0:o[0]*i,m=t?0:o[1]*i,g=c?c[0]:0,S=c?c[1]:0,I=e[0]+p/2+g,M=e[2]-p/2+g,P=e[1]+m/2+S,N=e[3]-m/2+S;I>M&&(I=(M+I)/2,M=I),P>N&&(P=(N+P)/2,N=P);var L=Ei(n[0],I,M),q=Ei(n[1],P,N);if(a&&r&&i){var j=30*i;L+=-j*Math.log(1+Math.max(0,I-n[0])/j)+j*Math.log(1+Math.max(0,n[0]-M)/j),q+=-j*Math.log(1+Math.max(0,P-n[1])/j)+j*Math.log(1+Math.max(0,n[1]-N)/j)}return[L,q]}}}function lZe(e){return e}function aee(e,t,r,n){var i=Fi(t)/r[0],o=Oa(t)/r[1];return n?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function see(e,t,r){var n=Math.min(e,t),i=50;return n*=Math.log(1+i*Math.max(0,e/t-1))/i+1,r&&(n=Math.max(n,r),n/=Math.log(1+i*Math.max(0,r/e-1))/i+1),Ei(n,r/2,t*2)}function uZe(e,t,r,n){return function(i,o,a,c){if(i!==void 0){var p=e[0],m=e[e.length-1],g=r?aee(p,r,a,n):p;if(c){var S=t!==void 0?t:!0;return S?see(i,g,m):Ei(i,m,g)}var I=Math.min(g,i),M=Math.floor(rb(e,I,o));return e[M]>g&&M<e.length-1?e[M+1]:e[M]}else return}}function cZe(e,t,r,n,i,o){return function(a,c,p,m){if(a!==void 0){var g=i?aee(t,i,p,o):t,S=r!==void 0?r:0;if(m){var I=n!==void 0?n:!0;return I?see(a,g,S):Ei(a,S,g)}var M=1e-9,P=Math.ceil(Math.log(t/g)/Math.log(e)-M),N=-c*(.5-M)+.5,L=Math.min(g,a),q=Math.floor(Math.log(t/L)/Math.log(e)+N),j=Math.max(P,q),B=t/Math.pow(e,j);return Ei(B,S,g)}else return}}function lee(e,t,r,n,i){return function(o,a,c,p){if(o!==void 0){var m=n?aee(e,n,c,i):e,g=r!==void 0?r:!0;return!g||!p?Ei(o,t,m):see(o,m,t)}else return}}var n_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uee=0,i_r=function(e){n_r(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=bi({},r);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=GR(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.projection&&YFe(),i.center&&(i.center=Xc(i.center,n.projection_)),i.extent&&(i.extent=Vm(i.extent,n.projection_)),n.applyOptions_(i),n}return t.prototype.applyOptions_=function(r){var n=bi({},r);for(var i in gc)delete n[i];this.setProperties(n,!0);var o=a_r(r);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=r.resolutions,this.padding_=r.padding,this.minZoom_=o.minZoom;var a=o_r(r),c=o.constraint,p=s_r(r);this.constraints_={center:a,resolution:c,rotation:p},this.setRotation(r.rotation!==void 0?r.rotation:0),this.setCenterInternal(r.center!==void 0?r.center:null),r.resolution!==void 0?this.setResolution(r.resolution):r.zoom!==void 0&&this.setZoom(r.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(r){var n=this.padding_;this.padding_=r;var i=this.getCenter();if(i){var o=r||[0,0,0,0];n=n||[0,0,0,0];var a=this.getResolution(),c=a/2*(o[3]-n[3]+n[1]-o[1]),p=a/2*(o[0]-n[0]+n[2]-o[2]);this.setCenterInternal([i[0]+c,i[1]-p])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(r){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),bi({},n,r)},t.prototype.animate=function(r){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var o=arguments[i];o.center&&(o=bi({},o),o.center=Xc(o.center,this.getProjection())),o.anchor&&(o=bi({},o),o.anchor=Xc(o.anchor,this.getProjection())),n[i]=o}this.animateInternal.apply(this,n)},t.prototype.animateInternal=function(r){var n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===n){i&&fq(i,!0);return}for(var c=Date.now(),p=this.targetCenter_.slice(),m=this.targetResolution_,g=this.targetRotation_,S=[];o<n;++o){var I=arguments[o],M={start:c,complete:!1,anchor:I.anchor,duration:I.duration!==void 0?I.duration:1e3,easing:I.easing||TWe,callback:i};if(I.center&&(M.sourceCenter=p,M.targetCenter=I.center.slice(),p=M.targetCenter),I.zoom!==void 0?(M.sourceResolution=m,M.targetResolution=this.getResolutionForZoom(I.zoom),m=M.targetResolution):I.resolution&&(M.sourceResolution=m,M.targetResolution=I.resolution,m=M.targetResolution),I.rotation!==void 0){M.sourceRotation=g;var P=Yc(I.rotation-g+Math.PI,2*Math.PI)-Math.PI;M.targetRotation=g+P,g=M.targetRotation}l_r(M)?M.complete=!0:c+=M.duration,S.push(M)}this.animations_.push(S),this.setHint(Rl.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[Rl.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[Rl.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(Rl.ANIMATING,-this.hints_[Rl.ANIMATING]);for(var r,n=0,i=this.animations_.length;n<i;++n){var o=this.animations_[n];if(o[0].callback&&fq(o[0].callback,!1),!r)for(var a=0,c=o.length;a<c;++a){var p=o[a];if(!p.complete){r=p.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=r,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var r=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,c=0,p=o.length;c<p;++c){var m=o[c];if(!m.complete){var g=r-m.start,S=m.duration>0?g/m.duration:1;S>=1?(m.complete=!0,S=1):a=!1;var I=m.easing(S);if(m.sourceCenter){var M=m.sourceCenter[0],P=m.sourceCenter[1],N=m.targetCenter[0],L=m.targetCenter[1];this.nextCenter_=m.targetCenter;var q=M+I*(N-M),j=P+I*(L-P);this.targetCenter_=[q,j]}if(m.sourceResolution&&m.targetResolution){var B=I===1?m.targetResolution:m.sourceResolution+I*(m.targetResolution-m.sourceResolution);if(m.anchor){var H=this.getViewportSize_(this.getRotation()),Q=this.constraints_.resolution(B,0,H,!0);this.targetCenter_=this.calculateCenterZoom(Q,m.anchor)}this.nextResolution_=m.targetResolution,this.targetResolution_=B,this.applyTargetState_(!0)}if(m.sourceRotation!==void 0&&m.targetRotation!==void 0){var ee=I===1?Yc(m.targetRotation+Math.PI,2*Math.PI)-Math.PI:m.sourceRotation+I*(m.targetRotation-m.sourceRotation);if(m.anchor){var ne=this.constraints_.rotation(ee,!0);this.targetCenter_=this.calculateCenterRotate(ne,m.anchor)}this.nextRotation_=m.targetRotation,this.targetRotation_=ee}if(this.applyTargetState_(!0),n=!0,!m.complete)break}}if(a){this.animations_[i]=null,this.setHint(Rl.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var de=o[0].callback;de&&fq(de,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(r,n){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-n[0],o[1]-n[1]],wx(i,r-this.getRotation()),GFe(i,n)),i},t.prototype.calculateCenterZoom=function(r,n){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var c=n[0]-r*(n[0]-o[0])/a,p=n[1]-r*(n[1]-o[1])/a;i=[c,p]}return i},t.prototype.getViewportSize_=function(r){var n=this.viewportSize_;if(r){var i=n[0],o=n[1];return[Math.abs(i*Math.cos(r))+Math.abs(o*Math.sin(r)),Math.abs(i*Math.sin(r))+Math.abs(o*Math.cos(r))]}else return n},t.prototype.setViewportSize=function(r){this.viewportSize_=Array.isArray(r)?r.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var r=this.getCenterInternal();return r&&KT(r,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(gc.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(r){return r!==void 0?(r[0]=this.hints_[0],r[1]=this.hints_[1],r):this.hints_.slice()},t.prototype.calculateExtent=function(r){var n=this.calculateExtentInternal(r);return e8e(n,this.getProjection())},t.prototype.calculateExtentInternal=function(r){var n=r||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();Br(i,1);var o=this.getResolution();Br(o!==void 0,2);var a=this.getRotation();return Br(a!==void 0,3),$T(i,o,a,n)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({maxZoom:r}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({minZoom:r}))},t.prototype.setConstrainResolution=function(r){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:r}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(gc.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(r,n){return this.getResolutionForExtentInternal(Vm(r,this.getProjection()),n)},t.prototype.getResolutionForExtentInternal=function(r,n){var i=n||this.getViewportSizeMinusPadding_(),o=Fi(r)/i[0],a=Oa(r)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(r){var n=r||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(n);return function(c){var p=i/Math.pow(n,c*a);return p}},t.prototype.getRotation=function(){return this.get(gc.ROTATION)},t.prototype.getValueForResolutionFunction=function(r){var n=Math.log(r||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/n;return function(c){var p=Math.log(i/c)/n/a;return p}},t.prototype.getViewportSizeMinusPadding_=function(r){var n=this.getViewportSize_(r),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},t.prototype.getState=function(){var r=this.getProjection(),n=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var c=this.getViewportSizeMinusPadding_();o=cee(o,this.getViewportSize_(),[c[0]/2+a[3],c[1]/2+a[0]],n,i)}return{center:o.slice(0),projection:r!==void 0?r:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var r,n=this.getResolution();return n!==void 0&&(r=this.getZoomForResolution(n)),r},t.prototype.getZoomForResolution=function(r){var n=this.minZoom_||0,i,o;if(this.resolutions_){var a=rb(this.resolutions_,r,1);n=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(i/r)/Math.log(o)},t.prototype.getResolutionForZoom=function(r){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=Ei(Math.floor(r),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Ei(r-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,r-this.minZoom_)},t.prototype.fit=function(r,n){var i;if(Br(Array.isArray(r)||typeof r.getSimplifiedGeometry=="function",24),Array.isArray(r)){Br(!xy(r),25);var o=Vm(r,this.getProjection());i=lC(o)}else if(r.getType()==="Circle"){var o=Vm(r.getExtent(),this.getProjection());i=lC(o),i.rotate(this.getRotation(),Kc(o))}else{var a=JFe();a?i=r.clone().transform(a,this.getProjection()):i=r}this.fitInternal(i,n)},t.prototype.rotatedExtentForGeometry=function(r){for(var n=this.getRotation(),i=Math.cos(n),o=Math.sin(-n),a=r.getFlatCoordinates(),c=r.getStride(),p=1/0,m=1/0,g=-1/0,S=-1/0,I=0,M=a.length;I<M;I+=c){var P=a[I]*i-a[I+1]*o,N=a[I]*o+a[I+1]*i;p=Math.min(p,P),m=Math.min(m,N),g=Math.max(g,P),S=Math.max(S,N)}return[p,m,g,S]},t.prototype.fitInternal=function(r,n){var i=n||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],c=i.nearest!==void 0?i.nearest:!1,p;i.minResolution!==void 0?p=i.minResolution:i.maxZoom!==void 0?p=this.getResolutionForZoom(i.maxZoom):p=0;var m=this.rotatedExtentForGeometry(r),g=this.getResolutionForExtentInternal(m,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);g=isNaN(g)?p:Math.max(g,p),g=this.getConstrainedResolution(g,c?0:1);var S=this.getRotation(),I=Math.sin(S),M=Math.cos(S),P=Kc(m);P[0]+=(a[1]-a[3])/2*g,P[1]+=(a[0]-a[2])/2*g;var N=P[0]*M-P[1]*I,L=P[1]*M+P[0]*I,q=this.getConstrainedCenter([N,L],g),j=i.callback?i.callback:Ud;i.duration!==void 0?this.animateInternal({resolution:g,center:q,duration:i.duration,easing:i.easing},j):(this.targetResolution_=g,this.targetCenter_=q,this.applyTargetState_(!1,!0),fq(j,!0))},t.prototype.centerOn=function(r,n,i){this.centerOnInternal(Xc(r,this.getProjection()),n,i)},t.prototype.centerOnInternal=function(r,n,i){this.setCenterInternal(cee(r,n,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(r,n,i,o){var a,c=this.padding_;if(c&&r){var p=this.getViewportSizeMinusPadding_(-i),m=cee(r,o,[p[0]/2+c[3],p[1]/2+c[0]],n,i);a=[r[0]-m[0],r[1]-m[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(r){var n=KT(this.targetCenter_,this.getProjection());this.setCenter([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustCenterInternal=function(r){var n=this.targetCenter_;this.setCenterInternal([n[0]+r[0],n[1]+r[1]])},t.prototype.adjustResolution=function(r,n){var i=n&&Xc(n,this.getProjection());this.adjustResolutionInternal(r,i)},t.prototype.adjustResolutionInternal=function(r,n){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*r,0,o,i);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=r,this.applyTargetState_()},t.prototype.adjustZoom=function(r,n){this.adjustResolution(Math.pow(this.zoomFactor_,-r),n)},t.prototype.adjustRotation=function(r,n){n&&(n=Xc(n,this.getProjection())),this.adjustRotationInternal(r,n)},t.prototype.adjustRotationInternal=function(r,n){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+r,i);n&&(this.targetCenter_=this.calculateCenterRotate(o,n)),this.targetRotation_+=r,this.applyTargetState_()},t.prototype.setCenter=function(r){this.setCenterInternal(r&&Xc(r,this.getProjection()))},t.prototype.setCenterInternal=function(r){this.targetCenter_=r,this.applyTargetState_()},t.prototype.setHint=function(r,n){return this.hints_[r]+=n,this.changed(),this.hints_[r]},t.prototype.setResolution=function(r){this.targetResolution_=r,this.applyTargetState_()},t.prototype.setRotation=function(r){this.targetRotation_=r,this.applyTargetState_()},t.prototype.setZoom=function(r){this.setResolution(this.getResolutionForZoom(r))},t.prototype.applyTargetState_=function(r,n){var i=this.getAnimating()||this.getInteracting()||n,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),c=this.constraints_.resolution(this.targetResolution_,0,a,i),p=this.constraints_.center(this.targetCenter_,c,a,i,this.calculateCenterShift(this.targetCenter_,c,o,a));this.get(gc.ROTATION)!==o&&this.set(gc.ROTATION,o),this.get(gc.RESOLUTION)!==c&&(this.set(gc.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!p||!this.get(gc.CENTER)||!by(this.get(gc.CENTER),p))&&this.set(gc.CENTER,p),this.getAnimating()&&!r&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(r,n,i){var o=r!==void 0?r:200,a=n||0,c=this.constraints_.rotation(this.targetRotation_),p=this.getViewportSize_(c),m=this.constraints_.resolution(this.targetResolution_,a,p),g=this.constraints_.center(this.targetCenter_,m,p,!1,this.calculateCenterShift(this.targetCenter_,m,c,p));if(o===0&&!this.cancelAnchor_){this.targetResolution_=m,this.targetRotation_=c,this.targetCenter_=g,this.applyTargetState_();return}var S=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==m||this.getRotation()!==c||!this.getCenterInternal()||!by(this.getCenterInternal(),g))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:c,center:g,resolution:m,duration:o,easing:dc,anchor:S}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Rl.INTERACTING,1)},t.prototype.endInteraction=function(r,n,i){var o=i&&Xc(i,this.getProjection());this.endInteractionInternal(r,n,o)},t.prototype.endInteractionInternal=function(r,n,i){this.setHint(Rl.INTERACTING,-1),this.resolveConstraints(r,n,i)},t.prototype.getConstrainedCenter=function(r,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(r,n||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(r,n){var i=this.getResolutionForZoom(r);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},t.prototype.getConstrainedResolution=function(r,n){var i=n||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(r,i,o)},t}(ua);function fq(e,t){setTimeout(function(){e(t)},0)}function o_r(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return oee(e.extent,e.constrainOnlyCenter,t)}var r=GR(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,oee(n,!1,!1)}return lZe}function a_r(e){var t,r,n,i=28,o=2,a=e.minZoom!==void 0?e.minZoom:uee,c=e.maxZoom!==void 0?e.maxZoom:i,p=e.zoomFactor!==void 0?e.zoomFactor:o,m=e.multiWorld!==void 0?e.multiWorld:!1,g=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,S=e.showFullExtent!==void 0?e.showFullExtent:!1,I=GR(e.projection,"EPSG:3857"),M=I.getExtent(),P=e.constrainOnlyCenter,N=e.extent;if(!m&&!N&&I.isGlobal()&&(P=!1,N=M),e.resolutions!==void 0){var L=e.resolutions;r=L[a],n=L[c]!==void 0?L[c]:L[L.length-1],e.constrainResolution?t=uZe(L,g,!P&&N,S):t=lee(r,n,g,!P&&N,S)}else{var q=M?Math.max(Fi(M),Oa(M)):360*El[Il.DEGREES]/I.getMetersPerUnit(),j=q/dg/Math.pow(o,uee),B=j/Math.pow(o,i-uee);r=e.maxResolution,r!==void 0?a=0:r=j/Math.pow(p,a),n=e.minResolution,n===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?n=r/Math.pow(p,c):n=j/Math.pow(p,c):n=B),c=a+Math.floor(Math.log(r/n)/Math.log(p)),n=r/Math.pow(p,c-a),e.constrainResolution?t=cZe(p,r,n,g,!P&&N,S):t=lee(r,n,g,!P&&N,S)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:a,zoomFactor:p}}function s_r(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var r=e.constrainRotation;return r===void 0||r===!0?P$e():r===!1?XJ:typeof r=="number"?D$e(r):XJ}else return cb}function l_r(e){return!(e.sourceCenter&&e.targetCenter&&!by(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function cee(e,t,r,n,i){var o=Math.cos(-i),a=Math.sin(-i),c=e[0]*o-e[1]*a,p=e[1]*o+e[0]*a;c+=(t[0]/2-r[0])*n,p+=(r[1]-t[1]/2)*n,a=-a;var m=c*o-p*a,g=p*o+c*a;return[m,g]}var fp=i_r;var u_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function fZe(e){if(e instanceof pC){e.setMapInternal(null);return}e instanceof dC&&e.getLayers().forEach(fZe)}function pZe(e,t){if(e instanceof pC){e.setMapInternal(t);return}if(e instanceof dC)for(var r=e.getLayers().getArray(),n=0,i=r.length;n<i;++n)pZe(r[n],t)}var c_r=function(e){u_r(t,e);function t(r){var n=e.call(this)||this;n.on,n.once,n.un;var i=f_r(r);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,n.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:Kk,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=hc(),n.pixelToCoordinateTransform_=hc(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=r.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new Hs,n.interactions=i.interactions||new Hs,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new oZe(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Do.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(Do.VIEW,n.handleViewChanged_),n.addChangeListener(Do.SIZE,n.handleSizeChanged_),n.addChangeListener(Do.TARGET,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return r.view&&!(r.view instanceof fp)&&r.view.then(function(a){o.setView(new fp(a))}),n.controls.addEventListener(Gs.ADD,function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener(Gs.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Gs.ADD,function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Gs.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Gs.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener(Gs.REMOVE,function(a){var c=a.element,p=c.getId();p!==void 0&&delete this.overlayIdIndex_[p.toString()],a.element.setMap(null)}.bind(n)),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(r){this.getControls().push(r)},t.prototype.addInteraction=function(r){this.getInteractions().push(r)},t.prototype.addLayer=function(r){var n=this.getLayerGroup().getLayers();n.push(r)},t.prototype.handleLayerAdd_=function(r){pZe(r.layer,this)},t.prototype.addOverlay=function(r){this.getOverlays().push(r)},t.prototype.addOverlayInternal_=function(r){var n=r.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=r),r.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(r,n,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(r);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter!==void 0?i.layerFilter:ag,p=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,p,n,null,c,null)}},t.prototype.getFeaturesAtPixel=function(r,n){var i=[];return this.forEachFeatureAtPixel(r,function(o){i.push(o)},n),i},t.prototype.getAllLayers=function(){var r=[];function n(i){i.forEach(function(o){o instanceof dC?n(o.getLayers()):r.push(o)})}return n(this.getLayers()),r},t.prototype.forEachLayerAtPixel=function(r,n,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,c=o.layerFilter||ag;return this.renderer_.forEachLayerAtPixel(r,this.frameState_,a,n,c)}},t.prototype.hasFeatureAtPixel=function(r,n){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(r);n=n!==void 0?n:{};var o=n.layerFilter!==void 0?n.layerFilter:ag,a=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,c,o,null)},t.prototype.getEventCoordinate=function(r){return this.getCoordinateFromPixel(this.getEventPixel(r))},t.prototype.getEventCoordinateInternal=function(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))},t.prototype.getEventPixel=function(r){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in r?r.changedTouches[0]:r;return[i.clientX-n.left,i.clientY-n.top]},t.prototype.getTarget=function(){return this.get(Do.TARGET)},t.prototype.getTargetElement=function(){var r=this.getTarget();return r!==void 0?typeof r=="string"?document.getElementById(r):r:null},t.prototype.getCoordinateFromPixel=function(r){return KT(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(r){var n=this.frameState_;return n?lg(n.pixelToCoordinateTransform,r.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(r){var n=this.overlayIdIndex_[r.toString()];return n!==void 0?n:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Do.LAYERGROUP)},t.prototype.setLayers=function(r){var n=this.getLayerGroup();if(r instanceof Hs){n.setLayers(r);return}var i=n.getLayers();i.clear(),i.extend(r)},t.prototype.getLayers=function(){var r=this.getLayerGroup().getLayers();return r},t.prototype.getLoadingOrNotReady=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,i=r.length;n<i;++n){var o=r[n];if(o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var c=o.layer.getSource();if(c&&c.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(r){var n=Xc(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},t.prototype.getPixelFromCoordinateInternal=function(r){var n=this.frameState_;return n?lg(n.coordinateToPixelTransform,r.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(Do.SIZE)},t.prototype.getView=function(){return this.get(Do.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var r=this.getTargetElement();return r?r.ownerDocument:document},t.prototype.getTilePriority=function(r,n,i,o){return aZe(this.frameState_,r,n,i,o)},t.prototype.handleBrowserEvent=function(r,n){var i=n||r.type,o=new up(i,this,r);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(r){if(this.frameState_){var n=r.originalEvent,i=n.type;if(i===hC.POINTERDOWN||i===or.WHEEL||i===or.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,c=n.target;if(this.overlayContainerStopEvent_.contains(c)||!(a===o?o.documentElement:a).contains(c))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1)for(var p=this.getInteractions().getArray().slice(),m=p.length-1;m>=0;m--){var g=p[m];if(!(g.getMap()!==this||!g.getActive()||!this.getTargetElement())){var S=g.handleEvent(r);if(!S||r.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var r=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,o=i;if(r){var a=r.viewHints;if(a[Rl.ANIMATING]||a[Rl.INTERACTING]){var c=Date.now()-r.time>8;i=c?0:8,o=c?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}r&&this.renderer_&&!r.animate&&(this.renderComplete_===!0?(this.hasListener(gs.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(gs.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new pg(sp.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new pg(sp.LOADSTART,this,r))));for(var p=this.postRenderFunctions_,m=0,g=p.length;m<g;++m)p[m](this,r);p.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var r=0,n=this.targetChangeHandlerKeys_.length;r<n;++r)Gn(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(or.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(or.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,cC(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new nZe(this,this.moveTolerance_);for(var o in Oi)this.mapBrowserEventHandler_.addEventListener(Oi[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(or.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(or.WHEEL,this.boundHandleBrowserEvent_,Xk?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,c=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[cn(c,or.KEYDOWN,this.handleBrowserEvent,this),cn(c,or.KEYPRESS,this.handleBrowserEvent,this),cn(a,or.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Gn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Gn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var r=this.getView();r&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=cn(r,Fd.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=cn(r,or.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Gn),this.layerGroupPropertyListenerKeys_=null);var r=this.getLayerGroup();r&&(this.handleLayerAdd_(new Gd("addlayer",r)),this.layerGroupPropertyListenerKeys_=[cn(r,Fd.PROPERTYCHANGE,this.render,this),cn(r,or.CHANGE,this.render,this),cn(r,"addlayer",this.handleLayerAdd_,this),cn(r,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),n=0,i=r.length;n<i;++n){var o=r[n].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(r){return this.getControls().remove(r)},t.prototype.removeInteraction=function(r){return this.getInteractions().remove(r)},t.prototype.removeLayer=function(r){var n=this.getLayerGroup().getLayers();return n.remove(r)},t.prototype.handleLayerRemove_=function(r){fZe(r.layer)},t.prototype.removeOverlay=function(r){return this.getOverlays().remove(r)},t.prototype.renderFrame_=function(r){var n=this,i=this.getSize(),o=this.getView(),a=this.frameState_,c=null;if(i!==void 0&&JJ(i)&&o&&o.isDef()){var p=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),m=o.getState();if(c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:$T(m.center,m.resolution,m.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:m,viewHints:p,wantedTiles:{},mapId:bo(this),renderTargets:{}},m.nextCenter&&m.nextResolution){var g=isNaN(m.nextRotation)?m.rotation:m.nextRotation;c.nextExtent=$T(m.nextCenter,m.nextResolution,g,i)}}if(this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),a){var S=!this.previousExtent_||!xy(this.previousExtent_)&&!GT(c.extent,this.previousExtent_);S&&(this.dispatchEvent(new pg(sp.MOVESTART,this,a)),this.previousExtent_=bx(this.previousExtent_))}var I=this.previousExtent_&&!c.viewHints[Rl.ANIMATING]&&!c.viewHints[Rl.INTERACTING]&&!GT(c.extent,this.previousExtent_);I&&(this.dispatchEvent(new pg(sp.MOVEEND,this,c)),RFe(c.extent,this.previousExtent_))}this.dispatchEvent(new pg(sp.POSTRENDER,this,c)),this.renderComplete_=this.hasListener(sp.LOADSTART)||this.hasListener(sp.LOADEND)||this.hasListener(gs.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},t.prototype.setLayerGroup=function(r){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new Gd("removelayer",n)),this.set(Do.LAYERGROUP,r)},t.prototype.setSize=function(r){this.set(Do.SIZE,r)},t.prototype.setTarget=function(r){this.set(Do.TARGET,r)},t.prototype.setView=function(r){if(!r||r instanceof fp){this.set(Do.VIEW,r);return}this.set(Do.VIEW,new fp);var n=this;r.then(function(i){n.setView(new fp(i))})},t.prototype.updateSize=function(){var r=this.getTargetElement(),n=void 0;if(r){var i=getComputedStyle(r),o=r.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=r.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(n=[o,a],!JJ(n)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var r=this.getView();if(r){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),r.setViewportSize(n)}},t}(ua);function f_r(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r={},n=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new dC({layers:e.layers});r[Do.LAYERGROUP]=n,r[Do.TARGET]=e.target,r[Do.VIEW]=e.view instanceof fp?e.view:new fp;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Hs(e.controls.slice()):(Br(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new Hs(e.interactions.slice()):(Br(typeof e.interactions.getArray=="function",48),o=e.interactions));var a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new Hs(e.overlays.slice()):(Br(typeof e.overlays.getArray=="function",49),a=e.overlays):a=new Hs,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:r}}var dZe=c_r;var p_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d_r=function(e){p_r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=i.collapsed!==void 0?i.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=i.collapsible!==void 0,n.collapsible_=i.collapsible!==void 0?i.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",c=i.expandClassName!==void 0?i.expandClassName:o+"-expand",p=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",m=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof p=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=p,n.collapseLabel_.className=m):n.collapseLabel_=p;var g=i.label!==void 0?i.label:"i";typeof g=="string"?(n.label_=document.createElement("span"),n.label_.textContent=g,n.label_.className=c):n.label_=g;var S=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(S),n.toggleButton_.addEventListener(or.CLICK,n.handleClick_.bind(n),!1);var I=o+" "+mc+" "+lp+(n.collapsed_&&n.collapsible_?" "+KJ:"")+(n.collapsible_?"":" ol-uncollapsible"),M=n.element;return M.className=I,M.appendChild(n.toggleButton_),M.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return t.prototype.collectSourceAttributions_=function(r){for(var n={},i=[],o=!0,a=r.layerStatesArray,c=0,p=a.length;c<p;++c){var m=a[c];if(Vy(m,r.viewState)){var g=m.layer.getSource();if(g){var S=g.getAttributions();if(S){var I=S(r);if(I)if(o=o&&g.getAttributionsCollapsible()!==!1,Array.isArray(I))for(var M=0,P=I.length;M<P;++M)I[M]in n||(i.push(I[M]),n[I[M]]=!0);else I in n||(i.push(I),n[I]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(r){if(!r){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(r),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!$k(n,this.renderedAttributions_)){v$e(this.ulElement_);for(var o=0,a=n.length;o<a;++o){var c=document.createElement("li");c.innerHTML=n[o],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}},t.prototype.handleClick_=function(r){r.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(KJ),this.collapsed_?ub(this.collapseLabel_,this.label_):ub(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(r){this.collapsible_!==r&&(this.collapsible_=r,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(r){this.userCollapsed_=r,!(!this.collapsible_||this.collapsed_===r)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(r){this.updateElement_(r.frameState)},t}(hu),hZe=d_r;var h_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m_r=function(e){h_r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",c=i.compassClassName!==void 0?i.compassClassName:"ol-compass";n.label_=null,typeof a=="string"?(n.label_=document.createElement("span"),n.label_.className=c,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(c));var p=i.tipLabel?i.tipLabel:"Reset rotation",m=document.createElement("button");m.className=o+"-reset",m.setAttribute("type","button"),m.title=p,m.appendChild(n.label_),m.addEventListener(or.CLICK,n.handleClick_.bind(n),!1);var g=o+" "+mc+" "+lp,S=n.element;return S.className=g,S.appendChild(m),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=i.duration!==void 0?i.duration:250,n.autoHide_=i.autoHide!==void 0?i.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(fC),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var r=this.getMap(),n=r.getView();if(n){var i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:dc}):n.setRotation(0))}},t.prototype.render=function(r){var n=r.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(fC);!a&&i===0?this.element.classList.add(fC):a&&i!==0&&this.element.classList.remove(fC)}this.label_.style.transform=o}this.rotation_=i}},t}(hu),mZe=m_r;var g_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v_r=function(e){g_r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,c=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",p=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",m=i.zoomInLabel!==void 0?i.zoomInLabel:"+",g=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",S=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",I=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",M=document.createElement("button");M.className=c,M.setAttribute("type","button"),M.title=S,M.appendChild(typeof m=="string"?document.createTextNode(m):m),M.addEventListener(or.CLICK,n.handleClick_.bind(n,a),!1);var P=document.createElement("button");P.className=p,P.setAttribute("type","button"),P.title=I,P.appendChild(typeof g=="string"?document.createTextNode(g):g),P.addEventListener(or.CLICK,n.handleClick_.bind(n,-a),!1);var N=o+" "+mc+" "+lp,L=n.element;return L.className=N,L.appendChild(M),L.appendChild(P),n.duration_=i.duration!==void 0?i.duration:250,n}return t.prototype.handleClick_=function(r,n){n.preventDefault(),this.zoomByDelta_(r)},t.prototype.zoomByDelta_=function(r){var n=this.getMap(),i=n.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+r);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:dc})):i.setZoom(a)}}},t}(hu),pq=v_r;var y_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__r=function(e){y_r(t,e);function t(r){var n=this,i=r||{};n=e.call(this,{element:document.createElement("div"),target:i.target})||this,n.extent=i.extent?i.extent:null;var o=i.className!==void 0?i.className:"ol-zoom-extent",a=i.label!==void 0?i.label:"E",c=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",p=document.createElement("button");p.setAttribute("type","button"),p.title=c,p.appendChild(typeof a=="string"?document.createTextNode(a):a),p.addEventListener(or.CLICK,n.handleClick_.bind(n),!1);var m=o+" "+mc+" "+lp,g=n.element;return g.className=m,g.appendChild(p),n}return t.prototype.handleClick_=function(r){r.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var r=this.getMap(),n=r.getView(),i=this.extent?this.extent:n.getProjection().getExtent();n.fitInternal(lC(i))},t}(hu),gZe=__r;function vZe(e){var t=e||{},r=new Hs,n=t.zoom!==void 0?t.zoom:!0;n&&r.push(new pq(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&r.push(new mZe(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&r.push(new hZe(t.attributionOptions)),r}var x_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b_r=function(e){x_r(t,e);function t(r){return r=bi({},r),r.controls||(r.controls=vZe()),r.interactions||(r.interactions=cq({onFocusOnly:!0})),e.call(this,r)||this}return t.prototype.createRenderer=function(){return new tZe(this)},t}(dZe),yZe=b_r;var gC={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var w_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S_r=function(e){w_r(t,e);function t(r){var n=this,i=r||{},o=bi({},i);return delete o.preload,delete o.useInterimTilesOnError,n=e.call(this,o)||this,n.on,n.once,n.un,n.setPreload(i.preload!==void 0?i.preload:0),n.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),n}return t.prototype.getPreload=function(){return this.get(gC.PRELOAD)},t.prototype.setPreload=function(r){this.set(gC.PRELOAD,r)},t.prototype.getUseInterimTilesOnError=function(){return this.get(gC.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(r){this.set(gC.USE_INTERIM_TILES_ON_ERROR,r)},t.prototype.getData=function(r){return e.prototype.getData.call(this,r)},t}(pC),_Ze=S_r;var E_r=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var r=this.oldest_;r;)t(r.value_,r.key_,this),r=r.newer},e.prototype.get=function(t,r){var n=this.entries_[t];return Br(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},e.prototype.remove=function(t){var r=this.entries_[t];return Br(r!==void 0,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),r=0,n;for(n=this.newest_;n;n=n.older)t[r++]=n.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,r){this.get(t),this.entries_[t].value_=r},e.prototype.set=function(t,r){Br(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(),dq=E_r;var xZe=function(){function e(t,r,n,i){this.minX=t,this.maxX=r,this.minY=n,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,r){return this.minX<=t&&t<=this.maxX&&this.minY<=r&&r<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function Gy(e,t,r,n,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=r,i.maxY=n,i):new xZe(e,t,r,n)}var hq=xZe;var I_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T_r=function(e){I_r(t,e);function t(r,n,i){var o=e.call(this)||this,a=i||{};return o.tileCoord=r,o.state=n,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(or.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var r=this.interimTile;do{if(r.getState()==ar.LOADED)return this.transition_=0,r;r=r.interimTile}while(r);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var r=this.interimTile,n=this;do{if(r.getState()==ar.LOADED){r.interimTile=null;break}else r.getState()==ar.LOADING?n=r:r.getState()==ar.IDLE?n.interimTile=r.interimTile:n=r;r=n.interimTile}while(r)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(r){if(this.state!==ar.ERROR&&this.state>r)throw new Error("Tile load sequence violation");this.state=r,this.changed()},t.prototype.load=function(){Cn()},t.prototype.getAlpha=function(r,n){if(!this.transition_)return 1;var i=this.transitionStarts_[r];if(!i)i=n,this.transitionStarts_[r]=i;else if(i===-1)return 1;var o=n-i+1e3/60;return o>=this.transition_?1:kJ(o/this.transition_)},t.prototype.inTransition=function(r){return this.transition_?this.transitionStarts_[r]!==-1:!1},t.prototype.endTransition=function(r){this.transition_&&(this.transitionStarts_[r]=-1)},t}(pc),db=T_r;var C_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M_r=function(e){C_r(t,e);function t(r){var n=this,i=ar.IDLE;return n=e.call(this,r.tileCoord,i,{transition:r.transition,interpolate:r.interpolate})||this,n.loader_=r.loader,n.data_=null,n.error_=null,n.size_=r.size||[256,256],n}return t.prototype.getSize=function(){return this.size_},t.prototype.getData=function(){return this.data_},t.prototype.getError=function(){return this.error_},t.prototype.load=function(){if(!(this.state!==ar.IDLE&&this.state!==ar.ERROR)){this.state=ar.LOADING,this.changed();var r=this;this.loader_().then(function(n){r.data_=n,r.state=ar.LOADED,r.changed()}).catch(function(n){r.error_=n,r.state=ar.ERROR,r.changed()})}},t}(db),bZe=M_r;var A_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O_r=function(e){A_r(t,e);function t(r,n,i,o,a,c){var p=e.call(this,r,n,c)||this;return p.crossOrigin_=o,p.src_=i,p.key=i,p.image_=new Image,o!==null&&(p.image_.crossOrigin=o),p.unlisten_=null,p.tileLoadFunction_=a,p}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r,this.state=ar.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=ar.ERROR,this.unlistenImage_(),this.image_=D_r(),this.changed()},t.prototype.handleImageLoad_=function(){var r=this.image_;r.naturalWidth&&r.naturalHeight?this.state=ar.LOADED:this.state=ar.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==ar.ERROR&&(this.state=ar.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ar.IDLE&&(this.state=ar.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=nee(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(db);function D_r(){var e=Vd(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var Hy=O_r;var wZe=.5,pp=!0;var P_r=10,SZe=.25,L_r=function(){function e(t,r,n,i,o,a){this.sourceProj_=t,this.targetProj_=r;var c={},p=wy(this.targetProj_,this.sourceProj_);this.transformInv_=function(B){var H=B[0]+"/"+B[1];return c[H]||(c[H]=p(B)),c[H]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Fi(i)==Fi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Fi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Fi(this.targetProj_.getExtent()):null;var m=Bm(n),g=VR(n),S=UR(n),I=BR(n),M=this.transformInv_(m),P=this.transformInv_(g),N=this.transformInv_(S),L=this.transformInv_(I),q=P_r+(a?Math.max(0,Math.ceil(RR(WT(n)/(a*a*256*256)))):0);if(this.addQuad_(m,g,S,I,M,P,N,L,q),this.wrapsXInSource_){var j=1/0;this.triangles_.forEach(function(B,H,Q){j=Math.min(j,B.source[0][0],B.source[1][0],B.source[2][0])}),this.triangles_.forEach(function(B){if(Math.max(B.source[0][0],B.source[1][0],B.source[2][0])-j>this.sourceWorldWidth_/2){var H=[[B.source[0][0],B.source[0][1]],[B.source[1][0],B.source[1][1]],[B.source[2][0],B.source[2][1]]];H[0][0]-j>this.sourceWorldWidth_/2&&(H[0][0]-=this.sourceWorldWidth_),H[1][0]-j>this.sourceWorldWidth_/2&&(H[1][0]-=this.sourceWorldWidth_),H[2][0]-j>this.sourceWorldWidth_/2&&(H[2][0]-=this.sourceWorldWidth_);var Q=Math.min(H[0][0],H[1][0],H[2][0]),ee=Math.max(H[0][0],H[1][0],H[2][0]);ee-Q<this.sourceWorldWidth_/2&&(B.source=H)}}.bind(this))}c={}}return e.prototype.addTriangle_=function(t,r,n,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,r,n]})},e.prototype.addQuad_=function(t,r,n,i,o,a,c,p,m){var g=VT([o,a,c,p]),S=this.sourceWorldWidth_?Fi(g)/this.sourceWorldWidth_:null,I=this.sourceWorldWidth_,M=this.sourceProj_.canWrapX()&&S>.5&&S<1,P=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var N=VT([t,r,n,i]),L=Fi(N)/this.targetWorldWidth_;P=L>SZe||P}!M&&this.sourceProj_.isGlobal()&&S&&(P=S>SZe||P)}if(!(!P&&this.maxSourceExtent_&&isFinite(g[0])&&isFinite(g[1])&&isFinite(g[2])&&isFinite(g[3])&&!ZT(g,this.maxSourceExtent_))){var q=0;if(!P&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(p[0])||!isFinite(p[1]))){if(m>0)P=!0;else if(q=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(p[0])||!isFinite(p[1])?1:0),q!=1&&q!=2&&q!=4&&q!=8)return}if(m>0){if(!P){var j=[(t[0]+n[0])/2,(t[1]+n[1])/2],B=this.transformInv_(j),H=void 0;if(M){var Q=(Yc(o[0],I)+Yc(c[0],I))/2;H=Q-Yc(B[0],I)}else H=(o[0]+c[0])/2-B[0];var ee=(o[1]+c[1])/2-B[1],ne=H*H+ee*ee;P=ne>this.errorThresholdSquared_}if(P){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var de=[(r[0]+n[0])/2,(r[1]+n[1])/2],ue=this.transformInv_(de),be=[(i[0]+t[0])/2,(i[1]+t[1])/2],Ee=this.transformInv_(be);this.addQuad_(t,r,de,be,o,a,ue,Ee,m-1),this.addQuad_(be,de,n,i,Ee,ue,c,p,m-1)}else{var Re=[(t[0]+r[0])/2,(t[1]+r[1])/2],Ie=this.transformInv_(Re),We=[(n[0]+i[0])/2,(n[1]+i[1])/2],$e=this.transformInv_(We);this.addQuad_(t,Re,We,i,o,Ie,$e,p,m-1),this.addQuad_(Re,r,n,We,Ie,a,c,$e,m-1)}return}}if(M){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}q&11||this.addTriangle_(t,n,i,o,c,p),q&14||this.addTriangle_(t,n,r,o,c,a),q&&(q&13||this.addTriangle_(r,i,t,a,p,o),q&7||this.addTriangle_(r,i,n,a,p,c))}},e.prototype.calculateSourceExtent=function(){var t=Wf();return this.triangles_.forEach(function(r,n,i){var o=r.source;HT(t,o[0]),HT(t,o[1]),HT(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),EZe=L_r;var fee={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};var pee,hee=[];function IZe(e,t,r,n,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(n,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(r,i)),e.restore()}function dee(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function N_r(){if(pee===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",IZe(e,4,5,4,0),IZe(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;pee=dee(t,0)||dee(t,4)||dee(t,8)}return pee}function TZe(e,t,r,n){var i=YT(r,t,e),o=AK(t,n,r),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var c=e.getMetersPerUnit();c!==void 0&&(o/=c);var p=e.getExtent();if(!p||Id(p,i)){var m=AK(e,o,i)/o;isFinite(m)&&m>0&&(o/=m)}return o}function CZe(e,t,r,n){var i=Kc(r),o=TZe(e,t,i,n);return(!isFinite(o)||o<=0)&&FR(r,function(a){return o=TZe(e,t,a,n),isFinite(o)&&o>0}),o}function MZe(e,t,r,n,i,o,a,c,p,m,g,S){var I=Vd(Math.round(r*e),Math.round(r*t),hee);if(S||bi(I,fee),p.length===0)return I.canvas;I.scale(r,r);function M(H){return Math.round(H*r)/r}I.globalCompositeOperation="lighter";var P=Wf();p.forEach(function(H,Q,ee){zFe(P,H.extent)});var N=Fi(P),L=Oa(P),q=Vd(Math.round(r*N/n),Math.round(r*L/n));S||bi(q,fee);var j=r/n;p.forEach(function(H,Q,ee){var ne=H.extent[0]-P[0],de=-(H.extent[3]-P[3]),ue=Fi(H.extent),be=Oa(H.extent);H.image.width>0&&H.image.height>0&&q.drawImage(H.image,m,m,H.image.width-2*m,H.image.height-2*m,ne*j,de*j,ue*j,be*j)});var B=Bm(a);return c.getTriangles().forEach(function(H,Q,ee){var ne=H.source,de=H.target,ue=ne[0][0],be=ne[0][1],Ee=ne[1][0],Re=ne[1][1],Ie=ne[2][0],We=ne[2][1],$e=M((de[0][0]-B[0])/o),Fe=M(-(de[0][1]-B[1])/o),je=M((de[1][0]-B[0])/o),Ce=M(-(de[1][1]-B[1])/o),Xe=M((de[2][0]-B[0])/o),et=M(-(de[2][1]-B[1])/o),st=ue,Ge=be;ue=0,be=0,Ee-=st,Re-=Ge,Ie-=st,We-=Ge;var Ke=[[Ee,Re,0,0,je-$e],[Ie,We,0,0,Xe-$e],[0,0,Ee,Re,Ce-Fe],[0,0,Ie,We,et-Fe]],it=SFe(Ke);if(it){if(I.save(),I.beginPath(),N_r()||!S){I.moveTo(je,Ce);for(var Le=4,he=$e-je,Be=Fe-Ce,Me=0;Me<Le;Me++)I.lineTo(je+M((Me+1)*he/Le),Ce+M(Me*Be/(Le-1))),Me!=Le-1&&I.lineTo(je+M((Me+1)*he/Le),Ce+M((Me+1)*Be/(Le-1)));I.lineTo(Xe,et)}else I.moveTo(je,Ce),I.lineTo($e,Fe),I.lineTo(Xe,et);I.clip(),I.transform(it[0],it[2],it[1],it[3],$e,Fe),I.translate(P[0]-st,P[3]-Ge),I.scale(n/r,-n/r),I.drawImage(q.canvas,0,0),I.restore()}}),g&&(I.save(),I.globalCompositeOperation="source-over",I.strokeStyle="black",I.lineWidth=1,c.getTriangles().forEach(function(H,Q,ee){var ne=H.target,de=(ne[0][0]-B[0])/o,ue=-(ne[0][1]-B[1])/o,be=(ne[1][0]-B[0])/o,Ee=-(ne[1][1]-B[1])/o,Re=(ne[2][0]-B[0])/o,Ie=-(ne[2][1]-B[1])/o;I.beginPath(),I.moveTo(be,Ee),I.lineTo(de,ue),I.lineTo(Re,Ie),I.closePath(),I.stroke()}),I.restore()),I.canvas}var R_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k_r=function(e){R_r(t,e);function t(r,n,i,o,a,c,p,m,g,S,I,M){var P=e.call(this,a,ar.IDLE,{interpolate:!!M})||this;P.renderEdges_=I!==void 0?I:!1,P.pixelRatio_=p,P.gutter_=m,P.canvas_=null,P.sourceTileGrid_=n,P.targetTileGrid_=o,P.wrappedTileCoord_=c||a,P.sourceTiles_=[],P.sourcesListenerKeys_=null,P.sourceZ_=0;var N=o.getTileCoordExtent(P.wrappedTileCoord_),L=P.targetTileGrid_.getExtent(),q=P.sourceTileGrid_.getExtent(),j=L?$f(N,L):N;if(WT(j)===0)return P.state=ar.EMPTY,P;var B=r.getExtent();B&&(q?q=$f(q,B):q=B);var H=o.getResolution(P.wrappedTileCoord_[0]),Q=CZe(r,i,j,H);if(!isFinite(Q)||Q<=0)return P.state=ar.EMPTY,P;var ee=S!==void 0?S:wZe;if(P.triangulation_=new EZe(r,i,j,q,Q*ee,H),P.triangulation_.getTriangles().length===0)return P.state=ar.EMPTY,P;P.sourceZ_=n.getZForResolution(Q);var ne=P.triangulation_.calculateSourceExtent();if(q&&(r.canWrapX()?(ne[1]=Ei(ne[1],q[1],q[3]),ne[3]=Ei(ne[3],q[1],q[3])):ne=$f(ne,q)),!WT(ne))P.state=ar.EMPTY;else{for(var de=n.getTileRangeForExtentAndZ(ne,P.sourceZ_),ue=de.minX;ue<=de.maxX;ue++)for(var be=de.minY;be<=de.maxY;be++){var Ee=g(P.sourceZ_,ue,be,p);Ee&&P.sourceTiles_.push(Ee)}P.sourceTiles_.length===0&&(P.state=ar.EMPTY)}return P}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var r=[];if(this.sourceTiles_.forEach(function(g,S,I){g&&g.getState()==ar.LOADED&&r.push({extent:this.sourceTileGrid_.getTileCoordExtent(g.tileCoord),image:g.getImage()})}.bind(this)),this.sourceTiles_.length=0,r.length===0)this.state=ar.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(n),p=this.sourceTileGrid_.getResolution(this.sourceZ_),m=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=MZe(o,a,this.pixelRatio_,p,this.sourceTileGrid_.getExtent(),c,m,this.triangulation_,r,this.gutter_,this.renderEdges_,this.interpolate),this.state=ar.LOADED}this.changed()},t.prototype.load=function(){if(this.state==ar.IDLE){this.state=ar.LOADING,this.changed();var r=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();if(a==ar.IDLE||a==ar.LOADING){r++;var c=cn(n,or.CHANGE,function(p){var m=n.getState();(m==ar.LOADED||m==ar.ERROR||m==ar.EMPTY)&&(Gn(c),r--,r===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(c)}}.bind(this)),r===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();a==ar.IDLE&&n.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Gn),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(g$e(this.canvas_.getContext("2d")),hee.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(db),mq=k_r;var vC=34962,yC=34963,OZe=35040,hb=35044,DZe=35048,PZe=5121,LZe=5123,NZe=5125,mee=5126,AZe=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function gee(e,t){for(var r=bi({preserveDrawingBuffer:!0,antialias:!OWe},t),n=AZe.length,i=0;i<n;++i)try{var o=e.getContext(AZe[i],r);if(o)return o}catch(a){}return null}var q_r={STATIC_DRAW:hb,STREAM_DRAW:OZe,DYNAMIC_DRAW:DZe},j_r=function(){function e(t,r){this.array=null,this.type=t,Br(t===vC||t===yC,62),this.usage=r!==void 0?r:q_r.STATIC_DRAW}return e.prototype.ofSize=function(t){this.array=new(vee(this.type))(t)},e.prototype.fromArray=function(t){var r=vee(this.type);this.array=r.from?r.from(t):new r(t)},e.prototype.fromArrayBuffer=function(t){this.array=new(vee(this.type))(t)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}();function vee(e){switch(e){case vC:return Float32Array;case yC:return Uint32Array;default:return Float32Array;}}var gq=j_r;var z_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function kZe(e,t,r){var n=r?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n)}function F_r(e,t,r,n){kZe(e,t,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}function RZe(e,t,r,n,i,o){var a=e.getGL(),c,p;if(r instanceof Float32Array){c=a.FLOAT,e.getExtension("OES_texture_float");var m=e.getExtension("OES_texture_float_linear");p=m!==null}else c=a.UNSIGNED_BYTE,p=!0;kZe(a,t,o&&p);var g=r.byteLength/n[1],S=1;g%8===0?S=8:g%4===0?S=4:g%2===0&&(S=2);var I;switch(i){case 1:{I=a.LUMINANCE;break}case 2:{I=a.LUMINANCE_ALPHA;break}case 3:{I=a.RGB;break}case 4:{I=a.RGBA;break}default:throw new Error("Unsupported number of bands: ".concat(i));}var M=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,S),a.texImage2D(a.TEXTURE_2D,0,I,n[0],n[1],0,I,c,r),a.pixelStorei(a.UNPACK_ALIGNMENT,M)}var mb=null;function B_r(){var e=document.createElement("canvas");e.width=1,e.height=1,mb=e.getContext("2d")}var U_r=function(e){z_r(t,e);function t(r){var n=e.call(this)||this;n.tile,n.textures=[],n.handleTileChange_=n.handleTileChange_.bind(n),n.renderSize_=ca(r.grid.getTileSize(r.tile.tileCoord[0])),n.gutter_=r.gutter||0,n.bandCount=NaN,n.helper_=r.helper;var i=new gq(vC,hb);return i.fromArray([0,1,1,1,1,0,0,0]),n.helper_.flushBufferData(i),n.coords=i,n.setTile(r.tile),n}return t.prototype.setTile=function(r){if(r!==this.tile)if(this.tile&&this.tile.removeEventListener(or.CHANGE,this.handleTileChange_),this.tile=r,this.textures.length=0,this.loaded=r.getState()===ar.LOADED,this.loaded)this.uploadTile_();else{if(r instanceof Hy){var n=r.getImage();n instanceof Image&&!n.crossOrigin&&(n.crossOrigin="anonymous")}r.addEventListener(or.CHANGE,this.handleTileChange_)}},t.prototype.uploadTile_=function(){var r=this.helper_,n=r.getGL(),i=this.tile;if(i instanceof Hy||i instanceof mq){var o=n.createTexture();this.textures.push(o),this.bandCount=4,F_r(n,o,i.getImage(),i.interpolate);return}var a=i.getSize(),c=[a[0]+2*this.gutter_,a[1]+2*this.gutter_],p=i.getData(),m=p instanceof Float32Array,g=c[0]*c[1],S=m?Float32Array:Uint8Array,I=S.BYTES_PER_ELEMENT,M=p.byteLength/c[1];this.bandCount=Math.floor(M/I/c[0]);var P=Math.ceil(this.bandCount/4);if(P===1){var o=n.createTexture();this.textures.push(o),RZe(r,o,p,c,this.bandCount,i.interpolate);return}for(var N=new Array(P),L=0;L<P;++L){var o=n.createTexture();this.textures.push(o);var q=L<P-1?4:this.bandCount%4;N[L]=new S(g*q)}for(var j=0,B=0,H=c[0]*this.bandCount,Q=0;Q<c[1];++Q){for(var ee=0;ee<H;++ee){var ne=p[B+ee],de=Math.floor(j/this.bandCount),ue=ee%this.bandCount,L=Math.floor(ue/4),be=N[L],q=be.length/g,Ee=ue%4;be[de*q+Ee]=ne,++j}B+=M/I}for(var L=0;L<P;++L){var o=this.textures[L],be=N[L],q=be.length/g;RZe(r,o,be,c,q,i.interpolate)}},t.prototype.handleTileChange_=function(){this.tile.getState()===ar.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(or.CHANGE))},t.prototype.disposeInternal=function(){var r=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var n=0;n<this.textures.length;++n)r.deleteTexture(this.textures[n]);this.tile.removeEventListener(or.CHANGE,this.handleTileChange_)},t.prototype.getPixelData=function(r,n){if(!this.loaded)return null;var i=this.renderSize_[0],o=this.renderSize_[1],a=this.gutter_;if(this.tile instanceof bZe){var c=this.tile.getSize(),p=c[0],m=c[1],g=p+2*a,S=m+2*a,I=a+Math.floor(p*(r/i)),M=a+Math.floor(m*(n/o)),P=this.tile.getData();if(P instanceof DataView){var N=P.byteLength/(g*S),L=N*(M*g+I),q=P.buffer.slice(L,L+N);return new DataView(q)}var j=this.bandCount*(M*g+I);return P.slice(j,j+this.bandCount)}mb||B_r(),mb.clearRect(0,0,1,1);var B=this.tile.getImage(),H=B.width,Q=B.height,ee=H-2*a,ne=Q-2*a,de=a+Math.floor(ee*(r/i)),ue=a+Math.floor(ne*(n/o)),be;try{mb.drawImage(B,de,ue,1,1,0,0,1,1),be=mb.getImageData(0,0,1,1).data}catch(Ee){return mb=null,null}return be},t}(pc),qZe=U_r;var _C={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};var V_r=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,G_r=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,H_r=function(){function e(t){this.gl_=t.webGlContext;var r=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=r.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=r.createFramebuffer();var n=r.createShader(r.VERTEX_SHADER);r.shaderSource(n,t.vertexShader||V_r),r.compileShader(n);var i=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,t.fragmentShader||G_r),r.compileShader(i),this.renderTargetProgram_=r.createProgram(),r.attachShader(this.renderTargetProgram_,n),r.attachShader(this.renderTargetProgram_,i),r.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=r.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.bufferData(r.ARRAY_BUFFER,new Float32Array(o),r.STATIC_DRAW),this.renderTargetAttribLocation_=r.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(a){this.uniforms_.push({value:t.uniforms[a],location:r.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(t){var r=this.getGL(),n=[r.drawingBufferWidth*this.scaleRatio_,r.drawingBufferHeight*this.scaleRatio_];if(r.bindFramebuffer(r.FRAMEBUFFER,this.getFrameBuffer()),r.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var i=0,o=r.RGBA,a=0,c=r.RGBA,p=r.UNSIGNED_BYTE,m=null;r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.texImage2D(r.TEXTURE_2D,i,o,n[0],n[1],a,c,p,m),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(t,r,n,i){var o=this.getGL(),a=t.size;if(o.bindFramebuffer(o.FRAMEBUFFER,r?r.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!r){var c=bo(o.canvas);if(!t.renderTargets[c]){var p=o.getContextAttributes();p&&p.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),t.renderTargets[c]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var m=t.layerStatesArray[t.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,m),this.applyUniforms(t),n&&n(o,t),o.drawArrays(o.TRIANGLES,0,6),i&&i(o,t)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(t){var r=this.getGL(),n,i=1;this.uniforms_.forEach(function(o){if(n=typeof o.value=="function"?o.value(t):o.value,n instanceof HTMLCanvasElement||n instanceof ImageData)o.texture||(o.texture=r.createTexture()),r.activeTexture(r["TEXTURE".concat(i)]),r.bindTexture(r.TEXTURE_2D,o.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),n instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,n.width,n.height,0,r.UNSIGNED_BYTE,new Uint8Array(n.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.uniform1i(o.location,i++);else if(Array.isArray(n))switch(n.length){case 2:r.uniform2f(o.location,n[0],n[1]);return;case 3:r.uniform3f(o.location,n[0],n[1],n[2]);return;case 4:r.uniform4f(o.location,n[0],n[1],n[2],n[3]);return;default:return;}else typeof n=="number"&&r.uniform1f(o.location,n)})},e}(),yee=H_r;function vq(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function gb(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var W_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var xC={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},vb={UNSIGNED_BYTE:PZe,UNSIGNED_SHORT:LZe,UNSIGNED_INT:NZe,FLOAT:mee},yq={};function jZe(e){return"shared/"+e}var zZe=0;function $_r(){var e="unique/"+zZe;return zZe+=1,e}function Z_r(e){var t=yq[e];if(!t){var r=document.createElement("canvas");r.style.position="absolute",r.style.left="0",t={users:0,canvas:r},yq[e]=t}return t.users+=1,t.canvas}function Y_r(e){var t=yq[e];if(t&&(t.users-=1,!(t.users>0))){var r=t.canvas,n=gee(r),i=n.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete yq[e]}}var K_r=function(e){W_r(t,e);function t(r){var n=e.call(this)||this,i=r||{};n.boundHandleWebGLContextLost_=n.handleWebGLContextLost.bind(n),n.boundHandleWebGLContextRestored_=n.handleWebGLContextRestored.bind(n),n.canvasCacheKey_=i.canvasCacheKey?jZe(i.canvasCacheKey):$_r(),n.canvas_=Z_r(n.canvasCacheKey_),n.gl_=gee(n.canvas_),n.bufferCache_={},n.extensionCache_={},n.currentProgram_=null,n.canvas_.addEventListener(_C.LOST,n.boundHandleWebGLContextLost_),n.canvas_.addEventListener(_C.RESTORED,n.boundHandleWebGLContextRestored_),n.offsetRotateMatrix_=hc(),n.offsetScaleMatrix_=hc(),n.tmpMat4_=vq(),n.uniformLocations_={},n.attribLocations_={},n.uniforms_=[],i.uniforms&&n.setUniforms(i.uniforms);var o=n.getGL();return n.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(a){return new yee({webGlContext:o,scaleRatio:a.scaleRatio,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms})}):[new yee({webGlContext:o})],n.shaderCompileErrors_=null,n.startTime_=Date.now(),n}return t.prototype.setUniforms=function(r){this.uniforms_=[];for(var n in r)this.uniforms_.push({name:n,value:r[n]});this.uniformLocations_={}},t.prototype.canvasCacheKeyMatches=function(r){return this.canvasCacheKey_===jZe(r)},t.prototype.getExtension=function(r){if(r in this.extensionCache_)return this.extensionCache_[r];var n=this.gl_.getExtension(r);return this.extensionCache_[r]=n,n},t.prototype.bindBuffer=function(r){var n=this.getGL(),i=bo(r),o=this.bufferCache_[i];if(!o){var a=n.createBuffer();o={buffer:r,webGlBuffer:a},this.bufferCache_[i]=o}n.bindBuffer(r.getType(),o.webGlBuffer)},t.prototype.flushBufferData=function(r){var n=this.getGL();this.bindBuffer(r),n.bufferData(r.getType(),r.getArray(),r.getUsage())},t.prototype.deleteBuffer=function(r){var n=this.getGL(),i=bo(r),o=this.bufferCache_[i];o&&!n.isContextLost()&&n.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[i]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(_C.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(_C.RESTORED,this.boundHandleWebGLContextRestored_),Y_r(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},t.prototype.prepareDraw=function(r,n){var i=this.getGL(),o=this.getCanvas(),a=r.size,c=r.pixelRatio;o.width=a[0]*c,o.height=a[1]*c,o.style.width=a[0]+"px",o.style.height=a[1]+"px",i.useProgram(this.currentProgram_);for(var p=this.postProcessPasses_.length-1;p>=0;p--)this.postProcessPasses_[p].init(r);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(r),this.applyUniforms(r)},t.prototype.prepareDrawToRenderTarget=function(r,n,i){var o=this.getGL(),a=n.getSize();o.bindFramebuffer(o.FRAMEBUFFER,n.getFramebuffer()),o.viewport(0,0,a[0],a[1]),o.bindTexture(o.TEXTURE_2D,n.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(r),this.applyUniforms(r)},t.prototype.drawElements=function(r,n){var i=this.getGL();this.getExtension("OES_element_index_uint");var o=i.UNSIGNED_INT,a=4,c=n-r,p=r*a;i.drawElements(i.TRIANGLES,c,o,p)},t.prototype.finalizeDraw=function(r,n,i){for(var o=0,a=this.postProcessPasses_.length;o<a;o++)o===a-1?this.postProcessPasses_[o].apply(r,null,n,i):this.postProcessPasses_[o].apply(r,this.postProcessPasses_[o+1])},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(r){var n=r.size,i=r.viewState.rotation,o=ab(this.offsetScaleMatrix_);sC(o,2/n[0],2/n[1]);var a=ab(this.offsetRotateMatrix_);i!==0&&Jk(a,-i),this.setUniformMatrixValue(xC.OFFSET_SCALE_MATRIX,gb(this.tmpMat4_,o)),this.setUniformMatrixValue(xC.OFFSET_ROTATION_MATRIX,gb(this.tmpMat4_,a)),this.setUniformFloatValue(xC.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(xC.ZOOM,r.viewState.zoom),this.setUniformFloatValue(xC.RESOLUTION,r.viewState.resolution)},t.prototype.applyUniforms=function(r){var n=this.getGL(),i,o=0;this.uniforms_.forEach(function(a){if(i=typeof a.value=="function"?a.value(r):a.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(o)]),n.bindTexture(n.TEXTURE_2D,a.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var c=!(i instanceof HTMLImageElement)||i.complete;c&&a.prevValue!==i&&(a.prevValue=i,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i)),n.uniform1i(this.getUniformLocation(a.name),o++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(a.name,gb(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:n.uniform2f(this.getUniformLocation(a.name),i[0],i[1]);return;case 3:n.uniform3f(this.getUniformLocation(a.name),i[0],i[1],i[2]);return;case 4:n.uniform4f(this.getUniformLocation(a.name),i[0],i[1],i[2],i[3]);return;default:return;}else typeof i=="number"&&n.uniform1f(this.getUniformLocation(a.name),i)}.bind(this))},t.prototype.useProgram=function(r){if(r==this.currentProgram_)return!1;var n=this.getGL();return n.useProgram(r),this.currentProgram_=r,this.uniformLocations_={},this.attribLocations_={},!0},t.prototype.compileShader=function(r,n){var i=this.getGL(),o=i.createShader(n);return i.shaderSource(o,r),i.compileShader(o),o},t.prototype.getProgram=function(r,n){var i=this.getGL(),o=this.compileShader(r,i.FRAGMENT_SHADER),a=this.compileShader(n,i.VERTEX_SHADER),c=i.createProgram();if(i.attachShader(c,o),i.attachShader(c,a),i.linkProgram(c),!i.getShaderParameter(o,i.COMPILE_STATUS)){var p="Fragment shader compliation failed: ".concat(i.getShaderInfoLog(o));throw new Error(p)}if(i.deleteShader(o),!i.getShaderParameter(a,i.COMPILE_STATUS)){var p="Vertex shader compilation failed: ".concat(i.getShaderInfoLog(a));throw new Error(p)}if(i.deleteShader(a),!i.getProgramParameter(c,i.LINK_STATUS)){var p="GL program linking failed: ".concat(i.getShaderInfoLog(a));throw new Error(p)}return c},t.prototype.getUniformLocation=function(r){return this.uniformLocations_[r]===void 0&&(this.uniformLocations_[r]=this.getGL().getUniformLocation(this.currentProgram_,r)),this.uniformLocations_[r]},t.prototype.getAttributeLocation=function(r){return this.attribLocations_[r]===void 0&&(this.attribLocations_[r]=this.getGL().getAttribLocation(this.currentProgram_,r)),this.attribLocations_[r]},t.prototype.makeProjectionTransform=function(r,n){var i=r.size,o=r.viewState.rotation,a=r.viewState.resolution,c=r.viewState.center;return ab(n),ug(n,0,0,2/(a*i[0]),2/(a*i[1]),-o,-c[0],-c[1]),n},t.prototype.setUniformFloatValue=function(r,n){this.getGL().uniform1f(this.getUniformLocation(r),n)},t.prototype.setUniformFloatVec4=function(r,n){this.getGL().uniform4fv(this.getUniformLocation(r),n)},t.prototype.setUniformMatrixValue=function(r,n){this.getGL().uniformMatrix4fv(this.getUniformLocation(r),!1,n)},t.prototype.enableAttributeArray_=function(r,n,i,o,a){var c=this.getAttributeLocation(r);c<0||(this.getGL().enableVertexAttribArray(c),this.getGL().vertexAttribPointer(c,n,i,!1,o,a))},t.prototype.enableAttributes=function(r){for(var n=X_r(r),i=0,o=0;o<r.length;o++){var a=r[o];this.enableAttributeArray_(a.name,a.size,a.type||mee,n,i),i+=a.size*FZe(a.type)}},t.prototype.handleWebGLContextLost=function(){Xu(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(r,n,i){var o=this.getGL(),a=i||o.createTexture(),c=0,p=o.RGBA,m=0,g=o.RGBA,S=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,a),n?o.texImage2D(o.TEXTURE_2D,c,p,g,S,n):o.texImage2D(o.TEXTURE_2D,c,p,r[0],r[1],m,g,S,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a},t}(og);function X_r(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*FZe(n.type)}return t}function FZe(e){switch(e){case vb.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case vb.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case vb.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case vb.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT;}}var BZe=K_r;var Q_r=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var J_r=function(e){Q_r(t,e);function t(r,n){var i=e.call(this,r)||this,o=n||{};return i.inversePixelTransform_=hc(),i.pixelContext_=null,i.postProcesses_=o.postProcesses,i.uniforms_=o.uniforms,i.helper,r.addChangeListener(On.MAP,i.removeHelper.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return t.prototype.dispatchPreComposeEvent=function(r,n){var i=this.getLayer();if(i.hasListener(gs.PRECOMPOSE)){var o=new pb(gs.PRECOMPOSE,void 0,n,r);i.dispatchEvent(o)}},t.prototype.dispatchPostComposeEvent=function(r,n){var i=this.getLayer();if(i.hasListener(gs.POSTCOMPOSE)){var o=new pb(gs.POSTCOMPOSE,void 0,n,r);i.dispatchEvent(o)}},t.prototype.reset=function(r){this.uniforms_=r.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},t.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},t.prototype.prepareFrame=function(r){if(this.getLayer().getRenderSource()){for(var n=!0,i=-1,o=void 0,a=0,c=r.layerStatesArray.length;a<c;a++){var p=r.layerStatesArray[a].layer,m=p.getRenderer();if(!(m instanceof t)){n=!0;continue}var g=p.getClassName();if((n||g!==o)&&(i+=1,n=!1),o=g,m===this)break}var S="map/"+r.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(S))&&(this.removeHelper(),this.helper=new BZe({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:S}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(r)},t.prototype.afterHelperCreated=function(){},t.prototype.prepareFrameInternal=function(r){return!0},t.prototype.disposeInternal=function(){this.removeHelper(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(r,n,i){var o=this.getLayer();if(o.hasListener(r)){ug(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var a=new pb(r,this.inversePixelTransform_,i,n);o.dispatchEvent(a)}},t.prototype.preRender=function(r,n){this.dispatchRenderEvent_(gs.PRERENDER,r,n)},t.prototype.postRender=function(r,n){this.dispatchRenderEvent_(gs.POSTRENDER,r,n)},t.prototype.getDataAtPixel=function(r,n,i){var o=lg([n.pixelRatio,0,0,n.pixelRatio,0,0],r.slice()),a=this.helper.getGL();if(!a)return null;var c=this.getLayer(),p=c.getExtent();if(p){var m=lg(n.pixelToCoordinateTransform,r.slice());if(!Id(p,m))return null}var g=a.getContextAttributes();if(!g||!g.preserveDrawingBuffer)return new Uint8Array;var S=Math.round(o[0]),I=Math.round(o[1]),M=this.pixelContext_;if(!M){var P=document.createElement("canvas");P.width=1,P.height=1,M=P.getContext("2d"),this.pixelContext_=M}M.clearRect(0,0,1,1);var N;try{M.drawImage(a.canvas,S,I,1,1,0,0,1,1),N=M.getImageData(0,0,1,1).data}catch(L){return N}return N[3]===0?null:N},t}(Y$e);var UZe=J_r;function yb(e,t,r,n){return n!==void 0?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function Wy(e,t,r){return e+"/"+t+"/"+r}function hg(e){return Wy(e[0],e[1],e[2])}function VZe(e){return e.split("/").map(Number)}function GZe(e){return(e[1]<<e[0])+e[2]}function HZe(e,t){var r=e[0],n=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o=t.getFullTileRange(r);return o?o.containsXY(n,i):!0}var exr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vr={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},bC={TEXTURE_COORD:"a_textureCoord"},txr=[{name:bC.TEXTURE_COORD,size:2,type:vb.FLOAT}],rxr={};function nxr(e){return 2*(1-1/(e+1))-1}function WZe(e,t,r){r in e||(e[r]=[]),e[r].push(t)}function _ee(e,t){var r=e.layerStatesArray[e.layerIndex];r.extent&&(t=$f(t,Vm(r.extent,e.viewState.projection)));var n=r.layer.getRenderSource();if(!n.getWrapX()){var i=n.getTileGridForProjection(e.viewState.projection).getExtent();i&&(t=$f(t,i))}return t}function xee(e,t){return"".concat(e.getKey(),",").concat(hg(t))}var ixr=function(e){exr(t,e);function t(r,n){var i=e.call(this,r,{uniforms:n.uniforms})||this;i.renderComplete=!1,i.tileTransform_=hc(),i.tempMat4_=vq(),i.tempTileRange_=new hq(0,0,0,0),i.tempTileCoord_=yb(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=n.vertexShader,i.fragmentShader_=n.fragmentShader,i.indices_=new gq(yC,hb),i.indices_.fromArray([0,1,3,1,2,3]);var o=n.cacheSize!==void 0?n.cacheSize:512;return i.tileTextureCache_=new dq(o),i.paletteTextures_=n.paletteTextures||[],i.frameState_=null,i}return t.prototype.reset=function(r){e.prototype.reset.call(this,{uniforms:r.uniforms}),this.vertexShader_=r.vertexShader,this.fragmentShader_=r.fragmentShader,this.paletteTextures_=r.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},t.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},t.prototype.isDrawableTile_=function(r){var n=this.getLayer(),i=r.getState(),o=n.getUseInterimTilesOnError();return i==ar.LOADED||i==ar.EMPTY||i==ar.ERROR&&!o},t.prototype.prepareFrameInternal=function(r){var n=this.getLayer(),i=n.getRenderSource();return!i||xy(_ee(r,r.extent))?!1:i.getState()==="ready"},t.prototype.enqueueTiles=function(r,n,i,o){var a=r.viewState,c=this.getLayer(),p=c.getRenderSource(),m=p.getTileGridForProjection(a.projection),g=p.getGutterForProjection(a.projection),S=bo(p);S in r.wantedTiles||(r.wantedTiles[S]={});for(var I=r.wantedTiles[S],M=this.tileTextureCache_,P=Math.max(i-c.getPreload(),m.getMinZoom(),c.getMinZoom()),N=i;N>=P;--N)for(var L=m.getTileRangeForExtentAndZ(n,N,this.tempTileRange_),q=m.getResolution(N),j=L.minX;j<=L.maxX;++j)for(var B=L.minY;B<=L.maxY;++B){var H=yb(N,j,B,this.tempTileCoord_),Q=xee(p,H),ee=void 0,ne=void 0;if(M.containsKey(Q)&&(ee=M.get(Q),ne=ee.tile),!ee||ee.tile.key!==p.getKey())if(ne=p.getTile(N,j,B,r.pixelRatio,a.projection),!ee)ee=new qZe({tile:ne,grid:m,helper:this.helper,gutter:g}),M.set(Q,ee);else if(this.isDrawableTile_(ne))ee.setTile(ne);else{var de=ne.getInterimTile();ee.setTile(de)}WZe(o,ee,N);var ue=ne.getKey();I[ue]=!0,ne.getState()===ar.IDLE&&(r.tileQueue.isKeyQueued(ue)||r.tileQueue.enqueue([ne,S,m.getTileCoordCenter(H),q]))}},t.prototype.renderFrame=function(r){this.frameState_=r,this.renderComplete=!0;var n=this.helper.getGL();this.preRender(n,r);var i=r.viewState,o=this.getLayer(),a=o.getRenderSource(),c=a.getTileGridForProjection(i.projection),p=a.getGutterForProjection(i.projection),m=_ee(r,r.extent),g=c.getZForResolution(i.resolution,a.zDirection),S={};if(r.nextExtent){var I=c.getZForResolution(i.nextResolution,a.zDirection),M=_ee(r,r.nextExtent);this.enqueueTiles(r,M,I,S)}this.enqueueTiles(r,m,g,S);for(var P={},N=bo(this),L=r.time,q=!1,j=S[g],B=0,H=j.length;B<H;++B){var Q=j[B],ee=Q.tile,ne=ee.tileCoord;if(Q.loaded){var de=ee.getAlpha(N,L);if(de===1){ee.endTransition(N);continue}q=!0;var ue=hg(ne);P[ue]=de}this.renderComplete=!1;var be=this.findAltTiles_(c,ne,g+1,S);if(!be)for(var Ee=c.getMinZoom(),Re=g-1;Re>=Ee;--Re){var Ie=this.findAltTiles_(c,ne,Re,S);if(Ie)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(r,!q);for(var We=Object.keys(S).map(Number).sort(aC),$e=i.center[0],Fe=i.center[1],je=0,Ce=We.length;je<Ce;++je)for(var Xe=We[je],et=c.getResolution(Xe),st=ca(c.getTileSize(Xe),this.tempSize_),Ge=c.getOrigin(Xe),Ke=st[0]+2*p,it=st[1]+2*p,Le=Ke/it,he=($e-Ge[0])/(st[0]*et),Be=(Ge[1]-Fe)/(st[1]*et),Me=i.resolution/et,tt=nxr(Xe),Je=S[Xe],B=0,H=Je.length;B<H;++B){var Q=Je[B];if(Q.loaded){var ee=Q.tile,ne=ee.tileCoord,ue=hg(ne),xt=ne[1],bt=ne[2];ab(this.tileTransform_),sC(this.tileTransform_,2/(r.size[0]*Me/Ke),-2/(r.size[1]*Me/Ke)),Jk(this.tileTransform_,i.rotation),sC(this.tileTransform_,1,1/Le),RWe(this.tileTransform_,(st[0]*(xt-he)-p)/Ke,(st[1]*(bt-Be)-p)/it),this.helper.setUniformMatrixValue(Vr.TILE_TRANSFORM,gb(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(Q.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(txr);for(var yt=0;yt<Q.textures.length;){var Te="TEXTURE"+yt,pt="".concat(Vr.TILE_TEXTURE_ARRAY,"[").concat(yt,"]");n.activeTexture(n[Te]),n.bindTexture(n.TEXTURE_2D,Q.textures[yt]),n.uniform1i(this.helper.getUniformLocation(pt),yt),++yt}for(var Vt=0;Vt<this.paletteTextures_.length;++Vt){var dt=this.paletteTextures_[Vt];n.activeTexture(n["TEXTURE"+yt]);var Zt=dt.getTexture(n);n.bindTexture(n.TEXTURE_2D,Zt),n.uniform1i(this.helper.getUniformLocation(dt.name),yt),++yt}var de=ue in P?P[ue]:1;de<1&&(r.animate=!0),this.helper.setUniformFloatValue(Vr.TRANSITION_ALPHA,de),this.helper.setUniformFloatValue(Vr.DEPTH,tt),this.helper.setUniformFloatValue(Vr.TEXTURE_PIXEL_WIDTH,Ke),this.helper.setUniformFloatValue(Vr.TEXTURE_PIXEL_HEIGHT,it),this.helper.setUniformFloatValue(Vr.TEXTURE_RESOLUTION,et),this.helper.setUniformFloatValue(Vr.TEXTURE_ORIGIN_X,Ge[0]+xt*st[0]*et-p*et),this.helper.setUniformFloatValue(Vr.TEXTURE_ORIGIN_Y,Ge[1]-bt*st[1]*et+p*et);var ur=m;p>0&&(ur=c.getTileCoordExtent(ne),$f(ur,m,ur)),this.helper.setUniformFloatVec4(Vr.RENDER_EXTENT,ur),this.helper.setUniformFloatValue(Vr.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(Vr.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(r,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var Gt=this.helper.getCanvas(),pr=this.tileTextureCache_;pr.canExpireCache();){var Q=pr.pop();Q.dispose()}var Wr=function($r,cr){a.expireCache(cr.viewState.projection,rxr)};return r.postRenderFunctions.push(Wr),this.postRender(n,r),Gt},t.prototype.getData=function(r){var n=this.helper.getGL();if(!n)return null;var i=this.frameState_;if(!i)return null;var o=this.getLayer(),a=lg(i.pixelToCoordinateTransform,r.slice()),c=i.viewState,p=o.getExtent();if(p&&!Id(Vm(p,c.projection),a))return null;var m=o.getSources(VT([a]),c.resolution),g,S,I;for(g=m.length-1;g>=0;--g)if(S=m[g],S.getState()==="ready"){if(I=S.getTileGridForProjection(c.projection),S.getWrapX())break;var M=I.getExtent();if(!M||Id(M,a))break}if(g<0)return null;for(var P=this.tileTextureCache_,N=I.getZForResolution(c.resolution);N>=I.getMinZoom();--N){var L=I.getTileCoordForCoordAndZ(a,N),q=xee(S,L);if(P.containsKey(q)){var j=P.get(q);if(j.loaded){var B=I.getOrigin(N),H=ca(I.getTileSize(N)),Q=I.getResolution(N),ee=(a[0]-B[0])/Q-L[1]*H[0],ne=(B[1]-a[1])/Q-L[2]*H[1];return j.getPixelData(ee,ne)}}}return null},t.prototype.findAltTiles_=function(r,n,i,o){var a=r.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!a)return!1;for(var c=!0,p=this.tileTextureCache_,m=this.getLayer().getRenderSource(),g=a.minX;g<=a.maxX;++g)for(var S=a.minY;S<=a.maxY;++S){var I=xee(m,[i,g,S]),M=!1;if(p.containsKey(I)){var P=p.get(I);P.loaded&&(WZe(o,P,i),M=!0)}M||(c=!1)}return c},t.prototype.removeHelper=function(){if(this.helper){var r=this.tileTextureCache_;r.forEach(function(n){return n.dispose()}),r.clear()}e.prototype.removeHelper.call(this)},t.prototype.disposeInternal=function(){var r=this.helper;if(r){var n=r.getGL();n.deleteProgram(this.program_),delete this.program_,r.deleteBuffer(this.indices_)}e.prototype.disposeInternal.call(this),delete this.indices_,delete this.tileTextureCache_,delete this.frameState_},t}(UZe),$Ze=ixr;var oxr=function(){function e(t,r){this.name=t,this.data=r,this.texture_=null}return e.prototype.getTexture=function(t){if(!this.texture_){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=r}return this.texture_},e}(),ZZe=oxr;var rr={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},sn={};function dp(e){if(typeof e=="number")return rr.NUMBER;if(typeof e=="boolean")return rr.BOOLEAN;if(typeof e=="string")return $$e(e)?rr.COLOR|rr.STRING:rr.STRING;if(!Array.isArray(e))throw new Error("Unhandled value type: ".concat(JSON.stringify(e)));var t=e,r=t.every(function(i){return typeof i=="number"});if(r)return t.length===3||t.length===4?rr.COLOR|rr.NUMBER_ARRAY:rr.NUMBER_ARRAY;if(typeof t[0]!="string")throw new Error("Expected an expression operator but received: ".concat(JSON.stringify(t)));var n=sn[t[0]];if(n===void 0)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return n.getReturnType(t.slice(1))}function axr(e){return RR(e)%1===0}function _q(e){var t=e.toString();return t.indexOf(".")===-1?t+".0":t}function YZe(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(e.length,"(").concat(e.map(_q).join(", "),")")}function sxr(e){var t=W$e(e).slice();return t.length<4&&t.push(1),YZe(t.map(function(r,n){return n<3?r/255:r}))}function wee(e,t){return e.stringLiteralsMap[t]===void 0&&(e.stringLiteralsMap[t]=Object.keys(e.stringLiteralsMap).length),e.stringLiteralsMap[t]}function lxr(e,t){return _q(wee(e,t))}function lr(e,t,r){if(Array.isArray(t)&&typeof t[0]=="string"){var n=sn[t[0]];if(n===void 0)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return n.toGlsl(e,t.slice(1),r)}var i=dp(t);if((i&rr.NUMBER)>0)return _q(t);if((i&rr.BOOLEAN)>0)return t.toString();if((i&rr.STRING)>0&&(r===void 0||r==rr.STRING))return lxr(e,t.toString());if((i&rr.COLOR)>0&&(r===void 0||r==rr.COLOR))return sxr(t);if((i&rr.NUMBER_ARRAY)>0)return YZe(t);throw new Error("Unexpected expression ".concat(t," (expected type ").concat(r,")"))}function KZe(e){if(!(dp(e)&rr.NUMBER))throw new Error("A numeric value was expected, got ".concat(JSON.stringify(e)," instead"))}function So(e){for(var t=0;t<e.length;t++)KZe(e[t])}function XZe(e){if(!(dp(e)&rr.STRING))throw new Error("A string value was expected, got ".concat(JSON.stringify(e)," instead"))}function See(e){if(!(dp(e)&rr.BOOLEAN))throw new Error("A boolean value was expected, got ".concat(JSON.stringify(e)," instead"))}function Di(e,t){if(e.length!==t)throw new Error("Exactly ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function mg(e,t){if(e.length<t)throw new Error("At least ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function xq(e,t){if(e.length>t)throw new Error("At most ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function QZe(e){if(e.length%2!==0)throw new Error("An even amount of arguments was expected, got ".concat(e," instead"))}function uxr(e){if(e.length%2===0)throw new Error("An odd amount of arguments was expected, got ".concat(e," instead"))}function Eee(e,t){if(!axr(t))throw new Error("Could not infer only one type from the following expression: ".concat(JSON.stringify(e)))}sn.get={getReturnType:function(e){return rr.ANY},toGlsl:function(e,t){Di(t,1),XZe(t[0]);var r=t[0].toString();e.attributes.indexOf(r)===-1&&e.attributes.push(r);var n=e.inFragmentShader?"v_":"a_";return n+r}};function Iee(e){return"u_var_"+e}sn.var={getReturnType:function(e){return rr.ANY},toGlsl:function(e,t){Di(t,1),XZe(t[0]);var r=t[0].toString();return e.variables.indexOf(r)===-1&&e.variables.push(r),Iee(r)}};var Tee="u_paletteTextures";sn.palette={getReturnType:function(e){return rr.COLOR},toGlsl:function(e,t){Di(t,2),KZe(t[0]);var r=lr(e,t[0]),n=t[1];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");for(var i=n.length,o=new Uint8Array(i*4),a=0;a<i;a++){var c=n[a],p=void 0;if(typeof c=="string")p=eee(c);else{if(!Array.isArray(c))throw new Error("The second argument of palette must be an array of strings or colors");var m=c.length;if(m===4)p=c;else{if(m!==3)throw new Error("Expected palette color to have 3 or 4 values, got ".concat(m));p=[c[0],c[1],c[2],1]}}var g=a*4;o[g]=p[0],o[g+1]=p[1],o[g+2]=p[2],o[g+3]=p[3]*255}e.paletteTextures||(e.paletteTextures=[]);var S="".concat(Tee,"[").concat(e.paletteTextures.length,"]"),I=new ZZe(S,o);return e.paletteTextures.push(I),"texture2D(".concat(S,", vec2((").concat(r," + 0.5) / ").concat(i,".0, 0.5))")}};var bee="getBandValue";sn.band={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){mg(t,1),xq(t,3);var r=t[0];if(!(bee in e.functions)){for(var n="",i=e.bandCount||1,o=0;o<i;o++){var a=Math.floor(o/4),c=o%4;c===i-1&&c===1&&(c=3);var p="".concat(Vr.TILE_TEXTURE_ARRAY,"[").concat(a,"]");n+=`
          if (band == `.concat(o+1,`.0) {
            return texture2D(`).concat(p,", v_textureCoord + vec2(dx, dy))[").concat(c,`];
          }
        `)}e.functions[bee]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `.concat(Vr.TEXTURE_PIXEL_WIDTH,`;
          float dy = yOffset / `).concat(Vr.TEXTURE_PIXEL_HEIGHT,`;
          `).concat(n,`
        }
      `)}var m=lr(e,r),g=lr(e,t[1]||0),S=lr(e,t[2]||0);return"".concat(bee,"(").concat(m,", ").concat(g,", ").concat(S,")")}};sn.time={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,0),"u_time"}};sn.zoom={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,0),"u_zoom"}};sn.resolution={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,0),"u_resolution"}};sn["*"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," * ").concat(lr(e,t[1]),")")}};sn["/"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," / ").concat(lr(e,t[1]),")")}};sn["+"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," + ").concat(lr(e,t[1]),")")}};sn["-"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," - ").concat(lr(e,t[1]),")")}};sn.clamp={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){Di(t,3),So(t);var r=lr(e,t[1]),n=lr(e,t[2]);return"clamp(".concat(lr(e,t[0]),", ").concat(r,", ").concat(n,")")}};sn["%"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"mod(".concat(lr(e,t[0]),", ").concat(lr(e,t[1]),")")}};sn["^"]={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,2),So(t),"pow(".concat(lr(e,t[0]),", ").concat(lr(e,t[1]),")")}};sn.abs={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"abs(".concat(lr(e,t[0]),")")}};sn.floor={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"floor(".concat(lr(e,t[0]),")")}};sn.round={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"floor(".concat(lr(e,t[0])," + 0.5)")}};sn.ceil={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"ceil(".concat(lr(e,t[0]),")")}};sn.sin={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"sin(".concat(lr(e,t[0]),")")}};sn.cos={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return Di(t,1),So(t),"cos(".concat(lr(e,t[0]),")")}};sn.atan={getReturnType:function(e){return rr.NUMBER},toGlsl:function(e,t){return mg(t,1),xq(t,2),So(t),t.length===2?"atan(".concat(lr(e,t[0]),", ").concat(lr(e,t[1]),")"):"atan(".concat(lr(e,t[0]),")")}};sn[">"]={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," > ").concat(lr(e,t[1]),")")}};sn[">="]={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," >= ").concat(lr(e,t[1]),")")}};sn["<"]={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," < ").concat(lr(e,t[1]),")")}};sn["<="]={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){return Di(t,2),So(t),"(".concat(lr(e,t[0])," <= ").concat(lr(e,t[1]),")")}};function JZe(e){return{getReturnType:function(t){return rr.BOOLEAN},toGlsl:function(t,r){Di(r,2);for(var n=rr.ANY,i=0;i<r.length;i++)n&=dp(r[i]);if(n===rr.NONE)throw new Error("All arguments should be of compatible type, got ".concat(JSON.stringify(r)," instead"));return n&=~rr.COLOR,"(".concat(lr(t,r[0],n)," ").concat(e," ").concat(lr(t,r[1],n),")")}}}sn["=="]=JZe("==");sn["!="]=JZe("!=");sn["!"]={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){return Di(t,1),See(t[0]),"(!".concat(lr(e,t[0]),")")}};function eYe(e){return{getReturnType:function(t){return rr.BOOLEAN},toGlsl:function(t,r){mg(r,2);for(var n=0;n<r.length;n++)See(r[n]);var i="";return i=r.map(function(o){return lr(t,o)}).join(" ".concat(e," ")),i="(".concat(i,")"),i}}}sn.all=eYe("&&");sn.any=eYe("||");sn.between={getReturnType:function(e){return rr.BOOLEAN},toGlsl:function(e,t){Di(t,3),So(t);var r=lr(e,t[1]),n=lr(e,t[2]),i=lr(e,t[0]);return"(".concat(i," >= ").concat(r," && ").concat(i," <= ").concat(n,")")}};sn.array={getReturnType:function(e){return rr.NUMBER_ARRAY},toGlsl:function(e,t){mg(t,2),xq(t,4),So(t);var r=t.map(function(n){return lr(e,n,rr.NUMBER)});return"vec".concat(t.length,"(").concat(r.join(", "),")")}};sn.color={getReturnType:function(e){return rr.COLOR},toGlsl:function(e,t){mg(t,3),xq(t,4),So(t);var r=t;t.length===3&&r.push(1);var n=t.map(function(i,o){return lr(e,i,rr.NUMBER)+(o<3?" / 255.0":"")});return"vec".concat(t.length,"(").concat(n.join(", "),")")}};sn.interpolate={getReturnType:function(e){for(var t=rr.COLOR|rr.NUMBER,r=3;r<e.length;r+=2)t=t&dp(e[r]);return t},toGlsl:function(e,t,r){QZe(t),mg(t,6);var n=t[0],i;switch(n[0]){case"linear":i=1;break;case"exponential":i=n[1];break;default:i=null;}if(!i)throw new Error("Invalid interpolation type for \"interpolate\" operator, received: ".concat(JSON.stringify(n)));var o=r!==void 0?r:rr.ANY,a=sn.interpolate.getReturnType(t)&o;Eee(t,a);for(var c=lr(e,t[1]),p=_q(i),m="",g=2;g<t.length-2;g+=2){var S=lr(e,t[g]),I=m||lr(e,t[g+1],a),M=lr(e,t[g+2]),P=lr(e,t[g+3],a);m="mix(".concat(I,", ").concat(P,", pow(clamp((").concat(c," - ").concat(S,") / (").concat(M," - ").concat(S,"), 0.0, 1.0), ").concat(p,"))")}return m}};sn.match={getReturnType:function(e){for(var t=rr.ANY,r=2;r<e.length;r+=2)t=t&dp(e[r]);return t=t&dp(e[e.length-1]),t},toGlsl:function(e,t,r){QZe(t),mg(t,4);var n=r!==void 0?r:rr.ANY,i=sn.match.getReturnType(t)&n;Eee(t,i);for(var o=lr(e,t[0]),a=lr(e,t[t.length-1],i),c=null,p=t.length-3;p>=1;p-=2){var m=lr(e,t[p]),g=lr(e,t[p+1],i);c="(".concat(o," == ").concat(m," ? ").concat(g," : ").concat(c||a,")")}return c}};sn.case={getReturnType:function(e){for(var t=rr.ANY,r=1;r<e.length;r+=2)t=t&dp(e[r]);return t=t&dp(e[e.length-1]),t},toGlsl:function(e,t,r){uxr(t),mg(t,3);var n=r!==void 0?r:rr.ANY,i=sn.case.getReturnType(t)&n;Eee(t,i);for(var o=0;o<t.length-1;o+=2)See(t[o]);for(var a=lr(e,t[t.length-1],i),c=null,o=t.length-3;o>=0;o-=2){var p=lr(e,t[o]),m=lr(e,t[o+1],i);c="(".concat(p," ? ").concat(m," : ").concat(c||a,")")}return c}};var cxr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function tYe(e,t){var r=`
    attribute vec2 `.concat(bC.TEXTURE_COORD,`;
    uniform mat4 `).concat(Vr.TILE_TRANSFORM,`;
    uniform float `).concat(Vr.TEXTURE_PIXEL_WIDTH,`;
    uniform float `).concat(Vr.TEXTURE_PIXEL_HEIGHT,`;
    uniform float `).concat(Vr.TEXTURE_RESOLUTION,`;
    uniform float `).concat(Vr.TEXTURE_ORIGIN_X,`;
    uniform float `).concat(Vr.TEXTURE_ORIGIN_Y,`;
    uniform float `).concat(Vr.DEPTH,`;

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = `).concat(bC.TEXTURE_COORD,`;
      v_mapCoord = vec2(
        `).concat(Vr.TEXTURE_ORIGIN_X," + ").concat(Vr.TEXTURE_RESOLUTION," * ").concat(Vr.TEXTURE_PIXEL_WIDTH,` * v_textureCoord[0],
        `).concat(Vr.TEXTURE_ORIGIN_Y," - ").concat(Vr.TEXTURE_RESOLUTION," * ").concat(Vr.TEXTURE_PIXEL_HEIGHT,` * v_textureCoord[1]
      );
      gl_Position = `).concat(Vr.TILE_TRANSFORM," * vec4(").concat(bC.TEXTURE_COORD,", ").concat(Vr.DEPTH,`, 1.0);
    }
  `),n={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:t},i=[];if(e.color!==void 0){var o=lr(n,e.color,rr.COLOR);i.push("color = ".concat(o,";"))}if(e.contrast!==void 0){var a=lr(n,e.contrast,rr.NUMBER);i.push("color.rgb = clamp((".concat(a," + 1.0) * color.rgb - (").concat(a," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(e.exposure!==void 0){var c=lr(n,e.exposure,rr.NUMBER);i.push("color.rgb = clamp((".concat(c," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(e.saturation!==void 0){var p=lr(n,e.saturation,rr.NUMBER);i.push(`
      float saturation = `.concat(p,` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `))}if(e.gamma!==void 0){var m=lr(n,e.gamma,rr.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / ".concat(m,"));"))}if(e.brightness!==void 0){var g=lr(n,e.brightness,rr.NUMBER);i.push("color.rgb = clamp(color.rgb + ".concat(g,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}var S={},I=n.variables.length;if(I>1&&!e.variables)throw new Error("Missing variables in style (expected ".concat(n.variables,")"));for(var M=function(B){var H=n.variables[B];if(!(H in e.variables))throw new Error("Missing '".concat(H,"' in style variables"));var Q=Iee(H);S[Q]=function(){var ee=e.variables[H];return typeof ee=="string"&&(ee=wee(n,ee)),ee!==void 0?ee:-9999999}},P=0;P<I;++P)M(P);var N=Object.keys(S).map(function(B){return"uniform float ".concat(B,";")}),L=Math.ceil(t/4);N.push("uniform sampler2D ".concat(Vr.TILE_TEXTURE_ARRAY,"[").concat(L,"];")),n.paletteTextures&&N.push("uniform sampler2D ".concat(Tee,"[").concat(n.paletteTextures.length,"];"));var q=Object.keys(n.functions).map(function(B){return n.functions[B]}),j=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 `.concat(Vr.RENDER_EXTENT,`;
    uniform float `).concat(Vr.TRANSITION_ALPHA,`;
    uniform float `).concat(Vr.TEXTURE_PIXEL_WIDTH,`;
    uniform float `).concat(Vr.TEXTURE_PIXEL_HEIGHT,`;
    uniform float `).concat(Vr.RESOLUTION,`;
    uniform float `).concat(Vr.ZOOM,`;

    `).concat(N.join(`
`),`

    `).concat(q.join(`
`),`

    void main() {
      if (
        v_mapCoord[0] < `).concat(Vr.RENDER_EXTENT,`[0] ||
        v_mapCoord[1] < `).concat(Vr.RENDER_EXTENT,`[1] ||
        v_mapCoord[0] > `).concat(Vr.RENDER_EXTENT,`[2] ||
        v_mapCoord[1] > `).concat(Vr.RENDER_EXTENT,`[3]
      ) {
        discard;
      }

      vec4 color = texture2D(`).concat(Vr.TILE_TEXTURE_ARRAY,`[0],  v_textureCoord);

      `).concat(i.join(`
`),`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `).concat(Vr.TRANSITION_ALPHA,`;
    }`);return{vertexShader:r,fragmentShader:j,uniforms:S,paletteTextures:n.paletteTextures}}var rYe=function(e){cxr(t,e);function t(r){var n=this,i=r?bi({},r):{},o=i.style||{};delete i.style;var a=i.cacheSize;return delete i.cacheSize,n=e.call(this,i)||this,n.sources_=i.sources,n.renderedSource_=null,n.renderedResolution_=NaN,n.style_=o,n.cacheSize_=a,n.styleVariables_=n.style_.variables||{},n.addChangeListener(On.SOURCE,n.handleSourceUpdate_),n}return t.prototype.getSources=function(r,n){var i=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(r,n):this.sources_:i?[i]:[]},t.prototype.getRenderSource=function(){return this.renderedSource_||this.getSource()},t.prototype.getSourceState=function(){var r=this.getRenderSource();return r?r.getState():"undefined"},t.prototype.handleSourceUpdate_=function(){this.getSource()&&this.setStyle(this.style_)},t.prototype.getSourceBandCount_=function(){var r=Number.MAX_SAFE_INTEGER,n=this.getSources([-r,-r,r,r],r);return n&&n.length&&"bandCount"in n[0]?n[0].bandCount:4},t.prototype.createRenderer=function(){var r=tYe(this.style_,this.getSourceBandCount_());return new $Ze(this,{vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms,cacheSize:this.cacheSize_,paletteTextures:r.paletteTextures})},t.prototype.renderSources=function(r,n){for(var i=this.getRenderer(),o,a=0,c=n.length;a<c;++a)this.renderedSource_=n[a],i.prepareFrame(r)&&(o=i.renderFrame(r));return o},t.prototype.render=function(r,n){var i=this;this.rendered=!0;for(var o=r.viewState,a=this.getSources(r.extent,o.resolution),c=!0,p=function(M,P){var N=a[M],L=N.getState();if(L=="loading"){var q=function(){N.getState()=="ready"&&(N.removeEventListener("change",q),i.changed())};N.addEventListener("change",q)}c=c&&L=="ready"},m=0,g=a.length;m<g;++m)p(m,g);var S=this.renderSources(r,a);if(this.getRenderer().renderComplete&&c)return this.renderedResolution_=o.resolution,S;if(this.renderedResolution_>.5*o.resolution){var I=this.getSources(r.extent,this.renderedResolution_).filter(function(M){return!a.includes(M)});if(I.length>0)return this.renderSources(r,I)}return S},t.prototype.setStyle=function(r){this.styleVariables_=r.variables||{},this.style_=r;var n=tYe(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,paletteTextures:n.paletteTextures}),this.changed()},t.prototype.updateStyleVariables=function(r){bi(this.styleVariables_,r),this.changed()},t}(_Ze);rYe.prototype.dispose;var nYe=rYe;var fxr=[0,0,0],gg=5,pxr=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Br(wWe(this.resolutions_,function(a,c){return c-a},!0),17);var r;if(!t.origins){for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(!r)r=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==r){r=void 0;break}}this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Br(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Bm(o)),Br(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Br(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:dg,Br(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,c){var p=new hq(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var m=this.getTileRangeForExtentAndZ(o,c);p.minX=Math.max(m.minX,p.minX),p.maxX=Math.min(m.maxX,p.maxX),p.minY=Math.max(m.minY,p.minY),p.maxY=Math.min(m.maxY,p.maxY)}return p},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,r,n){for(var i=this.getTileRangeForExtentAndZ(t,r),o=i.minX,a=i.maxX;o<=a;++o)for(var c=i.minY,p=i.maxY;c<=p;++c)n([r,o,c])},e.prototype.forEachTileCoordParentTileRange=function(t,r,n,i){var o,a,c,p=null,m=t[0]-1;for(this.zoomFactor_===2?(a=t[1],c=t[2]):p=this.getTileCoordExtent(t,i);m>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),c=Math.floor(c/2),o=Gy(a,a,c,c,n)):o=this.getTileRangeForExtentAndZ(p,m,n),r(m,o))return!0;--m}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,r,n){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return Gy(i,i+1,o,o+1,r)}var a=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,r)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,r,n){if(r>this.maxZoom||r<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(r===i)return Gy(o,a,o,a,n);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,r-i),p=Math.floor(o*c),m=Math.floor(a*c);if(r<i)return Gy(p,p,m,m,n);var g=Math.floor(c*(o+1))-1,S=Math.floor(c*(a+1))-1;return Gy(p,g,m,S,n)}var I=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(I,r,n)},e.prototype.getTileRangeExtent=function(t,r,n){var i=this.getOrigin(t),o=this.getResolution(t),a=ca(this.getTileSize(t),this.tmpSize_),c=i[0]+r.minX*a[0]*o,p=i[0]+(r.maxX+1)*a[0]*o,m=i[1]+r.minY*a[1]*o,g=i[1]+(r.maxY+1)*a[1]*o;return Td(c,m,p,g,n)},e.prototype.getTileRangeForExtentAndZ=function(t,r,n){var i=fxr;this.getTileCoordForXYAndZ_(t[0],t[3],r,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],r,!0,i),Gy(o,i[1],a,i[2],n)},e.prototype.getTileCoordCenter=function(t){var r=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=ca(this.getTileSize(t[0]),this.tmpSize_);return[r[0]+(t[1]+.5)*i[0]*n,r[1]-(t[2]+.5)*i[1]*n]},e.prototype.getTileCoordExtent=function(t,r){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=ca(this.getTileSize(t[0]),this.tmpSize_),a=n[0]+t[1]*o[0]*i,c=n[1]-(t[2]+1)*o[1]*i,p=a+o[0]*i,m=c+o[1]*i;return Td(a,c,p,m,r)},e.prototype.getTileCoordForCoordAndResolution=function(t,r,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordForXYAndResolution_=function(t,r,n,i,o){var a=this.getZForResolution(n),c=n/this.getResolution(a),p=this.getOrigin(a),m=ca(this.getTileSize(a),this.tmpSize_),g=c*(t-p[0])/n/m[0],S=c*(p[1]-r)/n/m[1];return i?(g=FT(g,gg)-1,S=FT(S,gg)-1):(g=zT(g,gg),S=zT(S,gg)),yb(a,g,S,o)},e.prototype.getTileCoordForXYAndZ_=function(t,r,n,i,o){var a=this.getOrigin(n),c=this.getResolution(n),p=ca(this.getTileSize(n),this.tmpSize_),m=(t-a[0])/c/p[0],g=(a[1]-r)/c/p[1];return i?(m=FT(m,gg)-1,g=FT(g,gg)-1):(m=zT(m,gg),g=zT(g,gg)),yb(n,m,g,o)},e.prototype.getTileCoordForCoordAndZ=function(t,r,n){return this.getTileCoordForXYAndZ_(t[0],t[1],r,!1,n)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,r){var n=rb(this.resolutions_,t,r||0);return Ei(n,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,r){return WJ(r,0,r.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var r=this.resolutions_.length,n=new Array(r),i=this.minZoom;i<r;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},e}(),bq=pxr;var dxr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hxr=function(e){dxr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(r){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in r)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var r=this.peekFirstKey(),n=VZe(r),i=n[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(hg(o.tileCoord)),o.release())}.bind(this))}},t}(dq),wq=hxr;var Sq={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function Eq(e){var t=e.getDefaultTileGrid();return t||(t=vxr(e),e.setDefaultTileGrid(t)),t}function iYe(e,t,r){var n=t[0],i=e.getTileCoordCenter(t),o=oYe(r);if(Id(o,i))return t;var a=Fi(o),c=Math.ceil((o[0]-i[0])/a);return i[0]+=a*c,e.getTileCoordForCoordAndZ(i,n)}function mxr(e,t,r,n){var i=n!==void 0?n:"top-left",o=gxr(e,t,r);return new bq({extent:e,origin:FFe(e,i),resolutions:o,tileSize:r})}function gxr(e,t,r,n){for(var i=t!==void 0?t:sZe,o=Oa(e),a=Fi(e),c=ca(r!==void 0?r:dg),p=n>0?n:Math.max(a/c[0],o/c[1]),m=i+1,g=new Array(m),S=0;S<m;++S)g[S]=p/Math.pow(2,S);return g}function vxr(e,t,r,n){var i=oYe(e);return mxr(i,t,r,n)}function oYe(e){e=Tl(e);var t=e.getExtent();if(!t){var r=180*El[Il.DEGREES]/e.getMetersPerUnit();t=Td(-r,-r,r,r)}return t}var aYe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yxr=function(e){aYe(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,projection:r.projection,state:r.state,wrapX:r.wrapX,interpolate:r.interpolate})||this;n.on,n.once,n.un,n.opaque_=r.opaque!==void 0?r.opaque:!1,n.tilePixelRatio_=r.tilePixelRatio!==void 0?r.tilePixelRatio:1,n.tileGrid=r.tileGrid!==void 0?r.tileGrid:null;var i=[256,256];return n.tileGrid&&ca(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),i),n.tileCache=new wq(r.cacheSize||0),n.tmpSize=[0,0],n.key_=r.key||"",n.tileOptions={transition:r.transition,interpolate:r.interpolate},n.zDirection=r.zDirection?r.zDirection:0,n}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(r,n){var i=this.getTileCacheForProjection(r);i&&i.expireCache(n)},t.prototype.forEachLoadedTile=function(r,n,i,o){var a=this.getTileCacheForProjection(r);if(!a)return!1;for(var c=!0,p,m,g,S=i.minX;S<=i.maxX;++S)for(var I=i.minY;I<=i.maxY;++I)m=Wy(n,S,I),g=!1,a.containsKey(m)&&(p=a.get(m),g=p.getState()===ar.LOADED,g&&(g=o(p)!==!1)),g||(c=!1);return c},t.prototype.getGutterForProjection=function(r){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(r){this.key_!==r&&(this.key_=r,this.changed())},t.prototype.getOpaque=function(r){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(r,n,i,o,a){return Cn()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(r){return this.tileGrid?this.tileGrid:Eq(r)},t.prototype.getTileCacheForProjection=function(r){var n=this.getProjection();return Br(n===null||Um(n,r),68),this.tileCache},t.prototype.getTilePixelRatio=function(r){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(r,n,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(n),c=ca(o.getTileSize(r),this.tmpSize);return a==1?c:F$e(c,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(r,n){var i=n!==void 0?n:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(r=iYe(o,r,i)),HZe(r,o)?r:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(r,n){var i=this.getTileCacheForProjection(n);r>i.highWaterMark&&(i.highWaterMark=r)},t.prototype.useTile=function(r,n,i,o){},t}(J$e),sYe=function(e){aYe(t,e);function t(r,n){var i=e.call(this,r)||this;return i.tile=n,i}return t}(hs);var lYe=yxr;function _xr(e,t){var r=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,c,p){if(a)return e.replace(r,a[0].toString()).replace(n,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var m=a[0],g=t.getFullTileRange(m);Br(g,55);var S=g.getHeight()-a[2]-1;return S.toString()})}}function uYe(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=_xr(e[i],t);return Cee(n)}function Cee(e){return e.length===1?e[0]:function(t,r,n){if(t){var i=GZe(t),o=Yc(i,e.length);return e[o](t,r,n)}else return}}function Iq(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e),r){for(var a=parseInt(r[2],10),c=parseInt(r[1],10);c<=a;c++)t.push(e.replace(r[0],c.toString()));return t}return t.push(e),t}var xxr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bxr=function(e){xxr(t,e);function t(r){var n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(n.tileUrlFunction=r.tileUrlFunction),n.urls=null,r.urls?n.setUrls(r.urls):r.url&&n.setUrl(r.url),n.tileLoadingKeys_={},n}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(r){var n=r.target,i=bo(n),o=n.getState(),a;o==ar.LOADING?(this.tileLoadingKeys_[i]=!0,a=Sq.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==ar.ERROR?Sq.TILELOADERROR:o==ar.LOADED?Sq.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new sYe(a,n))},t.prototype.setTileLoadFunction=function(r){this.tileCache.clear(),this.tileLoadFunction=r,this.changed()},t.prototype.setTileUrlFunction=function(r,n){this.tileUrlFunction=r,this.tileCache.pruneExceptNewestZ(),typeof n!="undefined"?this.setKey(n):this.changed()},t.prototype.setUrl=function(r){var n=Iq(r);this.urls=n,this.setUrls(n)},t.prototype.setUrls=function(r){this.urls=r;var n=r.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(uYe(r,this.tileGrid),n):this.setKey(n)},t.prototype.tileUrlFunction=function(r,n,i){},t.prototype.useTile=function(r,n,i){var o=Wy(r,n,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(lYe),cYe=bxr;var wxr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sxr=function(e){wxr(t,e);function t(r){var n=this,i=r.imageSmoothing!==void 0?r.imageSmoothing:!0;return r.interpolate!==void 0&&(i=r.interpolate),n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction?r.tileLoadFunction:Exr,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX,transition:r.transition,interpolate:i,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this,n.crossOrigin=r.crossOrigin!==void 0?r.crossOrigin:null,n.tileClass=r.tileClass!==void 0?r.tileClass:Hy,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=r.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return t.prototype.canExpireCache=function(){if(!pp)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var r in this.tileCacheForProjection)if(this.tileCacheForProjection[r].canExpireCache())return!0;return!1},t.prototype.expireCache=function(r,n){if(!pp){e.prototype.expireCache.call(this,r,n);return}var i=this.getTileCacheForProjection(r);this.tileCache.expireCache(this.tileCache==i?n:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}},t.prototype.getGutterForProjection=function(r){return pp&&this.getProjection()&&r&&!Um(this.getProjection(),r)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var r=e.prototype.getKey.call(this);return this.getInterpolate()||(r+=":disable-interpolation"),r},t.prototype.getOpaque=function(r){return pp&&this.getProjection()&&r&&!Um(this.getProjection(),r)?!1:e.prototype.getOpaque.call(this,r)},t.prototype.getTileGridForProjection=function(r){if(!pp)return e.prototype.getTileGridForProjection.call(this,r);var n=this.getProjection();if(this.tileGrid&&(!n||Um(n,r)))return this.tileGrid;var i=bo(r);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Eq(r)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(r){if(!pp)return e.prototype.getTileCacheForProjection.call(this,r);var n=this.getProjection();if(!n||Um(n,r))return this.tileCache;var i=bo(r);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new wq(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(r,n,i,o,a,c){var p=[r,n,i],m=this.getTileCoordForTileUrlFunction(p,a),g=m?this.tileUrlFunction(m,o,a):void 0,S=new this.tileClass(p,g!==void 0?ar.IDLE:ar.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return S.key=c,S.addEventListener(or.CHANGE,this.handleTileChange.bind(this)),S},t.prototype.getTile=function(r,n,i,o,a){var c=this.getProjection();if(!pp||!c||!a||Um(c,a))return this.getTileInternal(r,n,i,o,c||a);var p=this.getTileCacheForProjection(a),m=[r,n,i],g=void 0,S=hg(m);p.containsKey(S)&&(g=p.get(S));var I=this.getKey();if(g&&g.key==I)return g;var M=this.getTileGridForProjection(c),P=this.getTileGridForProjection(a),N=this.getTileCoordForTileUrlFunction(m,a),L=new mq(c,M,a,P,m,N,this.getTilePixelRatio(o),this.getGutter(),function(q,j,B,H){return this.getTileInternal(q,j,B,H,c)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return L.key=I,g?(L.interimTile=g,L.refreshInterimChain(),p.replace(S,L)):p.set(S,L),L},t.prototype.getTileInternal=function(r,n,i,o,a){var c=null,p=Wy(r,n,i),m=this.getKey();if(!this.tileCache.containsKey(p))c=this.createTile_(r,n,i,o,a,m),this.tileCache.set(p,c);else if(c=this.tileCache.get(p),c.key!=m){var g=c;c=this.createTile_(r,n,i,o,a,m),g.getState()==ar.IDLE?c.interimTile=g.interimTile:c.interimTile=g,c.refreshInterimChain(),this.tileCache.replace(p,c)}return c},t.prototype.setRenderReprojectionEdges=function(r){if(!(!pp||this.renderReprojectionEdges_==r)){this.renderReprojectionEdges_=r;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},t.prototype.setTileGridForProjection=function(r,n){if(pp){var i=Tl(r);if(i){var o=bo(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=n)}}},t}(cYe);function Exr(e,t){e.getImage().src=t}var fYe=Sxr;var pYe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mee={DEFAULT:"default",TRUNCATED:"truncated"},Ixr=function(e){pYe(t,e);function t(r,n,i,o,a,c,p){var m=e.call(this,n,i,o,a,c,p)||this;return m.zoomifyImage_=null,m.tileSize_=r,m}return t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var r=e.prototype.getImage.call(this);if(this.state==ar.LOADED){var n=this.tileSize_;if(r.width==n[0]&&r.height==n[1])return this.zoomifyImage_=r,r;var i=Vd(n[0],n[1]);return i.drawImage(r,0,0),this.zoomifyImage_=i.canvas,i.canvas}else return r},t}(Hy);var Txr=function(e){pYe(t,e);function t(r){var n=this,i=r,o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.size,c=i.tierSizeCalculation!==void 0?i.tierSizeCalculation:Mee.DEFAULT,p=i.tilePixelRatio||1,m=a[0],g=a[1],S=[],I=i.tileSize||dg,M=I*p;switch(c){case Mee.DEFAULT:for(;m>M||g>M;)S.push([Math.ceil(m/M),Math.ceil(g/M)]),M+=M;break;case Mee.TRUNCATED:for(var P=m,N=g;P>M||N>M;)S.push([Math.ceil(P/M),Math.ceil(N/M)]),P>>=1,N>>=1;break;default:Br(!1,53);break;}S.push([1,1]),S.reverse();for(var L=[p],q=[0],j=1,B=S.length;j<B;j++)L.push(p<<j),q.push(S[j-1][0]*S[j-1][1]+q[j-1]);L.reverse();var H=new bq({tileSize:I,extent:i.extent||[0,-g,m,0],resolutions:L}),Q=i.url;Q&&Q.indexOf("{TileGroup}")==-1&&Q.indexOf("{tileIndex}")==-1&&(Q+="{TileGroup}/{z}-{x}-{y}.jpg");var ee=Iq(Q),ne=I*p;function de(We){return function($e,Fe,je){if($e){var Ce=$e[0],Xe=$e[1],et=$e[2],st=Xe+et*S[Ce][0],Ge=(st+q[Ce])/ne|0,Ke={z:Ce,x:Xe,y:et,tileIndex:st,TileGroup:"TileGroup"+Ge};return We.replace(/\{(\w+?)\}/g,function(it,Le){return Ke[Le]})}else return}}var ue=Cee(ee.map(de)),be=Ixr.bind(null,ca(I*p));n=e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,projection:i.projection,tilePixelRatio:p,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:be,tileGrid:H,tileUrlFunction:ue,transition:i.transition})||this,n.zDirection=i.zDirection;var Ee=H.getTileCoordForCoordAndResolution(Kc(H.getExtent()),L[L.length-1]),Re=ue(Ee,1,null),Ie=new Image;return Ie.addEventListener("error",function(){ne=I,this.changed()}.bind(n)),Ie.src=Re,n}return t}(fYe),dYe=Txr;var kl=J(De(),1),hYe=J(fo(),1),Hd=J(mt(),1);var wC={brightness:0,contrast:0,saturation:0},Tq=e=>{let{max:t=1,min:r=0,onChange:n=()=>console.warn("onChange is not implemented."),step:i=.01,type:o="",value:a=.5,tooltip:c}=e,p=m=>{n(o,m)};return kl.default.createElement("div",{className:"filter-slider",title:c},kl.default.createElement("span",{className:Ct("slider-icon",o),title:c}),kl.default.createElement("div",null,kl.default.createElement(ik,{title:c,ariaLabelForHandle:c,max:t,min:r,onChange:p,step:i,value:a})),kl.default.createElement("span",{className:"slider-tooltip",title:c},a))};Tq.propTypes={max:Hd.default.number,min:Hd.default.number,onChange:Hd.default.number,step:Hd.default.number,tooltip:Hd.default.string,type:Hd.default.string,value:Hd.default.number};var mYe=e=>{let{layer:t}=e,[r,n]=(0,kl.useState)(Qe({},wC)),i=(a,c)=>{let p=Object.assign({},r,{[a]:c});n(p),t.updateStyleVariables(p)},o=()=>{n(Qe({},wC)),t.updateStyleVariables(Qe({},wC))};return kl.default.createElement("div",null,kl.default.createElement(Tq,{max:1,min:-1,onChange:i,step:.01,type:"contrast",value:r.contrast,tooltip:Ne("control-imagemanipulation-contrast")}),kl.default.createElement(Tq,{max:1,min:-1,onChange:i,step:.01,type:"saturation",value:r.saturation,tooltip:Ne("control-imagemanipulation-saturation")}),kl.default.createElement(Tq,{max:1,min:-1,onChange:i,step:.01,type:"brightness",value:r.brightness,tooltip:Ne("control-imagemanipulation-brightness")}),kl.default.createElement("button",{className:"btn-reset",title:Ne("control-imagemanipulation-reset"),onClick:o},Ne("control-imagemanipulation-reset")))};mYe.propTypes={layer:Hd.default.object};var Aee=class extends hu{constructor(t){let r="ol-unselectable ol-control image-manipulation",n=document.createElement("div");n.className=r;let i=document.createElement("button");i.title=Ne("control-imagemanipulation-open"),i.innerHTML="I",i.type="button",n.appendChild(i);let o=document.createElement("div");o.className="content-container",o.style.display="none",n.appendChild(o);let a=()=>{let c=o.style.display==="block";n.className=c?r:`${r} active`,o.style.display=c?"none":"block"};hYe.default.render(kl.default.createElement(mYe,{layer:t.layer}),o),i.addEventListener("click",a,!1),i.addEventListener("touchstart",a,!1),super({element:n,target:t.target})}},gYe=Aee;function Cxr(e){return ko(this,null,function*(){try{let t=yield vYe.default.get(e);if(t.status===200){let n=new DOMParser().parseFromString(t.data,"text/xml");return{width:parseInt(n.firstChild.attributes.WIDTH.value,0),height:parseInt(n.firstChild.attributes.HEIGHT.value,0),url:e.substring(0,e.lastIndexOf("/")+1)}}else throw new Error("Could not fetch ImageProperties.xml")}catch(t){console.error("Something went wrong while trying to fetch the ImageProperties.xml."),console.error(t)}})}var yYe=e=>{let{className:t="",onLoad:r,urlImageProperties:n,withImageManipulation:i=!1}=e,o=(0,_b.useRef)(null);return(0,_b.useEffect)(()=>{ko(void 0,null,function*(){let p=yield Cxr(n),m=new dYe({url:p.url,size:[p.width,p.height],crossOrigin:"anonymous",zDirection:-1}),g=m.getTileGrid().getExtent(),S=new nYe({style:{brightness:["var","brightness"],contrast:["var","contrast"],saturation:["var","saturation"],variables:Qe({},wC)},source:m}),I=new fp({resolutions:S.getSource().getTileGrid().getResolutions(),extent:g,constrainOnlyCenter:!0}),M=new yZe({controls:[new T$e({tipLabel:Ne("control-fullscreen-title")}),new pq({zoomInTipLabel:Ne("control-zoom-in"),zoomOutTipLabel:Ne("control-zoom-in")})],interactions:cq().extend([new sq]),layers:[S],target:o.current,view:I});I.fit(g,{padding:[50,50,50,50]});let P=M.getSize();M.addControl(new gZe({tipLabel:Ne("control-zoomtoextent-title"),extent:I.calculateExtent([P[0]+50,P[1]+50])})),i&&M.addControl(new gYe({layer:S})),r&&r({layer:S,map:M,source:m,zoomifyProps:p})})},[n]),_b.default.createElement("div",{className:Ct("vk-mapview-zoomify",t),ref:o})};yYe.propTypes={className:SC.default.string,onLoad:SC.default.func,urlImageProperties:SC.default.string.isRequired,withImageManipulation:SC.default.bool};var _Ye=yYe;var xYe=_Ye;var bYe=e=>{let{isOpen:t,onClose:r,map_id:n}=e,[i,o]=(0,mn.useState)(null),a=()=>{o(null),r()};if((0,mn.useEffect)(()=>{n!==void 0&&ko(void 0,null,function*(){let P=yield UN(n);o(P)})},[n,o]),i===null)return mn.default.createElement("div",{className:"vkf-view-original-map container"});let c=i.online_resources,p=c.find(M=>M.type==="Permalink"),m=c.find(M=>M.type==="WMS"),g=c.find(M=>M.type==="WCS"),S=c.find(M=>M.type==="download"),I=i.type==="mosaic";return mn.default.createElement(Wk,{key:n,modalClassName:Ct("vkf-modal-original-map",i.type),onClose:a,renderContent:()=>mn.default.createElement("div",{className:"vkf-view-original-map"},mn.default.createElement("div",{className:"title"},mn.default.createElement("h1",null,i.title," ",mn.default.createElement("small",null,"/ ",i.title_long)),mn.default.createElement("div",{className:"header-functions"},!I&&mn.default.createElement("a",{href:i.permalink,rel:"noreferrer",className:"btn btn-default",target:"_blank"},Ne("originalview-link-slub-label")),S!==void 0&&mn.default.createElement("a",{href:S.url,rel:"noreferrer",className:"btn btn-default btn-download",target:"_blank",title:Ne("originalview-link-download-label")},Ne("originalview-link-download-label")))),i.thumb_url!==void 0&&I&&mn.default.createElement("div",null,mn.default.createElement("img",{className:"thumbnail",height:200,width:200,src:i.thumb_url})),mn.default.createElement("div",{className:"content-metadata"},mn.default.createElement("dl",null,mn.default.createElement("dt",null,Ne("originalview-label-desc")),mn.default.createElement("dd",null,i.description),mn.default.createElement("dt",null,Ne("originalview-label-identifier")),mn.default.createElement("dd",null,n),mn.default.createElement("dt",null,Ne("originalview-label-scale")),mn.default.createElement("dd",null,"1:",i.map_scale),p!==void 0&&mn.default.createElement(mn.default.Fragment,null,mn.default.createElement("dt",null,"Permalink"),mn.default.createElement("dd",null,mn.default.createElement("a",{href:p.url,rel:"noreferrer",target:"_blank"},p.url))),(m!==void 0||g!==void 0)&&mn.default.createElement(mn.default.Fragment,null,mn.default.createElement("dt",null,Ne("originalview-label-services")),m!==void 0&&mn.default.createElement("dd",null,mn.default.createElement("a",{href:m.url,rel:"noreferrer",target:"_blank"},"WMS")),g!==void 0&&mn.default.createElement("dd",null,mn.default.createElement("a",{href:g.url,rel:"noreferrer",target:"_blank"},"WCS"))))),!I&&mn.default.createElement("div",{className:"content-map"},mn.default.createElement(xYe,{urlImageProperties:i.zoomify_url,withImageManipulation:!0}))),isOpen:t,title:Ne(I?"originalview-title-mosaic":"originalview-title")})};bYe.propTypes={isOpen:Cq.default.bool,onClose:Cq.default.func,map_id:Cq.default.string};var wYe=bYe;var mu=J(De(),1);var Vo=J(De(),1);var Mxr=e=>{var t;return Tt((t=e.layer.metadata)==null?void 0:t[md.id])},Mq=(e,t)=>`${e}-${t}`,Axr=(e,t)=>{let{x:r,y:n}=e;return[[r-t,n-t],[r+t,n+t]]};function Oxr({map:e,layout:t}){let r=Ft(ai),[n,i]=zi(ZI),o=Fr(K$),[a,c]=(0,Vo.useState)(null),[p,m]=(0,Vo.useState)(null),g=(0,Vo.useRef)(null),S=(0,Vo.useRef)(null),I=(0,Vo.useMemo)(()=>r.find(H=>H.getId()===p),[a,p]),M=(0,Vo.useMemo)(()=>e.getSource(p),[p]),P=(0,Vo.useCallback)(({addOrUpdateProperties:H,removeProperties:Q},ee)=>{let ne=a.id,de={update:[{id:a.id,addOrUpdateProperties:H,removeProperties:Q}]};M.updateData(de).getData().then(ue=>{let be=ue.features.findIndex(Ee=>Ee.id===ne);if(be<0){console.error(`Cannot save feature with inexisting id '${ne}'.`);return}I.setGeoJson(ue),c(ue.features[be]),o(Date.now()),Tt(ee)&&typeof ee=="function"&&ee()})},[a,I,p]),N=(0,Vo.useCallback)(H=>{let{id:Q}=a;M.updateData({remove:[Q]}),I.removeFeature(Q),o(Date.now()),Tt(H)&&typeof H=="function"&&H()},[a,M,I]),L=(0,Vo.useCallback)(H=>{let Q=p,ee=a.id;e.setFeatureState({source:Q,id:ee},H)},[a,p]),q=(0,Vo.useCallback)(()=>{Tt(S.current)&&e.removeFeatureState(S.current)},[]),j=(0,Vo.useCallback)(()=>{g.current=null,q(),c(null),m(null),i({featureId:null,sourceId:null})},[]),B=(0,Vo.useCallback)(H=>{let{point:Q}=H,ee=Axr(Q,2),ne=e.queryRenderedFeatures(ee).filter(Mxr).at(0);if(Tt(ne)){let{id:de,source:ue}=ne;if((g==null?void 0:g.current)===Mq(de,ue))return;c(ne),m(ue),g.current=Mq(de,ue),S.current={id:de,source:ue},i({featureId:de,sourceId:ue})}else j()},[]);return(0,Vo.useEffect)(()=>{if(Tt(e)&&t===xl.HORIZONTAL)return e.on("click",B),()=>{e.off("click",B)}},[t]),(0,Vo.useEffect)(()=>{if(Tt(n==null?void 0:n.featureId)&&Tt(n==null?void 0:n.sourceId)&&r.length>0){let{featureId:H,sourceId:Q}=n;if(Mq(H,Q)!==g.current){let ne=r.find(de=>de.getId()===Q).getFeature(H);c(ne),m(Q),S.current={id:H,source:Q},g.current=Mq(H,Q)}}},[n]),a===null?null:{geoJsonFeature:a,saveFeature:P,deleteFeature:N,resetFeature:j,setFeatureState:L,removeFeatureState:q}}var SYe=Oxr;var Ws=J(De(),1);var Dn=J(De(),1),Dq=J(mt(),1);var EYe=e=>([t,r])=>{let n=e[t];return Object.hasOwn(e,t)&&Tt(n)&&n!==""?[t,n]:[t,r]},Oee=e=>{var t;return(t=e==null?void 0:e.geometry)==null?void 0:t.type},Dxr=()=>{let e=Object.values(Oy).map(({geometryTypes:r})=>r);return new Set(e.flat(2))},Dee=(()=>{let e=Dxr(),t={};for(let r of e)t[r]=([n])=>mX.includes(n)&&Oy[n].geometryTypes.includes(r);return t})(),Pxr=([e])=>!d2.includes(e),Lxr=([e])=>!hX.includes(e);var Nxr=e=>{let t=Oee(e),n=Object.entries(e.properties).filter(i=>!Dee[t](i));return Object.fromEntries(n)},Rxr=e=>{let t=Oee(e),n=Object.entries(e.properties).filter(i=>Dee[t](i));return Object.fromEntries(n)},IYe=e=>{let t=Oee(e),r=Rxr(e);return Object.entries(Oy).filter(Dee[t]).map(([i,{default:o}])=>[i,o(t)]).map(EYe(r))},TYe=e=>{let t=Nxr(e),n=d2.map(o=>[o,""]).map(EYe(t)),i=Object.entries(t).filter(Pxr).filter(Lxr);return[...n,...i]},Pee=e=>{let t=["marker","stroke","stroke-opacity","stroke-width","fill","fill-opacity","geometry"];return Object.keys(e.properties).filter(n=>!t.includes(n)).reduce((n,i)=>xr(Qe({},n),{[i]:e.properties[i]}),{})},kxr=(e,t)=>Object.keys(e).filter(n=>{let i=hX.includes(n),o=mX.includes(n),a=!Tt(t[n])||t[n]==="";return!i&&!o&&a}),CYe=({oldProperties:e,propertyFields:t,styleFields:r})=>{let n={};t.forEach(([p,m])=>{let g=m==="",S=p==="";Tt(p)&&!S&&!g&&(n[p]=m)}),r.forEach(([p,m])=>{n[p]=m});let i=Object.fromEntries(t),o=kxr(e,i);return{addOrUpdateProperties:Object.entries(n).map(([p,m])=>({key:p,value:m})),removeProperties:o}},MYe=(e,t,r)=>{let n={key:!1,value:!1},i=r.some(([o])=>o.toLowerCase()===e.toLowerCase());return(!e.trim()||i)&&(n.key=!0),t.trim()||(n.value=!0),{isValid:!n.key&&!n.value,errors:n}};var Aq=J(De(),1);var AYe=J(mt(),1);var OYe=({typeOfView:e})=>Aq.default.createElement("div",{className:`broken-img-container ${e==="view"?"view":""}`},Aq.default.createElement("img",{src:Tr.getSettings().FALLBACK_NOT_FOUND,alt:"broken image"}),Aq.default.createElement("p",{className:"geojson-feature-property-input"},Ne("geojson-image-fallback-p"))),DYe=OYe;OYe.propTypes={typeOfView:AYe.default.string};var Oq=DYe;var qxr=[...d2,"attribution"],PYe=({feature:e,onEdit:t,onClose:r})=>{let[n,i]=(0,Dn.useState)(Pee(e)),[o,a]=(0,Dn.useState)(!1),{defaultTitle:c,defaultTime:p,defaultDescription:m}=(0,Dn.useMemo)(()=>({defaultTtitle:Ne("geojson-featureview-no-title"),defaultTime:Ne("geojson-featureview-no-time"),defaultDescription:Ne("geojson-featureview-no-description")}),[]),g=(0,Dn.useCallback)(j=>{if(!Tt(j))return p;let B=Ay(j);return Qf(B)?js(B):Ne("geojson-featureview-invalid-time")},[]),{imageLink:S,title:I,description:M,time:P,attribution:N}=(0,Dn.useMemo)(()=>{var j,B;return{imageLink:n[fs.imgLink],title:(j=n[fs.title])!=null?j:c,description:(B=n[fs.description])!=null?B:m,time:g(n[fs.time]),attribution:n.attribution}},[n]),L=(0,Dn.useMemo)(()=>Tt(S)&&S.length>0&&!o,[S,o]),q=(0,Dn.useMemo)(()=>Object.entries(n).filter(([j])=>!qxr.includes(j)),[n]);return(0,Dn.useEffect)(()=>{i(Pee(e)),a(!1)},[e]),Dn.default.createElement("div",{className:"geojson-feature-panel-root vkf-geojson-feature-view-content"},Dn.default.createElement(kx,{title:Ne("geojson-featureview-header-text"),onCloseClick:r,onEditClick:t}),Dn.default.createElement("div",{className:"property-container scrollable"},Dn.default.createElement("div",{className:"image-container"},L&&Dn.default.createElement("img",{src:S,className:"image",onError:()=>a(!0)}),o&&Dn.default.createElement(Oq,{typeOfView:"view"})),Dn.default.createElement("div",{className:`predefined-properties-container ${S?"":"no-image"}`},Dn.default.createElement("div",{className:"title-section "},Dn.default.createElement("span",{className:"geojson-feature-property-label"},Ne("geojson-featureview-title")),Dn.default.createElement("span",{className:"title"},I)),Dn.default.createElement("div",{className:"description-section"},Dn.default.createElement("p",{className:"geojson-feature-property-label"},Ne("geojson-featureview-description")),Dn.default.createElement("p",{className:"description geojson-feature-property-input"},M)),Dn.default.createElement("div",{className:"time-section"},Dn.default.createElement("span",{className:"geojson-feature-property-label"},Ne("geojson-featureview-time")),Dn.default.createElement("span",{className:"description geojson-feature-property-input"},P)),Tt(N)&&Dn.default.createElement("p",{className:"attribution"},N)),Dn.default.createElement("div",{className:"properties-container"},q.length>0&&Dn.default.createElement("p",{className:"geojson-feature-property-label"},Ne("geojson-featureview-metadata")),q.map(([j,B])=>Dn.default.createElement("div",{key:j},Dn.default.createElement("label",{htmlFor:j,className:"geojson-feature-property-label"},j),Dn.default.createElement("p",{className:"geojson-feature-property-input",key:j},B))))))};PYe.propTypes={feature:Dq.default.any,onEdit:Dq.default.func,onClose:Dq.default.func};var LYe=PYe;var NYe=LYe;var Cr=J(De(),1),$d=J(mt(),1);var hp=J(De(),1);var Pq=J(mt(),1);var RYe=({show:e,onClose:t,onDelete:r})=>hp.default.createElement(ss,{show:e,onHide:t,className:"vkf-delete-dialog"},hp.default.createElement(my,{closeButton:!0}),hp.default.createElement(dy,null,Ne("geojson-deletemodal-body")),hp.default.createElement(hy,null,hp.default.createElement(h2,{className:"delete-btn",onClick:r,type:"delete"},hp.default.createElement(Ji,{name:"delete"}),hp.default.createElement("p",null,Ne("geojson-deletemodal-delete-btn"))),hp.default.createElement(h2,{className:"cancel-btn",onClick:t,type:"discard"},hp.default.createElement(Ji,{name:"discard"}),Ne("geojson-featureview-cancel-btn"))));RYe.propTypes={show:Pq.default.bool,onClose:Pq.default.func,onDelete:Pq.default.func};var kYe=RYe;var qYe=kYe;var qa=J(De(),1),xb=J(mt(),1);var jYe=({existingFields:e,onAddField:t,onClose:r,isDisplayed:n,onError:i})=>{let[o,a]=(0,qa.useState)({key:"",value:""}),[c,p]=(0,qa.useState)({key:!1,value:!1}),m=(0,qa.useRef)(),g=N=>{let{name:L,value:q}=N.target;a(j=>xr(Qe({},j),{[L]:q}))},S=(0,qa.useCallback)(N=>{if(N.relatedTarget===m.current)return;let{key:L,value:q}=o,{isValid:j,errors:B}=MYe(L,q,e);p(B),i(B),j&&(t({key:L.trim().toLowerCase(),value:q.trim().toLowerCase()}),a({key:"",value:""}))},[o,e,t]),I=()=>{r(),a({key:"",value:""}),p({key:!1,value:!1})},M=N=>{N.key==="Enter"&&N.target.blur()},P=(0,qa.useCallback)(N=>{N&&n&&N.focus()},[n]);return qa.default.createElement("div",{className:"new-field-root"},qa.default.createElement("div",{className:"label-section"},qa.default.createElement("input",{className:Ct("geojson-feature-property-label",{error:c.key}),type:"text",name:"key",value:o.key,onChange:g,onBlur:S,onKeyDown:M,onFocus:()=>p(N=>({key:!1,value:N.value})),ref:P,placeholder:Ne("geojson-editfeature-input-placeholder")})),qa.default.createElement("div",{className:"input-section"},qa.default.createElement("input",{className:Ct("geojson-feature-property-input",{error:c.value}),type:"text",name:"value",value:o.value,onChange:g,onBlur:S,onKeyDown:M,onFocus:()=>p(N=>({key:N.key,value:!1})),tabIndex:n?0:-1,placeholder:Ne("geojson-editfeature-label-placeholder")})),qa.default.createElement(Fs,{className:"delete-button",type:"discard",onClick:I,ref:m},qa.default.createElement("span",null,Ne("geojson-featureview-delete-field-btn")),qa.default.createElement(Ji,{name:"delete"})))};jYe.propTypes={existingFields:xb.default.array.isRequired,onAddField:xb.default.func.isRequired,onClose:xb.default.func.isRequired,isDisplayed:xb.default.bool,onError:xb.default.func};var zYe=jYe;var vc=J(De(),1),bb=J(mt(),1);var Lee="FF",Nee=e=>Number(e.toFixed(0)).toString(16).padStart(2,"0"),jxr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.split("(")[1].split(")")[0].split(",").map(n=>parseInt(n,10)).map(Nee).join("");return t?`#${r}${Lee}`:`#${r}`},zxr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.split("(")[1].split(")")[0].split(","),n=r.slice(0,3).map(o=>parseInt(o,10)).map(Nee).join(""),i=Nee(parseFloat(r[3])*255);return t?`#${n}${i}`:`#${n}`},Fxr=(e,{useAlpha:t}={useAlpha:!1})=>{let r=e.trim();if(r.startsWith("rgba"))return zxr(r,{useAlpha:t});if(r.startsWith("rgb"))return jxr(r,{useAlpha:t});if(r.startsWith("#"))if(e.length===4){let n=e.slice(1,3).map(i=>`${i}${i}`);return t?`#${n}${Lee}`:`#${n}`}else{if(e.length===7)return t?`${e}${Lee}`:e;if(e.length===9)return t?e:e.slice(0,7)}throw new Error("Unknown color format")},Bxr=e=>{let t={blue:"#0000ff",green:"#008000",orange:"#ffa500",pink:"#ffc0cb",yellow:"#ffff00"};if(!Tt(e)&&typeof e!="string")throw new Error("No input specified");let r=e.trim().toLowerCase();if(!Object.hasOwn(t,r))throw new Error("No matching legacy color found");return t[r]},FYe=e=>{let t=e;try{t=Fxr(e)}catch(r){t=Bxr(e)}return t};var BYe=({title:e,value:t,inputProps:r={},onChange:n,onBlur:i})=>{let o=(0,vc.useRef)(),a=(0,vc.useCallback)(g=>{let{type:S,min:I,max:M}=r,P=g;if(S==="number")P=Number.isNaN(Number.parseFloat(P))?1:parseFloat(P),P=Tt(I)?Math.max(I,P):P,P=Tt(M)?Math.min(M,P):P;else if(S==="color")try{P=FYe(P)}catch(N){P=Ao[Tn.SYMBOL].COLOR}return P},[r]),c=(0,vc.useMemo)(()=>a(t),[t,a]),p=(0,vc.useCallback)(()=>{let g=a(o.current.value);i([e,g])},[i,a]),m=(0,vc.useCallback)(g=>{if(Tt(n)){let S=a(g.target.value);n([e,S])}},[a,n]);return vc.default.createElement("div",{className:"style-property-item"},vc.default.createElement("label",{htmlFor:"style-input",className:"geojson-feature-property-input"},e),vc.default.createElement("input",xr(Qe({className:"geojson-feature-property-input"},r),{defaultValue:c,onChange:m,onBlur:p,ref:o})))};BYe.propTypes={title:bb.default.string.isRequired,value:bb.default.any,inputProps:bb.default.object,onChange:bb.default.func,onBlur:bb.default.func};var UYe=BYe;var Po=J(De(),1),Wd=J(mt(),1);var VYe=({title:e,value:t,onChange:r,onBlur:n,onDelete:i,isHeaderEditable:o,existingFields:a,onError:c})=>{let[p,m]=(0,Po.useState)(e===fs.imgLink?t:""),[g,S]=(0,Po.useState)({key:!1,value:!1}),I=(0,Po.useRef)(),M=(0,Po.useRef)(),P=()=>{let j=I.current.value,B=M.current.value,H=j!==e,Q=B==="",ne={key:H&&a.some(([de])=>de.toLowerCase()===j.toLowerCase())||j==="",value:o&&Q};S(ne),c(ne),!ne.key&&!ne.value&&(j===fs.imgLink&&m(B),n([j,B]),S({key:!1,value:!1}))},N=j=>{j.key==="Enter"&&j.target.blur()},L=(0,Po.useCallback)(j=>{Tt(r)&&r(j.target.value)},[r]),q=(0,Po.useCallback)(()=>{Tt(i)&&i()},[i,g]);return Po.default.createElement("div",{className:"none-style-property-item"},p&&p!=="broken"?Po.default.createElement("div",{className:"img-container"},Po.default.createElement("label",{className:"geojson-feature-property-label",htmlFor:"image"},Ne("geojson-featureview-image-title")),Po.default.createElement("img",{src:p,className:"image",id:"image",onError:()=>m("broken")})):null,p==="broken"&&Po.default.createElement(Oq,null),Po.default.createElement("input",{className:Ct("geojson-feature-property-label",o?"editable":"not-editable",{error:g.key}),onBlur:o?P:void 0,type:"text",defaultValue:e,readOnly:!o,tabIndex:o?0:-1,onKeyDown:o?N:void 0,ref:I,placeholder:Ne("geojson-editfeature-input-placeholder")}),Po.default.createElement("input",{className:Ct("geojson-feature-property-input",{error:g.value}),defaultValue:t,onChange:L,onBlur:P,onKeyDown:N,ref:M,placeholder:Ne("geojson-editfeature-label-placeholder")}),o&&Po.default.createElement(Fs,{className:"delete-button",type:"discard",onClick:q},Po.default.createElement("p",null,Ne("geojson-featureview-delete-field-btn")),Po.default.createElement(Ji,{name:"delete"})))};VYe.propTypes={title:Wd.default.string.isRequired,value:Wd.default.any,onChange:Wd.default.func,onBlur:Wd.default.func,onDelete:Wd.default.func,isHeaderEditable:Wd.default.bool,existingFields:Wd.default.array,onError:Wd.default.func};var GYe=VYe;var HYe=e=>{let{feature:t,onFeatureStateChange:r,onDelete:n,onClose:i,onSave:o}=e,[a,c]=(0,Cr.useState)(TYe(t)),[p,m]=(0,Cr.useState)(IYe(t)),g=(0,Cr.useRef)(!1),[S,I]=(0,Cr.useState)(!1),[M,P]=(0,Cr.useState)(!1),[N,L]=(0,Cr.useState)({});(0,Cr.useEffect)(()=>()=>{g.current||Q()},[]);let q=(0,Cr.useCallback)((Ee,Re)=>Ie=>{let[We,$e]=Ie;m(Fe=>{let je=[...Fe];return je[Re]=[We,$e],je}),r({[Ee]:$e})},[r]),j=(0,Cr.useCallback)(Ee=>Re=>{c(Ie=>{let We=[...Ie];return We[Ee]=Re,We})},[c]),B=(0,Cr.useCallback)(()=>{P(!0)},[]),H=(0,Cr.useCallback)(Ee=>()=>{c(Re=>{let Ie=[...Re];return Ie.splice(Ee,1),Ie}),L({})},[c]),Q=(0,Cr.useCallback)(()=>{i({doRemoveFeatureState:!0})},[i]),ee=(0,Cr.useCallback)(()=>{g.current=!0;let Ee=CYe({oldProperties:t.properties,propertyFields:a,styleFields:p});o(Ee)},[o,t,a,p]),ne=(0,Cr.useCallback)(()=>{I(Ee=>!Ee)},[]),de=(0,Cr.useCallback)(()=>{I(!1)},[I]),ue=(0,Cr.useCallback)(()=>{n(t),ne()},[n,t,ne]),be=(0,Cr.useCallback)(Ee=>{c(Re=>[...Re,[Ee.key,Ee.value]]),P(!1)},[c]);return Cr.default.createElement("div",{className:"geojson-feature-edit-panel-root vkf-geojson-feature-view-content full-height"},Cr.default.createElement(kx,{title:Ne("geojson-editview-header-text"),onCloseClick:i}),Cr.default.createElement("div",{className:"properties-container"},Cr.default.createElement("div",{className:"style-property-header"},Cr.default.createElement("p",{className:"header-text geojson-feature-property-label"},Ne("geojson-editfeature-style-header"))),Cr.default.createElement("div",{className:"style-properties-container"},p.map((Ee,Re)=>{let[Ie,We]=Ee,{inputProps:$e}=Oy[Ie];return Cr.default.createElement(UYe,{onChange:q(Ie,Re),onBlur:q(Ie,Re),key:Ie,title:Ie,inputProps:$e,value:We})})),Cr.default.createElement("div",{className:"none-style-properties-container"},a.map((Ee,Re)=>{var je;let[Ie,We]=Ee,$e=Tt(r3[Ie]),Fe=(je=r3[Ie])==null?void 0:je.inputProps;return Cr.default.createElement(GYe,{onBlur:j(Re),key:Ie,isHeaderEditable:!$e,title:Ie,inputProps:Fe,value:We,onDelete:$e?void 0:H(Re),existingFields:a,onError:L})})),Cr.default.createElement("div",{className:"new-field-container"},Cr.default.createElement("div",{className:Ct("new-fields",M&&"in")},Cr.default.createElement(zYe,{existingFields:a,onAddField:be,onClose:()=>{P(!1),L({})},isDisplayed:M,onError:L})),Cr.default.createElement("div",{className:Ct("new-field-button-container",!M&&"in")},Cr.default.createElement(Fs,{className:"new-field-button",onClick:B,disabled:M||N.key||N.value},Cr.default.createElement(Ji,{name:"add"}),Cr.default.createElement("p",{className:"geojson-feature-property-label"},Ne("geojson-editfeature-add-new-field-button"))))),Cr.default.createElement("div",{className:"danger-zone"},Cr.default.createElement("p",{className:"header-text geojson-feature-property-label"},"danger zone"),Cr.default.createElement("div",{className:"delete-button-container"},Cr.default.createElement("p",{className:"button-header-text"},Ne("geojson-editfeature-danger-zone-title")),Cr.default.createElement(Fs,{className:"delete-feature-button",onClick:ne,type:"delete"},Cr.default.createElement(Ji,{name:"delete"}),Cr.default.createElement("p",{className:"delete-button-text geojson-feature-property-label"},Ne("geojson-featureview-delete-btn")))))),Cr.default.createElement("div",{className:"footer-container"},Cr.default.createElement(Fs,{className:"save-button",onClick:ee,type:"save",disabled:N.key||N.value||M},Cr.default.createElement(Ji,{name:"save"}),Ne("geojson-featureview-save-btn")),Cr.default.createElement(Fs,{className:"discard-button",onClick:Q,type:"discard"},Cr.default.createElement(Ji,{name:"discard"}),Ne("geojson-featureview-cancel-btn"))),S&&Cr.default.createElement(qYe,{show:S,onClose:de,onDelete:ue}))};HYe.propTypes={feature:$d.default.shape({id:$d.default.number.isRequired,geometry:$d.default.object.isRequired,properties:$d.default.object.isRequired}).isRequired,onFeatureStateChange:$d.default.func,onClose:$d.default.func,onDelete:$d.default.func,onSave:$d.default.func};var WYe=HYe;var $Ye=WYe;var $y=J(mt(),1);var ZYe=({geoJsonFeature:e,saveFeature:t,deleteFeature:r,resetFeature:n,setFeatureState:i,removeFeatureState:o})=>{let[a,c]=(0,Ws.useState)(!0),p=(0,Ws.useCallback)(({doRemoveFeatureState:M}={doRemoveFeatureState:!0})=>{M&&o(),c(!0)},[c,o]),m=(0,Ws.useCallback)(M=>{t(M,()=>{p({doRemoveFeatureState:!1})})},[t]),g=(0,Ws.useCallback)(()=>{r(()=>S())},[r]),S=(0,Ws.useCallback)(()=>{n()},[n]),I=(0,Ws.useCallback)(()=>{c(!1)},[c]);return(0,Ws.useEffect)(()=>{e!==null&&c(!0)},[e]),Ws.default.createElement(Ws.default.Fragment,null,a&&Ws.default.createElement(NYe,{feature:e,onEdit:I,onClose:S}),!a&&Ws.default.createElement($Ye,{feature:e,onFeatureStateChange:i,onDelete:g,onClose:p,onSave:m}))};ZYe.propTypes={geoJsonFeature:$y.default.object.isRequired,saveFeature:$y.default.func.isRequired,deleteFeature:$y.default.func.isRequired,resetFeature:$y.default.func.isRequired,setFeatureState:$y.default.func.isRequired,removeFeatureState:$y.default.func.isRequired};var YYe=ZYe;var Uxr=()=>{let[e,t]=(0,mu.useState)(!1),r=Ft(Qr),n=Ft(Z_),i=SYe({map:r,layout:n}),o=(0,mu.useRef)(null),a=(0,mu.useMemo)(()=>i===null?o.current:i,[i]),c=(0,mu.useCallback)(()=>{i===null&&t(!0)},[i]);return(0,mu.useEffect)(()=>(o.current=i,()=>{t(!1)}),[i]),mu.default.createElement("div",{onTransitionEnd:c,className:Ct("vkf-geojson-feature-view-root",i!==null&&"in")},!e&&a!==null&&mu.default.createElement(YYe,Qe({},a)))},KYe=Uxr;var XYe=KYe;var Ree=({onAddGeoJson:e})=>{let[t,r]=zi(CN),n=(0,$s.useRef)(null);K_(n,"spatialtemporalsearch");let i=()=>r(void 0);return $s.default.createElement($s.default.Fragment,null,$s.default.createElement("div",{className:"vkf-horizontal-layout"},$s.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container",ref:n},$s.default.createElement(yWe,null)),$s.default.createElement("div",{className:"geojson-feature-view-container"},$s.default.createElement(XYe,null)),$s.default.createElement("div",{className:"layermanagement-container",id:"layermanagement-container"},$s.default.createElement(Dk,{onAddGeoJson:e})),$s.default.createElement("div",{className:"geojson-layer-view-container"},$s.default.createElement(g9e,null))),$s.default.createElement(wYe,{onClose:i,isOpen:t!==void 0,map_id:t}))};Ree.propTypes={onAddGeoJson:QYe.default.func};var Go=J(De(),1);var lo=J(De(),1),Rq=J(mt(),1);var kee=J(De(),1),qee=J(mt(),1);var JYe=({onClick:e})=>kee.default.createElement("button",{className:"vkf-toggle-search-button",onClick:e,title:"toggle search"},kee.default.createElement(cc,{name:"icon-search"}));JYe.propTypes={isOpen:qee.default.bool,onClick:qee.default.func};var eKe=JYe;var Lq=J(De(),1),Nq=J(mt(),1);var jee=({disabled:e,onClick:t,isOpen:r})=>Lq.default.createElement("button",{className:Ct("vkf-toggle-search-result-list",r?"open":"closed",e&&"disabled"),disabled:e,onClick:t},Lq.default.createElement("div",{className:"background"}),Lq.default.createElement("div",{className:"chevron"}));jee.propTypes={disabled:Nq.default.bool,isOpen:Nq.default.bool,onClick:Nq.default.func};var tKe=({enableReopenResultList:e=!0,onToggleFacets:t,showFacets:r})=>{let n=Ft(Y_),[i,o]=(0,lo.useState)(!1),[a,c]=(0,lo.useState)(!1),[p,m]=(0,lo.useState)(!1),g=()=>{o(M=>!M)},S=()=>{c(M=>!M)};(0,lo.useEffect)(()=>{n===0&&i?(o(!1),m(!0)):e&&n>0&&p&&(o(!0),m(!1))},[n]);let I=i?"show-search-result-list":"hide-search-result-list";return lo.default.createElement(lo.Fragment,null,lo.default.createElement("div",{className:"vkf-search-header"},lo.default.createElement("div",{className:"top-container"},lo.default.createElement("div",{className:"result-summary"},n===0?Ne("mapsearch-found-no-maps"):`${n} ${Ne("mapsearch-found-maps")}`),lo.default.createElement("div",{className:"controls-container"},lo.default.createElement(r4,{onClick:t,isOpen:r}),lo.default.createElement(eKe,{onClick:S,isOpen:a}))),a&&lo.default.createElement("div",{className:"bottom-container"},lo.default.createElement(Gk,{searchUrl:Tr.getNominatimUrl()}),lo.default.createElement(Lk,null))),lo.default.createElement(jee,{disabled:n===0,onClick:g,isOpen:i}),lo.default.createElement("div",{className:Ct("vkf-search-result-container",I)},lo.default.createElement(e4,{enableOverlayLayer:!1,DataProvider:i4,direction:"horizontal",itemSize:170,renderHeader:!1})))};tKe.propTypes={enableReopenResultList:Rq.default.bool,onToggleFacets:Rq.default.func,showFacets:Rq.default.bool};var rKe=tKe;var kq=J(De(),1);var zee=J(mt(),1);var nKe=({buttonState:e,onClick:t})=>{let r=Ft(ai),n=r.length===0;return kq.default.createElement("button",{className:Ct("vkf-toggle-layermanagement-button",!n&&e&&"opened",n&&"disabled"),disabled:n,onClick:t},!n&&kq.default.createElement("span",{className:"badge"},r.length),kq.default.createElement(cc,{name:"layers"}))};nKe.propTypes={buttonState:zee.default.bool,onClick:zee.default.func};var iKe=nKe;var oKe=Dk;var aKe=J(De(),1),sKe=J(mt(),1),lKe=({onCloseLayerManagement:e})=>{let t=Ft(ai);return(0,aKe.useEffect)(()=>{t.length===0&&e()},[t]),null};lKe.propTypes={onCloseLayerManagement:sKe.default.func.isRequired};var uKe=lKe;var Vxr=()=>{let e=Fr($_),[t,r]=(0,Go.useState)(!1),[n,i]=(0,Go.useState)(!1),o=(0,Go.useCallback)(()=>{i(!1)},[]),a=(0,Go.useCallback)(()=>{i(p=>!p)},[]),c=()=>{r(p=>!p)};return(0,Go.useEffect)(()=>{e(p=>Object.assign({},p,{spatialtemporalsearch:{height:0,width:0},layermanagement:{height:0,width:0}}))},[]),Go.default.createElement(Go.default.Fragment,null,Go.default.createElement(uKe,{onCloseLayerManagement:o}),Go.default.createElement("div",{className:"vkf-vertical-layout"},Go.default.createElement(rKe,{onToggleFacets:c,showFacets:t}),Go.default.createElement(iKe,{buttonState:n,onClick:a}),Go.default.createElement("div",{className:Ct("layermanagement-container",!n&&"closed")},Go.default.createElement(oKe,{showControls:{showBadge:!1,showDynamicMapVisualization:!1,showHideButton:!0}}))),Go.default.createElement(Wk,{modalClassName:"faceted-search-modal",onClose:c,renderContent:()=>Go.default.createElement(HR,{georeferenceMode:!1}),isOpen:t,title:"Filter"}))},Fee=Vxr;var yp=J(De(),1);var pXe=J(mt(),1);var af=J(De(),1),Yq=J(mt(),1);function Bee(e){var t=null,r=function(){return t==null&&(t=e()),t};return r}function cKe(e,t){return e.filter(function(r){return r!==t})}function fKe(e,t){var r=new Set,n=function(a){return r.add(a)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(o){return i.push(o)}),i}function Gxr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hxr(e,t,r){return t&&pKe(e.prototype,t),r&&pKe(e,r),e}function dKe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hKe=function(){function e(t){Gxr(this,e),dKe(this,"entered",[]),dKe(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return Hxr(e,[{key:"enter",value:function(r){var n=this,i=this.entered.length,o=function(c){return n.isNodeInDocument(c)&&(!c.contains||c.contains(r))};return this.entered=fKe(this.entered.filter(o),[r]),i===0&&this.entered.length>0}},{key:"leave",value:function(r){var n=this.entered.length;return this.entered=cKe(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}();var mKe=Bee(function(){return /firefox/i.test(navigator.userAgent)}),Uee=Bee(function(){return!!window.safari});function Wxr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $xr(e,t,r){return t&&gKe(e.prototype,t),r&&gKe(e,r),e}function EC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vee=function(){function e(t,r){Wxr(this,e),EC(this,"xs",void 0),EC(this,"ys",void 0),EC(this,"c1s",void 0),EC(this,"c2s",void 0),EC(this,"c3s",void 0);for(var n=t.length,i=[],o=0;o<n;o++)i.push(o);i.sort(function(ue,be){return t[ue]<t[be]?-1:1});for(var a=[],c=[],p=[],m,g,S=0;S<n-1;S++)m=t[S+1]-t[S],g=r[S+1]-r[S],c.push(m),a.push(g),p.push(g/m);for(var I=[p[0]],M=0;M<c.length-1;M++){var P=p[M],N=p[M+1];if(P*N<=0)I.push(0);else{m=c[M];var L=c[M+1],q=m+L;I.push(3*q/((q+L)/P+(q+m)/N))}}I.push(p[p.length-1]);for(var j=[],B=[],H,Q=0;Q<I.length-1;Q++){H=p[Q];var ee=I[Q],ne=1/c[Q],de=ee+I[Q+1]-H-H;j.push((H-ee-de)*ne),B.push(de*ne*ne)}this.xs=t,this.ys=r,this.c1s=I,this.c2s=j,this.c3s=B}return $xr(e,[{key:"interpolate",value:function(r){var n=this.xs,i=this.ys,o=this.c1s,a=this.c2s,c=this.c3s,p=n.length-1;if(r===n[p])return i[p];for(var m=0,g=c.length-1,S;m<=g;){S=Math.floor(.5*(m+g));var I=n[S];if(I<r)m=S+1;else if(I>r)g=S-1;else return i[S]}p=Math.max(0,g);var M=r-n[p],P=M*M;return i[p]+o[p]*M+a[p]*P+c[p]*M*P}}]),e}();var Zxr=1;function Gee(e){var t=e.nodeType===Zxr?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,i=r.left;return{x:i,y:n}}function IC(e){return{x:e.clientX,y:e.clientY}}function Yxr(e){var t;return e.nodeName==="IMG"&&(mKe()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function Kxr(e,t,r,n){var i=e?t.width:r,o=e?t.height:n;return Uee()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function vKe(e,t,r,n,i){var o=Yxr(t),a=o?e:t,c=Gee(a),p={x:r.x-c.x,y:r.y-c.y},m=e.offsetWidth,g=e.offsetHeight,S=n.anchorX,I=n.anchorY,M=Kxr(o,t,m,g),P=M.dragPreviewWidth,N=M.dragPreviewHeight,L=function(){var ne=new Vee([0,.5,1],[p.y,p.y/g*N,p.y+N-g]),de=ne.interpolate(I);return Uee()&&o&&(de+=(window.devicePixelRatio-1)*N),de},q=function(){var ne=new Vee([0,.5,1],[p.x,p.x/m*P,p.x+P-m]);return ne.interpolate(S)},j=i.offsetX,B=i.offsetY,H=j===0||j,Q=B===0||B;return{x:H?j:q(),y:Q?B:L()}}var vg={};Qre(vg,{FILE:()=>Hee,HTML:()=>Zee,TEXT:()=>$ee,URL:()=>Wee});var Hee="__NATIVE_FILE__",Wee="__NATIVE_URL__",$ee="__NATIVE_TEXT__",Zee="__NATIVE_HTML__";function qq(e,t,r){var n=t.reduce(function(i,o){return i||e.getData(o)},"");return n!=null?n:r}var wb;function jq(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zq=(wb={},jq(wb,Hee,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),jq(wb,Zee,{exposeProperties:{html:function(t,r){return qq(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),jq(wb,Wee,{exposeProperties:{urls:function(t,r){return qq(t,r,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),jq(wb,$ee,{exposeProperties:{text:function(t,r){return qq(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),wb);function Xxr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qxr(e,t,r){return t&&yKe(e.prototype,t),r&&yKe(e,r),e}function _Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xKe=function(){function e(t){Xxr(this,e),_Ke(this,"item",void 0),_Ke(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return Qxr(e,[{key:"initializeExposedProperties",value:function(){var r=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(r.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,"\" until the drop event.")),null}})})}},{key:"loadDataTransfer",value:function(r){var n=this;if(r){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:n.config.exposeProperties[o](r,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(r,n){return n===r.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function bKe(e,t){var r=new xKe(zq[e]);return r.loadDataTransfer(t),r}function Fq(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(zq).filter(function(r){var n=zq[r].matchesTypes;return n.some(function(i){return t.indexOf(i)>-1})})[0]||null}function Jxr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ebr(e,t,r){return t&&wKe(e.prototype,t),r&&wKe(e,r),e}function Yee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SKe=function(){function e(t,r){Jxr(this,e),Yee(this,"ownerDocument",null),Yee(this,"globalContext",void 0),Yee(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=r}return ebr(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){var r;return(r=this.globalContext)!==null&&r!==void 0&&r.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}}]),e}();function EKe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EKe(Object(r),!0).forEach(function(n){xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EKe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tbr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rbr(e,t,r){return t&&TKe(e.prototype,t),r&&TKe(e,r),e}function xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CKe=function(){function e(t,r,n){var i=this;tbr(this,e),xn(this,"options",void 0),xn(this,"actions",void 0),xn(this,"monitor",void 0),xn(this,"registry",void 0),xn(this,"enterLeaveCounter",void 0),xn(this,"sourcePreviewNodes",new Map),xn(this,"sourcePreviewNodeOptions",new Map),xn(this,"sourceNodes",new Map),xn(this,"sourceNodeOptions",new Map),xn(this,"dragStartSourceIds",null),xn(this,"dropTargetIds",[]),xn(this,"dragEnterTargetIds",[]),xn(this,"currentNativeSource",null),xn(this,"currentNativeHandle",null),xn(this,"currentDragSourceNode",null),xn(this,"altKeyPressed",!1),xn(this,"mouseMoveTimeoutTimer",null),xn(this,"asyncEndDragFrameId",null),xn(this,"dragOverTargetIds",null),xn(this,"lastClientOffset",null),xn(this,"hoverRafId",null),xn(this,"getSourceClientOffset",function(o){var a=i.sourceNodes.get(o);return a&&Gee(a)||null}),xn(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),xn(this,"isNodeInDocument",function(o){return!!(o&&i.document&&i.document.body&&i.document.body.contains(o))}),xn(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),xn(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),xn(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var a=i.dragStartSourceIds;i.dragStartSourceIds=null;var c=IC(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:c});var p=o.dataTransfer,m=Fq(p);if(i.monitor.isDragging()){if(p&&typeof p.setDragImage=="function"){var g=i.monitor.getSourceId(),S=i.sourceNodes.get(g),I=i.sourcePreviewNodes.get(g)||S;if(I){var M=i.getCurrentSourcePreviewNodeOptions(),P=M.anchorX,N=M.anchorY,L=M.offsetX,q=M.offsetY,j={anchorX:P,anchorY:N},B={offsetX:L,offsetY:q},H=vKe(S,I,c,j,B);p.setDragImage(I,H.x,H.y)}}try{p==null||p.setData("application/json",{})}catch(ne){}i.setCurrentDragSourceNode(o.target);var Q=i.getCurrentSourcePreviewNodeOptions(),ee=Q.captureDraggingState;ee?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(m)i.beginDragNativeItem(m);else{if(p&&!p.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),xn(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),xn(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var a=i.enterLeaveCounter.enter(o.target);if(!(!a||i.monitor.isDragging())){var c=o.dataTransfer,p=Fq(c);p&&i.beginDragNativeItem(p,c)}}),xn(this,"handleTopDragEnter",function(o){var a=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,a.length>0&&i.actions.hover(a,{clientOffset:IC(o)});var c=a.some(function(p){return i.monitor.canDropOnTarget(p)});c&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),xn(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),xn(this,"handleTopDragOver",function(o){var a=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=IC(o),i.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(a||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var c=(a||[]).some(function(p){return i.monitor.canDropOnTarget(p)});c?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),xn(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var a=i.enterLeaveCounter.leave(o.target);a&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),xn(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var a;o.preventDefault(),(a=i.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else Fq(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),xn(this,"handleTopDrop",function(o){var a=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(a,{clientOffset:IC(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),xn(this,"handleSelectStart",function(o){var a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))}),this.options=new SKe(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new hKe(this.isNodeInDocument)}return rbr(e,[{key:"profile",value:function(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}},{key:"teardown",value:function(){var r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(r,n,i){var o=this;return this.sourcePreviewNodeOptions.set(r,i),this.sourcePreviewNodes.set(r,n),function(){o.sourcePreviewNodes.delete(r),o.sourcePreviewNodeOptions.delete(r)}}},{key:"connectDragSource",value:function(r,n,i){var o=this;this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,i);var a=function(m){return o.handleDragStart(m,r)},c=function(m){return o.handleSelectStart(m)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",c),function(){o.sourceNodes.delete(r),o.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",c),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(r,n){var i=this,o=function(m){return i.handleDragEnter(m,r)},a=function(m){return i.handleDragOver(m,r)},c=function(m){return i.handleDrop(m,r)};return n.addEventListener("dragenter",o),n.addEventListener("dragover",a),n.addEventListener("drop",c),function(){n.removeEventListener("dragenter",o),n.removeEventListener("dragover",a),n.removeEventListener("drop",c)}}},{key:"addEventListeners",value:function(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return IKe({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return IKe({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(vg).some(function(n){return vg[n]===r})}},{key:"beginDragNativeItem",value:function(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=bKe(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(r){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=n.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(r,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(r,n){this.dropTargetIds.unshift(n)}}]),e}();var MKe=function(t,r,n){return new CKe(t,r,n)};function AKe(e,t,...r){if(nbr()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function nbr(){return typeof process!="undefined"&&!0}var Zd;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(Zd||(Zd={}));var ibr={Left:1,Right:2,Center:4},obr={Left:0,Center:1,Right:2};function Bq(e){return e.button===void 0||e.button===obr.Left}function OKe(e){return e.buttons===void 0||(e.buttons&ibr.Left)===0}function Uq(e){return!!e.targetTouches}var abr=1;function DKe(e){let t=e.nodeType===abr?e:e.parentElement;if(!t)return;let{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function sbr(e,t){if(e.targetTouches.length===1)return TC(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return TC(e.touches[0])}function TC(e,t){return Uq(e)?sbr(e,t):{x:e.clientX,y:e.clientY}}function PKe(e,t,r,n){return Math.sqrt(Math.pow(Math.abs(r-e),2)+Math.pow(Math.abs(n-t),2))}function LKe(e,t,r,n,i){if(!i)return!1;let o=Math.atan2(n-t,r-e)*180/Math.PI+180;for(let a=0;a<i.length;++a){let c=i[a];if(c&&(c.start==null||o>=c.start)&&(c.end==null||o<=c.end))return!0}return!1}var Kee=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch(t){}return e})();var Vq=class{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,r){this.args=t,this.context=r}};var CC={[Zd.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Zd.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Zd.keyboard]:{keydown:"keydown"}},Gq=class e{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){let t=this.options.rootElement;t&&(AKe(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){let t=this.options.rootElement;t&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,r,n,i=!1){let o=Kee?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(a){let c=CC[a][r];c&&t.addEventListener(c,n,o)})}removeEventListener(t,r,n,i=!1){let o=Kee?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(a){let c=CC[a][r];c&&t.removeEventListener(c,n,o)})}connectDragSource(t,r){let n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(r,"start",n)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,r){let n=this.options.rootElement;if(!this.document||!n)return()=>{};let i=o=>{if(!this.document||!n||!this.monitor.isDragging())return;let a;switch(o.type){case CC.mouse.move:a={x:o.clientX,y:o.clientY};break;case CC.touch.move:var c,p;a={x:((c=o.touches[0])===null||c===void 0?void 0:c.clientX)||0,y:((p=o.touches[0])===null||p===void 0?void 0:p.clientY)||0};break;}let m=a!=null?this.document.elementFromPoint(a.x,a.y):void 0,g=m&&r.contains(m);if(m===r||g)return this.handleMove(o,t)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,r),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,r,n){this.getSourceClientOffset=i=>{let o=this.sourceNodes.get(i);return o&&DKe(o)},this.handleTopMoveStartCapture=i=>{Bq(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!Bq(i))return;let o=TC(i);o&&(Uq(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=o),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!Bq(i))return;let o=i.type===CC.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),o),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,o)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(o)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;let{moveStartSourceIds:o,dragOverTargetIds:a}=this,c=this.options.enableHoverOutsideTarget,p=TC(i,this.lastTargetTouchFallback);if(!p)return;if(this._isScrolling||!this.monitor.isDragging()&&LKe(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,p.x,p.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&PKe(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,p.x,p.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;let m=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(m),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();let g=(a||[]).map(P=>this.targetNodes.get(P)).filter(P=>!!P),S=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(p.x,p.y,g):this.document.elementsFromPoint(p.x,p.y),I=[];for(let P in S){if(!S.hasOwnProperty(P))continue;let N=S[P];for(N!=null&&I.push(N);N;)N=N.parentElement,N&&I.indexOf(N)===-1&&I.push(N)}let M=I.filter(P=>g.indexOf(P)>-1).map(P=>this._getDropTargetId(P)).filter(P=>!!P).filter((P,N,L)=>L.indexOf(P)===N);if(c)for(let P in this.targetNodes){let N=this.targetNodes.get(P);if(m&&N&&N.contains(m)&&M.indexOf(P)===-1){M.unshift(P);break}}M.reverse(),this.actions.hover(M,{clientOffset:p})},this._getDropTargetId=i=>{let o=this.targetNodes.keys(),a=o.next();for(;a.done===!1;){let c=a.value;if(i===this.targetNodes.get(c))return c;a=o.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!OKe(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Vq(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Zd.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Zd.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Zd.keyboard)}};var NKe=function(t,r={},n={}){return new Gq(t,r,n)};function Xee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lbr(e,t,r){ubr(e,t),t.set(e,r)}function ubr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hq(e,t){var r=RKe(e,t,"get");return cbr(e,r)}function cbr(e,t){return t.get?t.get.call(e):t.value}function fbr(e,t,r){var n=RKe(e,t,"set");return pbr(e,n,r),r}function RKe(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function pbr(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var Sb=new WeakMap,Wq=class{constructor(){lbr(this,Sb,{writable:!0,value:void 0}),Xee(this,"register",t=>{Hq(this,Sb).push(t)}),Xee(this,"unregister",t=>{let r;for(;(r=Hq(this,Sb).indexOf(t))!==-1;)Hq(this,Sb).splice(r,1)}),Xee(this,"backendChanged",t=>{for(let r of Hq(this,Sb))r.backendChanged(t)}),fbr(this,Sb,[])}};function of(e,t,r){dbr(e,t),t.set(e,r)}function dbr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e,t){var r=zKe(e,t,"get");return hbr(e,r)}function hbr(e,t){return t.get?t.get.call(e):t.value}function Eb(e,t,r){var n=zKe(e,t,"set");return mbr(e,n,r),r}function zKe(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function mbr(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var yc=new WeakMap,$q=new WeakMap,_c=new WeakMap,yg=new WeakMap,Zy=new WeakMap,kKe=new WeakMap,qKe=new WeakMap,jKe=new WeakMap,Qee=new WeakMap,Jee=new WeakMap,Zq=new WeakMap,MC=class e{constructor(t,r,n){if(of(this,yc,{writable:!0,value:void 0}),of(this,$q,{writable:!0,value:void 0}),of(this,_c,{writable:!0,value:void 0}),of(this,yg,{writable:!0,value:void 0}),of(this,Zy,{writable:!0,value:void 0}),of(this,kKe,{writable:!0,value:(i,o,a)=>{var c,p;if(!a.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(a)));let m=a.backend(i,o,a.options),g=a.id,S=!a.id&&m&&m.constructor;if(S&&(g=m.constructor.name),g)S&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(a),`
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`));if(tn(this,_c)[g])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        `.concat(JSON.stringify(a)," (conflicts with: ").concat(JSON.stringify(tn(this,_c)[g]),")"));return{id:g,instance:m,preview:(c=a.preview)!==null&&c!==void 0?c:!1,transition:a.transition,skipDispatchOnTransition:(p=a.skipDispatchOnTransition)!==null&&p!==void 0?p:!1}}}),mp(this,"setup",()=>{if(typeof window!="undefined"){if(e.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");e.isSetUp=!0,tn(this,qKe).call(this,window),tn(this,_c)[tn(this,yc)].instance.setup()}}),mp(this,"teardown",()=>{typeof window!="undefined"&&(e.isSetUp=!1,tn(this,jKe).call(this,window),tn(this,_c)[tn(this,yc)].instance.teardown())}),mp(this,"connectDragSource",(i,o,a)=>tn(this,Zq).call(this,"connectDragSource",i,o,a)),mp(this,"connectDragPreview",(i,o,a)=>tn(this,Zq).call(this,"connectDragPreview",i,o,a)),mp(this,"connectDropTarget",(i,o,a)=>tn(this,Zq).call(this,"connectDropTarget",i,o,a)),mp(this,"profile",()=>tn(this,_c)[tn(this,yc)].instance.profile()),mp(this,"previewEnabled",()=>tn(this,_c)[tn(this,yc)].preview),mp(this,"previewsList",()=>tn(this,$q)),mp(this,"backendsList",()=>tn(this,yg)),of(this,qKe,{writable:!0,value:i=>{tn(this,yg).forEach(o=>{o.transition&&i.addEventListener(o.transition.event,tn(this,Qee))})}}),of(this,jKe,{writable:!0,value:i=>{tn(this,yg).forEach(o=>{o.transition&&i.removeEventListener(o.transition.event,tn(this,Qee))})}}),of(this,Qee,{writable:!0,value:i=>{let o=tn(this,yc);if(tn(this,yg).some(c=>c.id!==tn(this,yc)&&c.transition&&c.transition.check(i)?(Eb(this,yc,c.id),!0):!1),tn(this,yc)!==o){var a;tn(this,_c)[o].instance.teardown(),Object.keys(tn(this,Zy)).forEach(g=>{let S=tn(this,Zy)[g];S.unsubscribe(),S.unsubscribe=tn(this,Jee).call(this,S.func,...S.args)}),tn(this,$q).backendChanged(this);let c=tn(this,_c)[tn(this,yc)];if(c.instance.setup(),c.skipDispatchOnTransition)return;let p=i.constructor,m=new p(i.type,i);(a=i.target)===null||a===void 0||a.dispatchEvent(m)}}}),of(this,Jee,{writable:!0,value:(i,o,a,c)=>tn(this,_c)[tn(this,yc)].instance[i](o,a,c)}),of(this,Zq,{writable:!0,value:(i,o,a,c)=>{let p="".concat(i,"_").concat(o),m=tn(this,Jee).call(this,i,o,a,c);return tn(this,Zy)[p]={func:i,args:[o,a,c],unsubscribe:m},()=>{tn(this,Zy)[p].unsubscribe(),delete tn(this,Zy)[p]}}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);Eb(this,$q,new Wq),Eb(this,_c,{}),Eb(this,yg,[]),n.backends.forEach(i=>{let o=tn(this,kKe).call(this,t,r,i);tn(this,_c)[o.id]=o,tn(this,yg).push(o)}),Eb(this,yc,tn(this,yg)[0].id),Eb(this,Zy,{})}};mp(MC,"isSetUp",!1);var ete=(e,t,r)=>new MC(e,t,r);var AC=(e,t)=>({event:e,check:t});var tte=AC("touchstart",e=>{let t=e;return t.touches!==null&&t.touches!==void 0}),gbr=AC("dragstart",e=>e.type.indexOf("drag")!==-1||e.type.indexOf("drop")!==-1),vbr=AC("mousedown",e=>e.type.indexOf("touch")===-1&&e.type.indexOf("mouse")!==-1),rte=AC("pointerdown",e=>e.pointerType=="mouse");var nte={backends:[{id:"html5",backend:MKe,transition:rte},{id:"touch",backend:NKe,options:{enableMouseEvents:!0},preview:!0,transition:tte}]};var _g=J(De());function ite(){return ite=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ite.apply(this,arguments)}var ybr=(0,_g.createContext)(null),ote=e=>{let o=e,{portal:t}=o,r=En(o,["portal"]),[n,i]=(0,_g.useState)(null);return _g.default.createElement(ybr.Provider,{value:t!=null?t:n},_g.default.createElement(RVe,ite({backend:ete},r)),t?null:_g.default.createElement("div",{ref:i}))};var{FILE:_br}=vg,xbr={WRONG_FILETYPE:"wrong-filetype"},bbr=nte.backends.map(e=>e.id==="touch"?xr(Qe({},e),{options:xr(Qe({},e.options),{scrollAngleRanges:[{start:30,end:150},{start:210,end:330}]})}):e),ate=({children:e,onDrop:t,onError:r})=>{let[n,i]=(0,af.useState)(void 0),o=p=>{let m=p[0];Ok(m,t,r)},[{isOver:a},c]=Mk({accept:_br,collect(p){return{canDrop:p.canDrop(),isOver:p.isOver()}},drop:p=>{o(p.files)},hover:(p,m)=>{let g=m.getItem();g.items.length>0&&g.items[0].type!=="application/json"&&g.items[0].type!=="application/geo+json"&&i(xbr.WRONG_FILETYPE)}});return(0,af.useEffect)(()=>{a||i(void 0)},[a]),af.default.createElement("div",{className:Ct("vkf-dropzone",a&&"animation-show"),ref:c},a&&af.default.createElement("div",{className:"dropzone-content"},af.default.createElement("p",{className:Ct("dropzone-info",n!==void 0&&"error")},n===void 0?Ne("dropzone-drop"):Ne(`dropzone-${n}`)),af.default.createElement(us,{name:"dropzone-upload"})),e)};ate.propTypes={children:Yq.default.node,onDrop:Yq.default.func.isRequired,onError:Yq.default.func.isRequired};var FKe=e=>af.default.createElement(ote,{options:Object.assign({},nte,{backends:bbr})},af.default.createElement(ate,Qe({},e),e.children));FKe.propTypes=ate.propTypes;var BKe=FKe;var vs=J(De(),1);var Kq=J(mt(),1);var UKe=({initialName:e,onClose:t,onSubmit:r})=>{let n=(0,vs.useRef)(),i=()=>{t()},o=()=>{let a=Tt(n.current)?n.current.value:void 0;r(a)};return vs.default.createElement("div",null,vs.default.createElement(ss,{className:"vkf-dialog-add-geojson",onHide:i,show:!0},vs.default.createElement(my,null,vs.default.createElement(AT,null,Ne("geojson-adddialog-title"))),vs.default.createElement(dy,null,vs.default.createElement("div",{className:"dialog-content"},vs.default.createElement("form",null,vs.default.createElement(TY,null,vs.default.createElement(rY,null,Ne("geojson-adddialog-layer-title-label")),vs.default.createElement(SY,{autoFocus:!0,defaultValue:e!=null?e:"Unknown",inputRef:a=>{n.current=a},name:"title",type:"text",onKeyDown:a=>{a.key==="Enter"&&o()}}))))),vs.default.createElement(hy,null,vs.default.createElement(oy,{onClick:i},Ne("geojson-adddialog-cancel")),vs.default.createElement(oy,{onClick:o,bsStyle:"primary"},Ne("geojson-adddialog-confirm")))))};UKe.propTypes={initialName:Kq.default.string,onClose:Kq.default.func.isRequired,onSubmit:Kq.default.func.isRequired};var VKe=UKe;var bc=J(De(),1),xc=J(mt(),1);var OC=J(De(),1),GKe=J(fo(),1);var gp=J(De(),1);var wbr=(e,t)=>{let r=Ft(Qr),[n,i]=(0,gp.useState)(null),[o,a]=zi(u4e),c=(0,gp.useRef)(null),p=(0,gp.useCallback)(g=>{c.current&&!c.current.contains(g.target)&&a(_l.None)},[]),m=(0,gp.useCallback)(()=>{a(g=>g===t?_l.None:t)},[t]);return(0,gp.useEffect)(()=>{if(Tt(r)){let g=I=>{var M;((M=I.control)==null?void 0:M.id)===e&&i(I.control._container)},S=I=>{var M;((M=I.control)==null?void 0:M.id)===e&&i(null)};return r.on(Fo.controlAdded,g),r.on(Fo.controlRemoved,S),()=>{r.off(Fo.controlAdded,g),r.off(Fo.controlRemoved,S)}}},[r]),(0,gp.useEffect)(()=>(o===t?document.addEventListener("mousedown",p):document.removeEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}),[o,t,p]),{baseMapControlEl:n,activeDialog:o,toggleDialog:m,dialogRef:c}},Xq=wbr;var Sbr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=Xq(W$,_l.BasemapSelector);return e!==null?(0,GKe.createPortal)(OC.default.createElement("div",{ref:n},OC.default.createElement("button",{onClick:r,title:Ne("control-basemapselector-open"),className:Ct("maplibregl-ctrl-basemap-selector",t===_l.BasemapSelector&&"active")}),t===_l.BasemapSelector&&OC.default.createElement("div",{className:Ct("basemap-selector-modal",t===_l.BasemapSelector&&"active")},OC.default.createElement(xFe,null))),e):null},HKe=Sbr;var WKe=HKe;function ste(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function $Ke(e){return new Promise(t=>setTimeout(t,e))}var ZKe=J($I(),1);var Qq=class extends ZKe.Map{constructor(){super(...arguments);nt(this,"terrainConfiguration",Tr.getTerrain());nt(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);nt(this,"isTerrainEnabled",!1);nt(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,a=r-o,c=()=>{if(!this.terrain||this.terrainFlattening)return;let p=(performance.now()-i)/n;if(p<.99){let m=1-Wg(1-p,4),g=o+m*a;this.terrain.exaggeration=g,requestAnimationFrame(c)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(c)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>ko(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==Om||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(Om,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:Om,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,ste(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>$Ke(500)).then(()=>{this.getSource(Om).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(Om)||i()})}disableTerrain(){return ko(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let a=(performance.now()-n)/r;if(this._elevationFreeze=!1,a<.99){let c=Wg(1-a,4),p=i*c;this.terrain.exaggeration=p,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(Om)&&this.removeSource(Om),this.abortController.abort(),this.abortController=new AbortController,ste(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var lte=class extends Qq{addControl(t,r){let n=super.addControl(t,r);return this.fire(Fo.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(Fo.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var p;let o=super.setPaintProperty(t,r,n,i),a=this.getLayer(t),c=(p=a==null?void 0:a.metadata)==null?void 0:p[md.id];return t4e.has(r)&&c&&this.fire(Fo.opacityChanged,{layerId:c,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var p;let o=super.setLayoutProperty(t,r,n,i),a=this.getLayer(t),c=(p=a==null?void 0:a.metadata)==null?void 0:p[md.id];return r4e.has(r)&&c&&this.fire(Fo.visibilityChanged,{layerId:c,property:r,value:n}),o}},YKe=lte;var KKe=YKe;var DC=J(De(),1),aXe=J(fo(),1);var vp=J(De(),1);var ja=J(De(),1);var XKe=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},QKe=e=>Tr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},JKe=e=>({map_id:e.filter(t=>t.getType()===_o.HISTORIC_MAP).map(t=>t.getId())}),eXe=e=>({v:e?BN["3D"]:BN["2D"]});var rXe=J(tZ(),1);var ys=J(De(),1),ute=J(mt(),1);var tXe=({onClick:e,value:t})=>{let[r,n]=(0,ys.useState)(!1),i=(0,ys.useRef)(),o=(0,ys.useRef)(),a=(0,ys.useCallback)(()=>{(e!==void 0&&t===""?e():new Promise(p=>p())).then(p=>{clearTimeout(o.current),navigator.clipboard.writeText(p!==void 0?p:t),n(!0)})},[e,t]);return(0,ys.useEffect)(()=>(r&&(o.current=setTimeout(()=>{n(!1)},1e3)),()=>{clearTimeout(o.current)}),[r]),ys.default.createElement(ys.default.Fragment,null,ys.default.createElement("button",{className:"copy-button",onClick:a,ref:i,title:Ne("control-permalink-exporter-copy-title")},ys.default.createElement(xd,{glyph:"copy"})),ys.default.createElement(uK,{placement:"right",target:i.current,show:r},ys.default.createElement(_K,{id:"copy-state-indicator"},Ne("control-permalink-exporter-copy"))))};tXe.propTypes={onClick:ute.default.func,value:ute.default.string};var Jq=tXe;var Ebr=()=>{let e=Ft(Qr),t=Ft(ai),r=Ft(Ff),[n,i]=(0,ja.useState)(""),o=(0,ja.useRef)(),a=(0,ja.useCallback)(()=>{if(!Tt(e))return;let c=XKe(zN(e,!0)),p=eXe(e.hasTerrain()),m=JKe(t),g=QKe(r),S=(0,rXe.stringify)(Object.assign({},c,p,m,g),{arrayFormat:"comma"});i(ej(S))},[e]);return(0,ja.useEffect)(()=>{if(e)return a(),e.on("moveend",a),()=>{e.off("moveend",a)}},[e,a]),ja.default.createElement(ja.default.Fragment,null,ja.default.createElement("div",{className:"action-content"},ja.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),ja.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),ja.default.createElement(Jq,{value:n})),ja.default.createElement("div",{className:"description"},ja.default.createElement("p",null,Ne("control-permalink-exporter-permalink-description"))))},nXe=Ebr;var za=J(De(),1);var iXe=()=>{let[e]=Hc(yy,[]),[t,r]=(0,za.useState)(!1),[n,i]=(0,za.useState)(""),o=Ft(IN),a=Tr.getGeoreferenceApiClient(),c="/map_view/",p=(0,za.useCallback)(()=>{if(o!==void 0){let m=o(),{searchOptions:g}=m,S=En(m,["searchOptions"]),I=e.filter(P=>P.id===S.activeBasemapId),M=Object.assign({},S,I.length>0?{customBasemaps:I}:null);return r(!0),a.post(c,{map_view_json:M}).then(P=>{if(P.status===200&&P.data!==void 0){let{map_view_id:N}=P.data,L=ej(`map_view_id=${N}`);return i(L),r(!1),L}})}},[e,o]);return za.default.createElement(za.default.Fragment,null,za.default.createElement("div",{className:"action-content"},za.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),za.default.createElement("input",{placeholder:Ne("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),za.default.createElement(Jq,{onClick:p,value:n}),za.default.createElement("button",{className:Ct("upload-button",t&&"loading"),onClick:p},t?za.default.createElement(n4,null):za.default.createElement(xd,{glyph:"upload"}),"Upload")),za.default.createElement("div",{className:"description"},za.default.createElement("p",null,Ne("control-permalink-exporter-mapview-description"))))};var ej=e=>`${window.location.origin}${window.location.pathname}?${e}`,Ibr=()=>{let e=!Tr.isUserAuthenticated();return vp.default.createElement("div",{className:"vkf-permalink-exporter"},vp.default.createElement(vK,{defaultActiveKey:1,id:"permalink-exporter-tabs"},vp.default.createElement(PR,{eventKey:1,title:Ne("control-permalink-title-permalink")},vp.default.createElement("div",{className:"permalink-exporter-content"},vp.default.createElement(nXe,null))),vp.default.createElement(PR,{disabled:e,eventKey:2,title:Ne("control-permalink-title-map-view")},vp.default.createElement("div",{className:"permalink-exporter-content"},!e&&vp.default.createElement(iXe,null)))))},oXe=vp.default.memo(Ibr);var Tbr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=Xq(Y$,_l.Permalink);return e!==null?(0,aXe.createPortal)(DC.default.createElement("div",{ref:n},DC.default.createElement("button",{className:Ct("maplibregl-ctrl-permalink",t===_l.Permalink&&"active"),onClick:r,title:Ne("control-permalink-open")}),t===_l.Permalink&&DC.default.createElement("div",{className:"content-container"},DC.default.createElement(oXe,null))),e):null},sXe=Tbr;var tj=J(De(),1);var Cbr=()=>{let e=Ft(Qr),t=Ft(Ff),r=Ft(MN),[n]=Hc(yy,[]),i=Tr.getBaseMaps(),o=(0,tj.useMemo)(()=>[...i,...n],[n,i]);return(0,tj.useEffect)(()=>{if(Tt(e)){let a=o.find(p=>p.id===t);if(a===void 0)return;let c=a;if(QI(e),Y4e(e),c.type==="vector")W4e(e,r);else if(c.type==="wms")G4e(e,c,r);else if(c.type==="xyz")Z4e(e,c,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},lXe=Cbr;function uXe(){return{"NavigationControl.ZoomIn":Ne("control-zoom-in"),"NavigationControl.ZoomOut":Ne("control-zoom-out"),"FullscreenControl.Enter":Ne("control-fullscreen-Enter"),"FullscreenControl.Exit":Ne("control-fullscreen-Exit"),"NavigationControl.ResetBearing":Ne("control-rotate"),"TerrainControl.Enable":Ne("control-toggleviewmode-title"),"TerrainControl.Disable":Ne("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":Ne("control-locateme-title"),"GeolocateControl.LocationNotAvailable":Ne("control-locateme-location-not-available")}}var Mbr="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json";function cXe(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},onAddGeoJson:i,loadMarkerIcon:o=!0}=e,[a,c]=zi(Qr),p=Fr(MN),m=(0,bc.useRef)();return K_(m,"map"),(0,bc.useEffect)(()=>{let g=new KKe({container:m.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:Mbr,locale:uXe(),attributionControl:!1}),S=()=>{if(c(g),p(g.getStyle().layers),o===!0){let{id:I,url:M}=Tr.getMarkerSettings();g.loadImage(M).then(P=>{g.addImage(I,P.data,{sdf:!0})})}};return g.on("style.load",S),()=>{g.off("style.load",S),c(void 0),g.remove()}},[]),(0,bc.useEffect)(()=>{if(Tt(a)){let g=JRe();return g.forEach(({control:S,position:I})=>{a.addControl(S,I)}),()=>{g.forEach(({control:S})=>{a.removeControl(S)})}}},[a]),bc.default.createElement("div",{className:"map-container"},bc.default.createElement("div",{ref:m,className:Ct("map-div","olMap",i4e(r)),tabIndex:0},Tt(a)&&bc.default.createElement(t,{onAddGeoJson:i}),bc.default.createElement(WKe,null),bc.default.createElement(sXe,null),bc.default.createElement(lXe,null)))}var cte={baseMapUrl:xc.default.arrayOf(xc.default.string),ChildComponent:xc.default.func,layout:xc.default.string,mapViewSettings:xc.default.shape({center:xc.default.arrayOf(xc.default.number),projection:xc.default.string,zoom:xc.default.number}),onAddGeoJson:xc.default.func,loadMarkerIcon:xc.default.bool};cXe.propTypes=cte;var fXe=cXe;var fte=({mapWrapperProps:e})=>{var S;let[t,r]=(0,yp.useState)(!1),n=Fr(gl),i=Fr(ai),o=Ft(Qr),a=(0,yp.useRef)(),c=I=>{if(Tt(o)){try{let M=a.current.content,P={[vr.title]:I,[vr.timeChanged]:a.current.modified},N=new yd({metadata:P,geoJSON:M});N.addLayerToMap(o),i(L=>[...L,N])}catch(M){console.log(M),m()}g(!1)}},p=I=>{a.current=I,g(!0)},m=()=>{n({id:"mapWrapper",type:"danger",text:Ne("mapwrapper-geojson-parse-error")})},g=I=>{r(M=>I!==void 0?I:!M)};return yp.default.createElement(yp.default.Fragment,null,t&&yp.default.createElement(VKe,{initialName:(S=a.current)==null?void 0:S.name,onSubmit:c,onClose:g.bind(!1)}),yp.default.createElement(BKe,{onDrop:p,onError:m},yp.default.createElement(fXe,Qe({onAddGeoJson:p},e))))};fte.propTypes={mapWrapperProps:pXe.default.shape(cte)};var Abr=e=>{switch(e){case xl.HORIZONTAL:return Ree;case xl.VERTICAL:return Fee;default:return Fee;}},hXe=e=>{let{layout:t}=e,r=Fr(Z_),n=Abr(t);return(0,PC.useEffect)(()=>{r(t)},[t]),PC.default.createElement(fte,{mapWrapperProps:{baseMapUrl:Tr.getDefaultBaseMapUrls(),enable3d:!0,enableTerrain:!0,layout:t,mapViewSettings:Tr.getDefaultMapView(),ChildComponent:n}})};hXe.propTypes={layout:dXe.default.oneOf(Object.values(xl))};var mXe=PC.default.memo(hXe);var vXe=()=>{let e=n5e(),t=n4e(e);return Ib.default.createElement(e5e,null,Ib.default.createElement("div",{className:"vkf-plugin-map"},Ib.default.createElement(m4e,null),Ib.default.createElement(mXe,{layout:t}),Ib.default.createElement(dBe,null)))};vXe.propTypes={id:gXe.default.string.isRequired};var yXe=vXe;var Obr=Tr;function Dbr(e){xXe.default.render(_Xe.default.createElement(yXe,{id:e.id}),e)}return _Je(Pbr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.0/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (** @license React v17.0.2
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/