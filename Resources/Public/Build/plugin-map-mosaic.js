var vk2=(()=>{var LZe=Object.create;var Rx=Object.defineProperty,qZe=Object.defineProperties,zZe=Object.getOwnPropertyDescriptor,jZe=Object.getOwnPropertyDescriptors,FZe=Object.getOwnPropertyNames,qM=Object.getOwnPropertySymbols,BZe=Object.getPrototypeOf,N6=Object.prototype.hasOwnProperty,Hte=Object.prototype.propertyIsEnumerable;var Xy=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),R6=e=>{throw TypeError(e)},xf=Math.pow,D6=(e,t,r)=>t in e?Rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,je=(e,t)=>{for(var r in t||(t={}))N6.call(t,r)&&D6(e,r,t[r]);if(qM)for(var r of qM(t))Hte.call(t,r)&&D6(e,r,t[r]);return e},nr=(e,t)=>qZe(e,jZe(t));var yn=(e,t)=>{var r={};for(var n in e)N6.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&qM)for(var n of qM(e))t.indexOf(n)<0&&Hte.call(e,n)&&(r[n]=e[n]);return r};var UZe=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wte=(e,t)=>{for(var r in t)Rx(e,r,{get:t[r],enumerable:!0})},Zte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FZe(t))!N6.call(e,i)&&i!==r&&Rx(e,i,{get:()=>t[i],enumerable:!(n=zZe(t,i))||n.enumerable});return e};var se=(e,t,r)=>(r=e!=null?LZe(BZe(e)):{},Zte(t||!e||!e.__esModule?Rx(r,"default",{value:e,enumerable:!0}):r,e)),VZe=e=>Zte(Rx({},"__esModule",{value:!0}),e);var ht=(e,t,r)=>D6(e,typeof t!="symbol"?t+"":t,r),L6=(e,t,r)=>t.has(e)||R6("Cannot "+r);var mr=(e,t,r)=>(L6(e,t,"read from private field"),r?r.call(e):t.get(e)),oo=(e,t,r)=>t.has(e)?R6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ao=(e,t,r,n)=>(L6(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ri=(e,t,r)=>(L6(e,t,"access private method"),r);var Ar=(e,t,r)=>new Promise((n,i)=>{var o=g=>{try{d(r.next(g))}catch(_){i(_)}},l=g=>{try{d(r.throw(g))}catch(_){i(_)}},d=g=>g.done?n(g.value):Promise.resolve(g.value).then(o,l);d((r=r.apply(e,t)).next())}),dg=function(e,t){this[0]=e,this[1]=t},q6=(e,t,r)=>{var n=(l,d,g,_)=>{try{var E=r[l](d),T=(d=E.value)instanceof dg,A=E.done;Promise.resolve(T?d[0]:d).then(L=>T?n(l==="return"?l:"next",d[1]?{done:L.done,value:L.value}:L,g,_):g({value:L,done:A})).catch(L=>n("throw",L,g,_))}catch(L){_(L)}},i=l=>o[l]=d=>new Promise((g,_)=>n(l,d,g,_)),o={};return r=r.apply(e,t),o[Xy("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},z6=e=>{var t=e[Xy("asyncIterator")],r=!1,n,i={};return t==null?(t=e[Xy("iterator")](),n=o=>i[o]=l=>t[o](l)):(t=t.call(e),n=o=>i[o]=l=>{if(r){if(r=!1,o==="throw")throw l;return l}return r=!0,{done:!1,value:new dg(new Promise(d=>{var g=t[o](l);g instanceof Object||R6("Object expected"),d(g)}),1)}}),i[Xy("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i},Yte=(e,t,r)=>(t=e[Xy("asyncIterator")])?t.call(e):(e=e[Xy("iterator")](),t={},r=(n,i)=>(i=e[n])&&(t[n]=o=>new Promise((l,d,g)=>(o=i.call(e,o),g=o.done,Promise.resolve(o.value).then(_=>l({value:_,done:g}),d)))),r("next"),r("return"),t);var b,p=UZe(()=>{b={env:{}}});var j6=P((f0r,Xte)=>{"use strict";p();var Kte=Object.getOwnPropertySymbols,GZe=Object.prototype.hasOwnProperty,HZe=Object.prototype.propertyIsEnumerable;function WZe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ZZe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Xte.exports=ZZe()?Object.assign:function(e,t){for(var r,n=WZe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var l in r)GZe.call(r,l)&&(n[l]=r[l]);if(Kte){i=Kte(r);for(var d=0;d<i.length;d++)HZe.call(r,i[d])&&(n[i[d]]=r[i[d]])}}return n}});var dre=P(Fn=>{"use strict";p();var B6=j6(),Qy=60103,ere=60106;Fn.Fragment=60107;Fn.StrictMode=60108;Fn.Profiler=60114;var tre=60109,rre=60110,nre=60112;Fn.Suspense=60113;var ire=60115,ore=60116;typeof Symbol=="function"&&Symbol.for&&(Ql=Symbol.for,Qy=Ql("react.element"),ere=Ql("react.portal"),Fn.Fragment=Ql("react.fragment"),Fn.StrictMode=Ql("react.strict_mode"),Fn.Profiler=Ql("react.profiler"),tre=Ql("react.provider"),rre=Ql("react.context"),nre=Ql("react.forward_ref"),Fn.Suspense=Ql("react.suspense"),ire=Ql("react.memo"),ore=Ql("react.lazy"));var Ql,Qte=typeof Symbol=="function"&&Symbol.iterator;function YZe(e){return e===null||typeof e!="object"?null:(e=Qte&&e[Qte]||e["@@iterator"],typeof e=="function"?e:null)}function Lx(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var are={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sre={};function Jy(e,t,r){this.props=e,this.context=t,this.refs=sre,this.updater=r||are}Jy.prototype.isReactComponent={};Jy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Lx(85));this.updater.enqueueSetState(this,e,t,"setState")};Jy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lre(){}lre.prototype=Jy.prototype;function U6(e,t,r){this.props=e,this.context=t,this.refs=sre,this.updater=r||are}var V6=U6.prototype=new lre;V6.constructor=U6;B6(V6,Jy.prototype);V6.isPureReactComponent=!0;var $6={current:null},ure=Object.prototype.hasOwnProperty,cre={key:!0,ref:!0,__self:!0,__source:!0};function pre(e,t,r){var n,i={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)ure.call(t,n)&&!cre.hasOwnProperty(n)&&(i[n]=t[n]);var d=arguments.length-2;if(d===1)i.children=r;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];i.children=g}if(e&&e.defaultProps)for(n in d=e.defaultProps,d)i[n]===void 0&&(i[n]=d[n]);return{$$typeof:Qy,type:e,key:o,ref:l,props:i,_owner:$6.current}}function KZe(e,t){return{$$typeof:Qy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function G6(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qy}function XZe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jte=/\/+/g;function F6(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XZe(""+e.key):t.toString(36)}function jM(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Qy:case ere:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+F6(l,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(Jte,"$&/")+"/"),jM(i,t,r,"",function(_){return _})):i!=null&&(G6(i)&&(i=KZe(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Jte,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){o=e[d];var g=n+F6(o,d);l+=jM(o,t,r,g,i)}else if(g=YZe(e),typeof g=="function")for(e=g.call(e),d=0;!(o=e.next()).done;)o=o.value,g=n+F6(o,d++),l+=jM(o,t,r,g,i);else if(o==="object")throw t=""+e,Error(Lx(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function zM(e,t,r){if(e==null)return e;var n=[],i=0;return jM(e,n,"","",function(o){return t.call(r,o,i++)}),n}function QZe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var fre={current:null};function wf(){var e=fre.current;if(e===null)throw Error(Lx(321));return e}var JZe={ReactCurrentDispatcher:fre,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:$6,IsSomeRendererActing:{current:!1},assign:B6};Fn.Children={map:zM,forEach:function(e,t,r){zM(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zM(e,function(){t++}),t},toArray:function(e){return zM(e,function(t){return t})||[]},only:function(e){if(!G6(e))throw Error(Lx(143));return e}};Fn.Component=Jy;Fn.PureComponent=U6;Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JZe;Fn.cloneElement=function(e,t,r){if(e==null)throw Error(Lx(267,e));var n=B6({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=$6.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(g in t)ure.call(t,g)&&!cre.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&d!==void 0?d[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];n.children=d}return{$$typeof:Qy,type:e.type,key:i,ref:o,props:n,_owner:l}};Fn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:rre,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:tre,_context:e},e.Consumer=e};Fn.createElement=pre;Fn.createFactory=function(e){var t=pre.bind(null,e);return t.type=e,t};Fn.createRef=function(){return{current:null}};Fn.forwardRef=function(e){return{$$typeof:nre,render:e}};Fn.isValidElement=G6;Fn.lazy=function(e){return{$$typeof:ore,_payload:{_status:-1,_result:e},_init:QZe}};Fn.memo=function(e,t){return{$$typeof:ire,type:e,compare:t===void 0?null:t}};Fn.useCallback=function(e,t){return wf().useCallback(e,t)};Fn.useContext=function(e,t){return wf().useContext(e,t)};Fn.useDebugValue=function(){};Fn.useEffect=function(e,t){return wf().useEffect(e,t)};Fn.useImperativeHandle=function(e,t,r){return wf().useImperativeHandle(e,t,r)};Fn.useLayoutEffect=function(e,t){return wf().useLayoutEffect(e,t)};Fn.useMemo=function(e,t){return wf().useMemo(e,t)};Fn.useReducer=function(e,t,r){return wf().useReducer(e,t,r)};Fn.useRef=function(e){return wf().useRef(e)};Fn.useState=function(e){return wf().useState(e)};Fn.version="17.0.2"});var tt=P((g0r,hre)=>{"use strict";p();hre.exports=dre()});var bre=P(Qn=>{"use strict";p();var t0,jx,VM,Q6;typeof performance=="object"&&typeof performance.now=="function"?(mre=performance,Qn.unstable_now=function(){return mre.now()}):(H6=Date,gre=H6.now(),Qn.unstable_now=function(){return H6.now()-gre});var mre,H6,gre;typeof window=="undefined"||typeof MessageChannel!="function"?(e0=null,W6=null,Z6=function(){if(e0!==null)try{var e=Qn.unstable_now();e0(!0,e),e0=null}catch(t){throw setTimeout(Z6,0),t}},t0=function(e){e0!==null?setTimeout(t0,0,e):(e0=e,setTimeout(Z6,0))},jx=function(e,t){W6=setTimeout(e,t)},VM=function(){clearTimeout(W6)},Qn.unstable_shouldYield=function(){return!1},Q6=Qn.unstable_forceFrameRate=function(){}):(vre=window.setTimeout,yre=window.clearTimeout,typeof console!="undefined"&&(_re=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _re!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),qx=!1,zx=null,FM=-1,Y6=5,K6=0,Qn.unstable_shouldYield=function(){return Qn.unstable_now()>=K6},Q6=function(){},Qn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y6=0<e?Math.floor(1e3/e):5},X6=new MessageChannel,BM=X6.port2,X6.port1.onmessage=function(){if(zx!==null){var e=Qn.unstable_now();K6=e+Y6;try{zx(!0,e)?BM.postMessage(null):(qx=!1,zx=null)}catch(t){throw BM.postMessage(null),t}}else qx=!1},t0=function(e){zx=e,qx||(qx=!0,BM.postMessage(null))},jx=function(e,t){FM=vre(function(){e(Qn.unstable_now())},t)},VM=function(){yre(FM),FM=-1});var e0,W6,Z6,vre,yre,_re,qx,zx,FM,Y6,K6,X6,BM;function J6(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<UM(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Hu(e){return e=e[0],e===void 0?null:e}function $M(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,l=e[o],d=o+1,g=e[d];if(l!==void 0&&0>UM(l,r))g!==void 0&&0>UM(g,l)?(e[n]=g,e[d]=r,n=d):(e[n]=l,e[o]=r,n=o);else if(g!==void 0&&0>UM(g,r))e[n]=g,e[d]=r,n=d;else break e}}return t}return null}function UM(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Jc=[],Kd=[],eYe=1,Jl=null,$a=3,GM=!1,hg=!1,Fx=!1;function eq(e){for(var t=Hu(Kd);t!==null;){if(t.callback===null)$M(Kd);else if(t.startTime<=e)$M(Kd),t.sortIndex=t.expirationTime,J6(Jc,t);else break;t=Hu(Kd)}}function tq(e){if(Fx=!1,eq(e),!hg)if(Hu(Jc)!==null)hg=!0,t0(rq);else{var t=Hu(Kd);t!==null&&jx(tq,t.startTime-e)}}function rq(e,t){hg=!1,Fx&&(Fx=!1,VM()),GM=!0;var r=$a;try{for(eq(t),Jl=Hu(Jc);Jl!==null&&(!(Jl.expirationTime>t)||e&&!Qn.unstable_shouldYield());){var n=Jl.callback;if(typeof n=="function"){Jl.callback=null,$a=Jl.priorityLevel;var i=n(Jl.expirationTime<=t);t=Qn.unstable_now(),typeof i=="function"?Jl.callback=i:Jl===Hu(Jc)&&$M(Jc),eq(t)}else $M(Jc);Jl=Hu(Jc)}if(Jl!==null)var o=!0;else{var l=Hu(Kd);l!==null&&jx(tq,l.startTime-t),o=!1}return o}finally{Jl=null,$a=r,GM=!1}}var tYe=Q6;Qn.unstable_IdlePriority=5;Qn.unstable_ImmediatePriority=1;Qn.unstable_LowPriority=4;Qn.unstable_NormalPriority=3;Qn.unstable_Profiling=null;Qn.unstable_UserBlockingPriority=2;Qn.unstable_cancelCallback=function(e){e.callback=null};Qn.unstable_continueExecution=function(){hg||GM||(hg=!0,t0(rq))};Qn.unstable_getCurrentPriorityLevel=function(){return $a};Qn.unstable_getFirstCallbackNode=function(){return Hu(Jc)};Qn.unstable_next=function(e){switch($a){case 1:case 2:case 3:var t=3;break;default:t=$a}var r=$a;$a=t;try{return e()}finally{$a=r}};Qn.unstable_pauseExecution=function(){};Qn.unstable_requestPaint=tYe;Qn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=$a;$a=e;try{return t()}finally{$a=r}};Qn.unstable_scheduleCallback=function(e,t,r){var n=Qn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:eYe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,J6(Kd,e),Hu(Jc)===null&&e===Hu(Kd)&&(Fx?VM():Fx=!0,jx(tq,r-n))):(e.sortIndex=i,J6(Jc,e),hg||GM||(hg=!0,t0(rq))),e};Qn.unstable_wrapCallback=function(e){var t=$a;return function(){var r=$a;$a=t;try{return e.apply(this,arguments)}finally{$a=r}}}});var wre=P((b0r,xre)=>{"use strict";p();xre.exports=bre()});var loe=P(ou=>{"use strict";p();var zC=tt(),Li=j6(),Zo=wre();function Kt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!zC)throw Error(Kt(227));var Rne=new Set,gw={};function Ig(e,t){w0(e,t),w0(e+"Capture",t)}function w0(e,t){for(gw[e]=t,e=0;e<t.length;e++)Rne.add(t[e])}var Cf=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),rYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sre=Object.prototype.hasOwnProperty,Ere={},Ire={};function nYe(e){return Sre.call(Ire,e)?!0:Sre.call(Ere,e)?!1:rYe.test(e)?Ire[e]=!0:(Ere[e]=!0,!1)}function iYe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oYe(e,t,r,n){if(t===null||typeof t=="undefined"||iYe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ys(e,t,r,n,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ha={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ha[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ha[t]=new ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ha[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ha[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ha[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ha[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ha[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ha[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ha[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var p8=/[\-:]([a-z])/g;function f8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p8,f8);ha[t]=new ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p8,f8);ha[t]=new ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p8,f8);ha[t]=new ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ha[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});ha.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ha[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function d8(e,t,r,n){var i=ha.hasOwnProperty(t)?ha[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(oYe(t,r,i,n)&&(r=null),n||i===null?nYe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tg=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jx=60103,gg=60106,Qd=60107,h8=60108,iw=60114,m8=60109,g8=60110,jC=60112,ow=60113,mC=60120,FC=60115,v8=60116,y8=60121,_8=60128,Lne=60129,b8=60130,Iq=60131;typeof Symbol=="function"&&Symbol.for&&(Lo=Symbol.for,Jx=Lo("react.element"),gg=Lo("react.portal"),Qd=Lo("react.fragment"),h8=Lo("react.strict_mode"),iw=Lo("react.profiler"),m8=Lo("react.provider"),g8=Lo("react.context"),jC=Lo("react.forward_ref"),ow=Lo("react.suspense"),mC=Lo("react.suspense_list"),FC=Lo("react.memo"),v8=Lo("react.lazy"),y8=Lo("react.block"),Lo("react.scope"),_8=Lo("react.opaque.id"),Lne=Lo("react.debug_trace_mode"),b8=Lo("react.offscreen"),Iq=Lo("react.legacy_hidden"));var Lo,Tre=typeof Symbol=="function"&&Symbol.iterator;function Bx(e){return e===null||typeof e!="object"?null:(e=Tre&&e[Tre]||e["@@iterator"],typeof e=="function"?e:null)}var nq;function ew(e){if(nq===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nq=t&&t[1]||""}return`
`+nq+e}var iq=!1;function HM(e,t){if(!e||iq)return"";iq=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d])return`
`+i[l].replace(" at new "," at ");while(1<=l&&0<=d);break}}}finally{iq=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ew(e):""}function aYe(e){switch(e.tag){case 5:return ew(e.type);case 16:return ew("Lazy");case 13:return ew("Suspense");case 19:return ew("SuspenseList");case 0:case 2:case 15:return e=HM(e.type,!1),e;case 11:return e=HM(e.type.render,!1),e;case 22:return e=HM(e.type._render,!1),e;case 1:return e=HM(e.type,!0),e;default:return""}}function f0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qd:return"Fragment";case gg:return"Portal";case iw:return"Profiler";case h8:return"StrictMode";case ow:return"Suspense";case mC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g8:return(e.displayName||"Context")+".Consumer";case m8:return(e._context.displayName||"Context")+".Provider";case jC:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case FC:return f0(e.type);case y8:return f0(e._render);case v8:t=e._payload,e=e._init;try{return f0(e(t))}catch(r){}}return null}function ch(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function qne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sYe(e){var t=qne(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function WM(e){e._valueTracker||(e._valueTracker=sYe(e))}function zne(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qne(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gC(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Tq(e,t){var r=t.checked;return Li({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Mre(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ch(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jne(e,t){t=t.checked,t!=null&&d8(e,"checked",t,!1)}function Mq(e,t){jne(e,t);var r=ch(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cq(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cq(e,t.type,ch(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cre(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cq(e,t,r){(t!=="number"||gC(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function lYe(e){var t="";return zC.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Aq(e,t){return e=Li({children:void 0},t),(t=lYe(t.children))&&(e.children=t),e}function d0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ch(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pq(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Kt(91));return Li({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Are(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Kt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Kt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ch(r)}}function Fne(e,t){var r=ch(t.value),n=ch(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pre(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Oq={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Bne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kq(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bne(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ZM,Une=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Oq.svg||"innerHTML"in e)e.innerHTML=t;else{for(ZM=ZM||document.createElement("div"),ZM.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ZM.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vw(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var aw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uYe=["Webkit","ms","Moz","O"];Object.keys(aw).forEach(function(e){uYe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aw[t]=aw[e]})});function Vne(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||aw.hasOwnProperty(e)&&aw[e]?(""+t).trim():t+"px"}function $ne(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Vne(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var cYe=Li({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dq(e,t){if(t){if(cYe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Kt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Kt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Kt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Kt(62))}}function Nq(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function x8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rq=null,h0=null,m0=null;function Ore(e){if(e=Ow(e)){if(typeof Rq!="function")throw Error(Kt(280));var t=e.stateNode;t&&(t=HC(t),Rq(e.stateNode,e.type,t))}}function Gne(e){h0?m0?m0.push(e):m0=[e]:h0=e}function Hne(){if(h0){var e=h0,t=m0;if(m0=h0=null,Ore(e),t)for(e=0;e<t.length;e++)Ore(t[e])}}function w8(e,t){return e(t)}function Wne(e,t,r,n,i){return e(t,r,n,i)}function S8(){}var Zne=w8,vg=!1,oq=!1;function E8(){(h0!==null||m0!==null)&&(S8(),Hne())}function pYe(e,t,r){if(oq)return e(t,r);oq=!0;try{return Zne(e,t,r)}finally{oq=!1,E8()}}function yw(e,t){var r=e.stateNode;if(r===null)return null;var n=HC(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Kt(231,t,typeof r));return r}var Lq=!1;if(Cf)try{r0={},Object.defineProperty(r0,"passive",{get:function(){Lq=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch(e){Lq=!1}var r0;function fYe(e,t,r,n,i,o,l,d,g){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(E){this.onError(E)}}var sw=!1,vC=null,yC=!1,qq=null,dYe={onError:function(e){sw=!0,vC=e}};function hYe(e,t,r,n,i,o,l,d,g){sw=!1,vC=null,fYe.apply(dYe,arguments)}function mYe(e,t,r,n,i,o,l,d,g){if(hYe.apply(this,arguments),sw){if(sw){var _=vC;sw=!1,vC=null}else throw Error(Kt(198));yC||(yC=!0,qq=_)}}function Mg(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yne(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kre(e){if(Mg(e)!==e)throw Error(Kt(188))}function gYe(e){var t=e.alternate;if(!t){if(t=Mg(e),t===null)throw Error(Kt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return kre(i),e;if(o===n)return kre(i),t;o=o.sibling}throw Error(Kt(188))}if(r.return!==n.return)r=i,n=o;else{for(var l=!1,d=i.child;d;){if(d===r){l=!0,r=i,n=o;break}if(d===n){l=!0,n=i,r=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===r){l=!0,r=o,n=i;break}if(d===n){l=!0,n=o,r=i;break}d=d.sibling}if(!l)throw Error(Kt(189))}}if(r.alternate!==n)throw Error(Kt(190))}if(r.tag!==3)throw Error(Kt(188));return r.stateNode.current===r?e:t}function Kne(e){if(e=gYe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Dre(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var Xne,I8,Qne,Jne,zq=!1,ep=[],rh=null,nh=null,ih=null,_w=new Map,bw=new Map,Ux=[],Nre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jq(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Rre(e,t){switch(e){case"focusin":case"focusout":rh=null;break;case"dragenter":case"dragleave":nh=null;break;case"mouseover":case"mouseout":ih=null;break;case"pointerover":case"pointerout":_w.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bw.delete(t.pointerId)}}function Vx(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=jq(t,r,n,i,o),t!==null&&(t=Ow(t),t!==null&&I8(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vYe(e,t,r,n,i){switch(t){case"focusin":return rh=Vx(rh,e,t,r,n,i),!0;case"dragenter":return nh=Vx(nh,e,t,r,n,i),!0;case"mouseover":return ih=Vx(ih,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return _w.set(o,Vx(_w.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,bw.set(o,Vx(bw.get(o)||null,e,t,r,n,i)),!0}return!1}function yYe(e){var t=yg(e.target);if(t!==null){var r=Mg(t);if(r!==null){if(t=r.tag,t===13){if(t=Yne(r),t!==null){e.blockedOn=t,Jne(e.lanePriority,function(){Zo.unstable_runWithPriority(e.priority,function(){Qne(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oC(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=A8(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Ow(r),t!==null&&I8(t),e.blockedOn=r,!1;t.shift()}return!0}function Lre(e,t,r){oC(e)&&r.delete(t)}function _Ye(){for(zq=!1;0<ep.length;){var e=ep[0];if(e.blockedOn!==null){e=Ow(e.blockedOn),e!==null&&Xne(e);break}for(var t=e.targetContainers;0<t.length;){var r=A8(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&ep.shift()}rh!==null&&oC(rh)&&(rh=null),nh!==null&&oC(nh)&&(nh=null),ih!==null&&oC(ih)&&(ih=null),_w.forEach(Lre),bw.forEach(Lre)}function $x(e,t){e.blockedOn===t&&(e.blockedOn=null,zq||(zq=!0,Zo.unstable_scheduleCallback(Zo.unstable_NormalPriority,_Ye)))}function eie(e){function t(i){return $x(i,e)}if(0<ep.length){$x(ep[0],e);for(var r=1;r<ep.length;r++){var n=ep[r];n.blockedOn===e&&(n.blockedOn=null)}}for(rh!==null&&$x(rh,e),nh!==null&&$x(nh,e),ih!==null&&$x(ih,e),_w.forEach(t),bw.forEach(t),r=0;r<Ux.length;r++)n=Ux[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ux.length&&(r=Ux[0],r.blockedOn===null);)yYe(r),r.blockedOn===null&&Ux.shift()}function YM(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var a0={animationend:YM("Animation","AnimationEnd"),animationiteration:YM("Animation","AnimationIteration"),animationstart:YM("Animation","AnimationStart"),transitionend:YM("Transition","TransitionEnd")},aq={},tie={};Cf&&(tie=document.createElement("div").style,"AnimationEvent"in window||(delete a0.animationend.animation,delete a0.animationiteration.animation,delete a0.animationstart.animation),"TransitionEvent"in window||delete a0.transitionend.transition);function BC(e){if(aq[e])return aq[e];if(!a0[e])return e;var t=a0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tie)return aq[e]=t[r];return e}var rie=BC("animationend"),nie=BC("animationiteration"),iie=BC("animationstart"),oie=BC("transitionend"),aie=new Map,T8=new Map,bYe=["abort","abort",rie,"animationEnd",nie,"animationIteration",iie,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",oie,"transitionEnd","waiting","waiting"];function M8(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),T8.set(n,t),aie.set(n,i),Ig(i,[n])}}var xYe=Zo.unstable_now;xYe();var _i=8;function i0(e){if((1&e)!==0)return _i=15,1;if((2&e)!==0)return _i=14,2;if((4&e)!==0)return _i=13,4;var t=24&e;return t!==0?(_i=12,t):(e&32)!==0?(_i=11,32):(t=192&e,t!==0?(_i=10,t):(e&256)!==0?(_i=9,256):(t=3584&e,t!==0?(_i=8,t):(e&4096)!==0?(_i=7,4096):(t=4186112&e,t!==0?(_i=6,t):(t=62914560&e,t!==0?(_i=5,t):e&67108864?(_i=4,67108864):(e&134217728)!==0?(_i=3,134217728):(t=805306368&e,t!==0?(_i=2,t):(1073741824&e)!==0?(_i=1,1073741824):(_i=8,e))))))}function wYe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function SYe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Kt(358,e))}}function xw(e,t){var r=e.pendingLanes;if(r===0)return _i=0;var n=0,i=0,o=e.expiredLanes,l=e.suspendedLanes,d=e.pingedLanes;if(o!==0)n=o,i=_i=15;else if(o=r&134217727,o!==0){var g=o&~l;g!==0?(n=i0(g),i=_i):(d&=o,d!==0&&(n=i0(d),i=_i))}else o=r&~l,o!==0?(n=i0(o),i=_i):d!==0&&(n=i0(d),i=_i);if(n===0)return 0;if(n=31-ph(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&l)===0){if(i0(t),i<=_i)return t;_i=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ph(t),i=1<<r,n|=e[r],t&=~i;return n}function sie(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _C(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=o0(24&~t),e===0?_C(10,t):e;case 10:return e=o0(192&~t),e===0?_C(8,t):e;case 8:return e=o0(3584&~t),e===0&&(e=o0(4186112&~t),e===0&&(e=512)),e;case 2:return t=o0(805306368&~t),t===0&&(t=268435456),t}throw Error(Kt(358,e))}function o0(e){return e&-e}function sq(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function UC(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-ph(t),e[t]=r}var ph=Math.clz32?Math.clz32:TYe,EYe=Math.log,IYe=Math.LN2;function TYe(e){return e===0?32:31-(EYe(e)/IYe|0)|0}var MYe=Zo.unstable_UserBlockingPriority,CYe=Zo.unstable_runWithPriority,aC=!0;function AYe(e,t,r,n){vg||S8();var i=C8,o=vg;vg=!0;try{Wne(i,e,t,r,n)}finally{(vg=o)||E8()}}function PYe(e,t,r,n){CYe(MYe,C8.bind(null,e,t,r,n))}function C8(e,t,r,n){if(aC){var i;if((i=(t&4)===0)&&0<ep.length&&-1<Nre.indexOf(e))e=jq(null,e,t,r,n),ep.push(e);else{var o=A8(e,t,r,n);if(o===null)i&&Rre(e,n);else{if(i){if(-1<Nre.indexOf(e)){e=jq(o,e,t,r,n),ep.push(e);return}if(vYe(o,e,t,r,n))return;Rre(e,n)}bie(e,t,n,null,r)}}}}function A8(e,t,r,n){var i=x8(n);if(i=yg(i),i!==null){var o=Mg(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=Yne(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return bie(e,t,n,i,r),null}var Jd=null,P8=null,sC=null;function lie(){if(sC)return sC;var e,t=P8,r=t.length,n,i="value"in Jd?Jd.value:Jd.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[o-n];n++);return sC=i.slice(e,1<n?1-n:void 0)}function lC(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function KM(){return!0}function qre(){return!1}function Cl(e){function t(r,n,i,o,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(r=e[d],this[d]=r?r(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?KM:qre,this.isPropagationStopped=qre,this}return Li(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=KM)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=KM)},persist:function(){},isPersistent:KM}),t}var T0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O8=Cl(T0),Pw=Li({},T0,{view:0,detail:0}),OYe=Cl(Pw),lq,uq,Gx,VC=Li({},Pw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gx&&(Gx&&e.type==="mousemove"?(lq=e.screenX-Gx.screenX,uq=e.screenY-Gx.screenY):uq=lq=0,Gx=e),lq)},movementY:function(e){return"movementY"in e?e.movementY:uq}}),zre=Cl(VC),kYe=Li({},VC,{dataTransfer:0}),DYe=Cl(kYe),NYe=Li({},Pw,{relatedTarget:0}),cq=Cl(NYe),RYe=Li({},T0,{animationName:0,elapsedTime:0,pseudoElement:0}),LYe=Cl(RYe),qYe=Li({},T0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zYe=Cl(qYe),jYe=Li({},T0,{data:0}),jre=Cl(jYe),FYe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BYe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UYe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VYe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UYe[e])?!!t[e]:!1}function k8(){return VYe}var $Ye=Li({},Pw,{key:function(e){if(e.key){var t=FYe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lC(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BYe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k8,charCode:function(e){return e.type==="keypress"?lC(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lC(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GYe=Cl($Ye),HYe=Li({},VC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fre=Cl(HYe),WYe=Li({},Pw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k8}),ZYe=Cl(WYe),YYe=Li({},T0,{propertyName:0,elapsedTime:0,pseudoElement:0}),KYe=Cl(YYe),XYe=Li({},VC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QYe=Cl(XYe),JYe=[9,13,27,32],D8=Cf&&"CompositionEvent"in window,lw=null;Cf&&"documentMode"in document&&(lw=document.documentMode);var eKe=Cf&&"TextEvent"in window&&!lw,uie=Cf&&(!D8||lw&&8<lw&&11>=lw),Bre=" ",Ure=!1;function cie(e,t){switch(e){case"keyup":return JYe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pie(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var s0=!1;function tKe(e,t){switch(e){case"compositionend":return pie(t);case"keypress":return t.which!==32?null:(Ure=!0,Bre);case"textInput":return e=t.data,e===Bre&&Ure?null:e;default:return null}}function rKe(e,t){if(s0)return e==="compositionend"||!D8&&cie(e,t)?(e=lie(),sC=P8=Jd=null,s0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uie&&t.locale!=="ko"?null:t.data;default:return null}}var nKe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vre(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nKe[e.type]:t==="textarea"}function fie(e,t,r,n){Gne(n),t=bC(t,"onChange"),0<t.length&&(r=new O8("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uw=null,ww=null;function iKe(e){vie(e,0)}function $C(e){var t=u0(e);if(zne(t))return e}function oKe(e,t){if(e==="change")return t}var die=!1;Cf&&(Cf?(QM="oninput"in document,QM||(pq=document.createElement("div"),pq.setAttribute("oninput","return;"),QM=typeof pq.oninput=="function"),XM=QM):XM=!1,die=XM&&(!document.documentMode||9<document.documentMode));var XM,QM,pq;function $re(){uw&&(uw.detachEvent("onpropertychange",hie),ww=uw=null)}function hie(e){if(e.propertyName==="value"&&$C(ww)){var t=[];if(fie(t,ww,e,x8(e)),e=iKe,vg)e(t);else{vg=!0;try{w8(e,t)}finally{vg=!1,E8()}}}}function aKe(e,t,r){e==="focusin"?($re(),uw=t,ww=r,uw.attachEvent("onpropertychange",hie)):e==="focusout"&&$re()}function sKe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $C(ww)}function lKe(e,t){if(e==="click")return $C(t)}function uKe(e,t){if(e==="input"||e==="change")return $C(t)}function cKe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eu=typeof Object.is=="function"?Object.is:cKe,pKe=Object.prototype.hasOwnProperty;function Sw(e,t){if(eu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!pKe.call(t,r[n])||!eu(e[r[n]],t[r[n]]))return!1;return!0}function Gre(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hre(e,t){var r=Gre(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gre(r)}}function mie(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mie(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wre(){for(var e=window,t=gC();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=gC(e.document)}return t}function Fq(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fKe=Cf&&"documentMode"in document&&11>=document.documentMode,l0=null,Bq=null,cw=null,Uq=!1;function Zre(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uq||l0==null||l0!==gC(n)||(n=l0,"selectionStart"in n&&Fq(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cw&&Sw(cw,n)||(cw=n,n=bC(Bq,"onSelect"),0<n.length&&(t=new O8("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=l0)))}M8("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);M8("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);M8(bYe,2);for(fq="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),JM=0;JM<fq.length;JM++)T8.set(fq[JM],0);var fq,JM;w0("onMouseEnter",["mouseout","mouseover"]);w0("onMouseLeave",["mouseout","mouseover"]);w0("onPointerEnter",["pointerout","pointerover"]);w0("onPointerLeave",["pointerout","pointerover"]);Ig("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ig("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ig("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ig("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ig("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ig("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gie=new Set("cancel close invalid load scroll toggle".split(" ").concat(tw));function Yre(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mYe(n,t,void 0,e),e.currentTarget=null}function vie(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var d=n[l],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==o&&i.isPropagationStopped())break e;Yre(i,d,_),o=g}else for(l=0;l<n.length;l++){if(d=n[l],g=d.instance,_=d.currentTarget,d=d.listener,g!==o&&i.isPropagationStopped())break e;Yre(i,d,_),o=g}}}if(yC)throw e=qq,yC=!1,qq=null,e}function Ti(e,t){var r=wie(t),n=e+"__bubble";r.has(n)||(_ie(t,e,2,!1),r.add(n))}var Kre="_reactListening"+Math.random().toString(36).slice(2);function yie(e){e[Kre]||(e[Kre]=!0,Rne.forEach(function(t){gie.has(t)||Xre(t,!1,e,null),Xre(t,!0,e,null)}))}function Xre(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&gie.has(e)){if(e!=="scroll")return;i|=2,o=n}var l=wie(o),d=e+"__"+(t?"capture":"bubble");l.has(d)||(t&&(i|=4),_ie(o,e,i,t),l.add(d))}function _ie(e,t,r,n){var i=T8.get(t);switch(i===void 0?2:i){case 0:i=AYe;break;case 1:i=PYe;break;default:i=C8}r=i.bind(null,t,r,e),i=void 0,!Lq||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function bie(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var d=n.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var g=l.tag;if((g===3||g===4)&&(g=l.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;l=l.return}for(;d!==null;){if(l=yg(d),l===null)return;if(g=l.tag,g===5||g===6){n=o=l;continue e}d=d.parentNode}}n=n.return}pYe(function(){var _=o,E=x8(r),T=[];e:{var A=aie.get(e);if(A!==void 0){var L=O8,z=e;switch(e){case"keypress":if(lC(r)===0)break e;case"keydown":case"keyup":L=GYe;break;case"focusin":z="focus",L=cq;break;case"focusout":z="blur",L=cq;break;case"beforeblur":case"afterblur":L=cq;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=zre;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=DYe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ZYe;break;case rie:case nie:case iie:L=LYe;break;case oie:L=KYe;break;case"scroll":L=OYe;break;case"wheel":L=QYe;break;case"copy":case"cut":case"paste":L=zYe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Fre}var U=(t&4)!==0,N=!U&&e==="scroll",R=U?A!==null?A+"Capture":null:A;U=[];for(var j=_,H;j!==null;){H=j;var Y=H.stateNode;if(H.tag===5&&Y!==null&&(H=Y,R!==null&&(Y=yw(j,R),Y!=null&&U.push(Ew(j,Y,H)))),N)break;j=j.return}0<U.length&&(A=new L(A,z,null,r,E),T.push({event:A,listeners:U}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",A&&(t&16)===0&&(z=r.relatedTarget||r.fromElement)&&(yg(z)||z[M0]))break e;if((L||A)&&(A=E.window===E?E:(A=E.ownerDocument)?A.defaultView||A.parentWindow:window,L?(z=r.relatedTarget||r.toElement,L=_,z=z?yg(z):null,z!==null&&(N=Mg(z),z!==N||z.tag!==5&&z.tag!==6)&&(z=null)):(L=null,z=_),L!==z)){if(U=zre,Y="onMouseLeave",R="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(U=Fre,Y="onPointerLeave",R="onPointerEnter",j="pointer"),N=L==null?A:u0(L),H=z==null?A:u0(z),A=new U(Y,j+"leave",L,r,E),A.target=N,A.relatedTarget=H,Y=null,yg(E)===_&&(U=new U(R,j+"enter",z,r,E),U.target=H,U.relatedTarget=N,Y=U),N=Y,L&&z)t:{for(U=L,R=z,j=0,H=U;H;H=n0(H))j++;for(H=0,Y=R;Y;Y=n0(Y))H++;for(;0<j-H;)U=n0(U),j--;for(;0<H-j;)R=n0(R),H--;for(;j--;){if(U===R||R!==null&&U===R.alternate)break t;U=n0(U),R=n0(R)}U=null}else U=null;L!==null&&Qre(T,A,L,U,!1),z!==null&&N!==null&&Qre(T,N,z,U,!0)}}e:{if(A=_?u0(_):window,L=A.nodeName&&A.nodeName.toLowerCase(),L==="select"||L==="input"&&A.type==="file")var re=oKe;else if(Vre(A)){if(die)re=uKe;else{re=sKe;var ie=aKe}}else(L=A.nodeName)&&L.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(re=lKe);if(re&&(re=re(e,_))){fie(T,re,r,E);break e}ie&&ie(e,A,_),e==="focusout"&&(ie=A._wrapperState)&&ie.controlled&&A.type==="number"&&Cq(A,"number",A.value)}switch(ie=_?u0(_):window,e){case"focusin":(Vre(ie)||ie.contentEditable==="true")&&(l0=ie,Bq=_,cw=null);break;case"focusout":cw=Bq=l0=null;break;case"mousedown":Uq=!0;break;case"contextmenu":case"mouseup":case"dragend":Uq=!1,Zre(T,r,E);break;case"selectionchange":if(fKe)break;case"keydown":case"keyup":Zre(T,r,E)}var le;if(D8)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else s0?cie(e,r)&&(Me="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(uie&&r.locale!=="ko"&&(s0||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&s0&&(le=lie()):(Jd=E,P8="value"in Jd?Jd.value:Jd.textContent,s0=!0)),ie=bC(_,Me),0<ie.length&&(Me=new jre(Me,e,null,r,E),T.push({event:Me,listeners:ie}),le?Me.data=le:(le=pie(r),le!==null&&(Me.data=le)))),(le=eKe?tKe(e,r):rKe(e,r))&&(_=bC(_,"onBeforeInput"),0<_.length&&(E=new jre("onBeforeInput","beforeinput",null,r,E),T.push({event:E,listeners:_}),E.data=le))}vie(T,t)})}function Ew(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bC(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yw(e,r),o!=null&&n.unshift(Ew(e,o,i)),o=yw(e,t),o!=null&&n.push(Ew(e,o,i))),e=e.return}return n}function n0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qre(e,t,r,n,i){for(var o=t._reactName,l=[];r!==null&&r!==n;){var d=r,g=d.alternate,_=d.stateNode;if(g!==null&&g===n)break;d.tag===5&&_!==null&&(d=_,i?(g=yw(r,o),g!=null&&l.unshift(Ew(r,g,d))):i||(g=yw(r,o),g!=null&&l.push(Ew(r,g,d)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}function xC(){}var dq=null,hq=null;function xie(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vq(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jre=typeof setTimeout=="function"?setTimeout:void 0,dKe=typeof clearTimeout=="function"?clearTimeout:void 0;function N8(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function g0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function ene(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mq=0;function hKe(e){return{$$typeof:_8,toString:e,valueOf:e}}var GC=Math.random().toString(36).slice(2),eh="__reactFiber$"+GC,wC="__reactProps$"+GC,M0="__reactContainer$"+GC,tne="__reactEvents$"+GC;function yg(e){var t=e[eh];if(t)return t;for(var r=e.parentNode;r;){if(t=r[M0]||r[eh]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ene(e);e!==null;){if(r=e[eh])return r;e=ene(e)}return t}e=r,r=e.parentNode}return null}function Ow(e){return e=e[eh]||e[M0],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function u0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Kt(33))}function HC(e){return e[wC]||null}function wie(e){var t=e[tne];return t===void 0&&(t=e[tne]=new Set),t}var $q=[],c0=-1;function mh(e){return{current:e}}function Mi(e){0>c0||(e.current=$q[c0],$q[c0]=null,c0--)}function Yi(e,t){c0++,$q[c0]=e.current,e.current=t}var fh={},Za=mh(fh),Bs=mh(!1),wg=fh;function S0(e,t){var r=e.type.contextTypes;if(!r)return fh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Us(e){return e=e.childContextTypes,e!=null}function SC(){Mi(Bs),Mi(Za)}function rne(e,t,r){if(Za.current!==fh)throw Error(Kt(168));Yi(Za,t),Yi(Bs,r)}function Sie(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Kt(108,f0(t)||"Unknown",i));return Li({},r,n)}function uC(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fh,wg=Za.current,Yi(Za,e),Yi(Bs,Bs.current),!0}function nne(e,t,r){var n=e.stateNode;if(!n)throw Error(Kt(169));r?(e=Sie(e,t,wg),n.__reactInternalMemoizedMergedChildContext=e,Mi(Bs),Mi(Za),Yi(Za,e)):Mi(Bs),Yi(Bs,r)}var R8=null,xg=null,mKe=Zo.unstable_runWithPriority,L8=Zo.unstable_scheduleCallback,Gq=Zo.unstable_cancelCallback,gKe=Zo.unstable_shouldYield,ine=Zo.unstable_requestPaint,Hq=Zo.unstable_now,vKe=Zo.unstable_getCurrentPriorityLevel,WC=Zo.unstable_ImmediatePriority,Eie=Zo.unstable_UserBlockingPriority,Iie=Zo.unstable_NormalPriority,Tie=Zo.unstable_LowPriority,Mie=Zo.unstable_IdlePriority,gq={},yKe=ine!==void 0?ine:function(){},Sf=null,cC=null,vq=!1,one=Hq(),Ha=1e4>one?Hq:function(){return Hq()-one};function E0(){switch(vKe()){case WC:return 99;case Eie:return 98;case Iie:return 97;case Tie:return 96;case Mie:return 95;default:throw Error(Kt(332))}}function Cie(e){switch(e){case 99:return WC;case 98:return Eie;case 97:return Iie;case 96:return Tie;case 95:return Mie;default:throw Error(Kt(332))}}function Sg(e,t){return e=Cie(e),mKe(e,t)}function Iw(e,t,r){return e=Cie(e),L8(e,t,r)}function op(){if(cC!==null){var e=cC;cC=null,Gq(e)}Aie()}function Aie(){if(!vq&&Sf!==null){vq=!0;var e=0;try{var t=Sf;Sg(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Sf=null}catch(r){throw Sf!==null&&(Sf=Sf.slice(e+1)),L8(WC,op),r}finally{vq=!1}}}var _Ke=Tg.ReactCurrentBatchConfig;function Wu(e,t){if(e&&e.defaultProps){t=Li({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var EC=mh(null),IC=null,p0=null,TC=null;function q8(){TC=p0=IC=null}function z8(e){var t=EC.current;Mi(EC),e.type._context._currentValue=t}function Pie(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function v0(e,t){IC=e,TC=p0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Zu=!0),e.firstContext=null)}function nu(e,t){if(TC!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(TC=e,t=1073741823),t={context:e,observedBits:t,next:null},p0===null){if(IC===null)throw Error(Kt(308));p0=t,IC.dependencies={lanes:0,firstContext:t,responders:null}}else p0=p0.next=t;return e._currentValue}var Xd=!1;function j8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Oie(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ah(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ane(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Tw(e,t,r,n){var i=e.updateQueue;Xd=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var g=d,_=g.next;g.next=null,l===null?o=_:l.next=_,l=g;var E=e.alternate;if(E!==null){E=E.updateQueue;var T=E.lastBaseUpdate;T!==l&&(T===null?E.firstBaseUpdate=_:T.next=_,E.lastBaseUpdate=g)}}if(o!==null){T=i.baseState,l=0,E=_=g=null;do{d=o.lane;var A=o.eventTime;if((n&d)===d){E!==null&&(E=E.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var L=e,z=o;switch(d=t,A=r,z.tag){case 1:if(L=z.payload,typeof L=="function"){T=L.call(A,T,d);break e}T=L;break e;case 3:L.flags=L.flags&-4097|64;case 0:if(L=z.payload,d=typeof L=="function"?L.call(A,T,d):L,d==null)break e;T=Li({},T,d);break e;case 2:Xd=!0}}o.callback!==null&&(e.flags|=32,d=i.effects,d===null?i.effects=[o]:d.push(o))}else A={eventTime:A,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},E===null?(_=E=A,g=T):E=E.next=A,l|=d;if(o=o.next,o===null){if(d=i.shared.pending,d===null)break;o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);E===null&&(g=T),i.baseState=g,i.firstBaseUpdate=_,i.lastBaseUpdate=E,Dw|=l,e.lanes=l,e.memoizedState=T}}function sne(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Kt(191,i));i.call(n)}}}var kie=new zC.Component().refs;function MC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Li({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ZC={isMounted:function(e){return(e=e._reactInternals)?Mg(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ml(),i=sh(e),o=oh(n,i);o.payload=t,r!=null&&(o.callback=r),ah(e,o),lh(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ml(),i=sh(e),o=oh(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),ah(e,o),lh(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ml(),n=sh(e),i=oh(r,n);i.tag=2,t!=null&&(i.callback=t),ah(e,i),lh(e,n,r)}};function lne(e,t,r,n,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!Sw(r,n)||!Sw(i,o):!0}function Die(e,t,r){var n=!1,i=fh,o=t.contextType;return typeof o=="object"&&o!==null?o=nu(o):(i=Us(t)?wg:Za.current,n=t.contextTypes,o=(n=n!=null)?S0(e,i):fh),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ZC,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function une(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ZC.enqueueReplaceState(t,t.state,null)}function Wq(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=kie,j8(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nu(o):(o=Us(t)?wg:Za.current,i.context=S0(e,o)),Tw(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(MC(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ZC.enqueueReplaceState(i,i.state,null),Tw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var eC=Array.isArray;function Hx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Kt(309));var n=r.stateNode}if(!n)throw Error(Kt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;l===kie&&(l=n.refs={}),o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Kt(284));if(!r._owner)throw Error(Kt(290,e))}return e}function tC(e,t){if(e.type!=="textarea")throw Error(Kt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Nie(e){function t(N,R){if(e){var j=N.lastEffect;j!==null?(j.nextEffect=R,N.lastEffect=R):N.firstEffect=N.lastEffect=R,R.nextEffect=null,R.flags=8}}function r(N,R){if(!e)return null;for(;R!==null;)t(N,R),R=R.sibling;return null}function n(N,R){for(N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function i(N,R){return N=hh(N,R),N.index=0,N.sibling=null,N}function o(N,R,j){return N.index=j,e?(j=N.alternate,j!==null?(j=j.index,j<R?(N.flags=2,R):j):(N.flags=2,R)):R}function l(N){return e&&N.alternate===null&&(N.flags=2),N}function d(N,R,j,H){return R===null||R.tag!==6?(R=wq(j,N.mode,H),R.return=N,R):(R=i(R,j),R.return=N,R)}function g(N,R,j,H){return R!==null&&R.elementType===j.type?(H=i(R,j.props),H.ref=Hx(N,R,j),H.return=N,H):(H=hC(j.type,j.key,j.props,null,N.mode,H),H.ref=Hx(N,R,j),H.return=N,H)}function _(N,R,j,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==j.containerInfo||R.stateNode.implementation!==j.implementation?(R=Sq(j,N.mode,H),R.return=N,R):(R=i(R,j.children||[]),R.return=N,R)}function E(N,R,j,H,Y){return R===null||R.tag!==7?(R=x0(j,N.mode,H,Y),R.return=N,R):(R=i(R,j),R.return=N,R)}function T(N,R,j){if(typeof R=="string"||typeof R=="number")return R=wq(""+R,N.mode,j),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Jx:return j=hC(R.type,R.key,R.props,null,N.mode,j),j.ref=Hx(N,null,R),j.return=N,j;case gg:return R=Sq(R,N.mode,j),R.return=N,R}if(eC(R)||Bx(R))return R=x0(R,N.mode,j,null),R.return=N,R;tC(N,R)}return null}function A(N,R,j,H){var Y=R!==null?R.key:null;if(typeof j=="string"||typeof j=="number")return Y!==null?null:d(N,R,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jx:return j.key===Y?j.type===Qd?E(N,R,j.props.children,H,Y):g(N,R,j,H):null;case gg:return j.key===Y?_(N,R,j,H):null}if(eC(j)||Bx(j))return Y!==null?null:E(N,R,j,H,null);tC(N,j)}return null}function L(N,R,j,H,Y){if(typeof H=="string"||typeof H=="number")return N=N.get(j)||null,d(R,N,""+H,Y);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Jx:return N=N.get(H.key===null?j:H.key)||null,H.type===Qd?E(R,N,H.props.children,Y,H.key):g(R,N,H,Y);case gg:return N=N.get(H.key===null?j:H.key)||null,_(R,N,H,Y)}if(eC(H)||Bx(H))return N=N.get(j)||null,E(R,N,H,Y,null);tC(R,H)}return null}function z(N,R,j,H){for(var Y=null,re=null,ie=R,le=R=0,Me=null;ie!==null&&le<j.length;le++){ie.index>le?(Me=ie,ie=null):Me=ie.sibling;var we=A(N,ie,j[le],H);if(we===null){ie===null&&(ie=Me);break}e&&ie&&we.alternate===null&&t(N,ie),R=o(we,R,le),re===null?Y=we:re.sibling=we,re=we,ie=Me}if(le===j.length)return r(N,ie),Y;if(ie===null){for(;le<j.length;le++)ie=T(N,j[le],H),ie!==null&&(R=o(ie,R,le),re===null?Y=ie:re.sibling=ie,re=ie);return Y}for(ie=n(N,ie);le<j.length;le++)Me=L(ie,N,le,j[le],H),Me!==null&&(e&&Me.alternate!==null&&ie.delete(Me.key===null?le:Me.key),R=o(Me,R,le),re===null?Y=Me:re.sibling=Me,re=Me);return e&&ie.forEach(function(ye){return t(N,ye)}),Y}function U(N,R,j,H){var Y=Bx(j);if(typeof Y!="function")throw Error(Kt(150));if(j=Y.call(j),j==null)throw Error(Kt(151));for(var re=Y=null,ie=R,le=R=0,Me=null,we=j.next();ie!==null&&!we.done;le++,we=j.next()){ie.index>le?(Me=ie,ie=null):Me=ie.sibling;var ye=A(N,ie,we.value,H);if(ye===null){ie===null&&(ie=Me);break}e&&ie&&ye.alternate===null&&t(N,ie),R=o(ye,R,le),re===null?Y=ye:re.sibling=ye,re=ye,ie=Me}if(we.done)return r(N,ie),Y;if(ie===null){for(;!we.done;le++,we=j.next())we=T(N,we.value,H),we!==null&&(R=o(we,R,le),re===null?Y=we:re.sibling=we,re=we);return Y}for(ie=n(N,ie);!we.done;le++,we=j.next())we=L(ie,N,le,we.value,H),we!==null&&(e&&we.alternate!==null&&ie.delete(we.key===null?le:we.key),R=o(we,R,le),re===null?Y=we:re.sibling=we,re=we);return e&&ie.forEach(function(xe){return t(N,xe)}),Y}return function(N,R,j,H){var Y=typeof j=="object"&&j!==null&&j.type===Qd&&j.key===null;Y&&(j=j.props.children);var re=typeof j=="object"&&j!==null;if(re)switch(j.$$typeof){case Jx:e:{for(re=j.key,Y=R;Y!==null;){if(Y.key===re){switch(Y.tag){case 7:if(j.type===Qd){r(N,Y.sibling),R=i(Y,j.props.children),R.return=N,N=R;break e}break;default:if(Y.elementType===j.type){r(N,Y.sibling),R=i(Y,j.props),R.ref=Hx(N,Y,j),R.return=N,N=R;break e}}r(N,Y);break}else t(N,Y);Y=Y.sibling}j.type===Qd?(R=x0(j.props.children,N.mode,H,j.key),R.return=N,N=R):(H=hC(j.type,j.key,j.props,null,N.mode,H),H.ref=Hx(N,R,j),H.return=N,N=H)}return l(N);case gg:e:{for(Y=j.key;R!==null;){if(R.key===Y){if(R.tag===4&&R.stateNode.containerInfo===j.containerInfo&&R.stateNode.implementation===j.implementation){r(N,R.sibling),R=i(R,j.children||[]),R.return=N,N=R;break e}else{r(N,R);break}}else t(N,R);R=R.sibling}R=Sq(j,N.mode,H),R.return=N,N=R}return l(N)}if(typeof j=="string"||typeof j=="number")return j=""+j,R!==null&&R.tag===6?(r(N,R.sibling),R=i(R,j),R.return=N,N=R):(r(N,R),R=wq(j,N.mode,H),R.return=N,N=R),l(N);if(eC(j))return z(N,R,j,H);if(Bx(j))return U(N,R,j,H);if(re&&tC(N,j),typeof j=="undefined"&&!Y)switch(N.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Kt(152,f0(N.type)||"Component"))}return r(N,R)}}var CC=Nie(!0),Rie=Nie(!1),kw={},np=mh(kw),Mw=mh(kw),Cw=mh(kw);function _g(e){if(e===kw)throw Error(Kt(174));return e}function Zq(e,t){switch(Yi(Cw,t),Yi(Mw,e),Yi(np,kw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kq(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kq(t,e)}Mi(np),Yi(np,t)}function I0(){Mi(np),Mi(Mw),Mi(Cw)}function cne(e){_g(Cw.current);var t=_g(np.current),r=kq(t,e.type);t!==r&&(Yi(Mw,e),Yi(np,r))}function F8(e){Mw.current===e&&(Mi(np),Mi(Mw))}var Zi=mh(0);function AC(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var If=null,th=null,ip=!1;function Lie(e,t){var r=tu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function pne(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Yq(e){if(ip){var t=th;if(t){var r=t;if(!pne(e,t)){if(t=g0(r.nextSibling),!t||!pne(e,t)){e.flags=e.flags&-1025|2,ip=!1,If=e;return}Lie(If,r)}If=e,th=g0(t.firstChild)}else e.flags=e.flags&-1025|2,ip=!1,If=e}}function fne(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;If=e}function rC(e){if(e!==If)return!1;if(!ip)return fne(e),ip=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Vq(t,e.memoizedProps))for(t=th;t;)Lie(e,t),t=g0(t.nextSibling);if(fne(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Kt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){th=g0(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}th=null}}else th=If?g0(e.stateNode.nextSibling):null;return!0}function yq(){th=If=null,ip=!1}var y0=[];function B8(){for(var e=0;e<y0.length;e++)y0[e]._workInProgressVersionPrimary=null;y0.length=0}var pw=Tg.ReactCurrentDispatcher,ru=Tg.ReactCurrentBatchConfig,Aw=0,so=null,Ga=null,fa=null,PC=!1,fw=!1;function js(){throw Error(Kt(321))}function U8(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!eu(e[r],t[r]))return!1;return!0}function V8(e,t,r,n,i,o){if(Aw=o,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pw.current=e===null||e.memoizedState===null?xKe:wKe,e=r(n,i),fw){o=0;do{if(fw=!1,!(25>o))throw Error(Kt(301));o+=1,fa=Ga=null,t.updateQueue=null,pw.current=SKe,e=r(n,i)}while(fw)}if(pw.current=NC,t=Ga!==null&&Ga.next!==null,Aw=0,fa=Ga=so=null,PC=!1,t)throw Error(Kt(300));return e}function bg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?so.memoizedState=fa=e:fa=fa.next=e,fa}function Cg(){if(Ga===null){var e=so.alternate;e=e!==null?e.memoizedState:null}else e=Ga.next;var t=fa===null?so.memoizedState:fa.next;if(t!==null)fa=t,Ga=e;else{if(e===null)throw Error(Kt(310));Ga=e,e={memoizedState:Ga.memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},fa===null?so.memoizedState=fa=e:fa=fa.next=e}return fa}function tp(e,t){return typeof t=="function"?t(e):t}function Wx(e){var t=Cg(),r=t.queue;if(r===null)throw Error(Kt(311));r.lastRenderedReducer=e;var n=Ga,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var d=l=o=null,g=i;do{var _=g.lane;if((Aw&_)===_)d!==null&&(d=d.next={lane:0,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null}),n=g.eagerReducer===e?g.eagerState:e(n,g.action);else{var E={lane:_,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};d===null?(l=d=E,o=n):d=d.next=E,so.lanes|=_,Dw|=_}g=g.next}while(g!==null&&g!==i);d===null?o=n:d.next=l,eu(n,t.memoizedState)||(Zu=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Zx(e){var t=Cg(),r=t.queue;if(r===null)throw Error(Kt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);eu(o,t.memoizedState)||(Zu=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function dne(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Aw&e)===e)&&(t._workInProgressVersionPrimary=n,y0.push(t))),e)return r(t._source);throw y0.push(t),Error(Kt(350))}function qie(e,t,r,n){var i=vs;if(i===null)throw Error(Kt(349));var o=t._getVersion,l=o(t._source),d=pw.current,g=d.useState(function(){return dne(i,t,r)}),_=g[1],E=g[0];g=fa;var T=e.memoizedState,A=T.refs,L=A.getSnapshot,z=T.source;T=T.subscribe;var U=so;return e.memoizedState={refs:A,source:t,subscribe:n},d.useEffect(function(){A.getSnapshot=r,A.setSnapshot=_;var N=o(t._source);if(!eu(l,N)){N=r(t._source),eu(E,N)||(_(N),N=sh(U),i.mutableReadLanes|=N&i.pendingLanes),N=i.mutableReadLanes,i.entangledLanes|=N;for(var R=i.entanglements,j=N;0<j;){var H=31-ph(j),Y=1<<H;R[H]|=N,j&=~Y}}},[r,t,n]),d.useEffect(function(){return n(t._source,function(){var N=A.getSnapshot,R=A.setSnapshot;try{R(N(t._source));var j=sh(U);i.mutableReadLanes|=j&i.pendingLanes}catch(H){R(function(){throw H})}})},[t,n]),eu(L,r)&&eu(z,t)&&eu(T,n)||(e={pending:null,dispatch:null,lastRenderedReducer:tp,lastRenderedState:E},e.dispatch=_=H8.bind(null,so,e),g.queue=e,g.baseQueue=null,E=dne(i,t,r),g.memoizedState=g.baseState=E),E}function zie(e,t,r){var n=Cg();return qie(n,e,t,r)}function Yx(e){var t=bg();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:tp,lastRenderedState:e},e=e.dispatch=H8.bind(null,so,e),[t.memoizedState,e]}function OC(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=so.updateQueue,t===null?(t={lastEffect:null},so.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hne(e){var t=bg();return e={current:e},t.memoizedState=e}function kC(){return Cg().memoizedState}function Kq(e,t,r,n){var i=bg();so.flags|=e,i.memoizedState=OC(1|t,r,void 0,n===void 0?null:n)}function $8(e,t,r,n){var i=Cg();n=n===void 0?null:n;var o=void 0;if(Ga!==null){var l=Ga.memoizedState;if(o=l.destroy,n!==null&&U8(n,l.deps)){OC(t,r,o,n);return}}so.flags|=e,i.memoizedState=OC(1|t,r,o,n)}function mne(e,t){return Kq(516,4,e,t)}function DC(e,t){return $8(516,4,e,t)}function jie(e,t){return $8(4,2,e,t)}function Fie(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bie(e,t,r){return r=r!=null?r.concat([e]):null,$8(4,2,Fie.bind(null,t,e),r)}function G8(){}function Uie(e,t){var r=Cg();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U8(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vie(e,t){var r=Cg();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U8(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bKe(e,t){var r=E0();Sg(98>r?98:r,function(){e(!0)}),Sg(97<r?97:r,function(){var n=ru.transition;ru.transition=1;try{e(!1),t()}finally{ru.transition=n}})}function H8(e,t,r){var n=Ml(),i=sh(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},l=t.pending;if(l===null?o.next=o:(o.next=l.next,l.next=o),t.pending=o,l=e.alternate,e===so||l!==null&&l===so)fw=PC=!0;else{if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,g=l(d,r);if(o.eagerReducer=l,o.eagerState=g,eu(g,d))return}catch(_){}finally{}lh(e,i,n)}}var NC={readContext:nu,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useOpaqueIdentifier:js,unstable_isNewReconciler:!1},xKe={readContext:nu,useCallback:function(e,t){return bg().memoizedState=[e,t===void 0?null:t],e},useContext:nu,useEffect:mne,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kq(4,2,Fie.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kq(4,2,e,t)},useMemo:function(e,t){var r=bg();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bg();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=H8.bind(null,so,e),[n.memoizedState,e]},useRef:hne,useState:Yx,useDebugValue:G8,useDeferredValue:function(e){var t=Yx(e),r=t[0],n=t[1];return mne(function(){var i=ru.transition;ru.transition=1;try{n(e)}finally{ru.transition=i}},[e]),r},useTransition:function(){var e=Yx(!1),t=e[0];return e=bKe.bind(null,e[1]),hne(e),[e,t]},useMutableSource:function(e,t,r){var n=bg();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},qie(n,e,t,r)},useOpaqueIdentifier:function(){if(ip){var e=!1,t=hKe(function(){throw e||(e=!0,r("r:"+(mq++).toString(36))),Error(Kt(355))}),r=Yx(t)[1];return(so.mode&2)===0&&(so.flags|=516,OC(5,function(){r("r:"+(mq++).toString(36))},void 0,null)),t}return t="r:"+(mq++).toString(36),Yx(t),t},unstable_isNewReconciler:!1},wKe={readContext:nu,useCallback:Uie,useContext:nu,useEffect:DC,useImperativeHandle:Bie,useLayoutEffect:jie,useMemo:Vie,useReducer:Wx,useRef:kC,useState:function(){return Wx(tp)},useDebugValue:G8,useDeferredValue:function(e){var t=Wx(tp),r=t[0],n=t[1];return DC(function(){var i=ru.transition;ru.transition=1;try{n(e)}finally{ru.transition=i}},[e]),r},useTransition:function(){var e=Wx(tp)[0];return[kC().current,e]},useMutableSource:zie,useOpaqueIdentifier:function(){return Wx(tp)[0]},unstable_isNewReconciler:!1},SKe={readContext:nu,useCallback:Uie,useContext:nu,useEffect:DC,useImperativeHandle:Bie,useLayoutEffect:jie,useMemo:Vie,useReducer:Zx,useRef:kC,useState:function(){return Zx(tp)},useDebugValue:G8,useDeferredValue:function(e){var t=Zx(tp),r=t[0],n=t[1];return DC(function(){var i=ru.transition;ru.transition=1;try{n(e)}finally{ru.transition=i}},[e]),r},useTransition:function(){var e=Zx(tp)[0];return[kC().current,e]},useMutableSource:zie,useOpaqueIdentifier:function(){return Zx(tp)[0]},unstable_isNewReconciler:!1},EKe=Tg.ReactCurrentOwner,Zu=!1;function Fs(e,t,r,n){t.child=e===null?Rie(t,null,r,n):CC(t,e.child,r,n)}function gne(e,t,r,n,i){r=r.render;var o=t.ref;return v0(t,i),n=V8(e,t,r,n,o,i),e!==null&&!Zu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Tf(e,t,i)):(t.flags|=1,Fs(e,t,n,i),t.child)}function vne(e,t,r,n,i,o){if(e===null){var l=r.type;return typeof l=="function"&&!Q8(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,$ie(e,t,l,n,i,o)):(e=hC(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return l=e.child,(i&o)===0&&(i=l.memoizedProps,r=r.compare,r=r!==null?r:Sw,r(i,n)&&e.ref===t.ref)?Tf(e,t,o):(t.flags|=1,e=hh(l,n),e.ref=t.ref,e.return=t,t.child=e)}function $ie(e,t,r,n,i,o){if(e!==null&&Sw(e.memoizedProps,n)&&e.ref===t.ref)if(Zu=!1,(o&i)!==0)(e.flags&16384)!==0&&(Zu=!0);else return t.lanes=e.lanes,Tf(e,t,o);return Xq(e,t,r,n,o)}function _q(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if((t.mode&4)===0)t.memoizedState={baseLanes:0},iC(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},iC(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},iC(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,iC(t,n);return Fs(e,t,i,r),t.child}function Gie(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Xq(e,t,r,n,i){var o=Us(r)?wg:Za.current;return o=S0(t,o),v0(t,i),r=V8(e,t,r,n,o,i),e!==null&&!Zu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Tf(e,t,i)):(t.flags|=1,Fs(e,t,r,i),t.child)}function yne(e,t,r,n,i){if(Us(r)){var o=!0;uC(t)}else o=!1;if(v0(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Die(t,r,n),Wq(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var g=l.context,_=r.contextType;typeof _=="object"&&_!==null?_=nu(_):(_=Us(r)?wg:Za.current,_=S0(t,_));var E=r.getDerivedStateFromProps,T=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function";T||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==n||g!==_)&&une(t,l,n,_),Xd=!1;var A=t.memoizedState;l.state=A,Tw(t,n,l,i),g=t.memoizedState,d!==n||A!==g||Bs.current||Xd?(typeof E=="function"&&(MC(t,r,E,n),g=t.memoizedState),(d=Xd||lne(t,r,d,n,A,g,_))?(T||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4)):(typeof l.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=_,n=d):(typeof l.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{l=t.stateNode,Oie(e,t),d=t.memoizedProps,_=t.type===t.elementType?d:Wu(t.type,d),l.props=_,T=t.pendingProps,A=l.context,g=r.contextType,typeof g=="object"&&g!==null?g=nu(g):(g=Us(r)?wg:Za.current,g=S0(t,g));var L=r.getDerivedStateFromProps;(E=typeof L=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==T||A!==g)&&une(t,l,n,g),Xd=!1,A=t.memoizedState,l.state=A,Tw(t,n,l,i);var z=t.memoizedState;d!==T||A!==z||Bs.current||Xd?(typeof L=="function"&&(MC(t,r,L,n),z=t.memoizedState),(_=Xd||lne(t,r,_,n,A,z,g))?(E||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,z,g),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,z,g)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=z),l.props=n,l.state=z,l.context=g,n=_):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),n=!1)}return Qq(e,t,r,n,o,i)}function Qq(e,t,r,n,i,o){Gie(e,t);var l=(t.flags&64)!==0;if(!n&&!l)return i&&nne(t,r,!1),Tf(e,t,o);n=t.stateNode,EKe.current=t;var d=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=CC(t,e.child,null,o),t.child=CC(t,null,d,o)):Fs(e,t,d,o),t.memoizedState=n.state,i&&nne(t,r,!0),t.child}function _ne(e){var t=e.stateNode;t.pendingContext?rne(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rne(e,t.context,!1),Zq(e,t.containerInfo)}var nC={dehydrated:null,retryLane:0};function bne(e,t,r){var n=t.pendingProps,i=Zi.current,o=!1,l;return(l=(t.flags&64)!==0)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Yi(Zi,i&1),e===null?(n.fallback!==void 0&&Yq(t),e=n.children,i=n.fallback,o?(e=xne(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=nC,e):typeof n.unstable_expectedLoadTime=="number"?(e=xne(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=nC,t.lanes=33554432,e):(r=J8({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=Sne(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=nC,n):(r=wne(e,t,n.children,r),t.memoizedState=null,r):o?(n=Sne(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=nC,n):(r=wne(e,t,n.children,r),t.memoizedState=null,r)}function xne(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=J8(t,i,0,null),r=x0(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function wne(e,t,r,n){var i=e.child;return e=i.sibling,r=hh(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Sne(e,t,r,n,i){var o=t.mode,l=e.child;e=l.sibling;var d={mode:"hidden",children:r};return(o&2)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=d,l=r.lastEffect,l!==null?(t.firstEffect=r.firstEffect,t.lastEffect=l,l.nextEffect=null):t.firstEffect=t.lastEffect=null):r=hh(l,d),e!==null?n=hh(e,n):(n=x0(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Ene(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pie(e.return,t)}function bq(e,t,r,n,i,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=i,l.lastEffect=o)}function Ine(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Fs(e,t,n.children,r),n=Zi.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ene(e,r);else if(e.tag===19)Ene(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Yi(Zi,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&AC(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bq(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&AC(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bq(t,!0,r,null,o,t.lastEffect);break;case"together":bq(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Tf(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dw|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(Kt(153));if(t.child!==null){for(e=t.child,r=hh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var Hie,Jq,Wie,Zie;Hie=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jq=function(){};Wie=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,_g(np.current);var o=null;switch(r){case"input":i=Tq(e,i),n=Tq(e,n),o=[];break;case"option":i=Aq(e,i),n=Aq(e,n),o=[];break;case"select":i=Li({},i,{value:void 0}),n=Li({},n,{value:void 0}),o=[];break;case"textarea":i=Pq(e,i),n=Pq(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xC)}Dq(r,n);var l;r=null;for(_ in i)if(!n.hasOwnProperty(_)&&i.hasOwnProperty(_)&&i[_]!=null)if(_==="style"){var d=i[_];for(l in d)d.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(gw.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in n){var g=n[_];if(d=i!=null?i[_]:void 0,n.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style"){if(d){for(l in d)!d.hasOwnProperty(l)||g&&g.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in g)g.hasOwnProperty(l)&&d[l]!==g[l]&&(r||(r={}),r[l]=g[l])}else r||(o||(o=[]),o.push(_,r)),r=g;}else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(o=o||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(gw.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&Ti("scroll",e),o||d===g||(o=[])):typeof g=="object"&&g!==null&&g.$$typeof===_8?g.toString():(o=o||[]).push(_,g))}r&&(o=o||[]).push("style",r);var _=o;(t.updateQueue=_)&&(t.flags|=4)}};Zie=function(e,t,r,n){r!==n&&(t.flags|=4)};function Kx(e,t){if(!ip)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function IKe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Us(t.type)&&SC(),null;case 3:return I0(),Mi(Bs),Mi(Za),B8(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rC(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Jq(t),null;case 5:F8(t);var i=_g(Cw.current);if(r=t.type,e!==null&&t.stateNode!=null)Wie(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Kt(166));return null}if(e=_g(np.current),rC(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[eh]=t,n[wC]=o,r){case"dialog":Ti("cancel",n),Ti("close",n);break;case"iframe":case"object":case"embed":Ti("load",n);break;case"video":case"audio":for(e=0;e<tw.length;e++)Ti(tw[e],n);break;case"source":Ti("error",n);break;case"img":case"image":case"link":Ti("error",n),Ti("load",n);break;case"details":Ti("toggle",n);break;case"input":Mre(n,o),Ti("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ti("invalid",n);break;case"textarea":Are(n,o),Ti("invalid",n)}Dq(r,o),e=null;for(var l in o)o.hasOwnProperty(l)&&(i=o[l],l==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):gw.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&Ti("scroll",n));switch(r){case"input":WM(n),Cre(n,o,!0);break;case"textarea":WM(n),Pre(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=xC)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(l=i.nodeType===9?i:i.ownerDocument,e===Oq.html&&(e=Bne(r)),e===Oq.html?r==="script"?(e=l.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[eh]=t,e[wC]=n,Hie(e,t,!1,!1),t.stateNode=e,l=Nq(r,n),r){case"dialog":Ti("cancel",e),Ti("close",e),i=n;break;case"iframe":case"object":case"embed":Ti("load",e),i=n;break;case"video":case"audio":for(i=0;i<tw.length;i++)Ti(tw[i],e);i=n;break;case"source":Ti("error",e),i=n;break;case"img":case"image":case"link":Ti("error",e),Ti("load",e),i=n;break;case"details":Ti("toggle",e),i=n;break;case"input":Mre(e,n),i=Tq(e,n),Ti("invalid",e);break;case"option":i=Aq(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Li({},n,{value:void 0}),Ti("invalid",e);break;case"textarea":Are(e,n),i=Pq(e,n),Ti("invalid",e);break;default:i=n}Dq(r,i);var d=i;for(o in d)if(d.hasOwnProperty(o)){var g=d[o];o==="style"?$ne(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Une(e,g)):o==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&vw(e,g):typeof g=="number"&&vw(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gw.hasOwnProperty(o)?g!=null&&o==="onScroll"&&Ti("scroll",e):g!=null&&d8(e,o,g,l))}switch(r){case"input":WM(e),Cre(e,n,!1);break;case"textarea":WM(e),Pre(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ch(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?d0(e,!!n.multiple,o,!1):n.defaultValue!=null&&d0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xC)}xie(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Zie(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Kt(166));r=_g(Cw.current),_g(np.current),rC(t)?(n=t.stateNode,r=t.memoizedProps,n[eh]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[eh]=t,t.stateNode=n)}return null;case 13:return Mi(Zi),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&rC(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Zi.current&1)!==0?da===0&&(da=3):((da===0||da===3)&&(da=4),vs===null||(Dw&134217727)===0&&(A0&134217727)===0||_0(vs,Wa))),(n||r)&&(t.flags|=4),null);case 4:return I0(),Jq(t),e===null&&yie(t.stateNode.containerInfo),null;case 10:return z8(t),null;case 17:return Us(t.type)&&SC(),null;case 19:if(Mi(Zi),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,l=n.rendering,l===null){if(o)Kx(n,!1);else{if(da!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(l=AC(e),l!==null){for(t.flags|=64,Kx(n,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yi(Zi,Zi.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ha()>o8&&(t.flags|=64,o=!0,Kx(n,!1),t.lanes=33554432)}}else{if(!o)if(e=AC(l),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Kx(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!ip)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ha()-n.renderingStartTime>o8&&r!==1073741824&&(t.flags|=64,o=!0,Kx(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(r=n.last,r!==null?r.sibling=l:t.child=l,n.last=l)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ha(),r.sibling=null,t=Zi.current,Yi(Zi,o?t&1|2:t&1),r):null;case 23:case 24:return X8(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Kt(156,t.tag))}function TKe(e){switch(e.tag){case 1:Us(e.type)&&SC();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(I0(),Mi(Bs),Mi(Za),B8(),t=e.flags,(t&64)!==0)throw Error(Kt(285));return e.flags=t&-4097|64,e;case 5:return F8(e),null;case 13:return Mi(Zi),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Mi(Zi),null;case 4:return I0(),null;case 10:return z8(e),null;case 23:case 24:return X8(),null;default:return null}}function W8(e,t){try{var r="",n=t;do r+=aYe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function e8(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var MKe=typeof WeakMap=="function"?WeakMap:Map;function Yie(e,t,r){r=oh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){LC||(LC=!0,a8=n),e8(e,t)},r}function Kie(e,t,r){r=oh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return e8(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(rp===null?rp=new Set([this]):rp.add(this),e8(e,t));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}var CKe=typeof WeakSet=="function"?WeakSet:Set;function Tne(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){uh(e,r)}else t.current=null}function AKe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Wu(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&N8(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Kt(163))}function PKe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(ooe(r,e),zKe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Wu(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&sne(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}sne(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&xie(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&eie(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Kt(163))}function Mne(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Vne("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Cne(e,t){if(xg&&typeof xg.onCommitFiberUnmount=="function")try{xg.onCommitFiberUnmount(R8,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)ooe(t,r);else{n=t;try{i()}catch(o){uh(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Tne(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){uh(t,o)}break;case 5:Tne(t);break;case 4:Xie(e,t)}}function Ane(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Pne(e){return e.tag===5||e.tag===3||e.tag===4}function One(e){e:{for(var t=e.return;t!==null;){if(Pne(t))break e;t=t.return}throw Error(Kt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Kt(161))}r.flags&16&&(vw(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Pne(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?t8(e,r,t):r8(e,r,t)}function t8(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xC));else if(n!==4&&(e=e.child,e!==null))for(t8(e,t,r),e=e.sibling;e!==null;)t8(e,t,r),e=e.sibling}function r8(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(r8(e,t,r),e=e.sibling;e!==null;)r8(e,t,r),e=e.sibling}function Xie(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Kt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var l=e,d=r,g=d;;)if(Cne(l,g),g.child!==null&&g.tag!==4)g.child.return=g,g=g.child;else{if(g===d)break e;for(;g.sibling===null;){if(g.return===null||g.return===d)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o?(l=i,d=r.stateNode,l.nodeType===8?l.parentNode.removeChild(d):l.removeChild(d)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Cne(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function xq(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[wC]=n,e==="input"&&n.type==="radio"&&n.name!=null&&jne(r,n),Nq(e,i),t=Nq(e,n),i=0;i<o.length;i+=2){var l=o[i],d=o[i+1];l==="style"?$ne(r,d):l==="dangerouslySetInnerHTML"?Une(r,d):l==="children"?vw(r,d):d8(r,l,d,t)}switch(e){case"input":Mq(r,n);break;case"textarea":Fne(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?d0(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?d0(r,!!n.multiple,n.defaultValue,!0):d0(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Kt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,eie(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(K8=Ha(),Mne(t.child,!0)),kne(t);return;case 19:kne(t);return;case 17:return;case 23:case 24:Mne(t,t.memoizedState!==null);return}throw Error(Kt(163))}function kne(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CKe),t.forEach(function(n){var i=BKe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function OKe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var kKe=Math.ceil,RC=Tg.ReactCurrentDispatcher,Z8=Tg.ReactCurrentOwner,Yr=0,vs=null,qo=null,Wa=0,Eg=0,n8=mh(0),da=0,YC=null,C0=0,Dw=0,A0=0,Y8=0,i8=null,K8=0,o8=1/0;function P0(){o8=Ha()+500}var dr=null,LC=!1,a8=null,rp=null,dh=!1,dw=null,rw=90,s8=[],l8=[],Mf=null,hw=0,u8=null,pC=-1,Ef=0,fC=0,mw=null,dC=!1;function Ml(){return(Yr&48)!==0?Ha():pC!==-1?pC:pC=Ha()}function sh(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return E0()===99?1:2;if(Ef===0&&(Ef=C0),_Ke.transition!==0){fC!==0&&(fC=i8!==null?i8.pendingLanes:0),e=Ef;var t=4186112&~fC;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=E0(),(Yr&4)!==0&&e===98?e=_C(12,Ef):(e=wYe(e),e=_C(e,Ef)),e}function lh(e,t,r){if(50<hw)throw hw=0,u8=null,Error(Kt(185));if(e=KC(e,t),e===null)return null;UC(e,t,r),e===vs&&(A0|=t,da===4&&_0(e,Wa));var n=E0();t===1?(Yr&8)!==0&&(Yr&48)===0?c8(e):(iu(e,r),Yr===0&&(P0(),op())):((Yr&4)===0||n!==98&&n!==99||(Mf===null?Mf=new Set([e]):Mf.add(e)),iu(e,r)),i8=e}function KC(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function iu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-ph(l),g=1<<d,_=o[d];if(_===-1){if((g&n)===0||(g&i)!==0){_=t,i0(g);var E=_i;o[d]=10<=E?_+250:6<=E?_+5e3:-1}}else _<=t&&(e.expiredLanes|=g);l&=~g}if(n=xw(e,e===vs?Wa:0),t=_i,n===0)r!==null&&(r!==gq&&Gq(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==gq&&Gq(r)}t===15?(r=c8.bind(null,e),Sf===null?(Sf=[r],cC=L8(WC,Aie)):Sf.push(r),r=gq):t===14?r=Iw(99,c8.bind(null,e)):(r=SYe(t),r=Iw(r,Qie.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function Qie(e){if(pC=-1,fC=Ef=0,(Yr&48)!==0)throw Error(Kt(327));var t=e.callbackNode;if(gh()&&e.callbackNode!==t)return null;var r=xw(e,e===vs?Wa:0);if(r===0)return null;var n=r,i=Yr;Yr|=16;var o=roe();(vs!==e||Wa!==n)&&(P0(),b0(e,n));do try{RKe();break}catch(d){toe(e,d)}while(!0);if(q8(),RC.current=o,Yr=i,qo!==null?n=0:(vs=null,Wa=0,n=da),(C0&A0)!==0)b0(e,0);else if(n!==0){if(n===2&&(Yr|=64,e.hydrate&&(e.hydrate=!1,N8(e.containerInfo)),r=sie(e),r!==0&&(n=nw(e,r))),n===1)throw t=YC,b0(e,0),_0(e,r),iu(e,Ha()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Kt(345));case 2:mg(e);break;case 3:if(_0(e,r),(r&62914560)===r&&(n=K8+500-Ha(),10<n)){if(xw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ml(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jre(mg.bind(null,e),n);break}mg(e);break;case 4:if(_0(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var l=31-ph(r);o=1<<l,l=n[l],l>i&&(i=l),r&=~o}if(r=i,r=Ha()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kKe(r/1960))-r,10<r){e.timeoutHandle=Jre(mg.bind(null,e),r);break}mg(e);break;case 5:mg(e);break;default:throw Error(Kt(329))}}return iu(e,Ha()),e.callbackNode===t?Qie.bind(null,e):null}function _0(e,t){for(t&=~Y8,t&=~A0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ph(t),n=1<<r;e[r]=-1,t&=~n}}function c8(e){if((Yr&48)!==0)throw Error(Kt(327));if(gh(),e===vs&&(e.expiredLanes&Wa)!==0){var t=Wa,r=nw(e,t);(C0&A0)!==0&&(t=xw(e,t),r=nw(e,t))}else t=xw(e,0),r=nw(e,t);if(e.tag!==0&&r===2&&(Yr|=64,e.hydrate&&(e.hydrate=!1,N8(e.containerInfo)),t=sie(e),t!==0&&(r=nw(e,t))),r===1)throw r=YC,b0(e,0),_0(e,t),iu(e,Ha()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,mg(e),iu(e,Ha()),null}function DKe(){if(Mf!==null){var e=Mf;Mf=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,iu(t,Ha())})}op()}function Jie(e,t){var r=Yr;Yr|=1;try{return e(t)}finally{Yr=r,Yr===0&&(P0(),op())}}function eoe(e,t){var r=Yr;Yr&=-2,Yr|=8;try{return e(t)}finally{Yr=r,Yr===0&&(P0(),op())}}function iC(e,t){Yi(n8,Eg),Eg|=t,C0|=t}function X8(){Eg=n8.current,Mi(n8)}function b0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dKe(r)),qo!==null)for(r=qo.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&SC();break;case 3:I0(),Mi(Bs),Mi(Za),B8();break;case 5:F8(n);break;case 4:I0();break;case 13:Mi(Zi);break;case 19:Mi(Zi);break;case 10:z8(n);break;case 23:case 24:X8()}r=r.return}vs=e,qo=hh(e.current,null),Wa=Eg=C0=t,da=0,YC=null,Y8=A0=Dw=0}function toe(e,t){do{var r=qo;try{if(q8(),pw.current=NC,PC){for(var n=so.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}PC=!1}if(Aw=0,fa=Ga=so=null,fw=!1,Z8.current=null,r===null||r.return===null){da=1,YC=t,qo=null;break}e:{var o=e,l=r.return,d=r,g=t;if(t=Wa,d.flags|=2048,d.firstEffect=d.lastEffect=null,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g;if((d.mode&2)===0){var E=d.alternate;E?(d.updateQueue=E.updateQueue,d.memoizedState=E.memoizedState,d.lanes=E.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=(Zi.current&1)!==0,A=l;do{var L;if(L=A.tag===13){var z=A.memoizedState;if(z!==null)L=z.dehydrated!==null;else{var U=A.memoizedProps;L=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!T}}if(L){var N=A.updateQueue;if(N===null){var R=new Set;R.add(_),A.updateQueue=R}else N.add(_);if((A.mode&2)===0){if(A.flags|=64,d.flags|=16384,d.flags&=-2981,d.tag===1)if(d.alternate===null)d.tag=17;else{var j=oh(-1,1);j.tag=2,ah(d,j)}d.lanes|=1;break e}g=void 0,d=t;var H=o.pingCache;if(H===null?(H=o.pingCache=new MKe,g=new Set,H.set(_,g)):(g=H.get(_),g===void 0&&(g=new Set,H.set(_,g))),!g.has(d)){g.add(d);var Y=FKe.bind(null,o,_,d);_.then(Y,Y)}A.flags|=4096,A.lanes=t;break e}A=A.return}while(A!==null);g=Error((f0(d.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}da!==5&&(da=2),g=W8(g,d),A=l;do{switch(A.tag){case 3:o=g,A.flags|=4096,t&=-t,A.lanes|=t;var re=Yie(A,o,t);ane(A,re);break e;case 1:o=g;var ie=A.type,le=A.stateNode;if((A.flags&64)===0&&(typeof ie.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(rp===null||!rp.has(le)))){A.flags|=4096,t&=-t,A.lanes|=t;var Me=Kie(A,o,t);ane(A,Me);break e}}A=A.return}while(A!==null)}ioe(r)}catch(we){t=we,qo===r&&r!==null&&(qo=r=r.return);continue}break}while(!0)}function roe(){var e=RC.current;return RC.current=NC,e===null?NC:e}function nw(e,t){var r=Yr;Yr|=16;var n=roe();vs===e&&Wa===t||b0(e,t);do try{NKe();break}catch(i){toe(e,i)}while(!0);if(q8(),Yr=r,RC.current=n,qo!==null)throw Error(Kt(261));return vs=null,Wa=0,da}function NKe(){for(;qo!==null;)noe(qo)}function RKe(){for(;qo!==null&&!gKe();)noe(qo)}function noe(e){var t=aoe(e.alternate,e,Eg);e.memoizedProps=e.pendingProps,t===null?ioe(e):qo=t,Z8.current=null}function ioe(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=IKe(r,t,Eg),r!==null){qo=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Eg&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=TKe(t),r!==null){r.flags&=2047,qo=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){qo=t;return}qo=t=e}while(t!==null);da===0&&(da=5)}function mg(e){var t=E0();return Sg(99,LKe.bind(null,e,t)),null}function LKe(e,t){do gh();while(dw!==null);if((Yr&48)!==0)throw Error(Kt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Kt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var l=e.eventTimes,d=e.expirationTimes;0<o;){var g=31-ph(o),_=1<<g;i[g]=0,l[g]=-1,d[g]=-1,o&=~_}if(Mf!==null&&(n&24)===0&&Mf.has(e)&&Mf.delete(e),e===vs&&(qo=vs=null,Wa=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Yr,Yr|=32,Z8.current=null,dq=aC,l=Wre(),Fq(l)){if("selectionStart"in l)d={start:l.selectionStart,end:l.selectionEnd};else e:if(d=(d=l.ownerDocument)&&d.defaultView||window,(_=d.getSelection&&d.getSelection())&&_.rangeCount!==0){d=_.anchorNode,o=_.anchorOffset,g=_.focusNode,_=_.focusOffset;try{d.nodeType,g.nodeType}catch(we){d=null;break e}var E=0,T=-1,A=-1,L=0,z=0,U=l,N=null;t:for(;;){for(var R;U!==d||o!==0&&U.nodeType!==3||(T=E+o),U!==g||_!==0&&U.nodeType!==3||(A=E+_),U.nodeType===3&&(E+=U.nodeValue.length),(R=U.firstChild)!==null;)N=U,U=R;for(;;){if(U===l)break t;if(N===d&&++L===o&&(T=E),N===g&&++z===_&&(A=E),(R=U.nextSibling)!==null)break;U=N,N=U.parentNode}U=R}d=T===-1||A===-1?null:{start:T,end:A}}else d=null;d=d||{start:0,end:0}}else d=null;hq={focusedElem:l,selectionRange:d},aC=!1,mw=null,dC=!1,dr=n;do try{qKe()}catch(we){if(dr===null)throw Error(Kt(330));uh(dr,we),dr=dr.nextEffect}while(dr!==null);mw=null,dr=n;do try{for(l=e;dr!==null;){var j=dr.flags;if(j&16&&vw(dr.stateNode,""),j&128){var H=dr.alternate;if(H!==null){var Y=H.ref;Y!==null&&(typeof Y=="function"?Y(null):Y.current=null)}}switch(j&1038){case 2:One(dr),dr.flags&=-3;break;case 6:One(dr),dr.flags&=-3,xq(dr.alternate,dr);break;case 1024:dr.flags&=-1025;break;case 1028:dr.flags&=-1025,xq(dr.alternate,dr);break;case 4:xq(dr.alternate,dr);break;case 8:d=dr,Xie(l,d);var re=d.alternate;Ane(d),re!==null&&Ane(re)}dr=dr.nextEffect}}catch(we){if(dr===null)throw Error(Kt(330));uh(dr,we),dr=dr.nextEffect}while(dr!==null);if(Y=hq,H=Wre(),j=Y.focusedElem,l=Y.selectionRange,H!==j&&j&&j.ownerDocument&&mie(j.ownerDocument.documentElement,j)){for(l!==null&&Fq(j)&&(H=l.start,Y=l.end,Y===void 0&&(Y=H),"selectionStart"in j?(j.selectionStart=H,j.selectionEnd=Math.min(Y,j.value.length)):(Y=(H=j.ownerDocument||document)&&H.defaultView||window,Y.getSelection&&(Y=Y.getSelection(),d=j.textContent.length,re=Math.min(l.start,d),l=l.end===void 0?re:Math.min(l.end,d),!Y.extend&&re>l&&(d=l,l=re,re=d),d=Hre(j,re),o=Hre(j,l),d&&o&&(Y.rangeCount!==1||Y.anchorNode!==d.node||Y.anchorOffset!==d.offset||Y.focusNode!==o.node||Y.focusOffset!==o.offset)&&(H=H.createRange(),H.setStart(d.node,d.offset),Y.removeAllRanges(),re>l?(Y.addRange(H),Y.extend(o.node,o.offset)):(H.setEnd(o.node,o.offset),Y.addRange(H)))))),H=[],Y=j;Y=Y.parentNode;)Y.nodeType===1&&H.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<H.length;j++)Y=H[j],Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}aC=!!dq,hq=dq=null,e.current=r,dr=n;do try{for(j=e;dr!==null;){var ie=dr.flags;if(ie&36&&PKe(j,dr.alternate,dr),ie&128){H=void 0;var le=dr.ref;if(le!==null){var Me=dr.stateNode;switch(dr.tag){case 5:H=Me;break;default:H=Me}typeof le=="function"?le(H):le.current=H}}dr=dr.nextEffect}}catch(we){if(dr===null)throw Error(Kt(330));uh(dr,we),dr=dr.nextEffect}while(dr!==null);dr=null,yKe(),Yr=i}else e.current=r;if(dh)dh=!1,dw=e,rw=t;else for(dr=n;dr!==null;)t=dr.nextEffect,dr.nextEffect=null,dr.flags&8&&(ie=dr,ie.sibling=null,ie.stateNode=null),dr=t;if(n=e.pendingLanes,n===0&&(rp=null),n===1?e===u8?hw++:(hw=0,u8=e):hw=0,r=r.stateNode,xg&&typeof xg.onCommitFiberRoot=="function")try{xg.onCommitFiberRoot(R8,r,void 0,(r.current.flags&64)===64)}catch(we){}if(iu(e,Ha()),LC)throw LC=!1,e=a8,a8=null,e;return(Yr&8)!==0||op(),null}function qKe(){for(;dr!==null;){var e=dr.alternate;dC||mw===null||((dr.flags&8)!==0?Dre(dr,mw)&&(dC=!0):dr.tag===13&&OKe(e,dr)&&Dre(dr,mw)&&(dC=!0));var t=dr.flags;(t&256)!==0&&AKe(e,dr),(t&512)===0||dh||(dh=!0,Iw(97,function(){return gh(),null})),dr=dr.nextEffect}}function gh(){if(rw!==90){var e=97<rw?97:rw;return rw=90,Sg(e,jKe)}return!1}function zKe(e,t){s8.push(t,e),dh||(dh=!0,Iw(97,function(){return gh(),null}))}function ooe(e,t){l8.push(t,e),dh||(dh=!0,Iw(97,function(){return gh(),null}))}function jKe(){if(dw===null)return!1;var e=dw;if(dw=null,(Yr&48)!==0)throw Error(Kt(331));var t=Yr;Yr|=32;var r=l8;l8=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],l=i.destroy;if(i.destroy=void 0,typeof l=="function")try{l()}catch(g){if(o===null)throw Error(Kt(330));uh(o,g)}}for(r=s8,s8=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var d=i.create;i.destroy=d()}catch(g){if(o===null)throw Error(Kt(330));uh(o,g)}}for(d=e.current.firstEffect;d!==null;)e=d.nextEffect,d.nextEffect=null,d.flags&8&&(d.sibling=null,d.stateNode=null),d=e;return Yr=t,op(),!0}function Dne(e,t,r){t=W8(r,t),t=Yie(e,t,1),ah(e,t),t=Ml(),e=KC(e,1),e!==null&&(UC(e,1,t),iu(e,t))}function uh(e,t){if(e.tag===3)Dne(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){Dne(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rp===null||!rp.has(n))){e=W8(t,e);var i=Kie(r,e,1);if(ah(r,i),i=Ml(),r=KC(r,1),r!==null)UC(r,1,i),iu(r,i);else if(typeof n.componentDidCatch=="function"&&(rp===null||!rp.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function FKe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ml(),e.pingedLanes|=e.suspendedLanes&r,vs===e&&(Wa&r)===r&&(da===4||da===3&&(Wa&62914560)===Wa&&500>Ha()-K8?b0(e,0):Y8|=r),iu(e,t)}function BKe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=E0()===99?1:2:(Ef===0&&(Ef=C0),t=o0(62914560&~Ef),t===0&&(t=4194304))),r=Ml(),e=KC(e,t),e!==null&&(UC(e,t,r),iu(e,r))}var aoe;aoe=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||Bs.current)Zu=!0;else if((r&n)!==0)Zu=(e.flags&16384)!==0;else{switch(Zu=!1,t.tag){case 3:_ne(t),yq();break;case 5:cne(t);break;case 1:Us(t.type)&&uC(t);break;case 4:Zq(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Yi(EC,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?bne(e,t,r):(Yi(Zi,Zi.current&1),t=Tf(e,t,r),t!==null?t.sibling:null);Yi(Zi,Zi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return Ine(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yi(Zi,Zi.current),n)break;return null;case 23:case 24:return t.lanes=0,_q(e,t,r)}return Tf(e,t,r)}}else Zu=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=S0(t,Za.current),v0(t,r),i=V8(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(n)){var o=!0;uC(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j8(t);var l=n.getDerivedStateFromProps;typeof l=="function"&&MC(t,n,l,e),i.updater=ZC,t.stateNode=i,i._reactInternals=t,Wq(t,n,e,r),t=Qq(null,t,n,!0,o,r)}else t.tag=0,Fs(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=VKe(i),e=Wu(i,e),o){case 0:t=Xq(null,t,i,e,r);break e;case 1:t=yne(null,t,i,e,r);break e;case 11:t=gne(null,t,i,e,r);break e;case 14:t=vne(null,t,i,Wu(i.type,e),n,r);break e}throw Error(Kt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wu(n,i),Xq(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wu(n,i),yne(e,t,n,i,r);case 3:if(_ne(t),n=t.updateQueue,e===null||n===null)throw Error(Kt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,Oie(e,t),Tw(t,n,null,r),n=t.memoizedState.element,n===i)yq(),t=Tf(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(th=g0(t.stateNode.containerInfo.firstChild),If=t,o=ip=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],y0.push(o);for(r=Rie(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Fs(e,t,n,r),yq();t=t.child}return t;case 5:return cne(t),e===null&&Yq(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Vq(n,i)?l=null:o!==null&&Vq(n,o)&&(t.flags|=16),Gie(e,t),Fs(e,t,l,r),t.child;case 6:return e===null&&Yq(t),null;case 13:return bne(e,t,r);case 4:return Zq(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=CC(t,null,n,r):Fs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wu(n,i),gne(e,t,n,i,r);case 7:return Fs(e,t,t.pendingProps,r),t.child;case 8:return Fs(e,t,t.pendingProps.children,r),t.child;case 12:return Fs(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value;var d=t.type._context;if(Yi(EC,d._currentValue),d._currentValue=o,l!==null)if(d=l.value,o=eu(d,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(d,o):1073741823)|0,o===0){if(l.children===i.children&&!Bs.current){t=Tf(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){l=d.child;for(var _=g.firstContext;_!==null;){if(_.context===n&&(_.observedBits&o)!==0){d.tag===1&&(_=oh(-1,r&-r),_.tag=2,ah(d,_)),d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Pie(d.return,r),g.lanes|=r;break}_=_.next}}else l=d.tag===10&&d.type===t.type?null:d.child;if(l!==null)l.return=d;else for(l=d;l!==null;){if(l===t){l=null;break}if(d=l.sibling,d!==null){d.return=l.return,l=d;break}l=l.return}d=l}Fs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,v0(t,r),i=nu(i,o.unstable_observedBits),n=n(i),t.flags|=1,Fs(e,t,n,r),t.child;case 14:return i=t.type,o=Wu(i,t.pendingProps),o=Wu(i.type,o),vne(e,t,i,o,n,r);case 15:return $ie(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wu(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Us(n)?(e=!0,uC(t)):e=!1,v0(t,r),Die(t,n,i),Wq(t,n,i,r),Qq(null,t,n,!0,e,r);case 19:return Ine(e,t,r);case 23:return _q(e,t,r);case 24:return _q(e,t,r)}throw Error(Kt(156,t.tag))};function UKe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function tu(e,t,r,n){return new UKe(e,t,r,n)}function Q8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VKe(e){if(typeof e=="function")return Q8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jC)return 11;if(e===FC)return 14}return 2}function hh(e,t){var r=e.alternate;return r===null?(r=tu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hC(e,t,r,n,i,o){var l=2;if(n=e,typeof e=="function")Q8(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Qd:return x0(r.children,i,o,t);case Lne:l=8,i|=16;break;case h8:l=8,i|=1;break;case iw:return e=tu(12,r,t,i|8),e.elementType=iw,e.type=iw,e.lanes=o,e;case ow:return e=tu(13,r,t,i),e.type=ow,e.elementType=ow,e.lanes=o,e;case mC:return e=tu(19,r,t,i),e.elementType=mC,e.lanes=o,e;case b8:return J8(r,i,o,t);case Iq:return e=tu(24,r,t,i),e.elementType=Iq,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m8:l=10;break e;case g8:l=9;break e;case jC:l=11;break e;case FC:l=14;break e;case v8:l=16,n=null;break e;case y8:l=22;break e}throw Error(Kt(130,e==null?e:typeof e,""))}return t=tu(l,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function x0(e,t,r,n){return e=tu(7,e,n,t),e.lanes=r,e}function J8(e,t,r,n){return e=tu(23,e,n,t),e.elementType=b8,e.lanes=r,e}function wq(e,t,r){return e=tu(6,e,null,t),e.lanes=r,e}function Sq(e,t,r){return t=tu(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Ke(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=sq(0),this.expirationTimes=sq(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sq(0),this.mutableSourceEagerHydrationData=null}function GKe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qC(e,t,r,n){var i=t.current,o=Ml(),l=sh(i);e:if(r){r=r._reactInternals;t:{if(Mg(r)!==r||r.tag!==1)throw Error(Kt(170));var d=r;do{switch(d.tag){case 3:d=d.stateNode.context;break t;case 1:if(Us(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break t}}d=d.return}while(d!==null);throw Error(Kt(171))}if(r.tag===1){var g=r.type;if(Us(g)){r=Sie(r,g,d);break e}}r=d}else r=fh;return t.context===null?t.context=r:t.pendingContext=r,t=oh(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ah(i,t),lh(i,l,o),l}function Eq(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nne(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function e7(e,t){Nne(e,t),(e=e.alternate)&&Nne(e,t)}function HKe(){return null}function t7(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new $Ke(e,t,r!=null&&r.hydrate===!0),t=tu(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,j8(t),e[M0]=r.current,yie(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}t7.prototype.render=function(e){qC(e,this._internalRoot,null,null)};t7.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;qC(null,e,null,function(){t[M0]=null})};function Nw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WKe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new t7(e,0,t?{hydrate:!0}:void 0)}function XC(e,t,r,n,i){var o=r._reactRootContainer;if(o){var l=o._internalRoot;if(typeof i=="function"){var d=i;i=function(){var _=Eq(l);d.call(_)}}qC(t,l,e,i)}else{if(o=r._reactRootContainer=WKe(r,n),l=o._internalRoot,typeof i=="function"){var g=i;i=function(){var _=Eq(l);g.call(_)}}eoe(function(){qC(t,l,e,i)})}return Eq(l)}Xne=function(e){if(e.tag===13){var t=Ml();lh(e,4,t),e7(e,4)}};I8=function(e){if(e.tag===13){var t=Ml();lh(e,67108864,t),e7(e,67108864)}};Qne=function(e){if(e.tag===13){var t=Ml(),r=sh(e);lh(e,r,t),e7(e,r)}};Jne=function(e,t){return t()};Rq=function(e,t,r){switch(t){case"input":if(Mq(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=HC(n);if(!i)throw Error(Kt(90));zne(n),Mq(n,i)}}}break;case"textarea":Fne(e,r);break;case"select":t=r.value,t!=null&&d0(e,!!r.multiple,t,!1)}};w8=Jie;Wne=function(e,t,r,n,i){var o=Yr;Yr|=4;try{return Sg(98,e.bind(null,t,r,n,i))}finally{Yr=o,Yr===0&&(P0(),op())}};S8=function(){(Yr&49)===0&&(DKe(),gh())};Zne=function(e,t){var r=Yr;Yr|=2;try{return e(t)}finally{Yr=r,Yr===0&&(P0(),op())}};function soe(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nw(t))throw Error(Kt(200));return GKe(e,t,null,r)}var ZKe={Events:[Ow,u0,HC,Gne,Hne,gh,{current:!1}]},Xx={findFiberByHostInstance:yg,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},YKe={bundleType:Xx.bundleType,version:Xx.version,rendererPackageName:Xx.rendererPackageName,rendererConfig:Xx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kne(e),e===null?null:e.stateNode},findFiberByHostInstance:Xx.findFiberByHostInstance||HKe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Qx=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Qx.isDisabled&&Qx.supportsFiber))try{R8=Qx.inject(YKe),xg=Qx}catch(e){}var Qx;ou.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZKe;ou.createPortal=soe;ou.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Kt(188)):Error(Kt(268,Object.keys(e)));return e=Kne(t),e=e===null?null:e.stateNode,e};ou.flushSync=function(e,t){var r=Yr;if((r&48)!==0)return e(t);Yr|=1;try{if(e)return Sg(99,e.bind(null,t))}finally{Yr=r,op()}};ou.hydrate=function(e,t,r){if(!Nw(t))throw Error(Kt(200));return XC(null,e,t,!0,r)};ou.render=function(e,t,r){if(!Nw(t))throw Error(Kt(200));return XC(null,e,t,!1,r)};ou.unmountComponentAtNode=function(e){if(!Nw(e))throw Error(Kt(40));return e._reactRootContainer?(eoe(function(){XC(null,null,e,!1,function(){e._reactRootContainer=null,e[M0]=null})}),!0):!1};ou.unstable_batchedUpdates=Jie;ou.unstable_createPortal=function(e,t){return soe(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ou.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nw(r))throw Error(Kt(200));if(e==null||e._reactInternals===void 0)throw Error(Kt(38));return XC(e,t,r,!1,n)};ou.version="17.0.2"});var Ki=P((E0r,coe)=>{"use strict";p();function uoe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uoe)}catch(e){console.error(e)}}uoe(),coe.exports=loe()});var Xt=P((r7,poe)=>{"use strict";p();var Rw=function(e){return e&&e.Math===Math&&e};poe.exports=Rw(typeof globalThis=="object"&&globalThis)||Rw(typeof window=="object"&&window)||Rw(typeof self=="object"&&self)||Rw(typeof global=="object"&&global)||Rw(typeof r7=="object"&&r7)||function(){return this}()||Function("return this")()});var Ot=P((M0r,foe)=>{"use strict";p();foe.exports=function(e){try{return!!e()}catch(t){return!0}}});var br=P((A0r,doe)=>{"use strict";p();var KKe=Ot();doe.exports=!KKe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var O0=P((O0r,hoe)=>{"use strict";p();var XKe=Ot();hoe.exports=!XKe(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Qt=P((D0r,moe)=>{"use strict";p();var QKe=O0(),QC=Function.prototype.call;moe.exports=QKe?QC.bind(QC):function(){return QC.apply(QC,arguments)}});var Lw=P(yoe=>{"use strict";p();var goe={}.propertyIsEnumerable,voe=Object.getOwnPropertyDescriptor,JKe=voe&&!goe.call({1:2},1);yoe.f=JKe?function(t){var r=voe(this,t);return!!r&&r.enumerable}:goe});var Vs=P((q0r,_oe)=>{"use strict";p();_oe.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var xt=P((j0r,woe)=>{"use strict";p();var boe=O0(),xoe=Function.prototype,n7=xoe.call,eXe=boe&&xoe.bind.bind(n7,n7);woe.exports=boe?eXe:function(e){return function(){return n7.apply(e,arguments)}}});var ma=P((B0r,Eoe)=>{"use strict";p();var Soe=xt(),tXe=Soe({}.toString),rXe=Soe("".slice);Eoe.exports=function(e){return rXe(tXe(e),8,-1)}});var Af=P((V0r,Ioe)=>{"use strict";p();var nXe=xt(),iXe=Ot(),oXe=ma(),i7=Object,aXe=nXe("".split);Ioe.exports=iXe(function(){return!i7("z").propertyIsEnumerable(0)})?function(e){return oXe(e)==="String"?aXe(e,""):i7(e)}:i7});var $s=P((G0r,Toe)=>{"use strict";p();Toe.exports=function(e){return e==null}});var fi=P((W0r,Moe)=>{"use strict";p();var sXe=$s(),lXe=TypeError;Moe.exports=function(e){if(sXe(e))throw new lXe("Can't call method on "+e);return e}});var So=P((Y0r,Coe)=>{"use strict";p();var uXe=Af(),cXe=fi();Coe.exports=function(e){return uXe(cXe(e))}});var Kr=P((X0r,Aoe)=>{"use strict";p();var o7=typeof document=="object"&&document.all;Aoe.exports=typeof o7=="undefined"&&o7!==void 0?function(e){return typeof e=="function"||e===o7}:function(e){return typeof e=="function"}});var Cr=P((J0r,Poe)=>{"use strict";p();var pXe=Kr();Poe.exports=function(e){return typeof e=="object"?e!==null:pXe(e)}});var Nr=P((t1r,Ooe)=>{"use strict";p();var a7=Xt(),fXe=Kr(),dXe=function(e){return fXe(e)?e:void 0};Ooe.exports=function(e,t){return arguments.length<2?dXe(a7[e]):a7[e]&&a7[e][t]}});var ga=P((n1r,koe)=>{"use strict";p();var hXe=xt();koe.exports=hXe({}.isPrototypeOf)});var Yu=P((o1r,Roe)=>{"use strict";p();var mXe=Xt(),Doe=mXe.navigator,Noe=Doe&&Doe.userAgent;Roe.exports=Noe?String(Noe):""});var Xu=P((s1r,Boe)=>{"use strict";p();var Foe=Xt(),s7=Yu(),Loe=Foe.process,qoe=Foe.Deno,zoe=Loe&&Loe.versions||qoe&&qoe.version,joe=zoe&&zoe.v8,Ku,JC;joe&&(Ku=joe.split("."),JC=Ku[0]>0&&Ku[0]<4?1:+(Ku[0]+Ku[1]));!JC&&s7&&(Ku=s7.match(/Edge\/(\d+)/),(!Ku||Ku[1]>=74)&&(Ku=s7.match(/Chrome\/(\d+)/),Ku&&(JC=+Ku[1])));Boe.exports=JC});var vh=P((u1r,Voe)=>{"use strict";p();var Uoe=Xu(),gXe=Ot(),vXe=Xt(),yXe=vXe.String;Voe.exports=!!Object.getOwnPropertySymbols&&!gXe(function(){var e=Symbol("symbol detection");return!yXe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Uoe&&Uoe<41})});var l7=P((p1r,$oe)=>{"use strict";p();var _Xe=vh();$oe.exports=_Xe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Pf=P((d1r,Goe)=>{"use strict";p();var bXe=Nr(),xXe=Kr(),wXe=ga(),SXe=l7(),EXe=Object;Goe.exports=SXe?function(e){return typeof e=="symbol"}:function(e){var t=bXe("Symbol");return xXe(t)&&wXe(t.prototype,EXe(e))}});var yh=P((m1r,Hoe)=>{"use strict";p();var IXe=String;Hoe.exports=function(e){try{return IXe(e)}catch(t){return"Object"}}});var Rr=P((v1r,Woe)=>{"use strict";p();var TXe=Kr(),MXe=yh(),CXe=TypeError;Woe.exports=function(e){if(TXe(e))return e;throw new CXe(MXe(e)+" is not a function")}});var Xi=P((_1r,Zoe)=>{"use strict";p();var AXe=Rr(),PXe=$s();Zoe.exports=function(e,t){var r=e[t];return PXe(r)?void 0:AXe(r)}});var f7=P((x1r,Yoe)=>{"use strict";p();var u7=Qt(),c7=Kr(),p7=Cr(),OXe=TypeError;Yoe.exports=function(e,t){var r,n;if(t==="string"&&c7(r=e.toString)&&!p7(n=u7(r,e))||c7(r=e.valueOf)&&!p7(n=u7(r,e))||t!=="string"&&c7(r=e.toString)&&!p7(n=u7(r,e)))return n;throw new OXe("Can't convert object to primitive value")}});var An=P((S1r,Koe)=>{"use strict";p();Koe.exports=!1});var eA=P((I1r,Qoe)=>{"use strict";p();var Xoe=Xt(),kXe=Object.defineProperty;Qoe.exports=function(e,t){try{kXe(Xoe,e,{value:t,configurable:!0,writable:!0})}catch(r){Xoe[e]=t}return t}});var qw=P((M1r,tae)=>{"use strict";p();var DXe=An(),NXe=Xt(),RXe=eA(),Joe="__core-js_shared__",eae=tae.exports=NXe[Joe]||RXe(Joe,{});(eae.versions||(eae.versions=[])).push({version:"3.42.0",mode:DXe?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Of=P((A1r,nae)=>{"use strict";p();var rae=qw();nae.exports=function(e,t){return rae[e]||(rae[e]=t||{})}});var pn=P((O1r,iae)=>{"use strict";p();var LXe=fi(),qXe=Object;iae.exports=function(e){return qXe(LXe(e))}});var en=P((D1r,oae)=>{"use strict";p();var zXe=xt(),jXe=pn(),FXe=zXe({}.hasOwnProperty);oae.exports=Object.hasOwn||function(t,r){return FXe(jXe(t),r)}});var _h=P((R1r,aae)=>{"use strict";p();var BXe=xt(),UXe=0,VXe=Math.random(),$Xe=BXe(1 .toString);aae.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+$Xe(++UXe+VXe,36)}});var Or=P((q1r,lae)=>{"use strict";p();var GXe=Xt(),HXe=Of(),sae=en(),WXe=_h(),ZXe=vh(),YXe=l7(),k0=GXe.Symbol,d7=HXe("wks"),KXe=YXe?k0.for||k0:k0&&k0.withoutSetter||WXe;lae.exports=function(e){return sae(d7,e)||(d7[e]=ZXe&&sae(k0,e)?k0[e]:KXe("Symbol."+e)),d7[e]}});var zw=P((j1r,pae)=>{"use strict";p();var XXe=Qt(),uae=Cr(),cae=Pf(),QXe=Xi(),JXe=f7(),eQe=Or(),tQe=TypeError,rQe=eQe("toPrimitive");pae.exports=function(e,t){if(!uae(e)||cae(e))return e;var r=QXe(e,rQe),n;if(r){if(t===void 0&&(t="default"),n=XXe(r,e,t),!uae(n)||cae(n))return n;throw new tQe("Can't convert object to primitive value")}return t===void 0&&(t="number"),JXe(e,t)}});var ap=P((B1r,fae)=>{"use strict";p();var nQe=zw(),iQe=Pf();fae.exports=function(e){var t=nQe(e,"string");return iQe(t)?t:t+""}});var jw=P((V1r,hae)=>{"use strict";p();var oQe=Xt(),dae=Cr(),h7=oQe.document,aQe=dae(h7)&&dae(h7.createElement);hae.exports=function(e){return aQe?h7.createElement(e):{}}});var m7=P((G1r,mae)=>{"use strict";p();var sQe=br(),lQe=Ot(),uQe=jw();mae.exports=!sQe&&!lQe(function(){return Object.defineProperty(uQe("div"),"a",{get:function(){return 7}}).a!==7})});var Yo=P(vae=>{"use strict";p();var cQe=br(),pQe=Qt(),fQe=Lw(),dQe=Vs(),hQe=So(),mQe=ap(),gQe=en(),vQe=m7(),gae=Object.getOwnPropertyDescriptor;vae.f=cQe?gae:function(t,r){if(t=hQe(t),r=mQe(r),vQe)try{return gae(t,r)}catch(n){}if(gQe(t,r))return dQe(!pQe(fQe.f,t,r),t[r])}});var g7=P((Y1r,yae)=>{"use strict";p();var yQe=br(),_Qe=Ot();yae.exports=yQe&&_Qe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var er=P((X1r,_ae)=>{"use strict";p();var bQe=Cr(),xQe=String,wQe=TypeError;_ae.exports=function(e){if(bQe(e))return e;throw new wQe(xQe(e)+" is not an object")}});var ci=P(xae=>{"use strict";p();var SQe=br(),EQe=m7(),IQe=g7(),tA=er(),bae=ap(),TQe=TypeError,v7=Object.defineProperty,MQe=Object.getOwnPropertyDescriptor,y7="enumerable",_7="configurable",b7="writable";xae.f=SQe?IQe?function(t,r,n){if(tA(t),r=bae(r),tA(n),typeof t=="function"&&r==="prototype"&&"value"in n&&b7 in n&&!n[b7]){var i=MQe(t,r);i&&i[b7]&&(t[r]=n.value,n={configurable:_7 in n?n[_7]:i[_7],enumerable:y7 in n?n[y7]:i[y7],writable:!1})}return v7(t,r,n)}:v7:function(t,r,n){if(tA(t),r=bae(r),tA(n),EQe)try{return v7(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new TQe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var Eo=P((t_r,wae)=>{"use strict";p();var CQe=br(),AQe=ci(),PQe=Vs();wae.exports=CQe?function(e,t,r){return AQe.f(e,t,PQe(1,r))}:function(e,t,r){return e[t]=r,e}});var Ag=P((n_r,Eae)=>{"use strict";p();var x7=br(),OQe=en(),Sae=Function.prototype,kQe=x7&&Object.getOwnPropertyDescriptor,w7=OQe(Sae,"name"),DQe=w7&&function(){}.name==="something",NQe=w7&&(!x7||x7&&kQe(Sae,"name").configurable);Eae.exports={EXISTS:w7,PROPER:DQe,CONFIGURABLE:NQe}});var Fw=P((o_r,Iae)=>{"use strict";p();var RQe=xt(),LQe=Kr(),S7=qw(),qQe=RQe(Function.toString);LQe(S7.inspectSource)||(S7.inspectSource=function(e){return qQe(e)});Iae.exports=S7.inspectSource});var E7=P((s_r,Mae)=>{"use strict";p();var zQe=Xt(),jQe=Kr(),Tae=zQe.WeakMap;Mae.exports=jQe(Tae)&&/native code/.test(String(Tae))});var Bw=P((u_r,Aae)=>{"use strict";p();var FQe=Of(),BQe=_h(),Cae=FQe("keys");Aae.exports=function(e){return Cae[e]||(Cae[e]=BQe(e))}});var D0=P((p_r,Pae)=>{"use strict";p();Pae.exports={}});var Un=P((d_r,Dae)=>{"use strict";p();var UQe=E7(),kae=Xt(),VQe=Cr(),$Qe=Eo(),I7=en(),T7=qw(),GQe=Bw(),HQe=D0(),Oae="Object already initialized",M7=kae.TypeError,WQe=kae.WeakMap,rA,Uw,nA,ZQe=function(e){return nA(e)?Uw(e):rA(e,{})},YQe=function(e){return function(t){var r;if(!VQe(t)||(r=Uw(t)).type!==e)throw new M7("Incompatible receiver, "+e+" required");return r}};UQe||T7.state?(Qu=T7.state||(T7.state=new WQe),Qu.get=Qu.get,Qu.has=Qu.has,Qu.set=Qu.set,rA=function(e,t){if(Qu.has(e))throw new M7(Oae);return t.facade=e,Qu.set(e,t),t},Uw=function(e){return Qu.get(e)||{}},nA=function(e){return Qu.has(e)}):(Pg=GQe("state"),HQe[Pg]=!0,rA=function(e,t){if(I7(e,Pg))throw new M7(Oae);return t.facade=e,$Qe(e,Pg,t),t},Uw=function(e){return I7(e,Pg)?e[Pg]:{}},nA=function(e){return I7(e,Pg)});var Qu,Pg;Dae.exports={set:rA,get:Uw,has:nA,enforce:ZQe,getterFor:YQe}});var Vw=P((m_r,Lae)=>{"use strict";p();var A7=xt(),KQe=Ot(),XQe=Kr(),iA=en(),C7=br(),QQe=Ag().CONFIGURABLE,JQe=Fw(),Rae=Un(),eJe=Rae.enforce,tJe=Rae.get,Nae=String,oA=Object.defineProperty,rJe=A7("".slice),nJe=A7("".replace),iJe=A7([].join),oJe=C7&&!KQe(function(){return oA(function(){},"length",{value:8}).length!==8}),aJe=String(String).split("String"),sJe=Lae.exports=function(e,t,r){rJe(Nae(t),0,7)==="Symbol("&&(t="["+nJe(Nae(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!iA(e,"name")||QQe&&e.name!==t)&&(C7?oA(e,"name",{value:t,configurable:!0}):e.name=t),oJe&&r&&iA(r,"arity")&&e.length!==r.arity&&oA(e,"length",{value:r.arity});try{r&&iA(r,"constructor")&&r.constructor?C7&&oA(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=eJe(e);return iA(n,"source")||(n.source=iJe(aJe,typeof t=="string"?t:"")),e};Function.prototype.toString=sJe(function(){return XQe(this)&&tJe(this).source||JQe(this)},"toString")});var Zn=P((v_r,qae)=>{"use strict";p();var lJe=Kr(),uJe=ci(),cJe=Vw(),pJe=eA();qae.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(lJe(r)&&cJe(r,o,n),n.global)i?e[t]=r:pJe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(l){}i?e[t]=r:uJe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var P7=P((__r,zae)=>{"use strict";p();var fJe=Math.ceil,dJe=Math.floor;zae.exports=Math.trunc||function(t){var r=+t;return(r>0?dJe:fJe)(r)}});var bi=P((x_r,jae)=>{"use strict";p();var hJe=P7();jae.exports=function(e){var t=+e;return t!==t||t===0?0:hJe(t)}});var Ju=P((S_r,Fae)=>{"use strict";p();var mJe=bi(),gJe=Math.max,vJe=Math.min;Fae.exports=function(e,t){var r=mJe(e);return r<0?gJe(r+t,0):vJe(r,t)}});var Gs=P((I_r,Bae)=>{"use strict";p();var yJe=bi(),_Je=Math.min;Bae.exports=function(e){var t=yJe(e);return t>0?_Je(t,9007199254740991):0}});var _n=P((M_r,Uae)=>{"use strict";p();var bJe=Gs();Uae.exports=function(e){return bJe(e.length)}});var N0=P((A_r,$ae)=>{"use strict";p();var xJe=So(),wJe=Ju(),SJe=_n(),Vae=function(e){return function(t,r,n){var i=xJe(t),o=SJe(i);if(o===0)return!e&&-1;var l=wJe(n,o),d;if(e&&r!==r){for(;o>l;)if(d=i[l++],d!==d)return!0}else for(;o>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}};$ae.exports={includes:Vae(!0),indexOf:Vae(!1)}});var k7=P((O_r,Hae)=>{"use strict";p();var EJe=xt(),O7=en(),IJe=So(),TJe=N0().indexOf,MJe=D0(),Gae=EJe([].push);Hae.exports=function(e,t){var r=IJe(e),n=0,i=[],o;for(o in r)!O7(MJe,o)&&O7(r,o)&&Gae(i,o);for(;t.length>n;)O7(r,o=t[n++])&&(~TJe(i,o)||Gae(i,o));return i}});var aA=P((D_r,Wae)=>{"use strict";p();Wae.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var bh=P(Zae=>{"use strict";p();var CJe=k7(),AJe=aA(),PJe=AJe.concat("length","prototype");Zae.f=Object.getOwnPropertyNames||function(t){return CJe(t,PJe)}});var $w=P(Yae=>{"use strict";p();Yae.f=Object.getOwnPropertySymbols});var sA=P((j_r,Kae)=>{"use strict";p();var OJe=Nr(),kJe=xt(),DJe=bh(),NJe=$w(),RJe=er(),LJe=kJe([].concat);Kae.exports=OJe("Reflect","ownKeys")||function(t){var r=DJe.f(RJe(t)),n=NJe.f;return n?LJe(r,n(t)):r}});var Og=P((B_r,Qae)=>{"use strict";p();var Xae=en(),qJe=sA(),zJe=Yo(),jJe=ci();Qae.exports=function(e,t,r){for(var n=qJe(t),i=jJe.f,o=zJe.f,l=0;l<n.length;l++){var d=n[l];!Xae(e,d)&&!(r&&Xae(r,d))&&i(e,d,o(t,d))}}});var R0=P((V_r,Jae)=>{"use strict";p();var FJe=Ot(),BJe=Kr(),UJe=/#|\.prototype\./,Gw=function(e,t){var r=$Je[VJe(e)];return r===HJe?!0:r===GJe?!1:BJe(t)?FJe(t):!!t},VJe=Gw.normalize=function(e){return String(e).replace(UJe,".").toLowerCase()},$Je=Gw.data={},GJe=Gw.NATIVE="N",HJe=Gw.POLYFILL="P";Jae.exports=Gw});var oe=P((G_r,ese)=>{"use strict";p();var lA=Xt(),WJe=Yo().f,ZJe=Eo(),YJe=Zn(),KJe=eA(),XJe=Og(),QJe=R0();ese.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,l,d,g,_,E;if(n?l=lA:i?l=lA[r]||KJe(r,{}):l=lA[r]&&lA[r].prototype,l)for(d in t){if(_=t[d],e.dontCallGetSet?(E=WJe(l,d),g=E&&E.value):g=l[d],o=QJe(n?d:r+(i?".":"#")+d,e.forced),!o&&g!==void 0){if(typeof _==typeof g)continue;XJe(_,g)}(e.sham||g&&g.sham)&&ZJe(_,"sham",!0),YJe(l,d,_,e)}}});var uA=P((W_r,rse)=>{"use strict";p();var JJe=Or(),eet=JJe("toStringTag"),tse={};tse[eet]="z";rse.exports=String(tse)==="[object z]"});var _s=P((Y_r,nse)=>{"use strict";p();var tet=uA(),ret=Kr(),cA=ma(),net=Or(),iet=net("toStringTag"),oet=Object,aet=cA(function(){return arguments}())==="Arguments",set=function(e,t){try{return e[t]}catch(r){}};nse.exports=tet?cA:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=set(t=oet(e),iet))=="string"?r:aet?cA(t):(n=cA(t))==="Object"&&ret(t.callee)?"Arguments":n}});var Br=P((X_r,ise)=>{"use strict";p();var uet=_s(),cet=String;ise.exports=function(e){if(uet(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return cet(e)}});var kg=P((J_r,ose)=>{"use strict";p();var pet=k7(),fet=aA();ose.exports=Object.keys||function(t){return pet(t,fet)}});var pA=P(ase=>{"use strict";p();var det=br(),het=g7(),met=ci(),get=er(),vet=So(),yet=kg();ase.f=det&&!het?Object.defineProperties:function(t,r){get(t);for(var n=vet(r),i=yet(r),o=i.length,l=0,d;o>l;)met.f(t,d=i[l++],n[d]);return t}});var D7=P((nbr,sse)=>{"use strict";p();var _et=Nr();sse.exports=_et("document","documentElement")});var Qi=P((obr,hse)=>{"use strict";p();var bet=er(),xet=pA(),lse=aA(),wet=D0(),Eet=D7(),Iet=jw(),Tet=Bw(),use=">",cse="<",R7="prototype",L7="script",fse=Tet("IE_PROTO"),N7=function(){},dse=function(e){return cse+L7+use+e+cse+"/"+L7+use},pse=function(e){e.write(dse("")),e.close();var t=e.parentWindow.Object;return e=null,t},Met=function(){var e=Iet("iframe"),t="java"+L7+":",r;return e.style.display="none",Eet.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(dse("document.F=Object")),r.close(),r.F},fA,dA=function(){try{fA=new ActiveXObject("htmlfile")}catch(t){}dA=typeof document!="undefined"?document.domain&&fA?pse(fA):Met():pse(fA);for(var e=lse.length;e--;)delete dA[R7][lse[e]];return dA()};wet[fse]=!0;hse.exports=Object.create||function(t,r){var n;return t!==null?(N7[R7]=bet(t),n=new N7,N7[R7]=null,n[fse]=t):n=dA(),r===void 0?n:xet.f(n,r)}});var Hs=P((sbr,mse)=>{"use strict";p();var Cet=xt();mse.exports=Cet([].slice)});var hA=P((ubr,yse)=>{"use strict";p();var Aet=ma(),Pet=So(),gse=bh().f,Oet=Hs(),vse=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ket=function(e){try{return gse(e)}catch(t){return Oet(vse)}};yse.exports.f=function(t){return vse&&Aet(t)==="Window"?ket(t):gse(Pet(t))}});var xi=P((pbr,bse)=>{"use strict";p();var _se=Vw(),Det=ci();bse.exports=function(e,t,r){return r.get&&_se(r.get,t,{getter:!0}),r.set&&_se(r.set,t,{setter:!0}),Det.f(e,t,r)}});var q7=P(xse=>{"use strict";p();var Net=Or();xse.f=Net});var mA=P((mbr,wse)=>{"use strict";p();var Ret=Xt();wse.exports=Ret});var qi=P((vbr,Ese)=>{"use strict";p();var Sse=mA(),Let=en(),qet=q7(),zet=ci().f;Ese.exports=function(e){var t=Sse.Symbol||(Sse.Symbol={});Let(t,e)||zet(t,e,{value:qet.f(e)})}});var z7=P((_br,Ise)=>{"use strict";p();var jet=Qt(),Fet=Nr(),Bet=Or(),Uet=Zn();Ise.exports=function(){var e=Fet("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=Bet("toPrimitive");t&&!t[n]&&Uet(t,n,function(i){return jet(r,this)},{arity:1})}});var bs=P((xbr,Mse)=>{"use strict";p();var Vet=ci().f,$et=en(),Get=Or(),Tse=Get("toStringTag");Mse.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!$et(e,Tse)&&Vet(e,Tse,{configurable:!0,value:t})}});var xh=P((Sbr,Cse)=>{"use strict";p();var Het=ma(),Wet=xt();Cse.exports=function(e){if(Het(e)==="Function")return Wet(e)}});var ti=P((Ibr,Pse)=>{"use strict";p();var Ase=xh(),Zet=Rr(),Yet=O0(),Ket=Ase(Ase.bind);Pse.exports=function(e,t){return Zet(e),t===void 0?e:Yet?Ket(e,t):function(){return e.apply(t,arguments)}}});var ec=P((Mbr,Ose)=>{"use strict";p();var Xet=ma();Ose.exports=Array.isArray||function(t){return Xet(t)==="Array"}});var tc=P((Abr,Lse)=>{"use strict";p();var Qet=xt(),Jet=Ot(),kse=Kr(),ett=_s(),ttt=Nr(),rtt=Fw(),Dse=function(){},Nse=ttt("Reflect","construct"),j7=/^\s*(?:class|function)\b/,ntt=Qet(j7.exec),itt=!j7.test(Dse),Hw=function(t){if(!kse(t))return!1;try{return Nse(Dse,[],t),!0}catch(r){return!1}},Rse=function(t){if(!kse(t))return!1;switch(ett(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return itt||!!ntt(j7,rtt(t))}catch(r){return!0}};Rse.sham=!0;Lse.exports=!Nse||Jet(function(){var e;return Hw(Hw.call)||!Hw(Object)||!Hw(function(){e=!0})||e})?Rse:Hw});var Fse=P((Obr,jse)=>{"use strict";p();var qse=ec(),ott=tc(),att=Cr(),stt=Or(),ltt=stt("species"),zse=Array;jse.exports=function(e){var t;return qse(e)&&(t=e.constructor,ott(t)&&(t===zse||qse(t.prototype))?t=void 0:att(t)&&(t=t[ltt],t===null&&(t=void 0))),t===void 0?zse:t}});var L0=P((Dbr,Bse)=>{"use strict";p();var utt=Fse();Bse.exports=function(e,t){return new(utt(e))(t===0?0:t)}});var Ji=P((Rbr,Vse)=>{"use strict";p();var ctt=ti(),ptt=xt(),ftt=Af(),dtt=pn(),htt=_n(),mtt=L0(),Use=ptt([].push),wh=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,l=e===7,d=e===5||o;return function(g,_,E,T){for(var A=dtt(g),L=ftt(A),z=htt(L),U=ctt(_,E),N=0,R=T||mtt,j=t?R(g,z):r||l?R(g,0):void 0,H,Y;z>N;N++)if((d||N in L)&&(H=L[N],Y=U(H,N,A),e))if(t)j[N]=Y;else if(Y)switch(e){case 3:return!0;case 5:return H;case 6:return N;case 2:Use(j,H)}else switch(e){case 4:return!1;case 7:Use(j,H)}return o?-1:n||i?i:j}};Vse.exports={forEach:wh(0),map:wh(1),filter:wh(2),some:wh(3),every:wh(4),find:wh(5),findIndex:wh(6),filterReject:wh(7)}});var ale=P(()=>{"use strict";p();var gA=oe(),Yw=Xt(),Z7=Qt(),gtt=xt(),vtt=An(),q0=br(),z0=vh(),ytt=Ot(),Ko=en(),_tt=ga(),V7=er(),vA=So(),Y7=ap(),btt=Br(),$7=Vs(),j0=Qi(),Hse=kg(),xtt=bh(),Wse=hA(),wtt=$w(),Zse=Yo(),Yse=ci(),Stt=pA(),Kse=Lw(),F7=Zn(),Ett=xi(),K7=Of(),Itt=Bw(),Xse=D0(),$se=_h(),Ttt=Or(),Mtt=q7(),Ctt=qi(),Att=z7(),Ptt=bs(),Qse=Un(),yA=Ji().forEach,Ws=Itt("hidden"),_A="Symbol",Zw="prototype",Ott=Qse.set,Gse=Qse.getterFor(_A),au=Object[Zw],Dg=Yw.Symbol,Ww=Dg&&Dg[Zw],ktt=Yw.RangeError,Dtt=Yw.TypeError,B7=Yw.QObject,Jse=Zse.f,Ng=Yse.f,ele=Wse.f,Ntt=Kse.f,tle=gtt([].push),kf=K7("symbols"),Kw=K7("op-symbols"),Rtt=K7("wks"),G7=!B7||!B7[Zw]||!B7[Zw].findChild,rle=function(e,t,r){var n=Jse(au,t);n&&delete au[t],Ng(e,t,r),n&&e!==au&&Ng(au,t,n)},H7=q0&&ytt(function(){return j0(Ng({},"a",{get:function(){return Ng(this,"a",{value:7}).a}})).a!==7})?rle:Ng,U7=function(e,t){var r=kf[e]=j0(Ww);return Ott(r,{type:_A,tag:e,description:t}),q0||(r.description=t),r},bA=function(t,r,n){t===au&&bA(Kw,r,n),V7(t);var i=Y7(r);return V7(n),Ko(kf,i)?(n.enumerable?(Ko(t,Ws)&&t[Ws][i]&&(t[Ws][i]=!1),n=j0(n,{enumerable:$7(0,!1)})):(Ko(t,Ws)||Ng(t,Ws,$7(1,j0(null))),t[Ws][i]=!0),H7(t,i,n)):Ng(t,i,n)},X7=function(t,r){V7(t);var n=vA(r),i=Hse(n).concat(ole(n));return yA(i,function(o){(!q0||Z7(W7,n,o))&&bA(t,o,n[o])}),t},Ltt=function(t,r){return r===void 0?j0(t):X7(j0(t),r)},W7=function(t){var r=Y7(t),n=Z7(Ntt,this,r);return this===au&&Ko(kf,r)&&!Ko(Kw,r)?!1:n||!Ko(this,r)||!Ko(kf,r)||Ko(this,Ws)&&this[Ws][r]?n:!0},nle=function(t,r){var n=vA(t),i=Y7(r);if(!(n===au&&Ko(kf,i)&&!Ko(Kw,i))){var o=Jse(n,i);return o&&Ko(kf,i)&&!(Ko(n,Ws)&&n[Ws][i])&&(o.enumerable=!0),o}},ile=function(t){var r=ele(vA(t)),n=[];return yA(r,function(i){!Ko(kf,i)&&!Ko(Xse,i)&&tle(n,i)}),n},ole=function(e){var t=e===au,r=ele(t?Kw:vA(e)),n=[];return yA(r,function(i){Ko(kf,i)&&(!t||Ko(au,i))&&tle(n,kf[i])}),n};z0||(Dg=function(){if(_tt(Ww,this))throw new Dtt("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:btt(arguments[0]),r=$se(t),n=function(i){var o=this===void 0?Yw:this;o===au&&Z7(n,Kw,i),Ko(o,Ws)&&Ko(o[Ws],r)&&(o[Ws][r]=!1);var l=$7(1,i);try{H7(o,r,l)}catch(d){if(!(d instanceof ktt))throw d;rle(o,r,l)}};return q0&&G7&&H7(au,r,{configurable:!0,set:n}),U7(r,t)},Ww=Dg[Zw],F7(Ww,"toString",function(){return Gse(this).tag}),F7(Dg,"withoutSetter",function(e){return U7($se(e),e)}),Kse.f=W7,Yse.f=bA,Stt.f=X7,Zse.f=nle,xtt.f=Wse.f=ile,wtt.f=ole,Mtt.f=function(e){return U7(Ttt(e),e)},q0&&(Ett(Ww,"description",{configurable:!0,get:function(){return Gse(this).description}}),vtt||F7(au,"propertyIsEnumerable",W7,{unsafe:!0})));gA({global:!0,constructor:!0,wrap:!0,forced:!z0,sham:!z0},{Symbol:Dg});yA(Hse(Rtt),function(e){Ctt(e)});gA({target:_A,stat:!0,forced:!z0},{useSetter:function(){G7=!0},useSimple:function(){G7=!1}});gA({target:"Object",stat:!0,forced:!z0,sham:!q0},{create:Ltt,defineProperty:bA,defineProperties:X7,getOwnPropertyDescriptor:nle});gA({target:"Object",stat:!0,forced:!z0},{getOwnPropertyNames:ile});Att();Ptt(Dg,_A);Xse[Ws]=!0});var Q7=P((Fbr,sle)=>{"use strict";p();var qtt=vh();sle.exports=qtt&&!!Symbol.for&&!!Symbol.keyFor});var ule=P(()=>{"use strict";p();var ztt=oe(),jtt=Nr(),Ftt=en(),Btt=Br(),lle=Of(),Utt=Q7(),J7=lle("string-to-symbol-registry"),Vtt=lle("symbol-to-string-registry");ztt({target:"Symbol",stat:!0,forced:!Utt},{for:function(e){var t=Btt(e);if(Ftt(J7,t))return J7[t];var r=jtt("Symbol")(t);return J7[t]=r,Vtt[r]=t,r}})});var ple=P(()=>{"use strict";p();var $tt=oe(),Gtt=en(),Htt=Pf(),Wtt=yh(),Ztt=Of(),Ytt=Q7(),cle=Ztt("symbol-to-string-registry");$tt({target:"Symbol",stat:!0,forced:!Ytt},{keyFor:function(t){if(!Htt(t))throw new TypeError(Wtt(t)+" is not a symbol");if(Gtt(cle,t))return cle[t]}})});var va=P((Zbr,mle)=>{"use strict";p();var Ktt=O0(),hle=Function.prototype,fle=hle.apply,dle=hle.call;mle.exports=typeof Reflect=="object"&&Reflect.apply||(Ktt?dle.bind(fle):function(){return dle.apply(fle,arguments)})});var e9=P((Kbr,_le)=>{"use strict";p();var Xtt=xt(),gle=ec(),Qtt=Kr(),vle=ma(),Jtt=Br(),yle=Xtt([].push);_le.exports=function(e){if(Qtt(e))return e;if(gle(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?yle(r,i):(typeof i=="number"||vle(i)==="Number"||vle(i)==="String")&&yle(r,Jtt(i))}var o=r.length,l=!0;return function(d,g){if(l)return l=!1,g;if(gle(this))return g;for(var _=0;_<o;_++)if(r[_]===d)return g}}}});var t9=P(()=>{"use strict";p();var ert=oe(),Mle=Nr(),Cle=va(),trt=Qt(),Xw=xt(),Ale=Ot(),ble=Kr(),xle=Pf(),Ple=Hs(),rrt=e9(),nrt=vh(),irt=String,Sh=Mle("JSON","stringify"),xA=Xw(/./.exec),wle=Xw("".charAt),ort=Xw("".charCodeAt),art=Xw("".replace),srt=Xw(1 .toString),lrt=/[\uD800-\uDFFF]/g,Sle=/^[\uD800-\uDBFF]$/,Ele=/^[\uDC00-\uDFFF]$/,Ile=!nrt||Ale(function(){var e=Mle("Symbol")("stringify detection");return Sh([e])!=="[null]"||Sh({a:e})!=="{}"||Sh(Object(e))!=="{}"}),Tle=Ale(function(){return Sh("\uDF06\uD834")!=="\"\\udf06\\ud834\""||Sh("\uDEAD")!=="\"\\udead\""}),urt=function(e,t){var r=Ple(arguments),n=rrt(t);if(!(!ble(n)&&(e===void 0||xle(e))))return r[1]=function(i,o){if(ble(n)&&(o=trt(n,this,irt(i),o)),!xle(o))return o},Cle(Sh,null,r)},crt=function(e,t,r){var n=wle(r,t-1),i=wle(r,t+1);return xA(Sle,e)&&!xA(Ele,i)||xA(Ele,e)&&!xA(Sle,n)?"\\u"+srt(ort(e,0),16):e};Sh&&ert({target:"JSON",stat:!0,arity:3,forced:Ile||Tle},{stringify:function(t,r,n){var i=Ple(arguments),o=Cle(Ile?urt:Sh,null,i);return Tle&&typeof o=="string"?art(o,lrt,crt):o}})});var kle=P(()=>{"use strict";p();var prt=oe(),frt=vh(),drt=Ot(),Ole=$w(),hrt=pn(),mrt=!frt||drt(function(){Ole.f(1)});prt({target:"Object",stat:!0,forced:mrt},{getOwnPropertySymbols:function(t){var r=Ole.f;return r?r(hrt(t)):[]}})});var Dle=P(()=>{"use strict";p();ale();ule();ple();t9();kle()});var Fle=P(()=>{"use strict";p();var grt=oe(),vrt=br(),yrt=Xt(),wA=xt(),_rt=en(),brt=Kr(),xrt=ga(),wrt=Br(),Srt=xi(),Ert=Og(),Df=yrt.Symbol,Rg=Df&&Df.prototype;vrt&&brt(Df)&&(!("description"in Rg)||Df().description!==void 0)&&(r9={},Qw=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:wrt(arguments[0]),r=xrt(Rg,this)?new Df(t):t===void 0?Df():Df(t);return t===""&&(r9[r]=!0),r},Ert(Qw,Df),Qw.prototype=Rg,Rg.constructor=Qw,Nle=String(Df("description detection"))==="Symbol(description detection)",Rle=wA(Rg.valueOf),Lle=wA(Rg.toString),qle=/^Symbol\((.*)\)[^)]+$/,zle=wA("".replace),jle=wA("".slice),Srt(Rg,"description",{configurable:!0,get:function(){var t=Rle(this);if(_rt(r9,t))return"";var r=Lle(t),n=Nle?jle(r,7,-1):zle(r,qle,"$1");return n===""?void 0:n}}),grt({global:!0,constructor:!0,forced:!0},{Symbol:Qw}));var r9,Qw,Nle,Rle,Lle,qle,zle,jle});var Ble=P(()=>{"use strict";p();var Irt=qi();Irt("asyncIterator")});var Ule=P(()=>{"use strict";p();var Trt=qi();Trt("hasInstance")});var Vle=P(()=>{"use strict";p();var Mrt=qi();Mrt("isConcatSpreadable")});var $le=P(()=>{"use strict";p();var Crt=qi();Crt("iterator")});var Gle=P(()=>{"use strict";p();var Art=qi();Art("match")});var Hle=P(()=>{"use strict";p();var Prt=qi();Prt("matchAll")});var Wle=P(()=>{"use strict";p();var Ort=qi();Ort("replace")});var Zle=P(()=>{"use strict";p();var krt=qi();krt("search")});var Yle=P(()=>{"use strict";p();var Drt=qi();Drt("species")});var Kle=P(()=>{"use strict";p();var Nrt=qi();Nrt("split")});var Xle=P(()=>{"use strict";p();var Rrt=qi(),Lrt=z7();Rrt("toPrimitive");Lrt()});var Qle=P(()=>{"use strict";p();var qrt=Nr(),zrt=qi(),jrt=bs();zrt("toStringTag");jrt(qrt("Symbol"),"Symbol")});var Jle=P(()=>{"use strict";p();var Frt=qi();Frt("unscopables")});var Jw=P((Yxr,eue)=>{"use strict";p();var Brt=xt(),Urt=Rr();eue.exports=function(e,t,r){try{return Brt(Urt(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var n9=P((Xxr,tue)=>{"use strict";p();var Vrt=Cr();tue.exports=function(e){return Vrt(e)||e===null}});var i9=P((Jxr,rue)=>{"use strict";p();var $rt=n9(),Grt=String,Hrt=TypeError;rue.exports=function(e){if($rt(e))return e;throw new Hrt("Can't set "+Grt(e)+" as a prototype")}});var su=P((twr,nue)=>{"use strict";p();var Wrt=Jw(),Zrt=Cr(),Yrt=fi(),Krt=i9();nue.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=Wrt(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return Yrt(i),Krt(o),Zrt(i)&&(e?r(i,o):i.__proto__=o),i}}():void 0)});var o9=P((nwr,iue)=>{"use strict";p();var Xrt=ci().f;iue.exports=function(e,t,r){r in e||Xrt(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var Eh=P((owr,aue)=>{"use strict";p();var Qrt=Kr(),Jrt=Cr(),oue=su();aue.exports=function(e,t,r){var n,i;return oue&&Qrt(n=t.constructor)&&n!==r&&Jrt(i=n.prototype)&&i!==r.prototype&&oue(e,i),e}});var Lg=P((swr,sue)=>{"use strict";p();var ent=Br();sue.exports=function(e,t){return e===void 0?arguments.length<2?"":t:ent(e)}});var a9=P((uwr,lue)=>{"use strict";p();var tnt=Cr(),rnt=Eo();lue.exports=function(e,t){tnt(t)&&"cause"in t&&rnt(e,"cause",t.cause)}});var SA=P((pwr,pue)=>{"use strict";p();var nnt=xt(),uue=Error,int=nnt("".replace),ont=function(e){return String(new uue(e).stack)}("zxcasd"),cue=/\n\s*at [^:]*:[^\n]*/,ant=cue.test(ont);pue.exports=function(e,t){if(ant&&typeof e=="string"&&!uue.prepareStackTrace)for(;t--;)e=int(e,cue,"");return e}});var s9=P((dwr,fue)=>{"use strict";p();var snt=Ot(),lnt=Vs();fue.exports=!snt(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",lnt(1,7)),e.stack!==7):!0})});var EA=P((mwr,hue)=>{"use strict";p();var unt=Eo(),cnt=SA(),pnt=s9(),due=Error.captureStackTrace;hue.exports=function(e,t,r,n){pnt&&(due?due(e,t):unt(e,"stack",cnt(r,n)))}});var l9=P((vwr,xue)=>{"use strict";p();var mue=Nr(),fnt=en(),gue=Eo(),dnt=ga(),vue=su(),yue=Og(),_ue=o9(),hnt=Eh(),mnt=Lg(),gnt=a9(),vnt=EA(),ynt=br(),bue=An();xue.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,l=e.split("."),d=l[l.length-1],g=mue.apply(null,l);if(g){var _=g.prototype;if(!bue&&fnt(_,"cause")&&delete _.cause,!r)return g;var E=mue("Error"),T=t(function(A,L){var z=mnt(n?L:A,void 0),U=n?new g(A):new g;return z!==void 0&&gue(U,"message",z),vnt(U,T,U.stack,2),this&&dnt(_,this)&&hnt(U,this,T),arguments.length>o&&gnt(U,arguments[o]),U});if(T.prototype=_,d!=="Error"?vue?vue(T,E):yue(T,E,{name:!0}):ynt&&i in g&&(_ue(T,g,i),_ue(T,g,"prepareStackTrace")),yue(T,g),!bue)try{_.name!==d&&gue(_,"name",d),_.constructor=T}catch(A){}return T}}});var Iue=P(()=>{"use strict";p();var Sue=oe(),_nt=Xt(),sp=va(),Eue=l9(),u9="WebAssembly",wue=_nt[u9],IA=new Error("e",{cause:7}).cause!==7,qg=function(e,t){var r={};r[e]=Eue(e,t,IA),Sue({global:!0,constructor:!0,arity:1,forced:IA},r)},c9=function(e,t){if(wue&&wue[e]){var r={};r[e]=Eue(u9+"."+e,t,IA),Sue({target:u9,stat:!0,constructor:!0,arity:1,forced:IA},r)}};qg("Error",function(e){return function(r){return sp(e,this,arguments)}});qg("EvalError",function(e){return function(r){return sp(e,this,arguments)}});qg("RangeError",function(e){return function(r){return sp(e,this,arguments)}});qg("ReferenceError",function(e){return function(r){return sp(e,this,arguments)}});qg("SyntaxError",function(e){return function(r){return sp(e,this,arguments)}});qg("TypeError",function(e){return function(r){return sp(e,this,arguments)}});qg("URIError",function(e){return function(r){return sp(e,this,arguments)}});c9("CompileError",function(e){return function(r){return sp(e,this,arguments)}});c9("LinkError",function(e){return function(r){return sp(e,this,arguments)}});c9("RuntimeError",function(e){return function(r){return sp(e,this,arguments)}})});var p9=P((wwr,Mue)=>{"use strict";p();var bnt=br(),xnt=Ot(),wnt=er(),Tue=Lg(),TA=Error.prototype.toString,Snt=xnt(function(){if(bnt){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(TA.call(e)!=="true")return!0}return TA.call({message:1,name:2})!=="2: 1"||TA.call({})!=="Error"});Mue.exports=Snt?function(){var t=wnt(this),r=Tue(t.name,"Error"),n=Tue(t.message);return r?n?r+": "+n:r:n}:TA});var Pue=P(()=>{"use strict";p();var Ent=Zn(),Cue=p9(),Aue=Error.prototype;Aue.toString!==Cue&&Ent(Aue,"toString",Cue)});var MA=P((Mwr,Oue)=>{"use strict";p();var Int=Ot();Oue.exports=!Int(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Io=P((Awr,Due)=>{"use strict";p();var Tnt=en(),Mnt=Kr(),Cnt=pn(),Ant=Bw(),Pnt=MA(),kue=Ant("IE_PROTO"),f9=Object,Ont=f9.prototype;Due.exports=Pnt?f9.getPrototypeOf:function(e){var t=Cnt(e);if(Tnt(t,kue))return t[kue];var r=t.constructor;return Mnt(r)&&t instanceof r?r.prototype:t instanceof f9?Ont:null}});var zg=P((Owr,Nue)=>{"use strict";p();Nue.exports={}});var CA=P((Dwr,Rue)=>{"use strict";p();var knt=Or(),Dnt=zg(),Nnt=knt("iterator"),Rnt=Array.prototype;Rue.exports=function(e){return e!==void 0&&(Dnt.Array===e||Rnt[Nnt]===e)}});var lp=P((Rwr,que)=>{"use strict";p();var Lnt=_s(),Lue=Xi(),qnt=$s(),znt=zg(),jnt=Or(),Fnt=jnt("iterator");que.exports=function(e){if(!qnt(e))return Lue(e,Fnt)||Lue(e,"@@iterator")||znt[Lnt(e)]}});var Ih=P((qwr,zue)=>{"use strict";p();var Bnt=Qt(),Unt=Rr(),Vnt=er(),$nt=yh(),Gnt=lp(),Hnt=TypeError;zue.exports=function(e,t){var r=arguments.length<2?Gnt(e):t;if(Unt(r))return Vnt(Bnt(r,e));throw new Hnt($nt(e)+" is not iterable")}});var Xo=P((jwr,Fue)=>{"use strict";p();var Wnt=Qt(),jue=er(),Znt=Xi();Fue.exports=function(e,t,r){var n,i;jue(e);try{if(n=Znt(e,"return"),!n){if(t==="throw")throw r;return r}n=Wnt(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return jue(n),r}});var zi=P((Bwr,$ue)=>{"use strict";p();var Ynt=ti(),Knt=Qt(),Xnt=er(),Qnt=yh(),Jnt=CA(),eit=_n(),Bue=ga(),tit=Ih(),rit=lp(),Uue=Xo(),nit=TypeError,AA=function(e,t){this.stopped=e,this.result=t},Vue=AA.prototype;$ue.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),l=!!(r&&r.IS_ITERATOR),d=!!(r&&r.INTERRUPTED),g=Ynt(t,n),_,E,T,A,L,z,U,N=function(j){return _&&Uue(_,"normal",j),new AA(!0,j)},R=function(j){return i?(Xnt(j),d?g(j[0],j[1],N):g(j[0],j[1])):d?g(j,N):g(j)};if(o)_=e.iterator;else if(l)_=e;else{if(E=rit(e),!E)throw new nit(Qnt(e)+" is not iterable");if(Jnt(E)){for(T=0,A=eit(e);A>T;T++)if(L=R(e[T]),L&&Bue(Vue,L))return L;return new AA(!1)}_=tit(e,E)}for(z=o?e.next:_.next;!(U=Knt(z,_)).done;){try{L=R(U.value)}catch(j){Uue(_,"throw",j)}if(typeof L=="object"&&L&&Bue(Vue,L))return L}return new AA(!1)}});var Hue=P(()=>{"use strict";p();var iit=oe(),oit=ga(),ait=Io(),PA=su(),sit=Og(),Gue=Qi(),d9=Eo(),h9=Vs(),lit=a9(),uit=EA(),cit=zi(),pit=Lg(),fit=Or(),dit=fit("toStringTag"),OA=Error,hit=[].push,F0=function(t,r){var n=oit(m9,this),i;PA?i=PA(new OA,n?ait(this):m9):(i=n?this:Gue(m9),d9(i,dit,"Error")),r!==void 0&&d9(i,"message",pit(r)),uit(i,F0,i.stack,1),arguments.length>2&&lit(i,arguments[2]);var o=[];return cit(t,hit,{that:o}),d9(i,"errors",o),i};PA?PA(F0,OA):sit(F0,OA,{name:!0});var m9=F0.prototype=Gue(OA.prototype,{constructor:h9(1,F0),message:h9(1,""),name:h9(1,"AggregateError")});iit({global:!0,constructor:!0,arity:2},{AggregateError:F0})});var g9=P(()=>{"use strict";p();Hue()});var Kue=P(()=>{"use strict";p();var mit=oe(),git=Nr(),vit=va(),Wue=Ot(),yit=l9(),v9="AggregateError",Zue=git(v9),Yue=!Wue(function(){return Zue([1]).errors[0]!==1})&&Wue(function(){return Zue([1],v9,{cause:7}).cause!==7});mit({global:!0,constructor:!0,arity:2,forced:Yue},{AggregateError:yit(v9,function(e){return function(r,n){return vit(e,this,arguments)}},Yue,!0)})});var ji=P((Qwr,Xue)=>{"use strict";p();var _it=Or(),bit=Qi(),xit=ci().f,y9=_it("unscopables"),_9=Array.prototype;_9[y9]===void 0&&xit(_9,y9,{configurable:!0,value:bit(null)});Xue.exports=function(e){_9[y9][e]=!0}});var b9=P(()=>{"use strict";p();var wit=oe(),Sit=pn(),Eit=_n(),Iit=bi(),Tit=ji();wit({target:"Array",proto:!0},{at:function(t){var r=Sit(this),n=Eit(r),i=Iit(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});Tit("at")});var Th=P((n2r,Que)=>{"use strict";p();var Mit=TypeError,Cit=9007199254740991;Que.exports=function(e){if(e>Cit)throw Mit("Maximum allowed index exceeded");return e}});var lu=P((o2r,Jue)=>{"use strict";p();var Ait=br(),Pit=ci(),Oit=Vs();Jue.exports=function(e,t,r){Ait?Pit.f(e,t,Oit(0,r)):e[t]=r}});var B0=P((s2r,ece)=>{"use strict";p();var kit=Ot(),Dit=Or(),Nit=Xu(),Rit=Dit("species");ece.exports=function(e){return Nit>=51||!kit(function(){var t=[],r=t.constructor={};return r[Rit]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var ice=P(()=>{"use strict";p();var Lit=oe(),qit=Ot(),zit=ec(),jit=Cr(),Fit=pn(),Bit=_n(),tce=Th(),rce=lu(),Uit=L0(),Vit=B0(),$it=Or(),Git=Xu(),nce=$it("isConcatSpreadable"),Hit=Git>=51||!qit(function(){var e=[];return e[nce]=!1,e.concat()[0]!==e}),Wit=function(e){if(!jit(e))return!1;var t=e[nce];return t!==void 0?!!t:zit(e)},Zit=!Hit||!Vit("concat");Lit({target:"Array",proto:!0,arity:1,forced:Zit},{concat:function(t){var r=Fit(this),n=Uit(r,0),i=0,o,l,d,g,_;for(o=-1,d=arguments.length;o<d;o++)if(_=o===-1?r:arguments[o],Wit(_))for(g=Bit(_),tce(i+g),l=0;l<g;l++,i++)l in _&&rce(n,i,_[l]);else tce(i+1),rce(n,i++,_);return n.length=i,n}})});var e2=P((f2r,ace)=>{"use strict";p();var oce=yh(),Yit=TypeError;ace.exports=function(e,t){if(!delete e[t])throw new Yit("Cannot delete property "+oce(t)+" of "+oce(e))}});var w9=P((h2r,sce)=>{"use strict";p();var Kit=pn(),x9=Ju(),Xit=_n(),Qit=e2(),Jit=Math.min;sce.exports=[].copyWithin||function(t,r){var n=Kit(this),i=Xit(n),o=x9(t,i),l=x9(r,i),d=arguments.length>2?arguments[2]:void 0,g=Jit((d===void 0?i:x9(d,i))-l,i-o),_=1;for(l<o&&o<l+g&&(_=-1,l+=g-1,o+=g-1);g-->0;)l in n?n[o]=n[l]:Qit(n,o),o+=_,l+=_;return n}});var lce=P(()=>{"use strict";p();var eot=oe(),tot=w9(),rot=ji();eot({target:"Array",proto:!0},{copyWithin:tot});rot("copyWithin")});var uu=P((_2r,uce)=>{"use strict";p();var not=Ot();uce.exports=function(e,t){var r=[][e];return!!r&&not(function(){r.call(null,t||function(){return 1},1)})}});var cce=P(()=>{"use strict";p();var iot=oe(),oot=Ji().every,aot=uu(),sot=aot("every");iot({target:"Array",proto:!0,forced:!sot},{every:function(t){return oot(this,t,arguments.length>1?arguments[1]:void 0)}})});var kA=P((E2r,fce)=>{"use strict";p();var lot=pn(),pce=Ju(),uot=_n();fce.exports=function(t){for(var r=lot(this),n=uot(r),i=arguments.length,o=pce(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,d=l===void 0?n:pce(l,n);d>o;)r[o++]=t;return r}});var dce=P(()=>{"use strict";p();var cot=oe(),pot=kA(),fot=ji();cot({target:"Array",proto:!0},{fill:pot});fot("fill")});var hce=P(()=>{"use strict";p();var dot=oe(),hot=Ji().filter,mot=B0(),got=mot("filter");dot({target:"Array",proto:!0,forced:!got},{filter:function(t){return hot(this,t,arguments.length>1?arguments[1]:void 0)}})});var gce=P(()=>{"use strict";p();var vot=oe(),yot=Ji().find,_ot=ji(),S9="find",mce=!0;S9 in[]&&Array(1)[S9](function(){mce=!1});vot({target:"Array",proto:!0,forced:mce},{find:function(t){return yot(this,t,arguments.length>1?arguments[1]:void 0)}});_ot(S9)});var yce=P(()=>{"use strict";p();var bot=oe(),xot=Ji().findIndex,wot=ji(),E9="findIndex",vce=!0;E9 in[]&&Array(1)[E9](function(){vce=!1});bot({target:"Array",proto:!0,forced:vce},{findIndex:function(t){return xot(this,t,arguments.length>1?arguments[1]:void 0)}});wot(E9)});var t2=P((z2r,bce)=>{"use strict";p();var Sot=ti(),Eot=Af(),Iot=pn(),Tot=_n(),_ce=function(e){var t=e===1;return function(r,n,i){for(var o=Iot(r),l=Eot(o),d=Tot(l),g=Sot(n,i),_,E;d-->0;)if(_=l[d],E=g(_,d,o),E)switch(e){case 0:return _;case 1:return d}return t?-1:void 0}};bce.exports={findLast:_ce(0),findLastIndex:_ce(1)}});var I9=P(()=>{"use strict";p();var Mot=oe(),Cot=t2().findLast,Aot=ji();Mot({target:"Array",proto:!0},{findLast:function(t){return Cot(this,t,arguments.length>1?arguments[1]:void 0)}});Aot("findLast")});var T9=P(()=>{"use strict";p();var Pot=oe(),Oot=t2().findLastIndex,kot=ji();Pot({target:"Array",proto:!0},{findLastIndex:function(t){return Oot(this,t,arguments.length>1?arguments[1]:void 0)}});kot("findLastIndex")});var M9=P((H2r,wce)=>{"use strict";p();var Dot=ec(),Not=_n(),Rot=Th(),Lot=ti(),xce=function(e,t,r,n,i,o,l,d){for(var g=i,_=0,E=l?Lot(l,d):!1,T,A;_<n;)_ in r&&(T=E?E(r[_],_,t):r[_],o>0&&Dot(T)?(A=Not(T),g=xce(e,t,T,A,g,o-1)-1):(Rot(g+1),e[g]=T),g++),_++;return g};wce.exports=xce});var Sce=P(()=>{"use strict";p();var qot=oe(),zot=M9(),jot=pn(),Fot=_n(),Bot=bi(),Uot=L0();qot({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=jot(this),n=Fot(r),i=Uot(r,0);return i.length=zot(i,r,r,n,0,t===void 0?1:Bot(t)),i}})});var Ece=P(()=>{"use strict";p();var Vot=oe(),$ot=M9(),Got=Rr(),Hot=pn(),Wot=_n(),Zot=L0();Vot({target:"Array",proto:!0},{flatMap:function(t){var r=Hot(this),n=Wot(r),i;return Got(t),i=Zot(r,0),i.length=$ot(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var C9=P((eSr,Ice)=>{"use strict";p();var Yot=Ji().forEach,Kot=uu(),Xot=Kot("forEach");Ice.exports=Xot?[].forEach:function(t){return Yot(this,t,arguments.length>1?arguments[1]:void 0)}});var Mce=P(()=>{"use strict";p();var Qot=oe(),Tce=C9();Qot({target:"Array",proto:!0,forced:[].forEach!==Tce},{forEach:Tce})});var DA=P((oSr,Cce)=>{"use strict";p();var Jot=er(),eat=Xo();Cce.exports=function(e,t,r,n){try{return n?t(Jot(r)[0],r[1]):t(r)}catch(i){eat(e,"throw",i)}}});var A9=P((sSr,Oce)=>{"use strict";p();var tat=ti(),rat=Qt(),nat=pn(),iat=DA(),oat=CA(),aat=tc(),sat=_n(),Ace=lu(),lat=Ih(),uat=lp(),Pce=Array;Oce.exports=function(t){var r=nat(t),n=aat(this),i=arguments.length,o=i>1?arguments[1]:void 0,l=o!==void 0;l&&(o=tat(o,i>2?arguments[2]:void 0));var d=uat(r),g=0,_,E,T,A,L,z;if(d&&!(this===Pce&&oat(d)))for(E=n?new this:[],A=lat(r,d),L=A.next;!(T=rat(L,A)).done;g++)z=l?iat(A,o,[T.value,g],!0):T.value,Ace(E,g,z);else for(_=sat(r),E=n?new this(_):Pce(_);_>g;g++)z=l?o(r[g],g):r[g],Ace(E,g,z);return E.length=g,E}});var r2=P((uSr,Rce)=>{"use strict";p();var cat=Or(),Dce=cat("iterator"),Nce=!1;try{kce=0,P9={next:function(){return{done:!!kce++}},return:function(){Nce=!0}},P9[Dce]=function(){return this},Array.from(P9,function(){throw 2})}catch(e){}var kce,P9;Rce.exports=function(e,t){try{if(!t&&!Nce)return!1}catch(i){return!1}var r=!1;try{var n={};n[Dce]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var Lce=P(()=>{"use strict";p();var pat=oe(),fat=A9(),dat=r2(),hat=!dat(function(e){Array.from(e)});pat({target:"Array",stat:!0,forced:hat},{from:fat})});var qce=P(()=>{"use strict";p();var mat=oe(),gat=N0().includes,vat=Ot(),yat=ji(),_at=vat(function(){return!Array(1).includes()});mat({target:"Array",proto:!0,forced:_at},{includes:function(t){return gat(this,t,arguments.length>1?arguments[1]:void 0)}});yat("includes")});var jce=P(()=>{"use strict";p();var bat=oe(),xat=xh(),wat=N0().indexOf,Sat=uu(),O9=xat([].indexOf),zce=!!O9&&1/O9([1],1,-0)<0,Eat=zce||!Sat("indexOf");bat({target:"Array",proto:!0,forced:Eat},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return zce?O9(this,t,r)||0:wat(this,t,r)}})});var Fce=P(()=>{"use strict";p();var Iat=oe(),Tat=ec();Iat({target:"Array",stat:!0},{isArray:Tat})});var Mh=P((SSr,Vce)=>{"use strict";p();var Mat=Ot(),Cat=Kr(),Aat=Cr(),Pat=Qi(),Bce=Io(),Oat=Zn(),kat=Or(),Dat=An(),N9=kat("iterator"),Uce=!1,Nf,k9,D9;[].keys&&(D9=[].keys(),"next"in D9?(k9=Bce(Bce(D9)),k9!==Object.prototype&&(Nf=k9)):Uce=!0);var Nat=!Aat(Nf)||Mat(function(){var e={};return Nf[N9].call(e)!==e});Nat?Nf={}:Dat&&(Nf=Pat(Nf));Cat(Nf[N9])||Oat(Nf,N9,function(){return this});Vce.exports={IteratorPrototype:Nf,BUGGY_SAFARI_ITERATORS:Uce}});var Ch=P((ISr,$ce)=>{"use strict";p();var Rat=Mh().IteratorPrototype,Lat=Qi(),qat=Vs(),zat=bs(),jat=zg(),Fat=function(){return this};$ce.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Lat(Rat,{next:qat(+!n,r)}),zat(e,i,!1,!0),jat[i]=Fat,e}});var LA=P((MSr,epe)=>{"use strict";p();var Bat=oe(),Uat=Qt(),NA=An(),Qce=Ag(),Vat=Kr(),$at=Ch(),Gce=Io(),Hce=su(),Gat=bs(),Hat=Eo(),R9=Zn(),Wat=Or(),Wce=zg(),Jce=Mh(),Zat=Qce.PROPER,Yat=Qce.CONFIGURABLE,Zce=Jce.IteratorPrototype,RA=Jce.BUGGY_SAFARI_ITERATORS,n2=Wat("iterator"),Yce="keys",i2="values",Kce="entries",Xce=function(){return this};epe.exports=function(e,t,r,n,i,o,l){$at(r,t,n);var d=function(R){if(R===i&&A)return A;if(!RA&&R&&R in E)return E[R];switch(R){case Yce:return function(){return new r(this,R)};case i2:return function(){return new r(this,R)};case Kce:return function(){return new r(this,R)}}return function(){return new r(this)}},g=t+" Iterator",_=!1,E=e.prototype,T=E[n2]||E["@@iterator"]||i&&E[i],A=!RA&&T||d(i),L=t==="Array"&&E.entries||T,z,U,N;if(L&&(z=Gce(L.call(new e)),z!==Object.prototype&&z.next&&(!NA&&Gce(z)!==Zce&&(Hce?Hce(z,Zce):Vat(z[n2])||R9(z,n2,Xce)),Gat(z,g,!0,!0),NA&&(Wce[g]=Xce))),Zat&&i===i2&&T&&T.name!==i2&&(!NA&&Yat?Hat(E,"name",i2):(_=!0,A=function(){return Uat(T,this)})),i)if(U={values:d(i2),keys:o?A:d(Yce),entries:d(Kce)},l)for(N in U)(RA||_||!(N in E))&&R9(E,N,U[N]);else Bat({target:t,proto:!0,forced:RA||_},U);return(!NA||l)&&E[n2]!==A&&R9(E,n2,A,{name:i}),Wce[t]=A,U}});var zo=P((ASr,tpe)=>{"use strict";p();tpe.exports=function(e,t){return{value:e,done:t}}});var o2=P((OSr,ape)=>{"use strict";p();var Kat=So(),L9=ji(),rpe=zg(),ipe=Un(),Xat=ci().f,Qat=LA(),qA=zo(),Jat=An(),est=br(),ope="Array Iterator",tst=ipe.set,rst=ipe.getterFor(ope);ape.exports=Qat(Array,"Array",function(e,t){tst(this,{type:ope,target:Kat(e),index:0,kind:t})},function(){var e=rst(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,qA(void 0,!0);switch(e.kind){case"keys":return qA(r,!1);case"values":return qA(t[r],!1)}return qA([r,t[r]],!1)},"values");var npe=rpe.Arguments=rpe.Array;L9("keys");L9("values");L9("entries");if(!Jat&&est&&npe.name!=="values")try{Xat(npe,"name",{value:"values"})}catch(e){}});var spe=P(()=>{"use strict";p();var nst=oe(),ist=xt(),ost=Af(),ast=So(),sst=uu(),lst=ist([].join),ust=ost!==Object,cst=ust||!sst("join",",");nst({target:"Array",proto:!0,forced:cst},{join:function(t){return lst(ast(this),t===void 0?",":t)}})});var z9=P((LSr,upe)=>{"use strict";p();var pst=va(),fst=So(),dst=bi(),hst=_n(),mst=uu(),gst=Math.min,q9=[].lastIndexOf,lpe=!!q9&&1/[1].lastIndexOf(1,-0)<0,vst=mst("lastIndexOf"),yst=lpe||!vst;upe.exports=yst?function(t){if(lpe)return pst(q9,this,arguments)||0;var r=fst(this),n=hst(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=gst(i,dst(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:q9});var ppe=P(()=>{"use strict";p();var _st=oe(),cpe=z9();_st({target:"Array",proto:!0,forced:cpe!==[].lastIndexOf},{lastIndexOf:cpe})});var fpe=P(()=>{"use strict";p();var bst=oe(),xst=Ji().map,wst=B0(),Sst=wst("map");bst({target:"Array",proto:!0,forced:!Sst},{map:function(t){return xst(this,t,arguments.length>1?arguments[1]:void 0)}})});var hpe=P(()=>{"use strict";p();var Est=oe(),Ist=Ot(),Tst=tc(),Mst=lu(),dpe=Array,Cst=Ist(function(){function e(){}return!(dpe.of.call(e)instanceof e)});Est({target:"Array",stat:!0,forced:Cst},{of:function(){for(var t=0,r=arguments.length,n=new(Tst(this)?this:dpe)(r);r>t;)Mst(n,t,arguments[t++]);return n.length=r,n}})});var zA=P((WSr,mpe)=>{"use strict";p();var Ast=br(),Pst=ec(),Ost=TypeError,kst=Object.getOwnPropertyDescriptor,Dst=Ast&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();mpe.exports=Dst?function(e,t){if(Pst(e)&&!kst(e,"length").writable)throw new Ost("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var gpe=P(()=>{"use strict";p();var Nst=oe(),Rst=pn(),Lst=_n(),qst=zA(),zst=Th(),jst=Ot(),Fst=jst(function(){return[].push.call({length:4294967296},1)!==4294967297}),Bst=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Ust=Fst||!Bst();Nst({target:"Array",proto:!0,arity:1,forced:Ust},{push:function(t){var r=Rst(this),n=Lst(r),i=arguments.length;zst(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return qst(r,n),n}})});var a2=P((QSr,bpe)=>{"use strict";p();var Vst=Rr(),$st=pn(),Gst=Af(),Hst=_n(),vpe=TypeError,ype="Reduce of empty array with no initial value",_pe=function(e){return function(t,r,n,i){var o=$st(t),l=Gst(o),d=Hst(o);if(Vst(r),d===0&&n<2)throw new vpe(ype);var g=e?d-1:0,_=e?-1:1;if(n<2)for(;;){if(g in l){i=l[g],g+=_;break}if(g+=_,e?g<0:d<=g)throw new vpe(ype)}for(;e?g>=0:d>g;g+=_)g in l&&(i=r(i,l[g],g,o));return i}};bpe.exports={left:_pe(!1),right:_pe(!0)}});var l2=P((eEr,xpe)=>{"use strict";p();var s2=Xt(),Wst=Yu(),Zst=ma(),jA=function(e){return Wst.slice(0,e.length)===e};xpe.exports=function(){return jA("Bun/")?"BUN":jA("Cloudflare-Workers")?"CLOUDFLARE":jA("Deno/")?"DENO":jA("Node.js/")?"NODE":s2.Bun&&typeof Bun.version=="string"?"BUN":s2.Deno&&typeof Deno.version=="object"?"DENO":Zst(s2.process)==="process"?"NODE":s2.window&&s2.document?"BROWSER":"REST"}()});var jg=P((rEr,wpe)=>{"use strict";p();var Yst=l2();wpe.exports=Yst==="NODE"});var Epe=P(()=>{"use strict";p();var Kst=oe(),Xst=a2().left,Qst=uu(),Spe=Xu(),Jst=jg(),elt=!Jst&&Spe>79&&Spe<83,tlt=elt||!Qst("reduce");Kst({target:"Array",proto:!0,forced:tlt},{reduce:function(t){var r=arguments.length;return Xst(this,t,r,r>1?arguments[1]:void 0)}})});var Tpe=P(()=>{"use strict";p();var rlt=oe(),nlt=a2().right,ilt=uu(),Ipe=Xu(),olt=jg(),alt=!olt&&Ipe>79&&Ipe<83,slt=alt||!ilt("reduceRight");rlt({target:"Array",proto:!0,forced:slt},{reduceRight:function(t){return nlt(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var Cpe=P(()=>{"use strict";p();var llt=oe(),ult=xt(),clt=ec(),plt=ult([].reverse),Mpe=[1,2];llt({target:"Array",proto:!0,forced:String(Mpe)===String(Mpe.reverse())},{reverse:function(){return clt(this)&&(this.length=this.length),plt(this)}})});var Ope=P(()=>{"use strict";p();var flt=oe(),Ape=ec(),dlt=tc(),hlt=Cr(),Ppe=Ju(),mlt=_n(),glt=So(),vlt=lu(),ylt=Or(),_lt=B0(),blt=Hs(),xlt=_lt("slice"),wlt=ylt("species"),j9=Array,Slt=Math.max;flt({target:"Array",proto:!0,forced:!xlt},{slice:function(t,r){var n=glt(this),i=mlt(n),o=Ppe(t,i),l=Ppe(r===void 0?i:r,i),d,g,_;if(Ape(n)&&(d=n.constructor,dlt(d)&&(d===j9||Ape(d.prototype))?d=void 0:hlt(d)&&(d=d[wlt],d===null&&(d=void 0)),d===j9||d===void 0))return blt(n,o,l);for(g=new(d===void 0?j9:d)(Slt(l-o,0)),_=0;o<l;o++,_++)o in n&&vlt(g,_,n[o]);return g.length=_,g}})});var kpe=P(()=>{"use strict";p();var Elt=oe(),Ilt=Ji().some,Tlt=uu(),Mlt=Tlt("some");Elt({target:"Array",proto:!0,forced:!Mlt},{some:function(t){return Ilt(this,t,arguments.length>1?arguments[1]:void 0)}})});var FA=P((_Er,Npe)=>{"use strict";p();var Dpe=Hs(),Clt=Math.floor,F9=function(e,t){var r=e.length;if(r<8)for(var n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}else for(var l=Clt(r/2),d=F9(Dpe(e,0,l),t),g=F9(Dpe(e,l),t),_=d.length,E=g.length,T=0,A=0;T<_||A<E;)e[T+A]=T<_&&A<E?t(d[T],g[A])<=0?d[T++]:g[A++]:T<_?d[T++]:g[A++];return e};Npe.exports=F9});var B9=P((xEr,Lpe)=>{"use strict";p();var Alt=Yu(),Rpe=Alt.match(/firefox\/(\d+)/i);Lpe.exports=!!Rpe&&+Rpe[1]});var U9=P((SEr,qpe)=>{"use strict";p();var Plt=Yu();qpe.exports=/MSIE|Trident/.test(Plt)});var BA=P((IEr,jpe)=>{"use strict";p();var Olt=Yu(),zpe=Olt.match(/AppleWebKit\/(\d+)\./);jpe.exports=!!zpe&&+zpe[1]});var Zpe=P(()=>{"use strict";p();var klt=oe(),Hpe=xt(),Dlt=Rr(),Nlt=pn(),Fpe=_n(),Rlt=e2(),Bpe=Br(),V9=Ot(),Llt=FA(),qlt=uu(),Upe=B9(),zlt=U9(),Vpe=Xu(),$pe=BA(),Ah=[],Gpe=Hpe(Ah.sort),jlt=Hpe(Ah.push),Flt=V9(function(){Ah.sort(void 0)}),Blt=V9(function(){Ah.sort(null)}),Ult=qlt("sort"),Wpe=!V9(function(){if(Vpe)return Vpe<70;if(!(Upe&&Upe>3)){if(zlt)return!0;if($pe)return $pe<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Ah.push({k:r+i,v:n})}for(Ah.sort(function(o,l){return l.v-o.v}),i=0;i<Ah.length;i++)r=Ah[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),Vlt=Flt||!Blt||!Ult||!Wpe,$lt=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Bpe(t)>Bpe(r)?1:-1}};klt({target:"Array",proto:!0,forced:Vlt},{sort:function(t){t!==void 0&&Dlt(t);var r=Nlt(this);if(Wpe)return t===void 0?Gpe(r):Gpe(r,t);var n=[],i=Fpe(r),o,l;for(l=0;l<i;l++)l in r&&jlt(n,r[l]);for(Llt(n,$lt(t)),o=Fpe(n),l=0;l<o;)r[l]=n[l++];for(;l<i;)Rlt(r,l++);return r}})});var Ph=P((PEr,Kpe)=>{"use strict";p();var Glt=Nr(),Hlt=xi(),Wlt=Or(),Zlt=br(),Ype=Wlt("species");Kpe.exports=function(e){var t=Glt(e);Zlt&&t&&!t[Ype]&&Hlt(t,Ype,{configurable:!0,get:function(){return this}})}});var Xpe=P(()=>{"use strict";p();var Ylt=Ph();Ylt("Array")});var Qpe=P(()=>{"use strict";p();var Klt=oe(),Xlt=pn(),Qlt=Ju(),Jlt=bi(),eut=_n(),tut=zA(),rut=Th(),nut=L0(),iut=lu(),$9=e2(),out=B0(),aut=out("splice"),sut=Math.max,lut=Math.min;Klt({target:"Array",proto:!0,forced:!aut},{splice:function(t,r){var n=Xlt(this),i=eut(n),o=Qlt(t,i),l=arguments.length,d,g,_,E,T,A;for(l===0?d=g=0:l===1?(d=0,g=i-o):(d=l-2,g=lut(sut(Jlt(r),0),i-o)),rut(i+d-g),_=nut(n,g),E=0;E<g;E++)T=o+E,T in n&&iut(_,E,n[T]);if(_.length=g,d<g){for(E=o;E<i-g;E++)T=E+g,A=E+d,T in n?n[A]=n[T]:$9(n,A);for(E=i;E>i-g+d;E--)$9(n,E-1)}else if(d>g)for(E=i-g;E>o;E--)T=E+g-1,A=E+d-1,T in n?n[A]=n[T]:$9(n,A);for(E=0;E<d;E++)n[E+o]=arguments[E+2];return tut(n,i-g+d),_}})});var G9=P((zEr,Jpe)=>{"use strict";p();var uut=_n();Jpe.exports=function(e,t){for(var r=uut(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var H9=P(()=>{"use strict";p();var cut=oe(),put=G9(),fut=So(),dut=ji(),hut=Array;cut({target:"Array",proto:!0},{toReversed:function(){return put(fut(this),hut)}});dut("toReversed")});var Rf=P((VEr,efe)=>{"use strict";p();var mut=_n();efe.exports=function(e,t,r){for(var n=0,i=arguments.length>2?r:mut(t),o=new e(i);i>n;)o[n]=t[n++];return o}});var W9=P((GEr,tfe)=>{"use strict";p();var gut=Xt();tfe.exports=function(e,t){var r=gut[e],n=r&&r.prototype;return n&&n[t]}});var Z9=P(()=>{"use strict";p();var vut=oe(),yut=xt(),_ut=Rr(),but=So(),xut=Rf(),wut=W9(),Sut=ji(),Eut=Array,Iut=yut(wut("Array","sort"));vut({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&_ut(t);var r=but(this),n=xut(Eut,r);return Iut(n,t)}});Sut("toSorted")});var Y9=P(()=>{"use strict";p();var Tut=oe(),Mut=ji(),Cut=Th(),Aut=_n(),Put=Ju(),Out=So(),kut=bi(),Dut=Array,Nut=Math.max,Rut=Math.min;Tut({target:"Array",proto:!0},{toSpliced:function(t,r){var n=Out(this),i=Aut(n),o=Put(t,i),l=arguments.length,d=0,g,_,E,T;for(l===0?g=_=0:l===1?(g=0,_=i-o):(g=l-2,_=Rut(Nut(kut(r),0),i-o)),E=Cut(i+g-_),T=Dut(E);d<o;d++)T[d]=n[d];for(;d<o+g;d++)T[d]=arguments[d-o+2];for(;d<E;d++)T[d]=n[d+_-g];return T}});Mut("toSpliced")});var rfe=P(()=>{"use strict";p();var Lut=ji();Lut("flat")});var nfe=P(()=>{"use strict";p();var qut=ji();qut("flatMap")});var ife=P(()=>{"use strict";p();var zut=oe(),jut=pn(),Fut=_n(),But=zA(),Uut=e2(),Vut=Th(),$ut=[].unshift(0)!==1,Gut=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},Hut=$ut||!Gut();zut({target:"Array",proto:!0,arity:1,forced:Hut},{unshift:function(t){var r=jut(this),n=Fut(r),i=arguments.length;if(i){Vut(n+i);for(var o=n;o--;){var l=o+i;o in r?r[l]=r[o]:Uut(r,l)}for(var d=0;d<i;d++)r[d]=arguments[d]}return But(r,n+i)}})});var K9=P((lIr,ofe)=>{"use strict";p();var Wut=_n(),Zut=bi(),Yut=RangeError;ofe.exports=function(e,t,r,n){var i=Wut(e),o=Zut(r),l=o<0?i+o:o;if(l>=i||l<0)throw new Yut("Incorrect index");for(var d=new t(i),g=0;g<i;g++)d[g]=g===l?n:e[g];return d}});var X9=P(()=>{"use strict";p();var Kut=oe(),Xut=K9(),Qut=So(),Jut=Array;Kut({target:"Array",proto:!0},{with:function(e,t){return Xut(Qut(this),Jut,e,t)}})});var u2=P((dIr,afe)=>{"use strict";p();afe.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var cu=P((mIr,sfe)=>{"use strict";p();var ect=Zn();sfe.exports=function(e,t,r){for(var n in t)ect(e,n,t[n],r);return e}});var Ya=P((vIr,lfe)=>{"use strict";p();var tct=ga(),rct=TypeError;lfe.exports=function(e,t){if(tct(t,e))return e;throw new rct("Incorrect invocation")}});var U0=P((_Ir,ufe)=>{"use strict";p();var nct=bi(),ict=Gs(),oct=RangeError;ufe.exports=function(e){if(e===void 0)return 0;var t=nct(e),r=ict(t);if(t!==r)throw new oct("Wrong length or index");return r}});var UA=P((xIr,cfe)=>{"use strict";p();cfe.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var Q9=P((SIr,ffe)=>{"use strict";p();var act=2220446049250313e-31,pfe=1/act;ffe.exports=function(e){return e+pfe-pfe}});var J9=P((IIr,dfe)=>{"use strict";p();var sct=UA(),lct=Q9(),uct=Math.abs,cct=2220446049250313e-31;dfe.exports=function(e,t,r,n){var i=+e,o=uct(i),l=sct(i);if(o<n)return l*lct(o/n/t)*n*t;var d=(1+t/cct)*o,g=d-(d-o);return g>r||g!==g?l*(1/0):l*g}});var VA=P((MIr,hfe)=>{"use strict";p();var pct=J9(),fct=1.1920928955078125e-7,dct=34028234663852886e22,hct=11754943508222875e-54;hfe.exports=Math.fround||function(t){return pct(t,fct,dct,hct)}});var gfe=P((AIr,mfe)=>{"use strict";p();var mct=Array,gct=Math.abs,Lf=Math.pow,vct=Math.floor,yct=Math.log,_ct=Math.LN2,bct=function(e,t,r){var n=mct(r),i=r*8-t-1,o=(1<<i)-1,l=o>>1,d=t===23?Lf(2,-24)-Lf(2,-77):0,g=e<0||e===0&&1/e<0?1:0,_=0,E,T,A;for(e=gct(e),e!==e||e===1/0?(T=e!==e?1:0,E=o):(E=vct(yct(e)/_ct),A=Lf(2,-E),e*A<1&&(E--,A*=2),E+l>=1?e+=d/A:e+=d*Lf(2,1-l),e*A>=2&&(E++,A/=2),E+l>=o?(T=0,E=o):E+l>=1?(T=(e*A-1)*Lf(2,t),E+=l):(T=e*Lf(2,l-1)*Lf(2,t),E=0));t>=8;)n[_++]=T&255,T/=256,t-=8;for(E=E<<t|T,i+=t;i>0;)n[_++]=E&255,E/=256,i-=8;return n[_-1]|=g*128,n},xct=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,l=n-7,d=r-1,g=e[d--],_=g&127,E;for(g>>=7;l>0;)_=_*256+e[d--],l-=8;for(E=_&(1<<-l)-1,_>>=-l,l+=t;l>0;)E=E*256+e[d--],l-=8;if(_===0)_=1-o;else{if(_===i)return E?NaN:g?-1/0:1/0;E+=Lf(2,t),_-=o}return(g?-1:1)*E*Lf(2,_-t)};mfe.exports={pack:bct,unpack:xct}});var f2=P((OIr,Dfe)=>{"use strict";p();var ZA=Xt(),iz=xt(),ez=br(),wct=u2(),Cfe=Ag(),Sct=Eo(),Ect=xi(),vfe=cu(),tz=Ot(),$A=Ya(),Ict=bi(),Tct=Gs(),HA=U0(),Mct=VA(),Afe=gfe(),Cct=Io(),yfe=su(),Act=kA(),Pct=Hs(),Oct=Eh(),kct=Og(),Pfe=bs(),oz=Un(),Dct=Cfe.PROPER,_fe=Cfe.CONFIGURABLE,$0="ArrayBuffer",YA="DataView",G0="prototype",Nct="Wrong length",Ofe="Wrong index",bfe=oz.getterFor($0),p2=oz.getterFor(YA),xfe=oz.set,rc=ZA[$0],Al=rc,V0=Al&&Al[G0],up=ZA[YA],Fg=up&&up[G0],wfe=Object.prototype,Rct=ZA.Array,WA=ZA.RangeError,Lct=iz(Act),qct=iz([].reverse),kfe=Afe.pack,Sfe=Afe.unpack,Efe=function(e){return[e&255]},Ife=function(e){return[e&255,e>>8&255]},Tfe=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},Mfe=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},zct=function(e){return kfe(Mct(e),23,4)},jct=function(e){return kfe(e,52,8)},GA=function(e,t,r){Ect(e[G0],t,{configurable:!0,get:function(){return r(this)[t]}})},Oh=function(e,t,r,n){var i=p2(e),o=HA(r),l=!!n;if(o+t>i.byteLength)throw new WA(Ofe);var d=i.bytes,g=o+i.byteOffset,_=Pct(d,g,g+t);return l?_:qct(_)},kh=function(e,t,r,n,i,o){var l=p2(e),d=HA(r),g=n(+i),_=!!o;if(d+t>l.byteLength)throw new WA(Ofe);for(var E=l.bytes,T=d+l.byteOffset,A=0;A<t;A++)E[T+A]=g[_?A:t-A-1]};wct?(rz=Dct&&rc.name!==$0,!tz(function(){rc(1)})||!tz(function(){new rc(-1)})||tz(function(){return new rc,new rc(1.5),new rc(NaN),rc.length!==1||rz&&!_fe})?(Al=function(t){return $A(this,V0),Oct(new rc(HA(t)),this,Al)},Al[G0]=V0,V0.constructor=Al,kct(Al,rc)):rz&&_fe&&Sct(rc,"name",$0),yfe&&Cct(Fg)!==wfe&&yfe(Fg,wfe),c2=new up(new Al(2)),nz=iz(Fg.setInt8),c2.setInt8(0,2147483648),c2.setInt8(1,2147483649),(c2.getInt8(0)||!c2.getInt8(1))&&vfe(Fg,{setInt8:function(t,r){nz(this,t,r<<24>>24)},setUint8:function(t,r){nz(this,t,r<<24>>24)}},{unsafe:!0})):(Al=function(t){$A(this,V0);var r=HA(t);xfe(this,{type:$0,bytes:Lct(Rct(r),0),byteLength:r}),ez||(this.byteLength=r,this.detached=!1)},V0=Al[G0],up=function(t,r,n){$A(this,Fg),$A(t,V0);var i=bfe(t),o=i.byteLength,l=Ict(r);if(l<0||l>o)throw new WA("Wrong offset");if(n=n===void 0?o-l:Tct(n),l+n>o)throw new WA(Nct);xfe(this,{type:YA,buffer:t,byteLength:n,byteOffset:l,bytes:i.bytes}),ez||(this.buffer=t,this.byteLength=n,this.byteOffset=l)},Fg=up[G0],ez&&(GA(Al,"byteLength",bfe),GA(up,"buffer",p2),GA(up,"byteLength",p2),GA(up,"byteOffset",p2)),vfe(Fg,{getInt8:function(t){return Oh(this,1,t)[0]<<24>>24},getUint8:function(t){return Oh(this,1,t)[0]},getInt16:function(t){var r=Oh(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Oh(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return Mfe(Oh(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return Mfe(Oh(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return Sfe(Oh(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return Sfe(Oh(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){kh(this,1,t,Efe,r)},setUint8:function(t,r){kh(this,1,t,Efe,r)},setInt16:function(t,r){kh(this,2,t,Ife,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){kh(this,2,t,Ife,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){kh(this,4,t,Tfe,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){kh(this,4,t,Tfe,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){kh(this,4,t,zct,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){kh(this,8,t,jct,r,arguments.length>2?arguments[2]:!1)}}));var rz,c2,nz;Pfe(Al,$0);Pfe(up,YA);Dfe.exports={ArrayBuffer:Al,DataView:up}});var Rfe=P(()=>{"use strict";p();var Fct=oe(),Bct=Xt(),Uct=f2(),Vct=Ph(),az="ArrayBuffer",Nfe=Uct[az],$ct=Bct[az];Fct({global:!0,constructor:!0,forced:$ct!==Nfe},{ArrayBuffer:Nfe});Vct(az)});var ln=P((LIr,Gfe)=>{"use strict";p();var Gct=u2(),cz=br(),xs=Xt(),jfe=Kr(),QA=Cr(),Nh=en(),pz=_s(),Hct=yh(),Wct=Eo(),sz=Zn(),Zct=xi(),Yct=ga(),JA=Io(),W0=su(),Kct=Or(),Xct=_h(),Ffe=Un(),Bfe=Ffe.enforce,Qct=Ffe.get,KA=xs.Int8Array,lz=KA&&KA.prototype,Lfe=xs.Uint8ClampedArray,qfe=Lfe&&Lfe.prototype,cp=KA&&JA(KA),nc=lz&&JA(lz),Jct=Object.prototype,fz=xs.TypeError,zfe=Kct("toStringTag"),uz=Xct("TYPED_ARRAY_TAG"),XA="TypedArrayConstructor",qf=Gct&&!!W0&&pz(xs.opera)!=="Opera",Ufe=!1,Zs,Dh,H0,zf={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},dz={BigInt64Array:8,BigUint64Array:8},ept=function(t){if(!QA(t))return!1;var r=pz(t);return r==="DataView"||Nh(zf,r)||Nh(dz,r)},Vfe=function(e){var t=JA(e);if(QA(t)){var r=Qct(t);return r&&Nh(r,XA)?r[XA]:Vfe(t)}},$fe=function(e){if(!QA(e))return!1;var t=pz(e);return Nh(zf,t)||Nh(dz,t)},tpt=function(e){if($fe(e))return e;throw new fz("Target is not a typed array")},rpt=function(e){if(jfe(e)&&(!W0||Yct(cp,e)))return e;throw new fz(Hct(e)+" is not a typed array constructor")},npt=function(e,t,r,n){if(cz){if(r)for(var i in zf){var o=xs[i];if(o&&Nh(o.prototype,e))try{delete o.prototype[e]}catch(l){try{o.prototype[e]=t}catch(d){}}}(!nc[e]||r)&&sz(nc,e,r?t:qf&&lz[e]||t,n)}},ipt=function(e,t,r){var n,i;if(cz){if(W0){if(r){for(n in zf)if(i=xs[n],i&&Nh(i,e))try{delete i[e]}catch(o){}}if(!cp[e]||r)try{return sz(cp,e,r?t:qf&&cp[e]||t)}catch(o){}else return}for(n in zf)i=xs[n],i&&(!i[e]||r)&&sz(i,e,t)}};for(Zs in zf)Dh=xs[Zs],H0=Dh&&Dh.prototype,H0?Bfe(H0)[XA]=Dh:qf=!1;for(Zs in dz)Dh=xs[Zs],H0=Dh&&Dh.prototype,H0&&(Bfe(H0)[XA]=Dh);if((!qf||!jfe(cp)||cp===Function.prototype)&&(cp=function(){throw new fz("Incorrect invocation")},qf))for(Zs in zf)xs[Zs]&&W0(xs[Zs],cp);if((!qf||!nc||nc===Jct)&&(nc=cp.prototype,qf))for(Zs in zf)xs[Zs]&&W0(xs[Zs].prototype,nc);qf&&JA(qfe)!==nc&&W0(qfe,nc);if(cz&&!Nh(nc,zfe)){Ufe=!0,Zct(nc,zfe,{configurable:!0,get:function(){return QA(this)?this[uz]:void 0}});for(Zs in zf)xs[Zs]&&Wct(xs[Zs],uz,Zs)}Gfe.exports={NATIVE_ARRAY_BUFFER_VIEWS:qf,TYPED_ARRAY_TAG:Ufe&&uz,aTypedArray:tpt,aTypedArrayConstructor:rpt,exportTypedArrayMethod:npt,exportTypedArrayStaticMethod:ipt,getTypedArrayConstructor:Vfe,isView:ept,isTypedArray:$fe,TypedArray:cp,TypedArrayPrototype:nc}});var Wfe=P(()=>{"use strict";p();var opt=oe(),Hfe=ln(),apt=Hfe.NATIVE_ARRAY_BUFFER_VIEWS;opt({target:"ArrayBuffer",stat:!0,forced:!apt},{isView:Hfe.isView})});var Jfe=P(()=>{"use strict";p();var spt=oe(),mz=xh(),lpt=Ot(),Xfe=f2(),Zfe=er(),Yfe=Ju(),upt=Gs(),gz=Xfe.ArrayBuffer,hz=Xfe.DataView,Qfe=hz.prototype,Kfe=mz(gz.prototype.slice),cpt=mz(Qfe.getUint8),ppt=mz(Qfe.setUint8),fpt=lpt(function(){return!new gz(2).slice(1,void 0).byteLength});spt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:fpt},{slice:function(t,r){if(Kfe&&r===void 0)return Kfe(Zfe(this),t);for(var n=Zfe(this).byteLength,i=Yfe(t,n),o=Yfe(r===void 0?n:r,n),l=new gz(upt(o-i)),d=new hz(this),g=new hz(l),_=0;i<o;)ppt(g,_++,cpt(d,i++));return l}})});var ede=P(()=>{"use strict";p();var dpt=oe(),hpt=f2(),mpt=u2();dpt({global:!0,constructor:!0,forced:!mpt},{DataView:hpt.DataView})});var tde=P(()=>{"use strict";p();ede()});var vz=P(()=>{"use strict";p();var gpt=oe(),vpt=xt(),ode=Math.pow,rde=31,ypt=1023,nde=ode(2,-24),ide=.0009765625,_pt=function(e){var t=e>>>15,r=e>>>10&rde,n=e&ypt;return r===rde?n===0?t===0?1/0:-1/0:NaN:r===0?n*(t===0?nde:-nde):ode(2,r-15)*(t===0?1+n*ide:-1-n*ide)},bpt=vpt(DataView.prototype.getUint16);gpt({target:"DataView",proto:!0},{getFloat16:function(t){var r=bpt(this,t,arguments.length>1?arguments[1]:!1);return _pt(r)}})});var yz=P((JIr,ade)=>{"use strict";p();var xpt=_s(),wpt=TypeError;ade.exports=function(e){if(xpt(e)==="DataView")return e;throw new wpt("Argument is not a DataView")}});var _z=P((tTr,sde)=>{"use strict";p();var Spt=Math.log,Ept=Math.LN2;sde.exports=Math.log2||function(t){return Spt(t)/Ept}});var xz=P(()=>{"use strict";p();var Ipt=oe(),Tpt=xt(),Mpt=yz(),Cpt=U0(),Apt=_z(),lde=Q9(),Ppt=Math.pow,Opt=65520,kpt=61005353927612305e-21,Dpt=16777216,bz=1024,Npt=function(e){if(e!==e)return 32256;if(e===0)return(1/e===-1/0)<<15;var t=e<0;if(t&&(e=-e),e>=Opt)return t<<15|31744;if(e<kpt)return t<<15|lde(e*Dpt);var r=Apt(e)|0;if(r===-15)return t<<15|bz;var n=lde((e*Ppt(2,-r)-1)*bz);return n===bz?t<<15|r+16<<10:t<<15|r+15<<10|n},Rpt=Tpt(DataView.prototype.setUint16);Ipt({target:"DataView",proto:!0},{setFloat16:function(t,r){Mpt(this);var n=Cpt(t),i=Npt(+r);return Rpt(this,n,i,arguments.length>2?arguments[2]:!1)}})});var wz=P((aTr,pde)=>{"use strict";p();var cde=Xt(),Lpt=Jw(),qpt=ma(),ude=cde.ArrayBuffer,zpt=cde.TypeError;pde.exports=ude&&Lpt(ude.prototype,"byteLength","get")||function(e){if(qpt(e)!=="ArrayBuffer")throw new zpt("ArrayBuffer expected");return e.byteLength}});var Sz=P((lTr,fde)=>{"use strict";p();var jpt=Xt(),Fpt=u2(),Bpt=wz(),Upt=jpt.DataView;fde.exports=function(e){if(!Fpt||Bpt(e)!==0)return!1;try{return new Upt(e),!1}catch(t){return!0}}});var Ez=P(()=>{"use strict";p();var Vpt=br(),$pt=xi(),Gpt=Sz(),dde=ArrayBuffer.prototype;Vpt&&!("detached"in dde)&&$pt(dde,"detached",{configurable:!0,get:function(){return Gpt(this)}})});var Z0=P((dTr,hde)=>{"use strict";p();var Hpt=Sz(),Wpt=TypeError;hde.exports=function(e){if(Hpt(e))throw new Wpt("ArrayBuffer is detached");return e}});var Iz=P((mTr,mde)=>{"use strict";p();var Zpt=Xt(),Ypt=jg();mde.exports=function(e){if(Ypt){try{return Zpt.process.getBuiltinModule(e)}catch(t){}try{return Function("return require(\""+e+"\")")()}catch(t){}}}});var e5=P((vTr,vde)=>{"use strict";p();var Kpt=Xt(),Xpt=Ot(),Tz=Xu(),Mz=l2(),gde=Kpt.structuredClone;vde.exports=!!gde&&!Xpt(function(){if(Mz==="DENO"&&Tz>92||Mz==="NODE"&&Tz>94||Mz==="BROWSER"&&Tz>97)return!1;var e=new ArrayBuffer(8),t=gde(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var kz=P((_Tr,bde)=>{"use strict";p();var Oz=Xt(),Qpt=Iz(),Jpt=e5(),eft=Oz.structuredClone,yde=Oz.ArrayBuffer,t5=Oz.MessageChannel,Pz=!1,Cz,_de,r5,Az;if(Jpt)Pz=function(e){eft(e,{transfer:[e]})};else if(yde)try{t5||(Cz=Qpt("worker_threads"),Cz&&(t5=Cz.MessageChannel)),t5&&(_de=new t5,r5=new yde(2),Az=function(e){_de.port1.postMessage(null,[e])},r5.byteLength===2&&(Az(r5),r5.byteLength===0&&(Pz=Az)))}catch(e){}bde.exports=Pz});var zz=P((xTr,Mde)=>{"use strict";p();var Rz=Xt(),Lz=xt(),Ede=Jw(),tft=U0(),rft=Z0(),nft=wz(),xde=kz(),Dz=e5(),ift=Rz.structuredClone,Ide=Rz.ArrayBuffer,Nz=Rz.DataView,oft=Math.min,qz=Ide.prototype,Tde=Nz.prototype,aft=Lz(qz.slice),wde=Ede(qz,"resizable","get"),Sde=Ede(qz,"maxByteLength","get"),sft=Lz(Tde.getInt8),lft=Lz(Tde.setInt8);Mde.exports=(Dz||xde)&&function(e,t,r){var n=nft(e),i=t===void 0?n:tft(t),o=!wde||!wde(e),l;if(rft(e),Dz&&(e=ift(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))l=aft(e,0,i);else{var d=r&&!o&&Sde?{maxByteLength:Sde(e)}:void 0;l=new Ide(i,d);for(var g=new Nz(e),_=new Nz(l),E=oft(i,n),T=0;T<E;T++)lft(_,T,sft(g,T))}return Dz||xde(e),l}});var jz=P(()=>{"use strict";p();var uft=oe(),Cde=zz();Cde&&uft({target:"ArrayBuffer",proto:!0},{transfer:function(){return Cde(this,arguments.length?arguments[0]:void 0,!0)}})});var Fz=P(()=>{"use strict";p();var cft=oe(),Ade=zz();Ade&&cft({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Ade(this,arguments.length?arguments[0]:void 0,!1)}})});var Pde=P(()=>{"use strict";p();var pft=oe(),fft=xt(),dft=Ot(),hft=dft(function(){return new Date(16e11).getYear()!==120}),mft=fft(Date.prototype.getFullYear);pft({target:"Date",proto:!0,forced:hft},{getYear:function(){return mft(this)-1900}})});var kde=P(()=>{"use strict";p();var gft=oe(),vft=xt(),Ode=Date,yft=vft(Ode.prototype.getTime);gft({target:"Date",stat:!0},{now:function(){return yft(new Ode)}})});var Rde=P(()=>{"use strict";p();var _ft=oe(),Dde=xt(),bft=bi(),Nde=Date.prototype,xft=Dde(Nde.getTime),wft=Dde(Nde.setFullYear);_ft({target:"Date",proto:!0},{setYear:function(t){xft(this);var r=bft(t),n=r>=0&&r<=99?r+1900:r;return wft(this,n)}})});var Lde=P(()=>{"use strict";p();var Sft=oe();Sft({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var d2=P((BTr,qde)=>{"use strict";p();var Eft=bi(),Ift=Br(),Tft=fi(),Mft=RangeError;qde.exports=function(t){var r=Ift(Tft(this)),n="",i=Eft(t);if(i<0||i===1/0)throw new Mft("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var h2=P((VTr,Bde)=>{"use strict";p();var Fde=xt(),Cft=Gs(),zde=Br(),Aft=d2(),Pft=fi(),Oft=Fde(Aft),kft=Fde("".slice),Dft=Math.ceil,jde=function(e){return function(t,r,n){var i=zde(Pft(t)),o=Cft(r),l=i.length,d=n===void 0?" ":zde(n),g,_;return o<=l||d===""?i:(g=o-l,_=Oft(d,Dft(g/d.length)),_.length>g&&(_=kft(_,0,g)),e?i+_:_+i)}};Bde.exports={start:jde(!1),end:jde(!0)}});var $de=P((GTr,Vde)=>{"use strict";p();var Rh=xt(),Ude=Ot(),Bg=h2().start,Nft=RangeError,Rft=isFinite,Lft=Math.abs,jf=Date.prototype,Bz=jf.toISOString,qft=Rh(jf.getTime),zft=Rh(jf.getUTCDate),jft=Rh(jf.getUTCFullYear),Fft=Rh(jf.getUTCHours),Bft=Rh(jf.getUTCMilliseconds),Uft=Rh(jf.getUTCMinutes),Vft=Rh(jf.getUTCMonth),$ft=Rh(jf.getUTCSeconds);Vde.exports=Ude(function(){return Bz.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!Ude(function(){Bz.call(new Date(NaN))})?function(){if(!Rft(qft(this)))throw new Nft("Invalid time value");var t=this,r=jft(t),n=Bft(t),i=r<0?"-":r>9999?"+":"";return i+Bg(Lft(r),i?6:4,0)+"-"+Bg(Vft(t)+1,2,0)+"-"+Bg(zft(t),2,0)+"T"+Bg(Fft(t),2,0)+":"+Bg(Uft(t),2,0)+":"+Bg($ft(t),2,0)+"."+Bg(n,3,0)+"Z"}:Bz});var Hde=P(()=>{"use strict";p();var Gft=oe(),Gde=$de();Gft({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Gde},{toISOString:Gde})});var Wde=P(()=>{"use strict";p();var Hft=oe(),Wft=Ot(),Zft=pn(),Yft=zw(),Kft=Wft(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});Hft({target:"Date",proto:!0,arity:1,forced:Kft},{toJSON:function(t){var r=Zft(this),n=Yft(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var Yde=P((JTr,Zde)=>{"use strict";p();var Xft=er(),Qft=f7(),Jft=TypeError;Zde.exports=function(e){if(Xft(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new Jft("Incorrect hint");return Qft(this,e)}});var Qde=P(()=>{"use strict";p();var edt=en(),tdt=Zn(),rdt=Yde(),ndt=Or(),Kde=ndt("toPrimitive"),Xde=Date.prototype;edt(Xde,Kde)||tdt(Xde,Kde,rdt)});var rhe=P(()=>{"use strict";p();var ehe=xt(),idt=Zn(),Uz=Date.prototype,Jde="Invalid Date",the="toString",odt=ehe(Uz[the]),adt=ehe(Uz.getTime);String(new Date(NaN))!==Jde&&idt(Uz,the,function(){var t=adt(this);return t===t?odt(this):Jde})});var ihe=P(()=>{"use strict";p();var sdt=oe(),m2=xt(),ldt=Br(),udt=m2("".charAt),cdt=m2("".charCodeAt),pdt=m2(/./.exec),fdt=m2(1 .toString),ddt=m2("".toUpperCase),hdt=/[\w*+\-./@]/,nhe=function(e,t){for(var r=fdt(e,16);r.length<t;)r="0"+r;return r};sdt({global:!0},{escape:function(t){for(var r=ldt(t),n="",i=r.length,o=0,l,d;o<i;)l=udt(r,o++),pdt(hdt,l)?n+=l:(d=cdt(l,0),d<256?n+="%"+nhe(d,2):n+="%u"+ddt(nhe(d,4)));return n}})});var $z=P((cMr,lhe)=>{"use strict";p();var ahe=xt(),mdt=Rr(),gdt=Cr(),vdt=en(),ohe=Hs(),ydt=O0(),she=Function,_dt=ahe([].concat),bdt=ahe([].join),Vz={},xdt=function(e,t,r){if(!vdt(Vz,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";Vz[t]=she("C,a","return new C("+bdt(n,",")+")")}return Vz[t](e,r)};lhe.exports=ydt?she.bind:function(t){var r=mdt(this),n=r.prototype,i=ohe(arguments,1),o=function(){var d=_dt(i,ohe(arguments));return this instanceof o?xdt(r,d.length,d):r.apply(t,d)};return gdt(n)&&(o.prototype=n),o}});var che=P(()=>{"use strict";p();var wdt=oe(),uhe=$z();wdt({target:"Function",proto:!0,forced:Function.bind!==uhe},{bind:uhe})});var dhe=P(()=>{"use strict";p();var Sdt=Kr(),phe=Cr(),Edt=ci(),Idt=ga(),Tdt=Or(),Mdt=Vw(),Gz=Tdt("hasInstance"),fhe=Function.prototype;Gz in fhe||Edt.f(fhe,Gz,{value:Mdt(function(e){if(!Sdt(this)||!phe(e))return!1;var t=this.prototype;return phe(t)?Idt(t,e):e instanceof this},Gz)})});var vhe=P(()=>{"use strict";p();var Cdt=br(),Adt=Ag().EXISTS,hhe=xt(),Pdt=xi(),mhe=Function.prototype,Odt=hhe(mhe.toString),ghe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,kdt=hhe(ghe.exec),Ddt="name";Cdt&&!Adt&&Pdt(mhe,Ddt,{configurable:!0,get:function(){try{return kdt(ghe,Odt(this))[1]}catch(e){return""}}})});var Wz=P(()=>{"use strict";p();var Ndt=oe(),Hz=Xt();Ndt({global:!0,forced:Hz.globalThis!==Hz},{globalThis:Hz})});var Qz=P(()=>{"use strict";p();var Rdt=oe(),Ldt=Xt(),qdt=Ya(),zdt=er(),jdt=Kr(),Fdt=Io(),Bdt=xi(),Udt=lu(),Vdt=Ot(),Kz=en(),$dt=Or(),pp=Mh().IteratorPrototype,Gdt=br(),Hdt=An(),Zz="constructor",_he="Iterator",yhe=$dt("toStringTag"),bhe=TypeError,Yz=Ldt[_he],xhe=Hdt||!jdt(Yz)||Yz.prototype!==pp||!Vdt(function(){Yz({})}),Xz=function(){if(qdt(this,pp),Fdt(this)===pp)throw new bhe("Abstract class Iterator not directly constructable")},whe=function(e,t){Gdt?Bdt(pp,e,{configurable:!0,get:function(){return t},set:function(r){if(zdt(this),this===pp)throw new bhe("You can't redefine this property");Kz(this,e)?this[e]=r:Udt(this,e,r)}}):pp[e]=t};Kz(pp,yhe)||whe(yhe,_he);(xhe||!Kz(pp,Zz)||pp[Zz]===Object)&&whe(Zz,Xz);Xz.prototype=pp;Rdt({global:!0,constructor:!0,forced:xhe},{Iterator:Xz})});var Ci=P((MMr,She)=>{"use strict";p();She.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var Y0=P((AMr,Ehe)=>{"use strict";p();var Wdt=RangeError;Ehe.exports=function(e){if(e===e)return e;throw new Wdt("NaN is not allowed")}});var K0=P((OMr,Ihe)=>{"use strict";p();var Zdt=bi(),Ydt=RangeError;Ihe.exports=function(e){var t=Zdt(e);if(t<0)throw new Ydt("The argument can't be less than 0");return t}});var Lh=P((DMr,Ohe)=>{"use strict";p();var Kdt=Qt(),Xdt=Qi(),Qdt=Eo(),Jdt=cu(),eht=Or(),The=Un(),tht=Xi(),rht=Mh().IteratorPrototype,n5=zo(),Jz=Xo(),nht=eht("toStringTag"),Mhe="IteratorHelper",Che="WrapForValidIterator",iht=The.set,Ahe=function(e){var t=The.getterFor(e?Che:Mhe);return Jdt(Xdt(rht),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return n5(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:n5(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=tht(n,"return");return i?Kdt(i,n):n5(void 0,!0)}if(r.inner)try{Jz(r.inner.iterator,"normal")}catch(o){return Jz(n,"throw",o)}return n&&Jz(n,"normal"),n5(void 0,!0)}})},oht=Ahe(!0),Phe=Ahe(!1);Qdt(Phe,nht,"Iterator Helper");Ohe.exports=function(e,t,r){var n=function(o,l){l?(l.iterator=o.iterator,l.next=o.next):l=o,l.type=t?Che:Mhe,l.returnHandlerResult=!!r,l.nextHandler=e,l.counter=0,l.done=!1,iht(this,l)};return n.prototype=t?oht:Phe,n}});var ic=P((RMr,khe)=>{"use strict";p();var aht=Xt();khe.exports=function(e,t){var r=aht.Iterator,n=r&&r.prototype,i=n&&n[e],o=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){o=!0}},-1)}catch(l){l instanceof t||(o=!1)}if(!o)return i}});var nj=P(()=>{"use strict";p();var sht=oe(),tj=Qt(),rj=er(),lht=Ci(),uht=Y0(),cht=K0(),pht=Xo(),fht=Lh(),dht=ic(),Dhe=An(),ej=!Dhe&&dht("drop",RangeError),hht=fht(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=rj(tj(t,e)),n=this.done=!!r.done,n)return;if(r=rj(tj(t,e)),n=this.done=!!r.done,!n)return r.value});sht({target:"Iterator",proto:!0,real:!0,forced:Dhe||ej},{drop:function(t){rj(this);var r;try{r=cht(uht(+t))}catch(n){pht(this,"throw",n)}return ej?tj(ej,this,r):new hht(lht(this),{remaining:r})}})});var oj=P(()=>{"use strict";p();var mht=oe(),ght=Qt(),vht=zi(),yht=Rr(),_ht=er(),bht=Ci(),xht=Xo(),wht=ic(),ij=wht("every",TypeError);mht({target:"Iterator",proto:!0,real:!0,forced:ij},{every:function(t){_ht(this);try{yht(t)}catch(i){xht(this,"throw",i)}if(ij)return ght(ij,this,t);var r=bht(this),n=0;return!vht(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var sj=P(()=>{"use strict";p();var Sht=oe(),Nhe=Qt(),Eht=Rr(),Rhe=er(),Iht=Ci(),Tht=Lh(),Mht=DA(),Lhe=An(),Cht=Xo(),Aht=ic(),aj=!Lhe&&Aht("filter",TypeError),Pht=Tht(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=Rhe(Nhe(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,Mht(e,t,[o,this.counter++],!0))return o}});Sht({target:"Iterator",proto:!0,real:!0,forced:Lhe||aj},{filter:function(t){Rhe(this);try{Eht(t)}catch(r){Cht(this,"throw",r)}return aj?Nhe(aj,this,t):new Pht(Iht(this),{predicate:t})}})});var uj=P(()=>{"use strict";p();var Oht=oe(),kht=Qt(),Dht=zi(),Nht=Rr(),Rht=er(),Lht=Ci(),qht=Xo(),zht=ic(),lj=zht("find",TypeError);Oht({target:"Iterator",proto:!0,real:!0,forced:lj},{find:function(t){Rht(this);try{Nht(t)}catch(i){qht(this,"throw",i)}if(lj)return kht(lj,this,t);var r=Lht(this),n=0;return Dht(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var cj=P((YMr,zhe)=>{"use strict";p();var jht=Qt(),qhe=er(),Fht=Ci(),Bht=lp();zhe.exports=function(e,t){(!t||typeof e!="string")&&qhe(e);var r=Bht(e);return Fht(qhe(r!==void 0?jht(r,e):e))}});var mj=P(()=>{"use strict";p();var Uht=oe(),fj=Qt(),Vht=Rr(),dj=er(),$ht=Ci(),Ght=cj(),Hht=Lh(),hj=Xo(),jhe=An(),Wht=ic(),pj=!jhe&&Wht("flatMap",TypeError),Zht=Hht(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=dj(fj(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){hj(e,"throw",i)}if(r=dj(fj(this.next,e)),this.done=!!r.done)return;try{this.inner=Ght(t(r.value,this.counter++),!1)}catch(i){hj(e,"throw",i)}}});Uht({target:"Iterator",proto:!0,real:!0,forced:jhe||pj},{flatMap:function(t){dj(this);try{Vht(t)}catch(r){hj(this,"throw",r)}return pj?fj(pj,this,t):new Zht($ht(this),{mapper:t,inner:null})}})});var vj=P(()=>{"use strict";p();var Yht=oe(),Kht=Qt(),Xht=zi(),Qht=Rr(),Jht=er(),emt=Ci(),tmt=Xo(),rmt=ic(),gj=rmt("forEach",TypeError);Yht({target:"Iterator",proto:!0,real:!0,forced:gj},{forEach:function(t){Jht(this);try{Qht(t)}catch(i){tmt(this,"throw",i)}if(gj)return Kht(gj,this,t);var r=emt(this),n=0;Xht(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var yj=P(()=>{"use strict";p();var nmt=oe(),imt=Qt(),omt=pn(),amt=ga(),smt=Mh().IteratorPrototype,lmt=Lh(),umt=cj(),cmt=An(),pmt=lmt(function(){return imt(this.next,this.iterator)},!0);nmt({target:"Iterator",stat:!0,forced:cmt},{from:function(t){var r=umt(typeof t=="string"?omt(t):t,!0);return amt(smt,r.iterator)?r.iterator:new pmt(r)}})});var i5=P(()=>{"use strict";p();var fmt=oe(),Fhe=Qt(),dmt=Rr(),Bhe=er(),hmt=Ci(),mmt=Lh(),gmt=DA(),vmt=Xo(),ymt=ic(),Uhe=An(),_j=!Uhe&&ymt("map",TypeError),_mt=mmt(function(){var e=this.iterator,t=Bhe(Fhe(this.next,e)),r=this.done=!!t.done;if(!r)return gmt(e,this.mapper,[t.value,this.counter++],!0)});fmt({target:"Iterator",proto:!0,real:!0,forced:Uhe||_j},{map:function(t){Bhe(this);try{dmt(t)}catch(r){vmt(this,"throw",r)}return _j?Fhe(_j,this,t):new _mt(hmt(this),{mapper:t})}})});var xj=P(()=>{"use strict";p();var bmt=oe(),xmt=zi(),wmt=Rr(),Smt=er(),Emt=Ci(),Imt=Xo(),Tmt=ic(),Mmt=va(),Cmt=Ot(),Vhe=TypeError,$he=Cmt(function(){[].keys().reduce(function(){},void 0)}),bj=!$he&&Tmt("reduce",Vhe);bmt({target:"Iterator",proto:!0,real:!0,forced:$he||bj},{reduce:function(t){Smt(this);try{wmt(t)}catch(l){Imt(this,"throw",l)}var r=arguments.length<2,n=r?void 0:arguments[1];if(bj)return Mmt(bj,this,r?[t]:[t,n]);var i=Emt(this),o=0;if(xmt(i,function(l){r?(r=!1,n=l):n=t(n,l,o),o++},{IS_RECORD:!0}),r)throw new Vhe("Reduce of empty iterator with no initial value");return n}})});var Sj=P(()=>{"use strict";p();var Amt=oe(),Pmt=Qt(),Omt=zi(),kmt=Rr(),Dmt=er(),Nmt=Ci(),Rmt=Xo(),Lmt=ic(),wj=Lmt("some",TypeError);Amt({target:"Iterator",proto:!0,real:!0,forced:wj},{some:function(t){Dmt(this);try{kmt(t)}catch(i){Rmt(this,"throw",i)}if(wj)return Pmt(wj,this,t);var r=Nmt(this),n=0;return Omt(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var Ij=P(()=>{"use strict";p();var qmt=oe(),Ghe=Qt(),Hhe=er(),zmt=Ci(),jmt=Y0(),Fmt=K0(),Bmt=Lh(),Whe=Xo(),Umt=ic(),Zhe=An(),Ej=!Zhe&&Umt("take",RangeError),Vmt=Bmt(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,Whe(e,"normal",void 0);var t=Hhe(Ghe(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});qmt({target:"Iterator",proto:!0,real:!0,forced:Zhe||Ej},{take:function(t){Hhe(this);var r;try{r=Fmt(jmt(+t))}catch(n){Whe(this,"throw",n)}return Ej?Ghe(Ej,this,r):new Vmt(zmt(this),{remaining:r})}})});var Tj=P(()=>{"use strict";p();var $mt=oe(),Gmt=er(),Hmt=zi(),Wmt=Ci(),Zmt=[].push;$mt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return Hmt(Wmt(Gmt(this)),Zmt,{that:t,IS_RECORD:!0}),t}})});var Yhe=P(()=>{"use strict";p();var Ymt=Xt(),Kmt=bs();Kmt(Ymt.JSON,"JSON",!0)});var o5=P((ECr,Khe)=>{"use strict";p();var Xmt=Ot();Khe.exports=Xmt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var s5=P((TCr,Qhe)=>{"use strict";p();var Qmt=Ot(),Jmt=Cr(),egt=ma(),Xhe=o5(),a5=Object.isExtensible,tgt=Qmt(function(){a5(1)});Qhe.exports=tgt||Xhe?function(t){return!Jmt(t)||Xhe&&egt(t)==="ArrayBuffer"?!1:a5?a5(t):!0}:a5});var Ff=P((CCr,Jhe)=>{"use strict";p();var rgt=Ot();Jhe.exports=!rgt(function(){return Object.isExtensible(Object.preventExtensions({}))})});var qh=P((PCr,rme)=>{"use strict";p();var ngt=oe(),igt=xt(),ogt=D0(),agt=Cr(),Mj=en(),sgt=ci().f,eme=bh(),lgt=hA(),Cj=s5(),ugt=_h(),cgt=Ff(),tme=!1,Bf=ugt("meta"),pgt=0,Aj=function(e){sgt(e,Bf,{value:{objectID:"O"+pgt++,weakData:{}}})},fgt=function(e,t){if(!agt(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Mj(e,Bf)){if(!Cj(e))return"F";if(!t)return"E";Aj(e)}return e[Bf].objectID},dgt=function(e,t){if(!Mj(e,Bf)){if(!Cj(e))return!0;if(!t)return!1;Aj(e)}return e[Bf].weakData},hgt=function(e){return cgt&&tme&&Cj(e)&&!Mj(e,Bf)&&Aj(e),e},mgt=function(){ggt.enable=function(){},tme=!0;var e=eme.f,t=igt([].splice),r={};r[Bf]=1,e(r).length&&(eme.f=function(n){for(var i=e(n),o=0,l=i.length;o<l;o++)if(i[o]===Bf){t(i,o,1);break}return i},ngt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lgt.f}))},ggt=rme.exports={enable:mgt,fastKey:fgt,getWeakData:dgt,onFreeze:hgt};ogt[Bf]=!0});var g2=P((kCr,ime)=>{"use strict";p();var vgt=oe(),ygt=Xt(),_gt=xt(),nme=R0(),bgt=Zn(),xgt=qh(),wgt=zi(),Sgt=Ya(),Egt=Kr(),Igt=$s(),Pj=Cr(),Oj=Ot(),Tgt=r2(),Mgt=bs(),Cgt=Eh();ime.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",l=ygt[e],d=l&&l.prototype,g=l,_={},E=function(R){var j=_gt(d[R]);bgt(d,R,R==="add"?function(Y){return j(this,Y===0?0:Y),this}:R==="delete"?function(H){return i&&!Pj(H)?!1:j(this,H===0?0:H)}:R==="get"?function(Y){return i&&!Pj(Y)?void 0:j(this,Y===0?0:Y)}:R==="has"?function(Y){return i&&!Pj(Y)?!1:j(this,Y===0?0:Y)}:function(Y,re){return j(this,Y===0?0:Y,re),this})},T=nme(e,!Egt(l)||!(i||d.forEach&&!Oj(function(){new l().entries().next()})));if(T)g=r.getConstructor(t,e,n,o),xgt.enable();else if(nme(e,!0)){var A=new g,L=A[o](i?{}:-0,1)!==A,z=Oj(function(){A.has(1)}),U=Tgt(function(R){new l(R)}),N=!i&&Oj(function(){for(var R=new l,j=5;j--;)R[o](j,j);return!R.has(-0)});U||(g=t(function(R,j){Sgt(R,d);var H=Cgt(new l,R,g);return Igt(j)||wgt(j,H[o],{that:H,AS_ENTRIES:n}),H}),g.prototype=d,d.constructor=g),(z||N)&&(E("delete"),E("has"),n&&E("get")),(N||L)&&E(o),i&&d.clear&&delete d.clear}return _[e]=g,vgt({global:!0,constructor:!0,forced:g!==l},_),Mgt(g,e),i||r.setStrong(g,e,n),g}});var Dj=P((NCr,cme)=>{"use strict";p();var ome=Qi(),Agt=xi(),ame=cu(),Pgt=ti(),Ogt=Ya(),kgt=$s(),Dgt=zi(),Ngt=LA(),l5=zo(),Rgt=Ph(),v2=br(),sme=qh().fastKey,ume=Un(),lme=ume.set,kj=ume.getterFor;cme.exports={getConstructor:function(e,t,r,n){var i=e(function(_,E){Ogt(_,o),lme(_,{type:t,index:ome(null),first:null,last:null,size:0}),v2||(_.size=0),kgt(E)||Dgt(E,_[n],{that:_,AS_ENTRIES:r})}),o=i.prototype,l=kj(t),d=function(_,E,T){var A=l(_),L=g(_,E),z,U;return L?L.value=T:(A.last=L={index:U=sme(E,!0),key:E,value:T,previous:z=A.last,next:null,removed:!1},A.first||(A.first=L),z&&(z.next=L),v2?A.size++:_.size++,U!=="F"&&(A.index[U]=L)),_},g=function(_,E){var T=l(_),A=sme(E),L;if(A!=="F")return T.index[A];for(L=T.first;L;L=L.next)if(L.key===E)return L};return ame(o,{clear:function(){for(var E=this,T=l(E),A=T.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=null),A=A.next;T.first=T.last=null,T.index=ome(null),v2?T.size=0:E.size=0},delete:function(_){var E=this,T=l(E),A=g(E,_);if(A){var L=A.next,z=A.previous;delete T.index[A.index],A.removed=!0,z&&(z.next=L),L&&(L.previous=z),T.first===A&&(T.first=L),T.last===A&&(T.last=z),v2?T.size--:E.size--}return!!A},forEach:function(E){for(var T=l(this),A=Pgt(E,arguments.length>1?arguments[1]:void 0),L;L=L?L.next:T.first;)for(A(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(E){return!!g(this,E)}}),ame(o,r?{get:function(E){var T=g(this,E);return T&&T.value},set:function(E,T){return d(this,E===0?0:E,T)}}:{add:function(E){return d(this,E=E===0?0:E,E)}}),v2&&Agt(o,"size",{configurable:!0,get:function(){return l(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=kj(t),o=kj(n);Ngt(e,t,function(l,d){lme(this,{type:n,target:l,state:i(l),kind:d,last:null})},function(){for(var l=o(this),d=l.kind,g=l.last;g&&g.removed;)g=g.previous;return!l.target||!(l.last=g=g?g.next:l.state.first)?(l.target=null,l5(void 0,!0)):l5(d==="keys"?g.key:d==="values"?g.value:[g.key,g.value],!1)},r?"entries":"values",!r,!0),Rgt(t)}}});var pme=P(()=>{"use strict";p();var Lgt=g2(),qgt=Dj();Lgt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},qgt)});var u5=P(()=>{"use strict";p();pme()});var jo=P((UCr,fme)=>{"use strict";p();var c5=xt(),y2=Map.prototype;fme.exports={Map,set:c5(y2.set),get:c5(y2.get),has:c5(y2.has),remove:c5(y2.delete),proto:y2}});var Nj=P(()=>{"use strict";p();var zgt=oe(),jgt=xt(),Fgt=Rr(),Bgt=fi(),Ugt=zi(),p5=jo(),dme=An(),Vgt=Ot(),hme=p5.Map,$gt=p5.has,Ggt=p5.get,Hgt=p5.set,Wgt=jgt([].push),Zgt=dme||Vgt(function(){return hme.groupBy("ab",function(e){return e}).get("a").length!==1});zgt({target:"Map",stat:!0,forced:dme||Zgt},{groupBy:function(t,r){Bgt(t),Fgt(r);var n=new hme,i=0;return Ugt(t,function(o){var l=r(o,i++);$gt(n,l)?Wgt(Ggt(n,l),o):Hgt(n,l,[o])}),n}})});var Rj=P((WCr,mme)=>{"use strict";p();var Ygt=Math.log;mme.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:Ygt(1+r)}});var vme=P(()=>{"use strict";p();var Kgt=oe(),Xgt=Rj(),Lj=Math.acosh,Qgt=Math.log,gme=Math.sqrt,Jgt=Math.LN2,evt=!Lj||Math.floor(Lj(Number.MAX_VALUE))!==710||Lj(1/0)!==1/0;Kgt({target:"Math",stat:!0,forced:evt},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?Qgt(r)+Jgt:Xgt(r-1+gme(r-1)*gme(r+1))}})});var bme=P(()=>{"use strict";p();var tvt=oe(),yme=Math.asinh,rvt=Math.log,nvt=Math.sqrt;function _me(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-_me(-t):rvt(t+nvt(t*t+1))}var ivt=!(yme&&1/yme(0)>0);tvt({target:"Math",stat:!0,forced:ivt},{asinh:_me})});var wme=P(()=>{"use strict";p();var ovt=oe(),xme=Math.atanh,avt=Math.log,svt=!(xme&&1/xme(-0)<0);ovt({target:"Math",stat:!0,forced:svt},{atanh:function(t){var r=+t;return r===0?r:avt((1+r)/(1-r))/2}})});var Sme=P(()=>{"use strict";p();var lvt=oe(),uvt=UA(),cvt=Math.abs,pvt=Math.pow;lvt({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return uvt(r)*pvt(cvt(r),1/3)}})});var Eme=P(()=>{"use strict";p();var fvt=oe(),dvt=Math.floor,hvt=Math.log,mvt=Math.LOG2E;fvt({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-dvt(hvt(r+.5)*mvt):32}})});var b2=P((cAr,Ime)=>{"use strict";p();var _2=Math.expm1,gvt=Math.exp;Ime.exports=!_2||_2(10)>22025.465794806718||_2(10)<22025.465794806718||_2(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:gvt(r)-1}:_2});var Mme=P(()=>{"use strict";p();var vvt=oe(),yvt=b2(),Tme=Math.cosh,_vt=Math.abs,qj=Math.E,bvt=!Tme||Tme(710)===1/0;vvt({target:"Math",stat:!0,forced:bvt},{cosh:function(t){var r=yvt(_vt(t)-1)+1;return(r+1/(r*qj*qj))*(qj/2)}})});var Ame=P(()=>{"use strict";p();var xvt=oe(),Cme=b2();xvt({target:"Math",stat:!0,forced:Cme!==Math.expm1},{expm1:Cme})});var Pme=P(()=>{"use strict";p();var wvt=oe(),Svt=VA();wvt({target:"Math",stat:!0},{fround:Svt})});var zj=P(()=>{"use strict";p();var Evt=oe(),Ivt=J9(),Tvt=.0009765625,Mvt=65504,Cvt=6103515625e-14;Evt({target:"Math",stat:!0},{f16round:function(t){return Ivt(t,Tvt,Mvt,Cvt)}})});var kme=P(()=>{"use strict";p();var Avt=oe(),Ome=Math.hypot,Pvt=Math.abs,Ovt=Math.sqrt,kvt=!!Ome&&Ome(1/0,NaN)!==1/0;Avt({target:"Math",stat:!0,arity:2,forced:kvt},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,l=0,d,g;i<o;)d=Pvt(arguments[i++]),l<d?(g=l/d,n=n*g*g+1,l=d):d>0?(g=d/l,n+=g*g):n+=d;return l===1/0?1/0:l*Ovt(n)}})});var Nme=P(()=>{"use strict";p();var Dvt=oe(),Nvt=Ot(),Dme=Math.imul,Rvt=Nvt(function(){return Dme(4294967295,5)!==-5||Dme.length!==2});Dvt({target:"Math",stat:!0,forced:Rvt},{imul:function(t,r){var n=65535,i=+t,o=+r,l=n&i,d=n&o;return 0|l*d+((n&i>>>16)*d+l*(n&o>>>16)<<16>>>0)}})});var jj=P((PAr,Rme)=>{"use strict";p();var Lvt=Math.log,qvt=Math.LOG10E;Rme.exports=Math.log10||function(t){return Lvt(t)*qvt}});var Lme=P(()=>{"use strict";p();var zvt=oe(),jvt=jj();zvt({target:"Math",stat:!0},{log10:jvt})});var qme=P(()=>{"use strict";p();var Fvt=oe(),Bvt=Rj();Fvt({target:"Math",stat:!0},{log1p:Bvt})});var zme=P(()=>{"use strict";p();var Uvt=oe(),Vvt=_z();Uvt({target:"Math",stat:!0},{log2:Vvt})});var jme=P(()=>{"use strict";p();var $vt=oe(),Gvt=UA();$vt({target:"Math",stat:!0},{sign:Gvt})});var Ume=P(()=>{"use strict";p();var Hvt=oe(),Wvt=Ot(),Fme=b2(),Zvt=Math.abs,Bme=Math.exp,Yvt=Math.E,Kvt=Wvt(function(){return Math.sinh(-2e-17)!==-2e-17});Hvt({target:"Math",stat:!0,forced:Kvt},{sinh:function(t){var r=+t;return Zvt(r)<1?(Fme(r)-Fme(-r))/2:(Bme(r-1)-Bme(-r-1))*(Yvt/2)}})});var Gme=P(()=>{"use strict";p();var Xvt=oe(),Vme=b2(),$me=Math.exp;Xvt({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=Vme(r),i=Vme(-r);return n===1/0?1:i===1/0?-1:(n-i)/($me(r)+$me(-r))}})});var Hme=P(()=>{"use strict";p();var Qvt=bs();Qvt(Math,"Math",!0)});var Wme=P(()=>{"use strict";p();var Jvt=oe(),eyt=P7();Jvt({target:"Math",stat:!0},{trunc:eyt})});var x2=P((r5r,Zme)=>{"use strict";p();var tyt=xt();Zme.exports=tyt(1 .valueOf)});var Ug=P((i5r,Yme)=>{"use strict";p();Yme.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Vg=P((a5r,Xme)=>{"use strict";p();var ryt=xt(),nyt=fi(),iyt=Br(),Bj=Ug(),Kme=ryt("".replace),oyt=RegExp("^["+Bj+"]+"),ayt=RegExp("(^|[^"+Bj+"])["+Bj+"]+$"),Fj=function(e){return function(t){var r=iyt(nyt(t));return e&1&&(r=Kme(r,oyt,"")),e&2&&(r=Kme(r,ayt,"$1")),r}};Xme.exports={start:Fj(1),end:Fj(2),trim:Fj(3)}});var ige=P(()=>{"use strict";p();var syt=oe(),Uj=An(),lyt=br(),ege=Xt(),Vj=mA(),tge=xt(),uyt=R0(),Qme=en(),cyt=Eh(),pyt=ga(),fyt=Pf(),rge=zw(),dyt=Ot(),hyt=bh().f,myt=Yo().f,gyt=ci().f,vyt=x2(),yyt=Vg().trim,w2="Number",X0=ege[w2],Jme=Vj[w2],$j=X0.prototype,_yt=ege.TypeError,byt=tge("".slice),f5=tge("".charCodeAt),xyt=function(e){var t=rge(e,"number");return typeof t=="bigint"?t:wyt(t)},wyt=function(e){var t=rge(e,"number"),r,n,i,o,l,d,g,_;if(fyt(t))throw new _yt("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=yyt(t),r=f5(t,0),r===43||r===45){if(n=f5(t,2),n===88||n===120)return NaN}else if(r===48){switch(f5(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(l=byt(t,2),d=l.length,g=0;g<d;g++)if(_=f5(l,g),_<48||_>o)return NaN;return parseInt(l,i)}}return+t},Gj=uyt(w2,!X0(" 0o1")||!X0("0b1")||X0("+0x1")),Syt=function(e){return pyt($j,e)&&dyt(function(){vyt(e)})},d5=function(t){var r=arguments.length<1?0:X0(xyt(t));return Syt(this)?cyt(Object(r),this,d5):r};d5.prototype=$j;Gj&&!Uj&&($j.constructor=d5);syt({global:!0,constructor:!0,wrap:!0,forced:Gj},{Number:d5});var nge=function(e,t){for(var r=lyt?hyt(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Qme(t,i=r[n])&&!Qme(e,i)&&gyt(e,i,myt(t,i))};Uj&&Jme&&nge(Vj[w2],Jme);(Gj||Uj)&&nge(Vj[w2],X0)});var oge=P(()=>{"use strict";p();var Eyt=oe();Eyt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var Hj=P((h5r,age)=>{"use strict";p();var Iyt=Xt(),Tyt=Iyt.isFinite;age.exports=Number.isFinite||function(t){return typeof t=="number"&&Tyt(t)}});var sge=P(()=>{"use strict";p();var Myt=oe(),Cyt=Hj();Myt({target:"Number",stat:!0},{isFinite:Cyt})});var h5=P((_5r,lge)=>{"use strict";p();var Ayt=Cr(),Pyt=Math.floor;lge.exports=Number.isInteger||function(t){return!Ayt(t)&&isFinite(t)&&Pyt(t)===t}});var uge=P(()=>{"use strict";p();var Oyt=oe(),kyt=h5();Oyt({target:"Number",stat:!0},{isInteger:kyt})});var cge=P(()=>{"use strict";p();var Dyt=oe();Dyt({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var pge=P(()=>{"use strict";p();var Nyt=oe(),Ryt=h5(),Lyt=Math.abs;Nyt({target:"Number",stat:!0},{isSafeInteger:function(t){return Ryt(t)&&Lyt(t)<=9007199254740991}})});var fge=P(()=>{"use strict";p();var qyt=oe();qyt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var dge=P(()=>{"use strict";p();var zyt=oe();zyt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var Wj=P((L5r,vge)=>{"use strict";p();var gge=Xt(),jyt=Ot(),Fyt=xt(),Byt=Br(),Uyt=Vg().trim,Vyt=Ug(),$yt=Fyt("".charAt),m5=gge.parseFloat,hge=gge.Symbol,mge=hge&&hge.iterator,Gyt=1/m5(Vyt+"-0")!==-1/0||mge&&!jyt(function(){m5(Object(mge))});vge.exports=Gyt?function(t){var r=Uyt(Byt(t)),n=m5(r);return n===0&&$yt(r,0)==="-"?-0:n}:m5});var _ge=P(()=>{"use strict";p();var Hyt=oe(),yge=Wj();Hyt({target:"Number",stat:!0,forced:Number.parseFloat!==yge},{parseFloat:yge})});var Zj=P((B5r,Ige)=>{"use strict";p();var Sge=Xt(),Wyt=Ot(),Zyt=xt(),Yyt=Br(),Kyt=Vg().trim,bge=Ug(),S2=Sge.parseInt,xge=Sge.Symbol,wge=xge&&xge.iterator,Ege=/^[+-]?0x/i,Xyt=Zyt(Ege.exec),Qyt=S2(bge+"08")!==8||S2(bge+"0x16")!==22||wge&&!Wyt(function(){S2(Object(wge))});Ige.exports=Qyt?function(t,r){var n=Kyt(Yyt(t));return S2(n,r>>>0||(Xyt(Ege,n)?16:10))}:S2});var Mge=P(()=>{"use strict";p();var Jyt=oe(),Tge=Zj();Jyt({target:"Number",stat:!0,forced:Number.parseInt!==Tge},{parseInt:Tge})});var kge=P(()=>{"use strict";p();var e0t=oe(),Kj=xt(),t0t=bi(),r0t=x2(),n0t=d2(),i0t=jj(),Yj=Ot(),o0t=RangeError,Cge=String,a0t=isFinite,s0t=Math.abs,l0t=Math.floor,Age=Math.pow,u0t=Math.round,fp=Kj(1 .toExponential),c0t=Kj(n0t),Pge=Kj("".slice),Oge=fp(-69e-12,4)==="-6.9000e-11"&&fp(1.255,2)==="1.25e+0"&&fp(12345,3)==="1.235e+4"&&fp(25,0)==="3e+1",p0t=function(){return Yj(function(){fp(1,1/0)})&&Yj(function(){fp(1,-1/0)})},f0t=function(){return!Yj(function(){fp(1/0,1/0),fp(NaN,1/0)})},d0t=!Oge||!p0t()||!f0t();e0t({target:"Number",proto:!0,forced:d0t},{toExponential:function(t){var r=r0t(this);if(t===void 0)return fp(r);var n=t0t(t);if(!a0t(r))return String(r);if(n<0||n>20)throw new o0t("Incorrect fraction digits");if(Oge)return fp(r,n);var i="",o,l,d,g;if(r<0&&(i="-",r=-r),r===0)l=0,o=c0t("0",n+1);else{var _=i0t(r);l=l0t(_);var E=Age(10,l-n),T=u0t(r/E);2*r>=(2*T+1)*E&&(T+=1),T>=Age(10,n+1)&&(T/=10,l+=1),o=Cge(T)}return n!==0&&(o=Pge(o,0,1)+"."+Pge(o,1)),l===0?(d="+",g="0"):(d=l>0?"+":"-",g=Cge(s0t(l))),o+="e"+d+g,i+o}})});var zge=P(()=>{"use strict";p();var h0t=oe(),Jj=xt(),m0t=bi(),g0t=x2(),v0t=d2(),Dge=Ot(),y0t=RangeError,Lge=String,qge=Math.floor,Qj=Jj(v0t),Nge=Jj("".slice),E2=Jj(1 .toFixed),J0=function(e,t,r){return t===0?r:t%2===1?J0(e,t-1,r*e):J0(e*e,t/2,r)},_0t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},Q0=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=qge(i/1e7)},Xj=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=qge(n/t),n=n%t*1e7},Rge=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=Lge(e[t]);r=r===""?n:r+Qj("0",7-n.length)+n}return r},b0t=Dge(function(){return E2(8e-5,3)!=="0.000"||E2(.9,0)!=="1"||E2(1.255,2)!=="1.25"||E2(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!Dge(function(){E2({})});h0t({target:"Number",proto:!0,forced:b0t},{toFixed:function(t){var r=g0t(this),n=m0t(t),i=[0,0,0,0,0,0],o="",l="0",d,g,_,E;if(n<0||n>20)throw new y0t("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return Lge(r);if(r<0&&(o="-",r=-r),r>1e-21)if(d=_0t(r*J0(2,69,1))-69,g=d<0?r*J0(2,-d,1):r/J0(2,d,1),g*=4503599627370496,d=52-d,d>0){for(Q0(i,0,g),_=n;_>=7;)Q0(i,1e7,0),_-=7;for(Q0(i,J0(10,_,1),0),_=d-1;_>=23;)Xj(i,1<<23),_-=23;Xj(i,1<<_),Q0(i,1,1),Xj(i,2),l=Rge(i)}else Q0(i,0,g),Q0(i,1<<-d,0),l=Rge(i)+Qj("0",n);return n>0?(E=l.length,l=o+(E<=n?"0."+Qj("0",n-E)+l:Nge(l,0,E-n)+"."+Nge(l,E-n))):l=o+l,l}})});var Bge=P(()=>{"use strict";p();var x0t=oe(),w0t=xt(),jge=Ot(),Fge=x2(),g5=w0t(1 .toPrecision),S0t=jge(function(){return g5(1,void 0)!=="1"})||!jge(function(){g5({})});x0t({target:"Number",proto:!0,forced:S0t},{toPrecision:function(t){return t===void 0?g5(Fge(this)):g5(Fge(this),t)}})});var tF=P((t3r,$ge)=>{"use strict";p();var Uge=br(),E0t=xt(),I0t=Qt(),T0t=Ot(),eF=kg(),M0t=$w(),C0t=Lw(),A0t=pn(),P0t=Af(),e1=Object.assign,Vge=Object.defineProperty,O0t=E0t([].concat);$ge.exports=!e1||T0t(function(){if(Uge&&e1({b:1},e1(Vge({},"a",{enumerable:!0,get:function(){Vge(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),e1({},e)[r]!==7||eF(e1({},t)).join("")!==n})?function(t,r){for(var n=A0t(t),i=arguments.length,o=1,l=M0t.f,d=C0t.f;i>o;)for(var g=P0t(arguments[o++]),_=l?O0t(eF(g),l(g)):eF(g),E=_.length,T=0,A;E>T;)A=_[T++],(!Uge||I0t(d,g,A))&&(n[A]=g[A]);return n}:e1});var Hge=P(()=>{"use strict";p();var k0t=oe(),Gge=tF();k0t({target:"Object",stat:!0,arity:2,forced:Object.assign!==Gge},{assign:Gge})});var Wge=P(()=>{"use strict";p();var D0t=oe(),N0t=br(),R0t=Qi();D0t({target:"Object",stat:!0,sham:!N0t},{create:R0t})});var I2=P((u3r,Yge)=>{"use strict";p();var L0t=An(),q0t=Xt(),z0t=Ot(),Zge=BA();Yge.exports=L0t||!z0t(function(){if(!(Zge&&Zge<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete q0t[e]}})});var Kge=P(()=>{"use strict";p();var j0t=oe(),F0t=br(),B0t=I2(),U0t=Rr(),V0t=pn(),$0t=ci();F0t&&j0t({target:"Object",proto:!0,forced:B0t},{__defineGetter__:function(t,r){$0t.f(V0t(this),t,{get:U0t(r),enumerable:!0,configurable:!0})}})});var Qge=P(()=>{"use strict";p();var G0t=oe(),H0t=br(),Xge=pA().f;G0t({target:"Object",stat:!0,forced:Object.defineProperties!==Xge,sham:!H0t},{defineProperties:Xge})});var eve=P(()=>{"use strict";p();var W0t=oe(),Z0t=br(),Jge=ci().f;W0t({target:"Object",stat:!0,forced:Object.defineProperty!==Jge,sham:!Z0t},{defineProperty:Jge})});var tve=P(()=>{"use strict";p();var Y0t=oe(),K0t=br(),X0t=I2(),Q0t=Rr(),J0t=pn(),e1t=ci();K0t&&Y0t({target:"Object",proto:!0,forced:X0t},{__defineSetter__:function(t,r){e1t.f(J0t(this),t,{set:Q0t(r),enumerable:!0,configurable:!0})}})});var rF=P((S3r,ave)=>{"use strict";p();var nve=br(),t1t=Ot(),ive=xt(),r1t=Io(),n1t=kg(),i1t=So(),o1t=Lw().f,ove=ive(o1t),a1t=ive([].push),s1t=nve&&t1t(function(){var e=Object.create(null);return e[2]=2,!ove(e,2)}),rve=function(e){return function(t){for(var r=i1t(t),n=n1t(r),i=s1t&&r1t(r)===null,o=n.length,l=0,d=[],g;o>l;)g=n[l++],(!nve||(i?g in r:ove(r,g)))&&a1t(d,e?[g,r[g]]:r[g]);return d}};ave.exports={entries:rve(!0),values:rve(!1)}});var sve=P(()=>{"use strict";p();var l1t=oe(),u1t=rF().entries;l1t({target:"Object",stat:!0},{entries:function(t){return u1t(t)}})});var lve=P(()=>{"use strict";p();var c1t=oe(),p1t=Ff(),f1t=Ot(),d1t=Cr(),h1t=qh().onFreeze,nF=Object.freeze,m1t=f1t(function(){nF(1)});c1t({target:"Object",stat:!0,forced:m1t,sham:!p1t},{freeze:function(t){return nF&&d1t(t)?nF(h1t(t)):t}})});var uve=P(()=>{"use strict";p();var g1t=oe(),v1t=zi(),y1t=lu();g1t({target:"Object",stat:!0},{fromEntries:function(t){var r={};return v1t(t,function(n,i){y1t(r,n,i)},{AS_ENTRIES:!0}),r}})});var fve=P(()=>{"use strict";p();var _1t=oe(),b1t=Ot(),x1t=So(),cve=Yo().f,pve=br(),w1t=!pve||b1t(function(){cve(1)});_1t({target:"Object",stat:!0,forced:w1t,sham:!pve},{getOwnPropertyDescriptor:function(t,r){return cve(x1t(t),r)}})});var dve=P(()=>{"use strict";p();var S1t=oe(),E1t=br(),I1t=sA(),T1t=So(),M1t=Yo(),C1t=lu();S1t({target:"Object",stat:!0,sham:!E1t},{getOwnPropertyDescriptors:function(t){for(var r=T1t(t),n=M1t.f,i=I1t(r),o={},l=0,d,g;i.length>l;)g=n(r,d=i[l++]),g!==void 0&&C1t(o,d,g);return o}})});var hve=P(()=>{"use strict";p();var A1t=oe(),P1t=Ot(),O1t=hA().f,k1t=P1t(function(){return!Object.getOwnPropertyNames(1)});A1t({target:"Object",stat:!0,forced:k1t},{getOwnPropertyNames:O1t})});var gve=P(()=>{"use strict";p();var D1t=oe(),N1t=Ot(),R1t=pn(),mve=Io(),L1t=MA(),q1t=N1t(function(){mve(1)});D1t({target:"Object",stat:!0,forced:q1t,sham:!L1t},{getPrototypeOf:function(t){return mve(R1t(t))}})});var iF=P(()=>{"use strict";p();var z1t=oe(),j1t=Nr(),F1t=xt(),B1t=Rr(),U1t=fi(),V1t=ap(),$1t=zi(),G1t=Ot(),vve=Object.groupBy,H1t=j1t("Object","create"),W1t=F1t([].push),Z1t=!vve||G1t(function(){return vve("ab",function(e){return e}).a.length!==1});z1t({target:"Object",stat:!0,forced:Z1t},{groupBy:function(t,r){U1t(t),B1t(r);var n=H1t(null),i=0;return $1t(t,function(o){var l=V1t(r(o,i++));l in n?W1t(n[l],o):n[l]=[o]}),n}})});var oF=P(()=>{"use strict";p();var Y1t=oe(),K1t=en();Y1t({target:"Object",stat:!0},{hasOwn:K1t})});var v5=P((Q3r,yve)=>{"use strict";p();yve.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var _ve=P(()=>{"use strict";p();var X1t=oe(),Q1t=v5();X1t({target:"Object",stat:!0},{is:Q1t})});var xve=P(()=>{"use strict";p();var J1t=oe(),bve=s5();J1t({target:"Object",stat:!0,forced:Object.isExtensible!==bve},{isExtensible:bve})});var Sve=P(()=>{"use strict";p();var e_t=oe(),t_t=Ot(),r_t=Cr(),n_t=ma(),wve=o5(),aF=Object.isFrozen,i_t=wve||t_t(function(){aF(1)});e_t({target:"Object",stat:!0,forced:i_t},{isFrozen:function(t){return!r_t(t)||wve&&n_t(t)==="ArrayBuffer"?!0:aF?aF(t):!1}})});var Ive=P(()=>{"use strict";p();var o_t=oe(),a_t=Ot(),s_t=Cr(),l_t=ma(),Eve=o5(),sF=Object.isSealed,u_t=Eve||a_t(function(){sF(1)});o_t({target:"Object",stat:!0,forced:u_t},{isSealed:function(t){return!s_t(t)||Eve&&l_t(t)==="ArrayBuffer"?!0:sF?sF(t):!1}})});var Mve=P(()=>{"use strict";p();var c_t=oe(),p_t=pn(),Tve=kg(),f_t=Ot(),d_t=f_t(function(){Tve(1)});c_t({target:"Object",stat:!0,forced:d_t},{keys:function(t){return Tve(p_t(t))}})});var Cve=P(()=>{"use strict";p();var h_t=oe(),m_t=br(),g_t=I2(),v_t=pn(),y_t=ap(),__t=Io(),b_t=Yo().f;m_t&&h_t({target:"Object",proto:!0,forced:g_t},{__lookupGetter__:function(t){var r=v_t(this),n=y_t(t),i;do if(i=b_t(r,n))return i.get;while(r=__t(r))}})});var Ave=P(()=>{"use strict";p();var x_t=oe(),w_t=br(),S_t=I2(),E_t=pn(),I_t=ap(),T_t=Io(),M_t=Yo().f;w_t&&x_t({target:"Object",proto:!0,forced:S_t},{__lookupSetter__:function(t){var r=E_t(this),n=I_t(t),i;do if(i=M_t(r,n))return i.set;while(r=T_t(r))}})});var Pve=P(()=>{"use strict";p();var C_t=oe(),A_t=Cr(),P_t=qh().onFreeze,O_t=Ff(),k_t=Ot(),lF=Object.preventExtensions,D_t=k_t(function(){lF(1)});C_t({target:"Object",stat:!0,forced:D_t,sham:!O_t},{preventExtensions:function(t){return lF&&A_t(t)?lF(P_t(t)):t}})});var Rve=P(()=>{"use strict";p();var N_t=br(),R_t=xi(),L_t=Cr(),q_t=n9(),z_t=pn(),j_t=fi(),Ove=Object.getPrototypeOf,kve=Object.setPrototypeOf,Dve=Object.prototype,Nve="__proto__";if(N_t&&Ove&&kve&&!(Nve in Dve))try{R_t(Dve,Nve,{configurable:!0,get:function(){return Ove(z_t(this))},set:function(t){var r=j_t(this);q_t(t)&&L_t(r)&&kve(r,t)}})}catch(e){}});var Lve=P(()=>{"use strict";p();var F_t=oe(),B_t=Cr(),U_t=qh().onFreeze,V_t=Ff(),$_t=Ot(),uF=Object.seal,G_t=$_t(function(){uF(1)});F_t({target:"Object",stat:!0,forced:G_t,sham:!V_t},{seal:function(t){return uF&&B_t(t)?uF(U_t(t)):t}})});var qve=P(()=>{"use strict";p();var H_t=oe(),W_t=su();H_t({target:"Object",stat:!0},{setPrototypeOf:W_t})});var jve=P((D4r,zve)=>{"use strict";p();var Z_t=uA(),Y_t=_s();zve.exports=Z_t?{}.toString:function(){return"[object "+Y_t(this)+"]"}});var Fve=P(()=>{"use strict";p();var K_t=uA(),X_t=Zn(),Q_t=jve();K_t||X_t(Object.prototype,"toString",Q_t,{unsafe:!0})});var Bve=P(()=>{"use strict";p();var J_t=oe(),ebt=rF().values;J_t({target:"Object",stat:!0},{values:function(t){return ebt(t)}})});var Vve=P(()=>{"use strict";p();var tbt=oe(),Uve=Wj();tbt({global:!0,forced:parseFloat!==Uve},{parseFloat:Uve})});var Gve=P(()=>{"use strict";p();var rbt=oe(),$ve=Zj();rbt({global:!0,forced:parseInt!==$ve},{parseInt:$ve})});var T2=P((W4r,Hve)=>{"use strict";p();var nbt=tc(),ibt=yh(),obt=TypeError;Hve.exports=function(e){if(nbt(e))return e;throw new obt(ibt(e)+" is not a constructor")}});var M2=P((Y4r,Zve)=>{"use strict";p();var Wve=er(),abt=T2(),sbt=$s(),lbt=Or(),ubt=lbt("species");Zve.exports=function(e,t){var r=Wve(e).constructor,n;return r===void 0||sbt(n=Wve(r)[ubt])?t:abt(n)}});var Pl=P((X4r,Yve)=>{"use strict";p();var cbt=TypeError;Yve.exports=function(e,t){if(e<t)throw new cbt("Not enough arguments");return e}});var cF=P((J4r,Kve)=>{"use strict";p();var pbt=Yu();Kve.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(pbt)});var P2=P((tPr,oye)=>{"use strict";p();var Ol=Xt(),fbt=va(),dbt=ti(),Xve=Kr(),hbt=en(),iye=Ot(),Qve=D7(),mbt=Hs(),Jve=jw(),gbt=Pl(),vbt=cF(),ybt=jg(),gF=Ol.setImmediate,vF=Ol.clearImmediate,_bt=Ol.process,pF=Ol.Dispatch,bbt=Ol.Function,eye=Ol.MessageChannel,xbt=Ol.String,fF=0,C2={},tye="onreadystatechange",A2,$g,dF,hF;iye(function(){A2=Ol.location});var yF=function(e){if(hbt(C2,e)){var t=C2[e];delete C2[e],t()}},mF=function(e){return function(){yF(e)}},rye=function(e){yF(e.data)},nye=function(e){Ol.postMessage(xbt(e),A2.protocol+"//"+A2.host)};(!gF||!vF)&&(gF=function(t){gbt(arguments.length,1);var r=Xve(t)?t:bbt(t),n=mbt(arguments,1);return C2[++fF]=function(){fbt(r,void 0,n)},$g(fF),fF},vF=function(t){delete C2[t]},ybt?$g=function(e){_bt.nextTick(mF(e))}:pF&&pF.now?$g=function(e){pF.now(mF(e))}:eye&&!vbt?(dF=new eye,hF=dF.port2,dF.port1.onmessage=rye,$g=dbt(hF.postMessage,hF)):Ol.addEventListener&&Xve(Ol.postMessage)&&!Ol.importScripts&&A2&&A2.protocol!=="file:"&&!iye(nye)?($g=nye,Ol.addEventListener("message",rye,!1)):tye in Jve("script")?$g=function(e){Qve.appendChild(Jve("script"))[tye]=function(){Qve.removeChild(this),yF(e)}}:$g=function(e){setTimeout(mF(e),0)});oye.exports={set:gF,clear:vF}});var _F=P((nPr,sye)=>{"use strict";p();var aye=Xt(),wbt=br(),Sbt=Object.getOwnPropertyDescriptor;sye.exports=function(e){if(!wbt)return aye[e];var t=Sbt(aye,e);return t&&t.value}});var bF=P((oPr,uye)=>{"use strict";p();var lye=function(){this.head=null,this.tail=null};lye.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};uye.exports=lye});var pye=P((sPr,cye)=>{"use strict";p();var Ebt=Yu();cye.exports=/ipad|iphone|ipod/i.test(Ebt)&&typeof Pebble!="undefined"});var dye=P((uPr,fye)=>{"use strict";p();var Ibt=Yu();fye.exports=/web0s(?!.*chrome)/i.test(Ibt)});var TF=P((pPr,_ye)=>{"use strict";p();var r1=Xt(),Tbt=_F(),hye=ti(),xF=P2().set,Mbt=bF(),Cbt=cF(),Abt=pye(),Pbt=dye(),wF=jg(),mye=r1.MutationObserver||r1.WebKitMutationObserver,gye=r1.document,vye=r1.process,y5=r1.Promise,IF=Tbt("queueMicrotask"),t1,SF,EF,_5,yye;IF||(O2=new Mbt,k2=function(){var e,t;for(wF&&(e=vye.domain)&&e.exit();t=O2.get();)try{t()}catch(r){throw O2.head&&t1(),r}e&&e.enter()},!Cbt&&!wF&&!Pbt&&mye&&gye?(SF=!0,EF=gye.createTextNode(""),new mye(k2).observe(EF,{characterData:!0}),t1=function(){EF.data=SF=!SF}):!Abt&&y5&&y5.resolve?(_5=y5.resolve(void 0),_5.constructor=y5,yye=hye(_5.then,_5),t1=function(){yye(k2)}):wF?t1=function(){vye.nextTick(k2)}:(xF=hye(xF,r1),t1=function(){xF(k2)}),IF=function(e){O2.head||t1(),O2.add(e)});var O2,k2;_ye.exports=IF});var MF=P((dPr,bye)=>{"use strict";p();bye.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var zh=P((mPr,xye)=>{"use strict";p();xye.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Gg=P((vPr,wye)=>{"use strict";p();var Obt=Xt();wye.exports=Obt.Promise});var n1=P((_Pr,Tye)=>{"use strict";p();var kbt=Xt(),D2=Gg(),Dbt=Kr(),Nbt=R0(),Rbt=Fw(),Lbt=Or(),Sye=l2(),qbt=An(),CF=Xu(),Eye=D2&&D2.prototype,zbt=Lbt("species"),AF=!1,Iye=Dbt(kbt.PromiseRejectionEvent),jbt=Nbt("Promise",function(){var e=Rbt(D2),t=e!==String(D2);if(!t&&CF===66||qbt&&!(Eye.catch&&Eye.finally))return!0;if(!CF||CF<51||!/native code/.test(e)){var r=new D2(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[zbt]=n,AF=r.then(function(){})instanceof n,!AF)return!0}return!t&&(Sye==="BROWSER"||Sye==="DENO")&&!Iye});Tye.exports={CONSTRUCTOR:jbt,REJECTION_EVENT:Iye,SUBCLASSING:AF}});var dp=P((xPr,Cye)=>{"use strict";p();var Mye=Rr(),Fbt=TypeError,Bbt=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Fbt("Bad Promise constructor");t=n,r=i}),this.resolve=Mye(t),this.reject=Mye(r)};Cye.exports.f=function(e){return new Bbt(e)}});var Wye=P(()=>{"use strict";p();var Ubt=oe(),Vbt=An(),S5=jg(),jh=Xt(),s1=Qt(),Aye=Zn(),Pye=su(),$bt=bs(),Gbt=Ph(),Hbt=Rr(),w5=Kr(),Wbt=Cr(),Zbt=Ya(),Ybt=M2(),Rye=P2().set,NF=TF(),Kbt=MF(),Xbt=zh(),Qbt=bF(),Lye=Un(),E5=Gg(),RF=n1(),qye=dp(),I5="Promise",zye=RF.CONSTRUCTOR,Jbt=RF.REJECTION_EVENT,ext=RF.SUBCLASSING,PF=Lye.getterFor(I5),txt=Lye.set,i1=E5&&E5.prototype,Hg=E5,b5=i1,jye=jh.TypeError,OF=jh.document,LF=jh.process,kF=qye.f,rxt=kF,nxt=!!(OF&&OF.createEvent&&jh.dispatchEvent),Fye="unhandledrejection",ixt="rejectionhandled",Oye=0,Bye=1,oxt=2,qF=1,Uye=2,x5,kye,axt,Dye,Vye=function(e){var t;return Wbt(e)&&w5(t=e.then)?t:!1},$ye=function(e,t){var r=t.value,n=t.state===Bye,i=n?e.ok:e.fail,o=e.resolve,l=e.reject,d=e.domain,g,_,E;try{i?(n||(t.rejection===Uye&&lxt(t),t.rejection=qF),i===!0?g=r:(d&&d.enter(),g=i(r),d&&(d.exit(),E=!0)),g===e.promise?l(new jye("Promise-chain cycle")):(_=Vye(g))?s1(_,g,o,l):o(g)):l(r)}catch(T){d&&!E&&d.exit(),l(T)}},Gye=function(e,t){e.notified||(e.notified=!0,NF(function(){for(var r=e.reactions,n;n=r.get();)$ye(n,e);e.notified=!1,t&&!e.rejection&&sxt(e)}))},Hye=function(e,t,r){var n,i;nxt?(n=OF.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),jh.dispatchEvent(n)):n={promise:t,reason:r},!Jbt&&(i=jh["on"+e])?i(n):e===Fye&&Kbt("Unhandled promise rejection",r)},sxt=function(e){s1(Rye,jh,function(){var t=e.facade,r=e.value,n=Nye(e),i;if(n&&(i=Xbt(function(){S5?LF.emit("unhandledRejection",r,t):Hye(Fye,t,r)}),e.rejection=S5||Nye(e)?Uye:qF,i.error))throw i.value})},Nye=function(e){return e.rejection!==qF&&!e.parent},lxt=function(e){s1(Rye,jh,function(){var t=e.facade;S5?LF.emit("rejectionHandled",t):Hye(ixt,t,e.value)})},o1=function(e,t,r){return function(n){e(t,n,r)}},a1=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=oxt,Gye(e,!0))},DF=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new jye("Promise can't be resolved itself");var n=Vye(t);n?NF(function(){var i={done:!1};try{s1(n,t,o1(DF,i,e),o1(a1,i,e))}catch(o){a1(i,o,e)}}):(e.value=t,e.state=Bye,Gye(e,!1))}catch(i){a1({done:!1},i,e)}}};if(zye&&(Hg=function(t){Zbt(this,b5),Hbt(t),s1(x5,this);var r=PF(this);try{t(o1(DF,r),o1(a1,r))}catch(n){a1(r,n)}},b5=Hg.prototype,x5=function(t){txt(this,{type:I5,done:!1,notified:!1,parent:!1,reactions:new Qbt,rejection:!1,state:Oye,value:null})},x5.prototype=Aye(b5,"then",function(t,r){var n=PF(this),i=kF(Ybt(this,Hg));return n.parent=!0,i.ok=w5(t)?t:!0,i.fail=w5(r)&&r,i.domain=S5?LF.domain:void 0,n.state===Oye?n.reactions.add(i):NF(function(){$ye(i,n)}),i.promise}),kye=function(){var e=new x5,t=PF(e);this.promise=e,this.resolve=o1(DF,t),this.reject=o1(a1,t)},qye.f=kF=function(e){return e===Hg||e===axt?new kye(e):rxt(e)},!Vbt&&w5(E5)&&i1!==Object.prototype)){Dye=i1.then,ext||Aye(i1,"then",function(t,r){var n=this;return new Hg(function(i,o){s1(Dye,n,i,o)}).then(t,r)},{unsafe:!0});try{delete i1.constructor}catch(e){}Pye&&Pye(i1,b5)}Ubt({global:!0,constructor:!0,wrap:!0,forced:zye},{Promise:Hg});$bt(Hg,I5,!1,!0);Gbt(I5)});var N2=P((TPr,Zye)=>{"use strict";p();var uxt=Gg(),cxt=r2(),pxt=n1().CONSTRUCTOR;Zye.exports=pxt||!cxt(function(e){uxt.all(e).then(void 0,function(){})})});var Yye=P(()=>{"use strict";p();var fxt=oe(),dxt=Qt(),hxt=Rr(),mxt=dp(),gxt=zh(),vxt=zi(),yxt=N2();fxt({target:"Promise",stat:!0,forced:yxt},{all:function(t){var r=this,n=mxt.f(r),i=n.resolve,o=n.reject,l=gxt(function(){var d=hxt(r.resolve),g=[],_=0,E=1;vxt(t,function(T){var A=_++,L=!1;E++,dxt(d,r,T).then(function(z){L||(L=!0,g[A]=z,--E||i(g))},o)}),--E||i(g)});return l.error&&o(l.value),n.promise}})});var Xye=P(()=>{"use strict";p();var _xt=oe(),bxt=An(),xxt=n1().CONSTRUCTOR,jF=Gg(),wxt=Nr(),Sxt=Kr(),Ext=Zn(),Kye=jF&&jF.prototype;_xt({target:"Promise",proto:!0,forced:xxt,real:!0},{catch:function(e){return this.then(void 0,e)}});!bxt&&Sxt(jF)&&(zF=wxt("Promise").prototype.catch,Kye.catch!==zF&&Ext(Kye,"catch",zF,{unsafe:!0}));var zF});var Qye=P(()=>{"use strict";p();var Ixt=oe(),Txt=Qt(),Mxt=Rr(),Cxt=dp(),Axt=zh(),Pxt=zi(),Oxt=N2();Ixt({target:"Promise",stat:!0,forced:Oxt},{race:function(t){var r=this,n=Cxt.f(r),i=n.reject,o=Axt(function(){var l=Mxt(r.resolve);Pxt(t,function(d){Txt(l,r,d).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var Jye=P(()=>{"use strict";p();var kxt=oe(),Dxt=dp(),Nxt=n1().CONSTRUCTOR;kxt({target:"Promise",stat:!0,forced:Nxt},{reject:function(t){var r=Dxt.f(this),n=r.reject;return n(t),r.promise}})});var FF=P((FPr,e0e)=>{"use strict";p();var Rxt=er(),Lxt=Cr(),qxt=dp();e0e.exports=function(e,t){if(Rxt(e),Lxt(t)&&t.constructor===e)return t;var r=qxt.f(e),n=r.resolve;return n(t),r.promise}});var n0e=P(()=>{"use strict";p();var zxt=oe(),jxt=Nr(),t0e=An(),Fxt=Gg(),r0e=n1().CONSTRUCTOR,Bxt=FF(),Uxt=jxt("Promise"),Vxt=t0e&&!r0e;zxt({target:"Promise",stat:!0,forced:t0e||r0e},{resolve:function(t){return Bxt(Vxt&&this===Uxt?Fxt:this,t)}})});var i0e=P(()=>{"use strict";p();Wye();Yye();Xye();Qye();Jye();n0e()});var BF=P(()=>{"use strict";p();var $xt=oe(),Gxt=Qt(),Hxt=Rr(),Wxt=dp(),Zxt=zh(),Yxt=zi(),Kxt=N2();$xt({target:"Promise",stat:!0,forced:Kxt},{allSettled:function(t){var r=this,n=Wxt.f(r),i=n.resolve,o=n.reject,l=Zxt(function(){var d=Hxt(r.resolve),g=[],_=0,E=1;Yxt(t,function(T){var A=_++,L=!1;E++,Gxt(d,r,T).then(function(z){L||(L=!0,g[A]={status:"fulfilled",value:z},--E||i(g))},function(z){L||(L=!0,g[A]={status:"rejected",reason:z},--E||i(g))})}),--E||i(g)});return l.error&&o(l.value),n.promise}})});var UF=P(()=>{"use strict";p();var Xxt=oe(),Qxt=Qt(),Jxt=Rr(),ewt=Nr(),twt=dp(),rwt=zh(),nwt=zi(),iwt=N2(),o0e="No one promise resolved";Xxt({target:"Promise",stat:!0,forced:iwt},{any:function(t){var r=this,n=ewt("AggregateError"),i=twt.f(r),o=i.resolve,l=i.reject,d=rwt(function(){var g=Jxt(r.resolve),_=[],E=0,T=1,A=!1;nwt(t,function(L){var z=E++,U=!1;T++,Qxt(g,r,L).then(function(N){U||A||(A=!0,o(N))},function(N){U||A||(U=!0,_[z]=N,--T||l(new n(_,o0e)))})}),--T||l(new n(_,o0e))});return d.error&&l(d.value),i.promise}})});var u0e=P(()=>{"use strict";p();var owt=oe(),awt=An(),T5=Gg(),swt=Ot(),s0e=Nr(),l0e=Kr(),lwt=M2(),a0e=FF(),uwt=Zn(),$F=T5&&T5.prototype,cwt=!!T5&&swt(function(){$F.finally.call({then:function(){}},function(){})});owt({target:"Promise",proto:!0,real:!0,forced:cwt},{finally:function(e){var t=lwt(this,s0e("Promise")),r=l0e(e);return this.then(r?function(n){return a0e(t,e()).then(function(){return n})}:e,r?function(n){return a0e(t,e()).then(function(){throw n})}:e)}});!awt&&l0e(T5)&&(VF=s0e("Promise").prototype.finally,$F.finally!==VF&&uwt($F,"finally",VF,{unsafe:!0}));var VF});var HF=P(()=>{"use strict";p();var pwt=oe(),fwt=Xt(),dwt=va(),hwt=Hs(),mwt=dp(),gwt=Rr(),p0e=zh(),GF=fwt.Promise,c0e=!1,vwt=!GF||!GF.try||p0e(function(){GF.try(function(e){c0e=e===8},8)}).error||!c0e;pwt({target:"Promise",stat:!0,forced:vwt},{try:function(e){var t=arguments.length>1?hwt(arguments,1):[],r=mwt.f(this),n=p0e(function(){return dwt(gwt(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var WF=P(()=>{"use strict";p();var ywt=oe(),_wt=dp();ywt({target:"Promise",stat:!0},{withResolvers:function(){var t=_wt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var f0e=P(()=>{"use strict";p();var bwt=oe(),xwt=va(),wwt=Rr(),Swt=er(),Ewt=Ot(),Iwt=!Ewt(function(){Reflect.apply(function(){})});bwt({target:"Reflect",stat:!0,forced:Iwt},{apply:function(t,r,n){return xwt(wwt(t),r,Swt(n))}})});var _0e=P(()=>{"use strict";p();var Twt=oe(),Mwt=Nr(),ZF=va(),Cwt=$z(),d0e=T2(),Awt=er(),h0e=Cr(),Pwt=Qi(),g0e=Ot(),YF=Mwt("Reflect","construct"),Owt=Object.prototype,kwt=[].push,v0e=g0e(function(){function e(){}return!(YF(function(){},[],e)instanceof e)}),y0e=!g0e(function(){YF(function(){})}),m0e=v0e||y0e;Twt({target:"Reflect",stat:!0,forced:m0e,sham:m0e},{construct:function(t,r){d0e(t),Awt(r);var n=arguments.length<3?t:d0e(arguments[2]);if(y0e&&!v0e)return YF(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];return ZF(kwt,i,r),new(ZF(Cwt,t,i))}var o=n.prototype,l=Pwt(h0e(o)?o:Owt),d=ZF(t,l,r);return h0e(d)?d:l}})});var w0e=P(()=>{"use strict";p();var Dwt=oe(),Nwt=br(),b0e=er(),Rwt=ap(),x0e=ci(),Lwt=Ot(),qwt=Lwt(function(){Reflect.defineProperty(x0e.f({},1,{value:1}),1,{value:2})});Dwt({target:"Reflect",stat:!0,forced:qwt,sham:!Nwt},{defineProperty:function(t,r,n){b0e(t);var i=Rwt(r);b0e(n);try{return x0e.f(t,i,n),!0}catch(o){return!1}}})});var S0e=P(()=>{"use strict";p();var zwt=oe(),jwt=er(),Fwt=Yo().f;zwt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=Fwt(jwt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var KF=P((xOr,I0e)=>{"use strict";p();var E0e=en();I0e.exports=function(e){return e!==void 0&&(E0e(e,"value")||E0e(e,"writable"))}});var M0e=P(()=>{"use strict";p();var Bwt=oe(),Uwt=Qt(),Vwt=Cr(),$wt=er(),Gwt=KF(),Hwt=Yo(),Wwt=Io();function T0e(e,t){var r=arguments.length<3?e:arguments[2],n,i;if($wt(e)===r)return e[t];if(n=Hwt.f(e,t),n)return Gwt(n)?n.value:n.get===void 0?void 0:Uwt(n.get,r);if(Vwt(i=Wwt(e)))return T0e(i,t,r)}Bwt({target:"Reflect",stat:!0},{get:T0e})});var C0e=P(()=>{"use strict";p();var Zwt=oe(),Ywt=br(),Kwt=er(),Xwt=Yo();Zwt({target:"Reflect",stat:!0,sham:!Ywt},{getOwnPropertyDescriptor:function(t,r){return Xwt.f(Kwt(t),r)}})});var A0e=P(()=>{"use strict";p();var Qwt=oe(),Jwt=er(),e2t=Io(),t2t=MA();Qwt({target:"Reflect",stat:!0,sham:!t2t},{getPrototypeOf:function(t){return e2t(Jwt(t))}})});var P0e=P(()=>{"use strict";p();var r2t=oe();r2t({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var O0e=P(()=>{"use strict";p();var n2t=oe(),i2t=er(),o2t=s5();n2t({target:"Reflect",stat:!0},{isExtensible:function(t){return i2t(t),o2t(t)}})});var k0e=P(()=>{"use strict";p();var a2t=oe(),s2t=sA();a2t({target:"Reflect",stat:!0},{ownKeys:s2t})});var D0e=P(()=>{"use strict";p();var l2t=oe(),u2t=Nr(),c2t=er(),p2t=Ff();l2t({target:"Reflect",stat:!0,sham:!p2t},{preventExtensions:function(t){c2t(t);try{var r=u2t("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var z0e=P(()=>{"use strict";p();var f2t=oe(),d2t=Qt(),h2t=er(),N0e=Cr(),m2t=KF(),g2t=Ot(),XF=ci(),R0e=Yo(),v2t=Io(),L0e=Vs();function q0e(e,t,r){var n=arguments.length<4?e:arguments[3],i=R0e.f(h2t(e),t),o,l,d;if(!i){if(N0e(l=v2t(e)))return q0e(l,t,r,n);i=L0e(0)}if(m2t(i)){if(i.writable===!1||!N0e(n))return!1;if(o=R0e.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,XF.f(n,t,o)}else XF.f(n,t,L0e(0,r))}else{if(d=i.set,d===void 0)return!1;d2t(d,n,r)}return!0}var y2t=g2t(function(){var e=function(){},t=XF.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});f2t({target:"Reflect",stat:!0,forced:y2t},{set:q0e})});var F0e=P(()=>{"use strict";p();var _2t=oe(),b2t=er(),x2t=i9(),j0e=su();j0e&&_2t({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){b2t(t),x2t(r);try{return j0e(t,r),!0}catch(n){return!1}}})});var B0e=P(()=>{"use strict";p();var w2t=oe(),S2t=Xt(),E2t=bs();w2t({global:!0},{Reflect:{}});E2t(S2t.Reflect,"Reflect",!0)});var R2=P((JOr,U0e)=>{"use strict";p();var I2t=Cr(),T2t=ma(),M2t=Or(),C2t=M2t("match");U0e.exports=function(e){var t;return I2t(e)&&((t=e[C2t])!==void 0?!!t:T2t(e)==="RegExp")}});var M5=P((tkr,V0e)=>{"use strict";p();var A2t=er();V0e.exports=function(){var e=A2t(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var l1=P((nkr,G0e)=>{"use strict";p();var P2t=Qt(),O2t=en(),k2t=ga(),D2t=M5(),$0e=RegExp.prototype;G0e.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in $0e)&&!O2t(e,"flags")&&k2t($0e,e)?P2t(D2t,e):t}});var L2=P((okr,H0e)=>{"use strict";p();var QF=Ot(),N2t=Xt(),JF=N2t.RegExp,eB=QF(function(){var e=JF("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),R2t=eB||QF(function(){return!JF("a","y").sticky}),L2t=eB||QF(function(){var e=JF("^r","gy");return e.lastIndex=2,e.exec("str")!==null});H0e.exports={BROKEN_CARET:L2t,MISSED_STICKY:R2t,UNSUPPORTED_Y:eB}});var C5=P((skr,W0e)=>{"use strict";p();var q2t=Ot(),z2t=Xt(),j2t=z2t.RegExp;W0e.exports=q2t(function(){var e=j2t(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var tB=P((ukr,Z0e)=>{"use strict";p();var F2t=Ot(),B2t=Xt(),U2t=B2t.RegExp;Z0e.exports=F2t(function(){var e=U2t("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var i1e=P(()=>{"use strict";p();var V2t=br(),oB=Xt(),q2=xt(),$2t=R0(),G2t=Eh(),H2t=Eo(),W2t=Qi(),Z2t=bh().f,Y0e=ga(),Y2t=R2(),K0e=Br(),K2t=l1(),e1e=L2(),X2t=o9(),Q2t=Zn(),J2t=Ot(),eSt=en(),tSt=Un().enforce,rSt=Ph(),nSt=Or(),t1e=C5(),r1e=tB(),iSt=nSt("match"),Bh=oB.RegExp,u1=Bh.prototype,oSt=oB.SyntaxError,aSt=q2(u1.exec),A5=q2("".charAt),X0e=q2("".replace),Q0e=q2("".indexOf),J0e=q2("".slice),sSt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Wg=/a/g,rB=/a/g,lSt=new Bh(Wg)!==Wg,n1e=e1e.MISSED_STICKY,uSt=e1e.UNSUPPORTED_Y,cSt=V2t&&(!lSt||n1e||t1e||r1e||J2t(function(){return rB[iSt]=!1,Bh(Wg)!==Wg||Bh(rB)===rB||String(Bh(Wg,"i"))!=="/a/i"})),pSt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=A5(e,r),o==="\\"){n+=o+A5(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},fSt=function(e){for(var t=e.length,r=0,n="",i=[],o=W2t(null),l=!1,d=!1,g=0,_="",E;r<=t;r++){if(E=A5(e,r),E==="\\")E+=A5(e,++r);else if(E==="]")l=!1;else if(!l)switch(!0){case E==="[":l=!0;break;case E==="(":if(n+=E,J0e(e,r+1,r+3)==="?:")continue;aSt(sSt,J0e(e,r+1))&&(r+=2,d=!0),g++;continue;case E===">"&&d:if(_===""||eSt(o,_))throw new oSt("Invalid capture group name");o[_]=!0,i[i.length]=[_,g],d=!1,_="";continue}d?_+=E:n+=E}return[n,i]};if($2t("RegExp",cSt)){for(Fh=function(t,r){var n=Y0e(u1,this),i=Y2t(t),o=r===void 0,l=[],d=t,g,_,E,T,A,L;if(!n&&i&&o&&t.constructor===Fh)return t;if((i||Y0e(u1,t))&&(t=t.source,o&&(r=K2t(d))),t=t===void 0?"":K0e(t),r=r===void 0?"":K0e(r),d=t,t1e&&"dotAll"in Wg&&(_=!!r&&Q0e(r,"s")>-1,_&&(r=X0e(r,/s/g,""))),g=r,n1e&&"sticky"in Wg&&(E=!!r&&Q0e(r,"y")>-1,E&&uSt&&(r=X0e(r,/y/g,""))),r1e&&(T=fSt(t),t=T[0],l=T[1]),A=G2t(Bh(t,r),n?this:u1,Fh),(_||E||l.length)&&(L=tSt(A),_&&(L.dotAll=!0,L.raw=Fh(pSt(t),g)),E&&(L.sticky=!0),l.length&&(L.groups=l)),t!==d)try{H2t(A,"source",d===""?"(?:)":d)}catch(z){}return A},nB=Z2t(Bh),iB=0;nB.length>iB;)X2t(Fh,Bh,nB[iB++]);u1.constructor=Fh,Fh.prototype=u1,Q2t(oB,"RegExp",Fh,{constructor:!0})}var Fh,nB,iB;rSt("RegExp")});var z2=P((hkr,o1e)=>{"use strict";p();var dSt=TypeError;o1e.exports=function(e){if(typeof e=="string")return e;throw new dSt("Argument is not a string")}});var uB=P(()=>{"use strict";p();var hSt=oe(),j2=xt(),mSt=z2(),gSt=en(),a1e=h2().start,vSt=Ug(),ySt=Array,s1e=RegExp.escape,l1e=j2("".charAt),lB=j2("".charCodeAt),_St=j2(1.1.toString),bSt=j2([].join),c1e=/^[0-9a-z]/i,xSt=/^[$()*+./?[\\\]^{|}]/,wSt=RegExp("^[!\"#%&',\\-:;<=>@`~"+vSt+"]"),aB=j2(c1e.exec),u1e={"\t":"t","\n":"n","\x0B":"v","\f":"f","\r":"r"},sB=function(e){var t=_St(lB(e,0),16);return t.length<3?"\\x"+a1e(t,2,"0"):"\\u"+a1e(t,4,"0")},SSt=!s1e||s1e("ab")!=="\\x61b";hSt({target:"RegExp",stat:!0,forced:SSt},{escape:function(t){mSt(t);for(var r=t.length,n=ySt(r),i=0;i<r;i++){var o=l1e(t,i);if(i===0&&aB(c1e,o))n[i]=sB(o);else if(gSt(u1e,o))n[i]="\\"+u1e[o];else if(aB(xSt,o))n[i]="\\"+o;else if(aB(wSt,o))n[i]=sB(o);else{var l=lB(o,0);(l&63488)!==55296?n[i]=o:l>=56320||i+1>=r||(lB(t,i+1)&64512)!==56320?n[i]=sB(o):(n[i]=o,n[++i]=l1e(t,i))}}return bSt(n,"")}})});var f1e=P(()=>{"use strict";p();var ESt=br(),ISt=C5(),TSt=ma(),MSt=xi(),CSt=Un().get,p1e=RegExp.prototype,ASt=TypeError;ESt&&ISt&&MSt(p1e,"dotAll",{configurable:!0,get:function(){if(this!==p1e){if(TSt(this)==="RegExp")return!!CSt(this).dotAll;throw new ASt("Incompatible receiver, RegExp required")}}})});var k5=P((wkr,h1e)=>{"use strict";p();var c1=Qt(),O5=xt(),PSt=Br(),OSt=M5(),kSt=L2(),DSt=Of(),NSt=Qi(),RSt=Un().get,LSt=C5(),qSt=tB(),zSt=DSt("native-string-replace",String.prototype.replace),P5=RegExp.prototype.exec,pB=P5,jSt=O5("".charAt),FSt=O5("".indexOf),BSt=O5("".replace),cB=O5("".slice),fB=function(){var e=/a/,t=/b*/g;return c1(P5,e,"a"),c1(P5,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),d1e=kSt.BROKEN_CARET,dB=/()??/.exec("")[1]!==void 0,USt=fB||dB||d1e||LSt||qSt;USt&&(pB=function(t){var r=this,n=RSt(r),i=PSt(t),o=n.raw,l,d,g,_,E,T,A;if(o)return o.lastIndex=r.lastIndex,l=c1(pB,o,i),r.lastIndex=o.lastIndex,l;var L=n.groups,z=d1e&&r.sticky,U=c1(OSt,r),N=r.source,R=0,j=i;if(z&&(U=BSt(U,"y",""),FSt(U,"g")===-1&&(U+="g"),j=cB(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&jSt(i,r.lastIndex-1)!==`
`)&&(N="(?: "+N+")",j=" "+j,R++),d=new RegExp("^(?:"+N+")",U)),dB&&(d=new RegExp("^"+N+"$(?!\\s)",U)),fB&&(g=r.lastIndex),_=c1(P5,z?d:r,j),z?_?(_.input=cB(_.input,R),_[0]=cB(_[0],R),_.index=r.lastIndex,r.lastIndex+=_[0].length):r.lastIndex=0:fB&&_&&(r.lastIndex=r.global?_.index+_[0].length:g),dB&&_&&_.length>1&&c1(zSt,_[0],d,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(_[E]=void 0)}),_&&L)for(_.groups=T=NSt(null),E=0;E<L.length;E++)A=L[E],T[A[0]]=_[A[1]];return _});h1e.exports=pB});var D5=P(()=>{"use strict";p();var VSt=oe(),m1e=k5();VSt({target:"RegExp",proto:!0,forced:/./.exec!==m1e},{exec:m1e})});var y1e=P(()=>{"use strict";p();var $St=Xt(),GSt=br(),HSt=xi(),WSt=M5(),ZSt=Ot(),g1e=$St.RegExp,v1e=g1e.prototype,YSt=GSt&&ZSt(function(){var e=!0;try{g1e(".","d")}catch(g){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(g,_){Object.defineProperty(t,g,{get:function(){return r+=_,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var l in o)i(l,o[l]);var d=Object.getOwnPropertyDescriptor(v1e,"flags").get.call(t);return d!==n||r!==n});YSt&&HSt(v1e,"flags",{configurable:!0,get:WSt})});var b1e=P(()=>{"use strict";p();var KSt=br(),XSt=L2().MISSED_STICKY,QSt=ma(),JSt=xi(),eEt=Un().get,_1e=RegExp.prototype,tEt=TypeError;KSt&&XSt&&JSt(_1e,"sticky",{configurable:!0,get:function(){if(this!==_1e){if(QSt(this)==="RegExp")return!!eEt(this).sticky;throw new tEt("Incompatible receiver, RegExp required")}}})});var S1e=P(()=>{"use strict";p();D5();var rEt=oe(),x1e=Qt(),nEt=Kr(),w1e=er(),iEt=Br(),oEt=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),aEt=/./.test;rEt({target:"RegExp",proto:!0,forced:!oEt},{test:function(e){var t=w1e(this),r=iEt(e),n=t.exec;if(!nEt(n))return x1e(aEt,t,r);var i=x1e(n,t,r);return i===null?!1:(w1e(i),!0)}})});var M1e=P(()=>{"use strict";p();var sEt=Ag().PROPER,lEt=Zn(),uEt=er(),E1e=Br(),cEt=Ot(),pEt=l1(),hB="toString",I1e=RegExp.prototype,T1e=I1e[hB],fEt=cEt(function(){return T1e.call({source:"a",flags:"b"})!=="/a/b"}),dEt=sEt&&T1e.name!==hB;(fEt||dEt)&&lEt(I1e,hB,function(){var t=uEt(this),r=E1e(t.source),n=E1e(pEt(t));return"/"+r+"/"+n},{unsafe:!0})});var C1e=P(()=>{"use strict";p();var hEt=g2(),mEt=Dj();hEt("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},mEt)});var A1e=P(()=>{"use strict";p();C1e()});var Qo=P((Gkr,P1e)=>{"use strict";p();var mB=xt(),N5=Set.prototype;P1e.exports={Set,add:mB(N5.add),has:mB(N5.has),remove:mB(N5.delete),proto:N5}});var ya=P((Wkr,O1e)=>{"use strict";p();var gEt=Qo().has;O1e.exports=function(e){return gEt(e),e}});var Uf=P((Ykr,k1e)=>{"use strict";p();var vEt=Qt();k1e.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,l;!(o=vEt(i,n)).done;)if(l=t(o.value),l!==void 0)return l}});var Ys=P((Xkr,q1e)=>{"use strict";p();var D1e=xt(),yEt=Uf(),N1e=Qo(),_Et=N1e.Set,R1e=N1e.proto,bEt=D1e(R1e.forEach),L1e=D1e(R1e.keys),xEt=L1e(new _Et).next;q1e.exports=function(e,t,r){return r?yEt({iterator:L1e(e),next:xEt},t):bEt(e,t)}});var R5=P((Jkr,j1e)=>{"use strict";p();var z1e=Qo(),wEt=Ys(),SEt=z1e.Set,EEt=z1e.add;j1e.exports=function(e){var t=new SEt;return wEt(e,function(r){EEt(t,r)}),t}});var p1=P((tDr,F1e)=>{"use strict";p();var IEt=Jw(),TEt=Qo();F1e.exports=IEt(TEt.proto,"size","get")||function(e){return e.size}});var Uh=P((nDr,H1e)=>{"use strict";p();var B1e=Rr(),$1e=er(),U1e=Qt(),MEt=bi(),CEt=Ci(),V1e="Invalid size",AEt=RangeError,PEt=TypeError,OEt=Math.max,G1e=function(e,t){this.set=e,this.size=OEt(t,0),this.has=B1e(e.has),this.keys=B1e(e.keys)};G1e.prototype={getIterator:function(){return CEt($1e(U1e(this.keys,this.set)))},includes:function(e){return U1e(this.has,this.set,e)}};H1e.exports=function(e){$1e(e);var t=+e.size;if(t!==t)throw new PEt(V1e);var r=MEt(t);if(r<0)throw new AEt(V1e);return new G1e(e,r)}});var gB=P((oDr,Y1e)=>{"use strict";p();var kEt=ya(),Z1e=Qo(),DEt=R5(),NEt=p1(),REt=Uh(),LEt=Ys(),qEt=Uf(),zEt=Z1e.has,W1e=Z1e.remove;Y1e.exports=function(t){var r=kEt(this),n=REt(t),i=DEt(r);return NEt(r)<=n.size?LEt(r,function(o){n.includes(o)&&W1e(i,o)}):qEt(n.getIterator(),function(o){zEt(r,o)&&W1e(i,o)}),i}});var Vh=P((sDr,Q1e)=>{"use strict";p();var jEt=Nr(),K1e=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},X1e=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};Q1e.exports=function(e,t){var r=jEt("Set");try{new r()[e](K1e(0));try{return new r()[e](K1e(-1)),!1}catch(i){if(!t)return!0;try{return new r()[e](X1e(-1/0)),!1}catch(o){var n=new r;return n.add(1),n.add(2),t(n[e](X1e(1/0)))}}}catch(i){return!1}}});var vB=P(()=>{"use strict";p();var FEt=oe(),BEt=gB(),UEt=Vh(),VEt=!UEt("difference",function(e){return e.size===0});FEt({target:"Set",proto:!0,real:!0,forced:VEt},{difference:BEt})});var _B=P((fDr,e_e)=>{"use strict";p();var $Et=ya(),yB=Qo(),GEt=p1(),HEt=Uh(),WEt=Ys(),ZEt=Uf(),YEt=yB.Set,J1e=yB.add,KEt=yB.has;e_e.exports=function(t){var r=$Et(this),n=HEt(t),i=new YEt;return GEt(r)>n.size?ZEt(n.getIterator(),function(o){KEt(r,o)&&J1e(i,o)}):WEt(r,function(o){n.includes(o)&&J1e(i,o)}),i}});var bB=P(()=>{"use strict";p();var XEt=oe(),QEt=Ot(),JEt=_B(),eIt=Vh(),tIt=!eIt("intersection",function(e){return e.size===2&&e.has(1)&&e.has(2)})||QEt(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});XEt({target:"Set",proto:!0,real:!0,forced:tIt},{intersection:JEt})});var xB=P((vDr,t_e)=>{"use strict";p();var rIt=ya(),nIt=Qo().has,iIt=p1(),oIt=Uh(),aIt=Ys(),sIt=Uf(),lIt=Xo();t_e.exports=function(t){var r=rIt(this),n=oIt(t);if(iIt(r)<=n.size)return aIt(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return sIt(i,function(o){if(nIt(r,o))return lIt(i,"normal",!1)})!==!1}});var wB=P(()=>{"use strict";p();var uIt=oe(),cIt=xB(),pIt=Vh(),fIt=!pIt("isDisjointFrom",function(e){return!e});uIt({target:"Set",proto:!0,real:!0,forced:fIt},{isDisjointFrom:cIt})});var SB=P((wDr,r_e)=>{"use strict";p();var dIt=ya(),hIt=p1(),mIt=Ys(),gIt=Uh();r_e.exports=function(t){var r=dIt(this),n=gIt(t);return hIt(r)>n.size?!1:mIt(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var EB=P(()=>{"use strict";p();var vIt=oe(),yIt=SB(),_It=Vh(),bIt=!_It("isSubsetOf",function(e){return e});vIt({target:"Set",proto:!0,real:!0,forced:bIt},{isSubsetOf:yIt})});var IB=P((MDr,n_e)=>{"use strict";p();var xIt=ya(),wIt=Qo().has,SIt=p1(),EIt=Uh(),IIt=Uf(),TIt=Xo();n_e.exports=function(t){var r=xIt(this),n=EIt(t);if(SIt(r)<n.size)return!1;var i=n.getIterator();return IIt(i,function(o){if(!wIt(r,o))return TIt(i,"normal",!1)})!==!1}});var TB=P(()=>{"use strict";p();var MIt=oe(),CIt=IB(),AIt=Vh(),PIt=!AIt("isSupersetOf",function(e){return!e});MIt({target:"Set",proto:!0,real:!0,forced:PIt},{isSupersetOf:CIt})});var CB=P((kDr,i_e)=>{"use strict";p();var OIt=ya(),MB=Qo(),kIt=R5(),DIt=Uh(),NIt=Uf(),RIt=MB.add,LIt=MB.has,qIt=MB.remove;i_e.exports=function(t){var r=OIt(this),n=DIt(t).getIterator(),i=kIt(r);return NIt(n,function(o){LIt(r,o)?qIt(i,o):RIt(i,o)}),i}});var AB=P(()=>{"use strict";p();var zIt=oe(),jIt=CB(),FIt=Vh();zIt({target:"Set",proto:!0,real:!0,forced:!FIt("symmetricDifference")},{symmetricDifference:jIt})});var PB=P((qDr,o_e)=>{"use strict";p();var BIt=ya(),UIt=Qo().add,VIt=R5(),$It=Uh(),GIt=Uf();o_e.exports=function(t){var r=BIt(this),n=$It(t).getIterator(),i=VIt(r);return GIt(n,function(o){UIt(i,o)}),i}});var OB=P(()=>{"use strict";p();var HIt=oe(),WIt=PB(),ZIt=Vh();HIt({target:"Set",proto:!0,real:!0,forced:!ZIt("union")},{union:WIt})});var a_e=P(()=>{"use strict";p();var YIt=oe(),KIt=xt(),XIt=fi(),QIt=bi(),JIt=Br(),eTt=Ot(),tTt=KIt("".charAt),rTt=eTt(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});YIt({target:"String",proto:!0,forced:rTt},{at:function(t){var r=JIt(XIt(this)),n=r.length,i=QIt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:tTt(r,o)}})});var Zg=P((GDr,u_e)=>{"use strict";p();var kB=xt(),nTt=bi(),iTt=Br(),oTt=fi(),aTt=kB("".charAt),s_e=kB("".charCodeAt),sTt=kB("".slice),l_e=function(e){return function(t,r){var n=iTt(oTt(t)),i=nTt(r),o=n.length,l,d;return i<0||i>=o?e?"":void 0:(l=s_e(n,i),l<55296||l>56319||i+1===o||(d=s_e(n,i+1))<56320||d>57343?e?aTt(n,i):l:e?sTt(n,i,i+2):(l-55296<<10)+(d-56320)+65536)}};u_e.exports={codeAt:l_e(!1),charAt:l_e(!0)}});var c_e=P(()=>{"use strict";p();var lTt=oe(),uTt=Zg().codeAt;lTt({target:"String",proto:!0},{codePointAt:function(t){return uTt(this,t)}})});var L5=P((KDr,p_e)=>{"use strict";p();var cTt=R2(),pTt=TypeError;p_e.exports=function(e){if(cTt(e))throw new pTt("The method doesn't accept regular expressions");return e}});var q5=P((QDr,f_e)=>{"use strict";p();var fTt=Or(),dTt=fTt("match");f_e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[dTt]=!1,"/./"[e](t)}catch(n){}}return!1}});var m_e=P(()=>{"use strict";p();var hTt=oe(),mTt=xh(),gTt=Yo().f,vTt=Gs(),d_e=Br(),yTt=L5(),_Tt=fi(),bTt=q5(),xTt=An(),wTt=mTt("".slice),STt=Math.min,h_e=bTt("endsWith"),ETt=!xTt&&!h_e&&!!function(){var e=gTt(String.prototype,"endsWith");return e&&!e.writable}();hTt({target:"String",proto:!0,forced:!ETt&&!h_e},{endsWith:function(t){var r=d_e(_Tt(this));yTt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:STt(vTt(n),i),l=d_e(t);return wTt(r,o-l.length,o)===l}})});var DB=P(()=>{"use strict";p();var ITt=oe(),TTt=xt(),MTt=Ju(),CTt=RangeError,g_e=String.fromCharCode,v_e=String.fromCodePoint,ATt=TTt([].join),PTt=!!v_e&&v_e.length!==1;ITt({target:"String",stat:!0,arity:1,forced:PTt},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],MTt(o,1114111)!==o)throw new CTt(o+" is not a valid code point");r[i]=o<65536?g_e(o):g_e(((o-=65536)>>10)+55296,o%1024+56320)}return ATt(r,"")}})});var b_e=P(()=>{"use strict";p();var OTt=oe(),kTt=xt(),DTt=L5(),NTt=fi(),y_e=Br(),RTt=q5(),LTt=kTt("".indexOf);OTt({target:"String",proto:!0,forced:!RTt("includes")},{includes:function(t){return!!~LTt(y_e(NTt(this)),y_e(DTt(t)),arguments.length>1?arguments[1]:void 0)}})});var NB=P(()=>{"use strict";p();var qTt=oe(),zTt=xt(),jTt=fi(),FTt=Br(),x_e=zTt("".charCodeAt);qTt({target:"String",proto:!0},{isWellFormed:function(){for(var t=FTt(jTt(this)),r=t.length,n=0;n<r;n++){var i=x_e(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(x_e(t,n)&64512)!==56320))return!1}return!0}})});var RB=P(()=>{"use strict";p();var BTt=Zg().charAt,UTt=Br(),S_e=Un(),VTt=LA(),w_e=zo(),E_e="String Iterator",$Tt=S_e.set,GTt=S_e.getterFor(E_e);VTt(String,"String",function(e){$Tt(this,{type:E_e,string:UTt(e),index:0})},function(){var t=GTt(this),r=t.string,n=t.index,i;return n>=r.length?w_e(void 0,!0):(i=BTt(r,n),t.index+=i.length,w_e(i,!1))})});var F2=P((mNr,A_e)=>{"use strict";p();D5();var I_e=Qt(),T_e=Zn(),HTt=k5(),M_e=Ot(),C_e=Or(),WTt=Eo(),ZTt=C_e("species"),LB=RegExp.prototype;A_e.exports=function(e,t,r,n){var i=C_e(e),o=!M_e(function(){var _={};return _[i]=function(){return 7},""[e](_)!==7}),l=o&&!M_e(function(){var _=!1,E=/a/;return e==="split"&&(E={},E.constructor={},E.constructor[ZTt]=function(){return E},E.flags="",E[i]=/./[i]),E.exec=function(){return _=!0,null},E[i](""),!_});if(!o||!l||r){var d=/./[i],g=t(i,""[e],function(_,E,T,A,L){var z=E.exec;return z===HTt||z===LB.exec?o&&!L?{done:!0,value:I_e(d,E,T,A)}:{done:!0,value:I_e(_,T,E,A)}:{done:!1}});T_e(String.prototype,e,g[0]),T_e(LB,i,g[1])}n&&WTt(LB[i],"sham",!0)}});var B2=P((vNr,P_e)=>{"use strict";p();var YTt=Zg().charAt;P_e.exports=function(e,t,r){return t+(r?YTt(e,t).length:1)}});var f1=P((_Nr,k_e)=>{"use strict";p();var O_e=Qt(),KTt=er(),XTt=Kr(),QTt=ma(),JTt=k5(),eMt=TypeError;k_e.exports=function(e,t){var r=e.exec;if(XTt(r)){var n=O_e(r,e,t);return n!==null&&KTt(n),n}if(QTt(e)==="RegExp")return O_e(JTt,e,t);throw new eMt("RegExp#exec called on incompatible receiver")}});var N_e=P(()=>{"use strict";p();var tMt=Qt(),rMt=F2(),nMt=er(),iMt=Cr(),oMt=Gs(),qB=Br(),aMt=fi(),sMt=Xi(),lMt=B2(),D_e=f1();rMt("match",function(e,t,r){return[function(i){var o=aMt(this),l=iMt(i)?sMt(i,e):void 0;return l?tMt(l,i,o):new RegExp(i)[e](qB(o))},function(n){var i=nMt(this),o=qB(n),l=r(t,i,o);if(l.done)return l.value;if(!i.global)return D_e(i,o);var d=i.unicode;i.lastIndex=0;for(var g=[],_=0,E;(E=D_e(i,o))!==null;){var T=qB(E[0]);g[_]=T,T===""&&(i.lastIndex=lMt(o,oMt(i.lastIndex),d)),_++}return _===0?null:g}]})});var UB=P(()=>{"use strict";p();var uMt=oe(),R_e=Qt(),z_e=xh(),cMt=Ch(),z5=zo(),L_e=fi(),j_e=Gs(),U2=Br(),pMt=er(),fMt=Cr(),dMt=ma(),hMt=R2(),F_e=l1(),mMt=Xi(),gMt=Zn(),vMt=Ot(),yMt=Or(),_Mt=M2(),bMt=B2(),xMt=f1(),B_e=Un(),jB=An(),j5=yMt("matchAll"),U_e="RegExp String",V_e=U_e+" Iterator",wMt=B_e.set,SMt=B_e.getterFor(V_e),q_e=RegExp.prototype,EMt=TypeError,FB=z_e("".indexOf),F5=z_e("".matchAll),zB=!!F5&&!vMt(function(){F5("a",/./)}),IMt=cMt(function(t,r,n,i){wMt(this,{type:V_e,regexp:t,string:r,global:n,unicode:i,done:!1})},U_e,function(){var t=SMt(this);if(t.done)return z5(void 0,!0);var r=t.regexp,n=t.string,i=xMt(r,n);return i===null?(t.done=!0,z5(void 0,!0)):t.global?(U2(i[0])===""&&(r.lastIndex=bMt(n,j_e(r.lastIndex),t.unicode)),z5(i,!1)):(t.done=!0,z5(i,!1))}),BB=function(e){var t=pMt(this),r=U2(e),n=_Mt(t,RegExp),i=U2(F_e(t)),o,l,d;return o=new n(n===RegExp?t.source:t,i),l=!!~FB(i,"g"),d=!!~FB(i,"u"),o.lastIndex=j_e(t.lastIndex),new IMt(o,r,l,d)};uMt({target:"String",proto:!0,forced:zB},{matchAll:function(t){var r=L_e(this),n,i,o,l;if(fMt(t)){if(hMt(t)&&(n=U2(L_e(F_e(t))),!~FB(n,"g")))throw new EMt("`.matchAll` does not allow non-global regexes");if(zB)return F5(r,t);if(o=mMt(t,j5),o===void 0&&jB&&dMt(t)==="RegExp"&&(o=BB),o)return R_e(o,t,r)}else if(zB)return F5(r,t);return i=U2(r),l=new RegExp(t,"g"),jB?R_e(BB,l,i):l[j5](i)}});jB||j5 in q_e||gMt(q_e,j5,BB)});var VB=P((MNr,$_e)=>{"use strict";p();var TMt=Yu();$_e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(TMt)});var G_e=P(()=>{"use strict";p();var MMt=oe(),CMt=h2().end,AMt=VB();MMt({target:"String",proto:!0,forced:AMt},{padEnd:function(t){return CMt(this,t,arguments.length>1?arguments[1]:void 0)}})});var H_e=P(()=>{"use strict";p();var PMt=oe(),OMt=h2().start,kMt=VB();PMt({target:"String",proto:!0,forced:kMt},{padStart:function(t){return OMt(this,t,arguments.length>1?arguments[1]:void 0)}})});var K_e=P(()=>{"use strict";p();var DMt=oe(),Y_e=xt(),NMt=So(),RMt=pn(),W_e=Br(),LMt=_n(),Z_e=Y_e([].push),qMt=Y_e([].join);DMt({target:"String",stat:!0},{raw:function(t){var r=NMt(RMt(t).raw),n=LMt(r);if(!n)return"";for(var i=arguments.length,o=[],l=0;;){if(Z_e(o,W_e(r[l++])),l===n)return qMt(o,"");l<i&&Z_e(o,W_e(arguments[l]))}}})});var X_e=P(()=>{"use strict";p();var zMt=oe(),jMt=d2();zMt({target:"String",proto:!0},{repeat:jMt})});var WB=P((BNr,Q_e)=>{"use strict";p();var HB=xt(),FMt=pn(),BMt=Math.floor,$B=HB("".charAt),UMt=HB("".replace),GB=HB("".slice),VMt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$Mt=/\$([$&'`]|\d{1,2})/g;Q_e.exports=function(e,t,r,n,i,o){var l=r+e.length,d=n.length,g=$Mt;return i!==void 0&&(i=FMt(i),g=VMt),UMt(o,g,function(_,E){var T;switch($B(E,0)){case"$":return"$";case"&":return e;case"`":return GB(t,0,r);case"'":return GB(t,l);case"<":T=i[GB(E,1,-1)];break;default:var A=+E;if(A===0)return _;if(A>d){var L=BMt(A/10);return L===0?_:L<=d?n[L-1]===void 0?$B(E,1):n[L-1]+$B(E,1):_}T=n[A-1]}return T===void 0?"":T})}});var nbe=P(()=>{"use strict";p();var GMt=va(),J_e=Qt(),B5=xt(),HMt=F2(),WMt=Ot(),ZMt=er(),YMt=Kr(),KMt=Cr(),XMt=bi(),QMt=Gs(),d1=Br(),JMt=fi(),eCt=B2(),tCt=Xi(),rCt=WB(),nCt=f1(),iCt=Or(),YB=iCt("replace"),oCt=Math.max,aCt=Math.min,sCt=B5([].concat),ZB=B5([].push),ebe=B5("".indexOf),tbe=B5("".slice),lCt=function(e){return e===void 0?e:String(e)},uCt=function(){return"a".replace(/./,"$0")==="$0"}(),rbe=function(){return /./[YB]?/./[YB]("a","$0")==="":!1}(),cCt=!WMt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});HMt("replace",function(e,t,r){var n=rbe?"$":"$0";return[function(o,l){var d=JMt(this),g=KMt(o)?tCt(o,YB):void 0;return g?J_e(g,o,d,l):J_e(t,d1(d),o,l)},function(i,o){var l=ZMt(this),d=d1(i);if(typeof o=="string"&&ebe(o,n)===-1&&ebe(o,"$<")===-1){var g=r(t,l,d,o);if(g.done)return g.value}var _=YMt(o);_||(o=d1(o));var E=l.global,T;E&&(T=l.unicode,l.lastIndex=0);for(var A=[],L;L=nCt(l,d),!(L===null||(ZB(A,L),!E));){var z=d1(L[0]);z===""&&(l.lastIndex=eCt(d,QMt(l.lastIndex),T))}for(var U="",N=0,R=0;R<A.length;R++){L=A[R];for(var j=d1(L[0]),H=oCt(aCt(XMt(L.index),d.length),0),Y=[],re,ie=1;ie<L.length;ie++)ZB(Y,lCt(L[ie]));var le=L.groups;if(_){var Me=sCt([j],Y,H,d);le!==void 0&&ZB(Me,le),re=d1(GMt(o,void 0,Me))}else re=rCt(j,d,H,Y,le,o);H>=N&&(U+=tbe(d,N,H)+re,N=H+j.length)}return U+tbe(d,N)}]},!cCt||!uCt||rbe)});var QB=P(()=>{"use strict";p();var pCt=oe(),fCt=Qt(),XB=xt(),ibe=fi(),dCt=Kr(),hCt=Cr(),mCt=R2(),h1=Br(),gCt=Xi(),vCt=l1(),yCt=WB(),_Ct=Or(),bCt=An(),xCt=_Ct("replace"),wCt=TypeError,KB=XB("".indexOf),SCt=XB("".replace),obe=XB("".slice),ECt=Math.max;pCt({target:"String",proto:!0},{replaceAll:function(t,r){var n=ibe(this),i,o,l,d,g,_,E,T,A,L,z=0,U="";if(hCt(t)){if(i=mCt(t),i&&(o=h1(ibe(vCt(t))),!~KB(o,"g")))throw new wCt("`.replaceAll` does not allow non-global regexes");if(l=gCt(t,xCt),l)return fCt(l,t,n,r);if(bCt&&i)return SCt(h1(n),t,r)}for(d=h1(n),g=h1(t),_=dCt(r),_||(r=h1(r)),E=g.length,T=ECt(1,E),A=KB(d,g);A!==-1;)L=_?h1(r(g,A,d)):yCt(g,d,A,[],void 0,r),U+=obe(d,z,A)+L,z=A+E,A=A+T>d.length?-1:KB(d,g,A+T);return z<d.length&&(U+=obe(d,z)),U}})});var lbe=P(()=>{"use strict";p();var ICt=Qt(),TCt=F2(),MCt=er(),CCt=Cr(),ACt=fi(),abe=v5(),sbe=Br(),PCt=Xi(),OCt=f1();TCt("search",function(e,t,r){return[function(i){var o=ACt(this),l=CCt(i)?PCt(i,e):void 0;return l?ICt(l,i,o):new RegExp(i)[e](sbe(o))},function(n){var i=MCt(this),o=sbe(n),l=r(t,i,o);if(l.done)return l.value;var d=i.lastIndex;abe(d,0)||(i.lastIndex=0);var g=OCt(i,o);return abe(i.lastIndex,d)||(i.lastIndex=d),g===null?-1:g.index}]})});var dbe=P(()=>{"use strict";p();var JB=Qt(),fbe=xt(),kCt=F2(),DCt=er(),NCt=Cr(),RCt=fi(),LCt=M2(),qCt=B2(),zCt=Gs(),ube=Br(),jCt=Xi(),cbe=f1(),FCt=L2(),BCt=Ot(),m1=FCt.UNSUPPORTED_Y,UCt=4294967295,VCt=Math.min,eU=fbe([].push),tU=fbe("".slice),$Ct=!BCt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),pbe="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;kCt("split",function(e,t,r){var n="0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:JB(t,this,i,o)}:t;return[function(o,l){var d=RCt(this),g=NCt(o)?jCt(o,e):void 0;return g?JB(g,o,d,l):JB(n,ube(d),o,l)},function(i,o){var l=DCt(this),d=ube(i);if(!pbe){var g=r(n,l,d,o,n!==t);if(g.done)return g.value}var _=LCt(l,RegExp),E=l.unicode,T=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m1?"g":"y"),A=new _(m1?"^(?:"+l.source+")":l,T),L=o===void 0?UCt:o>>>0;if(L===0)return[];if(d.length===0)return cbe(A,d)===null?[d]:[];for(var z=0,U=0,N=[];U<d.length;){A.lastIndex=m1?0:U;var R=cbe(A,m1?tU(d,U):d),j;if(R===null||(j=VCt(zCt(A.lastIndex+(m1?U:0)),d.length))===z)U=qCt(d,U,E);else{if(eU(N,tU(d,z,U)),N.length===L)return N;for(var H=1;H<=R.length-1;H++)if(eU(N,R[H]),N.length===L)return N;U=z=j}}return eU(N,tU(d,z)),N}]},pbe||!$Ct,m1)});var gbe=P(()=>{"use strict";p();var GCt=oe(),HCt=xh(),WCt=Yo().f,ZCt=Gs(),hbe=Br(),YCt=L5(),KCt=fi(),XCt=q5(),QCt=An(),JCt=HCt("".slice),eAt=Math.min,mbe=XCt("startsWith"),tAt=!QCt&&!mbe&&!!function(){var e=WCt(String.prototype,"startsWith");return e&&!e.writable}();GCt({target:"String",proto:!0,forced:!tAt&&!mbe},{startsWith:function(t){var r=hbe(KCt(this));YCt(t);var n=ZCt(eAt(arguments.length>1?arguments[1]:void 0,r.length)),i=hbe(t);return JCt(r,n,n+i.length)===i}})});var ybe=P(()=>{"use strict";p();var rAt=oe(),nAt=xt(),iAt=fi(),vbe=bi(),oAt=Br(),aAt=nAt("".slice),sAt=Math.max,lAt=Math.min,uAt=!"".substr||"ab".substr(-1)!=="b";rAt({target:"String",proto:!0,forced:uAt},{substr:function(t,r){var n=oAt(iAt(this)),i=n.length,o=vbe(t),l,d;return o===1/0&&(o=0),o<0&&(o=sAt(i+o,0)),l=r===void 0?i:vbe(r),l<=0||l===1/0?"":(d=lAt(o+l,i),o>=d?"":aAt(n,o,d))}})});var oU=P(()=>{"use strict";p();var cAt=oe(),xbe=Qt(),iU=xt(),pAt=fi(),fAt=Br(),dAt=Ot(),hAt=Array,rU=iU("".charAt),_be=iU("".charCodeAt),mAt=iU([].join),nU="".toWellFormed,gAt="\uFFFD",bbe=nU&&dAt(function(){return xbe(nU,1)!=="1"});cAt({target:"String",proto:!0,forced:bbe},{toWellFormed:function(){var t=fAt(pAt(this));if(bbe)return xbe(nU,t);for(var r=t.length,n=hAt(r),i=0;i<r;i++){var o=_be(t,i);(o&63488)!==55296?n[i]=rU(t,i):o>=56320||i+1>=r||(_be(t,i+1)&64512)!==56320?n[i]=gAt:(n[i]=rU(t,i),n[++i]=rU(t,i))}return mAt(n,"")}})});var U5=P((cRr,Ebe)=>{"use strict";p();var vAt=Ag().PROPER,yAt=Ot(),wbe=Ug(),Sbe="\u200B\x85\u180E";Ebe.exports=function(e){return yAt(function(){return!!wbe[e]()||Sbe[e]()!==Sbe||vAt&&wbe[e].name!==e})}});var Ibe=P(()=>{"use strict";p();var _At=oe(),bAt=Vg().trim,xAt=U5();_At({target:"String",proto:!0,forced:xAt("trim")},{trim:function(){return bAt(this)}})});var aU=P((mRr,Tbe)=>{"use strict";p();var wAt=Vg().end,SAt=U5();Tbe.exports=SAt("trimEnd")?function(){return wAt(this)}:"".trimEnd});var Cbe=P(()=>{"use strict";p();var EAt=oe(),Mbe=aU();EAt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Mbe},{trimRight:Mbe})});var Pbe=P(()=>{"use strict";p();Cbe();var IAt=oe(),Abe=aU();IAt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==Abe},{trimEnd:Abe})});var sU=P((SRr,Obe)=>{"use strict";p();var TAt=Vg().start,MAt=U5();Obe.exports=MAt("trimStart")?function(){return TAt(this)}:"".trimStart});var Dbe=P(()=>{"use strict";p();var CAt=oe(),kbe=sU();CAt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==kbe},{trimLeft:kbe})});var Rbe=P(()=>{"use strict";p();Dbe();var AAt=oe(),Nbe=sU();AAt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==Nbe},{trimStart:Nbe})});var Ks=P((ORr,qbe)=>{"use strict";p();var PAt=xt(),OAt=fi(),Lbe=Br(),kAt=/"/g,DAt=PAt("".replace);qbe.exports=function(e,t,r,n){var i=Lbe(OAt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+DAt(Lbe(n),kAt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var Xs=P((DRr,zbe)=>{"use strict";p();var NAt=Ot();zbe.exports=function(e){return NAt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var jbe=P(()=>{"use strict";p();var RAt=oe(),LAt=Ks(),qAt=Xs();RAt({target:"String",proto:!0,forced:qAt("anchor")},{anchor:function(t){return LAt(this,"a","name",t)}})});var Fbe=P(()=>{"use strict";p();var zAt=oe(),jAt=Ks(),FAt=Xs();zAt({target:"String",proto:!0,forced:FAt("big")},{big:function(){return jAt(this,"big","","")}})});var Bbe=P(()=>{"use strict";p();var BAt=oe(),UAt=Ks(),VAt=Xs();BAt({target:"String",proto:!0,forced:VAt("blink")},{blink:function(){return UAt(this,"blink","","")}})});var Ube=P(()=>{"use strict";p();var $At=oe(),GAt=Ks(),HAt=Xs();$At({target:"String",proto:!0,forced:HAt("bold")},{bold:function(){return GAt(this,"b","","")}})});var Vbe=P(()=>{"use strict";p();var WAt=oe(),ZAt=Ks(),YAt=Xs();WAt({target:"String",proto:!0,forced:YAt("fixed")},{fixed:function(){return ZAt(this,"tt","","")}})});var $be=P(()=>{"use strict";p();var KAt=oe(),XAt=Ks(),QAt=Xs();KAt({target:"String",proto:!0,forced:QAt("fontcolor")},{fontcolor:function(t){return XAt(this,"font","color",t)}})});var Gbe=P(()=>{"use strict";p();var JAt=oe(),e5t=Ks(),t5t=Xs();JAt({target:"String",proto:!0,forced:t5t("fontsize")},{fontsize:function(t){return e5t(this,"font","size",t)}})});var Hbe=P(()=>{"use strict";p();var r5t=oe(),n5t=Ks(),i5t=Xs();r5t({target:"String",proto:!0,forced:i5t("italics")},{italics:function(){return n5t(this,"i","","")}})});var Wbe=P(()=>{"use strict";p();var o5t=oe(),a5t=Ks(),s5t=Xs();o5t({target:"String",proto:!0,forced:s5t("link")},{link:function(t){return a5t(this,"a","href",t)}})});var Zbe=P(()=>{"use strict";p();var l5t=oe(),u5t=Ks(),c5t=Xs();l5t({target:"String",proto:!0,forced:c5t("small")},{small:function(){return u5t(this,"small","","")}})});var Ybe=P(()=>{"use strict";p();var p5t=oe(),f5t=Ks(),d5t=Xs();p5t({target:"String",proto:!0,forced:d5t("strike")},{strike:function(){return f5t(this,"strike","","")}})});var Kbe=P(()=>{"use strict";p();var h5t=oe(),m5t=Ks(),g5t=Xs();h5t({target:"String",proto:!0,forced:g5t("sub")},{sub:function(){return m5t(this,"sub","","")}})});var Xbe=P(()=>{"use strict";p();var v5t=oe(),y5t=Ks(),_5t=Xs();v5t({target:"String",proto:!0,forced:_5t("sup")},{sup:function(){return y5t(this,"sup","","")}})});var V5=P((bLr,Jbe)=>{"use strict";p();var Qbe=Xt(),lU=Ot(),b5t=r2(),x5t=ln().NATIVE_ARRAY_BUFFER_VIEWS,w5t=Qbe.ArrayBuffer,Yg=Qbe.Int8Array;Jbe.exports=!x5t||!lU(function(){Yg(1)})||!lU(function(){new Yg(-1)})||!b5t(function(e){new Yg,new Yg(null),new Yg(1.5),new Yg(e)},!0)||lU(function(){return new Yg(new w5t(2),1,void 0).length!==1})});var uU=P((wLr,exe)=>{"use strict";p();var S5t=K0(),E5t=RangeError;exe.exports=function(e,t){var r=S5t(e);if(r%t)throw new E5t("Wrong offset");return r}});var cU=P((ELr,txe)=>{"use strict";p();var I5t=Math.round;txe.exports=function(e){var t=I5t(e);return t<0?0:t>255?255:t&255}});var $5=P((TLr,rxe)=>{"use strict";p();var T5t=_s();rxe.exports=function(e){var t=T5t(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var V2=P((CLr,nxe)=>{"use strict";p();var M5t=zw(),C5t=TypeError;nxe.exports=function(e){var t=M5t(e,"number");if(typeof t=="number")throw new C5t("Can't convert number to bigint");return BigInt(t)}});var pU=P((PLr,ixe)=>{"use strict";p();var A5t=ti(),P5t=Qt(),O5t=T2(),k5t=pn(),D5t=_n(),N5t=Ih(),R5t=lp(),L5t=CA(),q5t=$5(),z5t=ln().aTypedArrayConstructor,j5t=V2();ixe.exports=function(t){var r=O5t(this),n=k5t(t),i=arguments.length,o=i>1?arguments[1]:void 0,l=o!==void 0,d=R5t(n),g,_,E,T,A,L,z,U;if(d&&!L5t(d))for(z=N5t(n,d),U=z.next,n=[];!(L=P5t(U,z)).done;)n.push(L.value);for(l&&i>2&&(o=A5t(o,arguments[2])),_=D5t(n),E=new(z5t(r))(_),T=q5t(E),g=0;_>g;g++)A=l?o(n[g],g):n[g],E[g]=T?j5t(A):+A;return E}});var hp=P((kLr,yU)=>{"use strict";p();var oxe=oe(),gxe=Xt(),axe=Qt(),F5t=br(),B5t=V5(),W2=ln(),vxe=f2(),sxe=Ya(),U5t=Vs(),$2=Eo(),V5t=h5(),$5t=Gs(),lxe=U0(),fU=uU(),G5t=cU(),yxe=ap(),G2=en(),H5t=_s(),mU=Cr(),W5t=Pf(),Z5t=Qi(),Y5t=ga(),G5=su(),K5t=bh().f,uxe=pU(),X5t=Ji().forEach,Q5t=Ph(),J5t=xi(),_xe=ci(),bxe=Yo(),cxe=Rf(),_U=Un(),e3t=Eh(),gU=_U.get,t3t=_U.set,r3t=_U.enforce,xxe=_xe.f,n3t=bxe.f,dU=gxe.RangeError,wxe=vxe.ArrayBuffer,i3t=wxe.prototype,o3t=vxe.DataView,H5=W2.NATIVE_ARRAY_BUFFER_VIEWS,pxe=W2.TYPED_ARRAY_TAG,fxe=W2.TypedArray,H2=W2.TypedArrayPrototype,vU=W2.isTypedArray,W5="BYTES_PER_ELEMENT",hU="Wrong length",Z5=function(e,t){J5t(e,t,{configurable:!0,get:function(){return gU(this)[t]}})},dxe=function(e){var t;return Y5t(i3t,e)||(t=H5t(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Sxe=function(e,t){return vU(e)&&!W5t(t)&&t in e&&V5t(+t)&&t>=0},hxe=function(t,r){return r=yxe(r),Sxe(t,r)?U5t(2,t[r]):n3t(t,r)},mxe=function(t,r,n){return r=yxe(r),Sxe(t,r)&&mU(n)&&G2(n,"value")&&!G2(n,"get")&&!G2(n,"set")&&!n.configurable&&(!G2(n,"writable")||n.writable)&&(!G2(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):xxe(t,r,n)};F5t?(H5||(bxe.f=hxe,_xe.f=mxe,Z5(H2,"buffer"),Z5(H2,"byteOffset"),Z5(H2,"byteLength"),Z5(H2,"length")),oxe({target:"Object",stat:!0,forced:!H5},{getOwnPropertyDescriptor:hxe,defineProperty:mxe}),yU.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,l="set"+e,d=gxe[i],g=d,_=g&&g.prototype,E={},T=function(U,N){var R=gU(U);return R.view[o](N*n+R.byteOffset,!0)},A=function(U,N,R){var j=gU(U);j.view[l](N*n+j.byteOffset,r?G5t(R):R,!0)},L=function(U,N){xxe(U,N,{get:function(){return T(this,N)},set:function(R){return A(this,N,R)},enumerable:!0})};H5?B5t&&(g=t(function(U,N,R,j){return sxe(U,_),e3t(function(){return mU(N)?dxe(N)?j!==void 0?new d(N,fU(R,n),j):R!==void 0?new d(N,fU(R,n)):new d(N):vU(N)?cxe(g,N):axe(uxe,g,N):new d(lxe(N))}(),U,g)}),G5&&G5(g,fxe),X5t(K5t(d),function(U){U in g||$2(g,U,d[U])}),g.prototype=_):(g=t(function(U,N,R,j){sxe(U,_);var H=0,Y=0,re,ie,le;if(!mU(N))le=lxe(N),ie=le*n,re=new wxe(ie);else if(dxe(N)){re=N,Y=fU(R,n);var Me=N.byteLength;if(j===void 0){if(Me%n)throw new dU(hU);if(ie=Me-Y,ie<0)throw new dU(hU)}else if(ie=$5t(j)*n,ie+Y>Me)throw new dU(hU);le=ie/n}else return vU(N)?cxe(g,N):axe(uxe,g,N);for(t3t(U,{buffer:re,byteOffset:Y,byteLength:ie,length:le,view:new o3t(re)});H<le;)L(U,H++)}),G5&&G5(g,fxe),_=g.prototype=Z5t(H2)),_.constructor!==g&&$2(_,"constructor",g),r3t(_).TypedArrayConstructor=g,pxe&&$2(_,pxe,i);var z=g!==d;E[i]=g,oxe({global:!0,constructor:!0,forced:z,sham:!H5},E),W5 in g||$2(g,W5,n),W5 in _||$2(_,W5,n),Q5t(i)}):yU.exports=function(){}});var Exe=P(()=>{"use strict";p();var a3t=hp();a3t("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Ixe=P(()=>{"use strict";p();var s3t=hp();s3t("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Txe=P(()=>{"use strict";p();var l3t=hp();l3t("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Mxe=P(()=>{"use strict";p();var u3t=hp();u3t("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cxe=P(()=>{"use strict";p();var c3t=hp();c3t("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Axe=P(()=>{"use strict";p();var p3t=hp();p3t("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Pxe=P(()=>{"use strict";p();var f3t=hp();f3t("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Oxe=P(()=>{"use strict";p();var d3t=hp();d3t("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var kxe=P(()=>{"use strict";p();var h3t=hp();h3t("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var bU=P(()=>{"use strict";p();var Dxe=ln(),m3t=_n(),g3t=bi(),v3t=Dxe.aTypedArray,y3t=Dxe.exportTypedArrayMethod;y3t("at",function(t){var r=v3t(this),n=m3t(r),i=g3t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var Rxe=P(()=>{"use strict";p();var _3t=xt(),Nxe=ln(),b3t=w9(),x3t=_3t(b3t),w3t=Nxe.aTypedArray,S3t=Nxe.exportTypedArrayMethod;S3t("copyWithin",function(t,r){return x3t(w3t(this),t,r,arguments.length>2?arguments[2]:void 0)})});var qxe=P(()=>{"use strict";p();var Lxe=ln(),E3t=Ji().every,I3t=Lxe.aTypedArray,T3t=Lxe.exportTypedArrayMethod;T3t("every",function(t){return E3t(I3t(this),t,arguments.length>1?arguments[1]:void 0)})});var jxe=P(()=>{"use strict";p();var zxe=ln(),M3t=kA(),C3t=V2(),A3t=_s(),P3t=Qt(),O3t=xt(),k3t=Ot(),D3t=zxe.aTypedArray,N3t=zxe.exportTypedArrayMethod,R3t=O3t("".slice),L3t=k3t(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});N3t("fill",function(t){var r=arguments.length;D3t(this);var n=R3t(A3t(this),0,3)==="Big"?C3t(t):+t;return P3t(M3t,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},L3t)});var Y5=P((_6r,Fxe)=>{"use strict";p();var q3t=Rf(),z3t=ln().getTypedArrayConstructor;Fxe.exports=function(e,t){return q3t(z3t(e),t)}});var Uxe=P(()=>{"use strict";p();var Bxe=ln(),j3t=Ji().filter,F3t=Y5(),B3t=Bxe.aTypedArray,U3t=Bxe.exportTypedArrayMethod;U3t("filter",function(t){var r=j3t(B3t(this),t,arguments.length>1?arguments[1]:void 0);return F3t(this,r)})});var $xe=P(()=>{"use strict";p();var Vxe=ln(),V3t=Ji().find,$3t=Vxe.aTypedArray,G3t=Vxe.exportTypedArrayMethod;G3t("find",function(t){return V3t($3t(this),t,arguments.length>1?arguments[1]:void 0)})});var Hxe=P(()=>{"use strict";p();var Gxe=ln(),H3t=Ji().findIndex,W3t=Gxe.aTypedArray,Z3t=Gxe.exportTypedArrayMethod;Z3t("findIndex",function(t){return H3t(W3t(this),t,arguments.length>1?arguments[1]:void 0)})});var xU=P(()=>{"use strict";p();var Wxe=ln(),Y3t=t2().findLast,K3t=Wxe.aTypedArray,X3t=Wxe.exportTypedArrayMethod;X3t("findLast",function(t){return Y3t(K3t(this),t,arguments.length>1?arguments[1]:void 0)})});var wU=P(()=>{"use strict";p();var Zxe=ln(),Q3t=t2().findLastIndex,J3t=Zxe.aTypedArray,e4t=Zxe.exportTypedArrayMethod;e4t("findLastIndex",function(t){return Q3t(J3t(this),t,arguments.length>1?arguments[1]:void 0)})});var Kxe=P(()=>{"use strict";p();var Yxe=ln(),t4t=Ji().forEach,r4t=Yxe.aTypedArray,n4t=Yxe.exportTypedArrayMethod;n4t("forEach",function(t){t4t(r4t(this),t,arguments.length>1?arguments[1]:void 0)})});var Xxe=P(()=>{"use strict";p();var i4t=V5(),o4t=ln().exportTypedArrayStaticMethod,a4t=pU();o4t("from",a4t,i4t)});var Jxe=P(()=>{"use strict";p();var Qxe=ln(),s4t=N0().includes,l4t=Qxe.aTypedArray,u4t=Qxe.exportTypedArrayMethod;u4t("includes",function(t){return s4t(l4t(this),t,arguments.length>1?arguments[1]:void 0)})});var twe=P(()=>{"use strict";p();var ewe=ln(),c4t=N0().indexOf,p4t=ewe.aTypedArray,f4t=ewe.exportTypedArrayMethod;f4t("indexOf",function(t){return c4t(p4t(this),t,arguments.length>1?arguments[1]:void 0)})});var awe=P(()=>{"use strict";p();var d4t=Xt(),h4t=Ot(),SU=xt(),nwe=ln(),EU=o2(),m4t=Or(),IU=m4t("iterator"),rwe=d4t.Uint8Array,g4t=SU(EU.values),v4t=SU(EU.keys),y4t=SU(EU.entries),TU=nwe.aTypedArray,K5=nwe.exportTypedArrayMethod,g1=rwe&&rwe.prototype,X5=!h4t(function(){g1[IU].call([1])}),iwe=!!g1&&g1.values&&g1[IU]===g1.values&&g1.values.name==="values",owe=function(){return g4t(TU(this))};K5("entries",function(){return y4t(TU(this))},X5);K5("keys",function(){return v4t(TU(this))},X5);K5("values",owe,X5||!iwe,{name:"values"});K5(IU,owe,X5||!iwe,{name:"values"})});var lwe=P(()=>{"use strict";p();var swe=ln(),_4t=xt(),b4t=swe.aTypedArray,x4t=swe.exportTypedArrayMethod,w4t=_4t([].join);x4t("join",function(t){return w4t(b4t(this),t)})});var cwe=P(()=>{"use strict";p();var uwe=ln(),S4t=va(),E4t=z9(),I4t=uwe.aTypedArray,T4t=uwe.exportTypedArrayMethod;T4t("lastIndexOf",function(t){var r=arguments.length;return S4t(E4t,I4t(this),r>1?[t,arguments[1]]:[t])})});var pwe=P(()=>{"use strict";p();var MU=ln(),M4t=Ji().map,C4t=MU.aTypedArray,A4t=MU.getTypedArrayConstructor,P4t=MU.exportTypedArrayMethod;P4t("map",function(t){return M4t(C4t(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(A4t(r))(n)})})});var dwe=P(()=>{"use strict";p();var fwe=ln(),O4t=V5(),k4t=fwe.aTypedArrayConstructor,D4t=fwe.exportTypedArrayStaticMethod;D4t("of",function(){for(var t=0,r=arguments.length,n=new(k4t(this))(r);r>t;)n[t]=arguments[t++];return n},O4t)});var mwe=P(()=>{"use strict";p();var hwe=ln(),N4t=a2().left,R4t=hwe.aTypedArray,L4t=hwe.exportTypedArrayMethod;L4t("reduce",function(t){var r=arguments.length;return N4t(R4t(this),t,r,r>1?arguments[1]:void 0)})});var vwe=P(()=>{"use strict";p();var gwe=ln(),q4t=a2().right,z4t=gwe.aTypedArray,j4t=gwe.exportTypedArrayMethod;j4t("reduceRight",function(t){var r=arguments.length;return q4t(z4t(this),t,r,r>1?arguments[1]:void 0)})});var _we=P(()=>{"use strict";p();var ywe=ln(),F4t=ywe.aTypedArray,B4t=ywe.exportTypedArrayMethod,U4t=Math.floor;B4t("reverse",function(){for(var t=this,r=F4t(t).length,n=U4t(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var Iwe=P(()=>{"use strict";p();var xwe=Xt(),wwe=Qt(),PU=ln(),V4t=_n(),$4t=uU(),G4t=pn(),Swe=Ot(),H4t=xwe.RangeError,CU=xwe.Int8Array,bwe=CU&&CU.prototype,Ewe=bwe&&bwe.set,W4t=PU.aTypedArray,Z4t=PU.exportTypedArrayMethod,AU=!Swe(function(){var e=new Uint8ClampedArray(2);return wwe(Ewe,e,{length:1,0:3},1),e[1]!==3}),Y4t=AU&&PU.NATIVE_ARRAY_BUFFER_VIEWS&&Swe(function(){var e=new CU(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});Z4t("set",function(t){W4t(this);var r=$4t(arguments.length>1?arguments[1]:void 0,1),n=G4t(t);if(AU)return wwe(Ewe,this,n,r);var i=this.length,o=V4t(n),l=0;if(o+r>i)throw new H4t("Wrong length");for(;l<o;)this[r+l]=n[l++]},!AU||Y4t)});var Twe=P(()=>{"use strict";p();var OU=ln(),K4t=Ot(),X4t=Hs(),Q4t=OU.aTypedArray,J4t=OU.getTypedArrayConstructor,ePt=OU.exportTypedArrayMethod,tPt=K4t(function(){new Int8Array(1).slice()});ePt("slice",function(t,r){for(var n=X4t(Q4t(this),t,r),i=J4t(this),o=0,l=n.length,d=new i(l);l>o;)d[o]=n[o++];return d},tPt)});var Cwe=P(()=>{"use strict";p();var Mwe=ln(),rPt=Ji().some,nPt=Mwe.aTypedArray,iPt=Mwe.exportTypedArrayMethod;iPt("some",function(t){return rPt(nPt(this),t,arguments.length>1?arguments[1]:void 0)})});var Nwe=P(()=>{"use strict";p();var oPt=Xt(),aPt=xh(),kU=Ot(),sPt=Rr(),lPt=FA(),Dwe=ln(),Awe=B9(),uPt=U9(),Pwe=Xu(),Owe=BA(),cPt=Dwe.aTypedArray,pPt=Dwe.exportTypedArrayMethod,Z2=oPt.Uint16Array,v1=Z2&&aPt(Z2.prototype.sort),fPt=!!v1&&!(kU(function(){v1(new Z2(2),null)})&&kU(function(){v1(new Z2(2),{})})),kwe=!!v1&&!kU(function(){if(Pwe)return Pwe<74;if(Awe)return Awe<67;if(uPt)return!0;if(Owe)return Owe<602;var e=new Z2(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(v1(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),dPt=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};pPt("sort",function(t){return t!==void 0&&sPt(t),kwe?v1(this,t):lPt(cPt(this),dPt(t))},!kwe||fPt)});var Lwe=P(()=>{"use strict";p();var DU=ln(),hPt=Gs(),Rwe=Ju(),mPt=DU.aTypedArray,gPt=DU.getTypedArrayConstructor,vPt=DU.exportTypedArrayMethod;vPt("subarray",function(t,r){var n=mPt(this),i=n.length,o=Rwe(t,i),l=gPt(n);return new l(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,hPt((r===void 0?i:Rwe(r,i))-o))})});var Bwe=P(()=>{"use strict";p();var yPt=Xt(),_Pt=va(),jwe=ln(),NU=Ot(),qwe=Hs(),Q5=yPt.Int8Array,zwe=jwe.aTypedArray,bPt=jwe.exportTypedArrayMethod,Fwe=[].toLocaleString,xPt=!!Q5&&NU(function(){Fwe.call(new Q5(1))}),wPt=NU(function(){return[1,2].toLocaleString()!==new Q5([1,2]).toLocaleString()})||!NU(function(){Q5.prototype.toLocaleString.call([1,2])});bPt("toLocaleString",function(){return _Pt(Fwe,xPt?qwe(zwe(this)):zwe(this),qwe(arguments))},wPt)});var LU=P(()=>{"use strict";p();var SPt=G9(),RU=ln(),EPt=RU.aTypedArray,IPt=RU.exportTypedArrayMethod,TPt=RU.getTypedArrayConstructor;IPt("toReversed",function(){return SPt(EPt(this),TPt(this))})});var qU=P(()=>{"use strict";p();var J5=ln(),MPt=xt(),CPt=Rr(),APt=Rf(),PPt=J5.aTypedArray,OPt=J5.getTypedArrayConstructor,kPt=J5.exportTypedArrayMethod,DPt=MPt(J5.TypedArrayPrototype.sort);kPt("toSorted",function(t){t!==void 0&&CPt(t);var r=PPt(this),n=APt(OPt(r),r);return DPt(n,t)})});var Vwe=P(()=>{"use strict";p();var NPt=ln().exportTypedArrayMethod,RPt=Ot(),LPt=Xt(),qPt=xt(),Uwe=LPt.Uint8Array,zPt=Uwe&&Uwe.prototype||{},e3=[].toString,jPt=qPt([].join);RPt(function(){e3.call({})})&&(e3=function(){return jPt(this)});var FPt=zPt.toString!==e3;NPt("toString",e3,FPt)});var jU=P(()=>{"use strict";p();var BPt=K9(),zU=ln(),UPt=$5(),VPt=bi(),$Pt=V2(),GPt=zU.aTypedArray,HPt=zU.getTypedArrayConstructor,WPt=zU.exportTypedArrayMethod,ZPt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();WPt("with",function(e,t){var r=GPt(this),n=VPt(e),i=UPt(r)?$Pt(t):+t;return BPt(r,HPt(r),n,i)},!ZPt)});var Zwe=P(()=>{"use strict";p();var YPt=oe(),FU=xt(),KPt=Br(),$we=String.fromCharCode,Gwe=FU("".charAt),Hwe=FU(/./.exec),Wwe=FU("".slice),XPt=/^[\da-f]{2}$/i,QPt=/^[\da-f]{4}$/i;YPt({global:!0},{unescape:function(t){for(var r=KPt(t),n="",i=r.length,o=0,l,d;o<i;){if(l=Gwe(r,o++),l==="%"){if(Gwe(r,o)==="u"){if(d=Wwe(r,o+1,o+5),Hwe(QPt,d)){n+=$we(parseInt(d,16)),o+=5;continue}}else if(d=Wwe(r,o,o+2),Hwe(XPt,d)){n+=$we(parseInt(d,16)),o+=2;continue}}n+=l}return n}})});var VU=P((Xqr,e2e)=>{"use strict";p();var JPt=xt(),Ywe=cu(),t3=qh().getWeakData,eOt=Ya(),tOt=er(),rOt=$s(),BU=Cr(),nOt=zi(),Xwe=Ji(),Kwe=en(),Qwe=Un(),iOt=Qwe.set,oOt=Qwe.getterFor,aOt=Xwe.find,sOt=Xwe.findIndex,lOt=JPt([].splice),uOt=0,r3=function(e){return e.frozen||(e.frozen=new Jwe)},Jwe=function(){this.entries=[]},UU=function(e,t){return aOt(e.entries,function(r){return r[0]===t})};Jwe.prototype={get:function(e){var t=UU(this,e);if(t)return t[1]},has:function(e){return!!UU(this,e)},set:function(e,t){var r=UU(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=sOt(this.entries,function(r){return r[0]===e});return~t&&lOt(this.entries,t,1),!!~t}};e2e.exports={getConstructor:function(e,t,r,n){var i=e(function(g,_){eOt(g,o),iOt(g,{type:t,id:uOt++,frozen:null}),rOt(_)||nOt(_,g[n],{that:g,AS_ENTRIES:r})}),o=i.prototype,l=oOt(t),d=function(g,_,E){var T=l(g),A=t3(tOt(_),!0);return A===!0?r3(T).set(_,E):A[T.id]=E,g};return Ywe(o,{delete:function(g){var _=l(this);if(!BU(g))return!1;var E=t3(g);return E===!0?r3(_).delete(g):E&&Kwe(E,_.id)&&delete E[_.id]},has:function(_){var E=l(this);if(!BU(_))return!1;var T=t3(_);return T===!0?r3(E).has(_):T&&Kwe(T,E.id)}}),Ywe(o,r?{get:function(_){var E=l(this);if(BU(_)){var T=t3(_);if(T===!0)return r3(E).get(_);if(T)return T[E.id]}},set:function(_,E){return d(this,_,E)}}:{add:function(_){return d(this,_,!0)}}),i}}});var l2e=P(()=>{"use strict";p();var cOt=Ff(),t2e=Xt(),a3=xt(),r2e=cu(),pOt=qh(),fOt=g2(),n2e=VU(),n3=Cr(),i3=Un().enforce,dOt=Ot(),hOt=E7(),X2=Object,mOt=Array.isArray,o3=X2.isExtensible,i2e=X2.isFrozen,gOt=X2.isSealed,o2e=X2.freeze,vOt=X2.seal,yOt=!t2e.ActiveXObject&&"ActiveXObject"in t2e,Y2,a2e=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s2e=fOt("WeakMap",a2e,n2e),y1=s2e.prototype,s3=a3(y1.set),_Ot=function(){return cOt&&dOt(function(){var e=o2e([]);return s3(new s2e,e,1),!i2e(e)})};hOt&&(yOt?(Y2=n2e.getConstructor(a2e,"WeakMap",!0),pOt.enable(),$U=a3(y1.delete),K2=a3(y1.has),GU=a3(y1.get),r2e(y1,{delete:function(e){if(n3(e)&&!o3(e)){var t=i3(this);return t.frozen||(t.frozen=new Y2),$U(this,e)||t.frozen.delete(e)}return $U(this,e)},has:function(t){if(n3(t)&&!o3(t)){var r=i3(this);return r.frozen||(r.frozen=new Y2),K2(this,t)||r.frozen.has(t)}return K2(this,t)},get:function(t){if(n3(t)&&!o3(t)){var r=i3(this);return r.frozen||(r.frozen=new Y2),K2(this,t)?GU(this,t):r.frozen.get(t)}return GU(this,t)},set:function(t,r){if(n3(t)&&!o3(t)){var n=i3(this);n.frozen||(n.frozen=new Y2),K2(this,t)?s3(this,t,r):n.frozen.set(t,r)}else s3(this,t,r);return this}})):_Ot()&&r2e(y1,{set:function(t,r){var n;return mOt(t)&&(i2e(t)?n=o2e:gOt(t)&&(n=vOt)),s3(this,t,r),n&&n(t),this}}));var $U,K2,GU});var l3=P(()=>{"use strict";p();l2e()});var u2e=P(()=>{"use strict";p();var bOt=g2(),xOt=VU();bOt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},xOt)});var c2e=P(()=>{"use strict";p();u2e()});var p2e=P(()=>{"use strict";p();g9()});var h2e=P(()=>{"use strict";p();var wOt=oe(),SOt=Xt(),EOt=ga(),f2e=Io(),c3=su(),IOt=Og(),d2e=Qi(),u3=Eo(),HU=Vs(),TOt=EA(),MOt=Lg(),COt=Or(),AOt=Ot(),POt=An(),_1=SOt.SuppressedError,OOt=COt("toStringTag"),p3=Error,kOt=!!_1&&_1.length!==3,DOt=!!_1&&AOt(function(){return new _1(1,2,3,{cause:4}).cause===4}),f3=kOt||DOt,Kg=function(t,r,n){var i=EOt(Q2,this),o;return c3?o=f3&&(!i||f2e(this)===Q2)?new _1:c3(new p3,i?f2e(this):Q2):(o=i?this:d2e(Q2),u3(o,OOt,"Error")),n!==void 0&&u3(o,"message",MOt(n)),TOt(o,Kg,o.stack,1),u3(o,"error",t),u3(o,"suppressed",r),o};c3?c3(Kg,p3):IOt(Kg,p3,{name:!0});var Q2=Kg.prototype=f3?_1.prototype:d2e(p3.prototype,{constructor:HU(1,Kg),message:HU(1,""),name:HU(1,"SuppressedError")});f3&&!POt&&(Q2.constructor=Kg);wOt({global:!0,constructor:!0,arity:3,forced:f3},{SuppressedError:Kg})});var b1=P((v8r,w2e)=>{"use strict";p();var _2e=Xt(),b2e=qw(),x2e=Kr(),NOt=Qi(),d3=Io(),ROt=Zn(),LOt=Or(),qOt=An(),m2e="USE_FUNCTION_CONSTRUCTOR",g2e=LOt("asyncIterator"),v2e=_2e.AsyncIterator,y2e=b2e.AsyncIteratorPrototype,mp,WU;if(y2e)mp=y2e;else if(x2e(v2e))mp=v2e.prototype;else if(b2e[m2e]||_2e[m2e])try{WU=d3(d3(d3(Function("return async function*(){}()")()))),d3(WU)===Object.prototype&&(mp=WU)}catch(e){}mp?qOt&&(mp=NOt(mp)):mp={};x2e(mp[g2e])||ROt(mp,g2e,function(){return this});w2e.exports=mp});var J2=P((_8r,O2e)=>{"use strict";p();var S2e=Qt(),E2e=er(),zOt=Qi(),jOt=Xi(),FOt=cu(),M2e=Un(),BOt=Xo(),UOt=Nr(),VOt=b1(),C2e=zo(),ZU=UOt("Promise"),A2e="AsyncFromSyncIterator",$Ot=M2e.set,I2e=M2e.getterFor(A2e),T2e=function(e,t,r,n,i){var o=e.done;ZU.resolve(e.value).then(function(l){t(C2e(l,o))},function(l){if(!o&&i)try{BOt(n,"throw",l)}catch(d){l=d}r(l)})},P2e=function(t){t.type=A2e,$Ot(this,t)};P2e.prototype=FOt(zOt(VOt),{next:function(){var t=I2e(this);return new ZU(function(r,n){var i=E2e(S2e(t.next,t.iterator));T2e(i,r,n,t.iterator,!0)})},return:function(){var e=I2e(this).iterator;return new ZU(function(t,r){var n=jOt(e,"return");if(n===void 0)return t(C2e(void 0,!0));var i=E2e(S2e(n,e));T2e(i,t,r,e)})}});O2e.exports=P2e});var D2e=P((x8r,k2e)=>{"use strict";p();var GOt=Qt(),HOt=J2(),WOt=er(),ZOt=Ih(),YOt=Ci(),KOt=Xi(),XOt=Or(),QOt=XOt("asyncIterator");k2e.exports=function(e,t){var r=arguments.length<2?KOt(e,QOt):t;return r?WOt(GOt(r,e)):new HOt(YOt(ZOt(e)))}});var x1=P((S8r,N2e)=>{"use strict";p();var JOt=Qt(),ekt=Nr(),tkt=Xi();N2e.exports=function(e,t,r,n){try{var i=tkt(e,"return");if(i)return ekt("Promise").resolve(JOt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var Xg=P((I8r,R2e)=>{"use strict";p();var rkt=Qt(),nkt=Rr(),YU=er(),ikt=Cr(),okt=Th(),akt=Nr(),skt=Ci(),KU=x1(),eS=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,l,d){YU(o);var g=l!==void 0;(g||!t)&&nkt(l);var _=skt(o),E=akt("Promise"),T=_.iterator,A=_.next,L=0;return new E(function(z,U){var N=function(j){KU(T,U,j,U)},R=function(){try{if(g)try{okt(L)}catch(j){N(j)}E.resolve(YU(rkt(A,T))).then(function(j){try{if(YU(j).done)t?(d.length=L,z(d)):z(i?!1:n||void 0);else{var H=j.value;try{if(g){var Y=l(H,L),re=function(ie){if(r)R();else if(n)ie?R():KU(T,z,!1,U);else if(t)try{d[L++]=ie,R()}catch(le){N(le)}else ie?KU(T,z,i||H,U):R()};ikt(Y)?E.resolve(Y).then(re,N):re(Y)}else d[L++]=H,R()}catch(ie){N(ie)}}}catch(ie){U(ie)}},U)}catch(j){U(j)}};R()})}};R2e.exports={toArray:eS(0),forEach:eS(1),every:eS(2),some:eS(3),find:eS(4)}});var XU=P((M8r,j2e)=>{"use strict";p();var lkt=ti(),L2e=xt(),ukt=pn(),ckt=tc(),pkt=D2e(),fkt=Ih(),dkt=Ci(),hkt=lp(),mkt=Xi(),gkt=Nr(),vkt=W9(),ykt=Or(),_kt=J2(),bkt=Xg().toArray,xkt=ykt("asyncIterator"),q2e=L2e(vkt("Array","values")),wkt=L2e(q2e([]).next),Skt=function(){return new z2e(this)},z2e=function(e){this.iterator=q2e(e)};z2e.prototype.next=function(){return wkt(this.iterator)};j2e.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(gkt("Promise"))(function(l){var d=ukt(t);i!==void 0&&(i=lkt(i,o));var g=mkt(d,xkt),_=g?void 0:hkt(d)||Skt,E=ckt(r)?new r:[],T=g?pkt(d,g):new _kt(dkt(fkt(d,_)));l(bkt(T,i,E))})}});var B2e=P(()=>{"use strict";p();var Ekt=oe(),Ikt=XU(),Tkt=Ot(),F2e=Array.fromAsync,Mkt=!F2e||Tkt(function(){var e=0;return F2e.call(function(){return e++,[]},{length:0}),e!==1});Ekt({target:"Array",stat:!0,forced:Mkt},{fromAsync:Ikt})});var U2e=P(()=>{"use strict";p();b9()});var V2e=P(()=>{"use strict";p();var Ckt=oe(),Akt=Ji().filterReject,Pkt=ji();Ckt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return Akt(this,t,arguments.length>1?arguments[1]:void 0)}});Pkt("filterOut")});var $2e=P(()=>{"use strict";p();var Okt=oe(),kkt=Ji().filterReject,Dkt=ji();Okt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return kkt(this,t,arguments.length>1?arguments[1]:void 0)}});Dkt("filterReject")});var G2e=P(()=>{"use strict";p();I9()});var H2e=P(()=>{"use strict";p();T9()});var h3=P((W8r,W2e)=>{"use strict";p();var Nkt=ti(),Rkt=xt(),Lkt=Af(),qkt=pn(),zkt=ap(),jkt=_n(),Fkt=Qi(),Bkt=Rf(),Ukt=Array,Vkt=Rkt([].push);W2e.exports=function(e,t,r,n){for(var i=qkt(e),o=Lkt(i),l=Nkt(t,r),d=Fkt(null),g=jkt(o),_=0,E,T,A;g>_;_++)A=o[_],T=zkt(l(A,_,i)),T in d?Vkt(d[T],A):d[T]=[A];if(n&&(E=n(i),E!==Ukt))for(T in d)d[T]=Bkt(E,d[T]);return d}});var Z2e=P(()=>{"use strict";p();var $kt=oe(),Gkt=h3(),Hkt=ji();$kt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return Gkt(this,t,r)}});Hkt("group")});var Y2e=P(()=>{"use strict";p();var Wkt=oe(),Zkt=h3(),Ykt=uu(),Kkt=ji();Wkt({target:"Array",proto:!0,forced:!Ykt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return Zkt(this,t,r)}});Kkt("groupBy")});var QU=P((t7r,K2e)=>{"use strict";p();var Xkt=ti(),Qkt=xt(),Jkt=Af(),eDt=pn(),tDt=_n(),m3=jo(),rDt=m3.Map,nDt=m3.get,iDt=m3.has,oDt=m3.set,aDt=Qkt([].push);K2e.exports=function(t){for(var r=eDt(this),n=Jkt(r),i=Xkt(t,arguments.length>1?arguments[1]:void 0),o=new rDt,l=tDt(n),d=0,g,_;l>d;d++)_=n[d],g=i(_,d,r),iDt(o,g)?aDt(nDt(o,g),_):oDt(o,g,[_]);return o}});var X2e=P(()=>{"use strict";p();var sDt=oe(),lDt=uu(),uDt=ji(),cDt=QU(),pDt=An();sDt({target:"Array",proto:!0,name:"groupToMap",forced:pDt||!lDt("groupByToMap")},{groupByToMap:cDt});uDt("groupByToMap")});var Q2e=P(()=>{"use strict";p();var fDt=oe(),dDt=ji(),hDt=QU(),mDt=An();fDt({target:"Array",proto:!0,forced:mDt},{groupToMap:hDt});dDt("groupToMap")});var tSe=P(()=>{"use strict";p();var gDt=oe(),vDt=ec(),J2e=Object.isFrozen,eSe=function(e,t){if(!J2e||!vDt(e)||!J2e(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};gDt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!eSe(t,!0))return!1;var r=t.raw;return r.length===t.length&&eSe(r,!1)}})});var rSe=P(()=>{"use strict";p();var yDt=br(),_Dt=ji(),bDt=pn(),xDt=_n(),wDt=xi();yDt&&(wDt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=bDt(this),r=xDt(t);return r===0?0:r-1}}),_Dt("lastIndex"))});var oSe=P(()=>{"use strict";p();var SDt=br(),EDt=ji(),nSe=pn(),iSe=_n(),IDt=xi();SDt&&(IDt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=nSe(this),r=iSe(t);return r===0?void 0:t[r-1]},set:function(t){var r=nSe(this),n=iSe(r);return r[n===0?0:n-1]=t}}),EDt("lastItem"))});var aSe=P(()=>{"use strict";p();H9()});var sSe=P(()=>{"use strict";p();Z9()});var lSe=P(()=>{"use strict";p();Y9()});var pu=P((M7r,dSe)=>{"use strict";p();var uSe=xt(),TDt=Uf(),cSe=jo(),MDt=cSe.Map,pSe=cSe.proto,CDt=uSe(pSe.forEach),fSe=uSe(pSe.entries),ADt=fSe(new MDt).next;dSe.exports=function(e,t,r){return r?TDt({iterator:fSe(e),next:ADt},function(n){return t(n[1],n[0])}):CDt(e,t)}});var g3=P((A7r,hSe)=>{"use strict";p();var PDt=xt(),ODt=Rr(),kDt=$s(),DDt=_n(),NDt=pn(),JU=jo(),RDt=pu(),LDt=JU.Map,qDt=JU.has,zDt=JU.set,jDt=PDt([].push);hSe.exports=function(t){var r=NDt(this),n=DDt(r),i=[],o=new LDt,l=kDt(t)?function(E){return E}:ODt(t),d,g,_;for(d=0;d<n;d++)g=r[d],_=l(g),qDt(o,_)||zDt(o,_,g);return RDt(o,function(E){jDt(i,E)}),i}});var mSe=P(()=>{"use strict";p();var FDt=oe(),BDt=ji(),UDt=g3();FDt({target:"Array",proto:!0,forced:!0},{uniqueBy:UDt});BDt("uniqueBy")});var gSe=P(()=>{"use strict";p();X9()});var vSe=P(()=>{"use strict";p();Ez()});var ySe=P(()=>{"use strict";p();jz()});var _Se=P(()=>{"use strict";p();Fz()});var tV=P((H7r,ESe)=>{"use strict";p();var VDt=Nr(),$Dt=Qt(),GDt=xt(),HDt=ti(),WDt=er(),ZDt=Rr(),wSe=$s(),eV=Xi(),SSe=Or(),YDt=SSe("asyncDispose"),bSe=SSe("dispose"),KDt=GDt([].push),XDt=function(e,t){if(t==="async-dispose"){var r=eV(e,YDt);return r!==void 0||(r=eV(e,bSe),r===void 0)?r:function(){var n=this,i=VDt("Promise");return new i(function(o){$Dt(r,n),o(void 0)})}}return eV(e,bSe)},xSe=function(e,t,r){return arguments.length<3&&!wSe(e)&&(r=ZDt(XDt(WDt(e),t))),r===void 0?function(){}:HDt(r,e)};ESe.exports=function(e,t,r,n){var i;if(arguments.length<4){if(wSe(t)&&r==="sync-dispose")return;i=xSe(t,r)}else i=xSe(void 0,r,n);KDt(e.stack,i)}});var kSe=P(()=>{"use strict";p();var QDt=oe(),y3=br(),CSe=Nr(),ISe=Rr(),JDt=Ya(),ASe=Zn(),eNt=cu(),tNt=xi(),PSe=Or(),OSe=Un(),rV=tV(),TSe=Xu(),MSe=CSe("Promise"),rNt=CSe("SuppressedError"),nNt=ReferenceError,iNt=PSe("asyncDispose"),oNt=PSe("toStringTag"),b3="AsyncDisposableStack",aNt=OSe.set,_3=OSe.getterFor(b3),nV="async-dispose",tS="disposed",sNt="pending",v3=function(e){var t=_3(e);if(t.state===tS)throw new nNt(b3+" already disposed");return t},iV=function(){aNt(JDt(this,w1),{type:b3,state:sNt,stack:[]}),y3||(this.disposed=!1)},w1=iV.prototype;eNt(w1,{disposeAsync:function(){var t=this;return new MSe(function(r,n){var i=_3(t);if(i.state===tS)return r(void 0);i.state=tS,y3||(t.disposed=!0);var o=i.stack,l=o.length,d=!1,g,_=function(T){d?g=new rNt(T,g):(d=!0,g=T),E()},E=function(){if(l){var T=o[--l];o[l]=null;try{MSe.resolve(T()).then(E,_)}catch(A){_(A)}}else i.stack=null,d?n(g):r(void 0)};E()})},use:function(t){return rV(v3(this),t,nV),t},adopt:function(t,r){var n=v3(this);return ISe(r),rV(n,void 0,nV,function(){return r(t)}),t},defer:function(t){var r=v3(this);ISe(t),rV(r,void 0,nV,t)},move:function(){var t=v3(this),r=new iV;return _3(r).stack=t.stack,t.stack=[],t.state=tS,y3||(this.disposed=!0),r}});y3&&tNt(w1,"disposed",{configurable:!0,get:function(){return _3(this).state===tS}});ASe(w1,iNt,w1.disposeAsync,{name:"disposeAsync"});ASe(w1,oNt,b3,{nonWritable:!0});var lNt=TSe&&TSe<136;QDt({global:!0,constructor:!0,forced:lNt},{AsyncDisposableStack:iV})});var qSe=P(()=>{"use strict";p();var uNt=oe(),cNt=Ya(),pNt=Io(),NSe=Eo(),RSe=en(),fNt=Or(),$h=b1(),LSe=An(),DSe=fNt("toStringTag"),dNt=TypeError,oV=function(){if(cNt(this,$h),pNt(this)===$h)throw new dNt("Abstract class AsyncIterator not directly constructable")};oV.prototype=$h;RSe($h,DSe)||NSe($h,DSe,"AsyncIterator");(LSe||!RSe($h,"constructor")||$h.constructor===Object)&&NSe($h,"constructor",oV);uNt({global:!0,constructor:!0,forced:LSe},{AsyncIterator:oV})});var Qg=P((e9r,GSe)=>{"use strict";p();var hNt=Qt(),x3=zh(),zSe=er(),mNt=Qi(),gNt=Eo(),vNt=cu(),yNt=Or(),FSe=Un(),_Nt=Nr(),bNt=Xi(),xNt=b1(),aV=zo(),jSe=Xo(),gp=_Nt("Promise"),wNt=yNt("toStringTag"),BSe="AsyncIteratorHelper",USe="WrapForValidAsyncIterator",SNt=FSe.set,VSe=function(e){var t=!e,r=FSe.getterFor(e?USe:BSe),n=function(i){var o=x3(function(){return r(i)}),l=o.error,d=o.value;return l||t&&d.done?{exit:!0,value:l?gp.reject(d):gp.resolve(aV(void 0,!0))}:{exit:!1,value:d}};return vNt(mNt(xNt),{next:function(){var o=n(this),l=o.value;if(o.exit)return l;var d=x3(function(){return zSe(l.nextHandler(gp))}),g=d.error,_=d.value;return g&&(l.done=!0),g?gp.reject(_):gp.resolve(_)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var l=o.iterator,d,g,_=x3(function(){if(o.inner)try{jSe(o.inner.iterator,"normal")}catch(E){return jSe(l,"throw",E)}return bNt(l,"return")});return d=g=_.value,_.error?gp.reject(g):d===void 0?gp.resolve(aV(void 0,!0)):(_=x3(function(){return hNt(d,l)}),g=_.value,_.error?gp.reject(g):e?gp.resolve(g):gp.resolve(g).then(function(E){return zSe(E),aV(void 0,!0)}))}})},ENt=VSe(!0),$Se=VSe(!1);gNt($Se,wNt,"Async Iterator Helper");GSe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?USe:BSe,o.nextHandler=e,o.counter=0,o.done=!1,SNt(this,o)};return r.prototype=t?ENt:$Se,r}});var lV=P((r9r,WSe)=>{"use strict";p();var INt=Qt(),TNt=Rr(),sV=er(),MNt=Cr(),CNt=Ci(),ANt=Qg(),HSe=zo(),PNt=x1(),ONt=ANt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var l=function(g){t.done=!0,o(g)},d=function(g){PNt(r,l,g,l)};e.resolve(sV(INt(t.next,r))).then(function(g){try{if(sV(g).done)t.done=!0,i(HSe(void 0,!0));else{var _=g.value;try{var E=n(_,t.counter++),T=function(A){i(HSe(A,!1))};MNt(E)?e.resolve(E).then(T,d):T(E)}catch(A){d(A)}}}catch(A){l(A)}},l)})});WSe.exports=function(t){return sV(this),TNt(t),new ONt(CNt(this),{mapper:t})}});var uV=P((i9r,ZSe)=>{"use strict";p();var kNt=Qt(),DNt=lV(),NNt=function(e,t){return[t,e]};ZSe.exports=function(){return kNt(DNt,this,NNt)}});var YSe=P(()=>{"use strict";p();var RNt=oe(),LNt=uV();RNt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:LNt})});var JSe=P(()=>{"use strict";p();var qNt=Qt(),zNt=Zn(),jNt=Nr(),FNt=Xi(),BNt=en(),UNt=Or(),KSe=b1(),XSe=UNt("asyncDispose"),QSe=jNt("Promise");BNt(KSe,XSe)||zNt(KSe,XSe,function(){var e=this;return new QSe(function(t,r){var n=FNt(e,"return");n?QSe.resolve(qNt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var tEe=P(()=>{"use strict";p();var VNt=oe(),$Nt=Qt(),cV=er(),GNt=Ci(),HNt=Y0(),WNt=K0(),ZNt=Qg(),eEe=zo(),YNt=ZNt(function(e){var t=this;return new e(function(r,n){var i=function(l){t.done=!0,n(l)},o=function(){try{e.resolve(cV($Nt(t.next,t.iterator))).then(function(l){try{cV(l).done?(t.done=!0,r(eEe(void 0,!0))):t.remaining?(t.remaining--,o()):r(eEe(l.value,!1))}catch(d){i(d)}},i)}catch(l){i(l)}};o()})});VNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function(t){cV(this);var r=WNt(HNt(+t));return new YNt(GNt(this),{remaining:r})}})});var rEe=P(()=>{"use strict";p();var KNt=oe(),XNt=Xg().every;KNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(t){return XNt(this,t)}})});var iEe=P(()=>{"use strict";p();var QNt=oe(),JNt=Qt(),eRt=Rr(),pV=er(),tRt=Cr(),rRt=Ci(),nRt=Qg(),nEe=zo(),iRt=x1(),oRt=nRt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var l=function(_){t.done=!0,o(_)},d=function(_){iRt(r,l,_,l)},g=function(){try{e.resolve(pV(JNt(t.next,r))).then(function(_){try{if(pV(_).done)t.done=!0,i(nEe(void 0,!0));else{var E=_.value;try{var T=n(E,t.counter++),A=function(L){L?i(nEe(E,!1)):g()};tRt(T)?e.resolve(T).then(A,d):A(T)}catch(L){d(L)}}}catch(L){l(L)}},l)}catch(_){l(_)}};g()})});QNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(t){return pV(this),eRt(t),new oRt(rRt(this),{predicate:t})}})});var oEe=P(()=>{"use strict";p();var aRt=oe(),sRt=Xg().find;aRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(t){return sRt(this,t)}})});var fV=P((E9r,lEe)=>{"use strict";p();var lRt=Qt(),uRt=Kr(),aEe=er(),sEe=Ci(),cRt=lp(),pRt=Xi(),fRt=Or(),dRt=J2(),hRt=fRt("asyncIterator");lEe.exports=function(e){var t=aEe(e),r=!0,n=pRt(t,hRt),i;return uRt(n)||(n=cRt(t),r=!1),n!==void 0?i=lRt(n,t):(i=t,r=!0),aEe(i),sEe(r?i:new dRt(sEe(i)))}});var pEe=P(()=>{"use strict";p();var mRt=oe(),uEe=Qt(),gRt=Rr(),rS=er(),vRt=Cr(),yRt=Ci(),_Rt=Qg(),cEe=zo(),bRt=fV(),xRt=x1(),wRt=_Rt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var l=function(E){t.done=!0,o(E)},d=function(E){xRt(r,l,E,l)},g=function(){try{e.resolve(rS(uEe(t.next,r))).then(function(E){try{if(rS(E).done)t.done=!0,i(cEe(void 0,!0));else{var T=E.value;try{var A=n(T,t.counter++),L=function(z){try{t.inner=bRt(z),_()}catch(U){d(U)}};vRt(A)?e.resolve(A).then(L,d):L(A)}catch(z){d(z)}}}catch(z){l(z)}},l)}catch(E){l(E)}},_=function(){var E=t.inner;if(E)try{e.resolve(rS(uEe(E.next,E.iterator))).then(function(T){try{rS(T).done?(t.inner=null,g()):i(cEe(T.value,!1))}catch(A){d(A)}},d)}catch(T){d(T)}else g()};_()})});mRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(t){return rS(this),gRt(t),new wRt(yRt(this),{mapper:t,inner:null})}})});var fEe=P(()=>{"use strict";p();var SRt=oe(),ERt=Xg().forEach;SRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(t){return ERt(this,t)}})});var dV=P((k9r,dEe)=>{"use strict";p();var IRt=Qt(),TRt=Qg();dEe.exports=TRt(function(){return IRt(this.next,this.iterator)},!0)});var hEe=P(()=>{"use strict";p();var MRt=oe(),CRt=pn(),ARt=ga(),PRt=fV(),ORt=b1(),kRt=dV();MRt({target:"AsyncIterator",stat:!0,forced:!0},{from:function(t){var r=PRt(typeof t=="string"?CRt(t):t);return ARt(ORt,r.iterator)?r.iterator:new kRt(r)}})});var mEe=P(()=>{"use strict";p();var DRt=oe(),NRt=uV();DRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:NRt})});var gEe=P(()=>{"use strict";p();var RRt=oe(),LRt=lV();RRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:LRt})});var vEe=P(()=>{"use strict";p();var qRt=oe(),zRt=Qt(),jRt=Rr(),hV=er(),FRt=Cr(),BRt=Nr(),URt=Ci(),VRt=x1(),mV=BRt("Promise"),$Rt=TypeError;qRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(t){hV(this),jRt(t);var r=URt(this),n=r.iterator,i=r.next,o=arguments.length<2,l=o?void 0:arguments[1],d=0;return new mV(function(g,_){var E=function(A){VRt(n,_,A,_)},T=function(){try{mV.resolve(hV(zRt(i,n))).then(function(A){try{if(hV(A).done)o?_(new $Rt("Reduce of empty iterator with no initial value")):g(l);else{var L=A.value;if(o)o=!1,l=L,T();else try{var z=t(l,L,d),U=function(N){l=N,T()};FRt(z)?mV.resolve(z).then(U,E):U(z)}catch(N){E(N)}}d++}catch(N){_(N)}},_)}catch(A){_(A)}};T()})}})});var yEe=P(()=>{"use strict";p();var GRt=oe(),HRt=Xg().some;GRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(t){return HRt(this,t)}})});var xEe=P(()=>{"use strict";p();var WRt=oe(),_Ee=Qt(),bEe=er(),ZRt=Ci(),YRt=Y0(),KRt=K0(),XRt=Qg(),gV=zo(),QRt=XRt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=gV(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(_Ee(n,r,void 0)).then(function(){return i}):i}return e.resolve(_Ee(t.next,r)).then(function(o){return bEe(o).done?(t.done=!0,gV(void 0,!0)):gV(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});WRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function(t){bEe(this);var r=KRt(YRt(+t));return new QRt(ZRt(this),{remaining:r})}})});var wEe=P(()=>{"use strict";p();var JRt=oe(),eLt=Xg().toArray;JRt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function(){return eLt(this,void 0,[])}})});var S3=P((tzr,CEe)=>{"use strict";p();var EEe=Un(),tLt=Ch(),vV=zo(),rLt=$s(),nLt=Cr(),iLt=xi(),IEe=br(),nS="Incorrect Iterator.range arguments",_V="NumericRangeIterator",oLt=EEe.set,TEe=EEe.getterFor(_V),SEe=RangeError,yV=TypeError,MEe=tLt(function(t,r,n,i,o,l){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new yV(nS);if(t===1/0||t===-1/0)throw new SEe(nS);var d=r>t,g=!1,_;if(n===void 0)_=void 0;else if(nLt(n))_=n.step,g=!!n.inclusive;else if(typeof n==i)_=n;else throw new yV(nS);if(rLt(_)&&(_=d?l:-l),typeof _!=i)throw new yV(nS);if(_===1/0||_===-1/0||_===o&&t!==r)throw new SEe(nS);var E=t!==t||r!==r||_!==_||r>t!=_>o;oLt(this,{type:_V,start:t,end:r,step:_,inclusive:g,hitsEnd:E,currentCount:o,zero:o}),IEe||(this.start=t,this.end=r,this.step=_,this.inclusive=g)},_V,function(){var t=TEe(this);if(t.hitsEnd)return vV(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var l=t.inclusive,d;return n>r?d=l?o>n:o>=n:d=l?n>o:n>=o,d?(t.hitsEnd=!0,vV(void 0,!0)):vV(o,!1)}),w3=function(e){iLt(MEe.prototype,e,{get:function(){return TEe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};IEe&&(w3("start"),w3("end"),w3("inclusive"),w3("step"));CEe.exports=MEe});var AEe=P(()=>{"use strict";p();var aLt=oe(),sLt=S3();typeof BigInt=="function"&&aLt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new sLt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var bV=P((azr,DEe)=>{"use strict";p();u5();l3();var kEe=Nr(),lLt=Qi(),PEe=Cr(),uLt=Object,cLt=TypeError,pLt=kEe("Map"),fLt=kEe("WeakMap"),E3=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=lLt(null)};E3.prototype.get=function(e,t){return this[e]||(this[e]=t())};E3.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new fLt):this.primitives||(this.primitives=new pLt),i=n.get(t);return i||n.set(t,i=new E3),i};var OEe=new E3;DEe.exports=function(){var e=OEe,t=arguments.length,r,n;for(r=0;r<t;r++)PEe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===uLt&&e===OEe)throw new cLt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)PEe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var REe=P(()=>{"use strict";p();var dLt=oe(),hLt=va(),mLt=bV(),gLt=Nr(),NEe=Qi(),vLt=Object,yLt=function(){var e=gLt("Object","freeze");return e?e(NEe(null)):NEe(null)};dLt({global:!0,forced:!0},{compositeKey:function(){return hLt(mLt,vLt,arguments).get("object",yLt)}})});var qEe=P(()=>{"use strict";p();var _Lt=oe(),bLt=bV(),LEe=Nr(),xLt=va();_Lt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?LEe("Symbol").for(arguments[0]):xLt(bLt,null,arguments).get("symbol",LEe("Symbol"))}})});var zEe=P(()=>{"use strict";p();vz()});var jEe=P(()=>{"use strict";p();var wLt=oe(),SLt=xt(),ELt=SLt(DataView.prototype.getUint8);wLt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return ELt(this,t)}})});var FEe=P(()=>{"use strict";p();xz()});var BEe=P(()=>{"use strict";p();var ILt=oe(),TLt=xt(),MLt=yz(),CLt=U0(),ALt=cU(),PLt=TLt(DataView.prototype.setUint8);ILt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){MLt(this);var n=CLt(t);return PLt(this,n,ALt(r))}})});var HEe=P(()=>{"use strict";p();var OLt=oe(),T3=br(),kLt=Nr(),UEe=Rr(),DLt=Ya(),VEe=Zn(),NLt=cu(),RLt=xi(),$Ee=Or(),GEe=Un(),xV=tV(),LLt=kLt("SuppressedError"),qLt=ReferenceError,zLt=$Ee("dispose"),jLt=$Ee("toStringTag"),C3="DisposableStack",FLt=GEe.set,M3=GEe.getterFor(C3),wV="sync-dispose",iS="disposed",BLt="pending",I3=function(e){var t=M3(e);if(t.state===iS)throw new qLt(C3+" already disposed");return t},SV=function(){FLt(DLt(this,S1),{type:C3,state:BLt,stack:[]}),T3||(this.disposed=!1)},S1=SV.prototype;NLt(S1,{dispose:function(){var t=M3(this);if(t.state!==iS){t.state=iS,T3||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var l=r[--n];r[n]=null;try{l()}catch(d){i?o=new LLt(d,o):(i=!0,o=d)}}if(t.stack=null,i)throw o}},use:function(t){return xV(I3(this),t,wV),t},adopt:function(t,r){var n=I3(this);return UEe(r),xV(n,void 0,wV,function(){r(t)}),t},defer:function(t){var r=I3(this);UEe(t),xV(r,void 0,wV,t)},move:function(){var t=I3(this),r=new SV;return M3(r).stack=t.stack,t.stack=[],t.state=iS,T3||(this.disposed=!0),r}});T3&&RLt(S1,"disposed",{configurable:!0,get:function(){return M3(this).state===iS}});VEe(S1,zLt,S1.dispose,{name:"dispose"});VEe(S1,jLt,C3,{nonWritable:!0});OLt({global:!0,constructor:!0},{DisposableStack:SV})});var KEe=P(()=>{"use strict";p();var ULt=oe(),ZEe=Nr(),VLt=Cr(),$Lt=_s(),GLt=Ot(),YEe="Error",IV="DOMException",HLt=Object.setPrototypeOf||{}.__proto__,WEe=ZEe(IV),EV=Error,A3=EV.isError,WLt=!A3||!HLt||GLt(function(){return WEe&&!A3(new WEe(IV))||!A3(new EV(YEe,{cause:function(){}}))||A3(ZEe("Object","create")(EV.prototype))});ULt({target:"Error",stat:!0,sham:!0,forced:WLt},{isError:function(t){if(!VLt(t))return!1;var r=$Lt(t);return r===YEe||r===IV}})});var TV=P((kzr,XEe)=>{"use strict";p();var ZLt=xt(),YLt=Rr();XEe.exports=function(){return ZLt(YLt(this))}});var QEe=P(()=>{"use strict";p();var KLt=oe(),XLt=TV();KLt({target:"Function",proto:!0,forced:!0},{demethodize:XLt})});var eIe=P(()=>{"use strict";p();var QLt=oe(),JLt=xt(),e6t=Kr(),t6t=Fw(),r6t=en(),n6t=br(),i6t=Object.getOwnPropertyDescriptor,JEe=/^\s*class\b/,o6t=JLt(JEe.exec),a6t=function(e){try{if(!n6t||!o6t(JEe,t6t(e)))return!1}catch(r){}var t=i6t(e,"prototype");return!!t&&r6t(t,"writable")&&!t.writable};QLt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return e6t(t)&&!a6t(t)}})});var tIe=P(()=>{"use strict";p();var s6t=oe(),l6t=tc();s6t({target:"Function",stat:!0,forced:!0},{isConstructor:l6t})});var iIe=P(()=>{"use strict";p();var u6t=Or(),c6t=ci().f,rIe=u6t("metadata"),nIe=Function.prototype;nIe[rIe]===void 0&&c6t(nIe,rIe,{value:null})});var oIe=P(()=>{"use strict";p();var p6t=oe(),f6t=TV();p6t({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:f6t})});var aIe=P(()=>{"use strict";p();Wz()});var sIe=P(()=>{"use strict";p();Qz()});var MV=P((tjr,lIe)=>{"use strict";p();i5();var d6t=Qt(),h6t=Mh().IteratorPrototype.map,m6t=function(e,t){return[t,e]};lIe.exports=function(){return d6t(h6t,this,m6t)}});var uIe=P(()=>{"use strict";p();var g6t=oe(),v6t=MV();g6t({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:v6t})});var fIe=P(()=>{"use strict";p();var y6t=oe(),cIe=Qt(),_6t=Rr(),pIe=er(),b6t=lp(),x6t=Lh(),w6t=zo(),S6t=Array,E6t=x6t(function(){for(;;){var e=this.iterator;if(!e){var t=this.nextIterableIndex++,r=this.iterables;if(t>=r.length)return this.done=!0,w6t(void 0,!0);var n=r[t];this.iterables[t]=null,e=this.iterator=cIe(n.method,n.iterable),this.next=e.next}var i=pIe(cIe(this.next,e));if(i.done){this.iterator=null,this.next=null;continue}return i}},!1,!0);y6t({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var t=arguments.length,r=S6t(t),n=0;n<t;n++){var i=pIe(arguments[n]);r[n]={iterable:i,method:_6t(b6t(i))}}return new E6t({iterables:r,nextIterableIndex:0,iterator:null,next:null})}})});var mIe=P(()=>{"use strict";p();var I6t=Qt(),T6t=Zn(),M6t=Xi(),C6t=en(),A6t=Or(),dIe=Mh().IteratorPrototype,hIe=A6t("dispose");C6t(dIe,hIe)||T6t(dIe,hIe,function(){var e=M6t(this,"return");e&&I6t(e,this)})});var gIe=P(()=>{"use strict";p();nj()});var vIe=P(()=>{"use strict";p();oj()});var yIe=P(()=>{"use strict";p();sj()});var _Ie=P(()=>{"use strict";p();uj()});var bIe=P(()=>{"use strict";p();mj()});var xIe=P(()=>{"use strict";p();vj()});var wIe=P(()=>{"use strict";p();yj()});var SIe=P(()=>{"use strict";p();var P6t=oe(),O6t=MV();P6t({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:O6t})});var EIe=P(()=>{"use strict";p();i5()});var TIe=P(()=>{"use strict";p();var k6t=oe(),IIe=S3(),D6t=TypeError;k6t({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new IIe(t,r,n,"number",0,1);if(typeof t=="bigint")return new IIe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new D6t("Incorrect Iterator.range arguments")}})});var MIe=P(()=>{"use strict";p();xj()});var CIe=P(()=>{"use strict";p();Sj()});var AIe=P(()=>{"use strict";p();Ij()});var PIe=P(()=>{"use strict";p();Tj()});var kIe=P(()=>{"use strict";p();var N6t=oe(),R6t=er(),L6t=J2(),q6t=dV(),OIe=Ci();N6t({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new q6t(OIe(new L6t(OIe(R6t(this)))))}})});var CV=P((nFr,DIe)=>{"use strict";p();var z6t=Ot();DIe.exports=!z6t(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var AV=P((oFr,NIe)=>{"use strict";p();var j6t=Cr(),F6t=Un().get;NIe.exports=function(t){if(!j6t(t))return!1;var r=F6t(t);return!!r&&r.type==="RawJSON"}});var RIe=P(()=>{"use strict";p();var B6t=oe(),U6t=CV(),V6t=AV();B6t({target:"JSON",stat:!0,forced:!U6t},{isRawJSON:V6t})});var OV=P((cFr,jIe)=>{"use strict";p();var PV=xt(),$6t=en(),P3=SyntaxError,G6t=parseInt,H6t=String.fromCharCode,W6t=PV("".charAt),LIe=PV("".slice),qIe=PV(/./.exec),zIe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},Z6t=/^[\da-f]{4}$/i,Y6t=/^[\u0000-\u001F]$/;jIe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=W6t(e,t);if(i==="\\"){var o=LIe(e,t,t+2);if($6t(zIe,o))n+=zIe[o],t+=2;else if(o==="\\u"){t+=2;var l=LIe(e,t,t+4);if(!qIe(Z6t,l))throw new P3("Bad Unicode escape at: "+t);n+=H6t(G6t(l,16)),t+=4}else throw new P3("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(qIe(Y6t,i))throw new P3("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new P3("Unterminated string at: "+t);return{value:n,end:t}}});var WIe=P(()=>{"use strict";p();var K6t=oe(),X6t=br(),jV=Xt(),Q6t=Nr(),O3=xt(),J6t=Qt(),GIe=Kr(),eqt=Cr(),tqt=ec(),rqt=en(),nqt=Br(),FIe=_n(),LV=lu(),HIe=Ot(),iqt=OV(),oqt=vh(),BIe=jV.JSON,aqt=jV.Number,E1=jV.SyntaxError,FV=BIe&&BIe.parse,sqt=Q6t("Object","keys"),lqt=Object.getOwnPropertyDescriptor,_a=O3("".charAt),kV=O3("".slice),DV=O3(/./.exec),UIe=O3([].push),NV=/^\d$/,uqt=/^[1-9]$/,cqt=/^[\d-]$/,oS=/^[\t\n\r ]$/,RV=0,VIe=1,pqt=function(e,t){e=nqt(e);var r=new zV(e,0,""),n=r.parse(),i=n.value,o=r.skip(oS,n.end);if(o<e.length)throw new E1("Unexpected extra character: \""+_a(e,o)+"\" after the parsed data at: "+o);return GIe(t)?qV({"":i},"",t,n):i},qV=function(e,t,r,n){var i=e[t],o=n&&i===n.value,l=o&&typeof n.source=="string"?{source:n.source}:{},d,g,_,E,T;if(eqt(i)){var A=tqt(i),L=o?n.nodes:A?[]:{};if(A)for(d=L.length,_=FIe(i),E=0;E<_;E++)$Ie(i,E,qV(i,""+E,r,E<d?L[E]:void 0));else for(g=sqt(i),_=FIe(g),E=0;E<_;E++)T=g[E],$Ie(i,T,qV(i,T,r,rqt(L,T)?L[T]:void 0))}return J6t(r,e,t,i,l)},$Ie=function(e,t,r){if(X6t){var n=lqt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:LV(e,t,r)},fqt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},zV=function(e,t){this.source=e,this.index=t};zV.prototype={fork:function(e){return new zV(this.source,e)},parse:function(){var e=this.source,t=this.skip(oS,this.index),r=this.fork(t),n=_a(e,t);if(DV(cqt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new E1("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new fqt(t,n,e?null:kV(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),_a(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),l=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(oS,t),o=this.fork(t).parse(),LV(i,l,o),LV(n,l,o.value),t=this.until([",","}"],o.end);var d=_a(e,t);if(d===",")r=!0,t++;else if(d==="}"){t++;break}}return this.node(VIe,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(oS,t),_a(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(UIe(i,o),UIe(n,o.value),t=this.until([",","]"],o.end),_a(e,t)===",")r=!0,t++;else if(_a(e,t)==="]"){t++;break}}return this.node(VIe,n,this.index,t,i)},string:function(){var e=this.index,t=iqt(this.source,this.index+1);return this.node(RV,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(_a(e,r)==="-"&&r++,_a(e,r)==="0")r++;else if(DV(uqt,_a(e,r)))r=this.skip(NV,r+1);else throw new E1("Failed to parse number at: "+r);if(_a(e,r)==="."&&(r=this.skip(NV,r+1)),_a(e,r)==="e"||_a(e,r)==="E"){r++,(_a(e,r)==="+"||_a(e,r)==="-")&&r++;var n=r;if(r=this.skip(NV,r),n===r)throw new E1("Failed to parse number's exponent value at: "+r)}return this.node(RV,aqt(kV(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(kV(this.source,r,n)!==t)throw new E1("Failed to parse value at: "+r);return this.node(RV,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&DV(e,_a(r,t));t++);return t},until:function(e,t){t=this.skip(oS,t);for(var r=_a(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new E1("Unexpected character: \""+r+"\" at: "+t)}};var dqt=HIe(function(){var e="9007199254740993",t;return FV(e,function(r,n,i){t=i.source}),t!==e}),hqt=oqt&&!HIe(function(){return 1/FV("-0 \t")!==-1/0});K6t({target:"JSON",stat:!0,forced:dqt},{parse:function(t,r){return hqt&&!GIe(r)?FV(t):pqt(t,r)}})});var tTe=P(()=>{"use strict";p();var JIe=oe(),mqt=Ff(),eTe=CV(),k3=Nr(),gqt=Qt(),$V=xt(),vqt=Kr(),yqt=AV(),_qt=Br(),bqt=lu(),xqt=OV(),wqt=e9(),Sqt=_h(),Eqt=Un().set,Iqt=String,ZIe=SyntaxError,Tqt=k3("JSON","parse"),YIe=k3("JSON","stringify"),Mqt=k3("Object","create"),Cqt=k3("Object","freeze"),UV=$V("".charAt),BV=$V("".slice),Aqt=$V([].push),VV=Sqt(),KIe=VV.length,XIe="Unacceptable as raw JSON",QIe=function(e){return e===" "||e==="\t"||e===`
`||e==="\r"};JIe({target:"JSON",stat:!0,forced:!eTe},{rawJSON:function(t){var r=_qt(t);if(r===""||QIe(UV(r,0))||QIe(UV(r,r.length-1)))throw new ZIe(XIe);var n=Tqt(r);if(typeof n=="object"&&n!==null)throw new ZIe(XIe);var i=Mqt(null);return Eqt(i,{type:"RawJSON"}),bqt(i,"rawJSON",r),mqt?Cqt(i):i}});YIe&&JIe({target:"JSON",stat:!0,arity:3,forced:!eTe},{stringify:function(t,r,n){var i=wqt(r),o=[],l=YIe(t,function(L,z){var U=vqt(i)?gqt(i,this,Iqt(L),z):z;return yqt(U)?VV+(Aqt(o,U.rawJSON)-1):U},n);if(typeof l!="string")return l;for(var d="",g=l.length,_=0;_<g;_++){var E=UV(l,_);if(E==="\""){var T=xqt(l,++_).end-1,A=BV(l,_,T);d+=BV(A,0,KIe)===VV?o[BV(A,KIe)]:"\""+A+"\"",_=T}else d+=E}return d}})});var ba=P((yFr,rTe)=>{"use strict";p();var Pqt=jo().has;rTe.exports=function(e){return Pqt(e),e}});var nTe=P(()=>{"use strict";p();var Oqt=oe(),kqt=ba(),Dqt=jo().remove;Oqt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=kqt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=Dqt(t,arguments[i]),r=r&&n;return!!r}})});var oTe=P(()=>{"use strict";p();var Nqt=oe(),Rqt=ba(),GV=jo(),Lqt=GV.get,qqt=GV.has,iTe=GV.set;Nqt({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=Rqt(this),i,o;return qqt(n,t)?(i=Lqt(n,t),"update"in r&&(i=r.update(i,t,n),iTe(n,t,i)),i):(o=r.insert(t,n),iTe(n,t,o),o)}})});var aTe=P(()=>{"use strict";p();var zqt=oe(),jqt=ti(),Fqt=ba(),Bqt=pu();zqt({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=Fqt(this),n=jqt(t,arguments.length>1?arguments[1]:void 0);return Bqt(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var lTe=P(()=>{"use strict";p();var Uqt=oe(),Vqt=ti(),$qt=ba(),sTe=jo(),Gqt=pu(),Hqt=sTe.Map,Wqt=sTe.set;Uqt({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=$qt(this),n=Vqt(t,arguments.length>1?arguments[1]:void 0),i=new Hqt;return Gqt(r,function(o,l){n(o,l,r)&&Wqt(i,l,o)}),i}})});var uTe=P(()=>{"use strict";p();var Zqt=oe(),Yqt=ti(),Kqt=ba(),Xqt=pu();Zqt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=Kqt(this),n=Yqt(t,arguments.length>1?arguments[1]:void 0),i=Xqt(r,function(o,l){if(n(o,l,r))return{value:o}},!0);return i&&i.value}})});var cTe=P(()=>{"use strict";p();var Qqt=oe(),Jqt=ti(),e8t=ba(),t8t=pu();Qqt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=e8t(this),n=Jqt(t,arguments.length>1?arguments[1]:void 0),i=t8t(r,function(o,l){if(n(o,l,r))return{key:l}},!0);return i&&i.key}})});var aS=P((zFr,pTe)=>{"use strict";p();var r8t=ti(),n8t=er(),i8t=pn(),o8t=zi();pTe.exports=function(e,t,r){return function(i){var o=i8t(i),l=arguments.length,d=l>1?arguments[1]:void 0,g=d!==void 0,_=g?r8t(d,l>2?arguments[2]:void 0):void 0,E=new e,T=0;return o8t(o,function(A){var L=g?_(A,T++):A;r?t(E,n8t(L)[0],L[1]):t(E,L)}),E}}});var dTe=P(()=>{"use strict";p();var a8t=oe(),fTe=jo(),s8t=aS();a8t({target:"Map",stat:!0,forced:!0},{from:s8t(fTe.Map,fTe.set,!0)})});var hTe=P(()=>{"use strict";p();var l8t=oe(),u8t=ba(),HV=jo(),c8t=HV.get,p8t=HV.has,f8t=HV.set;l8t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return p8t(u8t(this),t)?c8t(this,t):(f8t(this,t,r),r)}})});var mTe=P(()=>{"use strict";p();var d8t=oe(),h8t=Rr(),m8t=ba(),WV=jo(),g8t=WV.get,v8t=WV.has,y8t=WV.set;d8t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(m8t(this),h8t(r),v8t(this,t))return g8t(this,t);t===0&&1/t===-1/0&&(t=0);var n=r(t);return y8t(this,t,n),n}})});var gTe=P(()=>{"use strict";p();Nj()});var yTe=P((QFr,vTe)=>{"use strict";p();vTe.exports=function(e,t){return e===t||e!==e&&t!==t}});var _Te=P(()=>{"use strict";p();var _8t=oe(),b8t=yTe(),x8t=ba(),w8t=pu();_8t({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return w8t(x8t(this),function(r){if(b8t(r,t))return!0},!0)===!0}})});var xTe=P(()=>{"use strict";p();var S8t=oe(),E8t=Qt(),I8t=zi(),T8t=Kr(),bTe=Rr(),M8t=jo().Map;S8t({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=T8t(this)?this:M8t,i=new n;bTe(r);var o=bTe(i.set);return I8t(t,function(l){E8t(o,i,r(l),l)}),i}})});var wTe=P(()=>{"use strict";p();var C8t=oe(),A8t=ba(),P8t=pu();C8t({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=P8t(A8t(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var ETe=P(()=>{"use strict";p();var O8t=oe(),k8t=ti(),D8t=ba(),STe=jo(),N8t=pu(),R8t=STe.Map,L8t=STe.set;O8t({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=D8t(this),n=k8t(t,arguments.length>1?arguments[1]:void 0),i=new R8t;return N8t(r,function(o,l){L8t(i,n(o,l,r),o)}),i}})});var TTe=P(()=>{"use strict";p();var q8t=oe(),z8t=ti(),j8t=ba(),ITe=jo(),F8t=pu(),B8t=ITe.Map,U8t=ITe.set;q8t({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=j8t(this),n=z8t(t,arguments.length>1?arguments[1]:void 0),i=new B8t;return F8t(r,function(o,l){U8t(i,l,n(o,l,r))}),i}})});var MTe=P(()=>{"use strict";p();var V8t=oe(),$8t=ba(),G8t=zi(),H8t=jo().set;V8t({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=$8t(this),n=arguments.length,i=0;i<n;)G8t(arguments[i++],function(o,l){H8t(r,o,l)},{AS_ENTRIES:!0});return r}})});var sS=P((yBr,CTe)=>{"use strict";p();var W8t=er();CTe.exports=function(e,t,r){return function(){for(var i=new e,o=arguments.length,l=0;l<o;l++){var d=arguments[l];r?t(i,W8t(d)[0],d[1]):t(i,d)}return i}}});var PTe=P(()=>{"use strict";p();var Z8t=oe(),ATe=jo(),Y8t=sS();Z8t({target:"Map",stat:!0,forced:!0},{of:Y8t(ATe.Map,ATe.set,!0)})});var OTe=P(()=>{"use strict";p();var K8t=oe(),X8t=Rr(),Q8t=ba(),J8t=pu(),e7t=TypeError;K8t({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=Q8t(this),n=arguments.length<2,i=n?void 0:arguments[1];if(X8t(t),J8t(r,function(o,l){n?(n=!1,i=o):i=t(i,o,l,r)}),n)throw new e7t("Reduce of empty map with no initial value");return i}})});var kTe=P(()=>{"use strict";p();var t7t=oe(),r7t=ti(),n7t=ba(),i7t=pu();t7t({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=n7t(this),n=r7t(t,arguments.length>1?arguments[1]:void 0);return i7t(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var NTe=P(()=>{"use strict";p();var o7t=oe(),DTe=Rr(),a7t=ba(),ZV=jo(),s7t=TypeError,l7t=ZV.get,u7t=ZV.has,c7t=ZV.set;o7t({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=a7t(this),i=arguments.length;DTe(r);var o=u7t(n,t);if(!o&&i<3)throw new s7t("Updating absent value");var l=o?l7t(n,t):DTe(i>2?arguments[2]:void 0)(t,n);return c7t(n,t,r(l,t,n)),n}})});var R3=P((kBr,RTe)=>{"use strict";p();var D3=Qt(),YV=Rr(),N3=Kr(),p7t=er(),f7t=TypeError;RTe.exports=function(t,r){var n=p7t(this),i=YV(n.get),o=YV(n.has),l=YV(n.set),d=arguments.length>2?arguments[2]:void 0,g;if(!N3(r)&&!N3(d))throw new f7t("At least one callback required");return D3(o,n,t)?(g=D3(i,n,t),N3(r)&&(g=r(g),D3(l,n,t,g))):N3(d)&&(g=d(),D3(l,n,t,g)),g}});var LTe=P(()=>{"use strict";p();var d7t=oe(),h7t=R3();d7t({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:h7t})});var qTe=P(()=>{"use strict";p();var m7t=oe(),g7t=R3();m7t({target:"Map",proto:!0,real:!0,forced:!0},{upsert:g7t})});var jTe=P((FBr,zTe)=>{"use strict";p();var v7t=TypeError;zTe.exports=function(e){if(typeof e=="number")return e;throw new v7t("Argument is not a number")}});var UTe=P(()=>{"use strict";p();var y7t=oe(),KV=jTe(),FTe=Y0(),BTe=v5(),_7t=RangeError,b7t=Math.min,x7t=Math.max;y7t({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){if(KV(t),FTe(KV(r)),FTe(KV(n)),BTe(r,0)&&BTe(n,-0)||r>n)throw new _7t("`min` should be smaller than `max`");return b7t(n,x7t(r,t))}})});var VTe=P(()=>{"use strict";p();var w7t=oe();w7t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var $Te=P(()=>{"use strict";p();var S7t=oe(),E7t=180/Math.PI;S7t({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*E7t}})});var XV=P((XBr,GTe)=>{"use strict";p();GTe.exports=function(t,r,n,i,o){var l=+t,d=+r,g=+n,_=+i,E=+o;return l!==l||d!==d||g!==g||_!==_||E!==E?NaN:l===1/0||l===-1/0?l:(l-d)*(E-_)/(g-d)+_}});var HTe=P(()=>{"use strict";p();var I7t=oe(),T7t=XV(),M7t=VA();I7t({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return M7t(T7t(t,r,n,i,o))}})});var WTe=P(()=>{"use strict";p();zj()});var ZTe=P(()=>{"use strict";p();var C7t=oe();C7t({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,l=r>>>0,d=n>>>0;return l+(i>>>0)+((o&d|(o|d)&~(o+d>>>0))>>>31)|0}})});var YTe=P(()=>{"use strict";p();var A7t=oe();A7t({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,l=i&n,d=o&n,g=i>>16,_=o>>16,E=(g*d>>>0)+(l*d>>>16);return g*_+(E>>16)+((l*_>>>0)+(E&n)>>16)}})});var KTe=P(()=>{"use strict";p();var P7t=oe();P7t({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,l=r>>>0,d=n>>>0;return l-(i>>>0)-((~o&d|~(o^d)&o-d>>>0)>>>31)|0}})});var XTe=P(()=>{"use strict";p();var O7t=oe();O7t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var QTe=P(()=>{"use strict";p();var k7t=oe(),D7t=Math.PI/180;k7t({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*D7t}})});var JTe=P(()=>{"use strict";p();var N7t=oe(),R7t=XV();N7t({target:"Math",stat:!0,forced:!0},{scale:R7t})});var nMe=P(()=>{"use strict";p();var L7t=oe(),q7t=er(),z7t=Hj(),j7t=Ch(),F7t=zo(),eMe=Un(),tMe="Seeded Random",rMe=tMe+" Generator",B7t="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",U7t=eMe.set,V7t=eMe.getterFor(rMe),$7t=TypeError,G7t=j7t(function(t){U7t(this,{type:rMe,seed:t%2147483647})},tMe,function(){var t=V7t(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return F7t((r&1073741823)/1073741823,!1)});L7t({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=q7t(t).seed;if(!z7t(r))throw new $7t(B7t);return new G7t(r)}})});var iMe=P(()=>{"use strict";p();var H7t=oe();H7t({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var uMe=P(()=>{"use strict";p();var W7t=oe(),Z7t=xt(),Y7t=zi(),K7t=RangeError,X7t=TypeError,fu=1/0,Q7t=NaN,Jg=Math.abs,t$=Math.pow,oMe=Z7t([].push),lS=t$(2,1023),J7t=t$(2,53)-1,aMe=Number.MAX_VALUE,sMe=t$(2,971),uS={},QV={},JV={},e$={},lMe={},L3=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};W7t({target:"Math",stat:!0},{sumPrecise:function(t){var r=[],n=0,i=e$;switch(Y7t(t,function(H){if(++n>=J7t)throw new K7t("Maximum allowed index exceeded");if(typeof H!="number")throw new X7t("Value is not a number");i!==uS&&(H!==H?i=uS:H===fu?i=i===QV?uS:JV:H===-fu?i=i===JV?uS:QV:(H!==0||1/H===fu)&&(i===e$||i===lMe)&&(i=lMe,oMe(r,H)))}),i){case uS:return Q7t;case QV:return-fu;case JV:return fu;case e$:return-0}for(var o=[],l=0,d,g,_,E,T,A,L=0;L<r.length;L++){d=r[L];for(var z=0,U=0;U<o.length;U++){if(g=o[U],Jg(d)<Jg(g)&&(A=d,d=g,g=A),_=L3(d,g),E=_.hi,T=_.lo,Jg(E)===fu){var N=E===fu?1:-1;l+=N,d=d-N*lS-N*lS,Jg(d)<Jg(g)&&(A=d,d=g,g=A),_=L3(d,g),E=_.hi,T=_.lo}T!==0&&(o[z++]=T),d=E}o.length=z,d!==0&&oMe(o,d)}var R=o.length-1;if(E=0,T=0,l!==0){var j=R>=0?o[R]:0;if(R--,Jg(l)>1||l>0&&j>0||l<0&&j<0)return l>0?fu:-fu;if(_=L3(l*lS,j/2),E=_.hi,T=_.lo,T*=2,Jg(2*E)===fu)return E>0?E===lS&&T===-(sMe/2)&&R>=0&&o[R]<0?aMe:fu:E===-lS&&T===sMe/2&&R>=0&&o[R]>0?-aMe:-fu;T!==0&&(o[++R]=T,T=0),E*=2}for(;R>=0&&(_=L3(E,o[R--]),E=_.hi,T=_.lo,T===0););return R>=0&&(T<0&&o[R]<0||T>0&&o[R]>0)&&(g=T*2,d=E+g,g===d-E&&(E=d)),E}})});var cMe=P(()=>{"use strict";p();var e9t=oe();e9t({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,l=i&n,d=o&n,g=i>>>16,_=o>>>16,E=(g*d>>>0)+(l*d>>>16);return g*_+(E>>>16)+((l*_>>>0)+(E&n)>>>16)}})});var dMe=P(()=>{"use strict";p();var t9t=oe(),pS=xt(),r9t=bi(),cS="Invalid number representation",n9t="Invalid radix",i9t=RangeError,q3=SyntaxError,o9t=TypeError,pMe=parseInt,a9t=Math.pow,fMe=/^[\d.a-z]+$/,s9t=pS("".charAt),l9t=pS(fMe.exec),u9t=pS(1 .toString),c9t=pS("".slice),p9t=pS("".split);t9t({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1;if(typeof t!="string")throw new o9t(cS);if(!t.length)throw new q3(cS);if(s9t(t,0)==="-"&&(n=-1,t=c9t(t,1),!t.length))throw new q3(cS);var i=r===void 0?10:r9t(r);if(i<2||i>36)throw new i9t(n9t);if(!l9t(fMe,t))throw new q3(cS);var o=p9t(t,"."),l=pMe(o[0],i);if(o.length>1&&(l+=pMe(o[1],i)/a9t(i,o[1].length)),i===10&&u9t(l,i)!==t)throw new q3(cS);return n*l}})});var hMe=P(()=>{"use strict";p();var f9t=oe(),d9t=S3();f9t({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new d9t(t,r,n,"number",0,1)}})});var mMe=P(()=>{"use strict";p();oF()});var j3=P(($Ur,yMe)=>{"use strict";p();var gMe=Un(),h9t=Ch(),z3=zo(),m9t=en(),g9t=kg(),v9t=pn(),vMe="Object Iterator",y9t=gMe.set,_9t=gMe.getterFor(vMe);yMe.exports=h9t(function(t,r){var n=v9t(t);y9t(this,{type:vMe,mode:r,object:n,keys:g9t(n),index:0})},"Object",function(){for(var t=_9t(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,z3(void 0,!0);var n=r[t.index++],i=t.object;if(m9t(i,n)){switch(t.mode){case"keys":return z3(n,!1);case"values":return z3(i[n],!1)}return z3([n,i[n]],!1)}}})});var _Me=P(()=>{"use strict";p();var b9t=oe(),x9t=j3();b9t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new x9t(t,"entries")}})});var bMe=P(()=>{"use strict";p();var w9t=oe(),S9t=j3();w9t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new S9t(t,"keys")}})});var xMe=P(()=>{"use strict";p();var E9t=oe(),I9t=j3();E9t({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new I9t(t,"values")}})});var wMe=P(()=>{"use strict";p();iF()});var kMe=P(()=>{"use strict";p();var T9t=oe(),F3=Qt(),fS=br(),M9t=Ph(),SMe=Rr(),C9t=er(),A9t=Ya(),EMe=Kr(),P9t=$s(),O9t=Cr(),B3=Xi(),k9t=Zn(),r$=cu(),IMe=xi(),I1=MF(),D9t=Or(),TMe=Un(),N9t=D9t("observable"),n$="Observable",MMe="Subscription",CMe="SubscriptionObserver",i$=TMe.getterFor,o$=TMe.set,R9t=i$(n$),AMe=i$(MMe),U3=i$(CMe),PMe=function(e){this.observer=C9t(e),this.cleanup=null,this.subscriptionObserver=null};PMe.prototype={type:MMe,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(t){I1(t)}}},close:function(){if(!fS){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var a$=function(e,t){var r=o$(this,new PMe(e)),n;fS||(this.closed=!1);try{(n=B3(e,"start"))&&F3(n,e,this)}catch(d){I1(d)}if(!r.isClosed()){var i=r.subscriptionObserver=new s$(r);try{var o=t(i),l=o;P9t(o)||(r.cleanup=EMe(o.unsubscribe)?function(){l.unsubscribe()}:SMe(o))}catch(d){i.error(d);return}r.isClosed()&&r.clean()}};a$.prototype=r$({},{unsubscribe:function(){var t=AMe(this);t.isClosed()||(t.close(),t.clean())}});fS&&IMe(a$.prototype,"closed",{configurable:!0,get:function(){return AMe(this).isClosed()}});var s$=function(e){o$(this,{type:CMe,subscriptionState:e}),fS||(this.closed=!1)};s$.prototype=r$({},{next:function(t){var r=U3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=B3(n,"next");i&&F3(i,n,t)}catch(o){I1(o)}}},error:function(t){var r=U3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=B3(n,"error");i?F3(i,n,t):I1(t)}catch(o){I1(o)}r.clean()}},complete:function(){var t=U3(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=B3(r,"complete");n&&F3(n,r)}catch(i){I1(i)}t.clean()}}});fS&&IMe(s$.prototype,"closed",{configurable:!0,get:function(){return U3(this).subscriptionState.isClosed()}});var OMe=function(t){A9t(this,l$),o$(this,{type:n$,subscriber:SMe(t)})},l$=OMe.prototype;r$(l$,{subscribe:function(t){var r=arguments.length;return new a$(EMe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:O9t(t)?t:{},R9t(this).subscriber)}});k9t(l$,N9t,function(){return this});T9t({global:!0,constructor:!0,forced:!0},{Observable:OMe});M9t(n$)});var NMe=P(()=>{"use strict";p();var L9t=oe(),q9t=Nr(),z9t=Qt(),DMe=er(),j9t=tc(),F9t=Ih(),B9t=Xi(),U9t=zi(),V9t=Or(),$9t=V9t("observable");L9t({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=j9t(this)?this:q9t("Observable"),n=B9t(DMe(t),$9t);if(n){var i=DMe(z9t(n,t));return i.constructor===r?i:new r(function(l){return i.subscribe(l)})}var o=F9t(t);return new r(function(l){U9t(o,function(d,g){if(l.next(d),l.closed)return g()},{IS_ITERATOR:!0,INTERRUPTED:!0}),l.complete()})}})});var LMe=P(()=>{"use strict";p();var G9t=oe(),RMe=Nr(),H9t=tc(),W9t=RMe("Array");G9t({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=H9t(this)?this:RMe("Observable"),r=arguments.length,n=W9t(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var l=0;l<r;l++)if(o.next(n[l]),o.closed)return;o.complete()})}})});var qMe=P(()=>{"use strict";p();kMe();NMe();LMe()});var zMe=P(()=>{"use strict";p();BF()});var jMe=P(()=>{"use strict";p();UF()});var FMe=P(()=>{"use strict";p();HF()});var BMe=P(()=>{"use strict";p();WF()});var vp=P((CVr,GMe)=>{"use strict";p();u5();l3();var $Me=Nr(),Z9t=xt(),Y9t=Of(),UMe=$Me("Map"),K9t=$Me("WeakMap"),X9t=Z9t([].push),VMe=Y9t("metadata"),u$=VMe.store||(VMe.store=new K9t),dS=function(e,t,r){var n=u$.get(e);if(!n){if(!r)return;u$.set(e,n=new UMe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new UMe)}return i},Q9t=function(e,t,r){var n=dS(t,r,!1);return n===void 0?!1:n.has(e)},J9t=function(e,t,r){var n=dS(t,r,!1);return n===void 0?void 0:n.get(e)},ezt=function(e,t,r,n){dS(r,n,!0).set(e,t)},tzt=function(e,t){var r=dS(e,t,!1),n=[];return r&&r.forEach(function(i,o){X9t(n,o)}),n},rzt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};GMe.exports={store:u$,getMap:dS,has:Q9t,get:J9t,set:ezt,keys:tzt,toKey:rzt}});var WMe=P(()=>{"use strict";p();var nzt=oe(),HMe=vp(),izt=er(),ozt=HMe.toKey,azt=HMe.set;nzt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:ozt(arguments[3]);azt(t,r,izt(n),i)}})});var YMe=P(()=>{"use strict";p();var szt=oe(),c$=vp(),lzt=er(),uzt=c$.toKey,czt=c$.getMap,ZMe=c$.store;szt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:uzt(arguments[2]),i=czt(lzt(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=ZMe.get(r);return o.delete(n),!!o.size||ZMe.delete(r)}})});var XMe=P(()=>{"use strict";p();var pzt=oe(),p$=vp(),fzt=er(),dzt=Io(),hzt=p$.has,mzt=p$.get,gzt=p$.toKey,KMe=function(e,t,r){var n=hzt(e,t,r);if(n)return mzt(e,t,r);var i=dzt(t);return i!==null?KMe(e,i,r):void 0};pzt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:gzt(arguments[2]);return KMe(t,fzt(r),n)}})});var tCe=P(()=>{"use strict";p();var vzt=oe(),QMe=xt(),JMe=vp(),yzt=er(),_zt=Io(),bzt=g3(),xzt=QMe(bzt),wzt=QMe([].concat),Szt=JMe.keys,Ezt=JMe.toKey,eCe=function(e,t){var r=Szt(e,t),n=_zt(e);if(n===null)return r;var i=eCe(n,t);return i.length?r.length?xzt(wzt(r,i)):i:r};vzt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:Ezt(arguments[1]);return eCe(yzt(t),r)}})});var nCe=P(()=>{"use strict";p();var Izt=oe(),rCe=vp(),Tzt=er(),Mzt=rCe.get,Czt=rCe.toKey;Izt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Czt(arguments[2]);return Mzt(t,Tzt(r),n)}})});var oCe=P(()=>{"use strict";p();var Azt=oe(),iCe=vp(),Pzt=er(),Ozt=iCe.keys,kzt=iCe.toKey;Azt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:kzt(arguments[1]);return Ozt(Pzt(t),r)}})});var lCe=P(()=>{"use strict";p();var Dzt=oe(),aCe=vp(),Nzt=er(),Rzt=Io(),Lzt=aCe.has,qzt=aCe.toKey,sCe=function(e,t,r){var n=Lzt(e,t,r);if(n)return!0;var i=Rzt(t);return i!==null?sCe(e,i,r):!1};Dzt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:qzt(arguments[2]);return sCe(t,Nzt(r),n)}})});var cCe=P(()=>{"use strict";p();var zzt=oe(),uCe=vp(),jzt=er(),Fzt=uCe.has,Bzt=uCe.toKey;zzt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Bzt(arguments[2]);return Fzt(t,jzt(r),n)}})});var fCe=P(()=>{"use strict";p();var Uzt=oe(),pCe=vp(),Vzt=er(),$zt=pCe.toKey,Gzt=pCe.set;Uzt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){Gzt(t,r,Vzt(i),$zt(o))}}})});var dCe=P(()=>{"use strict";p();uB()});var hCe=P(()=>{"use strict";p();var Hzt=oe(),Wzt=ya(),Zzt=Qo().add;Hzt({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=Wzt(this),r=0,n=arguments.length;r<n;r++)Zzt(t,arguments[r]);return t}})});var mCe=P(()=>{"use strict";p();var Yzt=oe(),Kzt=ya(),Xzt=Qo().remove;Yzt({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=Kzt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=Xzt(t,arguments[i]),r=r&&n;return!!r}})});var gCe=P(()=>{"use strict";p();vB()});var yCe=P((m$r,vCe)=>{"use strict";p();var Qzt=_s(),Jzt=en(),ejt=$s(),tjt=Or(),rjt=zg(),njt=tjt("iterator"),ijt=Object;vCe.exports=function(e){if(ejt(e))return!1;var t=ijt(e);return t[njt]!==void 0||"@@iterator"in t||Jzt(rjt,Qzt(t))}});var Gh=P((v$r,bCe)=>{"use strict";p();var ojt=Nr(),_Ce=Kr(),ajt=yCe(),sjt=Cr(),ljt=ojt("Set"),ujt=function(e){return sjt(e)&&typeof e.size=="number"&&_Ce(e.has)&&_Ce(e.keys)};bCe.exports=function(e){return ujt(e)?e:ajt(e)?new ljt(e):e}});var xCe=P(()=>{"use strict";p();var cjt=oe(),pjt=Qt(),fjt=Gh(),djt=gB();cjt({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return pjt(djt,this,fjt(t))}})});var wCe=P(()=>{"use strict";p();var hjt=oe(),mjt=ti(),gjt=ya(),vjt=Ys();hjt({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=gjt(this),n=mjt(t,arguments.length>1?arguments[1]:void 0);return vjt(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var ECe=P(()=>{"use strict";p();var yjt=oe(),_jt=ti(),bjt=ya(),SCe=Qo(),xjt=Ys(),wjt=SCe.Set,Sjt=SCe.add;yjt({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=bjt(this),n=_jt(t,arguments.length>1?arguments[1]:void 0),i=new wjt;return xjt(r,function(o){n(o,o,r)&&Sjt(i,o)}),i}})});var ICe=P(()=>{"use strict";p();var Ejt=oe(),Ijt=ti(),Tjt=ya(),Mjt=Ys();Ejt({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=Tjt(this),n=Ijt(t,arguments.length>1?arguments[1]:void 0),i=Mjt(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var MCe=P(()=>{"use strict";p();var Cjt=oe(),TCe=Qo(),Ajt=aS();Cjt({target:"Set",stat:!0,forced:!0},{from:Ajt(TCe.Set,TCe.add,!1)})});var CCe=P(()=>{"use strict";p();bB()});var ACe=P(()=>{"use strict";p();var Pjt=oe(),Ojt=Qt(),kjt=Gh(),Djt=_B();Pjt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return Ojt(Djt,this,kjt(t))}})});var PCe=P(()=>{"use strict";p();wB()});var OCe=P(()=>{"use strict";p();var Njt=oe(),Rjt=Qt(),Ljt=Gh(),qjt=xB();Njt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return Rjt(qjt,this,Ljt(t))}})});var kCe=P(()=>{"use strict";p();EB()});var DCe=P(()=>{"use strict";p();var zjt=oe(),jjt=Qt(),Fjt=Gh(),Bjt=SB();zjt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return jjt(Bjt,this,Fjt(t))}})});var NCe=P(()=>{"use strict";p();TB()});var RCe=P(()=>{"use strict";p();var Ujt=oe(),Vjt=Qt(),$jt=Gh(),Gjt=IB();Ujt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return Vjt(Gjt,this,$jt(t))}})});var qCe=P(()=>{"use strict";p();var Hjt=oe(),LCe=xt(),Wjt=ya(),Zjt=Ys(),Yjt=Br(),Kjt=LCe([].join),Xjt=LCe([].push);Hjt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=Wjt(this),n=t===void 0?",":Yjt(t),i=[];return Zjt(r,function(o){Xjt(i,o)}),Kjt(i,n)}})});var jCe=P(()=>{"use strict";p();var Qjt=oe(),Jjt=ti(),eFt=ya(),zCe=Qo(),tFt=Ys(),rFt=zCe.Set,nFt=zCe.add;Qjt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=eFt(this),n=Jjt(t,arguments.length>1?arguments[1]:void 0),i=new rFt;return tFt(r,function(o){nFt(i,n(o,o,r))}),i}})});var BCe=P(()=>{"use strict";p();var iFt=oe(),FCe=Qo(),oFt=sS();iFt({target:"Set",stat:!0,forced:!0},{of:oFt(FCe.Set,FCe.add,!1)})});var UCe=P(()=>{"use strict";p();var aFt=oe(),sFt=Rr(),lFt=ya(),uFt=Ys(),cFt=TypeError;aFt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=lFt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(sFt(t),uFt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new cFt("Reduce of empty set with no initial value");return i}})});var VCe=P(()=>{"use strict";p();var pFt=oe(),fFt=ti(),dFt=ya(),hFt=Ys();pFt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=dFt(this),n=fFt(t,arguments.length>1?arguments[1]:void 0);return hFt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var $Ce=P(()=>{"use strict";p();AB()});var GCe=P(()=>{"use strict";p();var mFt=oe(),gFt=Qt(),vFt=Gh(),yFt=CB();mFt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return gFt(yFt,this,vFt(t))}})});var HCe=P(()=>{"use strict";p();OB()});var WCe=P(()=>{"use strict";p();var _Ft=oe(),bFt=Qt(),xFt=Gh(),wFt=PB();_Ft({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return bFt(wFt,this,xFt(t))}})});var ZCe=P(()=>{"use strict";p();var SFt=oe(),EFt=Zg().charAt,IFt=fi(),TFt=bi(),MFt=Br();SFt({target:"String",proto:!0,forced:!0},{at:function(t){var r=MFt(IFt(this)),n=r.length,i=TFt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:EFt(r,o)}})});var f$=P((NGr,QCe)=>{"use strict";p();var XCe=xt(),CFt=So(),YCe=Br(),AFt=_n(),PFt=TypeError,KCe=XCe([].push),OFt=XCe([].join);QCe.exports=function(t){var r=CFt(t),n=AFt(r);if(!n)return"";for(var i=arguments.length,o=[],l=0;;){var d=r[l++];if(d===void 0)throw new PFt("Incorrect template");if(KCe(o,YCe(d)),l===n)return OFt(o,"");l<i&&KCe(o,YCe(arguments[l]))}}});var JCe=P(()=>{"use strict";p();var kFt=oe(),DFt=f$();kFt({target:"String",stat:!0,forced:!0},{cooked:DFt})});var iAe=P(()=>{"use strict";p();var NFt=oe(),RFt=Ch(),eAe=zo(),LFt=fi(),qFt=Br(),tAe=Un(),rAe=Zg(),zFt=rAe.codeAt,jFt=rAe.charAt,nAe="String Iterator",FFt=tAe.set,BFt=tAe.getterFor(nAe),UFt=RFt(function(t){FFt(this,{type:nAe,string:t,index:0})},"String",function(){var t=BFt(this),r=t.string,n=t.index,i;return n>=r.length?eAe(void 0,!0):(i=jFt(r,n),t.index+=i.length,eAe({codePoint:zFt(i,0),position:n},!1))});NFt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new UFt(qFt(LFt(this)))}})});var yp=P((UGr,oAe)=>{"use strict";p();var V3=xt(),$3=WeakMap.prototype;oAe.exports={WeakMap,set:V3($3.set),get:V3($3.get),has:V3($3.has),remove:V3($3.delete)}});var hAe=P(($Gr,dAe)=>{"use strict";p();var VFt=Nr(),G3=xt(),$Ft=String.fromCharCode,GFt=VFt("String","fromCodePoint"),d$=G3("".charAt),pAe=G3("".charCodeAt),aAe=G3("".indexOf),sAe=G3("".slice),m$=48,fAe=57,lAe=97,HFt=102,uAe=65,WFt=70,cAe=function(e,t){var r=pAe(e,t);return r>=m$&&r<=fAe},h$=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=ZFt(pAe(e,t));if(i===-1)return-1;n=n*16+i}return n},ZFt=function(e){return e>=m$&&e<=fAe?e-m$:e>=lAe&&e<=HFt?e-lAe+10:e>=uAe&&e<=WFt?e-uAe+10:-1};dAe.exports=function(e){for(var t="",r=0,n=0,i;(n=aAe(e,"\\",n))>-1;){if(t+=sAe(e,r,n),++n===e.length)return;var o=d$(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&d$(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(cAe(e,n))return;t+="\0";break;case"x":if(i=h$(e,n,n+2),i===-1)return;n+=2,t+=$Ft(i);break;case"u":if(n<e.length&&d$(e,n)==="{"){var l=aAe(e,"}",++n);if(l===-1)return;i=h$(e,n,l),n=l+1}else i=h$(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=GFt(i);break;default:if(cAe(o,0))return;t+=o}r=n}return t+sAe(e,r)}});var EAe=P(()=>{"use strict";p();var YFt=Ff(),KFt=oe(),XFt=Vw(),H3=xt(),_Ae=va(),bAe=er(),QFt=pn(),JFt=Kr(),eBt=_n(),tBt=ci().f,rBt=Hs(),W3=yp(),nBt=f$(),iBt=hAe(),xAe=Ug(),g$=new W3.WeakMap,oBt=W3.get,aBt=W3.has,sBt=W3.set,v$=Array,hS=TypeError,mAe=Object.freeze||Object,lBt=Object.isFrozen,uBt=Math.min,gAe=H3("".charAt),wAe=H3("".slice),cBt=H3("".split),vAe=H3(/./.exec),pBt=/([\n\u2028\u2029]|\r\n?)/g,fBt=RegExp("^["+xAe+"]*"),dBt=RegExp("[^"+xAe+"]"),yAe="Invalid tag",hBt="Invalid opening line",mBt="Invalid closing line",gBt=function(e){var t=e.raw;if(YFt&&!lBt(t))throw new hS("Raw template should be frozen");if(aBt(g$,t))return oBt(g$,t);var r=vBt(t),n=_Bt(r);return tBt(n,"raw",{value:mAe(r)}),mAe(n),sBt(g$,t,n),n},vBt=function(e){var t=QFt(e),r=eBt(t),n=v$(r),i=v$(r),o=0,l,d,g,_;if(!r)throw new hS(yAe);for(;o<r;o++){var E=t[o];if(typeof E=="string")n[o]=cBt(E,pBt);else throw new hS(yAe)}for(o=0;o<r;o++){var T=o+1===r;if(l=n[o],o===0){if(l.length===1||l[0].length>0)throw new hS(hBt);l[1]=""}if(T){if(l.length===1||vAe(dBt,l[l.length-1]))throw new hS(mBt);l[l.length-2]="",l[l.length-1]=""}for(var A=2;A<l.length;A+=2){var L=l[A],z=A+1===l.length&&!T,U=vAe(fBt,L)[0];if(!z&&U.length===L.length){l[A]="";continue}d=yBt(U,d)}}var N=d?d.length:0;for(o=0;o<r;o++){for(l=n[o],g=l[0],_=1;_<l.length;_+=2)g+=l[_]+wAe(l[_+1],N);i[o]=g}return i},yBt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=uBt(e.length,t.length);r<n&&gAe(e,r)===gAe(t,r);r++);return wAe(e,0,r)},_Bt=function(e){for(var t=0,r=e.length,n=v$(r);t<r;t++)n[t]=iBt(e[t]);return n},SAe=function(e){return XFt(function(t){var r=rBt(arguments);return r[0]=gBt(bAe(t)),_Ae(e,this,r)},"")},bBt=SAe(nBt);KFt({target:"String",stat:!0,forced:!0},{dedent:function(t){return bAe(t),JFt(t)?SAe(t):_Ae(bBt,this,arguments)}})});var IAe=P(()=>{"use strict";p();NB()});var TAe=P(()=>{"use strict";p();UB()});var MAe=P(()=>{"use strict";p();QB()});var CAe=P(()=>{"use strict";p();oU()});var AAe=P(()=>{"use strict";p();var xBt=Xt(),wBt=qi(),SBt=ci().f,EBt=Yo().f,y$=xBt.Symbol;wBt("asyncDispose");y$&&(mS=EBt(y$,"asyncDispose"),mS.enumerable&&mS.configurable&&mS.writable&&SBt(y$,"asyncDispose",{value:mS.value,enumerable:!1,configurable:!1,writable:!1}));var mS});var PAe=P(()=>{"use strict";p();var IBt=qi();IBt("customMatcher")});var OAe=P(()=>{"use strict";p();var TBt=Xt(),MBt=qi(),CBt=ci().f,ABt=Yo().f,_$=TBt.Symbol;MBt("dispose");_$&&(gS=ABt(_$,"dispose"),gS.enumerable&&gS.configurable&&gS.writable&&CBt(_$,"dispose",{value:gS.value,enumerable:!1,configurable:!1,writable:!1}));var gS});var x$=P((gHr,kAe)=>{"use strict";p();var PBt=Nr(),OBt=xt(),b$=PBt("Symbol"),kBt=b$.keyFor,DBt=OBt(b$.prototype.valueOf);kAe.exports=b$.isRegisteredSymbol||function(t){try{return kBt(DBt(t))!==void 0}catch(r){return!1}}});var DAe=P(()=>{"use strict";p();var NBt=oe(),RBt=x$();NBt({target:"Symbol",stat:!0},{isRegisteredSymbol:RBt})});var NAe=P(()=>{"use strict";p();var LBt=oe(),qBt=x$();LBt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:qBt})});var E$=P((EHr,FAe)=>{"use strict";p();var zBt=Of(),zAe=Nr(),jBt=xt(),FBt=Pf(),BBt=Or(),Y3=zAe("Symbol"),RAe=Y3.isWellKnownSymbol,jAe=zAe("Object","getOwnPropertyNames"),UBt=jBt(Y3.prototype.valueOf),LAe=zBt("wks");for(Z3=0,w$=jAe(Y3),qAe=w$.length;Z3<qAe;Z3++)try{S$=w$[Z3],FBt(Y3[S$])&&BBt(S$)}catch(e){}var S$,Z3,w$,qAe;FAe.exports=function(t){if(RAe&&RAe(t))return!0;try{for(var r=UBt(t),n=0,i=jAe(LAe),o=i.length;n<o;n++)if(LAe[i[n]]==r)return!0}catch(l){}return!1}});var BAe=P(()=>{"use strict";p();var VBt=oe(),$Bt=E$();VBt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$Bt})});var UAe=P(()=>{"use strict";p();var GBt=oe(),HBt=E$();GBt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:HBt})});var VAe=P(()=>{"use strict";p();var WBt=qi();WBt("matcher")});var $Ae=P(()=>{"use strict";p();var ZBt=qi();ZBt("metadata")});var GAe=P(()=>{"use strict";p();var YBt=qi();YBt("metadataKey")});var HAe=P(()=>{"use strict";p();var KBt=qi();KBt("observable")});var WAe=P(()=>{"use strict";p();var XBt=qi();XBt("patternMatch")});var ZAe=P(()=>{"use strict";p();var QBt=qi();QBt("replaceAll")});var KAe=P(()=>{"use strict";p();var JBt=Nr(),eUt=T2(),tUt=XU(),YAe=ln(),rUt=Rf(),nUt=YAe.aTypedArrayConstructor,iUt=YAe.exportTypedArrayStaticMethod;iUt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(JBt("Promise"))(function(l){eUt(r),l(tUt(t,i,o))}).then(function(l){return rUt(nUt(r),l)})},!0)});var XAe=P(()=>{"use strict";p();bU()});var JAe=P(()=>{"use strict";p();var QAe=ln(),oUt=Ji().filterReject,aUt=Y5(),sUt=QAe.aTypedArray,lUt=QAe.exportTypedArrayMethod;lUt("filterOut",function(t){var r=oUt(sUt(this),t,arguments.length>1?arguments[1]:void 0);return aUt(this,r)},!0)});var t5e=P(()=>{"use strict";p();var e5e=ln(),uUt=Ji().filterReject,cUt=Y5(),pUt=e5e.aTypedArray,fUt=e5e.exportTypedArrayMethod;fUt("filterReject",function(t){var r=uUt(pUt(this),t,arguments.length>1?arguments[1]:void 0);return cUt(this,r)},!0)});var r5e=P(()=>{"use strict";p();xU()});var n5e=P(()=>{"use strict";p();wU()});var i5e=P(()=>{"use strict";p();var I$=ln(),dUt=h3(),hUt=I$.aTypedArray,mUt=I$.getTypedArrayConstructor,gUt=I$.exportTypedArrayMethod;gUt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return dUt(hUt(this),t,r,mUt)},!0)});var o5e=P(()=>{"use strict";p();LU()});var a5e=P(()=>{"use strict";p();qU()});var s5e=P(()=>{"use strict";p();var T$=ln(),vUt=_n(),yUt=$5(),_Ut=Ju(),bUt=V2(),xUt=bi(),wUt=T$.aTypedArray,SUt=T$.getTypedArrayConstructor,EUt=T$.exportTypedArrayMethod,IUt=Math.max,TUt=Math.min;EUt("toSpliced",function(t,r){var n=wUt(this),i=SUt(n),o=vUt(n),l=_Ut(t,o),d=arguments.length,g=0,_,E,T,A,L,z,U;if(d===0)_=E=0;else if(d===1)_=0,E=o-l;else if(E=TUt(IUt(xUt(r),0),o-l),_=d-2,_){A=new i(_),T=yUt(A);for(var N=2;N<d;N++)L=arguments[N],A[N-2]=T?bUt(L):+L}for(z=o+_-E,U=new i(z);g<l;g++)U[g]=n[g];for(;g<l+_;g++)U[g]=A[g-l];for(;g<z;g++)U[g]=n[g+E-_];return U},!0)});var l5e=P(()=>{"use strict";p();var MUt=xt(),M$=ln(),CUt=Rf(),AUt=g3(),PUt=M$.aTypedArray,OUt=M$.getTypedArrayConstructor,kUt=M$.exportTypedArrayMethod,DUt=MUt(AUt);kUt("uniqueBy",function(t){return PUt(this),CUt(OUt(this),DUt(this,t))},!0)});var u5e=P(()=>{"use strict";p();jU()});var C$=P((kWr,c5e)=>{"use strict";p();var NUt=Cr(),RUt=String,LUt=TypeError;c5e.exports=function(e){if(e===void 0||NUt(e))return e;throw new LUt(RUt(e)+" is not an object or undefined")}});var vS=P((NWr,m5e)=>{"use strict";p();var h5e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p5e=h5e+"+/",f5e=h5e+"-_",d5e=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};m5e.exports={i2c:p5e,c2i:d5e(p5e),i2cUrl:f5e,c2iUrl:d5e(f5e)}});var A$=P((LWr,g5e)=>{"use strict";p();var qUt=TypeError;g5e.exports=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new qUt("Incorrect `alphabet` option")}});var D$=P((zWr,_5e)=>{"use strict";p();var v5e=Xt(),zUt=xt(),jUt=C$(),FUt=z2(),BUt=en(),y5e=vS(),UUt=A$(),VUt=Z0(),$Ut=y5e.c2i,GUt=y5e.c2iUrl,Hh=v5e.SyntaxError,HUt=v5e.TypeError,ev=zUt("".charAt),P$=function(e,t){for(var r=e.length;t<r;t++){var n=ev(e,t);if(n!==" "&&n!=="\t"&&n!==`
`&&n!=="\f"&&n!=="\r")break}return t},O$=function(e,t,r){var n=e.length;n<4&&(e+=n===2?"AA":"A");var i=(t[ev(e,0)]<<18)+(t[ev(e,1)]<<12)+(t[ev(e,2)]<<6)+t[ev(e,3)],o=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&o[1]!==0)throw new Hh("Extra bits");return[o[0]]}if(n===3){if(r&&o[2]!==0)throw new Hh("Extra bits");return[o[0],o[1]]}return o},k$=function(e,t,r){for(var n=t.length,i=0;i<n;i++)e[r+i]=t[i];return r+n};_5e.exports=function(e,t,r,n){FUt(e),jUt(t);var i=UUt(t)==="base64"?$Ut:GUt,o=t?t.lastChunkHandling:void 0;if(o===void 0&&(o="loose"),o!=="loose"&&o!=="strict"&&o!=="stop-before-partial")throw new HUt("Incorrect `lastChunkHandling` option");r&&VUt(r.buffer);var l=r||[],d=0,g=0,_="",E=0;if(n)for(;;){if(E=P$(e,E),E===e.length){if(_.length>0){if(o==="stop-before-partial")break;if(o==="loose"){if(_.length===1)throw new Hh("Malformed padding: exactly one additional character");d=k$(l,O$(_,i,!1),d)}else throw new Hh("Missing padding")}g=e.length;break}var T=ev(e,E);if(++E,T==="="){if(_.length<2)throw new Hh("Padding is too early");if(E=P$(e,E),_.length===2){if(E===e.length){if(o==="stop-before-partial")break;throw new Hh("Malformed padding: only one =")}ev(e,E)==="="&&(++E,E=P$(e,E))}if(E<e.length)throw new Hh("Unexpected character after padding");d=k$(l,O$(_,i,o==="strict"),d),g=e.length;break}if(!BUt(i,T))throw new Hh("Unexpected character");var A=n-d;if(A===1&&_.length===2||A===2&&_.length===3||(_+=T,_.length===4&&(d=k$(l,O$(_,i,!1),d),_="",g=E,d===n)))break}return{bytes:l,read:g,written:d}}});var x5e=P(()=>{"use strict";p();var WUt=oe(),ZUt=Xt(),YUt=Rf(),KUt=D$(),b5e=ZUt.Uint8Array;b5e&&WUt({target:"Uint8Array",stat:!0},{fromBase64:function(t){var r=KUt(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return YUt(b5e,r.bytes)}})});var R$=P((VWr,I5e)=>{"use strict";p();var N$=Xt(),S5e=xt(),XUt=N$.Uint8Array,w5e=N$.SyntaxError,QUt=N$.parseInt,JUt=Math.min,E5e=/[^\da-f]/i,eVt=S5e(E5e.exec),tVt=S5e("".slice);I5e.exports=function(e,t){var r=e.length;if(r%2!==0)throw new w5e("String should be an even number of characters");for(var n=t?JUt(t.length,r/2):r/2,i=t||new XUt(n),o=0,l=0;l<n;){var d=tVt(e,o,o+=2);if(eVt(E5e,d))throw new w5e("String should only contain hex characters");i[l++]=QUt(d,16)}return{bytes:i,read:o}}});var T5e=P(()=>{"use strict";p();var rVt=oe(),nVt=Xt(),iVt=z2(),oVt=R$();nVt.Uint8Array&&rVt({target:"Uint8Array",stat:!0},{fromHex:function(t){return oVt(iVt(t)).bytes}})});var yS=P((ZWr,M5e)=>{"use strict";p();var aVt=_s(),sVt=TypeError;M5e.exports=function(e){if(aVt(e)==="Uint8Array")return e;throw new sVt("Argument is not an Uint8Array")}});var C5e=P(()=>{"use strict";p();var lVt=oe(),uVt=Xt(),cVt=D$(),pVt=yS(),K3=uVt.Uint8Array,fVt=!K3||!K3.prototype.setFromBase64||!function(){var e=new K3([255,255,255,255,255]);try{e.setFromBase64("MjYyZg===")}catch(t){return e[0]===50&&e[1]===54&&e[2]===50&&e[3]===255&&e[4]===255}}();K3&&lVt({target:"Uint8Array",proto:!0,forced:fVt},{setFromBase64:function(t){pVt(this);var r=cVt(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}}})});var A5e=P(()=>{"use strict";p();var dVt=oe(),hVt=Xt(),mVt=z2(),gVt=yS(),vVt=Z0(),yVt=R$();hVt.Uint8Array&&dVt({target:"Uint8Array",proto:!0},{setFromHex:function(t){gVt(this),mVt(t),vVt(this.buffer);var r=yVt(t,this).read;return{read:r,written:r/2}}})});var O5e=P(()=>{"use strict";p();var _Vt=oe(),bVt=Xt(),xVt=xt(),wVt=C$(),SVt=yS(),EVt=Z0(),P5e=vS(),IVt=A$(),TVt=P5e.i2c,MVt=P5e.i2cUrl,CVt=xVt("".charAt);bVt.Uint8Array&&_Vt({target:"Uint8Array",proto:!0},{toBase64:function(){var t=SVt(this),r=arguments.length?wVt(arguments[0]):void 0,n=IVt(r)==="base64"?TVt:MVt,i=!!r&&!!r.omitPadding;EVt(this.buffer);for(var o="",l=0,d=t.length,g,_=function(E){return CVt(n,g>>6*E&63)};l+2<d;l+=3)g=(t[l]<<16)+(t[l+1]<<8)+t[l+2],o+=_(3)+_(2)+_(1)+_(0);return l+2===d?(g=(t[l]<<16)+(t[l+1]<<8),o+=_(3)+_(2)+_(1)+(i?"":"=")):l+1===d&&(g=t[l]<<16,o+=_(3)+_(2)+(i?"":"==")),o}})});var k5e=P(()=>{"use strict";p();var AVt=oe(),PVt=Xt(),OVt=xt(),kVt=yS(),DVt=Z0(),NVt=OVt(1 .toString);PVt.Uint8Array&&AVt({target:"Uint8Array",proto:!0},{toHex:function(){kVt(this),DVt(this.buffer);for(var t="",r=0,n=this.length;r<n;r++){var i=NVt(this[r],16);t+=i.length===1?"0"+i:i}return t}})});var _S=P((lZr,D5e)=>{"use strict";p();var RVt=yp().has;D5e.exports=function(e){return RVt(e),e}});var N5e=P(()=>{"use strict";p();var LVt=oe(),qVt=_S(),zVt=yp().remove;LVt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=qVt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=zVt(t,arguments[i]),r=r&&n;return!!r}})});var L5e=P(()=>{"use strict";p();var jVt=oe(),R5e=yp(),FVt=aS();jVt({target:"WeakMap",stat:!0,forced:!0},{from:FVt(R5e.WeakMap,R5e.set,!0)})});var z5e=P(()=>{"use strict";p();var BVt=oe(),q5e=yp(),UVt=sS();BVt({target:"WeakMap",stat:!0,forced:!0},{of:UVt(q5e.WeakMap,q5e.set,!0)})});var F5e=P(()=>{"use strict";p();var VVt=oe(),$Vt=_S(),L$=yp(),GVt=L$.get,HVt=L$.has,j5e=L$.set;VVt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=$Vt(this),i,o;return HVt(n,t)?(i=GVt(n,t),"update"in r&&(i=r.update(i,t,n),j5e(n,t,i)),i):(o=r.insert(t,n),j5e(n,t,o),o)}})});var B5e=P(()=>{"use strict";p();var WVt=oe(),ZVt=_S(),q$=yp(),YVt=q$.get,KVt=q$.has,XVt=q$.set;WVt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return KVt(ZVt(this),t)?YVt(this,t):(XVt(this,t,r),r)}})});var $5e=P((IZr,V5e)=>{"use strict";p();var z$=yp(),U5e=new z$.WeakMap,QVt=z$.set,JVt=z$.remove;V5e.exports=function(e){return QVt(U5e,e,1),JVt(U5e,e),e}});var G5e=P(()=>{"use strict";p();var e$t=oe(),t$t=Rr(),r$t=_S(),n$t=$5e(),j$=yp(),i$t=j$.get,o$t=j$.has,a$t=j$.set;e$t({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(r$t(this),n$t(t),t$t(r),o$t(this,t))return i$t(this,t);var n=r(t);return a$t(this,t,n),n}})});var H5e=P(()=>{"use strict";p();var s$t=oe(),l$t=R3();s$t({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:l$t})});var T1=P((DZr,W5e)=>{"use strict";p();var F$=xt(),B$=WeakSet.prototype;W5e.exports={WeakSet,add:F$(B$.add),has:F$(B$.has),remove:F$(B$.delete)}});var U$=P((RZr,Z5e)=>{"use strict";p();var u$t=T1().has;Z5e.exports=function(e){return u$t(e),e}});var Y5e=P(()=>{"use strict";p();var c$t=oe(),p$t=U$(),f$t=T1().add;c$t({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=p$t(this),r=0,n=arguments.length;r<n;r++)f$t(t,arguments[r]);return t}})});var K5e=P(()=>{"use strict";p();var d$t=oe(),h$t=U$(),m$t=T1().remove;d$t({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=h$t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=m$t(t,arguments[i]),r=r&&n;return!!r}})});var Q5e=P(()=>{"use strict";p();var g$t=oe(),X5e=T1(),v$t=aS();g$t({target:"WeakSet",stat:!0,forced:!0},{from:v$t(X5e.WeakSet,X5e.add,!1)})});var e3e=P(()=>{"use strict";p();var y$t=oe(),J5e=T1(),_$t=sS();y$t({target:"WeakSet",stat:!0,forced:!0},{of:_$t(J5e.WeakSet,J5e.add,!1)})});var s3e=P(()=>{"use strict";p();var b$t=oe(),x$t=Xt(),n3e=Nr(),V$=xt(),w$t=Qt(),X3=Ot(),S$t=Br(),E$t=Pl(),t3e=vS().c2i,i3e=/[^\d+/a-z]/i,I$t=/[\t\n\f\r ]+/g,T$t=/[=]{1,2}$/,tv=n3e("atob"),M$t=String.fromCharCode,C$t=V$("".charAt),r3e=V$("".replace),A$t=V$(i3e.exec),M1=!!tv&&!X3(function(){return tv("aGk=")!=="hi"}),o3e=M1&&X3(function(){return tv(" ")!==""}),a3e=M1&&!X3(function(){tv("a")}),P$t=M1&&!X3(function(){tv()}),O$t=M1&&tv.length!==1,k$t=!M1||o3e||a3e||P$t||O$t;b$t({global:!0,bind:!0,enumerable:!0,forced:k$t},{atob:function(t){if(E$t(arguments.length,1),M1&&!o3e&&!a3e)return w$t(tv,x$t,t);var r=r3e(S$t(t),I$t,""),n="",i=0,o=0,l,d,g;if(r.length%4===0&&(r=r3e(r,T$t,"")),l=r.length,l%4===1||A$t(i3e,r))throw new(n3e("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<l;)d=C$t(r,i++),g=o%4?g*64+t3e[d]:t3e[d],o++%4&&(n+=M$t(255&g>>(-2*o&6)));return n}})});var f3e=P(()=>{"use strict";p();var D$t=oe(),N$t=Xt(),c3e=Nr(),p3e=xt(),R$t=Qt(),$$=Ot(),l3e=Br(),L$t=Pl(),q$t=vS().i2c,C1=c3e("btoa"),u3e=p3e("".charAt),z$t=p3e("".charCodeAt),bS=!!C1&&!$$(function(){return C1("hi")!=="aGk="}),j$t=bS&&!$$(function(){C1()}),F$t=bS&&$$(function(){return C1(null)!=="bnVsbA=="}),B$t=bS&&C1.length!==1;D$t({global:!0,bind:!0,enumerable:!0,forced:!bS||j$t||F$t||B$t},{btoa:function(t){if(L$t(arguments.length,1),bS)return R$t(C1,N$t,l3e(t));for(var r=l3e(t),n="",i=0,o=q$t,l,d;u3e(r,i)||(o="=",i%1);){if(d=z$t(r,i+=3/4),d>255)throw new(c3e("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");l=l<<8|d,n+=u3e(o,63&l>>8-i%1*8)}return n}})});var G$=P((tYr,d3e)=>{"use strict";p();d3e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var W$=P((nYr,m3e)=>{"use strict";p();var U$t=jw(),H$=U$t("span").classList,h3e=H$&&H$.constructor&&H$.constructor.prototype;m3e.exports=h3e===Object.prototype?void 0:h3e});var _3e=P(()=>{"use strict";p();var g3e=Xt(),v3e=G$(),V$t=W$(),Z$=C9(),$$t=Eo(),y3e=function(e){if(e&&e.forEach!==Z$)try{$$t(e,"forEach",Z$)}catch(t){e.forEach=Z$}};for(Q3 in v3e)v3e[Q3]&&y3e(g3e[Q3]&&g3e[Q3].prototype);var Q3;y3e(V$t)});var E3e=P(()=>{"use strict";p();var b3e=Xt(),w3e=G$(),G$t=W$(),xS=o2(),x3e=Eo(),H$t=bs(),W$t=Or(),Y$=W$t("iterator"),K$=xS.values,S3e=function(e,t){if(e){if(e[Y$]!==K$)try{x3e(e,Y$,K$)}catch(n){e[Y$]=K$}if(H$t(e,t,!0),w3e[t]){for(var r in xS)if(e[r]!==xS[r])try{x3e(e,r,xS[r])}catch(n){e[r]=xS[r]}}}};for(J3 in w3e)S3e(b3e[J3]&&b3e[J3].prototype,J3);var J3;S3e(G$t,"DOMTokenList")});var X$=P((pYr,I3e)=>{"use strict";p();I3e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var L3e=P(()=>{"use strict";p();var Z$t=oe(),r4=Nr(),Y$t=Iz(),nG=Ot(),K$t=Qi(),iG=Vs(),n4=ci().f,X$t=Zn(),e4=xi(),t4=en(),Q$t=Ya(),J$t=er(),C3e=p9(),T3e=Lg(),A1=X$(),eGt=SA(),A3e=Un(),oG=br(),P3e=An(),P1="DOMException",rG="DATA_CLONE_ERR",o4=r4("Error"),Vf=r4(P1)||function(){try{var e=r4("MessageChannel")||Y$t("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===rG&&t.code===25)return t.constructor}}(),tGt=Vf&&Vf.prototype,O3e=o4.prototype,rGt=A3e.set,nGt=A3e.getterFor(P1),iGt="stack"in new o4(P1),k3e=function(e){return t4(A1,e)&&A1[e].m?A1[e].c:0},aG=function(){Q$t(this,SS);var t=arguments.length,r=T3e(t<1?void 0:arguments[0]),n=T3e(t<2?void 0:arguments[1],"Error"),i=k3e(n);if(rGt(this,{type:P1,name:n,message:r,code:i}),oG||(this.name=n,this.message=r,this.code=i),iGt){var o=new o4(r);o.name=P1,n4(this,"stack",iG(1,eGt(o.stack,1)))}},SS=aG.prototype=K$t(O3e),D3e=function(e){return{enumerable:!0,configurable:!0,get:e}},Q$=function(e){return D3e(function(){return nGt(this)[e]})};oG&&(e4(SS,"code",Q$("code")),e4(SS,"message",Q$("message")),e4(SS,"name",Q$("name")));n4(SS,"constructor",iG(1,aG));var a4=nG(function(){return!(new Vf instanceof o4)}),N3e=a4||nG(function(){return O3e.toString!==C3e||String(new Vf(1,2))!=="2: 1"}),R3e=a4||nG(function(){return new Vf(1,"DataCloneError").code!==25}),oGt=a4||Vf[rG]!==25||tGt[rG]!==25,M3e=P3e?N3e||R3e||oGt:a4;Z$t({global:!0,constructor:!0,forced:M3e},{DOMException:M3e?aG:Vf});var ES=r4(P1),i4=ES.prototype;N3e&&(P3e||Vf===ES)&&X$t(i4,"toString",C3e);R3e&&oG&&Vf===ES&&e4(i4,"code",D3e(function(){return k3e(J$t(this).name)}));for(J$ in A1)t4(A1,J$)&&(eG=A1[J$],wS=eG.s,tG=iG(6,eG.c),t4(ES,wS)||n4(ES,wS,tG),t4(i4,wS)||n4(i4,wS,tG));var eG,wS,tG,J$});var V3e=P(()=>{"use strict";p();var aGt=oe(),sGt=Xt(),hG=Nr(),fG=Vs(),dG=ci().f,q3e=en(),lGt=Ya(),uGt=Eh(),z3e=Lg(),sG=X$(),cGt=SA(),pGt=br(),B3e=An(),TS="DOMException",U3e=hG("Error"),MS=hG(TS),mG=function(){lGt(this,fGt);var t=arguments.length,r=z3e(t<1?void 0:arguments[0]),n=z3e(t<2?void 0:arguments[1],"Error"),i=new MS(r,n),o=new U3e(r);return o.name=TS,dG(i,"stack",fG(1,cGt(o.stack,1))),uGt(i,this,mG),i},fGt=mG.prototype=MS.prototype,dGt="stack"in new U3e(TS),hGt="stack"in new MS(1,2),lG=MS&&pGt&&Object.getOwnPropertyDescriptor(sGt,TS),mGt=!!lG&&!(lG.writable&&lG.configurable),j3e=dGt&&!mGt&&!hGt;aGt({global:!0,constructor:!0,forced:B3e||j3e},{DOMException:j3e?mG:MS});var IS=hG(TS),F3e=IS.prototype;if(F3e.constructor!==IS){B3e||dG(F3e,"constructor",fG(1,IS));for(uG in sG)q3e(sG,uG)&&(cG=sG[uG],pG=cG.s,q3e(IS,pG)||dG(IS,pG,fG(6,cG.c)))}var cG,pG,uG});var G3e=P(()=>{"use strict";p();var gGt=Nr(),vGt=bs(),$3e="DOMException";vGt(gGt($3e),$3e)});var W3e=P(()=>{"use strict";p();var yGt=oe(),_Gt=Xt(),H3e=P2().clear;yGt({global:!0,bind:!0,enumerable:!0,forced:_Gt.clearImmediate!==H3e},{clearImmediate:H3e})});var s4=P((IYr,Y3e)=>{"use strict";p();var Z3e=Xt(),bGt=va(),xGt=Kr(),wGt=l2(),SGt=Yu(),EGt=Hs(),IGt=Pl(),TGt=Z3e.Function,MGt=/MSIE .\./.test(SGt)||wGt==="BUN"&&function(){var e=Z3e.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();Y3e.exports=function(e,t){var r=t?2:1;return MGt?function(n,i){var o=IGt(arguments.length,1)>r,l=xGt(n)?n:TGt(n),d=o?EGt(arguments,r):[],g=o?function(){bGt(l,this,d)}:l;return t?e(g,i):e(g)}:e}});var J3e=P(()=>{"use strict";p();var CGt=oe(),Q3e=Xt(),K3e=P2().set,AGt=s4(),X3e=Q3e.setImmediate?AGt(K3e,!1):K3e;CGt({global:!0,bind:!0,enumerable:!0,forced:Q3e.setImmediate!==X3e},{setImmediate:X3e})});var e4e=P(()=>{"use strict";p();W3e();J3e()});var t4e=P(()=>{"use strict";p();var PGt=oe(),OGt=Xt(),kGt=TF(),DGt=Rr(),NGt=Pl(),RGt=Ot(),LGt=br(),qGt=RGt(function(){return LGt&&Object.getOwnPropertyDescriptor(OGt,"queueMicrotask").value.length!==1});PGt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:qGt},{queueMicrotask:function(t){NGt(arguments.length,1),kGt(DGt(t))}})});var n4e=P(()=>{"use strict";p();var zGt=oe(),Wh=Xt(),jGt=xi(),FGt=br(),BGt=TypeError,UGt=Object.defineProperty,r4e=Wh.self!==Wh;try{FGt?(l4=Object.getOwnPropertyDescriptor(Wh,"self"),(r4e||!l4||!l4.get||!l4.enumerable)&&jGt(Wh,"self",{get:function(){return Wh},set:function(t){if(this!==Wh)throw new BGt("Illegal invocation");UGt(Wh,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):zGt({global:!0,simple:!0,forced:r4e},{self:Wh})}catch(e){}var l4});var h4e=P(()=>{"use strict";p();var VGt=An(),$Gt=oe(),wa=Xt(),AS=Nr(),OS=xt(),xG=Ot(),GGt=_h(),k1=Kr(),HGt=tc(),WGt=$s(),d4=Cr(),ZGt=Pf(),YGt=zi(),a4e=er(),p4=_s(),KGt=en(),XGt=lu(),gG=Eo(),u4=_n(),QGt=Pl(),JGt=l1(),h4=jo(),wG=Qo(),eHt=Ys(),i4e=kz(),tHt=s9(),SG=e5(),CS=wa.Object,rHt=wa.Array,s4e=wa.Date,l4e=wa.Error,nHt=wa.TypeError,iHt=wa.PerformanceMark,rv=AS("DOMException"),_G=h4.Map,EG=h4.has,u4e=h4.get,f4=h4.set,c4e=wG.Set,p4e=wG.add,oHt=wG.has,aHt=AS("Object","keys"),sHt=OS([].push),lHt=OS((!0).valueOf),uHt=OS(1 .valueOf),cHt=OS("".valueOf),pHt=OS(s4e.prototype.getTime),bG=GGt("structuredClone"),PS="DataCloneError",c4="Transferring",f4e=function(e){return!xG(function(){var t=new wa.Set([7]),r=e(t),n=e(CS(7));return r===t||!r.has(7)||!d4(n)||+n!=7})&&e},o4e=function(e,t){return!xG(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},fHt=function(e){return!xG(function(){var t=e(new wa.AggregateError([1],bG,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==bG||t.cause!==3})},O1=wa.structuredClone,dHt=VGt||!o4e(O1,l4e)||!o4e(O1,rv)||!fHt(O1),hHt=!O1&&f4e(function(e){return new iHt(bG,{detail:e}).detail}),$f=f4e(O1)||hHt,vG=function(e){throw new rv("Uncloneable type: "+e,PS)},Qs=function(e,t){throw new rv((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",PS)},yG=function(e,t){return $f||Qs(t),$f(e)},mHt=function(){var e;try{e=new wa.DataTransfer}catch(t){try{e=new wa.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},d4e=function(e,t,r){if(EG(t,e))return u4e(t,e);var n=r||p4(e),i,o,l,d,g,_;if(n==="SharedArrayBuffer")$f?i=$f(e):i=e;else{var E=wa.DataView;!E&&!k1(e.slice)&&Qs("ArrayBuffer");try{if(k1(e.slice)&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,l=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,l),d=new E(e),g=new E(i),_=0;_<o;_++)g.setUint8(_,d.getUint8(_))}catch(T){throw new rv("ArrayBuffer is detached",PS)}}return f4(t,e,i),i},gHt=function(e,t,r,n,i){var o=wa[t];return d4(o)||Qs(t),new o(d4e(e.buffer,i),r,n)},xa=function(e,t){if(ZGt(e)&&vG("Symbol"),!d4(e))return e;if(t){if(EG(t,e))return u4e(t,e)}else t=new _G;var r=p4(e),n,i,o,l,d,g,_,E;switch(r){case"Array":o=rHt(u4(e));break;case"Object":o={};break;case"Map":o=new _G;break;case"Set":o=new c4e;break;case"RegExp":o=new RegExp(e.source,JGt(e));break;case"Error":switch(i=e.name,i){case"AggregateError":o=new(AS(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(AS(i));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(AS("WebAssembly",i));break;default:o=new l4e}break;case"DOMException":o=new rv(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=d4e(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":g=r==="DataView"?e.byteLength:e.length,o=gHt(e,r,e.byteOffset,g,t);break;case"DOMQuad":try{o=new DOMQuad(xa(e.p1,t),xa(e.p2,t),xa(e.p3,t),xa(e.p4,t))}catch(T){o=yG(e,r)}break;case"File":if($f)try{o=$f(e),p4(o)!==r&&(o=void 0)}catch(T){}if(!o)try{o=new File([e],e.name,e)}catch(T){}o||Qs(r);break;case"FileList":if(l=mHt(),l){for(d=0,g=u4(e);d<g;d++)l.items.add(xa(e[d],t));o=l.files}else o=yG(e,r);break;case"ImageData":try{o=new ImageData(xa(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(T){o=yG(e,r)}break;default:if($f)o=$f(e);else switch(r){case"BigInt":o=CS(e.valueOf());break;case"Boolean":o=CS(lHt(e));break;case"Number":o=CS(uHt(e));break;case"String":o=CS(cHt(e));break;case"Date":o=new s4e(pHt(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(T){Qs(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=wa[r];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(T){Qs(r)}break;case"DOMRect":case"DOMRectReadOnly":n=wa[r];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(T){Qs(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=wa[r];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(T){Qs(r)}break;case"AudioData":case"VideoFrame":k1(e.clone)||Qs(r);try{o=e.clone()}catch(T){vG(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Qs(r);default:vG(r)}}switch(f4(t,e,o),r){case"Array":case"Object":for(_=aHt(e),d=0,g=u4(_);d<g;d++)E=_[d],XGt(o,E,xa(e[E],t));break;case"Map":e.forEach(function(T,A){f4(o,xa(A,t),xa(T,t))});break;case"Set":e.forEach(function(T){p4e(o,xa(T,t))});break;case"Error":gG(o,"message",xa(e.message,t)),KGt(e,"cause")&&gG(o,"cause",xa(e.cause,t)),i==="AggregateError"?o.errors=xa(e.errors,t):i==="SuppressedError"&&(o.error=xa(e.error,t),o.suppressed=xa(e.suppressed,t));case"DOMException":tHt&&gG(o,"stack",xa(e.stack,t))}return o},vHt=function(e,t){if(!d4(e))throw new nHt("Transfer option cannot be converted to a sequence");var r=[];YGt(e,function(A){sHt(r,a4e(A))});for(var n=0,i=u4(r),o=new c4e,l,d,g,_,E,T;n<i;){if(l=r[n++],d=p4(l),d==="ArrayBuffer"?oHt(o,l):EG(t,l))throw new rv("Duplicate transferable",PS);if(d==="ArrayBuffer"){p4e(o,l);continue}if(SG)_=O1(l,{transfer:[l]});else switch(d){case"ImageBitmap":g=wa.OffscreenCanvas,HGt(g)||Qs(d,c4);try{E=new g(l.width,l.height),T=E.getContext("bitmaprenderer"),T.transferFromImageBitmap(l),_=E.transferToImageBitmap()}catch(A){}break;case"AudioData":case"VideoFrame":(!k1(l.clone)||!k1(l.close))&&Qs(d,c4);try{_=l.clone(),l.close()}catch(A){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Qs(d,c4)}if(_===void 0)throw new rv("This object cannot be transferred: "+d,PS);f4(t,l,_)}return o},yHt=function(e){eHt(e,function(t){SG?$f(t,{transfer:[t]}):k1(t.transfer)?t.transfer():i4e?i4e(t):Qs("ArrayBuffer",c4)})};$Gt({global:!0,enumerable:!0,sham:!SG,forced:dHt},{structuredClone:function(t){var r=QGt(arguments.length,1)>1&&!WGt(arguments[1])?a4e(arguments[1]):void 0,n=r?r.transfer:void 0,i,o;n!==void 0&&(i=new _G,o=vHt(n,i));var l=xa(t,i);return o&&yHt(o),l}})});var v4e=P(()=>{"use strict";p();var _Ht=oe(),g4e=Xt(),bHt=s4(),m4e=bHt(g4e.setInterval,!0);_Ht({global:!0,bind:!0,forced:g4e.setInterval!==m4e},{setInterval:m4e})});var b4e=P(()=>{"use strict";p();var xHt=oe(),_4e=Xt(),wHt=s4(),y4e=wHt(_4e.setTimeout,!0);xHt({global:!0,bind:!0,forced:_4e.setTimeout!==y4e},{setTimeout:y4e})});var x4e=P(()=>{"use strict";p();v4e();b4e()});var kS=P((XYr,S4e)=>{"use strict";p();var SHt=Ot(),EHt=Or(),IHt=br(),w4e=An(),THt=EHt("iterator");S4e.exports=!SHt(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),w4e&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(w4e||!IHt)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[THt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var k4e=P((JYr,O4e)=>{"use strict";p();var nv=xt(),IG=2147483647,DS=36,C4e=1,CG=26,MHt=38,CHt=700,AHt=72,PHt=128,OHt="-",kHt=/[^\0-\u007E]/,A4e=/[.\u3002\uFF0E\uFF61]/g,E4e="Overflow: input needs wider integers to process",TG=DS-C4e,I4e=RangeError,DHt=nv(A4e.exec),D1=Math.floor,MG=String.fromCharCode,T4e=nv("".charCodeAt),P4e=nv([].join),Zh=nv([].push),NHt=nv("".replace),RHt=nv("".split),LHt=nv("".toLowerCase),qHt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=T4e(e,r++);if(i>=55296&&i<=56319&&r<n){var o=T4e(e,r++);(o&64512)===56320?Zh(t,((i&1023)<<10)+(o&1023)+65536):(Zh(t,i),r--)}else Zh(t,i)}return t},M4e=function(e){return e+22+75*(e<26)},zHt=function(e,t,r){var n=0;for(e=r?D1(e/CHt):e>>1,e+=D1(e/t);e>TG*CG>>1;)e=D1(e/TG),n+=DS;return D1(n+(TG+1)*e/(e+MHt))},jHt=function(e){var t=[];e=qHt(e);var r=e.length,n=PHt,i=0,o=AHt,l,d;for(l=0;l<e.length;l++)d=e[l],d<128&&Zh(t,MG(d));var g=t.length,_=g;for(g&&Zh(t,OHt);_<r;){var E=IG;for(l=0;l<e.length;l++)d=e[l],d>=n&&d<E&&(E=d);var T=_+1;if(E-n>D1((IG-i)/T))throw new I4e(E4e);for(i+=(E-n)*T,n=E,l=0;l<e.length;l++){if(d=e[l],d<n&&++i>IG)throw new I4e(E4e);if(d===n){for(var A=i,L=DS;;){var z=L<=o?C4e:L>=o+CG?CG:L-o;if(A<z)break;var U=A-z,N=DS-z;Zh(t,MG(M4e(z+U%N))),A=D1(U/N),L+=DS}Zh(t,MG(M4e(A))),o=zHt(i,T,_===g),i=0,_++}}i++,n++}return P4e(t,"")};O4e.exports=function(e){var t=[],r=RHt(NHt(LHt(e),A4e,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Zh(t,DHt(kHt,i)?"xn--"+jHt(i):i);return P4e(t,".")}});var qG=P((tKr,tPe)=>{"use strict";p();o2();DB();var NG=oe(),G4e=Xt(),RG=_F(),FHt=Nr(),m4=Qt(),oc=xt(),NS=br(),H4e=kS(),W4e=Zn(),BHt=xi(),UHt=cu(),VHt=bs(),$Ht=Ch(),LG=Un(),Z4e=Ya(),AG=Kr(),GHt=en(),HHt=ti(),WHt=_s(),ZHt=er(),Y4e=Cr(),ws=Br(),YHt=Qi(),D4e=Vs(),N4e=Ih(),KHt=lp(),g4=zo(),N1=Pl(),XHt=Or(),QHt=FA(),JHt=XHt("iterator"),L1="URLSearchParams",K4e=L1+"Iterator",X4e=LG.set,du=LG.getterFor(L1),eWt=LG.getterFor(K4e),R4e=RG("fetch"),_4=RG("Request"),RS=RG("Headers"),PG=_4&&_4.prototype,L4e=RS&&RS.prototype,tWt=G4e.TypeError,rWt=G4e.encodeURIComponent,nWt=String.fromCharCode,iWt=FHt("String","fromCodePoint"),oWt=parseInt,y4=oc("".charAt),q4e=oc([].join),Yh=oc([].push),Q4e=oc("".replace),aWt=oc([].shift),z4e=oc([].splice),j4e=oc("".split),J4e=oc("".slice),sWt=oc(/./.exec),lWt=/\+/g,OG="\uFFFD",uWt=/^[0-9a-f]+$/i,F4e=function(e,t){var r=J4e(e,t,t+2);return sWt(uWt,r)?oWt(r,16):NaN},cWt=function(e){for(var t=0,r=128;r>0&&(e&r)!==0;r>>=1)t++;return t},pWt=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},B4e=function(e){e=Q4e(e,lWt," ");for(var t=e.length,r="",n=0;n<t;){var i=y4(e,n);if(i==="%"){if(y4(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var o=F4e(e,n+1);if(o!==o){r+=i,n++;continue}n+=2;var l=cWt(o);if(l===0)i=nWt(o);else{if(l===1||l>4){r+=OG,n++;continue}for(var d=[o],g=1;g<l&&(n++,!(n+3>t||y4(e,n)!=="%"));){var _=F4e(e,n+1);if(_!==_){n+=3;break}if(_>191||_<128)break;Yh(d,_),n+=2,g++}if(d.length!==l){r+=OG;continue}var E=pWt(d);E===null?r+=OG:i=iWt(E)}}r+=i,n++}return r},fWt=/[!'()~]|%20/g,dWt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},hWt=function(e){return dWt[e]},U4e=function(e){return Q4e(rWt(e),fWt,hWt)},kG=$Ht(function(t,r){X4e(this,{type:K4e,target:du(t).entries,index:0,kind:r})},L1,function(){var t=eWt(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,g4(void 0,!0);var i=r[n];switch(t.kind){case"keys":return g4(i.key,!1);case"values":return g4(i.value,!1)}return g4([i.key,i.value],!1)},!0),ePe=function(e){this.entries=[],this.url=null,e!==void 0&&(Y4e(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?y4(e,0)==="?"?J4e(e,1):e:ws(e)))};ePe.prototype={type:L1,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=KHt(e),n,i,o,l,d,g,_;if(r)for(n=N4e(e,r),i=n.next;!(o=m4(i,n)).done;){if(l=N4e(ZHt(o.value)),d=l.next,(g=m4(d,l)).done||(_=m4(d,l)).done||!m4(d,l).done)throw new tWt("Expected sequence with length 2");Yh(t,{key:ws(g.value),value:ws(_.value)})}else for(var E in e)GHt(e,E)&&Yh(t,{key:E,value:ws(e[E])})},parseQuery:function(e){if(e)for(var t=this.entries,r=j4e(e,"&"),n=0,i,o;n<r.length;)i=r[n++],i.length&&(o=j4e(i,"="),Yh(t,{key:B4e(aWt(o)),value:B4e(q4e(o,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],Yh(t,U4e(n.key)+"="+U4e(n.value));return q4e(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var b4=function(){Z4e(this,R1);var t=arguments.length>0?arguments[0]:void 0,r=X4e(this,new ePe(t));NS||(this.size=r.entries.length)},R1=b4.prototype;UHt(R1,{append:function(t,r){var n=du(this);N1(arguments.length,2),Yh(n.entries,{key:ws(t),value:ws(r)}),NS||this.length++,n.updateURL()},delete:function(e){for(var t=du(this),r=N1(arguments.length,1),n=t.entries,i=ws(e),o=r<2?void 0:arguments[1],l=o===void 0?o:ws(o),d=0;d<n.length;){var g=n[d];if(g.key===i&&(l===void 0||g.value===l)){if(z4e(n,d,1),l!==void 0)break}else d++}NS||(this.size=n.length),t.updateURL()},get:function(t){var r=du(this).entries;N1(arguments.length,1);for(var n=ws(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=du(this).entries;N1(arguments.length,1);for(var n=ws(t),i=[],o=0;o<r.length;o++)r[o].key===n&&Yh(i,r[o].value);return i},has:function(t){for(var r=du(this).entries,n=N1(arguments.length,1),i=ws(t),o=n<2?void 0:arguments[1],l=o===void 0?o:ws(o),d=0;d<r.length;){var g=r[d++];if(g.key===i&&(l===void 0||g.value===l))return!0}return!1},set:function(t,r){var n=du(this);N1(arguments.length,1);for(var i=n.entries,o=!1,l=ws(t),d=ws(r),g=0,_;g<i.length;g++)_=i[g],_.key===l&&(o?z4e(i,g--,1):(o=!0,_.value=d));o||Yh(i,{key:l,value:d}),NS||(this.size=i.length),n.updateURL()},sort:function(){var t=du(this);QHt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=du(this).entries,n=HHt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new kG(this,"keys")},values:function(){return new kG(this,"values")},entries:function(){return new kG(this,"entries")}},{enumerable:!0});W4e(R1,JHt,R1.entries,{name:"entries"});W4e(R1,"toString",function(){return du(this).serialize()},{enumerable:!0});NS&&BHt(R1,"size",{get:function(){return du(this).entries.length},configurable:!0,enumerable:!0});VHt(b4,L1);NG({global:!0,constructor:!0,forced:!H4e},{URLSearchParams:b4});!H4e&&AG(RS)&&(V4e=oc(L4e.has),$4e=oc(L4e.set),DG=function(e){if(Y4e(e)){var t=e.body,r;if(WHt(t)===L1)return r=e.headers?new RS(e.headers):new RS,V4e(r,"content-type")||$4e(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),YHt(e,{body:D4e(0,ws(t)),headers:D4e(0,r)})}return e},AG(R4e)&&NG({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return R4e(t,arguments.length>1?DG(arguments[1]):{})}}),AG(_4)&&(v4=function(t){return Z4e(this,PG),new _4(t,arguments.length>1?DG(arguments[1]):{})},PG.constructor=v4,v4.prototype=PG,NG({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:v4})));var V4e,$4e,DG,v4;tPe.exports={URLSearchParams:b4,getState:du}});var _Pe=P(()=>{"use strict";p();RB();var mWt=oe(),eH=br(),gWt=kS(),tH=Xt(),rPe=ti(),yu=xt(),I4=Zn(),hu=xi(),vWt=Ya(),XG=en(),rH=tF(),q1=A9(),ac=Hs(),yWt=Zg().codeAt,_Wt=k4e(),Hf=Br(),bWt=bs(),xWt=Pl(),dPe=qG(),hPe=Un(),wWt=hPe.set,T4=hPe.getterFor("URL"),SWt=dPe.URLSearchParams,EWt=dPe.getState,LS=tH.URL,QG=tH.TypeError,M4=tH.parseInt,IWt=Math.floor,nPe=Math.pow,vu=yu("".charAt),sc=yu(/./.exec),zS=yu([].join),TWt=yu(1 .toString),MWt=yu([].pop),j1=yu([].push),zG=yu("".replace),CWt=yu([].shift),AWt=yu("".split),FS=yu("".slice),C4=yu("".toLowerCase),PWt=yu([].unshift),OWt="Invalid authority",jG="Invalid scheme",iv="Invalid host",iPe="Invalid port",mPe=/[a-z]/i,kWt=/[\d+-.a-z]/i,JG=/\d/,DWt=/^0x/i,NWt=/^[0-7]+$/,RWt=/^\d+$/,gPe=/^[\da-f]+$/i,LWt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,qWt=/[\0\t\n\r #/:<>?@[\\\]^|]/,zWt=/^[\u0000-\u0020]+/,jWt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,FWt=/[\t\n\r]/g,mu,BWt=function(e){var t=AWt(e,"."),r,n,i,o,l,d,g;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(l=10,o.length>1&&vu(o,0)==="0"&&(l=sc(DWt,o)?16:8,o=FS(o,l===8?1:2)),o==="")d=0;else{if(!sc(l===10?RWt:l===8?NWt:gPe,o))return e;d=M4(o,l)}j1(n,d)}for(i=0;i<r;i++)if(d=n[i],i===r-1){if(d>=nPe(256,5-r))return null}else if(d>255)return null;for(g=MWt(n),i=0;i<n.length;i++)g+=n[i]*nPe(256,3-i);return g},UWt=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,l,d,g,_,E,T,A=function(){return vu(e,i)};if(A()===":"){if(vu(e,1)!==":")return;i+=2,r++,n=r}for(;A();){if(r===8)return;if(A()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=l=0;l<4&&sc(gPe,A());)o=o*16+M4(A(),16),i++,l++;if(A()==="."){if(l===0||(i-=l,r>6))return;for(d=0;A();){if(g=null,d>0)if(A()==="."&&d<4)i++;else return;if(!sc(JG,A()))return;for(;sc(JG,A());){if(_=M4(A(),10),g===null)g=_;else{if(g===0)return;g=g*10+_}if(g>255)return;i++}t[r]=t[r]*256+g,d++,(d===2||d===4)&&r++}if(d!==4)return;break}else if(A()===":"){if(i++,!A())return}else if(A())return;t[r++]=o}if(n!==null)for(E=r-n,r=7;r!==0&&E>0;)T=t[r],t[r--]=t[n+E-1],t[n+--E]=T;else if(r!==8)return;return t},VWt=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r?n:t},qS=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)PWt(t,e%256),e=IWt(e/256);return zS(t,".")}if(typeof e=="object"){for(t="",n=VWt(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=TWt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},E4={},vPe=rH({},E4,{" ":1,"\"":1,"<":1,">":1,"`":1}),yPe=rH({},vPe,{"#":1,"?":1,"{":1,"}":1}),FG=rH({},yPe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Kh=function(e,t){var r=yWt(e,0);return r>32&&r<127&&!XG(t,e)?e:encodeURIComponent(e)},x4={ftp:21,file:null,http:80,https:443,ws:80,wss:443},jS=function(e,t){var r;return e.length===2&&sc(mPe,vu(e,0))&&((r=vu(e,1))===":"||!t&&r==="|")},oPe=function(e){var t;return e.length>1&&jS(FS(e,0,2))&&(e.length===2||(t=vu(e,2))==="/"||t==="\\"||t==="?"||t==="#")},$Wt=function(e){return e==="."||C4(e)==="%2e"},GWt=function(e){return e=C4(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},BG={},aPe={},UG={},sPe={},lPe={},VG={},uPe={},cPe={},w4={},S4={},$G={},GG={},HG={},WG={},pPe={},ZG={},z1={},_p={},fPe={},ov={},Gf={},nH=function(e,t,r){var n=Hf(e),i,o,l;if(t){if(o=this.parse(n),o)throw new QG(o);this.searchParams=null}else{if(r!==void 0&&(i=new nH(r,!0)),o=this.parse(n,null,i),o)throw new QG(o);l=EWt(new SWt),l.bindURL(this),this.searchParams=l}};nH.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||BG,o=0,l="",d=!1,g=!1,_=!1,E,T,A,L;for(e=Hf(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=zG(e,zWt,""),e=zG(e,jWt,"$1")),e=zG(e,FWt,""),E=q1(e);o<=E.length;){switch(T=E[o],i){case BG:if(T&&sc(mPe,T))l+=C4(T),i=aPe;else{if(t)return jG;i=UG;continue}break;case aPe:if(T&&(sc(kWt,T)||T==="+"||T==="-"||T==="."))l+=C4(T);else if(T===":"){if(t&&(n.isSpecial()!==XG(x4,l)||l==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=l,t){n.isSpecial()&&x4[n.scheme]===n.port&&(n.port=null);return}l="",n.scheme==="file"?i=WG:n.isSpecial()&&r&&r.scheme===n.scheme?i=sPe:n.isSpecial()?i=cPe:E[o+1]==="/"?(i=lPe,o++):(n.cannotBeABaseURL=!0,j1(n.path,""),i=fPe)}else{if(t)return jG;l="",i=UG,o=0;continue}break;case UG:if(!r||r.cannotBeABaseURL&&T!=="#")return jG;if(r.cannotBeABaseURL&&T==="#"){n.scheme=r.scheme,n.path=ac(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Gf;break}i=r.scheme==="file"?WG:VG;continue;case sPe:if(T==="/"&&E[o+1]==="/")i=w4,o++;else{i=VG;continue}break;case lPe:if(T==="/"){i=S4;break}else{i=_p;continue}case VG:if(n.scheme=r.scheme,T===mu)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ac(r.path),n.query=r.query;else if(T==="/"||T==="\\"&&n.isSpecial())i=uPe;else if(T==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ac(r.path),n.query="",i=ov;else if(T==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ac(r.path),n.query=r.query,n.fragment="",i=Gf;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ac(r.path),n.path.length--,i=_p;continue}break;case uPe:if(n.isSpecial()&&(T==="/"||T==="\\"))i=w4;else if(T==="/")i=S4;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=_p;continue}break;case cPe:if(i=w4,T!=="/"||vu(l,o+1)!=="/")continue;o++;break;case w4:if(T!=="/"&&T!=="\\"){i=S4;continue}break;case S4:if(T==="@"){d&&(l="%40"+l),d=!0,A=q1(l);for(var z=0;z<A.length;z++){var U=A[z];if(U===":"&&!_){_=!0;continue}var N=Kh(U,FG);_?n.password+=N:n.username+=N}l=""}else if(T===mu||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(d&&l==="")return OWt;o-=q1(l).length+1,l="",i=$G}else l+=T;break;case $G:case GG:if(t&&n.scheme==="file"){i=ZG;continue}else if(T===":"&&!g){if(l==="")return iv;if(L=n.parseHost(l),L)return L;if(l="",i=HG,t===GG)return}else if(T===mu||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(n.isSpecial()&&l==="")return iv;if(t&&l===""&&(n.includesCredentials()||n.port!==null))return;if(L=n.parseHost(l),L)return L;if(l="",i=z1,t)return;continue}else T==="["?g=!0:T==="]"&&(g=!1),l+=T;break;case HG:if(sc(JG,T))l+=T;else if(T===mu||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()||t){if(l!==""){var R=M4(l,10);if(R>65535)return iPe;n.port=n.isSpecial()&&R===x4[n.scheme]?null:R,l=""}if(t)return;i=z1;continue}else return iPe;break;case WG:if(n.scheme="file",T==="/"||T==="\\")i=pPe;else if(r&&r.scheme==="file")switch(T){case mu:n.host=r.host,n.path=ac(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=ac(r.path),n.query="",i=ov;break;case"#":n.host=r.host,n.path=ac(r.path),n.query=r.query,n.fragment="",i=Gf;break;default:oPe(zS(ac(E,o),""))||(n.host=r.host,n.path=ac(r.path),n.shortenPath()),i=_p;continue}else{i=_p;continue}break;case pPe:if(T==="/"||T==="\\"){i=ZG;break}r&&r.scheme==="file"&&!oPe(zS(ac(E,o),""))&&(jS(r.path[0],!0)?j1(n.path,r.path[0]):n.host=r.host),i=_p;continue;case ZG:if(T===mu||T==="/"||T==="\\"||T==="?"||T==="#"){if(!t&&jS(l))i=_p;else if(l===""){if(n.host="",t)return;i=z1}else{if(L=n.parseHost(l),L)return L;if(n.host==="localhost"&&(n.host=""),t)return;l="",i=z1}continue}else l+=T;break;case z1:if(n.isSpecial()){if(i=_p,T!=="/"&&T!=="\\")continue}else if(!t&&T==="?")n.query="",i=ov;else if(!t&&T==="#")n.fragment="",i=Gf;else if(T!==mu&&(i=_p,T!=="/"))continue;break;case _p:if(T===mu||T==="/"||T==="\\"&&n.isSpecial()||!t&&(T==="?"||T==="#")){if(GWt(l)?(n.shortenPath(),T!=="/"&&!(T==="\\"&&n.isSpecial())&&j1(n.path,"")):$Wt(l)?T!=="/"&&!(T==="\\"&&n.isSpecial())&&j1(n.path,""):(n.scheme==="file"&&!n.path.length&&jS(l)&&(n.host&&(n.host=""),l=vu(l,0)+":"),j1(n.path,l)),l="",n.scheme==="file"&&(T===mu||T==="?"||T==="#"))for(;n.path.length>1&&n.path[0]==="";)CWt(n.path);T==="?"?(n.query="",i=ov):T==="#"&&(n.fragment="",i=Gf)}else l+=Kh(T,yPe);break;case fPe:T==="?"?(n.query="",i=ov):T==="#"?(n.fragment="",i=Gf):T!==mu&&(n.path[0]+=Kh(T,E4));break;case ov:!t&&T==="#"?(n.fragment="",i=Gf):T!==mu&&(T==="'"&&n.isSpecial()?n.query+="%27":T==="#"?n.query+="%23":n.query+=Kh(T,E4));break;case Gf:T!==mu&&(n.fragment+=Kh(T,vPe));break}o++}},parseHost:function(e){var t,r,n;if(vu(e,0)==="["){if(vu(e,e.length-1)!=="]"||(t=UWt(FS(e,1,-1)),!t))return iv;this.host=t}else if(this.isSpecial()){if(e=_Wt(e),sc(LWt,e)||(t=BWt(e),t===null))return iv;this.host=t}else{if(sc(qWt,e))return iv;for(t="",r=q1(e),n=0;n<r.length;n++)t+=Kh(r[n],E4);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return XG(x4,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!jS(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,l=e.path,d=e.query,g=e.fragment,_=t+":";return i!==null?(_+="//",e.includesCredentials()&&(_+=r+(n?":"+n:"")+"@"),_+=qS(i),o!==null&&(_+=":"+o)):t==="file"&&(_+="//"),_+=e.cannotBeABaseURL?l[0]:l.length?"/"+zS(l,"/"):"",d!==null&&(_+="?"+d),g!==null&&(_+="#"+g),_},setHref:function(e){var t=this.parse(e);if(t)throw new QG(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new F1(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+qS(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Hf(e)+":",BG)},getUsername:function(){return this.username},setUsername:function(e){var t=q1(Hf(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Kh(t[r],FG)}},getPassword:function(){return this.password},setPassword:function(e){var t=q1(Hf(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Kh(t[r],FG)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?qS(e):qS(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,$G)},getHostname:function(){var e=this.host;return e===null?"":qS(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,GG)},getPort:function(){var e=this.port;return e===null?"":Hf(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Hf(e),e===""?this.port=null:this.parse(e,HG))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+zS(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,z1))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Hf(e),e===""?this.query=null:(vu(e,0)==="?"&&(e=FS(e,1)),this.query="",this.parse(e,ov)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Hf(e),e===""){this.fragment=null;return}vu(e,0)==="#"&&(e=FS(e,1)),this.fragment="",this.parse(e,Gf)},update:function(){this.query=this.searchParams.serialize()||null}};var F1=function(t){var r=vWt(this,Ss),n=xWt(arguments.length,1)>1?arguments[1]:void 0,i=wWt(r,new nH(t,!1,n));eH||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Ss=F1.prototype,gu=function(e,t){return{get:function(){return T4(this)[e]()},set:t&&function(r){return T4(this)[t](r)},configurable:!0,enumerable:!0}};eH&&(hu(Ss,"href",gu("serialize","setHref")),hu(Ss,"origin",gu("getOrigin")),hu(Ss,"protocol",gu("getProtocol","setProtocol")),hu(Ss,"username",gu("getUsername","setUsername")),hu(Ss,"password",gu("getPassword","setPassword")),hu(Ss,"host",gu("getHost","setHost")),hu(Ss,"hostname",gu("getHostname","setHostname")),hu(Ss,"port",gu("getPort","setPort")),hu(Ss,"pathname",gu("getPathname","setPathname")),hu(Ss,"search",gu("getSearch","setSearch")),hu(Ss,"searchParams",gu("getSearchParams")),hu(Ss,"hash",gu("getHash","setHash")));I4(Ss,"toJSON",function(){return T4(this).serialize()},{enumerable:!0});I4(Ss,"toString",function(){return T4(this).serialize()},{enumerable:!0});LS&&(YG=LS.createObjectURL,KG=LS.revokeObjectURL,YG&&I4(F1,"createObjectURL",rPe(YG,LS)),KG&&I4(F1,"revokeObjectURL",rPe(KG,LS)));var YG,KG;bWt(F1,"URL");mWt({global:!0,constructor:!0,forced:!gWt,sham:!eH},{URL:F1})});var bPe=P(()=>{"use strict";p();_Pe()});var SPe=P(()=>{"use strict";p();var HWt=oe(),WWt=Nr(),wPe=Ot(),ZWt=Pl(),xPe=Br(),YWt=kS(),iH=WWt("URL"),KWt=YWt&&wPe(function(){iH.canParse()}),XWt=wPe(function(){return iH.canParse.length!==1});HWt({target:"URL",stat:!0,forced:!KWt||XWt},{canParse:function(t){var r=ZWt(arguments.length,1),n=xPe(t),i=r<2||arguments[1]===void 0?void 0:xPe(arguments[1]);try{return!!new iH(n,i)}catch(o){return!1}}})});var IPe=P(()=>{"use strict";p();var QWt=oe(),JWt=Nr(),eZt=Pl(),EPe=Br(),tZt=kS(),rZt=JWt("URL");QWt({target:"URL",stat:!0,forced:!tZt},{parse:function(t){var r=eZt(arguments.length,1),n=EPe(t),i=r<2||arguments[1]===void 0?void 0:EPe(arguments[1]);try{return new rZt(n,i)}catch(o){return null}}})});var TPe=P(()=>{"use strict";p();var nZt=oe(),iZt=Qt();nZt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return iZt(URL.prototype.toString,this)}})});var MPe=P(()=>{"use strict";p();qG()});var OPe=P(()=>{"use strict";p();var oZt=Zn(),A4=xt(),CPe=Br(),aZt=Pl(),PPe=URLSearchParams,P4=PPe.prototype,sZt=A4(P4.append),APe=A4(P4.delete),lZt=A4(P4.forEach),uZt=A4([].push),oH=new PPe("a=1&a=2&b=3");oH.delete("a",1);oH.delete("b",void 0);oH+""!="a=2"&&oZt(P4,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return APe(this,e);var n=[];lZt(this,function(T,A){uZt(n,{key:A,value:T})}),aZt(t,1);for(var i=CPe(e),o=CPe(r),l=0,d=0,g=!1,_=n.length,E;l<_;)E=n[l++],g||E.key===i?(g=!0,APe(this,E.key)):d++;for(;d<_;)E=n[d++],E.key===i&&E.value===o||sZt(this,E.key,E.value)},{enumerable:!0,unsafe:!0})});var RPe=P(()=>{"use strict";p();var cZt=Zn(),DPe=xt(),pZt=Br(),fZt=Pl(),NPe=URLSearchParams,aH=NPe.prototype,dZt=DPe(aH.getAll),hZt=DPe(aH.has),kPe=new NPe("a=1");(kPe.has("a",2)||!kPe.has("a",void 0))&&cZt(aH,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return hZt(this,t);var i=dZt(this,t);fZt(r,1);for(var o=pZt(n),l=0;l<i.length;)if(i[l++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var LPe=P(()=>{"use strict";p();var mZt=br(),gZt=xt(),vZt=xi(),sH=URLSearchParams.prototype,yZt=gZt(sH.forEach);mZt&&!("size"in sH)&&vZt(sH,"size",{get:function(){var t=0;return yZt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var zPe=P((PKr,qPe)=>{"use strict";p();Dle();Fle();Ble();Ule();Vle();$le();Gle();Hle();Wle();Zle();Yle();Kle();Xle();Qle();Jle();Iue();Pue();g9();Kue();b9();ice();lce();cce();dce();hce();gce();yce();I9();T9();Sce();Ece();Mce();Lce();qce();jce();Fce();o2();spe();ppe();fpe();hpe();gpe();Epe();Tpe();Cpe();Ope();kpe();Zpe();Xpe();Qpe();H9();Z9();Y9();rfe();nfe();ife();X9();Rfe();Wfe();Jfe();tde();vz();xz();Ez();jz();Fz();Pde();kde();Rde();Lde();Hde();Wde();Qde();rhe();ihe();che();dhe();vhe();Wz();Qz();nj();oj();sj();uj();mj();vj();yj();i5();xj();Sj();Ij();Tj();t9();Yhe();u5();Nj();vme();bme();wme();Sme();Eme();Mme();Ame();Pme();zj();kme();Nme();Lme();qme();zme();jme();Ume();Gme();Hme();Wme();ige();oge();sge();uge();cge();pge();fge();dge();_ge();Mge();kge();zge();Bge();Hge();Wge();Kge();Qge();eve();tve();sve();lve();uve();fve();dve();hve();gve();iF();oF();_ve();xve();Sve();Ive();Mve();Cve();Ave();Pve();Rve();Lve();qve();Fve();Bve();Vve();Gve();i0e();BF();UF();u0e();HF();WF();f0e();_0e();w0e();S0e();M0e();C0e();A0e();P0e();O0e();k0e();D0e();z0e();F0e();B0e();i1e();uB();f1e();D5();y1e();b1e();S1e();M1e();A1e();vB();bB();wB();EB();TB();AB();OB();a_e();c_e();m_e();DB();b_e();NB();RB();N_e();UB();G_e();H_e();K_e();X_e();nbe();QB();lbe();dbe();gbe();ybe();oU();Ibe();Pbe();Rbe();jbe();Fbe();Bbe();Ube();Vbe();$be();Gbe();Hbe();Wbe();Zbe();Ybe();Kbe();Xbe();Exe();Ixe();Txe();Mxe();Cxe();Axe();Pxe();Oxe();kxe();bU();Rxe();qxe();jxe();Uxe();$xe();Hxe();xU();wU();Kxe();Xxe();Jxe();twe();awe();lwe();cwe();pwe();dwe();mwe();vwe();_we();Iwe();Twe();Cwe();Nwe();Lwe();Bwe();LU();qU();Vwe();jU();Zwe();l3();c2e();p2e();h2e();B2e();U2e();V2e();$2e();G2e();H2e();Z2e();Y2e();X2e();Q2e();tSe();rSe();oSe();aSe();sSe();lSe();mSe();gSe();vSe();ySe();_Se();kSe();qSe();YSe();JSe();tEe();rEe();iEe();oEe();pEe();fEe();hEe();mEe();gEe();vEe();yEe();xEe();wEe();AEe();REe();qEe();zEe();jEe();FEe();BEe();HEe();KEe();QEe();eIe();tIe();iIe();oIe();aIe();sIe();uIe();fIe();mIe();gIe();vIe();yIe();_Ie();bIe();xIe();wIe();SIe();EIe();TIe();MIe();CIe();AIe();PIe();kIe();RIe();WIe();tTe();nTe();oTe();aTe();lTe();uTe();cTe();dTe();hTe();mTe();gTe();_Te();xTe();wTe();ETe();TTe();MTe();PTe();OTe();kTe();NTe();LTe();qTe();UTe();VTe();$Te();HTe();WTe();ZTe();YTe();KTe();XTe();QTe();JTe();nMe();iMe();uMe();cMe();dMe();hMe();mMe();_Me();bMe();xMe();wMe();qMe();zMe();jMe();FMe();BMe();WMe();YMe();XMe();tCe();nCe();oCe();lCe();cCe();fCe();dCe();hCe();mCe();gCe();xCe();wCe();ECe();ICe();MCe();CCe();ACe();PCe();OCe();kCe();DCe();NCe();RCe();qCe();jCe();BCe();UCe();VCe();$Ce();GCe();HCe();WCe();ZCe();JCe();iAe();EAe();IAe();TAe();MAe();CAe();AAe();PAe();OAe();DAe();NAe();BAe();UAe();VAe();$Ae();GAe();HAe();WAe();ZAe();KAe();XAe();JAe();t5e();r5e();n5e();i5e();o5e();a5e();s5e();l5e();u5e();x5e();T5e();C5e();A5e();O5e();k5e();N5e();L5e();z5e();F5e();B5e();G5e();H5e();Y5e();K5e();Q5e();e3e();s3e();f3e();_3e();E3e();L3e();V3e();G3e();e4e();t4e();n4e();h4e();x4e();bPe();SPe();IPe();TPe();MPe();OPe();RPe();LPe();qPe.exports=mA()});var FPe=P((kKr,jPe)=>{"use strict";p();jPe.exports=zPe()});var ike=P((mXr,nke)=>{"use strict";p();var zJt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";nke.exports=zJt});var lke=P((vXr,ske)=>{"use strict";p();var jJt=ike();function oke(){}function ake(){}ake.resetWarningCache=oke;ske.exports=function(){function e(n,i,o,l,d,g){if(g!==jJt){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ake,resetWarningCache:oke};return r.PropTypes=r,r}});var ir=P((xXr,uke)=>{p();uke.exports=lke()();var _Xr,bXr});var tE=P((XH,QH)=>{p();(function(e,t){typeof XH=="object"&&typeof QH!="undefined"?QH.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(XH,function(){"use strict";var e={},t={};function r(i,o,l){if(t[i]=l,i==="index"){var d="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",g={};return t.shared(g),t.index(e,g),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(c,s,u,h){return new(u||(u=Promise))(function(v,S){function I(q){try{O(h.next(q))}catch(F){S(F)}}function C(q){try{O(h.throw(q))}catch(F){S(F)}}function O(q){var F;q.done?v(q.value):(F=q.value,F instanceof u?F:new u(function($){$(F)})).then(I,C)}O((h=h.apply(c,s||[])).next())})}function l(c,s){this.x=c,this.y=s}function d(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var g,_;typeof SuppressedError=="function"&&SuppressedError,l.prototype={clone(){return new l(this.x,this.y)},add(c){return this.clone()._add(c)},sub(c){return this.clone()._sub(c)},multByPoint(c){return this.clone()._multByPoint(c)},divByPoint(c){return this.clone()._divByPoint(c)},mult(c){return this.clone()._mult(c)},div(c){return this.clone()._div(c)},rotate(c){return this.clone()._rotate(c)},rotateAround(c,s){return this.clone()._rotateAround(c,s)},matMult(c){return this.clone()._matMult(c)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(c){return this.x===c.x&&this.y===c.y},dist(c){return Math.sqrt(this.distSqr(c))},distSqr(c){let s=c.x-this.x,u=c.y-this.y;return s*s+u*u},angle(){return Math.atan2(this.y,this.x)},angleTo(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith(c){return this.angleWithSep(c.x,c.y)},angleWithSep(c,s){return Math.atan2(this.x*s-this.y*c,this.x*c+this.y*s)},_matMult(c){let s=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=s,this},_add(c){return this.x+=c.x,this.y+=c.y,this},_sub(c){return this.x-=c.x,this.y-=c.y,this},_mult(c){return this.x*=c,this.y*=c,this},_div(c){return this.x/=c,this.y/=c,this},_multByPoint(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint(c){return this.x/=c.x,this.y/=c.y,this},_unit(){return this._div(this.mag()),this},_perp(){let c=this.y;return this.y=this.x,this.x=-c,this},_rotate(c){let s=Math.cos(c),u=Math.sin(c),h=u*this.x+s*this.y;return this.x=s*this.x-u*this.y,this.y=h,this},_rotateAround(c,s){let u=Math.cos(c),h=Math.sin(c),v=s.y+h*(this.x-s.x)+u*(this.y-s.y);return this.x=s.x+u*(this.x-s.x)-h*(this.y-s.y),this.y=v,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:l},l.convert=function(c){if(c instanceof l)return c;if(Array.isArray(c))return new l(+c[0],+c[1]);if(c.x!==void 0&&c.y!==void 0)return new l(+c.x,+c.y);throw new Error("Expected [x, y] or {x, y} point format")};var E=function(){if(_)return g;function c(s,u,h,v){this.cx=3*s,this.bx=3*(h-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(v-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=u,this.p2x=h,this.p2y=v}return _=1,g=c,c.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,u){if(u===void 0&&(u=1e-6),s<0)return 0;if(s>1)return 1;for(var h=s,v=0;v<8;v++){var S=this.sampleCurveX(h)-s;if(Math.abs(S)<u)return h;var I=this.sampleCurveDerivativeX(h);if(Math.abs(I)<1e-6)break;h-=S/I}var C=0,O=1;for(h=s,v=0;v<20&&(S=this.sampleCurveX(h),!(Math.abs(S-s)<u));v++)s>S?C=h:O=h,h=.5*(O-C)+C;return h},solve:function(s,u){return this.sampleCurveY(this.solveCurveX(s,u))}},g}(),T=d(E);let A,L;function z(){return A==null&&(A=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),A}function U(){if(L==null&&(L=!1,z())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let h=0;h<5*5;h++){let v=4*h;s.fillStyle=`rgb(${v},${v+1},${v+2})`,s.fillRect(h%5,Math.floor(h/5),1,1)}let u=s.getImageData(0,0,5,5).data;for(let h=0;h<5*5*4;h++)if(h%4!=3&&u[h]!==h){L=!0;break}}}return L||!1}var N=1e-6,R=typeof Float32Array!="undefined"?Float32Array:Array;function j(){var c=new R(9);return R!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function H(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Y(){var c=new R(3);return R!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function re(c){var s=c[0],u=c[1],h=c[2];return Math.sqrt(s*s+u*u+h*h)}function ie(c,s,u){var h=new R(3);return h[0]=c,h[1]=s,h[2]=u,h}function le(c,s,u){return c[0]=s[0]+u[0],c[1]=s[1]+u[1],c[2]=s[2]+u[2],c}function Me(c,s,u){return c[0]=s[0]*u,c[1]=s[1]*u,c[2]=s[2]*u,c}function we(c,s,u){var h=s[0],v=s[1],S=s[2],I=u[0],C=u[1],O=u[2];return c[0]=v*O-S*C,c[1]=S*I-h*O,c[2]=h*C-v*I,c}var ye,xe=re;function Ie(c,s,u){var h=s[0],v=s[1],S=s[2],I=s[3];return c[0]=u[0]*h+u[4]*v+u[8]*S+u[12]*I,c[1]=u[1]*h+u[5]*v+u[9]*S+u[13]*I,c[2]=u[2]*h+u[6]*v+u[10]*S+u[14]*I,c[3]=u[3]*h+u[7]*v+u[11]*S+u[15]*I,c}function de(){var c=new R(4);return R!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function Pe(c,s,u,h){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",S=Math.PI/360;s*=S,h*=S,u*=S;var I=Math.sin(s),C=Math.cos(s),O=Math.sin(u),q=Math.cos(u),F=Math.sin(h),$=Math.cos(h);switch(v){case"xyz":c[0]=I*q*$+C*O*F,c[1]=C*O*$-I*q*F,c[2]=C*q*F+I*O*$,c[3]=C*q*$-I*O*F;break;case"xzy":c[0]=I*q*$-C*O*F,c[1]=C*O*$-I*q*F,c[2]=C*q*F+I*O*$,c[3]=C*q*$+I*O*F;break;case"yxz":c[0]=I*q*$+C*O*F,c[1]=C*O*$-I*q*F,c[2]=C*q*F-I*O*$,c[3]=C*q*$+I*O*F;break;case"yzx":c[0]=I*q*$+C*O*F,c[1]=C*O*$+I*q*F,c[2]=C*q*F-I*O*$,c[3]=C*q*$-I*O*F;break;case"zxy":c[0]=I*q*$-C*O*F,c[1]=C*O*$+I*q*F,c[2]=C*q*F+I*O*$,c[3]=C*q*$-I*O*F;break;case"zyx":c[0]=I*q*$-C*O*F,c[1]=C*O*$+I*q*F,c[2]=C*q*F-I*O*$,c[3]=C*q*$+I*O*F;break;default:throw new Error("Unknown angle order "+v)}return c}function Ke(){var c=new R(2);return R!=Float32Array&&(c[0]=0,c[1]=0),c}function at(c,s){var u=new R(2);return u[0]=c,u[1]=s,u}Y(),ye=new R(4),R!=Float32Array&&(ye[0]=0,ye[1]=0,ye[2]=0,ye[3]=0),Y(),ie(1,0,0),ie(0,1,0),de(),de(),j(),Ke();let dt=8192;function ze(c,s,u){return s*(dt/(c.tileSize*Math.pow(2,u-c.tileID.overscaledZ)))}function ct(c,s){return(c%s+s)%s}function _t(c,s,u){return c*(1-u)+s*u}function It(c){if(c<=0)return 0;if(c>=1)return 1;let s=c*c,u=s*c;return 4*(c<.5?u:3*(c-s)+u-.75)}function Ye(c,s,u,h){let v=new T(c,s,u,h);return S=>v.solve(S)}let pt=Ye(.25,.1,.25,1);function ot(c,s,u){return Math.min(u,Math.max(s,c))}function Ve(c,s,u){let h=u-s,v=((c-s)%h+h)%h+s;return v===s?u:v}function Oe(c,...s){for(let u of s)for(let h in u)c[h]=u[h];return c}let He=1;function Fe(c,s,u){let h={};for(let v in c)h[v]=s.call(this,c[v],v,c);return h}function lt(c,s,u){let h={};for(let v in c)s.call(this,c[v],v,c)&&(h[v]=c[v]);return h}function st(c){return Array.isArray(c)?c.map(st):typeof c=="object"&&c?Fe(c,st):c}let yt={};function vt(c){yt[c]||(typeof console!="undefined"&&console.warn(c),yt[c]=!0)}function At(c,s,u){return(u.y-c.y)*(s.x-c.x)>(s.y-c.y)*(u.x-c.x)}function Zt(c){return typeof WorkerGlobalScope!="undefined"&&c!==void 0&&c instanceof WorkerGlobalScope}let Tt=null;function Rt(c){return typeof ImageBitmap!="undefined"&&c instanceof ImageBitmap}let tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Sr(c,s,u,h,v){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let S=new VideoFrame(c,{timestamp:0});try{let I=S==null?void 0:S.format;if(!I||!I.startsWith("BGR")&&!I.startsWith("RGB"))throw new Error(`Unrecognized format ${I}`);let C=I.startsWith("BGR"),O=new Uint8ClampedArray(h*v*4);if(yield S.copyTo(O,function(q,F,$,Z,Q){let J=4*Math.max(-F,0),ne=(Math.max(0,$)-$)*Z*4+J,ue=4*Z,_e=Math.max(0,F),$e=Math.max(0,$);return{rect:{x:_e,y:$e,width:Math.min(q.width,F+Z)-_e,height:Math.min(q.height,$+Q)-$e},layout:[{offset:ne,stride:ue}]}}(c,s,u,h,v)),C)for(let q=0;q<O.length;q+=4){let F=O[q];O[q]=O[q+2],O[q+2]=F}return O}finally{S.close()}})}let kr,pr;function Er(c,s,u,h){return c.addEventListener(s,u,h),{unsubscribe:()=>{c.removeEventListener(s,u,h)}}}function Ae(c){return c*Math.PI/180}function We(c){return c/Math.PI*180}let Ze={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Ct={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},zt="AbortError";function me(){return new Error(zt)}let X={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ee(c){return X.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}let ae="global-dispatcher";class ge extends Error{constructor(s,u,h,v){super(`AJAXError: ${u} (${s}): ${h}`),this.status=s,this.statusText=u,this.url=h,this.body=v}}let Ne=()=>Zt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Be=function(c,s){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){let h=ee(c.url);if(h)return h(c,s);if(Zt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:ae},s)}if(!(/^file:/.test(u=c.url)||/^file:/.test(Ne())&&!/^\w+:/.test(u))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(h,v){return o(this,void 0,void 0,function*(){let S=new Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,cache:h.cache,referrer:Ne(),signal:v.signal}),I,C;h.type!=="json"||S.headers.has("Accept")||S.headers.set("Accept","application/json");try{I=yield fetch(S)}catch(q){throw new ge(0,q.message,h.url,new Blob())}if(!I.ok){let q=yield I.blob();throw new ge(I.status,I.statusText,h.url,q)}C=h.type==="arrayBuffer"||h.type==="image"?I.arrayBuffer():h.type==="json"?I.json():I.text();let O=yield C;if(v.signal.aborted)throw me();return{data:O,cacheControl:I.headers.get("Cache-Control"),expires:I.headers.get("Expires")}})}(c,s);if(Zt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:ae},s)}var u;return function(h,v){return new Promise((S,I)=>{var C;let O=new XMLHttpRequest;O.open(h.method||"GET",h.url,!0),h.type!=="arrayBuffer"&&h.type!=="image"||(O.responseType="arraybuffer");for(let q in h.headers)O.setRequestHeader(q,h.headers[q]);h.type==="json"&&(O.responseType="text",!((C=h.headers)===null||C===void 0)&&C.Accept||O.setRequestHeader("Accept","application/json")),O.withCredentials=h.credentials==="include",O.onerror=()=>{I(new Error(O.statusText))},O.onload=()=>{if(!v.signal.aborted)if((O.status>=200&&O.status<300||O.status===0)&&O.response!==null){let q=O.response;if(h.type==="json")try{q=JSON.parse(O.response)}catch(F){return void I(F)}S({data:q,cacheControl:O.getResponseHeader("Cache-Control"),expires:O.getResponseHeader("Expires")})}else{let q=new Blob([O.response],{type:O.getResponseHeader("Content-Type")});I(new ge(O.status,O.statusText,h.url,q))}},v.signal.addEventListener("abort",()=>{O.abort(),I(me())}),O.send(h.body)})}(c,s)};function Xe(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;let s=new URL(c),u=window.location;return s.protocol===u.protocol&&s.host===u.host}function Ue(c,s,u){u[c]&&u[c].indexOf(s)!==-1||(u[c]=u[c]||[],u[c].push(s))}function he(c,s,u){if(u&&u[c]){let h=u[c].indexOf(s);h!==-1&&u[c].splice(h,1)}}class ve{constructor(s,u={}){Oe(this,u),this.type=s}}class qe extends ve{constructor(s,u={}){super("error",Oe({error:s},u))}}class ft{on(s,u){return this._listeners=this._listeners||{},Ue(s,u,this._listeners),{unsubscribe:()=>{this.off(s,u)}}}off(s,u){return he(s,u,this._listeners),he(s,u,this._oneTimeListeners),this}once(s,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},Ue(s,u,this._oneTimeListeners),this):new Promise(h=>this.once(s,h))}fire(s,u){typeof s=="string"&&(s=new ve(s,u||{}));let h=s.type;if(this.listens(h)){s.target=this;let v=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(let C of v)C.call(this,s);let S=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(let C of S)he(h,C,this._oneTimeListeners),C.call(this,s);let I=this._eventedParent;I&&(Oe(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),I.fire(s))}else s instanceof qe&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,u){return this._eventedParent=s,this._eventedParentData=u,this}}var Se={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let wt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Gt(c,s){let u={};for(let h in c)h!=="ref"&&(u[h]=c[h]);return wt.forEach(h=>{h in s&&(u[h]=s[h])}),u}function Et(c,s){if(Array.isArray(c)){if(!Array.isArray(s)||c.length!==s.length)return!1;for(let u=0;u<c.length;u++)if(!Et(c[u],s[u]))return!1;return!0}if(typeof c=="object"&&c!==null&&s!==null){if(typeof s!="object"||Object.keys(c).length!==Object.keys(s).length)return!1;for(let u in c)if(!Et(c[u],s[u]))return!1;return!0}return c===s}function Lt(c,s){c.push(s)}function ur(c,s,u){Lt(u,{command:"addSource",args:[c,s[c]]})}function Wr(c,s,u){Lt(s,{command:"removeSource",args:[c]}),u[c]=!0}function In(c,s,u,h){Wr(c,u,h),ur(c,s,u)}function un(c,s,u){let h;for(h in c[u])if(Object.prototype.hasOwnProperty.call(c[u],h)&&h!=="data"&&!Et(c[u][h],s[u][h]))return!1;for(h in s[u])if(Object.prototype.hasOwnProperty.call(s[u],h)&&h!=="data"&&!Et(c[u][h],s[u][h]))return!1;return!0}function Pr(c,s,u,h,v,S){c=c||{},s=s||{};for(let I in c)Object.prototype.hasOwnProperty.call(c,I)&&(Et(c[I],s[I])||u.push({command:S,args:[h,I,s[I],v]}));for(let I in s)Object.prototype.hasOwnProperty.call(s,I)&&!Object.prototype.hasOwnProperty.call(c,I)&&(Et(c[I],s[I])||u.push({command:S,args:[h,I,s[I],v]}))}function qr(c){return c.id}function ei(c,s){return c[s.id]=s,c}class Mt{constructor(s,u,h,v){this.message=(s?`${s}: `:"")+h,v&&(this.identifier=v),u!=null&&u.__line__&&(this.line=u.__line__)}}function Oi(c,...s){for(let u of s)for(let h in u)c[h]=u[h];return c}class $n extends Error{constructor(s,u){super(u),this.message=u,this.key=s}}class zc{constructor(s,u=[]){this.parent=s,this.bindings={};for(let[h,v]of u)this.bindings[h]=v}concat(s){return new zc(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let xd={kind:"null"},Ht={kind:"number"},on={kind:"string"},Zr={kind:"boolean"},Oo={kind:"color"},Qp={kind:"projectionDefinition"},jc={kind:"object"},$r={kind:"value"},Kv={kind:"collator"},Fc={kind:"formatted"},Xv={kind:"padding"},Hl={kind:"colorArray"},wd={kind:"numberArray"},ki={kind:"resolvedImage"},Qv={kind:"variableAnchorOffsetCollection"};function ja(c,s){return{kind:"array",itemType:c,N:s}}function Yn(c){if(c.kind==="array"){let s=Yn(c.itemType);return typeof c.N=="number"?`array<${s}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${s}>`}return c.kind}let MT=[xd,Ht,on,Zr,Oo,Qp,Fc,jc,ja($r),Xv,wd,Hl,ki,Qv];function Dm(c,s){if(s.kind==="error")return null;if(c.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!Dm(c.itemType,s.itemType))&&(typeof c.N!="number"||c.N===s.N))return null}else{if(c.kind===s.kind)return null;if(c.kind==="value"){for(let u of MT)if(!Dm(u,s))return null}}return`Expected ${Yn(c)} but found ${Yn(s)} instead.`}function Ib(c,s){return s.some(u=>u.kind===c.kind)}function Bc(c,s){return s.some(u=>u==="null"?c===null:u==="array"?Array.isArray(c):u==="object"?c&&!Array.isArray(c)&&typeof c=="object":u===typeof c)}function Uc(c,s){return c.kind==="array"&&s.kind==="array"?c.itemType.kind===s.itemType.kind&&typeof c.N=="number":c.kind===s.kind}let Tb=.96422,CT=.82521,AT=4/29,Sd=6/29,PT=3*Sd*Sd,_L=Sd*Sd*Sd,bL=Math.PI/180,xL=180/Math.PI;function Mb(c){return(c%=360)<0&&(c+=360),c}function Ed([c,s,u,h]){let v,S,I=Ab((.2225045*(c=Cb(c))+.7168786*(s=Cb(s))+.0606169*(u=Cb(u)))/1);c===s&&s===u?v=S=I:(v=Ab((.4360747*c+.3850649*s+.1430804*u)/Tb),S=Ab((.0139322*c+.0971045*s+.7141733*u)/CT));let C=116*I-16;return[C<0?0:C,500*(v-I),200*(I-S),h]}function Cb(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Ab(c){return c>_L?Math.pow(c,1/3):c/PT+AT}function Id([c,s,u,h]){let v=(c+16)/116,S=isNaN(s)?v:v+s/500,I=isNaN(u)?v:v-u/200;return v=1*Ob(v),S=Tb*Ob(S),I=CT*Ob(I),[Pb(3.1338561*S-1.6168667*v-.4906146*I),Pb(-.9787684*S+1.9161415*v+.033454*I),Pb(.0719453*S-.2289914*v+1.4052427*I),h]}function Pb(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Ob(c){return c>Sd?c*c*c:PT*(c-AT)}let wL=Object.hasOwn||function(c,s){return Object.prototype.hasOwnProperty.call(c,s)};function Td(c,s){return wL(c,s)?c[s]:void 0}function Nm(c){return parseInt(c.padEnd(2,c),16)/255}function fl(c,s){return an(s?c/100:c,0,1)}function an(c,s,u){return Math.min(Math.max(s,c),u)}function Jp(c){return!c.some(Number.isNaN)}let Vc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Lu(c,s,u){return c+u*(s-c)}function ef(c,s,u){return c.map((h,v)=>Lu(h,s[v],u))}class sn{constructor(s,u,h,v=1,S=!0){this.r=s,this.g=u,this.b=h,this.a=v,S||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[s,u,h,v]))}static parse(s){if(s instanceof sn)return s;if(typeof s!="string")return;let u=function(h){if((h=h.toLowerCase().trim())==="transparent")return[0,0,0,0];let v=Td(Vc,h);if(v){let[I,C,O]=v;return[I/255,C/255,O/255,1]}if(h.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(h)){let I=h.length<6?1:2,C=1;return[Nm(h.slice(C,C+=I)),Nm(h.slice(C,C+=I)),Nm(h.slice(C,C+=I)),Nm(h.slice(C,C+I)||"ff")]}if(h.startsWith("rgb")){let I=h.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){let[C,O,q,F,$,Z,Q,J,ne,ue,_e,$e]=I,ke=[F||" ",Q||" ",ue].join("");if(ke==="  "||ke==="  /"||ke===",,"||ke===",,,"){let Re=[q,Z,ne].join(""),et=Re==="%%%"?100:Re===""?255:0;if(et){let ut=[an(+O/et,0,1),an(+$/et,0,1),an(+J/et,0,1),_e?fl(+_e,$e):1];if(Jp(ut))return ut}}return}}let S=h.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[I,C,O,q,F,$,Z,Q,J]=S,ne=[O||" ",F||" ",Z].join("");if(ne==="  "||ne==="  /"||ne===",,"||ne===",,,"){let ue=[+C,an(+q,0,100),an(+$,0,100),Q?fl(+Q,J):1];if(Jp(ue))return function([_e,$e,ke,Re]){function et(ut){let St=(ut+_e/30)%12,$t=$e*Math.min(ke,1-ke);return ke-$t*Math.max(-1,Math.min(St-3,9-St,1))}return _e=Mb(_e),$e/=100,ke/=100,[et(0),et(8),et(4),Re]}(ue)}}}(s);return u?new sn(...u,!1):void 0}get rgb(){let{r:s,g:u,b:h,a:v}=this,S=v||1/0;return this.overwriteGetter("rgb",[s/S,u/S,h/S,v])}get hcl(){return this.overwriteGetter("hcl",function(s){let[u,h,v,S]=Ed(s),I=Math.sqrt(h*h+v*v);return[Math.round(1e4*I)?Mb(Math.atan2(v,h)*xL):NaN,I,u,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Ed(this.rgb))}overwriteGetter(s,u){return Object.defineProperty(this,s,{value:u}),u}toString(){let[s,u,h,v]=this.rgb;return`rgba(${[s,u,h].map(S=>Math.round(255*S)).join(",")},${v})`}static interpolate(s,u,h,v="rgb"){switch(v){case"rgb":{let[S,I,C,O]=ef(s.rgb,u.rgb,h);return new sn(S,I,C,O,!1)}case"hcl":{let[S,I,C,O]=s.hcl,[q,F,$,Z]=u.hcl,Q,J;if(isNaN(S)||isNaN(q))isNaN(S)?isNaN(q)?Q=NaN:(Q=q,C!==1&&C!==0||(J=F)):(Q=S,$!==1&&$!==0||(J=I));else{let ke=q-S;q>S&&ke>180?ke-=360:q<S&&S-q>180&&(ke+=360),Q=S+h*ke}let[ne,ue,_e,$e]=function([ke,Re,et,ut]){return ke=isNaN(ke)?0:ke*bL,Id([et,Math.cos(ke)*Re,Math.sin(ke)*Re,ut])}([Q,J!=null?J:Lu(I,F,h),Lu(C,$,h),Lu(O,Z,h)]);return new sn(ne,ue,_e,$e,!1)}case"lab":{let[S,I,C,O]=Id(ef(s.lab,u.lab,h));return new sn(S,I,C,O,!1)}}}}sn.black=new sn(0,0,0,1),sn.white=new sn(1,1,1,1),sn.transparent=new sn(0,0,0,0),sn.red=new sn(1,0,0,1);class tf{constructor(s,u,h){this.sensitivity=s?u?"variant":"case":u?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,u){return this.collator.compare(s,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let Jv=["bottom","center","top"];class ey{constructor(s,u,h,v,S,I){this.text=s,this.image=u,this.scale=h,this.fontStack=v,this.textColor=S,this.verticalAlign=I}}class oa{constructor(s){this.sections=s}static fromString(s){return new oa([new ey(s,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof oa?s:oa.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class mo{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof mo)return s;if(typeof s=="number")return new mo([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let u of s)if(typeof u!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]]}return new mo(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,u,h){return new mo(ef(s.values,u.values,h))}}class aa{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof aa)return s;if(typeof s=="number")return new aa([s]);if(Array.isArray(s)){for(let u of s)if(typeof u!="number")return;return new aa(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,u,h){return new aa(ef(s.values,u.values,h))}}class Vi{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Vi)return s;if(typeof s=="string"){let h=sn.parse(s);return h?new Vi([h]):void 0}if(!Array.isArray(s))return;let u=[];for(let h of s){if(typeof h!="string")return;let v=sn.parse(h);if(!v)return;u.push(v)}return new Vi(u)}toString(){return JSON.stringify(this.values)}static interpolate(s,u,h,v="rgb"){let S=[];if(s.values.length!=u.values.length)throw new Error(`colorArray: Arrays have mismatched length (${s.values.length} vs. ${u.values.length}), cannot interpolate.`);for(let I=0;I<s.values.length;I++)S.push(sn.interpolate(s.values[I],u.values[I],h,v));return new Vi(S)}}class Kn extends Error{constructor(s){super(s),this.name="RuntimeError"}toJSON(){return this.message}}let OT=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class sa{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof sa)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let u=0;u<s.length;u+=2){let h=s[u],v=s[u+1];if(typeof h!="string"||!OT.has(h)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new sa(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,u,h){let v=s.values,S=u.values;if(v.length!==S.length)throw new Kn(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${u.toString()}`);let I=[];for(let C=0;C<v.length;C+=2){if(v[C]!==S[C])throw new Kn(`Cannot interpolate values containing mismatched anchors. from[${C}]: ${v[C]}, to[${C}]: ${S[C]}`);I.push(v[C]);let[O,q]=v[C+1],[F,$]=S[C+1];I.push([Lu(O,F,h),Lu(q,$,h)])}return new sa(I)}}class ps{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new ps({name:s,available:!1}):null}}class $o{constructor(s,u,h){this.from=s,this.to=u,this.transition=h}static interpolate(s,u,h){return new $o(s,u,h)}static parse(s){return s instanceof $o?s:Array.isArray(s)&&s.length===3&&typeof s[0]=="string"&&typeof s[1]=="string"&&typeof s[2]=="number"?new $o(s[0],s[1],s[2]):typeof s=="object"&&typeof s.from=="string"&&typeof s.to=="string"&&typeof s.transition=="number"?new $o(s.from,s.to,s.transition):typeof s=="string"?new $o(s,s,1):void 0}}function li(c,s,u,h){return typeof c=="number"&&c>=0&&c<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof u=="number"&&u>=0&&u<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[c,s,u,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[c,s,u,h]:[c,s,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function rf(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof $o||c instanceof sn||c instanceof tf||c instanceof oa||c instanceof mo||c instanceof aa||c instanceof Vi||c instanceof sa||c instanceof ps)return!0;if(Array.isArray(c)){for(let s of c)if(!rf(s))return!1;return!0}if(typeof c=="object"){for(let s in c)if(!rf(c[s]))return!1;return!0}return!1}function Tr(c){if(c===null)return xd;if(typeof c=="string")return on;if(typeof c=="boolean")return Zr;if(typeof c=="number")return Ht;if(c instanceof sn)return Oo;if(c instanceof $o)return Qp;if(c instanceof tf)return Kv;if(c instanceof oa)return Fc;if(c instanceof mo)return Xv;if(c instanceof aa)return wd;if(c instanceof Vi)return Hl;if(c instanceof sa)return Qv;if(c instanceof ps)return ki;if(Array.isArray(c)){let s=c.length,u;for(let h of c){let v=Tr(h);if(u){if(u===v)continue;u=$r;break}u=v}return ja(u||$r,s)}return jc}function Fr(c){let s=typeof c;return c===null?"":s==="string"||s==="number"||s==="boolean"?String(c):c instanceof sn||c instanceof $o||c instanceof oa||c instanceof mo||c instanceof aa||c instanceof Vi||c instanceof sa||c instanceof ps?c.toString():JSON.stringify(c)}class qu{constructor(s,u){this.type=s,this.value=u}static parse(s,u){if(s.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!rf(s[1]))return u.error("invalid value");let h=s[1],v=Tr(h),S=u.expectedType;return v.kind!=="array"||v.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(v=S),new qu(v,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let vn={string:on,number:Ht,boolean:Zr,object:jc};class fs{constructor(s,u){this.type=s,this.args=u}static parse(s,u){if(s.length<2)return u.error("Expected at least one argument.");let h,v=1,S=s[0];if(S==="array"){let C,O;if(s.length>2){let q=s[1];if(typeof q!="string"||!(q in vn)||q==="object")return u.error("The item type argument of \"array\" must be one of string, number, boolean",1);C=vn[q],v++}else C=$r;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return u.error("The length argument to \"array\" must be a positive integer literal",2);O=s[2],v++}h=ja(C,O)}else{if(!vn[S])throw new Error(`Types doesn't contain name = ${S}`);h=vn[S]}let I=[];for(;v<s.length;v++){let C=u.parse(s[v],v,$r);if(!C)return null;I.push(C)}return new fs(h,I)}evaluate(s){for(let u=0;u<this.args.length;u++){let h=this.args[u].evaluate(s);if(!Dm(this.type,Tr(h)))return h;if(u===this.args.length-1)throw new Kn(`Expected value to be of type ${Yn(this.type)}, but found ${Yn(Tr(h))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let Wl={"to-boolean":Zr,"to-color":Oo,"to-number":Ht,"to-string":on};class Zl{constructor(s,u){this.type=s,this.args=u}static parse(s,u){if(s.length<2)return u.error("Expected at least one argument.");let h=s[0];if(!Wl[h])throw new Error(`Can't parse ${h} as it is not part of the known types`);if((h==="to-boolean"||h==="to-string")&&s.length!==2)return u.error("Expected one argument.");let v=Wl[h],S=[];for(let I=1;I<s.length;I++){let C=u.parse(s[I],I,$r);if(!C)return null;S.push(C)}return new Zl(v,S)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let u,h;for(let v of this.args){if(u=v.evaluate(s),h=null,u instanceof sn)return u;if(typeof u=="string"){let S=s.parseColor(u);if(S)return S}else if(Array.isArray(u)&&(h=u.length<3||u.length>4?`Invalid rgba value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:li(u[0],u[1],u[2],u[3]),!h))return new sn(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Kn(h||`Could not parse color from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"padding":{let u;for(let h of this.args){u=h.evaluate(s);let v=mo.parse(u);if(v)return v}throw new Kn(`Could not parse padding from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"numberArray":{let u;for(let h of this.args){u=h.evaluate(s);let v=aa.parse(u);if(v)return v}throw new Kn(`Could not parse numberArray from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"colorArray":{let u;for(let h of this.args){u=h.evaluate(s);let v=Vi.parse(u);if(v)return v}throw new Kn(`Could not parse colorArray from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"variableAnchorOffsetCollection":{let u;for(let h of this.args){u=h.evaluate(s);let v=sa.parse(u);if(v)return v}throw new Kn(`Could not parse variableAnchorOffsetCollection from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"number":{let u=null;for(let h of this.args){if(u=h.evaluate(s),u===null)return 0;let v=Number(u);if(!isNaN(v))return v}throw new Kn(`Could not convert ${JSON.stringify(u)} to number.`)}case"formatted":return oa.fromString(Fr(this.args[0].evaluate(s)));case"resolvedImage":return ps.fromString(Fr(this.args[0].evaluate(s)));case"projectionDefinition":return this.args[0].evaluate(s);default:return Fr(this.args[0].evaluate(s))}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let ty=["Unknown","Point","LineString","Polygon"];class kb{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ty[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let u=this._parseColorCache.get(s);return u||(u=sn.parse(s),this._parseColorCache.set(s,u)),u}}class Md{constructor(s,u,h=[],v,S=new zc,I=[]){this.registry=s,this.path=h,this.key=h.map(C=>`[${C}]`).join(""),this.scope=S,this.errors=I,this.expectedType=v,this._isConstant=u}parse(s,u,h,v,S={}){return u?this.concat(u,h,v)._parse(s,S):this._parse(s,S)}_parse(s,u){function h(v,S,I){return I==="assert"?new fs(S,[v]):I==="coerce"?new Zl(S,[v]):v}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let v=s[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let S=this.registry[v];if(S){let I=S.parse(s,this);if(!I)return null;if(this.expectedType){let C=this.expectedType,O=I.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||O.kind!=="value"){if(C.kind==="projectionDefinition"&&["string","array"].includes(O.kind)||["color","formatted","resolvedImage"].includes(C.kind)&&["value","string"].includes(O.kind)||["padding","numberArray"].includes(C.kind)&&["value","number","array"].includes(O.kind)||C.kind==="colorArray"&&["value","string","array"].includes(O.kind)||C.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(O.kind))I=h(I,C,u.typeAnnotation||"coerce");else if(this.checkSubtype(C,O))return null}else I=h(I,C,u.typeAnnotation||"assert")}if(!(I instanceof qu)&&I.type.kind!=="resolvedImage"&&this._isConstant(I)){let C=new kb;try{I=new qu(I.type,I.evaluate(C))}catch(O){return this.error(O.message),null}}return I}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,u,h){let v=typeof s=="number"?this.path.concat(s):this.path,S=h?this.scope.concat(h):this.scope;return new Md(this.registry,this._isConstant,v,u||null,S,this.errors)}error(s,...u){let h=`${this.key}${u.map(v=>`[${v}]`).join("")}`;this.errors.push(new $n(h,s))}checkSubtype(s,u){let h=Dm(s,u);return h&&this.error(h),h}}class Rm{constructor(s,u){this.type=u.type,this.bindings=[].concat(s),this.result=u}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let u of this.bindings)s(u[1]);s(this.result)}static parse(s,u){if(s.length<4)return u.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let h=[];for(let S=1;S<s.length-1;S+=2){let I=s[S];if(typeof I!="string")return u.error(`Expected string, but found ${typeof I} instead.`,S);if(/[^a-zA-Z0-9_]/.test(I))return u.error("Variable names must contain only alphanumeric characters or '_'.",S);let C=u.parse(s[S+1],S+1);if(!C)return null;h.push([I,C])}let v=u.parse(s[s.length-1],s.length-1,u.expectedType,h);return v?new Rm(h,v):null}outputDefined(){return this.result.outputDefined()}}class ry{constructor(s,u){this.type=u.type,this.name=s,this.boundExpression=u}static parse(s,u){if(s.length!==2||typeof s[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");let h=s[1];return u.scope.has(h)?new ry(h,u.scope.get(h)):u.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class ny{constructor(s,u,h){this.type=s,this.index=u,this.input=h}static parse(s,u){if(s.length!==3)return u.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let h=u.parse(s[1],1,Ht),v=u.parse(s[2],2,ja(u.expectedType||$r));return h&&v?new ny(v.type.itemType,h,v):null}evaluate(s){let u=this.index.evaluate(s),h=this.input.evaluate(s);if(u<0)throw new Kn(`Array index out of bounds: ${u} < 0.`);if(u>=h.length)throw new Kn(`Array index out of bounds: ${u} > ${h.length-1}.`);if(u!==Math.floor(u))throw new Kn(`Array index must be an integer, but found ${u} instead.`);return h[u]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class iy{constructor(s,u){this.type=Zr,this.needle=s,this.haystack=u}static parse(s,u){if(s.length!==3)return u.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let h=u.parse(s[1],1,$r),v=u.parse(s[2],2,$r);return h&&v?Ib(h.type,[Zr,on,Ht,xd,$r])?new iy(h,v):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yn(h.type)} instead`):null}evaluate(s){let u=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(!h)return!1;if(!Bc(u,["boolean","string","number","null"]))throw new Kn(`Expected first argument to be of type boolean, string, number or null, but found ${Yn(Tr(u))} instead.`);if(!Bc(h,["string","array"]))throw new Kn(`Expected second argument to be of type array or string, but found ${Yn(Tr(h))} instead.`);return h.indexOf(u)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class dl{constructor(s,u,h){this.type=Ht,this.needle=s,this.haystack=u,this.fromIndex=h}static parse(s,u){if(s.length<=2||s.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let h=u.parse(s[1],1,$r),v=u.parse(s[2],2,$r);if(!h||!v)return null;if(!Ib(h.type,[Zr,on,Ht,xd,$r]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yn(h.type)} instead`);if(s.length===4){let S=u.parse(s[3],3,Ht);return S?new dl(h,v,S):null}return new dl(h,v)}evaluate(s){let u=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(!Bc(u,["boolean","string","number","null"]))throw new Kn(`Expected first argument to be of type boolean, string, number or null, but found ${Yn(Tr(u))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(s)),Bc(h,["string"])){let S=h.indexOf(u,v);return S===-1?-1:[...h.slice(0,S)].length}if(Bc(h,["array"]))return h.indexOf(u,v);throw new Kn(`Expected second argument to be of type array or string, but found ${Yn(Tr(h))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class go{constructor(s,u,h,v,S,I){this.inputType=s,this.type=u,this.input=h,this.cases=v,this.outputs=S,this.otherwise=I}static parse(s,u){if(s.length<5)return u.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return u.error("Expected an even number of arguments.");let h,v;u.expectedType&&u.expectedType.kind!=="value"&&(v=u.expectedType);let S={},I=[];for(let q=2;q<s.length-1;q+=2){let F=s[q],$=s[q+1];Array.isArray(F)||(F=[F]);let Z=u.concat(q);if(F.length===0)return Z.error("Expected at least one branch label.");for(let J of F){if(typeof J!="number"&&typeof J!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return Z.error("Numeric branch labels must be integer values.");if(h){if(Z.checkSubtype(h,Tr(J)))return null}else h=Tr(J);if(S[String(J)]!==void 0)return Z.error("Branch labels must be unique.");S[String(J)]=I.length}let Q=u.parse($,q,v);if(!Q)return null;v=v||Q.type,I.push(Q)}let C=u.parse(s[1],1,$r);if(!C)return null;let O=u.parse(s[s.length-1],s.length-1,v);return O?C.type.kind!=="value"&&u.concat(1).checkSubtype(h,C.type)?null:new go(h,v,C,S,I,O):null}evaluate(s){let u=this.input.evaluate(s);return(Tr(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class Cd{constructor(s,u,h){this.type=s,this.branches=u,this.otherwise=h}static parse(s,u){if(s.length<4)return u.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return u.error("Expected an odd number of arguments.");let h;u.expectedType&&u.expectedType.kind!=="value"&&(h=u.expectedType);let v=[];for(let I=1;I<s.length-1;I+=2){let C=u.parse(s[I],I,Zr);if(!C)return null;let O=u.parse(s[I+1],I+1,h);if(!O)return null;v.push([C,O]),h=h||O.type}let S=u.parse(s[s.length-1],s.length-1,h);if(!S)return null;if(!h)throw new Error("Can't infer output type");return new Cd(h,v,S)}evaluate(s){for(let[u,h]of this.branches)if(u.evaluate(s))return h.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[u,h]of this.branches)s(u),s(h);s(this.otherwise)}outputDefined(){return this.branches.every(([s,u])=>u.outputDefined())&&this.otherwise.outputDefined()}}class Lm{constructor(s,u,h,v){this.type=s,this.input=u,this.beginIndex=h,this.endIndex=v}static parse(s,u){if(s.length<=2||s.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let h=u.parse(s[1],1,$r),v=u.parse(s[2],2,Ht);if(!h||!v)return null;if(!Ib(h.type,[ja($r),on,$r]))return u.error(`Expected first argument to be of type array or string, but found ${Yn(h.type)} instead`);if(s.length===4){let S=u.parse(s[3],3,Ht);return S?new Lm(h.type,h,v,S):null}return new Lm(h.type,h,v)}evaluate(s){let u=this.input.evaluate(s),h=this.beginIndex.evaluate(s),v;if(this.endIndex&&(v=this.endIndex.evaluate(s)),Bc(u,["string"]))return[...u].slice(h,v).join("");if(Bc(u,["array"]))return u.slice(h,v);throw new Kn(`Expected first argument to be of type array or string, but found ${Yn(Tr(u))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function nf(c,s){let u=c.length-1,h,v,S=0,I=u,C=0;for(;S<=I;)if(C=Math.floor((S+I)/2),h=c[C],v=c[C+1],h<=s){if(C===u||s<v)return C;S=C+1}else{if(!(h>s))throw new Kn("Input is not a number.");I=C-1}return 0}class Di{constructor(s,u,h){this.type=s,this.input=u,this.labels=[],this.outputs=[];for(let[v,S]of h)this.labels.push(v),this.outputs.push(S)}static parse(s,u){if(s.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return u.error("Expected an even number of arguments.");let h=u.parse(s[1],1,Ht);if(!h)return null;let v=[],S=null;u.expectedType&&u.expectedType.kind!=="value"&&(S=u.expectedType);for(let I=1;I<s.length;I+=2){let C=I===1?-1/0:s[I],O=s[I+1],q=I,F=I+1;if(typeof C!="number")return u.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",q);if(v.length&&v[v.length-1][0]>=C)return u.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",q);let $=u.parse(O,F,S);if(!$)return null;S=S||$.type,v.push([C,$])}return new Di(S,h,v)}evaluate(s){let u=this.labels,h=this.outputs;if(u.length===1)return h[0].evaluate(s);let v=this.input.evaluate(s);if(v<=u[0])return h[0].evaluate(s);let S=u.length;return v>=u[S-1]?h[S-1].evaluate(s):h[nf(u,v)].evaluate(s)}eachChild(s){s(this.input);for(let u of this.outputs)s(u)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function kT(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var qm,Db,SL=function(){if(Db)return qm;function c(s,u,h,v){this.cx=3*s,this.bx=3*(h-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(v-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=u,this.p2x=h,this.p2y=v}return Db=1,qm=c,c.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,u){if(u===void 0&&(u=1e-6),s<0)return 0;if(s>1)return 1;for(var h=s,v=0;v<8;v++){var S=this.sampleCurveX(h)-s;if(Math.abs(S)<u)return h;var I=this.sampleCurveDerivativeX(h);if(Math.abs(I)<1e-6)break;h-=S/I}var C=0,O=1;for(h=s,v=0;v<20&&(S=this.sampleCurveX(h),!(Math.abs(S-s)<u));v++)s>S?C=h:O=h,h=.5*(O-C)+C;return h},solve:function(s,u){return this.sampleCurveY(this.solveCurveX(s,u))}},qm}(),Ad=kT(SL);class ko{constructor(s,u,h,v,S){this.type=s,this.operator=u,this.interpolation=h,this.input=v,this.labels=[],this.outputs=[];for(let[I,C]of S)this.labels.push(I),this.outputs.push(C)}static interpolationFactor(s,u,h,v){let S=0;if(s.name==="exponential")S=zm(u,s.base,h,v);else if(s.name==="linear")S=zm(u,1,h,v);else if(s.name==="cubic-bezier"){let I=s.controlPoints;S=new Ad(I[0],I[1],I[2],I[3]).solve(zm(u,1,h,v))}return S}static parse(s,u){let[h,v,S,...I]=s;if(!Array.isArray(v)||v.length===0)return u.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){let q=v[1];if(typeof q!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:q}}else{if(v[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(v[0])}`,1,0);{let q=v.slice(1);if(q.length!==4||q.some(F=>typeof F!="number"||F<0||F>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:q}}}if(s.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(S=u.parse(S,2,Ht),!S)return null;let C=[],O=null;h!=="interpolate-hcl"&&h!=="interpolate-lab"||u.expectedType==Hl?u.expectedType&&u.expectedType.kind!=="value"&&(O=u.expectedType):O=Oo;for(let q=0;q<I.length;q+=2){let F=I[q],$=I[q+1],Z=q+3,Q=q+4;if(typeof F!="number")return u.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",Z);if(C.length&&C[C.length-1][0]>=F)return u.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",Z);let J=u.parse($,Q,O);if(!J)return null;O=O||J.type,C.push([F,J])}return Uc(O,Ht)||Uc(O,Qp)||Uc(O,Oo)||Uc(O,Xv)||Uc(O,wd)||Uc(O,Hl)||Uc(O,Qv)||Uc(O,ja(Ht))?new ko(O,h,v,S,C):u.error(`Type ${Yn(O)} is not interpolatable.`)}evaluate(s){let u=this.labels,h=this.outputs;if(u.length===1)return h[0].evaluate(s);let v=this.input.evaluate(s);if(v<=u[0])return h[0].evaluate(s);let S=u.length;if(v>=u[S-1])return h[S-1].evaluate(s);let I=nf(u,v),C=ko.interpolationFactor(this.interpolation,v,u[I],u[I+1]),O=h[I].evaluate(s),q=h[I+1].evaluate(s);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Lu(O,q,C);case"color":return sn.interpolate(O,q,C);case"padding":return mo.interpolate(O,q,C);case"colorArray":return Vi.interpolate(O,q,C);case"numberArray":return aa.interpolate(O,q,C);case"variableAnchorOffsetCollection":return sa.interpolate(O,q,C);case"array":return ef(O,q,C);case"projectionDefinition":return $o.interpolate(O,q,C)}case"interpolate-hcl":switch(this.type.kind){case"color":return sn.interpolate(O,q,C,"hcl");case"colorArray":return Vi.interpolate(O,q,C,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return sn.interpolate(O,q,C,"lab");case"colorArray":return Vi.interpolate(O,q,C,"lab")}}}eachChild(s){s(this.input);for(let u of this.outputs)s(u)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function zm(c,s,u,h){let v=h-u,S=c-u;return v===0?0:s===1?S/v:(Math.pow(s,S)-1)/(Math.pow(s,v)-1)}let Yl={color:sn.interpolate,number:Lu,padding:mo.interpolate,numberArray:aa.interpolate,colorArray:Vi.interpolate,variableAnchorOffsetCollection:sa.interpolate,array:ef};class jm{constructor(s,u){this.type=s,this.args=u}static parse(s,u){if(s.length<2)return u.error("Expected at least one argument.");let h=null,v=u.expectedType;v&&v.kind!=="value"&&(h=v);let S=[];for(let C of s.slice(1)){let O=u.parse(C,1+S.length,h,void 0,{typeAnnotation:"omit"});if(!O)return null;h=h||O.type,S.push(O)}if(!h)throw new Error("No output type");let I=v&&S.some(C=>Dm(v,C.type));return new jm(I?$r:h,S)}evaluate(s){let u,h=null,v=0;for(let S of this.args)if(v++,h=S.evaluate(s),h&&h instanceof ps&&!h.available&&(u||(u=h.name),h=null,v===this.args.length&&(h=u)),h!==null)break;return h}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function Fm(c,s){return c==="=="||c==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function Bm(c,s,u,h){return h.compare(s,u)===0}function Go(c,s,u){let h=c!=="=="&&c!=="!=";return class pke{constructor(S,I,C){this.type=Zr,this.lhs=S,this.rhs=I,this.collator=C,this.hasUntypedArgument=S.type.kind==="value"||I.type.kind==="value"}static parse(S,I){if(S.length!==3&&S.length!==4)return I.error("Expected two or three arguments.");let C=S[0],O=I.parse(S[1],1,$r);if(!O)return null;if(!Fm(C,O.type))return I.concat(1).error(`"${C}" comparisons are not supported for type '${Yn(O.type)}'.`);let q=I.parse(S[2],2,$r);if(!q)return null;if(!Fm(C,q.type))return I.concat(2).error(`"${C}" comparisons are not supported for type '${Yn(q.type)}'.`);if(O.type.kind!==q.type.kind&&O.type.kind!=="value"&&q.type.kind!=="value")return I.error(`Cannot compare types '${Yn(O.type)}' and '${Yn(q.type)}'.`);h&&(O.type.kind==="value"&&q.type.kind!=="value"?O=new fs(q.type,[O]):O.type.kind!=="value"&&q.type.kind==="value"&&(q=new fs(O.type,[q])));let F=null;if(S.length===4){if(O.type.kind!=="string"&&q.type.kind!=="string"&&O.type.kind!=="value"&&q.type.kind!=="value")return I.error("Cannot use collator to compare non-string types.");if(F=I.parse(S[3],3,Kv),!F)return null}return new pke(O,q,F)}evaluate(S){let I=this.lhs.evaluate(S),C=this.rhs.evaluate(S);if(h&&this.hasUntypedArgument){let O=Tr(I),q=Tr(C);if(O.kind!==q.kind||O.kind!=="string"&&O.kind!=="number")throw new Kn(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${O.kind}, ${q.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){let O=Tr(I),q=Tr(C);if(O.kind!=="string"||q.kind!=="string")return s(S,I,C)}return this.collator?u(S,I,C,this.collator.evaluate(S)):s(S,I,C)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}let DT=Go("==",function(c,s,u){return s===u},Bm),oy=Go("!=",function(c,s,u){return s!==u},function(c,s,u,h){return!Bm(0,s,u,h)}),EL=Go("<",function(c,s,u){return s<u},function(c,s,u,h){return h.compare(s,u)<0}),Nb=Go(">",function(c,s,u){return s>u},function(c,s,u,h){return h.compare(s,u)>0}),IL=Go("<=",function(c,s,u){return s<=u},function(c,s,u,h){return h.compare(s,u)<=0}),TL=Go(">=",function(c,s,u){return s>=u},function(c,s,u,h){return h.compare(s,u)>=0});class ay{constructor(s,u,h){this.type=Kv,this.locale=h,this.caseSensitive=s,this.diacriticSensitive=u}static parse(s,u){if(s.length!==2)return u.error("Expected one argument.");let h=s[1];if(typeof h!="object"||Array.isArray(h))return u.error("Collator options argument must be an object.");let v=u.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Zr);if(!v)return null;let S=u.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Zr);if(!S)return null;let I=null;return h.locale&&(I=u.parse(h.locale,1,on),!I)?null:new ay(v,S,I)}evaluate(s){return new tf(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class Rb{constructor(s,u,h,v,S){this.type=on,this.number=s,this.locale=u,this.currency=h,this.minFractionDigits=v,this.maxFractionDigits=S}static parse(s,u){if(s.length!==3)return u.error("Expected two arguments.");let h=u.parse(s[1],1,Ht);if(!h)return null;let v=s[2];if(typeof v!="object"||Array.isArray(v))return u.error("NumberFormat options argument must be an object.");let S=null;if(v.locale&&(S=u.parse(v.locale,1,on),!S))return null;let I=null;if(v.currency&&(I=u.parse(v.currency,1,on),!I))return null;let C=null;if(v["min-fraction-digits"]&&(C=u.parse(v["min-fraction-digits"],1,Ht),!C))return null;let O=null;return v["max-fraction-digits"]&&(O=u.parse(v["max-fraction-digits"],1,Ht),!O)?null:new Rb(h,S,I,C,O)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class of{constructor(s){this.type=Fc,this.sections=s}static parse(s,u){if(s.length<2)return u.error("Expected at least one argument.");let h=s[1];if(!Array.isArray(h)&&typeof h=="object")return u.error("First argument must be an image or text section.");let v=[],S=!1;for(let I=1;I<=s.length-1;++I){let C=s[I];if(S&&typeof C=="object"&&!Array.isArray(C)){S=!1;let O=null;if(C["font-scale"]&&(O=u.parse(C["font-scale"],1,Ht),!O))return null;let q=null;if(C["text-font"]&&(q=u.parse(C["text-font"],1,ja(on)),!q))return null;let F=null;if(C["text-color"]&&(F=u.parse(C["text-color"],1,Oo),!F))return null;let $=null;if(C["vertical-align"]){if(typeof C["vertical-align"]=="string"&&!Jv.includes(C["vertical-align"]))return u.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${C["vertical-align"]}' instead.`);if($=u.parse(C["vertical-align"],1,on),!$)return null}let Z=v[v.length-1];Z.scale=O,Z.font=q,Z.textColor=F,Z.verticalAlign=$}else{let O=u.parse(s[I],1,$r);if(!O)return null;let q=O.type.kind;if(q!=="string"&&q!=="value"&&q!=="null"&&q!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,v.push({content:O,scale:null,font:null,textColor:null,verticalAlign:null})}}return new of(v)}evaluate(s){return new oa(this.sections.map(u=>{let h=u.content.evaluate(s);return Tr(h)===ki?new ey("",h,null,null,null,u.verticalAlign?u.verticalAlign.evaluate(s):null):new ey(Fr(h),null,u.scale?u.scale.evaluate(s):null,u.font?u.font.evaluate(s).join(","):null,u.textColor?u.textColor.evaluate(s):null,u.verticalAlign?u.verticalAlign.evaluate(s):null)}))}eachChild(s){for(let u of this.sections)s(u.content),u.scale&&s(u.scale),u.font&&s(u.font),u.textColor&&s(u.textColor),u.verticalAlign&&s(u.verticalAlign)}outputDefined(){return!1}}class Lb{constructor(s){this.type=ki,this.input=s}static parse(s,u){if(s.length!==2)return u.error("Expected two arguments.");let h=u.parse(s[1],1,on);return h?new Lb(h):u.error("No image name provided.")}evaluate(s){let u=this.input.evaluate(s),h=ps.fromString(u);return h&&s.availableImages&&(h.available=s.availableImages.indexOf(u)>-1),h}eachChild(s){s(this.input)}outputDefined(){return!1}}class sy{constructor(s){this.type=Ht,this.input=s}static parse(s,u){if(s.length!==2)return u.error(`Expected 1 argument, but found ${s.length-1} instead.`);let h=u.parse(s[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${Yn(h.type)} instead.`):new sy(h):null}evaluate(s){let u=this.input.evaluate(s);if(typeof u=="string")return[...u].length;if(Array.isArray(u))return u.length;throw new Kn(`Expected value to be of type string or array, but found ${Yn(Tr(u))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let hl=8192;function ML(c,s){let u=(180+c[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,v=Math.pow(2,s.z);return[Math.round(u*v*hl),Math.round(h*v*hl)]}function ly(c,s){let u=Math.pow(2,s.z);return[(v=(c[0]/hl+s.x)/u,360*v-180),(h=(c[1]/hl+s.y)/u,360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90)];var h,v}function Um(c,s){c[0]=Math.min(c[0],s[0]),c[1]=Math.min(c[1],s[1]),c[2]=Math.max(c[2],s[0]),c[3]=Math.max(c[3],s[1])}function Vm(c,s){return!(c[0]<=s[0]||c[2]>=s[2]||c[1]<=s[1]||c[3]>=s[3])}function CL(c,s,u){let h=c[0]-s[0],v=c[1]-s[1],S=c[0]-u[0],I=c[1]-u[1];return h*I-S*v==0&&h*S<=0&&v*I<=0}function uy(c,s,u,h){return(v=[h[0]-u[0],h[1]-u[1]])[0]*(S=[s[0]-c[0],s[1]-c[1]])[1]-v[1]*S[0]!=0&&!(!RT(c,s,u,h)||!RT(u,h,c,s));var v,S}function AL(c,s,u){for(let h of u)for(let v=0;v<h.length-1;++v)if(uy(c,s,h[v],h[v+1]))return!0;return!1}function af(c,s,u=!1){let h=!1;for(let C of s)for(let O=0;O<C.length-1;O++){if(CL(c,C[O],C[O+1]))return u;(S=C[O])[1]>(v=c)[1]!=(I=C[O+1])[1]>v[1]&&v[0]<(I[0]-S[0])*(v[1]-S[1])/(I[1]-S[1])+S[0]&&(h=!h)}var v,S,I;return h}function NT(c,s){for(let u of s)if(af(c,u))return!0;return!1}function qb(c,s){for(let u of c)if(!af(u,s))return!1;for(let u=0;u<c.length-1;++u)if(AL(c[u],c[u+1],s))return!1;return!0}function PL(c,s){for(let u of s)if(qb(c,u))return!0;return!1}function RT(c,s,u,h){let v=h[0]-u[0],S=h[1]-u[1],I=(c[0]-u[0])*S-v*(c[1]-u[1]),C=(s[0]-u[0])*S-v*(s[1]-u[1]);return I>0&&C<0||I<0&&C>0}function zb(c,s,u){let h=[];for(let v=0;v<c.length;v++){let S=[];for(let I=0;I<c[v].length;I++){let C=ML(c[v][I],u);Um(s,C),S.push(C)}h.push(S)}return h}function LT(c,s,u){let h=[];for(let v=0;v<c.length;v++){let S=zb(c[v],s,u);h.push(S)}return h}function cy(c,s,u,h){if(c[0]<u[0]||c[0]>u[2]){let v=.5*h,S=c[0]-u[0]>v?-h:u[0]-c[0]>v?h:0;S===0&&(S=c[0]-u[2]>v?-h:u[2]-c[0]>v?h:0),c[0]+=S}Um(s,c)}function qT(c,s,u,h){let v=Math.pow(2,h.z)*hl,S=[h.x*hl,h.y*hl],I=[];for(let C of c)for(let O of C){let q=[O.x+S[0],O.y+S[1]];cy(q,s,u,v),I.push(q)}return I}function zT(c,s,u,h){let v=Math.pow(2,h.z)*hl,S=[h.x*hl,h.y*hl],I=[];for(let O of c){let q=[];for(let F of O){let $=[F.x+S[0],F.y+S[1]];Um(s,$),q.push($)}I.push(q)}if(s[2]-s[0]<=v/2){(C=s)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(let O of I)for(let q of O)cy(q,s,u,v)}var C;return I}class sf{constructor(s,u){this.type=Zr,this.geojson=s,this.geometries=u}static parse(s,u){if(s.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(rf(s[1])){let h=s[1];if(h.type==="FeatureCollection"){let v=[];for(let S of h.features){let{type:I,coordinates:C}=S.geometry;I==="Polygon"&&v.push(C),I==="MultiPolygon"&&v.push(...C)}if(v.length)return new sf(h,{type:"MultiPolygon",coordinates:v})}else if(h.type==="Feature"){let v=h.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new sf(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new sf(h,h)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(u,h){let v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],I=u.canonicalID();if(h.type==="Polygon"){let C=zb(h.coordinates,S,I),O=qT(u.geometry(),v,S,I);if(!Vm(v,S))return!1;for(let q of O)if(!af(q,C))return!1}if(h.type==="MultiPolygon"){let C=LT(h.coordinates,S,I),O=qT(u.geometry(),v,S,I);if(!Vm(v,S))return!1;for(let q of O)if(!NT(q,C))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(u,h){let v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],I=u.canonicalID();if(h.type==="Polygon"){let C=zb(h.coordinates,S,I),O=zT(u.geometry(),v,S,I);if(!Vm(v,S))return!1;for(let q of O)if(!qb(q,C))return!1}if(h.type==="MultiPolygon"){let C=LT(h.coordinates,S,I),O=zT(u.geometry(),v,S,I);if(!Vm(v,S))return!1;for(let q of O)if(!PL(q,C))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let jb=class{constructor(c=[],s=(u,h)=>u<h?-1:u>h?1:0){if(this.data=c,this.length=this.data.length,this.compare=s,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;let c=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),c}peek(){return this.data[0]}_up(c){let{data:s,compare:u}=this,h=s[c];for(;c>0;){let v=c-1>>1,S=s[v];if(u(h,S)>=0)break;s[c]=S,c=v}s[c]=h}_down(c){let{data:s,compare:u}=this,h=this.length>>1,v=s[c];for(;c<h;){let S=1+(c<<1),I=S+1;if(I<this.length&&u(s[I],s[S])<0&&(S=I),u(s[S],v)>=0)break;s[c]=s[S],c=S}s[c]=v}};function Fb(c,s,u=0,h=c.length-1,v=OL){for(;h>u;){if(h-u>600){let O=h-u+1,q=s-u+1,F=Math.log(O),$=.5*Math.exp(2*F/3),Z=.5*Math.sqrt(F*$*(O-$)/O)*(q-O/2<0?-1:1);Fb(c,s,Math.max(u,Math.floor(s-q*$/O+Z)),Math.min(h,Math.floor(s+(O-q)*$/O+Z)),v)}let S=c[s],I=u,C=h;for($m(c,u,s),v(c[h],S)>0&&$m(c,u,h);I<C;){for($m(c,I,C),I++,C--;v(c[I],S)<0;)I++;for(;v(c[C],S)>0;)C--}v(c[u],S)===0?$m(c,u,C):(C++,$m(c,C,h)),C<=s&&(u=C+1),s<=C&&(h=C-1)}}function $m(c,s,u){let h=c[s];c[s]=c[u],c[u]=h}function OL(c,s){return c<s?-1:c>s?1:0}function Gm(c,s){if(c.length<=1)return[c];let u=[],h,v;for(let S of c){let I=kL(S);I!==0&&(S.area=Math.abs(I),v===void 0&&(v=I<0),v===I<0?(h&&u.push(h),h=[S]):h.push(S))}if(h&&u.push(h),s>1)for(let S=0;S<u.length;S++)u[S].length<=s||(Fb(u[S],s,1,u[S].length-1,jT),u[S]=u[S].slice(0,s));return u}function jT(c,s){return s.area-c.area}function kL(c){let s=0;for(let u,h,v=0,S=c.length,I=S-1;v<S;I=v++)u=c[v],h=c[I],s+=(h.x-u.x)*(u.y+h.y);return s}let FT=1/298.257223563,BT=FT*(2-FT),Bb=Math.PI/180;class Ub{constructor(s){let u=6378.137*Bb*1e3,h=Math.cos(s*Bb),v=1/(1-BT*(1-h*h)),S=Math.sqrt(v);this.kx=u*S*h,this.ky=u*S*v*(1-BT)}distance(s,u){let h=this.wrap(s[0]-u[0])*this.kx,v=(s[1]-u[1])*this.ky;return Math.sqrt(h*h+v*v)}pointOnLine(s,u){let h,v,S,I,C=1/0;for(let O=0;O<s.length-1;O++){let q=s[O][0],F=s[O][1],$=this.wrap(s[O+1][0]-q)*this.kx,Z=(s[O+1][1]-F)*this.ky,Q=0;$===0&&Z===0||(Q=(this.wrap(u[0]-q)*this.kx*$+(u[1]-F)*this.ky*Z)/($*$+Z*Z),Q>1?(q=s[O+1][0],F=s[O+1][1]):Q>0&&(q+=$/this.kx*Q,F+=Z/this.ky*Q)),$=this.wrap(u[0]-q)*this.kx,Z=(u[1]-F)*this.ky;let J=$*$+Z*Z;J<C&&(C=J,h=q,v=F,S=O,I=Q)}return{point:[h,v],index:S,t:Math.max(0,Math.min(1,I))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function UT(c,s){return s[0]-c[0]}function py(c){return c[1]-c[0]+1}function zu(c,s){return c[1]>=c[0]&&c[1]<s}function Tn(c,s){if(c[0]>c[1])return[null,null];let u=py(c);if(s){if(u===2)return[c,null];let v=Math.floor(u/2);return[[c[0],c[0]+v],[c[0]+v,c[1]]]}if(u===1)return[c,null];let h=Math.floor(u/2)-1;return[[c[0],c[0]+h],[c[0]+h+1,c[1]]]}function Vb(c,s){if(!zu(s,c.length))return[1/0,1/0,-1/0,-1/0];let u=[1/0,1/0,-1/0,-1/0];for(let h=s[0];h<=s[1];++h)Um(u,c[h]);return u}function $b(c){let s=[1/0,1/0,-1/0,-1/0];for(let u of c)for(let h of u)Um(s,h);return s}function VT(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function Gb(c,s,u){if(!VT(c)||!VT(s))return NaN;let h=0,v=0;return c[2]<s[0]&&(h=s[0]-c[2]),c[0]>s[2]&&(h=c[0]-s[2]),c[1]>s[3]&&(v=c[1]-s[3]),c[3]<s[1]&&(v=s[1]-c[3]),u.distance([0,0],[h,v])}function lf(c,s,u){let h=u.pointOnLine(s,c);return u.distance(c,h.point)}function Hb(c,s,u,h,v){let S=Math.min(lf(c,[u,h],v),lf(s,[u,h],v)),I=Math.min(lf(u,[c,s],v),lf(h,[c,s],v));return Math.min(S,I)}function DL(c,s,u,h,v){if(!zu(s,c.length)||!zu(h,u.length))return 1/0;let S=1/0;for(let I=s[0];I<s[1];++I){let C=c[I],O=c[I+1];for(let q=h[0];q<h[1];++q){let F=u[q],$=u[q+1];if(uy(C,O,F,$))return 0;S=Math.min(S,Hb(C,O,F,$,v))}}return S}function NL(c,s,u,h,v){if(!zu(s,c.length)||!zu(h,u.length))return NaN;let S=1/0;for(let I=s[0];I<=s[1];++I)for(let C=h[0];C<=h[1];++C)if(S=Math.min(S,v.distance(c[I],u[C])),S===0)return S;return S}function RL(c,s,u){if(af(c,s,!0))return 0;let h=1/0;for(let v of s){let S=v[0],I=v[v.length-1];if(S!==I&&(h=Math.min(h,lf(c,[I,S],u)),h===0))return h;let C=u.pointOnLine(v,c);if(h=Math.min(h,u.distance(c,C.point)),h===0)return h}return h}function LL(c,s,u,h){if(!zu(s,c.length))return NaN;for(let S=s[0];S<=s[1];++S)if(af(c[S],u,!0))return 0;let v=1/0;for(let S=s[0];S<s[1];++S){let I=c[S],C=c[S+1];for(let O of u)for(let q=0,F=O.length,$=F-1;q<F;$=q++){let Z=O[$],Q=O[q];if(uy(I,C,Z,Q))return 0;v=Math.min(v,Hb(I,C,Z,Q,h))}}return v}function $T(c,s){for(let u of c)for(let h of u)if(af(h,s,!0))return!0;return!1}function qL(c,s,u,h=1/0){let v=$b(c),S=$b(s);if(h!==1/0&&Gb(v,S,u)>=h)return h;if(Vm(v,S)){if($T(c,s))return 0}else if($T(s,c))return 0;let I=1/0;for(let C of c)for(let O=0,q=C.length,F=q-1;O<q;F=O++){let $=C[F],Z=C[O];for(let Q of s)for(let J=0,ne=Q.length,ue=ne-1;J<ne;ue=J++){let _e=Q[ue],$e=Q[J];if(uy($,Z,_e,$e))return 0;I=Math.min(I,Hb($,Z,_e,$e,u))}}return I}function GT(c,s,u,h,v,S){if(!S)return;let I=Gb(Vb(h,S),v,u);I<s&&c.push([I,S,[0,0]])}function fy(c,s,u,h,v,S,I){if(!S||!I)return;let C=Gb(Vb(h,S),Vb(v,I),u);C<s&&c.push([C,S,I])}function dy(c,s,u,h,v=1/0){let S=Math.min(h.distance(c[0],u[0][0]),v);if(S===0)return S;let I=new jb([[0,[0,c.length-1],[0,0]]],UT),C=$b(u);for(;I.length>0;){let O=I.pop();if(O[0]>=S)continue;let q=O[1],F=s?50:100;if(py(q)<=F){if(!zu(q,c.length))return NaN;if(s){let $=LL(c,q,u,h);if(isNaN($)||$===0)return $;S=Math.min(S,$)}else for(let $=q[0];$<=q[1];++$){let Z=RL(c[$],u,h);if(S=Math.min(S,Z),S===0)return 0}}else{let $=Tn(q,s);GT(I,S,h,c,C,$[0]),GT(I,S,h,c,C,$[1])}}return S}function hy(c,s,u,h,v,S=1/0){let I=Math.min(S,v.distance(c[0],u[0]));if(I===0)return I;let C=new jb([[0,[0,c.length-1],[0,u.length-1]]],UT);for(;C.length>0;){let O=C.pop();if(O[0]>=I)continue;let q=O[1],F=O[2],$=s?50:100,Z=h?50:100;if(py(q)<=$&&py(F)<=Z){if(!zu(q,c.length)&&zu(F,u.length))return NaN;let Q;if(s&&h)Q=DL(c,q,u,F,v),I=Math.min(I,Q);else if(s&&!h){let J=c.slice(q[0],q[1]+1);for(let ne=F[0];ne<=F[1];++ne)if(Q=lf(u[ne],J,v),I=Math.min(I,Q),I===0)return I}else if(!s&&h){let J=u.slice(F[0],F[1]+1);for(let ne=q[0];ne<=q[1];++ne)if(Q=lf(c[ne],J,v),I=Math.min(I,Q),I===0)return I}else Q=NL(c,q,u,F,v),I=Math.min(I,Q)}else{let Q=Tn(q,s),J=Tn(F,h);fy(C,I,v,c,u,Q[0],J[0]),fy(C,I,v,c,u,Q[0],J[1]),fy(C,I,v,c,u,Q[1],J[0]),fy(C,I,v,c,u,Q[1],J[1])}}return I}function Wb(c){return c.type==="MultiPolygon"?c.coordinates.map(s=>({type:"Polygon",coordinates:s})):c.type==="MultiLineString"?c.coordinates.map(s=>({type:"LineString",coordinates:s})):c.type==="MultiPoint"?c.coordinates.map(s=>({type:"Point",coordinates:s})):[c]}class uf{constructor(s,u){this.type=Ht,this.geojson=s,this.geometries=u}static parse(s,u){if(s.length!==2)return u.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(rf(s[1])){let h=s[1];if(h.type==="FeatureCollection")return new uf(h,h.features.map(v=>Wb(v.geometry)).flat());if(h.type==="Feature")return new uf(h,Wb(h.geometry));if("type"in h&&"coordinates"in h)return new uf(h,Wb(h))}return u.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(u,h){let v=u.geometry(),S=v.flat().map(O=>ly([O.x,O.y],u.canonical));if(v.length===0)return NaN;let I=new Ub(S[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,hy(S,!1,[O.coordinates],!1,I,C));break;case"LineString":C=Math.min(C,hy(S,!1,O.coordinates,!0,I,C));break;case"Polygon":C=Math.min(C,dy(S,!1,O.coordinates,I,C))}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="LineString")return function(u,h){let v=u.geometry(),S=v.flat().map(O=>ly([O.x,O.y],u.canonical));if(v.length===0)return NaN;let I=new Ub(S[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,hy(S,!0,[O.coordinates],!1,I,C));break;case"LineString":C=Math.min(C,hy(S,!0,O.coordinates,!0,I,C));break;case"Polygon":C=Math.min(C,dy(S,!0,O.coordinates,I,C))}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="Polygon")return function(u,h){let v=u.geometry();if(v.length===0||v[0].length===0)return NaN;let S=Gm(v,0).map(O=>O.map(q=>q.map(F=>ly([F.x,F.y],u.canonical)))),I=new Ub(S[0][0][0][1]),C=1/0;for(let O of h)for(let q of S){switch(O.type){case"Point":C=Math.min(C,dy([O.coordinates],!1,q,I,C));break;case"LineString":C=Math.min(C,dy(O.coordinates,!0,q,I,C));break;case"Polygon":C=Math.min(C,qL(q,O.coordinates,I,C))}if(C===0)return C}return C}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Hm{constructor(s){this.type=$r,this.key=s}static parse(s,u){if(s.length!==2)return u.error(`Expected 1 argument, but found ${s.length-1} instead.`);let h=s[1];return h==null?u.error("Global state property must be defined."):typeof h!="string"?u.error(`Global state property must be string, but found ${typeof s[1]} instead.`):new Hm(h)}evaluate(s){var u;let h=(u=s.globals)===null||u===void 0?void 0:u.globalState;return h&&Object.keys(h).length!==0?Td(h,this.key):null}eachChild(){}outputDefined(){return!1}}let Pd={"==":DT,"!=":oy,">":Nb,"<":EL,">=":TL,"<=":IL,array:fs,at:ny,boolean:fs,case:Cd,coalesce:jm,collator:ay,format:of,image:Lb,in:iy,"index-of":dl,interpolate:ko,"interpolate-hcl":ko,"interpolate-lab":ko,length:sy,let:Rm,literal:qu,match:go,number:fs,"number-format":Rb,object:fs,slice:Lm,step:Di,string:fs,"to-boolean":Zl,"to-color":Zl,"to-number":Zl,"to-string":Zl,var:ry,within:sf,distance:uf,"global-state":Hm};class Rs{constructor(s,u,h,v){this.name=s,this.type=u,this._evaluate=h,this.args=v}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,u){let h=s[0],v=Rs.definitions[h];if(!v)return u.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);let S=Array.isArray(v)?v[0]:v.type,I=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,C=I.filter(([q])=>!Array.isArray(q)||q.length===s.length-1),O=null;for(let[q,F]of C){O=new Md(u.registry,my,u.path,null,u.scope);let $=[],Z=!1;for(let Q=1;Q<s.length;Q++){let J=s[Q],ne=Array.isArray(q)?q[Q-1]:q.type,ue=O.parse(J,1+$.length,ne);if(!ue){Z=!0;break}$.push(ue)}if(!Z)if(Array.isArray(q)&&q.length!==$.length)O.error(`Expected ${q.length} arguments, but found ${$.length} instead.`);else{for(let Q=0;Q<$.length;Q++){let J=Array.isArray(q)?q[Q]:q.type,ne=$[Q];O.concat(Q+1).checkSubtype(J,ne.type)}if(O.errors.length===0)return new Rs(h,S,F,$)}}if(C.length===1)u.errors.push(...O.errors);else{let q=(C.length?C:I).map(([$])=>{return Z=$,Array.isArray(Z)?`(${Z.map(Yn).join(", ")})`:`(${Yn(Z.type)}...)`;var Z}).join(" | "),F=[];for(let $=1;$<s.length;$++){let Z=u.parse(s[$],1+F.length);if(!Z)return null;F.push(Yn(Z.type))}u.error(`Expected arguments of type ${q}, but found (${F.join(", ")}) instead.`)}return null}static register(s,u){Rs.definitions=u;for(let h in u)s[h]=Rs}}function HT(c,[s,u,h,v]){s=s.evaluate(c),u=u.evaluate(c),h=h.evaluate(c);let S=v?v.evaluate(c):1,I=li(s,u,h,S);if(I)throw new Kn(I);return new sn(s/255,u/255,h/255,S,!1)}function WT(c,s){return c in s}function Zb(c,s){let u=s[c];return u===void 0?null:u}function cf(c){return{type:c}}function my(c){if(c instanceof ry)return my(c.boundExpression);if(c instanceof Rs&&c.name==="error"||c instanceof ay||c instanceof sf||c instanceof uf||c instanceof Hm)return!1;let s=c instanceof Zl||c instanceof fs,u=!0;return c.eachChild(h=>{u=s?u&&my(h):u&&h instanceof qu}),!!u&&gy(c)&&vy(c,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function gy(c){if(c instanceof Rs&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof sf||c instanceof uf)return!1;let s=!0;return c.eachChild(u=>{s&&!gy(u)&&(s=!1)}),s}function Wm(c){if(c instanceof Rs&&c.name==="feature-state")return!1;let s=!0;return c.eachChild(u=>{s&&!Wm(u)&&(s=!1)}),s}function vy(c,s){if(c instanceof Rs&&s.indexOf(c.name)>=0)return!1;let u=!0;return c.eachChild(h=>{u&&!vy(h,s)&&(u=!1)}),u}function ZT(c){return{result:"success",value:c}}function Od(c){return{result:"error",value:c}}function $c(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function YT(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Yb(c){return!!c.expression&&c.expression.interpolated}function cn(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Zm(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&Tr(c)===jc}function zL(c){return c}function KT(c,s){let u=c.stops&&typeof c.stops[0][0]=="object",h=u||!(u||c.property!==void 0),v=c.type||(Yb(s)?"exponential":"interval"),S=function(F){switch(F.type){case"color":return sn.parse;case"padding":return mo.parse;case"numberArray":return aa.parse;case"colorArray":return Vi.parse;default:return null}}(s);if(S&&((c=Oi({},c)).stops&&(c.stops=c.stops.map(F=>[F[0],S(F[1])])),c.default=S(c.default?c.default:s.default)),c.colorSpace&&(I=c.colorSpace)!=="rgb"&&I!=="hcl"&&I!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var I;let C=function(F){switch(F){case"exponential":return QT;case"interval":return jL;case"categorical":return XT;case"identity":return FL;default:throw new Error(`Unknown function type "${F}"`)}}(v),O,q;if(v==="categorical"){O=Object.create(null);for(let F of c.stops)O[F[0]]=F[1];q=typeof c.stops[0][0]}if(u){let F={},$=[];for(let J=0;J<c.stops.length;J++){let ne=c.stops[J],ue=ne[0].zoom;F[ue]===void 0&&(F[ue]={zoom:ue,type:c.type,property:c.property,default:c.default,stops:[]},$.push(ue)),F[ue].stops.push([ne[0].value,ne[1]])}let Z=[];for(let J of $)Z.push([F[J].zoom,KT(F[J],s)]);let Q={name:"linear"};return{kind:"composite",interpolationType:Q,interpolationFactor:ko.interpolationFactor.bind(void 0,Q),zoomStops:Z.map(J=>J[0]),evaluate:({zoom:J},ne)=>QT({stops:Z,base:c.base},s,J).evaluate(J,ne)}}if(h){let F=v==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:F,interpolationFactor:ko.interpolationFactor.bind(void 0,F),zoomStops:c.stops.map($=>$[0]),evaluate:({zoom:$})=>C(c,s,$,O,q)}}return{kind:"source",evaluate(F,$){let Z=$&&$.properties?$.properties[c.property]:void 0;return Z===void 0?Gc(c.default,s.default):C(c,s,Z,O,q)}}}function Gc(c,s,u){return c!==void 0?c:s!==void 0?s:u!==void 0?u:void 0}function XT(c,s,u,h,v){return Gc(typeof u===v?h[u]:void 0,c.default,s.default)}function jL(c,s,u){if(cn(u)!=="number")return Gc(c.default,s.default);let h=c.stops.length;if(h===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[h-1][0])return c.stops[h-1][1];let v=nf(c.stops.map(S=>S[0]),u);return c.stops[v][1]}function QT(c,s,u){let h=c.base!==void 0?c.base:1;if(cn(u)!=="number")return Gc(c.default,s.default);let v=c.stops.length;if(v===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[v-1][0])return c.stops[v-1][1];let S=nf(c.stops.map(F=>F[0]),u),I=function(F,$,Z,Q){let J=Q-Z,ne=F-Z;return J===0?0:$===1?ne/J:(Math.pow($,ne)-1)/(Math.pow($,J)-1)}(u,h,c.stops[S][0],c.stops[S+1][0]),C=c.stops[S][1],O=c.stops[S+1][1],q=Yl[s.type]||zL;return typeof C.evaluate=="function"?{evaluate(...F){let $=C.evaluate.apply(void 0,F),Z=O.evaluate.apply(void 0,F);if($!==void 0&&Z!==void 0)return q($,Z,I,c.colorSpace)}}:q(C,O,I,c.colorSpace)}function FL(c,s,u){switch(s.type){case"color":u=sn.parse(u);break;case"formatted":u=oa.fromString(u.toString());break;case"resolvedImage":u=ps.fromString(u.toString());break;case"padding":u=mo.parse(u);break;case"colorArray":u=Vi.parse(u);break;case"numberArray":u=aa.parse(u);break;default:cn(u)===s.type||s.type==="enum"&&s.values[u]||(u=void 0)}return Gc(u,c.default,s.default)}Rs.register(Pd,{error:[{kind:"error"},[on],(c,[s])=>{throw new Kn(s.evaluate(c))}],typeof:[on,[$r],(c,[s])=>Yn(Tr(s.evaluate(c)))],"to-rgba":[ja(Ht,4),[Oo],(c,[s])=>{let[u,h,v,S]=s.evaluate(c).rgb;return[255*u,255*h,255*v,S]}],rgb:[Oo,[Ht,Ht,Ht],HT],rgba:[Oo,[Ht,Ht,Ht,Ht],HT],has:{type:Zr,overloads:[[[on],(c,[s])=>WT(s.evaluate(c),c.properties())],[[on,jc],(c,[s,u])=>WT(s.evaluate(c),u.evaluate(c))]]},get:{type:$r,overloads:[[[on],(c,[s])=>Zb(s.evaluate(c),c.properties())],[[on,jc],(c,[s,u])=>Zb(s.evaluate(c),u.evaluate(c))]]},"feature-state":[$r,[on],(c,[s])=>Zb(s.evaluate(c),c.featureState||{})],properties:[jc,[],c=>c.properties()],"geometry-type":[on,[],c=>c.geometryType()],id:[$r,[],c=>c.id()],zoom:[Ht,[],c=>c.globals.zoom],"heatmap-density":[Ht,[],c=>c.globals.heatmapDensity||0],elevation:[Ht,[],c=>c.globals.elevation||0],"line-progress":[Ht,[],c=>c.globals.lineProgress||0],accumulated:[$r,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Ht,cf(Ht),(c,s)=>{let u=0;for(let h of s)u+=h.evaluate(c);return u}],"*":[Ht,cf(Ht),(c,s)=>{let u=1;for(let h of s)u*=h.evaluate(c);return u}],"-":{type:Ht,overloads:[[[Ht,Ht],(c,[s,u])=>s.evaluate(c)-u.evaluate(c)],[[Ht],(c,[s])=>-s.evaluate(c)]]},"/":[Ht,[Ht,Ht],(c,[s,u])=>s.evaluate(c)/u.evaluate(c)],"%":[Ht,[Ht,Ht],(c,[s,u])=>s.evaluate(c)%u.evaluate(c)],ln2:[Ht,[],()=>Math.LN2],pi:[Ht,[],()=>Math.PI],e:[Ht,[],()=>Math.E],"^":[Ht,[Ht,Ht],(c,[s,u])=>Math.pow(s.evaluate(c),u.evaluate(c))],sqrt:[Ht,[Ht],(c,[s])=>Math.sqrt(s.evaluate(c))],log10:[Ht,[Ht],(c,[s])=>Math.log(s.evaluate(c))/Math.LN10],ln:[Ht,[Ht],(c,[s])=>Math.log(s.evaluate(c))],log2:[Ht,[Ht],(c,[s])=>Math.log(s.evaluate(c))/Math.LN2],sin:[Ht,[Ht],(c,[s])=>Math.sin(s.evaluate(c))],cos:[Ht,[Ht],(c,[s])=>Math.cos(s.evaluate(c))],tan:[Ht,[Ht],(c,[s])=>Math.tan(s.evaluate(c))],asin:[Ht,[Ht],(c,[s])=>Math.asin(s.evaluate(c))],acos:[Ht,[Ht],(c,[s])=>Math.acos(s.evaluate(c))],atan:[Ht,[Ht],(c,[s])=>Math.atan(s.evaluate(c))],min:[Ht,cf(Ht),(c,s)=>Math.min(...s.map(u=>u.evaluate(c)))],max:[Ht,cf(Ht),(c,s)=>Math.max(...s.map(u=>u.evaluate(c)))],abs:[Ht,[Ht],(c,[s])=>Math.abs(s.evaluate(c))],round:[Ht,[Ht],(c,[s])=>{let u=s.evaluate(c);return u<0?-Math.round(-u):Math.round(u)}],floor:[Ht,[Ht],(c,[s])=>Math.floor(s.evaluate(c))],ceil:[Ht,[Ht],(c,[s])=>Math.ceil(s.evaluate(c))],"filter-==":[Zr,[on,$r],(c,[s,u])=>c.properties()[s.value]===u.value],"filter-id-==":[Zr,[$r],(c,[s])=>c.id()===s.value],"filter-type-==":[Zr,[on],(c,[s])=>c.geometryType()===s.value],"filter-<":[Zr,[on,$r],(c,[s,u])=>{let h=c.properties()[s.value],v=u.value;return typeof h==typeof v&&h<v}],"filter-id-<":[Zr,[$r],(c,[s])=>{let u=c.id(),h=s.value;return typeof u==typeof h&&u<h}],"filter->":[Zr,[on,$r],(c,[s,u])=>{let h=c.properties()[s.value],v=u.value;return typeof h==typeof v&&h>v}],"filter-id->":[Zr,[$r],(c,[s])=>{let u=c.id(),h=s.value;return typeof u==typeof h&&u>h}],"filter-<=":[Zr,[on,$r],(c,[s,u])=>{let h=c.properties()[s.value],v=u.value;return typeof h==typeof v&&h<=v}],"filter-id-<=":[Zr,[$r],(c,[s])=>{let u=c.id(),h=s.value;return typeof u==typeof h&&u<=h}],"filter->=":[Zr,[on,$r],(c,[s,u])=>{let h=c.properties()[s.value],v=u.value;return typeof h==typeof v&&h>=v}],"filter-id->=":[Zr,[$r],(c,[s])=>{let u=c.id(),h=s.value;return typeof u==typeof h&&u>=h}],"filter-has":[Zr,[$r],(c,[s])=>s.value in c.properties()],"filter-has-id":[Zr,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Zr,[ja(on)],(c,[s])=>s.value.indexOf(c.geometryType())>=0],"filter-id-in":[Zr,[ja($r)],(c,[s])=>s.value.indexOf(c.id())>=0],"filter-in-small":[Zr,[on,ja($r)],(c,[s,u])=>u.value.indexOf(c.properties()[s.value])>=0],"filter-in-large":[Zr,[on,ja($r)],(c,[s,u])=>function(h,v,S,I){for(;S<=I;){let C=S+I>>1;if(v[C]===h)return!0;v[C]>h?I=C-1:S=C+1}return!1}(c.properties()[s.value],u.value,0,u.value.length-1)],all:{type:Zr,overloads:[[[Zr,Zr],(c,[s,u])=>s.evaluate(c)&&u.evaluate(c)],[cf(Zr),(c,s)=>{for(let u of s)if(!u.evaluate(c))return!1;return!0}]]},any:{type:Zr,overloads:[[[Zr,Zr],(c,[s,u])=>s.evaluate(c)||u.evaluate(c)],[cf(Zr),(c,s)=>{for(let u of s)if(u.evaluate(c))return!0;return!1}]]},"!":[Zr,[Zr],(c,[s])=>!s.evaluate(c)],"is-supported-script":[Zr,[on],(c,[s])=>{let u=c.globals&&c.globals.isSupportedScript;return!u||u(s.evaluate(c))}],upcase:[on,[on],(c,[s])=>s.evaluate(c).toUpperCase()],downcase:[on,[on],(c,[s])=>s.evaluate(c).toLowerCase()],concat:[on,cf($r),(c,s)=>s.map(u=>Fr(u.evaluate(c))).join("")],"resolved-locale":[on,[Kv],(c,[s])=>s.evaluate(c).resolvedLocale()]});class Kb{constructor(s,u){this.expression=s,this._warningHistory={},this._evaluator=new kb,this._defaultValue=u?function(h){if(h.type==="color"&&Zm(h.default))return new sn(0,0,0,0);switch(h.type){case"color":return sn.parse(h.default)||null;case"padding":return mo.parse(h.default)||null;case"numberArray":return aa.parse(h.default)||null;case"colorArray":return Vi.parse(h.default)||null;case"variableAnchorOffsetCollection":return sa.parse(h.default)||null;case"projectionDefinition":return $o.parse(h.default)||null;default:return h.default===void 0?null:h.default}}(u):null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(s,u,h,v,S,I){return this._evaluator.globals=s,this._evaluator.feature=u,this._evaluator.featureState=h,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)}evaluate(s,u,h,v,S,I){this._evaluator.globals=s,this._evaluator.feature=u||null,this._evaluator.featureState=h||null,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=I||null;try{let C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new Kn(`Expected value to be one of ${Object.keys(this._enumValues).map(O=>JSON.stringify(O)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console!="undefined"&&console.warn(C.message)),this._defaultValue}}}function yy(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in Pd}function Ym(c,s){let u=new Md(Pd,my,[],s?function(v){let S={color:Oo,string:on,number:Ht,enum:on,boolean:Zr,formatted:Fc,padding:Xv,numberArray:wd,colorArray:Hl,projectionDefinition:Qp,resolvedImage:ki,variableAnchorOffsetCollection:Qv};return v.type==="array"?ja(S[v.value]||$r,v.length):S[v.type]}(s):void 0),h=u.parse(c,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?ZT(new Kb(h,s)):Od(u.errors)}class Km{constructor(s,u){this.kind=s,this._styleExpression=u,this.isStateDependent=s!=="constant"&&!Wm(u.expression),this.globalStateRefs=Jm(u.expression)}evaluateWithoutErrorHandling(s,u,h,v,S,I){return this._styleExpression.evaluateWithoutErrorHandling(s,u,h,v,S,I)}evaluate(s,u,h,v,S,I){return this._styleExpression.evaluate(s,u,h,v,S,I)}}class Xb{constructor(s,u,h,v){this.kind=s,this.zoomStops=h,this._styleExpression=u,this.isStateDependent=s!=="camera"&&!Wm(u.expression),this.globalStateRefs=Jm(u.expression),this.interpolationType=v}evaluateWithoutErrorHandling(s,u,h,v,S,I){return this._styleExpression.evaluateWithoutErrorHandling(s,u,h,v,S,I)}evaluate(s,u,h,v,S,I){return this._styleExpression.evaluate(s,u,h,v,S,I)}interpolationFactor(s,u,h){return this.interpolationType?ko.interpolationFactor(this.interpolationType,s,u,h):0}}function JT(c,s){let u=Ym(c,s);if(u.result==="error")return u;let h=u.value.expression,v=gy(h);if(!v&&!$c(s))return Od([new $n("","data expressions not supported")]);let S=vy(h,["zoom"]);if(!S&&!YT(s))return Od([new $n("","zoom expressions not supported")]);let I=Qm(h);return I||S?I instanceof $n?Od([I]):I instanceof ko&&!Yb(s)?Od([new $n("","\"interpolate\" expressions cannot be used with this property")]):ZT(I?new Xb(v?"camera":"composite",u.value,I.labels,I instanceof ko?I.interpolation:void 0):new Km(v?"constant":"source",u.value)):Od([new $n("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class Xm{constructor(s,u){this._parameters=s,this._specification=u,Oi(this,KT(this._parameters,this._specification))}static deserialize(s){return new Xm(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Qm(c){let s=null;if(c instanceof Rm)s=Qm(c.result);else if(c instanceof jm){for(let u of c.args)if(s=Qm(u),s)break}else(c instanceof Di||c instanceof ko)&&c.input instanceof Rs&&c.input.name==="zoom"&&(s=c);return s instanceof $n||c.eachChild(u=>{let h=Qm(u);h instanceof $n?s=h:!s&&h?s=new $n("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&h&&s!==h&&(s=new $n("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function Jm(c,s=new Set){return c instanceof Hm&&s.add(c.key),c.eachChild(u=>{Jm(u,s)}),s}function _y(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(let s of c.slice(1))if(!_y(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}let Qb={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pf(c){if(c==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};_y(c)||(c=ff(c));let s=Ym(c,Qb);if(s.result==="error")throw new Error(s.value.map(u=>`${u.key}: ${u.message}`).join(", "));return{filter:(u,h,v)=>s.value.evaluate(u,h,{},v),needGeometry:by(c),getGlobalStateRefs:()=>Jm(s.value.expression)}}function Jb(c,s){return c<s?-1:c>s?1:0}function by(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let s=1;s<c.length;s++)if(by(c[s]))return!0;return!1}function ff(c){if(!c)return!0;let s=c[0];return c.length<=1?s!=="any":s==="=="?ex(c[1],c[2],"=="):s==="!="?xy(ex(c[1],c[2],"==")):s==="<"||s===">"||s==="<="||s===">="?ex(c[1],c[2],s):s==="any"?(u=c.slice(1),["any"].concat(u.map(ff))):s==="all"?["all"].concat(c.slice(1).map(ff)):s==="none"?["all"].concat(c.slice(1).map(ff).map(xy)):s==="in"?eM(c[1],c.slice(2)):s==="!in"?xy(eM(c[1],c.slice(2))):s==="has"?tM(c[1]):s!=="!has"||xy(tM(c[1]));var u}function ex(c,s,u){switch(c){case"$type":return[`filter-type-${u}`,s];case"$id":return[`filter-id-${u}`,s];default:return[`filter-${u}`,c,s]}}function eM(c,s){if(s.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(u=>typeof u!=typeof s[0])?["filter-in-large",c,["literal",s.sort(Jb)]]:["filter-in-small",c,["literal",s]]}}function tM(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function xy(c){return["!",c]}function tx(c){let s=typeof c;if(s==="number"||s==="boolean"||s==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let v="[";for(let S of c)v+=`${tx(S)},`;return`${v}]`}let u=Object.keys(c).sort(),h="{";for(let v=0;v<u.length;v++)h+=`${JSON.stringify(u[v])}:${tx(c[u[v]])},`;return`${h}}`}function BL(c){let s="";for(let u of wt)s+=`/${tx(c[u])}`;return s}function rx(c){let s=c.value;return s?[new Mt(c.key,s,"constants have been deprecated as of v8")]:[]}function Si(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Kl(c){if(Array.isArray(c))return c.map(Kl);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){let s={};for(let u in c)s[u]=Kl(c[u]);return s}return Si(c)}function Ls(c){let s=c.key,u=c.value,h=c.valueSpec||{},v=c.objectElementValidators||{},S=c.style,I=c.styleSpec,C=c.validateSpec,O=[],q=cn(u);if(q!=="object")return[new Mt(s,u,`object expected, ${q} found`)];for(let F in u){let $=F.split(".")[0],Z=Td(h,$)||h["*"],Q;if(Td(v,$))Q=v[$];else if(Td(h,$))Q=C;else if(v["*"])Q=v["*"];else{if(!h["*"]){O.push(new Mt(s,u[F],`unknown property "${F}"`));continue}Q=C}O=O.concat(Q({key:(s&&`${s}.`)+F,value:u[F],valueSpec:Z,style:S,styleSpec:I,object:u,objectKey:F,validateSpec:C},u))}for(let F in h)v[F]||h[F].required&&h[F].default===void 0&&u[F]===void 0&&O.push(new Mt(s,u,`missing required property "${F}"`));return O}function wy(c){let s=c.value,u=c.valueSpec,h=c.style,v=c.styleSpec,S=c.key,I=c.arrayElementValidator||c.validateSpec;if(cn(s)!=="array")return[new Mt(S,s,`array expected, ${cn(s)} found`)];if(u.length&&s.length!==u.length)return[new Mt(S,s,`array length ${u.length} expected, length ${s.length} found`)];if(u["min-length"]&&s.length<u["min-length"])return[new Mt(S,s,`array length at least ${u["min-length"]} expected, length ${s.length} found`)];let C={type:u.value,values:u.values};v.$version<7&&(C.function=u.function),cn(u.value)==="object"&&(C=u.value);let O=[];for(let q=0;q<s.length;q++)O=O.concat(I({array:s,arrayIndex:q,value:s[q],valueSpec:C,validateSpec:c.validateSpec,style:h,styleSpec:v,key:`${S}[${q}]`}));return O}function eg(c){let s=c.key,u=c.value,h=c.valueSpec,v=cn(u);return v==="number"&&u!=u&&(v="NaN"),v!=="number"?[new Mt(s,u,`number expected, ${v} found`)]:"minimum"in h&&u<h.minimum?[new Mt(s,u,`${u} is less than the minimum value ${h.minimum}`)]:"maximum"in h&&u>h.maximum?[new Mt(s,u,`${u} is greater than the maximum value ${h.maximum}`)]:[]}function rM(c){let s=c.valueSpec,u=Si(c.value.type),h,v,S,I={},C=u!=="categorical"&&c.value.property===void 0,O=!C,q=cn(c.value.stops)==="array"&&cn(c.value.stops[0])==="array"&&cn(c.value.stops[0][0])==="object",F=Ls({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Q){if(u==="identity")return[new Mt(Q.key,Q.value,"identity function may not have a \"stops\" property")];let J=[],ne=Q.value;return J=J.concat(wy({key:Q.key,value:ne,valueSpec:Q.valueSpec,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,arrayElementValidator:$})),cn(ne)==="array"&&ne.length===0&&J.push(new Mt(Q.key,ne,"array must have at least one stop")),J},default:function(Q){return Q.validateSpec({key:Q.key,value:Q.value,valueSpec:s,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec})}}});return u==="identity"&&C&&F.push(new Mt(c.key,c.value,"missing required property \"property\"")),u==="identity"||c.value.stops||F.push(new Mt(c.key,c.value,"missing required property \"stops\"")),u==="exponential"&&c.valueSpec.expression&&!Yb(c.valueSpec)&&F.push(new Mt(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(O&&!$c(c.valueSpec)?F.push(new Mt(c.key,c.value,"property functions not supported")):C&&!YT(c.valueSpec)&&F.push(new Mt(c.key,c.value,"zoom functions not supported"))),u!=="categorical"&&!q||c.value.property!==void 0||F.push(new Mt(c.key,c.value,"\"property\" property is required")),F;function $(Q){let J=[],ne=Q.value,ue=Q.key;if(cn(ne)!=="array")return[new Mt(ue,ne,`array expected, ${cn(ne)} found`)];if(ne.length!==2)return[new Mt(ue,ne,`array length 2 expected, length ${ne.length} found`)];if(q){if(cn(ne[0])!=="object")return[new Mt(ue,ne,`object expected, ${cn(ne[0])} found`)];if(ne[0].zoom===void 0)return[new Mt(ue,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new Mt(ue,ne,"object stop key must have value")];if(S&&S>Si(ne[0].zoom))return[new Mt(ue,ne[0].zoom,"stop zoom values must appear in ascending order")];Si(ne[0].zoom)!==S&&(S=Si(ne[0].zoom),v=void 0,I={}),J=J.concat(Ls({key:`${ue}[0]`,value:ne[0],valueSpec:{zoom:{}},validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{zoom:eg,value:Z}}))}else J=J.concat(Z({key:`${ue}[0]`,value:ne[0],validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec},ne));return yy(Kl(ne[1]))?J.concat([new Mt(`${ue}[1]`,ne[1],"expressions are not allowed in function stops.")]):J.concat(Q.validateSpec({key:`${ue}[1]`,value:ne[1],valueSpec:s,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec}))}function Z(Q,J){let ne=cn(Q.value),ue=Si(Q.value),_e=Q.value!==null?Q.value:J;if(h){if(ne!==h)return[new Mt(Q.key,_e,`${ne} stop domain type must match previous stop domain type ${h}`)]}else h=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean")return[new Mt(Q.key,_e,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&u!=="categorical"){let $e=`number expected, ${ne} found`;return $c(s)&&u===void 0&&($e+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new Mt(Q.key,_e,$e)]}return u!=="categorical"||ne!=="number"||isFinite(ue)&&Math.floor(ue)===ue?u!=="categorical"&&ne==="number"&&v!==void 0&&ue<v?[new Mt(Q.key,_e,"stop domain values must appear in ascending order")]:(v=ue,u==="categorical"&&ue in I?[new Mt(Q.key,_e,"stop domain values must be unique")]:(I[ue]=!0,[])):[new Mt(Q.key,_e,`integer expected, found ${ue}`)]}}function df(c){let s=(c.expressionContext==="property"?JT:Ym)(Kl(c.value),c.valueSpec);if(s.result==="error")return s.value.map(h=>new Mt(`${c.key}${h.key}`,c.value,h.message));let u=s.value.expression||s.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!u.outputDefined())return[new Mt(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Wm(u))return[new Mt(c.key,c.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(c.expressionContext==="filter"&&!Wm(u))return[new Mt(c.key,c.value,"\"feature-state\" data expressions are not supported with filters.")];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!vy(u,["zoom","feature-state"]))return[new Mt(c.key,c.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(c.expressionContext==="cluster-initial"&&!gy(u))return[new Mt(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sy(c){let s=c.key,u=c.value,h=cn(u);return h!=="string"?[new Mt(s,u,`color expected, ${h} found`)]:sn.parse(String(u))?[]:[new Mt(s,u,`color expected, "${u}" found`)]}function ju(c){let s=c.key,u=c.value,h=c.valueSpec,v=[];return Array.isArray(h.values)?h.values.indexOf(Si(u))===-1&&v.push(new Mt(s,u,`expected one of [${h.values.join(", ")}], ${JSON.stringify(u)} found`)):Object.keys(h.values).indexOf(Si(u))===-1&&v.push(new Mt(s,u,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(u)} found`)),v}function nx(c){return _y(Kl(c.value))?df(Oi({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):nM(c)}function nM(c){let s=c.value,u=c.key;if(cn(s)!=="array")return[new Mt(u,s,`array expected, ${cn(s)} found`)];let h=c.styleSpec,v,S=[];if(s.length<1)return[new Mt(u,s,"filter array must have at least 1 element")];switch(S=S.concat(ju({key:`${u}[0]`,value:s[0],valueSpec:h.filter_operator,style:c.style,styleSpec:c.styleSpec})),Si(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&Si(s[1])==="$type"&&S.push(new Mt(u,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&S.push(new Mt(u,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(v=cn(s[1]),v!=="string"&&S.push(new Mt(`${u}[1]`,s[1],`string expected, ${v} found`)));for(let I=2;I<s.length;I++)v=cn(s[I]),Si(s[1])==="$type"?S=S.concat(ju({key:`${u}[${I}]`,value:s[I],valueSpec:h.geometry_type,style:c.style,styleSpec:c.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&S.push(new Mt(`${u}[${I}]`,s[I],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let I=1;I<s.length;I++)S=S.concat(nM({key:`${u}[${I}]`,value:s[I],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":v=cn(s[1]),s.length!==2?S.push(new Mt(u,s,`filter array for "${s[0]}" operator must have 2 elements`)):v!=="string"&&S.push(new Mt(`${u}[1]`,s[1],`string expected, ${v} found`))}return S}function iM(c,s){let u=c.key,h=c.validateSpec,v=c.style,S=c.styleSpec,I=c.value,C=c.objectKey,O=S[`${s}_${c.layerType}`];if(!O)return[];let q=C.match(/^(.*)-transition$/);if(s==="paint"&&q&&O[q[1]]&&O[q[1]].transition)return h({key:u,value:I,valueSpec:S.transition,style:v,styleSpec:S});let F=c.valueSpec||O[C];if(!F)return[new Mt(u,I,`unknown property "${C}"`)];let $;if(cn(I)==="string"&&$c(F)&&!F.tokens&&($=/^{([^}]+)}$/.exec(I)))return[new Mt(u,I,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify($[1])} }\`.`)];let Z=[];return c.layerType==="symbol"&&(C==="text-field"&&v&&!v.glyphs&&Z.push(new Mt(u,I,"use of \"text-field\" requires a style \"glyphs\" property")),C==="text-font"&&Zm(Kl(I))&&Si(I.type)==="identity"&&Z.push(new Mt(u,I,"\"text-font\" does not support identity functions"))),Z.concat(h({key:c.key,value:I,valueSpec:F,style:v,styleSpec:S,expressionContext:"property",propertyType:s,propertyKey:C}))}function oM(c){return iM(c,"paint")}function aM(c){return iM(c,"layout")}function sM(c){let s=[],u=c.value,h=c.key,v=c.style,S=c.styleSpec;if(cn(u)!=="object")return[new Mt(h,u,`object expected, ${cn(u)} found`)];u.type||u.ref||s.push(new Mt(h,u,"either \"type\" or \"ref\" is required"));let I=Si(u.type),C=Si(u.ref);if(u.id){let O=Si(u.id);for(let q=0;q<c.arrayIndex;q++){let F=v.layers[q];Si(F.id)===O&&s.push(new Mt(h,u.id,`duplicate layer id "${u.id}", previously used at line ${F.id.__line__}`))}}if("ref"in u){let O;["type","source","source-layer","filter","layout"].forEach(q=>{q in u&&s.push(new Mt(h,u[q],`"${q}" is prohibited for ref layers`))}),v.layers.forEach(q=>{Si(q.id)===C&&(O=q)}),O?O.ref?s.push(new Mt(h,u.ref,"ref cannot reference another ref layer")):I=Si(O.type):s.push(new Mt(h,u.ref,`ref layer "${C}" not found`))}else if(I!=="background")if(u.source){let O=v.sources&&v.sources[u.source],q=O&&Si(O.type);O?q==="vector"&&I==="raster"?s.push(new Mt(h,u.source,`layer "${u.id}" requires a raster source`)):q!=="raster-dem"&&I==="hillshade"||q!=="raster-dem"&&I==="color-relief"?s.push(new Mt(h,u.source,`layer "${u.id}" requires a raster-dem source`)):q==="raster"&&I!=="raster"?s.push(new Mt(h,u.source,`layer "${u.id}" requires a vector source`)):q!=="vector"||u["source-layer"]?q==="raster-dem"&&I!=="hillshade"&&I!=="color-relief"?s.push(new Mt(h,u.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):I!=="line"||!u.paint||!u.paint["line-gradient"]||q==="geojson"&&O.lineMetrics||s.push(new Mt(h,u,`layer "${u.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new Mt(h,u,`layer "${u.id}" must specify a "source-layer"`)):s.push(new Mt(h,u.source,`source "${u.source}" not found`))}else s.push(new Mt(h,u,"missing required property \"source\""));return s=s.concat(Ls({key:h,value:u,valueSpec:S.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${h}.type`,value:u.type,valueSpec:S.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:u,objectKey:"type"}),filter:nx,layout:O=>Ls({layer:u,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":q=>aM(Oi({layerType:I},q))}}),paint:O=>Ls({layer:u,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":q=>oM(Oi({layerType:I},q))}})}})),s}function ml(c){let s=c.value,u=c.key,h=cn(s);return h!=="string"?[new Mt(u,s,`string expected, ${h} found`)]:[]}let kd={promoteId:function({key:c,value:s}){if(cn(s)==="string")return ml({key:c,value:s});{let u=[];for(let h in s)u.push(...ml({key:`${c}.${h}`,value:s[h]}));return u}}};function Fa(c){let s=c.value,u=c.key,h=c.styleSpec,v=c.style,S=c.validateSpec;if(!s.type)return[new Mt(u,s,"\"type\" is required")];let I=Si(s.type),C;switch(I){case"vector":case"raster":return C=Ls({key:u,value:s,valueSpec:h[`source_${I.replace("-","_")}`],style:c.style,styleSpec:h,objectElementValidators:kd,validateSpec:S}),C;case"raster-dem":return C=function(O){var q;let F=(q=O.sourceName)!==null&&q!==void 0?q:"",$=O.value,Z=O.styleSpec,Q=Z.source_raster_dem,J=O.style,ne=[],ue=cn($);if($===void 0)return ne;if(ue!=="object")return ne.push(new Mt("source_raster_dem",$,`object expected, ${ue} found`)),ne;let _e=Si($.encoding)==="custom",$e=["redFactor","greenFactor","blueFactor","baseShift"],ke=O.value.encoding?`"${O.value.encoding}"`:"Default";for(let Re in $)!_e&&$e.includes(Re)?ne.push(new Mt(Re,$[Re],`In "${F}": "${Re}" is only valid when "encoding" is set to "custom". ${ke} encoding found`)):Q[Re]?ne=ne.concat(O.validateSpec({key:Re,value:$[Re],valueSpec:Q[Re],validateSpec:O.validateSpec,style:J,styleSpec:Z})):ne.push(new Mt(Re,$[Re],`unknown property "${Re}"`));return ne}({sourceName:u,value:s,style:c.style,styleSpec:h,validateSpec:S}),C;case"geojson":if(C=Ls({key:u,value:s,valueSpec:h.source_geojson,style:v,styleSpec:h,validateSpec:S,objectElementValidators:kd}),s.cluster)for(let O in s.clusterProperties){let[q,F]=s.clusterProperties[O],$=typeof q=="string"?[q,["accumulated"],["get",O]]:q;C.push(...df({key:`${u}.${O}.map`,value:F,expressionContext:"cluster-map"})),C.push(...df({key:`${u}.${O}.reduce`,value:$,expressionContext:"cluster-reduce"}))}return C;case"video":return Ls({key:u,value:s,valueSpec:h.source_video,style:v,validateSpec:S,styleSpec:h});case"image":return Ls({key:u,value:s,valueSpec:h.source_image,style:v,validateSpec:S,styleSpec:h});case"canvas":return[new Mt(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ju({key:`${u}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Dd(c){let s=c.value,u=c.styleSpec,h=u.light,v=c.style,S=[],I=cn(s);if(s===void 0)return S;if(I!=="object")return S=S.concat([new Mt("light",s,`object expected, ${I} found`)]),S;for(let C in s){let O=C.match(/^(.*)-transition$/);S=S.concat(O&&h[O[1]]&&h[O[1]].transition?c.validateSpec({key:C,value:s[C],valueSpec:u.transition,validateSpec:c.validateSpec,style:v,styleSpec:u}):h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],validateSpec:c.validateSpec,style:v,styleSpec:u}):[new Mt(C,s[C],`unknown property "${C}"`)])}return S}function ix(c){let s=c.value,u=c.styleSpec,h=u.sky,v=c.style,S=cn(s);if(s===void 0)return[];if(S!=="object")return[new Mt("sky",s,`object expected, ${S} found`)];let I=[];for(let C in s)I=I.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],style:v,styleSpec:u}):[new Mt(C,s[C],`unknown property "${C}"`)]);return I}function lM(c){let s=c.value,u=c.styleSpec,h=u.terrain,v=c.style,S=[],I=cn(s);if(s===void 0)return S;if(I!=="object")return S=S.concat([new Mt("terrain",s,`object expected, ${I} found`)]),S;for(let C in s)S=S.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],validateSpec:c.validateSpec,style:v,styleSpec:u}):[new Mt(C,s[C],`unknown property "${C}"`)]);return S}function uM(c){let s=[],u=c.value,h=c.key;if(Array.isArray(u)){let v=[],S=[];for(let I in u)u[I].id&&v.includes(u[I].id)&&s.push(new Mt(h,u,`all the sprites' ids must be unique, but ${u[I].id} is duplicated`)),v.push(u[I].id),u[I].url&&S.includes(u[I].url)&&s.push(new Mt(h,u,`all the sprites' URLs must be unique, but ${u[I].url} is duplicated`)),S.push(u[I].url),s=s.concat(Ls({key:`${h}[${I}]`,value:u[I],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return s}return ml({key:h,value:u})}function Nd(c){return s=c.value,s&&s.constructor===Object?[]:[new Mt(c.key,c.value,`object expected, ${cn(c.value)} found`)];var s}let ox={"*":()=>[],array:wy,boolean:function(c){let s=c.value,u=c.key,h=cn(s);return h!=="boolean"?[new Mt(u,s,`boolean expected, ${h} found`)]:[]},number:eg,color:Sy,constants:rx,enum:ju,filter:nx,function:rM,layer:sM,object:Ls,source:Fa,light:Dd,sky:ix,terrain:lM,projection:function(c){let s=c.value,u=c.styleSpec,h=u.projection,v=c.style,S=cn(s);if(s===void 0)return[];if(S!=="object")return[new Mt("projection",s,`object expected, ${S} found`)];let I=[];for(let C in s)I=I.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],style:v,styleSpec:u}):[new Mt(C,s[C],`unknown property "${C}"`)]);return I},projectionDefinition:function(c){let s=c.key,u=c.value;u=u instanceof String?u.valueOf():u;let h=cn(u);return h!=="array"||function(v){return Array.isArray(v)&&v.length===3&&typeof v[0]=="string"&&typeof v[1]=="string"&&typeof v[2]=="number"}(u)||function(v){return!!["interpolate","step","literal"].includes(v[0])}(u)?["array","string"].includes(h)?[]:[new Mt(s,u,`projection expected, invalid type "${h}" found`)]:[new Mt(s,u,`projection expected, invalid array ${JSON.stringify(u)} found`)]},string:ml,formatted:function(c){return ml(c).length===0?[]:df(c)},resolvedImage:function(c){return ml(c).length===0?[]:df(c)},padding:function(c){let s=c.key,u=c.value;if(cn(u)==="array"){if(u.length<1||u.length>4)return[new Mt(s,u,`padding requires 1 to 4 values; ${u.length} values found`)];let h={type:"number"},v=[];for(let S=0;S<u.length;S++)v=v.concat(c.validateSpec({key:`${s}[${S}]`,value:u[S],validateSpec:c.validateSpec,valueSpec:h}));return v}return eg({key:s,value:u,valueSpec:{}})},numberArray:function(c){let s=c.key,u=c.value;if(cn(u)==="array"){let h={type:"number"};if(u.length<1)return[new Mt(s,u,"array length at least 1 expected, length 0 found")];let v=[];for(let S=0;S<u.length;S++)v=v.concat(c.validateSpec({key:`${s}[${S}]`,value:u[S],validateSpec:c.validateSpec,valueSpec:h}));return v}return eg({key:s,value:u,valueSpec:{}})},colorArray:function(c){let s=c.key,u=c.value;if(cn(u)==="array"){if(u.length<1)return[new Mt(s,u,"array length at least 1 expected, length 0 found")];let h=[];for(let v=0;v<u.length;v++)h=h.concat(Sy({key:`${s}[${v}]`,value:u[v]}));return h}return Sy({key:s,value:u})},variableAnchorOffsetCollection:function(c){let s=c.key,u=c.value,h=cn(u),v=c.styleSpec;if(h!=="array"||u.length<1||u.length%2!=0)return[new Mt(s,u,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let I=0;I<u.length;I+=2)S=S.concat(ju({key:`${s}[${I}]`,value:u[I],valueSpec:v.layout_symbol["text-anchor"]})),S=S.concat(wy({key:`${s}[${I+1}]`,value:u[I+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:v}));return S},sprite:uM,state:Nd};function Rd(c){let s=c.value,u=c.valueSpec,h=c.styleSpec;return c.validateSpec=Rd,u.expression&&Zm(Si(s))?rM(c):u.expression&&yy(Kl(s))?df(c):u.type&&ox[u.type]?ox[u.type](c):Ls(Oi({},c,{valueSpec:u.type?h[u.type]:u}))}function cM(c){let s=c.value,u=c.key,h=ml(c);return h.length||(s.indexOf("{fontstack}")===-1&&h.push(new Mt(u,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&h.push(new Mt(u,s,"\"glyphs\" url must include a \"{range}\" token"))),h}function Ba(c,s=Se){let u=[];return u=u.concat(Rd({key:"",value:c,valueSpec:s.$root,styleSpec:s,style:c,validateSpec:Rd,objectElementValidators:{glyphs:cM,"*":()=>[]}})),c.constants&&(u=u.concat(rx({key:"constants",value:c.constants}))),Ld(u)}function gl(c){return function(s){return c(nr(je({},s),{validateSpec:Rd}))}}function Ld(c){return[].concat(c).sort((s,u)=>s.line-u.line)}function vl(c){return function(...s){return Ld(c.apply(this,s))}}Ba.source=vl(gl(Fa)),Ba.sprite=vl(gl(uM)),Ba.glyphs=vl(gl(cM)),Ba.light=vl(gl(Dd)),Ba.sky=vl(gl(ix)),Ba.terrain=vl(gl(lM)),Ba.state=vl(gl(Nd)),Ba.layer=vl(gl(sM)),Ba.filter=vl(gl(nx)),Ba.paintProperty=vl(gl(oM)),Ba.layoutProperty=vl(gl(aM));let qd=Ba,UL=qd.light,tg=qd.sky,VL=qd.paintProperty,$L=qd.layoutProperty;function rg(c,s){let u=!1;if(s&&s.length)for(let h of s)c.fire(new qe(new Error(h.message))),u=!0;return u}class ng{constructor(s,u,h){let v=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let I=new Int32Array(this.arrayBuffer);s=I[0],this.d=(u=I[1])+2*(h=I[2]);for(let O=0;O<this.d*this.d;O++){let q=I[3+O],F=I[3+O+1];v.push(q===F?null:I.subarray(q,F))}let C=I[3+v.length+1];this.keys=I.subarray(I[3+v.length],C),this.bboxes=I.subarray(C),this.insert=this._insertReadonly}else{this.d=u+2*h;for(let I=0;I<this.d*this.d;I++)v.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=s,this.padding=h,this.scale=u/s,this.uid=0;let S=h/u*s;this.min=-S,this.max=s+S}insert(s,u,h,v,S){this._forEachCell(u,h,v,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(u),this.bboxes.push(h),this.bboxes.push(v),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,u,h,v,S,I){this.cells[S].push(I)}query(s,u,h,v,S){let I=this.min,C=this.max;if(s<=I&&u<=I&&C<=h&&C<=v&&!S)return Array.prototype.slice.call(this.keys);{let O=[];return this._forEachCell(s,u,h,v,this._queryCell,O,{},S),O}}_queryCell(s,u,h,v,S,I,C,O){let q=this.cells[S];if(q!==null){let F=this.keys,$=this.bboxes;for(let Z=0;Z<q.length;Z++){let Q=q[Z];if(C[Q]===void 0){let J=4*Q;(O?O($[J+0],$[J+1],$[J+2],$[J+3]):s<=$[J+2]&&u<=$[J+3]&&h>=$[J+0]&&v>=$[J+1])?(C[Q]=!0,I.push(F[Q])):C[Q]=!1}}}}_forEachCell(s,u,h,v,S,I,C,O){let q=this._convertToCellCoord(s),F=this._convertToCellCoord(u),$=this._convertToCellCoord(h),Z=this._convertToCellCoord(v);for(let Q=q;Q<=$;Q++)for(let J=F;J<=Z;J++){let ne=this.d*J+Q;if((!O||O(this._convertFromCellCoord(Q),this._convertFromCellCoord(J),this._convertFromCellCoord(Q+1),this._convertFromCellCoord(J+1)))&&S.call(this,s,u,h,v,ne,I,C,O))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,u=3+this.cells.length+1+1,h=0;for(let I=0;I<this.cells.length;I++)h+=this.cells[I].length;let v=new Int32Array(u+h+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let S=u;for(let I=0;I<s.length;I++){let C=s[I];v[3+I]=S,v.set(C,S),S+=C.length}return v[3+s.length]=S,v.set(this.keys,S),S+=this.keys.length,v[3+s.length+1]=S,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer}static serialize(s,u){let h=s.toArrayBuffer();return u&&u.push(h),{buffer:h}}static deserialize(s){return new ng(s.buffer)}}let yl={};function Jt(c,s,u={}){if(yl[c])throw new Error(`${c} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:c,writeable:!1}),yl[c]={klass:s,omit:u.omit||[],shallow:u.shallow||[]}}Jt("Object",Object),Jt("Set",Set),Jt("TransferableGridIndex",ng),Jt("Color",sn),Jt("Error",Error),Jt("AJAXError",ge),Jt("ResolvedImage",ps),Jt("StylePropertyFunction",Xm),Jt("StyleExpression",Kb,{omit:["_evaluator"]}),Jt("ZoomDependentExpression",Xb),Jt("ZoomConstantExpression",Km),Jt("CompoundExpression",Rs,{omit:["_evaluate"]});for(let c in Pd)Pd[c]._classRegistryKey||Jt(`Expression_${c}`,Pd[c]);function ax(c){return c&&typeof ArrayBuffer!="undefined"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Ey(c){return c.$name||c.constructor._classRegistryKey}function sx(c){return!function(s){if(s===null||typeof s!="object")return!1;let u=Ey(s);return!(!u||u==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||ax(c)||Rt(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function zd(c,s){if(sx(c))return(ax(c)||Rt(c))&&s&&s.push(c),ArrayBuffer.isView(c)&&s&&s.push(c.buffer),c instanceof ImageData&&s&&s.push(c.data.buffer),c;if(Array.isArray(c)){let S=[];for(let I of c)S.push(zd(I,s));return S}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);let u=Ey(c);if(!u)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!yl[u])throw new Error(`${u} is not registered.`);let{klass:h}=yl[u],v=h.serialize?h.serialize(c,s):{};if(h.serialize){if(s&&v===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let S in c){if(!c.hasOwnProperty(S)||yl[u].omit.indexOf(S)>=0)continue;let I=c[S];v[S]=yl[u].shallow.indexOf(S)>=0?I:zd(I,s)}c instanceof Error&&(v.message=c.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(v.$name=u),v}function hf(c){if(sx(c))return c;if(Array.isArray(c))return c.map(hf);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);let s=Ey(c)||"Object";if(!yl[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:u}=yl[s];if(!u)throw new Error(`can't deserialize unregistered class ${s}`);if(u.deserialize)return u.deserialize(c);let h=Object.create(u.prototype);for(let v of Object.keys(c)){if(v==="$name")continue;let S=c[v];h[v]=yl[s].shallow.indexOf(v)>=0?S:hf(S)}return h}class Iy{constructor(){this.first=!0}update(s,u){let h=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=h,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=h,!0):(this.lastFloorZoom>h?(this.lastIntegerZoom=h+1,this.lastIntegerZoomTime=u):this.lastFloorZoom<h&&(this.lastIntegerZoom=h,this.lastIntegerZoomTime=u),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=h,!0))}}let dn={"Latin-1 Supplement":c=>c>=128&&c<=255,"Hangul Jamo":c=>c>=4352&&c<=4607,Khmer:c=>c>=6016&&c<=6143,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Kanbun:c=>c>=12688&&c<=12703,"CJK Strokes":c=>c>=12736&&c<=12783,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Hangul Syllables":c=>c>=44032&&c<=55215,"Private Use Area":c=>c>=57344&&c<=63743,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function Ty(c){for(let s of c)if(ux(s.charCodeAt(0)))return!0;return!1}function GL(c){for(let s of c)if(!pM(s.charCodeAt(0)))return!1;return!0}function My(c){let s=c.map(u=>{try{return new RegExp(`\\p{sc=${u}}`,"u").source}catch(h){return null}}).filter(u=>u);return new RegExp(s.join("|"),"u")}let HL=My(["Arab","Dupl","Mong","Ougr","Syrc"]);function pM(c){return!HL.test(String.fromCodePoint(c))}let lx=My(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function ux(c){return!(c!==746&&c!==747&&(c<4352||!(dn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||dn["CJK Compatibility"](c)||dn["CJK Strokes"](c)||!(!dn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||dn["Enclosed CJK Letters and Months"](c)||dn["Ideographic Description Characters"](c)||dn.Kanbun(c)||dn.Katakana(c)&&c!==12540||!(!dn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!dn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||dn["Vertical Forms"](c)||dn["Yijing Hexagram Symbols"](c)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(c))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(c))||lx.test(String.fromCodePoint(c)))))}function fM(c){return!(ux(c)||function(s){return!!(dn["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||dn["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||dn["Letterlike Symbols"](s)||dn["Number Forms"](s)||dn["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||dn["Control Pictures"](s)&&s!==9251||dn["Optical Character Recognition"](s)||dn["Enclosed Alphanumerics"](s)||dn["Geometric Shapes"](s)||dn["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||dn["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||dn["CJK Symbols and Punctuation"](s)||dn.Katakana(s)||dn["Private Use Area"](s)||dn["CJK Compatibility Forms"](s)||dn["Small Form Variants"](s)||dn["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(c))}let dM=My(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function cx(c){return dM.test(String.fromCodePoint(c))}function hM(c,s){return!(!s&&cx(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||dn.Khmer(c))}function mM(c){for(let s of c)if(cx(s.charCodeAt(0)))return!0;return!1}let _l=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){if(_l.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(c,s){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(c.pluginStatus!=="loading")return this.setState(c),c;let u=c.pluginURL,h=new Promise(S=>{this.loadScriptResolve=S});s(u);let v=new Promise(S=>setTimeout(()=>S(),this.TIMEOUT));if(yield Promise.race([h,v]),this.isParsed()){let S={pluginStatus:"loaded",pluginURL:u};return this.setState(S),S}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${u}`)})}};class Xn{constructor(s,u){this.zoom=s,u?(this.now=u.now||0,this.fadeDuration=u.fadeDuration||0,this.zoomHistory=u.zoomHistory||new Iy,this.transition=u.transition||{},this.globalState=u.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Iy,this.transition={},this.globalState={})}isSupportedScript(s){return function(u,h){for(let v of u)if(!hM(v.charCodeAt(0),h))return!1;return!0}(s,_l.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,u=s-Math.floor(s),h=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:u+(1-u)*h}:{fromScale:.5,toScale:1,t:1-(1-h)*u}}}class jd{constructor(s,u){this.property=s,this.value=u,this.expression=function(h,v){if(Zm(h))return new Xm(h,v);if(yy(h)){let S=JT(h,v);if(S.result==="error")throw new Error(S.value.map(I=>`${I.key}: ${I.message}`).join(", "));return S.value}{let S=h;return v.type==="color"&&typeof h=="string"?S=sn.parse(h):v.type!=="padding"||typeof h!="number"&&!Array.isArray(h)?v.type!=="numberArray"||typeof h!="number"&&!Array.isArray(h)?v.type!=="colorArray"||typeof h!="string"&&!Array.isArray(h)?v.type==="variableAnchorOffsetCollection"&&Array.isArray(h)?S=sa.parse(h):v.type==="projectionDefinition"&&typeof h=="string"&&(S=$o.parse(h)):S=Vi.parse(h):S=aa.parse(h):S=mo.parse(h),{globalStateRefs:new Set,kind:"constant",evaluate:()=>S}}}(u===void 0?s.specification.default:u,s.specification),this._evaluate=this.expression.evaluate}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(s,u,h){return this.property.possiblyEvaluate(this,s,u,h)}setGlobalState(s){this.expression.evaluate=(u,h,v,S,I,C)=>(u.globalState=s,this._evaluate.call(this.expression,u,h,v,S,I,C))}}class px{constructor(s){this.property=s,this.value=new jd(s,void 0)}transitioned(s,u){return new fx(this.property,this.value,u,Oe({},s.transition,this.transition),s.now)}untransitioned(){return new fx(this.property,this.value,null,{},0)}}class gM{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return st(this._values[s].value.value)}setValue(s,u){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new px(this._values[s].property)),this._values[s].value=new jd(this._values[s].property,u===null?void 0:st(u))}getTransition(s){return st(this._values[s].transition)}setTransition(s,u){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new px(this._values[s].property)),this._values[s].transition=st(u)||void 0}serialize(){let s={};for(let u of Object.keys(this._values)){let h=this.getValue(u);h!==void 0&&(s[u]=h);let v=this.getTransition(u);v!==void 0&&(s[`${u}-transition`]=v)}return s}transitioned(s,u){let h=new dx(this._properties);for(let v of Object.keys(this._values))h._values[v]=this._values[v].transitioned(s,u._values[v]);return h}untransitioned(){let s=new dx(this._properties);for(let u of Object.keys(this._values))s._values[u]=this._values[u].untransitioned();return s}}class fx{constructor(s,u,h,v,S){this.property=s,this.value=u,this.begin=S+v.delay||0,this.end=this.begin+v.duration||0,s.specification.transition&&(v.delay||v.duration)&&(this.prior=h)}possiblyEvaluate(s,u,h){let v=s.now||0,S=this.value.possiblyEvaluate(s,u,h),I=this.prior;if(I){if(v>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(v<this.begin)return I.possiblyEvaluate(s,u,h);{let C=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(s,u,h),S,It(C))}}return S}}class dx{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,u,h){let v=new Cy(this._properties);for(let S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(s,u,h);return v}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class vM{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues),this._globalState={}}hasValue(s){return this._values[s].value!==void 0}getValue(s){return st(this._values[s].value)}setValue(s,u){this._values[s]=new jd(this._values[s].property,u===null?void 0:st(u)),this._values[s].setGlobalState(this._globalState)}serialize(){let s={};for(let u of Object.keys(this._values)){let h=this.getValue(u);h!==void 0&&(s[u]=h)}return s}possiblyEvaluate(s,u,h){let v=new Cy(this._properties);for(let S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(s,u,h);return v}setGlobalState(s){this._globalState=s;for(let u of Object.values(this._values))u.setGlobalState(s)}}class Xl{constructor(s,u,h){this.property=s,this.value=u,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,u,h,v){return this.property.evaluate(this.value,this.parameters,s,u,h,v)}}class Cy{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class lr{constructor(s){this.specification=s}possiblyEvaluate(s,u){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(u)}interpolate(s,u,h){let v=Yl[this.specification.type];return v?v(s,u,h):s}}class Ir{constructor(s,u){this.specification=s,this.overrides=u}possiblyEvaluate(s,u,h,v){return new Xl(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(u,null,{},h,v)}:s.expression,u)}interpolate(s,u,h){if(s.value.kind!=="constant"||u.value.kind!=="constant")return s;if(s.value.value===void 0||u.value.value===void 0)return new Xl(this,{kind:"constant",value:void 0},s.parameters);let v=Yl[this.specification.type];if(v){let S=v(s.value.value,u.value.value,h);return new Xl(this,{kind:"constant",value:S},s.parameters)}return s}evaluate(s,u,h,v,S,I){return s.kind==="constant"?s.value:s.evaluate(u,h,v,S,I)}}class Ay extends Ir{possiblyEvaluate(s,u,h,v){if(s.value===void 0)return new Xl(this,{kind:"constant",value:void 0},u);if(s.expression.kind==="constant"){let S=s.expression.evaluate(u,null,{},h,v),I=s.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,C=this._calculate(I,I,I,u);return new Xl(this,{kind:"constant",value:C},u)}if(s.expression.kind==="camera"){let S=this._calculate(s.expression.evaluate({zoom:u.zoom-1}),s.expression.evaluate({zoom:u.zoom}),s.expression.evaluate({zoom:u.zoom+1}),u);return new Xl(this,{kind:"constant",value:S},u)}return new Xl(this,s.expression,u)}evaluate(s,u,h,v,S,I){if(s.kind==="source"){let C=s.evaluate(u,h,v,S,I);return this._calculate(C,C,C,u)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(u.zoom)-1},h,v),s.evaluate({zoom:Math.floor(u.zoom)},h,v),s.evaluate({zoom:Math.floor(u.zoom)+1},h,v),u):s.value}_calculate(s,u,h,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:u}:{from:h,to:u}}interpolate(s){return s}}class Hc{constructor(s){this.specification=s}possiblyEvaluate(s,u,h,v){if(s.value!==void 0){if(s.expression.kind==="constant"){let S=s.expression.evaluate(u,null,{},h,v);return this._calculate(S,S,S,u)}return this._calculate(s.expression.evaluate(new Xn(Math.floor(u.zoom-1),u)),s.expression.evaluate(new Xn(Math.floor(u.zoom),u)),s.expression.evaluate(new Xn(Math.floor(u.zoom+1),u)),u)}}_calculate(s,u,h,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:u}:{from:h,to:u}}interpolate(s){return s}}class Py{constructor(s){this.specification=s}possiblyEvaluate(s,u,h,v){return!!s.expression.evaluate(u,null,{},h,v)}interpolate(){return!1}}class la{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let u in s){let h=s[u];h.specification.overridable&&this.overridableProperties.push(u);let v=this.defaultPropertyValues[u]=new jd(h,void 0),S=this.defaultTransitionablePropertyValues[u]=new px(h);this.defaultTransitioningPropertyValues[u]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=v.possiblyEvaluate({})}}}Jt("DataDrivenProperty",Ir),Jt("DataConstantProperty",lr),Jt("CrossFadedDataDrivenProperty",Ay),Jt("CrossFadedProperty",Hc),Jt("ColorRampProperty",Py);let yM="-transition";class qs extends ft{constructor(s,u){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,this._globalState={},s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter,this._featureFilter=pf(s.filter)),u.layout&&(this._unevaluatedLayout=new vM(u.layout)),u.paint)){this._transitionablePaint=new gM(u.paint);for(let h in s.paint)this.setPaintProperty(h,s.paint[h],{validate:!1});for(let h in s.layout)this.setLayoutProperty(h,s.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Cy(u.paint)}}setFilter(s){this.filter=s,this._featureFilter=pf(s)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}getLayoutAffectingGlobalStateRefs(){let s=new Set;if(this._unevaluatedLayout)for(let u in this._unevaluatedLayout._values){let h=this._unevaluatedLayout._values[u];for(let v of h.getGlobalStateRefs())s.add(v)}for(let u of this._featureFilter.getGlobalStateRefs())s.add(u);return s}getPaintAffectingGlobalStateRefs(){var s;let u=new globalThis.Map;if(this._transitionablePaint)for(let h in this._transitionablePaint._values){let v=this._transitionablePaint._values[h].value;for(let S of v.getGlobalStateRefs()){let I=(s=u.get(S))!==null&&s!==void 0?s:[];I.push({name:h,value:v.value}),u.set(S,I)}}return u}setLayoutProperty(s,u,h={}){u!=null&&this._validate($L,`layers.${this.id}.layout.${s}`,s,u,h)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,u):this.visibility=u)}getPaintProperty(s){return s.endsWith(yM)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,u,h={}){if(u!=null&&this._validate(VL,`layers.${this.id}.paint.${s}`,s,u,h))return!1;if(s.endsWith(yM))return this._transitionablePaint.setTransition(s.slice(0,-11),u||void 0),!1;{let v=this._transitionablePaint._values[s],S=v.property.specification["property-type"]==="cross-faded-data-driven",I=v.value.isDataDriven(),C=v.value;this._transitionablePaint.setValue(s,u),this._handleSpecialPaintPropertyUpdate(s);let O=this._transitionablePaint._values[s].value;return O.isDataDriven()||I||S||this._handleOverridablePaintPropertyUpdate(s,C,O)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,u,h){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,u){s.globalState=this._globalState,s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,u)}setGlobalState(s){this._globalState=s,this._unevaluatedLayout&&this._unevaluatedLayout.setGlobalState(s)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),lt(s,(u,h)=>!(u===void 0||h==="layout"&&!Object.keys(u).length||h==="paint"&&!Object.keys(u).length))}_validate(s,u,h,v,S={}){return(!S||S.validate!==!1)&&rg(this,s.call(qd,{key:u,layerType:this.type,objectKey:h,value:v,styleSpec:Se,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let u=this.paint.get(s);if(u instanceof Xl&&$c(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}}let WL={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ig{constructor(s,u){this._structArray=s,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Gn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,u){return s._trim(),u&&(s.isTransferred=!0,u.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let u=Object.create(this.prototype);return u.arrayBuffer=s.arrayBuffer,u.length=s.length,u.capacity=s.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ni(c,s=1){let u=0,h=0;return{members:c.map(v=>{let S=WL[v.type].BYTES_PER_ELEMENT,I=u=Oy(u,Math.max(s,S)),C=v.components||1;return h=Math.max(h,S),u+=S*C,{name:v.name,type:v.type,components:C,offset:I}}),size:Oy(u,Math.max(h,s)),alignment:s}}function Oy(c,s){return Math.ceil(c/s)*s}class Fd extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u){let h=this.length;return this.resize(h+1),this.emplace(h,s,u)}emplace(s,u,h){let v=2*s;return this.int16[v+0]=u,this.int16[v+1]=h,s}}Fd.prototype.bytesPerElement=4,Jt("StructArrayLayout2i4",Fd);class Bd extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,u,h)}emplace(s,u,h,v){let S=3*s;return this.int16[S+0]=u,this.int16[S+1]=h,this.int16[S+2]=v,s}}Bd.prototype.bytesPerElement=6,Jt("StructArrayLayout3i6",Bd);class hx extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v){let S=this.length;return this.resize(S+1),this.emplace(S,s,u,h,v)}emplace(s,u,h,v,S){let I=4*s;return this.int16[I+0]=u,this.int16[I+1]=h,this.int16[I+2]=v,this.int16[I+3]=S,s}}hx.prototype.bytesPerElement=8,Jt("StructArrayLayout4i8",hx);class Ud extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I){let C=this.length;return this.resize(C+1),this.emplace(C,s,u,h,v,S,I)}emplace(s,u,h,v,S,I,C){let O=6*s;return this.int16[O+0]=u,this.int16[O+1]=h,this.int16[O+2]=v,this.int16[O+3]=S,this.int16[O+4]=I,this.int16[O+5]=C,s}}Ud.prototype.bytesPerElement=12,Jt("StructArrayLayout2i4i12",Ud);class mf extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I){let C=this.length;return this.resize(C+1),this.emplace(C,s,u,h,v,S,I)}emplace(s,u,h,v,S,I,C){let O=4*s,q=8*s;return this.int16[O+0]=u,this.int16[O+1]=h,this.uint8[q+4]=v,this.uint8[q+5]=S,this.uint8[q+6]=I,this.uint8[q+7]=C,s}}mf.prototype.bytesPerElement=8,Jt("StructArrayLayout2i4ub8",mf);class og extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u){let h=this.length;return this.resize(h+1),this.emplace(h,s,u)}emplace(s,u,h){let v=2*s;return this.float32[v+0]=u,this.float32[v+1]=h,s}}og.prototype.bytesPerElement=8,Jt("StructArrayLayout2f8",og);class ky extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I,C,O,q,F){let $=this.length;return this.resize($+1),this.emplace($,s,u,h,v,S,I,C,O,q,F)}emplace(s,u,h,v,S,I,C,O,q,F,$){let Z=10*s;return this.uint16[Z+0]=u,this.uint16[Z+1]=h,this.uint16[Z+2]=v,this.uint16[Z+3]=S,this.uint16[Z+4]=I,this.uint16[Z+5]=C,this.uint16[Z+6]=O,this.uint16[Z+7]=q,this.uint16[Z+8]=F,this.uint16[Z+9]=$,s}}ky.prototype.bytesPerElement=20,Jt("StructArrayLayout10ui20",ky);class gf extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I,C,O,q,F,$,Z){let Q=this.length;return this.resize(Q+1),this.emplace(Q,s,u,h,v,S,I,C,O,q,F,$,Z)}emplace(s,u,h,v,S,I,C,O,q,F,$,Z,Q){let J=12*s;return this.int16[J+0]=u,this.int16[J+1]=h,this.int16[J+2]=v,this.int16[J+3]=S,this.uint16[J+4]=I,this.uint16[J+5]=C,this.uint16[J+6]=O,this.uint16[J+7]=q,this.int16[J+8]=F,this.int16[J+9]=$,this.int16[J+10]=Z,this.int16[J+11]=Q,s}}gf.prototype.bytesPerElement=24,Jt("StructArrayLayout4i4ui4i24",gf);class mx extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,u,h)}emplace(s,u,h,v){let S=3*s;return this.float32[S+0]=u,this.float32[S+1]=h,this.float32[S+2]=v,s}}mx.prototype.bytesPerElement=12,Jt("StructArrayLayout3f12",mx);class gx extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let u=this.length;return this.resize(u+1),this.emplace(u,s)}emplace(s,u){return this.uint32[1*s+0]=u,s}}gx.prototype.bytesPerElement=4,Jt("StructArrayLayout1ul4",gx);class Dy extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I,C,O,q){let F=this.length;return this.resize(F+1),this.emplace(F,s,u,h,v,S,I,C,O,q)}emplace(s,u,h,v,S,I,C,O,q,F){let $=10*s,Z=5*s;return this.int16[$+0]=u,this.int16[$+1]=h,this.int16[$+2]=v,this.int16[$+3]=S,this.int16[$+4]=I,this.int16[$+5]=C,this.uint32[Z+3]=O,this.uint16[$+8]=q,this.uint16[$+9]=F,s}}Dy.prototype.bytesPerElement=20,Jt("StructArrayLayout6i1ul2ui20",Dy);class vx extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I){let C=this.length;return this.resize(C+1),this.emplace(C,s,u,h,v,S,I)}emplace(s,u,h,v,S,I,C){let O=6*s;return this.int16[O+0]=u,this.int16[O+1]=h,this.int16[O+2]=v,this.int16[O+3]=S,this.int16[O+4]=I,this.int16[O+5]=C,s}}vx.prototype.bytesPerElement=12,Jt("StructArrayLayout2i2i2i12",vx);class x extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S){let I=this.length;return this.resize(I+1),this.emplace(I,s,u,h,v,S)}emplace(s,u,h,v,S,I){let C=4*s,O=8*s;return this.float32[C+0]=u,this.float32[C+1]=h,this.float32[C+2]=v,this.int16[O+6]=S,this.int16[O+7]=I,s}}x.prototype.bytesPerElement=16,Jt("StructArrayLayout2f1f2i16",x);class a extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I){let C=this.length;return this.resize(C+1),this.emplace(C,s,u,h,v,S,I)}emplace(s,u,h,v,S,I,C){let O=16*s,q=4*s,F=8*s;return this.uint8[O+0]=u,this.uint8[O+1]=h,this.float32[q+1]=v,this.float32[q+2]=S,this.int16[F+6]=I,this.int16[F+7]=C,s}}a.prototype.bytesPerElement=16,Jt("StructArrayLayout2ub2f2i16",a);class f extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,u,h)}emplace(s,u,h,v){let S=3*s;return this.uint16[S+0]=u,this.uint16[S+1]=h,this.uint16[S+2]=v,s}}f.prototype.bytesPerElement=6,Jt("StructArrayLayout3ui6",f);class m extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e){let $e=this.length;return this.resize($e+1),this.emplace($e,s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e)}emplace(s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e,$e){let ke=24*s,Re=12*s,et=48*s;return this.int16[ke+0]=u,this.int16[ke+1]=h,this.uint16[ke+2]=v,this.uint16[ke+3]=S,this.uint32[Re+2]=I,this.uint32[Re+3]=C,this.uint32[Re+4]=O,this.uint16[ke+10]=q,this.uint16[ke+11]=F,this.uint16[ke+12]=$,this.float32[Re+7]=Z,this.float32[Re+8]=Q,this.uint8[et+36]=J,this.uint8[et+37]=ne,this.uint8[et+38]=ue,this.uint32[Re+10]=_e,this.int16[ke+22]=$e,s}}m.prototype.bytesPerElement=48,Jt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",m);class y extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e,$e,ke,Re,et,ut,St,$t,kt,Bt,cr,Ft){let Ut=this.length;return this.resize(Ut+1),this.emplace(Ut,s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e,$e,ke,Re,et,ut,St,$t,kt,Bt,cr,Ft)}emplace(s,u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e,$e,ke,Re,et,ut,St,$t,kt,Bt,cr,Ft,Ut){let mt=32*s,Mr=16*s;return this.int16[mt+0]=u,this.int16[mt+1]=h,this.int16[mt+2]=v,this.int16[mt+3]=S,this.int16[mt+4]=I,this.int16[mt+5]=C,this.int16[mt+6]=O,this.int16[mt+7]=q,this.uint16[mt+8]=F,this.uint16[mt+9]=$,this.uint16[mt+10]=Z,this.uint16[mt+11]=Q,this.uint16[mt+12]=J,this.uint16[mt+13]=ne,this.uint16[mt+14]=ue,this.uint16[mt+15]=_e,this.uint16[mt+16]=$e,this.uint16[mt+17]=ke,this.uint16[mt+18]=Re,this.uint16[mt+19]=et,this.uint16[mt+20]=ut,this.uint16[mt+21]=St,this.uint16[mt+22]=$t,this.uint32[Mr+12]=kt,this.float32[Mr+13]=Bt,this.float32[Mr+14]=cr,this.uint16[mt+30]=Ft,this.uint16[mt+31]=Ut,s}}y.prototype.bytesPerElement=64,Jt("StructArrayLayout8i15ui1ul2f2ui64",y);class w extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let u=this.length;return this.resize(u+1),this.emplace(u,s)}emplace(s,u){return this.float32[1*s+0]=u,s}}w.prototype.bytesPerElement=4,Jt("StructArrayLayout1f4",w);class M extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,u,h)}emplace(s,u,h,v){let S=3*s;return this.uint16[6*s+0]=u,this.float32[S+1]=h,this.float32[S+2]=v,s}}M.prototype.bytesPerElement=12,Jt("StructArrayLayout1ui2f12",M);class k extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,u,h)}emplace(s,u,h,v){let S=4*s;return this.uint32[2*s+0]=u,this.uint16[S+2]=h,this.uint16[S+3]=v,s}}k.prototype.bytesPerElement=8,Jt("StructArrayLayout1ul2ui8",k);class D extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,u){let h=this.length;return this.resize(h+1),this.emplace(h,s,u)}emplace(s,u,h){let v=2*s;return this.uint16[v+0]=u,this.uint16[v+1]=h,s}}D.prototype.bytesPerElement=4,Jt("StructArrayLayout2ui4",D);class B extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let u=this.length;return this.resize(u+1),this.emplace(u,s)}emplace(s,u){return this.uint16[1*s+0]=u,s}}B.prototype.bytesPerElement=2,Jt("StructArrayLayout1ui2",B);class V extends Gn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,u,h,v){let S=this.length;return this.resize(S+1),this.emplace(S,s,u,h,v)}emplace(s,u,h,v,S){let I=4*s;return this.float32[I+0]=u,this.float32[I+1]=h,this.float32[I+2]=v,this.float32[I+3]=S,s}}V.prototype.bytesPerElement=16,Jt("StructArrayLayout4f16",V);class W extends ig{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new l(this.anchorPointX,this.anchorPointY)}}W.prototype.size=20;class G extends Dy{get(s){return new W(this,s)}}Jt("CollisionBoxArray",G);class K extends ig{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}K.prototype.size=48;class te extends m{get(s){return new K(this,s)}}Jt("PlacedSymbolArray",te);class pe extends ig{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}pe.prototype.size=64;class ce extends y{get(s){return new pe(this,s)}}Jt("SymbolInstanceArray",ce);class fe extends w{getoffsetX(s){return this.float32[1*s+0]}}Jt("GlyphOffsetArray",fe);class be extends Bd{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Jt("SymbolLineVertexArray",be);class Ce extends ig{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ce.prototype.size=12;class Ee extends M{get(s){return new Ce(this,s)}}Jt("TextAnchorOffsetArray",Ee);class De extends ig{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}De.prototype.size=8;class Le extends k{get(s){return new De(this,s)}}Jt("FeatureIndexArray",Le);class Te extends Fd{}class Ge extends Fd{}class it extends Fd{}class Qe extends Ud{}class Je extends mf{}class nt extends og{}class Pt extends ky{}class Dt extends gf{}class bt extends mx{}class ar extends gx{}class Gr extends vx{}class Cn extends a{}class Hn extends f{}class Bn extends D{}let vi=Ni([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ei}=vi;class Vr{constructor(s=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=s}prepareSegment(s,u,h,v){let S=this.segments[this.segments.length-1];return s>Vr.MAX_VERTEX_ARRAY_LENGTH&&vt(`Max vertices per segment is ${Vr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Vr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!S||S.vertexLength+s>Vr.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==v?this.createNewSegment(u,h,v):S}createNewSegment(s,u,h){let v={vertexOffset:s.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0,vaos:{}};return h!==void 0&&(v.sortKey=h),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(v),v}getOrCreateLatestSegment(s,u,h){return this.prepareSegment(0,s,u,h)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let s of this.segments)for(let u in s.vaos)s.vaos[u].destroy()}static simpleSegment(s,u,h,v){return new Vr([{vertexOffset:s,primitiveOffset:u,vertexLength:h,primitiveLength:v,vaos:{},sortKey:0}])}}function Wn(c,s){return 256*(c=ot(Math.floor(c),0,255))+ot(Math.floor(s),0,255)}Vr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Jt("SegmentVector",Vr);let $i=Ni([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var to,vo,ua,bl={exports:{}},Wc={exports:{}},Zc={exports:{}},Vd=function(){if(ua)return bl.exports;ua=1;var c=(to||(to=1,Wc.exports=function(u,h){var v,S,I,C,O,q,F,$;for(S=u.length-(v=3&u.length),I=h,O=3432918353,q=461845907,$=0;$<S;)F=255&u.charCodeAt($)|(255&u.charCodeAt(++$))<<8|(255&u.charCodeAt(++$))<<16|(255&u.charCodeAt(++$))<<24,++$,I=27492+(65535&(C=5*(65535&(I=(I^=F=(65535&(F=(F=(65535&F)*O+(((F>>>16)*O&65535)<<16)&4294967295)<<15|F>>>17))*q+(((F>>>16)*q&65535)<<16)&4294967295)<<13|I>>>19))+((5*(I>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(F=0,v){case 3:F^=(255&u.charCodeAt($+2))<<16;case 2:F^=(255&u.charCodeAt($+1))<<8;case 1:I^=F=(65535&(F=(F=(65535&(F^=255&u.charCodeAt($)))*O+(((F>>>16)*O&65535)<<16)&4294967295)<<15|F>>>17))*q+(((F>>>16)*q&65535)<<16)&4294967295}return I^=u.length,I=2246822507*(65535&(I^=I>>>16))+((2246822507*(I>>>16)&65535)<<16)&4294967295,I=3266489909*(65535&(I^=I>>>13))+((3266489909*(I>>>16)&65535)<<16)&4294967295,(I^=I>>>16)>>>0}),Wc.exports),s=(vo||(vo=1,Zc.exports=function(u,h){for(var v,S=u.length,I=h^S,C=0;S>=4;)v=1540483477*(65535&(v=255&u.charCodeAt(C)|(255&u.charCodeAt(++C))<<8|(255&u.charCodeAt(++C))<<16|(255&u.charCodeAt(++C))<<24))+((1540483477*(v>>>16)&65535)<<16),I=1540483477*(65535&I)+((1540483477*(I>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),S-=4,++C;switch(S){case 3:I^=(255&u.charCodeAt(C+2))<<16;case 2:I^=(255&u.charCodeAt(C+1))<<8;case 1:I=1540483477*(65535&(I^=255&u.charCodeAt(C)))+((1540483477*(I>>>16)&65535)<<16)}return I=1540483477*(65535&(I^=I>>>13))+((1540483477*(I>>>16)&65535)<<16),(I^=I>>>15)>>>0}),Zc.exports);return bl.exports=c,bl.exports.murmur3=c,bl.exports.murmur2=s,bl.exports}(),$d=d(Vd);class vf{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,u,h,v){this.ids.push(yf(s)),this.positions.push(u,h,v)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let u=yf(s),h=0,v=this.ids.length-1;for(;h<v;){let I=h+v>>1;this.ids[I]>=u?v=I:h=I+1}let S=[];for(;this.ids[h]===u;)S.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return S}static serialize(s,u){let h=new Float64Array(s.ids),v=new Uint32Array(s.positions);return Ua(h,v,0,h.length-1),u&&u.push(h.buffer,v.buffer),{ids:h,positions:v}}static deserialize(s){let u=new vf;return u.ids=s.ids,u.positions=s.positions,u.indexed=!0,u}}function yf(c){let s=+c;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:$d(String(c))}function Ua(c,s,u,h){for(;u<h;){let v=c[u+h>>1],S=u-1,I=h+1;for(;;){do S++;while(c[S]<v);do I--;while(c[I]>v);if(S>=I)break;xl(c,S,I),xl(s,3*S,3*I),xl(s,3*S+1,3*I+1),xl(s,3*S+2,3*I+2)}I-u<h-I?(Ua(c,s,u,I),u=I+1):(Ua(c,s,I+1,h),h=I)}}function xl(c,s,u){let h=c[s];c[s]=c[u],c[u]=h}Jt("FeaturePositionMap",vf);class ca{constructor(s,u){this.gl=s.gl,this.location=u}}class Yc extends ca{constructor(s,u){super(s,u),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class Gi extends ca{constructor(s,u){super(s,u),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class ro extends ca{constructor(s,u){super(s,u),this.current=sn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let zs=new Float32Array(16);function Hi(c){return[Wn(255*c.r,255*c.g),Wn(255*c.b,255*c.a)]}class ag{constructor(s,u,h){this.value=s,this.uniformNames=u.map(v=>`u_${v}`),this.type=h}setUniform(s,u,h){s.set(h.constantOr(this.value))}getBinding(s,u,h){return this.type==="color"?new ro(s,u):new Yc(s,u)}}class Gd{constructor(s,u){this.uniformNames=u.map(h=>`u_${h}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,u){this.pixelRatioFrom=u.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=u.tlbr,this.patternTo=s.tlbr}setUniform(s,u,h,v){let S=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&s.set(S)}getBinding(s,u,h){return h.substr(0,9)==="u_pattern"?new Gi(s,u):new Yc(s,u)}}class Fu{constructor(s,u,h,v){this.expression=s,this.type=h,this.maxValue=0,this.paintVertexAttributes=u.map(S=>({name:`a_${S}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(s,u,h){let v=this.paintVertexArray.length,S=this.expression.evaluate(new Xn(0,h),u,{},h.canonical,[],h.formattedSection);this.paintVertexArray.resize(s),this._setPaintValue(v,s,S)}updatePaintArray(s,u,h,v,S){let I=this.expression.evaluate(new Xn(0,S),h,v);this._setPaintValue(s,u,I)}_setPaintValue(s,u,h){if(this.type==="color"){let v=Hi(h);for(let S=s;S<u;S++)this.paintVertexArray.emplace(S,v[0],v[1])}else{for(let v=s;v<u;v++)this.paintVertexArray.emplace(v,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class wl{constructor(s,u,h,v,S,I){this.expression=s,this.uniformNames=u.map(C=>`u_${C}_t`),this.type=h,this.useIntegerZoom=v,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=u.map(C=>({name:`a_${C}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new I}populatePaintArray(s,u,h){let v=this.expression.evaluate(new Xn(this.zoom,h),u,{},h.canonical,[],h.formattedSection),S=this.expression.evaluate(new Xn(this.zoom+1,h),u,{},h.canonical,[],h.formattedSection),I=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(I,s,v,S)}updatePaintArray(s,u,h,v,S){let I=this.expression.evaluate(new Xn(this.zoom,S),h,v),C=this.expression.evaluate(new Xn(this.zoom+1,S),h,v);this._setPaintValue(s,u,I,C)}_setPaintValue(s,u,h,v){if(this.type==="color"){let S=Hi(h),I=Hi(v);for(let C=s;C<u;C++)this.paintVertexArray.emplace(C,S[0],S[1],I[0],I[1])}else{for(let S=s;S<u;S++)this.paintVertexArray.emplace(S,h,v);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(v))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,u){let h=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,v=ot(this.expression.interpolationFactor(h,this.zoom,this.zoom+1),0,1);s.set(v)}getBinding(s,u,h){return new Yc(s,u)}}class Kc{constructor(s,u,h,v,S,I){this.expression=s,this.type=u,this.useIntegerZoom=h,this.zoom=v,this.layerId=I,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(s,u,h){let v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(v,s,u.patterns&&u.patterns[this.layerId],h.imagePositions)}updatePaintArray(s,u,h,v,S){this._setPaintValues(s,u,h.patterns&&h.patterns[this.layerId],S.imagePositions)}_setPaintValues(s,u,h,v){if(!v||!h)return;let{min:S,mid:I,max:C}=h,O=v[S],q=v[I],F=v[C];if(O&&q&&F)for(let $=s;$<u;$++)this.zoomInPaintVertexArray.emplace($,q.tl[0],q.tl[1],q.br[0],q.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],q.pixelRatio,O.pixelRatio),this.zoomOutPaintVertexArray.emplace($,q.tl[0],q.tl[1],q.br[0],q.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],q.pixelRatio,F.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,$i.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,$i.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _M{constructor(s,u,h){this.binders={},this._buffers=[];let v=[];for(let S in s.paint._values){if(!h(S))continue;let I=s.paint.get(S);if(!(I instanceof Xl&&$c(I.property.specification)))continue;let C=bM(S,s.type),O=I.value,q=I.property.specification.type,F=I.property.useIntegerZoom,$=I.property.specification["property-type"],Z=$==="cross-faded"||$==="cross-faded-data-driven";if(O.kind==="constant")this.binders[S]=Z?new Gd(O.value,C):new ag(O.value,C,q),v.push(`/u_${S}`);else if(O.kind==="source"||Z){let Q=yx(S,q,"source");this.binders[S]=Z?new Kc(O,q,F,u,Q,s.id):new Fu(O,C,q,Q),v.push(`/a_${S}`)}else{let Q=yx(S,q,"composite");this.binders[S]=new wl(O,C,q,F,u,Q),v.push(`/z_${S}`)}}this.cacheKey=v.sort().join("")}getMaxValue(s){let u=this.binders[s];return u instanceof Fu||u instanceof wl?u.maxValue:0}populatePaintArrays(s,u,h){for(let v in this.binders){let S=this.binders[v];(S instanceof Fu||S instanceof wl||S instanceof Kc)&&S.populatePaintArray(s,u,h)}}setConstantPatternPositions(s,u){for(let h in this.binders){let v=this.binders[h];v instanceof Gd&&v.setConstantPatternPositions(s,u)}}updatePaintArrays(s,u,h,v,S){let I=!1;for(let C in s){let O=u.getPositions(C);for(let q of O){let F=h.feature(q.index);for(let $ in this.binders){let Z=this.binders[$];if((Z instanceof Fu||Z instanceof wl||Z instanceof Kc)&&Z.expression.isStateDependent===!0){let Q=v.paint.get($);Z.expression=Q.value,Z.updatePaintArray(q.start,q.end,F,s[C],S),I=!0}}}}return I}defines(){let s=[];for(let u in this.binders){let h=this.binders[u];(h instanceof ag||h instanceof Gd)&&s.push(...h.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return s}getBinderAttributes(){let s=[];for(let u in this.binders){let h=this.binders[u];if(h instanceof Fu||h instanceof wl)for(let v=0;v<h.paintVertexAttributes.length;v++)s.push(h.paintVertexAttributes[v].name);else if(h instanceof Kc)for(let v=0;v<$i.members.length;v++)s.push($i.members[v].name)}return s}getBinderUniforms(){let s=[];for(let u in this.binders){let h=this.binders[u];if(h instanceof ag||h instanceof Gd||h instanceof wl)for(let v of h.uniformNames)s.push(v)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,u){let h=[];for(let v in this.binders){let S=this.binders[v];if(S instanceof ag||S instanceof Gd||S instanceof wl){for(let I of S.uniformNames)if(u[I]){let C=S.getBinding(s,u[I],I);h.push({name:I,property:v,binding:C})}}}return h}setUniforms(s,u,h,v){for(let{name:S,property:I,binding:C}of u)this.binders[I].setUniform(C,v,h.get(I),S)}updatePaintBuffers(s){this._buffers=[];for(let u in this.binders){let h=this.binders[u];if(s&&h instanceof Kc){let v=s.fromScale===2?h.zoomInPaintVertexBuffer:h.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(h instanceof Fu||h instanceof wl)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(s){for(let u in this.binders){let h=this.binders[u];(h instanceof Fu||h instanceof wl||h instanceof Kc)&&h.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let u=this.binders[s];(u instanceof Fu||u instanceof wl||u instanceof Kc)&&u.destroy()}}}class ds{constructor(s,u,h=()=>!0){this.programConfigurations={};for(let v of s)this.programConfigurations[v.id]=new _M(v,u,h);this.needsUpload=!1,this._featureMap=new vf,this._bufferOffset=0}populatePaintArrays(s,u,h,v){for(let S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(s,u,v);u.id!==void 0&&this._featureMap.add(u.id,h,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,u,h,v){for(let S of h)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(s,this._featureMap,u,S,v)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let u in this.programConfigurations)this.programConfigurations[u].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function bM(c,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${s}-`,"").replace(/-/g,"_")]}function yx(c,s,u){let h={color:{source:og,composite:V},number:{source:w,composite:og}},v=function(S){return{"line-pattern":{source:Pt,composite:Pt},"fill-pattern":{source:Pt,composite:Pt},"fill-extrusion-pattern":{source:Pt,composite:Pt}}[S]}(c);return v&&v[u]||h[s][u]}Jt("ConstantBinder",ag),Jt("CrossFadedConstantBinder",Gd),Jt("SourceExpressionBinder",Fu),Jt("CrossFadedCompositeBinder",Kc),Jt("CompositeExpressionBinder",wl),Jt("ProgramConfiguration",_M,{omit:["_buffers"]}),Jt("ProgramConfigurationSet",ds);let Ny=Math.pow(2,14)-1,Ry=-Ny-1;function Xc(c){let s=dt/c.extent,u=c.loadGeometry();for(let h=0;h<u.length;h++){let v=u[h];for(let S=0;S<v.length;S++){let I=v[S],C=Math.round(I.x*s),O=Math.round(I.y*s);I.x=ot(C,Ry,Ny),I.y=ot(O,Ry,Ny),(C<I.x||C>I.x+1||O<I.y||O>I.y+1)&&vt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return u}function Bu(c,s){return{type:c.type,id:c.id,properties:c.properties,geometry:s?Xc(c):[]}}let fee=-32768;function UHe(c,s,u,h,v){c.emplaceBack(fee+8*s+h,fee+8*u+v)}class ZL{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(u=>u.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Ge,this.indexArray=new Hn,this.segments=new Vr,this.programConfigurations=new ds(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(s,u,h){let v=this.layers[0],S=[],I=null,C=!1,O=v.type==="heatmap";if(v.type==="circle"){let F=v;I=F.layout.get("circle-sort-key"),C=!I.isConstant(),O=O||F.paint.get("circle-pitch-alignment")==="map"}let q=O?u.subdivisionGranularity.circle:1;for(let{feature:F,id:$,index:Z,sourceLayerIndex:Q}of s){let J=this.layers[0]._featureFilter.needGeometry,ne=Bu(F,J);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom,{globalState:this.globalState}),ne,h))continue;let ue=C?I.evaluate(ne,{},h):void 0,_e={id:$,properties:F.properties,type:F.type,sourceLayerIndex:Q,index:Z,geometry:J?ne.geometry:Xc(F),patterns:{},sortKey:ue};S.push(_e)}C&&S.sort((F,$)=>F.sortKey-$.sortKey);for(let F of S){let{geometry:$,index:Z,sourceLayerIndex:Q}=F,J=s[Z].feature;this.addFeature(F,$,Z,h,q),u.featureIndex.insert(J,$,Z,Q,this.index)}}update(s,u,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,u,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Ei),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,u,h,v,S=1){let I;switch(S){case 1:I=[0,7];break;case 3:I=[0,2,5,7];break;case 5:I=[0,1,3,4,6,7];break;case 7:I=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${S}; valid values are 1, 3, 5, 7.`)}let C=I.length;for(let O of u)for(let q of O){let F=q.x,$=q.y;if(F<0||F>=dt||$<0||$>=dt)continue;let Z=this.segments.prepareSegment(C*C,this.layoutVertexArray,this.indexArray,s.sortKey),Q=Z.vertexLength;for(let J=0;J<C;J++)for(let ne=0;ne<C;ne++)UHe(this.layoutVertexArray,F,$,I[ne],I[J]);for(let J=0;J<C-1;J++)for(let ne=0;ne<C-1;ne++){let ue=Q+J*C+ne,_e=Q+(J+1)*C+ne;this.indexArray.emplaceBack(ue,_e+1,ue+1),this.indexArray.emplaceBack(ue,_e,_e+1)}Z.vertexLength+=C*C,Z.primitiveLength+=(C-1)*(C-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:{},canonical:v,globalState:this.globalState})}}function dee(c,s){for(let u=0;u<c.length;u++)if(Ly(s,c[u]))return!0;for(let u=0;u<s.length;u++)if(Ly(c,s[u]))return!0;return!!YL(c,s)}function VHe(c,s,u){return!!Ly(c,s)||!!KL(s,c,u)}function hee(c,s){if(c.length===1)return gee(s,c[0]);for(let u=0;u<s.length;u++){let h=s[u];for(let v=0;v<h.length;v++)if(Ly(c,h[v]))return!0}for(let u=0;u<c.length;u++)if(gee(s,c[u]))return!0;for(let u=0;u<s.length;u++)if(YL(c,s[u]))return!0;return!1}function $He(c,s,u){if(c.length>1){if(YL(c,s))return!0;for(let h=0;h<s.length;h++)if(KL(s[h],c,u))return!0}for(let h=0;h<c.length;h++)if(KL(c[h],s,u))return!0;return!1}function YL(c,s){if(c.length===0||s.length===0)return!1;for(let u=0;u<c.length-1;u++){let h=c[u],v=c[u+1];for(let S=0;S<s.length-1;S++)if(GHe(h,v,s[S],s[S+1]))return!0}return!1}function GHe(c,s,u,h){return At(c,u,h)!==At(s,u,h)&&At(c,s,u)!==At(c,s,h)}function KL(c,s,u){let h=u*u;if(s.length===1)return c.distSqr(s[0])<h;for(let v=1;v<s.length;v++)if(mee(c,s[v-1],s[v])<h)return!0;return!1}function mee(c,s,u){let h=s.distSqr(u);if(h===0)return c.distSqr(s);let v=((c.x-s.x)*(u.x-s.x)+(c.y-s.y)*(u.y-s.y))/h;return c.distSqr(v<0?s:v>1?u:u.sub(s)._mult(v)._add(s))}function gee(c,s){let u,h,v,S=!1;for(let I=0;I<c.length;I++){u=c[I];for(let C=0,O=u.length-1;C<u.length;O=C++)h=u[C],v=u[O],h.y>s.y!=v.y>s.y&&s.x<(v.x-h.x)*(s.y-h.y)/(v.y-h.y)+h.x&&(S=!S)}return S}function Ly(c,s){let u=!1;for(let h=0,v=c.length-1;h<c.length;v=h++){let S=c[h],I=c[v];S.y>s.y!=I.y>s.y&&s.x<(I.x-S.x)*(s.y-S.y)/(I.y-S.y)+S.x&&(u=!u)}return u}function HHe(c,s,u){let h=u[0],v=u[2];if(c.x<h.x&&s.x<h.x||c.x>v.x&&s.x>v.x||c.y<h.y&&s.y<h.y||c.y>v.y&&s.y>v.y)return!1;let S=At(c,s,u[0]);return S!==At(c,s,u[1])||S!==At(c,s,u[2])||S!==At(c,s,u[3])}function _x(c,s,u){let h=s.paint.get(c).value;return h.kind==="constant"?h.value:u.programConfigurations.get(s.id).getMaxValue(c)}function xM(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function wM(c,s,u,h,v){if(!s[0]&&!s[1])return c;let S=l.convert(s)._mult(v);u==="viewport"&&S._rotate(-h);let I=[];for(let C=0;C<c.length;C++)I.push(c[C].sub(S));return I}let vee,yee;Jt("CircleBucket",ZL,{omit:["layers"]});var WHe={get paint(){return yee=yee||new la({"circle-radius":new Ir(Se.paint_circle["circle-radius"]),"circle-color":new Ir(Se.paint_circle["circle-color"]),"circle-blur":new Ir(Se.paint_circle["circle-blur"]),"circle-opacity":new Ir(Se.paint_circle["circle-opacity"]),"circle-translate":new lr(Se.paint_circle["circle-translate"]),"circle-translate-anchor":new lr(Se.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new lr(Se.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new lr(Se.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ir(Se.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ir(Se.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ir(Se.paint_circle["circle-stroke-opacity"])})},get layout(){return vee=vee||new la({"circle-sort-key":new Ir(Se.layout_circle["circle-sort-key"])})}};class ZHe extends qs{constructor(s){super(s,WHe)}createBucket(s){return new ZL(s)}queryRadius(s){let u=s;return _x("circle-radius",this,u)+_x("circle-stroke-width",this,u)+xM(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:s,feature:u,featureState:h,geometry:v,transform:S,pixelsToTileUnits:I,unwrappedTileID:C,getElevation:O}){let q=wM(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-S.bearingInRadians,I),F=this.paint.get("circle-radius").evaluate(u,h)+this.paint.get("circle-stroke-width").evaluate(u,h),$=this.paint.get("circle-pitch-alignment")==="map",Z=$?q:function(J,ne,ue,_e){return J.map($e=>_ee($e,ne,ue,_e))}(q,S,C,O),Q=$?F*I:F;for(let J of v)for(let ne of J){let ue=$?ne:_ee(ne,S,C,O),_e=Q,$e=S.projectTileCoordinates(ne.x,ne.y,C,O).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?_e*=$e/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(_e*=S.cameraToCenterDistance/$e),VHe(Z,ue,_e))return!0}return!1}}function _ee(c,s,u,h){let v=s.projectTileCoordinates(c.x,c.y,u,h).point;return new l((.5*v.x+.5)*s.width,(.5*-v.y+.5)*s.height)}class bee extends ZL{}let xee;Jt("HeatmapBucket",bee,{omit:["layers"]});var YHe={get paint(){return xee=xee||new la({"heatmap-radius":new Ir(Se.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ir(Se.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new lr(Se.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Py(Se.paint_heatmap["heatmap-color"]),"heatmap-opacity":new lr(Se.paint_heatmap["heatmap-opacity"])})}};function XL(c,{width:s,height:u},h,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==s*u*h)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${s*u*h}`)}else v=new Uint8Array(s*u*h);return c.width=s,c.height=u,c.data=v,c}function wee(c,{width:s,height:u},h){if(s===c.width&&u===c.height)return;let v=XL({},{width:s,height:u},h);QL(c,v,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,s),height:Math.min(c.height,u)},h),c.width=s,c.height=u,c.data=v.data}function QL(c,s,u,h,v,S){if(v.width===0||v.height===0)return s;if(v.width>c.width||v.height>c.height||u.x>c.width-v.width||u.y>c.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>s.width||v.height>s.height||h.x>s.width-v.width||h.y>s.height-v.height)throw new RangeError("out of range destination coordinates for image copy");let I=c.data,C=s.data;if(I===C)throw new Error("srcData equals dstData, so image is already copied");for(let O=0;O<v.height;O++){let q=((u.y+O)*c.width+u.x)*S,F=((h.y+O)*s.width+h.x)*S;for(let $=0;$<v.width*S;$++)C[F+$]=I[q+$]}return s}class bx{constructor(s,u){XL(this,s,1,u)}resize(s){wee(this,s,1)}clone(){return new bx({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,u,h,v,S){QL(s,u,h,v,S,1)}}class hs{constructor(s,u){XL(this,s,4,u)}resize(s){wee(this,s,4)}replace(s,u){u?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new hs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,u,h,v,S){QL(s,u,h,v,S,4)}setPixel(s,u,h){let v=4*(s*this.width+u);this.data[v+0]=Math.round(255*h.r/h.a),this.data[v+1]=Math.round(255*h.g/h.a),this.data[v+2]=Math.round(255*h.b/h.a),this.data[v+3]=Math.round(255*h.a)}}function See(c){let s={},u=c.resolution||256,h=c.clips?c.clips.length:1,v=c.image||new hs({width:u,height:h});if(Math.log(u)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${u}`);let S=(I,C,O)=>{s[c.evaluationKey]=O;let q=c.expression.evaluate(s);v.setPixel(I/4/u,C/4,q)};if(c.clips)for(let I=0,C=0;I<h;++I,C+=4*u)for(let O=0,q=0;O<u;O++,q+=4){let F=O/(u-1),{start:$,end:Z}=c.clips[I];S(C,q,$*(1-F)+Z*F)}else for(let I=0,C=0;I<u;I++,C+=4)S(0,C,I/(u-1));return v}Jt("AlphaImage",bx),Jt("RGBAImage",hs);let JL="big-fb";class KHe extends qs{createBucket(s){return new bee(s)}constructor(s){super(s,YHe),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=See({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(JL)&&this.heatmapFbos.delete(JL)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Eee;var XHe={get paint(){return Eee=Eee||new la({"hillshade-illumination-direction":new lr(Se.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new lr(Se.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new lr(Se.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new lr(Se.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new lr(Se.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new lr(Se.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new lr(Se.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new lr(Se.paint_hillshade["hillshade-method"])})}};class QHe extends qs{constructor(s){super(s,XHe),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let s=this.paint.get("hillshade-illumination-direction").values,u=this.paint.get("hillshade-illumination-altitude").values,h=this.paint.get("hillshade-highlight-color").values,v=this.paint.get("hillshade-shadow-color").values,S=Math.max(s.length,u.length,h.length,v.length);s=s.concat(Array(S-s.length).fill(s.at(-1))),u=u.concat(Array(S-u.length).fill(u.at(-1))),h=h.concat(Array(S-h.length).fill(h.at(-1))),v=v.concat(Array(S-v.length).fill(v.at(-1)));let I=u.map(Ae);return{directionRadians:s.map(Ae),altitudeRadians:I,shadowColor:v,highlightColor:h}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let Iee;var JHe={get paint(){return Iee=Iee||new la({"color-relief-opacity":new lr(Se["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Py(Se["paint_color-relief"]["color-relief-color"])})}};class e6{constructor(s,u,h,v){this.context=s,this.format=h,this.texture=s.gl.createTexture(),this.update(u,v)}update(s,u,h){let{width:v,height:S}=s,I=!(this.size&&this.size[0]===v&&this.size[1]===S||h),{context:C}=this,{gl:O}=C;if(this.useMipmap=!!(u&&u.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!u||u.premultiply!==!1)),I)this.size=[v,S],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||Rt(s)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,s):O.texImage2D(O.TEXTURE_2D,0,this.format,v,S,0,this.format,O.UNSIGNED_BYTE,s.data);else{let{x:q,y:F}=h||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||Rt(s)?O.texSubImage2D(O.TEXTURE_2D,0,q,F,O.RGBA,O.UNSIGNED_BYTE,s):O.texSubImage2D(O.TEXTURE_2D,0,q,F,v,S,O.RGBA,O.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D),C.pixelStoreUnpackFlipY.setDefault(),C.pixelStoreUnpack.setDefault(),C.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(s,u,h){let{context:v}=this,{gl:S}=v;S.bindTexture(S.TEXTURE_2D,this.texture),h!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=S.LINEAR),s!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,s),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,h||s),this.filter=s),u!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,u),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}class Tee{constructor(s,u,h,v=1,S=1,I=1,C=0){if(this.uid=s,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(h&&!["mapbox","terrarium","custom"].includes(h))return void vt(`"${h}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=u.height;let O=this.dim=u.height-2;switch(this.data=new Uint32Array(u.data.buffer),h){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=S,this.blueFactor=I,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let q=0;q<O;q++)this.data[this._idx(-1,q)]=this.data[this._idx(0,q)],this.data[this._idx(O,q)]=this.data[this._idx(O-1,q)],this.data[this._idx(q,-1)]=this.data[this._idx(q,0)],this.data[this._idx(q,O)]=this.data[this._idx(q,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let q=0;q<O;q++)for(let F=0;F<O;F++){let $=this.get(q,F);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(s,u){let h=new Uint8Array(this.data.buffer),v=4*this._idx(s,u);return this.unpack(h[v],h[v+1],h[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,u){if(s<-1||s>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(s+1)}unpack(s,u,h){return s*this.redFactor+u*this.greenFactor+h*this.blueFactor-this.baseShift}pack(s){return Mee(s,this.getUnpackVector())}getPixels(){return new hs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,u,h){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let v=u*this.dim,S=u*this.dim+this.dim,I=h*this.dim,C=h*this.dim+this.dim;switch(u){case-1:v=S-1;break;case 1:S=v+1}switch(h){case-1:I=C-1;break;case 1:C=I+1}let O=-u*this.dim,q=-h*this.dim;for(let F=I;F<C;F++)for(let $=v;$<S;$++)this.data[this._idx($,F)]=s.data[this._idx($+O,F+q)]}}function Mee(c,s){let u=s[0],h=s[1],v=s[2],S=s[3],I=Math.min(u,h,v),C=Math.round((c+S)/I);return{r:Math.floor(C*I/u)%256,g:Math.floor(C*I/h)%256,b:Math.floor(C*I/v)%256}}Jt("DEMData",Tee);class eWe extends qs{constructor(s){super(s,JHe)}_createColorRamp(s){let u={elevationStops:[],colorStops:[]},h=this._transitionablePaint._values["color-relief-color"].value.expression;if(h instanceof Km&&h._styleExpression.expression instanceof ko){this.colorRampExpression=h;let I=h._styleExpression.expression;u.elevationStops=I.labels,u.colorStops=[];for(let C of u.elevationStops)u.colorStops.push(I.evaluate({globals:{elevation:C}}))}if(u.elevationStops.length<1&&(u.elevationStops=[0],u.colorStops=[sn.transparent]),u.elevationStops.length<2&&(u.elevationStops.push(u.elevationStops[0]+1),u.colorStops.push(u.colorStops[0])),u.elevationStops.length<=s)return u;let v={elevationStops:[],colorStops:[]},S=(u.elevationStops.length-1)/(s-1);for(let I=0;I<u.elevationStops.length-.5;I+=S)v.elevationStops.push(u.elevationStops[Math.round(I)]),v.colorStops.push(u.colorStops[Math.round(I)]);return vt(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),v}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(s,u,h){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let v=this._createColorRamp(u),S=new hs({width:v.colorStops.length,height:1}),I=new hs({width:v.colorStops.length,height:1});for(let C=0;C<v.elevationStops.length;C++){let O=Mee(v.elevationStops[C],h);I.setPixel(0,C,new sn(O.r/255,O.g/255,O.b/255,1)),S.setPixel(0,C,v.colorStops[C])}return this.colorRampTextures={elevationTexture:new e6(s,I,s.gl.RGBA),colorTexture:new e6(s,S,s.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}let tWe=Ni([{name:"a_pos",components:2,type:"Int16"}],4),{members:rWe}=tWe;function t6(c,s,u){let h=u.patternDependencies,v=!1;for(let S of s){let I=S.paint.get(`${c}-pattern`);I.isConstant()||(v=!0);let C=I.constantOr(null);C&&(v=!0,h[C.to]=!0,h[C.from]=!0)}return v}function r6(c,s,u,h,v){let{zoom:S,globalState:I}=h,C=v.patternDependencies;for(let O of s){let q=O.paint.get(`${c}-pattern`).value;if(q.kind!=="constant"){let F=q.evaluate({zoom:S-1,globalState:I},u,{},v.availableImages),$=q.evaluate({zoom:S,globalState:I},u,{},v.availableImages),Z=q.evaluate({zoom:S+1,globalState:I},u,{},v.availableImages);F=F&&F.name?F.name:F,$=$&&$.name?$.name:$,Z=Z&&Z.name?Z.name:Z,C[F]=!0,C[$]=!0,C[Z]=!0,u.patterns[O.id]={min:F,mid:$,max:Z}}}return u}function Cee(c,s,u,h,v){let S;if(v===function(I,C,O,q){let F=0;for(let $=C,Z=O-q;$<O;$+=q)F+=(I[Z]-I[$])*(I[$+1]+I[Z+1]),Z=$;return F}(c,s,u,h)>0)for(let I=s;I<u;I+=h)S=kee(I/h|0,c[I],c[I+1],S);else for(let I=u-h;I>=s;I-=h)S=kee(I/h|0,c[I],c[I+1],S);return S&&qy(S,S.next)&&(Ex(S),S=S.next),S}function sg(c,s){if(!c)return c;s||(s=c);let u,h=c;do if(u=!1,h.steiner||!qy(h,h.next)&&Fi(h.prev,h,h.next)!==0)h=h.next;else{if(Ex(h),h=s=h.prev,h===h.next)break;u=!0}while(u||h!==s);return s}function xx(c,s,u,h,v,S,I){if(!c)return;!I&&S&&function(O,q,F,$){let Z=O;do Z.z===0&&(Z.z=n6(Z.x,Z.y,q,F,$)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==O);Z.prevZ.nextZ=null,Z.prevZ=null,function(Q){let J,ne=1;do{let ue,_e=Q;Q=null;let $e=null;for(J=0;_e;){J++;let ke=_e,Re=0;for(let ut=0;ut<ne&&(Re++,ke=ke.nextZ,ke);ut++);let et=ne;for(;Re>0||et>0&&ke;)Re!==0&&(et===0||!ke||_e.z<=ke.z)?(ue=_e,_e=_e.nextZ,Re--):(ue=ke,ke=ke.nextZ,et--),$e?$e.nextZ=ue:Q=ue,ue.prevZ=$e,$e=ue;_e=ke}$e.nextZ=null,ne*=2}while(J>1)}(Z)}(c,h,v,S);let C=c;for(;c.prev!==c.next;){let O=c.prev,q=c.next;if(S?iWe(c,h,v,S):nWe(c))s.push(O.i,c.i,q.i),Ex(c),c=q.next,C=q.next;else if((c=q)===C){I?I===1?xx(c=oWe(sg(c),s),s,u,h,v,S,2):I===2&&aWe(c,s,u,h,v,S):xx(sg(c),s,u,h,v,S,1);break}}}function nWe(c){let s=c.prev,u=c,h=c.next;if(Fi(s,u,h)>=0)return!1;let v=s.x,S=u.x,I=h.x,C=s.y,O=u.y,q=h.y,F=Math.min(v,S,I),$=Math.min(C,O,q),Z=Math.max(v,S,I),Q=Math.max(C,O,q),J=h.next;for(;J!==s;){if(J.x>=F&&J.x<=Z&&J.y>=$&&J.y<=Q&&wx(v,C,S,O,I,q,J.x,J.y)&&Fi(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function iWe(c,s,u,h){let v=c.prev,S=c,I=c.next;if(Fi(v,S,I)>=0)return!1;let C=v.x,O=S.x,q=I.x,F=v.y,$=S.y,Z=I.y,Q=Math.min(C,O,q),J=Math.min(F,$,Z),ne=Math.max(C,O,q),ue=Math.max(F,$,Z),_e=n6(Q,J,s,u,h),$e=n6(ne,ue,s,u,h),ke=c.prevZ,Re=c.nextZ;for(;ke&&ke.z>=_e&&Re&&Re.z<=$e;){if(ke.x>=Q&&ke.x<=ne&&ke.y>=J&&ke.y<=ue&&ke!==v&&ke!==I&&wx(C,F,O,$,q,Z,ke.x,ke.y)&&Fi(ke.prev,ke,ke.next)>=0||(ke=ke.prevZ,Re.x>=Q&&Re.x<=ne&&Re.y>=J&&Re.y<=ue&&Re!==v&&Re!==I&&wx(C,F,O,$,q,Z,Re.x,Re.y)&&Fi(Re.prev,Re,Re.next)>=0))return!1;Re=Re.nextZ}for(;ke&&ke.z>=_e;){if(ke.x>=Q&&ke.x<=ne&&ke.y>=J&&ke.y<=ue&&ke!==v&&ke!==I&&wx(C,F,O,$,q,Z,ke.x,ke.y)&&Fi(ke.prev,ke,ke.next)>=0)return!1;ke=ke.prevZ}for(;Re&&Re.z<=$e;){if(Re.x>=Q&&Re.x<=ne&&Re.y>=J&&Re.y<=ue&&Re!==v&&Re!==I&&wx(C,F,O,$,q,Z,Re.x,Re.y)&&Fi(Re.prev,Re,Re.next)>=0)return!1;Re=Re.nextZ}return!0}function oWe(c,s){let u=c;do{let h=u.prev,v=u.next.next;!qy(h,v)&&Pee(h,u,u.next,v)&&Sx(h,v)&&Sx(v,h)&&(s.push(h.i,u.i,v.i),Ex(u),Ex(u.next),u=c=v),u=u.next}while(u!==c);return sg(u)}function aWe(c,s,u,h,v,S){let I=c;do{let C=I.next.next;for(;C!==I.prev;){if(I.i!==C.i&&pWe(I,C)){let O=Oee(I,C);return I=sg(I,I.next),O=sg(O,O.next),xx(I,s,u,h,v,S,0),void xx(O,s,u,h,v,S,0)}C=C.next}I=I.next}while(I!==c)}function sWe(c,s){let u=c.x-s.x;return u===0&&(u=c.y-s.y,u===0)&&(u=(c.next.y-c.y)/(c.next.x-c.x)-(s.next.y-s.y)/(s.next.x-s.x)),u}function lWe(c,s){let u=function(v,S){let I=S,C=v.x,O=v.y,q,F=-1/0;if(qy(v,I))return I;do{if(qy(v,I.next))return I.next;if(O<=I.y&&O>=I.next.y&&I.next.y!==I.y){let ne=I.x+(O-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(ne<=C&&ne>F&&(F=ne,q=I.x<I.next.x?I:I.next,ne===C))return q}I=I.next}while(I!==S);if(!q)return null;let $=q,Z=q.x,Q=q.y,J=1/0;I=q;do{if(C>=I.x&&I.x>=Z&&C!==I.x&&Aee(O<Q?C:F,O,Z,Q,O<Q?F:C,O,I.x,I.y)){let ne=Math.abs(O-I.y)/(C-I.x);Sx(I,v)&&(ne<J||ne===J&&(I.x>q.x||I.x===q.x&&uWe(q,I)))&&(q=I,J=ne)}I=I.next}while(I!==$);return q}(c,s);if(!u)return s;let h=Oee(u,c);return sg(h,h.next),sg(u,u.next)}function uWe(c,s){return Fi(c.prev,c,s.prev)<0&&Fi(s.next,c,c.next)<0}function n6(c,s,u,h,v){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-u)*v|0)|c<<8))|c<<4))|c<<2))|c<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-h)*v|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function cWe(c){let s=c,u=c;do(s.x<u.x||s.x===u.x&&s.y<u.y)&&(u=s),s=s.next;while(s!==c);return u}function Aee(c,s,u,h,v,S,I,C){return(v-I)*(s-C)>=(c-I)*(S-C)&&(c-I)*(h-C)>=(u-I)*(s-C)&&(u-I)*(S-C)>=(v-I)*(h-C)}function wx(c,s,u,h,v,S,I,C){return!(c===I&&s===C)&&Aee(c,s,u,h,v,S,I,C)}function pWe(c,s){return c.next.i!==s.i&&c.prev.i!==s.i&&!function(u,h){let v=u;do{if(v.i!==u.i&&v.next.i!==u.i&&v.i!==h.i&&v.next.i!==h.i&&Pee(v,v.next,u,h))return!0;v=v.next}while(v!==u);return!1}(c,s)&&(Sx(c,s)&&Sx(s,c)&&function(u,h){let v=u,S=!1,I=(u.x+h.x)/2,C=(u.y+h.y)/2;do v.y>C!=v.next.y>C&&v.next.y!==v.y&&I<(v.next.x-v.x)*(C-v.y)/(v.next.y-v.y)+v.x&&(S=!S),v=v.next;while(v!==u);return S}(c,s)&&(Fi(c.prev,c,s.prev)||Fi(c,s.prev,s))||qy(c,s)&&Fi(c.prev,c,c.next)>0&&Fi(s.prev,s,s.next)>0)}function Fi(c,s,u){return(s.y-c.y)*(u.x-s.x)-(s.x-c.x)*(u.y-s.y)}function qy(c,s){return c.x===s.x&&c.y===s.y}function Pee(c,s,u,h){let v=EM(Fi(c,s,u)),S=EM(Fi(c,s,h)),I=EM(Fi(u,h,c)),C=EM(Fi(u,h,s));return v!==S&&I!==C||!(v!==0||!SM(c,u,s))||!(S!==0||!SM(c,h,s))||!(I!==0||!SM(u,c,h))||!(C!==0||!SM(u,s,h))}function SM(c,s,u){return s.x<=Math.max(c.x,u.x)&&s.x>=Math.min(c.x,u.x)&&s.y<=Math.max(c.y,u.y)&&s.y>=Math.min(c.y,u.y)}function EM(c){return c>0?1:c<0?-1:0}function Sx(c,s){return Fi(c.prev,c,c.next)<0?Fi(c,s,c.next)>=0&&Fi(c,c.prev,s)>=0:Fi(c,s,c.prev)<0||Fi(c,c.next,s)<0}function Oee(c,s){let u=i6(c.i,c.x,c.y),h=i6(s.i,s.x,s.y),v=c.next,S=s.prev;return c.next=s,s.prev=c,u.next=v,v.prev=u,h.next=u,u.prev=h,S.next=h,h.prev=S,h}function kee(c,s,u,h){let v=i6(c,s,u);return h?(v.next=h.next,v.prev=h,h.next.prev=v,h.next=v):(v.prev=v,v.next=v),v}function Ex(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function i6(c,s,u){return{i:c,x:s,y:u,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class zy{constructor(s,u){if(u>s)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=s,this._minGranularity=u}getGranularityForZoomLevel(s){return Math.max(Math.floor(this._baseZoomGranularity/(1<<s)),this._minGranularity,1)}}class IM{constructor(s){this.fill=s.fill,this.line=s.line,this.tile=s.tile,this.stencil=s.stencil,this.circle=s.circle}}IM.noSubdivision=new IM({fill:new zy(0,0),line:new zy(0,0),tile:new zy(0,0),stencil:new zy(0,0),circle:1}),Jt("SubdivisionGranularityExpression",zy),Jt("SubdivisionGranularitySetting",IM);let jy=-32768,Ix=32767;class fWe{constructor(s,u){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=s,this._granularityCellSize=dt/s,this._canonical=u}_getKey(s,u){return(s+=32768)<<16|u+32768}_vertexToIndex(s,u){if(s<-32768||u<-32768||s>32767||u>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let h=0|Math.round(s),v=0|Math.round(u),S=this._getKey(h,v);if(this._vertexDictionary.has(S))return this._vertexDictionary.get(S);let I=this._vertexBuffer.length/2;return this._vertexDictionary.set(S,I),this._vertexBuffer.push(h,v),I}_subdivideTrianglesScanline(s){if(this._granularity<2)return function(v,S){let I=[];for(let C=0;C<S.length;C+=3){let O=S[C],q=S[C+1],F=S[C+2],$=v[2*O],Z=v[2*O+1];(v[2*q]-$)*(v[2*F+1]-Z)-(v[2*q+1]-Z)*(v[2*F]-$)>0?(I.push(O),I.push(F),I.push(q)):(I.push(O),I.push(q),I.push(F))}return I}(this._vertexBuffer,s);let u=[],h=s.length;for(let v=0;v<h;v+=3){let S=[s[v+0],s[v+1],s[v+2]],I=[this._vertexBuffer[2*s[v+0]+0],this._vertexBuffer[2*s[v+0]+1],this._vertexBuffer[2*s[v+1]+0],this._vertexBuffer[2*s[v+1]+1],this._vertexBuffer[2*s[v+2]+0],this._vertexBuffer[2*s[v+2]+1]],C=1/0,O=1/0,q=-1/0,F=-1/0;for(let ne=0;ne<3;ne++){let ue=I[2*ne],_e=I[2*ne+1];C=Math.min(C,ue),q=Math.max(q,ue),O=Math.min(O,_e),F=Math.max(F,_e)}if(C===q||O===F)continue;let $=Math.floor(C/this._granularityCellSize),Z=Math.ceil(q/this._granularityCellSize),Q=Math.floor(O/this._granularityCellSize),J=Math.ceil(F/this._granularityCellSize);if($!==Z||Q!==J)for(let ne=Q;ne<J;ne++){let ue=this._scanlineGenerateVertexRingForCellRow(ne,I,S);dWe(this._vertexBuffer,ue,u)}else u.push(...S)}return u}_scanlineGenerateVertexRingForCellRow(s,u,h){let v=s*this._granularityCellSize,S=v+this._granularityCellSize,I=[];for(let C=0;C<3;C++){let O=u[2*C],q=u[2*C+1],F=u[2*(C+1)%6],$=u[(2*(C+1)+1)%6],Z=u[2*(C+2)%6],Q=u[(2*(C+2)+1)%6],J=F-O,ne=$-q,ue=J===0,_e=ne===0,$e=(v-q)/ne,ke=(S-q)/ne,Re=Math.min($e,ke),et=Math.max($e,ke);if(!_e&&(Re>=1||et<=0)||_e&&(q<v||q>S)){$>=v&&$<=S&&I.push(h[(C+1)%3]);continue}!_e&&Re>0&&I.push(this._vertexToIndex(O+J*Re,q+ne*Re));let ut=O+J*Math.max(Re,0),St=O+J*Math.min(et,1);ue||this._generateIntraEdgeVertices(I,O,q,F,$,ut,St),!_e&&et<1&&I.push(this._vertexToIndex(O+J*et,q+ne*et)),(_e||$>=v&&$<=S)&&I.push(h[(C+1)%3]),!_e&&($<=v||$>=S)&&this._generateInterEdgeVertices(I,O,q,F,$,Z,Q,St,v,S)}return I}_generateIntraEdgeVertices(s,u,h,v,S,I,C){let O=v-u,q=S-h,F=q===0,$=F?Math.min(u,v):Math.min(I,C),Z=F?Math.max(u,v):Math.max(I,C),Q=Math.floor($/this._granularityCellSize)+1,J=Math.ceil(Z/this._granularityCellSize)-1;if(F?u<v:I<C)for(let ne=Q;ne<=J;ne++){let ue=ne*this._granularityCellSize;s.push(this._vertexToIndex(ue,h+q*(ue-u)/O))}else for(let ne=J;ne>=Q;ne--){let ue=ne*this._granularityCellSize;s.push(this._vertexToIndex(ue,h+q*(ue-u)/O))}}_generateInterEdgeVertices(s,u,h,v,S,I,C,O,q,F){let $=S-h,Z=I-v,Q=C-S,J=(q-S)/Q,ne=(F-S)/Q,ue=Math.min(J,ne),_e=Math.max(J,ne),$e=v+Z*ue,ke=Math.floor(Math.min($e,O)/this._granularityCellSize)+1,Re=Math.ceil(Math.max($e,O)/this._granularityCellSize)-1,et=O<$e,ut=Q===0;if(ut&&(C===q||C===F))return;if(ut||ue>=1||_e<=0){let $t=h-C,kt=I+(u-I)*Math.min((q-C)/$t,(F-C)/$t);ke=Math.floor(Math.min(kt,O)/this._granularityCellSize)+1,Re=Math.ceil(Math.max(kt,O)/this._granularityCellSize)-1,et=O<kt}let St=$>0?F:q;if(et)for(let $t=ke;$t<=Re;$t++)s.push(this._vertexToIndex($t*this._granularityCellSize,St));else for(let $t=Re;$t>=ke;$t--)s.push(this._vertexToIndex($t*this._granularityCellSize,St))}_generateOutline(s){let u=[];for(let h of s){let v=lg(h,this._granularity,!0),S=this._pointArrayToIndices(v),I=[];for(let C=1;C<S.length;C++)I.push(S[C-1]),I.push(S[C]);u.push(I)}return u}_handlePoles(s){let u=!1,h=!1;this._canonical&&(this._canonical.y===0&&(u=!0),this._canonical.y===(1<<this._canonical.z)-1&&(h=!0)),(u||h)&&this._fillPoles(s,u,h)}_ensureNoPoleVertices(){let s=this._vertexBuffer;for(let u=0;u<s.length;u+=2){let h=s[u+1];h===jy&&(s[u+1]=-32767),h===Ix&&(s[u+1]=32766)}}_generatePoleQuad(s,u,h,v,S,I){v>S!=(I===jy)?(s.push(u),s.push(h),s.push(this._vertexToIndex(v,I)),s.push(h),s.push(this._vertexToIndex(S,I)),s.push(this._vertexToIndex(v,I))):(s.push(h),s.push(u),s.push(this._vertexToIndex(v,I)),s.push(this._vertexToIndex(S,I)),s.push(h),s.push(this._vertexToIndex(v,I)))}_fillPoles(s,u,h){let v=this._vertexBuffer,S=dt,I=s.length;for(let C=2;C<I;C+=3){let O=s[C-2],q=s[C-1],F=s[C],$=v[2*O],Z=v[2*O+1],Q=v[2*q],J=v[2*q+1],ne=v[2*F],ue=v[2*F+1];u&&(Z===0&&J===0&&this._generatePoleQuad(s,O,q,$,Q,jy),J===0&&ue===0&&this._generatePoleQuad(s,q,F,Q,ne,jy),ue===0&&Z===0&&this._generatePoleQuad(s,F,O,ne,$,jy)),h&&(Z===S&&J===S&&this._generatePoleQuad(s,O,q,$,Q,Ix),J===S&&ue===S&&this._generatePoleQuad(s,q,F,Q,ne,Ix),ue===S&&Z===S&&this._generatePoleQuad(s,F,O,ne,$,Ix))}}_initializeVertices(s){for(let u=0;u<s.length;u+=2)this._vertexToIndex(s[u],s[u+1])}subdividePolygonInternal(s,u){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:h,holeIndices:v}=function(C){let O=[],q=[];for(let F of C)if(F.length!==0){F!==C[0]&&O.push(q.length/2);for(let $=0;$<F.length;$++)q.push(F[$].x),q.push(F[$].y)}return{flattened:q,holeIndices:O}}(s),S;this._initializeVertices(h);try{let C=function(q,F,$=2){let Z=F&&F.length,Q=Z?F[0]*$:q.length,J=Cee(q,0,Q,$,!0),ne=[];if(!J||J.next===J.prev)return ne;let ue,_e,$e;if(Z&&(J=function(ke,Re,et,ut){let St=[];for(let $t=0,kt=Re.length;$t<kt;$t++){let Bt=Cee(ke,Re[$t]*ut,$t<kt-1?Re[$t+1]*ut:ke.length,ut,!1);Bt===Bt.next&&(Bt.steiner=!0),St.push(cWe(Bt))}St.sort(sWe);for(let $t=0;$t<St.length;$t++)et=lWe(St[$t],et);return et}(q,F,J,$)),q.length>80*$){ue=q[0],_e=q[1];let ke=ue,Re=_e;for(let et=$;et<Q;et+=$){let ut=q[et],St=q[et+1];ut<ue&&(ue=ut),St<_e&&(_e=St),ut>ke&&(ke=ut),St>Re&&(Re=St)}$e=Math.max(ke-ue,Re-_e),$e=$e!==0?32767/$e:0}return xx(J,ne,$,ue,_e,$e,0),ne}(h,v),O=this._convertIndices(h,C);S=this._subdivideTrianglesScanline(O)}catch(C){console.error(C)}let I=[];return u&&(I=this._generateOutline(s)),this._ensureNoPoleVertices(),this._handlePoles(S),{verticesFlattened:this._vertexBuffer,indicesTriangles:S,indicesLineList:I}}_convertIndices(s,u){let h=[];for(let v=0;v<u.length;v++)h.push(this._vertexToIndex(s[2*u[v]],s[2*u[v]+1]));return h}_pointArrayToIndices(s){let u=[];for(let h=0;h<s.length;h++){let v=s[h];u.push(this._vertexToIndex(v.x,v.y))}return u}}function Dee(c,s,u,h=!0){return new fWe(u,s).subdividePolygonInternal(c,h)}function lg(c,s,u=!1){if(!c||c.length<1)return[];if(c.length<2)return[];let h=c[0],v=c[c.length-1],S=u&&(h.x!==v.x||h.y!==v.y);if(s<2)return S?[...c,c[0]]:[...c];let I=Math.floor(dt/s),C=[];C.push(new l(c[0].x,c[0].y));let O=c.length,q=S?O:O-1;for(let F=0;F<q;F++){let $=c[F],Z=F<O-1?c[F+1]:c[0],Q=$.x,J=$.y,ne=Z.x,ue=Z.y,_e=Q!==ne,$e=J!==ue;if(!_e&&!$e)continue;let ke=ne-Q,Re=ue-J,et=Math.abs(ke),ut=Math.abs(Re),St=Q,$t=J;for(;;){let Bt=ke>0?(Math.floor(St/I)+1)*I:(Math.ceil(St/I)-1)*I,cr=Re>0?(Math.floor($t/I)+1)*I:(Math.ceil($t/I)-1)*I,Ft=Math.abs(St-Bt),Ut=Math.abs($t-cr),mt=Math.abs(St-ne),Mr=Math.abs($t-ue),Dr=_e?Ft/et:Number.POSITIVE_INFINITY,yr=$e?Ut/ut:Number.POSITIVE_INFINITY;if((mt<=Ft||!_e)&&(Mr<=Ut||!$e))break;if(Dr<yr&&_e||!$e){St=Bt,$t+=Re*Dr;let sr=new l(St,Math.round($t));C[C.length-1].x===sr.x&&C[C.length-1].y===sr.y||C.push(sr)}else{St+=ke*yr,$t=cr;let sr=new l(Math.round(St),$t);C[C.length-1].x===sr.x&&C[C.length-1].y===sr.y||C.push(sr)}}let kt=new l(ne,ue);C[C.length-1].x===kt.x&&C[C.length-1].y===kt.y||C.push(kt)}return C}function dWe(c,s,u){if(s.length===0)throw new Error("Subdivision vertex ring is empty.");let h=0,v=c[2*s[0]];for(let O=1;O<s.length;O++){let q=c[2*s[O]];q<v&&(v=q,h=O)}let S=s.length,I=h,C=(I+1)%S;for(;;){let O=I-1>=0?I-1:S-1,q=(C+1)%S,F=c[2*s[O]],$=c[2*s[q]],Z=c[2*s[I]],Q=c[2*s[I]+1],J=c[2*s[C]+1],ne=!1;if(F<$)ne=!0;else if(F>$)ne=!1;else{let ue=J-Q,_e=-(c[2*s[C]]-Z),$e=Q<J?1:-1;((F-Z)*ue+(c[2*s[O]+1]-Q)*_e)*$e>(($-Z)*ue+(c[2*s[q]+1]-Q)*_e)*$e&&(ne=!0)}if(ne){let ue=s[O],_e=s[I],$e=s[C];ue!==_e&&ue!==$e&&_e!==$e&&u.push($e,_e,ue),I--,I<0&&(I=S-1)}else{let ue=s[q],_e=s[I],$e=s[C];ue!==_e&&ue!==$e&&_e!==$e&&u.push($e,_e,ue),C++,C>=S&&(C=0)}if(O===q)break}}function Nee(c,s,u,h,v,S,I,C,O){let q=v.length/2,F=I&&C&&O;if(q<Vr.MAX_VERTEX_ARRAY_LENGTH){let $=s.prepareSegment(q,u,h),Z=$.vertexLength;for(let ne=0;ne<S.length;ne+=3)h.emplaceBack(Z+S[ne],Z+S[ne+1],Z+S[ne+2]);let Q,J;$.vertexLength+=q,$.primitiveLength+=S.length/3,F&&(J=I.prepareSegment(q,u,C),Q=J.vertexLength,J.vertexLength+=q);for(let ne=0;ne<v.length;ne+=2)c(v[ne],v[ne+1]);if(F)for(let ne=0;ne<O.length;ne++){let ue=O[ne];for(let _e=1;_e<ue.length;_e+=2)C.emplaceBack(Q+ue[_e-1],Q+ue[_e]);J.primitiveLength+=ue.length/2}}else(function($,Z,Q,J,ne,ue){let _e=[];for(let ut=0;ut<J.length/2;ut++)_e.push(-1);let $e={count:0},ke=0,Re=$.getOrCreateLatestSegment(Z,Q),et=Re.vertexLength;for(let ut=2;ut<ne.length;ut+=3){let St=ne[ut-2],$t=ne[ut-1],kt=ne[ut],Bt=_e[St]<ke,cr=_e[$t]<ke,Ft=_e[kt]<ke;Re.vertexLength+((Bt?1:0)+(cr?1:0)+(Ft?1:0))>Vr.MAX_VERTEX_ARRAY_LENGTH&&(Re=$.createNewSegment(Z,Q),ke=$e.count,Bt=!0,cr=!0,Ft=!0,et=0);let Ut=Tx(_e,J,ue,$e,St,Bt,Re),mt=Tx(_e,J,ue,$e,$t,cr,Re),Mr=Tx(_e,J,ue,$e,kt,Ft,Re);Q.emplaceBack(et+Ut-ke,et+mt-ke,et+Mr-ke),Re.primitiveLength++}})(s,u,h,v,S,c),F&&function($,Z,Q,J,ne,ue){let _e=[];for(let ut=0;ut<J.length/2;ut++)_e.push(-1);let $e={count:0},ke=0,Re=$.getOrCreateLatestSegment(Z,Q),et=Re.vertexLength;for(let ut=0;ut<ne.length;ut++){let St=ne[ut];for(let $t=1;$t<ne[ut].length;$t+=2){let kt=St[$t-1],Bt=St[$t],cr=_e[kt]<ke,Ft=_e[Bt]<ke;Re.vertexLength+((cr?1:0)+(Ft?1:0))>Vr.MAX_VERTEX_ARRAY_LENGTH&&(Re=$.createNewSegment(Z,Q),ke=$e.count,cr=!0,Ft=!0,et=0);let Ut=Tx(_e,J,ue,$e,kt,cr,Re),mt=Tx(_e,J,ue,$e,Bt,Ft,Re);Q.emplaceBack(et+Ut-ke,et+mt-ke),Re.primitiveLength++}}}(I,u,C,v,O,c),s.forceNewSegmentOnNextPrepare(),I==null||I.forceNewSegmentOnNextPrepare()}function Tx(c,s,u,h,v,S,I){if(S){let C=h.count;return u(s[2*v],s[2*v+1]),c[v]=h.count,h.count++,I.vertexLength++,C}return c[v]}class o6{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(u=>u.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new it,this.indexArray=new Hn,this.indexArray2=new Bn,this.programConfigurations=new ds(s.layers,s.zoom),this.segments=new Vr,this.segments2=new Vr,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(s,u,h){this.hasPattern=t6("fill",this.layers,u);let v=this.layers[0].layout.get("fill-sort-key"),S=!v.isConstant(),I=[];for(let{feature:C,id:O,index:q,sourceLayerIndex:F}of s){let $=this.layers[0]._featureFilter.needGeometry,Z=Bu(C,$);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom,{globalState:this.globalState}),Z,h))continue;let Q=S?v.evaluate(Z,{},h,u.availableImages):void 0,J={id:O,properties:C.properties,type:C.type,sourceLayerIndex:F,index:q,geometry:$?Z.geometry:Xc(C),patterns:{},sortKey:Q};I.push(J)}S&&I.sort((C,O)=>C.sortKey-O.sortKey);for(let C of I){let{geometry:O,index:q,sourceLayerIndex:F}=C;if(this.hasPattern){let $=r6("fill",this.layers,C,{zoom:this.zoom,globalState:this.globalState},u);this.patternFeatures.push($)}else this.addFeature(C,O,q,h,{},u.subdivisionGranularity);u.featureIndex.insert(s[q].feature,O,q,F,this.index)}}update(s,u,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,u,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}addFeatures(s,u,h){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,u,h,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,rWe),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,u,h,v,S,I){for(let C of Gm(u,500)){let O=Dee(C,v,I.fill.getGranularityForZoomLevel(v.z)),q=this.layoutVertexArray;Nee((F,$)=>{q.emplaceBack(F,$)},this.segments,this.layoutVertexArray,this.indexArray,O.verticesFlattened,O.indicesTriangles,this.segments2,this.indexArray2,O.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}}let Ree,Lee;Jt("FillBucket",o6,{omit:["layers","patternFeatures"]});var hWe={get paint(){return Lee=Lee||new la({"fill-antialias":new lr(Se.paint_fill["fill-antialias"]),"fill-opacity":new Ir(Se.paint_fill["fill-opacity"]),"fill-color":new Ir(Se.paint_fill["fill-color"]),"fill-outline-color":new Ir(Se.paint_fill["fill-outline-color"]),"fill-translate":new lr(Se.paint_fill["fill-translate"]),"fill-translate-anchor":new lr(Se.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ay(Se.paint_fill["fill-pattern"])})},get layout(){return Ree=Ree||new la({"fill-sort-key":new Ir(Se.layout_fill["fill-sort-key"])})}};class mWe extends qs{constructor(s){super(s,hWe)}recalculate(s,u){super.recalculate(s,u);let h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new o6(s)}queryRadius(){return xM(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:s,geometry:u,transform:h,pixelsToTileUnits:v}){return hee(wM(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-h.bearingInRadians,v),u)}isTileClipped(){return!0}}let gWe=Ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),vWe=Ni([{name:"a_centroid",components:2,type:"Int16"}],4),{members:yWe}=gWe;class Fy{constructor(s,u,h,v,S){this.properties={},this.extent=h,this.type=0,this.id=void 0,this._pbf=s,this._geometry=-1,this._keys=v,this._values=S,s.readFields(_We,this,u)}loadGeometry(){let s=this._pbf;s.pos=this._geometry;let u=s.readVarint()+s.pos,h=[],v,S=1,I=0,C=0,O=0;for(;s.pos<u;){if(I<=0){let q=s.readVarint();S=7&q,I=q>>3}if(I--,S===1||S===2)C+=s.readSVarint(),O+=s.readSVarint(),S===1&&(v&&h.push(v),v=[]),v&&v.push(new l(C,O));else{if(S!==7)throw new Error(`unknown command ${S}`);v&&v.push(v[0].clone())}}return v&&h.push(v),h}bbox(){let s=this._pbf;s.pos=this._geometry;let u=s.readVarint()+s.pos,h=1,v=0,S=0,I=0,C=1/0,O=-1/0,q=1/0,F=-1/0;for(;s.pos<u;){if(v<=0){let $=s.readVarint();h=7&$,v=$>>3}if(v--,h===1||h===2)S+=s.readSVarint(),I+=s.readSVarint(),S<C&&(C=S),S>O&&(O=S),I<q&&(q=I),I>F&&(F=I);else if(h!==7)throw new Error(`unknown command ${h}`)}return[C,q,O,F]}toGeoJSON(s,u,h){let v=this.extent*Math.pow(2,h),S=this.extent*s,I=this.extent*u,C=this.loadGeometry();function O(Z){return[360*(Z.x+S)/v-180,360/Math.PI*Math.atan(Math.exp((1-2*(Z.y+I)/v)*Math.PI))-90]}function q(Z){return Z.map(O)}let F;if(this.type===1){let Z=[];for(let J of C)Z.push(J[0]);let Q=q(Z);F=Z.length===1?{type:"Point",coordinates:Q[0]}:{type:"MultiPoint",coordinates:Q}}else if(this.type===2){let Z=C.map(q);F=Z.length===1?{type:"LineString",coordinates:Z[0]}:{type:"MultiLineString",coordinates:Z}}else{if(this.type!==3)throw new Error("unknown feature type");{let Z=function(J){let ne=J.length;if(ne<=1)return[J];let ue=[],_e,$e;for(let ke=0;ke<ne;ke++){let Re=bWe(J[ke]);Re!==0&&($e===void 0&&($e=Re<0),$e===Re<0?(_e&&ue.push(_e),_e=[J[ke]]):_e&&_e.push(J[ke]))}return _e&&ue.push(_e),ue}(C),Q=[];for(let J of Z)Q.push(J.map(q));F=Q.length===1?{type:"Polygon",coordinates:Q[0]}:{type:"MultiPolygon",coordinates:Q}}}let $={type:"Feature",geometry:F,properties:this.properties};return this.id!=null&&($.id=this.id),$}}function _We(c,s,u){c===1?s.id=u.readVarint():c===2?function(h,v){let S=h.readVarint()+h.pos;for(;h.pos<S;){let I=v._keys[h.readVarint()],C=v._values[h.readVarint()];v.properties[I]=C}}(u,s):c===3?s.type=u.readVarint():c===4&&(s._geometry=u.pos)}function bWe(c){let s=0;for(let u,h,v=0,S=c.length,I=S-1;v<S;I=v++)u=c[v],h=c[I],s+=(h.x-u.x)*(u.y+h.y);return s}Fy.types=["Unknown","Point","LineString","Polygon"];class qee{constructor(s,u){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(xWe,this,u),this.length=this._features.length}feature(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];let u=this._pbf.readVarint()+this._pbf.pos;return new Fy(this._pbf,u,this.extent,this._keys,this._values)}}function xWe(c,s,u){c===15?s.version=u.readVarint():c===1?s.name=u.readString():c===5?s.extent=u.readVarint():c===2?s._features.push(u.pos):c===3?s._keys.push(u.readString()):c===4&&s._values.push(function(h){let v=null,S=h.readVarint()+h.pos;for(;h.pos<S;){let I=h.readVarint()>>3;v=I===1?h.readString():I===2?h.readFloat():I===3?h.readDouble():I===4?h.readVarint64():I===5?h.readVarint():I===6?h.readSVarint():I===7?h.readBoolean():null}if(v==null)throw new Error("unknown feature value");return v}(u))}class zee{constructor(s,u){this.layers=s.readFields(wWe,{},u)}}function wWe(c,s,u){if(c===3){let h=new qee(u,u.readVarint()+u.pos);h.length&&(s[h.name]=h)}}let a6=Math.pow(2,13);function Mx(c,s,u,h,v,S,I,C){c.emplaceBack(s,u,2*Math.floor(h*a6)+I,v*a6*2,S*a6*2,Math.round(C))}class s6{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(u=>u.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Qe,this.centroidVertexArray=new Te,this.indexArray=new Hn,this.programConfigurations=new ds(s.layers,s.zoom),this.segments=new Vr,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(s,u,h){this.features=[],this.hasPattern=t6("fill-extrusion",this.layers,u);for(let{feature:v,id:S,index:I,sourceLayerIndex:C}of s){let O=this.layers[0]._featureFilter.needGeometry,q=Bu(v,O);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom,{globalState:this.globalState}),q,h))continue;let F={id:S,sourceLayerIndex:C,index:I,geometry:O?q.geometry:Xc(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(r6("fill-extrusion",this.layers,F,{zoom:this.zoom,globalState:this.globalState},u)):this.addFeature(F,F.geometry,I,h,{},u.subdivisionGranularity),u.featureIndex.insert(v,F.geometry,I,C,this.index,!0)}}addFeatures(s,u,h){for(let v of this.features){let{geometry:S}=v;this.addFeature(v,S,v.index,u,h,s.subdivisionGranularity)}}update(s,u,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,u,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,yWe),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,vWe.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,u,h,v,S,I){for(let C of Gm(u,500)){let O={x:0,y:0,sampleCount:0},q=this.layoutVertexArray.length;this.processPolygon(O,v,s,C,I);let F=this.layoutVertexArray.length-q,$=Math.floor(O.x/O.sampleCount),Z=Math.floor(O.y/O.sampleCount);for(let Q=0;Q<F;Q++)this.centroidVertexArray.emplaceBack($,Z)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}processPolygon(s,u,h,v,S){if(v.length<1||jee(v[0]))return;for(let $ of v)$.length!==0&&SWe(s,$);let I={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},C=S.fill.getGranularityForZoomLevel(u.z),O=Fy.types[h.type]==="Polygon";for(let $ of v){if($.length===0||jee($))continue;let Z=lg($,C,O);this._generateSideFaces(Z,I)}if(!O)return;let q=Dee(v,u,C,!1),F=this.layoutVertexArray;Nee(($,Z)=>{Mx(F,$,Z,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,q.verticesFlattened,q.indicesTriangles)}_generateSideFaces(s,u){let h=0;for(let v=1;v<s.length;v++){let S=s[v],I=s[v-1];if(EWe(S,I))continue;u.segment.vertexLength+4>Vr.MAX_VERTEX_ARRAY_LENGTH&&(u.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let C=S.sub(I)._perp()._unit(),O=I.dist(S);h+O>32768&&(h=0),Mx(this.layoutVertexArray,S.x,S.y,C.x,C.y,0,0,h),Mx(this.layoutVertexArray,S.x,S.y,C.x,C.y,0,1,h),h+=O,Mx(this.layoutVertexArray,I.x,I.y,C.x,C.y,0,0,h),Mx(this.layoutVertexArray,I.x,I.y,C.x,C.y,0,1,h);let q=u.segment.vertexLength;this.indexArray.emplaceBack(q,q+2,q+1),this.indexArray.emplaceBack(q+1,q+2,q+3),u.segment.vertexLength+=4,u.segment.primitiveLength+=2}}}function SWe(c,s){for(let u=0;u<s.length;u++){let h=s[u];u===s.length-1&&s[0].x===h.x&&s[0].y===h.y||(c.x+=h.x,c.y+=h.y,c.sampleCount++)}}function EWe(c,s){return c.x===s.x&&(c.x<0||c.x>dt)||c.y===s.y&&(c.y<0||c.y>dt)}function jee(c){return c.every(s=>s.x<0)||c.every(s=>s.x>dt)||c.every(s=>s.y<0)||c.every(s=>s.y>dt)}let Fee;Jt("FillExtrusionBucket",s6,{omit:["layers","features"]});var IWe={get paint(){return Fee=Fee||new la({"fill-extrusion-opacity":new lr(Se["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ir(Se["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new lr(Se["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new lr(Se["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ay(Se["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ir(Se["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ir(Se["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new lr(Se["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class TWe extends qs{constructor(s){super(s,IWe)}createBucket(s){return new s6(s)}queryRadius(){return xM(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:s,feature:u,featureState:h,geometry:v,transform:S,pixelsToTileUnits:I,pixelPosMatrix:C}){let O=wM(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-S.bearingInRadians,I),q=this.paint.get("fill-extrusion-height").evaluate(u,h),F=this.paint.get("fill-extrusion-base").evaluate(u,h),$=function(Q,J){let ne=[];for(let ue of Q){let _e=[ue.x,ue.y,0,1];Ie(_e,_e,J),ne.push(new l(_e[0]/_e[3],_e[1]/_e[3]))}return ne}(O,C),Z=function(Q,J,ne,ue){let _e=[],$e=[],ke=ue[8]*J,Re=ue[9]*J,et=ue[10]*J,ut=ue[11]*J,St=ue[8]*ne,$t=ue[9]*ne,kt=ue[10]*ne,Bt=ue[11]*ne;for(let cr of Q){let Ft=[],Ut=[];for(let mt of cr){let Mr=mt.x,Dr=mt.y,yr=ue[0]*Mr+ue[4]*Dr+ue[12],sr=ue[1]*Mr+ue[5]*Dr+ue[13],hn=ue[2]*Mr+ue[6]*Dr+ue[14],Ii=ue[3]*Mr+ue[7]*Dr+ue[15],no=hn+et,Wo=Ii+ut,El=yr+St,ms=sr+$t,Do=hn+kt,yi=Ii+Bt,_o=new l((yr+ke)/Wo,(sr+Re)/Wo);_o.z=no/Wo,Ft.push(_o);let No=new l(El/yi,ms/yi);No.z=Do/yi,Ut.push(No)}_e.push(Ft),$e.push(Ut)}return[_e,$e]}(v,F,q,C);return function(Q,J,ne){let ue=1/0;hee(ne,J)&&(ue=Bee(ne,J[0]));for(let _e=0;_e<J.length;_e++){let $e=J[_e],ke=Q[_e];for(let Re=0;Re<$e.length-1;Re++){let et=$e[Re],ut=[et,$e[Re+1],ke[Re+1],ke[Re],et];dee(ne,ut)&&(ue=Math.min(ue,Bee(ne,ut)))}}return ue!==1/0&&ue}(Z[0],Z[1],$)}}function Cx(c,s){return c.x*s.x+c.y*s.y}function Bee(c,s){if(c.length===1){let u=0,h=s[u++],v;for(;!v||h.equals(v);)if(v=s[u++],!v)return 1/0;for(;u<s.length;u++){let S=s[u],I=c[0],C=v.sub(h),O=S.sub(h),q=I.sub(h),F=Cx(C,C),$=Cx(C,O),Z=Cx(O,O),Q=Cx(q,C),J=Cx(q,O),ne=F*Z-$*$,ue=(Z*Q-$*J)/ne,_e=(F*J-$*Q)/ne,$e=h.z*(1-ue-_e)+v.z*ue+S.z*_e;if(isFinite($e))return $e}return 1/0}{let u=1/0;for(let h of s)u=Math.min(u,h.z);return u}}let MWe=Ni([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:CWe}=MWe,AWe=Ni([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:PWe}=AWe,OWe=Math.cos(Math.PI/180*37.5),Uee=Math.pow(2,14)/.5;class l6{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(u=>u.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new Je,this.layoutVertexArray2=new nt,this.indexArray=new Hn,this.programConfigurations=new ds(s.layers,s.zoom),this.segments=new Vr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(s,u,h){this.hasPattern=t6("line",this.layers,u);let v=this.layers[0].layout.get("line-sort-key"),S=!v.isConstant(),I=[];for(let{feature:C,id:O,index:q,sourceLayerIndex:F}of s){let $=this.layers[0]._featureFilter.needGeometry,Z=Bu(C,$);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom,{globalState:this.globalState}),Z,h))continue;let Q=S?v.evaluate(Z,{},h):void 0,J={id:O,properties:C.properties,type:C.type,sourceLayerIndex:F,index:q,geometry:$?Z.geometry:Xc(C),patterns:{},sortKey:Q};I.push(J)}S&&I.sort((C,O)=>C.sortKey-O.sortKey);for(let C of I){let{geometry:O,index:q,sourceLayerIndex:F}=C;if(this.hasPattern){let $=r6("line",this.layers,C,{zoom:this.zoom,globalState:this.globalState},u);this.patternFeatures.push($)}else this.addFeature(C,O,q,h,{},u.subdivisionGranularity);u.featureIndex.insert(s[q].feature,O,q,F,this.index)}}update(s,u,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,u,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}addFeatures(s,u,h){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,u,h,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,PWe)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,CWe),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,u,h,v,S,I){let C=this.layers[0].layout,O=C.get("line-join").evaluate(s,{}),q=C.get("line-cap"),F=C.get("line-miter-limit"),$=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let Z of u)this.addLine(Z,s,O,q,F,$,v,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}addLine(s,u,h,v,S,I,C,O){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,s=lg(s,C?O.line.getGranularityForZoomLevel(C.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ke=0;ke<s.length-1;ke++)this.totalDistance+=s[ke].dist(s[ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let q=Fy.types[u.type]==="Polygon",F=s.length;for(;F>=2&&s[F-1].equals(s[F-2]);)F--;let $=0;for(;$<F-1&&s[$].equals(s[$+1]);)$++;if(F<(q?3:2))return;h==="bevel"&&(S=1.05);let Z=this.overscaling<=16?122880/(512*this.overscaling):0,Q=this.segments.prepareSegment(10*F,this.layoutVertexArray,this.indexArray),J,ne,ue,_e,$e;this.e1=this.e2=-1,q&&(J=s[F-2],$e=s[$].sub(J)._unit()._perp());for(let ke=$;ke<F;ke++){if(ue=ke===F-1?q?s[$+1]:void 0:s[ke+1],ue&&s[ke].equals(ue))continue;$e&&(_e=$e),J&&(ne=J),J=s[ke],$e=ue?ue.sub(J)._unit()._perp():_e,_e=_e||$e;let Re=_e.add($e);Re.x===0&&Re.y===0||Re._unit();let et=_e.x*$e.x+_e.y*$e.y,ut=Re.x*$e.x+Re.y*$e.y,St=ut!==0?1/ut:1/0,$t=2*Math.sqrt(2-2*ut),kt=ut<OWe&&ne&&ue,Bt=_e.x*$e.y-_e.y*$e.x>0;if(kt&&ke>$){let Ut=J.dist(ne);if(Ut>2*Z){let mt=J.sub(J.sub(ne)._mult(Z/Ut)._round());this.updateDistance(ne,mt),this.addCurrentVertex(mt,_e,0,0,Q),ne=mt}}let cr=ne&&ue,Ft=cr?h:q?"butt":v;if(cr&&Ft==="round"&&(St<I?Ft="miter":St<=2&&(Ft="fakeround")),Ft==="miter"&&St>S&&(Ft="bevel"),Ft==="bevel"&&(St>2&&(Ft="flipbevel"),St<S&&(Ft="miter")),ne&&this.updateDistance(ne,J),Ft==="miter")Re._mult(St),this.addCurrentVertex(J,Re,0,0,Q);else if(Ft==="flipbevel"){if(St>100)Re=$e.mult(-1);else{let Ut=St*_e.add($e).mag()/_e.sub($e).mag();Re._perp()._mult(Ut*(Bt?-1:1))}this.addCurrentVertex(J,Re,0,0,Q),this.addCurrentVertex(J,Re.mult(-1),0,0,Q)}else if(Ft==="bevel"||Ft==="fakeround"){let Ut=-Math.sqrt(St*St-1),mt=Bt?Ut:0,Mr=Bt?0:Ut;if(ne&&this.addCurrentVertex(J,_e,mt,Mr,Q),Ft==="fakeround"){let Dr=Math.round(180*$t/Math.PI/20);for(let yr=1;yr<Dr;yr++){let sr=yr/Dr;if(sr!==.5){let Ii=sr-.5;sr+=sr*Ii*(sr-1)*((1.0904+et*(et*(3.55645-1.43519*et)-3.2452))*Ii*Ii+(.848013+et*(.215638*et-1.06021)))}let hn=$e.sub(_e)._mult(sr)._add(_e)._unit()._mult(Bt?-1:1);this.addHalfVertex(J,hn.x,hn.y,!1,Bt,0,Q)}}ue&&this.addCurrentVertex(J,$e,-mt,-Mr,Q)}else if(Ft==="butt")this.addCurrentVertex(J,Re,0,0,Q);else if(Ft==="square"){let Ut=ne?1:-1;this.addCurrentVertex(J,Re,Ut,Ut,Q)}else Ft==="round"&&(ne&&(this.addCurrentVertex(J,_e,0,0,Q),this.addCurrentVertex(J,_e,1,1,Q,!0)),ue&&(this.addCurrentVertex(J,$e,-1,-1,Q,!0),this.addCurrentVertex(J,$e,0,0,Q)));if(kt&&ke<F-1){let Ut=J.dist(ue);if(Ut>2*Z){let mt=J.add(ue.sub(J)._mult(Z/Ut)._round());this.updateDistance(J,mt),this.addCurrentVertex(mt,$e,0,0,Q),J=mt}}}}addCurrentVertex(s,u,h,v,S,I=!1){let C=u.y*v-u.x,O=-u.y-u.x*v;this.addHalfVertex(s,u.x+u.y*h,u.y-u.x*h,I,!1,h,S),this.addHalfVertex(s,C,O,I,!0,-v,S),this.distance>Uee/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,u,h,v,S,I))}addHalfVertex({x:s,y:u},h,v,S,I,C,O){let q=.5*(this.lineClips?this.scaledDistance*(Uee-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(S?1:0),(u<<1)+(I?1:0),Math.round(63*h)+128,Math.round(63*v)+128,1+(C===0?0:C<0?-1:1)|(63&q)<<2,q>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let F=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,F,this.e2),O.primitiveLength++),I?this.e2=F:this.e1=F}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,u){this.distance+=s.dist(u),this.updateScaledDistance()}}let Vee,$ee;Jt("LineBucket",l6,{omit:["layers","patternFeatures"]});var Gee={get paint(){return $ee=$ee||new la({"line-opacity":new Ir(Se.paint_line["line-opacity"]),"line-color":new Ir(Se.paint_line["line-color"]),"line-translate":new lr(Se.paint_line["line-translate"]),"line-translate-anchor":new lr(Se.paint_line["line-translate-anchor"]),"line-width":new Ir(Se.paint_line["line-width"]),"line-gap-width":new Ir(Se.paint_line["line-gap-width"]),"line-offset":new Ir(Se.paint_line["line-offset"]),"line-blur":new Ir(Se.paint_line["line-blur"]),"line-dasharray":new Hc(Se.paint_line["line-dasharray"]),"line-pattern":new Ay(Se.paint_line["line-pattern"]),"line-gradient":new Py(Se.paint_line["line-gradient"])})},get layout(){return Vee=Vee||new la({"line-cap":new lr(Se.layout_line["line-cap"]),"line-join":new Ir(Se.layout_line["line-join"]),"line-miter-limit":new lr(Se.layout_line["line-miter-limit"]),"line-round-limit":new lr(Se.layout_line["line-round-limit"]),"line-sort-key":new Ir(Se.layout_line["line-sort-key"])})}};class kWe extends Ir{possiblyEvaluate(s,u){return u=new Xn(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,zoomHistory:u.zoomHistory,transition:u.transition}),super.possiblyEvaluate(s,u)}evaluate(s,u,h,v){return u=Oe({},u,{zoom:Math.floor(u.zoom)}),super.evaluate(s,u,h,v)}}let TM;class DWe extends qs{constructor(s){super(s,Gee),this.gradientVersion=0,TM||(TM=new kWe(Gee.paint.properties["line-width"].specification),TM.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let u=this.gradientExpression();this.stepInterpolant=!!function(h){return h._styleExpression!==void 0}(u)&&u._styleExpression.expression instanceof Di,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,u){super.recalculate(s,u),this.paint._values["line-floorwidth"]=TM.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new l6(s)}queryRadius(s){let u=s,h=Hee(_x("line-width",this,u),_x("line-gap-width",this,u)),v=_x("line-offset",this,u);return h/2+Math.abs(v)+xM(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:s,feature:u,featureState:h,geometry:v,transform:S,pixelsToTileUnits:I}){let C=wM(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-S.bearingInRadians,I),O=I/2*Hee(this.paint.get("line-width").evaluate(u,h),this.paint.get("line-gap-width").evaluate(u,h)),q=this.paint.get("line-offset").evaluate(u,h);return q&&(v=function(F,$){let Z=[];for(let Q=0;Q<F.length;Q++){let J=F[Q],ne=[];for(let ue=0;ue<J.length;ue++){let _e=J[ue-1],$e=J[ue],ke=J[ue+1],Re=ue===0?new l(0,0):$e.sub(_e)._unit()._perp(),et=ue===J.length-1?new l(0,0):ke.sub($e)._unit()._perp(),ut=Re._add(et)._unit(),St=ut.x*et.x+ut.y*et.y;St!==0&&ut._mult(1/St),ne.push(ut._mult($)._add($e))}Z.push(ne)}return Z}(v,q*I)),function(F,$,Z){for(let Q=0;Q<$.length;Q++){let J=$[Q];if(F.length>=3){for(let ne=0;ne<J.length;ne++)if(Ly(F,J[ne]))return!0}if($He(F,J,Z))return!0}return!1}(C,v,O)}isTileClipped(){return!0}}function Hee(c,s){return s>0?s+2*c:c}let NWe=Ni([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),RWe=Ni([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ni([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let LWe=Ni([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Ni([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let Wee=Ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qWe=Ni([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function zWe(c,s,u){return c.sections.forEach(h=>{h.text=function(v,S,I){let C=S.layout.get("text-transform").evaluate(I,{});return C==="uppercase"?v=v.toLocaleUpperCase():C==="lowercase"&&(v=v.toLocaleLowerCase()),_l.applyArabicShaping&&(v=_l.applyArabicShaping(v)),v}(h.text,s,u)}),c}Ni([{name:"triangle",components:3,type:"Uint16"}]),Ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ni([{type:"Float32",name:"offsetX"}]),Ni([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ni([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let Ax={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var yo=24;let u6=4294967296,Zee=1/u6,Yee=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");class c6{constructor(s=new Uint8Array(16)){this.buf=ArrayBuffer.isView(s)?s:new Uint8Array(s),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(s,u,h=this.length){for(;this.pos<h;){let v=this.readVarint(),S=v>>3,I=this.pos;this.type=7&v,s(S,u,this),this.pos===I&&this.skip(v)}return u}readMessage(s,u){return this.readFields(s,u,this.readVarint()+this.pos)}readFixed32(){let s=this.dataView.getUint32(this.pos,!0);return this.pos+=4,s}readSFixed32(){let s=this.dataView.getInt32(this.pos,!0);return this.pos+=4,s}readFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*u6;return this.pos+=8,s}readSFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*u6;return this.pos+=8,s}readFloat(){let s=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,s}readDouble(){let s=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,s}readVarint(s){let u=this.buf,h,v;return v=u[this.pos++],h=127&v,v<128?h:(v=u[this.pos++],h|=(127&v)<<7,v<128?h:(v=u[this.pos++],h|=(127&v)<<14,v<128?h:(v=u[this.pos++],h|=(127&v)<<21,v<128?h:(v=u[this.pos],h|=(15&v)<<28,function(S,I,C){let O=C.buf,q,F;if(F=O[C.pos++],q=(112&F)>>4,F<128||(F=O[C.pos++],q|=(127&F)<<3,F<128)||(F=O[C.pos++],q|=(127&F)<<10,F<128)||(F=O[C.pos++],q|=(127&F)<<17,F<128)||(F=O[C.pos++],q|=(127&F)<<24,F<128)||(F=O[C.pos++],q|=(1&F)<<31,F<128))return By(S,q,I);throw new Error("Expected varint not more than 10 bytes")}(h,s,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){let s=this.readVarint();return s%2==1?(s+1)/-2:s/2}readBoolean(){return!!this.readVarint()}readString(){let s=this.readVarint()+this.pos,u=this.pos;return this.pos=s,s-u>=12&&Yee?Yee.decode(this.buf.subarray(u,s)):function(h,v,S){let I="",C=v;for(;C<S;){let O=h[C],q,F,$,Z=null,Q=O>239?4:O>223?3:O>191?2:1;if(C+Q>S)break;Q===1?O<128&&(Z=O):Q===2?(q=h[C+1],(192&q)==128&&(Z=(31&O)<<6|63&q,Z<=127&&(Z=null))):Q===3?(q=h[C+1],F=h[C+2],(192&q)==128&&(192&F)==128&&(Z=(15&O)<<12|(63&q)<<6|63&F,(Z<=2047||Z>=55296&&Z<=57343)&&(Z=null))):Q===4&&(q=h[C+1],F=h[C+2],$=h[C+3],(192&q)==128&&(192&F)==128&&(192&$)==128&&(Z=(15&O)<<18|(63&q)<<12|(63&F)<<6|63&$,(Z<=65535||Z>=1114112)&&(Z=null))),Z===null?(Z=65533,Q=1):Z>65535&&(Z-=65536,I+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),I+=String.fromCharCode(Z),C+=Q}return I}(this.buf,u,s)}readBytes(){let s=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,s);return this.pos=s,u}readPackedVarint(s=[],u){let h=this.readPackedEnd();for(;this.pos<h;)s.push(this.readVarint(u));return s}readPackedSVarint(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readSVarint());return s}readPackedBoolean(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readBoolean());return s}readPackedFloat(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readFloat());return s}readPackedDouble(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readDouble());return s}readPackedFixed32(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readFixed32());return s}readPackedSFixed32(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readSFixed32());return s}readPackedFixed64(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readFixed64());return s}readPackedSFixed64(s=[]){let u=this.readPackedEnd();for(;this.pos<u;)s.push(this.readSFixed64());return s}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(s){let u=7&s;if(u===0)for(;this.buf[this.pos++]>127;);else if(u===2)this.pos=this.readVarint()+this.pos;else if(u===5)this.pos+=4;else{if(u!==1)throw new Error(`Unimplemented type: ${u}`);this.pos+=8}}writeTag(s,u){this.writeVarint(s<<3|u)}realloc(s){let u=this.length||16;for(;u<this.pos+s;)u*=2;if(u!==this.length){let h=new Uint8Array(u);h.set(this.buf),this.buf=h,this.dataView=new DataView(h.buffer),this.length=u}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeSFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*Zee),!0),this.pos+=8}writeSFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*Zee),!0),this.pos+=8}writeVarint(s){(s=+s||0)>268435455||s<0?function(u,h){let v,S;if(u>=0?(v=u%4294967296|0,S=u/4294967296|0):(v=~(-u%4294967296),S=~(-u/4294967296),4294967295^v?v=v+1|0:(v=0,S=S+1|0)),u>=18446744073709552e3||u<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(I,C,O){O.buf[O.pos++]=127&I|128,I>>>=7,O.buf[O.pos++]=127&I|128,I>>>=7,O.buf[O.pos++]=127&I|128,I>>>=7,O.buf[O.pos++]=127&I|128,O.buf[O.pos]=127&(I>>>=7)}(v,0,h),function(I,C){let O=(7&I)<<4;C.buf[C.pos++]|=O|((I>>>=3)?128:0),I&&(C.buf[C.pos++]=127&I|((I>>>=7)?128:0),I&&(C.buf[C.pos++]=127&I|((I>>>=7)?128:0),I&&(C.buf[C.pos++]=127&I|((I>>>=7)?128:0),I&&(C.buf[C.pos++]=127&I|((I>>>=7)?128:0),I&&(C.buf[C.pos++]=127&I)))))}(S,h)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))}writeSVarint(s){this.writeVarint(s<0?2*-s-1:2*s)}writeBoolean(s){this.writeVarint(+s)}writeString(s){s=String(s),this.realloc(4*s.length),this.pos++;let u=this.pos;this.pos=function(v,S,I){for(let C,O,q=0;q<S.length;q++){if(C=S.charCodeAt(q),C>55295&&C<57344){if(!O){C>56319||q+1===S.length?(v[I++]=239,v[I++]=191,v[I++]=189):O=C;continue}if(C<56320){v[I++]=239,v[I++]=191,v[I++]=189,O=C;continue}C=O-55296<<10|C-56320|65536,O=null}else O&&(v[I++]=239,v[I++]=191,v[I++]=189,O=null);C<128?v[I++]=C:(C<2048?v[I++]=C>>6|192:(C<65536?v[I++]=C>>12|224:(v[I++]=C>>18|240,v[I++]=C>>12&63|128),v[I++]=C>>6&63|128),v[I++]=63&C|128)}return I}(this.buf,s,this.pos);let h=this.pos-u;h>=128&&Kee(u,h,this),this.pos=u-1,this.writeVarint(h),this.pos+=h}writeFloat(s){this.realloc(4),this.dataView.setFloat32(this.pos,s,!0),this.pos+=4}writeDouble(s){this.realloc(8),this.dataView.setFloat64(this.pos,s,!0),this.pos+=8}writeBytes(s){let u=s.length;this.writeVarint(u),this.realloc(u);for(let h=0;h<u;h++)this.buf[this.pos++]=s[h]}writeRawMessage(s,u){this.pos++;let h=this.pos;s(u,this);let v=this.pos-h;v>=128&&Kee(h,v,this),this.pos=h-1,this.writeVarint(v),this.pos+=v}writeMessage(s,u,h){this.writeTag(s,2),this.writeRawMessage(u,h)}writePackedVarint(s,u){u.length&&this.writeMessage(s,jWe,u)}writePackedSVarint(s,u){u.length&&this.writeMessage(s,FWe,u)}writePackedBoolean(s,u){u.length&&this.writeMessage(s,VWe,u)}writePackedFloat(s,u){u.length&&this.writeMessage(s,BWe,u)}writePackedDouble(s,u){u.length&&this.writeMessage(s,UWe,u)}writePackedFixed32(s,u){u.length&&this.writeMessage(s,$We,u)}writePackedSFixed32(s,u){u.length&&this.writeMessage(s,GWe,u)}writePackedFixed64(s,u){u.length&&this.writeMessage(s,HWe,u)}writePackedSFixed64(s,u){u.length&&this.writeMessage(s,WWe,u)}writeBytesField(s,u){this.writeTag(s,2),this.writeBytes(u)}writeFixed32Field(s,u){this.writeTag(s,5),this.writeFixed32(u)}writeSFixed32Field(s,u){this.writeTag(s,5),this.writeSFixed32(u)}writeFixed64Field(s,u){this.writeTag(s,1),this.writeFixed64(u)}writeSFixed64Field(s,u){this.writeTag(s,1),this.writeSFixed64(u)}writeVarintField(s,u){this.writeTag(s,0),this.writeVarint(u)}writeSVarintField(s,u){this.writeTag(s,0),this.writeSVarint(u)}writeStringField(s,u){this.writeTag(s,2),this.writeString(u)}writeFloatField(s,u){this.writeTag(s,5),this.writeFloat(u)}writeDoubleField(s,u){this.writeTag(s,1),this.writeDouble(u)}writeBooleanField(s,u){this.writeVarintField(s,+u)}}function By(c,s,u){return u?4294967296*s+(c>>>0):4294967296*(s>>>0)+(c>>>0)}function Kee(c,s,u){let h=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));u.realloc(h);for(let v=u.pos-1;v>=c;v--)u.buf[v+h]=u.buf[v]}function jWe(c,s){for(let u=0;u<c.length;u++)s.writeVarint(c[u])}function FWe(c,s){for(let u=0;u<c.length;u++)s.writeSVarint(c[u])}function BWe(c,s){for(let u=0;u<c.length;u++)s.writeFloat(c[u])}function UWe(c,s){for(let u=0;u<c.length;u++)s.writeDouble(c[u])}function VWe(c,s){for(let u=0;u<c.length;u++)s.writeBoolean(c[u])}function $We(c,s){for(let u=0;u<c.length;u++)s.writeFixed32(c[u])}function GWe(c,s){for(let u=0;u<c.length;u++)s.writeSFixed32(c[u])}function HWe(c,s){for(let u=0;u<c.length;u++)s.writeFixed64(c[u])}function WWe(c,s){for(let u=0;u<c.length;u++)s.writeSFixed64(c[u])}function ZWe(c,s,u){c===1&&u.readMessage(YWe,s)}function YWe(c,s,u){if(c===3){let{id:h,bitmap:v,width:S,height:I,left:C,top:O,advance:q}=u.readMessage(KWe,{});s.push({id:h,bitmap:new bx({width:S+6,height:I+6},v),metrics:{width:S,height:I,left:C,top:O,advance:q}})}}function KWe(c,s,u){c===1?s.id=u.readVarint():c===2?s.bitmap=u.readBytes():c===3?s.width=u.readVarint():c===4?s.height=u.readVarint():c===5?s.left=u.readSVarint():c===6?s.top=u.readSVarint():c===7&&(s.advance=u.readVarint())}function Xee(c){let s=0,u=0;for(let I of c)s+=I.w*I.h,u=Math.max(u,I.w);c.sort((I,C)=>C.h-I.h);let h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),u),h:1/0}],v=0,S=0;for(let I of c)for(let C=h.length-1;C>=0;C--){let O=h[C];if(!(I.w>O.w||I.h>O.h)){if(I.x=O.x,I.y=O.y,S=Math.max(S,I.y+I.h),v=Math.max(v,I.x+I.w),I.w===O.w&&I.h===O.h){let q=h.pop();q&&C<h.length&&(h[C]=q)}else I.h===O.h?(O.x+=I.w,O.w-=I.w):I.w===O.w?(O.y+=I.h,O.h-=I.h):(h.push({x:O.x+I.w,y:O.y,w:O.w-I.w,h:I.h}),O.y+=I.h,O.h-=I.h);break}}return{w:v,h:S,fill:s/(v*S)||0}}class p6{constructor(s,{pixelRatio:u,version:h,stretchX:v,stretchY:S,content:I,textFitWidth:C,textFitHeight:O}){this.paddedRect=s,this.pixelRatio=u,this.stretchX=v,this.stretchY=S,this.content=I,this.version=h,this.textFitWidth=C,this.textFitHeight=O}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Qee{constructor(s,u){let h={},v={};this.haveRenderCallbacks=[];let S=[];this.addImages(s,h,S),this.addImages(u,v,S);let{w:I,h:C}=Xee(S),O=new hs({width:I||1,height:C||1});for(let q in s){let F=s[q],$=h[q].paddedRect;hs.copy(F.data,O,{x:0,y:0},{x:$.x+1,y:$.y+1},F.data)}for(let q in u){let F=u[q],$=v[q].paddedRect,Z=$.x+1,Q=$.y+1,J=F.data.width,ne=F.data.height;hs.copy(F.data,O,{x:0,y:0},{x:Z,y:Q},F.data),hs.copy(F.data,O,{x:0,y:ne-1},{x:Z,y:Q-1},{width:J,height:1}),hs.copy(F.data,O,{x:0,y:0},{x:Z,y:Q+ne},{width:J,height:1}),hs.copy(F.data,O,{x:J-1,y:0},{x:Z-1,y:Q},{width:1,height:ne}),hs.copy(F.data,O,{x:0,y:0},{x:Z+J,y:Q},{width:1,height:ne})}this.image=O,this.iconPositions=h,this.patternPositions=v}addImages(s,u,h){for(let v in s){let S=s[v],I={x:0,y:0,w:S.data.width+2,h:S.data.height+2};h.push(I),u[v]=new p6(I,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(s,u){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let h in s.updatedImages)this.patchUpdatedImage(this.iconPositions[h],s.getImage(h),u),this.patchUpdatedImage(this.patternPositions[h],s.getImage(h),u)}patchUpdatedImage(s,u,h){if(!s||!u||s.version===u.version)return;s.version=u.version;let[v,S]=s.tl;h.update(u.data,void 0,{x:v,y:S})}}var Hd;Jt("ImagePosition",p6),Jt("ImageAtlas",Qee),i.ao=void 0,(Hd=i.ao||(i.ao={}))[Hd.none=0]="none",Hd[Hd.horizontal=1]="horizontal",Hd[Hd.vertical=2]="vertical",Hd[Hd.horizontalOnly=3]="horizontalOnly";class Px{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(s,u,h){let v=new Px;return v.scale=s||1,v.fontStack=u,v.verticalAlign=h||"bottom",v}static forImage(s,u){let h=new Px;return h.imageName=s,h.verticalAlign=u||"bottom",h}}class Uy{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,u){let h=new Uy;for(let v=0;v<s.sections.length;v++){let S=s.sections[v];S.image?h.addImageSection(S):h.addTextSection(S,u)}return h}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let u="";for(let h=0;h<s.length;h++){let v=s.charCodeAt(h+1)||null,S=s.charCodeAt(h-1)||null;u+=v&&fM(v)&&!Ax[s[h+1]]||S&&fM(S)&&!Ax[s[h-1]]||!Ax[s[h]]?s[h]:Ax[s[h]]}return u}(this.text)}trim(){let s=0;for(let h=0;h<this.text.length&&CM[this.text.charCodeAt(h)];h++)s++;let u=this.text.length;for(let h=this.text.length-1;h>=0&&h>=s&&CM[this.text.charCodeAt(h)];h--)u--;this.text=this.text.substring(s,u),this.sectionIndex=this.sectionIndex.slice(s,u)}substring(s,u){let h=new Uy;return h.text=this.text.substring(s,u),h.sectionIndex=this.sectionIndex.slice(s,u),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,u)=>Math.max(s,this.sections[u].scale),0)}getMaxImageSize(s){let u=0,h=0;for(let v=0;v<this.length();v++){let S=this.getSection(v);if(S.imageName){let I=s[S.imageName];if(!I)continue;let C=I.displaySize;u=Math.max(u,C[0]),h=Math.max(h,C[1])}}return{maxImageWidth:u,maxImageHeight:h}}addTextSection(s,u){this.text+=s.text,this.sections.push(Px.forText(s.scale,s.fontStack||u,s.verticalAlign));let h=this.sections.length-1;for(let v=0;v<s.text.length;++v)this.sectionIndex.push(h)}addImageSection(s){let u=s.image?s.image.name:"";if(u.length===0)return void vt("Can't add FormattedSection with an empty image.");let h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Px.forImage(u,s.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):vt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function MM(c,s,u,h,v,S,I,C,O,q,F,$,Z,Q,J){let ne=Uy.fromFeature(c,v),ue;$===i.ao.vertical&&ne.verticalizePunctuation();let{processBidirectionalText:_e,processStyledBidirectionalText:$e}=_l;if(_e&&ne.sections.length===1){ue=[];let et=_e(ne.toString(),f6(ne,q,S,s,h,Q));for(let ut of et){let St=new Uy;St.text=ut,St.sections=ne.sections;for(let $t=0;$t<ut.length;$t++)St.sectionIndex.push(0);ue.push(St)}}else if($e){ue=[];let et=$e(ne.text,ne.sectionIndex,f6(ne,q,S,s,h,Q));for(let ut of et){let St=new Uy;St.text=ut[0],St.sectionIndex=ut[1],St.sections=ne.sections,ue.push(St)}}else ue=function(et,ut){let St=[],$t=et.text,kt=0;for(let Bt of ut)St.push(et.substring(kt,Bt)),kt=Bt;return kt<$t.length&&St.push(et.substring(kt,$t.length)),St}(ne,f6(ne,q,S,s,h,Q));let ke=[],Re={positionedLines:ke,text:ne.toString(),top:F[1],bottom:F[1],left:F[0],right:F[0],writingMode:$,iconsInText:!1,verticalizable:!1};return function(et,ut,St,$t,kt,Bt,cr,Ft,Ut,mt,Mr,Dr){let yr=0,sr=0,hn=0,Ii=0,no=Ft==="right"?1:Ft==="left"?0:.5,Wo=yo/Dr,El=0;for(let yi of kt){yi.trim();let _o=yi.getMaxScale(),No={positionedGlyphs:[],lineOffset:0};et.positionedLines[El]=No;let Ro=No.positionedGlyphs,Va=0;if(!yi.length()){sr+=Bt,++El;continue}let Il=eZe($t,yi,Wo);for(let gs=0;gs<yi.length();gs++){let io=yi.getSection(gs),xo=yi.getSectionIndex(gs),wo=yi.getCharCode(gs),Wi=tZe(Ut,Mr,wo),ui;if(io.imageName){if(et.iconsInText=!0,io.scale=io.scale*Wo,ui=nZe(io,Wi,_o,Il,$t),!ui)continue;Va=Math.max(Va,ui.imageOffset)}else if(ui=rZe(io,wo,Wi,Il,ut,St),!ui)continue;let{rect:Uu,metrics:Hy,baselineOffset:Vu}=ui;Ro.push({glyph:wo,imageName:io.imageName,x:yr,y:sr+Vu+-17,vertical:Wi,scale:io.scale,fontStack:io.fontStack,sectionIndex:xo,metrics:Hy,rect:Uu}),Wi?(et.verticalizable=!0,yr+=(io.imageName?Hy.advance:yo)*io.scale+mt):yr+=Hy.advance*io.scale+mt}Ro.length!==0&&(hn=Math.max(yr-mt,hn),iZe(Ro,0,Ro.length-1,no)),yr=0,No.lineOffset=Math.max(Va,(_o-1)*yo);let bo=Bt*_o+Va;sr+=bo,Ii=Math.max(bo,Ii),++El}let{horizontalAlign:ms,verticalAlign:Do}=d6(cr);(function(yi,_o,No,Ro,Va,Il,bo,gs,io){let xo=(_o-No)*Va,wo=0;wo=Il!==bo?-gs*Ro- -17:-Ro*io*bo+.5*bo;for(let Wi of yi)for(let ui of Wi.positionedGlyphs)ui.x+=xo,ui.y+=wo})(et.positionedLines,no,ms,Do,hn,Ii,Bt,sr,kt.length),et.top+=-Do*sr,et.bottom=et.top+sr,et.left+=-ms*hn,et.right=et.left+hn}(Re,s,u,h,ue,I,C,O,$,q,Z,J),!function(et){for(let ut of et)if(ut.positionedGlyphs.length!==0)return!1;return!0}(ke)&&Re}let CM={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},XWe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},QWe={40:!0};function Jee(c,s,u,h,v,S){if(s.imageName){let I=h[s.imageName];return I?I.displaySize[0]*s.scale*yo/S+v:0}{let I=u[s.fontStack],C=I&&I[c];return C?C.metrics.advance*s.scale+v:0}}function ete(c,s,u,h){let v=Math.pow(c-s,2);return h?c<s?v/2:2*v:v+Math.abs(u)*u}function JWe(c,s,u){let h=0;return c===10&&(h-=1e4),u&&(h+=150),c!==40&&c!==65288||(h+=50),s!==41&&s!==65289||(h+=50),h}function tte(c,s,u,h,v,S){let I=null,C=ete(s,u,v,S);for(let O of h){let q=ete(s-O.x,u,v,S)+O.badness;q<=C&&(I=O,C=q)}return{index:c,x:s,priorBreak:I,badness:C}}function rte(c){return c?rte(c.priorBreak).concat(c.index):[]}function f6(c,s,u,h,v,S){if(!c)return[];let I=[],C=function($,Z,Q,J,ne,ue){let _e=0;for(let $e=0;$e<$.length();$e++){let ke=$.getSection($e);_e+=Jee($.getCharCode($e),ke,J,ne,Z,ue)}return _e/Math.max(1,Math.ceil(_e/Q))}(c,s,u,h,v,S),O=c.text.indexOf("\u200B")>=0,q=0;for(let $=0;$<c.length();$++){let Z=c.getSection($),Q=c.getCharCode($);if(CM[Q]||(q+=Jee(Q,Z,h,v,s,S)),$<c.length()-1){let J=!((F=Q)<11904)&&(!!dn["CJK Compatibility Forms"](F)||!!dn["CJK Compatibility"](F)||!!dn["CJK Strokes"](F)||!!dn["CJK Symbols and Punctuation"](F)||!!dn["Enclosed CJK Letters and Months"](F)||!!dn["Halfwidth and Fullwidth Forms"](F)||!!dn["Ideographic Description Characters"](F)||!!dn["Vertical Forms"](F)||lx.test(String.fromCodePoint(F)));(XWe[Q]||J||Z.imageName||$!==c.length()-2&&QWe[c.getCharCode($+1)])&&I.push(tte($+1,q,C,I,JWe(Q,c.getCharCode($+1),J&&O),!1))}}var F;return rte(tte(c.length(),q,C,I,0,!0))}function d6(c){let s=.5,u=.5;switch(c){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:s,verticalAlign:u}}function eZe(c,s,u){let h=s.getMaxScale()*yo,{maxImageWidth:v,maxImageHeight:S}=s.getMaxImageSize(c),I=Math.max(h,S*u);return{verticalLineContentWidth:Math.max(h,v*u),horizontalLineContentHeight:I}}function nte(c){switch(c){case"top":return 0;case"center":return .5;default:return 1}}function tZe(c,s,u){return!(c===i.ao.horizontal||!s&&!ux(u)||s&&(CM[u]||(h=u,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(h)))));var h}function rZe(c,s,u,h,v,S){let I=S[c.fontStack],C=function(q,F,$,Z){if(q&&q.rect)return q;let Q=F[$.fontStack],J=Q&&Q[Z];return J?{rect:null,metrics:J.metrics}:null}(I&&I[s],v,c,s);if(C===null)return null;let O;if(u)O=h.verticalLineContentWidth-c.scale*yo;else{let q=nte(c.verticalAlign);O=(h.horizontalLineContentHeight-c.scale*yo)*q}return{rect:C.rect,metrics:C.metrics,baselineOffset:O}}function nZe(c,s,u,h,v){let S=v[c.imageName];if(!S)return null;let I=S.paddedRect,C=S.displaySize,O={width:C[0],height:C[1],left:1,top:-3,advance:s?C[1]:C[0]},q;if(s)q=h.verticalLineContentWidth-C[1]*c.scale;else{let F=nte(c.verticalAlign);q=(h.horizontalLineContentHeight-C[1]*c.scale)*F}return{rect:I,metrics:O,baselineOffset:q,imageOffset:(s?C[0]:C[1])*c.scale-yo*u}}function iZe(c,s,u,h){if(h===0)return;let v=c[u],S=(c[u].x+v.metrics.advance*v.scale)*h;for(let I=s;I<=u;I++)c[I].x-=S}function oZe(c,s,u){let{horizontalAlign:h,verticalAlign:v}=d6(u),S=s[0]-c.displaySize[0]*h,I=s[1]-c.displaySize[1]*v;return{image:c,top:I,bottom:I+c.displaySize[1],left:S,right:S+c.displaySize[0]}}function ite(c){var s,u;let h=c.left,v=c.top,S=c.right-h,I=c.bottom-v,C=(s=c.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",O=(u=c.image.textFitHeight)!==null&&u!==void 0?u:"stretchOrShrink",q=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(O==="proportional"){if(C==="stretchOnly"&&S/I<q||C==="proportional"){let F=Math.ceil(I*q);h*=F/S,S=F}}else if(C==="proportional"&&O==="stretchOnly"&&q!==0&&S/I>q){let F=Math.ceil(S/q);v*=F/I,I=F}return{x1:h,y1:v,x2:h+S,y2:v+I}}function ote(c,s,u,h,v,S){let I=c.image,C;if(I.content){let ue=I.content,_e=I.pixelRatio||1;C=[ue[0]/_e,ue[1]/_e,I.displaySize[0]-ue[2]/_e,I.displaySize[1]-ue[3]/_e]}let O=s.left*S,q=s.right*S,F,$,Z,Q;u==="width"||u==="both"?(Q=v[0]+O-h[3],$=v[0]+q+h[1]):(Q=v[0]+(O+q-I.displaySize[0])/2,$=Q+I.displaySize[0]);let J=s.top*S,ne=s.bottom*S;return u==="height"||u==="both"?(F=v[1]+J-h[0],Z=v[1]+ne+h[2]):(F=v[1]+(J+ne-I.displaySize[1])/2,Z=F+I.displaySize[1]),{image:I,top:F,right:$,bottom:Z,left:Q,collisionPadding:C}}let _f=128,Wd=32640;function ate(c,s){let{expression:u}=s;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Xn(c+1))};if(u.kind==="source")return{kind:"source"};{let{zoomStops:h,interpolationType:v}=u,S=0;for(;S<h.length&&h[S]<=c;)S++;S=Math.max(0,S-1);let I=S;for(;I<h.length&&h[I]<c+1;)I++;I=Math.min(h.length-1,I);let C=h[S],O=h[I];return u.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:O,interpolationType:v}:{kind:"camera",minZoom:C,maxZoom:O,minSize:u.evaluate(new Xn(C)),maxSize:u.evaluate(new Xn(O)),interpolationType:v}}}function h6(c,s,u){let h="never",v=c.get(s);return v?h=v:c.get(u)&&(h="always"),h}let aZe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function AM(c,s,u,h,v,S,I,C,O,q,F,$,Z){let Q=C?Math.min(Wd,Math.round(C[0])):0,J=C?Math.min(Wd,Math.round(C[1])):0;c.emplaceBack(s,u,Math.round(32*h),Math.round(32*v),S,I,(Q<<1)+(O?1:0),J,16*q,16*F,256*$,256*Z)}function m6(c,s,u){c.emplaceBack(s.x,s.y,u),c.emplaceBack(s.x,s.y,u),c.emplaceBack(s.x,s.y,u),c.emplaceBack(s.x,s.y,u)}function sZe(c){for(let s of c.sections)if(mM(s.text))return!0;return!1}class g6{constructor(s){this.layoutVertexArray=new Dt,this.indexArray=new Hn,this.programConfigurations=s,this.segments=new Vr,this.dynamicLayoutVertexArray=new bt,this.opacityVertexArray=new ar,this.hasVisibleVertices=!1,this.placedSymbolArray=new te}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,u,h,v){this.isEmpty()||(h&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,NWe.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,RWe.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,aZe,!0),this.opacityVertexBuffer.itemSize=1),(h||v)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Jt("SymbolBuffers",g6);class v6{constructor(s,u,h){this.layoutVertexArray=new s,this.layoutAttributes=u,this.indexArray=new h,this.segments=new Vr,this.collisionVertexArray=new Cn}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,LWe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Jt("CollisionBuffers",v6);class Vy{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(I=>I.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ate(this.zoom,u["text-size"]),this.iconSizeData=ate(this.zoom,u["icon-size"]);let h=this.layers[0].layout,v=h.get("symbol-sort-key"),S=h.get("symbol-z-order");this.canOverlap=h6(h,"text-overlap","text-allow-overlap")!=="never"||h6(h,"icon-overlap","icon-allow-overlap")!=="never"||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,h.get("symbol-placement")==="point"&&(this.writingModes=h.get("text-writing-mode").map(I=>i.ao[I])),this.stateDependentLayerIds=this.layers.filter(I=>I.isStateDependent()).map(I=>I.id),this.sourceID=s.sourceID}createArrays(){this.text=new g6(new ds(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new g6(new ds(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new fe,this.lineVertexArray=new be,this.symbolInstances=new ce,this.textAnchorOffsets=new Ee}calculateGlyphDependencies(s,u,h,v,S){for(let I=0;I<s.length;I++)if(u[s.charCodeAt(I)]=!0,(h||v)&&S){let C=Ax[s.charAt(I)];C&&(u[C.charCodeAt(0)]=!0)}}populate(s,u,h){let v=this.layers[0],S=v.layout,I=S.get("text-font"),C=S.get("text-field"),O=S.get("icon-image"),q=(C.value.kind!=="constant"||C.value.value instanceof oa&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(I.value.kind!=="constant"||I.value.value.length>0),F=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,$=S.get("symbol-sort-key");if(this.features=[],!q&&!F)return;let Z=u.iconDependencies,Q=u.glyphDependencies,J=u.availableImages,ne=new Xn(this.zoom,{globalState:this.globalState});for(let{feature:ue,id:_e,index:$e,sourceLayerIndex:ke}of s){let Re=v._featureFilter.needGeometry,et=Bu(ue,Re);if(!v._featureFilter.filter(ne,et,h))continue;let ut,St;if(Re||(et.geometry=Xc(ue)),q){let kt=v.getValueAndResolveTokens("text-field",et,h,J),Bt=oa.factory(kt),cr=this.hasRTLText=this.hasRTLText||sZe(Bt);(!cr||_l.getRTLTextPluginStatus()==="unavailable"||cr&&_l.isParsed())&&(ut=zWe(Bt,v,et))}if(F){let kt=v.getValueAndResolveTokens("icon-image",et,h,J);St=kt instanceof ps?kt:ps.fromString(kt)}if(!ut&&!St)continue;let $t=this.sortFeaturesByKey?$.evaluate(et,{},h):void 0;if(this.features.push({id:_e,text:ut,icon:St,index:$e,sourceLayerIndex:ke,geometry:et.geometry,properties:ue.properties,type:Fy.types[ue.type],sortKey:$t}),St&&(Z[St.name]=!0),ut){let kt=I.evaluate(et,{},h).join(","),Bt=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ao.vertical)>=0;for(let cr of ut.sections)if(cr.image)Z[cr.image.name]=!0;else{let Ft=Ty(ut.toString()),Ut=cr.fontStack||kt,mt=Q[Ut]=Q[Ut]||{};this.calculateGlyphDependencies(cr.text,mt,Bt,this.allowVerticalPlacement,Ft)}}}S.get("symbol-placement")==="line"&&(this.features=function(ue){let _e={},$e={},ke=[],Re=0;function et(kt){ke.push(ue[kt]),Re++}function ut(kt,Bt,cr){let Ft=$e[kt];return delete $e[kt],$e[Bt]=Ft,ke[Ft].geometry[0].pop(),ke[Ft].geometry[0]=ke[Ft].geometry[0].concat(cr[0]),Ft}function St(kt,Bt,cr){let Ft=_e[Bt];return delete _e[Bt],_e[kt]=Ft,ke[Ft].geometry[0].shift(),ke[Ft].geometry[0]=cr[0].concat(ke[Ft].geometry[0]),Ft}function $t(kt,Bt,cr){let Ft=cr?Bt[0][Bt[0].length-1]:Bt[0][0];return`${kt}:${Ft.x}:${Ft.y}`}for(let kt=0;kt<ue.length;kt++){let Bt=ue[kt],cr=Bt.geometry,Ft=Bt.text?Bt.text.toString():null;if(!Ft){et(kt);continue}let Ut=$t(Ft,cr),mt=$t(Ft,cr,!0);if(Ut in $e&&mt in _e&&$e[Ut]!==_e[mt]){let Mr=St(Ut,mt,cr),Dr=ut(Ut,mt,ke[Mr].geometry);delete _e[Ut],delete $e[mt],$e[$t(Ft,ke[Dr].geometry,!0)]=Dr,ke[Mr].geometry=null}else Ut in $e?ut(Ut,mt,cr):mt in _e?St(Ut,mt,cr):(et(kt),_e[Ut]=Re-1,$e[mt]=Re-1)}return ke.filter(kt=>kt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ue,_e)=>ue.sortKey-_e.sortKey)}update(s,u,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,u,this.layers,{imagePositions:h,globalState:this.globalState}),this.icon.programConfigurations.updatePaintArrays(s,u,this.layers,{imagePositions:h,globalState:this.globalState}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,u){let h=this.lineVertexArray.length;if(s.segment!==void 0){let v=s.dist(u[s.segment+1]),S=s.dist(u[s.segment]),I={};for(let C=s.segment+1;C<u.length;C++)I[C]={x:u[C].x,y:u[C].y,tileUnitDistanceFromAnchor:v},C<u.length-1&&(v+=u[C+1].dist(u[C]));for(let C=s.segment||0;C>=0;C--)I[C]={x:u[C].x,y:u[C].y,tileUnitDistanceFromAnchor:S},C>0&&(S+=u[C-1].dist(u[C]));for(let C=0;C<u.length;C++){let O=I[C];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(s,u,h,v,S,I,C,O,q,F,$,Z){let Q=s.indexArray,J=s.layoutVertexArray,ne=s.segments.prepareSegment(4*u.length,J,Q,this.canOverlap?I.sortKey:void 0),ue=this.glyphOffsetArray.length,_e=ne.vertexLength,$e=this.allowVerticalPlacement&&C===i.ao.vertical?Math.PI/2:0,ke=I.text&&I.text.sections;for(let Re=0;Re<u.length;Re++){let{tl:et,tr:ut,bl:St,br:$t,tex:kt,pixelOffsetTL:Bt,pixelOffsetBR:cr,minFontScaleX:Ft,minFontScaleY:Ut,glyphOffset:mt,isSDF:Mr,sectionIndex:Dr}=u[Re],yr=ne.vertexLength,sr=mt[1];AM(J,O.x,O.y,et.x,sr+et.y,kt.x,kt.y,h,Mr,Bt.x,Bt.y,Ft,Ut),AM(J,O.x,O.y,ut.x,sr+ut.y,kt.x+kt.w,kt.y,h,Mr,cr.x,Bt.y,Ft,Ut),AM(J,O.x,O.y,St.x,sr+St.y,kt.x,kt.y+kt.h,h,Mr,Bt.x,cr.y,Ft,Ut),AM(J,O.x,O.y,$t.x,sr+$t.y,kt.x+kt.w,kt.y+kt.h,h,Mr,cr.x,cr.y,Ft,Ut),m6(s.dynamicLayoutVertexArray,O,$e),Q.emplaceBack(yr,yr+2,yr+1),Q.emplaceBack(yr+1,yr+2,yr+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(mt[0]),Re!==u.length-1&&Dr===u[Re+1].sectionIndex||s.programConfigurations.populatePaintArrays(J.length,I,I.index,{imagePositions:{},canonical:Z,formattedSection:ke&&ke[Dr],globalState:this.globalState})}s.placedSymbolArray.emplaceBack(O.x,O.y,ue,this.glyphOffsetArray.length-ue,_e,q,F,O.segment,h?h[0]:0,h?h[1]:0,v[0],v[1],C,0,!1,0,$)}_addCollisionDebugVertex(s,u,h,v,S,I){return u.emplaceBack(0,0),s.emplaceBack(h.x,h.y,v,S,Math.round(I.x),Math.round(I.y))}addCollisionDebugVertices(s,u,h,v,S,I,C){let O=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),q=O.vertexLength,F=S.layoutVertexArray,$=S.collisionVertexArray,Z=C.anchorX,Q=C.anchorY;this._addCollisionDebugVertex(F,$,I,Z,Q,new l(s,u)),this._addCollisionDebugVertex(F,$,I,Z,Q,new l(h,u)),this._addCollisionDebugVertex(F,$,I,Z,Q,new l(h,v)),this._addCollisionDebugVertex(F,$,I,Z,Q,new l(s,v)),O.vertexLength+=4;let J=S.indexArray;J.emplaceBack(q,q+1),J.emplaceBack(q+1,q+2),J.emplaceBack(q+2,q+3),J.emplaceBack(q+3,q),O.primitiveLength+=4}addDebugCollisionBoxes(s,u,h,v){for(let S=s;S<u;S++){let I=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,v?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,h)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new v6(Gr,Wee.members,Bn),this.iconCollisionBox=new v6(Gr,Wee.members,Bn);for(let s=0;s<this.symbolInstances.length;s++){let u=this.symbolInstances.get(s);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}}_deserializeCollisionBoxesForSymbol(s,u,h,v,S,I,C,O,q){let F={};for(let $=u;$<h;$++){let Z=s.get($);F.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.textFeatureIndex=Z.featureIndex;break}for(let $=v;$<S;$++){let Z=s.get($);F.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.verticalTextFeatureIndex=Z.featureIndex;break}for(let $=I;$<C;$++){let Z=s.get($);F.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.iconFeatureIndex=Z.featureIndex;break}for(let $=O;$<q;$++){let Z=s.get($);F.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},F.verticalIconFeatureIndex=Z.featureIndex;break}return F}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){let h=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,u){let h=s.placedSymbolArray.get(u),v=h.vertexStartIndex+4*h.numGlyphs;for(let S=h.vertexStartIndex;S<v;S+=4)s.indexArray.emplaceBack(S,S+2,S+1),s.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let u=Math.sin(s),h=Math.cos(s),v=[],S=[],I=[];for(let C=0;C<this.symbolInstances.length;++C){I.push(C);let O=this.symbolInstances.get(C);v.push(0|Math.round(u*O.anchorX+h*O.anchorY)),S.push(O.featureIndex)}return I.sort((C,O)=>v[C]-v[O]||S[O]-S[C]),I}addToSortKeyRanges(s,u){let h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===u?h.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let u of this.symbolInstanceIndexes){let h=this.symbolInstances.get(u);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((v,S,I)=>{v>=0&&I.indexOf(v)===S&&this.addIndicesForPlacedSymbol(this.text,v)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,h.verticalPlacedTextSymbolIndex),h.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.placedIconSymbolIndex),h.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let ste,lte;Jt("SymbolBucket",Vy,{omit:["layers","collisionBoxArray","features","compareText"]}),Vy.MAX_GLYPHS=65535,Vy.addDynamicAttributes=m6;var y6={get paint(){return lte=lte||new la({"icon-opacity":new Ir(Se.paint_symbol["icon-opacity"]),"icon-color":new Ir(Se.paint_symbol["icon-color"]),"icon-halo-color":new Ir(Se.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ir(Se.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ir(Se.paint_symbol["icon-halo-blur"]),"icon-translate":new lr(Se.paint_symbol["icon-translate"]),"icon-translate-anchor":new lr(Se.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ir(Se.paint_symbol["text-opacity"]),"text-color":new Ir(Se.paint_symbol["text-color"],{runtimeType:Oo,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Ir(Se.paint_symbol["text-halo-color"]),"text-halo-width":new Ir(Se.paint_symbol["text-halo-width"]),"text-halo-blur":new Ir(Se.paint_symbol["text-halo-blur"]),"text-translate":new lr(Se.paint_symbol["text-translate"]),"text-translate-anchor":new lr(Se.paint_symbol["text-translate-anchor"])})},get layout(){return ste=ste||new la({"symbol-placement":new lr(Se.layout_symbol["symbol-placement"]),"symbol-spacing":new lr(Se.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new lr(Se.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ir(Se.layout_symbol["symbol-sort-key"]),"symbol-z-order":new lr(Se.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new lr(Se.layout_symbol["icon-allow-overlap"]),"icon-overlap":new lr(Se.layout_symbol["icon-overlap"]),"icon-ignore-placement":new lr(Se.layout_symbol["icon-ignore-placement"]),"icon-optional":new lr(Se.layout_symbol["icon-optional"]),"icon-rotation-alignment":new lr(Se.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ir(Se.layout_symbol["icon-size"]),"icon-text-fit":new lr(Se.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new lr(Se.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ir(Se.layout_symbol["icon-image"]),"icon-rotate":new Ir(Se.layout_symbol["icon-rotate"]),"icon-padding":new Ir(Se.layout_symbol["icon-padding"]),"icon-keep-upright":new lr(Se.layout_symbol["icon-keep-upright"]),"icon-offset":new Ir(Se.layout_symbol["icon-offset"]),"icon-anchor":new Ir(Se.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new lr(Se.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new lr(Se.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new lr(Se.layout_symbol["text-rotation-alignment"]),"text-field":new Ir(Se.layout_symbol["text-field"]),"text-font":new Ir(Se.layout_symbol["text-font"]),"text-size":new Ir(Se.layout_symbol["text-size"]),"text-max-width":new Ir(Se.layout_symbol["text-max-width"]),"text-line-height":new lr(Se.layout_symbol["text-line-height"]),"text-letter-spacing":new Ir(Se.layout_symbol["text-letter-spacing"]),"text-justify":new Ir(Se.layout_symbol["text-justify"]),"text-radial-offset":new Ir(Se.layout_symbol["text-radial-offset"]),"text-variable-anchor":new lr(Se.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Ir(Se.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Ir(Se.layout_symbol["text-anchor"]),"text-max-angle":new lr(Se.layout_symbol["text-max-angle"]),"text-writing-mode":new lr(Se.layout_symbol["text-writing-mode"]),"text-rotate":new Ir(Se.layout_symbol["text-rotate"]),"text-padding":new lr(Se.layout_symbol["text-padding"]),"text-keep-upright":new lr(Se.layout_symbol["text-keep-upright"]),"text-transform":new Ir(Se.layout_symbol["text-transform"]),"text-offset":new Ir(Se.layout_symbol["text-offset"]),"text-allow-overlap":new lr(Se.layout_symbol["text-allow-overlap"]),"text-overlap":new lr(Se.layout_symbol["text-overlap"]),"text-ignore-placement":new lr(Se.layout_symbol["text-ignore-placement"]),"text-optional":new lr(Se.layout_symbol["text-optional"])})}};class ute{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:xd,this.defaultValue=s}evaluate(s){if(s.formattedSection){let u=this.defaultValue.property.overrides;if(u&&u.hasOverride(s.formattedSection))return u.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Jt("FormatSectionOverride",ute,{omit:["defaultValue"]});class PM extends qs{constructor(s){super(s,y6)}recalculate(s,u){if(super.recalculate(s,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let h=this.layout.get("text-writing-mode");if(h){let v=[];for(let S of h)v.indexOf(S)<0&&v.push(S);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,u,h,v){let S=this.layout.get(s).evaluate(u,{},h,v),I=this._unevaluatedLayout._values[s];return I.isDataDriven()||yy(I.value)||!S?S:function(C,O){return O.replace(/{([^{}]+)}/g,(q,F)=>C&&F in C?String(C[F]):"")}(u.properties,S)}createBucket(s){return new Vy(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of y6.paint.overridableProperties){if(!PM.hasPaintOverride(this.layout,s))continue;let u=this.paint.get(s),h=new ute(u),v=new Kb(h,u.property.specification),S=null;S=u.value.kind==="constant"||u.value.kind==="source"?new Km("source",v):new Xb("composite",v,u.value.zoomStops),this.paint._values[s]=new Xl(u.property,S,u.parameters)}}_handleOverridablePaintPropertyUpdate(s,u,h){return!(!this.layout||u.isDataDriven()||h.isDataDriven())&&PM.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,u){let h=s.get("text-field"),v=y6.paint.properties[u],S=!1,I=C=>{for(let O of C)if(v.overrides&&v.overrides.hasOverride(O))return void(S=!0)};if(h.value.kind==="constant"&&h.value.value instanceof oa)I(h.value.value.sections);else if(h.value.kind==="source"||h.value.kind==="composite"){let C=q=>{S||(q instanceof qu&&Tr(q.value)===Fc?I(q.value.sections):q instanceof of?I(q.sections):q.eachChild(C))},O=h.value;O._styleExpression&&C(O._styleExpression.expression)}return S}}let cte;var lZe={get paint(){return cte=cte||new la({"background-color":new lr(Se.paint_background["background-color"]),"background-pattern":new Hc(Se.paint_background["background-pattern"]),"background-opacity":new lr(Se.paint_background["background-opacity"])})}};class uZe extends qs{constructor(s){super(s,lZe)}}let pte;var cZe={get paint(){return pte=pte||new la({"raster-opacity":new lr(Se.paint_raster["raster-opacity"]),"raster-hue-rotate":new lr(Se.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new lr(Se.paint_raster["raster-brightness-min"]),"raster-brightness-max":new lr(Se.paint_raster["raster-brightness-max"]),"raster-saturation":new lr(Se.paint_raster["raster-saturation"]),"raster-contrast":new lr(Se.paint_raster["raster-contrast"]),"raster-resampling":new lr(Se.paint_raster["raster-resampling"]),"raster-fade-duration":new lr(Se.paint_raster["raster-fade-duration"])})}};class pZe extends qs{constructor(s){super(s,cZe)}}class fZe extends qs{constructor(s){super(s,{}),this.onAdd=u=>{this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},this.onRemove=u=>{this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class dZe{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let hZe={once:!0},_6=6371008.8;class Zd{constructor(s,u){if(isNaN(s)||isNaN(u))throw new Error(`Invalid LngLat object: (${s}, ${u})`);if(this.lng=+s,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Zd(Ve(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let u=Math.PI/180,h=this.lat*u,v=s.lat*u,S=Math.sin(h)*Math.sin(v)+Math.cos(h)*Math.cos(v)*Math.cos((s.lng-this.lng)*u);return _6*Math.acos(Math.min(S,1))}static convert(s){if(s instanceof Zd)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new Zd(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new Zd(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let fte=2*Math.PI*_6;function dte(c){return fte*Math.cos(c*Math.PI/180)}function hte(c){return(180+c)/360}function mte(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function gte(c,s){return c/dte(s)}function b6(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function vte(c,s){return c*dte(b6(s))}class Ox{constructor(s,u,h=0){this.x=+s,this.y=+u,this.z=+h}static fromLngLat(s,u=0){let h=Zd.convert(s);return new Ox(hte(h.lng),mte(h.lat),gte(u,h.lat))}toLngLat(){return new Zd(360*this.x-180,b6(this.y))}toAltitude(){return vte(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/fte*(s=b6(this.y),1/Math.cos(s*Math.PI/180));var s}}function yte(c,s,u){var h=2*Math.PI*6378137/256/Math.pow(2,u);return[c*h-2*Math.PI*6378137/2,s*h-2*Math.PI*6378137/2]}class x6{constructor(s,u,h){if(!function(v,S,I){return!(v<0||v>25||I<0||I>=Math.pow(2,v)||S<0||S>=Math.pow(2,v))}(s,u,h))throw new Error(`x=${u}, y=${h}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=u,this.y=h,this.key=$y(0,s,s,u,h)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,u,h){let v=(I=this.y,C=this.z,O=yte(256*(S=this.x),256*(I=Math.pow(2,C)-I-1),C),q=yte(256*(S+1),256*(I+1),C),O[0]+","+O[1]+","+q[0]+","+q[1]);var S,I,C,O,q;let F=function($,Z,Q){let J,ne="";for(let ue=$;ue>0;ue--)J=1<<ue-1,ne+=(Z&J?1:0)+(Q&J?2:0);return ne}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,u>1?"@2x":"").replace(/{quadkey}/g,F).replace(/{bbox-epsg-3857}/g,v)}isChildOf(s){let u=this.z-s.z;return u>0&&s.x===this.x>>u&&s.y===this.y>>u}getTilePoint(s){let u=Math.pow(2,this.z);return new l((s.x*u-this.x)*dt,(s.y*u-this.y)*dt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class _te{constructor(s,u){this.wrap=s,this.canonical=u,this.key=$y(s,u.z,u.z,u.x,u.y)}}class Sl{constructor(s,u,h,v,S){if(this.terrainRttPosMatrix32f=null,s<h)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${h}`);this.overscaledZ=s,this.wrap=u,this.canonical=new x6(h,+v,+S),this.key=$y(u,s,h,v,S)}clone(){return new Sl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let u=this.canonical.z-s;return s>this.canonical.z?new Sl(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Sl(s,this.wrap,s,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(s,u){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let h=this.canonical.z-s;return s>this.canonical.z?$y(this.wrap*+u,s,this.canonical.z,this.canonical.x,this.canonical.y):$y(this.wrap*+u,s,s,this.canonical.x>>h,this.canonical.y>>h)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let u=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>u&&s.canonical.y===this.canonical.y>>u}children(s){if(this.overscaledZ>=s)return[new Sl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let u=this.canonical.z+1,h=2*this.canonical.x,v=2*this.canonical.y;return[new Sl(u,this.wrap,u,h,v),new Sl(u,this.wrap,u,h+1,v),new Sl(u,this.wrap,u,h,v+1),new Sl(u,this.wrap,u,h+1,v+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new Sl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new Sl(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new _te(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new Ox(s.x-this.wrap,s.y))}}function $y(c,s,u,h,v){(c*=2)<0&&(c=-1*c-1);let S=1<<u;return(S*S*c+S*v+h).toString(36)+u.toString(36)+s.toString(36)}function kx(c,s){return s?c.properties[s]:c.id}Jt("CanonicalTileID",x6),Jt("OverscaledTileID",Sl,{omit:["terrainRttPosMatrix32f"]});class ug{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(s){return this.minX=Math.min(this.minX,s.x),this.minY=Math.min(this.minY,s.y),this.maxX=Math.max(this.maxX,s.x),this.maxY=Math.max(this.maxY,s.y),this}expandBy(s){return this.minX-=s,this.minY-=s,this.maxX+=s,this.maxY+=s,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(s){return this.expandBy(-s)}map(s){let u=new ug;return u.extend(s(new l(this.minX,this.minY))),u.extend(s(new l(this.maxX,this.minY))),u.extend(s(new l(this.minX,this.maxY))),u.extend(s(new l(this.maxX,this.maxY))),u}static fromPoints(s){let u=new ug;for(let h of s)u.extend(h);return u}contains(s){return s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(s){return!this.empty()&&!s.empty()&&s.minX>=this.minX&&s.maxX<=this.maxX&&s.minY>=this.minY&&s.maxY<=this.maxY}intersects(s){return!this.empty()&&!s.empty()&&s.minX<=this.maxX&&s.maxX>=this.minX&&s.minY<=this.maxY&&s.maxY>=this.minY}}class bte{constructor(s){this._stringToNumber={},this._numberToString=[];for(let u=0;u<s.length;u++){let h=s[u];this._stringToNumber[h]=u,this._numberToString[u]=h}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class xte{constructor(s,u,h,v,S){this.type="Feature",this._vectorTileFeature=s,s._z=u,s._x=h,s._y=v,this.properties=s.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let u in this)u!=="_geometry"&&u!=="_vectorTileFeature"&&(s[u]=this[u]);return s}}class wte{constructor(s,u){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new ng(dt,16,0),this.grid3D=new ng(dt,16,0),this.featureIndexArray=new Le,this.promoteId=u}insert(s,u,h,v,S,I){let C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,v,S);let O=I?this.grid3D:this.grid;for(let q=0;q<u.length;q++){let F=u[q],$=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<F.length;Z++){let Q=F[Z];$[0]=Math.min($[0],Q.x),$[1]=Math.min($[1],Q.y),$[2]=Math.max($[2],Q.x),$[3]=Math.max($[3],Q.y)}$[0]<dt&&$[1]<dt&&$[2]>=0&&$[3]>=0&&O.insert(C,$[0],$[1],$[2],$[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new zee(new c6(this.rawTileData)).layers,this.sourceLayerCoder=new bte(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,u,h,v){this.loadVTLayers();let S=s.params,I=dt/s.tileSize/s.scale,C=pf(S.filter),O=s.queryGeometry,q=s.queryPadding*I,F=ug.fromPoints(O),$=this.grid.query(F.minX-q,F.minY-q,F.maxX+q,F.maxY+q),Z=ug.fromPoints(s.cameraQueryGeometry).expandBy(q),Q=this.grid3D.query(Z.minX,Z.minY,Z.maxX,Z.maxY,(ue,_e,$e,ke)=>function(Re,et,ut,St,$t){for(let Bt of Re)if(et<=Bt.x&&ut<=Bt.y&&St>=Bt.x&&$t>=Bt.y)return!0;let kt=[new l(et,ut),new l(et,$t),new l(St,$t),new l(St,ut)];if(Re.length>2){for(let Bt of kt)if(Ly(Re,Bt))return!0}for(let Bt=0;Bt<Re.length-1;Bt++)if(HHe(Re[Bt],Re[Bt+1],kt))return!0;return!1}(s.cameraQueryGeometry,ue-q,_e-q,$e+q,ke+q));for(let ue of Q)$.push(ue);$.sort(mZe);let J={},ne;for(let ue=0;ue<$.length;ue++){let _e=$[ue];if(_e===ne)continue;ne=_e;let $e=this.featureIndexArray.get(_e),ke=null;this.loadMatchingFeature(J,$e.bucketIndex,$e.sourceLayerIndex,$e.featureIndex,C,S.layers,S.availableImages,u,h,v,(Re,et,ut)=>(ke||(ke=Xc(Re)),et.queryIntersectsFeature({queryGeometry:O,feature:Re,featureState:ut,geometry:ke,zoom:this.z,transform:s.transform,pixelsToTileUnits:I,pixelPosMatrix:s.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:s.getElevation})))}return J}loadMatchingFeature(s,u,h,v,S,I,C,O,q,F,$){let Z=this.bucketLayerIDs[u];if(I&&!Z.some(ue=>I.has(ue)))return;let Q=this.sourceLayerCoder.decode(h),J=this.vtLayers[Q].feature(v);if(S.needGeometry){let ue=Bu(J,!0);if(!S.filter(new Xn(this.tileID.overscaledZ),ue,this.tileID.canonical))return}else if(!S.filter(new Xn(this.tileID.overscaledZ),J))return;let ne=this.getId(J,Q);for(let ue=0;ue<Z.length;ue++){let _e=Z[ue];if(I&&!I.has(_e))continue;let $e=O[_e];if(!$e)continue;let ke={};ne&&F&&(ke=F.getState($e.sourceLayer||"_geojsonTileLayer",ne));let Re=Oe({},q[_e]);Re.paint=Ste(Re.paint,$e.paint,J,ke,C),Re.layout=Ste(Re.layout,$e.layout,J,ke,C);let et=!$||$(J,$e,ke);if(!et)continue;let ut=new xte(J,this.z,this.x,this.y,ne);ut.layer=Re;let St=s[_e];St===void 0&&(St=s[_e]=[]),St.push({featureIndex:v,feature:ut,intersectionZ:et})}}lookupSymbolFeatures(s,u,h,v,S,I,C,O){let q={};this.loadVTLayers();let F=pf(S);for(let $ of s)this.loadMatchingFeature(q,h,v,$,F,I,C,O,u);return q}hasLayer(s){for(let u of this.bucketLayerIDs)for(let h of u)if(s===h)return!0;return!1}getId(s,u){var h;let v=s.id;return this.promoteId&&(v=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[u]],typeof v=="boolean"&&(v=Number(v)),v===void 0&&!((h=s.properties)===null||h===void 0)&&h.cluster&&this.promoteId&&(v=Number(s.properties.cluster_id))),v}}function Ste(c,s,u,h,v){return Fe(c,(S,I)=>{let C=s instanceof Cy?s.get(I):null;return C&&C.evaluate?C.evaluate(u,h,v):C})}function mZe(c,s){return s-c}function Ete(c,s,u,h,v){let S=[];for(let I=0;I<c.length;I++){let C=c[I],O;for(let q=0;q<C.length-1;q++){let F=C[q],$=C[q+1];F.x<s&&$.x<s||(F.x<s?F=new l(s,F.y+(s-F.x)/($.x-F.x)*($.y-F.y))._round():$.x<s&&($=new l(s,F.y+(s-F.x)/($.x-F.x)*($.y-F.y))._round()),F.y<u&&$.y<u||(F.y<u?F=new l(F.x+(u-F.y)/($.y-F.y)*($.x-F.x),u)._round():$.y<u&&($=new l(F.x+(u-F.y)/($.y-F.y)*($.x-F.x),u)._round()),F.x>=h&&$.x>=h||(F.x>=h?F=new l(h,F.y+(h-F.x)/($.x-F.x)*($.y-F.y))._round():$.x>=h&&($=new l(h,F.y+(h-F.x)/($.x-F.x)*($.y-F.y))._round()),F.y>=v&&$.y>=v||(F.y>=v?F=new l(F.x+(v-F.y)/($.y-F.y)*($.x-F.x),v)._round():$.y>=v&&($=new l(F.x+(v-F.y)/($.y-F.y)*($.x-F.x),v)._round()),O&&F.equals(O[O.length-1])||(O=[F],S.push(O)),O.push($)))))}}return S}Jt("FeatureIndex",wte,{omit:["rawTileData","sourceLayerCoder"]});class Yd extends l{constructor(s,u,h,v){super(s,u),this.angle=h,v!==void 0&&(this.segment=v)}clone(){return new Yd(this.x,this.y,this.angle,this.segment)}}function Ite(c,s,u,h,v){if(s.segment===void 0||u===0)return!0;let S=s,I=s.segment+1,C=0;for(;C>-u/2;){if(I--,I<0)return!1;C-=c[I].dist(S),S=c[I]}C+=c[I].dist(c[I+1]),I++;let O=[],q=0;for(;C<u/2;){let F=c[I],$=c[I+1];if(!$)return!1;let Z=c[I-1].angleTo(F)-F.angleTo($);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:C,angleDelta:Z}),q+=Z;C-O[0].distance>h;)q-=O.shift().angleDelta;if(q>v)return!1;I++,C+=F.dist($)}return!0}function Tte(c){let s=0;for(let u=0;u<c.length-1;u++)s+=c[u].dist(c[u+1]);return s}function Mte(c,s,u){return c?.6*s*u:0}function Cte(c,s){return Math.max(c?c.right-c.left:0,s?s.right-s.left:0)}function gZe(c,s,u,h,v,S){let I=Mte(u,v,S),C=Cte(u,h)*S,O=0,q=Tte(c)/2;for(let F=0;F<c.length-1;F++){let $=c[F],Z=c[F+1],Q=$.dist(Z);if(O+Q>q){let J=(q-O)/Q,ne=Yl.number($.x,Z.x,J),ue=Yl.number($.y,Z.y,J),_e=new Yd(ne,ue,Z.angleTo($),F);return _e._round(),!I||Ite(c,_e,C,I,s)?_e:void 0}O+=Q}}function vZe(c,s,u,h,v,S,I,C,O){let q=Mte(h,S,I),F=Cte(h,v),$=F*I,Z=c[0].x===0||c[0].x===O||c[0].y===0||c[0].y===O;return s-$<s/4&&(s=$+s/4),Ate(c,Z?s/2*C%s:(F/2+2*S)*I*C%s,s,q,u,$,Z,!1,O)}function Ate(c,s,u,h,v,S,I,C,O){let q=S/2,F=Tte(c),$=0,Z=s-u,Q=[];for(let J=0;J<c.length-1;J++){let ne=c[J],ue=c[J+1],_e=ne.dist(ue),$e=ue.angleTo(ne);for(;Z+u<$+_e;){Z+=u;let ke=(Z-$)/_e,Re=Yl.number(ne.x,ue.x,ke),et=Yl.number(ne.y,ue.y,ke);if(Re>=0&&Re<O&&et>=0&&et<O&&Z-q>=0&&Z+q<=F){let ut=new Yd(Re,et,$e,J);ut._round(),h&&!Ite(c,ut,S,h,v)||Q.push(ut)}}$+=_e}return C||Q.length||I||(Q=Ate(c,$/2,u,h,v,S,I,!0,O)),Q}function Pte(c,s,u,h){let v=[],S=c.image,I=S.pixelRatio,C=S.paddedRect.w-2,O=S.paddedRect.h-2,q={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom},F=S.stretchX||[[0,C]],$=S.stretchY||[[0,O]],Z=(mt,Mr)=>mt+Mr[1]-Mr[0],Q=F.reduce(Z,0),J=$.reduce(Z,0),ne=C-Q,ue=O-J,_e=0,$e=Q,ke=0,Re=J,et=0,ut=ne,St=0,$t=ue;if(S.content&&h){let mt=S.content,Mr=mt[2]-mt[0],Dr=mt[3]-mt[1];(S.textFitWidth||S.textFitHeight)&&(q=ite(c)),_e=OM(F,0,mt[0]),ke=OM($,0,mt[1]),$e=OM(F,mt[0],mt[2]),Re=OM($,mt[1],mt[3]),et=mt[0]-_e,St=mt[1]-ke,ut=Mr-$e,$t=Dr-Re}let kt=q.x1,Bt=q.y1,cr=q.x2-kt,Ft=q.y2-Bt,Ut=(mt,Mr,Dr,yr)=>{let sr=kM(mt.stretch-_e,$e,cr,kt),hn=DM(mt.fixed-et,ut,mt.stretch,Q),Ii=kM(Mr.stretch-ke,Re,Ft,Bt),no=DM(Mr.fixed-St,$t,Mr.stretch,J),Wo=kM(Dr.stretch-_e,$e,cr,kt),El=DM(Dr.fixed-et,ut,Dr.stretch,Q),ms=kM(yr.stretch-ke,Re,Ft,Bt),Do=DM(yr.fixed-St,$t,yr.stretch,J),yi=new l(sr,Ii),_o=new l(Wo,Ii),No=new l(Wo,ms),Ro=new l(sr,ms),Va=new l(hn/I,no/I),Il=new l(El/I,Do/I),bo=s*Math.PI/180;if(bo){let xo=Math.sin(bo),wo=Math.cos(bo),Wi=[wo,-xo,xo,wo];yi._matMult(Wi),_o._matMult(Wi),Ro._matMult(Wi),No._matMult(Wi)}let gs=mt.stretch+mt.fixed,io=Mr.stretch+Mr.fixed;return{tl:yi,tr:_o,bl:Ro,br:No,tex:{x:S.paddedRect.x+1+gs,y:S.paddedRect.y+1+io,w:Dr.stretch+Dr.fixed-gs,h:yr.stretch+yr.fixed-io},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Va,pixelOffsetBR:Il,minFontScaleX:ut/I/cr,minFontScaleY:$t/I/Ft,isSDF:u}};if(h&&(S.stretchX||S.stretchY)){let mt=Ote(F,ne,Q),Mr=Ote($,ue,J);for(let Dr=0;Dr<mt.length-1;Dr++){let yr=mt[Dr],sr=mt[Dr+1];for(let hn=0;hn<Mr.length-1;hn++)v.push(Ut(yr,Mr[hn],sr,Mr[hn+1]))}}else v.push(Ut({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:O+1}));return v}function OM(c,s,u){let h=0;for(let v of c)h+=Math.max(s,Math.min(u,v[1]))-Math.max(s,Math.min(u,v[0]));return h}function Ote(c,s,u){let h=[{fixed:-1,stretch:0}];for(let[v,S]of c){let I=h[h.length-1];h.push({fixed:v-I.stretch,stretch:I.stretch}),h.push({fixed:v-I.stretch,stretch:I.stretch+(S-v)})}return h.push({fixed:s+1,stretch:u}),h}function kM(c,s,u,h){return c/s*u+h}function DM(c,s,u,h){return c-s*u/h}Jt("Anchor",Yd);class NM{constructor(s,u,h,v,S,I,C,O,q,F){var $;if(this.boxStartIndex=s.length,q){let Z=I.top,Q=I.bottom,J=I.collisionPadding;J&&(Z-=J[1],Q+=J[3]);let ne=Q-Z;ne>0&&(ne=Math.max(10,ne),this.circleDiameter=ne)}else{let Z=!(($=I.image)===null||$===void 0)&&$.content&&(I.image.textFitWidth||I.image.textFitHeight)?ite(I):{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom};Z.y1=Z.y1*C-O[0],Z.y2=Z.y2*C+O[2],Z.x1=Z.x1*C-O[3],Z.x2=Z.x2*C+O[1];let Q=I.collisionPadding;if(Q&&(Z.x1-=Q[0]*C,Z.y1-=Q[1]*C,Z.x2+=Q[2]*C,Z.y2+=Q[3]*C),F){let J=new l(Z.x1,Z.y1),ne=new l(Z.x2,Z.y1),ue=new l(Z.x1,Z.y2),_e=new l(Z.x2,Z.y2),$e=F*Math.PI/180;J._rotate($e),ne._rotate($e),ue._rotate($e),_e._rotate($e),Z.x1=Math.min(J.x,ne.x,ue.x,_e.x),Z.x2=Math.max(J.x,ne.x,ue.x,_e.x),Z.y1=Math.min(J.y,ne.y,ue.y,_e.y),Z.y2=Math.max(J.y,ne.y,ue.y,_e.y)}s.emplaceBack(u.x,u.y,Z.x1,Z.y1,Z.x2,Z.y2,h,v,S)}this.boxEndIndex=s.length}}class yZe{constructor(s=[],u=(h,v)=>h<v?-1:h>v?1:0){if(this.data=s,this.length=this.data.length,this.compare=u,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:u,compare:h}=this,v=u[s];for(;s>0;){let S=s-1>>1,I=u[S];if(h(v,I)>=0)break;u[s]=I,s=S}u[s]=v}_down(s){let{data:u,compare:h}=this,v=this.length>>1,S=u[s];for(;s<v;){let I=1+(s<<1),C=I+1;if(C<this.length&&h(u[C],u[I])<0&&(I=C),h(u[I],S)>=0)break;u[s]=u[I],s=I}u[s]=S}}function _Ze(c,s=1,u=!1){let h=ug.fromPoints(c[0]),v=Math.min(h.width(),h.height()),S=v/2,I=new yZe([],bZe),{minX:C,minY:O,maxX:q,maxY:F}=h;if(v===0)return new l(C,O);for(let Q=C;Q<q;Q+=v)for(let J=O;J<F;J+=v)I.push(new Gy(Q+S,J+S,S,c));let $=function(Q){let J=0,ne=0,ue=0,_e=Q[0];for(let $e=0,ke=_e.length,Re=ke-1;$e<ke;Re=$e++){let et=_e[$e],ut=_e[Re],St=et.x*ut.y-ut.x*et.y;ne+=(et.x+ut.x)*St,ue+=(et.y+ut.y)*St,J+=3*St}return new Gy(ne/J,ue/J,0,Q)}(c),Z=I.length;for(;I.length;){let Q=I.pop();(Q.d>$.d||!$.d)&&($=Q,u&&console.log("found best %d after %d probes",Math.round(1e4*Q.d)/1e4,Z)),Q.max-$.d<=s||(S=Q.h/2,I.push(new Gy(Q.p.x-S,Q.p.y-S,S,c)),I.push(new Gy(Q.p.x+S,Q.p.y-S,S,c)),I.push(new Gy(Q.p.x-S,Q.p.y+S,S,c)),I.push(new Gy(Q.p.x+S,Q.p.y+S,S,c)),Z+=4)}return u&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${$.d}`)),$.p}function bZe(c,s){return s.max-c.max}function Gy(c,s,u,h){this.p=new l(c,s),this.h=u,this.d=function(v,S){let I=!1,C=1/0;for(let O=0;O<S.length;O++){let q=S[O];for(let F=0,$=q.length,Z=$-1;F<$;Z=F++){let Q=q[F],J=q[Z];Q.y>v.y!=J.y>v.y&&v.x<(J.x-Q.x)*(v.y-Q.y)/(J.y-Q.y)+Q.x&&(I=!I),C=Math.min(C,mee(v,Q,J))}}return(I?1:-1)*Math.sqrt(C)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}var Ho;i.aE=void 0,(Ho=i.aE||(i.aE={}))[Ho.center=1]="center",Ho[Ho.left=2]="left",Ho[Ho.right=3]="right",Ho[Ho.top=4]="top",Ho[Ho.bottom=5]="bottom",Ho[Ho["top-left"]=6]="top-left",Ho[Ho["top-right"]=7]="top-right",Ho[Ho["bottom-left"]=8]="bottom-left",Ho[Ho["bottom-right"]=9]="bottom-right";let w6=Number.POSITIVE_INFINITY;function kte(c,s){return s[1]!==w6?function(u,h,v){let S=0,I=0;switch(h=Math.abs(h),v=Math.abs(v),u){case"top-right":case"top-left":case"top":I=v-7;break;case"bottom-right":case"bottom-left":case"bottom":I=7-v}switch(u){case"top-right":case"bottom-right":case"right":S=-h;break;case"top-left":case"bottom-left":case"left":S=h}return[S,I]}(c,s[0],s[1]):function(u,h){let v=0,S=0;h<0&&(h=0);let I=h/Math.SQRT2;switch(u){case"top-right":case"top-left":S=I-7;break;case"bottom-right":case"bottom-left":S=7-I;break;case"bottom":S=7-h;break;case"top":S=h-7}switch(u){case"top-right":case"bottom-right":v=-I;break;case"top-left":case"bottom-left":v=I;break;case"left":v=h;break;case"right":v=-h}return[v,S]}(c,s[0])}function Dte(c,s,u){var h;let v=c.layout,S=(h=v.get("text-variable-anchor-offset"))===null||h===void 0?void 0:h.evaluate(s,{},u);if(S){let C=S.values,O=[];for(let q=0;q<C.length;q+=2){let F=O[q]=C[q],$=C[q+1].map(Z=>Z*yo);F.startsWith("top")?$[1]-=7:F.startsWith("bottom")&&($[1]+=7),O[q+1]=$}return new sa(O)}let I=v.get("text-variable-anchor");if(I){let C;C=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(s,{},u)*yo,w6]:v.get("text-offset").evaluate(s,{},u).map(q=>q*yo);let O=[];for(let q of I)O.push(q,kte(q,C));return new sa(O)}return null}function S6(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function xZe(c,s,u,h,v,S,I,C,O,q,F,$){let Z=S.textMaxSize.evaluate(s,{});Z===void 0&&(Z=I);let Q=c.layers[0].layout,J=Q.get("icon-offset").evaluate(s,{},F),ne=Rte(u.horizontal),ue=I/24,_e=c.tilePixelRatio*ue,$e=c.tilePixelRatio*Z/24,ke=c.tilePixelRatio*C,Re=c.tilePixelRatio*Q.get("symbol-spacing"),et=Q.get("text-padding")*c.tilePixelRatio,ut=function(Dr,yr,sr,hn=1){let Ii=Dr.get("icon-padding").evaluate(yr,{},sr),no=Ii&&Ii.values;return[no[0]*hn,no[1]*hn,no[2]*hn,no[3]*hn]}(Q,s,F,c.tilePixelRatio),St=Q.get("text-max-angle")/180*Math.PI,$t=Q.get("text-rotation-alignment")!=="viewport"&&Q.get("symbol-placement")!=="point",kt=Q.get("icon-rotation-alignment")==="map"&&Q.get("symbol-placement")!=="point",Bt=Q.get("symbol-placement"),cr=Re/2,Ft=Q.get("icon-text-fit"),Ut;h&&Ft!=="none"&&(c.allowVerticalPlacement&&u.vertical&&(Ut=ote(h,u.vertical,Ft,Q.get("icon-text-fit-padding"),J,ue)),ne&&(h=ote(h,ne,Ft,Q.get("icon-text-fit-padding"),J,ue)));let mt=F?$.line.getGranularityForZoomLevel(F.z):1,Mr=(Dr,yr)=>{yr.x<0||yr.x>=dt||yr.y<0||yr.y>=dt||function(sr,hn,Ii,no,Wo,El,ms,Do,yi,_o,No,Ro,Va,Il,bo,gs,io,xo,wo,Wi,ui,Uu,Hy,Vu,EZe){let Wy=sr.addToLineVertexArray(hn,Ii),cg,Zy,Yy,Ky,jte=0,Fte=0,Bte=0,Ute=0,O6=-1,k6=-1,bf={},Vte=$d("");if(sr.allowVerticalPlacement&&no.vertical){let pa=Do.layout.get("text-rotate").evaluate(ui,{},Vu)+90;Yy=new NM(yi,hn,_o,No,Ro,no.vertical,Va,Il,bo,pa),ms&&(Ky=new NM(yi,hn,_o,No,Ro,ms,io,xo,bo,pa))}if(Wo){let pa=Do.layout.get("icon-rotate").evaluate(ui,{}),Tl=Do.layout.get("icon-text-fit")!=="none",pg=Pte(Wo,pa,Hy,Tl),Gu=ms?Pte(ms,pa,Hy,Tl):void 0;Zy=new NM(yi,hn,_o,No,Ro,Wo,io,xo,!1,pa),jte=4*pg.length;let fg=sr.iconSizeData,Qc=null;fg.kind==="source"?(Qc=[_f*Do.layout.get("icon-size").evaluate(ui,{})],Qc[0]>Wd&&vt(`${sr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):fg.kind==="composite"&&(Qc=[_f*Uu.compositeIconSizes[0].evaluate(ui,{},Vu),_f*Uu.compositeIconSizes[1].evaluate(ui,{},Vu)],(Qc[0]>Wd||Qc[1]>Wd)&&vt(`${sr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),sr.addSymbols(sr.icon,pg,Qc,Wi,wo,ui,i.ao.none,hn,Wy.lineStartIndex,Wy.lineLength,-1,Vu),O6=sr.icon.placedSymbolArray.length-1,Gu&&(Fte=4*Gu.length,sr.addSymbols(sr.icon,Gu,Qc,Wi,wo,ui,i.ao.vertical,hn,Wy.lineStartIndex,Wy.lineLength,-1,Vu),k6=sr.icon.placedSymbolArray.length-1)}let $te=Object.keys(no.horizontal);for(let pa of $te){let Tl=no.horizontal[pa];if(!cg){Vte=$d(Tl.text);let Gu=Do.layout.get("text-rotate").evaluate(ui,{},Vu);cg=new NM(yi,hn,_o,No,Ro,Tl,Va,Il,bo,Gu)}let pg=Tl.positionedLines.length===1;if(Bte+=Nte(sr,hn,Tl,El,Do,bo,ui,gs,Wy,no.vertical?i.ao.horizontal:i.ao.horizontalOnly,pg?$te:[pa],bf,O6,Uu,Vu),pg)break}no.vertical&&(Ute+=Nte(sr,hn,no.vertical,El,Do,bo,ui,gs,Wy,i.ao.vertical,["vertical"],bf,k6,Uu,Vu));let IZe=cg?cg.boxStartIndex:sr.collisionBoxArray.length,TZe=cg?cg.boxEndIndex:sr.collisionBoxArray.length,MZe=Yy?Yy.boxStartIndex:sr.collisionBoxArray.length,CZe=Yy?Yy.boxEndIndex:sr.collisionBoxArray.length,AZe=Zy?Zy.boxStartIndex:sr.collisionBoxArray.length,PZe=Zy?Zy.boxEndIndex:sr.collisionBoxArray.length,OZe=Ky?Ky.boxStartIndex:sr.collisionBoxArray.length,kZe=Ky?Ky.boxEndIndex:sr.collisionBoxArray.length,$u=-1,LM=(pa,Tl)=>pa&&pa.circleDiameter?Math.max(pa.circleDiameter,Tl):Tl;$u=LM(cg,$u),$u=LM(Yy,$u),$u=LM(Zy,$u),$u=LM(Ky,$u);let Gte=$u>-1?1:0;Gte&&($u*=EZe/yo),sr.glyphOffsetArray.length>=Vy.MAX_GLYPHS&&vt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ui.sortKey!==void 0&&sr.addToSortKeyRanges(sr.symbolInstances.length,ui.sortKey);let DZe=Dte(Do,ui,Vu),[NZe,RZe]=function(pa,Tl){let pg=pa.length,Gu=Tl==null?void 0:Tl.values;if((Gu==null?void 0:Gu.length)>0)for(let fg=0;fg<Gu.length;fg+=2){let Qc=Gu[fg+1];pa.emplaceBack(i.aE[Gu[fg]],Qc[0],Qc[1])}return[pg,pa.length]}(sr.textAnchorOffsets,DZe);sr.symbolInstances.emplaceBack(hn.x,hn.y,bf.right>=0?bf.right:-1,bf.center>=0?bf.center:-1,bf.left>=0?bf.left:-1,bf.vertical||-1,O6,k6,Vte,IZe,TZe,MZe,CZe,AZe,PZe,OZe,kZe,_o,Bte,Ute,jte,Fte,Gte,0,Va,$u,NZe,RZe)}(c,yr,Dr,u,h,v,Ut,c.layers[0],c.collisionBoxArray,s.index,s.sourceLayerIndex,c.index,_e,[et,et,et,et],$t,O,ke,ut,kt,J,s,S,q,F,I)};if(Bt==="line")for(let Dr of Ete(s.geometry,0,0,dt,dt)){let yr=lg(Dr,mt),sr=vZe(yr,Re,St,u.vertical||ne,h,24,$e,c.overscaling,dt);for(let hn of sr)ne&&wZe(c,ne.text,cr,hn)||Mr(yr,hn)}else if(Bt==="line-center"){for(let Dr of s.geometry)if(Dr.length>1){let yr=lg(Dr,mt),sr=gZe(yr,St,u.vertical||ne,h,24,$e);sr&&Mr(yr,sr)}}else if(s.type==="Polygon")for(let Dr of Gm(s.geometry,0)){let yr=_Ze(Dr,16);Mr(lg(Dr[0],mt,!0),new Yd(yr.x,yr.y,0))}else if(s.type==="LineString")for(let Dr of s.geometry){let yr=lg(Dr,mt);Mr(yr,new Yd(yr[0].x,yr[0].y,0))}else if(s.type==="Point")for(let Dr of s.geometry)for(let yr of Dr)Mr([yr],new Yd(yr.x,yr.y,0))}function Nte(c,s,u,h,v,S,I,C,O,q,F,$,Z,Q,J){let ne=function($e,ke,Re,et,ut,St,$t,kt){let Bt=et.layout.get("text-rotate").evaluate(St,{})*Math.PI/180,cr=[];for(let Ft of ke.positionedLines)for(let Ut of Ft.positionedGlyphs){if(!Ut.rect)continue;let mt=Ut.rect||{},Mr=4,Dr=!0,yr=1,sr=0,hn=(ut||kt)&&Ut.vertical,Ii=Ut.metrics.advance*Ut.scale/2;if(kt&&ke.verticalizable&&(sr=Ft.lineOffset/2-(Ut.imageName?-(yo-Ut.metrics.width*Ut.scale)/2:(Ut.scale-1)*yo)),Ut.imageName){let xo=$t[Ut.imageName];Dr=xo.sdf,yr=xo.pixelRatio,Mr=1/yr}let no=ut?[Ut.x+Ii,Ut.y]:[0,0],Wo=ut?[0,0]:[Ut.x+Ii+Re[0],Ut.y+Re[1]-sr],El=[0,0];hn&&(El=Wo,Wo=[0,0]);let ms=Ut.metrics.isDoubleResolution?2:1,Do=(Ut.metrics.left-Mr)*Ut.scale-Ii+Wo[0],yi=(-Ut.metrics.top-Mr)*Ut.scale+Wo[1],_o=Do+mt.w/ms*Ut.scale/yr,No=yi+mt.h/ms*Ut.scale/yr,Ro=new l(Do,yi),Va=new l(_o,yi),Il=new l(Do,No),bo=new l(_o,No);if(hn){let xo=new l(-Ii,Ii- -17),wo=-Math.PI/2,Wi=12-Ii,ui=new l(22-Wi,-(Ut.imageName?Wi:0)),Uu=new l(...El);Ro._rotateAround(wo,xo)._add(ui)._add(Uu),Va._rotateAround(wo,xo)._add(ui)._add(Uu),Il._rotateAround(wo,xo)._add(ui)._add(Uu),bo._rotateAround(wo,xo)._add(ui)._add(Uu)}if(Bt){let xo=Math.sin(Bt),wo=Math.cos(Bt),Wi=[wo,-xo,xo,wo];Ro._matMult(Wi),Va._matMult(Wi),Il._matMult(Wi),bo._matMult(Wi)}let gs=new l(0,0),io=new l(0,0);cr.push({tl:Ro,tr:Va,bl:Il,br:bo,tex:mt,writingMode:ke.writingMode,glyphOffset:no,sectionIndex:Ut.sectionIndex,isSDF:Dr,pixelOffsetTL:gs,pixelOffsetBR:io,minFontScaleX:0,minFontScaleY:0})}return cr}(0,u,C,v,S,I,h,c.allowVerticalPlacement),ue=c.textSizeData,_e=null;ue.kind==="source"?(_e=[_f*v.layout.get("text-size").evaluate(I,{})],_e[0]>Wd&&vt(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ue.kind==="composite"&&(_e=[_f*Q.compositeTextSizes[0].evaluate(I,{},J),_f*Q.compositeTextSizes[1].evaluate(I,{},J)],(_e[0]>Wd||_e[1]>Wd)&&vt(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,ne,_e,C,S,I,q,s,O.lineStartIndex,O.lineLength,Z,J);for(let $e of F)$[$e]=c.text.placedSymbolArray.length-1;return 4*ne.length}function Rte(c){for(let s in c)return c[s];return null}function wZe(c,s,u,h){let v=c.compareText;if(s in v){let S=v[s];for(let I=S.length-1;I>=0;I--)if(h.dist(S[I])<u)return!0}else v[s]=[];return v[s].push(h),!1}let Lte=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class E6{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[u,h]=new Uint8Array(s,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");let v=h>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);let S=Lte[15&h];if(!S)throw new Error("Unrecognized array type.");let[I]=new Uint16Array(s,2,1),[C]=new Uint32Array(s,4,1);return new E6(C,I,S,s)}constructor(s,u=64,h=Float64Array,v){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=h,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let S=Lte.indexOf(this.ArrayType),I=2*s*this.ArrayType.BYTES_PER_ELEMENT,C=s*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-C%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${h}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+O,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+I+C+O),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+O,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=s)}add(s,u){let h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=s,this.coords[this._pos++]=u,h}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return I6(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,u,h,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:S,coords:I,nodeSize:C}=this,O=[0,S.length-1,0],q=[];for(;O.length;){let F=O.pop()||0,$=O.pop()||0,Z=O.pop()||0;if($-Z<=C){for(let ue=Z;ue<=$;ue++){let _e=I[2*ue],$e=I[2*ue+1];_e>=s&&_e<=h&&$e>=u&&$e<=v&&q.push(S[ue])}continue}let Q=Z+$>>1,J=I[2*Q],ne=I[2*Q+1];J>=s&&J<=h&&ne>=u&&ne<=v&&q.push(S[Q]),(F===0?s<=J:u<=ne)&&(O.push(Z),O.push(Q-1),O.push(1-F)),(F===0?h>=J:v>=ne)&&(O.push(Q+1),O.push($),O.push(1-F))}return q}within(s,u,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:v,coords:S,nodeSize:I}=this,C=[0,v.length-1,0],O=[],q=h*h;for(;C.length;){let F=C.pop()||0,$=C.pop()||0,Z=C.pop()||0;if($-Z<=I){for(let ue=Z;ue<=$;ue++)zte(S[2*ue],S[2*ue+1],s,u)<=q&&O.push(v[ue]);continue}let Q=Z+$>>1,J=S[2*Q],ne=S[2*Q+1];zte(J,ne,s,u)<=q&&O.push(v[Q]),(F===0?s-h<=J:u-h<=ne)&&(C.push(Z),C.push(Q-1),C.push(1-F)),(F===0?s+h>=J:u+h>=ne)&&(C.push(Q+1),C.push($),C.push(1-F))}return O}}function I6(c,s,u,h,v,S){if(v-h<=u)return;let I=h+v>>1;qte(c,s,I,h,v,S),I6(c,s,u,h,I-1,1-S),I6(c,s,u,I+1,v,1-S)}function qte(c,s,u,h,v,S){for(;v>h;){if(v-h>600){let q=v-h+1,F=u-h+1,$=Math.log(q),Z=.5*Math.exp(2*$/3),Q=.5*Math.sqrt($*Z*(q-Z)/q)*(F-q/2<0?-1:1);qte(c,s,u,Math.max(h,Math.floor(u-F*Z/q+Q)),Math.min(v,Math.floor(u+(q-F)*Z/q+Q)),S)}let I=s[2*u+S],C=h,O=v;for(Dx(c,s,h,u),s[2*v+S]>I&&Dx(c,s,h,v);C<O;){for(Dx(c,s,C,O),C++,O--;s[2*C+S]<I;)C++;for(;s[2*O+S]>I;)O--}s[2*h+S]===I?Dx(c,s,h,O):(O++,Dx(c,s,O,v)),O<=u&&(h=O+1),u<=O&&(v=O-1)}}function Dx(c,s,u,h){T6(c,u,h),T6(s,2*u,2*h),T6(s,2*u+1,2*h+1)}function T6(c,s,u){let h=c[s];c[s]=c[u],c[u]=h}function zte(c,s,u,h){let v=c-u,S=s-h;return v*v+S*S}var M6;i.cx=void 0,(M6=i.cx||(i.cx={})).create="create",M6.load="load",M6.fullLoad="fullLoad";let RM=null,Nx=[],C6=1e3/60,A6="loadTime",P6="fullLoadTime",SZe={mark(c){performance.mark(c)},frame(c){let s=c;RM!=null&&Nx.push(s-RM),RM=s},clearMetrics(){RM=null,Nx=[],performance.clearMeasures(A6),performance.clearMeasures(P6);for(let c in i.cx)performance.clearMarks(i.cx[c])},getPerformanceMetrics(){performance.measure(A6,i.cx.create,i.cx.load),performance.measure(P6,i.cx.create,i.cx.fullLoad);let c=performance.getEntriesByName(A6)[0].duration,s=performance.getEntriesByName(P6)[0].duration,u=Nx.length,h=1/(Nx.reduce((S,I)=>S+I,0)/u/1e3),v=Nx.filter(S=>S>C6).reduce((S,I)=>S+(I-C6)/C6,0);return{loadTime:c,fullLoadTime:s,fps:h,percentDroppedFrames:v/(u+v)*100,totalFrames:u}}};i.$=dt,i.A=R,i.B=function([c,s,u]){return s+=90,s*=Math.PI/180,u*=Math.PI/180,{x:c*Math.cos(s)*Math.sin(u),y:c*Math.sin(s)*Math.sin(u),z:c*Math.cos(u)}},i.C=Yl,i.D=lr,i.E=ft,i.F=Xn,i.G=tg,i.H=function(c){if(Tt==null){let s=c.navigator?c.navigator.userAgent:null;Tt=!!c.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Tt},i.I=p6,i.J=class{constructor(c,s){this.target=c,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new dZe(()=>this.process()),this.subscription=Er(this.target,"message",u=>this.receive(u),!1),this.globalScope=Zt(self)?c:window}registerMessageHandler(c,s){this.messageHandlers[c]=s}sendAsync(c,s){return new Promise((u,h)=>{let v=Math.round(1e18*Math.random()).toString(36).substring(0,10),S=s?Er(s.signal,"abort",()=>{S==null||S.unsubscribe(),delete this.resolveRejects[v];let O={id:v,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)},hZe):null;this.resolveRejects[v]={resolve:O=>{S==null||S.unsubscribe(),u(O)},reject:O=>{S==null||S.unsubscribe(),h(O)}};let I=[],C=Object.assign(Object.assign({},c),{id:v,sourceMapId:this.mapId,origin:location.origin,data:zd(c.data,I)});this.target.postMessage(C,{transfer:I})})}receive(c){let s=c.data,u=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[u];let h=this.abortControllers[u];return delete this.abortControllers[u],void(h&&h.abort())}if(Zt(self)||s.mustQueue)return this.tasks[u]=s,this.taskQueue.push(u),void this.invoker.trigger();this.processTask(u,s)}}process(){if(this.taskQueue.length===0)return;let c=this.taskQueue.shift(),s=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(c,s)}processTask(c,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let v=this.resolveRejects[c];return delete this.resolveRejects[c],v?void(s.error?v.reject(hf(s.error)):v.resolve(hf(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let u=hf(s.data),h=new AbortController;this.abortControllers[c]=h;try{let v=yield this.messageHandlers[s.type](s.sourceMapId,u,h);this.completeTask(c,null,v)}catch(v){this.completeTask(c,v)}})}completeTask(c,s,u){let h=[];delete this.abortControllers[c];let v={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?zd(s):null,data:zd(u,h)};this.target.postMessage(v,{transfer:h})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.K=ae,i.L=function(){var c=new R(16);return R!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},i.M=function(c,s,u){var h,v,S,I,C,O,q,F,$,Z,Q,J,ne=u[0],ue=u[1],_e=u[2];return s===c?(c[12]=s[0]*ne+s[4]*ue+s[8]*_e+s[12],c[13]=s[1]*ne+s[5]*ue+s[9]*_e+s[13],c[14]=s[2]*ne+s[6]*ue+s[10]*_e+s[14],c[15]=s[3]*ne+s[7]*ue+s[11]*_e+s[15]):(v=s[1],S=s[2],I=s[3],C=s[4],O=s[5],q=s[6],F=s[7],$=s[8],Z=s[9],Q=s[10],J=s[11],c[0]=h=s[0],c[1]=v,c[2]=S,c[3]=I,c[4]=C,c[5]=O,c[6]=q,c[7]=F,c[8]=$,c[9]=Z,c[10]=Q,c[11]=J,c[12]=h*ne+C*ue+$*_e+s[12],c[13]=v*ne+O*ue+Z*_e+s[13],c[14]=S*ne+q*ue+Q*_e+s[14],c[15]=I*ne+F*ue+J*_e+s[15]),c},i.N=function(c,s,u){var h=u[0],v=u[1],S=u[2];return c[0]=s[0]*h,c[1]=s[1]*h,c[2]=s[2]*h,c[3]=s[3]*h,c[4]=s[4]*v,c[5]=s[5]*v,c[6]=s[6]*v,c[7]=s[7]*v,c[8]=s[8]*S,c[9]=s[9]*S,c[10]=s[10]*S,c[11]=s[11]*S,c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},i.O=function(c,s,u){var h=s[0],v=s[1],S=s[2],I=s[3],C=s[4],O=s[5],q=s[6],F=s[7],$=s[8],Z=s[9],Q=s[10],J=s[11],ne=s[12],ue=s[13],_e=s[14],$e=s[15],ke=u[0],Re=u[1],et=u[2],ut=u[3];return c[0]=ke*h+Re*C+et*$+ut*ne,c[1]=ke*v+Re*O+et*Z+ut*ue,c[2]=ke*S+Re*q+et*Q+ut*_e,c[3]=ke*I+Re*F+et*J+ut*$e,c[4]=(ke=u[4])*h+(Re=u[5])*C+(et=u[6])*$+(ut=u[7])*ne,c[5]=ke*v+Re*O+et*Z+ut*ue,c[6]=ke*S+Re*q+et*Q+ut*_e,c[7]=ke*I+Re*F+et*J+ut*$e,c[8]=(ke=u[8])*h+(Re=u[9])*C+(et=u[10])*$+(ut=u[11])*ne,c[9]=ke*v+Re*O+et*Z+ut*ue,c[10]=ke*S+Re*q+et*Q+ut*_e,c[11]=ke*I+Re*F+et*J+ut*$e,c[12]=(ke=u[12])*h+(Re=u[13])*C+(et=u[14])*$+(ut=u[15])*ne,c[13]=ke*v+Re*O+et*Z+ut*ue,c[14]=ke*S+Re*q+et*Q+ut*_e,c[15]=ke*I+Re*F+et*J+ut*$e,c},i.P=l,i.Q=function(c,s){let u={};for(let h=0;h<s.length;h++){let v=s[h];v in c&&(u[v]=c[v])}return u},i.R=hs,i.S=Zd,i.T=e6,i.U=mte,i.V=hte,i.W=z,i.X=U,i.Y=Sr,i.Z=Sl,i._=o,i.a=X,i.a$=xe,i.a0=function(c,s){var u,h,v,S,I;if(!c)return s!=null?s:{};if(!s)return c;let C=Object.assign({},c);if(s.removeAll&&(C={removeAll:!0}),s.remove){let O=new Set(s.remove);C.add&&(C.add=C.add.filter(F=>!O.has(F.id))),C.update&&(C.update=C.update.filter(F=>!O.has(F.id)));let q=new Set(((u=c.add)!==null&&u!==void 0?u:[]).map(F=>F.id));s.remove=s.remove.filter(F=>!q.has(F))}if(s.remove){let O=new Set(C.remove?C.remove.concat(s.remove):s.remove);C.remove=Array.from(O.values())}if(s.add){let O=C.add?C.add.concat(s.add):s.add,q=new Map(O.map(F=>[F.id,F]));C.add=Array.from(q.values())}if(s.update){let O=new Map((h=C.update)===null||h===void 0?void 0:h.map(q=>[q.id,q]));for(let q of s.update){let F=(v=O.get(q.id))!==null&&v!==void 0?v:{id:q.id};q.newGeometry&&(F.newGeometry=q.newGeometry),q.addOrUpdateProperties&&(F.addOrUpdateProperties=((S=F.addOrUpdateProperties)!==null&&S!==void 0?S:[]).concat(q.addOrUpdateProperties)),q.removeProperties&&(F.removeProperties=((I=F.removeProperties)!==null&&I!==void 0?I:[]).concat(q.removeProperties)),q.removeAllProperties&&(F.removeAllProperties=!0),O.set(q.id,F)}C.update=Array.from(O.values())}return C.remove&&C.add&&(C.remove=C.remove.filter(O=>C.add.findIndex(q=>q.id===O)===-1)),C},i.a1=Ox,i.a2=ug,i.a3=25,i.a4=x6,i.a5=c=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(u=>{s.onloadstart=()=>{u(s)};for(let h of c){let v=window.document.createElement("source");Xe(h)||(s.crossOrigin="Anonymous"),v.src=h,s.appendChild(v)}})},i.a6=Mt,i.a7=function(){return He++},i.a8=G,i.a9=Vy,i.aA=function(c){let s=1/0,u=1/0,h=-1/0,v=-1/0;for(let S of c)s=Math.min(s,S.x),u=Math.min(u,S.y),h=Math.max(h,S.x),v=Math.max(v,S.y);return[s,u,h,v]},i.aB=yo,i.aC=ze,i.aD=function(c,s,u,h,v=!1){if(!u[0]&&!u[1])return[0,0];let S=v?h==="map"?-c.bearingInRadians:0:h==="viewport"?c.bearingInRadians:0;if(S){let I=Math.sin(S),C=Math.cos(S);u=[u[0]*C-u[1]*I,u[0]*I+u[1]*C]}return[v?u[0]:ze(s,u[0],c.zoom),v?u[1]:ze(s,u[1],c.zoom)]},i.aF=h6,i.aG=S6,i.aH=d6,i.aI=E6,i.aJ=Ni,i.aK=IM,i.aL=Te,i.aM=Vr,i.aN=Hn,i.aO=Ve,i.aP=We,i.aQ=vte,i.aR=Me,i.aS=le,i.aT=function(c){var s=new R(3);return s[0]=c[0],s[1]=c[1],s[2]=c[2],s},i.aU=function(c,s,u){return c[0]=s[0]-u[0],c[1]=s[1]-u[1],c[2]=s[2]-u[2],c},i.aV=function(c,s){var u=s[0],h=s[1],v=s[2],S=u*u+h*h+v*v;return S>0&&(S=1/Math.sqrt(S)),c[0]=s[0]*S,c[1]=s[1]*S,c[2]=s[2]*S,c},i.aW=we,i.aX=function(c,s){return c[0]*s[0]+c[1]*s[1]+c[2]*s[2]},i.aY=function(c,s,u){return c[0]=s[0]*u[0],c[1]=s[1]*u[1],c[2]=s[2]*u[2],c[3]=s[3]*u[3],c},i.aZ=re,i.a_=function(c,s,u){let h=s[0]*u[0]+s[1]*u[1]+s[2]*u[2];return h===0?null:(-(c[0]*u[0]+c[1]*u[1]+c[2]*u[2])-u[3])/h},i.aa=pf,i.ab=Bu,i.ac=xte,i.ad=function(c){let s={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,h,v,S)=>{let I=v||S;return s[h]=!I||I.toLowerCase(),""}),s["max-age"]){let u=parseInt(s["max-age"],10);isNaN(u)?delete s["max-age"]:s["max-age"]=u}return s},i.ae=Ae,i.af=function(c){return Math.pow(2,c)},i.ag=H,i.ah=ot,i.ai=85.051129,i.aj=gte,i.ak=function(c){return Math.log(c)/Math.LN2},i.al=function(c){var s=c[0],u=c[1];return s*s+u*u},i.am=function(c,s){let u=[];for(let h in c)h in s||u.push(h);return u},i.an=function(c,s){let u=0,h=0;if(c.kind==="constant")h=c.layoutSize;else if(c.kind!=="source"){let{interpolationType:v,minZoom:S,maxZoom:I}=c,C=v?ot(ko.interpolationFactor(v,s,S,I),0,1):0;c.kind==="camera"?h=Yl.number(c.minSize,c.maxSize,C):u=C}return{uSizeT:u,uSize:h}},i.ap=function(c,{uSize:s,uSizeT:u},{lowerSize:h,upperSize:v}){return c.kind==="source"?h/_f:c.kind==="composite"?Yl.number(h/_f,v/_f,u):s},i.aq=function(c,s){var u=s[0],h=s[1],v=s[2],S=s[3],I=s[4],C=s[5],O=s[6],q=s[7],F=s[8],$=s[9],Z=s[10],Q=s[11],J=s[12],ne=s[13],ue=s[14],_e=s[15],$e=u*C-h*I,ke=u*O-v*I,Re=u*q-S*I,et=h*O-v*C,ut=h*q-S*C,St=v*q-S*O,$t=F*ne-$*J,kt=F*ue-Z*J,Bt=F*_e-Q*J,cr=$*ue-Z*ne,Ft=$*_e-Q*ne,Ut=Z*_e-Q*ue,mt=$e*Ut-ke*Ft+Re*cr+et*Bt-ut*kt+St*$t;return mt?(c[0]=(C*Ut-O*Ft+q*cr)*(mt=1/mt),c[1]=(v*Ft-h*Ut-S*cr)*mt,c[2]=(ne*St-ue*ut+_e*et)*mt,c[3]=(Z*ut-$*St-Q*et)*mt,c[4]=(O*Bt-I*Ut-q*kt)*mt,c[5]=(u*Ut-v*Bt+S*kt)*mt,c[6]=(ue*Re-J*St-_e*ke)*mt,c[7]=(F*St-Z*Re+Q*ke)*mt,c[8]=(I*Ft-C*Bt+q*$t)*mt,c[9]=(h*Bt-u*Ft-S*$t)*mt,c[10]=(J*ut-ne*Re+_e*$e)*mt,c[11]=($*Re-F*ut-Q*$e)*mt,c[12]=(C*kt-I*cr-O*$t)*mt,c[13]=(u*cr-h*kt+v*$t)*mt,c[14]=(ne*ke-J*et-ue*$e)*mt,c[15]=(F*et-$*ke+Z*$e)*mt,c):null},i.ar=Ke,i.as=function(c){var s=c[0],u=c[1];return Math.sqrt(s*s+u*u)},i.at=function(c){return c[0]=0,c[1]=0,c},i.au=function(c,s,u){return c[0]=s[0]*u,c[1]=s[1]*u,c},i.av=m6,i.aw=Ie,i.ax=function(c,s,u,h){let v=s.y-c.y,S=s.x-c.x,I=h.y-u.y,C=h.x-u.x,O=I*S-C*v;if(O===0)return null;let q=(C*(c.y-u.y)-I*(c.x-u.x))/O;return new l(c.x+q*S,c.y+q*v)},i.ay=Ete,i.az=dee,i.b=Rt,i.b$=class extends x{},i.b0=function(c,s,u){return c[0]=s[0]*u,c[1]=s[1]*u,c[2]=s[2]*u,c[3]=s[3]*u,c},i.b1=function(c,s){return c[0]*s[0]+c[1]*s[1]+c[2]*s[2]+c[3]},i.b2=_te,i.b3=$y,i.b4=function(c,s,u,h,v){var S=1/Math.tan(s/2);if(c[0]=S/u,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=S,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,v!=null&&v!==1/0){var I=1/(h-v);c[10]=(v+h)*I,c[14]=2*v*h*I}else c[10]=-1,c[14]=-2*h;return c},i.b5=function(c){var s=new R(16);return s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[3],s[4]=c[4],s[5]=c[5],s[6]=c[6],s[7]=c[7],s[8]=c[8],s[9]=c[9],s[10]=c[10],s[11]=c[11],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15],s},i.b6=function(c,s,u){var h=Math.sin(u),v=Math.cos(u),S=s[0],I=s[1],C=s[2],O=s[3],q=s[4],F=s[5],$=s[6],Z=s[7];return s!==c&&(c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[0]=S*v+q*h,c[1]=I*v+F*h,c[2]=C*v+$*h,c[3]=O*v+Z*h,c[4]=q*v-S*h,c[5]=F*v-I*h,c[6]=$*v-C*h,c[7]=Z*v-O*h,c},i.b7=function(c,s,u){var h=Math.sin(u),v=Math.cos(u),S=s[4],I=s[5],C=s[6],O=s[7],q=s[8],F=s[9],$=s[10],Z=s[11];return s!==c&&(c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[4]=S*v+q*h,c[5]=I*v+F*h,c[6]=C*v+$*h,c[7]=O*v+Z*h,c[8]=q*v-S*h,c[9]=F*v-I*h,c[10]=$*v-C*h,c[11]=Z*v-O*h,c},i.b8=function(){let c=new Float32Array(16);return H(c),c},i.b9=function(){let c=new Float64Array(16);return H(c),c},i.bA=function(c,s){let u=ct(c,360),h=ct(s,360),v=h-u,S=h>u?v-360:v+360;return Math.abs(v)<Math.abs(S)?v:S},i.bB=function(c){return c[0]=0,c[1]=0,c[2]=0,c},i.bC=function(c,s,u,h){let v=Math.sqrt(c*c+s*s),S=Math.sqrt(u*u+h*h);c/=v,s/=v,u/=S,h/=S;let I=Math.acos(c*u+s*h);return-s*u+c*h>0?I:-I},i.bD=function(c,s){let u=ct(c,2*Math.PI),h=ct(s,2*Math.PI);return Math.min(Math.abs(u-h),Math.abs(u-h+2*Math.PI),Math.abs(u-h-2*Math.PI))},i.bE=function(){let c={},s=Se.$version;for(let u in Se.$root){let h=Se.$root[u];if(h.required){let v=null;v=u==="version"?s:h.type==="array"?[]:{},v!=null&&(c[u]=v)}}return c},i.bF=Iy,i.bG=Ne,i.bH=function c(s,u){if(Array.isArray(s)){if(!Array.isArray(u)||s.length!==u.length)return!1;for(let h=0;h<s.length;h++)if(!c(s[h],u[h]))return!1;return!0}if(typeof s=="object"&&s!==null&&u!==null){if(typeof u!="object"||Object.keys(s).length!==Object.keys(u).length)return!1;for(let h in s)if(!c(s[h],u[h]))return!1;return!0}return s===u},i.bI=function(c){c=c.slice();let s=Object.create(null);for(let u=0;u<c.length;u++)s[c[u].id]=c[u];for(let u=0;u<c.length;u++)"ref"in c[u]&&(c[u]=Gt(c[u],s[c[u].ref]));return c},i.bJ=function(c){if(c.type==="custom")return new fZe(c);switch(c.type){case"background":return new uZe(c);case"circle":return new ZHe(c);case"color-relief":return new eWe(c);case"fill":return new mWe(c);case"fill-extrusion":return new TWe(c);case"heatmap":return new KHe(c);case"hillshade":return new QHe(c);case"line":return new DWe(c);case"raster":return new pZe(c);case"symbol":return new PM(c)}},i.bK=st,i.bL=function(c,s){if(!c)return[{command:"setStyle",args:[s]}];let u=[];try{if(!Et(c.version,s.version))return[{command:"setStyle",args:[s]}];Et(c.center,s.center)||u.push({command:"setCenter",args:[s.center]}),Et(c.state,s.state)||u.push({command:"setGlobalState",args:[s.state]}),Et(c.centerAltitude,s.centerAltitude)||u.push({command:"setCenterAltitude",args:[s.centerAltitude]}),Et(c.zoom,s.zoom)||u.push({command:"setZoom",args:[s.zoom]}),Et(c.bearing,s.bearing)||u.push({command:"setBearing",args:[s.bearing]}),Et(c.pitch,s.pitch)||u.push({command:"setPitch",args:[s.pitch]}),Et(c.roll,s.roll)||u.push({command:"setRoll",args:[s.roll]}),Et(c.sprite,s.sprite)||u.push({command:"setSprite",args:[s.sprite]}),Et(c.glyphs,s.glyphs)||u.push({command:"setGlyphs",args:[s.glyphs]}),Et(c.transition,s.transition)||u.push({command:"setTransition",args:[s.transition]}),Et(c.light,s.light)||u.push({command:"setLight",args:[s.light]}),Et(c.terrain,s.terrain)||u.push({command:"setTerrain",args:[s.terrain]}),Et(c.sky,s.sky)||u.push({command:"setSky",args:[s.sky]}),Et(c.projection,s.projection)||u.push({command:"setProjection",args:[s.projection]});let h={},v=[];(function(I,C,O,q){let F;for(F in C=C||{},I=I||{})Object.prototype.hasOwnProperty.call(I,F)&&(Object.prototype.hasOwnProperty.call(C,F)||Wr(F,O,q));for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&(Object.prototype.hasOwnProperty.call(I,F)?Et(I[F],C[F])||(I[F].type==="geojson"&&C[F].type==="geojson"&&un(I,C,F)?Lt(O,{command:"setGeoJSONSourceData",args:[F,C[F].data]}):In(F,C,O,q)):ur(F,C,O))})(c.sources,s.sources,v,h);let S=[];c.layers&&c.layers.forEach(I=>{"source"in I&&h[I.source]?u.push({command:"removeLayer",args:[I.id]}):S.push(I)}),u=u.concat(v),function(I,C,O){C=C||[];let q=(I=I||[]).map(qr),F=C.map(qr),$=I.reduce(ei,{}),Z=C.reduce(ei,{}),Q=q.slice(),J=Object.create(null),ne,ue,_e,$e,ke;for(let Re=0,et=0;Re<q.length;Re++)ne=q[Re],Object.prototype.hasOwnProperty.call(Z,ne)?et++:(Lt(O,{command:"removeLayer",args:[ne]}),Q.splice(Q.indexOf(ne,et),1));for(let Re=0,et=0;Re<F.length;Re++)ne=F[F.length-1-Re],Q[Q.length-1-Re]!==ne&&(Object.prototype.hasOwnProperty.call($,ne)?(Lt(O,{command:"removeLayer",args:[ne]}),Q.splice(Q.lastIndexOf(ne,Q.length-et),1)):et++,$e=Q[Q.length-Re],Lt(O,{command:"addLayer",args:[Z[ne],$e]}),Q.splice(Q.length-Re,0,ne),J[ne]=!0);for(let Re=0;Re<F.length;Re++)if(ne=F[Re],ue=$[ne],_e=Z[ne],!J[ne]&&!Et(ue,_e))if(Et(ue.source,_e.source)&&Et(ue["source-layer"],_e["source-layer"])&&Et(ue.type,_e.type)){for(ke in Pr(ue.layout,_e.layout,O,ne,null,"setLayoutProperty"),Pr(ue.paint,_e.paint,O,ne,null,"setPaintProperty"),Et(ue.filter,_e.filter)||Lt(O,{command:"setFilter",args:[ne,_e.filter]}),Et(ue.minzoom,_e.minzoom)&&Et(ue.maxzoom,_e.maxzoom)||Lt(O,{command:"setLayerZoomRange",args:[ne,_e.minzoom,_e.maxzoom]}),ue)Object.prototype.hasOwnProperty.call(ue,ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?Pr(ue[ke],_e[ke],O,ne,ke.slice(6),"setPaintProperty"):Et(ue[ke],_e[ke])||Lt(O,{command:"setLayerProperty",args:[ne,ke,_e[ke]]}));for(ke in _e)Object.prototype.hasOwnProperty.call(_e,ke)&&!Object.prototype.hasOwnProperty.call(ue,ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?Pr(ue[ke],_e[ke],O,ne,ke.slice(6),"setPaintProperty"):Et(ue[ke],_e[ke])||Lt(O,{command:"setLayerProperty",args:[ne,ke,_e[ke]]}))}else Lt(O,{command:"removeLayer",args:[ne]}),$e=Q[Q.lastIndexOf(ne)+1],Lt(O,{command:"addLayer",args:[_e,$e]})}(S,s.layers,u)}catch(h){console.warn("Unable to compute style diff:",h),u=[{command:"setStyle",args:[s]}]}return u},i.bM=function(c){let s=[],u=c.id;return u===void 0&&s.push({message:`layers.${u}: missing required property "id"`}),c.render===void 0&&s.push({message:`layers.${u}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&s.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),s},i.bN=Fe,i.bO=lt,i.bP=class extends ca{constructor(c,s){super(c,s),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},i.bQ=ro,i.bR=class extends ca{constructor(c,s){super(c,s),this.current=zs}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let s=1;s<16;s++)if(c[s]!==this.current[s]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},i.bS=Gi,i.bT=class extends ca{constructor(c,s){super(c,s),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},i.bU=class extends ca{constructor(c,s){super(c,s),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},i.bV=j,i.bW=function(c,s){var u=Math.sin(s),h=Math.cos(s);return c[0]=h,c[1]=u,c[2]=0,c[3]=-u,c[4]=h,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},i.bX=function(c,s,u){var h=s[0],v=s[1],S=s[2];return c[0]=h*u[0]+v*u[3]+S*u[6],c[1]=h*u[1]+v*u[4]+S*u[7],c[2]=h*u[2]+v*u[5]+S*u[8],c},i.bY=function(c,s,u,h,v,S,I){var C=1/(s-u),O=1/(h-v),q=1/(S-I);return c[0]=-2*C,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*O,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*q,c[11]=0,c[12]=(s+u)*C,c[13]=(v+h)*O,c[14]=(I+S)*q,c[15]=1,c},i.bZ=class extends ca{constructor(c,s){super(c,s),this.current=new Array}set(c){if(c!=this.current){this.current=c;let s=new Float32Array(4*c.length);for(let u=0;u<c.length;u++)s[4*u]=c[u].r,s[4*u+1]=c[u].g,s[4*u+2]=c[u].b,s[4*u+3]=c[u].a;this.gl.uniform4fv(this.location,s)}}},i.b_=class extends ca{constructor(c,s){super(c,s),this.current=new Array}set(c){if(c!=this.current){this.current=c;let s=new Float32Array(c);this.gl.uniform1fv(this.location,s)}}},i.ba=function(){return new Float64Array(16)},i.bb=function(c,s,u){let h=new Float64Array(4);return Pe(h,c,s-90,u),h},i.bc=function(c,s,u,h){var v,S,I,C,O,q=s[0],F=s[1],$=s[2],Z=s[3],Q=u[0],J=u[1],ne=u[2],ue=u[3];return(S=q*Q+F*J+$*ne+Z*ue)<0&&(S=-S,Q=-Q,J=-J,ne=-ne,ue=-ue),1-S>N?(v=Math.acos(S),I=Math.sin(v),C=Math.sin((1-h)*v)/I,O=Math.sin(h*v)/I):(C=1-h,O=h),c[0]=C*q+O*Q,c[1]=C*F+O*J,c[2]=C*$+O*ne,c[3]=C*Z+O*ue,c},i.bd=function(c){let s=new Float64Array(9);var u,h,v,S,I,C,O,q,F,$,Z,Q,J,ne,ue,_e,$e,ke;$=(v=(h=c)[0])*(O=v+v),Z=(S=h[1])*O,J=(I=h[2])*O,ne=I*(q=S+S),_e=(C=h[3])*O,$e=C*q,ke=C*(F=I+I),(u=s)[0]=1-(Q=S*q)-(ue=I*F),u[3]=Z-ke,u[6]=J+$e,u[1]=Z+ke,u[4]=1-$-ue,u[7]=ne-_e,u[2]=J-$e,u[5]=ne+_e,u[8]=1-$-Q;let Re=We(-Math.asin(ot(s[2],-1,1))),et,ut;return Math.hypot(s[5],s[8])<.001?(et=0,ut=-We(Math.atan2(s[3],s[4]))):(et=We(s[5]===0&&s[8]===0?0:Math.atan2(s[5],s[8])),ut=We(s[1]===0&&s[0]===0?0:Math.atan2(s[1],s[0]))),{roll:et,pitch:Re+90,bearing:ut}},i.be=function(c,s){return c.roll==s.roll&&c.pitch==s.pitch&&c.bearing==s.bearing},i.bf=sn,i.bg=Yc,i.bh=jy,i.bi=Ix,i.bj=zy,i.bk=_t,i.bl=It,i.bm=$o,i.bn=function(c,s,u,h,v){return _t(h,v,ot((c-s)/(u-s),0,1))},i.bo=ct,i.bp=function(){return new Float64Array(3)},i.bq=function(c,s,u,h){return c[0]=s[0]+u[0]*h,c[1]=s[1]+u[1]*h,c[2]=s[2]+u[2]*h,c},i.br=Pe,i.bs=function(c,s,u){var h=u[0],v=u[1],S=u[2],I=u[3],C=s[0],O=s[1],q=s[2],F=v*q-S*O,$=S*C-h*q,Z=h*O-v*C;return c[0]=C+I*(F+=F)+v*(Z+=Z)-S*($+=$),c[1]=O+I*$+S*F-h*Z,c[2]=q+I*Z+h*$-v*F,c},i.bt=function(c,s,u){let h=(v=[c[0],c[1],c[2],s[0],s[1],s[2],u[0],u[1],u[2]])[0]*((F=v[8])*(I=v[4])-(C=v[5])*(q=v[7]))+v[1]*(-F*(S=v[3])+C*(O=v[6]))+v[2]*(q*S-I*O);var v,S,I,C,O,q,F;if(h===0)return null;let $=we([],[s[0],s[1],s[2]],[u[0],u[1],u[2]]),Z=we([],[u[0],u[1],u[2]],[c[0],c[1],c[2]]),Q=we([],[c[0],c[1],c[2]],[s[0],s[1],s[2]]),J=Me([],$,-c[3]);return le(J,J,Me([],Z,-s[3])),le(J,J,Me([],Q,-u[3])),Me(J,J,1/h),J},i.bu=_6,i.bv=function(){return new Float64Array(4)},i.bw=function(c,s,u,h){var v=[],S=[];return v[0]=s[0]-u[0],v[1]=s[1]-u[1],v[2]=s[2]-u[2],S[0]=v[0]*Math.cos(h)-v[1]*Math.sin(h),S[1]=v[0]*Math.sin(h)+v[1]*Math.cos(h),S[2]=v[2],c[0]=S[0]+u[0],c[1]=S[1]+u[1],c[2]=S[2]+u[2],c},i.bx=function(c,s,u,h){var v=[],S=[];return v[0]=s[0]-u[0],v[1]=s[1]-u[1],v[2]=s[2]-u[2],S[0]=v[0],S[1]=v[1]*Math.cos(h)-v[2]*Math.sin(h),S[2]=v[1]*Math.sin(h)+v[2]*Math.cos(h),c[0]=S[0]+u[0],c[1]=S[1]+u[1],c[2]=S[2]+u[2],c},i.by=function(c,s,u,h){var v=[],S=[];return v[0]=s[0]-u[0],v[1]=s[1]-u[1],v[2]=s[2]-u[2],S[0]=v[2]*Math.sin(h)+v[0]*Math.cos(h),S[1]=v[1],S[2]=v[2]*Math.cos(h)-v[0]*Math.sin(h),c[0]=S[0]+u[0],c[1]=S[1]+u[1],c[2]=S[2]+u[2],c},i.bz=function(c,s,u){var h=Math.sin(u),v=Math.cos(u),S=s[0],I=s[1],C=s[2],O=s[3],q=s[8],F=s[9],$=s[10],Z=s[11];return s!==c&&(c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[0]=S*v-q*h,c[1]=I*v-F*h,c[2]=C*v-$*h,c[3]=O*v-Z*h,c[8]=S*h+q*v,c[9]=I*h+F*v,c[10]=C*h+$*v,c[11]=O*h+Z*v,c},i.c=me,i.c0=qWe,i.c1=class extends f{},i.c2=JL,i.c3=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},i.c4=See,i.c5=function(c,s,u){var h=s[0],v=s[1],S=s[2],I=u[3]*h+u[7]*v+u[11]*S+u[15];return c[0]=(u[0]*h+u[4]*v+u[8]*S+u[12])/(I=I||1),c[1]=(u[1]*h+u[5]*v+u[9]*S+u[13])/I,c[2]=(u[2]*h+u[6]*v+u[10]*S+u[14])/I,c},i.c6=class extends hx{},i.c7=class extends B{},i.c8=function(c,s){return c[0]===s[0]&&c[1]===s[1]&&c[2]===s[2]&&c[3]===s[3]&&c[4]===s[4]&&c[5]===s[5]&&c[6]===s[6]&&c[7]===s[7]&&c[8]===s[8]&&c[9]===s[9]&&c[10]===s[10]&&c[11]===s[11]&&c[12]===s[12]&&c[13]===s[13]&&c[14]===s[14]&&c[15]===s[15]},i.c9=function(c,s){var u=c[0],h=c[1],v=c[2],S=c[3],I=c[4],C=c[5],O=c[6],q=c[7],F=c[8],$=c[9],Z=c[10],Q=c[11],J=c[12],ne=c[13],ue=c[14],_e=c[15],$e=s[0],ke=s[1],Re=s[2],et=s[3],ut=s[4],St=s[5],$t=s[6],kt=s[7],Bt=s[8],cr=s[9],Ft=s[10],Ut=s[11],mt=s[12],Mr=s[13],Dr=s[14],yr=s[15];return Math.abs(u-$e)<=N*Math.max(1,Math.abs(u),Math.abs($e))&&Math.abs(h-ke)<=N*Math.max(1,Math.abs(h),Math.abs(ke))&&Math.abs(v-Re)<=N*Math.max(1,Math.abs(v),Math.abs(Re))&&Math.abs(S-et)<=N*Math.max(1,Math.abs(S),Math.abs(et))&&Math.abs(I-ut)<=N*Math.max(1,Math.abs(I),Math.abs(ut))&&Math.abs(C-St)<=N*Math.max(1,Math.abs(C),Math.abs(St))&&Math.abs(O-$t)<=N*Math.max(1,Math.abs(O),Math.abs($t))&&Math.abs(q-kt)<=N*Math.max(1,Math.abs(q),Math.abs(kt))&&Math.abs(F-Bt)<=N*Math.max(1,Math.abs(F),Math.abs(Bt))&&Math.abs($-cr)<=N*Math.max(1,Math.abs($),Math.abs(cr))&&Math.abs(Z-Ft)<=N*Math.max(1,Math.abs(Z),Math.abs(Ft))&&Math.abs(Q-Ut)<=N*Math.max(1,Math.abs(Q),Math.abs(Ut))&&Math.abs(J-mt)<=N*Math.max(1,Math.abs(J),Math.abs(mt))&&Math.abs(ne-Mr)<=N*Math.max(1,Math.abs(ne),Math.abs(Mr))&&Math.abs(ue-Dr)<=N*Math.max(1,Math.abs(ue),Math.abs(Dr))&&Math.abs(_e-yr)<=N*Math.max(1,Math.abs(_e),Math.abs(yr))},i.cA=function(c,s){X.REGISTERED_PROTOCOLS[c]=s},i.cB=function(c){delete X.REGISTERED_PROTOCOLS[c]},i.cC=function(c,s){let u={};for(let v=0;v<c.length;v++){let S=s&&s[c[v].id]||BL(c[v]);s&&(s[c[v].id]=S);let I=u[S];I||(I=u[S]=[]),I.push(c[v])}let h=[];for(let v in u)h.push(u[v]);return h},i.cD=Jt,i.cE=bte,i.cF=wte,i.cG=Qee,i.cH=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=dt/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;let s=c.bucket.layers[0],u=s.layout,h=s._unevaluatedLayout._values,v={layoutIconSize:h["icon-size"].possiblyEvaluate(new Xn(c.bucket.zoom+1),c.canonical),layoutTextSize:h["text-size"].possiblyEvaluate(new Xn(c.bucket.zoom+1),c.canonical),textMaxSize:h["text-size"].possiblyEvaluate(new Xn(18))};if(c.bucket.textSizeData.kind==="composite"){let{minZoom:q,maxZoom:F}=c.bucket.textSizeData;v.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Xn(q),c.canonical),h["text-size"].possiblyEvaluate(new Xn(F),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){let{minZoom:q,maxZoom:F}=c.bucket.iconSizeData;v.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Xn(q),c.canonical),h["icon-size"].possiblyEvaluate(new Xn(F),c.canonical)]}let S=u.get("text-line-height")*yo,I=u.get("text-rotation-alignment")!=="viewport"&&u.get("symbol-placement")!=="point",C=u.get("text-keep-upright"),O=u.get("text-size");for(let q of c.bucket.features){let F=u.get("text-font").evaluate(q,{},c.canonical).join(","),$=O.evaluate(q,{},c.canonical),Z=v.layoutTextSize.evaluate(q,{},c.canonical),Q=v.layoutIconSize.evaluate(q,{},c.canonical),J={horizontal:{},vertical:void 0},ne=q.text,ue,_e=[0,0];if(ne){let Re=ne.toString(),et=u.get("text-letter-spacing").evaluate(q,{},c.canonical)*yo,ut=GL(Re)?et:0,St=u.get("text-anchor").evaluate(q,{},c.canonical),$t=Dte(s,q,c.canonical);if(!$t){let Ft=u.get("text-radial-offset").evaluate(q,{},c.canonical);_e=Ft?kte(St,[Ft*yo,w6]):u.get("text-offset").evaluate(q,{},c.canonical).map(Ut=>Ut*yo)}let kt=I?"center":u.get("text-justify").evaluate(q,{},c.canonical),Bt=u.get("symbol-placement")==="point"?u.get("text-max-width").evaluate(q,{},c.canonical)*yo:1/0,cr=()=>{c.bucket.allowVerticalPlacement&&Ty(Re)&&(J.vertical=MM(ne,c.glyphMap,c.glyphPositions,c.imagePositions,F,Bt,S,St,"left",ut,_e,i.ao.vertical,!0,Z,$))};if(!I&&$t){let Ft=new Set;if(kt==="auto")for(let mt=0;mt<$t.values.length;mt+=2)Ft.add(S6($t.values[mt]));else Ft.add(kt);let Ut=!1;for(let mt of Ft)if(!J.horizontal[mt])if(Ut)J.horizontal[mt]=J.horizontal[0];else{let Mr=MM(ne,c.glyphMap,c.glyphPositions,c.imagePositions,F,Bt,S,"center",mt,ut,_e,i.ao.horizontal,!1,Z,$);Mr&&(J.horizontal[mt]=Mr,Ut=Mr.positionedLines.length===1)}cr()}else{kt==="auto"&&(kt=S6(St));let Ft=MM(ne,c.glyphMap,c.glyphPositions,c.imagePositions,F,Bt,S,St,kt,ut,_e,i.ao.horizontal,!1,Z,$);Ft&&(J.horizontal[kt]=Ft),cr(),Ty(Re)&&I&&C&&(J.vertical=MM(ne,c.glyphMap,c.glyphPositions,c.imagePositions,F,Bt,S,St,kt,ut,_e,i.ao.vertical,!1,Z,$))}}let $e=!1;if(q.icon&&q.icon.name){let Re=c.imageMap[q.icon.name];Re&&(ue=oZe(c.imagePositions[q.icon.name],u.get("icon-offset").evaluate(q,{},c.canonical),u.get("icon-anchor").evaluate(q,{},c.canonical)),$e=!!Re.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=$e:c.bucket.sdfIcons!==$e&&vt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Re.pixelRatio!==c.bucket.pixelRatio||u.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}let ke=Rte(J.horizontal)||J.vertical;c.bucket.iconsInText=!!ke&&ke.iconsInText,(ke||ue)&&xZe(c.bucket,q,J,ue,c.imageMap,v,Z,Q,_e,$e,c.canonical,c.subdivisionGranularity)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},i.cI=l6,i.cJ=o6,i.cK=s6,i.cL=zee,i.cM=c6,i.cN=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},i.cO=function(c,s,u,h,v){return o(this,void 0,void 0,function*(){if(U())try{return yield Sr(c,s,u,h,v)}catch(S){}return function(S,I,C,O,q){let F=S.width,$=S.height;kr&&pr||(kr=new OffscreenCanvas(F,$),pr=kr.getContext("2d",{willReadFrequently:!0})),kr.width=F,kr.height=$,pr.drawImage(S,0,0,F,$);let Z=pr.getImageData(I,C,O,q);return pr.clearRect(0,0,F,$),Z.data}(c,s,u,h,v)})},i.cP=Tee,i.cQ=d,i.cR=qee,i.cS=Fy,i.cT=Ym,i.cU=function(c,s){let u=new Map;if(c!=null)if(c.type==="Feature")u.set(kx(c,s),c);else for(let h of c.features)u.set(kx(h,s),h);return u},i.cV=function(c,s){if(c==null)return!0;if(c.type==="Feature")return kx(c,s)!=null;if(c.type==="FeatureCollection"){let u=new Set;for(let h of c.features){let v=kx(h,s);if(v==null||u.has(v))return!1;u.add(v)}return!0}return!1},i.cW=function(c,s,u){var h,v,S,I;if(s.removeAll&&c.clear(),s.remove)for(let C of s.remove)c.delete(C);if(s.add)for(let C of s.add){let O=kx(C,u);O!=null&&c.set(O,C)}if(s.update)for(let C of s.update){let O=c.get(C.id);if(O==null)continue;let q=!C.removeAllProperties&&(((h=C.removeProperties)===null||h===void 0?void 0:h.length)>0||((v=C.addOrUpdateProperties)===null||v===void 0?void 0:v.length)>0);if((C.newGeometry||C.removeAllProperties||q)&&(O=Object.assign({},O),c.set(C.id,O),q&&(O.properties=Object.assign({},O.properties))),C.newGeometry&&(O.geometry=C.newGeometry),C.removeAllProperties)O.properties={};else if(((S=C.removeProperties)===null||S===void 0?void 0:S.length)>0)for(let F of C.removeProperties)Object.prototype.hasOwnProperty.call(O.properties,F)&&delete O.properties[F];if(((I=C.addOrUpdateProperties)===null||I===void 0?void 0:I.length)>0)for(let{key:F,value:$}of C.addOrUpdateProperties)O.properties[F]=$}},i.cX=_l,i.ca=function(c,s){return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},i.cb=c=>c.type==="symbol",i.cc=c=>c.type==="circle",i.cd=c=>c.type==="heatmap",i.ce=c=>c.type==="line",i.cf=c=>c.type==="fill",i.cg=c=>c.type==="fill-extrusion",i.ch=c=>c.type==="hillshade",i.ci=c=>c.type==="color-relief",i.cj=c=>c.type==="raster",i.ck=c=>c.type==="background",i.cl=c=>c.type==="custom",i.cm=Ye,i.cn=function(c,s,u){let h=at(s.x-u.x,s.y-u.y),v=at(c.x-u.x,c.y-u.y);var S,I;return We(Math.atan2(h[0]*v[1]-h[1]*v[0],(S=h)[0]*(I=v)[0]+S[1]*I[1]))},i.co=pt,i.cp=function(c,s){return Ct[s]&&(c instanceof MouseEvent||c instanceof WheelEvent)},i.cq=function(c,s){return Ze[s]&&"touches"in c},i.cr=function(c){return Ze[c]||Ct[c]},i.cs=function(c,s,u){var h=s[0],v=s[1];return c[0]=u[0]*h+u[4]*v+u[12],c[1]=u[1]*h+u[5]*v+u[13],c},i.ct=function(c,s){let{x:u,y:h}=Ox.fromLngLat(s);return!(c<0||c>25||h<0||h>=1||u<0||u>=1)},i.cu=function(c,s){return c[0]=s[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=s[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=s[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},i.cv=class extends Bd{},i.cw=SZe,i.cy=function(c){return c.message===zt},i.cz=ge,i.d=Xe,i.e=Oe,i.f=c=>o(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(s)}catch(u){throw new Error(`Could not load image because of ${u.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.g=ee,i.h=c=>new Promise((s,u)=>{let h=new Image;h.onload=()=>{s(h),URL.revokeObjectURL(h.src),h.onload=null,window.requestAnimationFrame(()=>{h.src=tr})},h.onerror=()=>u(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let v=new Blob([new Uint8Array(c)],{type:"image/png"});h.src=c.byteLength?URL.createObjectURL(v):tr}),i.i=Zt,i.j=(c,s)=>Be(Oe(c,{type:"json"}),s),i.k=qe,i.l=ve,i.m=Be,i.n=(c,s)=>Be(Oe(c,{type:"arrayBuffer"}),s),i.o=function(c){return new c6(c).readFields(ZWe,[])},i.p=Xee,i.q=bx,i.r=la,i.s=Er,i.t=gM,i.u=dn,i.v=Se,i.w=vt,i.x=UL,i.y=rg,i.z=qd}),r("worker",["./shared"],function(i){"use strict";class o{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,ee){for(let ge of X){this._layerConfigs[ge.id]=ge;let Ne=this._layers[ge.id]=i.bJ(ge);Ne._featureFilter=i.aa(Ne.filter),this.keyCache[ge.id]&&delete this.keyCache[ge.id]}for(let ge of ee)delete this.keyCache[ge],delete this._layerConfigs[ge],delete this._layers[ge];this.familiesBySource={};let ae=i.cC(Object.values(this._layerConfigs),this.keyCache);for(let ge of ae){let Ne=ge.map(qe=>this._layers[qe.id]),Be=Ne[0];if(Be.visibility==="none")continue;let Xe=Be.source||"",Ue=this.familiesBySource[Xe];Ue||(Ue=this.familiesBySource[Xe]={});let he=Be.sourceLayer||"_geojsonTileLayer",ve=Ue[he];ve||(ve=Ue[he]=[]),ve.push(Ne)}}}class l{constructor(X){let ee={},ae=[];for(let Xe in X){let Ue=X[Xe],he=ee[Xe]={};for(let ve in Ue){let qe=Ue[+ve];if(!qe||qe.bitmap.width===0||qe.bitmap.height===0)continue;let ft={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};ae.push(ft),he[ve]={rect:ft,metrics:qe.metrics}}}let{w:ge,h:Ne}=i.p(ae),Be=new i.q({width:ge||1,height:Ne||1});for(let Xe in X){let Ue=X[Xe];for(let he in Ue){let ve=Ue[+he];if(!ve||ve.bitmap.width===0||ve.bitmap.height===0)continue;let qe=ee[Xe][he].rect;i.q.copy(ve.bitmap,Be,{x:0,y:0},{x:qe.x+1,y:qe.y+1},ve.bitmap)}}this.image=Be,this.positions=ee}}i.cD("GlyphAtlas",l);class d{constructor(X){this.tileID=new i.Z(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.globalState=X.globalState}parse(X,ee,ae,ge,Ne){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=X,this.collisionBoxArray=new i.a8;let Be=new i.cE(Object.keys(X.layers).sort()),Xe=new i.cF(this.tileID,this.promoteId);Xe.bucketLayerIDs=[];let Ue={},he={featureIndex:Xe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ae,subdivisionGranularity:Ne},ve=ee.familiesBySource[this.source];for(let Pr in ve){let qr=X.layers[Pr];if(!qr)continue;qr.version===1&&i.w(`Vector tile source "${this.source}" layer "${Pr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let ei=Be.encode(Pr),Mt=[];for(let Oi=0;Oi<qr.length;Oi++){let $n=qr.feature(Oi),zc=Xe.getId($n,Pr);Mt.push({feature:$n,id:zc,index:Oi,sourceLayerIndex:ei})}for(let Oi of ve[Pr]){let $n=Oi[0];$n.source!==this.source&&i.w(`layer.source = ${$n.source} does not equal this.source = ${this.source}`),$n.minzoom&&this.zoom<Math.floor($n.minzoom)||$n.maxzoom&&this.zoom>=$n.maxzoom||$n.visibility!=="none"&&(g(Oi,this.zoom,ae,this.globalState),(Ue[$n.id]=$n.createBucket({index:Xe.bucketLayerIDs.length,layers:Oi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ei,sourceID:this.source,globalState:this.globalState})).populate(Mt,he,this.tileID.canonical),Xe.bucketLayerIDs.push(Oi.map(zc=>zc.id)))}}let qe=i.bN(he.glyphDependencies,Pr=>Object.keys(Pr).map(Number));this.inFlightDependencies.forEach(Pr=>Pr==null?void 0:Pr.abort()),this.inFlightDependencies=[];let ft=Promise.resolve({});if(Object.keys(qe).length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),ft=ge.sendAsync({type:"GG",data:{stacks:qe,source:this.source,tileID:this.tileID,type:"glyphs"}},Pr)}let Se=Object.keys(he.iconDependencies),wt=Promise.resolve({});if(Se.length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),wt=ge.sendAsync({type:"GI",data:{icons:Se,source:this.source,tileID:this.tileID,type:"icons"}},Pr)}let Gt=Object.keys(he.patternDependencies),Et=Promise.resolve({});if(Gt.length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),Et=ge.sendAsync({type:"GI",data:{icons:Gt,source:this.source,tileID:this.tileID,type:"patterns"}},Pr)}let[Lt,ur,Wr]=yield Promise.all([ft,wt,Et]),In=new l(Lt),un=new i.cG(ur,Wr);for(let Pr in Ue){let qr=Ue[Pr];qr instanceof i.a9?(g(qr.layers,this.zoom,ae,this.globalState),i.cH({bucket:qr,glyphMap:Lt,glyphPositions:In.positions,imageMap:ur,imagePositions:un.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:he.subdivisionGranularity})):qr.hasPattern&&(qr instanceof i.cI||qr instanceof i.cJ||qr instanceof i.cK)&&(g(qr.layers,this.zoom,ae,this.globalState),qr.addFeatures(he,this.tileID.canonical,un.patternPositions))}return this.status="done",{buckets:Object.values(Ue).filter(Pr=>!Pr.isEmpty()),featureIndex:Xe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:un,glyphMap:this.returnDependencies?Lt:null,iconMap:this.returnDependencies?ur:null,glyphPositions:this.returnDependencies?In.positions:null}})}}function g(me,X,ee,ae){let ge=new i.F(X);for(let Ne of me)Ne.setGlobalState(ae),Ne.recalculate(ge,ee)}class _{constructor(X,ee,ae){this.actor=X,this.layerIndex=ee,this.availableImages=ae,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(X,ee){return i._(this,void 0,void 0,function*(){let ae=yield i.n(X.request,ee);try{return{vectorTile:new i.cL(new i.cM(ae.data)),rawData:ae.data,cacheControl:ae.cacheControl,expires:ae.expires}}catch(ge){let Ne=new Uint8Array(ae.data),Be=`Unable to parse the tile at ${X.request.url}, `;throw Be+=Ne[0]===31&&Ne[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ge.message}`,new Error(Be)}})}loadTile(X){return i._(this,void 0,void 0,function*(){let ee=X.uid,ae=!!(X&&X.request&&X.request.collectResourceTiming)&&new i.cN(X.request),ge=new d(X);this.loading[ee]=ge;let Ne=new AbortController;ge.abort=Ne;try{let Be=yield this.loadVectorTile(X,Ne);if(delete this.loading[ee],!Be)return null;let Xe=Be.rawData,Ue={};Be.expires&&(Ue.expires=Be.expires),Be.cacheControl&&(Ue.cacheControl=Be.cacheControl);let he={};if(ae){let qe=ae.finish();qe&&(he.resourceTiming=JSON.parse(JSON.stringify(qe)))}ge.vectorTile=Be.vectorTile;let ve=ge.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,X.subdivisionGranularity);this.loaded[ee]=ge,this.fetching[ee]={rawTileData:Xe,cacheControl:Ue,resourceTiming:he};try{let qe=yield ve;return i.e({rawTileData:Xe.slice(0)},qe,Ue,he)}finally{delete this.fetching[ee]}}catch(Be){throw delete this.loading[ee],ge.status="done",this.loaded[ee]=ge,Be}})}reloadTile(X){return i._(this,void 0,void 0,function*(){let ee=X.uid;if(!this.loaded||!this.loaded[ee])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let ae=this.loaded[ee];if(ae.showCollisionBoxes=X.showCollisionBoxes,ae.globalState=X.globalState,ae.status==="parsing"){let ge=yield ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,X.subdivisionGranularity),Ne;if(this.fetching[ee]){let{rawTileData:Be,cacheControl:Xe,resourceTiming:Ue}=this.fetching[ee];delete this.fetching[ee],Ne=i.e({rawTileData:Be.slice(0)},ge,Xe,Ue)}else Ne=ge;return Ne}if(ae.status==="done"&&ae.vectorTile)return ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,X.subdivisionGranularity)})}abortTile(X){return i._(this,void 0,void 0,function*(){let ee=this.loading,ae=X.uid;ee&&ee[ae]&&ee[ae].abort&&(ee[ae].abort.abort(),delete ee[ae])})}removeTile(X){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[X.uid]&&delete this.loaded[X.uid]})}}class E{constructor(){this.loaded={}}loadTile(X){return i._(this,void 0,void 0,function*(){let{uid:ee,encoding:ae,rawImageData:ge,redFactor:Ne,greenFactor:Be,blueFactor:Xe,baseShift:Ue}=X,he=ge.width+2,ve=ge.height+2,qe=i.b(ge)?new i.R({width:he,height:ve},yield i.cO(ge,-1,-1,he,ve)):ge,ft=new i.cP(ee,qe,ae,Ne,Be,Xe,Ue);return this.loaded=this.loaded||{},this.loaded[ee]=ft,ft})}removeTile(X){let ee=this.loaded,ae=X.uid;ee&&ee[ae]&&delete ee[ae]}}var T,A,L=function(){if(A)return T;function me(ee,ae){if(ee.length!==0){X(ee[0],ae);for(var ge=1;ge<ee.length;ge++)X(ee[ge],!ae)}}function X(ee,ae){for(var ge=0,Ne=0,Be=0,Xe=ee.length,Ue=Xe-1;Be<Xe;Ue=Be++){var he=(ee[Be][0]-ee[Ue][0])*(ee[Ue][1]+ee[Be][1]),ve=ge+he;Ne+=Math.abs(ge)>=Math.abs(he)?ge-ve+he:he-ve+ge,ge=ve}ge+Ne>=0!=!!ae&&ee.reverse()}return A=1,T=function ee(ae,ge){var Ne,Be=ae&&ae.type;if(Be==="FeatureCollection")for(Ne=0;Ne<ae.features.length;Ne++)ee(ae.features[Ne],ge);else if(Be==="GeometryCollection")for(Ne=0;Ne<ae.geometries.length;Ne++)ee(ae.geometries[Ne],ge);else if(Be==="Feature")ee(ae.geometry,ge);else if(Be==="Polygon")me(ae.coordinates,ge);else if(Be==="MultiPolygon")for(Ne=0;Ne<ae.coordinates.length;Ne++)me(ae.coordinates[Ne],ge);return ae}}(),z=i.cQ(L);class U extends i.cS{constructor(X,ee){super(new i.cM,0,ee,[],[]),this.feature=X,this.type=X.type,this.properties=X.tags?X.tags:{},"id"in X&&(typeof X.id=="string"?this.id=parseInt(X.id,10):typeof X.id!="number"||isNaN(X.id)||(this.id=X.id))}loadGeometry(){let X=[],ee=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(let ae of ee){let ge=[];for(let Ne of ae)ge.push(new i.P(Ne[0],Ne[1]));X.push(ge)}return X}}class N extends i.cR{constructor(X,ee){super(new i.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=ee?ee.version:1,this.extent=ee?ee.extent:4096,this.length=X.length,this.features=X}feature(X){return new U(this.features[X],this.extent)}}function R(me,X){X.writeVarintField(15,me.version||1),X.writeStringField(1,me.name||""),X.writeVarintField(5,me.extent||4096);let ee={keys:[],values:[],keycache:{},valuecache:{}};for(let Ne=0;Ne<me.length;Ne++)ee.feature=me.feature(Ne),X.writeMessage(2,j,ee);let ae=ee.keys;for(let Ne of ae)X.writeStringField(3,Ne);let ge=ee.values;for(let Ne of ge)X.writeMessage(4,le,Ne)}function j(me,X){if(!me.feature)return;let ee=me.feature;ee.id!==void 0&&X.writeVarintField(1,ee.id),X.writeMessage(2,H,me),X.writeVarintField(3,ee.type),X.writeMessage(4,ie,ee)}function H(me,X){var ee;for(let ae in(ee=me.feature)==null?void 0:ee.properties){let ge=me.feature.properties[ae],Ne=me.keycache[ae];if(ge===null)continue;Ne===void 0&&(me.keys.push(ae),Ne=me.keys.length-1,me.keycache[ae]=Ne),X.writeVarint(Ne),typeof ge!="string"&&typeof ge!="boolean"&&typeof ge!="number"&&(ge=JSON.stringify(ge));let Be=typeof ge+":"+ge,Xe=me.valuecache[Be];Xe===void 0&&(me.values.push(ge),Xe=me.values.length-1,me.valuecache[Be]=Xe),X.writeVarint(Xe)}}function Y(me,X){return(X<<3)+(7&me)}function re(me){return me<<1^me>>31}function ie(me,X){let ee=me.loadGeometry(),ae=me.type,ge=0,Ne=0;for(let Be of ee){let Xe=1;ae===1&&(Xe=Be.length),X.writeVarint(Y(1,Xe));let Ue=ae===3?Be.length-1:Be.length;for(let he=0;he<Ue;he++){he===1&&ae!==1&&X.writeVarint(Y(2,Ue-1));let ve=Be[he].x-ge,qe=Be[he].y-Ne;X.writeVarint(re(ve)),X.writeVarint(re(qe)),ge+=ve,Ne+=qe}me.type===3&&X.writeVarint(Y(7,1))}}function le(me,X){let ee=typeof me;ee==="string"?X.writeStringField(1,me):ee==="boolean"?X.writeBooleanField(7,me):ee==="number"&&(me%1!=0?X.writeDoubleField(3,me):me<0?X.writeSVarintField(6,me):X.writeVarintField(5,me))}let Me={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:me=>me},we=Math.fround||(ye=new Float32Array(1),me=>(ye[0]=+me,ye[0]));var ye;class xe{constructor(X){this.options=Object.assign(Object.create(Me),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){let{log:ee,minZoom:ae,maxZoom:ge}=this.options;ee&&console.time("total time");let Ne=`prepare ${X.length} points`;ee&&console.time(Ne),this.points=X;let Be=[];for(let Ue=0;Ue<X.length;Ue++){let he=X[Ue];if(!he.geometry)continue;let[ve,qe]=he.geometry.coordinates,ft=we(Pe(ve)),Se=we(Ke(qe));Be.push(ft,Se,1/0,Ue,-1,1),this.options.reduce&&Be.push(0)}let Xe=this.trees[ge+1]=this._createTree(Be);ee&&console.timeEnd(Ne);for(let Ue=ge;Ue>=ae;Ue--){let he=+Date.now();Xe=this.trees[Ue]=this._createTree(this._cluster(Xe,Ue)),ee&&console.log("z%d: %d clusters in %dms",Ue,Xe.numItems,+Date.now()-he)}return ee&&console.timeEnd("total time"),this}getClusters(X,ee){let ae=((X[0]+180)%360+360)%360-180,ge=Math.max(-90,Math.min(90,X[1])),Ne=X[2]===180?180:((X[2]+180)%360+360)%360-180,Be=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)ae=-180,Ne=180;else if(ae>Ne){let qe=this.getClusters([ae,ge,180,Be],ee),ft=this.getClusters([-180,ge,Ne,Be],ee);return qe.concat(ft)}let Xe=this.trees[this._limitZoom(ee)],Ue=Xe.range(Pe(ae),Ke(Be),Pe(Ne),Ke(ge)),he=Xe.data,ve=[];for(let qe of Ue){let ft=this.stride*qe;ve.push(he[ft+5]>1?Ie(he,ft,this.clusterProps):this.points[he[ft+3]])}return ve}getChildren(X){let ee=this._getOriginId(X),ae=this._getOriginZoom(X),ge="No cluster with the specified id.",Ne=this.trees[ae];if(!Ne)throw new Error(ge);let Be=Ne.data;if(ee*this.stride>=Be.length)throw new Error(ge);let Xe=this.options.radius/(this.options.extent*Math.pow(2,ae-1)),Ue=Ne.within(Be[ee*this.stride],Be[ee*this.stride+1],Xe),he=[];for(let ve of Ue){let qe=ve*this.stride;Be[qe+4]===X&&he.push(Be[qe+5]>1?Ie(Be,qe,this.clusterProps):this.points[Be[qe+3]])}if(he.length===0)throw new Error(ge);return he}getLeaves(X,ee,ae){let ge=[];return this._appendLeaves(ge,X,ee=ee||10,ae=ae||0,0),ge}getTile(X,ee,ae){let ge=this.trees[this._limitZoom(X)],Ne=Math.pow(2,X),{extent:Be,radius:Xe}=this.options,Ue=Xe/Be,he=(ae-Ue)/Ne,ve=(ae+1+Ue)/Ne,qe={features:[]};return this._addTileFeatures(ge.range((ee-Ue)/Ne,he,(ee+1+Ue)/Ne,ve),ge.data,ee,ae,Ne,qe),ee===0&&this._addTileFeatures(ge.range(1-Ue/Ne,he,1,ve),ge.data,Ne,ae,Ne,qe),ee===Ne-1&&this._addTileFeatures(ge.range(0,he,Ue/Ne,ve),ge.data,-1,ae,Ne,qe),qe.features.length?qe:null}getClusterExpansionZoom(X){let ee=this._getOriginZoom(X)-1;for(;ee<=this.options.maxZoom;){let ae=this.getChildren(X);if(ee++,ae.length!==1)break;X=ae[0].properties.cluster_id}return ee}_appendLeaves(X,ee,ae,ge,Ne){let Be=this.getChildren(ee);for(let Xe of Be){let Ue=Xe.properties;if(Ue&&Ue.cluster?Ne+Ue.point_count<=ge?Ne+=Ue.point_count:Ne=this._appendLeaves(X,Ue.cluster_id,ae,ge,Ne):Ne<ge?Ne++:X.push(Xe),X.length===ae)break}return Ne}_createTree(X){let ee=new i.aI(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ae=0;ae<X.length;ae+=this.stride)ee.add(X[ae],X[ae+1]);return ee.finish(),ee.data=X,ee}_addTileFeatures(X,ee,ae,ge,Ne,Be){for(let Xe of X){let Ue=Xe*this.stride,he=ee[Ue+5]>1,ve,qe,ft;if(he)ve=de(ee,Ue,this.clusterProps),qe=ee[Ue],ft=ee[Ue+1];else{let Gt=this.points[ee[Ue+3]];ve=Gt.properties;let[Et,Lt]=Gt.geometry.coordinates;qe=Pe(Et),ft=Ke(Lt)}let Se={type:1,geometry:[[Math.round(this.options.extent*(qe*Ne-ae)),Math.round(this.options.extent*(ft*Ne-ge))]],tags:ve},wt;wt=he||this.options.generateId?ee[Ue+3]:this.points[ee[Ue+3]].id,wt!==void 0&&(Se.id=wt),Be.features.push(Se)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,ee){let{radius:ae,extent:ge,reduce:Ne,minPoints:Be}=this.options,Xe=ae/(ge*Math.pow(2,ee)),Ue=X.data,he=[],ve=this.stride;for(let qe=0;qe<Ue.length;qe+=ve){if(Ue[qe+2]<=ee)continue;Ue[qe+2]=ee;let ft=Ue[qe],Se=Ue[qe+1],wt=X.within(Ue[qe],Ue[qe+1],Xe),Gt=Ue[qe+5],Et=Gt;for(let Lt of wt){let ur=Lt*ve;Ue[ur+2]>ee&&(Et+=Ue[ur+5])}if(Et>Gt&&Et>=Be){let Lt,ur=ft*Gt,Wr=Se*Gt,In=-1,un=(qe/ve<<5)+(ee+1)+this.points.length;for(let Pr of wt){let qr=Pr*ve;if(Ue[qr+2]<=ee)continue;Ue[qr+2]=ee;let ei=Ue[qr+5];ur+=Ue[qr]*ei,Wr+=Ue[qr+1]*ei,Ue[qr+4]=un,Ne&&(Lt||(Lt=this._map(Ue,qe,!0),In=this.clusterProps.length,this.clusterProps.push(Lt)),Ne(Lt,this._map(Ue,qr)))}Ue[qe+4]=un,he.push(ur/Et,Wr/Et,1/0,un,-1,Et),Ne&&he.push(In)}else{for(let Lt=0;Lt<ve;Lt++)he.push(Ue[qe+Lt]);if(Et>1)for(let Lt of wt){let ur=Lt*ve;if(!(Ue[ur+2]<=ee)){Ue[ur+2]=ee;for(let Wr=0;Wr<ve;Wr++)he.push(Ue[ur+Wr])}}}}return he}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,ee,ae){if(X[ee+5]>1){let Be=this.clusterProps[X[ee+6]];return ae?Object.assign({},Be):Be}let ge=this.points[X[ee+3]].properties,Ne=this.options.map(ge);return ae&&Ne===ge?Object.assign({},Ne):Ne}}function Ie(me,X,ee){return{type:"Feature",id:me[X+3],properties:de(me,X,ee),geometry:{type:"Point",coordinates:[(ae=me[X],360*(ae-.5)),at(me[X+1])]}};var ae}function de(me,X,ee){let ae=me[X+5],ge=ae>=1e4?`${Math.round(ae/1e3)}k`:ae>=1e3?Math.round(ae/100)/10+"k":ae,Ne=me[X+6],Be=Ne===-1?{}:Object.assign({},ee[Ne]);return Object.assign(Be,{cluster:!0,cluster_id:me[X+3],point_count:ae,point_count_abbreviated:ge})}function Pe(me){return me/360+.5}function Ke(me){let X=Math.sin(me*Math.PI/180),ee=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ee<0?0:ee>1?1:ee}function at(me){let X=(180-360*me)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function dt(me,X,ee,ae){let ge=ae,Ne=X+(ee-X>>1),Be,Xe=ee-X,Ue=me[X],he=me[X+1],ve=me[ee],qe=me[ee+1];for(let ft=X+3;ft<ee;ft+=3){let Se=ze(me[ft],me[ft+1],Ue,he,ve,qe);if(Se>ge)Be=ft,ge=Se;else if(Se===ge){let wt=Math.abs(ft-Ne);wt<Xe&&(Be=ft,Xe=wt)}}ge>ae&&(Be-X>3&&dt(me,X,Be,ae),me[Be+2]=ge,ee-Be>3&&dt(me,Be,ee,ae))}function ze(me,X,ee,ae,ge,Ne){let Be=ge-ee,Xe=Ne-ae;if(Be!==0||Xe!==0){let Ue=((me-ee)*Be+(X-ae)*Xe)/(Be*Be+Xe*Xe);Ue>1?(ee=ge,ae=Ne):Ue>0&&(ee+=Be*Ue,ae+=Xe*Ue)}return Be=me-ee,Xe=X-ae,Be*Be+Xe*Xe}function ct(me,X,ee,ae){let ge={id:me==null?null:me,type:X,geometry:ee,tags:ae,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(X==="Point"||X==="MultiPoint"||X==="LineString")_t(ge,ee);else if(X==="Polygon")_t(ge,ee[0]);else if(X==="MultiLineString")for(let Ne of ee)_t(ge,Ne);else if(X==="MultiPolygon")for(let Ne of ee)_t(ge,Ne[0]);return ge}function _t(me,X){for(let ee=0;ee<X.length;ee+=3)me.minX=Math.min(me.minX,X[ee]),me.minY=Math.min(me.minY,X[ee+1]),me.maxX=Math.max(me.maxX,X[ee]),me.maxY=Math.max(me.maxY,X[ee+1])}function It(me,X,ee,ae){if(!X.geometry)return;let ge=X.geometry.coordinates;if(ge&&ge.length===0)return;let Ne=X.geometry.type,Be=Math.pow(ee.tolerance/((1<<ee.maxZoom)*ee.extent),2),Xe=[],Ue=X.id;if(ee.promoteId?Ue=X.properties[ee.promoteId]:ee.generateId&&(Ue=ae||0),Ne==="Point")Ye(ge,Xe);else if(Ne==="MultiPoint")for(let he of ge)Ye(he,Xe);else if(Ne==="LineString")pt(ge,Xe,Be,!1);else if(Ne==="MultiLineString"){if(ee.lineMetrics){for(let he of ge)Xe=[],pt(he,Xe,Be,!1),me.push(ct(Ue,"LineString",Xe,X.properties));return}ot(ge,Xe,Be,!1)}else if(Ne==="Polygon")ot(ge,Xe,Be,!0);else{if(Ne!=="MultiPolygon"){if(Ne==="GeometryCollection"){for(let he of X.geometry.geometries)It(me,{id:Ue,geometry:he,properties:X.properties},ee,ae);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let he of ge){let ve=[];ot(he,ve,Be,!0),Xe.push(ve)}}me.push(ct(Ue,Ne,Xe,X.properties))}function Ye(me,X){X.push(Ve(me[0]),Oe(me[1]),0)}function pt(me,X,ee,ae){let ge,Ne,Be=0;for(let Ue=0;Ue<me.length;Ue++){let he=Ve(me[Ue][0]),ve=Oe(me[Ue][1]);X.push(he,ve,0),Ue>0&&(Be+=ae?(ge*ve-he*Ne)/2:Math.sqrt(Math.pow(he-ge,2)+Math.pow(ve-Ne,2))),ge=he,Ne=ve}let Xe=X.length-3;X[2]=1,dt(X,0,Xe,ee),X[Xe+2]=1,X.size=Math.abs(Be),X.start=0,X.end=X.size}function ot(me,X,ee,ae){for(let ge=0;ge<me.length;ge++){let Ne=[];pt(me[ge],Ne,ee,ae),X.push(Ne)}}function Ve(me){return me/360+.5}function Oe(me){let X=Math.sin(me*Math.PI/180),ee=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ee<0?0:ee>1?1:ee}function He(me,X,ee,ae,ge,Ne,Be,Xe){if(ae/=X,Ne>=(ee/=X)&&Be<ae)return me;if(Be<ee||Ne>=ae)return null;let Ue=[];for(let he of me){let ve=he.geometry,qe=he.type,ft=ge===0?he.minX:he.minY,Se=ge===0?he.maxX:he.maxY;if(ft>=ee&&Se<ae){Ue.push(he);continue}if(Se<ee||ft>=ae)continue;let wt=[];if(qe==="Point"||qe==="MultiPoint")Fe(ve,wt,ee,ae,ge);else if(qe==="LineString")lt(ve,wt,ee,ae,ge,!1,Xe.lineMetrics);else if(qe==="MultiLineString")yt(ve,wt,ee,ae,ge,!1);else if(qe==="Polygon")yt(ve,wt,ee,ae,ge,!0);else if(qe==="MultiPolygon")for(let Gt of ve){let Et=[];yt(Gt,Et,ee,ae,ge,!0),Et.length&&wt.push(Et)}if(wt.length){if(Xe.lineMetrics&&qe==="LineString"){for(let Gt of wt)Ue.push(ct(he.id,qe,Gt,he.tags));continue}qe!=="LineString"&&qe!=="MultiLineString"||(wt.length===1?(qe="LineString",wt=wt[0]):qe="MultiLineString"),qe!=="Point"&&qe!=="MultiPoint"||(qe=wt.length===3?"Point":"MultiPoint"),Ue.push(ct(he.id,qe,wt,he.tags))}}return Ue.length?Ue:null}function Fe(me,X,ee,ae,ge){for(let Ne=0;Ne<me.length;Ne+=3){let Be=me[Ne+ge];Be>=ee&&Be<=ae&&vt(X,me[Ne],me[Ne+1],me[Ne+2])}}function lt(me,X,ee,ae,ge,Ne,Be){let Xe=st(me),Ue=ge===0?At:Zt,he,ve,qe=me.start;for(let Et=0;Et<me.length-3;Et+=3){let Lt=me[Et],ur=me[Et+1],Wr=me[Et+2],In=me[Et+3],un=me[Et+4],Pr=ge===0?Lt:ur,qr=ge===0?In:un,ei=!1;Be&&(he=Math.sqrt(Math.pow(Lt-In,2)+Math.pow(ur-un,2))),Pr<ee?qr>ee&&(ve=Ue(Xe,Lt,ur,In,un,ee),Be&&(Xe.start=qe+he*ve)):Pr>ae?qr<ae&&(ve=Ue(Xe,Lt,ur,In,un,ae),Be&&(Xe.start=qe+he*ve)):vt(Xe,Lt,ur,Wr),qr<ee&&Pr>=ee&&(ve=Ue(Xe,Lt,ur,In,un,ee),ei=!0),qr>ae&&Pr<=ae&&(ve=Ue(Xe,Lt,ur,In,un,ae),ei=!0),!Ne&&ei&&(Be&&(Xe.end=qe+he*ve),X.push(Xe),Xe=st(me)),Be&&(qe+=he)}let ft=me.length-3,Se=me[ft],wt=me[ft+1],Gt=ge===0?Se:wt;Gt>=ee&&Gt<=ae&&vt(Xe,Se,wt,me[ft+2]),ft=Xe.length-3,Ne&&ft>=3&&(Xe[ft]!==Xe[0]||Xe[ft+1]!==Xe[1])&&vt(Xe,Xe[0],Xe[1],Xe[2]),Xe.length&&X.push(Xe)}function st(me){let X=[];return X.size=me.size,X.start=me.start,X.end=me.end,X}function yt(me,X,ee,ae,ge,Ne){for(let Be of me)lt(Be,X,ee,ae,ge,Ne,!1)}function vt(me,X,ee,ae){me.push(X,ee,ae)}function At(me,X,ee,ae,ge,Ne){let Be=(Ne-X)/(ae-X);return vt(me,Ne,ee+(ge-ee)*Be,1),Be}function Zt(me,X,ee,ae,ge,Ne){let Be=(Ne-ee)/(ge-ee);return vt(me,X+(ae-X)*Be,Ne,1),Be}function Tt(me,X){let ee=[];for(let ae=0;ae<me.length;ae++){let ge=me[ae],Ne=ge.type,Be;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")Be=Rt(ge.geometry,X);else if(Ne==="MultiLineString"||Ne==="Polygon"){Be=[];for(let Xe of ge.geometry)Be.push(Rt(Xe,X))}else if(Ne==="MultiPolygon"){Be=[];for(let Xe of ge.geometry){let Ue=[];for(let he of Xe)Ue.push(Rt(he,X));Be.push(Ue)}}ee.push(ct(ge.id,Ne,Be,ge.tags))}return ee}function Rt(me,X){let ee=[];ee.size=me.size,me.start!==void 0&&(ee.start=me.start,ee.end=me.end);for(let ae=0;ae<me.length;ae+=3)ee.push(me[ae]+X,me[ae+1],me[ae+2]);return ee}function tr(me,X){if(me.transformed)return me;let ee=1<<me.z,ae=me.x,ge=me.y;for(let Ne of me.features){let Be=Ne.geometry,Xe=Ne.type;if(Ne.geometry=[],Xe===1)for(let Ue=0;Ue<Be.length;Ue+=2)Ne.geometry.push(Sr(Be[Ue],Be[Ue+1],X,ee,ae,ge));else for(let Ue=0;Ue<Be.length;Ue++){let he=[];for(let ve=0;ve<Be[Ue].length;ve+=2)he.push(Sr(Be[Ue][ve],Be[Ue][ve+1],X,ee,ae,ge));Ne.geometry.push(he)}}return me.transformed=!0,me}function Sr(me,X,ee,ae,ge,Ne){return[Math.round(ee*(me*ae-ge)),Math.round(ee*(X*ae-Ne))]}function kr(me,X,ee,ae,ge){let Ne=X===ge.maxZoom?0:ge.tolerance/((1<<X)*ge.extent),Be={features:[],numPoints:0,numSimplified:0,numFeatures:me.length,source:null,x:ee,y:ae,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Xe of me)pr(Be,Xe,Ne,ge);return Be}function pr(me,X,ee,ae){let ge=X.geometry,Ne=X.type,Be=[];if(me.minX=Math.min(me.minX,X.minX),me.minY=Math.min(me.minY,X.minY),me.maxX=Math.max(me.maxX,X.maxX),me.maxY=Math.max(me.maxY,X.maxY),Ne==="Point"||Ne==="MultiPoint")for(let Xe=0;Xe<ge.length;Xe+=3)Be.push(ge[Xe],ge[Xe+1]),me.numPoints++,me.numSimplified++;else if(Ne==="LineString")Er(Be,ge,me,ee,!1,!1);else if(Ne==="MultiLineString"||Ne==="Polygon")for(let Xe=0;Xe<ge.length;Xe++)Er(Be,ge[Xe],me,ee,Ne==="Polygon",Xe===0);else if(Ne==="MultiPolygon")for(let Xe=0;Xe<ge.length;Xe++){let Ue=ge[Xe];for(let he=0;he<Ue.length;he++)Er(Be,Ue[he],me,ee,!0,he===0)}if(Be.length){let Xe=X.tags||null;if(Ne==="LineString"&&ae.lineMetrics){Xe={};for(let he in X.tags)Xe[he]=X.tags[he];Xe.mapbox_clip_start=ge.start/ge.size,Xe.mapbox_clip_end=ge.end/ge.size}let Ue={geometry:Be,type:Ne==="Polygon"||Ne==="MultiPolygon"?3:Ne==="LineString"||Ne==="MultiLineString"?2:1,tags:Xe};X.id!==null&&(Ue.id=X.id),me.features.push(Ue)}}function Er(me,X,ee,ae,ge,Ne){let Be=ae*ae;if(ae>0&&X.size<(ge?Be:ae))return void(ee.numPoints+=X.length/3);let Xe=[];for(let Ue=0;Ue<X.length;Ue+=3)(ae===0||X[Ue+2]>Be)&&(ee.numSimplified++,Xe.push(X[Ue],X[Ue+1])),ee.numPoints++;ge&&function(Ue,he){let ve=0;for(let qe=0,ft=Ue.length,Se=ft-2;qe<ft;Se=qe,qe+=2)ve+=(Ue[qe]-Ue[Se])*(Ue[qe+1]+Ue[Se+1]);if(ve>0===he)for(let qe=0,ft=Ue.length;qe<ft/2;qe+=2){let Se=Ue[qe],wt=Ue[qe+1];Ue[qe]=Ue[ft-2-qe],Ue[qe+1]=Ue[ft-1-qe],Ue[ft-2-qe]=Se,Ue[ft-1-qe]=wt}}(Xe,Ne),me.push(Xe)}let Ae={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class We{constructor(X,ee){let ae=(ee=this.options=function(Ne,Be){for(let Xe in Be)Ne[Xe]=Be[Xe];return Ne}(Object.create(Ae),ee)).debug;if(ae&&console.time("preprocess data"),ee.maxZoom<0||ee.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ee.promoteId&&ee.generateId)throw new Error("promoteId and generateId cannot be used together.");let ge=function(Ne,Be){let Xe=[];if(Ne.type==="FeatureCollection")for(let Ue=0;Ue<Ne.features.length;Ue++)It(Xe,Ne.features[Ue],Be,Ue);else It(Xe,Ne.type==="Feature"?Ne:{geometry:Ne},Be);return Xe}(X,ee);this.tiles={},this.tileCoords=[],ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ee.indexMaxZoom,ee.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ge=function(Ne,Be){let Xe=Be.buffer/Be.extent,Ue=Ne,he=He(Ne,1,-1-Xe,Xe,0,-1,2,Be),ve=He(Ne,1,1-Xe,2+Xe,0,-1,2,Be);return(he||ve)&&(Ue=He(Ne,1,-Xe,1+Xe,0,-1,2,Be)||[],he&&(Ue=Tt(he,1).concat(Ue)),ve&&(Ue=Ue.concat(Tt(ve,-1)))),Ue}(ge,ee),ge.length&&this.splitTile(ge,0,0,0),ae&&(ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(X,ee,ae,ge,Ne,Be,Xe){let Ue=[X,ee,ae,ge],he=this.options,ve=he.debug;for(;Ue.length;){ge=Ue.pop(),ae=Ue.pop(),ee=Ue.pop(),X=Ue.pop();let qe=1<<ee,ft=Ze(ee,ae,ge),Se=this.tiles[ft];if(!Se&&(ve>1&&console.time("creation"),Se=this.tiles[ft]=kr(X,ee,ae,ge,he),this.tileCoords.push({z:ee,x:ae,y:ge}),ve)){ve>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ee,ae,ge,Se.numFeatures,Se.numPoints,Se.numSimplified),console.timeEnd("creation"));let ei=`z${ee}`;this.stats[ei]=(this.stats[ei]||0)+1,this.total++}if(Se.source=X,Ne==null){if(ee===he.indexMaxZoom||Se.numPoints<=he.indexMaxPoints)continue}else{if(ee===he.maxZoom||ee===Ne)continue;if(Ne!=null){let ei=Ne-ee;if(ae!==Be>>ei||ge!==Xe>>ei)continue}}if(Se.source=null,X.length===0)continue;ve>1&&console.time("clipping");let wt=.5*he.buffer/he.extent,Gt=.5-wt,Et=.5+wt,Lt=1+wt,ur=null,Wr=null,In=null,un=null,Pr=He(X,qe,ae-wt,ae+Et,0,Se.minX,Se.maxX,he),qr=He(X,qe,ae+Gt,ae+Lt,0,Se.minX,Se.maxX,he);X=null,Pr&&(ur=He(Pr,qe,ge-wt,ge+Et,1,Se.minY,Se.maxY,he),Wr=He(Pr,qe,ge+Gt,ge+Lt,1,Se.minY,Se.maxY,he),Pr=null),qr&&(In=He(qr,qe,ge-wt,ge+Et,1,Se.minY,Se.maxY,he),un=He(qr,qe,ge+Gt,ge+Lt,1,Se.minY,Se.maxY,he),qr=null),ve>1&&console.timeEnd("clipping"),Ue.push(ur||[],ee+1,2*ae,2*ge),Ue.push(Wr||[],ee+1,2*ae,2*ge+1),Ue.push(In||[],ee+1,2*ae+1,2*ge),Ue.push(un||[],ee+1,2*ae+1,2*ge+1)}}getTile(X,ee,ae){X=+X,ee=+ee,ae=+ae;let ge=this.options,{extent:Ne,debug:Be}=ge;if(X<0||X>24)return null;let Xe=1<<X,Ue=Ze(X,ee=ee+Xe&Xe-1,ae);if(this.tiles[Ue])return tr(this.tiles[Ue],Ne);Be>1&&console.log("drilling down to z%d-%d-%d",X,ee,ae);let he,ve=X,qe=ee,ft=ae;for(;!he&&ve>0;)ve--,qe>>=1,ft>>=1,he=this.tiles[Ze(ve,qe,ft)];return he&&he.source?(Be>1&&(console.log("found parent tile z%d-%d-%d",ve,qe,ft),console.time("drilling down")),this.splitTile(he.source,ve,qe,ft,X,ee,ae),Be>1&&console.timeEnd("drilling down"),this.tiles[Ue]?tr(this.tiles[Ue],Ne):null):null}}function Ze(me,X,ee){return 32*((1<<me)*ee+X)+me}class Ct extends _{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(X,ee){return i._(this,void 0,void 0,function*(){let ae=X.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let ge=this._geoJSONIndex.getTile(ae.z,ae.x,ae.y);if(!ge)return null;let Ne=new N(ge.features,{version:2,extent:i.$}),Be=function(Xe){let Ue=new i.cM;return function(he,ve){for(let qe in he.layers)ve.writeMessage(3,R,he.layers[qe])}(Xe,Ue),Ue.finish()}(Ne);return Be.byteOffset===0&&Be.byteLength===Be.buffer.byteLength||(Be=new Uint8Array(Be)),{vectorTile:Ne,rawData:Be.buffer}})}loadData(X){return i._(this,void 0,void 0,function*(){var ee;(ee=this._pendingRequest)===null||ee===void 0||ee.abort();let ae=!!(X&&X.request&&X.request.collectResourceTiming)&&new i.cN(X.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(X,this._pendingRequest);let ge=yield this._pendingData;this._geoJSONIndex=X.cluster?new xe(function({superclusterOptions:Be,clusterProperties:Xe}){if(!Xe||!Be)return Be;let Ue={},he={},ve={accumulated:null,zoom:0},qe={properties:null},ft=Object.keys(Xe);for(let Se of ft){let[wt,Gt]=Xe[Se],Et=i.cT(Gt),Lt=i.cT(typeof wt=="string"?[wt,["accumulated"],["get",Se]]:wt);Ue[Se]=Et.value,he[Se]=Lt.value}return Be.map=Se=>{qe.properties=Se;let wt={};for(let Gt of ft)wt[Gt]=Ue[Gt].evaluate(ve,qe);return wt},Be.reduce=(Se,wt)=>{qe.properties=wt;for(let Gt of ft)ve.accumulated=Se[Gt],Se[Gt]=he[Gt].evaluate(ve,qe)},Be}(X)).load(ge.features):function(Be,Xe){return new We(Be,Xe)}(ge,X.geojsonVtOptions),this.loaded={};let Ne={data:ge};if(ae){let Be=ae.finish();Be&&(Ne.resourceTiming={},Ne.resourceTiming[X.source]=JSON.parse(JSON.stringify(Be)))}return Ne}catch(ge){if(delete this._pendingRequest,i.cy(ge))return{abandoned:!0};throw ge}})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(X){let ee=this.loaded;return ee&&ee[X.uid]?super.reloadTile(X):this.loadTile(X)}loadAndProcessGeoJSON(X,ee){return i._(this,void 0,void 0,function*(){let ae=yield this.loadGeoJSON(X,ee);if(delete this._pendingRequest,typeof ae!="object")throw new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`);if(z(ae,!0),X.filter){let ge=i.cT(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ge.result==="error")throw new Error(ge.value.map(Be=>`${Be.key}: ${Be.message}`).join(", "));ae={type:"FeatureCollection",features:ae.features.filter(Be=>ge.value.evaluate({zoom:0},Be))}}return ae})}loadGeoJSON(X,ee){return i._(this,void 0,void 0,function*(){let{promoteId:ae}=X;if(X.request){let ge=yield i.j(X.request,ee);return this._dataUpdateable=i.cV(ge.data,ae)?i.cU(ge.data,ae):void 0,ge.data}if(typeof X.data=="string")try{let ge=JSON.parse(X.data);return this._dataUpdateable=i.cV(ge,ae)?i.cU(ge,ae):void 0,ge}catch(ge){throw new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`)}if(!X.dataDiff)throw new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${X.source}`);return i.cW(this._dataUpdateable,X.dataDiff,ae),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(X){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(X){return this._geoJSONIndex.getClusterExpansionZoom(X.clusterId)}getClusterChildren(X){return this._geoJSONIndex.getChildren(X.clusterId)}getClusterLeaves(X){return this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset)}}class zt{constructor(X){this.self=X,this.actor=new i.J(X),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ee,ae)=>{if(this.externalWorkerSourceTypes[ee])throw new Error(`Worker source with name "${ee}" already registered.`);this.externalWorkerSourceTypes[ee]=ae},this.self.addProtocol=i.cA,this.self.removeProtocol=i.cB,this.self.registerRTLTextPlugin=ee=>{i.cX.setMethods(ee)},this.actor.registerMessageHandler("LDT",(ee,ae)=>this._getDEMWorkerSource(ee,ae.source).loadTile(ae)),this.actor.registerMessageHandler("RDT",(ee,ae)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ee,ae.source).removeTile(ae)})),this.actor.registerMessageHandler("GCEZ",(ee,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ae.type,ae.source).getClusterExpansionZoom(ae)})),this.actor.registerMessageHandler("GCC",(ee,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ae.type,ae.source).getClusterChildren(ae)})),this.actor.registerMessageHandler("GCL",(ee,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ae.type,ae.source).getClusterLeaves(ae)})),this.actor.registerMessageHandler("LD",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).loadData(ae)),this.actor.registerMessageHandler("GD",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).getData()),this.actor.registerMessageHandler("LT",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).loadTile(ae)),this.actor.registerMessageHandler("RT",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).reloadTile(ae)),this.actor.registerMessageHandler("AT",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).abortTile(ae)),this.actor.registerMessageHandler("RMT",(ee,ae)=>this._getWorkerSource(ee,ae.type,ae.source).removeTile(ae)),this.actor.registerMessageHandler("RS",(ee,ae)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[ee]||!this.workerSources[ee][ae.type]||!this.workerSources[ee][ae.type][ae.source])return;let ge=this.workerSources[ee][ae.type][ae.source];delete this.workerSources[ee][ae.type][ae.source],ge.removeSource!==void 0&&ge.removeSource(ae)})),this.actor.registerMessageHandler("RM",ee=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[ee],delete this.availableImages[ee],delete this.workerSources[ee],delete this.demWorkerSources[ee]})),this.actor.registerMessageHandler("SR",(ee,ae)=>i._(this,void 0,void 0,function*(){this.referrer=ae})),this.actor.registerMessageHandler("SRPS",(ee,ae)=>this._syncRTLPluginState(ee,ae)),this.actor.registerMessageHandler("IS",(ee,ae)=>i._(this,void 0,void 0,function*(){this.self.importScripts(ae)})),this.actor.registerMessageHandler("SI",(ee,ae)=>this._setImages(ee,ae)),this.actor.registerMessageHandler("UL",(ee,ae)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ee).update(ae.layers,ae.removedIds)})),this.actor.registerMessageHandler("SL",(ee,ae)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ee).replace(ae)}))}_setImages(X,ee){return i._(this,void 0,void 0,function*(){this.availableImages[X]=ee;for(let ae in this.workerSources[X]){let ge=this.workerSources[X][ae];for(let Ne in ge)ge[Ne].availableImages=ee}})}_syncRTLPluginState(X,ee){return i._(this,void 0,void 0,function*(){return yield i.cX.syncState(ee,this.self.importScripts)})}_getAvailableImages(X){let ee=this.availableImages[X];return ee||(ee=[]),ee}_getLayerIndex(X){let ee=this.layerIndexes[X];return ee||(ee=this.layerIndexes[X]=new o),ee}_getWorkerSource(X,ee,ae){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][ee]||(this.workerSources[X][ee]={}),!this.workerSources[X][ee][ae]){let ge={sendAsync:(Ne,Be)=>(Ne.targetMapId=X,this.actor.sendAsync(Ne,Be))};switch(ee){case"vector":this.workerSources[X][ee][ae]=new _(ge,this._getLayerIndex(X),this._getAvailableImages(X));break;case"geojson":this.workerSources[X][ee][ae]=new Ct(ge,this._getLayerIndex(X),this._getAvailableImages(X));break;default:this.workerSources[X][ee][ae]=new this.externalWorkerSourceTypes[ee](ge,this._getLayerIndex(X),this._getAvailableImages(X))}}return this.workerSources[X][ee][ae]}_getDEMWorkerSource(X,ee){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][ee]||(this.demWorkerSources[X][ee]=new E),this.demWorkerSources[X][ee]}}return i.i(self)&&(self.worker=new zt(self)),zt}),r("index",["exports","./shared"],function(i,o){"use strict";var l="5.7.1";function d(){var x=new o.A(4);return o.A!=Float32Array&&(x[1]=0,x[2]=0),x[0]=1,x[3]=1,x}let g,_,E={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(x,a,f){let m=requestAnimationFrame(w=>{y(),a(w)}),{unsubscribe:y}=o.s(x.signal,"abort",()=>{y(),cancelAnimationFrame(m),f(o.c())},!1)},frameAsync(x){return new Promise((a,f)=>{this.frame(x,a,f)})},getImageData(x,a=0){return this.getImageCanvasContext(x).getImageData(-a,-a,x.width+2*a,x.height+2*a)},getImageCanvasContext(x){let a=window.document.createElement("canvas"),f=a.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return a.width=x.width,a.height=x.height,f.drawImage(x,0,0,x.width,x.height),f},resolveURL:x=>(g||(g=document.createElement("a")),g.href=x,g.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(_==null&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}};class T{static testProp(a){if(!T.docStyle)return a[0];for(let f=0;f<a.length;f++)if(a[f]in T.docStyle)return a[f];return a[0]}static create(a,f,m){let y=window.document.createElement(a);return f!==void 0&&(y.className=f),m&&m.appendChild(y),y}static createNS(a,f){return window.document.createElementNS(a,f)}static disableDrag(){T.docStyle&&T.selectProp&&(T.userSelect=T.docStyle[T.selectProp],T.docStyle[T.selectProp]="none")}static enableDrag(){T.docStyle&&T.selectProp&&(T.docStyle[T.selectProp]=T.userSelect)}static setTransform(a,f){a.style[T.transformProp]=f}static addEventListener(a,f,m,y={}){a.addEventListener(f,m,"passive"in y?y:y.capture)}static removeEventListener(a,f,m,y={}){a.removeEventListener(f,m,"passive"in y?y:y.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",T.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",T.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",T.suppressClickInternal,!0)},0)}static getScale(a){let f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}static getPoint(a,f,m){let y=f.boundingClientRect;return new o.P((m.clientX-y.left)/f.x-a.clientLeft,(m.clientY-y.top)/f.y-a.clientTop)}static mousePos(a,f){let m=T.getScale(a);return T.getPoint(a,m,f)}static touchPos(a,f){let m=[],y=T.getScale(a);for(let w=0;w<f.length;w++)m.push(T.getPoint(a,y,f[w]));return m}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}static sanitize(a){let f=new DOMParser().parseFromString(a,"text/html").body||document.createElement("body"),m=f.querySelectorAll("script");for(let y of m)y.remove();return T.clean(f),f.innerHTML}static isPossiblyDangerous(a,f){let m=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(a)||!m.includes("javascript:")&&!m.includes("data:"))||!!a.startsWith("on")||void 0}static clean(a){let f=a.children;for(let m of f)T.removeAttributes(m),T.clean(m)}static removeAttributes(a){for(let{name:f,value:m}of a.attributes)T.isPossiblyDangerous(f,m)&&a.removeAttribute(f)}}T.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,T.selectProp=T.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),T.transformProp=T.testProp(["transform","WebkitTransform"]);let A={supported:!1,testSupport:function(x){!U&&z&&(N?R(x):L=x)}},L,z,U=!1,N=!1;function R(x){let a=x.createTexture();x.bindTexture(x.TEXTURE_2D,a);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,z),x.isContextLost())return;A.supported=!0}catch(f){}x.deleteTexture(a),U=!0}var j;typeof document!="undefined"&&(z=document.createElement("img"),z.onload=()=>{L&&R(L),L=null,N=!0},z.onerror=()=>{U=!0,L=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let a,f,m,y;x.resetRequestQueue=()=>{a=[],f=0,m=0,y={}},x.addThrottleControl=D=>{let B=m++;return y[B]=D,B},x.removeThrottleControl=D=>{delete y[D],M()},x.getImage=(D,B,V=!0)=>new Promise((W,G)=>{A.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),o.e(D,{type:"image"}),a.push({abortController:B,requestParameters:D,supportImageRefresh:V,state:"queued",onError:K=>{G(K)},onSuccess:K=>{W(K)}}),M()});let w=D=>o._(this,void 0,void 0,function*(){D.state="running";let{requestParameters:B,supportImageRefresh:V,onError:W,onSuccess:G,abortController:K}=D,te=V===!1&&!o.i(self)&&!o.g(B.url)&&(!B.headers||Object.keys(B.headers).reduce((fe,be)=>fe&&be==="accept",!0));f++;let pe=te?k(B,K):o.m(B,K);try{let fe=yield pe;delete D.abortController,D.state="completed",fe.data instanceof HTMLImageElement||o.b(fe.data)?G(fe):fe.data&&G({data:yield(ce=fe.data,typeof createImageBitmap=="function"?o.f(ce):o.h(ce)),cacheControl:fe.cacheControl,expires:fe.expires})}catch(fe){delete D.abortController,W(fe)}finally{f--,M()}var ce}),M=()=>{let D=(()=>{for(let B of Object.keys(y))if(y[B]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let B=f;B<D&&a.length>0;B++){let V=a.shift();V.abortController.signal.aborted?B--:w(V)}},k=(D,B)=>new Promise((V,W)=>{let G=new Image,K=D.url,te=D.credentials;te&&te==="include"?G.crossOrigin="use-credentials":(te&&te==="same-origin"||!o.d(K))&&(G.crossOrigin="anonymous"),B.signal.addEventListener("abort",()=>{G.src="",W(o.c())}),G.fetchPriority="high",G.onload=()=>{G.onerror=G.onload=null,V({data:G})},G.onerror=()=>{G.onerror=G.onload=null,B.signal.aborted||W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},G.src=K})}(j||(j={})),j.resetRequestQueue();class H{constructor(a){this._transformRequestFn=a!=null?a:null}transformRequest(a,f){return this._transformRequestFn&&this._transformRequestFn(a,f)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function Y(x){let a=[];if(typeof x=="string")a.push({id:"default",url:x});else if(x&&x.length>0){let f=[];for(let{id:m,url:y}of x){let w=`${m}${y}`;f.indexOf(w)===-1&&(f.push(w),a.push({id:m,url:y}))}}return a}function re(x,a,f){try{let m=new URL(x);return m.pathname+=`${a}${f}`,m.toString()}catch(m){throw new Error(`Invalid sprite URL "${x}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function ie(x){let{userImage:a}=x;return!!(a&&a.render&&a.render())&&(x.data.replace(new Uint8Array(a.data.buffer)),!0)}class le extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:f,promiseResolve:m}of this.requestors)m(this._getImagesForIds(f));this.requestors=[]}}getImage(a){let f=this.images[a];if(f&&!f.data&&f.spriteData){let m=f.spriteData;f.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),f.spriteData=null}return f}addImage(a,f){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,f)&&(this.images[a]=f)}_validate(a,f){let m=!0,y=f.data||f.spriteData;return this._validateStretch(f.stretchX,y&&y.width)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(f.stretchY,y&&y.height)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(f.content,f)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,f){if(!a)return!0;let m=0;for(let y of a){if(y[0]<m||y[1]<y[0]||f<y[1])return!1;m=y[1]}return!0}_validateContent(a,f){if(!a)return!0;if(a.length!==4)return!1;let m=f.spriteData,y=m&&m.width||f.data.width,w=m&&m.height||f.data.height;return!(a[0]<0||y<a[0]||a[1]<0||w<a[1]||a[2]<0||y<a[2]||a[3]<0||w<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,f,m=!0){let y=this.getImage(a);if(m&&(y.data.width!==f.data.width||y.data.height!==f.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=y.version+1,this.images[a]=f,this.updatedImages[a]=!0}removeImage(a){let f=this.images[a];delete this.images[a],delete this.patterns[a],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((f,m)=>{let y=!0;if(!this.isLoaded())for(let w of a)this.images[w]||(y=!1);this.isLoaded()||y?f(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:f})})}_getImagesForIds(a){let f={};for(let m of a){let y=this.getImage(m);y||(this.fire(new o.l("styleimagemissing",{id:m})),y=this.getImage(m)),y?f[m]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,textFitWidth:y.textFitWidth,textFitHeight:y.textFitHeight,hasRenderCallback:!!(y.userImage&&y.userImage.render)}:o.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){let{width:a,height:f}=this.atlasImage;return{width:a,height:f}}getPattern(a){let f=this.patterns[a],m=this.getImage(a);if(!m)return null;if(f&&f.position.version===m.version)return f.position;if(f)f.position.version=m.version;else{let y={w:m.data.width+2,h:m.data.height+2,x:0,y:0},w=new o.I(y,m);this.patterns[a]={bin:y,position:w}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let f=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.T(a,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let w in this.patterns)a.push(this.patterns[w].bin);let{w:f,h:m}=o.p(a),y=this.atlasImage;y.resize({width:f||1,height:m||1});for(let w in this.patterns){let{bin:M}=this.patterns[w],k=M.x+1,D=M.y+1,B=this.getImage(w).data,V=B.width,W=B.height;o.R.copy(B,y,{x:0,y:0},{x:k,y:D},{width:V,height:W}),o.R.copy(B,y,{x:0,y:W-1},{x:k,y:D-1},{width:V,height:1}),o.R.copy(B,y,{x:0,y:0},{x:k,y:D+W},{width:V,height:1}),o.R.copy(B,y,{x:V-1,y:0},{x:k-1,y:D},{width:1,height:W}),o.R.copy(B,y,{x:0,y:0},{x:k+V,y:D},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let f of a){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;let m=this.getImage(f);m||o.w(`Image with ID: "${f}" was not found`),ie(m)&&this.updateImage(f,m)}}}let Me=1e20;function we(x,a,f,m,y,w,M,k,D){for(let B=a;B<a+m;B++)ye(x,f*w+B,w,y,M,k,D);for(let B=f;B<f+y;B++)ye(x,B*w+a,1,m,M,k,D)}function ye(x,a,f,m,y,w,M){w[0]=0,M[0]=-Me,M[1]=Me,y[0]=x[a];for(let k=1,D=0,B=0;k<m;k++){y[k]=x[a+k*f];let V=k*k;do{let W=w[D];B=(y[k]-y[W]+V-W*W)/(k-W)/2}while(B<=M[D]&&--D>-1);D++,w[D]=k,M[D]=B,M[D+1]=Me}for(let k=0,D=0;k<m;k++){for(;M[D+1]<k;)D++;let B=w[D],V=k-B;x[a+k*f]=y[B]+V*V}}class xe{constructor(a,f,m){this.requestManager=a,this.localIdeographFontFamily=f,this.entries={},this.lang=m}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let f=[];for(let w in a)for(let M of a[w])f.push(this._getAndCacheGlyphsPromise(w,M));let m=yield Promise.all(f),y={};for(let{stack:w,id:M,glyph:k}of m)y[w]||(y[w]={}),y[w][M]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics};return y})}_getAndCacheGlyphsPromise(a,f){return o._(this,void 0,void 0,function*(){let m=this.entries[a];m||(m=this.entries[a]={glyphs:{},requests:{},ranges:{}});let y=m.glyphs[f];if(y!==void 0)return{stack:a,id:f,glyph:y};if(y=this._tinySDF(m,a,f),y)return m.glyphs[f]=y,{stack:a,id:f,glyph:y};let w=Math.floor(f/256);if(256*w>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[w])return{stack:a,id:f,glyph:y};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[w]){let k=xe.loadGlyphRange(a,w,this.url,this.requestManager);m.requests[w]=k}let M=yield m.requests[w];for(let k in M)this._doesCharSupportLocalGlyph(+k)||(m.glyphs[+k]=M[+k]);return m.ranges[w]=!0,{stack:a,id:f,glyph:M[f]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))||o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a)||o.u["CJK Symbols and Punctuation"](a)||o.u["Halfwidth and Fullwidth Forms"](a))}_tinySDF(a,f,m){let y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(m))return;let w=a.tinySDF;if(!w){let k="400";/bold/i.test(f)?k="900":/medium/i.test(f)?k="500":/light/i.test(f)&&(k="200"),w=a.tinySDF=new xe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:y,fontWeight:k})}let M=w.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:M.width||60,height:M.height||60},M.data),metrics:{width:M.glyphWidth/2||24,height:M.glyphHeight/2||24,left:M.glyphLeft/2+.5||0,top:M.glyphTop/2-27.5||-8,advance:M.glyphAdvance/2||24,isDoubleResolution:!0}}}}xe.loadGlyphRange=function(x,a,f,m){return o._(this,void 0,void 0,function*(){let y=256*a,w=y+255,M=m.transformRequest(f.replace("{fontstack}",x).replace("{range}",`${y}-${w}`),"Glyphs"),k=yield o.n(M,new AbortController);if(!k||!k.data)throw new Error(`Could not load glyph range. range: ${a}, ${y}-${w}`);let D={};for(let B of o.o(k.data))D[B.id]=B;return D})},xe.TinySDF=class{constructor({fontSize:x=24,buffer:a=3,radius:f=8,cutoff:m=.25,fontFamily:y="sans-serif",fontWeight:w="normal",fontStyle:M="normal",lang:k=null}={}){this.buffer=a,this.cutoff=m,this.radius=f,this.lang=k;let D=this.size=x+4*a,B=this._createCanvas(D),V=this.ctx=B.getContext("2d",{willReadFrequently:!0});V.font=`${M} ${w} ${x}px ${y}`,V.textBaseline="alphabetic",V.textAlign="left",V.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Uint16Array(D)}_createCanvas(x){let a=document.createElement("canvas");return a.width=a.height=x,a}draw(x){let{width:a,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,actualBoundingBoxLeft:y,actualBoundingBoxRight:w}=this.ctx.measureText(x),M=Math.ceil(f),k=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-y))),D=Math.min(this.size-this.buffer,M+Math.ceil(m)),B=k+2*this.buffer,V=D+2*this.buffer,W=Math.max(B*V,0),G=new Uint8ClampedArray(W),K={data:G,width:B,height:V,glyphWidth:k,glyphHeight:D,glyphTop:M,glyphLeft:0,glyphAdvance:a};if(k===0||D===0)return K;let{ctx:te,buffer:pe,gridInner:ce,gridOuter:fe}=this;this.lang&&(te.lang=this.lang),te.clearRect(pe,pe,k,D),te.fillText(x,pe,pe+M);let be=te.getImageData(pe,pe,k,D);fe.fill(Me,0,W),ce.fill(0,0,W);for(let Ce=0;Ce<D;Ce++)for(let Ee=0;Ee<k;Ee++){let De=be.data[4*(Ce*k+Ee)+3]/255;if(De===0)continue;let Le=(Ce+pe)*B+Ee+pe;if(De===1)fe[Le]=0,ce[Le]=Me;else{let Te=.5-De;fe[Le]=Te>0?Te*Te:0,ce[Le]=Te<0?Te*Te:0}}we(fe,0,0,B,V,B,this.f,this.v,this.z),we(ce,pe,pe,k,D,B,this.f,this.v,this.z);for(let Ce=0;Ce<W;Ce++){let Ee=Math.sqrt(fe[Ce])-Math.sqrt(ce[Ce]);G[Ce]=Math.round(255-255*(Ee/this.radius+this.cutoff))}return K}};class Ie{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,f){return o.B(a.expression.evaluate(f))}interpolate(a,f,m){return{x:o.C.number(a.x,f.x,m),y:o.C.number(a.y,f.y,m),z:o.C.number(a.z,f.z,m)}}}let de;class Pe extends o.E{constructor(a){super(),de=de||new o.r({anchor:new o.D(o.v.light.anchor),position:new Ie,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.t(de),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,f={}){if(!this._validate(o.x,a,f))for(let m in a){let y=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),y):this._transitionable.setValue(m,y)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,f,m){return(!m||m.validate!==!1)&&o.y(this,a.call(o.z,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let Ke=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class at extends o.E{constructor(a){super(),this._transitionable=new o.t(Ke),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0))}setSky(a,f={}){if(!this._validate(o.G,a,f)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let m in a){let y=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),y):this._transitionable.setValue(m,y)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,f,m={}){return(m==null?void 0:m.validate)!==!1&&o.y(this,a.call(o.z,o.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class dt{constructor(a,f){this.width=a,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,f){let m=a.join(",")+String(f);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,f)),this.dashEntry[m]}getDashRanges(a,f,m){let y=[],w=a.length%2==1?-a[a.length-1]*m:0,M=a[0]*m,k=!0;y.push({left:w,right:M,isDash:k,zeroLength:a[0]===0});let D=a[0];for(let B=1;B<a.length;B++){k=!k;let V=a[B];w=D*m,D+=V,M=D*m,y.push({left:w,right:M,isDash:k,zeroLength:V===0})}return y}addRoundDash(a,f,m){let y=f/2;for(let w=-m;w<=m;w++){let M=this.width*(this.nextRow+m+w),k=0,D=a[k];for(let B=0;B<this.width;B++){B/D.right>1&&(D=a[++k]);let V=Math.abs(B-D.left),W=Math.abs(B-D.right),G=Math.min(V,W),K,te=w/m*(y+1);if(D.isDash){let pe=y-Math.abs(te);K=Math.sqrt(G*G+pe*pe)}else K=y-Math.sqrt(G*G+te*te);this.data[M+B]=Math.max(0,Math.min(255,K+128))}}}addRegularDash(a){for(let k=a.length-1;k>=0;--k){let D=a[k],B=a[k+1];D.zeroLength?a.splice(k,1):B&&B.isDash===D.isDash&&(B.left=D.left,a.splice(k,1))}let f=a[0],m=a[a.length-1];f.isDash===m.isDash&&(f.left=m.left-this.width,m.right=f.right+this.width);let y=this.width*this.nextRow,w=0,M=a[w];for(let k=0;k<this.width;k++){k/M.right>1&&(M=a[++w]);let D=Math.abs(k-M.left),B=Math.abs(k-M.right),V=Math.min(D,B);this.data[y+k]=Math.max(0,Math.min(255,(M.isDash?V:-V)+128))}}addDash(a,f){let m=f?7:0,y=2*m+1;if(this.nextRow+y>this.height)return o.w("LineAtlas out of space"),null;let w=0;for(let k=0;k<a.length;k++)w+=a[k];if(w!==0){let k=this.width/w,D=this.getDashRanges(a,this.width,k);f?this.addRoundDash(D,k,m):this.addRegularDash(D)}let M={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:w};return this.nextRow+=y,this.dirty=!0,M}bind(a){let f=a.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}let ze="maplibre_preloaded_worker_pool";class ct{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<ct.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ze]}numActive(){return Object.keys(this.active).length}}let _t=Math.floor(E.hardwareConcurrency/2),It,Ye;function pt(){return It||(It=new ct),It}ct.workerCount=o.H(globalThis)?Math.max(Math.min(_t,3),1):1;class ot{constructor(a,f){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=f;let m=this.workerPool.acquire(f);for(let y=0;y<m.length;y++){let w=new o.J(m[y],f);w.name=`Worker ${y}`,this.actors.push(w)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,f){let m=[];for(let y of this.actors)m.push(y.sendAsync({type:a,data:f}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,f){for(let m of this.actors)m.registerMessageHandler(a,f)}}function Ve(){return Ye||(Ye=new ot(pt(),o.K),Ye.registerMessageHandler("GR",(x,a,f)=>o.m(a,f))),Ye}function Oe(x,a){let f=o.L();return o.M(f,f,[1,1,0]),o.N(f,f,[.5*x.width,.5*x.height,1]),x.calculatePosMatrix?o.O(f,f,x.calculatePosMatrix(a.toUnwrapped())):f}function He(x,a,f,m,y,w,M){var k;let D=function(G,K,te){if(G)for(let pe of G){let ce=K[pe];if(ce&&ce.source===te&&ce.type==="fill-extrusion")return!0}else for(let pe in K){let ce=K[pe];if(ce.source===te&&ce.type==="fill-extrusion")return!0}return!1}((k=y==null?void 0:y.layers)!==null&&k!==void 0?k:null,a,x.id),B=w.maxPitchScaleFactor(),V=x.tilesIn(m,B,D);V.sort(Fe);let W=[];for(let G of V)W.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(a,f,x._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,y,w,B,Oe(x.transform,G.tileID),M?(K,te)=>M(G.tileID,K,te):void 0)});return function(G,K){for(let te in G)for(let pe of G[te])lt(pe,K);return G}(function(G){let K={},te={};for(let pe of G){let ce=pe.queryResults,fe=pe.wrappedTileID,be=te[fe]=te[fe]||{};for(let Ce in ce){let Ee=ce[Ce],De=be[Ce]=be[Ce]||{},Le=K[Ce]=K[Ce]||[];for(let Te of Ee)De[Te.featureIndex]||(De[Te.featureIndex]=!0,Le.push(Te))}}return K}(W),x)}function Fe(x,a){let f=x.tileID,m=a.tileID;return f.overscaledZ-m.overscaledZ||f.canonical.y-m.canonical.y||f.wrap-m.wrap||f.canonical.x-m.canonical.x}function lt(x,a){let f=x.feature,m=a.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=m}function st(x,a,f){return o._(this,void 0,void 0,function*(){let m=x;if(x.url?m=(yield o.j(a.transformRequest(x.url,"Source"),f)).data:yield E.frameAsync(f),!m)return null;let y=o.Q(o.e(m,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(y.vectorLayerIds=m.vector_layers.map(w=>w.id)),y})}class yt{constructor(a,f){a&&(f?this.setSouthWest(a).setNorthEast(f):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.S?new o.S(a.lng,a.lat):o.S.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.S?new o.S(a.lng,a.lat):o.S.convert(a),this}extend(a){let f=this._sw,m=this._ne,y,w;if(a instanceof o.S)y=a,w=a;else{if(!(a instanceof yt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(yt.convert(a)):this.extend(o.S.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.S.convert(a)):this;if(y=a._sw,w=a._ne,!y||!w)return this}return f||m?(f.lng=Math.min(y.lng,f.lng),f.lat=Math.min(y.lat,f.lat),m.lng=Math.max(w.lng,m.lng),m.lat=Math.max(w.lat,m.lat)):(this._sw=new o.S(y.lng,y.lat),this._ne=new o.S(w.lng,w.lat)),this}getCenter(){return new o.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.S(this.getWest(),this.getNorth())}getSouthEast(){return new o.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:f,lat:m}=o.S.convert(a),y=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&y}static convert(a){return a instanceof yt?a:a&&new yt(a)}static fromLngLat(a,f=0){let m=360*f/40075017,y=m/Math.cos(Math.PI/180*a.lat);return new yt(new o.S(a.lng-y,a.lat-m),new o.S(a.lng+y,a.lat+m))}adjustAntiMeridian(){let a=new o.S(this._sw.lng,this._sw.lat),f=new o.S(this._ne.lng,this._ne.lat);return new yt(a,a.lng>f.lng?new o.S(f.lng+360,f.lat):f)}}class vt{constructor(a,f,m){this.bounds=yt.convert(this.validateBounds(a)),this.minzoom=f||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let f=Math.pow(2,a.z),m=Math.floor(o.V(this.bounds.getWest())*f),y=Math.floor(o.U(this.bounds.getNorth())*f),w=Math.ceil(o.V(this.bounds.getEast())*f),M=Math.ceil(o.U(this.bounds.getSouth())*f);return a.x>=m&&a.x<w&&a.y>=y&&a.y<M}}class At extends o.E{constructor(a,f,m,y){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.Q(f,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield st(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new vt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.k(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(f,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};m.request.collectResourceTiming=this._collectResourceTiming;let y="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((w,M)=>{a.reloadPromise={resolve:w,reject:M}})}else a.actor=this.dispatcher.getActor(),y="LT";a.abortController=new AbortController;try{let w=yield a.actor.sendAsync({type:y,data:m},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,w)}catch(w){if(delete a.abortController,a.aborted)return;if(w&&w.status!==404)throw w;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,f){if(f&&f.resourceTiming&&(a.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&a.setExpiryData(f),a.loadVectorData(f,this.map.painter),a.reloadPromise){let m=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(m.resolve).catch(m.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Zt extends o.E{constructor(a,f,m,y){super(),this.id=a,this.dispatcher=m,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},f),o.e(this,o.Q(f,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(a=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let f=yield st(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(o.e(this,f),f.bounds&&(this.tileBounds=new vt(f.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:a})))}catch(f){this._tileJSONRequest=null,this.fire(new o.k(f))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load(!0)}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let m=yield j.getImage(this.map._requestManager.transformRequest(f,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&(m.cacheControl||m.expires)&&a.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});let y=this.map.painter.context,w=y.gl,M=m.data;a.texture=this.map.painter.getTileTexture(M.width),a.texture?a.texture.update(M,{useMipmap:!0}):(a.texture=new o.T(y,M,w.RGBA,{useMipmap:!0}),a.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE,w.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(m){if(delete a.abortController,a.aborted)a.state="unloaded";else if(m)throw a.state="errored",m}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Tt extends Zt{constructor(a,f,m,y){super(a,f,m,y),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(f,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let y=yield j.getImage(m,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(y&&y.data){let w=y.data;this.map._refreshExpiredTiles&&(y.cacheControl||y.expires)&&a.setExpiryData({cacheControl:y.cacheControl,expires:y.expires});let M=o.b(w)&&o.W()?w:yield this.readImageNow(w),k={type:this.type,uid:a.uid,source:this.id,rawImageData:M,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let D=yield a.actor.sendAsync({type:"LDT",data:k});a.dem=D,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(y){if(delete a.abortController,a.aborted)a.state="unloaded";else if(y)throw a.state="errored",y}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.X()){let f=a.width+2,m=a.height+2;try{return new o.R({width:f,height:m},yield o.Y(a,-1,-1,f,m))}catch(y){}}return E.getImageData(a,1)})}_getNeighboringTiles(a){let f=a.canonical,m=Math.pow(2,f.z),y=(f.x-1+m)%m,w=f.x===0?a.wrap-1:a.wrap,M=(f.x+1+m)%m,k=f.x+1===m?a.wrap+1:a.wrap,D={};return D[new o.Z(a.overscaledZ,w,f.z,y,f.y).key]={backfilled:!1},D[new o.Z(a.overscaledZ,k,f.z,M,f.y).key]={backfilled:!1},f.y>0&&(D[new o.Z(a.overscaledZ,w,f.z,y,f.y-1).key]={backfilled:!1},D[new o.Z(a.overscaledZ,a.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},D[new o.Z(a.overscaledZ,k,f.z,M,f.y-1).key]={backfilled:!1}),f.y+1<m&&(D[new o.Z(a.overscaledZ,w,f.z,y,f.y+1).key]={backfilled:!1},D[new o.Z(a.overscaledZ,a.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},D[new o.Z(a.overscaledZ,k,f.z,M,f.y+1).key]={backfilled:!1}),D}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Rt extends o.E{constructor(a,f,m,y){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=m.getActor(),this.setEventedParent(y),this._data=f.data,this._options=o.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:o.$,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:o.$,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(a){return a*(o.$/this.tileSize)}_getClusterMaxZoom(a){let f=a?Math.round(a):this.maxzoom-1;return Number.isInteger(a)||a===void 0||o.w(`Integer expected for option 'clusterMaxZoom': provided value "${a}" rounded to "${f}"`),f}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._pendingWorkerUpdate={data:a},this._updateWorkerData(),this}updateData(a){return this._pendingWorkerUpdate.diff=o.a0(this._pendingWorkerUpdate.diff,a),this._updateWorkerData(),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}getCoordinatesFromGeometry(a){return a.type==="GeometryCollection"?a.geometries.map(f=>f.coordinates).flat(1/0):a.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){let a=new yt,f=yield this.getData(),m;switch(f.type){case"FeatureCollection":m=f.features.map(y=>this.getCoordinatesFromGeometry(y.geometry)).flat(1/0);break;case"Feature":m=this.getCoordinatesFromGeometry(f.geometry);break;default:m=this.getCoordinatesFromGeometry(f)}if(m.length==0)return a;for(let y=0;y<m.length-1;y+=2)a.extend([m[y],m[y+1]]);return a})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(a.clusterRadius)),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(a.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,f,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:f,offset:m}})}_updateWorkerData(){return o._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;let{data:a,diff:f}=this._pendingWorkerUpdate;if(!a&&!f)return void o.w(`No data or diff provided to GeoJSONSource ${this.id}.`);let m=o.e({type:this.type},this.workerOptions);a?(typeof a=="string"?(m.request=this.map._requestManager.transformRequest(E.resolveURL(a),"Source"),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(a),this._pendingWorkerUpdate.data=void 0):f&&(m.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new o.l("dataloading",{dataType:"source"}));try{let y=yield this.actor.sendAsync({type:"LD",data:m});if(this._isUpdatingWorker=!1,this._removed||y.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));this._data=y.data;let w=null;y.resourceTiming&&y.resourceTiming[this.id]&&(w=y.resourceTiming[this.id].slice(0));let M={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&o.e(M,{resourceTiming:w}),this.fire(new o.l("data",Object.assign(Object.assign({},M),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},M),{sourceDataType:"content"})))}catch(y){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(y))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}})}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.actor?"RT":"LT";a.actor=this.actor;let m={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};a.abortController=new AbortController;let y=yield this.actor.sendAsync({type:f,data:m},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(y,this.map.painter,f==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class tr extends o.E{constructor(a,f,m,y){super(),this.flippedWindingOrder=!1,this.id=a,this.dispatcher=m,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=f}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let f=yield j.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,a&&(this.coordinates=a),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new o.k(f))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let f=a.map(o.a1.fromLngLat);var m;return this.tileID=function(y){let w=o.a2.fromPoints(y),M=w.width(),k=w.height(),D=Math.max(M,k),B=Math.max(0,Math.floor(-Math.log(D)/Math.LN2)),V=Math.pow(2,B);return new o.a4(B,Math.floor((w.minX+w.maxX)/2*V),Math.floor((w.minY+w.maxY)/2*V))}(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map(y=>this.tileID.getTilePoint(y)._round()),this.flippedWindingOrder=((m=this.tileCoords)[1].x-m[0].x)*(m[2].y-m[0].y)-(m[1].y-m[0].y)*(m[2].x-m[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,f=a.gl;this.texture||(this.texture=new o.T(a,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let m=!1;for(let y in this.tiles){let w=this.tiles[y];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(a){let{minX:f,minY:m,maxX:y,maxY:w}=o.a2.fromPoints(a),M={};for(let k=0;k<=o.a3;k++){let D=Math.pow(2,k),B=Math.floor(f*D),V=Math.floor(m*D),W=Math.floor(y*D),G=Math.floor(w*D);M[k]={minTileX:B,minTileY:V,maxTileX:W,maxTileY:G}}return M}}class Sr extends tr{constructor(a,f,m,y){super(a,f,m,y),this.roundZoom=!0,this.type="video",this.options=f}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let f of a.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{let f=yield o.a5(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new o.k(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let f=this.video.seekable;a<f.start(0)||a>f.end(0)?this.fire(new o.k(new o.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,f=a.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(a,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let m=!1;for(let y in this.tiles){let w=this.tiles[y];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class kr extends tr{constructor(a,f,m,y){super(a,f,m,y),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(w=>!Array.isArray(w)||w.length!==2||w.some(M=>typeof M!="number"))||this.fire(new o.k(new o.a6(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.k(new o.a6(`sources.${a}`,null,"missing required property \"coordinates\""))),f.animate&&typeof f.animate!="boolean"&&this.fire(new o.k(new o.a6(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a6(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.k(new o.a6(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let f=this.map.painter.context,m=f.gl;this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.T(f,this.canvas,m.RGBA,{premultiply:!0});let y=!1;for(let w in this.tiles){let M=this.tiles[w];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture,y=!0)}y&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let pr={},Er=x=>{switch(x){case"geojson":return Rt;case"image":return tr;case"raster":return Zt;case"raster-dem":return Tt;case"vector":return At;case"video":return Sr;case"canvas":return kr}return pr[x]},Ae="RTLPluginLoaded";class We extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ve()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(f=>{throw this.status="error",f})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(f,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=E.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Ae))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ze=null;function Ct(){return Ze||(Ze=new We),Ze}class zt{constructor(a,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a7(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let f=a+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,f,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(y,w){let M={};if(!w)return M;for(let k of y){let D=k.layerIds.map(B=>w.getLayer(B)).filter(Boolean);if(D.length!==0){k.layers=D,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map(B=>D.filter(V=>V.id===B)[0]));for(let B of D)M[B.id]=k}}return M}(a.buckets,f==null?void 0:f.style),this.hasSymbolBuckets=!1;for(let y in this.buckets){let w=this.buckets[y];if(w instanceof o.a9){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let y in this.buckets){let w=this.buckets[y];if(w instanceof o.a9&&w.hasRTLText){this.hasRTLText=!0,Ct().lazyLoad();break}}this.queryPadding=0;for(let y in this.buckets){let w=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(y).queryRadius(w))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a8}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let m in this.buckets){let y=this.buckets[m];y.uploadPending()&&y.upload(a)}let f=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new o.T(a,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new o.T(a,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,f,m,y,w,M,k,D,B,V,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:w,scale:M,tileSize:this.tileSize,pixelPosMatrix:V,transform:D,params:k,queryPadding:this.queryPadding*B,getElevation:W},a,f,m):{}}querySourceFeatures(a,f){let m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;let y=m.loadVTLayers(),w=f&&f.sourceLayer?f.sourceLayer:"",M=y._geojsonTileLayer||y[w];if(!M)return;let k=o.aa(f&&f.filter),{z:D,x:B,y:V}=this.tileID.canonical,W={z:D,x:B,y:V};for(let G=0;G<M.length;G++){let K=M.feature(G);if(k.needGeometry){let ce=o.ab(K,!0);if(!k.filter(new o.F(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!k.filter(new o.F(this.tileID.overscaledZ),K))continue;let te=m.getId(K,w),pe=new o.ac(K,D,B,V,te);pe.tile=W,a.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let f=this.expirationTime;if(a.cacheControl){let m=o.ad(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let m=Date.now(),y=!1;if(this.expirationTime>m)y=!1;else if(f){if(this.expirationTime<f)y=!0;else{let w=this.expirationTime-f;w?this.expirationTime=m+Math.max(w,3e4):y=!0}}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let m=this.latestFeatureIndex.loadVTLayers();for(let y in this.buckets){if(!f.style.hasLayer(y))continue;let w=this.buckets[y],M=w.layers[0].sourceLayer||"_geojsonTileLayer",k=m[M],D=a[M];if(!k||!D||Object.keys(D).length===0)continue;w.update(D,k,this.imageAtlas&&this.imageAtlas.patternPositions||{});let B=f&&f.style&&f.style.getLayer(y);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(w)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=E.now()+a}setDependencies(a,f){let m={};for(let y of f)m[y]=!0;this.dependencies[a]=m}hasDependency(a,f){for(let m of a){let y=this.dependencies[m];if(y){for(let w of f)if(y[w])return!0}}return!1}}class me{constructor(a,f){this.max=a,this.onRemove=f,this.reset()}reset(){for(let a in this.data)for(let f of this.data[a])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(a,f,m){let y=a.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);let w={value:f,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(a,w)},m)),this.data[y].push(w),this.order.push(y),this.order.length>this.max){let M=this._getAndRemoveByKey(this.order[0]);M&&this.onRemove(M)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let f=this.data[a].shift();return f.timeout&&clearTimeout(f.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),f.value}getByKey(a){let f=this.data[a];return f?f[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,f){if(!this.has(a))return this;let m=a.wrapped().key,y=f===void 0?0:this.data[m].indexOf(f),w=this.data[m][y];return this.data[m].splice(y,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(a){let f=[];for(let m in this.data)for(let y of this.data[m])a(y.value)||f.push(y);for(let m of f)this.remove(m.value.tileID,m)}}class X{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,f,m){let y=String(f);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][y]=this.stateChanges[a][y]||{},o.e(this.stateChanges[a][y],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(let w in this.state[a])w!==y&&(this.deletedStates[a][w]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][y]===null){this.deletedStates[a][y]={};for(let w in this.state[a][y])m[w]||(this.deletedStates[a][y][w]=null)}else for(let w in m)this.deletedStates[a]&&this.deletedStates[a][y]&&this.deletedStates[a][y][w]===null&&delete this.deletedStates[a][y][w]}removeFeatureState(a,f,m){if(this.deletedStates[a]===null)return;let y=String(f);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&f!==void 0)this.deletedStates[a][y]!==null&&(this.deletedStates[a][y]=this.deletedStates[a][y]||{},this.deletedStates[a][y][m]=null);else if(f!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][y])for(m in this.deletedStates[a][y]={},this.stateChanges[a][y])this.deletedStates[a][y][m]=null;else this.deletedStates[a][y]=null;}else this.deletedStates[a]=null}getState(a,f){let m=String(f),y=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let w=this.deletedStates[a][f];if(w===null)return{};for(let M in w)delete y[M]}return y}initializeTileState(a,f){a.setFeatureState(this.state,f)}coalesceChanges(a,f){let m={};for(let y in this.stateChanges){this.state[y]=this.state[y]||{};let w={};for(let M in this.stateChanges[y])this.state[y][M]||(this.state[y][M]={}),o.e(this.state[y][M],this.stateChanges[y][M]),w[M]=this.state[y][M];m[y]=w}for(let y in this.deletedStates){this.state[y]=this.state[y]||{};let w={};if(this.deletedStates[y]===null)for(let M in this.state[y])w[M]={},this.state[y][M]={};else for(let M in this.deletedStates[y]){if(this.deletedStates[y][M]===null)this.state[y][M]={};else for(let k of Object.keys(this.deletedStates[y][M]))delete this.state[y][M][k];w[M]=this.state[y][M]}m[y]=m[y]||{},o.e(m[y],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(let y in a)a[y].setFeatureState(m,f)}}let ee=89.25;function ae(x,a){let f=o.ah(a.lat,-o.ai,o.ai);return new o.P(o.V(a.lng)*x,o.U(f)*x)}function ge(x,a){return new o.a1(a.x/x,a.y/x).toLngLat()}function Ne(x){return x.cameraToCenterDistance*Math.min(.85*Math.tan(o.ae(90-x.pitch)),Math.tan(o.ae(ee-x.pitch)))}function Be(x,a){let f=x.canonical,m=a/o.af(f.z),y=f.x+Math.pow(2,f.z)*x.wrap,w=o.ag(new Float64Array(16));return o.M(w,w,[y*m,f.y*m,0]),o.N(w,w,[m/o.$,m/o.$,1]),w}function Xe(x,a,f,m,y){let w=o.a1.fromLngLat(x,a),M=y*o.aj(1,x.lat),k=M*Math.cos(o.ae(f)),D=Math.sqrt(M*M-k*k),B=D*Math.sin(o.ae(-m)),V=D*Math.cos(o.ae(-m));return new o.a1(w.x+B,w.y+V,w.z+k)}function Ue(x,a,f){let m=a.intersectsFrustum(x);if(!f||m===0)return m;let y=a.intersectsPlane(f);return y===0?0:m===2&&y===2?2:1}function he(x,a,f){let m=0,y=(f-a)/10;for(let w=0;w<10;w++)m+=y*Math.pow(Math.cos(a+(w+.5)/10*(f-a)),x);return m}function ve(x,a){return function(f,m,y,w,M){let k=2*((x-1)/o.ak(Math.cos(o.ae(ee-M))/Math.cos(o.ae(ee)))-1),D=Math.acos(y/w),B=2*he(k-1,0,o.ae(M/2)),V=Math.min(o.ae(ee),D+o.ae(M/2)),W=he(k-1,Math.min(V,D-o.ae(M/2)),V),G=Math.atan(m/y),K=Math.hypot(m,y),te=f;return te+=o.ak(w/K/Math.max(.5,Math.cos(o.ae(M/2)))),te+=k*o.ak(Math.cos(G))/2,te-=o.ak(Math.max(1,W/B/a))/2,te}}let qe=ve(9.314,3);function ft(x,a){let f=(a.roundZoom?Math.round:Math.floor)(x.zoom+o.ak(x.tileSize/a.tileSize));return Math.max(0,f)}function Se(x,a){let f=x.getCameraFrustum(),m=x.getClippingPlane(),y=x.screenPointToMercatorCoordinate(x.getCameraPoint()),w=o.a1.fromLngLat(x.center,x.elevation);y.z=w.z+Math.cos(x.pitchInRadians)*x.cameraToCenterDistance/x.worldSize;let M=x.getCoveringTilesDetailsProvider(),k=M.allowVariableZoom(x,a),D=ft(x,a),B=a.minzoom||0,V=a.maxzoom!==void 0?a.maxzoom:x.maxZoom,W=Math.min(Math.max(0,D),V),G=Math.pow(2,W),K=[G*y.x,G*y.y,0],te=[G*w.x,G*w.y,0],pe=Math.hypot(w.x-y.x,w.y-y.y),ce=Math.abs(w.z-y.z),fe=Math.hypot(pe,ce),be=De=>({zoom:0,x:0,y:0,wrap:De,fullyVisible:!1}),Ce=[],Ee=[];if(x.renderWorldCopies&&M.allowWorldCopies())for(let De=1;De<=3;De++)Ce.push(be(-De)),Ce.push(be(De));for(Ce.push(be(0));Ce.length>0;){let De=Ce.pop(),Le=De.x,Te=De.y,Ge=De.fullyVisible,it={x:Le,y:Te,z:De.zoom},Qe=M.getTileBoundingVolume(it,De.wrap,x.elevation,a);if(!Ge){let Dt=Ue(f,Qe,m);if(Dt===0)continue;Ge=Dt===2}let Je=M.distanceToTile2d(y.x,y.y,it,Qe),nt=D;k&&(nt=(a.calculateTileZoom||qe)(x.zoom+o.ak(x.tileSize/a.tileSize),Je,ce,fe,x.fov)),nt=(a.roundZoom?Math.round:Math.floor)(nt),nt=Math.max(0,nt);let Pt=Math.min(nt,V);if(De.wrap=M.getWrap(w,it,De.wrap),De.zoom>=Pt){if(De.zoom<B)continue;let Dt=W-De.zoom,bt=K[0]-.5-(Le<<Dt),ar=K[1]-.5-(Te<<Dt),Gr=a.reparseOverscaled?Math.max(De.zoom,nt):De.zoom;Ee.push({tileID:new o.Z(De.zoom===V?Gr:De.zoom,De.wrap,De.zoom,Le,Te),distanceSq:o.al([te[0]-.5-Le,te[1]-.5-Te]),tileDistanceToCamera:Math.sqrt(bt*bt+ar*ar)})}else for(let Dt=0;Dt<4;Dt++)Ce.push({zoom:De.zoom+1,x:(Le<<1)+Dt%2,y:(Te<<1)+(Dt>>1),wrap:De.wrap,fullyVisible:Ge})}return Ee.sort((De,Le)=>De.distanceSq-Le.distanceSq).map(De=>De.tileID)}let wt=o.a2.fromPoints([new o.P(0,0),new o.P(o.$,o.$)]);class Gt extends o.E{constructor(a,f,m){super(),this.id=a,this.dispatcher=m,this.on("data",y=>this._dataHandler(y)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,w,M,k)=>{let D=new(Er(w.type))(y,w,M,k);if(D.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${D.id}`);return D})(a,f,m,this),this._tiles={},this._cache=new me(0,y=>this._unloadTile(y)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new X,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let f=this._tiles[a];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,f,m){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,f,m)}catch(y){a.state="errored",y.status!==404?this._source.fire(new o.k(y,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.l("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let f in this._tiles){let m=this._tiles[f];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Et).map(a=>a.key)}getRenderableIds(a){let f=[];for(let m in this._tiles)this._isIdRenderable(m,a)&&f.push(this._tiles[m]);return a?f.sort((m,y)=>{let w=m.tileID,M=y.tileID,k=new o.P(w.canonical.x,w.canonical.y)._rotate(-this.transform.bearingInRadians),D=new o.P(M.canonical.x,M.canonical.y)._rotate(-this.transform.bearingInRadians);return w.overscaledZ-M.overscaledZ||D.y-k.y||D.x-k.x}).map(m=>m.tileID.key):f.map(m=>m.tileID).sort(Et).map(m=>m.key)}hasRenderableParent(a){let f=this.findLoadedParent(a,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(a,f){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(f||!this._tiles[a].holdingForFade())}reload(a){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let f in this._tiles)a?this._reloadTile(f,"expired"):this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")}}_reloadTile(a,f){return o._(this,void 0,void 0,function*(){let m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=f),yield this._loadTile(m,a,f))})}_tileLoaded(a,f,m){a.timeAdded=E.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(f,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let f=this.getRenderableIds();for(let y=0;y<f.length;y++){let w=f[y];if(a.neighboringTiles&&a.neighboringTiles[w]){let M=this.getTileByID(w);m(a,M),m(M,a)}}function m(y,w){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let M=w.tileID.canonical.x-y.tileID.canonical.x,k=w.tileID.canonical.y-y.tileID.canonical.y,D=Math.pow(2,y.tileID.canonical.z),B=w.tileID.key;M===0&&k===0||Math.abs(k)>1||(Math.abs(M)>1&&(Math.abs(M+D)===1?M+=D:Math.abs(M-D)===1&&(M-=D)),w.dem&&y.dem&&(y.dem.backfillBorder(w.dem,M,k),y.neighboringTiles&&y.neighboringTiles[B]&&(y.neighboringTiles[B].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,f,m,y){for(let w in this._tiles){let M=this._tiles[w];if(y[w]||!M.hasData()||M.tileID.overscaledZ<=f||M.tileID.overscaledZ>m)continue;let k=M.tileID;for(;M&&M.tileID.overscaledZ>f+1;){let B=M.tileID.scaledTo(M.tileID.overscaledZ-1);M=this._tiles[B.key],M&&M.hasData()&&(k=B)}let D=k;for(;D.overscaledZ>f;)if(D=D.scaledTo(D.overscaledZ-1),a[D.key]||a[D.canonical.key]){y[k.key]=k;break}}}findLoadedParent(a,f){if(a.key in this._loadedParentTiles){let m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=f?m:null}for(let m=a.overscaledZ-1;m>=f;m--){let y=a.scaledTo(m),w=this._getLoadedTile(y);if(w)return w}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let f=this._tiles[a.key];return f&&f.hasData()?f:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let f=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,y=Math.floor(f*m*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(w)}handleWrapJump(a){let f=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,f){let m={};for(let y in this._tiles){let w=this._tiles[y];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+f),m[w.tileID.key]=w}this._tiles=m;for(let y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(let y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}_updateCoveredAndRetainedTiles(a,f,m,y,w,M){let k={},D={},B=Object.keys(a),V=E.now();for(let W of B){let G=a[W],K=this._tiles[W];if(!K||K.fadeEndTime!==0&&K.fadeEndTime<=V)continue;let te=this.findLoadedParent(G,f),pe=this.findLoadedSibling(G),ce=te||pe||null;ce&&(this._addTile(ce.tileID),k[ce.tileID.key]=ce.tileID),D[W]=G}this._retainLoadedChildren(D,y,m,a);for(let W in k)a[W]||(this._coveredTiles[W]=!0,a[W]=k[W]);if(M){let W={},G={};for(let K of w)this._tiles[K.key].hasData()?W[K.key]=K:G[K.key]=K;for(let K in G){let te=G[K].children(this._source.maxzoom);this._tiles[te[0].key]&&this._tiles[te[1].key]&&this._tiles[te[2].key]&&this._tiles[te[3].key]&&(W[te[0].key]=a[te[0].key]=te[0],W[te[1].key]=a[te[1].key]=te[1],W[te[2].key]=a[te[2].key]=te[2],W[te[3].key]=a[te[3].key]=te[3],delete G[K])}for(let K in G){let te=G[K],pe=this.findLoadedParent(te,this._source.minzoom),ce=this.findLoadedSibling(te),fe=pe||ce||null;if(fe){W[fe.tileID.key]=a[fe.tileID.key]=fe.tileID;for(let be in W)W[be].isChildOf(fe.tileID)&&delete W[be]}}for(let K in this._tiles)W[K]||(this._coveredTiles[K]=!0)}}update(a,f){if(!this._sourceLoaded||this._paused)return;let m;this.transform=a,this.terrain=f,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.Z(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(m=Se(a,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(m=m.filter(V=>this._source.hasTile(V)))):m=[];let y=ft(a,this._source),w=Math.max(y-Gt.maxOverzooming,this._source.minzoom),M=Math.max(y+Gt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let W of m)if(W.canonical.z>this._source.minzoom){let G=W.scaledTo(W.canonical.z-1);V[G.key]=G;let K=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));V[K.key]=K}m=m.concat(Object.values(V))}let k=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,k&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let D=this._updateRetainedTiles(m,y);Lt(this._source.type)&&this._updateCoveredAndRetainedTiles(D,w,M,y,m,f);for(let V in D)this._tiles[V].clearFadeHold();let B=o.am(this._tiles,D);for(let V of B){let W=this._tiles[V];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,f){var m;let y={},w={},M=Math.max(f-Gt.maxOverzooming,this._source.minzoom),k=Math.max(f+Gt.maxUnderzooming,this._source.minzoom),D={};for(let B of a){let V=this._addTile(B);y[B.key]=B,V.hasData()||f<this._source.maxzoom&&(D[B.key]=B)}this._retainLoadedChildren(D,f,k,y);for(let B of a){let V=this._tiles[B.key];if(V.hasData())continue;if(f+1>this._source.maxzoom){let G=B.children(this._source.maxzoom)[0],K=this.getTile(G);if(K&&K.hasData()){y[G.key]=G;continue}}else{let G=B.children(this._source.maxzoom);if(y[G[0].key]&&y[G[1].key]&&y[G[2].key]&&y[G[3].key])continue}let W=V.wasRequested();for(let G=B.overscaledZ-1;G>=M;--G){let K=B.scaledTo(G);if(w[K.key])break;if(w[K.key]=!0,V=this.getTile(K),!V&&W&&(V=this._addTile(K)),V){let te=V.hasData();if((te||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||W)&&(y[K.key]=K),W=V.wasRequested(),te)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let f=[],m,y=this._tiles[a].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){m=this._loadedParentTiles[y.key];break}f.push(y.key);let w=y.scaledTo(y.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;y=w}for(let w of f)this._loadedParentTiles[w]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let f=this._tiles[a].tileID,m=this._getLoadedTile(f);this._loadedSiblingTiles[f.key]=m}}_addTile(a){let f=this._tiles[a.key];if(f)return f;f=this._cache.getAndRemove(a),f&&(this._setTileReloadTimer(a.key,f),f.tileID=a,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,f)));let m=f;return f||(f=new zt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(f,a.key,f.state)),f.uses++,this._tiles[a.key]=f,m||this._source.fire(new o.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(a,f){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let m=f.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}refreshTiles(a){for(let f in this._tiles)(this._isIdRenderable(f)||this._tiles[f].state=="errored")&&a.some(m=>m.equals(this._tiles[f].tileID.canonical))&&this._reloadTile(f,"expired")}_removeTile(a){let f=this._tiles[a];f&&(f.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(a){let f=a.sourceDataType;a.dataType==="source"&&f==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&f==="content"&&(this.reload(a.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,f,m){let y=[],w=this.transform;if(!w)return y;let M=w.getCoveringTilesDetailsProvider().allowWorldCopies(),k=m?w.getCameraQueryGeometry(a):a,D=K=>w.screenPointToMercatorCoordinate(K,this.terrain),B=this.transformBbox(a,D,!M),V=this.transformBbox(k,D,!M),W=this.getIds(),G=o.a2.fromPoints(V);for(let K=0;K<W.length;K++){let te=this._tiles[W[K]];if(te.holdingForFade())continue;let pe=M?[te.tileID]:[te.tileID.unwrapTo(-1),te.tileID.unwrapTo(0)],ce=Math.pow(2,w.zoom-te.tileID.overscaledZ),fe=f*te.queryPadding*o.$/te.tileSize/ce;for(let be of pe){let Ce=G.map(Ee=>be.getTilePoint(new o.a1(Ee.x,Ee.y)));if(Ce.expandBy(fe),Ce.intersects(wt)){let Ee=B.map(Le=>be.getTilePoint(Le)),De=V.map(Le=>be.getTilePoint(Le));y.push({tile:te,tileID:M?be:be.unwrapTo(0),queryGeometry:Ee,cameraQueryGeometry:De,scale:ce})}}}return y}transformBbox(a,f,m){let y=a.map(f);if(m){let w=o.a2.fromPoints(a);w.shrinkBy(.001*Math.min(w.width(),w.height()));let M=w.map(f);o.a2.fromPoints(y).covers(M)||(y=y.map(k=>k.x>.5?new o.a1(k.x-1,k.y,k.z):k))}return y}getVisibleCoordinates(a){let f=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(Lt(this._source.type)){let a=E.now();for(let f in this._tiles)if(this._tiles[f].fadeEndTime>=a)return!0}return!1}setFeatureState(a,f,m){this._state.updateState(a=a||"_geojsonTileLayer",f,m)}removeFeatureState(a,f,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",f,m)}getFeatureState(a,f){return this._state.getState(a=a||"_geojsonTileLayer",f)}setDependencies(a,f,m){let y=this._tiles[a];y&&y.setDependencies(f,m)}reloadTilesForDependencies(a,f){for(let m in this._tiles)this._tiles[m].hasDependency(a,f)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,f))}}function Et(x,a){let f=Math.abs(2*x.wrap)-+(x.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return x.overscaledZ-a.overscaledZ||m-f||a.canonical.y-x.canonical.y||a.canonical.x-x.canonical.x}function Lt(x){return x==="raster"||x==="image"||x==="video"}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;class ur{constructor(a,f){this.reset(a,f)}reset(a,f){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ah(a,0,1);let f=1,m=this._distances[f],y=a*this.paddedLength+this.padding;for(;m<y&&f<this._distances.length;)m=this._distances[++f];let w=f-1,M=this._distances[w],k=m-M,D=k>0?(y-M)/k:0;return this.points[w].mult(1-D).add(this.points[f].mult(D))}}function Wr(x,a){let f=!0;return x==="always"||x!=="never"&&a!=="never"||(f=!1),f}class In{constructor(a,f,m){let y=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(f/m);for(let M=0;M<this.xCellCount*this.yCellCount;M++)y.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=f,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,f,m,y,w){this._forEachCell(f,m,y,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(y),this.bboxes.push(w)}insertCircle(a,f,m,y){this._forEachCell(f-y,m-y,f+y,m+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(f),this.circles.push(m),this.circles.push(y)}_insertBoxCell(a,f,m,y,w,M){this.boxCells[w].push(M)}_insertCircleCell(a,f,m,y,w,M){this.circleCells[w].push(M)}_query(a,f,m,y,w,M,k){if(m<0||a>this.width||y<0||f>this.height)return[];let D=[];if(a<=0&&f<=0&&this.width<=m&&this.height<=y){if(w)return[{key:null,x1:a,y1:f,x2:m,y2:y}];for(let B=0;B<this.boxKeys.length;B++)D.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){let V=this.circles[3*B],W=this.circles[3*B+1],G=this.circles[3*B+2];D.push({key:this.circleKeys[B],x1:V-G,y1:W-G,x2:V+G,y2:W+G})}}else this._forEachCell(a,f,m,y,this._queryCell,D,{hitTest:w,overlapMode:M,seenUids:{box:{},circle:{}}},k);return D}query(a,f,m,y){return this._query(a,f,m,y,!1,null)}hitTest(a,f,m,y,w,M){return this._query(a,f,m,y,!0,w,M).length>0}hitTestCircle(a,f,m,y,w){let M=a-m,k=a+m,D=f-m,B=f+m;if(k<0||M>this.width||B<0||D>this.height)return!1;let V=[];return this._forEachCell(M,D,k,B,this._queryCellCircle,V,{hitTest:!0,overlapMode:y,circle:{x:a,y:f,radius:m},seenUids:{box:{},circle:{}}},w),V.length>0}_queryCell(a,f,m,y,w,M,k,D){let{seenUids:B,hitTest:V,overlapMode:W}=k,G=this.boxCells[w];if(G!==null){let te=this.bboxes;for(let pe of G)if(!B.box[pe]){B.box[pe]=!0;let ce=4*pe,fe=this.boxKeys[pe];if(a<=te[ce+2]&&f<=te[ce+3]&&m>=te[ce+0]&&y>=te[ce+1]&&(!D||D(fe))&&(!V||!Wr(W,fe.overlapMode))&&(M.push({key:fe,x1:te[ce],y1:te[ce+1],x2:te[ce+2],y2:te[ce+3]}),V))return!0}}let K=this.circleCells[w];if(K!==null){let te=this.circles;for(let pe of K)if(!B.circle[pe]){B.circle[pe]=!0;let ce=3*pe,fe=this.circleKeys[pe];if(this._circleAndRectCollide(te[ce],te[ce+1],te[ce+2],a,f,m,y)&&(!D||D(fe))&&(!V||!Wr(W,fe.overlapMode))){let be=te[ce],Ce=te[ce+1],Ee=te[ce+2];if(M.push({key:fe,x1:be-Ee,y1:Ce-Ee,x2:be+Ee,y2:Ce+Ee}),V)return!0}}}return!1}_queryCellCircle(a,f,m,y,w,M,k,D){let{circle:B,seenUids:V,overlapMode:W}=k,G=this.boxCells[w];if(G!==null){let te=this.bboxes;for(let pe of G)if(!V.box[pe]){V.box[pe]=!0;let ce=4*pe,fe=this.boxKeys[pe];if(this._circleAndRectCollide(B.x,B.y,B.radius,te[ce+0],te[ce+1],te[ce+2],te[ce+3])&&(!D||D(fe))&&!Wr(W,fe.overlapMode))return M.push(!0),!0}}let K=this.circleCells[w];if(K!==null){let te=this.circles;for(let pe of K)if(!V.circle[pe]){V.circle[pe]=!0;let ce=3*pe,fe=this.circleKeys[pe];if(this._circlesCollide(te[ce],te[ce+1],te[ce+2],B.x,B.y,B.radius)&&(!D||D(fe))&&!Wr(W,fe.overlapMode))return M.push(!0),!0}}}_forEachCell(a,f,m,y,w,M,k,D){let B=this._convertToXCellCoord(a),V=this._convertToYCellCoord(f),W=this._convertToXCellCoord(m),G=this._convertToYCellCoord(y);for(let K=B;K<=W;K++)for(let te=V;te<=G;te++)if(w.call(this,a,f,m,y,this.xCellCount*te+K,M,k,D))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,f,m,y,w,M){let k=y-a,D=w-f,B=m+M;return B*B>k*k+D*D}_circleAndRectCollide(a,f,m,y,w,M,k){let D=(M-y)/2,B=Math.abs(a-(y+D));if(B>D+m)return!1;let V=(k-w)/2,W=Math.abs(f-(w+V));if(W>V+m)return!1;if(B<=D||W<=V)return!0;let G=B-D,K=W-V;return G*G+K*K<=m*m}}function un(x,a,f){let m=o.L();if(!x){let{vecSouth:W,vecEast:G}=qr(a),K=d();K[0]=G[0],K[1]=G[1],K[2]=W[0],K[3]=W[1],y=K,(V=(M=(w=K)[0])*(B=w[3])-(D=w[2])*(k=w[1]))&&(y[0]=B*(V=1/V),y[1]=-k*V,y[2]=-D*V,y[3]=M*V),m[0]=K[0],m[1]=K[1],m[4]=K[2],m[5]=K[3]}var y,w,M,k,D,B,V;return o.N(m,m,[1/f,1/f,1]),m}function Pr(x,a,f,m){if(x){let y=o.L();if(!a){let{vecSouth:w,vecEast:M}=qr(f);y[0]=M[0],y[1]=M[1],y[4]=w[0],y[5]=w[1]}return o.N(y,y,[m,m,1]),y}return f.pixelsToClipSpaceMatrix}function qr(x){let a=Math.cos(x.rollInRadians),f=Math.sin(x.rollInRadians),m=Math.cos(x.pitchInRadians),y=Math.cos(x.bearingInRadians),w=Math.sin(x.bearingInRadians),M=o.ar();M[0]=-y*m*f-w*a,M[1]=-w*m*f+y*a;let k=o.as(M);k<1e-9?o.at(M):o.au(M,M,1/k);let D=o.ar();D[0]=y*m*a-w*f,D[1]=w*m*a+y*f;let B=o.as(D);return B<1e-9?o.at(D):o.au(D,D,1/B),{vecEast:D,vecSouth:M}}function ei(x,a,f,m){let y;m?(y=[x,a,m(x,a),1],o.aw(y,y,f)):(y=[x,a,0,1],wd(y,y,f));let w=y[3];return{point:new o.P(y[0]/w,y[1]/w),signedDistanceFromCamera:w,isOccluded:!1}}function Mt(x,a){return .5+x/a*.5}function Oi(x,a){return x.x>=-a[0]&&x.x<=a[0]&&x.y>=-a[1]&&x.y<=a[1]}function $n(x,a,f,m,y,w,M,k,D,B,V,W,G){let K=f?x.textSizeData:x.iconSizeData,te=o.an(K,a.transform.zoom),pe=[256/a.width*2+1,256/a.height*2+1],ce=f?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;ce.clear();let fe=x.lineVertexArray,be=f?x.text.placedSymbolArray:x.icon.placedSymbolArray,Ce=a.transform.width/a.transform.height,Ee=!1;for(let De=0;De<be.length;De++){let Le=be.get(De);if(Le.hidden||Le.writingMode===o.ao.vertical&&!Ee){Hl(Le.numGlyphs,ce);continue}Ee=!1;let Te=new o.P(Le.anchorX,Le.anchorY),Ge={getElevation:G,pitchedLabelPlaneMatrix:m,lineVertexArray:fe,pitchWithMap:w,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:a.transform,tileAnchorPoint:Te,unwrappedTileID:D,width:B,height:V,translation:W},it=jc(Le.anchorX,Le.anchorY,Ge);if(!Oi(it.point,pe)){Hl(Le.numGlyphs,ce);continue}let Qe=Mt(a.transform.cameraToCenterDistance,it.signedDistanceFromCamera),Je=o.ap(K,te,Le),nt=w?Je*a.transform.getPitchedTextCorrection(Le.anchorX,Le.anchorY,D)/Qe:Je*Qe,Pt=Ht({projectionContext:Ge,pitchedLabelPlaneMatrixInverse:y,symbol:Le,fontSize:nt,flip:!1,keepUpright:M,glyphOffsetArray:x.glyphOffsetArray,dynamicLayoutVertexArray:ce,aspectRatio:Ce,rotateToLine:k});Ee=Pt.useVertical,(Pt.notEnoughRoom||Ee||Pt.needsFlipping&&Ht({projectionContext:Ge,pitchedLabelPlaneMatrixInverse:y,symbol:Le,fontSize:nt,flip:!0,keepUpright:M,glyphOffsetArray:x.glyphOffsetArray,dynamicLayoutVertexArray:ce,aspectRatio:Ce,rotateToLine:k}).notEnoughRoom)&&Hl(Le.numGlyphs,ce)}f?x.text.dynamicLayoutVertexBuffer.updateData(ce):x.icon.dynamicLayoutVertexBuffer.updateData(ce)}function zc(x,a,f,m,y,w,M,k){let D=w.glyphStartIndex+w.numGlyphs,B=w.lineStartIndex,V=w.lineStartIndex+w.lineLength,W=a.getoffsetX(w.glyphStartIndex),G=a.getoffsetX(D-1),K=Fc(x*W,f,m,y,w.segment,B,V,k,M);if(!K)return null;let te=Fc(x*G,f,m,y,w.segment,B,V,k,M);return te?k.projectionCache.anyProjectionOccluded?null:{first:K,last:te}:null}function xd(x,a,f,m){return x===o.ao.horizontal&&Math.abs(f.y-a.y)>Math.abs(f.x-a.x)*m?{useVertical:!0}:(x===o.ao.vertical?a.y<f.y:a.x>f.x)?{needsFlipping:!0}:null}function Ht(x){let{projectionContext:a,pitchedLabelPlaneMatrixInverse:f,symbol:m,fontSize:y,flip:w,keepUpright:M,glyphOffsetArray:k,dynamicLayoutVertexArray:D,aspectRatio:B,rotateToLine:V}=x,W=y/24,G=m.lineOffsetX*W,K=m.lineOffsetY*W,te;if(m.numGlyphs>1){let pe=m.glyphStartIndex+m.numGlyphs,ce=m.lineStartIndex,fe=m.lineStartIndex+m.lineLength,be=zc(W,k,G,K,w,m,V,a);if(!be)return{notEnoughRoom:!0};let Ce=Qp(be.first.point.x,be.first.point.y,a,f),Ee=Qp(be.last.point.x,be.last.point.y,a,f);if(M&&!w){let De=xd(m.writingMode,Ce,Ee,B);if(De)return De}te=[be.first];for(let De=m.glyphStartIndex+1;De<pe-1;De++){let Le=Fc(W*k.getoffsetX(De),G,K,w,m.segment,ce,fe,a,V);if(!Le)return{notEnoughRoom:!0};te.push(Le)}te.push(be.last)}else{if(M&&!w){let ce=Oo(a.tileAnchorPoint.x,a.tileAnchorPoint.y,a).point,fe=m.lineStartIndex+m.segment+1,be=new o.P(a.lineVertexArray.getx(fe),a.lineVertexArray.gety(fe)),Ce=Oo(be.x,be.y,a),Ee=Ce.signedDistanceFromCamera>0?Ce.point:on(a.tileAnchorPoint,be,ce,1,a),De=Qp(ce.x,ce.y,a,f),Le=Qp(Ee.x,Ee.y,a,f),Te=xd(m.writingMode,De,Le,B);if(Te)return Te}let pe=Fc(W*k.getoffsetX(m.glyphStartIndex),G,K,w,m.segment,m.lineStartIndex,m.lineStartIndex+m.lineLength,a,V);if(!pe||a.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};te=[pe]}for(let pe of te)o.av(D,pe.point,pe.angle);return{}}function on(x,a,f,m,y){let w=x.add(x.sub(a)._unit()),M=Oo(w.x,w.y,y).point,k=f.sub(M);return f.add(k._mult(m/k.mag()))}function Zr(x,a,f){let m=a.projectionCache;if(m.projections[x])return m.projections[x];let y=new o.P(a.lineVertexArray.getx(x),a.lineVertexArray.gety(x)),w=Oo(y.x,y.y,a);if(w.signedDistanceFromCamera>0)return m.projections[x]=w.point,m.anyProjectionOccluded=m.anyProjectionOccluded||w.isOccluded,w.point;let M=x-f.direction;return on(f.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(M),a.lineVertexArray.gety(M)),y,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,a)}function Oo(x,a,f){let m=x+f.translation[0],y=a+f.translation[1],w;return f.pitchWithMap?(w=ei(m,y,f.pitchedLabelPlaneMatrix,f.getElevation),w.isOccluded=!1):(w=f.transform.projectTileCoordinates(m,y,f.unwrappedTileID,f.getElevation),w.point.x=(.5*w.point.x+.5)*f.width,w.point.y=(.5*-w.point.y+.5)*f.height),w}function Qp(x,a,f,m){if(f.pitchWithMap){let y=[x,a,0,1];return o.aw(y,y,m),f.transform.projectTileCoordinates(y[0]/y[3],y[1]/y[3],f.unwrappedTileID,f.getElevation).point}return{x:x/f.width*2-1,y:1-a/f.height*2}}function jc(x,a,f){return f.transform.projectTileCoordinates(x,a,f.unwrappedTileID,f.getElevation)}function $r(x,a,f){return x._unit()._perp()._mult(a*f)}function Kv(x,a,f,m,y,w,M,k,D){if(k.projectionCache.offsets[x])return k.projectionCache.offsets[x];let B=f.add(a);if(x+D.direction<m||x+D.direction>=y)return k.projectionCache.offsets[x]=B,B;let V=Zr(x+D.direction,k,D),W=$r(V.sub(f),M,D.direction),G=f.add(W),K=V.add(W);return k.projectionCache.offsets[x]=o.ax(w,B,G,K)||B,k.projectionCache.offsets[x]}function Fc(x,a,f,m,y,w,M,k,D){let B=m?x-a:x+a,V=B>0?1:-1,W=0;m&&(V*=-1,W=Math.PI),V<0&&(W+=Math.PI);let G,K=V>0?w+y:w+y+1;k.projectionCache.cachedAnchorPoint?G=k.projectionCache.cachedAnchorPoint:(G=Oo(k.tileAnchorPoint.x,k.tileAnchorPoint.y,k).point,k.projectionCache.cachedAnchorPoint=G);let te,pe,ce=G,fe=G,be=0,Ce=0,Ee=Math.abs(B),De=[],Le;for(;be+Ce<=Ee;){if(K+=V,K<w||K>=M)return null;be+=Ce,fe=ce,pe=te;let it={absOffsetX:Ee,direction:V,distanceFromAnchor:be,previousVertex:fe};if(ce=Zr(K,k,it),f===0)De.push(fe),Le=ce.sub(fe);else{let Qe,Je=ce.sub(fe);Qe=Je.mag()===0?$r(Zr(K+V,k,it).sub(ce),f,V):$r(Je,f,V),pe||(pe=fe.add(Qe)),te=Kv(K,Qe,ce,w,M,pe,f,k,it),De.push(pe),Le=te.sub(pe)}Ce=Le.mag()}let Te=Le._mult((Ee-be)/Ce)._add(pe||fe),Ge=W+Math.atan2(ce.y-fe.y,ce.x-fe.x);return De.push(Te),{point:Te,angle:D?Ge:0,path:De}}let Xv=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Hl(x,a){for(let f=0;f<x;f++){let m=a.length;a.resize(m+4),a.float32.set(Xv,3*m)}}function wd(x,a,f){let m=a[0],y=a[1];return x[0]=f[0]*m+f[4]*y+f[12],x[1]=f[1]*m+f[5]*y+f[13],x[3]=f[3]*m+f[7]*y+f[15],x}let ki=100;class Qv{constructor(a,f=new In(a.width+200,a.height+200,25),m=new In(a.width+200,a.height+200,25)){this.transform=a,this.grid=f,this.ignoredGrid=m,this.pitchFactor=Math.cos(a.pitch*Math.PI/180)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+ki,this.screenBottomBoundary=a.height+ki,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,f,m,y,w,M,k,D,B,V,W,G){let K=this.projectAndGetPerspectiveRatio(a.anchorPointX+D[0],a.anchorPointY+D[1],w,V,G),te=m*K.perspectiveRatio,pe;if(M||k)pe=this._projectCollisionBox(a,te,y,w,M,k,D,K,V,W,G);else{let Le=K.x+(W?W.x*te:0),Te=K.y+(W?W.y*te:0);pe={allPointsOccluded:!1,box:[Le+a.x1*te,Te+a.y1*te,Le+a.x2*te,Te+a.y2*te]}}let[ce,fe,be,Ce]=pe.box,Ee=M?pe.allPointsOccluded:K.isOccluded,De=Ee;return De||(De=K.perspectiveRatio<this.perspectiveRatioCutoff),De||(De=!this.isInsideGrid(ce,fe,be,Ce)),De||f!=="always"&&this.grid.hitTest(ce,fe,be,Ce,f,B)?{box:[ce,fe,be,Ce],placeable:!1,offscreen:!1,occluded:Ee}:{box:[ce,fe,be,Ce],placeable:!0,offscreen:this.isOffscreen(ce,fe,be,Ce),occluded:Ee}}placeCollisionCircles(a,f,m,y,w,M,k,D,B,V,W,G,K,te){let pe=[],ce=new o.P(f.anchorX,f.anchorY),fe=this.getPerspectiveRatio(ce.x,ce.y,M,te),be=(B?w*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,M)/fe:w*fe)/o.aB,Ce={getElevation:te,pitchedLabelPlaneMatrix:k,lineVertexArray:m,pitchWithMap:B,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ce,unwrappedTileID:M,width:this.transform.width,height:this.transform.height,translation:K},Ee=zc(be,y,f.lineOffsetX*be,f.lineOffsetY*be,!1,f,!1,Ce),De=!1,Le=!1,Te=!0;if(Ee){let Ge=.5*W*fe+G,it=new o.P(-100,-100),Qe=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Je=new ur,nt=Ee.first,Pt=Ee.last,Dt=[];for(let Gr=nt.path.length-1;Gr>=1;Gr--)Dt.push(nt.path[Gr]);for(let Gr=1;Gr<Pt.path.length;Gr++)Dt.push(Pt.path[Gr]);let bt=2.5*Ge;if(B){let Gr=this.projectPathToScreenSpace(Dt,Ce);Dt=Gr.some(Cn=>Cn.signedDistanceFromCamera<=0)?[]:Gr.map(Cn=>Cn.point)}let ar=[];if(Dt.length>0){let Gr=Dt[0].clone(),Cn=Dt[0].clone();for(let Hn=1;Hn<Dt.length;Hn++)Gr.x=Math.min(Gr.x,Dt[Hn].x),Gr.y=Math.min(Gr.y,Dt[Hn].y),Cn.x=Math.max(Cn.x,Dt[Hn].x),Cn.y=Math.max(Cn.y,Dt[Hn].y);ar=Gr.x>=it.x&&Cn.x<=Qe.x&&Gr.y>=it.y&&Cn.y<=Qe.y?[Dt]:Cn.x<it.x||Gr.x>Qe.x||Cn.y<it.y||Gr.y>Qe.y?[]:o.ay([Dt],it.x,it.y,Qe.x,Qe.y)}for(let Gr of ar){Je.reset(Gr,.25*Ge);let Cn=0;Cn=Je.length<=.5*Ge?1:Math.ceil(Je.paddedLength/bt)+1;for(let Hn=0;Hn<Cn;Hn++){let Bn=Hn/Math.max(Cn-1,1),vi=Je.lerp(Bn),Ei=vi.x+ki,Vr=vi.y+ki;pe.push(Ei,Vr,Ge,0);let Wn=Ei-Ge,$i=Vr-Ge,to=Ei+Ge,vo=Vr+Ge;if(Te=Te&&this.isOffscreen(Wn,$i,to,vo),Le=Le||this.isInsideGrid(Wn,$i,to,vo),a!=="always"&&this.grid.hitTestCircle(Ei,Vr,Ge,a,V)&&(De=!0,!D))return{circles:[],offscreen:!1,collisionDetected:De}}}}return{circles:!D&&De||!Le||fe<this.perspectiveRatioCutoff?[]:pe,offscreen:Te,collisionDetected:De}}projectPathToScreenSpace(a,f){let m=function(y,w){let M=o.L();return o.aq(M,w.pitchedLabelPlaneMatrix),y.map(k=>{let D=ei(k.x,k.y,M,w.getElevation),B=w.transform.projectTileCoordinates(D.point.x,D.point.y,w.unwrappedTileID,w.getElevation);return B.point.x=(.5*B.point.x+.5)*w.width,B.point.y=(.5*-B.point.y+.5)*w.height,B})}(a,f);return function(y){let w=0,M=0,k=0,D=0;for(let B=0;B<y.length;B++)y[B].isOccluded?(k=B+1,D=0):(D++,D>M&&(M=D,w=k));return y.slice(w,w+M)}(m)}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let f=[],m=new o.a2;for(let W of a){let G=new o.P(W.x+ki,W.y+ki);m.extend(G),f.push(G)}let{minX:y,minY:w,maxX:M,maxY:k}=m,D=this.grid.query(y,w,M,k).concat(this.ignoredGrid.query(y,w,M,k)),B={},V={};for(let W of D){let G=W.key;if(B[G.bucketInstanceId]===void 0&&(B[G.bucketInstanceId]={}),B[G.bucketInstanceId][G.featureIndex])continue;let K=[new o.P(W.x1,W.y1),new o.P(W.x2,W.y1),new o.P(W.x2,W.y2),new o.P(W.x1,W.y2)];o.az(f,K)&&(B[G.bucketInstanceId][G.featureIndex]=!0,V[G.bucketInstanceId]===void 0&&(V[G.bucketInstanceId]=[]),V[G.bucketInstanceId].push(G.featureIndex))}return V}insertCollisionBox(a,f,m,y,w,M){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:w,collisionGroupID:M,overlapMode:f},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,f,m,y,w,M){let k=m?this.ignoredGrid:this.grid,D={bucketInstanceId:y,featureIndex:w,collisionGroupID:M,overlapMode:f};for(let B=0;B<a.length;B+=4)k.insertCircle(D,a[B],a[B+1],a[B+2])}projectAndGetPerspectiveRatio(a,f,m,y,w){if(w){let M;y?(M=[a,f,y(a,f),1],o.aw(M,M,w)):(M=[a,f,0,1],wd(M,M,w));let k=M[3];return{x:(M[0]/k+1)/2*this.transform.width+ki,y:(-M[1]/k+1)/2*this.transform.height+ki,perspectiveRatio:.5+this.transform.cameraToCenterDistance/k*.5,isOccluded:!1,signedDistanceFromCamera:k}}{let M=this.transform.projectTileCoordinates(a,f,m,y);return{x:(M.point.x+1)/2*this.transform.width+ki,y:(1-M.point.y)/2*this.transform.height+ki,perspectiveRatio:.5+this.transform.cameraToCenterDistance/M.signedDistanceFromCamera*.5,isOccluded:M.isOccluded,signedDistanceFromCamera:M.signedDistanceFromCamera}}}getPerspectiveRatio(a,f,m,y){let w=this.transform.projectTileCoordinates(a,f,m,y);return .5+this.transform.cameraToCenterDistance/w.signedDistanceFromCamera*.5}isOffscreen(a,f,m,y){return m<ki||a>=this.screenRightBoundary||y<ki||f>this.screenBottomBoundary}isInsideGrid(a,f,m,y){return m>=0&&a<this.gridRightBoundary&&y>=0&&f<this.gridBottomBoundary}getViewportMatrix(){let a=o.ag([]);return o.M(a,a,[-100,-100,0]),a}_projectCollisionBox(a,f,m,y,w,M,k,D,B,V,W){let G=1,K=0,te=0,pe=1,ce=a.anchorPointX+k[0],fe=a.anchorPointY+k[1];if(M&&!w){let Dt=this.projectAndGetPerspectiveRatio(ce+1,fe,y,B,W),bt=Dt.x-D.x,ar=Math.atan((Dt.y-D.y)/bt)+(bt<0?Math.PI:0),Gr=Math.sin(ar),Cn=Math.cos(ar);G=Cn,K=Gr,te=-Gr,pe=Cn}else if(!M&&w){let Dt=qr(this.transform);G=Dt.vecEast[0],K=Dt.vecEast[1],te=Dt.vecSouth[0],pe=Dt.vecSouth[1]}let be=D.x,Ce=D.y,Ee=f;w&&(be=ce,Ce=fe,Ee=Math.pow(2,-(this.transform.zoom-m.overscaledZ)),Ee*=this.transform.getPitchedTextCorrection(ce,fe,y),V||(Ee*=o.ah(.5+D.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),V&&(be+=G*V.x*Ee+te*V.y*Ee,Ce+=K*V.x*Ee+pe*V.y*Ee);let De=a.x1*Ee,Le=a.x2*Ee,Te=(De+Le)/2,Ge=a.y1*Ee,it=a.y2*Ee,Qe=(Ge+it)/2,Je=[{offsetX:De,offsetY:Ge},{offsetX:Te,offsetY:Ge},{offsetX:Le,offsetY:Ge},{offsetX:Le,offsetY:Qe},{offsetX:Le,offsetY:it},{offsetX:Te,offsetY:it},{offsetX:De,offsetY:it},{offsetX:De,offsetY:Qe}],nt=[];for(let{offsetX:Dt,offsetY:bt}of Je)nt.push(new o.P(be+G*Dt+te*bt,Ce+K*Dt+pe*bt));let Pt=!1;if(w){let Dt=nt.map(bt=>this.projectAndGetPerspectiveRatio(bt.x,bt.y,y,B,W));Pt=Dt.some(bt=>!bt.isOccluded),nt=Dt.map(bt=>new o.P(bt.x,bt.y))}else Pt=!0;return{box:o.aA(nt),allPointsOccluded:!Pt}}}class ja{constructor(a,f,m,y){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?f:-f))):y&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Yn{constructor(a,f,m,y,w){this.text=new ja(a?a.text:null,f,m,w),this.icon=new ja(a?a.icon:null,f,y,w)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class MT{constructor(a,f,m){this.text=a,this.icon=f,this.skipFade=m}}class Dm{constructor(a,f,m,y,w){this.bucketInstanceId=a,this.featureIndex=f,this.sourceLayerIndex=m,this.bucketIndex=y,this.tileID=w}}class Ib{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let f=++this.maxGroupID;this.collisionGroups[a]={ID:f,predicate:m=>m.collisionGroupID===f}}return this.collisionGroups[a]}}function Bc(x,a,f,m,y){let{horizontalAlign:w,verticalAlign:M}=o.aH(x);return new o.P(-(w-.5)*a+m[0]*y,-(M-.5)*f+m[1]*y)}class Uc{constructor(a,f,m,y,w){this.transform=a.clone(),this.terrain=f,this.collisionIndex=new Qv(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new Ib(y),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let f=this.terrain;return f?(m,y)=>f.getElevation(a,m,y):null}getBucketParts(a,f,m,y){let w=m.getBucket(f),M=m.latestFeatureIndex;if(!w||!M||f.id!==w.layerIds[0])return;let k=m.collisionBoxArray,D=w.layers[0].layout,B=w.layers[0].paint,V=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),W=m.tileSize/o.$,G=m.tileID.toUnwrapped(),K=D.get("text-rotation-alignment")==="map",te=o.aC(m,1,this.transform.zoom),pe=o.aD(this.collisionIndex.transform,m,B.get("text-translate"),B.get("text-translate-anchor")),ce=o.aD(this.collisionIndex.transform,m,B.get("icon-translate"),B.get("icon-translate-anchor")),fe=un(K,this.transform,te);this.retainedQueryData[w.bucketInstanceId]=new Dm(w.bucketInstanceId,M,w.sourceLayerIndex,w.index,m.tileID);let be={bucket:w,layout:D,translationText:pe,translationIcon:ce,unwrappedTileID:G,pitchedLabelPlaneMatrix:fe,scale:V,textPixelRatio:W,holdingForFade:m.holdingForFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:o.an(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(y)for(let Ce of w.sortKeyRanges){let{sortKey:Ee,symbolInstanceStart:De,symbolInstanceEnd:Le}=Ce;a.push({sortKey:Ee,symbolInstanceStart:De,symbolInstanceEnd:Le,parameters:be})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:be})}attemptAnchorPlacement(a,f,m,y,w,M,k,D,B,V,W,G,K,te,pe,ce,fe,be,Ce,Ee){let De=o.aE[a.textAnchor],Le=[a.textOffset0,a.textOffset1],Te=Bc(De,m,y,Le,w),Ge=this.collisionIndex.placeCollisionBox(f,G,D,B,V,k,M,ce,W.predicate,Ce,Te,Ee);if((!be||this.collisionIndex.placeCollisionBox(be,G,D,B,V,k,M,fe,W.predicate,Ce,Te,Ee).placeable)&&Ge.placeable){let it;if(this.prevPlacement&&this.prevPlacement.variableOffsets[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID].text&&(it=this.prevPlacement.variableOffsets[K.crossTileID].anchor),K.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[K.crossTileID]={textOffset:Le,width:m,height:y,anchor:De,textBoxScale:w,prevAnchor:it},this.markUsedJustification(te,De,K,pe),te.allowVerticalPlacement&&(this.markUsedOrientation(te,pe,K),this.placedOrientations[K.crossTileID]=pe),{shift:Te,placedGlyphBoxes:Ge}}}placeLayerBucketPart(a,f,m){let{bucket:y,layout:w,translationText:M,translationIcon:k,unwrappedTileID:D,pitchedLabelPlaneMatrix:B,textPixelRatio:V,holdingForFade:W,collisionBoxArray:G,partiallyEvaluatedTextSize:K,collisionGroup:te}=a.parameters,pe=w.get("text-optional"),ce=w.get("icon-optional"),fe=o.aF(w,"text-overlap","text-allow-overlap"),be=fe==="always",Ce=o.aF(w,"icon-overlap","icon-allow-overlap"),Ee=Ce==="always",De=w.get("text-rotation-alignment")==="map",Le=w.get("text-pitch-alignment")==="map",Te=w.get("icon-text-fit")!=="none",Ge=w.get("symbol-z-order")==="viewport-y",it=be&&(Ee||!y.hasIconData()||ce),Qe=Ee&&(be||!y.hasTextData()||pe);!y.collisionArrays&&G&&y.deserializeCollisionBoxes(G);let Je=this.retainedQueryData[y.bucketInstanceId].tileID,nt=this._getTerrainElevationFunc(Je),Pt=this.transform.getFastPathSimpleProjectionMatrix(Je),Dt=(bt,ar,Gr)=>{var Cn,Hn;if(f[bt.crossTileID])return;if(W)return void(this.placements[bt.crossTileID]=new MT(!1,!1,!1));let Bn=!1,vi=!1,Ei=!0,Vr=null,Wn={box:null,placeable:!1,offscreen:null,occluded:!1},$i={placeable:!1},to=null,vo=null,ua=null,bl=0,Wc=0,Zc=0;ar.textFeatureIndex?bl=ar.textFeatureIndex:bt.useRuntimeCollisionCircles&&(bl=bt.featureIndex),ar.verticalTextFeatureIndex&&(Wc=ar.verticalTextFeatureIndex);let Vd=ar.textBox;if(Vd){let Ua=Gi=>{let ro=o.ao.horizontal;if(y.allowVerticalPlacement&&!Gi&&this.prevPlacement){let zs=this.prevPlacement.placedOrientations[bt.crossTileID];zs&&(this.placedOrientations[bt.crossTileID]=zs,ro=zs,this.markUsedOrientation(y,ro,bt))}return ro},xl=(Gi,ro)=>{if(y.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ar.verticalTextBox){for(let zs of y.writingModes)if(zs===o.ao.vertical?(Wn=ro(),$i=Wn):Wn=Gi(),Wn&&Wn.placeable)break}else Wn=Gi()},ca=bt.textAnchorOffsetStartIndex,Yc=bt.textAnchorOffsetEndIndex;if(Yc===ca){let Gi=(ro,zs)=>{let Hi=this.collisionIndex.placeCollisionBox(ro,fe,V,Je,D,Le,De,M,te.predicate,nt,void 0,Pt);return Hi&&Hi.placeable&&(this.markUsedOrientation(y,zs,bt),this.placedOrientations[bt.crossTileID]=zs),Hi};xl(()=>Gi(Vd,o.ao.horizontal),()=>{let ro=ar.verticalTextBox;return y.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ro?Gi(ro,o.ao.vertical):{box:null,offscreen:null}}),Ua(Wn&&Wn.placeable)}else{let Gi=o.aE[(Hn=(Cn=this.prevPlacement)===null||Cn===void 0?void 0:Cn.variableOffsets[bt.crossTileID])===null||Hn===void 0?void 0:Hn.anchor],ro=(Hi,ag,Gd)=>{let Fu=Hi.x2-Hi.x1,wl=Hi.y2-Hi.y1,Kc=bt.textBoxScale,_M=Te&&Ce==="never"?ag:null,ds=null,bM=fe==="never"?1:2,yx="never";Gi&&bM++;for(let Ny=0;Ny<bM;Ny++){for(let Ry=ca;Ry<Yc;Ry++){let Xc=y.textAnchorOffsets.get(Ry);if(Gi&&Xc.textAnchor!==Gi)continue;let Bu=this.attemptAnchorPlacement(Xc,Hi,Fu,wl,Kc,De,Le,V,Je,D,te,yx,bt,y,Gd,M,k,_M,nt);if(Bu&&(ds=Bu.placedGlyphBoxes,ds&&ds.placeable))return Bn=!0,Vr=Bu.shift,ds}Gi?Gi=null:yx=fe}return m&&!ds&&(ds={box:this.collisionIndex.placeCollisionBox(Vd,"always",V,Je,D,Le,De,M,te.predicate,nt,void 0,Pt).box,offscreen:!1,placeable:!1,occluded:!1}),ds};xl(()=>ro(Vd,ar.iconBox,o.ao.horizontal),()=>{let Hi=ar.verticalTextBox;return y.allowVerticalPlacement&&(!Wn||!Wn.placeable)&&bt.numVerticalGlyphVertices>0&&Hi?ro(Hi,ar.verticalIconBox,o.ao.vertical):{box:null,occluded:!0,offscreen:null}}),Wn&&(Bn=Wn.placeable,Ei=Wn.offscreen);let zs=Ua(Wn&&Wn.placeable);if(!Bn&&this.prevPlacement){let Hi=this.prevPlacement.variableOffsets[bt.crossTileID];Hi&&(this.variableOffsets[bt.crossTileID]=Hi,this.markUsedJustification(y,Hi.anchor,bt,zs))}}}if(to=Wn,Bn=to&&to.placeable,Ei=to&&to.offscreen,bt.useRuntimeCollisionCircles){let Ua=y.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),xl=o.ap(y.textSizeData,K,Ua),ca=w.get("text-padding");vo=this.collisionIndex.placeCollisionCircles(fe,Ua,y.lineVertexArray,y.glyphOffsetArray,xl,D,B,m,Le,te.predicate,bt.collisionCircleDiameter,ca,M,nt),vo.circles.length&&vo.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),Bn=be||vo.circles.length>0&&!vo.collisionDetected,Ei=Ei&&vo.offscreen}if(ar.iconFeatureIndex&&(Zc=ar.iconFeatureIndex),ar.iconBox){let Ua=xl=>this.collisionIndex.placeCollisionBox(xl,Ce,V,Je,D,Le,De,k,te.predicate,nt,Te&&Vr?Vr:void 0,Pt);$i&&$i.placeable&&ar.verticalIconBox?(ua=Ua(ar.verticalIconBox),vi=ua.placeable):(ua=Ua(ar.iconBox),vi=ua.placeable),Ei=Ei&&ua.offscreen}let $d=pe||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,vf=ce||bt.numIconVertices===0;$d||vf?vf?$d||(vi=vi&&Bn):Bn=vi&&Bn:vi=Bn=vi&&Bn;let yf=vi&&ua.placeable;if(Bn&&to.placeable&&this.collisionIndex.insertCollisionBox(to.box,fe,w.get("text-ignore-placement"),y.bucketInstanceId,$i&&$i.placeable&&Wc?Wc:bl,te.ID),yf&&this.collisionIndex.insertCollisionBox(ua.box,Ce,w.get("icon-ignore-placement"),y.bucketInstanceId,Zc,te.ID),vo&&Bn&&this.collisionIndex.insertCollisionCircles(vo.circles,fe,w.get("text-ignore-placement"),y.bucketInstanceId,bl,te.ID),m&&this.storeCollisionData(y.bucketInstanceId,Gr,ar,to,ua,vo),bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(y.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new MT((Bn||it)&&!(to!=null&&to.occluded),(vi||Qe)&&!(ua!=null&&ua.occluded),Ei||y.justReloaded),f[bt.crossTileID]=!0};if(Ge){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let bt=y.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let ar=bt.length-1;ar>=0;--ar){let Gr=bt[ar];Dt(y.symbolInstances.get(Gr),y.collisionArrays[Gr],Gr)}}else for(let bt=a.symbolInstanceStart;bt<a.symbolInstanceEnd;bt++)Dt(y.symbolInstances.get(bt),y.collisionArrays[bt],bt);y.justReloaded=!1}storeCollisionData(a,f,m,y,w,M){if(m.textBox||m.iconBox){let k,D;this.collisionBoxArrays.has(a)?k=this.collisionBoxArrays.get(a):(k=new Map,this.collisionBoxArrays.set(a,k)),k.has(f)?D=k.get(f):(D={text:null,icon:null},k.set(f,D)),m.textBox&&(D.text=y.box),m.iconBox&&(D.icon=w.box)}if(M){let k=this.collisionCircleArrays[a];k===void 0&&(k=this.collisionCircleArrays[a]=[]);for(let D=0;D<M.circles.length;D+=4)k.push(M.circles[D+0]-ki),k.push(M.circles[D+1]-ki),k.push(M.circles[D+2]),k.push(M.collisionDetected?1:0)}}markUsedJustification(a,f,m,y){let w;w=y===o.ao.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.aG(f)];let M=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(let k of M)k>=0&&(a.text.placedSymbolArray.get(k).crossTileID=w>=0&&k!==w?0:m.crossTileID)}markUsedOrientation(a,f,m){let y=f===o.ao.horizontal||f===o.ao.horizontalOnly?f:0,w=f===o.ao.vertical?f:0,M=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(let k of M)a.text.placedSymbolArray.get(k).placedOrientation=y;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=w)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let f=this.prevPlacement,m=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;let y=f?f.symbolFadeChange(a):1,w=f?f.opacities:{},M=f?f.variableOffsets:{},k=f?f.placedOrientations:{};for(let D in this.placements){let B=this.placements[D],V=w[D];V?(this.opacities[D]=new Yn(V,y,B.text,B.icon),m=m||B.text!==V.text.placed||B.icon!==V.icon.placed):(this.opacities[D]=new Yn(null,y,B.text,B.icon,B.skipFade),m=m||B.text||B.icon)}for(let D in w){let B=w[D];if(!this.opacities[D]){let V=new Yn(B,y,!1,!1);V.isHidden()||(this.opacities[D]=V,m=m||B.text.placed||B.icon.placed)}}for(let D in M)this.variableOffsets[D]||!this.opacities[D]||this.opacities[D].isHidden()||(this.variableOffsets[D]=M[D]);for(let D in k)this.placedOrientations[D]||!this.opacities[D]||this.opacities[D].isHidden()||(this.placedOrientations[D]=k[D]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:a)}updateLayerOpacities(a,f){let m={};for(let y of f){let w=y.getBucket(a);w&&y.latestFeatureIndex&&a.id===w.layerIds[0]&&this.updateBucketOpacities(w,y.tileID,m,y.collisionBoxArray)}}updateBucketOpacities(a,f,m,y){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let w=a.layers[0],M=w.layout,k=new Yn(null,0,!1,!1,!0),D=M.get("text-allow-overlap"),B=M.get("icon-allow-overlap"),V=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),W=M.get("text-rotation-alignment")==="map",G=M.get("text-pitch-alignment")==="map",K=M.get("icon-text-fit")!=="none",te=new Yn(null,0,D&&(B||!a.hasIconData()||M.get("icon-optional")),B&&(D||!a.hasTextData()||M.get("text-optional")),!0);!a.collisionArrays&&y&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(y);let pe=(fe,be,Ce)=>{for(let Ee=0;Ee<be/4;Ee++)fe.opacityVertexArray.emplaceBack(Ce);fe.hasVisibleVertices=fe.hasVisibleVertices||Ce!==Ed},ce=this.collisionBoxArrays.get(a.bucketInstanceId);for(let fe=0;fe<a.symbolInstances.length;fe++){let be=a.symbolInstances.get(fe),{numHorizontalGlyphVertices:Ce,numVerticalGlyphVertices:Ee,crossTileID:De}=be,Le=this.opacities[De];m[De]?Le=k:Le||(Le=te,this.opacities[De]=Le),m[De]=!0;let Te=be.numIconVertices>0,Ge=this.placedOrientations[be.crossTileID],it=Ge===o.ao.vertical,Qe=Ge===o.ao.horizontal||Ge===o.ao.horizontalOnly;if(Ce>0||Ee>0){let nt=Mb(Le.text);pe(a.text,Ce,it?Ed:nt),pe(a.text,Ee,Qe?Ed:nt);let Pt=Le.text.isHidden();[be.rightJustifiedTextSymbolIndex,be.centerJustifiedTextSymbolIndex,be.leftJustifiedTextSymbolIndex].forEach(ar=>{ar>=0&&(a.text.placedSymbolArray.get(ar).hidden=Pt||it?1:0)}),be.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(be.verticalPlacedTextSymbolIndex).hidden=Pt||Qe?1:0);let Dt=this.variableOffsets[be.crossTileID];Dt&&this.markUsedJustification(a,Dt.anchor,be,Ge);let bt=this.placedOrientations[be.crossTileID];bt&&(this.markUsedJustification(a,"left",be,bt),this.markUsedOrientation(a,bt,be))}if(Te){let nt=Mb(Le.icon),Pt=!(K&&be.verticalPlacedIconSymbolIndex&&it);be.placedIconSymbolIndex>=0&&(pe(a.icon,be.numIconVertices,Pt?nt:Ed),a.icon.placedSymbolArray.get(be.placedIconSymbolIndex).hidden=Le.icon.isHidden()),be.verticalPlacedIconSymbolIndex>=0&&(pe(a.icon,be.numVerticalIconVertices,Pt?Ed:nt),a.icon.placedSymbolArray.get(be.verticalPlacedIconSymbolIndex).hidden=Le.icon.isHidden())}let Je=ce&&ce.has(fe)?ce.get(fe):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let nt=a.collisionArrays[fe];if(nt){let Pt=new o.P(0,0);if(nt.textBox||nt.verticalTextBox){let Dt=!0;if(V){let bt=this.variableOffsets[De];bt?(Pt=Bc(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),W&&Pt._rotate(G?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Dt=!1}if(nt.textBox||nt.verticalTextBox){let bt;nt.textBox&&(bt=it),nt.verticalTextBox&&(bt=Qe),Tb(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Dt||bt,Je.text,Pt.x,Pt.y)}}if(nt.iconBox||nt.verticalIconBox){let Dt=!!(!Qe&&nt.verticalIconBox),bt;nt.iconBox&&(bt=Dt),nt.verticalIconBox&&(bt=!Dt),Tb(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,bt,Je.icon,K?Pt.x:0,K?Pt.y:0)}}}}if(a.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);a.bucketInstanceId in this.collisionCircleArrays&&(a.collisionCircleArray=this.collisionCircleArrays[a.bucketInstanceId],delete this.collisionCircleArrays[a.bucketInstanceId])}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,f){let m=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function Tb(x,a,f,m,y,w){m&&m.length!==0||(m=[0,0,0,0]);let M=m[0]-ki,k=m[1]-ki,D=m[2]-ki,B=m[3]-ki;x.emplaceBack(a?1:0,f?1:0,y||0,w||0,M,k),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,D,k),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,D,B),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,M,B)}let CT=Math.pow(2,25),AT=Math.pow(2,24),Sd=Math.pow(2,17),PT=Math.pow(2,16),_L=Math.pow(2,9),bL=Math.pow(2,8),xL=Math.pow(2,1);function Mb(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;let a=x.placed?1:0,f=Math.floor(127*x.opacity);return f*CT+a*AT+f*Sd+a*PT+f*_L+a*bL+f*xL+a}let Ed=0;class Cb{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,f,m,y,w){let M=this._bucketParts;for(;this._currentTileIndex<a.length;)if(f.getBucketParts(M,y,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,M.sort((k,D)=>k.sortKey-D.sortKey));this._currentPartIndex<M.length;)if(f.placeLayerBucketPart(M[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,w())return!0;return!1}}class Ab{constructor(a,f,m,y,w,M,k,D){this.placement=new Uc(a,f,M,k,D),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(a,f,m){let y=E.now(),w=()=>!this._forceFullPlacement&&E.now()-y>2;for(;this._currentPlacementIndex>=0;){let M=f[a[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(M.type==="symbol"&&(!M.minzoom||M.minzoom<=k)&&(!M.maxzoom||M.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new Cb(M)),this._inProgressLayer.continuePlacement(m[M.source],this.placement,this._showCollisionBoxes,M,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let Id=512/o.$/2;class Pb{constructor(a,f,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};let y=new Map;for(let w=0;w<f.length;w++){let M=f.get(w),k=M.key,D=y.get(k);D?D.push(M):y.set(k,[M])}for(let[w,M]of y){let k={positions:M.map(D=>({x:Math.floor(D.anchorX*Id),y:Math.floor(D.anchorY*Id)})),crossTileIDs:M.map(D=>D.crossTileID)};if(k.positions.length>128){let D=new o.aI(k.positions.length,16,Uint16Array);for(let{x:B,y:V}of k.positions)D.add(B,V);D.finish(),delete k.positions,k.index=D}this._symbolsByKey[w]=k}}getScaledCoordinates(a,f){let{x:m,y,z:w}=this.tileID.canonical,{x:M,y:k,z:D}=f.canonical,B=Id/Math.pow(2,D-w),V=(k*o.$+a.anchorY)*B,W=y*o.$*Id;return{x:Math.floor((M*o.$+a.anchorX)*B-m*o.$*Id),y:Math.floor(V-W)}}findMatches(a,f,m){let y=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let w=0;w<a.length;w++){let M=a.get(w);if(M.crossTileID)continue;let k=this._symbolsByKey[M.key];if(!k)continue;let D=this.getScaledCoordinates(M,f);if(k.index){let B=k.index.range(D.x-y,D.y-y,D.x+y,D.y+y).sort();for(let V of B){let W=k.crossTileIDs[V];if(!m[W]){m[W]=!0,M.crossTileID=W;break}}}else if(k.positions)for(let B=0;B<k.positions.length;B++){let V=k.positions[B],W=k.crossTileIDs[B];if(Math.abs(V.x-D.x)<=y&&Math.abs(V.y-D.y)<=y&&!m[W]){m[W]=!0,M.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class Ob{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class wL{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let f=Math.round((a-this.lng)/360);if(f!==0)for(let m in this.indexes){let y=this.indexes[m],w={};for(let M in y){let k=y[M];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+f),w[k.tileID.key]=k}this.indexes[m]=w}this.lng=a}addBucket(a,f,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let w=0;w<f.symbolInstances.length;w++)f.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let y=this.usedCrossTileIDs[a.overscaledZ];for(let w in this.indexes){let M=this.indexes[w];if(Number(w)>a.overscaledZ)for(let k in M){let D=M[k];D.tileID.isChildOf(a)&&D.findMatches(f.symbolInstances,a,y)}else{let k=M[a.scaledTo(Number(w)).key];k&&k.findMatches(f.symbolInstances,a,y)}}for(let w=0;w<f.symbolInstances.length;w++){let M=f.symbolInstances.get(w);M.crossTileID||(M.crossTileID=m.generate(),y[M.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Pb(a,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(a,f){for(let m of f.getCrossTileIDsLists())for(let y of m)delete this.usedCrossTileIDs[a][y]}removeStaleBuckets(a){let f=!1;for(let m in this.indexes){let y=this.indexes[m];for(let w in y)a[y[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,y[w]),delete y[w],f=!0)}return f}}class Td{constructor(){this.layerIndexes={},this.crossTileIDs=new Ob,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,f,m){let y=this.layerIndexes[a.id];y===void 0&&(y=this.layerIndexes[a.id]=new wL);let w=!1,M={};y.handleWrapJump(m);for(let k of f){let D=k.getBucket(a);D&&a.id===D.layerIds[0]&&(D.bucketInstanceId||(D.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(k.tileID,D,this.crossTileIDs)&&(w=!0),M[D.bucketInstanceId]=!0)}return y.removeStaleBuckets(M)&&(w=!0),w}pruneUnusedLayers(a){let f={};a.forEach(m=>{f[m]=!0});for(let m in this.layerIndexes)f[m]||delete this.layerIndexes[m]}}var Nm="void main() {fragColor=vec4(1.0);}";let fl={prelude:an(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:an("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:an("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:an(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:an(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:an(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:an(Nm,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:an(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:an(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:an("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:an("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:an(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:an("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:an(Nm,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:an(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:an(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:an(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:an(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:an(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:an(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:an(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:an(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:an(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:an(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:an(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:an(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:an(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:an(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:an(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:an(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:an("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:an("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:an("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:an("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:an(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:an("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function an(x,a){let f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/in ([\w]+) ([\w]+)/g),y=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=w?w.concat(y):y,k={};return{fragmentSource:x=x.replace(f,(D,B,V,W,G)=>(k[G]=!0,B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
in ${V} ${W} ${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:`
#ifdef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = u_${G};
#endif
`)),vertexSource:a=a.replace(f,(D,B,V,W,G)=>{let K=W==="float"?"vec2":"vec4",te=G.match(/color/)?"color":K;return k[G]?B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${V} ${K} a_${G};
out ${V} ${W} ${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:te==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${te}(a_${G}, u_${G}_t);
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${V} ${K} a_${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:te==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = a_${G};
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = unpack_mix_${te}(a_${G}, u_${G}_t);
#else
    ${V} ${W} ${G} = u_${G};
#endif
`}),staticAttributes:m,staticUniforms:M}}class Jp{constructor(a,f,m){this.vertexBuffer=a,this.indexBuffer=f,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Vc=o.aJ([{name:"a_pos",type:"Int16",components:2}]);let Lu="#define PROJECTION_MERCATOR",ef="mercator";class sn{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return ef}get shaderDefine(){return Lu}get shaderPreludeCode(){return fl.projectionMercator}get vertexShaderPreludeCode(){return fl.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(a){}getMeshFromTileID(a,f,m,y,w){if(this._cachedMesh)return this._cachedMesh;let M=new o.aL;M.emplaceBack(0,0),M.emplaceBack(o.$,0),M.emplaceBack(0,o.$),M.emplaceBack(o.$,o.$);let k=a.createVertexBuffer(M,Vc.members),D=o.aM.simpleSegment(0,0,4,2),B=new o.aN;B.emplaceBack(1,0,2),B.emplaceBack(1,2,3);let V=a.createIndexBuffer(B);return this._cachedMesh=new Jp(k,V,D),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(a){}}class tf{constructor(a=0,f=0,m=0,y=0){if(isNaN(a)||a<0||isNaN(f)||f<0||isNaN(m)||m<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=f,this.left=m,this.right=y}interpolate(a,f,m){return f.top!=null&&a.top!=null&&(this.top=o.C.number(a.top,f.top,m)),f.bottom!=null&&a.bottom!=null&&(this.bottom=o.C.number(a.bottom,f.bottom,m)),f.left!=null&&a.left!=null&&(this.left=o.C.number(a.left,f.left,m)),f.right!=null&&a.right!=null&&(this.right=o.C.number(a.right,f.right,m)),this}getCenter(a,f){let m=o.ah((this.left+a-this.right)/2,0,a),y=o.ah((this.top+f-this.bottom)/2,0,f);return new o.P(m,y)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new tf(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Jv(x,a){if(!x.renderWorldCopies||x.lngRange)return;let f=a.lng-x.center.lng;a.lng+=f>180?-360:f<-180?360:0}function ey(x){return Math.max(0,Math.floor(x))}class oa{constructor(a,f,m,y,w,M){this._callbacks=a,this._tileSize=512,this._renderWorldCopies=M===void 0||!!M,this._minZoom=f||0,this._maxZoom=m||22,this._minPitch=y==null?0:y,this._maxPitch=w==null?60:w,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=ey(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new tf,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(a,f,m){this._latRange=a.latRange,this._lngRange=a.lngRange,this._width=a.width,this._height=a.height,this._center=a.center,this._elevation=a.elevation,this._minElevationForCurrentTile=a.minElevationForCurrentTile,this._zoom=a.zoom,this._tileZoom=ey(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=a.bearingInRadians,this._fovInRadians=a.fovInRadians,this._pitchInRadians=a.pitchInRadians,this._rollInRadians=a.rollInRadians,this._unmodified=a.unmodified,this._edgeInsets=new tf(a.padding.top,a.padding.bottom,a.padding.left,a.padding.right),this._minZoom=a.minZoom,this._maxZoom=a.maxZoom,this._minPitch=a.minPitch,this._maxPitch=a.maxPitch,this._renderWorldCopies=a.renderWorldCopies,this._cameraToCenterDistance=a.cameraToCenterDistance,this._nearZ=a.nearZ,this._farZ=a.farZ,this._autoCalculateNearFarZ=!m&&a.autoCalculateNearFarZ,f&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(a){this._minElevationForCurrentTile=a}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(a){this._minZoom!==a&&(this._minZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(a){this._minPitch!==a&&(this._minPitch=a,this.setPitch(Math.max(this.pitch,a)))}get maxPitch(){return this._maxPitch}setMaxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.setPitch(Math.min(this.pitch,a)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(a){let f=o.aO(a,-180,180)*Math.PI/180;var m,y,w,M,k,D,B,V,W;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=d(),m=this._rotationMatrix,w=-this._bearingInRadians,M=(y=this._rotationMatrix)[0],k=y[1],D=y[2],B=y[3],V=Math.sin(w),W=Math.cos(w),m[0]=M*W+D*V,m[1]=k*W+B*V,m[2]=M*-V+D*W,m[3]=k*-V+B*W)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(a){let f=o.ah(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(a){let f=a/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aP(this._fovInRadians)}setFov(a){a=o.ah(a,.1,150),this.fov!==a&&(this._unmodified=!1,this._fovInRadians=o.ae(a),this._calcMatrices())}get zoom(){return this._zoom}setZoom(a){let f=this.getConstrained(this._center,a).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=o.af(f),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(a,f){this._autoCalculateNearFarZ=!1,this._nearZ=a,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,f,m){this._unmodified=!1,this._edgeInsets.interpolate(a,f,m),this._constrain(),this._calcMatrices()}resize(a,f,m=!0){this._width=a,this._height=f,m&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new yt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(a){a?(this._lngRange=[a.getWest(),a.getEast()],this._latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-o.ai,o.ai])}getConstrained(a,f){return this._callbacks.getConstrained(a,f)}getCameraQueryGeometry(a,f){if(f.length===1)return[f[0],a];{let{minX:m,minY:y,maxX:w,maxY:M}=o.a2.fromPoints(f).extend(a);return[new o.P(m,y),new o.P(w,y),new o.P(w,M),new o.P(m,M),new o.P(m,y)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:f,zoom:m}=this.getConstrained(this.center,this.zoom);this.setCenter(f),this.setZoom(m),this._unmodified=a,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let a=o.ag(new Float64Array(16));o.N(a,a,[this._width/2,-this._height/2,1]),o.M(a,a,[1,-1,0]),this._clipSpaceToPixelsMatrix=a,a=o.ag(new Float64Array(16)),o.N(a,a,[1,-1,1]),o.M(a,a,[-1,-1,0]),o.N(a,a,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=a,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(a,f,m,y){let w=m!==void 0?m:this.bearing,M=y=y!==void 0?y:this.pitch,k=o.a1.fromLngLat(a,f),D=-Math.cos(o.ae(M)),B=Math.sin(o.ae(M)),V=B*Math.sin(o.ae(w)),W=-B*Math.cos(o.ae(w)),G=this.elevation,K=f-G,te;D*K>=0||Math.abs(D)<.1?(te=1e4,G=f+te*D):te=-K/D;let pe,ce,fe=o.aQ(1,k.y),be=0;do{if(be+=1,be>10)break;ce=te/fe,pe=new o.a1(k.x+V*ce,k.y+W*ce),fe=1/pe.meterInMercatorCoordinateUnits()}while(Math.abs(te-ce*fe)>1e-12);return{center:pe.toLngLat(),elevation:G,zoom:o.ak(this.height/2/Math.tan(this.fovInRadians/2)/ce/this.tileSize)}}recalculateZoomAndCenter(a){if(this.elevation-a==0)return;let f=o.aj(1,this.center.lat)*this.worldSize,m=this.cameraToCenterDistance/f,y=o.a1.fromLngLat(this.center,this.elevation),w=Xe(this.center,this.elevation,this.pitch,this.bearing,m);this._elevation=a;let M=this.calculateCenterFromCameraLngLatAlt(w.toLngLat(),o.aQ(w.z,y.y),this.bearing,this.pitch);this._elevation=M.elevation,this._center=M.center,this.setZoom(M.zoom)}getCameraPoint(){let a=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(a*Math.sin(this.rollInRadians),a*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let a=o.aj(1,this.center.lat)*this.worldSize;return Xe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/a).toLngLat()}getMercatorTileCoordinates(a){if(!a)return[0,0,1,1];let f=a.canonical.z>=0?1<<a.canonical.z:Math.pow(2,a.canonical.z);return[a.canonical.x/f,a.canonical.y/f,1/f/o.$,1/f/o.$]}}class mo{constructor(a,f){this.min=a,this.max=f,this.center=o.aR([],o.aS([],this.min,this.max),.5)}quadrant(a){let f=[a%2==0,a<2],m=o.aT(this.min),y=o.aT(this.max);for(let w=0;w<f.length;w++)m[w]=f[w]?this.min[w]:this.center[w],y[w]=f[w]?this.center[w]:this.max[w];return y[2]=this.max[2],new mo(m,y)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersectsFrustum(a){let f=!0;for(let m=0;m<a.planes.length;m++){let y=this.intersectsPlane(a.planes[m]);if(y===0)return 0;y===1&&(f=!1)}return f?2:a.aabb.min[0]>this.max[0]||a.aabb.min[1]>this.max[1]||a.aabb.min[2]>this.max[2]||a.aabb.max[0]<this.min[0]||a.aabb.max[1]<this.min[1]||a.aabb.max[2]<this.min[2]?0:1}intersectsPlane(a){let f=a[3],m=a[3];for(let y=0;y<3;y++)a[y]>0?(f+=a[y]*this.min[y],m+=a[y]*this.max[y]):(m+=a[y]*this.min[y],f+=a[y]*this.max[y]);return f>=0?2:m<0?0:1}}class aa{distanceToTile2d(a,f,m,y){let w=y.distanceX([a,f]),M=y.distanceY([a,f]);return Math.hypot(w,M)}getWrap(a,f,m){return m}getTileBoundingVolume(a,f,m,y){var w,M;let k=0,D=0;if(y!=null&&y.terrain){let V=new o.Z(a.z,f,a.z,a.x,a.y),W=y.terrain.getMinMaxElevation(V);k=(w=W.minElevation)!==null&&w!==void 0?w:Math.min(0,m),D=(M=W.maxElevation)!==null&&M!==void 0?M:Math.max(0,m)}let B=1<<a.z;return new mo([f+a.x/B,a.y/B,k],[f+(a.x+1)/B,(a.y+1)/B,D])}allowVariableZoom(a,f){let m=a.fov*(Math.abs(Math.cos(a.rollInRadians))*a.height+Math.abs(Math.sin(a.rollInRadians))*a.width)/a.height,y=o.ah(78.5-m/2,0,60);return!!f.terrain||a.pitch>y}allowWorldCopies(){return!0}prepareNextFrame(){}}class Vi{constructor(a,f,m){this.points=a,this.planes=f,this.aabb=m}static fromInvProjectionMatrix(a,f=1,m=0,y,w){let M=w?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],k=Math.pow(2,m),D=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(G=>function(K,te,pe,ce){let fe=o.aw([],K,te),be=1/fe[3]/pe*ce;return o.aY(fe,fe,[be,be,1/fe[3],be])}(G,a,f,k));y&&function(G,K,te,pe){let ce=pe?4:0,fe=pe?0:4,be=0,Ce=[],Ee=[];for(let Te=0;Te<4;Te++){let Ge=o.aU([],G[Te+fe],G[Te+ce]),it=o.aZ(Ge);o.aR(Ge,Ge,1/it),Ce.push(it),Ee.push(Ge)}for(let Te=0;Te<4;Te++){let Ge=o.a_(G[Te+ce],Ee[Te],te);be=Ge!==null&&Ge>=0?Math.max(be,Ge):Math.max(be,Ce[Te])}let De=function(Te,Ge){let it=o.aU([],Te[Ge[0]],Te[Ge[1]]),Qe=o.aU([],Te[Ge[2]],Te[Ge[1]]),Je=[0,0,0,0];return o.aV(Je,o.aW([],it,Qe)),Je[3]=-o.aX(Je,Te[Ge[0]]),Je}(G,K),Le=function(Te,Ge){let it=o.a$(Te),Qe=o.b0([],Te,1/it),Je=o.aU([],Ge,o.aR([],Qe,o.aX(Ge,Qe))),nt=o.a$(Je);if(nt>0){let Pt=Math.sqrt(1-Qe[3]*Qe[3]),Dt=o.aR([],Qe,-Qe[3]),bt=o.aS([],Dt,o.aR([],Je,Pt/nt));return o.b1(Ge,bt)}return null}(te,De);if(Le!==null){let Te=Le/o.aX(Ee[0],De);be=Math.min(be,Te)}for(let Te=0;Te<4;Te++){let Ge=Math.min(be,Ce[Te]);G[Te+fe]=[G[Te+ce][0]+Ee[Te][0]*Ge,G[Te+ce][1]+Ee[Te][1]*Ge,G[Te+ce][2]+Ee[Te][2]*Ge,1]}}(D,M[0],y,w);let B=M.map(G=>{let K=o.aU([],D[G[0]],D[G[1]]),te=o.aU([],D[G[2]],D[G[1]]),pe=o.aV([],o.aW([],K,te)),ce=-o.aX(pe,D[G[1]]);return pe.concat(ce)}),V=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],W=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let G of D)for(let K=0;K<3;K++)V[K]=Math.min(V[K],G[K]),W[K]=Math.max(W[K],G[K]);return new Vi(D,B,new mo(V,W))}}class Kn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f,m=!0){this._helper.resize(a,f,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a,f){}constructor(a,f,m,y,w){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new oa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(M,k)=>this.getConstrained(M,k)},a,f,m,y,w),this._coveringTilesDetailsProvider=new aa}clone(){let a=new Kn;return a.apply(this),a}apply(a,f,m){this._helper.apply(a,f,m)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(a){let f=[new o.b2(0,a)];if(this._helper._renderWorldCopies){let m=this.screenPointToMercatorCoordinate(new o.P(0,0)),y=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),w=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),M=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),k=Math.floor(Math.min(m.x,y.x,w.x,M.x)),D=Math.floor(Math.max(m.x,y.x,w.x,M.x)),B=1;for(let V=k-B;V<=D+B;V++)V!==0&&f.push(new o.b2(V,a))}return f}getCameraFrustum(){return Vi.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){let f=this.screenPointToLocation(this.centerPoint,a),m=a?a.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(m)}setLocationAtPoint(a,f){let m=o.aj(this.elevation,this.center.lat),y=this.screenPointToMercatorCoordinateAtZ(f,m),w=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,m),M=o.a1.fromLngLat(a),k=new o.a1(M.x-(y.x-w.x),M.y-(y.y-w.y));this.setCenter(k==null?void 0:k.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(a,f){return f?this.coordinatePoint(o.a1.fromLngLat(a),f.getElevationForLngLatZoom(a,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.a1.fromLngLat(a))}screenPointToLocation(a,f){var m;return(m=this.screenPointToMercatorCoordinate(a,f))===null||m===void 0?void 0:m.toLngLat()}screenPointToMercatorCoordinate(a,f){if(f){let m=f.pointCoordinate(a);if(m!=null)return m}return this.screenPointToMercatorCoordinateAtZ(a)}screenPointToMercatorCoordinateAtZ(a,f){let m=f||0,y=[a.x,a.y,0,1],w=[a.x,a.y,1,1];o.aw(y,y,this._pixelMatrixInverse),o.aw(w,w,this._pixelMatrixInverse);let M=y[3],k=w[3],D=y[1]/M,B=w[1]/k,V=y[2]/M,W=w[2]/k,G=V===W?0:(m-V)/(W-V);return new o.a1(o.C.number(y[0]/M,w[0]/k,G)/this.worldSize,o.C.number(D,B,G)/this.worldSize,m)}coordinatePoint(a,f=0,m=this._pixelMatrix){let y=[a.x*this.worldSize,a.y*this.worldSize,f,1];return o.aw(y,y,m),new o.P(y[0]/y[3],y[1]/y[3])}getBounds(){let a=Math.max(0,this._helper._height/2-Ne(this));return new yt().extend(this.screenPointToLocation(new o.P(0,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(a,f){return f?f.pointCoordinate(a)!=null:a.y>this.height/2-Ne(this)}calculatePosMatrix(a,f=!1,m){var y;let w=(y=a.key)!==null&&y!==void 0?y:o.b3(a.wrap,a.canonical.z,a.canonical.z,a.canonical.x,a.canonical.y),M=f?this._alignedPosMatrixCache:this._posMatrixCache;if(M.has(w)){let B=M.get(w);return m?B.f32:B.f64}let k=Be(a,this.worldSize);o.O(k,f?this._alignedProjMatrix:this._viewProjMatrix,k);let D={f64:k,f32:new Float32Array(k)};return M.set(w,D),m?D.f32:D.f64}calculateFogMatrix(a){let f=a.key,m=this._fogMatrixCacheF32;if(m.has(f))return m.get(f);let y=Be(a,this.worldSize);return o.O(y,this._fogMatrix,y),m.set(f,new Float32Array(y)),m.get(f)}getConstrained(a,f){f=o.ah(+f,this.minZoom,this.maxZoom);let m={center:new o.S(a.lng,a.lat),zoom:f},y=this._helper._lngRange;if(!this._helper._renderWorldCopies&&y===null){let Ce=179.9999999999;y=[-Ce,Ce]}let w=this.tileSize*o.af(m.zoom),M=0,k=w,D=0,B=w,V=0,W=0,{x:G,y:K}=this.size;if(this._helper._latRange){let Ce=this._helper._latRange;M=o.U(Ce[1])*w,k=o.U(Ce[0])*w,k-M<K&&(V=K/(k-M))}y&&(D=o.aO(o.V(y[0])*w,0,w),B=o.aO(o.V(y[1])*w,0,w),B<D&&(B+=w),B-D<G&&(W=G/(B-D)));let{x:te,y:pe}=ae(w,a),ce,fe,be=Math.max(W||0,V||0);if(be){let Ce=new o.P(W?(B+D)/2:te,V?(k+M)/2:pe);return m.center=ge(w,Ce).wrap(),m.zoom+=o.ak(be),m}if(this._helper._latRange){let Ce=K/2;pe-Ce<M&&(fe=M+Ce),pe+Ce>k&&(fe=k-Ce)}if(y){let Ce=(D+B)/2,Ee=te;this._helper._renderWorldCopies&&(Ee=o.aO(te,Ce-w/2,Ce+w/2));let De=G/2;Ee-De<D&&(ce=D+De),Ee+De>B&&(ce=B-De)}if(ce!==void 0||fe!==void 0){let Ce=new o.P(ce!=null?ce:te,fe!=null?fe:pe);m.center=ge(w,Ce).wrap()}return m}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}_calculateNearFarZIfNeeded(a,f,m){if(!this._helper.autoCalculateNearFarZ)return;let y=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),w=a-y*this._helper._pixelPerMeter/Math.cos(f),M=y<0?w:a,k=Math.PI/2+this.pitchInRadians,D=o.ae(this.fov)*(Math.abs(Math.cos(o.ae(this.roll)))*this.height+Math.abs(Math.sin(o.ae(this.roll)))*this.width)/this.height*(.5+m.y/this.height),B=Math.sin(D)*M/Math.sin(o.ah(Math.PI-k-D,.01,Math.PI-.01)),V=Ne(this),W=Math.atan(V/this._helper.cameraToCenterDistance),G=o.ae(.75),K=W>G?2*W*(.5+m.y/(2*V)):G,te=Math.sin(K)*M/Math.sin(o.ah(Math.PI-k-K,.01,Math.PI-.01)),pe=Math.min(B,te);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*pe+M),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let a=this.centerOffset,f=ae(this.worldSize,this.center),m=f.x,y=f.y;this._helper._pixelPerMeter=o.aj(1,this.center.lat)*this.worldSize;let w=o.ae(Math.min(this.pitch,ee)),M=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(w)),k;this._calculateNearFarZIfNeeded(M,w,a),k=new Float64Array(16),o.b4(k,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.aq(this._invProjMatrix,k),k[8]=2*-a.x/this._helper._width,k[9]=2*a.y/this._helper._height,this._projectionMatrix=o.b5(k),o.N(k,k,[1,-1,1]),o.M(k,k,[0,0,-this._helper.cameraToCenterDistance]),o.b6(k,k,-this.rollInRadians),o.b7(k,k,this.pitchInRadians),o.b6(k,k,-this.bearingInRadians),o.M(k,k,[-m,-y,0]),this._mercatorMatrix=o.N([],k,[this.worldSize,this.worldSize,this.worldSize]),o.N(k,k,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,k),o.M(k,k,[0,0,-this.elevation]),this._viewProjMatrix=k,this._invViewProjMatrix=o.aq([],k);let D=[0,0,-1,1];o.aw(D,D,this._invViewProjMatrix),this._cameraPosition=[D[0]/D[3],D[1]/D[3],D[2]/D[3]],this._fogMatrix=new Float64Array(16),o.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,M,this._helper._farZ),this._fogMatrix[8]=2*-a.x/this.width,this._fogMatrix[9]=2*a.y/this.height,o.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.M(this._fogMatrix,this._fogMatrix,[-m,-y,0]),o.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,k);let B=this._helper._width%2/2,V=this._helper._height%2/2,W=Math.cos(this.bearingInRadians),G=Math.sin(-this.bearingInRadians),K=m-Math.round(m)+W*B+G*V,te=y-Math.round(y)+W*V+G*B,pe=new Float64Array(k);if(o.M(pe,pe,[K>.5?K-1:K,te>.5?te-1:te,0]),this._alignedProjMatrix=pe,k=o.aq(new Float64Array(16),this._pixelMatrix),!k)throw new Error("failed to invert matrix");this._pixelMatrixInverse=k,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let a=this.screenPointToMercatorCoordinate(new o.P(0,0)),f=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.aw(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let a=o.aj(1,this.center.lat)*this.worldSize;return Xe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/a).toLngLat()}lngLatToCameraDepth(a,f){let m=o.a1.fromLngLat(a),y=[m.x*this.worldSize,m.y*this.worldSize,f,1];return o.aw(y,y,this._viewProjMatrix),y[2]/y[3]}getProjectionData(a){let{overscaledTileID:f,aligned:m,applyTerrainMatrix:y}=a,w=this._helper.getMercatorTileCoordinates(f),M=f?this.calculatePosMatrix(f,m,!0):null,k;return k=f&&f.terrainRttPosMatrix32f&&y?f.terrainRttPosMatrix32f:M||o.b8(),{mainMatrix:k,tileMercatorCoords:w,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:k}}isLocationOccluded(a){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(a,f,m){return 1}transformLightDirection(a){return o.aT(a)}getRayDirectionFromPixel(a){throw new Error("Not implemented.")}projectTileCoordinates(a,f,m,y){let w=this.calculatePosMatrix(m),M;y?(M=[a,f,y(a,f),1],o.aw(M,M,w)):(M=[a,f,0,1],wd(M,M,w));let k=M[3];return{point:new o.P(M[0]/k,M[1]/k),signedDistanceFromCamera:k,isOccluded:!1}}populateCache(a){for(let f of a)this.calculatePosMatrix(f)}getMatrixForModel(a,f){let m=o.a1.fromLngLat(a,f),y=m.meterInMercatorCoordinateUnits(),w=o.b9();return o.M(w,w,[m.x,m.y,m.z]),o.b6(w,w,Math.PI),o.b7(w,w,Math.PI/2),o.N(w,w,[-y,y,y]),w}getProjectionDataForCustomLayer(a=!0){let f=new o.Z(0,0,0,0,0),m=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:a}),y=Be(f,this.worldSize);o.O(y,this._viewProjMatrix,y),m.tileMercatorCoords=[0,0,1,1];let w=[o.$,o.$,this.worldSize/this._helper.pixelsPerMeter],M=o.ba();return o.N(M,y,w),m.fallbackMatrix=M,m.mainMatrix=M,m}getFastPathSimpleProjectionMatrix(a){return this.calculatePosMatrix(a)}}function OT(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function sa(x){if(x.useSlerp){if(x.k<1){let a=o.bb(x.startEulerAngles.roll,x.startEulerAngles.pitch,x.startEulerAngles.bearing),f=o.bb(x.endEulerAngles.roll,x.endEulerAngles.pitch,x.endEulerAngles.bearing),m=new Float64Array(4);o.bc(m,a,f,x.k);let y=o.bd(m);x.tr.setRoll(y.roll),x.tr.setPitch(y.pitch),x.tr.setBearing(y.bearing)}else x.tr.setRoll(x.endEulerAngles.roll),x.tr.setPitch(x.endEulerAngles.pitch),x.tr.setBearing(x.endEulerAngles.bearing);}else x.tr.setRoll(o.C.number(x.startEulerAngles.roll,x.endEulerAngles.roll,x.k)),x.tr.setPitch(o.C.number(x.startEulerAngles.pitch,x.endEulerAngles.pitch,x.k)),x.tr.setBearing(o.C.number(x.startEulerAngles.bearing,x.endEulerAngles.bearing,x.k))}function ps(x,a,f,m,y){let w=y.padding,M=ae(y.worldSize,f.getNorthWest()),k=ae(y.worldSize,f.getNorthEast()),D=ae(y.worldSize,f.getSouthEast()),B=ae(y.worldSize,f.getSouthWest()),V=o.ae(-m),W=M.rotate(V),G=k.rotate(V),K=D.rotate(V),te=B.rotate(V),pe=new o.P(Math.max(W.x,G.x,te.x,K.x),Math.max(W.y,G.y,te.y,K.y)),ce=new o.P(Math.min(W.x,G.x,te.x,K.x),Math.min(W.y,G.y,te.y,K.y)),fe=pe.sub(ce),be=(y.width-(w.left+w.right+a.left+a.right))/fe.x,Ce=(y.height-(w.top+w.bottom+a.top+a.bottom))/fe.y;if(Ce<0||be<0)return void OT();let Ee=Math.min(o.ak(y.scale*Math.min(be,Ce)),x.maxZoom),De=o.P.convert(x.offset),Le=new o.P((a.left-a.right)/2,(a.top-a.bottom)/2).rotate(o.ae(m)),Te=De.add(Le).mult(y.scale/o.af(Ee));return{center:ge(y.worldSize,M.add(D).div(2).sub(Te)),zoom:Ee,bearing:m}}class $o{get useGlobeControls(){return!1}handlePanInertia(a,f){let m=a.mag(),y=Math.abs(Ne(f));return{easingOffset:a.mult(Math.min(.75*y/m,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(a,f){a.bearingDelta&&f.setBearing(f.bearing+a.bearingDelta),a.pitchDelta&&f.setPitch(f.pitch+a.pitchDelta),a.rollDelta&&f.setRoll(f.roll+a.rollDelta),a.zoomDelta&&f.setZoom(f.zoom+a.zoomDelta)}handleMapControlsPan(a,f,m){a.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(m,a.around)}cameraForBoxAndBearing(a,f,m,y,w){return ps(a,f,m,y,w)}handleJumpToCenterZoom(a,f){a.zoom!==(f.zoom!==void 0?+f.zoom:a.zoom)&&a.setZoom(+f.zoom),f.center!==void 0&&a.setCenter(o.S.convert(f.center))}handleEaseTo(a,f){let m=a.zoom,y=a.padding,w={roll:a.roll,pitch:a.pitch,bearing:a.bearing},M={roll:f.roll===void 0?a.roll:f.roll,pitch:f.pitch===void 0?a.pitch:f.pitch,bearing:f.bearing===void 0?a.bearing:f.bearing},k=f.zoom!==void 0,D=!a.isPaddingEqual(f.padding),B=!1,V=k?+f.zoom:a.zoom,W=a.centerPoint.add(f.offsetAsPoint),G=a.screenPointToLocation(W),{center:K,zoom:te}=a.getConstrained(o.S.convert(f.center||G),V!=null?V:m);Jv(a,K);let pe=ae(a.worldSize,G),ce=ae(a.worldSize,K).sub(pe),fe=o.af(te-m);return B=te!==m,{easeFunc:be=>{if(B&&a.setZoom(o.C.number(m,te,be)),o.be(w,M)||sa({startEulerAngles:w,endEulerAngles:M,tr:a,k:be,useSlerp:w.roll!=M.roll}),D&&(a.interpolatePadding(y,f.padding,be),W=a.centerPoint.add(f.offsetAsPoint)),f.around)a.setLocationAtPoint(f.around,f.aroundPoint);else{let Ce=o.af(a.zoom-m),Ee=te>m?Math.min(2,fe):Math.max(.5,fe),De=Math.pow(Ee,1-be),Le=ge(a.worldSize,pe.add(ce.mult(be*De)).mult(Ce));a.setLocationAtPoint(a.renderWorldCopies?Le.wrap():Le,W)}},isZooming:B,elevationCenter:K}}handleFlyTo(a,f){let m=f.zoom!==void 0,y=a.zoom,w=a.getConstrained(o.S.convert(f.center||f.locationAtOffset),m?+f.zoom:y),M=w.center,k=w.zoom;Jv(a,M);let D=ae(a.worldSize,f.locationAtOffset),B=ae(a.worldSize,M).sub(D),V=B.mag(),W=o.af(k-y),G;if(f.minZoom!==void 0){let K=Math.min(+f.minZoom,y,k),te=a.getConstrained(M,K).zoom;G=o.af(te-y)}return{easeFunc:(K,te,pe,ce)=>{a.setZoom(K===1?k:y+o.ak(te));let fe=K===1?M:ge(a.worldSize,D.add(B.mult(pe)).mult(te));a.setLocationAtPoint(a.renderWorldCopies?fe.wrap():fe,ce)},scaleOfZoom:W,targetCenter:M,scaleOfMinZoom:G,pixelPathLength:V}}}class li{constructor(a,f,m){this.blendFunction=a,this.blendColor=f,this.mask=m}}li.Replace=[1,0],li.disabled=new li(li.Replace,o.bf.transparent,[!1,!1,!1,!1]),li.unblended=new li(li.Replace,o.bf.transparent,[!0,!0,!0,!0]),li.alphaBlended=new li([1,771],o.bf.transparent,[!0,!0,!0,!0]);let rf=2305;class Tr{constructor(a,f,m){this.enable=a,this.mode=f,this.frontFace=m}}Tr.disabled=new Tr(!1,1029,rf),Tr.backCCW=new Tr(!0,1029,rf),Tr.frontCCW=new Tr(!0,1028,rf);class Fr{constructor(a,f,m){this.func=a,this.mask=f,this.range=m}}Fr.ReadOnly=!1,Fr.ReadWrite=!0,Fr.disabled=new Fr(519,Fr.ReadOnly,[0,1]);let qu=7680;class vn{constructor(a,f,m,y,w,M){this.test=a,this.ref=f,this.mask=m,this.fail=y,this.depthFail=w,this.pass=M}}vn.disabled=new vn({func:519,mask:0},0,0,qu,qu,qu);let fs=new WeakMap;function Wl(x){var a;if(fs.has(x))return fs.get(x);{let f=(a=x.getParameter(x.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return fs.set(x,f),f}}class Zl{get awaitingQuery(){return!!this._readbackQueue}constructor(a){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=a;let f=a.context,m=f.gl;this._texFormat=m.RGBA,this._texType=m.UNSIGNED_BYTE;let y=new o.aL;y.emplaceBack(-1,-1),y.emplaceBack(2,-1),y.emplaceBack(-1,2);let w=new o.aN;w.emplaceBack(0,1,2),this._fullscreenTriangle=new Jp(f.createVertexBuffer(y,Vc.members),f.createIndexBuffer(w),o.aM.simpleSegment(0,0,y.length,w.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(m.TEXTURE1);let M=m.createTexture();m.bindTexture(m.TEXTURE_2D,M),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texImage2D(m.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(M),Wl(m)&&(this._pbo=m.createBuffer(),m.bindBuffer(m.PIXEL_PACK_BUFFER,this._pbo),m.bufferData(m.PIXEL_PACK_BUFFER,4,m.STREAM_READ),m.bindBuffer(m.PIXEL_PACK_BUFFER,null))}destroy(){let a=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),a.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(a,f){let m=this._updateCount;return this._readbackQueue?m>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():m>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(a,f),this._updateCount++,this._measuredError}_bindFramebuffer(){let a=this._cachedRenderContext.context,f=a.gl;a.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),a.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(a,f){let m=this._cachedRenderContext.context,y=m.gl;if(this._bindFramebuffer(),m.viewport.set([0,0,this._texWidth,this._texHeight]),m.clear({color:o.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(m,y.TRIANGLES,Fr.disabled,vn.disabled,li.unblended,Tr.disabled,((w,M)=>({u_input:w,u_output_expected:M}))(a,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Wl(y)){y.bindBuffer(y.PIXEL_PACK_BUFFER,this._pbo),y.readBuffer(y.COLOR_ATTACHMENT0),y.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),y.bindBuffer(y.PIXEL_PACK_BUFFER,null);let w=y.fenceSync(y.SYNC_GPU_COMMANDS_COMPLETE,0);y.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:w}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let a=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Wl(a)){let f=a.clientWaitSync(this._readbackQueue.sync,0,0);if(f===a.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===a.TIMEOUT_EXPIRED)return;a.bindBuffer(a.PIXEL_PACK_BUFFER,this._pbo),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),a.bindBuffer(a.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),a.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Zl._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(a){let f=0;return f+=a[0]/256,f+=a[1]/65536,f+=a[2]/16777216,a[3]<127&&(f=-f),f/128}}let ty=o.$/128;function kb(x,a){let f=x.granularity!==void 0?Math.max(x.granularity,1):1,m=f+(x.generateBorders?2:0),y=f+(x.extendToNorthPole||x.generateBorders?1:0)+(x.extendToSouthPole||x.generateBorders?1:0),w=m+1,M=y+1,k=x.generateBorders?-1:0,D=x.generateBorders||x.extendToNorthPole?-1:0,B=f+(x.generateBorders?1:0),V=f+(x.generateBorders||x.extendToSouthPole?1:0),W=w*M,G=m*y*6,K=w*M>65536;if(K&&a==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let te=K||a==="32bit",pe=new Int16Array(2*W),ce=0;for(let Ce=D;Ce<=V;Ce++)for(let Ee=k;Ee<=B;Ee++){let De=Ee/f*o.$;Ee===-1&&(De=-ty),Ee===f+1&&(De=o.$+ty);let Le=Ce/f*o.$;Ce===-1&&(Le=x.extendToNorthPole?o.bh:-ty),Ce===f+1&&(Le=x.extendToSouthPole?o.bi:o.$+ty),pe[ce++]=De,pe[ce++]=Le}let fe=te?new Uint32Array(G):new Uint16Array(G),be=0;for(let Ce=0;Ce<y;Ce++)for(let Ee=0;Ee<m;Ee++){let De=Ee+1+Ce*w,Le=Ee+(Ce+1)*w,Te=Ee+1+(Ce+1)*w;fe[be++]=Ee+Ce*w,fe[be++]=Le,fe[be++]=De,fe[be++]=De,fe[be++]=Le,fe[be++]=Te}return{vertices:pe.buffer.slice(0),indices:fe.buffer.slice(0),uses32bitIndices:te}}let Md=new o.aK({fill:new o.bj(128,2),line:new o.bj(512,0),tile:new o.bj(128,32),stencil:new o.bj(128,1),circle:3});class Rm{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return fl.projectionGlobe}get vertexShaderPreludeCode(){return fl.projectionMercator.vertexSource}get subdivisionGranularity(){return Md}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(a){this._errorMeasurement||(this._errorMeasurement=new Zl(a));let f=o.U(this._errorQueryLatitudeDegrees),m=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,y=this._errorMeasurement.updateErrorLoop(f,m),w=E.now();y!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=y,this._errorMeasurementLastChangeTime=w);let M=Math.min(Math.max((w-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bl(M))}_getMeshKey(a){return`${a.granularity.toString(36)}_${a.generateBorders?"b":""}${a.extendToNorthPole?"n":""}${a.extendToSouthPole?"s":""}`}getMeshFromTileID(a,f,m,y,w){let M=(w==="stencil"?Md.stencil:Md.tile).getGranularityForZoomLevel(f.z);return this._getMesh(a,{granularity:M,generateBorders:m,extendToNorthPole:f.y===0&&y,extendToSouthPole:f.y===(1<<f.z)-1&&y})}_getMesh(a,f){let m=this._getMeshKey(f);if(m in this._tileMeshCache)return this._tileMeshCache[m];let y=function(w,M){let k=kb(M,"16bit"),D=o.aL.deserialize({arrayBuffer:k.vertices,length:k.vertices.byteLength/2/2}),B=o.aN.deserialize({arrayBuffer:k.indices,length:k.indices.byteLength/2/3});return new Jp(w.createVertexBuffer(D,Vc.members),w.createIndexBuffer(B),o.aM.simpleSegment(0,0,D.length,B.length))}(a,f);return this._tileMeshCache[m]=y,y}recalculate(a){}hasTransition(){let a=E.now(),f=!1;return f=f||(a-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(a){this._errorQueryLatitudeDegrees=a}}let ry=new o.r({type:new o.D(o.v.projection.type)});class ny extends o.E{constructor(a){super(),this._transitionable=new o.t(ry),this.setProjection(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0)),this._mercatorProjection=new sn,this._verticalPerspectiveProjection=new Rm}get transitionState(){let a=this.properties.get("type");if(typeof a=="string"&&a==="mercator")return 0;if(typeof a=="string"&&a==="vertical-perspective")return 1;if(a instanceof o.bm){if(a.from==="vertical-perspective"&&a.to==="mercator")return 1-a.transition;if(a.from==="mercator"&&a.to==="vertical-perspective")return a.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(a){this._mercatorProjection.updateGPUdependent(a),this._verticalPerspectiveProjection.updateGPUdependent(a)}getMeshFromTileID(a,f,m,y,w){return this.currentProjection.getMeshFromTileID(a,f,m,y,w)}setProjection(a){this._transitionable.setValue("type",(a==null?void 0:a.type)||"mercator")}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}setErrorQueryLatitudeDegrees(a){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(a),this._mercatorProjection.setErrorQueryLatitudeDegrees(a)}}function iy(x){let a=Cd(x.worldSize,x.center.lat);return 2*Math.PI*a}function dl(x,a,f,m,y){let w=1/(1<<y),M=a/o.$*w+m*w,k=o.bo((x/o.$*w+f*w)*Math.PI*2+Math.PI,2*Math.PI),D=2*Math.atan(Math.exp(Math.PI-M*Math.PI*2))-.5*Math.PI,B=Math.cos(D),V=new Float64Array(3);return V[0]=Math.sin(k)*B,V[1]=Math.sin(D),V[2]=Math.cos(k)*B,V}function go(x){return function(a,f){let m=Math.cos(f),y=new Float64Array(3);return y[0]=Math.sin(a)*m,y[1]=Math.sin(f),y[2]=Math.cos(a)*m,y}(x.lng*Math.PI/180,x.lat*Math.PI/180)}function Cd(x,a){return x/(2*Math.PI)/Math.cos(a*Math.PI/180)}function Lm(x){let a=Math.asin(x[1])/Math.PI*180,f=Math.sqrt(x[0]*x[0]+x[2]*x[2]);if(f>1e-6){let m=x[0]/f,y=Math.acos(x[2]/f),w=(m>0?y:-y)/Math.PI*180;return new o.S(o.aO(w,-180,180),a)}return new o.S(0,a)}function nf(x){return Math.cos(x*Math.PI/180)}function Di(x,a){let f=nf(x),m=nf(a);return o.ak(m/f)}function kT(x,a){let f=x.rotate(a.bearingInRadians),m=a.zoom+Di(a.center.lat,0),y=o.bk(1/nf(a.center.lat),1/nf(Math.min(Math.abs(a.center.lat),60)),o.bn(m,7,3,0,1)),w=360/iy({worldSize:a.worldSize,center:{lat:a.center.lat}});return new o.S(a.center.lng-f.x*w*y,o.ah(a.center.lat+f.y*w,-o.ai,o.ai))}function qm(x){let a=.5*x,f=Math.sin(a),m=Math.cos(a);return Math.log(f+m)-Math.log(m-f)}function Db(x,a,f,m){let y=x.lat+f*m;if(Math.abs(f)>1){let w=(Math.sign(x.lat+f)!==Math.sign(x.lat)?-Math.abs(x.lat):Math.abs(x.lat))*Math.PI/180,M=Math.abs(x.lat+f)*Math.PI/180,k=qm(w+m*(M-w)),D=qm(w),B=qm(M);return new o.S(x.lng+a*((k-D)/(B-D)),y)}return new o.S(x.lng+a*m,y)}class SL{constructor(a){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=a}swapBuffers(){if(!this._hadAnyChanges)return;let a=this._cachePrevious;this._cachePrevious=this._cache,this._cache=a,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(a,f,m,y){let w=`${a.z}_${a.x}_${a.y}_${y!=null&&y.terrain?"t":""}`,M=this._cache.get(w);if(M)return M;let k=this._cachePrevious.get(w);if(k)return this._cache.set(w,k),k;let D=this._boundingVolumeFactory(a,f,m,y);return this._cache.set(w,D),this._hadAnyChanges=!0,D}}class Ad{constructor(a,f,m,y){this.min=m,this.max=y,this.points=a,this.planes=f}static fromAabb(a,f){let m=[];for(let y=0;y<8;y++)m.push([1&~y?a[0]:f[0],(y>>1&1)==1?f[1]:a[1],(y>>2&1)==1?f[2]:a[2]]);return new Ad(m,[[-1,0,0,f[0]],[1,0,0,-a[0]],[0,-1,0,f[1]],[0,1,0,-a[1]],[0,0,-1,f[2]],[0,0,1,-a[2]]],a,f)}static fromCenterSizeAngles(a,f,m){let y=o.br([],m[0],m[1],m[2]),w=o.bs([],[f[0],0,0],y),M=o.bs([],[0,f[1],0],y),k=o.bs([],[0,0,f[2]],y),D=[...a],B=[...a];for(let W=0;W<8;W++)for(let G=0;G<3;G++){let K=a[G]+w[G]*(1&~W?-1:1)+M[G]*((W>>1&1)==1?1:-1)+k[G]*((W>>2&1)==1?1:-1);D[G]=Math.min(D[G],K),B[G]=Math.max(B[G],K)}let V=[];for(let W=0;W<8;W++){let G=[...a];o.aS(G,G,o.aR([],w,1&~W?-1:1)),o.aS(G,G,o.aR([],M,(W>>1&1)==1?1:-1)),o.aS(G,G,o.aR([],k,(W>>2&1)==1?1:-1)),V.push(G)}return new Ad(V,[[...w,-o.aX(w,V[0])],[...M,-o.aX(M,V[0])],[...k,-o.aX(k,V[0])],[-w[0],-w[1],-w[2],-o.aX(w,V[7])],[-M[0],-M[1],-M[2],-o.aX(M,V[7])],[-k[0],-k[1],-k[2],-o.aX(k,V[7])]],D,B)}intersectsFrustum(a){let f=!0,m=this.points.length,y=this.planes.length,w=a.planes.length,M=a.points.length;for(let k=0;k<w;k++){let D=a.planes[k],B=0;for(let V=0;V<m;V++){let W=this.points[V];D[0]*W[0]+D[1]*W[1]+D[2]*W[2]+D[3]>=0&&B++}if(B===0)return 0;B<m&&(f=!1)}if(f)return 2;for(let k=0;k<y;k++){let D=this.planes[k],B=0;for(let V=0;V<M;V++){let W=a.points[V];D[0]*W[0]+D[1]*W[1]+D[2]*W[2]+D[3]>=0&&B++}if(B===0)return 0}return 1}intersectsPlane(a){let f=this.points.length,m=0;for(let y=0;y<f;y++){let w=this.points[y];a[0]*w[0]+a[1]*w[1]+a[2]*w[2]+a[3]>=0&&m++}return m===f?2:m===0?0:1}}function ko(x,a,f){let m=x-a;return m<0?-m:Math.max(0,m-f)}function zm(x,a,f,m,y){let w=x-f,M;return M=w<0?Math.min(-w,1+w-y):w>1?Math.min(Math.max(w-y,0),1-w):0,Math.max(M,ko(a,m,y))}class Yl{constructor(){this._boundingVolumeCache=new SL(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(a,f,m,y){let w=1<<m.z,M=1/w,k=m.x/w,D=m.y/w,B=2;return B=Math.min(B,zm(a,f,k,D,M)),B=Math.min(B,zm(a,f,k+.5,-D-M,M)),B=Math.min(B,zm(a,f,k+.5,2-D-M,M)),B}getWrap(a,f,m){let y=1<<f.z,w=1/y,M=f.x/y,k=ko(a.x,M,w),D=ko(a.x,M-1,w),B=ko(a.x,M+1,w),V=Math.min(k,D,B);return V===B?1:V===D?-1:0}allowVariableZoom(a,f){return ft(a,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(a,f,m,y){return this._boundingVolumeCache.getTileBoundingVolume(a,f,m,y)}_computeTileBoundingVolume(a,f,m,y){var w,M;let k=0,D=0;if(y!=null&&y.terrain){let B=new o.Z(a.z,f,a.z,a.x,a.y),V=y.terrain.getMinMaxElevation(B);k=(w=V.minElevation)!==null&&w!==void 0?w:Math.min(0,m),D=(M=V.maxElevation)!==null&&M!==void 0?M:Math.max(0,m)}if(k/=o.bu,D/=o.bu,k+=1,D+=1,a.z<=0)return Ad.fromAabb([-D,-D,-D],[D,D,D]);if(a.z===1)return Ad.fromAabb([a.x===0?-D:0,a.y===0?0:-D,-D],[a.x===0?0:D,a.y===0?D:0,D]);{let B=[dl(0,0,a.x,a.y,a.z),dl(o.$,0,a.x,a.y,a.z),dl(o.$,o.$,a.x,a.y,a.z),dl(0,o.$,a.x,a.y,a.z)],V=[];for(let Je of B)V.push(o.aR([],Je,D));if(D!==k)for(let Je of B)V.push(o.aR([],Je,k));a.y===0&&V.push([0,1,0]),a.y===(1<<a.z)-1&&V.push([0,-1,0]);let W=[1,1,1],G=[-1,-1,-1];for(let Je of V)for(let nt=0;nt<3;nt++)W[nt]=Math.min(W[nt],Je[nt]),G[nt]=Math.max(G[nt],Je[nt]);let K=dl(o.$/2,o.$/2,a.x,a.y,a.z),te=o.aW([],[0,1,0],K);o.aV(te,te);let pe=o.aW([],K,te);o.aV(pe,pe);let ce=o.aW([],B[2],B[1]);o.aV(ce,ce);let fe=o.aW([],B[0],B[3]);o.aV(fe,fe),V.push(o.aR([],K,D)),a.y>=(1<<a.z)/2&&V.push(o.aR([],dl(o.$/2,0,a.x,a.y,a.z),D)),a.y<(1<<a.z)/2&&V.push(o.aR([],dl(o.$/2,o.$,a.x,a.y,a.z),D));let be=jm(K,V),Ce=jm(pe,V),Ee=[-K[0],-K[1],-K[2],be.max],De=[K[0],K[1],K[2],-be.min],Le=[-pe[0],-pe[1],-pe[2],Ce.max],Te=[pe[0],pe[1],pe[2],-Ce.min],Ge=[...ce,0],it=[...fe,0],Qe=[];return a.y===0?Qe.push(o.bt(it,Ge,Ee),o.bt(it,Ge,De)):Qe.push(o.bt(Le,Ge,Ee),o.bt(Le,Ge,De),o.bt(Le,it,Ee),o.bt(Le,it,De)),a.y===(1<<a.z)-1?Qe.push(o.bt(it,Ge,Ee),o.bt(it,Ge,De)):Qe.push(o.bt(Te,Ge,Ee),o.bt(Te,Ge,De),o.bt(Te,it,Ee),o.bt(Te,it,De)),new Ad(Qe,[Ee,De,Le,Te,Ge,it],W,G)}}}function jm(x,a){let f=1/0,m=-1/0;for(let y of a){let w=o.aX(x,y);f=Math.min(f,w),m=Math.max(m,w)}return{min:f,max:m}}class Fm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f){this._helper.resize(a,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a){}constructor(){this._cachedClippingPlane=o.bv(),this._projectionMatrix=o.b9(),this._globeViewProjMatrix32f=o.b8(),this._globeViewProjMatrixNoCorrection=o.b9(),this._globeViewProjMatrixNoCorrectionInverted=o.b9(),this._globeProjMatrixInverted=o.b9(),this._cameraPosition=o.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new oa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,f)=>this.getConstrained(a,f)}),this._coveringTilesDetailsProvider=new Yl}clone(){let a=new Fm;return a.apply(this),a}apply(a,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(a)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let a=o.bp();return a[0]=this._cameraPosition[0],a[1]=this._cameraPosition[1],a[2]=this._cameraPosition[2],a}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(a){let{overscaledTileID:f,applyGlobeMatrix:m}=a,y=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:y,clippingPlane:this._cachedClippingPlane,projectionTransition:m?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(a){let f=this.pitchInRadians,m=this.cameraToCenterDistance/a,y=Math.sin(f)*m,w=Math.cos(f)*m+1,M=1/Math.sqrt(y*y+w*w)*1,k=-y,D=w,B=Math.sqrt(k*k+D*D);k/=B,D/=B;let V=[0,k,D];o.bw(V,V,[0,0,0],-this.bearingInRadians),o.bx(V,V,[0,0,0],-1*this.center.lat*Math.PI/180),o.by(V,V,[0,0,0],this.center.lng*Math.PI/180);let W=1/o.aZ(V);return o.aR(V,V,W),[...V,-M*W]}isLocationOccluded(a){return!this.isSurfacePointVisible(go(a))}transformLightDirection(a){let f=this._helper._center.lng*Math.PI/180,m=this._helper._center.lat*Math.PI/180,y=Math.cos(m),w=[Math.sin(f)*y,Math.sin(m),Math.cos(f)*y],M=[w[2],0,-w[0]],k=[0,0,0];o.aW(k,M,w),o.aV(M,M),o.aV(k,k);let D=[0,0,0];return o.aV(D,[M[0]*a[0]+k[0]*a[1]+w[0]*a[2],M[1]*a[0]+k[1]*a[1]+w[1]*a[2],M[2]*a[0]+k[2]*a[1]+w[2]*a[2]]),D}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(a,f,m){let y=function(k,D,B){let V=1/(1<<B.z);return new o.a1(k/o.$*V+B.x*V,D/o.$*V+B.y*V)}(a,f,m.canonical),w=(M=y.y,[o.bo(y.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-M*Math.PI*2))-.5*Math.PI]);var M;return this.getCircleRadiusCorrection()/Math.cos(w[1])}projectTileCoordinates(a,f,m,y){let w=m.canonical,M=dl(a,f,w.x,w.y,w.z),k=1+(y?y(a,f):0)/o.bu,D=[M[0]*k,M[1]*k,M[2]*k,1];o.aw(D,D,this._globeViewProjMatrixNoCorrection);let B=this._cachedClippingPlane,V=B[0]*M[0]+B[1]*M[1]+B[2]*M[2]+B[3]<0;return{point:new o.P(D[0]/D[3],D[1]/D[3]),signedDistanceFromCamera:D[3],isOccluded:V}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let a=Cd(this.worldSize,this.center.lat),f=o.ba(),m=o.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*a),o.b4(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let y=this.centerOffset;f[8]=2*-y.x/this._helper._width,f[9]=2*y.y/this._helper._height,this._projectionMatrix=o.b5(f),this._globeProjMatrixInverted=o.ba(),o.aq(this._globeProjMatrixInverted,f),o.M(f,f,[0,0,-this.cameraToCenterDistance]),o.b6(f,f,this.rollInRadians),o.b7(f,f,-this.pitchInRadians),o.b6(f,f,this.bearingInRadians),o.M(f,f,[0,0,-a]);let w=o.bp();w[0]=a,w[1]=a,w[2]=a,o.b7(m,f,this.center.lat*Math.PI/180),o.bz(m,m,-this.center.lng*Math.PI/180),o.N(m,m,w),this._globeViewProjMatrixNoCorrection=m,o.b7(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bz(f,f,-this.center.lng*Math.PI/180),o.N(f,f,w),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=o.ba(),o.aq(this._globeViewProjMatrixNoCorrectionInverted,m);let M=o.bp();this._cameraPosition=o.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/a,o.bw(this._cameraPosition,this._cameraPosition,M,-this.rollInRadians),o.bx(this._cameraPosition,this._cameraPosition,M,this.pitchInRadians),o.bw(this._cameraPosition,this._cameraPosition,M,-this.bearingInRadians),o.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bx(this._cameraPosition,this._cameraPosition,M,-this.center.lat*Math.PI/180),o.by(this._cameraPosition,this._cameraPosition,M,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(a);let k=o.b5(this._globeViewProjMatrixNoCorrectionInverted);o.N(k,k,[1,1,-1]),this._cachedFrustum=Vi.fromInvProjectionMatrix(k,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(a){o.w("calculateFogMatrix is not supported on globe projection.");let f=o.ba();return o.ag(f),f}getVisibleUnwrappedCoordinates(a){return[new o.b2(0,a)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){a&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,f){if(!this._globeViewProjMatrixNoCorrection)return 1;let m=go(a);o.aR(m,m,1+f/o.bu);let y=o.bv();return o.aw(y,[m[0],m[1],m[2],1],this._globeViewProjMatrixNoCorrection),y[2]/y[3]}populateCache(a){}getBounds(){let a=.5*this.width,f=.5*this.height,m=[new o.P(0,0),new o.P(a,0),new o.P(this.width,0),new o.P(this.width,f),new o.P(this.width,this.height),new o.P(a,this.height),new o.P(0,this.height),new o.P(0,f)],y=[];for(let W of m)y.push(this.unprojectScreenPoint(W));let w=0,M=0,k=0,D=0,B=this.center;for(let W of y){let G=o.bA(B.lng,W.lng),K=o.bA(B.lat,W.lat);G<M&&(M=G),G>w&&(w=G),K<D&&(D=K),K>k&&(k=K)}let V=[B.lng+M,B.lat+D,B.lng+w,B.lat+k];return this.isSurfacePointOnScreen([0,1,0])&&(V[3]=90,V[0]=-180,V[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(V[1]=-90,V[0]=-180,V[2]=180),new yt(V)}getConstrained(a,f){let m=o.ah(a.lat,-o.ai,o.ai),y=o.ah(+f,this.minZoom+Di(0,m),this.maxZoom);return{center:new o.S(a.lng,m),zoom:y}}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}setLocationAtPoint(a,f){let m=go(this.unprojectScreenPoint(f)),y=go(a),w=o.bp();o.bB(w);let M=o.bp();o.by(M,m,w,-this.center.lng*Math.PI/180),o.bx(M,M,w,this.center.lat*Math.PI/180);let k=y[0]*y[0]+y[2]*y[2],D=M[0]*M[0];if(k<D)return;let B=Math.sqrt(k-D),V=-B,W=o.bC(y[0],y[2],M[0],B),G=o.bC(y[0],y[2],M[0],V),K=o.bp();o.by(K,y,w,-W);let te=o.bC(K[1],K[2],M[1],M[2]),pe=o.bp();o.by(pe,y,w,-G);let ce=o.bC(pe[1],pe[2],M[1],M[2]),fe=.5*Math.PI,be=te>=-fe&&te<=fe,Ce=ce>=-fe&&ce<=fe,Ee,De;if(be&&Ce){let it=this.center.lng*Math.PI/180,Qe=this.center.lat*Math.PI/180;o.bD(W,it)+o.bD(te,Qe)<o.bD(G,it)+o.bD(ce,Qe)?(Ee=W,De=te):(Ee=G,De=ce)}else if(be)Ee=W,De=te;else{if(!Ce)return;Ee=G,De=ce}let Le=Ee/Math.PI*180,Te=De/Math.PI*180,Ge=this.center.lat;this.setCenter(new o.S(Le,o.ah(Te,-90,90))),this.setZoom(this.zoom+Di(Ge,this.center.lat))}locationToScreenPoint(a,f){let m=go(a);if(f){let y=f.getElevationForLngLatZoom(a,this._helper._tileZoom);o.aR(m,m,1+y/o.bu)}return this._projectSurfacePointToScreen(m)}_projectSurfacePointToScreen(a){let f=o.bv();return o.aw(f,[...a,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new o.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(a,f){if(f){let m=f.pointCoordinate(a);if(m)return m}return o.a1.fromLngLat(this.unprojectScreenPoint(a))}screenPointToLocation(a,f){var m;return(m=this.screenPointToMercatorCoordinate(a,f))===null||m===void 0?void 0:m.toLngLat()}isPointOnMapSurface(a,f){let m=this._cameraPosition,y=this.getRayDirectionFromPixel(a);return!!this.rayPlanetIntersection(m,y)}getRayDirectionFromPixel(a){let f=o.bv();f[0]=a.x/this.width*2-1,f[1]=-1*(a.y/this.height*2-1),f[2]=1,f[3]=1,o.aw(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];let m=o.bp();m[0]=f[0]-this._cameraPosition[0],m[1]=f[1]-this._cameraPosition[1],m[2]=f[2]-this._cameraPosition[2];let y=o.bp();return o.aV(y,m),y}isSurfacePointVisible(a){let f=this._cachedClippingPlane;return f[0]*a[0]+f[1]*a[1]+f[2]*a[2]+f[3]>=0}isSurfacePointOnScreen(a){if(!this.isSurfacePointVisible(a))return!1;let f=o.bv();return o.aw(f,[...a,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(a,f){let m=o.aX(a,f),y=o.bp(),w=o.bp();o.aR(w,f,m),o.aU(y,a,w);let M=1-o.aX(y,y);if(M<0)return null;let k=o.aX(a,a)-1,D=-m+(m<0?1:-1)*Math.sqrt(M),B=k/D,V=D;return{tMin:Math.min(B,V),tMax:Math.max(B,V)}}unprojectScreenPoint(a){let f=this._cameraPosition,m=this.getRayDirectionFromPixel(a),y=this.rayPlanetIntersection(f,m);if(y){let V=o.bp();o.aS(V,f,[m[0]*y.tMin,m[1]*y.tMin,m[2]*y.tMin]);let W=o.bp();return o.aV(W,V),Lm(W)}let w=this._cachedClippingPlane,M=w[0]*m[0]+w[1]*m[1]+w[2]*m[2],k=-o.b1(w,f)/M,D=o.bp();if(k>0)o.aS(D,f,[m[0]*k,m[1]*k,m[2]*k]);else{let V=o.bp();o.aS(V,f,[2*m[0],2*m[1],2*m[2]]);let W=o.b1(this._cachedClippingPlane,V);o.aU(D,V,[this._cachedClippingPlane[0]*W,this._cachedClippingPlane[1]*W,this._cachedClippingPlane[2]*W])}let B=function(V){let W=o.bp();return W[0]=V[0]*-V[3],W[1]=V[1]*-V[3],W[2]=V[2]*-V[3],{center:W,radius:Math.sqrt(1-V[3]*V[3])}}(w);return Lm(function(V,W,G){let K=o.bp();o.aU(K,G,V);let te=o.bp();return o.bq(te,V,K,W/o.a$(K)),te}(B.center,B.radius,D))}getMatrixForModel(a,f){let m=o.S.convert(a),y=1/o.bu,w=o.b9();return o.bz(w,w,m.lng/180*Math.PI),o.b7(w,w,-m.lat/180*Math.PI),o.M(w,w,[0,0,1+f/o.bu]),o.b7(w,w,.5*Math.PI),o.N(w,w,[y,y,y]),w}getProjectionDataForCustomLayer(a=!0){let f=this.getProjectionData({overscaledTileID:new o.Z(0,0,0,0,0),applyGlobeMatrix:a});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(a){}}class Bm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f,m=!0){this._helper.resize(a,f,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(a,f){this._globeness=a,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new oa({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,f)=>this.getConstrained(a,f)}),this._globeness=1,this._mercatorTransform=new Kn,this._verticalPerspectiveTransform=new Fm}clone(){let a=new Bm;return a._globeness=this._globeness,a._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,a.apply(this),a}apply(a){this._helper.apply(a),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(a){let f=this._mercatorTransform.getProjectionData(a),m=this._verticalPerspectiveTransform.getProjectionData(a);return{mainMatrix:this.isGlobeRendering?m.mainMatrix:f.mainMatrix,clippingPlane:m.clippingPlane,tileMercatorCoords:m.tileMercatorCoords,projectionTransition:a.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(a){return this.currentTransform.isLocationOccluded(a)}transformLightDirection(a){return this.currentTransform.transformLightDirection(a)}getPixelScale(){return o.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(a,f,m){let y=this._mercatorTransform.getPitchedTextCorrection(a,f,m),w=this._verticalPerspectiveTransform.getPitchedTextCorrection(a,f,m);return o.bk(y,w,this._globeness)}projectTileCoordinates(a,f,m,y){return this.currentTransform.projectTileCoordinates(a,f,m,y)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(a){return this.currentTransform.calculateFogMatrix(a)}getVisibleUnwrappedCoordinates(a){return this.currentTransform.getVisibleUnwrappedCoordinates(a)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(a){this._mercatorTransform.recalculateZoomAndCenter(a),this._verticalPerspectiveTransform.recalculateZoomAndCenter(a)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,f){return this.currentTransform.lngLatToCameraDepth(a,f)}populateCache(a){this._mercatorTransform.populateCache(a),this._verticalPerspectiveTransform.populateCache(a)}getBounds(){return this.currentTransform.getBounds()}getConstrained(a,f){return this.currentTransform.getConstrained(a,f)}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}setLocationAtPoint(a,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(a,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(a,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(a,f){return this.currentTransform.locationToScreenPoint(a,f)}screenPointToMercatorCoordinate(a,f){return this.currentTransform.screenPointToMercatorCoordinate(a,f)}screenPointToLocation(a,f){return this.currentTransform.screenPointToLocation(a,f)}isPointOnMapSurface(a,f){return this.currentTransform.isPointOnMapSurface(a,f)}getRayDirectionFromPixel(a){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(a)}getMatrixForModel(a,f){return this.currentTransform.getMatrixForModel(a,f)}getProjectionDataForCustomLayer(a=!0){let f=this._mercatorTransform.getProjectionDataForCustomLayer(a);if(!this.isGlobeRendering)return f;let m=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(a);return m.fallbackMatrix=f.mainMatrix,m}getFastPathSimpleProjectionMatrix(a){return this.currentTransform.getFastPathSimpleProjectionMatrix(a)}}class Go{get useGlobeControls(){return!0}handlePanInertia(a,f){let m=kT(a,f);return Math.abs(m.lng-f.center.lng)>180&&(m.lng=f.center.lng+179.5*Math.sign(m.lng-f.center.lng)),{easingCenter:m,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(a,f){let m=a.around,y=f.screenPointToLocation(m);a.bearingDelta&&f.setBearing(f.bearing+a.bearingDelta),a.pitchDelta&&f.setPitch(f.pitch+a.pitchDelta),a.rollDelta&&f.setRoll(f.roll+a.rollDelta);let w=f.zoom;a.zoomDelta&&f.setZoom(f.zoom+a.zoomDelta);let M=f.zoom-w;if(M===0)return;let k=o.bA(f.center.lng,y.lng),D=k/(Math.abs(k/180)+1),B=o.bA(f.center.lat,y.lat),V=f.getRayDirectionFromPixel(m),W=f.cameraPosition,G=-1*o.aX(W,V),K=o.bp();o.aS(K,W,[V[0]*G,V[1]*G,V[2]*G]);let te=o.aZ(K)-1,pe=Math.exp(.5*-Math.max(te-.3,0)),ce=Cd(f.worldSize,f.center.lat)/Math.min(f.width,f.height),fe=o.bn(ce,.9,.5,1,.25),be=(1-o.af(-M))*Math.min(pe,fe),Ce=f.center.lat,Ee=f.zoom,De=new o.S(f.center.lng+D*be,o.ah(f.center.lat+B*be,-o.ai,o.ai));f.setLocationAtPoint(y,m);let Le=f.center,Te=o.bn(Math.abs(k),45,85,0,1),Ge=o.bn(ce,.75,.35,0,1),it=Math.pow(Math.max(Te,Ge),.25),Qe=o.bA(Le.lng,De.lng),Je=o.bA(Le.lat,De.lat);f.setCenter(new o.S(Le.lng+Qe*it,Le.lat+Je*it).wrap()),f.setZoom(Ee+Di(Ce,f.center.lat))}handleMapControlsPan(a,f,m){if(!a.panDelta)return;let y=f.center.lat,w=f.zoom;f.setCenter(kT(a.panDelta,f).wrap()),f.setZoom(w+Di(y,f.center.lat))}cameraForBoxAndBearing(a,f,m,y,w){let M=ps(a,f,m,y,w),k=f.left/w.width*2-1,D=(w.width-f.right)/w.width*2-1,B=f.top/w.height*-2+1,V=(w.height-f.bottom)/w.height*-2+1,W=o.bA(m.getWest(),m.getEast())<0,G=W?m.getEast():m.getWest(),K=W?m.getWest():m.getEast(),te=Math.max(m.getNorth(),m.getSouth()),pe=Math.min(m.getNorth(),m.getSouth()),ce=G+.5*o.bA(G,K),fe=te+.5*o.bA(te,pe),be=w.clone();be.setCenter(M.center),be.setBearing(M.bearing),be.setPitch(0),be.setRoll(0),be.setZoom(M.zoom);let Ce=be.modelViewProjectionMatrix,Ee=[go(m.getNorthWest()),go(m.getNorthEast()),go(m.getSouthWest()),go(m.getSouthEast()),go(new o.S(K,fe)),go(new o.S(G,fe)),go(new o.S(ce,te)),go(new o.S(ce,pe))],De=go(M.center),Le=Number.POSITIVE_INFINITY;for(let Te of Ee)k<0&&(Le=Go.getLesserNonNegativeNonNull(Le,Go.solveVectorScale(Te,De,Ce,"x",k))),D>0&&(Le=Go.getLesserNonNegativeNonNull(Le,Go.solveVectorScale(Te,De,Ce,"x",D))),B>0&&(Le=Go.getLesserNonNegativeNonNull(Le,Go.solveVectorScale(Te,De,Ce,"y",B))),V<0&&(Le=Go.getLesserNonNegativeNonNull(Le,Go.solveVectorScale(Te,De,Ce,"y",V)));if(Number.isFinite(Le)&&Le!==0)return M.zoom=be.zoom+o.ak(Le),M;OT()}handleJumpToCenterZoom(a,f){let m=a.center.lat,y=a.getConstrained(f.center?o.S.convert(f.center):a.center,a.zoom).center;a.setCenter(y.wrap());let w=f.zoom!==void 0?+f.zoom:a.zoom+Di(m,y.lat);a.zoom!==w&&a.setZoom(w)}handleEaseTo(a,f){let m=a.zoom,y=a.center,w=a.padding,M={roll:a.roll,pitch:a.pitch,bearing:a.bearing},k={roll:f.roll===void 0?a.roll:f.roll,pitch:f.pitch===void 0?a.pitch:f.pitch,bearing:f.bearing===void 0?a.bearing:f.bearing},D=f.zoom!==void 0,B=!a.isPaddingEqual(f.padding),V=!1,W=f.center?o.S.convert(f.center):y,G=a.getConstrained(W,m).center;Jv(a,G);let K=a.clone();K.setCenter(G),K.setZoom(D?+f.zoom:m+Di(y.lat,W.lat)),K.setBearing(f.bearing);let te=new o.P(o.ah(a.centerPoint.x+f.offsetAsPoint.x,0,a.width),o.ah(a.centerPoint.y+f.offsetAsPoint.y,0,a.height));K.setLocationAtPoint(G,te);let pe=(f.offset&&f.offsetAsPoint.mag())>0?K.center:G,ce=D?+f.zoom:m+Di(y.lat,pe.lat),fe=m+Di(y.lat,0),be=ce+Di(pe.lat,0),Ce=o.bA(y.lng,pe.lng),Ee=o.bA(y.lat,pe.lat),De=o.af(be-fe);return V=ce!==m,{easeFunc:Le=>{if(o.be(M,k)||sa({startEulerAngles:M,endEulerAngles:k,tr:a,k:Le,useSlerp:M.roll!=k.roll}),B&&a.interpolatePadding(w,f.padding,Le),f.around)o.w("Easing around a point is not supported under globe projection."),a.setLocationAtPoint(f.around,f.aroundPoint);else{let Te=be>fe?Math.min(2,De):Math.max(.5,De),Ge=Math.pow(Te,1-Le),it=Db(y,Ce,Ee,Le*Ge);a.setCenter(it.wrap())}if(V){let Te=o.C.number(fe,be,Le)+Di(0,a.center.lat);a.setZoom(Te)}},isZooming:V,elevationCenter:pe}}handleFlyTo(a,f){let m=f.zoom!==void 0,y=a.center,w=a.zoom,M=a.padding,k=!a.isPaddingEqual(f.padding),D=a.getConstrained(o.S.convert(f.center||f.locationAtOffset),w).center,B=m?+f.zoom:a.zoom+Di(a.center.lat,D.lat),V=a.clone();V.setCenter(D),V.setZoom(B),V.setBearing(f.bearing);let W=new o.P(o.ah(a.centerPoint.x+f.offsetAsPoint.x,0,a.width),o.ah(a.centerPoint.y+f.offsetAsPoint.y,0,a.height));V.setLocationAtPoint(D,W);let G=V.center;Jv(a,G);let K=function(Ee,De,Le){let Te=go(De),Ge=go(Le),it=o.aX(Te,Ge),Qe=Math.acos(it),Je=iy(Ee);return Qe/(2*Math.PI)*Je}(a,y,G),te=w+Di(y.lat,0),pe=B+Di(G.lat,0),ce=o.af(pe-te),fe;if(typeof f.minZoom=="number"){let Ee=+f.minZoom+Di(G.lat,0),De=Math.min(Ee,te,pe)+Di(0,G.lat),Le=a.getConstrained(G,De).zoom+Di(G.lat,0);fe=o.af(Le-te)}let be=o.bA(y.lng,G.lng),Ce=o.bA(y.lat,G.lat);return{easeFunc:(Ee,De,Le,Te)=>{let Ge=Db(y,be,Ce,Le);k&&a.interpolatePadding(M,f.padding,Ee);let it=Ee===1?G:Ge;a.setCenter(it.wrap());let Qe=te+o.ak(De);a.setZoom(Ee===1?B:Qe+Di(0,it.lat))},scaleOfZoom:ce,targetCenter:G,scaleOfMinZoom:fe,pixelPathLength:K}}static solveVectorScale(a,f,m,y,w){let M=y==="x"?[m[0],m[4],m[8],m[12]]:[m[1],m[5],m[9],m[13]],k=[m[3],m[7],m[11],m[15]],D=a[0]*M[0]+a[1]*M[1]+a[2]*M[2],B=a[0]*k[0]+a[1]*k[1]+a[2]*k[2],V=f[0]*M[0]+f[1]*M[1]+f[2]*M[2],W=f[0]*k[0]+f[1]*k[1]+f[2]*k[2];return V+w*B===D+w*W||k[3]*(D-V)+M[3]*(W-B)+D*W==V*B?null:(V+M[3]-w*W-w*k[3])/(V-D-w*W+w*B)}static getLesserNonNegativeNonNull(a,f){return f!==null&&f>=0&&f<a?f:a}}class DT{constructor(a){this._globe=a,this._mercatorCameraHelper=new $o,this._verticalPerspectiveCameraHelper=new Go}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(a,f){return this.currentHelper.handlePanInertia(a,f)}handleMapControlsRollPitchBearingZoom(a,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(a,f)}handleMapControlsPan(a,f,m){this.currentHelper.handleMapControlsPan(a,f,m)}cameraForBoxAndBearing(a,f,m,y,w){return this.currentHelper.cameraForBoxAndBearing(a,f,m,y,w)}handleJumpToCenterZoom(a,f){this.currentHelper.handleJumpToCenterZoom(a,f)}handleEaseTo(a,f){return this.currentHelper.handleEaseTo(a,f)}handleFlyTo(a,f){return this.currentHelper.handleFlyTo(a,f)}}let oy=(x,a)=>o.y(x,a&&a.filter(f=>f.identifier!=="source.canvas")),EL=o.bE();class Nb extends o.E{constructor(a,f={}){var m,y;super(),this._rtlPluginLoaded=()=>{for(let M in this.sourceCaches){let k=this.sourceCaches[M].getSource().type;k!=="vector"&&k!=="geojson"||this.sourceCaches[M].reload()}},this.map=a,this.dispatcher=new ot(pt(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(M,k)=>this.getGlyphs(M,k)),this.dispatcher.registerMessageHandler("GI",(M,k)=>this.getImages(M,k)),this.imageManager=new le,this.imageManager.setEventedParent(this);let w=((m=a._container)===null||m===void 0?void 0:m.lang)||typeof document!="undefined"&&((y=document.documentElement)===null||y===void 0?void 0:y.lang)||void 0;this.glyphManager=new xe(a._requestManager,f.localIdeographFontFamily,w),this.lineAtlas=new dt(256,512),this.crossTileSymbolIndex=new Td,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",o.bG()),Ct().on(Ae,this._rtlPluginLoaded),this.on("data",M=>{if(M.dataType!=="source"||M.sourceDataType!=="metadata")return;let k=this.sourceCaches[M.sourceId];if(!k)return;let D=k.getSource();if(D&&D.vectorLayerIds)for(let B in this._layers){let V=this._layers[B];V.source===D.id&&this._validateLayer(V)}})}setGlobalStateProperty(a,f){var m,y,w;this._checkLoaded();let M=f===null?(w=(y=(m=this.stylesheet.state)===null||m===void 0?void 0:m[a])===null||y===void 0?void 0:y.default)!==null&&w!==void 0?w:null:f;if(o.bH(M,this._globalState[a]))return this;this._globalState[a]=M,this._applyGlobalStateChanges([a])}getGlobalState(){return this._globalState}setGlobalState(a){this._checkLoaded();let f=[];for(let m in a)!o.bH(this._globalState[m],a[m].default)&&(f.push(m),this._globalState[m]=a[m].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(a){if(a.length===0)return;let f=new Set;for(let m in this._layers){let y=this._layers[m],w=y.getLayoutAffectingGlobalStateRefs(),M=y.getPaintAffectingGlobalStateRefs();for(let k of a)if(w.has(k)&&f.add(y.source),M.has(k))for(let{name:D,value:B}of M.get(k))this._updatePaintProperty(y,D,B)}for(let m in this.sourceCaches)f.has(m)&&(this._reloadSource(m),this._changed=!0)}loadURL(a,f={},m){this.fire(new o.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;let y=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let w=this._loadStyleRequest;o.j(y,this._loadStyleRequest).then(M=>{this._loadStyleRequest=null,this._load(M.data,f,m)}).catch(M=>{this._loadStyleRequest=null,M&&!w.signal.aborted&&this.fire(new o.k(M))})}loadJSON(a,f={},m){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(a,f,m)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(EL,{validate:!1})}_load(a,f,m){var y,w;let M=f.transformStyle?f.transformStyle(m,a):a;if(!f.validate||!oy(this,o.z(M))){M=Object.assign({},M),this._loaded=!0,this.stylesheet=M;for(let k in M.sources)this.addSource(k,M.sources[k],{validate:!1});M.sprite?this._loadSprite(M.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(M.glyphs),this._createLayers(),this.light=new Pe(this.stylesheet.light),this._setProjectionInternal(((y=this.stylesheet.projection)===null||y===void 0?void 0:y.type)||"mercator"),this.sky=new at(this.stylesheet.sky),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){var a;let f=o.bI(this.stylesheet.layers);this.dispatcher.broadcast("SL",f),this._order=f.map(m=>m.id),this._layers={},this.setGlobalState((a=this.stylesheet.state)!==null&&a!==void 0?a:null),this._serializedLayers=null;for(let m of f){let y=o.bJ(m);y.setEventedParent(this,{layer:{id:m.id}}),y.setGlobalState(this._globalState),this._layers[m.id]=y}}_loadSprite(a,f=!1,m=void 0){let y;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(w,M,k,D){return o._(this,void 0,void 0,function*(){let B=Y(w),V=k>1?"@2x":"",W={},G={};for(let{id:K,url:te}of B){let pe=M.transformRequest(re(te,V,".json"),"SpriteJSON");W[K]=o.j(pe,D);let ce=M.transformRequest(re(te,V,".png"),"SpriteImage");G[K]=j.getImage(ce,D)}return yield Promise.all([...Object.values(W),...Object.values(G)]),function(K,te){return o._(this,void 0,void 0,function*(){let pe={};for(let ce in K){pe[ce]={};let fe=E.getImageCanvasContext((yield te[ce]).data),be=(yield K[ce]).data;for(let Ce in be){let{width:Ee,height:De,x:Le,y:Te,sdf:Ge,pixelRatio:it,stretchX:Qe,stretchY:Je,content:nt,textFitWidth:Pt,textFitHeight:Dt}=be[Ce];pe[ce][Ce]={data:null,pixelRatio:it,sdf:Ge,stretchX:Qe,stretchY:Je,content:nt,textFitWidth:Pt,textFitHeight:Dt,spriteData:{width:Ee,height:De,x:Le,y:Te,context:fe}}}}return pe})}(W,G)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(w=>{if(this._spriteRequest=null,w)for(let M in w){this._spritesImagesIds[M]=[];let k=this._spritesImagesIds[M]?this._spritesImagesIds[M].filter(D=>!(D in w)):[];for(let D of k)this.imageManager.removeImage(D),this._changedImages[D]=!0;for(let D in w[M]){let B=M==="default"?D:`${M}:${D}`;this._spritesImagesIds[M].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,w[M][D],!1):this.imageManager.addImage(B,w[M][D]),f&&(this._changedImages[B]=!0)}}}).catch(w=>{this._spriteRequest=null,y=w,this.fire(new o.k(y))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),m&&m(y)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(a){let f=this.sourceCaches[a.source];if(!f)return;let m=a.sourceLayer;if(!m)return;let y=f.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.k(new Error(`Source layer "${m}" does not exist on source "${y.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,f=!1){let m=this._serializedAllLayers();if(!a||a.length===0)return Object.values(f?o.bK(m):m);let y=[];for(let w of a)if(m[w]){let M=f?o.bK(m[w]):m[w];y.push(M)}return y}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let f=Object.keys(this._layers);for(let m of f){let y=this._layers[m];y.type!=="custom"&&(a[m]=y.serialize())}return a}hasTransitions(){var a,f,m;if(!((a=this.light)===null||a===void 0)&&a.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((m=this.projection)===null||m===void 0)&&m.hasTransition())return!0;for(let y in this.sourceCaches)if(this.sourceCaches[y].hasTransition())return!0;for(let y in this._layers)if(this._layers[y].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let f=this._changed;if(f){let y=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(y.length||w.length)&&this._updateWorkerLayers(y,w);for(let M in this._updatedSources){let k=this._updatedSources[M];if(k==="reload")this._reloadSource(M);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(M)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let M in this._updatedPaintProps)this._layers[M].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let m={};for(let y in this.sourceCaches){let w=this.sourceCaches[y];m[y]=w.used,w.used=!1}for(let y of this._order){let w=this._layers[y];w.recalculate(a,this._availableImages),!w.isHidden(a.zoom)&&w.source&&(this.sourceCaches[w.source].used=!0)}for(let y in m){let w=this.sourceCaches[y];!!m[y]!=!!w.used&&w.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(a),this.sky.recalculate(a),this.projection.recalculate(a),this.z=a.zoom,f&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,f={}){var m;this._checkLoaded();let y=this.serialize();if(a=f.transformStyle?f.transformStyle(y,a):a,((m=f.validate)===null||m===void 0||m)&&oy(this,o.z(a)))return!1;(a=o.bK(a)).layers=o.bI(a.layers);let w=o.bL(y,a),M=this._getOperationsToPerform(w);if(M.unimplemented.length>0)throw new Error(`Unimplemented: ${M.unimplemented.join(", ")}.`);if(M.operations.length===0)return!1;for(let k of M.operations)k();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let f=[],m=[];for(let y of a)switch(y.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,y.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,y.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,y.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,y.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,y.args));break;case"addSource":f.push(()=>this.addSource.apply(this,y.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,y.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,y.args));break;case"setLight":f.push(()=>this.setLight.apply(this,y.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,y.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,y.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,y.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,y.args));break;case"setSky":f.push(()=>this.setSky.apply(this,y.args));break;case"setProjection":this.setProjection.apply(this,y.args);break;case"setGlobalState":f.push(()=>this.setGlobalState.apply(this,y.args));break;case"setTransition":f.push(()=>{});break;default:m.push(y.command)}return{operations:f,unimplemented:m}}addImage(a,f){if(this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,f),this._afterImageUpdated(a)}updateImage(a,f){this.imageManager.updateImage(a,f)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,f,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(o.z.source,`sources.${a}`,f,null,m))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);let y=this.sourceCaches[a]=new Gt(a,f,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:a})),y.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let m in this._layers)if(this._layers[m].source===a)return this.fire(new o.k(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));let f=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],f.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,f){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(f),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,f,m={}){this._checkLoaded();let y=a.id;if(this.getLayer(y))return void this.fire(new o.k(new Error(`Layer "${y}" already exists on this map.`)));let w;if(a.type==="custom"){if(oy(this,o.bM(a)))return;w=o.bJ(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(y,a.source),a=o.bK(a),a=o.e(a,{source:y})),this._validate(o.z.layer,`layers.${y}`,a,{arrayIndex:-1},m))return;w=o.bJ(a),this._validateLayer(w),w.setEventedParent(this,{layer:{id:y}})}let M=f?this._order.indexOf(f):this._order.length;if(f&&M===-1)this.fire(new o.k(new Error(`Cannot add layer "${y}" before non-existing layer "${f}".`)));else{if(this._order.splice(M,0,y),this._layerOrderChanged=!0,this._layers[y]=w,this._removedLayers[y]&&w.source&&w.type!=="custom"){let k=this._removedLayers[y];delete this._removedLayers[y],k.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}moveLayer(a,f){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.k(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===f)return;let m=this._order.indexOf(a);this._order.splice(m,1);let y=f?this._order.indexOf(f):this._order.length;f&&y===-1?this.fire(new o.k(new Error(`Cannot move layer "${a}" before non-existing layer "${f}".`))):(this._order.splice(y,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let f=this._layers[a];if(!f)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${a}".`)));f.setEventedParent(null);let m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=f,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],f.onRemove&&f.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,f,m){this._checkLoaded();let y=this.getLayer(a);y?y.minzoom===f&&y.maxzoom===m||(f!=null&&(y.minzoom=f),m!=null&&(y.maxzoom=m),this._updateLayer(y)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,f,m={}){this._checkLoaded();let y=this.getLayer(a);if(y){if(!o.bH(y.filter,f))return f==null?(y.setFilter(void 0),void this._updateLayer(y)):void(this._validate(o.z.filter,`layers.${y.id}.filter`,f,null,m)||(y.setFilter(o.bK(f)),this._updateLayer(y)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.bK(this.getLayer(a).filter)}setLayoutProperty(a,f,m,y={}){this._checkLoaded();let w=this.getLayer(a);w?o.bH(w.getLayoutProperty(f),m)||(w.setLayoutProperty(f,m,y),this._updateLayer(w)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,f){let m=this.getLayer(a);if(m)return m.getLayoutProperty(f);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,f,m,y={}){this._checkLoaded();let w=this.getLayer(a);w?o.bH(w.getPaintProperty(f),m)||this._updatePaintProperty(w,f,m,y):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}_updatePaintProperty(a,f,m,y={}){a.setPaintProperty(f,m,y)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[a.id]=!0,this._serializedLayers=null}getPaintProperty(a,f){return this.getLayer(a).getPaintProperty(f)}setFeatureState(a,f){this._checkLoaded();let m=a.source,y=a.sourceLayer,w=this.sourceCaches[m];if(w===void 0)return void this.fire(new o.k(new Error(`The source '${m}' does not exist in the map's style.`)));let M=w.getSource().type;M==="geojson"&&y?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):M!=="vector"||y?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),w.setFeatureState(y,a.id,f)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,f){this._checkLoaded();let m=a.source,y=this.sourceCaches[m];if(y===void 0)return void this.fire(new o.k(new Error(`The source '${m}' does not exist in the map's style.`)));let w=y.getSource().type,M=w==="vector"?a.sourceLayer:void 0;w!=="vector"||M?f&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(M,a.id,f):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let f=a.source,m=a.sourceLayer,y=this.sourceCaches[f];if(y!==void 0)return y.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),y.getFeatureState(m,a.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.bN(this.sourceCaches,w=>w.serialize()),f=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,y=this.stylesheet;return o.bO({version:y.version,name:y.name,metadata:y.metadata,light:y.light,sky:y.sky,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,projection:y.projection,sources:a,layers:f,terrain:m},w=>w!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let f=M=>this._layers[M].type==="fill-extrusion",m={},y=[];for(let M=this._order.length-1;M>=0;M--){let k=this._order[M];if(f(k)){m[k]=M;for(let D of a){let B=D[k];if(B)for(let V of B)y.push(V)}}}y.sort((M,k)=>k.intersectionZ-M.intersectionZ);let w=[];for(let M=this._order.length-1;M>=0;M--){let k=this._order[M];if(f(k))for(let D=y.length-1;D>=0;D--){let B=y[D].feature;if(m[B.layer.id]<M)break;w.push(B),y.pop()}else for(let D of a){let B=D[k];if(B)for(let V of B)w.push(V.feature)}}return w}queryRenderedFeatures(a,f,m){f&&f.filter&&this._validate(o.z.filter,"queryRenderedFeatures.filter",f.filter,null,f);let y={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let B of f.layers){let V=this._layers[B];if(!V)return this.fire(new o.k(new Error(`The layer '${B}' does not exist in the map's style and cannot be queried for features.`))),[];y[V.source]=!0}}let w=[];f.availableImages=this._availableImages;let M=this._serializedAllLayers(),k=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,D=Object.assign(Object.assign({},f),{layers:k});for(let B in this.sourceCaches)f.layers&&!y[B]||w.push(He(this.sourceCaches[B],this._layers,M,a,D,m,this.map.terrain?(V,W,G)=>this.map.terrain.getElevation(V,W,G):void 0));return this.placement&&w.push(function(B,V,W,G,K,te,pe){let ce={},fe=te.queryRenderedSymbols(G),be=[];for(let Ce of Object.keys(fe).map(Number))be.push(pe[Ce]);be.sort(Fe);for(let Ce of be){let Ee=Ce.featureIndex.lookupSymbolFeatures(fe[Ce.bucketInstanceId],V,Ce.bucketIndex,Ce.sourceLayerIndex,K.filter,K.layers,K.availableImages,B);for(let De in Ee){let Le=ce[De]=ce[De]||[],Te=Ee[De];Te.sort((Ge,it)=>{let Qe=Ce.featureSortOrder;if(Qe){let Je=Qe.indexOf(Ge.featureIndex);return Qe.indexOf(it.featureIndex)-Je}return it.featureIndex-Ge.featureIndex});for(let Ge of Te)Le.push(Ge)}}return function(Ce,Ee,De){for(let Le in Ce)for(let Te of Ce[Le])lt(Te,De[Ee[Le].source]);return Ce}(ce,B,W)}(this._layers,M,this.sourceCaches,a,D,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(a,f){f&&f.filter&&this._validate(o.z.filter,"querySourceFeatures.filter",f.filter,null,f);let m=this.sourceCaches[a];return m?function(y,w){let M=y.getRenderableIds().map(B=>y.getTileByID(B)),k=[],D={};for(let B=0;B<M.length;B++){let V=M[B],W=V.tileID.canonical.key;D[W]||(D[W]=!0,V.querySourceFeatures(k,w))}return k}(m,f):[]}getLight(){return this.light.getLight()}setLight(a,f={}){this._checkLoaded();let m=this.light.getLight(),y=!1;for(let M in a)if(!o.bH(a[M],m[M])){y=!0;break}if(!y)return;let w={now:E.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,f),this.light.updateTransitions(w)}getProjection(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.projection}setProjection(a){if(this._checkLoaded(),this.projection){if(this.projection.name===a.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=a,this._setProjectionInternal(a.type)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,f={}){this._checkLoaded();let m=this.getSky(),y=!1;if(!a&&!m)return;if(a&&!m)y=!0;else if(!a&&m)y=!0;else for(let M in a)if(!o.bH(a[M],m[M])){y=!0;break}if(!y)return;let w={now:E.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,f),this.sky.updateTransitions(w)}_setProjectionInternal(a){let f=function(m){if(Array.isArray(m)){let y=new ny({type:m});return{projection:y,transform:new Bm,cameraHelper:new DT(y)}}switch(m){case"mercator":return{projection:new sn,transform:new Kn,cameraHelper:new $o};case"globe":{let y=new ny({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:y,transform:new Bm,cameraHelper:new DT(y)}}case"vertical-perspective":return{projection:new Rm,transform:new Fm,cameraHelper:new Go};default:return o.w(`Unknown projection name: ${m}. Falling back to mercator projection.`),{projection:new sn,transform:new Kn,cameraHelper:new $o}}}(a);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(let m in this.sourceCaches)this.sourceCaches[m].reload()}_validate(a,f,m,y,w={}){return(!w||w.validate!==!1)&&oy(this,a.call(o.z,o.e({key:f,style:this.serialize(),value:m,styleSpec:o.v},y)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Ct().off(Ae,this._rtlPluginLoaded);for(let f in this._layers)this._layers[f].setEventedParent(null);for(let f in this.sourceCaches){let m=this.sourceCaches[f];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let f in this.sourceCaches)this.sourceCaches[f].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,f,m,y,w=!1){let M=!1,k=!1,D={};for(let B of this._order){let V=this._layers[B];if(V.type!=="symbol")continue;if(!D[V.source]){let G=this.sourceCaches[V.source];D[V.source]=G.getRenderableIds(!0).map(K=>G.getTileByID(K)).sort((K,te)=>te.tileID.overscaledZ-K.tileID.overscaledZ||(K.tileID.isLessThan(te.tileID)?-1:1))}let W=this.crossTileSymbolIndex.addLayer(V,D[V.source],a.center.lng);M=M||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(E.now(),a.zoom))&&(this.pauseablePlacement=new Ab(a,this.map.terrain,this._order,w,f,m,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,D),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(E.now()),k=!0),M&&this.pauseablePlacement.placement.setStale()),k||M)for(let B of this._order){let V=this._layers[B];V.type==="symbol"&&this.placement.updateLayerOpacities(V,D[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(E.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,f){return o._(this,void 0,void 0,function*(){let m=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();let y=this.sourceCaches[f.source];return y&&y.setDependencies(f.tileID.key,f.type,f.icons),m})}getGlyphs(a,f){return o._(this,void 0,void 0,function*(){let m=yield this.glyphManager.getGlyphs(f.stacks),y=this.sourceCaches[f.source];return y&&y.setDependencies(f.tileID.key,f.type,[""]),m})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,f={}){this._checkLoaded(),a&&this._validate(o.z.glyphs,"glyphs",a,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,f,m={},y){this._checkLoaded();let w=[{id:a,url:f}],M=[...Y(this.stylesheet.sprite),...w];this._validate(o.z.sprite,"sprite",M,null,m)||(this.stylesheet.sprite=M,this._loadSprite(w,!0,y))}removeSprite(a){this._checkLoaded();let f=Y(this.stylesheet.sprite);if(f.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(let m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;f.splice(f.findIndex(m=>m.id===a),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return Y(this.stylesheet.sprite)}setSprite(a,f={},m){this._checkLoaded(),a&&this._validate(o.z.sprite,"sprite",a,null,f)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}var IL=o.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class TL{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,f,m,y,w,M,k,D,B){this.context=a;let V=this.boundPaintVertexBuffers.length!==y.length;for(let W=0;!V&&W<y.length;W++)this.boundPaintVertexBuffers[W]!==y[W]&&(V=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==m||V||this.boundIndexBuffer!==w||this.boundVertexOffset!==M||this.boundDynamicVertexBuffer!==k||this.boundDynamicVertexBuffer2!==D||this.boundDynamicVertexBuffer3!==B?this.freshBind(f,m,y,w,M,k,D,B):(a.bindVertexArray.set(this.vao),k&&k.bind(),w&&w.dynamicDraw&&w.bind(),D&&D.bind(),B&&B.bind())}freshBind(a,f,m,y,w,M,k,D){let B=a.numAttributes,V=this.context,W=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=y,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=M,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=D,f.enableAttributes(W,a);for(let G of m)G.enableAttributes(W,a);M&&M.enableAttributes(W,a),k&&k.enableAttributes(W,a),D&&D.enableAttributes(W,a),f.bind(),f.setVertexAttribPointers(W,a,w);for(let G of m)G.bind(),G.setVertexAttribPointers(W,a,w);M&&(M.bind(),M.setVertexAttribPointers(W,a,w)),y&&y.bind(),k&&(k.bind(),k.setVertexAttribPointers(W,a,w)),D&&(D.bind(),D.setVertexAttribPointers(W,a,w)),V.currentNumAttributes=B}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let ay=(x,a,f,m,y)=>({u_texture:0,u_ele_delta:x,u_fog_matrix:a,u_fog_color:f?f.properties.get("fog-color"):o.bf.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:y?0:f?f.calculateFogBlendOpacity(m):0,u_horizon_color:f?f.properties.get("horizon-color"):o.bf.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:y?1:0}),Rb={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function of(x){let a=[];for(let f=0;f<x.length;f++){if(x[f]===null)continue;let m=x[f].split(" ");a.push(m.pop())}return a}class Lb{constructor(a,f,m,y,w,M,k,D,B=[]){let V=a.gl;this.program=V.createProgram();let W=of(f.staticAttributes),G=m?m.getBinderAttributes():[],K=W.concat(G),te=fl.prelude.staticUniforms?of(fl.prelude.staticUniforms):[],pe=k.staticUniforms?of(k.staticUniforms):[],ce=f.staticUniforms?of(f.staticUniforms):[],fe=m?m.getBinderUniforms():[],be=te.concat(pe).concat(ce).concat(fe),Ce=[];for(let Qe of be)Ce.indexOf(Qe)<0&&Ce.push(Qe);let Ee=m?m.defines():[];Wl(V)&&Ee.unshift("#version 300 es"),w&&Ee.push("#define OVERDRAW_INSPECTOR;"),M&&Ee.push("#define TERRAIN3D;"),D&&Ee.push(D),B&&Ee.push(...B);let De=Ee.concat(fl.prelude.fragmentSource,k.fragmentSource,f.fragmentSource).join(`
`),Le=Ee.concat(fl.prelude.vertexSource,k.vertexSource,f.vertexSource).join(`
`);Wl(V)||(De=function(Qe){return Qe.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(De),Le=function(Qe){return Qe.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Le));let Te=V.createShader(V.FRAGMENT_SHADER);if(V.isContextLost())return void(this.failedToCreate=!0);if(V.shaderSource(Te,De),V.compileShader(Te),!V.getShaderParameter(Te,V.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${V.getShaderInfoLog(Te)}`);V.attachShader(this.program,Te);let Ge=V.createShader(V.VERTEX_SHADER);if(V.isContextLost())return void(this.failedToCreate=!0);if(V.shaderSource(Ge,Le),V.compileShader(Ge),!V.getShaderParameter(Ge,V.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${V.getShaderInfoLog(Ge)}`);V.attachShader(this.program,Ge),this.attributes={};let it={};this.numAttributes=K.length;for(let Qe=0;Qe<this.numAttributes;Qe++)K[Qe]&&(V.bindAttribLocation(this.program,Qe,K[Qe]),this.attributes[K[Qe]]=Qe);if(V.linkProgram(this.program),!V.getProgramParameter(this.program,V.LINK_STATUS))throw new Error(`Program failed to link: ${V.getProgramInfoLog(this.program)}`);V.deleteShader(Ge),V.deleteShader(Te);for(let Qe=0;Qe<Ce.length;Qe++){let Je=Ce[Qe];if(Je&&!it[Je]){let nt=V.getUniformLocation(this.program,Je);nt&&(it[Je]=nt)}}this.fixedUniforms=y(a,it),this.terrainUniforms=((Qe,Je)=>({u_depth:new o.bP(Qe,Je.u_depth),u_terrain:new o.bP(Qe,Je.u_terrain),u_terrain_dim:new o.bg(Qe,Je.u_terrain_dim),u_terrain_matrix:new o.bR(Qe,Je.u_terrain_matrix),u_terrain_unpack:new o.bS(Qe,Je.u_terrain_unpack),u_terrain_exaggeration:new o.bg(Qe,Je.u_terrain_exaggeration)}))(a,it),this.projectionUniforms=((Qe,Je)=>({u_projection_matrix:new o.bR(Qe,Je.u_projection_matrix),u_projection_tile_mercator_coords:new o.bS(Qe,Je.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bS(Qe,Je.u_projection_clipping_plane),u_projection_transition:new o.bg(Qe,Je.u_projection_transition),u_projection_fallback_matrix:new o.bR(Qe,Je.u_projection_fallback_matrix)}))(a,it),this.binderUniforms=m?m.getUniforms(a,it):[]}draw(a,f,m,y,w,M,k,D,B,V,W,G,K,te,pe,ce,fe,be,Ce){let Ee=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(y),a.setColorMode(w),a.setCullFace(M),D){a.activeTexture.set(Ee.TEXTURE2),Ee.bindTexture(Ee.TEXTURE_2D,D.depthTexture),a.activeTexture.set(Ee.TEXTURE3),Ee.bindTexture(Ee.TEXTURE_2D,D.texture);for(let Le in this.terrainUniforms)this.terrainUniforms[Le].set(D[Le])}if(B)for(let Le in B)this.projectionUniforms[Rb[Le]].set(B[Le]);if(k)for(let Le in this.fixedUniforms)this.fixedUniforms[Le].set(k[Le]);ce&&ce.setUniforms(a,this.binderUniforms,te,{zoom:pe});let De=0;switch(f){case Ee.LINES:De=2;break;case Ee.TRIANGLES:De=3;break;case Ee.LINE_STRIP:De=1}for(let Le of K.get()){let Te=Le.vaos||(Le.vaos={});(Te[V]||(Te[V]=new TL)).bind(a,this,W,ce?ce.getPaintVertexBuffers():[],G,Le.vertexOffset,fe,be,Ce),Ee.drawElements(f,Le.primitiveLength*De,Ee.UNSIGNED_SHORT,Le.primitiveOffset*De*2)}}}function sy(x,a,f){let m=1/o.aC(f,1,a.transform.tileZoom),y=Math.pow(2,f.tileID.overscaledZ),w=f.tileSize*Math.pow(2,a.transform.tileZoom)/y,M=w*(f.tileID.canonical.x+f.tileID.wrap*y),k=w*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[m,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[M>>16,k>>16],u_pixel_coord_lower:[65535&M,65535&k]}}let hl=(x,a,f,m)=>{let y=x.style.light,w=y.properties.get("position"),M=[w.x,w.y,w.z],k=o.bV();y.properties.get("anchor")==="viewport"&&o.bW(k,x.transform.bearingInRadians),o.bX(M,M,k);let D=x.transform.transformLightDirection(M),B=y.properties.get("color");return{u_lightpos:M,u_lightpos_globe:D,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+a,u_opacity:f,u_fill_translate:m}},ML=(x,a,f,m,y,w,M)=>o.e(hl(x,a,f,m),sy(w,x,M),{u_height_factor:-Math.pow(2,y.overscaledZ)/M.tileSize/8}),ly=(x,a,f,m)=>o.e(sy(a,x,f),{u_fill_translate:m}),Um=(x,a)=>({u_world:x,u_fill_translate:a}),Vm=(x,a,f,m,y)=>o.e(ly(x,a,f,y),{u_world:m}),CL=(x,a,f,m,y)=>{let w=x.transform,M,k,D=0;if(f.paint.get("circle-pitch-alignment")==="map"){let B=o.aC(a,1,w.zoom);M=!0,k=[B,B],D=B/(o.$*Math.pow(2,a.tileID.overscaledZ))*2*Math.PI*y}else M=!1,k=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+M,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:k,u_globe_extrude_scale:D,u_translate:m}},uy=x=>({u_pixel_extrude_scale:[1/x.width,1/x.height]}),AL=x=>({u_viewport_size:[x.width,x.height]}),af=(x,a=1)=>({u_color:x,u_overlay:0,u_overlay_scale:a}),NT=(x,a,f,m)=>{let y=o.aC(x,1,a)/(o.$*Math.pow(2,x.tileID.overscaledZ))*2*Math.PI*m;return{u_extrude_scale:o.aC(x,1,a),u_intensity:f,u_globe_extrude_scale:y}},qb=(x,a,f,m)=>{let y=o.L();o.bY(y,0,x.width,x.height,0,0,1);let w=x.context.gl;return{u_matrix:y,u_world:[w.drawingBufferWidth,w.drawingBufferHeight],u_image:f,u_color_ramp:m,u_opacity:a.paint.get("heatmap-opacity")}},PL=(x,a,f)=>{let m=f.paint.get("hillshade-accent-color"),y;switch(f.paint.get("hillshade-method")){case"basic":y=4;break;case"combined":y=1;break;case"igor":y=2;break;case"multidirectional":y=3;break;default:y=0}let w=f.getIlluminationProperties();for(let M=0;M<w.directionRadians.length;M++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(w.directionRadians[M]+=x.transform.bearingInRadians);return{u_image:0,u_latrange:zb(0,a.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:w.altitudeRadians,u_azimuths:w.directionRadians,u_accent:m,u_method:y,u_highlights:w.highlightColor,u_shadows:w.shadowColor}},RT=(x,a)=>{let f=a.stride,m=o.L();return o.bY(m,0,o.$,-o.$,0,0,1),o.M(m,m,[0,-o.$,0]),{u_matrix:m,u_image:1,u_dimension:[f,f],u_zoom:x.overscaledZ,u_unpack:a.getUnpackVector()}};function zb(x,a){let f=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.a1(0,m/f).toLngLat().lat,new o.a1(0,(m+1)/f).toLngLat().lat]}let LT=(x,a,f=0)=>({u_image:0,u_unpack:a.getUnpackVector(),u_dimension:[a.stride,a.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:x.paint.get("color-relief-opacity")}),cy=(x,a,f,m)=>{let y=x.transform;return{u_translation:Fb(x,a,f),u_ratio:m/o.aC(a,1,y.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},qT=(x,a,f,m,y)=>o.e(cy(x,a,f,m),{u_image:0,u_image_height:y}),zT=(x,a,f,m,y)=>{let w=x.transform,M=jb(a,w);return{u_translation:Fb(x,a,f),u_texsize:a.imageAtlasTexture.size,u_ratio:m/o.aC(a,1,w.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[M,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},sf=(x,a,f,m,y,w)=>{let M=x.lineAtlas,k=jb(a,x.transform),D=f.layout.get("line-cap")==="round",B=M.getDash(y.from,D),V=M.getDash(y.to,D),W=B.width*w.fromScale,G=V.width*w.toScale;return o.e(cy(x,a,f,m),{u_patternscale_a:[k/W,-B.height/2],u_patternscale_b:[k/G,-V.height/2],u_sdfgamma:M.width/(256*Math.min(W,G)*x.pixelRatio)/2,u_image:0,u_tex_y_a:B.y,u_tex_y_b:V.y,u_mix:w.t})};function jb(x,a){return 1/o.aC(x,1,a.tileZoom)}function Fb(x,a,f){return o.aD(x.transform,a,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}let $m=(x,a,f,m,y)=>{return{u_tl_parent:x,u_scale_parent:a,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(M=m.paint.get("raster-saturation"),M>0?1-1/(1.001-M):-M),u_contrast_factor:(w=m.paint.get("raster-contrast"),w>0?1/(1-w):1+w),u_spin_weights:OL(m.paint.get("raster-hue-rotate")),u_coords_top:[y[0].x,y[0].y,y[1].x,y[1].y],u_coords_bottom:[y[3].x,y[3].y,y[2].x,y[2].y]};var w,M};function OL(x){x*=Math.PI/180;let a=Math.sin(x),f=Math.cos(x);return[(2*f+1)/3,(-Math.sqrt(3)*a-f+1)/3,(Math.sqrt(3)*a-f+1)/3]}let Gm=(x,a,f,m,y,w,M,k,D,B,V,W,G)=>{let K=M.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:K.cameraToCenterDistance,u_pitch:K.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:K.width/K.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_label_plane_matrix:k,u_coord_matrix:D,u_is_text:+V,u_pitch_with_map:+m,u_is_along_line:y,u_is_variable_anchor:w,u_texsize:W,u_texture:0,u_translation:B,u_pitched_scale:G}},jT=(x,a,f,m,y,w,M,k,D,B,V,W,G,K)=>{let te=M.transform;return o.e(Gm(x,a,f,m,y,w,M,k,D,B,V,W,K),{u_gamma_scale:m?Math.cos(te.pitch*Math.PI/180)*te.cameraToCenterDistance:1,u_device_pixel_ratio:M.pixelRatio,u_is_halo:1})},kL=(x,a,f,m,y,w,M,k,D,B,V,W,G)=>o.e(jT(x,a,f,m,y,w,M,k,D,B,!0,V,0,G),{u_texsize_icon:W,u_texture_icon:1}),FT=(x,a)=>({u_opacity:x,u_color:a}),BT=(x,a,f,m,y)=>o.e(function(w,M,k,D){let B=k.imageManager.getPattern(w.from.toString()),V=k.imageManager.getPattern(w.to.toString()),{width:W,height:G}=k.imageManager.getPixelSize(),K=Math.pow(2,D.tileID.overscaledZ),te=D.tileSize*Math.pow(2,k.transform.tileZoom)/K,pe=te*(D.tileID.canonical.x+D.tileID.wrap*K),ce=te*D.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:B.tl,u_pattern_br_a:B.br,u_pattern_tl_b:V.tl,u_pattern_br_b:V.br,u_texsize:[W,G],u_mix:M.t,u_pattern_size_a:B.displaySize,u_pattern_size_b:V.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/o.aC(D,1,k.transform.tileZoom),u_pixel_coord_upper:[pe>>16,ce>>16],u_pixel_coord_lower:[65535&pe,65535&ce]}}(f,y,a,m),{u_opacity:x}),Bb=(x,a)=>{},Ub={fillExtrusion:(x,a)=>({u_lightpos:new o.bT(x,a.u_lightpos),u_lightpos_globe:new o.bT(x,a.u_lightpos_globe),u_lightintensity:new o.bg(x,a.u_lightintensity),u_lightcolor:new o.bT(x,a.u_lightcolor),u_vertical_gradient:new o.bg(x,a.u_vertical_gradient),u_opacity:new o.bg(x,a.u_opacity),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillExtrusionPattern:(x,a)=>({u_lightpos:new o.bT(x,a.u_lightpos),u_lightpos_globe:new o.bT(x,a.u_lightpos_globe),u_lightintensity:new o.bg(x,a.u_lightintensity),u_lightcolor:new o.bT(x,a.u_lightcolor),u_vertical_gradient:new o.bg(x,a.u_vertical_gradient),u_height_factor:new o.bg(x,a.u_height_factor),u_opacity:new o.bg(x,a.u_opacity),u_fill_translate:new o.bU(x,a.u_fill_translate),u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade)}),fill:(x,a)=>({u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillPattern:(x,a)=>({u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillOutline:(x,a)=>({u_world:new o.bU(x,a.u_world),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillOutlinePattern:(x,a)=>({u_world:new o.bU(x,a.u_world),u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade),u_fill_translate:new o.bU(x,a.u_fill_translate)}),circle:(x,a)=>({u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_scale_with_map:new o.bP(x,a.u_scale_with_map),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_extrude_scale:new o.bU(x,a.u_extrude_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_globe_extrude_scale:new o.bg(x,a.u_globe_extrude_scale),u_translate:new o.bU(x,a.u_translate)}),collisionBox:(x,a)=>({u_pixel_extrude_scale:new o.bU(x,a.u_pixel_extrude_scale)}),collisionCircle:(x,a)=>({u_viewport_size:new o.bU(x,a.u_viewport_size)}),debug:(x,a)=>({u_color:new o.bQ(x,a.u_color),u_overlay:new o.bP(x,a.u_overlay),u_overlay_scale:new o.bg(x,a.u_overlay_scale)}),depth:Bb,clippingMask:Bb,heatmap:(x,a)=>({u_extrude_scale:new o.bg(x,a.u_extrude_scale),u_intensity:new o.bg(x,a.u_intensity),u_globe_extrude_scale:new o.bg(x,a.u_globe_extrude_scale)}),heatmapTexture:(x,a)=>({u_matrix:new o.bR(x,a.u_matrix),u_world:new o.bU(x,a.u_world),u_image:new o.bP(x,a.u_image),u_color_ramp:new o.bP(x,a.u_color_ramp),u_opacity:new o.bg(x,a.u_opacity)}),hillshade:(x,a)=>({u_image:new o.bP(x,a.u_image),u_latrange:new o.bU(x,a.u_latrange),u_exaggeration:new o.bg(x,a.u_exaggeration),u_altitudes:new o.b_(x,a.u_altitudes),u_azimuths:new o.b_(x,a.u_azimuths),u_accent:new o.bQ(x,a.u_accent),u_method:new o.bP(x,a.u_method),u_shadows:new o.bZ(x,a.u_shadows),u_highlights:new o.bZ(x,a.u_highlights)}),hillshadePrepare:(x,a)=>({u_matrix:new o.bR(x,a.u_matrix),u_image:new o.bP(x,a.u_image),u_dimension:new o.bU(x,a.u_dimension),u_zoom:new o.bg(x,a.u_zoom),u_unpack:new o.bS(x,a.u_unpack)}),colorRelief:(x,a)=>({u_image:new o.bP(x,a.u_image),u_unpack:new o.bS(x,a.u_unpack),u_dimension:new o.bU(x,a.u_dimension),u_elevation_stops:new o.bP(x,a.u_elevation_stops),u_color_stops:new o.bP(x,a.u_color_stops),u_color_ramp_size:new o.bP(x,a.u_color_ramp_size),u_opacity:new o.bg(x,a.u_opacity)}),line:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels)}),lineGradient:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_image:new o.bP(x,a.u_image),u_image_height:new o.bg(x,a.u_image_height)}),linePattern:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_texsize:new o.bU(x,a.u_texsize),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_image:new o.bP(x,a.u_image),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade)}),lineSDF:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_patternscale_a:new o.bU(x,a.u_patternscale_a),u_patternscale_b:new o.bU(x,a.u_patternscale_b),u_sdfgamma:new o.bg(x,a.u_sdfgamma),u_image:new o.bP(x,a.u_image),u_tex_y_a:new o.bg(x,a.u_tex_y_a),u_tex_y_b:new o.bg(x,a.u_tex_y_b),u_mix:new o.bg(x,a.u_mix)}),raster:(x,a)=>({u_tl_parent:new o.bU(x,a.u_tl_parent),u_scale_parent:new o.bg(x,a.u_scale_parent),u_buffer_scale:new o.bg(x,a.u_buffer_scale),u_fade_t:new o.bg(x,a.u_fade_t),u_opacity:new o.bg(x,a.u_opacity),u_image0:new o.bP(x,a.u_image0),u_image1:new o.bP(x,a.u_image1),u_brightness_low:new o.bg(x,a.u_brightness_low),u_brightness_high:new o.bg(x,a.u_brightness_high),u_saturation_factor:new o.bg(x,a.u_saturation_factor),u_contrast_factor:new o.bg(x,a.u_contrast_factor),u_spin_weights:new o.bT(x,a.u_spin_weights),u_coords_top:new o.bS(x,a.u_coords_top),u_coords_bottom:new o.bS(x,a.u_coords_bottom)}),symbolIcon:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texture:new o.bP(x,a.u_texture),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),symbolSDF:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texture:new o.bP(x,a.u_texture),u_gamma_scale:new o.bg(x,a.u_gamma_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_is_halo:new o.bP(x,a.u_is_halo),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),symbolTextAndIcon:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texsize_icon:new o.bU(x,a.u_texsize_icon),u_texture:new o.bP(x,a.u_texture),u_texture_icon:new o.bP(x,a.u_texture_icon),u_gamma_scale:new o.bg(x,a.u_gamma_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_is_halo:new o.bP(x,a.u_is_halo),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),background:(x,a)=>({u_opacity:new o.bg(x,a.u_opacity),u_color:new o.bQ(x,a.u_color)}),backgroundPattern:(x,a)=>({u_opacity:new o.bg(x,a.u_opacity),u_image:new o.bP(x,a.u_image),u_pattern_tl_a:new o.bU(x,a.u_pattern_tl_a),u_pattern_br_a:new o.bU(x,a.u_pattern_br_a),u_pattern_tl_b:new o.bU(x,a.u_pattern_tl_b),u_pattern_br_b:new o.bU(x,a.u_pattern_br_b),u_texsize:new o.bU(x,a.u_texsize),u_mix:new o.bg(x,a.u_mix),u_pattern_size_a:new o.bU(x,a.u_pattern_size_a),u_pattern_size_b:new o.bU(x,a.u_pattern_size_b),u_scale_a:new o.bg(x,a.u_scale_a),u_scale_b:new o.bg(x,a.u_scale_b),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.bg(x,a.u_tile_units_to_pixels)}),terrain:(x,a)=>({u_texture:new o.bP(x,a.u_texture),u_ele_delta:new o.bg(x,a.u_ele_delta),u_fog_matrix:new o.bR(x,a.u_fog_matrix),u_fog_color:new o.bQ(x,a.u_fog_color),u_fog_ground_blend:new o.bg(x,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.bg(x,a.u_fog_ground_blend_opacity),u_horizon_color:new o.bQ(x,a.u_horizon_color),u_horizon_fog_blend:new o.bg(x,a.u_horizon_fog_blend),u_is_globe_mode:new o.bg(x,a.u_is_globe_mode)}),terrainDepth:(x,a)=>({u_ele_delta:new o.bg(x,a.u_ele_delta)}),terrainCoords:(x,a)=>({u_texture:new o.bP(x,a.u_texture),u_terrain_coords_id:new o.bg(x,a.u_terrain_coords_id),u_ele_delta:new o.bg(x,a.u_ele_delta)}),projectionErrorMeasurement:(x,a)=>({u_input:new o.bg(x,a.u_input),u_output_expected:new o.bg(x,a.u_output_expected)}),atmosphere:(x,a)=>({u_sun_pos:new o.bT(x,a.u_sun_pos),u_atmosphere_blend:new o.bg(x,a.u_atmosphere_blend),u_globe_position:new o.bT(x,a.u_globe_position),u_globe_radius:new o.bg(x,a.u_globe_radius),u_inv_proj_matrix:new o.bR(x,a.u_inv_proj_matrix)}),sky:(x,a)=>({u_sky_color:new o.bQ(x,a.u_sky_color),u_horizon_color:new o.bQ(x,a.u_horizon_color),u_horizon:new o.bU(x,a.u_horizon),u_horizon_normal:new o.bU(x,a.u_horizon_normal),u_sky_horizon_blend:new o.bg(x,a.u_sky_horizon_blend),u_sky_blend:new o.bg(x,a.u_sky_blend)})};class UT{constructor(a,f,m){this.context=a;let y=a.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let py={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class zu{constructor(a,f,m,y){this.length=f.length,this.attributes=m,this.itemSize=f.bytesPerElement,this.dynamicDraw=y,this.context=a;let w=a.gl;this.buffer=w.createBuffer(),a.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,f){for(let m=0;m<this.attributes.length;m++){let y=f.attributes[this.attributes[m].name];y!==void 0&&a.enableVertexAttribArray(y)}}setVertexAttribPointers(a,f,m){for(let y=0;y<this.attributes.length;y++){let w=this.attributes[y],M=f.attributes[w.name];M!==void 0&&a.vertexAttribPointer(M,w.components,a[py[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Tn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Vb extends Tn{getDefault(){return o.bf.transparent}set(a){let f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class $b extends Tn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class VT extends Tn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class Gb extends Tn{getDefault(){return[!0,!0,!0,!0]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class lf extends Tn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Hb extends Tn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class DL extends Tn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let f=this.current;(a.func!==f.func||a.ref!==f.ref||a.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class NL extends Tn{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class RL extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=a,this.dirty=!1}}class LL extends Tn{getDefault(){return[0,1]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class $T extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=a,this.dirty=!1}}class qL extends Tn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class GT extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.BLEND):f.disable(f.BLEND),this.current=a,this.dirty=!1}}class fy extends Tn{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class dy extends Tn{getDefault(){return o.bf.transparent}set(a){let f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class hy extends Tn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Wb extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=a,this.dirty=!1}}class uf extends Tn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Hm extends Tn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class Pd extends Tn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Rs extends Tn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class HT extends Tn{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class WT extends Tn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Zb extends Tn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class cf extends Tn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindTexture(f.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class my extends Tn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class gy extends Tn{getDefault(){return null}set(a){let f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Wm extends Tn{getDefault(){return null}set(a){var f;if(a===this.current&&!this.dirty)return;let m=this.gl;Wl(m)?m.bindVertexArray(a):(f=m.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class vy extends Tn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class ZT extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Od extends Tn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class $c extends Tn{constructor(a,f){super(a),this.context=a,this.parent=f}getDefault(){return null}}class YT extends $c{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Yb extends $c{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class cn extends $c{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}let Zm="Framebuffer is not complete";class zL{constructor(a,f,m,y,w){this.context=a,this.width=f,this.height=m;let M=a.gl,k=this.framebuffer=M.createFramebuffer();if(this.colorAttachment=new YT(a,k),y)this.depthAttachment=w?new cn(a,k):new Yb(a,k);else if(w)throw new Error("Stencil cannot be set without depth");if(M.checkFramebufferStatus(M.FRAMEBUFFER)!==M.FRAMEBUFFER_COMPLETE)throw new Error(Zm)}destroy(){let a=this.context.gl,f=this.colorAttachment.get();if(f&&a.deleteTexture(f),this.depthAttachment){let m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class KT{constructor(a){var f,m;if(this.gl=a,this.clearColor=new Vb(this),this.clearDepth=new $b(this),this.clearStencil=new VT(this),this.colorMask=new Gb(this),this.depthMask=new lf(this),this.stencilMask=new Hb(this),this.stencilFunc=new DL(this),this.stencilOp=new NL(this),this.stencilTest=new RL(this),this.depthRange=new LL(this),this.depthTest=new $T(this),this.depthFunc=new qL(this),this.blend=new GT(this),this.blendFunc=new fy(this),this.blendColor=new dy(this),this.blendEquation=new hy(this),this.cullFace=new Wb(this),this.cullFaceSide=new uf(this),this.frontFace=new Hm(this),this.program=new Pd(this),this.activeTexture=new Rs(this),this.viewport=new HT(this),this.bindFramebuffer=new WT(this),this.bindRenderbuffer=new Zb(this),this.bindTexture=new cf(this),this.bindVertexBuffer=new my(this),this.bindElementBuffer=new gy(this),this.bindVertexArray=new Wm(this),this.pixelStoreUnpack=new vy(this),this.pixelStoreUnpackPremultiplyAlpha=new ZT(this),this.pixelStoreUnpackFlipY=new Od(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),Wl(a)){this.HALF_FLOAT=a.HALF_FLOAT;let y=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=a.RGBA16F)!==null&&f!==void 0?f:y==null?void 0:y.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:y==null?void 0:y.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let y=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=y==null?void 0:y.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,f){return new UT(this,a,f)}createVertexBuffer(a,f,m){return new zu(this,a,f,m)}createRenderbuffer(a,f,m){let y=this.gl,w=y.createRenderbuffer();return this.bindRenderbuffer.set(w),y.renderbufferStorage(y.RENDERBUFFER,a,f,m),this.bindRenderbuffer.set(null),w}createFramebuffer(a,f,m,y){return new zL(this,a,f,m,y)}clear({color:a,depth:f,stencil:m}){let y=this.gl,w=0;a&&(w|=y.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(w|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),m!==void 0&&(w|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),y.clear(w)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.bH(a.blendFunction,li.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return Wl(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var f;return Wl(this.gl)?this.gl.deleteVertexArray(a):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}let Gc;function XT(x,a,f,m,y){let w=x.context,M=x.transform,k=w.gl,D=x.useProgram("collisionBox"),B=[],V=0,W=0;for(let fe=0;fe<m.length;fe++){let be=m[fe],Ce=a.getTile(be).getBucket(f);if(!Ce)continue;let Ee=y?Ce.textCollisionBox:Ce.iconCollisionBox,De=Ce.collisionCircleArray;De.length>0&&(B.push({circleArray:De,circleOffset:W,coord:be}),V+=De.length/4,W=V),Ee&&D.draw(w,k.LINES,Fr.disabled,vn.disabled,x.colorModeForRenderPass(),Tr.disabled,uy(x.transform),x.style.map.terrain&&x.style.map.terrain.getTerrainData(be),M.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,null,x.transform.zoom,null,null,Ee.collisionVertexBuffer)}if(!y||!B.length)return;let G=x.useProgram("collisionCircle"),K=new o.b$;K.resize(4*V),K._trim();let te=0;for(let fe of B)for(let be=0;be<fe.circleArray.length/4;be++){let Ce=4*be,Ee=fe.circleArray[Ce+0],De=fe.circleArray[Ce+1],Le=fe.circleArray[Ce+2],Te=fe.circleArray[Ce+3];K.emplace(te++,Ee,De,Le,Te,0),K.emplace(te++,Ee,De,Le,Te,1),K.emplace(te++,Ee,De,Le,Te,2),K.emplace(te++,Ee,De,Le,Te,3)}(!Gc||Gc.length<2*V)&&(Gc=function(fe){let be=2*fe,Ce=new o.c1;Ce.resize(be),Ce._trim();for(let Ee=0;Ee<be;Ee++){let De=6*Ee;Ce.uint16[De+0]=4*Ee+0,Ce.uint16[De+1]=4*Ee+1,Ce.uint16[De+2]=4*Ee+2,Ce.uint16[De+3]=4*Ee+2,Ce.uint16[De+4]=4*Ee+3,Ce.uint16[De+5]=4*Ee+0}return Ce}(V));let pe=w.createIndexBuffer(Gc,!0),ce=w.createVertexBuffer(K,o.c0.members,!0);for(let fe of B){let be=AL(x.transform);G.draw(w,k.TRIANGLES,Fr.disabled,vn.disabled,x.colorModeForRenderPass(),Tr.disabled,be,x.style.map.terrain&&x.style.map.terrain.getTerrainData(fe.coord),null,f.id,ce,pe,o.aM.simpleSegment(0,2*fe.circleOffset,fe.circleArray.length,fe.circleArray.length/2),null,x.transform.zoom,null,null,null)}ce.destroy(),pe.destroy()}let jL=o.ag(new Float32Array(16));function QT(x,a,f,m,y,w){let{horizontalAlign:M,verticalAlign:k}=o.aH(x);return new o.P((-(M-.5)*a/y+m[0])*w,(-(k-.5)*f/y+m[1])*w)}function FL(x,a,f,m,y,w){let M=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let k=m.mult(w);f||(k=k.rotate(-y));let D=M.add(k);return ei(D.x,D.y,a.pitchedLabelPlaneMatrix,a.getElevation).point}if(f){let k=Oo(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(x),D=Math.atan(k.y/k.x)+(k.x<0?Math.PI:0);return x.add(m.rotate(D))}return x.add(m)}function Kb(x,a,f,m,y,w,M,k,D,B,V,W){let G=x.text.placedSymbolArray,K=x.text.dynamicLayoutVertexArray,te=x.icon.dynamicLayoutVertexArray,pe={};K.clear();for(let ce=0;ce<G.length;ce++){let fe=G.get(ce),be=fe.hidden||!fe.crossTileID||x.allowVerticalPlacement&&!fe.placedOrientation?null:m[fe.crossTileID];if(be){let Ce=new o.P(fe.anchorX,fe.anchorY),Ee={getElevation:W,width:y.width,height:y.height,pitchedLabelPlaneMatrix:w,pitchWithMap:f,transform:y,tileAnchorPoint:Ce,translation:B,unwrappedTileID:V},De=f?jc(Ce.x,Ce.y,Ee):Oo(Ce.x,Ce.y,Ee),Le=Mt(y.cameraToCenterDistance,De.signedDistanceFromCamera),Te=o.ap(x.textSizeData,k,fe)*Le/o.aB;f&&(Te*=x.tilePixelRatio/M);let{width:Ge,height:it,anchor:Qe,textOffset:Je,textBoxScale:nt}=be,Pt=QT(Qe,Ge,it,Je,nt,Te),Dt=y.getPitchedTextCorrection(Ce.x+B[0],Ce.y+B[1],V),bt=FL(De.point,Ee,a,Pt,-y.bearingInRadians,Dt),ar=x.allowVerticalPlacement&&fe.placedOrientation===o.ao.vertical?Math.PI/2:0;for(let Gr=0;Gr<fe.numGlyphs;Gr++)o.av(K,bt,ar);D&&fe.associatedIconIndex>=0&&(pe[fe.associatedIconIndex]={shiftedAnchor:bt,angle:ar})}else Hl(fe.numGlyphs,K)}if(D){te.clear();let ce=x.icon.placedSymbolArray;for(let fe=0;fe<ce.length;fe++){let be=ce.get(fe);if(be.hidden)Hl(be.numGlyphs,te);else{let Ce=pe[fe];if(Ce)for(let Ee=0;Ee<be.numGlyphs;Ee++)o.av(te,Ce.shiftedAnchor,Ce.angle);else Hl(be.numGlyphs,te)}}x.icon.dynamicLayoutVertexBuffer.updateData(te)}x.text.dynamicLayoutVertexBuffer.updateData(K)}function yy(x,a,f){return f.iconsInText&&a?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function Ym(x,a,f,m,y,w,M,k,D,B,V,W,G){let K=x.context,te=K.gl,pe=x.transform,ce=k==="map",fe=D==="map",be=k!=="viewport"&&f.layout.get("symbol-placement")!=="point",Ce=ce&&!fe&&!be,Ee=!f.layout.get("symbol-sort-key").isConstant(),De=!1,Le=x.getDepthModeForSublayer(0,Fr.ReadOnly),Te=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ge=[],it=pe.getCircleRadiusCorrection();for(let Qe of m){let Je=a.getTile(Qe),nt=Je.getBucket(f);if(!nt)continue;let Pt=y?nt.text:nt.icon;if(!Pt||!Pt.segments.get().length||!Pt.hasVisibleVertices)continue;let Dt=Pt.programConfigurations.get(f.id),bt=y||nt.sdfIcons,ar=y?nt.textSizeData:nt.iconSizeData,Gr=fe||pe.pitch!==0,Cn=x.useProgram(yy(bt,y,nt),Dt),Hn=o.an(ar,pe.zoom),Bn=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Qe),vi,Ei,Vr,Wn,$i=[0,0],to=null;if(y)Ei=Je.glyphAtlasTexture,Vr=te.LINEAR,vi=Je.glyphAtlasTexture.size,nt.iconsInText&&($i=Je.imageAtlasTexture.size,to=Je.imageAtlasTexture,Wn=Gr||x.options.rotating||x.options.zooming||ar.kind==="composite"||ar.kind==="camera"?te.LINEAR:te.NEAREST);else{let Gi=f.layout.get("icon-size").constantOr(0)!==1||nt.iconsNeedLinear;Ei=Je.imageAtlasTexture,Vr=bt||x.options.rotating||x.options.zooming||Gi||Gr?te.LINEAR:te.NEAREST,vi=Je.imageAtlasTexture.size}let vo=o.aC(Je,1,x.transform.zoom),ua=un(ce,x.transform,vo),bl=o.L();o.aq(bl,ua);let Wc=Pr(fe,ce,x.transform,vo),Zc=o.aD(pe,Je,w,M),Vd=pe.getProjectionData({overscaledTileID:Qe,applyGlobeMatrix:!G,applyTerrainMatrix:!0}),$d=Te&&nt.hasTextData(),vf=f.layout.get("icon-text-fit")!=="none"&&$d&&nt.hasIconData();if(be){let Gi=x.style.map.terrain?(zs,Hi)=>x.style.map.terrain.getElevation(Qe,zs,Hi):null,ro=f.layout.get("text-rotation-alignment")==="map";$n(nt,x,y,ua,bl,fe,B,ro,Qe.toUnwrapped(),pe.width,pe.height,Zc,Gi)}let yf=y&&Te||vf,Ua=be||yf?jL:fe?ua:x.transform.clipSpaceToPixelsMatrix,xl=bt&&f.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ca;ca=bt?nt.iconsInText?kL(ar.kind,Hn,Ce,fe,be,yf,x,Ua,Wc,Zc,vi,$i,it):jT(ar.kind,Hn,Ce,fe,be,yf,x,Ua,Wc,Zc,y,vi,0,it):Gm(ar.kind,Hn,Ce,fe,be,yf,x,Ua,Wc,Zc,y,vi,it);let Yc={program:Cn,buffers:Pt,uniformValues:ca,projectionData:Vd,atlasTexture:Ei,atlasTextureIcon:to,atlasInterpolation:Vr,atlasInterpolationIcon:Wn,isSDF:bt,hasHalo:xl};if(Ee&&nt.canOverlap){De=!0;let Gi=Pt.segments.get();for(let ro of Gi)Ge.push({segments:new o.aM([ro]),sortKey:ro.sortKey,state:Yc,terrainData:Bn})}else Ge.push({segments:Pt.segments,sortKey:0,state:Yc,terrainData:Bn})}De&&Ge.sort((Qe,Je)=>Qe.sortKey-Je.sortKey);for(let Qe of Ge){let Je=Qe.state;if(K.activeTexture.set(te.TEXTURE0),Je.atlasTexture.bind(Je.atlasInterpolation,te.CLAMP_TO_EDGE),Je.atlasTextureIcon&&(K.activeTexture.set(te.TEXTURE1),Je.atlasTextureIcon&&Je.atlasTextureIcon.bind(Je.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),Je.isSDF){let nt=Je.uniformValues;Je.hasHalo&&(nt.u_is_halo=1,Km(Je.buffers,Qe.segments,f,x,Je.program,Le,V,W,nt,Je.projectionData,Qe.terrainData)),nt.u_is_halo=0}Km(Je.buffers,Qe.segments,f,x,Je.program,Le,V,W,Je.uniformValues,Je.projectionData,Qe.terrainData)}}function Km(x,a,f,m,y,w,M,k,D,B,V){let W=m.context;y.draw(W,W.gl.TRIANGLES,w,M,k,Tr.backCCW,D,V,B,f.id,x.layoutVertexBuffer,x.indexBuffer,a,f.paint,m.transform.zoom,x.programConfigurations.get(f.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function Xb(x,a,f,m,y){let w=x.context,M=w.gl,k=vn.disabled,D=new li([M.ONE,M.ONE],o.bf.transparent,[!0,!0,!0,!0]),B=a.getBucket(f);if(!B)return;let V=m.key,W=f.heatmapFbos.get(V);W||(W=Xm(w,a.tileSize,a.tileSize),f.heatmapFbos.set(V,W)),w.bindFramebuffer.set(W.framebuffer),w.viewport.set([0,0,a.tileSize,a.tileSize]),w.clear({color:o.bf.transparent});let G=B.programConfigurations.get(f.id),K=x.useProgram("heatmap",G,!y),te=x.transform.getProjectionData({overscaledTileID:a.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),pe=x.style.map.terrain.getTerrainData(m);K.draw(w,M.TRIANGLES,Fr.disabled,k,D,Tr.disabled,NT(a,x.transform.zoom,f.paint.get("heatmap-intensity"),1),pe,te,f.id,B.layoutVertexBuffer,B.indexBuffer,B.segments,f.paint,x.transform.zoom,G)}function JT(x,a,f,m,y){let w=x.context,M=w.gl,k=x.transform;w.setColorMode(x.colorModeForRenderPass());let D=Qm(w,a),B=f.key,V=a.heatmapFbos.get(B);if(!V)return;w.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,V.colorAttachment.get()),w.activeTexture.set(M.TEXTURE1),D.bind(M.LINEAR,M.CLAMP_TO_EDGE);let W=k.getProjectionData({overscaledTileID:f,applyTerrainMatrix:y,applyGlobeMatrix:!m});x.useProgram("heatmapTexture").draw(w,M.TRIANGLES,Fr.disabled,vn.disabled,x.colorModeForRenderPass(),Tr.disabled,qb(x,a,0,1),null,W,a.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments,a.paint,k.zoom),V.destroy(),a.heatmapFbos.delete(B)}function Xm(x,a,f){var m,y;let w=x.gl,M=w.createTexture();w.bindTexture(w.TEXTURE_2D,M),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR);let k=(m=x.HALF_FLOAT)!==null&&m!==void 0?m:w.UNSIGNED_BYTE,D=(y=x.RGBA16F)!==null&&y!==void 0?y:w.RGBA;w.texImage2D(w.TEXTURE_2D,0,D,a,f,0,w.RGBA,k,null);let B=x.createFramebuffer(a,f,!1,!1);return B.colorAttachment.set(M),B}function Qm(x,a){return a.colorRampTexture||(a.colorRampTexture=new o.T(x,a.colorRamp,x.gl.RGBA)),a.colorRampTexture}function Jm(x,a,f,m,y){if(!f||!m||!m.imageAtlas)return;let w=m.imageAtlas.patternPositions,M=w[f.to.toString()],k=w[f.from.toString()];if(!M&&k&&(M=k),!k&&M&&(k=M),!M||!k){let D=y.getPaintProperty(a);M=w[D],k=w[D]}M&&k&&x.setConstantPatternPositions(M,k)}function _y(x,a,f,m,y,w,M,k){let D=x.context.gl,B="fill-pattern",V=f.paint.get(B),W=V&&V.constantOr(1),G=f.getCrossfadeParameters(),K,te,pe,ce,fe,be=x.transform,Ce=f.paint.get("fill-translate"),Ee=f.paint.get("fill-translate-anchor");M?(te=W&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",K=D.LINES):(te=W?"fillPattern":"fill",K=D.TRIANGLES);let De=V.constantOr(null);for(let Le of m){let Te=a.getTile(Le);if(W&&!Te.patternsLoaded())continue;let Ge=Te.getBucket(f);if(!Ge)continue;let it=Ge.programConfigurations.get(f.id),Qe=x.useProgram(te,it),Je=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Le);W&&(x.context.activeTexture.set(D.TEXTURE0),Te.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),it.updatePaintBuffers(G)),Jm(it,B,De,Te,f);let nt=be.getProjectionData({overscaledTileID:Le,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),Pt=o.aD(be,Te,Ce,Ee);if(M){ce=Ge.indexBuffer2,fe=Ge.segments2;let bt=[D.drawingBufferWidth,D.drawingBufferHeight];pe=te==="fillOutlinePattern"&&W?Vm(x,G,Te,bt,Pt):Um(bt,Pt)}else ce=Ge.indexBuffer,fe=Ge.segments,pe=W?ly(x,G,Te,Pt):{u_fill_translate:Pt};let Dt=x.stencilModeForClipping(Le);Qe.draw(x.context,K,y,Dt,w,Tr.backCCW,pe,Je,nt,f.id,Ge.layoutVertexBuffer,ce,fe,f.paint,x.transform.zoom,it)}}function Qb(x,a,f,m,y,w,M,k){let D=x.context,B=D.gl,V="fill-extrusion-pattern",W=f.paint.get(V),G=W.constantOr(1),K=f.getCrossfadeParameters(),te=f.paint.get("fill-extrusion-opacity"),pe=W.constantOr(null),ce=x.transform;for(let fe of m){let be=a.getTile(fe),Ce=be.getBucket(f);if(!Ce)continue;let Ee=x.style.map.terrain&&x.style.map.terrain.getTerrainData(fe),De=Ce.programConfigurations.get(f.id),Le=x.useProgram(G?"fillExtrusionPattern":"fillExtrusion",De);G&&(x.context.activeTexture.set(B.TEXTURE0),be.imageAtlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),De.updatePaintBuffers(K));let Te=ce.getProjectionData({overscaledTileID:fe,applyGlobeMatrix:!k,applyTerrainMatrix:!0});Jm(De,V,pe,be,f);let Ge=o.aD(ce,be,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),it=f.paint.get("fill-extrusion-vertical-gradient"),Qe=G?ML(x,it,te,Ge,fe,K,be):hl(x,it,te,Ge);Le.draw(D,D.gl.TRIANGLES,y,w,M,Tr.backCCW,Qe,Ee,Te,f.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,f.paint,x.transform.zoom,De,x.style.map.terrain&&Ce.centroidVertexBuffer)}}function pf(x,a,f,m,y,w,M,k,D){var B;let V=x.style.projection,W=x.context,G=x.transform,K=W.gl,te=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],pe=x.useProgram("hillshade",null,!1,te),ce=!x.options.moving;for(let fe of m){let be=a.getTile(fe),Ce=be.fbo;if(!Ce)continue;let Ee=V.getMeshFromTileID(W,fe.canonical,k,!0,"raster"),De=(B=x.style.map.terrain)===null||B===void 0?void 0:B.getTerrainData(fe);W.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,Ce.colorAttachment.get());let Le=G.getProjectionData({overscaledTileID:fe,aligned:ce,applyGlobeMatrix:!D,applyTerrainMatrix:!0});pe.draw(W,K.TRIANGLES,w,y[fe.overscaledZ],M,Tr.backCCW,PL(x,be,f),De,Le,f.id,Ee.vertexBuffer,Ee.indexBuffer,Ee.segments)}}function Jb(x,a,f,m,y,w,M,k,D){var B;let V=x.style.projection,W=x.context,G=x.transform,K=W.gl,te=x.useProgram("colorRelief"),pe=!x.options.moving,ce=!0,fe=0;for(let be of m){let Ce=a.getTile(be),Ee=Ce.dem;if(ce){let Qe=K.getParameter(K.MAX_TEXTURE_SIZE),{elevationTexture:Je,colorTexture:nt}=f.getColorRampTextures(W,Qe,Ee.getUnpackVector());W.activeTexture.set(K.TEXTURE1),Je.bind(K.NEAREST,K.CLAMP_TO_EDGE),W.activeTexture.set(K.TEXTURE4),nt.bind(K.LINEAR,K.CLAMP_TO_EDGE),ce=!1,fe=Je.size[0]}if(!Ee||!Ee.data)continue;let De=Ee.stride,Le=Ee.getPixels();if(W.activeTexture.set(K.TEXTURE0),W.pixelStoreUnpackPremultiplyAlpha.set(!1),Ce.demTexture=Ce.demTexture||x.getTileTexture(De),Ce.demTexture){let Qe=Ce.demTexture;Qe.update(Le,{premultiply:!1}),Qe.bind(K.LINEAR,K.CLAMP_TO_EDGE)}else Ce.demTexture=new o.T(W,Le,K.RGBA,{premultiply:!1}),Ce.demTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE);let Te=V.getMeshFromTileID(W,be.canonical,k,!0,"raster"),Ge=(B=x.style.map.terrain)===null||B===void 0?void 0:B.getTerrainData(be),it=G.getProjectionData({overscaledTileID:be,aligned:pe,applyGlobeMatrix:!D,applyTerrainMatrix:!0});te.draw(W,K.TRIANGLES,w,y[be.overscaledZ],M,Tr.backCCW,LT(f,Ce.dem,fe),Ge,it,f.id,Te.vertexBuffer,Te.indexBuffer,Te.segments)}}let by=[new o.P(0,0),new o.P(o.$,0),new o.P(o.$,o.$),new o.P(0,o.$)];function ff(x,a,f,m,y,w,M,k,D=!1,B=!1){let V=m[m.length-1].overscaledZ,W=x.context,G=W.gl,K=x.useProgram("raster"),te=x.transform,pe=x.style.projection,ce=x.colorModeForRenderPass(),fe=!x.options.moving;for(let be of m){let Ce=x.getDepthModeForSublayer(be.overscaledZ-V,f.paint.get("raster-opacity")===1?Fr.ReadWrite:Fr.ReadOnly,G.LESS),Ee=a.getTile(be);Ee.registerFadeDuration(f.paint.get("raster-fade-duration"));let De=a.findLoadedParent(be,0),Le=a.findLoadedSibling(be),Te=ex(Ee,De||Le||null,a,f,x.transform,x.style.map.terrain),Ge,it,Qe=f.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;W.activeTexture.set(G.TEXTURE0),Ee.texture.bind(Qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(G.TEXTURE1),De?(De.texture.bind(Qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ge=Math.pow(2,De.tileID.overscaledZ-Ee.tileID.overscaledZ),it=[Ee.tileID.canonical.x*Ge%1,Ee.tileID.canonical.y*Ge%1]):Ee.texture.bind(Qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ee.texture.useMipmap&&W.extTextureFilterAnisotropic&&x.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,W.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,W.extTextureFilterAnisotropicMax);let Je=x.style.map.terrain&&x.style.map.terrain.getTerrainData(be),nt=te.getProjectionData({overscaledTileID:be,aligned:fe,applyGlobeMatrix:!B,applyTerrainMatrix:!0}),Pt=$m(it||[0,0],Ge||1,Te,f,k),Dt=pe.getMeshFromTileID(W,be.canonical,w,M,"raster");K.draw(W,G.TRIANGLES,Ce,y?y[be.overscaledZ]:vn.disabled,ce,D?Tr.frontCCW:Tr.backCCW,Pt,Je,nt,f.id,Dt.vertexBuffer,Dt.indexBuffer,Dt.segments)}}function ex(x,a,f,m,y,w){let M=m.paint.get("raster-fade-duration");if(!w&&M>0){let k=E.now(),D=(k-x.timeAdded)/M,B=a?(k-a.timeAdded)/M:-1,V=f.getSource(),W=ft(y,{tileSize:V.tileSize,roundZoom:V.roundZoom}),G=!a||Math.abs(a.tileID.overscaledZ-W)>Math.abs(x.tileID.overscaledZ-W),K=G&&x.refreshedUponExpiration?1:o.ah(G?D:1-B,0,1);return x.refreshedUponExpiration&&D>=1&&(x.refreshedUponExpiration=!1),a?{opacity:1,mix:1-K}:{opacity:K,mix:0}}return{opacity:1,mix:0}}let eM=new o.bf(1,0,0,1),tM=new o.bf(0,1,0,1),xy=new o.bf(0,0,1,1),tx=new o.bf(1,0,1,1),BL=new o.bf(0,1,1,1);function rx(x,a,f,m){Kl(x,0,a+f/2,x.transform.width,f,m)}function Si(x,a,f,m){Kl(x,a-f/2,0,f,x.transform.height,m)}function Kl(x,a,f,m,y,w){let M=x.context,k=M.gl;k.enable(k.SCISSOR_TEST),k.scissor(a*x.pixelRatio,f*x.pixelRatio,m*x.pixelRatio,y*x.pixelRatio),M.clear({color:w}),k.disable(k.SCISSOR_TEST)}function Ls(x,a,f){let m=x.context,y=m.gl,w=x.useProgram("debug"),M=Fr.disabled,k=vn.disabled,D=x.colorModeForRenderPass(),B="$debug",V=x.style.map.terrain&&x.style.map.terrain.getTerrainData(f);m.activeTexture.set(y.TEXTURE0);let W=a.getTileByID(f.key).latestRawTileData,G=Math.floor((W&&W.byteLength||0)/1024),K=a.getTile(f).tileSize,te=512/Math.min(K,512)*(f.overscaledZ/x.transform.zoom)*.5,pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(pe+=` => ${f.overscaledZ}`),function(fe,be){fe.initDebugOverlayCanvas();let Ce=fe.debugOverlayCanvas,Ee=fe.context.gl,De=fe.debugOverlayCanvas.getContext("2d");De.clearRect(0,0,Ce.width,Ce.height),De.shadowColor="white",De.shadowBlur=2,De.lineWidth=1.5,De.strokeStyle="white",De.textBaseline="top",De.font="bold 36px Open Sans, sans-serif",De.fillText(be,5,5),De.strokeText(be,5,5),fe.debugOverlayTexture.update(Ce),fe.debugOverlayTexture.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}(x,`${pe} ${G}kB`);let ce=x.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(m,y.TRIANGLES,M,k,li.alphaBlended,Tr.disabled,af(o.bf.transparent,te),null,ce,B,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),w.draw(m,y.LINE_STRIP,M,k,D,Tr.disabled,af(o.bf.red),V,ce,B,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function wy(x,a,f,m){let{isRenderingGlobe:y}=m,w=x.context,M=w.gl,k=x.transform,D=x.colorModeForRenderPass(),B=x.getDepthModeFor3D(),V=x.useProgram("terrain");w.bindFramebuffer.set(null),w.viewport.set([0,0,x.width,x.height]);for(let W of f){let G=a.getTerrainMesh(W.tileID),K=x.renderToTexture.getTexture(W),te=a.getTerrainData(W.tileID);w.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,K.texture);let pe=a.getMeshFrameDelta(k.zoom),ce=k.calculateFogMatrix(W.tileID.toUnwrapped()),fe=ay(pe,ce,x.style.sky,k.pitch,y),be=k.getProjectionData({overscaledTileID:W.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});V.draw(w,M.TRIANGLES,B,vn.disabled,D,Tr.backCCW,fe,te,be,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}function eg(x,a){if(!a.mesh){let f=new o.aL;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);let m=new o.aN;m.emplaceBack(0,1,2),m.emplaceBack(0,2,3),a.mesh=new Jp(x.createVertexBuffer(f,Vc.members),x.createIndexBuffer(m),o.aM.simpleSegment(0,0,f.length,m.length))}return a.mesh}class rM{constructor(a,f){this.context=new KT(a),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Td}resize(a,f,m){if(this.width=Math.floor(a*m),this.height=Math.floor(f*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let y of this.style._order)this.style._layers[y].resize()}setup(){let a=this.context,f=new o.aL;f.emplaceBack(0,0),f.emplaceBack(o.$,0),f.emplaceBack(0,o.$),f.emplaceBack(o.$,o.$),this.tileExtentBuffer=a.createVertexBuffer(f,Vc.members),this.tileExtentSegments=o.aM.simpleSegment(0,0,4,2);let m=new o.aL;m.emplaceBack(0,0),m.emplaceBack(o.$,0),m.emplaceBack(0,o.$),m.emplaceBack(o.$,o.$),this.debugBuffer=a.createVertexBuffer(m,Vc.members),this.debugSegments=o.aM.simpleSegment(0,0,4,5);let y=new o.c6;y.emplaceBack(0,0,0,0),y.emplaceBack(o.$,0,o.$,0),y.emplaceBack(0,o.$,0,o.$),y.emplaceBack(o.$,o.$,o.$,o.$),this.rasterBoundsBuffer=a.createVertexBuffer(y,IL.members),this.rasterBoundsSegments=o.aM.simpleSegment(0,0,4,2);let w=new o.aL;w.emplaceBack(0,0),w.emplaceBack(o.$,0),w.emplaceBack(0,o.$),w.emplaceBack(o.$,o.$),this.rasterBoundsBufferPosOnly=a.createVertexBuffer(w,Vc.members),this.rasterBoundsSegmentsPosOnly=o.aM.simpleSegment(0,0,4,5);let M=new o.aL;M.emplaceBack(0,0),M.emplaceBack(1,0),M.emplaceBack(0,1),M.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(M,Vc.members),this.viewportSegments=o.aM.simpleSegment(0,0,4,2);let k=new o.c7;k.emplaceBack(0),k.emplaceBack(1),k.emplaceBack(3),k.emplaceBack(2),k.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(k);let D=new o.aN;D.emplaceBack(1,0,2),D.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(D);let B=this.context.gl;this.stencilClearMode=new vn({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO),this.tileExtentMesh=new Jp(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let a=this.context,f=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let m=o.L();o.bY(m,0,this.width,this.height,0,0,1),o.N(m,m,[f.drawingBufferWidth,f.drawingBufferHeight,0]);let y={mainMatrix:m,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:m};this.useProgram("clippingMask",null,!0).draw(a,f.TRIANGLES,Fr.disabled,this.stencilClearMode,li.disabled,Tr.disabled,null,null,y,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,f,m){if(this.currentStencilSource===a.source||!a.isTileClipped()||!f||!f.length)return;this.currentStencilSource=a.source,this.nextStencilID+f.length>256&&this.clearStencil();let y=this.context;y.setColorMode(li.disabled),y.setDepthMode(Fr.disabled);let w={};for(let M of f)w[M.key]=this.nextStencilID++;this._renderTileMasks(w,f,m,!0),this._renderTileMasks(w,f,m,!1),this._tileClippingMaskIDs=w}_renderTileMasks(a,f,m,y){let w=this.context,M=w.gl,k=this.style.projection,D=this.transform,B=this.useProgram("clippingMask");for(let V of f){let W=a[V.key],G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(V),K=k.getMeshFromTileID(this.context,V.canonical,y,!0,"stencil"),te=D.getProjectionData({overscaledTileID:V,applyGlobeMatrix:!m,applyTerrainMatrix:!0});B.draw(w,M.TRIANGLES,Fr.disabled,new vn({func:M.ALWAYS,mask:0},W,255,M.KEEP,M.KEEP,M.REPLACE),li.disabled,m?Tr.disabled:Tr.backCCW,null,G,te,"$clipping",K.vertexBuffer,K.indexBuffer,K.segments)}}_renderTilesDepthBuffer(){let a=this.context,f=a.gl,m=this.style.projection,y=this.transform,w=this.useProgram("depth"),M=this.getDepthModeFor3D(),k=Se(y,{tileSize:y.tileSize});for(let D of k){let B=this.style.map.terrain&&this.style.map.terrain.getTerrainData(D),V=m.getMeshFromTileID(this.context,D.canonical,!0,!0,"raster"),W=y.getProjectionData({overscaledTileID:D,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(a,f.TRIANGLES,M,vn.disabled,li.disabled,Tr.backCCW,null,B,W,"$clipping",V.vertexBuffer,V.indexBuffer,V.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,f=this.context.gl;return new vn({func:f.NOTEQUAL,mask:255},a,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(a){let f=this.context.gl;return new vn({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(a){let f=this.context.gl,m=a.sort((M,k)=>k.overscaledZ-M.overscaledZ),y=m[m.length-1].overscaledZ,w=m[0].overscaledZ-y+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();let M={};for(let k=0;k<w;k++)M[k+y]=new vn({func:f.GEQUAL,mask:255},k+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=w,[M,m]}return[{[y]:vn.disabled},m]}stencilConfigForOverlapTwoPass(a){let f=this.context.gl,m=a.sort((M,k)=>k.overscaledZ-M.overscaledZ),y=m[m.length-1].overscaledZ,w=m[0].overscaledZ-y+1;if(this.clearStencil(),w>1){let M={},k={};for(let D=0;D<w;D++)M[D+y]=new vn({func:f.GREATER,mask:255},w+1+D,255,f.KEEP,f.KEEP,f.REPLACE),k[D+y]=new vn({func:f.GREATER,mask:255},1+D,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*w+1,[M,k,m]}return this.nextStencilID=3,[{[y]:new vn({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[y]:new vn({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},m]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new li([a.CONSTANT_COLOR,a.ONE],new o.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?li.unblended:li.alphaBlended}getDepthModeForSublayer(a,f,m){if(!this.opaquePassEnabledForLayer())return Fr.disabled;let y=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Fr(m||this.context.gl.LEQUAL,f,[y,y])}getDepthModeFor3D(){return new Fr(this.context.gl.LEQUAL,Fr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,f){var m,y;this.style=a,this.options=f,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(E.now()),this.imageManager.beginFrame();let w=this.style._order,M=this.style.sourceCaches,k={},D={},B={},V={isRenderingToTexture:!1,isRenderingGlobe:((m=a.projection)===null||m===void 0?void 0:m.transitionState)>0};for(let G in M){let K=M[G];K.used&&K.prepare(this.context),k[G]=K.getVisibleCoordinates(!1),D[G]=k[G].slice().reverse(),B[G]=K.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<w.length;G++)if(this.style._layers[w[G]].is3D()){this.opaquePassCutoff=G;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let G of w){let K=this.style._layers[G];if(!K.hasOffscreenPass()||K.isHidden(this.transform.zoom))continue;let te=D[K.source];(K.type==="custom"||te.length)&&this.renderLayer(this,M[K.source],K,te,V)}if((y=this.style.projection)===null||y===void 0||y.updateGPUdependent({context:this.context,useProgram:G=>this.useProgram(G)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?o.bf.black:o.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(G,K){let te=G.context,pe=te.gl,ce=((Le,Te,Ge)=>{let it=Math.cos(Te.rollInRadians),Qe=Math.sin(Te.rollInRadians),Je=Ne(Te),nt=Te.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Le.properties.get("sky-color"),u_horizon_color:Le.properties.get("horizon-color"),u_horizon:[(Te.width/2-Je*Qe)*Ge,(Te.height/2+Je*it)*Ge],u_horizon_normal:[-Qe,it],u_sky_horizon_blend:Le.properties.get("sky-horizon-blend")*Te.height/2*Ge,u_sky_blend:nt}})(K,G.style.map.transform,G.pixelRatio),fe=new Fr(pe.LEQUAL,Fr.ReadWrite,[0,1]),be=vn.disabled,Ce=G.colorModeForRenderPass(),Ee=G.useProgram("sky"),De=eg(te,K);Ee.draw(te,pe.TRIANGLES,fe,be,Ce,Tr.disabled,ce,null,void 0,"sky",De.vertexBuffer,De.indexBuffer,De.segments)}(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){let G=this.style._layers[w[this.currentLayer]],K=M[G.source],te=k[G.source];this._renderTileClippingMasks(G,te,!1),this.renderLayer(this,K,G,te,V)}this.renderPass="translucent";let W=!1;for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){let G=this.style._layers[w[this.currentLayer]],K=M[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G,V))continue;this.opaquePassEnabledForLayer()||W||(W=!0,V.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let te=(G.type==="symbol"?B:D)[G.source];this._renderTileClippingMasks(G,k[G.source],!!this.renderToTexture),this.renderLayer(this,K,G,te,V)}if(V.isRenderingGlobe&&function(G,K,te){let pe=G.context,ce=pe.gl,fe=G.useProgram("atmosphere"),be=new Fr(ce.LEQUAL,Fr.ReadOnly,[0,1]),Ce=G.transform,Ee=function(nt,Pt){let Dt=nt.properties.get("position"),bt=[-Dt.x,-Dt.y,-Dt.z],ar=o.ag(new Float64Array(16));return nt.properties.get("anchor")==="map"&&(o.b6(ar,ar,Pt.rollInRadians),o.b7(ar,ar,-Pt.pitchInRadians),o.b6(ar,ar,Pt.bearingInRadians),o.b7(ar,ar,Pt.center.lat*Math.PI/180),o.bz(ar,ar,-Pt.center.lng*Math.PI/180)),o.c5(bt,bt,ar),bt}(te,G.transform),De=Ce.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Le=K.properties.get("atmosphere-blend")*De.projectionTransition;if(Le===0)return;let Te=Cd(Ce.worldSize,Ce.center.lat),Ge=Ce.inverseProjectionMatrix,it=new Float64Array(4);it[3]=1,o.aw(it,it,Ce.modelViewProjectionMatrix),it[0]/=it[3],it[1]/=it[3],it[2]/=it[3],it[3]=1,o.aw(it,it,Ge),it[0]/=it[3],it[1]/=it[3],it[2]/=it[3],it[3]=1;let Qe=((nt,Pt,Dt,bt,ar)=>({u_sun_pos:nt,u_atmosphere_blend:Pt,u_globe_position:Dt,u_globe_radius:bt,u_inv_proj_matrix:ar}))(Ee,Le,[it[0],it[1],it[2]],Te,Ge),Je=eg(pe,K);fe.draw(pe,ce.TRIANGLES,be,vn.disabled,li.alphaBlended,Tr.disabled,Qe,null,null,"atmosphere",Je.vertexBuffer,Je.indexBuffer,Je.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let G=function(K,te){let pe=null,ce=Object.values(K._layers).flatMap(Ee=>Ee.source&&!Ee.isHidden(te)?[K.sourceCaches[Ee.source]]:[]),fe=ce.filter(Ee=>Ee.getSource().type==="vector"),be=ce.filter(Ee=>Ee.getSource().type!=="vector"),Ce=Ee=>{(!pe||pe.getSource().maxzoom<Ee.getSource().maxzoom)&&(pe=Ee)};return fe.forEach(Ee=>Ce(Ee)),pe||be.forEach(Ee=>Ce(Ee)),pe}(this.style,this.transform.zoom);G&&function(K,te,pe){for(let ce=0;ce<pe.length;ce++)Ls(K,te,pe[ce])}(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){let K=G.transform.padding;rx(G,G.transform.height-(K.top||0),3,eM),rx(G,K.bottom||0,3,tM),Si(G,K.left||0,3,xy),Si(G,G.transform.width-(K.right||0),3,tx);let te=G.transform.centerPoint;(function(pe,ce,fe,be){Kl(pe,ce-1,fe-10,2,20,be),Kl(pe,ce-10,fe-1,20,2,be)})(G,te.x,G.transform.height-te.y,BL)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let f=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix,y=this.terrainFacilitator.dirty;y||(y=a?!o.c8(f,m):!o.c9(f,m)),y||(y=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),y&&(o.ca(f,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(w,M){let k=w.context,D=k.gl,B=w.transform,V=li.unblended,W=new Fr(D.LEQUAL,Fr.ReadWrite,[0,1]),G=M.sourceCache.getRenderableTiles(),K=w.useProgram("terrainDepth");k.bindFramebuffer.set(M.getFramebuffer("depth").framebuffer),k.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),k.clear({color:o.bf.transparent,depth:1});for(let te of G){let pe=M.getTerrainMesh(te.tileID),ce=M.getTerrainData(te.tileID),fe=B.getProjectionData({overscaledTileID:te.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),be={u_ele_delta:M.getMeshFrameDelta(B.zoom)};K.draw(k,D.TRIANGLES,W,vn.disabled,V,Tr.backCCW,be,ce,fe,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments)}k.bindFramebuffer.set(null),k.viewport.set([0,0,w.width,w.height])}(this,this.style.map.terrain),function(w,M){let k=w.context,D=k.gl,B=w.transform,V=li.unblended,W=new Fr(D.LEQUAL,Fr.ReadWrite,[0,1]),G=M.getCoordsTexture(),K=M.sourceCache.getRenderableTiles(),te=w.useProgram("terrainCoords");k.bindFramebuffer.set(M.getFramebuffer("coords").framebuffer),k.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),k.clear({color:o.bf.transparent,depth:1}),M.coordsIndex=[];for(let pe of K){let ce=M.getTerrainMesh(pe.tileID),fe=M.getTerrainData(pe.tileID);k.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,G.texture);let be={u_terrain_coords_id:(255-M.coordsIndex.length)/255,u_texture:0,u_ele_delta:M.getMeshFrameDelta(B.zoom)},Ce=B.getProjectionData({overscaledTileID:pe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});te.draw(k,D.TRIANGLES,W,vn.disabled,V,Tr.backCCW,be,fe,Ce,"terrain",ce.vertexBuffer,ce.indexBuffer,ce.segments),M.coordsIndex.push(pe.tileID.key)}k.bindFramebuffer.set(null),k.viewport.set([0,0,w.width,w.height])}(this,this.style.map.terrain))}renderLayer(a,f,m,y,w){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||(y||[]).length)&&(this.id=m.id,o.cb(m)?function(M,k,D,B,V,W){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:G}=W,K=vn.disabled,te=M.colorModeForRenderPass();(D._unevaluatedLayout.hasValue("text-variable-anchor")||D._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(pe,ce,fe,be,Ce,Ee,De,Le,Te){let Ge=ce.transform,it=ce.style.map.terrain,Qe=Ce==="map",Je=Ee==="map";for(let nt of pe){let Pt=be.getTile(nt),Dt=Pt.getBucket(fe);if(!Dt||!Dt.text||!Dt.text.segments.get().length)continue;let bt=o.an(Dt.textSizeData,Ge.zoom),ar=o.aC(Pt,1,ce.transform.zoom),Gr=un(Qe,ce.transform,ar),Cn=fe.layout.get("icon-text-fit")!=="none"&&Dt.hasIconData();if(bt){let Hn=Math.pow(2,Ge.zoom-Pt.tileID.overscaledZ),Bn=it?(vi,Ei)=>it.getElevation(nt,vi,Ei):null;Kb(Dt,Qe,Je,Te,Ge,Gr,Hn,bt,Cn,o.aD(Ge,Pt,De,Le),nt.toUnwrapped(),Bn)}}}(B,M,D,k,D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),V),D.paint.get("icon-opacity").constantOr(1)!==0&&Ym(M,k,D,B,!1,D.paint.get("icon-translate"),D.paint.get("icon-translate-anchor"),D.layout.get("icon-rotation-alignment"),D.layout.get("icon-pitch-alignment"),D.layout.get("icon-keep-upright"),K,te,G),D.paint.get("text-opacity").constantOr(1)!==0&&Ym(M,k,D,B,!0,D.paint.get("text-translate"),D.paint.get("text-translate-anchor"),D.layout.get("text-rotation-alignment"),D.layout.get("text-pitch-alignment"),D.layout.get("text-keep-upright"),K,te,G),k.map.showCollisionBoxes&&(XT(M,k,D,B,!0),XT(M,k,D,B,!1))}(a,f,m,y,this.style.placement.variableOffsets,w):o.cc(m)?function(M,k,D,B,V){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=D.paint.get("circle-opacity"),K=D.paint.get("circle-stroke-width"),te=D.paint.get("circle-stroke-opacity"),pe=!D.layout.get("circle-sort-key").isConstant();if(G.constantOr(1)===0&&(K.constantOr(1)===0||te.constantOr(1)===0))return;let ce=M.context,fe=ce.gl,be=M.transform,Ce=M.getDepthModeForSublayer(0,Fr.ReadOnly),Ee=vn.disabled,De=M.colorModeForRenderPass(),Le=[],Te=be.getCircleRadiusCorrection();for(let Ge=0;Ge<B.length;Ge++){let it=B[Ge],Qe=k.getTile(it),Je=Qe.getBucket(D);if(!Je)continue;let nt=D.paint.get("circle-translate"),Pt=D.paint.get("circle-translate-anchor"),Dt=o.aD(be,Qe,nt,Pt),bt=Je.programConfigurations.get(D.id),ar=M.useProgram("circle",bt),Gr=Je.layoutVertexBuffer,Cn=Je.indexBuffer,Hn=M.style.map.terrain&&M.style.map.terrain.getTerrainData(it),Bn={programConfiguration:bt,program:ar,layoutVertexBuffer:Gr,indexBuffer:Cn,uniformValues:CL(M,Qe,D,Dt,Te),terrainData:Hn,projectionData:be.getProjectionData({overscaledTileID:it,applyGlobeMatrix:!W,applyTerrainMatrix:!0})};if(pe){let vi=Je.segments.get();for(let Ei of vi)Le.push({segments:new o.aM([Ei]),sortKey:Ei.sortKey,state:Bn})}else Le.push({segments:Je.segments,sortKey:0,state:Bn})}pe&&Le.sort((Ge,it)=>Ge.sortKey-it.sortKey);for(let Ge of Le){let{programConfiguration:it,program:Qe,layoutVertexBuffer:Je,indexBuffer:nt,uniformValues:Pt,terrainData:Dt,projectionData:bt}=Ge.state;Qe.draw(ce,fe.TRIANGLES,Ce,Ee,De,Tr.backCCW,Pt,Dt,bt,D.id,Je,nt,Ge.segments,D.paint,M.transform.zoom,it)}}(a,f,m,y,w):o.cd(m)?function(M,k,D,B,V){if(D.paint.get("heatmap-opacity")===0)return;let W=M.context,{isRenderingToTexture:G,isRenderingGlobe:K}=V;if(M.style.map.terrain){for(let te of B){let pe=k.getTile(te);k.hasRenderableParent(te)||(M.renderPass==="offscreen"?Xb(M,pe,D,te,K):M.renderPass==="translucent"&&JT(M,D,te,G,K))}W.viewport.set([0,0,M.width,M.height])}else M.renderPass==="offscreen"?function(te,pe,ce,fe){let be=te.context,Ce=be.gl,Ee=te.transform,De=vn.disabled,Le=new li([Ce.ONE,Ce.ONE],o.bf.transparent,[!0,!0,!0,!0]);(function(Te,Ge,it){let Qe=Te.gl;Te.activeTexture.set(Qe.TEXTURE1),Te.viewport.set([0,0,Ge.width/4,Ge.height/4]);let Je=it.heatmapFbos.get(o.c2);Je?(Qe.bindTexture(Qe.TEXTURE_2D,Je.colorAttachment.get()),Te.bindFramebuffer.set(Je.framebuffer)):(Je=Xm(Te,Ge.width/4,Ge.height/4),it.heatmapFbos.set(o.c2,Je))})(be,te,ce),be.clear({color:o.bf.transparent});for(let Te=0;Te<fe.length;Te++){let Ge=fe[Te];if(pe.hasRenderableParent(Ge))continue;let it=pe.getTile(Ge),Qe=it.getBucket(ce);if(!Qe)continue;let Je=Qe.programConfigurations.get(ce.id),nt=te.useProgram("heatmap",Je),Pt=Ee.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Dt=Ee.getCircleRadiusCorrection();nt.draw(be,Ce.TRIANGLES,Fr.disabled,De,Le,Tr.backCCW,NT(it,Ee.zoom,ce.paint.get("heatmap-intensity"),Dt),null,Pt,ce.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,ce.paint,Ee.zoom,Je)}be.viewport.set([0,0,te.width,te.height])}(M,k,D,B):M.renderPass==="translucent"&&function(te,pe){let ce=te.context,fe=ce.gl;ce.setColorMode(te.colorModeForRenderPass());let be=pe.heatmapFbos.get(o.c2);be&&(ce.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,be.colorAttachment.get()),ce.activeTexture.set(fe.TEXTURE1),Qm(ce,pe).bind(fe.LINEAR,fe.CLAMP_TO_EDGE),te.useProgram("heatmapTexture").draw(ce,fe.TRIANGLES,Fr.disabled,vn.disabled,te.colorModeForRenderPass(),Tr.disabled,qb(te,pe,0,1),null,null,pe.id,te.viewportBuffer,te.quadTriangleIndexBuffer,te.viewportSegments,pe.paint,te.transform.zoom))}(M,D)}(a,f,m,y,w):o.ce(m)?function(M,k,D,B,V){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=D.paint.get("line-opacity"),K=D.paint.get("line-width");if(G.constantOr(1)===0||K.constantOr(1)===0)return;let te=M.getDepthModeForSublayer(0,Fr.ReadOnly),pe=M.colorModeForRenderPass(),ce=D.paint.get("line-dasharray"),fe=D.paint.get("line-pattern"),be=fe.constantOr(1),Ce=D.paint.get("line-gradient"),Ee=D.getCrossfadeParameters(),De=be?"linePattern":ce?"lineSDF":Ce?"lineGradient":"line",Le=M.context,Te=Le.gl,Ge=M.transform,it=!0;for(let Qe of B){let Je=k.getTile(Qe);if(be&&!Je.patternsLoaded())continue;let nt=Je.getBucket(D);if(!nt)continue;let Pt=nt.programConfigurations.get(D.id),Dt=M.context.program.get(),bt=M.useProgram(De,Pt),ar=it||bt.program!==Dt,Gr=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Qe),Cn=fe.constantOr(null);if(Cn&&Je.imageAtlas){let Vr=Je.imageAtlas,Wn=Vr.patternPositions[Cn.to.toString()],$i=Vr.patternPositions[Cn.from.toString()];Wn&&$i&&Pt.setConstantPatternPositions(Wn,$i)}let Hn=Ge.getProjectionData({overscaledTileID:Qe,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),Bn=Ge.getPixelScale(),vi=be?zT(M,Je,D,Bn,Ee):ce?sf(M,Je,D,Bn,ce,Ee):Ce?qT(M,Je,D,Bn,nt.lineClipsArray.length):cy(M,Je,D,Bn);if(be)Le.activeTexture.set(Te.TEXTURE0),Je.imageAtlasTexture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Pt.updatePaintBuffers(Ee);else if(ce&&(ar||M.lineAtlas.dirty))Le.activeTexture.set(Te.TEXTURE0),M.lineAtlas.bind(Le);else if(Ce){let Vr=nt.gradients[D.id],Wn=Vr.texture;if(D.gradientVersion!==Vr.version){let $i=256;if(D.stepInterpolant){let to=k.getSource().maxzoom,vo=Qe.canonical.z===to?Math.ceil(1<<M.transform.maxZoom-Qe.canonical.z):1;$i=o.ah(o.c3(nt.maxLineLength/o.$*1024*vo),256,Le.maxTextureSize)}Vr.gradient=o.c4({expression:D.gradientExpression(),evaluationKey:"lineProgress",resolution:$i,image:Vr.gradient||void 0,clips:nt.lineClipsArray}),Vr.texture?Vr.texture.update(Vr.gradient):Vr.texture=new o.T(Le,Vr.gradient,Te.RGBA),Vr.version=D.gradientVersion,Wn=Vr.texture}Le.activeTexture.set(Te.TEXTURE0),Wn.bind(D.stepInterpolant?Te.NEAREST:Te.LINEAR,Te.CLAMP_TO_EDGE)}let Ei=M.stencilModeForClipping(Qe);bt.draw(Le,Te.TRIANGLES,te,Ei,pe,Tr.disabled,vi,Gr,Hn,D.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,D.paint,M.transform.zoom,Pt,nt.layoutVertexBuffer2),it=!1}}(a,f,m,y,w):o.cf(m)?function(M,k,D,B,V){let W=D.paint.get("fill-color"),G=D.paint.get("fill-opacity");if(G.constantOr(1)===0)return;let{isRenderingToTexture:K}=V,te=M.colorModeForRenderPass(),pe=D.paint.get("fill-pattern"),ce=M.opaquePassEnabledForLayer()&&!pe.constantOr(1)&&W.constantOr(o.bf.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(M.renderPass===ce){let fe=M.getDepthModeForSublayer(1,M.renderPass==="opaque"?Fr.ReadWrite:Fr.ReadOnly);_y(M,k,D,B,fe,te,!1,K)}if(M.renderPass==="translucent"&&D.paint.get("fill-antialias")){let fe=M.getDepthModeForSublayer(D.getPaintProperty("fill-outline-color")?2:0,Fr.ReadOnly);_y(M,k,D,B,fe,te,!0,K)}}(a,f,m,y,w):o.cg(m)?function(M,k,D,B,V){let W=D.paint.get("fill-extrusion-opacity");if(W===0)return;let{isRenderingToTexture:G}=V;if(M.renderPass==="translucent"){let K=new Fr(M.context.gl.LEQUAL,Fr.ReadWrite,M.depthRangeFor3D);if(W!==1||D.paint.get("fill-extrusion-pattern").constantOr(1))Qb(M,k,D,B,K,vn.disabled,li.disabled,G),Qb(M,k,D,B,K,M.stencilModeFor3D(),M.colorModeForRenderPass(),G);else{let te=M.colorModeForRenderPass();Qb(M,k,D,B,K,vn.disabled,te,G)}}}(a,f,m,y,w):o.ch(m)?function(M,k,D,B,V){if(M.renderPass!=="offscreen"&&M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=M.context,K=M.style.projection.useSubdivision,te=M.getDepthModeForSublayer(0,Fr.ReadOnly),pe=M.colorModeForRenderPass();if(M.renderPass==="offscreen")(function(ce,fe,be,Ce,Ee,De,Le){let Te=ce.context,Ge=Te.gl;for(let it of be){let Qe=fe.getTile(it),Je=Qe.dem;if(!Je||!Je.data||!Qe.needsHillshadePrepare)continue;let nt=Je.dim,Pt=Je.stride,Dt=Je.getPixels();if(Te.activeTexture.set(Ge.TEXTURE1),Te.pixelStoreUnpackPremultiplyAlpha.set(!1),Qe.demTexture=Qe.demTexture||ce.getTileTexture(Pt),Qe.demTexture){let ar=Qe.demTexture;ar.update(Dt,{premultiply:!1}),ar.bind(Ge.NEAREST,Ge.CLAMP_TO_EDGE)}else Qe.demTexture=new o.T(Te,Dt,Ge.RGBA,{premultiply:!1}),Qe.demTexture.bind(Ge.NEAREST,Ge.CLAMP_TO_EDGE);Te.activeTexture.set(Ge.TEXTURE0);let bt=Qe.fbo;if(!bt){let ar=new o.T(Te,{width:nt,height:nt,data:null},Ge.RGBA);ar.bind(Ge.LINEAR,Ge.CLAMP_TO_EDGE),bt=Qe.fbo=Te.createFramebuffer(nt,nt,!0,!1),bt.colorAttachment.set(ar.texture)}Te.bindFramebuffer.set(bt.framebuffer),Te.viewport.set([0,0,nt,nt]),ce.useProgram("hillshadePrepare").draw(Te,Ge.TRIANGLES,Ee,De,Le,Tr.disabled,RT(Qe.tileID,Je),null,null,Ce.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),Qe.needsHillshadePrepare=!1}})(M,k,B,D,te,vn.disabled,pe),G.viewport.set([0,0,M.width,M.height]);else if(M.renderPass==="translucent")if(K){let[ce,fe,be]=M.stencilConfigForOverlapTwoPass(B);pf(M,k,D,be,ce,te,pe,!1,W),pf(M,k,D,be,fe,te,pe,!0,W)}else{let[ce,fe]=M.getStencilConfigForOverlapAndUpdateStencilID(B);pf(M,k,D,fe,ce,te,pe,!1,W)}}(a,f,m,y,w):o.ci(m)?function(M,k,D,B,V){if(M.renderPass!=="translucent"||!B.length)return;let{isRenderingToTexture:W}=V,G=M.style.projection.useSubdivision,K=M.getDepthModeForSublayer(0,Fr.ReadOnly),te=M.colorModeForRenderPass();if(G){let[pe,ce,fe]=M.stencilConfigForOverlapTwoPass(B);Jb(M,k,D,fe,pe,K,te,!1,W),Jb(M,k,D,fe,ce,K,te,!0,W)}else{let[pe,ce]=M.getStencilConfigForOverlapAndUpdateStencilID(B);Jb(M,k,D,ce,pe,K,te,!1,W)}}(a,f,m,y,w):o.cj(m)?function(M,k,D,B,V){if(M.renderPass!=="translucent"||D.paint.get("raster-opacity")===0||!B.length)return;let{isRenderingToTexture:W}=V,G=k.getSource(),K=M.style.projection.useSubdivision;if(G instanceof tr)ff(M,k,D,B,null,!1,!1,G.tileCoords,G.flippedWindingOrder,W);else if(K){let[te,pe,ce]=M.stencilConfigForOverlapTwoPass(B);ff(M,k,D,ce,te,!1,!0,by,!1,W),ff(M,k,D,ce,pe,!0,!0,by,!1,W)}else{let[te,pe]=M.getStencilConfigForOverlapAndUpdateStencilID(B);ff(M,k,D,pe,te,!1,!0,by,!1,W)}}(a,f,m,y,w):o.ck(m)?function(M,k,D,B,V){let W=D.paint.get("background-color"),G=D.paint.get("background-opacity");if(G===0)return;let{isRenderingToTexture:K}=V,te=M.context,pe=te.gl,ce=M.style.projection,fe=M.transform,be=fe.tileSize,Ce=D.paint.get("background-pattern");if(M.isPatternMissing(Ce))return;let Ee=!Ce&&W.a===1&&G===1&&M.opaquePassEnabledForLayer()?"opaque":"translucent";if(M.renderPass!==Ee)return;let De=vn.disabled,Le=M.getDepthModeForSublayer(0,Ee==="opaque"?Fr.ReadWrite:Fr.ReadOnly),Te=M.colorModeForRenderPass(),Ge=M.useProgram(Ce?"backgroundPattern":"background"),it=B||Se(fe,{tileSize:be,terrain:M.style.map.terrain});Ce&&(te.activeTexture.set(pe.TEXTURE0),M.imageManager.bind(M.context));let Qe=D.getCrossfadeParameters();for(let Je of it){let nt=fe.getProjectionData({overscaledTileID:Je,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),Pt=Ce?BT(G,M,Ce,{tileID:Je,tileSize:be},Qe):FT(G,W),Dt=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Je),bt=ce.getMeshFromTileID(te,Je.canonical,!1,!0,"raster");Ge.draw(te,pe.TRIANGLES,Le,De,Te,Tr.backCCW,Pt,Dt,nt,D.id,bt.vertexBuffer,bt.indexBuffer,bt.segments)}}(a,0,m,y,w):o.cl(m)&&function(M,k,D,B){let{isRenderingGlobe:V}=B,W=M.context,G=D.implementation,K=M.style.projection,te=M.transform,pe=te.getProjectionDataForCustomLayer(V),ce={farZ:te.farZ,nearZ:te.nearZ,fov:te.fov*Math.PI/180,modelViewProjectionMatrix:te.modelViewProjectionMatrix,projectionMatrix:te.projectionMatrix,shaderData:{variantName:K.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${K.shaderPreludeCode.vertexSource}`,define:K.shaderDefine},defaultProjectionData:pe},fe=G.renderingMode?G.renderingMode:"2d";if(M.renderPass==="offscreen"){let be=G.prerender;be&&(M.setCustomLayerDefaults(),W.setColorMode(M.colorModeForRenderPass()),be.call(G,W.gl,ce),W.setDirty(),M.setBaseState())}else if(M.renderPass==="translucent"){M.setCustomLayerDefaults(),W.setColorMode(M.colorModeForRenderPass()),W.setStencilMode(vn.disabled);let be=fe==="3d"?M.getDepthModeFor3D():M.getDepthModeForSublayer(0,Fr.ReadOnly);W.setDepthMode(be),G.render(W.gl,ce),W.setDirty(),M.setBaseState(),W.bindFramebuffer.set(null)}}(a,0,m,w))}saveTileTexture(a){let f=this._tileTextures[a.size[0]];f?f.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let f=this._tileTextures[a];return f&&f.length>0?f.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let f=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!f||!m}useProgram(a,f,m=!1,y=[]){this.cache=this.cache||{};let w=!!this.style.map.terrain,M=this.style.projection,k=m?fl.projectionMercator:M.shaderPreludeCode,D=m?Lu:M.shaderDefine,B=a+(f?f.cacheKey:"")+`/${m?ef:M.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(w?"/terrain":"")+(y?`/${y.join("/")}`:"");return this.cache[B]||(this.cache[B]=new Lb(this.context,fl[a],f,Ub[a],this._showOverdrawInspector,w,k,D,y)),this.cache[B]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:f}=this.context.gl;return this.width!==a||this.height!==f}}function df(x,a){let f,m=!1,y=null,w=null,M=()=>{y=null,m&&(x.apply(w,f),y=setTimeout(M,a),m=!1)};return(...k)=>(m=!0,w=this,f=k,y||M(),y)}class Sy{constructor(a){this._getCurrentHash=()=>{let f=window.location.hash.replace("#","");if(this._hashName){let m;return f.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(m=y)}),(m&&m[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{let f=this._getCurrentHash();if(!this._isValidHash(f))return!1;let m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:m,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{let f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{let f=this._getCurrentHash();if(f.length===0)return;let m=f.join("/"),y=m;y.split("&").length>0&&(y=y.split("&")[0]),this._hashName&&(y=`${this._hashName}=${m}`);let w=window.location.hash.replace(y,"");w.startsWith("#&")?w=w.slice(0,1)+w.slice(2):w==="#"&&(w="");let M=window.location.href.replace(/(#.+)?$/,w);M=M.replace("&&","&"),window.history.replaceState(window.history.state,null,M)},this._updateHash=df(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let f=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,y=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,y),M=Math.round(f.lng*w)/w,k=Math.round(f.lat*w)/w,D=this._map.getBearing(),B=this._map.getPitch(),V="";if(V+=a?`/${M}/${k}/${m}`:`${m}/${k}/${M}`,(D||B)&&(V+="/"+Math.round(10*D)/10),B&&(V+=`/${Math.round(B)}`),this._hashName){let W=this._hashName,G=!1,K=window.location.hash.slice(1).split("&").map(te=>{let pe=te.split("=")[0];return pe===W?(G=!0,`${pe}=${V}`):te}).filter(te=>te);return G||K.push(`${W}=${V}`),`#${K.join("&")}`}return`#${V}`}_isValidHash(a){if(a.length<3||a.some(isNaN))return!1;try{new o.S(+a[2],+a[1])}catch(w){return!1}let f=+a[0],m=+(a[3]||0),y=+(a[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&m>=-180&&m<=180&&y>=this._map.getMinPitch()&&y<=this._map.getMaxPitch()}}let ju={linearity:.3,easing:o.cm(0,0,.3,1)},nx=o.e({deceleration:2500,maxSpeed:1400},ju),nM=o.e({deceleration:20,maxSpeed:1400},ju),iM=o.e({deceleration:1e3,maxSpeed:360},ju),oM=o.e({deceleration:1e3,maxSpeed:90},ju),aM=o.e({deceleration:1e3,maxSpeed:360},ju);class sM{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:E.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,f=E.now();for(;a.length>0&&f-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let f={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:w}of this._inertiaBuffer)f.zoom+=w.zoomDelta||0,f.bearing+=w.bearingDelta||0,f.pitch+=w.pitchDelta||0,f.roll+=w.rollDelta||0,w.panDelta&&f.pan._add(w.panDelta),w.around&&(f.around=w.around),w.pinchAround&&(f.pinchAround=w.pinchAround);let m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(f.pan.mag()){let w=kd(f.pan.mag(),m,o.e({},nx,a||{})),M=f.pan.mult(w.amount/f.pan.mag()),k=this._map.cameraHelper.handlePanInertia(M,this._map.transform);y.center=k.easingCenter,y.offset=k.easingOffset,ml(y,w)}if(f.zoom){let w=kd(f.zoom,m,nM);y.zoom=this._map.transform.zoom+w.amount,ml(y,w)}if(f.bearing){let w=kd(f.bearing,m,iM);y.bearing=this._map.transform.bearing+o.ah(w.amount,-179,179),ml(y,w)}if(f.pitch){let w=kd(f.pitch,m,oM);y.pitch=this._map.transform.pitch+w.amount,ml(y,w)}if(f.roll){let w=kd(f.roll,m,aM);y.roll=this._map.transform.roll+o.ah(w.amount,-179,179),ml(y,w)}if(y.zoom||y.bearing){let w=f.pinchAround===void 0?f.around:f.pinchAround;y.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),o.e(y,{noMoveStart:!0})}}function ml(x,a){(!x.duration||x.duration<a.duration)&&(x.duration=a.duration,x.easing=a.easing)}function kd(x,a,f){let{maxSpeed:m,linearity:y,deceleration:w}=f,M=o.ah(x*y/(a/1e3),-m,m),k=Math.abs(M)/(w*y);return{easing:f.easing,duration:1e3*k,amount:M*(k/2)}}class Fa extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m,y={}){m=m instanceof MouseEvent?m:new MouseEvent(a,m);let w=T.mousePos(f.getCanvas(),m),M=f.unproject(w);super(a,o.e({point:w,lngLat:M,originalEvent:m},y)),this._defaultPrevented=!1,this.target=f}}class Dd extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){let y=a==="touchend"?m.changedTouches:m.touches,w=T.touchPos(f.getCanvasContainer(),y),M=w.map(D=>f.unproject(D)),k=w.reduce((D,B,V,W)=>D.add(B.div(W.length)),new o.P(0,0));super(a,{points:w,point:k,lngLats:M,lngLat:f.unproject(k),originalEvent:m}),this._defaultPrevented=!1}}class ix extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class lM{constructor(a,f){this._map=a,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new ix(a.type,this._map,a))}mousedown(a,f){return this._mousedownPos=f,this._firePreventable(new Fa(a.type,this._map,a))}mouseup(a){this._map.fire(new Fa(a.type,this._map,a))}click(a,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new Fa(a.type,this._map,a))}dblclick(a){return this._firePreventable(new Fa(a.type,this._map,a))}mouseover(a){this._map.fire(new Fa(a.type,this._map,a))}mouseout(a){this._map.fire(new Fa(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Dd(a.type,this._map,a))}touchmove(a){this._map.fire(new Dd(a.type,this._map,a))}touchend(a){this._map.fire(new Dd(a.type,this._map,a))}touchcancel(a){this._map.fire(new Dd(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class uM{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new Fa(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Fa("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new Fa(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Nd{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.screenPointToLocation(o.P.convert(a),this._map.terrain)}}class ox{constructor(a,f){this._map=a,this._tr=new Nd(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,f){this.isEnabled()&&a.shiftKey&&a.button===0&&(T.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(a,f){if(!this._active)return;let m=f;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;let y=this._startPos;this._lastPos=m,this._box||(this._box=T.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let w=Math.min(y.x,m.x),M=Math.max(y.x,m.x),k=Math.min(y.y,m.y),D=Math.max(y.y,m.y);T.setTransform(this._box,`translate(${w}px,${k}px)`),this._box.style.width=M-w+"px",this._box.style.height=D-k+"px"}mouseupWindow(a,f){if(!this._active||a.button!==0)return;let m=this._startPos,y=f;if(this.reset(),T.suppressClick(),m.x!==y.x||m.y!==y.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:a})),{cameraAnimation:w=>w.fitScreenCoordinates(m,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,f){return this._map.fire(new o.l(a,{originalEvent:f}))}}function Rd(x,a){if(x.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${a.length}`);let f={};for(let m=0;m<x.length;m++)f[x[m].identifier]=a[m];return f}class cM{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,f,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(y){let w=new o.P(0,0);for(let M of y)w._add(M);return w.div(y.length)}(f),this.touches=Rd(m,f)))}touchmove(a,f,m){if(this.aborted||!this.centroid)return;let y=Rd(m,f);for(let w in this.touches){let M=y[w];(!M||M.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(a,f,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){let y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class Ba{constructor(a){this.singleTap=new cM(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,f,m){this.singleTap.touchstart(a,f,m)}touchmove(a,f,m){this.singleTap.touchmove(a,f,m)}touchend(a,f,m){let y=this.singleTap.touchend(a,f,m);if(y){let w=a.timeStamp-this.lastTime<500,M=!this.lastTap||this.lastTap.dist(y)<30;if(w&&M||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class gl{constructor(a){this._tr=new Nd(a),this._zoomIn=new Ba({numTouches:1,numTaps:2}),this._zoomOut=new Ba({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,f,m){this._zoomIn.touchstart(a,f,m),this._zoomOut.touchstart(a,f,m)}touchmove(a,f,m){this._zoomIn.touchmove(a,f,m),this._zoomOut.touchmove(a,f,m)}touchend(a,f,m){let y=this._zoomIn.touchend(a,f,m),w=this._zoomOut.touchend(a,f,m),M=this._tr;return y?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:M.zoom+1,around:M.unproject(y)},{originalEvent:a})}):w?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:M.zoom-1,around:M.unproject(w)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ld{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let f=this._moveFunction(...a);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(a,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,f){if(!this.isEnabled())return;let m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let y=Array.isArray(f)?f[0]:f;return!this._moved&&y.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(m,y))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&T.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let vl=0,qd=2,UL={[vl]:1,[qd]:2};class tg{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let f=T.mouseButton(a);this._eventButton=f}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(f,m){let y=UL[m];return f.buttons===void 0||(f.buttons&y)!==y}(a,this._eventButton)}isValidEndEvent(a){return T.mouseButton(a)===this._eventButton}}class VL{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}class $L{constructor(a=new tg({checkCorrectEvent:()=>!0}),f=new VL){this.mouseMoveStateManager=a,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(a,f,m){return a instanceof MouseEvent?f(a):typeof TouchEvent!="undefined"&&a instanceof TouchEvent?m(a):void 0}startMove(a){this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.startMove(f),f=>this.oneFingerTouchMoveStateManager.startMove(f))}endMove(a){this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.endMove(f),f=>this.oneFingerTouchMoveStateManager.endMove(f))}isValidStartEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidStartEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f))}isValidMoveEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidMoveEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f))}isValidEndEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidEndEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f))}}let rg=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=a=>{a.preventDefault()}};class ng{constructor(a,f){this._clickTolerance=a.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,f,m){return this._calculateTransform(a,f,m)}touchmove(a,f,m){if(this._active){if(!this._shouldBePrevented(m.length))return a.preventDefault(),this._calculateTransform(a,f,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,f,m){this._calculateTransform(a,f,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,f,m){m.length>0&&(this._active=!0);let y=Rd(m,f),w=new o.P(0,0),M=new o.P(0,0),k=0;for(let B in y){let V=y[B],W=this._touches[B];W&&(w._add(V),M._add(V.sub(W)),k++,y[B]=V)}if(this._touches=y,this._shouldBePrevented(k)||!M.mag())return;let D=M.div(k);return this._sum._add(D),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(k),panDelta:D}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yl{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,f,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([f[0],f[1]]))}touchmove(a,f,m){if(!this._firstTwoTouches)return;a.preventDefault();let[y,w]=this._firstTwoTouches,M=Jt(m,f,y),k=Jt(m,f,w);if(!M||!k)return;let D=this._aroundCenter?null:M.add(k).div(2);return this._move([M,k],D,a)}touchend(a,f,m){if(!this._firstTwoTouches)return;let[y,w]=this._firstTwoTouches,M=Jt(m,f,y),k=Jt(m,f,w);M&&k||(this._active&&T.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Jt(x,a,f){for(let m=0;m<x.length;m++)if(x[m].identifier===f)return a[m]}function ax(x,a){return Math.log(x/a)/Math.LN2}class Ey extends yl{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,f){let m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(ax(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ax(this._distance,m),pinchAround:f}}}function sx(x,a){return 180*x.angleWith(a)/Math.PI}class zd extends yl{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,f,m){let y=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:sx(this._vector,y),pinchAround:f}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let f=25/(Math.PI*this._minDiameter)*360,m=sx(a,this._startVector);return Math.abs(m)<f}}function hf(x){return Math.abs(x.y)>Math.abs(x.x)}class Iy extends yl{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,f,m){super.touchstart(a,f,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,hf(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,f,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let y=a[0].sub(this._lastPoints[0]),w=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,w,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(y.y+w.y)/2*-.5}):void 0}gestureBeginsVertically(a,f,m){if(this._valid!==void 0)return this._valid;let y=a.mag()>=2,w=f.mag()>=2;if(!y&&!w)return;if(!y||!w)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;let M=a.y>0==f.y>0;return hf(a)&&hf(f)&&M}}let dn={panStep:100,bearingStep:15,pitchStep:10};class Ty{constructor(a){this._tr=new Nd(a);let f=dn;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let f=0,m=0,y=0,w=0,M=0;switch(a.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),w=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),w=1);break;case 38:a.shiftKey?y=1:(a.preventDefault(),M=-1);break;case 40:a.shiftKey?y=-1:(a.preventDefault(),M=1);break;default:return}return this._rotationDisabled&&(m=0,y=0),{cameraAnimation:k=>{let D=this._tr;k.easeTo({duration:300,easeId:"keyboardHandler",easing:GL,zoom:f?Math.round(D.zoom)+f*(a.shiftKey?2:1):D.zoom,bearing:D.bearing+m*this._bearingStep,pitch:D.pitch+y*this._pitchStep,offset:[-w*this._panStep,-M*this._panStep],center:D.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function GL(x){return x*(2-x)}let My=4.000244140625,HL=1/450;class pM{constructor(a,f){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Nd(a),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=HL}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let f=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,m=E.now(),y=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,f!==0&&f%My==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(y*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),a.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=a,this._delta-=f,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let f=T.mousePos(this._map.getCanvas(),a),m=this._tr;this._aroundPoint=this._aroundCenter?m.transform.locationToScreenPoint(o.S.convert(m.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let k=a.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=k),typeof this._targetZoom=="number"&&(this._targetZoom+=k)}if(this._delta!==0){let k=this._type==="wheel"&&Math.abs(this._delta)>My?this._wheelZoomRate:this._defaultZoomRate,D=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&D!==0&&(D=1/D);let B=typeof this._targetZoom!="number"?a.scale:o.af(this._targetZoom);this._targetZoom=a.getConstrained(a.getCameraLngLat(),o.ak(B*D)).zoom,this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let f=typeof this._targetZoom!="number"?a.zoom:this._targetZoom,m=this._startZoom,y=this._easing,w,M=!1;if(this._type==="wheel"&&m&&y){let k=E.now()-this._lastWheelEventTime,D=Math.min((k+5)/200,1),B=y(D);w=o.C.number(m,f,B),D<1?this._frameId||(this._frameId=!0):M=!0}else w=f,M=!0;return this._active=!0,M&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=w,{noInertia:!0,needsRenderFrame:!M,zoomDelta:w-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let f=o.co;if(this._prevEase){let m=this._prevEase,y=(E.now()-m.start)/m.duration,w=m.easing(y+.01)-m.easing(y),M=.27/Math.sqrt(w*w+1e-4)*.01,k=Math.sqrt(.0729-M*M);f=o.cm(M,k,.25,1)}return this._prevEase={start:E.now(),duration:a,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class lx{constructor(a,f){this._clickZoom=a,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ux{constructor(a){this._tr=new Nd(a),this.reset()}reset(){this._active=!1}dblclick(a,f){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fM{constructor(){this._tap=new Ba({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,f,m){if(!this._swipePoint)if(this._tapTime){let y=f[0],w=a.timeStamp-this._tapTime<500,M=this._tapPoint.dist(y)<30;w&&M?m.length>0&&(this._swipePoint=y,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,f,m)}touchmove(a,f,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;let y=f[0],w=y.y-this._swipePoint.y;return this._swipePoint=y,a.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(a,f,m)}touchend(a,f,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{let y=this._tap.touchend(a,f,m);y&&(this._tapTime=a.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dM{constructor(a,f,m){this._el=a,this._mousePan=f,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class cx{constructor(a,f,m,y){this._pitchWithRotate=a.pitchWithRotate,this._rollEnabled=a.rollEnabled,this._mouseRotate=f,this._mousePitch=m,this._mouseRoll=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class hM{constructor(a,f,m,y){this._el=a,this._touchZoom=f,this._touchRotate=m,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class mM{constructor(a,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=T.create("div","maplibregl-cooperative-gesture-screen",a);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),y=document.createElement("div");y.className="maplibregl-desktop-message",y.textContent=f,this._container.appendChild(y);let w=document.createElement("div");w.className="maplibregl-mobile-message",w.textContent=m,this._container.appendChild(w),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(T.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,f){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:a,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let _l=x=>x.zoom||x.drag||x.roll||x.pitch||x.rotate;class Xn extends o.l{}function jd(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta||x.rollDelta}class px{constructor(a,f){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,w)=>{if(y.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let M=y.type==="renderFrame"?void 0:y,k={needsRenderFrame:!1},D={},B={};for(let{handlerName:G,handler:K,allowed:te}of this._handlers){if(!K.isEnabled())continue;let pe;if(this._blockedByActive(B,te,G))K.reset();else if(K[w||y.type]){if(o.cp(y,w||y.type)){let ce=T.mousePos(this._map.getCanvas(),y);pe=K[w||y.type](y,ce)}else if(o.cq(y,w||y.type)){let ce=this._getMapTouches(y.touches),fe=T.touchPos(this._map.getCanvas(),ce);pe=K[w||y.type](y,fe,ce)}else o.cr(w||y.type)||(pe=K[w||y.type](y));this.mergeHandlerResult(k,D,pe,G,M),pe&&pe.needsRenderFrame&&this._triggerRenderFrame()}(pe||K.isActive())&&(B[G]=K)}let V={};for(let G in this._previousActiveHandlers)B[G]||(V[G]=M);this._previousActiveHandlers=B,(Object.keys(V).length||jd(k))&&(this._changes.push([k,D,V]),this._triggerRenderFrame()),(Object.keys(B).length||jd(k))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:W}=k;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new sM(a),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);let m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(let[y,w,M]of this._listeners)T.addEventListener(y,w,y===document?this.handleWindowEvent:this.handleEvent,M)}destroy(){for(let[a,f,m]of this._listeners)T.removeEventListener(a,f,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){let f=this._map,m=f.getCanvasContainer();this._add("mapEvent",new lM(f,a));let y=f.boxZoom=new ox(f,a);this._add("boxZoom",y),a.interactive&&a.boxZoom&&y.enable();let w=f.cooperativeGestures=new mM(f,a.cooperativeGestures);this._add("cooperativeGestures",w),a.cooperativeGestures&&w.enable();let M=new gl(f),k=new ux(f);f.doubleClickZoom=new lx(k,M),this._add("tapZoom",M),this._add("clickZoom",k),a.interactive&&a.doubleClickZoom&&f.doubleClickZoom.enable();let D=new fM;this._add("tapDragZoom",D);let B=f.touchPitch=new Iy(f);this._add("touchPitch",B),a.interactive&&a.touchPitch&&f.touchPitch.enable(a.touchPitch);let V=()=>f.project(f.getCenter()),W=function({enable:Ee,clickTolerance:De,aroundCenter:Le=!0,minPixelCenterThreshold:Te=100,rotateDegreesPerPixelMoved:Ge=.8},it){let Qe=new tg({checkCorrectEvent:Je=>T.mouseButton(Je)===0&&Je.ctrlKey||T.mouseButton(Je)===2&&!Je.ctrlKey});return new Ld({clickTolerance:De,move:(Je,nt)=>{let Pt=it();if(Le&&Math.abs(Pt.y-Je.y)>Te)return{bearingDelta:o.cn(new o.P(Je.x,nt.y),nt,Pt)};let Dt=(nt.x-Je.x)*Ge;return Le&&nt.y<Pt.y&&(Dt=-Dt),{bearingDelta:Dt}},moveStateManager:Qe,enable:Ee,assignEvents:rg})}(a,V),G=function({enable:Ee,clickTolerance:De,pitchDegreesPerPixelMoved:Le=-.5}){let Te=new tg({checkCorrectEvent:Ge=>T.mouseButton(Ge)===0&&Ge.ctrlKey||T.mouseButton(Ge)===2});return new Ld({clickTolerance:De,move:(Ge,it)=>({pitchDelta:(it.y-Ge.y)*Le}),moveStateManager:Te,enable:Ee,assignEvents:rg})}(a),K=function({enable:Ee,clickTolerance:De,rollDegreesPerPixelMoved:Le=.3},Te){let Ge=new tg({checkCorrectEvent:it=>T.mouseButton(it)===2&&it.ctrlKey});return new Ld({clickTolerance:De,move:(it,Qe)=>{let Je=Te(),nt=(Qe.x-it.x)*Le;return Qe.y<Je.y&&(nt=-nt),{rollDelta:nt}},moveStateManager:Ge,enable:Ee,assignEvents:rg})}(a,V);f.dragRotate=new cx(a,W,G,K),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",G,["mouseRotate","mouseRoll"]),this._add("mouseRoll",K,["mousePitch"]),a.interactive&&a.dragRotate&&f.dragRotate.enable();let te=function({enable:Ee,clickTolerance:De}){let Le=new tg({checkCorrectEvent:Te=>T.mouseButton(Te)===0&&!Te.ctrlKey});return new Ld({clickTolerance:De,move:(Te,Ge)=>({around:Ge,panDelta:Ge.sub(Te)}),activateOnStart:!0,moveStateManager:Le,enable:Ee,assignEvents:rg})}(a),pe=new ng(a,f);f.dragPan=new dM(m,te,pe),this._add("mousePan",te),this._add("touchPan",pe,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&f.dragPan.enable(a.dragPan);let ce=new zd,fe=new Ey;f.touchZoomRotate=new hM(m,fe,ce,D),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",fe,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&f.touchZoomRotate.enable(a.touchZoomRotate);let be=f.scrollZoom=new pM(f,()=>this._triggerRenderFrame());this._add("scrollZoom",be,["mousePan"]),a.interactive&&a.scrollZoom&&f.scrollZoom.enable(a.scrollZoom);let Ce=f.keyboard=new Ty(f);this._add("keyboard",Ce),a.interactive&&a.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new uM(f))}_add(a,f,m){this._handlers.push({handlerName:a,handler:f,allowed:m}),this._handlersById[a]=f}stop(a){if(!this._updatingCamera){for(let{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!_l(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,f,m){for(let y in a)if(y!==m&&(!f||f.indexOf(y)<0))return!0;return!1}_getMapTouches(a){let f=[];for(let m of a)this._el.contains(m.target)&&f.push(m);return f}mergeHandlerResult(a,f,m,y,w){if(!m)return;o.e(a,m);let M={handlerName:y,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(f.zoom=M),m.panDelta!==void 0&&(f.drag=M),m.rollDelta!==void 0&&(f.roll=M),m.pitchDelta!==void 0&&(f.pitch=M),m.bearingDelta!==void 0&&(f.rotate=M)}_applyChanges(){let a={},f={},m={};for(let[y,w,M]of this._changes)y.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(y.panDelta)),y.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+y.pitchDelta),y.rollDelta&&(a.rollDelta=(a.rollDelta||0)+y.rollDelta),y.around!==void 0&&(a.around=y.around),y.pinchAround!==void 0&&(a.pinchAround=y.pinchAround),y.noInertia&&(a.noInertia=y.noInertia),o.e(f,w),o.e(m,M);this._updateMapTransform(a,f,m),this._changes=[]}_updateMapTransform(a,f,m){let y=this._map,w=y._getTransformForUpdate(),M=y.terrain;if(!(jd(a)||M&&this._terrainMovement))return this._fireEvents(f,m,!0);y._stop(!0);let{panDelta:k,zoomDelta:D,bearingDelta:B,pitchDelta:V,rollDelta:W,around:G,pinchAround:K}=a;K!==void 0&&(G=K),G=G||y.transform.centerPoint,M&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);let te={panDelta:k,zoomDelta:D,rollDelta:W,pitchDelta:V,bearingDelta:B,around:G};this._map.cameraHelper.useGlobeControls&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);let pe=G.distSqr(w.centerPoint)<.01?w.center:w.screenPointToLocation(k?G.sub(k):G);M?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(te,w),this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?w.setCenter(w.screenPointToLocation(w.centerPoint.sub(k))):this._map.cameraHelper.handleMapControlsPan(te,w,pe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(te,w,pe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(te,w),this._map.cameraHelper.handleMapControlsPan(te,w,pe)),y._applyUpdatedTransform(w),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(f,m,!0)}_fireEvents(a,f,m){let y=_l(this._eventsInProgress),w=_l(a),M={};for(let W in a){let{originalEvent:G}=a[W];this._eventsInProgress[W]||(M[`${W}start`]=G),this._eventsInProgress[W]=a[W]}!y&&w&&this._fireEvent("movestart",w.originalEvent);for(let W in M)this._fireEvent(W,M[W]);w&&this._fireEvent("move",w.originalEvent);for(let W in a){let{originalEvent:G}=a[W];this._fireEvent(W,G)}let k={},D;for(let W in this._eventsInProgress){let{handlerName:G,originalEvent:K}=this._eventsInProgress[W];this._handlersById[G].isActive()||(delete this._eventsInProgress[W],D=f[G]||K,k[`${W}end`]=D)}for(let W in k)this._fireEvent(W,k[W]);let B=_l(this._eventsInProgress),V=(y||w)&&!B;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let W=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&W.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(W)}if(m&&V){this._updatingCamera=!0;let W=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),G=K=>K!==0&&-this._bearingSnap<K&&K<this._bearingSnap;!W||!W.essential&&E.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:D})),G(this._map.getBearing())&&this._map.resetNorth()):(G(W.bearing||this._map.getBearing())&&(W.bearing=0),W.freezeElevation=!0,this._map.easeTo(W,{originalEvent:D})),this._updatingCamera=!1}}_fireEvent(a,f){this._map.fire(new o.l(a,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Xn("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class gM extends o.E{constructor(a,f,m){super(),this._renderFrameCallback=()=>{let y=Math.min((E.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=m.bearingSnap,this.cameraHelper=f,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(a,f){a.apply(this.transform),this.transform=a,this.cameraHelper=f}getCenter(){return new o.S(this.transform.center.lng,this.transform.center.lat)}setCenter(a,f){return this.jumpTo({center:a},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(a,f){return this.jumpTo({elevation:a},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(a){this._centerClampedToGround=a}panBy(a,f,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},f),m)}panTo(a,f,m){return this.easeTo(o.e({center:a},f),m)}getZoom(){return this.transform.zoom}setZoom(a,f){return this.jumpTo({zoom:a},f),this}zoomTo(a,f,m){return this.easeTo(o.e({zoom:a},f),m)}zoomIn(a,f){return this.zoomTo(this.getZoom()+1,a,f),this}zoomOut(a,f){return this.zoomTo(this.getZoom()-1,a,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(a,f){return a!=this.transform.fov&&(this.transform.setFov(a),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)).fire(new o.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(a,f){return this.jumpTo({bearing:a},f),this}getPadding(){return this.transform.padding}setPadding(a,f){return this.jumpTo({padding:a},f),this}rotateTo(a,f,m){return this.easeTo(o.e({bearing:a},f),m)}resetNorth(a,f){return this.rotateTo(0,o.e({duration:1e3},a),f),this}resetNorthPitch(a,f){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},a),f),this}snapToNorth(a,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,f):this}getPitch(){return this.transform.pitch}setPitch(a,f){return this.jumpTo({pitch:a},f),this}getRoll(){return this.transform.roll}setRoll(a,f){return this.jumpTo({roll:a},f),this}cameraForBounds(a,f){a=yt.convert(a).adjustAntiMeridian();let m=f&&f.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,f)}_cameraForBoxAndBearing(a,f,m,y){let w={top:0,bottom:0,right:0,left:0};if(typeof(y=o.e({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){let B=y.padding;y.padding={top:B,bottom:B,right:B,left:B}}let M=o.e(w,y.padding);y.padding=M;let k=this.transform,D=new yt(a,f);return this.cameraHelper.cameraForBoxAndBearing(y,M,D,m,k)}fitBounds(a,f,m){return this._fitInternal(this.cameraForBounds(a,f),f,m)}fitScreenCoordinates(a,f,m,y,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(a)),this.transform.screenPointToLocation(o.P.convert(f)),m,y),y,w)}_fitInternal(a,f,m){return a?(delete(f=o.e(a,f)).padding,f.linear?this.easeTo(f,m):this.flyTo(f,m)):this}jumpTo(a,f){this.stop();let m=this._getTransformForUpdate(),y=!1,w=!1,M=!1,k=m.zoom;this.cameraHelper.handleJumpToCenterZoom(m,a);let D=m.zoom!==k;return"elevation"in a&&m.elevation!==+a.elevation&&m.setElevation(+a.elevation),"bearing"in a&&m.bearing!==+a.bearing&&(y=!0,m.setBearing(+a.bearing)),"pitch"in a&&m.pitch!==+a.pitch&&(w=!0,m.setPitch(+a.pitch)),"roll"in a&&m.roll!==+a.roll&&(M=!0,m.setRoll(+a.roll)),a.padding==null||m.isPaddingEqual(a.padding)||m.setPadding(a.padding),this._applyUpdatedTransform(m),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)),D&&this.fire(new o.l("zoomstart",f)).fire(new o.l("zoom",f)).fire(new o.l("zoomend",f)),y&&this.fire(new o.l("rotatestart",f)).fire(new o.l("rotate",f)).fire(new o.l("rotateend",f)),w&&this.fire(new o.l("pitchstart",f)).fire(new o.l("pitch",f)).fire(new o.l("pitchend",f)),M&&this.fire(new o.l("rollstart",f)).fire(new o.l("roll",f)).fire(new o.l("rollend",f)),this.fire(new o.l("moveend",f))}calculateCameraOptionsFromTo(a,f,m,y=0){let w=o.a1.fromLngLat(a,f),M=o.a1.fromLngLat(m,y),k=M.x-w.x,D=M.y-w.y,B=M.z-w.z,V=Math.hypot(k,D,B);if(V===0)throw new Error("Can't calculate camera options with same From and To");let W=Math.hypot(k,D),G=o.ak(this.transform.cameraToCenterDistance/V/this.transform.tileSize),K=180*Math.atan2(k,-D)/Math.PI,te=180*Math.acos(W/V)/Math.PI;return te=B<0?90-te:90+te,{center:M.toLngLat(),elevation:y,zoom:G,pitch:te,bearing:K}}calculateCameraOptionsFromCameraLngLatAltRotation(a,f,m,y,w){let M=this.transform.calculateCenterFromCameraLngLatAlt(a,f,m,y);return{center:M.center,elevation:M.elevation,zoom:M.zoom,bearing:m,pitch:y,roll:w}}easeTo(a,f){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.co},a)).animate===!1||!a.essential&&E.prefersReducedMotion)&&(a.duration=0);let m=this._getTransformForUpdate(),y=this.getBearing(),w=m.pitch,M=m.roll,k="bearing"in a?this._normalizeBearing(a.bearing,y):y,D="pitch"in a?+a.pitch:w,B="roll"in a?this._normalizeBearing(a.roll,M):M,V="padding"in a?a.padding:m.padding,W=o.P.convert(a.offset),G,K;a.around&&(G=o.S.convert(a.around),K=m.locationToScreenPoint(G));let te={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},pe=this.cameraHelper.handleEaseTo(m,{bearing:k,pitch:D,roll:B,padding:V,around:G,aroundPoint:K,offsetAsPoint:W,offset:a.offset,zoom:a.zoom,center:a.center});return this._rotating=this._rotating||y!==k,this._pitching=this._pitching||D!==w,this._rolling=this._rolling||B!==M,this._padding=!m.isPaddingEqual(V),this._zooming=this._zooming||pe.isZooming,this._easeId=a.easeId,this._prepareEase(f,a.noMoveStart,te),this.terrain&&this._prepareElevation(pe.elevationCenter),this._ease(ce=>{pe.easeFunc(ce),this.terrain&&!a.freezeElevation&&this._updateElevation(ce),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},ce=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(f,ce)},a),this}_prepareEase(a,f,m={}){this._moving=!0,f||m.moving||this.fire(new o.l("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.l("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.l("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.l("pitchstart",a)),this._rolling&&!m.rolling&&this.fire(new o.l("rollstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&f!==this._elevationTarget){let m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(f-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=f}this.transform.setElevation(o.C.number(this._elevationStart,this._elevationTarget,a))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){if(!this.terrain&&a.elevation>=0&&a.pitch<=90)return{};let f=a.getCameraLngLat(),m=a.getCameraAltitude(),y=this.terrain?this.terrain.getElevationForLngLatZoom(f,a.zoom):0;if(m<y){let w=this.calculateCameraOptionsFromTo(f,y,a.center,a.elevation);return{pitch:w.pitch,zoom:w.zoom}}return{}}_applyUpdatedTransform(a){let f=[];if(f.push(y=>this._elevateCameraIfInsideTerrain(y)),this.transformCameraUpdate&&f.push(y=>this.transformCameraUpdate(y)),!f.length)return;let m=a.clone();for(let y of f){let w=m.clone(),{center:M,zoom:k,roll:D,pitch:B,bearing:V,elevation:W}=y(w);M&&w.setCenter(M),W!==void 0&&w.setElevation(W),k!==void 0&&w.setZoom(k),D!==void 0&&w.setRoll(D),B!==void 0&&w.setPitch(B),V!==void 0&&w.setBearing(V),m.apply(w)}this.transform.apply(m)}_fireMoveEvents(a){this.fire(new o.l("move",a)),this._zooming&&this.fire(new o.l("zoom",a)),this._rotating&&this.fire(new o.l("rotate",a)),this._pitching&&this.fire(new o.l("pitch",a)),this._rolling&&this.fire(new o.l("roll",a))}_afterEase(a,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;let m=this._zooming,y=this._rotating,w=this._pitching,M=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,m&&this.fire(new o.l("zoomend",a)),y&&this.fire(new o.l("rotateend",a)),w&&this.fire(new o.l("pitchend",a)),M&&this.fire(new o.l("rollend",a)),this.fire(new o.l("moveend",a))}flyTo(a,f){if(!a.essential&&E.prefersReducedMotion){let nt=o.Q(a,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(nt,f)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.co},a);let m=this._getTransformForUpdate(),y=m.bearing,w=m.pitch,M=m.roll,k=m.padding,D="bearing"in a?this._normalizeBearing(a.bearing,y):y,B="pitch"in a?+a.pitch:w,V="roll"in a?this._normalizeBearing(a.roll,M):M,W="padding"in a?a.padding:m.padding,G=o.P.convert(a.offset),K=m.centerPoint.add(G),te=m.screenPointToLocation(K),pe=this.cameraHelper.handleFlyTo(m,{bearing:D,pitch:B,roll:V,padding:W,locationAtOffset:te,offsetAsPoint:G,center:a.center,minZoom:a.minZoom,zoom:a.zoom}),ce=a.curve,fe=Math.max(m.width,m.height),be=fe/pe.scaleOfZoom,Ce=pe.pixelPathLength;typeof pe.scaleOfMinZoom=="number"&&(ce=Math.sqrt(fe/pe.scaleOfMinZoom/Ce*2));let Ee=ce*ce;function De(nt){let Pt=(be*be-fe*fe+(nt?-1:1)*Ee*Ee*Ce*Ce)/(2*(nt?be:fe)*Ee*Ce);return Math.log(Math.sqrt(Pt*Pt+1)-Pt)}function Le(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function Te(nt){return(Math.exp(nt)+Math.exp(-nt))/2}let Ge=De(!1),it=function(nt){return Te(Ge)/Te(Ge+ce*nt)},Qe=function(nt){return fe*((Te(Ge)*(Le(Pt=Ge+ce*nt)/Te(Pt))-Le(Ge))/Ee)/Ce;var Pt},Je=(De(!0)-Ge)/ce;if(Math.abs(Ce)<2e-6||!isFinite(Je)){if(Math.abs(fe-be)<1e-6)return this.easeTo(a,f);let nt=be<fe?-1:1;Je=Math.abs(Math.log(be/fe))/ce,Qe=()=>0,it=Pt=>Math.exp(nt*ce*Pt)}return a.duration="duration"in a?+a.duration:1e3*Je/("screenSpeed"in a?+a.screenSpeed/ce:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=y!==D,this._pitching=B!==w,this._rolling=V!==M,this._padding=!m.isPaddingEqual(W),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(pe.targetCenter),this._ease(nt=>{let Pt=nt*Je,Dt=1/it(Pt),bt=Qe(Pt);this._rotating&&m.setBearing(o.C.number(y,D,nt)),this._pitching&&m.setPitch(o.C.number(w,B,nt)),this._rolling&&m.setRoll(o.C.number(M,V,nt)),this._padding&&(m.interpolatePadding(k,W,nt),K=m.centerPoint.add(G)),pe.easeFunc(nt,Dt,bt,K),this.terrain&&!a.freezeElevation&&this._updateElevation(nt),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(f)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,f){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,f)}return a||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(a,f,m){m.animate===!1||m.duration===0?(a(1),f()):(this._easeStart=E.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,f){a=o.aO(a,-180,180);let m=Math.abs(a-f);return Math.abs(a-360-f)<m&&(a-=360),Math.abs(a+360-f)<m&&(a+=360),a}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.S.convert(a),this.transform.tileZoom):null}}let fx={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class dx{constructor(a=fx){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=T.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=T.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,f){let m=this._map._getUIString(`AttributionControl.${f}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}let f=this._map.style.sourceCaches;for(let y in f){let w=f[y];if(w.used||w.usedForTerrain){let M=w.getSource();M.attribution&&a.indexOf(M.attribution)<0&&a.push(M.attribution)}}a=a.filter(y=>String(y).trim()),a.sort((y,w)=>y.length-w.length),a=a.filter((y,w)=>{for(let M=w+1;M<a.length;M++)if(a[M].indexOf(y)>=0)return!1;return!0});let m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=T.sanitize(m),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class vM{constructor(a={}){this._updateCompact=()=>{let f=this._container.children;if(f.length){let m=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=T.create("div","maplibregl-ctrl");let f=T.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){T.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Xl{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let f=++this._id;return this._queue.push({callback:a,id:f,cancelled:!1}),f}remove(a){let f=this._currentlyRunning,m=f?this._queue.concat(f):this._queue;for(let y of m)if(y.id===a)return void(y.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let f=this._currentlyRunning=this._queue;this._queue=[];for(let m of f)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Cy=o.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class lr extends o.E{constructor(a){super(),this._lastTilesetChange=E.now(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=a._source.tileSize*xf(2,this.deltaZoom),a.usedForTerrain=!0,a.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,f){this.sourceCache.update(a,f),this._renderableTilesKeys=[];let m={};for(let y of Se(a,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))m[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.terrainRttPosMatrix32f=new Float64Array(16),o.bY(y.terrainRttPosMatrix32f,0,o.$,o.$,0,0,1),this._tiles[y.key]=new zt(y,this.tileSize),this._lastTilesetChange=E.now());for(let y in this._tiles)m[y]||delete this._tiles[y]}freeRtt(a){for(let f in this._tiles){let m=this._tiles[f];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a,f){return f?this._getTerrainCoordsForTileRanges(a,f):this._getTerrainCoordsForRegularTile(a)}_getTerrainCoordsForRegularTile(a){let f={};for(let m of this._renderableTilesKeys){let y=this._tiles[m].tileID,w=a.clone(),M=o.ba();if(y.canonical.equals(a.canonical))o.bY(M,0,o.$,o.$,0,0,1);else if(y.canonical.isChildOf(a.canonical)){let k=y.canonical.z-a.canonical.z,D=y.canonical.x-(y.canonical.x>>k<<k),B=y.canonical.y-(y.canonical.y>>k<<k),V=o.$>>k;o.bY(M,0,V,V,0,0,1),o.M(M,M,[-D*V,-B*V,0])}else{if(!a.canonical.isChildOf(y.canonical))continue;{let k=a.canonical.z-y.canonical.z,D=a.canonical.x-(a.canonical.x>>k<<k),B=a.canonical.y-(a.canonical.y>>k<<k),V=o.$>>k;o.bY(M,0,o.$,o.$,0,0,1),o.M(M,M,[D*V,B*V,0]),o.N(M,M,[1/xf(2,k),1/xf(2,k),0])}}w.terrainRttPosMatrix32f=new Float32Array(M),f[m]=w}return f}_getTerrainCoordsForTileRanges(a,f){let m={};for(let y of this._renderableTilesKeys){let w=this._tiles[y].tileID;if(!this._isWithinTileRanges(w,f))continue;let M=a.clone(),k=o.ba();if(w.canonical.z===a.canonical.z){let D=a.canonical.x-w.canonical.x,B=a.canonical.y-w.canonical.y;o.bY(k,0,o.$,o.$,0,0,1),o.M(k,k,[D*o.$,B*o.$,0])}else if(w.canonical.z>a.canonical.z){let D=w.canonical.z-a.canonical.z,B=w.canonical.x-(w.canonical.x>>D<<D),V=w.canonical.y-(w.canonical.y>>D<<D),W=a.canonical.x-(w.canonical.x>>D),G=a.canonical.y-(w.canonical.y>>D),K=o.$>>D;o.bY(k,0,K,K,0,0,1),o.M(k,k,[-B*K+W*o.$,-V*K+G*o.$,0])}else{let D=a.canonical.z-w.canonical.z,B=a.canonical.x-(a.canonical.x>>D<<D),V=a.canonical.y-(a.canonical.y>>D<<D),W=(a.canonical.x>>D)-w.canonical.x,G=(a.canonical.y>>D)-w.canonical.y,K=o.$<<D;o.bY(k,0,K,K,0,0,1),o.M(k,k,[B*o.$+W*K,V*o.$+G*K,0])}M.terrainRttPosMatrix32f=new Float32Array(k),m[y]=M}return m}getSourceTile(a,f){let m=this.sourceCache._source,y=a.overscaledZ-this.deltaZoom;if(y>m.maxzoom&&(y=m.maxzoom),y<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(y).key);let w=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!w||!w.dem)&&f)for(;y>=m.minzoom&&(!w||!w.dem);)w=this.sourceCache.getTileByID(a.scaledTo(y--).key);return w}anyTilesAfterTime(a=Date.now()){return this._lastTilesetChange>=a}_isWithinTileRanges(a,f){return f[a.canonical.z]&&a.canonical.x>=f[a.canonical.z].minTileX&&a.canonical.x<=f[a.canonical.z].maxTileX&&a.canonical.y>=f[a.canonical.z].minTileY&&a.canonical.y<=f[a.canonical.z].maxTileY}}class Ir{constructor(a,f,m){this._meshCache={},this.painter=a,this.sourceCache=new lr(f),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,f,m,y=o.$){var w;if(!(f>=0&&f<y&&m>=0&&m<y))return 0;let M=this.getTerrainData(a),k=(w=M.tile)===null||w===void 0?void 0:w.dem;if(!k)return 0;let D=o.cs([],[f/y*o.$,m/y*o.$],M.u_terrain_matrix),B=[D[0]*k.dim,D[1]*k.dim],V=Math.floor(B[0]),W=Math.floor(B[1]),G=B[0]-V,K=B[1]-W;return k.get(V,W)*(1-G)*(1-K)+k.get(V+1,W)*G*(1-K)+k.get(V,W+1)*(1-G)*K+k.get(V+1,W+1)*G*K}getElevationForLngLatZoom(a,f){if(!o.ct(f,a.wrap()))return 0;let{tileID:m,mercatorX:y,mercatorY:w}=this._getOverscaledTileIDFromLngLatZoom(a,f);return this.getElevation(m,y%o.$,w%o.$,o.$)}getElevation(a,f,m,y=o.$){return this.getDEMElevation(a,f,m,y)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let y=this.painter.context,w=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new o.T(y,w,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new o.T(y,new o.R({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ag([])}let f=this.sourceCache.getSourceTile(a,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){let y=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new o.T(y,f.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),f.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}let m=f&&f+f.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){let y=this.sourceCache.sourceCache._source.maxzoom,w=a.canonical.z-f.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=y?w=a.canonical.z-y:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let M=a.canonical.x-(a.canonical.x>>w<<w),k=a.canonical.y-(a.canonical.y>>w<<w),D=o.cu(new Float64Array(16),[1/(o.$<<w),1/(o.$<<w),0]);o.M(D,D,[M*o.$,k*o.$,0]),this._demMatrixCache[a.key]={matrix:D,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(a){let f=this.painter,m=f.width/devicePixelRatio,y=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new o.T(f.context,{width:m,height:y,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new o.T(f.context,{width:m,height:y,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(m,y,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,m,y))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let w=0,M=0;w<this._coordsTextureSize;w++)for(let k=0;k<this._coordsTextureSize;k++,M+=4)f[M+0]=255&k,f[M+1]=255&w,f[M+2]=k>>8<<4|w>>8,f[M+3]=0;let m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),y=new o.T(a,m,a.gl.RGBA,{premultiply:!1});return y.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let f=new Uint8Array(4),m=this.painter.context,y=m.gl,w=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),M=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),k=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(w,k-M-1,1,1,y.RGBA,y.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null);let D=f[0]+(f[2]>>4<<8),B=f[1]+((15&f[2])<<8),V=this.coordsIndex[255-f[3]],W=V&&this.sourceCache.getTileByID(V);if(!W)return null;let G=this._coordsTextureSize,K=(1<<W.tileID.canonical.z)*G;return new o.a1((W.tileID.canonical.x*G+D)/K+W.tileID.wrap,(W.tileID.canonical.y*G+B)/K,this.getElevation(W.tileID,D,B,G))}depthAtPoint(a){let f=new Uint8Array(4),m=this.painter.context,y=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),y.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(a){var f;let m=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,y=m&&a.canonical.y===0,w=m&&a.canonical.y===(1<<a.canonical.z)-1,M=`m_${y?"n":""}_${w?"s":""}`;if(this._meshCache[M])return this._meshCache[M];let k=this.painter.context,D=new o.cv,B=new o.aN,V=this.meshSize,W=o.$/V,G=V*V;for(let Te=0;Te<=V;Te++)for(let Ge=0;Ge<=V;Ge++)D.emplaceBack(Ge*W,Te*W,0);for(let Te=0;Te<G;Te+=V+1)for(let Ge=0;Ge<V;Ge++)B.emplaceBack(Ge+Te,V+Ge+Te+1,V+Ge+Te+2),B.emplaceBack(Ge+Te,V+Ge+Te+2,Ge+Te+1);let K=D.length,te=K+(V+1),pe=(V+1)*V,ce=y?o.bh:0,fe=y?0:1,be=w?o.bi:o.$,Ce=w?0:1;for(let Te=0;Te<=V;Te++)D.emplaceBack(Te*W,ce,fe);for(let Te=0;Te<=V;Te++)D.emplaceBack(Te*W,be,Ce);for(let Te=0;Te<V;Te++)B.emplaceBack(pe+Te,te+Te,te+Te+1),B.emplaceBack(pe+Te,te+Te+1,pe+Te+1),B.emplaceBack(0+Te,K+Te+1,K+Te),B.emplaceBack(0+Te,0+Te+1,K+Te+1);let Ee=D.length,De=Ee+2*(V+1);for(let Te of[0,1])for(let Ge=0;Ge<=V;Ge++)for(let it of[0,1])D.emplaceBack(Te*o.$,Ge*W,it);for(let Te=0;Te<2*V;Te+=2)B.emplaceBack(Ee+Te,Ee+Te+1,Ee+Te+3),B.emplaceBack(Ee+Te,Ee+Te+3,Ee+Te+2),B.emplaceBack(De+Te,De+Te+3,De+Te+1),B.emplaceBack(De+Te,De+Te+2,De+Te+3);let Le=new Jp(k.createVertexBuffer(D,Cy.members),k.createIndexBuffer(B),o.aM.simpleSegment(0,0,D.length,B.length));return this._meshCache[M]=Le,Le}getMeshFrameDelta(a){return 2*Math.PI*o.bu/Math.pow(2,Math.max(a,0))/5}getMinTileElevationForLngLatZoom(a,f){var m;let{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(a,f);return(m=this.getMinMaxElevation(y).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){let f=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return f&&f.dem&&(m.minElevation=f.dem.min*this.exaggeration,m.maxElevation=f.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,f){let m=o.a1.fromLngLat(a.wrap()),y=(1<<f)*o.$,w=m.x*y,M=m.y*y,k=Math.floor(w/o.$),D=Math.floor(M/o.$);return{tileID:new o.Z(f,0,f,k,D),mercatorX:w,mercatorY:M}}}class Ay{constructor(a,f,m){this._context=a,this._size=f,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new o.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(m.texture),{id:a,fbo:f,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>a.id!==f),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let Hc={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Py{constructor(a,f){this.painter=a,this.terrain=f,this.pool=new Ay(a.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(f)),this._coordsAscending={};for(let m in a.sourceCaches){this._coordsAscending[m]={};let y=a.sourceCaches[m].getVisibleCoordinates(),w=a.sourceCaches[m].getSource(),M=w instanceof tr?w.terrainTileRanges:null;for(let k of y){let D=this.terrain.sourceCache.getTerrainCoords(k,M);for(let B in D)this._coordsAscending[m][B]||(this._coordsAscending[m][B]=[]),this._coordsAscending[m][B].push(D[B])}}this._coordsAscendingStr={};for(let m of a._order){let y=a._layers[m],w=y.source;if(Hc[y.type]&&!this._coordsAscendingStr[w]){this._coordsAscendingStr[w]={};for(let M in this._coordsAscending[w])this._coordsAscendingStr[w][M]=this._coordsAscending[w][M].map(k=>k.key).sort().join()}}for(let m of this._renderableTiles)for(let y in this._coordsAscendingStr){let w=this._coordsAscendingStr[y][m.tileID.key];w&&w!==m.rttCoords[y]&&(m.rtt=[])}}renderLayer(a,f){if(a.isHidden(this.painter.transform.zoom))return!1;let m=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),y=a.type,w=this.painter,M=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(Hc[y]&&(this._prevType&&Hc[this._prevType]||this._stacks.push([]),this._prevType=y,this._stacks[this._stacks.length-1].push(a.id),!M))return!0;if(Hc[this._prevType]||Hc[y]&&M){this._prevType=y;let k=this._stacks.length-1,D=this._stacks[k]||[];for(let B of this._renderableTiles){if(this.pool.isFull()&&(wy(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(B),B.rtt[k]){let W=this.pool.getObjectForId(B.rtt[k].id);if(W.stamp===B.rtt[k].stamp){this.pool.useObject(W);continue}}let V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),B.rtt[k]={id:V.id,stamp:V.stamp},w.context.bindFramebuffer.set(V.fbo.framebuffer),w.context.clear({color:o.bf.transparent,stencil:0}),w.currentStencilSource=void 0;for(let W=0;W<D.length;W++){let G=w.style._layers[D[W]],K=G.source?this._coordsAscending[G.source][B.tileID.key]:[B.tileID];w.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),w._renderTileClippingMasks(G,K,!0),w.renderLayer(w,w.style.sourceCaches[G.source],G,K,m),G.source&&(B.rttCoords[G.source]=this._coordsAscendingStr[G.source][B.tileID.key])}}return wy(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects(),Hc[y]}return!1}}let la={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},yM=l,qs={hash:!1,interactive:!0,bearingSnap:7,attributionControl:fx,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},WL={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class ig{constructor(a,f,m=!1){this.mousedown=w=>{this.startMove(w,T.mousePos(this.element,w)),T.addEventListener(window,"mousemove",this.mousemove),T.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=w=>{this.move(w,T.mousePos(this.element,w))},this.mouseup=w=>{this._rotatePitchHandler.dragEnd(w),this.offTemp()},this.touchstart=w=>{w.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,w.targetTouches)[0],this.startMove(w,this._startPos),T.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.addEventListener(window,"touchend",this.touchend))},this.touchmove=w=>{w.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,w.targetTouches)[0],this.move(w,this._lastPos))},this.touchend=w=>{w.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;let y=new $L;this._rotatePitchHandler=new Ld({clickTolerance:3,move:(w,M)=>{let k=f.getBoundingClientRect(),D=new o.P((k.bottom-k.top)/2,(k.right-k.left)/2);return{bearingDelta:o.cn(new o.P(w.x,M.y),M,D),pitchDelta:m?-.5*(M.y-w.y):void 0}},moveStateManager:y,enable:!0,assignEvents:()=>{}}),this.map=a,T.addEventListener(f,"mousedown",this.mousedown),T.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(f,"touchcancel",this.reset)}startMove(a,f){this._rotatePitchHandler.dragStart(a,f),T.disableDrag()}move(a,f){let m=this.map,{bearingDelta:y,pitchDelta:w}=this._rotatePitchHandler.dragMove(a,f)||{};y&&m.setBearing(m.getBearing()+y),w&&m.setPitch(m.getPitch()+w)}off(){let a=this.element;T.removeEventListener(a,"mousedown",this.mousedown),T.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.removeEventListener(window,"touchend",this.touchend),T.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){T.enableDrag(),T.removeEventListener(window,"mousemove",this.mousemove),T.removeEventListener(window,"mouseup",this.mouseup),T.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.removeEventListener(window,"touchend",this.touchend)}}let Gn;function Ni(x,a,f,m=!1){if(m||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return x==null?void 0:x.wrap();let y=new o.S(x.lng,x.lat);if(x=new o.S(x.lng,x.lat),a){let w=new o.S(x.lng-360,x.lat),M=new o.S(x.lng+360,x.lat),k=f.locationToScreenPoint(x).distSqr(a);f.locationToScreenPoint(w).distSqr(a)<k?x=w:f.locationToScreenPoint(M).distSqr(a)<k&&(x=M)}for(;Math.abs(x.lng-f.center.lng)>180;){let w=f.locationToScreenPoint(x);if(w.x>=0&&w.y>=0&&w.x<=f.width&&w.y<=f.height)break;x.lng>f.center.lng?x.lng-=360:x.lng+=360}return x.lng!==y.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(x))?x:y}let Oy={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Fd(x,a,f){let m=x.classList;for(let y in Oy)m.remove(`maplibregl-${f}-anchor-${y}`);m.add(`maplibregl-${f}-anchor-${a}`)}class Bd extends o.E{constructor(a){if(super(),this._onKeyPress=f=>{let m=f.code,y=f.charCode||f.keyCode;m!=="Space"&&m!=="Enter"&&y!==32&&y!==13||this.togglePopup()},this._onMapClick=f=>{let m=f.originalEvent.target,y=this._element;this._popup&&(m===y||y.contains(m))&&this.togglePopup()},this._update=f=>{if(!this._map)return;let m=this._map.loaded()&&!this._map.isMoving();((f==null?void 0:f.type)==="terrain"||(f==null?void 0:f.type)==="render"&&!m)&&this._map.once("render",this._update),this._lngLat=Ni(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),T.setTransform(this._element,`${Oy[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${y}`),E.frameAsync(new AbortController).then(()=>{this._updateOpacity(f&&f.type==="moveend")}).catch(()=>{})},this._onMove=f=>{if(!this._isDragging){let m=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=T.create("div");let f=T.createNS("http://www.w3.org/2000/svg","svg"),m=41,y=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${m}px`),f.setAttributeNS(null,"width",`${y}px`),f.setAttributeNS(null,"viewBox",`0 0 ${y} ${m}`);let w=T.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");let M=T.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");let k=T.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");let D=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let fe of D){let be=T.createNS("http://www.w3.org/2000/svg","ellipse");be.setAttributeNS(null,"opacity","0.04"),be.setAttributeNS(null,"cx","10.5"),be.setAttributeNS(null,"cy","5.80029008"),be.setAttributeNS(null,"rx",fe.rx),be.setAttributeNS(null,"ry",fe.ry),k.appendChild(be)}let B=T.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill",this._color);let V=T.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),B.appendChild(V);let W=T.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");let G=T.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(G);let K=T.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(6.0, 7.0)"),K.setAttributeNS(null,"fill","#FFFFFF");let te=T.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(8.0, 8.0)");let pe=T.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");let ce=T.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),te.appendChild(pe),te.appendChild(ce),M.appendChild(k),M.appendChild(B),M.appendChild(W),M.appendChild(K),M.appendChild(te),f.appendChild(M),f.setAttributeNS(null,"height",m*this._scale+"px"),f.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(f),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),Fd(this._element,this._anchor,"marker"),a&&a.className)for(let f of a.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),a.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.S.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let y=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var f,m;let y=(f=this._map)===null||f===void 0?void 0:f.terrain,w=this._map.transform.isLocationOccluded(this._lngLat);if(!y||w){let K=w?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==K&&(this._element.style.opacity=K))}if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let M=this._map,k=M.terrain.depthAtPoint(this._pos),D=M.terrain.getElevationForLngLatZoom(this._lngLat,M.transform.tileZoom);if(M.transform.lngLatToCameraDepth(this._lngLat,D)-k<.006)return void(this._element.style.opacity=this._opacity);let B=-this._offset.y/M.transform.pixelsPerMeter,V=Math.sin(M.getPitch()*Math.PI/180)*B,W=M.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),G=M.transform.lngLatToCameraDepth(this._lngLat,D+V)-W>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,f){return(this._opacity===void 0||a===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}let hx={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ud=0,mf=!1,og={maxWidth:100,unit:"metric"};function ky(x,a,f){let m=f&&f.maxWidth||100,y=x._container.clientHeight/2,w=x._container.clientWidth/2,M=x.unproject([w-m/2,y]),k=x.unproject([w+m/2,y]),D=Math.round(x.project(k).x-x.project(M).x),B=Math.min(m,D,x._container.clientWidth),V=M.distanceTo(k);if(f&&f.unit==="imperial"){let W=3.2808*V;W>5280?gf(a,B,W/5280,x._getUIString("ScaleControl.Miles")):gf(a,B,W,x._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?gf(a,B,V/1852,x._getUIString("ScaleControl.NauticalMiles")):V>=1e3?gf(a,B,V/1e3,x._getUIString("ScaleControl.Kilometers")):gf(a,B,V,x._getUIString("ScaleControl.Meters"))}function gf(x,a,f,m){let y=function(w){let M=Math.pow(10,`${Math.floor(w)}`.length-1),k=w/M;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:function(D){let B=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*B)/B}(k),M*k}(f);x.style.width=a*(y/f)+"px",x.innerHTML=`${y}&nbsp;${m}`}let mx={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},gx=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Dy(x){if(x){if(typeof x=="number"){let a=Math.round(Math.abs(x)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,x),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-x),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(x,0),right:new o.P(-x,0)}}if(x instanceof o.P||Array.isArray(x)){let a=o.P.convert(x);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(x.center||[0,0]),top:o.P.convert(x.top||[0,0]),"top-left":o.P.convert(x["top-left"]||[0,0]),"top-right":o.P.convert(x["top-right"]||[0,0]),bottom:o.P.convert(x.bottom||[0,0]),"bottom-left":o.P.convert(x["bottom-left"]||[0,0]),"bottom-right":o.P.convert(x["bottom-right"]||[0,0]),left:o.P.convert(x.left||[0,0]),right:o.P.convert(x.right||[0,0])}}return Dy(new o.P(0,0))}let vx=l;i.AJAXError=o.cz,i.Event=o.l,i.Evented=o.E,i.LngLat=o.S,i.MercatorCoordinate=o.a1,i.Point=o.P,i.addProtocol=o.cA,i.config=o.a,i.removeProtocol=o.cB,i.AttributionControl=dx,i.BoxZoomHandler=ox,i.CanvasSource=kr,i.CooperativeGesturesHandler=mM,i.DoubleClickZoomHandler=lx,i.DragPanHandler=dM,i.DragRotateHandler=cx,i.EdgeInsets=tf,i.FullscreenControl=class extends o.E{constructor(x={}){super(),this._onFullscreenChange=()=>{var a;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=f==null?void 0:f.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){T.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let x=this._fullscreenButton=T.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);T.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=Rt,i.GeolocateControl=class extends o.E{constructor(x){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",a)),this._finish()}},this._updateCamera=a=>{let f=new o.S(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,y=this._map.getBearing(),w=o.e({bearing:y},this.options.fitBoundsOptions),M=yt.fromLngLat(f,m);this._map.fitBounds(M,w,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let f=new o.S(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=a.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=a=>{if(this._map){if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&mf)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=T.create("button","maplibregl-ctrl-geolocate",this._container),T.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{let f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Bd({element:this._dotElement}),this._circleElement=T.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Bd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{let m=(f==null?void 0:f[0])instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||m||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},hx,x)}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(Gn!==void 0&&!a)return Gn;if(window.navigator.permissions===void 0)return Gn=!!window.navigator.geolocation,Gn;try{Gn=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(f){Gn=!!window.navigator.geolocation}return Gn})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Ud=0,mf=!1}_isOutOfMapMaxBounds(x){let a=this._map.getMaxBounds(),f=x.coords;return a&&(f.longitude<a.getWest()||f.longitude>a.getEast()||f.latitude<a.getSouth()||f.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){let x=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&x))return;let a=this._map.project(x),f=this._map.unproject([a.x+100,a.y]),m=x.distanceTo(f)/100,y=2*this._accuracy/m;this._circleElement.style.width=`${y.toFixed(2)}px`,this._circleElement.style.height=`${y.toFixed(2)}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ud--,mf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ud++,Ud>1?(x={maximumAge:6e5,timeout:0},mf=!0):(x=this.options.positionOptions,mf=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.GlobeControl=class{constructor(){this._toggleProjection=()=>{var x;let a=(x=this._map.getProjection())===null||x===void 0?void 0:x.type;this._map.setProjection(a!=="mercator"&&a?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var x;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((x=this._map.getProjection())===null||x===void 0?void 0:x.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=T.create("button","maplibregl-ctrl-globe",this._container),T.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){T.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},i.Hash=Sy,i.ImageSource=tr,i.KeyboardHandler=Ty,i.LngLatBounds=yt,i.LogoControl=vM,i.Map=class extends gM{constructor(x){var a,f;o.cw.mark(o.cx.create);let m=Object.assign(Object.assign(Object.assign({},qs),x),{canvasContextAttributes:Object.assign(Object.assign({},qs.canvasContextAttributes),x.canvasContextAttributes)});if(m.minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let y=new Kn,w=new $o;if(m.minZoom!==void 0&&y.setMinZoom(m.minZoom),m.maxZoom!==void 0&&y.setMaxZoom(m.maxZoom),m.minPitch!==void 0&&y.setMinPitch(m.minPitch),m.maxPitch!==void 0&&y.setMaxPitch(m.maxPitch),m.renderWorldCopies!==void 0&&y.setRenderWorldCopies(m.renderWorldCopies),super(y,w,{bearingSnap:m.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Xl,this._controls=[],this._mapId=o.a7(),this._contextLost=k=>{k.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:k}))},this._contextRestored=k=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:k}))},this._onMapScroll=k=>{if(k.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=m.interactive,this._maxTileCacheSize=m.maxTileCacheSize,this._maxTileCacheZoomLevels=m.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},m.canvasContextAttributes),this._trackResize=m.trackResize===!0,this._bearingSnap=m.bearingSnap,this._centerClampedToGround=m.centerClampedToGround,this._refreshExpiredTiles=m.refreshExpiredTiles===!0,this._fadeDuration=m.fadeDuration,this._crossSourceCollisions=m.crossSourceCollisions===!0,this._collectResourceTiming=m.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},la),m.locale),this._clickTolerance=m.clickTolerance,this._overridePixelRatio=m.pixelRatio,this._maxCanvasSize=m.maxCanvasSize,this.transformCameraUpdate=m.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=m.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=j.addThrottleControl(()=>this.isMoving()),this._requestManager=new H(m.transformRequest),typeof m.container=="string"){if(this._container=document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(m.maxBounds&&this.setMaxBounds(m.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let k=!1,D=df(B=>{this._trackResize&&!this._removed&&(this.resize(B),this.redraw())},50);this._resizeObserver=new ResizeObserver(B=>{k?D(B):k=!0}),this._resizeObserver.observe(this._container)}this.handlers=new px(this,m),this._hash=m.hash&&new Sy(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,elevation:m.elevation,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,roll:m.roll}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,o.e({},m.fitBoundsOptions,{duration:0}))));let M=typeof m.style=="string"||((f=(a=m.style)===null||a===void 0?void 0:a.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,M),this._localIdeographFontFamily=m.localIdeographFontFamily,this._validateStyle=m.validateStyle,m.style&&this.setStyle(m.style,{localIdeographFontFamily:m.localIdeographFontFamily}),m.attributionControl&&this.addControl(new dx(typeof m.attributionControl=="boolean"?void 0:m.attributionControl)),m.maplibreLogo&&this.addControl(new vM,m.logoPosition),this.on("style.load",()=>{if(M||this._resizeTransform(),this.transform.unmodified){let k=o.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(k)}}),this.on("data",k=>{this._update(k.dataType==="style"),this.fire(new o.l(`${k.dataType}data`,k))}),this.on("dataloading",k=>{this.fire(new o.l(`${k.dataType}dataloading`,k))}),this.on("dataabort",k=>{this.fire(new o.l("sourcedataabort",k))})}_getMapId(){return this._mapId}setGlobalStateProperty(x,a){return this.style.setGlobalStateProperty(x,a),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(x,a){if(a===void 0&&(a=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let f=x.onAdd(this);this._controls.push(x);let m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(f,m.firstChild):m.appendChild(f),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(x);return a>-1&&this._controls.splice(a,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}coveringTiles(x){return Se(this.transform,x)}calculateCameraOptionsFromTo(x,a,f,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,a,f,m)}resize(x,a=!0){let[f,m]=this._containerDimensions(),y=this._getClampedPixelRatio(f,m);if(this._resizeCanvas(f,m,y),this.painter.resize(f,m,y),this.painter.overLimit()){let M=this.painter.context.gl;this._maxCanvasSize=[M.drawingBufferWidth,M.drawingBufferHeight];let k=this._getClampedPixelRatio(f,m);this._resizeCanvas(f,m,k),this.painter.resize(f,m,k)}this._resizeTransform(a);let w=!this._moving;return w&&(this.stop(),this.fire(new o.l("movestart",x)).fire(new o.l("move",x))),this.fire(new o.l("resize",x)),w&&this.fire(new o.l("moveend",x)),this}_resizeTransform(x=!0){var a;let[f,m]=this._containerDimensions();this.transform.resize(f,m,x),(a=this._requestedCameraState)===null||a===void 0||a.resize(f,m,x)}_getClampedPixelRatio(x,a){let{0:f,1:m}=this._maxCanvasSize,y=this.getPixelRatio(),w=x*y,M=a*y;return Math.min(w>f?f/w:1,M>m?m/M:1)*y}getPixelRatio(){var x;return(x=this._overridePixelRatio)!==null&&x!==void 0?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(yt.convert(x)),this._update()}setMinZoom(x){if((x=x==null?-2:x)>=-2&&x<=this.transform.maxZoom)return this.transform.setMinZoom(x),this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x==null?22:x)>=this.transform.minZoom)return this.transform.setMaxZoom(x),this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x==null?0:x)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.setMinPitch(x),this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x==null?60:x)>180)throw new Error("maxPitch must be less than or equal to 180");if(x>=this.transform.minPitch)return this.transform.setMaxPitch(x),this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.setRenderWorldCopies(x),this._update()}project(x){return this.transform.locationToScreenPoint(o.S.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.screenPointToLocation(o.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||((x=this.handlers)===null||x===void 0?void 0:x.isMoving())}isZooming(){var x;return this._zooming||((x=this.handlers)===null||x===void 0?void 0:x.isZooming())}isRotating(){var x;return this._rotating||((x=this.handlers)===null||x===void 0?void 0:x.isRotating())}_createDelegatedListener(x,a,f){if(x==="mouseenter"||x==="mouseover"){let m=!1;return{layers:a,listener:f,delegates:{mousemove:w=>{let M=a.filter(D=>this.getLayer(D)),k=M.length!==0?this.queryRenderedFeatures(w.point,{layers:M}):[];k.length?m||(m=!0,f.call(this,new Fa(x,this,w.originalEvent,{features:k}))):m=!1},mouseout:()=>{m=!1}}}}if(x==="mouseleave"||x==="mouseout"){let m=!1;return{layers:a,listener:f,delegates:{mousemove:M=>{let k=a.filter(D=>this.getLayer(D));(k.length!==0?this.queryRenderedFeatures(M.point,{layers:k}):[]).length?m=!0:m&&(m=!1,f.call(this,new Fa(x,this,M.originalEvent)))},mouseout:M=>{m&&(m=!1,f.call(this,new Fa(x,this,M.originalEvent)))}}}}{let m=y=>{let w=a.filter(k=>this.getLayer(k)),M=w.length!==0?this.queryRenderedFeatures(y.point,{layers:w}):[];M.length&&(y.features=M,f.call(this,y),delete y.features)};return{layers:a,listener:f,delegates:{[x]:m}}}}_saveDelegatedListener(x,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(a)}_removeDelegatedListener(x,a,f){if(!this._delegatedListeners||!this._delegatedListeners[x])return;let m=this._delegatedListeners[x];for(let y=0;y<m.length;y++){let w=m[y];if(w.listener===f&&w.layers.length===a.length&&w.layers.every(M=>a.includes(M))){for(let M in w.delegates)this.off(M,w.delegates[M]);return void m.splice(y,1)}}}on(x,a,f){if(f===void 0)return super.on(x,a);let m=typeof a=="string"?[a]:a,y=this._createDelegatedListener(x,m,f);this._saveDelegatedListener(x,y);for(let w in y.delegates)this.on(w,y.delegates[w]);return{unsubscribe:()=>{this._removeDelegatedListener(x,m,f)}}}once(x,a,f){if(f===void 0)return super.once(x,a);let m=typeof a=="string"?[a]:a,y=this._createDelegatedListener(x,m,f);for(let w in y.delegates){let M=y.delegates[w];y.delegates[w]=(...k)=>{this._removeDelegatedListener(x,m,f),M(...k)}}this._saveDelegatedListener(x,y);for(let w in y.delegates)this.once(w,y.delegates[w]);return this}off(x,a,f){return f===void 0?super.off(x,a):(this._removeDelegatedListener(x,typeof a=="string"?[a]:a,f),this)}queryRenderedFeatures(x,a){if(!this.style)return[];let f,m=x instanceof o.P||Array.isArray(x),y=m?x:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:x)||{},y instanceof o.P||typeof y[0]=="number")f=[o.P.convert(y)];else{let w=o.P.convert(y[0]),M=o.P.convert(y[1]);f=[w,new o.P(M.x,w.y),M,new o.P(w.x,M.y),w]}return this.style.queryRenderedFeatures(f,a,this.transform)}querySourceFeatures(x,a){return this.style.querySourceFeatures(x,a)}setStyle(x,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(x,a))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){let a=this._locale[x];if(a==null)throw new Error(`Missing UI string '${x}'`);return a}_updateStyle(x,a){var f,m;if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,a));let y=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new Nb(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x,a,y):this.style.loadJSON(x,a,y),this):((m=(f=this.style)===null||f===void 0?void 0:f.projection)===null||m===void 0||m.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Nb(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,a){if(typeof x=="string"){let f=this._requestManager.transformRequest(x,"Style");o.j(f,new AbortController).then(m=>{this._updateDiff(m.data,a)}).catch(m=>{m&&this.fire(new o.k(m))})}else typeof x=="object"&&this._updateDiff(x,a)}_updateDiff(x,a){try{this.style.setState(x,a)&&this._update(!0)}catch(f){o.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(x,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(x,a){return this._lazyInitEmptyStyle(),this.style.addSource(x,a),this._update(!0)}isSourceLoaded(x){let a=this.style&&this.style.sourceCaches[x];if(a!==void 0)return a.loaded();this.fire(new o.k(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){let a=this.style.sourceCaches[x.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);this.terrain===null&&a.reload();for(let f in this.style._layers){let m=this.style._layers[f];m.type==="hillshade"&&m.source===x.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),m.type==="color-relief"&&m.source===x.source&&o.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ir(this.painter,a,x),this.painter.renderToTexture=new Py(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var m;f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==x.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((m=f.source)===null||m===void 0?void 0:m.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:x})),this}getTerrain(){var x,a;return(a=(x=this.terrain)===null||x===void 0?void 0:x.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let x=this.style&&this.style.sourceCaches;for(let a in x){let f=x[a]._tiles;for(let m in f){let y=f[m];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}setSourceTileLodParams(x,a,f){if(f){let m=this.getSource(f);if(!m)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);m.calculateTileZoom=ve(Math.max(1,x),Math.max(1,a))}else for(let m in this.style.sourceCaches)this.style.sourceCaches[m].getSource().calculateTileZoom=ve(Math.max(1,x),Math.max(1,a));return this._update(!0),this}refreshTiles(x,a){let f=this.style.sourceCaches[x];if(!f)throw new Error(`There is no source cache with ID "${x}", cannot refresh tile`);a===void 0?f.reload(!0):f.refreshTiles(a.map(m=>new o.a4(m.z,m.x,m.y)))}addImage(x,a,f={}){let{pixelRatio:m=1,sdf:y=!1,stretchX:w,stretchY:M,content:k,textFitWidth:D,textFitHeight:B}=f;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:W,data:G}=a,K=a;return this.style.addImage(x,{data:new o.R({width:V,height:W},new Uint8Array(G)),pixelRatio:m,stretchX:w,stretchY:M,content:k,textFitWidth:D,textFitHeight:B,sdf:y,version:0,userImage:K}),K.onAdd&&K.onAdd(this,x),this}}{let{width:V,height:W,data:G}=E.getImageData(a);this.style.addImage(x,{data:new o.R({width:V,height:W},G),pixelRatio:m,stretchX:w,stretchY:M,content:k,textFitWidth:D,textFitHeight:B,sdf:y,version:0})}}updateImage(x,a){let f=this.style.getImage(x);if(!f)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let m=a instanceof HTMLImageElement||o.b(a)?E.getImageData(a):a,{width:y,height:w,data:M}=m;if(y===void 0||w===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==f.data.width||w!==f.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let k=!(a instanceof HTMLImageElement||o.b(a));return f.data.replace(M,k),this.style.updateImage(x,f),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x){return j.getImage(this._requestManager.transformRequest(x,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(x,a){return this._lazyInitEmptyStyle(),this.style.addLayer(x,a),this._update(!0)}moveLayer(x,a){return this.style.moveLayer(x,a),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,a,f){return this.style.setLayerZoomRange(x,a,f),this._update(!0)}setFilter(x,a,f={}){return this.style.setFilter(x,a,f),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,a,f,m={}){return this.style.setPaintProperty(x,a,f,m),this._update(!0)}getPaintProperty(x,a){return this.style.getPaintProperty(x,a)}setLayoutProperty(x,a,f,m={}){return this.style.setLayoutProperty(x,a,f,m),this._update(!0)}getLayoutProperty(x,a){return this.style.getLayoutProperty(x,a)}setGlyphs(x,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,a,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,a,f,m=>{m||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,a,f=>{f||this._update(!0)}),this}setLight(x,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSky(x,a),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(x,a){return this.style.setFeatureState(x,a),this._update()}removeFeatureState(x,a){return this.style.removeFeatureState(x,a),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,a=0;return this._container&&(x=this._container.clientWidth||400,a=this._container.clientHeight||300),[x,a]}_setupContainer(){let x=this._container;x.classList.add("maplibregl-map");let a=this._canvasContainer=T.create("div","maplibregl-canvas-container",x);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=T.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let f=this._containerDimensions(),m=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],m);let y=this._controlContainer=T.create("div","maplibregl-control-container",x),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(M=>{w[M]=T.create("div",`maplibregl-ctrl-${M} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,a,f){this._canvas.width=Math.floor(f*x),this._canvas.height=Math.floor(f*a),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let x=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:x},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,x):this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x),!f){let m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new rM(f,this.transform),A.testSupport(f)}migrateProjection(x,a){super.migrateProjection(x,a),this.painter.transform=x,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){var a,f,m,y,w;let M=this._idleTriggered?this._fadeDuration:0,k=((a=this.style.projection)===null||a===void 0?void 0:a.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let D=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let W=this.transform.zoom,G=E.now();this.style.zoomHistory.update(W,G);let K=new o.F(W,{now:G,fadeDuration:M,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),te=K.crossFadingFactor();te===1&&te===this._crossFadingFactor||(D=!0,this._crossFadingFactor=te),this.style.update(K)}let B=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==k;(m=this.style.projection)===null||m===void 0||m.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((y=this.style.projection)===null||y===void 0?void 0:y.transitionState,(w=this.style.projection)===null||w===void 0?void 0:w.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||B)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,M,this._crossSourceCollisions,B),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:M,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cw.mark(o.cx.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||D)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let V=this._sourcesDirty||this._styleDirty||this._placementDirty;return V||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||V||(this._fullyLoaded=!0,o.cw.mark(o.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(let f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),j.removeThrottleControl(this._imageQueueHandle),(x=this._resizeObserver)===null||x===void 0||x.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),T.remove(this._canvasContainer),T.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cw.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,E.frame(this._frameRequest,x=>{o.cw.frame(x),this._frameRequest=null;try{this._render(x)}catch(a){if(!o.cy(a)&&!function(f){return f.message===Zm}(a))throw a}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return yM}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(x){return this._lazyInitEmptyStyle(),this.style.setProjection(x),this._update(!0)}},i.MapMouseEvent=Fa,i.MapTouchEvent=Dd,i.MapWheelEvent=ix,i.Marker=Bd,i.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{let a=this._map.getZoom(),f=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(a,f)=>{let m=this._map._getUIString(`NavigationControl.${f}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},WL,x),this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),T.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),T.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=T.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ig(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,a){let f=T.create("button",x,this._container);return f.type="button",f.addEventListener("click",a),f}},i.Popup=class extends o.E{constructor(x){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=T.create("div","maplibregl-popup",this._map.getContainer()),this._tip=T.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let M of this.options.className.split(" "))this._container.classList.add(M);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Ni(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!a)return;let f=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationToScreenPoint(this._lngLat));let m=this.options.anchor,y=Dy(this.options.offset);if(!m){let M=this._container.offsetWidth,k=this._container.offsetHeight,D;D=f.y+y.bottom.y<k?["top"]:f.y>this._map.transform.height-k?["bottom"]:[],f.x<M/2?D.push("left"):f.x>this._map.transform.width-M/2&&D.push("right"),m=D.length===0?"bottom":D.join("-")}let w=f.add(y[m]);this.options.subpixelPositioning||(w=w.round()),T.setTransform(this._container,`${Oy[m]} translate(${w.x}px,${w.y}px)`),Fd(this._container,m,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(mx),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=o.S.convert(x),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){let a=document.createDocumentFragment(),f=document.createElement("body"),m;for(f.innerHTML=x;m=f.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var x;return(x=this._container)===null||x===void 0?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){return this._container&&this._container.classList.add(x),this}removeClassName(x){return this._container&&this._container.classList.remove(x),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}setSubpixelPositioning(x){this.options.subpixelPositioning=x}_createCloseButton(){this.options.closeButton&&(this._closeButton=T.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let x=this._container.querySelector(gx);x&&x.focus()}},i.RasterDEMTileSource=Tt,i.RasterTileSource=Zt,i.ScaleControl=class{constructor(x){this._onMove=()=>{ky(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,ky(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},og),x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=pM,i.Style=Nb,i.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=x}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=T.create("button","maplibregl-ctrl-terrain",this._container),T.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){T.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=Iy,i.TwoFingersTouchRotateHandler=zd,i.TwoFingersTouchZoomHandler=Ey,i.TwoFingersTouchZoomRotateHandler=hM,i.VectorTileSource=At,i.VideoSource=Sr,i.addSourceType=(x,a)=>o._(void 0,void 0,void 0,function*(){if(Er(x))throw new Error(`A source type called "${x}" already exists.`);((f,m)=>{pr[f]=m})(x,a)}),i.clearPrewarmedResources=function(){let x=It;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(ze),It=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.createTileMesh=kb,i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Ct().getRTLTextPluginStatus()},i.getVersion=function(){return vx},i.getWorkerCount=function(){return ct.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(x){return Ve().broadcast("IS",x)},i.prewarm=function(){pt().acquire(ze)},i.setMaxParallelImageRequests=function(x){o.a.MAX_PARALLEL_IMAGE_REQUESTS=x},i.setRTLTextPlugin=function(x,a){return Ct().setRTLTextPlugin(x,a)},i.setWorkerCount=function(x){ct.workerCount=x},i.setWorkerUrl=function(x){o.a.WORKER_URL=x}});var n=e;return n})});var aDe=P((Srn,oDe)=>{p();var IW=1/0,ntr=17976931348623157e292,Xke=NaN,itr="[object Symbol]",otr=/^\s+|\s+$/g,atr=/^[-+]0x[0-9a-f]+$/i,str=/^0b[01]+$/i,ltr=/^0o[0-7]+$/i,utr=parseInt,ctr=typeof global=="object"&&global&&global.Object===Object&&global,ptr=typeof self=="object"&&self&&self.Object===Object&&self,ftr=ctr||ptr||Function("return this")(),dtr=Object.prototype,htr=dtr.toString,Qke=ftr.Symbol,mtr=Math.min,Jke=Qke?Qke.prototype:void 0,eDe=Jke?Jke.toString:void 0;function gtr(e){if(typeof e=="string")return e;if(nDe(e))return eDe?eDe.call(e):"";var t=e+"";return t=="0"&&1/e==-IW?"-0":t}function vtr(e){var t=Math[e];return function(r,n){if(r=iDe(r),n=mtr(btr(n),292),n){var i=(rDe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(rDe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function tDe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ytr(e){return!!e&&typeof e=="object"}function nDe(e){return typeof e=="symbol"||ytr(e)&&htr.call(e)==itr}function _tr(e){if(!e)return e===0?e:0;if(e=iDe(e),e===IW||e===-IW){var t=e<0?-1:1;return t*ntr}return e===e?e:0}function btr(e){var t=_tr(e),r=t%1;return t===t?r?t-r:t:0}function iDe(e){if(typeof e=="number")return e;if(nDe(e))return Xke;if(tDe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tDe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(otr,"");var r=str.test(e);return r||ltr.test(e)?utr(e.slice(2),r?2:8):atr.test(e)?Xke:+e}function rDe(e){return e==null?"":gtr(e)}var xtr=vtr("round");oDe.exports=xtr});var x_=P((z1n,gLe)=>{p();var Iir=gLe.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Iir)});var Cp=P((F1n,vLe)=>{p();var Tir=vLe.exports={version:"2.6.12"};typeof __e=="number"&&(__e=Tir)});var _Le=P((U1n,yLe)=>{p();yLe.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var dk=P(($1n,bLe)=>{p();var Mir=_Le();bLe.exports=function(e,t,r){if(Mir(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}});var RE=P((H1n,xLe)=>{p();xLe.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var w_=P((Z1n,wLe)=>{p();var Cir=RE();wLe.exports=function(e){if(!Cir(e))throw TypeError(e+" is not an object!");return e}});var hk=P((K1n,SLe)=>{p();SLe.exports=function(e){try{return!!e()}catch(t){return!0}}});var cm=P((Q1n,ELe)=>{p();ELe.exports=!hk()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var IZ=P((e_n,TLe)=>{p();var ILe=RE(),EZ=x_().document,Air=ILe(EZ)&&ILe(EZ.createElement);TLe.exports=function(e){return Air?EZ.createElement(e):{}}});var TZ=P((r_n,MLe)=>{p();MLe.exports=!cm()&&!hk()(function(){return Object.defineProperty(IZ()("div"),"a",{get:function(){return 7}}).a!=7})});var MZ=P((i_n,CLe)=>{p();var mk=RE();CLe.exports=function(e,t){if(!mk(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!mk(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!mk(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!mk(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var LE=P(PLe=>{p();var ALe=w_(),Pir=TZ(),Oir=MZ(),kir=Object.defineProperty;PLe.f=cm()?Object.defineProperty:function(t,r,n){if(ALe(t),r=Oir(r,!0),ALe(n),Pir)try{return kir(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var qE=P((l_n,OLe)=>{p();OLe.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var zE=P((c_n,kLe)=>{p();var Dir=LE(),Nir=qE();kLe.exports=cm()?function(e,t,r){return Dir.f(e,t,Nir(1,r))}:function(e,t,r){return e[t]=r,e}});var S_=P((f_n,DLe)=>{p();var Rir={}.hasOwnProperty;DLe.exports=function(e,t){return Rir.call(e,t)}});var pm=P((h_n,RLe)=>{p();var gk=x_(),CZ=Cp(),NLe=dk(),Lir=zE(),qir=S_(),vk="prototype",ts=function(e,t,r){var n=e&ts.F,i=e&ts.G,o=e&ts.S,l=e&ts.P,d=e&ts.B,g=e&ts.W,_=i?CZ:CZ[t]||(CZ[t]={}),E=_[vk],T=i?gk:o?gk[t]:(gk[t]||{})[vk],A,L,z;i&&(r=t);for(A in r)L=!n&&T&&T[A]!==void 0,!(L&&qir(_,A))&&(z=L?T[A]:r[A],_[A]=i&&typeof T[A]!="function"?r[A]:d&&L?NLe(z,gk):g&&T[A]==z?function(U){var N=function(R,j,H){if(this instanceof U){switch(arguments.length){case 0:return new U;case 1:return new U(R);case 2:return new U(R,j)}return new U(R,j,H)}return U.apply(this,arguments)};return N[vk]=U[vk],N}(z):l&&typeof z=="function"?NLe(Function.call,z):z,l&&((_.virtual||(_.virtual={}))[A]=z,e&ts.R&&E&&!E[A]&&Lir(E,A,z)))};ts.F=1;ts.G=2;ts.S=4;ts.P=8;ts.B=16;ts.W=32;ts.U=64;ts.R=128;RLe.exports=ts});var AZ=P((g_n,LLe)=>{p();var zir={}.toString;LLe.exports=function(e){return zir.call(e).slice(8,-1)}});var PZ=P((y_n,qLe)=>{p();var jir=AZ();qLe.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return jir(e)=="String"?e.split(""):Object(e)}});var yk=P((b_n,zLe)=>{p();zLe.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var jE=P((w_n,jLe)=>{p();var Fir=PZ(),Bir=yk();jLe.exports=function(e){return Fir(Bir(e))}});var _k=P((E_n,FLe)=>{p();var Uir=Math.ceil,Vir=Math.floor;FLe.exports=function(e){return isNaN(e=+e)?0:(e>0?Vir:Uir)(e)}});var OZ=P((T_n,BLe)=>{p();var $ir=_k(),Gir=Math.min;BLe.exports=function(e){return e>0?Gir($ir(e),9007199254740991):0}});var VLe=P((C_n,ULe)=>{p();var Hir=_k(),Wir=Math.max,Zir=Math.min;ULe.exports=function(e,t){return e=Hir(e),e<0?Wir(e+t,0):Zir(e,t)}});var GLe=P((P_n,$Le)=>{p();var Yir=jE(),Kir=OZ(),Xir=VLe();$Le.exports=function(e){return function(t,r,n){var i=Yir(t),o=Kir(i.length),l=Xir(n,o),d;if(e&&r!=r){for(;o>l;)if(d=i[l++],d!=d)return!0}else for(;o>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}}});var kZ=P((k_n,HLe)=>{p();HLe.exports=!0});var DZ=P((N_n,KLe)=>{p();var Qir=Cp(),WLe=x_(),ZLe="__core-js_shared__",YLe=WLe[ZLe]||(WLe[ZLe]={});(KLe.exports=function(e,t){return YLe[e]||(YLe[e]=t!==void 0?t:{})})("versions",[]).push({version:Qir.version,mode:kZ()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var NZ=P((L_n,XLe)=>{p();var Jir=0,eor=Math.random();XLe.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++Jir+eor).toString(36))}});var bk=P((z_n,JLe)=>{p();var QLe=DZ()("keys"),tor=NZ();JLe.exports=function(e){return QLe[e]||(QLe[e]=tor(e))}});var r6e=P((F_n,t6e)=>{p();var e6e=S_(),ror=jE(),nor=GLe()(!1),ior=bk()("IE_PROTO");t6e.exports=function(e,t){var r=ror(e),n=0,i=[],o;for(o in r)o!=ior&&e6e(r,o)&&i.push(o);for(;t.length>n;)e6e(r,o=t[n++])&&(~nor(i,o)||i.push(o));return i}});var RZ=P((U_n,n6e)=>{p();n6e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var xk=P(($_n,i6e)=>{p();var oor=r6e(),aor=RZ();i6e.exports=Object.keys||function(t){return oor(t,aor)}});var a6e=P(o6e=>{p();o6e.f=Object.getOwnPropertySymbols});var wk=P(s6e=>{p();s6e.f={}.propertyIsEnumerable});var Sk=P((K_n,l6e)=>{p();var sor=yk();l6e.exports=function(e){return Object(sor(e))}});var p6e=P((Q_n,c6e)=>{"use strict";p();var lor=cm(),u6e=xk(),uor=a6e(),cor=wk(),por=Sk(),dor=PZ(),Ek=Object.assign;c6e.exports=!Ek||hk()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),Ek({},e)[r]!=7||Object.keys(Ek({},t)).join("")!=n})?function(t,r){for(var n=por(t),i=arguments.length,o=1,l=uor.f,d=cor.f;i>o;)for(var g=dor(arguments[o++]),_=l?u6e(g).concat(l(g)):u6e(g),E=_.length,T=0,A;E>T;)A=_[T++],(!lor||d.call(g,A))&&(n[A]=g[A]);return n}:Ek});var f6e=P(()=>{p();var LZ=pm();LZ(LZ.S+LZ.F,"Object",{assign:p6e()})});var h6e=P((nbn,d6e)=>{p();f6e();d6e.exports=Cp().Object.assign});var g6e=P((sbn,m6e)=>{p();var hor=LE(),mor=w_(),gor=xk();m6e.exports=cm()?Object.defineProperties:function(t,r){mor(t);for(var n=gor(r),i=n.length,o=0,l;i>o;)hor.f(t,l=n[o++],r[l]);return t}});var _6e=P((ubn,y6e)=>{p();var v6e=x_().document;y6e.exports=v6e&&v6e.documentElement});var FZ=P((pbn,x6e)=>{p();var vor=w_(),yor=g6e(),b6e=RZ(),_or=bk()("IE_PROTO"),zZ=function(){},jZ="prototype",Ik=function(){var e=IZ()("iframe"),t=b6e.length,r="<",n=">",i;for(e.style.display="none",_6e().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),Ik=i.F;t--;)delete Ik[jZ][b6e[t]];return Ik()};x6e.exports=Object.create||function(t,r){var n;return t!==null?(zZ[jZ]=vor(t),n=new zZ,zZ[jZ]=null,n[_or]=t):n=Ik(),r===void 0?n:yor(n,r)}});var S6e=P(()=>{p();var w6e=pm();w6e(w6e.S,"Object",{create:FZ()})});var I6e=P((gbn,E6e)=>{p();S6e();var bor=Cp().Object;E6e.exports=function(t,r){return bor.create(t,r)}});var C6e=P(M6e=>{p();var xor=wk(),wor=qE(),Sor=jE(),Eor=MZ(),Ior=S_(),Tor=TZ(),T6e=Object.getOwnPropertyDescriptor;M6e.f=cm()?T6e:function(t,r){if(t=Sor(t),r=Eor(r,!0),Tor)try{return T6e(t,r)}catch(n){}if(Ior(t,r))return wor(!xor.f.call(t,r),t[r])}});var O6e=P((bbn,P6e)=>{p();var Mor=RE(),Cor=w_(),A6e=function(e,t){if(Cor(e),!Mor(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};P6e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=dk()(Function.call,C6e().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return A6e(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:A6e}});var D6e=P(()=>{p();var k6e=pm();k6e(k6e.S,"Object",{setPrototypeOf:O6e().set})});var R6e=P((Ibn,N6e)=>{p();D6e();N6e.exports=Cp().Object.setPrototypeOf});var mn=P((Nbn,Mk)=>{p();(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=n(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=n(o,l));return o}function n(i,o){return o?i?i+" "+o:i+o:i}typeof Mk!="undefined"&&Mk.exports?(t.default=t,Mk.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var Ck=P((Fbn,q6e)=>{"use strict";p();var Aor=function(e,t,r,n,i,o,l,d){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[r,n,i,o,l,d],E=0;g=new Error(t.replace(/%s/g,function(){return _[E++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};q6e.exports=Aor});var GZ=P($Z=>{"use strict";p();Object.defineProperty($Z,"__esModule",{value:!0});function B6e(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function U6e(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function V6e(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}B6e.__suppressDeprecationWarning=!0;U6e.__suppressDeprecationWarning=!0;V6e.__suppressDeprecationWarning=!0;function Oor(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=B6e,t.componentWillReceiveProps=U6e),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=V6e;var d=t.componentDidUpdate;t.componentDidUpdate=function(_,E,T){var A=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;d.call(this,_,E,A)}}return e}$Z.polyfill=Oor});var HZ=P((dxn,H6e)=>{p();var Dor=cm(),Nor=xk(),Ror=jE(),Lor=wk().f;H6e.exports=function(e){return function(t){for(var r=Ror(t),n=Nor(r),i=n.length,o=0,l=[],d;i>o;)d=n[o++],(!Dor||Lor.call(r,d))&&l.push(e?[d,r[d]]:r[d]);return l}}});var Z6e=P(()=>{p();var W6e=pm(),qor=HZ()(!0);W6e(W6e.S,"Object",{entries:function(t){return qor(t)}})});var K6e=P((yxn,Y6e)=>{p();Z6e();Y6e.exports=Cp().Object.entries});var WZ=P((bxn,X6e)=>{p();X6e.exports=K6e()});var UE=P((kk,rqe)=>{"use strict";p();Object.defineProperty(kk,"__esModule",{value:!0});kk.default=Hor;function Hor(e){function t(n,i,o,l,d,g){var _=l||"<<anonymous>>",E=g||o;if(i[o]==null)return n?new Error("Required "+d+" `"+E+"` was not specified "+("in `"+_+"`.")):null;for(var T=arguments.length,A=Array(T>6?T-6:0),L=6;L<T;L++)A[L-6]=arguments[L];return e.apply(void 0,[i,o,_,d,E].concat(A))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}rqe.exports=kk.default});var aqe=P(()=>{p();var oqe=pm(),Wor=HZ()(!1);oqe(oqe.S,"Object",{values:function(t){return Wor(t)}})});var lqe=P((zxn,sqe)=>{p();aqe();sqe.exports=Cp().Object.values});var cqe=P((Fxn,uqe)=>{p();uqe.exports=lqe()});var dqe=P(ni=>{"use strict";p();var ea=typeof Symbol=="function"&&Symbol.for,JZ=ea?Symbol.for("react.element"):60103,eY=ea?Symbol.for("react.portal"):60106,Nk=ea?Symbol.for("react.fragment"):60107,Rk=ea?Symbol.for("react.strict_mode"):60108,Lk=ea?Symbol.for("react.profiler"):60114,qk=ea?Symbol.for("react.provider"):60109,zk=ea?Symbol.for("react.context"):60110,tY=ea?Symbol.for("react.async_mode"):60111,jk=ea?Symbol.for("react.concurrent_mode"):60111,Fk=ea?Symbol.for("react.forward_ref"):60112,Bk=ea?Symbol.for("react.suspense"):60113,Kor=ea?Symbol.for("react.suspense_list"):60120,Uk=ea?Symbol.for("react.memo"):60115,Vk=ea?Symbol.for("react.lazy"):60116,Xor=ea?Symbol.for("react.block"):60121,Qor=ea?Symbol.for("react.fundamental"):60117,Jor=ea?Symbol.for("react.responder"):60118,ear=ea?Symbol.for("react.scope"):60119;function Nl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JZ:switch(e=e.type,e){case tY:case jk:case Nk:case Lk:case Rk:case Bk:return e;default:switch(e=e&&e.$$typeof,e){case zk:case Fk:case Vk:case Uk:case qk:return e;default:return t}}case eY:return t}}}function fqe(e){return Nl(e)===jk}ni.AsyncMode=tY;ni.ConcurrentMode=jk;ni.ContextConsumer=zk;ni.ContextProvider=qk;ni.Element=JZ;ni.ForwardRef=Fk;ni.Fragment=Nk;ni.Lazy=Vk;ni.Memo=Uk;ni.Portal=eY;ni.Profiler=Lk;ni.StrictMode=Rk;ni.Suspense=Bk;ni.isAsyncMode=function(e){return fqe(e)||Nl(e)===tY};ni.isConcurrentMode=fqe;ni.isContextConsumer=function(e){return Nl(e)===zk};ni.isContextProvider=function(e){return Nl(e)===qk};ni.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JZ};ni.isForwardRef=function(e){return Nl(e)===Fk};ni.isFragment=function(e){return Nl(e)===Nk};ni.isLazy=function(e){return Nl(e)===Vk};ni.isMemo=function(e){return Nl(e)===Uk};ni.isPortal=function(e){return Nl(e)===eY};ni.isProfiler=function(e){return Nl(e)===Lk};ni.isStrictMode=function(e){return Nl(e)===Rk};ni.isSuspense=function(e){return Nl(e)===Bk};ni.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nk||e===jk||e===Lk||e===Rk||e===Bk||e===Kor||typeof e=="object"&&e!==null&&(e.$$typeof===Vk||e.$$typeof===Uk||e.$$typeof===qk||e.$$typeof===zk||e.$$typeof===Fk||e.$$typeof===Qor||e.$$typeof===Jor||e.$$typeof===ear||e.$$typeof===Xor)};ni.typeOf=Nl});var mqe=P((Yxn,hqe)=>{"use strict";p();hqe.exports=dqe()});var Aa=P(($k,vqe)=>{"use strict";p();Object.defineProperty($k,"__esModule",{value:!0});var tar=tt(),rar=gqe(tar),nar=mqe(),iar=UE(),oar=gqe(iar);function gqe(e){return e&&e.__esModule?e:{default:e}}function aar(e,t,r,n,i){var o=e[t];return rar.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,nar.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}$k.default=(0,oar.default)(aar);vqe.exports=$k.default});var $E=P((Hk,wqe)=>{"use strict";p();Object.defineProperty(Hk,"__esModule",{value:!0});Hk.default=mar;var far=UE(),dar=har(far);function har(e){return e&&e.__esModule?e:{default:e}}function mar(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];var d=null;return t.forEach(function(g){if(d==null){var _=g.apply(void 0,o);_!=null&&(d=_)}}),d}return(0,dar.default)(n)}wqe.exports=Hk.default});var dm=P((Awn,Aqe)=>{"use strict";p();var bar=function(){};Aqe.exports=bar});var uo=P((jwn,GE)=>{p();function Ear(e){return e&&e.__esModule?e:{default:e}}GE.exports=Ear,GE.exports.__esModule=!0,GE.exports.default=GE.exports});var kqe=P((Kk,Oqe)=>{"use strict";p();Kk.__esModule=!0;Kk.default=Tar;var Iar=/-(.)/g;function Tar(e){return e.replace(Iar,function(t,r){return r.toUpperCase()})}Oqe.exports=Kk.default});var pY=P((Xk,Dqe)=>{"use strict";p();var Mar=uo();Xk.__esModule=!0;Xk.default=Par;var Car=Mar(kqe()),Aar=/^-ms-/;function Par(e){return(0,Car.default)(e.replace(Aar,"ms-"))}Dqe.exports=Xk.default});var Rqe=P((Qk,Nqe)=>{"use strict";p();Qk.__esModule=!0;Qk.default=kar;var Oar=/([A-Z])/g;function kar(e){return e.replace(Oar,"-$1").toLowerCase()}Nqe.exports=Qk.default});var qqe=P((Jk,Lqe)=>{"use strict";p();var Dar=uo();Jk.__esModule=!0;Jk.default=Lar;var Nar=Dar(Rqe()),Rar=/^ms-/;function Lar(e){return(0,Nar.default)(e).replace(Rar,"-ms-")}Lqe.exports=Jk.default});var jqe=P((eD,zqe)=>{"use strict";p();var qar=uo();eD.__esModule=!0;eD.default=Bar;var zar=qar(pY()),jar=/^(top|right|bottom|left)$/,Far=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function Bar(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,zar.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),Far.test(o)&&!jar.test(n)){var l=i.left,d=e.runtimeStyle,g=d&&d.left;g&&(d.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=l,g&&(d.left=g)}return o}}}zqe.exports=eD.default});var Bqe=P((tD,Fqe)=>{"use strict";p();tD.__esModule=!0;tD.default=Uar;function Uar(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}Fqe.exports=tD.default});var Op=P((HE,Uqe)=>{"use strict";p();HE.__esModule=!0;HE.default=void 0;var Var=!!(typeof window!="undefined"&&window.document&&window.document.createElement);HE.default=Var;Uqe.exports=HE.default});var Zqe=P(Sn=>{"use strict";p();var $ar=uo();Sn.__esModule=!0;Sn.default=Sn.animationEnd=Sn.animationDelay=Sn.animationTiming=Sn.animationDuration=Sn.animationName=Sn.transitionEnd=Sn.transitionDuration=Sn.transitionDelay=Sn.transitionTiming=Sn.transitionProperty=Sn.transform=void 0;var Gar=$ar(Op()),nD="transform";Sn.transform=nD;var kp,fY,Vqe;Sn.animationEnd=Vqe;Sn.transitionEnd=fY;var dY,hY,mY,gY;Sn.transitionDelay=gY;Sn.transitionTiming=mY;Sn.transitionDuration=hY;Sn.transitionProperty=dY;var $qe,Gqe,Hqe,Wqe;Sn.animationDelay=Wqe;Sn.animationTiming=Hqe;Sn.animationDuration=Gqe;Sn.animationName=$qe;Gar.default&&(rD=War(),kp=rD.prefix,Sn.transitionEnd=fY=rD.transitionEnd,Sn.animationEnd=Vqe=rD.animationEnd,Sn.transform=nD=kp+"-"+nD,Sn.transitionProperty=dY=kp+"-transition-property",Sn.transitionDuration=hY=kp+"-transition-duration",Sn.transitionDelay=gY=kp+"-transition-delay",Sn.transitionTiming=mY=kp+"-transition-timing-function",Sn.animationName=$qe=kp+"-animation-name",Sn.animationDuration=Gqe=kp+"-animation-duration",Sn.animationTiming=Hqe=kp+"-animation-delay",Sn.animationDelay=Wqe=kp+"-animation-timing-function");var rD,Har={transform:nD,end:fY,property:dY,timing:mY,delay:gY,duration:hY};Sn.default=Har;function War(){for(var e=document.createElement("div").style,t={O:function(_){return"o"+_.toLowerCase()},Moz:function(_){return _.toLowerCase()},Webkit:function(_){return"webkit"+_},ms:function(_){return"MS"+_}},r=Object.keys(t),n,i,o="",l=0;l<r.length;l++){var d=r[l];if(d+"TransitionProperty"in e){o="-"+d.toLowerCase(),n=t[d]("TransitionEnd"),i=t[d]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var Kqe=P((iD,Yqe)=>{"use strict";p();iD.__esModule=!0;iD.default=Yar;var Zar=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Yar(e){return!!(e&&Zar.test(e))}Yqe.exports=iD.default});var aD=P((oD,Xqe)=>{"use strict";p();var WE=uo();oD.__esModule=!0;oD.default=tsr;var Kar=WE(pY()),vY=WE(qqe()),Xar=WE(jqe()),Qar=WE(Bqe()),Jar=Zqe(),esr=WE(Kqe());function tsr(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,Kar.default)(t)]||(0,Xar.default)(e).getPropertyValue((0,vY.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(l){var d=o[l];!d&&d!==0?(0,Qar.default)(e,(0,vY.default)(l)):(0,esr.default)(l)?i+=l+"("+d+") ":n+=(0,vY.default)(l)+": "+d+";"}),i&&(n+=Jar.transform+": "+i+";"),e.style.cssText+=";"+n}Xqe.exports=oD.default});var Qqe=P(C_=>{"use strict";p();C_.__esModule=!0;C_.classNamesShape=C_.timeoutsShape=void 0;var Qwn=rsr(ir());function rsr(e){return e&&e.__esModule?e:{default:e}}var nsr=null;C_.timeoutsShape=nsr;var isr=null;C_.classNamesShape=isr});var e8e=P(rl=>{"use strict";p();rl.__esModule=!0;rl.default=rl.EXITING=rl.ENTERED=rl.ENTERING=rl.EXITED=rl.UNMOUNTED=void 0;var osr=lsr(ir()),yY=Jqe(tt()),asr=Jqe(Ki()),ssr=GZ(),t2n=Qqe();function Jqe(e){return e&&e.__esModule?e:{default:e}}function lsr(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function usr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function csr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ZE="unmounted";rl.UNMOUNTED=ZE;var Ev="exited";rl.EXITED=Ev;var Iv="entering";rl.ENTERING=Iv;var P_="entered";rl.ENTERED=P_;var _Y="exiting";rl.EXITING=_Y;var Dp=function(e){csr(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=i.transitionGroup,d=l&&!l.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?d?(g=Ev,o.appearStatus=Iv):g=P_:n.unmountOnExit||n.mountOnEnter?g=ZE:g=Ev,o.state={status:g},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===ZE?{status:Ev}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Iv&&l!==P_&&(o=Iv):(l===Iv||l===P_)&&(o=_Y)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,l,d;return o=l=d=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,d=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:d}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var l=asr.default.findDOMNode(this);o===Iv?this.performEnter(l,i):this.performExit(l)}else this.props.unmountOnExit&&this.state.status===Ev&&this.setState({status:ZE})},r.performEnter=function(i,o){var l=this,d=this.props.enter,g=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,_=this.getTimeouts(),E=g?_.appear:_.enter;if(!o&&!d){this.safeSetState({status:P_},function(){l.props.onEntered(i)});return}this.props.onEnter(i,g),this.safeSetState({status:Iv},function(){l.props.onEntering(i,g),l.onTransitionEnd(i,E,function(){l.safeSetState({status:P_},function(){l.props.onEntered(i,g)})})})},r.performExit=function(i){var o=this,l=this.props.exit,d=this.getTimeouts();if(!l){this.safeSetState({status:Ev},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:_Y},function(){o.props.onExiting(i),o.onTransitionEnd(i,d.exit,function(){o.safeSetState({status:Ev},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(d){l&&(l=!1,o.nextCallback=null,i(d))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,o,l){this.setNextCallback(l);var d=o==null&&!this.props.addEndListener;if(!i||d){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===ZE)return null;var o=this.props,l=o.children,d=usr(o,["children"]);if(delete d.in,delete d.mountOnEnter,delete d.unmountOnExit,delete d.appear,delete d.enter,delete d.exit,delete d.timeout,delete d.addEndListener,delete d.onEnter,delete d.onEntering,delete d.onEntered,delete d.onExit,delete d.onExiting,delete d.onExited,typeof l=="function")return l(i,d);var g=yY.default.Children.only(l);return yY.default.cloneElement(g,d)},t}(yY.default.Component);Dp.contextTypes={transitionGroup:osr.object};Dp.childContextTypes={transitionGroup:function(){}};Dp.propTypes={};function A_(){}Dp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:A_,onEntering:A_,onEntered:A_,onExit:A_,onExiting:A_,onExited:A_};Dp.UNMOUNTED=0;Dp.EXITED=1;Dp.ENTERING=2;Dp.ENTERED=3;Dp.EXITING=4;var psr=(0,ssr.polyfill)(Dp);rl.default=psr});var Tv=P((sD,t8e)=>{"use strict";p();sD.__esModule=!0;sD.default=fsr;function fsr(e){return e&&e.ownerDocument||document}t8e.exports=sD.default});var bY=P((lD,r8e)=>{"use strict";p();var dsr=uo();lD.__esModule=!0;lD.default=msr;var hsr=dsr(Tv());function msr(e){e===void 0&&(e=(0,hsr.default)());try{return e.activeElement}catch(t){}}r8e.exports=lD.default});var O_=P((YE,i8e)=>{"use strict";p();var gsr=uo();YE.__esModule=!0;YE.default=void 0;var vsr=gsr(Op()),ysr=function(){return vsr.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):n8e(e,t)}:n8e}();YE.default=ysr;function n8e(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}i8e.exports=YE.default});var cD=P((Mv,s8e)=>{p();function o8e(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return a8e[e];var r=String(e),n=td[r.toLowerCase()];if(n)return n;var n=uD[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}o8e.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=td[r.toLowerCase()];if(i)return i===n;var i=uD[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Mv=s8e.exports=o8e;var td=Mv.code=Mv.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},uD=Mv.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Ui=97;Ui<123;Ui++)td[String.fromCharCode(Ui)]=Ui-32;for(Ui=48;Ui<58;Ui++)td[Ui-48]=Ui;var Ui;for(Ui=1;Ui<13;Ui++)td["f"+Ui]=Ui+111;for(Ui=0;Ui<10;Ui++)td["numpad "+Ui]=Ui+96;var a8e=Mv.names=Mv.title={};for(Ui in td)a8e[td[Ui]]=Ui;for(xY in uD)td[xY]=uD[xY];var xY});var fD=P((pD,l8e)=>{"use strict";p();Object.defineProperty(pD,"__esModule",{value:!0});pD.default=_sr;function _sr(e){return function(r,n,i,o,l){var d=i||"<<anonymous>>",g=l||n;if(r[n]==null)return new Error("The "+o+" `"+g+"` is required to make "+("`"+d+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var _=arguments.length,E=Array(_>5?_-5:0),T=5;T<_;T++)E[T-5]=arguments[T];return e.apply(void 0,[r,n,i,o,l].concat(E))}}l8e.exports=pD.default});var c8e=P((u2n,u8e)=>{p();var bsr=_k(),xsr=yk();u8e.exports=function(e){return function(t,r){var n=String(xsr(t)),i=bsr(r),o=n.length,l,d;return i<0||i>=o?e?"":void 0:(l=n.charCodeAt(i),l<55296||l>56319||i+1===o||(d=n.charCodeAt(i+1))<56320||d>57343?e?n.charAt(i):l:e?n.slice(i,i+2):(l-55296<<10)+(d-56320)+65536)}}});var f8e=P((p2n,p8e)=>{p();p8e.exports=zE()});var dD=P((d2n,d8e)=>{p();d8e.exports={}});var hm=P((m2n,m8e)=>{p();var wY=DZ()("wks"),wsr=NZ(),SY=x_().Symbol,h8e=typeof SY=="function",Ssr=m8e.exports=function(e){return wY[e]||(wY[e]=h8e&&SY[e]||(h8e?SY:wsr)("Symbol."+e))};Ssr.store=wY});var EY=P((v2n,v8e)=>{p();var Esr=LE().f,Isr=S_(),g8e=hm()("toStringTag");v8e.exports=function(e,t,r){e&&!Isr(e=r?e:e.prototype,g8e)&&Esr(e,g8e,{configurable:!0,value:t})}});var b8e=P((_2n,_8e)=>{"use strict";p();var Tsr=FZ(),Msr=qE(),Csr=EY(),y8e={};zE()(y8e,hm()("iterator"),function(){return this});_8e.exports=function(e,t,r){e.prototype=Tsr(y8e,{next:Msr(1,r)}),Csr(e,t+" Iterator")}});var S8e=P((x2n,w8e)=>{p();var Asr=S_(),Psr=Sk(),x8e=bk()("IE_PROTO"),Osr=Object.prototype;w8e.exports=Object.getPrototypeOf||function(e){return e=Psr(e),Asr(e,x8e)?e[x8e]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Osr:null}});var P8e=P((S2n,A8e)=>{"use strict";p();var E8e=kZ(),IY=pm(),ksr=f8e(),I8e=zE(),T8e=dD(),Dsr=b8e(),Nsr=EY(),Rsr=S8e(),KE=hm()("iterator"),TY=!([].keys&&"next"in[].keys()),Lsr="@@iterator",M8e="keys",hD="values",C8e=function(){return this};A8e.exports=function(e,t,r,n,i,o,l){Dsr(r,t,n);var d=function(H){if(!TY&&H in T)return T[H];switch(H){case M8e:return function(){return new r(this,H)};case hD:return function(){return new r(this,H)}}return function(){return new r(this,H)}},g=t+" Iterator",_=i==hD,E=!1,T=e.prototype,A=T[KE]||T[Lsr]||i&&T[i],L=A||d(i),z=i?_?d("entries"):L:void 0,U=t=="Array"&&T.entries||A,N,R,j;if(U&&(j=Rsr(U.call(new e)),j!==Object.prototype&&j.next&&(Nsr(j,g,!0),!E8e&&typeof j[KE]!="function"&&I8e(j,KE,C8e))),_&&A&&A.name!==hD&&(E=!0,L=function(){return A.call(this)}),(!E8e||l)&&(TY||E||!T[KE])&&I8e(T,KE,L),T8e[t]=L,T8e[g]=C8e,i)if(N={values:_?L:d(hD),keys:o?L:d(M8e),entries:z},l)for(R in N)R in T||ksr(T,R,N[R]);else IY(IY.P+IY.F*(TY||E),t,N);return N}});var O8e=P(()=>{"use strict";p();var qsr=c8e()(!0);P8e()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=qsr(e,t),this._i+=r.length,{value:r,done:!1})})});var N8e=P((C2n,D8e)=>{p();var k8e=w_();D8e.exports=function(e,t,r,n){try{return n?t(k8e(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&k8e(i.call(e)),o}}});var L8e=P((P2n,R8e)=>{p();var zsr=dD(),jsr=hm()("iterator"),Fsr=Array.prototype;R8e.exports=function(e){return e!==void 0&&(zsr.Array===e||Fsr[jsr]===e)}});var z8e=P((k2n,q8e)=>{"use strict";p();var Bsr=LE(),Usr=qE();q8e.exports=function(e,t,r){t in e?Bsr.f(e,t,Usr(0,r)):e[t]=r}});var F8e=P((N2n,j8e)=>{p();var MY=AZ(),Vsr=hm()("toStringTag"),$sr=MY(function(){return arguments}())=="Arguments",Gsr=function(e,t){try{return e[t]}catch(r){}};j8e.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Gsr(t=Object(e),Vsr))=="string"?r:$sr?MY(t):(n=MY(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var U8e=P((L2n,B8e)=>{p();var Hsr=F8e(),Wsr=hm()("iterator"),Zsr=dD();B8e.exports=Cp().getIteratorMethod=function(e){if(e!=null)return e[Wsr]||e["@@iterator"]||Zsr[Hsr(e)]}});var G8e=P((z2n,$8e)=>{p();var AY=hm()("iterator"),V8e=!1;try{CY=[7][AY](),CY.return=function(){V8e=!0},Array.from(CY,function(){throw 2})}catch(e){}var CY;$8e.exports=function(e,t){if(!t&&!V8e)return!1;var r=!1;try{var n=[7],i=n[AY]();i.next=function(){return{done:r=!0}},n[AY]=function(){return i},e(n)}catch(o){}return r}});var W8e=P(()=>{"use strict";p();var Ysr=dk(),PY=pm(),Ksr=Sk(),Xsr=N8e(),Qsr=L8e(),Jsr=OZ(),H8e=z8e(),elr=U8e();PY(PY.S+PY.F*!G8e()(function(e){Array.from(e)}),"Array",{from:function(t){var r=Ksr(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,l=o!==void 0,d=0,g=elr(r),_,E,T,A;if(l&&(o=Ysr(o,i>2?arguments[2]:void 0,2)),g!=null&&!(n==Array&&Qsr(g)))for(A=g.call(r),E=new n;!(T=A.next()).done;d++)H8e(E,d,l?Xsr(A,o,[T.value,d],!0):T.value);else for(_=Jsr(r.length),E=new n(_);_>d;d++)H8e(E,d,l?o(r[d],d):r[d]);return E.length=d,E}})});var Y8e=P((V2n,Z8e)=>{p();O8e();W8e();Z8e.exports=Cp().Array.from});var X8e=P((G2n,K8e)=>{p();K8e.exports=Y8e()});var mD=P((XE,J8e)=>{"use strict";p();var tlr=uo();XE.__esModule=!0;XE.default=void 0;var rlr=tlr(Op()),Q8e=function(){};rlr.default&&(Q8e=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var nlr=Q8e;XE.default=nlr;J8e.exports=XE.default});var gD=P((QE,t7e)=>{"use strict";p();var ilr=uo();QE.__esModule=!0;QE.default=void 0;var olr=ilr(Op()),e7e=function(){};olr.default&&(e7e=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var alr=e7e;QE.default=alr;t7e.exports=QE.default});var OY=P((vD,n7e)=>{"use strict";p();vD.__esModule=!0;vD.default=function(e,t,r,n){return(0,llr.default)(e,t,r,n),{remove:function(){(0,clr.default)(e,t,r,n)}}};var slr=mD(),llr=r7e(slr),ulr=gD(),clr=r7e(ulr);function r7e(e){return e&&e.__esModule?e:{default:e}}n7e.exports=vD.default});var Cv=P((yD,o7e)=>{"use strict";p();yD.__esModule=!0;yD.default=function(e){return(0,hlr.default)(flr.default.findDOMNode(e))};var plr=Ki(),flr=i7e(plr),dlr=Tv(),hlr=i7e(dlr);function i7e(e){return e&&e.__esModule?e:{default:e}}o7e.exports=yD.default});var DY=P((xD,a7e)=>{"use strict";p();xD.__esModule=!0;var mlr=O_(),glr=k_(mlr),vlr=ir(),_D=k_(vlr),ylr=tt(),_lr=k_(ylr),blr=Ki(),xlr=k_(blr),wlr=OY(),kY=k_(wlr),Slr=Cv(),Elr=k_(Slr);function k_(e){return e&&e.__esModule?e:{default:e}}function Ilr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tlr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Mlr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Clr=27;function Alr(e){return e.button===0}function Plr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var bD=function(e){Mlr(t,e);function t(r,n){Ilr(this,t);var i=Tlr(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,l=(0,Elr.default)(i);i.documentMouseCaptureListener=(0,kY.default)(l,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,kY.default)(l,o,i.handleMouse),i.documentKeyupListener=(0,kY.default)(l,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=Plr(o)||!Alr(o)||(0,glr.default)(xlr.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===Clr&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(_lr.default.Component);bD.displayName="RootCloseWrapper";bD.propTypes={onRootClose:_D.default.func,children:_D.default.element,disabled:_D.default.bool,event:_D.default.oneOf(["click","mousedown"])};bD.defaultProps={event:"click"};xD.default=bD;a7e.exports=xD.default});var N7e=P((AD,D7e)=>{"use strict";p();AD.__esModule=!0;AD.default=tur;var eur=/^[\w-]*$/,aK=Function.prototype.bind.call(Function.prototype.call,[].slice);function tur(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=eur.test(i),l;return o?r?(e=e.getElementById?e:document,(l=e.getElementById(i))?[l]:[]):e.getElementsByClassName&&n?aK(e.getElementsByClassName(i)):aK(e.getElementsByTagName(t)):aK(e.querySelectorAll(t))}D7e.exports=AD.default});var q7e=P((PD,L7e)=>{"use strict";p();var R7e=uo();PD.__esModule=!0;PD.default=iur;var rur=R7e(O_()),nur=R7e(N7e());function iur(e,t){return function(n){var i=n.currentTarget,o=n.target,l=(0,nur.default)(i,e);l.some(function(d){return(0,rur.default)(d,o)})&&t.call(this,n)}}L7e.exports=PD.default});var F7e=P((oI,j7e)=>{"use strict";p();var sK=uo();oI.__esModule=!0;oI.default=void 0;var our=sK(Op()),aur=sK(mD()),sur=sK(gD()),z7e=function(){};our.default&&(z7e=function(t,r,n,i){return(0,aur.default)(t,r,n,i),function(){(0,sur.default)(t,r,n,i)}});var lur=z7e;oI.default=lur;j7e.exports=oI.default});var G7e=P(gm=>{"use strict";p();var OD=uo();gm.__esModule=!0;gm.default=void 0;var B7e=OD(mD());gm.on=B7e.default;var U7e=OD(gD());gm.off=U7e.default;var V7e=OD(q7e());gm.filter=V7e.default;var $7e=OD(F7e());gm.listen=$7e.default;var uur={on:B7e.default,off:U7e.default,filter:V7e.default,listen:$7e.default};gm.default=uur});var lK=P((DD,H7e)=>{"use strict";p();var cur=uo();DD.__esModule=!0;DD.default=fur;var pur=cur(Op()),kD;function fur(e){if((!kD&&kD!==0||e)&&pur.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),kD=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return kD}H7e.exports=DD.default});var aI=P((ND,Z7e)=>{"use strict";p();Object.defineProperty(ND,"__esModule",{value:!0});var dur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hur=tt(),mur=W7e(hur),gur=UE(),vur=W7e(gur);function W7e(e){return e&&e.__esModule?e:{default:e}}function yur(e,t,r,n,i){var o=e[t],l=typeof o=="undefined"?"undefined":dur(o);return mur.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(l!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}ND.default=(0,vur.default)(yur);Z7e.exports=ND.default});var Q7e=P(($En,X7e)=>{"use strict";p();var _ur=!1,K7e=function(){};_ur&&(Y7e=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,l="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(l);try{throw new Error(l)}catch(d){}},K7e=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||Y7e.apply(null,[t].concat(r))});var Y7e;X7e.exports=K7e});var t9e=P((RD,e9e)=>{"use strict";p();Object.defineProperty(RD,"__esModule",{value:!0});RD.default=J7e;var bur=Q7e(),xur=wur(bur);function wur(e){return e&&e.__esModule?e:{default:e}}var uK={};function J7e(e,t){return function(n,i,o,l,d){var g=o||"<<anonymous>>",_=d||i;if(n[i]!=null){var E=o+"."+i;(0,xur.default)(uK[E],"The "+l+" `"+_+"` of "+("`"+g+"` is deprecated. "+t+".")),uK[E]=!0}for(var T=arguments.length,A=Array(T>5?T-5:0),L=5;L<T;L++)A[L-5]=arguments[L];return e.apply(void 0,[n,i,o,l,d].concat(A))}}function Sur(){uK={}}J7e._resetWarned=Sur;e9e.exports=RD.default});var cK=P((LD,r9e)=>{"use strict";p();LD.__esModule=!0;LD.default=Eur;function Eur(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}r9e.exports=LD.default});var i9e=P((qD,n9e)=>{"use strict";p();var Iur=uo();qD.__esModule=!0;qD.default=Mur;var Tur=Iur(cK());function Mur(e,t){e.classList?e.classList.add(t):(0,Tur.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}n9e.exports=qD.default});var s9e=P((YEn,a9e)=>{"use strict";p();function o9e(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}a9e.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=o9e(t.className,r):t.setAttribute("class",o9e(t.className&&t.className.baseVal||"",r))}});var p9e=P(Av=>{"use strict";p();var pK=uo();Av.__esModule=!0;Av.default=void 0;var l9e=pK(i9e());Av.addClass=l9e.default;var u9e=pK(s9e());Av.removeClass=u9e.default;var c9e=pK(cK());Av.hasClass=c9e.default;var Cur={addClass:l9e.default,removeClass:u9e.default,hasClass:c9e.default};Av.default=Cur});var sI=P((zD,f9e)=>{"use strict";p();zD.__esModule=!0;zD.default=Aur;function Aur(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}f9e.exports=zD.default});var fK=P((jD,m9e)=>{"use strict";p();jD.__esModule=!0;jD.default=Rur;var Pur=sI(),d9e=h9e(Pur),Our=Tv(),kur=h9e(Our);function h9e(e){return e&&e.__esModule?e:{default:e}}function Dur(e){return e&&e.tagName.toLowerCase()==="body"}function Nur(e){var t=(0,kur.default)(e),r=(0,d9e.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function Rur(e){var t=(0,d9e.default)(e);return t||Dur(e)?Nur(e):e.scrollHeight>e.clientHeight}m9e.exports=jD.default});var v9e=P(lI=>{"use strict";p();lI.__esModule=!0;lI.ariaHidden=dK;lI.hideSiblings=zur;lI.showSiblings=jur;var Lur=["template","script","style"],qur=function(t){var r=t.nodeType,n=t.tagName;return r===1&&Lur.indexOf(n.toLowerCase())===-1},g9e=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&qur(i)&&n(i)})};function dK(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function zur(e,t){g9e(e,t,function(r){return dK(!0,r)})}function jur(e,t){g9e(e,t,function(r){return dK(!1,r)})}});var x9e=P((BD,b9e)=>{"use strict";p();BD.__esModule=!0;var Fur=p9e(),y9e=FD(Fur),Bur=aD(),_9e=FD(Bur),Uur=lK(),Vur=FD(Uur),$ur=fK(),Gur=FD($ur),hK=v9e();function FD(e){return e&&e.__esModule?e:{default:e}}function Hur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wur(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function Zur(e,t){return Wur(e,function(r){return r.modals.indexOf(t)!==-1})}function Yur(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,_9e.default)(t,"paddingRight")||0,10)+(0,Vur.default)()+"px"),(0,_9e.default)(t,r)}function Kur(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var Xur=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,l=o===void 0?!0:o;Hur(this,e),this.add=function(d,g,_){var E=t.modals.indexOf(d),T=t.containers.indexOf(g);if(E!==-1)return E;if(E=t.modals.length,t.modals.push(d),t.hideSiblingNodes&&(0,hK.hideSiblings)(g,d.modalNode),T!==-1)return t.data[T].modals.push(d),E;var A={modals:[d],classes:_?_.split(/\s+/):[],overflowing:(0,Gur.default)(g)};return t.handleContainerOverflow&&Yur(A,g),A.classes.forEach(y9e.default.addClass.bind(null,g)),t.containers.push(g),t.data.push(A),E},this.remove=function(d){var g=t.modals.indexOf(d);if(g!==-1){var _=Zur(t.data,d),E=t.data[_],T=t.containers[_];E.modals.splice(E.modals.indexOf(d),1),t.modals.splice(g,1),E.modals.length===0?(E.classes.forEach(y9e.default.removeClass.bind(null,T)),t.handleContainerOverflow&&Kur(E,T),t.hideSiblingNodes&&(0,hK.showSiblings)(T,d.modalNode),t.containers.splice(_,1),t.data.splice(_,1)):t.hideSiblingNodes&&(0,hK.ariaHidden)(!1,E.modals[E.modals.length-1].modalNode)}},this.isTopModal=function(d){return!!t.modals.length&&t.modals[t.modals.length-1]===d},this.hideSiblingNodes=i,this.handleContainerOverflow=l,this.modals=[],this.containers=[],this.data=[]};BD.default=Xur;b9e.exports=BD.default});var uI=P((UD,w9e)=>{"use strict";p();UD.__esModule=!0;UD.default=tcr;var Qur=Ki(),Jur=ecr(Qur);function ecr(e){return e&&e.__esModule?e:{default:e}}function tcr(e,t){return e=typeof e=="function"?e():e,Jur.default.findDOMNode(e)||t}w9e.exports=UD.default});var A9e=P((VD,C9e)=>{"use strict";p();VD.__esModule=!0;var rcr=ir(),mK=q_(rcr),ncr=aI(),icr=q_(ncr),ocr=tt(),S9e=q_(ocr),acr=Ki(),E9e=q_(acr),scr=uI(),I9e=q_(scr),lcr=Cv(),T9e=q_(lcr);function q_(e){return e&&e.__esModule?e:{default:e}}function ucr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ccr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gK=function(e){ccr(t,e);function t(){var r,n,i;ucr(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return i=(r=(n=M9e(this,e.call.apply(e,[this].concat(l))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,I9e.default)(n.props.container,(0,T9e.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var g=n.props.children?S9e.default.Children.only(n.props.children):null;if(g!==null){n._mountOverlayTarget();var _=!n._overlayInstance;n._overlayInstance=E9e.default.unstable_renderSubtreeIntoContainer(n,g,n._overlayTarget,function(){_&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(E9e.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),M9e(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,I9e.default)(n.container,(0,T9e.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(S9e.default.Component);gK.displayName="Portal";gK.propTypes={container:mK.default.oneOfType([icr.default,mK.default.func]),onRendered:mK.default.func};VD.default=gK;C9e.exports=VD.default});var bK=P(($D,O9e)=>{"use strict";p();$D.__esModule=!0;var pcr=Op(),fcr=vm(pcr),dcr=ir(),vK=vm(dcr),hcr=aI(),mcr=vm(hcr),gcr=tt(),vcr=vm(gcr),ycr=Ki(),yK=vm(ycr),_cr=uI(),bcr=vm(_cr),xcr=Cv(),wcr=vm(xcr),Scr=A9e(),Ecr=vm(Scr);function vm(e){return e&&e.__esModule?e:{default:e}}function Icr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Tcr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _K=function(e){Tcr(t,e);function t(){var r,n,i;Icr(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return i=(r=(n=P9e(this,e.call.apply(e,[this].concat(l))),n),n.getMountNode=function(){return n._portalContainerNode},r),P9e(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(fcr.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!yK.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,bcr.default)(n,(0,wcr.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?yK.default.createPortal(this.props.children,this._portalContainerNode):null},t}(vcr.default.Component);_K.displayName="Portal";_K.propTypes={container:vK.default.oneOfType([mcr.default,vK.default.func]),onRendered:vK.default.func};$D.default=yK.default.createPortal?_K:Ecr.default;O9e.exports=$D.default});var R9e=P((GD,N9e)=>{"use strict";p();GD.__esModule=!0;var Mcr=ir(),Ccr=k9e(Mcr),Acr=tt(),Pcr=k9e(Acr);function k9e(e){return e&&e.__esModule?e:{default:e}}function Ocr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kcr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Dcr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ncr={children:Ccr.default.node},D9e=function(e){Dcr(t,e);function t(){return Ocr(this,t),kcr(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(Pcr.default.Component);D9e.propTypes=Ncr;GD.default=D9e;N9e.exports=GD.default});var q9e=P((HD,L9e)=>{"use strict";p();HD.__esModule=!0;HD.default=Rcr;function Rcr(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}L9e.exports=HD.default});var W9e=P((ZD,H9e)=>{"use strict";p();ZD.__esModule=!0;var B9e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lcr=bY(),xK=Pa(Lcr),qcr=O_(),U9e=Pa(qcr),zcr=Op(),jcr=Pa(zcr),Fcr=ir(),wi=Pa(Fcr),Bcr=aI(),Ucr=Pa(Bcr),Vcr=t9e(),$cr=Pa(Vcr),Gcr=Aa(),z9e=Pa(Gcr),V9e=tt(),ym=Pa(V9e),Hcr=Ki(),Wcr=Pa(Hcr),Zcr=dm(),Ycr=Pa(Zcr),Kcr=x9e(),$9e=Pa(Kcr),Xcr=bK(),G9e=Pa(Xcr),Qcr=R9e(),Jcr=Pa(Qcr),epr=OY(),j9e=Pa(epr),tpr=q9e(),rpr=Pa(tpr),npr=uI(),ipr=Pa(npr),opr=Cv(),wK=Pa(opr);function Pa(e){return e&&e.__esModule?e:{default:e}}function apr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function spr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lpr=new $9e.default,WD=function(e){spr(t,e);function t(){var r,n,i;apr(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return i=(r=(n=F9e(this,e.call.apply(e,[this].concat(l))),n),upr.call(n),r),F9e(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),l={};return o.map(function(d){Object.prototype.hasOwnProperty.call(i,d)||(l[d]=n[d])}),l},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,l=n.children,d=n.transition,g=n.backdrop,_=n.className,E=n.style,T=n.onExit,A=n.onExiting,L=n.onEnter,z=n.onEntering,U=n.onEntered,N=ym.default.Children.only(l),R=this.omitProps(this.props,t.propTypes),j=i||d&&!this.state.exited;if(!j)return null;var H=N.props,Y=H.role,re=H.tabIndex;return(Y===void 0||re===void 0)&&(N=(0,V9e.cloneElement)(N,{role:Y===void 0?"document":Y,tabIndex:re==null?"-1":re})),d&&(N=ym.default.createElement(d,{appear:!0,unmountOnExit:!0,in:i,onExit:T,onExiting:A,onExited:this.handleHidden,onEnter:L,onEntering:z,onEntered:U},N)),ym.default.createElement(G9e.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},ym.default.createElement("div",B9e({ref:this.setModalNodeRef,role:Y||"dialog"},R,{style:E,className:_}),g&&this.renderBackdrop(),ym.default.createElement(Jcr.default,{ref:this.setDialogRef},N)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,xK.default)((0,wK.default)(this));n&&!(0,U9e.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,Ycr.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return Wcr.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(ym.default.Component);WD.propTypes=B9e({},G9e.default.propTypes,{show:wi.default.bool,container:wi.default.oneOfType([Ucr.default,wi.default.func]),onShow:wi.default.func,onHide:wi.default.func,backdrop:wi.default.oneOfType([wi.default.bool,wi.default.oneOf(["static"])]),renderBackdrop:wi.default.func,onEscapeKeyDown:wi.default.func,onEscapeKeyUp:(0,$cr.default)(wi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:wi.default.func,backdropStyle:wi.default.object,backdropClassName:wi.default.string,containerClassName:wi.default.string,keyboard:wi.default.bool,transition:z9e.default,backdropTransition:z9e.default,autoFocus:wi.default.bool,enforceFocus:wi.default.bool,restoreFocus:wi.default.bool,onEnter:wi.default.func,onEntering:wi.default.func,onEntered:wi.default.func,onExit:wi.default.func,onExiting:wi.default.func,onExited:wi.default.func,manager:wi.default.object.isRequired});WD.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:lpr,renderBackdrop:function(t){return ym.default.createElement("div",t)}};var upr=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,l=r.backdropTransition,d=function(E){return t.backdrop=E},g=o({ref:d,style:n,className:i,onClick:t.handleBackdropClick});return l&&(g=ym.default.createElement(l,{appear:!0,in:t.props.show},g)),g},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,wK.default)(t),n=(0,ipr.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,j9e.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,j9e.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,rpr.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){jcr.default&&(t.lastFocus=(0,xK.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,xK.default)((0,wK.default)(t));r&&!(0,U9e.default)(r,n)&&r.focus()}}};WD.Manager=$9e.default;ZD.default=WD;H9e.exports=ZD.default});var LK=P((eN,hze)=>{"use strict";p();var RK=uo();eN.__esModule=!0;eN.default=Dpr;var Ppr=RK(O_()),Opr=RK(sI()),kpr=RK(Tv());function Dpr(e){var t=(0,kpr.default)(e),r=(0,Opr.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,Ppr.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}hze.exports=eN.default});var mze=P((ETn,id)=>{p();function qK(){return id.exports=qK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.exports.__esModule=!0,id.exports.default=id.exports,qK.apply(null,arguments)}id.exports=qK,id.exports.__esModule=!0,id.exports.default=id.exports});var yze=P((tN,vze)=>{"use strict";p();var gze=uo();tN.__esModule=!0;tN.default=qpr;var Npr=gze(Tv()),Rpr=gze(aD());function Lpr(e){return e.nodeName&&e.nodeName.toLowerCase()}function qpr(e){for(var t=(0,Npr.default)(e),r=e&&e.offsetParent;r&&Lpr(e)!=="html"&&(0,Rpr.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}vze.exports=tN.default});var zK=P((rN,_ze)=>{"use strict";p();var zpr=uo();rN.__esModule=!0;rN.default=Fpr;var jpr=zpr(sI());function Fpr(e,t){var r=(0,jpr.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}_ze.exports=rN.default});var xze=P((nN,bze)=>{"use strict";p();var Bpr=uo();nN.__esModule=!0;nN.default=Vpr;var Upr=Bpr(sI());function Vpr(e,t){var r=(0,Upr.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}bze.exports=nN.default});var Eze=P((iN,Sze)=>{"use strict";p();var B_=uo();iN.__esModule=!0;iN.default=Ypr;var $pr=B_(mze()),wze=B_(LK()),Gpr=B_(yze()),Hpr=B_(zK()),Wpr=B_(xze()),vI=B_(aD());function Zpr(e){return e.nodeName&&e.nodeName.toLowerCase()}function Ypr(e,t){var r={top:0,left:0},n;return(0,vI.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,Gpr.default)(e),n=(0,wze.default)(e),Zpr(t)!=="html"&&(r=(0,wze.default)(t)),r.top+=parseInt((0,vI.default)(t,"borderTopWidth"),10)-(0,Hpr.default)(t)||0,r.left+=parseInt((0,vI.default)(t,"borderLeftWidth"),10)-(0,Wpr.default)(t)||0),(0,$pr.default)({},n,{top:n.top-r.top-(parseInt((0,vI.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,vI.default)(e,"marginLeft"),10)||0)})}Sze.exports=iN.default});var Mze=P((aN,Tze)=>{"use strict";p();aN.__esModule=!0;aN.default=ifr;var Kpr=LK(),FK=oN(Kpr),Xpr=Eze(),Qpr=oN(Xpr),Jpr=zK(),jK=oN(Jpr),efr=Cv(),tfr=oN(efr);function oN(e){return e&&e.__esModule?e:{default:e}}function Ize(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,jK.default)((0,tfr.default)(e).documentElement)||(0,jK.default)(e);else{var i=(0,FK.default)(e);t=i.width,r=i.height,n=(0,jK.default)(e)}return{width:t,height:r,scroll:n}}function rfr(e,t,r,n){var i=Ize(r),o=i.scroll,l=i.height,d=e-n-o,g=e+n-o+t;return d<0?-d:g>l?l-g:0}function nfr(e,t,r,n){var i=Ize(r),o=i.width,l=e-n,d=e+n+t;return l<0?-l:d>o?o-d:0}function ifr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,FK.default)(r):(0,Qpr.default)(r,n),l=(0,FK.default)(t),d=l.height,g=l.width,_=void 0,E=void 0,T=void 0,A=void 0;if(e==="left"||e==="right"){E=o.top+(o.height-d)/2,e==="left"?_=o.left-g:_=o.left+o.width;var L=rfr(E,d,n,i);E+=L,A=50*(1-2*L/d)+"%",T=void 0}else if(e==="top"||e==="bottom"){_=o.left+(o.width-g)/2,e==="top"?E=o.top-d:E=o.top+o.height;var z=nfr(_,g,n,i);_+=z,T=50*(1-2*z/g)+"%",A=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:_,positionTop:E,arrowOffsetLeft:T,arrowOffsetTop:A}}Tze.exports=aN.default});var Rze=P((lN,Nze)=>{"use strict";p();lN.__esModule=!0;var Cze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ofr=mn(),afr=bm(ofr),sfr=ir(),Pv=bm(sfr),lfr=aI(),Aze=bm(lfr),Dze=tt(),Pze=bm(Dze),ufr=Ki(),Oze=bm(ufr),cfr=Mze(),pfr=bm(cfr),ffr=uI(),dfr=bm(ffr),hfr=Cv(),mfr=bm(hfr);function bm(e){return e&&e.__esModule?e:{default:e}}function kze(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function gfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vfr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yfr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sN=function(e){yfr(t,e);function t(r,n){gfr(this,t);var i=vfr(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,l=typeof o=="function"?o():o;return l&&Oze.default.findDOMNode(l)||null},i.maybeUpdatePosition=function(o){var l=i.getTarget();!i.props.shouldUpdatePosition&&l===i._lastTarget&&!o||i.updatePosition(l)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,l=kze(n,["children","className"]),d=this.state,g=d.positionLeft,_=d.positionTop,E=kze(d,["positionLeft","positionTop"]);delete l.target,delete l.container,delete l.containerPadding,delete l.shouldUpdatePosition;var T=Pze.default.Children.only(i);return(0,Dze.cloneElement)(T,Cze({},l,E,{positionLeft:g,positionTop:_,className:(0,afr.default)(o,T.props.className),style:Cze({},T.props.style,{left:g,top:_})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=Oze.default.findDOMNode(this),o=(0,dfr.default)(this.props.container,(0,mfr.default)(this).body);this.setState((0,pfr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(Pze.default.Component);sN.propTypes={target:Pv.default.oneOfType([Aze.default,Pv.default.func]),container:Pv.default.oneOfType([Aze.default,Pv.default.func]),containerPadding:Pv.default.number,placement:Pv.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:Pv.default.bool};sN.displayName="Position";sN.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};lN.default=sN;Nze.exports=lN.default});var Bze=P((uN,Fze)=>{"use strict";p();uN.__esModule=!0;var _fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bfr=ir(),od=U_(bfr),xfr=Aa(),wfr=U_(xfr),Sfr=tt(),yI=U_(Sfr),Efr=bK(),Lze=U_(Efr),Ifr=Rze(),qze=U_(Ifr),Tfr=DY(),zze=U_(Tfr);function U_(e){return e&&e.__esModule?e:{default:e}}function Mfr(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Cfr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Afr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Pfr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jze=function(e){Pfr(t,e);function t(r,n){Cfr(this,t);var i=Afr(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,l=n.target,d=n.placement,g=n.shouldUpdatePosition,_=n.rootClose,E=n.children,T=n.transition,A=Mfr(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),L=A.show||T&&!this.state.exited;if(!L)return null;var z=E;if(z=yI.default.createElement(qze.default,{container:i,containerPadding:o,target:l,placement:d,shouldUpdatePosition:g},z),T){var U=A.onExit,N=A.onExiting,R=A.onEnter,j=A.onEntering,H=A.onEntered;z=yI.default.createElement(T,{in:A.show,appear:!0,onExit:U,onExiting:N,onExited:this.onHiddenListener,onEnter:R,onEntering:j,onEntered:H},z)}return _&&(z=yI.default.createElement(zze.default,{onRootClose:A.onHide,event:A.rootCloseEvent},z)),yI.default.createElement(Lze.default,{container:i},z)},t}(yI.default.Component);jze.propTypes=_fr({},Lze.default.propTypes,qze.default.propTypes,{show:od.default.bool,rootClose:od.default.bool,rootCloseEvent:zze.default.propTypes.event,onHide:function(t){var r=od.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:wfr.default,onEnter:od.default.func,onEntering:od.default.func,onEntered:od.default.func,onExit:od.default.func,onExiting:od.default.func,onExited:od.default.func});uN.default=jze;Fze.exports=uN.default});var pFe=P((X5n,cFe)=>{"use strict";p();cFe.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var gFe=P((J5n,mFe)=>{"use strict";p();var hFe="%[a-f0-9]{2}",fFe=new RegExp("("+hFe+")|([^%]+?)","gi"),dFe=new RegExp("("+hFe+")+","gi");function yX(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],yX(r),yX(n))}function whr(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(fFe)||[],r=1;r<t.length;r++)e=yX(t,r).join(""),t=e.match(fFe)||[];return e}}function Shr(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=dFe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(d){var n=whr(r[0]);n!==r[0]&&(t[r[0]]=n)}r=dFe.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var l=i[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}mFe.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return Shr(e)}}});var yFe=P((t3n,vFe)=>{"use strict";p();vFe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var bFe=P((n3n,_Fe)=>{"use strict";p();_Fe.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var l=n[o],d=e[l];(i?t.indexOf(l)!==-1:t(l,d,e))&&(r[l]=d)}return r}});var CFe=P(ol=>{"use strict";p();var Ehr=pFe(),Ihr=gFe(),wFe=yFe(),Thr=bFe(),Mhr=e=>e==null,_X=Symbol("encodeFragmentIdentifier");function Chr(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[fo(t,e),"[",i,"]"].join("")]:[...r,[fo(t,e),"[",fo(i,e),"]=",fo(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[fo(t,e),"[]"].join("")]:[...r,[fo(t,e),"[]=",fo(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[fo(t,e),":list="].join("")]:[...r,[fo(t,e),":list=",fo(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[fo(r,e),t,fo(i,e)].join("")]:[[n,fo(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,fo(t,e)]:[...r,[fo(t,e),"=",fo(n,e)].join("")]}}function Ahr(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),l=typeof n=="string"&&!o&&ud(n,e).includes(e.arrayFormatSeparator);n=l?ud(n,e):n;let d=o||l?n.split(e.arrayFormatSeparator).map(g=>ud(g,e)):n===null?n:ud(n,e);i[r]=d};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&ud(n,e);return}let l=n===null?[]:n.split(e.arrayFormatSeparator).map(d=>ud(d,e));if(i[r]===void 0){i[r]=l;return}i[r]=[].concat(i[r],l)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function SFe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function fo(e,t){return t.encode?t.strict?Ehr(e):encodeURIComponent(e):e}function ud(e,t){return t.decode?Ihr(e):e}function EFe(e){return Array.isArray(e)?e.sort():typeof e=="object"?EFe(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function IFe(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Phr(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function TFe(e){e=IFe(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function xFe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function MFe(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),SFe(t.arrayFormatSeparator);let r=Ahr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,l]=wFe(t.decode?i.replace(/\+/g," "):i,"=");l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:ud(l,t),r(ud(o,t),l,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let l of Object.keys(o))o[l]=xFe(o[l],t);else n[i]=xFe(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let l=n[o];return l&&typeof l=="object"&&!Array.isArray(l)?i[o]=EFe(l):i[o]=l,i},Object.create(null))}ol.extract=TFe;ol.parse=MFe;ol.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),SFe(t.arrayFormatSeparator);let r=l=>t.skipNull&&Mhr(e[l])||t.skipEmptyString&&e[l]==="",n=Chr(t),i={};for(let l of Object.keys(e))r(l)||(i[l]=e[l]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(l=>{let d=e[l];return d===void 0?"":d===null?fo(l,t):Array.isArray(d)?d.length===0&&t.arrayFormat==="bracket-separator"?fo(l,t)+"[]":d.reduce(n(l),[]).join("&"):fo(l,t)+"="+fo(d,t)}).filter(l=>l.length>0).join("&")};ol.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=wFe(e,"#");return Object.assign({url:r.split("?")[0]||"",query:MFe(TFe(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:ud(n,t)}:{})};ol.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[_X]:!0},t);let r=IFe(e.url).split("?")[0]||"",n=ol.extract(e.url),i=ol.parse(n,{sort:!1}),o=Object.assign(i,e.query),l=ol.stringify(o,t);l&&(l=`?${l}`);let d=Phr(e.url);return e.fragmentIdentifier&&(d=`#${t[_X]?fo(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${l}${d}`};ol.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[_X]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=ol.parseUrl(e,r);return ol.stringifyUrl({url:n,query:Thr(i,t),fragmentIdentifier:o},r)};ol.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return ol.pick(e,n,r)}});var rBe=P((bPn,cd)=>{p();function SX(e,t){return cd.exports=SX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cd.exports.__esModule=!0,cd.exports.default=cd.exports,SX(e,t)}cd.exports=SX,cd.exports.__esModule=!0,cd.exports.default=cd.exports});var EX=P((wPn,zI)=>{p();var rmr=rBe();function nmr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rmr(e,t)}zI.exports=nmr,zI.exports.__esModule=!0,zI.exports.default=zI.exports});var TX=P(IX=>{"use strict";p();Object.defineProperty(IX,"__esModule",{value:!0});function imr(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function omr(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var amr=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=omr(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var l=this.tags[this.tags.length-1];if(this.isSpeedy){var d=imr(l);try{var g=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;d.insertRule(n,g?0:d.cssRules.length)}catch(_){}}else l.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();IX.StyleSheet=amr});var nBe=P(MX=>{"use strict";p();Object.defineProperty(MX,"__esModule",{value:!0});function smr(e){function t(Ye,pt,ot,Ve,Oe){for(var He=0,Fe=0,lt=0,st=0,yt,vt,At=0,Zt=0,Tt,Rt=Tt=yt=0,tr=0,Sr=0,kr=0,pr=0,Er=ot.length,Ae=Er-1,We,Ze="",Ct="",zt="",me="",X;tr<Er;){if(vt=ot.charCodeAt(tr),tr===Ae&&Fe+st+lt+He!==0&&(Fe!==0&&(vt=Fe===47?10:47),st=lt=He=0,Er++,Ae++),Fe+st+lt+He===0){if(tr===Ae&&(0<Sr&&(Ze=Ze.replace(A,"")),0<Ze.trim().length)){switch(vt){case 32:case 9:case 59:case 13:case 10:break;default:Ze+=ot.charAt(tr)}vt=59}switch(vt){case 123:for(Ze=Ze.trim(),yt=Ze.charCodeAt(0),Tt=1,pr=++tr;tr<Er;){switch(vt=ot.charCodeAt(tr)){case 123:Tt++;break;case 125:Tt--;break;case 47:switch(vt=ot.charCodeAt(tr+1)){case 42:case 47:e:{for(Rt=tr+1;Rt<Ae;++Rt)switch(ot.charCodeAt(Rt)){case 47:if(vt===42&&ot.charCodeAt(Rt-1)===42&&tr+2!==Rt){tr=Rt+1;break e}break;case 10:if(vt===47){tr=Rt+1;break e}}tr=Rt}}break;case 91:vt++;case 40:vt++;case 34:case 39:for(;tr++<Ae&&ot.charCodeAt(tr)!==vt;);}if(Tt===0)break;tr++}switch(Tt=ot.substring(pr,tr),yt===0&&(yt=(Ze=Ze.replace(T,"").trim()).charCodeAt(0)),yt){case 64:switch(0<Sr&&(Ze=Ze.replace(A,"")),vt=Ze.charCodeAt(1),vt){case 100:case 109:case 115:case 45:Sr=pt;break;default:Sr=at}if(Tt=t(pt,Sr,Tt,vt,Oe+1),pr=Tt.length,0<ze&&(Sr=r(at,Ze,kr),X=d(3,Tt,Sr,pt,de,Ie,pr,vt,Oe,Ve),Ze=Sr.join(""),X!==void 0&&(pr=(Tt=X.trim()).length)===0&&(vt=0,Tt="")),0<pr)switch(vt){case 115:Ze=Ze.replace(ie,l);case 100:case 109:case 45:Tt=Ze+"{"+Tt+"}";break;case 107:Ze=Ze.replace(j,"$1 $2"),Tt=Ze+"{"+Tt+"}",Tt=Ke===1||Ke===2&&o("@"+Tt,3)?"@-webkit-"+Tt+"@"+Tt:"@"+Tt;break;default:Tt=Ze+Tt,Ve===112&&(Tt=(Ct+=Tt,""))}else Tt="";break;default:Tt=t(pt,r(pt,Ze,kr),Tt,Ve,Oe+1)}zt+=Tt,Tt=kr=Sr=Rt=yt=0,Ze="",vt=ot.charCodeAt(++tr);break;case 125:case 59:if(Ze=(0<Sr?Ze.replace(A,""):Ze).trim(),1<(pr=Ze.length))switch(Rt===0&&(yt=Ze.charCodeAt(0),yt===45||96<yt&&123>yt)&&(pr=(Ze=Ze.replace(" ",":")).length),0<ze&&(X=d(1,Ze,pt,Ye,de,Ie,Ct.length,Ve,Oe,Ve))!==void 0&&(pr=(Ze=X.trim()).length)===0&&(Ze="\0\0"),yt=Ze.charCodeAt(0),vt=Ze.charCodeAt(1),yt){case 0:break;case 64:if(vt===105||vt===99){me+=Ze+ot.charAt(tr);break}default:Ze.charCodeAt(pr-1)!==58&&(Ct+=i(Ze,yt,vt,Ze.charCodeAt(2)))}kr=Sr=Rt=yt=0,Ze="",vt=ot.charCodeAt(++tr)}}switch(vt){case 13:case 10:Fe===47?Fe=0:1+yt===0&&Ve!==107&&0<Ze.length&&(Sr=1,Ze+="\0"),0<ze*_t&&d(0,Ze,pt,Ye,de,Ie,Ct.length,Ve,Oe,Ve),Ie=1,de++;break;case 59:case 125:if(Fe+st+lt+He===0){Ie++;break}default:switch(Ie++,We=ot.charAt(tr),vt){case 9:case 32:if(st+He+Fe===0)switch(At){case 44:case 58:case 9:case 32:We="";break;default:vt!==32&&(We=" ")}break;case 0:We="\\0";break;case 12:We="\\f";break;case 11:We="\\v";break;case 38:st+Fe+He===0&&(Sr=kr=1,We="\f"+We);break;case 108:if(st+Fe+He+Pe===0&&0<Rt)switch(tr-Rt){case 2:At===112&&ot.charCodeAt(tr-3)===58&&(Pe=At);case 8:Zt===111&&(Pe=Zt)}break;case 58:st+Fe+He===0&&(Rt=tr);break;case 44:Fe+lt+st+He===0&&(Sr=1,We+="\r");break;case 34:case 39:Fe===0&&(st=st===vt?0:st===0?vt:st);break;case 91:st+Fe+lt===0&&He++;break;case 93:st+Fe+lt===0&&He--;break;case 41:st+Fe+He===0&&lt--;break;case 40:if(st+Fe+He===0){if(yt===0)switch(2*At+3*Zt){case 533:break;default:yt=1}lt++}break;case 64:Fe+lt+st+He+Rt+Tt===0&&(Tt=1);break;case 42:case 47:if(!(0<st+He+lt))switch(Fe){case 0:switch(2*vt+3*ot.charCodeAt(tr+1)){case 235:Fe=47;break;case 220:pr=tr,Fe=42}break;case 42:vt===47&&At===42&&pr+2!==tr&&(ot.charCodeAt(pr+2)===33&&(Ct+=ot.substring(pr,tr+1)),We="",Fe=0)}}Fe===0&&(Ze+=We)}Zt=At,At=vt,tr++}if(pr=Ct.length,0<pr){if(Sr=pt,0<ze&&(X=d(2,Ct,Sr,Ye,de,Ie,pr,Ve,Oe,Ve),X!==void 0&&(Ct=X).length===0))return me+Ct+zt;if(Ct=Sr.join(",")+"{"+Ct+"}",Ke*Pe!==0){switch(Ke!==2||o(Ct,2)||(Pe=0),Pe){case 111:Ct=Ct.replace(Y,":-moz-$1")+Ct;break;case 112:Ct=Ct.replace(H,"::-webkit-input-$1")+Ct.replace(H,"::-moz-$1")+Ct.replace(H,":-ms-input-$1")+Ct}Pe=0}}return me+Ct+zt}function r(Ye,pt,ot){var Ve=pt.trim().split(N);pt=Ve;var Oe=Ve.length,He=Ye.length;switch(He){case 0:case 1:var Fe=0;for(Ye=He===0?"":Ye[0]+" ";Fe<Oe;++Fe)pt[Fe]=n(Ye,pt[Fe],ot).trim();break;default:var lt=Fe=0;for(pt=[];Fe<Oe;++Fe)for(var st=0;st<He;++st)pt[lt++]=n(Ye[st]+" ",Ve[Fe],ot).trim()}return pt}function n(Ye,pt,ot){var Ve=pt.charCodeAt(0);switch(33>Ve&&(Ve=(pt=pt.trim()).charCodeAt(0)),Ve){case 38:return pt.replace(R,"$1"+Ye.trim());case 58:return Ye.trim()+pt.replace(R,"$1"+Ye.trim());default:if(0<1*ot&&0<pt.indexOf("\f"))return pt.replace(R,(Ye.charCodeAt(0)===58?"":"$1")+Ye.trim())}return Ye+pt}function i(Ye,pt,ot,Ve){var Oe=Ye+";",He=2*pt+3*ot+4*Ve;if(He===944){Ye=Oe.indexOf(":",9)+1;var Fe=Oe.substring(Ye,Oe.length-1).trim();return Fe=Oe.substring(0,Ye).trim()+Fe+";",Ke===1||Ke===2&&o(Fe,1)?"-webkit-"+Fe+Fe:Fe}if(Ke===0||Ke===2&&!o(Oe,1))return Oe;switch(He){case 1015:return Oe.charCodeAt(10)===97?"-webkit-"+Oe+Oe:Oe;case 951:return Oe.charCodeAt(3)===116?"-webkit-"+Oe+Oe:Oe;case 963:return Oe.charCodeAt(5)===110?"-webkit-"+Oe+Oe:Oe;case 1009:if(Oe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Oe+Oe;case 978:return"-webkit-"+Oe+"-moz-"+Oe+Oe;case 1019:case 983:return"-webkit-"+Oe+"-moz-"+Oe+"-ms-"+Oe+Oe;case 883:if(Oe.charCodeAt(8)===45)return"-webkit-"+Oe+Oe;if(0<Oe.indexOf("image-set(",11))return Oe.replace(xe,"$1-webkit-$2")+Oe;break;case 932:if(Oe.charCodeAt(4)===45)switch(Oe.charCodeAt(5)){case 103:return"-webkit-box-"+Oe.replace("-grow","")+"-webkit-"+Oe+"-ms-"+Oe.replace("grow","positive")+Oe;case 115:return"-webkit-"+Oe+"-ms-"+Oe.replace("shrink","negative")+Oe;case 98:return"-webkit-"+Oe+"-ms-"+Oe.replace("basis","preferred-size")+Oe}return"-webkit-"+Oe+"-ms-"+Oe+Oe;case 964:return"-webkit-"+Oe+"-ms-flex-"+Oe+Oe;case 1023:if(Oe.charCodeAt(8)!==99)break;return Fe=Oe.substring(Oe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Fe+"-webkit-"+Oe+"-ms-flex-pack"+Fe+Oe;case 1005:return z.test(Oe)?Oe.replace(L,":-webkit-")+Oe.replace(L,":-moz-")+Oe:Oe;case 1e3:switch(Fe=Oe.substring(13).trim(),pt=Fe.indexOf("-")+1,Fe.charCodeAt(0)+Fe.charCodeAt(pt)){case 226:Fe=Oe.replace(re,"tb");break;case 232:Fe=Oe.replace(re,"tb-rl");break;case 220:Fe=Oe.replace(re,"lr");break;default:return Oe}return"-webkit-"+Oe+"-ms-"+Fe+Oe;case 1017:if(Oe.indexOf("sticky",9)===-1)break;case 975:switch(pt=(Oe=Ye).length-10,Fe=(Oe.charCodeAt(pt)===33?Oe.substring(0,pt):Oe).substring(Ye.indexOf(":",7)+1).trim(),He=Fe.charCodeAt(0)+(Fe.charCodeAt(7)|0)){case 203:if(111>Fe.charCodeAt(8))break;case 115:Oe=Oe.replace(Fe,"-webkit-"+Fe)+";"+Oe;break;case 207:case 102:Oe=Oe.replace(Fe,"-webkit-"+(102<He?"inline-":"")+"box")+";"+Oe.replace(Fe,"-webkit-"+Fe)+";"+Oe.replace(Fe,"-ms-"+Fe+"box")+";"+Oe}return Oe+";";case 938:if(Oe.charCodeAt(5)===45)switch(Oe.charCodeAt(6)){case 105:return Fe=Oe.replace("-items",""),"-webkit-"+Oe+"-webkit-box-"+Fe+"-ms-flex-"+Fe+Oe;case 115:return"-webkit-"+Oe+"-ms-flex-item-"+Oe.replace(Me,"")+Oe;default:return"-webkit-"+Oe+"-ms-flex-line-pack"+Oe.replace("align-content","").replace(Me,"")+Oe}break;case 973:case 989:if(Oe.charCodeAt(3)!==45||Oe.charCodeAt(4)===122)break;case 931:case 953:if(ye.test(Ye)===!0)return(Fe=Ye.substring(Ye.indexOf(":")+1)).charCodeAt(0)===115?i(Ye.replace("stretch","fill-available"),pt,ot,Ve).replace(":fill-available",":stretch"):Oe.replace(Fe,"-webkit-"+Fe)+Oe.replace(Fe,"-moz-"+Fe.replace("fill-",""))+Oe;break;case 962:if(Oe="-webkit-"+Oe+(Oe.charCodeAt(5)===102?"-ms-"+Oe:"")+Oe,ot+Ve===211&&Oe.charCodeAt(13)===105&&0<Oe.indexOf("transform",10))return Oe.substring(0,Oe.indexOf(";",27)+1).replace(U,"$1-webkit-$2")+Oe}return Oe}function o(Ye,pt){var ot=Ye.indexOf(pt===1?":":"{"),Ve=Ye.substring(0,pt!==3?ot:10);return ot=Ye.substring(ot+1,Ye.length-1),ct(pt!==2?Ve:Ve.replace(we,"$1"),ot,pt)}function l(Ye,pt){var ot=i(pt,pt.charCodeAt(0),pt.charCodeAt(1),pt.charCodeAt(2));return ot!==pt+";"?ot.replace(le," or ($1)").substring(4):"("+pt+")"}function d(Ye,pt,ot,Ve,Oe,He,Fe,lt,st,yt){for(var vt=0,At=pt,Zt;vt<ze;++vt)switch(Zt=dt[vt].call(E,Ye,At,ot,Ve,Oe,He,Fe,lt,st,yt)){case void 0:case!1:case!0:case null:break;default:At=Zt}if(At!==pt)return At}function g(Ye){switch(Ye){case void 0:case null:ze=dt.length=0;break;default:if(typeof Ye=="function")dt[ze++]=Ye;else if(typeof Ye=="object")for(var pt=0,ot=Ye.length;pt<ot;++pt)g(Ye[pt]);else _t=!!Ye|0}return g}function _(Ye){return Ye=Ye.prefix,Ye!==void 0&&(ct=null,Ye?typeof Ye!="function"?Ke=1:(Ke=2,ct=Ye):Ke=0),_}function E(Ye,pt){var ot=Ye;if(33>ot.charCodeAt(0)&&(ot=ot.trim()),It=ot,ot=[It],0<ze){var Ve=d(-1,pt,ot,ot,de,Ie,0,0,0,0);Ve!==void 0&&typeof Ve=="string"&&(pt=Ve)}var Oe=t(at,ot,pt,0,0);return 0<ze&&(Ve=d(-2,Oe,ot,ot,de,Ie,Oe.length,0,0,0),Ve!==void 0&&(Oe=Ve)),It="",Pe=0,Ie=de=1,Oe}var T=/^\0+/g,A=/[\0\r\f]/g,L=/: */g,z=/zoo|gra/,U=/([,: ])(transform)/g,N=/,\r+?/g,R=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,H=/::(place)/g,Y=/:(read-only)/g,re=/[svh]\w+-[tblr]{2}/,ie=/\(\s*(.*)\s*\)/g,le=/([\s\S]*?);/g,Me=/-self|flex-/g,we=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ye=/stretch|:\s*\w+\-(?:conte|avail)/,xe=/([^-])(image-set\()/,Ie=1,de=1,Pe=0,Ke=1,at=[],dt=[],ze=0,ct=null,_t=0,It="";return E.use=g,E.set=_,e!==void 0&&_(e),E}MX.default=smr});var iBe=P(CX=>{"use strict";p();Object.defineProperty(CX,"__esModule",{value:!0});var lmr=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};CX.default=lmr});var OX=P(PX=>{"use strict";p();Object.defineProperty(PX,"__esModule",{value:!0});function umr(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var cmr=TX(),pmr=umr(nBe());iBe();var AX="/*|*/",fmr=AX+"}";function dmr(e){e&&UN.current.insert(e+"}")}var UN={current:null},hmr=function(t,r,n,i,o,l,d,g,_,E){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return UN.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(g===0)return r+AX;break}case 3:switch(g){case 102:case 112:return UN.current.insert(n[0]+r),"";default:return r+(E===0?AX:"")}case-2:r.split(fmr).forEach(dmr)}},mmr=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new pmr(n),o={},l;{l=t.container||document.head;var d=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(d,function(A){var L=A.getAttribute("data-emotion-"+r);L.split(" ").forEach(function(z){o[z]=!0}),A.parentNode!==l&&l.appendChild(A)})}var g;if(i.use(t.stylisPlugins)(hmr),g=function(L,z,U,N){var R=z.name;if(UN.current=U,0)var j;i(L,z.styles),N&&(T.inserted[R]=!0)},0)var _,E;var T={key:r,sheet:new cmr.StyleSheet({key:r,container:l,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:g};return T};PX.default=mmr});var kX=P(VN=>{"use strict";p();Object.defineProperty(VN,"__esModule",{value:!0});var gmr=!0;function vmr(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var ymr=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||gmr===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var l=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};VN.getRegisteredStyles=vmr;VN.insertStyles=ymr});var oBe=P(DX=>{"use strict";p();Object.defineProperty(DX,"__esModule",{value:!0});function _mr(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}DX.default=_mr});var aBe=P(NX=>{"use strict";p();Object.defineProperty(NX,"__esModule",{value:!0});var bmr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};NX.default=bmr});var sBe=P(RX=>{"use strict";p();Object.defineProperty(RX,"__esModule",{value:!0});function xmr(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}RX.default=xmr});var $N=P(zX=>{"use strict";p();Object.defineProperty(zX,"__esModule",{value:!0});function qX(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var wmr=qX(oBe()),Smr=qX(aBe()),Emr=qX(sBe()),Imr=/[A-Z]|^ms/g,Tmr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pBe=function(t){return t.charCodeAt(1)===45},lBe=function(t){return t!=null&&typeof t!="boolean"},LX=Emr(function(e){return pBe(e)?e:e.replace(Imr,"-$&").toLowerCase()}),uBe=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Tmr,function(n,i,o){return jp={name:i,styles:o,next:jp},i})}return Smr[t]!==1&&!pBe(t)&&typeof r=="number"&&r!==0?r+"px":r};function jI(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return jp={name:r.name,styles:r.styles,next:jp},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)jp={name:i.name,styles:i.styles,next:jp},i=i.next;var o=r.styles+";";return o}return Mmr(e,t,r)}case"function":{if(e!==void 0){var l=jp,d=r(e);return jp=l,jI(e,t,d,n)}break}case"string":if(0)var g,_;break}if(t==null)return r;var E=t[r];return E!==void 0&&!n?E:r}function Mmr(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=jI(e,t,r[i],!1);else for(var o in r){var l=r[o];if(typeof l!="object")t!=null&&t[l]!==void 0?n+=o+"{"+t[l]+"}":lBe(l)&&(n+=LX(o)+":"+uBe(o,l)+";");else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var d=0;d<l.length;d++)lBe(l[d])&&(n+=LX(o)+":"+uBe(o,l[d])+";");else{var g=jI(e,t,l,!1);switch(o){case"animation":case"animationName":{n+=LX(o)+":"+g+";";break}default:n+=o+"{"+g+"}"}}}return n}var cBe=/label:\s*([^\s;\n{]+)\s*;/g,jp,Cmr=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";jp=void 0;var l=t[0];l==null||l.raw===void 0?(i=!1,o+=jI(n,r,l,!1)):o+=l[0];for(var d=1;d<t.length;d++)o+=jI(n,r,t[d],o.charCodeAt(o.length-1)===46),i&&(o+=l[d]);var g;cBe.lastIndex=0;for(var _="",E;(E=cBe.exec(o))!==null;)_+="-"+E[1];var T=wmr(o)+_;return{name:T,styles:o,next:jp}};zX.serializeStyles=Cmr});var vBe=P(Fv=>{"use strict";p();EX();var pd=tt(),Amr=OX(),fBe=kX(),Pmr=$N();function Omr(e){return e&&e.__esModule?e:{default:e}}var kmr=Omr(Amr),FX=Object.prototype.hasOwnProperty,hBe=pd.createContext(typeof HTMLElement!="undefined"?kmr.default():null),mBe=pd.createContext({}),Dmr=hBe.Provider,gBe=function(t){var r=function(i,o){return pd.createElement(hBe.Consumer,null,function(l){return t(i,l,o)})};return pd.forwardRef(r)},jX="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Nmr=function(t,r){var n={};for(var i in r)FX.call(r,i)&&(n[i]=r[i]);if(n[jX]=t,0){var o;if(o.stack)var l}return n},Rmr=function(){return null},dBe=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var l=r[jX],d=[o],g="";typeof r.className=="string"?g=fBe.getRegisteredStyles(t.registered,d,r.className):r.className!=null&&(g=r.className+" ");var _=Pmr.serializeStyles(d);if(0)var E;var T=fBe.insertStyles(t,_,typeof l=="string");g+=t.key+"-"+_.name;var A={};for(var L in r)FX.call(r,L)&&L!=="css"&&L!==jX&&(A[L]=r[L]);A.ref=i,A.className=g;var z=pd.createElement(l,A),U=pd.createElement(Rmr,null);return pd.createElement(pd.Fragment,null,U,z)},Lmr=gBe(function(e,t,r){return typeof e.css=="function"?pd.createElement(mBe.Consumer,null,function(n){return dBe(t,e,n,r)}):dBe(t,e,null,r)});Fv.CacheProvider=Dmr;Fv.Emotion=Lmr;Fv.ThemeContext=mBe;Fv.createEmotionProps=Nmr;Fv.hasOwnProperty=FX;Fv.withEmotionCache=gBe});var yBe=P(BX=>{"use strict";p();Object.defineProperty(BX,"__esModule",{value:!0});var qmr=$N();function zmr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return qmr.serializeStyles(t)}BX.default=zmr});var SBe=P(Mc=>{"use strict";p();Object.defineProperty(Mc,"__esModule",{value:!0});var jmr=EX(),Fp=tt();OX();var Bp=vBe(),VX=kX(),UX=$N(),Fmr=TX(),Bmr=yBe();function bBe(e){return e&&e.__esModule?e:{default:e}}var Umr=bBe(jmr),xBe=bBe(Bmr),wBe=function(t,r){var n=arguments;if(r==null||!Bp.hasOwnProperty.call(r,"css"))return Fp.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Bp.Emotion,o[1]=Bp.createEmotionProps(t,r);for(var l=2;l<i;l++)o[l]=n[l];return Fp.createElement.apply(null,o)},Vmr=Bp.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Fp.createElement(Bp.ThemeContext.Consumer,null,function(i){var o=UX.serializeStyles([r(i)]);return Fp.createElement(_Be,{serialized:o,cache:t})});var n=UX.serializeStyles([r]);return Fp.createElement(_Be,{serialized:n,cache:t})}),_Be=function(e){Umr.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Fmr.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&VX.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Fp.Component),$mr=function(){var t=xBe.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Gmr=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var l=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))l=e(o);else{l="";for(var d in o)o[d]&&d&&(l&&(l+=" "),l+=d)}break}default:l=o}l&&(i&&(i+=" "),i+=l)}}return i};function Hmr(e,t,r){var n=[],i=VX.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var Wmr=function(){return null},Zmr=Bp.withEmotionCache(function(e,t){return Fp.createElement(Bp.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var E=arguments.length,T=new Array(E),A=0;A<E;A++)T[A]=arguments[A];var L=UX.serializeStyles(T,t.registered);return VX.insertStyles(t,L,!1),t.key+"-"+L.name},o=function(){for(var E=arguments.length,T=new Array(E),A=0;A<E;A++)T[A]=arguments[A];return Hmr(t.registered,i,Gmr(T))},l={css:i,cx:o,theme:r},d=e.children(l);n=!0;var g=Fp.createElement(Wmr,null);return Fp.createElement(Fp.Fragment,null,g,d)})});Mc.CacheProvider=Bp.CacheProvider;Mc.ThemeContext=Bp.ThemeContext;Mc.withEmotionCache=Bp.withEmotionCache;Object.defineProperty(Mc,"css",{enumerable:!0,get:function(){return xBe.default}});Mc.ClassNames=Zmr;Mc.Global=Vmr;Mc.createElement=wBe;Mc.jsx=wBe;Mc.keyframes=$mr});var $X=P(Cc=>{"use strict";p();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=ABe;Cc.skeletonStyles=Cc.skeletonKeyframes=Cc.defaultHighlightColor=Cc.defaultBaseColor=void 0;var ZPn=Ymr(tt()),rb=SBe();function Ymr(e){return e&&e.__esModule?e:{default:e}}function EBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kmr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EBe(r,!0).forEach(function(n){Xmr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EBe(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xmr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IBe(){var e=Qmr([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return IBe=function(){return e},e}function Qmr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var GN="#eee";Cc.defaultBaseColor=GN;var TBe="#f5f5f5";Cc.defaultHighlightColor=TBe;var MBe=function(t,r){return(0,rb.keyframes)(IBe(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Cc.skeletonKeyframes=MBe;var CBe=(0,rb.css)("background-color:",GN,";background-image:linear-gradient( 90deg,",GN,",",TBe,",",GN," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Cc.skeletonStyles=CBe;function ABe(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,l=e.circle,d=e.delay,g=e.style,_=e.className,E=[],T=0;T<t;T++){var A={};n!==null&&(A.width=n),o!==null&&(A.height=o),n!==null&&o!==null&&l&&(A.borderRadius="50%");var L="react-loading-skeleton";_&&(L+=" "+_),E.push((0,rb.jsx)("span",{key:T,className:L,css:(0,rb.css)(CBe," animation:",MBe(r,d)," ",r+d,"s ease-in-out infinite;label:Skeleton;"),style:Kmr({},g,{},A)},"\u200C"))}return(0,rb.jsx)("span",null,i?E.map(function(z,U){return(0,rb.jsx)(i,{key:U},z,"\u200C")}):E)}ABe.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var ZBe=P((rQ,nQ)=>{p();(function(e,t){typeof rQ=="object"&&typeof nQ!="undefined"?nQ.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self).RBush=t()})(rQ,function(){"use strict";function e(N,R,j,H,Y){(function re(ie,le,Me,we,ye){for(;we>Me;){if(we-Me>600){var xe=we-Me+1,Ie=le-Me+1,de=Math.log(xe),Pe=.5*Math.exp(2*de/3),Ke=.5*Math.sqrt(de*Pe*(xe-Pe)/xe)*(Ie-xe/2<0?-1:1),at=Math.max(Me,Math.floor(le-Ie*Pe/xe+Ke)),dt=Math.min(we,Math.floor(le+(xe-Ie)*Pe/xe+Ke));re(ie,le,at,dt,ye)}var ze=ie[le],ct=Me,_t=we;for(t(ie,Me,le),ye(ie[we],ze)>0&&t(ie,Me,we);ct<_t;){for(t(ie,ct,_t),ct++,_t--;ye(ie[ct],ze)<0;)ct++;for(;ye(ie[_t],ze)>0;)_t--}ye(ie[Me],ze)===0?t(ie,Me,_t):t(ie,++_t,we),_t<=le&&(Me=_t+1),le<=_t&&(we=_t-1)}})(N,R,j||0,H||N.length-1,Y||r)}function t(N,R,j){var H=N[R];N[R]=N[j],N[j]=H}function r(N,R){return N<R?-1:N>R?1:0}var n=function(N){N===void 0&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(N,R,j){if(!j)return R.indexOf(N);for(var H=0;H<R.length;H++)if(j(N,R[H]))return H;return-1}function o(N,R){l(N,0,N.children.length,R,N)}function l(N,R,j,H,Y){Y||(Y=z(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var re=R;re<j;re++){var ie=N.children[re];d(Y,N.leaf?H(ie):ie)}return Y}function d(N,R){return N.minX=Math.min(N.minX,R.minX),N.minY=Math.min(N.minY,R.minY),N.maxX=Math.max(N.maxX,R.maxX),N.maxY=Math.max(N.maxY,R.maxY),N}function g(N,R){return N.minX-R.minX}function _(N,R){return N.minY-R.minY}function E(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function T(N){return N.maxX-N.minX+(N.maxY-N.minY)}function A(N,R){return N.minX<=R.minX&&N.minY<=R.minY&&R.maxX<=N.maxX&&R.maxY<=N.maxY}function L(N,R){return R.minX<=N.maxX&&R.minY<=N.maxY&&R.maxX>=N.minX&&R.maxY>=N.minY}function z(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function U(N,R,j,H,Y){for(var re=[R,j];re.length;)if(!((j=re.pop())-(R=re.pop())<=H)){var ie=R+Math.ceil((j-R)/H/2)*H;e(N,ie,R,j,Y),re.push(R,ie,ie,j)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(N){var R=this.data,j=[];if(!L(N,R))return j;for(var H=this.toBBox,Y=[];R;){for(var re=0;re<R.children.length;re++){var ie=R.children[re],le=R.leaf?H(ie):ie;L(N,le)&&(R.leaf?j.push(ie):A(N,le)?this._all(ie,j):Y.push(ie))}R=Y.pop()}return j},n.prototype.collides=function(N){var R=this.data;if(!L(N,R))return!1;for(var j=[];R;){for(var H=0;H<R.children.length;H++){var Y=R.children[H],re=R.leaf?this.toBBox(Y):Y;if(L(N,re)){if(R.leaf||A(N,re))return!0;j.push(Y)}}R=j.pop()}return!1},n.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var R=0;R<N.length;R++)this.insert(N[R]);return this}var j=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length){if(this.data.height===j.height)this._splitRoot(this.data,j);else{if(this.data.height<j.height){var H=this.data;this.data=j,j=H}this._insert(j,this.data.height-j.height-1,!0)}}else this.data=j;return this},n.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},n.prototype.clear=function(){return this.data=z([]),this},n.prototype.remove=function(N,R){if(!N)return this;for(var j,H,Y,re=this.data,ie=this.toBBox(N),le=[],Me=[];re||le.length;){if(re||(re=le.pop(),H=le[le.length-1],j=Me.pop(),Y=!0),re.leaf){var we=i(N,re.children,R);if(we!==-1)return re.children.splice(we,1),le.push(re),this._condense(le),this}Y||re.leaf||!A(re,ie)?H?(j++,re=H.children[j],Y=!1):re=null:(le.push(re),Me.push(j),j=0,H=re,re=re.children[0])}return this},n.prototype.toBBox=function(N){return N},n.prototype.compareMinX=function(N,R){return N.minX-R.minX},n.prototype.compareMinY=function(N,R){return N.minY-R.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(N){return this.data=N,this},n.prototype._all=function(N,R){for(var j=[];N;)N.leaf?R.push.apply(R,N.children):j.push.apply(j,N.children),N=j.pop();return R},n.prototype._build=function(N,R,j,H){var Y,re=j-R+1,ie=this._maxEntries;if(re<=ie)return o(Y=z(N.slice(R,j+1)),this.toBBox),Y;H||(H=Math.ceil(Math.log(re)/Math.log(ie)),ie=Math.ceil(re/Math.pow(ie,H-1))),(Y=z([])).leaf=!1,Y.height=H;var le=Math.ceil(re/ie),Me=le*Math.ceil(Math.sqrt(ie));U(N,R,j,Me,this.compareMinX);for(var we=R;we<=j;we+=Me){var ye=Math.min(we+Me-1,j);U(N,we,ye,le,this.compareMinY);for(var xe=we;xe<=ye;xe+=le){var Ie=Math.min(xe+le-1,ye);Y.children.push(this._build(N,xe,Ie,H-1))}}return o(Y,this.toBBox),Y},n.prototype._chooseSubtree=function(N,R,j,H){for(;H.push(R),!R.leaf&&H.length-1!==j;){for(var Y=1/0,re=1/0,ie=void 0,le=0;le<R.children.length;le++){var Me=R.children[le],we=E(Me),ye=(xe=N,Ie=Me,(Math.max(Ie.maxX,xe.maxX)-Math.min(Ie.minX,xe.minX))*(Math.max(Ie.maxY,xe.maxY)-Math.min(Ie.minY,xe.minY))-we);ye<re?(re=ye,Y=we<Y?we:Y,ie=Me):ye===re&&we<Y&&(Y=we,ie=Me)}R=ie||R.children[0]}var xe,Ie;return R},n.prototype._insert=function(N,R,j){var H=j?N:this.toBBox(N),Y=[],re=this._chooseSubtree(H,this.data,R,Y);for(re.children.push(N),d(re,H);R>=0&&Y[R].children.length>this._maxEntries;)this._split(Y,R),R--;this._adjustParentBBoxes(H,Y,R)},n.prototype._split=function(N,R){var j=N[R],H=j.children.length,Y=this._minEntries;this._chooseSplitAxis(j,Y,H);var re=this._chooseSplitIndex(j,Y,H),ie=z(j.children.splice(re,j.children.length-re));ie.height=j.height,ie.leaf=j.leaf,o(j,this.toBBox),o(ie,this.toBBox),R?N[R-1].children.push(ie):this._splitRoot(j,ie)},n.prototype._splitRoot=function(N,R){this.data=z([N,R]),this.data.height=N.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(N,R,j){for(var H,Y,re,ie,le,Me,we,ye=1/0,xe=1/0,Ie=R;Ie<=j-R;Ie++){var de=l(N,0,Ie,this.toBBox),Pe=l(N,Ie,j,this.toBBox),Ke=(Y=de,re=Pe,ie=void 0,le=void 0,Me=void 0,we=void 0,ie=Math.max(Y.minX,re.minX),le=Math.max(Y.minY,re.minY),Me=Math.min(Y.maxX,re.maxX),we=Math.min(Y.maxY,re.maxY),Math.max(0,Me-ie)*Math.max(0,we-le)),at=E(de)+E(Pe);Ke<ye?(ye=Ke,H=Ie,xe=at<xe?at:xe):Ke===ye&&at<xe&&(xe=at,H=Ie)}return H||j-R},n.prototype._chooseSplitAxis=function(N,R,j){var H=N.leaf?this.compareMinX:g,Y=N.leaf?this.compareMinY:_;this._allDistMargin(N,R,j,H)<this._allDistMargin(N,R,j,Y)&&N.children.sort(H)},n.prototype._allDistMargin=function(N,R,j,H){N.children.sort(H);for(var Y=this.toBBox,re=l(N,0,R,Y),ie=l(N,j-R,j,Y),le=T(re)+T(ie),Me=R;Me<j-R;Me++){var we=N.children[Me];d(re,N.leaf?Y(we):we),le+=T(re)}for(var ye=j-R-1;ye>=R;ye--){var xe=N.children[ye];d(ie,N.leaf?Y(xe):xe),le+=T(ie)}return le},n.prototype._adjustParentBBoxes=function(N,R,j){for(var H=j;H>=0;H--)d(R[H],N)},n.prototype._condense=function(N){for(var R=N.length-1,j=void 0;R>=0;R--)N[R].children.length===0?R>0?(j=N[R-1].children).splice(j.indexOf(N[R]),1):this.clear():o(N[R],this.toBBox)},n})});var YBe=P((iQ,oQ)=>{p();(function(e,t){typeof iQ=="object"&&typeof oQ!="undefined"?oQ.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.TinyQueue=t())})(iQ,function(){"use strict";var e=function(n,i){if(n===void 0&&(n=[]),i===void 0&&(i=t),this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};e.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(this.length!==0){var n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(n){for(var i=this,o=i.data,l=i.compare,d=o[n];n>0;){var g=n-1>>1,_=o[g];if(l(d,_)>=0)break;o[n]=_,n=g}o[n]=d},e.prototype._down=function(n){for(var i=this,o=i.data,l=i.compare,d=this.length>>1,g=o[n];n<d;){var _=(n<<1)+1,E=o[_],T=_+1;if(T<this.length&&l(o[T],E)<0&&(_=T,E=o[T]),l(E,g)>=0)break;o[n]=E,n=_}o[n]=g};function t(r,n){return r<n?-1:r>n?1:0}return e})});var XBe=P((Ykn,KBe)=>{p();KBe.exports=function(t,r,n,i){var o=t[0],l=t[1],d=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var g=(i-n)/2,_=0,E=g-1;_<g;E=_++){var T=r[n+_*2+0],A=r[n+_*2+1],L=r[n+E*2+0],z=r[n+E*2+1],U=A>l!=z>l&&o<(L-T)*(l-A)/(z-A)+T;U&&(d=!d)}return d}});var JBe=P((Xkn,QBe)=>{p();QBe.exports=function(t,r,n,i){var o=t[0],l=t[1],d=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var g=i-n,_=0,E=g-1;_<g;E=_++){var T=r[_+n][0],A=r[_+n][1],L=r[E+n][0],z=r[E+n][1],U=A>l!=z>l&&o<(L-T)*(l-A)/(z-A)+T;U&&(d=!d)}return d}});var rUe=P((Jkn,KN)=>{p();var eUe=XBe(),tUe=JBe();KN.exports=function(t,r,n,i){return r.length>0&&Array.isArray(r[0])?tUe(t,r,n,i):eUe(t,r,n,i)};KN.exports.nested=tUe;KN.exports.flat=eUe});var iUe=P((XN,nUe)=>{p();(function(e,t){typeof XN=="object"&&typeof nUe!="undefined"?t(XN):typeof define=="function"&&define.amd?define(["exports"],t):t((e=e||self).predicates={})})(XN,function(e){"use strict";let r=33306690738754706e-32;function n(L,z,U,N,R){let j,H,Y,re,ie=z[0],le=N[0],Me=0,we=0;le>ie==le>-ie?(j=ie,ie=z[++Me]):(j=le,le=N[++we]);let ye=0;if(Me<L&&we<U)for(le>ie==le>-ie?(Y=j-((H=ie+j)-ie),ie=z[++Me]):(Y=j-((H=le+j)-le),le=N[++we]),j=H,Y!==0&&(R[ye++]=Y);Me<L&&we<U;)le>ie==le>-ie?(Y=j-((H=j+ie)-(re=H-j))+(ie-re),ie=z[++Me]):(Y=j-((H=j+le)-(re=H-j))+(le-re),le=N[++we]),j=H,Y!==0&&(R[ye++]=Y);for(;Me<L;)Y=j-((H=j+ie)-(re=H-j))+(ie-re),ie=z[++Me],j=H,Y!==0&&(R[ye++]=Y);for(;we<U;)Y=j-((H=j+le)-(re=H-j))+(le-re),le=N[++we],j=H,Y!==0&&(R[ye++]=Y);return j===0&&ye!==0||(R[ye++]=j),ye}function i(L){return new Float64Array(L)}let o=33306690738754716e-32,l=22204460492503146e-32,d=11093356479670487e-47,g=i(4),_=i(8),E=i(12),T=i(16),A=i(4);e.orient2d=function(L,z,U,N,R,j){let H=(z-j)*(U-R),Y=(L-R)*(N-j),re=H-Y;if(H===0||Y===0||H>0!=Y>0)return re;let ie=Math.abs(H+Y);return Math.abs(re)>=o*ie?re:-function(le,Me,we,ye,xe,Ie,de){let Pe,Ke,at,dt,ze,ct,_t,It,Ye,pt,ot,Ve,Oe,He,Fe,lt,st,yt,vt=le-xe,At=we-xe,Zt=Me-Ie,Tt=ye-Ie;ze=(Fe=(It=vt-(_t=(ct=134217729*vt)-(ct-vt)))*(pt=Tt-(Ye=(ct=134217729*Tt)-(ct-Tt)))-((He=vt*Tt)-_t*Ye-It*Ye-_t*pt))-(ot=Fe-(st=(It=Zt-(_t=(ct=134217729*Zt)-(ct-Zt)))*(pt=At-(Ye=(ct=134217729*At)-(ct-At)))-((lt=Zt*At)-_t*Ye-It*Ye-_t*pt))),g[0]=Fe-(ot+ze)+(ze-st),ze=(Oe=He-((Ve=He+ot)-(ze=Ve-He))+(ot-ze))-(ot=Oe-lt),g[1]=Oe-(ot+ze)+(ze-lt),ze=(yt=Ve+ot)-Ve,g[2]=Ve-(yt-ze)+(ot-ze),g[3]=yt;let Rt=function(Er,Ae){let We=Ae[0];for(let Ze=1;Ze<Er;Ze++)We+=Ae[Ze];return We}(4,g),tr=l*de;if(Rt>=tr||-Rt>=tr||(Pe=le-(vt+(ze=le-vt))+(ze-xe),at=we-(At+(ze=we-At))+(ze-xe),Ke=Me-(Zt+(ze=Me-Zt))+(ze-Ie),dt=ye-(Tt+(ze=ye-Tt))+(ze-Ie),Pe===0&&Ke===0&&at===0&&dt===0)||(tr=d*de+r*Math.abs(Rt),(Rt+=vt*dt+Tt*Pe-(Zt*at+At*Ke))>=tr||-Rt>=tr))return Rt;ze=(Fe=(It=Pe-(_t=(ct=134217729*Pe)-(ct-Pe)))*(pt=Tt-(Ye=(ct=134217729*Tt)-(ct-Tt)))-((He=Pe*Tt)-_t*Ye-It*Ye-_t*pt))-(ot=Fe-(st=(It=Ke-(_t=(ct=134217729*Ke)-(ct-Ke)))*(pt=At-(Ye=(ct=134217729*At)-(ct-At)))-((lt=Ke*At)-_t*Ye-It*Ye-_t*pt))),A[0]=Fe-(ot+ze)+(ze-st),ze=(Oe=He-((Ve=He+ot)-(ze=Ve-He))+(ot-ze))-(ot=Oe-lt),A[1]=Oe-(ot+ze)+(ze-lt),ze=(yt=Ve+ot)-Ve,A[2]=Ve-(yt-ze)+(ot-ze),A[3]=yt;let Sr=n(4,g,4,A,_);ze=(Fe=(It=vt-(_t=(ct=134217729*vt)-(ct-vt)))*(pt=dt-(Ye=(ct=134217729*dt)-(ct-dt)))-((He=vt*dt)-_t*Ye-It*Ye-_t*pt))-(ot=Fe-(st=(It=Zt-(_t=(ct=134217729*Zt)-(ct-Zt)))*(pt=at-(Ye=(ct=134217729*at)-(ct-at)))-((lt=Zt*at)-_t*Ye-It*Ye-_t*pt))),A[0]=Fe-(ot+ze)+(ze-st),ze=(Oe=He-((Ve=He+ot)-(ze=Ve-He))+(ot-ze))-(ot=Oe-lt),A[1]=Oe-(ot+ze)+(ze-lt),ze=(yt=Ve+ot)-Ve,A[2]=Ve-(yt-ze)+(ot-ze),A[3]=yt;let kr=n(Sr,_,4,A,E);ze=(Fe=(It=Pe-(_t=(ct=134217729*Pe)-(ct-Pe)))*(pt=dt-(Ye=(ct=134217729*dt)-(ct-dt)))-((He=Pe*dt)-_t*Ye-It*Ye-_t*pt))-(ot=Fe-(st=(It=Ke-(_t=(ct=134217729*Ke)-(ct-Ke)))*(pt=at-(Ye=(ct=134217729*at)-(ct-at)))-((lt=Ke*at)-_t*Ye-It*Ye-_t*pt))),A[0]=Fe-(ot+ze)+(ze-st),ze=(Oe=He-((Ve=He+ot)-(ze=Ve-He))+(ot-ze))-(ot=Oe-lt),A[1]=Oe-(ot+ze)+(ze-lt),ze=(yt=Ve+ot)-Ve,A[2]=Ve-(yt-ze)+(ot-ze),A[3]=yt;let pr=n(kr,E,4,A,T);return T[pr-1]}(L,z,U,N,R,j,ie)},e.orient2dfast=function(L,z,U,N,R,j){return(z-j)*(U-R)-(L-R)*(N-j)},Object.defineProperty(e,"__esModule",{value:!0})})});var cUe=P((rDn,uQ)=>{"use strict";p();var oUe=ZBe(),JN=YBe(),sgr=rUe(),lgr=iUe().orient2d;JN.default&&(JN=JN.default);uQ.exports=uUe;uQ.exports.default=uUe;function uUe(e,t,r){t=Math.max(0,t===void 0?2:t),r=r||0;var n=dgr(e),i=new oUe(16);i.toBBox=function(j){return{minX:j[0],minY:j[1],maxX:j[0],maxY:j[1]}},i.compareMinX=function(j,H){return j[0]-H[0]},i.compareMinY=function(j,H){return j[1]-H[1]},i.load(e);for(var o=[],l=0,d;l<n.length;l++){var g=n[l];i.remove(g),d=lUe(g,d),o.push(d)}var _=new oUe(16);for(l=0;l<o.length;l++)_.insert(aQ(o[l]));for(var E=t*t,T=r*r;o.length;){var A=o.shift(),L=A.p,z=A.next.p,U=sQ(L,z);if(!(U<T)){var N=U/E;g=ugr(i,A.prev.p,L,z,A.next.next.p,N,_),g&&Math.min(sQ(g,L),sQ(g,z))<=N&&(o.push(A),o.push(lUe(g,A)),i.remove(g),_.remove(A),_.insert(aQ(A)),_.insert(aQ(A.next)))}}A=d;var R=[];do R.push(A.p),A=A.next;while(A!==d);return R.push(A.p),R}function ugr(e,t,r,n,i,o,l){for(var d=new JN([],cgr),g=e.data;g;){for(var _=0;_<g.children.length;_++){var E=g.children[_],T=g.leaf?lQ(E,r,n):pgr(r,n,E);T>o||d.push({node:E,dist:T})}for(;d.length&&!d.peek().node.children;){var A=d.pop(),L=A.node,z=lQ(L,t,r),U=lQ(L,n,i);if(A.dist<z&&A.dist<U&&sUe(r,L,l)&&sUe(n,L,l))return L}g=d.pop(),g&&(g=g.node)}return null}function cgr(e,t){return e.dist-t.dist}function pgr(e,t,r){if(aUe(e,r)||aUe(t,r))return 0;var n=QN(e[0],e[1],t[0],t[1],r.minX,r.minY,r.maxX,r.minY);if(n===0)return 0;var i=QN(e[0],e[1],t[0],t[1],r.minX,r.minY,r.minX,r.maxY);if(i===0)return 0;var o=QN(e[0],e[1],t[0],t[1],r.maxX,r.minY,r.maxX,r.maxY);if(o===0)return 0;var l=QN(e[0],e[1],t[0],t[1],r.minX,r.maxY,r.maxX,r.maxY);return l===0?0:Math.min(n,i,o,l)}function aUe(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function sUe(e,t,r){for(var n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),o=Math.max(e[0],t[0]),l=Math.max(e[1],t[1]),d=r.search({minX:n,minY:i,maxX:o,maxY:l}),g=0;g<d.length;g++)if(fgr(d[g].p,d[g].next.p,e,t))return!1;return!0}function ab(e,t,r){return lgr(e[0],e[1],t[0],t[1],r[0],r[1])}function fgr(e,t,r,n){return e!==n&&t!==r&&ab(e,t,r)>0!=ab(e,t,n)>0&&ab(r,n,e)>0!=ab(r,n,t)>0}function aQ(e){var t=e.p,r=e.next.p;return e.minX=Math.min(t[0],r[0]),e.minY=Math.min(t[1],r[1]),e.maxX=Math.max(t[0],r[0]),e.maxY=Math.max(t[1],r[1]),e}function dgr(e){for(var t=e[0],r=e[0],n=e[0],i=e[0],o=0;o<e.length;o++){var l=e[o];l[0]<t[0]&&(t=l),l[0]>n[0]&&(n=l),l[1]<r[1]&&(r=l),l[1]>i[1]&&(i=l)}var d=[t,r,n,i],g=d.slice();for(o=0;o<e.length;o++)sgr(e[o],d)||g.push(e[o]);return mgr(g)}function lUe(e,t){var r={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function sQ(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function lQ(e,t,r){var n=t[0],i=t[1],o=r[0]-n,l=r[1]-i;if(o!==0||l!==0){var d=((e[0]-n)*o+(e[1]-i)*l)/(o*o+l*l);d>1?(n=r[0],i=r[1]):d>0&&(n+=o*d,i+=l*d)}return o=e[0]-n,l=e[1]-i,o*o+l*l}function QN(e,t,r,n,i,o,l,d){var g=r-e,_=n-t,E=l-i,T=d-o,A=e-i,L=t-o,z=g*g+_*_,U=g*E+_*T,N=E*E+T*T,R=g*A+_*L,j=E*A+T*L,H=z*N-U*U,Y,re,ie,le,Me=H,we=H;H===0?(re=0,Me=1,le=j,we=N):(re=U*j-N*R,le=z*j-U*R,re<0?(re=0,le=j,we=N):re>Me&&(re=Me,le=j+U,we=N)),le<0?(le=0,-R<0?re=0:-R>z?re=Me:(re=-R,Me=z)):le>we&&(le=we,-R+U<0?re=0:-R+U>z?re=Me:(re=-R+U,Me=z)),Y=re===0?0:re/Me,ie=le===0?0:le/we;var ye=(1-Y)*e+Y*r,xe=(1-Y)*t+Y*n,Ie=(1-ie)*i+ie*l,de=(1-ie)*o+ie*d,Pe=Ie-ye,Ke=de-xe;return Pe*Pe+Ke*Ke}function hgr(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}function mgr(e){e.sort(hgr);for(var t=[],r=0;r<e.length;r++){for(;t.length>=2&&ab(t[t.length-2],t[t.length-1],e[r])<=0;)t.pop();t.push(e[r])}for(var n=[],i=e.length-1;i>=0;i--){for(;n.length>=2&&ab(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}return n.pop(),t.pop(),t.concat(n)}});var XUe=P(oi=>{"use strict";p();var CQ=Symbol.for("react.element"),AQ=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),hR=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),Ogr=Symbol.for("react.server_context"),vR=Symbol.for("react.forward_ref"),yR=Symbol.for("react.suspense"),_R=Symbol.for("react.suspense_list"),bR=Symbol.for("react.memo"),xR=Symbol.for("react.lazy"),kgr=Symbol.for("react.offscreen"),KUe;KUe=Symbol.for("react.module.reference");function Pu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CQ:switch(e=e.type,e){case fR:case hR:case dR:case yR:case _R:return e;default:switch(e=e&&e.$$typeof,e){case Ogr:case gR:case vR:case xR:case bR:case mR:return e;default:return t}}case AQ:return t}}}oi.ContextConsumer=gR;oi.ContextProvider=mR;oi.Element=CQ;oi.ForwardRef=vR;oi.Fragment=fR;oi.Lazy=xR;oi.Memo=bR;oi.Portal=AQ;oi.Profiler=hR;oi.StrictMode=dR;oi.Suspense=yR;oi.SuspenseList=_R;oi.isAsyncMode=function(){return!1};oi.isConcurrentMode=function(){return!1};oi.isContextConsumer=function(e){return Pu(e)===gR};oi.isContextProvider=function(e){return Pu(e)===mR};oi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CQ};oi.isForwardRef=function(e){return Pu(e)===vR};oi.isFragment=function(e){return Pu(e)===fR};oi.isLazy=function(e){return Pu(e)===xR};oi.isMemo=function(e){return Pu(e)===bR};oi.isPortal=function(e){return Pu(e)===AQ};oi.isProfiler=function(e){return Pu(e)===hR};oi.isStrictMode=function(e){return Pu(e)===dR};oi.isSuspense=function(e){return Pu(e)===yR};oi.isSuspenseList=function(e){return Pu(e)===_R};oi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fR||e===hR||e===dR||e===yR||e===_R||e===kgr||typeof e=="object"&&e!==null&&(e.$$typeof===xR||e.$$typeof===bR||e.$$typeof===mR||e.$$typeof===gR||e.$$typeof===vR||e.$$typeof===KUe||e.getModuleId!==void 0)};oi.typeOf=Pu});var JUe=P((MLn,QUe)=>{"use strict";p();QUe.exports=XUe()});var Q$e=P(mi=>{"use strict";p();var nL=60103,iL=60106,lT=60107,uT=60108,cT=60114,pT=60109,fT=60110,dT=60112,hT=60113,gJ=60120,mT=60115,gT=60116,W$e=60121,Z$e=60122,Y$e=60117,K$e=60129,X$e=60131;typeof Symbol=="function"&&Symbol.for&&(ia=Symbol.for,nL=ia("react.element"),iL=ia("react.portal"),lT=ia("react.fragment"),uT=ia("react.strict_mode"),cT=ia("react.profiler"),pT=ia("react.provider"),fT=ia("react.context"),dT=ia("react.forward_ref"),hT=ia("react.suspense"),gJ=ia("react.suspense_list"),mT=ia("react.memo"),gT=ia("react.lazy"),W$e=ia("react.block"),Z$e=ia("react.server.block"),Y$e=ia("react.fundamental"),K$e=ia("react.debug_trace_mode"),X$e=ia("react.legacy_hidden"));var ia;function Rc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nL:switch(e=e.type,e){case lT:case cT:case uT:case hT:case gJ:return e;default:switch(e=e&&e.$$typeof,e){case fT:case dT:case gT:case mT:case pT:return e;default:return t}}case iL:return t}}}var nyr=pT,iyr=nL,oyr=dT,ayr=lT,syr=gT,lyr=mT,uyr=iL,cyr=cT,pyr=uT,fyr=hT;mi.ContextConsumer=fT;mi.ContextProvider=nyr;mi.Element=iyr;mi.ForwardRef=oyr;mi.Fragment=ayr;mi.Lazy=syr;mi.Memo=lyr;mi.Portal=uyr;mi.Profiler=cyr;mi.StrictMode=pyr;mi.Suspense=fyr;mi.isAsyncMode=function(){return!1};mi.isConcurrentMode=function(){return!1};mi.isContextConsumer=function(e){return Rc(e)===fT};mi.isContextProvider=function(e){return Rc(e)===pT};mi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nL};mi.isForwardRef=function(e){return Rc(e)===dT};mi.isFragment=function(e){return Rc(e)===lT};mi.isLazy=function(e){return Rc(e)===gT};mi.isMemo=function(e){return Rc(e)===mT};mi.isPortal=function(e){return Rc(e)===iL};mi.isProfiler=function(e){return Rc(e)===cT};mi.isStrictMode=function(e){return Rc(e)===uT};mi.isSuspense=function(e){return Rc(e)===hT};mi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lT||e===cT||e===K$e||e===uT||e===hT||e===gJ||e===X$e||typeof e=="object"&&e!==null&&(e.$$typeof===gT||e.$$typeof===mT||e.$$typeof===pT||e.$$typeof===fT||e.$$typeof===dT||e.$$typeof===Y$e||e.$$typeof===W$e||e[0]===Z$e)};mi.typeOf=Rc});var eGe=P((ljn,J$e)=>{"use strict";p();J$e.exports=Q$e()});var MHe=P((YUn,THe)=>{"use strict";p();THe.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var l=o[i];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}});var u0r={};Wte(u0r,{SettingsProvider:()=>s0r,renderMosaicMapApp:()=>l0r});p();var FHe=se(tt(),1),BHe=se(Ki(),1),E$n=se(FPe(),1);p();var Ns=se(tt(),1);p();var Ka=se(tt()),iOe=se(Ki());function _Zt(e){return!!e&&typeof e.then=="function"}var lo=_Zt;function bZt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Jn=bZt,R4=class{},xZt=new R4,CH={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return lo(r)?U1(r.then(n=>({__value:n}))):AH(r)}catch(r){return lo(r)?U1(r.next(()=>e(this.contents))):PH(r)}if(this.state==="loading")return U1(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(lo(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function AH(e){return Object.freeze(nr(je({state:"hasValue",contents:e},CH),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function PH(e){return Object.freeze(nr(je({state:"hasError",contents:e},CH),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function U1(e){return Object.freeze(nr(je({state:"loading",contents:e},CH),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function wZt(){return U1(new Promise(()=>{}))}function SZt(e){return e.every(t=>t.state==="hasValue")?AH(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?PH(Jn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):U1(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var QS={loadableWithValue:AH,loadableWithError:PH,loadableWithPromise:U1,loadableLoading:wZt,loadableAll:SZt,Canceled:R4,CANCELED:xZt},lH,oOe=(lH=Ka.default.useMutableSource)!==null&&lH!==void 0?lH:Ka.default.unstable_useMutableSource;function EZt(){return oOe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var aOe={mutableSourceExists:EZt,useMutableSource:oOe},{mutableSourceExists:IZt}=aOe,OH=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function kH(e){var t;return e==="recoil_early_rendering_2021"&&!IZt()?!1:(t=OH.get(e))!==null&&t!==void 0?t:!1}kH.setPass=e=>{OH.set(e,!0)};kH.setFail=e=>{OH.set(e,!1)};var pi=kH;function TZt(e,t,{error:r}={}){return null}var MZt=TZt,bp=MZt;function CZt(e,t){let r=new Set(e);return r.add(t),r}function AZt(e,t){let r=new Set(e);return r.delete(t),r}function PZt(e,t,r){let n=new Map(e);return n.set(t,r),n}function OZt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function kZt(e,t){let r=new Map(e);return r.delete(t),r}function DZt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var sOe={setByAddingToSet:CZt,setByDeletingFromSet:AZt,mapBySettingInMap:PZt,mapByUpdatingInMap:OZt,mapByDeletingFromMap:kZt,mapByDeletingMultipleFromMap:DZt};function*NZt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var lOe=NZt;function RZt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var uOe=RZt;function LZt(e,...t){}var qZt=LZt,DH=qZt;function Nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YS=class{constructor(t){Nn(this,"key",void 0),this.key=t}},L4=class extends YS{},q4=class extends YS{};function zZt(e){return e instanceof L4||e instanceof q4}var Z4={AbstractRecoilValue:YS,RecoilState:L4,RecoilValueReadOnly:q4,isRecoilValue:zZt},jZt=Z4.AbstractRecoilValue,FZt=Z4.RecoilState,BZt=Z4.RecoilValueReadOnly,UZt=Z4.isRecoilValue,Qh=Object.freeze({__proto__:null,AbstractRecoilValue:jZt,RecoilState:FZt,RecoilValueReadOnly:BZt,isRecoilValue:UZt}),z4=class{},VZt=new z4,fH=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},sv=new Map,NH=new Map;function $Zt(e){return uOe(e,t=>Jn(NH.get(t)))}function GZt(e){if(sv.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}sv.set(e.key,e);let t=e.set==null?new Qh.RecoilValueReadOnly(e.key):new Qh.RecoilState(e.key);return NH.set(e.key,t),t}var j4=class extends Error{};function HZt(e){let t=sv.get(e);if(t==null)throw new j4(`Missing definition for RecoilValue: "${e}""`);return t}function WZt(e){return sv.get(e)}var F4=new Map;function ZZt(e){var t;if(!pi("recoil_memory_managament_2020"))return;let r=sv.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;sv.delete(e),(n=cOe(e))===null||n===void 0||n(),F4.delete(e)}}function YZt(e,t){pi("recoil_memory_managament_2020")&&(t===void 0?F4.delete(e):F4.set(e,t))}function cOe(e){return F4.get(e)}var _u={nodes:sv,recoilValues:NH,registerNode:GZt,getNode:HZt,getNodeMaybe:WZt,deleteNodeConfigIfPossible:ZZt,setConfigDeletionHandler:YZt,getConfigDeletionHandler:cOe,recoilValuesForKeys:$Zt,NodeMissingError:j4,DefaultValue:z4,DEFAULT_VALUE:VZt,RecoilValueNotReady:fH},B4=class{};function KZt(){return new B4}var Y4={RetentionZone:B4,retentionZone:KZt},{setByAddingToSet:XZt}=sOe,{getNode:K4,getNodeMaybe:QZt,recoilValuesForKeys:BPe}=_u,{RetentionZone:UPe}=Y4,JZt=Object.freeze(new Set),dH=class extends Error{};function eYt(e,t,r){if(!pi("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let l=n.get(o);l||n.set(o,l=new Set),l.add(t)}if(r instanceof UPe)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!pi("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function l(d){let g=o.get(d);g&&g.delete(t),g&&g.size===0&&o.delete(d)}if(r instanceof UPe)l(r);else if(Array.isArray(r))for(let d of r)l(d)}}function RH(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=K4(r),l=eYt(e,r,o.retainedBy),d=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{d(),l()})}function tYt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function rYt(e,t,r){return RH(e,t,r,"get"),K4(r).get(e,t)}function pOe(e,t,r){return K4(r).peek(e,t)}function nYt(e,t,r){var n;let i=QZt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),nr(je({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:XZt(e.dirtyAtoms,t)})}function iYt(e,t,r,n){let i=K4(r);if(i.set==null)throw new dH(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return RH(e,t,r,"set"),o(e,t,n)}function oYt(e,t,r){var n,i,o;let l=e.getState(),d=e.getGraph(t.version),g=l.knownAtoms.has(r)?"atom":l.knownSelectors.has(r)?"selector":void 0,_=lOe(fOe(e,t,new Set([r])),E=>E!==r);return{loadable:pOe(e,t,r),isActive:l.knownAtoms.has(r)||l.knownSelectors.has(r),isSet:g==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:g,deps:BPe((n=d.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:BPe(_),components:uOe((i=(o=l.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([E])=>({name:E}))}}}function fOe(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let d=i.pop();d;d=i.pop()){var l;n.add(d);let g=(l=o.nodeToNodeSubscriptions.get(d))!==null&&l!==void 0?l:JZt;for(let _ of g)n.has(_)||i.push(_)}return n}var H1={getNodeLoadable:rYt,peekNodeLoadable:pOe,setNodeValue:iYt,cleanUpNode:tYt,setUnvalidatedAtomValue_DEPRECATED:nYt,peekNodeInfo:oYt,getDownstreamNodes:fOe,initializeNodeIfNewToStore:RH},{CANCELED:aYt}=QS,{getDownstreamNodes:sYt,getNodeLoadable:dOe,setNodeValue:lYt}=H1,{getNodeMaybe:hOe}=_u,{DefaultValue:LH,RecoilValueNotReady:uYt}=_u,{AbstractRecoilValue:cYt,RecoilState:pYt,RecoilValueReadOnly:fYt,isRecoilValue:dYt}=Qh;function hYt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||bp("Tried to read from a discarded tree");let l=dOe(e,r,t);return l.state==="loading"&&l.contents.catch(()=>aYt),l}function mYt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof LH?r.delete(i):r.set(i,n)}),r}function gYt(e,t,{key:r},n){if(typeof n=="function"){let i=dOe(e,t,r);if(i.state==="loading")throw new uYt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function vYt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,l=gYt(e,t,i,o),d=lYt(e,t,i.key,l);for(let[g,_]of d.entries())hH(t,g,_)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;hH(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,l=hOe(i);l==null||(n=l.invalidate)===null||n===void 0||n.call(l,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else bp(`Unknown action ${r.type}`)}function hH(e,t,r){r.state==="hasValue"&&r.contents instanceof LH?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function mOe(e,t){e.replaceState(r=>{let n=gOe(r);for(let i of t)vYt(e,n,i);return mH(e,n),n})}function X4(e,t){if(WS.length){let r=WS[WS.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else mOe(e,[t])}var WS=[];function yYt(){let e=new Map;return WS.push(e),()=>{for(let[r,n]of e)mOe(r,n);WS.pop()!==e&&bp("Incorrect order of batch popping")}}function gOe(e){return nr(je({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function mH(e,t){let r=sYt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=hOe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function vOe(e,t,r){X4(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function _Yt(e,t,r){if(r instanceof LH)return vOe(e,t,r);X4(e,{type:"setLoadable",recoilValue:t,loadable:r})}function bYt(e,t){X4(e,{type:"markModified",recoilValue:t})}function xYt(e,t,r){X4(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var wYt=0;function SYt(e,{key:t},r,n=null){let i=wYt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Jn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),pi("recoil_early_rendering_2021")){let l=e.getState().nextTree;l&&l.dirtyAtoms.has(t)&&r(l)}return{release:()=>{let l=e.getState(),d=l.nodeToComponentSubscriptions.get(t);if(d===void 0||!d.has(i)){bp(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}d.delete(i),d.size===0&&l.nodeToComponentSubscriptions.delete(t)}}}var lv={RecoilValueReadOnly:fYt,AbstractRecoilValue:cYt,RecoilState:pYt,getRecoilValueAsLoadable:hYt,setRecoilValue:vOe,setRecoilValueLoadable:_Yt,markRecoilValueModified:bYt,setUnvalidatedRecoilValue:xYt,subscribeToRecoilValue:SYt,isRecoilValue:dYt,applyAtomValueWrites:mYt,batchStart:yYt,writeLoadableToTreeState:hH,invalidateDownstreams:mH,copyTreeState:gOe,invalidateDownstreams_FOR_TESTING:mH},{unstable_batchedUpdates:EYt}=iOe.default,IYt={unstable_batchedUpdates:EYt},{unstable_batchedUpdates:TYt}=IYt,MYt={unstable_batchedUpdates:TYt},{batchStart:CYt}=lv,{unstable_batchedUpdates:AYt}=MYt,qH=AYt,PYt=e=>{qH=e},OYt=()=>qH,kYt=e=>{qH(()=>{let t=()=>{};try{t=CYt(),e()}finally{t()}})},zH={getBatcher:OYt,setBatcher:PYt,batchUpdates:kYt};function DYt(e,t){t()}var NYt={enqueueExecution:DYt};function RYt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var U4=RYt;function LYt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var V4=LYt;function qYt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function zYt(e){return{nodeDeps:V4(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:V4(e.nodeToNodeSubscriptions,t=>new Set(t))}}function uH(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,l)=>{let d=n.get(l);if(d&&r&&d!==r.nodeDeps.get(l))return;n.set(l,new Set(o)),(d==null?o:U4(o,d)).forEach(_=>{i.has(_)||i.set(_,new Set),Jn(i.get(_)).add(l)}),d&&U4(d,o).forEach(E=>{if(!i.has(E))return;let T=Jn(i.get(E));T.delete(l),T.size===0&&i.delete(E)})})}function jYt(e,t,r){var n,i,o,l;let d=t.getState();r===d.currentTree.version||r===((n=d.nextTree)===null||n===void 0?void 0:n.version)||r===((i=d.previousTree)===null||i===void 0?void 0:i.version)||bp("Tried to save dependencies to a discarded tree");let g=t.getGraph(r);if(uH(e,g),r===((o=d.previousTree)===null||o===void 0?void 0:o.version)){let E=t.getGraph(d.currentTree.version);uH(e,E,g)}if(r===((l=d.previousTree)===null||l===void 0?void 0:l.version)||r===d.currentTree.version){var _;let E=(_=d.nextTree)===null||_===void 0?void 0:_.version;if(E!==void 0){let T=t.getGraph(E);uH(e,T,g)}}}function FYt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Jn(t.get(n));r.forEach(o=>i.add(o))})}function BYt(e,t,r){r.has(e)||r.set(e,new Set),Jn(r.get(e)).add(t)}var JS={addToDependencyMap:BYt,cloneGraph:zYt,graph:qYt,mergeDepsIntoDependencyMap:FYt,saveDependencyMapToStore:jYt};function UYt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var VYt=UYt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},r={},n=5,i=Math.pow(2,n),o=i-1,l=i/2,d=i/4,g={},_=function(ve){return function(){return ve}},E=r.hash=function(he){var ve=typeof he=="undefined"?"undefined":t(he);if(ve==="number")return he;ve!=="string"&&(he+="");for(var qe=0,ft=0,Se=he.length;ft<Se;++ft){var wt=he.charCodeAt(ft);qe=(qe<<5)-qe+wt|0}return qe},T=function(ve){return ve-=ve>>1&1431655765,ve=(ve&858993459)+(ve>>2&858993459),ve=ve+(ve>>4)&252645135,ve+=ve>>8,ve+=ve>>16,ve&127},A=function(ve,qe){return qe>>>ve&o},L=function(ve){return 1<<ve},z=function(ve,qe){return T(ve&qe-1)},U=function(ve,qe,ft,Se){var wt=Se;if(!ve){var Gt=Se.length;wt=new Array(Gt);for(var Et=0;Et<Gt;++Et)wt[Et]=Se[Et]}return wt[qe]=ft,wt},N=function(ve,qe,ft){var Se=ft.length-1,wt=0,Gt=0,Et=ft;if(ve)wt=Gt=qe;else for(Et=new Array(Se);wt<qe;)Et[Gt++]=ft[wt++];for(++wt;wt<=Se;)Et[Gt++]=ft[wt++];return ve&&(Et.length=Se),Et},R=function(ve,qe,ft,Se){var wt=Se.length;if(ve){for(var Gt=wt;Gt>=qe;)Se[Gt--]=Se[Gt];return Se[qe]=ft,Se}for(var Et=0,Lt=0,ur=new Array(wt+1);Et<qe;)ur[Lt++]=Se[Et++];for(ur[qe]=ft;Et<wt;)ur[++Lt]=Se[Et++];return ur},j=1,H=2,Y=3,re=4,ie={__hamt_isEmpty:!0},le=function(ve){return ve===ie||ve&&ve.__hamt_isEmpty},Me=function(ve,qe,ft,Se){return{type:j,edit:ve,hash:qe,key:ft,value:Se,_modify:ze}},we=function(ve,qe,ft){return{type:H,edit:ve,hash:qe,children:ft,_modify:ct}},ye=function(ve,qe,ft){return{type:Y,edit:ve,mask:qe,children:ft,_modify:_t}},xe=function(ve,qe,ft){return{type:re,edit:ve,size:qe,children:ft,_modify:It}},Ie=function(ve){return ve===ie||ve.type===j||ve.type===H},de=function(ve,qe,ft,Se,wt){for(var Gt=[],Et=Se,Lt=0,ur=0;Et;++ur)Et&1&&(Gt[ur]=wt[Lt++]),Et>>>=1;return Gt[qe]=ft,xe(ve,Lt+1,Gt)},Pe=function(ve,qe,ft,Se){for(var wt=new Array(qe-1),Gt=0,Et=0,Lt=0,ur=Se.length;Lt<ur;++Lt)if(Lt!==ft){var Wr=Se[Lt];Wr&&!le(Wr)&&(wt[Gt++]=Wr,Et|=1<<Lt)}return ye(ve,Et,wt)},Ke=function he(ve,qe,ft,Se,wt,Gt){if(ft===wt)return we(ve,ft,[Gt,Se]);var Et=A(qe,ft),Lt=A(qe,wt);return ye(ve,L(Et)|L(Lt),Et===Lt?[he(ve,qe+n,ft,Se,wt,Gt)]:Et<Lt?[Se,Gt]:[Gt,Se])},at=function(ve,qe,ft,Se,wt,Gt,Et,Lt){for(var ur=wt.length,Wr=0;Wr<ur;++Wr){var In=wt[Wr];if(ft(Et,In.key)){var un=In.value,Pr=Gt(un);return Pr===un?wt:Pr===g?(--Lt.value,N(ve,Wr,wt)):U(ve,Wr,Me(qe,Se,Et,Pr),wt)}}var qr=Gt();return qr===g?wt:(++Lt.value,U(ve,ur,Me(qe,Se,Et,qr),wt))},dt=function(ve,qe){return ve===qe.edit},ze=function(ve,qe,ft,Se,wt,Gt,Et){if(qe(Gt,this.key)){var Lt=Se(this.value);return Lt===this.value?this:Lt===g?(--Et.value,ie):dt(ve,this)?(this.value=Lt,this):Me(ve,wt,Gt,Lt)}var ur=Se();return ur===g?this:(++Et.value,Ke(ve,ft,this.hash,this,wt,Me(ve,wt,Gt,ur)))},ct=function(ve,qe,ft,Se,wt,Gt,Et){if(wt===this.hash){var Lt=dt(ve,this),ur=at(Lt,ve,qe,this.hash,this.children,Se,Gt,Et);return ur===this.children?this:ur.length>1?we(ve,this.hash,ur):ur[0]}var Wr=Se();return Wr===g?this:(++Et.value,Ke(ve,ft,this.hash,this,wt,Me(ve,wt,Gt,Wr)))},_t=function(ve,qe,ft,Se,wt,Gt,Et){var Lt=this.mask,ur=this.children,Wr=A(ft,wt),In=L(Wr),un=z(Lt,In),Pr=Lt&In,qr=Pr?ur[un]:ie,ei=qr._modify(ve,qe,ft+n,Se,wt,Gt,Et);if(qr===ei)return this;var Mt=dt(ve,this),Oi=Lt,$n=void 0;if(Pr&&le(ei)){if(Oi&=~In,!Oi)return ie;if(ur.length<=2&&Ie(ur[un^1]))return ur[un^1];$n=N(Mt,un,ur)}else if(!Pr&&!le(ei)){if(ur.length>=l)return de(ve,Wr,ei,Lt,ur);Oi|=In,$n=R(Mt,un,ei,ur)}else $n=U(Mt,un,ei,ur);return Mt?(this.mask=Oi,this.children=$n,this):ye(ve,Oi,$n)},It=function(ve,qe,ft,Se,wt,Gt,Et){var Lt=this.size,ur=this.children,Wr=A(ft,wt),In=ur[Wr],un=(In||ie)._modify(ve,qe,ft+n,Se,wt,Gt,Et);if(In===un)return this;var Pr=dt(ve,this),qr=void 0;if(le(In)&&!le(un))++Lt,qr=U(Pr,Wr,un,ur);else if(!le(In)&&le(un)){if(--Lt,Lt<=d)return Pe(ve,Lt,Wr,ur);qr=U(Pr,Wr,ie,ur)}else qr=U(Pr,Wr,un,ur);return Pr?(this.size=Lt,this.children=qr,this):xe(ve,Lt,qr)};ie._modify=function(he,ve,qe,ft,Se,wt,Gt){var Et=ft();return Et===g?ie:(++Gt.value,Me(he,Se,wt,Et))};function Ye(he,ve,qe,ft,Se){this._editable=he,this._edit=ve,this._config=qe,this._root=ft,this._size=Se}Ye.prototype.setTree=function(he,ve){return this._editable?(this._root=he,this._size=ve,this):he===this._root?this:new Ye(this._editable,this._edit,this._config,he,ve)};var pt=r.tryGetHash=function(he,ve,qe,ft){for(var Se=ft._root,wt=0,Gt=ft._config.keyEq;;)switch(Se.type){case j:return Gt(qe,Se.key)?Se.value:he;case H:{if(ve===Se.hash)for(var Et=Se.children,Lt=0,ur=Et.length;Lt<ur;++Lt){var Wr=Et[Lt];if(Gt(qe,Wr.key))return Wr.value}return he}case Y:{var In=A(wt,ve),un=L(In);if(Se.mask&un){Se=Se.children[z(Se.mask,un)],wt+=n;break}return he}case re:{if(Se=Se.children[A(wt,ve)],Se){wt+=n;break}return he}default:return he}};Ye.prototype.tryGetHash=function(he,ve,qe){return pt(he,ve,qe,this)};var ot=r.tryGet=function(he,ve,qe){return pt(he,qe._config.hash(ve),ve,qe)};Ye.prototype.tryGet=function(he,ve){return ot(he,ve,this)};var Ve=r.getHash=function(he,ve,qe){return pt(void 0,he,ve,qe)};Ye.prototype.getHash=function(he,ve){return Ve(he,ve,this)};var Oe=r.get=function(he,ve){return pt(void 0,ve._config.hash(he),he,ve)};Ye.prototype.get=function(he,ve){return ot(ve,he,this)};var He=r.has=function(he,ve,qe){return pt(g,he,ve,qe)!==g};Ye.prototype.hasHash=function(he,ve){return He(he,ve,this)};var Fe=r.has=function(he,ve){return He(ve._config.hash(he),he,ve)};Ye.prototype.has=function(he){return Fe(he,this)};var lt=function(ve,qe){return ve===qe};r.make=function(he){return new Ye(0,0,{keyEq:he&&he.keyEq||lt,hash:he&&he.hash||E},ie,0)},r.empty=r.make();var st=r.isEmpty=function(he){return he&&!!le(he._root)};Ye.prototype.isEmpty=function(){return st(this)};var yt=r.modifyHash=function(he,ve,qe,ft){var Se={value:ft._size},wt=ft._root._modify(ft._editable?ft._edit:NaN,ft._config.keyEq,0,he,ve,qe,Se);return ft.setTree(wt,Se.value)};Ye.prototype.modifyHash=function(he,ve,qe){return yt(qe,he,ve,this)};var vt=r.modify=function(he,ve,qe){return yt(he,qe._config.hash(ve),ve,qe)};Ye.prototype.modify=function(he,ve){return vt(ve,he,this)};var At=r.setHash=function(he,ve,qe,ft){return yt(_(qe),he,ve,ft)};Ye.prototype.setHash=function(he,ve,qe){return At(he,ve,qe,this)};var Zt=r.set=function(he,ve,qe){return At(qe._config.hash(he),he,ve,qe)};Ye.prototype.set=function(he,ve){return Zt(he,ve,this)};var Tt=_(g),Rt=r.removeHash=function(he,ve,qe){return yt(Tt,he,ve,qe)};Ye.prototype.removeHash=Ye.prototype.deleteHash=function(he,ve){return Rt(he,ve,this)};var tr=r.remove=function(he,ve){return Rt(ve._config.hash(he),he,ve)};Ye.prototype.remove=Ye.prototype.delete=function(he){return tr(he,this)};var Sr=r.beginMutation=function(he){return new Ye(he._editable+1,he._edit+1,he._config,he._root,he._size)};Ye.prototype.beginMutation=function(){return Sr(this)};var kr=r.endMutation=function(he){return he._editable=he._editable&&he._editable-1,he};Ye.prototype.endMutation=function(){return kr(this)};var pr=r.mutate=function(he,ve){var qe=Sr(ve);return he(qe),kr(qe)};Ye.prototype.mutate=function(he){return pr(he,this)};var Er=function(ve){return ve&&Ae(ve[0],ve[1],ve[2],ve[3],ve[4])},Ae=function(ve,qe,ft,Se,wt){for(;ft<ve;){var Gt=qe[ft++];if(Gt&&!le(Gt))return We(Gt,Se,[ve,qe,ft,Se,wt])}return Er(wt)},We=function(ve,qe,ft){switch(ve.type){case j:return{value:qe(ve),rest:ft};case H:case re:case Y:var Se=ve.children;return Ae(Se.length,Se,0,qe,ft);default:return Er(ft)}},Ze={done:!0};function Ct(he){this.v=he}Ct.prototype.next=function(){if(!this.v)return Ze;var he=this.v;return this.v=Er(he.rest),he},Ct.prototype[Symbol.iterator]=function(){return this};var zt=function(ve,qe){return new Ct(We(ve._root,qe))},me=function(ve){return[ve.key,ve.value]},X=r.entries=function(he){return zt(he,me)};Ye.prototype.entries=Ye.prototype[Symbol.iterator]=function(){return X(this)};var ee=function(ve){return ve.key},ae=r.keys=function(he){return zt(he,ee)};Ye.prototype.keys=function(){return ae(this)};var ge=function(ve){return ve.value},Ne=r.values=Ye.prototype.values=function(he){return zt(he,ge)};Ye.prototype.values=function(){return Ne(this)};var Be=r.fold=function(he,ve,qe){var ft=qe._root;if(ft.type===j)return he(ve,ft.value,ft.key);for(var Se=[ft.children],wt=void 0;wt=Se.pop();)for(var Gt=0,Et=wt.length;Gt<Et;){var Lt=wt[Gt++];Lt&&Lt.type&&(Lt.type===j?ve=he(ve,Lt.value,Lt.key):Se.push(Lt.children))}return ve};Ye.prototype.fold=function(he,ve){return Be(he,ve,this)};var Xe=r.forEach=function(he,ve){return Be(function(qe,ft,Se){return he(ft,Se,ve)},null,ve)};Ye.prototype.forEach=function(he){return Xe(he,this)};var Ue=r.count=function(he){return he._size};Ye.prototype.count=function(){return Ue(this)},Object.defineProperty(Ye.prototype,"size",{get:Ye.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),gH=class{constructor(t){Nn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return jH(this)}toMap(){return new Map(this._map)}},vH=class e{constructor(t){if(Nn(this,"_hamt",VYt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return jH(this)}toMap(){return new Map(this._hamt)}};function jH(e){return pi("recoil_hamt_2020")?new vH(e):new gH(e)}var $Yt={persistentMap:jH},GYt=$Yt.persistentMap,HYt=Object.freeze({__proto__:null,persistentMap:GYt}),{graph:WYt}=JS,{persistentMap:VPe}=HYt,ZYt=0,yOe=()=>ZYt++;function _Oe(){let e=yOe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:VPe(),nonvalidatedAtoms:VPe()}}function YYt(){let e=_Oe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,WYt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var bOe={makeEmptyTreeState:_Oe,makeEmptyStoreState:YYt,getNextTreeStateVersion:yOe};function KYt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var XYt=KYt;function QYt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var JYt=QYt,{cleanUpNode:eKt}=H1,{deleteNodeConfigIfPossible:tKt,getNode:xOe}=_u,{RetentionZone:wOe}=Y4,SOe=new Set;function EOe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){bp("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let l of t)if(l instanceof wOe)for(let d of oKt(r,l))i.add(d);else i.add(l);let o=rKt(e,i);for(let l of o)iKt(e,n,l)}function rKt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,l=new Set;return d(t),o;function d(g){let _=new Set,E=nKt(e,n,g,o,l);for(let z of E){var T;if(xOe(z).retainedBy==="recoilRoot"){l.add(z);continue}if(((T=r.retention.referenceCounts.get(z))!==null&&T!==void 0?T:0)>0){l.add(z);continue}if(IOe(z).some(N=>r.retention.referenceCounts.get(N))){l.add(z);continue}let U=i.nodeToNodeSubscriptions.get(z);if(U&&JYt(U,N=>l.has(N))){l.add(z);continue}o.add(z),_.add(z)}let A=new Set;for(let z of _)for(let U of(L=i.nodeDeps.get(z))!==null&&L!==void 0?L:SOe){var L;o.has(U)||A.add(U)}A.size&&d(A)}}function nKt(e,t,r,n,i){let o=e.getGraph(t.version),l=[],d=new Set;for(;r.size>0;)g(Jn(r.values().next().value));return l;function g(_){if(n.has(_)||i.has(_)){r.delete(_);return}if(d.has(_))return;let E=o.nodeToNodeSubscriptions.get(_);if(E)for(let T of E)g(T);d.add(_),r.delete(_),l.push(_)}}function iKt(e,t,r){if(!pi("recoil_memory_managament_2020"))return;eKt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=IOe(r);for(let g of i){var o;(o=n.retention.nodesRetainedByZone.get(g))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let l=n.graphsByVersion.get(t.version);if(l){let g=l.nodeDeps.get(r);if(g!==void 0){l.nodeDeps.delete(r);for(let _ of g){var d;(d=l.nodeToNodeSubscriptions.get(_))===null||d===void 0||d.delete(r)}}l.nodeToNodeSubscriptions.delete(r)}tKt(r)}function oKt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:SOe}function IOe(e){let t=xOe(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof wOe?[t]:t}function aKt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):EOe(e,new Set([t]))}function sKt(e,t,r){var n;if(!pi("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?TOe(e,t):i.set(t,o)}function TOe(e,t){if(!pi("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),aKt(e,t)}function lKt(e){if(!pi("recoil_memory_managament_2020"))return;let t=e.getState();EOe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function uKt(e){return e===void 0?"recoilRoot":e}var eE={updateRetainCount:sKt,updateRetainCountToZero:TOe,releaseScheduledRetainablesNow:lKt,retainedByOptionWithDefault:uKt};function*cKt(e){for(let t of e)for(let r of t)yield r}var pKt=cKt,fKt=typeof window=="undefined",dKt=typeof navigator!="undefined"&&navigator.product==="ReactNative",FH={isSSR:fKt,isReactNative:dKt},{isSSR:hKt}=FH,{batchUpdates:yH}=zH,{initializeNodeIfNewToStore:mKt,peekNodeInfo:gKt}=H1,{graph:vKt}=JS,{DEFAULT_VALUE:yKt,recoilValues:$Pe,recoilValuesForKeys:GPe}=_u,{AbstractRecoilValue:_Kt,getRecoilValueAsLoadable:bKt,setRecoilValue:HPe,setUnvalidatedRecoilValue:xKt}=lv,{updateRetainCount:N4}=eE,{getNextTreeStateVersion:wKt,makeEmptyStoreState:SKt}=bOe;var $1=class{constructor(t){Nn(this,"_store",void 0),Nn(this,"_refCount",0),Nn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),bKt(this._store,r))),Nn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Nn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return GPe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?$Pe.values():r.isInitialized===!0?GPe(pKt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):lOe($Pe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),Nn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),gKt(this._store,this._store.getState().currentTree,r))),Nn(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new KS(this,yH);return r(n),_H(n.getStore_INTERNAL())}),Nn(this,"asyncMap",r=>Ar(this,null,function*(){this.checkRefCount_INTERNAL();let n=new KS(this,yH);return yield r(n),_H(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Jn(n.get(r));let i=vKt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())mKt(this._store,t.currentTree,r,"get"),N4(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!pi("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){pi("recoil_memory_managament_2020")&&(hKt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){pi("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){pi("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function MOe(e,t,r=!1){let n=e.getState(),i=r?wKt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:je({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function EKt(e){let t=new $1(SKt());return e!=null?t.map(e):t}function _H(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Jn(r.previousTree);return new $1(MOe(e,n))}var KS=class extends $1{constructor(t,r){super(MOe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),Nn(this,"_batch",void 0),Nn(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{N4(o,n.key,1),HPe(this.getStore_INTERNAL(),n,i)})}),Nn(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{N4(i,n.key,1),HPe(this.getStore_INTERNAL(),n,yKt)})}),Nn(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();yH(()=>{for(let[o,l]of n.entries())N4(i,o,1),xKt(i,new _Kt(o),l)})}),this._batch=r}},Q4={Snapshot:$1,MutableSnapshot:KS,freshSnapshot:EKt,cloneSnapshot:_H},IKt=Q4.Snapshot,TKt=Q4.MutableSnapshot,MKt=Q4.freshSnapshot,CKt=Q4.cloneSnapshot,J4=Object.freeze({__proto__:null,Snapshot:IKt,MutableSnapshot:TKt,freshSnapshot:MKt,cloneSnapshot:CKt}),{getNextTreeStateVersion:AKt,makeEmptyStoreState:COe}=bOe,{cleanUpNode:PKt,getDownstreamNodes:OKt,setNodeValue:kKt,setUnvalidatedAtomValue_DEPRECATED:DKt}=H1,{graph:NKt}=JS,{cloneGraph:RKt}=JS,{applyAtomValueWrites:LKt}=lv,{releaseScheduledRetainablesNow:AOe}=eE,{freshSnapshot:qKt}=J4,{useCallback:zKt,useContext:POe,useEffect:bH,useMemo:jKt,useRef:cH,useState:FKt}=Ka.default;function BS(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var OOe=Object.freeze({getState:BS,replaceState:BS,getGraph:BS,subscribeToTransactions:BS,addTransactionMetadata:BS}),xH=!1;function WPe(e){if(xH)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){pi("recoil_memory_managament_2020")&&pi("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&AOe(e);let r=t.currentTree.version,n=AKt();t.nextTree=nr(je({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,RKt(Jn(t.graphsByVersion.get(r))))}}var kOe=Ka.default.createContext({current:OOe}),BH=()=>POe(kOe),DOe=Ka.default.createContext(null);function BKt(){let e=POe(DOe);return e==null&&DH("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function UH(e,t,r){let n=OKt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[l,[d,g]]of o)g(r)}}function NOe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[l,d]of o)d(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!pi("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(UH(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function UKt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,NOe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):bp("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,pi("recoil_memory_managament_2020")&&AOe(e.current)}finally{t.commitDepth--}}function VKt({setNotifyBatcherOfChange:e}){let t=BH(),[r,n]=FKt([]);return e(()=>n({})),bH(()=>{NYt.enqueueExecution("Batcher",()=>{UKt(t)})}),bH(()=>()=>{e(()=>{})},[e]),null}function $Kt(e,t){let r=COe();return t({set:(n,i)=>{let o=r.currentTree,l=kKt(e,o,n.key,i),d=new Set(l.keys()),g=o.nonvalidatedAtoms.clone();for(let _ of d)g.delete(_);r.currentTree=nr(je({},o),{dirtyAtoms:XYt(o.dirtyAtoms,d),atomValues:LKt(o.atomValues,l),nonvalidatedAtoms:g})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=DKt(r.currentTree,o,i)})}}),r}function GKt(e){return qKt().map(e).getStore_INTERNAL().getState()}var ZPe=0;function HKt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,l=N=>{let R=o.current.graphsByVersion;if(R.has(N))return Jn(R.get(N));let j=NKt();return R.set(N,j),j},d=(N,R)=>{if(R==null){let{transactionSubscriptions:j}=z.current.getState(),H=ZPe++;return j.set(H,N),{release:()=>{j.delete(H)}}}else{let{nodeTransactionSubscriptions:j}=z.current.getState();j.has(R)||j.set(R,new Map);let H=ZPe++;return Jn(j.get(R)).set(H,N),{release:()=>{let Y=j.get(R);Y&&(Y.delete(H),Y.size===0&&j.delete(R))}}}},g=N=>{WPe(z.current);for(let R of Object.keys(N))Jn(z.current.getState().nextTree).transactionMetadata[R]=N[R]},_=N=>{let R=z.current.getState();WPe(z.current);let j=Jn(R.nextTree),H;try{xH=!0,H=N(j)}finally{xH=!1}H!==j&&(R.nextTree=H,pi("recoil_early_rendering_2021")&&UH(L,R,H),Jn(E.current)())},E=cH(null),T=zKt(N=>{E.current=N},[E]),A=(i=Ka.default.createMutableSource)!==null&&i!==void 0?i:Ka.default.unstable_createMutableSource,L=r!=null?r:{getState:()=>o.current,replaceState:_,getGraph:l,subscribeToTransactions:d,addTransactionMetadata:g},z=cH(L);o=cH(e!=null?$Kt(L,e):t!=null?GKt(t):COe());let U=jKt(()=>A?A(o,()=>o.current.currentTree.version):null,[A,o]);return bH(()=>()=>{for(let N of z.current.getState().knownAtoms)PKt(z.current,N)},[]),Ka.default.createElement(kOe.Provider,{value:z},Ka.default.createElement(DOe.Provider,{value:U},Ka.default.createElement(VKt,{setNotifyBatcherOfChange:T}),n))}function WKt(e){let i=e,{override:t}=i,r=yn(i,["override"]),n=BH();return t===!1&&n.current!==OOe?e.children:Ka.default.createElement(HKt,r)}var eP={useStoreRef:BH,useRecoilMutableSource:BKt,RecoilRoot:WKt,notifyComponents_FOR_TESTING:UH,sendEndOfBatchNotifications_FOR_TESTING:NOe},{loadableWithValue:ZKt}=QS,{DEFAULT_VALUE:YKt,getNode:KKt}=_u,{copyTreeState:XKt,getRecoilValueAsLoadable:QKt,invalidateDownstreams:JKt,writeLoadableToTreeState:eXt}=lv;function YPe(e){return KKt(e.key).nodeType==="atom"}var wH=class{constructor(t,r){Nn(this,"_store",void 0),Nn(this,"_treeState",void 0),Nn(this,"_changes",void 0),Nn(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!YPe(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=QKt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),Nn(this,"set",(n,i)=>{if(!YPe(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),Nn(this,"reset",n=>{this.set(n,YKt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=XKt(this._treeState);for(let[r,n]of this._changes)eXt(t,r,ZKt(n));return JKt(this._store,t),t}};function tXt(e){return t=>{e.replaceState(r=>{let n=new wH(e,r);return t(n),n.newTreeState_INTERNAL()})}}var rXt={atomicUpdater:tXt},nXt=rXt.atomicUpdater,iXt=Object.freeze({__proto__:null,atomicUpdater:nXt});function oXt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var aXt=oXt;function sXt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var lXt=sXt;function uXt(e,t){if(!e)throw new Error(t)}var cXt=uXt,$4=cXt;function pXt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var fXt=pXt;function dXt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var hXt=dXt;var{useRef:mXt}=Ka.default;function gXt(){let e=mXt();if(0&&pi("recoil_infer_component_names"))var t;return"<component name not available>"}var VH=gXt,{atomicUpdater:ROe}=iXt,{batchUpdates:$H}=zH,{DEFAULT_VALUE:tP,getNode:LOe,nodes:vXt}=_u,{useRecoilMutableSource:yXt,useStoreRef:kl}=eP,{isRecoilValue:NKr}=Qh,{AbstractRecoilValue:GH,getRecoilValueAsLoadable:ZS,setRecoilValue:G1,setRecoilValueLoadable:_Xt,setUnvalidatedRecoilValue:bXt,subscribeToRecoilValue:HH}=lv,{updateRetainCount:US}=eE,{RetentionZone:xXt}=Y4,{Snapshot:RKr,cloneSnapshot:XS}=J4,{setByAddingToSet:wXt}=sOe,{isSSR:G4}=FH,{mutableSourceExists:SXt,useMutableSource:EXt}=aOe,{useCallback:uc,useEffect:Wf,useMemo:qOe,useRef:Xh,useState:WH}=Ka.default,zOe=12e4;function jOe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function IXt(){let e=kl(),[t,r]=WH([]),n=Xh(new Set);n.current=new Set;let i=Xh(new Set),o=Xh(new Map),l=uc(g=>{let _=o.current.get(g);_&&(_.release(),o.current.delete(g))},[o]),d=VH();return Wf(()=>{let g=e.current;function _(E,T){o.current.has(T)&&r([])}U4(n.current,i.current).forEach(E=>{if(o.current.has(E)){DH(`Double subscription to RecoilValue "${E}"`);return}let T=HH(g,new GH(E),L=>{_(L,E)},d);o.current.set(E,T),g.getState().nextTree?g.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{_(g.getState(),E)}):_(g.getState(),E)}),U4(i.current,n.current).forEach(E=>{l(E)}),i.current=n.current}),Wf(()=>{let g=o.current;return()=>g.forEach((_,E)=>l(E))},[l]),qOe(()=>{function g(z){return U=>{G1(e.current,z,U)}}function _(z){return()=>G1(e.current,z,tP)}function E(z){var U;n.current.has(z.key)||(n.current=wXt(n.current,z.key));let N=e.current.getState();return ZS(e.current,z,pi("recoil_early_rendering_2021")&&(U=N.nextTree)!==null&&U!==void 0?U:N.currentTree)}function T(z){let U=E(z);return jOe(U,z,e)}function A(z){return[T(z),g(z)]}function L(z){return[E(z),g(z)]}return{getRecoilValue:T,getRecoilValueLoadable:E,getRecoilState:A,getRecoilStateLoadable:L,getSetRecoilState:g,getResetRecoilState:_}},[n,e])}var TXt={current:0};function MXt(e){let t=kl(),r=uc(()=>{var _;let E=t.current,T=E.getState(),A=pi("recoil_early_rendering_2021")&&(_=T.nextTree)!==null&&_!==void 0?_:T.currentTree;return ZS(E,e,A)},[t,e]),n=uc(()=>r(),[r]),i=VH(),o=uc((_,E)=>{let T=t.current;return HH(T,e,()=>{if(!pi("recoil_suppress_rerender_in_callback"))return E();let L=r();g.current.is(L)||E(),g.current=L},i).release},[t,e,i,r]),l=yXt(),d=EXt(l,n,o),g=Xh(d);return Wf(()=>{g.current=d}),d}function CXt(e){let t=kl(),[r,n]=WH([]),i=VH();Wf(()=>{let d=t.current,g=d.getState(),_=HH(d,e,T=>{var A;if(!pi("recoil_suppress_rerender_in_callback"))return n([]);let L=ZS(d,e,d.getState().currentTree);!((A=l.current)===null||A===void 0)&&A.is(L)||n(L),l.current=L},i);if(g.nextTree)d.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l.current=null,n([])});else{var E;if(!pi("recoil_suppress_rerender_in_callback"))return n([]);let T=ZS(d,e,d.getState().currentTree);!((E=l.current)===null||E===void 0)&&E.is(T)||n(T),l.current=T}return _.release},[i,e,t]);let o=ZS(t.current,e),l=Xh(o);return Wf(()=>{l.current=o}),o}function ZH(e){return pi("recoil_memory_managament_2020")&&VOe(e),SXt()?MXt(e):CXt(e)}function FOe(e){let t=kl(),r=ZH(e);return jOe(r,e,t)}function YH(e){let t=kl();return uc(r=>{G1(t.current,e,r)},[t,e])}function AXt(e){let t=kl();return uc(()=>{G1(t.current,e,tP)},[t,e])}function PXt(e){return[FOe(e),YH(e)]}function OXt(e){return[ZH(e),YH(e)]}function rP(e){let t=kl();Wf(()=>t.current.subscribeToTransactions(e).release,[e,t])}function KPe(e){let t=e.atomValues.toMap(),r=V4(aXt(t,(n,i)=>{let l=LOe(i).persistence_UNSTABLE;return l!=null&&l.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return fXt(e.nonvalidatedAtoms.toMap(),r)}function kXt(e){rP(uc(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(bp("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=KPe(n),o=KPe(r),l=V4(vXt,g=>{var _,E,T,A;return{persistence_UNSTABLE:{type:(_=(E=g.persistence_UNSTABLE)===null||E===void 0?void 0:E.type)!==null&&_!==void 0?_:"none",backButton:(T=(A=g.persistence_UNSTABLE)===null||A===void 0?void 0:A.backButton)!==null&&T!==void 0?T:!1}}}),d=lXt(n.dirtyAtoms,g=>i.has(g)||o.has(g));e({atomValues:i,previousAtomValues:o,atomInfo:l,modifiedAtoms:d,transactionMetadata:je({},n.transactionMetadata)})},[e]))}function DXt(e){rP(uc(t=>{let r=XS(t,"current"),n=XS(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function BOe(e){let t=Xh();return Wf(()=>{t.current=e}),t.current}function NXt(){let e=kl(),[t,r]=WH(()=>XS(e.current)),n=BOe(t),i=Xh();return Wf(()=>(i.current&&!G4&&window.clearTimeout(i.current),t.retain()),[t]),rP(uc(o=>r(XS(o)),[])),n!==t&&!G4&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},zOe)),t}function UOe(){let e=kl();return uc(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;$H(()=>{let l=new Set;for(let _ of[i.atomValues.keys(),o.atomValues.keys()])for(let E of _){var d,g;((d=i.atomValues.get(E))===null||d===void 0?void 0:d.contents)!==((g=o.atomValues.get(E))===null||g===void 0?void 0:g.contents)&&LOe(E).shouldRestoreFromSnapshots&&l.add(E)}l.forEach(_=>{_Xt(e.current,new GH(_),o.atomValues.has(_)?Jn(o.atomValues.get(_)):tP)}),e.current.replaceState(_=>nr(je({},_),{stateID:t.getID_INTERNAL()}))})},[e])}function RXt(){let e=kl();return(t,r={})=>{$H(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>bXt(e.current,new GH(i),n))})}}var H4=class{},LXt=new H4;function qXt(e,t){let r=kl(),n=UOe();return uc((...i)=>{function o(E,T){G1(r.current,E,T)}function l(E){G1(r.current,E,tP)}let d=XS(r.current),g=ROe(r.current),_=LXt;return $H(()=>{let E="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(E);let T=e({set:o,reset:l,snapshot:d,gotoSnapshot:n,transact_UNSTABLE:g});if(typeof T!="function")throw new Error(E);_=T(...i)}),_ instanceof H4&&$4(!1),_},t!=null?[...t,r]:void 0)}function VOe(e){if(pi("recoil_memory_managament_2020"))return zXt(e)}function zXt(e){let r=(Array.isArray(e)?e:[e]).map(l=>l instanceof xXt?l:l.key),n=kl();Wf(()=>{if(!pi("recoil_memory_managament_2020"))return;let l=n.current;if(i.current&&!G4)window.clearTimeout(i.current),i.current=null;else for(let d of r)US(l,d,1);return()=>{for(let d of r)US(l,d,-1)}},[n,...r]);let i=Xh(),o=BOe(r);if(!G4&&(o===void 0||!hXt(o,r))){let l=n.current;for(let d of r)US(l,d,1);if(o)for(let d of o)US(l,d,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let d of r)US(l,d,-1)},zOe)}}function jXt(e,t){let r=kl();return qOe(()=>(...n)=>{ROe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var FXt={recoilComponentGetRecoilValueCount_FOR_TESTING:TXt,useGotoRecoilSnapshot:UOe,useRecoilCallback:qXt,useRecoilInterface:IXt,useRecoilSnapshot:NXt,useRecoilState:PXt,useRecoilStateLoadable:OXt,useRecoilTransaction:jXt,useRecoilTransactionObserver:DXt,useRecoilValue:FOe,useRecoilValueLoadable:ZH,useRetain:VOe,useResetRecoilState:AXt,useSetRecoilState:YH,useSetUnvalidatedAtomValues:RXt,useTransactionObservation_DEPRECATED:kXt,useTransactionSubscription_DEPRECATED:rP},{peekNodeInfo:BXt}=H1,{useStoreRef:UXt}=eP;function VXt(){let e=UXt();return({key:t})=>BXt(e.current,e.current.getState().currentTree,t)}var $Xt=VXt,{RecoilRoot:GXt,useStoreRef:HXt}=eP,{useMemo:WXt}=Ka.default;function ZXt(){let e=HXt().current;return WXt(()=>{function t({children:r}){return Ka.default.createElement(GXt,{store_INTERNAL:e},r)}return t},[e])}var YXt=ZXt;var{isReactNative:LKr,isSSR:qKr}=FH;function lc(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(lo(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>lc(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return lc(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,l]of e)i[typeof o=="string"?o:lc(o,t)]=l;return lc(i,t,r)}return e instanceof Set?lc(Array.from(e).sort((i,o)=>lc(i,t).localeCompare(lc(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?lc(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${lc(i,t)}:${lc(e[i],t,i)}`).join(",")}}`}function KXt(e,t={allowFunctions:!1}){return lc(e,t)}var nP=KXt,SH=class{constructor(t){var r,n,i;Nn(this,"_numLeafs",void 0),Nn(this,"_root",void 0),Nn(this,"_onHit",void 0),Nn(this,"_onSet",void 0),Nn(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return $Oe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=EH(this.root(),t.map(([l,d])=>[l,this._mapNodeValue(d)]),null,r,null,{onNodeVisit:l=>{n==null||n.onNodeVisit(l),l.type==="leaf"&&(i=l)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Jn(i))}delete(t){if(!this.root())return!1;let r=Jn(this.root());return XXt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=HOe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},$Oe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return $Oe(e.branches.get(i),t,r)},EH=(e,t,r,n,i,o)=>{var l;let d;if(e==null){if(t.length===0)d={type:"leaf",value:n,parent:r,branchKey:i};else{let[g,..._]=t,[E,T]=g;d={type:"branch",nodeKey:E,parent:r,branches:new Map,branchKey:i},d.branches.set(T,EH(null,_,d,n,T,o))}}else if(d=e,t.length){let[g,..._]=t,[E,T]=g;e.type==="branch"&&e.nodeKey===E||$4(!1),e.branches.set(T,EH(e.branches.get(T),_,e,n,T,o))}return o==null||(l=o.onNodeVisit)===null||l===void 0||l.call(o,d),d},XXt=(e,t,r)=>r?(r.branches.delete(t.branchKey),GOe(e,r,r.parent)):e===t,GOe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),GOe(e,r,r.parent)):e===t,HOe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+HOe(r),0),QXt={TreeCache:SH},JXt=QXt.TreeCache,WOe=Object.freeze({__proto__:null,TreeCache:JXt}),IH=class{constructor(t){var r;Nn(this,"_maxSize",void 0),Nn(this,"_size",void 0),Nn(this,"_head",void 0),Nn(this,"_tail",void 0),Nn(this,"_map",void 0),Nn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),l={key:t,right:o,left:null,value:r};o?o.left=l:this._tail=l,this._map.set(n,l),this._head=l,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Jn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},eQt={LRUCache:IH},tQt=eQt.LRUCache,ZOe=Object.freeze({__proto__:null,LRUCache:tQt}),{LRUCache:rQt}=ZOe,{TreeCache:nQt}=WOe;function iQt(e,t=r=>r){let r=new rQt({maxSize:e}),n=new nQt({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var XPe=iQt,{TreeCache:oQt}=WOe,O4={equality:"reference",eviction:"keep-all",maxSize:1/0};function aQt({equality:e=O4.equality,eviction:t=O4.eviction,maxSize:r=O4.maxSize}=O4){let n=sQt(e);return lQt(t,r,n)}function sQt(e){switch(e){case"reference":return t=>t;case"value":return t=>nP(t)}throw new Error(`Unrecognized equality policy ${e}`)}function lQt(e,t,r){switch(e){case"keep-all":return new oQt({mapNodeValue:r});case"lru":return XPe(Jn(t),r);case"most-recent":return XPe(1,r)}throw new Error(`Unrecognized eviction policy ${e}`)}var uQt=aQt;function cQt(e){return()=>null}var pQt={startPerfBlock:cQt},{CANCELED:VS,Canceled:fQt,loadableWithError:$S,loadableWithPromise:dQt,loadableWithValue:pH}=QS,{getNodeLoadable:QPe,peekNodeLoadable:hQt,setNodeValue:mQt}=H1,{saveDependencyMapToStore:gQt}=JS,{DEFAULT_VALUE:vQt,RecoilValueNotReady:yQt,getConfigDeletionHandler:_Qt,registerNode:JPe}=_u,{isRecoilValue:bQt}=Qh,{AbstractRecoilValue:xQt}=Qh,{setRecoilValueLoadable:wQt}=lv,{retainedByOptionWithDefault:SQt}=eE,{cloneSnapshot:EQt}=J4,{startPerfBlock:IQt}=pQt,GS=[],k4=new Map,TQt=(()=>{let e=0;return()=>e++})();function MQt(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function CQt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=uQt(n!=null?n:{equality:"reference",eviction:"keep-all"}),l=SQt(e.retainedBy_UNSTABLE),d=new Map,g=0;function _(){return!pi("recoil_memory_managament_2020")||g>0}function E(Ve){return d.has(Ve)||d.set(Ve,MQt()),Jn(d.get(Ve))}function T(Ve){return g++,Ve.getState().knownSelectors.add(t),()=>{g--,Ve.getState().knownSelectors.delete(t),d.delete(Ve)}}function A(){return _Qt(t)!==void 0&&!_()}function L(Ve,Oe,He){if(Oe.state==="loading"){let Fe=k4.get(He);Fe==null&&k4.set(He,Fe=new Set),Fe.add(Ve)}}function z(Ve,Oe){let He=k4.get(Oe);if(He!==void 0){for(let Fe of He)wQt(Fe,new xQt(t),Ve);k4.delete(Oe)}}function U(Ve,Oe,He){let Fe=Ve.getState().knownSelectors.has(He);if(Fe&&Oe.atomValues.has(He))return Jn(Oe.atomValues.get(He));let lt=QPe(Ve,Oe,He);return lt.state!=="loading"&&Fe&&Oe.atomValues.set(He,lt),lt}function N(Ve,Oe,He,Fe,lt){return Oe.then(st=>{if(!_())return at(Ve,lt),VS;let yt=pH(st);return _t(He,le(Fe),yt),H(Ve,He,new Set(Fe.keys()),lt),j(Ve,yt,lt),{__value:st,__key:t}}).catch(st=>{if(!_())return at(Ve,lt),VS;if(dt(Ve,lt)&&Ke(Fe,Ve,lt),lo(st))return R(Ve,st,He,Fe,lt);let yt=$S(st);throw _t(He,le(Fe),yt),H(Ve,He,new Set(Fe.keys()),lt),j(Ve,yt,lt),st})}function R(Ve,Oe,He,Fe,lt){return Oe.then(st=>{if(!_())return at(Ve,lt),VS;if(st instanceof fQt)return bp("Selector was released while it had dependencies"),VS;let{__key:yt,__value:vt}=st!=null?st:{},At=!0;yt!=null&&(He.atomValues.set(yt,pH(vt)),At=!1);let Zt=ie(Ve,He);if(Zt&&Zt.state==="hasValue")return de(Zt,Ve),{__value:Zt.contents,__key:t};if(!dt(Ve,lt)){var Tt;let Sr=ye(He);if((Sr==null||(Tt=Sr.latestLoadable)===null||Tt===void 0?void 0:Tt.state)==="loading")return Sr.latestLoadable.contents}let[Rt,tr]=re(Ve,He,lt,At);if(dt(Ve,lt)&&Ke(tr,Ve,lt),ze(Rt),Rt.state!=="loading"&&(_t(He,le(tr),Rt),H(Ve,He,new Set(tr.keys()),lt),j(Ve,Rt,lt)),Rt.state==="hasError")throw Rt.contents;return Rt.state==="hasValue"?{__value:Rt.contents,__key:t}:Rt.contents}).catch(st=>{if(!_())return at(Ve,lt),VS;let yt=$S(st);throw _t(He,le(Fe),$S(st)),H(Ve,He,new Set(Fe.keys()),lt),j(Ve,yt,lt),st})}function j(Ve,Oe,He){dt(Ve,He)&&(de(Oe,Ve),z(Oe,He))}function H(Ve,Oe,He,Fe){var lt,st,yt,vt;if(dt(Ve,Fe)||Oe.version===((lt=Ve.getState())===null||lt===void 0||(st=lt.currentTree)===null||st===void 0?void 0:st.version)||Oe.version===((yt=Ve.getState())===null||yt===void 0||(vt=yt.nextTree)===null||vt===void 0?void 0:vt.version)){var At,Zt,Tt;gQt(new Map([[t,He]]),Ve,(At=(Zt=Ve.getState())===null||Zt===void 0||(Tt=Zt.nextTree)===null||Tt===void 0?void 0:Tt.version)!==null&&At!==void 0?At:Ve.getState().currentTree.version)}}function Y(Ve,Oe,He,Fe,lt){He.add(Fe),H(Ve,Oe,He,lt)}function re(Ve,Oe,He,Fe=!1){let lt=IQt(t),st,yt=!1,vt,At=new Map,Zt=new Set;H(Ve,Oe,Zt,He);function Tt(Sr){let{key:kr}=Sr;Y(Ve,Oe,Zt,kr,He);let pr=Fe?QPe(Ve,Oe,kr):U(Ve,Oe,kr);if(ze(pr),At.set(kr,pr),pr.state==="hasValue")return pr.contents;throw pr.contents}let Rt=!1,tr=Sr=>(...kr)=>{if(!Rt)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let pr=EQt(Ve),Er=Sr({snapshot:pr});if(typeof Er!="function")throw new Error("getCallback() expects a function that returns a function.");return Er(...kr)};try{st=r({get:Tt,getCallback:tr}),st=bQt(st)?Tt(st):st,Rt=!0,lo(st)?st=N(Ve,st,Oe,At,He).finally(lt):lt()}catch(Sr){st=Sr,lo(st)?st=R(Ve,st,Oe,At,He).finally(lt):(yt=!0,lt())}return yt?vt=$S(st):lo(st)?vt=dQt(st):vt=pH(st),ze(vt),[vt,At]}function ie(Ve,Oe){let He=new Set,Fe=E(Ve),lt=o.get(st=>(typeof st!="string"&&$4(!1),U(Ve,Oe,st).contents),{onNodeVisit:st=>{st.type==="branch"&&st.nodeKey!==t&&typeof st.nodeKey=="string"&&He.add(st.nodeKey)}});return lt&&H(Ve,Oe,He,Fe.latestExecutionId),lt}function le(Ve){return Array.from(Ve.entries()).map(([Oe,He])=>[Oe,He.contents])}function Me(Ve,Oe){let He=TQt(),[Fe,lt]=re(Ve,Oe,He);return de(Fe,Ve,lt,He,Oe),Pe(Oe,le(lt),Fe),L(Ve,Fe,He),Fe}function we(Ve,Oe){let He=ie(Ve,Oe);if(He!=null)return de(He,Ve),He;let Fe=ye(Oe);if(Fe){let lt=Fe;return L(Ve,Jn(lt.latestLoadable),Jn(lt.latestExecutionId)),Jn(lt.latestLoadable)}return Me(Ve,Oe)}function ye(Ve){var Oe;let[,He]=(Oe=Array.from(d.entries()).find(([Fe,lt])=>lt.latestLoadable!=null&&lt.latestExecutionId!=null&&!Ie(Fe,Ve)))!==null&&Oe!==void 0?Oe:[];return He}let xe=new Map;function Ie(Ve,Oe){var He,Fe;let lt=E(Ve),st=(He=lt.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&He!==void 0?He:new Map,yt=Array(((Fe=xe.get(Oe.version))!==null&&Fe!==void 0?Fe:new Map).entries()),vt=xe.has(Oe.version)&&yt.length===st.size&&yt.every(([At,Zt])=>st.get(At)===Zt);return st==null||Oe.version===lt.stateVersion||vt?!1:(xe.set(Oe.version,new Map(st)),Array.from(st).some(([At,Zt])=>U(Ve,Oe,At).contents!==Zt.contents))}function de(Ve,Oe,He,Fe,lt){let st=E(Oe);Ve.state==="loading"?(st.depValuesDiscoveredSoFarDuringAsyncWork=He,st.latestExecutionId=Fe,st.latestLoadable=Ve,st.stateVersion=lt==null?void 0:lt.version):(st.depValuesDiscoveredSoFarDuringAsyncWork=null,st.latestExecutionId=null,st.latestLoadable=null,st.stateVersion=null)}function Pe(Ve,Oe,He){He.state!=="loading"&&_t(Ve,Oe,He)}function Ke(Ve,Oe,He){let Fe=E(Oe);dt(Oe,He)&&(Fe.depValuesDiscoveredSoFarDuringAsyncWork=Ve)}function at(Ve,Oe){dt(Ve,Oe)&&d.delete(Ve)}function dt(Ve,Oe){let He=E(Ve);return Oe===He.latestExecutionId}function ze(Ve){Ve.state!=="loading"&&(Ve.contents,void 0)}function ct(Ve){}function _t(Ve,Oe,He){Ve.atomValues.set(t,He),o.set(Oe,He)}function It(Ve){if(GS.includes(t)){let Oe=`Recoil selector has circular dependencies: ${GS.slice(GS.indexOf(t)).join(" \u2192 ")}`;return $S(new Error(Oe))}GS.push(t);try{return Ve()}finally{GS.pop()}}function Ye(Ve,Oe){return o.get(Fe=>{typeof Fe!="string"&&$4(!1);let lt=hQt(Ve,Oe,Fe);return lt==null?void 0:lt.contents})}function pt(Ve,Oe){return It(()=>we(Ve,Oe))}function ot(Ve){Ve.atomValues.delete(t)}return i!=null?JPe({key:t,nodeType:"selector",peek:Ye,get:pt,set:(Oe,He,Fe)=>{let lt=!1,st=new Map;function yt({key:Tt}){if(lt)throw new Error("Recoil: Async selector sets are not currently supported.");let Rt=U(Oe,He,Tt);if(ze(Rt),Rt.state==="hasValue")return Rt.contents;throw Rt.state==="loading"?new yQt(Tt):Rt.contents}function vt(Tt,Rt){if(lt)throw new Error("Recoil: Async selector sets are not currently supported.");let tr=typeof Rt=="function"?Rt(yt(Tt)):Rt;mQt(Oe,He,Tt.key,tr).forEach((kr,pr)=>st.set(pr,kr))}function At(Tt){vt(Tt,vQt)}let Zt=i({set:vt,get:yt,reset:At},Fe);if(Zt!==void 0)throw lo(Zt)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return lt=!0,st},init:T,invalidate:ot,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):JPe({key:t,nodeType:"selector",peek:Ye,get:pt,init:T,invalidate:ot,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}var W4=CQt,{loadableWithError:eOe,loadableWithPromise:tOe,loadableWithValue:HS}=QS,{DEFAULT_VALUE:av,DefaultValue:B1,getConfigDeletionHandler:YOe,registerNode:AQt,setConfigDeletionHandler:PQt}=_u,{isRecoilValue:OQt}=Qh,{markRecoilValueModified:kQt,setRecoilValue:rOe,setRecoilValueLoadable:DQt}=lv,{retainedByOptionWithDefault:NQt}=eE;function RQt(e){let{key:t,persistence_UNSTABLE:r}=e,n=NQt(e.retainedBy_UNSTABLE),i=0,o=lo(e.default)?tOe(e.default.then(N=>(o=HS(N),{__key:t,__value:N})).catch(N=>{throw o=eOe(N),N})):HS(e.default),l,d=new Map;function g(N,R){let j=R.then(H=>{var Y,re;return((re=((Y=N.getState().nextTree)!==null&&Y!==void 0?Y:N.getState().currentTree).atomValues.get(t))===null||re===void 0?void 0:re.contents)===j&&rOe(N,U,H),{__key:t,__value:H}}).catch(H=>{var Y,re;throw((re=((Y=N.getState().nextTree)!==null&&Y!==void 0?Y:N.getState().currentTree).atomValues.get(t))===null||re===void 0?void 0:re.contents)===j&&DQt(N,U,eOe(H)),H});return j}function _(N,R,j){i++;let H=N.getState().knownAtoms.has(t);if(N.getState().knownAtoms.add(t),o.state==="loading"){let we=()=>{var ye;((ye=N.getState().nextTree)!==null&&ye!==void 0?ye:N.getState().currentTree).atomValues.has(t)||kQt(N,U)};o.contents.then(we).catch(we)}let Y=av,re=null;if(e.effects_UNSTABLE!=null&&!H){let we=!0,ye=de=>Pe=>{if(we){let Ke=Y instanceof B1||lo(Y)?o.state==="hasValue"?o.contents:av:Y;Y=typeof Pe=="function"?Pe(Ke):Pe,lo(Y)&&(Y=Y.then(at=>(re={effect:de,value:at},at)))}else{if(lo(Pe))throw new Error("Setting atoms to async values is not implemented.");typeof Pe!="function"&&(re={effect:de,value:Pe}),rOe(N,U,typeof Pe=="function"?Ke=>{let at=Pe(Ke);return re={effect:de,value:at},at}:Pe)}},xe=de=>()=>ye(de)(av),Ie=de=>Pe=>{N.subscribeToTransactions(Ke=>{var at;let{currentTree:dt,previousTree:ze}=Ke.getState();ze||(bp("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),ze=dt);let ct=(at=dt.atomValues.get(t))!==null&&at!==void 0?at:o;if(ct.state==="hasValue"){var _t,It,Ye,pt;let ot=ct.contents,Ve=(_t=ze.atomValues.get(t))!==null&&_t!==void 0?_t:o,Oe=Ve.state==="hasValue"?Ve.contents:av;((It=re)===null||It===void 0?void 0:It.effect)!==de||((Ye=re)===null||Ye===void 0?void 0:Ye.value)!==ot?Pe(ot,Oe):((pt=re)===null||pt===void 0?void 0:pt.effect)===de&&(re=null)}},t)};for(let de of(ie=e.effects_UNSTABLE)!==null&&ie!==void 0?ie:[]){var ie;let Pe=de({node:U,trigger:j,setSelf:ye(de),resetSelf:xe(de),onSet:Ie(de)});if(Pe!=null){var le;d.set(N,[...((le=d.get(N))!==null&&le!==void 0?le:[]),Pe])}}we=!1}if(!(Y instanceof B1)){var Me;let we=lo(Y)?tOe(g(N,Y)):HS(Y);R.atomValues.set(t,we),(Me=N.getState().nextTree)===null||Me===void 0||Me.atomValues.set(t,we)}return()=>{var we;i--,(we=d.get(N))===null||we===void 0||we.forEach(ye=>ye()),d.delete(N),N.getState().knownAtoms.delete(t)}}function E(N,R){var j,H,Y;return(j=(H=R.atomValues.get(t))!==null&&H!==void 0?H:(Y=l)===null||Y===void 0?void 0:Y[1])!==null&&j!==void 0?j:o}function T(N,R){if(R.atomValues.has(t))return Jn(R.atomValues.get(t));if(R.nonvalidatedAtoms.has(t)){if(l!=null)return l;if(r==null)return DH(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let j=R.nonvalidatedAtoms.get(t),H=r.validator(j,av);return l=H instanceof B1?o:HS(H),l}else return o}function A(){l=void 0}function L(N,R,j){if(R.atomValues.has(t)){let H=Jn(R.atomValues.get(t));if(H.state==="hasValue"&&j===H.contents)return new Map}else if(!R.nonvalidatedAtoms.has(t)&&j instanceof B1)return new Map;return l=void 0,new Map().set(t,HS(j))}function z(){return YOe(t)!==void 0&&i<=0}let U=AQt({key:t,nodeType:"atom",peek:E,get:T,set:L,init:_,invalidate:A,shouldDeleteConfigOnRelease:z,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return U}function KOe(e){let n=e,{default:t}=n,r=yn(n,["default"]);return OQt(t)?LQt(nr(je({},r),{default:t})):RQt(nr(je({},r),{default:t}))}function LQt(e){let t=KOe(nr(je({},e),{default:av,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:nr(je({},e.persistence_UNSTABLE),{validator:n=>n instanceof B1?n:Jn(e.persistence_UNSTABLE).validator(n,av)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=W4({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof B1?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return PQt(r.key,YOe(e.key)),r}var XOe=KOe,TH=class{constructor(t){var r;Nn(this,"_map",void 0),Nn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},qQt={MapCache:TH},zQt=qQt.MapCache,jQt=Object.freeze({__proto__:null,MapCache:zQt}),{LRUCache:nOe}=ZOe,{MapCache:FQt}=jQt,D4={equality:"reference",eviction:"none",maxSize:1/0};function BQt({equality:e=D4.equality,eviction:t=D4.eviction,maxSize:r=D4.maxSize}=D4){let n=UQt(e);return VQt(t,r,n)}function UQt(e){switch(e){case"reference":return t=>t;case"value":return t=>nP(t)}throw new Error(`Unrecognized equality policy ${e}`)}function VQt(e,t,r){switch(e){case"keep-all":return new FQt({mapKey:r});case"lru":return new nOe({mapKey:r,maxSize:Jn(t)});case"most-recent":return new nOe({mapKey:r,maxSize:1})}throw new Error(`Unrecognized eviction policy ${e}`)}var QOe=BQt,{setConfigDeletionHandler:$Qt}=_u;function GQt(e){var t,r;let n=QOe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let l=n.get(i);if(l!=null)return l;let E=e,{cachePolicyForParams_UNSTABLE:d}=E,g=yn(E,["cachePolicyForParams_UNSTABLE"]),_=XOe(nr(je({},g),{key:`${e.key}__${(o=nP(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,_),$Qt(_.key,()=>{n.delete(i)}),_}}var HQt=GQt,{setConfigDeletionHandler:WQt}=_u,ZQt=0;function YQt(e){var t,r;let n=QOe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let l=n.get(i);if(l!=null)return l;let d=`${e.key}__selectorFamily/${(o=nP(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${ZQt++}`,g=A=>e.get(i)(A),_=e.cachePolicy_UNSTABLE,E=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,T;if(e.set!=null){let A=e.set;T=W4({key:d,get:g,set:(z,U)=>A(i)(z,U),cachePolicy_UNSTABLE:_,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:E})}else T=W4({key:d,get:g,cachePolicy_UNSTABLE:_,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:E});return n.set(i,T),WQt(T.key,()=>{n.delete(i)}),T}}var Jh=YQt,KQt=Jh({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function XQt(e){return KQt(e)}var QQt=XQt,JQt=Jh({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function eJt(e){return JQt(e)}var tJt=eJt;function rJt(e){return e}var nJt=rJt,{loadableWithError:JOe,loadableWithPromise:eke,loadableWithValue:tke}=QS;function iP(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(l){n[i]=l}return[r,n]}function iJt(e){return e!=null&&!lo(e)}function oP(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function KH(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function MH(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>nr(je({},r),{[n]:t[i]}),{})}function V1(e,t,r){let n=r.map((i,o)=>i==null?tke(t[o]):lo(i)?eke(i):JOe(i));return MH(e,n)}function oJt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var aJt=Jh({key:"__waitForNone",get:e=>({get:t})=>{let r=oP(e),[n,i]=iP(t,r);return V1(e,n,i)},dangerouslyAllowMutability:!0}),sJt=Jh({key:"__waitForAny",get:e=>({get:t})=>{let r=oP(e),[n,i]=iP(t,r);return i.some(o=>!lo(o))?V1(e,n,i):new Promise(o=>{for(let[l,d]of i.entries())lo(d)&&d.then(g=>{n[l]=KH(g),i[l]=void 0,o(V1(e,n,i))}).catch(g=>{i[l]=g,o(V1(e,n,i))})})},dangerouslyAllowMutability:!0}),lJt=Jh({key:"__waitForAll",get:e=>({get:t})=>{let r=oP(e),[n,i]=iP(t,r);if(i.every(l=>l==null))return MH(e,n);let o=i.find(iJt);if(o!=null)throw o;return Promise.all(i).then(l=>MH(e,oJt(n,l).map(KH)))},dangerouslyAllowMutability:!0}),uJt=Jh({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=oP(e),[n,i]=iP(t,r);return i.every(o=>!lo(o))?V1(e,n,i):Promise.all(i.map((o,l)=>lo(o)?o.then(d=>{n[l]=KH(d),i[l]=void 0}).catch(d=>{n[l]=void 0,i[l]=d}):null)).then(()=>V1(e,n,i))},dangerouslyAllowMutability:!0}),cJt=Jh({key:"__noWait",get:e=>({get:t})=>{try{return tke(t(e))}catch(r){return lo(r)?eke(r):JOe(r)}},dangerouslyAllowMutability:!0}),pJt={waitForNone:aJt,waitForAny:sJt,waitForAll:lJt,waitForAllSettled:uJt,noWait:cJt},{batchUpdates:fJt,setBatcher:dJt}=zH,{DefaultValue:hJt}=_u,{RecoilRoot:mJt}=eP,{isRecoilValue:gJt}=Qh,{retentionZone:vJt}=Y4,{freshSnapshot:yJt}=J4,{useGotoRecoilSnapshot:_Jt,useRecoilCallback:bJt,useRecoilSnapshot:xJt,useRecoilState:wJt,useRecoilStateLoadable:SJt,useRecoilTransaction:EJt,useRecoilTransactionObserver:IJt,useRecoilValue:TJt,useRecoilValueLoadable:MJt,useResetRecoilState:CJt,useRetain:AJt,useSetRecoilState:PJt,useSetUnvalidatedAtomValues:OJt,useTransactionObservation_DEPRECATED:kJt}=FXt,{noWait:DJt,waitForAll:NJt,waitForAllSettled:RJt,waitForAny:LJt,waitForNone:qJt}=pJt,Pn={DefaultValue:hJt,RecoilRoot:mJt,useRecoilBridgeAcrossReactRoots_UNSTABLE:YXt,atom:XOe,selector:W4,retentionZone:vJt,atomFamily:HQt,selectorFamily:Jh,constSelector:QQt,errorSelector:tJt,readOnlySelector:nJt,useRecoilValue:TJt,useRecoilValueLoadable:MJt,useRecoilState:wJt,useRecoilStateLoadable:SJt,useSetRecoilState:PJt,useResetRecoilState:CJt,useGetRecoilValueInfo_UNSTABLE:$Xt,useRetain:AJt,useRecoilCallback:bJt,useRecoilTransaction_UNSTABLE:EJt,useGotoRecoilSnapshot:_Jt,useRecoilSnapshot:xJt,useRecoilTransactionObserver_UNSTABLE:IJt,useTransactionObservation_UNSTABLE:kJt,useSetUnvalidatedAtomValues_UNSTABLE:OJt,noWait:DJt,waitForNone:qJt,waitForAny:LJt,waitForAll:NJt,waitForAllSettled:RJt,isRecoilValue:gJt,batchUpdates:fJt,setBatcher:dJt,snapshot_UNSTABLE:yJt},zKr=Pn.DefaultValue,rke=Pn.RecoilRoot,jKr=Pn.useRecoilBridgeAcrossReactRoots_UNSTABLE,tn=Pn.atom,Zf=Pn.selector,FKr=Pn.retentionZone,BKr=Pn.atomFamily,UKr=Pn.selectorFamily,VKr=Pn.constSelector,$Kr=Pn.errorSelector,GKr=Pn.readOnlySelector,hr=Pn.useRecoilValue,HKr=Pn.useRecoilValueLoadable,Mn=Pn.useRecoilState,WKr=Pn.useRecoilStateLoadable,di=Pn.useSetRecoilState,ZKr=Pn.useResetRecoilState,YKr=Pn.useGetRecoilValueInfo_UNSTABLE,KKr=Pn.useRetain,em=Pn.useRecoilCallback,XKr=Pn.useRecoilTransaction_UNSTABLE,QKr=Pn.useGotoRecoilSnapshot,JKr=Pn.useRecoilSnapshot,eXr=Pn.useRecoilTransactionObserver_UNSTABLE,tXr=Pn.useTransactionObservation_UNSTABLE,rXr=Pn.useSetUnvalidatedAtomValues_UNSTABLE,nXr=Pn.noWait,iXr=Pn.waitForNone,oXr=Pn.waitForAny,aXr=Pn.waitForAll,sXr=Pn.waitForAllSettled,lXr=Pn.isRecoilValue,uXr=Pn.batchUpdates,cXr=Pn.setBatcher,pXr=Pn.snapshot_UNSTABLE;p();var Cu=se(tt(),1),Tc=se(ir(),1);p();function cke(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=cke(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function FJt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=cke(e))&&(n&&(n+=" "),n+=t);return n}var xr=FJt;p();var dc=se(tE(),1);p();p();p();p();p();function rE(e,t){return function(){return e.apply(t,arguments)}}var{toString:BJt}=Object.prototype,{getPrototypeOf:eW}=Object,{iterator:sP,toStringTag:dke}=Symbol,lP=(e=>t=>{let r=BJt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cc=e=>(e=e.toLowerCase(),t=>lP(t)===e),uP=e=>t=>typeof t===e,{isArray:Z1}=Array,W1=uP("undefined");function nE(e){return e!==null&&!W1(e)&&e.constructor!==null&&!W1(e.constructor)&&Js(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var hke=cc("ArrayBuffer");function UJt(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hke(e.buffer),t}var VJt=uP("string"),Js=uP("function"),mke=uP("number"),iE=e=>e!==null&&typeof e=="object",$Jt=e=>e===!0||e===!1,aP=e=>{if(lP(e)!=="object")return!1;let t=eW(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(dke in e)&&!(sP in e)},GJt=e=>{if(!iE(e)||nE(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},HJt=cc("Date"),WJt=cc("File"),ZJt=cc("Blob"),YJt=cc("FileList"),KJt=e=>iE(e)&&Js(e.pipe),XJt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Js(e.append)&&((t=lP(e))==="formdata"||t==="object"&&Js(e.toString)&&e.toString()==="[object FormData]"))},QJt=cc("URLSearchParams"),[JJt,eer,ter,rer]=["ReadableStream","Request","Response","Headers"].map(cc),ner=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oE(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,i;if(typeof e!="object"&&(e=[e]),Z1(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(nE(e))return;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length,d;for(n=0;n<l;n++)d=o[n],t.call(null,e[d],d,e)}}function gke(e,t){if(nE(e))return null;t=t.toLowerCase();let r=Object.keys(e),n=r.length,i;for(;n-->0;)if(i=r[n],t===i.toLowerCase())return i;return null}var uv=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,vke=e=>!W1(e)&&e!==uv;function JH(){let{caseless:e,skipUndefined:t}=vke(this)&&this||{},r={},n=(i,o)=>{let l=e&&gke(r,o)||o;aP(r[l])&&aP(i)?r[l]=JH(r[l],i):aP(i)?r[l]=JH({},i):Z1(i)?r[l]=i.slice():(!t||!W1(i))&&(r[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&oE(arguments[i],n);return r}var ier=(e,t,r,{allOwnKeys:n}={})=>(oE(t,(i,o)=>{r&&Js(i)?e[o]=rE(i,r):e[o]=i},{allOwnKeys:n}),e),oer=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aer=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ser=(e,t,r,n)=>{let i,o,l,d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-->0;)l=i[o],(!n||n(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=r!==!1&&eW(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ler=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},uer=e=>{if(!e)return null;if(Z1(e))return e;let t=e.length;if(!mke(t))return null;let r=new Array(t);for(;t-->0;)r[t]=e[t];return r},cer=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&eW(Uint8Array)),per=(e,t)=>{let n=(e&&e[sP]).call(e),i;for(;(i=n.next())&&!i.done;){let o=i.value;t.call(e,o[0],o[1])}},fer=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},der=cc("HTMLFormElement"),her=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),fke=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mer=cc("RegExp"),yke=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};oE(r,(i,o)=>{let l;(l=t(i,o,e))!==!1&&(n[o]=l||i)}),Object.defineProperties(e,n)},ger=e=>{yke(e,(t,r)=>{if(Js(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(Js(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ver=(e,t)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Z1(e)?n(e):n(String(e).split(t)),r},yer=()=>{},_er=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ber(e){return!!(e&&Js(e.append)&&e[dke]==="FormData"&&e[sP])}var xer=e=>{let t=new Array(10),r=(n,i)=>{if(iE(n)){if(t.indexOf(n)>=0)return;if(nE(n))return n;if(!("toJSON"in n)){t[i]=n;let o=Z1(n)?[]:{};return oE(n,(l,d)=>{let g=r(l,i+1);!W1(g)&&(o[d]=g)}),t[i]=void 0,o}}return n};return r(e,0)},wer=cc("AsyncFunction"),Ser=e=>e&&(iE(e)||Js(e))&&Js(e.then)&&Js(e.catch),_ke=((e,t)=>e?setImmediate:t?((r,n)=>(uv.addEventListener("message",({source:i,data:o})=>{i===uv&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),uv.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Js(uv.postMessage)),Eer=typeof queueMicrotask!="undefined"?queueMicrotask.bind(uv):typeof b!="undefined"&&b.nextTick||_ke,Ier=e=>e!=null&&Js(e[sP]),rt={isArray:Z1,isArrayBuffer:hke,isBuffer:nE,isFormData:XJt,isArrayBufferView:UJt,isString:VJt,isNumber:mke,isBoolean:$Jt,isObject:iE,isPlainObject:aP,isEmptyObject:GJt,isReadableStream:JJt,isRequest:eer,isResponse:ter,isHeaders:rer,isUndefined:W1,isDate:HJt,isFile:WJt,isBlob:ZJt,isRegExp:mer,isFunction:Js,isStream:KJt,isURLSearchParams:QJt,isTypedArray:cer,isFileList:YJt,forEach:oE,merge:JH,extend:ier,trim:ner,stripBOM:oer,inherits:aer,toFlatObject:ser,kindOf:lP,kindOfTest:cc,endsWith:ler,toArray:uer,forEachEntry:per,matchAll:fer,isHTMLForm:der,hasOwnProperty:fke,hasOwnProp:fke,reduceDescriptors:yke,freezeMethods:ger,toObjectSet:ver,toCamelCase:her,noop:yer,toFiniteNumber:_er,findKey:gke,global:uv,isContextDefined:vke,isSpecCompliantForm:ber,toJSONObject:xer,isAsyncFn:wer,isThenable:Ser,setImmediate:_ke,asap:Eer,isIterable:Ier};p();p();p();p();p();function Y1(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}rt.inherits(Y1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});var bke=Y1.prototype,xke={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xke[e]={value:e}});Object.defineProperties(Y1,xke);Object.defineProperty(bke,"isAxiosError",{value:!0});Y1.from=(e,t,r,n,i,o)=>{let l=Object.create(bke);rt.toFlatObject(e,l,function(E){return E!==Error.prototype},_=>_!=="isAxiosError");let d=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return Y1.call(l,d,g,r,n,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};var Hr=Y1;p();var cP=null;function tW(e){return rt.isPlainObject(e)||rt.isArray(e)}function Ske(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function wke(e,t,r){return e?e.concat(t).map(function(i,o){return i=Ske(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function Ter(e){return rt.isArray(e)&&!e.some(tW)}var Mer=rt.toFlatObject(rt,{},null,function(t){return /^is[A-Z]/.test(t)});function Cer(e,t,r){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new(cP||FormData),r=rt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,N){return!rt.isUndefined(N[U])});let n=r.metaTokens,i=r.visitor||E,o=r.dots,l=r.indexes,g=(r.Blob||typeof Blob!="undefined"&&Blob)&&rt.isSpecCompliantForm(t);if(!rt.isFunction(i))throw new TypeError("visitor must be a function");function _(z){if(z===null)return"";if(rt.isDate(z))return z.toISOString();if(rt.isBoolean(z))return z.toString();if(!g&&rt.isBlob(z))throw new Hr("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(z)||rt.isTypedArray(z)?g&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function E(z,U,N){let R=z;if(z&&!N&&typeof z=="object"){if(rt.endsWith(U,"{}"))U=n?U:U.slice(0,-2),z=JSON.stringify(z);else if(rt.isArray(z)&&Ter(z)||(rt.isFileList(z)||rt.endsWith(U,"[]"))&&(R=rt.toArray(z)))return U=Ske(U),R.forEach(function(H,Y){!(rt.isUndefined(H)||H===null)&&t.append(l===!0?wke([U],Y,o):l===null?U:U+"[]",_(H))}),!1}return tW(z)?!0:(t.append(wke(N,U,o),_(z)),!1)}let T=[],A=Object.assign(Mer,{defaultVisitor:E,convertValue:_,isVisitable:tW});function L(z,U){if(!rt.isUndefined(z)){if(T.indexOf(z)!==-1)throw Error("Circular reference detected in "+U.join("."));T.push(z),rt.forEach(z,function(R,j){(!(rt.isUndefined(R)||R===null)&&i.call(t,R,rt.isString(j)?j.trim():j,U,A))===!0&&L(R,U?U.concat(j):[j])}),T.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return L(e),t}var tm=Cer;function Eke(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ike(e,t){this._pairs=[],e&&tm(e,this,t)}var Tke=Ike.prototype;Tke.append=function(t,r){this._pairs.push([t,r])};Tke.toString=function(t){let r=t?function(n){return t.call(this,n,Eke)}:Eke;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var pP=Ike;function Aer(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aE(e,t,r){if(!t)return e;let n=r&&r.encode||Aer;rt.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,o;if(i?o=i(t,r):o=rt.isURLSearchParams(t)?t.toString():new pP(t,r).toString(n),o){let l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}p();var rW=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){rt.forEach(this.handlers,function(n){n!==null&&t(n)})}},nW=rW;p();p();p();p();var fP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};p();p();p();p();var Mke=typeof URLSearchParams!="undefined"?URLSearchParams:pP;p();var Cke=typeof FormData!="undefined"?FormData:null;p();var Ake=typeof Blob!="undefined"?Blob:null;var Pke={isBrowser:!0,classes:{URLSearchParams:Mke,FormData:Cke,Blob:Ake},protocols:["http","https","file","blob","url","data"]};var aW={};Wte(aW,{hasBrowserEnv:()=>oW,hasStandardBrowserEnv:()=>Per,hasStandardBrowserWebWorkerEnv:()=>Oer,navigator:()=>iW,origin:()=>ker});p();var oW=typeof window!="undefined"&&typeof document!="undefined",iW=typeof navigator=="object"&&navigator||void 0,Per=oW&&(!iW||["ReactNative","NativeScript","NS"].indexOf(iW.product)<0),Oer=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ker=oW&&window.location.href||"http://localhost";var Bi=je(je({},aW),Pke);function sW(e,t){return tm(e,new Bi.classes.URLSearchParams,je({visitor:function(r,n,i,o){return Bi.isNode&&rt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}p();function Der(e){return rt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ner(e){let t={},r=Object.keys(e),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function Rer(e){function t(r,n,i,o){let l=r[o++];if(l==="__proto__")return!0;let d=Number.isFinite(+l),g=o>=r.length;return l=!l&&rt.isArray(i)?i.length:l,g?(rt.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!d):((!i[l]||!rt.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],o)&&rt.isArray(i[l])&&(i[l]=Ner(i[l])),!d)}if(rt.isFormData(e)&&rt.isFunction(e.entries)){let r={};return rt.forEachEntry(e,(n,i)=>{t(Der(n),i,r,0)}),r}return null}var dP=Rer;function Ler(e,t,r){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var lW={transitional:fP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=rt.isObject(t);if(o&&rt.isHTMLForm(t)&&(t=new FormData(t)),rt.isFormData(t))return i?JSON.stringify(dP(t)):t;if(rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)||rt.isReadableStream(t))return t;if(rt.isArrayBufferView(t))return t.buffer;if(rt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sW(t,this.formSerializer).toString();if((d=rt.isFileList(t))||n.indexOf("multipart/form-data")>-1){let g=this.env&&this.env.FormData;return tm(d?{"files[]":t}:t,g&&new g,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Ler(t)):t}],transformResponse:[function(t){let r=this.transitional||lW.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(rt.isResponse(t)||rt.isReadableStream(t))return t;if(t&&rt.isString(t)&&(n&&!this.responseType||i)){let l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Hr.from(d,Hr.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bi.classes.FormData,Blob:Bi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],e=>{lW.headers[e]={}});var K1=lW;p();p();var qer=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oke=e=>{let t={},r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&qer[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var kke=Symbol("internals");function sE(e){return e&&String(e).trim().toLowerCase()}function hP(e){return e===!1||e==null?e:rt.isArray(e)?e.map(hP):String(e)}function zer(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var jer=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uW(e,t,r,n,i){if(rt.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!rt.isString(t)){if(rt.isString(n))return t.indexOf(n)!==-1;if(rt.isRegExp(n))return n.test(t)}}function Fer(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ber(e,t){let r=rt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,l){return this[n].call(this,t,i,o,l)},configurable:!0})})}var X1=class{constructor(t){t&&this.set(t)}set(t,r,n){let i=this;function o(d,g,_){let E=sE(g);if(!E)throw new Error("header name must be a non-empty string");let T=rt.findKey(i,E);(!T||i[T]===void 0||_===!0||_===void 0&&i[T]!==!1)&&(i[T||g]=hP(d))}let l=(d,g)=>rt.forEach(d,(_,E)=>o(_,E,g));if(rt.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(rt.isString(t)&&(t=t.trim())&&!jer(t))l(Oke(t),r);else if(rt.isObject(t)&&rt.isIterable(t)){let d={},g,_;for(let E of t){if(!rt.isArray(E))throw TypeError("Object iterator must return a key-value pair");d[_=E[0]]=(g=d[_])?rt.isArray(g)?[...g,E[1]]:[g,E[1]]:E[1]}l(d,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=sE(t),t){let n=rt.findKey(this,t);if(n){let i=this[n];if(!r)return i;if(r===!0)return zer(i);if(rt.isFunction(r))return r.call(this,i,n);if(rt.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=sE(t),t){let n=rt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||uW(this,this[n],n,r)))}return!1}delete(t,r){let n=this,i=!1;function o(l){if(l=sE(l),l){let d=rt.findKey(n,l);d&&(!r||uW(n,n[d],d,r))&&(delete n[d],i=!0)}}return rt.isArray(t)?t.forEach(o):o(t),i}clear(t){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!t||uW(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){let r=this,n={};return rt.forEach(this,(i,o)=>{let l=rt.findKey(n,o);if(l){r[l]=hP(i),delete r[o];return}let d=t?Fer(o):String(o).trim();d!==o&&delete r[o],r[d]=hP(i),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return rt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&rt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){let n=(this[kke]=this[kke]={accessors:{}}).accessors,i=this.prototype;function o(l){let d=sE(l);n[d]||(Ber(i,l),n[d]=!0)}return rt.isArray(t)?t.forEach(o):o(t),this}};X1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(X1.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});rt.freezeMethods(X1);var Fo=X1;function lE(e,t){let r=this||K1,n=t||r,i=Fo.from(n.headers),o=n.data;return rt.forEach(e,function(d){o=d.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}p();function uE(e){return!!(e&&e.__CANCEL__)}p();function Dke(e,t,r){Hr.call(this,e==null?"canceled":e,Hr.ERR_CANCELED,t,r),this.name="CanceledError"}rt.inherits(Dke,Hr,{__CANCEL__:!0});var xp=Dke;p();p();p();function cE(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Hr("Request failed with status code "+r.status,[Hr.ERR_BAD_REQUEST,Hr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}p();function cW(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}p();p();function Uer(e,t){e=e||10;let r=new Array(e),n=new Array(e),i=0,o=0,l;return t=t!==void 0?t:1e3,function(g){let _=Date.now(),E=n[o];l||(l=_),r[i]=g,n[i]=_;let T=o,A=0;for(;T!==i;)A+=r[T++],T=T%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),_-l<t)return;let L=E&&_-E;return L?Math.round(A*1e3/L):void 0}}var Nke=Uer;p();function Ver(e,t){let r=0,n=1e3/t,i,o,l=(_,E=Date.now())=>{r=E,i=null,o&&(clearTimeout(o),o=null),e(..._)};return[(..._)=>{let E=Date.now(),T=E-r;T>=n?l(_,E):(i=_,o||(o=setTimeout(()=>{o=null,l(i)},n-T)))},()=>i&&l(i)]}var Rke=Ver;var Q1=(e,t,r=3)=>{let n=0,i=Nke(50,250);return Rke(o=>{let l=o.loaded,d=o.lengthComputable?o.total:void 0,g=l-n,_=i(g),E=l<=d;n=l;let T={loaded:l,total:d,progress:d?l/d:void 0,bytes:g,rate:_||void 0,estimated:_&&d&&E?(d-l)/_:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(T)},r)},pW=(e,t)=>{let r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},fW=e=>(...t)=>rt.asap(()=>e(...t));p();p();var Lke=Bi.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Bi.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Bi.origin),Bi.navigator&&/(msie|trident)/i.test(Bi.navigator.userAgent)):()=>!0;p();var qke=Bi.hasStandardBrowserEnv?{write(e,t,r,n,i,o){let l=[e+"="+encodeURIComponent(t)];rt.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),rt.isString(n)&&l.push("path="+n),rt.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};p();p();function dW(e){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}p();function hW(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pE(e,t,r){let n=!dW(t);return e&&(n||r==!1)?hW(e,t):t}p();var zke=e=>e instanceof Fo?je({},e):e;function pc(e,t){t=t||{};let r={};function n(_,E,T,A){return rt.isPlainObject(_)&&rt.isPlainObject(E)?rt.merge.call({caseless:A},_,E):rt.isPlainObject(E)?rt.merge({},E):rt.isArray(E)?E.slice():E}function i(_,E,T,A){if(rt.isUndefined(E)){if(!rt.isUndefined(_))return n(void 0,_,T,A)}else return n(_,E,T,A)}function o(_,E){if(!rt.isUndefined(E))return n(void 0,E)}function l(_,E){if(rt.isUndefined(E)){if(!rt.isUndefined(_))return n(void 0,_)}else return n(void 0,E)}function d(_,E,T){if(T in t)return n(_,E);if(T in e)return n(void 0,_)}let g={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(_,E,T)=>i(zke(_),zke(E),T,!0)};return rt.forEach(Object.keys(je(je({},e),t)),function(E){let T=g[E]||i,A=T(e[E],t[E],E);rt.isUndefined(A)&&T!==d||(r[E]=A)}),r}var mP=e=>{let t=pc({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:d}=t;if(t.headers=l=Fo.from(l),t.url=aE(pE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),rt.isFormData(r)){if(Bi.hasStandardBrowserEnv||Bi.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(rt.isFunction(r.getHeaders)){let g=r.getHeaders(),_=["content-type","content-length"];Object.entries(g).forEach(([E,T])=>{_.includes(E.toLowerCase())&&l.set(E,T)})}}if(Bi.hasStandardBrowserEnv&&(n&&rt.isFunction(n)&&(n=n(t)),n||n!==!1&&Lke(t.url))){let g=i&&o&&qke.read(o);g&&l.set(i,g)}return t};var $er=typeof XMLHttpRequest!="undefined",jke=$er&&function(e){return new Promise(function(r,n){let i=mP(e),o=i.data,l=Fo.from(i.headers).normalize(),{responseType:d,onUploadProgress:g,onDownloadProgress:_}=i,E,T,A,L,z;function U(){L&&L(),z&&z(),i.cancelToken&&i.cancelToken.unsubscribe(E),i.signal&&i.signal.removeEventListener("abort",E)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function R(){if(!N)return;let H=Fo.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),re={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:H,config:e,request:N};cE(function(le){r(le),U()},function(le){n(le),U()},re),N=null}"onloadend"in N?N.onloadend=R:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(R)},N.onabort=function(){N&&(n(new Hr("Request aborted",Hr.ECONNABORTED,e,N)),N=null)},N.onerror=function(Y){let re=Y&&Y.message?Y.message:"Network Error",ie=new Hr(re,Hr.ERR_NETWORK,e,N);ie.event=Y||null,n(ie),N=null},N.ontimeout=function(){let Y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",re=i.transitional||fP;i.timeoutErrorMessage&&(Y=i.timeoutErrorMessage),n(new Hr(Y,re.clarifyTimeoutError?Hr.ETIMEDOUT:Hr.ECONNABORTED,e,N)),N=null},o===void 0&&l.setContentType(null),"setRequestHeader"in N&&rt.forEach(l.toJSON(),function(Y,re){N.setRequestHeader(re,Y)}),rt.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),d&&d!=="json"&&(N.responseType=i.responseType),_&&([A,z]=Q1(_,!0),N.addEventListener("progress",A)),g&&N.upload&&([T,L]=Q1(g),N.upload.addEventListener("progress",T),N.upload.addEventListener("loadend",L)),(i.cancelToken||i.signal)&&(E=H=>{N&&(n(!H||H.type?new xp(null,e,N):H),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(E),i.signal&&(i.signal.aborted?E():i.signal.addEventListener("abort",E)));let j=cW(i.url);if(j&&Bi.protocols.indexOf(j)===-1){n(new Hr("Unsupported protocol "+j+":",Hr.ERR_BAD_REQUEST,e));return}N.send(o||null)})};p();p();var Ger=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i,o=function(_){if(!i){i=!0,d();let E=_ instanceof Error?_:this.reason;n.abort(E instanceof Hr?E:new xp(E instanceof Error?E.message:E))}},l=t&&setTimeout(()=>{l=null,o(new Hr(`timeout ${t} of ms exceeded`,Hr.ETIMEDOUT))},t),d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(o):_.removeEventListener("abort",o)}),e=null)};e.forEach(_=>_.addEventListener("abort",o));let{signal:g}=n;return g.unsubscribe=()=>rt.asap(d),g}},Fke=Ger;p();var Her=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Wer=function(e,t){return q6(this,null,function*(){try{for(var r=Yte(Zer(e)),n,i,o;n=!(i=yield new dg(r.next())).done;n=!1){let l=i.value;yield*z6(Her(l,t))}}catch(i){o=[i]}finally{try{n&&(i=r.return)&&(yield new dg(i.call(r)))}finally{if(o)throw o[0]}}})},Zer=function(e){return q6(this,null,function*(){if(e[Symbol.asyncIterator]){yield*z6(e);return}let t=e.getReader();try{for(;;){let{done:r,value:n}=yield new dg(t.read());if(r)break;yield n}}finally{yield new dg(t.cancel())}})},mW=(e,t,r,n)=>{let i=Wer(e,t),o=0,l,d=_=>{l||(l=!0,n&&n(_))};return new ReadableStream({pull(_){return Ar(this,null,function*(){try{let{done:E,value:T}=yield i.next();if(E){d(),_.close();return}let A=T.byteLength;if(r){let L=o+=A;r(L)}_.enqueue(new Uint8Array(T))}catch(E){throw d(E),E}})},cancel(_){return d(_),i.return()}},{highWaterMark:2})};var Bke=64*1024,{isFunction:gP}=rt,Yer=(({Request:e,Response:t})=>({Request:e,Response:t}))(rt.global),{ReadableStream:Uke,TextEncoder:Vke}=rt.global,$ke=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},Ker=e=>{e=rt.merge.call({skipUndefined:!0},Yer,e);let{fetch:t,Request:r,Response:n}=e,i=t?gP(t):typeof fetch=="function",o=gP(r),l=gP(n);if(!i)return!1;let d=i&&gP(Uke),g=i&&(typeof Vke=="function"?(z=>U=>z.encode(U))(new Vke):z=>Ar(null,null,function*(){return new Uint8Array(yield new r(z).arrayBuffer())})),_=o&&d&&$ke(()=>{let z=!1,U=new r(Bi.origin,{body:new Uke,method:"POST",get duplex(){return z=!0,"half"}}).headers.has("Content-Type");return z&&!U}),E=l&&d&&$ke(()=>rt.isReadableStream(new n("").body)),T={stream:E&&(z=>z.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(z=>{!T[z]&&(T[z]=(U,N)=>{let R=U&&U[z];if(R)return R.call(U);throw new Hr(`Response type '${z}' is not supported`,Hr.ERR_NOT_SUPPORT,N)})});let A=z=>Ar(null,null,function*(){if(z==null)return 0;if(rt.isBlob(z))return z.size;if(rt.isSpecCompliantForm(z))return(yield new r(Bi.origin,{method:"POST",body:z}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(z)||rt.isArrayBuffer(z))return z.byteLength;if(rt.isURLSearchParams(z)&&(z=z+""),rt.isString(z))return(yield g(z)).byteLength}),L=(z,U)=>Ar(null,null,function*(){let N=rt.toFiniteNumber(z.getContentLength());return N==null?A(U):N});return z=>Ar(null,null,function*(){let{url:U,method:N,data:R,signal:j,cancelToken:H,timeout:Y,onDownloadProgress:re,onUploadProgress:ie,responseType:le,headers:Me,withCredentials:we="same-origin",fetchOptions:ye}=mP(z),xe=t||fetch;le=le?(le+"").toLowerCase():"text";let Ie=Fke([j,H&&H.toAbortSignal()],Y),de=null,Pe=Ie&&Ie.unsubscribe&&(()=>{Ie.unsubscribe()}),Ke;try{if(ie&&_&&N!=="get"&&N!=="head"&&(Ke=yield L(Me,R))!==0){let It=new r(U,{method:"POST",body:R,duplex:"half"}),Ye;if(rt.isFormData(R)&&(Ye=It.headers.get("content-type"))&&Me.setContentType(Ye),It.body){let[pt,ot]=pW(Ke,Q1(fW(ie)));R=mW(It.body,Bke,pt,ot)}}rt.isString(we)||(we=we?"include":"omit");let at=o&&"credentials"in r.prototype,dt=nr(je({},ye),{signal:Ie,method:N.toUpperCase(),headers:Me.normalize().toJSON(),body:R,duplex:"half",credentials:at?we:void 0});de=o&&new r(U,dt);let ze=yield o?xe(de,ye):xe(U,dt),ct=E&&(le==="stream"||le==="response");if(E&&(re||ct&&Pe)){let It={};["status","statusText","headers"].forEach(Ve=>{It[Ve]=ze[Ve]});let Ye=rt.toFiniteNumber(ze.headers.get("content-length")),[pt,ot]=re&&pW(Ye,Q1(fW(re),!0))||[];ze=new n(mW(ze.body,Bke,pt,()=>{ot&&ot(),Pe&&Pe()}),It)}le=le||"text";let _t=yield T[rt.findKey(T,le)||"text"](ze,z);return!ct&&Pe&&Pe(),yield new Promise((It,Ye)=>{cE(It,Ye,{data:_t,headers:Fo.from(ze.headers),status:ze.status,statusText:ze.statusText,config:z,request:de})})}catch(at){throw Pe&&Pe(),at&&at.name==="TypeError"&&/Load failed|fetch/i.test(at.message)?Object.assign(new Hr("Network Error",Hr.ERR_NETWORK,z,de),{cause:at.cause||at}):Hr.from(at,at&&at.code,z,de)}})},Xer=new Map,gW=e=>{let t=e?e.env:{},{fetch:r,Request:n,Response:i}=t,o=[n,i,r],l=o.length,d=l,g,_,E=Xer;for(;d--;)g=o[d],_=E.get(g),_===void 0&&E.set(g,_=d?new Map:Ker(t)),E=_;return _},Uen=gW();var vW={http:cP,xhr:jke,fetch:{get:gW}};rt.forEach(vW,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});var Gke=e=>`- ${e}`,Jer=e=>rt.isFunction(e)||e===null||e===!1,vP={getAdapter:(e,t)=>{e=rt.isArray(e)?e:[e];let{length:r}=e,n,i,o={};for(let l=0;l<r;l++){n=e[l];let d;if(i=n,!Jer(n)&&(i=vW[(d=String(n)).toLowerCase()],i===void 0))throw new Hr(`Unknown adapter '${d}'`);if(i&&(rt.isFunction(i)||(i=i.get(t))))break;o[d||"#"+l]=i}if(!i){let l=Object.entries(o).map(([g,_])=>`adapter ${g} `+(_===!1?"is not supported by the environment":"is not available in the build")),d=r?l.length>1?`since :
`+l.map(Gke).join(`
`):" "+Gke(l[0]):"as no adapter specified";throw new Hr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:vW};function yW(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xp(null,e)}function yP(e){return yW(e),e.headers=Fo.from(e.headers),e.data=lE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vP.getAdapter(e.adapter||K1.adapter,e)(e).then(function(n){return yW(e),n.data=lE.call(e,e.transformResponse,n),n.headers=Fo.from(n.headers),n},function(n){return uE(n)||(yW(e),n&&n.response&&(n.response.data=lE.call(e,e.transformResponse,n.response),n.response.headers=Fo.from(n.response.headers))),Promise.reject(n)})}p();p();var _P="1.12.2";var bP={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bP[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Hke={};bP.transitional=function(t,r,n){function i(o,l){return"[Axios v"+_P+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,d)=>{if(t===!1)throw new Hr(i(l," has been removed"+(r?" in "+r:"")),Hr.ERR_DEPRECATED);return r&&!Hke[l]&&(Hke[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,d):!0}};bP.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function etr(e,t,r){if(typeof e!="object")throw new Hr("options must be an object",Hr.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-->0;){let o=n[i],l=t[o];if(l){let d=e[o],g=d===void 0||l(d,o,e);if(g!==!0)throw new Hr("option "+o+" must be "+g,Hr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Hr("Unknown option "+o,Hr.ERR_BAD_OPTION)}}var fE={assertOptions:etr,validators:bP};var wp=fE.validators,J1=class{constructor(t){this.defaults=t||{},this.interceptors={request:new nW,response:new nW}}request(t,r){return Ar(this,null,function*(){try{return yield this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch(l){}}throw n}})}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pc(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&fE.assertOptions(n,{silentJSONParsing:wp.transitional(wp.boolean),forcedJSONParsing:wp.transitional(wp.boolean),clarifyTimeoutError:wp.transitional(wp.boolean)},!1),i!=null&&(rt.isFunction(i)?r.paramsSerializer={serialize:i}:fE.assertOptions(i,{encode:wp.function,serialize:wp.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fE.assertOptions(r,{baseUrl:wp.spelling("baseURL"),withXsrfToken:wp.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&rt.merge(o.common,o[r.method]);o&&rt.forEach(["delete","get","head","post","put","patch","common"],z=>{delete o[z]}),r.headers=Fo.concat(l,o);let d=[],g=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(g=g&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});let _=[];this.interceptors.response.forEach(function(U){_.push(U.fulfilled,U.rejected)});let E,T=0,A;if(!g){let z=[yP.bind(this),void 0];for(z.unshift(...d),z.push(..._),A=z.length,E=Promise.resolve(r);T<A;)E=E.then(z[T++],z[T++]);return E}A=d.length;let L=r;for(;T<A;){let z=d[T++],U=d[T++];try{L=z(L)}catch(N){U.call(this,N);break}}try{E=yP.call(this,L)}catch(z){return Promise.reject(z)}for(T=0,A=_.length;T<A;)E=E.then(_[T++],_[T++]);return E}getUri(t){t=pc(this.defaults,t);let r=pE(t.baseURL,t.url,t.allowAbsoluteUrls);return aE(r,t.params,t.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(t){J1.prototype[t]=function(r,n){return this.request(pc(n||{},{method:t,url:r,data:(n||{}).data}))}});rt.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,d){return this.request(pc(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}J1.prototype[t]=r(),J1.prototype[t+"Form"]=r(!0)});var dE=J1;p();var _W=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-->0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,l=new Promise(d=>{n.subscribe(d),o=d}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,d){n.reason||(n.reason=new xp(o,l,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e(function(i){t=i}),cancel:t}}},Wke=_W;p();function bW(e){return function(r){return e.apply(null,r)}}p();function xW(e){return rt.isObject(e)&&e.isAxiosError===!0}p();var wW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wW).forEach(([e,t])=>{wW[t]=e});var Zke=wW;function Yke(e){let t=new dE(e),r=rE(dE.prototype.request,t);return rt.extend(r,dE.prototype,t,{allOwnKeys:!0}),rt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Yke(pc(e,i))},r}var To=Yke(K1);To.Axios=dE;To.CanceledError=xp;To.CancelToken=Wke;To.isCancel=uE;To.VERSION=_P;To.toFormData=tm;To.AxiosError=Hr;To.Cancel=To.CanceledError;To.all=function(t){return Promise.all(t)};To.spread=bW;To.isAxiosError=xW;To.mergeConfig=pc;To.AxiosHeaders=Fo;To.formToJSON=e=>dP(rt.isHTMLForm(e)?new FormData(e):e);To.getAdapter=vP.getAdapter;To.HttpStatusCode=Zke;To.default=To;var Sa=To;var{Axios:Qtn,AxiosError:Jtn,CanceledError:ern,isCancel:trn,CancelToken:rrn,VERSION:nrn,all:irn,Cancel:orn,isAxiosError:arn,spread:srn,toFormData:lrn,AxiosHeaders:urn,HttpStatusCode:crn,formToJSON:prn,getAdapter:frn,mergeConfig:drn}=Sa;var e_={EN:"en",DE:"de"},ttr=Nt(b.env.DEV_MODE_SECRET)&&b.env.DEV_MODE_SECRET!==""&&Nt(b.env.DEV_MODE_NAME)&&b.env.DEV_MODE_NAME!=="",xP=()=>({"Dev-Mode-Secret":b.env.DEV_MODE_SECRET,"Dev-Mode-Name":b.env.DEV_MODE_NAME}),Es={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:e_.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1,USER_ROLE:null},zr={axiosApiInstance:null,appendSettings(e){Es=Object.assign({},Es,e)},isDebug(){var e;return!!((e=b==null?void 0:b.env)!=null&&e.VKF_DEBUG)},getSettings(){return Es},getBaseMaps(){return Es.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},Es.MAPVIEW_PARAMS)},getLanguageDict(){return Es.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return Es.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},Es.TERRAIN_TILES)},getUsername(){return Es.USERNAME},isUserAuthenticated(){return Es.USER_ISAUTHENTICATED===!0},updateSettings(e){Es=e},_initAxiosApiInstance(){let e=Es.API_GEOREFERENCE_BASEURL,t=t_(e)&&e.length===0;if(!Nt(e)||t)throw new Error("The URL for the georeference service is not set.");let r=Object.assign({baseURL:e,withCredentials:!0},ttr?{headers:{get:xP(),post:xP(),put:xP(),delete:xP()}}:{});this.axiosApiInstance=Sa.create(r)},getGeoreferenceApiClient(){return Nt(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=Es.MARKER_URL;if(!Nt(e))throw new Error("The marker icon url is not set.");return{id:Es.MARKER_IMAGE_ID,url:e}},getUserRole(){return Es.USER_ROLE}};p();var rtr="vkf-unique-control-panel",EW="basemap-selector",SW=class{constructor(){ht(this,"id",EW)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${rtr}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},Kke=SW;p();var cv=se(aDe(),1);p();var sDe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var wP=3,lDe=e=>`${(0,cv.default)(e[0],7)},${(0,cv.default)(e[1],7)}`,SP=class{constructor(){ht(this,"buttonCopyPosition");ht(this,"textElCurrentPosition");ht(this,"textElSavedPosition");ht(this,"targetEl");ht(this,"_container");ht(this,"_button");ht(this,"savedPosition");ht(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),gt("control-mouseposition-save-helper");{let t=gt("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,cv.default)(this.savedPosition[0],wP)+" Lat: "+(0,cv.default)(this.savedPosition[1],wP)}});ht(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(lDe(r)),this.updatePosition(t)}});ht(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,cv.default)(i.lng,wP)+", Lat: "+(0,cv.default)(i.lat,wP),n.innerHTML=this.generateSavedText()});ht(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(lDe(r)),t.target.blur()});ht(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,l=sDe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let d=document.createElement("p");this.textElCurrentPosition=d;let g=document.createElement("p");this.textElSavedPosition=g;let _=document.createElement("button");_.id="position-copy-to-clipboard",_.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",_.title=gt("control-mouseposition-button-title"),this.buttonCopyPosition=_,_.addEventListener("click",this.handleCopyButtonClick);let E=document.createElement("div");E.className="saved-position-container",E.appendChild(g),E.appendChild(_),o.appendChild(d),o.appendChild(E),l.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),l.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=gt("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};p();p();function uDe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function r_(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function cDe(e){e.parentNode&&e.parentNode.removeChild(e)}var MW="permalink-control",TW=class{constructor(){ht(this,"id",MW)}onAdd(t){return this._map=t,this._container=r_("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},pDe=TW;p();p();p();var rm="vkf-terrain";var fDe=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),dDe=new Set(["visibility"]),Xa={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},fc={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};p();function CW(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function hDe(e){return new Promise(t=>setTimeout(t,e))}var gDe=se(tE(),1);var nm="vkf.globemodechange",mDe=60,EP=class extends gDe.Map{constructor(){super(...arguments);ht(this,"terrainConfiguration",zr.getTerrain());ht(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);ht(this,"isVkfGlobeModeEnabledFlag",!1);ht(this,"abortController",new AbortController);ht(this,"minZoomLevelForTerrain",12);ht(this,"minZoomLevelForPitchAnimation",4)}enableVkfGlobeMode({initialZoom:r}={initialZoom:null}){this.isVkfGlobeModeEnabledFlag=!0,this.fire(nm),this.on("zoomend",this._handleZoomBasedTerrainEnabling),this.on("zoomend",this._handleZoomBasedPitch);let n=()=>{CW(this,this._getFlyToOptions(60)).then(()=>hDe(500)).then(()=>{this._growTerrain(this.terrainExaggeration)})},i=r||this.getZoom();if(i>this.minZoomLevelForPitchAnimation){if(i>=this.minZoomLevelForTerrain){this._enableTerrain(n),this.setProjection({type:"mercator"});return}this.setProjection({type:"globe"}),this.flyTo(this._getFlyToOptions(60))}else this.setMaxPitch(0),this.setProjection({type:"globe"})}disableVkfGlobeMode(){this.isVkfGlobeModeEnabledFlag=!1,this.setMaxPitch(mDe),this.fire(nm),this.off("zoomend",this._handleZoomBasedTerrainEnabling),this.off("zoomend",this._handleZoomBasedPitch);let r=()=>{CW(this,this._getFlyToOptions(0))};if(this.terrain){this._disableTerrain(r),this.setProjection({type:"mercator"});return}this.flyTo(this._getFlyToOptions(0)),this.setProjection({type:"mercator"})}isVkfGlobeModeEnabled(){return this.isVkfGlobeModeEnabledFlag}_growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,l=r-o,d=()=>{if(!this.terrain||this.terrainFlattening)return;let g=(performance.now()-i)/n;if(g<.99){let _=1-xf(1-g,4),E=o+_*l;this.terrain.exaggeration=E,requestAnimationFrame(d)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(d)}_maybeDispatchGrowTerrain(r){let n=o=>Ar(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==rm||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),r())});this.getSource(rm).loaded()?r():this.on("data",n)}_addTerrainSource(){this.addSource(rm,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:rm,exaggeration:0})}_enableTerrain(r){let n=this.terrainExaggeration;if(n<0){console.warn("Terrain exaggeration cannot be negative.");return}if(this.getTerrain()){this._growTerrain(n);return}this.loaded()||this.isVkfGlobeModeEnabled()?(this._addTerrainSource(),this._maybeDispatchGrowTerrain(r)):this.once("load",()=>{this.getTerrain()&&this.getSource(rm)||(this._addTerrainSource(),this._maybeDispatchGrowTerrain(r))})}_disableTerrain(r=()=>{}){if(!this.terrain)return;let n=1*1e3,i=performance.now(),o=this.terrain.exaggeration,l=()=>{if(!this.terrain||this.terrainGrowing)return;let d=(performance.now()-i)/n;if(this._elevationFreeze=!1,d<.99){let g=xf(1-d,4),_=o*g;this.terrain.exaggeration=_,requestAnimationFrame(l)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(rm)&&this.removeSource(rm),r();this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(l)}_getFlyToOptions(r){return this.abortController.abort(),this.abortController=new AbortController,{signal:this.abortController.signal,pitch:r,duration:700}}_handleZoomBasedTerrainEnabling(){if(this.getZoom()>=this.minZoomLevelForTerrain){this._enableTerrain(()=>{this._growTerrain(this.terrainExaggeration),this.setProjection({type:"mercator"})});return}this._disableTerrain(()=>{this.setProjection({type:"globe"})})}_handleZoomBasedPitch(){let r=this.getZoom(),n=this.getPitch();if(r>=this.minZoomLevelForPitchAnimation){this.setMaxPitch(mDe);return}if(n===0){this.setMaxPitch(0);return}this.flyTo(this._getFlyToOptions(0)),this.once("pitchend",()=>{this.setMaxPitch(0)})}};var IP=class{constructor(){ht(this,"_map");ht(this,"_container");ht(this,"_button");uDe(["_toggleState","_updateIcon","_toggleProjection"],this)}onAdd(t){return this._map=t,this._container=r_("div","maplibregl-ctrl maplibregl-ctrl-group"),this._button=r_("button","maplibregl-ctrl-terrain",this._container),r_("span","maplibregl-ctrl-icon",this._button).setAttribute("aria-hidden","true"),this._button.type="button",this._button.addEventListener("click",this._toggleState),this._updateIcon(),this._map.on(nm,this._updateIcon),this._container}onRemove(){cDe(this._container),this._map.off(nm,this._updateIcon),this._map=void 0}_isVkfGlobeModeEnabled(){return this._map.isVkfGlobeModeEnabled()}_toggleState(){this._isVkfGlobeModeEnabled()?this._map.disableVkfGlobeMode():this._map.enableVkfGlobeMode(),this._updateIcon()}_updateIcon(){this._button.classList.remove("maplibregl-ctrl-vkf-globe-mode"),this._button.classList.remove("maplibregl-ctrl-vkf-globe-mode-enabled"),this._isVkfGlobeModeEnabled()?(this._button.classList.add("maplibregl-ctrl-vkf-globe-mode-enabled"),this._button.title=this._map._getUIString("VkfGlobeModeControl.Disable")):(this._button.classList.add("maplibregl-ctrl-vkf-globe-mode"),this._button.title=this._map._getUIString("VkfGlobeModeControl.Enable"))}};function Nt(e){return e!=null}function t_(e){return typeof e=="string"||e instanceof String}function vDe(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function yDe(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="https:"}function gt(e){let t=zr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var _De=()=>[{position:"top-left",control:new dc.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new dc.FullscreenControl({container:document.body})},{position:"top-left",control:new dc.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new SP},{position:"top-left",control:new IP},{position:"top-left",control:new Kke},{position:"top-left",control:new dc.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new pDe},{position:"bottom-right",control:new dc.AttributionControl({compact:!0})},{position:"bottom-right",control:new dc.ScaleControl({maxWidth:137})}];p();p();p();var bDe={NONE:0,FEATURE:1,METADATA:2,HISTORY:3},xDe={NONE:0,METADATA:1},Sp={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},wDe={STANDARD:"STANDARD",DRAW:"DRAW",VECTOR_MAP_EXTERNAL:"VECTOR_MAP_EXTERNAL"};var SDe=e=>{switch(e){case Sp.HORIZONTAL:default:return"ol-map-large";case Sp.VERTICAL:return"ol-map-small"}};p();p();p();p();p();p();var rr={id:"id",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name",description:"description",timePeriod:"time_period",externalContentUrl:"external_content_url",externalContentType:"external_content_type",type:"type",vectorMapId:"vector_map_id",version:"version",userRole:"user_role"},Ep={id:"vkf:layer_id",contentType:"vkf:content_type"},pv={VKF:"vkf:geojson-spec-v1",IDOHIST:"idohist:idohist-v1"},Qa={HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic",VECTOR_MAP:"vector",LEGACY_GEOJSON:"geojson"},Yf={VISIBLE:"visible",NONE:"none"};p();p();p();var wtr=Math.pow(10,8)*24*60*60*1e3,dnn=-wtr,TP=6048e5,EDe=864e5,hE=6e4,mE=36e5,IDe=1e3;var Str=3600;var TDe=Str*24,hnn=TDe*7,Etr=TDe*365.2425,Itr=Etr/12,mnn=Itr*3,AW=Symbol.for("constructDateFrom");function On(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&AW in e?e[AW](t):e instanceof Date?new e.constructor(t):new Date(t)}p();function Jr(e,t){return On(t||e,e)}function MP(e,t,r){let n=Jr(e,r==null?void 0:r.in);return isNaN(t)?On((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}p();p();p();p();var Ttr={};function bu(){return Ttr}function el(e,t){var d,g,_,E,T,A,L,z;let r=bu(),n=(z=(L=(E=(_=t==null?void 0:t.weekStartsOn)!=null?_:(g=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)!=null?E:r.weekStartsOn)!=null?L:(A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)!=null?z:0,i=Jr(e,t==null?void 0:t.in),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function hc(e,t){return el(e,nr(je({},t),{weekStartsOn:1}))}function CP(e,t){let r=Jr(e,t==null?void 0:t.in),n=r.getFullYear(),i=On(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=hc(i),l=On(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);let d=hc(l);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}p();p();function fv(e){let t=Jr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}p();function AP(e,...t){let r=On.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}p();function gE(e,t){let r=Jr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function MDe(e,t,r){let[n,i]=AP(r==null?void 0:r.in,e,t),o=gE(n),l=gE(i),d=+o-fv(o),g=+l-fv(l);return Math.round((d-g)/EDe)}p();function CDe(e,t){let r=CP(e,t),n=On((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),hc(n)}p();p();function ADe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function PP(e){return!(!ADe(e)&&typeof e!="number"||isNaN(+Jr(e)))}p();function PDe(e,t){let r=Jr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}p();p();p();p();var Mtr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ODe=(e,t,r)=>{let n,i=Mtr[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};p();p();function OP(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Ctr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Atr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ptr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kDe={date:OP({formats:Ctr,defaultWidth:"full"}),time:OP({formats:Atr,defaultWidth:"full"}),dateTime:OP({formats:Ptr,defaultWidth:"full"})};p();var Otr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DDe=(e,t,r,n)=>Otr[e];p();p();function n_(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let l=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):l;i=e.formattingValues[d]||e.formattingValues[l]}else{let l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[l]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var ktr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dtr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ntr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rtr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ltr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qtr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ztr=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NDe={ordinalNumber:ztr,era:n_({values:ktr,defaultWidth:"wide"}),quarter:n_({values:Dtr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:n_({values:Ntr,defaultWidth:"wide"}),day:n_({values:Rtr,defaultWidth:"wide"}),dayPeriod:n_({values:Ltr,defaultWidth:"wide",formattingValues:qtr,defaultFormattingWidth:"wide"})};p();p();function i_(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let l=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(d)?Ftr(d,T=>T.test(l)):jtr(d,T=>T.test(l)),_;_=e.valueCallback?e.valueCallback(g):g,_=r.valueCallback?r.valueCallback(_):_;let E=t.slice(l.length);return{value:_,rest:E}}}function jtr(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ftr(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}p();function RDe(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;let d=t.slice(i.length);return{value:l,rest:d}}}var Btr=/^(\d+)(th|st|nd|rd)?/i,Utr=/\d+/i,Vtr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$tr={any:[/^b/i,/^(a|c)/i]},Gtr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Htr={any:[/1/i,/2/i,/3/i,/4/i]},Wtr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ztr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ytr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ktr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xtr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qtr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LDe={ordinalNumber:RDe({matchPattern:Btr,parsePattern:Utr,valueCallback:e=>parseInt(e,10)}),era:i_({matchPatterns:Vtr,defaultMatchWidth:"wide",parsePatterns:$tr,defaultParseWidth:"any"}),quarter:i_({matchPatterns:Gtr,defaultMatchWidth:"wide",parsePatterns:Htr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:i_({matchPatterns:Wtr,defaultMatchWidth:"wide",parsePatterns:Ztr,defaultParseWidth:"any"}),day:i_({matchPatterns:Ytr,defaultMatchWidth:"wide",parsePatterns:Ktr,defaultParseWidth:"any"}),dayPeriod:i_({matchPatterns:Xtr,defaultMatchWidth:"any",parsePatterns:Qtr,defaultParseWidth:"any"})};var vE={code:"en-US",formatDistance:ODe,formatLong:kDe,formatRelative:DDe,localize:NDe,match:LDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};p();p();function qDe(e,t){let r=Jr(e,t==null?void 0:t.in);return MDe(r,PDe(r))+1}p();function kP(e,t){let r=Jr(e,t==null?void 0:t.in),n=+hc(r)-+CDe(r);return Math.round(n/TP)+1}p();p();p();function o_(e,t){var E,T,A,L,z,U,N,R;let r=Jr(e,t==null?void 0:t.in),n=r.getFullYear(),i=bu(),o=(R=(N=(L=(A=t==null?void 0:t.firstWeekContainsDate)!=null?A:(T=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)!=null?L:i.firstWeekContainsDate)!=null?N:(U=(z=i.locale)==null?void 0:z.options)==null?void 0:U.firstWeekContainsDate)!=null?R:1,l=On((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);let d=el(l,t),g=On((t==null?void 0:t.in)||e,0);g.setFullYear(n,0,o),g.setHours(0,0,0,0);let _=el(g,t);return+r>=+d?n+1:+r>=+_?n:n-1}function zDe(e,t){var d,g,_,E,T,A,L,z;let r=bu(),n=(z=(L=(E=(_=t==null?void 0:t.firstWeekContainsDate)!=null?_:(g=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)!=null?E:r.firstWeekContainsDate)!=null?L:(A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)!=null?z:1,i=o_(e,t),o=On((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),el(o,t)}function DP(e,t){let r=Jr(e,t==null?void 0:t.in),n=+el(r,t)-+zDe(r,t);return Math.round(n/TP)+1}p();function gn(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}p();var Kf={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return gn(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):gn(r+1,2)},d(e,t){return gn(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return gn(e.getHours()%12||12,t.length)},H(e,t){return gn(e.getHours(),t.length)},m(e,t){return gn(e.getMinutes(),t.length)},s(e,t){return gn(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return gn(i,t.length)}};var a_={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PW={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Kf.y(e,t)},Y:function(e,t,r,n){let i=o_(e,n),o=i>0?i:1-i;if(t==="YY"){let l=o%100;return gn(l,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):gn(o,t.length)},R:function(e,t){let r=CP(e);return gn(r,t.length)},u:function(e,t){let r=e.getFullYear();return gn(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return gn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return gn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return Kf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return gn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){let i=DP(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):gn(i,t.length)},I:function(e,t,r){let n=kP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):gn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Kf.d(e,t)},D:function(e,t,r){let n=qDe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):gn(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return gn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return gn(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return gn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=a_.noon:n===0?i=a_.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=a_.evening:n>=12?i=a_.afternoon:n>=4?i=a_.morning:i=a_.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Kf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Kf.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):gn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):gn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Kf.s(e,t)},S:function(e,t){return Kf.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return FDe(n);case"XXXX":case"XX":return dv(n);case"XXXXX":case"XXX":default:return dv(n,":")}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return FDe(n);case"xxxx":case"xx":return dv(n);case"xxxxx":case"xxx":default:return dv(n,":")}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jDe(n,":");case"OOOO":default:return"GMT"+dv(n,":")}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jDe(n,":");case"zzzz":default:return"GMT"+dv(n,":")}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return gn(n,t.length)},T:function(e,t,r){return gn(+e,t.length)}};function jDe(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+gn(o,2)}function FDe(e,t){return e%60===0?(e>0?"-":"+")+gn(Math.abs(e)/60,2):dv(e,t)}function dv(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=gn(Math.trunc(n/60),2),o=gn(n%60,2);return r+i+t+o}p();var BDe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UDe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Jtr=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return BDe(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",BDe(n,t)).replace("{{time}}",UDe(i,t))},yE={p:UDe,P:Jtr};p();var err=/^D+$/,trr=/^Y+$/,rrr=["D","DD","YY","YYYY"];function NP(e){return err.test(e)}function RP(e){return trr.test(e)}function _E(e,t,r){let n=nrr(e,t,r);if(console.warn(n),rrr.includes(e))throw new RangeError(n)}function nrr(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var irr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,orr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,arr=/^'([^]*?)'?$/,srr=/''/g,lrr=/[a-zA-Z]/;function OW(e,t,r){var E,T,A,L,z,U,N,R,j,H,Y,re,ie,le,Me,we,ye,xe;let n=bu(),i=(T=(E=r==null?void 0:r.locale)!=null?E:n.locale)!=null?T:vE,o=(H=(j=(U=(z=r==null?void 0:r.firstWeekContainsDate)!=null?z:(L=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:L.firstWeekContainsDate)!=null?U:n.firstWeekContainsDate)!=null?j:(R=(N=n.locale)==null?void 0:N.options)==null?void 0:R.firstWeekContainsDate)!=null?H:1,l=(xe=(ye=(le=(ie=r==null?void 0:r.weekStartsOn)!=null?ie:(re=(Y=r==null?void 0:r.locale)==null?void 0:Y.options)==null?void 0:re.weekStartsOn)!=null?le:n.weekStartsOn)!=null?ye:(we=(Me=n.locale)==null?void 0:Me.options)==null?void 0:we.weekStartsOn)!=null?xe:0,d=Jr(e,r==null?void 0:r.in);if(!PP(d))throw new RangeError("Invalid time value");let g=t.match(orr).map(Ie=>{let de=Ie[0];if(de==="p"||de==="P"){let Pe=yE[de];return Pe(Ie,i.formatLong)}return Ie}).join("").match(irr).map(Ie=>{if(Ie==="''")return{isToken:!1,value:"'"};let de=Ie[0];if(de==="'")return{isToken:!1,value:urr(Ie)};if(PW[de])return{isToken:!0,value:Ie};if(de.match(lrr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");return{isToken:!1,value:Ie}});i.localize.preprocessor&&(g=i.localize.preprocessor(d,g));let _={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return g.map(Ie=>{if(!Ie.isToken)return Ie.value;let de=Ie.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&RP(de)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&NP(de))&&_E(de,t,String(e));let Pe=PW[de[0]];return Pe(d,de,i.localize,_)}).join("")}function urr(e){let t=e.match(arr);return t?t[1].replace(srr,"'"):e}p();function VDe(e,t){var _,E;let r=Jr(e,t==null?void 0:t.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=(_=t==null?void 0:t.format)!=null?_:"extended",i=(E=t==null?void 0:t.representation)!=null?E:"complete",o="",l="",d=n==="extended"?"-":"",g=n==="extended"?":":"";if(i!=="time"){let T=gn(r.getDate(),2),A=gn(r.getMonth()+1,2);o=`${gn(r.getFullYear(),4)}${d}${A}${d}${T}`}if(i!=="date"){let T=r.getTimezoneOffset();if(T!==0){let R=Math.abs(T),j=gn(Math.trunc(R/60),2),H=gn(R%60,2);l=`${T<0?"+":"-"}${j}:${H}`}else l="Z";let A=gn(r.getHours(),2),L=gn(r.getMinutes(),2),z=gn(r.getSeconds(),2),U=o===""?"":"T",N=[A,L,z].join(g);o=`${o}${U}${N}${l}`}return o}p();function $De(){return Object.assign({},bu())}p();function GDe(e,t){let r=Jr(e,t==null?void 0:t.in).getDay();return r===0?7:r}p();function bE(e,t){return Jr(e,t==null?void 0:t.in).getFullYear()}p();p();p();function HDe(e,t){let r=crr(t)?new t(0):On(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function crr(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var prr=10,LP=class{constructor(){ht(this,"subPriority",0)}validate(t,r){return!0}},qP=class extends LP{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},zP=class extends LP{constructor(r,n){super();ht(this,"priority",prr);ht(this,"subPriority",-1);this.context=r||(i=>On(n,i))}set(r,n){return n.timestampIsSet?r:On(r,HDe(r,this.context))}};p();p();p();var gr=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new qP(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var jP=class extends gr{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};p();p();p();var Rn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ri(e,t){return e&&{value:t(e.value),rest:e.rest}}function kn(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function wu(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:n*(i*mE+o*hE+l*IDe),rest:t.slice(r[0].length)}}function FP(e){return kn(Rn.anyDigitsSigned,e)}function fn(e,t){switch(e){case 1:return kn(Rn.singleDigit,t);case 2:return kn(Rn.twoDigits,t);case 3:return kn(Rn.threeDigits,t);case 4:return kn(Rn.fourDigits,t);default:return kn(new RegExp("^\\d{1,"+e+"}"),t)}}function s_(e,t){switch(e){case 1:return kn(Rn.singleDigitSigned,t);case 2:return kn(Rn.twoDigitsSigned,t);case 3:return kn(Rn.threeDigitsSigned,t);case 4:return kn(Rn.fourDigitsSigned,t);default:return kn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function l_(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function BP(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,l=Math.trunc(o/100)*100,d=e>=o%100;i=e+l-(d?100:0)}return r?i:1-i}function UP(e){return e%400===0||e%4===0&&e%100!==0}var VP=class extends gr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return ri(fn(4,r),o);case"yo":return ri(i.ordinalNumber(r,{unit:"year"}),o);default:return ri(fn(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let d=BP(i.year,o);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}let l=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}};p();var $P=class extends gr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ri(fn(4,r),o);case"Yo":return ri(i.ordinalNumber(r,{unit:"year"}),o);default:return ri(fn(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let l=o_(r,o);if(i.isTwoDigitYear){let g=BP(i.year,l);return r.setFullYear(g,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),el(r,o)}let d=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(d,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),el(r,o)}};p();var GP=class extends gr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?s_(4,r):s_(n.length,r)}set(r,n,i){let o=On(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),hc(o)}};p();var HP=class extends gr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?s_(4,r):s_(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};p();var WP=class extends gr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return fn(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};p();var ZP=class extends gr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return fn(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};p();var YP=class extends gr{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(r,n,i){let o=l=>l-1;switch(n){case"M":return ri(kn(Rn.month,r),o);case"MM":return ri(fn(2,r),o);case"Mo":return ri(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};p();var KP=class extends gr{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=l=>l-1;switch(n){case"L":return ri(kn(Rn.month,r),o);case"LL":return ri(fn(2,r),o);case"Lo":return ri(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};p();p();function WDe(e,t,r){let n=Jr(e,r==null?void 0:r.in),i=DP(n,r)-t;return n.setDate(n.getDate()-i*7),Jr(n,r==null?void 0:r.in)}var XP=class extends gr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return kn(Rn.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return fn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return el(WDe(r,i,o),o)}};p();p();function ZDe(e,t,r){let n=Jr(e,r==null?void 0:r.in),i=kP(n,r)-t;return n.setDate(n.getDate()-i*7),n}var QP=class extends gr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return kn(Rn.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return fn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return hc(ZDe(r,i))}};p();var frr=[31,28,31,30,31,30,31,31,30,31,30,31],drr=[31,29,31,30,31,30,31,31,30,31,30,31],JP=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return kn(Rn.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return fn(n.length,r)}}validate(r,n){let i=r.getFullYear(),o=UP(i),l=r.getMonth();return o?n>=1&&n<=drr[l]:n>=1&&n<=frr[l]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};p();var eO=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return kn(Rn.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return fn(n.length,r)}}validate(r,n){let i=r.getFullYear();return UP(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};p();p();function u_(e,t,r){var T,A,L,z,U,N,R,j;let n=bu(),i=(j=(R=(z=(L=r==null?void 0:r.weekStartsOn)!=null?L:(A=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)!=null?z:n.weekStartsOn)!=null?R:(N=(U=n.locale)==null?void 0:U.options)==null?void 0:N.weekStartsOn)!=null?j:0,o=Jr(e,r==null?void 0:r.in),l=o.getDay(),g=(t%7+7)%7,_=7-i,E=t<0||t>6?t-(l+_)%7:(g+_)%7-(l+_)%7;return MP(o,E,r)}var tO=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=u_(r,i,o),r.setHours(0,0,0,0),r}};p();var rO=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let l=d=>{let g=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+g};switch(n){case"e":case"ee":return ri(fn(n.length,r),l);case"eo":return ri(i.ordinalNumber(r,{unit:"day"}),l);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=u_(r,i,o),r.setHours(0,0,0,0),r}};p();var nO=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let l=d=>{let g=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+g};switch(n){case"c":case"cc":return ri(fn(n.length,r),l);case"co":return ri(i.ordinalNumber(r,{unit:"day"}),l);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=u_(r,i,o),r.setHours(0,0,0,0),r}};p();p();function YDe(e,t,r){let n=Jr(e,r==null?void 0:r.in),i=GDe(n,r),o=t-i;return MP(n,o,r)}var iO=class extends gr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=l=>l===0?7:l;switch(n){case"i":case"ii":return fn(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return ri(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return ri(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ri(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ri(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=YDe(r,i),r.setHours(0,0,0,0),r}};p();var oO=class extends gr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(l_(i),0,0,0),r}};p();var aO=class extends gr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(l_(i),0,0,0),r}};p();var sO=class extends gr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(l_(i),0,0,0),r}};p();var lO=class extends gr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return kn(Rn.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return fn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};p();var uO=class extends gr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return kn(Rn.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return fn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};p();var cO=class extends gr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return kn(Rn.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return fn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};p();var pO=class extends gr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return kn(Rn.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return fn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};p();var fO=class extends gr{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return kn(Rn.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return fn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};p();var dO=class extends gr{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return kn(Rn.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return fn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};p();var hO=class extends gr{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return ri(fn(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};p();var mO=class extends gr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return wu(xu.basicOptionalMinutes,r);case"XX":return wu(xu.basic,r);case"XXXX":return wu(xu.basicOptionalSeconds,r);case"XXXXX":return wu(xu.extendedOptionalSeconds,r);case"XXX":default:return wu(xu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:On(r,r.getTime()-fv(r)-i)}};p();var gO=class extends gr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return wu(xu.basicOptionalMinutes,r);case"xx":return wu(xu.basic,r);case"xxxx":return wu(xu.basicOptionalSeconds,r);case"xxxxx":return wu(xu.extendedOptionalSeconds,r);case"xxx":default:return wu(xu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:On(r,r.getTime()-fv(r)-i)}};p();var vO=class extends gr{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(r){return FP(r)}set(r,n,i){return[On(r,i*1e3),{timestampIsSet:!0}]}};p();var yO=class extends gr{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(r){return FP(r)}set(r,n,i){return[On(r,i),{timestampIsSet:!0}]}};var KDe={G:new jP,y:new VP,Y:new $P,R:new GP,u:new HP,Q:new WP,q:new ZP,M:new YP,L:new KP,w:new XP,I:new QP,d:new JP,D:new eO,E:new tO,e:new rO,c:new nO,i:new iO,a:new oO,b:new aO,B:new sO,h:new lO,H:new uO,K:new cO,k:new pO,m:new fO,s:new dO,S:new hO,X:new mO,x:new gO,t:new vO,T:new yO};var hrr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mrr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,grr=/^'([^]*?)'?$/,vrr=/''/g,yrr=/\S/,_rr=/[a-zA-Z]/;function kW(e,t,r,n){var N,R,j,H,Y,re,ie,le,Me,we,ye,xe,Ie,de,Pe,Ke,at,dt;let i=()=>On((n==null?void 0:n.in)||r,NaN),o=$De(),l=(R=(N=n==null?void 0:n.locale)!=null?N:o.locale)!=null?R:vE,d=(we=(Me=(re=(Y=n==null?void 0:n.firstWeekContainsDate)!=null?Y:(H=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:H.firstWeekContainsDate)!=null?re:o.firstWeekContainsDate)!=null?Me:(le=(ie=o.locale)==null?void 0:ie.options)==null?void 0:le.firstWeekContainsDate)!=null?we:1,g=(dt=(at=(de=(Ie=n==null?void 0:n.weekStartsOn)!=null?Ie:(xe=(ye=n==null?void 0:n.locale)==null?void 0:ye.options)==null?void 0:xe.weekStartsOn)!=null?de:o.weekStartsOn)!=null?at:(Ke=(Pe=o.locale)==null?void 0:Pe.options)==null?void 0:Ke.weekStartsOn)!=null?dt:0;if(!t)return e?i():Jr(r,n==null?void 0:n.in);let _={firstWeekContainsDate:d,weekStartsOn:g,locale:l},E=[new zP(n==null?void 0:n.in,r)],T=t.match(mrr).map(ze=>{let ct=ze[0];if(ct in yE){let _t=yE[ct];return _t(ze,l.formatLong)}return ze}).join("").match(hrr),A=[];for(let ze of T){!(n!=null&&n.useAdditionalWeekYearTokens)&&RP(ze)&&_E(ze,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&NP(ze)&&_E(ze,t,e);let ct=ze[0],_t=KDe[ct];if(_t){let{incompatibleTokens:It}=_t;if(Array.isArray(It)){let pt=A.find(ot=>It.includes(ot.token)||ot.token===ct);if(pt)throw new RangeError(`The format string mustn't contain \`${pt.fullToken}\` and \`${ze}\` at the same time`)}else if(_t.incompatibleTokens==="*"&&A.length>0)throw new RangeError(`The format string mustn't contain \`${ze}\` and any other token at the same time`);A.push({token:ct,fullToken:ze});let Ye=_t.run(e,ze,l.match,_);if(!Ye)return i();E.push(Ye.setter),e=Ye.rest}else{if(ct.match(_rr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ct+"`");if(ze==="''"?ze="'":ct==="'"&&(ze=brr(ze)),e.indexOf(ze)===0)e=e.slice(ze.length);else return i()}}if(e.length>0&&yrr.test(e))return i();let L=E.map(ze=>ze.priority).sort((ze,ct)=>ct-ze).filter((ze,ct,_t)=>_t.indexOf(ze)===ct).map(ze=>E.filter(ct=>ct.priority===ze).sort((ct,_t)=>_t.subPriority-ct.subPriority)).map(ze=>ze[0]),z=Jr(r,n==null?void 0:n.in);if(isNaN(+z))return i();let U={};for(let ze of L){if(!ze.validate(z,_))return i();let ct=ze.set(z,U,_);Array.isArray(ct)?(z=ct[0],Object.assign(U,ct[1])):z=ct}return z}function brr(e){return e.match(grr)[1].replace(vrr,"'")}p();function XDe(e,t,r){let[n,i]=AP(r==null?void 0:r.in,e,t);return n.getFullYear()===i.getFullYear()}p();function QDe(e,t){var _;let r=()=>On(t==null?void 0:t.in,NaN),n=(_=t==null?void 0:t.additionalDigits)!=null?_:2,i=Err(e),o;if(i.date){let E=Irr(i.date,n);o=Trr(E.restDateString,E.year)}if(!o||isNaN(+o))return r();let l=+o,d=0,g;if(i.time&&(d=Mrr(i.time),isNaN(d)))return r();if(i.timezone){if(g=Crr(i.timezone),isNaN(g))return r()}else{let E=new Date(l+d),T=Jr(0,t==null?void 0:t.in);return T.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),T.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),T}return Jr(l+d+g,t==null?void 0:t.in)}var _O={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xrr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wrr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Srr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Err(e){let t={},r=e.split(_O.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],_O.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_O.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let i=_O.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Irr(e,t){let r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};let i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function Trr(e,t){if(t===null)return new Date(NaN);let r=e.match(xrr);if(!r)return new Date(NaN);let n=!!r[4],i=xE(r[1]),o=xE(r[2])-1,l=xE(r[3]),d=xE(r[4]),g=xE(r[5])-1;if(n)return Drr(t,d,g)?Arr(t,d,g):new Date(NaN);{let _=new Date(0);return!Orr(t,o,l)||!krr(t,i)?new Date(NaN):(_.setUTCFullYear(t,o,Math.max(i,l)),_)}}function xE(e){return e?parseInt(e):1}function Mrr(e){let t=e.match(wrr);if(!t)return NaN;let r=DW(t[1]),n=DW(t[2]),i=DW(t[3]);return Nrr(r,n,i)?r*mE+n*hE+i*1e3:NaN}function DW(e){return e&&parseFloat(e.replace(",","."))||0}function Crr(e){if(e==="Z")return 0;let t=e.match(Srr);if(!t)return 0;let r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Rrr(n,i)?r*(n*mE+i*hE):NaN}function Arr(e,t,r){let n=new Date(0);n.setUTCFullYear(e,0,4);let i=n.getUTCDay()||7,o=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var Prr=[31,null,31,30,31,30,31,31,30,31,30,31];function JDe(e){return e%400===0||e%4===0&&e%100!==0}function Orr(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Prr[t]||(JDe(e)?29:28))}function krr(e,t){return t>=1&&t<=(JDe(e)?366:365)}function Drr(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Nrr(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Rrr(e,t){return t>=0&&t<=59}var c_=class e{constructor({metadata:t,geometry:r}){ht(this,"metadata",{});ht(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return Nt(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!Nt(t)){console.error("Cannot update metadata without key");return}if(!Object.values(rr).includes(t)){console.error(`Cannot update metadata with invalid key '${t}'`);return}this.metadata[t]=r}getSortTime(){let t=this.metadata[rr.timePeriod][0];return bE(t)}getDisplayTime(){let[t,r]=this.metadata[rr.timePeriod];return XDe(t,r)?bE(t):`${bE(t)} \u2013 ${bE(r)}`}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};p();p();var wO=se(tt(),1);p();p();var wE=se(tt(),1);var bO=se(ir(),1);var eNe=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},Lrr=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},tNe=e=>{let t=hr(bn);return(0,wE.useEffect)(()=>{if(Nt(t)){let r=()=>{eNe(t,je({},e))};return t._loaded?eNe(t,je({},e)):t.once("load",r),()=>{Lrr(t,je({},e)),t.off("load",r)}}},[t]),wE.default.createElement(wE.default.Fragment,null)};tNe.propTypes={sourceId:bO.default.string.isRequired,fillId:bO.default.string.isRequired,outlineId:bO.default.string.isRequired};var rNe=tNe;var xO=rNe;var nNe="vkf-map-overlay-source",Is="vkf-map-overlay-fill",qrr="vkf-map-overlay-outline",NW=(e,t)=>{let r=e.getSource(nNe);r&&r.setData(t)},iNe=()=>wO.default.createElement(wO.default.Fragment,null,wO.default.createElement(xO,{sourceId:nNe,fillId:Is,outlineId:qrr}));iNe.propTypes={};var oNe=iNe;var aNe=(e,t,r,n)=>{var l,d;let i=e.getId();t.addSource(i,nr(je({type:"raster"},r),{bounds:e.getMetadata(rr.bounds)}));let o=t.getLayer(Is)!==void 0?Is:void 0;t.addLayer({id:i,type:"raster",metadata:{[Ep.id]:i},source:i,layout:{visibility:(l=n==null?void 0:n.visibility)!=null?l:"visible"},paint:{"raster-opacity":(d=n==null?void 0:n.opacity)!=null?d:1}},o)};p();p();p();var Dl=6371008.8,Lpn={centimeters:Dl*100,centimetres:Dl*100,degrees:360/(2*Math.PI),feet:Dl*3.28084,inches:Dl*39.37,kilometers:Dl/1e3,kilometres:Dl/1e3,meters:Dl,metres:Dl,miles:Dl/1609.344,millimeters:Dl*1e3,millimetres:Dl*1e3,nauticalmiles:Dl/1852,radians:1,yards:Dl*1.0936};function lNe(e,t,r={}){let n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function uNe(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!sNe(e[0])||!sNe(e[1]))throw new Error("coordinates must contain numbers");return lNe({type:"Point",coordinates:e},t,r)}function cNe(e,t,r={}){for(let i of e){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return lNe({type:"Polygon",coordinates:e},t,r)}function pNe(e,t={}){let r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function sNe(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function SE(e,t,r){if(e!==null)for(var n,i,o,l,d,g,_,E=0,T=0,A,L=e.type,z=L==="FeatureCollection",U=L==="Feature",N=z?e.features.length:1,R=0;R<N;R++){_=z?e.features[R].geometry:U?e.geometry:e,A=_?_.type==="GeometryCollection":!1,d=A?_.geometries.length:1;for(var j=0;j<d;j++){var H=0,Y=0;if(l=A?_.geometries[j]:_,l!==null){g=l.coordinates;var re=l.type;switch(E=r&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(t(g,T,R,H,Y)===!1)return!1;T++,H++;break;case"LineString":case"MultiPoint":for(n=0;n<g.length;n++){if(t(g[n],T,R,H,Y)===!1)return!1;T++,re==="MultiPoint"&&H++}re==="LineString"&&H++;break;case"Polygon":case"MultiLineString":for(n=0;n<g.length;n++){for(i=0;i<g[n].length-E;i++){if(t(g[n][i],T,R,H,Y)===!1)return!1;T++}re==="MultiLineString"&&H++,re==="Polygon"&&Y++}re==="Polygon"&&H++;break;case"MultiPolygon":for(n=0;n<g.length;n++){for(Y=0,i=0;i<g[n].length;i++){for(o=0;o<g[n][i].length-E;o++){if(t(g[n][i][o],T,R,H,Y)===!1)return!1;T++}Y++}H++}break;case"GeometryCollection":for(n=0;n<l.geometries.length;n++)if(SE(l.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function EE(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return SE(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var IE,SO,fNe,RW=class extends c_{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});oo(this,SO);oo(this,IE,!1);Ri(this,SO,fNe).call(this)}addLayerToMap(r,{sourceSettings:n,layerSettings:i}){if(r.getSource(this.getId())){console.error(`Source with id '${this.getId()}' exists already in map.`);return}return aNe(this,r,n,i)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.getPreviewFeature();o.id=this.getId();let l=[o];i.updateData({add:l})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}getPreviewFeature(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return Qa.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){let i=n;Nt(n)||(Nt(r.getLayer(Is))?i=Is:i=null),r.moveLayer(this.getId(),i)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return mr(this,IE)}setIsMissing(r){ao(this,IE,r)}};IE=new WeakMap,SO=new WeakSet,fNe=function(){let r=this.geometry?EE(this.geometry):void 0;this.metadata[rr.bounds]=r};var dNe=RW;var hv=dNe;p();p();p();p();p();p();p();var TE=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},hNe=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(hNe.test(e)){let t=Date.prototype[e.replace(hNe,"$1UTC")];t&&(TE.prototype[e]=t)}});var EO=class extends TE{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=zrr.format(this),r=jrr.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${Frr.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,je({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,je({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,je({timeZone:"UTC"},r))}},zrr=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),jrr=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),Frr=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});p();var im=e=>new EO(+new Date(e));var p_={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function om(e){let t=zr.getSettings().LANGUAGE_CODE,r=new Date(e);return MO(r)?Object.hasOwn(p_,t)?OW(r,p_[t],{in:im}):OW(r,p_[e_.EN],{in:im}):e}function IO(e){let t=zr.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn(p_,t)?kW(e,p_[t],r,{in:im}):kW(e,p_[e_.EN],r,{in:im})}function f_(e,t={}){let r="";try{r=VDe(e,nr(je({},t),{in:im}))}catch(n){r=""}return r}function TO(e){return!Nt(e)||!t_(e)?new Date("invalid"):QDe(e,{in:im})}function MO(e){return PP(e)}function CO(e){return gE(e,{in:im})}function mNe(){return[f_(Date.now(),{representation:"date"}),f_(Date.now(),{representation:"date"})]}p();p();var jr={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},ME={[jr.LINE]:"line-opacity",[jr.FILL]:"fill-opacity",[jr.OUTLINE]:"outline-opacity"},LW={[jr.LINE]:"stroke-opacity",[jr.FILL]:"fill-opacity",[jr.OUTLINE]:"stroke-opacity"},qW=e=>Object.keys(LW).includes(e),Dn={[jr.SYMBOL]:{COLOR:"#0000FF"},[jr.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[jr.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[jr.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},zW={[jr.SYMBOL]:{type:"symbol",layout:{"icon-image":zr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom","icon-allow-overlap":!0},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],Dn[jr.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["==",["geometry-type"],"Point"]},[jr.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Dn[jr.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Dn[jr.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Dn[jr.LINE].OPACITY]},filter:["==",["geometry-type"],"LineString"]},[jr.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Dn[jr.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Dn[jr.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Dn[jr.OUTLINE].OPACITY]},filter:["==",["geometry-type"],"Polygon"]},[jr.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],Dn[jr.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],Dn[jr.FILL].OPACITY]},filter:["==",["geometry-type"],"Polygon"]}};var Ja={imgLink:"img_link",title:"title",description:"description",time:"time",marker:"marker",fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity"},jW={type:"FeatureCollection",features:[]},Cfn={Point:{marker:Dn[jr.SYMBOL].COLOR},MultiPoint:{marker:Dn[jr.SYMBOL].COLOR},Polygon:{fill:Dn[jr.FILL].COLOR,"fill-opacity":Dn[jr.FILL].OPACITY,stroke:Dn[jr.OUTLINE].COLOR,"stroke-opacity":Dn[jr.OUTLINE].OPACITY,"stroke-width":Dn[jr.OUTLINE].WIDTH},MultiPolygon:{fill:Dn[jr.FILL].COLOR,"fill-opacity":Dn[jr.FILL].OPACITY,stroke:Dn[jr.OUTLINE].COLOR,"stroke-opacity":Dn[jr.OUTLINE].OPACITY,"stroke-width":Dn[jr.OUTLINE].WIDTH},LineString:{stroke:Dn[jr.LINE].COLOR,"stroke-opacity":Dn[jr.LINE].OPACITY,"stroke-width":Dn[jr.LINE].WIDTH},MultiLineString:{stroke:Dn[jr.LINE].COLOR,"stroke-opacity":Dn[jr.LINE].OPACITY,"stroke-width":Dn[jr.LINE].WIDTH},GeometryCollection:{fill:Dn[jr.FILL].COLOR,"fill-opacity":Dn[jr.FILL].OPACITY,stroke:Dn[jr.LINE].COLOR,"stroke-opacity":Dn[jr.LINE].OPACITY,"stroke-width":Dn[jr.LINE].WIDTH}},Brr={marker:{type:"color"},fill:{type:"color"},"fill-opacity":{step:.05,min:0,max:1,type:"number"},stroke:{type:"color"},"stroke-opacity":{max:1,min:0,step:.05,type:"number"},"stroke-width":{step:.1,min:0,max:20,type:"number"}},Afn=Object.keys(Brr),Pfn=[Ja.time,Ja.title,Ja.imgLink,Ja.description],AO={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"};var gNe=e=>({type:"Polygon",coordinates:[[[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],[e[0],e[1]]]]}),FW=e=>{let{properties:t}=e,r=Vrr(t);return nr(je({},e),{properties:r})},BW=e=>{Object.hasOwn(e,"properties")||(e.properties={});let{properties:t}=e,r=Urr(t);return nr(je({},e),{properties:r})},Urr=e=>{let t=e[Ja.time],r=$rr(t);return r.length===0?(delete e[Ja.time],e):nr(je({},e),{[Ja.time]:r})},Vrr=e=>{let t=e[Ja.time],r=Grr(t);return r.length===0?(delete e[Ja.time],e):nr(je({},e),{[Ja.time]:r})},$rr=e=>{if(Array.isArray(e)){if(e.length!==2)return[];let t=CO(TO(e[0])).valueOf(),r=CO(TO(e[1])).valueOf();return Number.isNaN(t)||Number.isNaN(r)?[]:t>r?[r,t]:[t,r]}if(t_(e)){let t=CO(TO(e)).valueOf();return Number.isNaN(e)?[]:[t,t]}return[]},Grr=e=>{if(!Array.isArray(e))return[];if(e.length!==2)return[];let t=f_(e[0]),r=f_(e[1]);return t===""||r===""?[]:[t,r]},PO=e=>{if(!Nt(e))return[];let[t,r]=e;return!Nt(t)||!Nt(r)?[]:["any",["!",["has",Ja.time]],["all",["<=",["at",0,["get",Ja.time]],r*1e3],[">=",["at",1,["get",Ja.time]],t*1e3]]]};p();p();var vNe=e=>{let t={};for(let r of Object.keys(jr)){let n=jr[r],i=`${e}-${n}`;t[i]=nr(je({id:i,source:e,metadata:{[Ep.id]:e}},zW[n]),{layout:nr(je({},zW[n].layout),{visibility:"visible"})})}return t};p();var UW=class e{constructor(){if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`)}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}removeLayerFromMap(){throw new Error("Method 'removeLayerFromMap' must be implemented.")}setDataOnMap(){throw new Error("Method 'setDataOnMap' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getLayerId(){throw new Error("Method 'getLayerId' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}setFilters(){throw new Error("Method 'setFilters' must be implemented.")}resetFilters(){throw new Error("Method 'resetFilters' must be implemented.")}},OO=UW;var yNe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],am,sm,d_,es,_Ne,bNe,Ip,VW=class extends OO{constructor(r){super();oo(this,es);oo(this,am,null);oo(this,sm,[]);oo(this,d_,{});ao(this,am,r)}addLayerToMap(r,n,i){var g,_;if(!Nt(r))return;let o=mr(this,am),l=vNe(o);r.addSource(o,{type:"geojson",data:i});let d=r.getLayer(Is)!==void 0?Is:void 0;for(let[E,T]of Object.entries(l))r.addLayer(T,d),mr(this,sm).push(E),mr(this,d_)[E]=T.filter;if(Nt(n)){let{layerSettings:E}=n,T=(g=E==null?void 0:E.opacity)!=null?g:1,A=(_=E==null?void 0:E.visibility)!=null?_:"visible";this.setOpacity(r,T),this.setVisibility(r,A)}Ri(this,es,_Ne).call(this,r)}removeLayerFromMap(r){if(Nt(r)){for(let{id:n}of Ri(this,es,Ip).call(this,r))Ri(this,es,bNe).call(this,r,n),r.removeLayer(n);r.removeSource(mr(this,am)),ao(this,sm,[])}}setDataOnMap(r,n){let i=r.getSource(mr(this,am));if(!Nt(i)){console.error("Cannot update geojson on map. Source layer not found");return}i.setData(n)}getOpacity(r){let n=Ri(this,es,Ip).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:l,type:d}of n){if(!qW(d))continue;let g=ME[d];i=r.getPaintProperty(l,g);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=Ri(this,es,Ip).call(this,r);if(!(i.length===0||!Nt(n)))for(let{id:o,type:l}of i){if(!qW(l))continue;let d=Dn[l].OPACITY,g=ME[l],_=LW[l];r.setPaintProperty(o,g,["*",["coalesce",["feature-state",_],["get",_],d],n])}}isVisible(r){let n=Ri(this,es,Ip).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=Ri(this,es,Ip).call(this,r);if(!(i.length===0||!Nt(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}isDisplayedInMap(r){return r.getSource(mr(this,am))!==void 0}getLayerId(){return mr(this,sm).length>0?mr(this,sm)[0]:null}move(r,n){let i=Ri(this,es,Ip).call(this,r),o=n;Nt(n)||(Nt(r.getLayer(Is))?o=Is:o=null),i.forEach(({id:l})=>{r.moveLayer(l,o)})}setFilters(r,n){let i=Ri(this,es,Ip).call(this,r);if(i.length===0)return;let o=n==null?void 0:n.timeExtent,l=PO(o);for(let d of i){let{id:g}=d,E=["all",mr(this,d_)[g]];Nt(l)&&l.length>0&&E.push(l),r.setFilter(g,E)}}resetFilters(r){let n=Ri(this,es,Ip).call(this,r);if(n.length!==0)for(let i of n){let{id:o}=i,l=mr(this,d_)[o];r.setFilter(o,l)}}};am=new WeakMap,sm=new WeakMap,d_=new WeakMap,es=new WeakSet,_Ne=function(r){for(let{id:n}of Ri(this,es,Ip).call(this,r))for(let{type:i,handler:o}of yNe)r.on(i,n,o)},bNe=function(r,n){for(let{type:i,handler:o}of yNe)r.off(i,n,o)},Ip=function(r){let n=mr(this,sm).map(i=>r.getLayer(i));return n[0]===void 0?[]:n};var xNe=VW;p();p();var wRe=se(tE(),1);p();p();var wNe={};var $W=(e,t)=>wNe.setState(e,t),kO=e=>Ar(null,null,function*(){return wNe.getStateAsync(e)});p();var mc={hoverPolygon:"hover_polygon",contentCertainty:"content_certainty",temporalCertainty:"temporal_certainty",spatialCertainty:"spatial_certainty",permalink:"permanent_link",parentLabel:"parent_label",tags:"tag",timeLabelDe:"time_label_edtf_de",timeLabelEn:"time_label_edtf_en",idohistLightColor:"idohist_light_color",idohistDarkColor:"idohist_dark_color"},DO="#00b19e",CE="#00927E",mv={fill:.4,line:1},AE=["all",["==",["geometry-type"],"Polygon"],["==",["id"],"NON_EXISTING_ID"]],NO={fill:{type:"fill",paint:{"fill-color":["coalesce",["get","idohist_light_color"],DO],"fill-opacity":mv.fill},filter:AE},outline:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],CE],"line-width":2,"line-opacity":mv.line},filter:AE}},SNe={line:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],CE],"line-width":2,"line-opacity":mv.line},filter:["==",["geometry-type"],"LineString"]},fill:{type:"fill",paint:{"fill-color":["coalesce",["get","idohist_light_color"],DO],"fill-opacity":mv.fill},filter:["==",["geometry-type"],"Polygon"]},outline:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],CE],"line-width":2,"line-opacity":mv.line},filter:["==",["geometry-type"],"Polygon"]}};p();p();p();p();function Ea(e){return function(){return e}}p();var GW=Math.abs,Ia=Math.atan2,lm=Math.cos,ENe=Math.max,RO=Math.min,gc=Math.sin,gv=Math.sqrt,Ts=1e-12,h_=Math.PI,PE=h_/2,m_=2*h_;function INe(e){return e>1?0:e<-1?h_:Math.acos(e)}function HW(e){return e>=1?PE:e<=-1?-PE:Math.asin(e)}p();p();p();var WW=Math.PI,ZW=2*WW,vv=1e-6,Hrr=ZW-vv;function TNe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Wrr(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TNe;let r=xf(10,t);return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var yv=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TNe:Wrr(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,d=this._y1,g=n-t,_=i-r,E=l-t,T=d-r,A=E*E+T*T;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(A>vv)if(!(Math.abs(T*g-_*E)>vv)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let L=n-l,z=i-d,U=g*g+_*_,N=L*L+z*z,R=Math.sqrt(U),j=Math.sqrt(A),H=o*Math.tan((WW-Math.acos((U+A-N)/(2*R*j)))/2),Y=H/j,re=H/R;Math.abs(Y-1)>vv&&this._append`L${t+Y*E},${r+Y*T}`,this._append`A${o},${o},0,0,${+(T*L>E*z)},${this._x1=t+re*g},${this._y1=r+re*_}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(i),g=n*Math.sin(i),_=t+d,E=r+g,T=1^l,A=l?i-o:o-i;this._x1===null?this._append`M${_},${E}`:(Math.abs(this._x1-_)>vv||Math.abs(this._y1-E)>vv)&&this._append`L${_},${E}`,n&&(A<0&&(A=A%ZW+ZW),A>Hrr?this._append`A${n},${n},0,1,${T},${t-d},${r-g}A${n},${n},0,1,${T},${this._x1=_},${this._y1=E}`:A>vv&&this._append`A${n},${n},0,${+(A>=WW)},${T},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function MNe(){return new yv}MNe.prototype=yv.prototype;function CNe(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yv(t)}function Zrr(e){return e.innerRadius}function Yrr(e){return e.outerRadius}function Krr(e){return e.startAngle}function Xrr(e){return e.endAngle}function Qrr(e){return e&&e.padAngle}function Jrr(e,t,r,n,i,o,l,d){var g=r-e,_=n-t,E=l-i,T=d-o,A=T*g-E*_;if(!(A*A<Ts))return A=(E*(t-o)-T*(e-i))/A,[e+A*g,t+A*_]}function LO(e,t,r,n,i,o,l){var d=e-r,g=t-n,_=(l?o:-o)/gv(d*d+g*g),E=_*g,T=-_*d,A=e+E,L=t+T,z=r+E,U=n+T,N=(A+z)/2,R=(L+U)/2,j=z-A,H=U-L,Y=j*j+H*H,re=i-o,ie=A*U-z*L,le=(H<0?-1:1)*gv(ENe(0,re*re*Y-ie*ie)),Me=(ie*H-j*le)/Y,we=(-ie*j-H*le)/Y,ye=(ie*H+j*le)/Y,xe=(-ie*j+H*le)/Y,Ie=Me-N,de=we-R,Pe=ye-N,Ke=xe-R;return Ie*Ie+de*de>Pe*Pe+Ke*Ke&&(Me=ye,we=xe),{cx:Me,cy:we,x01:-E,y01:-T,x11:Me*(i/re-1),y11:we*(i/re-1)}}function qO(){var e=Zrr,t=Yrr,r=Ea(0),n=null,i=Krr,o=Xrr,l=Qrr,d=null,g=CNe(_);function _(){var E,T,A=+e.apply(this,arguments),L=+t.apply(this,arguments),z=i.apply(this,arguments)-PE,U=o.apply(this,arguments)-PE,N=GW(U-z),R=U>z;if(d||(d=E=g()),L<A&&(T=L,L=A,A=T),!(L>Ts))d.moveTo(0,0);else if(N>m_-Ts)d.moveTo(L*lm(z),L*gc(z)),d.arc(0,0,L,z,U,!R),A>Ts&&(d.moveTo(A*lm(U),A*gc(U)),d.arc(0,0,A,U,z,R));else{var j=z,H=U,Y=z,re=U,ie=N,le=N,Me=l.apply(this,arguments)/2,we=Me>Ts&&(n?+n.apply(this,arguments):gv(A*A+L*L)),ye=RO(GW(L-A)/2,+r.apply(this,arguments)),xe=ye,Ie=ye,de,Pe;if(we>Ts){var Ke=HW(we/A*gc(Me)),at=HW(we/L*gc(Me));(ie-=Ke*2)>Ts?(Ke*=R?1:-1,Y+=Ke,re-=Ke):(ie=0,Y=re=(z+U)/2),(le-=at*2)>Ts?(at*=R?1:-1,j+=at,H-=at):(le=0,j=H=(z+U)/2)}var dt=L*lm(j),ze=L*gc(j),ct=A*lm(re),_t=A*gc(re);if(ye>Ts){var It=L*lm(H),Ye=L*gc(H),pt=A*lm(Y),ot=A*gc(Y),Ve;if(N<h_)if(Ve=Jrr(dt,ze,pt,ot,It,Ye,ct,_t)){var Oe=dt-Ve[0],He=ze-Ve[1],Fe=It-Ve[0],lt=Ye-Ve[1],st=1/gc(INe((Oe*Fe+He*lt)/(gv(Oe*Oe+He*He)*gv(Fe*Fe+lt*lt)))/2),yt=gv(Ve[0]*Ve[0]+Ve[1]*Ve[1]);xe=RO(ye,(A-yt)/(st-1)),Ie=RO(ye,(L-yt)/(st+1))}else xe=Ie=0}le>Ts?Ie>Ts?(de=LO(pt,ot,dt,ze,L,Ie,R),Pe=LO(It,Ye,ct,_t,L,Ie,R),d.moveTo(de.cx+de.x01,de.cy+de.y01),Ie<ye?d.arc(de.cx,de.cy,Ie,Ia(de.y01,de.x01),Ia(Pe.y01,Pe.x01),!R):(d.arc(de.cx,de.cy,Ie,Ia(de.y01,de.x01),Ia(de.y11,de.x11),!R),d.arc(0,0,L,Ia(de.cy+de.y11,de.cx+de.x11),Ia(Pe.cy+Pe.y11,Pe.cx+Pe.x11),!R),d.arc(Pe.cx,Pe.cy,Ie,Ia(Pe.y11,Pe.x11),Ia(Pe.y01,Pe.x01),!R))):(d.moveTo(dt,ze),d.arc(0,0,L,j,H,!R)):d.moveTo(dt,ze),!(A>Ts)||!(ie>Ts)?d.lineTo(ct,_t):xe>Ts?(de=LO(ct,_t,It,Ye,A,-xe,R),Pe=LO(dt,ze,pt,ot,A,-xe,R),d.lineTo(de.cx+de.x01,de.cy+de.y01),xe<ye?d.arc(de.cx,de.cy,xe,Ia(de.y01,de.x01),Ia(Pe.y01,Pe.x01),!R):(d.arc(de.cx,de.cy,xe,Ia(de.y01,de.x01),Ia(de.y11,de.x11),!R),d.arc(0,0,A,Ia(de.cy+de.y11,de.cx+de.x11),Ia(Pe.cy+Pe.y11,Pe.cx+Pe.x11),R),d.arc(Pe.cx,Pe.cy,xe,Ia(Pe.y11,Pe.x11),Ia(Pe.y01,Pe.x01),!R))):d.arc(0,0,A,re,Y,R)}if(d.closePath(),E)return d=null,E+""||null}return _.centroid=function(){var E=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,T=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-h_/2;return[lm(T)*E,gc(T)*E]},_.innerRadius=function(E){return arguments.length?(e=typeof E=="function"?E:Ea(+E),_):e},_.outerRadius=function(E){return arguments.length?(t=typeof E=="function"?E:Ea(+E),_):t},_.cornerRadius=function(E){return arguments.length?(r=typeof E=="function"?E:Ea(+E),_):r},_.padRadius=function(E){return arguments.length?(n=E==null?null:typeof E=="function"?E:Ea(+E),_):n},_.startAngle=function(E){return arguments.length?(i=typeof E=="function"?E:Ea(+E),_):i},_.endAngle=function(E){return arguments.length?(o=typeof E=="function"?E:Ea(+E),_):o},_.padAngle=function(E){return arguments.length?(l=typeof E=="function"?E:Ea(+E),_):l},_.context=function(E){return arguments.length?(d=E==null?null:E,_):d},_}p();var Odn=Array.prototype.slice;function ANe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}p();p();function PNe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}p();function ONe(e){return e}function YW(){var e=ONe,t=PNe,r=null,n=Ea(0),i=Ea(m_),o=Ea(0);function l(d){var g,_=(d=ANe(d)).length,E,T,A=0,L=new Array(_),z=new Array(_),U=+n.apply(this,arguments),N=Math.min(m_,Math.max(-m_,i.apply(this,arguments)-U)),R,j=Math.min(Math.abs(N)/_,o.apply(this,arguments)),H=j*(N<0?-1:1),Y;for(g=0;g<_;++g)(Y=z[L[g]=g]=+e(d[g],g,d))>0&&(A+=Y);for(t!=null?L.sort(function(re,ie){return t(z[re],z[ie])}):r!=null&&L.sort(function(re,ie){return r(d[re],d[ie])}),g=0,T=A?(N-_*H)/A:0;g<_;++g,U=R)E=L[g],Y=z[E],R=U+(Y>0?Y*T:0)+H,z[E]={data:d[E],index:g,value:Y,startAngle:U,endAngle:R,padAngle:j};return z}return l.value=function(d){return arguments.length?(e=typeof d=="function"?d:Ea(+d),l):e},l.sortValues=function(d){return arguments.length?(t=d,r=null,l):t},l.sort=function(d){return arguments.length?(r=d,t=null,l):r},l.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:Ea(+d),l):n},l.endAngle=function(d){return arguments.length?(i=typeof d=="function"?d:Ea(+d),l):i},l.padAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Ea(+d),l):o},l}p();p();p();p();var zO="http://www.w3.org/1999/xhtml",KW={svg:"http://www.w3.org/2000/svg",xhtml:zO,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jO(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),KW.hasOwnProperty(t)?{space:KW[t],local:e}:e}function enr(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===zO&&t.documentElement.namespaceURI===zO?t.createElement(e):t.createElementNS(r,e)}}function tnr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function FO(e){var t=jO(e);return(t.local?tnr:enr)(t)}p();p();p();p();function rnr(){}function BO(e){return e==null?rnr:function(){return this.querySelector(e)}}function kNe(e){typeof e!="function"&&(e=BO(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],l=o.length,d=n[i]=new Array(l),g,_,E=0;E<l;++E)(g=o[E])&&(_=e.call(g,g.__data__,E,o))&&("__data__"in g&&(_.__data__=g.__data__),d[E]=_);return new eo(n,this._parents)}p();p();function XW(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}p();function nnr(){return[]}function DNe(e){return e==null?nnr:function(){return this.querySelectorAll(e)}}function inr(e){return function(){return XW(e.apply(this,arguments))}}function NNe(e){typeof e=="function"?e=inr(e):e=DNe(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var l=t[o],d=l.length,g,_=0;_<d;++_)(g=l[_])&&(n.push(e.call(g,g.__data__,_,l)),i.push(g));return new eo(n,i)}p();p();function RNe(e){return function(){return this.matches(e)}}function UO(e){return function(t){return t.matches(e)}}var onr=Array.prototype.find;function anr(e){return function(){return onr.call(this.children,e)}}function snr(){return this.firstElementChild}function LNe(e){return this.select(e==null?snr:anr(typeof e=="function"?e:UO(e)))}p();var lnr=Array.prototype.filter;function unr(){return Array.from(this.children)}function cnr(e){return function(){return lnr.call(this.children,e)}}function qNe(e){return this.selectAll(e==null?unr:cnr(typeof e=="function"?e:UO(e)))}p();function zNe(e){typeof e!="function"&&(e=RNe(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],l=o.length,d=n[i]=[],g,_=0;_<l;++_)(g=o[_])&&e.call(g,g.__data__,_,o)&&d.push(g);return new eo(n,this._parents)}p();p();p();function VO(e){return new Array(e.length)}function jNe(){return new eo(this._enter||this._groups.map(VO),this._parents)}function OE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}OE.prototype={constructor:OE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};p();function FNe(e){return function(){return e}}function pnr(e,t,r,n,i,o){for(var l=0,d,g=t.length,_=o.length;l<_;++l)(d=t[l])?(d.__data__=o[l],n[l]=d):r[l]=new OE(e,o[l]);for(;l<g;++l)(d=t[l])&&(i[l]=d)}function fnr(e,t,r,n,i,o,l){var d,g,_=new Map,E=t.length,T=o.length,A=new Array(E),L;for(d=0;d<E;++d)(g=t[d])&&(A[d]=L=l.call(g,g.__data__,d,t)+"",_.has(L)?i[d]=g:_.set(L,g));for(d=0;d<T;++d)L=l.call(e,o[d],d,o)+"",(g=_.get(L))?(n[d]=g,g.__data__=o[d],_.delete(L)):r[d]=new OE(e,o[d]);for(d=0;d<E;++d)(g=t[d])&&_.get(A[d])===g&&(i[d]=g)}function dnr(e){return e.__data__}function BNe(e,t){if(!arguments.length)return Array.from(this,dnr);var r=t?fnr:pnr,n=this._parents,i=this._groups;typeof e!="function"&&(e=FNe(e));for(var o=i.length,l=new Array(o),d=new Array(o),g=new Array(o),_=0;_<o;++_){var E=n[_],T=i[_],A=T.length,L=hnr(e.call(E,E&&E.__data__,_,n)),z=L.length,U=d[_]=new Array(z),N=l[_]=new Array(z),R=g[_]=new Array(A);r(E,T,U,N,R,L,t);for(var j=0,H=0,Y,re;j<z;++j)if(Y=U[j]){for(j>=H&&(H=j+1);!(re=N[H])&&++H<z;);Y._next=re||null}}return l=new eo(l,n),l._enter=d,l._exit=g,l}function hnr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}p();function UNe(){return new eo(this._exit||this._groups.map(VO),this._parents)}p();function VNe(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}p();function $Ne(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,l=Math.min(i,o),d=new Array(i),g=0;g<l;++g)for(var _=r[g],E=n[g],T=_.length,A=d[g]=new Array(T),L,z=0;z<T;++z)(L=_[z]||E[z])&&(A[z]=L);for(;g<i;++g)d[g]=r[g];return new eo(d,this._parents)}p();function GNe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],l;--i>=0;)(l=n[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}p();function HNe(e){e||(e=mnr);function t(T,A){return T&&A?e(T.__data__,A.__data__):!T-!A}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var l=r[o],d=l.length,g=i[o]=new Array(d),_,E=0;E<d;++E)(_=l[E])&&(g[E]=_);g.sort(t)}return new eo(i,this._parents).order()}function mnr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}p();function WNe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}p();function ZNe(){return Array.from(this)}p();function YNe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var l=n[i];if(l)return l}return null}p();function KNe(){let e=0;for(let t of this)++e;return e}p();function XNe(){return!this.node()}p();function QNe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,l=i.length,d;o<l;++o)(d=i[o])&&e.call(d,d.__data__,o,i);return this}p();function gnr(e){return function(){this.removeAttribute(e)}}function vnr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ynr(e,t){return function(){this.setAttribute(e,t)}}function _nr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bnr(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function xnr(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function JNe(e,t){var r=jO(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?vnr:gnr:typeof t=="function"?r.local?xnr:bnr:r.local?_nr:ynr)(r,t))}p();p();function $O(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wnr(e){return function(){this.style.removeProperty(e)}}function Snr(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Enr(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function eRe(e,t,r){return arguments.length>1?this.each((t==null?wnr:typeof t=="function"?Enr:Snr)(e,t,r==null?"":r)):Inr(this.node(),e)}function Inr(e,t){return e.style.getPropertyValue(t)||$O(e).getComputedStyle(e,null).getPropertyValue(t)}p();function Tnr(e){return function(){delete this[e]}}function Mnr(e,t){return function(){this[e]=t}}function Cnr(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function tRe(e,t){return arguments.length>1?this.each((t==null?Tnr:typeof t=="function"?Cnr:Mnr)(e,t)):this.node()[e]}p();function rRe(e){return e.trim().split(/^|\s+/)}function QW(e){return e.classList||new nRe(e)}function nRe(e){this._node=e,this._names=rRe(e.getAttribute("class")||"")}nRe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function iRe(e,t){for(var r=QW(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function oRe(e,t){for(var r=QW(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Anr(e){return function(){iRe(this,e)}}function Pnr(e){return function(){oRe(this,e)}}function Onr(e,t){return function(){(t.apply(this,arguments)?iRe:oRe)(this,e)}}function aRe(e,t){var r=rRe(e+"");if(arguments.length<2){for(var n=QW(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Onr:t?Anr:Pnr)(r,t))}p();function knr(){this.textContent=""}function Dnr(e){return function(){this.textContent=e}}function Nnr(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function sRe(e){return arguments.length?this.each(e==null?knr:(typeof e=="function"?Nnr:Dnr)(e)):this.node().textContent}p();function Rnr(){this.innerHTML=""}function Lnr(e){return function(){this.innerHTML=e}}function qnr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function lRe(e){return arguments.length?this.each(e==null?Rnr:(typeof e=="function"?qnr:Lnr)(e)):this.node().innerHTML}p();function znr(){this.nextSibling&&this.parentNode.appendChild(this)}function uRe(){return this.each(znr)}p();function jnr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cRe(){return this.each(jnr)}p();function pRe(e){var t=typeof e=="function"?e:FO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}p();function Fnr(){return null}function fRe(e,t){var r=typeof e=="function"?e:FO(e),n=t==null?Fnr:typeof t=="function"?t:BO(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}p();function Bnr(){var e=this.parentNode;e&&e.removeChild(this)}function dRe(){return this.each(Bnr)}p();function Unr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vnr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hRe(e){return this.select(e?Vnr:Unr)}p();function mRe(e){return arguments.length?this.property("__data__",e):this.node().__data__}p();function $nr(e){return function(t){e.call(this,t,this.__data__)}}function Gnr(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Hnr(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Wnr(e,t,r){return function(){var n=this.__on,i,o=$nr(t);if(n){for(var l=0,d=n.length;l<d;++l)if((i=n[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function gRe(e,t,r){var n=Gnr(e+""),i,o=n.length,l;if(arguments.length<2){var d=this.node().__on;if(d){for(var g=0,_=d.length,E;g<_;++g)for(i=0,E=d[g];i<o;++i)if((l=n[i]).type===E.type&&l.name===E.name)return E.value}return}for(d=t?Wnr:Hnr,i=0;i<o;++i)this.each(d(n[i],t,r));return this}p();function vRe(e,t,r){var n=$O(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Znr(e,t){return function(){return vRe(this,e,t)}}function Ynr(e,t){return function(){return vRe(this,e,t.apply(this,arguments))}}function yRe(e,t){return this.each((typeof t=="function"?Ynr:Znr)(e,t))}p();function*_Re(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,l;i<o;++i)(l=n[i])&&(yield l)}var JW=[null];function eo(e,t){this._groups=e,this._parents=t}function Knr(){return new eo([[document.documentElement]],JW)}function Xnr(){return this}eo.prototype=Knr.prototype={constructor:eo,select:kNe,selectAll:NNe,selectChild:LNe,selectChildren:qNe,filter:zNe,data:BNe,enter:jNe,exit:UNe,join:VNe,merge:$Ne,selection:Xnr,order:GNe,sort:HNe,call:WNe,nodes:ZNe,node:YNe,size:KNe,empty:XNe,each:QNe,attr:JNe,style:eRe,property:tRe,classed:aRe,text:sRe,html:lRe,raise:uRe,lower:cRe,append:pRe,insert:fRe,remove:dRe,clone:hRe,datum:mRe,on:gRe,dispatch:yRe,[Symbol.iterator]:_Re};function GO(e){return typeof e=="string"?new eo([[document.querySelector(e)]],[document.documentElement]):new eo([[e]],JW)}var vc={},eZ="http://www.w3.org/2000/svg";typeof document!="undefined"&&(vc.svg=document.createElementNS(eZ,"svg"),vc.arcs=document.createElementNS(eZ,"g"),vc.arcs.classList.add("arcs"),vc.circle=document.createElementNS(eZ,"circle"),vc.circle.classList.add("circle"));var tZ=45,Qnr=(e,t)=>{let n=t-7-4,i=7+(1-e)*n,o=Math.round((1-e)*7),l=vc.circle.cloneNode();return l.setAttribute("r",i),l.style.setProperty("--idohist-spatial-blur",`${o}px`),l.classList.add("spatial-certainty"),l},Jnr=()=>{let e=vc.circle.cloneNode();return e.setAttribute("r",tZ),e.classList.add("background"),e},bRe=e=>{let t=vc.circle.cloneNode();return t.setAttribute("r",e),t.classList.add("track"),t},xRe=({spatialCertainty:e,temporalCertainty:t,contentCertainty:r,lightColor:n,darkColor:i})=>{let o=tZ*2,l=5,d=3,g=6,_=tZ-l,E=_-g,T=E-d,A=T-g,L=bRe(T-(T-A)/2),z=bRe(_-(_-E)/2),U=Qnr(e,A),N=Jnr(),R=vc.svg.cloneNode();R.style.setProperty("--idohist-light-color",n),R.style.setProperty("--idohist-dark-color",i);let j=vc.arcs.cloneNode();j.classList.add("temporal");let H=vc.arcs.cloneNode();H.classList.add("content");let Y={content:[{value:r,cssClass:"certainty"},{value:1-r,cssClass:"uncertainty"}],temporal:[{value:t,cssClass:"certainty"},{value:1-t,cssClass:"uncertainty"}]},re=qO().innerRadius(_).outerRadius(E),ie=qO().innerRadius(A).outerRadius(T),le=YW().sort(null).value(ye=>ye.value),Me=GO(H),we=GO(j);return Me.selectAll().data(le(Y.content)).enter().append("path").attr("d",re).attr("class",ye=>ye.data.cssClass),we.selectAll().data(le(Y.temporal)).enter().append("path").attr("d",ie).attr("class",ye=>ye.data.cssClass),R.setAttribute("viewBox",`${-o/2}, ${-o/2}, ${o}, ${o}`),R.append(N,U,L,z,j,H),R};var SRe="marker-idohist",ERe="data-vkf-feature-id",IRe="data-vkf-source-id",TRe="data-vkf-source-id-hover",WO="data-vkf-visibility",nZ=Symbol("vkf:feature-properties"),eir={type:"Polygon",coordinates:[]},tir=typeof document!="undefined"?document.createElement("div"):{},iZ=e=>{if(!Nt(e))return;let t=e.closest(`div.${SRe}`),r=parseInt(t.getAttribute(ERe),10),n=t.getAttribute(IRe),i=t.getAttribute(TRe),o=t.getAttribute(WO);return{featureId:r,sourceId:n,sourceIdHover:i,visibility:o}},MRe=(e,t,r)=>{if(!Nt(e))return;let n=Object.keys(NO).map(i=>`${t}-${i}`);for(let i of n){if(!Nt(r)){e.setFilter(i,AE);continue}let o=["all",AE[1],["==",["id"],r]];e.setFilter(i,o)}},rir=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceId:n,visibility:i}=iZ(t);i!==Yf.NONE&&$W(oZ,{featureId:r,sourceId:n})},nir=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceIdHover:n,visibility:i}=iZ(t);i!==Yf.NONE&&kO(bn).then(o=>{MRe(o,n,r)})},iir=e=>{e.stopPropagation();let{target:t}=e,{sourceIdHover:r,visibility:n}=iZ(t);n!==Yf.NONE&&kO(bn).then(i=>{MRe(i,r,null)})},CRe=(e,{sourceId:t,sourceIdHover:r})=>{let n=e.geometry.coordinates,i=e.id,{properties:o}=e,l=rZ(o[mc.contentCertainty]),d=rZ(o[mc.temporalCertainty]),g=rZ(o[mc.spatialCertainty]),{lightColor:_,darkColor:E}=kRe(o),T=tir.cloneNode();T.classList.add(SRe),T.setAttribute(ERe,i),T.setAttribute(IRe,t),T.setAttribute(TRe,r);let A=xRe({spatialCertainty:g,temporalCertainty:d,contentCertainty:l,lightColor:_,darkColor:E});T.appendChild(A),T.addEventListener("click",rir),T.addEventListener("mouseenter",nir),T.addEventListener("mouseleave",iir);let L=new wRe.Marker({element:T});return L.isVisible=!0,L.setLngLat(n),L[nZ]=e.properties,L},ARe=e=>{let{properties:t}=e,r=eir;Object.hasOwn(t,mc.hoverPolygon)&&t[mc.hoverPolygon].type==="Polygon"&&(r=t[mc.hoverPolygon]);let{lightColor:n,darkColor:i}=kRe(t);return{type:"Feature",geometry:r,id:e.id,properties:{[mc.idohistLightColor]:n,[mc.idohistDarkColor]:i}}},PRe=(e,t,r)=>{let n={};for(let i of Object.keys(t)){let o=`${e}-${i}`;n[o]=je(nr(je({id:o,source:e},t[i]),{layout:nr(je({},t[i].layout),{visibility:"visible"})}),r&&{metadata:{[Ep.id]:e,[Ep.contentType]:pv.IDOHIST}})}return n},HO={largeZoom:{slope:.04,intercept:.24},smallZoom:{slope:.038,intercept:.06}},ORe=e=>e>14?HO.largeZoom.slope*e+HO.largeZoom.intercept:HO.smallZoom.slope*e+HO.smallZoom.intercept,rZ=e=>Number.isNaN(Number.parseFloat(e))||e<0?0:e>1?1:e,kRe=e=>{var n,i;let t=(n=e[mc.idohistDarkColor])!=null?n:CE,r=(i=e[mc.idohistLightColor])!=null?i:DO;return{darkColor:t,lightColor:r}};var DRe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],NRe=(e,{sourceId:t,sourceIdHover:r})=>{let n={type:"FeatureCollection",features:[]},i=[];for(let o of e.features){if(o.geometry.type!=="Point")continue;let l=CRe(o,{sourceIdHover:r,sourceId:t});i.push(l);let d=ARe(o);n.features.push(d)}return{markers:i,geoJsonHoverPolygons:n}},Ta,yc,_c,v_,kE,Xf,y_,Su,g_,RRe,LRe,aZ=class extends OO{constructor(r){super();oo(this,Su);oo(this,Ta,[]);oo(this,yc,null);oo(this,_c,null);oo(this,v_,!0);oo(this,kE,1);oo(this,Xf,[]);oo(this,y_,{});ao(this,yc,r),ao(this,_c,`${r}-hover`)}addLayerToMap(r,n,i){var _,E;if(!Nt(r))return;let{markers:o,geoJsonHoverPolygons:l}=NRe(i,{sourceId:mr(this,yc),sourceIdHover:mr(this,_c)});ao(this,Ta,o),mr(this,Ta).forEach(T=>T.addTo(r));let d=r.getLayer(Is)!==void 0?Is:void 0,g=[{sourceId:mr(this,yc),definition:SNe,data:i,hasPopup:!0},{sourceId:mr(this,_c),definition:NO,data:l,hasPopup:!1}];for(let{sourceId:T,definition:A,data:L,hasPopup:z}of g){r.addSource(T,{type:"geojson",data:L});let U=PRe(T,A,z);for(let[N,R]of Object.entries(U))r.addLayer(R,d),mr(this,Xf).push(N),mr(this,y_)[N]=R.filter}if(Nt(n)){let{layerSettings:T}=n,A=(_=T==null?void 0:T.opacity)!=null?_:1,L=(E=T==null?void 0:T.visibility)!=null?E:"visible";this.setVisibility(r,L),this.setOpacity(r,A)}Ri(this,Su,RRe).call(this,r)}removeLayerFromMap(r){mr(this,Ta).forEach(n=>n.remove()),ao(this,Ta,[]);for(let n of mr(this,Xf))Ri(this,Su,LRe).call(this,r,n),r.removeLayer(n);r.removeSource(mr(this,yc)),r.removeSource(mr(this,_c)),ao(this,Xf,[])}setDataOnMap(r,n){let{markers:i,geoJsonHoverPolygons:o}=NRe(n,{sourceId:mr(this,yc),sourceIdHover:mr(this,_c)});mr(this,Ta).forEach(g=>g.remove()),ao(this,Ta,i),mr(this,Ta).forEach(g=>g.addTo(r));let l=r.getSource(mr(this,yc)),d=r.getSource(mr(this,_c));if(!Nt(l)||!Nt(d)){console.error("Cannot update geojson on map. Source layer not found");return}l.setData(n),d.setData(o)}getOpacity(){return mr(this,kE)}setOpacity(r,n){if(!Nt(n))return;ao(this,kE,n),mr(this,Ta).forEach(o=>o.setOpacity(n,0));let i=Ri(this,Su,g_).call(this,r);for(let{id:o,type:l}of i){let d=mv[l],g=ME[l];r.setPaintProperty(o,g,["*",d,n])}}isVisible(){return mr(this,Ta).length===0?!1:mr(this,v_)}setVisibility(r,n){let i=Ri(this,Su,g_).call(this,r);if(!(i.length===0||!Nt(n))){for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n);if(n===Yf.VISIBLE){for(let o of mr(this,Ta)){let l=o.getElement();l.setAttribute(WO,Yf.VISIBLE),l.style.setProperty("display","block")}ao(this,v_,!0),r.fireVisibilityChanged(mr(this,yc),n),r.fireVisibilityChanged(mr(this,_c),n);return}if(n===Yf.NONE){for(let o of mr(this,Ta)){let l=o.getElement();l.setAttribute(WO,Yf.NONE),l.style.setProperty("display","none")}ao(this,v_,!1),r.fireVisibilityChanged(mr(this,yc),n),r.fireVisibilityChanged(mr(this,_c),n);return}}}isDisplayedInMap(){return mr(this,Ta).length>0}getLayerId(){return mr(this,Xf).length>0?mr(this,Xf)[0]:null}move(){}setFilters(r,n){let i=n==null?void 0:n.timeExtent,o=PO(i),l=Ri(this,Su,g_).call(this,r);for(let d of l){let{id:g}=d,E=["all",mr(this,y_)[g]];Nt(o)&&o.length>0&&E.push(o),r.setFilter(g,E)}for(let d of mr(this,Ta)){let[g,_]=d[nZ][Ja.time],{timeExtent:E}=n;g<=E[1]*1e3&&_>=E[0]*1e3?d.addTo(r):d.remove()}}resetFilters(r){let n=Ri(this,Su,g_).call(this,r);mr(this,Ta).forEach(i=>i.addTo(r));for(let i of n){let{id:o}=i,l=mr(this,y_)[o];r.setFilter(o,l)}}};Ta=new WeakMap,yc=new WeakMap,_c=new WeakMap,v_=new WeakMap,kE=new WeakMap,Xf=new WeakMap,y_=new WeakMap,Su=new WeakSet,g_=function(r){let n=mr(this,Xf).map(i=>r.getLayer(i));return n[0]===void 0?[]:n},RRe=function(r){for(let{id:n}of Ri(this,Su,g_).call(this,r))for(let{type:i,handler:o}of DRe)r.on(i,n,o)},LRe=function(r,n){for(let{type:i,handler:o}of DRe)r.off(i,n,o)};var qRe=aZ;var _v,Ma,ZO,zRe,Qf=class Qf extends c_{constructor({metadata:r,geometry:n,geoJson:i}){if(!mr(Qf,_v))throw new TypeError("Constructor is private. Use GeoJsonLayer.fromApplication() or GeoJsonLayer.fromPersistence() instead.");ao(Qf,_v,!1);super({metadata:r,geometry:n});oo(this,ZO);ht(this,"geoJSON",{});oo(this,Ma,null);Ri(this,ZO,zRe).call(this,i),this.metadata[rr.externalContentType]===pv.IDOHIST?ao(this,Ma,new qRe(this.getId())):ao(this,Ma,new xNe(this.getId()))}static fromApplication(r){return ao(Qf,_v,!0),new Qf(r)}static fromPersistence({metadata:r,geometry:n,geoJson:i}){ao(Qf,_v,!0);let o=i.features.map(BW),l=nr(je({},i),{features:o});return new Qf({metadata:r,geometry:n,geoJson:l})}getGeoJson(){return this.geoJSON}getGeoJsonForPersistence(){var i;let r=structuredClone(this.getGeoJson()),n=(i=r.features)!=null?i:[];return n=n.map(FW),r.features=n,r}setGeoJson(r){let n=r.features.map((o,l)=>(Object.hasOwn(o,"properties")||(o.properties={}),Nt(o.id)?je({},o):nr(je({},o),{id:l+1}))),i=nr(je({},r),{features:n});this.geoJSON=i}getFeature(r){let n=this.geoJSON.features.find(i=>i.id===r);return Nt(n)?n:(console.warn(`No feature found for id '${r}'`),null)}getType(){return Qa.VECTOR_MAP}isRemote(){return Nt(this.metadata[rr.vectorMapId])}isLocal(){return!this.isRemote()}isExternalVectorMap(){let r=this.metadata[rr.externalContentUrl];return Nt(r)&&vDe(r)}getPreviewFeature(){let r=this.getMetadata(rr.bounds);return{type:"Feature",properties:{},geometry:gNe(r)}}addLayerToMap(r,n){mr(this,Ma).addLayerToMap(r,n,this.geoJSON)}removeMapLibreLayers(r){mr(this,Ma).removeLayerFromMap(r)}setDataOnMap(r,n){!Nt(r)||!Nt(n)||(this.setGeoJson(n),mr(this,Ma).setDataOnMap(r,this.geoJSON))}getMapLibreLayerId(){return mr(this,Ma).getLayerId()}getOpacity(r){return mr(this,Ma).getOpacity(r)}setOpacity(r,n){mr(this,Ma).setOpacity(r,n)}isVisible(r){return mr(this,Ma).isVisible(r)}setVisibility(r,n){mr(this,Ma).setVisibility(r,n)}isDisplayedInMap(r){return mr(this,Ma).isDisplayedInMap(r)}move(r,n){mr(this,Ma).move(r,n)}moveToTop(r){this.move(r,null)}setFilters(r,n){if(!Nt(n)||(n==null?void 0:n.length)===0){mr(this,Ma).resetFilters(r);return}mr(this,Ma).setFilters(r,n)}static toApplicationState(r){var o;if(!Nt(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(BW),n.features=i,n}static toPersistenceState(r){var o;if(!Nt(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(FW),n.features=i,n}};_v=new WeakMap,Ma=new WeakMap,ZO=new WeakSet,zRe=function(r){var i,o;this.setGeoJson(r);let n=this.geometry?EE(this.geometry):EE(this.geoJSON);this.metadata[rr.bounds]=n,this.metadata[rr.id]=(i=this.metadata[rr.id])!=null?i:crypto.randomUUID(),this.metadata[rr.timePeriod]=(o=this.metadata[rr.timePeriod])!=null?o:mNe(),this.metadata[rr.hasGeoReference]=!0},oo(Qf,_v,!1);var sZ=Qf,jRe=sZ;var bv=jRe;p();p();var oir=`${rr.timePeriod}_start`,air=`${rr.timePeriod}_end`;var eyn=[{label:"VKF",value:pv.VKF},{label:"IDOHIST",value:pv.IDOHIST}],FRe=e=>({[rr.title]:e[rr.title],[rr.timePeriod]:e[rr.timePeriod],[rr.description]:e[rr.description],[rr.externalContentUrl]:e[rr.externalContentUrl],[rr.externalContentType]:e[rr.externalContentType],[rr.thumbnailUrl]:e[rr.thumbnailUrl]});var __=tn({key:"activeBasemapId",default:zr.getSettings().BASEMAPS[0].id}),BRe=tn({key:"currentApplicationState",default:void 0}),YO=tn({key:"elementScreenSize",default:{map:{height:0,width:0}}}),URe={facets:[],georeference:!1},um=tn({key:"facetState",default:{facets:[],georeference:!1}}),KO=tn({key:"layoutState",default:Sp.VERTICAL}),uyn=tn({key:"horizontalLayoutModeState",default:wDe.STANDARD}),bn=tn({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),VRe=tn({key:"map3dState",default:!1}),XO=tn({key:"mapCountState",default:10}),QO=tn({key:"searchIsLoadingState",default:!1}),tl=tn({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),cyn=tn({key:"selectedOriginalMapIdState",default:void 0}),lZ=tn({key:"selectedGeoJsonLayerIdState",default:void 0}),sir=tn({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),pyn=Zf({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(lZ),r=e(tl),n=e(sir);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),oZ=tn({key:"selectedGeoJsonFeatureIdentifierState",default:null}),$Re=Zf({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let t=e(oZ);if(!Nt(t))return!1;let{featureId:r,sourceId:n}=t;return Nt(r)&&Nt(n)}}),JO=tn({key:"timeExtentState",default:[1850,1970]}),uZ=[1850,1970],ek=tn({key:"timeRangeState",default:uZ}),tk=tn({key:"baseMapStyleLayersState",default:[]}),rk=tn({key:"activeDialogState",default:Xa.None}),fyn=tn({key:"drawState",default:void 0}),dyn=tn({key:"editedGeojsonState",default:null}),hyn=tn({key:"metadataDrawState",default:null}),myn=tn({key:"vectorMapState",default:null}),lir=tn({key:"vectorMapActiveVersionDrawState",default:null}),gyn=Zf({key:"isActiveVectorMapVersionDifferentState",get:({get:e})=>e(lir)!==null}),vyn=tn({key:"showDropZoneState",default:!1}),yyn=tn({key:"addedFileState",default:null}),_yn=tn({key:"addGeoJsonDialogState",default:!1}),byn=tn({key:"drawModePanelState",default:bDe.NONE}),xyn=tn({key:"vectorMapExternalModePanelState",default:xDe.NONE}),cZ=tn({key:"layerExternalVectorMapState",default:null,dangerouslyAllowMutability:!0}),GRe=tn({key:"forceUpdateLayerExternalVectorMapState",default:0}),wyn=Zf({key:"metadataExternalVectorMapState",get:({get:e})=>{e(GRe);let t=e(cZ);return Nt(t)?FRe(t.getMetadata()):null},dangerouslyAllowMutability:!0}),Syn=Zf({key:"geojsonExternalVectorMapState",get:({get:e})=>{e(GRe);let t=e(cZ);return Nt(t)?t.getGeoJson():null},dangerouslyAllowMutability:!0}),Eyn=Zf({key:"layerIdExternalVectorMapState",get:({get:e})=>{let t=e(cZ);return Nt(t)?t.getId():null},dangerouslyAllowMutability:!0});p();var xc=se(tt(),1);p();p();p();p();p();p();p();p();var Eu=[];var HRe=function(){return Eu.some(function(e){return e.activeTargets.length>0})};p();var WRe=function(){return Eu.some(function(e){return e.skippedTargets.length>0})};p();var ZRe="ResizeObserver loop completed with undelivered notifications.",YRe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ZRe}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ZRe),window.dispatchEvent(e)};p();p();p();p();var xv;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(xv||(xv={}));p();p();var bc=function(e){return Object.freeze(e)};var pZ=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,bc(this)}return e}();p();var fZ=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,bc(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,l=t.bottom,d=t.left,g=t.width,_=t.height;return{x:r,y:n,top:i,right:o,bottom:l,left:d,width:g,height:_}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();p();var DE=function(e){return e instanceof SVGElement&&"getBBox"in e},nk=function(e){if(DE(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,l=i.offsetHeight;return!(o||l||e.getClientRects().length)},dZ=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},KRe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};p();var wv=typeof window!="undefined"?window:{};var ik=new WeakMap,XRe=/auto|scroll/,uir=/^tb|vertical/,cir=/msie|trident/i.test(wv.navigator&&wv.navigator.userAgent),Tp=function(e){return parseFloat(e||"0")},b_=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new pZ((r?t:e)||0,(r?e:t)||0)},QRe=bc({devicePixelContentBoxSize:b_(),borderBoxSize:b_(),contentBoxSize:b_(),contentRect:new fZ(0,0,0,0)}),hZ=function(e,t){if(t===void 0&&(t=!1),ik.has(e)&&!t)return ik.get(e);if(nk(e))return ik.set(e,QRe),QRe;var r=getComputedStyle(e),n=DE(e)&&e.ownerSVGElement&&e.getBBox(),i=!cir&&r.boxSizing==="border-box",o=uir.test(r.writingMode||""),l=!n&&XRe.test(r.overflowY||""),d=!n&&XRe.test(r.overflowX||""),g=n?0:Tp(r.paddingTop),_=n?0:Tp(r.paddingRight),E=n?0:Tp(r.paddingBottom),T=n?0:Tp(r.paddingLeft),A=n?0:Tp(r.borderTopWidth),L=n?0:Tp(r.borderRightWidth),z=n?0:Tp(r.borderBottomWidth),U=n?0:Tp(r.borderLeftWidth),N=T+_,R=g+E,j=U+L,H=A+z,Y=d?e.offsetHeight-H-e.clientHeight:0,re=l?e.offsetWidth-j-e.clientWidth:0,ie=i?N+j:0,le=i?R+H:0,Me=n?n.width:Tp(r.width)-ie-re,we=n?n.height:Tp(r.height)-le-Y,ye=Me+N+re+j,xe=we+R+Y+H,Ie=bc({devicePixelContentBoxSize:b_(Math.round(Me*devicePixelRatio),Math.round(we*devicePixelRatio),o),borderBoxSize:b_(ye,xe,o),contentBoxSize:b_(Me,we,o),contentRect:new fZ(T,g,Me,we)});return ik.set(e,Ie),Ie},ok=function(e,t,r){var n=hZ(e,r),i=n.borderBoxSize,o=n.contentBoxSize,l=n.devicePixelContentBoxSize;switch(t){case xv.DEVICE_PIXEL_CONTENT_BOX:return l;case xv.BORDER_BOX:return i;default:return o}};var mZ=function(){function e(t){var r=hZ(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=bc([r.borderBoxSize]),this.contentBoxSize=bc([r.contentBoxSize]),this.devicePixelContentBoxSize=bc([r.devicePixelContentBoxSize])}return e}();p();var ak=function(e){if(nk(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var JRe=function(){var e=1/0,t=[];Eu.forEach(function(l){if(l.activeTargets.length!==0){var d=[];l.activeTargets.forEach(function(_){var E=new mZ(_.target),T=ak(_.target);d.push(E),_.lastReportedSize=ok(_.target,_.observedBox),T<e&&(e=T)}),t.push(function(){l.callback.call(l.observer,d,l.observer)}),l.activeTargets.splice(0,l.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};p();var gZ=function(e){Eu.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(ak(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var eLe=function(){var e=0;for(gZ(e);HRe();)e=JRe(),gZ(e);return WRe()&&YRe(),e>0};p();p();var vZ,tLe=[],pir=function(){return tLe.splice(0).forEach(function(e){return e()})},rLe=function(e){if(!vZ){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return pir()}).observe(r,n),vZ=function(){r.textContent="".concat(t?t--:t++)}}tLe.push(e),vZ()};var nLe=function(e){rLe(function(){requestAnimationFrame(e)})};var sk=0,fir=function(){return!!sk},dir=250,hir={attributes:!0,characterData:!0,childList:!0,subtree:!0},iLe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],oLe=function(e){return e===void 0&&(e=0),Date.now()+e},yZ=!1,mir=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=dir),!yZ){yZ=!0;var n=oLe(t);nLe(function(){var i=!1;try{i=eLe()}finally{if(yZ=!1,t=n-oLe(),!fir())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,hir)};document.body?r():wv.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),iLe.forEach(function(r){return wv.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),iLe.forEach(function(r){return wv.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),lk=new mir,_Z=function(e){!sk&&e>0&&lk.start(),sk+=e,!sk&&lk.stop()};p();var gir=function(e){return!DE(e)&&!KRe(e)&&getComputedStyle(e).display==="inline"},aLe=function(){function e(t,r){this.target=t,this.observedBox=r||xv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=ok(this.target,this.observedBox,!0);return gir(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();p();var sLe=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var uk=new WeakMap,lLe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},NE=function(){function e(){}return e.connect=function(t,r){var n=new sLe(t,r);uk.set(t,n)},e.observe=function(t,r,n){var i=uk.get(t),o=i.observationTargets.length===0;lLe(i.observationTargets,r)<0&&(o&&Eu.push(i),i.observationTargets.push(new aLe(r,n&&n.box)),_Z(1),lk.schedule())},e.unobserve=function(t,r){var n=uk.get(t),i=lLe(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&Eu.splice(Eu.indexOf(n),1),n.observationTargets.splice(i,1),_Z(-1))},e.disconnect=function(t){var r=this,n=uk.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var bZ=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");NE.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dZ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");NE.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dZ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");NE.unobserve(this,t)},e.prototype.disconnect=function(){NE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();p();var uLe=se(tt()),vir=uLe.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],cLe=vir;p();var ck=se(tt()),yir=e=>{let t=ck.useRef(e);return ck.useEffect(()=>{t.current=e}),t},pLe=yir;var _ir=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:bZ;function bir(){}function xir(e,t){let r=Sir(),n=pLe(t);return cLe(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return bir;function l(d,g){i||n.current(d,g)}return r.subscribe(o,l),()=>{i=!0,r.unsubscribe(o,l)}},[e,r,n]),r.observer}function wir(){let e=!1,t=[],r=new Map,n=new _ir((i,o)=>{t=t.concat(i);function l(){let d=new Set;for(let g=0;g<t.length;g++){if(d.has(t[g].target))continue;d.add(t[g].target);let _=r.get(t[g].target);_==null||_.forEach(E=>E(t[g],o))}t=[],e=!1}e||window.requestAnimationFrame(l),e=!0});return{observer:n,subscribe(i,o){var l;n.observe(i);let d=(l=r.get(i))!==null&&l!==void 0?l:[];d.push(o),r.set(i,d)},unsubscribe(i,o){var l;let d=(l=r.get(i))!==null&&l!==void 0?l:[];if(d.length===1){n.unobserve(i),r.delete(i);return}let g=d.indexOf(o);g!==-1&&d.splice(g,1),r.set(i,d)}}}var xZ,Sir=()=>xZ||(xZ=wir()),fLe=xir;function dLe(e,t=250){let r=(0,xc.useRef)();return(0,xc.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function pk(e){let[t,r]=(0,xc.useState)(e);return(0,xc.useEffect)(()=>{r(e)},[e]),t}function hLe(e,t){let r=di(YO),n=wZ(e);(0,xc.useEffect)(()=>{let{height:i,width:o}=n;r(l=>Object.assign({},l,{[t]:{height:i,width:o}}))},[n])}var wZ=e=>{let[t,r]=(0,xc.useState)({height:0,width:0});return(0,xc.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),fLe(e,n=>r(n.contentRect)),t};p();p();var LI=se(tt(),1),tFe=se(Ki(),1);p();var Mp=se(tt(),1);p();var SZ=tn({key:"isCustomWmsDialogOpenState",default:!1}),mLe=()=>em(({snapshot:e})=>()=>Ar(null,null,function*(){let t=(yield e.getPromise(rk))===Xa.BasemapSelector;return(yield e.getPromise(SZ))&&t}),[]);var Eir=(e,t)=>{let r=hr(bn),[n,i]=(0,Mp.useState)(null),[o,l]=Mn(rk),d=(0,Mp.useRef)(null),g=mLe(),_=(0,Mp.useCallback)(T=>Ar(null,null,function*(){(yield g())||d.current&&!d.current.contains(T.target)&&l(Xa.None)}),[]),E=(0,Mp.useCallback)(()=>{l(T=>T===t?Xa.None:t)},[t]);return(0,Mp.useEffect)(()=>{if(Nt(r)){let T=L=>{var z;((z=L.control)==null?void 0:z.id)===e&&i(L.control._container)},A=L=>{var z;((z=L.control)==null?void 0:z.id)===e&&i(null)};return r.on(fc.controlAdded,T),r.on(fc.controlRemoved,A),()=>{r.off(fc.controlAdded,T),r.off(fc.controlRemoved,A)}}},[r]),(0,Mp.useEffect)(()=>(o===t?document.addEventListener("mousedown",_):document.removeEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}),[o,t,_]),{baseMapControlEl:n,activeDialog:o,toggleDialog:E,dialogRef:d}},fk=Eir;p();var il=se(tt(),1);p();p();var qZ=se(h6e(),1);function jt(){return jt=qZ.default?qZ.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jt.apply(null,arguments)}p();var L6e=se(I6e(),1);p();var BZ=se(R6e(),1);function Tk(e,t){return Tk=BZ.default?BZ.default.bind():function(r,n){return r.__proto__=n,r},Tk(e,t)}function fr(e,t){e.prototype=(0,L6e.default)(t.prototype),e.prototype.constructor=e,Tk(e,t)}p();function vr(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}p();p();p();function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(null,arguments)}p();function E_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VZ=se(tt());p();var Ubn=se(Ck()),Por=function(){};function z6e(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[I_(n)]=Por,0)var i}),r}function UZ(e,t){return e[t]!==void 0}function I_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function j6e(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}p();p();p();function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},T_(e,t)}function Ak(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T_(e,t)}var M_=se(tt()),$6e=se(GZ()),G6e=se(Ck());var kor="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Jf(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=j6e(e),o=Object.keys(t),l=o.map(I_);i||!r.length||(0,G6e.default)(!1);var d=function(_){Ak(E,_);function E(){for(var A,L=arguments.length,z=new Array(L),U=0;U<L;U++)z[U]=arguments[U];A=_.call.apply(_,[this].concat(z))||this,A.handlers=Object.create(null),o.forEach(function(R){var j=t[R],H=function(re){if(A.props[j]){var ie;A._notifying=!0;for(var le=arguments.length,Me=new Array(le>1?le-1:0),we=1;we<le;we++)Me[we-1]=arguments[we];(ie=A.props)[j].apply(ie,[re].concat(Me)),A._notifying=!1}A.unmounted||A.setState(function(ye){var xe,Ie=ye.values;return{values:wn(Object.create(null),Ie,(xe={},xe[R]=re,xe))}})};A.handlers[j]=H}),r.length&&(A.attachRef=function(R){A.inner=R});var N=Object.create(null);return o.forEach(function(R){N[R]=A.props[I_(R)]}),A.state={values:N,prevProps:{}},A}var T=E.prototype;return T.shouldComponentUpdate=function(){return!this._notifying},E.getDerivedStateFromProps=function(L,z){var U=z.values,N=z.prevProps,R={values:wn(Object.create(null),U),prevProps:{}};return o.forEach(function(j){R.prevProps[j]=L[j],!UZ(L,j)&&UZ(N,j)&&(R.values[j]=L[I_(j)])}),R},T.componentWillUnmount=function(){this.unmounted=!0},T.render=function(){var L=this,z=this.props,U=z.innerRef,N=E_(z,["innerRef"]);l.forEach(function(j){delete N[j]});var R={};return o.forEach(function(j){var H=L.props[j];R[j]=H!==void 0?H:L.state.values[j]}),M_.default.createElement(e,wn({},N,R,this.handlers,{ref:U||this.attachRef}))},E}(M_.default.Component);(0,$6e.polyfill)(d),d.displayName="Uncontrolled("+n+")",d.propTypes=wn({innerRef:function(){}},z6e(t,n)),r.forEach(function(_){d.prototype[_]=function(){var T;return(T=this.inner)[_].apply(T,arguments)}});var g=d;return M_.default.forwardRef&&(g=M_.default.forwardRef(function(_,E){return M_.default.createElement(d,wn({},_,{innerRef:E,__source:{fileName:kor,lineNumber:128},__self:this}))}),g.propTypes=d.propTypes),g.ControlledComponent=e,g.deferControlTo=function(_,E,T){return E===void 0&&(E={}),Jf(_,wn({},t,E),T)},g}p();var ZZ=se(WZ());var J6e=se(Ck()),Pk=se(ir());p();var rs={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},FE={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var Q6e={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},BE={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function YZ(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Xr(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,J6e.default)(!1),r+(t?"-"+t:"")}var Lr=YZ(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=Pk.default.string,n.bsClass=e,t}),Ok=YZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(d){n.indexOf(d)===-1&&n.push(d)});var o=Pk.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=jt({},i,{bsStyle:o}),t!==void 0){var l=r.defaultProps||(r.defaultProps={});l.bsStyle=t}return r}),Ap=YZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(d){n.indexOf(d)===-1&&n.push(d)});var o=[];n.forEach(function(d){var g=FE[d];g&&g!==d&&o.push(g),o.push(d)});var l=Pk.default.oneOf(o);return l._values=o,r.SIZES=n,r.propTypes=jt({},i,{bsSize:l}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function xn(e){var t,r=(t={},t[Xr(e)]=!0,t);if(e.bsSize){var n=FE[e.bsSize]||e.bsSize;r[Xr(e,n)]=!0}return e.bsStyle&&(r[Xr(e,e.bsStyle)]=!0),r}function eqe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function tqe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function Ln(e){var t={};return(0,ZZ.default)(e).forEach(function(r){var n=r[0],i=r[1];tqe(n)||(t[n]=i)}),[eqe(e),t]}function Pp(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,ZZ.default)(e).forEach(function(i){var o=i[0],l=i[1];!tqe(o)&&!r[o]&&(n[o]=l)}),[eqe(e),n]}p();var Ca=se(tt());function zor(e,t,r){var n=0;return Ca.default.Children.map(e,function(i){return Ca.default.isValidElement(i)?t.call(r,i,n++):i})}function jor(e,t,r){var n=0;Ca.default.Children.forEach(e,function(i){Ca.default.isValidElement(i)&&t.call(r,i,n++)})}function For(e){var t=0;return Ca.default.Children.forEach(e,function(r){Ca.default.isValidElement(r)&&++t}),t}function Bor(e,t,r){var n=0,i=[];return Ca.default.Children.forEach(e,function(o){Ca.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function Uor(e,t,r){var n=0,i;return Ca.default.Children.forEach(e,function(o){i||Ca.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function Vor(e,t,r){var n=0,i=!0;return Ca.default.Children.forEach(e,function(o){i&&Ca.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function $or(e,t,r){var n=0,i=!1;return Ca.default.Children.forEach(e,function(o){i||Ca.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function Gor(e){var t=[];return Ca.default.Children.forEach(e,function(r){Ca.default.isValidElement(r)&&t.push(r)}),t}var Jo={map:zor,forEach:jor,count:For,find:Uor,filter:Bor,every:Vor,some:$or,toArray:Gor};p();var Dk=se(ir()),KZ=se(UE());var kxn=Dk.default.oneOfType([Dk.default.string,Dk.default.number]);function nqe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,KZ.default)(function(n,i,o){var l;return t.every(function(d){return Jo.some(n.children,function(g){return g.props.bsRole===d})?!0:(l=d,!1)}),l?new Error("(children) "+o+" - Missing a required child with bsRole: "+(l+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function iqe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,KZ.default)(function(n,i,o){var l;return t.every(function(d){var g=Jo.filter(n.children,function(_){return _.props.bsRole===d});return g.length>1?(l=d,!1):!0}),l?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(l+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}p();var XZ=se(ir()),VE=se(tt()),Zor={label:XZ.default.string.isRequired,onClick:XZ.default.func},Yor={label:"Close"},QZ=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,l=i.onClick;return VE.default.createElement("button",{type:"button",className:"close",onClick:l},VE.default.createElement("span",{"aria-hidden":"true"},"\xD7"),VE.default.createElement("span",{className:"sr-only"},o))},t}(VE.default.Component);QZ.propTypes=Zor;QZ.defaultProps=Yor;var pqe=QZ;p();p();function rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var rY=se(tt()),ed=se(ir()),_qe=se(Aa());p();function sar(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var l=arguments.length,d=new Array(l),g=0;g<l;g++)d[g]=arguments[g];n.apply(this,d),i.apply(this,d)}},null)}var hi=sar;var lar={href:ed.default.string,onClick:ed.default.func,onKeyDown:ed.default.func,disabled:ed.default.bool,role:ed.default.string,tabIndex:ed.default.oneOfType([ed.default.number,ed.default.string]),componentClass:_qe.default},uar={componentClass:"a"};function yqe(e){return!e||e.trim()==="#"}var nY=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(rn(rn(o))),o.handleKeyDown=o.handleKeyDown.bind(rn(rn(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,l=o.disabled,d=o.href,g=o.onClick;if((l||yqe(d))&&i.preventDefault(),l){i.stopPropagation();return}g&&g(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,l=i.disabled,d=i.onKeyDown,g=vr(i,["componentClass","disabled","onKeyDown"]);return yqe(g.href)&&(g.role=g.role||"button",g.href=g.href||"#"),l&&(g.tabIndex=-1,g.style=jt({pointerEvents:"none"},g.style)),rY.default.createElement(o,jt({},g,{onClick:this.handleClick,onKeyDown:hi(this.handleKeyDown,d)}))},t}(rY.default.Component);nY.propTypes=lar;nY.defaultProps=uar;var fm=nY;p();var bqe=se(cqe());var iY=se(mn()),Gk=se(tt()),Sv=se(ir()),xqe=se(Aa());var car={active:Sv.default.bool,disabled:Sv.default.bool,block:Sv.default.bool,onClick:Sv.default.func,componentClass:xqe.default,href:Sv.default.string,type:Sv.default.oneOf(["button","reset","submit"])},par={active:!1,block:!1,disabled:!1},oY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return Gk.default.createElement(fm,jt({},i,{className:(0,iY.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var l=i.componentClass,d=vr(i,["componentClass"]),g=l||"button";return Gk.default.createElement(g,jt({},d,{type:d.type||"button",className:o}))},r.render=function(){var i,o=this.props,l=o.active,d=o.block,g=o.className,_=vr(o,["active","block","className"]),E=Ln(_),T=E[0],A=E[1],L=jt({},xn(T),(i={active:l},i[Xr(T,"block")]=d,i)),z=(0,iY.default)(g,L);return A.href?this.renderAnchor(A,z):this.renderButton(A,z)},t}(Gk.default.Component);oY.propTypes=car;oY.defaultProps=par;var Rl=Lr("btn",Ap([rs.LARGE,rs.SMALL,rs.XSMALL],Ok((0,bqe.default)(Q6e).concat([BE.DEFAULT,BE.PRIMARY,BE.LINK]),BE.DEFAULT,oY)));p();var Sqe=se(mn()),aY=se(tt()),Wk=se(ir()),Eqe=se($E());var gar={vertical:Wk.default.bool,justified:Wk.default.bool,block:(0,Eqe.default)(Wk.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},yar={block:!1,justified:!1,vertical:!1},sY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,l=o.block,d=o.justified,g=o.vertical,_=o.className,E=vr(o,["block","justified","vertical","className"]),T=Ln(E),A=T[0],L=T[1],z=jt({},xn(A),(i={},i[Xr(A)]=!g,i[Xr(A,"vertical")]=g,i[Xr(A,"justified")]=d,i[Xr(Rl.defaultProps,"block")]=l,i));return aY.default.createElement("div",jt({},L,{className:(0,Sqe.default)(_,z)}))},t}(aY.default.Component);sY.propTypes=gar;sY.defaultProps=yar;var Iqe=Lr("btn-group",sY);p();var Tqe=se(mn()),lY=se(tt()),Mqe=se(ir());var _ar={glyph:Mqe.default.string.isRequired},Cqe=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,l=o.glyph,d=o.className,g=vr(o,["glyph","className"]),_=Ln(g),E=_[0],T=_[1],A=jt({},xn(E),(i={},i[Xr(E,l)]=!0,i));return lY.default.createElement("span",jt({},T,{className:(0,Tqe.default)(d,A)}))},t}(lY.default.Component);Cqe.propTypes=_ar;var Mo=Lr("glyphicon",Cqe);p();var Pqe=se(mn()),uY=se(tt()),Zk=se(ir()),Nwn=se(dm());var xar={htmlFor:Zk.default.string,srOnly:Zk.default.bool},war={srOnly:!1},Sar={$bs_formGroup:Zk.default.object},Yk=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,l=this.props,d=l.htmlFor,g=d===void 0?o:d,_=l.srOnly,E=l.className,T=vr(l,["htmlFor","srOnly","className"]),A=Ln(T),L=A[0],z=A[1],U=jt({},xn(L),{"sr-only":_});return uY.default.createElement("label",jt({},z,{htmlFor:g,className:(0,Pqe.default)(E,U)}))},t}(uY.default.Component);Yk.propTypes=xar;Yk.defaultProps=war;Yk.contextTypes=Sar;var cY=Lr("control-label",Yk);p();var f7e=se(mn()),d7e=se(bY()),h7e=se(O_()),SD=se(cD()),D_=se(tt()),Ms=se(ir()),zY=se(Ki()),m7e=se($E()),g7e=se(Aa()),v7e=se(fD());var bSn=se(dm());p();var s7e=se(X8e());var l7e=se(mn()),JE=se(cD()),eI=se(tt()),rd=se(ir()),u7e=se(Ki()),c7e=se(DY());var Olr={open:rd.default.bool,pullRight:rd.default.bool,onClose:rd.default.func,labelledBy:rd.default.oneOfType([rd.default.string,rd.default.number]),onSelect:rd.default.func,rootCloseEvent:rd.default.oneOf(["click","mousedown"])},klr={bsRole:"menu",pullRight:!1},NY=function(e){fr(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(rn(rn(i))),i.handleKeyDown=i.handleKeyDown.bind(rn(rn(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=u7e.default.findDOMNode(this);return i?(0,s7e.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,l=i.activeIndex;if(o.length!==0){var d=l===o.length-1?0:l+1;o[d].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,l=i.activeIndex;if(o.length!==0){var d=l===0?o.length-1:l-1;o[d].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case JE.default.codes.down:this.focusNext(),i.preventDefault();break;case JE.default.codes.up:this.focusPrevious(),i.preventDefault();break;case JE.default.codes.esc:case JE.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,l=this.props,d=l.open,g=l.pullRight,_=l.labelledBy,E=l.onSelect,T=l.className,A=l.rootCloseEvent,L=l.children,z=vr(l,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),U=Pp(z,["onClose"]),N=U[0],R=U[1],j=jt({},xn(N),(i={},i[Xr(N,"right")]=g,i));return eI.default.createElement(c7e.default,{disabled:!d,onRootClose:this.handleRootClose,event:A},eI.default.createElement("ul",jt({},R,{role:"menu",className:(0,l7e.default)(T,j),"aria-labelledby":_}),Jo.map(L,function(H){return eI.default.cloneElement(H,{onKeyDown:hi(H.props.onKeyDown,o.handleKeyDown),onSelect:hi(H.props.onSelect,E)})})))},t}(eI.default.Component);NY.propTypes=Olr;NY.defaultProps=klr;var RY=Lr("dropdown-menu",NY);p();var wD=se(tt()),tI=se(ir()),p7e=se(mn());var Dlr={noCaret:tI.default.bool,open:tI.default.bool,title:tI.default.string,useAnchor:tI.default.bool},Nlr={open:!1,useAnchor:!1,bsRole:"toggle"},LY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,l=i.open,d=i.useAnchor,g=i.bsClass,_=i.className,E=i.children,T=vr(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete T.bsRole;var A=d?fm:Rl,L=!o;return wD.default.createElement(A,jt({},T,{role:"button",className:(0,p7e.default)(_,g),"aria-haspopup":!0,"aria-expanded":l}),E||T.title,L&&" ",L&&wD.default.createElement("span",{className:"caret"}))},t}(wD.default.Component);LY.propTypes=Dlr;LY.defaultProps=Nlr;var qY=Lr("dropdown-toggle",LY);var y7e=qY.defaultProps.bsRole,jY=RY.defaultProps.bsRole,Rlr={dropup:Ms.default.bool,id:(0,v7e.default)(Ms.default.oneOfType([Ms.default.string,Ms.default.number])),componentClass:g7e.default,children:(0,m7e.default)(nqe(y7e,jY),iqe(jY)),disabled:Ms.default.bool,pullRight:Ms.default.bool,open:Ms.default.bool,defaultOpen:Ms.default.bool,onToggle:Ms.default.func,onSelect:Ms.default.func,role:Ms.default.string,rootCloseEvent:Ms.default.oneOf(["click","mousedown"]),onMouseEnter:Ms.default.func,onMouseLeave:Ms.default.func},Llr={componentClass:Iqe},ED=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(rn(rn(o))),o.handleKeyDown=o.handleKeyDown.bind(rn(rn(o))),o.handleClose=o.handleClose.bind(rn(rn(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,h7e.default)(zY.default.findDOMNode(this.menu),(0,d7e.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,l=i.open;o&&!l&&this.focusNextOnOpen(),!o&&l&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=zY.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case SD.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case SD.default.codes.esc:case SD.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var l=!this.props.open;l&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(l,i,o)},r.renderMenu=function(i,o){var l=this,d=o.id,g=o.onSelect,_=o.rootCloseEvent,E=vr(o,["id","onSelect","rootCloseEvent"]),T=function(L){l.menu=L};return typeof i.ref=="string"||(T=hi(i.ref,T)),(0,D_.cloneElement)(i,jt({},E,{ref:T,labelledBy:d,bsClass:Xr(E,"menu"),onClose:hi(i.props.onClose,this.handleClose),onSelect:hi(i.props.onSelect,g,function(A,L){return l.handleClose(L,{source:"select"})}),rootCloseEvent:_}))},r.renderToggle=function(i,o){var l=this,d=function(_){l.toggle=_};return typeof i.ref=="string"||(d=hi(i.ref,d)),(0,D_.cloneElement)(i,jt({},o,{ref:d,bsClass:Xr(o,"toggle"),onClick:hi(i.props.onClick,this.handleClick),onKeyDown:hi(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,l=this.props,d=l.componentClass,g=l.id,_=l.dropup,E=l.disabled,T=l.pullRight,A=l.open,L=l.onSelect,z=l.role,U=l.bsClass,N=l.className,R=l.rootCloseEvent,j=l.children,H=vr(l,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete H.onToggle;var Y=(i={},i[U]=!0,i.open=A,i.disabled=E,i);return _&&(Y[U]=!1,Y.dropup=!0),D_.default.createElement(d,jt({},H,{className:(0,f7e.default)(N,Y)}),Jo.map(j,function(re){switch(re.props.bsRole){case y7e:return o.renderToggle(re,{id:g,disabled:E,open:A,role:z,bsClass:U});case jY:return o.renderMenu(re,{id:g,open:A,pullRight:T,bsClass:U,onSelect:L,rootCloseEvent:R});default:return re}}))},t}(D_.default.Component);ED.propTypes=Rlr;ED.defaultProps=Llr;Lr("dropdown",ED);var FY=Jf(ED,{open:"onToggle"});FY.Toggle=qY;FY.Menu=RY;var rI=FY;p();var _7e=se(WZ());function BY(e,t){var r=t.propTypes,n={},i={};return(0,_7e.default)(e).forEach(function(o){var l=o[0],d=o[1];r[l]?n[l]=d:i[l]=d}),[n,i]}p();var b7e=se(mn()),TD=se(tt()),Iu=se(ir()),N_=se(e8e()),ID,qlr={in:Iu.default.bool,mountOnEnter:Iu.default.bool,unmountOnExit:Iu.default.bool,appear:Iu.default.bool,timeout:Iu.default.number,onEnter:Iu.default.func,onEntering:Iu.default.func,onEntered:Iu.default.func,onExit:Iu.default.func,onExiting:Iu.default.func,onExited:Iu.default.func},zlr={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},jlr=(ID={},ID[N_.ENTERING]="in",ID[N_.ENTERED]="in",ID),UY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,l=i.children,d=vr(i,["className","children"]);return TD.default.createElement(N_.default,d,function(g,_){return TD.default.cloneElement(l,jt({},_,{className:(0,b7e.default)("fade",o,l.props.className,jlr[g])}))})},t}(TD.default.Component);UY.propTypes=qlr;UY.defaultProps=zlr;var mm=UY;p();var x7e=se(mn()),VY=se(tt()),$Y=se(ir()),w7e=se(Aa());var Flr={horizontal:$Y.default.bool,inline:$Y.default.bool,componentClass:w7e.default},Blr={horizontal:!1,inline:!1,componentClass:"form"},GY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,l=i.inline,d=i.componentClass,g=i.className,_=vr(i,["horizontal","inline","componentClass","className"]),E=Ln(_),T=E[0],A=E[1],L=[];return o&&L.push(Xr(T,"horizontal")),l&&L.push(Xr(T,"inline")),VY.default.createElement(d,jt({},A,{className:(0,x7e.default)(g,L)}))},t}(VY.default.Component);GY.propTypes=Flr;GY.defaultProps=Blr;var HY=Lr("form",GY);p();var C7e=se(mn()),XY=se(tt()),iI=se(ir()),A7e=se(Aa()),aEn=se(dm());p();var WY=se(mn()),nI=se(tt()),S7e=se(ir());var Ulr={bsRole:"feedback"},Vlr={$bs_formGroup:S7e.default.object},ZY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},r.renderDefaultFeedback=function(i,o,l,d){var g=this.getGlyph(i&&i.validationState);return g?nI.default.createElement(Mo,jt({},d,{glyph:g,className:(0,WY.default)(o,l)})):null},r.render=function(){var i=this.props,o=i.className,l=i.children,d=vr(i,["className","children"]),g=Ln(d),_=g[0],E=g[1],T=xn(_);if(!l)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,T,E);var A=nI.default.Children.only(l);return nI.default.cloneElement(A,jt({},E,{className:(0,WY.default)(A.props.className,o,T)}))},t}(nI.default.Component);ZY.defaultProps=Ulr;ZY.contextTypes=Vlr;var E7e=Lr("form-control-feedback",ZY);p();var I7e=se(mn()),YY=se(tt()),T7e=se(Aa());var $lr={componentClass:T7e.default},Glr={componentClass:"p"},KY=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,l=i.className,d=vr(i,["componentClass","className"]),g=Ln(d),_=g[0],E=g[1],T=xn(_);return YY.default.createElement(o,jt({},E,{className:(0,I7e.default)(l,T)}))},t}(YY.default.Component);KY.propTypes=$lr;KY.defaultProps=Glr;var M7e=Lr("form-control-static",KY);var Hlr={componentClass:A7e.default,type:iI.default.string,id:iI.default.string,inputRef:iI.default.func},Wlr={componentClass:"input"},Zlr={$bs_formGroup:iI.default.object},R_=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,l=this.props,d=l.componentClass,g=l.type,_=l.id,E=_===void 0?o:_,T=l.inputRef,A=l.className,L=l.bsSize,z=vr(l,["componentClass","type","id","inputRef","className","bsSize"]),U=Ln(z),N=U[0],R=U[1],j;if(g!=="file"&&(j=xn(N)),L){var H=FE[L]||L;j[Xr({bsClass:"input"},H)]=!0}return XY.default.createElement(d,jt({},R,{type:g,id:E,ref:T,className:(0,C7e.default)(A,j)}))},t}(XY.default.Component);R_.propTypes=Hlr;R_.defaultProps=Wlr;R_.contextTypes=Zlr;R_.Feedback=E7e;R_.Static=M7e;var QY=Lr("form-control",Ap([rs.SMALL,rs.LARGE],R_));p();var P7e=se(mn()),JY=se(tt()),MD=se(ir());var Ylr={controlId:MD.default.string,validationState:MD.default.oneOf(["success","warning","error",null])},Klr={$bs_formGroup:MD.default.object.isRequired},eK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,l=i.validationState;return{$bs_formGroup:{controlId:o,validationState:l}}},r.hasFeedback=function(i){var o=this;return Jo.some(i,function(l){return l.props.bsRole==="feedback"||l.props.children&&o.hasFeedback(l.props.children)})},r.render=function(){var i=this.props,o=i.validationState,l=i.className,d=i.children,g=vr(i,["validationState","className","children"]),_=Pp(g,["controlId"]),E=_[0],T=_[1],A=jt({},xn(E),{"has-feedback":this.hasFeedback(d)});return o&&(A["has-"+o]=!0),JY.default.createElement("div",jt({},T,{className:(0,P7e.default)(l,A)}),d)},t}(JY.default.Component);eK.propTypes=Ylr;eK.childContextTypes=Klr;var tK=Lr("form-group",Ap([rs.LARGE,rs.SMALL],eK));p();var O7e=se(mn()),rK=se(tt());var Xlr=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,l=vr(i,["className"]),d=Ln(l),g=d[0],_=d[1],E=xn(g);return rK.default.createElement("span",jt({},_,{className:(0,O7e.default)(o,E)}))},t}(rK.default.Component),nK=Lr("help-block",Xlr);p();var CD=se(mn()),L_=se(tt()),nd=se(ir()),k7e=se($E());var Qlr={active:nd.default.bool,disabled:nd.default.bool,divider:(0,k7e.default)(nd.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:nd.default.any,header:nd.default.bool,href:nd.default.string,onClick:nd.default.func,onSelect:nd.default.func},Jlr={divider:!1,disabled:!1,header:!1},iK=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(rn(rn(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,l=o.href,d=o.disabled,g=o.onSelect,_=o.eventKey;(!l||d)&&i.preventDefault(),!d&&g&&g(_,i)},r.render=function(){var i=this.props,o=i.active,l=i.disabled,d=i.divider,g=i.header,_=i.onClick,E=i.className,T=i.style,A=vr(i,["active","disabled","divider","header","onClick","className","style"]),L=Pp(A,["eventKey","onSelect"]),z=L[0],U=L[1];return d?(U.children=void 0,L_.default.createElement("li",jt({},U,{role:"separator",className:(0,CD.default)(E,"divider"),style:T}))):g?L_.default.createElement("li",jt({},U,{role:"heading",className:(0,CD.default)(E,Xr(z,"header")),style:T})):L_.default.createElement("li",{role:"presentation",className:(0,CD.default)(E,{active:o,disabled:l}),style:T},L_.default.createElement(fm,jt({},U,{role:"menuitem",tabIndex:"-1",onClick:hi(_,this.handleClick)})))},t}(L_.default.Component);iK.propTypes=Qlr;iK.defaultProps=Jlr;var oK=Lr("dropdown",iK);p();var PK=se(mn()),OK=se(G7e()),nze=se(Tv()),ize=se(Op()),kK=se(lK()),j_=se(tt()),ta=se(ir()),oze=se(Ki()),F_=se(W9e()),aze=se(fK()),sze=se(Aa());p();var Z9e=se(mn()),SK=se(tt()),Y9e=se(Aa());var cpr={componentClass:Y9e.default},ppr={componentClass:"div"},EK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,l=i.className,d=vr(i,["componentClass","className"]),g=Ln(d),_=g[0],E=g[1],T=xn(_);return SK.default.createElement(o,jt({},E,{className:(0,Z9e.default)(l,T)}))},t}(SK.default.Component);EK.propTypes=cpr;EK.defaultProps=ppr;var cI=Lr("modal-body",EK);p();var IK=se(mn()),pI=se(tt()),K9e=se(ir());var fpr={dialogClassName:K9e.default.string},X9e=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,l=o.dialogClassName,d=o.className,g=o.style,_=o.children,E=o.onMouseDownDialog,T=vr(o,["dialogClassName","className","style","children","onMouseDownDialog"]),A=Ln(T),L=A[0],z=A[1],U=Xr(L),N=jt({display:"block"},g),R=jt({},xn(L),(i={},i[U]=!1,i[Xr(L,"dialog")]=!0,i));return pI.default.createElement("div",jt({},z,{tabIndex:"-1",role:"dialog",style:N,className:(0,IK.default)(d,U)}),pI.default.createElement("div",{className:(0,IK.default)(l,R),onMouseDown:E},pI.default.createElement("div",{className:Xr(L,"content"),role:"document"},_)))},t}(pI.default.Component);X9e.propTypes=fpr;var YD=Lr("modal",Ap([rs.LARGE,rs.SMALL],X9e));p();var Q9e=se(mn()),TK=se(tt()),J9e=se(Aa());var dpr={componentClass:J9e.default},hpr={componentClass:"div"},MK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,l=i.className,d=vr(i,["componentClass","className"]),g=Ln(d),_=g[0],E=g[1],T=xn(_);return TK.default.createElement(o,jt({},E,{className:(0,Q9e.default)(l,T)}))},t}(TK.default.Component);MK.propTypes=dpr;MK.defaultProps=hpr;var fI=Lr("modal-footer",MK);p();var eze=se(mn()),z_=se(ir()),KD=se(tt());var mpr={closeLabel:z_.default.string,closeButton:z_.default.bool,onHide:z_.default.func},gpr={closeLabel:"Close",closeButton:!1},vpr={$bs_modal:z_.default.shape({onHide:z_.default.func})},XD=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,l=i.closeButton,d=i.onHide,g=i.className,_=i.children,E=vr(i,["closeLabel","closeButton","onHide","className","children"]),T=this.context.$bs_modal,A=Ln(E),L=A[0],z=A[1],U=xn(L);return KD.default.createElement("div",jt({},z,{className:(0,eze.default)(g,U)}),l&&KD.default.createElement(pqe,{label:o,onClick:hi(T&&T.onHide,d)}),_)},t}(KD.default.Component);XD.propTypes=mpr;XD.defaultProps=gpr;XD.contextTypes=vpr;var dI=Lr("modal-header",XD);p();var tze=se(mn()),CK=se(tt()),rze=se(Aa());var ypr={componentClass:rze.default},_pr={componentClass:"h4"},AK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,l=i.className,d=vr(i,["componentClass","className"]),g=Ln(d),_=g[0],E=g[1],T=xn(_);return CK.default.createElement(o,jt({},E,{className:(0,tze.default)(l,T)}))},t}(CK.default.Component);AK.propTypes=ypr;AK.defaultProps=_pr;var hI=Lr("modal-title",AK);var bpr=jt({},F_.default.propTypes,YD.propTypes,{backdrop:ta.default.oneOf(["static",!0,!1]),backdropClassName:ta.default.string,keyboard:ta.default.bool,animation:ta.default.bool,dialogComponentClass:sze.default,autoFocus:ta.default.bool,enforceFocus:ta.default.bool,restoreFocus:ta.default.bool,show:ta.default.bool,onHide:ta.default.func,onEnter:ta.default.func,onEntering:ta.default.func,onEntered:ta.default.func,onExit:ta.default.func,onExiting:ta.default.func,onExited:ta.default.func,container:F_.default.propTypes.container}),xpr=jt({},F_.default.defaultProps,{animation:!0,dialogComponentClass:YD}),wpr={$bs_modal:ta.default.shape({onHide:ta.default.func})};function Spr(e){return j_.default.createElement(mm,jt({},e,{timeout:Ll.TRANSITION_DURATION}))}function Epr(e){return j_.default.createElement(mm,jt({},e,{timeout:Ll.BACKDROP_TRANSITION_DURATION}))}var Ll=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(l){var d=o._modal.getDialogElement();o._waitingForMouseUp&&l.target===d&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(rn(rn(o))),o.handleExited=o.handleExited.bind(rn(rn(o))),o.handleWindowResize=o.handleWindowResize.bind(rn(rn(o))),o.handleDialogClick=o.handleDialogClick.bind(rn(rn(o))),o.setModalRef=o.setModalRef.bind(rn(rn(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){OK.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){OK.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(ize.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,l=(0,nze.default)(i),d=(0,aze.default)(oze.default.findDOMNode(this.props.container||l.body)),g=o>l.documentElement.clientHeight;this.setState({style:{paddingRight:d&&!g?(0,kK.default)():void 0,paddingLeft:!d&&g?(0,kK.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,l=i.backdropClassName,d=i.animation,g=i.show,_=i.dialogComponentClass,E=i.className,T=i.style,A=i.children,L=i.onEntering,z=i.onExited,U=vr(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),N=BY(U,F_.default),R=N[0],j=N[1],H=g&&!d&&"in";return j_.default.createElement(F_.default,jt({},R,{ref:this.setModalRef,show:g,containerClassName:Xr(U,"open"),transition:d?Spr:void 0,backdrop:o,backdropTransition:d?Epr:void 0,backdropClassName:(0,PK.default)(Xr(U,"backdrop"),l,H),onEntering:hi(L,this.handleEntering),onExited:hi(z,this.handleExited),onMouseUp:this.handleMouseUp}),j_.default.createElement(_,jt({},j,{style:jt({},this.state.style,T),className:(0,PK.default)(E,H),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),A))},t}(j_.default.Component);Ll.propTypes=bpr;Ll.defaultProps=xpr;Ll.childContextTypes=wpr;Ll.Body=cI;Ll.Header=dI;Ll.Title=hI;Ll.Footer=fI;Ll.Dialog=YD;Ll.TRANSITION_DURATION=300;Ll.BACKDROP_TRANSITION_DURATION=150;var DK=Lr("modal",Ap([rs.LARGE,rs.SMALL],Ll));p();var lze=se(mn()),mI=se(cD()),gI=se(tt()),ra=se(ir()),uze=se(Ki()),cze=se($E()),lTn=se(dm());var Ipr={activeKey:ra.default.any,activeHref:ra.default.string,stacked:ra.default.bool,justified:(0,cze.default)(ra.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:ra.default.func,role:ra.default.string,navbar:ra.default.bool,pullRight:ra.default.bool,pullLeft:ra.default.bool},Tpr={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},Mpr={$bs_navbar:ra.default.shape({bsClass:ra.default.string,onSelect:ra.default.func}),$bs_tabContainer:ra.default.shape({activeKey:ra.default.any,onSelect:ra.default.func.isRequired,getTabId:ra.default.func.isRequired,getPaneId:ra.default.func.isRequired})},QD=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,l=this.getActiveProps(),d=l.activeKey,g=l.activeHref,_=Jo.find(o,function(z){return i.isActive(z,d,g)}),E=Jo.toArray(o),T=E.indexOf(_),A=uze.default.findDOMNode(this).children,L=A&&A[T];!L||!L.firstChild||L.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,l=this.props.children,d=Jo.filter(l,function(U){return U.props.eventKey!=null&&!U.props.disabled}),g=this.getActiveProps(),_=g.activeKey,E=g.activeHref,T=Jo.find(l,function(U){return o.isActive(U,_,E)}),A=d.indexOf(T);if(A===-1)return d[0];var L=A+i,z=d.length;return L>=z?L=0:L<0&&(L=z-1),d[L]},r.getTabProps=function(i,o,l,d,g){var _=this;if(!o&&l!=="tablist")return null;var E=i.props,T=E.id,A=E["aria-controls"],L=E.eventKey,z=E.role,U=E.onKeyDown,N=E.tabIndex;return o&&(T=o.getTabId(L),A=o.getPaneId(L)),l==="tablist"&&(z=z||"tab",U=hi(function(R){return _.handleTabKeyDown(g,R)},U),N=d?N:-1),{id:T,role:z,onKeyDown:U,"aria-controls":A,tabIndex:N}},r.handleTabKeyDown=function(i,o){var l;switch(o.keyCode){case mI.default.codes.left:case mI.default.codes.up:l=this.getNextActiveChild(-1);break;case mI.default.codes.right:case mI.default.codes.down:l=this.getNextActiveChild(1);break;default:return}o.preventDefault(),i&&l&&l.props.eventKey!=null&&i(l.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,l){var d=i.props;return d.active||o!=null&&d.eventKey===o||l&&d.href===l?!0:d.active},r.render=function(){var i,o=this,l=this.props,d=l.stacked,g=l.justified,_=l.onSelect,E=l.role,T=l.navbar,A=l.pullRight,L=l.pullLeft,z=l.className,U=l.children,N=vr(l,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),R=this.context.$bs_tabContainer,j=E||(R?"tablist":null),H=this.getActiveProps(),Y=H.activeKey,re=H.activeHref;delete N.activeKey,delete N.activeHref;var ie=Ln(N),le=ie[0],Me=ie[1],we=jt({},xn(le),(i={},i[Xr(le,"stacked")]=d,i[Xr(le,"justified")]=g,i)),ye=T!=null?T:this.context.$bs_navbar,xe,Ie;if(ye){var de=this.context.$bs_navbar||{bsClass:"navbar"};we[Xr(de,"nav")]=!0,Ie=Xr(de,"right"),xe=Xr(de,"left")}else Ie="pull-right",xe="pull-left";return we[Ie]=A,we[xe]=L,gI.default.createElement("ul",jt({},Me,{role:j,className:(0,lze.default)(z,we)}),Jo.map(U,function(Pe){var Ke=o.isActive(Pe,Y,re),at=hi(Pe.props.onSelect,_,ye&&ye.onSelect,R&&R.onSelect);return(0,gI.cloneElement)(Pe,jt({},o.getTabProps(Pe,R,j,Ke,at),{active:Ke,activeKey:Y,activeHref:re,onSelect:at}))}))},t}(gI.default.Component);QD.propTypes=Ipr;QD.defaultProps=Tpr;QD.contextTypes=Mpr;var pze=Lr("nav",Ok(["tabs","pills"],QD));p();var fze=se(mn()),JD=se(tt()),_m=se(ir());var Cpr={active:_m.default.bool,disabled:_m.default.bool,role:_m.default.string,href:_m.default.string,onClick:_m.default.func,onSelect:_m.default.func,eventKey:_m.default.any},Apr={active:!1,disabled:!1},NK=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(rn(rn(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,l=i.disabled,d=i.onClick,g=i.className,_=i.style,E=vr(i,["active","disabled","onClick","className","style"]);return delete E.onSelect,delete E.eventKey,delete E.activeKey,delete E.activeHref,E.role?E.role==="tab"&&(E["aria-selected"]=o):E.href==="#"&&(E.role="button"),JD.default.createElement("li",{role:"presentation",className:(0,fze.default)(g,{active:o,disabled:l}),style:_},JD.default.createElement(fm,jt({},E,{disabled:l,onClick:hi(d,this.handleClick)})))},t}(JD.default.Component);NK.propTypes=Cpr;NK.defaultProps=Apr;var dze=NK;p();var Uze=se(mn()),_I=se(tt()),ql=se(ir()),BK=se(Bze()),Vze=se(Aa());var Ofr=jt({},BK.default.propTypes,{show:ql.default.bool,rootClose:ql.default.bool,onHide:ql.default.func,animation:ql.default.oneOfType([ql.default.bool,Vze.default]),onEnter:ql.default.func,onEntering:ql.default.func,onEntered:ql.default.func,onExit:ql.default.func,onExiting:ql.default.func,onExited:ql.default.func,placement:ql.default.oneOf(["top","right","bottom","left"])}),kfr={animation:mm,rootClose:!1,show:!1,placement:"right"},UK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,l=i.children,d=vr(i,["animation","children"]),g=o===!0?mm:o||null,_;return g?_=l:_=(0,_I.cloneElement)(l,{className:(0,Uze.default)(l.props.className,"in")}),_I.default.createElement(BK.default,jt({},d,{transition:g}),_)},t}(_I.default.Component);UK.propTypes=Ofr;UK.defaultProps=kfr;var VK=UK;p();var $K=se(mn()),V_=se(tt()),$_=se(ir()),UTn=se(dm());var Dfr={inline:$_.default.bool,disabled:$_.default.bool,title:$_.default.string,validationState:$_.default.oneOf(["success","warning","error",null]),inputRef:$_.default.func},Nfr={inline:!1,disabled:!1,title:""},GK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,l=i.disabled,d=i.validationState,g=i.inputRef,_=i.className,E=i.style,T=i.title,A=i.children,L=vr(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),z=Ln(L),U=z[0],N=z[1],R=V_.default.createElement("input",jt({},N,{ref:g,type:"radio",disabled:l}));if(o){var j,H=(j={},j[Xr(U,"inline")]=!0,j.disabled=l,j);return V_.default.createElement("label",{className:(0,$K.default)(_,H),style:E,title:T},R,A)}var Y=jt({},xn(U),{disabled:l});return d&&(Y["has-"+d]=!0),V_.default.createElement("div",{className:(0,$K.default)(_,Y),style:E},V_.default.createElement("label",{title:T},R,A))},t}(V_.default.Component);GK.propTypes=Dfr;GK.defaultProps=Nfr;var HK=Lr("radio",GK);p();var KK=se(tt()),vN=se(ir());p();var cN=se(tt()),Tu=se(ir());var Rfr="tab",Lfr="pane",qfr=Tu.default.oneOfType([Tu.default.string,Tu.default.number]),zfr={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=qfr.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Tu.default.func,onSelect:Tu.default.func,activeKey:Tu.default.any},jfr={$bs_tabContainer:Tu.default.shape({activeKey:Tu.default.any,onSelect:Tu.default.func.isRequired,getTabId:Tu.default.func.isRequired,getPaneId:Tu.default.func.isRequired})},WK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,l=i.onSelect,d=i.generateChildId,g=i.id,_=d||function(E,T){return g?g+"-"+T+"-"+E:null};return{$bs_tabContainer:{activeKey:o,onSelect:l,getTabId:function(T){return _(T,Rfr)},getPaneId:function(T){return _(T,Lfr)}}}},r.render=function(){var i=this.props,o=i.children,l=vr(i,["children"]);return delete l.generateChildId,delete l.onSelect,delete l.activeKey,cN.default.cloneElement(cN.default.Children.only(o),l)},t}(cN.default.Component);WK.propTypes=zfr;WK.childContextTypes=jfr;var pN=Jf(WK,{activeKey:"onSelect"});p();var $ze=se(mn()),ZK=se(tt()),Oa=se(ir()),fN=se(Aa());var Ffr={componentClass:fN.default,animation:Oa.default.oneOfType([Oa.default.bool,fN.default]),mountOnEnter:Oa.default.bool,unmountOnExit:Oa.default.bool},Bfr={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},Ufr={$bs_tabContainer:Oa.default.shape({activeKey:Oa.default.any})},Vfr={$bs_tabContent:Oa.default.shape({bsClass:Oa.default.string,animation:Oa.default.oneOfType([Oa.default.bool,fN.default]),activeKey:Oa.default.any,mountOnEnter:Oa.default.bool,unmountOnExit:Oa.default.bool,onPaneEnter:Oa.default.func.isRequired,onPaneExited:Oa.default.func.isRequired,exiting:Oa.default.bool.isRequired})},bI=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(rn(rn(o))),o.handlePaneExited=o.handlePaneExited.bind(rn(rn(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,l=i.animation,d=i.mountOnEnter,g=i.unmountOnExit,_=this.state.activeKey,E=this.getContainerActiveKey(),T=_!=null?_:E,A=_!=null&&_!==E;return{$bs_tabContent:{bsClass:o,animation:l,activeKey:T,mountOnEnter:d,unmountOnExit:g,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:A}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var l=o.activeChild;return l!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,l=i.className,d=vr(i,["componentClass","className"]),g=Pp(d,["animation","mountOnEnter","unmountOnExit"]),_=g[0],E=g[1];return ZK.default.createElement(o,jt({},E,{className:(0,$ze.default)(l,Xr(_,"content"))}))},t}(ZK.default.Component);bI.propTypes=Ffr;bI.defaultProps=Bfr;bI.contextTypes=Ufr;bI.childContextTypes=Vfr;var dN=Lr("tab",bI);p();var Gze=se(mn()),hN=se(tt()),ii=se(ir()),YK=se(Aa()),uMn=se(dm());var $fr={eventKey:ii.default.any,animation:ii.default.oneOfType([ii.default.bool,YK.default]),id:ii.default.string,"aria-labelledby":ii.default.string,bsClass:ii.default.string,onEnter:ii.default.func,onEntering:ii.default.func,onEntered:ii.default.func,onExit:ii.default.func,onExiting:ii.default.func,onExited:ii.default.func,mountOnEnter:ii.default.bool,unmountOnExit:ii.default.bool},Gfr={$bs_tabContainer:ii.default.shape({getTabId:ii.default.func,getPaneId:ii.default.func}),$bs_tabContent:ii.default.shape({bsClass:ii.default.string,animation:ii.default.oneOfType([ii.default.bool,YK.default]),activeKey:ii.default.any,mountOnEnter:ii.default.bool,unmountOnExit:ii.default.bool,onPaneEnter:ii.default.func.isRequired,onPaneExited:ii.default.func.isRequired,exiting:ii.default.bool.isRequired})},Hfr={$bs_tabContainer:ii.default.oneOf([null])},mN=function(e){fr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(rn(rn(o))),o.handleExited=o.handleExited.bind(rn(rn(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,l=i.className,d=i.onEnter,g=i.onEntering,_=i.onEntered,E=i.onExit,T=i.onExiting,A=i.onExited,L=i.mountOnEnter,z=i.unmountOnExit,U=vr(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),N=this.context,R=N.$bs_tabContent,j=N.$bs_tabContainer,H=Pp(U,["animation"]),Y=H[0],re=H[1],ie=this.isActive(),le=this.getAnimation(),Me=L!=null?L:R&&R.mountOnEnter,we=z!=null?z:R&&R.unmountOnExit;if(!ie&&!le&&we)return null;var ye=le===!0?mm:le||null;R&&(Y.bsClass=Xr(R,"pane"));var xe=jt({},xn(Y),{active:ie});j&&(re.id=j.getPaneId(o),re["aria-labelledby"]=j.getTabId(o));var Ie=hN.default.createElement("div",jt({},re,{role:"tabpanel","aria-hidden":!ie,className:(0,Gze.default)(l,xe)}));if(ye){var de=R&&R.exiting;return hN.default.createElement(ye,{in:ie&&!de,onEnter:hi(this.handleEnter,d),onEntering:g,onEntered:_,onExit:E,onExiting:T,onExited:hi(this.handleExited,A),mountOnEnter:Me,unmountOnExit:we},Ie)}return Ie},t}(hN.default.Component);mN.propTypes=$fr;mN.contextTypes=Gfr;mN.childContextTypes=Hfr;var gN=Lr("tab-pane",mN);var Wfr=jt({},gN.propTypes,{disabled:vN.default.bool,title:vN.default.node,tabClassName:vN.default.string}),xI=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=jt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,KK.default.createElement(gN,i)},t}(KK.default.Component);xI.propTypes=Wfr;xI.Container=pN;xI.Content=dN;xI.Pane=gN;var yN=xI;p();var Ov=se(tt()),wc=se(ir()),Hze=se(fD());var Wze=se(Aa());var Zfr=pN.ControlledComponent,Yfr={activeKey:wc.default.any,bsStyle:wc.default.oneOf(["tabs","pills"]),animation:wc.default.oneOfType([wc.default.bool,Wze.default]),id:(0,Hze.default)(wc.default.oneOfType([wc.default.string,wc.default.number])),onSelect:wc.default.func,mountOnEnter:wc.default.bool,unmountOnExit:wc.default.bool},Kfr={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function Xfr(e){var t;return Jo.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var _N=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,l=o.title,d=o.eventKey,g=o.disabled,_=o.tabClassName;return l==null?null:Ov.default.createElement(dze,{eventKey:d,disabled:g,className:_},l)},r.render=function(){var i=this.props,o=i.id,l=i.onSelect,d=i.animation,g=i.mountOnEnter,_=i.unmountOnExit,E=i.bsClass,T=i.className,A=i.style,L=i.children,z=i.activeKey,U=z===void 0?Xfr(L):z,N=vr(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return Ov.default.createElement(Zfr,{id:o,activeKey:U,onSelect:l,className:T,style:A},Ov.default.createElement("div",null,Ov.default.createElement(pze,jt({},N,{role:"tablist"}),Jo.map(L,this.renderTab)),Ov.default.createElement(dN,{bsClass:E,animation:d,mountOnEnter:g,unmountOnExit:_},L)))},t}(Ov.default.Component);_N.propTypes=Yfr;_N.defaultProps=Kfr;Lr("tab",_N);var XK=Jf(_N,{activeKey:"onSelect"});p();var Zze=se(mn()),wI=se(tt()),ka=se(ir()),Yze=se(fD());var Qfr={id:(0,Yze.default)(ka.default.oneOfType([ka.default.string,ka.default.number])),placement:ka.default.oneOf(["top","right","bottom","left"]),positionTop:ka.default.oneOfType([ka.default.number,ka.default.string]),positionLeft:ka.default.oneOfType([ka.default.number,ka.default.string]),arrowOffsetTop:ka.default.oneOfType([ka.default.number,ka.default.string]),arrowOffsetLeft:ka.default.oneOfType([ka.default.number,ka.default.string])},Jfr={placement:"right"},QK=function(e){fr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,l=o.placement,d=o.positionTop,g=o.positionLeft,_=o.arrowOffsetTop,E=o.arrowOffsetLeft,T=o.className,A=o.style,L=o.children,z=vr(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),U=Ln(z),N=U[0],R=U[1],j=jt({},xn(N),(i={},i[l]=!0,i)),H=jt({top:d,left:g},A),Y={top:_,left:E};return wI.default.createElement("div",jt({},R,{role:"tooltip",className:(0,Zze.default)(T,j),style:H}),wI.default.createElement("div",{className:Xr(N,"arrow"),style:Y}),wI.default.createElement("div",{className:Xr(N,"inner")},L))},t}(wI.default.Component);QK.propTypes=Qfr;QK.defaultProps=Jfr;var JK=Lr("tooltip",QK);p();var SI=se(tt(),1);var eX=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>eX(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=eX(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(tdr(e),t))},edr=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=eX(i,t)}),r},tdr=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var Kze=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?edr(r,5):r};function G_(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let l=window.localStorage.getItem(e);return l?JSON.parse(l):t}catch(l){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,l),t}},[n,i]=(0,SI.useState)(r),o=l=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let d=l instanceof Function?l(n):l;window.localStorage.setItem(e,JSON.stringify(d)),i(d),window.dispatchEvent(new Event("local-storage"))}catch(d){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,d)}};return(0,SI.useEffect)(()=>{i(r())},[]),(0,SI.useEffect)(()=>{let l=()=>{i(r())};return window.addEventListener("storage",l),window.addEventListener("local-storage",l),()=>{window.removeEventListener("storage",l),window.removeEventListener("local-storage",l)}},[]),[n,o]}var bN=e=>`${window.location.origin}${window.location.pathname}?${e}`;p();var NI=se(tt(),1),mX=se(ir(),1);p();p();var xm=se(tt(),1),Nv=se(ir(),1);p();p();var kv=se(tt(),1),Np=se(ir(),1);var Xze=(0,kv.forwardRef)(function(t,r){let{children:n,className:i="",onClick:o,type:l="default",disabled:d=!1,loading:g=!1,title:_,buttonType:E,form:T}=t;return kv.default.createElement("button",{className:`vkf-button-${l} ${i} ${xr(g&&"loading")}`,disabled:d,onClick:o,ref:r,title:_,type:E,form:T},g===!0&&kv.default.createElement(kv.default.Fragment,null,kv.default.createElement("div",{className:"loading-animation"}),n),g===!1&&n)});Xze.propTypes={children:Np.default.node,className:Np.default.string,onClick:Np.default.func,disabled:Np.default.bool,loading:Np.default.bool,title:Np.default.string,type:Np.default.oneOf(["primary","default","delete","discard","edit","save"]),buttonType:Np.default.string,form:Np.default.string};var Qze=Xze;var Dv=Qze;p();p();var or=se(tt(),1),Jze=se(ir(),1);var rdr={addVectorMap:or.default.createElement("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M5.3888 13.0958C5.31376 12.9926 5.21482 12.9091 5.10047 12.8525C4.19363 12.4067 3.42983 11.7158 2.89568 10.8581C2.36152 10.0003 2.0784 9.01005 2.0784 7.99957C2.0784 6.9891 2.36152 5.99884 2.89568 5.14109C3.42983 4.28334 4.19363 3.59241 5.10047 3.14666C5.21477 3.09032 5.3137 3.00711 5.3888 2.90416L5.4063 2.87916C5.51654 2.73062 5.57378 2.54941 5.56886 2.3645C5.56394 2.17959 5.49715 2.00167 5.37917 1.85921C5.26118 1.71674 5.09883 1.61797 4.91808 1.57868C4.73732 1.53939 4.54861 1.56186 4.38214 1.64249C3.19133 2.22398 2.18778 3.12823 1.48579 4.25223C0.783811 5.37623 0.411621 6.67479 0.411621 7.99999C0.411621 9.32519 0.783811 10.6237 1.48579 11.7477C2.18778 12.8717 3.19133 13.776 4.38214 14.3575C4.54869 14.4376 4.73726 14.4596 4.9178 14.4201C5.09833 14.3805 5.26043 14.2817 5.37826 14.1393C5.4961 13.997 5.56288 13.8192 5.56796 13.6345C5.57304 13.4498 5.51613 13.2686 5.4063 13.12L5.3888 13.0958Z",fill:"currentColor"}),or.default.createElement("path",{d:"M12.4946 0.5C11.0113 0.5 9.56122 0.939867 8.32785 1.76398C7.09449 2.58809 6.13319 3.75943 5.56554 5.12987C4.99788 6.50032 4.84935 8.00832 5.13874 9.46318C5.42813 10.918 6.14244 12.2544 7.19133 13.3033C8.24022 14.3522 9.5766 15.0665 11.0315 15.3559C12.4863 15.6453 13.9943 15.4968 15.3648 14.9291C16.7352 14.3614 17.9065 13.4001 18.7307 12.1668C19.5548 10.9334 19.9946 9.48336 19.9946 8C19.9924 6.01155 19.2015 4.10518 17.7955 2.69914C16.3895 1.29309 14.4831 0.502206 12.4946 0.5ZM12.4946 13.8333C11.3409 13.8333 10.2131 13.4912 9.25381 12.8502C8.29452 12.2093 7.54685 11.2982 7.10533 10.2323C6.66382 9.16642 6.5483 7.99353 6.77338 6.86197C6.99846 5.73042 7.55404 4.69102 8.36984 3.87521C9.18565 3.0594 10.225 2.50383 11.3566 2.27875C12.4882 2.05367 13.661 2.16919 14.727 2.6107C15.7929 3.05221 16.7039 3.79989 17.3449 4.75917C17.9858 5.71846 18.328 6.84628 18.328 8C18.3262 9.54655 17.7111 11.0293 16.6175 12.1228C15.5239 13.2164 14.0412 13.8316 12.4946 13.8333Z",fill:"currentColor"}),or.default.createElement("path",{d:"M15.6321 6.9583H13.7446C13.6893 6.9583 13.6364 6.93635 13.5973 6.89728C13.5582 6.85821 13.5363 6.80522 13.5363 6.74997V4.86247C13.5363 4.5862 13.4265 4.32125 13.2312 4.1259C13.0358 3.93055 12.7709 3.8208 12.4946 3.8208C12.2183 3.8208 11.9534 3.93055 11.758 4.1259C11.5627 4.32125 11.4529 4.5862 11.4529 4.86247V6.74997C11.4529 6.80522 11.431 6.85821 11.3919 6.89728C11.3528 6.93635 11.2999 6.9583 11.2446 6.9583H9.3571C9.08083 6.9583 8.81588 7.06805 8.62053 7.2634C8.42518 7.45875 8.31543 7.7237 8.31543 7.99997C8.31543 8.27623 8.42518 8.54119 8.62053 8.73654C8.81588 8.93189 9.08083 9.04163 9.3571 9.04163H11.2446C11.2999 9.04163 11.3528 9.06358 11.3919 9.10265C11.431 9.14172 11.4529 9.19471 11.4529 9.24997V11.1366C11.4529 11.4129 11.5627 11.6779 11.758 11.8732C11.9534 12.0686 12.2183 12.1783 12.4946 12.1783C12.7709 12.1783 13.0358 12.0686 13.2312 11.8732C13.4265 11.6779 13.5363 11.4129 13.5363 11.1366V9.24997C13.5363 9.19471 13.5582 9.14172 13.5973 9.10265C13.6364 9.06358 13.6893 9.04163 13.7446 9.04163H15.6321C15.9084 9.04163 16.1733 8.93189 16.3687 8.73654C16.564 8.54119 16.6738 8.27623 16.6738 7.99997C16.6738 7.7237 16.564 7.45875 16.3687 7.2634C16.1733 7.06805 15.9084 6.9583 15.6321 6.9583Z",fill:"currentColor"})),uploadVectorMap:or.default.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M17.6616 10.5C13.9366 10.5 10.9116 13.525 10.9116 17.25C10.9116 20.975 13.9366 24 17.6616 24C21.3866 24 24.4116 20.975 24.4116 17.25C24.4116 13.525 21.3866 10.5 17.6616 10.5ZM17.6616 12C20.5596 12 22.9116 14.352 22.9116 17.25C22.9116 20.148 20.5596 22.5 17.6616 22.5C14.7636 22.5 12.4116 20.148 12.4116 17.25C12.4116 14.352 14.7636 12 17.6616 12ZM8.66162 19.5H2.66162C2.25062 19.5 1.91162 19.161 1.91162 18.75V2.25C1.91162 1.839 2.25062 1.5 2.66162 1.5H13.2896C13.4886 1.5 13.6796 1.579 13.8206 1.719L16.6936 4.591C16.8346 4.731 16.9136 4.922 16.9136 5.121V8.25C16.9136 8.664 17.2496 9 17.6636 9C18.0776 9 18.4136 8.664 18.4136 8.25V5.121C18.4136 4.524 18.1756 3.951 17.7536 3.529L14.8806 0.658C14.4586 0.237 13.8856 0 13.2896 0H2.66162C1.42762 0 0.411621 1.016 0.411621 2.25V18.75C0.411621 19.984 1.42762 21 2.66162 21H8.66162C9.07562 21 9.41162 20.664 9.41162 20.25C9.41162 19.836 9.07562 19.5 8.66162 19.5ZM8.88162 6.53L10.6006 8.25L8.88162 9.97C8.58862 10.262 8.58862 10.738 8.88162 11.03C9.17362 11.323 9.64962 11.323 9.94162 11.03L12.1916 8.78C12.4846 8.487 12.4846 8.013 12.1916 7.72L9.94162 5.47C9.64962 5.177 9.17362 5.177 8.88162 5.47C8.58862 5.762 8.58862 6.238 8.88162 6.53ZM5.88162 5.47L3.63162 7.72C3.33862 8.013 3.33862 8.487 3.63162 8.78L5.88162 11.03C6.17362 11.323 6.64962 11.323 6.94162 11.03C7.23462 10.738 7.23462 10.262 6.94162 9.97L5.22262 8.25L6.94162 6.53C7.23462 6.238 7.23462 5.762 6.94162 5.47C6.64962 5.177 6.17362 5.177 5.88162 5.47Z",fill:"currentColor"}),or.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7167 13.6361C18.2138 13.6361 18.6167 14.0391 18.6167 14.5361V19.8171C18.6167 20.3141 18.2138 20.7171 17.7167 20.7171C17.2197 20.7171 16.8167 20.3141 16.8167 19.8171L16.8167 14.5361C16.8167 14.0391 17.2197 13.6361 17.7167 13.6361Z",fill:"currentColor"}),or.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2572 17.1766C21.2572 17.6736 20.8543 18.0766 20.3572 18.0766H15.0763C14.5792 18.0766 14.1763 17.6736 14.1763 17.1766C14.1763 16.6795 14.5792 16.2766 15.0763 16.2766L20.3572 16.2766C20.8543 16.2766 21.2572 16.6795 21.2572 17.1766Z",fill:"currentColor"})),edit:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},or.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),or.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":or.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),or.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),or.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},or.default.createElement("path",{d:"M0 0h30v30H0z"}),or.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),or.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},or.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},or.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},or.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),or.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},or.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),or.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:or.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":or.default.createElement("svg",{viewBox:"0 0 21 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M10.4136 1V16",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M5.91357 11.5L10.4136 16L14.9136 11.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M14.1636 4.74902H16.4116C17.2073 4.74902 17.9703 5.06509 18.5329 5.6277C19.0956 6.19031 19.4116 6.95337 19.4116 7.74902V20.499C19.4116 21.2947 19.0956 22.0577 18.5329 22.6203C17.9703 23.183 17.2073 23.499 16.4116 23.499H4.41162C3.61597 23.499 2.85291 23.183 2.2903 22.6203C1.72769 22.0577 1.41162 21.2947 1.41162 20.499V7.74902C1.41162 6.95337 1.72769 6.19031 2.2903 5.6277C2.85291 5.06509 3.61597 4.74902 4.41162 4.74902H6.66162",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"user-roles":or.default.createElement("svg",{viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("g",{clipPath:"url(#clip0_1491_11619)"},or.default.createElement("path",{d:"M5.66626 2.74115C6.15948 3.25291 6.75085 3.65994 7.40499 3.9379C8.05913 4.21586 8.76261 4.35905 9.47336 4.35889C10.1932 4.3591 10.9056 4.2125 11.5668 3.92806",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M8.41156 7.54465C10.171 7.54465 11.5973 6.11835 11.5973 4.35892C11.5973 2.59949 10.171 1.17319 8.41156 1.17319C6.65213 1.17319 5.22583 2.59949 5.22583 4.35892C5.22583 6.11835 6.65213 7.54465 8.41156 7.54465Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M2.49536 14.8263C2.49536 13.2572 3.11869 11.7524 4.22822 10.6428C5.33776 9.5333 6.8426 8.90997 8.41172 8.90997C9.98084 8.90997 11.4857 9.5333 12.5952 10.6428C13.7048 11.7524 14.3281 13.2572 14.3281 14.8263",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),or.default.createElement("defs",null,or.default.createElement("clipPath",{id:"clip0_1491_11619"},or.default.createElement("rect",{width:"16",height:"16",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),filter:or.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"metadata-panel":or.default.createElement("svg",{viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("g",{clipPath:"url(#clip0_1419_7239)"},or.default.createElement("path",{d:"M12.2444 13.3538C12.7967 13.3538 13.2444 12.906 13.2444 12.3538C13.2444 11.8015 12.7967 11.3538 12.2444 11.3538C11.6921 11.3538 11.2444 11.8015 11.2444 12.3538C11.2444 12.906 11.6921 13.3538 12.2444 13.3538Z",fill:"currentColor"}),or.default.createElement("path",{d:"M16.0896 11.4357C16.263 11.2498 16.3723 11.0132 16.4013 10.7606C16.4303 10.508 16.3774 10.2528 16.2506 10.0324C16.1237 9.8121 15.9296 9.63826 15.6966 9.53649C15.4636 9.43471 15.2041 9.41037 14.9562 9.46705L14.0155 9.68438C13.9412 9.70131 13.8631 9.6894 13.7972 9.65104C13.7312 9.61268 13.6823 9.55074 13.6602 9.47771L13.3775 8.54905C13.3044 8.30537 13.1546 8.09176 12.9505 7.93991C12.7463 7.78806 12.4986 7.70605 12.2442 7.70605C11.9898 7.70605 11.7421 7.78806 11.538 7.93991C11.3338 8.09176 11.1841 8.30537 11.1109 8.54905L10.8282 9.47771C10.806 9.55065 10.757 9.6125 10.6911 9.65083C10.6252 9.68916 10.5473 9.70115 10.4729 9.68438L9.53288 9.46638C9.28515 9.40991 9.02585 9.43436 8.79304 9.53613C8.56023 9.6379 8.36617 9.81162 8.23938 10.0318C8.11258 10.252 8.05971 10.507 8.08854 10.7595C8.11737 11.0119 8.22637 11.2485 8.39955 11.4344L9.05822 12.145C9.11026 12.2019 9.13913 12.2763 9.13913 12.3534C9.13913 12.4305 9.11026 12.5048 9.05822 12.5617L8.39955 13.271C8.22608 13.4569 8.11682 13.6936 8.08783 13.9461C8.05884 14.1987 8.11165 14.454 8.2385 14.6743C8.36535 14.8947 8.55955 15.0685 8.79254 15.1703C9.02553 15.272 9.28503 15.2964 9.53288 15.2397L10.4735 15.0224C10.548 15.0058 10.626 15.018 10.6919 15.0564C10.7577 15.0948 10.8067 15.1567 10.8289 15.2297L11.1115 16.157C11.1843 16.4011 11.334 16.6151 11.5382 16.7673C11.7423 16.9195 11.9902 17.0017 12.2449 17.0017C12.4996 17.0017 12.7474 16.9195 12.9516 16.7673C13.1558 16.6151 13.3054 16.4011 13.3782 16.157L13.6609 15.229C13.6827 15.1558 13.7315 15.0936 13.7975 15.0551C13.8635 15.0166 13.9417 15.0046 14.0162 15.0217L14.9569 15.239C15.2046 15.2955 15.4639 15.2711 15.6967 15.1693C15.9295 15.0675 16.1236 14.8938 16.2504 14.6736C16.3772 14.4534 16.4301 14.1984 16.4012 13.946C16.3724 13.6935 16.2634 13.457 16.0902 13.271L15.4316 12.561C15.3795 12.5041 15.3506 12.4298 15.3506 12.3527C15.3506 12.2756 15.3795 12.2013 15.4316 12.1444L16.0896 11.4357ZM12.2442 14.3537C11.8487 14.3537 11.462 14.2364 11.1331 14.0167C10.8042 13.7969 10.5478 13.4845 10.3965 13.1191C10.2451 12.7536 10.2055 12.3515 10.2826 11.9635C10.3598 11.5756 10.5503 11.2192 10.83 10.9395C11.1097 10.6598 11.4661 10.4693 11.854 10.3921C12.242 10.315 12.6441 10.3546 13.0096 10.506C13.375 10.6573 13.6874 10.9137 13.9072 11.2426C14.1269 11.5715 14.2442 11.9581 14.2442 12.3537C14.2442 12.8841 14.0335 13.3929 13.6584 13.7679C13.2834 14.143 12.7746 14.3537 12.2442 14.3537Z",fill:"currentColor"}),or.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.09017 13.782C7.0974 13.8043 7.09994 13.8278 7.09762 13.8511C7.06412 14.1643 7.09939 14.481 7.20095 14.7791C7.2097 14.8042 7.2123 14.831 7.20855 14.8572C7.20479 14.8835 7.19479 14.9085 7.17938 14.9301C7.16396 14.9517 7.14359 14.9693 7.11997 14.9815C7.09635 14.9936 7.07017 14.9999 7.04362 14.9998H2.41162C1.88119 14.9998 1.37248 14.789 0.997407 14.414C0.622335 14.0389 0.411621 13.5302 0.411621 12.9998V3.99976C0.411621 3.46932 0.622335 2.96062 0.997407 2.58554C1.37248 2.21047 1.88119 1.99976 2.41162 1.99976H11.745C12.2754 1.99976 12.7841 2.21047 13.1592 2.58554C13.5342 2.96062 13.745 3.46932 13.745 3.99976V6.95976C13.745 6.99007 13.7368 7.01983 13.7212 7.0458C13.7056 7.07177 13.6831 7.09297 13.6563 7.10709C13.6293 7.12109 13.599 7.12756 13.5686 7.1258C13.5382 7.12404 13.5088 7.11412 13.4836 7.09709C13.4779 7.09315 13.4721 7.08924 13.4664 7.08536C13.1685 6.74277 12.7022 6.52222 12.178 6.52222C11.6135 6.52222 11.1161 6.77796 10.824 7.16642H9.74495C9.70075 7.16642 9.65836 7.18398 9.6271 7.21524C9.59585 7.24649 9.57829 7.28889 9.57829 7.33309V8.28442C9.57831 8.30728 9.57364 8.32989 9.56458 8.35087C9.55553 8.37186 9.54226 8.39076 9.52562 8.40642C9.50904 8.42206 9.48941 8.4341 9.46795 8.44178C9.4465 8.44947 9.42369 8.45264 9.40095 8.45109C9.19328 8.43777 8.98476 8.45393 8.78162 8.49909C8.75723 8.50469 8.73189 8.50466 8.70751 8.499C8.68314 8.49334 8.66038 8.4822 8.64095 8.46642C8.62099 8.45049 8.60495 8.43018 8.59409 8.40706C8.58322 8.38394 8.57782 8.35863 8.57829 8.33309V7.33309C8.57829 7.28889 8.56073 7.24649 8.52947 7.21524C8.49822 7.18398 8.45582 7.16642 8.41162 7.16642H5.74495C5.70075 7.16642 5.65836 7.18398 5.6271 7.21524C5.59585 7.24649 5.57829 7.28889 5.57829 7.33309V9.66842C5.57829 9.71263 5.59585 9.75502 5.6271 9.78627C5.65836 9.81753 5.70075 9.83509 5.74495 9.83509H6.99562C7.02151 9.83498 7.04707 9.84096 7.07023 9.85254C7.09339 9.86412 7.1135 9.88098 7.12895 9.90176C7.1445 9.92219 7.15511 9.94593 7.15997 9.97114C7.16483 9.99635 7.1638 10.0223 7.15695 10.0471C7.10109 10.2487 7.07459 10.4573 7.07829 10.6664C7.07847 10.7102 7.06133 10.7523 7.03061 10.7835C6.99989 10.8147 6.95808 10.8326 6.91429 10.8331H5.74495C5.70075 10.8331 5.65836 10.8506 5.6271 10.8819C5.59585 10.9132 5.57829 10.9556 5.57829 10.9998V13.4998C5.57829 13.544 5.59585 13.5864 5.6271 13.6176C5.65836 13.6489 5.70075 13.6664 5.74495 13.6664H6.93162C6.95502 13.6664 6.97815 13.6714 6.99951 13.6809C7.02088 13.6904 7.03999 13.7043 7.05562 13.7218C7.07118 13.7392 7.08294 13.7598 7.09017 13.782ZM4.52881 9.78427C4.56006 9.75302 4.57762 9.71063 4.57762 9.66642L4.57829 7.33309C4.57829 7.28889 4.56073 7.24649 4.52947 7.21524C4.49822 7.18398 4.45582 7.16642 4.41162 7.16642H1.91162C1.86742 7.16642 1.82503 7.18398 1.79377 7.21524C1.76251 7.24649 1.74495 7.28889 1.74495 7.33309V9.66642C1.74495 9.71051 1.76242 9.7528 1.79353 9.78404C1.82465 9.81528 1.86687 9.83291 1.91095 9.83309H4.41095C4.45516 9.83309 4.49755 9.81553 4.52881 9.78427ZM5.68097 6.15393C5.70127 6.16226 5.72301 6.16651 5.74495 6.16642H8.41162C8.45582 6.16642 8.49822 6.14886 8.52947 6.11761C8.56073 6.08635 8.57829 6.04396 8.57829 5.99976V3.49976C8.57829 3.45555 8.56073 3.41316 8.52947 3.3819C8.49822 3.35065 8.45582 3.33309 8.41162 3.33309H5.74495C5.72301 3.333 5.70127 3.33725 5.68097 3.34558C5.66067 3.35392 5.64222 3.36618 5.62667 3.38167C5.61112 3.39715 5.59879 3.41556 5.59037 3.43582C5.58195 3.45609 5.57762 3.47781 5.57762 3.49976V5.99976C5.57762 6.0217 5.58195 6.04343 5.59037 6.06369C5.59879 6.08396 5.61112 6.10236 5.62667 6.11784C5.64222 6.13333 5.66067 6.14559 5.68097 6.15393ZM12.2164 3.52835C12.0913 3.40333 11.9218 3.33309 11.745 3.33309H9.74495C9.70075 3.33309 9.65836 3.35065 9.6271 3.3819C9.59585 3.41316 9.57829 3.45555 9.57829 3.49976V5.99976C9.57829 6.04396 9.59585 6.08635 9.6271 6.11761C9.65836 6.14886 9.70075 6.16642 9.74495 6.16642H12.245C12.2892 6.16642 12.3315 6.14886 12.3628 6.11761C12.3941 6.08635 12.4116 6.04396 12.4116 5.99976V3.99976C12.4116 3.82294 12.3414 3.65338 12.2164 3.52835ZM4.41162 3.33309H2.41162C2.23481 3.33309 2.06524 3.40333 1.94022 3.52835C1.81519 3.65338 1.74495 3.82294 1.74495 3.99976V5.99976C1.74495 6.04384 1.76242 6.08613 1.79353 6.11737C1.82465 6.14861 1.86687 6.16625 1.91095 6.16642H4.41162C4.45582 6.16642 4.49822 6.14886 4.52947 6.11761C4.56073 6.08635 4.57829 6.04396 4.57829 5.99976V3.49976C4.57829 3.45555 4.56073 3.41316 4.52947 3.3819C4.49822 3.35065 4.45582 3.33309 4.41162 3.33309ZM1.74495 10.9998V12.9998C1.74495 13.1766 1.81519 13.3461 1.94022 13.4712C2.06524 13.5962 2.23481 13.6664 2.41162 13.6664H4.41162C4.45582 13.6664 4.49822 13.6489 4.52947 13.6176C4.56073 13.5864 4.57829 13.544 4.57829 13.4998V10.9998C4.57829 10.9556 4.56073 10.9132 4.52947 10.8819C4.49822 10.8506 4.45582 10.8331 4.41162 10.8331H1.91162C1.86742 10.8331 1.82503 10.8506 1.79377 10.8819C1.76251 10.9132 1.74495 10.9556 1.74495 10.9998Z",fill:"currentColor"})),or.default.createElement("defs",null,or.default.createElement("clipPath",{id:"clip0_1419_7239"},or.default.createElement("rect",{width:"16",height:"18",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),clock:or.default.createElement("svg",{viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M5.71093 8.93449L3.56128 6.79363L1.41162 8.93449M3.42462 7.6044C3.46047 9.22172 4.09697 10.7684 5.21112 11.9456C6.32527 13.1228 7.838 13.847 9.45702 13.9782C11.076 14.1094 12.6864 13.6383 13.977 12.656C15.2676 11.6736 16.1468 10.2498 16.4447 8.6595C16.7427 7.06923 16.4382 5.42542 15.5901 4.04569C14.742 2.66597 13.4105 1.64826 11.8529 1.18921C10.2953 0.730155 8.62218 0.862343 7.15674 1.56023",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"}),or.default.createElement("path",{d:"M9.04295 8.08988L10.7639 5.10907",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"}),or.default.createElement("path",{d:"M9.04288 8.0901L12.0237 9.81107",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"})),"image-placeholder":or.default.createElement("svg",{viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M59.7357 1.99231H14.2691C11.9863 1.99231 10.1357 3.84287 10.1357 6.12564V51.5923C10.1357 53.8751 11.9863 55.7256 14.2691 55.7256H59.7357C62.0185 55.7256 63.8691 53.8751 63.8691 51.5923V6.12564C63.8691 3.84287 62.0185 1.99231 59.7357 1.99231Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M55.6025 63.9924H6.00247C4.90625 63.9924 3.85492 63.5569 3.07977 62.7817C2.30462 62.0066 1.86914 60.9553 1.86914 59.859V10.259",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M23.5662 18.5256C23.362 18.5262 23.1625 18.5872 22.9929 18.7011C22.8233 18.815 22.6913 18.9766 22.6135 19.1654C22.5357 19.3543 22.5157 19.562 22.5558 19.7622C22.596 19.9625 22.6947 20.1464 22.8393 20.2906C22.9839 20.4349 23.168 20.533 23.3684 20.5726C23.5688 20.6123 23.7764 20.5917 23.965 20.5134C24.1537 20.4351 24.3149 20.3026 24.4284 20.1328C24.5418 19.9629 24.6023 19.7632 24.6023 19.559C24.6023 19.2849 24.4934 19.0221 24.2997 18.8283C24.1059 18.6345 23.843 18.5256 23.569 18.5256",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),or.default.createElement("path",{d:"M55.6022 43.3257L44.9382 27.2443C44.7512 26.9648 44.4986 26.7353 44.2026 26.5757C43.9066 26.4161 43.5761 26.3313 43.2398 26.3286C42.9036 26.3258 42.5717 26.4053 42.2732 26.5601C41.9746 26.7149 41.7184 26.9403 41.5269 27.2167L36.0295 35.07L32.6209 32.3448C32.3972 32.1661 32.1387 32.0359 31.862 31.9624C31.5853 31.8889 31.2963 31.8736 31.0134 31.9177C30.7305 31.9617 30.4598 32.0641 30.2186 32.2182C29.9773 32.3724 29.7707 32.575 29.6118 32.8132L22.5962 43.3257H55.6022Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),[AO.POINT]:or.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[AO.LINE_STRING]:or.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),or.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),or.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[AO.POLYGON]:or.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),or.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),or.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),or.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),or.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},eje=({name:e})=>{var t;return(t=rdr[e])!=null?t:""};eje.propTypes={name:Jze.default.string.isRequired};var tje=eje;var H_=tje;var rje=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>xm.default.createElement(DK,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},xm.default.createElement(dI,null,xm.default.createElement(hI,null,o),xm.default.createElement(Dv,{className:"close-button",onClick:t},xm.default.createElement(H_,{name:"close"}))),xm.default.createElement(cI,null,n()),i!==void 0&&xm.default.createElement(fI,null,i()));rje.propTypes={isOpen:Nv.default.bool,onClose:Nv.default.func,modalClassName:Nv.default.string,renderContent:Nv.default.func,renderFooter:Nv.default.func,title:Nv.default.string};var nje=rje;var W_=nje;p();var zv=se(tt(),1);p();var zl=se(tt(),1);p();p();var ns=tn({key:"notificationState",default:null});var tX=se(tt(),1);var Z_=tn({key:"selectableWmsLayersAtom",default:[]}),ije=Zf({key:"hasWmsSelectableLayersAtom",get:({get:e})=>e(Z_).length>0}),xN=tn({key:"isParsingWmsCapabilitiesAtom",default:!1}),wN=()=>{let e=di(Z_);return(0,tX.useCallback)(()=>{e([])},[])},oje=()=>{let e=di(ns);return(0,tX.useCallback)(r=>{e({id:"add-custom-wms",type:"danger",text:r})},[])};var Bje=se(tt(),1);p();var MN=se(tt(),1),Mu=se(tt(),1);var CI=e=>e.type==="checkbox",Rv=e=>e instanceof Date,As=e=>e==null,yje=e=>typeof e=="object",co=e=>!As(e)&&!Array.isArray(e)&&yje(e)&&!Rv(e),ndr=e=>co(e)&&e.target?CI(e.target)?e.target.checked:e.target.value:e,idr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,odr=(e,t)=>e.has(idr(t)),adr=e=>{let t=e.constructor&&e.constructor.prototype;return co(t)&&t.hasOwnProperty("isPrototypeOf")},iX=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function is(e){let t,r=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(iX&&(e instanceof Blob||n))&&(r||co(e))){if(t=r?[]:{},!r&&!adr(e))t=e;else for(let i in e)e.hasOwnProperty(i)&&(t[i]=is(e[i]));}else return e;return t}var CN=e=>Array.isArray(e)?e.filter(Boolean):[],Co=e=>e===void 0,_r=(e,t,r)=>{if(!t||!co(e))return r;let n=CN(t.split(/[,[\].]+?/)).reduce((i,o)=>As(i)?i:i[o],e);return Co(n)||n===e?Co(e[t])?r:e[t]:n},Rp=e=>typeof e=="boolean",oX=e=>/^\w*$/.test(e),_je=e=>CN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ai=(e,t,r)=>{let n=-1,i=oX(t)?[t]:_je(t),o=i.length,l=o-1;for(;++n<o;){let d=i[n],g=r;if(n!==l){let _=e[d];g=co(_)||Array.isArray(_)?_:isNaN(+i[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=g,e=e[d]}},aje={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ad={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sdr=Mu.default.createContext(null);var bje=e=>{let n=e,{children:t}=n,r=yn(n,["children"]);return Mu.default.createElement(sdr.Provider,{value:r},t)},ldr=(e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>{let l=o;return t._proxyFormState[l]!==Sc.all&&(t._proxyFormState[l]=!n||Sc.all),r&&(r[l]=!0),e[l]}});return i},udr=typeof window!="undefined"?MN.useLayoutEffect:MN.useEffect;var Lp=e=>typeof e=="string",cdr=(e,t,r,n,i)=>Lp(e)?(n&&t.watch.add(e),_r(r,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),_r(r,o))):(n&&(t.watchAll=!0),r);var pdr=(e,t,r,n,i)=>t?nr(je({},r[e]),{types:nr(je({},r[e]&&r[e].types?r[e].types:{}),{[n]:i||!0})}):{},TI=e=>Array.isArray(e)?e:[e],sje=()=>{let e=[];return{get observers(){return e},next:i=>{for(let o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},nX=e=>As(e)||!yje(e);function wm(e,t){if(nX(e)||nX(t))return e===t;if(Rv(e)&&Rv(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){let l=t[i];if(Rv(o)&&Rv(l)||co(o)&&co(l)||Array.isArray(o)&&Array.isArray(l)?!wm(o,l):o!==l)return!1}}return!0}var Cs=e=>co(e)&&!Object.keys(e).length,aX=e=>e.type==="file",Ec=e=>typeof e=="function",EN=e=>{if(!iX)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xje=e=>e.type==="select-multiple",sX=e=>e.type==="radio",fdr=e=>sX(e)||CI(e),rX=e=>EN(e)&&e.isConnected;function ddr(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=Co(e)?n++:e[t[n++]];return e}function hdr(e){for(let t in e)if(e.hasOwnProperty(t)&&!Co(e[t]))return!1;return!0}function Bo(e,t){let r=Array.isArray(t)?t:oX(t)?[t]:_je(t),n=r.length===1?e:ddr(e,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(co(n)&&Cs(n)||Array.isArray(n)&&hdr(n))&&Bo(e,r.slice(0,-1)),e}var wje=e=>{for(let t in e)if(Ec(e[t]))return!0;return!1};function IN(e,t={}){let r=Array.isArray(e);if(co(e)||r)for(let n in e)Array.isArray(e[n])||co(e[n])&&!wje(e[n])?(t[n]=Array.isArray(e[n])?[]:{},IN(e[n],t[n])):As(e[n])||(t[n]=!0);return t}function Sje(e,t,r){let n=Array.isArray(e);if(co(e)||n)for(let i in e)Array.isArray(e[i])||co(e[i])&&!wje(e[i])?Co(t)||nX(r[i])?r[i]=Array.isArray(e[i])?IN(e[i],[]):je({},IN(e[i])):Sje(e[i],As(t)?{}:t[i],r[i]):r[i]=!wm(e[i],t[i]);return r}var EI=(e,t)=>Sje(e,t,IN(t)),lje={value:!1,isValid:!1},uje={value:!0,isValid:!0},Eje=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Co(e[0].attributes.value)?Co(e[0].value)||e[0].value===""?uje:{value:e[0].value,isValid:!0}:uje:lje}return lje},Ije=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Co(e)?e:t?e===""?NaN:e&&+e:r&&Lp(e)?new Date(e):n?n(e):e,cje={isValid:!1,value:null},Tje=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cje):cje;function pje(e){let t=e.ref;return aX(t)?t.files:sX(t)?Tje(e.refs).value:xje(t)?[...t.selectedOptions].map(({value:r})=>r):CI(t)?Eje(e.refs).value:Ije(Co(t.value)?e.ref.value:t.value,e)}var mdr=(e,t,r,n)=>{let i={};for(let o of e){let l=_r(t,o);l&&Ai(i,o,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},TN=e=>e instanceof RegExp,II=e=>Co(e)?e:TN(e)?e.source:co(e)?TN(e.value)?e.value.source:e.value:e,fje=e=>({isOnSubmit:!e||e===Sc.onSubmit,isOnBlur:e===Sc.onBlur,isOnChange:e===Sc.onChange,isOnAll:e===Sc.all,isOnTouch:e===Sc.onTouched}),dje="AsyncFunction",gdr=e=>!!e&&!!e.validate&&!!(Ec(e.validate)&&e.validate.constructor.name===dje||co(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===dje)),vdr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hje=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length)))),MI=(e,t,r,n)=>{for(let o of r||Object.keys(e)){let l=_r(e,o);if(l){let i=l,{_f:d}=i,g=yn(i,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!n)return!0;if(d.ref&&t(d.ref,d.name)&&!n)return!0;if(MI(g,t))break}else if(co(g)&&MI(g,t))break}}};function mje(e,t,r){let n=_r(e,r);if(n||oX(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),l=_r(t,o),d=_r(e,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(d&&d.type)return{name:o,error:d};i.pop()}return{name:r}}var ydr=(e,t,r,n)=>{r(e);let l=e,{name:i}=l,o=yn(l,["name"]);return Cs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!n||Sc.all))},_dr=(e,t,r)=>!e||!t||e===t||TI(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),bdr=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,xdr=(e,t)=>!CN(_r(e,t)).length&&Bo(e,t),wdr=(e,t,r)=>{let n=TI(_r(e,r));return Ai(n,"root",t[r]),Ai(e,r,n),e},SN=e=>Lp(e);function gje(e,t,r="validate"){if(SN(e)||Array.isArray(e)&&e.every(SN)||Rp(e)&&!e)return{type:r,message:SN(e)?e:"",ref:t}}var Y_=e=>co(e)&&!TN(e)?e:{value:e,message:""},vje=(e,t,r,n,i,o)=>Ar(null,null,function*(){let{ref:l,refs:d,required:g,maxLength:_,minLength:E,min:T,max:A,pattern:L,validate:z,name:U,valueAsNumber:N,mount:R}=e._f,j=_r(r,U);if(!R||t.has(U))return{};let H=d?d[0]:l,Y=Ie=>{i&&H.reportValidity&&(H.setCustomValidity(Rp(Ie)?"":Ie||""),H.reportValidity())},re={},ie=sX(l),le=CI(l),Me=ie||le,we=(N||aX(l))&&Co(l.value)&&Co(j)||EN(l)&&l.value===""||j===""||Array.isArray(j)&&!j.length,ye=pdr.bind(null,U,n,re),xe=(Ie,de,Pe,Ke=ad.maxLength,at=ad.minLength)=>{let dt=Ie?de:Pe;re[U]=je({type:Ie?Ke:at,message:dt,ref:l},ye(Ie?Ke:at,dt))};if(o?!Array.isArray(j)||!j.length:g&&(!Me&&(we||As(j))||Rp(j)&&!j||le&&!Eje(d).isValid||ie&&!Tje(d).isValid)){let{value:Ie,message:de}=SN(g)?{value:!!g,message:g}:Y_(g);if(Ie&&(re[U]=je({type:ad.required,message:de,ref:H},ye(ad.required,de)),!n))return Y(de),re}if(!we&&(!As(T)||!As(A))){let Ie,de,Pe=Y_(A),Ke=Y_(T);if(!As(j)&&!isNaN(j)){let at=l.valueAsNumber||j&&+j;As(Pe.value)||(Ie=at>Pe.value),As(Ke.value)||(de=at<Ke.value)}else{let at=l.valueAsDate||new Date(j),dt=_t=>new Date(new Date().toDateString()+" "+_t),ze=l.type=="time",ct=l.type=="week";Lp(Pe.value)&&j&&(Ie=ze?dt(j)>dt(Pe.value):ct?j>Pe.value:at>new Date(Pe.value)),Lp(Ke.value)&&j&&(de=ze?dt(j)<dt(Ke.value):ct?j<Ke.value:at<new Date(Ke.value))}if((Ie||de)&&(xe(!!Ie,Pe.message,Ke.message,ad.max,ad.min),!n))return Y(re[U].message),re}if((_||E)&&!we&&(Lp(j)||o&&Array.isArray(j))){let Ie=Y_(_),de=Y_(E),Pe=!As(Ie.value)&&j.length>+Ie.value,Ke=!As(de.value)&&j.length<+de.value;if((Pe||Ke)&&(xe(Pe,Ie.message,de.message),!n))return Y(re[U].message),re}if(L&&!we&&Lp(j)){let{value:Ie,message:de}=Y_(L);if(TN(Ie)&&!j.match(Ie)&&(re[U]=je({type:ad.pattern,message:de,ref:l},ye(ad.pattern,de)),!n))return Y(de),re}if(z){if(Ec(z)){let Ie=yield z(j,r),de=gje(Ie,H);if(de&&(re[U]=je(je({},de),ye(ad.validate,de.message)),!n))return Y(de.message),re}else if(co(z)){let Ie={};for(let de in z){if(!Cs(Ie)&&!n)break;let Pe=gje(yield z[de](j,r),H,de);Pe&&(Ie=je(je({},Pe),ye(de,Pe.message)),Y(Pe.message),n&&(re[U]=Ie))}if(!Cs(Ie)&&(re[U]=je({ref:H},Ie),!n))return re}}return Y(!0),re}),Sdr={mode:Sc.onSubmit,reValidateMode:Sc.onChange,shouldFocusError:!0};function Edr(e={}){let t=je(je({},Sdr),e),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ec(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=co(t.defaultValues)||co(t.values)?is(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:is(i),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,_=0,E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},T=je({},E),A={array:sje(),state:sje()},L=fje(t.mode),z=fje(t.reValidateMode),U=t.criteriaMode===Sc.all,N=Ae=>We=>{clearTimeout(_),_=setTimeout(Ae,We)},R=Ae=>Ar(null,null,function*(){if(!t.disabled&&(E.isValid||T.isValid||Ae)){let We=t.resolver?Cs((yield we()).errors):yield xe(n,!0);We!==r.isValid&&A.state.next({isValid:We})}}),j=(Ae,We)=>{!t.disabled&&(E.isValidating||E.validatingFields||T.isValidating||T.validatingFields)&&((Ae||Array.from(d.mount)).forEach(Ze=>{Ze&&(We?Ai(r.validatingFields,Ze,We):Bo(r.validatingFields,Ze))}),A.state.next({validatingFields:r.validatingFields,isValidating:!Cs(r.validatingFields)}))},H=(Ae,We=[],Ze,Ct,zt=!0,me=!0)=>{if(Ct&&Ze&&!t.disabled){if(l.action=!0,me&&Array.isArray(_r(n,Ae))){let X=Ze(_r(n,Ae),Ct.argA,Ct.argB);zt&&Ai(n,Ae,X)}if(me&&Array.isArray(_r(r.errors,Ae))){let X=Ze(_r(r.errors,Ae),Ct.argA,Ct.argB);zt&&Ai(r.errors,Ae,X),xdr(r.errors,Ae)}if((E.touchedFields||T.touchedFields)&&me&&Array.isArray(_r(r.touchedFields,Ae))){let X=Ze(_r(r.touchedFields,Ae),Ct.argA,Ct.argB);zt&&Ai(r.touchedFields,Ae,X)}(E.dirtyFields||T.dirtyFields)&&(r.dirtyFields=EI(i,o)),A.state.next({name:Ae,isDirty:de(Ae,We),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ai(o,Ae,We)},Y=(Ae,We)=>{Ai(r.errors,Ae,We),A.state.next({errors:r.errors})},re=Ae=>{r.errors=Ae,A.state.next({errors:r.errors,isValid:!1})},ie=(Ae,We,Ze,Ct)=>{let zt=_r(n,Ae);if(zt){let me=_r(o,Ae,Co(Ze)?_r(i,Ae):Ze);Co(me)||Ct&&Ct.defaultChecked||We?Ai(o,Ae,We?me:pje(zt._f)):at(Ae,me),l.mount&&R()}},le=(Ae,We,Ze,Ct,zt)=>{let me=!1,X=!1,ee={name:Ae};if(!t.disabled){if(!Ze||Ct){(E.isDirty||T.isDirty)&&(X=r.isDirty,r.isDirty=ee.isDirty=de(),me=X!==ee.isDirty);let ae=wm(_r(i,Ae),We);X=!!_r(r.dirtyFields,Ae),ae?Bo(r.dirtyFields,Ae):Ai(r.dirtyFields,Ae,!0),ee.dirtyFields=r.dirtyFields,me=me||(E.dirtyFields||T.dirtyFields)&&X!==!ae}if(Ze){let ae=_r(r.touchedFields,Ae);ae||(Ai(r.touchedFields,Ae,Ze),ee.touchedFields=r.touchedFields,me=me||(E.touchedFields||T.touchedFields)&&ae!==Ze)}me&&zt&&A.state.next(ee)}return me?ee:{}},Me=(Ae,We,Ze,Ct)=>{let zt=_r(r.errors,Ae),me=(E.isValid||T.isValid)&&Rp(We)&&r.isValid!==We;if(t.delayError&&Ze?(g=N(()=>Y(Ae,Ze)),g(t.delayError)):(clearTimeout(_),g=null,Ze?Ai(r.errors,Ae,Ze):Bo(r.errors,Ae)),(Ze?!wm(zt,Ze):zt)||!Cs(Ct)||me){let X=nr(je(je({},Ct),me&&Rp(We)?{isValid:We}:{}),{errors:r.errors,name:Ae});r=je(je({},r),X),A.state.next(X)}},we=Ae=>Ar(null,null,function*(){j(Ae,!0);let We=yield t.resolver(o,t.context,mdr(Ae||d.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return j(Ae),We}),ye=Ae=>Ar(null,null,function*(){let{errors:We}=yield we(Ae);if(Ae)for(let Ze of Ae){let Ct=_r(We,Ze);Ct?Ai(r.errors,Ze,Ct):Bo(r.errors,Ze)}else r.errors=We;return We}),xe=(Ct,zt,...me)=>Ar(null,[Ct,zt,...me],function*(Ae,We,Ze={valid:!0}){for(let ee in Ae){let ae=Ae[ee];if(ae){let X=ae,{_f:ge}=X,Ne=yn(X,["_f"]);if(ge){let Be=d.array.has(ge.name),Xe=ae._f&&gdr(ae._f);Xe&&E.validatingFields&&j([ee],!0);let Ue=yield vje(ae,d.disabled,o,U,t.shouldUseNativeValidation&&!We,Be);if(Xe&&E.validatingFields&&j([ee]),Ue[ge.name]&&(Ze.valid=!1,We))break;!We&&(_r(Ue,ge.name)?Be?wdr(r.errors,Ue,ge.name):Ai(r.errors,ge.name,Ue[ge.name]):Bo(r.errors,ge.name))}!Cs(Ne)&&(yield xe(Ne,We,Ze))}}return Ze.valid}),Ie=()=>{for(let Ae of d.unMount){let We=_r(n,Ae);We&&(We._f.refs?We._f.refs.every(Ze=>!rX(Ze)):!rX(We._f.ref))&&lt(Ae)}d.unMount=new Set},de=(Ae,We)=>!t.disabled&&(Ae&&We&&Ai(o,Ae,We),!wm(Ye(),i)),Pe=(Ae,We,Ze)=>cdr(Ae,d,je({},l.mount?o:Co(We)?i:Lp(Ae)?{[Ae]:We}:We),Ze,We),Ke=Ae=>CN(_r(l.mount?o:i,Ae,t.shouldUnregister?_r(i,Ae,[]):[])),at=(Ae,We,Ze={})=>{let Ct=_r(n,Ae),zt=We;if(Ct){let me=Ct._f;me&&(!me.disabled&&Ai(o,Ae,Ije(We,me)),zt=EN(me.ref)&&As(We)?"":We,xje(me.ref)?[...me.ref.options].forEach(X=>X.selected=zt.includes(X.value)):me.refs?CI(me.ref)?me.refs.length>1?me.refs.forEach(X=>(!X.defaultChecked||!X.disabled)&&(X.checked=Array.isArray(zt)?!!zt.find(ee=>ee===X.value):zt===X.value)):me.refs[0]&&(me.refs[0].checked=!!zt):me.refs.forEach(X=>X.checked=X.value===zt):aX(me.ref)?me.ref.value="":(me.ref.value=zt,me.ref.type||A.state.next({name:Ae,values:is(o)})))}(Ze.shouldDirty||Ze.shouldTouch)&&le(Ae,zt,Ze.shouldTouch,Ze.shouldDirty,!0),Ze.shouldValidate&&It(Ae)},dt=(Ae,We,Ze)=>{for(let Ct in We){let zt=We[Ct],me=`${Ae}.${Ct}`,X=_r(n,me);(d.array.has(Ae)||co(zt)||X&&!X._f)&&!Rv(zt)?dt(me,zt,Ze):at(me,zt,Ze)}},ze=(Ae,We,Ze={})=>{let Ct=_r(n,Ae),zt=d.array.has(Ae),me=is(We);Ai(o,Ae,me),zt?(A.array.next({name:Ae,values:is(o)}),(E.isDirty||E.dirtyFields||T.isDirty||T.dirtyFields)&&Ze.shouldDirty&&A.state.next({name:Ae,dirtyFields:EI(i,o),isDirty:de(Ae,me)})):Ct&&!Ct._f&&!As(me)?dt(Ae,me,Ze):at(Ae,me,Ze),hje(Ae,d)&&A.state.next(je({},r)),A.state.next({name:l.mount?Ae:void 0,values:is(o)})},ct=Ae=>Ar(null,null,function*(){l.mount=!0;let We=Ae.target,Ze=We.name,Ct=!0,zt=_r(n,Ze),me=X=>{Ct=Number.isNaN(X)||Rv(X)&&isNaN(X.getTime())||wm(X,_r(o,Ze,X))};if(zt){let X,ee,ae=We.type?pje(zt._f):ndr(Ae),ge=Ae.type===aje.BLUR||Ae.type===aje.FOCUS_OUT,Ne=!vdr(zt._f)&&!t.resolver&&!_r(r.errors,Ze)&&!zt._f.deps||bdr(ge,_r(r.touchedFields,Ze),r.isSubmitted,z,L),Be=hje(Ze,d,ge);Ai(o,Ze,ae),ge?(zt._f.onBlur&&zt._f.onBlur(Ae),g&&g(0)):zt._f.onChange&&zt._f.onChange(Ae);let Xe=le(Ze,ae,ge),Ue=!Cs(Xe)||Be;if(!ge&&A.state.next({name:Ze,type:Ae.type,values:is(o)}),Ne)return(E.isValid||T.isValid)&&(t.mode==="onBlur"?ge&&R():ge||R()),Ue&&A.state.next(je({name:Ze},Be?{}:Xe));if(!ge&&Be&&A.state.next(je({},r)),t.resolver){let{errors:he}=yield we([Ze]);if(me(ae),Ct){let ve=mje(r.errors,n,Ze),qe=mje(he,n,ve.name||Ze);X=qe.error,Ze=qe.name,ee=Cs(he)}}else j([Ze],!0),X=(yield vje(zt,d.disabled,o,U,t.shouldUseNativeValidation))[Ze],j([Ze]),me(ae),Ct&&(X?ee=!1:(E.isValid||T.isValid)&&(ee=yield xe(n,!0)));Ct&&(zt._f.deps&&It(zt._f.deps),Me(Ze,ee,X,Xe))}}),_t=(Ae,We)=>{if(_r(r.errors,We)&&Ae.focus)return Ae.focus(),1},It=(Ze,...Ct)=>Ar(null,[Ze,...Ct],function*(Ae,We={}){let zt,me,X=TI(Ae);if(t.resolver){let ee=yield ye(Co(Ae)?Ae:X);zt=Cs(ee),me=Ae?!X.some(ae=>_r(ee,ae)):zt}else Ae?(me=(yield Promise.all(X.map(ee=>Ar(null,null,function*(){let ae=_r(n,ee);return yield xe(ae&&ae._f?{[ee]:ae}:ae)})))).every(Boolean),!(!me&&!r.isValid)&&R()):me=zt=yield xe(n);return A.state.next(nr(je(je({},!Lp(Ae)||(E.isValid||T.isValid)&&zt!==r.isValid?{}:{name:Ae}),t.resolver||!Ae?{isValid:zt}:{}),{errors:r.errors})),We.shouldFocus&&!me&&MI(n,_t,Ae?X:d.mount),me}),Ye=Ae=>{let We=je({},l.mount?o:i);return Co(Ae)?We:Lp(Ae)?_r(We,Ae):Ae.map(Ze=>_r(We,Ze))},pt=(Ae,We)=>({invalid:!!_r((We||r).errors,Ae),isDirty:!!_r((We||r).dirtyFields,Ae),error:_r((We||r).errors,Ae),isValidating:!!_r(r.validatingFields,Ae),isTouched:!!_r((We||r).touchedFields,Ae)}),ot=Ae=>{Ae&&TI(Ae).forEach(We=>Bo(r.errors,We)),A.state.next({errors:Ae?r.errors:{}})},Ve=(Ae,We,Ze)=>{let Ct=(_r(n,Ae,{_f:{}})._f||{}).ref,ge=_r(r.errors,Ae)||{},{ref:me,message:X,type:ee}=ge,ae=yn(ge,["ref","message","type"]);Ai(r.errors,Ae,nr(je(je({},ae),We),{ref:Ct})),A.state.next({name:Ae,errors:r.errors,isValid:!1}),Ze&&Ze.shouldFocus&&Ct&&Ct.focus&&Ct.focus()},Oe=(Ae,We)=>Ec(Ae)?A.state.subscribe({next:Ze=>Ae(Pe(void 0,We),Ze)}):Pe(Ae,We,!0),He=Ae=>A.state.subscribe({next:We=>{_dr(Ae.name,We.name,Ae.exact)&&ydr(We,Ae.formState||E,kr,Ae.reRenderRoot)&&Ae.callback(je(je({values:je({},o)},r),We))}}).unsubscribe,Fe=Ae=>(l.mount=!0,T=je(je({},T),Ae.formState),He(nr(je({},Ae),{formState:T}))),lt=(Ae,We={})=>{for(let Ze of Ae?TI(Ae):d.mount)d.mount.delete(Ze),d.array.delete(Ze),We.keepValue||(Bo(n,Ze),Bo(o,Ze)),!We.keepError&&Bo(r.errors,Ze),!We.keepDirty&&Bo(r.dirtyFields,Ze),!We.keepTouched&&Bo(r.touchedFields,Ze),!We.keepIsValidating&&Bo(r.validatingFields,Ze),!t.shouldUnregister&&!We.keepDefaultValue&&Bo(i,Ze);A.state.next({values:is(o)}),A.state.next(je(je({},r),We.keepDirty?{isDirty:de()}:{})),!We.keepIsValid&&R()},st=({disabled:Ae,name:We})=>{(Rp(Ae)&&l.mount||Ae||d.disabled.has(We))&&(Ae?d.disabled.add(We):d.disabled.delete(We))},yt=(Ae,We={})=>{let Ze=_r(n,Ae),Ct=Rp(We.disabled)||Rp(t.disabled);return Ai(n,Ae,nr(je({},Ze||{}),{_f:je(nr(je({},Ze&&Ze._f?Ze._f:{ref:{name:Ae}}),{name:Ae,mount:!0}),We)})),d.mount.add(Ae),Ze?st({disabled:Rp(We.disabled)?We.disabled:t.disabled,name:Ae}):ie(Ae,!0,We.value),nr(je(je({},Ct?{disabled:We.disabled||t.disabled}:{}),t.progressive?{required:!!We.required,min:II(We.min),max:II(We.max),minLength:II(We.minLength),maxLength:II(We.maxLength),pattern:II(We.pattern)}:{}),{name:Ae,onChange:ct,onBlur:ct,ref:zt=>{if(zt){yt(Ae,We),Ze=_r(n,Ae);let me=Co(zt.value)&&zt.querySelectorAll&&zt.querySelectorAll("input,select,textarea")[0]||zt,X=fdr(me),ee=Ze._f.refs||[];if(X?ee.find(ae=>ae===me):me===Ze._f.ref)return;Ai(n,Ae,{_f:je(je({},Ze._f),X?{refs:[...ee.filter(rX),me,...(Array.isArray(_r(i,Ae))?[{}]:[])],ref:{type:me.type,name:Ae}}:{ref:me})}),ie(Ae,!1,void 0,me)}else Ze=_r(n,Ae,{}),Ze._f&&(Ze._f.mount=!1),(t.shouldUnregister||We.shouldUnregister)&&!(odr(d.array,Ae)&&l.action)&&d.unMount.add(Ae)}})},vt=()=>t.shouldFocusError&&MI(n,_t,d.mount),At=Ae=>{Rp(Ae)&&(A.state.next({disabled:Ae}),MI(n,(We,Ze)=>{let Ct=_r(n,Ze);Ct&&(We.disabled=Ct._f.disabled||Ae,Array.isArray(Ct._f.refs)&&Ct._f.refs.forEach(zt=>{zt.disabled=Ct._f.disabled||Ae}))},0,!1))},Zt=(Ae,We)=>Ze=>Ar(null,null,function*(){let Ct;Ze&&(Ze.preventDefault&&Ze.preventDefault(),Ze.persist&&Ze.persist());let zt=is(o);if(A.state.next({isSubmitting:!0}),t.resolver){let{errors:me,values:X}=yield we();r.errors=me,zt=X}else yield xe(n);if(d.disabled.size)for(let me of d.disabled)Ai(zt,me,void 0);if(Bo(r.errors,"root"),Cs(r.errors)){A.state.next({errors:{}});try{yield Ae(zt,Ze)}catch(me){Ct=me}}else We&&(yield We(je({},r.errors),Ze)),vt(),setTimeout(vt);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cs(r.errors)&&!Ct,submitCount:r.submitCount+1,errors:r.errors}),Ct)throw Ct}),Tt=(Ae,We={})=>{_r(n,Ae)&&(Co(We.defaultValue)?ze(Ae,is(_r(i,Ae))):(ze(Ae,We.defaultValue),Ai(i,Ae,is(We.defaultValue))),We.keepTouched||Bo(r.touchedFields,Ae),We.keepDirty||(Bo(r.dirtyFields,Ae),r.isDirty=We.defaultValue?de(Ae,is(_r(i,Ae))):de()),We.keepError||(Bo(r.errors,Ae),E.isValid&&R()),A.state.next(je({},r)))},Rt=(Ae,We={})=>{let Ze=Ae?is(Ae):i,Ct=is(Ze),zt=Cs(Ae),me=zt?i:Ct;if(We.keepDefaultValues||(i=Ze),!We.keepValues){if(We.keepDirtyValues){let X=new Set([...d.mount,...Object.keys(EI(i,o))]);for(let ee of Array.from(X))_r(r.dirtyFields,ee)?Ai(me,ee,_r(o,ee)):ze(ee,_r(me,ee))}else{if(iX&&Co(Ae))for(let X of d.mount){let ee=_r(n,X);if(ee&&ee._f){let ae=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(EN(ae)){let ge=ae.closest("form");if(ge){ge.reset();break}}}}for(let X of d.mount)ze(X,_r(me,X))}o=is(me),A.array.next({values:je({},me)}),A.state.next({values:je({},me)})}d={mount:We.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!E.isValid||!!We.keepIsValid||!!We.keepDirtyValues,l.watch=!!t.shouldUnregister,A.state.next({submitCount:We.keepSubmitCount?r.submitCount:0,isDirty:zt?!1:We.keepDirty?r.isDirty:!!(We.keepDefaultValues&&!wm(Ae,i)),isSubmitted:We.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:zt?{}:We.keepDirtyValues?We.keepDefaultValues&&o?EI(i,o):r.dirtyFields:We.keepDefaultValues&&Ae?EI(i,Ae):We.keepDirty?r.dirtyFields:{},touchedFields:We.keepTouched?r.touchedFields:{},errors:We.keepErrors?r.errors:{},isSubmitSuccessful:We.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},tr=(Ae,We)=>Rt(Ec(Ae)?Ae(o):Ae,We),Sr=(Ae,We={})=>{let Ze=_r(n,Ae),Ct=Ze&&Ze._f;if(Ct){let zt=Ct.refs?Ct.refs[0]:Ct.ref;zt.focus&&(zt.focus(),We.shouldSelect&&Ec(zt.select)&&zt.select())}},kr=Ae=>{r=je(je({},r),Ae)},Er={control:{register:yt,unregister:lt,getFieldState:pt,handleSubmit:Zt,setError:Ve,_subscribe:He,_runSchema:we,_getWatch:Pe,_getDirty:de,_setValid:R,_setFieldArray:H,_setDisabledField:st,_setErrors:re,_getFieldArray:Ke,_reset:Rt,_resetDefaultValues:()=>Ec(t.defaultValues)&&t.defaultValues().then(Ae=>{tr(Ae,t.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:Ie,_disableForm:At,_subjects:A,_proxyFormState:E,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(Ae){l=Ae},get _defaultValues(){return i},get _names(){return d},set _names(Ae){d=Ae},get _formState(){return r},get _options(){return t},set _options(Ae){t=je(je({},t),Ae)}},subscribe:Fe,trigger:It,register:yt,handleSubmit:Zt,watch:Oe,setValue:ze,getValues:Ye,reset:tr,resetField:Tt,clearErrors:ot,unregister:lt,setError:Ve,setFocus:Sr,getFieldState:pt};return nr(je({},Er),{formControl:Er})}function AN(e={}){let t=Mu.default.useRef(void 0),r=Mu.default.useRef(void 0),[n,i]=Mu.default.useState({isDirty:!1,isValidating:!1,isLoading:Ec(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ec(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current=nr(je({},e.formControl?e.formControl:Edr(e)),{formState:n}),e.formControl&&e.defaultValues&&!Ec(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));let o=t.current.control;return o._options=e,udr(()=>{let l=o._subscribe({formState:o._proxyFormState,callback:()=>i(je({},o._formState)),reRenderRoot:!0});return i(d=>nr(je({},d),{isReady:!0})),o._formState.isReady=!0,l},[o]),Mu.default.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Mu.default.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!Cs(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),Mu.default.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Mu.default.useEffect(()=>{if(o._proxyFormState.isDirty){let l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),Mu.default.useEffect(()=>{e.values&&!wm(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,i(l=>je({},l))):o._resetDefaultValues()},[o,e.values]),Mu.default.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(je({},o._formState))),o._removeUnmounted()}),t.current.formState=ldr(n,o),t.current}var Uje=se(tt(),1);p();p();var En=e=>e!==void 0,Mje=(e,t,r)=>t in e?e[t]:e[t]=r,AI={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},cX=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return kN(t,r).join("")}};function kN(e,t){return Cje(e,t,[]).join("")}function Cje(e,t,r){if(e.nodeType===AI.CDATA_SECTION||e.nodeType===AI.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)Cje(n,t,r)}return r}function Idr(e,t,r,n){for(var i=Tdr(t);i;i=Mdr(i)){var o=i.namespaceURI||null,l=e[o];if(En(l)){var d=l[i.localName];En(d)&&d.call(n,i,r)}}}function Tdr(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==AI.ELEMENT;)t=t.nextSibling;return t}function Mdr(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==AI.ELEMENT;)t=t.nextSibling;return t}function Da(e,t,r){return Cdr(e,t,r)}function Cdr(e,t,r){var n=En(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function Aje(e,t){return function(r,n){var i=e.call(En(t)?t:this,r,n);if(En(i)){var o=n[n.length-1];o.push(i)}}}function na(e,t,r,n,i){return n.push(e),Idr(t,r,n,i),n.pop()}function wr(e,t,r){return function(n,i){let o=e.call(En(r)?r:this,n,i);if(En(o)){var l=i[i.length-1],d=En(t)?t:n.localName;l[d]=o}}}function nl(e,t,r){return function(n,i){var o=e.call(En(r)?r:this,n,i);if(En(o)){var l=i[i.length-1],d=En(t)?t:n.localName,g=Mje(l,d,[]);g.push(o)}}}var Adr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Pdr(e){return e.replace(Adr,"")}function Lv(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return En(t[1])||!1}function K_(e){return sd(kN(e,!1))}function sd(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function lX(e){return PN(kN(e,!1))}function PN(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Vn(e){return Pdr(kN(e,!1))}var Odr="http://www.w3.org/1999/xlink";function pX(e){return e.getAttributeNS(Odr,"href")}function kdr(e,t){return na({},ohr,e,t)}function Pje(e){return[sd(e.getAttribute("minx")),sd(e.getAttribute("miny")),sd(e.getAttribute("maxx")),sd(e.getAttribute("maxy"))]}function Ddr(e,t){let r=Pje(e),n=[sd(e.getAttribute("resx")),sd(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function Ndr(e,t){let r=Pje(e);if(!(!En(r[0])||!En(r[1])||!En(r[2])||!En(r[3])))return r}function Rdr(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function Ldr(e,t){let r=na({},ahr,e,t);if(!En(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,l=r.northBoundLatitude;if(!(!En(n)||!En(i)||!En(o)||!En(l)))return[n,i,o,l]}function qdr(e,t){return na({},Jdr,e,t)}function zdr(e,t){return na({},ehr,e,t)}function jdr(e,t){return na({},thr,e,t)}function Fdr(e,t){return na({},rhr,e,t)}function Bdr(e,t){return na({},nhr,e,t)}function Udr(e,t){return na([],ihr,e,t)}function Vdr(e,t){let r=Lv(e.getAttribute("queryable"));return na({queryable:En(r)?r:!1},Dje,e,t)}function $dr(e,t){var r=t[t.length-1];let n=na({},Dje,e,t);if(!En(n))return;let i=Lv(e.getAttribute("queryable"));En(i)||(i=r.queryable),n.queryable=En(i)?i:!1;let o=PN(e.getAttribute("cascaded"));En(o)||(o=r.cascaded),n.cascaded=o;let l=Lv(e.getAttribute("opaque"));En(l)||(l=r.opaque),n.opaque=En(l)?l:!1;let d=Lv(e.getAttribute("noSubsets"));En(d)||(d=r.noSubsets),n.noSubsets=En(d)?d:!1;let g=sd(e.getAttribute("fixedWidth"));En(g)||(g=r.fixedWidth),n.fixedWidth=g;let _=sd(e.getAttribute("fixedHeight"));En(_)||(_=r.fixedHeight),n.fixedHeight=_;let E=["Style","CRS","AuthorityURL"];for(let A=0,L=E.length;A<L;A++){let z=E[A],U=r[z];if(En(U)){let N=Mje(n,z,[]);N=N.concat(U),n[z]=N}}let T=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let A=0,L=T.length;A<L;A++){let z=T[A],U=n[z];if(!En(U)){let N=r[z];n[z]=N}}return n}function Gdr(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Lv(e.getAttribute("multipleValues")),nearestValue:Lv(e.getAttribute("nearestValue")),current:Lv(e.getAttribute("current")),values:Vn(e)}}function ld(e,t){return na({},fhr,e,t)}function Hdr(e,t){return na({},shr,e,t)}function Wdr(e,t){return na({},uhr,e,t)}function Zdr(e,t){return na({},chr,e,t)}function uX(e,t){return na({},lhr,e,t)}function Oje(e,t){var r=ld(e,t);if(En(r)){let n=[PN(e.getAttribute("width")),PN(e.getAttribute("height"))];return r.size=n,r}}function Ydr(e,t){var r=ld(e,t);if(En(r))return r.name=e.getAttribute("name"),r}function Kdr(e,t){var r=ld(e,t);if(En(r))return r.type=e.getAttribute("type"),r}function Xdr(e,t){return na({},phr,e,t)}function kje(e,t){return na([],dhr,e,t)}var Na=[null,"http://www.opengis.net/wms"],Qdr=Da(Na,{Service:wr(zdr),Capability:wr(qdr)}),Jdr=Da(Na,{Request:wr(Hdr),Exception:wr(Udr),Layer:wr(Vdr)}),ehr=Da(Na,{Name:wr(Vn),Title:wr(Vn),Abstract:wr(Vn),KeywordList:wr(kje),OnlineResource:wr(pX),ContactInformation:wr(jdr),Fees:wr(Vn),AccessConstraints:wr(Vn),LayerLimit:wr(lX),MaxWidth:wr(lX),MaxHeight:wr(lX)}),thr=Da(Na,{ContactPersonPrimary:wr(Fdr),ContactPosition:wr(Vn),ContactAddress:wr(Bdr),ContactVoiceTelephone:wr(Vn),ContactFacsimileTelephone:wr(Vn),ContactElectronicMailAddress:wr(Vn)}),rhr=Da(Na,{ContactPerson:wr(Vn),ContactOrganization:wr(Vn)}),nhr=Da(Na,{AddressType:wr(Vn),Address:wr(Vn),City:wr(Vn),StateOrProvince:wr(Vn),PostCode:wr(Vn),Country:wr(Vn)}),ihr=Da(Na,{Format:Aje(Vn)}),Dje=Da(Na,{Name:wr(Vn),Title:wr(Vn),Abstract:wr(Vn),KeywordList:wr(kje),CRS:nl(Vn),SRS:nl(Vn),EX_GeographicBoundingBox:wr(Ldr),LatLonBoundingBox:wr(Ndr),BoundingBox:nl(Ddr),Dimension:nl(Gdr),Attribution:wr(kdr),AuthorityURL:nl(Ydr),Identifier:nl(Vn),MetadataURL:nl(Kdr),DataURL:nl(ld),FeatureListURL:nl(ld),Style:nl(Xdr),MinScaleDenominator:wr(K_),MaxScaleDenominator:wr(K_),ScaleHint:wr(Rdr),Layer:nl($dr)}),ohr=Da(Na,{Title:wr(Vn),OnlineResource:wr(pX),LogoURL:wr(Oje)}),ahr=Da(Na,{westBoundLongitude:wr(K_),eastBoundLongitude:wr(K_),southBoundLatitude:wr(K_),northBoundLatitude:wr(K_)}),shr=Da(Na,{GetCapabilities:wr(uX),GetMap:wr(uX),GetFeatureInfo:wr(uX)}),lhr=Da(Na,{Format:nl(Vn),DCPType:nl(Wdr)}),uhr=Da(Na,{HTTP:wr(Zdr)}),chr=Da(Na,{Get:wr(ld),Post:wr(ld)}),phr=Da(Na,{Name:wr(Vn),Title:wr(Vn),Abstract:wr(Vn),LegendURL:nl(Oje),StyleSheetURL:wr(ld),StyleURL:wr(ld)}),fhr=Da(Na,{Format:wr(Vn),OnlineResource:wr(pX)}),dhr=Da(Na,{Keyword:Aje(Vn)}),ON=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new cX(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==AI.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),na({version:this.version},Qdr,t,[])||null}};var NN="wms-base-map-layer",PI="wms-base-map-source",OI="xyz-base-map-layer",RN="xyz-base-map-source",DN={"1.0.0":"1.0.0","1.1.0":"1.1.0","1.1.1":"1.1.1","1.2.0":"1.2.0","1.3.0":"1.3.0","2.0.0":"2.0.0"};function LN(e){return Ar(this,null,function*(){let t=yield Sa.get(e);if(t.status===200){let r=new ON().parse(t.data),n=hhr(r);if(n.length===0)throw new Error("There must be at least one layer present supporting the EPSG:3857 CRS.");return n}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var hhr=e=>{var l;let t=[],r=e.version;if(r===DN["1.0.0"])throw new Error("WMS version 1.0.0 is not supported");let n=mhr(e),i=512,o=d=>{if(Nt(d)){if(Nt(d.Name)&&ghr(d)){let g={id:d.Name,label:d.Title,type:"wms",layers:d.Name,tileSize:i,urls:[n],version:r};t.push(g)}Nt(d.Layer)&&Array.isArray(d.Layer)&&d.Layer.forEach(g=>o(g))}};return Nt((l=e==null?void 0:e.Capability)==null?void 0:l.Layer)&&o(e.Capability.Layer),t},mhr=e=>{try{return e.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource}catch(t){throw new Error("Invalid GetCapabilities response. The URL for the GetMap request is not defined")}},ghr=e=>{let t="EPSG:3857";if(Nt(e.CRS))return e.CRS.includes(t);if(Nt(e.SRS)){let r=[];return e.SRS.length===1?r=e.SRS[0].split(" "):r=e.SRS,r.includes(t)}return!1},fX=e=>{var E,T,A;let t=e.urls[0],r="1.3.0",n=512,i=(E=e.version)!=null?E:r,o=nr(je({format:"image/png",service:"WMS",version:i,request:"GetMap"},vhr(i,"EPSG:3857")),{transparent:!0,width:(T=e.tileSize)!=null?T:n,height:(A=e.tileSize)!=null?A:n,layers:e.layers,STYLES:""}),l=new URLSearchParams(o),d=new URL(t);return`${`${d.origin}${d.pathname}`}?bbox={bbox-epsg-3857}&${l.toString()}`},vhr=(e,t)=>[DN["1.0.0"],DN["1.1.0"],DN["1.1.1"]].includes(e)?{SRS:t}:{CRS:t},Nje=(e,t,r)=>{if(!t)return!1;qje(e,r);let n=fX(t);if(!e.getSource(PI)){let i={type:"raster",tiles:[n]};t.attribution&&(i.attribution=t.attribution),e.addSource(PI,i);let o=e.getStyle().layers[0].id;e.addLayer({id:NN,type:"raster",source:PI,paint:{}},o)}},Rje=e=>{for(let{id:t}of e.getStyle().layers)(t===NN||t===OI)&&e.setLayoutProperty(t,"visibility","visible")},kI=e=>{Rje(e),e.getLayer(NN)&&e.removeLayer(NN),e.getSource(PI)&&e.removeSource(PI)},Lje=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},qje=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},zje=(e,t,r)=>{if(!t)return!1;if(qje(e,r),kI(e),!e.getSource(OI)){e.addSource(RN,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:OI,type:"raster",source:RN,paint:{}},n)}},jje=e=>{Rje(e),e.getLayer(OI)&&e.removeLayer(OI),e.getSource(RN)&&e.removeSource(RN)};var Fje="form-parse-capabilities",Sm={url:"url"},yhr="https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",_hr=()=>{let[e,t]=Mn(xN),r=di(Z_),n=wN(),i=oje(),o=(0,Uje.useMemo)(()=>({[Sm.url]:""}),[]),l=AN({defaultValues:o}),{register:d,handleSubmit:g,formState:{errors:_}}=l,E=(0,Bje.useCallback)(T=>Ar(null,null,function*(){let A=T[Sm.url];t(!0);try{let L=yield LN(A);L.length!==0&&r(L)}catch(L){console.log(L),n(),i(gt("dialog.add-wms.error.invalid-url"))}finally{t(!1)}}),[]);return(0,zl.useEffect)(()=>{Nt(_[Sm.url])&&n()},[_[Sm.url]]),zl.default.createElement(zl.default.Fragment,null,zl.default.createElement(bje,je({},l),zl.default.createElement("form",{className:"form-parse-wms-capabilities-root",id:Fje,onSubmit:g(E)},zl.default.createElement("div",{className:"form-wrapper"},zl.default.createElement("div",{className:xr("vkf-form-control",_[Sm.url]&&"error")},zl.default.createElement("label",{className:"vkf-form-label",htmlFor:Sm.url},gt("control-basemapselector-addwms-input-label")),zl.default.createElement("input",je({className:"vkf-form-input",placeholder:yhr},d(Sm.url,{required:!0,validate:T=>yDe(T)}))),zl.default.createElement("div",{className:xr("vkf-form-error-hint",_[Sm.url]&&"error")},gt("control-basemapselector-invalid-url-error-hint"))),zl.default.createElement(Dv,{className:"save-button",type:"save",buttonType:"submit",form:Fje,loading:e},gt("control-basemapselector-addwms-btn-load-capabilities"))))))},Vje=_hr;p();var po=se(tt(),1);p();p();var Ic=se(ir(),1);var qv=se(tt(),1);var $je=(0,qv.forwardRef)(function(t,r){let l=t,{options:n}=l,i=yn(l,["options"]),o=t.disabled;return qv.default.createElement("div",{className:"vkf-select-field-root"},qv.default.createElement("div",{className:xr("select-field-container",o&&"disabled")},qv.default.createElement("select",nr(je({},i),{ref:r}),n.map(d=>qv.default.createElement("option",{key:d.value,value:d.value},d.label)))))});$je.propTypes={className:Ic.default.string,options:Ic.default.arrayOf(Ic.default.shape({label:Ic.default.string,value:Ic.default.string})),onChange:Ic.default.func,onBlur:Ic.default.func,defaultValue:Ic.default.string,name:Ic.default.string,disabled:Ic.default.bool};var Gje=$je;var Hje=Gje;var dX=se(ir(),1);var Wje="form-select-custom-wms-layer",DI={selectedLayer:"selectedLayer"},Zje=({onSubmit:e,onClose:t})=>{let r=hr(Z_),n=hr(xN),i=hr(ije),[o,l]=(0,po.useState)(0),d=(0,po.useMemo)(()=>i?void 0:gt("control-basemapselector-select-disabled-hint"),[i]),g=(0,po.useMemo)(()=>r.map(({label:z,id:U})=>({label:z,value:U})),[r,i]),{register:_,handleSubmit:E,formState:{errors:T},reset:A}=AN(),L=(0,po.useCallback)(z=>{let U=z[DI.selectedLayer],N=r.find(({id:R})=>R===U);e(N)},[e,r]);return(0,po.useEffect)(()=>(i&&(A({[DI.selectedLayer]:g[0].value}),l(z=>z+1)),()=>{A(),l(z=>z+1)}),[i,g,A]),po.default.createElement(po.default.Fragment,null,po.default.createElement("form",{className:"form-select-custom-wms-layer-root",id:Wje,onSubmit:E(L)},po.default.createElement("div",{className:"form-wrapper"},po.default.createElement("div",{className:xr("vkf-form-control",T[DI.selectedLayer]&&"error")},po.default.createElement("label",{className:"vkf-form-label",htmlFor:DI.selectedLayer},gt("control-basemapselector-addwms-select-label")),po.default.createElement(Hje,nr(je({key:o,className:"vkf-form-input"},_(DI.selectedLayer,{required:!0})),{options:g,disabled:!i,title:d}))),po.default.createElement("div",{className:"form-buttons"},po.default.createElement(Dv,{className:"save-button",type:"save",buttonType:"submit",form:Wje,disabled:n||!i},po.default.createElement(H_,{name:"save"}),gt("control-basemapselector-addwms-btn-submit")),po.default.createElement(Dv,{className:"cancel-button",type:"discard",onClick:t},gt("control-basemapselector-addwms-btn-cancel"))))))};Zje.propTypes={onSubmit:dX.default.func.isRequired,onClose:dX.default.func.isRequired};var Yje=Zje;var hX=se(ir(),1);var Kje=({onSubmit:e,onClose:t})=>zv.default.createElement("div",{className:"form-add-wms-root"},zv.default.createElement("div",{className:"form-description"},zv.default.createElement("div",null,gt("control-basemapselector-addwms-input-description")),zv.default.createElement("div",null,gt("control-basemapselector-addwms-select-description"))),zv.default.createElement(Vje,null),zv.default.createElement(Yje,{onSubmit:e,onClose:t}));Kje.propTypes={onSubmit:hX.default.func.isRequired,onClose:hX.default.func.isRequired};var Xje=Kje;var Qje=e=>{let{onClose:t,onSubmit:r}=e,n=wN(),i=(0,NI.useCallback)(()=>{n(),t()},[t,n]),o=l=>{r(l),i()};return NI.default.createElement(W_,{title:gt("control-basemapselector-addwms-title"),modalClassName:"vkf-dialog-addwms",isOpen:!0,onClose:i,renderContent:()=>NI.default.createElement(Xje,{onSubmit:o,onClose:i})})};Qje.propTypes={onClose:mX.default.func.isRequired,onSubmit:mX.default.func.isRequired};var Jje=Qje;var RI="vkf-custom-basemaps",bhr=()=>{let e=hr(bn),[t,r]=Mn(__),[n,i]=G_(RI,[]),o=zr.getBaseMaps(),l=di(ns),[d,g]=Mn(SZ),_=z=>{r(z.id)},E=()=>{g(!0)},T=()=>{g(!1)},A=z=>{z.type==="wms"&&kI(e,z),t===z.id&&r(o[0].id),i(U=>U.filter(N=>N.id!==z.id))},L=z=>{if([...o,...n].find(N=>N.id===z.id||N.label===z.label))l({id:"basemapSelector",type:"danger",text:gt("control-basemapselector-error-initializiation")});else{let N=nr(je({},z),{allowDeletion:!0});i(R=>[...R,N])}};return il.default.createElement(il.default.Fragment,null,t!==void 0&&il.default.createElement(il.default.Fragment,null,il.default.createElement("h2",null,gt("control-basemapselector-label"),":"),il.default.createElement("ul",{className:"wms-entries"},[...o,...n].map(z=>il.default.createElement("li",{key:z.id,className:"basemap-selector-entry"},il.default.createElement(HK,{onChange:()=>_(z),name:z.id,value:z.id,checked:t===z.id},z.label),z.allowDeletion&&il.default.createElement("button",{className:"delete-basemap-button",onClick:U=>{U.preventDefault(),U.stopPropagation(),A(z)},title:"Remove basemap"},il.default.createElement(Mo,{glyph:"remove"}))))),il.default.createElement("div",{className:"controls-container"},il.default.createElement("button",{className:"add-wms-button",onClick:E},gt("control-basemapselector-btn-addwms")))),d&&il.default.createElement(Jje,{onClose:T,onSubmit:L}))},eFe=bhr;var xhr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=fk(EW,Xa.BasemapSelector);return e!==null?(0,tFe.createPortal)(LI.default.createElement("div",{ref:n},LI.default.createElement("button",{onClick:r,title:gt("control-basemapselector-open"),className:xr("maplibregl-ctrl-basemap-selector",t===Xa.BasemapSelector&&"active")}),t===Xa.BasemapSelector&&LI.default.createElement("div",{className:xr("basemap-selector-modal",t===Xa.BasemapSelector&&"active")},LI.default.createElement(eFe,null))),e):null},rFe=xhr;var nFe=rFe;p();p();var gX=class extends EP{addControl(t,r){let n=super.addControl(t,r);return this.fire(fc.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(fc.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var g;let o=super.setPaintProperty(t,r,n,i),l=this.getLayer(t),d=(g=l==null?void 0:l.metadata)==null?void 0:g[Ep.id];return fDe.has(r)&&d&&this.fire(fc.opacityChanged,{layerId:d,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var g;let o=super.setLayoutProperty(t,r,n,i),l=this.getLayer(t),d=(g=l==null?void 0:l.metadata)==null?void 0:g[Ep.id];return dDe.has(r)&&d&&this.fire(fc.visibilityChanged,{layerId:d,property:r,value:n}),o}fireVisibilityChanged(t,r){this.fire(fc.visibilityChanged,{layerId:t,property:"visibility",value:r})}},iFe=gX;var oFe=iFe;p();var qI=se(tt(),1),RFe=se(Ki(),1);p();var zp=se(tt(),1);p();var Ra=se(tt(),1);p();p();p();var vX={"2D":0,"3D":1};var aFe=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},sFe=e=>zr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},lFe=e=>({map_id:e.filter(t=>t.getType()===Qa.HISTORIC_MAP||t.getMetadata(rr.vectorMapId)).map(t=>t.getId())}),uFe=e=>({v:e?vX["3D"]:vX["2D"]});var OFe=se(CFe(),1);p();p();var os=se(tt(),1),qN=se(ir(),1);var AFe=({title:e,onClick:t,value:r})=>{let[n,i]=(0,os.useState)(!1),o=(0,os.useRef)(),l=(0,os.useRef)(),d=(0,os.useCallback)(()=>{(t!==void 0&&r===""?t():new Promise(_=>_())).then(_=>{clearTimeout(l.current),navigator.clipboard.writeText(_!==void 0?_:r),i(!0)})},[t,r]);return(0,os.useEffect)(()=>(n&&(l.current=setTimeout(()=>{i(!1)},1e3)),()=>{clearTimeout(l.current)}),[n]),os.default.createElement(os.default.Fragment,null,os.default.createElement("button",{className:"copy-button",onClick:d,ref:o,title:e!=null?e:gt("control-permalink-exporter-copy-title")},os.default.createElement(Mo,{glyph:"copy"})),os.default.createElement(VK,{placement:"right",target:o.current,show:n},os.default.createElement(JK,{id:"copy-state-indicator"},gt("control-permalink-exporter-copy"))))};AFe.propTypes={title:qN.default.string,onClick:qN.default.func,value:qN.default.string};var PFe=AFe;var zN=PFe;var Ohr=()=>{let e=hr(bn),t=hr(tl),r=hr(__),[n,i]=(0,Ra.useState)(""),o=(0,Ra.useRef)(),l=(0,Ra.useCallback)(()=>{if(!Nt(e))return;let d=aFe(Kze(e,!0)),g=uFe(e.isVkfGlobeModeEnabled()),_=lFe(t),E=sFe(r),T=(0,OFe.stringify)(Object.assign({},d,g,_,E),{arrayFormat:"comma"});i(bN(T))},[e]);return(0,Ra.useEffect)(()=>{if(e)return l(),e.on("moveend",l),()=>{e.off("moveend",l)}},[e,l]),Ra.default.createElement(Ra.default.Fragment,null,Ra.default.createElement("div",{className:"action-content"},Ra.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Ra.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Ra.default.createElement(zN,{value:n})),Ra.default.createElement("div",{className:"description"},Ra.default.createElement("p",null,gt("control-permalink-exporter-permalink-description"))))},kFe=Ohr;p();var La=se(tt(),1);p();var qp=se(tt(),1);var khr=()=>qp.default.createElement("div",{className:"lds-roller"},qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null),qp.default.createElement("div",null)),X_=khr;var DFe=()=>{let[e]=G_(RI,[]),[t,r]=(0,La.useState)(!1),[n,i]=(0,La.useState)(""),o=hr(BRe),l=zr.getGeoreferenceApiClient(),d="/map_view/",g=(0,La.useCallback)(()=>{if(o!==void 0){let _=o(),{searchOptions:E}=_,T=yn(_,["searchOptions"]),A=e.filter(z=>z.id===T.activeBasemapId),L=Object.assign({},T,A.length>0?{customBasemaps:A}:null);return r(!0),l.post(d,{map_view_json:L}).then(z=>{if(z.status===200&&z.data!==void 0){let{map_view_id:U}=z.data,N=bN(`map_view_id=${U}`);return i(N),r(!1),N}})}},[e,o]);return La.default.createElement(La.default.Fragment,null,La.default.createElement("div",{className:"action-content"},La.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),La.default.createElement("input",{placeholder:gt("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),La.default.createElement(zN,{onClick:g,value:n}),La.default.createElement("button",{className:xr("upload-button",t&&"loading"),onClick:g},t?La.default.createElement(X_,null):La.default.createElement(Mo,{glyph:"upload"}),"Upload")),La.default.createElement("div",{className:"description"},La.default.createElement("p",null,gt("control-permalink-exporter-mapview-description"))))};var Dhr=()=>{let e=!zr.isUserAuthenticated();return zp.default.createElement("div",{className:"vkf-permalink-exporter"},zp.default.createElement(XK,{defaultActiveKey:1,id:"permalink-exporter-tabs"},zp.default.createElement(yN,{eventKey:1,title:gt("control-permalink-title-permalink")},zp.default.createElement("div",{className:"permalink-exporter-content"},zp.default.createElement(kFe,null))),zp.default.createElement(yN,{disabled:e,eventKey:2,title:gt("control-permalink-title-map-view")},zp.default.createElement("div",{className:"permalink-exporter-content"},!e&&zp.default.createElement(DFe,null)))))},NFe=zp.default.memo(Dhr);var Nhr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=fk(MW,Xa.Permalink);return e!==null?(0,RFe.createPortal)(qI.default.createElement("div",{ref:n},qI.default.createElement("button",{className:xr("maplibregl-ctrl-permalink",t===Xa.Permalink&&"active"),onClick:r,title:gt("control-permalink-open")}),t===Xa.Permalink&&qI.default.createElement("div",{className:"content-container"},qI.default.createElement(NFe,null))),e):null},LFe=Nhr;p();var jN=se(tt(),1);var Rhr=()=>{let e=hr(bn),t=hr(__),r=hr(tk),[n]=G_(RI,[]),i=zr.getBaseMaps(),o=(0,jN.useMemo)(()=>[...i,...n],[n,i]);return(0,jN.useEffect)(()=>{if(Nt(e)){let l=o.find(g=>g.id===t);if(l===void 0)return;let d=l;if(kI(e),jje(e),d.type==="vector")Lje(e,r);else if(d.type==="wms")Nje(e,d,r);else if(d.type==="xyz")zje(e,d,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},qFe=Rhr;p();function zFe(){return{"NavigationControl.ZoomIn":gt("control-zoom-in"),"NavigationControl.ZoomOut":gt("control-zoom-out"),"FullscreenControl.Enter":gt("control-fullscreen-Enter"),"FullscreenControl.Exit":gt("control-fullscreen-Exit"),"NavigationControl.ResetBearing":gt("control-rotate"),"VkfGlobeModeControl.Enable":gt("control-toggleviewmode-title"),"VkfGlobeModeControl.Disable":gt("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":gt("control-locateme-title"),"GeolocateControl.LocationNotAvailable":gt("control-locateme-location-not-available")}}var Lhr="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json",jFe=e=>{let{target:t}=e,r=document.getElementsByClassName("map-container")[0];if(!Nt(r))return;let n=ORe(t.getZoom());r.style.setProperty("--vkf-idohist-scale-factor",n)},FFe=e=>{let{target:t}=e,r=document.getElementsByClassName("map-container")[0];if(!Nt(r))return;let n=t.isVkfGlobeModeEnabled()?"#262626":"#ffffff";r.style.setProperty("--vkf-map-background-color",n)};function BFe(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},loadMarkerIcon:i=!0}=e,[o,l]=Mn(bn),d=di(tk),g=(0,Cu.useRef)();return hLe(g,"map"),(0,Cu.useEffect)(()=>{let _=new oFe({container:g.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:Lhr,locale:zFe(),attributionControl:!1}),E=()=>{if(l(_),d(_.getStyle().layers),i===!0){let{id:T,url:A}=zr.getMarkerSettings();_.loadImage(A).then(L=>{_.addImage(T,L.data,{sdf:!0})})}};return _.on("style.load",E),_.on("zoom",jFe),_.on(nm,FFe),()=>{_.off("style.load",E),_.off("zoom",jFe),_.off(nm,FFe),l(void 0),_.remove()}},[]),(0,Cu.useEffect)(()=>{if(Nt(o)){let _=_De();return _.forEach(({control:E,position:T})=>{o.addControl(E,T)}),()=>{_.forEach(({control:E})=>{o.removeControl(E)})}}},[o]),Cu.default.createElement("div",{className:"map-container"},Cu.default.createElement("div",{ref:g,className:xr("map-div","olMap",SDe(r)),tabIndex:0},Nt(o)&&Cu.default.createElement(t,null),Cu.default.createElement(nFe,null),Cu.default.createElement(LFe,null),Cu.default.createElement(qFe,null)))}var qhr={baseMapUrl:Tc.default.arrayOf(Tc.default.string),ChildComponent:Tc.default.func,layout:Tc.default.string,mapViewSettings:Tc.default.shape({center:Tc.default.arrayOf(Tc.default.number),projection:Tc.default.string,zoom:Tc.default.number}),loadMarkerIcon:Tc.default.bool};BFe.propTypes=qhr;var UFe=BFe;p();var yd=se(tt(),1),_He=se(ir(),1);p();var Pm=se(tt(),1);var dL=se(ir(),1);p();var Po=se(tt(),1);p();p();var J_=se(tt(),1),bX=se(ir(),1);p();var jv=se(tt(),1),Q_=se(ir(),1),VFe=({checked:e,georeferenceMode:t,id:r,onClick:n,title:i})=>r!=="ToGeoref"||r==="toGeoref"&&t?jv.default.createElement("li",null,jv.default.createElement("label",{htmlFor:r},jv.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),jv.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):jv.default.createElement(jv.default.Fragment,null);VFe.propTypes={checked:Q_.default.bool,georeferenceMode:Q_.default.bool,id:Q_.default.string,onClick:Q_.default.func,title:Q_.default.string};var $Fe=VFe;var xX={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic",VM:"type-vector"},zhr=(e,t)=>e.title>t.title?1:e.title<t.title?-1:0,jhr=()=>{let e=Object.keys(xX).map(t=>({key:t,title:gt(`facet-${t.toLowerCase()}`)}));return e.sort(zhr),e},Fhr={};Object.keys(xX).forEach(e=>{Fhr[e]=!1});var GFe=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=Mn(um),i=(0,J_.useMemo)(()=>{let d=je({},xX);return t&&(delete d.MM,delete d.VM),d},[t]),o=(0,J_.useMemo)(()=>jhr(),[]),l=d=>{n(g=>{let{facets:_,georeference:E}=g;if(d==="ToGeoref")return{facets:_,georeference:!E};{let T=_.slice(),A=T.findIndex(L=>L.id===d);if(A>-1)T.splice(A,1);else{let[L,z]=i[d].split("-");T.push({key:L,value:z,id:d})}return{facets:T,georeference:E}}})};return J_.default.createElement("ul",{className:"search-facet"},o.map(({key:d,title:g})=>J_.default.createElement($Fe,{checked:r.facets.findIndex(_=>_.id===d)!==-1,key:d,georeferenceMode:e,onClick:l,id:d,title:g})))};GFe.propTypes={georeferenceMode:bX.default.bool,mosaicMode:bX.default.bool};var HFe=GFe;var FN=HFe;p();var Oc=se(tt(),1);var KX=se(ir(),1);p();var Ao=se(tt(),1),al=se(ir(),1);p();p();function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}p();var WFe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Bhr(e,t){return!!(e===t||WFe(e)&&WFe(t))}function Uhr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Bhr(e[r],t[r]))return!1;return!0}function Vhr(e,t){t===void 0&&(t=Uhr);var r,n=[],i,o=!1;function l(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return o&&r===this&&t(d,n)||(i=e.apply(this,d),o=!0,r=this,n=d),i}return l}var BN=Vhr;var tb=se(tt());var $hr=typeof performance=="object"&&typeof performance.now=="function",ZFe=$hr?function(){return performance.now()}:function(){return Date.now()};function YFe(e){cancelAnimationFrame(e.id)}function Ghr(e,t){var r=ZFe();function n(){ZFe()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var wX=-1;function KFe(e){if(e===void 0&&(e=!1),wX===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),wX=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return wX}var eb=null;function XFe(e){if(e===void 0&&(e=!1),eb===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?eb="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?eb="negative":eb="positive-ascending"),document.body.removeChild(t),eb}return eb}var Hhr=150,Whr=function(t,r){return t};function Zhr(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,l=e.getStartIndexForOffset,d=e.getStopIndexForStartIndex,g=e.initInstanceProps,_=e.shouldResetStyleCacheOnItemSizeChange,E=e.validateProps;return t=function(T){Ak(A,T);function A(z){var U;return U=T.call(this,z)||this,U._instanceProps=g(U.props,Qr(U)),U._outerRef=void 0,U._resetIsScrollingTimeoutId=null,U.state={instance:Qr(U),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof U.props.initialScrollOffset=="number"?U.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},U._callOnItemsRendered=void 0,U._callOnItemsRendered=BN(function(N,R,j,H){return U.props.onItemsRendered({overscanStartIndex:N,overscanStopIndex:R,visibleStartIndex:j,visibleStopIndex:H})}),U._callOnScroll=void 0,U._callOnScroll=BN(function(N,R,j){return U.props.onScroll({scrollDirection:N,scrollOffset:R,scrollUpdateWasRequested:j})}),U._getItemStyle=void 0,U._getItemStyle=function(N){var R=U.props,j=R.direction,H=R.itemSize,Y=R.layout,re=U._getItemStyleCache(_&&H,_&&Y,_&&j),ie;if(re.hasOwnProperty(N))ie=re[N];else{var le=r(U.props,N,U._instanceProps),Me=i(U.props,N,U._instanceProps),we=j==="horizontal"||Y==="horizontal",ye=j==="rtl",xe=we?le:0;re[N]=ie={position:"absolute",left:ye?void 0:xe,right:ye?xe:void 0,top:we?0:le,height:we?"100%":Me,width:we?Me:"100%"}}return ie},U._getItemStyleCache=void 0,U._getItemStyleCache=BN(function(N,R,j){return{}}),U._onScrollHorizontal=function(N){var R=N.currentTarget,j=R.clientWidth,H=R.scrollLeft,Y=R.scrollWidth;U.setState(function(re){if(re.scrollOffset===H)return null;var ie=U.props.direction,le=H;if(ie==="rtl")switch(XFe()){case"negative":le=-H;break;case"positive-descending":le=Y-j-H;break}return le=Math.max(0,Math.min(le,Y-j)),{isScrolling:!0,scrollDirection:re.scrollOffset<le?"forward":"backward",scrollOffset:le,scrollUpdateWasRequested:!1}},U._resetIsScrollingDebounced)},U._onScrollVertical=function(N){var R=N.currentTarget,j=R.clientHeight,H=R.scrollHeight,Y=R.scrollTop;U.setState(function(re){if(re.scrollOffset===Y)return null;var ie=Math.max(0,Math.min(Y,H-j));return{isScrolling:!0,scrollDirection:re.scrollOffset<ie?"forward":"backward",scrollOffset:ie,scrollUpdateWasRequested:!1}},U._resetIsScrollingDebounced)},U._outerRefSetter=function(N){var R=U.props.outerRef;U._outerRef=N,typeof R=="function"?R(N):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=N)},U._resetIsScrollingDebounced=function(){U._resetIsScrollingTimeoutId!==null&&YFe(U._resetIsScrollingTimeoutId),U._resetIsScrollingTimeoutId=Ghr(U._resetIsScrolling,Hhr)},U._resetIsScrolling=function(){U._resetIsScrollingTimeoutId=null,U.setState({isScrolling:!1},function(){U._getItemStyleCache(-1,null)})},U}A.getDerivedStateFromProps=function(U,N){return Yhr(U,N),E(U),null};var L=A.prototype;return L.scrollTo=function(U){U=Math.max(0,U),this.setState(function(N){return N.scrollOffset===U?null:{scrollDirection:N.scrollOffset<U?"forward":"backward",scrollOffset:U,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},L.scrollToItem=function(U,N){N===void 0&&(N="auto");var R=this.props,j=R.itemCount,H=R.layout,Y=this.state.scrollOffset;U=Math.max(0,Math.min(U,j-1));var re=0;if(this._outerRef){var ie=this._outerRef;H==="vertical"?re=ie.scrollWidth>ie.clientWidth?KFe():0:re=ie.scrollHeight>ie.clientHeight?KFe():0}this.scrollTo(o(this.props,U,N,Y,this._instanceProps,re))},L.componentDidMount=function(){var U=this.props,N=U.direction,R=U.initialScrollOffset,j=U.layout;if(typeof R=="number"&&this._outerRef!=null){var H=this._outerRef;N==="horizontal"||j==="horizontal"?H.scrollLeft=R:H.scrollTop=R}this._callPropsCallbacks()},L.componentDidUpdate=function(){var U=this.props,N=U.direction,R=U.layout,j=this.state,H=j.scrollOffset,Y=j.scrollUpdateWasRequested;if(Y&&this._outerRef!=null){var re=this._outerRef;if(N==="horizontal"||R==="horizontal"){if(N==="rtl")switch(XFe()){case"negative":re.scrollLeft=-H;break;case"positive-ascending":re.scrollLeft=H;break;default:var ie=re.clientWidth,le=re.scrollWidth;re.scrollLeft=le-ie-H;break}else re.scrollLeft=H;}else re.scrollTop=H}this._callPropsCallbacks()},L.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&YFe(this._resetIsScrollingTimeoutId)},L.render=function(){var U=this.props,N=U.children,R=U.className,j=U.direction,H=U.height,Y=U.innerRef,re=U.innerElementType,ie=U.innerTagName,le=U.itemCount,Me=U.itemData,we=U.itemKey,ye=we===void 0?Whr:we,xe=U.layout,Ie=U.outerElementType,de=U.outerTagName,Pe=U.style,Ke=U.useIsScrolling,at=U.width,dt=this.state.isScrolling,ze=j==="horizontal"||xe==="horizontal",ct=ze?this._onScrollHorizontal:this._onScrollVertical,_t=this._getRangeToRender(),It=_t[0],Ye=_t[1],pt=[];if(le>0)for(var ot=It;ot<=Ye;ot++)pt.push((0,tb.createElement)(N,{data:Me,key:ye(ot,Me),index:ot,isScrolling:Ke?dt:void 0,style:this._getItemStyle(ot)}));var Ve=n(this.props,this._instanceProps);return(0,tb.createElement)(Ie||de||"div",{className:R,onScroll:ct,ref:this._outerRefSetter,style:wn({position:"relative",height:H,width:at,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:j},Pe)},(0,tb.createElement)(re||ie||"div",{children:pt,ref:Y,style:{height:ze?"100%":Ve,pointerEvents:dt?"none":void 0,width:ze?Ve:"100%"}}))},L._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var U=this.props.itemCount;if(U>0){var N=this._getRangeToRender(),R=N[0],j=N[1],H=N[2],Y=N[3];this._callOnItemsRendered(R,j,H,Y)}}if(typeof this.props.onScroll=="function"){var re=this.state,ie=re.scrollDirection,le=re.scrollOffset,Me=re.scrollUpdateWasRequested;this._callOnScroll(ie,le,Me)}},L._getRangeToRender=function(){var U=this.props,N=U.itemCount,R=U.overscanCount,j=this.state,H=j.isScrolling,Y=j.scrollDirection,re=j.scrollOffset;if(N===0)return[0,0,0,0];var ie=l(this.props,re,this._instanceProps),le=d(this.props,ie,re,this._instanceProps),Me=!H||Y==="backward"?Math.max(1,R):1,we=!H||Y==="forward"?Math.max(1,R):1;return[Math.max(0,ie-Me),Math.max(0,Math.min(N-1,le+we)),ie,le]},A}(tb.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Yhr=function(t,r){var n=t.children,i=t.direction,o=t.height,l=t.layout,d=t.innerTagName,g=t.outerTagName,_=t.width,E=r.instance;if(0)var T};var QFe=Zhr({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,l){var d=t.direction,g=t.height,_=t.itemCount,E=t.itemSize,T=t.layout,A=t.width,L=d==="horizontal"||T==="horizontal",z=L?A:g,U=Math.max(0,_*E-z),N=Math.min(U,r*E),R=Math.max(0,r*E-z+E+l);switch(n==="smart"&&(i>=R-z&&i<=N+z?n="auto":n="center"),n){case"start":return N;case"end":return R;case"center":{var j=Math.round(R+(N-R)/2);return j<Math.ceil(z/2)?0:j>U+Math.floor(z/2)?U:j}case"auto":default:return i>=R&&i<=N?i:i<R?R:N}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,l=t.itemCount,d=t.itemSize,g=t.layout,_=t.width,E=i==="horizontal"||g==="horizontal",T=r*d,A=E?_:o,L=Math.ceil((A+n-T)/d);return Math.max(0,Math.min(l-1,r+L-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});p();var eBe=se(tt());function Khr(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function Xhr(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,l=[],d=null,g=null,_=i;_<=o;_++){var E=t(_);E?g!==null&&(l.push(d,g),d=g=null):(g=_,d===null&&(d=_))}if(g!==null){for(var T=Math.min(Math.max(g,d+n-1),r-1),A=g+1;A<=T&&!t(A);A++)g=A;l.push(d,g)}if(l.length)for(;l[1]-l[0]+1<n&&l[0]>0;){var L=l[0]-1;if(!t(L))l[0]=L;else break}return l}var Qhr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Jhr=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),emr=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},JFe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},tmr=function(e){emr(t,e);function t(){var r,n,i,o;Qhr(this,t);for(var l=arguments.length,d=Array(l),g=0;g<l;g++)d[g]=arguments[g];return o=(n=(i=JFe(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(d))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(_){var E=_.visibleStartIndex,T=_.visibleStopIndex;i._lastRenderedStartIndex=E,i._lastRenderedStopIndex=T,i._ensureRowsLoaded(E,T)},i._setRef=function(_){i._listRef=_},n),JFe(i,o)}return Jhr(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,l=o.isItemLoaded,d=o.itemCount,g=o.minimumBatchSize,_=g===void 0?10:g,E=o.threshold,T=E===void 0?15:E,A=Xhr({isItemLoaded:l,itemCount:d,minimumBatchSize:_,startIndex:Math.max(0,n-T),stopIndex:Math.min(d-1,i+T)});(this._memoizedUnloadedRanges.length!==A.length||this._memoizedUnloadedRanges.some(function(L,z){return A[z]!==L}))&&(this._memoizedUnloadedRanges=A,this._loadUnloadedRanges(A))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,l=function(_){var E=n[_],T=n[_+1],A=o(E,T);A!=null&&A.then(function(){if(Khr({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:E,stopIndex:T})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(E,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},d=0;d<n.length;d+=2)l(d)}}]),t}(eBe.PureComponent),tBe=tmr;p();var RBe=se(tt(),1);p();var BI=se(tt(),1);p();var qn=se(tt(),1),jl=se(ir(),1);var FI=se($X(),1);p();var nb=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1,Jmr="http://www.deutschefotothek.de/images/noimage/image120.jpg",GX=e=>e.getType()===Qa.VECTOR_MAP?zr.getSettings().FALLBACK_THUMBNAIL:Jmr,PBe=e=>{let t=e.getMetadata(rr.thumbnailUrl);return!Nt(t)||t===""?GX(e):t.replace("http:","")};var OBe=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:l})=>{var we;let{direction:d,maps:g}=t,_=(we=g[r])!=null?we:Up,E=hr(tl),[T,A]=(0,qn.useState)(!1),{displayTime:L,sortTime:z}=(0,qn.useMemo)(()=>({displayTime:_.getDisplayTime(),sortTime:_.getSortTime()}),[_]),U=(0,qn.useMemo)(()=>PBe(_),[_]),N=(0,qn.useMemo)(()=>GX(_),[_]),R=()=>{n(_)},j=ye=>{ye.key==="Enter"&&R()},H=(0,qn.useCallback)(()=>{U!==""&&U!==N&&A(!0)},[U,N]);(0,qn.useEffect)(()=>{A(!1)},[_.getId()]);let Y=_===Up,re=nb(E,_)&&!Y,ie=_.getMetadata(rr.mapScale)==="0"||_.getMetadata(rr.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${_.getMetadata(rr.mapScale)}`,le=_.getMetadata(rr.type)===Qa.MOSAIC_MAP,Me=_.getMetadata(rr.type)===Qa.VECTOR_MAP;return qn.default.createElement("li",{tabIndex:0,style:l,className:xr("vkf-mapsearch-record",_.getMetadata(rr.type),re&&"selected",d,Y&&"loading"),id:_.getMetadata(rr.id),onClick:Y?void 0:R,onKeyDown:Y?void 0:j,onMouseEnter:i,onMouseLeave:o},e,qn.default.createElement("span",{className:"data-col time"},isNaN(z)?"":z),qn.default.createElement("span",{className:"data-col title"},_.getMetadata(rr.title)),qn.default.createElement("span",{className:"data-col time"},"1"),qn.default.createElement("div",{className:"view-item"},qn.default.createElement("span",{className:"thumbnail",href:"#"},Y?qn.default.createElement(FI.default.default,{height:"calc(100% - 6px)"}):qn.default.createElement(qn.default.Fragment,null,qn.default.createElement("img",{alt:`Thumbnail Image of Map ${_.getMetadata(rr.title)} ${L}`,onError:H,src:T?N:U}),le&&qn.default.createElement("span",{className:xr("mosaic-badge",re&&"selected")},gt("mosaic-badge-title")),Me&&qn.default.createElement("span",{className:xr("vector-badge",re&&"selected")},gt("vector-badge-title"))),re&&qn.default.createElement("span",{className:"badge selected-badge"},qn.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),qn.default.createElement("div",{className:"overview"},qn.default.createElement("h2",null,Y?qn.default.createElement(FI.default.default,null):_.getMetadata(rr.title)),qn.default.createElement("div",{className:"details"},qn.default.createElement("div",{className:"timestamp"},Y?qn.default.createElement(FI.default.default,null):`${gt("mapsearch-listelement-time")} ${L}`),!Me&&qn.default.createElement("div",{className:"scale"},Y?qn.default.createElement(FI.default.default,null):`${gt("mapsearch-listelement-scale")} ${ie}`),!_.getMetadata(rr.hasGeoReference)&&qn.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef"))))))};OBe.propTypes={children:jl.default.element,data:jl.default.shape({direction:jl.default.oneOf(["horizontal","vertical"]),feature:jl.default.object,is3d:jl.default.bool,maps:jl.default.object,selected:jl.default.bool}),onClick:jl.default.func,onMouseEnter:jl.default.func,onMouseLeave:jl.default.func,index:jl.default.number,style:jl.default.object};var HX=OBe;var kBe=e=>{var g;let{data:t,index:r}=e,{maps:n}=t,i=hr(bn),o=(g=n[r])!=null?g:Up,l=(0,BI.useCallback)(()=>{Nt(i)&&NW(i,o.getPreviewFeature())},[i,o]),d=(0,BI.useCallback)(()=>{Nt(i)&&NW(i,{type:"FeatureCollection",features:[]})},[i,o]);return BI.default.createElement(HX,je({onMouseEnter:l,onMouseLeave:d},e))};kBe.propTypes=je({},HX.propTypes);var WX=kBe;p();var egr=e=>Ar(null,null,function*(){var t;try{let r=yield Sa.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),l=n.getElementsByTagName("TileSet"),d=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:l.length-1,tileSize:d}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),ib=e=>Ar(null,null,function*(){let t=e.getMetadata(rr.tmsUrls),r=e.getMetadata(rr.onlineResources).find(o=>o.type==="WMS").url,n=Array.isArray(t)&&t.length>0,i;if(n){let{maxZoom:o,bounds:l,tileSize:d}=yield egr(t[0]);i={bounds:l,tileSize:d,maxzoom:o,tiles:t.map(g=>`${g}/{z}/{x}/{y}.png`),scheme:"tms"}}else{let o=yield LN(r);i={tiles:[fX(o[0])]}}return i});p();p();var DBe=e=>Ar(null,null,function*(){let t=zr.getGeoreferenceApiClient(),r=`/vector_maps/${e}`;return(yield t.get(r)).data});var tgr=e=>Ar(null,null,function*(){let t=e.getMetadata(rr.externalContentUrl),r={accept:"application/json"},n=yield Sa.get(t,{headers:r}),i=bv.toApplicationState(n.data);e.setGeoJson(i)}),rgr=e=>Ar(null,null,function*(){let t=yield DBe(e.getMetadata(rr.vectorMapId));e.updateMetadata(rr.userRole,t[rr.userRole]),e.updateMetadata(rr.version,t[rr.version]);let r=bv.toApplicationState(t.geojson);e.setGeoJson(r)}),NBe=e=>Ar(null,null,function*(){if(e.isExternalVectorMap()){yield tgr(e);return}yield rgr(e)});var ngr=()=>em(({snapshot:e,set:t})=>r=>Ar(null,null,function*(){let n=yield e.getPromise(tl),i=yield e.getPromise(bn);t(lZ,void 0);let o=n.find(d=>d.getId()===r.getId());if(o){t(tl,n.filter(d=>d.getId()!==r.getId())),o.removeMapLibreLayers(i);return}if(r.getMetadata(rr.type)===Qa.VECTOR_MAP)yield NBe(r),r.addLayerToMap(i),t(tl,d=>d.concat(r));else{let d=yield ib(r);r.addLayerToMap(i,{sourceSettings:d}),t(tl,g=>g.concat(r))}})),LBe=e=>{let t=ngr();return RBe.default.createElement(WX,je({onClick:t},e))};LBe.propTypes=je({},WX.propTypes);var UI=LBe;p();var Im=se(ir(),1),Pc=se(tt(),1);p();var Em=se(tt(),1),VI=se(ir(),1);var igr=e=>e===Ac.ASCENDING?Ac.DESCENDING:Ac.ASCENDING,qBe=({label:e,sortOrder:t,sortKey:r,onClick:n})=>{let i=(0,Em.useCallback)(()=>{let l=igr(t);n(r,l)},[r,t,n]),o=(0,Em.useCallback)(l=>{l.key==="Enter"&&i()},[i]);return Em.default.createElement("div",{className:xr("inner-col",r)},Em.default.createElement("div",{className:xr("sort-element",r,t),onClick:i,onKeyDown:o,tabIndex:0},e,Em.default.createElement("span",{className:"caret-container"},Em.default.createElement("span",{className:"caret caret-reversed"}))))};qBe.propTypes={label:VI.default.string.isRequired,sortOrder:VI.default.string.isRequired,sortKey:VI.default.string.isRequired,onClick:VI.default.func.isRequired};var zBe=qBe;var Ac={ASCENDING:"ascending",DESCENDING:"descending"},jBe=({sortColumns:e,onUpdateSortOrder:t,defaultSortKey:r="title",defaultSortOrder:n=Ac.ASCENDING})=>{let[i,o]=(0,Pc.useState)(r),[l,d]=(0,Pc.useState)(n),g=(0,Pc.useCallback)((_,E)=>{o(_),d(E),t(_,E)},[t,l]);return Pc.default.createElement("div",{className:"vkf-sort-control-root"},Pc.default.createElement("div",{className:"list-header"},Pc.default.createElement("strong",{className:"list-label"},gt("mapsearch-sorting"),":"),Pc.default.createElement("div",{className:"inner-columns"},e.map(({sortKey:_,label:E})=>Pc.default.createElement(zBe,{key:_,onClick:g,sortOrder:i===_?l:"",sortKey:_,label:E})))))};jBe.propTypes={sortColumns:Im.default.arrayOf(Im.default.shape({sortKey:Im.default.string,label:Im.default.string})).isRequired,onUpdateSortOrder:Im.default.func,defaultSortKey:Im.default.string,defaultSortOrder:Im.default.oneOf([Ac.ASCENDING,Ac.DESCENDING])};var FBe=jBe;var Up=new hv({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",[rr.timePeriod]:[],title:"Loading"}}),HN=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=UI,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:l=!0,searchResultDescriptor:{itemCount:d,id:g}})=>{let _=hr(VRe),[E,T]=(0,Ao.useState)({}),A=(0,Ao.useMemo)(()=>[{sortKey:"map_scale",label:gt("mapsearch-map_scale")},{sortKey:"time_period_start",label:gt("mapsearch-time")},{sortKey:"title",label:gt("mapsearch-title")}],[]),L=(0,Ao.useRef)(!1),z=(0,Ao.useRef)(),U=(0,Ao.useRef)(),{height:N,width:R}=wZ(U),j=(0,Ao.useCallback)(Y=>!L.current&&E[Y]!==void 0&&E[Y]!==Up,[E]),H=(0,Ao.useCallback)((Y,re)=>{if(Y!==void 0&&re!==void 0){let ie=re-Y+1;return i(Y,ie).then(le=>{le&&T(Me=>{let we=L.current?{}:Object.assign({},Me);return L.current=!1,le.forEach((ye,xe)=>{we[Y+xe]=ye}),we})})}},[i]);return(0,Ao.useEffect)(()=>{Up.updateMetadata("title",gt("mapsearch-listelement-loading"))},[]),(0,Ao.useEffect)(()=>{L.current=!0,z.current.resetloadMoreItemsCache(!0)},[g]),Ao.default.createElement("div",{className:xr("vkf-mapsearch-result-list",e)},l&&Ao.default.createElement(FBe,{sortColumns:A,onUpdateSortOrder:o,defaultSortKey:ZX,defaultSortOrder:YX}),Ao.default.createElement("div",{className:"mapsearch-contentlist-container",ref:U},Ao.default.createElement(tBe,{isItemLoaded:j,itemCount:d,loadMoreItems:H,minimumBatchSize:n,ref:z},({onItemsRendered:Y,ref:re})=>Ao.default.createElement(QFe,{height:N,innerElementType:"ul",itemCount:d,itemSize:t,itemData:{direction:e,maps:E,is3d:_},layout:e,onItemsRendered:Y,ref:re,width:R},r))))};HN.propTypes={direction:al.default.oneOf(["horizontal","vertical"]),itemSize:al.default.number,minimumBatchSize:al.default.number,ListItemComponent:al.default.elementType,renderHeader:al.default.bool,onFetchResults:al.default.func,onUpdateSortType:al.default.func,searchResultDescriptor:al.default.shape({id:al.default.number,itemCount:al.default.number}),sortSettings:al.default.shape({activeType:al.default.string,sortOrder:al.default.string})};var ZX="title",YX=Ac.ASCENDING,BBe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=yn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[l,d]=(0,Oc.useState)({activeType:ZX,sortOrder:YX}),g=(0,Oc.useCallback)((E,T)=>{d({sortOrder:T,activeType:E})},[]);return Oc.default.createElement(Oc.Fragment,null,r&&Oc.default.createElement(oNe,null),Oc.default.createElement(t,{customQuery:e,renderConsumer:E=>Oc.default.createElement(HN,je(je({onUpdateSortType:g},n),E)),sortSettings:l}))};BBe.propTypes=je({DataProvider:KX.default.elementType.isRequired,enableOverlayLayer:KX.default.bool},HN.propTypes);var WN=BBe;p();var QX=se(tt(),1),JX=se(ir(),1);p();var XX=se(tt(),1),ZN=se(ir(),1);var UBe=({name:e,color:t,size:r})=>XX.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},XX.default.createElement("use",{xlinkHref:`${zr.getSettings().ICON_SPRITE}#${e}`}));UBe.propTypes={name:ZN.default.string.isRequired,color:ZN.default.string,size:ZN.default.number};var ob=UBe;var VBe=({onClick:e,isOpen:t})=>{let r=hr(um);return QX.default.createElement("button",{className:xr("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:gt(`mapsearch-facetedsearch-${t?"close":"open"}`)},QX.default.createElement(ob,{name:"icon-filter"}))};VBe.propTypes={isOpen:JX.default.bool,onClick:JX.default.func};var $Be=VBe;p();var qa=se(tt(),1),Tm=se(ir(),1);p();var ogr=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},GBe=function(e,t){return{aggs:{minYear:{min:{field:e}},maxYear:{max:{field:t}}}}},agr=function(e,t){return{bool:{should:t.map(n=>({geo_shape:{[e]:{relation:"intersects",shape:{type:"polygon",coordinates:n}}}}))}}},HBe=function({timePeriodStartFieldName:e,timePeriodEndFieldName:t,timeValues:r,geometrySearchFieldName:n,geometrySearchPolygons:i,sortFieldName:o,sortValue:l,facets:d,customQueryExtension:g}){let[_,E]=r;return{query:{bool:{filter:[{range:{[e]:{lte:E}}},{range:{[t]:{gte:_}}},agr(n,i),ogr(d),{term:{has_georeference:!0}},...(g||[])],must:[{match_all:{}}]}},sort:{[o]:{order:l}}}};p();var eQ=function(e,t){let r="geometry"in t?t.geometry:void 0,n=[t.time_period_start,t.time_period_end];delete t.geometry,delete t.time_period_start,delete t.time_period_end;let i=je({},t);return i.id=e,i[rr.timePeriod]=n,i.type===Qa.VECTOR_MAP?(i[rr.vectorMapId]=e,bv.fromPersistence({geometry:r,metadata:i,geoJson:structuredClone(jW)})):new hv({metadata:i,geometry:r})},WBe=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(eQ(e[r]._id,e[r]._source));return t},YN=e=>{let n=e,{time_of_publication:t}=n,r=yn(n,["time_of_publication"]);return je({time_of_publication:parseInt(t.split("-")[0])},r)},tQ=e=>{let n=e,{time_of_publication:t}=n,r=yn(n,["time_of_publication"]);return je({time_of_publication:`${t}-01-01T00:00:00`},r)};p();p();var pUe=se(cUe(),1);function fUe(e,t={}){t.concavity=t.concavity||1/0;let r=[];if(SE(e,i=>{r.push([i[0],i[1]])}),!r.length)return null;let n=(0,pUe.default)(r,t.concavity);return n.length>3?cNe([n]):null}var eR={height:15,width:15},dUe={height:15,width:0},tR={width:340},cQ={width:340},hUe=(e,t,r)=>{let{map:n}=e,i=r<=2?30:r<=3.5?20:r<=5?10:5,o,l,d,g;t===Sp.VERTICAL?(o=0,l=n.height,d=n.width,g=0):(o=0+tR.width+eR.width,l=n.height-dUe.height-eR.height,d=n.width-cQ.width-eR.width,g=dUe.height+eR.height);let _=(d-o)/i,E=(g-l)/i,T=[];for(let A=0;A<i+1;A++)for(let L=0;L<i+1;L++)T.push([Math.round(o+A*_),Math.round(l+L*E)]);return T};function mUe(e,t){let r=e.map(o=>t.unproject(o).wrap().toArray()),n=[],i=ggr(r);return zr.isDebug()&&i.forEach(o=>{o.forEach(l=>{n.push({type:"Feature",geometry:{type:"Point",coordinates:l}})})}),i.forEach(o=>{let l=fUe(pNe(o.map(d=>uNe(d))));n.push(l)}),n}function ggr(e){let t=e.map(d=>d[0]),r=Math.min(...t);if(!(Math.max(...t)-r>180))return[e];let o=e.filter(d=>d[0]>=0);return[e.filter(d=>d[0]<0),o]}p();var gUe=se(ir(),1),vUe=se(tt(),1);function yUe({features:e}){let t=hr(bn);return(0,vUe.useEffect)(()=>{if(!t||!e)return;let r={type:"FeatureCollection",features:e},n="debug-search-source",i="debug-search-layer";if(!t.getSource(n))t.addSource(n,{type:"geojson",data:r}),t.addLayer({id:`${i}-polygon-fill`,type:"fill",source:n,paint:{"fill-color":"#209173","fill-opacity":.4}}),t.addLayer({id:`${i}-polygon-outline`,type:"line",source:n,paint:{"line-color":"#209173","line-width":2}}),t.addLayer({id:`${i}-point`,type:"circle",source:n,paint:{"circle-radius":5,"circle-color":"#0f0f0f","circle-stroke-width":1,"circle-stroke-color":"#0f0f0f"}});else{console.log("Zoom: ",t.getZoom());let o=t.getSource(n);o&&(console.log(r),o.setData(r))}},[t,e]),null}yUe.propTypes=gUe.default.array.isRequired;var _Ue=yUe;function vgr(e,t){return e.length!==t.length?!1:e.every((r,n)=>JSON.stringify(r)===JSON.stringify(t[n]))}var bUe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,l=hr(YO),{facets:d}=hr(um),g=hr(KO),_=hr(bn),[E,T]=(0,qa.useState)(void 0),A=di(QO),L=di(XO),[z,U]=Mn(ek),[N,R]=Mn(JO),[j,H]=(0,qa.useState)({itemCount:10,id:Date.now()}),re=zr.getSettings().API_SEARCH,ie=(0,qa.useCallback)(xe=>{let Ie=o===Ac.ASCENDING?"asc":"desc",de=xe.filter(Pe=>{var Ke;return((Ke=Pe==null?void 0:Pe.geometry)==null?void 0:Ke.type)==="Polygon"}).map(Pe=>Pe.geometry.coordinates);return HBe({timePeriodStartFieldName:"time_period_start",timePeriodEndFieldName:"time_period_end",timeValues:[`${N[0]}-01-01`,`${N[1]}-12-31`],geometrySearchFieldName:"geometry",geometrySearchPolygons:de,sortFieldName:i,sortValue:Ie,facets:d,customQueryExtension:e})},[d,i,o,N]),le=(0,qa.useCallback)((xe,Ie,de=!1)=>{if(E===void 0)return A(!1),new Promise(at=>at([]));let Pe=ie(E),Ke=re+"/_search?from="+xe+"&size="+Ie;return A(!0),Sa.post(Ke,Pe).then(at=>{if(at.status===200){let dt=at.data;return de?dt:WBe(dt.hits.hits)}}).catch(at=>{console.warn(at)}).finally(()=>{A(!1)})},[ie,E]),Me=(0,qa.useCallback)(()=>{le(0,0,!0).then(xe=>{let Ie=xe.hits.total.value;L(Ie),H({itemCount:Ie,id:Date.now()})})},[le]),we=dLe(Me,30),ye=(0,qa.useCallback)(()=>{if(Nt(_)){let xe=hUe(l,g,_.getZoom()),Ie=mUe(xe,_);(E===void 0||!vgr(Ie,E))&&T(Ie)}},[_,E,l]);return(0,qa.useEffect)(()=>{if(Nt(_))return _.on("moveend",ye),()=>{_.off("moveend",ye)}},[_,ye]),(0,qa.useEffect)(()=>{we()},[d,Me,E,i,o,N]),(0,qa.useEffect)(()=>{ye()},[l,_]),(0,qa.useEffect)(()=>{let xe=`${re}/_search?`,Ie=GBe("time_period_start","time_period_end");Sa.post(xe,Ie,{}).then(de=>{if(de.status===200){let Pe=de.data,Ke=new Date(Pe.aggregations.maxYear.value),dt=[new Date(Pe.aggregations.minYear.value).getUTCFullYear(),Ke.getUTCFullYear()];(z===void 0||uZ===z||dt[0]!==z[0]||dt[1]!==z[1])&&(U(dt),R(dt))}})},[]),qa.default.createElement(qa.default.Fragment,null,r({minimumBatchSize:t,onRefresh:Me,onFetchResults:le,searchResultDescriptor:j}),zr.isDebug()&&qa.default.createElement(_Ue,{features:E}))};bUe.propTypes={customQuery:Tm.default.array,minimumBatchSize:Tm.default.number,projection:Tm.default.string,renderConsumer:Tm.default.func,sortSettings:Tm.default.shape({activeType:Tm.default.string,sortOrder:Tm.default.string})};var xUe=bUe;var rR=se(ir(),1);var wUe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=Mn(um),[o,l]=(0,Po.useState)(!1),[d,g]=(0,Po.useState)(!1),_=hr(QO),E=hr(XO),T=()=>{l(L=>!L)},A=()=>{i(URe)};return(0,Po.useEffect)(()=>{g(_)},[_]),Po.default.createElement("div",{className:xr("mapsearch-container",o&&"facetedsearch-open")},Po.default.createElement("div",{className:"panel panel-default searchTablePanel"},Po.default.createElement("div",{className:"panel-heading"},Po.default.createElement("div",{className:"content"},Po.default.createElement("div",null,E===0?gt("mapsearch-found-no-maps"):`${E} ${gt("mapsearch-found-maps")}`),n.facets.length>0&&Po.default.createElement("button",{className:"remove-filter",onClick:A},Po.default.createElement(ob,{name:"icon-filter"})),d&&Po.default.createElement("div",{className:"loading-spinner"},Po.default.createElement(X_,null)),Po.default.createElement($Be,{onClick:T,isOpen:o})),Po.default.createElement("div",{className:"facet-container"},Po.default.createElement(FN,{georeferenceMode:!1,mosaicMode:r}))),Po.default.createElement("div",{className:"panel-body"},Po.default.createElement(WN,{customQuery:e,DataProvider:xUe,ListItemComponent:t}))))};wUe.propTypes={customQuery:rR.default.array,MapSearchListItemComponent:rR.default.elementType,mosaicMode:rR.default.bool};var SUe=wUe;p();p();var rL=se(tt(),1);p();p();var ai=se(tt(),1),Zp=se(ir(),1);p();p();p();p();p();p();function zn(e){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(e)}p();function EUe(e,t){if(zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nR(e){var t=EUe(e,"string");return zn(t)=="symbol"?t:t+""}function qt(e,t,r){return(t=nR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IUe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IUe(Object(r),!0).forEach(function(n){qt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IUe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}p();function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}p();function TUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nR(n.key),n)}}function ss(e,t,r){return t&&TUe(e.prototype,t),r&&TUe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}p();function ls(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}p();p();function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(e)}p();function pQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pQ=function(){return!!e})()}p();function MUe(e,t){if(t&&(zn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function us(e){var t=pQ();return function(){var r,n=kc(e);if(t){var i=kc(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return MUe(this,r)}}var wQ=se(tt());p();var fQ={},ygr=[],_gr=function(t){ygr.push(t)};function bgr(e,t){if(0)var r}function xgr(e,t){if(0)var r}function wgr(){fQ={}}function CUe(e,t,r){!t&&!fQ[r]&&(e(!1,r),fQ[r]=!0)}function iR(e,t){CUe(bgr,e,t)}function Sgr(e,t){CUe(xgr,e,t)}iR.preMessage=_gr;iR.resetWarned=wgr;iR.noteOnce=Sgr;var Vp=iR;p();var AUe=se(tt()),Egr=function(t){var r,n,i=t.className,o=t.included,l=t.vertical,d=t.style,g=t.length,_=t.offset,E=t.reverse;g<0&&(E=!E,g=Math.abs(g),_=100-_);var T=l?(r={},qt(r,E?"top":"bottom","".concat(_,"%")),qt(r,E?"bottom":"top","auto"),qt(r,"height","".concat(g,"%")),r):(n={},qt(n,E?"right":"left","".concat(_,"%")),qt(n,E?"left":"right","auto"),qt(n,"width","".concat(g,"%")),n),A=Wt(Wt({},d),T);return o?AUe.default.createElement("div",{className:i,style:A}):null},oR=Egr;p();p();function Ps(e,t){if(e==null)return{};var r,n,i=E_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}p();p();p();function $I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function PUe(e){if(Array.isArray(e))return $I(e)}p();function dQ(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}p();function GI(e,t){if(e){if(typeof e=="string")return $I(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$I(e,t):void 0}}p();function OUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Au(e){return PUe(e)||dQ(e)||GI(e)||OUe()}p();p();function kUe(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=kc(e))!==null;);return e}function sb(){return sb=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=kUe(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},sb.apply(null,arguments)}var ub=se(tt());p();var hQ=se(Ki());function Os(e,t,r,n){var i=hQ.default.unstable_batchedUpdates?function(l){hQ.default.unstable_batchedUpdates(r,l)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var BUe=se(mn());p();var mQ=se(tt()),DUe=se(mn());var Igr=function(t,r,n,i,o,l){Vp(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var d=Object.keys(r).map(parseFloat).sort(function(_,E){return _-E});if(n&&i)for(var g=o;g<=l;g+=i)d.indexOf(g)===-1&&d.push(g);return d},Tgr=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,l=t.dots,d=t.step,g=t.included,_=t.lowerBound,E=t.upperBound,T=t.max,A=t.min,L=t.dotStyle,z=t.activeDotStyle,U=T-A,N=Igr(n,o,l,d,A,T).map(function(R){var j,H="".concat(Math.abs(R-A)/U*100,"%"),Y=!g&&R===E||g&&R<=E&&R>=_,re=n?Wt(Wt({},L),{},qt({},i?"top":"bottom",H)):Wt(Wt({},L),{},qt({},i?"right":"left",H));Y&&(re=Wt(Wt({},re),z));var ie=(0,DUe.default)((j={},qt(j,"".concat(r,"-dot"),!0),qt(j,"".concat(r,"-dot-active"),Y),qt(j,"".concat(r,"-dot-reverse"),i),j));return mQ.default.createElement("span",{className:ie,style:re,key:R})});return mQ.default.createElement("div",{className:"".concat(r,"-step")},N)},NUe=Tgr;p();var aR=se(tt()),RUe=se(mn()),Mgr=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,l=t.included,d=t.upperBound,g=t.lowerBound,_=t.max,E=t.min,T=t.onClickLabel,A=Object.keys(o),L=_-E,z=A.map(parseFloat).sort(function(U,N){return U-N}).map(function(U){var N,R=o[U],j=zn(R)==="object"&&!aR.default.isValidElement(R),H=j?R.label:R;if(!H&&H!==0)return null;var Y=!l&&U===d||l&&U<=d&&U>=g,re=(0,RUe.default)((N={},qt(N,"".concat(r,"-text"),!0),qt(N,"".concat(r,"-text-active"),Y),N)),ie=qt({marginBottom:"-50%"},i?"top":"bottom","".concat((U-E)/L*100,"%")),le=qt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((U-E)/L*100,"%")),Me=n?ie:le,we=j?Wt(Wt({},Me),R.style):Me;return aR.default.createElement("span",{className:re,style:we,key:U,onMouseDown:function(xe){return T(xe,U)},onTouchStart:function(xe){return T(xe,U)}},H)});return aR.default.createElement("div",{className:r},z)},LUe=Mgr;p();var gQ=se(tt()),qUe=se(mn());var lb=function(e){ls(r,e);var t=us(r);function r(){var n;return as(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return ss(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Os(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,l=this.props,d=l.prefixCls,g=l.vertical,_=l.reverse,E=l.offset,T=l.style,A=l.disabled,L=l.min,z=l.max,U=l.value,N=l.tabIndex,R=l.ariaLabel,j=l.ariaLabelledBy,H=l.ariaValueTextFormatter,Y=Ps(l,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),re=(0,qUe.default)(this.props.className,qt({},"".concat(d,"-handle-click-focused"),this.state.clickFocused)),ie=g?(i={},qt(i,_?"top":"bottom","".concat(E,"%")),qt(i,_?"bottom":"top","auto"),qt(i,"transform",_?null:"translateY(+50%)"),i):(o={},qt(o,_?"right":"left","".concat(E,"%")),qt(o,_?"left":"right","auto"),qt(o,"transform","translateX(".concat(_?"+":"-","50%)")),o),le=Wt(Wt({},T),ie),Me=N||0;(A||N===null)&&(Me=null);var we;return H&&(we=H(U)),gQ.default.createElement("div",wn({ref:this.setHandleRef,tabIndex:Me},Y,{className:re,style:le,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":L,"aria-valuemax":z,"aria-valuenow":U,"aria-disabled":!!A,"aria-label":R,"aria-labelledby":j,"aria-valuetext":we}))}}]),r}(gQ.default.Component);p();var jUe=se(Ki());p();var Ur={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Ur.F1&&r<=Ur.F12)return!1;switch(r){case Ur.ALT:case Ur.CAPS_LOCK:case Ur.CONTEXT_MENU:case Ur.CTRL:case Ur.DOWN:case Ur.END:case Ur.ESC:case Ur.HOME:case Ur.INSERT:case Ur.LEFT:case Ur.MAC_FF_META:case Ur.META:case Ur.NUMLOCK:case Ur.NUM_CENTER:case Ur.PAGE_DOWN:case Ur.PAGE_UP:case Ur.PAUSE:case Ur.PRINT_SCREEN:case Ur.RIGHT:case Ur.SHIFT:case Ur.UP:case Ur.WIN_KEY:case Ur.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=Ur.ZERO&&t<=Ur.NINE||t>=Ur.NUM_ZERO&&t<=Ur.NUM_MULTIPLY||t>=Ur.A&&t<=Ur.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Ur.SPACE:case Ur.QUESTION_MARK:case Ur.NUM_PLUS:case Ur.NUM_MINUS:case Ur.NUM_PERIOD:case Ur.NUM_DIVISION:case Ur.SEMICOLON:case Ur.DASH:case Ur.EQUALS:case Ur.COMMA:case Ur.PERIOD:case Ur.SLASH:case Ur.APOSTROPHE:case Ur.SINGLE_QUOTE:case Ur.OPEN_SQUARE_BRACKET:case Ur.BACKSLASH:case Ur.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},fd=Ur;function sR(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,jUe.findDOMNode)(t[r])})}catch(r){return!1}}function lR(e,t){var r=t.min,n=t.max;return e<r||e>n}function vQ(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function zUe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,l=Object.keys(r).map(parseFloat);if(n!==null){var d=Math.pow(10,FUe(n)),g=Math.floor((o*d-i*d)/(n*d)),_=Math.min((e-i)/n,g),E=Math.round(_)*n+i;l.push(E)}var T=l.map(function(A){return Math.abs(e-A)});return l[T.indexOf(Math.min.apply(Math,Au(T)))]}function FUe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function yQ(e,t){return e?t.clientY:t.pageX}function _Q(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function bQ(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function HI(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function uR(e,t){var r=t.step,n=isFinite(zUe(e,t))?zUe(e,t):0;return r===null?n:parseFloat(n.toFixed(FUe(r)))}function dd(e){e.stopPropagation(),e.preventDefault()}function Cgr(e,t,r){var n={increase:function(d,g){return d+g},decrease:function(d,g){return d-g}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function cR(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case fd.UP:o=t&&r?i:n;break;case fd.RIGHT:o=!t&&r?i:n;break;case fd.DOWN:o=t&&r?n:i;break;case fd.LEFT:o=!t&&r?n:i;break;case fd.END:return function(l,d){return d.max};case fd.HOME:return function(l,d){return d.min};case fd.PAGE_UP:return function(l,d){return l+d.step*2};case fd.PAGE_DOWN:return function(l,d){return l-d.step*2};default:return}return function(l,d){return Cgr(o,l,d)}}function $p(){}function WI(e){var t;return t=function(r){ls(i,r);var n=us(i);function i(o){var l;as(this,i),l=n.call(this,o),l.onDown=function(T,A){var L=A,z=l.props,U=z.draggableTrack,N=z.vertical,R=l.state.bounds,j=U&&l.positionGetValue?l.positionGetValue(L)||[]:[],H=sR(T,l.handlesRefs);if(l.dragTrack=U&&R.length>=2&&!H&&!j.map(function(re,ie){var le=ie?!0:re>=R[ie];return ie===j.length-1?re<=R[ie]:le}).some(function(re){return!re}),l.dragTrack)l.dragOffset=L,l.startBounds=Au(R);else{if(!H)l.dragOffset=0;else{var Y=bQ(N,T.target);l.dragOffset=L-Y,L=Y}l.onStart(L)}},l.onMouseDown=function(T){if(T.button===0){l.removeDocumentEvents();var A=l.props.vertical,L=yQ(A,T);l.onDown(T,L),l.addDocumentMouseEvents()}},l.onTouchStart=function(T){if(!vQ(T)){var A=l.props.vertical,L=_Q(A,T);l.onDown(T,L),l.addDocumentTouchEvents(),dd(T)}},l.onFocus=function(T){var A=l.props,L=A.onFocus,z=A.vertical;if(sR(T,l.handlesRefs)&&!l.dragTrack){var U=bQ(z,T.target);l.dragOffset=0,l.onStart(U),dd(T),L&&L(T)}},l.onBlur=function(T){var A=l.props.onBlur;l.dragTrack||l.onEnd(),A&&A(T)},l.onMouseUp=function(){l.handlesRefs[l.prevMovedHandleIndex]&&l.handlesRefs[l.prevMovedHandleIndex].clickFocus()},l.onMouseMove=function(T){if(!l.sliderRef){l.onEnd();return}var A=yQ(l.props.vertical,T);l.onMove(T,A-l.dragOffset,l.dragTrack,l.startBounds)},l.onTouchMove=function(T){if(vQ(T)||!l.sliderRef){l.onEnd();return}var A=_Q(l.props.vertical,T);l.onMove(T,A-l.dragOffset,l.dragTrack,l.startBounds)},l.onKeyDown=function(T){l.sliderRef&&sR(T,l.handlesRefs)&&l.onKeyboard(T)},l.onClickMarkLabel=function(T,A){T.stopPropagation(),l.onChange({value:A}),l.setState({value:A},function(){return l.onEnd(!0)})},l.saveSlider=function(T){l.sliderRef=T};var d=o.step,g=o.max,_=o.min,E=isFinite(g-_)?(g-_)%d===0:!0;return Vp(d&&Math.floor(d)===d?E:!0,"Slider[max] - Slider[min] (".concat(g-_,") should be a multiple of Slider[step] (").concat(d,")")),l.handlesRefs={},l}return ss(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var l=this.props,d=l.autoFocus,g=l.disabled;d&&!g&&this.focus()}},{key:"componentWillUnmount",value:function(){sb(kc(i.prototype),"componentWillUnmount",this)&&sb(kc(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var l=this.sliderRef,d=this.props,g=d.vertical,_=d.reverse,E=l.getBoundingClientRect();return g?_?E.bottom:E.top:window.pageXOffset+(_?E.right:E.left)}},{key:"getSliderLength",value:function(){var l=this.sliderRef;if(!l)return 0;var d=l.getBoundingClientRect();return this.props.vertical?d.height:d.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Os(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Os(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Os(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Os(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var l;this.props.disabled||(l=this.handlesRefs[0])===null||l===void 0||l.focus()}},{key:"blur",value:function(){var l=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(d){var g,_;(g=l.handlesRefs[d])===null||g===void 0||(_=g.blur)===null||_===void 0||_.call(g)})}},{key:"calcValue",value:function(l){var d=this.props,g=d.vertical,_=d.min,E=d.max,T=Math.abs(Math.max(l,0)/this.getSliderLength()),A=g?(1-T)*(E-_)+_:T*(E-_)+_;return A}},{key:"calcValueByPos",value:function(l){var d=this.props.reverse?-1:1,g=d*(l-this.getSliderStart()),_=this.trimAlignValue(this.calcValue(g));return _}},{key:"calcOffset",value:function(l){var d=this.props,g=d.min,_=d.max,E=(l-g)/(_-g);return Math.max(0,E*100)}},{key:"saveHandle",value:function(l,d){this.handlesRefs[l]=d}},{key:"render",value:function(){var l,d=this.props,g=d.prefixCls,_=d.className,E=d.marks,T=d.dots,A=d.step,L=d.included,z=d.disabled,U=d.vertical,N=d.reverse,R=d.min,j=d.max,H=d.children,Y=d.maximumTrackStyle,re=d.style,ie=d.railStyle,le=d.dotStyle,Me=d.activeDotStyle,we=sb(kc(i.prototype),"render",this).call(this),ye=we.tracks,xe=we.handles,Ie=(0,BUe.default)(g,(l={},qt(l,"".concat(g,"-with-marks"),Object.keys(E).length),qt(l,"".concat(g,"-disabled"),z),qt(l,"".concat(g,"-vertical"),U),qt(l,_,_),l));return ub.default.createElement("div",{ref:this.saveSlider,className:Ie,onTouchStart:z?$p:this.onTouchStart,onMouseDown:z?$p:this.onMouseDown,onMouseUp:z?$p:this.onMouseUp,onKeyDown:z?$p:this.onKeyDown,onFocus:z?$p:this.onFocus,onBlur:z?$p:this.onBlur,style:re},ub.default.createElement("div",{className:"".concat(g,"-rail"),style:Wt(Wt({},Y),ie)}),ye,ub.default.createElement(NUe,{prefixCls:g,vertical:U,reverse:N,marks:E,dots:T,step:A,included:L,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:R,dotStyle:le,activeDotStyle:Me}),xe,ub.default.createElement(LUe,{className:"".concat(g,"-mark"),onClickLabel:z?$p:this.onClickMarkLabel,vertical:U,marks:E,included:L,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:R,reverse:N}),H)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Wt(Wt({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=Ps(n,["index"]);return delete o.dragging,o.value===null?null:ub.default.createElement(lb,wn({},o,{key:i}))},onBeforeChange:$p,onChange:$p,onAfterChange:$p,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var Agr=function(e){ls(r,e);var t=us(r);function r(n){var i;as(this,r),i=t.call(this,n),i.positionGetValue=function(d){return[]},i.onEnd=function(d){var g=i.state.dragging;i.removeDocumentEvents(),(g||d)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,l=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(l),dragging:!1},Vp(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Vp(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return ss(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var l=this.props,d=l.min,g=l.max,_=l.value,E=l.onChange;if("min"in this.props||"max"in this.props){var T=_!==void 0?_:o.value,A=this.trimAlignValue(T,this.props);A!==o.value&&(this.setState({value:A}),!(d===i.min&&g===i.max)&&lR(T,this.props)&&E(A))}}},{key:"onChange",value:function(i){var o=this.props,l=!("value"in o),d=i.value>this.props.max?Wt(Wt({},i),{},{value:this.props.max}):i;l&&this.setState(d);var g=d.value;o.onChange(g)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,l=this.getValue();o.onBeforeChange(l);var d=this.calcValueByPos(i);this.startValue=d,this.startPosition=i,d!==l&&(this.prevMovedHandleIndex=0,this.onChange({value:d}))}},{key:"onMove",value:function(i,o){dd(i);var l=this.state.value,d=this.calcValueByPos(o);d!==l&&this.onChange({value:d})}},{key:"onKeyboard",value:function(i){var o=this.props,l=o.reverse,d=o.vertical,g=cR(i,d,l);if(g){dd(i);var _=this.state,E=_.value,T=g(E,this.props),A=this.trimAlignValue(T);if(A===E)return;this.onChange({value:A}),this.props.onAfterChange(A),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var l=Wt(Wt({},this.props),o),d=HI(i,l);return uR(d,l)}},{key:"render",value:function(){var i=this,o=this.props,l=o.prefixCls,d=o.vertical,g=o.included,_=o.disabled,E=o.minimumTrackStyle,T=o.trackStyle,A=o.handleStyle,L=o.tabIndex,z=o.ariaLabelForHandle,U=o.ariaLabelledByForHandle,N=o.ariaValueTextFormatterForHandle,R=o.min,j=o.max,H=o.startPoint,Y=o.reverse,re=o.handle,ie=this.state,le=ie.value,Me=ie.dragging,we=this.calcOffset(le),ye=re({className:"".concat(l,"-handle"),prefixCls:l,vertical:d,offset:we,value:le,dragging:Me,disabled:_,min:R,max:j,reverse:Y,index:0,tabIndex:L,ariaLabel:z,ariaLabelledBy:U,ariaValueTextFormatter:N,style:A[0]||A,ref:function(Ke){return i.saveHandle(0,Ke)}}),xe=H!==void 0?this.calcOffset(H):0,Ie=T[0]||T,de=wQ.default.createElement(oR,{className:"".concat(l,"-track"),vertical:d,included:g,offset:xe,reverse:Y,length:we-xe,style:Wt(Wt({},E),Ie)});return{tracks:de,handles:ye}}}]),r}(wQ.default.Component),UUe=WI(Agr);p();var SQ=se(tt()),EQ=se(mn());var ZI=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,l=o.allowCross,d=o.pushable,g=Number(d),_=HI(r,o),E=_;return!l&&n!=null&&i!==void 0&&(n>0&&_<=i[n-1]+g&&(E=i[n-1]+g),n<i.length-1&&_>=i[n+1]-g&&(E=i[n+1]-g)),uR(E,o)},IQ=function(e){ls(r,e);var t=us(r);function r(n){var i;as(this,r),i=t.call(this,n),i.positionGetValue=function(L){var z=i.getValue(),U=i.calcValueByPos(L),N=i.getClosestBound(U),R=i.getBoundNeedMoving(U,N),j=z[R];if(U===j)return null;var H=Au(z);return H[R]=U,H},i.onEnd=function(L){var z=i.state.handle;i.removeDocumentEvents(),z||(i.dragTrack=!1),(z!==null||L)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,l=n.min,d=n.max,g=Array.apply(void 0,Au(Array(o+1))).map(function(){return l}),_="defaultValue"in n?n.defaultValue:g,E=n.value!==void 0?n.value:_,T=E.map(function(L,z){return ZI({value:L,handle:z,props:n})}),A=T[0]===d?0:T.length-1;return i.state={handle:null,recent:A,bounds:T},i}return ss(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var l=this,d=this.props,g=d.onChange,_=d.value,E=d.min,T=d.max;if(("min"in this.props||"max"in this.props)&&!(E===i.min&&T===i.max)){var A=_||o.bounds;if(A.some(function(z){return lR(z,l.props)})){var L=A.map(function(z){return HI(z,l.props)});g(L)}}}},{key:"onChange",value:function(i){var o=this.props,l=!("value"in o);if(l)this.setState(i);else{var d={};["handle","recent"].forEach(function(E){i[E]!==void 0&&(d[E]=i[E])}),Object.keys(d).length&&this.setState(d)}var g=Wt(Wt({},this.state),i),_=g.bounds;o.onChange(_)}},{key:"onStart",value:function(i){var o=this.props,l=this.state,d=this.getValue();o.onBeforeChange(d);var g=this.calcValueByPos(i);this.startValue=g,this.startPosition=i;var _=this.getClosestBound(g);this.prevMovedHandleIndex=this.getBoundNeedMoving(g,_),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var E=d[this.prevMovedHandleIndex];if(g!==E){var T=Au(l.bounds);T[this.prevMovedHandleIndex]=g,this.onChange({bounds:T})}}},{key:"onMove",value:function(i,o,l,d){dd(i);var g=this.state,_=this.props,E=_.max||100,T=_.min||0;if(l){var A=_.vertical?-o:o;A=_.reverse?-A:A;var L=E-Math.max.apply(Math,Au(d)),z=T-Math.min.apply(Math,Au(d)),U=Math.min(Math.max(A/(this.getSliderLength()/(E-T)),z),L),N=d.map(function(H){return Math.floor(Math.max(Math.min(H+U,E),T))});g.bounds.map(function(H,Y){return H===N[Y]}).some(function(H){return!H})&&this.onChange({bounds:N});return}var R=this.calcValueByPos(o),j=g.bounds[g.handle];R!==j&&this.moveTo(R)}},{key:"onKeyboard",value:function(i){var o=this.props,l=o.reverse,d=o.vertical,g=cR(i,d,l);if(g){dd(i);var _=this.state,E=this.props,T=_.bounds,A=_.handle,L=T[A===null?_.recent:A],z=g(L,E),U=ZI({value:z,handle:A,bounds:_.bounds,props:E});if(U===L)return;var N=!0;this.moveTo(U,N)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,l=0,d=1;d<o.length-1;d+=1)i>=o[d]&&(l=d);return Math.abs(o[l+1]-i)<Math.abs(o[l]-i)&&(l+=1),l}},{key:"getBoundNeedMoving",value:function(i,o){var l=this.state,d=l.bounds,g=l.recent,_=o,E=d[o+1]===d[o];return E&&d[g]===d[o]&&(_=g),E&&i!==d[o+1]&&(_=i<d[o+1]?o:o+1),_}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,l=i.step,d=i.min,g=i.max,_=this.internalPointsCache;if(!_||_.marks!==o||_.step!==l){var E=Wt({},o);if(l!==null)for(var T=d;T<=g;T+=l)E[T]=T;var A=Object.keys(E).map(parseFloat);A.sort(function(L,z){return L-z}),this.internalPointsCache={marks:o,step:l,points:A}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var l=this,d=this.state,g=this.props,_=Au(d.bounds),E=d.handle===null?d.recent:d.handle;_[E]=i;var T=E;g.pushable!==!1?this.pushSurroundingHandles(_,T):g.allowCross&&(_.sort(function(A,L){return A-L}),T=_.indexOf(i)),this.onChange({recent:T,handle:T,bounds:_}),o&&(this.props.onAfterChange(_),this.setState({},function(){l.handlesRefs[T].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var l=i[o],d=this.props.pushable,g=Number(d),_=0;if(i[o+1]-l<g&&(_=1),l-i[o-1]<g&&(_=-1),_!==0){var E=o+_,T=_*(i[E]-l);this.pushHandle(i,E,_,g-T)||(i[o]=i[E]-_*g)}}},{key:"pushHandle",value:function(i,o,l,d){for(var g=i[o],_=i[o];l*(_-g)<d;){if(!this.pushHandleOnePoint(i,o,l))return i[o]=g,!1;_=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,l){var d=this.getPoints(),g=d.indexOf(i[o]),_=g+l;if(_>=d.length||_<0)return!1;var E=o+l,T=d[_],A=this.props.pushable,L=Number(A),z=l*(i[E]-T);return this.pushHandle(i,E,l,L-z)?(i[o]=T,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,l=o.handle,d=o.bounds;return ZI({value:i,handle:l,bounds:d,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,l=o.handle,d=o.bounds,g=this.props,_=g.prefixCls,E=g.vertical,T=g.included,A=g.disabled,L=g.min,z=g.max,U=g.reverse,N=g.handle,R=g.trackStyle,j=g.handleStyle,H=g.tabIndex,Y=g.ariaLabelGroupForHandles,re=g.ariaLabelledByGroupForHandles,ie=g.ariaValueTextFormatterGroupForHandles,le=d.map(function(xe){return i.calcOffset(xe)}),Me="".concat(_,"-handle"),we=d.map(function(xe,Ie){var de,Pe=H[Ie]||0;(A||H[Ie]===null)&&(Pe=null);var Ke=l===Ie;return N({className:(0,EQ.default)((de={},qt(de,Me,!0),qt(de,"".concat(Me,"-").concat(Ie+1),!0),qt(de,"".concat(Me,"-dragging"),Ke),de)),prefixCls:_,vertical:E,dragging:Ke,offset:le[Ie],value:xe,index:Ie,tabIndex:Pe,min:L,max:z,reverse:U,disabled:A,style:j[Ie],ref:function(dt){return i.saveHandle(Ie,dt)},ariaLabel:Y[Ie],ariaLabelledBy:re[Ie],ariaValueTextFormatter:ie[Ie]})}),ye=d.slice(0,-1).map(function(xe,Ie){var de,Pe=Ie+1,Ke=(0,EQ.default)((de={},qt(de,"".concat(_,"-track"),!0),qt(de,"".concat(_,"-track-").concat(Pe),!0),de));return SQ.default.createElement(oR,{className:Ke,vertical:E,reverse:U,included:T,offset:le[Pe-1],length:le[Pe]-le[Pe-1],style:R[Ie],key:Pe})});return{tracks:ye,handles:we}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var l=i.value||o.bounds,d=l.map(function(g,_){return ZI({value:g,handle:_,bounds:o.bounds,props:i})});if(o.bounds.length===d.length){if(d.every(function(g,_){return g===o.bounds[_]}))return null}else d=l.map(function(g,_){return ZI({value:g,handle:_,props:i})});return Wt(Wt({},o),{},{bounds:d})}}]),r}(SQ.default.Component);IQ.displayName="Range";IQ.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var pR=WI(IQ);p();var sT=se(tt());p();var vd=se(tt());p();p();var lJ=se(tt()),vb=se(tt());p();var Bl=se(tt()),C$e=se(Ki());p();var $Ue=function(t){return+setTimeout(t,16)},GUe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&($Ue=function(t){return window.requestAnimationFrame(t)},GUe=function(t){return window.cancelAnimationFrame(t)});var VUe=0,TQ=new Map;function HUe(e){TQ.delete(e)}var WUe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;VUe+=1;var n=VUe;function i(o){if(o===0)HUe(n),t();else{var l=$Ue(function(){i(o-1)});TQ.set(n,l)}}return i(r),n};WUe.cancel=function(e){var t=TQ.get(e);return HUe(e),GUe(t)};var sl=WUe;p();function Bv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}p();var YUe=se(tt()),MQ=se(Ki());function ZUe(e){return e instanceof HTMLElement||e instanceof SVGElement}function Pgr(e){return e&&zn(e)==="object"&&ZUe(e.nativeElement)?e.nativeElement:ZUe(e)?e:null}function YI(e){var t=Pgr(e);if(t)return t;if(e instanceof YUe.default.Component){var r;return(r=MQ.default.findDOMNode)===null||r===void 0?void 0:r.call(MQ.default,e)}return null}p();var wR=se(tt()),KI=se(JUe());p();var Dgr=se(tt());p();var Ngr=Symbol.for("react.element"),Rgr=Symbol.for("react.transitional.element"),Lgr=Symbol.for("react.fragment");function PQ(e){return e&&zn(e)==="object"&&(e.$$typeof===Ngr||e.$$typeof===Rgr)&&e.type===Lgr}var qgr=Number(wR.version.split(".")[0]),OQ=function(t,r){typeof t=="function"?t(r):zn(t)==="object"&&t&&"current"in t&&(t.current=r)},cb=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(o){r.forEach(function(l){OQ(l,o)})}};var XI=function(t){var r,n;if(!t)return!1;if(eVe(t)&&qgr>=19)return!0;var i=(0,KI.isMemo)(t)?t.type.type:t.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==KI.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==KI.ForwardRef)};function eVe(e){return(0,wR.isValidElement)(e)&&!PQ(e)}var tVe=function(t){if(t&&eVe(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null};p();var Dc=se(tt()),rVe=se(Ki());p();function Gp(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var zgr=(0,Dc.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,Dc.useRef)(),l=(0,Dc.useRef)();(0,Dc.useImperativeHandle)(t,function(){return{}});var d=(0,Dc.useRef)(!1);return!d.current&&Gp()&&(l.current=n(),o.current=l.current.parentNode,d.current=!0),(0,Dc.useEffect)(function(){r==null||r(e)}),(0,Dc.useEffect)(function(){return l.current.parentNode===null&&o.current!==null&&o.current.appendChild(l.current),function(){var g;(g=l.current)===null||g===void 0||(g=g.parentNode)===null||g===void 0||g.removeChild(l.current)}},[]),l.current?rVe.default.createPortal(i,l.current):null}),nVe=zgr;var A$e=se(mn());p();function jgr(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function iVe(e,t,r){var n=e[t]||{};return Wt(Wt({},n),r)}function oVe(e,t,r,n){for(var i=r.points,o=Object.keys(e),l=0;l<o.length;l+=1){var d=o[l];if(jgr(e[d].points,i,n))return"".concat(t,"-placement-").concat(d)}return""}p();p();p();function kQ(e){if(Array.isArray(e))return e}p();function aVe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,d=[],g=!0,_=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;g=!1}else for(;!(g=(n=o.call(r)).done)&&(d.push(n.value),d.length!==t);g=!0);}catch(E){_=!0,i=E}finally{try{if(!g&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(_)throw i}}return d}}p();function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e,t){return kQ(e)||aVe(e,t)||GI(e,t)||DQ()}var Gv=se(tt()),aT=se(tt());p();var sVe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};p();var VQ=se(tt()),MVe=se(mn());p();p();var IVe=se(mn());var ul=se(tt()),UQ=se(tt());p();var NQ=se(tt());var lVe=NQ.createContext({});p();var uVe=se(tt()),Fgr=function(e){ls(r,e);var t=us(r);function r(){return as(this,r),t.apply(this,arguments)}return ss(r,[{key:"render",value:function(){return this.props.children}}]),r}(uVe.Component),cVe=Fgr;p();p();p();var SR=se(tt());function Mm(e){var t=SR.useRef();t.current=e;var r=SR.useCallback(function(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(o))},[]);return r}p();p();var pb=se(tt());var pVe=Gp()?pb.useLayoutEffect:pb.useEffect,Bgr=function(t,r){var n=pb.useRef(!0);pVe(function(){return t(n.current)},r),pVe(function(){return n.current=!1,function(){n.current=!0}},[])};var QI=Bgr;p();var fb=se(tt());function hd(e){var t=fb.useRef(!1),r=fb.useState(e),n=jn(r,2),i=n[0],o=n[1];fb.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function l(d,g){g&&t.current||o(d)}return[i,l]}p();p();p();p();var ER=se(tt());function RQ(e){var t=ER.useReducer(function(d){return d+1},0),r=jn(t,2),n=r[1],i=ER.useRef(e),o=Mm(function(){return i.current}),l=Mm(function(d){i.current=typeof d=="function"?d(i.current):d,n()});return[o,l]}var DR=se(tt()),gd=se(tt());p();var Hp="none",JI="appear",eT="enter",tT="leave",LQ="none",ll="prepare",md="start",Cm="active",IR="end",TR="prepared";p();var yVe=se(tt()),_Ve=se(tt());p();function fVe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Vgr(e,t){var r={animationend:fVe("Animation","AnimationEnd"),transitionend:fVe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var $gr=Vgr(Gp(),typeof window!="undefined"?window:{}),hVe={};Gp()&&(dVe=document.createElement("div"),hVe=dVe.style);var dVe,MR={};function mVe(e){if(MR[e])return MR[e];var t=$gr[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in hVe)return MR[e]=t[o],MR[e]}return""}var gVe=mVe("animationend"),vVe=mVe("transitionend"),CR=!!(gVe&&vVe),qQ=gVe||"animationend",zQ=vVe||"transitionend";function jQ(e,t){if(!e)return null;if(zn(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var bVe=function(e){var t=(0,_Ve.useRef)();function r(i){i&&(i.removeEventListener(zQ,e),i.removeEventListener(qQ,e))}function n(i){t.current&&t.current!==i&&r(t.current),i&&i!==t.current&&(i.addEventListener(zQ,e),i.addEventListener(qQ,e),t.current=i)}return yVe.useEffect(function(){return function(){r(t.current)}},[]),[n,r]};p();var AR=se(tt()),Ggr=Gp()?AR.useLayoutEffect:AR.useEffect,PR=Ggr;p();var wVe=se(tt());p();var OR=se(tt()),xVe=function(){var e=OR.useRef(null);function t(){sl.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=sl(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return OR.useEffect(function(){return function(){t()}},[]),[r,t]};var Hgr=[ll,md,Cm,IR],Wgr=[ll,TR],FQ=!1,SVe=!0;function kR(e){return e===Cm||e===IR}var EVe=function(e,t,r){var n=hd(LQ),i=jn(n,2),o=i[0],l=i[1],d=xVe(),g=jn(d,2),_=g[0],E=g[1];function T(){l(ll,!0)}var A=t?Wgr:Hgr;return PR(function(){if(o!==LQ&&o!==IR){var L=A.indexOf(o),z=A[L+1],U=r(o);U===FQ?l(z,!0):z&&_(function(N){function R(){N.isCanceled()||l(z,!0)}U===!0?R():Promise.resolve(U).then(R)})}},[e,o]),wVe.useEffect(function(){return function(){E()}},[]),[T,o]};function BQ(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,l=n.motionAppear,d=l===void 0?!0:l,g=n.motionLeave,_=g===void 0?!0:g,E=n.motionDeadline,T=n.motionLeaveImmediately,A=n.onAppearPrepare,L=n.onEnterPrepare,z=n.onLeavePrepare,U=n.onAppearStart,N=n.onEnterStart,R=n.onLeaveStart,j=n.onAppearActive,H=n.onEnterActive,Y=n.onLeaveActive,re=n.onAppearEnd,ie=n.onEnterEnd,le=n.onLeaveEnd,Me=n.onVisibleChanged,we=hd(),ye=jn(we,2),xe=ye[0],Ie=ye[1],de=RQ(Hp),Pe=jn(de,2),Ke=Pe[0],at=Pe[1],dt=hd(null),ze=jn(dt,2),ct=ze[0],_t=ze[1],It=Ke(),Ye=(0,gd.useRef)(!1),pt=(0,gd.useRef)(null);function ot(){return r()}var Ve=(0,gd.useRef)(!1);function Oe(){at(Hp),_t(null,!0)}var He=Mm(function(Er){var Ae=Ke();if(Ae!==Hp){var We=ot();if(!(Er&&!Er.deadline&&Er.target!==We)){var Ze=Ve.current,Ct;Ae===JI&&Ze?Ct=re==null?void 0:re(We,Er):Ae===eT&&Ze?Ct=ie==null?void 0:ie(We,Er):Ae===tT&&Ze&&(Ct=le==null?void 0:le(We,Er)),Ze&&Ct!==!1&&Oe()}}}),Fe=bVe(He),lt=jn(Fe,1),st=lt[0],yt=function(Ae){switch(Ae){case JI:return qt(qt(qt({},ll,A),md,U),Cm,j);case eT:return qt(qt(qt({},ll,L),md,N),Cm,H);case tT:return qt(qt(qt({},ll,z),md,R),Cm,Y);default:return{}}},vt=DR.useMemo(function(){return yt(It)},[It]),At=EVe(It,!e,function(Er){if(Er===ll){var Ae=vt[ll];return Ae?Ae(ot()):FQ}if(Rt in vt){var We;_t(((We=vt[Rt])===null||We===void 0?void 0:We.call(vt,ot(),null))||null)}return Rt===Cm&&It!==Hp&&(st(ot()),E>0&&(clearTimeout(pt.current),pt.current=setTimeout(function(){He({deadline:!0})},E))),Rt===TR&&Oe(),SVe}),Zt=jn(At,2),Tt=Zt[0],Rt=Zt[1],tr=kR(Rt);Ve.current=tr;var Sr=(0,gd.useRef)(null);PR(function(){if(!(Ye.current&&Sr.current===t)){Ie(t);var Er=Ye.current;Ye.current=!0;var Ae;!Er&&t&&d&&(Ae=JI),Er&&t&&o&&(Ae=eT),(Er&&!t&&_||!Er&&T&&!t&&_)&&(Ae=tT);var We=yt(Ae);Ae&&(e||We[ll])?(at(Ae),Tt()):at(Hp),Sr.current=t}},[t]),(0,gd.useEffect)(function(){(It===JI&&!d||It===eT&&!o||It===tT&&!_)&&at(Hp)},[d,o,_]),(0,gd.useEffect)(function(){return function(){Ye.current=!1,clearTimeout(pt.current)}},[]);var kr=DR.useRef(!1);(0,gd.useEffect)(function(){xe&&(kr.current=!0),xe!==void 0&&It===Hp&&((kr.current||xe)&&(Me==null||Me(xe)),kr.current=!0)},[xe,It]);var pr=ct;return vt[ll]&&Rt===md&&(pr=Wt({transition:"none"},pr)),[It,Rt,pr,xe!=null?xe:t]}function Zgr(e){var t=e;zn(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=ul.forwardRef(function(i,o){var l=i.visible,d=l===void 0?!0:l,g=i.removeOnLeave,_=g===void 0?!0:g,E=i.forceRender,T=i.children,A=i.motionName,L=i.leavedClassName,z=i.eventProps,U=ul.useContext(lVe),N=U.motion,R=r(i,N),j=(0,UQ.useRef)(),H=(0,UQ.useRef)();function Y(){try{return j.current instanceof HTMLElement?j.current:YI(H.current)}catch(ze){return null}}var re=BQ(R,d,Y,i),ie=jn(re,4),le=ie[0],Me=ie[1],we=ie[2],ye=ie[3],xe=ul.useRef(ye);ye&&(xe.current=!0);var Ie=ul.useCallback(function(ze){j.current=ze,OQ(o,ze)},[o]),de,Pe=Wt(Wt({},z),{},{visible:d});if(!T)de=null;else if(le===Hp)ye?de=T(Wt({},Pe),Ie):!_&&xe.current&&L?de=T(Wt(Wt({},Pe),{},{className:L}),Ie):E||!_&&!L?de=T(Wt(Wt({},Pe),{},{style:{display:"none"}}),Ie):de=null;else{var Ke;Me===ll?Ke="prepare":kR(Me)?Ke="active":Me===md&&(Ke="start");var at=jQ(A,"".concat(le,"-").concat(Ke));de=T(Wt(Wt({},Pe),{},{className:(0,IVe.default)(jQ(A,le),qt(qt({},at,at&&Ke),A,typeof A=="string")),style:we}),Ie)}if(ul.isValidElement(de)&&XI(de)){var dt=tVe(de);dt||(de=ul.cloneElement(de,{ref:Ie}))}return ul.createElement(cVe,{ref:H},de)});return n.displayName="CSSMotion",n}var NR=Zgr(CR);p();var Uv=se(tt());p();var RR="add",LR="keep",qR="remove",jR="removed";function Ygr(e){var t;return e&&zn(e)==="object"&&"key"in e?t=e:t={key:e},Wt(Wt({},t),{},{key:String(t.key)})}function zR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Ygr)}function TVe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=zR(e),l=zR(t);o.forEach(function(_){for(var E=!1,T=n;T<i;T+=1){var A=l[T];if(A.key===_.key){n<T&&(r=r.concat(l.slice(n,T).map(function(L){return Wt(Wt({},L),{},{status:RR})})),n=T),r.push(Wt(Wt({},A),{},{status:LR})),n+=1,E=!0;break}}E||r.push(Wt(Wt({},_),{},{status:qR}))}),n<i&&(r=r.concat(l.slice(n).map(function(_){return Wt(Wt({},_),{},{status:RR})})));var d={};r.forEach(function(_){var E=_.key;d[E]=(d[E]||0)+1});var g=Object.keys(d).filter(function(_){return d[_]>1});return g.forEach(function(_){r=r.filter(function(E){var T=E.key,A=E.status;return T!==_||A!==qR}),r.forEach(function(E){E.key===_&&(E.status=LR)})}),r}var Kgr=["component","children","onVisibleChanged","onAllRemoved"],Xgr=["status"],Qgr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Jgr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NR,r=function(n){ls(o,n);var i=us(o);function o(){var l;as(this,o);for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];return l=i.call.apply(i,[this].concat(g)),qt(Qr(l),"state",{keyEntities:[]}),qt(Qr(l),"removeKey",function(E){l.setState(function(T){var A=T.keyEntities.map(function(L){return L.key!==E?L:Wt(Wt({},L),{},{status:jR})});return{keyEntities:A}},function(){var T=l.state.keyEntities,A=T.filter(function(L){var z=L.status;return z!==jR}).length;A===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return ss(o,[{key:"render",value:function(){var d=this,g=this.state.keyEntities,_=this.props,E=_.component,T=_.children,A=_.onVisibleChanged,L=_.onAllRemoved,z=Ps(_,Kgr),U=E||Uv.Fragment,N={};return Qgr.forEach(function(R){N[R]=z[R],delete z[R]}),delete z.keys,Uv.createElement(U,z,g.map(function(R,j){var H=R.status,Y=Ps(R,Xgr),re=H===RR||H===LR;return Uv.createElement(t,wn({},N,{key:Y.key,visible:re,eventProps:Y,onVisibleChanged:function(le){A==null||A(le,{key:Y.key}),le||d.removeKey(Y.key)}}),function(ie,le){return T(Wt(Wt({},ie),{},{index:j}),le)})}))}}],[{key:"getDerivedStateFromProps",value:function(d,g){var _=d.keys,E=g.keyEntities,T=zR(_),A=TVe(E,T);return{keyEntities:A.filter(function(L){var z=E.find(function(U){var N=U.key;return L.key===N});return!(z&&z.status===jR&&L.status===qR)})}}}]),o}(Uv.Component);return qt(r,"defaultProps",{component:"div"}),r}var evr=Jgr(CR);var db=NR;p();function FR(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function $Q(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,l=e.maskAnimation,d=e.maskTransitionName;if(!i)return null;var g={};return(o||d||l)&&(g=Wt({motionAppear:!0},FR({motion:o,prefixCls:t,transitionName:d,animation:l}))),VQ.createElement(db,wn({},g,{visible:r,removeOnLeave:!0}),function(_){var E=_.className;return VQ.createElement("div",{style:{zIndex:n},className:(0,MVe.default)("".concat(t,"-mask"),E)})})}p();var Fl=se(tt()),$v=se(tt());p();p();p();function CVe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CVe(Object(r),!0).forEach(function(n){tvr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CVe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e){"@babel/helpers - typeof";return YQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YQ(e)}function tvr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rT,rvr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function GR(){if(rT!==void 0)return rT;rT="";var e=document.createElement("p").style,t="Transform";for(var r in rvr)r+t in e&&(rT=r);return rT}function UVe(){return GR()?"".concat(GR(),"TransitionProperty"):"transitionProperty"}function HR(){return GR()?"".concat(GR(),"Transform"):"transform"}function PVe(e,t){var r=UVe();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function GQ(e,t){var r=HR();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function nvr(e){return e.style.transitionProperty||e.style[UVe()]}function ivr(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(HR());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var ovr=/matrix\((.*)\)/,avr=/matrix3d\((.*)\)/;function svr(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(HR());if(n&&n!=="none"){var i,o=n.match(ovr);if(o)o=o[1],i=o.split(",").map(function(d){return parseFloat(d,10)}),i[4]=t.x,i[5]=t.y,GQ(e,"matrix(".concat(i.join(","),")"));else{var l=n.match(avr)[1];i=l.split(",").map(function(d){return parseFloat(d,10)}),i[12]=t.x,i[13]=t.y,GQ(e,"matrix3d(".concat(i.join(","),")"))}}else GQ(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var lvr=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,oT;function OVe(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function hb(e,t,r){var n=r;if(YQ(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&hb(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return oT(e,t)}function uvr(e){var t,r,n,i=e.ownerDocument,o=i.body,l=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=l.clientLeft||o.clientLeft||0,n-=l.clientTop||o.clientTop||0,{left:r,top:n}}function VVe(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function $Ve(e){return VVe(e)}function GVe(e){return VVe(e,!0)}function iT(e){var t=uvr(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=$Ve(n),t.top+=GVe(n),t}function JQ(e){return e!=null&&e==e.window}function HVe(e){return JQ(e)?e.document:e.nodeType===9?e:e.ownerDocument}function cvr(e,t,r){var n=r,i="",o=HVe(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var pvr=new RegExp("^(".concat(lvr,")(?!px)[a-z%]+$"),"i"),fvr=/^(top|right|bottom|left)$/,HQ="currentStyle",WQ="runtimeStyle",Vv="left",dvr="px";function hvr(e,t){var r=e[HQ]&&e[HQ][t];if(pvr.test(r)&&!fvr.test(t)){var n=e.style,i=n[Vv],o=e[WQ][Vv];e[WQ][Vv]=e[HQ][Vv],n[Vv]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+dvr,n[Vv]=i,e[WQ][Vv]=o}return r===""?"auto":r}typeof window!="undefined"&&(oT=window.getComputedStyle?cvr:hvr);function BR(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function kVe(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function DVe(e,t,r){hb(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=BR("left",r),l=BR("top",r),d=kVe(o),g=kVe(l);o!=="left"&&(n=999),l!=="top"&&(i=999);var _="",E=iT(e);("left"in t||"top"in t)&&(_=nvr(e)||"",PVe(e,"none")),"left"in t&&(e.style[d]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[g]="",e.style[l]="".concat(i,"px")),OVe(e);var T=iT(e),A={};for(var L in t)if(t.hasOwnProperty(L)){var z=BR(L,r),U=L==="left"?n:i,N=E[L]-T[L];z===L?A[z]=U+N:A[z]=U-N}hb(e,A),OVe(e),("left"in t||"top"in t)&&PVe(e,_);var R={};for(var j in t)if(t.hasOwnProperty(j)){var H=BR(j,r),Y=t[j]-E[j];j===H?R[H]=A[H]+Y:R[H]=A[H]-Y}hb(e,R)}function mvr(e,t){var r=iT(e),n=ivr(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),svr(e,i)}function gvr(e,t,r){if(r.ignoreShake){var n=iT(e),i=n.left.toFixed(0),o=n.top.toFixed(0),l=t.left.toFixed(0),d=t.top.toFixed(0);if(i===l&&o===d)return}r.useCssRight||r.useCssBottom?DVe(e,t,r):r.useCssTransform&&HR()in document.body.style?mvr(e,t):DVe(e,t,r)}function eJ(e,t){for(var r=0;r<e.length;r++)t(e[r])}function WVe(e){return oT(e,"boxSizing")==="border-box"}var vvr=["margin","border","padding"],KQ=-1,yvr=2,XQ=1,_vr=0;function bvr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function nT(e,t,r){var n=0,i,o,l;for(o=0;o<t.length;o++)if(i=t[o],i)for(l=0;l<r.length;l++){var d=void 0;i==="border"?d="".concat(i).concat(r[l],"Width"):d=i+r[l],n+=parseFloat(oT(e,d))||0}return n}var Wp={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};eJ(["Width","Height"],function(e){Wp["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Wp["viewport".concat(e)](r))},Wp["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,l=o[r];return n.compatMode==="CSS1Compat"&&l||i&&i[r]||l}});function NVe(e,t,r){var n=r;if(JQ(e))return t==="width"?Wp.viewportWidth(e):Wp.viewportHeight(e);if(e.nodeType===9)return t==="width"?Wp.docWidth(e):Wp.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),l=WVe(e),d=0;(o==null||o<=0)&&(o=void 0,d=oT(e,t),(d==null||Number(d)<0)&&(d=e.style[t]||0),d=Math.floor(parseFloat(d))||0),n===void 0&&(n=l?XQ:KQ);var g=o!==void 0||l,_=o||d;return n===KQ?g?_-nT(e,["border","padding"],i):d:g?n===XQ?_:_+(n===yvr?-nT(e,["border"],i):nT(e,["margin"],i)):d+nT(e,vvr.slice(n),i)}var xvr={position:"absolute",visibility:"hidden",display:"block"};function RVe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=NVe.apply(void 0,t):bvr(i,xvr,function(){n=NVe.apply(void 0,t)}),n}eJ(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Wp["outer".concat(t)]=function(n,i){return n&&RVe(n,e,i?_vr:XQ)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Wp[e]=function(n,i){var o=i;if(o!==void 0){if(n){var l=WVe(n);return l&&(o+=nT(n,["padding","border"],r)),hb(n,e,o)}return}return n&&RVe(n,e,KQ)}});function ZVe(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var nn={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:HVe,offset:function(t,r,n){if(typeof r!="undefined")gvr(t,r,n||{});else return iT(t)},isWindow:JQ,each:eJ,css:hb,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:ZVe,getWindowScrollLeft:function(t){return $Ve(t)},getWindowScrollTop:function(t){return GVe(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)nn.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};ZVe(nn,Wp);var ZQ=nn.getParent;function QQ(e){if(nn.isWindow(e)||e.nodeType===9)return null;var t=nn.getDocument(e),r=t.body,n,i=nn.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:ZQ(e);for(n=ZQ(e);n&&n!==r&&n.nodeType!==9;n=ZQ(n))if(i=nn.css(n,"position"),i!=="static")return n;return null}var LVe=nn.getParent;function wvr(e){if(nn.isWindow(e)||e.nodeType===9)return!1;var t=nn.getDocument(e),r=t.body,n=null;for(n=LVe(e);n&&n!==r&&n!==t;n=LVe(n)){var i=nn.css(n,"position");if(i==="fixed")return!0}return!1}function tJ(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=QQ(e),i=nn.getDocument(e),o=i.defaultView||i.parentWindow,l=i.body,d=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==l&&n!==d&&nn.css(n,"overflow")!=="visible"){var g=nn.offset(n);g.left+=n.clientLeft,g.top+=n.clientTop,r.top=Math.max(r.top,g.top),r.right=Math.min(r.right,g.left+n.clientWidth),r.bottom=Math.min(r.bottom,g.top+n.clientHeight),r.left=Math.max(r.left,g.left)}else if(n===l||n===d)break;n=QQ(n)}var _=null;if(!nn.isWindow(e)&&e.nodeType!==9){_=e.style.position;var E=nn.css(e,"position");E==="absolute"&&(e.style.position="fixed")}var T=nn.getWindowScrollLeft(o),A=nn.getWindowScrollTop(o),L=nn.viewportWidth(o),z=nn.viewportHeight(o),U=d.scrollWidth,N=d.scrollHeight,R=window.getComputedStyle(l);if(R.overflowX==="hidden"&&(U=o.innerWidth),R.overflowY==="hidden"&&(N=o.innerHeight),e.style&&(e.style.position=_),t||wvr(e))r.left=Math.max(r.left,T),r.top=Math.max(r.top,A),r.right=Math.min(r.right,T+L),r.bottom=Math.min(r.bottom,A+z);else{var j=Math.max(U,T+L);r.right=Math.min(r.right,j);var H=Math.max(N,A+z);r.bottom=Math.min(r.bottom,H)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function Svr(e,t,r,n){var i=nn.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),nn.mix(i,o)}function rJ(e){var t,r,n;if(!nn.isWindow(e)&&e.nodeType!==9)t=nn.offset(e),r=nn.outerWidth(e),n=nn.outerHeight(e);else{var i=nn.getWindow(e);t={left:nn.getWindowScrollLeft(i),top:nn.getWindowScrollTop(i)},r=nn.viewportWidth(i),n=nn.viewportHeight(i)}return t.width=r,t.height=n,t}function qVe(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,l=e.left,d=e.top;return r==="c"?d+=o/2:r==="b"&&(d+=o),n==="c"?l+=i/2:n==="r"&&(l+=i),{left:l,top:d}}function UR(e,t,r,n,i){var o=qVe(t,r[1]),l=qVe(e,r[0]),d=[l.left-o.left,l.top-o.top];return{left:Math.round(e.left-d[0]+n[0]-i[0]),top:Math.round(e.top-d[1]+n[1]-i[1])}}function zVe(e,t,r){return e.left<r.left||e.left+t.width>r.right}function jVe(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function Evr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function Ivr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function VR(e,t,r){var n=[];return nn.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function $R(e,t){return e[t]=-e[t],e}function FVe(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function BVe(e,t){e[0]=FVe(e[0],t.width),e[1]=FVe(e[1],t.height)}function YVe(e,t,r,n){var i=r.points,o=r.offset||[0,0],l=r.targetOffset||[0,0],d=r.overflow,g=r.source||e;o=[].concat(o),l=[].concat(l),d=d||{};var _={},E=0,T=!!(d&&d.alwaysByViewport),A=tJ(g,T),L=rJ(g);BVe(o,L),BVe(l,t);var z=UR(L,t,i,o,l),U=nn.merge(L,z);if(A&&(d.adjustX||d.adjustY)&&n){if(d.adjustX&&zVe(z,L,A)){var N=VR(i,/[lr]/gi,{l:"r",r:"l"}),R=$R(o,0),j=$R(l,0),H=UR(L,t,N,R,j);Evr(H,L,A)||(E=1,i=N,o=R,l=j)}if(d.adjustY&&jVe(z,L,A)){var Y=VR(i,/[tb]/gi,{t:"b",b:"t"}),re=$R(o,1),ie=$R(l,1),le=UR(L,t,Y,re,ie);Ivr(le,L,A)||(E=1,i=Y,o=re,l=ie)}E&&(z=UR(L,t,i,o,l),nn.mix(U,z));var Me=zVe(z,L,A),we=jVe(z,L,A);if(Me||we){var ye=i;Me&&(ye=VR(i,/[lr]/gi,{l:"r",r:"l"})),we&&(ye=VR(i,/[tb]/gi,{t:"b",b:"t"})),i=ye,o=r.offset||[0,0],l=r.targetOffset||[0,0]}_.adjustX=d.adjustX&&Me,_.adjustY=d.adjustY&&we,(_.adjustX||_.adjustY)&&(U=Svr(z,L,A,_))}return U.width!==L.width&&nn.css(g,"width",nn.width(g)+U.width-L.width),U.height!==L.height&&nn.css(g,"height",nn.height(g)+U.height-L.height),nn.offset(g,{left:U.left,top:U.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:l,overflow:_}}function Tvr(e,t){var r=tJ(e,t),n=rJ(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function WR(e,t,r){var n=r.target||t,i=rJ(n),o=!Tvr(n,r.overflow&&r.overflow.alwaysByViewport);return YVe(e,i,r,o)}WR.__getOffsetParent=QQ;WR.__getVisibleRectForElement=tJ;function KVe(e,t,r){var n,i,o=nn.getDocument(e),l=o.defaultView||o.parentWindow,d=nn.getWindowScrollLeft(l),g=nn.getWindowScrollTop(l),_=nn.viewportWidth(l),E=nn.viewportHeight(l);"pageX"in t?n=t.pageX:n=d+t.clientX,"pageY"in t?i=t.pageY:i=g+t.clientY;var T={left:n,top:i,width:0,height:0},A=n>=0&&n<=d+_&&i>=0&&i<=g+E,L=[r.points[0],"cc"];return YVe(e,T,AVe(AVe({},r),{},{points:L}),A)}p();function Mvr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=n.has(o);if(Vp(!g,"Warning: There may be circular references"),g)return!1;if(o===l)return!0;if(r&&d>1)return!1;n.add(o);var _=d+1;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var E=0;E<o.length;E++)if(!i(o[E],l[E],_))return!1;return!0}if(o&&l&&zn(o)==="object"&&zn(l)==="object"){var T=Object.keys(o);return T.length!==Object.keys(l).length?!1:T.every(function(A){return i(o[A],l[A],_)})}return!1}return i(e,t)}var XVe=Mvr;p();var QVe=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,l=i.height;if(o||l)return!0}}return!1};var za=se(tt());p();var nJ=se(tt()),JVe=function(e,t){var r=nJ.default.useRef(!1),n=nJ.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(l){if(i(),!r.current||l===!0){if(e(l)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};p();p();var t$e=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];r.call(n,l[1],l[0])}},t}()}(),iJ=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,ZR=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Cvr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ZR):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Avr=2;function Pvr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&d()}function l(){Cvr(o)}function d(){var g=Date.now();if(r){if(g-i<Avr)return;n=!0}else r=!0,n=!1,setTimeout(l,t);i=g}return d}var Ovr=20,kvr=["top","right","bottom","left","width","height","size","weight"],Dvr=typeof MutationObserver!="undefined",Nvr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Pvr(this.refresh.bind(this),Ovr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!iJ||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Dvr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!iJ||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=kvr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),r$e=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},mb=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||ZR},n$e=KR(0,0,0,0);function YR(e){return parseFloat(e)||0}function e$e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+YR(o)},0)}function Rvr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],l=e["padding-"+o];r[o]=YR(l)}return r}function Lvr(e){var t=e.getBBox();return KR(0,0,t.width,t.height)}function qvr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return n$e;var n=mb(e).getComputedStyle(e),i=Rvr(n),o=i.left+i.right,l=i.top+i.bottom,d=YR(n.width),g=YR(n.height);if(n.boxSizing==="border-box"&&(Math.round(d+o)!==t&&(d-=e$e(n,"left","right")+o),Math.round(g+l)!==r&&(g-=e$e(n,"top","bottom")+l)),!jvr(e)){var _=Math.round(d+o)-t,E=Math.round(g+l)-r;Math.abs(_)!==1&&(d-=_),Math.abs(E)!==1&&(g-=E)}return KR(i.left,i.top,d,g)}var zvr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof mb(e).SVGGraphicsElement}:function(e){return e instanceof mb(e).SVGElement&&typeof e.getBBox=="function"}}();function jvr(e){return e===mb(e).document.documentElement}function Fvr(e){return iJ?zvr(e)?Lvr(e):qvr(e):n$e}function Bvr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return r$e(l,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),l}function KR(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Uvr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=KR(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Fvr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Vvr=function(){function e(t,r){var n=Bvr(r);r$e(this,{target:t,contentRect:n})}return e}(),$vr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new t$e,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof mb(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new Uvr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof mb(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Vvr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),i$e=typeof WeakMap!="undefined"?new WeakMap:new t$e,o$e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Nvr.getInstance(),n=new $vr(t,r,this);i$e.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){o$e.prototype[e]=function(){var t;return(t=i$e.get(this))[e].apply(t,arguments)}});var Gvr=function(){return typeof ZR.ResizeObserver!="undefined"?ZR.ResizeObserver:o$e}(),a$e=Gvr;function s$e(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function l$e(e,t){e!==document.activeElement&&Bv(t,e)&&typeof e.focus=="function"&&e.focus()}function oJ(e,t){var r=null,n=null;function i(l){var d=jn(l,1),g=d[0].target;if(document.documentElement.contains(g)){var _=g.getBoundingClientRect(),E=_.width,T=_.height,A=Math.floor(E),L=Math.floor(T);(r!==A||n!==L)&&Promise.resolve().then(function(){t({width:A,height:L})}),r=A,n=L}}var o=new a$e(i);return e&&o.observe(e),function(){o.disconnect()}}function u$e(e){return typeof e!="function"?null:e()}function c$e(e){return zn(e)!=="object"||!e?null:e}var Hvr=function(t,r){var n=t.children,i=t.disabled,o=t.target,l=t.align,d=t.onAlign,g=t.monitorWindowResize,_=t.monitorBufferTime,E=_===void 0?0:_,T=za.default.useRef({}),A=za.default.useRef(),L=za.default.Children.only(n),z=za.default.useRef({});z.current.disabled=i,z.current.target=o,z.current.align=l,z.current.onAlign=d;var U=JVe(function(){var xe=z.current,Ie=xe.disabled,de=xe.target,Pe=xe.align,Ke=xe.onAlign,at=A.current;if(!Ie&&de&&at){var dt,ze=u$e(de),ct=c$e(de);T.current.element=ze,T.current.point=ct,T.current.align=Pe;var _t=document,It=_t.activeElement;return ze&&QVe(ze)?dt=WR(at,ze,Pe):ct&&(dt=KVe(at,ct,Pe)),l$e(It,at),Ke&&dt&&Ke(at,dt),!0}return!1},E),N=jn(U,2),R=N[0],j=N[1],H=za.default.useState(),Y=jn(H,2),re=Y[0],ie=Y[1],le=za.default.useState(),Me=jn(le,2),we=Me[0],ye=Me[1];return QI(function(){ie(u$e(o)),ye(c$e(o))}),za.default.useEffect(function(){(T.current.element!==re||!s$e(T.current.point,we)||!XVe(T.current.align,l))&&R()}),za.default.useEffect(function(){var xe=oJ(A.current,R);return xe},[A.current]),za.default.useEffect(function(){var xe=oJ(re,R);return xe},[re]),za.default.useEffect(function(){i?j():R()},[i]),za.default.useEffect(function(){if(g){var xe=Os(window,"resize",R);return xe.remove}},[g]),za.default.useEffect(function(){return function(){j()}},[]),za.default.useImperativeHandle(r,function(){return{forceAlign:function(){return R(!0)}}}),za.default.isValidElement(L)&&(L=za.default.cloneElement(L,{ref:cb(L.ref,A)})),L},p$e=za.default.forwardRef(Hvr);p$e.displayName="Align";var f$e=p$e;var d$e=f$e;var _$e=se(mn());p();p();function XR(){"use strict";XR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function g(ye,xe,Ie,de){return Object.defineProperty(ye,xe,{value:Ie,enumerable:!de,configurable:!de,writable:!de})}try{g({},"")}catch(ye){g=function(Ie,de,Pe){return Ie[de]=Pe}}function _(ye,xe,Ie,de){var Pe=xe&&xe.prototype instanceof A?xe:A,Ke=Object.create(Pe.prototype);return g(Ke,"_invoke",function(at,dt,ze){var ct=1;return function(_t,It){if(ct===3)throw Error("Generator is already running");if(ct===4){if(_t==="throw")throw It;return{value:e,done:!0}}for(ze.method=_t,ze.arg=It;;){var Ye=ze.delegate;if(Ye){var pt=re(Ye,ze);if(pt){if(pt===T)continue;return pt}}if(ze.method==="next")ze.sent=ze._sent=ze.arg;else if(ze.method==="throw"){if(ct===1)throw ct=4,ze.arg;ze.dispatchException(ze.arg)}else ze.method==="return"&&ze.abrupt("return",ze.arg);ct=3;var ot=E(at,dt,ze);if(ot.type==="normal"){if(ct=ze.done?4:2,ot.arg===T)continue;return{value:ot.arg,done:ze.done}}ot.type==="throw"&&(ct=4,ze.method="throw",ze.arg=ot.arg)}}}(ye,Ie,new Me(de||[])),!0),Ke}function E(ye,xe,Ie){try{return{type:"normal",arg:ye.call(xe,Ie)}}catch(de){return{type:"throw",arg:de}}}t.wrap=_;var T={};function A(){}function L(){}function z(){}var U={};g(U,o,function(){return this});var N=Object.getPrototypeOf,R=N&&N(N(we([])));R&&R!==r&&n.call(R,o)&&(U=R);var j=z.prototype=A.prototype=Object.create(U);function H(ye){["next","throw","return"].forEach(function(xe){g(ye,xe,function(Ie){return this._invoke(xe,Ie)})})}function Y(ye,xe){function Ie(Pe,Ke,at,dt){var ze=E(ye[Pe],ye,Ke);if(ze.type!=="throw"){var ct=ze.arg,_t=ct.value;return _t&&zn(_t)=="object"&&n.call(_t,"__await")?xe.resolve(_t.__await).then(function(It){Ie("next",It,at,dt)},function(It){Ie("throw",It,at,dt)}):xe.resolve(_t).then(function(It){ct.value=It,at(ct)},function(It){return Ie("throw",It,at,dt)})}dt(ze.arg)}var de;g(this,"_invoke",function(Pe,Ke){function at(){return new xe(function(dt,ze){Ie(Pe,Ke,dt,ze)})}return de=de?de.then(at,at):at()},!0)}function re(ye,xe){var Ie=xe.method,de=ye.i[Ie];if(de===e)return xe.delegate=null,Ie==="throw"&&ye.i.return&&(xe.method="return",xe.arg=e,re(ye,xe),xe.method==="throw")||Ie!=="return"&&(xe.method="throw",xe.arg=new TypeError("The iterator does not provide a '"+Ie+"' method")),T;var Pe=E(de,ye.i,xe.arg);if(Pe.type==="throw")return xe.method="throw",xe.arg=Pe.arg,xe.delegate=null,T;var Ke=Pe.arg;return Ke?Ke.done?(xe[ye.r]=Ke.value,xe.next=ye.n,xe.method!=="return"&&(xe.method="next",xe.arg=e),xe.delegate=null,T):Ke:(xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,T)}function ie(ye){this.tryEntries.push(ye)}function le(ye){var xe=ye[4]||{};xe.type="normal",xe.arg=e,ye[4]=xe}function Me(ye){this.tryEntries=[[-1]],ye.forEach(ie,this),this.reset(!0)}function we(ye){if(ye!=null){var xe=ye[o];if(xe)return xe.call(ye);if(typeof ye.next=="function")return ye;if(!isNaN(ye.length)){var Ie=-1,de=function Pe(){for(;++Ie<ye.length;)if(n.call(ye,Ie))return Pe.value=ye[Ie],Pe.done=!1,Pe;return Pe.value=e,Pe.done=!0,Pe};return de.next=de}}throw new TypeError(zn(ye)+" is not iterable")}return L.prototype=z,g(j,"constructor",z),g(z,"constructor",L),L.displayName=g(z,d,"GeneratorFunction"),t.isGeneratorFunction=function(ye){var xe=typeof ye=="function"&&ye.constructor;return!!xe&&(xe===L||(xe.displayName||xe.name)==="GeneratorFunction")},t.mark=function(ye){return Object.setPrototypeOf?Object.setPrototypeOf(ye,z):(ye.__proto__=z,g(ye,d,"GeneratorFunction")),ye.prototype=Object.create(j),ye},t.awrap=function(ye){return{__await:ye}},H(Y.prototype),g(Y.prototype,l,function(){return this}),t.AsyncIterator=Y,t.async=function(ye,xe,Ie,de,Pe){Pe===void 0&&(Pe=Promise);var Ke=new Y(_(ye,xe,Ie,de),Pe);return t.isGeneratorFunction(xe)?Ke:Ke.next().then(function(at){return at.done?at.value:Ke.next()})},H(j),g(j,d,"Generator"),g(j,o,function(){return this}),g(j,"toString",function(){return"[object Generator]"}),t.keys=function(ye){var xe=Object(ye),Ie=[];for(var de in xe)Ie.unshift(de);return function Pe(){for(;Ie.length;)if((de=Ie.pop())in xe)return Pe.value=de,Pe.done=!1,Pe;return Pe.done=!0,Pe}},t.values=we,Me.prototype={constructor:Me,reset:function(xe){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(le),!xe)for(var Ie in this)Ie.charAt(0)==="t"&&n.call(this,Ie)&&!isNaN(+Ie.slice(1))&&(this[Ie]=e)},stop:function(){this.done=!0;var xe=this.tryEntries[0][4];if(xe.type==="throw")throw xe.arg;return this.rval},dispatchException:function(xe){if(this.done)throw xe;var Ie=this;function de(_t){at.type="throw",at.arg=xe,Ie.next=_t}for(var Pe=Ie.tryEntries.length-1;Pe>=0;--Pe){var Ke=this.tryEntries[Pe],at=Ke[4],dt=this.prev,ze=Ke[1],ct=Ke[2];if(Ke[0]===-1)return de("end"),!1;if(!ze&&!ct)throw Error("try statement without catch or finally");if(Ke[0]!=null&&Ke[0]<=dt){if(dt<ze)return this.method="next",this.arg=e,de(ze),!0;if(dt<ct)return de(ct),!1}}},abrupt:function(xe,Ie){for(var de=this.tryEntries.length-1;de>=0;--de){var Pe=this.tryEntries[de];if(Pe[0]>-1&&Pe[0]<=this.prev&&this.prev<Pe[2]){var Ke=Pe;break}}Ke&&(xe==="break"||xe==="continue")&&Ke[0]<=Ie&&Ie<=Ke[2]&&(Ke=null);var at=Ke?Ke[4]:{};return at.type=xe,at.arg=Ie,Ke?(this.method="next",this.next=Ke[2],T):this.complete(at)},complete:function(xe,Ie){if(xe.type==="throw")throw xe.arg;return xe.type==="break"||xe.type==="continue"?this.next=xe.arg:xe.type==="return"?(this.rval=this.arg=xe.arg,this.method="return",this.next="end"):xe.type==="normal"&&Ie&&(this.next=Ie),T},finish:function(xe){for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var de=this.tryEntries[Ie];if(de[2]===xe)return this.complete(de[4],de[3]),le(de),T}},catch:function(xe){for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var de=this.tryEntries[Ie];if(de[0]===xe){var Pe=de[4];if(Pe.type==="throw"){var Ke=Pe.arg;le(de)}return Ke}}throw Error("illegal catch attempt")},delegateYield:function(xe,Ie,de){return this.delegate={i:we(xe),r:Ie,n:de},this.method==="next"&&(this.arg=e),T}},t}p();function h$e(e,t,r,n,i,o,l){try{var d=e[o](l),g=d.value}catch(_){return void r(_)}d.done?t(g):Promise.resolve(g).then(n,i)}function m$e(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function l(g){h$e(o,n,i,l,d,"next",g)}function d(g){h$e(o,n,i,l,d,"throw",g)}l(void 0)})}}var gb=se(tt());var g$e=["measure","alignPre","align",null,"motion"],v$e=function(e,t){var r=hd(null),n=jn(r,2),i=n[0],o=n[1],l=(0,gb.useRef)();function d(E){o(E,!0)}function g(){sl.cancel(l.current)}function _(E){g(),l.current=sl(function(){d(function(T){switch(i){case"align":return"motion";case"motion":return"stable";default:}return T}),E==null||E()})}return(0,gb.useEffect)(function(){d("measure")},[e]),(0,gb.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(l.current=sl(m$e(XR().mark(function E(){var T,A;return XR().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:T=g$e.indexOf(i),A=g$e[T+1],A&&T!==-1&&d(A);case 3:case"end":return z.stop()}},E)}))))},[i]),(0,gb.useEffect)(function(){return function(){g()}},[]),[i,_]};p();var QR=se(tt()),y$e=function(e){var t=QR.useState({width:0,height:0}),r=jn(t,2),n=r[0],i=r[1];function o(d){var g=d.offsetWidth,_=d.offsetHeight,E=d.getBoundingClientRect(),T=E.width,A=E.height;Math.abs(g-T)<1&&Math.abs(_-A)<1&&(g=T,_=A),i({width:g,height:_})}var l=QR.useMemo(function(){var d={};if(e){var g=n.width,_=n.height;e.indexOf("height")!==-1&&_?d.height=_:e.indexOf("minHeight")!==-1&&_&&(d.minHeight=_),e.indexOf("width")!==-1&&g?d.width=g:e.indexOf("minWidth")!==-1&&g&&(d.minWidth=g)}return d},[e,n]);return[l,o]};var b$e=Fl.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,l=e.children,d=e.zIndex,g=e.stretch,_=e.destroyPopupOnHide,E=e.forceRender,T=e.align,A=e.point,L=e.getRootDomNode,z=e.getClassNameFromAlign,U=e.onAlign,N=e.onMouseEnter,R=e.onMouseLeave,j=e.onMouseDown,H=e.onTouchStart,Y=e.onClick,re=(0,$v.useRef)(),ie=(0,$v.useRef)(),le=(0,$v.useState)(),Me=jn(le,2),we=Me[0],ye=Me[1],xe=y$e(g),Ie=jn(xe,2),de=Ie[0],Pe=Ie[1];function Ke(){g&&Pe(L())}var at=v$e(r,Ke),dt=jn(at,2),ze=dt[0],ct=dt[1],_t=(0,$v.useState)(0),It=jn(_t,2),Ye=It[0],pt=It[1],ot=(0,$v.useRef)();QI(function(){ze==="alignPre"&&pt(0)},[ze]);function Ve(){return A||L}function Oe(){var At;(At=re.current)===null||At===void 0||At.forceAlign()}function He(At,Zt){var Tt=z(Zt);we!==Tt&&ye(Tt),pt(function(Rt){return Rt+1}),ze==="align"&&(U==null||U(At,Zt))}QI(function(){ze==="align"&&(Ye<3?Oe():ct(function(){var At;(At=ot.current)===null||At===void 0||At.call(ot)}))},[Ye]);var Fe=Wt({},FR(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(At){var Zt=Fe[At];Fe[At]=function(Tt,Rt){return ct(),Zt==null?void 0:Zt(Tt,Rt)}});function lt(){return new Promise(function(At){ot.current=At})}Fl.useEffect(function(){!Fe.motionName&&ze==="motion"&&ct()},[Fe.motionName,ze]),Fl.useImperativeHandle(t,function(){return{forceAlign:Oe,getElement:function(){return ie.current}}});var st=Wt(Wt({},de),{},{zIndex:d,opacity:ze==="motion"||ze==="stable"||!r?void 0:0,pointerEvents:!r&&ze!=="stable"?"none":void 0},o),yt=!0;T!=null&&T.points&&(ze==="align"||ze==="stable")&&(yt=!1);var vt=l;return Fl.Children.count(l)>1&&(vt=Fl.createElement("div",{className:"".concat(n,"-content")},l)),Fl.createElement(db,wn({visible:r,ref:ie,leavedClassName:"".concat(n,"-hidden")},Fe,{onAppearPrepare:lt,onEnterPrepare:lt,removeOnLeave:_,forceRender:E}),function(At,Zt){var Tt=At.className,Rt=At.style,tr=(0,_$e.default)(n,i,we,Tt);return Fl.createElement(d$e,{target:Ve(),key:"popup",ref:re,monitorWindowResize:!0,disabled:yt,align:T,onAlign:He},Fl.createElement("div",{ref:Zt,className:tr,onMouseEnter:N,onMouseLeave:R,onMouseDownCapture:j,onTouchStartCapture:H,onClick:Y,style:Wt(Wt({},Rt),st)},vt))})});b$e.displayName="PopupInner";var x$e=b$e;p();var Ou=se(tt());var w$e=se(mn()),S$e=Ou.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,l=e.mobile;l=l===void 0?{}:l;var d=l.popupClassName,g=l.popupStyle,_=l.popupMotion,E=_===void 0?{}:_,T=l.popupRender,A=e.onClick,L=Ou.useRef();Ou.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return L.current}}});var z=Wt({zIndex:i},g),U=o;return Ou.Children.count(o)>1&&(U=Ou.createElement("div",{className:"".concat(r,"-content")},o)),T&&(U=T(U)),Ou.createElement(db,wn({visible:n,ref:L,removeOnLeave:!0},E),function(N,R){var j=N.className,H=N.style,Y=(0,w$e.default)(r,d,j);return Ou.createElement("div",{ref:R,className:Y,onClick:A,style:Wt(Wt({},H),z)},U)})});S$e.displayName="MobilePopupInner";var E$e=S$e;var Wvr=["visible","mobile"],I$e=Gv.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=Ps(e,Wvr),o=(0,aT.useState)(r),l=jn(o,2),d=l[0],g=l[1],_=(0,aT.useState)(!1),E=jn(_,2),T=E[0],A=E[1],L=Wt(Wt({},i),{},{visible:d});(0,aT.useEffect)(function(){g(r),r&&n&&A(sVe())},[r,n]);var z=T?Gv.createElement(E$e,wn({},L,{mobile:n,ref:t})):Gv.createElement(x$e,wn({},L,{ref:t}));return Gv.createElement("div",null,Gv.createElement($Q,L),z)});I$e.displayName="Popup";var T$e=I$e;p();var M$e=se(tt()),Zvr=M$e.createContext(null),aJ=Zvr;function sJ(){}function Yvr(){return""}function Kvr(e){return e?e.ownerDocument:window.document}var Xvr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Qvr(e){var t=function(r){ls(i,r);var n=us(i);function i(o){var l;as(this,i),l=n.call(this,o),qt(Qr(l),"popupRef",Bl.createRef()),qt(Qr(l),"triggerRef",Bl.createRef()),qt(Qr(l),"portalContainer",void 0),qt(Qr(l),"attachId",void 0),qt(Qr(l),"clickOutsideHandler",void 0),qt(Qr(l),"touchOutsideHandler",void 0),qt(Qr(l),"contextMenuOutsideHandler1",void 0),qt(Qr(l),"contextMenuOutsideHandler2",void 0),qt(Qr(l),"mouseDownTimeout",void 0),qt(Qr(l),"focusTime",void 0),qt(Qr(l),"preClickTime",void 0),qt(Qr(l),"preTouchTime",void 0),qt(Qr(l),"delayTimer",void 0),qt(Qr(l),"hasPopupMouseDown",void 0),qt(Qr(l),"onMouseEnter",function(g){var _=l.props.mouseEnterDelay;l.fireEvents("onMouseEnter",g),l.delaySetPopupVisible(!0,_,_?null:g)}),qt(Qr(l),"onMouseMove",function(g){l.fireEvents("onMouseMove",g),l.setPoint(g)}),qt(Qr(l),"onMouseLeave",function(g){l.fireEvents("onMouseLeave",g),l.delaySetPopupVisible(!1,l.props.mouseLeaveDelay)}),qt(Qr(l),"onPopupMouseEnter",function(){l.clearDelayTimer()}),qt(Qr(l),"onPopupMouseLeave",function(g){var _;g.relatedTarget&&!g.relatedTarget.setTimeout&&Bv((_=l.popupRef.current)===null||_===void 0?void 0:_.getElement(),g.relatedTarget)||l.delaySetPopupVisible(!1,l.props.mouseLeaveDelay)}),qt(Qr(l),"onFocus",function(g){l.fireEvents("onFocus",g),l.clearDelayTimer(),l.isFocusToShow()&&(l.focusTime=Date.now(),l.delaySetPopupVisible(!0,l.props.focusDelay))}),qt(Qr(l),"onMouseDown",function(g){l.fireEvents("onMouseDown",g),l.preClickTime=Date.now()}),qt(Qr(l),"onTouchStart",function(g){l.fireEvents("onTouchStart",g),l.preTouchTime=Date.now()}),qt(Qr(l),"onBlur",function(g){l.fireEvents("onBlur",g),l.clearDelayTimer(),l.isBlurToHide()&&l.delaySetPopupVisible(!1,l.props.blurDelay)}),qt(Qr(l),"onContextMenu",function(g){g.preventDefault(),l.fireEvents("onContextMenu",g),l.setPopupVisible(!0,g)}),qt(Qr(l),"onContextMenuClose",function(){l.isContextMenuToShow()&&l.close()}),qt(Qr(l),"onClick",function(g){if(l.fireEvents("onClick",g),l.focusTime){var _;if(l.preClickTime&&l.preTouchTime?_=Math.min(l.preClickTime,l.preTouchTime):l.preClickTime?_=l.preClickTime:l.preTouchTime&&(_=l.preTouchTime),Math.abs(_-l.focusTime)<20)return;l.focusTime=0}l.preClickTime=0,l.preTouchTime=0,l.isClickToShow()&&(l.isClickToHide()||l.isBlurToHide())&&g&&g.preventDefault&&g.preventDefault();var E=!l.state.popupVisible;(l.isClickToHide()&&!E||E&&l.isClickToShow())&&l.setPopupVisible(!l.state.popupVisible,g)}),qt(Qr(l),"onPopupMouseDown",function(){if(l.hasPopupMouseDown=!0,clearTimeout(l.mouseDownTimeout),l.mouseDownTimeout=window.setTimeout(function(){l.hasPopupMouseDown=!1},0),l.context){var g;(g=l.context).onPopupMouseDown.apply(g,arguments)}}),qt(Qr(l),"onDocumentClick",function(g){if(!(l.props.mask&&!l.props.maskClosable)){var _=g.target,E=l.getRootDomNode(),T=l.getPopupDomNode();(!Bv(E,_)||l.isContextMenuOnly())&&!Bv(T,_)&&!l.hasPopupMouseDown&&l.close()}}),qt(Qr(l),"getRootDomNode",function(){var g=l.props.getTriggerDOMNode;if(g)return g(l.triggerRef.current);try{var _=YI(l.triggerRef.current);if(_)return _}catch(E){}return C$e.default.findDOMNode(Qr(l))}),qt(Qr(l),"getPopupClassNameFromAlign",function(g){var _=[],E=l.props,T=E.popupPlacement,A=E.builtinPlacements,L=E.prefixCls,z=E.alignPoint,U=E.getPopupClassNameFromAlign;return T&&A&&_.push(oVe(A,L,g,z)),U&&_.push(U(g)),_.join(" ")}),qt(Qr(l),"getComponent",function(){var g=l.props,_=g.prefixCls,E=g.destroyPopupOnHide,T=g.popupClassName,A=g.onPopupAlign,L=g.popupMotion,z=g.popupAnimation,U=g.popupTransitionName,N=g.popupStyle,R=g.mask,j=g.maskAnimation,H=g.maskTransitionName,Y=g.maskMotion,re=g.zIndex,ie=g.popup,le=g.stretch,Me=g.alignPoint,we=g.mobile,ye=g.forceRender,xe=g.onPopupClick,Ie=l.state,de=Ie.popupVisible,Pe=Ie.point,Ke=l.getPopupAlign(),at={};return l.isMouseEnterToShow()&&(at.onMouseEnter=l.onPopupMouseEnter),l.isMouseLeaveToHide()&&(at.onMouseLeave=l.onPopupMouseLeave),at.onMouseDown=l.onPopupMouseDown,at.onTouchStart=l.onPopupMouseDown,Bl.createElement(T$e,wn({prefixCls:_,destroyPopupOnHide:E,visible:de,point:Me&&Pe,className:T,align:Ke,onAlign:A,animation:z,getClassNameFromAlign:l.getPopupClassNameFromAlign},at,{stretch:le,getRootDomNode:l.getRootDomNode,style:N,mask:R,zIndex:re,transitionName:U,maskAnimation:j,maskTransitionName:H,maskMotion:Y,ref:l.popupRef,motion:L,mobile:we,forceRender:ye,onClick:xe}),typeof ie=="function"?ie():ie)}),qt(Qr(l),"attachParent",function(g){sl.cancel(l.attachId);var _=l.props,E=_.getPopupContainer,T=_.getDocument,A=l.getRootDomNode(),L;E?(A||E.length===0)&&(L=E(A)):L=T(l.getRootDomNode()).body,L?L.appendChild(g):l.attachId=sl(function(){l.attachParent(g)})}),qt(Qr(l),"getContainer",function(){if(!l.portalContainer){var g=l.props.getDocument,_=g(l.getRootDomNode()).createElement("div");_.style.position="absolute",_.style.top="0",_.style.left="0",_.style.width="100%",l.portalContainer=_}return l.attachParent(l.portalContainer),l.portalContainer}),qt(Qr(l),"setPoint",function(g){var _=l.props.alignPoint;!_||!g||l.setState({point:{pageX:g.pageX,pageY:g.pageY}})}),qt(Qr(l),"handlePortalUpdate",function(){l.state.prevPopupVisible!==l.state.popupVisible&&l.props.afterPopupVisibleChange(l.state.popupVisible)}),qt(Qr(l),"triggerContextValue",{onPopupMouseDown:l.onPopupMouseDown});var d;return"popupVisible"in o?d=!!o.popupVisible:d=!!o.defaultPopupVisible,l.state={prevPopupVisible:d,popupVisible:d},Xvr.forEach(function(g){l["fire".concat(g)]=function(_){l.fireEvents(g,_)}}),l}return ss(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var l=this.props,d=this.state;if(d.popupVisible){var g;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(g=l.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Os(g,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(g=g||l.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Os(g,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(g=g||l.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Os(g,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Os(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),sl.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var l;return((l=this.popupRef.current)===null||l===void 0?void 0:l.getElement())||null}},{key:"getPopupAlign",value:function(){var l=this.props,d=l.popupPlacement,g=l.popupAlign,_=l.builtinPlacements;return d&&_?iVe(_,d,g):g}},{key:"setPopupVisible",value:function(l,d){var g=this.props.alignPoint,_=this.state.popupVisible;this.clearDelayTimer(),_!==l&&("popupVisible"in this.props||this.setState({popupVisible:l,prevPopupVisible:_}),this.props.onPopupVisibleChange(l)),g&&d&&l&&this.setPoint(d)}},{key:"delaySetPopupVisible",value:function(l,d,g){var _=this,E=d*1e3;if(this.clearDelayTimer(),E){var T=g?{pageX:g.pageX,pageY:g.pageY}:null;this.delayTimer=window.setTimeout(function(){_.setPopupVisible(l,T),_.clearDelayTimer()},E)}else this.setPopupVisible(l,g)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(l){var d=this.props.children.props,g=this.props;return d[l]&&g[l]?this["fire".concat(l)]:d[l]||g[l]}},{key:"isClickToShow",value:function(){var l=this.props,d=l.action,g=l.showAction;return d.indexOf("click")!==-1||g.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var l=this.props.action;return l==="contextMenu"||l.length===1&&l[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var l=this.props,d=l.action,g=l.showAction;return d.indexOf("contextMenu")!==-1||g.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var l=this.props,d=l.action,g=l.hideAction;return d.indexOf("click")!==-1||g.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var l=this.props,d=l.action,g=l.showAction;return d.indexOf("hover")!==-1||g.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var l=this.props,d=l.action,g=l.hideAction;return d.indexOf("hover")!==-1||g.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var l=this.props,d=l.action,g=l.showAction;return d.indexOf("focus")!==-1||g.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var l=this.props,d=l.action,g=l.hideAction;return d.indexOf("focus")!==-1||g.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var l;(l=this.popupRef.current)===null||l===void 0||l.forceAlign()}}},{key:"fireEvents",value:function(l,d){var g=this.props.children.props[l];g&&g(d);var _=this.props[l];_&&_(d)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var l=this.state.popupVisible,d=this.props,g=d.children,_=d.forceRender,E=d.alignPoint,T=d.className,A=d.autoDestroy,L=Bl.Children.only(g),z={key:"trigger"};this.isContextMenuToShow()?z.onContextMenu=this.onContextMenu:z.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(z.onClick=this.onClick,z.onMouseDown=this.onMouseDown,z.onTouchStart=this.onTouchStart):(z.onClick=this.createTwoChains("onClick"),z.onMouseDown=this.createTwoChains("onMouseDown"),z.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(z.onMouseEnter=this.onMouseEnter,E&&(z.onMouseMove=this.onMouseMove)):z.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?z.onMouseLeave=this.onMouseLeave:z.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(z.onFocus=this.onFocus,z.onBlur=this.onBlur):(z.onFocus=this.createTwoChains("onFocus"),z.onBlur=this.createTwoChains("onBlur"));var U=(0,A$e.default)(L&&L.props&&L.props.className,T);U&&(z.className=U);var N=Wt({},z);XI(L)&&(N.ref=cb(this.triggerRef,L.ref));var R=Bl.cloneElement(L,N),j;return(l||this.popupRef.current||_)&&(j=Bl.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!l&&A&&(j=null),Bl.createElement(aJ.Provider,{value:this.triggerContextValue},R,j)}}],[{key:"getDerivedStateFromProps",value:function(l,d){var g=l.popupVisible,_={};return g!==void 0&&d.popupVisible!==g&&(_.popupVisible=g,_.prevPopupVisible=d.popupVisible),_}}]),i}(Bl.Component);return qt(t,"contextType",aJ),qt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Yvr,getDocument:Kvr,onPopupVisibleChange:sJ,afterPopupVisibleChange:sJ,onPopupAlign:sJ,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var P$e=Qvr(nVe);p();var ku={adjustX:1,adjustY:1},Du=[0,0],O$e={left:{points:["cr","cl"],overflow:ku,offset:[-4,0],targetOffset:Du},right:{points:["cl","cr"],overflow:ku,offset:[4,0],targetOffset:Du},top:{points:["bc","tc"],overflow:ku,offset:[0,-4],targetOffset:Du},bottom:{points:["tc","bc"],overflow:ku,offset:[0,4],targetOffset:Du},topLeft:{points:["bl","tl"],overflow:ku,offset:[0,-4],targetOffset:Du},leftTop:{points:["tr","tl"],overflow:ku,offset:[-4,0],targetOffset:Du},topRight:{points:["br","tr"],overflow:ku,offset:[0,-4],targetOffset:Du},rightTop:{points:["tl","tr"],overflow:ku,offset:[4,0],targetOffset:Du},bottomRight:{points:["tr","br"],overflow:ku,offset:[0,4],targetOffset:Du},rightBottom:{points:["bl","br"],overflow:ku,offset:[4,0],targetOffset:Du},bottomLeft:{points:["tl","bl"],overflow:ku,offset:[0,4],targetOffset:Du},leftBottom:{points:["br","bl"],overflow:ku,offset:[-4,0],targetOffset:Du}};p();var JR=se(tt()),k$e=se(mn());function eL(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,l=e.overlayInnerStyle,d=e.className,g=e.style;return JR.createElement("div",{className:(0,k$e.default)("".concat(i,"-content"),d),style:g},t!==!1&&JR.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),JR.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:l},typeof n=="function"?n():n))}var Jvr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],eyr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,l=t.mouseEnterDelay,d=l===void 0?0:l,g=t.mouseLeaveDelay,_=g===void 0?.1:g,E=t.overlayStyle,T=t.prefixCls,A=T===void 0?"rc-tooltip":T,L=t.children,z=t.onVisibleChange,U=t.afterVisibleChange,N=t.transitionName,R=t.animation,j=t.motion,H=t.placement,Y=H===void 0?"right":H,re=t.align,ie=re===void 0?{}:re,le=t.destroyTooltipOnHide,Me=le===void 0?!1:le,we=t.defaultVisible,ye=t.getTooltipContainer,xe=t.overlayInnerStyle,Ie=t.arrowContent,de=t.overlay,Pe=t.id,Ke=t.showArrow,at=Ke===void 0?!0:Ke,dt=Ps(t,Jvr),ze=(0,vb.useRef)(null);(0,vb.useImperativeHandle)(r,function(){return ze.current});var ct=Wt({},dt);"visible"in t&&(ct.popupVisible=t.visible);var _t=function(){return lJ.createElement(eL,{showArrow:at,arrowContent:Ie,key:"content",prefixCls:A,id:Pe,overlayInnerStyle:xe},de)},It=!1,Ye=!1;if(typeof Me=="boolean")It=Me;else if(Me&&zn(Me)==="object"){var pt=Me.keepParent;It=pt===!0,Ye=pt===!1}return lJ.createElement(P$e,wn({popupClassName:n,prefixCls:A,popup:_t,action:o,builtinPlacements:O$e,popupPlacement:Y,ref:ze,popupAlign:ie,getPopupContainer:ye,onPopupVisibleChange:z,afterPopupVisibleChange:U,popupTransitionName:N,popupAnimation:R,popupMotion:j,defaultPopupVisible:we,destroyPopupOnHide:It,autoDestroy:Ye,mouseLeaveDelay:_,popupStyle:E,mouseEnterDelay:d},ct),L)},D$e=(0,vb.forwardRef)(eyr);var N$e=D$e;var tyr=vd.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=vd.useRef(null),o=cb(t,i),l=vd.useRef(null);function d(){sl.cancel(l.current)}function g(){l.current=sl(function(){var _;(_=i.current)===null||_===void 0||_.forcePopupAlign()})}return vd.useEffect(function(){return r?g():d(),d},[r,n]),vd.createElement(N$e,wn({ref:o},e))}),uJ=tyr;function cJ(e){var t;return t=function(r){ls(i,r);var n=us(i);function i(){var o;return as(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(l,d){o.setState(function(g){return{visibles:Wt(Wt({},g.visibles),{},qt({},l,d))}})},o.handleWithTooltip=function(l){var d=l.value,g=l.dragging,_=l.index,E=l.disabled,T=Ps(l,["value","dragging","index","disabled"]),A=o.props,L=A.tipFormatter,z=A.tipProps,U=A.handleStyle,N=A.getTooltipContainer,R=z.prefixCls,j=R===void 0?"rc-slider-tooltip":R,H=z.overlay,Y=H===void 0?L(d):H,re=z.placement,ie=re===void 0?"top":re,le=z.visible,Me=le===void 0?!1:le,we=Ps(z,["prefixCls","overlay","placement","visible"]),ye;return Array.isArray(U)?ye=U[_]||U[0]:ye=U,sT.default.createElement(uJ,wn({},we,{getTooltipContainer:N,prefixCls:j,overlay:Y,placement:ie,visible:!E&&(o.state.visibles[_]||g)||Me,key:_}),sT.default.createElement(lb,wn({},T,{style:Wt({},ye),value:d,onMouseEnter:function(){return o.handleTooltipVisibleChange(_,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(_,!1)}})))},o}return ss(i,[{key:"render",value:function(){return sT.default.createElement(e,wn({},this.props,{handle:this.handleWithTooltip}))}}]),i}(sT.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var pJ=UUe;pJ.Range=pR;pJ.Handle=lb;pJ.createSliderWithTooltip=cJ;p();var yb=se(ir(),1),Pi=se(tt(),1);p();p();var Nc=se(ir(),1),Ul=se(tt(),1);function ryr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var R$e=(0,Ul.forwardRef)(function({className:t,value:r,onBlur:n=()=>{},onKeyDown:i=()=>{},onChange:o=()=>{},readOnly:l,tabIndex:d,placeholder:g,name:_},E){let[T,A]=(0,Ul.useState)(r),[L,z]=(0,Ul.useState)(r);L!==r&&(z(r),A(r));let U=(0,Ul.useMemo)(()=>zr.getSettings().LANGUAGE_CODE===e_.DE?".":"/",[]),N=(0,Ul.useCallback)(j=>{let H=`${j.target.value}`;ryr(H,U)||H.length>10||(A(j.target.value),o(j.target.value))},[U]),R=(0,Ul.useCallback)(j=>{n(j,T)},[T,n]);return Ul.default.createElement("div",{className:"date-input-root"},Ul.default.createElement("input",{className:xr(l&&"readonly",t),ref:E,value:T,onBlur:R,onKeyDown:i,onChange:N,readOnly:l!=null?l:void 0,tabIndex:d!=null?d:void 0,placeholder:g!=null?g:void 0,name:_!=null?_:void 0}))});R$e.propTypes={value:Nc.default.string.isRequired,className:Nc.default.string,onBlur:Nc.default.func,onKeyDown:Nc.default.func,onChange:Nc.default.func,readOnly:Nc.default.bool,tabIndex:Nc.default.number,placeholder:Nc.default.string,defaultValue:Nc.default.string,name:Nc.default.string};var L$e=R$e;var fJ=L$e;var q$e=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,Pi.useState)(e),[l,d]=(0,Pi.useState)(!1),[g,_]=(0,Pi.useState)(0),[E,T]=(0,Pi.useState)(1),A=(0,Pi.useRef)(),L=(0,Pi.useRef)(),z=(0,Pi.useRef)(),{start:U,end:N}=(0,Pi.useMemo)(()=>({start:om(i[0]*1e3),end:om(i[1]*1e3)}),[i]),R=(0,Pi.useCallback)((re,ie)=>{let le=IO(ie).valueOf()/1e3,Me=i[1];if(re.relatedTarget!==L.current&&re.relatedTarget!==z.current&&d(!1),!MO(le)||le>Me||le<t){n([i[0],i[1]]),_(Date.now());return}n([le,Me])},[i]),j=(0,Pi.useCallback)((re,ie)=>{let le=i[0],Me=IO(ie).valueOf()/1e3;if(re.relatedTarget!==A.current&&re.relatedTarget!==z.current&&d(!1),!MO(Me)||le>Me||Me>r){n([i[0],i[1]]),T(Date.now());return}n([le,Me])},[i]),H=(0,Pi.useCallback)(re=>{re.key==="Enter"&&(re.target===A.current&&L.current.focus(),re.target===L.current&&(re.target.blur(),d(!1)))},[]),Y=(0,Pi.useCallback)(()=>{l||A.current.focus(),d(re=>!re)},[]);return(0,Pi.useEffect)(()=>{o(e)},[e]),Pi.default.createElement("div",{className:"timeslider-controls-root"},Pi.default.createElement(fJ,{ref:A,key:g,value:U,onBlur:R,onKeyDown:H,readOnly:!l,tabIndex:l?void 0:-1}),Pi.default.createElement("span",null,"\u2013"),Pi.default.createElement(fJ,{ref:L,key:E,value:N,onBlur:j,onKeyDown:H,readOnly:!l,tabIndex:l?void 0:-1}),Pi.default.createElement("button",{ref:z,className:xr("edit-button",l&&"edit-state"),onClick:Y},Pi.default.createElement(H_,{name:"edit-inverse"})))};q$e.propTypes={values:yb.default.arrayOf(yb.default.number).isRequired,min:yb.default.number.isRequired,max:yb.default.number.isRequired,onChange:yb.default.func.isRequired};var z$e=q$e;p();var Hv=se(ir(),1),_b=se(tt(),1);var j$e=(0,_b.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let l=(0,_b.useMemo)(()=>Array.isArray(i)?n?`${om(i[0]*1e3)} - ${om(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?om(i*1e3):i,[i]);return _b.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},l)});j$e.propTypes={className:Hv.default.string,posX:Hv.default.number.isRequired,shouldUseDate:Hv.default.bool.isRequired,value:Hv.default.oneOfType([Hv.default.array,Hv.default.number]).isRequired};var tL=j$e;p();var F$e=(e,t,r,n)=>{let i=e.map(_=>(_-t[0])/(t[1]-t[0])),o=i[0]*n,l=i[1]*n,d=dJ(o,r,n),g=dJ(l,r,n);return{posMin:d,posMax:g}},B$e=(e,t,r,n)=>{let l=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return dJ(l,r,n)},dJ=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var hJ=[1e3,1e3],mJ=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:l,showControls:d}=e,[g,_]=(0,ai.useState)(r),[E,T]=(0,ai.useState)(0),[A,L]=(0,ai.useState)(0),[z,U]=(0,ai.useState)(0),[N,R]=(0,ai.useState)({min:0,max:0}),[j,H]=(0,ai.useState)(0),[Y,re]=(0,ai.useState)(!1),ie=(0,ai.useRef)(),le=(0,ai.useRef)(),Me=(0,ai.useRef)(),we=(0,ai.useCallback)(Ie=>{let{posMin:de,posMax:Pe}=F$e(Ie,n,E,z);if(Math.abs(de-Pe)<E){re(!0);let at=B$e(Ie,n,A,z);H(at);return}re(!1),R({min:de,max:Pe})},[n,E,z]),ye=(0,ai.useCallback)(Ie=>{we(Ie),_(Ie)},[we]),xe=(0,ai.useCallback)(Ie=>{ye(Ie),i(Ie)},[ye,i]);return(0,ai.useEffect)(()=>{if(ie.current&&le.current&&Me.current){let Ie=ie.current.getBoundingClientRect().width,de=le.current.getBoundingClientRect().width,Pe=Me.current.getBoundingClientRect().width;R({min:0,max:Ie-de}),L(Pe),U(Ie),T(de)}},[]),(0,ai.useEffect)(()=>{_(r),we(r)},[r,we]),ai.default.createElement("div",{className:"timeslider-container"},ai.default.createElement("div",{className:"timeslider-control-container"},ai.default.createElement("label",null,t),d&&ai.default.createElement(z$e,{min:n[0],max:n[1],values:g,onChange:xe})),ai.default.createElement("div",{ref:ie,className:"slider-container"},ai.default.createElement(pR,je({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:ye,onAfterChange:i,value:g},o)),ai.default.createElement(tL,{className:xr("tooltip min-value",Y&&"labels-too-close"),posX:N.min,ref:le,value:Y?hJ[0]:g[0],shouldUseDate:l}),ai.default.createElement(tL,{className:xr("tooltip max-value",Y&&"labels-too-close"),posX:N.max,value:Y?hJ[1]:g[1],shouldUseDate:l}),ai.default.createElement(tL,{className:xr("tooltip min-max-value",Y&&"labels-too-close"),posX:j,ref:Me,value:Y?g:hJ,shouldUseDate:l})))};mJ.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};mJ.propTypes={title:Zp.default.string.isRequired,values:Zp.default.arrayOf(Zp.default.number),timeRange:Zp.default.arrayOf(Zp.default.number),onChange:Zp.default.func.isRequired,sliderProps:Zp.default.object,shouldUseDate:Zp.default.bool,showControls:Zp.default.bool};var U$e=mJ;var V$e=U$e;var $$e=()=>{let e=hr(ek),[t,r]=Mn(JO),n=(0,rL.useCallback)(i=>r(i),[]);return rL.default.createElement(V$e,{title:gt("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};$$e.propTypes={};var G$e=$$e;var H$e=G$e;p();var fL=se(tt(),1);p();var Zv=se(tt(),1),lee=se(ir(),1);p();var Ds=se(tt(),1);p();var Yt=se(ir()),Vt=se(tt()),dyr=se(eGe());p();function tGe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function rGe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function vJ(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return rGe(r.overflowY,t)||rGe(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(l){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function oL(e,t,r,n,i,o,l,d){return o<e&&l>t||o>e&&l<t?0:o<=e&&d<=r||l>=t&&d>=r?o-e-n:l>t&&d<r||o<e&&d>r?l-t+i:0}var nGe=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,l=t.boundary,d=t.skipOverflowHiddenElements,g=typeof l=="function"?l:function(Zt){return Zt!==l};if(!tGe(e))throw new TypeError("Invalid target");for(var _,E,T=document.scrollingElement||document.documentElement,A=[],L=e;tGe(L)&&g(L);){if((L=(E=(_=L).parentElement)==null?_.getRootNode().host||null:E)===T){A.push(L);break}L!=null&&L===document.body&&vJ(L)&&!vJ(document.documentElement)||L!=null&&vJ(L,d)&&A.push(L)}for(var z=r.visualViewport?r.visualViewport.width:innerWidth,U=r.visualViewport?r.visualViewport.height:innerHeight,N=window.scrollX||pageXOffset,R=window.scrollY||pageYOffset,j=e.getBoundingClientRect(),H=j.height,Y=j.width,re=j.top,ie=j.right,le=j.bottom,Me=j.left,we=i==="start"||i==="nearest"?re:i==="end"?le:re+H/2,ye=o==="center"?Me+Y/2:o==="end"?ie:Me,xe=[],Ie=0;Ie<A.length;Ie++){var de=A[Ie],Pe=de.getBoundingClientRect(),Ke=Pe.height,at=Pe.width,dt=Pe.top,ze=Pe.right,ct=Pe.bottom,_t=Pe.left;if(n==="if-needed"&&re>=0&&Me>=0&&le<=U&&ie<=z&&re>=dt&&le<=ct&&Me>=_t&&ie<=ze)return xe;var It=getComputedStyle(de),Ye=parseInt(It.borderLeftWidth,10),pt=parseInt(It.borderTopWidth,10),ot=parseInt(It.borderRightWidth,10),Ve=parseInt(It.borderBottomWidth,10),Oe=0,He=0,Fe="offsetWidth"in de?de.offsetWidth-de.clientWidth-Ye-ot:0,lt="offsetHeight"in de?de.offsetHeight-de.clientHeight-pt-Ve:0,st="offsetWidth"in de?de.offsetWidth===0?0:at/de.offsetWidth:0,yt="offsetHeight"in de?de.offsetHeight===0?0:Ke/de.offsetHeight:0;if(T===de)Oe=i==="start"?we:i==="end"?we-U:i==="nearest"?oL(R,R+U,U,pt,Ve,R+we,R+we+H,H):we-U/2,He=o==="start"?ye:o==="center"?ye-z/2:o==="end"?ye-z:oL(N,N+z,z,Ye,ot,N+ye,N+ye+Y,Y),Oe=Math.max(0,Oe+R),He=Math.max(0,He+N);else{Oe=i==="start"?we-dt-pt:i==="end"?we-ct+Ve+lt:i==="nearest"?oL(dt,ct,Ke,pt,Ve+lt,we,we+H,H):we-(dt+Ke/2)+lt/2,He=o==="start"?ye-_t-Ye:o==="center"?ye-(_t+at/2)+Fe/2:o==="end"?ye-ze+ot+Fe:oL(_t,ze,at,Ye,ot+Fe,ye,ye+Y,Y);var vt=de.scrollLeft,At=de.scrollTop;we+=At-(Oe=Math.max(0,Math.min(At+Oe/yt,de.scrollHeight-Ke/yt+lt))),ye+=vt-(He=Math.max(0,Math.min(vt+He/st,de.scrollWidth-at/st+Fe)))}xe.push({el:de,top:Oe,left:He})}return xe};p();var vT=function(){return vT=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},vT.apply(this,arguments)};var hyr=0;function wT(){}function myr(e,t){if(!e)return;nGe(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:l}=n;i.scrollTop=o,i.scrollLeft=l})}function iGe(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function _J(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];n(),r=setTimeout(()=>{r=null,e(...l)},t)}return i.cancel=n,i}function Uo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return t.some(d=>(d&&d(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function Yp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function gyr(){return String(hyr++)}function vyr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function aL(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=pGe(t,n)?t[n]:e[n],r),{})}function pGe(e,t){return e[t]!==void 0}function bT(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function xT(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let l=t+e;l<0?l=i?o:0:l>o&&(l=i?0:o);let d=Wv(e,l,r,n,i);return d===-1?t>=r?-1:t:d}function Wv(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let l=t+1;l<r;l++)if(!n(l).hasAttribute("disabled"))return l}else for(let l=t-1;l>=0;l--)if(!n(l).hasAttribute("disabled"))return l;return i?e>0?Wv(1,0,r,n,!1):Wv(-1,r-1,r,n,!1):-1}function oGe(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(iGe(i,e,r)||n&&iGe(i,r.document.activeElement,r)))}var yyr=_J(e=>{dGe(e).textContent=""},500);function fGe(e,t){let r=dGe(t);e&&(r.textContent=e,yyr(t))}function dGe(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var hGe={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function _yr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(l=>{byr(l,e,t,r),r[l]!==t[l]&&(o[l]=r[l])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(je({type:i},o))}function byr(e,t,r,n){let{props:i,type:o}=t,l=`on${xJ(e)}Change`;i[l]&&n[e]!==void 0&&n[e]!==r[e]&&i[l](je({type:o},n))}function xyr(e,t){return t.changes}function wyr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var Syr=_J((e,t)=>{fGe(e(),t)},200),Eyr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Vt.useLayoutEffect:Vt.useEffect;function mGe(e){let{id:t=`downshift-${gyr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:l}=e;return(0,Vt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(g=>`${t}-item-${g}`),toggleButtonId:o||`${t}-toggle-button`,inputId:l||`${t}-input`}).current}function bJ(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function Iyr(e){return e?String(e):""}function aGe(e){return /^\S{1}$/.test(e)}function xJ(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function cL(e){let t=(0,Vt.useRef)(e);return t.current=e,t}function gGe(e,t,r){let n=(0,Vt.useRef)(),i=(0,Vt.useRef)(),o=(0,Vt.useCallback)((T,A)=>{i.current=A,T=aL(T,A.props);let L=e(T,A);return A.props.stateReducer(T,nr(je({},A),{changes:L}))},[e]),[l,d]=(0,Vt.useReducer)(o,t),g=cL(r),_=(0,Vt.useCallback)(T=>d(je({props:g.current},T)),[g]),E=i.current;return(0,Vt.useEffect)(()=>{E&&n.current&&n.current!==l&&_yr(E,aL(n.current,E.props),l),n.current=l},[l,r,E]),[l,_]}function vGe(e,t,r){let[n,i]=gGe(e,t,r);return[aL(n,r),i]}var _T={itemToString:Iyr,stateReducer:xyr,getA11ySelectionMessage:wyr,scrollIntoView:myr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function ks(e,t,r){r===void 0&&(r=hGe);let n=e[`default${xJ(t)}`];return n!==void 0?n:r[t]}function yT(e,t,r){r===void 0&&(r=hGe);let n=e[t];if(n!==void 0)return n;let i=e[`initial${xJ(t)}`];return i!==void 0?i:ks(e,t,r)}function yGe(e){let t=yT(e,"selectedItem"),r=yT(e,"isOpen"),n=yT(e,"highlightedIndex"),i=yT(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function bb(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:l}=e,{selectedItem:d,highlightedIndex:g}=t;return i.length===0?-1:o!==void 0&&g===o?o:l!==void 0?l:d?r===0?i.indexOf(d):xT(r,i.indexOf(d),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function _Ge(e,t,r,n){let i=(0,Vt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,Vt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},l=E=>{i.current.isMouseDown=!1,e&&!oGe(E.target,t.map(T=>T.current),r)&&n()},d=()=>{i.current.isTouchMove=!1},g=()=>{i.current.isTouchMove=!0},_=E=>{e&&!i.current.isTouchMove&&!oGe(E.target,t.map(T=>T.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",l),r.addEventListener("touchstart",d),r.addEventListener("touchmove",g),r.addEventListener("touchend",_),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",l),r.removeEventListener("touchstart",d),r.removeEventListener("touchmove",g),r.removeEventListener("touchend",_)}},[e,r]),i}var wJ=()=>wT;function sL(e,t,r){let g=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:l}=g,d=yn(g,["isInitialMount","highlightedIndex","items","environment"]);(0,Vt.useEffect)(()=>{n||Syr(()=>e(je({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},d)),l.document)},t)}function bGe(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:l}=e,d=(0,Vt.useRef)(!0);return Eyr(()=>{t<0||!r||!Object.keys(n.current).length||(d.current===!1?d.current=!0:l(i(t),o))},[t]),d}var SJ=wT;function xGe(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:bb(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:bb(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:ks(i,"highlightedIndex"),isOpen:ks(i,"isOpen"),selectedItem:ks(i,"selectedItem"),inputValue:ks(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return je(je({},e),o)}function sGe(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,l=t.toLowerCase(),d=0;d<n.length;d++){var g=(d+r+1)%n.length,_=n[g];if(_!==void 0&&i(_).toLowerCase().startsWith(l)){var E=o(g);if(!(E!=null&&E.hasAttribute("disabled")))return g}}return r}var gjn={items:Yt.default.array.isRequired,itemToString:Yt.default.func,getA11yStatusMessage:Yt.default.func,getA11ySelectionMessage:Yt.default.func,circularNavigation:Yt.default.bool,highlightedIndex:Yt.default.number,defaultHighlightedIndex:Yt.default.number,initialHighlightedIndex:Yt.default.number,isOpen:Yt.default.bool,defaultIsOpen:Yt.default.bool,initialIsOpen:Yt.default.bool,selectedItem:Yt.default.any,initialSelectedItem:Yt.default.any,defaultSelectedItem:Yt.default.any,id:Yt.default.string,labelId:Yt.default.string,menuId:Yt.default.string,getItemId:Yt.default.func,toggleButtonId:Yt.default.string,stateReducer:Yt.default.func,onSelectedItemChange:Yt.default.func,onHighlightedIndexChange:Yt.default.func,onStateChange:Yt.default.func,onIsOpenChange:Yt.default.func,environment:Yt.default.shape({addEventListener:Yt.default.func,removeEventListener:Yt.default.func,document:Yt.default.shape({getElementById:Yt.default.func,activeElement:Yt.default.any,body:Yt.default.any})})};function Tyr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var Myr=vT(vT({},_T),{getA11yStatusMessage:Tyr}),Cyr=wT,EJ=0,IJ=1,TJ=2,MJ=3,CJ=4,AJ=5,PJ=6,OJ=7,lL=8,wGe=9,SGe=10,kJ=11,EGe=12,DJ=13,NJ=14,RJ=15,IGe=16,TGe=17,MGe=18,CGe=19,LJ=20,yJ=21,AGe=22,PGe=Object.freeze({__proto__:null,MenuKeyDownArrowDown:EJ,MenuKeyDownArrowUp:IJ,MenuKeyDownEscape:TJ,MenuKeyDownHome:MJ,MenuKeyDownEnd:CJ,MenuKeyDownEnter:AJ,MenuKeyDownSpaceButton:PJ,MenuKeyDownCharacter:OJ,MenuBlur:lL,MenuMouseLeave:wGe,ItemMouseMove:SGe,ItemClick:kJ,ToggleButtonClick:EGe,ToggleButtonKeyDownArrowDown:DJ,ToggleButtonKeyDownArrowUp:NJ,ToggleButtonKeyDownCharacter:RJ,FunctionToggleMenu:IGe,FunctionOpenMenu:TGe,FunctionCloseMenu:MGe,FunctionSetHighlightedIndex:CGe,FunctionSelectItem:LJ,FunctionSetInputValue:yJ,FunctionReset:AGe});function Ayr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case kJ:o={isOpen:ks(n,"isOpen"),highlightedIndex:ks(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case RJ:{let l=t.key,d=`${e.inputValue}${l}`,g=sGe({keysSoFar:d,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=je({inputValue:d},g>=0&&{selectedItem:n.items[g]})}break;case DJ:o={highlightedIndex:bb(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case NJ:o={highlightedIndex:bb(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case AJ:case PJ:o=je({isOpen:ks(n,"isOpen"),highlightedIndex:ks(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case MJ:o={highlightedIndex:Wv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case CJ:o={highlightedIndex:Wv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case TJ:o={isOpen:!1,highlightedIndex:-1};break;case lL:o={isOpen:!1,highlightedIndex:-1};break;case OJ:{let l=t.key,d=`${e.inputValue}${l}`,g=sGe({keysSoFar:d,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=je({inputValue:d},g>=0&&{highlightedIndex:g})}break;case EJ:o={highlightedIndex:xT(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case IJ:o={highlightedIndex:xT(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case LJ:o={selectedItem:t.selectedItem};break;default:return xGe(e,t,PGe)}return je(je({},e),o)}OGe.stateChangeTypes=PGe;function OGe(e){e===void 0&&(e={}),Cyr(e,OGe);let t=je(je({},Myr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:l,itemToString:d,getA11ySelectionMessage:g,getA11yStatusMessage:_}=t,E=yGe(t),[T,A]=vGe(Ayr,E,t),{isOpen:L,highlightedIndex:z,selectedItem:U,inputValue:N}=T,R=(0,Vt.useRef)(null),j=(0,Vt.useRef)(null),H=(0,Vt.useRef)({}),Y=(0,Vt.useRef)(!0),re=(0,Vt.useRef)(null),ie=mGe(t),le=(0,Vt.useRef)(),Me=(0,Vt.useRef)(!0),we=cL({state:T,props:t}),ye=(0,Vt.useCallback)(He=>H.current[ie.getItemId(He)],[ie]);sL(_,[L,z,N,r],je({isInitialMount:Me.current,previousResultCount:le.current,items:r,environment:i,itemToString:d},T)),sL(g,[U],je({isInitialMount:Me.current,previousResultCount:le.current,items:r,environment:i,itemToString:d},T));let xe=bGe({menuElement:j.current,highlightedIndex:z,isOpen:L,itemRefs:H,scrollIntoView:n,getItemNodeFromIndex:ye});(0,Vt.useEffect)(()=>(re.current=_J(He=>{He({type:yJ,inputValue:""})},500),()=>{re.current.cancel()}),[]),(0,Vt.useEffect)(()=>{N&&re.current(A)},[A,N]),SJ({isInitialMount:Me.current,props:t,state:T}),(0,Vt.useEffect)(()=>{if(Me.current){(o||l||L)&&j.current&&j.current.focus();return}if(L){j.current&&j.current.focus();return}i.document.activeElement===j.current&&R.current&&(Y.current=!1,R.current.focus())},[L]),(0,Vt.useEffect)(()=>{Me.current||(le.current=r.length)});let Ie=_Ge(L,[j,R],i,()=>{A({type:lL})}),de=wJ("getMenuProps","getToggleButtonProps");(0,Vt.useEffect)(()=>{Me.current=!1},[]),(0,Vt.useEffect)(()=>{L||(H.current={})},[L]);let Pe=(0,Vt.useMemo)(()=>({ArrowDown(He){He.preventDefault(),A({type:DJ,getItemNodeFromIndex:ye,shiftKey:He.shiftKey})},ArrowUp(He){He.preventDefault(),A({type:NJ,getItemNodeFromIndex:ye,shiftKey:He.shiftKey})}}),[A,ye]),Ke=(0,Vt.useMemo)(()=>({ArrowDown(He){He.preventDefault(),A({type:EJ,getItemNodeFromIndex:ye,shiftKey:He.shiftKey})},ArrowUp(He){He.preventDefault(),A({type:IJ,getItemNodeFromIndex:ye,shiftKey:He.shiftKey})},Home(He){He.preventDefault(),A({type:MJ,getItemNodeFromIndex:ye})},End(He){He.preventDefault(),A({type:CJ,getItemNodeFromIndex:ye})},Escape(){A({type:TJ})},Enter(He){He.preventDefault(),A({type:AJ})}," "(He){He.preventDefault(),A({type:PJ})}}),[A,ye]),at=(0,Vt.useCallback)(()=>{A({type:IGe})},[A]),dt=(0,Vt.useCallback)(()=>{A({type:MGe})},[A]),ze=(0,Vt.useCallback)(()=>{A({type:TGe})},[A]),ct=(0,Vt.useCallback)(He=>{A({type:CGe,highlightedIndex:He})},[A]),_t=(0,Vt.useCallback)(He=>{A({type:LJ,selectedItem:He})},[A]),It=(0,Vt.useCallback)(()=>{A({type:AGe})},[A]),Ye=(0,Vt.useCallback)(He=>{A({type:yJ,inputValue:He})},[A]),pt=(0,Vt.useCallback)(He=>je({id:ie.labelId,htmlFor:ie.toggleButtonId},He),[ie]),ot=(0,Vt.useCallback)(function(He,Fe){let pr=He===void 0?{}:He,{onMouseLeave:lt,refKey:st="ref",onKeyDown:yt,onBlur:vt,ref:At}=pr,Zt=yn(pr,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:Tt=!1}=Fe===void 0?{}:Fe,Rt=we.current.state,tr=Er=>{let Ae=bT(Er);Ae&&Ke[Ae]?Ke[Ae](Er):aGe(Ae)&&A({type:OJ,key:Ae,getItemNodeFromIndex:ye})},Sr=()=>{if(Y.current===!1){Y.current=!0;return}!Ie.current.isMouseDown&&A({type:lL})},kr=()=>{A({type:wGe})};return de("getMenuProps",Tt,st,j),je(nr(je({[st]:Yp(At,Er=>{j.current=Er}),id:ie.menuId,role:"listbox","aria-labelledby":ie.labelId,tabIndex:-1},Rt.isOpen&&Rt.highlightedIndex>-1&&{"aria-activedescendant":ie.getItemId(Rt.highlightedIndex)}),{onMouseLeave:Uo(lt,kr),onKeyDown:Uo(yt,tr),onBlur:Uo(vt,Sr)}),Zt)},[A,we,Ke,Ie,de,ie,ye]),Ve=(0,Vt.useCallback)(function(He,Fe){let Sr=He===void 0?{}:He,{onClick:lt,onKeyDown:st,refKey:yt="ref",ref:vt}=Sr,At=yn(Sr,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:Zt=!1}=Fe===void 0?{}:Fe,Tt=()=>{A({type:EGe})},Rt=kr=>{let pr=bT(kr);pr&&Pe[pr]?Pe[pr](kr):aGe(pr)&&A({type:RJ,key:pr,getItemNodeFromIndex:ye})},tr=je({[yt]:Yp(vt,kr=>{R.current=kr}),id:ie.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":we.current.state.isOpen,"aria-labelledby":`${ie.labelId} ${ie.toggleButtonId}`},At);return At.disabled||(tr.onClick=Uo(lt,Tt),tr.onKeyDown=Uo(st,Rt)),de("getToggleButtonProps",Zt,yt,R),tr},[A,we,Pe,de,ie,ye]),Oe=(0,Vt.useCallback)(function(He){let Ae=He===void 0?{}:He,{item:Fe,index:lt,onMouseMove:st,onClick:yt,refKey:vt="ref",ref:At,disabled:Zt}=Ae,Tt=yn(Ae,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:Rt,props:tr}=we.current,Sr=()=>{lt!==Rt.highlightedIndex&&(xe.current=!1,A({type:SGe,index:lt,disabled:Zt}))},kr=()=>{A({type:kJ,index:lt})},pr=bJ(lt,Fe,tr.items);if(pr<0)throw new Error("Pass either item or item index in getItemProps!");let Er=je({disabled:Zt,role:"option","aria-selected":`${pr===Rt.highlightedIndex}`,id:ie.getItemId(pr),[vt]:Yp(At,We=>{We&&(H.current[ie.getItemId(pr)]=We)})},Tt);return Zt||(Er.onClick=Uo(yt,kr)),Er.onMouseMove=Uo(st,Sr),Er},[A,we,xe,ie]);return{getToggleButtonProps:Ve,getLabelProps:pt,getMenuProps:ot,getItemProps:Oe,toggleMenu:at,openMenu:ze,closeMenu:dt,setHighlightedIndex:ct,selectItem:_t,reset:It,setInputValue:Ye,highlightedIndex:z,isOpen:L,selectedItem:U,inputValue:N}}var qJ=0,zJ=1,jJ=2,FJ=3,BJ=4,UJ=5,VJ=6,uL=7,kGe=8,DGe=9,$J=10,NGe=11,RGe=12,LGe=13,qGe=14,zGe=15,GJ=16,jGe=17,FGe=18,HJ=19,BGe=Object.freeze({__proto__:null,InputKeyDownArrowDown:qJ,InputKeyDownArrowUp:zJ,InputKeyDownEscape:jJ,InputKeyDownHome:FJ,InputKeyDownEnd:BJ,InputKeyDownEnter:UJ,InputChange:VJ,InputBlur:uL,MenuMouseLeave:kGe,ItemMouseMove:DGe,ItemClick:$J,ToggleButtonClick:NGe,FunctionToggleMenu:RGe,FunctionOpenMenu:LGe,FunctionCloseMenu:qGe,FunctionSetHighlightedIndex:zGe,FunctionSelectItem:GJ,FunctionSetInputValue:jGe,FunctionReset:FGe,ControlledPropUpdatedSelectedItem:HJ});function Pyr(e){let t=yGe(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),nr(je({},t),{inputValue:n})}var vjn={items:Yt.default.array.isRequired,itemToString:Yt.default.func,getA11yStatusMessage:Yt.default.func,getA11ySelectionMessage:Yt.default.func,circularNavigation:Yt.default.bool,highlightedIndex:Yt.default.number,defaultHighlightedIndex:Yt.default.number,initialHighlightedIndex:Yt.default.number,isOpen:Yt.default.bool,defaultIsOpen:Yt.default.bool,initialIsOpen:Yt.default.bool,selectedItem:Yt.default.any,initialSelectedItem:Yt.default.any,defaultSelectedItem:Yt.default.any,inputValue:Yt.default.string,defaultInputValue:Yt.default.string,initialInputValue:Yt.default.string,id:Yt.default.string,labelId:Yt.default.string,menuId:Yt.default.string,getItemId:Yt.default.func,inputId:Yt.default.string,toggleButtonId:Yt.default.string,stateReducer:Yt.default.func,onSelectedItemChange:Yt.default.func,onHighlightedIndexChange:Yt.default.func,onStateChange:Yt.default.func,onIsOpenChange:Yt.default.func,onInputValueChange:Yt.default.func,environment:Yt.default.shape({addEventListener:Yt.default.func,removeEventListener:Yt.default.func,document:Yt.default.shape({getElementById:Yt.default.func,activeElement:Yt.default.any,body:Yt.default.any})})};function Oyr(e,t,r){let n=(0,Vt.useRef)(),[i,o]=gGe(e,t,r);return(0,Vt.useEffect)(()=>{pGe(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:HJ,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[aL(i,r),o]}var kyr=wT,Dyr=nr(je({},_T),{getA11yStatusMessage:vyr,circularNavigation:!0});function Nyr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case $J:o={isOpen:ks(n,"isOpen"),highlightedIndex:ks(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case qJ:e.isOpen?o={highlightedIndex:xT(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:bb(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case zJ:e.isOpen?o={highlightedIndex:xT(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:bb(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case UJ:o=je({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:ks(n,"isOpen"),highlightedIndex:ks(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case jJ:o=je({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case FJ:o={highlightedIndex:Wv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case BJ:o={highlightedIndex:Wv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case uL:o=je({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case VJ:o={isOpen:!0,highlightedIndex:ks(n,"highlightedIndex"),inputValue:t.inputValue};break;case GJ:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case HJ:o={inputValue:t.inputValue};break;default:return xGe(e,t,BGe)}return je(je({},e),o)}pL.stateChangeTypes=BGe;function pL(e){e===void 0&&(e={}),kyr(e,pL);let t=je(je({},Dyr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:l,getA11yStatusMessage:d,getA11ySelectionMessage:g,itemToString:_}=t,E=Pyr(t),[T,A]=Oyr(Nyr,E,t),{isOpen:L,highlightedIndex:z,selectedItem:U,inputValue:N}=T,R=(0,Vt.useRef)(null),j=(0,Vt.useRef)({}),H=(0,Vt.useRef)(null),Y=(0,Vt.useRef)(null),re=(0,Vt.useRef)(null),ie=(0,Vt.useRef)(!0),le=mGe(t),Me=(0,Vt.useRef)(),we=cL({state:T,props:t}),ye=(0,Vt.useCallback)(Fe=>j.current[le.getItemId(Fe)],[le]);sL(d,[L,z,N,i],je({isInitialMount:ie.current,previousResultCount:Me.current,items:i,environment:l,itemToString:_},T)),sL(g,[U],je({isInitialMount:ie.current,previousResultCount:Me.current,items:i,environment:l,itemToString:_},T));let xe=bGe({menuElement:R.current,highlightedIndex:z,isOpen:L,itemRefs:j,scrollIntoView:o,getItemNodeFromIndex:ye});SJ({isInitialMount:ie.current,props:t,state:T}),(0,Vt.useEffect)(()=>{(r||n||L)&&H.current&&H.current.focus()},[]),(0,Vt.useEffect)(()=>{ie.current||(Me.current=i.length)});let Ie=_Ge(L,[re,R,Y],l,()=>{A({type:uL,selectItem:!1})}),de=wJ("getInputProps","getComboboxProps","getMenuProps");(0,Vt.useEffect)(()=>{ie.current=!1},[]),(0,Vt.useEffect)(()=>{L||(j.current={})},[L]);let Pe=(0,Vt.useMemo)(()=>({ArrowDown(Fe){Fe.preventDefault(),A({type:qJ,shiftKey:Fe.shiftKey,getItemNodeFromIndex:ye})},ArrowUp(Fe){Fe.preventDefault(),A({type:zJ,shiftKey:Fe.shiftKey,getItemNodeFromIndex:ye})},Home(Fe){we.current.state.isOpen&&(Fe.preventDefault(),A({type:FJ,getItemNodeFromIndex:ye}))},End(Fe){we.current.state.isOpen&&(Fe.preventDefault(),A({type:BJ,getItemNodeFromIndex:ye}))},Escape(Fe){let lt=we.current.state;(lt.isOpen||lt.inputValue||lt.selectedItem||lt.highlightedIndex>-1)&&(Fe.preventDefault(),A({type:jJ}))},Enter(Fe){let lt=we.current.state;!lt.isOpen||lt.highlightedIndex<0||Fe.which===229||(Fe.preventDefault(),A({type:UJ,getItemNodeFromIndex:ye}))}}),[A,we,ye]),Ke=(0,Vt.useCallback)(Fe=>je({id:le.labelId,htmlFor:le.inputId},Fe),[le]),at=(0,Vt.useCallback)(function(Fe,lt){let Tt=Fe===void 0?{}:Fe,{onMouseLeave:st,refKey:yt="ref",ref:vt}=Tt,At=yn(Tt,["onMouseLeave","refKey","ref"]),{suppressRefError:Zt=!1}=lt===void 0?{}:lt;return de("getMenuProps",Zt,yt,R),je({[yt]:Yp(vt,Rt=>{R.current=Rt}),id:le.menuId,role:"listbox","aria-labelledby":le.labelId,onMouseLeave:Uo(st,()=>{A({type:kGe})})},At)},[A,de,le]),dt=(0,Vt.useCallback)(function(Fe){let me=Fe===void 0?{}:Fe,{item:lt,index:st,refKey:yt="ref",ref:vt,onMouseMove:At,onMouseDown:Zt,onClick:Tt,onPress:Rt,disabled:tr}=me,Sr=yn(me,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:kr,state:pr}=we.current,Er=bJ(st,lt,kr.items);if(Er<0)throw new Error("Pass either item or item index in getItemProps!");let Ae="onClick",We=Tt,Ze=()=>{st!==pr.highlightedIndex&&(xe.current=!1,A({type:DGe,index:st,disabled:tr}))},Ct=()=>{A({type:$J,index:st})},zt=X=>X.preventDefault();return je(nr(je({[yt]:Yp(vt,X=>{X&&(j.current[le.getItemId(Er)]=X)}),disabled:tr,role:"option","aria-selected":`${Er===pr.highlightedIndex}`,id:le.getItemId(Er)},!tr&&{[Ae]:Uo(We,Ct)}),{onMouseMove:Uo(At,Ze),onMouseDown:Uo(Zt,zt)}),Sr)},[A,we,xe,le]),ze=(0,Vt.useCallback)(function(Fe){let Tt=Fe===void 0?{}:Fe,{onClick:lt,onPress:st,refKey:yt="ref",ref:vt}=Tt,At=yn(Tt,["onClick","onPress","refKey","ref"]),Zt=()=>{A({type:NGe}),!we.current.state.isOpen&&H.current&&H.current.focus()};return je(je({[yt]:Yp(vt,Rt=>{Y.current=Rt}),id:le.toggleButtonId,tabIndex:-1},!At.disabled&&{onClick:Uo(lt,Zt)}),At)},[A,we,le]),ct=(0,Vt.useCallback)(function(Fe,lt){let Ct=Fe===void 0?{}:Fe,{onKeyDown:st,onChange:yt,onInput:vt,onBlur:At,onChangeText:Zt,refKey:Tt="ref",ref:Rt}=Ct,tr=yn(Ct,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:Sr=!1}=lt===void 0?{}:lt;de("getInputProps",Sr,Tt,H);let kr=we.current.state,pr=zt=>{let me=bT(zt);me&&Pe[me]&&Pe[me](zt)},Er=zt=>{A({type:VJ,inputValue:zt.target.value})},Ae=()=>{kr.isOpen&&!Ie.current.isMouseDown&&A({type:uL,selectItem:!0})},We="onChange",Ze={};return tr.disabled||(Ze={[We]:Uo(yt,vt,Er),onKeyDown:Uo(st,pr),onBlur:Uo(At,Ae)}),je(je(nr(je({[Tt]:Yp(Rt,zt=>{H.current=zt}),id:le.inputId,"aria-autocomplete":"list","aria-controls":le.menuId},kr.isOpen&&kr.highlightedIndex>-1&&{"aria-activedescendant":le.getItemId(kr.highlightedIndex)}),{"aria-labelledby":le.labelId,autoComplete:"off",value:kr.inputValue}),Ze),tr)},[A,Pe,we,Ie,de,le]),_t=(0,Vt.useCallback)(function(Fe,lt){let Zt=Fe===void 0?{}:Fe,{refKey:st="ref",ref:yt}=Zt,vt=yn(Zt,["refKey","ref"]),{suppressRefError:At=!1}=lt===void 0?{}:lt;return de("getComboboxProps",At,st,re),je({[st]:Yp(yt,Tt=>{re.current=Tt}),role:"combobox","aria-haspopup":"listbox","aria-owns":le.menuId,"aria-expanded":we.current.state.isOpen},vt)},[we,de,le]),It=(0,Vt.useCallback)(()=>{A({type:RGe})},[A]),Ye=(0,Vt.useCallback)(()=>{A({type:qGe})},[A]),pt=(0,Vt.useCallback)(()=>{A({type:LGe})},[A]),ot=(0,Vt.useCallback)(Fe=>{A({type:zGe,highlightedIndex:Fe})},[A]),Ve=(0,Vt.useCallback)(Fe=>{A({type:GJ,selectedItem:Fe})},[A]),Oe=(0,Vt.useCallback)(Fe=>{A({type:jGe,inputValue:Fe})},[A]),He=(0,Vt.useCallback)(()=>{A({type:FGe})},[A]);return{getItemProps:dt,getLabelProps:Ke,getMenuProps:at,getInputProps:ct,getComboboxProps:_t,getToggleButtonProps:ze,toggleMenu:It,openMenu:pt,closeMenu:Ye,setHighlightedIndex:ot,setInputValue:Oe,selectItem:Ve,reset:He,highlightedIndex:z,isOpen:L,selectedItem:U,inputValue:N}}var UGe={activeIndex:-1,selectedItems:[]};function lGe(e,t){return yT(e,t,UGe)}function uGe(e,t){return ks(e,t,UGe)}function Ryr(e){let t=lGe(e,"activeIndex"),r=lGe(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function cGe(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function Lyr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var yjn={selectedItems:Yt.default.array,initialSelectedItems:Yt.default.array,defaultSelectedItems:Yt.default.array,itemToString:Yt.default.func,getA11yRemovalMessage:Yt.default.func,stateReducer:Yt.default.func,activeIndex:Yt.default.number,initialActiveIndex:Yt.default.number,defaultActiveIndex:Yt.default.number,onActiveIndexChange:Yt.default.func,onSelectedItemsChange:Yt.default.func,keyNavigationNext:Yt.default.string,keyNavigationPrevious:Yt.default.string,environment:Yt.default.shape({addEventListener:Yt.default.func,removeEventListener:Yt.default.func,document:Yt.default.shape({getElementById:Yt.default.func,activeElement:Yt.default.any,body:Yt.default.any})})},qyr={itemToString:_T.itemToString,stateReducer:_T.stateReducer,environment:_T.environment,getA11yRemovalMessage:Lyr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},zyr=wT,WJ=0,ZJ=1,YJ=2,KJ=3,XJ=4,QJ=5,JJ=6,eee=7,tee=8,ree=9,nee=10,iee=11,oee=12,jyr=Object.freeze({__proto__:null,SelectedItemClick:WJ,SelectedItemKeyDownDelete:ZJ,SelectedItemKeyDownBackspace:YJ,SelectedItemKeyDownNavigationNext:KJ,SelectedItemKeyDownNavigationPrevious:XJ,DropdownKeyDownNavigationPrevious:QJ,DropdownKeyDownBackspace:JJ,DropdownClick:eee,FunctionAddSelectedItem:tee,FunctionRemoveSelectedItem:ree,FunctionSetSelectedItems:nee,FunctionSetActiveIndex:iee,FunctionReset:oee});function Fyr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:l,selectedItems:d}=e,g;switch(r){case WJ:g={activeIndex:n};break;case XJ:g={activeIndex:l-1<0?0:l-1};break;case KJ:g={activeIndex:l+1>=d.length?-1:l+1};break;case YJ:case ZJ:{let _=l;d.length===1?_=-1:l===d.length-1&&(_=d.length-2),g={selectedItems:[...d.slice(0,l),...d.slice(l+1)],activeIndex:_};break}case QJ:g={activeIndex:d.length-1};break;case JJ:g={selectedItems:d.slice(0,d.length-1)};break;case tee:g={selectedItems:[...d,o]};break;case eee:g={activeIndex:-1};break;case ree:{let _=l,E=d.indexOf(o);E>=0&&(d.length===1?_=-1:E===d.length-1&&(_=d.length-2),g={selectedItems:[...d.slice(0,E),...d.slice(E+1)],activeIndex:_});break}case nee:{let{selectedItems:_}=t;g={selectedItems:_};break}case iee:{let{activeIndex:_}=t;g={activeIndex:_};break}case oee:g={activeIndex:uGe(i,"activeIndex"),selectedItems:uGe(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return je(je({},e),g)}VGe.stateChangeTypes=jyr;function VGe(e){e===void 0&&(e={}),zyr(e,VGe);let t=je(je({},qyr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:l}=t,[d,g]=vGe(Fyr,Ryr(t),t),{activeIndex:_,selectedItems:E}=d,T=(0,Vt.useRef)(!0),A=(0,Vt.useRef)(null),L=(0,Vt.useRef)(E),z=(0,Vt.useRef)();z.current=[];let U=cL({state:d,props:t});(0,Vt.useEffect)(()=>{if(!T.current){if(E.length<L.current.length){let ye=L.current.find(xe=>E.indexOf(xe)<0);fGe(r({itemToString:n,resultCount:E.length,removedSelectedItem:ye,activeIndex:_,activeSelectedItem:E[_]}),i.document)}L.current=E}},[E.length]),(0,Vt.useEffect)(()=>{T.current||(_===-1&&A.current?A.current.focus():z.current[_]&&z.current[_].focus())},[_]),SJ({isInitialMount:T.current,props:t,state:d});let N=wJ("getDropdownProps");(0,Vt.useEffect)(()=>{T.current=!1},[]);let R=(0,Vt.useMemo)(()=>({[l](){g({type:XJ})},[o](){g({type:KJ})},Delete(){g({type:ZJ})},Backspace(){g({type:YJ})}}),[g,o,l]),j=(0,Vt.useMemo)(()=>({[l](ye){cGe(ye)&&g({type:QJ})},Backspace(ye){cGe(ye)&&g({type:JJ})}}),[g,l]),H=(0,Vt.useCallback)(function(ye){let Ye=ye===void 0?{}:ye,{refKey:xe="ref",ref:Ie,onClick:de,onKeyDown:Pe,selectedItem:Ke,index:at}=Ye,dt=yn(Ye,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:ze}=U.current;if(bJ(at,Ke,ze.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let _t=()=>{g({type:WJ,index:at})},It=pt=>{let ot=bT(pt);ot&&R[ot]&&R[ot](pt)};return je({[xe]:Yp(Ie,pt=>{pt&&z.current.push(pt)}),tabIndex:at===ze.activeIndex?0:-1,onClick:Uo(de,_t),onKeyDown:Uo(Pe,It)},dt)},[g,U,R]),Y=(0,Vt.useCallback)(function(ye,xe){let It=ye===void 0?{}:ye,{refKey:Ie="ref",ref:de,onKeyDown:Pe,onClick:Ke,preventKeyAction:at=!1}=It,dt=yn(It,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:ze=!1}=xe===void 0?{}:xe;N("getDropdownProps",ze,Ie,A);let ct=Ye=>{let pt=bT(Ye);pt&&j[pt]&&j[pt](Ye)},_t=()=>{g({type:eee})};return je(je({[Ie]:Yp(de,Ye=>{Ye&&(A.current=Ye)})},!at&&{onKeyDown:Uo(Pe,ct),onClick:Uo(Ke,_t)}),dt)},[g,j,N]),re=(0,Vt.useCallback)(ye=>{g({type:tee,selectedItem:ye})},[g]),ie=(0,Vt.useCallback)(ye=>{g({type:ree,selectedItem:ye})},[g]),le=(0,Vt.useCallback)(ye=>{g({type:nee,selectedItems:ye})},[g]),Me=(0,Vt.useCallback)(ye=>{g({type:iee,activeIndex:ye})},[g]),we=(0,Vt.useCallback)(()=>{g({type:oee})},[g]);return{getSelectedItemProps:H,getDropdownProps:Y,addSelectedItem:re,removeSelectedItem:ie,setSelectedItems:le,setActiveIndex:Me,reset:we,selectedItems:E,activeIndex:_}}var Am=se(ir(),1);function aee({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:l=300}){let[d,g]=(0,Ds.useState)([]),[_,E]=(0,Ds.useState)(void 0),T=(0,Ds.useRef)(),A=(0,Ds.useRef)(null),L=Pe=>{clearTimeout(A.current),A.current=setTimeout(()=>{t(Pe).then(Ke=>g(Ke))},l)},z=({inputValue:Pe})=>{_!==void 0&&E(void 0),L(Pe)},U=({selectedItem:Pe})=>{o!==void 0&&o(Pe),E(Pe)},{isOpen:N,getToggleButtonProps:R,getLabelProps:j,getMenuProps:H,getInputProps:Y,getComboboxProps:re,getItemProps:ie,highlightedIndex:le}=pL({items:d,itemToString:n,onInputValueChange:z,onSelectedItemChange:U}),Ie=e!=null?e:{},{onClick:Me}=Ie,we=yn(Ie,["onClick"]),de=Y(),{ref:ye}=de,xe=yn(de,["ref"]);return Ds.default.createElement("div",{className:"vkf-autocomplete-container"},Ds.default.createElement("label",nr(je({},j()),{id:xe["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Ds.default.createElement("div",je({className:"form-group"},re()),Ds.default.createElement("input",je(nr(je({},xe),{ref:Pe=>{ye(Pe),T.current=Pe},type:"text"}),i)),Ds.default.createElement("button",je(je(nr(je({type:"button"},R()),{"aria-label":"toggle menu"}),we),Me!==void 0?{onClick:()=>{Me(_,T.current!==null?T.current.value:"")}}:{}),"\u2193")),Ds.default.createElement("div",{className:"autocomplete-dropdown"},Ds.default.createElement("ul",nr(je({className:"autocomplete-result-list"},H()),{id:xe["aria-controls"]}),N&&d.map((Pe,Ke)=>Ds.default.createElement("li",je({className:xr("ui-menu-item",le===Ke&&"highlighted",_===Pe&&"selected"),key:`${Pe.label}${Ke}`},ie({item:Pe,index:Ke})),Pe.label)))))}aee.propTypes={buttonProps:Am.default.object,fetchInputItems:Am.default.func,label:Am.default.string,inputProps:Am.default.object,itemToString:Am.default.func,onSelectedItemChange:Am.default.func,timeout:Am.default.number};p();var see=(e,t,r)=>{let n=e+"?format=json&q="+t;return Sa.get(n).then(i=>{let l=i.data.map(d=>({label:d.display_name,value:d.display_name,lonlat:{x:parseFloat(d.lon),y:parseFloat(d.lat)},type:d.type}));return r!==void 0&&r(),l})};var Byr=e=>e?e.label:"",$Ge=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,Zv.useState)(!1),o=di(ns),l=(0,Zv.useCallback)(g=>(i(!0),see(r,g,()=>{i(!1)})),[r]),d=(g,_)=>{g!==void 0?t(g):see(r,_).then(E=>{if(E.length>0)t(E[0]);else throw new Error(gt("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:gt("placenamesearch-unknown-placename")})})};return Zv.default.createElement("div",{className:"gazetteersearch-container"},Zv.default.createElement(aee,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:d,"aria-label":gt("placenamesearch-submit"),title:gt("placenamesearch-submit")},fetchInputItems:l,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:gt("placenamesearch-placeholder")},itemToString:Byr,onSelectedItemChange:d}))};$Ge.propTypes={onSelectPosition:lee.default.func.isRequired,searchUrl:lee.default.string.isRequired};var GGe=$Ge;var HGe=se(ir(),1),WGe=({searchUrl:e})=>{let t=hr(bn),r=(0,fL.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return fL.default.createElement(GGe,{onSelectPosition:r,searchUrl:e})};WGe.propTypes={searchUrl:HGe.default.string.isRequired};var ZGe=WGe;var YGe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=hr($Re);return Pm.default.createElement("div",{className:xr("vkf-spatialsearch-root",!n&&"in")},Pm.default.createElement("div",{className:"spatialsearch-inner-container"},Pm.default.createElement("div",{className:"spatialsearch-content-panel"},Pm.default.createElement("div",{className:"body-container"},Pm.default.createElement(ZGe,{searchUrl:zr.getNominatimUrl()}),Pm.default.createElement(H$e,null),Pm.default.createElement(SUe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};YGe.propTypes={customQuery:dL.default.array,MapSearchListItemComponent:dL.default.elementType,mosaicMode:dL.default.bool};var KGe=YGe;p();var gi=se(tt(),1);p();var Kp=se(tt(),1);var wb=se(ir(),1);p();p();p();var Om=se(tt(),1);p();p();var Lc=se(tt(),1),cl=se(ir(),1);p();var ST=ob;var uee={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},XGe=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:l=!1,IconComponent:d,options:g=[{id:uee.ADD,title:gt("georef-setgcp"),iconClassName:"icon-point-add"},{id:uee.MOVE,title:gt("georef-movegcp"),iconClassName:"icon-point-move"},{id:uee.DEL,title:gt("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:_}=e,E=g.find(A=>A.id===r),T=A=>{_(A)};return Lc.default.createElement("div",{className:xr("vkf-control-dropdown",E&&!l?"active":"",n)},Lc.default.createElement(rI,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:E?E.id:null},Lc.default.createElement(rI.Toggle,null,d===void 0?Lc.default.createElement(ST,{name:i,size:24}):Lc.default.createElement(d,{glyph:i}),E?E.title:o),Lc.default.createElement(rI.Menu,null,g.map(A=>Lc.default.createElement(oK,{key:A.id,eventKey:A.id,onClick:()=>T(A.id),className:xr("control-option",A.id)},d===void 0?Lc.default.createElement(ST,{name:`${A.iconClassName}`,size:24}):Lc.default.createElement(d,{glyph:A.iconClassName}),Lc.default.createElement("span",{className:"text"},A.title))))))};XGe.propTypes={activeControl:cl.default.string,className:cl.default.string,defaultTitle:cl.default.string,disableActiveBehavior:cl.default.bool,IconComponent:cl.default.elementType,id:cl.default.string,parentIconClassName:cl.default.string,options:cl.default.arrayOf(cl.default.shape({id:cl.default.string.isRequired,title:cl.default.string.isRequired,iconClassName:cl.default.string.isRequired})),onClick:cl.default.func.isRequired};var QGe=XGe;var JGe=QGe;p();var eHe=e=>Ar(null,null,function*(){let t=zr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),tHe=()=>Ar(null,null,function*(){let r=yield zr.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(YN);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),rHe=e=>Ar(null,null,function*(){let t=zr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),nHe=e=>Ar(null,null,function*(){if(e.id===void 0||e.id===Vo){let t=e,{id:r}=t,n=yn(t,["id"]);return yield Uyr(n)}else return yield Vyr(e)}),Uyr=e=>Ar(null,null,function*(){let t=zr.getGeoreferenceApiClient(),r="/mosaic_maps/",n=tQ(e),i=yield t.post(r,n);if(i.status===200)return YN(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),Vyr=e=>Ar(null,null,function*(){let t=zr.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=tQ(e),o=yield t.post(n,i);if(o.status===200)return YN(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});p();p();function iHe(e){return Ar(this,null,function*(){let t=zr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield Sa.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var oHe=e=>iHe(e).then(t=>eQ(e,t)).catch(()=>{let t=new hv({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});p();var hL=se(tt(),1);var qc="mosaic-map-overlay-source",$yr="mosaic-map-overlay-fill",aHe="mosaic-map-overlay-outline",mL=e=>{e.moveLayer(aHe)},Yv=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(qc);r&&r.setData(t)},sHe=()=>hL.default.createElement(hL.default.Fragment,null,hL.default.createElement(xO,{sourceId:qc,fillId:$yr,outlineId:aHe}));sHe.propTypes={};var lHe=sHe;p();var cHe=se(tE(),1);var xb=24,gL=100,Gyr={left:xb+tR.width+gL,right:xb+cQ.width+gL,top:60,bottom:xb},Hyr={left:50,right:50,top:75,bottom:150},Wyr=e=>({padding:e===Sp.HORIZONTAL?Gyr:Hyr,animate:!1}),Zyr={padding:{left:xb+tR.width*2+gL,right:gL,top:xb,bottom:xb},animate:!1},uHe=e=>{let t=e;Array.isArray(e)||(t=[e]);let r=null;for(let n of t){let i=n.getMetadata(rr.bounds);if(!Nt(r)){r=new cHe.LngLatBounds(i);continue}r.extend(i)}return r},Yyr=()=>{let e=em(({snapshot:r})=>n=>Ar(null,null,function*(){let i=yield r.getPromise(bn),o=yield r.getPromise(KO),l=Wyr(o);if(Nt(i)){let d=uHe(n);i.fitBounds(d,l)}}),[]),t=em(({snapshot:r})=>n=>Ar(null,null,function*(){let i=yield r.getPromise(bn);if(Nt(i)){let o=uHe(n);i.fitBounds(o,Zyr)}}),[]);return{zoomToExtent:e,zoomToExtentMosaicMap:t}},pHe=Yyr;var Vo="create-new-mosaic-map",Kyr=()=>{let[e,t]=Mn(km),[r,n]=(0,Om.useState)(e===cs.DOWNLOADING_LIST),i=hr(bn),[o,l]=Om.default.useState([]),[d,g]=Mn(Nu),_=di(pl),E=di(ns),{zoomToExtentMosaicMap:T}=pHe(),A=()=>{n(!0),tHe().then(z=>{l(z),n(!1),t(U=>U===cs.DOWNLOADING_LIST?cs.NOT_LOADING:U)}).catch(z=>{console.error(z),E({id:"mosaic-map-failed-load-list",type:"danger",text:gt("mosaic-map-error-messages-failed-load-list")})})},L=z=>{var N;let U=(N=o.find(R=>R.id===z))!=null?N:{id:Vo};if(g(U),U.raw_map_ids!==void 0){let R=U.raw_map_ids.map(j=>oHe(j));Promise.all(R).then(j=>{i!==void 0&&T(j),Yv(i),_(j),j.forEach(H=>H.addToOverlay(i,qc))}).catch(j=>{console.error(j)})}else _([]),Yv(i)};return(0,Om.useEffect)(()=>{e===cs.DOWNLOADING_LIST&&r===!1&&A()},[e]),(0,Om.useEffect)(()=>{A()},[]),Om.default.createElement(JGe,{id:"control-toggle-transformation",activeControl:d.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:Mo,options:[...o.map(z=>nr(je({},z),{iconClassName:"th-large"})),{iconClassName:"plus",id:Vo,title:gt("mosaic-maps-create-new")}],onClick:L,parentIconClassName:d.id===Vo?"plus":"th-large"})},fHe=Kyr;var pl=tn({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),hBn=tn({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),Nu=tn({key:"mosaicMapSelectedMosaicMapState",default:{id:Vo}}),cs={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},km=tn({key:"mosaicMapLoadingState",default:cs.NOT_LOADING});function Xyr(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var cee=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,l]=(0,Kp.useState)({itemCount:10,id:Date.now()}),d=hr(pl),g=(0,Kp.useCallback)((E,T)=>d===void 0?new Promise(A=>A([])):new Promise(A=>{let L=Xyr(d.slice(E,E+T),n);i==="descending"&&L.reverse(),A(L)}),[d,i,n]),_=(0,Kp.useCallback)(()=>{l({itemCount:d.length,id:Date.now()})},[g]);return(0,Kp.useEffect)(()=>{_()},[d,n,i]),Kp.default.createElement(Kp.default.Fragment,null,t({minimumBatchSize:e,onRefresh:_,onFetchResults:g,searchResultDescriptor:o}))};cee.propTypes={minimumBatchSize:wb.default.number,renderConsumer:wb.default.func,sortSettings:wb.default.shape({activeType:wb.default.string,sortOrder:wb.default.string})};p();var si=se(tt(),1),Ru=se(ir(),1);var ET=se($X(),1);var dHe="http://www.deutschefotothek.de/images/noimage/image120.jpg",hHe=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var ye;let{direction:l,maps:d}=t,g=hr(bn),[_,E]=Mn(pl),[T,A]=Mn(tl),L=(ye=d[r])!=null?ye:Up,z=_.find(xe=>xe.getId()===L.getId()),[U,N]=(0,si.useState)(L.getMetadata(rr.thumbnailUrl)===void 0?"":L.getMetadata(rr.thumbnailUrl).replace("http:","")),R=L===Up,j=L.isMissing(),H=z==null?void 0:z.isDisplayedInMap(g),Y=L.getMetadata(rr.mapScale)==="0"||L.getMetadata(rr.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${L.getMetadata(rr.mapScale)}`,re=L.getDisplayTime(),ie=L.getSortTime(),le=xe=>{xe.stopPropagation(),nb(T,z)?(A(de=>de.filter(Pe=>Pe.getId()!==z.getId())),z.removeMapLibreLayers(g)):ib(z).then(de=>{z.addLayerToMap(g,{sourceSettings:de}),A(Pe=>[...Pe,z])})},Me=()=>{U!==""&&U!==dHe&&N(dHe)},we=xe=>{xe.stopPropagation(),E(Ie=>Ie.filter(de=>de.getId()!==L.getId())),z.removeFromOverlay(g,qc)};return(0,si.useEffect)(()=>{N(L.getMetadata(rr.thumbnailUrl))},[L]),si.default.createElement("li",{tabIndex:0,style:o,className:xr("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",L.getType(),H&&"selected",l,R&&"loading",j&&"missing"),id:L.getId(),onMouseEnter:n,onMouseLeave:i},e,si.default.createElement("span",{className:"data-col time"},isNaN(ie)?"":ie),si.default.createElement("span",{className:"data-col title"},L.getMetadata(rr.title)),si.default.createElement("span",{className:"data-col time"},"1"),si.default.createElement("div",{className:"view-item"},!j&&si.default.createElement("span",{className:"thumbnail"},U===""?si.default.createElement(ET.default.default,{height:"calc(100% - 6px)"}):si.default.createElement("img",{alt:`Thumbnail Image of Map ${L.getMetadata(rr.title)} ${re}`,onError:Me,src:U})),si.default.createElement("div",{className:"overview"},si.default.createElement("h2",null,R?si.default.createElement(ET.default.default,null):j?`${gt("mosaic-map-missing-sheet")}: ${L.getId()}`:L.getMetadata(rr.title)),si.default.createElement("div",{className:"details"},!j&&si.default.createElement(si.default.Fragment,null,si.default.createElement("div",{className:"timestamp"},R?si.default.createElement(ET.default.default,null):`${gt("mapsearch-listelement-time")} ${re}`),si.default.createElement("div",{className:"scale"},R?si.default.createElement(ET.default.default,null):`${gt("mapsearch-listelement-scale")} ${Y}`)),!L.getMetadata(rr.hasGeoReference)&&si.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef")))),si.default.createElement("div",{className:"actions"},!j&&si.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:le},si.default.createElement(Mo,{glyph:H?"eye-open":"eye-close"})),si.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:we},si.default.createElement(Mo,{glyph:"trash"})))))};hHe.propTypes={children:Ru.default.element,data:Ru.default.shape({direction:Ru.default.oneOf(["horizontal","vertical"]),feature:Ru.default.object,maps:Ru.default.object,selected:Ru.default.bool}),onClick:Ru.default.func,onMouseEnter:Ru.default.func,onMouseLeave:Ru.default.func,index:Ru.default.number,style:Ru.default.object};var mHe=hHe;var Qyr=()=>{let e=hr(bn),[t,r]=Mn(tl),[n,i]=Mn(pl),o=n.length===0,l=!o&&n.every(T=>T.isDisplayedInMap(e)),d=t.length===0||t.filter(T=>n.find(A=>A.getId()===T.getId())!==void 0).length===t.length,g=()=>{t.forEach(T=>{let A=T.getId();n.find(L=>L.getId()===A)===void 0&&(i(L=>[...L,T]),T.addToOverlay(e,qc))})},_=()=>{let T=n.map(A=>A.getId());if(l){r(A=>A.filter(L=>!T.includes(L.getId()))),n.forEach(A=>A.removeMapLibreLayers(e));return}n.filter(A=>!A.isDisplayedInMap(e)).forEach(A=>ib(A).then(L=>{A.addLayerToMap(e,{sourceSettings:L}),r(z=>[...z,A])})),mL(e)},E=()=>{i([]),Yv(e)};return gi.default.createElement("div",{className:xr("mapsearch-container")},gi.default.createElement("div",{className:"spatialsearch-inner-container"},gi.default.createElement("div",{className:"spatialsearch-content-panel"},gi.default.createElement("div",{className:"body-container"},gi.default.createElement("div",{className:"header-container"},gi.default.createElement("div",{className:"title"},gi.default.createElement("h4",null,gt("mosaic-maps-refresh-selected-list-title")),gi.default.createElement(Mo,{glyph:"th-large"})),gi.default.createElement("div",{className:"actions"},gi.default.createElement("div",{className:"add-all-selected"},gi.default.createElement(Rl,{disabled:d,onClick:g},gt("mosaic-maps-add-all-selected"))),gi.default.createElement("div",{className:"action-container"},gi.default.createElement("div",{className:"view-all-toggle control"},gi.default.createElement("button",{className:xr(!l&&"selected"),disabled:o,onClick:_},gi.default.createElement(Mo,{glyph:l?"eye-open":"eye-close"}))),gi.default.createElement("div",{className:"select-all-toggle control"},gi.default.createElement("button",{disabled:o,onClick:E},gi.default.createElement(Mo,{glyph:"trash"})))))),gi.default.createElement("div",{className:"panel panel-default searchTablePanel"},gi.default.createElement("div",{className:"panel-heading"},gi.default.createElement("div",{className:"content"},gi.default.createElement("div",null,n.length===0?gt("mosaic-maps-selected-no-maps"):`${n.length} ${gt("mosaic-maps-selected-maps")}`)),gi.default.createElement("div",{className:"facet-container"},gi.default.createElement(FN,{georeferenceMode:!1}))),gi.default.createElement("div",{className:"panel-body"},gi.default.createElement(WN,{enableOverlayLayer:!1,DataProvider:cee,ListItemComponent:mHe})))))))},gHe=Qyr;p();var IT=se(tt(),1);var vHe=({data:e,index:t,style:r})=>{let[n,i]=Mn(pl),o=hr(bn),l=e.maps[t],d=Nt(l)&&nb(n,l),g=E=>{Nt(E)&&(E.stopPropagation(),E.preventDefault()),Nt(l)&&(d?(i(T=>T.filter(A=>A.getId()!==l.getId())),l.removeFromOverlay(o,qc)):(i(T=>[...T,l]),l.addToOverlay(o,qc),mL(o)))},_=E=>{E.key==="Enter"&&g()};return IT.default.createElement("div",{className:xr("vkf-mosaic-map-result-list-element",d&&"selected")},IT.default.createElement(UI,{index:t,data:e,style:r},IT.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:_,onClick:g},IT.default.createElement("i",{className:"arrow right"}))))};vHe.propTypes=je({},UI.propTypes);var yHe=vHe;var bHe=()=>yd.default.createElement(yd.default.Fragment,null,yd.default.createElement(lHe,null),yd.default.createElement("div",{className:"vkf-horizontal-layout"},yd.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container"},yd.default.createElement(KGe,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:yHe,mosaicMode:!0})),yd.default.createElement("div",{className:"selected-maps-container"},yd.default.createElement(gHe,null))));bHe.propTypes={onAddGeoJson:_He.default.func};var xHe=bHe;p();var EHe=se(tt(),1);p();p();var TT=se(tt(),1),_d=se(ir(),1);var wHe=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:l="unknown",onClick:d,title:g="unknown"}=e;return TT.default.createElement("button",{onClick:()=>{d(l)},className:xr("vkf-control-button",r,t===l&&"active",n&&"disabled"),disabled:n},o===void 0?TT.default.createElement(ST,{name:i,size:24}):TT.default.createElement(o,{glyph:i}),TT.default.createElement("span",{className:"text"},g))};wHe.propTypes={activeControl:_d.default.string,className:_d.default.string,disabled:_d.default.bool,id:_d.default.string.isRequired,iconClassName:_d.default.string,IconComponent:_d.default.elementType,onClick:_d.default.func.isRequired,title:_d.default.string};var SHe=wHe;var Sb=SHe;var Jyr=()=>{let e=hr(Nu),t=di(ns),r=()=>{e!==void 0&&rHe(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:gt("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:gt("mosaic-map-error-messages-failed-update-overview")})})};return EHe.default.createElement(Sb,{disabled:e.id===Vo,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:gt("mosaic-maps-refresh-overview")})},IHe=Jyr;p();var Vl=se(tt(),1);p();var Xp=se(tt(),1);var CHe=se(MHe(),1);var bd={LOADING:0,SAVED:1,CHANGED:2},pee=()=>{let e=hr(Nu),[t,r]=(0,Xp.useState)(e),n=hr(km),i=pk(n);(0,Xp.useEffect)(()=>{r(e)},[e.id]),(0,Xp.useEffect)(()=>{n!==cs.UPLOADING_CHANGES&&i===cs.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===cs.UPLOADING_CHANGES?o=bd.LOADING:t.id!==Vo&&(0,CHe.default)(t,e)?o=bd.SAVED:o=bd.CHANGED,o},e0r=()=>{let e=pee();return Xp.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},Xp.default.createElement("label",null,e===bd.SAVED?gt("mosaic-map-saved-indicator-saved"):gt("mosaic-map-saved-indicator-not-saved")),bd.LOADING===e?Xp.default.createElement(X_,null):Xp.default.createElement("div",{className:xr("indicator",e===bd.SAVED&&"saved",e===bd.CHANGED&&"changed")}))},AHe=e0r;var t0r=e=>e!==void 0&&e.length>0,PHe=e=>Number.isSafeInteger(e),vL=e=>e!==void 0&&e.length>0,r0r=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:l,map_scale:d}=e;return vL(t)&&t0r(r)&&vL(n)&&vL(i)&&PHe(o)&&vL(l)&&PHe(d)},n0r=()=>{let[e,t]=(0,Vl.useState)(!1),[r,n]=Mn(km),i=di(ns),[o,l]=Mn(Nu),d=pee(),g=o.id!==Vo,_=()=>{t(!1)},E=()=>{t(!0)},T=()=>{o!==void 0&&(n(cs.UPLOADING_CHANGES),nHe(o).then(A=>{n(cs.DOWNLOADING_LIST),l(nr(je({},A),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:gt("mosaic-map-success-messages-saved")})}).catch(A=>{console.error(A),i({id:"mosaic-map-save-button",type:"danger",text:gt("mosaic-map-error-messages-failed-upload")})}).finally(()=>{_()}))};return Vl.default.createElement(Vl.default.Fragment,null,Vl.default.createElement(W_,{bs:!0,isOpen:e,onClose:_,title:gt("mosaic-map-save-modal-title"),renderContent:()=>Vl.default.createElement("div",{className:"vkf-modal-description-container"},Vl.default.createElement("p",null,gt("mosaic-map-save-modal-content"))),renderFooter:()=>Vl.default.createElement(Vl.default.Fragment,null,Vl.default.createElement(Rl,{bsStyle:"warning",bsSize:"large",onClick:_},gt("mosaic-map-delete-modal-buttonCancel")),Vl.default.createElement(Rl,{bsStyle:"success",bsSize:"large",onClick:T},gt("mosaic-map-save-modal-buttonSave")))}),Vl.default.createElement(Sb,{disabled:!r0r(o)||r===cs.UPLOADING_CHANGES||g&&d!==bd.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:g?E:T,title:gt("mosaic-maps-save")}))},OHe=n0r;p();var $l=se(tt(),1);var i0r=()=>{let[e,t]=(0,$l.useState)(!1),[r,n]=Mn(Nu),i=di(km),o=di(ns),l=di(pl),d=hr(bn),g=()=>{eHe(r.id).then(()=>{_(),n({id:Vo}),l([]),Yv(d),i(cs.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:gt("mosaic-map-success-messages-delete")})}).catch(()=>{_(),o({id:"mosaic-map-delete-button",type:"danger",text:gt("mosaic-map-error-messages-delete-failed")})})},_=()=>{t(!1)},E=()=>{t(!0)};return $l.default.createElement($l.default.Fragment,null,$l.default.createElement(W_,{bs:!0,isOpen:e,onClose:_,title:gt("mosaic-map-delete-modal-title"),renderContent:()=>$l.default.createElement("div",{className:"vkf-modal-description-container"},$l.default.createElement("p",null,gt("mosaic-map-delete-modal-content"))),renderFooter:()=>$l.default.createElement($l.default.Fragment,null,$l.default.createElement(Rl,{bsStyle:"warning",bsSize:"large",onClick:_},gt("mosaic-map-delete-modal-buttonCancel")),$l.default.createElement(Rl,{bsStyle:"danger",bsSize:"large",onClick:g},gt("mosaic-map-delete-modal-buttonDelete")))}),$l.default.createElement(Sb,{className:"delete-mosaic-map-button",disabled:r.id===Vo,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:Mo,onClick:E,title:gt("mosaic-maps-delete")}))},kHe=i0r;p();var ho=se(tt(),1);var Eb=se(ir(),1);var DHe=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],o0r=()=>{let e=hr(pl),[t,r]=Mn(Nu),[,n]=(0,ho.useState)(0),i=(d,g)=>{var L;let{allowEmpty:_,min:E,max:T}=(L=g.extraProps)!=null?L:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},A=document.getElementById(d);if(A!==null&&t[d]!==void 0){if(g.type==="string")return A.value.length>0||_?"success":"error";if(g.type==="number"){let z=A.valueAsNumber;return z>=E&&z<=T?"success":"error"}}return null},o=d=>{let g=d.target.id,_=DHe.find(T=>T.id===g).type,E;_==="number"?E=d.target.valueAsNumber:E=d.target.value,r(T=>nr(je({},T),{[g]:E}))},l=d=>{d.key==="Enter"&&d.target.blur()};return(0,ho.useEffect)(()=>{n(Date.now())},[t.id]),(0,ho.useEffect)(()=>{r(d=>{var g;return nr(je({},d),{raw_map_ids:(g=e==null?void 0:e.map(_=>_.getId()))!=null?g:[]})})},[e]),ho.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},ho.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},ho.default.createElement("div",{className:"vk-mosaic-map-title"},ho.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===Vo?gt("mosaic-maps-input-panel-title"):t.title),ho.default.createElement("div",{className:"divider"}),ho.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===Vo?"undefined":t.id)),ho.default.createElement(AHe,null)),ho.default.createElement("div",{className:"input-container"},ho.default.createElement(HY,null,DHe.map((d,g)=>ho.default.createElement(NHe,{bsClass:d.className,defaultValue:t[d.id],key:`${t.id}_${g}`,id:d.id,type:d.type,label:gt(`mosaic-maps-input-panel-field_${d.id}`),placeholder:d.id==="name"?gt(`mosaic-maps-input-panel-help_${d.id}`):void 0,onBlur:o,onKeyDown:l,validationState:i(d.id,d)})))))};function NHe(l){var d=l,{id:e,label:t,help:r,bsClass:n,validationState:i}=d,o=yn(d,["id","label","help","bsClass","validationState"]);return ho.default.createElement(tK,{bsClass:n,controlId:e,validationState:i},ho.default.createElement("div",{className:"label-container"},ho.default.createElement(cY,null,t)),ho.default.createElement(QY,je({},o)),r&&ho.default.createElement(nK,null,r))}NHe.propTypes={bsClass:Eb.default.string,id:Eb.default.string,label:Eb.default.string,help:Eb.default.string,validationState:Eb.default.string};var RHe=o0r;p();var Gl=se(tt(),1);var yL=se(ir(),1);var LHe=e=>{let{onClose:t,text:r,type:n}=e;return Gl.default.createElement("div",{className:"notification-item"},Gl.default.createElement("div",{className:xr("alert","alert-"+n),role:"alert"},Gl.default.createElement("div",{className:"close"},Gl.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},Gl.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),Gl.default.createElement("div",{className:"text"},r)))};LHe.propTypes={onClose:yL.default.func,text:yL.default.string,type:yL.default.string};var a0r=()=>{let e=hr(ns),t=pk(e),[r,n]=(0,Gl.useState)([]);return(0,Gl.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(l=>l.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(l=>l!==void 0))}},[e,r,t]),Gl.default.createElement("div",{className:xr("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},l)=>Gl.default.createElement(LHe,{key:l,onClose:()=>{let d=[...r];d.splice(l,1),n(d)},type:i,text:o})))},qHe=a0r;var zHe=()=>Ns.default.createElement(rke,null,Ns.default.createElement("div",{className:"vkf-app-mosaic-map-container"},Ns.default.createElement(qHe,null),Ns.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},Ns.default.createElement("div",null,Ns.default.createElement(fHe,null)),Ns.default.createElement("div",null,Ns.default.createElement(IHe,null),Ns.default.createElement(OHe,null),Ns.default.createElement(kHe,null))),Ns.default.createElement("div",{className:"vk-mosaic-map-input-panel"},Ns.default.createElement(RHe,null)),Ns.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},Ns.default.createElement(UFe,{baseMapUrl:zr.getDefaultBaseMapUrls(),layout:Sp.HORIZONTAL,mapViewSettings:zr.getDefaultMapView(),ChildComponent:xHe,loadMarkerIcon:!1}))));zHe.propTypes={};var jHe=zHe;var s0r=zr;function l0r(e){BHe.default.render(FHe.default.createElement(jHe,null),e)}return VZe(u0r)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.1/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/