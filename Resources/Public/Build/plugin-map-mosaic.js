var vk2=(()=>{var $Fe=Object.create;var y_=Object.defineProperty,HFe=Object.defineProperties,WFe=Object.getOwnPropertyDescriptor,GFe=Object.getOwnPropertyDescriptors,ZFe=Object.getOwnPropertyNames,PI=Object.getOwnPropertySymbols,YFe=Object.getPrototypeOf,Ek=Object.prototype.hasOwnProperty,OY=Object.prototype.propertyIsEnumerable;var DY=e=>{throw TypeError(e)},Dh=Math.pow,Ik=(e,t,r)=>t in e?y_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rt=(e,t)=>{for(var r in t||(t={}))Ek.call(t,r)&&Ik(e,r,t[r]);if(PI)for(var r of PI(t))OY.call(t,r)&&Ik(e,r,t[r]);return e},qr=(e,t)=>HFe(e,GFe(t));var Pn=(e,t)=>{var r={};for(var n in e)Ek.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&PI)for(var n of PI(e))t.indexOf(n)<0&&OY.call(e,n)&&(r[n]=e[n]);return r};var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),KFe=(e,t)=>{for(var r in t)y_(e,r,{get:t[r],enumerable:!0})},kY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZFe(t))!Ek.call(e,i)&&i!==r&&y_(e,i,{get:()=>t[i],enumerable:!(n=WFe(t,i))||n.enumerable});return e};var re=(e,t,r)=>(r=e!=null?$Fe(YFe(e)):{},kY(t||!e||!e.__esModule?y_(r,"default",{value:e,enumerable:!0}):r,e)),XFe=e=>kY(y_({},"__esModule",{value:!0}),e);var Xe=(e,t,r)=>Ik(e,typeof t!="symbol"?t+"":t,r),Tk=(e,t,r)=>t.has(e)||DY("Cannot "+r);var Ck=(e,t,r)=>(Tk(e,t,"read from private field"),r?r.call(e):t.get(e)),OI=(e,t,r)=>t.has(e)?DY("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qY=(e,t,r,n)=>(Tk(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ak=(e,t,r)=>(Tk(e,t,"access private method"),r);var Vi=(e,t,r)=>new Promise((n,i)=>{var o=h=>{try{p(r.next(h))}catch(y){i(y)}},u=h=>{try{p(r.throw(h))}catch(y){i(y)}},p=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,u);p((r=r.apply(e,t)).next())});var Mk=I((Wnr,RY)=>{"use strict";var NY=Object.getOwnPropertySymbols,JFe=Object.prototype.hasOwnProperty,QFe=Object.prototype.propertyIsEnumerable;function e9e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t9e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}RY.exports=t9e()?Object.assign:function(e,t){for(var r,n=e9e(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)JFe.call(r,u)&&(n[u]=r[u]);if(NY){i=NY(r);for(var p=0;p<i.length;p++)QFe.call(r,i[p])&&(n[i[p]]=r[i[p]])}}return n}});var JY=I(bn=>{"use strict";var Ok=Mk(),nv=60103,FY=60106;bn.Fragment=60107;bn.StrictMode=60108;bn.Profiler=60114;var jY=60109,BY=60110,VY=60112;bn.Suspense=60113;var UY=60115,$Y=60116;typeof Symbol=="function"&&Symbol.for&&(_l=Symbol.for,nv=_l("react.element"),FY=_l("react.portal"),bn.Fragment=_l("react.fragment"),bn.StrictMode=_l("react.strict_mode"),bn.Profiler=_l("react.profiler"),jY=_l("react.provider"),BY=_l("react.context"),VY=_l("react.forward_ref"),bn.Suspense=_l("react.suspense"),UY=_l("react.memo"),$Y=_l("react.lazy"));var _l,LY=typeof Symbol=="function"&&Symbol.iterator;function r9e(e){return e===null||typeof e!="object"?null:(e=LY&&e[LY]||e["@@iterator"],typeof e=="function"?e:null)}function __(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WY={};function iv(e,t,r){this.props=e,this.context=t,this.refs=WY,this.updater=r||HY}iv.prototype.isReactComponent={};iv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(__(85));this.updater.enqueueSetState(this,e,t,"setState")};iv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GY(){}GY.prototype=iv.prototype;function Dk(e,t,r){this.props=e,this.context=t,this.refs=WY,this.updater=r||HY}var kk=Dk.prototype=new GY;kk.constructor=Dk;Ok(kk,iv.prototype);kk.isPureReactComponent=!0;var qk={current:null},ZY=Object.prototype.hasOwnProperty,YY={key:!0,ref:!0,__self:!0,__source:!0};function KY(e,t,r){var n,i={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)ZY.call(t,n)&&!YY.hasOwnProperty(n)&&(i[n]=t[n]);var p=arguments.length-2;if(p===1)i.children=r;else if(1<p){for(var h=Array(p),y=0;y<p;y++)h[y]=arguments[y+2];i.children=h}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)i[n]===void 0&&(i[n]=p[n]);return{$$typeof:nv,type:e,key:o,ref:u,props:i,_owner:qk.current}}function n9e(e,t){return{$$typeof:nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nk(e){return typeof e=="object"&&e!==null&&e.$$typeof===nv}function i9e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zY=/\/+/g;function Pk(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i9e(""+e.key):t.toString(36)}function kI(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case nv:case FY:u=!0;}}if(u)return u=e,i=i(u),e=n===""?"."+Pk(u,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(zY,"$&/")+"/"),kI(i,t,r,"",function(y){return y})):i!=null&&(Nk(i)&&(i=n9e(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(zY,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Array.isArray(e))for(var p=0;p<e.length;p++){o=e[p];var h=n+Pk(o,p);u+=kI(o,t,r,h,i)}else if(h=r9e(e),typeof h=="function")for(e=h.call(e),p=0;!(o=e.next()).done;)o=o.value,h=n+Pk(o,p++),u+=kI(o,t,r,h,i);else if(o==="object")throw t=""+e,Error(__(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function DI(e,t,r){if(e==null)return e;var n=[],i=0;return kI(e,n,"","",function(o){return t.call(r,o,i++)}),n}function o9e(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var XY={current:null};function Qc(){var e=XY.current;if(e===null)throw Error(__(321));return e}var a9e={ReactCurrentDispatcher:XY,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:qk,IsSomeRendererActing:{current:!1},assign:Ok};bn.Children={map:DI,forEach:function(e,t,r){DI(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return DI(e,function(){t++}),t},toArray:function(e){return DI(e,function(t){return t})||[]},only:function(e){if(!Nk(e))throw Error(__(143));return e}};bn.Component=iv;bn.PureComponent=Dk;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a9e;bn.cloneElement=function(e,t,r){if(e==null)throw Error(__(267,e));var n=Ok({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=qk.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(h in t)ZY.call(t,h)&&!YY.hasOwnProperty(h)&&(n[h]=t[h]===void 0&&p!==void 0?p[h]:t[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){p=Array(h);for(var y=0;y<h;y++)p[y]=arguments[y+2];n.children=p}return{$$typeof:nv,type:e.type,key:i,ref:o,props:n,_owner:u}};bn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:BY,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:jY,_context:e},e.Consumer=e};bn.createElement=KY;bn.createFactory=function(e){var t=KY.bind(null,e);return t.type=e,t};bn.createRef=function(){return{current:null}};bn.forwardRef=function(e){return{$$typeof:VY,render:e}};bn.isValidElement=Nk;bn.lazy=function(e){return{$$typeof:$Y,_payload:{_status:-1,_result:e},_init:o9e}};bn.memo=function(e,t){return{$$typeof:UY,type:e,compare:t===void 0?null:t}};bn.useCallback=function(e,t){return Qc().useCallback(e,t)};bn.useContext=function(e,t){return Qc().useContext(e,t)};bn.useDebugValue=function(){};bn.useEffect=function(e,t){return Qc().useEffect(e,t)};bn.useImperativeHandle=function(e,t,r){return Qc().useImperativeHandle(e,t,r)};bn.useLayoutEffect=function(e,t){return Qc().useLayoutEffect(e,t)};bn.useMemo=function(e,t){return Qc().useMemo(e,t)};bn.useReducer=function(e,t,r){return Qc().useReducer(e,t,r)};bn.useRef=function(e){return Qc().useRef(e)};bn.useState=function(e){return Qc().useState(e)};bn.version="17.0.2"});var Ue=I((Znr,QY)=>{"use strict";QY.exports=JY()});var oK=I(Nn=>{"use strict";var av,w_,LI,Vk;typeof performance=="object"&&typeof performance.now=="function"?(eK=performance,Nn.unstable_now=function(){return eK.now()}):(Rk=Date,tK=Rk.now(),Nn.unstable_now=function(){return Rk.now()-tK});var eK,Rk,tK;typeof window=="undefined"||typeof MessageChannel!="function"?(ov=null,Lk=null,zk=function(){if(ov!==null)try{var e=Nn.unstable_now();ov(!0,e),ov=null}catch(t){throw setTimeout(zk,0),t}},av=function(e){ov!==null?setTimeout(av,0,e):(ov=e,setTimeout(zk,0))},w_=function(e,t){Lk=setTimeout(e,t)},LI=function(){clearTimeout(Lk)},Nn.unstable_shouldYield=function(){return!1},Vk=Nn.unstable_forceFrameRate=function(){}):(rK=window.setTimeout,nK=window.clearTimeout,typeof console!="undefined"&&(iK=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof iK!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),b_=!1,x_=null,qI=-1,Fk=5,jk=0,Nn.unstable_shouldYield=function(){return Nn.unstable_now()>=jk},Vk=function(){},Nn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fk=0<e?Math.floor(1e3/e):5},Bk=new MessageChannel,NI=Bk.port2,Bk.port1.onmessage=function(){if(x_!==null){var e=Nn.unstable_now();jk=e+Fk;try{x_(!0,e)?NI.postMessage(null):(b_=!1,x_=null)}catch(t){throw NI.postMessage(null),t}}else b_=!1},av=function(e){x_=e,b_||(b_=!0,NI.postMessage(null))},w_=function(e,t){qI=rK(function(){e(Nn.unstable_now())},t)},LI=function(){nK(qI),qI=-1});var ov,Lk,zk,rK,nK,iK,b_,x_,qI,Fk,jk,Bk,NI;function Uk(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<RI(i,t))e[n]=t,e[r]=i,r=n;else break e}}function du(e){return e=e[0],e===void 0?null:e}function zI(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,u=e[o],p=o+1,h=e[p];if(u!==void 0&&0>RI(u,r))h!==void 0&&0>RI(h,u)?(e[n]=h,e[p]=r,n=p):(e[n]=u,e[o]=r,n=o);else if(h!==void 0&&0>RI(h,r))e[n]=h,e[p]=r,n=p;else break e}}return t}return null}function RI(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Hu=[],qp=[],s9e=1,bl=null,ha=3,FI=!1,kh=!1,S_=!1;function $k(e){for(var t=du(qp);t!==null;){if(t.callback===null)zI(qp);else if(t.startTime<=e)zI(qp),t.sortIndex=t.expirationTime,Uk(Hu,t);else break;t=du(qp)}}function Hk(e){if(S_=!1,$k(e),!kh)if(du(Hu)!==null)kh=!0,av(Wk);else{var t=du(qp);t!==null&&w_(Hk,t.startTime-e)}}function Wk(e,t){kh=!1,S_&&(S_=!1,LI()),FI=!0;var r=ha;try{for($k(t),bl=du(Hu);bl!==null&&(!(bl.expirationTime>t)||e&&!Nn.unstable_shouldYield());){var n=bl.callback;if(typeof n=="function"){bl.callback=null,ha=bl.priorityLevel;var i=n(bl.expirationTime<=t);t=Nn.unstable_now(),typeof i=="function"?bl.callback=i:bl===du(Hu)&&zI(Hu),$k(t)}else zI(Hu);bl=du(Hu)}if(bl!==null)var o=!0;else{var u=du(qp);u!==null&&w_(Hk,u.startTime-t),o=!1}return o}finally{bl=null,ha=r,FI=!1}}var l9e=Vk;Nn.unstable_IdlePriority=5;Nn.unstable_ImmediatePriority=1;Nn.unstable_LowPriority=4;Nn.unstable_NormalPriority=3;Nn.unstable_Profiling=null;Nn.unstable_UserBlockingPriority=2;Nn.unstable_cancelCallback=function(e){e.callback=null};Nn.unstable_continueExecution=function(){kh||FI||(kh=!0,av(Wk))};Nn.unstable_getCurrentPriorityLevel=function(){return ha};Nn.unstable_getFirstCallbackNode=function(){return du(Hu)};Nn.unstable_next=function(e){switch(ha){case 1:case 2:case 3:var t=3;break;default:t=ha;}var r=ha;ha=t;try{return e()}finally{ha=r}};Nn.unstable_pauseExecution=function(){};Nn.unstable_requestPaint=l9e;Nn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var r=ha;ha=e;try{return t()}finally{ha=r}};Nn.unstable_scheduleCallback=function(e,t,r){var n=Nn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3;}return i=r+i,e={id:s9e++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,Uk(qp,e),du(Hu)===null&&e===du(qp)&&(S_?LI():S_=!0,w_(Hk,r-n))):(e.sortIndex=i,Uk(Hu,e),kh||FI||(kh=!0,av(Wk))),e};Nn.unstable_wrapCallback=function(e){var t=ha;return function(){var r=ha;ha=t;try{return e.apply(this,arguments)}finally{ha=r}}}});var sK=I((Knr,aK)=>{"use strict";aK.exports=oK()});var GJ=I(Tl=>{"use strict";var DE=Ue(),Ii=Mk(),So=sK();function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!DE)throw Error(Pt(227));var bX=new Set,Q_={};function $h(e,t){Cv(e,t),Cv(e+"Capture",t)}function Cv(e,t){for(Q_[e]=t,e=0;e<t.length;e++)bX.add(t[e])}var od=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u9e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lK=Object.prototype.hasOwnProperty,uK={},cK={};function c9e(e){return lK.call(cK,e)?!0:lK.call(uK,e)?!1:u9e.test(e)?cK[e]=!0:(uK[e]=!0,!1)}function d9e(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1;}}function p9e(e,t,r,n){if(t===null||typeof t=="undefined"||d9e(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function Ua(e,t,r,n,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var Fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fo[e]=new Ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fo[t]=new Ua(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fo[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fo[e]=new Ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fo[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fo[e]=new Ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fo[e]=new Ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fo[e]=new Ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fo[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var tN=/[\-:]([a-z])/g;function rN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tN,rN);Fo[t]=new Ua(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tN,rN);Fo[t]=new Ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tN,rN);Fo[t]=new Ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fo[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1,!1)});Fo.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fo[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function nN(e,t,r,n){var i=Fo.hasOwnProperty(t)?Fo[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(p9e(t,r,i,n)&&(r=null),n||i===null?c9e(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hh=DE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R_=60103,Nh=60106,Rp=60107,iN=60108,B_=60114,oN=60109,aN=60110,kE=60112,V_=60113,uE=60120,qE=60115,sN=60116,lN=60121,uN=60128,xX=60129,cN=60130,mq=60131;typeof Symbol=="function"&&Symbol.for&&(lo=Symbol.for,R_=lo("react.element"),Nh=lo("react.portal"),Rp=lo("react.fragment"),iN=lo("react.strict_mode"),B_=lo("react.profiler"),oN=lo("react.provider"),aN=lo("react.context"),kE=lo("react.forward_ref"),V_=lo("react.suspense"),uE=lo("react.suspense_list"),qE=lo("react.memo"),sN=lo("react.lazy"),lN=lo("react.block"),lo("react.scope"),uN=lo("react.opaque.id"),xX=lo("react.debug_trace_mode"),cN=lo("react.offscreen"),mq=lo("react.legacy_hidden"));var lo,dK=typeof Symbol=="function"&&Symbol.iterator;function I_(e){return e===null||typeof e!="object"?null:(e=dK&&e[dK]||e["@@iterator"],typeof e=="function"?e:null)}var Gk;function L_(e){if(Gk===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gk=t&&t[1]||""}return`
`+Gk+e}var Zk=!1;function jI(e,t){if(!e||Zk)return"";Zk=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,p=o.length-1;1<=u&&0<=p&&i[u]!==o[p];)p--;for(;1<=u&&0<=p;u--,p--)if(i[u]!==o[p]){if(u!==1||p!==1)do if(u--,p--,0>p||i[u]!==o[p])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=p);break}}}finally{Zk=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L_(e):""}function f9e(e){switch(e.tag){case 5:return L_(e.type);case 16:return L_("Lazy");case 13:return L_("Suspense");case 19:return L_("SuspenseList");case 0:case 2:case 15:return e=jI(e.type,!1),e;case 11:return e=jI(e.type.render,!1),e;case 22:return e=jI(e.type._render,!1),e;case 1:return e=jI(e.type,!0),e;default:return"";}}function vv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rp:return"Fragment";case Nh:return"Portal";case B_:return"Profiler";case iN:return"StrictMode";case V_:return"Suspense";case uE:return"SuspenseList";}if(typeof e=="object")switch(e.$$typeof){case aN:return(e.displayName||"Context")+".Consumer";case oN:return(e._context.displayName||"Context")+".Provider";case kE:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case qE:return vv(e.type);case lN:return vv(e._render);case sN:t=e._payload,e=e._init;try{return vv(e(t))}catch(r){}}return null}function Zp(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return"";}}function wX(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h9e(e){var t=wX(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function BI(e){e._valueTracker||(e._valueTracker=h9e(e))}function SX(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wX(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cE(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function gq(e,t){var r=t.checked;return Ii({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function pK(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zp(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IX(e,t){t=t.checked,t!=null&&nN(e,"checked",t,!1)}function vq(e,t){IX(e,t);var r=Zp(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yq(e,t.type,r):t.hasOwnProperty("defaultValue")&&yq(e,t.type,Zp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fK(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yq(e,t,r){(t!=="number"||cE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function m9e(e){var t="";return DE.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function _q(e,t){return e=Ii({children:void 0},t),(t=m9e(t.children))&&(e.children=t),e}function yv(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zp(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bq(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Ii({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hK(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Pt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zp(r)}}function EX(e,t){var r=Zp(t.value),n=Zp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mK(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var xq={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function TX(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function wq(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TX(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var VI,CX=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==xq.svg||"innerHTML"in e)e.innerHTML=t;else{for(VI=VI||document.createElement("div"),VI.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=VI.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eb(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var U_={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g9e=["Webkit","ms","Moz","O"];Object.keys(U_).forEach(function(e){g9e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),U_[t]=U_[e]})});function AX(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||U_.hasOwnProperty(e)&&U_[e]?(""+t).trim():t+"px"}function MX(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=AX(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var v9e=Ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sq(e,t){if(t){if(v9e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pt(62))}}function Iq(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function dN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eq=null,_v=null,bv=null;function gK(e){if(e=hb(e)){if(typeof Eq!="function")throw Error(Pt(280));var t=e.stateNode;t&&(t=jE(t),Eq(e.stateNode,e.type,t))}}function PX(e){_v?bv?bv.push(e):bv=[e]:_v=e}function OX(){if(_v){var e=_v,t=bv;if(bv=_v=null,gK(e),t)for(e=0;e<t.length;e++)gK(t[e])}}function pN(e,t){return e(t)}function DX(e,t,r,n,i){return e(t,r,n,i)}function fN(){}var kX=pN,Rh=!1,Yk=!1;function hN(){(_v!==null||bv!==null)&&(fN(),OX())}function y9e(e,t,r){if(Yk)return e(t,r);Yk=!0;try{return kX(e,t,r)}finally{Yk=!1,hN()}}function tb(e,t){var r=e.stateNode;if(r===null)return null;var n=jE(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1;}if(e)return null;if(r&&typeof r!="function")throw Error(Pt(231,t,typeof r));return r}var Tq=!1;if(od)try{sv={},Object.defineProperty(sv,"passive",{get:function(){Tq=!0}}),window.addEventListener("test",sv,sv),window.removeEventListener("test",sv,sv)}catch(e){Tq=!1}var sv;function _9e(e,t,r,n,i,o,u,p,h){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(x){this.onError(x)}}var $_=!1,dE=null,pE=!1,Cq=null,b9e={onError:function(e){$_=!0,dE=e}};function x9e(e,t,r,n,i,o,u,p,h){$_=!1,dE=null,_9e.apply(b9e,arguments)}function w9e(e,t,r,n,i,o,u,p,h){if(x9e.apply(this,arguments),$_){if($_){var y=dE;$_=!1,dE=null}else throw Error(Pt(198));pE||(pE=!0,Cq=y)}}function Wh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vK(e){if(Wh(e)!==e)throw Error(Pt(188))}function S9e(e){var t=e.alternate;if(!t){if(t=Wh(e),t===null)throw Error(Pt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return vK(i),e;if(o===n)return vK(i),t;o=o.sibling}throw Error(Pt(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,p=i.child;p;){if(p===r){u=!0,r=i,n=o;break}if(p===n){u=!0,n=i,r=o;break}p=p.sibling}if(!u){for(p=o.child;p;){if(p===r){u=!0,r=o,n=i;break}if(p===n){u=!0,n=o,r=i;break}p=p.sibling}if(!u)throw Error(Pt(189))}}if(r.alternate!==n)throw Error(Pt(190))}if(r.tag!==3)throw Error(Pt(188));return r.stateNode.current===r?e:t}function NX(e){if(e=S9e(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function yK(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var RX,mN,LX,zX,Aq=!1,Wu=[],jp=null,Bp=null,Vp=null,rb=new Map,nb=new Map,E_=[],_K="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mq(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function bK(e,t){switch(e){case"focusin":case"focusout":jp=null;break;case"dragenter":case"dragleave":Bp=null;break;case"mouseover":case"mouseout":Vp=null;break;case"pointerover":case"pointerout":rb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nb.delete(t.pointerId);}}function T_(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=Mq(t,r,n,i,o),t!==null&&(t=hb(t),t!==null&&mN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function I9e(e,t,r,n,i){switch(t){case"focusin":return jp=T_(jp,e,t,r,n,i),!0;case"dragenter":return Bp=T_(Bp,e,t,r,n,i),!0;case"mouseover":return Vp=T_(Vp,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return rb.set(o,T_(rb.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,nb.set(o,T_(nb.get(o)||null,e,t,r,n,i)),!0;}return!1}function E9e(e){var t=Lh(e.target);if(t!==null){var r=Wh(t);if(r!==null){if(t=r.tag,t===13){if(t=qX(r),t!==null){e.blockedOn=t,zX(e.lanePriority,function(){So.unstable_runWithPriority(e.priority,function(){LX(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function QI(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_N(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=hb(r),t!==null&&mN(t),e.blockedOn=r,!1;t.shift()}return!0}function xK(e,t,r){QI(e)&&r.delete(t)}function T9e(){for(Aq=!1;0<Wu.length;){var e=Wu[0];if(e.blockedOn!==null){e=hb(e.blockedOn),e!==null&&RX(e);break}for(var t=e.targetContainers;0<t.length;){var r=_N(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Wu.shift()}jp!==null&&QI(jp)&&(jp=null),Bp!==null&&QI(Bp)&&(Bp=null),Vp!==null&&QI(Vp)&&(Vp=null),rb.forEach(xK),nb.forEach(xK)}function C_(e,t){e.blockedOn===t&&(e.blockedOn=null,Aq||(Aq=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,T9e)))}function FX(e){function t(i){return C_(i,e)}if(0<Wu.length){C_(Wu[0],e);for(var r=1;r<Wu.length;r++){var n=Wu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jp!==null&&C_(jp,e),Bp!==null&&C_(Bp,e),Vp!==null&&C_(Vp,e),rb.forEach(t),nb.forEach(t),r=0;r<E_.length;r++)n=E_[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<E_.length&&(r=E_[0],r.blockedOn===null);)E9e(r),r.blockedOn===null&&E_.shift()}function UI(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dv={animationend:UI("Animation","AnimationEnd"),animationiteration:UI("Animation","AnimationIteration"),animationstart:UI("Animation","AnimationStart"),transitionend:UI("Transition","TransitionEnd")},Kk={},jX={};od&&(jX=document.createElement("div").style,"AnimationEvent"in window||(delete dv.animationend.animation,delete dv.animationiteration.animation,delete dv.animationstart.animation),"TransitionEvent"in window||delete dv.transitionend.transition);function NE(e){if(Kk[e])return Kk[e];if(!dv[e])return e;var t=dv[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jX)return Kk[e]=t[r];return e}var BX=NE("animationend"),VX=NE("animationiteration"),UX=NE("animationstart"),$X=NE("transitionend"),HX=new Map,gN=new Map,C9e=["abort","abort",BX,"animationEnd",VX,"animationIteration",UX,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$X,"transitionEnd","waiting","waiting"];function vN(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),gN.set(n,t),HX.set(n,i),$h(i,[n])}}var A9e=So.unstable_now;A9e();var si=8;function uv(e){if(1&e)return si=15,1;if(2&e)return si=14,2;if(4&e)return si=13,4;var t=24&e;return t!==0?(si=12,t):e&32?(si=11,32):(t=192&e,t!==0?(si=10,t):e&256?(si=9,256):(t=3584&e,t!==0?(si=8,t):e&4096?(si=7,4096):(t=4186112&e,t!==0?(si=6,t):(t=62914560&e,t!==0?(si=5,t):e&67108864?(si=4,67108864):e&134217728?(si=3,134217728):(t=805306368&e,t!==0?(si=2,t):1073741824&e?(si=1,1073741824):(si=8,e))))))}function M9e(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0;}}function P9e(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Pt(358,e));}}function ib(e,t){var r=e.pendingLanes;if(r===0)return si=0;var n=0,i=0,o=e.expiredLanes,u=e.suspendedLanes,p=e.pingedLanes;if(o!==0)n=o,i=si=15;else if(o=r&134217727,o!==0){var h=o&~u;h!==0?(n=uv(h),i=si):(p&=o,p!==0&&(n=uv(p),i=si))}else o=r&~u,o!==0?(n=uv(o),i=si):p!==0&&(n=uv(p),i=si);if(n===0)return 0;if(n=31-Yp(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&u)){if(uv(t),i<=si)return t;si=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Yp(t),i=1<<r,n|=e[r],t&=~i;return n}function WX(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fE(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=cv(24&~t),e===0?fE(10,t):e;case 10:return e=cv(192&~t),e===0?fE(8,t):e;case 8:return e=cv(3584&~t),e===0&&(e=cv(4186112&~t),e===0&&(e=512)),e;case 2:return t=cv(805306368&~t),t===0&&(t=268435456),t;}throw Error(Pt(358,e))}function cv(e){return e&-e}function Xk(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function RE(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Yp(t),e[t]=r}var Yp=Math.clz32?Math.clz32:k9e,O9e=Math.log,D9e=Math.LN2;function k9e(e){return e===0?32:31-(O9e(e)/D9e|0)|0}var q9e=So.unstable_UserBlockingPriority,N9e=So.unstable_runWithPriority,eE=!0;function R9e(e,t,r,n){Rh||fN();var i=yN,o=Rh;Rh=!0;try{DX(i,e,t,r,n)}finally{(Rh=o)||hN()}}function L9e(e,t,r,n){N9e(q9e,yN.bind(null,e,t,r,n))}function yN(e,t,r,n){if(eE){var i;if((i=(t&4)===0)&&0<Wu.length&&-1<_K.indexOf(e))e=Mq(null,e,t,r,n),Wu.push(e);else{var o=_N(e,t,r,n);if(o===null)i&&bK(e,n);else{if(i){if(-1<_K.indexOf(e)){e=Mq(o,e,t,r,n),Wu.push(e);return}if(I9e(o,e,t,r,n))return;bK(e,n)}oJ(e,t,n,null,r)}}}}function _N(e,t,r,n){var i=dN(n);if(i=Lh(i),i!==null){var o=Wh(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=qX(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return oJ(e,t,n,i,r),null}var Lp=null,bN=null,tE=null;function GX(){if(tE)return tE;var e,t=bN,r=t.length,n,i="value"in Lp?Lp.value:Lp.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[o-n];n++);return tE=i.slice(e,1<n?1-n:void 0)}function rE(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $I(){return!0}function wK(){return!1}function Ks(e){function t(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$I:wK,this.isPropagationStopped=wK,this}return Ii(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$I)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$I)},persist:function(){},isPersistent:$I}),t}var Ov={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xN=Ks(Ov),fb=Ii({},Ov,{view:0,detail:0}),z9e=Ks(fb),Jk,Qk,A_,LE=Ii({},fb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==A_&&(A_&&e.type==="mousemove"?(Jk=e.screenX-A_.screenX,Qk=e.screenY-A_.screenY):Qk=Jk=0,A_=e),Jk)},movementY:function(e){return"movementY"in e?e.movementY:Qk}}),SK=Ks(LE),F9e=Ii({},LE,{dataTransfer:0}),j9e=Ks(F9e),B9e=Ii({},fb,{relatedTarget:0}),eq=Ks(B9e),V9e=Ii({},Ov,{animationName:0,elapsedTime:0,pseudoElement:0}),U9e=Ks(V9e),$9e=Ii({},Ov,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H9e=Ks($9e),W9e=Ii({},Ov,{data:0}),IK=Ks(W9e),G9e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z9e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y9e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K9e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y9e[e])?!!t[e]:!1}function wN(){return K9e}var X9e=Ii({},fb,{key:function(e){if(e.key){var t=G9e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rE(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z9e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wN,charCode:function(e){return e.type==="keypress"?rE(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rE(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J9e=Ks(X9e),Q9e=Ii({},LE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EK=Ks(Q9e),eje=Ii({},fb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wN}),tje=Ks(eje),rje=Ii({},Ov,{propertyName:0,elapsedTime:0,pseudoElement:0}),nje=Ks(rje),ije=Ii({},LE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oje=Ks(ije),aje=[9,13,27,32],SN=od&&"CompositionEvent"in window,H_=null;od&&"documentMode"in document&&(H_=document.documentMode);var sje=od&&"TextEvent"in window&&!H_,ZX=od&&(!SN||H_&&8<H_&&11>=H_),TK=" ",CK=!1;function YX(e,t){switch(e){case"keyup":return aje.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1;}}function KX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pv=!1;function lje(e,t){switch(e){case"compositionend":return KX(t);case"keypress":return t.which!==32?null:(CK=!0,TK);case"textInput":return e=t.data,e===TK&&CK?null:e;default:return null;}}function uje(e,t){if(pv)return e==="compositionend"||!SN&&YX(e,t)?(e=GX(),tE=bN=Lp=null,pv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZX&&t.locale!=="ko"?null:t.data;default:return null;}}var cje={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AK(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cje[e.type]:t==="textarea"}function XX(e,t,r,n){PX(n),t=hE(t,"onChange"),0<t.length&&(r=new xN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var W_=null,ob=null;function dje(e){rJ(e,0)}function zE(e){var t=hv(e);if(SX(t))return e}function pje(e,t){if(e==="change")return t}var JX=!1;od&&(od?(WI="oninput"in document,WI||(tq=document.createElement("div"),tq.setAttribute("oninput","return;"),WI=typeof tq.oninput=="function"),HI=WI):HI=!1,JX=HI&&(!document.documentMode||9<document.documentMode));var HI,WI,tq;function MK(){W_&&(W_.detachEvent("onpropertychange",QX),ob=W_=null)}function QX(e){if(e.propertyName==="value"&&zE(ob)){var t=[];if(XX(t,ob,e,dN(e)),e=dje,Rh)e(t);else{Rh=!0;try{pN(e,t)}finally{Rh=!1,hN()}}}}function fje(e,t,r){e==="focusin"?(MK(),W_=t,ob=r,W_.attachEvent("onpropertychange",QX)):e==="focusout"&&MK()}function hje(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zE(ob)}function mje(e,t){if(e==="click")return zE(t)}function gje(e,t){if(e==="input"||e==="change")return zE(t)}function vje(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xl=typeof Object.is=="function"?Object.is:vje,yje=Object.prototype.hasOwnProperty;function ab(e,t){if(xl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!yje.call(t,r[n])||!xl(e[r[n]],t[r[n]]))return!1;return!0}function PK(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function OK(e,t){var r=PK(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PK(r)}}function eJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DK(){for(var e=window,t=cE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=cE(e.document)}return t}function Pq(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _je=od&&"documentMode"in document&&11>=document.documentMode,fv=null,Oq=null,G_=null,Dq=!1;function kK(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dq||fv==null||fv!==cE(n)||(n=fv,"selectionStart"in n&&Pq(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),G_&&ab(G_,n)||(G_=n,n=hE(Oq,"onSelect"),0<n.length&&(t=new xN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fv)))}vN("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);vN("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);vN(C9e,2);for(rq="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),GI=0;GI<rq.length;GI++)gN.set(rq[GI],0);var rq,GI;Cv("onMouseEnter",["mouseout","mouseover"]);Cv("onMouseLeave",["mouseout","mouseover"]);Cv("onPointerEnter",["pointerout","pointerover"]);Cv("onPointerLeave",["pointerout","pointerover"]);$h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$h("onBeforeInput",["compositionend","keypress","textInput","paste"]);$h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var z_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(z_));function qK(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,w9e(n,t,void 0,e),e.currentTarget=null}function rJ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var p=n[u],h=p.instance,y=p.currentTarget;if(p=p.listener,h!==o&&i.isPropagationStopped())break e;qK(i,p,y),o=h}else for(u=0;u<n.length;u++){if(p=n[u],h=p.instance,y=p.currentTarget,p=p.listener,h!==o&&i.isPropagationStopped())break e;qK(i,p,y),o=h}}}if(pE)throw e=Cq,pE=!1,Cq=null,e}function gi(e,t){var r=sJ(t),n=e+"__bubble";r.has(n)||(iJ(t,e,2,!1),r.add(n))}var NK="_reactListening"+Math.random().toString(36).slice(2);function nJ(e){e[NK]||(e[NK]=!0,bX.forEach(function(t){tJ.has(t)||RK(t,!1,e,null),RK(t,!0,e,null)}))}function RK(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&tJ.has(e)){if(e!=="scroll")return;i|=2,o=n}var u=sJ(o),p=e+"__"+(t?"capture":"bubble");u.has(p)||(t&&(i|=4),iJ(o,e,i,t),u.add(p))}function iJ(e,t,r,n){var i=gN.get(t);switch(i===void 0?2:i){case 0:i=R9e;break;case 1:i=L9e;break;default:i=yN;}r=i.bind(null,t,r,e),i=void 0,!Tq||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function oJ(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var p=n.stateNode.containerInfo;if(p===i||p.nodeType===8&&p.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;p!==null;){if(u=Lh(p),u===null)return;if(h=u.tag,h===5||h===6){n=o=u;continue e}p=p.parentNode}}n=n.return}y9e(function(){var y=o,x=dN(r),E=[];e:{var T=HX.get(e);if(T!==void 0){var D=xN,z=e;switch(e){case"keypress":if(rE(r)===0)break e;case"keydown":case"keyup":D=J9e;break;case"focusin":z="focus",D=eq;break;case"focusout":z="blur",D=eq;break;case"beforeblur":case"afterblur":D=eq;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=SK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=j9e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=tje;break;case BX:case VX:case UX:D=U9e;break;case $X:D=nje;break;case"scroll":D=z9e;break;case"wheel":D=oje;break;case"copy":case"cut":case"paste":D=H9e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=EK;}var F=(t&4)!==0,q=!F&&e==="scroll",N=F?T!==null?T+"Capture":null:T;F=[];for(var B=y,Z;B!==null;){Z=B;var ee=Z.stateNode;if(Z.tag===5&&ee!==null&&(Z=ee,N!==null&&(ee=tb(B,N),ee!=null&&F.push(sb(B,ee,Z)))),q)break;B=B.return}0<F.length&&(T=new D(T,z,null,r,x),E.push({event:T,listeners:F}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",T&&!(t&16)&&(z=r.relatedTarget||r.fromElement)&&(Lh(z)||z[Dv]))break e;if((D||T)&&(T=x.window===x?x:(T=x.ownerDocument)?T.defaultView||T.parentWindow:window,D?(z=r.relatedTarget||r.toElement,D=y,z=z?Lh(z):null,z!==null&&(q=Wh(z),z!==q||z.tag!==5&&z.tag!==6)&&(z=null)):(D=null,z=y),D!==z)){if(F=SK,ee="onMouseLeave",N="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(F=EK,ee="onPointerLeave",N="onPointerEnter",B="pointer"),q=D==null?T:hv(D),Z=z==null?T:hv(z),T=new F(ee,B+"leave",D,r,x),T.target=q,T.relatedTarget=Z,ee=null,Lh(x)===y&&(F=new F(N,B+"enter",z,r,x),F.target=Z,F.relatedTarget=q,ee=F),q=ee,D&&z)t:{for(F=D,N=z,B=0,Z=F;Z;Z=lv(Z))B++;for(Z=0,ee=N;ee;ee=lv(ee))Z++;for(;0<B-Z;)F=lv(F),B--;for(;0<Z-B;)N=lv(N),Z--;for(;B--;){if(F===N||N!==null&&F===N.alternate)break t;F=lv(F),N=lv(N)}F=null}else F=null;D!==null&&LK(E,T,D,F,!1),z!==null&&q!==null&&LK(E,q,z,F,!0)}}e:{if(T=y?hv(y):window,D=T.nodeName&&T.nodeName.toLowerCase(),D==="select"||D==="input"&&T.type==="file")var ae=pje;else if(AK(T)){if(JX)ae=gje;else{ae=hje;var ue=fje}}else(D=T.nodeName)&&D.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(ae=mje);if(ae&&(ae=ae(e,y))){XX(E,ae,r,x);break e}ue&&ue(e,T,y),e==="focusout"&&(ue=T._wrapperState)&&ue.controlled&&T.type==="number"&&yq(T,"number",T.value)}switch(ue=y?hv(y):window,e){case"focusin":(AK(ue)||ue.contentEditable==="true")&&(fv=ue,Oq=y,G_=null);break;case"focusout":G_=Oq=fv=null;break;case"mousedown":Dq=!0;break;case"contextmenu":case"mouseup":case"dragend":Dq=!1,kK(E,r,x);break;case"selectionchange":if(_je)break;case"keydown":case"keyup":kK(E,r,x);}var ve;if(SN)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e;}Oe=void 0}else pv?YX(e,r)&&(Oe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(ZX&&r.locale!=="ko"&&(pv||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&pv&&(ve=GX()):(Lp=x,bN="value"in Lp?Lp.value:Lp.textContent,pv=!0)),ue=hE(y,Oe),0<ue.length&&(Oe=new IK(Oe,e,null,r,x),E.push({event:Oe,listeners:ue}),ve?Oe.data=ve:(ve=KX(r),ve!==null&&(Oe.data=ve)))),(ve=sje?lje(e,r):uje(e,r))&&(y=hE(y,"onBeforeInput"),0<y.length&&(x=new IK("onBeforeInput","beforeinput",null,r,x),E.push({event:x,listeners:y}),x.data=ve))}rJ(E,t)})}function sb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hE(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tb(e,r),o!=null&&n.unshift(sb(e,o,i)),o=tb(e,t),o!=null&&n.push(sb(e,o,i))),e=e.return}return n}function lv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LK(e,t,r,n,i){for(var o=t._reactName,u=[];r!==null&&r!==n;){var p=r,h=p.alternate,y=p.stateNode;if(h!==null&&h===n)break;p.tag===5&&y!==null&&(p=y,i?(h=tb(r,o),h!=null&&u.unshift(sb(r,h,p))):i||(h=tb(r,o),h!=null&&u.push(sb(r,h,p)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}function mE(){}var nq=null,iq=null;function aJ(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus;}return!1}function kq(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zK=typeof setTimeout=="function"?setTimeout:void 0,bje=typeof clearTimeout=="function"?clearTimeout:void 0;function IN(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function xv(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function FK(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var oq=0;function xje(e){return{$$typeof:uN,toString:e,valueOf:e}}var FE=Math.random().toString(36).slice(2),zp="__reactFiber$"+FE,gE="__reactProps$"+FE,Dv="__reactContainer$"+FE,jK="__reactEvents$"+FE;function Lh(e){var t=e[zp];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dv]||r[zp]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=FK(e);e!==null;){if(r=e[zp])return r;e=FK(e)}return t}e=r,r=e.parentNode}return null}function hb(e){return e=e[zp]||e[Dv],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pt(33))}function jE(e){return e[gE]||null}function sJ(e){var t=e[jK];return t===void 0&&(t=e[jK]=new Set),t}var qq=[],mv=-1;function Qp(e){return{current:e}}function vi(e){0>mv||(e.current=qq[mv],qq[mv]=null,mv--)}function Ri(e,t){mv++,qq[mv]=e.current,e.current=t}var Kp={},ya=Qp(Kp),ps=Qp(!1),Bh=Kp;function Av(e,t){var r=e.type.contextTypes;if(!r)return Kp;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fs(e){return e=e.childContextTypes,e!=null}function vE(){vi(ps),vi(ya)}function BK(e,t,r){if(ya.current!==Kp)throw Error(Pt(168));Ri(ya,t),Ri(ps,r)}function lJ(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Pt(108,vv(t)||"Unknown",i));return Ii({},r,n)}function nE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kp,Bh=ya.current,Ri(ya,e),Ri(ps,ps.current),!0}function VK(e,t,r){var n=e.stateNode;if(!n)throw Error(Pt(169));r?(e=lJ(e,t,Bh),n.__reactInternalMemoizedMergedChildContext=e,vi(ps),vi(ya),Ri(ya,e)):vi(ps),Ri(ps,r)}var EN=null,jh=null,wje=So.unstable_runWithPriority,TN=So.unstable_scheduleCallback,Nq=So.unstable_cancelCallback,Sje=So.unstable_shouldYield,UK=So.unstable_requestPaint,Rq=So.unstable_now,Ije=So.unstable_getCurrentPriorityLevel,BE=So.unstable_ImmediatePriority,uJ=So.unstable_UserBlockingPriority,cJ=So.unstable_NormalPriority,dJ=So.unstable_LowPriority,pJ=So.unstable_IdlePriority,aq={},Eje=UK!==void 0?UK:function(){},ed=null,iE=null,sq=!1,$K=Rq(),ga=1e4>$K?Rq:function(){return Rq()-$K};function Mv(){switch(Ije()){case BE:return 99;case uJ:return 98;case cJ:return 97;case dJ:return 96;case pJ:return 95;default:throw Error(Pt(332));}}function fJ(e){switch(e){case 99:return BE;case 98:return uJ;case 97:return cJ;case 96:return dJ;case 95:return pJ;default:throw Error(Pt(332));}}function Vh(e,t){return e=fJ(e),wje(e,t)}function lb(e,t,r){return e=fJ(e),TN(e,t,r)}function Xu(){if(iE!==null){var e=iE;iE=null,Nq(e)}hJ()}function hJ(){if(!sq&&ed!==null){sq=!0;var e=0;try{var t=ed;Vh(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),ed=null}catch(r){throw ed!==null&&(ed=ed.slice(e+1)),TN(BE,Xu),r}finally{sq=!1}}}var Tje=Hh.ReactCurrentBatchConfig;function pu(e,t){if(e&&e.defaultProps){t=Ii({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var yE=Qp(null),_E=null,gv=null,bE=null;function CN(){bE=gv=_E=null}function AN(e){var t=yE.current;vi(yE),e.type._context._currentValue=t}function mJ(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function wv(e,t){_E=e,bE=gv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fu=!0),e.firstContext=null)}function Il(e,t){if(bE!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(bE=e,t=1073741823),t={context:e,observedBits:t,next:null},gv===null){if(_E===null)throw Error(Pt(308));gv=t,_E.dependencies={lanes:0,firstContext:t,responders:null}}else gv=gv.next=t;return e._currentValue}var Np=!1;function MN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Up(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $p(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function HK(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ub(e,t,r,n){var i=e.updateQueue;Np=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var h=p,y=h.next;h.next=null,u===null?o=y:u.next=y,u=h;var x=e.alternate;if(x!==null){x=x.updateQueue;var E=x.lastBaseUpdate;E!==u&&(E===null?x.firstBaseUpdate=y:E.next=y,x.lastBaseUpdate=h)}}if(o!==null){E=i.baseState,u=0,x=y=h=null;do{p=o.lane;var T=o.eventTime;if((n&p)===p){x!==null&&(x=x.next={eventTime:T,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var D=e,z=o;switch(p=t,T=r,z.tag){case 1:if(D=z.payload,typeof D=="function"){E=D.call(T,E,p);break e}E=D;break e;case 3:D.flags=D.flags&-4097|64;case 0:if(D=z.payload,p=typeof D=="function"?D.call(T,E,p):D,p==null)break e;E=Ii({},E,p);break e;case 2:Np=!0;}}o.callback!==null&&(e.flags|=32,p=i.effects,p===null?i.effects=[o]:p.push(o))}else T={eventTime:T,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},x===null?(y=x=T,h=E):x=x.next=T,u|=p;if(o=o.next,o===null){if(p=i.shared.pending,p===null)break;o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);x===null&&(h=E),i.baseState=h,i.firstBaseUpdate=y,i.lastBaseUpdate=x,gb|=u,e.lanes=u,e.memoizedState=E}}function WK(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Pt(191,i));i.call(n)}}}var vJ=new DE.Component().refs;function xE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ii({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var VE={isMounted:function(e){return(e=e._reactInternals)?Wh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ys(),i=Hp(e),o=Up(n,i);o.payload=t,r!=null&&(o.callback=r),$p(e,o),Wp(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ys(),i=Hp(e),o=Up(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),$p(e,o),Wp(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ys(),n=Hp(e),i=Up(r,n);i.tag=2,t!=null&&(i.callback=t),$p(e,i),Wp(e,n,r)}};function GK(e,t,r,n,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!ab(r,n)||!ab(i,o):!0}function yJ(e,t,r){var n=!1,i=Kp,o=t.contextType;return typeof o=="object"&&o!==null?o=Il(o):(i=fs(t)?Bh:ya.current,n=t.contextTypes,o=(n=n!=null)?Av(e,i):Kp),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=VE,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ZK(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&VE.enqueueReplaceState(t,t.state,null)}function Lq(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=vJ,MN(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Il(o):(o=fs(t)?Bh:ya.current,i.context=Av(e,o)),ub(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xE(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&VE.enqueueReplaceState(i,i.state,null),ub(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var ZI=Array.isArray;function M_(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pt(309));var n=r.stateNode}if(!n)throw Error(Pt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=n.refs;u===vJ&&(u=n.refs={}),o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Pt(284));if(!r._owner)throw Error(Pt(290,e))}return e}function YI(e,t){if(e.type!=="textarea")throw Error(Pt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _J(e){function t(q,N){if(e){var B=q.lastEffect;B!==null?(B.nextEffect=N,q.lastEffect=N):q.firstEffect=q.lastEffect=N,N.nextEffect=null,N.flags=8}}function r(q,N){if(!e)return null;for(;N!==null;)t(q,N),N=N.sibling;return null}function n(q,N){for(q=new Map;N!==null;)N.key!==null?q.set(N.key,N):q.set(N.index,N),N=N.sibling;return q}function i(q,N){return q=Jp(q,N),q.index=0,q.sibling=null,q}function o(q,N,B){return q.index=B,e?(B=q.alternate,B!==null?(B=B.index,B<N?(q.flags=2,N):B):(q.flags=2,N)):N}function u(q){return e&&q.alternate===null&&(q.flags=2),q}function p(q,N,B,Z){return N===null||N.tag!==6?(N=pq(B,q.mode,Z),N.return=q,N):(N=i(N,B),N.return=q,N)}function h(q,N,B,Z){return N!==null&&N.elementType===B.type?(Z=i(N,B.props),Z.ref=M_(q,N,B),Z.return=q,Z):(Z=lE(B.type,B.key,B.props,null,q.mode,Z),Z.ref=M_(q,N,B),Z.return=q,Z)}function y(q,N,B,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=fq(B,q.mode,Z),N.return=q,N):(N=i(N,B.children||[]),N.return=q,N)}function x(q,N,B,Z,ee){return N===null||N.tag!==7?(N=Tv(B,q.mode,Z,ee),N.return=q,N):(N=i(N,B),N.return=q,N)}function E(q,N,B){if(typeof N=="string"||typeof N=="number")return N=pq(""+N,q.mode,B),N.return=q,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R_:return B=lE(N.type,N.key,N.props,null,q.mode,B),B.ref=M_(q,null,N),B.return=q,B;case Nh:return N=fq(N,q.mode,B),N.return=q,N;}if(ZI(N)||I_(N))return N=Tv(N,q.mode,B,null),N.return=q,N;YI(q,N)}return null}function T(q,N,B,Z){var ee=N!==null?N.key:null;if(typeof B=="string"||typeof B=="number")return ee!==null?null:p(q,N,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R_:return B.key===ee?B.type===Rp?x(q,N,B.props.children,Z,ee):h(q,N,B,Z):null;case Nh:return B.key===ee?y(q,N,B,Z):null;}if(ZI(B)||I_(B))return ee!==null?null:x(q,N,B,Z,null);YI(q,B)}return null}function D(q,N,B,Z,ee){if(typeof Z=="string"||typeof Z=="number")return q=q.get(B)||null,p(N,q,""+Z,ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R_:return q=q.get(Z.key===null?B:Z.key)||null,Z.type===Rp?x(N,q,Z.props.children,ee,Z.key):h(N,q,Z,ee);case Nh:return q=q.get(Z.key===null?B:Z.key)||null,y(N,q,Z,ee);}if(ZI(Z)||I_(Z))return q=q.get(B)||null,x(N,q,Z,ee,null);YI(N,Z)}return null}function z(q,N,B,Z){for(var ee=null,ae=null,ue=N,ve=N=0,Oe=null;ue!==null&&ve<B.length;ve++){ue.index>ve?(Oe=ue,ue=null):Oe=ue.sibling;var be=T(q,ue,B[ve],Z);if(be===null){ue===null&&(ue=Oe);break}e&&ue&&be.alternate===null&&t(q,ue),N=o(be,N,ve),ae===null?ee=be:ae.sibling=be,ae=be,ue=Oe}if(ve===B.length)return r(q,ue),ee;if(ue===null){for(;ve<B.length;ve++)ue=E(q,B[ve],Z),ue!==null&&(N=o(ue,N,ve),ae===null?ee=ue:ae.sibling=ue,ae=ue);return ee}for(ue=n(q,ue);ve<B.length;ve++)Oe=D(ue,q,ve,B[ve],Z),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?ve:Oe.key),N=o(Oe,N,ve),ae===null?ee=Oe:ae.sibling=Oe,ae=Oe);return e&&ue.forEach(function(ze){return t(q,ze)}),ee}function F(q,N,B,Z){var ee=I_(B);if(typeof ee!="function")throw Error(Pt(150));if(B=ee.call(B),B==null)throw Error(Pt(151));for(var ae=ee=null,ue=N,ve=N=0,Oe=null,be=B.next();ue!==null&&!be.done;ve++,be=B.next()){ue.index>ve?(Oe=ue,ue=null):Oe=ue.sibling;var ze=T(q,ue,be.value,Z);if(ze===null){ue===null&&(ue=Oe);break}e&&ue&&ze.alternate===null&&t(q,ue),N=o(ze,N,ve),ae===null?ee=ze:ae.sibling=ze,ae=ze,ue=Oe}if(be.done)return r(q,ue),ee;if(ue===null){for(;!be.done;ve++,be=B.next())be=E(q,be.value,Z),be!==null&&(N=o(be,N,ve),ae===null?ee=be:ae.sibling=be,ae=be);return ee}for(ue=n(q,ue);!be.done;ve++,be=B.next())be=D(ue,q,ve,be.value,Z),be!==null&&(e&&be.alternate!==null&&ue.delete(be.key===null?ve:be.key),N=o(be,N,ve),ae===null?ee=be:ae.sibling=be,ae=be);return e&&ue.forEach(function($e){return t(q,$e)}),ee}return function(q,N,B,Z){var ee=typeof B=="object"&&B!==null&&B.type===Rp&&B.key===null;ee&&(B=B.props.children);var ae=typeof B=="object"&&B!==null;if(ae)switch(B.$$typeof){case R_:e:{for(ae=B.key,ee=N;ee!==null;){if(ee.key===ae){switch(ee.tag){case 7:if(B.type===Rp){r(q,ee.sibling),N=i(ee,B.props.children),N.return=q,q=N;break e}break;default:if(ee.elementType===B.type){r(q,ee.sibling),N=i(ee,B.props),N.ref=M_(q,ee,B),N.return=q,q=N;break e}}r(q,ee);break}else t(q,ee);ee=ee.sibling}B.type===Rp?(N=Tv(B.props.children,q.mode,Z,B.key),N.return=q,q=N):(Z=lE(B.type,B.key,B.props,null,q.mode,Z),Z.ref=M_(q,N,B),Z.return=q,q=Z)}return u(q);case Nh:e:{for(ee=B.key;N!==null;){if(N.key===ee){if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){r(q,N.sibling),N=i(N,B.children||[]),N.return=q,q=N;break e}else{r(q,N);break}}else t(q,N);N=N.sibling}N=fq(B,q.mode,Z),N.return=q,q=N}return u(q);}if(typeof B=="string"||typeof B=="number")return B=""+B,N!==null&&N.tag===6?(r(q,N.sibling),N=i(N,B),N.return=q,q=N):(r(q,N),N=pq(B,q.mode,Z),N.return=q,q=N),u(q);if(ZI(B))return z(q,N,B,Z);if(I_(B))return F(q,N,B,Z);if(ae&&YI(q,B),typeof B=="undefined"&&!ee)switch(q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Pt(152,vv(q.type)||"Component"));}return r(q,N)}}var wE=_J(!0),bJ=_J(!1),mb={},Yu=Qp(mb),cb=Qp(mb),db=Qp(mb);function zh(e){if(e===mb)throw Error(Pt(174));return e}function zq(e,t){switch(Ri(db,t),Ri(cb,e),Ri(Yu,mb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wq(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wq(t,e);}vi(Yu),Ri(Yu,t)}function Pv(){vi(Yu),vi(cb),vi(db)}function YK(e){zh(db.current);var t=zh(Yu.current),r=wq(t,e.type);t!==r&&(Ri(cb,e),Ri(Yu,r))}function PN(e){cb.current===e&&(vi(Yu),vi(cb))}var Ni=Qp(0);function SE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rd=null,Fp=null,Ku=!1;function xJ(e,t){var r=wl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function KK(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1;}}function Fq(e){if(Ku){var t=Fp;if(t){var r=t;if(!KK(e,t)){if(t=xv(r.nextSibling),!t||!KK(e,t)){e.flags=e.flags&-1025|2,Ku=!1,rd=e;return}xJ(rd,r)}rd=e,Fp=xv(t.firstChild)}else e.flags=e.flags&-1025|2,Ku=!1,rd=e}}function XK(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rd=e}function KI(e){if(e!==rd)return!1;if(!Ku)return XK(e),Ku=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!kq(t,e.memoizedProps))for(t=Fp;t;)xJ(e,t),t=xv(t.nextSibling);if(XK(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fp=xv(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fp=null}}else Fp=rd?xv(e.stateNode.nextSibling):null;return!0}function lq(){Fp=rd=null,Ku=!1}var Sv=[];function ON(){for(var e=0;e<Sv.length;e++)Sv[e]._workInProgressVersionPrimary=null;Sv.length=0}var Z_=Hh.ReactCurrentDispatcher,Sl=Hh.ReactCurrentBatchConfig,pb=0,Ui=null,ma=null,Lo=null,IE=!1,Y_=!1;function cs(){throw Error(Pt(321))}function DN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xl(e[r],t[r]))return!1;return!0}function kN(e,t,r,n,i,o){if(pb=o,Ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z_.current=e===null||e.memoizedState===null?Aje:Mje,e=r(n,i),Y_){o=0;do{if(Y_=!1,!(25>o))throw Error(Pt(301));o+=1,Lo=ma=null,t.updateQueue=null,Z_.current=Pje,e=r(n,i)}while(Y_)}if(Z_.current=AE,t=ma!==null&&ma.next!==null,pb=0,Lo=ma=Ui=null,IE=!1,t)throw Error(Pt(300));return e}function Fh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lo===null?Ui.memoizedState=Lo=e:Lo=Lo.next=e,Lo}function Gh(){if(ma===null){var e=Ui.alternate;e=e!==null?e.memoizedState:null}else e=ma.next;var t=Lo===null?Ui.memoizedState:Lo.next;if(t!==null)Lo=t,ma=e;else{if(e===null)throw Error(Pt(310));ma=e,e={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},Lo===null?Ui.memoizedState=Lo=e:Lo=Lo.next=e}return Lo}function Gu(e,t){return typeof t=="function"?t(e):t}function P_(e){var t=Gh(),r=t.queue;if(r===null)throw Error(Pt(311));r.lastRenderedReducer=e;var n=ma,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var p=u=o=null,h=i;do{var y=h.lane;if((pb&y)===y)p!==null&&(p=p.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),n=h.eagerReducer===e?h.eagerState:e(n,h.action);else{var x={lane:y,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};p===null?(u=p=x,o=n):p=p.next=x,Ui.lanes|=y,gb|=y}h=h.next}while(h!==null&&h!==i);p===null?o=n:p.next=u,xl(n,t.memoizedState)||(fu=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=p,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function O_(e){var t=Gh(),r=t.queue;if(r===null)throw Error(Pt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);xl(o,t.memoizedState)||(fu=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function JK(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(pb&e)===e)&&(t._workInProgressVersionPrimary=n,Sv.push(t))),e)return r(t._source);throw Sv.push(t),Error(Pt(350))}function wJ(e,t,r,n){var i=Va;if(i===null)throw Error(Pt(349));var o=t._getVersion,u=o(t._source),p=Z_.current,h=p.useState(function(){return JK(i,t,r)}),y=h[1],x=h[0];h=Lo;var E=e.memoizedState,T=E.refs,D=T.getSnapshot,z=E.source;E=E.subscribe;var F=Ui;return e.memoizedState={refs:T,source:t,subscribe:n},p.useEffect(function(){T.getSnapshot=r,T.setSnapshot=y;var q=o(t._source);if(!xl(u,q)){q=r(t._source),xl(x,q)||(y(q),q=Hp(F),i.mutableReadLanes|=q&i.pendingLanes),q=i.mutableReadLanes,i.entangledLanes|=q;for(var N=i.entanglements,B=q;0<B;){var Z=31-Yp(B),ee=1<<Z;N[Z]|=q,B&=~ee}}},[r,t,n]),p.useEffect(function(){return n(t._source,function(){var q=T.getSnapshot,N=T.setSnapshot;try{N(q(t._source));var B=Hp(F);i.mutableReadLanes|=B&i.pendingLanes}catch(Z){N(function(){throw Z})}})},[t,n]),xl(D,r)&&xl(z,t)&&xl(E,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:x},e.dispatch=y=RN.bind(null,Ui,e),h.queue=e,h.baseQueue=null,x=JK(i,t,r),h.memoizedState=h.baseState=x),x}function SJ(e,t,r){var n=Gh();return wJ(n,e,t,r)}function D_(e){var t=Fh();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:e},e=e.dispatch=RN.bind(null,Ui,e),[t.memoizedState,e]}function EE(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ui.updateQueue,t===null?(t={lastEffect:null},Ui.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QK(e){var t=Fh();return e={current:e},t.memoizedState=e}function TE(){return Gh().memoizedState}function jq(e,t,r,n){var i=Fh();Ui.flags|=e,i.memoizedState=EE(1|t,r,void 0,n===void 0?null:n)}function qN(e,t,r,n){var i=Gh();n=n===void 0?null:n;var o=void 0;if(ma!==null){var u=ma.memoizedState;if(o=u.destroy,n!==null&&DN(n,u.deps)){EE(t,r,o,n);return}}Ui.flags|=e,i.memoizedState=EE(1|t,r,o,n)}function eX(e,t){return jq(516,4,e,t)}function CE(e,t){return qN(516,4,e,t)}function IJ(e,t){return qN(4,2,e,t)}function EJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TJ(e,t,r){return r=r!=null?r.concat([e]):null,qN(4,2,EJ.bind(null,t,e),r)}function NN(){}function CJ(e,t){var r=Gh();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AJ(e,t){var r=Gh();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Cje(e,t){var r=Mv();Vh(98>r?98:r,function(){e(!0)}),Vh(97<r?97:r,function(){var n=Sl.transition;Sl.transition=1;try{e(!1),t()}finally{Sl.transition=n}})}function RN(e,t,r){var n=Ys(),i=Hp(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?o.next=o:(o.next=u.next,u.next=o),t.pending=o,u=e.alternate,e===Ui||u!==null&&u===Ui)Y_=IE=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,h=u(p,r);if(o.eagerReducer=u,o.eagerState=h,xl(h,p))return}catch(y){}finally{}Wp(e,i,n)}}var AE={readContext:Il,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useOpaqueIdentifier:cs,unstable_isNewReconciler:!1},Aje={readContext:Il,useCallback:function(e,t){return Fh().memoizedState=[e,t===void 0?null:t],e},useContext:Il,useEffect:eX,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jq(4,2,EJ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jq(4,2,e,t)},useMemo:function(e,t){var r=Fh();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fh();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=RN.bind(null,Ui,e),[n.memoizedState,e]},useRef:QK,useState:D_,useDebugValue:NN,useDeferredValue:function(e){var t=D_(e),r=t[0],n=t[1];return eX(function(){var i=Sl.transition;Sl.transition=1;try{n(e)}finally{Sl.transition=i}},[e]),r},useTransition:function(){var e=D_(!1),t=e[0];return e=Cje.bind(null,e[1]),QK(e),[e,t]},useMutableSource:function(e,t,r){var n=Fh();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},wJ(n,e,t,r)},useOpaqueIdentifier:function(){if(Ku){var e=!1,t=xje(function(){throw e||(e=!0,r("r:"+(oq++).toString(36))),Error(Pt(355))}),r=D_(t)[1];return!(Ui.mode&2)&&(Ui.flags|=516,EE(5,function(){r("r:"+(oq++).toString(36))},void 0,null)),t}return t="r:"+(oq++).toString(36),D_(t),t},unstable_isNewReconciler:!1},Mje={readContext:Il,useCallback:CJ,useContext:Il,useEffect:CE,useImperativeHandle:TJ,useLayoutEffect:IJ,useMemo:AJ,useReducer:P_,useRef:TE,useState:function(){return P_(Gu)},useDebugValue:NN,useDeferredValue:function(e){var t=P_(Gu),r=t[0],n=t[1];return CE(function(){var i=Sl.transition;Sl.transition=1;try{n(e)}finally{Sl.transition=i}},[e]),r},useTransition:function(){var e=P_(Gu)[0];return[TE().current,e]},useMutableSource:SJ,useOpaqueIdentifier:function(){return P_(Gu)[0]},unstable_isNewReconciler:!1},Pje={readContext:Il,useCallback:CJ,useContext:Il,useEffect:CE,useImperativeHandle:TJ,useLayoutEffect:IJ,useMemo:AJ,useReducer:O_,useRef:TE,useState:function(){return O_(Gu)},useDebugValue:NN,useDeferredValue:function(e){var t=O_(Gu),r=t[0],n=t[1];return CE(function(){var i=Sl.transition;Sl.transition=1;try{n(e)}finally{Sl.transition=i}},[e]),r},useTransition:function(){var e=O_(Gu)[0];return[TE().current,e]},useMutableSource:SJ,useOpaqueIdentifier:function(){return O_(Gu)[0]},unstable_isNewReconciler:!1},Oje=Hh.ReactCurrentOwner,fu=!1;function ds(e,t,r,n){t.child=e===null?bJ(t,null,r,n):wE(t,e.child,r,n)}function tX(e,t,r,n,i){r=r.render;var o=t.ref;return wv(t,i),n=kN(e,t,r,n,o,i),e!==null&&!fu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nd(e,t,i)):(t.flags|=1,ds(e,t,n,i),t.child)}function rX(e,t,r,n,i,o){if(e===null){var u=r.type;return typeof u=="function"&&!VN(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,MJ(e,t,u,n,i,o)):(e=lE(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,!(i&o)&&(i=u.memoizedProps,r=r.compare,r=r!==null?r:ab,r(i,n)&&e.ref===t.ref)?nd(e,t,o):(t.flags|=1,e=Jp(u,n),e.ref=t.ref,e.return=t,t.child=e)}function MJ(e,t,r,n,i,o){if(e!==null&&ab(e.memoizedProps,n)&&e.ref===t.ref)if(fu=!1,(o&i)!==0)e.flags&16384&&(fu=!0);else return t.lanes=e.lanes,nd(e,t,o);return Bq(e,t,r,n,o)}function uq(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if(!(t.mode&4))t.memoizedState={baseLanes:0},JI(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},JI(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},JI(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,JI(t,n);return ds(e,t,i,r),t.child}function PJ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Bq(e,t,r,n,i){var o=fs(r)?Bh:ya.current;return o=Av(t,o),wv(t,i),r=kN(e,t,r,n,o,i),e!==null&&!fu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nd(e,t,i)):(t.flags|=1,ds(e,t,r,i),t.child)}function nX(e,t,r,n,i){if(fs(r)){var o=!0;nE(t)}else o=!1;if(wv(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),yJ(t,r,n),Lq(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,p=t.memoizedProps;u.props=p;var h=u.context,y=r.contextType;typeof y=="object"&&y!==null?y=Il(y):(y=fs(r)?Bh:ya.current,y=Av(t,y));var x=r.getDerivedStateFromProps,E=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==n||h!==y)&&ZK(t,u,n,y),Np=!1;var T=t.memoizedState;u.state=T,ub(t,n,u,i),h=t.memoizedState,p!==n||T!==h||ps.current||Np?(typeof x=="function"&&(xE(t,r,x,n),h=t.memoizedState),(p=Np||GK(t,r,p,n,T,h,y))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=h),u.props=n,u.state=h,u.context=y,n=p):(typeof u.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{u=t.stateNode,gJ(e,t),p=t.memoizedProps,y=t.type===t.elementType?p:pu(t.type,p),u.props=y,E=t.pendingProps,T=u.context,h=r.contextType,typeof h=="object"&&h!==null?h=Il(h):(h=fs(r)?Bh:ya.current,h=Av(t,h));var D=r.getDerivedStateFromProps;(x=typeof D=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==E||T!==h)&&ZK(t,u,n,h),Np=!1,T=t.memoizedState,u.state=T,ub(t,n,u,i);var z=t.memoizedState;p!==E||T!==z||ps.current||Np?(typeof D=="function"&&(xE(t,r,D,n),z=t.memoizedState),(y=Np||GK(t,r,y,n,T,z,h))?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,z,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,z,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=z),u.props=n,u.state=z,u.context=h,n=y):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=256),n=!1)}return Vq(e,t,r,n,o,i)}function Vq(e,t,r,n,i,o){PJ(e,t);var u=(t.flags&64)!==0;if(!n&&!u)return i&&VK(t,r,!1),nd(e,t,o);n=t.stateNode,Oje.current=t;var p=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=wE(t,e.child,null,o),t.child=wE(t,null,p,o)):ds(e,t,p,o),t.memoizedState=n.state,i&&VK(t,r,!0),t.child}function iX(e){var t=e.stateNode;t.pendingContext?BK(e,t.pendingContext,t.pendingContext!==t.context):t.context&&BK(e,t.context,!1),zq(e,t.containerInfo)}var XI={dehydrated:null,retryLane:0};function oX(e,t,r){var n=t.pendingProps,i=Ni.current,o=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Ri(Ni,i&1),e===null?(n.fallback!==void 0&&Fq(t),e=n.children,i=n.fallback,o?(e=aX(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=XI,e):typeof n.unstable_expectedLoadTime=="number"?(e=aX(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=XI,t.lanes=33554432,e):(r=UN({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=lX(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=XI,n):(r=sX(e,t,n.children,r),t.memoizedState=null,r):o?(n=lX(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=XI,n):(r=sX(e,t,n.children,r),t.memoizedState=null,r)}function aX(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=UN(t,i,0,null),r=Tv(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function sX(e,t,r,n){var i=e.child;return e=i.sibling,r=Jp(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function lX(e,t,r,n,i){var o=t.mode,u=e.child;e=u.sibling;var p={mode:"hidden",children:r};return!(o&2)&&t.child!==u?(r=t.child,r.childLanes=0,r.pendingProps=p,u=r.lastEffect,u!==null?(t.firstEffect=r.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Jp(u,p),e!==null?n=Jp(e,n):(n=Tv(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function uX(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mJ(e.return,t)}function cq(e,t,r,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i,u.lastEffect=o)}function cX(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ds(e,t,n.children,r),n=Ni.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uX(e,r);else if(e.tag===19)uX(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ri(Ni,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&SE(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),cq(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&SE(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}cq(t,!0,r,null,o,t.lastEffect);break;case"together":cq(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null;}return t.child}function nd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gb|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Pt(153));if(t.child!==null){for(e=t.child,r=Jp(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jp(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var OJ,Uq,DJ,kJ;OJ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uq=function(){};DJ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,zh(Yu.current);var o=null;switch(r){case"input":i=gq(e,i),n=gq(e,n),o=[];break;case"option":i=_q(e,i),n=_q(e,n),o=[];break;case"select":i=Ii({},i,{value:void 0}),n=Ii({},n,{value:void 0}),o=[];break;case"textarea":i=bq(e,i),n=bq(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mE);}Sq(r,n);var u;r=null;for(y in i)if(!n.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var p=i[y];for(u in p)p.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Q_.hasOwnProperty(y)?o||(o=[]):(o=o||[]).push(y,null));for(y in n){var h=n[y];if(p=i!=null?i[y]:void 0,n.hasOwnProperty(y)&&h!==p&&(h!=null||p!=null))if(y==="style"){if(p){for(u in p)!p.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in h)h.hasOwnProperty(u)&&p[u]!==h[u]&&(r||(r={}),r[u]=h[u])}else r||(o||(o=[]),o.push(y,r)),r=h;}else y==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,p=p?p.__html:void 0,h!=null&&p!==h&&(o=o||[]).push(y,h)):y==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(y,""+h):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Q_.hasOwnProperty(y)?(h!=null&&y==="onScroll"&&gi("scroll",e),o||p===h||(o=[])):typeof h=="object"&&h!==null&&h.$$typeof===uN?h.toString():(o=o||[]).push(y,h))}r&&(o=o||[]).push("style",r);var y=o;(t.updateQueue=y)&&(t.flags|=4)}};kJ=function(e,t,r,n){r!==n&&(t.flags|=4)};function k_(e,t){if(!Ku)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null;}}function Dje(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fs(t.type)&&vE(),null;case 3:return Pv(),vi(ps),vi(ya),ON(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(KI(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Uq(t),null;case 5:PN(t);var i=zh(db.current);if(r=t.type,e!==null&&t.stateNode!=null)DJ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Pt(166));return null}if(e=zh(Yu.current),KI(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zp]=t,n[gE]=o,r){case"dialog":gi("cancel",n),gi("close",n);break;case"iframe":case"object":case"embed":gi("load",n);break;case"video":case"audio":for(e=0;e<z_.length;e++)gi(z_[e],n);break;case"source":gi("error",n);break;case"img":case"image":case"link":gi("error",n),gi("load",n);break;case"details":gi("toggle",n);break;case"input":pK(n,o),gi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},gi("invalid",n);break;case"textarea":hK(n,o),gi("invalid",n);}Sq(r,o),e=null;for(var u in o)o.hasOwnProperty(u)&&(i=o[u],u==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Q_.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&gi("scroll",n));switch(r){case"input":BI(n),fK(n,o,!0);break;case"textarea":BI(n),mK(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=mE);}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===xq.html&&(e=TX(r)),e===xq.html?r==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[zp]=t,e[gE]=n,OJ(e,t,!1,!1),t.stateNode=e,u=Iq(r,n),r){case"dialog":gi("cancel",e),gi("close",e),i=n;break;case"iframe":case"object":case"embed":gi("load",e),i=n;break;case"video":case"audio":for(i=0;i<z_.length;i++)gi(z_[i],e);i=n;break;case"source":gi("error",e),i=n;break;case"img":case"image":case"link":gi("error",e),gi("load",e),i=n;break;case"details":gi("toggle",e),i=n;break;case"input":pK(e,n),i=gq(e,n),gi("invalid",e);break;case"option":i=_q(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ii({},n,{value:void 0}),gi("invalid",e);break;case"textarea":hK(e,n),i=bq(e,n),gi("invalid",e);break;default:i=n;}Sq(r,i);var p=i;for(o in p)if(p.hasOwnProperty(o)){var h=p[o];o==="style"?MX(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&CX(e,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&eb(e,h):typeof h=="number"&&eb(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Q_.hasOwnProperty(o)?h!=null&&o==="onScroll"&&gi("scroll",e):h!=null&&nN(e,o,h,u))}switch(r){case"input":BI(e),fK(e,n,!1);break;case"textarea":BI(e),mK(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zp(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?yv(e,!!n.multiple,o,!1):n.defaultValue!=null&&yv(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mE);}aJ(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)kJ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Pt(166));r=zh(db.current),zh(Yu.current),KI(t)?(n=t.stateNode,r=t.memoizedProps,n[zp]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zp]=t,t.stateNode=n)}return null;case 13:return vi(Ni),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&KI(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Ni.current&1?zo===0&&(zo=3):((zo===0||zo===3)&&(zo=4),Va===null||!(gb&134217727)&&!(qv&134217727)||Iv(Va,va))),(n||r)&&(t.flags|=4),null);case 4:return Pv(),Uq(t),e===null&&nJ(t.stateNode.containerInfo),null;case 10:return AN(t),null;case 17:return fs(t.type)&&vE(),null;case 19:if(vi(Ni),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,u=n.rendering,u===null){if(o)k_(n,!1);else{if(zo!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(u=SE(e),u!==null){for(t.flags|=64,k_(n,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ri(Ni,Ni.current&1|2),t.child}e=e.sibling}n.tail!==null&&ga()>Yq&&(t.flags|=64,o=!0,k_(n,!1),t.lanes=33554432)}}else{if(!o)if(e=SE(u),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),k_(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Ku)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*ga()-n.renderingStartTime>Yq&&r!==1073741824&&(t.flags|=64,o=!0,k_(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(r=n.last,r!==null?r.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=ga(),r.sibling=null,t=Ni.current,Ri(Ni,o?t&1|2:t&1),r):null;case 23:case 24:return BN(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null;}throw Error(Pt(156,t.tag))}function kje(e){switch(e.tag){case 1:fs(e.type)&&vE();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Pv(),vi(ps),vi(ya),ON(),t=e.flags,t&64)throw Error(Pt(285));return e.flags=t&-4097|64,e;case 5:return PN(e),null;case 13:return vi(Ni),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return vi(Ni),null;case 4:return Pv(),null;case 10:return AN(e),null;case 23:case 24:return BN(),null;default:return null;}}function LN(e,t){try{var r="",n=t;do r+=f9e(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function $q(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qje=typeof WeakMap=="function"?WeakMap:Map;function qJ(e,t,r){r=Up(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){PE||(PE=!0,Kq=n),$q(e,t)},r}function NJ(e,t,r){r=Up(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return $q(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this),$q(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}var Nje=typeof WeakSet=="function"?WeakSet:Set;function dX(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Gp(e,r)}else t.current=null}function Rje(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:pu(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&IN(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return;}throw Error(Pt(163))}function Lje(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&($J(r,e),Hje(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:pu(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&WK(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode;}WK(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&aJ(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&FX(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return;}throw Error(Pt(163))}function pX(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=AX("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function fX(e,t){if(jh&&typeof jh.onCommitFiberUnmount=="function")try{jh.onCommitFiberUnmount(EN,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)$J(t,r);else{n=t;try{i()}catch(o){Gp(n,o)}}r=r.next}while(r!==e)}break;case 1:if(dX(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Gp(t,o)}break;case 5:dX(t);break;case 4:RJ(e,t);}}function hX(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function mX(e){return e.tag===5||e.tag===3||e.tag===4}function gX(e){e:{for(var t=e.return;t!==null;){if(mX(t))break e;t=t.return}throw Error(Pt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Pt(161));}r.flags&16&&(eb(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||mX(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Hq(e,r,t):Wq(e,r,t)}function Hq(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mE));else if(n!==4&&(e=e.child,e!==null))for(Hq(e,t,r),e=e.sibling;e!==null;)Hq(e,t,r),e=e.sibling}function Wq(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wq(e,t,r),e=e.sibling;e!==null;)Wq(e,t,r),e=e.sibling}function RJ(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Pt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e;}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var u=e,p=r,h=p;;)if(fX(u,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,p=r.stateNode,u.nodeType===8?u.parentNode.removeChild(p):u.removeChild(p)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(fX(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function dq(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[gE]=n,e==="input"&&n.type==="radio"&&n.name!=null&&IX(r,n),Iq(e,i),t=Iq(e,n),i=0;i<o.length;i+=2){var u=o[i],p=o[i+1];u==="style"?MX(r,p):u==="dangerouslySetInnerHTML"?CX(r,p):u==="children"?eb(r,p):nN(r,u,p,t)}switch(e){case"input":vq(r,n);break;case"textarea":EX(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?yv(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?yv(r,!!n.multiple,n.defaultValue,!0):yv(r,!!n.multiple,n.multiple?[]:"",!1));}}}return;case 6:if(t.stateNode===null)throw Error(Pt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,FX(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(jN=ga(),pX(t.child,!0)),vX(t);return;case 19:vX(t);return;case 17:return;case 23:case 24:pX(t,t.memoizedState!==null);return;}throw Error(Pt(163))}function vX(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Nje),t.forEach(function(n){var i=Zje.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zje(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var Fje=Math.ceil,ME=Hh.ReactCurrentDispatcher,zN=Hh.ReactCurrentOwner,Pr=0,Va=null,uo=null,va=0,Uh=0,Gq=Qp(0),zo=0,UE=null,kv=0,gb=0,qv=0,FN=0,Zq=null,jN=0,Yq=1/0;function Nv(){Yq=ga()+500}var tr=null,PE=!1,Kq=null,Zu=null,Xp=!1,K_=null,F_=90,Xq=[],Jq=[],id=null,X_=0,Qq=null,oE=-1,td=0,aE=0,J_=null,sE=!1;function Ys(){return Pr&48?ga():oE!==-1?oE:oE=ga()}function Hp(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return Mv()===99?1:2;if(td===0&&(td=kv),Tje.transition!==0){aE!==0&&(aE=Zq!==null?Zq.pendingLanes:0),e=td;var t=4186112&~aE;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Mv(),Pr&4&&e===98?e=fE(12,td):(e=M9e(e),e=fE(e,td)),e}function Wp(e,t,r){if(50<X_)throw X_=0,Qq=null,Error(Pt(185));if(e=$E(e,t),e===null)return null;RE(e,t,r),e===Va&&(qv|=t,zo===4&&Iv(e,va));var n=Mv();t===1?Pr&8&&!(Pr&48)?eN(e):(El(e,r),Pr===0&&(Nv(),Xu())):(!(Pr&4)||n!==98&&n!==99||(id===null?id=new Set([e]):id.add(e)),El(e,r)),Zq=e}function $E(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function El(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Yp(u),h=1<<p,y=o[p];if(y===-1){if(!(h&n)||h&i){y=t,uv(h);var x=si;o[p]=10<=x?y+250:6<=x?y+5e3:-1}}else y<=t&&(e.expiredLanes|=h);u&=~h}if(n=ib(e,e===Va?va:0),t=si,n===0)r!==null&&(r!==aq&&Nq(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==aq&&Nq(r)}t===15?(r=eN.bind(null,e),ed===null?(ed=[r],iE=TN(BE,hJ)):ed.push(r),r=aq):t===14?r=lb(99,eN.bind(null,e)):(r=P9e(t),r=lb(r,LJ.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function LJ(e){if(oE=-1,aE=td=0,Pr&48)throw Error(Pt(327));var t=e.callbackNode;if(ef()&&e.callbackNode!==t)return null;var r=ib(e,e===Va?va:0);if(r===0)return null;var n=r,i=Pr;Pr|=16;var o=BJ();(Va!==e||va!==n)&&(Nv(),Ev(e,n));do try{Vje();break}catch(p){jJ(e,p)}while(!0);if(CN(),ME.current=o,Pr=i,uo!==null?n=0:(Va=null,va=0,n=zo),kv&qv)Ev(e,0);else if(n!==0){if(n===2&&(Pr|=64,e.hydrate&&(e.hydrate=!1,IN(e.containerInfo)),r=WX(e),r!==0&&(n=j_(e,r))),n===1)throw t=UE,Ev(e,0),Iv(e,r),El(e,ga()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Pt(345));case 2:qh(e);break;case 3:if(Iv(e,r),(r&62914560)===r&&(n=jN+500-ga(),10<n)){if(ib(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zK(qh.bind(null,e),n);break}qh(e);break;case 4:if(Iv(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-Yp(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=ga()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fje(r/1960))-r,10<r){e.timeoutHandle=zK(qh.bind(null,e),r);break}qh(e);break;case 5:qh(e);break;default:throw Error(Pt(329));}}return El(e,ga()),e.callbackNode===t?LJ.bind(null,e):null}function Iv(e,t){for(t&=~FN,t&=~qv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yp(t),n=1<<r;e[r]=-1,t&=~n}}function eN(e){if(Pr&48)throw Error(Pt(327));if(ef(),e===Va&&e.expiredLanes&va){var t=va,r=j_(e,t);kv&qv&&(t=ib(e,t),r=j_(e,t))}else t=ib(e,0),r=j_(e,t);if(e.tag!==0&&r===2&&(Pr|=64,e.hydrate&&(e.hydrate=!1,IN(e.containerInfo)),t=WX(e),t!==0&&(r=j_(e,t))),r===1)throw r=UE,Ev(e,0),Iv(e,t),El(e,ga()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,qh(e),El(e,ga()),null}function jje(){if(id!==null){var e=id;id=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,El(t,ga())})}Xu()}function zJ(e,t){var r=Pr;Pr|=1;try{return e(t)}finally{Pr=r,Pr===0&&(Nv(),Xu())}}function FJ(e,t){var r=Pr;Pr&=-2,Pr|=8;try{return e(t)}finally{Pr=r,Pr===0&&(Nv(),Xu())}}function JI(e,t){Ri(Gq,Uh),Uh|=t,kv|=t}function BN(){Uh=Gq.current,vi(Gq)}function Ev(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bje(r)),uo!==null)for(r=uo.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&vE();break;case 3:Pv(),vi(ps),vi(ya),ON();break;case 5:PN(n);break;case 4:Pv();break;case 13:vi(Ni);break;case 19:vi(Ni);break;case 10:AN(n);break;case 23:case 24:BN();}r=r.return}Va=e,uo=Jp(e.current,null),va=Uh=kv=t,zo=0,UE=null,FN=qv=gb=0}function jJ(e,t){do{var r=uo;try{if(CN(),Z_.current=AE,IE){for(var n=Ui.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}IE=!1}if(pb=0,Lo=ma=Ui=null,Y_=!1,zN.current=null,r===null||r.return===null){zo=1,UE=t,uo=null;break}e:{var o=e,u=r.return,p=r,h=t;if(t=va,p.flags|=2048,p.firstEffect=p.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var y=h;if(!(p.mode&2)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=(Ni.current&1)!==0,T=u;do{var D;if(D=T.tag===13){var z=T.memoizedState;if(z!==null)D=z.dehydrated!==null;else{var F=T.memoizedProps;D=F.fallback===void 0?!1:F.unstable_avoidThisFallback!==!0?!0:!E}}if(D){var q=T.updateQueue;if(q===null){var N=new Set;N.add(y),T.updateQueue=N}else q.add(y);if(!(T.mode&2)){if(T.flags|=64,p.flags|=16384,p.flags&=-2981,p.tag===1)if(p.alternate===null)p.tag=17;else{var B=Up(-1,1);B.tag=2,$p(p,B)}p.lanes|=1;break e}h=void 0,p=t;var Z=o.pingCache;if(Z===null?(Z=o.pingCache=new qje,h=new Set,Z.set(y,h)):(h=Z.get(y),h===void 0&&(h=new Set,Z.set(y,h))),!h.has(p)){h.add(p);var ee=Gje.bind(null,o,y,p);y.then(ee,ee)}T.flags|=4096,T.lanes=t;break e}T=T.return}while(T!==null);h=Error((vv(p.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}zo!==5&&(zo=2),h=LN(h,p),T=u;do{switch(T.tag){case 3:o=h,T.flags|=4096,t&=-t,T.lanes|=t;var ae=qJ(T,o,t);HK(T,ae);break e;case 1:o=h;var ue=T.type,ve=T.stateNode;if(!(T.flags&64)&&(typeof ue.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Zu===null||!Zu.has(ve)))){T.flags|=4096,t&=-t,T.lanes|=t;var Oe=NJ(T,o,t);HK(T,Oe);break e}}T=T.return}while(T!==null)}UJ(r)}catch(be){t=be,uo===r&&r!==null&&(uo=r=r.return);continue}break}while(!0)}function BJ(){var e=ME.current;return ME.current=AE,e===null?AE:e}function j_(e,t){var r=Pr;Pr|=16;var n=BJ();Va===e&&va===t||Ev(e,t);do try{Bje();break}catch(i){jJ(e,i)}while(!0);if(CN(),Pr=r,ME.current=n,uo!==null)throw Error(Pt(261));return Va=null,va=0,zo}function Bje(){for(;uo!==null;)VJ(uo)}function Vje(){for(;uo!==null&&!Sje();)VJ(uo)}function VJ(e){var t=HJ(e.alternate,e,Uh);e.memoizedProps=e.pendingProps,t===null?UJ(e):uo=t,zN.current=null}function UJ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=kje(t),r!==null){r.flags&=2047,uo=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=Dje(r,t,Uh),r!==null){uo=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||Uh&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){uo=t;return}uo=t=e}while(t!==null);zo===0&&(zo=5)}function qh(e){var t=Mv();return Vh(99,Uje.bind(null,e,t)),null}function Uje(e,t){do ef();while(K_!==null);if(Pr&48)throw Error(Pt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Pt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,p=e.expirationTimes;0<o;){var h=31-Yp(o),y=1<<h;i[h]=0,u[h]=-1,p[h]=-1,o&=~y}if(id!==null&&!(n&24)&&id.has(e)&&id.delete(e),e===Va&&(uo=Va=null,va=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Pr,Pr|=32,zN.current=null,nq=eE,u=DK(),Pq(u)){if("selectionStart"in u)p={start:u.selectionStart,end:u.selectionEnd};else e:if(p=(p=u.ownerDocument)&&p.defaultView||window,(y=p.getSelection&&p.getSelection())&&y.rangeCount!==0){p=y.anchorNode,o=y.anchorOffset,h=y.focusNode,y=y.focusOffset;try{p.nodeType,h.nodeType}catch(be){p=null;break e}var x=0,E=-1,T=-1,D=0,z=0,F=u,q=null;t:for(;;){for(var N;F!==p||o!==0&&F.nodeType!==3||(E=x+o),F!==h||y!==0&&F.nodeType!==3||(T=x+y),F.nodeType===3&&(x+=F.nodeValue.length),(N=F.firstChild)!==null;)q=F,F=N;for(;;){if(F===u)break t;if(q===p&&++D===o&&(E=x),q===h&&++z===y&&(T=x),(N=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=N}p=E===-1||T===-1?null:{start:E,end:T}}else p=null;p=p||{start:0,end:0}}else p=null;iq={focusedElem:u,selectionRange:p},eE=!1,J_=null,sE=!1,tr=n;do try{$je()}catch(be){if(tr===null)throw Error(Pt(330));Gp(tr,be),tr=tr.nextEffect}while(tr!==null);J_=null,tr=n;do try{for(u=e;tr!==null;){var B=tr.flags;if(B&16&&eb(tr.stateNode,""),B&128){var Z=tr.alternate;if(Z!==null){var ee=Z.ref;ee!==null&&(typeof ee=="function"?ee(null):ee.current=null)}}switch(B&1038){case 2:gX(tr),tr.flags&=-3;break;case 6:gX(tr),tr.flags&=-3,dq(tr.alternate,tr);break;case 1024:tr.flags&=-1025;break;case 1028:tr.flags&=-1025,dq(tr.alternate,tr);break;case 4:dq(tr.alternate,tr);break;case 8:p=tr,RJ(u,p);var ae=p.alternate;hX(p),ae!==null&&hX(ae);}tr=tr.nextEffect}}catch(be){if(tr===null)throw Error(Pt(330));Gp(tr,be),tr=tr.nextEffect}while(tr!==null);if(ee=iq,Z=DK(),B=ee.focusedElem,u=ee.selectionRange,Z!==B&&B&&B.ownerDocument&&eJ(B.ownerDocument.documentElement,B)){for(u!==null&&Pq(B)&&(Z=u.start,ee=u.end,ee===void 0&&(ee=Z),("selectionStart"in B)?(B.selectionStart=Z,B.selectionEnd=Math.min(ee,B.value.length)):(ee=(Z=B.ownerDocument||document)&&Z.defaultView||window,ee.getSelection&&(ee=ee.getSelection(),p=B.textContent.length,ae=Math.min(u.start,p),u=u.end===void 0?ae:Math.min(u.end,p),!ee.extend&&ae>u&&(p=u,u=ae,ae=p),p=OK(B,ae),o=OK(B,u),p&&o&&(ee.rangeCount!==1||ee.anchorNode!==p.node||ee.anchorOffset!==p.offset||ee.focusNode!==o.node||ee.focusOffset!==o.offset)&&(Z=Z.createRange(),Z.setStart(p.node,p.offset),ee.removeAllRanges(),ae>u?(ee.addRange(Z),ee.extend(o.node,o.offset)):(Z.setEnd(o.node,o.offset),ee.addRange(Z)))))),Z=[],ee=B;ee=ee.parentNode;)ee.nodeType===1&&Z.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Z.length;B++)ee=Z[B],ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}eE=!!nq,iq=nq=null,e.current=r,tr=n;do try{for(B=e;tr!==null;){var ue=tr.flags;if(ue&36&&Lje(B,tr.alternate,tr),ue&128){Z=void 0;var ve=tr.ref;if(ve!==null){var Oe=tr.stateNode;switch(tr.tag){case 5:Z=Oe;break;default:Z=Oe;}typeof ve=="function"?ve(Z):ve.current=Z}}tr=tr.nextEffect}}catch(be){if(tr===null)throw Error(Pt(330));Gp(tr,be),tr=tr.nextEffect}while(tr!==null);tr=null,Eje(),Pr=i}else e.current=r;if(Xp)Xp=!1,K_=e,F_=t;else for(tr=n;tr!==null;)t=tr.nextEffect,tr.nextEffect=null,tr.flags&8&&(ue=tr,ue.sibling=null,ue.stateNode=null),tr=t;if(n=e.pendingLanes,n===0&&(Zu=null),n===1?e===Qq?X_++:(X_=0,Qq=e):X_=0,r=r.stateNode,jh&&typeof jh.onCommitFiberRoot=="function")try{jh.onCommitFiberRoot(EN,r,void 0,(r.current.flags&64)===64)}catch(be){}if(El(e,ga()),PE)throw PE=!1,e=Kq,Kq=null,e;return Pr&8||Xu(),null}function $je(){for(;tr!==null;){var e=tr.alternate;sE||J_===null||(tr.flags&8?yK(tr,J_)&&(sE=!0):tr.tag===13&&zje(e,tr)&&yK(tr,J_)&&(sE=!0));var t=tr.flags;t&256&&Rje(e,tr),!(t&512)||Xp||(Xp=!0,lb(97,function(){return ef(),null})),tr=tr.nextEffect}}function ef(){if(F_!==90){var e=97<F_?97:F_;return F_=90,Vh(e,Wje)}return!1}function Hje(e,t){Xq.push(t,e),Xp||(Xp=!0,lb(97,function(){return ef(),null}))}function $J(e,t){Jq.push(t,e),Xp||(Xp=!0,lb(97,function(){return ef(),null}))}function Wje(){if(K_===null)return!1;var e=K_;if(K_=null,Pr&48)throw Error(Pt(331));var t=Pr;Pr|=32;var r=Jq;Jq=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(h){if(o===null)throw Error(Pt(330));Gp(o,h)}}for(r=Xq,Xq=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var p=i.create;i.destroy=p()}catch(h){if(o===null)throw Error(Pt(330));Gp(o,h)}}for(p=e.current.firstEffect;p!==null;)e=p.nextEffect,p.nextEffect=null,p.flags&8&&(p.sibling=null,p.stateNode=null),p=e;return Pr=t,Xu(),!0}function yX(e,t,r){t=LN(r,t),t=qJ(e,t,1),$p(e,t),t=Ys(),e=$E(e,1),e!==null&&(RE(e,1,t),El(e,t))}function Gp(e,t){if(e.tag===3)yX(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){yX(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zu===null||!Zu.has(n))){e=LN(t,e);var i=NJ(r,e,1);if($p(r,i),i=Ys(),r=$E(r,1),r!==null)RE(r,1,i),El(r,i);else if(typeof n.componentDidCatch=="function"&&(Zu===null||!Zu.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function Gje(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&r,Va===e&&(va&r)===r&&(zo===4||zo===3&&(va&62914560)===va&&500>ga()-jN?Ev(e,0):FN|=r),El(e,t)}function Zje(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(td===0&&(td=kv),t=cv(62914560&~td),t===0&&(t=4194304)):t=Mv()===99?1:2:t=1),r=Ys(),e=$E(e,t),e!==null&&(RE(e,t,r),El(e,r))}var HJ;HJ=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||ps.current)fu=!0;else if(r&n)fu=!!(e.flags&16384);else{switch(fu=!1,t.tag){case 3:iX(t),lq();break;case 5:YK(t);break;case 1:fs(t.type)&&nE(t);break;case 4:zq(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Ri(yE,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?oX(e,t,r):(Ri(Ni,Ni.current&1),t=nd(e,t,r),t!==null?t.sibling:null);Ri(Ni,Ni.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return cX(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(Ni,Ni.current),n)break;return null;case 23:case 24:return t.lanes=0,uq(e,t,r);}return nd(e,t,r)}}else fu=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Av(t,ya.current),wv(t,r),i=kN(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(n)){var o=!0;nE(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MN(t);var u=n.getDerivedStateFromProps;typeof u=="function"&&xE(t,n,u,e),i.updater=VE,t.stateNode=i,i._reactInternals=t,Lq(t,n,e,r),t=Vq(null,t,n,!0,o,r)}else t.tag=0,ds(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Kje(i),e=pu(i,e),o){case 0:t=Bq(null,t,i,e,r);break e;case 1:t=nX(null,t,i,e,r);break e;case 11:t=tX(null,t,i,e,r);break e;case 14:t=rX(null,t,i,pu(i.type,e),n,r);break e;}throw Error(Pt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),Bq(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),nX(e,t,n,i,r);case 3:if(iX(t),n=t.updateQueue,e===null||n===null)throw Error(Pt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,gJ(e,t),ub(t,n,null,r),n=t.memoizedState.element,n===i)lq(),t=nd(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Fp=xv(t.stateNode.containerInfo.firstChild),rd=t,o=Ku=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Sv.push(o);for(r=bJ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else ds(e,t,n,r),lq();t=t.child}return t;case 5:return YK(t),e===null&&Fq(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,kq(n,i)?u=null:o!==null&&kq(n,o)&&(t.flags|=16),PJ(e,t),ds(e,t,u,r),t.child;case 6:return e===null&&Fq(t),null;case 13:return oX(e,t,r);case 4:return zq(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wE(t,null,n,r):ds(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),tX(e,t,n,i,r);case 7:return ds(e,t,t.pendingProps,r),t.child;case 8:return ds(e,t,t.pendingProps.children,r),t.child;case 12:return ds(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var p=t.type._context;if(Ri(yE,p._currentValue),p._currentValue=o,u!==null)if(p=u.value,o=xl(p,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(p,o):1073741823)|0,o===0){if(u.children===i.children&&!ps.current){t=nd(e,t,r);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var h=p.dependencies;if(h!==null){u=p.child;for(var y=h.firstContext;y!==null;){if(y.context===n&&y.observedBits&o){p.tag===1&&(y=Up(-1,r&-r),y.tag=2,$p(p,y)),p.lanes|=r,y=p.alternate,y!==null&&(y.lanes|=r),mJ(p.return,r),h.lanes|=r;break}y=y.next}}else u=p.tag===10&&p.type===t.type?null:p.child;if(u!==null)u.return=p;else for(u=p;u!==null;){if(u===t){u=null;break}if(p=u.sibling,p!==null){p.return=u.return,u=p;break}u=u.return}p=u}ds(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,wv(t,r),i=Il(i,o.unstable_observedBits),n=n(i),t.flags|=1,ds(e,t,n,r),t.child;case 14:return i=t.type,o=pu(i,t.pendingProps),o=pu(i.type,o),rX(e,t,i,o,n,r);case 15:return MJ(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fs(n)?(e=!0,nE(t)):e=!1,wv(t,r),yJ(t,n,i),Lq(t,n,i,r),Vq(null,t,n,!0,e,r);case 19:return cX(e,t,r);case 23:return uq(e,t,r);case 24:return uq(e,t,r);}throw Error(Pt(156,t.tag))};function Yje(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wl(e,t,r,n){return new Yje(e,t,r,n)}function VN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kje(e){if(typeof e=="function")return VN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kE)return 11;if(e===qE)return 14}return 2}function Jp(e,t){var r=e.alternate;return r===null?(r=wl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lE(e,t,r,n,i,o){var u=2;if(n=e,typeof e=="function")VN(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Rp:return Tv(r.children,i,o,t);case xX:u=8,i|=16;break;case iN:u=8,i|=1;break;case B_:return e=wl(12,r,t,i|8),e.elementType=B_,e.type=B_,e.lanes=o,e;case V_:return e=wl(13,r,t,i),e.type=V_,e.elementType=V_,e.lanes=o,e;case uE:return e=wl(19,r,t,i),e.elementType=uE,e.lanes=o,e;case cN:return UN(r,i,o,t);case mq:return e=wl(24,r,t,i),e.elementType=mq,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oN:u=10;break e;case aN:u=9;break e;case kE:u=11;break e;case qE:u=14;break e;case sN:u=16,n=null;break e;case lN:u=22;break e;}throw Error(Pt(130,e==null?e:typeof e,""));}return t=wl(u,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Tv(e,t,r,n){return e=wl(7,e,n,t),e.lanes=r,e}function UN(e,t,r,n){return e=wl(23,e,n,t),e.elementType=cN,e.lanes=r,e}function pq(e,t,r){return e=wl(6,e,null,t),e.lanes=r,e}function fq(e,t,r){return t=wl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xje(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Xk(0),this.expirationTimes=Xk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xk(0),this.mutableSourceEagerHydrationData=null}function Jje(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function OE(e,t,r,n){var i=t.current,o=Ys(),u=Hp(i);e:if(r){r=r._reactInternals;t:{if(Wh(r)!==r||r.tag!==1)throw Error(Pt(170));var p=r;do{switch(p.tag){case 3:p=p.stateNode.context;break t;case 1:if(fs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break t}}p=p.return}while(p!==null);throw Error(Pt(171))}if(r.tag===1){var h=r.type;if(fs(h)){r=lJ(r,h,p);break e}}r=p}else r=Kp;return t.context===null?t.context=r:t.pendingContext=r,t=Up(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),$p(i,t),Wp(i,u,o),u}function hq(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function _X(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $N(e,t){_X(e,t),(e=e.alternate)&&_X(e,t)}function Qje(){return null}function HN(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Xje(e,t,r!=null&&r.hydrate===!0),t=wl(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,MN(t),e[Dv]=r.current,nJ(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}HN.prototype.render=function(e){OE(e,this._internalRoot,null,null)};HN.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;OE(null,e,null,function(){t[Dv]=null})};function vb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eBe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new HN(e,0,t?{hydrate:!0}:void 0)}function HE(e,t,r,n,i){var o=r._reactRootContainer;if(o){var u=o._internalRoot;if(typeof i=="function"){var p=i;i=function(){var y=hq(u);p.call(y)}}OE(t,u,e,i)}else{if(o=r._reactRootContainer=eBe(r,n),u=o._internalRoot,typeof i=="function"){var h=i;i=function(){var y=hq(u);h.call(y)}}FJ(function(){OE(t,u,e,i)})}return hq(u)}RX=function(e){if(e.tag===13){var t=Ys();Wp(e,4,t),$N(e,4)}};mN=function(e){if(e.tag===13){var t=Ys();Wp(e,67108864,t),$N(e,67108864)}};LX=function(e){if(e.tag===13){var t=Ys(),r=Hp(e);Wp(e,r,t),$N(e,r)}};zX=function(e,t){return t()};Eq=function(e,t,r){switch(t){case"input":if(vq(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=jE(n);if(!i)throw Error(Pt(90));SX(n),vq(n,i)}}}break;case"textarea":EX(e,r);break;case"select":t=r.value,t!=null&&yv(e,!!r.multiple,t,!1);}};pN=zJ;DX=function(e,t,r,n,i){var o=Pr;Pr|=4;try{return Vh(98,e.bind(null,t,r,n,i))}finally{Pr=o,Pr===0&&(Nv(),Xu())}};fN=function(){!(Pr&49)&&(jje(),ef())};kX=function(e,t){var r=Pr;Pr|=2;try{return e(t)}finally{Pr=r,Pr===0&&(Nv(),Xu())}};function WJ(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vb(t))throw Error(Pt(200));return Jje(e,t,null,r)}var tBe={Events:[hb,hv,jE,PX,OX,ef,{current:!1}]},q_={findFiberByHostInstance:Lh,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rBe={bundleType:q_.bundleType,version:q_.version,rendererPackageName:q_.rendererPackageName,rendererConfig:q_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NX(e),e===null?null:e.stateNode},findFiberByHostInstance:q_.findFiberByHostInstance||Qje,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(N_=__REACT_DEVTOOLS_GLOBAL_HOOK__,!N_.isDisabled&&N_.supportsFiber))try{EN=N_.inject(rBe),jh=N_}catch(e){}var N_;Tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tBe;Tl.createPortal=WJ;Tl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pt(188)):Error(Pt(268,Object.keys(e)));return e=NX(t),e=e===null?null:e.stateNode,e};Tl.flushSync=function(e,t){var r=Pr;if(r&48)return e(t);Pr|=1;try{if(e)return Vh(99,e.bind(null,t))}finally{Pr=r,Xu()}};Tl.hydrate=function(e,t,r){if(!vb(t))throw Error(Pt(200));return HE(null,e,t,!0,r)};Tl.render=function(e,t,r){if(!vb(t))throw Error(Pt(200));return HE(null,e,t,!1,r)};Tl.unmountComponentAtNode=function(e){if(!vb(e))throw Error(Pt(40));return e._reactRootContainer?(FJ(function(){HE(null,null,e,!1,function(){e._reactRootContainer=null,e[Dv]=null})}),!0):!1};Tl.unstable_batchedUpdates=zJ;Tl.unstable_createPortal=function(e,t){return WJ(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Tl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vb(r))throw Error(Pt(200));if(e==null||e._reactInternals===void 0)throw Error(Pt(38));return HE(e,t,r,!1,n)};Tl.version="17.0.2"});var Li=I((Jnr,YJ)=>{"use strict";function ZJ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZJ)}catch(e){console.error(e)}}ZJ(),YJ.exports=GJ()});var Xt=I((KJ,XJ)=>{"use strict";var WE=function(e){return e&&e.Math===Math&&e};XJ.exports=WE(typeof globalThis=="object"&&globalThis)||WE(typeof window=="object"&&window)||WE(typeof self=="object"&&self)||WE(typeof global=="object"&&global)||function(){return this}()||KJ||Function("return this")()});var yt=I((Qnr,JJ)=>{"use strict";JJ.exports=function(e){try{return!!e()}catch(t){return!0}}});var fr=I((eir,QJ)=>{"use strict";var nBe=yt();QJ.exports=!nBe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var Rv=I((tir,eQ)=>{"use strict";var iBe=yt();eQ.exports=!iBe(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Lt=I((rir,tQ)=>{"use strict";var oBe=Rv(),GE=Function.prototype.call;tQ.exports=oBe?GE.bind(GE):function(){return GE.apply(GE,arguments)}});var yb=I(iQ=>{"use strict";var rQ={}.propertyIsEnumerable,nQ=Object.getOwnPropertyDescriptor,aBe=nQ&&!rQ.call({1:2},1);iQ.f=aBe?function(t){var r=nQ(this,t);return!!r&&r.enumerable}:rQ});var hs=I((iir,oQ)=>{"use strict";oQ.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var it=I((oir,lQ)=>{"use strict";var aQ=Rv(),sQ=Function.prototype,WN=sQ.call,sBe=aQ&&sQ.bind.bind(WN,WN);lQ.exports=aQ?sBe:function(e){return function(){return WN.apply(e,arguments)}}});var jo=I((air,cQ)=>{"use strict";var uQ=it(),lBe=uQ({}.toString),uBe=uQ("".slice);cQ.exports=function(e){return uBe(lBe(e),8,-1)}});var ad=I((sir,dQ)=>{"use strict";var cBe=it(),dBe=yt(),pBe=jo(),GN=Object,fBe=cBe("".split);dQ.exports=dBe(function(){return!GN("z").propertyIsEnumerable(0)})?function(e){return pBe(e)==="String"?fBe(e,""):GN(e)}:GN});var $i=I((lir,pQ)=>{"use strict";pQ.exports=function(e){return e==null}});var li=I((uir,fQ)=>{"use strict";var hBe=$i(),mBe=TypeError;fQ.exports=function(e){if(hBe(e))throw new mBe("Can't call method on "+e);return e}});var ro=I((cir,hQ)=>{"use strict";var gBe=ad(),vBe=li();hQ.exports=function(e){return gBe(vBe(e))}});var YN=I((dir,mQ)=>{"use strict";var ZN=typeof document=="object"&&document.all,yBe=typeof ZN=="undefined"&&ZN!==void 0;mQ.exports={all:ZN,IS_HTMLDDA:yBe}});var Tr=I((pir,vQ)=>{"use strict";var gQ=YN(),_Be=gQ.all;vQ.exports=gQ.IS_HTMLDDA?function(e){return typeof e=="function"||e===_Be}:function(e){return typeof e=="function"}});var Cr=I((fir,bQ)=>{"use strict";var yQ=Tr(),_Q=YN(),bBe=_Q.all;bQ.exports=_Q.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:yQ(e)||e===bBe}:function(e){return typeof e=="object"?e!==null:yQ(e)}});var br=I((hir,xQ)=>{"use strict";var KN=Xt(),xBe=Tr(),wBe=function(e){return xBe(e)?e:void 0};xQ.exports=function(e,t){return arguments.length<2?wBe(KN[e]):KN[e]&&KN[e][t]}});var _a=I((mir,wQ)=>{"use strict";var SBe=it();wQ.exports=SBe({}.isPrototypeOf)});var Ju=I((gir,SQ)=>{"use strict";SQ.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""});var Qu=I((vir,MQ)=>{"use strict";var AQ=Xt(),XN=Ju(),IQ=AQ.process,EQ=AQ.Deno,TQ=IQ&&IQ.versions||EQ&&EQ.version,CQ=TQ&&TQ.v8,hu,ZE;CQ&&(hu=CQ.split("."),ZE=hu[0]>0&&hu[0]<4?1:+(hu[0]+hu[1]));!ZE&&XN&&(hu=XN.match(/Edge\/(\d+)/),(!hu||hu[1]>=74)&&(hu=XN.match(/Chrome\/(\d+)/),hu&&(ZE=+hu[1])));MQ.exports=ZE});var tf=I((yir,OQ)=>{"use strict";var PQ=Qu(),IBe=yt(),EBe=Xt(),TBe=EBe.String;OQ.exports=!!Object.getOwnPropertySymbols&&!IBe(function(){var e=Symbol("symbol detection");return!TBe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&PQ&&PQ<41})});var JN=I((_ir,DQ)=>{"use strict";var CBe=tf();DQ.exports=CBe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var sd=I((bir,kQ)=>{"use strict";var ABe=br(),MBe=Tr(),PBe=_a(),OBe=JN(),DBe=Object;kQ.exports=OBe?function(e){return typeof e=="symbol"}:function(e){var t=ABe("Symbol");return MBe(t)&&PBe(t.prototype,DBe(e))}});var rf=I((xir,qQ)=>{"use strict";var kBe=String;qQ.exports=function(e){try{return kBe(e)}catch(t){return"Object"}}});var xr=I((wir,NQ)=>{"use strict";var qBe=Tr(),NBe=rf(),RBe=TypeError;NQ.exports=function(e){if(qBe(e))return e;throw new RBe(NBe(e)+" is not a function")}});var zi=I((Sir,RQ)=>{"use strict";var LBe=xr(),zBe=$i();RQ.exports=function(e,t){var r=e[t];return zBe(r)?void 0:LBe(r)}});var rR=I((Iir,LQ)=>{"use strict";var QN=Lt(),eR=Tr(),tR=Cr(),FBe=TypeError;LQ.exports=function(e,t){var r,n;if(t==="string"&&eR(r=e.toString)&&!tR(n=QN(r,e))||eR(r=e.valueOf)&&!tR(n=QN(r,e))||t!=="string"&&eR(r=e.toString)&&!tR(n=QN(r,e)))return n;throw new FBe("Can't convert object to primitive value")}});var Gr=I((Eir,zQ)=>{"use strict";zQ.exports=!1});var YE=I((Tir,jQ)=>{"use strict";var FQ=Xt(),jBe=Object.defineProperty;jQ.exports=function(e,t){try{jBe(FQ,e,{value:t,configurable:!0,writable:!0})}catch(r){FQ[e]=t}return t}});var _b=I((Cir,VQ)=>{"use strict";var BBe=Xt(),VBe=YE(),BQ="__core-js_shared__",UBe=BBe[BQ]||VBe(BQ,{});VQ.exports=UBe});var ec=I((Air,$Q)=>{"use strict";var $Be=Gr(),UQ=_b();($Q.exports=function(e,t){return UQ[e]||(UQ[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:$Be?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Zr=I((Mir,HQ)=>{"use strict";var HBe=li(),WBe=Object;HQ.exports=function(e){return WBe(HBe(e))}});var zr=I((Pir,WQ)=>{"use strict";var GBe=it(),ZBe=Zr(),YBe=GBe({}.hasOwnProperty);WQ.exports=Object.hasOwn||function(t,r){return YBe(ZBe(t),r)}});var nf=I((Oir,GQ)=>{"use strict";var KBe=it(),XBe=0,JBe=Math.random(),QBe=KBe(1 .toString);GQ.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+QBe(++XBe+JBe,36)}});var hr=I((Dir,YQ)=>{"use strict";var eVe=Xt(),tVe=ec(),ZQ=zr(),rVe=nf(),nVe=tf(),iVe=JN(),Lv=eVe.Symbol,nR=tVe("wks"),oVe=iVe?Lv.for||Lv:Lv&&Lv.withoutSetter||rVe;YQ.exports=function(e){return ZQ(nR,e)||(nR[e]=nVe&&ZQ(Lv,e)?Lv[e]:oVe("Symbol."+e)),nR[e]}});var bb=I((kir,JQ)=>{"use strict";var aVe=Lt(),KQ=Cr(),XQ=sd(),sVe=zi(),lVe=rR(),uVe=hr(),cVe=TypeError,dVe=uVe("toPrimitive");JQ.exports=function(e,t){if(!KQ(e)||XQ(e))return e;var r=sVe(e,dVe),n;if(r){if(t===void 0&&(t="default"),n=aVe(r,e,t),!KQ(n)||XQ(n))return n;throw new cVe("Can't convert object to primitive value")}return t===void 0&&(t="number"),lVe(e,t)}});var mu=I((qir,QQ)=>{"use strict";var pVe=bb(),fVe=sd();QQ.exports=function(e){var t=pVe(e,"string");return fVe(t)?t:t+""}});var xb=I((Nir,tee)=>{"use strict";var hVe=Xt(),eee=Cr(),iR=hVe.document,mVe=eee(iR)&&eee(iR.createElement);tee.exports=function(e){return mVe?iR.createElement(e):{}}});var oR=I((Rir,ree)=>{"use strict";var gVe=fr(),vVe=yt(),yVe=xb();ree.exports=!gVe&&!vVe(function(){return Object.defineProperty(yVe("div"),"a",{get:function(){return 7}}).a!==7})});var co=I(iee=>{"use strict";var _Ve=fr(),bVe=Lt(),xVe=yb(),wVe=hs(),SVe=ro(),IVe=mu(),EVe=zr(),TVe=oR(),nee=Object.getOwnPropertyDescriptor;iee.f=_Ve?nee:function(t,r){if(t=SVe(t),r=IVe(r),TVe)try{return nee(t,r)}catch(n){}if(EVe(t,r))return wVe(!bVe(xVe.f,t,r),t[r])}});var aR=I((zir,oee)=>{"use strict";var CVe=fr(),AVe=yt();oee.exports=CVe&&AVe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Ft=I((Fir,aee)=>{"use strict";var MVe=Cr(),PVe=String,OVe=TypeError;aee.exports=function(e){if(MVe(e))return e;throw new OVe(PVe(e)+" is not an object")}});var Qn=I(lee=>{"use strict";var DVe=fr(),kVe=oR(),qVe=aR(),KE=Ft(),see=mu(),NVe=TypeError,sR=Object.defineProperty,RVe=Object.getOwnPropertyDescriptor,lR="enumerable",uR="configurable",cR="writable";lee.f=DVe?qVe?function(t,r,n){if(KE(t),r=see(r),KE(n),typeof t=="function"&&r==="prototype"&&"value"in n&&cR in n&&!n[cR]){var i=RVe(t,r);i&&i[cR]&&(t[r]=n.value,n={configurable:uR in n?n[uR]:i[uR],enumerable:lR in n?n[lR]:i[lR],writable:!1})}return sR(t,r,n)}:sR:function(t,r,n){if(KE(t),r=see(r),KE(n),kVe)try{return sR(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new NVe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var Hi=I((Bir,uee)=>{"use strict";var LVe=fr(),zVe=Qn(),FVe=hs();uee.exports=LVe?function(e,t,r){return zVe.f(e,t,FVe(1,r))}:function(e,t,r){return e[t]=r,e}});var Zh=I((Vir,dee)=>{"use strict";var dR=fr(),jVe=zr(),cee=Function.prototype,BVe=dR&&Object.getOwnPropertyDescriptor,pR=jVe(cee,"name"),VVe=pR&&function(){}.name==="something",UVe=pR&&(!dR||dR&&BVe(cee,"name").configurable);dee.exports={EXISTS:pR,PROPER:VVe,CONFIGURABLE:UVe}});var wb=I((Uir,pee)=>{"use strict";var $Ve=it(),HVe=Tr(),fR=_b(),WVe=$Ve(Function.toString);HVe(fR.inspectSource)||(fR.inspectSource=function(e){return WVe(e)});pee.exports=fR.inspectSource});var hR=I(($ir,hee)=>{"use strict";var GVe=Xt(),ZVe=Tr(),fee=GVe.WeakMap;hee.exports=ZVe(fee)&&/native code/.test(String(fee))});var Sb=I((Hir,gee)=>{"use strict";var YVe=ec(),KVe=nf(),mee=YVe("keys");gee.exports=function(e){return mee[e]||(mee[e]=KVe(e))}});var zv=I((Wir,vee)=>{"use strict";vee.exports={}});var In=I((Gir,bee)=>{"use strict";var XVe=hR(),_ee=Xt(),JVe=Cr(),QVe=Hi(),mR=zr(),gR=_b(),eUe=Sb(),tUe=zv(),yee="Object already initialized",vR=_ee.TypeError,rUe=_ee.WeakMap,XE,Ib,JE,nUe=function(e){return JE(e)?Ib(e):XE(e,{})},iUe=function(e){return function(t){var r;if(!JVe(t)||(r=Ib(t)).type!==e)throw new vR("Incompatible receiver, "+e+" required");return r}};XVe||gR.state?(gu=gR.state||(gR.state=new rUe),gu.get=gu.get,gu.has=gu.has,gu.set=gu.set,XE=function(e,t){if(gu.has(e))throw new vR(yee);return t.facade=e,gu.set(e,t),t},Ib=function(e){return gu.get(e)||{}},JE=function(e){return gu.has(e)}):(Yh=eUe("state"),tUe[Yh]=!0,XE=function(e,t){if(mR(e,Yh))throw new vR(yee);return t.facade=e,QVe(e,Yh,t),t},Ib=function(e){return mR(e,Yh)?e[Yh]:{}},JE=function(e){return mR(e,Yh)});var gu,Yh;bee.exports={set:XE,get:Ib,has:JE,enforce:nUe,getterFor:iUe}});var Eb=I((Zir,See)=>{"use strict";var _R=it(),oUe=yt(),aUe=Tr(),QE=zr(),yR=fr(),sUe=Zh().CONFIGURABLE,lUe=wb(),wee=In(),uUe=wee.enforce,cUe=wee.get,xee=String,eT=Object.defineProperty,dUe=_R("".slice),pUe=_R("".replace),fUe=_R([].join),hUe=yR&&!oUe(function(){return eT(function(){},"length",{value:8}).length!==8}),mUe=String(String).split("String"),gUe=See.exports=function(e,t,r){dUe(xee(t),0,7)==="Symbol("&&(t="["+pUe(xee(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!QE(e,"name")||sUe&&e.name!==t)&&(yR?eT(e,"name",{value:t,configurable:!0}):e.name=t),hUe&&r&&QE(r,"arity")&&e.length!==r.arity&&eT(e,"length",{value:r.arity});try{r&&QE(r,"constructor")&&r.constructor?yR&&eT(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=uUe(e);return QE(n,"source")||(n.source=fUe(mUe,typeof t=="string"?t:"")),e};Function.prototype.toString=gUe(function(){return aUe(this)&&cUe(this).source||lUe(this)},"toString")});var On=I((Yir,Iee)=>{"use strict";var vUe=Tr(),yUe=Qn(),_Ue=Eb(),bUe=YE();Iee.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(vUe(r)&&_Ue(r,o,n),n.global)i?e[t]=r:bUe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(u){}i?e[t]=r:yUe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var bR=I((Kir,Eee)=>{"use strict";var xUe=Math.ceil,wUe=Math.floor;Eee.exports=Math.trunc||function(t){var r=+t;return(r>0?wUe:xUe)(r)}});var ui=I((Xir,Tee)=>{"use strict";var SUe=bR();Tee.exports=function(e){var t=+e;return t!==t||t===0?0:SUe(t)}});var Cl=I((Jir,Cee)=>{"use strict";var IUe=ui(),EUe=Math.max,TUe=Math.min;Cee.exports=function(e,t){var r=IUe(e);return r<0?EUe(r+t,0):TUe(r,t)}});var ms=I((Qir,Aee)=>{"use strict";var CUe=ui(),AUe=Math.min;Aee.exports=function(e){return e>0?AUe(CUe(e),9007199254740991):0}});var Jr=I((eor,Mee)=>{"use strict";var MUe=ms();Mee.exports=function(e){return MUe(e.length)}});var Fv=I((tor,Oee)=>{"use strict";var PUe=ro(),OUe=Cl(),DUe=Jr(),Pee=function(e){return function(t,r,n){var i=PUe(t),o=DUe(i),u=OUe(n,o),p;if(e&&r!==r){for(;o>u;)if(p=i[u++],p!==p)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};Oee.exports={includes:Pee(!0),indexOf:Pee(!1)}});var wR=I((ror,kee)=>{"use strict";var kUe=it(),xR=zr(),qUe=ro(),NUe=Fv().indexOf,RUe=zv(),Dee=kUe([].push);kee.exports=function(e,t){var r=qUe(e),n=0,i=[],o;for(o in r)!xR(RUe,o)&&xR(r,o)&&Dee(i,o);for(;t.length>n;)xR(r,o=t[n++])&&(~NUe(i,o)||Dee(i,o));return i}});var tT=I((nor,qee)=>{"use strict";qee.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ld=I(Nee=>{"use strict";var LUe=wR(),zUe=tT(),FUe=zUe.concat("length","prototype");Nee.f=Object.getOwnPropertyNames||function(t){return LUe(t,FUe)}});var Tb=I(Ree=>{"use strict";Ree.f=Object.getOwnPropertySymbols});var rT=I((aor,Lee)=>{"use strict";var jUe=br(),BUe=it(),VUe=ld(),UUe=Tb(),$Ue=Ft(),HUe=BUe([].concat);Lee.exports=jUe("Reflect","ownKeys")||function(t){var r=VUe.f($Ue(t)),n=UUe.f;return n?HUe(r,n(t)):r}});var jv=I((sor,Fee)=>{"use strict";var zee=zr(),WUe=rT(),GUe=co(),ZUe=Qn();Fee.exports=function(e,t,r){for(var n=WUe(t),i=ZUe.f,o=GUe.f,u=0;u<n.length;u++){var p=n[u];!zee(e,p)&&!(r&&zee(r,p))&&i(e,p,o(t,p))}}});var Bv=I((lor,jee)=>{"use strict";var YUe=yt(),KUe=Tr(),XUe=/#|\.prototype\./,Cb=function(e,t){var r=QUe[JUe(e)];return r===t$e?!0:r===e$e?!1:KUe(t)?YUe(t):!!t},JUe=Cb.normalize=function(e){return String(e).replace(XUe,".").toLowerCase()},QUe=Cb.data={},e$e=Cb.NATIVE="N",t$e=Cb.POLYFILL="P";jee.exports=Cb});var J=I((uor,Bee)=>{"use strict";var SR=Xt(),r$e=co().f,n$e=Hi(),i$e=On(),o$e=YE(),a$e=jv(),s$e=Bv();Bee.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,u,p,h,y,x;if(n?u=SR:i?u=SR[r]||o$e(r,{}):u=(SR[r]||{}).prototype,u)for(p in t){if(y=t[p],e.dontCallGetSet?(x=r$e(u,p),h=x&&x.value):h=u[p],o=s$e(n?p:r+(i?".":"#")+p,e.forced),!o&&h!==void 0){if(typeof y==typeof h)continue;a$e(y,h)}(e.sham||h&&h.sham)&&n$e(y,"sham",!0),i$e(u,p,y,e)}}});var nT=I((cor,Uee)=>{"use strict";var l$e=hr(),u$e=l$e("toStringTag"),Vee={};Vee[u$e]="z";Uee.exports=String(Vee)==="[object z]"});var gs=I((dor,$ee)=>{"use strict";var c$e=nT(),d$e=Tr(),iT=jo(),p$e=hr(),f$e=p$e("toStringTag"),h$e=Object,m$e=iT(function(){return arguments}())==="Arguments",g$e=function(e,t){try{return e[t]}catch(r){}};$ee.exports=c$e?iT:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=g$e(t=h$e(e),f$e))=="string"?r:m$e?iT(t):(n=iT(t))==="Object"&&d$e(t.callee)?"Arguments":n}});var Sr=I((por,Hee)=>{"use strict";var v$e=gs(),y$e=String;Hee.exports=function(e){if(v$e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return y$e(e)}});var Kh=I((hor,Wee)=>{"use strict";var _$e=wR(),b$e=tT();Wee.exports=Object.keys||function(t){return _$e(t,b$e)}});var oT=I(Gee=>{"use strict";var x$e=fr(),w$e=aR(),S$e=Qn(),I$e=Ft(),E$e=ro(),T$e=Kh();Gee.f=x$e&&!w$e?Object.defineProperties:function(t,r){I$e(t);for(var n=E$e(r),i=T$e(r),o=i.length,u=0,p;o>u;)S$e.f(t,p=i[u++],n[p]);return t}});var IR=I((gor,Zee)=>{"use strict";var C$e=br();Zee.exports=C$e("document","documentElement")});var Fi=I((vor,tte)=>{"use strict";var A$e=Ft(),M$e=oT(),Yee=tT(),P$e=zv(),O$e=IR(),D$e=xb(),k$e=Sb(),Kee=">",Xee="<",TR="prototype",CR="script",Qee=k$e("IE_PROTO"),ER=function(){},ete=function(e){return Xee+CR+Kee+e+Xee+"/"+CR+Kee},Jee=function(e){e.write(ete("")),e.close();var t=e.parentWindow.Object;return e=null,t},q$e=function(){var e=D$e("iframe"),t="java"+CR+":",r;return e.style.display="none",O$e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(ete("document.F=Object")),r.close(),r.F},aT,sT=function(){try{aT=new ActiveXObject("htmlfile")}catch(t){}sT=typeof document!="undefined"?document.domain&&aT?Jee(aT):q$e():Jee(aT);for(var e=Yee.length;e--;)delete sT[TR][Yee[e]];return sT()};P$e[Qee]=!0;tte.exports=Object.create||function(t,r){var n;return t!==null?(ER[TR]=A$e(t),n=new ER,ER[TR]=null,n[Qee]=t):n=sT(),r===void 0?n:M$e.f(n,r)}});var Al=I((yor,rte)=>{"use strict";var N$e=mu(),R$e=Qn(),L$e=hs();rte.exports=function(e,t,r){var n=N$e(t);n in e?R$e.f(e,n,L$e(0,r)):e[n]=r}});var Xh=I((_or,ite)=>{"use strict";var nte=Cl(),z$e=Jr(),F$e=Al(),j$e=Array,B$e=Math.max;ite.exports=function(e,t,r){for(var n=z$e(e),i=nte(t,n),o=nte(r===void 0?n:r,n),u=j$e(B$e(o-i,0)),p=0;i<o;i++,p++)F$e(u,p,e[i]);return u.length=p,u}});var lT=I((bor,ste)=>{"use strict";var V$e=jo(),U$e=ro(),ote=ld().f,$$e=Xh(),ate=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],H$e=function(e){try{return ote(e)}catch(t){return $$e(ate)}};ste.exports.f=function(t){return ate&&V$e(t)==="Window"?H$e(t):ote(U$e(t))}});var yi=I((xor,ute)=>{"use strict";var lte=Eb(),W$e=Qn();ute.exports=function(e,t,r){return r.get&&lte(r.get,t,{getter:!0}),r.set&&lte(r.set,t,{setter:!0}),W$e.f(e,t,r)}});var AR=I(cte=>{"use strict";var G$e=hr();cte.f=G$e});var uT=I((Sor,dte)=>{"use strict";var Z$e=Xt();dte.exports=Z$e});var Ai=I((Ior,fte)=>{"use strict";var pte=uT(),Y$e=zr(),K$e=AR(),X$e=Qn().f;fte.exports=function(e){var t=pte.Symbol||(pte.Symbol={});Y$e(t,e)||X$e(t,e,{value:K$e.f(e)})}});var MR=I((Eor,hte)=>{"use strict";var J$e=Lt(),Q$e=br(),eHe=hr(),tHe=On();hte.exports=function(){var e=Q$e("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=eHe("toPrimitive");t&&!t[n]&&tHe(t,n,function(i){return J$e(r,this)},{arity:1})}});var vs=I((Tor,gte)=>{"use strict";var rHe=Qn().f,nHe=zr(),iHe=hr(),mte=iHe("toStringTag");gte.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!nHe(e,mte)&&rHe(e,mte,{configurable:!0,value:t})}});var ud=I((Cor,vte)=>{"use strict";var oHe=jo(),aHe=it();vte.exports=function(e){if(oHe(e)==="Function")return aHe(e)}});var jn=I((Aor,_te)=>{"use strict";var yte=ud(),sHe=xr(),lHe=Rv(),uHe=yte(yte.bind);_te.exports=function(e,t){return sHe(e),t===void 0?e:lHe?uHe(e,t):function(){return e.apply(t,arguments)}}});var vu=I((Mor,bte)=>{"use strict";var cHe=jo();bte.exports=Array.isArray||function(t){return cHe(t)==="Array"}});var yu=I((Por,Ete)=>{"use strict";var dHe=it(),pHe=yt(),xte=Tr(),fHe=gs(),hHe=br(),mHe=wb(),wte=function(){},gHe=[],Ste=hHe("Reflect","construct"),PR=/^\s*(?:class|function)\b/,vHe=dHe(PR.exec),yHe=!PR.test(wte),Ab=function(t){if(!xte(t))return!1;try{return Ste(wte,gHe,t),!0}catch(r){return!1}},Ite=function(t){if(!xte(t))return!1;switch(fHe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return yHe||!!vHe(PR,mHe(t))}catch(r){return!0}};Ite.sham=!0;Ete.exports=!Ste||pHe(function(){var e;return Ab(Ab.call)||!Ab(Object)||!Ab(function(){e=!0})||e})?Ite:Ab});var Mte=I((Oor,Ate)=>{"use strict";var Tte=vu(),_He=yu(),bHe=Cr(),xHe=hr(),wHe=xHe("species"),Cte=Array;Ate.exports=function(e){var t;return Tte(e)&&(t=e.constructor,_He(t)&&(t===Cte||Tte(t.prototype))?t=void 0:bHe(t)&&(t=t[wHe],t===null&&(t=void 0))),t===void 0?Cte:t}});var Vv=I((Dor,Pte)=>{"use strict";var SHe=Mte();Pte.exports=function(e,t){return new(SHe(e))(t===0?0:t)}});var ji=I((kor,Dte)=>{"use strict";var IHe=jn(),EHe=it(),THe=ad(),CHe=Zr(),AHe=Jr(),MHe=Vv(),Ote=EHe([].push),of=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,u=e===7,p=e===5||o;return function(h,y,x,E){for(var T=CHe(h),D=THe(T),z=IHe(y,x),F=AHe(D),q=0,N=E||MHe,B=t?N(h,F):r||u?N(h,0):void 0,Z,ee;F>q;q++)if((p||q in D)&&(Z=D[q],ee=z(Z,q,T),e))if(t)B[q]=ee;else if(ee)switch(e){case 3:return!0;case 5:return Z;case 6:return q;case 2:Ote(B,Z);}else switch(e){case 4:return!1;case 7:Ote(B,Z);}return o?-1:n||i?i:B}};Dte.exports={forEach:of(0),map:of(1),filter:of(2),some:of(3),every:of(4),find:of(5),findIndex:of(6),filterReject:of(7)}});var Yte=I(()=>{"use strict";var cT=J(),dT=Xt(),FR=Lt(),PHe=it(),OHe=Gr(),Uv=fr(),$v=tf(),DHe=yt(),Io=zr(),kHe=_a(),qR=Ft(),pT=ro(),jR=mu(),qHe=Sr(),NR=hs(),Pb=Fi(),Nte=Kh(),NHe=ld(),Rte=lT(),RHe=Tb(),Lte=co(),zte=Qn(),LHe=oT(),Fte=yb(),OR=On(),zHe=yi(),BR=ec(),FHe=Sb(),jte=zv(),kte=nf(),jHe=hr(),BHe=AR(),VHe=Ai(),UHe=MR(),$He=vs(),Bte=In(),fT=ji().forEach,ys=FHe("hidden"),hT="Symbol",Ob="prototype",HHe=Bte.set,qte=Bte.getterFor(hT),Ml=Object[Ob],Jh=dT.Symbol,Mb=Jh&&Jh[Ob],WHe=dT.RangeError,GHe=dT.TypeError,DR=dT.QObject,Vte=Lte.f,Qh=zte.f,Ute=Rte.f,ZHe=Fte.f,$te=PHe([].push),cd=BR("symbols"),Db=BR("op-symbols"),YHe=BR("wks"),RR=!DR||!DR[Ob]||!DR[Ob].findChild,Hte=function(e,t,r){var n=Vte(Ml,t);n&&delete Ml[t],Qh(e,t,r),n&&e!==Ml&&Qh(Ml,t,n)},LR=Uv&&DHe(function(){return Pb(Qh({},"a",{get:function(){return Qh(this,"a",{value:7}).a}})).a!==7})?Hte:Qh,kR=function(e,t){var r=cd[e]=Pb(Mb);return HHe(r,{type:hT,tag:e,description:t}),Uv||(r.description=t),r},mT=function(t,r,n){t===Ml&&mT(Db,r,n),qR(t);var i=jR(r);return qR(n),Io(cd,i)?(n.enumerable?(Io(t,ys)&&t[ys][i]&&(t[ys][i]=!1),n=Pb(n,{enumerable:NR(0,!1)})):(Io(t,ys)||Qh(t,ys,NR(1,{})),t[ys][i]=!0),LR(t,i,n)):Qh(t,i,n)},VR=function(t,r){qR(t);var n=pT(r),i=Nte(n).concat(Zte(n));return fT(i,function(o){(!Uv||FR(zR,n,o))&&mT(t,o,n[o])}),t},KHe=function(t,r){return r===void 0?Pb(t):VR(Pb(t),r)},zR=function(t){var r=jR(t),n=FR(ZHe,this,r);return this===Ml&&Io(cd,r)&&!Io(Db,r)?!1:n||!Io(this,r)||!Io(cd,r)||Io(this,ys)&&this[ys][r]?n:!0},Wte=function(t,r){var n=pT(t),i=jR(r);if(!(n===Ml&&Io(cd,i)&&!Io(Db,i))){var o=Vte(n,i);return o&&Io(cd,i)&&!(Io(n,ys)&&n[ys][i])&&(o.enumerable=!0),o}},Gte=function(t){var r=Ute(pT(t)),n=[];return fT(r,function(i){!Io(cd,i)&&!Io(jte,i)&&$te(n,i)}),n},Zte=function(e){var t=e===Ml,r=Ute(t?Db:pT(e)),n=[];return fT(r,function(i){Io(cd,i)&&(!t||Io(Ml,i))&&$te(n,cd[i])}),n};$v||(Jh=function(){if(kHe(Mb,this))throw new GHe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:qHe(arguments[0]),r=kte(t),n=function(i){this===Ml&&FR(n,Db,i),Io(this,ys)&&Io(this[ys],r)&&(this[ys][r]=!1);var o=NR(1,i);try{LR(this,r,o)}catch(u){if(!(u instanceof WHe))throw u;Hte(this,r,o)}};return Uv&&RR&&LR(Ml,r,{configurable:!0,set:n}),kR(r,t)},Mb=Jh[Ob],OR(Mb,"toString",function(){return qte(this).tag}),OR(Jh,"withoutSetter",function(e){return kR(kte(e),e)}),Fte.f=zR,zte.f=mT,LHe.f=VR,Lte.f=Wte,NHe.f=Rte.f=Gte,RHe.f=Zte,BHe.f=function(e){return kR(jHe(e),e)},Uv&&(zHe(Mb,"description",{configurable:!0,get:function(){return qte(this).description}}),OHe||OR(Ml,"propertyIsEnumerable",zR,{unsafe:!0})));cT({global:!0,constructor:!0,wrap:!0,forced:!$v,sham:!$v},{Symbol:Jh});fT(Nte(YHe),function(e){VHe(e)});cT({target:hT,stat:!0,forced:!$v},{useSetter:function(){RR=!0},useSimple:function(){RR=!1}});cT({target:"Object",stat:!0,forced:!$v,sham:!Uv},{create:KHe,defineProperty:mT,defineProperties:VR,getOwnPropertyDescriptor:Wte});cT({target:"Object",stat:!0,forced:!$v},{getOwnPropertyNames:Gte});UHe();$He(Jh,hT);jte[ys]=!0});var UR=I((Ror,Kte)=>{"use strict";var XHe=tf();Kte.exports=XHe&&!!Symbol.for&&!!Symbol.keyFor});var Jte=I(()=>{"use strict";var JHe=J(),QHe=br(),eWe=zr(),tWe=Sr(),Xte=ec(),rWe=UR(),$R=Xte("string-to-symbol-registry"),nWe=Xte("symbol-to-string-registry");JHe({target:"Symbol",stat:!0,forced:!rWe},{for:function(e){var t=tWe(e);if(eWe($R,t))return $R[t];var r=QHe("Symbol")(t);return $R[t]=r,nWe[r]=t,r}})});var ere=I(()=>{"use strict";var iWe=J(),oWe=zr(),aWe=sd(),sWe=rf(),lWe=ec(),uWe=UR(),Qte=lWe("symbol-to-string-registry");iWe({target:"Symbol",stat:!0,forced:!uWe},{keyFor:function(t){if(!aWe(t))throw new TypeError(sWe(t)+" is not a symbol");if(oWe(Qte,t))return Qte[t]}})});var ba=I((Bor,ire)=>{"use strict";var cWe=Rv(),nre=Function.prototype,tre=nre.apply,rre=nre.call;ire.exports=typeof Reflect=="object"&&Reflect.apply||(cWe?rre.bind(tre):function(){return rre.apply(tre,arguments)})});var dd=I((Vor,ore)=>{"use strict";var dWe=it();ore.exports=dWe([].slice)});var HR=I((Uor,ure)=>{"use strict";var pWe=it(),are=vu(),fWe=Tr(),sre=jo(),hWe=Sr(),lre=pWe([].push);ure.exports=function(e){if(fWe(e))return e;if(are(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?lre(r,i):(typeof i=="number"||sre(i)==="Number"||sre(i)==="String")&&lre(r,hWe(i))}var o=r.length,u=!0;return function(p,h){if(u)return u=!1,h;if(are(this))return h;for(var y=0;y<o;y++)if(r[y]===p)return h}}}});var WR=I(()=>{"use strict";var mWe=J(),vre=br(),yre=ba(),gWe=Lt(),kb=it(),_re=yt(),cre=Tr(),dre=sd(),bre=dd(),vWe=HR(),yWe=tf(),_We=String,af=vre("JSON","stringify"),gT=kb(/./.exec),pre=kb("".charAt),bWe=kb("".charCodeAt),xWe=kb("".replace),wWe=kb(1 .toString),SWe=/[\uD800-\uDFFF]/g,fre=/^[\uD800-\uDBFF]$/,hre=/^[\uDC00-\uDFFF]$/,mre=!yWe||_re(function(){var e=vre("Symbol")("stringify detection");return af([e])!=="[null]"||af({a:e})!=="{}"||af(Object(e))!=="{}"}),gre=_re(function(){return af("\uDF06\uD834")!=="\"\\udf06\\ud834\""||af("\uDEAD")!=="\"\\udead\""}),IWe=function(e,t){var r=bre(arguments),n=vWe(t);if(!(!cre(n)&&(e===void 0||dre(e))))return r[1]=function(i,o){if(cre(n)&&(o=gWe(n,this,_We(i),o)),!dre(o))return o},yre(af,null,r)},EWe=function(e,t,r){var n=pre(r,t-1),i=pre(r,t+1);return gT(fre,e)&&!gT(hre,i)||gT(hre,e)&&!gT(fre,n)?"\\u"+wWe(bWe(e,0),16):e};af&&mWe({target:"JSON",stat:!0,arity:3,forced:mre||gre},{stringify:function(t,r,n){var i=bre(arguments),o=yre(mre?IWe:af,null,i);return gre&&typeof o=="string"?xWe(o,SWe,EWe):o}})});var wre=I(()=>{"use strict";var TWe=J(),CWe=tf(),AWe=yt(),xre=Tb(),MWe=Zr(),PWe=!CWe||AWe(function(){xre.f(1)});TWe({target:"Object",stat:!0,forced:PWe},{getOwnPropertySymbols:function(t){var r=xre.f;return r?r(MWe(t)):[]}})});var Sre=I(()=>{"use strict";Yte();Jte();ere();WR();wre()});var Pre=I(()=>{"use strict";var OWe=J(),DWe=fr(),kWe=Xt(),vT=it(),qWe=zr(),NWe=Tr(),RWe=_a(),LWe=Sr(),zWe=yi(),FWe=jv(),pd=kWe.Symbol,em=pd&&pd.prototype;DWe&&NWe(pd)&&(!("description"in em)||pd().description!==void 0)&&(GR={},qb=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:LWe(arguments[0]),r=RWe(em,this)?new pd(t):t===void 0?pd():pd(t);return t===""&&(GR[r]=!0),r},FWe(qb,pd),qb.prototype=em,em.constructor=qb,Ire=String(pd("description detection"))==="Symbol(description detection)",Ere=vT(em.valueOf),Tre=vT(em.toString),Cre=/^Symbol\((.*)\)[^)]+$/,Are=vT("".replace),Mre=vT("".slice),zWe(em,"description",{configurable:!0,get:function(){var t=Ere(this);if(qWe(GR,t))return"";var r=Tre(t),n=Ire?Mre(r,7,-1):Are(r,Cre,"$1");return n===""?void 0:n}}),OWe({global:!0,constructor:!0,forced:!0},{Symbol:qb}));var GR,qb,Ire,Ere,Tre,Cre,Are,Mre});var Ore=I(()=>{"use strict";var jWe=Ai();jWe("asyncIterator")});var Dre=I(()=>{"use strict";var BWe=Ai();BWe("hasInstance")});var kre=I(()=>{"use strict";var VWe=Ai();VWe("isConcatSpreadable")});var qre=I(()=>{"use strict";var UWe=Ai();UWe("iterator")});var Nre=I(()=>{"use strict";var $We=Ai();$We("match")});var Rre=I(()=>{"use strict";var HWe=Ai();HWe("matchAll")});var Lre=I(()=>{"use strict";var WWe=Ai();WWe("replace")});var zre=I(()=>{"use strict";var GWe=Ai();GWe("search")});var Fre=I(()=>{"use strict";var ZWe=Ai();ZWe("species")});var jre=I(()=>{"use strict";var YWe=Ai();YWe("split")});var Bre=I(()=>{"use strict";var KWe=Ai(),XWe=MR();KWe("toPrimitive");XWe()});var Vre=I(()=>{"use strict";var JWe=br(),QWe=Ai(),eGe=vs();QWe("toStringTag");eGe(JWe("Symbol"),"Symbol")});var Ure=I(()=>{"use strict";var tGe=Ai();tGe("unscopables")});var Nb=I((Ear,$re)=>{"use strict";var rGe=it(),nGe=xr();$re.exports=function(e,t,r){try{return rGe(nGe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var ZR=I((Tar,Hre)=>{"use strict";var iGe=Tr(),oGe=String,aGe=TypeError;Hre.exports=function(e){if(typeof e=="object"||iGe(e))return e;throw new aGe("Can't set "+oGe(e)+" as a prototype")}});var Pl=I((Car,Wre)=>{"use strict";var sGe=Nb(),lGe=Ft(),uGe=ZR();Wre.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=sGe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return lGe(i),uGe(o),e?r(i,o):i.__proto__=o,i}}():void 0)});var YR=I((Aar,Gre)=>{"use strict";var cGe=Qn().f;Gre.exports=function(e,t,r){r in e||cGe(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var tm=I((Mar,Yre)=>{"use strict";var dGe=Tr(),pGe=Cr(),Zre=Pl();Yre.exports=function(e,t,r){var n,i;return Zre&&dGe(n=t.constructor)&&n!==r&&pGe(i=n.prototype)&&i!==r.prototype&&Zre(e,i),e}});var rm=I((Par,Kre)=>{"use strict";var fGe=Sr();Kre.exports=function(e,t){return e===void 0?arguments.length<2?"":t:fGe(e)}});var KR=I((Oar,Xre)=>{"use strict";var hGe=Cr(),mGe=Hi();Xre.exports=function(e,t){hGe(t)&&"cause"in t&&mGe(e,"cause",t.cause)}});var yT=I((Dar,ene)=>{"use strict";var gGe=it(),Jre=Error,vGe=gGe("".replace),yGe=function(e){return String(new Jre(e).stack)}("zxcasd"),Qre=/\n\s*at [^:]*:[^\n]*/,_Ge=Qre.test(yGe);ene.exports=function(e,t){if(_Ge&&typeof e=="string"&&!Jre.prepareStackTrace)for(;t--;)e=vGe(e,Qre,"");return e}});var XR=I((kar,tne)=>{"use strict";var bGe=yt(),xGe=hs();tne.exports=!bGe(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",xGe(1,7)),e.stack!==7):!0})});var _T=I((qar,nne)=>{"use strict";var wGe=Hi(),SGe=yT(),IGe=XR(),rne=Error.captureStackTrace;nne.exports=function(e,t,r,n){IGe&&(rne?rne(e,t):wGe(e,"stack",SGe(r,n)))}});var JR=I((Nar,cne)=>{"use strict";var ine=br(),EGe=zr(),one=Hi(),TGe=_a(),ane=Pl(),sne=jv(),lne=YR(),CGe=tm(),AGe=rm(),MGe=KR(),PGe=_T(),OGe=fr(),une=Gr();cne.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,u=e.split("."),p=u[u.length-1],h=ine.apply(null,u);if(h){var y=h.prototype;if(!une&&EGe(y,"cause")&&delete y.cause,!r)return h;var x=ine("Error"),E=t(function(T,D){var z=AGe(n?D:T,void 0),F=n?new h(T):new h;return z!==void 0&&one(F,"message",z),PGe(F,E,F.stack,2),this&&TGe(y,this)&&CGe(F,this,E),arguments.length>o&&MGe(F,arguments[o]),F});if(E.prototype=y,p!=="Error"?ane?ane(E,x):sne(E,x,{name:!0}):OGe&&i in h&&(lne(E,h,i),lne(E,h,"prepareStackTrace")),sne(E,h),!une)try{y.name!==p&&one(y,"name",p),y.constructor=E}catch(T){}return E}}});var hne=I(()=>{"use strict";var pne=J(),DGe=Xt(),tc=ba(),fne=JR(),QR="WebAssembly",dne=DGe[QR],bT=new Error("e",{cause:7}).cause!==7,nm=function(e,t){var r={};r[e]=fne(e,t,bT),pne({global:!0,constructor:!0,arity:1,forced:bT},r)},eL=function(e,t){if(dne&&dne[e]){var r={};r[e]=fne(QR+"."+e,t,bT),pne({target:QR,stat:!0,constructor:!0,arity:1,forced:bT},r)}};nm("Error",function(e){return function(r){return tc(e,this,arguments)}});nm("EvalError",function(e){return function(r){return tc(e,this,arguments)}});nm("RangeError",function(e){return function(r){return tc(e,this,arguments)}});nm("ReferenceError",function(e){return function(r){return tc(e,this,arguments)}});nm("SyntaxError",function(e){return function(r){return tc(e,this,arguments)}});nm("TypeError",function(e){return function(r){return tc(e,this,arguments)}});nm("URIError",function(e){return function(r){return tc(e,this,arguments)}});eL("CompileError",function(e){return function(r){return tc(e,this,arguments)}});eL("LinkError",function(e){return function(r){return tc(e,this,arguments)}});eL("RuntimeError",function(e){return function(r){return tc(e,this,arguments)}})});var tL=I((zar,gne)=>{"use strict";var kGe=fr(),qGe=yt(),NGe=Ft(),RGe=Fi(),mne=rm(),xT=Error.prototype.toString,LGe=qGe(function(){if(kGe){var e=RGe(Object.defineProperty({},"name",{get:function(){return this===e}}));if(xT.call(e)!=="true")return!0}return xT.call({message:1,name:2})!=="2: 1"||xT.call({})!=="Error"});gne.exports=LGe?function(){var t=NGe(this),r=mne(t.name,"Error"),n=mne(t.message);return r?n?r+": "+n:r:n}:xT});var _ne=I(()=>{"use strict";var zGe=On(),vne=tL(),yne=Error.prototype;yne.toString!==vne&&zGe(yne,"toString",vne)});var wT=I((Bar,bne)=>{"use strict";var FGe=yt();bne.exports=!FGe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Wi=I((Var,wne)=>{"use strict";var jGe=zr(),BGe=Tr(),VGe=Zr(),UGe=Sb(),$Ge=wT(),xne=UGe("IE_PROTO"),rL=Object,HGe=rL.prototype;wne.exports=$Ge?rL.getPrototypeOf:function(e){var t=VGe(e);if(jGe(t,xne))return t[xne];var r=t.constructor;return BGe(r)&&t instanceof r?r.prototype:t instanceof rL?HGe:null}});var im=I((Uar,Sne)=>{"use strict";Sne.exports={}});var ST=I(($ar,Ine)=>{"use strict";var WGe=hr(),GGe=im(),ZGe=WGe("iterator"),YGe=Array.prototype;Ine.exports=function(e){return e!==void 0&&(GGe.Array===e||YGe[ZGe]===e)}});var fd=I((Har,Tne)=>{"use strict";var KGe=gs(),Ene=zi(),XGe=$i(),JGe=im(),QGe=hr(),eZe=QGe("iterator");Tne.exports=function(e){if(!XGe(e))return Ene(e,eZe)||Ene(e,"@@iterator")||JGe[KGe(e)]}});var sf=I((War,Cne)=>{"use strict";var tZe=Lt(),rZe=xr(),nZe=Ft(),iZe=rf(),oZe=fd(),aZe=TypeError;Cne.exports=function(e,t){var r=arguments.length<2?oZe(e):t;if(rZe(r))return nZe(tZe(r,e));throw new aZe(iZe(e)+" is not iterable")}});var hd=I((Gar,Mne)=>{"use strict";var sZe=Lt(),Ane=Ft(),lZe=zi();Mne.exports=function(e,t,r){var n,i;Ane(e);try{if(n=lZe(e,"return"),!n){if(t==="throw")throw r;return r}n=sZe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return Ane(n),r}});var Mi=I((Zar,kne)=>{"use strict";var uZe=jn(),cZe=Lt(),dZe=Ft(),pZe=rf(),fZe=ST(),hZe=Jr(),Pne=_a(),mZe=sf(),gZe=fd(),One=hd(),vZe=TypeError,IT=function(e,t){this.stopped=e,this.result=t},Dne=IT.prototype;kne.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),p=!!(r&&r.INTERRUPTED),h=uZe(t,n),y,x,E,T,D,z,F,q=function(B){return y&&One(y,"normal",B),new IT(!0,B)},N=function(B){return i?(dZe(B),p?h(B[0],B[1],q):h(B[0],B[1])):p?h(B,q):h(B)};if(o)y=e.iterator;else if(u)y=e;else{if(x=gZe(e),!x)throw new vZe(pZe(e)+" is not iterable");if(fZe(x)){for(E=0,T=hZe(e);T>E;E++)if(D=N(e[E]),D&&Pne(Dne,D))return D;return new IT(!1)}y=mZe(e,x)}for(z=o?e.next:y.next;!(F=cZe(z,y)).done;){try{D=N(F.value)}catch(B){One(y,"throw",B)}if(typeof D=="object"&&D&&Pne(Dne,D))return D}return new IT(!1)}});var Nne=I(()=>{"use strict";var yZe=J(),_Ze=_a(),bZe=Wi(),ET=Pl(),xZe=jv(),qne=Fi(),nL=Hi(),iL=hs(),wZe=KR(),SZe=_T(),IZe=Mi(),EZe=rm(),TZe=hr(),CZe=TZe("toStringTag"),TT=Error,AZe=[].push,Hv=function(t,r){var n=_Ze(oL,this),i;ET?i=ET(new TT,n?bZe(this):oL):(i=n?this:qne(oL),nL(i,CZe,"Error")),r!==void 0&&nL(i,"message",EZe(r)),SZe(i,Hv,i.stack,1),arguments.length>2&&wZe(i,arguments[2]);var o=[];return IZe(t,AZe,{that:o}),nL(i,"errors",o),i};ET?ET(Hv,TT):xZe(Hv,TT,{name:!0});var oL=Hv.prototype=qne(TT.prototype,{constructor:iL(1,Hv),message:iL(1,""),name:iL(1,"AggregateError")});yZe({global:!0,constructor:!0,arity:2},{AggregateError:Hv})});var aL=I(()=>{"use strict";Nne()});var Fne=I(()=>{"use strict";var MZe=J(),PZe=br(),OZe=ba(),Rne=yt(),DZe=JR(),sL="AggregateError",Lne=PZe(sL),zne=!Rne(function(){return Lne([1]).errors[0]!==1})&&Rne(function(){return Lne([1],sL,{cause:7}).cause!==7});MZe({global:!0,constructor:!0,arity:2,forced:zne},{AggregateError:DZe(sL,function(e){return function(r,n){return OZe(e,this,arguments)}},zne,!0)})});var Ei=I((tsr,jne)=>{"use strict";var kZe=hr(),qZe=Fi(),NZe=Qn().f,lL=kZe("unscopables"),uL=Array.prototype;uL[lL]===void 0&&NZe(uL,lL,{configurable:!0,value:qZe(null)});jne.exports=function(e){uL[lL][e]=!0}});var cL=I(()=>{"use strict";var RZe=J(),LZe=Zr(),zZe=Jr(),FZe=ui(),jZe=Ei();RZe({target:"Array",proto:!0},{at:function(t){var r=LZe(this),n=zZe(r),i=FZe(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});jZe("at")});var lf=I((isr,Bne)=>{"use strict";var BZe=TypeError,VZe=9007199254740991;Bne.exports=function(e){if(e>VZe)throw BZe("Maximum allowed index exceeded");return e}});var Wv=I((osr,Vne)=>{"use strict";var UZe=yt(),$Ze=hr(),HZe=Qu(),WZe=$Ze("species");Vne.exports=function(e){return HZe>=51||!UZe(function(){var t=[],r=t.constructor={};return r[WZe]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var Wne=I(()=>{"use strict";var GZe=J(),ZZe=yt(),YZe=vu(),KZe=Cr(),XZe=Zr(),JZe=Jr(),Une=lf(),$ne=Al(),QZe=Vv(),eYe=Wv(),tYe=hr(),rYe=Qu(),Hne=tYe("isConcatSpreadable"),nYe=rYe>=51||!ZZe(function(){var e=[];return e[Hne]=!1,e.concat()[0]!==e}),iYe=function(e){if(!KZe(e))return!1;var t=e[Hne];return t!==void 0?!!t:YZe(e)},oYe=!nYe||!eYe("concat");GZe({target:"Array",proto:!0,arity:1,forced:oYe},{concat:function(t){var r=XZe(this),n=QZe(r,0),i=0,o,u,p,h,y;for(o=-1,p=arguments.length;o<p;o++)if(y=o===-1?r:arguments[o],iYe(y))for(h=JZe(y),Une(i+h),u=0;u<h;u++,i++)u in y&&$ne(n,i,y[u]);else Une(i+1),$ne(n,i++,y);return n.length=i,n}})});var Rb=I((lsr,Zne)=>{"use strict";var Gne=rf(),aYe=TypeError;Zne.exports=function(e,t){if(!delete e[t])throw new aYe("Cannot delete property "+Gne(t)+" of "+Gne(e))}});var pL=I((usr,Yne)=>{"use strict";var sYe=Zr(),dL=Cl(),lYe=Jr(),uYe=Rb(),cYe=Math.min;Yne.exports=[].copyWithin||function(t,r){var n=sYe(this),i=lYe(n),o=dL(t,i),u=dL(r,i),p=arguments.length>2?arguments[2]:void 0,h=cYe((p===void 0?i:dL(p,i))-u,i-o),y=1;for(u<o&&o<u+h&&(y=-1,u+=h-1,o+=h-1);h-->0;)u in n?n[o]=n[u]:uYe(n,o),o+=y,u+=y;return n}});var Kne=I(()=>{"use strict";var dYe=J(),pYe=pL(),fYe=Ei();dYe({target:"Array",proto:!0},{copyWithin:pYe});fYe("copyWithin")});var Ol=I((psr,Xne)=>{"use strict";var hYe=yt();Xne.exports=function(e,t){var r=[][e];return!!r&&hYe(function(){r.call(null,t||function(){return 1},1)})}});var Jne=I(()=>{"use strict";var mYe=J(),gYe=ji().every,vYe=Ol(),yYe=vYe("every");mYe({target:"Array",proto:!0,forced:!yYe},{every:function(t){return gYe(this,t,arguments.length>1?arguments[1]:void 0)}})});var CT=I((msr,eie)=>{"use strict";var _Ye=Zr(),Qne=Cl(),bYe=Jr();eie.exports=function(t){for(var r=_Ye(this),n=bYe(r),i=arguments.length,o=Qne(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,p=u===void 0?n:Qne(u,n);p>o;)r[o++]=t;return r}});var tie=I(()=>{"use strict";var xYe=J(),wYe=CT(),SYe=Ei();xYe({target:"Array",proto:!0},{fill:wYe});SYe("fill")});var rie=I(()=>{"use strict";var IYe=J(),EYe=ji().filter,TYe=Wv(),CYe=TYe("filter");IYe({target:"Array",proto:!0,forced:!CYe},{filter:function(t){return EYe(this,t,arguments.length>1?arguments[1]:void 0)}})});var iie=I(()=>{"use strict";var AYe=J(),MYe=ji().find,PYe=Ei(),fL="find",nie=!0;fL in[]&&Array(1)[fL](function(){nie=!1});AYe({target:"Array",proto:!0,forced:nie},{find:function(t){return MYe(this,t,arguments.length>1?arguments[1]:void 0)}});PYe(fL)});var aie=I(()=>{"use strict";var OYe=J(),DYe=ji().findIndex,kYe=Ei(),hL="findIndex",oie=!0;hL in[]&&Array(1)[hL](function(){oie=!1});OYe({target:"Array",proto:!0,forced:oie},{findIndex:function(t){return DYe(this,t,arguments.length>1?arguments[1]:void 0)}});kYe(hL)});var Lb=I((Isr,lie)=>{"use strict";var qYe=jn(),NYe=ad(),RYe=Zr(),LYe=Jr(),sie=function(e){var t=e===1;return function(r,n,i){for(var o=RYe(r),u=NYe(o),p=qYe(n,i),h=LYe(u),y,x;h-->0;)if(y=u[h],x=p(y,h,o),x)switch(e){case 0:return y;case 1:return h;}return t?-1:void 0}};lie.exports={findLast:sie(0),findLastIndex:sie(1)}});var mL=I(()=>{"use strict";var zYe=J(),FYe=Lb().findLast,jYe=Ei();zYe({target:"Array",proto:!0},{findLast:function(t){return FYe(this,t,arguments.length>1?arguments[1]:void 0)}});jYe("findLast")});var gL=I(()=>{"use strict";var BYe=J(),VYe=Lb().findLastIndex,UYe=Ei();BYe({target:"Array",proto:!0},{findLastIndex:function(t){return VYe(this,t,arguments.length>1?arguments[1]:void 0)}});UYe("findLastIndex")});var vL=I((Msr,cie)=>{"use strict";var $Ye=vu(),HYe=Jr(),WYe=lf(),GYe=jn(),uie=function(e,t,r,n,i,o,u,p){for(var h=i,y=0,x=u?GYe(u,p):!1,E,T;y<n;)y in r&&(E=x?x(r[y],y,t):r[y],o>0&&$Ye(E)?(T=HYe(E),h=uie(e,t,E,T,h,o-1)-1):(WYe(h+1),e[h]=E),h++),y++;return h};cie.exports=uie});var die=I(()=>{"use strict";var ZYe=J(),YYe=vL(),KYe=Zr(),XYe=Jr(),JYe=ui(),QYe=Vv();ZYe({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=KYe(this),n=XYe(r),i=QYe(r,0);return i.length=YYe(i,r,r,n,0,t===void 0?1:JYe(t)),i}})});var pie=I(()=>{"use strict";var eKe=J(),tKe=vL(),rKe=xr(),nKe=Zr(),iKe=Jr(),oKe=Vv();eKe({target:"Array",proto:!0},{flatMap:function(t){var r=nKe(this),n=iKe(r),i;return rKe(t),i=oKe(r,0),i.length=tKe(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var yL=I((qsr,fie)=>{"use strict";var aKe=ji().forEach,sKe=Ol(),lKe=sKe("forEach");fie.exports=lKe?[].forEach:function(t){return aKe(this,t,arguments.length>1?arguments[1]:void 0)}});var mie=I(()=>{"use strict";var uKe=J(),hie=yL();uKe({target:"Array",proto:!0,forced:[].forEach!==hie},{forEach:hie})});var AT=I((Lsr,gie)=>{"use strict";var cKe=Ft(),dKe=hd();gie.exports=function(e,t,r,n){try{return n?t(cKe(r)[0],r[1]):t(r)}catch(i){dKe(e,"throw",i)}}});var _L=I((zsr,_ie)=>{"use strict";var pKe=jn(),fKe=Lt(),hKe=Zr(),mKe=AT(),gKe=ST(),vKe=yu(),yKe=Jr(),vie=Al(),_Ke=sf(),bKe=fd(),yie=Array;_ie.exports=function(t){var r=hKe(t),n=vKe(this),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0;u&&(o=pKe(o,i>2?arguments[2]:void 0));var p=bKe(r),h=0,y,x,E,T,D,z;if(p&&!(this===yie&&gKe(p)))for(T=_Ke(r,p),D=T.next,x=n?new this:[];!(E=fKe(D,T)).done;h++)z=u?mKe(T,o,[E.value,h],!0):E.value,vie(x,h,z);else for(y=yKe(r),x=n?new this(y):yie(y);y>h;h++)z=u?o(r[h],h):r[h],vie(x,h,z);return x.length=h,x}});var zb=I((Fsr,Sie)=>{"use strict";var xKe=hr(),xie=xKe("iterator"),wie=!1;try{bie=0,bL={next:function(){return{done:!!bie++}},return:function(){wie=!0}},bL[xie]=function(){return this},Array.from(bL,function(){throw 2})}catch(e){}var bie,bL;Sie.exports=function(e,t){try{if(!t&&!wie)return!1}catch(i){return!1}var r=!1;try{var n={};n[xie]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var Iie=I(()=>{"use strict";var wKe=J(),SKe=_L(),IKe=zb(),EKe=!IKe(function(e){Array.from(e)});wKe({target:"Array",stat:!0,forced:EKe},{from:SKe})});var Eie=I(()=>{"use strict";var TKe=J(),CKe=Fv().includes,AKe=yt(),MKe=Ei(),PKe=AKe(function(){return!Array(1).includes()});TKe({target:"Array",proto:!0,forced:PKe},{includes:function(t){return CKe(this,t,arguments.length>1?arguments[1]:void 0)}});MKe("includes")});var Cie=I(()=>{"use strict";var OKe=J(),DKe=ud(),kKe=Fv().indexOf,qKe=Ol(),xL=DKe([].indexOf),Tie=!!xL&&1/xL([1],1,-0)<0,NKe=Tie||!qKe("indexOf");OKe({target:"Array",proto:!0,forced:NKe},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return Tie?xL(this,t,r)||0:kKe(this,t,r)}})});var Aie=I(()=>{"use strict";var RKe=J(),LKe=vu();RKe({target:"Array",stat:!0},{isArray:LKe})});var om=I((Zsr,Oie)=>{"use strict";var zKe=yt(),FKe=Tr(),jKe=Cr(),BKe=Fi(),Mie=Wi(),VKe=On(),UKe=hr(),$Ke=Gr(),IL=UKe("iterator"),Pie=!1,md,wL,SL;[].keys&&(SL=[].keys(),"next"in SL?(wL=Mie(Mie(SL)),wL!==Object.prototype&&(md=wL)):Pie=!0);var HKe=!jKe(md)||zKe(function(){var e={};return md[IL].call(e)!==e});HKe?md={}:$Ke&&(md=BKe(md));FKe(md[IL])||VKe(md,IL,function(){return this});Oie.exports={IteratorPrototype:md,BUGGY_SAFARI_ITERATORS:Pie}});var uf=I((Ysr,Die)=>{"use strict";var WKe=om().IteratorPrototype,GKe=Fi(),ZKe=hs(),YKe=vs(),KKe=im(),XKe=function(){return this};Die.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=GKe(WKe,{next:ZKe(+!n,r)}),YKe(e,i,!1,!0),KKe[i]=XKe,e}});var OT=I((Ksr,Vie)=>{"use strict";var JKe=J(),QKe=Lt(),MT=Gr(),jie=Zh(),eXe=Tr(),tXe=uf(),kie=Wi(),qie=Pl(),rXe=vs(),nXe=Hi(),EL=On(),iXe=hr(),Nie=im(),Bie=om(),oXe=jie.PROPER,aXe=jie.CONFIGURABLE,Rie=Bie.IteratorPrototype,PT=Bie.BUGGY_SAFARI_ITERATORS,Fb=iXe("iterator"),Lie="keys",jb="values",zie="entries",Fie=function(){return this};Vie.exports=function(e,t,r,n,i,o,u){tXe(r,t,n);var p=function(N){if(N===i&&T)return T;if(!PT&&N&&N in x)return x[N];switch(N){case Lie:return function(){return new r(this,N)};case jb:return function(){return new r(this,N)};case zie:return function(){return new r(this,N)};}return function(){return new r(this)}},h=t+" Iterator",y=!1,x=e.prototype,E=x[Fb]||x["@@iterator"]||i&&x[i],T=!PT&&E||p(i),D=t==="Array"&&x.entries||E,z,F,q;if(D&&(z=kie(D.call(new e)),z!==Object.prototype&&z.next&&(!MT&&kie(z)!==Rie&&(qie?qie(z,Rie):eXe(z[Fb])||EL(z,Fb,Fie)),rXe(z,h,!0,!0),MT&&(Nie[h]=Fie))),oXe&&i===jb&&E&&E.name!==jb&&(!MT&&aXe?nXe(x,"name",jb):(y=!0,T=function(){return QKe(E,this)})),i)if(F={values:p(jb),keys:o?T:p(Lie),entries:p(zie)},u)for(q in F)(PT||y||!(q in x))&&EL(x,q,F[q]);else JKe({target:t,proto:!0,forced:PT||y},F);return(!MT||u)&&x[Fb]!==T&&EL(x,Fb,T,{name:i}),Nie[t]=T,F}});var Bo=I((Xsr,Uie)=>{"use strict";Uie.exports=function(e,t){return{value:e,done:t}}});var Bb=I((Jsr,Zie)=>{"use strict";var sXe=ro(),TL=Ei(),$ie=im(),Wie=In(),lXe=Qn().f,uXe=OT(),DT=Bo(),cXe=Gr(),dXe=fr(),Gie="Array Iterator",pXe=Wie.set,fXe=Wie.getterFor(Gie);Zie.exports=uXe(Array,"Array",function(e,t){pXe(this,{type:Gie,target:sXe(e),index:0,kind:t})},function(){var e=fXe(this),t=e.target,r=e.kind,n=e.index++;if(!t||n>=t.length)return e.target=void 0,DT(void 0,!0);switch(r){case"keys":return DT(n,!1);case"values":return DT(t[n],!1);}return DT([n,t[n]],!1)},"values");var Hie=$ie.Arguments=$ie.Array;TL("keys");TL("values");TL("entries");if(!cXe&&dXe&&Hie.name!=="values")try{lXe(Hie,"name",{value:"values"})}catch(e){}});var Yie=I(()=>{"use strict";var hXe=J(),mXe=it(),gXe=ad(),vXe=ro(),yXe=Ol(),_Xe=mXe([].join),bXe=gXe!==Object,xXe=bXe||!yXe("join",",");hXe({target:"Array",proto:!0,forced:xXe},{join:function(t){return _Xe(vXe(this),t===void 0?",":t)}})});var AL=I((tlr,Xie)=>{"use strict";var wXe=ba(),SXe=ro(),IXe=ui(),EXe=Jr(),TXe=Ol(),CXe=Math.min,CL=[].lastIndexOf,Kie=!!CL&&1/[1].lastIndexOf(1,-0)<0,AXe=TXe("lastIndexOf"),MXe=Kie||!AXe;Xie.exports=MXe?function(t){if(Kie)return wXe(CL,this,arguments)||0;var r=SXe(this),n=EXe(r),i=n-1;for(arguments.length>1&&(i=CXe(i,IXe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:CL});var Qie=I(()=>{"use strict";var PXe=J(),Jie=AL();PXe({target:"Array",proto:!0,forced:Jie!==[].lastIndexOf},{lastIndexOf:Jie})});var eoe=I(()=>{"use strict";var OXe=J(),DXe=ji().map,kXe=Wv(),qXe=kXe("map");OXe({target:"Array",proto:!0,forced:!qXe},{map:function(t){return DXe(this,t,arguments.length>1?arguments[1]:void 0)}})});var roe=I(()=>{"use strict";var NXe=J(),RXe=yt(),LXe=yu(),zXe=Al(),toe=Array,FXe=RXe(function(){function e(){}return!(toe.of.call(e)instanceof e)});NXe({target:"Array",stat:!0,forced:FXe},{of:function(){for(var t=0,r=arguments.length,n=new(LXe(this)?this:toe)(r);r>t;)zXe(n,t,arguments[t++]);return n.length=r,n}})});var kT=I((llr,noe)=>{"use strict";var jXe=fr(),BXe=vu(),VXe=TypeError,UXe=Object.getOwnPropertyDescriptor,$Xe=jXe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();noe.exports=$Xe?function(e,t){if(BXe(e)&&!UXe(e,"length").writable)throw new VXe("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var ioe=I(()=>{"use strict";var HXe=J(),WXe=Zr(),GXe=Jr(),ZXe=kT(),YXe=lf(),KXe=yt(),XXe=KXe(function(){return[].push.call({length:4294967296},1)!==4294967297}),JXe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},QXe=XXe||!JXe();HXe({target:"Array",proto:!0,arity:1,forced:QXe},{push:function(t){var r=WXe(this),n=GXe(r),i=arguments.length;YXe(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return ZXe(r,n),n}})});var Vb=I((dlr,aoe)=>{"use strict";var eJe=xr(),tJe=Zr(),rJe=ad(),nJe=Jr(),iJe=TypeError,ooe=function(e){return function(t,r,n,i){eJe(r);var o=tJe(t),u=rJe(o),p=nJe(o),h=e?p-1:0,y=e?-1:1;if(n<2)for(;;){if(h in u){i=u[h],h+=y;break}if(h+=y,e?h<0:p<=h)throw new iJe("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=y)h in u&&(i=r(i,u[h],h,o));return i}};aoe.exports={left:ooe(!1),right:ooe(!0)}});var rc=I((plr,soe)=>{"use strict";var oJe=Xt(),aJe=jo();soe.exports=aJe(oJe.process)==="process"});var uoe=I(()=>{"use strict";var sJe=J(),lJe=Vb().left,uJe=Ol(),loe=Qu(),cJe=rc(),dJe=!cJe&&loe>79&&loe<83,pJe=dJe||!uJe("reduce");sJe({target:"Array",proto:!0,forced:pJe},{reduce:function(t){var r=arguments.length;return lJe(this,t,r,r>1?arguments[1]:void 0)}})});var doe=I(()=>{"use strict";var fJe=J(),hJe=Vb().right,mJe=Ol(),coe=Qu(),gJe=rc(),vJe=!gJe&&coe>79&&coe<83,yJe=vJe||!mJe("reduceRight");fJe({target:"Array",proto:!0,forced:yJe},{reduceRight:function(t){return hJe(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var foe=I(()=>{"use strict";var _Je=J(),bJe=it(),xJe=vu(),wJe=bJe([].reverse),poe=[1,2];_Je({target:"Array",proto:!0,forced:String(poe)===String(poe.reverse())},{reverse:function(){return xJe(this)&&(this.length=this.length),wJe(this)}})});var goe=I(()=>{"use strict";var SJe=J(),hoe=vu(),IJe=yu(),EJe=Cr(),moe=Cl(),TJe=Jr(),CJe=ro(),AJe=Al(),MJe=hr(),PJe=Wv(),OJe=dd(),DJe=PJe("slice"),kJe=MJe("species"),ML=Array,qJe=Math.max;SJe({target:"Array",proto:!0,forced:!DJe},{slice:function(t,r){var n=CJe(this),i=TJe(n),o=moe(t,i),u=moe(r===void 0?i:r,i),p,h,y;if(hoe(n)&&(p=n.constructor,IJe(p)&&(p===ML||hoe(p.prototype))?p=void 0:EJe(p)&&(p=p[kJe],p===null&&(p=void 0)),p===ML||p===void 0))return OJe(n,o,u);for(h=new(p===void 0?ML:p)(qJe(u-o,0)),y=0;o<u;o++,y++)o in n&&AJe(h,y,n[o]);return h.length=y,h}})});var voe=I(()=>{"use strict";var NJe=J(),RJe=ji().some,LJe=Ol(),zJe=LJe("some");NJe({target:"Array",proto:!0,forced:!zJe},{some:function(t){return RJe(this,t,arguments.length>1?arguments[1]:void 0)}})});var qT=I((Slr,_oe)=>{"use strict";var yoe=Xh(),FJe=Math.floor,PL=function(e,t){var r=e.length,n=FJe(r/2);return r<8?jJe(e,t):BJe(e,PL(yoe(e,0,n),t),PL(yoe(e,n),t),t)},jJe=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},BJe=function(e,t,r,n){for(var i=t.length,o=r.length,u=0,p=0;u<i||p<o;)e[u+p]=u<i&&p<o?n(t[u],r[p])<=0?t[u++]:r[p++]:u<i?t[u++]:r[p++];return e};_oe.exports=PL});var OL=I((Ilr,xoe)=>{"use strict";var VJe=Ju(),boe=VJe.match(/firefox\/(\d+)/i);xoe.exports=!!boe&&+boe[1]});var DL=I((Elr,woe)=>{"use strict";var UJe=Ju();woe.exports=/MSIE|Trident/.test(UJe)});var NT=I((Tlr,Ioe)=>{"use strict";var $Je=Ju(),Soe=$Je.match(/AppleWebKit\/(\d+)\./);Ioe.exports=!!Soe&&+Soe[1]});var koe=I(()=>{"use strict";var HJe=J(),Ooe=it(),WJe=xr(),GJe=Zr(),Eoe=Jr(),ZJe=Rb(),Toe=Sr(),kL=yt(),YJe=qT(),KJe=Ol(),Coe=OL(),XJe=DL(),Aoe=Qu(),Moe=NT(),cf=[],Poe=Ooe(cf.sort),JJe=Ooe(cf.push),QJe=kL(function(){cf.sort(void 0)}),eQe=kL(function(){cf.sort(null)}),tQe=KJe("sort"),Doe=!kL(function(){if(Aoe)return Aoe<70;if(!(Coe&&Coe>3)){if(XJe)return!0;if(Moe)return Moe<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)cf.push({k:r+i,v:n})}for(cf.sort(function(o,u){return u.v-o.v}),i=0;i<cf.length;i++)r=cf[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),rQe=QJe||!eQe||!tQe||!Doe,nQe=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Toe(t)>Toe(r)?1:-1}};HJe({target:"Array",proto:!0,forced:rQe},{sort:function(t){t!==void 0&&WJe(t);var r=GJe(this);if(Doe)return t===void 0?Poe(r):Poe(r,t);var n=[],i=Eoe(r),o,u;for(u=0;u<i;u++)u in r&&JJe(n,r[u]);for(YJe(n,nQe(t)),o=Eoe(n),u=0;u<o;)r[u]=n[u++];for(;u<i;)ZJe(r,u++);return r}})});var df=I((Mlr,Noe)=>{"use strict";var iQe=br(),oQe=yi(),aQe=hr(),sQe=fr(),qoe=aQe("species");Noe.exports=function(e){var t=iQe(e);sQe&&t&&!t[qoe]&&oQe(t,qoe,{configurable:!0,get:function(){return this}})}});var Roe=I(()=>{"use strict";var lQe=df();lQe("Array")});var Loe=I(()=>{"use strict";var uQe=J(),cQe=Zr(),dQe=Cl(),pQe=ui(),fQe=Jr(),hQe=kT(),mQe=lf(),gQe=Vv(),vQe=Al(),qL=Rb(),yQe=Wv(),_Qe=yQe("splice"),bQe=Math.max,xQe=Math.min;uQe({target:"Array",proto:!0,forced:!_Qe},{splice:function(t,r){var n=cQe(this),i=fQe(n),o=dQe(t,i),u=arguments.length,p,h,y,x,E,T;for(u===0?p=h=0:u===1?(p=0,h=i-o):(p=u-2,h=xQe(bQe(pQe(r),0),i-o)),mQe(i+p-h),y=gQe(n,h),x=0;x<h;x++)E=o+x,E in n&&vQe(y,x,n[E]);if(y.length=h,p<h){for(x=o;x<i-h;x++)E=x+h,T=x+p,E in n?n[T]=n[E]:qL(n,T);for(x=i;x>i-h+p;x--)qL(n,x-1)}else if(p>h)for(x=i-h;x>o;x--)E=x+h-1,T=x+p-1,E in n?n[T]=n[E]:qL(n,T);for(x=0;x<p;x++)n[x+o]=arguments[x+2];return hQe(n,i-h+p),y}})});var NL=I((qlr,zoe)=>{"use strict";var wQe=Jr();zoe.exports=function(e,t){for(var r=wQe(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var RL=I(()=>{"use strict";var SQe=J(),IQe=NL(),EQe=ro(),TQe=Ei(),CQe=Array;SQe({target:"Array",proto:!0},{toReversed:function(){return IQe(EQe(this),CQe)}});TQe("toReversed")});var am=I((Llr,Foe)=>{"use strict";var AQe=Jr();Foe.exports=function(e,t){for(var r=0,n=AQe(t),i=new e(n);n>r;)i[r]=t[r++];return i}});var LL=I((zlr,joe)=>{"use strict";var MQe=Xt();joe.exports=function(e){return MQe[e].prototype}});var zL=I(()=>{"use strict";var PQe=J(),OQe=it(),DQe=xr(),kQe=ro(),qQe=am(),NQe=LL(),RQe=Ei(),LQe=Array,zQe=OQe(NQe("Array").sort);PQe({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&DQe(t);var r=kQe(this),n=qQe(LQe,r);return zQe(n,t)}});RQe("toSorted")});var FL=I(()=>{"use strict";var FQe=J(),jQe=Ei(),BQe=lf(),VQe=Jr(),UQe=Cl(),$Qe=ro(),HQe=ui(),WQe=Array,GQe=Math.max,ZQe=Math.min;FQe({target:"Array",proto:!0},{toSpliced:function(t,r){var n=$Qe(this),i=VQe(n),o=UQe(t,i),u=arguments.length,p=0,h,y,x,E;for(u===0?h=y=0:u===1?(h=0,y=i-o):(h=u-2,y=ZQe(GQe(HQe(r),0),i-o)),x=BQe(i+h-y),E=WQe(x);p<o;p++)E[p]=n[p];for(;p<o+h;p++)E[p]=arguments[p-o+2];for(;p<x;p++)E[p]=n[p+y-h];return E}});jQe("toSpliced")});var Boe=I(()=>{"use strict";var YQe=Ei();YQe("flat")});var Voe=I(()=>{"use strict";var KQe=Ei();KQe("flatMap")});var Uoe=I(()=>{"use strict";var XQe=J(),JQe=Zr(),QQe=Jr(),eet=kT(),tet=Rb(),ret=lf(),net=[].unshift(0)!==1,iet=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},oet=net||!iet();XQe({target:"Array",proto:!0,arity:1,forced:oet},{unshift:function(t){var r=JQe(this),n=QQe(r),i=arguments.length;if(i){ret(n+i);for(var o=n;o--;){var u=o+i;o in r?r[u]=r[o]:tet(r,u)}for(var p=0;p<i;p++)r[p]=arguments[p]}return eet(r,n+i)}})});var jL=I((Ylr,$oe)=>{"use strict";var aet=Jr(),set=ui(),uet=RangeError;$oe.exports=function(e,t,r,n){var i=aet(e),o=set(r),u=o<0?i+o:o;if(u>=i||u<0)throw new uet("Incorrect index");for(var p=new t(i),h=0;h<i;h++)p[h]=h===u?n:e[h];return p}});var BL=I(()=>{"use strict";var cet=J(),det=jL(),pet=ro(),fet=Array;cet({target:"Array",proto:!0},{with:function(e,t){return det(pet(this),fet,e,t)}})});var RT=I((Jlr,Hoe)=>{"use strict";Hoe.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Dl=I((Qlr,Woe)=>{"use strict";var het=On();Woe.exports=function(e,t,r){for(var n in t)het(e,n,t[n],r);return e}});var xa=I((eur,Goe)=>{"use strict";var met=_a(),get=TypeError;Goe.exports=function(e,t){if(met(t,e))return e;throw new get("Incorrect invocation")}});var Gv=I((tur,Zoe)=>{"use strict";var vet=ui(),yet=ms(),_et=RangeError;Zoe.exports=function(e){if(e===void 0)return 0;var t=vet(e),r=yet(t);if(t!==r)throw new _et("Wrong length or index");return r}});var LT=I((rur,Yoe)=>{"use strict";Yoe.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var VL=I((nur,Joe)=>{"use strict";var bet=LT(),xet=Math.abs,Xoe=2220446049250313e-31,Koe=1/Xoe,wet=function(e){return e+Koe-Koe};Joe.exports=function(e,t,r,n){var i=+e,o=xet(i),u=bet(i);if(o<n)return u*wet(o/n/t)*n*t;var p=(1+t/Xoe)*o,h=p-(p-o);return h>r||h!==h?u*(1/0):u*h}});var zT=I((iur,Qoe)=>{"use strict";var Iet=VL(),Eet=1.1920928955078125e-7,Tet=34028234663852886e22,Cet=11754943508222875e-54;Qoe.exports=Math.fround||function(t){return Iet(t,Eet,Tet,Cet)}});var FT=I((our,eae)=>{"use strict";var Aet=Array,Met=Math.abs,gd=Math.pow,Pet=Math.floor,Oet=Math.log,Det=Math.LN2,ket=function(e,t,r){var n=Aet(r),i=r*8-t-1,o=(1<<i)-1,u=o>>1,p=t===23?gd(2,-24)-gd(2,-77):0,h=e<0||e===0&&1/e<0?1:0,y=0,x,E,T;for(e=Met(e),e!==e||e===1/0?(E=e!==e?1:0,x=o):(x=Pet(Oet(e)/Det),T=gd(2,-x),e*T<1&&(x--,T*=2),x+u>=1?e+=p/T:e+=p*gd(2,1-u),e*T>=2&&(x++,T/=2),x+u>=o?(E=0,x=o):x+u>=1?(E=(e*T-1)*gd(2,t),x+=u):(E=e*gd(2,u-1)*gd(2,t),x=0));t>=8;)n[y++]=E&255,E/=256,t-=8;for(x=x<<t|E,i+=t;i>0;)n[y++]=x&255,x/=256,i-=8;return n[--y]|=h*128,n},qet=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,u=n-7,p=r-1,h=e[p--],y=h&127,x;for(h>>=7;u>0;)y=y*256+e[p--],u-=8;for(x=y&(1<<-u)-1,y>>=-u,u+=t;u>0;)x=x*256+e[p--],u-=8;if(y===0)y=1-o;else{if(y===i)return x?NaN:h?-1/0:1/0;x+=gd(2,t),y-=o}return(h?-1:1)*x*gd(2,y-t)};eae.exports={pack:ket,unpack:qet}});var Hb=I((aur,yae)=>{"use strict";var HT=Xt(),YL=it(),UL=fr(),Net=RT(),fae=Zh(),tae=Hi(),Ret=yi(),rae=Dl(),$L=yt(),jT=xa(),Let=ui(),zet=ms(),UT=Gv(),Fet=zT(),hae=FT(),jet=Wi(),nae=Pl(),Bet=ld().f,Vet=CT(),Uet=Xh(),mae=vs(),KL=In(),$et=fae.PROPER,iae=fae.CONFIGURABLE,Yv="ArrayBuffer",WT="DataView",Kv="prototype",Het="Wrong length",gae="Wrong index",oae=KL.getterFor(Yv),$b=KL.getterFor(WT),aae=KL.set,kl=HT[Yv],Xs=kl,Zv=Xs&&Xs[Kv],nc=HT[WT],sm=nc&&nc[Kv],sae=Object.prototype,Wet=HT.Array,$T=HT.RangeError,Get=YL(Vet),Zet=YL([].reverse),vae=hae.pack,lae=hae.unpack,uae=function(e){return[e&255]},cae=function(e){return[e&255,e>>8&255]},dae=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},pae=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Yet=function(e){return vae(Fet(e),23,4)},Ket=function(e){return vae(e,52,8)},BT=function(e,t,r){Ret(e[Kv],t,{configurable:!0,get:function(){return r(this)[t]}})},pf=function(e,t,r,n){var i=$b(e),o=UT(r),u=!!n;if(o+t>i.byteLength)throw new $T(gae);var p=i.bytes,h=o+i.byteOffset,y=Uet(p,h,h+t);return u?y:Zet(y)},ff=function(e,t,r,n,i,o){var u=$b(e),p=UT(r),h=n(+i),y=!!o;if(p+t>u.byteLength)throw new $T(gae);for(var x=u.bytes,E=p+u.byteOffset,T=0;T<t;T++)x[E+T]=h[y?T:t-T-1]};if(!Net)Xs=function(t){jT(this,Zv);var r=UT(t);aae(this,{type:Yv,bytes:Get(Wet(r),0),byteLength:r}),UL||(this.byteLength=r,this.detached=!1)},Zv=Xs[Kv],nc=function(t,r,n){jT(this,sm),jT(t,Zv);var i=oae(t),o=i.byteLength,u=Let(r);if(u<0||u>o)throw new $T("Wrong offset");if(n=n===void 0?o-u:zet(n),u+n>o)throw new $T(Het);aae(this,{type:WT,buffer:t,byteLength:n,byteOffset:u,bytes:i.bytes}),UL||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},sm=nc[Kv],UL&&(BT(Xs,"byteLength",oae),BT(nc,"buffer",$b),BT(nc,"byteLength",$b),BT(nc,"byteOffset",$b)),rae(sm,{getInt8:function(t){return pf(this,1,t)[0]<<24>>24},getUint8:function(t){return pf(this,1,t)[0]},getInt16:function(t){var r=pf(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=pf(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return pae(pf(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return pae(pf(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return lae(pf(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return lae(pf(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){ff(this,1,t,uae,r)},setUint8:function(t,r){ff(this,1,t,uae,r)},setInt16:function(t,r){ff(this,2,t,cae,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){ff(this,2,t,cae,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){ff(this,4,t,dae,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){ff(this,4,t,dae,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){ff(this,4,t,Yet,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){ff(this,8,t,Ket,r,arguments.length>2?arguments[2]:!1)}});else{if(HL=$et&&kl.name!==Yv,!$L(function(){kl(1)})||!$L(function(){new kl(-1)})||$L(function(){return new kl,new kl(1.5),new kl(NaN),kl.length!==1||HL&&!iae})){for(Xs=function(t){return jT(this,Zv),new kl(UT(t))},Xs[Kv]=Zv,WL=Bet(kl),GL=0;WL.length>GL;)(VT=WL[GL++])in Xs||tae(Xs,VT,kl[VT]);Zv.constructor=Xs}else HL&&iae&&tae(kl,"name",Yv);nae&&jet(sm)!==sae&&nae(sm,sae),Ub=new nc(new Xs(2)),ZL=YL(sm.setInt8),Ub.setInt8(0,2147483648),Ub.setInt8(1,2147483649),(Ub.getInt8(0)||!Ub.getInt8(1))&&rae(sm,{setInt8:function(t,r){ZL(this,t,r<<24>>24)},setUint8:function(t,r){ZL(this,t,r<<24>>24)}},{unsafe:!0})}var HL,WL,GL,VT,Ub,ZL;mae(Xs,Yv);mae(nc,WT);yae.exports={ArrayBuffer:Xs,DataView:nc}});var bae=I(()=>{"use strict";var Xet=J(),Jet=Xt(),Qet=Hb(),ett=df(),XL="ArrayBuffer",_ae=Qet[XL],ttt=Jet[XL];Xet({global:!0,constructor:!0,forced:ttt!==_ae},{ArrayBuffer:_ae});ett(XL)});var Fr=I((uur,Pae)=>{"use strict";var rtt=RT(),t6=fr(),$a=Xt(),Iae=Tr(),YT=Cr(),mf=zr(),r6=gs(),ntt=rf(),itt=Hi(),JL=On(),ott=yi(),att=_a(),KT=Wi(),Jv=Pl(),stt=hr(),ltt=nf(),Eae=In(),Tae=Eae.enforce,utt=Eae.get,GT=$a.Int8Array,QL=GT&&GT.prototype,xae=$a.Uint8ClampedArray,wae=xae&&xae.prototype,ic=GT&&KT(GT),_u=QL&&KT(QL),ctt=Object.prototype,n6=$a.TypeError,Sae=stt("toStringTag"),e6=ltt("TYPED_ARRAY_TAG"),ZT="TypedArrayConstructor",vd=rtt&&!!Jv&&r6($a.opera)!=="Opera",Cae=!1,_s,hf,Xv,yd={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},i6={BigInt64Array:8,BigUint64Array:8},dtt=function(t){if(!YT(t))return!1;var r=r6(t);return r==="DataView"||mf(yd,r)||mf(i6,r)},Aae=function(e){var t=KT(e);if(YT(t)){var r=utt(t);return r&&mf(r,ZT)?r[ZT]:Aae(t)}},Mae=function(e){if(!YT(e))return!1;var t=r6(e);return mf(yd,t)||mf(i6,t)},ptt=function(e){if(Mae(e))return e;throw new n6("Target is not a typed array")},ftt=function(e){if(Iae(e)&&(!Jv||att(ic,e)))return e;throw new n6(ntt(e)+" is not a typed array constructor")},htt=function(e,t,r,n){if(t6){if(r)for(var i in yd){var o=$a[i];if(o&&mf(o.prototype,e))try{delete o.prototype[e]}catch(u){try{o.prototype[e]=t}catch(p){}}}(!_u[e]||r)&&JL(_u,e,r?t:vd&&QL[e]||t,n)}},mtt=function(e,t,r){var n,i;if(t6){if(Jv){if(r){for(n in yd)if(i=$a[n],i&&mf(i,e))try{delete i[e]}catch(o){}}if(!ic[e]||r)try{return JL(ic,e,r?t:vd&&ic[e]||t)}catch(o){}else return}for(n in yd)i=$a[n],i&&(!i[e]||r)&&JL(i,e,t)}};for(_s in yd)hf=$a[_s],Xv=hf&&hf.prototype,Xv?Tae(Xv)[ZT]=hf:vd=!1;for(_s in i6)hf=$a[_s],Xv=hf&&hf.prototype,Xv&&(Tae(Xv)[ZT]=hf);if((!vd||!Iae(ic)||ic===Function.prototype)&&(ic=function(){throw new n6("Incorrect invocation")},vd))for(_s in yd)$a[_s]&&Jv($a[_s],ic);if((!vd||!_u||_u===ctt)&&(_u=ic.prototype,vd))for(_s in yd)$a[_s]&&Jv($a[_s].prototype,_u);vd&&KT(wae)!==_u&&Jv(wae,_u);if(t6&&!mf(_u,Sae)){Cae=!0,ott(_u,Sae,{configurable:!0,get:function(){return YT(this)?this[e6]:void 0}});for(_s in yd)$a[_s]&&itt($a[_s],e6,_s)}Pae.exports={NATIVE_ARRAY_BUFFER_VIEWS:vd,TYPED_ARRAY_TAG:Cae&&e6,aTypedArray:ptt,aTypedArrayConstructor:ftt,exportTypedArrayMethod:htt,exportTypedArrayStaticMethod:mtt,getTypedArrayConstructor:Aae,isView:dtt,isTypedArray:Mae,TypedArray:ic,TypedArrayPrototype:_u}});var Dae=I(()=>{"use strict";var gtt=J(),Oae=Fr(),vtt=Oae.NATIVE_ARRAY_BUFFER_VIEWS;gtt({target:"ArrayBuffer",stat:!0,forced:!vtt},{isView:Oae.isView})});var Qv=I((pur,kae)=>{"use strict";var ytt=yu(),_tt=rf(),btt=TypeError;kae.exports=function(e){if(ytt(e))return e;throw new btt(_tt(e)+" is not a constructor")}});var lm=I((fur,Nae)=>{"use strict";var qae=Ft(),xtt=Qv(),wtt=$i(),Stt=hr(),Itt=Stt("species");Nae.exports=function(e,t){var r=qae(e).constructor,n;return r===void 0||wtt(n=qae(r)[Itt])?t:xtt(n)}});var Bae=I(()=>{"use strict";var Ett=J(),a6=ud(),Ttt=yt(),Fae=Hb(),Rae=Ft(),Lae=Cl(),Ctt=ms(),Att=lm(),s6=Fae.ArrayBuffer,o6=Fae.DataView,jae=o6.prototype,zae=a6(s6.prototype.slice),Mtt=a6(jae.getUint8),Ptt=a6(jae.setUint8),Ott=Ttt(function(){return!new s6(2).slice(1,void 0).byteLength});Ett({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Ott},{slice:function(t,r){if(zae&&r===void 0)return zae(Rae(this),t);for(var n=Rae(this).byteLength,i=Lae(t,n),o=Lae(r===void 0?n:r,n),u=new(Att(this,s6))(Ctt(o-i)),p=new o6(this),h=new o6(u),y=0;i<o;)Ptt(h,y++,Mtt(p,i++));return u}})});var Vae=I(()=>{"use strict";var Dtt=J(),ktt=Hb(),qtt=RT();Dtt({global:!0,constructor:!0,forced:!qtt},{DataView:ktt.DataView})});var Uae=I(()=>{"use strict";Vae()});var $ae=I(()=>{"use strict";var Ntt=J(),Rtt=it(),Ltt=yt(),ztt=Ltt(function(){return new Date(16e11).getYear()!==120}),Ftt=Rtt(Date.prototype.getFullYear);Ntt({target:"Date",proto:!0,forced:ztt},{getYear:function(){return Ftt(this)-1900}})});var Wae=I(()=>{"use strict";var jtt=J(),Btt=it(),Hae=Date,Vtt=Btt(Hae.prototype.getTime);jtt({target:"Date",stat:!0},{now:function(){return Vtt(new Hae)}})});var Yae=I(()=>{"use strict";var Utt=J(),Gae=it(),$tt=ui(),Zae=Date.prototype,Htt=Gae(Zae.getTime),Wtt=Gae(Zae.setFullYear);Utt({target:"Date",proto:!0},{setYear:function(t){Htt(this);var r=$tt(t),n=r>=0&&r<=99?r+1900:r;return Wtt(this,n)}})});var Kae=I(()=>{"use strict";var Gtt=J();Gtt({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Wb=I((Aur,Xae)=>{"use strict";var Ztt=ui(),Ytt=Sr(),Ktt=li(),Xtt=RangeError;Xae.exports=function(t){var r=Ytt(Ktt(this)),n="",i=Ztt(t);if(i<0||i===1/0)throw new Xtt("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var XT=I((Mur,tse)=>{"use strict";var ese=it(),Jtt=ms(),Jae=Sr(),Qtt=Wb(),ert=li(),trt=ese(Qtt),rrt=ese("".slice),nrt=Math.ceil,Qae=function(e){return function(t,r,n){var i=Jae(ert(t)),o=Jtt(r),u=i.length,p=n===void 0?" ":Jae(n),h,y;return o<=u||p===""?i:(h=o-u,y=trt(p,nrt(h/p.length)),y.length>h&&(y=rrt(y,0,h)),e?i+y:y+i)}};tse.exports={start:Qae(!1),end:Qae(!0)}});var ise=I((Pur,nse)=>{"use strict";var gf=it(),rse=yt(),um=XT().start,irt=RangeError,ort=isFinite,art=Math.abs,_d=Date.prototype,l6=_d.toISOString,srt=gf(_d.getTime),lrt=gf(_d.getUTCDate),urt=gf(_d.getUTCFullYear),crt=gf(_d.getUTCHours),drt=gf(_d.getUTCMilliseconds),prt=gf(_d.getUTCMinutes),frt=gf(_d.getUTCMonth),hrt=gf(_d.getUTCSeconds);nse.exports=rse(function(){return l6.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!rse(function(){l6.call(new Date(NaN))})?function(){if(!ort(srt(this)))throw new irt("Invalid time value");var t=this,r=urt(t),n=drt(t),i=r<0?"-":r>9999?"+":"";return i+um(art(r),i?6:4,0)+"-"+um(frt(t)+1,2,0)+"-"+um(lrt(t),2,0)+"T"+um(crt(t),2,0)+":"+um(prt(t),2,0)+":"+um(hrt(t),2,0)+"."+um(n,3,0)+"Z"}:l6});var ase=I(()=>{"use strict";var mrt=J(),ose=ise();mrt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==ose},{toISOString:ose})});var sse=I(()=>{"use strict";var grt=J(),vrt=yt(),yrt=Zr(),_rt=bb(),brt=vrt(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});grt({target:"Date",proto:!0,arity:1,forced:brt},{toJSON:function(t){var r=yrt(this),n=_rt(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var use=I((Nur,lse)=>{"use strict";var xrt=Ft(),wrt=rR(),Srt=TypeError;lse.exports=function(e){if(xrt(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new Srt("Incorrect hint");return wrt(this,e)}});var pse=I(()=>{"use strict";var Irt=zr(),Ert=On(),Trt=use(),Crt=hr(),cse=Crt("toPrimitive"),dse=Date.prototype;Irt(dse,cse)||Ert(dse,cse,Trt)});var gse=I(()=>{"use strict";var hse=it(),Art=On(),u6=Date.prototype,fse="Invalid Date",mse="toString",Mrt=hse(u6[mse]),Prt=hse(u6.getTime);String(new Date(NaN))!==fse&&Art(u6,mse,function(){var t=Prt(this);return t===t?Mrt(this):fse})});var yse=I(()=>{"use strict";var Ort=J(),Gb=it(),Drt=Sr(),krt=Gb("".charAt),qrt=Gb("".charCodeAt),Nrt=Gb(/./.exec),Rrt=Gb(1 .toString),Lrt=Gb("".toUpperCase),zrt=/[\w*+\-./@]/,vse=function(e,t){for(var r=Rrt(e,16);r.length<t;)r="0"+r;return r};Ort({global:!0},{escape:function(t){for(var r=Drt(t),n="",i=r.length,o=0,u,p;o<i;)u=krt(r,o++),Nrt(zrt,u)?n+=u:(p=qrt(u,0),p<256?n+="%"+vse(p,2):n+="%u"+Lrt(vse(p,4)));return n}})});var d6=I((Vur,wse)=>{"use strict";var bse=it(),Frt=xr(),jrt=Cr(),Brt=zr(),_se=dd(),Vrt=Rv(),xse=Function,Urt=bse([].concat),$rt=bse([].join),c6={},Hrt=function(e,t,r){if(!Brt(c6,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";c6[t]=xse("C,a","return new C("+$rt(n,",")+")")}return c6[t](e,r)};wse.exports=Vrt?xse.bind:function(t){var r=Frt(this),n=r.prototype,i=_se(arguments,1),o=function(){var p=Urt(i,_se(arguments));return this instanceof o?Hrt(r,p.length,p):r.apply(t,p)};return jrt(n)&&(o.prototype=n),o}});var Ise=I(()=>{"use strict";var Wrt=J(),Sse=d6();Wrt({target:"Function",proto:!0,forced:Function.bind!==Sse},{bind:Sse})});var Cse=I(()=>{"use strict";var Grt=Tr(),Ese=Cr(),Zrt=Qn(),Yrt=Wi(),Krt=hr(),Xrt=Eb(),p6=Krt("hasInstance"),Tse=Function.prototype;p6 in Tse||Zrt.f(Tse,p6,{value:Xrt(function(e){if(!Grt(this)||!Ese(e))return!1;var t=this.prototype;if(!Ese(t))return e instanceof this;for(;e=Yrt(e);)if(t===e)return!0;return!1},p6)})});var Ose=I(()=>{"use strict";var Jrt=fr(),Qrt=Zh().EXISTS,Ase=it(),ent=yi(),Mse=Function.prototype,tnt=Ase(Mse.toString),Pse=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,rnt=Ase(Pse.exec),nnt="name";Jrt&&!Qrt&&ent(Mse,nnt,{configurable:!0,get:function(){try{return rnt(Pse,tnt(this))[1]}catch(e){return""}}})});var h6=I(()=>{"use strict";var int=J(),f6=Xt();int({global:!0,forced:f6.globalThis!==f6},{globalThis:f6})});var Dse=I(()=>{"use strict";var ont=Xt(),ant=vs();ant(ont.JSON,"JSON",!0)});var JT=I((Qur,kse)=>{"use strict";var snt=yt();kse.exports=snt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var eC=I((ecr,Nse)=>{"use strict";var lnt=yt(),unt=Cr(),cnt=jo(),qse=JT(),QT=Object.isExtensible,dnt=lnt(function(){QT(1)});Nse.exports=dnt||qse?function(t){return!unt(t)||qse&&cnt(t)==="ArrayBuffer"?!1:QT?QT(t):!0}:QT});var bd=I((tcr,Rse)=>{"use strict";var pnt=yt();Rse.exports=!pnt(function(){return Object.isExtensible(Object.preventExtensions({}))})});var vf=I((rcr,Fse)=>{"use strict";var fnt=J(),hnt=it(),mnt=zv(),gnt=Cr(),m6=zr(),vnt=Qn().f,Lse=ld(),ynt=lT(),g6=eC(),_nt=nf(),bnt=bd(),zse=!1,xd=_nt("meta"),xnt=0,v6=function(e){vnt(e,xd,{value:{objectID:"O"+xnt++,weakData:{}}})},wnt=function(e,t){if(!gnt(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!m6(e,xd)){if(!g6(e))return"F";if(!t)return"E";v6(e)}return e[xd].objectID},Snt=function(e,t){if(!m6(e,xd)){if(!g6(e))return!0;if(!t)return!1;v6(e)}return e[xd].weakData},Int=function(e){return bnt&&zse&&g6(e)&&!m6(e,xd)&&v6(e),e},Ent=function(){Tnt.enable=function(){},zse=!0;var e=Lse.f,t=hnt([].splice),r={};r[xd]=1,e(r).length&&(Lse.f=function(n){for(var i=e(n),o=0,u=i.length;o<u;o++)if(i[o]===xd){t(i,o,1);break}return i},fnt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ynt.f}))},Tnt=Fse.exports={enable:Ent,fastKey:wnt,getWeakData:Snt,onFreeze:Int};mnt[xd]=!0});var Zb=I((ncr,Bse)=>{"use strict";var Cnt=J(),Ant=Xt(),Mnt=it(),jse=Bv(),Pnt=On(),Ont=vf(),Dnt=Mi(),knt=xa(),qnt=Tr(),Nnt=$i(),y6=Cr(),_6=yt(),Rnt=zb(),Lnt=vs(),znt=tm();Bse.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",u=Ant[e],p=u&&u.prototype,h=u,y={},x=function(N){var B=Mnt(p[N]);Pnt(p,N,N==="add"?function(ee){return B(this,ee===0?0:ee),this}:N==="delete"?function(Z){return i&&!y6(Z)?!1:B(this,Z===0?0:Z)}:N==="get"?function(ee){return i&&!y6(ee)?void 0:B(this,ee===0?0:ee)}:N==="has"?function(ee){return i&&!y6(ee)?!1:B(this,ee===0?0:ee)}:function(ee,ae){return B(this,ee===0?0:ee,ae),this})},E=jse(e,!qnt(u)||!(i||p.forEach&&!_6(function(){new u().entries().next()})));if(E)h=r.getConstructor(t,e,n,o),Ont.enable();else if(jse(e,!0)){var T=new h,D=T[o](i?{}:-0,1)!==T,z=_6(function(){T.has(1)}),F=Rnt(function(N){new u(N)}),q=!i&&_6(function(){for(var N=new u,B=5;B--;)N[o](B,B);return!N.has(-0)});F||(h=t(function(N,B){knt(N,p);var Z=znt(new u,N,h);return Nnt(B)||Dnt(B,Z[o],{that:Z,AS_ENTRIES:n}),Z}),h.prototype=p,p.constructor=h),(z||q)&&(x("delete"),x("has"),n&&x("get")),(q||D)&&x(o),i&&p.clear&&delete p.clear}return y[e]=h,Cnt({global:!0,constructor:!0,forced:h!==u},y),Lnt(h,e),i||r.setStrong(h,e,n),h}});var x6=I((icr,Wse)=>{"use strict";var Fnt=Fi(),jnt=yi(),Vse=Dl(),Bnt=jn(),Vnt=xa(),Unt=$i(),$nt=Mi(),Hnt=OT(),tC=Bo(),Wnt=df(),Yb=fr(),Use=vf().fastKey,Hse=In(),$se=Hse.set,b6=Hse.getterFor;Wse.exports={getConstructor:function(e,t,r,n){var i=e(function(y,x){Vnt(y,o),$se(y,{type:t,index:Fnt(null),first:void 0,last:void 0,size:0}),Yb||(y.size=0),Unt(x)||$nt(x,y[n],{that:y,AS_ENTRIES:r})}),o=i.prototype,u=b6(t),p=function(y,x,E){var T=u(y),D=h(y,x),z,F;return D?D.value=E:(T.last=D={index:F=Use(x,!0),key:x,value:E,previous:z=T.last,next:void 0,removed:!1},T.first||(T.first=D),z&&(z.next=D),Yb?T.size++:y.size++,F!=="F"&&(T.index[F]=D)),y},h=function(y,x){var E=u(y),T=Use(x),D;if(T!=="F")return E.index[T];for(D=E.first;D;D=D.next)if(D.key===x)return D};return Vse(o,{clear:function(){for(var x=this,E=u(x),T=E.index,D=E.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete T[D.index],D=D.next;E.first=E.last=void 0,Yb?E.size=0:x.size=0},delete:function(y){var x=this,E=u(x),T=h(x,y);if(T){var D=T.next,z=T.previous;delete E.index[T.index],T.removed=!0,z&&(z.next=D),D&&(D.previous=z),E.first===T&&(E.first=D),E.last===T&&(E.last=z),Yb?E.size--:x.size--}return!!T},forEach:function(x){for(var E=u(this),T=Bnt(x,arguments.length>1?arguments[1]:void 0),D;D=D?D.next:E.first;)for(T(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(x){return!!h(this,x)}}),Vse(o,r?{get:function(x){var E=h(this,x);return E&&E.value},set:function(x,E){return p(this,x===0?0:x,E)}}:{add:function(x){return p(this,x=x===0?0:x,x)}}),Yb&&jnt(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=b6(t),o=b6(n);Hnt(e,t,function(u,p){$se(this,{type:n,target:u,state:i(u),kind:p,last:void 0})},function(){for(var u=o(this),p=u.kind,h=u.last;h&&h.removed;)h=h.previous;return!u.target||!(u.last=h=h?h.next:u.state.first)?(u.target=void 0,tC(void 0,!0)):tC(p==="keys"?h.key:p==="values"?h.value:[h.key,h.value],!1)},r?"entries":"values",!r,!0),Wnt(t)}}});var Gse=I(()=>{"use strict";var Gnt=Zb(),Znt=x6();Gnt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Znt)});var rC=I(()=>{"use strict";Gse()});var w6=I((ucr,Zse)=>{"use strict";var Ynt=Math.log;Zse.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:Ynt(1+r)}});var Kse=I(()=>{"use strict";var Knt=J(),Xnt=w6(),S6=Math.acosh,Jnt=Math.log,Yse=Math.sqrt,Qnt=Math.LN2,eit=!S6||Math.floor(S6(Number.MAX_VALUE))!==710||S6(1/0)!==1/0;Knt({target:"Math",stat:!0,forced:eit},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?Jnt(r)+Qnt:Xnt(r-1+Yse(r-1)*Yse(r+1))}})});var Qse=I(()=>{"use strict";var tit=J(),Xse=Math.asinh,rit=Math.log,nit=Math.sqrt;function Jse(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-Jse(-t):rit(t+nit(t*t+1))}var iit=!(Xse&&1/Xse(0)>0);tit({target:"Math",stat:!0,forced:iit},{asinh:Jse})});var tle=I(()=>{"use strict";var oit=J(),ele=Math.atanh,ait=Math.log,sit=!(ele&&1/ele(-0)<0);oit({target:"Math",stat:!0,forced:sit},{atanh:function(t){var r=+t;return r===0?r:ait((1+r)/(1-r))/2}})});var rle=I(()=>{"use strict";var lit=J(),uit=LT(),cit=Math.abs,dit=Math.pow;lit({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return uit(r)*dit(cit(r),1/3)}})});var nle=I(()=>{"use strict";var pit=J(),fit=Math.floor,hit=Math.log,mit=Math.LOG2E;pit({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-fit(hit(r+.5)*mit):32}})});var Xb=I((bcr,ile)=>{"use strict";var Kb=Math.expm1,git=Math.exp;ile.exports=!Kb||Kb(10)>22025.465794806718||Kb(10)<22025.465794806718||Kb(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:git(r)-1}:Kb});var ale=I(()=>{"use strict";var vit=J(),yit=Xb(),ole=Math.cosh,_it=Math.abs,I6=Math.E,bit=!ole||ole(710)===1/0;vit({target:"Math",stat:!0,forced:bit},{cosh:function(t){var r=yit(_it(t)-1)+1;return(r+1/(r*I6*I6))*(I6/2)}})});var lle=I(()=>{"use strict";var xit=J(),sle=Xb();xit({target:"Math",stat:!0,forced:sle!==Math.expm1},{expm1:sle})});var ule=I(()=>{"use strict";var wit=J(),Sit=zT();wit({target:"Math",stat:!0},{fround:Sit})});var dle=I(()=>{"use strict";var Iit=J(),cle=Math.hypot,Eit=Math.abs,Tit=Math.sqrt,Cit=!!cle&&cle(1/0,NaN)!==1/0;Iit({target:"Math",stat:!0,arity:2,forced:Cit},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,u=0,p,h;i<o;)p=Eit(arguments[i++]),u<p?(h=u/p,n=n*h*h+1,u=p):p>0?(h=p/u,n+=h*h):n+=p;return u===1/0?1/0:u*Tit(n)}})});var fle=I(()=>{"use strict";var Ait=J(),Mit=yt(),ple=Math.imul,Pit=Mit(function(){return ple(4294967295,5)!==-5||ple.length!==2});Ait({target:"Math",stat:!0,forced:Pit},{imul:function(t,r){var n=65535,i=+t,o=+r,u=n&i,p=n&o;return 0|u*p+((n&i>>>16)*p+u*(n&o>>>16)<<16>>>0)}})});var E6=I((Ocr,hle)=>{"use strict";var Oit=Math.log,Dit=Math.LOG10E;hle.exports=Math.log10||function(t){return Oit(t)*Dit}});var mle=I(()=>{"use strict";var kit=J(),qit=E6();kit({target:"Math",stat:!0},{log10:qit})});var gle=I(()=>{"use strict";var Nit=J(),Rit=w6();Nit({target:"Math",stat:!0},{log1p:Rit})});var vle=I(()=>{"use strict";var Lit=J(),zit=Math.log,Fit=Math.LN2;Lit({target:"Math",stat:!0},{log2:function(t){return zit(t)/Fit}})});var yle=I(()=>{"use strict";var jit=J(),Bit=LT();jit({target:"Math",stat:!0},{sign:Bit})});var xle=I(()=>{"use strict";var Vit=J(),Uit=yt(),_le=Xb(),$it=Math.abs,ble=Math.exp,Hit=Math.E,Wit=Uit(function(){return Math.sinh(-2e-17)!==-2e-17});Vit({target:"Math",stat:!0,forced:Wit},{sinh:function(t){var r=+t;return $it(r)<1?(_le(r)-_le(-r))/2:(ble(r-1)-ble(-r-1))*(Hit/2)}})});var Ile=I(()=>{"use strict";var Git=J(),wle=Xb(),Sle=Math.exp;Git({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=wle(r),i=wle(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Sle(r)+Sle(-r))}})});var Ele=I(()=>{"use strict";var Zit=vs();Zit(Math,"Math",!0)});var Tle=I(()=>{"use strict";var Yit=J(),Kit=bR();Yit({target:"Math",stat:!0},{trunc:Kit})});var Jb=I((Zcr,Cle)=>{"use strict";var Xit=it();Cle.exports=Xit(1 .valueOf)});var cm=I((Ycr,Ale)=>{"use strict";Ale.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var dm=I((Kcr,Ple)=>{"use strict";var Jit=it(),Qit=li(),eot=Sr(),C6=cm(),Mle=Jit("".replace),tot=RegExp("^["+C6+"]+"),rot=RegExp("(^|[^"+C6+"])["+C6+"]+$"),T6=function(e){return function(t){var r=eot(Qit(t));return e&1&&(r=Mle(r,tot,"")),e&2&&(r=Mle(r,rot,"$1")),r}};Ple.exports={start:T6(1),end:T6(2),trim:T6(3)}});var Lle=I(()=>{"use strict";var not=J(),A6=Gr(),iot=fr(),kle=Xt(),M6=uT(),qle=it(),oot=Bv(),Ole=zr(),aot=tm(),sot=_a(),lot=sd(),Nle=bb(),uot=yt(),cot=ld().f,dot=co().f,pot=Qn().f,fot=Jb(),hot=dm().trim,Qb="Number",ey=kle[Qb],Dle=M6[Qb],P6=ey.prototype,mot=kle.TypeError,got=qle("".slice),nC=qle("".charCodeAt),vot=function(e){var t=Nle(e,"number");return typeof t=="bigint"?t:yot(t)},yot=function(e){var t=Nle(e,"number"),r,n,i,o,u,p,h,y;if(lot(t))throw new mot("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=hot(t),r=nC(t,0),r===43||r===45){if(n=nC(t,2),n===88||n===120)return NaN}else if(r===48){switch(nC(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t;}for(u=got(t,2),p=u.length,h=0;h<p;h++)if(y=nC(u,h),y<48||y>o)return NaN;return parseInt(u,i)}}return+t},O6=oot(Qb,!ey(" 0o1")||!ey("0b1")||ey("+0x1")),_ot=function(e){return sot(P6,e)&&uot(function(){fot(e)})},iC=function(t){var r=arguments.length<1?0:ey(vot(t));return _ot(this)?aot(Object(r),this,iC):r};iC.prototype=P6;O6&&!A6&&(P6.constructor=iC);not({global:!0,constructor:!0,wrap:!0,forced:O6},{Number:iC});var Rle=function(e,t){for(var r=iot?cot(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Ole(t,i=r[n])&&!Ole(e,i)&&pot(e,i,dot(t,i))};A6&&Dle&&Rle(M6[Qb],Dle);(O6||A6)&&Rle(M6[Qb],ey)});var zle=I(()=>{"use strict";var bot=J();bot({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var D6=I((tdr,Fle)=>{"use strict";var xot=Xt(),wot=xot.isFinite;Fle.exports=Number.isFinite||function(t){return typeof t=="number"&&wot(t)}});var jle=I(()=>{"use strict";var Sot=J(),Iot=D6();Sot({target:"Number",stat:!0},{isFinite:Iot})});var oC=I((idr,Ble)=>{"use strict";var Eot=Cr(),Tot=Math.floor;Ble.exports=Number.isInteger||function(t){return!Eot(t)&&isFinite(t)&&Tot(t)===t}});var Vle=I(()=>{"use strict";var Cot=J(),Aot=oC();Cot({target:"Number",stat:!0},{isInteger:Aot})});var Ule=I(()=>{"use strict";var Mot=J();Mot({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var $le=I(()=>{"use strict";var Pot=J(),Oot=oC(),Dot=Math.abs;Pot({target:"Number",stat:!0},{isSafeInteger:function(t){return Oot(t)&&Dot(t)<=9007199254740991}})});var Hle=I(()=>{"use strict";var kot=J();kot({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var Wle=I(()=>{"use strict";var qot=J();qot({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var k6=I((mdr,Kle)=>{"use strict";var Yle=Xt(),Not=yt(),Rot=it(),Lot=Sr(),zot=dm().trim,Fot=cm(),jot=Rot("".charAt),aC=Yle.parseFloat,Gle=Yle.Symbol,Zle=Gle&&Gle.iterator,Bot=1/aC(Fot+"-0")!==-1/0||Zle&&!Not(function(){aC(Object(Zle))});Kle.exports=Bot?function(t){var r=zot(Lot(t)),n=aC(r);return n===0&&jot(r,0)==="-"?-0:n}:aC});var Jle=I(()=>{"use strict";var Vot=J(),Xle=k6();Vot({target:"Number",stat:!0,forced:Number.parseFloat!==Xle},{parseFloat:Xle})});var sC=I((ydr,iue)=>{"use strict";var rue=Xt(),Uot=yt(),$ot=it(),Hot=Sr(),Wot=dm().trim,Qle=cm(),ex=rue.parseInt,eue=rue.Symbol,tue=eue&&eue.iterator,nue=/^[+-]?0x/i,Got=$ot(nue.exec),Zot=ex(Qle+"08")!==8||ex(Qle+"0x16")!==22||tue&&!Uot(function(){ex(Object(tue))});iue.exports=Zot?function(t,r){var n=Wot(Hot(t));return ex(n,r>>>0||(Got(nue,n)?16:10))}:ex});var aue=I(()=>{"use strict";var Yot=J(),oue=sC();Yot({target:"Number",stat:!0,forced:Number.parseInt!==oue},{parseInt:oue})});var due=I(()=>{"use strict";var Kot=J(),N6=it(),Xot=ui(),Jot=Jb(),Qot=Wb(),eat=E6(),q6=yt(),tat=RangeError,sue=String,rat=isFinite,nat=Math.abs,iat=Math.floor,lue=Math.pow,oat=Math.round,oc=N6(1 .toExponential),aat=N6(Qot),uue=N6("".slice),cue=oc(-69e-12,4)==="-6.9000e-11"&&oc(1.255,2)==="1.25e+0"&&oc(12345,3)==="1.235e+4"&&oc(25,0)==="3e+1",sat=function(){return q6(function(){oc(1,1/0)})&&q6(function(){oc(1,-1/0)})},lat=function(){return!q6(function(){oc(1/0,1/0),oc(NaN,1/0)})},uat=!cue||!sat()||!lat();Kot({target:"Number",proto:!0,forced:uat},{toExponential:function(t){var r=Jot(this);if(t===void 0)return oc(r);var n=Xot(t);if(!rat(r))return String(r);if(n<0||n>20)throw new tat("Incorrect fraction digits");if(cue)return oc(r,n);var i="",o="",u=0,p="",h="";if(r<0&&(i="-",r=-r),r===0)u=0,o=aat("0",n+1);else{var y=eat(r);u=iat(y);var x=0,E=lue(10,u-n);x=oat(r/E),2*r>=(2*x+1)*E&&(x+=1),x>=lue(10,n+1)&&(x/=10,u+=1),o=sue(x)}return n!==0&&(o=uue(o,0,1)+"."+uue(o,1)),u===0?(p="+",h="0"):(p=u>0?"+":"-",h=sue(nat(u))),o+="e"+p+h,i+o}})});var vue=I(()=>{"use strict";var cat=J(),z6=it(),dat=ui(),pat=Jb(),fat=Wb(),pue=yt(),hat=RangeError,mue=String,gue=Math.floor,L6=z6(fat),fue=z6("".slice),tx=z6(1 .toFixed),ry=function(e,t,r){return t===0?r:t%2===1?ry(e,t-1,r*e):ry(e*e,t/2,r)},mat=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},ty=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=gue(i/1e7)},R6=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=gue(n/t),n=n%t*1e7},hue=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=mue(e[t]);r=r===""?n:r+L6("0",7-n.length)+n}return r},gat=pue(function(){return tx(8e-5,3)!=="0.000"||tx(.9,0)!=="1"||tx(1.255,2)!=="1.25"||tx(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!pue(function(){tx({})});cat({target:"Number",proto:!0,forced:gat},{toFixed:function(t){var r=pat(this),n=dat(t),i=[0,0,0,0,0,0],o="",u="0",p,h,y,x;if(n<0||n>20)throw new hat("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return mue(r);if(r<0&&(o="-",r=-r),r>1e-21)if(p=mat(r*ry(2,69,1))-69,h=p<0?r*ry(2,-p,1):r/ry(2,p,1),h*=4503599627370496,p=52-p,p>0){for(ty(i,0,h),y=n;y>=7;)ty(i,1e7,0),y-=7;for(ty(i,ry(10,y,1),0),y=p-1;y>=23;)R6(i,1<<23),y-=23;R6(i,1<<y),ty(i,1,1),R6(i,2),u=hue(i)}else ty(i,0,h),ty(i,1<<-p,0),u=hue(i)+L6("0",n);return n>0?(x=u.length,u=o+(x<=n?"0."+L6("0",n-x)+u:fue(u,0,x-n)+"."+fue(u,x-n))):u=o+u,u}})});var bue=I(()=>{"use strict";var vat=J(),yat=it(),yue=yt(),_ue=Jb(),lC=yat(1 .toPrecision),_at=yue(function(){return lC(1,void 0)!=="1"})||!yue(function(){lC({})});vat({target:"Number",proto:!0,forced:_at},{toPrecision:function(t){return t===void 0?lC(_ue(this)):lC(_ue(this),t)}})});var j6=I((Cdr,Sue)=>{"use strict";var xue=fr(),bat=it(),xat=Lt(),wat=yt(),F6=Kh(),Sat=Tb(),Iat=yb(),Eat=Zr(),Tat=ad(),ny=Object.assign,wue=Object.defineProperty,Cat=bat([].concat);Sue.exports=!ny||wat(function(){if(xue&&ny({b:1},ny(wue({},"a",{enumerable:!0,get:function(){wue(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ny({},e)[r]!==7||F6(ny({},t)).join("")!==n})?function(t,r){for(var n=Eat(t),i=arguments.length,o=1,u=Sat.f,p=Iat.f;i>o;)for(var h=Tat(arguments[o++]),y=u?Cat(F6(h),u(h)):F6(h),x=y.length,E=0,T;x>E;)T=y[E++],(!xue||xat(p,h,T))&&(n[T]=h[T]);return n}:ny});var Eue=I(()=>{"use strict";var Aat=J(),Iue=j6();Aat({target:"Object",stat:!0,arity:2,forced:Object.assign!==Iue},{assign:Iue})});var Tue=I(()=>{"use strict";var Mat=J(),Pat=fr(),Oat=Fi();Mat({target:"Object",stat:!0,sham:!Pat},{create:Oat})});var rx=I((Ddr,Aue)=>{"use strict";var Dat=Gr(),kat=Xt(),qat=yt(),Cue=NT();Aue.exports=Dat||!qat(function(){if(!(Cue&&Cue<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete kat[e]}})});var Mue=I(()=>{"use strict";var Nat=J(),Rat=fr(),Lat=rx(),zat=xr(),Fat=Zr(),jat=Qn();Rat&&Nat({target:"Object",proto:!0,forced:Lat},{__defineGetter__:function(t,r){jat.f(Fat(this),t,{get:zat(r),enumerable:!0,configurable:!0})}})});var Oue=I(()=>{"use strict";var Bat=J(),Vat=fr(),Pue=oT().f;Bat({target:"Object",stat:!0,forced:Object.defineProperties!==Pue,sham:!Vat},{defineProperties:Pue})});var kue=I(()=>{"use strict";var Uat=J(),$at=fr(),Due=Qn().f;Uat({target:"Object",stat:!0,forced:Object.defineProperty!==Due,sham:!$at},{defineProperty:Due})});var que=I(()=>{"use strict";var Hat=J(),Wat=fr(),Gat=rx(),Zat=xr(),Yat=Zr(),Kat=Qn();Wat&&Hat({target:"Object",proto:!0,forced:Gat},{__defineSetter__:function(t,r){Kat.f(Yat(this),t,{set:Zat(r),enumerable:!0,configurable:!0})}})});var B6=I((Bdr,Fue)=>{"use strict";var Rue=fr(),Xat=yt(),Lue=it(),Jat=Wi(),Qat=Kh(),est=ro(),tst=yb().f,zue=Lue(tst),rst=Lue([].push),nst=Rue&&Xat(function(){var e=Object.create(null);return e[2]=2,!zue(e,2)}),Nue=function(e){return function(t){for(var r=est(t),n=Qat(r),i=nst&&Jat(r)===null,o=n.length,u=0,p=[],h;o>u;)h=n[u++],(!Rue||(i?h in r:zue(r,h)))&&rst(p,e?[h,r[h]]:r[h]);return p}};Fue.exports={entries:Nue(!0),values:Nue(!1)}});var jue=I(()=>{"use strict";var ist=J(),ost=B6().entries;ist({target:"Object",stat:!0},{entries:function(t){return ost(t)}})});var Bue=I(()=>{"use strict";var ast=J(),sst=bd(),lst=yt(),ust=Cr(),cst=vf().onFreeze,V6=Object.freeze,dst=lst(function(){V6(1)});ast({target:"Object",stat:!0,forced:dst,sham:!sst},{freeze:function(t){return V6&&ust(t)?V6(cst(t)):t}})});var Vue=I(()=>{"use strict";var pst=J(),fst=Mi(),hst=Al();pst({target:"Object",stat:!0},{fromEntries:function(t){var r={};return fst(t,function(n,i){hst(r,n,i)},{AS_ENTRIES:!0}),r}})});var Hue=I(()=>{"use strict";var mst=J(),gst=yt(),vst=ro(),Uue=co().f,$ue=fr(),yst=!$ue||gst(function(){Uue(1)});mst({target:"Object",stat:!0,forced:yst,sham:!$ue},{getOwnPropertyDescriptor:function(t,r){return Uue(vst(t),r)}})});var Wue=I(()=>{"use strict";var _st=J(),bst=fr(),xst=rT(),wst=ro(),Sst=co(),Ist=Al();_st({target:"Object",stat:!0,sham:!bst},{getOwnPropertyDescriptors:function(t){for(var r=wst(t),n=Sst.f,i=xst(r),o={},u=0,p,h;i.length>u;)h=n(r,p=i[u++]),h!==void 0&&Ist(o,p,h);return o}})});var Gue=I(()=>{"use strict";var Est=J(),Tst=yt(),Cst=lT().f,Ast=Tst(function(){return!Object.getOwnPropertyNames(1)});Est({target:"Object",stat:!0,forced:Ast},{getOwnPropertyNames:Cst})});var Yue=I(()=>{"use strict";var Mst=J(),Pst=yt(),Ost=Zr(),Zue=Wi(),Dst=wT(),kst=Pst(function(){Zue(1)});Mst({target:"Object",stat:!0,forced:kst,sham:!Dst},{getPrototypeOf:function(t){return Zue(Ost(t))}})});var U6=I(()=>{"use strict";var qst=J(),Nst=zr();qst({target:"Object",stat:!0},{hasOwn:Nst})});var $6=I((ipr,Kue)=>{"use strict";Kue.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var Xue=I(()=>{"use strict";var Rst=J(),Lst=$6();Rst({target:"Object",stat:!0},{is:Lst})});var Que=I(()=>{"use strict";var zst=J(),Jue=eC();zst({target:"Object",stat:!0,forced:Object.isExtensible!==Jue},{isExtensible:Jue})});var tce=I(()=>{"use strict";var Fst=J(),jst=yt(),Bst=Cr(),Vst=jo(),ece=JT(),H6=Object.isFrozen,Ust=ece||jst(function(){H6(1)});Fst({target:"Object",stat:!0,forced:Ust},{isFrozen:function(t){return!Bst(t)||ece&&Vst(t)==="ArrayBuffer"?!0:H6?H6(t):!1}})});var nce=I(()=>{"use strict";var $st=J(),Hst=yt(),Wst=Cr(),Gst=jo(),rce=JT(),W6=Object.isSealed,Zst=rce||Hst(function(){W6(1)});$st({target:"Object",stat:!0,forced:Zst},{isSealed:function(t){return!Wst(t)||rce&&Gst(t)==="ArrayBuffer"?!0:W6?W6(t):!1}})});var oce=I(()=>{"use strict";var Yst=J(),Kst=Zr(),ice=Kh(),Xst=yt(),Jst=Xst(function(){ice(1)});Yst({target:"Object",stat:!0,forced:Jst},{keys:function(t){return ice(Kst(t))}})});var ace=I(()=>{"use strict";var Qst=J(),elt=fr(),tlt=rx(),rlt=Zr(),nlt=mu(),ilt=Wi(),olt=co().f;elt&&Qst({target:"Object",proto:!0,forced:tlt},{__lookupGetter__:function(t){var r=rlt(this),n=nlt(t),i;do if(i=olt(r,n))return i.get;while(r=ilt(r))}})});var sce=I(()=>{"use strict";var alt=J(),slt=fr(),llt=rx(),ult=Zr(),clt=mu(),dlt=Wi(),plt=co().f;slt&&alt({target:"Object",proto:!0,forced:llt},{__lookupSetter__:function(t){var r=ult(this),n=clt(t),i;do if(i=plt(r,n))return i.set;while(r=dlt(r))}})});var lce=I(()=>{"use strict";var flt=J(),hlt=Cr(),mlt=vf().onFreeze,glt=bd(),vlt=yt(),G6=Object.preventExtensions,ylt=vlt(function(){G6(1)});flt({target:"Object",stat:!0,forced:ylt,sham:!glt},{preventExtensions:function(t){return G6&&hlt(t)?G6(mlt(t)):t}})});var hce=I(()=>{"use strict";var _lt=fr(),blt=yi(),uce=Cr(),xlt=Zr(),wlt=li(),cce=Object.getPrototypeOf,dce=Object.setPrototypeOf,pce=Object.prototype,fce="__proto__";if(_lt&&cce&&dce&&!(fce in pce))try{blt(pce,fce,{configurable:!0,get:function(){return cce(xlt(this))},set:function(t){var r=wlt(this);!uce(t)&&t!==null||!uce(r)||dce(r,t)}})}catch(e){}});var mce=I(()=>{"use strict";var Slt=J(),Ilt=Cr(),Elt=vf().onFreeze,Tlt=bd(),Clt=yt(),Z6=Object.seal,Alt=Clt(function(){Z6(1)});Slt({target:"Object",stat:!0,forced:Alt,sham:!Tlt},{seal:function(t){return Z6&&Ilt(t)?Z6(Elt(t)):t}})});var gce=I(()=>{"use strict";var Mlt=J(),Plt=Pl();Mlt({target:"Object",stat:!0},{setPrototypeOf:Plt})});var yce=I((Cpr,vce)=>{"use strict";var Olt=nT(),Dlt=gs();vce.exports=Olt?{}.toString:function(){return"[object "+Dlt(this)+"]"}});var _ce=I(()=>{"use strict";var klt=nT(),qlt=On(),Nlt=yce();klt||qlt(Object.prototype,"toString",Nlt,{unsafe:!0})});var bce=I(()=>{"use strict";var Rlt=J(),Llt=B6().values;Rlt({target:"Object",stat:!0},{values:function(t){return Llt(t)}})});var wce=I(()=>{"use strict";var zlt=J(),xce=k6();zlt({global:!0,forced:parseFloat!==xce},{parseFloat:xce})});var Ice=I(()=>{"use strict";var Flt=J(),Sce=sC();Flt({global:!0,forced:parseInt!==Sce},{parseInt:Sce})});var ql=I((Rpr,Ece)=>{"use strict";var jlt=TypeError;Ece.exports=function(e,t){if(e<t)throw new jlt("Not enough arguments");return e}});var Y6=I((Lpr,Tce)=>{"use strict";var Blt=Ju();Tce.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(Blt)});var ox=I((zpr,Nce)=>{"use strict";var Js=Xt(),Vlt=ba(),Ult=jn(),Cce=Tr(),$lt=zr(),qce=yt(),Ace=IR(),Hlt=dd(),Mce=xb(),Wlt=ql(),Glt=Y6(),Zlt=rc(),tz=Js.setImmediate,rz=Js.clearImmediate,Ylt=Js.process,K6=Js.Dispatch,Klt=Js.Function,Pce=Js.MessageChannel,Xlt=Js.String,X6=0,nx={},Oce="onreadystatechange",ix,pm,J6,Q6;qce(function(){ix=Js.location});var nz=function(e){if($lt(nx,e)){var t=nx[e];delete nx[e],t()}},ez=function(e){return function(){nz(e)}},Dce=function(e){nz(e.data)},kce=function(e){Js.postMessage(Xlt(e),ix.protocol+"//"+ix.host)};(!tz||!rz)&&(tz=function(t){Wlt(arguments.length,1);var r=Cce(t)?t:Klt(t),n=Hlt(arguments,1);return nx[++X6]=function(){Vlt(r,void 0,n)},pm(X6),X6},rz=function(t){delete nx[t]},Zlt?pm=function(e){Ylt.nextTick(ez(e))}:K6&&K6.now?pm=function(e){K6.now(ez(e))}:Pce&&!Glt?(J6=new Pce,Q6=J6.port2,J6.port1.onmessage=Dce,pm=Ult(Q6.postMessage,Q6)):Js.addEventListener&&Cce(Js.postMessage)&&!Js.importScripts&&ix&&ix.protocol!=="file:"&&!qce(kce)?(pm=kce,Js.addEventListener("message",Dce,!1)):Oce in Mce("script")?pm=function(e){Ace.appendChild(Mce("script"))[Oce]=function(){Ace.removeChild(this),nz(e)}}:pm=function(e){setTimeout(ez(e),0)});Nce.exports={set:tz,clear:rz}});var iz=I((Fpr,Lce)=>{"use strict";var Rce=function(){this.head=null,this.tail=null};Rce.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};Lce.exports=Rce});var Fce=I((jpr,zce)=>{"use strict";var Jlt=Ju();zce.exports=/ipad|iphone|ipod/i.test(Jlt)&&typeof Pebble!="undefined"});var Bce=I((Bpr,jce)=>{"use strict";var Qlt=Ju();jce.exports=/web0s(?!.*chrome)/i.test(Qlt)});var cz=I((Vpr,Zce)=>{"use strict";var fm=Xt(),Vce=jn(),eut=co().f,oz=ox().set,tut=iz(),rut=Y6(),nut=Fce(),iut=Bce(),az=rc(),Uce=fm.MutationObserver||fm.WebKitMutationObserver,$ce=fm.document,Hce=fm.process,uC=fm.Promise,Wce=eut(fm,"queueMicrotask"),uz=Wce&&Wce.value,iy,sz,lz,cC,Gce;uz||(ax=new tut,sx=function(){var e,t;for(az&&(e=Hce.domain)&&e.exit();t=ax.get();)try{t()}catch(r){throw ax.head&&iy(),r}e&&e.enter()},!rut&&!az&&!iut&&Uce&&$ce?(sz=!0,lz=$ce.createTextNode(""),new Uce(sx).observe(lz,{characterData:!0}),iy=function(){lz.data=sz=!sz}):!nut&&uC&&uC.resolve?(cC=uC.resolve(void 0),cC.constructor=uC,Gce=Vce(cC.then,cC),iy=function(){Gce(sx)}):az?iy=function(){Hce.nextTick(sx)}:(oz=Vce(oz,fm),iy=function(){oz(sx)}),uz=function(e){ax.head||iy(),ax.add(e)});var ax,sx;Zce.exports=uz});var dz=I((Upr,Yce)=>{"use strict";Yce.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var yf=I(($pr,Kce)=>{"use strict";Kce.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var hm=I((Hpr,Xce)=>{"use strict";var out=Xt();Xce.exports=out.Promise});var dC=I((Wpr,Jce)=>{"use strict";Jce.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var pz=I((Gpr,Qce)=>{"use strict";var aut=dC(),sut=rc();Qce.exports=!aut&&!sut&&typeof window=="object"&&typeof document=="object"});var oy=I((Zpr,rde)=>{"use strict";var lut=Xt(),lx=hm(),uut=Tr(),cut=Bv(),dut=wb(),put=hr(),fut=pz(),hut=dC(),mut=Gr(),fz=Qu(),ede=lx&&lx.prototype,gut=put("species"),hz=!1,tde=uut(lut.PromiseRejectionEvent),vut=cut("Promise",function(){var e=dut(lx),t=e!==String(lx);if(!t&&fz===66||mut&&!(ede.catch&&ede.finally))return!0;if(!fz||fz<51||!/native code/.test(e)){var r=new lx(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[gut]=n,hz=r.then(function(){})instanceof n,!hz)return!0}return!t&&(fut||hut)&&!tde});rde.exports={CONSTRUCTOR:vut,REJECTION_EVENT:tde,SUBCLASSING:hz}});var ac=I((Ypr,ide)=>{"use strict";var nde=xr(),yut=TypeError,_ut=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new yut("Bad Promise constructor");t=n,r=i}),this.resolve=nde(t),this.reject=nde(r)};ide.exports.f=function(e){return new _ut(e)}});var Sde=I(()=>{"use strict";var but=J(),xut=Gr(),mC=rc(),_f=Xt(),uy=Lt(),ode=On(),ade=Pl(),wut=vs(),Sut=df(),Iut=xr(),hC=Tr(),Eut=Cr(),Tut=xa(),Cut=lm(),dde=ox().set,_z=cz(),Aut=dz(),Mut=yf(),Put=iz(),pde=In(),gC=hm(),bz=oy(),fde=ac(),vC="Promise",hde=bz.CONSTRUCTOR,Out=bz.REJECTION_EVENT,Dut=bz.SUBCLASSING,mz=pde.getterFor(vC),kut=pde.set,ay=gC&&gC.prototype,mm=gC,pC=ay,mde=_f.TypeError,gz=_f.document,xz=_f.process,vz=fde.f,qut=vz,Nut=!!(gz&&gz.createEvent&&_f.dispatchEvent),gde="unhandledrejection",Rut="rejectionhandled",sde=0,vde=1,Lut=2,wz=1,yde=2,fC,lde,zut,ude,_de=function(e){var t;return Eut(e)&&hC(t=e.then)?t:!1},bde=function(e,t){var r=t.value,n=t.state===vde,i=n?e.ok:e.fail,o=e.resolve,u=e.reject,p=e.domain,h,y,x;try{i?(n||(t.rejection===yde&&jut(t),t.rejection=wz),i===!0?h=r:(p&&p.enter(),h=i(r),p&&(p.exit(),x=!0)),h===e.promise?u(new mde("Promise-chain cycle")):(y=_de(h))?uy(y,h,o,u):o(h)):u(r)}catch(E){p&&!x&&p.exit(),u(E)}},xde=function(e,t){e.notified||(e.notified=!0,_z(function(){for(var r=e.reactions,n;n=r.get();)bde(n,e);e.notified=!1,t&&!e.rejection&&Fut(e)}))},wde=function(e,t,r){var n,i;Nut?(n=gz.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),_f.dispatchEvent(n)):n={promise:t,reason:r},!Out&&(i=_f["on"+e])?i(n):e===gde&&Aut("Unhandled promise rejection",r)},Fut=function(e){uy(dde,_f,function(){var t=e.facade,r=e.value,n=cde(e),i;if(n&&(i=Mut(function(){mC?xz.emit("unhandledRejection",r,t):wde(gde,t,r)}),e.rejection=mC||cde(e)?yde:wz,i.error))throw i.value})},cde=function(e){return e.rejection!==wz&&!e.parent},jut=function(e){uy(dde,_f,function(){var t=e.facade;mC?xz.emit("rejectionHandled",t):wde(Rut,t,e.value)})},sy=function(e,t,r){return function(n){e(t,n,r)}},ly=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Lut,xde(e,!0))},yz=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new mde("Promise can't be resolved itself");var n=_de(t);n?_z(function(){var i={done:!1};try{uy(n,t,sy(yz,i,e),sy(ly,i,e))}catch(o){ly(i,o,e)}}):(e.value=t,e.state=vde,xde(e,!1))}catch(i){ly({done:!1},i,e)}}};if(hde&&(mm=function(t){Tut(this,pC),Iut(t),uy(fC,this);var r=mz(this);try{t(sy(yz,r),sy(ly,r))}catch(n){ly(r,n)}},pC=mm.prototype,fC=function(t){kut(this,{type:vC,done:!1,notified:!1,parent:!1,reactions:new Put,rejection:!1,state:sde,value:void 0})},fC.prototype=ode(pC,"then",function(t,r){var n=mz(this),i=vz(Cut(this,mm));return n.parent=!0,i.ok=hC(t)?t:!0,i.fail=hC(r)&&r,i.domain=mC?xz.domain:void 0,n.state===sde?n.reactions.add(i):_z(function(){bde(i,n)}),i.promise}),lde=function(){var e=new fC,t=mz(e);this.promise=e,this.resolve=sy(yz,t),this.reject=sy(ly,t)},fde.f=vz=function(e){return e===mm||e===zut?new lde(e):qut(e)},!xut&&hC(gC)&&ay!==Object.prototype)){ude=ay.then,Dut||ode(ay,"then",function(t,r){var n=this;return new mm(function(i,o){uy(ude,n,i,o)}).then(t,r)},{unsafe:!0});try{delete ay.constructor}catch(e){}ade&&ade(ay,pC)}but({global:!0,constructor:!0,wrap:!0,forced:hde},{Promise:mm});wut(mm,vC,!1,!0);Sut(vC)});var ux=I((Jpr,Ide)=>{"use strict";var But=hm(),Vut=zb(),Uut=oy().CONSTRUCTOR;Ide.exports=Uut||!Vut(function(e){But.all(e).then(void 0,function(){})})});var Ede=I(()=>{"use strict";var $ut=J(),Hut=Lt(),Wut=xr(),Gut=ac(),Zut=yf(),Yut=Mi(),Kut=ux();$ut({target:"Promise",stat:!0,forced:Kut},{all:function(t){var r=this,n=Gut.f(r),i=n.resolve,o=n.reject,u=Zut(function(){var p=Wut(r.resolve),h=[],y=0,x=1;Yut(t,function(E){var T=y++,D=!1;x++,Hut(p,r,E).then(function(z){D||(D=!0,h[T]=z,--x||i(h))},o)}),--x||i(h)});return u.error&&o(u.value),n.promise}})});var Cde=I(()=>{"use strict";var Xut=J(),Jut=Gr(),Qut=oy().CONSTRUCTOR,Iz=hm(),ect=br(),tct=Tr(),rct=On(),Tde=Iz&&Iz.prototype;Xut({target:"Promise",proto:!0,forced:Qut,real:!0},{catch:function(e){return this.then(void 0,e)}});!Jut&&tct(Iz)&&(Sz=ect("Promise").prototype.catch,Tde.catch!==Sz&&rct(Tde,"catch",Sz,{unsafe:!0}));var Sz});var Ade=I(()=>{"use strict";var nct=J(),ict=Lt(),oct=xr(),act=ac(),sct=yf(),lct=Mi(),uct=ux();nct({target:"Promise",stat:!0,forced:uct},{race:function(t){var r=this,n=act.f(r),i=n.reject,o=sct(function(){var u=oct(r.resolve);lct(t,function(p){ict(u,r,p).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var Mde=I(()=>{"use strict";var cct=J(),dct=Lt(),pct=ac(),fct=oy().CONSTRUCTOR;cct({target:"Promise",stat:!0,forced:fct},{reject:function(t){var r=pct.f(this);return dct(r.reject,void 0,t),r.promise}})});var Ez=I((sfr,Pde)=>{"use strict";var hct=Ft(),mct=Cr(),gct=ac();Pde.exports=function(e,t){if(hct(e),mct(t)&&t.constructor===e)return t;var r=gct.f(e),n=r.resolve;return n(t),r.promise}});var kde=I(()=>{"use strict";var vct=J(),yct=br(),Ode=Gr(),_ct=hm(),Dde=oy().CONSTRUCTOR,bct=Ez(),xct=yct("Promise"),wct=Ode&&!Dde;vct({target:"Promise",stat:!0,forced:Ode||Dde},{resolve:function(t){return bct(wct&&this===xct?_ct:this,t)}})});var qde=I(()=>{"use strict";Sde();Ede();Cde();Ade();Mde();kde()});var Tz=I(()=>{"use strict";var Sct=J(),Ict=Lt(),Ect=xr(),Tct=ac(),Cct=yf(),Act=Mi(),Mct=ux();Sct({target:"Promise",stat:!0,forced:Mct},{allSettled:function(t){var r=this,n=Tct.f(r),i=n.resolve,o=n.reject,u=Cct(function(){var p=Ect(r.resolve),h=[],y=0,x=1;Act(t,function(E){var T=y++,D=!1;x++,Ict(p,r,E).then(function(z){D||(D=!0,h[T]={status:"fulfilled",value:z},--x||i(h))},function(z){D||(D=!0,h[T]={status:"rejected",reason:z},--x||i(h))})}),--x||i(h)});return u.error&&o(u.value),n.promise}})});var Cz=I(()=>{"use strict";var Pct=J(),Oct=Lt(),Dct=xr(),kct=br(),qct=ac(),Nct=yf(),Rct=Mi(),Lct=ux(),Nde="No one promise resolved";Pct({target:"Promise",stat:!0,forced:Lct},{any:function(t){var r=this,n=kct("AggregateError"),i=qct.f(r),o=i.resolve,u=i.reject,p=Nct(function(){var h=Dct(r.resolve),y=[],x=0,E=1,T=!1;Rct(t,function(D){var z=x++,F=!1;E++,Oct(h,r,D).then(function(q){F||T||(T=!0,o(q))},function(q){F||T||(F=!0,y[z]=q,--E||u(new n(y,Nde)))})}),--E||u(new n(y,Nde))});return p.error&&u(p.value),i.promise}})});var Fde=I(()=>{"use strict";var zct=J(),Fct=Gr(),yC=hm(),jct=yt(),Lde=br(),zde=Tr(),Bct=lm(),Rde=Ez(),Vct=On(),Mz=yC&&yC.prototype,Uct=!!yC&&jct(function(){Mz.finally.call({then:function(){}},function(){})});zct({target:"Promise",proto:!0,real:!0,forced:Uct},{finally:function(e){var t=Bct(this,Lde("Promise")),r=zde(e);return this.then(r?function(n){return Rde(t,e()).then(function(){return n})}:e,r?function(n){return Rde(t,e()).then(function(){throw n})}:e)}});!Fct&&zde(yC)&&(Az=Lde("Promise").prototype.finally,Mz.finally!==Az&&Vct(Mz,"finally",Az,{unsafe:!0}));var Az});var jde=I(()=>{"use strict";var $ct=J(),Hct=ba(),Wct=xr(),Gct=Ft(),Zct=yt(),Yct=!Zct(function(){Reflect.apply(function(){})});$ct({target:"Reflect",stat:!0,forced:Yct},{apply:function(t,r,n){return Hct(Wct(t),r,Gct(n))}})});var Gde=I(()=>{"use strict";var Kct=J(),Xct=br(),Pz=ba(),Jct=d6(),Bde=Qv(),Qct=Ft(),Vde=Cr(),edt=Fi(),$de=yt(),Oz=Xct("Reflect","construct"),tdt=Object.prototype,rdt=[].push,Hde=$de(function(){function e(){}return!(Oz(function(){},[],e)instanceof e)}),Wde=!$de(function(){Oz(function(){})}),Ude=Hde||Wde;Kct({target:"Reflect",stat:!0,forced:Ude,sham:Ude},{construct:function(t,r){Bde(t),Qct(r);var n=arguments.length<3?t:Bde(arguments[2]);if(Wde&&!Hde)return Oz(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);}var i=[null];return Pz(rdt,i,r),new(Pz(Jct,t,i))}var o=n.prototype,u=edt(Vde(o)?o:tdt),p=Pz(t,u,r);return Vde(p)?p:u}})});var Kde=I(()=>{"use strict";var ndt=J(),idt=fr(),Zde=Ft(),odt=mu(),Yde=Qn(),adt=yt(),sdt=adt(function(){Reflect.defineProperty(Yde.f({},1,{value:1}),1,{value:2})});ndt({target:"Reflect",stat:!0,forced:sdt,sham:!idt},{defineProperty:function(t,r,n){Zde(t);var i=odt(r);Zde(n);try{return Yde.f(t,i,n),!0}catch(o){return!1}}})});var Xde=I(()=>{"use strict";var ldt=J(),udt=Ft(),cdt=co().f;ldt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=cdt(udt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var Dz=I((Tfr,Qde)=>{"use strict";var Jde=zr();Qde.exports=function(e){return e!==void 0&&(Jde(e,"value")||Jde(e,"writable"))}});var tpe=I(()=>{"use strict";var ddt=J(),pdt=Lt(),fdt=Cr(),hdt=Ft(),mdt=Dz(),gdt=co(),vdt=Wi();function epe(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(hdt(e)===r)return e[t];if(n=gdt.f(e,t),n)return mdt(n)?n.value:n.get===void 0?void 0:pdt(n.get,r);if(fdt(i=vdt(e)))return epe(i,t,r)}ddt({target:"Reflect",stat:!0},{get:epe})});var rpe=I(()=>{"use strict";var ydt=J(),_dt=fr(),bdt=Ft(),xdt=co();ydt({target:"Reflect",stat:!0,sham:!_dt},{getOwnPropertyDescriptor:function(t,r){return xdt.f(bdt(t),r)}})});var npe=I(()=>{"use strict";var wdt=J(),Sdt=Ft(),Idt=Wi(),Edt=wT();wdt({target:"Reflect",stat:!0,sham:!Edt},{getPrototypeOf:function(t){return Idt(Sdt(t))}})});var ipe=I(()=>{"use strict";var Tdt=J();Tdt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var ope=I(()=>{"use strict";var Cdt=J(),Adt=Ft(),Mdt=eC();Cdt({target:"Reflect",stat:!0},{isExtensible:function(t){return Adt(t),Mdt(t)}})});var ape=I(()=>{"use strict";var Pdt=J(),Odt=rT();Pdt({target:"Reflect",stat:!0},{ownKeys:Odt})});var spe=I(()=>{"use strict";var Ddt=J(),kdt=br(),qdt=Ft(),Ndt=bd();Ddt({target:"Reflect",stat:!0,sham:!Ndt},{preventExtensions:function(t){qdt(t);try{var r=kdt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var ppe=I(()=>{"use strict";var Rdt=J(),Ldt=Lt(),zdt=Ft(),lpe=Cr(),Fdt=Dz(),jdt=yt(),kz=Qn(),upe=co(),Bdt=Wi(),cpe=hs();function dpe(e,t,r){var n=arguments.length<4?e:arguments[3],i=upe.f(zdt(e),t),o,u,p;if(!i){if(lpe(u=Bdt(e)))return dpe(u,t,r,n);i=cpe(0)}if(Fdt(i)){if(i.writable===!1||!lpe(n))return!1;if(o=upe.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,kz.f(n,t,o)}else kz.f(n,t,cpe(0,r))}else{if(p=i.set,p===void 0)return!1;Ldt(p,n,r)}return!0}var Vdt=jdt(function(){var e=function(){},t=kz.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Rdt({target:"Reflect",stat:!0,forced:Vdt},{set:dpe})});var hpe=I(()=>{"use strict";var Udt=J(),$dt=Ft(),Hdt=ZR(),fpe=Pl();fpe&&Udt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){$dt(t),Hdt(r);try{return fpe(t,r),!0}catch(n){return!1}}})});var mpe=I(()=>{"use strict";var Wdt=J(),Gdt=Xt(),Zdt=vs();Wdt({global:!0},{Reflect:{}});Zdt(Gdt.Reflect,"Reflect",!0)});var cy=I((Gfr,gpe)=>{"use strict";var Ydt=Cr(),Kdt=jo(),Xdt=hr(),Jdt=Xdt("match");gpe.exports=function(e){var t;return Ydt(e)&&((t=e[Jdt])!==void 0?!!t:Kdt(e)==="RegExp")}});var _C=I((Zfr,vpe)=>{"use strict";var Qdt=Ft();vpe.exports=function(){var e=Qdt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var dy=I((Yfr,_pe)=>{"use strict";var ept=Lt(),tpt=zr(),rpt=_a(),npt=_C(),ype=RegExp.prototype;_pe.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in ype)&&!tpt(e,"flags")&&rpt(ype,e)?ept(npt,e):t}});var cx=I((Kfr,bpe)=>{"use strict";var qz=yt(),ipt=Xt(),Nz=ipt.RegExp,Rz=qz(function(){var e=Nz("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),opt=Rz||qz(function(){return!Nz("a","y").sticky}),apt=Rz||qz(function(){var e=Nz("^r","gy");return e.lastIndex=2,e.exec("str")!==null});bpe.exports={BROKEN_CARET:apt,MISSED_STICKY:opt,UNSUPPORTED_Y:Rz}});var bC=I((Xfr,xpe)=>{"use strict";var spt=yt(),lpt=Xt(),upt=lpt.RegExp;xpe.exports=spt(function(){var e=upt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var Lz=I((Jfr,wpe)=>{"use strict";var cpt=yt(),dpt=Xt(),ppt=dpt.RegExp;wpe.exports=cpt(function(){var e=ppt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var Ope=I(()=>{"use strict";var fpt=fr(),Bz=Xt(),dx=it(),hpt=Bv(),mpt=tm(),gpt=Hi(),vpt=ld().f,Spe=_a(),ypt=cy(),Ipe=Sr(),_pt=dy(),Cpe=cx(),bpt=YR(),xpt=On(),wpt=yt(),Spt=zr(),Ipt=In().enforce,Ept=df(),Tpt=hr(),Ape=bC(),Mpe=Lz(),Cpt=Tpt("match"),xf=Bz.RegExp,py=xf.prototype,Apt=Bz.SyntaxError,Mpt=dx(py.exec),xC=dx("".charAt),Epe=dx("".replace),Tpe=dx("".indexOf),Ppt=dx("".slice),Opt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,gm=/a/g,zz=/a/g,Dpt=new xf(gm)!==gm,Ppe=Cpe.MISSED_STICKY,kpt=Cpe.UNSUPPORTED_Y,qpt=fpt&&(!Dpt||Ppe||Ape||Mpe||wpt(function(){return zz[Cpt]=!1,xf(gm)!==gm||xf(zz)===zz||String(xf(gm,"i"))!=="/a/i"})),Npt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=xC(e,r),o==="\\"){n+=o+xC(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},Rpt=function(e){for(var t=e.length,r=0,n="",i=[],o={},u=!1,p=!1,h=0,y="",x;r<=t;r++){if(x=xC(e,r),x==="\\")x+=xC(e,++r);else if(x==="]")u=!1;else if(!u)switch(!0){case x==="[":u=!0;break;case x==="(":Mpt(Opt,Ppt(e,r+1))&&(r+=2,p=!0),n+=x,h++;continue;case x===">"&&p:if(y===""||Spt(o,y))throw new Apt("Invalid capture group name");o[y]=!0,i[i.length]=[y,h],p=!1,y="";continue;}p?y+=x:n+=x}return[n,i]};if(hpt("RegExp",qpt)){for(bf=function(t,r){var n=Spe(py,this),i=ypt(t),o=r===void 0,u=[],p=t,h,y,x,E,T,D;if(!n&&i&&o&&t.constructor===bf)return t;if((i||Spe(py,t))&&(t=t.source,o&&(r=_pt(p))),t=t===void 0?"":Ipe(t),r=r===void 0?"":Ipe(r),p=t,Ape&&("dotAll"in gm)&&(y=!!r&&Tpe(r,"s")>-1,y&&(r=Epe(r,/s/g,""))),h=r,Ppe&&("sticky"in gm)&&(x=!!r&&Tpe(r,"y")>-1,x&&kpt&&(r=Epe(r,/y/g,""))),Mpe&&(E=Rpt(t),t=E[0],u=E[1]),T=mpt(xf(t,r),n?this:py,bf),(y||x||u.length)&&(D=Ipt(T),y&&(D.dotAll=!0,D.raw=bf(Npt(t),h)),x&&(D.sticky=!0),u.length&&(D.groups=u)),t!==p)try{gpt(T,"source",p===""?"(?:)":p)}catch(z){}return T},Fz=vpt(xf),jz=0;Fz.length>jz;)bpt(bf,xf,Fz[jz++]);py.constructor=bf,bf.prototype=py,xpt(Bz,"RegExp",bf,{constructor:!0})}var bf,Fz,jz;Ept("RegExp")});var kpe=I(()=>{"use strict";var Lpt=fr(),zpt=bC(),Fpt=jo(),jpt=yi(),Bpt=In().get,Dpe=RegExp.prototype,Vpt=TypeError;Lpt&&zpt&&jpt(Dpe,"dotAll",{configurable:!0,get:function(){if(this!==Dpe){if(Fpt(this)==="RegExp")return!!Bpt(this).dotAll;throw new Vpt("Incompatible receiver, RegExp required")}}})});var px=I((nhr,Npe)=>{"use strict";var fy=Lt(),SC=it(),Upt=Sr(),$pt=_C(),Hpt=cx(),Wpt=ec(),Gpt=Fi(),Zpt=In().get,Ypt=bC(),Kpt=Lz(),Xpt=Wpt("native-string-replace",String.prototype.replace),wC=RegExp.prototype.exec,Uz=wC,Jpt=SC("".charAt),Qpt=SC("".indexOf),eft=SC("".replace),Vz=SC("".slice),$z=function(){var e=/a/,t=/b*/g;return fy(wC,e,"a"),fy(wC,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),qpe=Hpt.BROKEN_CARET,Hz=/()??/.exec("")[1]!==void 0,tft=$z||Hz||qpe||Ypt||Kpt;tft&&(Uz=function(t){var r=this,n=Zpt(r),i=Upt(t),o=n.raw,u,p,h,y,x,E,T;if(o)return o.lastIndex=r.lastIndex,u=fy(Uz,o,i),r.lastIndex=o.lastIndex,u;var D=n.groups,z=qpe&&r.sticky,F=fy($pt,r),q=r.source,N=0,B=i;if(z&&(F=eft(F,"y",""),Qpt(F,"g")===-1&&(F+="g"),B=Vz(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Jpt(i,r.lastIndex-1)!==`
`)&&(q="(?: "+q+")",B=" "+B,N++),p=new RegExp("^(?:"+q+")",F)),Hz&&(p=new RegExp("^"+q+"$(?!\\s)",F)),$z&&(h=r.lastIndex),y=fy(wC,z?p:r,B),z?y?(y.input=Vz(y.input,N),y[0]=Vz(y[0],N),y.index=r.lastIndex,r.lastIndex+=y[0].length):r.lastIndex=0:$z&&y&&(r.lastIndex=r.global?y.index+y[0].length:h),Hz&&y&&y.length>1&&fy(Xpt,y[0],p,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(y[x]=void 0)}),y&&D)for(y.groups=E=Gpt(null),x=0;x<D.length;x++)T=D[x],E[T[0]]=y[T[1]];return y});Npe.exports=Uz});var IC=I(()=>{"use strict";var rft=J(),Rpe=px();rft({target:"RegExp",proto:!0,forced:/./.exec!==Rpe},{exec:Rpe})});var Fpe=I(()=>{"use strict";var nft=Xt(),ift=fr(),oft=yi(),aft=_C(),sft=yt(),Lpe=nft.RegExp,zpe=Lpe.prototype,lft=ift&&sft(function(){var e=!0;try{Lpe(".","d")}catch(h){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(h,y){Object.defineProperty(t,h,{get:function(){return r+=y,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)i(u,o[u]);var p=Object.getOwnPropertyDescriptor(zpe,"flags").get.call(t);return p!==n||r!==n});lft&&oft(zpe,"flags",{configurable:!0,get:aft})});var Bpe=I(()=>{"use strict";var uft=fr(),cft=cx().MISSED_STICKY,dft=jo(),pft=yi(),fft=In().get,jpe=RegExp.prototype,hft=TypeError;uft&&cft&&pft(jpe,"sticky",{configurable:!0,get:function(){if(this!==jpe){if(dft(this)==="RegExp")return!!fft(this).sticky;throw new hft("Incompatible receiver, RegExp required")}}})});var $pe=I(()=>{"use strict";IC();var mft=J(),Vpe=Lt(),gft=Tr(),Upe=Ft(),vft=Sr(),yft=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),_ft=/./.test;mft({target:"RegExp",proto:!0,forced:!yft},{test:function(e){var t=Upe(this),r=vft(e),n=t.exec;if(!gft(n))return Vpe(_ft,t,r);var i=Vpe(n,t,r);return i===null?!1:(Upe(i),!0)}})});var Gpe=I(()=>{"use strict";var bft=Zh().PROPER,xft=On(),wft=Ft(),Hpe=Sr(),Sft=yt(),Ift=dy(),Wz="toString",Eft=RegExp.prototype,Wpe=Eft[Wz],Tft=Sft(function(){return Wpe.call({source:"a",flags:"b"})!=="/a/b"}),Cft=bft&&Wpe.name!==Wz;(Tft||Cft)&&xft(RegExp.prototype,Wz,function(){var t=wft(this),r=Hpe(t.source),n=Hpe(Ift(t));return"/"+r+"/"+n},{unsafe:!0})});var Zpe=I(()=>{"use strict";var Aft=Zb(),Mft=x6();Aft("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Mft)});var Ype=I(()=>{"use strict";Zpe()});var Kpe=I(()=>{"use strict";var Pft=J(),Oft=it(),Dft=li(),kft=ui(),qft=Sr(),Nft=yt(),Rft=Oft("".charAt),Lft=Nft(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});Pft({target:"String",proto:!0,forced:Lft},{at:function(t){var r=qft(Dft(this)),n=r.length,i=kft(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:Rft(r,o)}})});var vm=I((bhr,Qpe)=>{"use strict";var Gz=it(),zft=ui(),Fft=Sr(),jft=li(),Bft=Gz("".charAt),Xpe=Gz("".charCodeAt),Vft=Gz("".slice),Jpe=function(e){return function(t,r){var n=Fft(jft(t)),i=zft(r),o=n.length,u,p;return i<0||i>=o?e?"":void 0:(u=Xpe(n,i),u<55296||u>56319||i+1===o||(p=Xpe(n,i+1))<56320||p>57343?e?Bft(n,i):u:e?Vft(n,i,i+2):(u-55296<<10)+(p-56320)+65536)}};Qpe.exports={codeAt:Jpe(!1),charAt:Jpe(!0)}});var efe=I(()=>{"use strict";var Uft=J(),$ft=vm().codeAt;Uft({target:"String",proto:!0},{codePointAt:function(t){return $ft(this,t)}})});var EC=I((Shr,tfe)=>{"use strict";var Hft=cy(),Wft=TypeError;tfe.exports=function(e){if(Hft(e))throw new Wft("The method doesn't accept regular expressions");return e}});var TC=I((Ihr,rfe)=>{"use strict";var Gft=hr(),Zft=Gft("match");rfe.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Zft]=!1,"/./"[e](t)}catch(n){}}return!1}});var sfe=I(()=>{"use strict";var Yft=J(),ofe=ud(),Kft=co().f,Xft=ms(),nfe=Sr(),Jft=EC(),Qft=li(),eht=TC(),tht=Gr(),ife=ofe("".endsWith),rht=ofe("".slice),nht=Math.min,afe=eht("endsWith"),iht=!tht&&!afe&&!!function(){var e=Kft(String.prototype,"endsWith");return e&&!e.writable}();Yft({target:"String",proto:!0,forced:!iht&&!afe},{endsWith:function(t){var r=nfe(Qft(this));Jft(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:nht(Xft(n),i),u=nfe(t);return ife?ife(r,u,o):rht(r,o-u.length,o)===u}})});var cfe=I(()=>{"use strict";var oht=J(),aht=it(),sht=Cl(),lht=RangeError,lfe=String.fromCharCode,ufe=String.fromCodePoint,uht=aht([].join),cht=!!ufe&&ufe.length!==1;oht({target:"String",stat:!0,arity:1,forced:cht},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],sht(o,1114111)!==o)throw new lht(o+" is not a valid code point");r[i]=o<65536?lfe(o):lfe(((o-=65536)>>10)+55296,o%1024+56320)}return uht(r,"")}})});var pfe=I(()=>{"use strict";var dht=J(),pht=it(),fht=EC(),hht=li(),dfe=Sr(),mht=TC(),ght=pht("".indexOf);dht({target:"String",proto:!0,forced:!mht("includes")},{includes:function(t){return!!~ght(dfe(hht(this)),dfe(fht(t)),arguments.length>1?arguments[1]:void 0)}})});var Zz=I(()=>{"use strict";var vht=J(),yht=it(),_ht=li(),bht=Sr(),ffe=yht("".charCodeAt);vht({target:"String",proto:!0},{isWellFormed:function(){for(var t=bht(_ht(this)),r=t.length,n=0;n<r;n++){var i=ffe(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(ffe(t,n)&64512)!==56320))return!1}return!0}})});var Yz=I(()=>{"use strict";var xht=vm().charAt,wht=Sr(),mfe=In(),Sht=OT(),hfe=Bo(),gfe="String Iterator",Iht=mfe.set,Eht=mfe.getterFor(gfe);Sht(String,"String",function(e){Iht(this,{type:gfe,string:wht(e),index:0})},function(){var t=Eht(this),r=t.string,n=t.index,i;return n>=r.length?hfe(void 0,!0):(i=xht(r,n),t.index+=i.length,hfe(i,!1))})});var fx=I((Nhr,xfe)=>{"use strict";IC();var vfe=ud(),yfe=On(),Tht=px(),_fe=yt(),bfe=hr(),Cht=Hi(),Aht=bfe("species"),Kz=RegExp.prototype;xfe.exports=function(e,t,r,n){var i=bfe(e),o=!_fe(function(){var y={};return y[i]=function(){return 7},""[e](y)!==7}),u=o&&!_fe(function(){var y=!1,x=/a/;return e==="split"&&(x={},x.constructor={},x.constructor[Aht]=function(){return x},x.flags="",x[i]=/./[i]),x.exec=function(){return y=!0,null},x[i](""),!y});if(!o||!u||r){var p=vfe(/./[i]),h=t(i,""[e],function(y,x,E,T,D){var z=vfe(y),F=x.exec;return F===Tht||F===Kz.exec?o&&!D?{done:!0,value:p(x,E,T)}:{done:!0,value:z(E,x,T)}:{done:!1}});yfe(String.prototype,e,h[0]),yfe(Kz,i,h[1])}n&&Cht(Kz[i],"sham",!0)}});var hx=I((Rhr,wfe)=>{"use strict";var Mht=vm().charAt;wfe.exports=function(e,t,r){return t+(r?Mht(e,t).length:1)}});var hy=I((Lhr,Ife)=>{"use strict";var Sfe=Lt(),Pht=Ft(),Oht=Tr(),Dht=jo(),kht=px(),qht=TypeError;Ife.exports=function(e,t){var r=e.exec;if(Oht(r)){var n=Sfe(r,e,t);return n!==null&&Pht(n),n}if(Dht(e)==="RegExp")return Sfe(kht,e,t);throw new qht("RegExp#exec called on incompatible receiver")}});var Tfe=I(()=>{"use strict";var Nht=Lt(),Rht=fx(),Lht=Ft(),zht=$i(),Fht=ms(),Xz=Sr(),jht=li(),Bht=zi(),Vht=hx(),Efe=hy();Rht("match",function(e,t,r){return[function(i){var o=jht(this),u=zht(i)?void 0:Bht(i,e);return u?Nht(u,i,o):new RegExp(i)[e](Xz(o))},function(n){var i=Lht(this),o=Xz(n),u=r(t,i,o);if(u.done)return u.value;if(!i.global)return Efe(i,o);var p=i.unicode;i.lastIndex=0;for(var h=[],y=0,x;(x=Efe(i,o))!==null;){var E=Xz(x[0]);h[y]=E,E===""&&(i.lastIndex=Vht(o,Fht(i.lastIndex),p)),y++}return y===0?null:h}]})});var r8=I(()=>{"use strict";var Uht=J(),Cfe=Lt(),Pfe=ud(),$ht=uf(),CC=Bo(),Afe=li(),Ofe=ms(),mx=Sr(),Hht=Ft(),Wht=$i(),Ght=jo(),Zht=cy(),Dfe=dy(),Yht=zi(),Kht=On(),Xht=yt(),Jht=hr(),Qht=lm(),emt=hx(),tmt=hy(),kfe=In(),Qz=Gr(),AC=Jht("matchAll"),qfe="RegExp String",Nfe=qfe+" Iterator",rmt=kfe.set,nmt=kfe.getterFor(Nfe),Mfe=RegExp.prototype,imt=TypeError,e8=Pfe("".indexOf),MC=Pfe("".matchAll),Jz=!!MC&&!Xht(function(){MC("a",/./)}),omt=$ht(function(t,r,n,i){rmt(this,{type:Nfe,regexp:t,string:r,global:n,unicode:i,done:!1})},qfe,function(){var t=nmt(this);if(t.done)return CC(void 0,!0);var r=t.regexp,n=t.string,i=tmt(r,n);return i===null?(t.done=!0,CC(void 0,!0)):t.global?(mx(i[0])===""&&(r.lastIndex=emt(n,Ofe(r.lastIndex),t.unicode)),CC(i,!1)):(t.done=!0,CC(i,!1))}),t8=function(e){var t=Hht(this),r=mx(e),n=Qht(t,RegExp),i=mx(Dfe(t)),o,u,p;return o=new n(n===RegExp?t.source:t,i),u=!!~e8(i,"g"),p=!!~e8(i,"u"),o.lastIndex=Ofe(t.lastIndex),new omt(o,r,u,p)};Uht({target:"String",proto:!0,forced:Jz},{matchAll:function(t){var r=Afe(this),n,i,o,u;if(Wht(t)){if(Jz)return MC(r,t)}else{if(Zht(t)&&(n=mx(Afe(Dfe(t))),!~e8(n,"g")))throw new imt("`.matchAll` does not allow non-global regexes");if(Jz)return MC(r,t);if(o=Yht(t,AC),o===void 0&&Qz&&Ght(t)==="RegExp"&&(o=t8),o)return Cfe(o,t,r)}return i=mx(r),u=new RegExp(t,"g"),Qz?Cfe(t8,u,i):u[AC](i)}});Qz||AC in Mfe||Kht(Mfe,AC,t8)});var n8=I((Vhr,Rfe)=>{"use strict";var amt=Ju();Rfe.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(amt)});var Lfe=I(()=>{"use strict";var smt=J(),lmt=XT().end,umt=n8();smt({target:"String",proto:!0,forced:umt},{padEnd:function(t){return lmt(this,t,arguments.length>1?arguments[1]:void 0)}})});var zfe=I(()=>{"use strict";var cmt=J(),dmt=XT().start,pmt=n8();cmt({target:"String",proto:!0,forced:pmt},{padStart:function(t){return dmt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Vfe=I(()=>{"use strict";var fmt=J(),Bfe=it(),hmt=ro(),mmt=Zr(),Ffe=Sr(),gmt=Jr(),jfe=Bfe([].push),vmt=Bfe([].join);fmt({target:"String",stat:!0},{raw:function(t){var r=hmt(mmt(t).raw),n=gmt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){if(jfe(o,Ffe(r[u++])),u===n)return vmt(o,"");u<i&&jfe(o,Ffe(arguments[u]))}}})});var Ufe=I(()=>{"use strict";var ymt=J(),_mt=Wb();ymt({target:"String",proto:!0},{repeat:_mt})});var s8=I((Xhr,$fe)=>{"use strict";var a8=it(),bmt=Zr(),xmt=Math.floor,i8=a8("".charAt),wmt=a8("".replace),o8=a8("".slice),Smt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Imt=/\$([$&'`]|\d{1,2})/g;$fe.exports=function(e,t,r,n,i,o){var u=r+e.length,p=n.length,h=Imt;return i!==void 0&&(i=bmt(i),h=Smt),wmt(o,h,function(y,x){var E;switch(i8(x,0)){case"$":return"$";case"&":return e;case"`":return o8(t,0,r);case"'":return o8(t,u);case"<":E=i[o8(x,1,-1)];break;default:var T=+x;if(T===0)return y;if(T>p){var D=xmt(T/10);return D===0?y:D<=p?n[D-1]===void 0?i8(x,1):n[D-1]+i8(x,1):y}E=n[T-1];}return E===void 0?"":E})}});var Yfe=I(()=>{"use strict";var Emt=ba(),Hfe=Lt(),PC=it(),Tmt=fx(),Cmt=yt(),Amt=Ft(),Mmt=Tr(),Pmt=$i(),Omt=ui(),Dmt=ms(),my=Sr(),kmt=li(),qmt=hx(),Nmt=zi(),Rmt=s8(),Lmt=hy(),zmt=hr(),u8=zmt("replace"),Fmt=Math.max,jmt=Math.min,Bmt=PC([].concat),l8=PC([].push),Wfe=PC("".indexOf),Gfe=PC("".slice),Vmt=function(e){return e===void 0?e:String(e)},Umt=function(){return"a".replace(/./,"$0")==="$0"}(),Zfe=function(){return /./[u8]?/./[u8]("a","$0")==="":!1}(),$mt=!Cmt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Tmt("replace",function(e,t,r){var n=Zfe?"$":"$0";return[function(o,u){var p=kmt(this),h=Pmt(o)?void 0:Nmt(o,u8);return h?Hfe(h,o,p,u):Hfe(t,my(p),o,u)},function(i,o){var u=Amt(this),p=my(i);if(typeof o=="string"&&Wfe(o,n)===-1&&Wfe(o,"$<")===-1){var h=r(t,u,p,o);if(h.done)return h.value}var y=Mmt(o);y||(o=my(o));var x=u.global,E;x&&(E=u.unicode,u.lastIndex=0);for(var T=[],D;D=Lmt(u,p),!(D===null||(l8(T,D),!x));){var z=my(D[0]);z===""&&(u.lastIndex=qmt(p,Dmt(u.lastIndex),E))}for(var F="",q=0,N=0;N<T.length;N++){D=T[N];for(var B=my(D[0]),Z=Fmt(jmt(Omt(D.index),p.length),0),ee=[],ae,ue=1;ue<D.length;ue++)l8(ee,Vmt(D[ue]));var ve=D.groups;if(y){var Oe=Bmt([B],ee,Z,p);ve!==void 0&&l8(Oe,ve),ae=my(Emt(o,void 0,Oe))}else ae=Rmt(B,p,Z,ee,ve,o);Z>=q&&(F+=Gfe(p,q,Z)+ae,q=Z+B.length)}return F+Gfe(p,q)}]},!$mt||!Umt||Zfe)});var d8=I(()=>{"use strict";var Hmt=J(),Wmt=Lt(),c8=it(),Kfe=li(),Gmt=Tr(),Zmt=$i(),Ymt=cy(),gy=Sr(),Kmt=zi(),Xmt=dy(),Jmt=s8(),Qmt=hr(),egt=Gr(),tgt=Qmt("replace"),rgt=TypeError,Qfe=c8("".indexOf),ngt=c8("".replace),Xfe=c8("".slice),igt=Math.max,Jfe=function(e,t,r){return r>e.length?-1:t===""?r:Qfe(e,t,r)};Hmt({target:"String",proto:!0},{replaceAll:function(t,r){var n=Kfe(this),i,o,u,p,h,y,x,E,T,D=0,z=0,F="";if(!Zmt(t)){if(i=Ymt(t),i&&(o=gy(Kfe(Xmt(t))),!~Qfe(o,"g")))throw new rgt("`.replaceAll` does not allow non-global regexes");if(u=Kmt(t,tgt),u)return Wmt(u,t,n,r);if(egt&&i)return ngt(gy(n),t,r)}for(p=gy(n),h=gy(t),y=Gmt(r),y||(r=gy(r)),x=h.length,E=igt(1,x),D=Jfe(p,h,0);D!==-1;)T=y?gy(r(h,D,p)):Jmt(h,p,D,[],void 0,r),F+=Xfe(p,z,D)+T,z=D+x,D=Jfe(p,h,D+E);return z<p.length&&(F+=Xfe(p,z)),F}})});var rhe=I(()=>{"use strict";var ogt=Lt(),agt=fx(),sgt=Ft(),lgt=$i(),ugt=li(),ehe=$6(),the=Sr(),cgt=zi(),dgt=hy();agt("search",function(e,t,r){return[function(i){var o=ugt(this),u=lgt(i)?void 0:cgt(i,e);return u?ogt(u,i,o):new RegExp(i)[e](the(o))},function(n){var i=sgt(this),o=the(n),u=r(t,i,o);if(u.done)return u.value;var p=i.lastIndex;ehe(p,0)||(i.lastIndex=0);var h=dgt(i,o);return ehe(i.lastIndex,p)||(i.lastIndex=p),h===null?-1:h.index}]})});var lhe=I(()=>{"use strict";var pgt=ba(),gx=Lt(),f8=it(),fgt=fx(),hgt=Ft(),mgt=$i(),ggt=cy(),nhe=li(),vgt=lm(),ygt=hx(),_gt=ms(),p8=Sr(),bgt=zi(),ihe=Xh(),ohe=hy(),xgt=px(),wgt=cx(),Sgt=yt(),vy=wgt.UNSUPPORTED_Y,ahe=4294967295,Igt=Math.min,she=[].push,Egt=f8(/./.exec),yy=f8(she),vx=f8("".slice),Tgt=!Sgt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});fgt("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,o){var u=p8(nhe(this)),p=o===void 0?ahe:o>>>0;if(p===0)return[];if(i===void 0)return[u];if(!ggt(i))return gx(t,u,i,p);for(var h=[],y=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),x=0,E=new RegExp(i.source,y+"g"),T,D,z;(T=gx(xgt,E,u))&&(D=E.lastIndex,!(D>x&&(yy(h,vx(u,x,T.index)),T.length>1&&T.index<u.length&&pgt(she,h,ihe(T,1)),z=T[0].length,x=D,h.length>=p)));)E.lastIndex===T.index&&E.lastIndex++;return x===u.length?(z||!Egt(E,""))&&yy(h,""):yy(h,vx(u,x)),h.length>p?ihe(h,0,p):h}:"0".split(void 0,0).length?n=function(i,o){return i===void 0&&o===0?[]:gx(t,this,i,o)}:n=t,[function(o,u){var p=nhe(this),h=mgt(o)?void 0:bgt(o,e);return h?gx(h,o,p,u):gx(n,p8(p),o,u)},function(i,o){var u=hgt(this),p=p8(i),h=r(n,u,p,o,n!==t);if(h.done)return h.value;var y=vgt(u,RegExp),x=u.unicode,E=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(vy?"g":"y"),T=new y(vy?"^(?:"+u.source+")":u,E),D=o===void 0?ahe:o>>>0;if(D===0)return[];if(p.length===0)return ohe(T,p)===null?[p]:[];for(var z=0,F=0,q=[];F<p.length;){T.lastIndex=vy?0:F;var N=ohe(T,vy?vx(p,F):p),B;if(N===null||(B=Igt(_gt(T.lastIndex+(vy?F:0)),p.length))===z)F=ygt(p,F,x);else{if(yy(q,vx(p,z,F)),q.length===D)return q;for(var Z=1;Z<=N.length-1;Z++)if(yy(q,N[Z]),q.length===D)return q;F=z=B}}return yy(q,vx(p,z)),q}]},!Tgt,vy)});var fhe=I(()=>{"use strict";var Cgt=J(),dhe=ud(),Agt=co().f,Mgt=ms(),uhe=Sr(),Pgt=EC(),Ogt=li(),Dgt=TC(),kgt=Gr(),che=dhe("".startsWith),qgt=dhe("".slice),Ngt=Math.min,phe=Dgt("startsWith"),Rgt=!kgt&&!phe&&!!function(){var e=Agt(String.prototype,"startsWith");return e&&!e.writable}();Cgt({target:"String",proto:!0,forced:!Rgt&&!phe},{startsWith:function(t){var r=uhe(Ogt(this));Pgt(t);var n=Mgt(Ngt(arguments.length>1?arguments[1]:void 0,r.length)),i=uhe(t);return che?che(r,i,n):qgt(r,n,n+i.length)===i}})});var mhe=I(()=>{"use strict";var Lgt=J(),zgt=it(),Fgt=li(),hhe=ui(),jgt=Sr(),Bgt=zgt("".slice),Vgt=Math.max,Ugt=Math.min,$gt=!"".substr||"ab".substr(-1)!=="b";Lgt({target:"String",proto:!0,forced:$gt},{substr:function(t,r){var n=jgt(Fgt(this)),i=n.length,o=hhe(t),u,p;return o===1/0&&(o=0),o<0&&(o=Vgt(i+o,0)),u=r===void 0?i:hhe(r),u<=0||u===1/0?"":(p=Ugt(o+u,i),o>=p?"":Bgt(n,o,p))}})});var v8=I(()=>{"use strict";var Hgt=J(),yhe=Lt(),g8=it(),Wgt=li(),Ggt=Sr(),Zgt=yt(),Ygt=Array,h8=g8("".charAt),ghe=g8("".charCodeAt),Kgt=g8([].join),m8="".toWellFormed,Xgt="\uFFFD",vhe=m8&&Zgt(function(){return yhe(m8,1)!=="1"});Hgt({target:"String",proto:!0,forced:vhe},{toWellFormed:function(){var t=Ggt(Wgt(this));if(vhe)return yhe(m8,t);for(var r=t.length,n=Ygt(r),i=0;i<r;i++){var o=ghe(t,i);(o&63488)!==55296?n[i]=h8(t,i):o>=56320||i+1>=r||(ghe(t,i+1)&64512)!==56320?n[i]=Xgt:(n[i]=h8(t,i),n[++i]=h8(t,i))}return Kgt(n,"")}})});var OC=I((pmr,xhe)=>{"use strict";var Jgt=Zh().PROPER,Qgt=yt(),_he=cm(),bhe="\u200B\x85\u180E";xhe.exports=function(e){return Qgt(function(){return!!_he[e]()||bhe[e]()!==bhe||Jgt&&_he[e].name!==e})}});var whe=I(()=>{"use strict";var evt=J(),tvt=dm().trim,rvt=OC();evt({target:"String",proto:!0,forced:rvt("trim")},{trim:function(){return tvt(this)}})});var y8=I((mmr,She)=>{"use strict";var nvt=dm().end,ivt=OC();She.exports=ivt("trimEnd")?function(){return nvt(this)}:"".trimEnd});var Ehe=I(()=>{"use strict";var ovt=J(),Ihe=y8();ovt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Ihe},{trimRight:Ihe})});var Che=I(()=>{"use strict";Ehe();var avt=J(),The=y8();avt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==The},{trimEnd:The})});var _8=I((bmr,Ahe)=>{"use strict";var svt=dm().start,lvt=OC();Ahe.exports=lvt("trimStart")?function(){return svt(this)}:"".trimStart});var Phe=I(()=>{"use strict";var uvt=J(),Mhe=_8();uvt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==Mhe},{trimLeft:Mhe})});var Dhe=I(()=>{"use strict";Phe();var cvt=J(),Ohe=_8();cvt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==Ohe},{trimStart:Ohe})});var bs=I((Emr,qhe)=>{"use strict";var dvt=it(),pvt=li(),khe=Sr(),fvt=/"/g,hvt=dvt("".replace);qhe.exports=function(e,t,r,n){var i=khe(pvt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+hvt(khe(n),fvt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var xs=I((Tmr,Nhe)=>{"use strict";var mvt=yt();Nhe.exports=function(e){return mvt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var Rhe=I(()=>{"use strict";var gvt=J(),vvt=bs(),yvt=xs();gvt({target:"String",proto:!0,forced:yvt("anchor")},{anchor:function(t){return vvt(this,"a","name",t)}})});var Lhe=I(()=>{"use strict";var _vt=J(),bvt=bs(),xvt=xs();_vt({target:"String",proto:!0,forced:xvt("big")},{big:function(){return bvt(this,"big","","")}})});var zhe=I(()=>{"use strict";var wvt=J(),Svt=bs(),Ivt=xs();wvt({target:"String",proto:!0,forced:Ivt("blink")},{blink:function(){return Svt(this,"blink","","")}})});var Fhe=I(()=>{"use strict";var Evt=J(),Tvt=bs(),Cvt=xs();Evt({target:"String",proto:!0,forced:Cvt("bold")},{bold:function(){return Tvt(this,"b","","")}})});var jhe=I(()=>{"use strict";var Avt=J(),Mvt=bs(),Pvt=xs();Avt({target:"String",proto:!0,forced:Pvt("fixed")},{fixed:function(){return Mvt(this,"tt","","")}})});var Bhe=I(()=>{"use strict";var Ovt=J(),Dvt=bs(),kvt=xs();Ovt({target:"String",proto:!0,forced:kvt("fontcolor")},{fontcolor:function(t){return Dvt(this,"font","color",t)}})});var Vhe=I(()=>{"use strict";var qvt=J(),Nvt=bs(),Rvt=xs();qvt({target:"String",proto:!0,forced:Rvt("fontsize")},{fontsize:function(t){return Nvt(this,"font","size",t)}})});var Uhe=I(()=>{"use strict";var Lvt=J(),zvt=bs(),Fvt=xs();Lvt({target:"String",proto:!0,forced:Fvt("italics")},{italics:function(){return zvt(this,"i","","")}})});var $he=I(()=>{"use strict";var jvt=J(),Bvt=bs(),Vvt=xs();jvt({target:"String",proto:!0,forced:Vvt("link")},{link:function(t){return Bvt(this,"a","href",t)}})});var Hhe=I(()=>{"use strict";var Uvt=J(),$vt=bs(),Hvt=xs();Uvt({target:"String",proto:!0,forced:Hvt("small")},{small:function(){return $vt(this,"small","","")}})});var Whe=I(()=>{"use strict";var Wvt=J(),Gvt=bs(),Zvt=xs();Wvt({target:"String",proto:!0,forced:Zvt("strike")},{strike:function(){return Gvt(this,"strike","","")}})});var Ghe=I(()=>{"use strict";var Yvt=J(),Kvt=bs(),Xvt=xs();Yvt({target:"String",proto:!0,forced:Xvt("sub")},{sub:function(){return Kvt(this,"sub","","")}})});var Zhe=I(()=>{"use strict";var Jvt=J(),Qvt=bs(),eyt=xs();Jvt({target:"String",proto:!0,forced:eyt("sup")},{sup:function(){return Qvt(this,"sup","","")}})});var DC=I((Qmr,Khe)=>{"use strict";var Yhe=Xt(),b8=yt(),tyt=zb(),ryt=Fr().NATIVE_ARRAY_BUFFER_VIEWS,nyt=Yhe.ArrayBuffer,ym=Yhe.Int8Array;Khe.exports=!ryt||!b8(function(){ym(1)})||!b8(function(){new ym(-1)})||!tyt(function(e){new ym,new ym(null),new ym(1.5),new ym(e)},!0)||b8(function(){return new ym(new nyt(2),1,void 0).length!==1})});var _y=I((egr,Xhe)=>{"use strict";var iyt=ui(),oyt=RangeError;Xhe.exports=function(e){var t=iyt(e);if(t<0)throw new oyt("The argument can't be less than 0");return t}});var x8=I((tgr,Jhe)=>{"use strict";var ayt=_y(),syt=RangeError;Jhe.exports=function(e,t){var r=ayt(e);if(r%t)throw new syt("Wrong offset");return r}});var w8=I((rgr,Qhe)=>{"use strict";var lyt=Math.round;Qhe.exports=function(e){var t=lyt(e);return t<0?0:t>255?255:t&255}});var kC=I((ngr,eme)=>{"use strict";var uyt=gs();eme.exports=function(e){var t=uyt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var yx=I((igr,tme)=>{"use strict";var cyt=bb(),dyt=TypeError;tme.exports=function(e){var t=cyt(e,"number");if(typeof t=="number")throw new dyt("Can't convert number to bigint");return BigInt(t)}});var S8=I((ogr,rme)=>{"use strict";var pyt=jn(),fyt=Lt(),hyt=Qv(),myt=Zr(),gyt=Jr(),vyt=sf(),yyt=fd(),_yt=ST(),byt=kC(),xyt=Fr().aTypedArrayConstructor,wyt=yx();rme.exports=function(t){var r=hyt(this),n=myt(t),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,p=yyt(n),h,y,x,E,T,D,z,F;if(p&&!_yt(p))for(z=vyt(n,p),F=z.next,n=[];!(D=fyt(F,z)).done;)n.push(D.value);for(u&&i>2&&(o=pyt(o,arguments[2])),y=gyt(n),x=new(xyt(r))(y),E=byt(x),h=0;y>h;h++)T=u?o(n[h],h):n[h],x[h]=E?wyt(T):+T;return x}});var sc=I((agr,P8)=>{"use strict";var nme=J(),hme=Xt(),ime=Lt(),Syt=fr(),Iyt=DC(),by=Fr(),mme=Hb(),ome=xa(),Eyt=hs(),_x=Hi(),Tyt=oC(),Cyt=ms(),ame=Gv(),I8=x8(),Ayt=w8(),gme=mu(),bx=zr(),Myt=gs(),C8=Cr(),Pyt=sd(),Oyt=Fi(),Dyt=_a(),qC=Pl(),kyt=ld().f,sme=S8(),qyt=ji().forEach,Nyt=df(),Ryt=yi(),vme=Qn(),yme=co(),O8=In(),Lyt=tm(),A8=O8.get,zyt=O8.set,Fyt=O8.enforce,_me=vme.f,jyt=yme.f,E8=hme.RangeError,bme=mme.ArrayBuffer,Byt=bme.prototype,Vyt=mme.DataView,NC=by.NATIVE_ARRAY_BUFFER_VIEWS,lme=by.TYPED_ARRAY_TAG,ume=by.TypedArray,xx=by.TypedArrayPrototype,Uyt=by.aTypedArrayConstructor,M8=by.isTypedArray,RC="BYTES_PER_ELEMENT",T8="Wrong length",cme=function(e,t){Uyt(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},LC=function(e,t){Ryt(e,t,{configurable:!0,get:function(){return A8(this)[t]}})},dme=function(e){var t;return Dyt(Byt,e)||(t=Myt(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},xme=function(e,t){return M8(e)&&!Pyt(t)&&t in e&&Tyt(+t)&&t>=0},pme=function(t,r){return r=gme(r),xme(t,r)?Eyt(2,t[r]):jyt(t,r)},fme=function(t,r,n){return r=gme(r),xme(t,r)&&C8(n)&&bx(n,"value")&&!bx(n,"get")&&!bx(n,"set")&&!n.configurable&&(!bx(n,"writable")||n.writable)&&(!bx(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):_me(t,r,n)};Syt?(NC||(yme.f=pme,vme.f=fme,LC(xx,"buffer"),LC(xx,"byteOffset"),LC(xx,"byteLength"),LC(xx,"length")),nme({target:"Object",stat:!0,forced:!NC},{getOwnPropertyDescriptor:pme,defineProperty:fme}),P8.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,p=hme[i],h=p,y=h&&h.prototype,x={},E=function(F,q){var N=A8(F);return N.view[o](q*n+N.byteOffset,!0)},T=function(F,q,N){var B=A8(F);B.view[u](q*n+B.byteOffset,r?Ayt(N):N,!0)},D=function(F,q){_me(F,q,{get:function(){return E(this,q)},set:function(N){return T(this,q,N)},enumerable:!0})};NC?Iyt&&(h=t(function(F,q,N,B){return ome(F,y),Lyt(function(){return C8(q)?dme(q)?B!==void 0?new p(q,I8(N,n),B):N!==void 0?new p(q,I8(N,n)):new p(q):M8(q)?cme(h,q):ime(sme,h,q):new p(ame(q))}(),F,h)}),qC&&qC(h,ume),qyt(kyt(p),function(F){F in h||_x(h,F,p[F])}),h.prototype=y):(h=t(function(F,q,N,B){ome(F,y);var Z=0,ee=0,ae,ue,ve;if(!C8(q))ve=ame(q),ue=ve*n,ae=new bme(ue);else if(dme(q)){ae=q,ee=I8(N,n);var Oe=q.byteLength;if(B===void 0){if(Oe%n)throw new E8(T8);if(ue=Oe-ee,ue<0)throw new E8(T8)}else if(ue=Cyt(B)*n,ue+ee>Oe)throw new E8(T8);ve=ue/n}else return M8(q)?cme(h,q):ime(sme,h,q);for(zyt(F,{buffer:ae,byteOffset:ee,byteLength:ue,length:ve,view:new Vyt(ae)});Z<ve;)D(F,Z++)}),qC&&qC(h,ume),y=h.prototype=Oyt(xx)),y.constructor!==h&&_x(y,"constructor",h),Fyt(y).TypedArrayConstructor=h,lme&&_x(y,lme,i);var z=h!==p;x[i]=h,nme({global:!0,constructor:!0,forced:z,sham:!NC},x),RC in h||_x(h,RC,n),RC in y||_x(y,RC,n),Nyt(i)}):P8.exports=function(){}});var wme=I(()=>{"use strict";var $yt=sc();$yt("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Sme=I(()=>{"use strict";var Hyt=sc();Hyt("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Ime=I(()=>{"use strict";var Wyt=sc();Wyt("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Eme=I(()=>{"use strict";var Gyt=sc();Gyt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Tme=I(()=>{"use strict";var Zyt=sc();Zyt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cme=I(()=>{"use strict";var Yyt=sc();Yyt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Ame=I(()=>{"use strict";var Kyt=sc();Kyt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Mme=I(()=>{"use strict";var Xyt=sc();Xyt("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Pme=I(()=>{"use strict";var Jyt=sc();Jyt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var D8=I(()=>{"use strict";var Ome=Fr(),Qyt=Jr(),e0t=ui(),t0t=Ome.aTypedArray,r0t=Ome.exportTypedArrayMethod;r0t("at",function(t){var r=t0t(this),n=Qyt(r),i=e0t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var kme=I(()=>{"use strict";var n0t=it(),Dme=Fr(),i0t=pL(),o0t=n0t(i0t),a0t=Dme.aTypedArray,s0t=Dme.exportTypedArrayMethod;s0t("copyWithin",function(t,r){return o0t(a0t(this),t,r,arguments.length>2?arguments[2]:void 0)})});var Nme=I(()=>{"use strict";var qme=Fr(),l0t=ji().every,u0t=qme.aTypedArray,c0t=qme.exportTypedArrayMethod;c0t("every",function(t){return l0t(u0t(this),t,arguments.length>1?arguments[1]:void 0)})});var Lme=I(()=>{"use strict";var Rme=Fr(),d0t=CT(),p0t=yx(),f0t=gs(),h0t=Lt(),m0t=it(),g0t=yt(),v0t=Rme.aTypedArray,y0t=Rme.exportTypedArrayMethod,_0t=m0t("".slice),b0t=g0t(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});y0t("fill",function(t){var r=arguments.length;v0t(this);var n=_0t(f0t(this),0,3)==="Big"?p0t(t):+t;return h0t(d0t,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},b0t)});var xy=I((kgr,Fme)=>{"use strict";var zme=Fr(),x0t=lm(),w0t=zme.aTypedArrayConstructor,S0t=zme.getTypedArrayConstructor;Fme.exports=function(e){return w0t(x0t(e,S0t(e)))}});var zC=I((qgr,jme)=>{"use strict";var I0t=am(),E0t=xy();jme.exports=function(e,t){return I0t(E0t(e),t)}});var Vme=I(()=>{"use strict";var Bme=Fr(),T0t=ji().filter,C0t=zC(),A0t=Bme.aTypedArray,M0t=Bme.exportTypedArrayMethod;M0t("filter",function(t){var r=T0t(A0t(this),t,arguments.length>1?arguments[1]:void 0);return C0t(this,r)})});var $me=I(()=>{"use strict";var Ume=Fr(),P0t=ji().find,O0t=Ume.aTypedArray,D0t=Ume.exportTypedArrayMethod;D0t("find",function(t){return P0t(O0t(this),t,arguments.length>1?arguments[1]:void 0)})});var Wme=I(()=>{"use strict";var Hme=Fr(),k0t=ji().findIndex,q0t=Hme.aTypedArray,N0t=Hme.exportTypedArrayMethod;N0t("findIndex",function(t){return k0t(q0t(this),t,arguments.length>1?arguments[1]:void 0)})});var k8=I(()=>{"use strict";var Gme=Fr(),R0t=Lb().findLast,L0t=Gme.aTypedArray,z0t=Gme.exportTypedArrayMethod;z0t("findLast",function(t){return R0t(L0t(this),t,arguments.length>1?arguments[1]:void 0)})});var q8=I(()=>{"use strict";var Zme=Fr(),F0t=Lb().findLastIndex,j0t=Zme.aTypedArray,B0t=Zme.exportTypedArrayMethod;B0t("findLastIndex",function(t){return F0t(j0t(this),t,arguments.length>1?arguments[1]:void 0)})});var Kme=I(()=>{"use strict";var Yme=Fr(),V0t=ji().forEach,U0t=Yme.aTypedArray,$0t=Yme.exportTypedArrayMethod;$0t("forEach",function(t){V0t(U0t(this),t,arguments.length>1?arguments[1]:void 0)})});var Xme=I(()=>{"use strict";var H0t=DC(),W0t=Fr().exportTypedArrayStaticMethod,G0t=S8();W0t("from",G0t,H0t)});var Qme=I(()=>{"use strict";var Jme=Fr(),Z0t=Fv().includes,Y0t=Jme.aTypedArray,K0t=Jme.exportTypedArrayMethod;K0t("includes",function(t){return Z0t(Y0t(this),t,arguments.length>1?arguments[1]:void 0)})});var tge=I(()=>{"use strict";var ege=Fr(),X0t=Fv().indexOf,J0t=ege.aTypedArray,Q0t=ege.exportTypedArrayMethod;Q0t("indexOf",function(t){return X0t(J0t(this),t,arguments.length>1?arguments[1]:void 0)})});var age=I(()=>{"use strict";var e1t=Xt(),t1t=yt(),N8=it(),nge=Fr(),R8=Bb(),r1t=hr(),L8=r1t("iterator"),rge=e1t.Uint8Array,n1t=N8(R8.values),i1t=N8(R8.keys),o1t=N8(R8.entries),z8=nge.aTypedArray,FC=nge.exportTypedArrayMethod,wy=rge&&rge.prototype,jC=!t1t(function(){wy[L8].call([1])}),ige=!!wy&&wy.values&&wy[L8]===wy.values&&wy.values.name==="values",oge=function(){return n1t(z8(this))};FC("entries",function(){return o1t(z8(this))},jC);FC("keys",function(){return i1t(z8(this))},jC);FC("values",oge,jC||!ige,{name:"values"});FC(L8,oge,jC||!ige,{name:"values"})});var lge=I(()=>{"use strict";var sge=Fr(),a1t=it(),s1t=sge.aTypedArray,l1t=sge.exportTypedArrayMethod,u1t=a1t([].join);l1t("join",function(t){return u1t(s1t(this),t)})});var cge=I(()=>{"use strict";var uge=Fr(),c1t=ba(),d1t=AL(),p1t=uge.aTypedArray,f1t=uge.exportTypedArrayMethod;f1t("lastIndexOf",function(t){var r=arguments.length;return c1t(d1t,p1t(this),r>1?[t,arguments[1]]:[t])})});var pge=I(()=>{"use strict";var dge=Fr(),h1t=ji().map,m1t=xy(),g1t=dge.aTypedArray,v1t=dge.exportTypedArrayMethod;v1t("map",function(t){return h1t(g1t(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(m1t(r))(n)})})});var hge=I(()=>{"use strict";var fge=Fr(),y1t=DC(),_1t=fge.aTypedArrayConstructor,b1t=fge.exportTypedArrayStaticMethod;b1t("of",function(){for(var t=0,r=arguments.length,n=new(_1t(this))(r);r>t;)n[t]=arguments[t++];return n},y1t)});var gge=I(()=>{"use strict";var mge=Fr(),x1t=Vb().left,w1t=mge.aTypedArray,S1t=mge.exportTypedArrayMethod;S1t("reduce",function(t){var r=arguments.length;return x1t(w1t(this),t,r,r>1?arguments[1]:void 0)})});var yge=I(()=>{"use strict";var vge=Fr(),I1t=Vb().right,E1t=vge.aTypedArray,T1t=vge.exportTypedArrayMethod;T1t("reduceRight",function(t){var r=arguments.length;return I1t(E1t(this),t,r,r>1?arguments[1]:void 0)})});var bge=I(()=>{"use strict";var _ge=Fr(),C1t=_ge.aTypedArray,A1t=_ge.exportTypedArrayMethod,M1t=Math.floor;A1t("reverse",function(){for(var t=this,r=C1t(t).length,n=M1t(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var Tge=I(()=>{"use strict";var wge=Xt(),Sge=Lt(),B8=Fr(),P1t=Jr(),O1t=x8(),D1t=Zr(),Ige=yt(),k1t=wge.RangeError,F8=wge.Int8Array,xge=F8&&F8.prototype,Ege=xge&&xge.set,q1t=B8.aTypedArray,N1t=B8.exportTypedArrayMethod,j8=!Ige(function(){var e=new Uint8ClampedArray(2);return Sge(Ege,e,{length:1,0:3},1),e[1]!==3}),R1t=j8&&B8.NATIVE_ARRAY_BUFFER_VIEWS&&Ige(function(){var e=new F8(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});N1t("set",function(t){q1t(this);var r=O1t(arguments.length>1?arguments[1]:void 0,1),n=D1t(t);if(j8)return Sge(Ege,this,n,r);var i=this.length,o=P1t(n),u=0;if(o+r>i)throw new k1t("Wrong length");for(;u<o;)this[r+u]=n[u++]},!j8||R1t)});var Age=I(()=>{"use strict";var Cge=Fr(),L1t=xy(),z1t=yt(),F1t=dd(),j1t=Cge.aTypedArray,B1t=Cge.exportTypedArrayMethod,V1t=z1t(function(){new Int8Array(1).slice()});B1t("slice",function(t,r){for(var n=F1t(j1t(this),t,r),i=L1t(this),o=0,u=n.length,p=new i(u);u>o;)p[o]=n[o++];return p},V1t)});var Pge=I(()=>{"use strict";var Mge=Fr(),U1t=ji().some,$1t=Mge.aTypedArray,H1t=Mge.exportTypedArrayMethod;H1t("some",function(t){return U1t($1t(this),t,arguments.length>1?arguments[1]:void 0)})});var Rge=I(()=>{"use strict";var W1t=Xt(),G1t=ud(),V8=yt(),Z1t=xr(),Y1t=qT(),Nge=Fr(),Oge=OL(),K1t=DL(),Dge=Qu(),kge=NT(),X1t=Nge.aTypedArray,J1t=Nge.exportTypedArrayMethod,wx=W1t.Uint16Array,Sy=wx&&G1t(wx.prototype.sort),Q1t=!!Sy&&!(V8(function(){Sy(new wx(2),null)})&&V8(function(){Sy(new wx(2),{})})),qge=!!Sy&&!V8(function(){if(Dge)return Dge<74;if(Oge)return Oge<67;if(K1t)return!0;if(kge)return kge<602;var e=new wx(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(Sy(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),e_t=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};J1t("sort",function(t){return t!==void 0&&Z1t(t),qge?Sy(this,t):Y1t(X1t(this),e_t(t))},!qge||Q1t)});var Fge=I(()=>{"use strict";var zge=Fr(),t_t=ms(),Lge=Cl(),r_t=xy(),n_t=zge.aTypedArray,i_t=zge.exportTypedArrayMethod;i_t("subarray",function(t,r){var n=n_t(this),i=n.length,o=Lge(t,i),u=r_t(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,t_t((r===void 0?i:Lge(r,i))-o))})});var $ge=I(()=>{"use strict";var o_t=Xt(),a_t=ba(),Vge=Fr(),U8=yt(),jge=dd(),BC=o_t.Int8Array,Bge=Vge.aTypedArray,s_t=Vge.exportTypedArrayMethod,Uge=[].toLocaleString,l_t=!!BC&&U8(function(){Uge.call(new BC(1))}),u_t=U8(function(){return[1,2].toLocaleString()!==new BC([1,2]).toLocaleString()})||!U8(function(){BC.prototype.toLocaleString.call([1,2])});s_t("toLocaleString",function(){return a_t(Uge,l_t?jge(Bge(this)):Bge(this),jge(arguments))},u_t)});var H8=I(()=>{"use strict";var c_t=NL(),$8=Fr(),d_t=$8.aTypedArray,p_t=$8.exportTypedArrayMethod,f_t=$8.getTypedArrayConstructor;p_t("toReversed",function(){return c_t(d_t(this),f_t(this))})});var W8=I(()=>{"use strict";var VC=Fr(),h_t=it(),m_t=xr(),g_t=am(),v_t=VC.aTypedArray,y_t=VC.getTypedArrayConstructor,__t=VC.exportTypedArrayMethod,b_t=h_t(VC.TypedArrayPrototype.sort);__t("toSorted",function(t){t!==void 0&&m_t(t);var r=v_t(this),n=g_t(y_t(r),r);return b_t(n,t)})});var Wge=I(()=>{"use strict";var x_t=Fr().exportTypedArrayMethod,w_t=yt(),S_t=Xt(),I_t=it(),Hge=S_t.Uint8Array,E_t=Hge&&Hge.prototype||{},UC=[].toString,T_t=I_t([].join);w_t(function(){UC.call({})})&&(UC=function(){return T_t(this)});var C_t=E_t.toString!==UC;x_t("toString",UC,C_t)});var Z8=I(()=>{"use strict";var A_t=jL(),G8=Fr(),M_t=kC(),P_t=ui(),O_t=yx(),D_t=G8.aTypedArray,k_t=G8.getTypedArrayConstructor,q_t=G8.exportTypedArrayMethod,N_t=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();q_t("with",function(e,t){var r=D_t(this),n=P_t(e),i=M_t(r)?O_t(t):+t;return A_t(r,k_t(r),n,i)},!N_t)});var Xge=I(()=>{"use strict";var R_t=J(),Y8=it(),L_t=Sr(),Gge=String.fromCharCode,Zge=Y8("".charAt),Yge=Y8(/./.exec),Kge=Y8("".slice),z_t=/^[\da-f]{2}$/i,F_t=/^[\da-f]{4}$/i;R_t({global:!0},{unescape:function(t){for(var r=L_t(t),n="",i=r.length,o=0,u,p;o<i;){if(u=Zge(r,o++),u==="%"){if(Zge(r,o)==="u"){if(p=Kge(r,o+1,o+5),Yge(F_t,p)){n+=Gge(parseInt(p,16)),o+=5;continue}}else if(p=Kge(r,o,o+2),Yge(z_t,p)){n+=Gge(parseInt(p,16)),o+=2;continue}}n+=u}return n}})});var J8=I((Lvr,nve)=>{"use strict";var j_t=it(),Jge=Dl(),$C=vf().getWeakData,B_t=xa(),V_t=Ft(),U_t=$i(),K8=Cr(),$_t=Mi(),eve=ji(),Qge=zr(),tve=In(),H_t=tve.set,W_t=tve.getterFor,G_t=eve.find,Z_t=eve.findIndex,Y_t=j_t([].splice),K_t=0,HC=function(e){return e.frozen||(e.frozen=new rve)},rve=function(){this.entries=[]},X8=function(e,t){return G_t(e.entries,function(r){return r[0]===t})};rve.prototype={get:function(e){var t=X8(this,e);if(t)return t[1]},has:function(e){return!!X8(this,e)},set:function(e,t){var r=X8(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=Z_t(this.entries,function(r){return r[0]===e});return~t&&Y_t(this.entries,t,1),!!~t}};nve.exports={getConstructor:function(e,t,r,n){var i=e(function(h,y){B_t(h,o),H_t(h,{type:t,id:K_t++,frozen:void 0}),U_t(y)||$_t(y,h[n],{that:h,AS_ENTRIES:r})}),o=i.prototype,u=W_t(t),p=function(h,y,x){var E=u(h),T=$C(V_t(y),!0);return T===!0?HC(E).set(y,x):T[E.id]=x,h};return Jge(o,{delete:function(h){var y=u(this);if(!K8(h))return!1;var x=$C(h);return x===!0?HC(y).delete(h):x&&Qge(x,y.id)&&delete x[y.id]},has:function(y){var x=u(this);if(!K8(y))return!1;var E=$C(y);return E===!0?HC(x).has(y):E&&Qge(E,x.id)}}),Jge(o,r?{get:function(y){var x=u(this);if(K8(y)){var E=$C(y);return E===!0?HC(x).get(y):E?E[x.id]:void 0}},set:function(y,x){return p(this,y,x)}}:{add:function(y){return p(this,y,!0)}}),i}}});var fve=I(()=>{"use strict";var X_t=bd(),ive=Xt(),YC=it(),ove=Dl(),J_t=vf(),Q_t=Zb(),lve=J8(),WC=Cr(),GC=In().enforce,ebt=yt(),tbt=hR(),Ex=Object,rbt=Array.isArray,ZC=Ex.isExtensible,uve=Ex.isFrozen,nbt=Ex.isSealed,cve=Ex.freeze,ibt=Ex.seal,ave={},sve={},obt=!ive.ActiveXObject&&"ActiveXObject"in ive,Sx,dve=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},pve=Q_t("WeakMap",dve,lve),Iy=pve.prototype,KC=YC(Iy.set),abt=function(){return X_t&&ebt(function(){var e=cve([]);return KC(new pve,e,1),!uve(e)})};tbt&&(obt?(Sx=lve.getConstructor(dve,"WeakMap",!0),J_t.enable(),Q8=YC(Iy.delete),Ix=YC(Iy.has),e7=YC(Iy.get),ove(Iy,{delete:function(e){if(WC(e)&&!ZC(e)){var t=GC(this);return t.frozen||(t.frozen=new Sx),Q8(this,e)||t.frozen.delete(e)}return Q8(this,e)},has:function(t){if(WC(t)&&!ZC(t)){var r=GC(this);return r.frozen||(r.frozen=new Sx),Ix(this,t)||r.frozen.has(t)}return Ix(this,t)},get:function(t){if(WC(t)&&!ZC(t)){var r=GC(this);return r.frozen||(r.frozen=new Sx),Ix(this,t)?e7(this,t):r.frozen.get(t)}return e7(this,t)},set:function(t,r){if(WC(t)&&!ZC(t)){var n=GC(this);n.frozen||(n.frozen=new Sx),Ix(this,t)?KC(this,t,r):n.frozen.set(t,r)}else KC(this,t,r);return this}})):abt()&&ove(Iy,{set:function(t,r){var n;return rbt(t)&&(uve(t)?n=ave:nbt(t)&&(n=sve)),KC(this,t,r),n===ave&&cve(t),n===sve&&ibt(t),this}}));var Q8,Ix,e7});var XC=I(()=>{"use strict";fve()});var hve=I(()=>{"use strict";var sbt=Zb(),lbt=J8();sbt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},lbt)});var mve=I(()=>{"use strict";hve()});var gve=I(()=>{"use strict";aL()});var yve=I(()=>{"use strict";var ubt=J(),cbt=_a(),dbt=Wi(),QC=Pl(),pbt=jv(),vve=Fi(),JC=Hi(),t7=hs(),fbt=_T(),hbt=rm(),mbt=hr(),gbt=mbt("toStringTag"),eA=Error,Ey=function(t,r,n){var i=cbt(r7,this),o;return QC?o=QC(new eA,i?dbt(this):r7):(o=i?this:vve(r7),JC(o,gbt,"Error")),n!==void 0&&JC(o,"message",hbt(n)),fbt(o,Ey,o.stack,1),JC(o,"error",t),JC(o,"suppressed",r),o};QC?QC(Ey,eA):pbt(Ey,eA,{name:!0});var r7=Ey.prototype=vve(eA.prototype,{constructor:t7(1,Ey),message:t7(1,""),name:t7(1,"SuppressedError")});ubt({global:!0,constructor:!0,arity:3},{SuppressedError:Ey})});var Ty=I((Kvr,Tve)=>{"use strict";var Sve=Xt(),Ive=_b(),Eve=Tr(),vbt=Fi(),tA=Wi(),ybt=On(),_bt=hr(),bbt=Gr(),_ve="USE_FUNCTION_CONSTRUCTOR",bve=_bt("asyncIterator"),xve=Sve.AsyncIterator,wve=Ive.AsyncIteratorPrototype,lc,n7;if(wve)lc=wve;else if(Eve(xve))lc=xve.prototype;else if(Ive[_ve]||Sve[_ve])try{n7=tA(tA(tA(Function("return async function*(){}()")()))),tA(n7)===Object.prototype&&(lc=n7)}catch(e){}lc?bbt&&(lc=vbt(lc)):lc={};Eve(lc[bve])||ybt(lc,bve,function(){return this});Tve.exports=lc});var Tx=I((Xvr,Nve)=>{"use strict";var Cve=Lt(),Ave=Ft(),xbt=Fi(),wbt=zi(),Sbt=Dl(),Ove=In(),Ibt=br(),Ebt=Ty(),Dve=Bo(),i7=Ibt("Promise"),kve="AsyncFromSyncIterator",Tbt=Ove.set,Mve=Ove.getterFor(kve),Pve=function(e,t,r){var n=e.done;i7.resolve(e.value).then(function(i){t(Dve(i,n))},r)},qve=function(t){t.type=kve,Tbt(this,t)};qve.prototype=Sbt(xbt(Ebt),{next:function(){var t=Mve(this);return new i7(function(r,n){var i=Ave(Cve(t.next,t.iterator));Pve(i,r,n)})},return:function(){var e=Mve(this).iterator;return new i7(function(t,r){var n=wbt(e,"return");if(n===void 0)return t(Dve(void 0,!0));var i=Ave(Cve(n,e));Pve(i,t,r)})}});Nve.exports=qve});var _i=I((Jvr,Rve)=>{"use strict";Rve.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var zve=I((Qvr,Lve)=>{"use strict";var Cbt=Lt(),Abt=Tx(),Mbt=Ft(),Pbt=sf(),Obt=_i(),Dbt=zi(),kbt=hr(),qbt=kbt("asyncIterator");Lve.exports=function(e,t){var r=arguments.length<2?Dbt(e,qbt):t;return r?Mbt(Cbt(r,e)):new Abt(Obt(Pbt(e)))}});var Cy=I((eyr,Fve)=>{"use strict";var Nbt=Lt(),Rbt=br(),Lbt=zi();Fve.exports=function(e,t,r,n){try{var i=Lbt(e,"return");if(i)return Rbt("Promise").resolve(Nbt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var _m=I((tyr,jve)=>{"use strict";var zbt=Lt(),Fbt=xr(),o7=Ft(),jbt=Cr(),Bbt=lf(),Vbt=br(),Ubt=_i(),a7=Cy(),Cx=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,u,p){o7(o);var h=u!==void 0;(h||!t)&&Fbt(u);var y=Ubt(o),x=Vbt("Promise"),E=y.iterator,T=y.next,D=0;return new x(function(z,F){var q=function(B){a7(E,F,B,F)},N=function(){try{if(h)try{Bbt(D)}catch(B){q(B)}x.resolve(o7(zbt(T,E))).then(function(B){try{if(o7(B).done)t?(p.length=D,z(p)):z(i?!1:n||void 0);else{var Z=B.value;try{if(h){var ee=u(Z,D),ae=function(ue){if(r)N();else if(n)ue?N():a7(E,z,!1,F);else if(t)try{p[D++]=ue,N()}catch(ve){q(ve)}else ue?a7(E,z,i||Z,F):N()};jbt(ee)?x.resolve(ee).then(ae,q):ae(ee)}else p[D++]=Z,N()}catch(ue){q(ue)}}}catch(ue){F(ue)}},F)}catch(B){F(B)}};N()})}};jve.exports={toArray:Cx(0),forEach:Cx(1),every:Cx(2),some:Cx(3),find:Cx(4)}});var s7=I((ryr,$ve)=>{"use strict";var $bt=jn(),Bve=it(),Hbt=Zr(),Wbt=yu(),Gbt=zve(),Zbt=sf(),Ybt=_i(),Kbt=fd(),Xbt=zi(),Jbt=LL(),Qbt=br(),ext=hr(),txt=Tx(),rxt=_m().toArray,nxt=ext("asyncIterator"),Vve=Bve(Jbt("Array").values),ixt=Bve(Vve([]).next),oxt=function(){return new Uve(this)},Uve=function(e){this.iterator=Vve(e)};Uve.prototype.next=function(){return ixt(this.iterator)};$ve.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(Qbt("Promise"))(function(u){var p=Hbt(t);i!==void 0&&(i=$bt(i,o));var h=Xbt(p,nxt),y=h?void 0:Kbt(p)||oxt,x=Wbt(r)?new r:[],E=h?Gbt(p,h):new txt(Ybt(Zbt(p,y)));u(rxt(E,i,x))})}});var Hve=I(()=>{"use strict";var axt=J(),sxt=s7();axt({target:"Array",stat:!0},{fromAsync:sxt})});var Wve=I(()=>{"use strict";cL()});var Gve=I(()=>{"use strict";var lxt=J(),uxt=ji().filterReject,cxt=Ei();lxt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return uxt(this,t,arguments.length>1?arguments[1]:void 0)}});cxt("filterOut")});var Zve=I(()=>{"use strict";var dxt=J(),pxt=ji().filterReject,fxt=Ei();dxt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return pxt(this,t,arguments.length>1?arguments[1]:void 0)}});fxt("filterReject")});var Yve=I(()=>{"use strict";mL()});var Kve=I(()=>{"use strict";gL()});var rA=I((myr,Xve)=>{"use strict";var hxt=jn(),mxt=it(),gxt=ad(),vxt=Zr(),yxt=mu(),_xt=Jr(),bxt=Fi(),xxt=am(),wxt=Array,Sxt=mxt([].push);Xve.exports=function(e,t,r,n){for(var i=vxt(e),o=gxt(i),u=hxt(t,r),p=bxt(null),h=_xt(o),y=0,x,E,T;h>y;y++)T=o[y],E=yxt(u(T,y,i)),E in p?Sxt(p[E],T):p[E]=[T];if(n&&(x=n(i),x!==wxt))for(E in p)p[E]=xxt(x,p[E]);return p}});var Jve=I(()=>{"use strict";var Ixt=J(),Ext=rA(),Txt=Ei();Ixt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return Ext(this,t,r)}});Txt("group")});var Qve=I(()=>{"use strict";var Cxt=J(),Axt=rA(),Mxt=Ol(),Pxt=Ei();Cxt({target:"Array",proto:!0,forced:!Mxt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return Axt(this,t,r)}});Pxt("groupBy")});var Ha=I((byr,eye)=>{"use strict";var nA=it(),Ax=Map.prototype;eye.exports={Map,set:nA(Ax.set),get:nA(Ax.get),has:nA(Ax.has),remove:nA(Ax.delete),proto:Ax}});var l7=I((xyr,tye)=>{"use strict";var Oxt=jn(),Dxt=it(),kxt=ad(),qxt=Zr(),Nxt=Jr(),iA=Ha(),Rxt=iA.Map,Lxt=iA.get,zxt=iA.has,Fxt=iA.set,jxt=Dxt([].push);tye.exports=function(t){for(var r=qxt(this),n=kxt(r),i=Oxt(t,arguments.length>1?arguments[1]:void 0),o=new Rxt,u=Nxt(n),p=0,h,y;u>p;p++)y=n[p],h=i(y,p,r),zxt(o,h)?jxt(Lxt(o,h),y):Fxt(o,h,[y]);return o}});var rye=I(()=>{"use strict";var Bxt=J(),Vxt=Ol(),Uxt=Ei(),$xt=l7(),Hxt=Gr();Bxt({target:"Array",proto:!0,name:"groupToMap",forced:Hxt||!Vxt("groupByToMap")},{groupByToMap:$xt});Uxt("groupByToMap")});var nye=I(()=>{"use strict";var Wxt=J(),Gxt=Ei(),Zxt=l7(),Yxt=Gr();Wxt({target:"Array",proto:!0,forced:Yxt},{groupToMap:Zxt});Gxt("groupToMap")});var aye=I(()=>{"use strict";var Kxt=J(),Xxt=vu(),iye=Object.isFrozen,oye=function(e,t){if(!iye||!Xxt(e)||!iye(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};Kxt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!oye(t,!0))return!1;var r=t.raw;return r.length===t.length&&oye(r,!1)}})});var sye=I(()=>{"use strict";var Jxt=fr(),Qxt=Ei(),ewt=Zr(),twt=Jr(),rwt=yi();Jxt&&(rwt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=ewt(this),r=twt(t);return r===0?0:r-1}}),Qxt("lastIndex"))});var cye=I(()=>{"use strict";var nwt=fr(),iwt=Ei(),lye=Zr(),uye=Jr(),owt=yi();nwt&&(owt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=lye(this),r=uye(t);return r===0?void 0:t[r-1]},set:function(t){var r=lye(this),n=uye(r);return r[n===0?0:n-1]=t}}),iwt("lastItem"))});var dye=I(()=>{"use strict";RL()});var pye=I(()=>{"use strict";zL()});var fye=I(()=>{"use strict";FL()});var wd=I((zyr,hye)=>{"use strict";var awt=Lt();hye.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,u;!(o=awt(i,n)).done;)if(u=t(o.value),u!==void 0)return u}});var Nl=I((Fyr,_ye)=>{"use strict";var mye=it(),swt=wd(),gye=Ha(),lwt=gye.Map,vye=gye.proto,uwt=mye(vye.forEach),yye=mye(vye.entries),cwt=yye(new lwt).next;_ye.exports=function(e,t,r){return r?swt({iterator:yye(e),next:cwt},function(n){return t(n[1],n[0])}):uwt(e,t)}});var oA=I((jyr,bye)=>{"use strict";var dwt=it(),pwt=xr(),fwt=$i(),hwt=Jr(),mwt=Zr(),u7=Ha(),gwt=Nl(),vwt=u7.Map,ywt=u7.has,_wt=u7.set,bwt=dwt([].push);bye.exports=function(t){var r=mwt(this),n=hwt(r),i=[],o=new vwt,u=fwt(t)?function(x){return x}:pwt(t),p,h,y;for(p=0;p<n;p++)h=r[p],y=u(h),ywt(o,y)||_wt(o,y,h);return gwt(o,function(x){bwt(i,x)}),i}});var xye=I(()=>{"use strict";var xwt=J(),wwt=Ei(),Swt=oA();xwt({target:"Array",proto:!0,forced:!0},{uniqueBy:Swt});wwt("uniqueBy")});var wye=I(()=>{"use strict";BL()});var c7=I((Hyr,Sye)=>{"use strict";var Iwt=Nb(),Ewt=jo(),Twt=TypeError;Sye.exports=Iwt(ArrayBuffer.prototype,"byteLength","get")||function(e){if(Ewt(e)!=="ArrayBuffer")throw new Twt("ArrayBuffer expected");return e.byteLength}});var d7=I((Wyr,Iye)=>{"use strict";var Cwt=it(),Awt=c7(),Mwt=Cwt(ArrayBuffer.prototype.slice);Iye.exports=function(e){if(Awt(e)!==0)return!1;try{return Mwt(e,0,0),!1}catch(t){return!0}}});var Tye=I(()=>{"use strict";var Pwt=fr(),Owt=yi(),Dwt=d7(),Eye=ArrayBuffer.prototype;Pwt&&!("detached"in Eye)&&Owt(Eye,"detached",{configurable:!0,get:function(){return Dwt(this)}})});var p7=I((Yyr,Cye)=>{"use strict";var kwt=rc();Cye.exports=function(e){try{if(kwt)return Function("return require(\""+e+"\")")()}catch(t){}}});var aA=I((Kyr,Mye)=>{"use strict";var qwt=Xt(),Nwt=yt(),f7=Qu(),Rwt=pz(),Lwt=dC(),zwt=rc(),Aye=qwt.structuredClone;Mye.exports=!!Aye&&!Nwt(function(){if(Lwt&&f7>92||zwt&&f7>94||Rwt&&f7>97)return!1;var e=new ArrayBuffer(8),t=Aye(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var kye=I((Xyr,Dye)=>{"use strict";var v7=Xt(),Fwt=p7(),jwt=aA(),Bwt=v7.structuredClone,Pye=v7.ArrayBuffer,sA=v7.MessageChannel,g7=!1,h7,Oye,lA,m7;if(jwt)g7=function(e){Bwt(e,{transfer:[e]})};else if(Pye)try{sA||(h7=Fwt("worker_threads"),h7&&(sA=h7.MessageChannel)),sA&&(Oye=new sA,lA=new Pye(2),m7=function(e){Oye.port1.postMessage(null,[e])},lA.byteLength===2&&(m7(lA),lA.byteLength===0&&(g7=m7)))}catch(e){}Dye.exports=g7});var cA=I((Jyr,jye)=>{"use strict";var uA=Xt(),b7=it(),Lye=Nb(),Vwt=Gv(),Uwt=d7(),$wt=c7(),qye=kye(),y7=aA(),Hwt=uA.structuredClone,zye=uA.ArrayBuffer,_7=uA.DataView,Wwt=uA.TypeError,Gwt=Math.min,x7=zye.prototype,Fye=_7.prototype,Zwt=b7(x7.slice),Nye=Lye(x7,"resizable","get"),Rye=Lye(x7,"maxByteLength","get"),Ywt=b7(Fye.getInt8),Kwt=b7(Fye.setInt8);jye.exports=(y7||qye)&&function(e,t,r){var n=$wt(e),i=t===void 0?n:Vwt(t),o=!Nye||!Nye(e),u;if(Uwt(e))throw new Wwt("ArrayBuffer is detached");if(y7&&(e=Hwt(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))u=Zwt(e,0,i);else{var p=r&&!o&&Rye?{maxByteLength:Rye(e)}:void 0;u=new zye(i,p);for(var h=new _7(e),y=new _7(u),x=Gwt(i,n),E=0;E<x;E++)Kwt(y,E,Ywt(h,E))}return y7||qye(e),u}});var Vye=I(()=>{"use strict";var Xwt=J(),Bye=cA();Bye&&Xwt({target:"ArrayBuffer",proto:!0},{transfer:function(){return Bye(this,arguments.length?arguments[0]:void 0,!0)}})});var $ye=I(()=>{"use strict";var Jwt=J(),Uye=cA();Uye&&Jwt({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Uye(this,arguments.length?arguments[0]:void 0,!1)}})});var S7=I((n0r,Yye)=>{"use strict";var Qwt=Lt(),eSt=it(),tSt=jn(),rSt=Ft(),nSt=xr(),Gye=$i(),w7=zi(),Zye=hr(),iSt=Zye("asyncDispose"),Hye=Zye("dispose"),oSt=eSt([].push),aSt=function(e,t){if(t==="async-dispose"){var r=w7(e,iSt);return r!==void 0?r:(r=w7(e,Hye),function(){Qwt(r,this)})}return w7(e,Hye)},Wye=function(e,t,r){return arguments.length<3&&!Gye(e)&&(r=nSt(aSt(rSt(e),t))),r===void 0?function(){}:tSt(r,e)};Yye.exports=function(e,t,r,n){var i;if(arguments.length<4){if(Gye(t)&&r==="sync-dispose")return;i=Wye(t,r)}else i=Wye(void 0,r,n);oSt(e.stack,i)}});var r0e=I(()=>{"use strict";var sSt=J(),pA=fr(),Jye=br(),Kye=xr(),lSt=xa(),Qye=On(),uSt=Dl(),cSt=yi(),e0e=hr(),t0e=In(),I7=S7(),Xye=Jye("Promise"),dSt=Jye("SuppressedError"),pSt=ReferenceError,fSt=e0e("asyncDispose"),hSt=e0e("toStringTag"),hA="AsyncDisposableStack",mSt=t0e.set,fA=t0e.getterFor(hA),E7="async-dispose",Mx="disposed",gSt="pending",dA=function(e){var t=fA(e);if(t.state===Mx)throw new pSt(hA+" already disposed");return t},T7=function(){mSt(lSt(this,Ay),{type:hA,state:gSt,stack:[]}),pA||(this.disposed=!1)},Ay=T7.prototype;uSt(Ay,{disposeAsync:function(){var t=this;return new Xye(function(r,n){var i=fA(t);if(i.state===Mx)return r(void 0);i.state=Mx,pA||(t.disposed=!0);var o=i.stack,u=o.length,p=!1,h,y=function(E){p?h=new dSt(E,h):(p=!0,h=E),x()},x=function(){if(u){var E=o[--u];o[u]=null;try{Xye.resolve(E()).then(x,y)}catch(T){y(T)}}else i.stack=null,p?n(h):r(void 0)};x()})},use:function(t){return I7(dA(this),t,E7),t},adopt:function(t,r){var n=dA(this);return Kye(r),I7(n,void 0,E7,function(){return r(t)}),t},defer:function(t){var r=dA(this);Kye(t),I7(r,void 0,E7,t)},move:function(){var t=dA(this),r=new T7;return fA(r).stack=t.stack,t.stack=[],t.state=Mx,pA||(this.disposed=!0),r}});pA&&cSt(Ay,"disposed",{configurable:!0,get:function(){return fA(this).state===Mx}});Qye(Ay,fSt,Ay.disposeAsync,{name:"disposeAsync"});Qye(Ay,hSt,hA,{nonWritable:!0});sSt({global:!0,constructor:!0},{AsyncDisposableStack:T7})});var s0e=I(()=>{"use strict";var vSt=J(),ySt=xa(),_St=Wi(),i0e=Hi(),o0e=zr(),bSt=hr(),wf=Ty(),a0e=Gr(),n0e=bSt("toStringTag"),xSt=TypeError,C7=function(){if(ySt(this,wf),_St(this)===wf)throw new xSt("Abstract class AsyncIterator not directly constructable")};C7.prototype=wf;o0e(wf,n0e)||i0e(wf,n0e,"AsyncIterator");(a0e||!o0e(wf,"constructor")||wf.constructor===Object)&&i0e(wf,"constructor",C7);vSt({global:!0,constructor:!0,forced:a0e},{AsyncIterator:C7})});var bm=I((l0r,m0e)=>{"use strict";var wSt=Lt(),mA=yf(),l0e=Ft(),SSt=Fi(),ISt=Hi(),ESt=Dl(),TSt=hr(),c0e=In(),CSt=br(),ASt=zi(),MSt=Ty(),A7=Bo(),u0e=hd(),uc=CSt("Promise"),PSt=TSt("toStringTag"),d0e="AsyncIteratorHelper",p0e="WrapForValidAsyncIterator",OSt=c0e.set,f0e=function(e){var t=!e,r=c0e.getterFor(e?p0e:d0e),n=function(i){var o=mA(function(){return r(i)}),u=o.error,p=o.value;return u||t&&p.done?{exit:!0,value:u?uc.reject(p):uc.resolve(A7(void 0,!0))}:{exit:!1,value:p}};return ESt(SSt(MSt),{next:function(){var o=n(this),u=o.value;if(o.exit)return u;var p=mA(function(){return l0e(u.nextHandler(uc))}),h=p.error,y=p.value;return h&&(u.done=!0),h?uc.reject(y):uc.resolve(y)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var u=o.iterator,p,h,y=mA(function(){if(o.inner)try{u0e(o.inner.iterator,"normal")}catch(x){return u0e(u,"throw",x)}return ASt(u,"return")});return p=h=y.value,y.error?uc.reject(h):p===void 0?uc.resolve(A7(void 0,!0)):(y=mA(function(){return wSt(p,u)}),h=y.value,y.error?uc.reject(h):e?uc.resolve(h):uc.resolve(h).then(function(x){return l0e(x),A7(void 0,!0)}))}})},DSt=f0e(!0),h0e=f0e(!1);ISt(h0e,PSt,"Async Iterator Helper");m0e.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?p0e:d0e,o.nextHandler=e,o.counter=0,o.done=!1,OSt(this,o)};return r.prototype=t?DSt:h0e,r}});var P7=I((u0r,v0e)=>{"use strict";var kSt=Lt(),qSt=xr(),M7=Ft(),NSt=Cr(),RSt=_i(),LSt=bm(),g0e=Bo(),zSt=Cy(),FSt=LSt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(h){t.done=!0,o(h)},p=function(h){zSt(r,u,h,u)};e.resolve(M7(kSt(t.next,r))).then(function(h){try{if(M7(h).done)t.done=!0,i(g0e(void 0,!0));else{var y=h.value;try{var x=n(y,t.counter++),E=function(T){i(g0e(T,!1))};NSt(x)?e.resolve(x).then(E,p):E(x)}catch(T){p(T)}}}catch(T){u(T)}},u)})});v0e.exports=function(t){return M7(this),qSt(t),new FSt(RSt(this),{mapper:t})}});var O7=I((c0r,y0e)=>{"use strict";var jSt=Lt(),BSt=P7(),VSt=function(e,t){return[t,e]};y0e.exports=function(){return jSt(BSt,this,VSt)}});var _0e=I(()=>{"use strict";var USt=J(),$St=O7();USt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:$St})});var S0e=I(()=>{"use strict";var HSt=Lt(),WSt=On(),GSt=br(),ZSt=zi(),YSt=zr(),KSt=hr(),b0e=Ty(),x0e=KSt("asyncDispose"),w0e=GSt("Promise");YSt(b0e,x0e)||WSt(b0e,x0e,function(){var e=this;return new w0e(function(t,r){var n=ZSt(e,"return");n?w0e.resolve(HSt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var Px=I((m0r,I0e)=>{"use strict";var XSt=RangeError;I0e.exports=function(e){if(e===e)return e;throw new XSt("NaN is not allowed")}});var T0e=I(()=>{"use strict";var JSt=J(),QSt=Lt(),D7=Ft(),e2t=_i(),t2t=Px(),r2t=_y(),n2t=bm(),E0e=Bo(),i2t=Gr(),o2t=n2t(function(e){var t=this;return new e(function(r,n){var i=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(D7(QSt(t.next,t.iterator))).then(function(u){try{D7(u).done?(t.done=!0,r(E0e(void 0,!0))):t.remaining?(t.remaining--,o()):r(E0e(u.value,!1))}catch(p){i(p)}},i)}catch(u){i(u)}};o()})});JSt({target:"AsyncIterator",proto:!0,real:!0,forced:i2t},{drop:function(t){D7(this);var r=r2t(t2t(+t));return new o2t(e2t(this),{remaining:r})}})});var C0e=I(()=>{"use strict";var a2t=J(),s2t=_m().every;a2t({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return s2t(this,t)}})});var M0e=I(()=>{"use strict";var l2t=J(),u2t=Lt(),c2t=xr(),k7=Ft(),d2t=Cr(),p2t=_i(),f2t=bm(),A0e=Bo(),h2t=Cy(),m2t=Gr(),g2t=f2t(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var u=function(y){t.done=!0,o(y)},p=function(y){h2t(r,u,y,u)},h=function(){try{e.resolve(k7(u2t(t.next,r))).then(function(y){try{if(k7(y).done)t.done=!0,i(A0e(void 0,!0));else{var x=y.value;try{var E=n(x,t.counter++),T=function(D){D?i(A0e(x,!1)):h()};d2t(E)?e.resolve(E).then(T,p):T(E)}catch(D){p(D)}}}catch(D){u(D)}},u)}catch(y){u(y)}};h()})});l2t({target:"AsyncIterator",proto:!0,real:!0,forced:m2t},{filter:function(t){return k7(this),c2t(t),new g2t(p2t(this),{predicate:t})}})});var P0e=I(()=>{"use strict";var v2t=J(),y2t=_m().find;v2t({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return y2t(this,t)}})});var q7=I((I0r,k0e)=>{"use strict";var _2t=Lt(),b2t=Tr(),O0e=Ft(),D0e=_i(),x2t=fd(),w2t=zi(),S2t=hr(),I2t=Tx(),E2t=S2t("asyncIterator");k0e.exports=function(t){var r=O0e(t),n=!0,i=w2t(r,E2t),o;return b2t(i)||(i=x2t(r),n=!1),i!==void 0?o=_2t(i,r):(o=r,n=!0),O0e(o),D0e(n?o:new I2t(D0e(o)))}});var R0e=I(()=>{"use strict";var T2t=J(),q0e=Lt(),C2t=xr(),Ox=Ft(),A2t=Cr(),M2t=_i(),P2t=bm(),N0e=Bo(),O2t=q7(),D2t=Cy(),k2t=Gr(),q2t=P2t(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(x){t.done=!0,o(x)},p=function(x){D2t(r,u,x,u)},h=function(){try{e.resolve(Ox(q0e(t.next,r))).then(function(x){try{if(Ox(x).done)t.done=!0,i(N0e(void 0,!0));else{var E=x.value;try{var T=n(E,t.counter++),D=function(z){try{t.inner=O2t(z),y()}catch(F){p(F)}};A2t(T)?e.resolve(T).then(D,p):D(T)}catch(z){p(z)}}}catch(z){u(z)}},u)}catch(x){u(x)}},y=function(){var x=t.inner;if(x)try{e.resolve(Ox(q0e(x.next,x.iterator))).then(function(E){try{Ox(E).done?(t.inner=null,h()):i(N0e(E.value,!1))}catch(T){p(T)}},p)}catch(E){p(E)}else h()};y()})});T2t({target:"AsyncIterator",proto:!0,real:!0,forced:k2t},{flatMap:function(t){return Ox(this),C2t(t),new q2t(M2t(this),{mapper:t,inner:null})}})});var L0e=I(()=>{"use strict";var N2t=J(),R2t=_m().forEach;N2t({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return R2t(this,t)}})});var N7=I((M0r,z0e)=>{"use strict";var L2t=Lt(),z2t=bm();z0e.exports=z2t(function(){return L2t(this.next,this.iterator)},!0)});var F0e=I(()=>{"use strict";var F2t=J(),j2t=Zr(),B2t=_a(),V2t=q7(),U2t=Ty(),$2t=N7(),H2t=Gr();F2t({target:"AsyncIterator",stat:!0,forced:H2t},{from:function(t){var r=V2t(typeof t=="string"?j2t(t):t);return B2t(U2t,r.iterator)?r.iterator:new $2t(r)}})});var j0e=I(()=>{"use strict";var W2t=J(),G2t=O7();W2t({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:G2t})});var B0e=I(()=>{"use strict";var Z2t=J(),Y2t=P7(),K2t=Gr();Z2t({target:"AsyncIterator",proto:!0,real:!0,forced:K2t},{map:Y2t})});var V0e=I(()=>{"use strict";var X2t=J(),J2t=Lt(),Q2t=xr(),R7=Ft(),eIt=Cr(),tIt=br(),rIt=_i(),nIt=Cy(),L7=tIt("Promise"),iIt=TypeError;X2t({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){R7(this),Q2t(t);var r=rIt(this),n=r.iterator,i=r.next,o=arguments.length<2,u=o?void 0:arguments[1],p=0;return new L7(function(h,y){var x=function(T){nIt(n,y,T,y)},E=function(){try{L7.resolve(R7(J2t(i,n))).then(function(T){try{if(R7(T).done)o?y(new iIt("Reduce of empty iterator with no initial value")):h(u);else{var D=T.value;if(o)o=!1,u=D,E();else try{var z=t(u,D,p),F=function(q){u=q,E()};eIt(z)?L7.resolve(z).then(F,x):F(z)}catch(q){x(q)}}p++}catch(q){y(q)}},y)}catch(T){y(T)}};E()})}})});var U0e=I(()=>{"use strict";var oIt=J(),aIt=_m().some;oIt({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return aIt(this,t)}})});var W0e=I(()=>{"use strict";var sIt=J(),$0e=Lt(),H0e=Ft(),lIt=_i(),uIt=Px(),cIt=_y(),dIt=bm(),z7=Bo(),pIt=Gr(),fIt=dIt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=z7(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve($0e(n,r,void 0)).then(function(){return i}):i}return e.resolve($0e(t.next,r)).then(function(o){return H0e(o).done?(t.done=!0,z7(void 0,!0)):z7(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});sIt({target:"AsyncIterator",proto:!0,real:!0,forced:pIt},{take:function(t){H0e(this);var r=cIt(uIt(+t));return new fIt(lIt(this),{remaining:r})}})});var G0e=I(()=>{"use strict";var hIt=J(),mIt=_m().toArray;hIt({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return mIt(this,void 0,[])}})});var vA=I(($0r,Q0e)=>{"use strict";var Y0e=In(),gIt=uf(),F7=Bo(),vIt=$i(),yIt=Cr(),_It=yi(),K0e=fr(),Dx="Incorrect Iterator.range arguments",B7="NumericRangeIterator",bIt=Y0e.set,X0e=Y0e.getterFor(B7),Z0e=RangeError,j7=TypeError,J0e=gIt(function(t,r,n,i,o,u){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new j7(Dx);if(t===1/0||t===-1/0)throw new Z0e(Dx);var p=r>t,h=!1,y;if(n===void 0)y=void 0;else if(yIt(n))y=n.step,h=!!n.inclusive;else if(typeof n==i)y=n;else throw new j7(Dx);if(vIt(y)&&(y=p?u:-u),typeof y!=i)throw new j7(Dx);if(y===1/0||y===-1/0||y===o&&t!==r)throw new Z0e(Dx);var x=t!==t||r!==r||y!==y||r>t!=y>o;bIt(this,{type:B7,start:t,end:r,step:y,inclusive:h,hitsEnd:x,currentCount:o,zero:o}),K0e||(this.start=t,this.end=r,this.step=y,this.inclusive=h)},B7,function(){var t=X0e(this);if(t.hitsEnd)return F7(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var u=t.inclusive,p;return n>r?p=u?o>n:o>=n:p=u?n>o:n>=o,p?(t.hitsEnd=!0,F7(void 0,!0)):F7(o,!1)}),gA=function(e){_It(J0e.prototype,e,{get:function(){return X0e(this)[e]},set:function(){},configurable:!0,enumerable:!1})};K0e&&(gA("start"),gA("end"),gA("inclusive"),gA("step"));Q0e.exports=J0e});var e1e=I(()=>{"use strict";var xIt=J(),wIt=vA();typeof BigInt=="function"&&xIt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new wIt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var V7=I((G0r,i1e)=>{"use strict";rC();XC();var n1e=br(),SIt=Fi(),t1e=Cr(),IIt=Object,EIt=TypeError,TIt=n1e("Map"),CIt=n1e("WeakMap"),yA=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=SIt(null)};yA.prototype.get=function(e,t){return this[e]||(this[e]=t())};yA.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new CIt):this.primitives||(this.primitives=new TIt),i=n.get(t);return i||n.set(t,i=new yA),i};var r1e=new yA;i1e.exports=function(){var e=r1e,t=arguments.length,r,n;for(r=0;r<t;r++)t1e(n=arguments[r])&&(e=e.next(r,n,!0));if(this===IIt&&e===r1e)throw new EIt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)t1e(n=arguments[r])||(e=e.next(r,n,!1));return e}});var a1e=I(()=>{"use strict";var AIt=J(),MIt=ba(),PIt=V7(),OIt=br(),o1e=Fi(),DIt=Object,kIt=function(){var e=OIt("Object","freeze");return e?e(o1e(null)):o1e(null)};AIt({global:!0,forced:!0},{compositeKey:function(){return MIt(PIt,DIt,arguments).get("object",kIt)}})});var l1e=I(()=>{"use strict";var qIt=J(),NIt=V7(),s1e=br(),RIt=ba();qIt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?s1e("Symbol").for(arguments[0]):RIt(NIt,null,arguments).get("symbol",s1e("Symbol"))}})});var u1e=I(()=>{"use strict";var LIt=J(),zIt=it(),FIt=FT().unpack,jIt=zIt(DataView.prototype.getUint16);LIt({target:"DataView",proto:!0},{getFloat16:function(t){var r=jIt(this,t,arguments.length>1?arguments[1]:!1);return FIt([r&255,r>>8&255],10)}})});var c1e=I(()=>{"use strict";var BIt=J(),VIt=it(),UIt=VIt(DataView.prototype.getUint8);BIt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return UIt(this,t)}})});var U7=I((r1r,d1e)=>{"use strict";var $It=VL(),HIt=.0009765625,WIt=65504,GIt=6103515625e-14;d1e.exports=Math.f16round||function(t){return $It(t,HIt,WIt,GIt)}});var p1e=I(()=>{"use strict";var ZIt=J(),YIt=it(),KIt=gs(),XIt=Gv(),JIt=FT().pack,QIt=U7(),eEt=TypeError,tEt=YIt(DataView.prototype.setUint16);ZIt({target:"DataView",proto:!0},{setFloat16:function(t,r){if(KIt(this)!=="DataView")throw new eEt("Incorrect receiver");var n=XIt(t),i=JIt(QIt(r),10,2);return tEt(this,n,i[1]<<8|i[0],arguments.length>2?arguments[2]:!1)}})});var f1e=I(()=>{"use strict";var rEt=J(),nEt=it(),iEt=gs(),oEt=Gv(),aEt=w8(),sEt=TypeError,lEt=nEt(DataView.prototype.setUint8);rEt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){if(iEt(this)!=="DataView")throw new sEt("Incorrect receiver");var n=oEt(t);return lEt(this,n,aEt(r))}})});var y1e=I(()=>{"use strict";var uEt=J(),bA=fr(),cEt=br(),h1e=xr(),dEt=xa(),m1e=On(),pEt=Dl(),fEt=yi(),g1e=hr(),v1e=In(),$7=S7(),hEt=cEt("SuppressedError"),mEt=ReferenceError,gEt=g1e("dispose"),vEt=g1e("toStringTag"),wA="DisposableStack",yEt=v1e.set,xA=v1e.getterFor(wA),H7="sync-dispose",kx="disposed",_Et="pending",_A=function(e){var t=xA(e);if(t.state===kx)throw new mEt(wA+" already disposed");return t},W7=function(){yEt(dEt(this,My),{type:wA,state:_Et,stack:[]}),bA||(this.disposed=!1)},My=W7.prototype;pEt(My,{dispose:function(){var t=xA(this);if(t.state!==kx){t.state=kx,bA||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var u=r[--n];r[n]=null;try{u()}catch(p){i?o=new hEt(p,o):(i=!0,o=p)}}if(t.stack=null,i)throw o}},use:function(t){return $7(_A(this),t,H7),t},adopt:function(t,r){var n=_A(this);return h1e(r),$7(n,void 0,H7,function(){r(t)}),t},defer:function(t){var r=_A(this);h1e(t),$7(r,void 0,H7,t)},move:function(){var t=_A(this),r=new W7;return xA(r).stack=t.stack,t.stack=[],t.state=kx,bA||(this.disposed=!0),r}});bA&&fEt(My,"disposed",{configurable:!0,get:function(){return xA(this).state===kx}});m1e(My,gEt,My.dispose,{name:"dispose"});m1e(My,vEt,wA,{nonWritable:!0});uEt({global:!0,constructor:!0},{DisposableStack:W7})});var G7=I((u1r,_1e)=>{"use strict";var bEt=it(),xEt=xr();_1e.exports=function(){return bEt(xEt(this))}});var b1e=I(()=>{"use strict";var wEt=J(),SEt=G7();wEt({target:"Function",proto:!0,forced:!0},{demethodize:SEt})});var w1e=I(()=>{"use strict";var IEt=J(),EEt=it(),TEt=Tr(),CEt=wb(),AEt=zr(),MEt=fr(),PEt=Object.getOwnPropertyDescriptor,x1e=/^\s*class\b/,OEt=EEt(x1e.exec),DEt=function(e){try{if(!MEt||!OEt(x1e,CEt(e)))return!1}catch(r){}var t=PEt(e,"prototype");return!!t&&AEt(t,"writable")&&!t.writable};IEt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return TEt(t)&&!DEt(t)}})});var S1e=I(()=>{"use strict";var kEt=J(),qEt=yu();kEt({target:"Function",stat:!0,forced:!0},{isConstructor:qEt})});var T1e=I(()=>{"use strict";var NEt=hr(),REt=Qn().f,I1e=NEt("metadata"),E1e=Function.prototype;E1e[I1e]===void 0&&REt(E1e,I1e,{value:null})});var C1e=I(()=>{"use strict";var LEt=J(),zEt=G7();LEt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:zEt})});var A1e=I(()=>{"use strict";h6()});var k1e=I(()=>{"use strict";var FEt=J(),jEt=Xt(),BEt=xa(),VEt=Tr(),UEt=Wi(),P1e=Hi(),$Et=yt(),O1e=zr(),HEt=hr(),Sd=om().IteratorPrototype,WEt=Gr(),M1e=HEt("toStringTag"),GEt=TypeError,Z7=jEt.Iterator,D1e=WEt||!VEt(Z7)||Z7.prototype!==Sd||!$Et(function(){Z7({})}),Y7=function(){if(BEt(this,Sd),UEt(this)===Sd)throw new GEt("Abstract class Iterator not directly constructable")};O1e(Sd,M1e)||P1e(Sd,M1e,"Iterator");(D1e||!O1e(Sd,"constructor")||Sd.constructor===Object)&&P1e(Sd,"constructor",Y7);Y7.prototype=Sd;FEt({global:!0,constructor:!0,forced:D1e},{Iterator:Y7})});var xm=I((I1r,F1e)=>{"use strict";var ZEt=Lt(),YEt=Fi(),KEt=Hi(),XEt=Dl(),JEt=hr(),q1e=In(),QEt=zi(),eTt=om().IteratorPrototype,K7=Bo(),X7=hd(),tTt=JEt("toStringTag"),N1e="IteratorHelper",R1e="WrapForValidIterator",rTt=q1e.set,L1e=function(e){var t=q1e.getterFor(e?R1e:N1e);return XEt(YEt(eTt),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return K7(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=QEt(n,"return");return i?ZEt(i,n):K7(void 0,!0)}if(r.inner)try{X7(r.inner.iterator,"normal")}catch(o){return X7(n,"throw",o)}return X7(n,"normal"),K7(void 0,!0)}})},nTt=L1e(!0),z1e=L1e(!1);KEt(z1e,tTt,"Iterator Helper");F1e.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?R1e:N1e,o.nextHandler=e,o.counter=0,o.done=!1,rTt(this,o)};return r.prototype=t?nTt:z1e,r}});var J7=I((E1r,B1e)=>{"use strict";var iTt=Lt(),oTt=xr(),j1e=Ft(),aTt=_i(),sTt=xm(),lTt=AT(),uTt=sTt(function(){var e=this.iterator,t=j1e(iTt(this.next,e)),r=this.done=!!t.done;if(!r)return lTt(e,this.mapper,[t.value,this.counter++],!0)});B1e.exports=function(t){return j1e(this),oTt(t),new uTt(aTt(this),{mapper:t})}});var Q7=I((T1r,V1e)=>{"use strict";var cTt=Lt(),dTt=J7(),pTt=function(e,t){return[t,e]};V1e.exports=function(){return cTt(dTt,this,pTt)}});var U1e=I(()=>{"use strict";var fTt=J(),hTt=Q7();fTt({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:hTt})});var W1e=I(()=>{"use strict";var mTt=Lt(),gTt=On(),vTt=zi(),yTt=zr(),_Tt=hr(),$1e=om().IteratorPrototype,H1e=_Tt("dispose");yTt($1e,H1e)||gTt($1e,H1e,function(){var e=vTt(this,"return");e&&mTt(e,this)})});var Z1e=I(()=>{"use strict";var bTt=J(),G1e=Lt(),eF=Ft(),xTt=_i(),wTt=Px(),STt=_y(),ITt=xm(),ETt=Gr(),TTt=ITt(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=eF(G1e(t,e)),n=this.done=!!r.done,n)return;if(r=eF(G1e(t,e)),n=this.done=!!r.done,!n)return r.value});bTt({target:"Iterator",proto:!0,real:!0,forced:ETt},{drop:function(t){eF(this);var r=STt(wTt(+t));return new TTt(xTt(this),{remaining:r})}})});var Y1e=I(()=>{"use strict";var CTt=J(),ATt=Mi(),MTt=xr(),PTt=Ft(),OTt=_i();CTt({target:"Iterator",proto:!0,real:!0},{every:function(t){PTt(this),MTt(t);var r=OTt(this),n=0;return!ATt(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var X1e=I(()=>{"use strict";var DTt=J(),kTt=Lt(),qTt=xr(),K1e=Ft(),NTt=_i(),RTt=xm(),LTt=AT(),zTt=Gr(),FTt=RTt(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=K1e(kTt(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,LTt(e,t,[o,this.counter++],!0))return o}});DTt({target:"Iterator",proto:!0,real:!0,forced:zTt},{filter:function(t){return K1e(this),qTt(t),new FTt(NTt(this),{predicate:t})}})});var J1e=I(()=>{"use strict";var jTt=J(),BTt=Mi(),VTt=xr(),UTt=Ft(),$Tt=_i();jTt({target:"Iterator",proto:!0,real:!0},{find:function(t){UTt(this),VTt(t);var r=$Tt(this),n=0;return BTt(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var tF=I((F1r,e_e)=>{"use strict";var HTt=Lt(),Q1e=Ft(),WTt=_i(),GTt=fd();e_e.exports=function(e,t){(!t||typeof e!="string")&&Q1e(e);var r=GTt(e);return WTt(Q1e(r!==void 0?HTt(r,e):e))}});var n_e=I(()=>{"use strict";var ZTt=J(),t_e=Lt(),YTt=xr(),rF=Ft(),KTt=_i(),XTt=tF(),JTt=xm(),r_e=hd(),QTt=Gr(),eCt=JTt(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=rF(t_e(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){r_e(e,"throw",i)}if(r=rF(t_e(this.next,e)),this.done=!!r.done)return;try{this.inner=XTt(t(r.value,this.counter++),!1)}catch(i){r_e(e,"throw",i)}}});ZTt({target:"Iterator",proto:!0,real:!0,forced:QTt},{flatMap:function(t){return rF(this),YTt(t),new eCt(KTt(this),{mapper:t,inner:null})}})});var i_e=I(()=>{"use strict";var tCt=J(),rCt=Mi(),nCt=xr(),iCt=Ft(),oCt=_i();tCt({target:"Iterator",proto:!0,real:!0},{forEach:function(t){iCt(this),nCt(t);var r=oCt(this),n=0;rCt(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var o_e=I(()=>{"use strict";var aCt=J(),sCt=Lt(),lCt=Zr(),uCt=_a(),cCt=om().IteratorPrototype,dCt=xm(),pCt=tF(),fCt=Gr(),hCt=dCt(function(){return sCt(this.next,this.iterator)},!0);aCt({target:"Iterator",stat:!0,forced:fCt},{from:function(t){var r=pCt(typeof t=="string"?lCt(t):t,!0);return uCt(cCt,r.iterator)?r.iterator:new hCt(r)}})});var a_e=I(()=>{"use strict";var mCt=J(),gCt=Q7();mCt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:gCt})});var s_e=I(()=>{"use strict";var vCt=J(),yCt=J7(),_Ct=Gr();vCt({target:"Iterator",proto:!0,real:!0,forced:_Ct},{map:yCt})});var u_e=I(()=>{"use strict";var bCt=J(),l_e=vA(),xCt=TypeError;bCt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new l_e(t,r,n,"number",0,1);if(typeof t=="bigint")return new l_e(t,r,n,"bigint",BigInt(0),BigInt(1));throw new xCt("Incorrect Iterator.range arguments")}})});var c_e=I(()=>{"use strict";var wCt=J(),SCt=Mi(),ICt=xr(),ECt=Ft(),TCt=_i(),CCt=TypeError;wCt({target:"Iterator",proto:!0,real:!0},{reduce:function(t){ECt(this),ICt(t);var r=TCt(this),n=arguments.length<2,i=n?void 0:arguments[1],o=0;if(SCt(r,function(u){n?(n=!1,i=u):i=t(i,u,o),o++},{IS_RECORD:!0}),n)throw new CCt("Reduce of empty iterator with no initial value");return i}})});var d_e=I(()=>{"use strict";var ACt=J(),MCt=Mi(),PCt=xr(),OCt=Ft(),DCt=_i();ACt({target:"Iterator",proto:!0,real:!0},{some:function(t){OCt(this),PCt(t);var r=DCt(this),n=0;return MCt(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var f_e=I(()=>{"use strict";var kCt=J(),qCt=Lt(),p_e=Ft(),NCt=_i(),RCt=Px(),LCt=_y(),zCt=xm(),FCt=hd(),jCt=Gr(),BCt=zCt(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,FCt(e,"normal",void 0);var t=p_e(qCt(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});kCt({target:"Iterator",proto:!0,real:!0,forced:jCt},{take:function(t){p_e(this);var r=LCt(RCt(+t));return new BCt(NCt(this),{remaining:r})}})});var h_e=I(()=>{"use strict";var VCt=J(),UCt=Ft(),$Ct=Mi(),HCt=_i(),WCt=[].push;VCt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return $Ct(HCt(UCt(this)),WCt,{that:t,IS_RECORD:!0}),t}})});var g_e=I(()=>{"use strict";var GCt=J(),ZCt=Ft(),YCt=Tx(),KCt=N7(),m_e=_i(),XCt=Gr();GCt({target:"Iterator",proto:!0,real:!0,forced:XCt},{toAsync:function(){return new KCt(m_e(new YCt(m_e(ZCt(this)))))}})});var nF=I((l_r,v_e)=>{"use strict";var JCt=yt();v_e.exports=!JCt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var iF=I((u_r,y_e)=>{"use strict";var QCt=Cr(),eAt=In().get;y_e.exports=function(t){if(!QCt(t))return!1;var r=eAt(t);return!!r&&r.type==="RawJSON"}});var b_e=I(()=>{"use strict";var tAt=J(),rAt=nF(),nAt=iF();tAt({target:"JSON",stat:!0,forced:!rAt},{isRawJSON:nAt})});var aF=I((p_r,I_e)=>{"use strict";var oF=it(),iAt=zr(),SA=SyntaxError,oAt=parseInt,aAt=String.fromCharCode,sAt=oF("".charAt),x_e=oF("".slice),w_e=oF(/./.exec),S_e={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},lAt=/^[\da-f]{4}$/i,uAt=/^[\u0000-\u001F]$/;I_e.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=sAt(e,t);if(i==="\\"){var o=x_e(e,t,t+2);if(iAt(S_e,o))n+=S_e[o],t+=2;else if(o==="\\u"){t+=2;var u=x_e(e,t,t+4);if(!w_e(lAt,u))throw new SA("Bad Unicode escape at: "+t);n+=aAt(oAt(u,16)),t+=4}else throw new SA("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(w_e(uAt,i))throw new SA("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new SA("Unterminated string at: "+t);return{value:n,end:t}}});var D_e=I(()=>{"use strict";var cAt=J(),dAt=fr(),hF=Xt(),pAt=br(),IA=it(),fAt=Lt(),P_e=Tr(),hAt=Cr(),mAt=vu(),gAt=zr(),vAt=Sr(),E_e=Jr(),dF=Al(),O_e=yt(),yAt=aF(),_At=tf(),T_e=hF.JSON,bAt=hF.Number,Py=hF.SyntaxError,mF=T_e&&T_e.parse,xAt=pAt("Object","keys"),wAt=Object.getOwnPropertyDescriptor,Vo=IA("".charAt),sF=IA("".slice),lF=IA(/./.exec),C_e=IA([].push),uF=/^\d$/,SAt=/^[1-9]$/,IAt=/^(?:-|\d)$/,qx=/^[\t\n\r ]$/,cF=0,A_e=1,EAt=function(e,t){e=vAt(e);var r=new fF(e,0,""),n=r.parse(),i=n.value,o=r.skip(qx,n.end);if(o<e.length)throw new Py("Unexpected extra character: \""+Vo(e,o)+"\" after the parsed data at: "+o);return P_e(t)?pF({"":i},"",t,n):i},pF=function(e,t,r,n){var i=e[t],o=n&&i===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},p,h,y,x,E;if(hAt(i)){var T=mAt(i),D=o?n.nodes:T?[]:{};if(T)for(p=D.length,y=E_e(i),x=0;x<y;x++)M_e(i,x,pF(i,""+x,r,x<p?D[x]:void 0));else for(h=xAt(i),y=E_e(h),x=0;x<y;x++)E=h[x],M_e(i,E,pF(i,E,r,gAt(D,E)?D[E]:void 0))}return fAt(r,e,t,i,u)},M_e=function(e,t,r){if(dAt){var n=wAt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:dF(e,t,r)},TAt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},fF=function(e,t){this.source=e,this.index=t};fF.prototype={fork:function(e){return new fF(this.source,e)},parse:function(){var e=this.source,t=this.skip(qx,this.index),r=this.fork(t),n=Vo(e,t);if(lF(IAt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null);}throw new Py("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new TAt(t,n,e?null:sF(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),Vo(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(qx,t),o=this.fork(t).parse(),dF(i,u,o),dF(n,u,o.value),t=this.until([",","}"],o.end);var p=Vo(e,t);if(p===",")r=!0,t++;else if(p==="}"){t++;break}}return this.node(A_e,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(qx,t),Vo(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(C_e(i,o),C_e(n,o.value),t=this.until([",","]"],o.end),Vo(e,t)===",")r=!0,t++;else if(Vo(e,t)==="]"){t++;break}}return this.node(A_e,n,this.index,t,i)},string:function(){var e=this.index,t=yAt(this.source,this.index+1);return this.node(cF,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(Vo(e,r)==="-"&&r++,Vo(e,r)==="0")r++;else if(lF(SAt,Vo(e,r)))r=this.skip(uF,++r);else throw new Py("Failed to parse number at: "+r);if(Vo(e,r)==="."&&(r=this.skip(uF,++r)),Vo(e,r)==="e"||Vo(e,r)==="E"){r++,(Vo(e,r)==="+"||Vo(e,r)==="-")&&r++;var n=r;if(r=this.skip(uF,r),n===r)throw new Py("Failed to parse number's exponent value at: "+r)}return this.node(cF,bAt(sF(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(sF(this.source,r,n)!==t)throw new Py("Failed to parse value at: "+r);return this.node(cF,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&lF(e,Vo(r,t));t++);return t},until:function(e,t){t=this.skip(qx,t);for(var r=Vo(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new Py("Unexpected character: \""+r+"\" at: "+t)}};var CAt=O_e(function(){var e="9007199254740993",t;return mF(e,function(r,n,i){t=i.source}),t!==e}),AAt=_At&&!O_e(function(){return 1/mF("-0 \t")!==-1/0});cAt({target:"JSON",stat:!0,forced:CAt},{parse:function(t,r){return AAt&&!P_e(r)?mF(t):EAt(t,r)}})});var B_e=I(()=>{"use strict";var F_e=J(),MAt=bd(),j_e=nF(),EA=br(),PAt=Lt(),TA=it(),OAt=Tr(),DAt=iF(),kAt=Sr(),qAt=Al(),NAt=aF(),RAt=HR(),LAt=nf(),zAt=In().set,FAt=String,k_e=SyntaxError,jAt=EA("JSON","parse"),q_e=EA("JSON","stringify"),BAt=EA("Object","create"),VAt=EA("Object","freeze"),vF=TA("".charAt),gF=TA("".slice),N_e=TA(/./.exec),UAt=TA([].push),yF=LAt(),R_e=yF.length,L_e="Unacceptable as raw JSON",z_e=/^[\t\n\r ]$/;F_e({target:"JSON",stat:!0,forced:!j_e},{rawJSON:function(t){var r=kAt(t);if(r===""||N_e(z_e,vF(r,0))||N_e(z_e,vF(r,r.length-1)))throw new k_e(L_e);var n=jAt(r);if(typeof n=="object"&&n!==null)throw new k_e(L_e);var i=BAt(null);return zAt(i,{type:"RawJSON"}),qAt(i,"rawJSON",r),MAt?VAt(i):i}});q_e&&F_e({target:"JSON",stat:!0,arity:3,forced:!j_e},{stringify:function(t,r,n){var i=RAt(r),o=[],u=q_e(t,function(D,z){var F=OAt(i)?PAt(i,this,FAt(D),z):z;return DAt(F)?yF+(UAt(o,F.rawJSON)-1):F},n);if(typeof u!="string")return u;for(var p="",h=u.length,y=0;y<h;y++){var x=vF(u,y);if(x==="\""){var E=NAt(u,++y).end-1,T=gF(u,y,E);p+=gF(T,0,R_e)===yF?o[gF(T,R_e)]:"\""+T+"\"",y=E}else p+=x}return p}})});var Wa=I((v_r,V_e)=>{"use strict";var $At=Ha().has;V_e.exports=function(e){return $At(e),e}});var U_e=I(()=>{"use strict";var HAt=J(),WAt=Wa(),GAt=Ha().remove;HAt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=WAt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=GAt(t,arguments[i]),r=r&&n;return!!r}})});var H_e=I(()=>{"use strict";var ZAt=J(),YAt=Wa(),_F=Ha(),KAt=_F.get,XAt=_F.has,$_e=_F.set;ZAt({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=YAt(this),i,o;return XAt(n,t)?(i=KAt(n,t),"update"in r&&(i=r.update(i,t,n),$_e(n,t,i)),i):(o=r.insert(t,n),$_e(n,t,o),o)}})});var W_e=I(()=>{"use strict";var JAt=J(),QAt=jn(),eMt=Wa(),tMt=Nl();JAt({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=eMt(this),n=QAt(t,arguments.length>1?arguments[1]:void 0);return tMt(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var Z_e=I(()=>{"use strict";var rMt=J(),nMt=jn(),iMt=Wa(),G_e=Ha(),oMt=Nl(),aMt=G_e.Map,sMt=G_e.set;rMt({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=iMt(this),n=nMt(t,arguments.length>1?arguments[1]:void 0),i=new aMt;return oMt(r,function(o,u){n(o,u,r)&&sMt(i,u,o)}),i}})});var Y_e=I(()=>{"use strict";var lMt=J(),uMt=jn(),cMt=Wa(),dMt=Nl();lMt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=cMt(this),n=uMt(t,arguments.length>1?arguments[1]:void 0),i=dMt(r,function(o,u){if(n(o,u,r))return{value:o}},!0);return i&&i.value}})});var K_e=I(()=>{"use strict";var pMt=J(),fMt=jn(),hMt=Wa(),mMt=Nl();pMt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=hMt(this),n=fMt(t,arguments.length>1?arguments[1]:void 0),i=mMt(r,function(o,u){if(n(o,u,r))return{key:u}},!0);return i&&i.key}})});var Nx=I((P_r,Q_e)=>{"use strict";var gMt=jn(),vMt=Lt(),yMt=xr(),_Mt=Qv(),bMt=$i(),X_e=Mi(),J_e=[].push;Q_e.exports=function(t){var r=arguments.length,n=r>1?arguments[1]:void 0,i,o,u,p;return _Mt(this),i=n!==void 0,i&&yMt(n),bMt(t)?new this:(o=[],i?(u=0,p=gMt(n,r>2?arguments[2]:void 0),X_e(t,function(h){vMt(J_e,o,p(h,u++))})):X_e(t,J_e,{that:o}),new this(o))}});var ebe=I(()=>{"use strict";var xMt=J(),wMt=Nx();xMt({target:"Map",stat:!0,forced:!0},{from:wMt})});var tbe=I(()=>{"use strict";var SMt=J(),IMt=it(),EMt=xr(),TMt=li(),CMt=Mi(),CA=Ha(),AMt=Gr(),MMt=CA.Map,PMt=CA.has,OMt=CA.get,DMt=CA.set,kMt=IMt([].push);SMt({target:"Map",stat:!0,forced:AMt},{groupBy:function(t,r){TMt(t),EMt(r);var n=new MMt,i=0;return CMt(t,function(o){var u=r(o,i++);PMt(n,u)?kMt(OMt(n,u),o):DMt(n,u,[o])}),n}})});var nbe=I((N_r,rbe)=>{"use strict";rbe.exports=function(e,t){return e===t||e!==e&&t!==t}});var ibe=I(()=>{"use strict";var qMt=J(),NMt=nbe(),RMt=Wa(),LMt=Nl();qMt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return LMt(RMt(this),function(r){if(NMt(r,t))return!0},!0)===!0}})});var abe=I(()=>{"use strict";var zMt=J(),FMt=Lt(),jMt=Mi(),BMt=Tr(),obe=xr(),VMt=Ha().Map;zMt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=BMt(this)?this:VMt,i=new n;obe(r);var o=obe(i.set);return jMt(t,function(u){FMt(o,i,r(u),u)}),i}})});var sbe=I(()=>{"use strict";var UMt=J(),$Mt=Wa(),HMt=Nl();UMt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=HMt($Mt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var ube=I(()=>{"use strict";var WMt=J(),GMt=jn(),ZMt=Wa(),lbe=Ha(),YMt=Nl(),KMt=lbe.Map,XMt=lbe.set;WMt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=ZMt(this),n=GMt(t,arguments.length>1?arguments[1]:void 0),i=new KMt;return YMt(r,function(o,u){XMt(i,n(o,u,r),o)}),i}})});var dbe=I(()=>{"use strict";var JMt=J(),QMt=jn(),e5t=Wa(),cbe=Ha(),t5t=Nl(),r5t=cbe.Map,n5t=cbe.set;JMt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=e5t(this),n=QMt(t,arguments.length>1?arguments[1]:void 0),i=new r5t;return t5t(r,function(o,u){n5t(i,u,n(o,u,r))}),i}})});var pbe=I(()=>{"use strict";var i5t=J(),o5t=Wa(),a5t=Mi(),s5t=Ha().set;i5t({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=o5t(this),n=arguments.length,i=0;i<n;)a5t(arguments[i++],function(o,u){s5t(r,o,u)},{AS_ENTRIES:!0});return r}})});var Rx=I((Z_r,fbe)=>{"use strict";var l5t=dd();fbe.exports=function(){return new this(l5t(arguments))}});var hbe=I(()=>{"use strict";var u5t=J(),c5t=Rx();u5t({target:"Map",stat:!0,forced:!0},{of:c5t})});var mbe=I(()=>{"use strict";var d5t=J(),p5t=xr(),f5t=Wa(),h5t=Nl(),m5t=TypeError;d5t({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=f5t(this),n=arguments.length<2,i=n?void 0:arguments[1];if(p5t(t),h5t(r,function(o,u){n?(n=!1,i=o):i=t(i,o,u,r)}),n)throw new m5t("Reduce of empty map with no initial value");return i}})});var gbe=I(()=>{"use strict";var g5t=J(),v5t=jn(),y5t=Wa(),_5t=Nl();g5t({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=y5t(this),n=v5t(t,arguments.length>1?arguments[1]:void 0);return _5t(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var ybe=I(()=>{"use strict";var b5t=J(),vbe=xr(),x5t=Wa(),bF=Ha(),w5t=TypeError,S5t=bF.get,I5t=bF.has,E5t=bF.set;b5t({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=x5t(this),i=arguments.length;vbe(r);var o=I5t(n,t);if(!o&&i<3)throw new w5t("Updating absent value");var u=o?S5t(n,t):vbe(i>2?arguments[2]:void 0)(t,n);return E5t(n,t,r(u,t,n)),n}})});var PA=I((nbr,_be)=>{"use strict";var AA=Lt(),xF=xr(),MA=Tr(),T5t=Ft(),C5t=TypeError;_be.exports=function(t,r){var n=T5t(this),i=xF(n.get),o=xF(n.has),u=xF(n.set),p=arguments.length>2?arguments[2]:void 0,h;if(!MA(r)&&!MA(p))throw new C5t("At least one callback required");return AA(o,n,t)?(h=AA(i,n,t),MA(r)&&(h=r(h),AA(u,n,t,h))):MA(p)&&(h=p(),AA(u,n,t,h)),h}});var bbe=I(()=>{"use strict";var A5t=J(),M5t=PA();A5t({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:M5t})});var xbe=I(()=>{"use strict";var P5t=J(),O5t=PA();P5t({target:"Map",proto:!0,real:!0,forced:!0},{upsert:O5t})});var wbe=I(()=>{"use strict";var D5t=J(),k5t=Math.min,q5t=Math.max;D5t({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){return k5t(n,q5t(r,t))}})});var Sbe=I(()=>{"use strict";var N5t=J();N5t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var Ibe=I(()=>{"use strict";var R5t=J(),L5t=180/Math.PI;R5t({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*L5t}})});var wF=I((hbr,Ebe)=>{"use strict";Ebe.exports=Math.scale||function(t,r,n,i,o){var u=+t,p=+r,h=+n,y=+i,x=+o;return u!==u||p!==p||h!==h||y!==y||x!==x?NaN:u===1/0||u===-1/0?u:(u-p)*(x-y)/(h-p)+y}});var Tbe=I(()=>{"use strict";var z5t=J(),F5t=wF(),j5t=zT();z5t({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return j5t(F5t(t,r,n,i,o))}})});var Cbe=I(()=>{"use strict";var B5t=J(),V5t=U7();B5t({target:"Math",stat:!0},{f16round:V5t})});var Abe=I(()=>{"use strict";var U5t=J();U5t({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,u=r>>>0,p=n>>>0;return u+(i>>>0)+((o&p|(o|p)&~(o+p>>>0))>>>31)|0}})});var Mbe=I(()=>{"use strict";var $5t=J();$5t({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,p=o&n,h=i>>16,y=o>>16,x=(h*p>>>0)+(u*p>>>16);return h*y+(x>>16)+((u*y>>>0)+(x&n)>>16)}})});var Pbe=I(()=>{"use strict";var H5t=J();H5t({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,u=r>>>0,p=n>>>0;return u-(i>>>0)-((~o&p|~(o^p)&o-p>>>0)>>>31)|0}})});var Obe=I(()=>{"use strict";var W5t=J();W5t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var Dbe=I(()=>{"use strict";var G5t=J(),Z5t=Math.PI/180;G5t({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*Z5t}})});var kbe=I(()=>{"use strict";var Y5t=J(),K5t=wF();Y5t({target:"Math",stat:!0,forced:!0},{scale:K5t})});var Lbe=I(()=>{"use strict";var X5t=J(),J5t=Ft(),Q5t=D6(),e3t=uf(),t3t=Bo(),qbe=In(),Nbe="Seeded Random",Rbe=Nbe+" Generator",r3t="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",n3t=qbe.set,i3t=qbe.getterFor(Rbe),o3t=TypeError,a3t=e3t(function(t){n3t(this,{type:Rbe,seed:t%2147483647})},Nbe,function(){var t=i3t(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return t3t((r&1073741823)/1073741823,!1)});X5t({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=J5t(t).seed;if(!Q5t(r))throw new o3t(r3t);return new a3t(r)}})});var zbe=I(()=>{"use strict";var s3t=J();s3t({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var Fbe=I(()=>{"use strict";var l3t=J();l3t({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,p=o&n,h=i>>>16,y=o>>>16,x=(h*p>>>0)+(u*p>>>16);return h*y+(x>>>16)+((u*y>>>0)+(x&n)>>>16)}})});var Bbe=I(()=>{"use strict";var u3t=J(),DA=it(),c3t=ui(),d3t=sC(),OA="Invalid number representation",p3t="Invalid radix",f3t=RangeError,SF=SyntaxError,h3t=TypeError,jbe=/^[\da-z]+$/,m3t=DA("".charAt),g3t=DA(jbe.exec),v3t=DA(1 .toString),y3t=DA("".slice);u3t({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1,i,o;if(typeof t!="string")throw new h3t(OA);if(!t.length)throw new SF(OA);if(m3t(t,0)==="-"&&(n=-1,t=y3t(t,1),!t.length))throw new SF(OA);if(i=r===void 0?10:c3t(r),i<2||i>36)throw new f3t(p3t);if(!g3t(jbe,t)||v3t(o=d3t(t,i),i)!==t)throw new SF(OA);return n*o}})});var Vbe=I(()=>{"use strict";var _3t=J(),b3t=vA();_3t({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new b3t(t,r,n,"number",0,1)}})});var Ube=I(()=>{"use strict";U6()});var qA=I((Ubr,Wbe)=>{"use strict";var $be=In(),x3t=uf(),kA=Bo(),w3t=zr(),S3t=Kh(),I3t=Zr(),Hbe="Object Iterator",E3t=$be.set,T3t=$be.getterFor(Hbe);Wbe.exports=x3t(function(t,r){var n=I3t(t);E3t(this,{type:Hbe,mode:r,object:n,keys:S3t(n),index:0})},"Object",function(){for(var t=T3t(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,kA(void 0,!0);var n=r[t.index++],i=t.object;if(w3t(i,n)){switch(t.mode){case"keys":return kA(n,!1);case"values":return kA(i[n],!1);}return kA([n,i[n]],!1)}}})});var Gbe=I(()=>{"use strict";var C3t=J(),A3t=qA();C3t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new A3t(t,"entries")}})});var Zbe=I(()=>{"use strict";var M3t=J(),P3t=qA();M3t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new P3t(t,"keys")}})});var Ybe=I(()=>{"use strict";var O3t=J(),D3t=qA();O3t({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new D3t(t,"values")}})});var Kbe=I(()=>{"use strict";var k3t=J(),q3t=br(),N3t=it(),R3t=xr(),L3t=li(),z3t=mu(),F3t=Mi(),j3t=q3t("Object","create"),B3t=N3t([].push);k3t({target:"Object",stat:!0},{groupBy:function(t,r){L3t(t),R3t(r);var n=j3t(null),i=0;return F3t(t,function(o){var u=z3t(r(o,i++));u in n?B3t(n[u],o):n[u]=[o]}),n}})});var axe=I(()=>{"use strict";var V3t=J(),NA=Lt(),Lx=fr(),U3t=df(),Xbe=xr(),$3t=Ft(),H3t=xa(),Jbe=Tr(),W3t=$i(),G3t=Cr(),RA=zi(),Z3t=On(),IF=Dl(),Qbe=yi(),Oy=dz(),Y3t=hr(),exe=In(),K3t=Y3t("observable"),EF="Observable",txe="Subscription",rxe="SubscriptionObserver",TF=exe.getterFor,CF=exe.set,X3t=TF(EF),nxe=TF(txe),LA=TF(rxe),ixe=function(e){this.observer=$3t(e),this.cleanup=void 0,this.subscriptionObserver=void 0};ixe.prototype={type:txe,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){Oy(t)}}},close:function(){if(!Lx){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var AF=function(e,t){var r=CF(this,new ixe(e)),n;Lx||(this.closed=!1);try{(n=RA(e,"start"))&&NA(n,e,this)}catch(p){Oy(p)}if(!r.isClosed()){var i=r.subscriptionObserver=new MF(r);try{var o=t(i),u=o;W3t(o)||(r.cleanup=Jbe(o.unsubscribe)?function(){u.unsubscribe()}:Xbe(o))}catch(p){i.error(p);return}r.isClosed()&&r.clean()}};AF.prototype=IF({},{unsubscribe:function(){var t=nxe(this);t.isClosed()||(t.close(),t.clean())}});Lx&&Qbe(AF.prototype,"closed",{configurable:!0,get:function(){return nxe(this).isClosed()}});var MF=function(e){CF(this,{type:rxe,subscriptionState:e}),Lx||(this.closed=!1)};MF.prototype=IF({},{next:function(t){var r=LA(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=RA(n,"next");i&&NA(i,n,t)}catch(o){Oy(o)}}},error:function(t){var r=LA(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=RA(n,"error");i?NA(i,n,t):Oy(t)}catch(o){Oy(o)}r.clean()}},complete:function(){var t=LA(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=RA(r,"complete");n&&NA(n,r)}catch(i){Oy(i)}t.clean()}}});Lx&&Qbe(MF.prototype,"closed",{configurable:!0,get:function(){return LA(this).subscriptionState.isClosed()}});var oxe=function(t){H3t(this,PF),CF(this,{type:EF,subscriber:Xbe(t)})},PF=oxe.prototype;IF(PF,{subscribe:function(t){var r=arguments.length;return new AF(Jbe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:G3t(t)?t:{},X3t(this).subscriber)}});Z3t(PF,K3t,function(){return this});V3t({global:!0,constructor:!0,forced:!0},{Observable:oxe});U3t(EF)});var lxe=I(()=>{"use strict";var J3t=J(),Q3t=br(),ePt=Lt(),sxe=Ft(),tPt=yu(),rPt=sf(),nPt=zi(),iPt=Mi(),oPt=hr(),aPt=oPt("observable");J3t({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=tPt(this)?this:Q3t("Observable"),n=nPt(sxe(t),aPt);if(n){var i=sxe(ePt(n,t));return i.constructor===r?i:new r(function(u){return i.subscribe(u)})}var o=rPt(t);return new r(function(u){iPt(o,function(p,h){if(u.next(p),u.closed)return h()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})}})});var cxe=I(()=>{"use strict";var sPt=J(),uxe=br(),lPt=yu(),uPt=uxe("Array");sPt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=lPt(this)?this:uxe("Observable"),r=arguments.length,n=uPt(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})}})});var dxe=I(()=>{"use strict";axe();lxe();cxe()});var pxe=I(()=>{"use strict";Tz()});var fxe=I(()=>{"use strict";Cz()});var hxe=I(()=>{"use strict";var cPt=J(),dPt=ac(),pPt=yf();cPt({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=dPt.f(this),r=pPt(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})});var mxe=I(()=>{"use strict";var fPt=J(),hPt=ac();fPt({target:"Promise",stat:!0},{withResolvers:function(){var t=hPt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var cc=I((hxr,_xe)=>{"use strict";rC();XC();var yxe=br(),mPt=it(),gPt=ec(),gxe=yxe("Map"),vPt=yxe("WeakMap"),yPt=mPt([].push),vxe=gPt("metadata"),OF=vxe.store||(vxe.store=new vPt),zx=function(e,t,r){var n=OF.get(e);if(!n){if(!r)return;OF.set(e,n=new gxe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new gxe)}return i},_Pt=function(e,t,r){var n=zx(t,r,!1);return n===void 0?!1:n.has(e)},bPt=function(e,t,r){var n=zx(t,r,!1);return n===void 0?void 0:n.get(e)},xPt=function(e,t,r,n){zx(r,n,!0).set(e,t)},wPt=function(e,t){var r=zx(e,t,!1),n=[];return r&&r.forEach(function(i,o){yPt(n,o)}),n},SPt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};_xe.exports={store:OF,getMap:zx,has:_Pt,get:bPt,set:xPt,keys:wPt,toKey:SPt}});var xxe=I(()=>{"use strict";var IPt=J(),bxe=cc(),EPt=Ft(),TPt=bxe.toKey,CPt=bxe.set;IPt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:TPt(arguments[3]);CPt(t,r,EPt(n),i)}})});var Sxe=I(()=>{"use strict";var APt=J(),DF=cc(),MPt=Ft(),PPt=DF.toKey,OPt=DF.getMap,wxe=DF.store;APt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:PPt(arguments[2]),i=OPt(MPt(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=wxe.get(r);return o.delete(n),!!o.size||wxe.delete(r)}})});var Exe=I(()=>{"use strict";var DPt=J(),kF=cc(),kPt=Ft(),qPt=Wi(),NPt=kF.has,RPt=kF.get,LPt=kF.toKey,Ixe=function(e,t,r){var n=NPt(e,t,r);if(n)return RPt(e,t,r);var i=qPt(t);return i!==null?Ixe(e,i,r):void 0};DPt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:LPt(arguments[2]);return Ixe(t,kPt(r),n)}})});var Mxe=I(()=>{"use strict";var zPt=J(),Txe=it(),Cxe=cc(),FPt=Ft(),jPt=Wi(),BPt=oA(),VPt=Txe(BPt),UPt=Txe([].concat),$Pt=Cxe.keys,HPt=Cxe.toKey,Axe=function(e,t){var r=$Pt(e,t),n=jPt(e);if(n===null)return r;var i=Axe(n,t);return i.length?r.length?VPt(UPt(r,i)):i:r};zPt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:HPt(arguments[1]);return Axe(FPt(t),r)}})});var Oxe=I(()=>{"use strict";var WPt=J(),Pxe=cc(),GPt=Ft(),ZPt=Pxe.get,YPt=Pxe.toKey;WPt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:YPt(arguments[2]);return ZPt(t,GPt(r),n)}})});var kxe=I(()=>{"use strict";var KPt=J(),Dxe=cc(),XPt=Ft(),JPt=Dxe.keys,QPt=Dxe.toKey;KPt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:QPt(arguments[1]);return JPt(XPt(t),r)}})});var Rxe=I(()=>{"use strict";var e4t=J(),qxe=cc(),t4t=Ft(),r4t=Wi(),n4t=qxe.has,i4t=qxe.toKey,Nxe=function(e,t,r){var n=n4t(e,t,r);if(n)return!0;var i=r4t(t);return i!==null?Nxe(e,i,r):!1};e4t({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:i4t(arguments[2]);return Nxe(t,t4t(r),n)}})});var zxe=I(()=>{"use strict";var o4t=J(),Lxe=cc(),a4t=Ft(),s4t=Lxe.has,l4t=Lxe.toKey;o4t({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:l4t(arguments[2]);return s4t(t,a4t(r),n)}})});var jxe=I(()=>{"use strict";var u4t=J(),Fxe=cc(),c4t=Ft(),d4t=Fxe.toKey,p4t=Fxe.set;u4t({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){p4t(t,r,c4t(i),d4t(o))}}})});var Vxe=I(()=>{"use strict";var f4t=J(),Bxe=it(),h4t=Sr(),m4t=cm(),g4t=Bxe("".charCodeAt),v4t=Bxe("".replace),y4t=RegExp("[!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~"+m4t+"]","g");f4t({target:"RegExp",stat:!0,forced:!0},{escape:function(t){var r=h4t(t),n=g4t(r,0);return(n>47&&n<58?"\\x3":"")+v4t(r,y4t,"\\$&")}})});var wa=I((Nxr,Uxe)=>{"use strict";var qF=it(),zA=Set.prototype;Uxe.exports={Set,add:qF(zA.add),has:qF(zA.has),remove:qF(zA.delete),proto:zA}});var Uo=I((Rxr,$xe)=>{"use strict";var _4t=wa().has;$xe.exports=function(e){return _4t(e),e}});var Hxe=I(()=>{"use strict";var b4t=J(),x4t=Uo(),w4t=wa().add;b4t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=x4t(this),r=0,n=arguments.length;r<n;r++)w4t(t,arguments[r]);return t}})});var Wxe=I(()=>{"use strict";var S4t=J(),I4t=Uo(),E4t=wa().remove;S4t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=I4t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=E4t(t,arguments[i]),r=r&&n;return!!r}})});var Qs=I((Bxr,Xxe)=>{"use strict";var Gxe=it(),T4t=wd(),Zxe=wa(),C4t=Zxe.Set,Yxe=Zxe.proto,A4t=Gxe(Yxe.forEach),Kxe=Gxe(Yxe.keys),M4t=Kxe(new C4t).next;Xxe.exports=function(e,t,r){return r?T4t({iterator:Kxe(e),next:M4t},t):A4t(e,t)}});var FA=I((Vxr,Qxe)=>{"use strict";var Jxe=wa(),P4t=Qs(),O4t=Jxe.Set,D4t=Jxe.add;Qxe.exports=function(e){var t=new O4t;return P4t(e,function(r){D4t(t,r)}),t}});var Dy=I((Uxr,ewe)=>{"use strict";var k4t=Nb(),q4t=wa();ewe.exports=k4t(q4t.proto,"size","get")||function(e){return e.size}});var Sf=I(($xr,awe)=>{"use strict";var twe=xr(),iwe=Ft(),rwe=Lt(),N4t=ui(),R4t=_i(),nwe="Invalid size",L4t=RangeError,z4t=TypeError,F4t=Math.max,owe=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};owe.prototype={getIterator:function(){return R4t(iwe(rwe(this.keys,this.set)))},includes:function(e){return rwe(this.has,this.set,e)}};awe.exports=function(e){iwe(e);var t=+e.size;if(t!==t)throw new z4t(nwe);var r=N4t(t);if(r<0)throw new L4t(nwe);return new owe(e,F4t(r,0),twe(e.has),twe(e.keys))}});var NF=I((Hxr,uwe)=>{"use strict";var j4t=Uo(),lwe=wa(),B4t=FA(),V4t=Dy(),U4t=Sf(),$4t=Qs(),H4t=wd(),W4t=lwe.has,swe=lwe.remove;uwe.exports=function(t){var r=j4t(this),n=U4t(t),i=B4t(r);return V4t(r)<=n.size?$4t(r,function(o){n.includes(o)&&swe(i,o)}):H4t(n.getIterator(),function(o){W4t(r,o)&&swe(i,o)}),i}});var If=I((Wxr,dwe)=>{"use strict";var G4t=br(),cwe=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};dwe.exports=function(e){var t=G4t("Set");try{new t()[e](cwe(0));try{return new t()[e](cwe(-1)),!1}catch(r){return!0}}catch(r){return!1}}});var pwe=I(()=>{"use strict";var Z4t=J(),Y4t=NF(),K4t=If();Z4t({target:"Set",proto:!0,real:!0,forced:!K4t("difference")},{difference:Y4t})});var hwe=I((Yxr,fwe)=>{"use strict";var X4t=gs(),J4t=zr(),Q4t=$i(),eOt=hr(),tOt=im(),rOt=eOt("iterator"),nOt=Object;fwe.exports=function(e){if(Q4t(e))return!1;var t=nOt(e);return t[rOt]!==void 0||"@@iterator"in t||J4t(tOt,X4t(t))}});var Ef=I((Kxr,gwe)=>{"use strict";var iOt=br(),mwe=Tr(),oOt=hwe(),aOt=Cr(),sOt=iOt("Set"),lOt=function(e){return aOt(e)&&typeof e.size=="number"&&mwe(e.has)&&mwe(e.keys)};gwe.exports=function(e){return lOt(e)?e:oOt(e)?new sOt(e):e}});var vwe=I(()=>{"use strict";var uOt=J(),cOt=Lt(),dOt=Ef(),pOt=NF();uOt({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return cOt(pOt,this,dOt(t))}})});var ywe=I(()=>{"use strict";var fOt=J(),hOt=jn(),mOt=Uo(),gOt=Qs();fOt({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=mOt(this),n=hOt(t,arguments.length>1?arguments[1]:void 0);return gOt(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var bwe=I(()=>{"use strict";var vOt=J(),yOt=jn(),_Ot=Uo(),_we=wa(),bOt=Qs(),xOt=_we.Set,wOt=_we.add;vOt({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=_Ot(this),n=yOt(t,arguments.length>1?arguments[1]:void 0),i=new xOt;return bOt(r,function(o){n(o,o,r)&&wOt(i,o)}),i}})});var xwe=I(()=>{"use strict";var SOt=J(),IOt=jn(),EOt=Uo(),TOt=Qs();SOt({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=EOt(this),n=IOt(t,arguments.length>1?arguments[1]:void 0),i=TOt(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var wwe=I(()=>{"use strict";var COt=J(),AOt=Nx();COt({target:"Set",stat:!0,forced:!0},{from:AOt})});var LF=I((swr,Iwe)=>{"use strict";var MOt=Uo(),RF=wa(),POt=Dy(),OOt=Sf(),DOt=Qs(),kOt=wd(),qOt=RF.Set,Swe=RF.add,NOt=RF.has;Iwe.exports=function(t){var r=MOt(this),n=OOt(t),i=new qOt;return POt(r)>n.size?kOt(n.getIterator(),function(o){NOt(r,o)&&Swe(i,o)}):DOt(r,function(o){n.includes(o)&&Swe(i,o)}),i}});var Ewe=I(()=>{"use strict";var ROt=J(),LOt=yt(),zOt=LF(),FOt=If(),jOt=!FOt("intersection")||LOt(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});ROt({target:"Set",proto:!0,real:!0,forced:jOt},{intersection:zOt})});var Twe=I(()=>{"use strict";var BOt=J(),VOt=Lt(),UOt=Ef(),$Ot=LF();BOt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return VOt($Ot,this,UOt(t))}})});var zF=I((pwr,Cwe)=>{"use strict";var HOt=Uo(),WOt=wa().has,GOt=Dy(),ZOt=Sf(),YOt=Qs(),KOt=wd(),XOt=hd();Cwe.exports=function(t){var r=HOt(this),n=ZOt(t);if(GOt(r)<=n.size)return YOt(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return KOt(i,function(o){if(WOt(r,o))return XOt(i,"normal",!1)})!==!1}});var Awe=I(()=>{"use strict";var JOt=J(),QOt=zF(),eDt=If();JOt({target:"Set",proto:!0,real:!0,forced:!eDt("isDisjointFrom")},{isDisjointFrom:QOt})});var Mwe=I(()=>{"use strict";var tDt=J(),rDt=Lt(),nDt=Ef(),iDt=zF();tDt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return rDt(iDt,this,nDt(t))}})});var FF=I((vwr,Pwe)=>{"use strict";var oDt=Uo(),aDt=Dy(),sDt=Qs(),lDt=Sf();Pwe.exports=function(t){var r=oDt(this),n=lDt(t);return aDt(r)>n.size?!1:sDt(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var Owe=I(()=>{"use strict";var uDt=J(),cDt=FF(),dDt=If();uDt({target:"Set",proto:!0,real:!0,forced:!dDt("isSubsetOf")},{isSubsetOf:cDt})});var Dwe=I(()=>{"use strict";var pDt=J(),fDt=Lt(),hDt=Ef(),mDt=FF();pDt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return fDt(mDt,this,hDt(t))}})});var jF=I((wwr,kwe)=>{"use strict";var gDt=Uo(),vDt=wa().has,yDt=Dy(),_Dt=Sf(),bDt=wd(),xDt=hd();kwe.exports=function(t){var r=gDt(this),n=_Dt(t);if(yDt(r)<n.size)return!1;var i=n.getIterator();return bDt(i,function(o){if(!vDt(r,o))return xDt(i,"normal",!1)})!==!1}});var qwe=I(()=>{"use strict";var wDt=J(),SDt=jF(),IDt=If();wDt({target:"Set",proto:!0,real:!0,forced:!IDt("isSupersetOf")},{isSupersetOf:SDt})});var Nwe=I(()=>{"use strict";var EDt=J(),TDt=Lt(),CDt=Ef(),ADt=jF();EDt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return TDt(ADt,this,CDt(t))}})});var Lwe=I(()=>{"use strict";var MDt=J(),Rwe=it(),PDt=Uo(),ODt=Qs(),DDt=Sr(),kDt=Rwe([].join),qDt=Rwe([].push);MDt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=PDt(this),n=t===void 0?",":DDt(t),i=[];return ODt(r,function(o){qDt(i,o)}),kDt(i,n)}})});var Fwe=I(()=>{"use strict";var NDt=J(),RDt=jn(),LDt=Uo(),zwe=wa(),zDt=Qs(),FDt=zwe.Set,jDt=zwe.add;NDt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=LDt(this),n=RDt(t,arguments.length>1?arguments[1]:void 0),i=new FDt;return zDt(r,function(o){jDt(i,n(o,o,r))}),i}})});var jwe=I(()=>{"use strict";var BDt=J(),VDt=Rx();BDt({target:"Set",stat:!0,forced:!0},{of:VDt})});var Bwe=I(()=>{"use strict";var UDt=J(),$Dt=xr(),HDt=Uo(),WDt=Qs(),GDt=TypeError;UDt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=HDt(this),n=arguments.length<2,i=n?void 0:arguments[1];if($Dt(t),WDt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new GDt("Reduce of empty set with no initial value");return i}})});var Vwe=I(()=>{"use strict";var ZDt=J(),YDt=jn(),KDt=Uo(),XDt=Qs();ZDt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=KDt(this),n=YDt(t,arguments.length>1?arguments[1]:void 0);return XDt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var VF=I((Lwr,Uwe)=>{"use strict";var JDt=Uo(),BF=wa(),QDt=FA(),ekt=Sf(),tkt=wd(),rkt=BF.add,nkt=BF.has,ikt=BF.remove;Uwe.exports=function(t){var r=JDt(this),n=ekt(t).getIterator(),i=QDt(r);return tkt(n,function(o){nkt(r,o)?ikt(i,o):rkt(i,o)}),i}});var $we=I(()=>{"use strict";var okt=J(),akt=VF(),skt=If();okt({target:"Set",proto:!0,real:!0,forced:!skt("symmetricDifference")},{symmetricDifference:akt})});var Hwe=I(()=>{"use strict";var lkt=J(),ukt=Lt(),ckt=Ef(),dkt=VF();lkt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return ukt(dkt,this,ckt(t))}})});var UF=I((Vwr,Wwe)=>{"use strict";var pkt=Uo(),fkt=wa().add,hkt=FA(),mkt=Sf(),gkt=wd();Wwe.exports=function(t){var r=pkt(this),n=mkt(t).getIterator(),i=hkt(r);return gkt(n,function(o){fkt(i,o)}),i}});var Gwe=I(()=>{"use strict";var vkt=J(),ykt=UF(),_kt=If();vkt({target:"Set",proto:!0,real:!0,forced:!_kt("union")},{union:ykt})});var Zwe=I(()=>{"use strict";var bkt=J(),xkt=Lt(),wkt=Ef(),Skt=UF();bkt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return xkt(Skt,this,wkt(t))}})});var Ywe=I(()=>{"use strict";var Ikt=J(),Ekt=vm().charAt,Tkt=li(),Ckt=ui(),Akt=Sr();Ikt({target:"String",proto:!0,forced:!0},{at:function(t){var r=Akt(Tkt(this)),n=r.length,i=Ckt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:Ekt(r,o)}})});var $F=I((Ywr,Qwe)=>{"use strict";var Jwe=it(),Mkt=ro(),Kwe=Sr(),Pkt=Jr(),Okt=TypeError,Xwe=Jwe([].push),Dkt=Jwe([].join);Qwe.exports=function(t){var r=Mkt(t),n=Pkt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){var p=r[u++];if(p===void 0)throw new Okt("Incorrect template");if(Xwe(o,Kwe(p)),u===n)return Dkt(o,"");u<i&&Xwe(o,Kwe(arguments[u]))}}});var eSe=I(()=>{"use strict";var kkt=J(),qkt=$F();kkt({target:"String",stat:!0,forced:!0},{cooked:qkt})});var oSe=I(()=>{"use strict";var Nkt=J(),Rkt=uf(),tSe=Bo(),Lkt=li(),zkt=Sr(),rSe=In(),nSe=vm(),Fkt=nSe.codeAt,jkt=nSe.charAt,iSe="String Iterator",Bkt=rSe.set,Vkt=rSe.getterFor(iSe),Ukt=Rkt(function(t){Bkt(this,{type:iSe,string:t,index:0})},"String",function(){var t=Vkt(this),r=t.string,n=t.index,i;return n>=r.length?tSe(void 0,!0):(i=jkt(r,n),t.index+=i.length,tSe({codePoint:Fkt(i,0),position:n},!1))});Nkt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new Ukt(zkt(Lkt(this)))}})});var hSe=I((eSr,fSe)=>{"use strict";var $kt=br(),jA=it(),Hkt=String.fromCharCode,Wkt=$kt("String","fromCodePoint"),HF=jA("".charAt),dSe=jA("".charCodeAt),aSe=jA("".indexOf),sSe=jA("".slice),GF=48,pSe=57,lSe=97,Gkt=102,uSe=65,Zkt=70,cSe=function(e,t){var r=dSe(e,t);return r>=GF&&r<=pSe},WF=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=Ykt(dSe(e,t));if(i===-1)return-1;n=n*16+i}return n},Ykt=function(e){return e>=GF&&e<=pSe?e-GF:e>=lSe&&e<=Gkt?e-lSe+10:e>=uSe&&e<=Zkt?e-uSe+10:-1};fSe.exports=function(e){for(var t="",r=0,n=0,i;(n=aSe(e,"\\",n))>-1;){if(t+=sSe(e,r,n),++n===e.length)return;var o=HF(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&HF(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(cSe(e,n))return;t+="\0";break;case"x":if(i=WF(e,n,n+2),i===-1)return;n+=2,t+=Hkt(i);break;case"u":if(n<e.length&&HF(e,n)==="{"){var u=aSe(e,"}",++n);if(u===-1)return;i=WF(e,n,u),n=u+1}else i=WF(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=Wkt(i);break;default:if(cSe(o,0))return;t+=o;}r=n}return t+sSe(e,r)}});var ISe=I(()=>{"use strict";var Kkt=bd(),Xkt=J(),Jkt=ec(),Qkt=br(),eqt=Eb(),BA=it(),_Se=ba(),bSe=Ft(),tqt=Zr(),rqt=Tr(),nqt=Jr(),iqt=Qn().f,oqt=Xh(),aqt=$F(),sqt=hSe(),xSe=cm(),lqt=Qkt("WeakMap"),Id=Jkt("GlobalDedentRegistry",new lqt);Id.has=Id.has;Id.get=Id.get;Id.set=Id.set;var ZF=Array,Fx=TypeError,mSe=Object.freeze||Object,uqt=Object.isFrozen,cqt=Math.min,gSe=BA("".charAt),wSe=BA("".slice),dqt=BA("".split),vSe=BA(/./.exec),pqt=/([\n\u2028\u2029]|\r\n?)/g,fqt=RegExp("^["+xSe+"]*"),hqt=RegExp("[^"+xSe+"]"),ySe="Invalid tag",mqt="Invalid opening line",gqt="Invalid closing line",vqt=function(e){var t=e.raw;if(Kkt&&!uqt(t))throw new Fx("Raw template should be frozen");if(Id.has(t))return Id.get(t);var r=yqt(t),n=bqt(r);return iqt(n,"raw",{value:mSe(r)}),mSe(n),Id.set(t,n),n},yqt=function(e){var t=tqt(e),r=nqt(t),n=ZF(r),i=ZF(r),o=0,u,p,h,y;if(!r)throw new Fx(ySe);for(;o<r;o++){var x=t[o];if(typeof x=="string")n[o]=dqt(x,pqt);else throw new Fx(ySe)}for(o=0;o<r;o++){var E=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new Fx(mqt);u[1]=""}if(E){if(u.length===1||vSe(hqt,u[u.length-1]))throw new Fx(gqt);u[u.length-2]="",u[u.length-1]=""}for(var T=2;T<u.length;T+=2){var D=u[T],z=T+1===u.length&&!E,F=vSe(fqt,D)[0];if(!z&&F.length===D.length){u[T]="";continue}p=_qt(F,p)}}var q=p?p.length:0;for(o=0;o<r;o++){for(u=n[o],h=u[0],y=1;y<u.length;y+=2)h+=u[y]+wSe(u[y+1],q);i[o]=h}return i},_qt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=cqt(e.length,t.length);r<n&&gSe(e,r)===gSe(t,r);r++);return wSe(e,0,r)},bqt=function(e){for(var t=0,r=e.length,n=ZF(r);t<r;t++)n[t]=sqt(e[t]);return n},SSe=function(e){return eqt(function(t){var r=oqt(arguments);return r[0]=vqt(bSe(t)),_Se(e,this,r)},"")},xqt=SSe(aqt);Xkt({target:"String",stat:!0,forced:!0},{dedent:function(t){return bSe(t),rqt(t)?SSe(t):_Se(xqt,this,arguments)}})});var ESe=I(()=>{"use strict";Zz()});var TSe=I(()=>{"use strict";r8()});var CSe=I(()=>{"use strict";d8()});var ASe=I(()=>{"use strict";v8()});var MSe=I(()=>{"use strict";var wqt=Xt(),Sqt=Ai(),Iqt=Qn().f,Eqt=co().f,YF=wqt.Symbol;Sqt("asyncDispose");YF&&(jx=Eqt(YF,"asyncDispose"),jx.enumerable&&jx.configurable&&jx.writable&&Iqt(YF,"asyncDispose",{value:jx.value,enumerable:!1,configurable:!1,writable:!1}));var jx});var PSe=I(()=>{"use strict";var Tqt=Xt(),Cqt=Ai(),Aqt=Qn().f,Mqt=co().f,KF=Tqt.Symbol;Cqt("dispose");KF&&(Bx=Mqt(KF,"dispose"),Bx.enumerable&&Bx.configurable&&Bx.writable&&Aqt(KF,"dispose",{value:Bx.value,enumerable:!1,configurable:!1,writable:!1}));var Bx});var JF=I((mSr,OSe)=>{"use strict";var Pqt=br(),Oqt=it(),XF=Pqt("Symbol"),Dqt=XF.keyFor,kqt=Oqt(XF.prototype.valueOf);OSe.exports=XF.isRegisteredSymbol||function(t){try{return Dqt(kqt(t))!==void 0}catch(r){return!1}}});var DSe=I(()=>{"use strict";var qqt=J(),Nqt=JF();qqt({target:"Symbol",stat:!0},{isRegisteredSymbol:Nqt})});var kSe=I(()=>{"use strict";var Rqt=J(),Lqt=JF();Rqt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Lqt})});var t9=I((bSr,FSe)=>{"use strict";var zqt=ec(),LSe=br(),Fqt=it(),jqt=sd(),Bqt=hr(),UA=LSe("Symbol"),qSe=UA.isWellKnownSymbol,zSe=LSe("Object","getOwnPropertyNames"),Vqt=Fqt(UA.prototype.valueOf),NSe=zqt("wks");for(VA=0,QF=zSe(UA),RSe=QF.length;VA<RSe;VA++)try{e9=QF[VA],jqt(UA[e9])&&Bqt(e9)}catch(e){}var e9,VA,QF,RSe;FSe.exports=function(t){if(qSe&&qSe(t))return!0;try{for(var r=Vqt(t),n=0,i=zSe(NSe),o=i.length;n<o;n++)if(NSe[i[n]]==r)return!0}catch(u){}return!1}});var jSe=I(()=>{"use strict";var Uqt=J(),$qt=t9();Uqt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$qt})});var BSe=I(()=>{"use strict";var Hqt=J(),Wqt=t9();Hqt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Wqt})});var VSe=I(()=>{"use strict";var Gqt=Ai();Gqt("matcher")});var USe=I(()=>{"use strict";var Zqt=Ai();Zqt("metadata")});var $Se=I(()=>{"use strict";var Yqt=Ai();Yqt("metadataKey")});var HSe=I(()=>{"use strict";var Kqt=Ai();Kqt("observable")});var WSe=I(()=>{"use strict";var Xqt=Ai();Xqt("patternMatch")});var GSe=I(()=>{"use strict";var Jqt=Ai();Jqt("replaceAll")});var YSe=I(()=>{"use strict";var Qqt=br(),eNt=Qv(),tNt=s7(),ZSe=Fr(),rNt=am(),nNt=ZSe.aTypedArrayConstructor,iNt=ZSe.exportTypedArrayStaticMethod;iNt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(Qqt("Promise"))(function(u){eNt(r),u(tNt(t,i,o))}).then(function(u){return rNt(nNt(r),u)})},!0)});var KSe=I(()=>{"use strict";D8()});var JSe=I(()=>{"use strict";var XSe=Fr(),oNt=ji().filterReject,aNt=zC(),sNt=XSe.aTypedArray,lNt=XSe.exportTypedArrayMethod;lNt("filterOut",function(t){var r=oNt(sNt(this),t,arguments.length>1?arguments[1]:void 0);return aNt(this,r)},!0)});var e2e=I(()=>{"use strict";var QSe=Fr(),uNt=ji().filterReject,cNt=zC(),dNt=QSe.aTypedArray,pNt=QSe.exportTypedArrayMethod;pNt("filterReject",function(t){var r=uNt(dNt(this),t,arguments.length>1?arguments[1]:void 0);return cNt(this,r)},!0)});var t2e=I(()=>{"use strict";k8()});var r2e=I(()=>{"use strict";q8()});var i2e=I(()=>{"use strict";var n2e=Fr(),fNt=rA(),hNt=xy(),mNt=n2e.aTypedArray,gNt=n2e.exportTypedArrayMethod;gNt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return fNt(mNt(this),t,r,hNt)},!0)});var o2e=I(()=>{"use strict";H8()});var a2e=I(()=>{"use strict";W8()});var s2e=I(()=>{"use strict";var r9=Fr(),vNt=Jr(),yNt=kC(),_Nt=Cl(),bNt=yx(),xNt=ui(),wNt=yt(),SNt=r9.aTypedArray,INt=r9.getTypedArrayConstructor,ENt=r9.exportTypedArrayMethod,TNt=Math.max,CNt=Math.min,ANt=!wNt(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});ENt("toSpliced",function(t,r){var n=SNt(this),i=INt(n),o=vNt(n),u=_Nt(t,o),p=arguments.length,h=0,y,x,E,T,D,z,F;if(p===0)y=x=0;else if(p===1)y=0,x=o-u;else if(x=CNt(TNt(xNt(r),0),o-u),y=p-2,y){T=new i(y),E=yNt(T);for(var q=2;q<p;q++)D=arguments[q],T[q-2]=E?bNt(D):+D}for(z=o+y-x,F=new i(z);h<u;h++)F[h]=n[h];for(;h<u+y;h++)F[h]=T[h-u];for(;h<z;h++)F[h]=n[h+x-y];return F},!ANt)});var l2e=I(()=>{"use strict";var MNt=it(),n9=Fr(),PNt=am(),ONt=oA(),DNt=n9.aTypedArray,kNt=n9.getTypedArrayConstructor,qNt=n9.exportTypedArrayMethod,NNt=MNt(ONt);qNt("uniqueBy",function(t){return DNt(this),PNt(kNt(this),NNt(this,t))},!0)});var u2e=I(()=>{"use strict";Z8()});var WA=I((s2r,c2e)=>{"use strict";var $A=it(),HA=WeakMap.prototype;c2e.exports={WeakMap,set:$A(HA.set),get:$A(HA.get),has:$A(HA.has),remove:$A(HA.delete)}});var i9=I((l2r,d2e)=>{"use strict";var RNt=WA().has;d2e.exports=function(e){return RNt(e),e}});var p2e=I(()=>{"use strict";var LNt=J(),zNt=i9(),FNt=WA().remove;LNt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=zNt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=FNt(t,arguments[i]),r=r&&n;return!!r}})});var f2e=I(()=>{"use strict";var jNt=J(),BNt=Nx();jNt({target:"WeakMap",stat:!0,forced:!0},{from:BNt})});var h2e=I(()=>{"use strict";var VNt=J(),UNt=Rx();VNt({target:"WeakMap",stat:!0,forced:!0},{of:UNt})});var g2e=I(()=>{"use strict";var $Nt=J(),HNt=i9(),o9=WA(),WNt=o9.get,GNt=o9.has,m2e=o9.set;$Nt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=HNt(this),i,o;return GNt(n,t)?(i=WNt(n,t),"update"in r&&(i=r.update(i,t,n),m2e(n,t,i)),i):(o=r.insert(t,n),m2e(n,t,o),o)}})});var v2e=I(()=>{"use strict";var ZNt=J(),YNt=PA();ZNt({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:YNt})});var GA=I((_2r,y2e)=>{"use strict";var a9=it(),s9=WeakSet.prototype;y2e.exports={WeakSet,add:a9(s9.add),has:a9(s9.has),remove:a9(s9.delete)}});var l9=I((b2r,_2e)=>{"use strict";var KNt=GA().has;_2e.exports=function(e){return KNt(e),e}});var b2e=I(()=>{"use strict";var XNt=J(),JNt=l9(),QNt=GA().add;XNt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=JNt(this),r=0,n=arguments.length;r<n;r++)QNt(t,arguments[r]);return t}})});var x2e=I(()=>{"use strict";var eRt=J(),tRt=l9(),rRt=GA().remove;eRt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=tRt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=rRt(t,arguments[i]),r=r&&n;return!!r}})});var w2e=I(()=>{"use strict";var nRt=J(),iRt=Nx();nRt({target:"WeakSet",stat:!0,forced:!0},{from:iRt})});var S2e=I(()=>{"use strict";var oRt=J(),aRt=Rx();oRt({target:"WeakSet",stat:!0,forced:!0},{of:aRt})});var u9=I((M2r,T2e)=>{"use strict";var I2e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E2e={};for(Vx=0;Vx<66;Vx++)E2e[I2e.charAt(Vx)]=Vx;var Vx;T2e.exports={itoc:I2e,ctoi:E2e}});var D2e=I(()=>{"use strict";var sRt=J(),lRt=Xt(),P2e=br(),d9=it(),uRt=Lt(),p9=yt(),cRt=Sr(),dRt=zr(),pRt=ql(),c9=u9().ctoi,O2e=/[^\d+/a-z]/i,fRt=/[\t\n\f\r ]+/g,hRt=/[=]{1,2}$/,Ux=P2e("atob"),mRt=String.fromCharCode,gRt=d9("".charAt),C2e=d9("".replace),vRt=d9(O2e.exec),f9=p9(function(){return Ux(" ")!==""}),h9=!p9(function(){Ux("a")}),A2e=!f9&&!h9&&!p9(function(){Ux()}),M2e=!f9&&!h9&&Ux.length!==1;sRt({global:!0,bind:!0,enumerable:!0,forced:f9||h9||A2e||M2e},{atob:function(t){if(pRt(arguments.length,1),A2e||M2e)return uRt(Ux,lRt,t);var r=C2e(cRt(t),fRt,""),n="",i=0,o=0,u,p;if(r.length%4===0&&(r=C2e(r,hRt,"")),r.length%4===1||vRt(O2e,r))throw new(P2e("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;u=gRt(r,i++);)dRt(c9,u)&&(p=o%4?p*64+c9[u]:c9[u],o++%4&&(n+=mRt(255&p>>(-2*o&6))));return n}})});var B2e=I(()=>{"use strict";var yRt=J(),_Rt=Xt(),z2e=br(),F2e=it(),bRt=Lt(),j2e=yt(),k2e=Sr(),xRt=ql(),wRt=u9().itoc,wm=z2e("btoa"),q2e=F2e("".charAt),SRt=F2e("".charCodeAt),N2e=!!wm&&!j2e(function(){wm()}),R2e=!!wm&&j2e(function(){return wm(null)!=="bnVsbA=="}),L2e=!!wm&&wm.length!==1;yRt({global:!0,bind:!0,enumerable:!0,forced:N2e||R2e||L2e},{btoa:function(t){if(xRt(arguments.length,1),N2e||R2e||L2e)return bRt(wm,_Rt,k2e(t));for(var r=k2e(t),n="",i=0,o=wRt,u,p;q2e(r,i)||(o="=",i%1);){if(p=SRt(r,i+=3/4),p>255)throw new(z2e("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|p,n+=q2e(o,63&u>>8-i%1*8)}return n}})});var m9=I((q2r,V2e)=>{"use strict";V2e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var v9=I((N2r,$2e)=>{"use strict";var IRt=xb(),g9=IRt("span").classList,U2e=g9&&g9.constructor&&g9.constructor.prototype;$2e.exports=U2e===Object.prototype?void 0:U2e});var Z2e=I(()=>{"use strict";var H2e=Xt(),W2e=m9(),ERt=v9(),y9=yL(),TRt=Hi(),G2e=function(e){if(e&&e.forEach!==y9)try{TRt(e,"forEach",y9)}catch(t){e.forEach=y9}};for(ZA in W2e)W2e[ZA]&&G2e(H2e[ZA]&&H2e[ZA].prototype);var ZA;G2e(ERt)});var eIe=I(()=>{"use strict";var Y2e=Xt(),X2e=m9(),CRt=v9(),$x=Bb(),_9=Hi(),J2e=hr(),b9=J2e("iterator"),K2e=J2e("toStringTag"),x9=$x.values,Q2e=function(e,t){if(e){if(e[b9]!==x9)try{_9(e,b9,x9)}catch(n){e[b9]=x9}if(e[K2e]||_9(e,K2e,t),X2e[t]){for(var r in $x)if(e[r]!==$x[r])try{_9(e,r,$x[r])}catch(n){e[r]=$x[r]}}}};for(YA in X2e)Q2e(Y2e[YA]&&Y2e[YA].prototype,YA);var YA;Q2e(CRt,"DOMTokenList")});var w9=I((j2r,tIe)=>{"use strict";tIe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var pIe=I(()=>{"use strict";var ARt=J(),MRt=p7(),JA=br(),A9=yt(),PRt=Fi(),M9=hs(),QA=Qn().f,ORt=On(),KA=yi(),XA=zr(),DRt=xa(),kRt=Ft(),iIe=tL(),rIe=rm(),ky=w9(),qRt=yT(),oIe=In(),P9=fr(),aIe=Gr(),qy="DOMException",C9="DATA_CLONE_ERR",tM=JA("Error"),Ed=JA(qy)||function(){try{var e=JA("MessageChannel")||MRt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===C9&&t.code===25)return t.constructor}}(),NRt=Ed&&Ed.prototype,sIe=tM.prototype,RRt=oIe.set,LRt=oIe.getterFor(qy),zRt="stack"in new tM(qy),lIe=function(e){return XA(ky,e)&&ky[e].m?ky[e].c:0},O9=function(){DRt(this,Wx);var t=arguments.length,r=rIe(t<1?void 0:arguments[0]),n=rIe(t<2?void 0:arguments[1],"Error"),i=lIe(n);if(RRt(this,{type:qy,name:n,message:r,code:i}),P9||(this.name=n,this.message=r,this.code=i),zRt){var o=new tM(r);o.name=qy,QA(this,"stack",M9(1,qRt(o.stack,1)))}},Wx=O9.prototype=PRt(sIe),uIe=function(e){return{enumerable:!0,configurable:!0,get:e}},S9=function(e){return uIe(function(){return LRt(this)[e]})};P9&&(KA(Wx,"code",S9("code")),KA(Wx,"message",S9("message")),KA(Wx,"name",S9("name")));QA(Wx,"constructor",M9(1,O9));var rM=A9(function(){return!(new Ed instanceof tM)}),cIe=rM||A9(function(){return sIe.toString!==iIe||String(new Ed(1,2))!=="2: 1"}),dIe=rM||A9(function(){return new Ed(1,"DataCloneError").code!==25}),FRt=rM||Ed[C9]!==25||NRt[C9]!==25,nIe=aIe?cIe||dIe||FRt:rM;ARt({global:!0,constructor:!0,forced:nIe},{DOMException:nIe?O9:Ed});var Gx=JA(qy),eM=Gx.prototype;cIe&&(aIe||Ed===Gx)&&ORt(eM,"toString",iIe);dIe&&P9&&Ed===Gx&&KA(eM,"code",uIe(function(){return lIe(kRt(this).name)}));for(I9 in ky)XA(ky,I9)&&(E9=ky[I9],Hx=E9.s,T9=M9(6,E9.c),XA(Gx,Hx)||QA(Gx,Hx,T9),XA(eM,Hx)||QA(eM,Hx,T9));var E9,Hx,T9,I9});var _Ie=I(()=>{"use strict";var jRt=J(),BRt=Xt(),F9=br(),L9=hs(),z9=Qn().f,fIe=zr(),VRt=xa(),URt=tm(),hIe=rm(),D9=w9(),$Rt=yT(),HRt=fr(),vIe=Gr(),Yx="DOMException",yIe=F9("Error"),Kx=F9(Yx),j9=function(){VRt(this,WRt);var t=arguments.length,r=hIe(t<1?void 0:arguments[0]),n=hIe(t<2?void 0:arguments[1],"Error"),i=new Kx(r,n),o=new yIe(r);return o.name=Yx,z9(i,"stack",L9(1,$Rt(o.stack,1))),URt(i,this,j9),i},WRt=j9.prototype=Kx.prototype,GRt="stack"in new yIe(Yx),ZRt="stack"in new Kx(1,2),k9=Kx&&HRt&&Object.getOwnPropertyDescriptor(BRt,Yx),YRt=!!k9&&!(k9.writable&&k9.configurable),mIe=GRt&&!YRt&&!ZRt;jRt({global:!0,constructor:!0,forced:vIe||mIe},{DOMException:mIe?j9:Kx});var Zx=F9(Yx),gIe=Zx.prototype;if(gIe.constructor!==Zx){vIe||z9(gIe,"constructor",L9(1,Zx));for(q9 in D9)fIe(D9,q9)&&(N9=D9[q9],R9=N9.s,fIe(Zx,R9)||z9(Zx,R9,L9(6,N9.c)))}var N9,R9,q9});var xIe=I(()=>{"use strict";var KRt=br(),XRt=vs(),bIe="DOMException";XRt(KRt(bIe),bIe)});var SIe=I(()=>{"use strict";var JRt=J(),QRt=Xt(),wIe=ox().clear;JRt({global:!0,bind:!0,enumerable:!0,forced:QRt.clearImmediate!==wIe},{clearImmediate:wIe})});var EIe=I((Y2r,IIe)=>{"use strict";IIe.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var nM=I((K2r,CIe)=>{"use strict";var TIe=Xt(),eLt=ba(),tLt=Tr(),rLt=EIe(),nLt=Ju(),iLt=dd(),oLt=ql(),aLt=TIe.Function,sLt=/MSIE .\./.test(nLt)||rLt&&function(){var e=TIe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();CIe.exports=function(e,t){var r=t?2:1;return sLt?function(n,i){var o=oLt(arguments.length,1)>r,u=tLt(n)?n:aLt(n),p=o?iLt(arguments,r):[],h=o?function(){eLt(u,this,p)}:u;return t?e(h,i):e(h)}:e}});var OIe=I(()=>{"use strict";var lLt=J(),PIe=Xt(),AIe=ox().set,uLt=nM(),MIe=PIe.setImmediate?uLt(AIe,!1):AIe;lLt({global:!0,bind:!0,enumerable:!0,forced:PIe.setImmediate!==MIe},{setImmediate:MIe})});var DIe=I(()=>{"use strict";SIe();OIe()});var kIe=I(()=>{"use strict";var cLt=J(),dLt=Xt(),pLt=cz(),fLt=xr(),hLt=ql(),mLt=rc(),gLt=dLt.process;cLt({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){hLt(arguments.length,1),fLt(t);var r=mLt&&gLt.domain;pLt(r?r.bind(t):t)}})});var NIe=I(()=>{"use strict";var vLt=J(),Tf=Xt(),yLt=yi(),_Lt=fr(),bLt=TypeError,xLt=Object.defineProperty,qIe=Tf.self!==Tf;try{_Lt?(iM=Object.getOwnPropertyDescriptor(Tf,"self"),(qIe||!iM||!iM.get||!iM.enumerable)&&yLt(Tf,"self",{get:function(){return Tf},set:function(t){if(this!==Tf)throw new bLt("Illegal invocation");xLt(Tf,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):vLt({global:!0,simple:!0,forced:qIe},{self:Tf})}catch(e){}var iM});var XIe=I(()=>{"use strict";var wLt=Gr(),SLt=J(),Pi=Xt(),W9=br(),ew=it(),G9=yt(),ILt=nf(),aM=Tr(),ELt=yu(),TLt=$i(),sM=Cr(),CLt=sd(),ALt=Mi(),FIe=Ft(),Jx=gs(),jIe=zr(),MLt=Al(),B9=Hi(),Sm=Jr(),PLt=ql(),OLt=dy(),lM=Ha(),BIe=wa(),RIe=cA(),VIe=XR(),UIe=aA(),Xx=Pi.Object,DLt=Pi.Array,$Ie=Pi.Date,tw=Pi.Error,kLt=Pi.EvalError,qLt=Pi.RangeError,NLt=Pi.ReferenceError,RLt=Pi.SyntaxError,HIe=Pi.TypeError,LLt=Pi.URIError,zLt=Pi.PerformanceMark,Ry=Pi.WebAssembly,FLt=Ry&&Ry.CompileError||tw,jLt=Ry&&Ry.LinkError||tw,BLt=Ry&&Ry.RuntimeError||tw,Af=W9("DOMException"),Qx=lM.Map,rw=lM.has,Z9=lM.get,Im=lM.set,WIe=BIe.Set,GIe=BIe.add,ZIe=W9("Object","keys"),LIe=ew([].push),VLt=ew((!0).valueOf),ULt=ew(1 .valueOf),$Lt=ew("".valueOf),HLt=ew($Ie.prototype.getTime),$9=ILt("structuredClone"),Ly="DataCloneError",oM="Transferring",YIe=function(e){return!G9(function(){var t=new Pi.Set([7]),r=e(t),n=e(Xx(7));return r===t||!r.has(7)||typeof n!="object"||+n!=7})&&e},zIe=function(e,t){return!G9(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},WLt=function(e){return!G9(function(){var t=e(new Pi.AggregateError([1],$9,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==$9||t.cause!==3})},Ny=Pi.structuredClone,GLt=wLt||!zIe(Ny,tw)||!zIe(Ny,Af)||!WLt(Ny),ZLt=!Ny&&YIe(function(e){return new zLt($9,{detail:e}).detail}),Cf=YIe(Ny)||ZLt,V9=function(e){throw new Af("Uncloneable type: "+e,Ly)},ws=function(e,t){throw new Af((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Ly)},U9=function(e,t){return Cf||ws(t),Cf(e)},YLt=function(){var e;try{e=new Pi.DataTransfer}catch(t){try{e=new Pi.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},Y9=function(e,t,r){if(rw(t,e))return Z9(t,e);var n=r||Jx(e),i,o,u,p,h,y;if(n==="SharedArrayBuffer")Cf?i=Cf(e):i=e;else{var x=Pi.DataView;!x&&typeof e.slice!="function"&&ws("ArrayBuffer");try{if(typeof e.slice=="function"&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,u),p=new x(e),h=new x(i),y=0;y<o;y++)h.setUint8(y,p.getUint8(y))}catch(E){throw new Af("ArrayBuffer is detached",Ly)}}return Im(t,e,i),i},KIe=function(e,t,r,n,i){var o=Pi[t];return sM(o)||ws(t),new o(Y9(e.buffer,i),r,n)},H9=function(e,t,r){this.object=e,this.type=t,this.metadata=r},Ga=function(e,t,r){if(CLt(e)&&V9("Symbol"),!sM(e))return e;if(t){if(rw(t,e))return Z9(t,e)}else t=new Qx;var n=Jx(e),i,o,u,p,h,y,x,E;switch(n){case"Array":u=DLt(Sm(e));break;case"Object":u={};break;case"Map":u=new Qx;break;case"Set":u=new WIe;break;case"RegExp":u=new RegExp(e.source,OLt(e));break;case"Error":switch(o=e.name,o){case"AggregateError":u=new(W9("AggregateError"))([]);break;case"EvalError":u=new kLt;break;case"RangeError":u=new qLt;break;case"ReferenceError":u=new NLt;break;case"SyntaxError":u=new RLt;break;case"TypeError":u=new HIe;break;case"URIError":u=new LLt;break;case"CompileError":u=new FLt;break;case"LinkError":u=new jLt;break;case"RuntimeError":u=new BLt;break;default:u=new tw;}break;case"DOMException":u=new Af(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":u=r?new H9(e,n):Y9(e,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":y=n==="DataView"?e.byteLength:e.length,u=r?new H9(e,n,{offset:e.byteOffset,length:y}):KIe(e,n,e.byteOffset,y,t);break;case"DOMQuad":try{u=new DOMQuad(Ga(e.p1,t,r),Ga(e.p2,t,r),Ga(e.p3,t,r),Ga(e.p4,t,r))}catch(T){u=U9(e,n)}break;case"File":if(Cf)try{u=Cf(e),Jx(u)!==n&&(u=void 0)}catch(T){}if(!u)try{u=new File([e],e.name,e)}catch(T){}u||ws(n);break;case"FileList":if(p=YLt(),p){for(h=0,y=Sm(e);h<y;h++)p.items.add(Ga(e[h],t,r));u=p.files}else u=U9(e,n);break;case"ImageData":try{u=new ImageData(Ga(e.data,t,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(T){u=U9(e,n)}break;default:if(Cf)u=Cf(e);else switch(n){case"BigInt":u=Xx(e.valueOf());break;case"Boolean":u=Xx(VLt(e));break;case"Number":u=Xx(ULt(e));break;case"String":u=Xx($Lt(e));break;case"Date":u=new $Ie(HLt(e));break;case"Blob":try{u=e.slice(0,e.size,e.type)}catch(T){ws(n)}break;case"DOMPoint":case"DOMPointReadOnly":i=Pi[n];try{u=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(T){ws(n)}break;case"DOMRect":case"DOMRectReadOnly":i=Pi[n];try{u=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(T){ws(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=Pi[n];try{u=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(T){ws(n)}break;case"AudioData":case"VideoFrame":aM(e.clone)||ws(n);try{u=e.clone()}catch(T){V9(n)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ws(n);default:V9(n);}}switch(Im(t,e,u),n){case"Array":case"Object":for(x=ZIe(e),h=0,y=Sm(x);h<y;h++)E=x[h],MLt(u,E,Ga(e[E],t,r));break;case"Map":e.forEach(function(T,D){Im(u,Ga(D,t,r),Ga(T,t,r))});break;case"Set":e.forEach(function(T){GIe(u,Ga(T,t,r))});break;case"Error":B9(u,"message",Ga(e.message,t,r)),jIe(e,"cause")&&B9(u,"cause",Ga(e.cause,t,r)),o==="AggregateError"&&(u.errors=Ga(e.errors,t,r));case"DOMException":VIe&&B9(u,"stack",Ga(e.stack,t,r));}return u},Td=function(e,t){if(!sM(e))return e;if(rw(t,e))return Z9(t,e);var r,n,i,o,u,p,h,y;if(e instanceof H9)switch(r=e.type,n=e.object,r){case"ArrayBuffer":case"SharedArrayBuffer":y=Y9(n,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,y=KIe(n,r,i.offset,i.length,t);}else switch(Jx(e)){case"Array":case"Object":for(p=ZIe(e),o=0,u=Sm(p);o<u;o++)h=p[o],e[h]=Td(e[h],t);break;case"Map":y=new Qx,e.forEach(function(x,E){Im(y,Td(E,t),Td(x,t))});break;case"Set":y=new WIe,e.forEach(function(x){GIe(y,Td(x,t))});break;case"Error":e.message=Td(e.message,t),jIe(e,"cause")&&(e.cause=Td(e.cause,t)),e.name==="AggregateError"&&(e.errors=Td(e.errors,t));case"DOMException":VIe&&(e.stack=Td(e.stack,t));}return Im(t,e,y||e),y||e},KLt=function(e,t){if(!sM(e))throw new HIe("Transfer option cannot be converted to a sequence");var r=[];ALt(e,function(T){LIe(r,FIe(T))});for(var n=0,i=Sm(r),o=[],u,p,h,y,x,E;n<i;){if(u=r[n++],p=Jx(u),p==="ArrayBuffer"){LIe(o,u);continue}if(rw(t,u))throw new Af("Duplicate transferable",Ly);if(UIe)y=Ny(u,{transfer:[u]});else switch(p){case"ImageBitmap":h=Pi.OffscreenCanvas,ELt(h)||ws(p,oM);try{x=new h(u.width,u.height),E=x.getContext("bitmaprenderer"),E.transferFromImageBitmap(u),y=x.transferToImageBitmap()}catch(T){}break;case"AudioData":case"VideoFrame":(!aM(u.clone)||!aM(u.close))&&ws(p,oM);try{y=u.clone(),u.close()}catch(T){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ws(p,oM);}if(y===void 0)throw new Af("This object cannot be transferred: "+p,Ly);Im(t,u,y)}return o},XLt=function(e,t){for(var r=0,n=Sm(e),i,o;r<n;){if(i=e[r++],rw(t,i))throw new Af("Duplicate transferable",Ly);RIe?o=RIe(i,void 0,!0):(aM(i.transfer)||ws("ArrayBuffer",oM),o=i.transfer()),Im(t,i,o)}};SLt({global:!0,enumerable:!0,sham:!UIe,forced:GLt},{structuredClone:function(t){var r=PLt(arguments.length,1)>1&&!TLt(arguments[1])?FIe(arguments[1]):void 0,n=r?r.transfer:void 0,i=!1,o,u;n!==void 0&&(o=new Qx,u=KLt(n,o),i=!!Sm(u));var p=Ga(t,o,i);return i&&(o=new Qx,XLt(n,o),p=Td(p,o)),p}})});var eEe=I(()=>{"use strict";var JLt=J(),QIe=Xt(),QLt=nM(),JIe=QLt(QIe.setInterval,!0);JLt({global:!0,bind:!0,forced:QIe.setInterval!==JIe},{setInterval:JIe})});var nEe=I(()=>{"use strict";var e6t=J(),rEe=Xt(),t6t=nM(),tEe=t6t(rEe.setTimeout,!0);e6t({global:!0,bind:!0,forced:rEe.setTimeout!==tEe},{setTimeout:tEe})});var iEe=I(()=>{"use strict";eEe();nEe()});var uM=I((fIr,aEe)=>{"use strict";var r6t=yt(),n6t=hr(),i6t=fr(),oEe=Gr(),o6t=n6t("iterator");aEe.exports=!r6t(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),oEe&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(oEe||!i6t)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[o6t]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var mEe=I((hIr,hEe)=>{"use strict";var Em=it(),K9=2147483647,nw=36,dEe=1,Q9=26,a6t=38,s6t=700,l6t=72,u6t=128,c6t="-",d6t=/[^\0-\u007E]/,pEe=/[.\u3002\uFF0E\uFF61]/g,sEe="Overflow: input needs wider integers to process",X9=nw-dEe,lEe=RangeError,p6t=Em(pEe.exec),zy=Math.floor,J9=String.fromCharCode,uEe=Em("".charCodeAt),fEe=Em([].join),Mf=Em([].push),f6t=Em("".replace),h6t=Em("".split),m6t=Em("".toLowerCase),g6t=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=uEe(e,r++);if(i>=55296&&i<=56319&&r<n){var o=uEe(e,r++);(o&64512)===56320?Mf(t,((i&1023)<<10)+(o&1023)+65536):(Mf(t,i),r--)}else Mf(t,i)}return t},cEe=function(e){return e+22+75*(e<26)},v6t=function(e,t,r){var n=0;for(e=r?zy(e/s6t):e>>1,e+=zy(e/t);e>X9*Q9>>1;)e=zy(e/X9),n+=nw;return zy(n+(X9+1)*e/(e+a6t))},y6t=function(e){var t=[];e=g6t(e);var r=e.length,n=u6t,i=0,o=l6t,u,p;for(u=0;u<e.length;u++)p=e[u],p<128&&Mf(t,J9(p));var h=t.length,y=h;for(h&&Mf(t,c6t);y<r;){var x=K9;for(u=0;u<e.length;u++)p=e[u],p>=n&&p<x&&(x=p);var E=y+1;if(x-n>zy((K9-i)/E))throw new lEe(sEe);for(i+=(x-n)*E,n=x,u=0;u<e.length;u++){if(p=e[u],p<n&&++i>K9)throw new lEe(sEe);if(p===n){for(var T=i,D=nw;;){var z=D<=o?dEe:D>=o+Q9?Q9:D-o;if(T<z)break;var F=T-z,q=nw-z;Mf(t,J9(cEe(z+F%q))),T=zy(F/q),D+=nw}Mf(t,J9(cEe(T))),o=v6t(i,E,y===h),i=0,y++}}i++,n++}return fEe(t,"")};hEe.exports=function(e){var t=[],r=h6t(f6t(m6t(e),pEe,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Mf(t,p6t(d6t,i)?"xn--"+y6t(i):i);return fEe(t,".")}});var uj=I((mIr,NEe)=>{"use strict";Bb();var ij=J(),By=Xt(),cM=Lt(),dc=it(),jy=fr(),CEe=uM(),AEe=On(),_6t=yi(),b6t=Dl(),x6t=vs(),w6t=uf(),sj=In(),MEe=xa(),ej=Tr(),S6t=zr(),I6t=jn(),E6t=gs(),T6t=Ft(),PEe=Cr(),Za=Sr(),C6t=Fi(),gEe=hs(),oj=sf(),A6t=fd(),Fy=ql(),M6t=hr(),P6t=qT(),O6t=M6t("iterator"),ow="URLSearchParams",OEe=ow+"Iterator",DEe=sj.set,Rl=sj.getterFor(ow),D6t=sj.getterFor(OEe),k6t=Object.getOwnPropertyDescriptor,lj=function(e){if(!jy)return By[e];var t=k6t(By,e);return t&&t.value},vEe=lj("fetch"),pM=lj("Request"),iw=lj("Headers"),tj=pM&&pM.prototype,yEe=iw&&iw.prototype,q6t=By.RegExp,N6t=By.TypeError,kEe=By.decodeURIComponent,R6t=By.encodeURIComponent,L6t=dc("".charAt),_Ee=dc([].join),Tm=dc([].push),aj=dc("".replace),z6t=dc([].shift),bEe=dc([].splice),xEe=dc("".split),F6t=dc("".slice),j6t=/\+/g,wEe=Array(4),B6t=function(e){return wEe[e-1]||(wEe[e-1]=q6t("((?:%[\\da-f]{2}){"+e+"})","gi"))},V6t=function(e){try{return kEe(e)}catch(t){return e}},SEe=function(e){var t=aj(e,j6t," "),r=4;try{return kEe(t)}catch(n){for(;r;)t=aj(t,B6t(r--),V6t);return t}},U6t=/[!'()~]|%20/g,$6t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H6t=function(e){return $6t[e]},IEe=function(e){return aj(R6t(e),U6t,H6t)},rj=w6t(function(t,r){DEe(this,{type:OEe,iterator:oj(Rl(t).entries),kind:r})},"Iterator",function(){var t=D6t(this),r=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),qEe=function(e){this.entries=[],this.url=null,e!==void 0&&(PEe(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?L6t(e,0)==="?"?F6t(e,1):e:Za(e)))};qEe.prototype={type:ow,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=A6t(e),r,n,i,o,u,p,h;if(t)for(r=oj(e,t),n=r.next;!(i=cM(n,r)).done;){if(o=oj(T6t(i.value)),u=o.next,(p=cM(u,o)).done||(h=cM(u,o)).done||!cM(u,o).done)throw new N6t("Expected sequence with length 2");Tm(this.entries,{key:Za(p.value),value:Za(h.value)})}else for(var y in e)S6t(e,y)&&Tm(this.entries,{key:y,value:Za(e[y])})},parseQuery:function(e){if(e)for(var t=xEe(e,"&"),r=0,n,i;r<t.length;)n=t[r++],n.length&&(i=xEe(n,"="),Tm(this.entries,{key:SEe(z6t(i)),value:SEe(_Ee(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],Tm(t,IEe(n.key)+"="+IEe(n.value));return _Ee(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fM=function(){MEe(this,Vy);var t=arguments.length>0?arguments[0]:void 0,r=DEe(this,new qEe(t));jy||(this.size=r.entries.length)},Vy=fM.prototype;b6t(Vy,{append:function(t,r){var n=Rl(this);Fy(arguments.length,2),Tm(n.entries,{key:Za(t),value:Za(r)}),jy||this.length++,n.updateURL()},delete:function(e){for(var t=Rl(this),r=Fy(arguments.length,1),n=t.entries,i=Za(e),o=r<2?void 0:arguments[1],u=o===void 0?o:Za(o),p=0;p<n.length;){var h=n[p];if(h.key===i&&(u===void 0||h.value===u)){if(bEe(n,p,1),u!==void 0)break}else p++}jy||(this.size=n.length),t.updateURL()},get:function(t){var r=Rl(this).entries;Fy(arguments.length,1);for(var n=Za(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=Rl(this).entries;Fy(arguments.length,1);for(var n=Za(t),i=[],o=0;o<r.length;o++)r[o].key===n&&Tm(i,r[o].value);return i},has:function(t){for(var r=Rl(this).entries,n=Fy(arguments.length,1),i=Za(t),o=n<2?void 0:arguments[1],u=o===void 0?o:Za(o),p=0;p<r.length;){var h=r[p++];if(h.key===i&&(u===void 0||h.value===u))return!0}return!1},set:function(t,r){var n=Rl(this);Fy(arguments.length,1);for(var i=n.entries,o=!1,u=Za(t),p=Za(r),h=0,y;h<i.length;h++)y=i[h],y.key===u&&(o?bEe(i,h--,1):(o=!0,y.value=p));o||Tm(i,{key:u,value:p}),jy||(this.size=i.length),n.updateURL()},sort:function(){var t=Rl(this);P6t(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Rl(this).entries,n=I6t(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new rj(this,"keys")},values:function(){return new rj(this,"values")},entries:function(){return new rj(this,"entries")}},{enumerable:!0});AEe(Vy,O6t,Vy.entries,{name:"entries"});AEe(Vy,"toString",function(){return Rl(this).serialize()},{enumerable:!0});jy&&_6t(Vy,"size",{get:function(){return Rl(this).entries.length},configurable:!0,enumerable:!0});x6t(fM,ow);ij({global:!0,constructor:!0,forced:!CEe},{URLSearchParams:fM});!CEe&&ej(iw)&&(EEe=dc(yEe.has),TEe=dc(yEe.set),nj=function(e){if(PEe(e)){var t=e.body,r;if(E6t(t)===ow)return r=e.headers?new iw(e.headers):new iw,EEe(r,"content-type")||TEe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C6t(e,{body:gEe(0,Za(t)),headers:gEe(0,r)})}return e},ej(vEe)&&ij({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return vEe(t,arguments.length>1?nj(arguments[1]):{})}}),ej(pM)&&(dM=function(t){return MEe(this,tj),new pM(t,arguments.length>1?nj(arguments[1]):{})},tj.constructor=dM,dM.prototype=tj,ij({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:dM})));var EEe,TEe,nj,dM;NEe.exports={URLSearchParams:fM,getState:Rl}});var QEe=I(()=>{"use strict";Yz();var W6t=J(),Tj=fr(),G6t=uM(),Cj=Xt(),REe=jn(),Bl=it(),yM=On(),Ll=yi(),Z6t=xa(),Sj=zr(),Aj=j6(),Uy=_L(),bu=Xh(),Y6t=vm().codeAt,K6t=mEe(),Ad=Sr(),X6t=vs(),J6t=ql(),GEe=uj(),ZEe=In(),Q6t=ZEe.set,_M=ZEe.getterFor("URL"),ezt=GEe.URLSearchParams,tzt=GEe.getState,aw=Cj.URL,Ij=Cj.TypeError,bM=Cj.parseInt,rzt=Math.floor,LEe=Math.pow,jl=Bl("".charAt),xu=Bl(/./.exec),lw=Bl([].join),nzt=Bl(1 .toString),izt=Bl([].pop),Hy=Bl([].push),cj=Bl("".replace),ozt=Bl([].shift),azt=Bl("".split),cw=Bl("".slice),xM=Bl("".toLowerCase),szt=Bl([].unshift),lzt="Invalid authority",dj="Invalid scheme",Cm="Invalid host",zEe="Invalid port",YEe=/[a-z]/i,uzt=/[\d+-.a-z]/i,Ej=/\d/,czt=/^0x/i,dzt=/^[0-7]+$/,pzt=/^\d+$/,KEe=/^[\da-f]+$/i,fzt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,hzt=/[\0\t\n\r #/:<>?@[\\\]^|]/,mzt=/^[\u0000-\u0020]+/,gzt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,vzt=/[\t\n\r]/g,zl,yzt=function(e){var t=azt(e,"."),r,n,i,o,u,p,h;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(u=10,o.length>1&&jl(o,0)==="0"&&(u=xu(czt,o)?16:8,o=cw(o,u===8?1:2)),o==="")p=0;else{if(!xu(u===10?pzt:u===8?dzt:KEe,o))return e;p=bM(o,u)}Hy(n,p)}for(i=0;i<r;i++)if(p=n[i],i===r-1){if(p>=LEe(256,5-r))return null}else if(p>255)return null;for(h=izt(n),i=0;i<n.length;i++)h+=n[i]*LEe(256,3-i);return h},_zt=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,u,p,h,y,x,E,T=function(){return jl(e,i)};if(T()===":"){if(jl(e,1)!==":")return;i+=2,r++,n=r}for(;T();){if(r===8)return;if(T()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=u=0;u<4&&xu(KEe,T());)o=o*16+bM(T(),16),i++,u++;if(T()==="."){if(u===0||(i-=u,r>6))return;for(p=0;T();){if(h=null,p>0)if(T()==="."&&p<4)i++;else return;if(!xu(Ej,T()))return;for(;xu(Ej,T());){if(y=bM(T(),10),h===null)h=y;else{if(h===0)return;h=h*10+y}if(h>255)return;i++}t[r]=t[r]*256+h,p++,(p===2||p===4)&&r++}if(p!==4)return;break}else if(T()===":"){if(i++,!T())return}else if(T())return;t[r++]=o}if(n!==null)for(x=r-n,r=7;r!==0&&x>0;)E=t[r],t[r--]=t[n+x-1],t[n+--x]=E;else if(r!==8)return;return t},bzt=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(t=n,r=i),t},sw=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)szt(t,e%256),e=rzt(e/256);return lw(t,".")}else if(typeof e=="object"){for(t="",n=bzt(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=nzt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},vM={},XEe=Aj({},vM,{" ":1,"\"":1,"<":1,">":1,"`":1}),JEe=Aj({},XEe,{"#":1,"?":1,"{":1,"}":1}),pj=Aj({},JEe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pf=function(e,t){var r=Y6t(e,0);return r>32&&r<127&&!Sj(t,e)?e:encodeURIComponent(e)},hM={ftp:21,file:null,http:80,https:443,ws:80,wss:443},uw=function(e,t){var r;return e.length===2&&xu(YEe,jl(e,0))&&((r=jl(e,1))===":"||!t&&r==="|")},FEe=function(e){var t;return e.length>1&&uw(cw(e,0,2))&&(e.length===2||(t=jl(e,2))==="/"||t==="\\"||t==="?"||t==="#")},xzt=function(e){return e==="."||xM(e)==="%2e"},wzt=function(e){return e=xM(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},fj={},jEe={},hj={},BEe={},VEe={},mj={},UEe={},$Ee={},mM={},gM={},gj={},vj={},yj={},_j={},HEe={},bj={},$y={},pc={},WEe={},Am={},Cd={},Mj=function(e,t,r){var n=Ad(e),i,o,u;if(t){if(o=this.parse(n),o)throw new Ij(o);this.searchParams=null}else{if(r!==void 0&&(i=new Mj(r,!0)),o=this.parse(n,null,i),o)throw new Ij(o);u=tzt(new ezt),u.bindURL(this),this.searchParams=u}};Mj.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||fj,o=0,u="",p=!1,h=!1,y=!1,x,E,T,D;for(e=Ad(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=cj(e,mzt,""),e=cj(e,gzt,"$1")),e=cj(e,vzt,""),x=Uy(e);o<=x.length;){switch(E=x[o],i){case fj:if(E&&xu(YEe,E))u+=xM(E),i=jEe;else{if(t)return dj;i=hj;continue}break;case jEe:if(E&&(xu(uzt,E)||E==="+"||E==="-"||E==="."))u+=xM(E);else if(E===":"){if(t&&(n.isSpecial()!==Sj(hM,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&hM[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?i=_j:n.isSpecial()&&r&&r.scheme===n.scheme?i=BEe:n.isSpecial()?i=$Ee:x[o+1]==="/"?(i=VEe,o++):(n.cannotBeABaseURL=!0,Hy(n.path,""),i=WEe)}else{if(t)return dj;u="",i=hj,o=0;continue}break;case hj:if(!r||r.cannotBeABaseURL&&E!=="#")return dj;if(r.cannotBeABaseURL&&E==="#"){n.scheme=r.scheme,n.path=bu(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Cd;break}i=r.scheme==="file"?_j:mj;continue;case BEe:if(E==="/"&&x[o+1]==="/")i=mM,o++;else{i=mj;continue}break;case VEe:if(E==="/"){i=gM;break}else{i=pc;continue}case mj:if(n.scheme=r.scheme,E===zl)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=bu(r.path),n.query=r.query;else if(E==="/"||E==="\\"&&n.isSpecial())i=UEe;else if(E==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=bu(r.path),n.query="",i=Am;else if(E==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=bu(r.path),n.query=r.query,n.fragment="",i=Cd;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=bu(r.path),n.path.length--,i=pc;continue}break;case UEe:if(n.isSpecial()&&(E==="/"||E==="\\"))i=mM;else if(E==="/")i=gM;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=pc;continue}break;case $Ee:if(i=mM,E!=="/"||jl(u,o+1)!=="/")continue;o++;break;case mM:if(E!=="/"&&E!=="\\"){i=gM;continue}break;case gM:if(E==="@"){p&&(u="%40"+u),p=!0,T=Uy(u);for(var z=0;z<T.length;z++){var F=T[z];if(F===":"&&!y){y=!0;continue}var q=Pf(F,pj);y?n.password+=q:n.username+=q}u=""}else if(E===zl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(p&&u==="")return lzt;o-=Uy(u).length+1,u="",i=gj}else u+=E;break;case gj:case vj:if(t&&n.scheme==="file"){i=bj;continue}else if(E===":"&&!h){if(u==="")return Cm;if(D=n.parseHost(u),D)return D;if(u="",i=yj,t===vj)return}else if(E===zl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return Cm;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(D=n.parseHost(u),D)return D;if(u="",i=$y,t)return;continue}else E==="["?h=!0:E==="]"&&(h=!1),u+=E;break;case yj:if(xu(Ej,E))u+=E;else if(E===zl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()||t){if(u!==""){var N=bM(u,10);if(N>65535)return zEe;n.port=n.isSpecial()&&N===hM[n.scheme]?null:N,u=""}if(t)return;i=$y;continue}else return zEe;break;case _j:if(n.scheme="file",E==="/"||E==="\\")i=HEe;else if(r&&r.scheme==="file")switch(E){case zl:n.host=r.host,n.path=bu(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=bu(r.path),n.query="",i=Am;break;case"#":n.host=r.host,n.path=bu(r.path),n.query=r.query,n.fragment="",i=Cd;break;default:FEe(lw(bu(x,o),""))||(n.host=r.host,n.path=bu(r.path),n.shortenPath()),i=pc;continue;}else{i=pc;continue}break;case HEe:if(E==="/"||E==="\\"){i=bj;break}r&&r.scheme==="file"&&!FEe(lw(bu(x,o),""))&&(uw(r.path[0],!0)?Hy(n.path,r.path[0]):n.host=r.host),i=pc;continue;case bj:if(E===zl||E==="/"||E==="\\"||E==="?"||E==="#"){if(!t&&uw(u))i=pc;else if(u===""){if(n.host="",t)return;i=$y}else{if(D=n.parseHost(u),D)return D;if(n.host==="localhost"&&(n.host=""),t)return;u="",i=$y}continue}else u+=E;break;case $y:if(n.isSpecial()){if(i=pc,E!=="/"&&E!=="\\")continue}else if(!t&&E==="?")n.query="",i=Am;else if(!t&&E==="#")n.fragment="",i=Cd;else if(E!==zl&&(i=pc,E!=="/"))continue;break;case pc:if(E===zl||E==="/"||E==="\\"&&n.isSpecial()||!t&&(E==="?"||E==="#")){if(wzt(u)?(n.shortenPath(),E!=="/"&&!(E==="\\"&&n.isSpecial())&&Hy(n.path,"")):xzt(u)?E!=="/"&&!(E==="\\"&&n.isSpecial())&&Hy(n.path,""):(n.scheme==="file"&&!n.path.length&&uw(u)&&(n.host&&(n.host=""),u=jl(u,0)+":"),Hy(n.path,u)),u="",n.scheme==="file"&&(E===zl||E==="?"||E==="#"))for(;n.path.length>1&&n.path[0]==="";)ozt(n.path);E==="?"?(n.query="",i=Am):E==="#"&&(n.fragment="",i=Cd)}else u+=Pf(E,JEe);break;case WEe:E==="?"?(n.query="",i=Am):E==="#"?(n.fragment="",i=Cd):E!==zl&&(n.path[0]+=Pf(E,vM));break;case Am:!t&&E==="#"?(n.fragment="",i=Cd):E!==zl&&(E==="'"&&n.isSpecial()?n.query+="%27":E==="#"?n.query+="%23":n.query+=Pf(E,vM));break;case Cd:E!==zl&&(n.fragment+=Pf(E,XEe));break;}o++}},parseHost:function(e){var t,r,n;if(jl(e,0)==="["){if(jl(e,e.length-1)!=="]"||(t=_zt(cw(e,1,-1)),!t))return Cm;this.host=t}else if(this.isSpecial()){if(e=K6t(e),xu(fzt,e)||(t=yzt(e),t===null))return Cm;this.host=t}else{if(xu(hzt,e))return Cm;for(t="",r=Uy(e),n=0;n<r.length;n++)t+=Pf(r[n],vM);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Sj(hM,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!uw(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,u=e.path,p=e.query,h=e.fragment,y=t+":";return i!==null?(y+="//",e.includesCredentials()&&(y+=r+(n?":"+n:"")+"@"),y+=sw(i),o!==null&&(y+=":"+o)):t==="file"&&(y+="//"),y+=e.cannotBeABaseURL?u[0]:u.length?"/"+lw(u,"/"):"",p!==null&&(y+="?"+p),h!==null&&(y+="#"+h),y},setHref:function(e){var t=this.parse(e);if(t)throw new Ij(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new Wy(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+sw(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Ad(e)+":",fj)},getUsername:function(){return this.username},setUsername:function(e){var t=Uy(Ad(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Pf(t[r],pj)}},getPassword:function(){return this.password},setPassword:function(e){var t=Uy(Ad(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Pf(t[r],pj)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?sw(e):sw(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,gj)},getHostname:function(){var e=this.host;return e===null?"":sw(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,vj)},getPort:function(){var e=this.port;return e===null?"":Ad(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Ad(e),e===""?this.port=null:this.parse(e,yj))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+lw(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,$y))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Ad(e),e===""?this.query=null:(jl(e,0)==="?"&&(e=cw(e,1)),this.query="",this.parse(e,Am)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Ad(e),e===""){this.fragment=null;return}jl(e,0)==="#"&&(e=cw(e,1)),this.fragment="",this.parse(e,Cd)},update:function(){this.query=this.searchParams.serialize()||null}};var Wy=function(t){var r=Z6t(this,Ya),n=J6t(arguments.length,1)>1?arguments[1]:void 0,i=Q6t(r,new Mj(t,!1,n));Tj||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Ya=Wy.prototype,Fl=function(e,t){return{get:function(){return _M(this)[e]()},set:t&&function(r){return _M(this)[t](r)},configurable:!0,enumerable:!0}};Tj&&(Ll(Ya,"href",Fl("serialize","setHref")),Ll(Ya,"origin",Fl("getOrigin")),Ll(Ya,"protocol",Fl("getProtocol","setProtocol")),Ll(Ya,"username",Fl("getUsername","setUsername")),Ll(Ya,"password",Fl("getPassword","setPassword")),Ll(Ya,"host",Fl("getHost","setHost")),Ll(Ya,"hostname",Fl("getHostname","setHostname")),Ll(Ya,"port",Fl("getPort","setPort")),Ll(Ya,"pathname",Fl("getPathname","setPathname")),Ll(Ya,"search",Fl("getSearch","setSearch")),Ll(Ya,"searchParams",Fl("getSearchParams")),Ll(Ya,"hash",Fl("getHash","setHash")));yM(Ya,"toJSON",function(){return _M(this).serialize()},{enumerable:!0});yM(Ya,"toString",function(){return _M(this).serialize()},{enumerable:!0});aw&&(xj=aw.createObjectURL,wj=aw.revokeObjectURL,xj&&yM(Wy,"createObjectURL",REe(xj,aw)),wj&&yM(Wy,"revokeObjectURL",REe(wj,aw)));var xj,wj;X6t(Wy,"URL");W6t({global:!0,constructor:!0,forced:!G6t,sham:!Tj},{URL:Wy})});var eTe=I(()=>{"use strict";QEe()});var nTe=I(()=>{"use strict";var Szt=J(),Izt=br(),Ezt=yt(),Tzt=ql(),tTe=Sr(),Czt=uM(),rTe=Izt("URL"),Azt=Czt&&Ezt(function(){rTe.canParse()});Szt({target:"URL",stat:!0,forced:!Azt},{canParse:function(t){var r=Tzt(arguments.length,1),n=tTe(t),i=r<2||arguments[1]===void 0?void 0:tTe(arguments[1]);try{return!!new rTe(n,i)}catch(o){return!1}}})});var iTe=I(()=>{"use strict";var Mzt=J(),Pzt=Lt();Mzt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Pzt(URL.prototype.toString,this)}})});var oTe=I(()=>{"use strict";uj()});var uTe=I(()=>{"use strict";var Ozt=On(),wM=it(),aTe=Sr(),Dzt=ql(),lTe=URLSearchParams,SM=lTe.prototype,kzt=wM(SM.append),sTe=wM(SM.delete),qzt=wM(SM.forEach),Nzt=wM([].push),Pj=new lTe("a=1&a=2&b=3");Pj.delete("a",1);Pj.delete("b",void 0);Pj+""!="a=2"&&Ozt(SM,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return sTe(this,e);var n=[];qzt(this,function(E,T){Nzt(n,{key:T,value:E})}),Dzt(t,1);for(var i=aTe(e),o=aTe(r),u=0,p=0,h=!1,y=n.length,x;u<y;)x=n[u++],h||x.key===i?(h=!0,sTe(this,x.key)):p++;for(;p<y;)x=n[p++],x.key===i&&x.value===o||kzt(this,x.key,x.value)},{enumerable:!0,unsafe:!0})});var fTe=I(()=>{"use strict";var Rzt=On(),dTe=it(),Lzt=Sr(),zzt=ql(),pTe=URLSearchParams,Oj=pTe.prototype,Fzt=dTe(Oj.getAll),jzt=dTe(Oj.has),cTe=new pTe("a=1");(cTe.has("a",2)||!cTe.has("a",void 0))&&Rzt(Oj,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return jzt(this,t);var i=Fzt(this,t);zzt(r,1);for(var o=Lzt(n),u=0;u<i.length;)if(i[u++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var hTe=I(()=>{"use strict";var Bzt=fr(),Vzt=it(),Uzt=yi(),Dj=URLSearchParams.prototype,$zt=Vzt(Dj.forEach);Bzt&&!("size"in Dj)&&Uzt(Dj,"size",{get:function(){var t=0;return $zt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var gTe=I((DIr,mTe)=>{"use strict";Sre();Pre();Ore();Dre();kre();qre();Nre();Rre();Lre();zre();Fre();jre();Bre();Vre();Ure();hne();_ne();aL();Fne();cL();Wne();Kne();Jne();tie();rie();iie();aie();mL();gL();die();pie();mie();Iie();Eie();Cie();Aie();Bb();Yie();Qie();eoe();roe();ioe();uoe();doe();foe();goe();voe();koe();Roe();Loe();RL();zL();FL();Boe();Voe();Uoe();BL();bae();Dae();Bae();Uae();$ae();Wae();Yae();Kae();ase();sse();pse();gse();yse();Ise();Cse();Ose();h6();WR();Dse();rC();Kse();Qse();tle();rle();nle();ale();lle();ule();dle();fle();mle();gle();vle();yle();xle();Ile();Ele();Tle();Lle();zle();jle();Vle();Ule();$le();Hle();Wle();Jle();aue();due();vue();bue();Eue();Tue();Mue();Oue();kue();que();jue();Bue();Vue();Hue();Wue();Gue();Yue();U6();Xue();Que();tce();nce();oce();ace();sce();lce();hce();mce();gce();_ce();bce();wce();Ice();qde();Tz();Cz();Fde();jde();Gde();Kde();Xde();tpe();rpe();npe();ipe();ope();ape();spe();ppe();hpe();mpe();Ope();kpe();IC();Fpe();Bpe();$pe();Gpe();Ype();Kpe();efe();sfe();cfe();pfe();Zz();Yz();Tfe();r8();Lfe();zfe();Vfe();Ufe();Yfe();d8();rhe();lhe();fhe();mhe();v8();whe();Che();Dhe();Rhe();Lhe();zhe();Fhe();jhe();Bhe();Vhe();Uhe();$he();Hhe();Whe();Ghe();Zhe();wme();Sme();Ime();Eme();Tme();Cme();Ame();Mme();Pme();D8();kme();Nme();Lme();Vme();$me();Wme();k8();q8();Kme();Xme();Qme();tge();age();lge();cge();pge();hge();gge();yge();bge();Tge();Age();Pge();Rge();Fge();$ge();H8();W8();Wge();Z8();Xge();XC();mve();gve();yve();Hve();Wve();Gve();Zve();Yve();Kve();Jve();Qve();rye();nye();aye();sye();cye();dye();pye();fye();xye();wye();Tye();Vye();$ye();r0e();s0e();_0e();S0e();T0e();C0e();M0e();P0e();R0e();L0e();F0e();j0e();B0e();V0e();U0e();W0e();G0e();e1e();a1e();l1e();u1e();c1e();p1e();f1e();y1e();b1e();w1e();S1e();T1e();C1e();A1e();k1e();U1e();W1e();Z1e();Y1e();X1e();J1e();n_e();i_e();o_e();a_e();s_e();u_e();c_e();d_e();f_e();h_e();g_e();b_e();D_e();B_e();U_e();H_e();W_e();Z_e();Y_e();K_e();ebe();tbe();ibe();abe();sbe();ube();dbe();pbe();hbe();mbe();gbe();ybe();bbe();xbe();wbe();Sbe();Ibe();Tbe();Cbe();Abe();Mbe();Pbe();Obe();Dbe();kbe();Lbe();zbe();Fbe();Bbe();Vbe();Ube();Gbe();Zbe();Ybe();Kbe();dxe();pxe();fxe();hxe();mxe();xxe();Sxe();Exe();Mxe();Oxe();kxe();Rxe();zxe();jxe();Vxe();Hxe();Wxe();pwe();vwe();ywe();bwe();xwe();wwe();Ewe();Twe();Awe();Mwe();Owe();Dwe();qwe();Nwe();Lwe();Fwe();jwe();Bwe();Vwe();$we();Hwe();Gwe();Zwe();Ywe();eSe();oSe();ISe();ESe();TSe();CSe();ASe();MSe();PSe();DSe();kSe();jSe();BSe();VSe();USe();$Se();HSe();WSe();GSe();YSe();KSe();JSe();e2e();t2e();r2e();i2e();o2e();a2e();s2e();l2e();u2e();p2e();f2e();h2e();g2e();v2e();b2e();x2e();w2e();S2e();D2e();B2e();Z2e();eIe();pIe();_Ie();xIe();DIe();kIe();NIe();XIe();iEe();eTe();nTe();iTe();oTe();uTe();fTe();hTe();mTe.exports=uT()});var yTe=I((kIr,vTe)=>{"use strict";vTe.exports=gTe()});var RCe=I((mEr,NCe)=>{"use strict";var cBt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";NCe.exports=cBt});var jCe=I((gEr,FCe)=>{"use strict";var dBt=RCe();function LCe(){}function zCe(){}zCe.resetWarningCache=LCe;FCe.exports=function(){function e(n,i,o,u,p,h){if(h!==dBt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zCe,resetWarningCache:LCe};return r.PropTypes=r,r}});var Wt=I((_Er,BCe)=>{BCe.exports=jCe()();var vEr,yEr});var Ew=I((SB,IB)=>{(function(e,t){typeof SB=="object"&&typeof IB!="undefined"?IB.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(SB,function(){"use strict";var e={},t={};function r(i,o,u){if(t[i]=u,i==="index"){var p="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",h={};return t.shared(h),t.index(e,h),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([p],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(l,s,c,f){return new(c||(c=Promise))(function(v,w){function S(k){try{M(f.next(k))}catch(R){w(R)}}function C(k){try{M(f.throw(k))}catch(R){w(R)}}function M(k){var R;k.done?v(k.value):(R=k.value,R instanceof c?R:new c(function(j){j(R)})).then(S,C)}M((f=f.apply(l,s||[])).next())})}function u(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var p=h;function h(l,s){this.x=l,this.y=s}h.prototype={clone:function(){return new h(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,s){return this.clone()._rotateAround(l,s)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var s=l.x-this.x,c=l.y-this.y;return s*s+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,s){return Math.atan2(this.x*s-this.y*l,this.x*l+this.y*s)},_matMult:function(l){var s=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=s,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var s=Math.cos(l),c=Math.sin(l),f=c*this.x+s*this.y;return this.x=s*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,s){var c=Math.cos(l),f=Math.sin(l),v=s.y+f*(this.x-s.x)+c*(this.y-s.y);return this.x=s.x+c*(this.x-s.x)-f*(this.y-s.y),this.y=v,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},h.convert=function(l){return l instanceof h?l:Array.isArray(l)?new h(l[0],l[1]):l};var y=u(p),x=E;function E(l,s,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(f-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=f}E.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var v=this.sampleCurveX(c)-l;if(Math.abs(v)<s)return c;var w=this.sampleCurveDerivativeX(c);if(Math.abs(w)<1e-6)break;c-=v/w}var S=0,C=1;for(c=l,f=0;f<20&&(v=this.sampleCurveX(c),!(Math.abs(v-l)<s));f++)l>v?S=c:C=c,c=.5*(C-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var T=u(x);let D,z;function F(){return D==null&&(D=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),D}function q(){if(z==null&&(z=!1,F())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let f=0;f<5*5;f++){let v=4*f;s.fillStyle=`rgb(${v},${v+1},${v+2})`,s.fillRect(f%5,Math.floor(f/5),1,1)}let c=s.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){z=!0;break}}}return z||!1}function N(l,s,c,f){let v=new T(l,s,c,f);return w=>v.solve(w)}let B=N(.25,.1,.25,1);function Z(l,s,c){return Math.min(c,Math.max(s,l))}function ee(l,s,c){let f=c-s,v=((l-s)%f+f)%f+s;return v===s?c:v}function ae(l,...s){for(let c of s)for(let f in c)l[f]=c[f];return l}let ue=1;function ve(l,s,c){let f={};for(let v in l)f[v]=s.call(this,l[v],v,l);return f}function Oe(l,s,c){let f={};for(let v in l)s.call(this,l[v],v,l)&&(f[v]=l[v]);return f}function be(l){return Array.isArray(l)?l.map(be):typeof l=="object"&&l?ve(l,be):l}let ze={};function $e(l){ze[l]||(typeof console!="undefined"&&console.warn(l),ze[l]=!0)}function He(l,s,c){return(c.y-l.y)*(s.x-l.x)>(s.y-l.y)*(c.x-l.x)}function Re(l){return typeof WorkerGlobalScope!="undefined"&&l!==void 0&&l instanceof WorkerGlobalScope}let Je=null;function ot(l){return typeof ImageBitmap!="undefined"&&l instanceof ImageBitmap}let Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Le(l,s,c,f,v){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let w=new VideoFrame(l,{timestamp:0});try{let S=w==null?void 0:w.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);let C=S.startsWith("BGR"),M=new Uint8ClampedArray(f*v*4);if(yield w.copyTo(M,function(k,R,j,W,G){let X=4*Math.max(-R,0),Q=(Math.max(0,j)-j)*W*4+X,le=4*W,de=Math.max(0,R),ke=Math.max(0,j);return{rect:{x:de,y:ke,width:Math.min(k.width,R+W)-de,height:Math.min(k.height,j+G)-ke},layout:[{offset:Q,stride:le}]}}(l,s,c,f,v)),C)for(let k=0;k<M.length;k+=4){let R=M[k];M[k]=M[k+2],M[k+2]=R}return M}finally{w.close()}})}let Pe,Qe,lt="AbortError";function pt(){return new Error(lt)}let je={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ge(l){return je.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))]}let at="global-dispatcher";class De extends Error{constructor(s,c,f,v){super(`AJAXError: ${c} (${s}): ${f}`),this.status=s,this.statusText=c,this.url=f,this.body=v}}let he=()=>Re(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,qe=function(l,s){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){let f=Ge(l.url);if(f)return f(l,s);if(Re(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,targetMapId:at},s)}if(!(/^file:/.test(c=l.url)||/^file:/.test(he())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(f,v){return o(this,void 0,void 0,function*(){let w=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:he(),signal:v.signal});f.type!=="json"||w.headers.has("Accept")||w.headers.set("Accept","application/json");let S=yield fetch(w);if(!S.ok){let k=yield S.blob();throw new De(S.status,S.statusText,f.url,k)}let C;C=f.type==="arrayBuffer"||f.type==="image"?S.arrayBuffer():f.type==="json"?S.json():S.text();let M=yield C;if(v.signal.aborted)throw pt();return{data:M,cacheControl:S.headers.get("Cache-Control"),expires:S.headers.get("Expires")}})}(l,s);if(Re(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,mustQueue:!0,targetMapId:at},s)}var c;return function(f,v){return new Promise((w,S)=>{var C;let M=new XMLHttpRequest;M.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(M.responseType="arraybuffer");for(let k in f.headers)M.setRequestHeader(k,f.headers[k]);f.type==="json"&&(M.responseType="text",!((C=f.headers)===null||C===void 0)&&C.Accept||M.setRequestHeader("Accept","application/json")),M.withCredentials=f.credentials==="include",M.onerror=()=>{S(new Error(M.statusText))},M.onload=()=>{if(!v.signal.aborted)if((M.status>=200&&M.status<300||M.status===0)&&M.response!==null){let k=M.response;if(f.type==="json")try{k=JSON.parse(M.response)}catch(R){return void S(R)}w({data:k,cacheControl:M.getResponseHeader("Cache-Control"),expires:M.getResponseHeader("Expires")})}else{let k=new Blob([M.response],{type:M.getResponseHeader("Content-Type")});S(new De(M.status,M.statusText,f.url,k))}},v.signal.addEventListener("abort",()=>{M.abort(),S(pt())}),M.send(f.body)})}(l,s)};function Te(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;let s=new URL(l),c=window.location;return s.protocol===c.protocol&&s.host===c.host}function Ke(l,s,c){c[l]&&c[l].indexOf(s)!==-1||(c[l]=c[l]||[],c[l].push(s))}function Ze(l,s,c){if(c&&c[l]){let f=c[l].indexOf(s);f!==-1&&c[l].splice(f,1)}}class St{constructor(s,c={}){ae(this,c),this.type=s}}class It extends St{constructor(s,c={}){super("error",ae({error:s},c))}}class Dt{on(s,c){return this._listeners=this._listeners||{},Ke(s,c,this._listeners),this}off(s,c){return Ze(s,c,this._listeners),Ze(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ke(s,c,this._oneTimeListeners),this):new Promise(f=>this.once(s,f))}fire(s,c){typeof s=="string"&&(s=new St(s,c||{}));let f=s.type;if(this.listens(f)){s.target=this;let v=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(let C of v)C.call(this,s);let w=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(let C of w)Ze(f,C,this._oneTimeListeners),C.call(this,s);let S=this._eventedParent;S&&(ae(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(s))}else s instanceof It&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var we={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let ft=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function $t(l,s){let c={};for(let f in l)f!=="ref"&&(c[f]=l[f]);return ft.forEach(f=>{f in s&&(c[f]=s[f])}),c}function gt(l,s){if(Array.isArray(l)){if(!Array.isArray(s)||l.length!==s.length)return!1;for(let c=0;c<l.length;c++)if(!gt(l[c],s[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&s!==null){if(typeof s!="object"||Object.keys(l).length!==Object.keys(s).length)return!1;for(let c in l)if(!gt(l[c],s[c]))return!1;return!0}return l===s}function Ht(l,s){l.push(s)}function dr(l,s,c){Ht(c,{command:"addSource",args:[l,s[l]]})}function Vt(l,s,c){Ht(s,{command:"removeSource",args:[l]}),c[l]=!0}function pr(l,s,c,f){Vt(l,c,f),dr(l,s,c)}function $r(l,s,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!gt(l[c][f],s[c][f]))return!1;for(f in s[c])if(Object.prototype.hasOwnProperty.call(s[c],f)&&f!=="data"&&!gt(l[c][f],s[c][f]))return!1;return!0}function jr(l,s,c,f,v,w){l=l||{},s=s||{};for(let S in l)Object.prototype.hasOwnProperty.call(l,S)&&(gt(l[S],s[S])||c.push({command:w,args:[f,S,s[S],v]}));for(let S in s)Object.prototype.hasOwnProperty.call(s,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(gt(l[S],s[S])||c.push({command:w,args:[f,S,s[S],v]}))}function sr(l){return l.id}function Qr(l,s){return l[s.id]=s,l}class st{constructor(s,c,f,v){this.message=(s?`${s}: `:"")+f,v&&(this.identifier=v),c!=null&&c.__line__&&(this.line=c.__line__)}}function fi(l,...s){for(let c of s)for(let f in c)l[f]=c[f];return l}class _n extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}class ts{constructor(s,c=[]){this.parent=s,this.bindings={};for(let[f,v]of c)this.bindings[f]=v}concat(s){return new ts(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let pl={kind:"null"},xt={kind:"number"},Er={kind:"string"},cr={kind:"boolean"},ho={kind:"color"},ka={kind:"object"},Se={kind:"value"},Ae={kind:"collator"},ct={kind:"formatted"},kt={kind:"padding"},Ot={kind:"resolvedImage"},ne={kind:"variableAnchorOffsetCollection"};function H(l,s){return{kind:"array",itemType:l,N:s}}function $(l){if(l.kind==="array"){let s=$(l.itemType);return typeof l.N=="number"?`array<${s}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${s}>`}return l.kind}let Y=[pl,xt,Er,cr,ho,ct,ka,H(Se),kt,Ot,ne];function ie(l,s){if(s.kind==="error")return null;if(l.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!ie(l.itemType,s.itemType))&&(typeof l.N!="number"||l.N===s.N))return null}else{if(l.kind===s.kind)return null;if(l.kind==="value"){for(let c of Y)if(!ie(c,s))return null}}return`Expected ${$(l)} but found ${$(s)} instead.`}function ge(l,s){return s.some(c=>c.kind===l.kind)}function xe(l,s){return s.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function Ee(l,s){return l.kind==="array"&&s.kind==="array"?l.itemType.kind===s.itemType.kind&&typeof l.N=="number":l.kind===s.kind}let fe=.96422,Ve=.82521,et=4/29,Fe=6/29,ht=3*Fe*Fe,Gt=Fe*Fe*Fe,ir=Math.PI/180,nn=180/Math.PI;function wr(l){return(l%=360)<0&&(l+=360),l}function on([l,s,c,f]){let v,w,S=Di((.2225045*(l=Hr(l))+.7168786*(s=Hr(s))+.0606169*(c=Hr(c)))/1);l===s&&s===c?v=w=S:(v=Di((.4360747*l+.3850649*s+.1430804*c)/fe),w=Di((.0139322*l+.0971045*s+.7141733*c)/Ve));let C=116*S-16;return[C<0?0:C,500*(v-S),200*(S-w),f]}function Hr(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Di(l){return l>Gt?Math.pow(l,1/3):l/ht+et}function hi([l,s,c,f]){let v=(l+16)/116,w=isNaN(s)?v:v+s/500,S=isNaN(c)?v:v-c/200;return v=1*wn(v),w=fe*wn(w),S=Ve*wn(S),[kr(3.1338561*w-1.6168667*v-.4906146*S),kr(-.9787684*w+1.9161415*v+.033454*S),kr(.0719453*w-.2289914*v+1.4052427*S),f]}function kr(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function wn(l){return l>Fe?l*l*l:ht*(l-et)}function ni(l){return parseInt(l.padEnd(2,l),16)/255}function Ji(l,s){return oo(s?l/100:l,0,1)}function oo(l,s,c){return Math.min(Math.max(s,l),c)}function Do(l){return!l.some(Number.isNaN)}let ep={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Sn{constructor(s,c,f,v=1,w=!0){this.r=s,this.g=c,this.b=f,this.a=v,w||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[s,c,f,v]))}static parse(s){if(s instanceof Sn)return s;if(typeof s!="string")return;let c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];let v=ep[f];if(v){let[S,C,M]=v;return[S/255,C/255,M/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){let S=f.length<6?1:2,C=1;return[ni(f.slice(C,C+=S)),ni(f.slice(C,C+=S)),ni(f.slice(C,C+=S)),ni(f.slice(C,C+S)||"ff")]}if(f.startsWith("rgb")){let S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[C,M,k,R,j,W,G,X,Q,le,de,ke]=S,_e=[R||" ",G||" ",le].join("");if(_e==="  "||_e==="  /"||_e===",,"||_e===",,,"){let Me=[k,W,Q].join(""),We=Me==="%%%"?100:Me===""?255:0;if(We){let ut=[oo(+M/We,0,1),oo(+j/We,0,1),oo(+X/We,0,1),de?Ji(+de,ke):1];if(Do(ut))return ut}}return}}let w=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){let[S,C,M,k,R,j,W,G,X]=w,Q=[M||" ",R||" ",W].join("");if(Q==="  "||Q==="  /"||Q===",,"||Q===",,,"){let le=[+C,oo(+k,0,100),oo(+j,0,100),G?Ji(+G,X):1];if(Do(le))return function([de,ke,_e,Me]){function We(ut){let Rt=(ut+de/30)%12,or=ke*Math.min(_e,1-_e);return _e-or*Math.max(-1,Math.min(Rt-3,9-Rt,1))}return de=wr(de),ke/=100,_e/=100,[We(0),We(8),We(4),Me]}(le)}}}(s);return c?new Sn(...c,!1):void 0}get rgb(){let{r:s,g:c,b:f,a:v}=this,w=v||1/0;return this.overwriteGetter("rgb",[s/w,c/w,f/w,v])}get hcl(){return this.overwriteGetter("hcl",function(s){let[c,f,v,w]=on(s),S=Math.sqrt(f*f+v*v);return[Math.round(1e4*S)?wr(Math.atan2(v,f)*nn):NaN,S,c,w]}(this.rgb))}get lab(){return this.overwriteGetter("lab",on(this.rgb))}overwriteGetter(s,c){return Object.defineProperty(this,s,{value:c}),c}toString(){let[s,c,f,v]=this.rgb;return`rgba(${[s,c,f].map(w=>Math.round(255*w)).join(",")},${v})`}}Sn.black=new Sn(0,0,0,1),Sn.white=new Sn(1,1,1,1),Sn.transparent=new Sn(0,0,0,0),Sn.red=new Sn(1,0,0,1);class c1{constructor(s,c,f){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class d1{constructor(s,c,f,v,w){this.text=s,this.image=c,this.scale=f,this.fontStack=v,this.textColor=w}}class qa{constructor(s){this.sections=s}static fromString(s){return new qa([new d1(s,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof qa?s:qa.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class Na{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Na)return s;if(typeof s=="number")return new Na([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let c of s)if(typeof c!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]];}return new Na(s)}}toString(){return JSON.stringify(this.values)}}let uD=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class rs{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof rs)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let c=0;c<s.length;c+=2){let f=s[c],v=s[c+1];if(typeof f!="string"||!uD.has(f)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new rs(s)}}toString(){return JSON.stringify(this.values)}}class Ra{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new Ra({name:s,available:!1}):null}}function tp(l,s,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,s,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,s,c,f]:[l,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Rc(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof Sn||l instanceof c1||l instanceof qa||l instanceof Na||l instanceof rs||l instanceof Ra)return!0;if(Array.isArray(l)){for(let s of l)if(!Rc(s))return!1;return!0}if(typeof l=="object"){for(let s in l)if(!Rc(l[s]))return!1;return!0}return!1}function ki(l){if(l===null)return pl;if(typeof l=="string")return Er;if(typeof l=="boolean")return cr;if(typeof l=="number")return xt;if(l instanceof Sn)return ho;if(l instanceof c1)return Ae;if(l instanceof qa)return ct;if(l instanceof Na)return kt;if(l instanceof rs)return ne;if(l instanceof Ra)return Ot;if(Array.isArray(l)){let s=l.length,c;for(let f of l){let v=ki(f);if(c){if(c===v)continue;c=Se;break}c=v}return H(c||Se,s)}return ka}function ah(l){let s=typeof l;return l===null?"":s==="string"||s==="number"||s==="boolean"?String(l):l instanceof Sn||l instanceof qa||l instanceof Na||l instanceof rs||l instanceof Ra?l.toString():JSON.stringify(l)}class Ls{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(s.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!Rc(s[1]))return c.error("invalid value");let f=s[1],v=ki(f),w=c.expectedType;return v.kind!=="array"||v.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(v=w),new Ls(v,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ti{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}}let ug={string:Er,number:xt,boolean:cr,object:ka};class zs{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f,v=1,w=s[0];if(w==="array"){let C,M;if(s.length>2){let k=s[1];if(typeof k!="string"||!(k in ug)||k==="object")return c.error("The item type argument of \"array\" must be one of string, number, boolean",1);C=ug[k],v++}else C=Se;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error("The length argument to \"array\" must be a positive integer literal",2);M=s[2],v++}f=H(C,M)}else{if(!ug[w])throw new Error(`Types doesn't contain name = ${w}`);f=ug[w]}let S=[];for(;v<s.length;v++){let C=c.parse(s[v],v,Se);if(!C)return null;S.push(C)}return new zs(f,S)}evaluate(s){for(let c=0;c<this.args.length;c++){let f=this.args[c].evaluate(s);if(!ie(this.type,ki(f)))return f;if(c===this.args.length-1)throw new Ti(`Expected value to be of type ${$(this.type)}, but found ${$(ki(f))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let p1={"to-boolean":cr,"to-color":ho,"to-number":xt,"to-string":Er};class Fs{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f=s[0];if(!p1[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&s.length!==2)return c.error("Expected one argument.");let v=p1[f],w=[];for(let S=1;S<s.length;S++){let C=c.parse(s[S],S,Se);if(!C)return null;w.push(C)}return new Fs(v,w)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let c,f;for(let v of this.args){if(c=v.evaluate(s),f=null,c instanceof Sn)return c;if(typeof c=="string"){let w=s.parseColor(c);if(w)return w}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:tp(c[0],c[1],c[2],c[3]),!f))return new Sn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Ti(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(let f of this.args){c=f.evaluate(s);let v=Na.parse(c);if(v)return v}throw new Ti(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(let f of this.args){c=f.evaluate(s);let v=rs.parse(c);if(v)return v}throw new Ti(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(let f of this.args){if(c=f.evaluate(s),c===null)return 0;let v=Number(c);if(!isNaN(v))return v}throw new Ti(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return qa.fromString(ah(this.args[0].evaluate(s)));case"resolvedImage":return Ra.fromString(ah(this.args[0].evaluate(s)));default:return ah(this.args[0].evaluate(s));}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let cD=["Unknown","Point","LineString","Polygon"];class cg{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?cD[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=Sn.parse(s)),c}}class Lc{constructor(s,c,f=[],v,w=new ts,S=[]){this.registry=s,this.path=f,this.key=f.map(C=>`[${C}]`).join(""),this.scope=w,this.errors=S,this.expectedType=v,this._isConstant=c}parse(s,c,f,v,w={}){return c?this.concat(c,f,v)._parse(s,w):this._parse(s,w)}_parse(s,c){function f(v,w,S){return S==="assert"?new zs(w,[v]):S==="coerce"?new Fs(w,[v]):v}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let v=s[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let w=this.registry[v];if(w){let S=w.parse(s,this);if(!S)return null;if(this.expectedType){let C=this.expectedType,M=S.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||M.kind!=="value"){if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||M.kind!=="value"&&M.kind!=="string"){if(C.kind!=="padding"||M.kind!=="value"&&M.kind!=="number"&&M.kind!=="array"){if(C.kind!=="variableAnchorOffsetCollection"||M.kind!=="value"&&M.kind!=="array"){if(this.checkSubtype(C,M))return null}else S=f(S,C,c.typeAnnotation||"coerce");}else S=f(S,C,c.typeAnnotation||"coerce");}else S=f(S,C,c.typeAnnotation||"coerce");}else S=f(S,C,c.typeAnnotation||"assert")}if(!(S instanceof Ls)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){let C=new cg;try{S=new Ls(S.type,S.evaluate(C))}catch(M){return this.error(M.message),null}}return S}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,c,f){let v=typeof s=="number"?this.path.concat(s):this.path,w=f?this.scope.concat(f):this.scope;return new Lc(this.registry,this._isConstant,v,c||null,w,this.errors)}error(s,...c){let f=`${this.key}${c.map(v=>`[${v}]`).join("")}`;this.errors.push(new _n(f,s))}checkSubtype(s,c){let f=ie(s,c);return f&&this.error(f),f}}class Lu{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let f=[];for(let w=1;w<s.length-1;w+=2){let S=s[w];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,w);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",w);let C=c.parse(s[w+1],w+1);if(!C)return null;f.push([S,C])}let v=c.parse(s[s.length-1],s.length-1,c.expectedType,f);return v?new Lu(f,v):null}outputDefined(){return this.result.outputDefined()}}class dn{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");let f=s[1];return c.scope.has(f)?new dn(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class f1{constructor(s,c,f){this.type=s,this.index=c,this.input=f}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,xt),v=c.parse(s[2],2,H(c.expectedType||Se));return f&&v?new f1(v.type.itemType,f,v):null}evaluate(s){let c=this.index.evaluate(s),f=this.input.evaluate(s);if(c<0)throw new Ti(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Ti(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Ti(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class h1{constructor(s,c){this.type=cr,this.needle=s,this.haystack=c}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,Se);return f&&v?ge(f.type,[cr,Er,xt,pl,Se])?new h1(f,v):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(f.type)} instead`):null}evaluate(s){let c=this.needle.evaluate(s),f=this.haystack.evaluate(s);if(!f)return!1;if(!xe(c,["boolean","string","number","null"]))throw new Ti(`Expected first argument to be of type boolean, string, number or null, but found ${$(ki(c))} instead.`);if(!xe(f,["string","array"]))throw new Ti(`Expected second argument to be of type array or string, but found ${$(ki(f))} instead.`);return f.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class rp{constructor(s,c,f){this.type=xt,this.needle=s,this.haystack=c,this.fromIndex=f}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,Se);if(!f||!v)return null;if(!ge(f.type,[cr,Er,xt,pl,Se]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(f.type)} instead`);if(s.length===4){let w=c.parse(s[3],3,xt);return w?new rp(f,v,w):null}return new rp(f,v)}evaluate(s){let c=this.needle.evaluate(s),f=this.haystack.evaluate(s);if(!xe(c,["boolean","string","number","null"]))throw new Ti(`Expected first argument to be of type boolean, string, number or null, but found ${$(ki(c))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(s)),xe(f,["string"])){let w=f.indexOf(c,v);return w===-1?-1:[...f.slice(0,w)].length}if(xe(f,["array"]))return f.indexOf(c,v);throw new Ti(`Expected second argument to be of type array or string, but found ${$(ki(f))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class m1{constructor(s,c,f,v,w,S){this.inputType=s,this.type=c,this.input=f,this.cases=v,this.outputs=w,this.otherwise=S}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let f,v;c.expectedType&&c.expectedType.kind!=="value"&&(v=c.expectedType);let w={},S=[];for(let k=2;k<s.length-1;k+=2){let R=s[k],j=s[k+1];Array.isArray(R)||(R=[R]);let W=c.concat(k);if(R.length===0)return W.error("Expected at least one branch label.");for(let X of R){if(typeof X!="number"&&typeof X!="string")return W.error("Branch labels must be numbers or strings.");if(typeof X=="number"&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof X=="number"&&Math.floor(X)!==X)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,ki(X)))return null}else f=ki(X);if(w[String(X)]!==void 0)return W.error("Branch labels must be unique.");w[String(X)]=S.length}let G=c.parse(j,k,v);if(!G)return null;v=v||G.type,S.push(G)}let C=c.parse(s[1],1,Se);if(!C)return null;let M=c.parse(s[s.length-1],s.length-1,v);return M?C.type.kind!=="value"&&c.concat(1).checkSubtype(f,C.type)?null:new m1(f,v,C,w,S,M):null}evaluate(s){let c=this.input.evaluate(s);return(ki(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class dg{constructor(s,c,f){this.type=s,this.branches=c,this.otherwise=f}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);let v=[];for(let S=1;S<s.length-1;S+=2){let C=c.parse(s[S],S,cr);if(!C)return null;let M=c.parse(s[S+1],S+1,f);if(!M)return null;v.push([C,M]),f=f||M.type}let w=c.parse(s[s.length-1],s.length-1,f);if(!w)return null;if(!f)throw new Error("Can't infer output type");return new dg(f,v,w)}evaluate(s){for(let[c,f]of this.branches)if(c.evaluate(s))return f.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[c,f]of this.branches)s(c),s(f);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class sh{constructor(s,c,f,v){this.type=s,this.input=c,this.beginIndex=f,this.endIndex=v}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,xt);if(!f||!v)return null;if(!ge(f.type,[H(Se),Er,Se]))return c.error(`Expected first argument to be of type array or string, but found ${$(f.type)} instead`);if(s.length===4){let w=c.parse(s[3],3,xt);return w?new sh(f.type,f,v,w):null}return new sh(f.type,f,v)}evaluate(s){let c=this.input.evaluate(s),f=this.beginIndex.evaluate(s),v;if(this.endIndex&&(v=this.endIndex.evaluate(s)),xe(c,["string"]))return[...c].slice(f,v).join("");if(xe(c,["array"]))return c.slice(f,v);throw new Ti(`Expected first argument to be of type array or string, but found ${$(ki(c))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function pg(l,s){let c=l.length-1,f,v,w=0,S=c,C=0;for(;w<=S;)if(C=Math.floor((w+S)/2),f=l[C],v=l[C+1],f<=s){if(C===c||s<v)return C;w=C+1}else{if(!(f>s))throw new Ti("Input is not a number.");S=C-1}return 0}class np{constructor(s,c,f){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(let[v,w]of f)this.labels.push(v),this.outputs.push(w)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");let f=c.parse(s[1],1,xt);if(!f)return null;let v=[],w=null;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);for(let S=1;S<s.length;S+=2){let C=S===1?-1/0:s[S],M=s[S+1],k=S,R=S+1;if(typeof C!="number")return c.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",k);if(v.length&&v[v.length-1][0]>=C)return c.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",k);let j=c.parse(M,R,w);if(!j)return null;w=w||j.type,v.push([C,j])}return new np(w,f,v)}evaluate(s){let c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return f[0].evaluate(s);let w=c.length;return v>=c[w-1]?f[w-1].evaluate(s):f[pg(c,v)].evaluate(s)}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function A2(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var dD=M2;function M2(l,s,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(f-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=f}M2.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var v=this.sampleCurveX(c)-l;if(Math.abs(v)<s)return c;var w=this.sampleCurveDerivativeX(c);if(Math.abs(w)<1e-6)break;c-=v/w}var S=0,C=1;for(c=l,f=0;f<20&&(v=this.sampleCurveX(c),!(Math.abs(v-l)<s));f++)l>v?S=c:C=c,c=.5*(C-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var pD=A2(dD);function zc(l,s,c){return l+c*(s-l)}function lh(l,s,c){return l.map((f,v)=>zc(f,s[v],c))}let aa={number:zc,color:function(l,s,c,f="rgb"){switch(f){case"rgb":{let[v,w,S,C]=lh(l.rgb,s.rgb,c);return new Sn(v,w,S,C,!1)}case"hcl":{let[v,w,S,C]=l.hcl,[M,k,R,j]=s.hcl,W,G;if(isNaN(v)||isNaN(M))isNaN(v)?isNaN(M)?W=NaN:(W=M,S!==1&&S!==0||(G=k)):(W=v,R!==1&&R!==0||(G=w));else{let ke=M-v;M>v&&ke>180?ke-=360:M<v&&v-M>180&&(ke+=360),W=v+c*ke}let[X,Q,le,de]=function([ke,_e,Me,We]){return ke=isNaN(ke)?0:ke*ir,hi([Me,Math.cos(ke)*_e,Math.sin(ke)*_e,We])}([W,G!=null?G:zc(w,k,c),zc(S,R,c),zc(C,j,c)]);return new Sn(X,Q,le,de,!1)}case"lab":{let[v,w,S,C]=hi(lh(l.lab,s.lab,c));return new Sn(v,w,S,C,!1)}}},array:lh,padding:function(l,s,c){return new Na(lh(l.values,s.values,c))},variableAnchorOffsetCollection:function(l,s,c){let f=l.values,v=s.values;if(f.length!==v.length)throw new Ti(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${s.toString()}`);let w=[];for(let S=0;S<f.length;S+=2){if(f[S]!==v[S])throw new Ti(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${v[S]}`);w.push(f[S]);let[C,M]=f[S+1],[k,R]=v[S+1];w.push([zc(C,k,c),zc(M,R,c)])}return new rs(w)}};class sa{constructor(s,c,f,v,w){this.type=s,this.operator=c,this.interpolation=f,this.input=v,this.labels=[],this.outputs=[];for(let[S,C]of w)this.labels.push(S),this.outputs.push(C)}static interpolationFactor(s,c,f,v){let w=0;if(s.name==="exponential")w=fg(c,s.base,f,v);else if(s.name==="linear")w=fg(c,1,f,v);else if(s.name==="cubic-bezier"){let S=s.controlPoints;w=new pD(S[0],S[1],S[2],S[3]).solve(fg(c,1,f,v))}return w}static parse(s,c){let[f,v,w,...S]=s;if(!Array.isArray(v)||v.length===0)return c.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){let k=v[1];if(typeof k!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:k}}else{if(v[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(v[0])}`,1,0);{let k=v.slice(1);if(k.length!==4||k.some(R=>typeof R!="number"||R<0||R>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:k}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(w=c.parse(w,2,xt),!w)return null;let C=[],M=null;f==="interpolate-hcl"||f==="interpolate-lab"?M=ho:c.expectedType&&c.expectedType.kind!=="value"&&(M=c.expectedType);for(let k=0;k<S.length;k+=2){let R=S[k],j=S[k+1],W=k+3,G=k+4;if(typeof R!="number")return c.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",W);if(C.length&&C[C.length-1][0]>=R)return c.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",W);let X=c.parse(j,G,M);if(!X)return null;M=M||X.type,C.push([R,X])}return Ee(M,xt)||Ee(M,ho)||Ee(M,kt)||Ee(M,ne)||Ee(M,H(xt))?new sa(M,f,v,w,C):c.error(`Type ${$(M)} is not interpolatable.`)}evaluate(s){let c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return f[0].evaluate(s);let w=c.length;if(v>=c[w-1])return f[w-1].evaluate(s);let S=pg(c,v),C=sa.interpolationFactor(this.interpolation,v,c[S],c[S+1]),M=f[S].evaluate(s),k=f[S+1].evaluate(s);switch(this.operator){case"interpolate":return aa[this.type.kind](M,k,C);case"interpolate-hcl":return aa.color(M,k,C,"hcl");case"interpolate-lab":return aa.color(M,k,C,"lab");}}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function fg(l,s,c,f){let v=f-c,w=l-c;return v===0?0:s===1?w/v:(Math.pow(s,w)-1)/(Math.pow(s,v)-1)}class hg{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expectected at least one argument.");let f=null,v=c.expectedType;v&&v.kind!=="value"&&(f=v);let w=[];for(let C of s.slice(1)){let M=c.parse(C,1+w.length,f,void 0,{typeAnnotation:"omit"});if(!M)return null;f=f||M.type,w.push(M)}if(!f)throw new Error("No output type");let S=v&&w.some(C=>ie(v,C.type));return new hg(S?Se:f,w)}evaluate(s){let c,f=null,v=0;for(let w of this.args)if(v++,f=w.evaluate(s),f&&f instanceof Ra&&!f.available&&(c||(c=f.name),f=null,v===this.args.length&&(f=c)),f!==null)break;return f}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function mg(l,s){return l==="=="||l==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function P2(l,s,c,f){return f.compare(s,c)===0}function ip(l,s,c){let f=l!=="=="&&l!=="!=";return class UCe{constructor(w,S,C){this.type=cr,this.lhs=w,this.rhs=S,this.collator=C,this.hasUntypedArgument=w.type.kind==="value"||S.type.kind==="value"}static parse(w,S){if(w.length!==3&&w.length!==4)return S.error("Expected two or three arguments.");let C=w[0],M=S.parse(w[1],1,Se);if(!M)return null;if(!mg(C,M.type))return S.concat(1).error(`"${C}" comparisons are not supported for type '${$(M.type)}'.`);let k=S.parse(w[2],2,Se);if(!k)return null;if(!mg(C,k.type))return S.concat(2).error(`"${C}" comparisons are not supported for type '${$(k.type)}'.`);if(M.type.kind!==k.type.kind&&M.type.kind!=="value"&&k.type.kind!=="value")return S.error(`Cannot compare types '${$(M.type)}' and '${$(k.type)}'.`);f&&(M.type.kind==="value"&&k.type.kind!=="value"?M=new zs(k.type,[M]):M.type.kind!=="value"&&k.type.kind==="value"&&(k=new zs(M.type,[k])));let R=null;if(w.length===4){if(M.type.kind!=="string"&&k.type.kind!=="string"&&M.type.kind!=="value"&&k.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(R=S.parse(w[3],3,Ae),!R)return null}return new UCe(M,k,R)}evaluate(w){let S=this.lhs.evaluate(w),C=this.rhs.evaluate(w);if(f&&this.hasUntypedArgument){let M=ki(S),k=ki(C);if(M.kind!==k.kind||M.kind!=="string"&&M.kind!=="number")throw new Ti(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${M.kind}, ${k.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){let M=ki(S),k=ki(C);if(M.kind!=="string"||k.kind!=="string")return s(w,S,C)}return this.collator?c(w,S,C,this.collator.evaluate(w)):s(w,S,C)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}}}let fD=ip("==",function(l,s,c){return s===c},P2),O2=ip("!=",function(l,s,c){return s!==c},function(l,s,c,f){return!P2(0,s,c,f)}),D2=ip("<",function(l,s,c){return s<c},function(l,s,c,f){return f.compare(s,c)<0}),hD=ip(">",function(l,s,c){return s>c},function(l,s,c,f){return f.compare(s,c)>0}),mD=ip("<=",function(l,s,c){return s<=c},function(l,s,c,f){return f.compare(s,c)<=0}),k2=ip(">=",function(l,s,c){return s>=c},function(l,s,c,f){return f.compare(s,c)>=0});class uh{constructor(s,c,f){this.type=Ae,this.locale=f,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(s.length!==2)return c.error("Expected one argument.");let f=s[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");let v=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,cr);if(!v)return null;let w=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,cr);if(!w)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,Er),!S)?null:new uh(v,w,S)}evaluate(s){return new c1(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class g1{constructor(s,c,f,v,w){this.type=Er,this.number=s,this.locale=c,this.currency=f,this.minFractionDigits=v,this.maxFractionDigits=w}static parse(s,c){if(s.length!==3)return c.error("Expected two arguments.");let f=c.parse(s[1],1,xt);if(!f)return null;let v=s[2];if(typeof v!="object"||Array.isArray(v))return c.error("NumberFormat options argument must be an object.");let w=null;if(v.locale&&(w=c.parse(v.locale,1,Er),!w))return null;let S=null;if(v.currency&&(S=c.parse(v.currency,1,Er),!S))return null;let C=null;if(v["min-fraction-digits"]&&(C=c.parse(v["min-fraction-digits"],1,xt),!C))return null;let M=null;return v["max-fraction-digits"]&&(M=c.parse(v["max-fraction-digits"],1,xt),!M)?null:new g1(f,w,S,C,M)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class gg{constructor(s){this.type=ct,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f=s[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");let v=[],w=!1;for(let S=1;S<=s.length-1;++S){let C=s[S];if(w&&typeof C=="object"&&!Array.isArray(C)){w=!1;let M=null;if(C["font-scale"]&&(M=c.parse(C["font-scale"],1,xt),!M))return null;let k=null;if(C["text-font"]&&(k=c.parse(C["text-font"],1,H(Er)),!k))return null;let R=null;if(C["text-color"]&&(R=c.parse(C["text-color"],1,ho),!R))return null;let j=v[v.length-1];j.scale=M,j.font=k,j.textColor=R}else{let M=c.parse(s[S],1,Se);if(!M)return null;let k=M.type.kind;if(k!=="string"&&k!=="value"&&k!=="null"&&k!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,v.push({content:M,scale:null,font:null,textColor:null})}}return new gg(v)}evaluate(s){return new qa(this.sections.map(c=>{let f=c.content.evaluate(s);return ki(f)===Ot?new d1("",f,null,null,null):new d1(ah(f),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))}eachChild(s){for(let c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor)}outputDefined(){return!1}}class v1{constructor(s){this.type=Ot,this.input=s}static parse(s,c){if(s.length!==2)return c.error("Expected two arguments.");let f=c.parse(s[1],1,Er);return f?new v1(f):c.error("No image name provided.")}evaluate(s){let c=this.input.evaluate(s),f=Ra.fromString(c);return f&&s.availableImages&&(f.available=s.availableImages.indexOf(c)>-1),f}eachChild(s){s(this.input)}outputDefined(){return!1}}class y1{constructor(s){this.type=xt,this.input=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);let f=c.parse(s[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${$(f.type)} instead.`):new y1(f):null}evaluate(s){let c=this.input.evaluate(s);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Ti(`Expected value to be of type string or array, but found ${$(ki(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let fl=8192;function gD(l,s){let c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,v=Math.pow(2,s.z);return[Math.round(c*v*fl),Math.round(f*v*fl)]}function _1(l,s){let c=Math.pow(2,s.z);return[(v=(l[0]/fl+s.x)/c,360*v-180),(f=(l[1]/fl+s.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90)];var f,v}function Fc(l,s){l[0]=Math.min(l[0],s[0]),l[1]=Math.min(l[1],s[1]),l[2]=Math.max(l[2],s[0]),l[3]=Math.max(l[3],s[1])}function zu(l,s){return!(l[0]<=s[0]||l[2]>=s[2]||l[1]<=s[1]||l[3]>=s[3])}function mn(l,s,c){let f=l[0]-s[0],v=l[1]-s[1],w=l[0]-c[0],S=l[1]-c[1];return f*S-w*v==0&&f*w<=0&&v*S<=0}function vg(l,s,c,f){return(v=[f[0]-c[0],f[1]-c[1]])[0]*(w=[s[0]-l[0],s[1]-l[1]])[1]-v[1]*w[0]!=0&&!(!N2(l,s,c,f)||!N2(c,f,l,s));var v,w}function vD(l,s,c){for(let f of c)for(let v=0;v<f.length-1;++v)if(vg(l,s,f[v],f[v+1]))return!0;return!1}function op(l,s,c=!1){let f=!1;for(let C of s)for(let M=0;M<C.length-1;M++){if(mn(l,C[M],C[M+1]))return c;(w=C[M])[1]>(v=l)[1]!=(S=C[M+1])[1]>v[1]&&v[0]<(S[0]-w[0])*(v[1]-w[1])/(S[1]-w[1])+w[0]&&(f=!f)}var v,w,S;return f}function yD(l,s){for(let c of s)if(op(l,c))return!0;return!1}function q2(l,s){for(let c of l)if(!op(c,s))return!1;for(let c=0;c<l.length-1;++c)if(vD(l[c],l[c+1],s))return!1;return!0}function _D(l,s){for(let c of s)if(q2(l,c))return!0;return!1}function N2(l,s,c,f){let v=f[0]-c[0],w=f[1]-c[1],S=(l[0]-c[0])*w-v*(l[1]-c[1]),C=(s[0]-c[0])*w-v*(s[1]-c[1]);return S>0&&C<0||S<0&&C>0}function b1(l,s,c){let f=[];for(let v=0;v<l.length;v++){let w=[];for(let S=0;S<l[v].length;S++){let C=gD(l[v][S],c);Fc(s,C),w.push(C)}f.push(w)}return f}function R2(l,s,c){let f=[];for(let v=0;v<l.length;v++){let w=b1(l[v],s,c);f.push(w)}return f}function L2(l,s,c,f){if(l[0]<c[0]||l[0]>c[2]){let v=.5*f,w=l[0]-c[0]>v?-f:c[0]-l[0]>v?f:0;w===0&&(w=l[0]-c[2]>v?-f:c[2]-l[0]>v?f:0),l[0]+=w}Fc(s,l)}function z2(l,s,c,f){let v=Math.pow(2,f.z)*fl,w=[f.x*fl,f.y*fl],S=[];for(let C of l)for(let M of C){let k=[M.x+w[0],M.y+w[1]];L2(k,s,c,v),S.push(k)}return S}function F2(l,s,c,f){let v=Math.pow(2,f.z)*fl,w=[f.x*fl,f.y*fl],S=[];for(let M of l){let k=[];for(let R of M){let j=[R.x+w[0],R.y+w[1]];Fc(s,j),k.push(j)}S.push(k)}if(s[2]-s[0]<=v/2){(C=s)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(let M of S)for(let k of M)L2(k,s,c,v)}var C;return S}class jc{constructor(s,c){this.type=cr,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Rc(s[1])){let f=s[1];if(f.type==="FeatureCollection"){let v=[];for(let w of f.features){let{type:S,coordinates:C}=w.geometry;S==="Polygon"&&v.push(C),S==="MultiPolygon"&&v.push(...C)}if(v.length)return new jc(f,{type:"MultiPolygon",coordinates:v})}else if(f.type==="Feature"){let v=f.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new jc(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new jc(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,f){let v=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){let C=b1(f.coordinates,w,S),M=z2(c.geometry(),v,w,S);if(!zu(v,w))return!1;for(let k of M)if(!op(k,C))return!1}if(f.type==="MultiPolygon"){let C=R2(f.coordinates,w,S),M=z2(c.geometry(),v,w,S);if(!zu(v,w))return!1;for(let k of M)if(!yD(k,C))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,f){let v=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){let C=b1(f.coordinates,w,S),M=F2(c.geometry(),v,w,S);if(!zu(v,w))return!1;for(let k of M)if(!q2(k,C))return!1}if(f.type==="MultiPolygon"){let C=R2(f.coordinates,w,S),M=F2(c.geometry(),v,w,S);if(!zu(v,w))return!1;for(let k of M)if(!_D(k,C))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let j2=class{constructor(l=[],s=(c,f)=>c<f?-1:c>f?1:0){if(this.data=l,this.length=this.data.length,this.compare=s,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;let l=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),l}peek(){return this.data[0]}_up(l){let{data:s,compare:c}=this,f=s[l];for(;l>0;){let v=l-1>>1,w=s[v];if(c(f,w)>=0)break;s[l]=w,l=v}s[l]=f}_down(l){let{data:s,compare:c}=this,f=this.length>>1,v=s[l];for(;l<f;){let w=1+(l<<1),S=w+1;if(S<this.length&&c(s[S],s[w])<0&&(w=S),c(s[w],v)>=0)break;s[l]=s[w],l=w}s[l]=v}};function bD(l,s,c,f,v){B2(l,s,c,f||l.length-1,v||xD)}function B2(l,s,c,f,v){for(;f>c;){if(f-c>600){var w=f-c+1,S=s-c+1,C=Math.log(w),M=.5*Math.exp(2*C/3),k=.5*Math.sqrt(C*M*(w-M)/w)*(S-w/2<0?-1:1);B2(l,s,Math.max(c,Math.floor(s-S*M/w+k)),Math.min(f,Math.floor(s+(w-S)*M/w+k)),v)}var R=l[s],j=c,W=f;for(ch(l,c,s),v(l[f],R)>0&&ch(l,c,f);j<W;){for(ch(l,j,W),j++,W--;v(l[j],R)<0;)j++;for(;v(l[W],R)>0;)W--}v(l[c],R)===0?ch(l,c,W):ch(l,++W,f),W<=s&&(c=W+1),s<=W&&(f=W-1)}}function ch(l,s,c){var f=l[s];l[s]=l[c],l[c]=f}function xD(l,s){return l<s?-1:l>s?1:0}function yg(l,s){if(l.length<=1)return[l];let c=[],f,v;for(let w of l){let S=SD(w);S!==0&&(w.area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(f&&c.push(f),f=[w]):f.push(w))}if(f&&c.push(f),s>1)for(let w=0;w<c.length;w++)c[w].length<=s||(bD(c[w],s,1,c[w].length-1,wD),c[w]=c[w].slice(0,s));return c}function wD(l,s){return s.area-l.area}function SD(l){let s=0;for(let c,f,v=0,w=l.length,S=w-1;v<w;S=v++)c=l[v],f=l[S],s+=(f.x-c.x)*(c.y+f.y);return s}let V2=1/298.257223563,U2=V2*(2-V2),$2=Math.PI/180;class x1{constructor(s){let c=6378.137*$2*1e3,f=Math.cos(s*$2),v=1/(1-U2*(1-f*f)),w=Math.sqrt(v);this.kx=c*w*f,this.ky=c*w*v*(1-U2)}distance(s,c){let f=this.wrap(s[0]-c[0])*this.kx,v=(s[1]-c[1])*this.ky;return Math.sqrt(f*f+v*v)}pointOnLine(s,c){let f,v,w,S,C=1/0;for(let M=0;M<s.length-1;M++){let k=s[M][0],R=s[M][1],j=this.wrap(s[M+1][0]-k)*this.kx,W=(s[M+1][1]-R)*this.ky,G=0;j===0&&W===0||(G=(this.wrap(c[0]-k)*this.kx*j+(c[1]-R)*this.ky*W)/(j*j+W*W),G>1?(k=s[M+1][0],R=s[M+1][1]):G>0&&(k+=j/this.kx*G,R+=W/this.ky*G)),j=this.wrap(c[0]-k)*this.kx,W=(c[1]-R)*this.ky;let X=j*j+W*W;X<C&&(C=X,f=k,v=R,w=M,S=G)}return{point:[f,v],index:w,t:Math.max(0,Math.min(1,S))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function H2(l,s){return s[0]-l[0]}function _g(l){return l[1]-l[0]+1}function au(l,s){return l[1]>=l[0]&&l[1]<s}function w1(l,s){if(l[0]>l[1])return[null,null];let c=_g(l);if(s){if(c===2)return[l,null];let v=Math.floor(c/2);return[[l[0],l[0]+v],[l[0]+v,l[1]]]}if(c===1)return[l,null];let f=Math.floor(c/2)-1;return[[l[0],l[0]+f],[l[0]+f+1,l[1]]]}function S1(l,s){if(!au(s,l.length))return[1/0,1/0,-1/0,-1/0];let c=[1/0,1/0,-1/0,-1/0];for(let f=s[0];f<=s[1];++f)Fc(c,l[f]);return c}function I1(l){let s=[1/0,1/0,-1/0,-1/0];for(let c of l)for(let f of c)Fc(s,f);return s}function bg(l){return l[0]!==-1/0&&l[1]!==-1/0&&l[2]!==1/0&&l[3]!==1/0}function E1(l,s,c){if(!bg(l)||!bg(s))return NaN;let f=0,v=0;return l[2]<s[0]&&(f=s[0]-l[2]),l[0]>s[2]&&(f=l[0]-s[2]),l[1]>s[3]&&(v=l[1]-s[3]),l[3]<s[1]&&(v=s[1]-l[3]),c.distance([0,0],[f,v])}function Bc(l,s,c){let f=c.pointOnLine(s,l);return c.distance(l,f.point)}function T1(l,s,c,f,v){let w=Math.min(Bc(l,[c,f],v),Bc(s,[c,f],v)),S=Math.min(Bc(c,[l,s],v),Bc(f,[l,s],v));return Math.min(w,S)}function ID(l,s,c,f,v){if(!au(s,l.length)||!au(f,c.length))return 1/0;let w=1/0;for(let S=s[0];S<s[1];++S){let C=l[S],M=l[S+1];for(let k=f[0];k<f[1];++k){let R=c[k],j=c[k+1];if(vg(C,M,R,j))return 0;w=Math.min(w,T1(C,M,R,j,v))}}return w}function xi(l,s,c,f,v){if(!au(s,l.length)||!au(f,c.length))return NaN;let w=1/0;for(let S=s[0];S<=s[1];++S)for(let C=f[0];C<=f[1];++C)if(w=Math.min(w,v.distance(l[S],c[C])),w===0)return w;return w}function ED(l,s,c){if(op(l,s,!0))return 0;let f=1/0;for(let v of s){let w=v[0],S=v[v.length-1];if(w!==S&&(f=Math.min(f,Bc(l,[S,w],c)),f===0))return f;let C=c.pointOnLine(v,l);if(f=Math.min(f,c.distance(l,C.point)),f===0)return f}return f}function Lr(l,s,c,f){if(!au(s,l.length))return NaN;for(let w=s[0];w<=s[1];++w)if(op(l[w],c,!0))return 0;let v=1/0;for(let w=s[0];w<s[1];++w){let S=l[w],C=l[w+1];for(let M of c)for(let k=0,R=M.length,j=R-1;k<R;j=k++){let W=M[j],G=M[k];if(vg(S,C,W,G))return 0;v=Math.min(v,T1(S,C,W,G,f))}}return v}function xg(l,s){for(let c of l)for(let f of c)if(op(f,s,!0))return!0;return!1}function zn(l,s,c,f=1/0){let v=I1(l),w=I1(s);if(f!==1/0&&E1(v,w,c)>=f)return f;if(zu(v,w)){if(xg(l,s))return 0}else if(xg(s,l))return 0;let S=1/0;for(let C of l)for(let M=0,k=C.length,R=k-1;M<k;R=M++){let j=C[R],W=C[M];for(let G of s)for(let X=0,Q=G.length,le=Q-1;X<Q;le=X++){let de=G[le],ke=G[X];if(vg(j,W,de,ke))return 0;S=Math.min(S,T1(j,W,de,ke,c))}}return S}function Cn(l,s,c,f,v,w){if(!w)return;let S=E1(S1(f,w),v,c);S<s&&l.push([S,w,[0,0]])}function Vc(l,s,c,f,v,w,S){if(!w||!S)return;let C=E1(S1(f,w),S1(v,S),c);C<s&&l.push([C,w,S])}function dh(l,s,c,f,v=1/0){let w=Math.min(f.distance(l[0],c[0][0]),v);if(w===0)return w;let S=new j2([[0,[0,l.length-1],[0,0]]],H2),C=I1(c);for(;S.length>0;){let M=S.pop();if(M[0]>=w)continue;let k=M[1],R=s?50:100;if(_g(k)<=R){if(!au(k,l.length))return NaN;if(s){let j=Lr(l,k,c,f);if(isNaN(j)||j===0)return j;w=Math.min(w,j)}else for(let j=k[0];j<=k[1];++j){let W=ED(l[j],c,f);if(w=Math.min(w,W),w===0)return 0}}else{let j=w1(k,s);Cn(S,w,f,l,C,j[0]),Cn(S,w,f,l,C,j[1])}}return w}function ph(l,s,c,f,v,w=1/0){let S=Math.min(w,v.distance(l[0],c[0]));if(S===0)return S;let C=new j2([[0,[0,l.length-1],[0,c.length-1]]],H2);for(;C.length>0;){let M=C.pop();if(M[0]>=S)continue;let k=M[1],R=M[2],j=s?50:100,W=f?50:100;if(_g(k)<=j&&_g(R)<=W){if(!au(k,l.length)&&au(R,c.length))return NaN;let G;if(s&&f)G=ID(l,k,c,R,v),S=Math.min(S,G);else if(s&&!f){let X=l.slice(k[0],k[1]+1);for(let Q=R[0];Q<=R[1];++Q)if(G=Bc(c[Q],X,v),S=Math.min(S,G),S===0)return S}else if(!s&&f){let X=c.slice(R[0],R[1]+1);for(let Q=k[0];Q<=k[1];++Q)if(G=Bc(l[Q],X,v),S=Math.min(S,G),S===0)return S}else G=xi(l,k,c,R,v),S=Math.min(S,G)}else{let G=w1(k,s),X=w1(R,f);Vc(C,S,v,l,c,G[0],X[0]),Vc(C,S,v,l,c,G[0],X[1]),Vc(C,S,v,l,c,G[1],X[0]),Vc(C,S,v,l,c,G[1],X[1])}}return S}function C1(l){return l.type==="MultiPolygon"?l.coordinates.map(s=>({type:"Polygon",coordinates:s})):l.type==="MultiLineString"?l.coordinates.map(s=>({type:"LineString",coordinates:s})):l.type==="MultiPoint"?l.coordinates.map(s=>({type:"Point",coordinates:s})):[l]}class Uc{constructor(s,c){this.type=xt,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Rc(s[1])){let f=s[1];if(f.type==="FeatureCollection")return new Uc(f,f.features.map(v=>C1(v.geometry)).flat());if(f.type==="Feature")return new Uc(f,C1(f.geometry));if("type"in f&&"coordinates"in f)return new Uc(f,C1(f))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,f){let v=c.geometry(),w=v.flat().map(M=>_1([M.x,M.y],c.canonical));if(v.length===0)return NaN;let S=new x1(w[0][1]),C=1/0;for(let M of f){switch(M.type){case"Point":C=Math.min(C,ph(w,!1,[M.coordinates],!1,S,C));break;case"LineString":C=Math.min(C,ph(w,!1,M.coordinates,!0,S,C));break;case"Polygon":C=Math.min(C,dh(w,!1,M.coordinates,S,C));}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,f){let v=c.geometry(),w=v.flat().map(M=>_1([M.x,M.y],c.canonical));if(v.length===0)return NaN;let S=new x1(w[0][1]),C=1/0;for(let M of f){switch(M.type){case"Point":C=Math.min(C,ph(w,!0,[M.coordinates],!1,S,C));break;case"LineString":C=Math.min(C,ph(w,!0,M.coordinates,!0,S,C));break;case"Polygon":C=Math.min(C,dh(w,!0,M.coordinates,S,C));}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="Polygon")return function(c,f){let v=c.geometry();if(v.length===0||v[0].length===0)return NaN;let w=yg(v,0).map(M=>M.map(k=>k.map(R=>_1([R.x,R.y],c.canonical)))),S=new x1(w[0][0][0][1]),C=1/0;for(let M of f)for(let k of w){switch(M.type){case"Point":C=Math.min(C,dh([M.coordinates],!1,k,S,C));break;case"LineString":C=Math.min(C,dh(M.coordinates,!0,k,S,C));break;case"Polygon":C=Math.min(C,zn(k,M.coordinates,S,C));}if(C===0)return C}return C}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let ap={"==":fD,"!=":O2,">":hD,"<":D2,">=":k2,"<=":mD,array:zs,at:f1,boolean:zs,case:dg,coalesce:hg,collator:uh,format:gg,image:v1,in:h1,"index-of":rp,interpolate:sa,"interpolate-hcl":sa,"interpolate-lab":sa,length:y1,let:Lu,literal:Ls,match:m1,number:zs,"number-format":g1,object:zs,slice:sh,step:np,string:zs,"to-boolean":Fs,"to-color":Fs,"to-number":Fs,"to-string":Fs,var:dn,within:jc,distance:Uc};class ns{constructor(s,c,f,v){this.name=s,this.type=c,this._evaluate=f,this.args=v}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,c){let f=s[0],v=ns.definitions[f];if(!v)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);let w=Array.isArray(v)?v[0]:v.type,S=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,C=S.filter(([k])=>!Array.isArray(k)||k.length===s.length-1),M=null;for(let[k,R]of C){M=new Lc(c.registry,fh,c.path,null,c.scope);let j=[],W=!1;for(let G=1;G<s.length;G++){let X=s[G],Q=Array.isArray(k)?k[G-1]:k.type,le=M.parse(X,1+j.length,Q);if(!le){W=!0;break}j.push(le)}if(!W)if(Array.isArray(k)&&k.length!==j.length)M.error(`Expected ${k.length} arguments, but found ${j.length} instead.`);else{for(let G=0;G<j.length;G++){let X=Array.isArray(k)?k[G]:k.type,Q=j[G];M.concat(G+1).checkSubtype(X,Q.type)}if(M.errors.length===0)return new ns(f,w,R,j)}}if(C.length===1)c.errors.push(...M.errors);else{let k=(C.length?C:S).map(([j])=>{return W=j,Array.isArray(W)?`(${W.map($).join(", ")})`:`(${$(W.type)}...)`;var W}).join(" | "),R=[];for(let j=1;j<s.length;j++){let W=c.parse(s[j],1+R.length);if(!W)return null;R.push($(W.type))}c.error(`Expected arguments of type ${k}, but found (${R.join(", ")}) instead.`)}return null}static register(s,c){ns.definitions=c;for(let f in c)s[f]=ns}}function A1(l,[s,c,f,v]){s=s.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);let w=v?v.evaluate(l):1,S=tp(s,c,f,w);if(S)throw new Ti(S);return new Sn(s/255,c/255,f/255,w,!1)}function M1(l,s){return l in s}function P1(l,s){let c=s[l];return c===void 0?null:c}function $c(l){return{type:l}}function fh(l){if(l instanceof dn)return fh(l.boundExpression);if(l instanceof ns&&l.name==="error"||l instanceof uh||l instanceof jc||l instanceof Uc)return!1;let s=l instanceof Fs||l instanceof zs,c=!0;return l.eachChild(f=>{c=s?c&&fh(f):c&&f instanceof Ls}),!!c&&hh(l)&&mh(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function hh(l){if(l instanceof ns&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof jc||l instanceof Uc)return!1;let s=!0;return l.eachChild(c=>{s&&!hh(c)&&(s=!1)}),s}function sp(l){if(l instanceof ns&&l.name==="feature-state")return!1;let s=!0;return l.eachChild(c=>{s&&!sp(c)&&(s=!1)}),s}function mh(l,s){if(l instanceof ns&&s.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!mh(f,s)&&(c=!1)}),c}function wg(l){return{result:"success",value:l}}function lp(l){return{result:"error",value:l}}function up(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function W2(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function O1(l){return!!l.expression&&l.expression.interpolated}function ln(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Sg(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function TD(l){return l}function G2(l,s){let c=s.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",v=f||!(f||l.property!==void 0),w=l.type||(O1(s)?"exponential":"interval");if(c||s.type==="padding"){let R=c?Sn.parse:Na.parse;(l=fi({},l)).stops&&(l.stops=l.stops.map(j=>[j[0],R(j[1])])),l.default=R(l.default?l.default:s.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let C,M,k;if(w==="exponential")C=Y2;else if(w==="interval")C=Ig;else if(w==="categorical"){C=Z2,M=Object.create(null);for(let R of l.stops)M[R[0]]=R[1];k=typeof l.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);C=K2}if(f){let R={},j=[];for(let X=0;X<l.stops.length;X++){let Q=l.stops[X],le=Q[0].zoom;R[le]===void 0&&(R[le]={zoom:le,type:l.type,property:l.property,default:l.default,stops:[]},j.push(le)),R[le].stops.push([Q[0].value,Q[1]])}let W=[];for(let X of j)W.push([R[X].zoom,G2(R[X],s)]);let G={name:"linear"};return{kind:"composite",interpolationType:G,interpolationFactor:sa.interpolationFactor.bind(void 0,G),zoomStops:W.map(X=>X[0]),evaluate:({zoom:X},Q)=>Y2({stops:W,base:l.base},s,X).evaluate(X,Q)}}if(v){let R=w==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:R,interpolationFactor:sa.interpolationFactor.bind(void 0,R),zoomStops:l.stops.map(j=>j[0]),evaluate:({zoom:j})=>C(l,s,j,M,k)}}return{kind:"source",evaluate(R,j){let W=j&&j.properties?j.properties[l.property]:void 0;return W===void 0?cp(l.default,s.default):C(l,s,W,M,k)}}}function cp(l,s,c){return l!==void 0?l:s!==void 0?s:c!==void 0?c:void 0}function Z2(l,s,c,f,v){return cp(typeof c===v?f[c]:void 0,l.default,s.default)}function Ig(l,s,c){if(ln(c)!=="number")return cp(l.default,s.default);let f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];let v=pg(l.stops.map(w=>w[0]),c);return l.stops[v][1]}function Y2(l,s,c){let f=l.base!==void 0?l.base:1;if(ln(c)!=="number")return cp(l.default,s.default);let v=l.stops.length;if(v===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[v-1][0])return l.stops[v-1][1];let w=pg(l.stops.map(R=>R[0]),c),S=function(R,j,W,G){let X=G-W,Q=R-W;return X===0?0:j===1?Q/X:(Math.pow(j,Q)-1)/(Math.pow(j,X)-1)}(c,f,l.stops[w][0],l.stops[w+1][0]),C=l.stops[w][1],M=l.stops[w+1][1],k=aa[s.type]||TD;return typeof C.evaluate=="function"?{evaluate(...R){let j=C.evaluate.apply(void 0,R),W=M.evaluate.apply(void 0,R);if(j!==void 0&&W!==void 0)return k(j,W,S,l.colorSpace)}}:k(C,M,S,l.colorSpace)}function K2(l,s,c){switch(s.type){case"color":c=Sn.parse(c);break;case"formatted":c=qa.fromString(c.toString());break;case"resolvedImage":c=Ra.fromString(c.toString());break;case"padding":c=Na.parse(c);break;default:ln(c)===s.type||s.type==="enum"&&s.values[c]||(c=void 0);}return cp(c,l.default,s.default)}ns.register(ap,{error:[{kind:"error"},[Er],(l,[s])=>{throw new Ti(s.evaluate(l))}],typeof:[Er,[Se],(l,[s])=>$(ki(s.evaluate(l)))],"to-rgba":[H(xt,4),[ho],(l,[s])=>{let[c,f,v,w]=s.evaluate(l).rgb;return[255*c,255*f,255*v,w]}],rgb:[ho,[xt,xt,xt],A1],rgba:[ho,[xt,xt,xt,xt],A1],has:{type:cr,overloads:[[[Er],(l,[s])=>M1(s.evaluate(l),l.properties())],[[Er,ka],(l,[s,c])=>M1(s.evaluate(l),c.evaluate(l))]]},get:{type:Se,overloads:[[[Er],(l,[s])=>P1(s.evaluate(l),l.properties())],[[Er,ka],(l,[s,c])=>P1(s.evaluate(l),c.evaluate(l))]]},"feature-state":[Se,[Er],(l,[s])=>P1(s.evaluate(l),l.featureState||{})],properties:[ka,[],l=>l.properties()],"geometry-type":[Er,[],l=>l.geometryType()],id:[Se,[],l=>l.id()],zoom:[xt,[],l=>l.globals.zoom],"heatmap-density":[xt,[],l=>l.globals.heatmapDensity||0],"line-progress":[xt,[],l=>l.globals.lineProgress||0],accumulated:[Se,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[xt,$c(xt),(l,s)=>{let c=0;for(let f of s)c+=f.evaluate(l);return c}],"*":[xt,$c(xt),(l,s)=>{let c=1;for(let f of s)c*=f.evaluate(l);return c}],"-":{type:xt,overloads:[[[xt,xt],(l,[s,c])=>s.evaluate(l)-c.evaluate(l)],[[xt],(l,[s])=>-s.evaluate(l)]]},"/":[xt,[xt,xt],(l,[s,c])=>s.evaluate(l)/c.evaluate(l)],"%":[xt,[xt,xt],(l,[s,c])=>s.evaluate(l)%c.evaluate(l)],ln2:[xt,[],()=>Math.LN2],pi:[xt,[],()=>Math.PI],e:[xt,[],()=>Math.E],"^":[xt,[xt,xt],(l,[s,c])=>Math.pow(s.evaluate(l),c.evaluate(l))],sqrt:[xt,[xt],(l,[s])=>Math.sqrt(s.evaluate(l))],log10:[xt,[xt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN10],ln:[xt,[xt],(l,[s])=>Math.log(s.evaluate(l))],log2:[xt,[xt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN2],sin:[xt,[xt],(l,[s])=>Math.sin(s.evaluate(l))],cos:[xt,[xt],(l,[s])=>Math.cos(s.evaluate(l))],tan:[xt,[xt],(l,[s])=>Math.tan(s.evaluate(l))],asin:[xt,[xt],(l,[s])=>Math.asin(s.evaluate(l))],acos:[xt,[xt],(l,[s])=>Math.acos(s.evaluate(l))],atan:[xt,[xt],(l,[s])=>Math.atan(s.evaluate(l))],min:[xt,$c(xt),(l,s)=>Math.min(...s.map(c=>c.evaluate(l)))],max:[xt,$c(xt),(l,s)=>Math.max(...s.map(c=>c.evaluate(l)))],abs:[xt,[xt],(l,[s])=>Math.abs(s.evaluate(l))],round:[xt,[xt],(l,[s])=>{let c=s.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[xt,[xt],(l,[s])=>Math.floor(s.evaluate(l))],ceil:[xt,[xt],(l,[s])=>Math.ceil(s.evaluate(l))],"filter-==":[cr,[Er,Se],(l,[s,c])=>l.properties()[s.value]===c.value],"filter-id-==":[cr,[Se],(l,[s])=>l.id()===s.value],"filter-type-==":[cr,[Er],(l,[s])=>l.geometryType()===s.value],"filter-<":[cr,[Er,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f<v}],"filter-id-<":[cr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c<f}],"filter->":[cr,[Er,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f>v}],"filter-id->":[cr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c>f}],"filter-<=":[cr,[Er,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f<=v}],"filter-id-<=":[cr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c<=f}],"filter->=":[cr,[Er,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f>=v}],"filter-id->=":[cr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c>=f}],"filter-has":[cr,[Se],(l,[s])=>s.value in l.properties()],"filter-has-id":[cr,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[cr,[H(Er)],(l,[s])=>s.value.indexOf(l.geometryType())>=0],"filter-id-in":[cr,[H(Se)],(l,[s])=>s.value.indexOf(l.id())>=0],"filter-in-small":[cr,[Er,H(Se)],(l,[s,c])=>c.value.indexOf(l.properties()[s.value])>=0],"filter-in-large":[cr,[Er,H(Se)],(l,[s,c])=>function(f,v,w,S){for(;w<=S;){let C=w+S>>1;if(v[C]===f)return!0;v[C]>f?S=C-1:w=C+1}return!1}(l.properties()[s.value],c.value,0,c.value.length-1)],all:{type:cr,overloads:[[[cr,cr],(l,[s,c])=>s.evaluate(l)&&c.evaluate(l)],[$c(cr),(l,s)=>{for(let c of s)if(!c.evaluate(l))return!1;return!0}]]},any:{type:cr,overloads:[[[cr,cr],(l,[s,c])=>s.evaluate(l)||c.evaluate(l)],[$c(cr),(l,s)=>{for(let c of s)if(c.evaluate(l))return!0;return!1}]]},"!":[cr,[cr],(l,[s])=>!s.evaluate(l)],"is-supported-script":[cr,[Er],(l,[s])=>{let c=l.globals&&l.globals.isSupportedScript;return!c||c(s.evaluate(l))}],upcase:[Er,[Er],(l,[s])=>s.evaluate(l).toUpperCase()],downcase:[Er,[Er],(l,[s])=>s.evaluate(l).toLowerCase()],concat:[Er,$c(Se),(l,s)=>s.map(c=>ah(c.evaluate(l))).join("")],"resolved-locale":[Er,[Ae],(l,[s])=>s.evaluate(l).resolvedLocale()]});class Eg{constructor(s,c){var f;this.expression=s,this._warningHistory={},this._evaluator=new cg,this._defaultValue=c?(f=c).type==="color"&&Sg(f.default)?new Sn(0,0,0,0):f.type==="color"?Sn.parse(f.default)||null:f.type==="padding"?Na.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?rs.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=v,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(s,c,f,v,w,S){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=v,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S||null;try{let C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new Ti(`Expected value to be one of ${Object.keys(this._enumValues).map(M=>JSON.stringify(M)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console!="undefined"&&console.warn(C.message)),this._defaultValue}}}function Tg(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in ap}function dp(l,s){let c=new Lc(ap,fh,[],s?function(v){let w={color:ho,string:Er,number:xt,enum:Er,boolean:cr,formatted:ct,padding:kt,resolvedImage:Ot,variableAnchorOffsetCollection:ne};return v.type==="array"?H(w[v.value]||Se,v.length):w[v.type]}(s):void 0),f=c.parse(l,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?wg(new Eg(f,s)):lp(c.errors)}class pp{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!sp(c.expression)}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,f,v,w,S)}evaluate(s,c,f,v,w,S){return this._styleExpression.evaluate(s,c,f,v,w,S)}}class fp{constructor(s,c,f,v){this.kind=s,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!sp(c.expression),this.interpolationType=v}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,f,v,w,S)}evaluate(s,c,f,v,w,S){return this._styleExpression.evaluate(s,c,f,v,w,S)}interpolationFactor(s,c,f){return this.interpolationType?sa.interpolationFactor(this.interpolationType,s,c,f):0}}function D1(l,s){let c=dp(l,s);if(c.result==="error")return c;let f=c.value.expression,v=hh(f);if(!v&&!up(s))return lp([new _n("","data expressions not supported")]);let w=mh(f,["zoom"]);if(!w&&!W2(s))return lp([new _n("","zoom expressions not supported")]);let S=gh(f);return S||w?S instanceof _n?lp([S]):S instanceof sa&&!O1(s)?lp([new _n("","\"interpolate\" expressions cannot be used with this property")]):wg(S?new fp(v?"camera":"composite",c.value,S.labels,S instanceof sa?S.interpolation:void 0):new pp(v?"constant":"source",c.value)):lp([new _n("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class hp{constructor(s,c){this._parameters=s,this._specification=c,fi(this,G2(this._parameters,this._specification))}static deserialize(s){return new hp(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function gh(l){let s=null;if(l instanceof Lu)s=gh(l.result);else if(l instanceof hg){for(let c of l.args)if(s=gh(c),s)break}else(l instanceof np||l instanceof sa)&&l.input instanceof ns&&l.input.name==="zoom"&&(s=l);return s instanceof _n||l.eachChild(c=>{let f=gh(c);f instanceof _n?s=f:!s&&f?s=new _n("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&f&&s!==f&&(s=new _n("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function Cg(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(let s of l.slice(1))if(!Cg(s)&&typeof s!="boolean")return!1;return!0;default:return!0;}}let Ag={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function k1(l){if(l==null)return{filter:()=>!0,needGeometry:!1};Cg(l)||(l=Mg(l));let s=dp(l,Ag);if(s.result==="error")throw new Error(s.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,v)=>s.value.evaluate(c,f,{},v),needGeometry:X2(l)}}function CD(l,s){return l<s?-1:l>s?1:0}function X2(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let s=1;s<l.length;s++)if(X2(l[s]))return!0;return!1}function Mg(l){if(!l)return!0;let s=l[0];return l.length<=1?s!=="any":s==="=="?q1(l[1],l[2],"=="):s==="!="?mo(q1(l[1],l[2],"==")):s==="<"||s===">"||s==="<="||s===">="?q1(l[1],l[2],s):s==="any"?(c=l.slice(1),["any"].concat(c.map(Mg))):s==="all"?["all"].concat(l.slice(1).map(Mg)):s==="none"?["all"].concat(l.slice(1).map(Mg).map(mo)):s==="in"?vh(l[1],l.slice(2)):s==="!in"?mo(vh(l[1],l.slice(2))):s==="has"?yh(l[1]):s!=="!has"||mo(yh(l[1]));var c}function q1(l,s,c){switch(l){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,l,s];}}function vh(l,s){if(s.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",l,["literal",s.sort(CD)]]:["filter-in-small",l,["literal",s]];}}function yh(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l];}}function mo(l){return["!",l]}function Hc(l){let s=typeof l;if(s==="number"||s==="boolean"||s==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let v="[";for(let w of l)v+=`${Hc(w)},`;return`${v}]`}let c=Object.keys(l).sort(),f="{";for(let v=0;v<c.length;v++)f+=`${JSON.stringify(c[v])}:${Hc(l[c[v]])},`;return`${f}}`}function J2(l){let s="";for(let c of ft)s+=`/${Hc(l[c])}`;return s}function Q2(l){let s=l.value;return s?[new st(l.key,s,"constants have been deprecated as of v8")]:[]}function wi(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function js(l){if(Array.isArray(l))return l.map(js);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){let s={};for(let c in l)s[c]=js(l[c]);return s}return wi(l)}function La(l){let s=l.key,c=l.value,f=l.valueSpec||{},v=l.objectElementValidators||{},w=l.style,S=l.styleSpec,C=l.validateSpec,M=[],k=ln(c);if(k!=="object")return[new st(s,c,`object expected, ${k} found`)];for(let R in c){let j=R.split(".")[0],W=f[j]||f["*"],G;if(v[j])G=v[j];else if(f[j])G=C;else if(v["*"])G=v["*"];else{if(!f["*"]){M.push(new st(s,c[R],`unknown property "${R}"`));continue}G=C}M=M.concat(G({key:(s&&`${s}.`)+R,value:c[R],valueSpec:W,style:w,styleSpec:S,object:c,objectKey:R,validateSpec:C},c))}for(let R in f)v[R]||f[R].required&&f[R].default===void 0&&c[R]===void 0&&M.push(new st(s,c,`missing required property "${R}"`));return M}function _h(l){let s=l.value,c=l.valueSpec,f=l.style,v=l.styleSpec,w=l.key,S=l.arrayElementValidator||l.validateSpec;if(ln(s)!=="array")return[new st(w,s,`array expected, ${ln(s)} found`)];if(c.length&&s.length!==c.length)return[new st(w,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new st(w,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let C={type:c.value,values:c.values};v.$version<7&&(C.function=c.function),ln(c.value)==="object"&&(C=c.value);let M=[];for(let k=0;k<s.length;k++)M=M.concat(S({array:s,arrayIndex:k,value:s[k],valueSpec:C,validateSpec:l.validateSpec,style:f,styleSpec:v,key:`${w}[${k}]`}));return M}function N1(l){let s=l.key,c=l.value,f=l.valueSpec,v=ln(c);return v==="number"&&c!=c&&(v="NaN"),v!=="number"?[new st(s,c,`number expected, ${v} found`)]:"minimum"in f&&c<f.minimum?[new st(s,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new st(s,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function Pg(l){let s=l.valueSpec,c=wi(l.value.type),f,v,w,S={},C=c!=="categorical"&&l.value.property===void 0,M=!C,k=ln(l.value.stops)==="array"&&ln(l.value.stops[0])==="array"&&ln(l.value.stops[0][0])==="object",R=La({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(G){if(c==="identity")return[new st(G.key,G.value,"identity function may not have a \"stops\" property")];let X=[],Q=G.value;return X=X.concat(_h({key:G.key,value:Q,valueSpec:G.valueSpec,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:j})),ln(Q)==="array"&&Q.length===0&&X.push(new st(G.key,Q,"array must have at least one stop")),X},default:function(G){return G.validateSpec({key:G.key,value:G.value,valueSpec:s,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec})}}});return c==="identity"&&C&&R.push(new st(l.key,l.value,"missing required property \"property\"")),c==="identity"||l.value.stops||R.push(new st(l.key,l.value,"missing required property \"stops\"")),c==="exponential"&&l.valueSpec.expression&&!O1(l.valueSpec)&&R.push(new st(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(M&&!up(l.valueSpec)?R.push(new st(l.key,l.value,"property functions not supported")):C&&!W2(l.valueSpec)&&R.push(new st(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!k||l.value.property!==void 0||R.push(new st(l.key,l.value,"\"property\" property is required")),R;function j(G){let X=[],Q=G.value,le=G.key;if(ln(Q)!=="array")return[new st(le,Q,`array expected, ${ln(Q)} found`)];if(Q.length!==2)return[new st(le,Q,`array length 2 expected, length ${Q.length} found`)];if(k){if(ln(Q[0])!=="object")return[new st(le,Q,`object expected, ${ln(Q[0])} found`)];if(Q[0].zoom===void 0)return[new st(le,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new st(le,Q,"object stop key must have value")];if(w&&w>wi(Q[0].zoom))return[new st(le,Q[0].zoom,"stop zoom values must appear in ascending order")];wi(Q[0].zoom)!==w&&(w=wi(Q[0].zoom),v=void 0,S={}),X=X.concat(La({key:`${le}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:N1,value:W}}))}else X=X.concat(W({key:`${le}[0]`,value:Q[0],valueSpec:{},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec},Q));return Tg(js(Q[1]))?X.concat([new st(`${le}[1]`,Q[1],"expressions are not allowed in function stops.")]):X.concat(G.validateSpec({key:`${le}[1]`,value:Q[1],valueSpec:s,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec}))}function W(G,X){let Q=ln(G.value),le=wi(G.value),de=G.value!==null?G.value:X;if(f){if(Q!==f)return[new st(G.key,de,`${Q} stop domain type must match previous stop domain type ${f}`)]}else f=Q;if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new st(G.key,de,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&c!=="categorical"){let ke=`number expected, ${Q} found`;return up(s)&&c===void 0&&(ke+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new st(G.key,de,ke)]}return c!=="categorical"||Q!=="number"||isFinite(le)&&Math.floor(le)===le?c!=="categorical"&&Q==="number"&&v!==void 0&&le<v?[new st(G.key,de,"stop domain values must appear in ascending order")]:(v=le,c==="categorical"&&le in S?[new st(G.key,de,"stop domain values must be unique")]:(S[le]=!0,[])):[new st(G.key,de,`integer expected, found ${le}`)]}}function mp(l){let s=(l.expressionContext==="property"?D1:dp)(js(l.value),l.valueSpec);if(s.result==="error")return s.value.map(f=>new st(`${l.key}${f.key}`,l.value,f.message));let c=s.value.expression||s.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new st(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!sp(c))return[new st(l.key,l.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(l.expressionContext==="filter"&&!sp(c))return[new st(l.key,l.value,"\"feature-state\" data expressions are not supported with filters.")];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!mh(c,["zoom","feature-state"]))return[new st(l.key,l.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(l.expressionContext==="cluster-initial"&&!hh(c))return[new st(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function su(l){let s=l.key,c=l.value,f=l.valueSpec,v=[];return Array.isArray(f.values)?f.values.indexOf(wi(c))===-1&&v.push(new st(s,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(wi(c))===-1&&v.push(new st(s,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),v}function R1(l){return Cg(js(l.value))?mp(fi({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Og(l)}function Og(l){let s=l.value,c=l.key;if(ln(s)!=="array")return[new st(c,s,`array expected, ${ln(s)} found`)];let f=l.styleSpec,v,w=[];if(s.length<1)return[new st(c,s,"filter array must have at least 1 element")];switch(w=w.concat(su({key:`${c}[0]`,value:s[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),wi(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&wi(s[1])==="$type"&&w.push(new st(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&w.push(new st(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(v=ln(s[1]),v!=="string"&&w.push(new st(`${c}[1]`,s[1],`string expected, ${v} found`)));for(let S=2;S<s.length;S++)v=ln(s[S]),wi(s[1])==="$type"?w=w.concat(su({key:`${c}[${S}]`,value:s[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&w.push(new st(`${c}[${S}]`,s[S],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let S=1;S<s.length;S++)w=w.concat(Og({key:`${c}[${S}]`,value:s[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":v=ln(s[1]),s.length!==2?w.push(new st(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):v!=="string"&&w.push(new st(`${c}[1]`,s[1],`string expected, ${v} found`));}return w}function L1(l,s){let c=l.key,f=l.validateSpec,v=l.style,w=l.styleSpec,S=l.value,C=l.objectKey,M=w[`${s}_${l.layerType}`];if(!M)return[];let k=C.match(/^(.*)-transition$/);if(s==="paint"&&k&&M[k[1]]&&M[k[1]].transition)return f({key:c,value:S,valueSpec:w.transition,style:v,styleSpec:w});let R=l.valueSpec||M[C];if(!R)return[new st(c,S,`unknown property "${C}"`)];let j;if(ln(S)==="string"&&up(R)&&!R.tokens&&(j=/^{([^}]+)}$/.exec(S)))return[new st(c,S,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(j[1])} }\`.`)];let W=[];return l.layerType==="symbol"&&(C==="text-field"&&v&&!v.glyphs&&W.push(new st(c,S,"use of \"text-field\" requires a style \"glyphs\" property")),C==="text-font"&&Sg(js(S))&&wi(S.type)==="identity"&&W.push(new st(c,S,"\"text-font\" does not support identity functions"))),W.concat(f({key:l.key,value:S,valueSpec:R,style:v,styleSpec:w,expressionContext:"property",propertyType:s,propertyKey:C}))}function Dg(l){return L1(l,"paint")}function z1(l){return L1(l,"layout")}function F1(l){let s=[],c=l.value,f=l.key,v=l.style,w=l.styleSpec;c.type||c.ref||s.push(new st(f,c,"either \"type\" or \"ref\" is required"));let S=wi(c.type),C=wi(c.ref);if(c.id){let M=wi(c.id);for(let k=0;k<l.arrayIndex;k++){let R=v.layers[k];wi(R.id)===M&&s.push(new st(f,c.id,`duplicate layer id "${c.id}", previously used at line ${R.id.__line__}`))}}if("ref"in c){let M;["type","source","source-layer","filter","layout"].forEach(k=>{k in c&&s.push(new st(f,c[k],`"${k}" is prohibited for ref layers`))}),v.layers.forEach(k=>{wi(k.id)===C&&(M=k)}),M?M.ref?s.push(new st(f,c.ref,"ref cannot reference another ref layer")):S=wi(M.type):s.push(new st(f,c.ref,`ref layer "${C}" not found`))}else if(S!=="background")if(c.source){let M=v.sources&&v.sources[c.source],k=M&&wi(M.type);M?k==="vector"&&S==="raster"?s.push(new st(f,c.source,`layer "${c.id}" requires a raster source`)):k!=="raster-dem"&&S==="hillshade"?s.push(new st(f,c.source,`layer "${c.id}" requires a raster-dem source`)):k==="raster"&&S!=="raster"?s.push(new st(f,c.source,`layer "${c.id}" requires a vector source`)):k!=="vector"||c["source-layer"]?k==="raster-dem"&&S!=="hillshade"?s.push(new st(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||k==="geojson"&&M.lineMetrics||s.push(new st(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new st(f,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new st(f,c.source,`source "${c.source}" not found`))}else s.push(new st(f,c,"missing required property \"source\""));return s=s.concat(La({key:f,value:c,valueSpec:w.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:w.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:R1,layout:M=>La({layer:c,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":k=>z1(fi({layerType:S},k))}}),paint:M=>La({layer:c,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":k=>Dg(fi({layerType:S},k))}})}})),s}function Wc(l){let s=l.value,c=l.key,f=ln(s);return f!=="string"?[new st(c,s,`string expected, ${f} found`)]:[]}let kg={promoteId:function({key:l,value:s}){if(ln(s)==="string")return Wc({key:l,value:s});{let c=[];for(let f in s)c.push(...Wc({key:`${l}.${f}`,value:s[f]}));return c}}};function bh(l){let s=l.value,c=l.key,f=l.styleSpec,v=l.style,w=l.validateSpec;if(!s.type)return[new st(c,s,"\"type\" is required")];let S=wi(s.type),C;switch(S){case"vector":case"raster":return C=La({key:c,value:s,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:kg,validateSpec:w}),C;case"raster-dem":return C=function(M){var k;let R=(k=M.sourceName)!==null&&k!==void 0?k:"",j=M.value,W=M.styleSpec,G=W.source_raster_dem,X=M.style,Q=[],le=ln(j);if(j===void 0)return Q;if(le!=="object")return Q.push(new st("source_raster_dem",j,`object expected, ${le} found`)),Q;let de=wi(j.encoding)==="custom",ke=["redFactor","greenFactor","blueFactor","baseShift"],_e=M.value.encoding?`"${M.value.encoding}"`:"Default";for(let Me in j)!de&&ke.includes(Me)?Q.push(new st(Me,j[Me],`In "${R}": "${Me}" is only valid when "encoding" is set to "custom". ${_e} encoding found`)):G[Me]?Q=Q.concat(M.validateSpec({key:Me,value:j[Me],valueSpec:G[Me],validateSpec:M.validateSpec,style:X,styleSpec:W})):Q.push(new st(Me,j[Me],`unknown property "${Me}"`));return Q}({sourceName:c,value:s,style:l.style,styleSpec:f,validateSpec:w}),C;case"geojson":if(C=La({key:c,value:s,valueSpec:f.source_geojson,style:v,styleSpec:f,validateSpec:w,objectElementValidators:kg}),s.cluster)for(let M in s.clusterProperties){let[k,R]=s.clusterProperties[M],j=typeof k=="string"?[k,["accumulated"],["get",M]]:k;C.push(...mp({key:`${c}.${M}.map`,value:R,validateSpec:w,expressionContext:"cluster-map"})),C.push(...mp({key:`${c}.${M}.reduce`,value:j,validateSpec:w,expressionContext:"cluster-reduce"}))}return C;case"video":return La({key:c,value:s,valueSpec:f.source_video,style:v,validateSpec:w,styleSpec:f});case"image":return La({key:c,value:s,valueSpec:f.source_image,style:v,validateSpec:w,styleSpec:f});case"canvas":return[new st(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return su({key:`${c}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:v,validateSpec:w,styleSpec:f});}}function j1(l){let s=l.value,c=l.styleSpec,f=c.light,v=l.style,w=[],S=ln(s);if(s===void 0)return w;if(S!=="object")return w=w.concat([new st("light",s,`object expected, ${S} found`)]),w;for(let C in s){let M=C.match(/^(.*)-transition$/);w=w.concat(M&&f[M[1]]&&f[M[1]].transition?l.validateSpec({key:C,value:s[C],valueSpec:c.transition,validateSpec:l.validateSpec,style:v,styleSpec:c}):f[C]?l.validateSpec({key:C,value:s[C],valueSpec:f[C],validateSpec:l.validateSpec,style:v,styleSpec:c}):[new st(C,s[C],`unknown property "${C}"`)])}return w}function B1(l){let s=l.value,c=l.styleSpec,f=c.sky,v=l.style,w=ln(s);if(s===void 0)return[];if(w!=="object")return[new st("sky",s,`object expected, ${w} found`)];let S=[];for(let C in s)S=S.concat(f[C]?l.validateSpec({key:C,value:s[C],valueSpec:f[C],style:v,styleSpec:c}):[new st(C,s[C],`unknown property "${C}"`)]);return S}function V1(l){let s=l.value,c=l.styleSpec,f=c.terrain,v=l.style,w=[],S=ln(s);if(s===void 0)return w;if(S!=="object")return w=w.concat([new st("terrain",s,`object expected, ${S} found`)]),w;for(let C in s)w=w.concat(f[C]?l.validateSpec({key:C,value:s[C],valueSpec:f[C],validateSpec:l.validateSpec,style:v,styleSpec:c}):[new st(C,s[C],`unknown property "${C}"`)]);return w}function U1(l){let s=[],c=l.value,f=l.key;if(Array.isArray(c)){let v=[],w=[];for(let S in c)c[S].id&&v.includes(c[S].id)&&s.push(new st(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),v.push(c[S].id),c[S].url&&w.includes(c[S].url)&&s.push(new st(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),w.push(c[S].url),s=s.concat(La({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return s}return Wc({key:f,value:c})}let qg={"*":()=>[],array:_h,boolean:function(l){let s=l.value,c=l.key,f=ln(s);return f!=="boolean"?[new st(c,s,`boolean expected, ${f} found`)]:[]},number:N1,color:function(l){let s=l.key,c=l.value,f=ln(c);return f!=="string"?[new st(s,c,`color expected, ${f} found`)]:Sn.parse(String(c))?[]:[new st(s,c,`color expected, "${c}" found`)]},constants:Q2,enum:su,filter:R1,function:Pg,layer:F1,object:La,source:bh,light:j1,sky:B1,terrain:V1,projection:function(l){let s=l.value,c=l.styleSpec,f=c.projection,v=l.style,w=ln(s);if(s===void 0)return[];if(w!=="object")return[new st("projection",s,`object expected, ${w} found`)];let S=[];for(let C in s)S=S.concat(f[C]?l.validateSpec({key:C,value:s[C],valueSpec:f[C],style:v,styleSpec:c}):[new st(C,s[C],`unknown property "${C}"`)]);return S},string:Wc,formatted:function(l){return Wc(l).length===0?[]:mp(l)},resolvedImage:function(l){return Wc(l).length===0?[]:mp(l)},padding:function(l){let s=l.key,c=l.value;if(ln(c)==="array"){if(c.length<1||c.length>4)return[new st(s,c,`padding requires 1 to 4 values; ${c.length} values found`)];let f={type:"number"},v=[];for(let w=0;w<c.length;w++)v=v.concat(l.validateSpec({key:`${s}[${w}]`,value:c[w],validateSpec:l.validateSpec,valueSpec:f}));return v}return N1({key:s,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){let s=l.key,c=l.value,f=ln(c),v=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new st(s,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let w=[];for(let S=0;S<c.length;S+=2)w=w.concat(su({key:`${s}[${S}]`,value:c[S],valueSpec:v.layout_symbol["text-anchor"]})),w=w.concat(_h({key:`${s}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:v}));return w},sprite:U1};function gp(l){let s=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=gp,c.expression&&Sg(wi(s))?Pg(l):c.expression&&Tg(js(s))?mp(l):c.type&&qg[c.type]?qg[c.type](l):La(fi({},l,{valueSpec:c.type?f[c.type]:c}))}function eI(l){let s=l.value,c=l.key,f=Wc(l);return f.length||(s.indexOf("{fontstack}")===-1&&f.push(new st(c,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&f.push(new st(c,s,"\"glyphs\" url must include a \"{range}\" token"))),f}function is(l,s=we){let c=[];return c=c.concat(gp({key:"",value:l,valueSpec:s.$root,styleSpec:s,style:l,validateSpec:gp,objectElementValidators:{glyphs:eI,"*":()=>[]}})),l.constants&&(c=c.concat(Q2({key:"constants",value:l.constants,style:l,styleSpec:s,validateSpec:gp}))),$1(c)}function hl(l){return function(s){return l(qr(rt({},s),{validateSpec:gp}))}}function $1(l){return[].concat(l).sort((s,c)=>s.line-c.line)}function Bs(l){return function(...s){return $1(l.apply(this,s))}}is.source=Bs(hl(bh)),is.sprite=Bs(hl(U1)),is.glyphs=Bs(hl(eI)),is.light=Bs(hl(j1)),is.sky=Bs(hl(B1)),is.terrain=Bs(hl(V1)),is.layer=Bs(hl(F1)),is.filter=Bs(hl(R1)),is.paintProperty=Bs(hl(Dg)),is.layoutProperty=Bs(hl(z1));let Gc=is,AD=Gc.light,MD=Gc.sky,tI=Gc.paintProperty,rI=Gc.layoutProperty;function H1(l,s){let c=!1;if(s&&s.length)for(let f of s)l.fire(new It(new Error(f.message))),c=!0;return c}class vp{constructor(s,c,f){let v=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let S=new Int32Array(this.arrayBuffer);s=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let M=0;M<this.d*this.d;M++){let k=S[3+M],R=S[3+M+1];v.push(k===R?null:S.subarray(k,R))}let C=S[3+v.length+1];this.keys=S.subarray(S[3+v.length],C),this.bboxes=S.subarray(C),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)v.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=f,this.scale=c/s,this.uid=0;let w=f/c*s;this.min=-w,this.max=s+w}insert(s,c,f,v,w){this._forEachCell(c,f,v,w,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(w)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,c,f,v,w,S){this.cells[w].push(S)}query(s,c,f,v,w){let S=this.min,C=this.max;if(s<=S&&c<=S&&C<=f&&C<=v&&!w)return Array.prototype.slice.call(this.keys);{let M=[];return this._forEachCell(s,c,f,v,this._queryCell,M,{},w),M}}_queryCell(s,c,f,v,w,S,C,M){let k=this.cells[w];if(k!==null){let R=this.keys,j=this.bboxes;for(let W=0;W<k.length;W++){let G=k[W];if(C[G]===void 0){let X=4*G;(M?M(j[X+0],j[X+1],j[X+2],j[X+3]):s<=j[X+2]&&c<=j[X+3]&&f>=j[X+0]&&v>=j[X+1])?(C[G]=!0,S.push(R[G])):C[G]=!1}}}}_forEachCell(s,c,f,v,w,S,C,M){let k=this._convertToCellCoord(s),R=this._convertToCellCoord(c),j=this._convertToCellCoord(f),W=this._convertToCellCoord(v);for(let G=k;G<=j;G++)for(let X=R;X<=W;X++){let Q=this.d*X+G;if((!M||M(this._convertFromCellCoord(G),this._convertFromCellCoord(X),this._convertFromCellCoord(G+1),this._convertFromCellCoord(X+1)))&&w.call(this,s,c,f,v,Q,S,C,M))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,c=3+this.cells.length+1+1,f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;let v=new Int32Array(c+f+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let w=c;for(let S=0;S<s.length;S++){let C=s[S];v[3+S]=w,v.set(C,w),w+=C.length}return v[3+s.length]=w,v.set(this.keys,w),w+=this.keys.length,v[3+s.length+1]=w,v.set(this.bboxes,w),w+=this.bboxes.length,v.buffer}static serialize(s,c){let f=s.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(s){return new vp(s.buffer)}}let os={};function Bt(l,s,c={}){if(os[l])throw new Error(`${l} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:l,writeable:!1}),os[l]={klass:s,omit:c.omit||[],shallow:c.shallow||[]}}Bt("Object",Object),Bt("TransferableGridIndex",vp),Bt("Color",Sn),Bt("Error",Error),Bt("AJAXError",De),Bt("ResolvedImage",Ra),Bt("StylePropertyFunction",hp),Bt("StyleExpression",Eg,{omit:["_evaluator"]}),Bt("ZoomDependentExpression",fp),Bt("ZoomConstantExpression",pp),Bt("CompoundExpression",ns,{omit:["_evaluate"]});for(let l in ap)ap[l]._classRegistryKey||Bt(`Expression_${l}`,ap[l]);function Ng(l){return l&&typeof ArrayBuffer!="undefined"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function W1(l){return l.$name||l.constructor._classRegistryKey}function nI(l){return!function(s){if(s===null||typeof s!="object")return!1;let c=W1(s);return!(!c||c==="Object")}(l)&&(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||l instanceof Error||Ng(l)||ot(l)||ArrayBuffer.isView(l)||l instanceof ImageData)}function yp(l,s){if(nI(l))return(Ng(l)||ot(l))&&s&&s.push(l),ArrayBuffer.isView(l)&&s&&s.push(l.buffer),l instanceof ImageData&&s&&s.push(l.data.buffer),l;if(Array.isArray(l)){let w=[];for(let S of l)w.push(yp(S,s));return w}if(typeof l!="object")throw new Error("can't serialize object of type "+typeof l);let c=W1(l);if(!c)throw new Error(`can't serialize object of unregistered class ${l.constructor.name}`);if(!os[c])throw new Error(`${c} is not registered.`);let{klass:f}=os[c],v=f.serialize?f.serialize(l,s):{};if(f.serialize){if(s&&v===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let w in l){if(!l.hasOwnProperty(w)||os[c].omit.indexOf(w)>=0)continue;let S=l[w];v[w]=os[c].shallow.indexOf(w)>=0?S:yp(S,s)}l instanceof Error&&(v.message=l.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(v.$name=c),v}function _p(l){if(nI(l))return l;if(Array.isArray(l))return l.map(_p);if(typeof l!="object")throw new Error("can't deserialize object of type "+typeof l);let s=W1(l)||"Object";if(!os[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:c}=os[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(l);let f=Object.create(c.prototype);for(let v of Object.keys(l)){if(v==="$name")continue;let w=l[v];f[v]=os[s].shallow.indexOf(v)>=0?w:_p(w)}return f}class G1{constructor(){this.first=!0}update(s,c){let f=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=f,!0))}}let Kr={"Latin-1 Supplement":l=>l>=128&&l<=255,"Hangul Jamo":l=>l>=4352&&l<=4607,Khmer:l=>l>=6016&&l<=6143,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Katakana:l=>l>=12448&&l<=12543,Kanbun:l=>l>=12688&&l<=12703,"CJK Strokes":l=>l>=12736&&l<=12783,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"Private Use Area":l=>l>=57344&&l<=63743,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Z1(l){for(let s of l)if(K1(s.charCodeAt(0)))return!0;return!1}function PD(l){for(let s of l)if(!bp(s.charCodeAt(0)))return!1;return!0}function Y1(l){let s=l.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch(f){return null}}).filter(c=>c);return new RegExp(s.join("|"),"u")}let OD=Y1(["Arab","Dupl","Mong","Ougr","Syrc"]);function bp(l){return!OD.test(String.fromCodePoint(l))}let iI=Y1(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function K1(l){return!(l!==746&&l!==747&&(l<4352||!(Kr["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Kr["CJK Compatibility"](l)||Kr["CJK Strokes"](l)||!(!Kr["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Kr["Enclosed CJK Letters and Months"](l)||Kr["Ideographic Description Characters"](l)||Kr.Kanbun(l)||Kr.Katakana(l)&&l!==12540||!(!Kr["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Kr["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Kr["Vertical Forms"](l)||Kr["Yijing Hexagram Symbols"](l)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(l))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(l))||iI.test(String.fromCodePoint(l)))))}function oI(l){return!(K1(l)||function(s){return!!(Kr["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||Kr["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||Kr["Letterlike Symbols"](s)||Kr["Number Forms"](s)||Kr["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||Kr["Control Pictures"](s)&&s!==9251||Kr["Optical Character Recognition"](s)||Kr["Enclosed Alphanumerics"](s)||Kr["Geometric Shapes"](s)||Kr["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||Kr["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Kr["CJK Symbols and Punctuation"](s)||Kr.Katakana(s)||Kr["Private Use Area"](s)||Kr["CJK Compatibility Forms"](s)||Kr["Small Form Variants"](s)||Kr["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(l))}let DD=Y1(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function X1(l){return DD.test(String.fromCodePoint(l))}function kD(l,s){return!(!s&&X1(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Kr.Khmer(l))}function qD(l){for(let s of l)if(X1(s.charCodeAt(0)))return!0;return!1}let za=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(l){this.pluginStatus=l.pluginStatus,this.pluginURL=l.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(l){this.applyArabicShaping=l.applyArabicShaping,this.processBidirectionalText=l.processBidirectionalText,this.processStyledBidirectionalText=l.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Zn{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new G1,this.transition={})}isSupportedScript(s){return function(c,f){for(let v of c)if(!kD(v.charCodeAt(0),f))return!1;return!0}(s,za.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,c=s-Math.floor(s),f=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class xp{constructor(s,c){this.property=s,this.value=c,this.expression=function(f,v){if(Sg(f))return new hp(f,v);if(Tg(f)){let w=D1(f,v);if(w.result==="error")throw new Error(w.value.map(S=>`${S.key}: ${S.message}`).join(", "));return w.value}{let w=f;return v.type==="color"&&typeof f=="string"?w=Sn.parse(f):v.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?v.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(w=rs.parse(f)):w=Na.parse(f),{kind:"constant",evaluate:()=>w}}}(c===void 0?s.specification.default:c,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,c,f){return this.property.possiblyEvaluate(this,s,c,f)}}class Rg{constructor(s){this.property=s,this.value=new xp(s,void 0)}transitioned(s,c){return new aI(this.property,this.value,c,ae({},s.transition,this.transition),s.now)}untransitioned(){return new aI(this.property,this.value,null,{},0)}}class Lg{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return be(this._values[s].value.value)}setValue(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Rg(this._values[s].property)),this._values[s].value=new xp(this._values[s].property,c===null?void 0:be(c))}getTransition(s){return be(this._values[s].transition)}setTransition(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Rg(this._values[s].property)),this._values[s].transition=be(c)||void 0}serialize(){let s={};for(let c of Object.keys(this._values)){let f=this.getValue(c);f!==void 0&&(s[c]=f);let v=this.getTransition(c);v!==void 0&&(s[`${c}-transition`]=v)}return s}transitioned(s,c){let f=new xh(this._properties);for(let v of Object.keys(this._values))f._values[v]=this._values[v].transitioned(s,c._values[v]);return f}untransitioned(){let s=new xh(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class aI{constructor(s,c,f,v,w){this.property=s,this.value=c,this.begin=w+v.delay||0,this.end=this.begin+v.duration||0,s.specification.transition&&(v.delay||v.duration)&&(this.prior=f)}possiblyEvaluate(s,c,f){let v=s.now||0,w=this.value.possiblyEvaluate(s,c,f),S=this.prior;if(S){if(v>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(v<this.begin)return S.possiblyEvaluate(s,c,f);{let C=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(s,c,f),w,function(M){if(M<=0)return 0;if(M>=1)return 1;let k=M*M,R=k*M;return 4*(M<.5?R:3*(M-k)+R-.75)}(C))}}return w}}class xh{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,f){let v=new Sh(this._properties);for(let w of Object.keys(this._values))v._values[w]=this._values[w].possiblyEvaluate(s,c,f);return v}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class wh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}hasValue(s){return this._values[s].value!==void 0}getValue(s){return be(this._values[s].value)}setValue(s,c){this._values[s]=new xp(this._values[s].property,c===null?void 0:be(c))}serialize(){let s={};for(let c of Object.keys(this._values)){let f=this.getValue(c);f!==void 0&&(s[c]=f)}return s}possiblyEvaluate(s,c,f){let v=new Sh(this._properties);for(let w of Object.keys(this._values))v._values[w]=this._values[w].possiblyEvaluate(s,c,f);return v}}class ml{constructor(s,c,f){this.property=s,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,c,f,v){return this.property.evaluate(this.value,this.parameters,s,c,f,v)}}class Sh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Zt{constructor(s){this.specification=s}possiblyEvaluate(s,c){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(c)}interpolate(s,c,f){let v=aa[this.specification.type];return v?v(s,c,f):s}}class lr{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,f,v){return new ml(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},f,v)}:s.expression,c)}interpolate(s,c,f){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new ml(this,{kind:"constant",value:void 0},s.parameters);let v=aa[this.specification.type];if(v){let w=v(s.value.value,c.value.value,f);return new ml(this,{kind:"constant",value:w},s.parameters)}return s}evaluate(s,c,f,v,w,S){return s.kind==="constant"?s.value:s.evaluate(c,f,v,w,S)}}class zg extends lr{possiblyEvaluate(s,c,f,v){if(s.value===void 0)return new ml(this,{kind:"constant",value:void 0},c);if(s.expression.kind==="constant"){let w=s.expression.evaluate(c,null,{},f,v),S=s.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,C=this._calculate(S,S,S,c);return new ml(this,{kind:"constant",value:C},c)}if(s.expression.kind==="camera"){let w=this._calculate(s.expression.evaluate({zoom:c.zoom-1}),s.expression.evaluate({zoom:c.zoom}),s.expression.evaluate({zoom:c.zoom+1}),c);return new ml(this,{kind:"constant",value:w},c)}return new ml(this,s.expression,c)}evaluate(s,c,f,v,w,S){if(s.kind==="source"){let C=s.evaluate(c,f,v,w,S);return this._calculate(C,C,C,c)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(c.zoom)-1},f,v),s.evaluate({zoom:Math.floor(c.zoom)},f,v),s.evaluate({zoom:Math.floor(c.zoom)+1},f,v),c):s.value}_calculate(s,c,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:f,to:c}}interpolate(s){return s}}class Fg{constructor(s){this.specification=s}possiblyEvaluate(s,c,f,v){if(s.value!==void 0){if(s.expression.kind==="constant"){let w=s.expression.evaluate(c,null,{},f,v);return this._calculate(w,w,w,c)}return this._calculate(s.expression.evaluate(new Zn(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Zn(Math.floor(c.zoom),c)),s.expression.evaluate(new Zn(Math.floor(c.zoom+1),c)),c)}}_calculate(s,c,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:f,to:c}}interpolate(s){return s}}class J1{constructor(s){this.specification=s}possiblyEvaluate(s,c,f,v){return!!s.expression.evaluate(c,null,{},f,v)}interpolate(){return!1}}class b{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let c in s){let f=s[c];f.specification.overridable&&this.overridableProperties.push(c);let v=this.defaultPropertyValues[c]=new xp(f,void 0),w=this.defaultTransitionablePropertyValues[c]=new Rg(f);this.defaultTransitioningPropertyValues[c]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=v.possiblyEvaluate({})}}}Bt("DataDrivenProperty",lr),Bt("DataConstantProperty",Zt),Bt("CrossFadedDataDrivenProperty",zg),Bt("CrossFadedProperty",Fg),Bt("ColorRampProperty",J1);let a="-transition";class d extends Dt{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new wh(c.layout)),c.paint)){this._transitionablePaint=new Lg(c.paint);for(let f in s.paint)this.setPaintProperty(f,s.paint[f],{validate:!1});for(let f in s.layout)this.setLayoutProperty(f,s.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Sh(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,f={}){c!=null&&this._validate(rI,`layers.${this.id}.layout.${s}`,s,c,f)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return s.endsWith(a)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,f={}){if(c!=null&&this._validate(tI,`layers.${this.id}.paint.${s}`,s,c,f))return!1;if(s.endsWith(a))return this._transitionablePaint.setTransition(s.slice(0,-11),c||void 0),!1;{let v=this._transitionablePaint._values[s],w=v.property.specification["property-type"]==="cross-faded-data-driven",S=v.value.isDataDriven(),C=v.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);let M=this._transitionablePaint._values[s].value;return M.isDataDriven()||S||w||this._handleOverridablePaintPropertyUpdate(s,C,M)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,c,f){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Oe(s,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(s,c,f,v,w={}){return(!w||w.validate!==!1)&&H1(this,s.call(Gc,{key:c,layerType:this.type,objectKey:f,value:v,styleSpec:we,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let c=this.paint.get(s);if(c instanceof ml&&up(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let m={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class g{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class _{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function A(l,s=1){let c=0,f=0;return{members:l.map(v=>{let w=m[v.type].BYTES_PER_ELEMENT,S=c=P(c,Math.max(s,w)),C=v.components||1;return f=Math.max(f,w),c+=w*C,{name:v.name,type:v.type,components:C,offset:S}}),size:P(c,Math.max(f,s)),alignment:s}}function P(l,s){return Math.ceil(l/s)*s}class O extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.int16[v+0]=c,this.int16[v+1]=f,s}}O.prototype.bytesPerElement=4,Bt("StructArrayLayout2i4",O);class L extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.int16[w+0]=c,this.int16[w+1]=f,this.int16[w+2]=v,s}}L.prototype.bytesPerElement=6,Bt("StructArrayLayout3i6",L);class V extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v){let w=this.length;return this.resize(w+1),this.emplace(w,s,c,f,v)}emplace(s,c,f,v,w){let S=4*s;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=v,this.int16[S+3]=w,s}}V.prototype.bytesPerElement=8,Bt("StructArrayLayout4i8",V);class U extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let C=this.length;return this.resize(C+1),this.emplace(C,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,C){let M=6*s;return this.int16[M+0]=c,this.int16[M+1]=f,this.int16[M+2]=v,this.int16[M+3]=w,this.int16[M+4]=S,this.int16[M+5]=C,s}}U.prototype.bytesPerElement=12,Bt("StructArrayLayout2i4i12",U);class K extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let C=this.length;return this.resize(C+1),this.emplace(C,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,C){let M=4*s,k=8*s;return this.int16[M+0]=c,this.int16[M+1]=f,this.uint8[k+4]=v,this.uint8[k+5]=w,this.uint8[k+6]=S,this.uint8[k+7]=C,s}}K.prototype.bytesPerElement=8,Bt("StructArrayLayout2i4ub8",K);class te extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.float32[v+0]=c,this.float32[v+1]=f,s}}te.prototype.bytesPerElement=8,Bt("StructArrayLayout2f8",te);class oe extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,C,M,k,R){let j=this.length;return this.resize(j+1),this.emplace(j,s,c,f,v,w,S,C,M,k,R)}emplace(s,c,f,v,w,S,C,M,k,R,j){let W=10*s;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=v,this.uint16[W+3]=w,this.uint16[W+4]=S,this.uint16[W+5]=C,this.uint16[W+6]=M,this.uint16[W+7]=k,this.uint16[W+8]=R,this.uint16[W+9]=j,s}}oe.prototype.bytesPerElement=20,Bt("StructArrayLayout10ui20",oe);class ce extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,C,M,k,R,j,W){let G=this.length;return this.resize(G+1),this.emplace(G,s,c,f,v,w,S,C,M,k,R,j,W)}emplace(s,c,f,v,w,S,C,M,k,R,j,W,G){let X=12*s;return this.int16[X+0]=c,this.int16[X+1]=f,this.int16[X+2]=v,this.int16[X+3]=w,this.uint16[X+4]=S,this.uint16[X+5]=C,this.uint16[X+6]=M,this.uint16[X+7]=k,this.int16[X+8]=R,this.int16[X+9]=j,this.int16[X+10]=W,this.int16[X+11]=G,s}}ce.prototype.bytesPerElement=24,Bt("StructArrayLayout4i4ui4i24",ce);class pe extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.float32[w+0]=c,this.float32[w+1]=f,this.float32[w+2]=v,s}}pe.prototype.bytesPerElement=12,Bt("StructArrayLayout3f12",pe);class me extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}me.prototype.bytesPerElement=4,Bt("StructArrayLayout1ul4",me);class ye extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,C,M,k){let R=this.length;return this.resize(R+1),this.emplace(R,s,c,f,v,w,S,C,M,k)}emplace(s,c,f,v,w,S,C,M,k,R){let j=10*s,W=5*s;return this.int16[j+0]=c,this.int16[j+1]=f,this.int16[j+2]=v,this.int16[j+3]=w,this.int16[j+4]=S,this.int16[j+5]=C,this.uint32[W+3]=M,this.uint16[j+8]=k,this.uint16[j+9]=R,s}}ye.prototype.bytesPerElement=20,Bt("StructArrayLayout6i1ul2ui20",ye);class se extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let C=this.length;return this.resize(C+1),this.emplace(C,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,C){let M=6*s;return this.int16[M+0]=c,this.int16[M+1]=f,this.int16[M+2]=v,this.int16[M+3]=w,this.int16[M+4]=S,this.int16[M+5]=C,s}}se.prototype.bytesPerElement=12,Bt("StructArrayLayout2i2i2i12",se);class Ie extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w){let S=this.length;return this.resize(S+1),this.emplace(S,s,c,f,v,w)}emplace(s,c,f,v,w,S){let C=4*s,M=8*s;return this.float32[C+0]=c,this.float32[C+1]=f,this.float32[C+2]=v,this.int16[M+6]=w,this.int16[M+7]=S,s}}Ie.prototype.bytesPerElement=16,Bt("StructArrayLayout2f1f2i16",Ie);class Ce extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let C=this.length;return this.resize(C+1),this.emplace(C,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,C){let M=16*s,k=4*s,R=8*s;return this.uint8[M+0]=c,this.uint8[M+1]=f,this.float32[k+1]=v,this.float32[k+2]=w,this.int16[R+6]=S,this.int16[R+7]=C,s}}Ce.prototype.bytesPerElement=16,Bt("StructArrayLayout2ub2f2i16",Ce);class Ne extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.uint16[w+0]=c,this.uint16[w+1]=f,this.uint16[w+2]=v,s}}Ne.prototype.bytesPerElement=6,Bt("StructArrayLayout3ui6",Ne);class tt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de){let ke=this.length;return this.resize(ke+1),this.emplace(ke,s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de)}emplace(s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de,ke){let _e=24*s,Me=12*s,We=48*s;return this.int16[_e+0]=c,this.int16[_e+1]=f,this.uint16[_e+2]=v,this.uint16[_e+3]=w,this.uint32[Me+2]=S,this.uint32[Me+3]=C,this.uint32[Me+4]=M,this.uint16[_e+10]=k,this.uint16[_e+11]=R,this.uint16[_e+12]=j,this.float32[Me+7]=W,this.float32[Me+8]=G,this.uint8[We+36]=X,this.uint8[We+37]=Q,this.uint8[We+38]=le,this.uint32[Me+10]=de,this.int16[_e+22]=ke,s}}tt.prototype.bytesPerElement=48,Bt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",tt);class dt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de,ke,_e,Me,We,ut,Rt,or,qt,Ct,Jt,Ut){let jt=this.length;return this.resize(jt+1),this.emplace(jt,s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de,ke,_e,Me,We,ut,Rt,or,qt,Ct,Jt,Ut)}emplace(s,c,f,v,w,S,C,M,k,R,j,W,G,X,Q,le,de,ke,_e,Me,We,ut,Rt,or,qt,Ct,Jt,Ut,jt){let Ye=32*s,Qt=16*s;return this.int16[Ye+0]=c,this.int16[Ye+1]=f,this.int16[Ye+2]=v,this.int16[Ye+3]=w,this.int16[Ye+4]=S,this.int16[Ye+5]=C,this.int16[Ye+6]=M,this.int16[Ye+7]=k,this.uint16[Ye+8]=R,this.uint16[Ye+9]=j,this.uint16[Ye+10]=W,this.uint16[Ye+11]=G,this.uint16[Ye+12]=X,this.uint16[Ye+13]=Q,this.uint16[Ye+14]=le,this.uint16[Ye+15]=de,this.uint16[Ye+16]=ke,this.uint16[Ye+17]=_e,this.uint16[Ye+18]=Me,this.uint16[Ye+19]=We,this.uint16[Ye+20]=ut,this.uint16[Ye+21]=Rt,this.uint16[Ye+22]=or,this.uint32[Qt+12]=qt,this.float32[Qt+13]=Ct,this.float32[Qt+14]=Jt,this.uint16[Ye+30]=Ut,this.uint16[Ye+31]=jt,s}}dt.prototype.bytesPerElement=64,Bt("StructArrayLayout8i15ui1ul2f2ui64",dt);class Mt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}Mt.prototype.bytesPerElement=4,Bt("StructArrayLayout1f4",Mt);class zt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.uint16[6*s+0]=c,this.float32[w+1]=f,this.float32[w+2]=v,s}}zt.prototype.bytesPerElement=12,Bt("StructArrayLayout1ui2f12",zt);class wt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=4*s;return this.uint32[2*s+0]=c,this.uint16[w+2]=f,this.uint16[w+3]=v,s}}wt.prototype.bytesPerElement=8,Bt("StructArrayLayout1ul2ui8",wt);class bt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.uint16[v+0]=c,this.uint16[v+1]=f,s}}bt.prototype.bytesPerElement=4,Bt("StructArrayLayout2ui4",bt);class Yt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}Yt.prototype.bytesPerElement=2,Bt("StructArrayLayout1ui2",Yt);class yr extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v){let w=this.length;return this.resize(w+1),this.emplace(w,s,c,f,v)}emplace(s,c,f,v,w){let S=4*s;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=v,this.float32[S+3]=w,s}}yr.prototype.bytesPerElement=16,Bt("StructArrayLayout4f16",yr);class Et extends g{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new y(this.anchorPointX,this.anchorPointY)}}Et.prototype.size=20;class Nt extends ye{get(s){return new Et(this,s)}}Bt("CollisionBoxArray",Nt);class mr extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}mr.prototype.size=48;class Yn extends tt{get(s){return new mr(this,s)}}Bt("PlacedSymbolArray",Yn);class Mr extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Mr.prototype.size=64;class Wr extends dt{get(s){return new Mr(this,s)}}Bt("SymbolInstanceArray",Wr);class Kn extends Mt{getoffsetX(s){return this.float32[1*s+0]}}Bt("GlyphOffsetArray",Kn);class go extends L{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Bt("SymbolLineVertexArray",go);class Vs extends g{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Vs.prototype.size=12;class Xn extends zt{get(s){return new Vs(this,s)}}Bt("TextAnchorOffsetArray",Xn);class la extends g{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}la.prototype.size=8;class ko extends wt{get(s){return new la(this,s)}}Bt("FeatureIndexArray",ko);class vo extends O{}class qo extends O{}class gl extends O{}class wp extends U{}class jg extends K{}class Sp extends te{}class as extends oe{}class Bg extends ce{}class Q1 extends pe{}class ss extends me{}class ls extends se{}class Fu extends Ce{}class Us extends Ne{}class ao extends bt{}let yo=A([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fa}=yo;class Xr{constructor(s=[]){this.segments=s}prepareSegment(s,c,f,v){let w=this.segments[this.segments.length-1];return s>Xr.MAX_VERTEX_ARRAY_LENGTH&&$e(`Max vertices per segment is ${Xr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}`),(!w||w.vertexLength+s>Xr.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==v)&&(w={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},v!==void 0&&(w.sortKey=v),this.segments.push(w)),w}get(){return this.segments}destroy(){for(let s of this.segments)for(let c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,f,v){return new Xr([{vertexOffset:s,primitiveOffset:c,vertexLength:f,primitiveLength:v,vaos:{},sortKey:0}])}}function Zc(l,s){return 256*(l=Z(Math.floor(l),0,255))+Z(Math.floor(s),0,255)}Xr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Bt("SegmentVector",Xr);let Ip=A([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ep={exports:{}},sI={exports:{}};sI.exports=function(l,s){var c,f,v,w,S,C,M,k;for(f=l.length-(c=3&l.length),v=s,S=3432918353,C=461845907,k=0;k<f;)M=255&l.charCodeAt(k)|(255&l.charCodeAt(++k))<<8|(255&l.charCodeAt(++k))<<16|(255&l.charCodeAt(++k))<<24,++k,v=27492+(65535&(w=5*(65535&(v=(v^=M=(65535&(M=(M=(65535&M)*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*C+(((M>>>16)*C&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(M=0,c){case 3:M^=(255&l.charCodeAt(k+2))<<16;case 2:M^=(255&l.charCodeAt(k+1))<<8;case 1:v^=M=(65535&(M=(M=(65535&(M^=255&l.charCodeAt(k)))*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*C+(((M>>>16)*C&65535)<<16)&4294967295;}return v^=l.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0};var ND=sI.exports,lI={exports:{}};lI.exports=function(l,s){for(var c,f=l.length,v=s^f,w=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(w)|(255&l.charCodeAt(++w))<<8|(255&l.charCodeAt(++w))<<16|(255&l.charCodeAt(++w))<<24))+((1540483477*(c>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++w;switch(f){case 3:v^=(255&l.charCodeAt(w+2))<<16;case 2:v^=(255&l.charCodeAt(w+1))<<8;case 1:v=1540483477*(65535&(v^=255&l.charCodeAt(w)))+((1540483477*(v>>>16)&65535)<<16);}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0};var ju=ND,uI=lI.exports;Ep.exports=ju,Ep.exports.murmur3=ju,Ep.exports.murmur2=uI;var Vg=u(Ep.exports);class Ih{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,f,v){this.ids.push(Ug(s)),this.positions.push(c,f,v)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let c=Ug(s),f=0,v=this.ids.length-1;for(;f<v;){let S=f+v>>1;this.ids[S]>=c?v=S:f=S+1}let w=[];for(;this.ids[f]===c;)w.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return w}static serialize(s,c){let f=new Float64Array(s.ids),v=new Uint32Array(s.positions);return $g(f,v,0,f.length-1),c&&c.push(f.buffer,v.buffer),{ids:f,positions:v}}static deserialize(s){let c=new Ih;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function Ug(l){let s=+l;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:Vg(String(l))}function $g(l,s,c,f){for(;c<f;){let v=l[c+f>>1],w=c-1,S=f+1;for(;;){do w++;while(l[w]<v);do S--;while(l[S]>v);if(w>=S)break;Tp(l,w,S),Tp(s,3*w,3*S),Tp(s,3*w+1,3*S+1),Tp(s,3*w+2,3*S+2)}S-c<f-S?($g(l,s,c,S),c=S+1):($g(l,s,S+1,f),f=S)}}function Tp(l,s,c){let f=l[s];l[s]=l[c],l[c]=f}Bt("FeaturePositionMap",Ih);class Eh{constructor(s,c){this.gl=s.gl,this.location=c}}class cI extends Eh{constructor(s,c){super(s,c),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class ZG extends Eh{constructor(s,c){super(s,c),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class YG extends Eh{constructor(s,c){super(s,c),this.current=Sn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let J8e=new Float32Array(16);function RD(l){return[Zc(255*l.r,255*l.g),Zc(255*l.b,255*l.a)]}class e_{constructor(s,c,f){this.value=s,this.uniformNames=c.map(v=>`u_${v}`),this.type=f}setUniform(s,c,f){s.set(f.constantOr(this.value))}getBinding(s,c,f){return this.type==="color"?new YG(s,c):new cI(s,c)}}class Hg{constructor(s,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr}setUniform(s,c,f,v){let w=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;w&&s.set(w)}getBinding(s,c,f){return f.substr(0,9)==="u_pattern"?new ZG(s,c):new cI(s,c)}}class Yc{constructor(s,c,f,v){this.expression=s,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(w=>({name:`a_${w}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(s,c,f,v,w){let S=this.paintVertexArray.length,C=this.expression.evaluate(new Zn(0),c,{},v,[],w);this.paintVertexArray.resize(s),this._setPaintValue(S,s,C)}updatePaintArray(s,c,f,v){let w=this.expression.evaluate({zoom:0},f,v);this._setPaintValue(s,c,w)}_setPaintValue(s,c,f){if(this.type==="color"){let v=RD(f);for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,v[0],v[1])}else{for(let v=s;v<c;v++)this.paintVertexArray.emplace(v,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class lu{constructor(s,c,f,v,w,S){this.expression=s,this.uniformNames=c.map(C=>`u_${C}_t`),this.type=f,this.useIntegerZoom=v,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=c.map(C=>({name:`a_${C}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(s,c,f,v,w){let S=this.expression.evaluate(new Zn(this.zoom),c,{},v,[],w),C=this.expression.evaluate(new Zn(this.zoom+1),c,{},v,[],w),M=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(M,s,S,C)}updatePaintArray(s,c,f,v){let w=this.expression.evaluate({zoom:this.zoom},f,v),S=this.expression.evaluate({zoom:this.zoom+1},f,v);this._setPaintValue(s,c,w,S)}_setPaintValue(s,c,f,v){if(this.type==="color"){let w=RD(f),S=RD(v);for(let C=s;C<c;C++)this.paintVertexArray.emplace(C,w[0],w[1],S[0],S[1])}else{for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,f,v);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(v))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c){let f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,v=Z(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);s.set(v)}getBinding(s,c,f){return new cI(s,c)}}class Cp{constructor(s,c,f,v,w,S){this.expression=s,this.type=c,this.useIntegerZoom=f,this.zoom=v,this.layerId=S,this.zoomInPaintVertexArray=new w,this.zoomOutPaintVertexArray=new w}populatePaintArray(s,c,f){let v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(v,s,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(s,c,f,v,w){this._setPaintValues(s,c,f.patterns&&f.patterns[this.layerId],w)}_setPaintValues(s,c,f,v){if(!v||!f)return;let{min:w,mid:S,max:C}=f,M=v[w],k=v[S],R=v[C];if(M&&k&&R)for(let j=s;j<c;j++)this.zoomInPaintVertexArray.emplace(j,k.tl[0],k.tl[1],k.br[0],k.br[1],M.tl[0],M.tl[1],M.br[0],M.br[1],k.pixelRatio,M.pixelRatio),this.zoomOutPaintVertexArray.emplace(j,k.tl[0],k.tl[1],k.br[0],k.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],k.pixelRatio,R.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,Ip.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,Ip.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class KG{constructor(s,c,f){this.binders={},this._buffers=[];let v=[];for(let w in s.paint._values){if(!f(w))continue;let S=s.paint.get(w);if(!(S instanceof ml&&up(S.property.specification)))continue;let C=Q8e(w,s.type),M=S.value,k=S.property.specification.type,R=S.property.useIntegerZoom,j=S.property.specification["property-type"],W=j==="cross-faded"||j==="cross-faded-data-driven";if(M.kind==="constant")this.binders[w]=W?new Hg(M.value,C):new e_(M.value,C,k),v.push(`/u_${w}`);else if(M.kind==="source"||W){let G=XG(w,k,"source");this.binders[w]=W?new Cp(M,k,R,c,G,s.id):new Yc(M,C,k,G),v.push(`/a_${w}`)}else{let G=XG(w,k,"composite");this.binders[w]=new lu(M,C,k,R,c,G),v.push(`/z_${w}`)}}this.cacheKey=v.sort().join("")}getMaxValue(s){let c=this.binders[s];return c instanceof Yc||c instanceof lu?c.maxValue:0}populatePaintArrays(s,c,f,v,w){for(let S in this.binders){let C=this.binders[S];(C instanceof Yc||C instanceof lu||C instanceof Cp)&&C.populatePaintArray(s,c,f,v,w)}}setConstantPatternPositions(s,c){for(let f in this.binders){let v=this.binders[f];v instanceof Hg&&v.setConstantPatternPositions(s,c)}}updatePaintArrays(s,c,f,v,w){let S=!1;for(let C in s){let M=c.getPositions(C);for(let k of M){let R=f.feature(k.index);for(let j in this.binders){let W=this.binders[j];if((W instanceof Yc||W instanceof lu||W instanceof Cp)&&W.expression.isStateDependent===!0){let G=v.paint.get(j);W.expression=G.value,W.updatePaintArray(k.start,k.end,R,s[C],w),S=!0}}}}return S}defines(){let s=[];for(let c in this.binders){let f=this.binders[c];(f instanceof e_||f instanceof Hg)&&s.push(...f.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return s}getBinderAttributes(){let s=[];for(let c in this.binders){let f=this.binders[c];if(f instanceof Yc||f instanceof lu)for(let v=0;v<f.paintVertexAttributes.length;v++)s.push(f.paintVertexAttributes[v].name);else if(f instanceof Cp)for(let v=0;v<Ip.members.length;v++)s.push(Ip.members[v].name)}return s}getBinderUniforms(){let s=[];for(let c in this.binders){let f=this.binders[c];if(f instanceof e_||f instanceof Hg||f instanceof lu)for(let v of f.uniformNames)s.push(v)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,c){let f=[];for(let v in this.binders){let w=this.binders[v];if(w instanceof e_||w instanceof Hg||w instanceof lu){for(let S of w.uniformNames)if(c[S]){let C=w.getBinding(s,c[S],S);f.push({name:S,property:v,binding:C})}}}return f}setUniforms(s,c,f,v){for(let{name:w,property:S,binding:C}of c)this.binders[S].setUniform(C,v,f.get(S),w)}updatePaintBuffers(s){this._buffers=[];for(let c in this.binders){let f=this.binders[c];if(s&&f instanceof Cp){let v=s.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(f instanceof Yc||f instanceof lu)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(s){for(let c in this.binders){let f=this.binders[c];(f instanceof Yc||f instanceof lu||f instanceof Cp)&&f.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let c=this.binders[s];(c instanceof Yc||c instanceof lu||c instanceof Cp)&&c.destroy()}}}class Th{constructor(s,c,f=()=>!0){this.programConfigurations={};for(let v of s)this.programConfigurations[v.id]=new KG(v,c,f);this.needsUpload=!1,this._featureMap=new Ih,this._bufferOffset=0}populatePaintArrays(s,c,f,v,w,S){for(let C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(s,c,v,w,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,f,v){for(let w of f)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(s,this._featureMap,c,w,v)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function Q8e(l,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${s}-`,"").replace(/-/g,"_")]}function XG(l,s,c){let f={color:{source:te,composite:yr},number:{source:Mt,composite:te}},v=function(w){return{"line-pattern":{source:as,composite:as},"fill-pattern":{source:as,composite:as},"fill-extrusion-pattern":{source:as,composite:as}}[w]}(l);return v&&v[c]||f[s][c]}Bt("ConstantBinder",e_),Bt("CrossFadedConstantBinder",Hg),Bt("SourceExpressionBinder",Yc),Bt("CrossFadedCompositeBinder",Cp),Bt("CompositeExpressionBinder",lu),Bt("ProgramConfiguration",KG,{omit:["_buffers"]}),Bt("ProgramConfigurationSet",Th);let qi=8192,LD=Math.pow(2,14)-1,JG=-LD-1;function Ch(l){let s=qi/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){let v=c[f];for(let w=0;w<v.length;w++){let S=v[w],C=Math.round(S.x*s),M=Math.round(S.y*s);S.x=Z(C,JG,LD),S.y=Z(M,JG,LD),(C<S.x||C>S.x+1||M<S.y||M>S.y+1)&&$e("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function Ah(l,s){return{type:l.type,id:l.id,properties:l.properties,geometry:s?Ch(l):[]}}function dI(l,s,c,f,v){l.emplaceBack(2*s+(f+1)/2,2*c+(v+1)/2)}class zD{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new qo,this.indexArray=new Us,this.segments=new Xr,this.programConfigurations=new Th(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){let v=this.layers[0],w=[],S=null,C=!1;v.type==="circle"&&(S=v.layout.get("circle-sort-key"),C=!S.isConstant());for(let{feature:M,id:k,index:R,sourceLayerIndex:j}of s){let W=this.layers[0]._featureFilter.needGeometry,G=Ah(M,W);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom),G,f))continue;let X=C?S.evaluate(G,{},f):void 0,Q={id:k,properties:M.properties,type:M.type,sourceLayerIndex:j,index:R,geometry:W?G.geometry:Ch(M),patterns:{},sortKey:X};w.push(Q)}C&&w.sort((M,k)=>M.sortKey-k.sortKey);for(let M of w){let{geometry:k,index:R,sourceLayerIndex:j}=M,W=s[R].feature;this.addFeature(M,k,R,f),c.featureIndex.insert(W,k,R,j,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Fa),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,f,v){for(let w of c)for(let S of w){let C=S.x,M=S.y;if(C<0||C>=qi||M<0||M>=qi)continue;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),R=k.vertexLength;dI(this.layoutVertexArray,C,M,-1,-1),dI(this.layoutVertexArray,C,M,1,-1),dI(this.layoutVertexArray,C,M,1,1),dI(this.layoutVertexArray,C,M,-1,1),this.indexArray.emplaceBack(R,R+1,R+2),this.indexArray.emplaceBack(R,R+3,R+2),k.vertexLength+=4,k.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,{},v)}}function QG(l,s){for(let c=0;c<l.length;c++)if(Wg(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(Wg(l,s[c]))return!0;return!!FD(l,s)}function e7e(l,s,c){return!!Wg(l,s)||!!jD(s,l,c)}function eZ(l,s){if(l.length===1)return rZ(s,l[0]);for(let c=0;c<s.length;c++){let f=s[c];for(let v=0;v<f.length;v++)if(Wg(l,f[v]))return!0}for(let c=0;c<l.length;c++)if(rZ(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(FD(l,s[c]))return!0;return!1}function t7e(l,s,c){if(l.length>1){if(FD(l,s))return!0;for(let f=0;f<s.length;f++)if(jD(s[f],l,c))return!0}for(let f=0;f<l.length;f++)if(jD(l[f],s,c))return!0;return!1}function FD(l,s){if(l.length===0||s.length===0)return!1;for(let c=0;c<l.length-1;c++){let f=l[c],v=l[c+1];for(let w=0;w<s.length-1;w++)if(r7e(f,v,s[w],s[w+1]))return!0}return!1}function r7e(l,s,c,f){return He(l,c,f)!==He(s,c,f)&&He(l,s,c)!==He(l,s,f)}function jD(l,s,c){let f=c*c;if(s.length===1)return l.distSqr(s[0])<f;for(let v=1;v<s.length;v++)if(tZ(l,s[v-1],s[v])<f)return!0;return!1}function tZ(l,s,c){let f=s.distSqr(c);if(f===0)return l.distSqr(s);let v=((l.x-s.x)*(c.x-s.x)+(l.y-s.y)*(c.y-s.y))/f;return l.distSqr(v<0?s:v>1?c:c.sub(s)._mult(v)._add(s))}function rZ(l,s){let c,f,v,w=!1;for(let S=0;S<l.length;S++){c=l[S];for(let C=0,M=c.length-1;C<c.length;M=C++)f=c[C],v=c[M],f.y>s.y!=v.y>s.y&&s.x<(v.x-f.x)*(s.y-f.y)/(v.y-f.y)+f.x&&(w=!w)}return w}function Wg(l,s){let c=!1;for(let f=0,v=l.length-1;f<l.length;v=f++){let w=l[f],S=l[v];w.y>s.y!=S.y>s.y&&s.x<(S.x-w.x)*(s.y-w.y)/(S.y-w.y)+w.x&&(c=!c)}return c}function n7e(l,s,c){let f=c[0],v=c[2];if(l.x<f.x&&s.x<f.x||l.x>v.x&&s.x>v.x||l.y<f.y&&s.y<f.y||l.y>v.y&&s.y>v.y)return!1;let w=He(l,s,c[0]);return w!==He(l,s,c[1])||w!==He(l,s,c[2])||w!==He(l,s,c[3])}function t_(l,s,c){let f=s.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(s.id).getMaxValue(l)}function pI(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function fI(l,s,c,f,v){if(!s[0]&&!s[1])return l;let w=y.convert(s)._mult(v);c==="viewport"&&w._rotate(-f);let S=[];for(let C=0;C<l.length;C++)S.push(l[C].sub(w));return S}let nZ,iZ;Bt("CircleBucket",zD,{omit:["layers"]});var i7e={get paint(){return iZ=iZ||new b({"circle-radius":new lr(we.paint_circle["circle-radius"]),"circle-color":new lr(we.paint_circle["circle-color"]),"circle-blur":new lr(we.paint_circle["circle-blur"]),"circle-opacity":new lr(we.paint_circle["circle-opacity"]),"circle-translate":new Zt(we.paint_circle["circle-translate"]),"circle-translate-anchor":new Zt(we.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Zt(we.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Zt(we.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new lr(we.paint_circle["circle-stroke-width"]),"circle-stroke-color":new lr(we.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new lr(we.paint_circle["circle-stroke-opacity"])})},get layout(){return nZ=nZ||new b({"circle-sort-key":new lr(we.layout_circle["circle-sort-key"])})}},ua=1e-6,Gg=typeof Float32Array!="undefined"?Float32Array:Array;function BD(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function oZ(l,s,c){var f=s[0],v=s[1],w=s[2],S=s[3],C=s[4],M=s[5],k=s[6],R=s[7],j=s[8],W=s[9],G=s[10],X=s[11],Q=s[12],le=s[13],de=s[14],ke=s[15],_e=c[0],Me=c[1],We=c[2],ut=c[3];return l[0]=_e*f+Me*C+We*j+ut*Q,l[1]=_e*v+Me*M+We*W+ut*le,l[2]=_e*w+Me*k+We*G+ut*de,l[3]=_e*S+Me*R+We*X+ut*ke,l[4]=(_e=c[4])*f+(Me=c[5])*C+(We=c[6])*j+(ut=c[7])*Q,l[5]=_e*v+Me*M+We*W+ut*le,l[6]=_e*w+Me*k+We*G+ut*de,l[7]=_e*S+Me*R+We*X+ut*ke,l[8]=(_e=c[8])*f+(Me=c[9])*C+(We=c[10])*j+(ut=c[11])*Q,l[9]=_e*v+Me*M+We*W+ut*le,l[10]=_e*w+Me*k+We*G+ut*de,l[11]=_e*S+Me*R+We*X+ut*ke,l[12]=(_e=c[12])*f+(Me=c[13])*C+(We=c[14])*j+(ut=c[15])*Q,l[13]=_e*v+Me*M+We*W+ut*le,l[14]=_e*w+Me*k+We*G+ut*de,l[15]=_e*S+Me*R+We*X+ut*ke,l}Math.hypot||(Math.hypot=function(){for(var l=0,s=arguments.length;s--;)l+=arguments[s]*arguments[s];return Math.sqrt(l)});var r_,o7e=oZ;function hI(l,s,c){var f=s[0],v=s[1],w=s[2],S=s[3];return l[0]=c[0]*f+c[4]*v+c[8]*w+c[12]*S,l[1]=c[1]*f+c[5]*v+c[9]*w+c[13]*S,l[2]=c[2]*f+c[6]*v+c[10]*w+c[14]*S,l[3]=c[3]*f+c[7]*v+c[11]*w+c[15]*S,l}r_=new Gg(4),Gg!=Float32Array&&(r_[0]=0,r_[1]=0,r_[2]=0,r_[3]=0);class a7e extends d{constructor(s){super(s,i7e)}createBucket(s){return new zD(s)}queryRadius(s){let c=s;return t_("circle-radius",this,c)+t_("circle-stroke-width",this,c)+pI(this.paint.get("circle-translate"))}queryIntersectsFeature(s,c,f,v,w,S,C,M){let k=fI(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,C),R=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),j=this.paint.get("circle-pitch-alignment")==="map",W=j?k:function(X,Q){return X.map(le=>aZ(le,Q))}(k,M),G=j?R*C:R;for(let X of v)for(let Q of X){let le=j?Q:aZ(Q,M),de=G,ke=hI([],[Q.x,Q.y,0,1],M);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?de*=ke[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(de*=S.cameraToCenterDistance/ke[3]),e7e(W,le,de))return!0}return!1}}function aZ(l,s){let c=hI([],[l.x,l.y,0,1],s);return new y(c[0]/c[3],c[1]/c[3])}class sZ extends zD{}let lZ;Bt("HeatmapBucket",sZ,{omit:["layers"]});var s7e={get paint(){return lZ=lZ||new b({"heatmap-radius":new lr(we.paint_heatmap["heatmap-radius"]),"heatmap-weight":new lr(we.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Zt(we.paint_heatmap["heatmap-intensity"]),"heatmap-color":new J1(we.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Zt(we.paint_heatmap["heatmap-opacity"])})}};function VD(l,{width:s,height:c},f,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==s*c*f)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${s*c*f}`)}else v=new Uint8Array(s*c*f);return l.width=s,l.height=c,l.data=v,l}function uZ(l,{width:s,height:c},f){if(s===l.width&&c===l.height)return;let v=VD({},{width:s,height:c},f);UD(l,v,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,s),height:Math.min(l.height,c)},f),l.width=s,l.height=c,l.data=v.data}function UD(l,s,c,f,v,w){if(v.width===0||v.height===0)return s;if(v.width>l.width||v.height>l.height||c.x>l.width-v.width||c.y>l.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>s.width||v.height>s.height||f.x>s.width-v.width||f.y>s.height-v.height)throw new RangeError("out of range destination coordinates for image copy");let S=l.data,C=s.data;if(S===C)throw new Error("srcData equals dstData, so image is already copied");for(let M=0;M<v.height;M++){let k=((c.y+M)*l.width+c.x)*w,R=((f.y+M)*s.width+f.x)*w;for(let j=0;j<v.width*w;j++)C[R+j]=S[k+j]}return s}class n_{constructor(s,c){VD(this,s,1,c)}resize(s){uZ(this,s,1)}clone(){return new n_({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,f,v,w){UD(s,c,f,v,w,1)}}class $s{constructor(s,c){VD(this,s,4,c)}resize(s){uZ(this,s,4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new $s({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,f,v,w){UD(s,c,f,v,w,4)}}function cZ(l){let s={},c=l.resolution||256,f=l.clips?l.clips.length:1,v=l.image||new $s({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);let w=(S,C,M)=>{s[l.evaluationKey]=M;let k=l.expression.evaluate(s);v.data[S+C+0]=Math.floor(255*k.r/k.a),v.data[S+C+1]=Math.floor(255*k.g/k.a),v.data[S+C+2]=Math.floor(255*k.b/k.a),v.data[S+C+3]=Math.floor(255*k.a)};if(l.clips)for(let S=0,C=0;S<f;++S,C+=4*c)for(let M=0,k=0;M<c;M++,k+=4){let R=M/(c-1),{start:j,end:W}=l.clips[S];w(C,k,j*(1-R)+W*R)}else for(let S=0,C=0;S<c;S++,C+=4)w(0,C,S/(c-1));return v}Bt("AlphaImage",n_),Bt("RGBAImage",$s);let $D="big-fb";class l7e extends d{createBucket(s){return new sZ(s)}constructor(s){super(s,s7e),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=cZ({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has($D)&&this.heatmapFbos.delete($D)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let dZ;var u7e={get paint(){return dZ=dZ||new b({"hillshade-illumination-direction":new Zt(we.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Zt(we.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Zt(we.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Zt(we.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Zt(we.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Zt(we.paint_hillshade["hillshade-accent-color"])})}};class c7e extends d{constructor(s){super(s,u7e)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let d7e=A([{name:"a_pos",components:2,type:"Int16"}],4),{members:p7e}=d7e;function pZ(l,s,c=2){let f=s&&s.length,v=f?s[0]*c:l.length,w=fZ(l,0,v,c,!0),S=[];if(!w||w.next===w.prev)return S;let C,M,k;if(f&&(w=function(R,j,W,G){let X=[];for(let Q=0,le=j.length;Q<le;Q++){let de=fZ(R,j[Q]*G,Q<le-1?j[Q+1]*G:R.length,G,!1);de===de.next&&(de.steiner=!0),X.push(b7e(de))}X.sort(v7e);for(let Q=0;Q<X.length;Q++)W=y7e(X[Q],W);return W}(l,s,w,c)),l.length>80*c){C=1/0,M=1/0;let R=-1/0,j=-1/0;for(let W=c;W<v;W+=c){let G=l[W],X=l[W+1];G<C&&(C=G),X<M&&(M=X),G>R&&(R=G),X>j&&(j=X)}k=Math.max(R-C,j-M),k=k!==0?32767/k:0}return i_(w,S,c,C,M,k,0),S}function fZ(l,s,c,f,v){let w;if(v===function(S,C,M,k){let R=0;for(let j=C,W=M-k;j<M;j+=k)R+=(S[W]-S[j])*(S[j+1]+S[W+1]),W=j;return R}(l,s,c,f)>0)for(let S=s;S<c;S+=f)w=gZ(S/f|0,l[S],l[S+1],w);else for(let S=c-f;S>=s;S-=f)w=gZ(S/f|0,l[S],l[S+1],w);return w&&mI(w,w.next)&&(a_(w),w=w.next),w}function Mh(l,s){if(!l)return l;s||(s=l);let c,f=l;do if(c=!1,f.steiner||!mI(f,f.next)&&Ci(f.prev,f,f.next)!==0)f=f.next;else{if(a_(f),f=s=f.prev,f===f.next)break;c=!0}while(c||f!==s);return s}function i_(l,s,c,f,v,w,S){if(!l)return;!S&&w&&function(M,k,R,j){let W=M;do W.z===0&&(W.z=HD(W.x,W.y,k,R,j)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==M);W.prevZ.nextZ=null,W.prevZ=null,function(G){let X,Q=1;do{let le,de=G;G=null;let ke=null;for(X=0;de;){X++;let _e=de,Me=0;for(let ut=0;ut<Q&&(Me++,_e=_e.nextZ,_e);ut++);let We=Q;for(;Me>0||We>0&&_e;)Me!==0&&(We===0||!_e||de.z<=_e.z)?(le=de,de=de.nextZ,Me--):(le=_e,_e=_e.nextZ,We--),ke?ke.nextZ=le:G=le,le.prevZ=ke,ke=le;de=_e}ke.nextZ=null,Q*=2}while(X>1)}(W)}(l,f,v,w);let C=l;for(;l.prev!==l.next;){let M=l.prev,k=l.next;if(w?h7e(l,f,v,w):f7e(l))s.push(M.i,l.i,k.i),a_(l),l=k.next,C=k.next;else if((l=k)===C){S?S===1?i_(l=m7e(Mh(l),s),s,c,f,v,w,2):S===2&&g7e(l,s,c,f,v,w):i_(Mh(l),s,c,f,v,w,1);break}}}function f7e(l){let s=l.prev,c=l,f=l.next;if(Ci(s,c,f)>=0)return!1;let v=s.x,w=c.x,S=f.x,C=s.y,M=c.y,k=f.y,R=v<w?v<S?v:S:w<S?w:S,j=C<M?C<k?C:k:M<k?M:k,W=v>w?v>S?v:S:w>S?w:S,G=C>M?C>k?C:k:M>k?M:k,X=f.next;for(;X!==s;){if(X.x>=R&&X.x<=W&&X.y>=j&&X.y<=G&&Zg(v,C,w,M,S,k,X.x,X.y)&&Ci(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function h7e(l,s,c,f){let v=l.prev,w=l,S=l.next;if(Ci(v,w,S)>=0)return!1;let C=v.x,M=w.x,k=S.x,R=v.y,j=w.y,W=S.y,G=C<M?C<k?C:k:M<k?M:k,X=R<j?R<W?R:W:j<W?j:W,Q=C>M?C>k?C:k:M>k?M:k,le=R>j?R>W?R:W:j>W?j:W,de=HD(G,X,s,c,f),ke=HD(Q,le,s,c,f),_e=l.prevZ,Me=l.nextZ;for(;_e&&_e.z>=de&&Me&&Me.z<=ke;){if(_e.x>=G&&_e.x<=Q&&_e.y>=X&&_e.y<=le&&_e!==v&&_e!==S&&Zg(C,R,M,j,k,W,_e.x,_e.y)&&Ci(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Me.x>=G&&Me.x<=Q&&Me.y>=X&&Me.y<=le&&Me!==v&&Me!==S&&Zg(C,R,M,j,k,W,Me.x,Me.y)&&Ci(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;_e&&_e.z>=de;){if(_e.x>=G&&_e.x<=Q&&_e.y>=X&&_e.y<=le&&_e!==v&&_e!==S&&Zg(C,R,M,j,k,W,_e.x,_e.y)&&Ci(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Me&&Me.z<=ke;){if(Me.x>=G&&Me.x<=Q&&Me.y>=X&&Me.y<=le&&Me!==v&&Me!==S&&Zg(C,R,M,j,k,W,Me.x,Me.y)&&Ci(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function m7e(l,s){let c=l;do{let f=c.prev,v=c.next.next;!mI(f,v)&&hZ(f,c,c.next,v)&&o_(f,v)&&o_(v,f)&&(s.push(f.i,c.i,v.i),a_(c),a_(c.next),c=l=v),c=c.next}while(c!==l);return Mh(c)}function g7e(l,s,c,f,v,w){let S=l;do{let C=S.next.next;for(;C!==S.prev;){if(S.i!==C.i&&x7e(S,C)){let M=mZ(S,C);return S=Mh(S,S.next),M=Mh(M,M.next),i_(S,s,c,f,v,w,0),void i_(M,s,c,f,v,w,0)}C=C.next}S=S.next}while(S!==l)}function v7e(l,s){return l.x-s.x}function y7e(l,s){let c=function(v,w){let S=w,C=v.x,M=v.y,k,R=-1/0;do{if(M<=S.y&&M>=S.next.y&&S.next.y!==S.y){let Q=S.x+(M-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(Q<=C&&Q>R&&(R=Q,k=S.x<S.next.x?S:S.next,Q===C))return k}S=S.next}while(S!==w);if(!k)return null;let j=k,W=k.x,G=k.y,X=1/0;S=k;do{if(C>=S.x&&S.x>=W&&C!==S.x&&Zg(M<G?C:R,M,W,G,M<G?R:C,M,S.x,S.y)){let Q=Math.abs(M-S.y)/(C-S.x);o_(S,v)&&(Q<X||Q===X&&(S.x>k.x||S.x===k.x&&_7e(k,S)))&&(k=S,X=Q)}S=S.next}while(S!==j);return k}(l,s);if(!c)return s;let f=mZ(c,l);return Mh(f,f.next),Mh(c,c.next)}function _7e(l,s){return Ci(l.prev,l,s.prev)<0&&Ci(s.next,l,l.next)<0}function HD(l,s,c,f,v){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*v|0)|l<<8))|l<<4))|l<<2))|l<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-f)*v|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function b7e(l){let s=l,c=l;do(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next;while(s!==l);return c}function Zg(l,s,c,f,v,w,S,C){return(v-S)*(s-C)>=(l-S)*(w-C)&&(l-S)*(f-C)>=(c-S)*(s-C)&&(c-S)*(w-C)>=(v-S)*(f-C)}function x7e(l,s){return l.next.i!==s.i&&l.prev.i!==s.i&&!function(c,f){let v=c;do{if(v.i!==c.i&&v.next.i!==c.i&&v.i!==f.i&&v.next.i!==f.i&&hZ(v,v.next,c,f))return!0;v=v.next}while(v!==c);return!1}(l,s)&&(o_(l,s)&&o_(s,l)&&function(c,f){let v=c,w=!1,S=(c.x+f.x)/2,C=(c.y+f.y)/2;do v.y>C!=v.next.y>C&&v.next.y!==v.y&&S<(v.next.x-v.x)*(C-v.y)/(v.next.y-v.y)+v.x&&(w=!w),v=v.next;while(v!==c);return w}(l,s)&&(Ci(l.prev,l,s.prev)||Ci(l,s.prev,s))||mI(l,s)&&Ci(l.prev,l,l.next)>0&&Ci(s.prev,s,s.next)>0)}function Ci(l,s,c){return(s.y-l.y)*(c.x-s.x)-(s.x-l.x)*(c.y-s.y)}function mI(l,s){return l.x===s.x&&l.y===s.y}function hZ(l,s,c,f){let v=vI(Ci(l,s,c)),w=vI(Ci(l,s,f)),S=vI(Ci(c,f,l)),C=vI(Ci(c,f,s));return v!==w&&S!==C||!(v!==0||!gI(l,c,s))||!(w!==0||!gI(l,f,s))||!(S!==0||!gI(c,l,f))||!(C!==0||!gI(c,s,f))}function gI(l,s,c){return s.x<=Math.max(l.x,c.x)&&s.x>=Math.min(l.x,c.x)&&s.y<=Math.max(l.y,c.y)&&s.y>=Math.min(l.y,c.y)}function vI(l){return l>0?1:l<0?-1:0}function o_(l,s){return Ci(l.prev,l,l.next)<0?Ci(l,s,l.next)>=0&&Ci(l,l.prev,s)>=0:Ci(l,s,l.prev)<0||Ci(l,l.next,s)<0}function mZ(l,s){let c=WD(l.i,l.x,l.y),f=WD(s.i,s.x,s.y),v=l.next,w=s.prev;return l.next=s,s.prev=l,c.next=v,v.prev=c,f.next=c,c.prev=f,w.next=f,f.prev=w,f}function gZ(l,s,c,f){let v=WD(l,s,c);return f?(v.next=f.next,v.prev=f,f.next.prev=v,f.next=v):(v.prev=v,v.next=v),v}function a_(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function WD(l,s,c){return{i:l,x:s,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function GD(l,s,c){let f=c.patternDependencies,v=!1;for(let w of s){let S=w.paint.get(`${l}-pattern`);S.isConstant()||(v=!0);let C=S.constantOr(null);C&&(v=!0,f[C.to]=!0,f[C.from]=!0)}return v}function ZD(l,s,c,f,v){let w=v.patternDependencies;for(let S of s){let C=S.paint.get(`${l}-pattern`).value;if(C.kind!=="constant"){let M=C.evaluate({zoom:f-1},c,{},v.availableImages),k=C.evaluate({zoom:f},c,{},v.availableImages),R=C.evaluate({zoom:f+1},c,{},v.availableImages);M=M&&M.name?M.name:M,k=k&&k.name?k.name:k,R=R&&R.name?R.name:R,w[M]=!0,w[k]=!0,w[R]=!0,c.patterns[S.id]={min:M,mid:k,max:R}}}return c}class YD{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gl,this.indexArray=new Us,this.indexArray2=new ao,this.programConfigurations=new Th(s.layers,s.zoom),this.segments=new Xr,this.segments2=new Xr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.hasPattern=GD("fill",this.layers,c);let v=this.layers[0].layout.get("fill-sort-key"),w=!v.isConstant(),S=[];for(let{feature:C,id:M,index:k,sourceLayerIndex:R}of s){let j=this.layers[0]._featureFilter.needGeometry,W=Ah(C,j);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom),W,f))continue;let G=w?v.evaluate(W,{},f,c.availableImages):void 0,X={id:M,properties:C.properties,type:C.type,sourceLayerIndex:R,index:k,geometry:j?W.geometry:Ch(C),patterns:{},sortKey:G};S.push(X)}w&&S.sort((C,M)=>C.sortKey-M.sortKey);for(let C of S){let{geometry:M,index:k,sourceLayerIndex:R}=C;if(this.hasPattern){let j=ZD("fill",this.layers,C,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(C,M,k,f,{});c.featureIndex.insert(s[k].feature,M,k,R,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}addFeatures(s,c,f){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,p7e),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,f,v,w){for(let S of yg(c,500)){let C=0;for(let G of S)C+=G.length;let M=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),k=M.vertexLength,R=[],j=[];for(let G of S){if(G.length===0)continue;G!==S[0]&&j.push(R.length/2);let X=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),Q=X.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(Q+G.length-1,Q),R.push(G[0].x),R.push(G[0].y);for(let le=1;le<G.length;le++)this.layoutVertexArray.emplaceBack(G[le].x,G[le].y),this.indexArray2.emplaceBack(Q+le-1,Q+le),R.push(G[le].x),R.push(G[le].y);X.vertexLength+=G.length,X.primitiveLength+=G.length}let W=pZ(R,j);for(let G=0;G<W.length;G+=3)this.indexArray.emplaceBack(k+W[G],k+W[G+1],k+W[G+2]);M.vertexLength+=C,M.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}}let vZ,yZ;Bt("FillBucket",YD,{omit:["layers","patternFeatures"]});var w7e={get paint(){return yZ=yZ||new b({"fill-antialias":new Zt(we.paint_fill["fill-antialias"]),"fill-opacity":new lr(we.paint_fill["fill-opacity"]),"fill-color":new lr(we.paint_fill["fill-color"]),"fill-outline-color":new lr(we.paint_fill["fill-outline-color"]),"fill-translate":new Zt(we.paint_fill["fill-translate"]),"fill-translate-anchor":new Zt(we.paint_fill["fill-translate-anchor"]),"fill-pattern":new zg(we.paint_fill["fill-pattern"])})},get layout(){return vZ=vZ||new b({"fill-sort-key":new lr(we.layout_fill["fill-sort-key"])})}};class S7e extends d{constructor(s){super(s,w7e)}recalculate(s,c){super.recalculate(s,c);let f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new YD(s)}queryRadius(){return pI(this.paint.get("fill-translate"))}queryIntersectsFeature(s,c,f,v,w,S,C){return eZ(fI(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,C),v)}isTileClipped(){return!0}}let I7e=A([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),E7e=A([{name:"a_centroid",components:2,type:"Int16"}],4),{members:T7e}=I7e;var Ap={},C7e=p,_Z=Yg;function Yg(l,s,c,f,v){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=v,l.readFields(A7e,this,s)}function A7e(l,s,c){l==1?s.id=c.readVarint():l==2?function(f,v){for(var w=f.readVarint()+f.pos;f.pos<w;){var S=v._keys[f.readVarint()],C=v._values[f.readVarint()];v.properties[S]=C}}(c,s):l==3?s.type=c.readVarint():l==4&&(s._geometry=c.pos)}function M7e(l){for(var s,c,f=0,v=0,w=l.length,S=w-1;v<w;S=v++)f+=((c=l[S]).x-(s=l[v]).x)*(s.y+c.y);return f}Yg.types=["Unknown","Point","LineString","Polygon"],Yg.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var s,c=l.readVarint()+l.pos,f=1,v=0,w=0,S=0,C=[];l.pos<c;){if(v<=0){var M=l.readVarint();f=7&M,v=M>>3}if(v--,f===1||f===2)w+=l.readSVarint(),S+=l.readSVarint(),f===1&&(s&&C.push(s),s=[]),s.push(new C7e(w,S));else{if(f!==7)throw new Error("unknown command "+f);s&&s.push(s[0].clone())}}return s&&C.push(s),C},Yg.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var s=l.readVarint()+l.pos,c=1,f=0,v=0,w=0,S=1/0,C=-1/0,M=1/0,k=-1/0;l.pos<s;){if(f<=0){var R=l.readVarint();c=7&R,f=R>>3}if(f--,c===1||c===2)(v+=l.readSVarint())<S&&(S=v),v>C&&(C=v),(w+=l.readSVarint())<M&&(M=w),w>k&&(k=w);else if(c!==7)throw new Error("unknown command "+c)}return[S,M,C,k]},Yg.prototype.toGeoJSON=function(l,s,c){var f,v,w=this.extent*Math.pow(2,c),S=this.extent*l,C=this.extent*s,M=this.loadGeometry(),k=Yg.types[this.type];function R(G){for(var X=0;X<G.length;X++){var Q=G[X];G[X]=[360*(Q.x+S)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(Q.y+C)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var j=[];for(f=0;f<M.length;f++)j[f]=M[f][0];R(M=j);break;case 2:for(f=0;f<M.length;f++)R(M[f]);break;case 3:for(M=function(G){var X=G.length;if(X<=1)return[G];for(var Q,le,de=[],ke=0;ke<X;ke++){var _e=M7e(G[ke]);_e!==0&&(le===void 0&&(le=_e<0),le===_e<0?(Q&&de.push(Q),Q=[G[ke]]):Q.push(G[ke]))}return Q&&de.push(Q),de}(M),f=0;f<M.length;f++)for(v=0;v<M[f].length;v++)R(M[f][v]);}M.length===1?M=M[0]:k="Multi"+k;var W={type:"Feature",geometry:{type:k,coordinates:M},properties:this.properties};return"id"in this&&(W.id=this.id),W};var P7e=_Z,bZ=xZ;function xZ(l,s){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(O7e,this,s),this.length=this._features.length}function O7e(l,s,c){l===15?s.version=c.readVarint():l===1?s.name=c.readString():l===5?s.extent=c.readVarint():l===2?s._features.push(c.pos):l===3?s._keys.push(c.readString()):l===4&&s._values.push(function(f){for(var v=null,w=f.readVarint()+f.pos;f.pos<w;){var S=f.readVarint()>>3;v=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return v}(c))}xZ.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var s=this._pbf.readVarint()+this._pbf.pos;return new P7e(this._pbf,s,this.extent,this._keys,this._values)};var D7e=bZ;function k7e(l,s,c){if(l===3){var f=new D7e(c,c.readVarint()+c.pos);f.length&&(s[f.name]=f)}}Ap.VectorTile=function(l,s){this.layers=l.readFields(k7e,{},s)},Ap.VectorTileFeature=_Z,Ap.VectorTileLayer=bZ;let q7e=Ap.VectorTileFeature.types,KD=Math.pow(2,13);function s_(l,s,c,f,v,w,S,C){l.emplaceBack(s,c,2*Math.floor(f*KD)+S,v*KD*2,w*KD*2,Math.round(C))}class XD{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new wp,this.centroidVertexArray=new vo,this.indexArray=new Us,this.programConfigurations=new Th(s.layers,s.zoom),this.segments=new Xr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.features=[],this.hasPattern=GD("fill-extrusion",this.layers,c);for(let{feature:v,id:w,index:S,sourceLayerIndex:C}of s){let M=this.layers[0]._featureFilter.needGeometry,k=Ah(v,M);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom),k,f))continue;let R={id:w,sourceLayerIndex:C,index:S,geometry:M?k.geometry:Ch(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(ZD("fill-extrusion",this.layers,R,this.zoom,c)):this.addFeature(R,R.geometry,S,f,{}),c.featureIndex.insert(v,R.geometry,S,C,this.index,!0)}}addFeatures(s,c,f){for(let v of this.features){let{geometry:w}=v;this.addFeature(v,w,v.index,c,f)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,T7e),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,E7e.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,c,f,v,w){for(let S of yg(c,500)){let C={x:0,y:0,vertexCount:0},M=0;for(let X of S)M+=X.length;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let X of S){if(X.length===0||R7e(X))continue;let Q=0;for(let le=0;le<X.length;le++){let de=X[le];if(le>=1){let ke=X[le-1];if(!N7e(de,ke)){k.vertexLength+4>Xr.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let _e=de.sub(ke)._perp()._unit(),Me=ke.dist(de);Q+Me>32768&&(Q=0),s_(this.layoutVertexArray,de.x,de.y,_e.x,_e.y,0,0,Q),s_(this.layoutVertexArray,de.x,de.y,_e.x,_e.y,0,1,Q),C.x+=2*de.x,C.y+=2*de.y,C.vertexCount+=2,Q+=Me,s_(this.layoutVertexArray,ke.x,ke.y,_e.x,_e.y,0,0,Q),s_(this.layoutVertexArray,ke.x,ke.y,_e.x,_e.y,0,1,Q),C.x+=2*ke.x,C.y+=2*ke.y,C.vertexCount+=2;let We=k.vertexLength;this.indexArray.emplaceBack(We,We+2,We+1),this.indexArray.emplaceBack(We+1,We+2,We+3),k.vertexLength+=4,k.primitiveLength+=2}}}}if(k.vertexLength+M>Xr.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray)),q7e[s.type]!=="Polygon")continue;let R=[],j=[],W=k.vertexLength;for(let X of S)if(X.length!==0){X!==S[0]&&j.push(R.length/2);for(let Q=0;Q<X.length;Q++){let le=X[Q];s_(this.layoutVertexArray,le.x,le.y,0,0,1,1,0),C.x+=le.x,C.y+=le.y,C.vertexCount+=1,R.push(le.x),R.push(le.y)}}let G=pZ(R,j);for(let X=0;X<G.length;X+=3)this.indexArray.emplaceBack(W+G[X],W+G[X+2],W+G[X+1]);k.primitiveLength+=G.length/3,k.vertexLength+=M;for(let X=0;X<C.vertexCount;X++){let Q=Math.floor(C.x/C.vertexCount),le=Math.floor(C.y/C.vertexCount);this.centroidVertexArray.emplaceBack(Q,le)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}}function N7e(l,s){return l.x===s.x&&(l.x<0||l.x>qi)||l.y===s.y&&(l.y<0||l.y>qi)}function R7e(l){return l.every(s=>s.x<0)||l.every(s=>s.x>qi)||l.every(s=>s.y<0)||l.every(s=>s.y>qi)}let wZ;Bt("FillExtrusionBucket",XD,{omit:["layers","features"]});var L7e={get paint(){return wZ=wZ||new b({"fill-extrusion-opacity":new Zt(we["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new lr(we["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Zt(we["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Zt(we["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new zg(we["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new lr(we["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new lr(we["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Zt(we["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class z7e extends d{constructor(s){super(s,L7e)}createBucket(s){return new XD(s)}queryRadius(){return pI(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(s,c,f,v,w,S,C,M){let k=fI(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,C),R=this.paint.get("fill-extrusion-height").evaluate(c,f),j=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(X,Q,le,de){let ke=[];for(let _e of X){let Me=[_e.x,_e.y,0,1];hI(Me,Me,Q),ke.push(new y(Me[0]/Me[3],Me[1]/Me[3]))}return ke}(k,M),G=function(X,Q,le,de){let ke=[],_e=[],Me=de[8]*Q,We=de[9]*Q,ut=de[10]*Q,Rt=de[11]*Q,or=de[8]*le,qt=de[9]*le,Ct=de[10]*le,Jt=de[11]*le;for(let Ut of X){let jt=[],Ye=[];for(let Qt of Ut){let Kt=Qt.x,gr=Qt.y,qn=de[0]*Kt+de[4]*gr+de[12],Mn=de[1]*Kt+de[5]*gr+de[13],Qi=de[2]*Kt+de[6]*gr+de[14],vl=de[3]*Kt+de[7]*gr+de[15],bo=Qi+ut,eo=vl+Rt,ca=qn+or,da=Mn+qt,pa=Qi+Ct,Si=vl+Jt,to=new y((qn+Me)/eo,(Mn+We)/eo);to.z=bo/eo,jt.push(to);let No=new y(ca/Si,da/Si);No.z=pa/Si,Ye.push(No)}ke.push(jt),_e.push(Ye)}return[ke,_e]}(v,j,R,M);return function(X,Q,le){let de=1/0;eZ(le,Q)&&(de=SZ(le,Q[0]));for(let ke=0;ke<Q.length;ke++){let _e=Q[ke],Me=X[ke];for(let We=0;We<_e.length-1;We++){let ut=_e[We],Rt=[ut,_e[We+1],Me[We+1],Me[We],ut];QG(le,Rt)&&(de=Math.min(de,SZ(le,Rt)))}}return de!==1/0&&de}(G[0],G[1],W)}}function l_(l,s){return l.x*s.x+l.y*s.y}function SZ(l,s){if(l.length===1){let c=0,f=s[c++],v;for(;!v||f.equals(v);)if(v=s[c++],!v)return 1/0;for(;c<s.length;c++){let w=s[c],S=l[0],C=v.sub(f),M=w.sub(f),k=S.sub(f),R=l_(C,C),j=l_(C,M),W=l_(M,M),G=l_(k,C),X=l_(k,M),Q=R*W-j*j,le=(W*G-j*X)/Q,de=(R*X-j*G)/Q,ke=f.z*(1-le-de)+v.z*le+w.z*de;if(isFinite(ke))return ke}return 1/0}{let c=1/0;for(let f of s)c=Math.min(c,f.z);return c}}let F7e=A([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:j7e}=F7e,B7e=A([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:V7e}=B7e,U7e=Ap.VectorTileFeature.types,$7e=Math.cos(Math.PI/180*37.5),IZ=Math.pow(2,14)/.5;class JD{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new jg,this.layoutVertexArray2=new Sp,this.indexArray=new Us,this.programConfigurations=new Th(s.layers,s.zoom),this.segments=new Xr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.hasPattern=GD("line",this.layers,c);let v=this.layers[0].layout.get("line-sort-key"),w=!v.isConstant(),S=[];for(let{feature:C,id:M,index:k,sourceLayerIndex:R}of s){let j=this.layers[0]._featureFilter.needGeometry,W=Ah(C,j);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom),W,f))continue;let G=w?v.evaluate(W,{},f):void 0,X={id:M,properties:C.properties,type:C.type,sourceLayerIndex:R,index:k,geometry:j?W.geometry:Ch(C),patterns:{},sortKey:G};S.push(X)}w&&S.sort((C,M)=>C.sortKey-M.sortKey);for(let C of S){let{geometry:M,index:k,sourceLayerIndex:R}=C;if(this.hasPattern){let j=ZD("line",this.layers,C,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(C,M,k,f,{});c.featureIndex.insert(s[k].feature,M,k,R,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}addFeatures(s,c,f){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,V7e)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,j7e),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,f,v,w){let S=this.layers[0].layout,C=S.get("line-join").evaluate(s,{}),M=S.get("line-cap"),k=S.get("line-miter-limit"),R=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let j of c)this.addLine(j,s,C,M,k,R);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}addLine(s,c,f,v,w,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let de=0;de<s.length-1;de++)this.totalDistance+=s[de].dist(s[de+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let C=U7e[c.type]==="Polygon",M=s.length;for(;M>=2&&s[M-1].equals(s[M-2]);)M--;let k=0;for(;k<M-1&&s[k].equals(s[k+1]);)k++;if(M<(C?3:2))return;f==="bevel"&&(w=1.05);let R=this.overscaling<=16?15*qi/(512*this.overscaling):0,j=this.segments.prepareSegment(10*M,this.layoutVertexArray,this.indexArray),W,G,X,Q,le;this.e1=this.e2=-1,C&&(W=s[M-2],le=s[k].sub(W)._unit()._perp());for(let de=k;de<M;de++){if(X=de===M-1?C?s[k+1]:void 0:s[de+1],X&&s[de].equals(X))continue;le&&(Q=le),W&&(G=W),W=s[de],le=X?X.sub(W)._unit()._perp():Q,Q=Q||le;let ke=Q.add(le);ke.x===0&&ke.y===0||ke._unit();let _e=Q.x*le.x+Q.y*le.y,Me=ke.x*le.x+ke.y*le.y,We=Me!==0?1/Me:1/0,ut=2*Math.sqrt(2-2*Me),Rt=Me<$7e&&G&&X,or=Q.x*le.y-Q.y*le.x>0;if(Rt&&de>k){let Jt=W.dist(G);if(Jt>2*R){let Ut=W.sub(W.sub(G)._mult(R/Jt)._round());this.updateDistance(G,Ut),this.addCurrentVertex(Ut,Q,0,0,j),G=Ut}}let qt=G&&X,Ct=qt?f:C?"butt":v;if(qt&&Ct==="round"&&(We<S?Ct="miter":We<=2&&(Ct="fakeround")),Ct==="miter"&&We>w&&(Ct="bevel"),Ct==="bevel"&&(We>2&&(Ct="flipbevel"),We<w&&(Ct="miter")),G&&this.updateDistance(G,W),Ct==="miter")ke._mult(We),this.addCurrentVertex(W,ke,0,0,j);else if(Ct==="flipbevel"){if(We>100)ke=le.mult(-1);else{let Jt=We*Q.add(le).mag()/Q.sub(le).mag();ke._perp()._mult(Jt*(or?-1:1))}this.addCurrentVertex(W,ke,0,0,j),this.addCurrentVertex(W,ke.mult(-1),0,0,j)}else if(Ct==="bevel"||Ct==="fakeround"){let Jt=-Math.sqrt(We*We-1),Ut=or?Jt:0,jt=or?0:Jt;if(G&&this.addCurrentVertex(W,Q,Ut,jt,j),Ct==="fakeround"){let Ye=Math.round(180*ut/Math.PI/20);for(let Qt=1;Qt<Ye;Qt++){let Kt=Qt/Ye;if(Kt!==.5){let qn=Kt-.5;Kt+=Kt*qn*(Kt-1)*((1.0904+_e*(_e*(3.55645-1.43519*_e)-3.2452))*qn*qn+(.848013+_e*(.215638*_e-1.06021)))}let gr=le.sub(Q)._mult(Kt)._add(Q)._unit()._mult(or?-1:1);this.addHalfVertex(W,gr.x,gr.y,!1,or,0,j)}}X&&this.addCurrentVertex(W,le,-Ut,-jt,j)}else if(Ct==="butt")this.addCurrentVertex(W,ke,0,0,j);else if(Ct==="square"){let Jt=G?1:-1;this.addCurrentVertex(W,ke,Jt,Jt,j)}else Ct==="round"&&(G&&(this.addCurrentVertex(W,Q,0,0,j),this.addCurrentVertex(W,Q,1,1,j,!0)),X&&(this.addCurrentVertex(W,le,-1,-1,j,!0),this.addCurrentVertex(W,le,0,0,j)));if(Rt&&de<M-1){let Jt=W.dist(X);if(Jt>2*R){let Ut=W.add(X.sub(W)._mult(R/Jt)._round());this.updateDistance(W,Ut),this.addCurrentVertex(Ut,le,0,0,j),W=Ut}}}}addCurrentVertex(s,c,f,v,w,S=!1){let C=c.y*v-c.x,M=-c.y-c.x*v;this.addHalfVertex(s,c.x+c.y*f,c.y-c.x*f,S,!1,f,w),this.addHalfVertex(s,C,M,S,!0,-v,w),this.distance>IZ/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,c,f,v,w,S))}addHalfVertex({x:s,y:c},f,v,w,S,C,M){let k=.5*(this.lineClips?this.scaledDistance*(IZ-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(w?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*v)+128,1+(C===0?0:C<0?-1:1)|(63&k)<<2,k>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let R=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,R),M.primitiveLength++),S?this.e2=R:this.e1=R}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}let EZ,TZ;Bt("LineBucket",JD,{omit:["layers","patternFeatures"]});var CZ={get paint(){return TZ=TZ||new b({"line-opacity":new lr(we.paint_line["line-opacity"]),"line-color":new lr(we.paint_line["line-color"]),"line-translate":new Zt(we.paint_line["line-translate"]),"line-translate-anchor":new Zt(we.paint_line["line-translate-anchor"]),"line-width":new lr(we.paint_line["line-width"]),"line-gap-width":new lr(we.paint_line["line-gap-width"]),"line-offset":new lr(we.paint_line["line-offset"]),"line-blur":new lr(we.paint_line["line-blur"]),"line-dasharray":new Fg(we.paint_line["line-dasharray"]),"line-pattern":new zg(we.paint_line["line-pattern"]),"line-gradient":new J1(we.paint_line["line-gradient"])})},get layout(){return EZ=EZ||new b({"line-cap":new Zt(we.layout_line["line-cap"]),"line-join":new lr(we.layout_line["line-join"]),"line-miter-limit":new Zt(we.layout_line["line-miter-limit"]),"line-round-limit":new Zt(we.layout_line["line-round-limit"]),"line-sort-key":new lr(we.layout_line["line-sort-key"])})}};class H7e extends lr{possiblyEvaluate(s,c){return c=new Zn(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(s,c)}evaluate(s,c,f,v){return c=ae({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(s,c,f,v)}}let yI;class W7e extends d{constructor(s){super(s,CZ),this.gradientVersion=0,yI||(yI=new H7e(CZ.paint.properties["line-width"].specification),yI.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof np,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,c){super.recalculate(s,c),this.paint._values["line-floorwidth"]=yI.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new JD(s)}queryRadius(s){let c=s,f=AZ(t_("line-width",this,c),t_("line-gap-width",this,c)),v=t_("line-offset",this,c);return f/2+Math.abs(v)+pI(this.paint.get("line-translate"))}queryIntersectsFeature(s,c,f,v,w,S,C){let M=fI(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,C),k=C/2*AZ(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),R=this.paint.get("line-offset").evaluate(c,f);return R&&(v=function(j,W){let G=[];for(let X=0;X<j.length;X++){let Q=j[X],le=[];for(let de=0;de<Q.length;de++){let ke=Q[de-1],_e=Q[de],Me=Q[de+1],We=de===0?new y(0,0):_e.sub(ke)._unit()._perp(),ut=de===Q.length-1?new y(0,0):Me.sub(_e)._unit()._perp(),Rt=We._add(ut)._unit(),or=Rt.x*ut.x+Rt.y*ut.y;or!==0&&Rt._mult(1/or),le.push(Rt._mult(W)._add(_e))}G.push(le)}return G}(v,R*C)),function(j,W,G){for(let X=0;X<W.length;X++){let Q=W[X];if(j.length>=3){for(let le=0;le<Q.length;le++)if(Wg(j,Q[le]))return!0}if(t7e(j,Q,G))return!0}return!1}(M,v,k)}isTileClipped(){return!0}}function AZ(l,s){return s>0?s+2*l:l}let G7e=A([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Z7e=A([{name:"a_projected_pos",components:3,type:"Float32"}],4);A([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let Y7e=A([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);A([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let MZ=A([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),K7e=A([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function X7e(l,s,c){return l.sections.forEach(f=>{f.text=function(v,w,S){let C=w.layout.get("text-transform").evaluate(S,{});return C==="uppercase"?v=v.toLocaleUpperCase():C==="lowercase"&&(v=v.toLocaleLowerCase()),za.applyArabicShaping&&(v=za.applyArabicShaping(v)),v}(f.text,s,c)}),l}A([{name:"triangle",components:3,type:"Uint16"}]),A([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),A([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),A([{type:"Float32",name:"offsetX"}]),A([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),A([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let u_={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var Bi=24,PZ=An,OZ=function(l,s,c,f,v){var w,S,C=8*v-f-1,M=(1<<C)-1,k=M>>1,R=-7,j=c?v-1:0,W=c?-1:1,G=l[s+j];for(j+=W,w=G&(1<<-R)-1,G>>=-R,R+=C;R>0;w=256*w+l[s+j],j+=W,R-=8);for(S=w&(1<<-R)-1,w>>=-R,R+=f;R>0;S=256*S+l[s+j],j+=W,R-=8);if(w===0)w=1-k;else{if(w===M)return S?NaN:1/0*(G?-1:1);S+=Math.pow(2,f),w-=k}return(G?-1:1)*S*Math.pow(2,w-f)},DZ=function(l,s,c,f,v,w){var S,C,M,k=8*w-v-1,R=(1<<k)-1,j=R>>1,W=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=f?0:w-1,X=f?1:-1,Q=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(C=isNaN(s)?1:0,S=R):(S=Math.floor(Math.log(s)/Math.LN2),s*(M=Math.pow(2,-S))<1&&(S--,M*=2),(s+=S+j>=1?W/M:W*Math.pow(2,1-j))*M>=2&&(S++,M/=2),S+j>=R?(C=0,S=R):S+j>=1?(C=(s*M-1)*Math.pow(2,v),S+=j):(C=s*Math.pow(2,j-1)*Math.pow(2,v),S=0));v>=8;l[c+G]=255&C,G+=X,C/=256,v-=8);for(S=S<<v|C,k+=v;k>0;l[c+G]=255&S,G+=X,S/=256,k-=8);l[c+G-X]|=128*Q};function An(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}An.Varint=0,An.Fixed64=1,An.Bytes=2,An.Fixed32=5;var QD=4294967296,kZ=1/QD,qZ=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function Kc(l){return l.type===An.Bytes?l.readVarint()+l.pos:l.pos+1}function Kg(l,s,c){return c?4294967296*s+(l>>>0):4294967296*(s>>>0)+(l>>>0)}function NZ(l,s,c){var f=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));c.realloc(f);for(var v=c.pos-1;v>=l;v--)c.buf[v+f]=c.buf[v]}function J7e(l,s){for(var c=0;c<l.length;c++)s.writeVarint(l[c])}function Q7e(l,s){for(var c=0;c<l.length;c++)s.writeSVarint(l[c])}function eFe(l,s){for(var c=0;c<l.length;c++)s.writeFloat(l[c])}function tFe(l,s){for(var c=0;c<l.length;c++)s.writeDouble(l[c])}function rFe(l,s){for(var c=0;c<l.length;c++)s.writeBoolean(l[c])}function nFe(l,s){for(var c=0;c<l.length;c++)s.writeFixed32(l[c])}function iFe(l,s){for(var c=0;c<l.length;c++)s.writeSFixed32(l[c])}function oFe(l,s){for(var c=0;c<l.length;c++)s.writeFixed64(l[c])}function aFe(l,s){for(var c=0;c<l.length;c++)s.writeSFixed64(l[c])}function _I(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+16777216*l[s+3]}function Xg(l,s,c){l[c]=s,l[c+1]=s>>>8,l[c+2]=s>>>16,l[c+3]=s>>>24}function RZ(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+(l[s+3]<<24)}An.prototype={destroy:function(){this.buf=null},readFields:function(l,s,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),v=f>>3,w=this.pos;this.type=7&f,l(v,s,this),this.pos===w&&this.skip(f)}return s},readMessage:function(l,s){return this.readFields(l,s,this.readVarint()+this.pos)},readFixed32:function(){var l=_I(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=RZ(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=_I(this.buf,this.pos)+_I(this.buf,this.pos+4)*QD;return this.pos+=8,l},readSFixed64:function(){var l=_I(this.buf,this.pos)+RZ(this.buf,this.pos+4)*QD;return this.pos+=8,l},readFloat:function(){var l=OZ(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=OZ(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var s,c,f=this.buf;return s=127&(c=f[this.pos++]),c<128?s:(s|=(127&(c=f[this.pos++]))<<7,c<128?s:(s|=(127&(c=f[this.pos++]))<<14,c<128?s:(s|=(127&(c=f[this.pos++]))<<21,c<128?s:function(v,w,S){var C,M,k=S.buf;if(C=(112&(M=k[S.pos++]))>>4,M<128||(C|=(127&(M=k[S.pos++]))<<3,M<128)||(C|=(127&(M=k[S.pos++]))<<10,M<128)||(C|=(127&(M=k[S.pos++]))<<17,M<128)||(C|=(127&(M=k[S.pos++]))<<24,M<128)||(C|=(1&(M=k[S.pos++]))<<31,M<128))return Kg(v,C,w);throw new Error("Expected varint not more than 10 bytes")}(s|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,s=this.pos;return this.pos=l,l-s>=12&&qZ?function(c,f,v){return qZ.decode(c.subarray(f,v))}(this.buf,s,l):function(c,f,v){for(var w="",S=f;S<v;){var C,M,k,R=c[S],j=null,W=R>239?4:R>223?3:R>191?2:1;if(S+W>v)break;W===1?R<128&&(j=R):W===2?(192&(C=c[S+1]))==128&&(j=(31&R)<<6|63&C)<=127&&(j=null):W===3?(M=c[S+2],(192&(C=c[S+1]))==128&&(192&M)==128&&((j=(15&R)<<12|(63&C)<<6|63&M)<=2047||j>=55296&&j<=57343)&&(j=null)):W===4&&(M=c[S+2],k=c[S+3],(192&(C=c[S+1]))==128&&(192&M)==128&&(192&k)==128&&((j=(15&R)<<18|(63&C)<<12|(63&M)<<6|63&k)<=65535||j>=1114112)&&(j=null)),j===null?(j=65533,W=1):j>65535&&(j-=65536,w+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),w+=String.fromCharCode(j),S+=W}return w}(this.buf,s,l)},readBytes:function(){var l=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,l);return this.pos=l,s},readPackedVarint:function(l,s){if(this.type!==An.Bytes)return l.push(this.readVarint(s));var c=Kc(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(s));return l},readPackedSVarint:function(l){if(this.type!==An.Bytes)return l.push(this.readSVarint());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==An.Bytes)return l.push(this.readBoolean());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==An.Bytes)return l.push(this.readFloat());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==An.Bytes)return l.push(this.readDouble());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==An.Bytes)return l.push(this.readFixed32());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==An.Bytes)return l.push(this.readSFixed32());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==An.Bytes)return l.push(this.readFixed64());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==An.Bytes)return l.push(this.readSFixed64());var s=Kc(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed64());return l},skip:function(l){var s=7&l;if(s===An.Varint)for(;this.buf[this.pos++]>127;);else if(s===An.Bytes)this.pos=this.readVarint()+this.pos;else if(s===An.Fixed32)this.pos+=4;else{if(s!==An.Fixed64)throw new Error("Unimplemented type: "+s);this.pos+=8}},writeTag:function(l,s){this.writeVarint(l<<3|s)},realloc:function(l){for(var s=this.length||16;s<this.pos+l;)s*=2;if(s!==this.length){var c=new Uint8Array(s);c.set(this.buf),this.buf=c,this.length=s}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Xg(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Xg(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Xg(this.buf,-1&l,this.pos),Xg(this.buf,Math.floor(l*kZ),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Xg(this.buf,-1&l,this.pos),Xg(this.buf,Math.floor(l*kZ),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(s,c){var f,v;if(s>=0?(f=s%4294967296|0,v=s/4294967296|0):(v=~(-s/4294967296),4294967295^(f=~(-s%4294967296))?f=f+1|0:(f=0,v=v+1|0)),s>=18446744073709552e3||s<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(w,S,C){C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,C.buf[C.pos]=127&(w>>>=7)}(f,0,c),function(w,S){var C=(7&w)<<4;S.buf[S.pos++]|=C|((w>>>=3)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w)))))}(v,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var s=this.pos;this.pos=function(f,v,w){for(var S,C,M=0;M<v.length;M++){if((S=v.charCodeAt(M))>55295&&S<57344){if(!C){S>56319||M+1===v.length?(f[w++]=239,f[w++]=191,f[w++]=189):C=S;continue}if(S<56320){f[w++]=239,f[w++]=191,f[w++]=189,C=S;continue}S=C-55296<<10|S-56320|65536,C=null}else C&&(f[w++]=239,f[w++]=191,f[w++]=189,C=null);S<128?f[w++]=S:(S<2048?f[w++]=S>>6|192:(S<65536?f[w++]=S>>12|224:(f[w++]=S>>18|240,f[w++]=S>>12&63|128),f[w++]=S>>6&63|128),f[w++]=63&S|128)}return w}(this.buf,l,this.pos);var c=this.pos-s;c>=128&&NZ(s,c,this),this.pos=s-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),DZ(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),DZ(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var s=l.length;this.writeVarint(s),this.realloc(s);for(var c=0;c<s;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,s){this.pos++;var c=this.pos;l(s,this);var f=this.pos-c;f>=128&&NZ(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,s,c){this.writeTag(l,An.Bytes),this.writeRawMessage(s,c)},writePackedVarint:function(l,s){s.length&&this.writeMessage(l,J7e,s)},writePackedSVarint:function(l,s){s.length&&this.writeMessage(l,Q7e,s)},writePackedBoolean:function(l,s){s.length&&this.writeMessage(l,rFe,s)},writePackedFloat:function(l,s){s.length&&this.writeMessage(l,eFe,s)},writePackedDouble:function(l,s){s.length&&this.writeMessage(l,tFe,s)},writePackedFixed32:function(l,s){s.length&&this.writeMessage(l,nFe,s)},writePackedSFixed32:function(l,s){s.length&&this.writeMessage(l,iFe,s)},writePackedFixed64:function(l,s){s.length&&this.writeMessage(l,oFe,s)},writePackedSFixed64:function(l,s){s.length&&this.writeMessage(l,aFe,s)},writeBytesField:function(l,s){this.writeTag(l,An.Bytes),this.writeBytes(s)},writeFixed32Field:function(l,s){this.writeTag(l,An.Fixed32),this.writeFixed32(s)},writeSFixed32Field:function(l,s){this.writeTag(l,An.Fixed32),this.writeSFixed32(s)},writeFixed64Field:function(l,s){this.writeTag(l,An.Fixed64),this.writeFixed64(s)},writeSFixed64Field:function(l,s){this.writeTag(l,An.Fixed64),this.writeSFixed64(s)},writeVarintField:function(l,s){this.writeTag(l,An.Varint),this.writeVarint(s)},writeSVarintField:function(l,s){this.writeTag(l,An.Varint),this.writeSVarint(s)},writeStringField:function(l,s){this.writeTag(l,An.Bytes),this.writeString(s)},writeFloatField:function(l,s){this.writeTag(l,An.Fixed32),this.writeFloat(s)},writeDoubleField:function(l,s){this.writeTag(l,An.Fixed64),this.writeDouble(s)},writeBooleanField:function(l,s){this.writeVarintField(l,!!s)}};var ek=u(PZ);let tk=3;function sFe(l,s,c){l===1&&c.readMessage(lFe,s)}function lFe(l,s,c){if(l===3){let{id:f,bitmap:v,width:w,height:S,left:C,top:M,advance:k}=c.readMessage(uFe,{});s.push({id:f,bitmap:new n_({width:w+2*tk,height:S+2*tk},v),metrics:{width:w,height:S,left:C,top:M,advance:k}})}}function uFe(l,s,c){l===1?s.id=c.readVarint():l===2?s.bitmap=c.readBytes():l===3?s.width=c.readVarint():l===4?s.height=c.readVarint():l===5?s.left=c.readSVarint():l===6?s.top=c.readSVarint():l===7&&(s.advance=c.readVarint())}let LZ=tk;function zZ(l){let s=0,c=0;for(let S of l)s+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,C)=>C.h-S.h);let f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}],v=0,w=0;for(let S of l)for(let C=f.length-1;C>=0;C--){let M=f[C];if(!(S.w>M.w||S.h>M.h)){if(S.x=M.x,S.y=M.y,w=Math.max(w,S.y+S.h),v=Math.max(v,S.x+S.w),S.w===M.w&&S.h===M.h){let k=f.pop();C<f.length&&(f[C]=k)}else S.h===M.h?(M.x+=S.w,M.w-=S.w):S.w===M.w?(M.y+=S.h,M.h-=S.h):(f.push({x:M.x+S.w,y:M.y,w:M.w-S.w,h:S.h}),M.y+=S.h,M.h-=S.h);break}}return{w:v,h:w,fill:s/(v*w)||0}}let ja=1;class rk{constructor(s,{pixelRatio:c,version:f,stretchX:v,stretchY:w,content:S,textFitWidth:C,textFitHeight:M}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=v,this.stretchY=w,this.content=S,this.version=f,this.textFitWidth=C,this.textFitHeight=M}get tl(){return[this.paddedRect.x+ja,this.paddedRect.y+ja]}get br(){return[this.paddedRect.x+this.paddedRect.w-ja,this.paddedRect.y+this.paddedRect.h-ja]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ja)/this.pixelRatio,(this.paddedRect.h-2*ja)/this.pixelRatio]}}class FZ{constructor(s,c){let f={},v={};this.haveRenderCallbacks=[];let w=[];this.addImages(s,f,w),this.addImages(c,v,w);let{w:S,h:C}=zZ(w),M=new $s({width:S||1,height:C||1});for(let k in s){let R=s[k],j=f[k].paddedRect;$s.copy(R.data,M,{x:0,y:0},{x:j.x+ja,y:j.y+ja},R.data)}for(let k in c){let R=c[k],j=v[k].paddedRect,W=j.x+ja,G=j.y+ja,X=R.data.width,Q=R.data.height;$s.copy(R.data,M,{x:0,y:0},{x:W,y:G},R.data),$s.copy(R.data,M,{x:0,y:Q-1},{x:W,y:G-1},{width:X,height:1}),$s.copy(R.data,M,{x:0,y:0},{x:W,y:G+Q},{width:X,height:1}),$s.copy(R.data,M,{x:X-1,y:0},{x:W-1,y:G},{width:1,height:Q}),$s.copy(R.data,M,{x:0,y:0},{x:W+X,y:G},{width:1,height:Q})}this.image=M,this.iconPositions=f,this.patternPositions=v}addImages(s,c,f){for(let v in s){let w=s[v],S={x:0,y:0,w:w.data.width+2*ja,h:w.data.height+2*ja};f.push(S),c[v]=new rk(S,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(s,c){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let f in s.updatedImages)this.patchUpdatedImage(this.iconPositions[f],s.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],s.getImage(f),c)}patchUpdatedImage(s,c,f){if(!s||!c||s.version===c.version)return;s.version=c.version;let[v,w]=s.tl;f.update(c.data,void 0,{x:v,y:w})}}var Mp;Bt("ImagePosition",rk),Bt("ImageAtlas",FZ),i.ah=void 0,(Mp=i.ah||(i.ah={}))[Mp.none=0]="none",Mp[Mp.horizontal=1]="horizontal",Mp[Mp.vertical=2]="vertical",Mp[Mp.horizontalOnly=3]="horizontalOnly";let c_=-17;class d_{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(s,c){let f=new d_;return f.scale=s||1,f.fontStack=c,f}static forImage(s){let c=new d_;return c.imageName=s,c}}class Jg{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){let f=new Jg;for(let v=0;v<s.sections.length;v++){let w=s.sections[v];w.image?f.addImageSection(w):f.addTextSection(w,c)}return f}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let c="";for(let f=0;f<s.length;f++){let v=s.charCodeAt(f+1)||null,w=s.charCodeAt(f-1)||null;c+=v&&oI(v)&&!u_[s[f+1]]||w&&oI(w)&&!u_[s[f-1]]||!u_[s[f]]?s[f]:u_[s[f]]}return c}(this.text)}trim(){let s=0;for(let f=0;f<this.text.length&&xI[this.text.charCodeAt(f)];f++)s++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=s&&xI[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){let f=new Jg;return f.text=this.text.substring(s,c),f.sectionIndex=this.sectionIndex.slice(s,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}addTextSection(s,c){this.text+=s.text,this.sections.push(d_.forText(s.scale,s.fontStack||c));let f=this.sections.length-1;for(let v=0;v<s.text.length;++v)this.sectionIndex.push(f)}addImageSection(s){let c=s.image?s.image.name:"";if(c.length===0)return void $e("Can't add FormattedSection with an empty image.");let f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(d_.forImage(c)),this.sectionIndex.push(this.sections.length-1)):$e("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function bI(l,s,c,f,v,w,S,C,M,k,R,j,W,G,X){let Q=Jg.fromFeature(l,v),le;j===i.ah.vertical&&Q.verticalizePunctuation();let{processBidirectionalText:de,processStyledBidirectionalText:ke}=za;if(de&&Q.sections.length===1){le=[];let We=de(Q.toString(),nk(Q,k,w,s,f,G));for(let ut of We){let Rt=new Jg;Rt.text=ut,Rt.sections=Q.sections;for(let or=0;or<ut.length;or++)Rt.sectionIndex.push(0);le.push(Rt)}}else if(ke){le=[];let We=ke(Q.text,Q.sectionIndex,nk(Q,k,w,s,f,G));for(let ut of We){let Rt=new Jg;Rt.text=ut[0],Rt.sectionIndex=ut[1],Rt.sections=Q.sections,le.push(Rt)}}else le=function(We,ut){let Rt=[],or=We.text,qt=0;for(let Ct of ut)Rt.push(We.substring(qt,Ct)),qt=Ct;return qt<or.length&&Rt.push(We.substring(qt,or.length)),Rt}(Q,nk(Q,k,w,s,f,G));let _e=[],Me={positionedLines:_e,text:Q.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:j,iconsInText:!1,verticalizable:!1};return function(We,ut,Rt,or,qt,Ct,Jt,Ut,jt,Ye,Qt,Kt){let gr=0,qn=c_,Mn=0,Qi=0,vl=Ut==="right"?1:Ut==="left"?0:.5,bo=0;for(let Si of qt){Si.trim();let to=Si.getMaxScale(),No=(to-1)*Bi,xo={positionedGlyphs:[],lineOffset:0};We.positionedLines[bo]=xo;let fa=xo.positionedGlyphs,wo=0;if(!Si.length()){qn+=Ct,++bo;continue}for(let Ba=0;Ba<Si.length();Ba++){let un=Si.getSection(Ba),Fn=Si.getSectionIndex(Ba),Jn=Si.getCharCode(Ba),us=0,mi=null,rv=null,Vu=null,Uu=Bi,yl=!(jt===i.ah.horizontal||!Qt&&!K1(Jn)||Qt&&(xI[Jn]||(eo=Jn,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(eo)))));if(un.imageName){let Gs=or[un.imageName];if(!Gs)continue;Vu=un.imageName,We.iconsInText=We.iconsInText||!0,rv=Gs.paddedRect;let so=Gs.displaySize;un.scale=un.scale*Bi/Kt,mi={width:so[0],height:so[1],left:ja,top:-LZ,advance:yl?so[1]:so[0]},us=No+(Bi-so[1]*un.scale),Uu=mi.advance;let Xc=yl?so[0]*un.scale-Bi*to:so[1]*un.scale-Bi*to;Xc>0&&Xc>wo&&(wo=Xc)}else{let Gs=Rt[un.fontStack],so=Gs&&Gs[Jn];if(so&&so.rect)rv=so.rect,mi=so.metrics;else{let Xc=ut[un.fontStack],v_=Xc&&Xc[Jn];if(!v_)continue;mi=v_.metrics}us=(to-un.scale)*Bi}yl?(We.verticalizable=!0,fa.push({glyph:Jn,imageName:Vu,x:gr,y:qn+us,vertical:yl,scale:un.scale,fontStack:un.fontStack,sectionIndex:Fn,metrics:mi,rect:rv}),gr+=Uu*un.scale+Ye):(fa.push({glyph:Jn,imageName:Vu,x:gr,y:qn+us,vertical:yl,scale:un.scale,fontStack:un.fontStack,sectionIndex:Fn,metrics:mi,rect:rv}),gr+=mi.advance*un.scale+Ye)}fa.length!==0&&(Mn=Math.max(gr-Ye,Mn),fFe(fa,0,fa.length-1,vl,wo)),gr=0;let Ws=Ct*to+wo;xo.lineOffset=Math.max(wo,No),qn+=Ws,Qi=Math.max(Ws,Qi),++bo}var eo;let ca=qn-c_,{horizontalAlign:da,verticalAlign:pa}=ik(Jt);(function(Si,to,No,xo,fa,wo,Ws,Ba,un){let Fn=(to-No)*fa,Jn=0;Jn=wo!==Ws?-Ba*xo-c_:(-xo*un+.5)*Ws;for(let us of Si)for(let mi of us.positionedGlyphs)mi.x+=Fn,mi.y+=Jn})(We.positionedLines,vl,da,pa,Mn,Qi,Ct,ca,qt.length),We.top+=-pa*ca,We.bottom=We.top+ca,We.left+=-da*Mn,We.right=We.left+Mn}(Me,s,c,f,le,S,C,M,j,k,W,X),!function(We){for(let ut of We)if(ut.positionedGlyphs.length!==0)return!1;return!0}(_e)&&Me}let xI={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cFe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},dFe={40:!0};function jZ(l,s,c,f,v,w){if(s.imageName){let S=f[s.imageName];return S?S.displaySize[0]*s.scale*Bi/w+v:0}{let S=c[s.fontStack],C=S&&S[l];return C?C.metrics.advance*s.scale+v:0}}function BZ(l,s,c,f){let v=Math.pow(l-s,2);return f?l<s?v/2:2*v:v+Math.abs(c)*c}function pFe(l,s,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),s!==41&&s!==65289||(f+=50),f}function VZ(l,s,c,f,v,w){let S=null,C=BZ(s,c,v,w);for(let M of f){let k=BZ(s-M.x,c,v,w)+M.badness;k<=C&&(S=M,C=k)}return{index:l,x:s,priorBreak:S,badness:C}}function UZ(l){return l?UZ(l.priorBreak).concat(l.index):[]}function nk(l,s,c,f,v,w){if(!l)return[];let S=[],C=function(j,W,G,X,Q,le){let de=0;for(let ke=0;ke<j.length();ke++){let _e=j.getSection(ke);de+=jZ(j.getCharCode(ke),_e,X,Q,W,le)}return de/Math.max(1,Math.ceil(de/G))}(l,s,c,f,v,w),M=l.text.indexOf("\u200B")>=0,k=0;for(let j=0;j<l.length();j++){let W=l.getSection(j),G=l.getCharCode(j);if(xI[G]||(k+=jZ(G,W,f,v,s,w)),j<l.length()-1){let X=!((R=G)<11904)&&(!!Kr["CJK Compatibility Forms"](R)||!!Kr["CJK Compatibility"](R)||!!Kr["CJK Strokes"](R)||!!Kr["CJK Symbols and Punctuation"](R)||!!Kr["Enclosed CJK Letters and Months"](R)||!!Kr["Halfwidth and Fullwidth Forms"](R)||!!Kr["Ideographic Description Characters"](R)||!!Kr["Vertical Forms"](R)||iI.test(String.fromCodePoint(R)));(cFe[G]||X||W.imageName||j!==l.length()-2&&dFe[l.getCharCode(j+1)])&&S.push(VZ(j+1,k,C,S,pFe(G,l.getCharCode(j+1),X&&M),!1))}}var R;return UZ(VZ(l.length(),k,C,S,0,!0))}function ik(l){let s=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0;}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0;}return{horizontalAlign:s,verticalAlign:c}}function fFe(l,s,c,f,v){if(!f&&!v)return;let w=l[c],S=(l[c].x+w.metrics.advance*w.scale)*f;for(let C=s;C<=c;C++)l[C].x-=S,l[C].y+=v}function hFe(l,s,c){let{horizontalAlign:f,verticalAlign:v}=ik(c),w=s[0]-l.displaySize[0]*f,S=s[1]-l.displaySize[1]*v;return{image:l,top:S,bottom:S+l.displaySize[1],left:w,right:w+l.displaySize[0]}}function $Z(l){var s,c;let f=l.left,v=l.top,w=l.right-f,S=l.bottom-v,C=(s=l.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",M=(c=l.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",k=(l.image.content[2]-l.image.content[0])/(l.image.content[3]-l.image.content[1]);if(M==="proportional"){if(C==="stretchOnly"&&w/S<k||C==="proportional"){let R=Math.ceil(S*k);f*=R/w,w=R}}else if(C==="proportional"&&M==="stretchOnly"&&k!==0&&w/S>k){let R=Math.ceil(w/k);v*=R/S,S=R}return{x1:f,y1:v,x2:f+w,y2:v+S}}function HZ(l,s,c,f,v,w){let S=l.image,C;if(S.content){let le=S.content,de=S.pixelRatio||1;C=[le[0]/de,le[1]/de,S.displaySize[0]-le[2]/de,S.displaySize[1]-le[3]/de]}let M=s.left*w,k=s.right*w,R,j,W,G;c==="width"||c==="both"?(G=v[0]+M-f[3],j=v[0]+k+f[1]):(G=v[0]+(M+k-S.displaySize[0])/2,j=G+S.displaySize[0]);let X=s.top*w,Q=s.bottom*w;return c==="height"||c==="both"?(R=v[1]+X-f[0],W=v[1]+Q+f[2]):(R=v[1]+(X+Q-S.displaySize[1])/2,W=R+S.displaySize[1]),{image:S,top:R,right:j,bottom:W,left:G,collisionPadding:C}}let p_=255,Bu=128,Pp=p_*Bu;function WZ(l,s){let{expression:c}=s;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Zn(l+1))};if(c.kind==="source")return{kind:"source"};{let{zoomStops:f,interpolationType:v}=c,w=0;for(;w<f.length&&f[w]<=l;)w++;w=Math.max(0,w-1);let S=w;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);let C=f[w],M=f[S];return c.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:M,interpolationType:v}:{kind:"camera",minZoom:C,maxZoom:M,minSize:c.evaluate(new Zn(C)),maxSize:c.evaluate(new Zn(M)),interpolationType:v}}}function ok(l,s,c){let f="never",v=l.get(s);return v?f=v:l.get(c)&&(f="always"),f}let mFe=Ap.VectorTileFeature.types,gFe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wI(l,s,c,f,v,w,S,C,M,k,R,j,W){let G=C?Math.min(Pp,Math.round(C[0])):0,X=C?Math.min(Pp,Math.round(C[1])):0;l.emplaceBack(s,c,Math.round(32*f),Math.round(32*v),w,S,(G<<1)+(M?1:0),X,16*k,16*R,256*j,256*W)}function ak(l,s,c){l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c)}function vFe(l){for(let s of l.sections)if(qD(s.text))return!0;return!1}class sk{constructor(s){this.layoutVertexArray=new Bg,this.indexArray=new Us,this.programConfigurations=s,this.segments=new Xr,this.dynamicLayoutVertexArray=new Q1,this.opacityVertexArray=new ss,this.hasVisibleVertices=!1,this.placedSymbolArray=new Yn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,c,f,v){this.isEmpty()||(f&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,G7e.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,Z7e.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,gFe,!0),this.opacityVertexBuffer.itemSize=1),(f||v)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Bt("SymbolBuffers",sk);class lk{constructor(s,c,f){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new f,this.segments=new Xr,this.collisionVertexArray=new Fu}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,Y7e.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Bt("CollisionBuffers",lk);class Qg{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(S=>S.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=BD([]),this.placementViewportMatrix=BD([]);let c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=WZ(this.zoom,c["text-size"]),this.iconSizeData=WZ(this.zoom,c["icon-size"]);let f=this.layers[0].layout,v=f.get("symbol-sort-key"),w=f.get("symbol-z-order");this.canOverlap=ok(f,"text-overlap","text-allow-overlap")!=="never"||ok(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>i.ah[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=s.sourceID}createArrays(){this.text=new sk(new Th(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new sk(new Th(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new Kn,this.lineVertexArray=new go,this.symbolInstances=new Wr,this.textAnchorOffsets=new Xn}calculateGlyphDependencies(s,c,f,v,w){for(let S=0;S<s.length;S++)if(c[s.charCodeAt(S)]=!0,(f||v)&&w){let C=u_[s.charAt(S)];C&&(c[C.charCodeAt(0)]=!0)}}populate(s,c,f){let v=this.layers[0],w=v.layout,S=w.get("text-font"),C=w.get("text-field"),M=w.get("icon-image"),k=(C.value.kind!=="constant"||C.value.value instanceof qa&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),R=M.value.kind!=="constant"||!!M.value.value||Object.keys(M.parameters).length>0,j=w.get("symbol-sort-key");if(this.features=[],!k&&!R)return;let W=c.iconDependencies,G=c.glyphDependencies,X=c.availableImages,Q=new Zn(this.zoom);for(let{feature:le,id:de,index:ke,sourceLayerIndex:_e}of s){let Me=v._featureFilter.needGeometry,We=Ah(le,Me);if(!v._featureFilter.filter(Q,We,f))continue;let ut,Rt;if(Me||(We.geometry=Ch(le)),k){let qt=v.getValueAndResolveTokens("text-field",We,f,X),Ct=qa.factory(qt),Jt=this.hasRTLText=this.hasRTLText||vFe(Ct);(!Jt||za.getRTLTextPluginStatus()==="unavailable"||Jt&&za.isParsed())&&(ut=X7e(Ct,v,We))}if(R){let qt=v.getValueAndResolveTokens("icon-image",We,f,X);Rt=qt instanceof Ra?qt:Ra.fromString(qt)}if(!ut&&!Rt)continue;let or=this.sortFeaturesByKey?j.evaluate(We,{},f):void 0;if(this.features.push({id:de,text:ut,icon:Rt,index:ke,sourceLayerIndex:_e,geometry:We.geometry,properties:le.properties,type:mFe[le.type],sortKey:or}),Rt&&(W[Rt.name]=!0),ut){let qt=S.evaluate(We,{},f).join(","),Ct=w.get("text-rotation-alignment")!=="viewport"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ah.vertical)>=0;for(let Jt of ut.sections)if(Jt.image)W[Jt.image.name]=!0;else{let Ut=Z1(ut.toString()),jt=Jt.fontStack||qt,Ye=G[jt]=G[jt]||{};this.calculateGlyphDependencies(Jt.text,Ye,Ct,this.allowVerticalPlacement,Ut)}}}w.get("symbol-placement")==="line"&&(this.features=function(le){let de={},ke={},_e=[],Me=0;function We(qt){_e.push(le[qt]),Me++}function ut(qt,Ct,Jt){let Ut=ke[qt];return delete ke[qt],ke[Ct]=Ut,_e[Ut].geometry[0].pop(),_e[Ut].geometry[0]=_e[Ut].geometry[0].concat(Jt[0]),Ut}function Rt(qt,Ct,Jt){let Ut=de[Ct];return delete de[Ct],de[qt]=Ut,_e[Ut].geometry[0].shift(),_e[Ut].geometry[0]=Jt[0].concat(_e[Ut].geometry[0]),Ut}function or(qt,Ct,Jt){let Ut=Jt?Ct[0][Ct[0].length-1]:Ct[0][0];return`${qt}:${Ut.x}:${Ut.y}`}for(let qt=0;qt<le.length;qt++){let Ct=le[qt],Jt=Ct.geometry,Ut=Ct.text?Ct.text.toString():null;if(!Ut){We(qt);continue}let jt=or(Ut,Jt),Ye=or(Ut,Jt,!0);if(jt in ke&&Ye in de&&ke[jt]!==de[Ye]){let Qt=Rt(jt,Ye,Jt),Kt=ut(jt,Ye,_e[Qt].geometry);delete de[jt],delete ke[Ye],ke[or(Ut,_e[Kt].geometry,!0)]=Kt,_e[Qt].geometry=null}else jt in ke?ut(jt,Ye,Jt):Ye in de?Rt(jt,Ye,Jt):(We(qt),de[jt]=Me-1,ke[Ye]=Me-1)}return _e.filter(qt=>qt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((le,de)=>le.sortKey-de.sortKey)}update(s,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){let f=this.lineVertexArray.length;if(s.segment!==void 0){let v=s.dist(c[s.segment+1]),w=s.dist(c[s.segment]),S={};for(let C=s.segment+1;C<c.length;C++)S[C]={x:c[C].x,y:c[C].y,tileUnitDistanceFromAnchor:v},C<c.length-1&&(v+=c[C+1].dist(c[C]));for(let C=s.segment||0;C>=0;C--)S[C]={x:c[C].x,y:c[C].y,tileUnitDistanceFromAnchor:w},C>0&&(w+=c[C-1].dist(c[C]));for(let C=0;C<c.length;C++){let M=S[C];this.lineVertexArray.emplaceBack(M.x,M.y,M.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(s,c,f,v,w,S,C,M,k,R,j,W){let G=s.indexArray,X=s.layoutVertexArray,Q=s.segments.prepareSegment(4*c.length,X,G,this.canOverlap?S.sortKey:void 0),le=this.glyphOffsetArray.length,de=Q.vertexLength,ke=this.allowVerticalPlacement&&C===i.ah.vertical?Math.PI/2:0,_e=S.text&&S.text.sections;for(let Me=0;Me<c.length;Me++){let{tl:We,tr:ut,bl:Rt,br:or,tex:qt,pixelOffsetTL:Ct,pixelOffsetBR:Jt,minFontScaleX:Ut,minFontScaleY:jt,glyphOffset:Ye,isSDF:Qt,sectionIndex:Kt}=c[Me],gr=Q.vertexLength,qn=Ye[1];wI(X,M.x,M.y,We.x,qn+We.y,qt.x,qt.y,f,Qt,Ct.x,Ct.y,Ut,jt),wI(X,M.x,M.y,ut.x,qn+ut.y,qt.x+qt.w,qt.y,f,Qt,Jt.x,Ct.y,Ut,jt),wI(X,M.x,M.y,Rt.x,qn+Rt.y,qt.x,qt.y+qt.h,f,Qt,Ct.x,Jt.y,Ut,jt),wI(X,M.x,M.y,or.x,qn+or.y,qt.x+qt.w,qt.y+qt.h,f,Qt,Jt.x,Jt.y,Ut,jt),ak(s.dynamicLayoutVertexArray,M,ke),G.emplaceBack(gr,gr+1,gr+2),G.emplaceBack(gr+1,gr+2,gr+3),Q.vertexLength+=4,Q.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ye[0]),Me!==c.length-1&&Kt===c[Me+1].sectionIndex||s.programConfigurations.populatePaintArrays(X.length,S,S.index,{},W,_e&&_e[Kt])}s.placedSymbolArray.emplaceBack(M.x,M.y,le,this.glyphOffsetArray.length-le,de,k,R,M.segment,f?f[0]:0,f?f[1]:0,v[0],v[1],C,0,!1,0,j)}_addCollisionDebugVertex(s,c,f,v,w,S){return c.emplaceBack(0,0),s.emplaceBack(f.x,f.y,v,w,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(s,c,f,v,w,S,C){let M=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),k=M.vertexLength,R=w.layoutVertexArray,j=w.collisionVertexArray,W=C.anchorX,G=C.anchorY;this._addCollisionDebugVertex(R,j,S,W,G,new y(s,c)),this._addCollisionDebugVertex(R,j,S,W,G,new y(f,c)),this._addCollisionDebugVertex(R,j,S,W,G,new y(f,v)),this._addCollisionDebugVertex(R,j,S,W,G,new y(s,v)),M.vertexLength+=4;let X=w.indexArray;X.emplaceBack(k,k+1),X.emplaceBack(k+1,k+2),X.emplaceBack(k+2,k+3),X.emplaceBack(k+3,k),M.primitiveLength+=4}addDebugCollisionBoxes(s,c,f,v){for(let w=s;w<c;w++){let S=this.collisionBoxArray.get(w);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,v?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new lk(ls,MZ.members,ao),this.iconCollisionBox=new lk(ls,MZ.members,ao);for(let s=0;s<this.symbolInstances.length;s++){let c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(s,c,f,v,w,S,C,M,k){let R={};for(let j=c;j<f;j++){let W=s.get(j);R.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},R.textFeatureIndex=W.featureIndex;break}for(let j=v;j<w;j++){let W=s.get(j);R.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},R.verticalTextFeatureIndex=W.featureIndex;break}for(let j=S;j<C;j++){let W=s.get(j);R.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},R.iconFeatureIndex=W.featureIndex;break}for(let j=M;j<k;j++){let W=s.get(j);R.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},R.verticalIconFeatureIndex=W.featureIndex;break}return R}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){let f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){let f=s.placedSymbolArray.get(c),v=f.vertexStartIndex+4*f.numGlyphs;for(let w=f.vertexStartIndex;w<v;w+=4)s.indexArray.emplaceBack(w,w+1,w+2),s.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let c=Math.sin(s),f=Math.cos(s),v=[],w=[],S=[];for(let C=0;C<this.symbolInstances.length;++C){S.push(C);let M=this.symbolInstances.get(C);v.push(0|Math.round(c*M.anchorX+f*M.anchorY)),w.push(M.featureIndex)}return S.sort((C,M)=>v[C]-v[M]||w[M]-w[C]),S}addToSortKeyRanges(s,c){let f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let c of this.symbolInstanceIndexes){let f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((v,w,S)=>{v>=0&&S.indexOf(v)===w&&this.addIndicesForPlacedSymbol(this.text,v)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let GZ,ZZ;Bt("SymbolBucket",Qg,{omit:["layers","collisionBoxArray","features","compareText"]}),Qg.MAX_GLYPHS=65535,Qg.addDynamicAttributes=ak;var uk={get paint(){return ZZ=ZZ||new b({"icon-opacity":new lr(we.paint_symbol["icon-opacity"]),"icon-color":new lr(we.paint_symbol["icon-color"]),"icon-halo-color":new lr(we.paint_symbol["icon-halo-color"]),"icon-halo-width":new lr(we.paint_symbol["icon-halo-width"]),"icon-halo-blur":new lr(we.paint_symbol["icon-halo-blur"]),"icon-translate":new Zt(we.paint_symbol["icon-translate"]),"icon-translate-anchor":new Zt(we.paint_symbol["icon-translate-anchor"]),"text-opacity":new lr(we.paint_symbol["text-opacity"]),"text-color":new lr(we.paint_symbol["text-color"],{runtimeType:ho,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new lr(we.paint_symbol["text-halo-color"]),"text-halo-width":new lr(we.paint_symbol["text-halo-width"]),"text-halo-blur":new lr(we.paint_symbol["text-halo-blur"]),"text-translate":new Zt(we.paint_symbol["text-translate"]),"text-translate-anchor":new Zt(we.paint_symbol["text-translate-anchor"])})},get layout(){return GZ=GZ||new b({"symbol-placement":new Zt(we.layout_symbol["symbol-placement"]),"symbol-spacing":new Zt(we.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Zt(we.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new lr(we.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Zt(we.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Zt(we.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Zt(we.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Zt(we.layout_symbol["icon-ignore-placement"]),"icon-optional":new Zt(we.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Zt(we.layout_symbol["icon-rotation-alignment"]),"icon-size":new lr(we.layout_symbol["icon-size"]),"icon-text-fit":new Zt(we.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Zt(we.layout_symbol["icon-text-fit-padding"]),"icon-image":new lr(we.layout_symbol["icon-image"]),"icon-rotate":new lr(we.layout_symbol["icon-rotate"]),"icon-padding":new lr(we.layout_symbol["icon-padding"]),"icon-keep-upright":new Zt(we.layout_symbol["icon-keep-upright"]),"icon-offset":new lr(we.layout_symbol["icon-offset"]),"icon-anchor":new lr(we.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Zt(we.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Zt(we.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Zt(we.layout_symbol["text-rotation-alignment"]),"text-field":new lr(we.layout_symbol["text-field"]),"text-font":new lr(we.layout_symbol["text-font"]),"text-size":new lr(we.layout_symbol["text-size"]),"text-max-width":new lr(we.layout_symbol["text-max-width"]),"text-line-height":new Zt(we.layout_symbol["text-line-height"]),"text-letter-spacing":new lr(we.layout_symbol["text-letter-spacing"]),"text-justify":new lr(we.layout_symbol["text-justify"]),"text-radial-offset":new lr(we.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Zt(we.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new lr(we.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new lr(we.layout_symbol["text-anchor"]),"text-max-angle":new Zt(we.layout_symbol["text-max-angle"]),"text-writing-mode":new Zt(we.layout_symbol["text-writing-mode"]),"text-rotate":new lr(we.layout_symbol["text-rotate"]),"text-padding":new Zt(we.layout_symbol["text-padding"]),"text-keep-upright":new Zt(we.layout_symbol["text-keep-upright"]),"text-transform":new lr(we.layout_symbol["text-transform"]),"text-offset":new lr(we.layout_symbol["text-offset"]),"text-allow-overlap":new Zt(we.layout_symbol["text-allow-overlap"]),"text-overlap":new Zt(we.layout_symbol["text-overlap"]),"text-ignore-placement":new Zt(we.layout_symbol["text-ignore-placement"]),"text-optional":new Zt(we.layout_symbol["text-optional"])})}};class YZ{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:pl,this.defaultValue=s}evaluate(s){if(s.formattedSection){let c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Bt("FormatSectionOverride",YZ,{omit:["defaultValue"]});class SI extends d{constructor(s){super(s,uk)}recalculate(s,c){if(super.recalculate(s,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let f=this.layout.get("text-writing-mode");if(f){let v=[];for(let w of f)v.indexOf(w)<0&&v.push(w);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,c,f,v){let w=this.layout.get(s).evaluate(c,{},f,v),S=this._unevaluatedLayout._values[s];return S.isDataDriven()||Tg(S.value)||!w?w:function(C,M){return M.replace(/{([^{}]+)}/g,(k,R)=>C&&R in C?String(C[R]):"")}(c.properties,w)}createBucket(s){return new Qg(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of uk.paint.overridableProperties){if(!SI.hasPaintOverride(this.layout,s))continue;let c=this.paint.get(s),f=new YZ(c),v=new Eg(f,c.property.specification),w=null;w=c.value.kind==="constant"||c.value.kind==="source"?new pp("source",v):new fp("composite",v,c.value.zoomStops),this.paint._values[s]=new ml(c.property,w,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&SI.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){let f=s.get("text-field"),v=uk.paint.properties[c],w=!1,S=C=>{for(let M of C)if(v.overrides&&v.overrides.hasOverride(M))return void(w=!0)};if(f.value.kind==="constant"&&f.value.value instanceof qa)S(f.value.value.sections);else if(f.value.kind==="source"){let C=k=>{w||(k instanceof Ls&&ki(k.value)===ct?S(k.value.sections):k instanceof gg?S(k.sections):k.eachChild(C))},M=f.value;M._styleExpression&&C(M._styleExpression.expression)}return w}}let KZ;var yFe={get paint(){return KZ=KZ||new b({"background-color":new Zt(we.paint_background["background-color"]),"background-pattern":new Fg(we.paint_background["background-pattern"]),"background-opacity":new Zt(we.paint_background["background-opacity"])})}};class _Fe extends d{constructor(s){super(s,yFe)}}let XZ;var bFe={get paint(){return XZ=XZ||new b({"raster-opacity":new Zt(we.paint_raster["raster-opacity"]),"raster-hue-rotate":new Zt(we.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Zt(we.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Zt(we.paint_raster["raster-brightness-max"]),"raster-saturation":new Zt(we.paint_raster["raster-saturation"]),"raster-contrast":new Zt(we.paint_raster["raster-contrast"]),"raster-resampling":new Zt(we.paint_raster["raster-resampling"]),"raster-fade-duration":new Zt(we.paint_raster["raster-fade-duration"])})}};class xFe extends d{constructor(s){super(s,bFe)}}class wFe extends d{constructor(s){super(s,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class SFe{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let ck=6371008.8;class Op{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Op(ee(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let c=Math.PI/180,f=this.lat*c,v=s.lat*c,w=Math.sin(f)*Math.sin(v)+Math.cos(f)*Math.cos(v)*Math.cos((s.lng-this.lng)*c);return ck*Math.acos(Math.min(w,1))}static convert(s){if(s instanceof Op)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new Op(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new Op(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let JZ=2*Math.PI*ck;function QZ(l){return JZ*Math.cos(l*Math.PI/180)}function eY(l){return(180+l)/360}function tY(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function rY(l,s){return l/QZ(s)}function dk(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class f_{constructor(s,c,f=0){this.x=+s,this.y=+c,this.z=+f}static fromLngLat(s,c=0){let f=Op.convert(s);return new f_(eY(f.lng),tY(f.lat),rY(c,f.lat))}toLngLat(){return new Op(360*this.x-180,dk(this.y))}toAltitude(){return this.z*QZ(dk(this.y))}meterInMercatorCoordinateUnits(){return 1/JZ*(s=dk(this.y),1/Math.cos(s*Math.PI/180));var s}}function nY(l,s,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,s*f-2*Math.PI*6378137/2]}class pk{constructor(s,c,f){if(!function(v,w,S){return!(v<0||v>25||S<0||S>=Math.pow(2,v)||w<0||w>=Math.pow(2,v))}(s,c,f))throw new Error(`x=${c}, y=${f}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=c,this.y=f,this.key=h_(0,s,s,c,f)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c,f){let v=(S=this.y,C=this.z,M=nY(256*(w=this.x),256*(S=Math.pow(2,C)-S-1),C),k=nY(256*(w+1),256*(S+1),C),M[0]+","+M[1]+","+k[0]+","+k[1]);var w,S,C,M,k;let R=function(j,W,G){let X,Q="";for(let le=j;le>0;le--)X=1<<le-1,Q+=(W&X?1:0)+(G&X?2:0);return Q}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,R).replace(/{bbox-epsg-3857}/g,v)}isChildOf(s){let c=this.z-s.z;return c>0&&s.x===this.x>>c&&s.y===this.y>>c}getTilePoint(s){let c=Math.pow(2,this.z);return new y((s.x*c-this.x)*qi,(s.y*c-this.y)*qi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class iY{constructor(s,c){this.wrap=s,this.canonical=c,this.key=h_(s,c.z,c.z,c.x,c.y)}}class Hs{constructor(s,c,f,v,w){if(s<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${f}`);this.overscaledZ=s,this.wrap=c,this.canonical=new pk(f,+v,+w),this.key=h_(c,s,f,v,w)}clone(){return new Hs(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let c=this.canonical.z-s;return s>this.canonical.z?new Hs(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Hs(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let f=this.canonical.z-s;return s>this.canonical.z?h_(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):h_(this.wrap*+c,s,s,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new Hs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let c=this.canonical.z+1,f=2*this.canonical.x,v=2*this.canonical.y;return[new Hs(c,this.wrap,c,f,v),new Hs(c,this.wrap,c,f+1,v),new Hs(c,this.wrap,c,f,v+1),new Hs(c,this.wrap,c,f+1,v+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new Hs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new Hs(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new iY(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new f_(s.x-this.wrap,s.y))}}function h_(l,s,c,f,v){(l*=2)<0&&(l=-1*l-1);let w=1<<c;return(w*w*l+w*v+f).toString(36)+c.toString(36)+s.toString(36)}Bt("CanonicalTileID",pk),Bt("OverscaledTileID",Hs,{omit:["posMatrix"]});class oY{constructor(s,c,f,v=1,w=1,S=1,C=0){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void $e(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;let M=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=w,this.blueFactor=S,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let k=0;k<M;k++)this.data[this._idx(-1,k)]=this.data[this._idx(0,k)],this.data[this._idx(M,k)]=this.data[this._idx(M-1,k)],this.data[this._idx(k,-1)]=this.data[this._idx(k,0)],this.data[this._idx(k,M)]=this.data[this._idx(k,M-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(M,-1)]=this.data[this._idx(M-1,0)],this.data[this._idx(-1,M)]=this.data[this._idx(0,M-1)],this.data[this._idx(M,M)]=this.data[this._idx(M-1,M-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let k=0;k<M;k++)for(let R=0;R<M;R++){let j=this.get(k,R);j>this.max&&(this.max=j),j<this.min&&(this.min=j)}}get(s,c){let f=new Uint8Array(this.data.buffer),v=4*this._idx(s,c);return this.unpack(f[v],f[v+1],f[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}unpack(s,c,f){return s*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new $s({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,c,f){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let v=c*this.dim,w=c*this.dim+this.dim,S=f*this.dim,C=f*this.dim+this.dim;switch(c){case-1:v=w-1;break;case 1:w=v+1;}switch(f){case-1:S=C-1;break;case 1:C=S+1;}let M=-c*this.dim,k=-f*this.dim;for(let R=S;R<C;R++)for(let j=v;j<w;j++)this.data[this._idx(j,R)]=s.data[this._idx(j+M,R+k)]}}Bt("DEMData",oY);class aY{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){let f=s[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class sY{constructor(s,c,f,v,w){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=f,s._y=v,this.properties=s.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s}}class lY{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new vp(qi,16,0),this.grid3D=new vp(qi,16,0),this.featureIndexArray=new ko,this.promoteId=c}insert(s,c,f,v,w,S){let C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,v,w);let M=S?this.grid3D:this.grid;for(let k=0;k<c.length;k++){let R=c[k],j=[1/0,1/0,-1/0,-1/0];for(let W=0;W<R.length;W++){let G=R[W];j[0]=Math.min(j[0],G.x),j[1]=Math.min(j[1],G.y),j[2]=Math.max(j[2],G.x),j[3]=Math.max(j[3],G.y)}j[0]<qi&&j[1]<qi&&j[2]>=0&&j[3]>=0&&M.insert(C,j[0],j[1],j[2],j[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ap.VectorTile(new ek(this.rawTileData)).layers,this.sourceLayerCoder=new aY(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,c,f,v){this.loadVTLayers();let w=s.params||{},S=qi/s.tileSize/s.scale,C=k1(w.filter),M=s.queryGeometry,k=s.queryPadding*S,R=cY(M),j=this.grid.query(R.minX-k,R.minY-k,R.maxX+k,R.maxY+k),W=cY(s.cameraQueryGeometry),G=this.grid3D.query(W.minX-k,W.minY-k,W.maxX+k,W.maxY+k,(le,de,ke,_e)=>function(Me,We,ut,Rt,or){for(let Ct of Me)if(We<=Ct.x&&ut<=Ct.y&&Rt>=Ct.x&&or>=Ct.y)return!0;let qt=[new y(We,ut),new y(We,or),new y(Rt,or),new y(Rt,ut)];if(Me.length>2){for(let Ct of qt)if(Wg(Me,Ct))return!0}for(let Ct=0;Ct<Me.length-1;Ct++)if(n7e(Me[Ct],Me[Ct+1],qt))return!0;return!1}(s.cameraQueryGeometry,le-k,de-k,ke+k,_e+k));for(let le of G)j.push(le);j.sort(IFe);let X={},Q;for(let le=0;le<j.length;le++){let de=j[le];if(de===Q)continue;Q=de;let ke=this.featureIndexArray.get(de),_e=null;this.loadMatchingFeature(X,ke.bucketIndex,ke.sourceLayerIndex,ke.featureIndex,C,w.layers,w.availableImages,c,f,v,(Me,We,ut)=>(_e||(_e=Ch(Me)),We.queryIntersectsFeature(M,Me,ut,_e,this.z,s.transform,S,s.pixelPosMatrix)))}return X}loadMatchingFeature(s,c,f,v,w,S,C,M,k,R,j){let W=this.bucketLayerIDs[c];if(S&&!function(le,de){for(let ke=0;ke<le.length;ke++)if(de.indexOf(le[ke])>=0)return!0;return!1}(S,W))return;let G=this.sourceLayerCoder.decode(f),X=this.vtLayers[G].feature(v);if(w.needGeometry){let le=Ah(X,!0);if(!w.filter(new Zn(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!w.filter(new Zn(this.tileID.overscaledZ),X))return;let Q=this.getId(X,G);for(let le=0;le<W.length;le++){let de=W[le];if(S&&S.indexOf(de)<0)continue;let ke=M[de];if(!ke)continue;let _e={};Q&&R&&(_e=R.getState(ke.sourceLayer||"_geojsonTileLayer",Q));let Me=ae({},k[de]);Me.paint=uY(Me.paint,ke.paint,X,_e,C),Me.layout=uY(Me.layout,ke.layout,X,_e,C);let We=!j||j(X,ke,_e);if(!We)continue;let ut=new sY(X,this.z,this.x,this.y,Q);ut.layer=Me;let Rt=s[de];Rt===void 0&&(Rt=s[de]=[]),Rt.push({featureIndex:v,feature:ut,intersectionZ:We})}}lookupSymbolFeatures(s,c,f,v,w,S,C,M){let k={};this.loadVTLayers();let R=k1(w);for(let j of s)this.loadMatchingFeature(k,f,v,j,R,S,C,M,c);return k}hasLayer(s){for(let c of this.bucketLayerIDs)for(let f of c)if(s===f)return!0;return!1}getId(s,c){let f=s.id;return this.promoteId&&(f=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function uY(l,s,c,f,v){return ve(l,(w,S)=>{let C=s instanceof Sh?s.get(S):null;return C&&C.evaluate?C.evaluate(c,f,v):C})}function cY(l){let s=1/0,c=1/0,f=-1/0,v=-1/0;for(let w of l)s=Math.min(s,w.x),c=Math.min(c,w.y),f=Math.max(f,w.x),v=Math.max(v,w.y);return{minX:s,minY:c,maxX:f,maxY:v}}function IFe(l,s){return s-l}function dY(l,s,c,f,v){let w=[];for(let S=0;S<l.length;S++){let C=l[S],M;for(let k=0;k<C.length-1;k++){let R=C[k],j=C[k+1];R.x<s&&j.x<s||(R.x<s?R=new y(s,R.y+(s-R.x)/(j.x-R.x)*(j.y-R.y))._round():j.x<s&&(j=new y(s,R.y+(s-R.x)/(j.x-R.x)*(j.y-R.y))._round()),R.y<c&&j.y<c||(R.y<c?R=new y(R.x+(c-R.y)/(j.y-R.y)*(j.x-R.x),c)._round():j.y<c&&(j=new y(R.x+(c-R.y)/(j.y-R.y)*(j.x-R.x),c)._round()),R.x>=f&&j.x>=f||(R.x>=f?R=new y(f,R.y+(f-R.x)/(j.x-R.x)*(j.y-R.y))._round():j.x>=f&&(j=new y(f,R.y+(f-R.x)/(j.x-R.x)*(j.y-R.y))._round()),R.y>=v&&j.y>=v||(R.y>=v?R=new y(R.x+(v-R.y)/(j.y-R.y)*(j.x-R.x),v)._round():j.y>=v&&(j=new y(R.x+(v-R.y)/(j.y-R.y)*(j.x-R.x),v)._round()),M&&R.equals(M[M.length-1])||(M=[R],w.push(M)),M.push(j)))))}}return w}Bt("FeatureIndex",lY,{omit:["rawTileData","sourceLayerCoder"]});class Dp extends y{constructor(s,c,f,v){super(s,c),this.angle=f,v!==void 0&&(this.segment=v)}clone(){return new Dp(this.x,this.y,this.angle,this.segment)}}function pY(l,s,c,f,v){if(s.segment===void 0||c===0)return!0;let w=s,S=s.segment+1,C=0;for(;C>-c/2;){if(S--,S<0)return!1;C-=l[S].dist(w),w=l[S]}C+=l[S].dist(l[S+1]),S++;let M=[],k=0;for(;C<c/2;){let R=l[S],j=l[S+1];if(!j)return!1;let W=l[S-1].angleTo(R)-R.angleTo(j);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:C,angleDelta:W}),k+=W;C-M[0].distance>f;)k-=M.shift().angleDelta;if(k>v)return!1;S++,C+=R.dist(j)}return!0}function fY(l){let s=0;for(let c=0;c<l.length-1;c++)s+=l[c].dist(l[c+1]);return s}function hY(l,s,c){return l?.6*s*c:0}function mY(l,s){return Math.max(l?l.right-l.left:0,s?s.right-s.left:0)}function EFe(l,s,c,f,v,w){let S=hY(c,v,w),C=mY(c,f)*w,M=0,k=fY(l)/2;for(let R=0;R<l.length-1;R++){let j=l[R],W=l[R+1],G=j.dist(W);if(M+G>k){let X=(k-M)/G,Q=aa.number(j.x,W.x,X),le=aa.number(j.y,W.y,X),de=new Dp(Q,le,W.angleTo(j),R);return de._round(),!S||pY(l,de,C,S,s)?de:void 0}M+=G}}function TFe(l,s,c,f,v,w,S,C,M){let k=hY(f,w,S),R=mY(f,v),j=R*S,W=l[0].x===0||l[0].x===M||l[0].y===0||l[0].y===M;return s-j<s/4&&(s=j+s/4),gY(l,W?s/2*C%s:(R/2+2*w)*S*C%s,s,k,c,j,W,!1,M)}function gY(l,s,c,f,v,w,S,C,M){let k=w/2,R=fY(l),j=0,W=s-c,G=[];for(let X=0;X<l.length-1;X++){let Q=l[X],le=l[X+1],de=Q.dist(le),ke=le.angleTo(Q);for(;W+c<j+de;){W+=c;let _e=(W-j)/de,Me=aa.number(Q.x,le.x,_e),We=aa.number(Q.y,le.y,_e);if(Me>=0&&Me<M&&We>=0&&We<M&&W-k>=0&&W+k<=R){let ut=new Dp(Me,We,ke,X);ut._round(),f&&!pY(l,ut,w,f,v)||G.push(ut)}}j+=de}return C||G.length||S||(G=gY(l,j/2,c,f,v,w,S,!0,M)),G}Bt("Anchor",Dp);let ev=ja;function vY(l,s,c,f){let v=[],w=l.image,S=w.pixelRatio,C=w.paddedRect.w-2*ev,M=w.paddedRect.h-2*ev,k={x1:l.left,y1:l.top,x2:l.right,y2:l.bottom},R=w.stretchX||[[0,C]],j=w.stretchY||[[0,M]],W=(Ye,Qt)=>Ye+Qt[1]-Qt[0],G=R.reduce(W,0),X=j.reduce(W,0),Q=C-G,le=M-X,de=0,ke=G,_e=0,Me=X,We=0,ut=Q,Rt=0,or=le;if(w.content&&f){let Ye=w.content,Qt=Ye[2]-Ye[0],Kt=Ye[3]-Ye[1];(w.textFitWidth||w.textFitHeight)&&(k=$Z(l)),de=II(R,0,Ye[0]),_e=II(j,0,Ye[1]),ke=II(R,Ye[0],Ye[2]),Me=II(j,Ye[1],Ye[3]),We=Ye[0]-de,Rt=Ye[1]-_e,ut=Qt-ke,or=Kt-Me}let qt=k.x1,Ct=k.y1,Jt=k.x2-qt,Ut=k.y2-Ct,jt=(Ye,Qt,Kt,gr)=>{let qn=EI(Ye.stretch-de,ke,Jt,qt),Mn=TI(Ye.fixed-We,ut,Ye.stretch,G),Qi=EI(Qt.stretch-_e,Me,Ut,Ct),vl=TI(Qt.fixed-Rt,or,Qt.stretch,X),bo=EI(Kt.stretch-de,ke,Jt,qt),eo=TI(Kt.fixed-We,ut,Kt.stretch,G),ca=EI(gr.stretch-_e,Me,Ut,Ct),da=TI(gr.fixed-Rt,or,gr.stretch,X),pa=new y(qn,Qi),Si=new y(bo,Qi),to=new y(bo,ca),No=new y(qn,ca),xo=new y(Mn/S,vl/S),fa=new y(eo/S,da/S),wo=s*Math.PI/180;if(wo){let un=Math.sin(wo),Fn=Math.cos(wo),Jn=[Fn,-un,un,Fn];pa._matMult(Jn),Si._matMult(Jn),No._matMult(Jn),to._matMult(Jn)}let Ws=Ye.stretch+Ye.fixed,Ba=Qt.stretch+Qt.fixed;return{tl:pa,tr:Si,bl:No,br:to,tex:{x:w.paddedRect.x+ev+Ws,y:w.paddedRect.y+ev+Ba,w:Kt.stretch+Kt.fixed-Ws,h:gr.stretch+gr.fixed-Ba},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:xo,pixelOffsetBR:fa,minFontScaleX:ut/S/Jt,minFontScaleY:or/S/Ut,isSDF:c}};if(f&&(w.stretchX||w.stretchY)){let Ye=yY(R,Q,G),Qt=yY(j,le,X);for(let Kt=0;Kt<Ye.length-1;Kt++){let gr=Ye[Kt],qn=Ye[Kt+1];for(let Mn=0;Mn<Qt.length-1;Mn++)v.push(jt(gr,Qt[Mn],qn,Qt[Mn+1]))}}else v.push(jt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:M+1}));return v}function II(l,s,c){let f=0;for(let v of l)f+=Math.max(s,Math.min(c,v[1]))-Math.max(s,Math.min(c,v[0]));return f}function yY(l,s,c){let f=[{fixed:-ev,stretch:0}];for(let[v,w]of l){let S=f[f.length-1];f.push({fixed:v-S.stretch,stretch:S.stretch}),f.push({fixed:v-S.stretch,stretch:S.stretch+(w-v)})}return f.push({fixed:s+ev,stretch:c}),f}function EI(l,s,c,f){return l/s*c+f}function TI(l,s,c,f){return l-s*c/f}class CI{constructor(s,c,f,v,w,S,C,M,k,R){var j;if(this.boxStartIndex=s.length,k){let W=S.top,G=S.bottom,X=S.collisionPadding;X&&(W-=X[1],G+=X[3]);let Q=G-W;Q>0&&(Q=Math.max(10,Q),this.circleDiameter=Q)}else{let W=!((j=S.image)===null||j===void 0)&&j.content&&(S.image.textFitWidth||S.image.textFitHeight)?$Z(S):{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom};W.y1=W.y1*C-M[0],W.y2=W.y2*C+M[2],W.x1=W.x1*C-M[3],W.x2=W.x2*C+M[1];let G=S.collisionPadding;if(G&&(W.x1-=G[0]*C,W.y1-=G[1]*C,W.x2+=G[2]*C,W.y2+=G[3]*C),R){let X=new y(W.x1,W.y1),Q=new y(W.x2,W.y1),le=new y(W.x1,W.y2),de=new y(W.x2,W.y2),ke=R*Math.PI/180;X._rotate(ke),Q._rotate(ke),le._rotate(ke),de._rotate(ke),W.x1=Math.min(X.x,Q.x,le.x,de.x),W.x2=Math.max(X.x,Q.x,le.x,de.x),W.y1=Math.min(X.y,Q.y,le.y,de.y),W.y2=Math.max(X.y,Q.y,le.y,de.y)}s.emplaceBack(c.x,c.y,W.x1,W.y1,W.x2,W.y2,f,v,w)}this.boxEndIndex=s.length}}class CFe{constructor(s=[],c=(f,v)=>f<v?-1:f>v?1:0){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:c,compare:f}=this,v=c[s];for(;s>0;){let w=s-1>>1,S=c[w];if(f(v,S)>=0)break;c[s]=S,s=w}c[s]=v}_down(s){let{data:c,compare:f}=this,v=this.length>>1,w=c[s];for(;s<v;){let S=1+(s<<1),C=S+1;if(C<this.length&&f(c[C],c[S])<0&&(S=C),f(c[S],w)>=0)break;c[s]=c[S],s=S}c[s]=w}}function AFe(l,s=1,c=!1){let f=1/0,v=1/0,w=-1/0,S=-1/0,C=l[0];for(let G=0;G<C.length;G++){let X=C[G];(!G||X.x<f)&&(f=X.x),(!G||X.y<v)&&(v=X.y),(!G||X.x>w)&&(w=X.x),(!G||X.y>S)&&(S=X.y)}let M=Math.min(w-f,S-v),k=M/2,R=new CFe([],MFe);if(M===0)return new y(f,v);for(let G=f;G<w;G+=M)for(let X=v;X<S;X+=M)R.push(new tv(G+k,X+k,k,l));let j=function(G){let X=0,Q=0,le=0,de=G[0];for(let ke=0,_e=de.length,Me=_e-1;ke<_e;Me=ke++){let We=de[ke],ut=de[Me],Rt=We.x*ut.y-ut.x*We.y;Q+=(We.x+ut.x)*Rt,le+=(We.y+ut.y)*Rt,X+=3*Rt}return new tv(Q/X,le/X,0,G)}(l),W=R.length;for(;R.length;){let G=R.pop();(G.d>j.d||!j.d)&&(j=G,c&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,W)),G.max-j.d<=s||(k=G.h/2,R.push(new tv(G.p.x-k,G.p.y-k,k,l)),R.push(new tv(G.p.x+k,G.p.y-k,k,l)),R.push(new tv(G.p.x-k,G.p.y+k,k,l)),R.push(new tv(G.p.x+k,G.p.y+k,k,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${j.d}`)),j.p}function MFe(l,s){return s.max-l.max}function tv(l,s,c,f){this.p=new y(l,s),this.h=c,this.d=function(v,w){let S=!1,C=1/0;for(let M=0;M<w.length;M++){let k=w[M];for(let R=0,j=k.length,W=j-1;R<j;W=R++){let G=k[R],X=k[W];G.y>v.y!=X.y>v.y&&v.x<(X.x-G.x)*(v.y-G.y)/(X.y-G.y)+G.x&&(S=!S),C=Math.min(C,tZ(v,G,X))}}return(S?1:-1)*Math.sqrt(C)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var _o;i.aq=void 0,(_o=i.aq||(i.aq={}))[_o.center=1]="center",_o[_o.left=2]="left",_o[_o.right=3]="right",_o[_o.top=4]="top",_o[_o.bottom=5]="bottom",_o[_o["top-left"]=6]="top-left",_o[_o["top-right"]=7]="top-right",_o[_o["bottom-left"]=8]="bottom-left",_o[_o["bottom-right"]=9]="bottom-right";let kp=7,fk=Number.POSITIVE_INFINITY;function _Y(l,s){return s[1]!==fk?function(c,f,v){let w=0,S=0;switch(f=Math.abs(f),v=Math.abs(v),c){case"top-right":case"top-left":case"top":S=v-kp;break;case"bottom-right":case"bottom-left":case"bottom":S=-v+kp;}switch(c){case"top-right":case"bottom-right":case"right":w=-f;break;case"top-left":case"bottom-left":case"left":w=f;}return[w,S]}(l,s[0],s[1]):function(c,f){let v=0,w=0;f<0&&(f=0);let S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":w=S-kp;break;case"bottom-right":case"bottom-left":w=-S+kp;break;case"bottom":w=-f+kp;break;case"top":w=f-kp;}switch(c){case"top-right":case"bottom-right":v=-S;break;case"top-left":case"bottom-left":v=S;break;case"left":v=f;break;case"right":v=-f;}return[v,w]}(l,s[0])}function bY(l,s,c){var f;let v=l.layout,w=(f=v.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(s,{},c);if(w){let C=w.values,M=[];for(let k=0;k<C.length;k+=2){let R=M[k]=C[k],j=C[k+1].map(W=>W*Bi);R.startsWith("top")?j[1]-=kp:R.startsWith("bottom")&&(j[1]+=kp),M[k+1]=j}return new rs(M)}let S=v.get("text-variable-anchor");if(S){let C;C=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(s,{},c)*Bi,fk]:v.get("text-offset").evaluate(s,{},c).map(k=>k*Bi);let M=[];for(let k of S)M.push(k,_Y(k,C));return new rs(M)}return null}function hk(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left";}return"center"}function PFe(l,s,c,f,v,w,S,C,M,k,R){let j=w.textMaxSize.evaluate(s,{});j===void 0&&(j=S);let W=l.layers[0].layout,G=W.get("icon-offset").evaluate(s,{},R),X=wY(c.horizontal),Q=S/24,le=l.tilePixelRatio*Q,de=l.tilePixelRatio*j/24,ke=l.tilePixelRatio*C,_e=l.tilePixelRatio*W.get("symbol-spacing"),Me=W.get("text-padding")*l.tilePixelRatio,We=function(Ye,Qt,Kt,gr=1){let qn=Ye.get("icon-padding").evaluate(Qt,{},Kt),Mn=qn&&qn.values;return[Mn[0]*gr,Mn[1]*gr,Mn[2]*gr,Mn[3]*gr]}(W,s,R,l.tilePixelRatio),ut=W.get("text-max-angle")/180*Math.PI,Rt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",or=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",qt=W.get("symbol-placement"),Ct=_e/2,Jt=W.get("icon-text-fit"),Ut;f&&Jt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(Ut=HZ(f,c.vertical,Jt,W.get("icon-text-fit-padding"),G,Q)),X&&(f=HZ(f,X,Jt,W.get("icon-text-fit-padding"),G,Q)));let jt=(Ye,Qt)=>{Qt.x<0||Qt.x>=qi||Qt.y<0||Qt.y>=qi||function(Kt,gr,qn,Mn,Qi,vl,bo,eo,ca,da,pa,Si,to,No,xo,fa,wo,Ws,Ba,un,Fn,Jn,us,mi,rv){let Vu=Kt.addToLineVertexArray(gr,qn),Uu,yl,Gs,so,Xc=0,v_=0,TY=0,CY=0,wk=-1,Sk=-1,Jc={},AY=Vg("");if(Kt.allowVerticalPlacement&&Mn.vertical){let Ro=eo.layout.get("text-rotate").evaluate(Fn,{},mi)+90;Gs=new CI(ca,gr,da,pa,Si,Mn.vertical,to,No,xo,Ro),bo&&(so=new CI(ca,gr,da,pa,Si,bo,wo,Ws,xo,Ro))}if(Qi){let Ro=eo.layout.get("icon-rotate").evaluate(Fn,{}),Zs=eo.layout.get("icon-text-fit")!=="none",Ph=vY(Qi,Ro,us,Zs),cu=bo?vY(bo,Ro,us,Zs):void 0;yl=new CI(ca,gr,da,pa,Si,Qi,wo,Ws,!1,Ro),Xc=4*Ph.length;let Oh=Kt.iconSizeData,$u=null;Oh.kind==="source"?($u=[Bu*eo.layout.get("icon-size").evaluate(Fn,{})],$u[0]>Pp&&$e(`${Kt.layerIds[0]}: Value for "icon-size" is >= ${p_}. Reduce your "icon-size".`)):Oh.kind==="composite"&&($u=[Bu*Jn.compositeIconSizes[0].evaluate(Fn,{},mi),Bu*Jn.compositeIconSizes[1].evaluate(Fn,{},mi)],($u[0]>Pp||$u[1]>Pp)&&$e(`${Kt.layerIds[0]}: Value for "icon-size" is >= ${p_}. Reduce your "icon-size".`)),Kt.addSymbols(Kt.icon,Ph,$u,un,Ba,Fn,i.ah.none,gr,Vu.lineStartIndex,Vu.lineLength,-1,mi),wk=Kt.icon.placedSymbolArray.length-1,cu&&(v_=4*cu.length,Kt.addSymbols(Kt.icon,cu,$u,un,Ba,Fn,i.ah.vertical,gr,Vu.lineStartIndex,Vu.lineLength,-1,mi),Sk=Kt.icon.placedSymbolArray.length-1)}let MY=Object.keys(Mn.horizontal);for(let Ro of MY){let Zs=Mn.horizontal[Ro];if(!Uu){AY=Vg(Zs.text);let cu=eo.layout.get("text-rotate").evaluate(Fn,{},mi);Uu=new CI(ca,gr,da,pa,Si,Zs,to,No,xo,cu)}let Ph=Zs.positionedLines.length===1;if(TY+=xY(Kt,gr,Zs,vl,eo,xo,Fn,fa,Vu,Mn.vertical?i.ah.horizontal:i.ah.horizontalOnly,Ph?MY:[Ro],Jc,wk,Jn,mi),Ph)break}Mn.vertical&&(CY+=xY(Kt,gr,Mn.vertical,vl,eo,xo,Fn,fa,Vu,i.ah.vertical,["vertical"],Jc,Sk,Jn,mi));let kFe=Uu?Uu.boxStartIndex:Kt.collisionBoxArray.length,qFe=Uu?Uu.boxEndIndex:Kt.collisionBoxArray.length,NFe=Gs?Gs.boxStartIndex:Kt.collisionBoxArray.length,RFe=Gs?Gs.boxEndIndex:Kt.collisionBoxArray.length,LFe=yl?yl.boxStartIndex:Kt.collisionBoxArray.length,zFe=yl?yl.boxEndIndex:Kt.collisionBoxArray.length,FFe=so?so.boxStartIndex:Kt.collisionBoxArray.length,jFe=so?so.boxEndIndex:Kt.collisionBoxArray.length,uu=-1,MI=(Ro,Zs)=>Ro&&Ro.circleDiameter?Math.max(Ro.circleDiameter,Zs):Zs;uu=MI(Uu,uu),uu=MI(Gs,uu),uu=MI(yl,uu),uu=MI(so,uu);let PY=uu>-1?1:0;PY&&(uu*=rv/Bi),Kt.glyphOffsetArray.length>=Qg.MAX_GLYPHS&&$e("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Fn.sortKey!==void 0&&Kt.addToSortKeyRanges(Kt.symbolInstances.length,Fn.sortKey);let BFe=bY(eo,Fn,mi),[VFe,UFe]=function(Ro,Zs){let Ph=Ro.length,cu=Zs==null?void 0:Zs.values;if((cu==null?void 0:cu.length)>0)for(let Oh=0;Oh<cu.length;Oh+=2){let $u=cu[Oh+1];Ro.emplaceBack(i.aq[cu[Oh]],$u[0],$u[1])}return[Ph,Ro.length]}(Kt.textAnchorOffsets,BFe);Kt.symbolInstances.emplaceBack(gr.x,gr.y,Jc.right>=0?Jc.right:-1,Jc.center>=0?Jc.center:-1,Jc.left>=0?Jc.left:-1,Jc.vertical||-1,wk,Sk,AY,kFe,qFe,NFe,RFe,LFe,zFe,FFe,jFe,da,TY,CY,Xc,v_,PY,0,to,uu,VFe,UFe)}(l,Qt,Ye,c,f,v,Ut,l.layers[0],l.collisionBoxArray,s.index,s.sourceLayerIndex,l.index,le,[Me,Me,Me,Me],Rt,M,ke,We,or,G,s,w,k,R,S)};if(qt==="line")for(let Ye of dY(s.geometry,0,0,qi,qi)){let Qt=TFe(Ye,_e,ut,c.vertical||X,f,24,de,l.overscaling,qi);for(let Kt of Qt)X&&OFe(l,X.text,Ct,Kt)||jt(Ye,Kt)}else if(qt==="line-center"){for(let Ye of s.geometry)if(Ye.length>1){let Qt=EFe(Ye,ut,c.vertical||X,f,24,de);Qt&&jt(Ye,Qt)}}else if(s.type==="Polygon")for(let Ye of yg(s.geometry,0)){let Qt=AFe(Ye,16);jt(Ye[0],new Dp(Qt.x,Qt.y,0))}else if(s.type==="LineString")for(let Ye of s.geometry)jt(Ye,new Dp(Ye[0].x,Ye[0].y,0));else if(s.type==="Point")for(let Ye of s.geometry)for(let Qt of Ye)jt([Qt],new Dp(Qt.x,Qt.y,0))}function xY(l,s,c,f,v,w,S,C,M,k,R,j,W,G,X){let Q=function(ke,_e,Me,We,ut,Rt,or,qt){let Ct=We.layout.get("text-rotate").evaluate(Rt,{})*Math.PI/180,Jt=[];for(let Ut of _e.positionedLines)for(let jt of Ut.positionedGlyphs){if(!jt.rect)continue;let Ye=jt.rect||{},Qt=LZ+1,Kt=!0,gr=1,qn=0,Mn=(ut||qt)&&jt.vertical,Qi=jt.metrics.advance*jt.scale/2;if(qt&&_e.verticalizable&&(qn=Ut.lineOffset/2-(jt.imageName?-(Bi-jt.metrics.width*jt.scale)/2:(jt.scale-1)*Bi)),jt.imageName){let un=or[jt.imageName];Kt=un.sdf,gr=un.pixelRatio,Qt=ja/gr}let vl=ut?[jt.x+Qi,jt.y]:[0,0],bo=ut?[0,0]:[jt.x+Qi+Me[0],jt.y+Me[1]-qn],eo=[0,0];Mn&&(eo=bo,bo=[0,0]);let ca=jt.metrics.isDoubleResolution?2:1,da=(jt.metrics.left-Qt)*jt.scale-Qi+bo[0],pa=(-jt.metrics.top-Qt)*jt.scale+bo[1],Si=da+Ye.w/ca*jt.scale/gr,to=pa+Ye.h/ca*jt.scale/gr,No=new y(da,pa),xo=new y(Si,pa),fa=new y(da,to),wo=new y(Si,to);if(Mn){let un=new y(-Qi,Qi-c_),Fn=-Math.PI/2,Jn=Bi/2-Qi,us=new y(5-c_-Jn,-(jt.imageName?Jn:0)),mi=new y(...eo);No._rotateAround(Fn,un)._add(us)._add(mi),xo._rotateAround(Fn,un)._add(us)._add(mi),fa._rotateAround(Fn,un)._add(us)._add(mi),wo._rotateAround(Fn,un)._add(us)._add(mi)}if(Ct){let un=Math.sin(Ct),Fn=Math.cos(Ct),Jn=[Fn,-un,un,Fn];No._matMult(Jn),xo._matMult(Jn),fa._matMult(Jn),wo._matMult(Jn)}let Ws=new y(0,0),Ba=new y(0,0);Jt.push({tl:No,tr:xo,bl:fa,br:wo,tex:Ye,writingMode:_e.writingMode,glyphOffset:vl,sectionIndex:jt.sectionIndex,isSDF:Kt,pixelOffsetTL:Ws,pixelOffsetBR:Ba,minFontScaleX:0,minFontScaleY:0})}return Jt}(0,c,C,v,w,S,f,l.allowVerticalPlacement),le=l.textSizeData,de=null;le.kind==="source"?(de=[Bu*v.layout.get("text-size").evaluate(S,{})],de[0]>Pp&&$e(`${l.layerIds[0]}: Value for "text-size" is >= ${p_}. Reduce your "text-size".`)):le.kind==="composite"&&(de=[Bu*G.compositeTextSizes[0].evaluate(S,{},X),Bu*G.compositeTextSizes[1].evaluate(S,{},X)],(de[0]>Pp||de[1]>Pp)&&$e(`${l.layerIds[0]}: Value for "text-size" is >= ${p_}. Reduce your "text-size".`)),l.addSymbols(l.text,Q,de,C,w,S,k,s,M.lineStartIndex,M.lineLength,W,X);for(let ke of R)j[ke]=l.text.placedSymbolArray.length-1;return 4*Q.length}function wY(l){for(let s in l)return l[s];return null}function OFe(l,s,c,f){let v=l.compareText;if(s in v){let w=v[s];for(let S=w.length-1;S>=0;S--)if(f.dist(w[S])<c)return!0}else v[s]=[];return v[s].push(f),!1}let SY=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class mk{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[c,f]=new Uint8Array(s,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");let v=f>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);let w=SY[15&f];if(!w)throw new Error("Unrecognized array type.");let[S]=new Uint16Array(s,2,1),[C]=new Uint32Array(s,4,1);return new mk(C,S,w,s)}constructor(s,c=64,f=Float64Array,v){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let w=SY.indexOf(this.ArrayType),S=2*s*this.ArrayType.BYTES_PER_ELEMENT,C=s*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-C%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${f}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+M,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+S+C+M),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+M,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=s)}add(s,c){let f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=s,this.coords[this._pos++]=c,f}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return gk(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,c,f,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:w,coords:S,nodeSize:C}=this,M=[0,w.length-1,0],k=[];for(;M.length;){let R=M.pop()||0,j=M.pop()||0,W=M.pop()||0;if(j-W<=C){for(let le=W;le<=j;le++){let de=S[2*le],ke=S[2*le+1];de>=s&&de<=f&&ke>=c&&ke<=v&&k.push(w[le])}continue}let G=W+j>>1,X=S[2*G],Q=S[2*G+1];X>=s&&X<=f&&Q>=c&&Q<=v&&k.push(w[G]),(R===0?s<=X:c<=Q)&&(M.push(W),M.push(G-1),M.push(1-R)),(R===0?f>=X:v>=Q)&&(M.push(G+1),M.push(j),M.push(1-R))}return k}within(s,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:v,coords:w,nodeSize:S}=this,C=[0,v.length-1,0],M=[],k=f*f;for(;C.length;){let R=C.pop()||0,j=C.pop()||0,W=C.pop()||0;if(j-W<=S){for(let le=W;le<=j;le++)EY(w[2*le],w[2*le+1],s,c)<=k&&M.push(v[le]);continue}let G=W+j>>1,X=w[2*G],Q=w[2*G+1];EY(X,Q,s,c)<=k&&M.push(v[G]),(R===0?s-f<=X:c-f<=Q)&&(C.push(W),C.push(G-1),C.push(1-R)),(R===0?s+f>=X:c+f>=Q)&&(C.push(G+1),C.push(j),C.push(1-R))}return M}}function gk(l,s,c,f,v,w){if(v-f<=c)return;let S=f+v>>1;IY(l,s,S,f,v,w),gk(l,s,c,f,S-1,1-w),gk(l,s,c,S+1,v,1-w)}function IY(l,s,c,f,v,w){for(;v>f;){if(v-f>600){let k=v-f+1,R=c-f+1,j=Math.log(k),W=.5*Math.exp(2*j/3),G=.5*Math.sqrt(j*W*(k-W)/k)*(R-k/2<0?-1:1);IY(l,s,c,Math.max(f,Math.floor(c-R*W/k+G)),Math.min(v,Math.floor(c+(k-R)*W/k+G)),w)}let S=s[2*c+w],C=f,M=v;for(m_(l,s,f,c),s[2*v+w]>S&&m_(l,s,f,v);C<M;){for(m_(l,s,C,M),C++,M--;s[2*C+w]<S;)C++;for(;s[2*M+w]>S;)M--}s[2*f+w]===S?m_(l,s,f,M):(M++,m_(l,s,M,v)),M<=c&&(f=M+1),c<=M&&(v=M-1)}}function m_(l,s,c,f){vk(l,c,f),vk(s,2*c,2*f),vk(s,2*c+1,2*f+1)}function vk(l,s,c){let f=l[s];l[s]=l[c],l[c]=f}function EY(l,s,c,f){let v=l-c,w=s-f;return v*v+w*w}var yk;i.bg=void 0,(yk=i.bg||(i.bg={})).create="create",yk.load="load",yk.fullLoad="fullLoad";let AI=null,g_=[],_k=1e3/60,bk="loadTime",xk="fullLoadTime",DFe={mark(l){performance.mark(l)},frame(l){let s=l;AI!=null&&g_.push(s-AI),AI=s},clearMetrics(){AI=null,g_=[],performance.clearMeasures(bk),performance.clearMeasures(xk);for(let l in i.bg)performance.clearMarks(i.bg[l])},getPerformanceMetrics(){performance.measure(bk,i.bg.create,i.bg.load),performance.measure(xk,i.bg.create,i.bg.fullLoad);let l=performance.getEntriesByName(bk)[0].duration,s=performance.getEntriesByName(xk)[0].duration,c=g_.length,f=1/(g_.reduce((w,S)=>w+S,0)/c/1e3),v=g_.filter(w=>w>_k).reduce((w,S)=>w+(S-_k)/_k,0);return{loadTime:l,fullLoadTime:s,fps:f,percentDroppedFrames:v/(c+v)*100,totalFrames:c}}};i.$=class extends V{},i.A=Gg,i.B=MD,i.C=function(l){if(Je==null){let s=l.navigator?l.navigator.userAgent:null;Je=!!l.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Je},i.D=Zt,i.E=Dt,i.F=class{constructor(l,s){this.target=l,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new SFe(()=>this.process()),this.subscription=function(c,f,v,w){return c.addEventListener(f,v,!1),{unsubscribe:()=>{c.removeEventListener(f,v,!1)}}}(this.target,"message",c=>this.receive(c)),this.globalScope=Re(self)?l:window}registerMessageHandler(l,s){this.messageHandlers[l]=s}sendAsync(l,s){return new Promise((c,f)=>{let v=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[v]={resolve:c,reject:f},s&&s.signal.addEventListener("abort",()=>{delete this.resolveRejects[v];let C={id:v,type:"<cancel>",origin:location.origin,targetMapId:l.targetMapId,sourceMapId:this.mapId};this.target.postMessage(C)},{once:!0});let w=[],S=Object.assign(Object.assign({},l),{id:v,sourceMapId:this.mapId,origin:location.origin,data:yp(l.data,w)});this.target.postMessage(S,{transfer:w})})}receive(l){let s=l.data,c=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[c];let f=this.abortControllers[c];return delete this.abortControllers[c],void(f&&f.abort())}if(Re(self)||s.mustQueue)return this.tasks[c]=s,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,s)}}process(){if(this.taskQueue.length===0)return;let l=this.taskQueue.shift(),s=this.tasks[l];delete this.tasks[l],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(l,s)}processTask(l,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let v=this.resolveRejects[l];return delete this.resolveRejects[l],v?void(s.error?v.reject(_p(s.error)):v.resolve(_p(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(l,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let c=_p(s.data),f=new AbortController;this.abortControllers[l]=f;try{let v=yield this.messageHandlers[s.type](s.sourceMapId,c,f);this.completeTask(l,null,v)}catch(v){this.completeTask(l,v)}})}completeTask(l,s,c){let f=[];delete this.abortControllers[l];let v={id:l,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?yp(s):null,data:yp(c,f)};this.target.postMessage(v,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.G=at,i.H=function(){var l=new Gg(16);return Gg!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},i.I=rk,i.J=function(l,s,c){var f,v,w,S,C,M,k,R,j,W,G,X,Q=c[0],le=c[1],de=c[2];return s===l?(l[12]=s[0]*Q+s[4]*le+s[8]*de+s[12],l[13]=s[1]*Q+s[5]*le+s[9]*de+s[13],l[14]=s[2]*Q+s[6]*le+s[10]*de+s[14],l[15]=s[3]*Q+s[7]*le+s[11]*de+s[15]):(v=s[1],w=s[2],S=s[3],C=s[4],M=s[5],k=s[6],R=s[7],j=s[8],W=s[9],G=s[10],X=s[11],l[0]=f=s[0],l[1]=v,l[2]=w,l[3]=S,l[4]=C,l[5]=M,l[6]=k,l[7]=R,l[8]=j,l[9]=W,l[10]=G,l[11]=X,l[12]=f*Q+C*le+j*de+s[12],l[13]=v*Q+M*le+W*de+s[13],l[14]=w*Q+k*le+G*de+s[14],l[15]=S*Q+R*le+X*de+s[15]),l},i.K=function(l,s,c){var f=c[0],v=c[1],w=c[2];return l[0]=s[0]*f,l[1]=s[1]*f,l[2]=s[2]*f,l[3]=s[3]*f,l[4]=s[4]*v,l[5]=s[5]*v,l[6]=s[6]*v,l[7]=s[7]*v,l[8]=s[8]*w,l[9]=s[9]*w,l[10]=s[10]*w,l[11]=s[11]*w,l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.L=oZ,i.M=function(l,s){let c={};for(let f=0;f<s.length;f++){let v=s[f];v in l&&(c[v]=l[v])}return c},i.N=Op,i.O=eY,i.P=y,i.Q=tY,i.R=$s,i.S=Hs,i.T=Lg,i.U=F,i.V=q,i.W=Le,i.X=qi,i.Y=A,i.Z=f_,i._=o,i.a=je,i.a$=function(l,s){var c=l[0],f=l[1],v=l[2],w=l[3],S=l[4],C=l[5],M=l[6],k=l[7],R=l[8],j=l[9],W=l[10],G=l[11],X=l[12],Q=l[13],le=l[14],de=l[15],ke=s[0],_e=s[1],Me=s[2],We=s[3],ut=s[4],Rt=s[5],or=s[6],qt=s[7],Ct=s[8],Jt=s[9],Ut=s[10],jt=s[11],Ye=s[12],Qt=s[13],Kt=s[14],gr=s[15];return Math.abs(c-ke)<=ua*Math.max(1,Math.abs(c),Math.abs(ke))&&Math.abs(f-_e)<=ua*Math.max(1,Math.abs(f),Math.abs(_e))&&Math.abs(v-Me)<=ua*Math.max(1,Math.abs(v),Math.abs(Me))&&Math.abs(w-We)<=ua*Math.max(1,Math.abs(w),Math.abs(We))&&Math.abs(S-ut)<=ua*Math.max(1,Math.abs(S),Math.abs(ut))&&Math.abs(C-Rt)<=ua*Math.max(1,Math.abs(C),Math.abs(Rt))&&Math.abs(M-or)<=ua*Math.max(1,Math.abs(M),Math.abs(or))&&Math.abs(k-qt)<=ua*Math.max(1,Math.abs(k),Math.abs(qt))&&Math.abs(R-Ct)<=ua*Math.max(1,Math.abs(R),Math.abs(Ct))&&Math.abs(j-Jt)<=ua*Math.max(1,Math.abs(j),Math.abs(Jt))&&Math.abs(W-Ut)<=ua*Math.max(1,Math.abs(W),Math.abs(Ut))&&Math.abs(G-jt)<=ua*Math.max(1,Math.abs(G),Math.abs(jt))&&Math.abs(X-Ye)<=ua*Math.max(1,Math.abs(X),Math.abs(Ye))&&Math.abs(Q-Qt)<=ua*Math.max(1,Math.abs(Q),Math.abs(Qt))&&Math.abs(le-Kt)<=ua*Math.max(1,Math.abs(le),Math.abs(Kt))&&Math.abs(de-gr)<=ua*Math.max(1,Math.abs(de),Math.abs(gr))},i.a0=Xr,i.a1=pk,i.a2=st,i.a3=l=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(c=>{s.onloadstart=()=>{c(s)};for(let f of l){let v=window.document.createElement("source");Te(f)||(s.crossOrigin="Anonymous"),v.src=f,s.appendChild(v)}})},i.a4=function(){return ue++},i.a5=Nt,i.a6=Qg,i.a7=k1,i.a8=Ah,i.a9=sY,i.aA=function(l){if(l.type==="custom")return new wFe(l);switch(l.type){case"background":return new _Fe(l);case"circle":return new a7e(l);case"fill":return new S7e(l);case"fill-extrusion":return new z7e(l);case"heatmap":return new l7e(l);case"hillshade":return new c7e(l);case"line":return new W7e(l);case"raster":return new xFe(l);case"symbol":return new SI(l);}},i.aB=be,i.aC=function(l,s){if(!l)return[{command:"setStyle",args:[s]}];let c=[];try{if(!gt(l.version,s.version))return[{command:"setStyle",args:[s]}];gt(l.center,s.center)||c.push({command:"setCenter",args:[s.center]}),gt(l.zoom,s.zoom)||c.push({command:"setZoom",args:[s.zoom]}),gt(l.bearing,s.bearing)||c.push({command:"setBearing",args:[s.bearing]}),gt(l.pitch,s.pitch)||c.push({command:"setPitch",args:[s.pitch]}),gt(l.sprite,s.sprite)||c.push({command:"setSprite",args:[s.sprite]}),gt(l.glyphs,s.glyphs)||c.push({command:"setGlyphs",args:[s.glyphs]}),gt(l.transition,s.transition)||c.push({command:"setTransition",args:[s.transition]}),gt(l.light,s.light)||c.push({command:"setLight",args:[s.light]}),gt(l.terrain,s.terrain)||c.push({command:"setTerrain",args:[s.terrain]}),gt(l.sky,s.sky)||c.push({command:"setSky",args:[s.sky]}),gt(l.projection,s.projection)||c.push({command:"setProjection",args:[s.projection]});let f={},v=[];(function(S,C,M,k){let R;for(R in C=C||{},S=S||{})Object.prototype.hasOwnProperty.call(S,R)&&(Object.prototype.hasOwnProperty.call(C,R)||Vt(R,M,k));for(R in C)Object.prototype.hasOwnProperty.call(C,R)&&(Object.prototype.hasOwnProperty.call(S,R)?gt(S[R],C[R])||(S[R].type==="geojson"&&C[R].type==="geojson"&&$r(S,C,R)?Ht(M,{command:"setGeoJSONSourceData",args:[R,C[R].data]}):pr(R,C,M,k)):dr(R,C,M))})(l.sources,s.sources,v,f);let w=[];l.layers&&l.layers.forEach(S=>{"source"in S&&f[S.source]?c.push({command:"removeLayer",args:[S.id]}):w.push(S)}),c=c.concat(v),function(S,C,M){C=C||[];let k=(S=S||[]).map(sr),R=C.map(sr),j=S.reduce(Qr,{}),W=C.reduce(Qr,{}),G=k.slice(),X=Object.create(null),Q,le,de,ke,_e;for(let Me=0,We=0;Me<k.length;Me++)Q=k[Me],Object.prototype.hasOwnProperty.call(W,Q)?We++:(Ht(M,{command:"removeLayer",args:[Q]}),G.splice(G.indexOf(Q,We),1));for(let Me=0,We=0;Me<R.length;Me++)Q=R[R.length-1-Me],G[G.length-1-Me]!==Q&&(Object.prototype.hasOwnProperty.call(j,Q)?(Ht(M,{command:"removeLayer",args:[Q]}),G.splice(G.lastIndexOf(Q,G.length-We),1)):We++,ke=G[G.length-Me],Ht(M,{command:"addLayer",args:[W[Q],ke]}),G.splice(G.length-Me,0,Q),X[Q]=!0);for(let Me=0;Me<R.length;Me++)if(Q=R[Me],le=j[Q],de=W[Q],!X[Q]&&!gt(le,de))if(gt(le.source,de.source)&&gt(le["source-layer"],de["source-layer"])&&gt(le.type,de.type)){for(_e in jr(le.layout,de.layout,M,Q,null,"setLayoutProperty"),jr(le.paint,de.paint,M,Q,null,"setPaintProperty"),gt(le.filter,de.filter)||Ht(M,{command:"setFilter",args:[Q,de.filter]}),gt(le.minzoom,de.minzoom)&&gt(le.maxzoom,de.maxzoom)||Ht(M,{command:"setLayerZoomRange",args:[Q,de.minzoom,de.maxzoom]}),le)Object.prototype.hasOwnProperty.call(le,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?jr(le[_e],de[_e],M,Q,_e.slice(6),"setPaintProperty"):gt(le[_e],de[_e])||Ht(M,{command:"setLayerProperty",args:[Q,_e,de[_e]]}));for(_e in de)Object.prototype.hasOwnProperty.call(de,_e)&&!Object.prototype.hasOwnProperty.call(le,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?jr(le[_e],de[_e],M,Q,_e.slice(6),"setPaintProperty"):gt(le[_e],de[_e])||Ht(M,{command:"setLayerProperty",args:[Q,_e,de[_e]]}))}else Ht(M,{command:"removeLayer",args:[Q]}),ke=G[G.lastIndexOf(Q)+1],Ht(M,{command:"addLayer",args:[de,ke]})}(w,s.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:"setStyle",args:[s]}]}return c},i.aD=function(l){let s=[],c=l.id;return c===void 0&&s.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&s.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},i.aE=function l(s,c){if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(let f=0;f<s.length;f++)if(!l(s[f],c[f]))return!1;return!0}if(typeof s=="object"&&s!==null&&c!==null){if(typeof c!="object"||Object.keys(s).length!==Object.keys(c).length)return!1;for(let f in s)if(!l(s[f],c[f]))return!1;return!0}return s===c},i.aF=ve,i.aG=Oe,i.aH=class extends Eh{constructor(l,s){super(l,s),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},i.aI=cI,i.aJ=class extends Eh{constructor(l,s){super(l,s),this.current=J8e}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let s=1;s<16;s++)if(l[s]!==this.current[s]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},i.aK=ZG,i.aL=YG,i.aM=Sn,i.aN=class extends Eh{constructor(l,s){super(l,s),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},i.aO=class extends Eh{constructor(l,s){super(l,s),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},i.aP=function(l,s,c,f,v,w,S){var C=1/(s-c),M=1/(f-v),k=1/(w-S);return l[0]=-2*C,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*M,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*k,l[11]=0,l[12]=(s+c)*C,l[13]=(v+f)*M,l[14]=(S+w)*k,l[15]=1,l},i.aQ=o7e,i.aR=class extends Ie{},i.aS=K7e,i.aT=class extends Ne{},i.aU=$D,i.aV=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},i.aW=cZ,i.aX=vo,i.aY=Us,i.aZ=class extends Yt{},i.a_=function(l,s){return l[0]===s[0]&&l[1]===s[1]&&l[2]===s[2]&&l[3]===s[3]&&l[4]===s[4]&&l[5]===s[5]&&l[6]===s[6]&&l[7]===s[7]&&l[8]===s[8]&&l[9]===s[9]&&l[10]===s[10]&&l[11]===s[11]&&l[12]===s[12]&&l[13]===s[13]&&l[14]===s[14]&&l[15]===s[15]},i.aa=function(l){let s={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,v,w)=>{let S=v||w;return s[f]=!S||S.toLowerCase(),""}),s["max-age"]){let c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s},i.ab=function(l,s){let c=[];for(let f in l)f in s||c.push(f);return c},i.ac=Z,i.ad=function(l,s,c){var f=Math.sin(c),v=Math.cos(c),w=s[0],S=s[1],C=s[2],M=s[3],k=s[4],R=s[5],j=s[6],W=s[7];return s!==l&&(l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[0]=w*v+k*f,l[1]=S*v+R*f,l[2]=C*v+j*f,l[3]=M*v+W*f,l[4]=k*v-w*f,l[5]=R*v-S*f,l[6]=j*v-C*f,l[7]=W*v-M*f,l},i.ae=function(l){var s=new Gg(16);return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[8]=l[8],s[9]=l[9],s[10]=l[10],s[11]=l[11],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15],s},i.af=hI,i.ag=function(l,s){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){let{interpolationType:v,minZoom:w,maxZoom:S}=l,C=v?Z(sa.interpolationFactor(v,s,w,S),0,1):0;l.kind==="camera"?f=aa.number(l.minSize,l.maxSize,C):c=C}return{uSizeT:c,uSize:f}},i.ai=function(l,{uSize:s,uSizeT:c},{lowerSize:f,upperSize:v}){return l.kind==="source"?f/Bu:l.kind==="composite"?aa.number(f/Bu,v/Bu,c):s},i.aj=ak,i.ak=function(l,s,c,f){let v=s.y-l.y,w=s.x-l.x,S=f.y-c.y,C=f.x-c.x,M=S*w-C*v;if(M===0)return null;let k=(C*(l.y-c.y)-S*(l.x-c.x))/M;return new y(l.x+k*w,l.y+k*v)},i.al=dY,i.am=QG,i.an=BD,i.ao=function(l){let s=1/0,c=1/0,f=-1/0,v=-1/0;for(let w of l)s=Math.min(s,w.x),c=Math.min(c,w.y),f=Math.max(f,w.x),v=Math.max(v,w.y);return[s,c,f,v]},i.ap=Bi,i.ar=ok,i.as=function(l,s){var c=s[0],f=s[1],v=s[2],w=s[3],S=s[4],C=s[5],M=s[6],k=s[7],R=s[8],j=s[9],W=s[10],G=s[11],X=s[12],Q=s[13],le=s[14],de=s[15],ke=c*C-f*S,_e=c*M-v*S,Me=c*k-w*S,We=f*M-v*C,ut=f*k-w*C,Rt=v*k-w*M,or=R*Q-j*X,qt=R*le-W*X,Ct=R*de-G*X,Jt=j*le-W*Q,Ut=j*de-G*Q,jt=W*de-G*le,Ye=ke*jt-_e*Ut+Me*Jt+We*Ct-ut*qt+Rt*or;return Ye?(l[0]=(C*jt-M*Ut+k*Jt)*(Ye=1/Ye),l[1]=(v*Ut-f*jt-w*Jt)*Ye,l[2]=(Q*Rt-le*ut+de*We)*Ye,l[3]=(W*ut-j*Rt-G*We)*Ye,l[4]=(M*Ct-S*jt-k*qt)*Ye,l[5]=(c*jt-v*Ct+w*qt)*Ye,l[6]=(le*Me-X*Rt-de*_e)*Ye,l[7]=(R*Rt-W*Me+G*_e)*Ye,l[8]=(S*Ut-C*Ct+k*or)*Ye,l[9]=(f*Ct-c*Ut-w*or)*Ye,l[10]=(X*ut-Q*Me+de*ke)*Ye,l[11]=(j*Me-R*ut-G*ke)*Ye,l[12]=(C*qt-S*Jt-M*or)*Ye,l[13]=(c*Jt-f*qt+v*or)*Ye,l[14]=(Q*_e-X*We-le*ke)*Ye,l[15]=(R*We-j*_e+W*ke)*Ye,l):null},i.at=hk,i.au=ik,i.av=mk,i.aw=function(){let l={},s=we.$version;for(let c in we.$root){let f=we.$root[c];if(f.required){let v=null;v=c==="version"?s:f.type==="array"?[]:{},v!=null&&(l[c]=v)}}return l},i.ax=G1,i.ay=he,i.az=function(l){l=l.slice();let s=Object.create(null);for(let c=0;c<l.length;c++)s[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=$t(l[c],s[l[c].ref]));return l},i.b=ot,i.b0=function(l,s){return l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[4]=s[4],l[5]=s[5],l[6]=s[6],l[7]=s[7],l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.b1=function(l,s,c){return l[0]=s[0]*c[0],l[1]=s[1]*c[1],l[2]=s[2]*c[2],l[3]=s[3]*c[3],l},i.b2=function(l,s){return l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3]},i.b3=ee,i.b4=iY,i.b5=rY,i.b6=function(l,s,c,f,v){var w,S=1/Math.tan(s/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,v!=null&&v!==1/0?(l[10]=(v+f)*(w=1/(f-v)),l[14]=2*v*f*w):(l[10]=-1,l[14]=-2*f),l},i.b7=function(l,s,c){var f=Math.sin(c),v=Math.cos(c),w=s[4],S=s[5],C=s[6],M=s[7],k=s[8],R=s[9],j=s[10],W=s[11];return s!==l&&(l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[4]=w*v+k*f,l[5]=S*v+R*f,l[6]=C*v+j*f,l[7]=M*v+W*f,l[8]=k*v-w*f,l[9]=R*v-S*f,l[10]=j*v-C*f,l[11]=W*v-M*f,l},i.b8=N,i.b9=B,i.bA=PZ,i.bB=function(l){return l.message===lt},i.bC=dp,i.bD=za,i.ba=function(l){return l*Math.PI/180},i.bb=function(l,s){let{x:c,y:f}=f_.fromLngLat(s);return!(l<0||l>25||f<0||f>=1||c<0||c>=1)},i.bc=function(l,s){return l[0]=s[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=s[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=s[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},i.bd=class extends L{},i.be=ck,i.bf=DFe,i.bh=De,i.bi=function(l,s){je.REGISTERED_PROTOCOLS[l]=s},i.bj=function(l){delete je.REGISTERED_PROTOCOLS[l]},i.bk=function(l,s){let c={};for(let v=0;v<l.length;v++){let w=s&&s[l[v].id]||J2(l[v]);s&&(s[l[v].id]=w);let S=c[w];S||(S=c[w]=[]),S.push(l[v])}let f=[];for(let v in c)f.push(c[v]);return f},i.bl=Bt,i.bm=aY,i.bn=lY,i.bo=FZ,i.bp=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=qi/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;let s=l.bucket.layers[0],c=s.layout,f=s._unevaluatedLayout._values,v={layoutIconSize:f["icon-size"].possiblyEvaluate(new Zn(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new Zn(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new Zn(18))};if(l.bucket.textSizeData.kind==="composite"){let{minZoom:k,maxZoom:R}=l.bucket.textSizeData;v.compositeTextSizes=[f["text-size"].possiblyEvaluate(new Zn(k),l.canonical),f["text-size"].possiblyEvaluate(new Zn(R),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){let{minZoom:k,maxZoom:R}=l.bucket.iconSizeData;v.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new Zn(k),l.canonical),f["icon-size"].possiblyEvaluate(new Zn(R),l.canonical)]}let w=c.get("text-line-height")*Bi,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",C=c.get("text-keep-upright"),M=c.get("text-size");for(let k of l.bucket.features){let R=c.get("text-font").evaluate(k,{},l.canonical).join(","),j=M.evaluate(k,{},l.canonical),W=v.layoutTextSize.evaluate(k,{},l.canonical),G=v.layoutIconSize.evaluate(k,{},l.canonical),X={horizontal:{},vertical:void 0},Q=k.text,le,de=[0,0];if(Q){let Me=Q.toString(),We=c.get("text-letter-spacing").evaluate(k,{},l.canonical)*Bi,ut=PD(Me)?We:0,Rt=c.get("text-anchor").evaluate(k,{},l.canonical),or=bY(s,k,l.canonical);if(!or){let Ut=c.get("text-radial-offset").evaluate(k,{},l.canonical);de=Ut?_Y(Rt,[Ut*Bi,fk]):c.get("text-offset").evaluate(k,{},l.canonical).map(jt=>jt*Bi)}let qt=S?"center":c.get("text-justify").evaluate(k,{},l.canonical),Ct=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(k,{},l.canonical)*Bi:1/0,Jt=()=>{l.bucket.allowVerticalPlacement&&Z1(Me)&&(X.vertical=bI(Q,l.glyphMap,l.glyphPositions,l.imagePositions,R,Ct,w,Rt,"left",ut,de,i.ah.vertical,!0,W,j))};if(!S&&or){let Ut=new Set;if(qt==="auto")for(let Ye=0;Ye<or.values.length;Ye+=2)Ut.add(hk(or.values[Ye]));else Ut.add(qt);let jt=!1;for(let Ye of Ut)if(!X.horizontal[Ye])if(jt)X.horizontal[Ye]=X.horizontal[0];else{let Qt=bI(Q,l.glyphMap,l.glyphPositions,l.imagePositions,R,Ct,w,"center",Ye,ut,de,i.ah.horizontal,!1,W,j);Qt&&(X.horizontal[Ye]=Qt,jt=Qt.positionedLines.length===1)}Jt()}else{qt==="auto"&&(qt=hk(Rt));let Ut=bI(Q,l.glyphMap,l.glyphPositions,l.imagePositions,R,Ct,w,Rt,qt,ut,de,i.ah.horizontal,!1,W,j);Ut&&(X.horizontal[qt]=Ut),Jt(),Z1(Me)&&S&&C&&(X.vertical=bI(Q,l.glyphMap,l.glyphPositions,l.imagePositions,R,Ct,w,Rt,qt,ut,de,i.ah.vertical,!1,W,j))}}let ke=!1;if(k.icon&&k.icon.name){let Me=l.imageMap[k.icon.name];Me&&(le=hFe(l.imagePositions[k.icon.name],c.get("icon-offset").evaluate(k,{},l.canonical),c.get("icon-anchor").evaluate(k,{},l.canonical)),ke=!!Me.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=ke:l.bucket.sdfIcons!==ke&&$e("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Me.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}let _e=wY(X.horizontal)||X.vertical;l.bucket.iconsInText=!!_e&&_e.iconsInText,(_e||le)&&PFe(l.bucket,k,X,le,l.imageMap,v,W,G,de,ke,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},i.bq=JD,i.br=YD,i.bs=XD,i.bt=Ap,i.bu=ek,i.bv=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},i.bw=function(l,s,c,f,v){return o(this,void 0,void 0,function*(){if(q())try{return yield Le(l,s,c,f,v)}catch(w){}return function(w,S,C,M,k){let R=w.width,j=w.height;Pe&&Qe||(Pe=new OffscreenCanvas(R,j),Qe=Pe.getContext("2d",{willReadFrequently:!0})),Pe.width=R,Pe.height=j,Qe.drawImage(w,0,0,R,j);let W=Qe.getImageData(S,C,M,k);return Qe.clearRect(0,0,R,j),W.data}(l,s,c,f,v)})},i.bx=oY,i.by=u,i.bz=p,i.c=pt,i.d=l=>o(void 0,void 0,void 0,function*(){if(l.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(l)],{type:"image/png"});try{return createImageBitmap(s)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.e=ae,i.f=l=>new Promise((s,c)=>{let f=new Image;f.onload=()=>{s(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=Be})},f.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let v=new Blob([new Uint8Array(l)],{type:"image/png"});f.src=l.byteLength?URL.createObjectURL(v):Be}),i.g=Ge,i.h=(l,s)=>qe(ae(l,{type:"json"}),s),i.i=Re,i.j=It,i.k=St,i.l=(l,s)=>qe(ae(l,{type:"arrayBuffer"}),s),i.m=qe,i.n=function(l){return new ek(l).readFields(sFe,[])},i.o=n_,i.p=zZ,i.q=b,i.r=AD,i.s=Te,i.t=H1,i.u=Gc,i.v=we,i.w=$e,i.x=function([l,s,c]){return s+=90,s*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(s)*Math.sin(c),y:l*Math.sin(s)*Math.sin(c),z:l*Math.cos(c)}},i.y=aa,i.z=Zn}),r("worker",["./shared"],function(i){"use strict";class o{constructor(H){this.keyCache={},H&&this.replace(H)}replace(H){this._layerConfigs={},this._layers={},this.update(H,[])}update(H,$){for(let ie of H){this._layerConfigs[ie.id]=ie;let ge=this._layers[ie.id]=i.aA(ie);ge._featureFilter=i.a7(ge.filter),this.keyCache[ie.id]&&delete this.keyCache[ie.id]}for(let ie of $)delete this.keyCache[ie],delete this._layerConfigs[ie],delete this._layers[ie];this.familiesBySource={};let Y=i.bk(Object.values(this._layerConfigs),this.keyCache);for(let ie of Y){let ge=ie.map(Fe=>this._layers[Fe.id]),xe=ge[0];if(xe.visibility==="none")continue;let Ee=xe.source||"",fe=this.familiesBySource[Ee];fe||(fe=this.familiesBySource[Ee]={});let Ve=xe.sourceLayer||"_geojsonTileLayer",et=fe[Ve];et||(et=fe[Ve]=[]),et.push(ge)}}}class u{constructor(H){let $={},Y=[];for(let Ee in H){let fe=H[Ee],Ve=$[Ee]={};for(let et in fe){let Fe=fe[+et];if(!Fe||Fe.bitmap.width===0||Fe.bitmap.height===0)continue;let ht={x:0,y:0,w:Fe.bitmap.width+2,h:Fe.bitmap.height+2};Y.push(ht),Ve[et]={rect:ht,metrics:Fe.metrics}}}let{w:ie,h:ge}=i.p(Y),xe=new i.o({width:ie||1,height:ge||1});for(let Ee in H){let fe=H[Ee];for(let Ve in fe){let et=fe[+Ve];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;let Fe=$[Ee][Ve].rect;i.o.copy(et.bitmap,xe,{x:0,y:0},{x:Fe.x+1,y:Fe.y+1},et.bitmap)}}this.image=xe,this.positions=$}}i.bl("GlyphAtlas",u);class p{constructor(H){this.tileID=new i.S(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId,this.inFlightDependencies=[]}parse(H,$,Y,ie){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=H,this.collisionBoxArray=new i.a5;let ge=new i.bm(Object.keys(H.layers).sort()),xe=new i.bn(this.tileID,this.promoteId);xe.bucketLayerIDs=[];let Ee={},fe={featureIndex:xe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Y},Ve=$.familiesBySource[this.source];for(let kr in Ve){let wn=H.layers[kr];if(!wn)continue;wn.version===1&&i.w(`Vector tile source "${this.source}" layer "${kr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let ni=ge.encode(kr),Ji=[];for(let oo=0;oo<wn.length;oo++){let Do=wn.feature(oo),ep=xe.getId(Do,kr);Ji.push({feature:Do,id:ep,index:oo,sourceLayerIndex:ni})}for(let oo of Ve[kr]){let Do=oo[0];Do.source!==this.source&&i.w(`layer.source = ${Do.source} does not equal this.source = ${this.source}`),Do.minzoom&&this.zoom<Math.floor(Do.minzoom)||Do.maxzoom&&this.zoom>=Do.maxzoom||Do.visibility!=="none"&&(h(oo,this.zoom,Y),(Ee[Do.id]=Do.createBucket({index:xe.bucketLayerIDs.length,layers:oo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ni,sourceID:this.source})).populate(Ji,fe,this.tileID.canonical),xe.bucketLayerIDs.push(oo.map(ep=>ep.id)))}}let et=i.aF(fe.glyphDependencies,kr=>Object.keys(kr).map(Number));this.inFlightDependencies.forEach(kr=>kr==null?void 0:kr.abort()),this.inFlightDependencies=[];let Fe=Promise.resolve({});if(Object.keys(et).length){let kr=new AbortController;this.inFlightDependencies.push(kr),Fe=ie.sendAsync({type:"GG",data:{stacks:et,source:this.source,tileID:this.tileID,type:"glyphs"}},kr)}let ht=Object.keys(fe.iconDependencies),Gt=Promise.resolve({});if(ht.length){let kr=new AbortController;this.inFlightDependencies.push(kr),Gt=ie.sendAsync({type:"GI",data:{icons:ht,source:this.source,tileID:this.tileID,type:"icons"}},kr)}let ir=Object.keys(fe.patternDependencies),nn=Promise.resolve({});if(ir.length){let kr=new AbortController;this.inFlightDependencies.push(kr),nn=ie.sendAsync({type:"GI",data:{icons:ir,source:this.source,tileID:this.tileID,type:"patterns"}},kr)}let[wr,on,Hr]=yield Promise.all([Fe,Gt,nn]),Di=new u(wr),hi=new i.bo(on,Hr);for(let kr in Ee){let wn=Ee[kr];wn instanceof i.a6?(h(wn.layers,this.zoom,Y),i.bp({bucket:wn,glyphMap:wr,glyphPositions:Di.positions,imageMap:on,imagePositions:hi.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):wn.hasPattern&&(wn instanceof i.bq||wn instanceof i.br||wn instanceof i.bs)&&(h(wn.layers,this.zoom,Y),wn.addFeatures(fe,this.tileID.canonical,hi.patternPositions))}return this.status="done",{buckets:Object.values(Ee).filter(kr=>!kr.isEmpty()),featureIndex:xe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Di.image,imageAtlas:hi,glyphMap:this.returnDependencies?wr:null,iconMap:this.returnDependencies?on:null,glyphPositions:this.returnDependencies?Di.positions:null}})}}function h(ne,H,$){let Y=new i.z(H);for(let ie of ne)ie.recalculate(Y,$)}class y{constructor(H,$,Y){this.actor=H,this.layerIndex=$,this.availableImages=Y,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let Y=yield i.l(H.request,$);try{return{vectorTile:new i.bt.VectorTile(new i.bu(Y.data)),rawData:Y.data,cacheControl:Y.cacheControl,expires:Y.expires}}catch(ie){let ge=new Uint8Array(Y.data),xe=`Unable to parse the tile at ${H.request.url}, `;throw xe+=ge[0]===31&&ge[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ie.message}`,new Error(xe)}})}loadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid,Y=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request),ie=new p(H);this.loading[$]=ie;let ge=new AbortController;ie.abort=ge;try{let xe=yield this.loadVectorTile(H,ge);if(delete this.loading[$],!xe)return null;let Ee=xe.rawData,fe={};xe.expires&&(fe.expires=xe.expires),xe.cacheControl&&(fe.cacheControl=xe.cacheControl);let Ve={};if(Y){let Fe=Y.finish();Fe&&(Ve.resourceTiming=JSON.parse(JSON.stringify(Fe)))}ie.vectorTile=xe.vectorTile;let et=ie.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[$]=ie,this.fetching[$]={rawTileData:Ee,cacheControl:fe,resourceTiming:Ve};try{let Fe=yield et;return i.e({rawTileData:Ee.slice(0)},Fe,fe,Ve)}finally{delete this.fetching[$]}}catch(xe){throw delete this.loading[$],ie.status="done",this.loaded[$]=ie,xe}})}reloadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid;if(!this.loaded||!this.loaded[$])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let Y=this.loaded[$];if(Y.showCollisionBoxes=H.showCollisionBoxes,Y.status==="parsing"){let ie=yield Y.parse(Y.vectorTile,this.layerIndex,this.availableImages,this.actor),ge;if(this.fetching[$]){let{rawTileData:xe,cacheControl:Ee,resourceTiming:fe}=this.fetching[$];delete this.fetching[$],ge=i.e({rawTileData:xe.slice(0)},ie,Ee,fe)}else ge=ie;return ge}if(Y.status==="done"&&Y.vectorTile)return Y.parse(Y.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(H){return i._(this,void 0,void 0,function*(){let $=this.loading,Y=H.uid;$&&$[Y]&&$[Y].abort&&($[Y].abort.abort(),delete $[Y])})}removeTile(H){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[H.uid]&&delete this.loaded[H.uid]})}}class x{constructor(){this.loaded={}}loadTile(H){return i._(this,void 0,void 0,function*(){let{uid:$,encoding:Y,rawImageData:ie,redFactor:ge,greenFactor:xe,blueFactor:Ee,baseShift:fe}=H,Ve=ie.width+2,et=ie.height+2,Fe=i.b(ie)?new i.R({width:Ve,height:et},(yield i.bw(ie,-1,-1,Ve,et))):ie,ht=new i.bx($,Fe,Y,ge,xe,Ee,fe);return this.loaded=this.loaded||{},this.loaded[$]=ht,ht})}removeTile(H){let $=this.loaded,Y=H.uid;$&&$[Y]&&delete $[Y]}}function E(ne,H){if(ne.length!==0){T(ne[0],H);for(var $=1;$<ne.length;$++)T(ne[$],!H)}}function T(ne,H){for(var $=0,Y=0,ie=0,ge=ne.length,xe=ge-1;ie<ge;xe=ie++){var Ee=(ne[ie][0]-ne[xe][0])*(ne[xe][1]+ne[ie][1]),fe=$+Ee;Y+=Math.abs($)>=Math.abs(Ee)?$-fe+Ee:Ee-fe+$,$=fe}$+Y>=0!=!!H&&ne.reverse()}var D=i.by(function ne(H,$){var Y,ie=H&&H.type;if(ie==="FeatureCollection")for(Y=0;Y<H.features.length;Y++)ne(H.features[Y],$);else if(ie==="GeometryCollection")for(Y=0;Y<H.geometries.length;Y++)ne(H.geometries[Y],$);else if(ie==="Feature")ne(H.geometry,$);else if(ie==="Polygon")E(H.coordinates,$);else if(ie==="MultiPolygon")for(Y=0;Y<H.coordinates.length;Y++)E(H.coordinates[Y],$);return H});let z=i.bt.VectorTileFeature.prototype.toGeoJSON;var F={exports:{}},q=i.bz,N=i.bt.VectorTileFeature,B=Z;function Z(ne,H){this.options=H||{},this.features=ne,this.length=ne.length}function ee(ne,H){this.id=typeof ne.id=="number"?ne.id:void 0,this.type=ne.type,this.rawGeometry=ne.type===1?[ne.geometry]:ne.geometry,this.properties=ne.tags,this.extent=H||4096}Z.prototype.feature=function(ne){return new ee(this.features[ne],this.options.extent)},ee.prototype.loadGeometry=function(){var ne=this.rawGeometry;this.geometry=[];for(var H=0;H<ne.length;H++){for(var $=ne[H],Y=[],ie=0;ie<$.length;ie++)Y.push(new q($[ie][0],$[ie][1]));this.geometry.push(Y)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ne=this.geometry,H=1/0,$=-1/0,Y=1/0,ie=-1/0,ge=0;ge<ne.length;ge++)for(var xe=ne[ge],Ee=0;Ee<xe.length;Ee++){var fe=xe[Ee];H=Math.min(H,fe.x),$=Math.max($,fe.x),Y=Math.min(Y,fe.y),ie=Math.max(ie,fe.y)}return[H,Y,$,ie]},ee.prototype.toGeoJSON=N.prototype.toGeoJSON;var ae=i.bA,ue=B;function ve(ne){var H=new ae;return function($,Y){for(var ie in $.layers)Y.writeMessage(3,Oe,$.layers[ie])}(ne,H),H.finish()}function Oe(ne,H){var $;H.writeVarintField(15,ne.version||1),H.writeStringField(1,ne.name||""),H.writeVarintField(5,ne.extent||4096);var Y={keys:[],values:[],keycache:{},valuecache:{}};for($=0;$<ne.length;$++)Y.feature=ne.feature($),H.writeMessage(2,be,Y);var ie=Y.keys;for($=0;$<ie.length;$++)H.writeStringField(3,ie[$]);var ge=Y.values;for($=0;$<ge.length;$++)H.writeMessage(4,Je,ge[$])}function be(ne,H){var $=ne.feature;$.id!==void 0&&H.writeVarintField(1,$.id),H.writeMessage(2,ze,ne),H.writeVarintField(3,$.type),H.writeMessage(4,Re,$)}function ze(ne,H){var $=ne.feature,Y=ne.keys,ie=ne.values,ge=ne.keycache,xe=ne.valuecache;for(var Ee in $.properties){var fe=$.properties[Ee],Ve=ge[Ee];if(fe!==null){Ve===void 0&&(Y.push(Ee),ge[Ee]=Ve=Y.length-1),H.writeVarint(Ve);var et=typeof fe;et!=="string"&&et!=="boolean"&&et!=="number"&&(fe=JSON.stringify(fe));var Fe=et+":"+fe,ht=xe[Fe];ht===void 0&&(ie.push(fe),xe[Fe]=ht=ie.length-1),H.writeVarint(ht)}}}function $e(ne,H){return(H<<3)+(7&ne)}function He(ne){return ne<<1^ne>>31}function Re(ne,H){for(var $=ne.loadGeometry(),Y=ne.type,ie=0,ge=0,xe=$.length,Ee=0;Ee<xe;Ee++){var fe=$[Ee],Ve=1;Y===1&&(Ve=fe.length),H.writeVarint($e(1,Ve));for(var et=Y===3?fe.length-1:fe.length,Fe=0;Fe<et;Fe++){Fe===1&&Y!==1&&H.writeVarint($e(2,et-1));var ht=fe[Fe].x-ie,Gt=fe[Fe].y-ge;H.writeVarint(He(ht)),H.writeVarint(He(Gt)),ie+=ht,ge+=Gt}Y===3&&H.writeVarint($e(7,1))}}function Je(ne,H){var $=typeof ne;$==="string"?H.writeStringField(1,ne):$==="boolean"?H.writeBooleanField(7,ne):$==="number"&&(ne%1!=0?H.writeDoubleField(3,ne):ne<0?H.writeSVarintField(6,ne):H.writeVarintField(5,ne))}F.exports=ve,F.exports.fromVectorTileJs=ve,F.exports.fromGeojsonVt=function(ne,H){H=H||{};var $={};for(var Y in ne)$[Y]=new ue(ne[Y].features,H),$[Y].name=Y,$[Y].version=H.version,$[Y].extent=H.extent;return ve({layers:$})},F.exports.GeoJSONWrapper=ue;var ot=i.by(F.exports);let Be={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ne=>ne},Le=Math.fround||(Pe=new Float32Array(1),ne=>(Pe[0]=+ne,Pe[0]));var Pe;let Qe=3,lt=5,pt=6;class je{constructor(H){this.options=Object.assign(Object.create(Be),H),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(H){let{log:$,minZoom:Y,maxZoom:ie}=this.options;$&&console.time("total time");let ge=`prepare ${H.length} points`;$&&console.time(ge),this.points=H;let xe=[];for(let fe=0;fe<H.length;fe++){let Ve=H[fe];if(!Ve.geometry)continue;let[et,Fe]=Ve.geometry.coordinates,ht=Le(De(et)),Gt=Le(he(Fe));xe.push(ht,Gt,1/0,fe,-1,1),this.options.reduce&&xe.push(0)}let Ee=this.trees[ie+1]=this._createTree(xe);$&&console.timeEnd(ge);for(let fe=ie;fe>=Y;fe--){let Ve=+Date.now();Ee=this.trees[fe]=this._createTree(this._cluster(Ee,fe)),$&&console.log("z%d: %d clusters in %dms",fe,Ee.numItems,+Date.now()-Ve)}return $&&console.timeEnd("total time"),this}getClusters(H,$){let Y=((H[0]+180)%360+360)%360-180,ie=Math.max(-90,Math.min(90,H[1])),ge=H[2]===180?180:((H[2]+180)%360+360)%360-180,xe=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)Y=-180,ge=180;else if(Y>ge){let Fe=this.getClusters([Y,ie,180,xe],$),ht=this.getClusters([-180,ie,ge,xe],$);return Fe.concat(ht)}let Ee=this.trees[this._limitZoom($)],fe=Ee.range(De(Y),he(xe),De(ge),he(ie)),Ve=Ee.data,et=[];for(let Fe of fe){let ht=this.stride*Fe;et.push(Ve[ht+lt]>1?Ge(Ve,ht,this.clusterProps):this.points[Ve[ht+Qe]])}return et}getChildren(H){let $=this._getOriginId(H),Y=this._getOriginZoom(H),ie="No cluster with the specified id.",ge=this.trees[Y];if(!ge)throw new Error(ie);let xe=ge.data;if($*this.stride>=xe.length)throw new Error(ie);let Ee=this.options.radius/(this.options.extent*Math.pow(2,Y-1)),fe=ge.within(xe[$*this.stride],xe[$*this.stride+1],Ee),Ve=[];for(let et of fe){let Fe=et*this.stride;xe[Fe+4]===H&&Ve.push(xe[Fe+lt]>1?Ge(xe,Fe,this.clusterProps):this.points[xe[Fe+Qe]])}if(Ve.length===0)throw new Error(ie);return Ve}getLeaves(H,$,Y){let ie=[];return this._appendLeaves(ie,H,$=$||10,Y=Y||0,0),ie}getTile(H,$,Y){let ie=this.trees[this._limitZoom(H)],ge=Math.pow(2,H),{extent:xe,radius:Ee}=this.options,fe=Ee/xe,Ve=(Y-fe)/ge,et=(Y+1+fe)/ge,Fe={features:[]};return this._addTileFeatures(ie.range(($-fe)/ge,Ve,($+1+fe)/ge,et),ie.data,$,Y,ge,Fe),$===0&&this._addTileFeatures(ie.range(1-fe/ge,Ve,1,et),ie.data,ge,Y,ge,Fe),$===ge-1&&this._addTileFeatures(ie.range(0,Ve,fe/ge,et),ie.data,-1,Y,ge,Fe),Fe.features.length?Fe:null}getClusterExpansionZoom(H){let $=this._getOriginZoom(H)-1;for(;$<=this.options.maxZoom;){let Y=this.getChildren(H);if($++,Y.length!==1)break;H=Y[0].properties.cluster_id}return $}_appendLeaves(H,$,Y,ie,ge){let xe=this.getChildren($);for(let Ee of xe){let fe=Ee.properties;if(fe&&fe.cluster?ge+fe.point_count<=ie?ge+=fe.point_count:ge=this._appendLeaves(H,fe.cluster_id,Y,ie,ge):ge<ie?ge++:H.push(Ee),H.length===Y)break}return ge}_createTree(H){let $=new i.av(H.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Y=0;Y<H.length;Y+=this.stride)$.add(H[Y],H[Y+1]);return $.finish(),$.data=H,$}_addTileFeatures(H,$,Y,ie,ge,xe){for(let Ee of H){let fe=Ee*this.stride,Ve=$[fe+lt]>1,et,Fe,ht;if(Ve)et=at($,fe,this.clusterProps),Fe=$[fe],ht=$[fe+1];else{let nn=this.points[$[fe+Qe]];et=nn.properties;let[wr,on]=nn.geometry.coordinates;Fe=De(wr),ht=he(on)}let Gt={type:1,geometry:[[Math.round(this.options.extent*(Fe*ge-Y)),Math.round(this.options.extent*(ht*ge-ie))]],tags:et},ir;ir=Ve||this.options.generateId?$[fe+Qe]:this.points[$[fe+Qe]].id,ir!==void 0&&(Gt.id=ir),xe.features.push(Gt)}}_limitZoom(H){return Math.max(this.options.minZoom,Math.min(Math.floor(+H),this.options.maxZoom+1))}_cluster(H,$){let{radius:Y,extent:ie,reduce:ge,minPoints:xe}=this.options,Ee=Y/(ie*Math.pow(2,$)),fe=H.data,Ve=[],et=this.stride;for(let Fe=0;Fe<fe.length;Fe+=et){if(fe[Fe+2]<=$)continue;fe[Fe+2]=$;let ht=fe[Fe],Gt=fe[Fe+1],ir=H.within(fe[Fe],fe[Fe+1],Ee),nn=fe[Fe+lt],wr=nn;for(let on of ir){let Hr=on*et;fe[Hr+2]>$&&(wr+=fe[Hr+lt])}if(wr>nn&&wr>=xe){let on,Hr=ht*nn,Di=Gt*nn,hi=-1,kr=((Fe/et|0)<<5)+($+1)+this.points.length;for(let wn of ir){let ni=wn*et;if(fe[ni+2]<=$)continue;fe[ni+2]=$;let Ji=fe[ni+lt];Hr+=fe[ni]*Ji,Di+=fe[ni+1]*Ji,fe[ni+4]=kr,ge&&(on||(on=this._map(fe,Fe,!0),hi=this.clusterProps.length,this.clusterProps.push(on)),ge(on,this._map(fe,ni)))}fe[Fe+4]=kr,Ve.push(Hr/wr,Di/wr,1/0,kr,-1,wr),ge&&Ve.push(hi)}else{for(let on=0;on<et;on++)Ve.push(fe[Fe+on]);if(wr>1)for(let on of ir){let Hr=on*et;if(!(fe[Hr+2]<=$)){fe[Hr+2]=$;for(let Di=0;Di<et;Di++)Ve.push(fe[Hr+Di])}}}}return Ve}_getOriginId(H){return H-this.points.length>>5}_getOriginZoom(H){return(H-this.points.length)%32}_map(H,$,Y){if(H[$+lt]>1){let xe=this.clusterProps[H[$+pt]];return Y?Object.assign({},xe):xe}let ie=this.points[H[$+Qe]].properties,ge=this.options.map(ie);return Y&&ge===ie?Object.assign({},ge):ge}}function Ge(ne,H,$){return{type:"Feature",id:ne[H+Qe],properties:at(ne,H,$),geometry:{type:"Point",coordinates:[(Y=ne[H],360*(Y-.5)),qe(ne[H+1])]}};var Y}function at(ne,H,$){let Y=ne[H+lt],ie=Y>=1e4?`${Math.round(Y/1e3)}k`:Y>=1e3?Math.round(Y/100)/10+"k":Y,ge=ne[H+pt],xe=ge===-1?{}:Object.assign({},$[ge]);return Object.assign(xe,{cluster:!0,cluster_id:ne[H+Qe],point_count:Y,point_count_abbreviated:ie})}function De(ne){return ne/360+.5}function he(ne){let H=Math.sin(ne*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function qe(ne){let H=(180-360*ne)*Math.PI/180;return 360*Math.atan(Math.exp(H))/Math.PI-90}function Te(ne,H,$,Y){let ie=Y,ge=H+($-H>>1),xe,Ee=$-H,fe=ne[H],Ve=ne[H+1],et=ne[$],Fe=ne[$+1];for(let ht=H+3;ht<$;ht+=3){let Gt=Ke(ne[ht],ne[ht+1],fe,Ve,et,Fe);if(Gt>ie)xe=ht,ie=Gt;else if(Gt===ie){let ir=Math.abs(ht-ge);ir<Ee&&(xe=ht,Ee=ir)}}ie>Y&&(xe-H>3&&Te(ne,H,xe,Y),ne[xe+2]=ie,$-xe>3&&Te(ne,xe,$,Y))}function Ke(ne,H,$,Y,ie,ge){let xe=ie-$,Ee=ge-Y;if(xe!==0||Ee!==0){let fe=((ne-$)*xe+(H-Y)*Ee)/(xe*xe+Ee*Ee);fe>1?($=ie,Y=ge):fe>0&&($+=xe*fe,Y+=Ee*fe)}return xe=ne-$,Ee=H-Y,xe*xe+Ee*Ee}function Ze(ne,H,$,Y){let ie={id:ne==null?null:ne,type:H,geometry:$,tags:Y,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(H==="Point"||H==="MultiPoint"||H==="LineString")St(ie,$);else if(H==="Polygon")St(ie,$[0]);else if(H==="MultiLineString")for(let ge of $)St(ie,ge);else if(H==="MultiPolygon")for(let ge of $)St(ie,ge[0]);return ie}function St(ne,H){for(let $=0;$<H.length;$+=3)ne.minX=Math.min(ne.minX,H[$]),ne.minY=Math.min(ne.minY,H[$+1]),ne.maxX=Math.max(ne.maxX,H[$]),ne.maxY=Math.max(ne.maxY,H[$+1])}function It(ne,H,$,Y){if(!H.geometry)return;let ie=H.geometry.coordinates;if(ie&&ie.length===0)return;let ge=H.geometry.type,xe=Math.pow($.tolerance/((1<<$.maxZoom)*$.extent),2),Ee=[],fe=H.id;if($.promoteId?fe=H.properties[$.promoteId]:$.generateId&&(fe=Y||0),ge==="Point")Dt(ie,Ee);else if(ge==="MultiPoint")for(let Ve of ie)Dt(Ve,Ee);else if(ge==="LineString")we(ie,Ee,xe,!1);else if(ge==="MultiLineString"){if($.lineMetrics){for(let Ve of ie)Ee=[],we(Ve,Ee,xe,!1),ne.push(Ze(fe,"LineString",Ee,H.properties));return}ft(ie,Ee,xe,!1)}else if(ge==="Polygon")ft(ie,Ee,xe,!0);else{if(ge!=="MultiPolygon"){if(ge==="GeometryCollection"){for(let Ve of H.geometry.geometries)It(ne,{id:fe,geometry:Ve,properties:H.properties},$,Y);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Ve of ie){let et=[];ft(Ve,et,xe,!0),Ee.push(et)}}ne.push(Ze(fe,ge,Ee,H.properties))}function Dt(ne,H){H.push($t(ne[0]),gt(ne[1]),0)}function we(ne,H,$,Y){let ie,ge,xe=0;for(let fe=0;fe<ne.length;fe++){let Ve=$t(ne[fe][0]),et=gt(ne[fe][1]);H.push(Ve,et,0),fe>0&&(xe+=Y?(ie*et-Ve*ge)/2:Math.sqrt(Math.pow(Ve-ie,2)+Math.pow(et-ge,2))),ie=Ve,ge=et}let Ee=H.length-3;H[2]=1,Te(H,0,Ee,$),H[Ee+2]=1,H.size=Math.abs(xe),H.start=0,H.end=H.size}function ft(ne,H,$,Y){for(let ie=0;ie<ne.length;ie++){let ge=[];we(ne[ie],ge,$,Y),H.push(ge)}}function $t(ne){return ne/360+.5}function gt(ne){let H=Math.sin(ne*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function Ht(ne,H,$,Y,ie,ge,xe,Ee){if(Y/=H,ge>=($/=H)&&xe<Y)return ne;if(xe<$||ge>=Y)return null;let fe=[];for(let Ve of ne){let et=Ve.geometry,Fe=Ve.type,ht=ie===0?Ve.minX:Ve.minY,Gt=ie===0?Ve.maxX:Ve.maxY;if(ht>=$&&Gt<Y){fe.push(Ve);continue}if(Gt<$||ht>=Y)continue;let ir=[];if(Fe==="Point"||Fe==="MultiPoint")dr(et,ir,$,Y,ie);else if(Fe==="LineString")Vt(et,ir,$,Y,ie,!1,Ee.lineMetrics);else if(Fe==="MultiLineString")$r(et,ir,$,Y,ie,!1);else if(Fe==="Polygon")$r(et,ir,$,Y,ie,!0);else if(Fe==="MultiPolygon")for(let nn of et){let wr=[];$r(nn,wr,$,Y,ie,!0),wr.length&&ir.push(wr)}if(ir.length){if(Ee.lineMetrics&&Fe==="LineString"){for(let nn of ir)fe.push(Ze(Ve.id,Fe,nn,Ve.tags));continue}Fe!=="LineString"&&Fe!=="MultiLineString"||(ir.length===1?(Fe="LineString",ir=ir[0]):Fe="MultiLineString"),Fe!=="Point"&&Fe!=="MultiPoint"||(Fe=ir.length===3?"Point":"MultiPoint"),fe.push(Ze(Ve.id,Fe,ir,Ve.tags))}}return fe.length?fe:null}function dr(ne,H,$,Y,ie){for(let ge=0;ge<ne.length;ge+=3){let xe=ne[ge+ie];xe>=$&&xe<=Y&&jr(H,ne[ge],ne[ge+1],ne[ge+2])}}function Vt(ne,H,$,Y,ie,ge,xe){let Ee=pr(ne),fe=ie===0?sr:Qr,Ve,et,Fe=ne.start;for(let wr=0;wr<ne.length-3;wr+=3){let on=ne[wr],Hr=ne[wr+1],Di=ne[wr+2],hi=ne[wr+3],kr=ne[wr+4],wn=ie===0?on:Hr,ni=ie===0?hi:kr,Ji=!1;xe&&(Ve=Math.sqrt(Math.pow(on-hi,2)+Math.pow(Hr-kr,2))),wn<$?ni>$&&(et=fe(Ee,on,Hr,hi,kr,$),xe&&(Ee.start=Fe+Ve*et)):wn>Y?ni<Y&&(et=fe(Ee,on,Hr,hi,kr,Y),xe&&(Ee.start=Fe+Ve*et)):jr(Ee,on,Hr,Di),ni<$&&wn>=$&&(et=fe(Ee,on,Hr,hi,kr,$),Ji=!0),ni>Y&&wn<=Y&&(et=fe(Ee,on,Hr,hi,kr,Y),Ji=!0),!ge&&Ji&&(xe&&(Ee.end=Fe+Ve*et),H.push(Ee),Ee=pr(ne)),xe&&(Fe+=Ve)}let ht=ne.length-3,Gt=ne[ht],ir=ne[ht+1],nn=ie===0?Gt:ir;nn>=$&&nn<=Y&&jr(Ee,Gt,ir,ne[ht+2]),ht=Ee.length-3,ge&&ht>=3&&(Ee[ht]!==Ee[0]||Ee[ht+1]!==Ee[1])&&jr(Ee,Ee[0],Ee[1],Ee[2]),Ee.length&&H.push(Ee)}function pr(ne){let H=[];return H.size=ne.size,H.start=ne.start,H.end=ne.end,H}function $r(ne,H,$,Y,ie,ge){for(let xe of ne)Vt(xe,H,$,Y,ie,ge,!1)}function jr(ne,H,$,Y){ne.push(H,$,Y)}function sr(ne,H,$,Y,ie,ge){let xe=(ge-H)/(Y-H);return jr(ne,ge,$+(ie-$)*xe,1),xe}function Qr(ne,H,$,Y,ie,ge){let xe=(ge-$)/(ie-$);return jr(ne,H+(Y-H)*xe,ge,1),xe}function st(ne,H){let $=[];for(let Y=0;Y<ne.length;Y++){let ie=ne[Y],ge=ie.type,xe;if(ge==="Point"||ge==="MultiPoint"||ge==="LineString")xe=fi(ie.geometry,H);else if(ge==="MultiLineString"||ge==="Polygon"){xe=[];for(let Ee of ie.geometry)xe.push(fi(Ee,H))}else if(ge==="MultiPolygon"){xe=[];for(let Ee of ie.geometry){let fe=[];for(let Ve of Ee)fe.push(fi(Ve,H));xe.push(fe)}}$.push(Ze(ie.id,ge,xe,ie.tags))}return $}function fi(ne,H){let $=[];$.size=ne.size,ne.start!==void 0&&($.start=ne.start,$.end=ne.end);for(let Y=0;Y<ne.length;Y+=3)$.push(ne[Y]+H,ne[Y+1],ne[Y+2]);return $}function _n(ne,H){if(ne.transformed)return ne;let $=1<<ne.z,Y=ne.x,ie=ne.y;for(let ge of ne.features){let xe=ge.geometry,Ee=ge.type;if(ge.geometry=[],Ee===1)for(let fe=0;fe<xe.length;fe+=2)ge.geometry.push(ts(xe[fe],xe[fe+1],H,$,Y,ie));else for(let fe=0;fe<xe.length;fe++){let Ve=[];for(let et=0;et<xe[fe].length;et+=2)Ve.push(ts(xe[fe][et],xe[fe][et+1],H,$,Y,ie));ge.geometry.push(Ve)}}return ne.transformed=!0,ne}function ts(ne,H,$,Y,ie,ge){return[Math.round($*(ne*Y-ie)),Math.round($*(H*Y-ge))]}function pl(ne,H,$,Y,ie){let ge=H===ie.maxZoom?0:ie.tolerance/((1<<H)*ie.extent),xe={features:[],numPoints:0,numSimplified:0,numFeatures:ne.length,source:null,x:$,y:Y,z:H,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ee of ne)xt(xe,Ee,ge,ie);return xe}function xt(ne,H,$,Y){let ie=H.geometry,ge=H.type,xe=[];if(ne.minX=Math.min(ne.minX,H.minX),ne.minY=Math.min(ne.minY,H.minY),ne.maxX=Math.max(ne.maxX,H.maxX),ne.maxY=Math.max(ne.maxY,H.maxY),ge==="Point"||ge==="MultiPoint")for(let Ee=0;Ee<ie.length;Ee+=3)xe.push(ie[Ee],ie[Ee+1]),ne.numPoints++,ne.numSimplified++;else if(ge==="LineString")Er(xe,ie,ne,$,!1,!1);else if(ge==="MultiLineString"||ge==="Polygon")for(let Ee=0;Ee<ie.length;Ee++)Er(xe,ie[Ee],ne,$,ge==="Polygon",Ee===0);else if(ge==="MultiPolygon")for(let Ee=0;Ee<ie.length;Ee++){let fe=ie[Ee];for(let Ve=0;Ve<fe.length;Ve++)Er(xe,fe[Ve],ne,$,!0,Ve===0)}if(xe.length){let Ee=H.tags||null;if(ge==="LineString"&&Y.lineMetrics){Ee={};for(let Ve in H.tags)Ee[Ve]=H.tags[Ve];Ee.mapbox_clip_start=ie.start/ie.size,Ee.mapbox_clip_end=ie.end/ie.size}let fe={geometry:xe,type:ge==="Polygon"||ge==="MultiPolygon"?3:ge==="LineString"||ge==="MultiLineString"?2:1,tags:Ee};H.id!==null&&(fe.id=H.id),ne.features.push(fe)}}function Er(ne,H,$,Y,ie,ge){let xe=Y*Y;if(Y>0&&H.size<(ie?xe:Y))return void($.numPoints+=H.length/3);let Ee=[];for(let fe=0;fe<H.length;fe+=3)(Y===0||H[fe+2]>xe)&&($.numSimplified++,Ee.push(H[fe],H[fe+1])),$.numPoints++;ie&&function(fe,Ve){let et=0;for(let Fe=0,ht=fe.length,Gt=ht-2;Fe<ht;Gt=Fe,Fe+=2)et+=(fe[Fe]-fe[Gt])*(fe[Fe+1]+fe[Gt+1]);if(et>0===Ve)for(let Fe=0,ht=fe.length;Fe<ht/2;Fe+=2){let Gt=fe[Fe],ir=fe[Fe+1];fe[Fe]=fe[ht-2-Fe],fe[Fe+1]=fe[ht-1-Fe],fe[ht-2-Fe]=Gt,fe[ht-1-Fe]=ir}}(Ee,ge),ne.push(Ee)}let cr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ho{constructor(H,$){let Y=($=this.options=function(ge,xe){for(let Ee in xe)ge[Ee]=xe[Ee];return ge}(Object.create(cr),$)).debug;if(Y&&console.time("preprocess data"),$.maxZoom<0||$.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($.promoteId&&$.generateId)throw new Error("promoteId and generateId cannot be used together.");let ie=function(ge,xe){let Ee=[];if(ge.type==="FeatureCollection")for(let fe=0;fe<ge.features.length;fe++)It(Ee,ge.features[fe],xe,fe);else It(Ee,ge.type==="Feature"?ge:{geometry:ge},xe);return Ee}(H,$);this.tiles={},this.tileCoords=[],Y&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$.indexMaxZoom,$.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ie=function(ge,xe){let Ee=xe.buffer/xe.extent,fe=ge,Ve=Ht(ge,1,-1-Ee,Ee,0,-1,2,xe),et=Ht(ge,1,1-Ee,2+Ee,0,-1,2,xe);return(Ve||et)&&(fe=Ht(ge,1,-Ee,1+Ee,0,-1,2,xe)||[],Ve&&(fe=st(Ve,1).concat(fe)),et&&(fe=fe.concat(st(et,-1)))),fe}(ie,$),ie.length&&this.splitTile(ie,0,0,0),Y&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(H,$,Y,ie,ge,xe,Ee){let fe=[H,$,Y,ie],Ve=this.options,et=Ve.debug;for(;fe.length;){ie=fe.pop(),Y=fe.pop(),$=fe.pop(),H=fe.pop();let Fe=1<<$,ht=ka($,Y,ie),Gt=this.tiles[ht];if(!Gt&&(et>1&&console.time("creation"),Gt=this.tiles[ht]=pl(H,$,Y,ie,Ve),this.tileCoords.push({z:$,x:Y,y:ie}),et)){et>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$,Y,ie,Gt.numFeatures,Gt.numPoints,Gt.numSimplified),console.timeEnd("creation"));let Ji=`z${$}`;this.stats[Ji]=(this.stats[Ji]||0)+1,this.total++}if(Gt.source=H,ge==null){if($===Ve.indexMaxZoom||Gt.numPoints<=Ve.indexMaxPoints)continue}else{if($===Ve.maxZoom||$===ge)continue;if(ge!=null){let Ji=ge-$;if(Y!==xe>>Ji||ie!==Ee>>Ji)continue}}if(Gt.source=null,H.length===0)continue;et>1&&console.time("clipping");let ir=.5*Ve.buffer/Ve.extent,nn=.5-ir,wr=.5+ir,on=1+ir,Hr=null,Di=null,hi=null,kr=null,wn=Ht(H,Fe,Y-ir,Y+wr,0,Gt.minX,Gt.maxX,Ve),ni=Ht(H,Fe,Y+nn,Y+on,0,Gt.minX,Gt.maxX,Ve);H=null,wn&&(Hr=Ht(wn,Fe,ie-ir,ie+wr,1,Gt.minY,Gt.maxY,Ve),Di=Ht(wn,Fe,ie+nn,ie+on,1,Gt.minY,Gt.maxY,Ve),wn=null),ni&&(hi=Ht(ni,Fe,ie-ir,ie+wr,1,Gt.minY,Gt.maxY,Ve),kr=Ht(ni,Fe,ie+nn,ie+on,1,Gt.minY,Gt.maxY,Ve),ni=null),et>1&&console.timeEnd("clipping"),fe.push(Hr||[],$+1,2*Y,2*ie),fe.push(Di||[],$+1,2*Y,2*ie+1),fe.push(hi||[],$+1,2*Y+1,2*ie),fe.push(kr||[],$+1,2*Y+1,2*ie+1)}}getTile(H,$,Y){H=+H,$=+$,Y=+Y;let ie=this.options,{extent:ge,debug:xe}=ie;if(H<0||H>24)return null;let Ee=1<<H,fe=ka(H,$=$+Ee&Ee-1,Y);if(this.tiles[fe])return _n(this.tiles[fe],ge);xe>1&&console.log("drilling down to z%d-%d-%d",H,$,Y);let Ve,et=H,Fe=$,ht=Y;for(;!Ve&&et>0;)et--,Fe>>=1,ht>>=1,Ve=this.tiles[ka(et,Fe,ht)];return Ve&&Ve.source?(xe>1&&(console.log("found parent tile z%d-%d-%d",et,Fe,ht),console.time("drilling down")),this.splitTile(Ve.source,et,Fe,ht,H,$,Y),xe>1&&console.timeEnd("drilling down"),this.tiles[fe]?_n(this.tiles[fe],ge):null):null}}function ka(ne,H,$){return 32*((1<<ne)*$+H)+ne}function Se(ne,H){return H?ne.properties[H]:ne.id}function Ae(ne,H){if(ne==null)return!0;if(ne.type==="Feature")return Se(ne,H)!=null;if(ne.type==="FeatureCollection"){let $=new Set;for(let Y of ne.features){let ie=Se(Y,H);if(ie==null||$.has(ie))return!1;$.add(ie)}return!0}return!1}function ct(ne,H){let $=new Map;if(ne!=null)if(ne.type==="Feature")$.set(Se(ne,H),ne);else for(let Y of ne.features)$.set(Se(Y,H),Y);return $}class kt extends y{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let Y=H.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let ie=this._geoJSONIndex.getTile(Y.z,Y.x,Y.y);if(!ie)return null;let ge=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.X,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(fe){this._feature=fe,this.extent=i.X,this.type=fe.type,this.properties=fe.tags,"id"in fe&&!isNaN(fe.id)&&(this.id=parseInt(fe.id,10))}loadGeometry(){if(this._feature.type===1){let fe=[];for(let Ve of this._feature.geometry)fe.push([new i.P(Ve[0],Ve[1])]);return fe}{let fe=[];for(let Ve of this._feature.geometry){let et=[];for(let Fe of Ve)et.push(new i.P(Fe[0],Fe[1]));fe.push(et)}return fe}}toGeoJSON(fe,Ve,et){return z.call(this,fe,Ve,et)}}(this._features[Ee])}}(ie.features),xe=ot(ge);return xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),{vectorTile:ge,rawData:xe.buffer}})}loadData(H){return i._(this,void 0,void 0,function*(){var $;($=this._pendingRequest)===null||$===void 0||$.abort();let Y=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(H,this._pendingRequest),this._geoJSONIndex=H.cluster?new je(function({superclusterOptions:xe,clusterProperties:Ee}){if(!Ee||!xe)return xe;let fe={},Ve={},et={accumulated:null,zoom:0},Fe={properties:null},ht=Object.keys(Ee);for(let Gt of ht){let[ir,nn]=Ee[Gt],wr=i.bC(nn),on=i.bC(typeof ir=="string"?[ir,["accumulated"],["get",Gt]]:ir);fe[Gt]=wr.value,Ve[Gt]=on.value}return xe.map=Gt=>{Fe.properties=Gt;let ir={};for(let nn of ht)ir[nn]=fe[nn].evaluate(et,Fe);return ir},xe.reduce=(Gt,ir)=>{Fe.properties=ir;for(let nn of ht)et.accumulated=Gt[nn],Gt[nn]=Ve[nn].evaluate(et,Fe)},xe}(H)).load((yield this._pendingData).features):(ie=yield this._pendingData,new ho(ie,H.geojsonVtOptions)),this.loaded={};let ge={};if(Y){let xe=Y.finish();xe&&(ge.resourceTiming={},ge.resourceTiming[H.source]=JSON.parse(JSON.stringify(xe)))}return ge}catch(ge){if(delete this._pendingRequest,i.bB(ge))return{abandoned:!0};throw ge}var ie})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(H){let $=this.loaded;return $&&$[H.uid]?super.reloadTile(H):this.loadTile(H)}loadAndProcessGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let Y=yield this.loadGeoJSON(H,$);if(delete this._pendingRequest,typeof Y!="object")throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(D(Y,!0),H.filter){let ie=i.bC(H.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ie.result==="error")throw new Error(ie.value.map(xe=>`${xe.key}: ${xe.message}`).join(", "));Y={type:"FeatureCollection",features:Y.features.filter(xe=>ie.value.evaluate({zoom:0},xe))}}return Y})}loadGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let{promoteId:Y}=H;if(H.request){let ie=yield i.h(H.request,$);return this._dataUpdateable=Ae(ie.data,Y)?ct(ie.data,Y):void 0,ie.data}if(typeof H.data=="string")try{let ie=JSON.parse(H.data);return this._dataUpdateable=Ae(ie,Y)?ct(ie,Y):void 0,ie}catch(ie){throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`)}if(!H.dataDiff)throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${H.source}`);return function(ie,ge,xe){var Ee,fe,Ve,et;if(ge.removeAll&&ie.clear(),ge.remove)for(let Fe of ge.remove)ie.delete(Fe);if(ge.add)for(let Fe of ge.add){let ht=Se(Fe,xe);ht!=null&&ie.set(ht,Fe)}if(ge.update)for(let Fe of ge.update){let ht=ie.get(Fe.id);if(ht==null)continue;let Gt=!Fe.removeAllProperties&&(((Ee=Fe.removeProperties)===null||Ee===void 0?void 0:Ee.length)>0||((fe=Fe.addOrUpdateProperties)===null||fe===void 0?void 0:fe.length)>0);if((Fe.newGeometry||Fe.removeAllProperties||Gt)&&(ht=Object.assign({},ht),ie.set(Fe.id,ht),Gt&&(ht.properties=Object.assign({},ht.properties))),Fe.newGeometry&&(ht.geometry=Fe.newGeometry),Fe.removeAllProperties)ht.properties={};else if(((Ve=Fe.removeProperties)===null||Ve===void 0?void 0:Ve.length)>0)for(let ir of Fe.removeProperties)Object.prototype.hasOwnProperty.call(ht.properties,ir)&&delete ht.properties[ir];if(((et=Fe.addOrUpdateProperties)===null||et===void 0?void 0:et.length)>0)for(let{key:ir,value:nn}of Fe.addOrUpdateProperties)ht.properties[ir]=nn}}(this._dataUpdateable,H.dataDiff,Y),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(H){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(H){return this._geoJSONIndex.getClusterExpansionZoom(H.clusterId)}getClusterChildren(H){return this._geoJSONIndex.getChildren(H.clusterId)}getClusterLeaves(H){return this._geoJSONIndex.getLeaves(H.clusterId,H.limit,H.offset)}}class Ot{constructor(H){this.self=H,this.actor=new i.F(H),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=($,Y)=>{if(this.externalWorkerSourceTypes[$])throw new Error(`Worker source with name "${$}" already registered.`);this.externalWorkerSourceTypes[$]=Y},this.self.addProtocol=i.bi,this.self.removeProtocol=i.bj,this.self.registerRTLTextPlugin=$=>{if(i.bD.isParsed())throw new Error("RTL text plugin already registered.");i.bD.setMethods($)},this.actor.registerMessageHandler("LDT",($,Y)=>this._getDEMWorkerSource($,Y.source).loadTile(Y)),this.actor.registerMessageHandler("RDT",($,Y)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource($,Y.source).removeTile(Y)})),this.actor.registerMessageHandler("GCEZ",($,Y)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Y.type,Y.source).getClusterExpansionZoom(Y)})),this.actor.registerMessageHandler("GCC",($,Y)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Y.type,Y.source).getClusterChildren(Y)})),this.actor.registerMessageHandler("GCL",($,Y)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Y.type,Y.source).getClusterLeaves(Y)})),this.actor.registerMessageHandler("LD",($,Y)=>this._getWorkerSource($,Y.type,Y.source).loadData(Y)),this.actor.registerMessageHandler("GD",($,Y)=>this._getWorkerSource($,Y.type,Y.source).getData()),this.actor.registerMessageHandler("LT",($,Y)=>this._getWorkerSource($,Y.type,Y.source).loadTile(Y)),this.actor.registerMessageHandler("RT",($,Y)=>this._getWorkerSource($,Y.type,Y.source).reloadTile(Y)),this.actor.registerMessageHandler("AT",($,Y)=>this._getWorkerSource($,Y.type,Y.source).abortTile(Y)),this.actor.registerMessageHandler("RMT",($,Y)=>this._getWorkerSource($,Y.type,Y.source).removeTile(Y)),this.actor.registerMessageHandler("RS",($,Y)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[$]||!this.workerSources[$][Y.type]||!this.workerSources[$][Y.type][Y.source])return;let ie=this.workerSources[$][Y.type][Y.source];delete this.workerSources[$][Y.type][Y.source],ie.removeSource!==void 0&&ie.removeSource(Y)})),this.actor.registerMessageHandler("RM",$=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[$],delete this.availableImages[$],delete this.workerSources[$],delete this.demWorkerSources[$]})),this.actor.registerMessageHandler("SR",($,Y)=>i._(this,void 0,void 0,function*(){this.referrer=Y})),this.actor.registerMessageHandler("SRPS",($,Y)=>this._syncRTLPluginState($,Y)),this.actor.registerMessageHandler("IS",($,Y)=>i._(this,void 0,void 0,function*(){this.self.importScripts(Y)})),this.actor.registerMessageHandler("SI",($,Y)=>this._setImages($,Y)),this.actor.registerMessageHandler("UL",($,Y)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).update(Y.layers,Y.removedIds)})),this.actor.registerMessageHandler("SL",($,Y)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).replace(Y)}))}_setImages(H,$){return i._(this,void 0,void 0,function*(){this.availableImages[H]=$;for(let Y in this.workerSources[H]){let ie=this.workerSources[H][Y];for(let ge in ie)ie[ge].availableImages=$}})}_syncRTLPluginState(H,$){return i._(this,void 0,void 0,function*(){if(i.bD.isParsed())return i.bD.getState();if($.pluginStatus!=="loading")return i.bD.setState($),$;let Y=$.pluginURL;if(this.self.importScripts(Y),i.bD.isParsed()){let ie={pluginStatus:"loaded",pluginURL:Y};return i.bD.setState(ie),ie}throw i.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Y}`)})}_getAvailableImages(H){let $=this.availableImages[H];return $||($=[]),$}_getLayerIndex(H){let $=this.layerIndexes[H];return $||($=this.layerIndexes[H]=new o),$}_getWorkerSource(H,$,Y){if(this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][$]||(this.workerSources[H][$]={}),!this.workerSources[H][$][Y]){let ie={sendAsync:(ge,xe)=>(ge.targetMapId=H,this.actor.sendAsync(ge,xe))};switch($){case"vector":this.workerSources[H][$][Y]=new y(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;case"geojson":this.workerSources[H][$][Y]=new kt(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;default:this.workerSources[H][$][Y]=new this.externalWorkerSourceTypes[$](ie,this._getLayerIndex(H),this._getAvailableImages(H));}}return this.workerSources[H][$][Y]}_getDEMWorkerSource(H,$){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][$]||(this.demWorkerSources[H][$]=new x),this.demWorkerSources[H][$]}}return i.i(self)&&(self.worker=new Ot(self)),Ot}),r("index",["exports","./shared"],function(i,o){"use strict";var u="4.7.0";let p,h,y={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:b=>new Promise((a,d)=>{let m=requestAnimationFrame(a);b.signal.addEventListener("abort",()=>{cancelAnimationFrame(m),d(o.c())})}),getImageData(b,a=0){return this.getImageCanvasContext(b).getImageData(-a,-a,b.width+2*a,b.height+2*a)},getImageCanvasContext(b){let a=window.document.createElement("canvas"),d=a.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return a.width=b.width,a.height=b.height,d.drawImage(b,0,0,b.width,b.height),d},resolveURL:b=>(p||(p=document.createElement("a")),p.href=b,p.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(h==null&&(h=matchMedia("(prefers-reduced-motion: reduce)")),h.matches)}};class x{static testProp(a){if(!x.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in x.docStyle)return a[d];return a[0]}static create(a,d,m){let g=window.document.createElement(a);return d!==void 0&&(g.className=d),m&&m.appendChild(g),g}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){x.docStyle&&x.selectProp&&(x.userSelect=x.docStyle[x.selectProp],x.docStyle[x.selectProp]="none")}static enableDrag(){x.docStyle&&x.selectProp&&(x.docStyle[x.selectProp]=x.userSelect)}static setTransform(a,d){a.style[x.transformProp]=d}static addEventListener(a,d,m,g={}){a.addEventListener(d,m,"passive"in g?g:g.capture)}static removeEventListener(a,d,m,g={}){a.removeEventListener(d,m,"passive"in g?g:g.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",x.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",x.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",x.suppressClickInternal,!0)},0)}static getScale(a){let d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}static getPoint(a,d,m){let g=d.boundingClientRect;return new o.P((m.clientX-g.left)/d.x-a.clientLeft,(m.clientY-g.top)/d.y-a.clientTop)}static mousePos(a,d){let m=x.getScale(a);return x.getPoint(a,m,d)}static touchPos(a,d){let m=[],g=x.getScale(a);for(let _=0;_<d.length;_++)m.push(x.getPoint(a,g,d[_]));return m}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}x.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,x.selectProp=x.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),x.transformProp=x.testProp(["transform","WebkitTransform"]);let E={supported:!1,testSupport:function(b){!z&&D&&(F?q(b):T=b)}},T,D,z=!1,F=!1;function q(b){let a=b.createTexture();b.bindTexture(b.TEXTURE_2D,a);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,D),b.isContextLost())return;E.supported=!0}catch(d){}b.deleteTexture(a),z=!0}var N;typeof document!="undefined"&&(D=document.createElement("img"),D.onload=()=>{T&&q(T),T=null,F=!0},D.onerror=()=>{z=!0,T=null},D.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(b){let a,d,m,g;b.resetRequestQueue=()=>{a=[],d=0,m=0,g={}},b.addThrottleControl=O=>{let L=m++;return g[L]=O,L},b.removeThrottleControl=O=>{delete g[O],A()},b.getImage=(O,L,V=!0)=>new Promise((U,K)=>{E.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),o.e(O,{type:"image"}),a.push({abortController:L,requestParameters:O,supportImageRefresh:V,state:"queued",onError:te=>{K(te)},onSuccess:te=>{U(te)}}),A()});let _=O=>o._(this,void 0,void 0,function*(){O.state="running";let{requestParameters:L,supportImageRefresh:V,onError:U,onSuccess:K,abortController:te}=O,oe=V===!1&&!o.i(self)&&!o.g(L.url)&&(!L.headers||Object.keys(L.headers).reduce((me,ye)=>me&&ye==="accept",!0));d++;let ce=oe?P(L,te):o.m(L,te);try{let me=yield ce;delete O.abortController,O.state="completed",me.data instanceof HTMLImageElement||o.b(me.data)?K(me):me.data&&K({data:yield(pe=me.data,typeof createImageBitmap=="function"?o.d(pe):o.f(pe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete O.abortController,U(me)}finally{d--,A()}var pe}),A=()=>{let O=(()=>{for(let L of Object.keys(g))if(g[L]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let L=d;L<O&&a.length>0;L++){let V=a.shift();V.abortController.signal.aborted?L--:_(V)}},P=(O,L)=>new Promise((V,U)=>{let K=new Image,te=O.url,oe=O.credentials;oe&&oe==="include"?K.crossOrigin="use-credentials":(oe&&oe==="same-origin"||!o.s(te))&&(K.crossOrigin="anonymous"),L.signal.addEventListener("abort",()=>{K.src="",U(o.c())}),K.fetchPriority="high",K.onload=()=>{K.onerror=K.onload=null,V({data:K})},K.onerror=()=>{K.onerror=K.onload=null,L.signal.aborted||U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},K.src=te})}(N||(N={})),N.resetRequestQueue();class B{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function Z(b){var a=new o.A(3);return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}var ee,ae=function(b,a,d){return b[0]=a[0]-d[0],b[1]=a[1]-d[1],b[2]=a[2]-d[2],b};ee=new o.A(3),o.A!=Float32Array&&(ee[0]=0,ee[1]=0,ee[2]=0);var ue=function(b){var a=b[0],d=b[1];return a*a+d*d};function ve(b){let a=[];if(typeof b=="string")a.push({id:"default",url:b});else if(b&&b.length>0){let d=[];for(let{id:m,url:g}of b){let _=`${m}${g}`;d.indexOf(_)===-1&&(d.push(_),a.push({id:m,url:g}))}}return a}function Oe(b,a,d){let m=b.split("?");return m[0]+=`${a}${d}`,m.join("?")}(function(){var b=new o.A(2);o.A!=Float32Array&&(b[0]=0,b[1]=0)})();class be{constructor(a,d,m,g){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,g)}update(a,d,m){let{width:g,height:_}=a,A=!(this.size&&this.size[0]===g&&this.size[1]===_||m),{context:P}=this,{gl:O}=P;if(this.useMipmap=!!(d&&d.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!d||d.premultiply!==!1)),A)this.size=[g,_],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,a):O.texImage2D(O.TEXTURE_2D,0,this.format,g,_,0,this.format,O.UNSIGNED_BYTE,a.data);else{let{x:L,y:V}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texSubImage2D(O.TEXTURE_2D,0,L,V,O.RGBA,O.UNSIGNED_BYTE,a):O.texSubImage2D(O.TEXTURE_2D,0,L,V,g,_,O.RGBA,O.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D)}bind(a,d,m){let{context:g}=this,{gl:_}=g;_.bindTexture(_.TEXTURE_2D,this.texture),m!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=_.LINEAR),a!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,a),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,d),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function ze(b){let{userImage:a}=b;return!!(a&&a.render&&a.render())&&(b.data.replace(new Uint8Array(a.data.buffer)),!0)}class $e extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:d,promiseResolve:m}of this.requestors)m(this._getImagesForIds(d));this.requestors=[]}}getImage(a){let d=this.images[a];if(d&&!d.data&&d.spriteData){let m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0,g=d.data||d.spriteData;return this._validateStretch(d.stretchX,g&&g.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,g&&g.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(let g of a){if(g[0]<m||g[1]<g[0]||d<g[1])return!1;m=g[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;let m=d.spriteData,g=m&&m.width||d.data.width,_=m&&m.height||d.data.height;return!(a[0]<0||g<a[0]||a[1]<0||_<a[1]||a[2]<0||g<a[2]||a[3]<0||_<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){let g=this.getImage(a);if(m&&(g.data.width!==d.data.width||g.data.height!==d.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=g.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){let d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((d,m)=>{let g=!0;if(!this.isLoaded())for(let _ of a)this.images[_]||(g=!1);this.isLoaded()||g?d(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:d})})}_getImagesForIds(a){let d={};for(let m of a){let g=this.getImage(m);g||(this.fire(new o.k("styleimagemissing",{id:m})),g=this.getImage(m)),g?d[m]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,stretchX:g.stretchX,stretchY:g.stretchY,content:g.content,textFitWidth:g.textFitWidth,textFitHeight:g.textFitHeight,hasRenderCallback:!!(g.userImage&&g.userImage.render)}:o.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){let{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){let d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{let g={w:m.data.width+2,h:m.data.height+2,x:0,y:0},_=new o.I(g,m);this.patterns[a]={bin:g,position:_}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new be(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let _ in this.patterns)a.push(this.patterns[_].bin);let{w:d,h:m}=o.p(a),g=this.atlasImage;g.resize({width:d||1,height:m||1});for(let _ in this.patterns){let{bin:A}=this.patterns[_],P=A.x+1,O=A.y+1,L=this.getImage(_).data,V=L.width,U=L.height;o.R.copy(L,g,{x:0,y:0},{x:P,y:O},{width:V,height:U}),o.R.copy(L,g,{x:0,y:U-1},{x:P,y:O-1},{width:V,height:1}),o.R.copy(L,g,{x:0,y:0},{x:P,y:O+U},{width:V,height:1}),o.R.copy(L,g,{x:V-1,y:0},{x:P-1,y:O},{width:1,height:U}),o.R.copy(L,g,{x:0,y:0},{x:P+V,y:O},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;let m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),ze(m)&&this.updateImage(d,m)}}}let He=1e20;function Re(b,a,d,m,g,_,A,P,O){for(let L=a;L<a+m;L++)Je(b,d*_+L,_,g,A,P,O);for(let L=d;L<d+g;L++)Je(b,L*_+a,1,m,A,P,O)}function Je(b,a,d,m,g,_,A){_[0]=0,A[0]=-He,A[1]=He,g[0]=b[a];for(let P=1,O=0,L=0;P<m;P++){g[P]=b[a+P*d];let V=P*P;do{let U=_[O];L=(g[P]-g[U]+V-U*U)/(P-U)/2}while(L<=A[O]&&--O>-1);O++,_[O]=P,A[O]=L,A[O+1]=He}for(let P=0,O=0;P<m;P++){for(;A[O+1]<P;)O++;let L=_[O],V=P-L;b[a+P*d]=g[L]+V*V}}class ot{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let d=[];for(let _ in a)for(let A of a[_])d.push(this._getAndCacheGlyphsPromise(_,A));let m=yield Promise.all(d),g={};for(let{stack:_,id:A,glyph:P}of m)g[_]||(g[_]={}),g[_][A]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics};return g})}_getAndCacheGlyphsPromise(a,d){return o._(this,void 0,void 0,function*(){let m=this.entries[a];m||(m=this.entries[a]={glyphs:{},requests:{},ranges:{}});let g=m.glyphs[d];if(g!==void 0)return{stack:a,id:d,glyph:g};if(g=this._tinySDF(m,a,d),g)return m.glyphs[d]=g,{stack:a,id:d,glyph:g};let _=Math.floor(d/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[_])return{stack:a,id:d,glyph:g};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[_]){let P=ot.loadGlyphRange(a,_,this.url,this.requestManager);m.requests[_]=P}let A=yield m.requests[_];for(let P in A)this._doesCharSupportLocalGlyph(+P)||(m.glyphs[+P]=A[+P]);return m.ranges[_]=!0,{stack:a,id:d,glyph:A[d]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))}_tinySDF(a,d,m){let g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(m))return;let _=a.tinySDF;if(!_){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),_=a.tinySDF=new ot.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:P})}let A=_.draw(String.fromCharCode(m));return{id:m,bitmap:new o.o({width:A.width||60,height:A.height||60},A.data),metrics:{width:A.glyphWidth/2||24,height:A.glyphHeight/2||24,left:A.glyphLeft/2+.5||0,top:A.glyphTop/2-27.5||-8,advance:A.glyphAdvance/2||24,isDoubleResolution:!0}}}}ot.loadGlyphRange=function(b,a,d,m){return o._(this,void 0,void 0,function*(){let g=256*a,_=g+255,A=m.transformRequest(d.replace("{fontstack}",b).replace("{range}",`${g}-${_}`),"Glyphs"),P=yield o.l(A,new AbortController);if(!P||!P.data)throw new Error(`Could not load glyph range. range: ${a}, ${g}-${_}`);let O={};for(let L of o.n(P.data))O[L.id]=L;return O})},ot.TinySDF=class{constructor({fontSize:b=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:g="sans-serif",fontWeight:_="normal",fontStyle:A="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;let P=this.size=b+4*a,O=this._createCanvas(P),L=this.ctx=O.getContext("2d",{willReadFrequently:!0});L.font=`${A} ${_} ${b}px ${g}`,L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(b){let a=document.createElement("canvas");return a.width=a.height=b,a}draw(b){let{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:g,actualBoundingBoxRight:_}=this.ctx.measureText(b),A=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-g))),O=Math.min(this.size-this.buffer,A+Math.ceil(m)),L=P+2*this.buffer,V=O+2*this.buffer,U=Math.max(L*V,0),K=new Uint8ClampedArray(U),te={data:K,width:L,height:V,glyphWidth:P,glyphHeight:O,glyphTop:A,glyphLeft:0,glyphAdvance:a};if(P===0||O===0)return te;let{ctx:oe,buffer:ce,gridInner:pe,gridOuter:me}=this;oe.clearRect(ce,ce,P,O),oe.fillText(b,ce,ce+A);let ye=oe.getImageData(ce,ce,P,O);me.fill(He,0,U),pe.fill(0,0,U);for(let se=0;se<O;se++)for(let Ie=0;Ie<P;Ie++){let Ce=ye.data[4*(se*P+Ie)+3]/255;if(Ce===0)continue;let Ne=(se+ce)*L+Ie+ce;if(Ce===1)me[Ne]=0,pe[Ne]=He;else{let tt=.5-Ce;me[Ne]=tt>0?tt*tt:0,pe[Ne]=tt<0?tt*tt:0}}Re(me,0,0,L,V,L,this.f,this.v,this.z),Re(pe,ce,ce,P,O,L,this.f,this.v,this.z);for(let se=0;se<U;se++){let Ie=Math.sqrt(me[se])-Math.sqrt(pe[se]);K[se]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return te}};class Be{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.x(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.y.number(a.x,d.x,m),y:o.y.number(a.y,d.y,m),z:o.y.number(a.z,d.z,m)}}}let Le;class Pe extends o.E{constructor(a){super(),Le=Le||new o.q({anchor:new o.D(o.v.light.anchor),position:new Be,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(Le),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.r,a,d))for(let m in a){let g=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),g):this._transitionable.setValue(m,g)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.t(this,a.call(o.u,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let Qe=new o.q({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class lt extends o.E{constructor(a){super(),this._transitionable=new o.T(Qe),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.z(0))}setSky(a,d={}){if(!this._validate(o.B,a,d)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let m in a){let g=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),g):this._transitionable.setValue(m,g)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m={}){return(m==null?void 0:m.validate)!==!1&&o.t(this,a.call(o.u,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class pt{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){let m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){let g=[],_=a.length%2==1?-a[a.length-1]*m:0,A=a[0]*m,P=!0;g.push({left:_,right:A,isDash:P,zeroLength:a[0]===0});let O=a[0];for(let L=1;L<a.length;L++){P=!P;let V=a[L];_=O*m,O+=V,A=O*m,g.push({left:_,right:A,isDash:P,zeroLength:V===0})}return g}addRoundDash(a,d,m){let g=d/2;for(let _=-m;_<=m;_++){let A=this.width*(this.nextRow+m+_),P=0,O=a[P];for(let L=0;L<this.width;L++){L/O.right>1&&(O=a[++P]);let V=Math.abs(L-O.left),U=Math.abs(L-O.right),K=Math.min(V,U),te,oe=_/m*(g+1);if(O.isDash){let ce=g-Math.abs(oe);te=Math.sqrt(K*K+ce*ce)}else te=g-Math.sqrt(K*K+oe*oe);this.data[A+L]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){let O=a[P],L=a[P+1];O.zeroLength?a.splice(P,1):L&&L.isDash===O.isDash&&(L.left=O.left,a.splice(P,1))}let d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);let g=this.width*this.nextRow,_=0,A=a[_];for(let P=0;P<this.width;P++){P/A.right>1&&(A=a[++_]);let O=Math.abs(P-A.left),L=Math.abs(P-A.right),V=Math.min(O,L);this.data[g+P]=Math.max(0,Math.min(255,(A.isDash?V:-V)+128))}}addDash(a,d){let m=d?7:0,g=2*m+1;if(this.nextRow+g>this.height)return o.w("LineAtlas out of space"),null;let _=0;for(let P=0;P<a.length;P++)_+=a[P];if(_!==0){let P=this.width/_,O=this.getDashRanges(a,this.width,P);d?this.addRoundDash(O,P,m):this.addRegularDash(O)}let A={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:_};return this.nextRow+=g,this.dirty=!0,A}bind(a){let d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}let je="maplibre_preloaded_worker_pool";class Ge{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Ge.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[je]}numActive(){return Object.keys(this.active).length}}let at=Math.floor(y.hardwareConcurrency/2),De,he;function qe(){return De||(De=new Ge),De}Ge.workerCount=o.C(globalThis)?Math.max(Math.min(at,3),1):1;class Te{constructor(a,d){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=d;let m=this.workerPool.acquire(d);for(let g=0;g<m.length;g++){let _=new o.F(m[g],d);_.name=`Worker ${g}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d){let m=[];for(let g of this.actors)m.push(g.sendAsync({type:a,data:d}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,d){for(let m of this.actors)m.registerMessageHandler(a,d)}}function Ke(){return he||(he=new Te(qe(),o.G),he.registerMessageHandler("GR",(b,a,d)=>o.m(a,d))),he}function Ze(b,a){let d=o.H();return o.J(d,d,[1,1,0]),o.K(d,d,[.5*b.width,.5*b.height,1]),o.L(d,d,b.calculatePosMatrix(a.toUnwrapped()))}function St(b,a,d,m,g,_){let A=function(U,K,te){if(U)for(let oe of U){let ce=K[oe];if(ce&&ce.source===te&&ce.type==="fill-extrusion")return!0}else for(let oe in K){let ce=K[oe];if(ce.source===te&&ce.type==="fill-extrusion")return!0}return!1}(g&&g.layers,a,b.id),P=_.maxPitchScaleFactor(),O=b.tilesIn(m,P,A);O.sort(It);let L=[];for(let U of O)L.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,d,b._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,g,_,P,Ze(b.transform,U.tileID))});let V=function(U){let K={},te={};for(let oe of U){let ce=oe.queryResults,pe=oe.wrappedTileID,me=te[pe]=te[pe]||{};for(let ye in ce){let se=ce[ye],Ie=me[ye]=me[ye]||{},Ce=K[ye]=K[ye]||[];for(let Ne of se)Ie[Ne.featureIndex]||(Ie[Ne.featureIndex]=!0,Ce.push(Ne))}}return K}(L);for(let U in V)V[U].forEach(K=>{let te=K.feature,oe=b.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=oe});return V}function It(b,a){let d=b.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}function Dt(b,a,d){return o._(this,void 0,void 0,function*(){let m=b;if(b.url?m=(yield o.h(a.transformRequest(b.url,"Source"),d)).data:yield y.frameAsync(d),!m)return null;let g=o.M(o.e(m,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(g.vectorLayerIds=m.vector_layers.map(_=>_.id)),g})}class we{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}extend(a){let d=this._sw,m=this._ne,g,_;if(a instanceof o.N)g=a,_=a;else{if(!(a instanceof we))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(we.convert(a)):this.extend(o.N.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.N.convert(a)):this;if(g=a._sw,_=a._ne,!g||!_)return this}return d||m?(d.lng=Math.min(g.lng,d.lng),d.lat=Math.min(g.lat,d.lat),m.lng=Math.max(_.lng,m.lng),m.lat=Math.max(_.lat,m.lat)):(this._sw=new o.N(g.lng,g.lat),this._ne=new o.N(_.lng,_.lat)),this}getCenter(){return new o.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.N(this.getWest(),this.getNorth())}getSouthEast(){return new o.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:d,lat:m}=o.N.convert(a),g=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&g}static convert(a){return a instanceof we?a:a&&new we(a)}static fromLngLat(a,d=0){let m=360*d/40075017,g=m/Math.cos(Math.PI/180*a.lat);return new we(new o.N(a.lng-g,a.lat-m),new o.N(a.lng+g,a.lat+m))}adjustAntiMeridian(){let a=new o.N(this._sw.lng,this._sw.lat),d=new o.N(this._ne.lng,this._ne.lat);return new we(a,a.lng>d.lng?new o.N(d.lng+360,d.lat):d)}}class ft{constructor(a,d,m){this.bounds=we.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let d=Math.pow(2,a.z),m=Math.floor(o.O(this.bounds.getWest())*d),g=Math.floor(o.Q(this.bounds.getNorth())*d),_=Math.ceil(o.O(this.bounds.getEast())*d),A=Math.ceil(o.Q(this.bounds.getSouth())*d);return a.x>=m&&a.x<_&&a.y>=g&&a.y<A}}class $t extends o.E{constructor(a,d,m,g){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.M(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Dt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new ft(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(d,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};m.request.collectResourceTiming=this._collectResourceTiming;let g="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((_,A)=>{a.reloadPromise={resolve:_,reject:A}})}else a.actor=this.dispatcher.getActor(),g="LT";a.abortController=new AbortController;try{let _=yield a.actor.sendAsync({type:g,data:m},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,_)}catch(_){if(delete a.abortController,a.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,d){if(d&&d.resourceTiming&&(a.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&a.setExpiryData(d),a.loadVectorData(d,this.map.painter),a.reloadPromise){let m=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(m.resolve).catch(m.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class gt extends o.E{constructor(a,d,m,g){super(),this.id=a,this.dispatcher=m,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.M(d,["url","scheme","tileSize"]))}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Dt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(o.e(this,a),a.bounds&&(this.tileBounds=new ft(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let m=yield N.getImage(this.map._requestManager.transformRequest(d,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&m.cacheControl&&m.expires&&a.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});let g=this.map.painter.context,_=g.gl,A=m.data;a.texture=this.map.painter.getTileTexture(A.width),a.texture?a.texture.update(A,{useMipmap:!0}):(a.texture=new be(g,A,_.RGBA,{useMipmap:!0}),a.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(m){if(delete a.abortController,a.aborted)a.state="unloaded";else if(m)throw a.state="errored",m}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Ht extends gt{constructor(a,d,m,g){super(a,d,m,g),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(d,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let g=yield N.getImage(m,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(g&&g.data){let _=g.data;this.map._refreshExpiredTiles&&g.cacheControl&&g.expires&&a.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});let A=o.b(_)&&o.U()?_:yield this.readImageNow(_),P={type:this.type,uid:a.uid,source:this.id,rawImageData:A,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let O=yield a.actor.sendAsync({type:"LDT",data:P});a.dem=O,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(g){if(delete a.abortController,a.aborted)a.state="unloaded";else if(g)throw a.state="errored",g}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.V()){let d=a.width+2,m=a.height+2;try{return new o.R({width:d,height:m},(yield o.W(a,-1,-1,d,m)))}catch(g){}}return y.getImageData(a,1)})}_getNeighboringTiles(a){let d=a.canonical,m=Math.pow(2,d.z),g=(d.x-1+m)%m,_=d.x===0?a.wrap-1:a.wrap,A=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,O={};return O[new o.S(a.overscaledZ,_,d.z,g,d.y).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,A,d.y).key]={backfilled:!1},d.y>0&&(O[new o.S(a.overscaledZ,_,d.z,g,d.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,A,d.y-1).key]={backfilled:!1}),d.y+1<m&&(O[new o.S(a.overscaledZ,_,d.z,g,d.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,A,d.y+1).key]={backfilled:!1}),O}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class dr extends o.E{constructor(a,d,m,g){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(g),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;let _=o.X/this.tileSize;d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*_,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*_,extent:o.X,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.X,radius:(d.clusterRadius||50)*_,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,d,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:d,offset:m}})}_updateWorkerData(a){return o._(this,void 0,void 0,function*(){let d=o.e({type:this.type},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(y.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"}));try{let m=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||m.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let g=null;m.resourceTiming&&m.resourceTiming[this.id]&&(g=m.resourceTiming[this.id].slice(0));let _={dataType:"source"};this._collectResourceTiming&&g&&g.length>0&&o.e(_,{resourceTiming:g}),this.fire(new o.k("data",Object.assign(Object.assign({},_),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},_),{sourceDataType:"content"})))}catch(m){if(this._pendingLoads--,this._removed)return void this.fire(new o.k("dataabort",{dataType:"source"}));this.fire(new o.j(m))}})}loaded(){return this._pendingLoads===0}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.actor?"RT":"LT";a.actor=this.actor;let m={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.abortController=new AbortController;let g=yield this.actor.sendAsync({type:d,data:m},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(g,this.map.painter,d==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Vt=o.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class pr extends o.E{constructor(a,d,m,g){super(),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=d}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let d=yield N.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,a&&(this.coordinates=a),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new o.j(d))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let d=a.map(o.Z.fromLngLat);this.tileID=function(g){let _=1/0,A=1/0,P=-1/0,O=-1/0;for(let K of g)_=Math.min(_,K.x),A=Math.min(A,K.y),P=Math.max(P,K.x),O=Math.max(O,K.y);let L=Math.max(P-_,O-A),V=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),U=Math.pow(2,V);return new o.a1(V,Math.floor((_+P)/2*U),Math.floor((A+O)/2*U))}(d),this.minzoom=this.maxzoom=this.tileID.z;let m=d.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new o.$,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.X,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.X),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.X,o.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new be(a,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let m=!1;for(let g in this.tiles){let _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class $r extends pr{constructor(a,d,m,g){super(a,d,m,g),this.roundZoom=!0,this.type="video",this.options=d}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let d of a.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{let d=yield o.a3(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new o.j(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new be(a,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let m=!1;for(let g in this.tiles){let _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class jr extends pr{constructor(a,d,m,g){super(a,d,m,g),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(A=>typeof A!="number"))||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"coordinates\""))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.a2(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let d=this.map.painter.context,m=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new be(d,this.canvas,m.RGBA,{premultiply:!0});let g=!1;for(let _ in this.tiles){let A=this.tiles[_];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture,g=!0)}g&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let sr={},Qr=b=>{switch(b){case"geojson":return dr;case"image":return pr;case"raster":return gt;case"raster-dem":return Ht;case"vector":return $t;case"video":return $r;case"canvas":return jr;}return sr[b]},st="RTLPluginLoaded";class fi extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ke()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(d,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=y.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.k(st))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let _n=null;function ts(){return _n||(_n=new fi),_n}class pl{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a4(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(g,_){let A={};if(!_)return A;for(let P of g){let O=P.layerIds.map(L=>_.getLayer(L)).filter(Boolean);if(O.length!==0){P.layers=O,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(L=>O.filter(V=>V.id===L)[0]));for(let L of O)A[L.id]=P}}return A}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(let g in this.buckets){let _=this.buckets[g];if(_ instanceof o.a6){if(this.hasSymbolBuckets=!0,!m)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let g in this.buckets){let _=this.buckets[g];if(_ instanceof o.a6&&_.hasRTLText){this.hasRTLText=!0,ts().lazyLoad();break}}this.queryPadding=0;for(let g in this.buckets){let _=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(g).queryRadius(_))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let m in this.buckets){let g=this.buckets[m];g.uploadPending()&&g.upload(a)}let d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new be(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new be(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,g,_,A,P,O,L,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:_,scale:A,tileSize:this.tileSize,pixelPosMatrix:V,transform:O,params:P,queryPadding:this.queryPadding*L},a,d,m):{}}querySourceFeatures(a,d){let m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;let g=m.loadVTLayers(),_=d&&d.sourceLayer?d.sourceLayer:"",A=g._geojsonTileLayer||g[_];if(!A)return;let P=o.a7(d&&d.filter),{z:O,x:L,y:V}=this.tileID.canonical,U={z:O,x:L,y:V};for(let K=0;K<A.length;K++){let te=A.feature(K);if(P.needGeometry){let pe=o.a8(te,!0);if(!P.filter(new o.z(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!P.filter(new o.z(this.tileID.overscaledZ),te))continue;let oe=m.getId(te,_),ce=new o.a9(te,O,L,V,oe);ce.tile=U,a.push(ce)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let d=this.expirationTime;if(a.cacheControl){let m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let m=Date.now(),g=!1;if(this.expirationTime>m)g=!1;else if(d){if(this.expirationTime<d)g=!0;else{let _=this.expirationTime-d;_?this.expirationTime=m+Math.max(_,3e4):g=!0}}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let m=this.latestFeatureIndex.loadVTLayers();for(let g in this.buckets){if(!d.style.hasLayer(g))continue;let _=this.buckets[g],A=_.layers[0].sourceLayer||"_geojsonTileLayer",P=m[A],O=a[A];if(!P||!O||Object.keys(O).length===0)continue;_.update(O,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});let L=d&&d.style&&d.style.getLayer(g);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<y.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=y.now()+a}setDependencies(a,d){let m={};for(let g of d)m[g]=!0;this.dependencies[a]=m}hasDependency(a,d){for(let m of a){let g=this.dependencies[m];if(g){for(let _ of d)if(g[_])return!0}}return!1}}class xt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(let a in this.data)for(let d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){let g=a.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);let _={value:d,timeout:void 0};if(m!==void 0&&(_.timeout=setTimeout(()=>{this.remove(a,_)},m)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){let A=this._getAndRemoveByKey(this.order[0]);A&&this.onRemove(A)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){let d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;let m=a.wrapped().key,g=d===void 0?0:this.data[m].indexOf(d),_=this.data[m][g];return this.data[m].splice(g,1),_.timeout&&clearTimeout(_.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(_.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){let d=[];for(let m in this.data)for(let g of this.data[m])a(g.value)||d.push(g);for(let m of d)this.remove(m.value.tileID,m)}}class Er{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){let g=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][g]=this.stateChanges[a][g]||{},o.e(this.stateChanges[a][g],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(let _ in this.state[a])_!==g&&(this.deletedStates[a][_]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][g]===null){this.deletedStates[a][g]={};for(let _ in this.state[a][g])m[_]||(this.deletedStates[a][g][_]=null)}else for(let _ in m)this.deletedStates[a]&&this.deletedStates[a][g]&&this.deletedStates[a][g][_]===null&&delete this.deletedStates[a][g][_]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;let g=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][g]!==null&&(this.deletedStates[a][g]=this.deletedStates[a][g]||{},this.deletedStates[a][g][m]=null);else if(d!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][g])for(m in this.deletedStates[a][g]={},this.stateChanges[a][g])this.deletedStates[a][g][m]=null;else this.deletedStates[a][g]=null;}else this.deletedStates[a]=null}getState(a,d){let m=String(d),g=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let _=this.deletedStates[a][d];if(_===null)return{};for(let A in _)delete g[A]}return g}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){let m={};for(let g in this.stateChanges){this.state[g]=this.state[g]||{};let _={};for(let A in this.stateChanges[g])this.state[g][A]||(this.state[g][A]={}),o.e(this.state[g][A],this.stateChanges[g][A]),_[A]=this.state[g][A];m[g]=_}for(let g in this.deletedStates){this.state[g]=this.state[g]||{};let _={};if(this.deletedStates[g]===null)for(let A in this.state[g])_[A]={},this.state[g][A]={};else for(let A in this.deletedStates[g]){if(this.deletedStates[g][A]===null)this.state[g][A]={};else for(let P of Object.keys(this.deletedStates[g][A]))delete this.state[g][A][P];_[A]=this.state[g][A]}m[g]=m[g]||{},o.e(m[g],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(let g in a)a[g].setFeatureState(m,d)}}class cr extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",g=>this._dataHandler(g)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,_,A,P)=>{let O=new(Qr(_.type))(g,_,A,P);if(O.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${O.id}`);return O})(a,d,m,this),this._tiles={},this._cache=new xt(0,g=>this._unloadTile(g)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Er,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d,m){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,d,m)}catch(g){a.state="errored",g.status!==404?this._source.fire(new o.j(g,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let d in this._tiles){let m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(ho).map(a=>a.key)}getRenderableIds(a){let d=[];for(let m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,g)=>{let _=m.tileID,A=g.tileID,P=new o.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),O=new o.P(A.canonical.x,A.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-A.overscaledZ||O.y-P.y||O.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(ho).map(m=>m.key)}hasRenderableParent(a){let d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){return o._(this,void 0,void 0,function*(){let m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),yield this._loadTile(m,a,d))})}_tileLoaded(a,d,m){a.timeAdded=y.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let d=this.getRenderableIds();for(let g=0;g<d.length;g++){let _=d[g];if(a.neighboringTiles&&a.neighboringTiles[_]){let A=this.getTileByID(_);m(a,A),m(A,a)}}function m(g,_){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let A=_.tileID.canonical.x-g.tileID.canonical.x,P=_.tileID.canonical.y-g.tileID.canonical.y,O=Math.pow(2,g.tileID.canonical.z),L=_.tileID.key;A===0&&P===0||Math.abs(P)>1||(Math.abs(A)>1&&(Math.abs(A+O)===1?A+=O:Math.abs(A-O)===1&&(A-=O)),_.dem&&g.dem&&(g.dem.backfillBorder(_.dem,A,P),g.neighboringTiles&&g.neighboringTiles[L]&&(g.neighboringTiles[L].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,g){for(let _ in this._tiles){let A=this._tiles[_];if(g[_]||!A.hasData()||A.tileID.overscaledZ<=d||A.tileID.overscaledZ>m)continue;let P=A.tileID;for(;A&&A.tileID.overscaledZ>d+1;){let L=A.tileID.scaledTo(A.tileID.overscaledZ-1);A=this._tiles[L.key],A&&A.hasData()&&(P=L)}let O=P;for(;O.overscaledZ>d;)if(O=O.scaledTo(O.overscaledZ-1),a[O.key]){g[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){let m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){let g=a.scaledTo(m),_=this._getLoadedTile(g);if(_)return _}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,g=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)}handleWrapJump(a){let d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){let m={};for(let g in this._tiles){let _=this._tiles[g];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+d),m[_.tileID.key]=_}this._tiles=m;for(let g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(let g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}_updateCoveredAndRetainedTiles(a,d,m,g,_,A){let P={},O={},L=Object.keys(a),V=y.now();for(let U of L){let K=a[U],te=this._tiles[U];if(!te||te.fadeEndTime!==0&&te.fadeEndTime<=V)continue;let oe=this.findLoadedParent(K,d),ce=this.findLoadedSibling(K),pe=oe||ce||null;pe&&(this._addTile(pe.tileID),P[pe.tileID.key]=pe.tileID),O[U]=K}this._retainLoadedChildren(O,g,m,a);for(let U in P)a[U]||(this._coveredTiles[U]=!0,a[U]=P[U]);if(A){let U={},K={};for(let te of _)this._tiles[te.key].hasData()?U[te.key]=te:K[te.key]=te;for(let te in K){let oe=K[te].children(this._source.maxzoom);this._tiles[oe[0].key]&&this._tiles[oe[1].key]&&this._tiles[oe[2].key]&&this._tiles[oe[3].key]&&(U[oe[0].key]=a[oe[0].key]=oe[0],U[oe[1].key]=a[oe[1].key]=oe[1],U[oe[2].key]=a[oe[2].key]=oe[2],U[oe[3].key]=a[oe[3].key]=oe[3],delete K[te])}for(let te in K){let oe=K[te],ce=this.findLoadedParent(oe,this._source.minzoom),pe=this.findLoadedSibling(oe),me=ce||pe||null;if(me){U[me.tileID.key]=a[me.tileID.key]=me.tileID;for(let ye in U)U[ye].isChildOf(me.tileID)&&delete U[ye]}}for(let te in this._tiles)U[te]||(this._coveredTiles[te]=!0)}}update(a,d){if(!this._sourceLoaded||this._paused)return;let m;this.transform=a,this.terrain=d,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.S(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(V=>this._source.hasTile(V)))):m=[];let g=a.coveringZoomLevel(this._source),_=Math.max(g-cr.maxOverzooming,this._source.minzoom),A=Math.max(g+cr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let U of m)if(U.canonical.z>this._source.minzoom){let K=U.scaledTo(U.canonical.z-1);V[K.key]=K;let te=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));V[te.key]=te}m=m.concat(Object.values(V))}let P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let O=this._updateRetainedTiles(m,g);ka(this._source.type)&&this._updateCoveredAndRetainedTiles(O,_,A,g,m,d);for(let V in O)this._tiles[V].clearFadeHold();let L=o.ab(this._tiles,O);for(let V of L){let U=this._tiles[V];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){var m;let g={},_={},A=Math.max(d-cr.maxOverzooming,this._source.minzoom),P=Math.max(d+cr.maxUnderzooming,this._source.minzoom),O={};for(let L of a){let V=this._addTile(L);g[L.key]=L,V.hasData()||d<this._source.maxzoom&&(O[L.key]=L)}this._retainLoadedChildren(O,d,P,g);for(let L of a){let V=this._tiles[L.key];if(V.hasData())continue;if(d+1>this._source.maxzoom){let K=L.children(this._source.maxzoom)[0],te=this.getTile(K);if(te&&te.hasData()){g[K.key]=K;continue}}else{let K=L.children(this._source.maxzoom);if(g[K[0].key]&&g[K[1].key]&&g[K[2].key]&&g[K[3].key])continue}let U=V.wasRequested();for(let K=L.overscaledZ-1;K>=A;--K){let te=L.scaledTo(K);if(_[te.key])break;if(_[te.key]=!0,V=this.getTile(te),!V&&U&&(V=this._addTile(te)),V){let oe=V.hasData();if((oe||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||U)&&(g[te.key]=te),U=V.wasRequested(),oe)break}}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let d=[],m,g=this._tiles[a].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){m=this._loadedParentTiles[g.key];break}d.push(g.key);let _=g.scaledTo(g.overscaledZ-1);if(m=this._getLoadedTile(_),m)break;g=_}for(let _ of d)this._loadedParentTiles[_]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let d=this._tiles[a].tileID,m=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));let m=d;return d||(d=new pl(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,a.key,d.state)),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){let d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(a){let d=a.sourceDataType;a.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&d==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){let g=[],_=this.transform;if(!_)return g;let A=m?_.getCameraQueryGeometry(a):a,P=a.map(oe=>_.pointCoordinate(oe,this.terrain)),O=A.map(oe=>_.pointCoordinate(oe,this.terrain)),L=this.getIds(),V=1/0,U=1/0,K=-1/0,te=-1/0;for(let oe of O)V=Math.min(V,oe.x),U=Math.min(U,oe.y),K=Math.max(K,oe.x),te=Math.max(te,oe.y);for(let oe=0;oe<L.length;oe++){let ce=this._tiles[L[oe]];if(ce.holdingForFade())continue;let pe=ce.tileID,me=Math.pow(2,_.zoom-ce.tileID.overscaledZ),ye=d*ce.queryPadding*o.X/ce.tileSize/me,se=[pe.getTilePoint(new o.Z(V,U)),pe.getTilePoint(new o.Z(K,te))];if(se[0].x-ye<o.X&&se[0].y-ye<o.X&&se[1].x+ye>=0&&se[1].y+ye>=0){let Ie=P.map(Ne=>pe.getTilePoint(Ne)),Ce=O.map(Ne=>pe.getTilePoint(Ne));g.push({tile:ce,tileID:pe,queryGeometry:Ie,cameraQueryGeometry:Ce,scale:me})}}return g}getVisibleCoordinates(a){let d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(let m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(ka(this._source.type)){let a=y.now();for(let d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){let g=this._tiles[a];g&&g.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(let m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function ho(b,a){let d=Math.abs(2*b.wrap)-+(b.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return b.overscaledZ-a.overscaledZ||m-d||a.canonical.y-b.canonical.y||a.canonical.x-b.canonical.x}function ka(b){return b==="raster"||b==="image"||b==="video"}cr.maxOverzooming=10,cr.maxUnderzooming=3;class Se{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ac(a,0,1);let d=1,m=this._distances[d],g=a*this.paddedLength+this.padding;for(;m<g&&d<this._distances.length;)m=this._distances[++d];let _=d-1,A=this._distances[_],P=m-A,O=P>0?(g-A)/P:0;return this.points[_].mult(1-O).add(this.points[d].mult(O))}}function Ae(b,a){let d=!0;return b==="always"||b!=="never"&&a!=="never"||(d=!1),d}class ct{constructor(a,d,m){let g=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let A=0;A<this.xCellCount*this.yCellCount;A++)g.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,g,_){this._forEachCell(d,m,g,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(g),this.bboxes.push(_)}insertCircle(a,d,m,g){this._forEachCell(d-g,m-g,d+g,m+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(g)}_insertBoxCell(a,d,m,g,_,A){this.boxCells[_].push(A)}_insertCircleCell(a,d,m,g,_,A){this.circleCells[_].push(A)}_query(a,d,m,g,_,A,P){if(m<0||a>this.width||g<0||d>this.height)return[];let O=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=g){if(_)return[{key:null,x1:a,y1:d,x2:m,y2:g}];for(let L=0;L<this.boxKeys.length;L++)O.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){let V=this.circles[3*L],U=this.circles[3*L+1],K=this.circles[3*L+2];O.push({key:this.circleKeys[L],x1:V-K,y1:U-K,x2:V+K,y2:U+K})}}else this._forEachCell(a,d,m,g,this._queryCell,O,{hitTest:_,overlapMode:A,seenUids:{box:{},circle:{}}},P);return O}query(a,d,m,g){return this._query(a,d,m,g,!1,null)}hitTest(a,d,m,g,_,A){return this._query(a,d,m,g,!0,_,A).length>0}hitTestCircle(a,d,m,g,_){let A=a-m,P=a+m,O=d-m,L=d+m;if(P<0||A>this.width||L<0||O>this.height)return!1;let V=[];return this._forEachCell(A,O,P,L,this._queryCellCircle,V,{hitTest:!0,overlapMode:g,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},_),V.length>0}_queryCell(a,d,m,g,_,A,P,O){let{seenUids:L,hitTest:V,overlapMode:U}=P,K=this.boxCells[_];if(K!==null){let oe=this.bboxes;for(let ce of K)if(!L.box[ce]){L.box[ce]=!0;let pe=4*ce,me=this.boxKeys[ce];if(a<=oe[pe+2]&&d<=oe[pe+3]&&m>=oe[pe+0]&&g>=oe[pe+1]&&(!O||O(me))&&(!V||!Ae(U,me.overlapMode))&&(A.push({key:me,x1:oe[pe],y1:oe[pe+1],x2:oe[pe+2],y2:oe[pe+3]}),V))return!0}}let te=this.circleCells[_];if(te!==null){let oe=this.circles;for(let ce of te)if(!L.circle[ce]){L.circle[ce]=!0;let pe=3*ce,me=this.circleKeys[ce];if(this._circleAndRectCollide(oe[pe],oe[pe+1],oe[pe+2],a,d,m,g)&&(!O||O(me))&&(!V||!Ae(U,me.overlapMode))){let ye=oe[pe],se=oe[pe+1],Ie=oe[pe+2];if(A.push({key:me,x1:ye-Ie,y1:se-Ie,x2:ye+Ie,y2:se+Ie}),V)return!0}}}return!1}_queryCellCircle(a,d,m,g,_,A,P,O){let{circle:L,seenUids:V,overlapMode:U}=P,K=this.boxCells[_];if(K!==null){let oe=this.bboxes;for(let ce of K)if(!V.box[ce]){V.box[ce]=!0;let pe=4*ce,me=this.boxKeys[ce];if(this._circleAndRectCollide(L.x,L.y,L.radius,oe[pe+0],oe[pe+1],oe[pe+2],oe[pe+3])&&(!O||O(me))&&!Ae(U,me.overlapMode))return A.push(!0),!0}}let te=this.circleCells[_];if(te!==null){let oe=this.circles;for(let ce of te)if(!V.circle[ce]){V.circle[ce]=!0;let pe=3*ce,me=this.circleKeys[ce];if(this._circlesCollide(oe[pe],oe[pe+1],oe[pe+2],L.x,L.y,L.radius)&&(!O||O(me))&&!Ae(U,me.overlapMode))return A.push(!0),!0}}}_forEachCell(a,d,m,g,_,A,P,O){let L=this._convertToXCellCoord(a),V=this._convertToYCellCoord(d),U=this._convertToXCellCoord(m),K=this._convertToYCellCoord(g);for(let te=L;te<=U;te++)for(let oe=V;oe<=K;oe++)if(_.call(this,a,d,m,g,this.xCellCount*oe+te,A,P,O))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,g,_,A){let P=g-a,O=_-d,L=m+A;return L*L>P*P+O*O}_circleAndRectCollide(a,d,m,g,_,A,P){let O=(A-g)/2,L=Math.abs(a-(g+O));if(L>O+m)return!1;let V=(P-_)/2,U=Math.abs(d-(_+V));if(U>V+m)return!1;if(L<=O||U<=V)return!0;let K=L-O,te=U-V;return K*K+te*te<=m*m}}function kt(b,a,d,m,g){let _=o.H();return a?(o.K(_,_,[1/g,1/g,1]),d||o.ad(_,_,m.angle)):o.L(_,m.labelPlaneMatrix,b),_}function Ot(b,a,d,m,g){if(a){let _=o.ae(b);return o.K(_,_,[g,g,1]),d||o.ad(_,_,-m.angle),_}return m.glCoordMatrix}function ne(b,a,d,m){let g;m?(g=[b,a,m(b,a),1],o.af(g,g,d)):(g=[b,a,0,1],nn(g,g,d));let _=g[3];return{point:new o.P(g[0]/_,g[1]/_),signedDistanceFromCamera:_,isOccluded:!1}}function H(b,a){return .5+b/a*.5}function $(b,a){return b.x>=-a[0]&&b.x<=a[0]&&b.y>=-a[1]&&b.y<=a[1]}function Y(b,a,d,m,g,_,A,P,O,L,V,U,K,te,oe){let ce=m?b.textSizeData:b.iconSizeData,pe=o.ag(ce,d.transform.zoom),me=[256/d.width*2+1,256/d.height*2+1],ye=m?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;ye.clear();let se=b.lineVertexArray,Ie=m?b.text.placedSymbolArray:b.icon.placedSymbolArray,Ce=d.transform.width/d.transform.height,Ne=!1;for(let tt=0;tt<Ie.length;tt++){let dt=Ie.get(tt);if(dt.hidden||dt.writingMode===o.ah.vertical&&!Ne){ir(dt.numGlyphs,ye);continue}Ne=!1;let Mt=ne(dt.anchorX,dt.anchorY,a,oe);if(!$(Mt.point,me)){ir(dt.numGlyphs,ye);continue}let zt=H(d.transform.cameraToCenterDistance,Mt.signedDistanceFromCamera),wt=o.ai(ce,pe,dt),bt=A?wt/zt:wt*zt,Yt={getElevation:oe,labelPlaneMatrix:g,lineVertexArray:se,pitchWithMap:A,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:L,tileAnchorPoint:new o.P(dt.anchorX,dt.anchorY),unwrappedTileID:V,width:U,height:K,translation:te},yr=xe(Yt,dt,bt,!1,P,a,_,b.glyphOffsetArray,ye,Ce,O);Ne=yr.useVertical,(yr.notEnoughRoom||Ne||yr.needsFlipping&&xe(Yt,dt,bt,!0,P,a,_,b.glyphOffsetArray,ye,Ce,O).notEnoughRoom)&&ir(dt.numGlyphs,ye)}m?b.text.dynamicLayoutVertexBuffer.updateData(ye):b.icon.dynamicLayoutVertexBuffer.updateData(ye)}function ie(b,a,d,m,g,_,A,P){let O=_.glyphStartIndex+_.numGlyphs,L=_.lineStartIndex,V=_.lineStartIndex+_.lineLength,U=a.getoffsetX(_.glyphStartIndex),K=a.getoffsetX(O-1),te=ht(b*U,d,m,g,_.segment,L,V,P,A);if(!te)return null;let oe=ht(b*K,d,m,g,_.segment,L,V,P,A);return oe?P.projectionCache.anyProjectionOccluded?null:{first:te,last:oe}:null}function ge(b,a,d,m){return b===o.ah.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(b===o.ah.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function xe(b,a,d,m,g,_,A,P,O,L,V){let U=d/24,K=a.lineOffsetX*U,te=a.lineOffsetY*U,oe;if(a.numGlyphs>1){let ce=a.glyphStartIndex+a.numGlyphs,pe=a.lineStartIndex,me=a.lineStartIndex+a.lineLength,ye=ie(U,P,K,te,m,a,V,b);if(!ye)return{notEnoughRoom:!0};let se=ne(ye.first.point.x,ye.first.point.y,A,b.getElevation).point,Ie=ne(ye.last.point.x,ye.last.point.y,A,b.getElevation).point;if(g&&!m){let Ce=ge(a.writingMode,se,Ie,L);if(Ce)return Ce}oe=[ye.first];for(let Ce=a.glyphStartIndex+1;Ce<ce-1;Ce++)oe.push(ht(U*P.getoffsetX(Ce),K,te,m,a.segment,pe,me,b,V));oe.push(ye.last)}else{if(g&&!m){let pe=ne(b.tileAnchorPoint.x,b.tileAnchorPoint.y,_,b.getElevation).point,me=a.lineStartIndex+a.segment+1,ye=new o.P(b.lineVertexArray.getx(me),b.lineVertexArray.gety(me)),se=ne(ye.x,ye.y,_,b.getElevation),Ie=se.signedDistanceFromCamera>0?se.point:function(Ne,tt,dt,Mt,zt,wt){return Ee(Ne,tt,dt,1,zt,wt)}(b.tileAnchorPoint,ye,pe,0,_,b),Ce=ge(a.writingMode,pe,Ie,L);if(Ce)return Ce}let ce=ht(U*P.getoffsetX(a.glyphStartIndex),K,te,m,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,b,V);if(!ce||b.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};oe=[ce]}for(let ce of oe)o.aj(O,ce.point,ce.angle);return{}}function Ee(b,a,d,m,g,_){let A=b.add(b.sub(a)._unit()),P=g!==void 0?ne(A.x,A.y,g,_.getElevation).point:Ve(A.x,A.y,_).point,O=d.sub(P);return d.add(O._mult(m/O.mag()))}function fe(b,a,d){let m=a.projectionCache;if(m.projections[b])return m.projections[b];let g=new o.P(a.lineVertexArray.getx(b),a.lineVertexArray.gety(b)),_=Ve(g.x,g.y,a);if(_.signedDistanceFromCamera>0)return m.projections[b]=_.point,m.anyProjectionOccluded=m.anyProjectionOccluded||_.isOccluded,_.point;let A=b-d.direction;return function(P,O,L,V,U){return Ee(P,O,L,V,void 0,U)}(d.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(A),a.lineVertexArray.gety(A)),g,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,a)}function Ve(b,a,d){let m=b+d.translation[0],g=a+d.translation[1],_;return!d.pitchWithMap&&d.projection.useSpecialProjectionForSymbols?(_=d.projection.projectTileCoordinates(m,g,d.unwrappedTileID,d.getElevation),_.point.x=(.5*_.point.x+.5)*d.width,_.point.y=(.5*-_.point.y+.5)*d.height):(_=ne(m,g,d.labelPlaneMatrix,d.getElevation),_.isOccluded=!1),_}function et(b,a,d){return b._unit()._perp()._mult(a*d)}function Fe(b,a,d,m,g,_,A,P,O){if(P.projectionCache.offsets[b])return P.projectionCache.offsets[b];let L=d.add(a);if(b+O.direction<m||b+O.direction>=g)return P.projectionCache.offsets[b]=L,L;let V=fe(b+O.direction,P,O),U=et(V.sub(d),A,O.direction),K=d.add(U),te=V.add(U);return P.projectionCache.offsets[b]=o.ak(_,L,K,te)||L,P.projectionCache.offsets[b]}function ht(b,a,d,m,g,_,A,P,O){let L=m?b-a:b+a,V=L>0?1:-1,U=0;m&&(V*=-1,U=Math.PI),V<0&&(U+=Math.PI);let K,te=V>0?_+g:_+g+1;P.projectionCache.cachedAnchorPoint?K=P.projectionCache.cachedAnchorPoint:(K=Ve(P.tileAnchorPoint.x,P.tileAnchorPoint.y,P).point,P.projectionCache.cachedAnchorPoint=K);let oe,ce,pe=K,me=K,ye=0,se=0,Ie=Math.abs(L),Ce=[],Ne;for(;ye+se<=Ie;){if(te+=V,te<_||te>=A)return null;ye+=se,me=pe,ce=oe;let Mt={absOffsetX:Ie,direction:V,distanceFromAnchor:ye,previousVertex:me};if(pe=fe(te,P,Mt),d===0)Ce.push(me),Ne=pe.sub(me);else{let zt,wt=pe.sub(me);zt=wt.mag()===0?et(fe(te+V,P,Mt).sub(pe),d,V):et(wt,d,V),ce||(ce=me.add(zt)),oe=Fe(te,zt,pe,_,A,ce,d,P,Mt),Ce.push(ce),Ne=oe.sub(ce)}se=Ne.mag()}let tt=Ne._mult((Ie-ye)/se)._add(ce||me),dt=U+Math.atan2(pe.y-me.y,pe.x-me.x);return Ce.push(tt),{point:tt,angle:O?dt:0,path:Ce}}let Gt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ir(b,a){for(let d=0;d<b;d++){let m=a.length;a.resize(m+4),a.float32.set(Gt,3*m)}}function nn(b,a,d){let m=a[0],g=a[1];return b[0]=d[0]*m+d[4]*g+d[12],b[1]=d[1]*m+d[5]*g+d[13],b[3]=d[3]*m+d[7]*g+d[15],b}let wr=100;class on{constructor(a,d,m=new ct(a.width+200,a.height+200,25),g=new ct(a.width+200,a.height+200,25)){this.transform=a,this.mapProjection=d,this.grid=m,this.ignoredGrid=g,this.pitchFactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+wr,this.screenBottomBoundary=a.height+wr,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,g,_,A,P,O,L,V,U){let K=a.anchorPointX+O[0],te=a.anchorPointY+O[1],oe=this.projectAndGetPerspectiveRatio(g,K,te,_,V),ce=m*oe.perspectiveRatio,pe;if(A||P)pe=this._projectCollisionBox(a,ce,g,_,A,P,O,oe,V,U);else{let Ce=oe.point.x+(U?U.x*ce:0),Ne=oe.point.y+(U?U.y*ce:0);pe={allPointsOccluded:!1,box:[Ce+a.x1*ce,Ne+a.y1*ce,Ce+a.x2*ce,Ne+a.y2*ce]}}let[me,ye,se,Ie]=pe.box;return this.mapProjection.useSpecialProjectionForSymbols&&(A?pe.allPointsOccluded:this.mapProjection.isOccluded(K,te,_))||oe.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(me,ye,se,Ie)||d!=="always"&&this.grid.hitTest(me,ye,se,Ie,d,L)?{box:[me,ye,se,Ie],placeable:!1,offscreen:!1}:{box:[me,ye,se,Ie],placeable:!0,offscreen:this.isOffscreen(me,ye,se,Ie)}}placeCollisionCircles(a,d,m,g,_,A,P,O,L,V,U,K,te,oe,ce,pe){let me=[],ye=new o.P(d.anchorX,d.anchorY),se=this.getPerspectiveRatio(A,ye.x,ye.y,P,pe),Ie=(U?_/se:_*se)/o.ap,Ce={getElevation:pe,labelPlaneMatrix:O,lineVertexArray:m,pitchWithMap:U,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:ye,unwrappedTileID:P,width:this.transform.width,height:this.transform.height,translation:ce},Ne=ie(Ie,g,d.lineOffsetX*Ie,d.lineOffsetY*Ie,!1,d,!1,Ce),tt=!1,dt=!1,Mt=!0;if(Ne){let zt=.5*te*se+oe,wt=new o.P(-100,-100),bt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Yt=new Se,yr=Ne.first,Et=Ne.last,Nt=[];for(let Mr=yr.path.length-1;Mr>=1;Mr--)Nt.push(yr.path[Mr]);for(let Mr=1;Mr<Et.path.length;Mr++)Nt.push(Et.path[Mr]);let mr=2.5*zt;if(L){let Mr=this.projectPathToScreenSpace(Nt,Ce,L);Nt=Mr.some(Wr=>Wr.signedDistanceFromCamera<=0)?[]:Mr.map(Wr=>Wr.point)}let Yn=[];if(Nt.length>0){let Mr=Nt[0].clone(),Wr=Nt[0].clone();for(let Kn=1;Kn<Nt.length;Kn++)Mr.x=Math.min(Mr.x,Nt[Kn].x),Mr.y=Math.min(Mr.y,Nt[Kn].y),Wr.x=Math.max(Wr.x,Nt[Kn].x),Wr.y=Math.max(Wr.y,Nt[Kn].y);Yn=Mr.x>=wt.x&&Wr.x<=bt.x&&Mr.y>=wt.y&&Wr.y<=bt.y?[Nt]:Wr.x<wt.x||Mr.x>bt.x||Wr.y<wt.y||Mr.y>bt.y?[]:o.al([Nt],wt.x,wt.y,bt.x,bt.y)}for(let Mr of Yn){Yt.reset(Mr,.25*zt);let Wr=0;Wr=Yt.length<=.5*zt?1:Math.ceil(Yt.paddedLength/mr)+1;for(let Kn=0;Kn<Wr;Kn++){let go=Kn/Math.max(Wr-1,1),Vs=Yt.lerp(go),Xn=Vs.x+wr,la=Vs.y+wr;me.push(Xn,la,zt,0);let ko=Xn-zt,vo=la-zt,qo=Xn+zt,gl=la+zt;if(Mt=Mt&&this.isOffscreen(ko,vo,qo,gl),dt=dt||this.isInsideGrid(ko,vo,qo,gl),a!=="always"&&this.grid.hitTestCircle(Xn,la,zt,a,K)&&(tt=!0,!V))return{circles:[],offscreen:!1,collisionDetected:tt}}}}return{circles:!V&&tt||!dt||se<this.perspectiveRatioCutoff?[]:me,offscreen:Mt,collisionDetected:tt}}projectPathToScreenSpace(a,d,m){return a.map(g=>ne(g.x,g.y,m,d.getElevation))}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let d=[],m=1/0,g=1/0,_=-1/0,A=-1/0;for(let V of a){let U=new o.P(V.x+wr,V.y+wr);m=Math.min(m,U.x),g=Math.min(g,U.y),_=Math.max(_,U.x),A=Math.max(A,U.y),d.push(U)}let P=this.grid.query(m,g,_,A).concat(this.ignoredGrid.query(m,g,_,A)),O={},L={};for(let V of P){let U=V.key;if(O[U.bucketInstanceId]===void 0&&(O[U.bucketInstanceId]={}),O[U.bucketInstanceId][U.featureIndex])continue;let K=[new o.P(V.x1,V.y1),new o.P(V.x2,V.y1),new o.P(V.x2,V.y2),new o.P(V.x1,V.y2)];o.am(d,K)&&(O[U.bucketInstanceId][U.featureIndex]=!0,L[U.bucketInstanceId]===void 0&&(L[U.bucketInstanceId]=[]),L[U.bucketInstanceId].push(U.featureIndex))}return L}insertCollisionBox(a,d,m,g,_,A){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:_,collisionGroupID:A,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,g,_,A){let P=m?this.ignoredGrid:this.grid,O={bucketInstanceId:g,featureIndex:_,collisionGroupID:A,overlapMode:d};for(let L=0;L<a.length;L+=4)P.insertCircle(O,a[L],a[L+1],a[L+2])}projectAndGetPerspectiveRatio(a,d,m,g,_){let A;_?(A=[d,m,_(d,m),1],o.af(A,A,a)):(A=[d,m,0,1],nn(A,A,a));let P=A[3];return{point:new o.P((A[0]/P+1)/2*this.transform.width+wr,(-A[1]/P+1)/2*this.transform.height+wr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/P*.5,isOccluded:!1,signedDistanceFromCamera:P}}getPerspectiveRatio(a,d,m,g,_){let A=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(d,m,g,_):ne(d,m,a,_);return .5+this.transform.cameraToCenterDistance/A.signedDistanceFromCamera*.5}isOffscreen(a,d,m,g){return m<wr||a>=this.screenRightBoundary||g<wr||d>this.screenBottomBoundary}isInsideGrid(a,d,m,g){return m>=0&&a<this.gridRightBoundary&&g>=0&&d<this.gridBottomBoundary}getViewportMatrix(){let a=o.an([]);return o.J(a,a,[-100,-100,0]),a}_projectCollisionBox(a,d,m,g,_,A,P,O,L,V){let U=new o.P(1,0),K=new o.P(0,1),te=new o.P(a.anchorPointX+P[0],a.anchorPointY+P[1]);if(A&&!_){let Mt=this.projectAndGetPerspectiveRatio(m,te.x+1,te.y,g,L).point.sub(O.point).unit(),zt=Math.atan(Mt.y/Mt.x)+(Mt.x<0?Math.PI:0),wt=Math.sin(zt),bt=Math.cos(zt);U=new o.P(bt,wt),K=new o.P(-wt,bt)}else if(!A&&_){let Mt=-this.transform.angle,zt=Math.sin(Mt),wt=Math.cos(Mt);U=new o.P(wt,zt),K=new o.P(-zt,wt)}let oe=O.point,ce=d;if(_){oe=te;let Mt=this.transform.zoom-Math.floor(this.transform.zoom);ce=Math.pow(2,-Mt),ce*=this.mapProjection.getPitchedTextCorrection(this.transform,te,g),V||(ce*=o.ac(.5+O.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}V&&(oe=oe.add(U.mult(V.x*ce)).add(K.mult(V.y*ce)));let pe=a.x1*ce,me=a.x2*ce,ye=(pe+me)/2,se=a.y1*ce,Ie=a.y2*ce,Ce=(se+Ie)/2,Ne=[{offsetX:pe,offsetY:se},{offsetX:ye,offsetY:se},{offsetX:me,offsetY:se},{offsetX:me,offsetY:Ce},{offsetX:me,offsetY:Ie},{offsetX:ye,offsetY:Ie},{offsetX:pe,offsetY:Ie},{offsetX:pe,offsetY:Ce}],tt=[];for(let{offsetX:Mt,offsetY:zt}of Ne)tt.push(new o.P(oe.x+U.x*Mt+K.x*zt,oe.y+U.y*Mt+K.y*zt));let dt=!1;if(_){let Mt=tt.map(zt=>this.projectAndGetPerspectiveRatio(m,zt.x,zt.y,g,L));dt=Mt.some(zt=>!zt.isOccluded),tt=Mt.map(zt=>zt.point)}else dt=!0;return{box:o.ao(tt),allPointsOccluded:!dt}}}function Hr(b,a,d){return a*(o.X/(b.tileSize*Math.pow(2,d-b.tileID.overscaledZ)))}class Di{constructor(a,d,m,g){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):g&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class hi{constructor(a,d,m,g,_){this.text=new Di(a?a.text:null,d,m,_),this.icon=new Di(a?a.icon:null,d,g,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class kr{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class wn{constructor(){this.invProjMatrix=o.H(),this.viewportMatrix=o.H(),this.circles=[]}}class ni{constructor(a,d,m,g,_){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=g,this.tileID=_}}class Ji{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function oo(b,a,d,m,g){let{horizontalAlign:_,verticalAlign:A}=o.au(b);return new o.P(-(_-.5)*a+m[0]*g,-(A-.5)*d+m[1]*g)}class Do{constructor(a,d,m,g,_,A){this.transform=a.clone(),this.terrain=m,this.collisionIndex=new on(this.transform,d),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new Ji(_),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let d=this.terrain;return d?(m,g)=>d.getElevation(a,m,g):null}getBucketParts(a,d,m,g){let _=m.getBucket(d),A=m.latestFeatureIndex;if(!_||!A||d.id!==_.layerIds[0])return;let P=m.collisionBoxArray,O=_.layers[0].layout,L=_.layers[0].paint,V=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),U=m.tileSize/o.X,K=m.tileID.toUnwrapped(),te=this.transform.calculatePosMatrix(K),oe=O.get("text-pitch-alignment")==="map",ce=O.get("text-rotation-alignment")==="map",pe=Hr(m,1,this.transform.zoom),me=this.collisionIndex.mapProjection.translatePosition(this.transform,m,L.get("text-translate"),L.get("text-translate-anchor")),ye=this.collisionIndex.mapProjection.translatePosition(this.transform,m,L.get("icon-translate"),L.get("icon-translate-anchor")),se=kt(te,oe,ce,this.transform,pe),Ie=null;if(oe){let Ne=Ot(te,oe,ce,this.transform,pe);Ie=o.L([],this.transform.labelPlaneMatrix,Ne)}this.retainedQueryData[_.bucketInstanceId]=new ni(_.bucketInstanceId,A,_.sourceLayerIndex,_.index,m.tileID);let Ce={bucket:_,layout:O,translationText:me,translationIcon:ye,posMatrix:te,unwrappedTileID:K,textLabelPlaneMatrix:se,labelToScreenMatrix:Ie,scale:V,textPixelRatio:U,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ag(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(g)for(let Ne of _.sortKeyRanges){let{sortKey:tt,symbolInstanceStart:dt,symbolInstanceEnd:Mt}=Ne;a.push({sortKey:tt,symbolInstanceStart:dt,symbolInstanceEnd:Mt,parameters:Ce})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:Ce})}attemptAnchorPlacement(a,d,m,g,_,A,P,O,L,V,U,K,te,oe,ce,pe,me,ye,se){let Ie=o.aq[a.textAnchor],Ce=[a.textOffset0,a.textOffset1],Ne=oo(Ie,m,g,Ce,_),tt=this.collisionIndex.placeCollisionBox(d,K,O,L,V,P,A,pe,U.predicate,se,Ne);if((!ye||this.collisionIndex.placeCollisionBox(ye,K,O,L,V,P,A,me,U.predicate,se,Ne).placeable)&&tt.placeable){let dt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(dt=this.prevPlacement.variableOffsets[te.crossTileID].anchor),te.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[te.crossTileID]={textOffset:Ce,width:m,height:g,anchor:Ie,textBoxScale:_,prevAnchor:dt},this.markUsedJustification(oe,Ie,te,ce),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,ce,te),this.placedOrientations[te.crossTileID]=ce),{shift:Ne,placedGlyphBoxes:tt}}}placeLayerBucketPart(a,d,m){let{bucket:g,layout:_,translationText:A,translationIcon:P,posMatrix:O,unwrappedTileID:L,textLabelPlaneMatrix:V,labelToScreenMatrix:U,textPixelRatio:K,holdingForFade:te,collisionBoxArray:oe,partiallyEvaluatedTextSize:ce,collisionGroup:pe}=a.parameters,me=_.get("text-optional"),ye=_.get("icon-optional"),se=o.ar(_,"text-overlap","text-allow-overlap"),Ie=se==="always",Ce=o.ar(_,"icon-overlap","icon-allow-overlap"),Ne=Ce==="always",tt=_.get("text-rotation-alignment")==="map",dt=_.get("text-pitch-alignment")==="map",Mt=_.get("icon-text-fit")!=="none",zt=_.get("symbol-z-order")==="viewport-y",wt=Ie&&(Ne||!g.hasIconData()||ye),bt=Ne&&(Ie||!g.hasTextData()||me);!g.collisionArrays&&oe&&g.deserializeCollisionBoxes(oe);let Yt=this._getTerrainElevationFunc(this.retainedQueryData[g.bucketInstanceId].tileID),yr=(Et,Nt,mr)=>{var Yn,Mr;if(d[Et.crossTileID])return;if(te)return void(this.placements[Et.crossTileID]=new kr(!1,!1,!1));let Wr=!1,Kn=!1,go=!0,Vs=null,Xn={box:null,placeable:!1,offscreen:null},la={box:null,placeable:!1,offscreen:null},ko=null,vo=null,qo=null,gl=0,wp=0,jg=0;Nt.textFeatureIndex?gl=Nt.textFeatureIndex:Et.useRuntimeCollisionCircles&&(gl=Et.featureIndex),Nt.verticalTextFeatureIndex&&(wp=Nt.verticalTextFeatureIndex);let Sp=Nt.textBox;if(Sp){let ss=ao=>{let yo=o.ah.horizontal;if(g.allowVerticalPlacement&&!ao&&this.prevPlacement){let Fa=this.prevPlacement.placedOrientations[Et.crossTileID];Fa&&(this.placedOrientations[Et.crossTileID]=Fa,yo=Fa,this.markUsedOrientation(g,yo,Et))}return yo},ls=(ao,yo)=>{if(g.allowVerticalPlacement&&Et.numVerticalGlyphVertices>0&&Nt.verticalTextBox){for(let Fa of g.writingModes)if(Fa===o.ah.vertical?(Xn=yo(),la=Xn):Xn=ao(),Xn&&Xn.placeable)break}else Xn=ao()},Fu=Et.textAnchorOffsetStartIndex,Us=Et.textAnchorOffsetEndIndex;if(Us===Fu){let ao=(yo,Fa)=>{let Xr=this.collisionIndex.placeCollisionBox(yo,se,K,O,L,dt,tt,A,pe.predicate,Yt);return Xr&&Xr.placeable&&(this.markUsedOrientation(g,Fa,Et),this.placedOrientations[Et.crossTileID]=Fa),Xr};ls(()=>ao(Sp,o.ah.horizontal),()=>{let yo=Nt.verticalTextBox;return g.allowVerticalPlacement&&Et.numVerticalGlyphVertices>0&&yo?ao(yo,o.ah.vertical):{box:null,offscreen:null}}),ss(Xn&&Xn.placeable)}else{let ao=o.aq[(Mr=(Yn=this.prevPlacement)===null||Yn===void 0?void 0:Yn.variableOffsets[Et.crossTileID])===null||Mr===void 0?void 0:Mr.anchor],yo=(Xr,Zc,Ip)=>{let Ep=Xr.x2-Xr.x1,sI=Xr.y2-Xr.y1,ND=Et.textBoxScale,lI=Mt&&Ce==="never"?Zc:null,ju=null,uI=se==="never"?1:2,Vg="never";ao&&uI++;for(let Ih=0;Ih<uI;Ih++){for(let Ug=Fu;Ug<Us;Ug++){let $g=g.textAnchorOffsets.get(Ug);if(ao&&$g.textAnchor!==ao)continue;let Tp=this.attemptAnchorPlacement($g,Xr,Ep,sI,ND,tt,dt,K,O,L,pe,Vg,Et,g,Ip,A,P,lI,Yt);if(Tp&&(ju=Tp.placedGlyphBoxes,ju&&ju.placeable))return Wr=!0,Vs=Tp.shift,ju}ao?ao=null:Vg=se}return m&&!ju&&(ju={box:this.collisionIndex.placeCollisionBox(Sp,"always",K,O,L,dt,tt,A,pe.predicate,Yt,new o.P(0,0)).box,offscreen:!1,placeable:!1}),ju};ls(()=>yo(Sp,Nt.iconBox,o.ah.horizontal),()=>{let Xr=Nt.verticalTextBox;return g.allowVerticalPlacement&&(!Xn||!Xn.placeable)&&Et.numVerticalGlyphVertices>0&&Xr?yo(Xr,Nt.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Xn&&(Wr=Xn.placeable,go=Xn.offscreen);let Fa=ss(Xn&&Xn.placeable);if(!Wr&&this.prevPlacement){let Xr=this.prevPlacement.variableOffsets[Et.crossTileID];Xr&&(this.variableOffsets[Et.crossTileID]=Xr,this.markUsedJustification(g,Xr.anchor,Et,Fa))}}}if(ko=Xn,Wr=ko&&ko.placeable,go=ko&&ko.offscreen,Et.useRuntimeCollisionCircles){let ss=g.text.placedSymbolArray.get(Et.centerJustifiedTextSymbolIndex),ls=o.ai(g.textSizeData,ce,ss),Fu=_.get("text-padding");vo=this.collisionIndex.placeCollisionCircles(se,ss,g.lineVertexArray,g.glyphOffsetArray,ls,O,L,V,U,m,dt,pe.predicate,Et.collisionCircleDiameter,Fu,A,Yt),vo.circles.length&&vo.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),Wr=Ie||vo.circles.length>0&&!vo.collisionDetected,go=go&&vo.offscreen}if(Nt.iconFeatureIndex&&(jg=Nt.iconFeatureIndex),Nt.iconBox){let ss=ls=>this.collisionIndex.placeCollisionBox(ls,Ce,K,O,L,dt,tt,P,pe.predicate,Yt,Mt&&Vs?Vs:void 0);la&&la.placeable&&Nt.verticalIconBox?(qo=ss(Nt.verticalIconBox),Kn=qo.placeable):(qo=ss(Nt.iconBox),Kn=qo.placeable),go=go&&qo.offscreen}let as=me||Et.numHorizontalGlyphVertices===0&&Et.numVerticalGlyphVertices===0,Bg=ye||Et.numIconVertices===0;as||Bg?Bg?as||(Kn=Kn&&Wr):Wr=Kn&&Wr:Kn=Wr=Kn&&Wr;let Q1=Kn&&qo.placeable;if(Wr&&ko.placeable&&this.collisionIndex.insertCollisionBox(ko.box,se,_.get("text-ignore-placement"),g.bucketInstanceId,la&&la.placeable&&wp?wp:gl,pe.ID),Q1&&this.collisionIndex.insertCollisionBox(qo.box,Ce,_.get("icon-ignore-placement"),g.bucketInstanceId,jg,pe.ID),vo&&Wr&&this.collisionIndex.insertCollisionCircles(vo.circles,se,_.get("text-ignore-placement"),g.bucketInstanceId,gl,pe.ID),m&&this.storeCollisionData(g.bucketInstanceId,mr,Nt,ko,qo,vo),Et.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Et.crossTileID]=new kr(Wr||wt,Kn||bt,go||g.justReloaded),d[Et.crossTileID]=!0};if(zt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let Et=g.getSortedSymbolIndexes(this.transform.angle);for(let Nt=Et.length-1;Nt>=0;--Nt){let mr=Et[Nt];yr(g.symbolInstances.get(mr),g.collisionArrays[mr],mr)}}else for(let Et=a.symbolInstanceStart;Et<a.symbolInstanceEnd;Et++)yr(g.symbolInstances.get(Et),g.collisionArrays[Et],Et);if(m&&g.bucketInstanceId in this.collisionCircleArrays){let Et=this.collisionCircleArrays[g.bucketInstanceId];o.as(Et.invProjMatrix,O),Et.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}storeCollisionData(a,d,m,g,_,A){if(m.textBox||m.iconBox){let P,O;this.collisionBoxArrays.has(a)?P=this.collisionBoxArrays.get(a):(P=new Map,this.collisionBoxArrays.set(a,P)),P.has(d)?O=P.get(d):(O={text:null,icon:null},P.set(d,O)),m.textBox&&(O.text=g.box),m.iconBox&&(O.icon=_.box)}if(A){let P=this.collisionCircleArrays[a];P===void 0&&(P=this.collisionCircleArrays[a]=new wn);for(let O=0;O<A.circles.length;O+=4)P.circles.push(A.circles[O+0]),P.circles.push(A.circles[O+1]),P.circles.push(A.circles[O+2]),P.circles.push(A.collisionDetected?1:0)}}markUsedJustification(a,d,m,g){let _;_=g===o.ah.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];let A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(let P of A)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=_>=0&&P!==_?0:m.crossTileID)}markUsedOrientation(a,d,m){let g=d===o.ah.horizontal||d===o.ah.horizontalOnly?d:0,_=d===o.ah.vertical?d:0,A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(let P of A)a.text.placedSymbolArray.get(P).placedOrientation=g;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let d=this.prevPlacement,m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;let g=d?d.symbolFadeChange(a):1,_=d?d.opacities:{},A=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(let O in this.placements){let L=this.placements[O],V=_[O];V?(this.opacities[O]=new hi(V,g,L.text,L.icon),m=m||L.text!==V.text.placed||L.icon!==V.icon.placed):(this.opacities[O]=new hi(null,g,L.text,L.icon,L.skipFade),m=m||L.text||L.icon)}for(let O in _){let L=_[O];if(!this.opacities[O]){let V=new hi(L,g,!1,!1);V.isHidden()||(this.opacities[O]=V,m=m||L.text.placed||L.icon.placed)}}for(let O in A)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=A[O]);for(let O in P)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=P[O]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){let m={};for(let g of d){let _=g.getBucket(a);_&&g.latestFeatureIndex&&a.id===_.layerIds[0]&&this.updateBucketOpacities(_,g.tileID,m,g.collisionBoxArray)}}updateBucketOpacities(a,d,m,g){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let _=a.layers[0],A=_.layout,P=new hi(null,0,!1,!1,!0),O=A.get("text-allow-overlap"),L=A.get("icon-allow-overlap"),V=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),U=A.get("text-rotation-alignment")==="map",K=A.get("text-pitch-alignment")==="map",te=A.get("icon-text-fit")!=="none",oe=new hi(null,0,O&&(L||!a.hasIconData()||A.get("icon-optional")),L&&(O||!a.hasTextData()||A.get("text-optional")),!0);!a.collisionArrays&&g&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(g);let ce=(me,ye,se)=>{for(let Ie=0;Ie<ye/4;Ie++)me.opacityVertexArray.emplaceBack(se);me.hasVisibleVertices=me.hasVisibleVertices||se!==tp},pe=this.collisionBoxArrays.get(a.bucketInstanceId);for(let me=0;me<a.symbolInstances.length;me++){let ye=a.symbolInstances.get(me),{numHorizontalGlyphVertices:se,numVerticalGlyphVertices:Ie,crossTileID:Ce}=ye,Ne=this.opacities[Ce];m[Ce]?Ne=P:Ne||(Ne=oe,this.opacities[Ce]=Ne),m[Ce]=!0;let tt=ye.numIconVertices>0,dt=this.placedOrientations[ye.crossTileID],Mt=dt===o.ah.vertical,zt=dt===o.ah.horizontal||dt===o.ah.horizontalOnly;if(se>0||Ie>0){let bt=Ra(Ne.text);ce(a.text,se,Mt?tp:bt),ce(a.text,Ie,zt?tp:bt);let Yt=Ne.text.isHidden();[ye.rightJustifiedTextSymbolIndex,ye.centerJustifiedTextSymbolIndex,ye.leftJustifiedTextSymbolIndex].forEach(Nt=>{Nt>=0&&(a.text.placedSymbolArray.get(Nt).hidden=Yt||Mt?1:0)}),ye.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ye.verticalPlacedTextSymbolIndex).hidden=Yt||zt?1:0);let yr=this.variableOffsets[ye.crossTileID];yr&&this.markUsedJustification(a,yr.anchor,ye,dt);let Et=this.placedOrientations[ye.crossTileID];Et&&(this.markUsedJustification(a,"left",ye,Et),this.markUsedOrientation(a,Et,ye))}if(tt){let bt=Ra(Ne.icon),Yt=!(te&&ye.verticalPlacedIconSymbolIndex&&Mt);ye.placedIconSymbolIndex>=0&&(ce(a.icon,ye.numIconVertices,Yt?bt:tp),a.icon.placedSymbolArray.get(ye.placedIconSymbolIndex).hidden=Ne.icon.isHidden()),ye.verticalPlacedIconSymbolIndex>=0&&(ce(a.icon,ye.numVerticalIconVertices,Yt?tp:bt),a.icon.placedSymbolArray.get(ye.verticalPlacedIconSymbolIndex).hidden=Ne.icon.isHidden())}let wt=pe&&pe.has(me)?pe.get(me):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let bt=a.collisionArrays[me];if(bt){let Yt=new o.P(0,0);if(bt.textBox||bt.verticalTextBox){let yr=!0;if(V){let Et=this.variableOffsets[Ce];Et?(Yt=oo(Et.anchor,Et.width,Et.height,Et.textOffset,Et.textBoxScale),U&&Yt._rotate(K?this.transform.angle:-this.transform.angle)):yr=!1}if(bt.textBox||bt.verticalTextBox){let Et;bt.textBox&&(Et=Mt),bt.verticalTextBox&&(Et=zt),ep(a.textCollisionBox.collisionVertexArray,Ne.text.placed,!yr||Et,wt.text,Yt.x,Yt.y)}}if(bt.iconBox||bt.verticalIconBox){let yr=!!(!zt&&bt.verticalIconBox),Et;bt.iconBox&&(Et=yr),bt.verticalIconBox&&(Et=!yr),ep(a.iconCollisionBox.collisionVertexArray,Ne.icon.placed,Et,wt.icon,te?Yt.x:0,te?Yt.y:0)}}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){let me=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=me.invProjMatrix,a.placementViewportMatrix=me.viewportMatrix,a.collisionCircleArray=me.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){let m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function ep(b,a,d,m,g,_){m&&m.length!==0||(m=[0,0,0,0]);let A=m[0]-wr,P=m[1]-wr,O=m[2]-wr,L=m[3]-wr;b.emplaceBack(a?1:0,d?1:0,g||0,_||0,A,P),b.emplaceBack(a?1:0,d?1:0,g||0,_||0,O,P),b.emplaceBack(a?1:0,d?1:0,g||0,_||0,O,L),b.emplaceBack(a?1:0,d?1:0,g||0,_||0,A,L)}let Sn=Math.pow(2,25),c1=Math.pow(2,24),d1=Math.pow(2,17),qa=Math.pow(2,16),Na=Math.pow(2,9),uD=Math.pow(2,8),rs=Math.pow(2,1);function Ra(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;let a=b.placed?1:0,d=Math.floor(127*b.opacity);return d*Sn+a*c1+d*d1+a*qa+d*Na+a*uD+d*rs+a}let tp=0;function Rc(){return{isOccluded:(b,a,d)=>!1,getPitchedTextCorrection:(b,a,d)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(b,a,d,m){throw new Error("Not implemented.")},translatePosition:(b,a,d,m)=>function(g,_,A,P,O=!1){if(!A[0]&&!A[1])return[0,0];let L=O?P==="map"?g.angle:0:P==="viewport"?-g.angle:0;if(L){let V=Math.sin(L),U=Math.cos(L);A=[A[0]*U-A[1]*V,A[0]*V+A[1]*U]}return[O?A[0]:Hr(_,A[0],g.zoom),O?A[1]:Hr(_,A[1],g.zoom)]}(b,a,d,m),getCircleRadiusCorrection:b=>1}}class ki{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,g,_){let A=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(A,g,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort((P,O)=>P.sortKey-O.sortKey));this._currentPartIndex<A.length;)if(d.placeLayerBucketPart(A[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,_())return!0;return!1}}class ah{constructor(a,d,m,g,_,A,P,O){this.placement=new Do(a,Rc(),d,A,P,O),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){let g=y.now(),_=()=>!this._forceFullPlacement&&y.now()-g>2;for(;this._currentPlacementIndex>=0;){let A=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(A.type==="symbol"&&(!A.minzoom||A.minzoom<=P)&&(!A.maxzoom||A.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new ki(A)),this._inProgressLayer.continuePlacement(m[A.source],this.placement,this._showCollisionBoxes,A,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let Ls=512/o.X/2;class Ti{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};let g=new Map;for(let _=0;_<d.length;_++){let A=d.get(_),P=A.key,O=g.get(P);O?O.push(A):g.set(P,[A])}for(let[_,A]of g){let P={positions:A.map(O=>({x:Math.floor(O.anchorX*Ls),y:Math.floor(O.anchorY*Ls)})),crossTileIDs:A.map(O=>O.crossTileID)};if(P.positions.length>128){let O=new o.av(P.positions.length,16,Uint16Array);for(let{x:L,y:V}of P.positions)O.add(L,V);O.finish(),delete P.positions,P.index=O}this._symbolsByKey[_]=P}}getScaledCoordinates(a,d){let{x:m,y:g,z:_}=this.tileID.canonical,{x:A,y:P,z:O}=d.canonical,L=Ls/Math.pow(2,O-_),V=(P*o.X+a.anchorY)*L,U=g*o.X*Ls;return{x:Math.floor((A*o.X+a.anchorX)*L-m*o.X*Ls),y:Math.floor(V-U)}}findMatches(a,d,m){let g=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let _=0;_<a.length;_++){let A=a.get(_);if(A.crossTileID)continue;let P=this._symbolsByKey[A.key];if(!P)continue;let O=this.getScaledCoordinates(A,d);if(P.index){let L=P.index.range(O.x-g,O.y-g,O.x+g,O.y+g).sort();for(let V of L){let U=P.crossTileIDs[V];if(!m[U]){m[U]=!0,A.crossTileID=U;break}}}else if(P.positions)for(let L=0;L<P.positions.length;L++){let V=P.positions[L],U=P.crossTileIDs[L];if(Math.abs(V.x-O.x)<=g&&Math.abs(V.y-O.y)<=g&&!m[U]){m[U]=!0,A.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class ug{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class zs{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let d=Math.round((a-this.lng)/360);if(d!==0)for(let m in this.indexes){let g=this.indexes[m],_={};for(let A in g){let P=g[A];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),_[P.tileID.key]=P}this.indexes[m]=_}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let _=0;_<d.symbolInstances.length;_++)d.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let g=this.usedCrossTileIDs[a.overscaledZ];for(let _ in this.indexes){let A=this.indexes[_];if(Number(_)>a.overscaledZ)for(let P in A){let O=A[P];O.tileID.isChildOf(a)&&O.findMatches(d.symbolInstances,a,g)}else{let P=A[a.scaledTo(Number(_)).key];P&&P.findMatches(d.symbolInstances,a,g)}}for(let _=0;_<d.symbolInstances.length;_++){let A=d.symbolInstances.get(_);A.crossTileID||(A.crossTileID=m.generate(),g[A.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Ti(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(let m of d.getCrossTileIDsLists())for(let g of m)delete this.usedCrossTileIDs[a][g]}removeStaleBuckets(a){let d=!1;for(let m in this.indexes){let g=this.indexes[m];for(let _ in g)a[g[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,g[_]),delete g[_],d=!0)}return d}}class p1{constructor(){this.layerIndexes={},this.crossTileIDs=new ug,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let g=this.layerIndexes[a.id];g===void 0&&(g=this.layerIndexes[a.id]=new zs);let _=!1,A={};g.handleWrapJump(m);for(let P of d){let O=P.getBucket(a);O&&a.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(P.tileID,O,this.crossTileIDs)&&(_=!0),A[O.bucketInstanceId]=!0)}return g.removeStaleBuckets(A)&&(_=!0),_}pruneUnusedLayers(a){let d={};a.forEach(m=>{d[m]=!0});for(let m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}let Fs=(b,a)=>o.t(b,a&&a.filter(d=>d.identifier!=="source.canvas")),cD=o.aw();class cg extends o.E{constructor(a,d={}){super(),this._rtlPluginLoaded=()=>{for(let m in this.sourceCaches){let g=this.sourceCaches[m].getSource().type;g!=="vector"&&g!=="geojson"||this.sourceCaches[m].reload()}},this.map=a,this.dispatcher=new Te(qe(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(m,g)=>this.getGlyphs(m,g)),this.dispatcher.registerMessageHandler("GI",(m,g)=>this.getImages(m,g)),this.imageManager=new $e,this.imageManager.setEventedParent(this),this.glyphManager=new ot(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new pt(256,512),this.crossTileSymbolIndex=new p1,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.ay()),ts().on(st,this._rtlPluginLoaded),this.on("data",m=>{if(m.dataType!=="source"||m.sourceDataType!=="metadata")return;let g=this.sourceCaches[m.sourceId];if(!g)return;let _=g.getSource();if(_&&_.vectorLayerIds)for(let A in this._layers){let P=this._layers[A];P.source===_.id&&this._validateLayer(P)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;let g=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let _=this._loadStyleRequest;o.h(g,this._loadStyleRequest).then(A=>{this._loadStyleRequest=null,this._load(A.data,d,m)}).catch(A=>{this._loadStyleRequest=null,A&&!_.signal.aborted&&this.fire(new o.j(A))})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(a,d,m)}).catch(()=>{})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(cD,{validate:!1})}_load(a,d,m){var g;let _=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!Fs(this,o.u(_))){this._loaded=!0,this.stylesheet=_;for(let A in _.sources)this.addSource(A,_.sources[A],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Pe(this.stylesheet.light),this.sky=new lt(this.stylesheet.sky),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){let a=o.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(let d of a){let m=o.aA(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){let g;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,A,P,O){return o._(this,void 0,void 0,function*(){let L=ve(_),V=P>1?"@2x":"",U={},K={};for(let{id:te,url:oe}of L){let ce=A.transformRequest(Oe(oe,V,".json"),"SpriteJSON");U[te]=o.h(ce,O);let pe=A.transformRequest(Oe(oe,V,".png"),"SpriteImage");K[te]=N.getImage(pe,O)}return yield Promise.all([...Object.values(U),...Object.values(K)]),function(te,oe){return o._(this,void 0,void 0,function*(){let ce={};for(let pe in te){ce[pe]={};let me=y.getImageCanvasContext((yield oe[pe]).data),ye=(yield te[pe]).data;for(let se in ye){let{width:Ie,height:Ce,x:Ne,y:tt,sdf:dt,pixelRatio:Mt,stretchX:zt,stretchY:wt,content:bt,textFitWidth:Yt,textFitHeight:yr}=ye[se];ce[pe][se]={data:null,pixelRatio:Mt,sdf:dt,stretchX:zt,stretchY:wt,content:bt,textFitWidth:Yt,textFitHeight:yr,spriteData:{width:Ie,height:Ce,x:Ne,y:tt,context:me}}}}return ce})}(U,K)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(let A in _){this._spritesImagesIds[A]=[];let P=this._spritesImagesIds[A]?this._spritesImagesIds[A].filter(O=>!(O in _)):[];for(let O of P)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(let O in _[A]){let L=A==="default"?O:`${A}:${O}`;this._spritesImagesIds[A].push(L),L in this.imageManager.images?this.imageManager.updateImage(L,_[A][O],!1):this.imageManager.addImage(L,_[A][O]),d&&(this._changedImages[L]=!0)}}}).catch(_=>{this._spriteRequest=null,g=_,this.fire(new o.j(g))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(g)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){let d=this.sourceCaches[a.source];if(!d)return;let m=a.sourceLayer;if(!m)return;let g=d.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${g.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,d=!1){let m=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d?o.aB(m):m);let g=[];for(let _ of a)if(m[_]){let A=d?o.aB(m[_]):m[_];g.push(A)}return g}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let d=Object.keys(this._layers);for(let m of d){let g=this._layers[m];g.type!=="custom"&&(a[m]=g.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(let a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(let a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let d=this._changed;if(d){let g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(g.length||_.length)&&this._updateWorkerLayers(g,_);for(let A in this._updatedSources){let P=this._updatedSources[A];if(P==="reload")this._reloadSource(A);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(A)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let A in this._updatedPaintProps)this._layers[A].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let m={};for(let g in this.sourceCaches){let _=this.sourceCaches[g];m[g]=_.used,_.used=!1}for(let g of this._order){let _=this._layers[g];_.recalculate(a,this._availableImages),!_.isHidden(a.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(let g in m){let _=this.sourceCaches[g];!!m[g]!=!!_.used&&_.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(a),this.sky.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){var m;this._checkLoaded();let g=this.serialize();if(a=d.transformStyle?d.transformStyle(g,a):a,((m=d.validate)===null||m===void 0||m)&&Fs(this,o.u(a)))return!1;(a=o.aB(a)).layers=o.az(a.layers);let _=o.aC(g,a),A=this._getOperationsToPerform(_);if(A.unimplemented.length>0)throw new Error(`Unimplemented: ${A.unimplemented.join(", ")}.`);if(A.operations.length===0)return!1;for(let P of A.operations)P();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let d=[],m=[];for(let g of a)switch(g.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,g.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,g.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,g.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,g.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,g.args));break;case"addSource":d.push(()=>this.addSource.apply(this,g.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,g.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,g.args));break;case"setLight":d.push(()=>this.setLight.apply(this,g.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,g.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,g.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,g.args));break;case"setSky":d.push(()=>this.setSky.apply(this,g.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,g.args));break;case"setTransition":d.push(()=>{});break;default:m.push(g.command);}return{operations:d,unimplemented:m}}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.u.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);let g=this.sourceCaches[a]=new cr(a,d,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:a})),g.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));let d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();let g=a.id;if(this.getLayer(g))return void this.fire(new o.j(new Error(`Layer "${g}" already exists on this map.`)));let _;if(a.type==="custom"){if(Fs(this,o.aD(a)))return;_=o.aA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(g,a.source),a=o.aB(a),a=o.e(a,{source:g})),this._validate(o.u.layer,`layers.${g}`,a,{arrayIndex:-1},m))return;_=o.aA(a),this._validateLayer(_),_.setEventedParent(this,{layer:{id:g}})}let A=d?this._order.indexOf(d):this._order.length;if(d&&A===-1)this.fire(new o.j(new Error(`Cannot add layer "${g}" before non-existing layer "${d}".`)));else{if(this._order.splice(A,0,g),this._layerOrderChanged=!0,this._layers[g]=_,this._removedLayers[g]&&_.source&&_.type!=="custom"){let P=this._removedLayers[g];delete this._removedLayers[g],P.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;let m=this._order.indexOf(a);this._order.splice(m,1);let g=d?this._order.indexOf(d):this._order.length;d&&g===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(g,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);let m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();let g=this.getLayer(a);g?g.minzoom===d&&g.maxzoom===m||(d!=null&&(g.minzoom=d),m!=null&&(g.maxzoom=m),this._updateLayer(g)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();let g=this.getLayer(a);if(g){if(!o.aE(g.filter,d))return d==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(o.u.filter,`layers.${g.id}.filter`,d,null,m)||(g.filter=o.aB(d),this._updateLayer(g)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aB(this.getLayer(a).filter)}setLayoutProperty(a,d,m,g={}){this._checkLoaded();let _=this.getLayer(a);_?o.aE(_.getLayoutProperty(d),m)||(_.setLayoutProperty(d,m,g),this._updateLayer(_)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){let m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,g={}){this._checkLoaded();let _=this.getLayer(a);_?o.aE(_.getPaintProperty(d),m)||(_.setPaintProperty(d,m,g)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();let m=a.source,g=a.sourceLayer,_=this.sourceCaches[m];if(_===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let A=_.getSource().type;A==="geojson"&&g?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):A!=="vector"||g?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(g,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();let m=a.source,g=this.sourceCaches[m];if(g===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let _=g.getSource().type,A=_==="vector"?a.sourceLayer:void 0;_!=="vector"||A?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(A,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let d=a.source,m=a.sourceLayer,g=this.sourceCaches[d];if(g!==void 0)return g.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.aF(this.sourceCaches,_=>_.serialize()),d=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,g=this.stylesheet;return o.aG({version:g.version,name:g.name,metadata:g.metadata,light:g.light,sky:g.sky,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:a,layers:d,terrain:m},_=>_!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let d=A=>this._layers[A].type==="fill-extrusion",m={},g=[];for(let A=this._order.length-1;A>=0;A--){let P=this._order[A];if(d(P)){m[P]=A;for(let O of a){let L=O[P];if(L)for(let V of L)g.push(V)}}}g.sort((A,P)=>P.intersectionZ-A.intersectionZ);let _=[];for(let A=this._order.length-1;A>=0;A--){let P=this._order[A];if(d(P))for(let O=g.length-1;O>=0;O--){let L=g[O].feature;if(m[L.layer.id]<A)break;_.push(L),g.pop()}else for(let O of a){let L=O[P];if(L)for(let V of L)_.push(V.feature)}}return _}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.u.filter,"queryRenderedFeatures.filter",d.filter,null,d);let g={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(let P of d.layers){let O=this._layers[P];if(!O)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];g[O.source]=!0}}let _=[];d.availableImages=this._availableImages;let A=this._serializedAllLayers();for(let P in this.sourceCaches)d.layers&&!g[P]||_.push(St(this.sourceCaches[P],this._layers,A,a,d,m));return this.placement&&_.push(function(P,O,L,V,U,K,te){let oe={},ce=K.queryRenderedSymbols(V),pe=[];for(let me of Object.keys(ce).map(Number))pe.push(te[me]);pe.sort(It);for(let me of pe){let ye=me.featureIndex.lookupSymbolFeatures(ce[me.bucketInstanceId],O,me.bucketIndex,me.sourceLayerIndex,U.filter,U.layers,U.availableImages,P);for(let se in ye){let Ie=oe[se]=oe[se]||[],Ce=ye[se];Ce.sort((Ne,tt)=>{let dt=me.featureSortOrder;if(dt){let Mt=dt.indexOf(Ne.featureIndex);return dt.indexOf(tt.featureIndex)-Mt}return tt.featureIndex-Ne.featureIndex});for(let Ne of Ce)Ie.push(Ne)}}for(let me in oe)oe[me].forEach(ye=>{let se=ye.feature,Ie=L[P[me].source].getFeatureState(se.layer["source-layer"],se.id);se.source=se.layer.source,se.layer["source-layer"]&&(se.sourceLayer=se.layer["source-layer"]),se.state=Ie});return oe}(this._layers,A,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.u.filter,"querySourceFeatures.filter",d.filter,null,d);let m=this.sourceCaches[a];return m?function(g,_){let A=g.getRenderableIds().map(L=>g.getTileByID(L)),P=[],O={};for(let L=0;L<A.length;L++){let V=A[L],U=V.tileID.canonical.key;O[U]||(O[U]=!0,V.querySourceFeatures(P,_))}return P}(m,d):[]}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();let m=this.light.getLight(),g=!1;for(let A in a)if(!o.aE(a[A],m[A])){g=!0;break}if(!g)return;let _={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(_)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,d={}){let m=this.getSky(),g=!1;if(!a&&!m)return;if(a&&!m)g=!0;else if(!a&&m)g=!0;else for(let A in a)if(!o.aE(a[A],m[A])){g=!0;break}if(!g)return;let _={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,d),this.sky.updateTransitions(_)}_validate(a,d,m,g,_={}){return(!_||_.validate!==!1)&&Fs(this,a.call(o.u,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},g)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),ts().off(st,this._rtlPluginLoaded);for(let d in this._layers)this._layers[d].setEventedParent(null);for(let d in this.sourceCaches){let m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,g,_=!1){let A=!1,P=!1,O={};for(let L of this._order){let V=this._layers[L];if(V.type!=="symbol")continue;if(!O[V.source]){let K=this.sourceCaches[V.source];O[V.source]=K.getRenderableIds(!0).map(te=>K.getTileByID(te)).sort((te,oe)=>oe.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(oe.tileID)?-1:1))}let U=this.crossTileSymbolIndex.addLayer(V,O[V.source],a.center.lng);A=A||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(y.now(),a.zoom))&&(this.pauseablePlacement=new ah(a,this.map.terrain,this._order,_,d,m,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(y.now()),P=!0),A&&this.pauseablePlacement.placement.setStale()),P||A)for(let L of this._order){let V=this._layers[L];V.type==="symbol"&&this.placement.updateLayerOpacities(V,O[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(y.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d){return o._(this,void 0,void 0,function*(){let m=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();let g=this.sourceCaches[d.source];return g&&g.setDependencies(d.tileID.key,d.type,d.icons),m})}getGlyphs(a,d){return o._(this,void 0,void 0,function*(){let m=yield this.glyphManager.getGlyphs(d.stacks),g=this.sourceCaches[d.source];return g&&g.setDependencies(d.tileID.key,d.type,[""]),m})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.u.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},g){this._checkLoaded();let _=[{id:a,url:d}],A=[...ve(this.stylesheet.sprite),..._];this._validate(o.u.sprite,"sprite",A,null,m)||(this.stylesheet.sprite=A,this._loadSprite(_,!0,g))}removeSprite(a){this._checkLoaded();let d=ve(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(let m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return ve(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.u.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}var Lc=o.Y([{name:"a_pos",type:"Int16",components:2}]);let Lu={prelude:dn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:dn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:dn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:dn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:dn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:dn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:dn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:dn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:dn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:dn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:dn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:dn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:dn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:dn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:dn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:dn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:dn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:dn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:dn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:dn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:dn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:dn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:dn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function dn(b,a){let d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),g=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=_?_.concat(g):g,P={};return{fragmentSource:b=b.replace(d,(O,L,V,U,K)=>(P[K]=!0,L==="define"?`
#ifndef HAS_UNIFORM_u_${K}
varying ${V} ${U} ${K};
#else
uniform ${V} ${U} u_${K};
#endif
`:`
#ifdef HAS_UNIFORM_u_${K}
    ${V} ${U} ${K} = u_${K};
#endif
`)),vertexSource:a=a.replace(d,(O,L,V,U,K)=>{let te=U==="float"?"vec2":"vec4",oe=K.match(/color/)?"color":te;return P[K]?L==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
attribute ${V} ${te} a_${K};
varying ${V} ${U} ${K};
#else
uniform ${V} ${U} u_${K};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = a_${K};
#else
    ${V} ${U} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = unpack_mix_${oe}(a_${K}, u_${K}_t);
#else
    ${V} ${U} ${K} = u_${K};
#endif
`:L==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
attribute ${V} ${te} a_${K};
#else
uniform ${V} ${U} u_${K};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${V} ${U} ${K} = a_${K};
#else
    ${V} ${U} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${V} ${U} ${K} = unpack_mix_${oe}(a_${K}, u_${K}_t);
#else
    ${V} ${U} ${K} = u_${K};
#endif
`}),staticAttributes:m,staticUniforms:A}}class f1{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,g,_,A,P,O,L){this.context=a;let V=this.boundPaintVertexBuffers.length!==g.length;for(let U=0;!V&&U<g.length;U++)this.boundPaintVertexBuffers[U]!==g[U]&&(V=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||V||this.boundIndexBuffer!==_||this.boundVertexOffset!==A||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==O||this.boundDynamicVertexBuffer3!==L?this.freshBind(d,m,g,_,A,P,O,L):(a.bindVertexArray.set(this.vao),P&&P.bind(),_&&_.dynamicDraw&&_.bind(),O&&O.bind(),L&&L.bind())}freshBind(a,d,m,g,_,A,P,O){let L=a.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=g,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=A,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=O,d.enableAttributes(U,a);for(let K of m)K.enableAttributes(U,a);A&&A.enableAttributes(U,a),P&&P.enableAttributes(U,a),O&&O.enableAttributes(U,a),d.bind(),d.setVertexAttribPointers(U,a,_);for(let K of m)K.bind(),K.setVertexAttribPointers(U,a,_);A&&(A.bind(),A.setVertexAttribPointers(U,a,_)),g&&g.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,a,_)),O&&(O.bind(),O.setVertexAttribPointers(U,a,_)),V.currentNumAttributes=L}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let h1=(b,a,d,m,g)=>({u_matrix:b,u_texture:0,u_ele_delta:a,u_fog_matrix:d,u_fog_color:m?m.properties.get("fog-color"):o.aM.white,u_fog_ground_blend:m?m.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:m?m.calculateFogBlendOpacity(g):0,u_horizon_color:m?m.properties.get("horizon-color"):o.aM.white,u_horizon_fog_blend:m?m.properties.get("horizon-fog-blend"):1});function rp(b){let a=[];for(let d=0;d<b.length;d++){if(b[d]===null)continue;let m=b[d].split(" ");a.push(m.pop())}return a}class m1{constructor(a,d,m,g,_,A){let P=a.gl;this.program=P.createProgram();let O=rp(d.staticAttributes),L=m?m.getBinderAttributes():[],V=O.concat(L),U=Lu.prelude.staticUniforms?rp(Lu.prelude.staticUniforms):[],K=d.staticUniforms?rp(d.staticUniforms):[],te=m?m.getBinderUniforms():[],oe=U.concat(K).concat(te),ce=[];for(let Ne of oe)ce.indexOf(Ne)<0&&ce.push(Ne);let pe=m?m.defines():[];_&&pe.push("#define OVERDRAW_INSPECTOR;"),A&&pe.push("#define TERRAIN3D;");let me=pe.concat(Lu.prelude.fragmentSource,d.fragmentSource).join(`
`),ye=pe.concat(Lu.prelude.vertexSource,d.vertexSource).join(`
`),se=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(se,me),P.compileShader(se),!P.getShaderParameter(se,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(se)}`);P.attachShader(this.program,se);let Ie=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Ie,ye),P.compileShader(Ie),!P.getShaderParameter(Ie,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Ie)}`);P.attachShader(this.program,Ie),this.attributes={};let Ce={};this.numAttributes=V.length;for(let Ne=0;Ne<this.numAttributes;Ne++)V[Ne]&&(P.bindAttribLocation(this.program,Ne,V[Ne]),this.attributes[V[Ne]]=Ne);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Ie),P.deleteShader(se);for(let Ne=0;Ne<ce.length;Ne++){let tt=ce[Ne];if(tt&&!Ce[tt]){let dt=P.getUniformLocation(this.program,tt);dt&&(Ce[tt]=dt)}}this.fixedUniforms=g(a,Ce),this.terrainUniforms=((Ne,tt)=>({u_depth:new o.aH(Ne,tt.u_depth),u_terrain:new o.aH(Ne,tt.u_terrain),u_terrain_dim:new o.aI(Ne,tt.u_terrain_dim),u_terrain_matrix:new o.aJ(Ne,tt.u_terrain_matrix),u_terrain_unpack:new o.aK(Ne,tt.u_terrain_unpack),u_terrain_exaggeration:new o.aI(Ne,tt.u_terrain_exaggeration)}))(a,Ce),this.binderUniforms=m?m.getUniforms(a,Ce):[]}draw(a,d,m,g,_,A,P,O,L,V,U,K,te,oe,ce,pe,me,ye){let se=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(g),a.setColorMode(_),a.setCullFace(A),O){a.activeTexture.set(se.TEXTURE2),se.bindTexture(se.TEXTURE_2D,O.depthTexture),a.activeTexture.set(se.TEXTURE3),se.bindTexture(se.TEXTURE_2D,O.texture);for(let Ce in this.terrainUniforms)this.terrainUniforms[Ce].set(O[Ce])}for(let Ce in this.fixedUniforms)this.fixedUniforms[Ce].set(P[Ce]);ce&&ce.setUniforms(a,this.binderUniforms,te,{zoom:oe});let Ie=0;switch(d){case se.LINES:Ie=2;break;case se.TRIANGLES:Ie=3;break;case se.LINE_STRIP:Ie=1;}for(let Ce of K.get()){let Ne=Ce.vaos||(Ce.vaos={});(Ne[L]||(Ne[L]=new f1)).bind(a,this,V,ce?ce.getPaintVertexBuffers():[],U,Ce.vertexOffset,pe,me,ye),se.drawElements(d,Ce.primitiveLength*Ie,se.UNSIGNED_SHORT,Ce.primitiveOffset*Ie*2)}}}function dg(b,a,d){let m=1/Hr(d,1,a.transform.tileZoom),g=Math.pow(2,d.tileID.overscaledZ),_=d.tileSize*Math.pow(2,a.transform.tileZoom)/g,A=_*(d.tileID.canonical.x+d.tileID.wrap*g),P=_*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[A>>16,P>>16],u_pixel_coord_lower:[65535&A,65535&P]}}let sh=(b,a,d,m)=>{let g=a.style.light,_=g.properties.get("position"),A=[_.x,_.y,_.z],P=function(){var L=new o.A(9);return o.A!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[5]=0,L[6]=0,L[7]=0),L[0]=1,L[4]=1,L[8]=1,L}();g.properties.get("anchor")==="viewport"&&function(L,V){var U=Math.sin(V),K=Math.cos(V);L[0]=K,L[1]=U,L[2]=0,L[3]=-U,L[4]=K,L[5]=0,L[6]=0,L[7]=0,L[8]=1}(P,-a.transform.angle),function(L,V,U){var K=V[0],te=V[1],oe=V[2];L[0]=K*U[0]+te*U[3]+oe*U[6],L[1]=K*U[1]+te*U[4]+oe*U[7],L[2]=K*U[2]+te*U[5]+oe*U[8]}(A,A,P);let O=g.properties.get("color");return{u_matrix:b,u_lightpos:A,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[O.r,O.g,O.b],u_vertical_gradient:+d,u_opacity:m}},pg=(b,a,d,m,g,_,A)=>o.e(sh(b,a,d,m),dg(_,a,A),{u_height_factor:-Math.pow(2,g.overscaledZ)/A.tileSize/8}),np=b=>({u_matrix:b}),A2=(b,a,d,m)=>o.e(np(b),dg(d,a,m)),dD=(b,a)=>({u_matrix:b,u_world:a}),M2=(b,a,d,m,g)=>o.e(A2(b,a,d,m),{u_world:g}),pD=(b,a,d,m)=>{let g=b.transform,_,A;if(m.paint.get("circle-pitch-alignment")==="map"){let P=Hr(d,1,g.zoom);_=!0,A=[P,P]}else _=!1,A=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:b.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:A}},zc=(b,a,d)=>({u_matrix:b,u_inv_matrix:a,u_camera_to_center_distance:d.cameraToCenterDistance,u_viewport_size:[d.width,d.height]}),lh=(b,a,d=1)=>({u_matrix:b,u_color:a,u_overlay:0,u_overlay_scale:d}),aa=b=>({u_matrix:b}),sa=(b,a,d,m)=>({u_matrix:b,u_extrude_scale:Hr(a,1,d),u_intensity:m}),fg=(b,a,d,m)=>{let g=o.H();o.aP(g,0,b.width,b.height,0,0,1);let _=b.context.gl;return{u_matrix:g,u_world:[_.drawingBufferWidth,_.drawingBufferHeight],u_image:d,u_color_ramp:m,u_opacity:a.paint.get("heatmap-opacity")}};function hg(b,a){let d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.Z(0,m/d).toLngLat().lat,new o.Z(0,(m+1)/d).toLngLat().lat]}let mg=(b,a,d,m)=>{let g=b.transform;return{u_matrix:D2(b,a,d,m),u_ratio:1/Hr(a,1,g.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},P2=(b,a,d,m,g)=>o.e(mg(b,a,d,g),{u_image:0,u_image_height:m}),ip=(b,a,d,m,g)=>{let _=b.transform,A=O2(a,_);return{u_matrix:D2(b,a,d,g),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Hr(a,1,_.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[A,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},fD=(b,a,d,m,g,_)=>{let A=b.lineAtlas,P=O2(a,b.transform),O=d.layout.get("line-cap")==="round",L=A.getDash(m.from,O),V=A.getDash(m.to,O),U=L.width*g.fromScale,K=V.width*g.toScale;return o.e(mg(b,a,d,_),{u_patternscale_a:[P/U,-L.height/2],u_patternscale_b:[P/K,-V.height/2],u_sdfgamma:A.width/(256*Math.min(U,K)*b.pixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:V.y,u_mix:g.t})};function O2(b,a){return 1/Hr(b,1,a.tileZoom)}function D2(b,a,d,m){return b.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}let hD=(b,a,d,m,g)=>{return{u_matrix:b,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(A=g.paint.get("raster-saturation"),A>0?1-1/(1.001-A):-A),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:mD(g.paint.get("raster-hue-rotate"))};var _,A};function mD(b){b*=Math.PI/180;let a=Math.sin(b),d=Math.cos(b);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}let k2=(b,a,d,m,g,_,A,P,O,L,V,U,K,te)=>{let oe=A.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:oe.cameraToCenterDistance,u_pitch:oe.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:oe.width/oe.height,u_fade_change:A.options.fadeDuration?A.symbolFadeChange:1,u_matrix:P,u_label_plane_matrix:O,u_coord_matrix:L,u_is_text:+U,u_pitch_with_map:+m,u_is_along_line:g,u_is_variable_anchor:_,u_texsize:K,u_texture:0,u_translation:V,u_pitched_scale:te}},uh=(b,a,d,m,g,_,A,P,O,L,V,U,K,te,oe)=>{let ce=A.transform;return o.e(k2(b,a,d,m,g,_,A,P,O,L,V,U,K,oe),{u_gamma_scale:m?Math.cos(ce._pitch)*ce.cameraToCenterDistance:1,u_device_pixel_ratio:A.pixelRatio,u_is_halo:+te})},g1=(b,a,d,m,g,_,A,P,O,L,V,U,K,te)=>o.e(uh(b,a,d,m,g,_,A,P,O,L,V,!0,U,!0,te),{u_texsize_icon:K,u_texture_icon:1}),gg=(b,a,d)=>({u_matrix:b,u_opacity:a,u_color:d}),v1=(b,a,d,m,g,_)=>o.e(function(A,P,O,L){let V=O.imageManager.getPattern(A.from.toString()),U=O.imageManager.getPattern(A.to.toString()),{width:K,height:te}=O.imageManager.getPixelSize(),oe=Math.pow(2,L.tileID.overscaledZ),ce=L.tileSize*Math.pow(2,O.transform.tileZoom)/oe,pe=ce*(L.tileID.canonical.x+L.tileID.wrap*oe),me=ce*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:V.tl,u_pattern_br_a:V.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[K,te],u_mix:P.t,u_pattern_size_a:V.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Hr(L,1,O.transform.tileZoom),u_pixel_coord_upper:[pe>>16,me>>16],u_pixel_coord_lower:[65535&pe,65535&me]}}(m,_,d,g),{u_matrix:b,u_opacity:a}),y1={fillExtrusion:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_lightpos:new o.aN(b,a.u_lightpos),u_lightintensity:new o.aI(b,a.u_lightintensity),u_lightcolor:new o.aN(b,a.u_lightcolor),u_vertical_gradient:new o.aI(b,a.u_vertical_gradient),u_opacity:new o.aI(b,a.u_opacity)}),fillExtrusionPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_lightpos:new o.aN(b,a.u_lightpos),u_lightintensity:new o.aI(b,a.u_lightintensity),u_lightcolor:new o.aN(b,a.u_lightcolor),u_vertical_gradient:new o.aI(b,a.u_vertical_gradient),u_height_factor:new o.aI(b,a.u_height_factor),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade),u_opacity:new o.aI(b,a.u_opacity)}),fill:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix)}),fillPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),fillOutline:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world)}),fillOutlinePattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),circle:(b,a)=>({u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_scale_with_map:new o.aH(b,a.u_scale_with_map),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_extrude_scale:new o.aO(b,a.u_extrude_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_matrix:new o.aJ(b,a.u_matrix)}),collisionBox:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_pixel_extrude_scale:new o.aO(b,a.u_pixel_extrude_scale)}),collisionCircle:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_inv_matrix:new o.aJ(b,a.u_inv_matrix),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_viewport_size:new o.aO(b,a.u_viewport_size)}),debug:(b,a)=>({u_color:new o.aL(b,a.u_color),u_matrix:new o.aJ(b,a.u_matrix),u_overlay:new o.aH(b,a.u_overlay),u_overlay_scale:new o.aI(b,a.u_overlay_scale)}),clippingMask:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix)}),heatmap:(b,a)=>({u_extrude_scale:new o.aI(b,a.u_extrude_scale),u_intensity:new o.aI(b,a.u_intensity),u_matrix:new o.aJ(b,a.u_matrix)}),heatmapTexture:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world),u_image:new o.aH(b,a.u_image),u_color_ramp:new o.aH(b,a.u_color_ramp),u_opacity:new o.aI(b,a.u_opacity)}),hillshade:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_latrange:new o.aO(b,a.u_latrange),u_light:new o.aO(b,a.u_light),u_shadow:new o.aL(b,a.u_shadow),u_highlight:new o.aL(b,a.u_highlight),u_accent:new o.aL(b,a.u_accent)}),hillshadePrepare:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_dimension:new o.aO(b,a.u_dimension),u_zoom:new o.aI(b,a.u_zoom),u_unpack:new o.aK(b,a.u_unpack)}),line:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels)}),lineGradient:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_image:new o.aH(b,a.u_image),u_image_height:new o.aI(b,a.u_image_height)}),linePattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texsize:new o.aO(b,a.u_texsize),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_image:new o.aH(b,a.u_image),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),lineSDF:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_patternscale_a:new o.aO(b,a.u_patternscale_a),u_patternscale_b:new o.aO(b,a.u_patternscale_b),u_sdfgamma:new o.aI(b,a.u_sdfgamma),u_image:new o.aH(b,a.u_image),u_tex_y_a:new o.aI(b,a.u_tex_y_a),u_tex_y_b:new o.aI(b,a.u_tex_y_b),u_mix:new o.aI(b,a.u_mix)}),raster:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_tl_parent:new o.aO(b,a.u_tl_parent),u_scale_parent:new o.aI(b,a.u_scale_parent),u_buffer_scale:new o.aI(b,a.u_buffer_scale),u_fade_t:new o.aI(b,a.u_fade_t),u_opacity:new o.aI(b,a.u_opacity),u_image0:new o.aH(b,a.u_image0),u_image1:new o.aH(b,a.u_image1),u_brightness_low:new o.aI(b,a.u_brightness_low),u_brightness_high:new o.aI(b,a.u_brightness_high),u_saturation_factor:new o.aI(b,a.u_saturation_factor),u_contrast_factor:new o.aI(b,a.u_contrast_factor),u_spin_weights:new o.aN(b,a.u_spin_weights)}),symbolIcon:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texture:new o.aH(b,a.u_texture),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),symbolSDF:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texture:new o.aH(b,a.u_texture),u_gamma_scale:new o.aI(b,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_is_halo:new o.aH(b,a.u_is_halo),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),symbolTextAndIcon:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texsize_icon:new o.aO(b,a.u_texsize_icon),u_texture:new o.aH(b,a.u_texture),u_texture_icon:new o.aH(b,a.u_texture_icon),u_gamma_scale:new o.aI(b,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_is_halo:new o.aH(b,a.u_is_halo),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),background:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_opacity:new o.aI(b,a.u_opacity),u_color:new o.aL(b,a.u_color)}),backgroundPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_opacity:new o.aI(b,a.u_opacity),u_image:new o.aH(b,a.u_image),u_pattern_tl_a:new o.aO(b,a.u_pattern_tl_a),u_pattern_br_a:new o.aO(b,a.u_pattern_br_a),u_pattern_tl_b:new o.aO(b,a.u_pattern_tl_b),u_pattern_br_b:new o.aO(b,a.u_pattern_br_b),u_texsize:new o.aO(b,a.u_texsize),u_mix:new o.aI(b,a.u_mix),u_pattern_size_a:new o.aO(b,a.u_pattern_size_a),u_pattern_size_b:new o.aO(b,a.u_pattern_size_b),u_scale_a:new o.aI(b,a.u_scale_a),u_scale_b:new o.aI(b,a.u_scale_b),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aI(b,a.u_tile_units_to_pixels)}),terrain:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texture:new o.aH(b,a.u_texture),u_ele_delta:new o.aI(b,a.u_ele_delta),u_fog_matrix:new o.aJ(b,a.u_fog_matrix),u_fog_color:new o.aL(b,a.u_fog_color),u_fog_ground_blend:new o.aI(b,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.aI(b,a.u_fog_ground_blend_opacity),u_horizon_color:new o.aL(b,a.u_horizon_color),u_horizon_fog_blend:new o.aI(b,a.u_horizon_fog_blend)}),terrainDepth:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ele_delta:new o.aI(b,a.u_ele_delta)}),terrainCoords:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texture:new o.aH(b,a.u_texture),u_terrain_coords_id:new o.aI(b,a.u_terrain_coords_id),u_ele_delta:new o.aI(b,a.u_ele_delta)}),sky:(b,a)=>({u_sky_color:new o.aL(b,a.u_sky_color),u_horizon_color:new o.aL(b,a.u_horizon_color),u_horizon:new o.aI(b,a.u_horizon),u_sky_horizon_blend:new o.aI(b,a.u_sky_horizon_blend)})};class fl{constructor(a,d,m){this.context=a;let g=a.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let gD={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class _1{constructor(a,d,m,g){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=g,this.context=a;let _=a.gl;this.buffer=_.createBuffer(),a.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){let g=d.attributes[this.attributes[m].name];g!==void 0&&a.enableVertexAttribArray(g)}}setVertexAttribPointers(a,d,m){for(let g=0;g<this.attributes.length;g++){let _=this.attributes[g],A=d.attributes[_.name];A!==void 0&&a.vertexAttribPointer(A,_.components,a[gD[_.type]],!1,this.itemSize,_.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Fc=new WeakMap;function zu(b){var a;if(Fc.has(b))return Fc.get(b);{let d=(a=b.getParameter(b.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Fc.set(b,d),d}}class mn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class vg extends mn{getDefault(){return o.aM.transparent}set(a){let d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class vD extends mn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class op extends mn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class yD extends mn{getDefault(){return[!0,!0,!0,!0]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class q2 extends mn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class _D extends mn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class N2 extends mn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class b1 extends mn{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class R2 extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class L2 extends mn{getDefault(){return[0,1]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class z2 extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class F2 extends mn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class jc extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class j2 extends mn{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class bD extends mn{getDefault(){return o.aM.transparent}set(a){let d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class B2 extends mn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class ch extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class xD extends mn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class yg extends mn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class wD extends mn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class SD extends mn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class V2 extends mn{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class U2 extends mn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class $2 extends mn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class x1 extends mn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class H2 extends mn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class _g extends mn{getDefault(){return null}set(a){let d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class au extends mn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;let m=this.gl;zu(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class w1 extends mn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class S1 extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class I1 extends mn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class bg extends mn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class E1 extends bg{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Bc extends bg{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class T1 extends bg{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ID{constructor(a,d,m,g,_){this.context=a,this.width=d,this.height=m;let A=a.gl,P=this.framebuffer=A.createFramebuffer();if(this.colorAttachment=new E1(a,P),g)this.depthAttachment=_?new T1(a,P):new Bc(a,P);else if(_)throw new Error("Stencil cannot be set without depth");if(A.checkFramebufferStatus(A.FRAMEBUFFER)!==A.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){let a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){let m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class xi{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}xi.Replace=[1,0],xi.disabled=new xi(xi.Replace,o.aM.transparent,[!1,!1,!1,!1]),xi.unblended=new xi(xi.Replace,o.aM.transparent,[!0,!0,!0,!0]),xi.alphaBlended=new xi([1,771],o.aM.transparent,[!0,!0,!0,!0]);class ED{constructor(a){var d,m;if(this.gl=a,this.clearColor=new vg(this),this.clearDepth=new vD(this),this.clearStencil=new op(this),this.colorMask=new yD(this),this.depthMask=new q2(this),this.stencilMask=new _D(this),this.stencilFunc=new N2(this),this.stencilOp=new b1(this),this.stencilTest=new R2(this),this.depthRange=new L2(this),this.depthTest=new z2(this),this.depthFunc=new F2(this),this.blend=new jc(this),this.blendFunc=new j2(this),this.blendColor=new bD(this),this.blendEquation=new B2(this),this.cullFace=new ch(this),this.cullFaceSide=new xD(this),this.frontFace=new yg(this),this.program=new wD(this),this.activeTexture=new SD(this),this.viewport=new V2(this),this.bindFramebuffer=new U2(this),this.bindRenderbuffer=new $2(this),this.bindTexture=new x1(this),this.bindVertexBuffer=new H2(this),this.bindElementBuffer=new _g(this),this.bindVertexArray=new au(this),this.pixelStoreUnpack=new w1(this),this.pixelStoreUnpackPremultiplyAlpha=new S1(this),this.pixelStoreUnpackFlipY=new I1(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),zu(a)){this.HALF_FLOAT=a.HALF_FLOAT;let g=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:g==null?void 0:g.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let g=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new fl(this,a,d)}createVertexBuffer(a,d,m){return new _1(this,a,d,m)}createRenderbuffer(a,d,m){let g=this.gl,_=g.createRenderbuffer();return this.bindRenderbuffer.set(_),g.renderbufferStorage(g.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),_}createFramebuffer(a,d,m,g){return new ID(this,a,d,m,g)}clear({color:a,depth:d,stencil:m}){let g=this.gl,_=0;a&&(_|=g.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(_|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(_|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),g.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aE(a.blendFunction,xi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return zu(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return zu(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class Lr{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}Lr.ReadOnly=!1,Lr.ReadWrite=!0,Lr.disabled=new Lr(519,Lr.ReadOnly,[0,1]);let xg=7680;class zn{constructor(a,d,m,g,_,A){this.test=a,this.ref=d,this.mask=m,this.fail=g,this.depthFail=_,this.pass=A}}zn.disabled=new zn({func:519,mask:0},0,0,xg,xg,xg);class Cn{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let Vc;function dh(b,a,d,m,g){let _=b.context,A=_.gl,P=b.useProgram("collisionBox"),O=[],L=0,V=0;for(let me=0;me<m.length;me++){let ye=m[me],se=a.getTile(ye).getBucket(d);if(!se)continue;let Ie=g?se.textCollisionBox:se.iconCollisionBox,Ce=se.collisionCircleArray;if(Ce.length>0){let Ne=o.H();o.aQ(Ne,se.placementInvProjMatrix,b.transform.glCoordMatrix),o.aQ(Ne,Ne,se.placementViewportMatrix),O.push({circleArray:Ce,circleOffset:V,transform:ye.posMatrix,invTransform:Ne,coord:ye}),L+=Ce.length/4,V=L}Ie&&P.draw(_,A.LINES,Lr.disabled,zn.disabled,b.colorModeForRenderPass(),Cn.disabled,{u_matrix:ye.posMatrix,u_pixel_extrude_scale:[1/(U=b.transform).width,1/U.height]},b.style.map.terrain&&b.style.map.terrain.getTerrainData(ye),d.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,null,b.transform.zoom,null,null,Ie.collisionVertexBuffer)}var U;if(!g||!O.length)return;let K=b.useProgram("collisionCircle"),te=new o.aR;te.resize(4*L),te._trim();let oe=0;for(let me of O)for(let ye=0;ye<me.circleArray.length/4;ye++){let se=4*ye,Ie=me.circleArray[se+0],Ce=me.circleArray[se+1],Ne=me.circleArray[se+2],tt=me.circleArray[se+3];te.emplace(oe++,Ie,Ce,Ne,tt,0),te.emplace(oe++,Ie,Ce,Ne,tt,1),te.emplace(oe++,Ie,Ce,Ne,tt,2),te.emplace(oe++,Ie,Ce,Ne,tt,3)}(!Vc||Vc.length<2*L)&&(Vc=function(me){let ye=2*me,se=new o.aT;se.resize(ye),se._trim();for(let Ie=0;Ie<ye;Ie++){let Ce=6*Ie;se.uint16[Ce+0]=4*Ie+0,se.uint16[Ce+1]=4*Ie+1,se.uint16[Ce+2]=4*Ie+2,se.uint16[Ce+3]=4*Ie+2,se.uint16[Ce+4]=4*Ie+3,se.uint16[Ce+5]=4*Ie+0}return se}(L));let ce=_.createIndexBuffer(Vc,!0),pe=_.createVertexBuffer(te,o.aS.members,!0);for(let me of O){let ye=zc(me.transform,me.invTransform,b.transform);K.draw(_,A.TRIANGLES,Lr.disabled,zn.disabled,b.colorModeForRenderPass(),Cn.disabled,ye,b.style.map.terrain&&b.style.map.terrain.getTerrainData(me.coord),d.id,pe,ce,o.a0.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,b.transform.zoom,null,null,null)}pe.destroy(),ce.destroy()}Cn.disabled=new Cn(!1,1029,2305),Cn.backCCW=new Cn(!0,1029,2305);let ph=o.an(new Float32Array(16));function C1(b,a,d,m,g,_){let{horizontalAlign:A,verticalAlign:P}=o.au(b);return new o.P((-(A-.5)*a/g+m[0])*_,(-(P-.5)*d/g+m[1])*_)}function Uc(b,a,d,m,g,_){let A=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let P=m.mult(_);d||(P=P.rotate(-g));let O=A.add(P);return ne(O.x,O.y,a.labelPlaneMatrix,a.getElevation).point}if(d){let P=Ve(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(b),O=Math.atan(P.y/P.x)+(P.x<0?Math.PI:0);return b.add(m.rotate(O))}return b.add(m)}function ap(b,a,d,m,g,_,A,P,O,L,V,U,K,te){let oe=b.text.placedSymbolArray,ce=b.text.dynamicLayoutVertexArray,pe=b.icon.dynamicLayoutVertexArray,me={};ce.clear();for(let ye=0;ye<oe.length;ye++){let se=oe.get(ye),Ie=se.hidden||!se.crossTileID||b.allowVerticalPlacement&&!se.placedOrientation?null:m[se.crossTileID];if(Ie){let Ce=new o.P(se.anchorX,se.anchorY),Ne={getElevation:te,width:g.width,height:g.height,labelPlaneMatrix:_,lineVertexArray:null,pitchWithMap:d,projection:V,projectionCache:null,tileAnchorPoint:Ce,translation:U,unwrappedTileID:K},tt=d?ne(Ce.x,Ce.y,A,te):Ve(Ce.x,Ce.y,Ne),dt=H(g.cameraToCenterDistance,tt.signedDistanceFromCamera),Mt=o.ai(b.textSizeData,O,se)*dt/o.ap;d&&(Mt*=b.tilePixelRatio/P);let{width:zt,height:wt,anchor:bt,textOffset:Yt,textBoxScale:yr}=Ie,Et=C1(bt,zt,wt,Yt,yr,Mt),Nt=V.getPitchedTextCorrection(g,Ce.add(new o.P(U[0],U[1])),K),mr=Uc(tt.point,Ne,a,Et,g.angle,Nt),Yn=b.allowVerticalPlacement&&se.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let Mr=0;Mr<se.numGlyphs;Mr++)o.aj(ce,mr,Yn);L&&se.associatedIconIndex>=0&&(me[se.associatedIconIndex]={shiftedAnchor:mr,angle:Yn})}else ir(se.numGlyphs,ce)}if(L){pe.clear();let ye=b.icon.placedSymbolArray;for(let se=0;se<ye.length;se++){let Ie=ye.get(se);if(Ie.hidden)ir(Ie.numGlyphs,pe);else{let Ce=me[se];if(Ce)for(let Ne=0;Ne<Ie.numGlyphs;Ne++)o.aj(pe,Ce.shiftedAnchor,Ce.angle);else ir(Ie.numGlyphs,pe)}}b.icon.dynamicLayoutVertexBuffer.updateData(pe)}b.text.dynamicLayoutVertexBuffer.updateData(ce)}function ns(b,a,d){return d.iconsInText&&a?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function A1(b,a,d,m,g,_,A,P,O,L,V,U){let K=b.context,te=K.gl,oe=b.transform,ce=Rc(),pe=P==="map",me=O==="map",ye=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",se=pe&&!me&&!ye,Ie=!me&&ye,Ce=!d.layout.get("symbol-sort-key").isConstant(),Ne=!1,tt=b.depthModeForSublayer(0,Lr.ReadOnly),dt=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Mt=[],zt=ce.getCircleRadiusCorrection(oe);for(let wt of m){let bt=a.getTile(wt),Yt=bt.getBucket(d);if(!Yt)continue;let yr=g?Yt.text:Yt.icon;if(!yr||!yr.segments.get().length||!yr.hasVisibleVertices)continue;let Et=yr.programConfigurations.get(d.id),Nt=g||Yt.sdfIcons,mr=g?Yt.textSizeData:Yt.iconSizeData,Yn=me||oe.pitch!==0,Mr=b.useProgram(ns(Nt,g,Yt),Et),Wr=o.ag(mr,oe.zoom),Kn=b.style.map.terrain&&b.style.map.terrain.getTerrainData(wt),go,Vs,Xn,la,ko=[0,0],vo=null;if(g)Vs=bt.glyphAtlasTexture,Xn=te.LINEAR,go=bt.glyphAtlasTexture.size,Yt.iconsInText&&(ko=bt.imageAtlasTexture.size,vo=bt.imageAtlasTexture,la=Yn||b.options.rotating||b.options.zooming||mr.kind==="composite"||mr.kind==="camera"?te.LINEAR:te.NEAREST);else{let Xr=d.layout.get("icon-size").constantOr(0)!==1||Yt.iconsNeedLinear;Vs=bt.imageAtlasTexture,Xn=Nt||b.options.rotating||b.options.zooming||Xr||Yn?te.LINEAR:te.NEAREST,go=bt.imageAtlasTexture.size}let qo=Hr(bt,1,b.transform.zoom),gl=Ie?wt.posMatrix:ph,wp=kt(gl,me,pe,b.transform,qo),jg=Ot(gl,me,pe,b.transform,qo),Sp=Ot(wt.posMatrix,me,pe,b.transform,qo),as=ce.translatePosition(b.transform,bt,_,A),Bg=dt&&Yt.hasTextData(),Q1=d.layout.get("icon-text-fit")!=="none"&&Bg&&Yt.hasIconData();if(ye){let Xr=b.style.map.terrain?(Ip,Ep)=>b.style.map.terrain.getElevation(wt,Ip,Ep):null,Zc=d.layout.get("text-rotation-alignment")==="map";Y(Yt,wt.posMatrix,b,g,wp,Sp,me,L,Zc,ce,wt.toUnwrapped(),oe.width,oe.height,as,Xr)}let ss=wt.posMatrix,ls=g&&dt||Q1,Fu=ye||ls?ph:wp,Us=jg,ao=Nt&&d.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0,yo;yo=Nt?Yt.iconsInText?g1(mr.kind,Wr,se,me,ye,ls,b,ss,Fu,Us,as,go,ko,zt):uh(mr.kind,Wr,se,me,ye,ls,b,ss,Fu,Us,as,g,go,!0,zt):k2(mr.kind,Wr,se,me,ye,ls,b,ss,Fu,Us,as,g,go,zt);let Fa={program:Mr,buffers:yr,uniformValues:yo,atlasTexture:Vs,atlasTextureIcon:vo,atlasInterpolation:Xn,atlasInterpolationIcon:la,isSDF:Nt,hasHalo:ao};if(Ce&&Yt.canOverlap){Ne=!0;let Xr=yr.segments.get();for(let Zc of Xr)Mt.push({segments:new o.a0([Zc]),sortKey:Zc.sortKey,state:Fa,terrainData:Kn})}else Mt.push({segments:yr.segments,sortKey:0,state:Fa,terrainData:Kn})}Ne&&Mt.sort((wt,bt)=>wt.sortKey-bt.sortKey);for(let wt of Mt){let bt=wt.state;if(K.activeTexture.set(te.TEXTURE0),bt.atlasTexture.bind(bt.atlasInterpolation,te.CLAMP_TO_EDGE),bt.atlasTextureIcon&&(K.activeTexture.set(te.TEXTURE1),bt.atlasTextureIcon&&bt.atlasTextureIcon.bind(bt.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),bt.isSDF){let Yt=bt.uniformValues;bt.hasHalo&&(Yt.u_is_halo=1,M1(bt.buffers,wt.segments,d,b,bt.program,tt,V,U,Yt,wt.terrainData)),Yt.u_is_halo=0}M1(bt.buffers,wt.segments,d,b,bt.program,tt,V,U,bt.uniformValues,wt.terrainData)}}function M1(b,a,d,m,g,_,A,P,O,L){let V=m.context;g.draw(V,V.gl.TRIANGLES,_,A,P,Cn.disabled,O,L,d.id,b.layoutVertexBuffer,b.indexBuffer,a,d.paint,m.transform.zoom,b.programConfigurations.get(d.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function P1(b,a,d,m){let g=b.context,_=g.gl,A=zn.disabled,P=new xi([_.ONE,_.ONE],o.aM.transparent,[!0,!0,!0,!0]),O=a.getBucket(d);if(!O)return;let L=m.key,V=d.heatmapFbos.get(L);V||(V=fh(g,a.tileSize,a.tileSize),d.heatmapFbos.set(L,V)),g.bindFramebuffer.set(V.framebuffer),g.viewport.set([0,0,a.tileSize,a.tileSize]),g.clear({color:o.aM.transparent});let U=O.programConfigurations.get(d.id),K=b.useProgram("heatmap",U),te=b.style.map.terrain.getTerrainData(m);K.draw(g,_.TRIANGLES,Lr.disabled,A,P,Cn.disabled,sa(m.posMatrix,a,b.transform.zoom,d.paint.get("heatmap-intensity")),te,d.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,d.paint,b.transform.zoom,U)}function $c(b,a,d){let m=b.context,g=m.gl;m.setColorMode(b.colorModeForRenderPass());let _=hh(m,a),A=d.key,P=a.heatmapFbos.get(A);P&&(m.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,P.colorAttachment.get()),m.activeTexture.set(g.TEXTURE1),_.bind(g.LINEAR,g.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(m,g.TRIANGLES,Lr.disabled,zn.disabled,b.colorModeForRenderPass(),Cn.disabled,fg(b,a,0,1),null,a.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,a.paint,b.transform.zoom),P.destroy(),a.heatmapFbos.delete(A))}function fh(b,a,d){var m,g;let _=b.gl,A=_.createTexture();_.bindTexture(_.TEXTURE_2D,A),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR);let P=(m=b.HALF_FLOAT)!==null&&m!==void 0?m:_.UNSIGNED_BYTE,O=(g=b.RGBA16F)!==null&&g!==void 0?g:_.RGBA;_.texImage2D(_.TEXTURE_2D,0,O,a,d,0,_.RGBA,P,null);let L=b.createFramebuffer(a,d,!1,!1);return L.colorAttachment.set(A),L}function hh(b,a){return a.colorRampTexture||(a.colorRampTexture=new be(b,a.colorRamp,b.gl.RGBA)),a.colorRampTexture}function sp(b,a,d,m,g){if(!d||!m||!m.imageAtlas)return;let _=m.imageAtlas.patternPositions,A=_[d.to.toString()],P=_[d.from.toString()];if(!A&&P&&(A=P),!P&&A&&(P=A),!A||!P){let O=g.getPaintProperty(a);A=_[O],P=_[O]}A&&P&&b.setConstantPatternPositions(A,P)}function mh(b,a,d,m,g,_,A){let P=b.context.gl,O="fill-pattern",L=d.paint.get(O),V=L&&L.constantOr(1),U=d.getCrossfadeParameters(),K,te,oe,ce,pe;A?(te=V&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",K=P.LINES):(te=V?"fillPattern":"fill",K=P.TRIANGLES);let me=L.constantOr(null);for(let ye of m){let se=a.getTile(ye);if(V&&!se.patternsLoaded())continue;let Ie=se.getBucket(d);if(!Ie)continue;let Ce=Ie.programConfigurations.get(d.id),Ne=b.useProgram(te,Ce),tt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ye);V&&(b.context.activeTexture.set(P.TEXTURE0),se.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ce.updatePaintBuffers(U)),sp(Ce,O,me,se,d);let dt=tt?ye:null,Mt=b.translatePosMatrix(dt?dt.posMatrix:ye.posMatrix,se,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(A){ce=Ie.indexBuffer2,pe=Ie.segments2;let zt=[P.drawingBufferWidth,P.drawingBufferHeight];oe=te==="fillOutlinePattern"&&V?M2(Mt,b,U,se,zt):dD(Mt,zt)}else ce=Ie.indexBuffer,pe=Ie.segments,oe=V?A2(Mt,b,U,se):np(Mt);Ne.draw(b.context,K,g,b.stencilModeForClipping(ye),_,Cn.disabled,oe,tt,d.id,Ie.layoutVertexBuffer,ce,pe,d.paint,b.transform.zoom,Ce)}}function wg(b,a,d,m,g,_,A){let P=b.context,O=P.gl,L="fill-extrusion-pattern",V=d.paint.get(L),U=V.constantOr(1),K=d.getCrossfadeParameters(),te=d.paint.get("fill-extrusion-opacity"),oe=V.constantOr(null);for(let ce of m){let pe=a.getTile(ce),me=pe.getBucket(d);if(!me)continue;let ye=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ce),se=me.programConfigurations.get(d.id),Ie=b.useProgram(U?"fillExtrusionPattern":"fillExtrusion",se);U&&(b.context.activeTexture.set(O.TEXTURE0),pe.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),se.updatePaintBuffers(K)),sp(se,L,oe,pe,d);let Ce=b.translatePosMatrix(ce.posMatrix,pe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ne=d.paint.get("fill-extrusion-vertical-gradient"),tt=U?pg(Ce,b,Ne,te,ce,K,pe):sh(Ce,b,Ne,te);Ie.draw(P,P.gl.TRIANGLES,g,_,A,Cn.backCCW,tt,ye,d.id,me.layoutVertexBuffer,me.indexBuffer,me.segments,d.paint,b.transform.zoom,se,b.style.map.terrain&&me.centroidVertexBuffer)}}function lp(b,a,d,m,g,_,A){let P=b.context,O=P.gl,L=d.fbo;if(!L)return;let V=b.useProgram("hillshade"),U=b.style.map.terrain&&b.style.map.terrain.getTerrainData(a);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,L.colorAttachment.get()),V.draw(P,O.TRIANGLES,g,_,A,Cn.disabled,((K,te,oe,ce)=>{let pe=oe.paint.get("hillshade-shadow-color"),me=oe.paint.get("hillshade-highlight-color"),ye=oe.paint.get("hillshade-accent-color"),se=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(se-=K.transform.angle);let Ie=!K.options.moving;return{u_matrix:ce?ce.posMatrix:K.transform.calculatePosMatrix(te.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:hg(0,te.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),se],u_shadow:pe,u_highlight:me,u_accent:ye}})(b,d,m,U?a:null),U,m.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}function up(b,a,d,m,g,_){let A=b.context,P=A.gl,O=a.dem;if(O&&O.data){let L=O.dim,V=O.stride,U=O.getPixels();if(A.activeTexture.set(P.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||b.getTileTexture(V),a.demTexture){let te=a.demTexture;te.update(U,{premultiply:!1}),te.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new be(A,U,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);A.activeTexture.set(P.TEXTURE0);let K=a.fbo;if(!K){let te=new be(A,{width:L,height:L,data:null},P.RGBA);te.bind(P.LINEAR,P.CLAMP_TO_EDGE),K=a.fbo=A.createFramebuffer(L,L,!0,!1),K.colorAttachment.set(te.texture)}A.bindFramebuffer.set(K.framebuffer),A.viewport.set([0,0,L,L]),b.useProgram("hillshadePrepare").draw(A,P.TRIANGLES,m,g,_,Cn.disabled,((te,oe)=>{let ce=oe.stride,pe=o.H();return o.aP(pe,0,o.X,-o.X,0,0,1),o.J(pe,pe,[0,-o.X,0]),{u_matrix:pe,u_image:1,u_dimension:[ce,ce],u_zoom:te.overscaledZ,u_unpack:oe.getUnpackVector()}})(a.tileID,O),null,d.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function W2(b,a,d,m,g,_){let A=m.paint.get("raster-fade-duration");if(!_&&A>0){let P=y.now(),O=(P-b.timeAdded)/A,L=a?(P-a.timeAdded)/A:-1,V=d.getSource(),U=g.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),K=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(b.tileID.overscaledZ-U),te=K&&b.refreshedUponExpiration?1:o.ac(K?O:1-L,0,1);return b.refreshedUponExpiration&&O>=1&&(b.refreshedUponExpiration=!1),a?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}let O1=new o.aM(1,0,0,1),ln=new o.aM(0,1,0,1),Sg=new o.aM(0,0,1,1),TD=new o.aM(1,0,1,1),G2=new o.aM(0,1,1,1);function cp(b,a,d,m){Ig(b,0,a+d/2,b.transform.width,d,m)}function Z2(b,a,d,m){Ig(b,a-d/2,0,d,b.transform.height,m)}function Ig(b,a,d,m,g,_){let A=b.context,P=A.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*b.pixelRatio,d*b.pixelRatio,m*b.pixelRatio,g*b.pixelRatio),A.clear({color:_}),P.disable(P.SCISSOR_TEST)}function Y2(b,a,d){let m=b.context,g=m.gl,_=d.posMatrix,A=b.useProgram("debug"),P=Lr.disabled,O=zn.disabled,L=b.colorModeForRenderPass(),V="$debug",U=b.style.map.terrain&&b.style.map.terrain.getTerrainData(d);m.activeTexture.set(g.TEXTURE0);let K=a.getTileByID(d.key).latestRawTileData,te=Math.floor((K&&K.byteLength||0)/1024),oe=a.getTile(d).tileSize,ce=512/Math.min(oe,512)*(d.overscaledZ/b.transform.zoom)*.5,pe=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(pe+=` => ${d.overscaledZ}`),function(me,ye){me.initDebugOverlayCanvas();let se=me.debugOverlayCanvas,Ie=me.context.gl,Ce=me.debugOverlayCanvas.getContext("2d");Ce.clearRect(0,0,se.width,se.height),Ce.shadowColor="white",Ce.shadowBlur=2,Ce.lineWidth=1.5,Ce.strokeStyle="white",Ce.textBaseline="top",Ce.font="bold 36px Open Sans, sans-serif",Ce.fillText(ye,5,5),Ce.strokeText(ye,5,5),me.debugOverlayTexture.update(se),me.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(b,`${pe} ${te}kB`),A.draw(m,g.TRIANGLES,P,O,xi.alphaBlended,Cn.disabled,lh(_,o.aM.transparent,ce),null,V,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),A.draw(m,g.LINE_STRIP,P,O,L,Cn.disabled,lh(_,o.aM.red),U,V,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function K2(b,a,d){let m=b.context,g=m.gl,_=b.colorModeForRenderPass(),A=new Lr(g.LEQUAL,Lr.ReadWrite,b.depthRangeFor3D),P=b.useProgram("terrain"),O=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,b.width,b.height]);for(let L of d){let V=b.renderToTexture.getTexture(L),U=a.getTerrainData(L.tileID);m.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,V.texture);let K=b.transform.calculatePosMatrix(L.tileID.toUnwrapped()),te=a.getMeshFrameDelta(b.transform.zoom),oe=b.transform.calculateFogMatrix(L.tileID.toUnwrapped()),ce=h1(K,te,oe,b.style.sky,b.transform.pitch);P.draw(m,g.TRIANGLES,A,zn.disabled,_,Cn.backCCW,ce,U,"terrain",O.vertexBuffer,O.indexBuffer,O.segments)}}class Eg{constructor(a,d,m){this.vertexBuffer=a,this.indexBuffer=d,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class Tg{constructor(a,d){this.context=new ED(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=cr.maxUnderzooming+cr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new p1}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let g of this.style._order)this.style._layers[g].resize()}setup(){let a=this.context,d=new o.aX;d.emplaceBack(0,0),d.emplaceBack(o.X,0),d.emplaceBack(0,o.X),d.emplaceBack(o.X,o.X),this.tileExtentBuffer=a.createVertexBuffer(d,Lc.members),this.tileExtentSegments=o.a0.simpleSegment(0,0,4,2);let m=new o.aX;m.emplaceBack(0,0),m.emplaceBack(o.X,0),m.emplaceBack(0,o.X),m.emplaceBack(o.X,o.X),this.debugBuffer=a.createVertexBuffer(m,Lc.members),this.debugSegments=o.a0.simpleSegment(0,0,4,5);let g=new o.$;g.emplaceBack(0,0,0,0),g.emplaceBack(o.X,0,o.X,0),g.emplaceBack(0,o.X,0,o.X),g.emplaceBack(o.X,o.X,o.X,o.X),this.rasterBoundsBuffer=a.createVertexBuffer(g,Vt.members),this.rasterBoundsSegments=o.a0.simpleSegment(0,0,4,2);let _=new o.aX;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(_,Lc.members),this.viewportSegments=o.a0.simpleSegment(0,0,4,2);let A=new o.aZ;A.emplaceBack(0),A.emplaceBack(1),A.emplaceBack(3),A.emplaceBack(2),A.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(A);let P=new o.aY;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);let O=this.context.gl;this.stencilClearMode=new zn({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO)}clearStencil(){let a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let m=o.H();o.aP(m,0,this.width,this.height,0,0,1),o.K(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,Lr.disabled,this.stencilClearMode,xi.disabled,Cn.disabled,aa(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;let m=this.context,g=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(xi.disabled),m.setDepthMode(Lr.disabled);let _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let A of d){let P=this._tileClippingMaskIDs[A.key]=this.nextStencilID++,O=this.style.map.terrain&&this.style.map.terrain.getTerrainData(A);_.draw(m,g.TRIANGLES,Lr.disabled,new zn({func:g.ALWAYS,mask:0},P,255,g.KEEP,g.KEEP,g.REPLACE),xi.disabled,Cn.disabled,aa(A.posMatrix),O,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,d=this.context.gl;return new zn({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){let d=this.context.gl;return new zn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){let d=this.context.gl,m=a.sort((A,P)=>P.overscaledZ-A.overscaledZ),g=m[m.length-1].overscaledZ,_=m[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();let A={};for(let P=0;P<_;P++)A[P+g]=new zn({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=_,[A,m]}return[{[g]:zn.disabled},m]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new xi([a.CONSTANT_COLOR,a.ONE],new o.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?xi.unblended:xi.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return Lr.disabled;let g=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Lr(m||this.context.gl.LEQUAL,d,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(y.now()),this.imageManager.beginFrame();let m=this.style._order,g=this.style.sourceCaches,_={},A={},P={};for(let O in g){let L=g[O];L.used&&L.prepare(this.context),_[O]=L.getVisibleCoordinates(),A[O]=_[O].slice().reverse(),P[O]=L.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let O=0;O<m.length;O++)if(this.style._layers[m[O]].is3D()){this.opaquePassCutoff=O;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let O of m){let L=this.style._layers[O];if(!L.hasOffscreenPass()||L.isHidden(this.transform.zoom))continue;let V=A[L.source];(L.type==="custom"||V.length)&&this.renderLayer(this,g[L.source],L,V)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aM.black:o.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(O,L){let V=O.context,U=V.gl,K=((me,ye,se)=>({u_sky_color:me.properties.get("sky-color"),u_horizon_color:me.properties.get("horizon-color"),u_horizon:(ye.height/2+ye.getHorizon())*se,u_sky_horizon_blend:me.properties.get("sky-horizon-blend")*ye.height/2*se}))(L,O.style.map.transform,O.pixelRatio),te=new Lr(U.LEQUAL,Lr.ReadWrite,[0,1]),oe=zn.disabled,ce=O.colorModeForRenderPass(),pe=O.useProgram("sky");if(!L.mesh){let me=new o.aX;me.emplaceBack(-1,-1),me.emplaceBack(1,-1),me.emplaceBack(1,1),me.emplaceBack(-1,1);let ye=new o.aY;ye.emplaceBack(0,1,2),ye.emplaceBack(0,2,3),L.mesh=new Eg(V.createVertexBuffer(me,Lc.members),V.createIndexBuffer(ye),o.a0.simpleSegment(0,0,me.length,ye.length))}pe.draw(V,U.TRIANGLES,te,oe,ce,Cn.disabled,K,void 0,"sky",L.mesh.vertexBuffer,L.mesh.indexBuffer,L.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){let O=this.style._layers[m[this.currentLayer]],L=g[O.source],V=_[O.source];this._renderTileClippingMasks(O,V),this.renderLayer(this,L,O,V)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){let O=this.style._layers[m[this.currentLayer]],L=g[O.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(O))continue;let V=(O.type==="symbol"?P:A)[O.source];this._renderTileClippingMasks(O,_[O.source]),this.renderLayer(this,L,O,V)}if(this.options.showTileBoundaries){let O=function(L,V){let U=null,K=Object.values(L._layers).flatMap(pe=>pe.source&&!pe.isHidden(V)?[L.sourceCaches[pe.source]]:[]),te=K.filter(pe=>pe.getSource().type==="vector"),oe=K.filter(pe=>pe.getSource().type!=="vector"),ce=pe=>{(!U||U.getSource().maxzoom<pe.getSource().maxzoom)&&(U=pe)};return te.forEach(pe=>ce(pe)),U||oe.forEach(pe=>ce(pe)),U}(this.style,this.transform.zoom);O&&function(L,V,U){for(let K=0;K<U.length;K++)Y2(L,V,U[K])}(this,O,O.getVisibleCoordinates())}this.options.showPadding&&function(O){let L=O.transform.padding;cp(O,O.transform.height-(L.top||0),3,O1),cp(O,L.bottom||0,3,ln),Z2(O,L.left||0,3,Sg),Z2(O,O.transform.width-(L.right||0),3,TD);let V=O.transform.centerPoint;(function(U,K,te,oe){Ig(U,K-1,te-10,2,20,oe),Ig(U,K-10,te-1,20,2,oe)})(O,V.x,O.transform.height-V.y,G2)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let d=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix,g=this.terrainFacilitator.dirty;g||(g=a?!o.a_(d,m):!o.a$(d,m)),g||(g=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),g&&(o.b0(d,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,A){let P=_.context,O=P.gl,L=xi.unblended,V=new Lr(O.LEQUAL,Lr.ReadWrite,[0,1]),U=A.getTerrainMesh(),K=A.sourceCache.getRenderableTiles(),te=_.useProgram("terrainDepth");P.bindFramebuffer.set(A.getFramebuffer("depth").framebuffer),P.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1});for(let oe of K){let ce=A.getTerrainData(oe.tileID),pe={u_matrix:_.transform.calculatePosMatrix(oe.tileID.toUnwrapped()),u_ele_delta:A.getMeshFrameDelta(_.transform.zoom)};te.draw(P,O.TRIANGLES,V,zn.disabled,L,Cn.backCCW,pe,ce,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}P.bindFramebuffer.set(null),P.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,A){let P=_.context,O=P.gl,L=xi.unblended,V=new Lr(O.LEQUAL,Lr.ReadWrite,[0,1]),U=A.getTerrainMesh(),K=A.getCoordsTexture(),te=A.sourceCache.getRenderableTiles(),oe=_.useProgram("terrainCoords");P.bindFramebuffer.set(A.getFramebuffer("coords").framebuffer),P.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1}),A.coordsIndex=[];for(let ce of te){let pe=A.getTerrainData(ce.tileID);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,K.texture);let me={u_matrix:_.transform.calculatePosMatrix(ce.tileID.toUnwrapped()),u_terrain_coords_id:(255-A.coordsIndex.length)/255,u_texture:0,u_ele_delta:A.getMeshFrameDelta(_.transform.zoom)};oe.draw(P,O.TRIANGLES,V,zn.disabled,L,Cn.backCCW,me,pe,"terrain",U.vertexBuffer,U.indexBuffer,U.segments),A.coordsIndex.push(ce.tileID.key)}P.bindFramebuffer.set(null),P.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(a,d,m,g){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(g||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(_,A,P,O,L){if(_.renderPass!=="translucent")return;let V=zn.disabled,U=_.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(K,te,oe,ce,pe,me,ye,se,Ie){let Ce=te.transform,Ne=Rc(),tt=pe==="map",dt=me==="map";for(let Mt of K){let zt=ce.getTile(Mt),wt=zt.getBucket(oe);if(!wt||!wt.text||!wt.text.segments.get().length)continue;let bt=o.ag(wt.textSizeData,Ce.zoom),Yt=Hr(zt,1,te.transform.zoom),yr=kt(Mt.posMatrix,dt,tt,te.transform,Yt),Et=oe.layout.get("icon-text-fit")!=="none"&&wt.hasIconData();if(bt){let Nt=Math.pow(2,Ce.zoom-zt.tileID.overscaledZ),mr=te.style.map.terrain?(Mr,Wr)=>te.style.map.terrain.getElevation(Mt,Mr,Wr):null,Yn=Ne.translatePosition(Ce,zt,ye,se);ap(wt,tt,dt,Ie,Ce,yr,Mt.posMatrix,Nt,bt,Et,Ne,Yn,Mt.toUnwrapped(),mr)}}}(O,_,P,A,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),L),P.paint.get("icon-opacity").constantOr(1)!==0&&A1(_,A,P,O,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),V,U),P.paint.get("text-opacity").constantOr(1)!==0&&A1(_,A,P,O,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),V,U),A.map.showCollisionBoxes&&(dh(_,A,P,O,!0),dh(_,A,P,O,!1))})(a,d,m,g,this.style.placement.variableOffsets);break;case"circle":(function(_,A,P,O){if(_.renderPass!=="translucent")return;let L=P.paint.get("circle-opacity"),V=P.paint.get("circle-stroke-width"),U=P.paint.get("circle-stroke-opacity"),K=!P.layout.get("circle-sort-key").isConstant();if(L.constantOr(1)===0&&(V.constantOr(1)===0||U.constantOr(1)===0))return;let te=_.context,oe=te.gl,ce=_.depthModeForSublayer(0,Lr.ReadOnly),pe=zn.disabled,me=_.colorModeForRenderPass(),ye=[];for(let se=0;se<O.length;se++){let Ie=O[se],Ce=A.getTile(Ie),Ne=Ce.getBucket(P);if(!Ne)continue;let tt=Ne.programConfigurations.get(P.id),dt=_.useProgram("circle",tt),Mt=Ne.layoutVertexBuffer,zt=Ne.indexBuffer,wt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ie),bt={programConfiguration:tt,program:dt,layoutVertexBuffer:Mt,indexBuffer:zt,uniformValues:pD(_,Ie,Ce,P),terrainData:wt};if(K){let Yt=Ne.segments.get();for(let yr of Yt)ye.push({segments:new o.a0([yr]),sortKey:yr.sortKey,state:bt})}else ye.push({segments:Ne.segments,sortKey:0,state:bt})}K&&ye.sort((se,Ie)=>se.sortKey-Ie.sortKey);for(let se of ye){let{programConfiguration:Ie,program:Ce,layoutVertexBuffer:Ne,indexBuffer:tt,uniformValues:dt,terrainData:Mt}=se.state;Ce.draw(te,oe.TRIANGLES,ce,pe,me,Cn.disabled,dt,Mt,P.id,Ne,tt,se.segments,P.paint,_.transform.zoom,Ie)}})(a,d,m,g);break;case"heatmap":(function(_,A,P,O){if(P.paint.get("heatmap-opacity")===0)return;let L=_.context;if(_.style.map.terrain){for(let V of O){let U=A.getTile(V);A.hasRenderableParent(V)||(_.renderPass==="offscreen"?P1(_,U,P,V):_.renderPass==="translucent"&&$c(_,P,V))}L.viewport.set([0,0,_.width,_.height])}else _.renderPass==="offscreen"?function(V,U,K,te){let oe=V.context,ce=oe.gl,pe=zn.disabled,me=new xi([ce.ONE,ce.ONE],o.aM.transparent,[!0,!0,!0,!0]);(function(ye,se,Ie){let Ce=ye.gl;ye.activeTexture.set(Ce.TEXTURE1),ye.viewport.set([0,0,se.width/4,se.height/4]);let Ne=Ie.heatmapFbos.get(o.aU);Ne?(Ce.bindTexture(Ce.TEXTURE_2D,Ne.colorAttachment.get()),ye.bindFramebuffer.set(Ne.framebuffer)):(Ne=fh(ye,se.width/4,se.height/4),Ie.heatmapFbos.set(o.aU,Ne))})(oe,V,K),oe.clear({color:o.aM.transparent});for(let ye=0;ye<te.length;ye++){let se=te[ye];if(U.hasRenderableParent(se))continue;let Ie=U.getTile(se),Ce=Ie.getBucket(K);if(!Ce)continue;let Ne=Ce.programConfigurations.get(K.id),tt=V.useProgram("heatmap",Ne),{zoom:dt}=V.transform;tt.draw(oe,ce.TRIANGLES,Lr.disabled,pe,me,Cn.disabled,sa(se.posMatrix,Ie,dt,K.paint.get("heatmap-intensity")),null,K.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,K.paint,V.transform.zoom,Ne)}oe.viewport.set([0,0,V.width,V.height])}(_,A,P,O):_.renderPass==="translucent"&&function(V,U){let K=V.context,te=K.gl;K.setColorMode(V.colorModeForRenderPass());let oe=U.heatmapFbos.get(o.aU);oe&&(K.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,oe.colorAttachment.get()),K.activeTexture.set(te.TEXTURE1),hh(K,U).bind(te.LINEAR,te.CLAMP_TO_EDGE),V.useProgram("heatmapTexture").draw(K,te.TRIANGLES,Lr.disabled,zn.disabled,V.colorModeForRenderPass(),Cn.disabled,fg(V,U,0,1),null,U.id,V.viewportBuffer,V.quadTriangleIndexBuffer,V.viewportSegments,U.paint,V.transform.zoom))}(_,P)})(a,d,m,g);break;case"line":(function(_,A,P,O){if(_.renderPass!=="translucent")return;let L=P.paint.get("line-opacity"),V=P.paint.get("line-width");if(L.constantOr(1)===0||V.constantOr(1)===0)return;let U=_.depthModeForSublayer(0,Lr.ReadOnly),K=_.colorModeForRenderPass(),te=P.paint.get("line-dasharray"),oe=P.paint.get("line-pattern"),ce=oe.constantOr(1),pe=P.paint.get("line-gradient"),me=P.getCrossfadeParameters(),ye=ce?"linePattern":te?"lineSDF":pe?"lineGradient":"line",se=_.context,Ie=se.gl,Ce=!0;for(let Ne of O){let tt=A.getTile(Ne);if(ce&&!tt.patternsLoaded())continue;let dt=tt.getBucket(P);if(!dt)continue;let Mt=dt.programConfigurations.get(P.id),zt=_.context.program.get(),wt=_.useProgram(ye,Mt),bt=Ce||wt.program!==zt,Yt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ne),yr=oe.constantOr(null);if(yr&&tt.imageAtlas){let mr=tt.imageAtlas,Yn=mr.patternPositions[yr.to.toString()],Mr=mr.patternPositions[yr.from.toString()];Yn&&Mr&&Mt.setConstantPatternPositions(Yn,Mr)}let Et=Yt?Ne:null,Nt=ce?ip(_,tt,P,me,Et):te?fD(_,tt,P,te,me,Et):pe?P2(_,tt,P,dt.lineClipsArray.length,Et):mg(_,tt,P,Et);if(ce)se.activeTexture.set(Ie.TEXTURE0),tt.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),Mt.updatePaintBuffers(me);else if(te&&(bt||_.lineAtlas.dirty))se.activeTexture.set(Ie.TEXTURE0),_.lineAtlas.bind(se);else if(pe){let mr=dt.gradients[P.id],Yn=mr.texture;if(P.gradientVersion!==mr.version){let Mr=256;if(P.stepInterpolant){let Wr=A.getSource().maxzoom,Kn=Ne.canonical.z===Wr?Math.ceil(1<<_.transform.maxZoom-Ne.canonical.z):1;Mr=o.ac(o.aV(dt.maxLineLength/o.X*1024*Kn),256,se.maxTextureSize)}mr.gradient=o.aW({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Mr,image:mr.gradient||void 0,clips:dt.lineClipsArray}),mr.texture?mr.texture.update(mr.gradient):mr.texture=new be(se,mr.gradient,Ie.RGBA),mr.version=P.gradientVersion,Yn=mr.texture}se.activeTexture.set(Ie.TEXTURE0),Yn.bind(P.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}wt.draw(se,Ie.TRIANGLES,U,_.stencilModeForClipping(Ne),K,Cn.disabled,Nt,Yt,P.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,P.paint,_.transform.zoom,Mt,dt.layoutVertexBuffer2),Ce=!1}})(a,d,m,g);break;case"fill":(function(_,A,P,O){let L=P.paint.get("fill-color"),V=P.paint.get("fill-opacity");if(V.constantOr(1)===0)return;let U=_.colorModeForRenderPass(),K=P.paint.get("fill-pattern"),te=_.opaquePassEnabledForLayer()&&!K.constantOr(1)&&L.constantOr(o.aM.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===te){let oe=_.depthModeForSublayer(1,_.renderPass==="opaque"?Lr.ReadWrite:Lr.ReadOnly);mh(_,A,P,O,oe,U,!1)}if(_.renderPass==="translucent"&&P.paint.get("fill-antialias")){let oe=_.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,Lr.ReadOnly);mh(_,A,P,O,oe,U,!0)}})(a,d,m,g);break;case"fill-extrusion":(function(_,A,P,O){let L=P.paint.get("fill-extrusion-opacity");if(L!==0&&_.renderPass==="translucent"){let V=new Lr(_.context.gl.LEQUAL,Lr.ReadWrite,_.depthRangeFor3D);if(L!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))wg(_,A,P,O,V,zn.disabled,xi.disabled),wg(_,A,P,O,V,_.stencilModeFor3D(),_.colorModeForRenderPass());else{let U=_.colorModeForRenderPass();wg(_,A,P,O,V,zn.disabled,U)}}})(a,d,m,g);break;case"hillshade":(function(_,A,P,O){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;let L=_.context,V=_.depthModeForSublayer(0,Lr.ReadOnly),U=_.colorModeForRenderPass(),[K,te]=_.renderPass==="translucent"?_.stencilConfigForOverlap(O):[{},O];for(let oe of te){let ce=A.getTile(oe);ce.needsHillshadePrepare!==void 0&&ce.needsHillshadePrepare&&_.renderPass==="offscreen"?up(_,ce,P,V,zn.disabled,U):_.renderPass==="translucent"&&lp(_,oe,ce,P,V,K[oe.overscaledZ],U)}L.viewport.set([0,0,_.width,_.height])})(a,d,m,g);break;case"raster":(function(_,A,P,O){if(_.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!O.length)return;let L=_.context,V=L.gl,U=A.getSource(),K=_.useProgram("raster"),te=_.colorModeForRenderPass(),[oe,ce]=U instanceof pr?[{},O]:_.stencilConfigForOverlap(O),pe=ce[ce.length-1].overscaledZ,me=!_.options.moving;for(let ye of ce){let se=_.depthModeForSublayer(ye.overscaledZ-pe,P.paint.get("raster-opacity")===1?Lr.ReadWrite:Lr.ReadOnly,V.LESS),Ie=A.getTile(ye);Ie.registerFadeDuration(P.paint.get("raster-fade-duration"));let Ce=A.findLoadedParent(ye,0),Ne=A.findLoadedSibling(ye),tt=W2(Ie,Ce||Ne||null,A,P,_.transform,_.style.map.terrain),dt,Mt,zt=P.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;L.activeTexture.set(V.TEXTURE0),Ie.texture.bind(zt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),L.activeTexture.set(V.TEXTURE1),Ce?(Ce.texture.bind(zt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),dt=Math.pow(2,Ce.tileID.overscaledZ-Ie.tileID.overscaledZ),Mt=[Ie.tileID.canonical.x*dt%1,Ie.tileID.canonical.y*dt%1]):Ie.texture.bind(zt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),Ie.texture.useMipmap&&L.extTextureFilterAnisotropic&&_.transform.pitch>20&&V.texParameterf(V.TEXTURE_2D,L.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,L.extTextureFilterAnisotropicMax);let wt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ye),bt=wt?ye:null,Yt=bt?bt.posMatrix:_.transform.calculatePosMatrix(ye.toUnwrapped(),me),yr=hD(Yt,Mt||[0,0],dt||1,tt,P);U instanceof pr?K.draw(L,V.TRIANGLES,se,zn.disabled,te,Cn.disabled,yr,wt,P.id,U.boundsBuffer,_.quadTriangleIndexBuffer,U.boundsSegments):K.draw(L,V.TRIANGLES,se,oe[ye.overscaledZ],te,Cn.disabled,yr,wt,P.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(a,d,m,g);break;case"background":(function(_,A,P,O){let L=P.paint.get("background-color"),V=P.paint.get("background-opacity");if(V===0)return;let U=_.context,K=U.gl,te=_.transform,oe=te.tileSize,ce=P.paint.get("background-pattern");if(_.isPatternMissing(ce))return;let pe=!ce&&L.a===1&&V===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==pe)return;let me=zn.disabled,ye=_.depthModeForSublayer(0,pe==="opaque"?Lr.ReadWrite:Lr.ReadOnly),se=_.colorModeForRenderPass(),Ie=_.useProgram(ce?"backgroundPattern":"background"),Ce=O||te.coveringTiles({tileSize:oe,terrain:_.style.map.terrain});ce&&(U.activeTexture.set(K.TEXTURE0),_.imageManager.bind(_.context));let Ne=P.getCrossfadeParameters();for(let tt of Ce){let dt=O?tt.posMatrix:_.transform.calculatePosMatrix(tt.toUnwrapped()),Mt=ce?v1(dt,V,_,ce,{tileID:tt,tileSize:oe},Ne):gg(dt,V,L),zt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(tt);Ie.draw(U,K.TRIANGLES,ye,me,se,Cn.disabled,Mt,zt,P.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(a,0,m,g);break;case"custom":(function(_,A,P){let O=_.context,L=P.implementation;if(_.renderPass==="offscreen"){let V=L.prerender;V&&(_.setCustomLayerDefaults(),O.setColorMode(_.colorModeForRenderPass()),V.call(L,O.gl,_.transform.customLayerMatrix()),O.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),O.setColorMode(_.colorModeForRenderPass()),O.setStencilMode(zn.disabled);let V=L.renderingMode==="3d"?new Lr(_.context.gl.LEQUAL,Lr.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Lr.ReadOnly);O.setDepthMode(V),L.render(O.gl,_.transform.customLayerMatrix(),{farZ:_.transform.farZ,nearZ:_.transform.nearZ,fov:_.transform._fov,modelViewProjectionMatrix:_.transform.modelViewProjectionMatrix,projectionMatrix:_.transform.projectionMatrix}),O.setDirty(),_.setBaseState(),O.bindFramebuffer.set(null)}})(a,0,m);}}translatePosMatrix(a,d,m,g,_){if(!m[0]&&!m[1])return a;let A=_?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(A){let L=Math.sin(A),V=Math.cos(A);m=[m[0]*V-m[1]*L,m[0]*L+m[1]*V]}let P=[_?m[0]:Hr(d,m[0],this.transform.zoom),_?m[1]:Hr(d,m[1],this.transform.zoom),0],O=new Float32Array(16);return o.J(O,a,P),O}saveTileTexture(a){let d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};let m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new m1(this.context,Lu[a],d,y1[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new be(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class dp{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){let g=Math.pow(2,m),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{let O=1/(P=o.af([],P,a))[3]/d*g;return o.b1(P,P,[O,O,1/P[3],O])}),A=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{let O=function(K,te){var oe=te[0],ce=te[1],pe=te[2],me=oe*oe+ce*ce+pe*pe;return me>0&&(me=1/Math.sqrt(me)),K[0]=te[0]*me,K[1]=te[1]*me,K[2]=te[2]*me,K}([],function(K,te,oe){var ce=te[0],pe=te[1],me=te[2],ye=oe[0],se=oe[1],Ie=oe[2];return K[0]=pe*Ie-me*se,K[1]=me*ye-ce*Ie,K[2]=ce*se-pe*ye,K}([],ae([],_[P[0]],_[P[1]]),ae([],_[P[2]],_[P[1]]))),L=-((V=O)[0]*(U=_[P[1]])[0]+V[1]*U[1]+V[2]*U[2]);var V,U;return O.concat(L)});return new dp(_,A)}}class pp{constructor(a,d){this.min=a,this.max=d,this.center=function(m,g,_){return m[0]=.5*g[0],m[1]=.5*g[1],m[2]=.5*g[2],m}([],function(m,g,_){return m[0]=g[0]+_[0],m[1]=g[1]+_[1],m[2]=g[2]+_[2],m}([],this.min,this.max))}quadrant(a){let d=[a%2==0,a<2],m=Z(this.min),g=Z(this.max);for(let _=0;_<d.length;_++)m[_]=d[_]?this.min[_]:this.center[_],g[_]=d[_]?this.center[_]:this.max[_];return g[2]=this.max[2],new pp(m,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){let d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],m=!0;for(let g=0;g<a.planes.length;g++){let _=a.planes[g],A=0;for(let P=0;P<d.length;P++)o.b2(_,d[P])>=0&&A++;if(A===0)return 0;A!==d.length&&(m=!1)}if(m)return 2;for(let g=0;g<3;g++){let _=Number.MAX_VALUE,A=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){let O=a.points[P][g]-this.min[g];_=Math.min(_,O),A=Math.max(A,O)}if(A<0||_>this.max[g]-this.min[g])return 0}return 1}}class fp{constructor(a=0,d=0,m=0,g=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=g}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.y.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.y.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.y.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.y.number(a.right,d.right,m)),this}getCenter(a,d){let m=o.ac((this.left+a-this.right)/2,0,a),g=o.ac((this.top+d-this.bottom)/2,0,d);return new o.P(m,g)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new fp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}let D1=85.051129;class hp{constructor(a,d,m,g,_){this.tileSize=512,this._renderWorldCopies=_===void 0||!!_,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m==null?0:m,this._maxPitch=g==null?60:g,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new fp,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){let a=new hp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.lngRange=a.lngRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this.minElevationForCurrentTile=a.minElevationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){let d=-o.b3(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,g,_){var A=g[0],P=g[1],O=g[2],L=g[3],V=Math.sin(_),U=Math.cos(_);m[0]=A*U+O*V,m[1]=P*U+L*V,m[2]=A*-V+O*U,m[3]=P*-V+L*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){let d=o.ac(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){let d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){let d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){let d=[new o.b4(0,a)];if(this._renderWorldCopies){let m=this.pointCoordinate(new o.P(0,0)),g=this.pointCoordinate(new o.P(this.width,0)),_=this.pointCoordinate(new o.P(this.width,this.height)),A=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,g.x,_.x,A.x)),O=Math.floor(Math.max(m.x,g.x,_.x,A.x)),L=1;for(let V=P-L;V<=O+L;V++)V!==0&&d.push(new o.b4(V,a))}return d}coveringTiles(a){var d,m;let g=this.coveringZoomLevel(a),_=g;if(a.minzoom!==void 0&&g<a.minzoom)return[];a.maxzoom!==void 0&&g>a.maxzoom&&(g=a.maxzoom);let A=this.pointCoordinate(this.getCameraPoint()),P=o.Z.fromLngLat(this.center),O=Math.pow(2,g),L=[O*A.x,O*A.y,0],V=[O*P.x,O*P.y,0],U=dp.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,g),K=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(K=g);let te=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,oe=se=>({aabb:new pp([se*O,0,0],[(se+1)*O,O,0]),zoom:0,x:0,y:0,wrap:se,fullyVisible:!1}),ce=[],pe=[],me=g,ye=a.reparseOverscaled?_:g;if(this._renderWorldCopies)for(let se=1;se<=3;se++)ce.push(oe(-se)),ce.push(oe(se));for(ce.push(oe(0));ce.length>0;){let se=ce.pop(),Ie=se.x,Ce=se.y,Ne=se.fullyVisible;if(!Ne){let wt=se.aabb.intersects(U);if(wt===0)continue;Ne=wt===2}let tt=a.terrain?L:V,dt=se.aabb.distanceX(tt),Mt=se.aabb.distanceY(tt),zt=Math.max(Math.abs(dt),Math.abs(Mt));if(se.zoom===me||zt>te+(1<<me-se.zoom)-2&&se.zoom>=K){let wt=me-se.zoom,bt=L[0]-.5-(Ie<<wt),Yt=L[1]-.5-(Ce<<wt);pe.push({tileID:new o.S(se.zoom===me?ye:se.zoom,se.wrap,se.zoom,Ie,Ce),distanceSq:ue([V[0]-.5-Ie,V[1]-.5-Ce]),tileDistanceToCamera:Math.sqrt(bt*bt+Yt*Yt)})}else for(let wt=0;wt<4;wt++){let bt=(Ie<<1)+wt%2,Yt=(Ce<<1)+(wt>>1),yr=se.zoom+1,Et=se.aabb.quadrant(wt);if(a.terrain){let Nt=new o.S(yr,se.wrap,yr,bt,Yt),mr=a.terrain.getMinMaxElevation(Nt),Yn=(d=mr.minElevation)!==null&&d!==void 0?d:this.elevation,Mr=(m=mr.maxElevation)!==null&&m!==void 0?m:this.elevation;Et=new pp([Et.min[0],Et.min[1],Yn],[Et.max[0],Et.max[1],Mr])}ce.push({aabb:Et,zoom:yr,x:bt,y:Yt,wrap:se.wrap,fullyVisible:Ne})}}return pe.sort((se,Ie)=>se.distanceSq-Ie.distanceSq).map(se=>se.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){let d=o.ac(a.lat,-85.051129,D1);return new o.P(o.O(a.lng)*this.worldSize,o.Q(d)*this.worldSize)}unproject(a){return new o.Z(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){let d=this.elevation,m=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,g=this.pointLocation(this.centerPoint,a),_=a.getElevationForLngLatZoom(g,this.tileZoom);if(!(this.elevation-_))return;let A=m+d-_,P=Math.cos(this._pitch)*this.cameraToCenterDistance/A/o.b5(1,g.lat),O=this.scaleZoom(P/this.tileSize);this._elevation=_,this._center=g,this.zoom=O}setLocationAtPoint(a,d){let m=this.pointCoordinate(d),g=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(a),A=new o.Z(_.x-(m.x-g.x),_.y-(m.y-g.y));this.center=this.coordinateLocation(A),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.Z.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){let K=d.pointCoordinate(a);if(K!=null)return K}let m=[a.x,a.y,0,1],g=[a.x,a.y,1,1];o.af(m,m,this.pixelMatrixInverse),o.af(g,g,this.pixelMatrixInverse);let _=m[3],A=g[3],P=m[1]/_,O=g[1]/A,L=m[2]/_,V=g[2]/A,U=L===V?0:(0-L)/(V-L);return new o.Z(o.y.number(m[0]/_,g[0]/A,U)/this.worldSize,o.y.number(P,O,U)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){let g=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.af(g,g,m),new o.P(g[0]/g[3],g[1]/g[3])}getBounds(){let a=Math.max(0,this.height/2-this.getHorizon());return new we().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new we([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,D1])}calculateTileMatrix(a){let d=a.canonical,m=this.worldSize/this.zoomScale(d.z),g=d.x+Math.pow(2,d.z)*a.wrap,_=o.an(new Float64Array(16));return o.J(_,_,[g*m,d.y*m,0]),o.K(_,_,[m/o.X,m/o.X,1]),_}calculatePosMatrix(a,d=!1){let m=a.key,g=d?this._alignedPosMatrixCache:this._posMatrixCache;if(g[m])return g[m];let _=this.calculateTileMatrix(a);return o.L(_,d?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,_),g[m]=new Float32Array(_),g[m]}calculateFogMatrix(a){let d=a.key,m=this._fogMatrixCache;if(m[d])return m[d];let g=this.calculateTileMatrix(a);return o.L(g,this.fogMatrix,g),m[d]=new Float32Array(g),m[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(a,d){d=o.ac(+d,this.minZoom,this.maxZoom);let m={center:new o.N(a.lng,a.lat),zoom:d},g=this.lngRange;if(!this._renderWorldCopies&&g===null){let se=179.9999999999;g=[-se,se]}let _=this.tileSize*this.zoomScale(m.zoom),A=0,P=_,O=0,L=_,V=0,U=0,{x:K,y:te}=this.size;if(this.latRange){let se=this.latRange;A=o.Q(se[1])*_,P=o.Q(se[0])*_,P-A<te&&(V=te/(P-A))}g&&(O=o.b3(o.O(g[0])*_,0,_),L=o.b3(o.O(g[1])*_,0,_),L<O&&(L+=_),L-O<K&&(U=K/(L-O)));let{x:oe,y:ce}=this.project.call({worldSize:_},a),pe,me,ye=Math.max(U||0,V||0);if(ye){let se=new o.P(U?(L+O)/2:oe,V?(P+A)/2:ce);return m.center=this.unproject.call({worldSize:_},se).wrap(),m.zoom+=this.scaleZoom(ye),m}if(this.latRange){let se=te/2;ce-se<A&&(me=A+se),ce+se>P&&(me=P-se)}if(g){let se=(O+L)/2,Ie=oe;this._renderWorldCopies&&(Ie=o.b3(oe,se-_/2,se+_/2));let Ce=K/2;Ie-Ce<O&&(pe=O+Ce),Ie+Ce>L&&(pe=L-Ce)}if(pe!==void 0||me!==void 0){let se=new o.P(pe!=null?pe:oe,me!=null?me:ce);m.center=this.unproject.call({worldSize:_},se).wrap()}return m}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:d,zoom:m}=this.getConstrained(this.center,this.zoom);this.center=d,this.zoom=m,this._unmodified=a,this._constraining=!1}_calcMatrices(){if(!this.height)return;let a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b5(1,this.center.lat)*this.worldSize;let g=o.an(new Float64Array(16));o.K(g,g,[this.width/2,-this.height/2,1]),o.J(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=o.an(new Float64Array(16)),o.K(g,g,[1,-1,1]),o.J(g,g,[-1,-1,0]),o.K(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;let _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),A=Math.min(this.elevation,this.minElevationForCurrentTile),P=_-A*this._pixelPerMeter/Math.cos(this._pitch),O=A<0?P:_,L=Math.PI/2+this._pitch,V=this._fov*(.5+a.y/this.height),U=Math.sin(V)*O/Math.sin(o.ac(Math.PI-L-V,.01,Math.PI-.01)),K=this.getHorizon(),te=2*Math.atan(K/this.cameraToCenterDistance)*(.5+a.y/(2*K)),oe=Math.sin(te)*O/Math.sin(o.ac(Math.PI-L-te,.01,Math.PI-.01)),ce=Math.min(U,oe);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*ce+O),this.nearZ=this.height/50,g=new Float64Array(16),o.b6(g,this._fov,this.width/this.height,this.nearZ,this.farZ),g[8]=2*-a.x/this.width,g[9]=2*a.y/this.height,this.projectionMatrix=o.ae(g),o.K(g,g,[1,-1,1]),o.J(g,g,[0,0,-this.cameraToCenterDistance]),o.b7(g,g,this._pitch),o.ad(g,g,this.angle),o.J(g,g,[-d,-m,0]),this.mercatorMatrix=o.K([],g,[this.worldSize,this.worldSize,this.worldSize]),o.K(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.L(new Float64Array(16),this.labelPlaneMatrix,g),o.J(g,g,[0,0,-this.elevation]),this.modelViewProjectionMatrix=g,this.invModelViewProjectionMatrix=o.as([],g),this.fogMatrix=new Float64Array(16),o.b6(this.fogMatrix,this._fov,this.width/this.height,_,this.farZ),this.fogMatrix[8]=2*-a.x/this.width,this.fogMatrix[9]=2*a.y/this.height,o.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b7(this.fogMatrix,this.fogMatrix,this._pitch),o.ad(this.fogMatrix,this.fogMatrix,this.angle),o.J(this.fogMatrix,this.fogMatrix,[-d,-m,0]),o.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=o.L(new Float64Array(16),this.labelPlaneMatrix,g);let pe=this.width%2/2,me=this.height%2/2,ye=Math.cos(this.angle),se=Math.sin(this.angle),Ie=d-Math.round(d)+ye*pe+se*me,Ce=m-Math.round(m)+ye*me+se*pe,Ne=new Float64Array(g);if(o.J(Ne,Ne,[Ie>.5?Ie-1:Ie,Ce>.5?Ce-1:Ce,0]),this.alignedModelViewProjectionMatrix=Ne,g=o.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.af(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){let a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){let d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,g=d.y,_=d.x,A=d.y;for(let P of a)m=Math.min(m,P.x),g=Math.min(g,P.y),_=Math.max(_,P.x),A=Math.max(A,P.y);return[new o.P(m,g),new o.P(_,g),new o.P(_,A),new o.P(m,A),new o.P(m,g)]}}lngLatToCameraDepth(a,d){let m=this.locationCoordinate(a),g=[m.x*this.worldSize,m.y*this.worldSize,d,1];return o.af(g,g,this.modelViewProjectionMatrix),g[2]/g[3]}}function gh(b,a){let d,m=!1,g=null,_=null,A=()=>{g=null,m&&(b.apply(_,d),g=setTimeout(A,a),m=!1)};return(...P)=>(m=!0,_=this,d=P,g||A(),g)}class Cg{constructor(a){this._getCurrentHash=()=>{let d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(m=g)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{let d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){let m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{let d=window.location.href.replace(/(#.+)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{let d=this._getCurrentHash();if(d.length===0)return;let m=d.join("/"),g=m;g.split("&").length>0&&(g=g.split("&")[0]),this._hashName&&(g=`${this._hashName}=${m}`);let _=window.location.hash.replace(g,"");_.startsWith("#&")?_=_.slice(0,1)+_.slice(2):_==="#"&&(_="");let A=window.location.href.replace(/(#.+)?$/,_);A=A.replace("&&","&"),window.history.replaceState(window.history.state,null,A)},this._updateHash=gh(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,g=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,g),A=Math.round(d.lng*_)/_,P=Math.round(d.lat*_)/_,O=this._map.getBearing(),L=this._map.getPitch(),V="";if(V+=a?`/${A}/${P}/${m}`:`${m}/${P}/${A}`,(O||L)&&(V+="/"+Math.round(10*O)/10),L&&(V+=`/${Math.round(L)}`),this._hashName){let U=this._hashName,K=!1,te=window.location.hash.slice(1).split("&").map(oe=>{let ce=oe.split("=")[0];return ce===U?(K=!0,`${ce}=${V}`):oe}).filter(oe=>oe);return K||te.push(`${U}=${V}`),`#${te.join("&")}`}return`#${V}`}}let Ag={linearity:.3,easing:o.b8(0,0,.3,1)},k1=o.e({deceleration:2500,maxSpeed:1400},Ag),CD=o.e({deceleration:20,maxSpeed:1400},Ag),X2=o.e({deceleration:1e3,maxSpeed:360},Ag),Mg=o.e({deceleration:1e3,maxSpeed:90},Ag);class q1{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:y.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,d=y.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:_}of this._inertiaBuffer)d.zoom+=_.zoomDelta||0,d.bearing+=_.bearingDelta||0,d.pitch+=_.pitchDelta||0,_.panDelta&&d.pan._add(_.panDelta),_.around&&(d.around=_.around),_.pinchAround&&(d.pinchAround=_.pinchAround);let m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(d.pan.mag()){let _=yh(d.pan.mag(),m,o.e({},k1,a||{}));g.offset=d.pan.mult(_.amount/d.pan.mag()),g.center=this._map.transform.center,vh(g,_)}if(d.zoom){let _=yh(d.zoom,m,CD);g.zoom=this._map.transform.zoom+_.amount,vh(g,_)}if(d.bearing){let _=yh(d.bearing,m,X2);g.bearing=this._map.transform.bearing+o.ac(_.amount,-179,179),vh(g,_)}if(d.pitch){let _=yh(d.pitch,m,Mg);g.pitch=this._map.transform.pitch+_.amount,vh(g,_)}if(g.zoom||g.bearing){let _=d.pinchAround===void 0?d.around:d.pinchAround;g.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),o.e(g,{noMoveStart:!0})}}function vh(b,a){(!b.duration||b.duration<a.duration)&&(b.duration=a.duration,b.easing=a.easing)}function yh(b,a,d){let{maxSpeed:m,linearity:g,deceleration:_}=d,A=o.ac(b*g/(a/1e3),-m,m),P=Math.abs(A)/(_*g);return{easing:d.easing,duration:1e3*P,amount:A*(P/2)}}class mo extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,g={}){let _=x.mousePos(d.getCanvas(),m),A=d.unproject(_);super(a,o.e({point:_,lngLat:A,originalEvent:m},g)),this._defaultPrevented=!1,this.target=d}}class Hc extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){let g=a==="touchend"?m.changedTouches:m.touches,_=x.touchPos(d.getCanvasContainer(),g),A=_.map(O=>d.unproject(O)),P=_.reduce((O,L,V,U)=>O.add(L.div(U.length)),new o.P(0,0));super(a,{points:_,point:P,lngLats:A,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class J2 extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class Q2{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new J2(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new mo(a.type,this._map,a))}mouseup(a){this._map.fire(new mo(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new mo(a.type,this._map,a))}dblclick(a){return this._firePreventable(new mo(a.type,this._map,a))}mouseover(a){this._map.fire(new mo(a.type,this._map,a))}mouseout(a){this._map.fire(new mo(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Hc(a.type,this._map,a))}touchmove(a){this._map.fire(new Hc(a.type,this._map,a))}touchend(a){this._map.fire(new Hc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Hc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wi{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new mo(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new mo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new mo(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class js{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class La{constructor(a,d){this._map=a,this._tr=new js(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(x.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;let m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;let g=this._startPos;this._lastPos=m,this._box||(this._box=x.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let _=Math.min(g.x,m.x),A=Math.max(g.x,m.x),P=Math.min(g.y,m.y),O=Math.max(g.y,m.y);x.setTransform(this._box,`translate(${_}px,${P}px)`),this._box.style.width=A-_+"px",this._box.style.height=O-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;let m=this._startPos,g=d;if(this.reset(),x.suppressClick(),m.x!==g.x||m.y!==g.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:_=>_.fitScreenCoordinates(m,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(x.remove(this._box),this._box=null),x.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function _h(b,a){if(b.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${a.length}`);let d={};for(let m=0;m<b.length;m++)d[b[m].identifier]=a[m];return d}class N1{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(g){let _=new o.P(0,0);for(let A of g)_._add(A);return _.div(g.length)}(d),this.touches=_h(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;let g=_h(m,d);for(let _ in this.touches){let A=g[_];(!A||A.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){let g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class Pg{constructor(a){this.singleTap=new N1(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){let g=this.singleTap.touchend(a,d,m);if(g){let _=a.timeStamp-this.lastTime<500,A=!this.lastTap||this.lastTap.dist(g)<30;if(_&&A||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class mp{constructor(a){this._tr=new js(a),this._zoomIn=new Pg({numTouches:1,numTaps:2}),this._zoomOut=new Pg({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){let g=this._zoomIn.touchend(a,d,m),_=this._zoomOut.touchend(a,d,m),A=this._tr;return g?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:A.zoom+1,around:A.unproject(g)},{originalEvent:a})}):_?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:A.zoom-1,around:A.unproject(_)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class su{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;let m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let g=d.length?d[0]:d;return!this._moved&&g.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(m,g))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&x.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let R1={0:1,2:2};class Og{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let d=x.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){let g=R1[m];return d.buttons===void 0||(d.buttons&g)!==g}(a,this._eventButton)}isValidEndEvent(a){return x.mouseButton(a)===this._eventButton}}class L1{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}let Dg=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=a=>{a.preventDefault()}},z1=({enable:b,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{let m=new Og({checkCorrectEvent:g=>x.mouseButton(g)===0&&g.ctrlKey||x.mouseButton(g)===2});return new su({clickTolerance:a,move:(g,_)=>({bearingDelta:(_.x-g.x)*d}),moveStateManager:m,enable:b,assignEvents:Dg})},F1=({enable:b,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{let m=new Og({checkCorrectEvent:g=>x.mouseButton(g)===0&&g.ctrlKey||x.mouseButton(g)===2});return new su({clickTolerance:a,move:(g,_)=>({pitchDelta:(_.y-g.y)*d}),moveStateManager:m,enable:b,assignEvents:Dg})};class Wc{constructor(a,d){this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._active){if(!this._shouldBePrevented(m.length))return a.preventDefault(),this._calculateTransform(a,d,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);let g=_h(m,d),_=new o.P(0,0),A=new o.P(0,0),P=0;for(let L in g){let V=g[L],U=this._touches[L];U&&(_._add(V),A._add(V.sub(U)),P++,g[L]=V)}if(this._touches=g,this._shouldBePrevented(P)||!A.mag())return;let O=A.div(P);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(P),panDelta:O}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kg{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();let[g,_]=this._firstTwoTouches,A=bh(m,d,g),P=bh(m,d,_);if(!A||!P)return;let O=this._aroundCenter?null:A.add(P).div(2);return this._move([A,P],O,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;let[g,_]=this._firstTwoTouches,A=bh(m,d,g),P=bh(m,d,_);A&&P||(this._active&&x.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function bh(b,a,d){for(let m=0;m<b.length;m++)if(b[m].identifier===d)return a[m]}function j1(b,a){return Math.log(b/a)/Math.LN2}class B1 extends kg{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){let m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(j1(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:j1(this._distance,m),pinchAround:d}}}function V1(b,a){return 180*b.angleWith(a)/Math.PI}class U1 extends kg{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d,m){let g=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:V1(this._vector,g),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let d=25/(Math.PI*this._minDiameter)*360,m=V1(a,this._startVector);return Math.abs(m)<d}}function qg(b){return Math.abs(b.y)>Math.abs(b.x)}class gp extends kg{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,qg(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let g=a[0].sub(this._lastPoints[0]),_=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,_,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(g.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;let g=a.mag()>=2,_=d.mag()>=2;if(!g&&!_)return;if(!g||!_)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;let A=a.y>0==d.y>0;return qg(a)&&qg(d)&&A}}let eI={panStep:100,bearingStep:15,pitchStep:10};class is{constructor(a){this._tr=new js(a);let d=eI;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,g=0,_=0,A=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),_=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),_=1);break;case 38:a.shiftKey?g=1:(a.preventDefault(),A=-1);break;case 40:a.shiftKey?g=-1:(a.preventDefault(),A=1);break;default:return;}return this._rotationDisabled&&(m=0,g=0),{cameraAnimation:P=>{let O=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:hl,zoom:d?Math.round(O.zoom)+d*(a.shiftKey?2:1):O.zoom,bearing:O.bearing+m*this._bearingStep,pitch:O.pitch+g*this._pitchStep,offset:[-_*this._panStep,-A*this._panStep],center:O.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function hl(b){return b*(2-b)}let $1=4.000244140625;class Bs{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new js(a),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,m=y.now(),g=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%$1==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(g*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let d=x.mousePos(this._map.getCanvas(),a),m=this._tr;this._around=d.y>m.transform.height/2-m.transform.getHorizon()?o.N.convert(this._aroundCenter?m.center:m.unproject(d)):o.N.convert(m.center),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(this._delta!==0){let O=this._type==="wheel"&&Math.abs(this._delta)>$1?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*O)));this._delta<0&&L!==0&&(L=1/L);let V=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(V*L))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,g=this._easing,_,A=!1,P=y.now()-this._lastWheelEventTime;if(this._type==="wheel"&&m&&g&&P){let O=Math.min(P/200,1),L=g(O);_=o.y.number(m,d,L),O<1?this._frameId||(this._frameId=!0):A=!0}else _=d,A=!0;return this._active=!0,A&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!A,zoomDelta:_-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.b9;if(this._prevEase){let m=this._prevEase,g=(y.now()-m.start)/m.duration,_=m.easing(g+.01)-m.easing(g),A=.27/Math.sqrt(_*_+1e-4)*.01,P=Math.sqrt(.0729-A*A);d=o.b8(A,P,.25,1)}return this._prevEase={start:y.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Gc{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class AD{constructor(a){this._tr=new js(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class MD{constructor(){this._tap=new Pg({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){let g=d[0],_=a.timeStamp-this._tapTime<500,A=this._tapPoint.dist(g)<30;_&&A?m.length>0&&(this._swipePoint=g,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;let g=d[0],_=g.y-this._swipePoint.y;return this._swipePoint=g,a.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{let g=this._tap.touchend(a,d,m);g&&(this._tapTime=a.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tI{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class rI{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class H1{constructor(a,d,m,g){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class vp{constructor(a,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=x.create("div","maplibregl-cooperative-gesture-screen",a);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),g=document.createElement("div");g.className="maplibregl-desktop-message",g.textContent=d,this._container.appendChild(g);let _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=m,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(x.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,d){this._enabled&&(this._map.fire(new o.k("cooperativegestureprevented",{gestureType:a,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let os=b=>b.zoom||b.drag||b.pitch||b.rotate;class Bt extends o.k{}function Ng(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class W1{constructor(a,d){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,_)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let A=g.type==="renderFrame"?void 0:g,P={needsRenderFrame:!1},O={},L={},V=g.touches,U=V?this._getMapTouches(V):void 0,K=U?x.touchPos(this._map.getCanvas(),U):x.mousePos(this._map.getCanvas(),g);for(let{handlerName:ce,handler:pe,allowed:me}of this._handlers){if(!pe.isEnabled())continue;let ye;this._blockedByActive(L,me,ce)?pe.reset():pe[_||g.type]&&(ye=pe[_||g.type](g,K,U),this.mergeHandlerResult(P,O,ye,ce,A),ye&&ye.needsRenderFrame&&this._triggerRenderFrame()),(ye||pe.isActive())&&(L[ce]=pe)}let te={};for(let ce in this._previousActiveHandlers)L[ce]||(te[ce]=A);this._previousActiveHandlers=L,(Object.keys(te).length||Ng(P))&&(this._changes.push([P,O,te]),this._triggerRenderFrame()),(Object.keys(L).length||Ng(P))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:oe}=P;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new q1(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);let m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(let[g,_,A]of this._listeners)x.addEventListener(g,_,g===document?this.handleWindowEvent:this.handleEvent,A)}destroy(){for(let[a,d,m]of this._listeners)x.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){let d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new Q2(d,a));let g=d.boxZoom=new La(d,a);this._add("boxZoom",g),a.interactive&&a.boxZoom&&g.enable();let _=d.cooperativeGestures=new vp(d,a.cooperativeGestures);this._add("cooperativeGestures",_),a.cooperativeGestures&&_.enable();let A=new mp(d),P=new AD(d);d.doubleClickZoom=new Gc(P,A),this._add("tapZoom",A),this._add("clickZoom",P),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();let O=new MD;this._add("tapDragZoom",O);let L=d.touchPitch=new gp(d);this._add("touchPitch",L),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);let V=z1(a),U=F1(a);d.dragRotate=new rI(a,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();let K=(({enable:ye,clickTolerance:se})=>{let Ie=new Og({checkCorrectEvent:Ce=>x.mouseButton(Ce)===0&&!Ce.ctrlKey});return new su({clickTolerance:se,move:(Ce,Ne)=>({around:Ne,panDelta:Ne.sub(Ce)}),activateOnStart:!0,moveStateManager:Ie,enable:ye,assignEvents:Dg})})(a),te=new Wc(a,d);d.dragPan=new tI(m,K,te),this._add("mousePan",K),this._add("touchPan",te,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);let oe=new U1,ce=new B1;d.touchZoomRotate=new H1(m,ce,oe,O),this._add("touchRotate",oe,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);let pe=d.scrollZoom=new Bs(d,()=>this._triggerRenderFrame());this._add("scrollZoom",pe,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);let me=d.keyboard=new is(d);this._add("keyboard",me),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new wi(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(let{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!os(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(let g in a)if(g!==m&&(!d||d.indexOf(g)<0))return!0;return!1}_getMapTouches(a){let d=[];for(let m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,g,_){if(!m)return;o.e(a,m);let A={handlerName:g,originalEvent:m.originalEvent||_};m.zoomDelta!==void 0&&(d.zoom=A),m.panDelta!==void 0&&(d.drag=A),m.pitchDelta!==void 0&&(d.pitch=A),m.bearingDelta!==void 0&&(d.rotate=A)}_applyChanges(){let a={},d={},m={};for(let[g,_,A]of this._changes)g.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(g.panDelta)),g.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(a.around=g.around),g.pinchAround!==void 0&&(a.pinchAround=g.pinchAround),g.noInertia&&(a.noInertia=g.noInertia),o.e(d,_),o.e(m,A);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){let g=this._map,_=g._getTransformForUpdate(),A=g.terrain;if(!(Ng(a)||A&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:O,bearingDelta:L,pitchDelta:V,around:U,pinchAround:K}=a;K!==void 0&&(U=K),g._stop(!0),U=U||g.transform.centerPoint;let te=_.pointLocation(P?U.sub(P):U);L&&(_.bearing+=L),V&&(_.pitch+=V),O&&(_.zoom+=O),A?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(P)):_.setLocationAtPoint(te,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(te,U)):_.setLocationAtPoint(te,U),g._applyUpdatedTransform(_),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){let g=os(this._eventsInProgress),_=os(a),A={};for(let U in a){let{originalEvent:K}=a[U];this._eventsInProgress[U]||(A[`${U}start`]=K),this._eventsInProgress[U]=a[U]}!g&&_&&this._fireEvent("movestart",_.originalEvent);for(let U in A)this._fireEvent(U,A[U]);_&&this._fireEvent("move",_.originalEvent);for(let U in a){let{originalEvent:K}=a[U];this._fireEvent(U,K)}let P={},O;for(let U in this._eventsInProgress){let{handlerName:K,originalEvent:te}=this._eventsInProgress[U];this._handlersById[K].isActive()||(delete this._eventsInProgress[U],O=d[K]||te,P[`${U}end`]=O)}for(let U in P)this._fireEvent(U,P[U]);let L=os(this._eventsInProgress),V=(g||_)&&!L;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let U=this._map._getTransformForUpdate();U.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(U)}if(m&&V){this._updatingCamera=!0;let U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=te=>te!==0&&-this._bearingSnap<te&&te<this._bearingSnap;!U||!U.essential&&y.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:O})),K(this._map.getBearing())&&this._map.resetNorth()):(K(U.bearing||this._map.getBearing())&&(U.bearing=0),U.freezeElevation=!0,this._map.easeTo(U,{originalEvent:O})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Bt("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class nI extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{let m=Math.min((y.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.N(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=we.convert(a).adjustAntiMeridian();let m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,g){let _={top:0,bottom:0,right:0,left:0};if(typeof(g=o.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){let wt=g.padding;g.padding={top:wt,bottom:wt,right:wt,left:wt}}g.padding=o.e(_,g.padding);let A=this.transform,P=A.padding,O=new we(a,d),L=A.project(O.getNorthWest()),V=A.project(O.getNorthEast()),U=A.project(O.getSouthEast()),K=A.project(O.getSouthWest()),te=o.ba(-m),oe=L.rotate(te),ce=V.rotate(te),pe=U.rotate(te),me=K.rotate(te),ye=new o.P(Math.max(oe.x,ce.x,me.x,pe.x),Math.max(oe.y,ce.y,me.y,pe.y)),se=new o.P(Math.min(oe.x,ce.x,me.x,pe.x),Math.min(oe.y,ce.y,me.y,pe.y)),Ie=ye.sub(se),Ce=(A.width-(P.left+P.right+g.padding.left+g.padding.right))/Ie.x,Ne=(A.height-(P.top+P.bottom+g.padding.top+g.padding.bottom))/Ie.y;if(Ne<0||Ce<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");let tt=Math.min(A.scaleZoom(A.scale*Math.min(Ce,Ne)),g.maxZoom),dt=o.P.convert(g.offset),Mt=new o.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(o.ba(m)),zt=dt.add(Mt).mult(A.scale/A.zoomScale(tt));return{center:A.unproject(L.add(U).div(2).sub(zt)),zoom:tt,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,g,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,g),g,_)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();let m=this._getTransformForUpdate(),g=!1,_=!1,A=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(g=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.N.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(_=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(A=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),g&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),_&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),A&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,g=0){let _=o.Z.fromLngLat(a,d),A=o.Z.fromLngLat(m,g),P=A.x-_.x,O=A.y-_.y,L=A.z-_.z,V=Math.hypot(P,O,L);if(V===0)throw new Error("Can't calculate camera options with same From and To");let U=Math.hypot(P,O),K=this.transform.scaleZoom(this.transform.cameraToCenterDistance/V/this.transform.tileSize),te=180*Math.atan2(P,-O)/Math.PI,oe=180*Math.acos(U/V)/Math.PI;return oe=L<0?90-oe:90+oe,{center:A.toLngLat(),zoom:K,pitch:oe,bearing:te}}easeTo(a,d){var m;this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.b9},a)).animate===!1||!a.essential&&y.prefersReducedMotion)&&(a.duration=0);let g=this._getTransformForUpdate(),_=g.zoom,A=g.bearing,P=g.pitch,O=g.padding,L="bearing"in a?this._normalizeBearing(a.bearing,A):A,V="pitch"in a?+a.pitch:P,U="padding"in a?a.padding:g.padding,K=o.P.convert(a.offset),te=g.centerPoint.add(K),oe=g.pointLocation(te),{center:ce,zoom:pe}=g.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:_);this._normalizeCenter(ce,g);let me=g.project(oe),ye=g.project(ce).sub(me),se=g.zoomScale(pe-_),Ie,Ce;a.around&&(Ie=o.N.convert(a.around),Ce=g.locationPoint(Ie));let Ne={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||pe!==_,this._rotating=this._rotating||A!==L,this._pitching=this._pitching||V!==P,this._padding=!g.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Ne),this.terrain&&this._prepareElevation(ce),this._ease(tt=>{if(this._zooming&&(g.zoom=o.y.number(_,pe,tt)),this._rotating&&(g.bearing=o.y.number(A,L,tt)),this._pitching&&(g.pitch=o.y.number(P,V,tt)),this._padding&&(g.interpolatePadding(O,U,tt),te=g.centerPoint.add(K)),this.terrain&&!a.freezeElevation&&this._updateElevation(tt),Ie)g.setLocationAtPoint(Ie,Ce);else{let dt=g.zoomScale(g.zoom-_),Mt=pe>_?Math.min(2,se):Math.max(.5,se),zt=Math.pow(Mt,1-tt),wt=g.unproject(me.add(ye.mult(tt*zt)).mult(dt));g.setLocationAtPoint(g.renderWorldCopies?wt.wrap():wt,te)}this._applyUpdatedTransform(g),this._fireMoveEvents(d)},tt=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(d,tt)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);let d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){let m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.y.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){let d=a.getCameraPosition(),m=this.terrain.getElevationForLngLatZoom(d.lngLat,a.zoom);if(d.altitude<m){let g=this.calculateCameraOptionsFromTo(d.lngLat,m,a.center,a.elevation);return{pitch:g.pitch,zoom:g.zoom}}return{}}_applyUpdatedTransform(a){let d=[];if(this.terrain&&d.push(g=>this._elevateCameraIfInsideTerrain(g)),this.transformCameraUpdate&&d.push(g=>this.transformCameraUpdate(g)),!d.length)return;let m=a.clone();for(let g of d){let _=m.clone(),{center:A,zoom:P,pitch:O,bearing:L,elevation:V}=g(_);A&&(_.center=A),P!==void 0&&(_.zoom=P),O!==void 0&&(_.pitch=O),L!==void 0&&(_.bearing=L),V!==void 0&&(_.elevation=V),m.apply(_)}this.transform.apply(m)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;let m=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),g&&this.fire(new o.k("rotateend",a)),_&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){var m;if(!a.essential&&y.prefersReducedMotion){let Nt=o.M(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Nt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.b9},a);let g=this._getTransformForUpdate(),_=g.zoom,A=g.bearing,P=g.pitch,O=g.padding,L="bearing"in a?this._normalizeBearing(a.bearing,A):A,V="pitch"in a?+a.pitch:P,U="padding"in a?a.padding:g.padding,K=o.P.convert(a.offset),te=g.centerPoint.add(K),oe=g.pointLocation(te),{center:ce,zoom:pe}=g.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:_);this._normalizeCenter(ce,g);let me=g.zoomScale(pe-_),ye=g.project(oe),se=g.project(ce).sub(ye),Ie=a.curve,Ce=Math.max(g.width,g.height),Ne=Ce/me,tt=se.mag();if("minZoom"in a){let Nt=o.ac(Math.min(a.minZoom,_,pe),g.minZoom,g.maxZoom),mr=Ce/g.zoomScale(Nt-_);Ie=Math.sqrt(mr/tt*2)}let dt=Ie*Ie;function Mt(Nt){let mr=(Ne*Ne-Ce*Ce+(Nt?-1:1)*dt*dt*tt*tt)/(2*(Nt?Ne:Ce)*dt*tt);return Math.log(Math.sqrt(mr*mr+1)-mr)}function zt(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function wt(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}let bt=Mt(!1),Yt=function(Nt){return wt(bt)/wt(bt+Ie*Nt)},yr=function(Nt){return Ce*((wt(bt)*(zt(mr=bt+Ie*Nt)/wt(mr))-zt(bt))/dt)/tt;var mr},Et=(Mt(!0)-bt)/Ie;if(Math.abs(tt)<1e-6||!isFinite(Et)){if(Math.abs(Ce-Ne)<1e-6)return this.easeTo(a,d);let Nt=Ne<Ce?-1:1;Et=Math.abs(Math.log(Ne/Ce))/Ie,yr=()=>0,Yt=mr=>Math.exp(Nt*Ie*mr)}return a.duration="duration"in a?+a.duration:1e3*Et/("screenSpeed"in a?+a.screenSpeed/Ie:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=A!==L,this._pitching=V!==P,this._padding=!g.isPaddingEqual(U),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(Nt=>{let mr=Nt*Et,Yn=1/Yt(mr);g.zoom=Nt===1?pe:_+g.scaleZoom(Yn),this._rotating&&(g.bearing=o.y.number(A,L,Nt)),this._pitching&&(g.pitch=o.y.number(P,V,Nt)),this._padding&&(g.interpolatePadding(O,U,Nt),te=g.centerPoint.add(K)),this.terrain&&!a.freezeElevation&&this._updateElevation(Nt);let Mr=Nt===1?ce:g.unproject(ye.add(se.mult(yr(mr))).mult(Yn));g.setLocationAtPoint(g.renderWorldCopies?Mr.wrap():Mr,te),this._applyUpdatedTransform(g),this._fireMoveEvents(d)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,d)}return a||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=y.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b3(a,-180,180);let m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a,d){if(!d.renderWorldCopies||d.lngRange)return;let m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.N.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}let yp={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class _p{constructor(a=yp){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=x.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=x.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=x.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){x.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){let m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}let d=this._map.style.sourceCaches;for(let g in d){let _=d[g];if(_.used||_.usedForTerrain){let A=_.getSource();A.attribution&&a.indexOf(A.attribution)<0&&a.push(A.attribution)}}a=a.filter(g=>String(g).trim()),a.sort((g,_)=>g.length-_.length),a=a.filter((g,_)=>{for(let A=_+1;A<a.length;A++)if(a[A].indexOf(g)>=0)return!1;return!0});let m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class G1{constructor(a={}){this._updateCompact=()=>{let d=this._container.children;if(d.length){let m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=x.create("div","maplibregl-ctrl");let d=x.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){x.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Kr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){let d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(let g of m)if(g.id===a)return void(g.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let d=this._currentlyRunning=this._queue;this._queue=[];for(let m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Z1=o.Y([{name:"a_pos3d",type:"Int16",components:3}]);class PD extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*Dh(2,this.deltaZoom)}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];let m={};for(let g of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),o.aP(g.posMatrix,0,o.X,0,o.X,0,1),this._tiles[g.key]=new pl(g,this.tileSize));for(let g in this._tiles)m[g]||delete this._tiles[g]}freeRtt(a){for(let d in this._tiles){let m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){let d={};for(let m of this._renderableTilesKeys){let g=this._tiles[m].tileID;if(g.canonical.equals(a.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16),o.aP(_.posMatrix,0,o.X,0,o.X,0,1),d[m]=_}else if(g.canonical.isChildOf(a.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16);let A=g.canonical.z-a.canonical.z,P=g.canonical.x-(g.canonical.x>>A<<A),O=g.canonical.y-(g.canonical.y>>A<<A),L=o.X>>A;o.aP(_.posMatrix,0,L,0,L,0,1),o.J(_.posMatrix,_.posMatrix,[-P*L,-O*L,0]),d[m]=_}else if(a.canonical.isChildOf(g.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16);let A=a.canonical.z-g.canonical.z,P=a.canonical.x-(a.canonical.x>>A<<A),O=a.canonical.y-(a.canonical.y>>A<<A),L=o.X>>A;o.aP(_.posMatrix,0,o.X,0,o.X,0,1),o.J(_.posMatrix,_.posMatrix,[P*L,O*L,0]),o.K(_.posMatrix,_.posMatrix,[1/Dh(2,A),1/Dh(2,A),0]),d[m]=_}}return d}getSourceTile(a,d){let m=this.sourceCache._source,g=a.overscaledZ-this.deltaZoom;if(g>m.maxzoom&&(g=m.maxzoom),g<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(g).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!_||!_.dem)&&d)for(;g>=m.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(a.scaledTo(g--).key);return _}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class Y1{constructor(a,d,m){this.painter=a,this.sourceCache=new PD(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,g=o.X){var _;if(!(d>=0&&d<g&&m>=0&&m<g))return 0;let A=this.getTerrainData(a),P=(_=A.tile)===null||_===void 0?void 0:_.dem;if(!P)return 0;let O=function(oe,ce,pe){var me=ce[0],ye=ce[1];return oe[0]=pe[0]*me+pe[4]*ye+pe[12],oe[1]=pe[1]*me+pe[5]*ye+pe[13],oe}([],[d/g*o.X,m/g*o.X],A.u_terrain_matrix),L=[O[0]*P.dim,O[1]*P.dim],V=Math.floor(L[0]),U=Math.floor(L[1]),K=L[0]-V,te=L[1]-U;return P.get(V,U)*(1-K)*(1-te)+P.get(V+1,U)*K*(1-te)+P.get(V,U+1)*(1-K)*te+P.get(V+1,U+1)*K*te}getElevationForLngLatZoom(a,d){if(!o.bb(d,a.wrap()))return 0;let{tileID:m,mercatorX:g,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,g%o.X,_%o.X,o.X)}getElevation(a,d,m,g=o.X){return this.getDEMElevation(a,d,m,g)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let g=this.painter.context,_=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new be(g,_,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new be(g,new o.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.an([])}let d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){let g=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new be(g,d.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),d.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}let m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){let g=this.sourceCache.sourceCache._source.maxzoom,_=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=g?_=a.canonical.z-g:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let A=a.canonical.x-(a.canonical.x>>_<<_),P=a.canonical.y-(a.canonical.y>>_<<_),O=o.bc(new Float64Array(16),[1/(o.X<<_),1/(o.X<<_),0]);o.J(O,O,[A*o.X,P*o.X,0]),this._demMatrixCache[a.key]={matrix:O,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){let d=this.painter,m=d.width/devicePixelRatio,g=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new be(d.context,{width:m,height:g,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new be(d.context,{width:m,height:g,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,g,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,g))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,A=0;_<this._coordsTextureSize;_++)for(let P=0;P<this._coordsTextureSize;P++,A+=4)d[A+0]=255&P,d[A+1]=255&_,d[A+2]=P>>8<<4|_>>8,d[A+3]=0;let m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),g=new be(a,m,a.gl.RGBA,{premultiply:!1});return g.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let d=new Uint8Array(4),m=this.painter.context,g=m.gl,_=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),A=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),P=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(_,P-A-1,1,1,g.RGBA,g.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);let O=d[0]+(d[2]>>4<<8),L=d[1]+((15&d[2])<<8),V=this.coordsIndex[255-d[3]],U=V&&this.sourceCache.getTileByID(V);if(!U)return null;let K=this._coordsTextureSize,te=(1<<U.tileID.canonical.z)*K;return new o.Z((U.tileID.canonical.x*K+O)/te+U.tileID.wrap,(U.tileID.canonical.y*K+L)/te,this.getElevation(U.tileID,O,L,K))}depthAtPoint(a){let d=new Uint8Array(4),m=this.painter.context,g=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),g.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;let a=this.painter.context,d=new o.bd,m=new o.aY,g=this.meshSize,_=o.X/g,A=g*g;for(let U=0;U<=g;U++)for(let K=0;K<=g;K++)d.emplaceBack(K*_,U*_,0);for(let U=0;U<A;U+=g+1)for(let K=0;K<g;K++)m.emplaceBack(K+U,g+K+U+1,g+K+U+2),m.emplaceBack(K+U,g+K+U+2,K+U+1);let P=d.length,O=P+2*(g+1);for(let U of[0,1])for(let K=0;K<=g;K++)for(let te of[0,1])d.emplaceBack(K*_,U*o.X,te);for(let U=0;U<2*g;U+=2)m.emplaceBack(O+U,O+U+1,O+U+3),m.emplaceBack(O+U,O+U+3,O+U+2),m.emplaceBack(P+U,P+U+3,P+U+1),m.emplaceBack(P+U,P+U+2,P+U+3);let L=d.length,V=L+2*(g+1);for(let U of[0,1])for(let K=0;K<=g;K++)for(let te of[0,1])d.emplaceBack(U*o.X,K*_,te);for(let U=0;U<2*g;U+=2)m.emplaceBack(L+U,L+U+1,L+U+3),m.emplaceBack(L+U,L+U+3,L+U+2),m.emplaceBack(V+U,V+U+3,V+U+1),m.emplaceBack(V+U,V+U+2,V+U+3);return this._mesh=new Eg(a.createVertexBuffer(d,Z1.members),a.createIndexBuffer(m),o.a0.simpleSegment(0,0,d.length,m.length)),this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;let{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(g).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){let d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){let m=o.Z.fromLngLat(a.wrap()),g=(1<<d)*o.X,_=m.x*g,A=m.y*g,P=Math.floor(_/o.X),O=Math.floor(A/o.X);return{tileID:new o.S(d,0,d,P,O),mercatorX:_,mercatorY:A}}}class OD{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new be(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let bp={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class iI{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new OD(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(let m in a.sourceCaches){this._coordsDescendingInv[m]={};let g=a.sourceCaches[m].getVisibleCoordinates();for(let _ of g){let A=this.terrain.sourceCache.getTerrainCoords(_);for(let P in A)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(A[P])}}this._coordsDescendingInvStr={};for(let m of a._order){let g=a._layers[m],_=g.source;if(bp[g.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(let A in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][A]=this._coordsDescendingInv[_][A].map(P=>P.key).sort().join()}}for(let m of this._renderableTiles)for(let g in this._coordsDescendingInvStr){let _=this._coordsDescendingInvStr[g][m.tileID.key];_&&_!==m.rttCoords[g]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;let d=a.type,m=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(bp[d]&&(this._prevType&&bp[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!g))return!0;if(bp[this._prevType]||bp[d]&&g){this._prevType=d;let _=this._stacks.length-1,A=this._stacks[_]||[];for(let P of this._renderableTiles){if(this.pool.isFull()&&(K2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[_]){let L=this.pool.getObjectForId(P.rtt[_].id);if(L.stamp===P.rtt[_].stamp){this.pool.useObject(L);continue}}let O=this.pool.getOrCreateFreeObject();this.pool.useObject(O),this.pool.stampObject(O),P.rtt[_]={id:O.id,stamp:O.stamp},m.context.bindFramebuffer.set(O.fbo.framebuffer),m.context.clear({color:o.aM.transparent,stencil:0}),m.currentStencilSource=void 0;for(let L=0;L<A.length;L++){let V=m.style._layers[A[L]],U=V.source?this._coordsDescendingInv[V.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,O.fbo.width,O.fbo.height]),m._renderTileClippingMasks(V,U),m.renderLayer(m,m.style.sourceCaches[V.source],V,U),V.source&&(P.rttCoords[V.source]=this._coordsDescendingInvStr[V.source][P.tileID.key])}}return K2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),bp[d]}return!1}}let K1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},oI=u,DD={hash:!1,interactive:!0,bearingSnap:7,attributionControl:yp,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},X1=b=>{b.touchstart=b.dragStart,b.touchmoveWindow=b.dragMove,b.touchend=b.dragEnd},kD={showCompass:!0,showZoom:!0,visualizePitch:!1};class qD{constructor(a,d,m=!1){this.mousedown=A=>{this.startMouse(o.e({},A,{ctrlKey:!0,preventDefault:()=>A.preventDefault()}),x.mousePos(this.element,A)),x.addEventListener(window,"mousemove",this.mousemove),x.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=A=>{this.moveMouse(A,x.mousePos(this.element,A))},this.mouseup=A=>{this.mouseRotate.dragEnd(A),this.mousePitch&&this.mousePitch.dragEnd(A),this.offTemp()},this.touchstart=A=>{A.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=x.touchPos(this.element,A.targetTouches)[0],this.startTouch(A,this._startPos),x.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),x.addEventListener(window,"touchend",this.touchend))},this.touchmove=A=>{A.targetTouches.length!==1?this.reset():(this._lastPos=x.touchPos(this.element,A.targetTouches)[0],this.moveTouch(A,this._lastPos))},this.touchend=A=>{A.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;let g=a.dragRotate._mouseRotate.getClickTolerance(),_=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=z1({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:A,clickTolerance:P,bearingDegreesPerPixelMoved:O=.8})=>{let L=new L1;return new su({clickTolerance:P,move:(V,U)=>({bearingDelta:(U.x-V.x)*O}),moveStateManager:L,enable:A,assignEvents:X1})})({clickTolerance:g,enable:!0}),this.map=a,m&&(this.mousePitch=F1({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:A,clickTolerance:P,pitchDegreesPerPixelMoved:O=-.5})=>{let L=new L1;return new su({clickTolerance:P,move:(V,U)=>({pitchDelta:(U.y-V.y)*O}),moveStateManager:L,enable:A,assignEvents:X1})})({clickTolerance:_,enable:!0})),x.addEventListener(d,"mousedown",this.mousedown),x.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),x.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),x.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),x.disableDrag()}moveMouse(a,d){let m=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(a,d)||{};if(g&&m.setBearing(m.getBearing()+g),this.mousePitch){let{pitchDelta:_}=this.mousePitch.dragMove(a,d)||{};_&&m.setPitch(m.getPitch()+_)}}moveTouch(a,d){let m=this.map,{bearingDelta:g}=this.touchRotate.dragMove(a,d)||{};if(g&&m.setBearing(m.getBearing()+g),this.touchPitch){let{pitchDelta:_}=this.touchPitch.dragMove(a,d)||{};_&&m.setPitch(m.getPitch()+_)}}off(){let a=this.element;x.removeEventListener(a,"mousedown",this.mousedown),x.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),x.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),x.removeEventListener(window,"touchend",this.touchend),x.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){x.enableDrag(),x.removeEventListener(window,"mousemove",this.mousemove),x.removeEventListener(window,"mouseup",this.mouseup),x.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),x.removeEventListener(window,"touchend",this.touchend)}}let za;function Zn(b,a,d){let m=new o.N(b.lng,b.lat);if(b=new o.N(b.lng,b.lat),a){let g=new o.N(b.lng-360,b.lat),_=new o.N(b.lng+360,b.lat),A=d.locationPoint(b).distSqr(a);d.locationPoint(g).distSqr(a)<A?b=g:d.locationPoint(_).distSqr(a)<A&&(b=_)}for(;Math.abs(b.lng-d.center.lng)>180;){let g=d.locationPoint(b);if(g.x>=0&&g.y>=0&&g.x<=d.width&&g.y<=d.height)break;b.lng>d.center.lng?b.lng-=360:b.lng+=360}return b.lng!==m.lng&&d.locationPoint(b).y>d.height/2-d.getHorizon()?b:m}let xp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rg(b,a,d){let m=b.classList;for(let g in xp)m.remove(`maplibregl-${d}-anchor-${g}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Lg extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{let m=d.code,g=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=d=>{let m=d.originalEvent.target,g=this._element;this._popup&&(m===g||g.contains(m))&&this.togglePopup()},this._update=d=>{var m;if(!this._map)return;let g=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!g)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Zn(this._lngLat,this._flatPos,this._map.transform):(m=this._lngLat)===null||m===void 0?void 0:m.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let A="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?A="rotateX(0deg)":this._pitchAlignment==="map"&&(A=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),x.setTransform(this._element,`${xp[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${A} ${_}`),y.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){let m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=x.create("div");let d=x.createNS("http://www.w3.org/2000/svg","svg"),m=41,g=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${g}px`),d.setAttributeNS(null,"viewBox",`0 0 ${g} ${m}`);let _=x.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");let A=x.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill-rule","nonzero");let P=x.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");let O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let me of O){let ye=x.createNS("http://www.w3.org/2000/svg","ellipse");ye.setAttributeNS(null,"opacity","0.04"),ye.setAttributeNS(null,"cx","10.5"),ye.setAttributeNS(null,"cy","5.80029008"),ye.setAttributeNS(null,"rx",me.rx),ye.setAttributeNS(null,"ry",me.ry),P.appendChild(ye)}let L=x.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill",this._color);let V=x.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),L.appendChild(V);let U=x.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");let K=x.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(K);let te=x.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");let oe=x.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");let ce=x.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#000000"),ce.setAttributeNS(null,"opacity","0.25"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962");let pe=x.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),oe.appendChild(ce),oe.appendChild(pe),A.appendChild(P),A.appendChild(L),A.appendChild(U),A.appendChild(te),A.appendChild(oe),d.appendChild(A),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Rg(this._element,this._anchor,"marker"),a&&a.className)for(let d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),x.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.N.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let g=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var d,m;if(!(!((d=this._map)===null||d===void 0)&&d.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let g=this._map,_=g.terrain.depthAtPoint(this._pos),A=g.terrain.getElevationForLngLatZoom(this._lngLat,g.transform.tileZoom);if(g.transform.lngLatToCameraDepth(this._lngLat,A)-_<.006)return void(this._element.style.opacity=this._opacity);let P=-this._offset.y/g.transform._pixelPerMeter,O=Math.sin(g.getPitch()*Math.PI/180)*P,L=g.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),V=g.transform.lngLatToCameraDepth(this._lngLat,A+O)-L>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&V&&this._popup.remove(),this._element.style.opacity=V?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,d){return a===void 0&&d===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}let aI={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},xh=0,wh=!1,ml={maxWidth:100,unit:"metric"};function Sh(b,a,d){let m=d&&d.maxWidth||100,g=b._container.clientHeight/2,_=b.unproject([0,g]),A=b.unproject([m,g]),P=_.distanceTo(A);if(d&&d.unit==="imperial"){let O=3.2808*P;O>5280?Zt(a,m,O/5280,b._getUIString("ScaleControl.Miles")):Zt(a,m,O,b._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Zt(a,m,P/1852,b._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Zt(a,m,P/1e3,b._getUIString("ScaleControl.Kilometers")):Zt(a,m,P,b._getUIString("ScaleControl.Meters"))}function Zt(b,a,d,m){let g=function(_){let A=Math.pow(10,`${Math.floor(_)}`.length-1),P=_/A;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(O){let L=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*L)/L}(P),A*P}(d);b.style.width=a*(g/d)+"px",b.innerHTML=`${g}&nbsp;${m}`}let lr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},zg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Fg(b){if(b){if(typeof b=="number"){let a=Math.round(Math.abs(b)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,b),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-b),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(b,0),right:new o.P(-b,0)}}if(b instanceof o.P||Array.isArray(b)){let a=o.P.convert(b);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(b.center||[0,0]),top:o.P.convert(b.top||[0,0]),"top-left":o.P.convert(b["top-left"]||[0,0]),"top-right":o.P.convert(b["top-right"]||[0,0]),bottom:o.P.convert(b.bottom||[0,0]),"bottom-left":o.P.convert(b["bottom-left"]||[0,0]),"bottom-right":o.P.convert(b["bottom-right"]||[0,0]),left:o.P.convert(b.left||[0,0]),right:o.P.convert(b.right||[0,0])}}return Fg(new o.P(0,0))}let J1=u;i.AJAXError=o.bh,i.Evented=o.E,i.LngLat=o.N,i.MercatorCoordinate=o.Z,i.Point=o.P,i.addProtocol=o.bi,i.config=o.a,i.removeProtocol=o.bj,i.AttributionControl=_p,i.BoxZoomHandler=La,i.CanvasSource=jr,i.CooperativeGesturesHandler=vp,i.DoubleClickZoomHandler=Gc,i.DragPanHandler=tI,i.DragRotateHandler=rI,i.EdgeInsets=fp,i.FullscreenControl=class extends o.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var a;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=d==null?void 0:d.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=x.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){x.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let b=this._fullscreenButton=x.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);x.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=dr,i.GeolocateControl=class extends o.E{constructor(b){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{let d=new o.N(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,g=this._map.getBearing(),_=o.e({bearing:g},this.options.fitBoundsOptions),A=we.fromLngLat(d,m);this._map.fitBounds(A,_,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let d=new o.N(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&wh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=x.create("button","maplibregl-ctrl-geolocate",this._container),x.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{let d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=x.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Lg({element:this._dotElement}),this._circleElement=x.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Lg({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")),this.fire(new o.k("userlocationlostfocus")))})}},this.options=o.e({},aI,b)}onAdd(b){return this._map=b,this._container=x.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(za!==void 0&&!a)return za;if(window.navigator.permissions===void 0)return za=!!window.navigator.geolocation,za;try{za=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(d){za=!!window.navigator.geolocation}return za})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),x.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,xh=0,wh=!1}_isOutOfMapMaxBounds(b){let a=this._map.getMaxBounds(),d=b.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}}_updateCircleRadius(){let b=this._map.getBounds(),a=b.getSouthEast(),d=b.getNorthEast(),m=a.distanceTo(d),g=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":xh--,wh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart")),this.fire(new o.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),xh++,xh>1?(b={maximumAge:6e5,timeout:0},wh=!0):(b=this.options.positionOptions,wh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.Hash=Cg,i.ImageSource=pr,i.KeyboardHandler=is,i.LngLatBounds=we,i.LogoControl=G1,i.Map=class extends nI{constructor(b){o.bf.mark(o.bg.create);let a=Object.assign(Object.assign({},DD),b);if(a.minZoom!=null&&a.maxZoom!=null&&a.minZoom>a.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(a.minPitch!=null&&a.maxPitch!=null&&a.minPitch>a.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(a.minPitch!=null&&a.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(a.maxPitch!=null&&a.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new hp(a.minZoom,a.maxZoom,a.minPitch,a.maxPitch,a.renderWorldCopies),{bearingSnap:a.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Kr,this._controls=[],this._mapId=o.a4(),this._contextLost=d=>{d.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.k("webglcontextlost",{originalEvent:d}))},this._contextRestored=d=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:d}))},this._onMapScroll=d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=a.interactive,this._maxTileCacheSize=a.maxTileCacheSize,this._maxTileCacheZoomLevels=a.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=a.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=a.preserveDrawingBuffer===!0,this._antialias=a.antialias===!0,this._trackResize=a.trackResize===!0,this._bearingSnap=a.bearingSnap,this._refreshExpiredTiles=a.refreshExpiredTiles===!0,this._fadeDuration=a.fadeDuration,this._crossSourceCollisions=a.crossSourceCollisions===!0,this._collectResourceTiming=a.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},K1),a.locale),this._clickTolerance=a.clickTolerance,this._overridePixelRatio=a.pixelRatio,this._maxCanvasSize=a.maxCanvasSize,this.transformCameraUpdate=a.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=a.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=N.addThrottleControl(()=>this.isMoving()),this._requestManager=new B(a.transformRequest),typeof a.container=="string"){if(this._container=document.getElementById(a.container),!this._container)throw new Error(`Container '${a.container}' not found.`)}else{if(!(a.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=a.container}if(a.maxBounds&&this.setMaxBounds(a.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let d=!1,m=gh(g=>{this._trackResize&&!this._removed&&(this.resize(g),this.redraw())},50);this._resizeObserver=new ResizeObserver(g=>{d?m(g):d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new W1(this,a),this._hash=a.hash&&new Cg(typeof a.hash=="string"&&a.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}),a.bounds&&(this.resize(),this.fitBounds(a.bounds,o.e({},a.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=a.localIdeographFontFamily,this._validateStyle=a.validateStyle,a.style&&this.setStyle(a.style,{localIdeographFontFamily:a.localIdeographFontFamily}),a.attributionControl&&this.addControl(new _p(typeof a.attributionControl=="boolean"?void 0:a.attributionControl)),a.maplibreLogo&&this.addControl(new G1,a.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new o.k(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new o.k(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new o.k("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(b,a){if(a===void 0&&(a=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let d=b.onAdd(this);this._controls.push(b);let m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(b);return a>-1&&this._controls.splice(a,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}calculateCameraOptionsFromTo(b,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(b,a,d,m)}resize(b){var a;let d=this._containerDimensions(),m=d[0],g=d[1],_=this._getClampedPixelRatio(m,g);if(this._resizeCanvas(m,g,_),this.painter.resize(m,g,_),this.painter.overLimit()){let P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];let O=this._getClampedPixelRatio(m,g);this._resizeCanvas(m,g,O),this.painter.resize(m,g,O)}this.transform.resize(m,g),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,g);let A=!this._moving;return A&&(this.stop(),this.fire(new o.k("movestart",b)).fire(new o.k("move",b))),this.fire(new o.k("resize",b)),A&&this.fire(new o.k("moveend",b)),this}_getClampedPixelRatio(b,a){let{0:d,1:m}=this._maxCanvasSize,g=this.getPixelRatio(),_=b*g,A=a*g;return Math.min(_>d?d/_:1,A>m?m/A:1)*g}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(we.convert(b)),this._update()}setMinZoom(b){if((b=b==null?-2:b)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b==null?22:b)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b==null?0:b)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b==null?60:b)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this._update()}project(b){return this.transform.locationPoint(o.N.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.pointLocation(o.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,a,d){if(b==="mouseenter"||b==="mouseover"){let m=!1;return{layers:a,listener:d,delegates:{mousemove:_=>{let A=a.filter(O=>this.getLayer(O)),P=A.length!==0?this.queryRenderedFeatures(_.point,{layers:A}):[];P.length?m||(m=!0,d.call(this,new mo(b,this,_.originalEvent,{features:P}))):m=!1},mouseout:()=>{m=!1}}}}if(b==="mouseleave"||b==="mouseout"){let m=!1;return{layers:a,listener:d,delegates:{mousemove:A=>{let P=a.filter(O=>this.getLayer(O));(P.length!==0?this.queryRenderedFeatures(A.point,{layers:P}):[]).length?m=!0:m&&(m=!1,d.call(this,new mo(b,this,A.originalEvent)))},mouseout:A=>{m&&(m=!1,d.call(this,new mo(b,this,A.originalEvent)))}}}}{let m=g=>{let _=a.filter(P=>this.getLayer(P)),A=_.length!==0?this.queryRenderedFeatures(g.point,{layers:_}):[];A.length&&(g.features=A,d.call(this,g),delete g.features)};return{layers:a,listener:d,delegates:{[b]:m}}}}_saveDelegatedListener(b,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(a)}_removeDelegatedListener(b,a,d){if(!this._delegatedListeners||!this._delegatedListeners[b])return;let m=this._delegatedListeners[b];for(let g=0;g<m.length;g++){let _=m[g];if(_.listener===d&&_.layers.length===a.length&&_.layers.every(A=>a.includes(A))){for(let A in _.delegates)this.off(A,_.delegates[A]);return void m.splice(g,1)}}}on(b,a,d){if(d===void 0)return super.on(b,a);let m=this._createDelegatedListener(b,typeof a=="string"?[a]:a,d);this._saveDelegatedListener(b,m);for(let g in m.delegates)this.on(g,m.delegates[g]);return this}once(b,a,d){if(d===void 0)return super.once(b,a);let m=typeof a=="string"?[a]:a,g=this._createDelegatedListener(b,m,d);for(let _ in g.delegates){let A=g.delegates[_];g.delegates[_]=(...P)=>{this._removeDelegatedListener(b,m,d),A(...P)}}this._saveDelegatedListener(b,g);for(let _ in g.delegates)this.once(_,g.delegates[_]);return this}off(b,a,d){return d===void 0?super.off(b,a):(this._removeDelegatedListener(b,typeof a=="string"?[a]:a,d),this)}queryRenderedFeatures(b,a){if(!this.style)return[];let d,m=b instanceof o.P||Array.isArray(b),g=m?b:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:b)||{},g instanceof o.P||typeof g[0]=="number")d=[o.P.convert(g)];else{let _=o.P.convert(g[0]),A=o.P.convert(g[1]);d=[_,new o.P(A.x,_.y),A,new o.P(_.x,A.y),_]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(b,a){return this.style.querySourceFeatures(b,a)}setStyle(b,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(b,a))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){let a=this._locale[b];if(a==null)throw new Error(`Missing UI string '${b}'`);return a}_updateStyle(b,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(b,a));let d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new cg(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,a,d):this.style.loadJSON(b,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new cg(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,a){if(typeof b=="string"){let d=this._requestManager.transformRequest(b,"Style");o.h(d,new AbortController).then(m=>{this._updateDiff(m.data,a)}).catch(m=>{m&&this.fire(new o.j(m))})}else typeof b=="object"&&this._updateDiff(b,a)}_updateDiff(b,a){try{this.style.setState(b,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(b,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(b,a){return this._lazyInitEmptyStyle(),this.style.addSource(b,a),this._update(!0)}isSourceLoaded(b){let a=this.style&&this.style.sourceCaches[b];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){let a=this.style.sourceCaches[b.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&a.reload();for(let d in this.style._layers){let m=this.style._layers[d];m.type==="hillshade"&&m.source===b.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Y1(this.painter,a,b),this.painter.renderToTexture=new iI(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==b.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:b})),this}getTerrain(){var b,a;return(a=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let b=this.style&&this.style.sourceCaches;for(let a in b){let d=b[a]._tiles;for(let m in d){let g=d[m];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}addImage(b,a,d={}){let{pixelRatio:m=1,sdf:g=!1,stretchX:_,stretchY:A,content:P,textFitWidth:O,textFitHeight:L}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:U,data:K}=a,te=a;return this.style.addImage(b,{data:new o.R({width:V,height:U},new Uint8Array(K)),pixelRatio:m,stretchX:_,stretchY:A,content:P,textFitWidth:O,textFitHeight:L,sdf:g,version:0,userImage:te}),te.onAdd&&te.onAdd(this,b),this}}{let{width:V,height:U,data:K}=y.getImageData(a);this.style.addImage(b,{data:new o.R({width:V,height:U},K),pixelRatio:m,stretchX:_,stretchY:A,content:P,textFitWidth:O,textFitHeight:L,sdf:g,version:0})}}updateImage(b,a){let d=this.style.getImage(b);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let m=a instanceof HTMLImageElement||o.b(a)?y.getImageData(a):a,{width:g,height:_,data:A}=m;if(g===void 0||_===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==d.data.width||_!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));let P=!(a instanceof HTMLImageElement||o.b(a));return d.data.replace(A,P),this.style.updateImage(b,d),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return N.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,a){return this._lazyInitEmptyStyle(),this.style.addLayer(b,a),this._update(!0)}moveLayer(b,a){return this.style.moveLayer(b,a),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,a,d){return this.style.setLayerZoomRange(b,a,d),this._update(!0)}setFilter(b,a,d={}){return this.style.setFilter(b,a,d),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,a,d,m={}){return this.style.setPaintProperty(b,a,d,m),this._update(!0)}getPaintProperty(b,a){return this.style.getPaintProperty(b,a)}setLayoutProperty(b,a,d,m={}){return this.style.setLayoutProperty(b,a,d,m),this._update(!0)}getLayoutProperty(b,a){return this.style.getLayoutProperty(b,a)}setGlyphs(b,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,a,d,m=>{m||this._update(!0)}),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,a,d=>{d||this._update(!0)}),this}setLight(b,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(b){return this._lazyInitEmptyStyle(),this.style.setSky(b),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,a){return this.style.setFeatureState(b,a),this._update()}removeFeatureState(b,a){return this.style.removeFeatureState(b,a),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,a=0;return this._container&&(b=this._container.clientWidth||400,a=this._container.clientHeight||300),[b,a]}_setupContainer(){let b=this._container;b.classList.add("maplibregl-map");let a=this._canvasContainer=x.create("div","maplibregl-canvas-container",b);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=x.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);let g=this._controlContainer=x.create("div","maplibregl-control-container",b),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(A=>{_[A]=x.create("div",`maplibregl-ctrl-${A} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,a,d){this._canvas.width=Math.floor(d*b),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let b={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:b},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});let d=this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b);if(!d){let m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new Tg(d,this.transform),E.testSupport(d)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){let a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let g=this.transform.zoom,_=y.now();this.style.zoomHistory.update(g,_);let A=new o.z(g,{now:_,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=A.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(A)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bf.mark(o.bg.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bf.mark(o.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(let d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),N.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),x.remove(this._canvasContainer),x.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),o.bf.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(b=>{o.bf.frame(b),this._frameRequest=null,this._render(b)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return oI}getCameraTargetElevation(){return this.transform.elevation}},i.MapMouseEvent=mo,i.MapTouchEvent=Hc,i.MapWheelEvent=J2,i.Marker=Lg,i.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{let a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{let a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{let m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},kD,b),this._container=x.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),x.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),x.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=x.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new qD(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){x.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,a){let d=x.create("button",b,this._container);return d.type="button",d.addEventListener("click",a),d}},i.Popup=class extends o.E{constructor(b){super(),this.remove=()=>(this._content&&x.remove(this._content),this._container&&(x.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.k("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{var d;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=x.create("div","maplibregl-popup",this._map.getContainer()),this._tip=x.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let P of this.options.className.split(" "))this._container.classList.add(P);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Zn(this._lngLat,this._flatPos,this._map.transform):(d=this._lngLat)===null||d===void 0?void 0:d.wrap(),this._trackPointer&&!a)return;let m=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationPoint(this._lngLat));let g=this.options.anchor,_=Fg(this.options.offset);if(!g){let P=this._container.offsetWidth,O=this._container.offsetHeight,L;L=m.y+_.bottom.y<O?["top"]:m.y>this._map.transform.height-O?["bottom"]:[],m.x<P/2?L.push("left"):m.x>this._map.transform.width-P/2&&L.push("right"),g=L.length===0?"bottom":L.join("-")}let A=m.add(_[g]);this.options.subpixelPositioning||(A=A.round()),x.setTransform(this._container,`${xp[g]} translate(${A.x}px,${A.y}px)`),Rg(this._container,g,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(lr),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=o.N.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){let a=document.createDocumentFragment(),d=document.createElement("body"),m;for(d.innerHTML=b;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=x.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=x.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let b=this._container.querySelector(zg);b&&b.focus()}},i.RasterDEMTileSource=Ht,i.RasterTileSource=gt,i.ScaleControl=class{constructor(b){this._onMove=()=>{Sh(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Sh(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},ml),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=x.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){x.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=Bs,i.Style=cg,i.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=x.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=x.create("button","maplibregl-ctrl-terrain",this._container),x.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){x.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=gp,i.TwoFingersTouchRotateHandler=U1,i.TwoFingersTouchZoomHandler=B1,i.TwoFingersTouchZoomRotateHandler=H1,i.VectorTileSource=$t,i.VideoSource=$r,i.addSourceType=(b,a)=>o._(void 0,void 0,void 0,function*(){if(Qr(b))throw new Error(`A source type called "${b}" already exists.`);((d,m)=>{sr[d]=m})(b,a)}),i.clearPrewarmedResources=function(){let b=De;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(je),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return ts().getRTLTextPluginStatus()},i.getVersion=function(){return J1},i.getWorkerCount=function(){return Ge.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(b){return Ke().broadcast("IS",b)},i.prewarm=function(){qe().acquire(je)},i.setMaxParallelImageRequests=function(b){o.a.MAX_PARALLEL_IMAGE_REQUESTS=b},i.setRTLTextPlugin=function(b,a){return ts().setRTLTextPlugin(b,a)},i.setWorkerCount=function(b){Ge.workerCount=b},i.setWorkerUrl=function(b){o.a.WORKER_URL=b}});var n=e;return n})});var EB=I((HEr,$Ce)=>{"use strict";$Ce.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var Ss=I((WEr,GCe)=>{"use strict";var fBt=EB(),Dm=Object.prototype.toString;function AB(e){return Dm.call(e)==="[object Array]"}function TB(e){return typeof e=="undefined"}function hBt(e){return e!==null&&!TB(e)&&e.constructor!==null&&!TB(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function mBt(e){return Dm.call(e)==="[object ArrayBuffer]"}function gBt(e){return typeof FormData!="undefined"&&e instanceof FormData}function vBt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function yBt(e){return typeof e=="string"}function _Bt(e){return typeof e=="number"}function HCe(e){return e!==null&&typeof e=="object"}function QM(e){if(Dm.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function bBt(e){return Dm.call(e)==="[object Date]"}function xBt(e){return Dm.call(e)==="[object File]"}function wBt(e){return Dm.call(e)==="[object Blob]"}function WCe(e){return Dm.call(e)==="[object Function]"}function SBt(e){return HCe(e)&&WCe(e.pipe)}function IBt(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function EBt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function TBt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function MB(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),AB(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function CB(){var e={};function t(i,o){QM(e[o])&&QM(i)?e[o]=CB(e[o],i):QM(i)?e[o]=CB({},i):AB(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)MB(arguments[r],t);return e}function CBt(e,t,r){return MB(t,function(i,o){r&&typeof i=="function"?e[o]=fBt(i,r):e[o]=i}),e}function ABt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}GCe.exports={isArray:AB,isArrayBuffer:mBt,isBuffer:hBt,isFormData:gBt,isArrayBufferView:vBt,isString:yBt,isNumber:_Bt,isObject:HCe,isPlainObject:QM,isUndefined:TB,isDate:bBt,isFile:xBt,isBlob:wBt,isFunction:WCe,isStream:SBt,isURLSearchParams:IBt,isStandardBrowserEnv:TBt,forEach:MB,merge:CB,extend:CBt,trim:EBt,stripBOM:ABt}});var PB=I((GEr,YCe)=>{"use strict";var Qy=Ss();function ZCe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}YCe.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Qy.isURLSearchParams(r))i=r.toString();else{var o=[];Qy.forEach(r,function(h,y){h===null||typeof h=="undefined"||(Qy.isArray(h)?y=y+"[]":h=[h],Qy.forEach(h,function(E){Qy.isDate(E)?E=E.toISOString():Qy.isObject(E)&&(E=JSON.stringify(E)),o.push(ZCe(y)+"="+ZCe(E))}))}),i=o.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var XCe=I((ZEr,KCe)=>{"use strict";var MBt=Ss();function e5(){this.handlers=[]}e5.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};e5.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};e5.prototype.forEach=function(t){MBt.forEach(this.handlers,function(n){n!==null&&t(n)})};KCe.exports=e5});var QCe=I((YEr,JCe)=>{"use strict";var PBt=Ss();JCe.exports=function(t,r){PBt.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var OB=I((KEr,eAe)=>{"use strict";eAe.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var DB=I((XEr,tAe)=>{"use strict";var OBt=OB();tAe.exports=function(t,r,n,i,o){var u=new Error(t);return OBt(u,r,n,i,o)}});var nAe=I((JEr,rAe)=>{"use strict";var DBt=DB();rAe.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(DBt("Request failed with status code "+n.status,n.config,null,n.request,n))}});var oAe=I((QEr,iAe)=>{"use strict";var t5=Ss();iAe.exports=t5.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,u,p){var h=[];h.push(r+"="+encodeURIComponent(n)),t5.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),t5.isString(o)&&h.push("path="+o),t5.isString(u)&&h.push("domain="+u),p===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var sAe=I((eTr,aAe)=>{"use strict";aAe.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var uAe=I((tTr,lAe)=>{"use strict";lAe.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var dAe=I((rTr,cAe)=>{"use strict";var kBt=sAe(),qBt=uAe();cAe.exports=function(t,r){return t&&!kBt(r)?qBt(t,r):r}});var fAe=I((nTr,pAe)=>{"use strict";var kB=Ss(),NBt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];pAe.exports=function(t){var r={},n,i,o;return t&&kB.forEach(t.split(`
`),function(p){if(o=p.indexOf(":"),n=kB.trim(p.substr(0,o)).toLowerCase(),i=kB.trim(p.substr(o+1)),n){if(r[n]&&NBt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var gAe=I((iTr,mAe)=>{"use strict";var hAe=Ss();mAe.exports=hAe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var u=o;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(u){var p=hAe.isString(u)?i(u):u;return p.protocol===n.protocol&&p.host===n.host}}():function(){return function(){return!0}}()});var Tw=I((oTr,vAe)=>{"use strict";function qB(e){this.message=e}qB.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};qB.prototype.__CANCEL__=!0;vAe.exports=qB});var RB=I((aTr,yAe)=>{"use strict";var r5=Ss(),RBt=nAe(),LBt=oAe(),zBt=PB(),FBt=dAe(),jBt=fAe(),BBt=gAe(),NB=DB(),VBt=Cw(),UBt=Tw();yAe.exports=function(t){return new Promise(function(n,i){var o=t.data,u=t.headers,p=t.responseType,h;function y(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}r5.isFormData(o)&&delete u["Content-Type"];var x=new XMLHttpRequest;if(t.auth){var E=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(E+":"+T)}var D=FBt(t.baseURL,t.url);x.open(t.method.toUpperCase(),zBt(D,t.params,t.paramsSerializer),!0),x.timeout=t.timeout;function z(){if(x){var q="getAllResponseHeaders"in x?jBt(x.getAllResponseHeaders()):null,N=!p||p==="text"||p==="json"?x.responseText:x.response,B={data:N,status:x.status,statusText:x.statusText,headers:q,config:t,request:x};RBt(function(ee){n(ee),y()},function(ee){i(ee),y()},B),x=null}}if("onloadend"in x?x.onloadend=z:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(z)},x.onabort=function(){x&&(i(NB("Request aborted",t,"ECONNABORTED",x)),x=null)},x.onerror=function(){i(NB("Network Error",t,null,x)),x=null},x.ontimeout=function(){var N=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",B=t.transitional||VBt.transitional;t.timeoutErrorMessage&&(N=t.timeoutErrorMessage),i(NB(N,t,B.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},r5.isStandardBrowserEnv()){var F=(t.withCredentials||BBt(D))&&t.xsrfCookieName?LBt.read(t.xsrfCookieName):void 0;F&&(u[t.xsrfHeaderName]=F)}"setRequestHeader"in x&&r5.forEach(u,function(N,B){typeof o=="undefined"&&B.toLowerCase()==="content-type"?delete u[B]:x.setRequestHeader(B,N)}),r5.isUndefined(t.withCredentials)||(x.withCredentials=!!t.withCredentials),p&&p!=="json"&&(x.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&x.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(q){x&&(i(!q||q&&q.type?new UBt("canceled"):q),x.abort(),x=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),o||(o=null),x.send(o)})}});var Cw=I((sTr,xAe)=>{"use strict";var $o=Ss(),_Ae=QCe(),$Bt=OB(),HBt={"Content-Type":"application/x-www-form-urlencoded"};function bAe(e,t){!$o.isUndefined(e)&&$o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function WBt(){var e;return typeof XMLHttpRequest!="undefined"?e=RB():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=RB()),e}function GBt(e,t,r){if($o.isString(e))try{return(t||JSON.parse)(e),$o.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var n5={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:WBt(),transformRequest:[function(t,r){return _Ae(r,"Accept"),_Ae(r,"Content-Type"),$o.isFormData(t)||$o.isArrayBuffer(t)||$o.isBuffer(t)||$o.isStream(t)||$o.isFile(t)||$o.isBlob(t)?t:$o.isArrayBufferView(t)?t.buffer:$o.isURLSearchParams(t)?(bAe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):$o.isObject(t)||r&&r["Content-Type"]==="application/json"?(bAe(r,"application/json"),GBt(t)):t}],transformResponse:[function(t){var r=this.transitional||n5.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&$o.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(o)throw u.name==="SyntaxError"?$Bt(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$o.forEach(["delete","get","head"],function(t){n5.headers[t]={}});$o.forEach(["post","put","patch"],function(t){n5.headers[t]=$o.merge(HBt)});xAe.exports=n5});var SAe=I((lTr,wAe)=>{"use strict";var ZBt=Ss(),YBt=Cw();wAe.exports=function(t,r,n){var i=this||YBt;return ZBt.forEach(n,function(u){t=u.call(i,t,r)}),t}});var LB=I((uTr,IAe)=>{"use strict";IAe.exports=function(t){return!!(t&&t.__CANCEL__)}});var CAe=I((cTr,TAe)=>{"use strict";var EAe=Ss(),zB=SAe(),KBt=LB(),XBt=Cw(),JBt=Tw();function FB(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new JBt("canceled")}TAe.exports=function(t){FB(t),t.headers=t.headers||{},t.data=zB.call(t,t.data,t.headers,t.transformRequest),t.headers=EAe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),EAe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||XBt.adapter;return r(t).then(function(i){return FB(t),i.data=zB.call(t,i.data,i.headers,t.transformResponse),i},function(i){return KBt(i)||(FB(t),i&&i.response&&(i.response.data=zB.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var jB=I((dTr,AAe)=>{"use strict";var tl=Ss();AAe.exports=function(t,r){r=r||{};var n={};function i(x,E){return tl.isPlainObject(x)&&tl.isPlainObject(E)?tl.merge(x,E):tl.isPlainObject(E)?tl.merge({},E):tl.isArray(E)?E.slice():E}function o(x){if(tl.isUndefined(r[x])){if(!tl.isUndefined(t[x]))return i(void 0,t[x])}else return i(t[x],r[x])}function u(x){if(!tl.isUndefined(r[x]))return i(void 0,r[x])}function p(x){if(tl.isUndefined(r[x])){if(!tl.isUndefined(t[x]))return i(void 0,t[x])}else return i(void 0,r[x])}function h(x){if(x in r)return i(t[x],r[x]);if(x in t)return i(void 0,t[x])}var y={url:u,method:u,data:u,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:h};return tl.forEach(Object.keys(t).concat(Object.keys(r)),function(E){var T=y[E]||o,D=T(E);tl.isUndefined(D)&&T!==h||(n[E]=D)}),n}});var BB=I((pTr,MAe)=>{MAe.exports={version:"0.24.0"}});var DAe=I((fTr,OAe)=>{"use strict";var QBt=BB().version,VB={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){VB[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var PAe={};VB.transitional=function(t,r,n){function i(o,u){return"[Axios v"+QBt+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return function(o,u,p){if(t===!1)throw new Error(i(u," has been removed"+(r?" in "+r:"")));return r&&!PAe[u]&&(PAe[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,p):!0}};function eVt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],u=t[o];if(u){var p=e[o],h=p===void 0||u(p,o,e);if(h!==!0)throw new TypeError("option "+o+" must be "+h);continue}if(r!==!0)throw Error("Unknown option "+o)}}OAe.exports={assertOptions:eVt,validators:VB}});var zAe=I((hTr,LAe)=>{"use strict";var NAe=Ss(),tVt=PB(),kAe=XCe(),qAe=CAe(),i5=jB(),RAe=DAe(),e0=RAe.validators;function Aw(e){this.defaults=e,this.interceptors={request:new kAe,response:new kAe}}Aw.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=i5(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&RAe.assertOptions(r,{silentJSONParsing:e0.transitional(e0.boolean),forcedJSONParsing:e0.transitional(e0.boolean),clarifyTimeoutError:e0.transitional(e0.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(i=i&&T.synchronous,n.unshift(T.fulfilled,T.rejected))});var o=[];this.interceptors.response.forEach(function(T){o.push(T.fulfilled,T.rejected)});var u;if(!i){var p=[qAe,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(o),u=Promise.resolve(t);p.length;)u=u.then(p.shift(),p.shift());return u}for(var h=t;n.length;){var y=n.shift(),x=n.shift();try{h=y(h)}catch(E){x(E);break}}try{u=qAe(h)}catch(E){return Promise.reject(E)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};Aw.prototype.getUri=function(t){return t=i5(this.defaults,t),tVt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};NAe.forEach(["delete","get","head","options"],function(t){Aw.prototype[t]=function(r,n){return this.request(i5(n||{},{method:t,url:r,data:(n||{}).data}))}});NAe.forEach(["post","put","patch"],function(t){Aw.prototype[t]=function(r,n,i){return this.request(i5(i||{},{method:t,url:r,data:n}))}});LAe.exports=Aw});var jAe=I((mTr,FAe)=>{"use strict";var rVt=Tw();function t0(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(u){r.subscribe(u),i=u}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new rVt(i),t(r.reason))})}t0.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};t0.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};t0.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};t0.source=function(){var t,r=new t0(function(i){t=i});return{token:r,cancel:t}};FAe.exports=t0});var VAe=I((gTr,BAe)=>{"use strict";BAe.exports=function(t){return function(n){return t.apply(null,n)}}});var $Ae=I((vTr,UAe)=>{"use strict";UAe.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var GAe=I((yTr,UB)=>{"use strict";var HAe=Ss(),nVt=EB(),o5=zAe(),iVt=jB(),oVt=Cw();function WAe(e){var t=new o5(e),r=nVt(o5.prototype.request,t);return HAe.extend(r,o5.prototype,t),HAe.extend(r,t),r.create=function(i){return WAe(iVt(e,i))},r}var hc=WAe(oVt);hc.Axios=o5;hc.Cancel=Tw();hc.CancelToken=jAe();hc.isCancel=LB();hc.VERSION=BB().version;hc.all=function(t){return Promise.all(t)};hc.spread=VAe();hc.isAxiosError=$Ae();UB.exports=hc;UB.exports.default=hc});var km=I((_Tr,ZAe)=>{ZAe.exports=GAe()});var aMe=I((ITr,oMe)=>{var GB=1/0,sVt=17976931348623157e292,XAe=NaN,lVt="[object Symbol]",uVt=/^\s+|\s+$/g,cVt=/^[-+]0x[0-9a-f]+$/i,dVt=/^0b[01]+$/i,pVt=/^0o[0-7]+$/i,fVt=parseInt,hVt=typeof global=="object"&&global&&global.Object===Object&&global,mVt=typeof self=="object"&&self&&self.Object===Object&&self,gVt=hVt||mVt||Function("return this")(),vVt=Object.prototype,yVt=vVt.toString,JAe=gVt.Symbol,_Vt=Math.min,QAe=JAe?JAe.prototype:void 0,eMe=QAe?QAe.toString:void 0;function bVt(e){if(typeof e=="string")return e;if(nMe(e))return eMe?eMe.call(e):"";var t=e+"";return t=="0"&&1/e==-GB?"-0":t}function xVt(e){var t=Math[e];return function(r,n){if(r=iMe(r),n=_Vt(IVt(n),292),n){var i=(rMe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(rMe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function tMe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function wVt(e){return!!e&&typeof e=="object"}function nMe(e){return typeof e=="symbol"||wVt(e)&&yVt.call(e)==lVt}function SVt(e){if(!e)return e===0?e:0;if(e=iMe(e),e===GB||e===-GB){var t=e<0?-1:1;return t*sVt}return e===e?e:0}function IVt(e){var t=SVt(e),r=t%1;return t===t?r?t-r:t:0}function iMe(e){if(typeof e=="number")return e;if(nMe(e))return XAe;if(tMe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tMe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(uVt,"");var r=dVt.test(e);return r||pVt.test(e)?fVt(e.slice(2),r?2:8):cVt.test(e)?XAe:+e}function rMe(e){return e==null?"":bVt(e)}var EVt=xVt("round");oMe.exports=EVt});var a0=I((MAr,$Me)=>{var $Vt=$Me.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=$Vt)});var $l=I((PAr,HMe)=>{var HVt=HMe.exports={version:"2.6.12"};typeof __e=="number"&&(__e=HVt)});var GMe=I((OAr,WMe)=>{WMe.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var T5=I((DAr,ZMe)=>{var WVt=GMe();ZMe.exports=function(e,t,r){if(WVt(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};}return function(){return e.apply(t,arguments)}}});var Ow=I((kAr,YMe)=>{YMe.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var s0=I((qAr,KMe)=>{var GVt=Ow();KMe.exports=function(e){if(!GVt(e))throw TypeError(e+" is not an object!");return e}});var Dw=I((NAr,XMe)=>{XMe.exports=function(e){try{return!!e()}catch(t){return!0}}});var Lf=I((RAr,JMe)=>{JMe.exports=!Dw()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var dV=I((LAr,e5e)=>{var QMe=Ow(),cV=a0().document,ZVt=QMe(cV)&&QMe(cV.createElement);e5e.exports=function(e){return ZVt?cV.createElement(e):{}}});var pV=I((zAr,t5e)=>{t5e.exports=!Lf()&&!Dw()(function(){return Object.defineProperty(dV()("div"),"a",{get:function(){return 7}}).a!=7})});var fV=I((FAr,r5e)=>{var C5=Ow();r5e.exports=function(e,t){if(!C5(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!C5(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!C5(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!C5(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var kw=I(i5e=>{var n5e=s0(),YVt=pV(),KVt=fV(),XVt=Object.defineProperty;i5e.f=Lf()?Object.defineProperty:function(t,r,n){if(n5e(t),r=KVt(r,!0),n5e(n),YVt)try{return XVt(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var qw=I((BAr,o5e)=>{o5e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var Nw=I((VAr,a5e)=>{var JVt=kw(),QVt=qw();a5e.exports=Lf()?function(e,t,r){return JVt.f(e,t,QVt(1,r))}:function(e,t,r){return e[t]=r,e}});var l0=I((UAr,s5e)=>{var eUt={}.hasOwnProperty;s5e.exports=function(e,t){return eUt.call(e,t)}});var Pd=I(($Ar,u5e)=>{var A5=a0(),hV=$l(),l5e=T5(),tUt=Nw(),rUt=l0(),M5="prototype",Ia=function(e,t,r){var n=e&Ia.F,i=e&Ia.G,o=e&Ia.S,u=e&Ia.P,p=e&Ia.B,h=e&Ia.W,y=i?hV:hV[t]||(hV[t]={}),x=y[M5],E=i?A5:o?A5[t]:(A5[t]||{})[M5],T,D,z;i&&(r=t);for(T in r)D=!n&&E&&E[T]!==void 0,!(D&&rUt(y,T))&&(z=D?E[T]:r[T],y[T]=i&&typeof E[T]!="function"?r[T]:p&&D?l5e(z,A5):h&&E[T]==z?function(F){var q=function(N,B,Z){if(this instanceof F){switch(arguments.length){case 0:return new F;case 1:return new F(N);case 2:return new F(N,B);}return new F(N,B,Z)}return F.apply(this,arguments)};return q[M5]=F[M5],q}(z):u&&typeof z=="function"?l5e(Function.call,z):z,u&&((y.virtual||(y.virtual={}))[T]=z,e&Ia.R&&x&&!x[T]&&tUt(x,T,z)))};Ia.F=1;Ia.G=2;Ia.S=4;Ia.P=8;Ia.B=16;Ia.W=32;Ia.U=64;Ia.R=128;u5e.exports=Ia});var mV=I((HAr,c5e)=>{var nUt={}.toString;c5e.exports=function(e){return nUt.call(e).slice(8,-1)}});var gV=I((WAr,d5e)=>{var iUt=mV();d5e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return iUt(e)=="String"?e.split(""):Object(e)}});var P5=I((GAr,p5e)=>{p5e.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var Rw=I((ZAr,f5e)=>{var oUt=gV(),aUt=P5();f5e.exports=function(e){return oUt(aUt(e))}});var O5=I((YAr,h5e)=>{var sUt=Math.ceil,lUt=Math.floor;h5e.exports=function(e){return isNaN(e=+e)?0:(e>0?lUt:sUt)(e)}});var vV=I((KAr,m5e)=>{var uUt=O5(),cUt=Math.min;m5e.exports=function(e){return e>0?cUt(uUt(e),9007199254740991):0}});var v5e=I((XAr,g5e)=>{var dUt=O5(),pUt=Math.max,fUt=Math.min;g5e.exports=function(e,t){return e=dUt(e),e<0?pUt(e+t,0):fUt(e,t)}});var _5e=I((JAr,y5e)=>{var hUt=Rw(),mUt=vV(),gUt=v5e();y5e.exports=function(e){return function(t,r,n){var i=hUt(t),o=mUt(i.length),u=gUt(n,o),p;if(e&&r!=r){for(;o>u;)if(p=i[u++],p!=p)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}});var yV=I((QAr,b5e)=>{b5e.exports=!0});var _V=I((eMr,I5e)=>{var vUt=$l(),x5e=a0(),w5e="__core-js_shared__",S5e=x5e[w5e]||(x5e[w5e]={});(I5e.exports=function(e,t){return S5e[e]||(S5e[e]=t!==void 0?t:{})})("versions",[]).push({version:vUt.version,mode:yV()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var bV=I((tMr,E5e)=>{var yUt=0,_Ut=Math.random();E5e.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++yUt+_Ut).toString(36))}});var D5=I((rMr,C5e)=>{var T5e=_V()("keys"),bUt=bV();C5e.exports=function(e){return T5e[e]||(T5e[e]=bUt(e))}});var P5e=I((nMr,M5e)=>{var A5e=l0(),xUt=Rw(),wUt=_5e()(!1),SUt=D5()("IE_PROTO");M5e.exports=function(e,t){var r=xUt(e),n=0,i=[],o;for(o in r)o!=SUt&&A5e(r,o)&&i.push(o);for(;t.length>n;)A5e(r,o=t[n++])&&(~wUt(i,o)||i.push(o));return i}});var xV=I((iMr,O5e)=>{O5e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var Lw=I((oMr,D5e)=>{var IUt=P5e(),EUt=xV();D5e.exports=Object.keys||function(t){return IUt(t,EUt)}});var q5e=I(k5e=>{k5e.f=Object.getOwnPropertySymbols});var k5=I(N5e=>{N5e.f={}.propertyIsEnumerable});var zw=I((lMr,R5e)=>{var TUt=P5();R5e.exports=function(e){return Object(TUt(e))}});var F5e=I((uMr,z5e)=>{"use strict";var CUt=Lf(),L5e=Lw(),AUt=q5e(),MUt=k5(),PUt=zw(),OUt=gV(),q5=Object.assign;z5e.exports=!q5||Dw()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),q5({},e)[r]!=7||Object.keys(q5({},t)).join("")!=n})?function(t,r){for(var n=PUt(t),i=arguments.length,o=1,u=AUt.f,p=MUt.f;i>o;)for(var h=OUt(arguments[o++]),y=u?L5e(h).concat(u(h)):L5e(h),x=y.length,E=0,T;x>E;)T=y[E++],(!CUt||p.call(h,T))&&(n[T]=h[T]);return n}:q5});var j5e=I(()=>{var wV=Pd();wV(wV.S+wV.F,"Object",{assign:F5e()})});var V5e=I((pMr,B5e)=>{j5e();B5e.exports=$l().Object.assign});var $5e=I((hMr,U5e)=>{var DUt=kw(),kUt=s0(),qUt=Lw();U5e.exports=Lf()?Object.defineProperties:function(t,r){kUt(t);for(var n=qUt(r),i=n.length,o=0,u;i>o;)DUt.f(t,u=n[o++],r[u]);return t}});var G5e=I((mMr,W5e)=>{var H5e=a0().document;W5e.exports=H5e&&H5e.documentElement});var TV=I((gMr,Y5e)=>{var NUt=s0(),RUt=$5e(),Z5e=xV(),LUt=D5()("IE_PROTO"),IV=function(){},EV="prototype",N5=function(){var e=dV()("iframe"),t=Z5e.length,r="<",n=">",i;for(e.style.display="none",G5e().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),N5=i.F;t--;)delete N5[EV][Z5e[t]];return N5()};Y5e.exports=Object.create||function(t,r){var n;return t!==null?(IV[EV]=NUt(t),n=new IV,IV[EV]=null,n[LUt]=t):n=N5(),r===void 0?n:RUt(n,r)}});var X5e=I(()=>{var K5e=Pd();K5e(K5e.S,"Object",{create:TV()})});var Q5e=I((_Mr,J5e)=>{X5e();var zUt=$l().Object;J5e.exports=function(t,r){return zUt.create(t,r)}});var r3e=I(t3e=>{var FUt=k5(),jUt=qw(),BUt=Rw(),VUt=fV(),UUt=l0(),$Ut=pV(),e3e=Object.getOwnPropertyDescriptor;t3e.f=Lf()?e3e:function(t,r){if(t=BUt(t),r=VUt(r,!0),$Ut)try{return e3e(t,r)}catch(n){}if(UUt(t,r))return jUt(!FUt.f.call(t,r),t[r])}});var o3e=I((xMr,i3e)=>{var HUt=Ow(),WUt=s0(),n3e=function(e,t){if(WUt(e),!HUt(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};i3e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=T5()(Function.call,r3e().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return n3e(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:n3e}});var s3e=I(()=>{var a3e=Pd();a3e(a3e.S,"Object",{setPrototypeOf:o3e().set})});var u3e=I((IMr,l3e)=>{s3e();l3e.exports=$l().Object.setPrototypeOf});var p3e=I((AMr,d3e)=>{var AV=Pd(),GUt=$l(),ZUt=Dw();d3e.exports=function(e,t){var r=(GUt.Object||{})[e]||Object[e],n={};n[e]=t(r),AV(AV.S+AV.F*ZUt(function(){r(1)}),"Object",n)}});var f3e=I(()=>{var YUt=zw(),KUt=Lw();p3e()("keys",function(){return function(t){return KUt(YUt(t))}})});var m3e=I((OMr,h3e)=>{f3e();h3e.exports=$l().Object.keys});var Yr=I((kMr,R5)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var u=typeof o;if(u==="string"||u==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var p=r.apply(null,o);p&&n.push(p)}}else if(u==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var h in o)e.call(o,h)&&o[h]&&n.push(h)}}}return n.join(" ")}typeof R5!="undefined"&&R5.exports?(r.default=r,R5.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var L5=I((RMr,v3e)=>{"use strict";var XUt=function(e,t,r,n,i,o,u,p){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,n,i,o,u,p],x=0;h=new Error(t.replace(/%s/g,function(){return y[x++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};v3e.exports=XUt});var DV=I(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});function x3e(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function w3e(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function S3e(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}x3e.__suppressDeprecationWarning=!0;w3e.__suppressDeprecationWarning=!0;S3e.__suppressDeprecationWarning=!0;function QUt(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=x3e,t.componentWillReceiveProps=w3e),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=S3e;var p=t.componentDidUpdate;t.componentDidUpdate=function(y,x,E){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;p.call(this,y,x,T)}}return e}OV.polyfill=QUt});var kV=I((t5r,T3e)=>{var t$t=Lf(),r$t=Lw(),n$t=Rw(),i$t=k5().f;T3e.exports=function(e){return function(t){for(var r=n$t(t),n=r$t(r),i=n.length,o=0,u=[],p;i>o;)p=n[o++],(!t$t||i$t.call(r,p))&&u.push(e?[p,r[p]]:r[p]);return u}}});var A3e=I(()=>{var C3e=Pd(),o$t=kV()(!0);C3e(C3e.S,"Object",{entries:function(t){return o$t(t)}})});var P3e=I((i5r,M3e)=>{A3e();M3e.exports=$l().Object.entries});var qV=I((o5r,O3e)=>{O3e.exports=P3e()});var Uw=I((j5,R3e)=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.default=h$t;function h$t(e){function t(n,i,o,u,p,h){var y=u||"<<anonymous>>",x=h||o;if(i[o]==null)return n?new Error("Required "+p+" `"+x+"` was not specified "+("in `"+y+"`.")):null;for(var E=arguments.length,T=Array(E>6?E-6:0),D=6;D<E;D++)T[D-6]=arguments[D];return e.apply(void 0,[i,o,y,p,x].concat(T))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}R3e.exports=j5.default});var j3e=I(()=>{var F3e=Pd(),m$t=kV()(!1);F3e(F3e.S,"Object",{values:function(t){return m$t(t)}})});var V3e=I((g5r,B3e)=>{j3e();B3e.exports=$l().Object.values});var $3e=I((v5r,U3e)=>{U3e.exports=V3e()});var G3e=I(Bn=>{"use strict";var To=typeof Symbol=="function"&&Symbol.for,jV=To?Symbol.for("react.element"):60103,BV=To?Symbol.for("react.portal"):60106,V5=To?Symbol.for("react.fragment"):60107,U5=To?Symbol.for("react.strict_mode"):60108,$5=To?Symbol.for("react.profiler"):60114,H5=To?Symbol.for("react.provider"):60109,W5=To?Symbol.for("react.context"):60110,VV=To?Symbol.for("react.async_mode"):60111,G5=To?Symbol.for("react.concurrent_mode"):60111,Z5=To?Symbol.for("react.forward_ref"):60112,Y5=To?Symbol.for("react.suspense"):60113,y$t=To?Symbol.for("react.suspense_list"):60120,K5=To?Symbol.for("react.memo"):60115,X5=To?Symbol.for("react.lazy"):60116,_$t=To?Symbol.for("react.block"):60121,b$t=To?Symbol.for("react.fundamental"):60117,x$t=To?Symbol.for("react.responder"):60118,w$t=To?Symbol.for("react.scope"):60119;function rl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jV:switch(e=e.type,e){case VV:case G5:case V5:case $5:case U5:case Y5:return e;default:switch(e=e&&e.$$typeof,e){case W5:case Z5:case X5:case K5:case H5:return e;default:return t;}}case BV:return t;}}}function W3e(e){return rl(e)===G5}Bn.AsyncMode=VV;Bn.ConcurrentMode=G5;Bn.ContextConsumer=W5;Bn.ContextProvider=H5;Bn.Element=jV;Bn.ForwardRef=Z5;Bn.Fragment=V5;Bn.Lazy=X5;Bn.Memo=K5;Bn.Portal=BV;Bn.Profiler=$5;Bn.StrictMode=U5;Bn.Suspense=Y5;Bn.isAsyncMode=function(e){return W3e(e)||rl(e)===VV};Bn.isConcurrentMode=W3e;Bn.isContextConsumer=function(e){return rl(e)===W5};Bn.isContextProvider=function(e){return rl(e)===H5};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jV};Bn.isForwardRef=function(e){return rl(e)===Z5};Bn.isFragment=function(e){return rl(e)===V5};Bn.isLazy=function(e){return rl(e)===X5};Bn.isMemo=function(e){return rl(e)===K5};Bn.isPortal=function(e){return rl(e)===BV};Bn.isProfiler=function(e){return rl(e)===$5};Bn.isStrictMode=function(e){return rl(e)===U5};Bn.isSuspense=function(e){return rl(e)===Y5};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V5||e===G5||e===$5||e===U5||e===Y5||e===y$t||typeof e=="object"&&e!==null&&(e.$$typeof===X5||e.$$typeof===K5||e.$$typeof===H5||e.$$typeof===W5||e.$$typeof===Z5||e.$$typeof===b$t||e.$$typeof===x$t||e.$$typeof===w$t||e.$$typeof===_$t)};Bn.typeOf=rl});var Y3e=I((w5r,Z3e)=>{"use strict";Z3e.exports=G3e()});var Wo=I((J5,X3e)=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});var S$t=Ue(),I$t=K3e(S$t),E$t=Y3e(),T$t=Uw(),C$t=K3e(T$t);function K3e(e){return e&&e.__esModule?e:{default:e}}function A$t(e,t,r,n,i){var o=e[t];return I$t.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,E$t.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}J5.default=(0,C$t.default)(A$t);X3e.exports=J5.default});var Hw=I((e3,rPe)=>{"use strict";Object.defineProperty(e3,"__esModule",{value:!0});e3.default=L$t;var q$t=Uw(),N$t=R$t(q$t);function R$t(e){return e&&e.__esModule?e:{default:e}}function L$t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var p=null;return t.forEach(function(h){if(p==null){var y=h.apply(void 0,o);y!=null&&(p=y)}}),p}return(0,N$t.default)(n)}rPe.exports=e3.default});var Ff=I((Z5r,uPe)=>{"use strict";var B$t=function(){};uPe.exports=B$t});var Zi=I((r3r,Ww)=>{function H$t(e){return e&&e.__esModule?e:{default:e}}Ww.exports=H$t,Ww.exports.__esModule=!0,Ww.exports.default=Ww.exports});var pPe=I((i3,dPe)=>{"use strict";i3.__esModule=!0;i3.default=G$t;var W$t=/-(.)/g;function G$t(e){return e.replace(W$t,function(t,r){return r.toUpperCase()})}dPe.exports=i3.default});var JV=I((o3,fPe)=>{"use strict";var Z$t=Zi();o3.__esModule=!0;o3.default=X$t;var Y$t=Z$t(pPe()),K$t=/^-ms-/;function X$t(e){return(0,Y$t.default)(e.replace(K$t,"ms-"))}fPe.exports=o3.default});var mPe=I((a3,hPe)=>{"use strict";a3.__esModule=!0;a3.default=Q$t;var J$t=/([A-Z])/g;function Q$t(e){return e.replace(J$t,"-$1").toLowerCase()}hPe.exports=a3.default});var vPe=I((s3,gPe)=>{"use strict";var eHt=Zi();s3.__esModule=!0;s3.default=nHt;var tHt=eHt(mPe()),rHt=/^ms-/;function nHt(e){return(0,tHt.default)(e).replace(rHt,"-ms-")}gPe.exports=s3.default});var _Pe=I((l3,yPe)=>{"use strict";var iHt=Zi();l3.__esModule=!0;l3.default=lHt;var oHt=iHt(JV()),aHt=/^(top|right|bottom|left)$/,sHt=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function lHt(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,oHt.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),sHt.test(o)&&!aHt.test(n)){var u=i.left,p=e.runtimeStyle,h=p&&p.left;h&&(p.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=u,h&&(p.left=h)}return o}}}yPe.exports=l3.default});var xPe=I((u3,bPe)=>{"use strict";u3.__esModule=!0;u3.default=uHt;function uHt(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}bPe.exports=u3.default});var bc=I((Gw,wPe)=>{"use strict";Gw.__esModule=!0;Gw.default=void 0;var cHt=!!(typeof window!="undefined"&&window.document&&window.document.createElement);Gw.default=cHt;wPe.exports=Gw.default});var APe=I(an=>{"use strict";var dHt=Zi();an.__esModule=!0;an.default=an.animationEnd=an.animationDelay=an.animationTiming=an.animationDuration=an.animationName=an.transitionEnd=an.transitionDuration=an.transitionDelay=an.transitionTiming=an.transitionProperty=an.transform=void 0;var pHt=dHt(bc()),d3="transform";an.transform=d3;var xc,QV,SPe;an.animationEnd=SPe;an.transitionEnd=QV;var eU,tU,rU,nU;an.transitionDelay=nU;an.transitionTiming=rU;an.transitionDuration=tU;an.transitionProperty=eU;var IPe,EPe,TPe,CPe;an.animationDelay=CPe;an.animationTiming=TPe;an.animationDuration=EPe;an.animationName=IPe;pHt.default&&(c3=hHt(),xc=c3.prefix,an.transitionEnd=QV=c3.transitionEnd,an.animationEnd=SPe=c3.animationEnd,an.transform=d3=xc+"-"+d3,an.transitionProperty=eU=xc+"-transition-property",an.transitionDuration=tU=xc+"-transition-duration",an.transitionDelay=nU=xc+"-transition-delay",an.transitionTiming=rU=xc+"-transition-timing-function",an.animationName=IPe=xc+"-animation-name",an.animationDuration=EPe=xc+"-animation-duration",an.animationTiming=TPe=xc+"-animation-delay",an.animationDelay=CPe=xc+"-animation-timing-function");var c3,fHt={transform:d3,end:QV,property:eU,timing:rU,delay:nU,duration:tU};an.default=fHt;function hHt(){for(var e=document.createElement("div").style,t={O:function(y){return"o"+y.toLowerCase()},Moz:function(y){return y.toLowerCase()},Webkit:function(y){return"webkit"+y},ms:function(y){return"MS"+y}},r=Object.keys(t),n,i,o="",u=0;u<r.length;u++){var p=r[u];if(p+"TransitionProperty"in e){o="-"+p.toLowerCase(),n=t[p]("TransitionEnd"),i=t[p]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var PPe=I((p3,MPe)=>{"use strict";p3.__esModule=!0;p3.default=gHt;var mHt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gHt(e){return!!(e&&mHt.test(e))}MPe.exports=p3.default});var h3=I((f3,OPe)=>{"use strict";var Zw=Zi();f3.__esModule=!0;f3.default=wHt;var vHt=Zw(JV()),iU=Zw(vPe()),yHt=Zw(_Pe()),_Ht=Zw(xPe()),bHt=APe(),xHt=Zw(PPe());function wHt(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,vHt.default)(t)]||(0,yHt.default)(e).getPropertyValue((0,iU.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(u){var p=o[u];!p&&p!==0?(0,_Ht.default)(e,(0,iU.default)(u)):(0,xHt.default)(u)?i+=u+"("+p+") ":n+=(0,iU.default)(u)+": "+p+";"}),i&&(n+=bHt.transform+": "+i+";"),e.style.cssText+=";"+n}OPe.exports=f3.default});var DPe=I(d0=>{"use strict";d0.__esModule=!0;d0.classNamesShape=d0.timeoutsShape=void 0;var i3r=SHt(Wt());function SHt(e){return e&&e.__esModule?e:{default:e}}var IHt=null;d0.timeoutsShape=IHt;var EHt=null;d0.classNamesShape=EHt});var qPe=I(Ts=>{"use strict";Ts.__esModule=!0;Ts.default=Ts.EXITING=Ts.ENTERED=Ts.ENTERING=Ts.EXITED=Ts.UNMOUNTED=void 0;var THt=MHt(Wt()),oU=kPe(Ue()),CHt=kPe(Li()),AHt=DV(),a3r=DPe();function kPe(e){return e&&e.__esModule?e:{default:e}}function MHt(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function PHt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function OHt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Yw="unmounted";Ts.UNMOUNTED=Yw;var jm="exited";Ts.EXITED=jm;var Bm="entering";Ts.ENTERING=Bm;var f0="entered";Ts.ENTERED=f0;var aU="exiting";Ts.EXITING=aU;var wc=function(e){OHt(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var u=i.transitionGroup,p=u&&!u.isMounting?n.enter:n.appear,h;return o.appearStatus=null,n.in?p?(h=jm,o.appearStatus=Bm):h=f0:n.unmountOnExit||n.mountOnEnter?h=Yw:h=jm,o.state={status:h},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===Yw?{status:jm}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Bm&&u!==f0&&(o=Bm):(u===Bm||u===f0)&&(o=aU)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,p;return o=u=p=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,p=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:p}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var u=CHt.default.findDOMNode(this);o===Bm?this.performEnter(u,i):this.performExit(u)}else this.props.unmountOnExit&&this.state.status===jm&&this.setState({status:Yw})},r.performEnter=function(i,o){var u=this,p=this.props.enter,h=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,y=this.getTimeouts(),x=h?y.appear:y.enter;if(!o&&!p){this.safeSetState({status:f0},function(){u.props.onEntered(i)});return}this.props.onEnter(i,h),this.safeSetState({status:Bm},function(){u.props.onEntering(i,h),u.onTransitionEnd(i,x,function(){u.safeSetState({status:f0},function(){u.props.onEntered(i,h)})})})},r.performExit=function(i){var o=this,u=this.props.exit,p=this.getTimeouts();if(!u){this.safeSetState({status:jm},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:aU},function(){o.props.onExiting(i),o.onTransitionEnd(i,p.exit,function(){o.safeSetState({status:jm},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(p){u&&(u=!1,o.nextCallback=null,i(p))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o,u){this.setNextCallback(u);var p=o==null&&!this.props.addEndListener;if(!i||p){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===Yw)return null;var o=this.props,u=o.children,p=PHt(o,["children"]);if(delete p.in,delete p.mountOnEnter,delete p.unmountOnExit,delete p.appear,delete p.enter,delete p.exit,delete p.timeout,delete p.addEndListener,delete p.onEnter,delete p.onEntering,delete p.onEntered,delete p.onExit,delete p.onExiting,delete p.onExited,typeof u=="function")return u(i,p);var h=oU.default.Children.only(u);return oU.default.cloneElement(h,p)},t}(oU.default.Component);wc.contextTypes={transitionGroup:THt.object};wc.childContextTypes={transitionGroup:function(){}};wc.propTypes={};function p0(){}wc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p0,onEntering:p0,onEntered:p0,onExit:p0,onExiting:p0,onExited:p0};wc.UNMOUNTED=0;wc.EXITED=1;wc.ENTERING=2;wc.ENTERED=3;wc.EXITING=4;var DHt=(0,AHt.polyfill)(wc);Ts.default=DHt});var Vm=I((m3,NPe)=>{"use strict";m3.__esModule=!0;m3.default=kHt;function kHt(e){return e&&e.ownerDocument||document}NPe.exports=m3.default});var sU=I((g3,RPe)=>{"use strict";var qHt=Zi();g3.__esModule=!0;g3.default=RHt;var NHt=qHt(Vm());function RHt(e){e===void 0&&(e=(0,NHt.default)());try{return e.activeElement}catch(t){}}RPe.exports=g3.default});var h0=I((Kw,zPe)=>{"use strict";var LHt=Zi();Kw.__esModule=!0;Kw.default=void 0;var zHt=LHt(bc()),FHt=function(){return zHt.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):LPe(e,t)}:LPe}();Kw.default=FHt;function LPe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}zPe.exports=Kw.default});var y3=I((Um,BPe)=>{function FPe(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return jPe[e];var r=String(e),n=kd[r.toLowerCase()];if(n)return n;var n=v3[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}FPe.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=kd[r.toLowerCase()];if(i)return i===n;var i=v3[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Um=BPe.exports=FPe;var kd=Um.code=Um.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},v3=Um.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Oi=97;Oi<123;Oi++)kd[String.fromCharCode(Oi)]=Oi-32;for(Oi=48;Oi<58;Oi++)kd[Oi-48]=Oi;var Oi;for(Oi=1;Oi<13;Oi++)kd["f"+Oi]=Oi+111;for(Oi=0;Oi<10;Oi++)kd["numpad "+Oi]=Oi+96;var jPe=Um.names=Um.title={};for(Oi in kd)jPe[kd[Oi]]=Oi;for(lU in v3)kd[lU]=v3[lU];var lU});var b3=I((_3,VPe)=>{"use strict";Object.defineProperty(_3,"__esModule",{value:!0});_3.default=jHt;function jHt(e){return function(r,n,i,o,u){var p=i||"<<anonymous>>",h=u||n;if(r[n]==null)return new Error("The "+o+" `"+h+"` is required to make "+("`"+p+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var y=arguments.length,x=Array(y>5?y-5:0),E=5;E<y;E++)x[E-5]=arguments[E];return e.apply(void 0,[r,n,i,o,u].concat(x))}}VPe.exports=_3.default});var $Pe=I((l3r,UPe)=>{var BHt=O5(),VHt=P5();UPe.exports=function(e){return function(t,r){var n=String(VHt(t)),i=BHt(r),o=n.length,u,p;return i<0||i>=o?e?"":void 0:(u=n.charCodeAt(i),u<55296||u>56319||i+1===o||(p=n.charCodeAt(i+1))<56320||p>57343?e?n.charAt(i):u:e?n.slice(i,i+2):(u-55296<<10)+(p-56320)+65536)}}});var WPe=I((u3r,HPe)=>{HPe.exports=Nw()});var x3=I((c3r,GPe)=>{GPe.exports={}});var jf=I((d3r,YPe)=>{var uU=_V()("wks"),UHt=bV(),cU=a0().Symbol,ZPe=typeof cU=="function",$Ht=YPe.exports=function(e){return uU[e]||(uU[e]=ZPe&&cU[e]||(ZPe?cU:UHt)("Symbol."+e))};$Ht.store=uU});var dU=I((p3r,XPe)=>{var HHt=kw().f,WHt=l0(),KPe=jf()("toStringTag");XPe.exports=function(e,t,r){e&&!WHt(e=r?e:e.prototype,KPe)&&HHt(e,KPe,{configurable:!0,value:t})}});var e4e=I((f3r,QPe)=>{"use strict";var GHt=TV(),ZHt=qw(),YHt=dU(),JPe={};Nw()(JPe,jf()("iterator"),function(){return this});QPe.exports=function(e,t,r){e.prototype=GHt(JPe,{next:ZHt(1,r)}),YHt(e,t+" Iterator")}});var n4e=I((h3r,r4e)=>{var KHt=l0(),XHt=zw(),t4e=D5()("IE_PROTO"),JHt=Object.prototype;r4e.exports=Object.getPrototypeOf||function(e){return e=XHt(e),KHt(e,t4e)?e[t4e]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?JHt:null}});var c4e=I((m3r,u4e)=>{"use strict";var i4e=yV(),pU=Pd(),QHt=WPe(),o4e=Nw(),a4e=x3(),eWt=e4e(),tWt=dU(),rWt=n4e(),Xw=jf()("iterator"),fU=!([].keys&&"next"in[].keys()),nWt="@@iterator",s4e="keys",w3="values",l4e=function(){return this};u4e.exports=function(e,t,r,n,i,o,u){eWt(r,t,n);var p=function(Z){if(!fU&&Z in E)return E[Z];switch(Z){case s4e:return function(){return new r(this,Z)};case w3:return function(){return new r(this,Z)};}return function(){return new r(this,Z)}},h=t+" Iterator",y=i==w3,x=!1,E=e.prototype,T=E[Xw]||E[nWt]||i&&E[i],D=T||p(i),z=i?y?p("entries"):D:void 0,F=t=="Array"&&E.entries||T,q,N,B;if(F&&(B=rWt(F.call(new e)),B!==Object.prototype&&B.next&&(tWt(B,h,!0),!i4e&&typeof B[Xw]!="function"&&o4e(B,Xw,l4e))),y&&T&&T.name!==w3&&(x=!0,D=function(){return T.call(this)}),(!i4e||u)&&(fU||x||!E[Xw])&&o4e(E,Xw,D),a4e[t]=D,a4e[h]=l4e,i)if(q={values:y?D:p(w3),keys:o?D:p(s4e),entries:z},u)for(N in q)N in E||QHt(E,N,q[N]);else pU(pU.P+pU.F*(fU||x),t,q);return q}});var d4e=I(()=>{"use strict";var iWt=$Pe()(!0);c4e()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=iWt(e,t),this._i+=r.length,{value:r,done:!1})})});var h4e=I((y3r,f4e)=>{var p4e=s0();f4e.exports=function(e,t,r,n){try{return n?t(p4e(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&p4e(i.call(e)),o}}});var g4e=I((_3r,m4e)=>{var oWt=x3(),aWt=jf()("iterator"),sWt=Array.prototype;m4e.exports=function(e){return e!==void 0&&(oWt.Array===e||sWt[aWt]===e)}});var y4e=I((b3r,v4e)=>{"use strict";var lWt=kw(),uWt=qw();v4e.exports=function(e,t,r){t in e?lWt.f(e,t,uWt(0,r)):e[t]=r}});var b4e=I((x3r,_4e)=>{var hU=mV(),cWt=jf()("toStringTag"),dWt=hU(function(){return arguments}())=="Arguments",pWt=function(e,t){try{return e[t]}catch(r){}};_4e.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=pWt(t=Object(e),cWt))=="string"?r:dWt?hU(t):(n=hU(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var w4e=I((w3r,x4e)=>{var fWt=b4e(),hWt=jf()("iterator"),mWt=x3();x4e.exports=$l().getIteratorMethod=function(e){if(e!=null)return e[hWt]||e["@@iterator"]||mWt[fWt(e)]}});var E4e=I((S3r,I4e)=>{var gU=jf()("iterator"),S4e=!1;try{mU=[7][gU](),mU.return=function(){S4e=!0},Array.from(mU,function(){throw 2})}catch(e){}var mU;I4e.exports=function(e,t){if(!t&&!S4e)return!1;var r=!1;try{var n=[7],i=n[gU]();i.next=function(){return{done:r=!0}},n[gU]=function(){return i},e(n)}catch(o){}return r}});var C4e=I(()=>{"use strict";var gWt=T5(),vU=Pd(),vWt=zw(),yWt=h4e(),_Wt=g4e(),bWt=vV(),T4e=y4e(),xWt=w4e();vU(vU.S+vU.F*!E4e()(function(e){Array.from(e)}),"Array",{from:function(t){var r=vWt(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,p=0,h=xWt(r),y,x,E,T;if(u&&(o=gWt(o,i>2?arguments[2]:void 0,2)),h!=null&&!(n==Array&&_Wt(h)))for(T=h.call(r),x=new n;!(E=T.next()).done;p++)T4e(x,p,u?yWt(T,o,[E.value,p],!0):E.value);else for(y=bWt(r.length),x=new n(y);y>p;p++)T4e(x,p,u?o(r[p],p):r[p]);return x.length=p,x}})});var M4e=I((T3r,A4e)=>{d4e();C4e();A4e.exports=$l().Array.from});var O4e=I((C3r,P4e)=>{P4e.exports=M4e()});var S3=I((Jw,k4e)=>{"use strict";var wWt=Zi();Jw.__esModule=!0;Jw.default=void 0;var SWt=wWt(bc()),D4e=function(){};SWt.default&&(D4e=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var IWt=D4e;Jw.default=IWt;k4e.exports=Jw.default});var I3=I((Qw,N4e)=>{"use strict";var EWt=Zi();Qw.__esModule=!0;Qw.default=void 0;var TWt=EWt(bc()),q4e=function(){};TWt.default&&(q4e=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var CWt=q4e;Qw.default=CWt;N4e.exports=Qw.default});var yU=I((E3,L4e)=>{"use strict";E3.__esModule=!0;E3.default=function(e,t,r,n){return(0,MWt.default)(e,t,r,n),{remove:function(){(0,OWt.default)(e,t,r,n)}}};var AWt=S3(),MWt=R4e(AWt),PWt=I3(),OWt=R4e(PWt);function R4e(e){return e&&e.__esModule?e:{default:e}}L4e.exports=E3.default});var $m=I((T3,F4e)=>{"use strict";T3.__esModule=!0;T3.default=function(e){return(0,NWt.default)(kWt.default.findDOMNode(e))};var DWt=Li(),kWt=z4e(DWt),qWt=Vm(),NWt=z4e(qWt);function z4e(e){return e&&e.__esModule?e:{default:e}}F4e.exports=T3.default});var bU=I((M3,j4e)=>{"use strict";M3.__esModule=!0;var RWt=h0(),LWt=m0(RWt),zWt=Wt(),C3=m0(zWt),FWt=Ue(),jWt=m0(FWt),BWt=Li(),VWt=m0(BWt),UWt=yU(),_U=m0(UWt),$Wt=$m(),HWt=m0($Wt);function m0(e){return e&&e.__esModule?e:{default:e}}function WWt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GWt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZWt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var YWt=27;function KWt(e){return e.button===0}function XWt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var A3=function(e){ZWt(t,e);function t(r,n){WWt(this,t);var i=GWt(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,u=(0,HWt.default)(i);i.documentMouseCaptureListener=(0,_U.default)(u,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,_U.default)(u,o,i.handleMouse),i.documentKeyupListener=(0,_U.default)(u,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=XWt(o)||!KWt(o)||(0,LWt.default)(VWt.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===YWt&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(jWt.default.Component);A3.displayName="RootCloseWrapper";A3.propTypes={onRootClose:C3.default.func,children:C3.default.element,disabled:C3.default.bool,event:C3.default.oneOf(["click","mousedown"])};A3.defaultProps={event:"click"};M3.default=A3;j4e.exports=M3.default});var hOe=I((L3,fOe)=>{"use strict";L3.__esModule=!0;L3.default=wGt;var xGt=/^[\w-]*$/,GU=Function.prototype.bind.call(Function.prototype.call,[].slice);function wGt(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=xGt.test(i),u;return o?r?(e=e.getElementById?e:document,(u=e.getElementById(i))?[u]:[]):e.getElementsByClassName&&n?GU(e.getElementsByClassName(i)):GU(e.getElementsByTagName(t)):GU(e.querySelectorAll(t))}fOe.exports=L3.default});var vOe=I((z3,gOe)=>{"use strict";var mOe=Zi();z3.__esModule=!0;z3.default=EGt;var SGt=mOe(h0()),IGt=mOe(hOe());function EGt(e,t){return function(n){var i=n.currentTarget,o=n.target,u=(0,IGt.default)(i,e);u.some(function(p){return(0,SGt.default)(p,o)})&&t.call(this,n)}}gOe.exports=z3.default});var bOe=I((aS,_Oe)=>{"use strict";var ZU=Zi();aS.__esModule=!0;aS.default=void 0;var TGt=ZU(bc()),CGt=ZU(S3()),AGt=ZU(I3()),yOe=function(){};TGt.default&&(yOe=function(t,r,n,i){return(0,CGt.default)(t,r,n,i),function(){(0,AGt.default)(t,r,n,i)}});var MGt=yOe;aS.default=MGt;_Oe.exports=aS.default});var EOe=I(Vf=>{"use strict";var F3=Zi();Vf.__esModule=!0;Vf.default=void 0;var xOe=F3(S3());Vf.on=xOe.default;var wOe=F3(I3());Vf.off=wOe.default;var SOe=F3(vOe());Vf.filter=SOe.default;var IOe=F3(bOe());Vf.listen=IOe.default;var PGt={on:xOe.default,off:wOe.default,filter:SOe.default,listen:IOe.default};Vf.default=PGt});var YU=I((B3,TOe)=>{"use strict";var OGt=Zi();B3.__esModule=!0;B3.default=kGt;var DGt=OGt(bc()),j3;function kGt(e){if((!j3&&j3!==0||e)&&DGt.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),j3=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return j3}TOe.exports=B3.default});var sS=I((V3,AOe)=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});var qGt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NGt=Ue(),RGt=COe(NGt),LGt=Uw(),zGt=COe(LGt);function COe(e){return e&&e.__esModule?e:{default:e}}function FGt(e,t,r,n,i){var o=e[t],u=typeof o=="undefined"?"undefined":qGt(o);return RGt.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(u!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}V3.default=(0,zGt.default)(FGt);AOe.exports=V3.default});var DOe=I((r4r,OOe)=>{"use strict";var jGt=!1,POe=function(){};jGt&&(MOe=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,u="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u)}catch(p){}},POe=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||MOe.apply(null,[t].concat(r))});var MOe;OOe.exports=POe});var NOe=I((U3,qOe)=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.default=kOe;var BGt=DOe(),VGt=UGt(BGt);function UGt(e){return e&&e.__esModule?e:{default:e}}var KU={};function kOe(e,t){return function(n,i,o,u,p){var h=o||"<<anonymous>>",y=p||i;if(n[i]!=null){var x=o+"."+i;(0,VGt.default)(KU[x],"The "+u+" `"+y+"` of "+("`"+h+"` is deprecated. "+t+".")),KU[x]=!0}for(var E=arguments.length,T=Array(E>5?E-5:0),D=5;D<E;D++)T[D-5]=arguments[D];return e.apply(void 0,[n,i,o,u,p].concat(T))}}function $Gt(){KU={}}kOe._resetWarned=$Gt;qOe.exports=U3.default});var XU=I(($3,ROe)=>{"use strict";$3.__esModule=!0;$3.default=HGt;function HGt(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}ROe.exports=$3.default});var zOe=I((H3,LOe)=>{"use strict";var WGt=Zi();H3.__esModule=!0;H3.default=ZGt;var GGt=WGt(XU());function ZGt(e,t){e.classList?e.classList.add(t):(0,GGt.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}LOe.exports=H3.default});var BOe=I((n4r,jOe)=>{"use strict";function FOe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}jOe.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=FOe(t.className,r):t.setAttribute("class",FOe(t.className&&t.className.baseVal||"",r))}});var HOe=I(Hm=>{"use strict";var JU=Zi();Hm.__esModule=!0;Hm.default=void 0;var VOe=JU(zOe());Hm.addClass=VOe.default;var UOe=JU(BOe());Hm.removeClass=UOe.default;var $Oe=JU(XU());Hm.hasClass=$Oe.default;var YGt={addClass:VOe.default,removeClass:UOe.default,hasClass:$Oe.default};Hm.default=YGt});var lS=I((W3,WOe)=>{"use strict";W3.__esModule=!0;W3.default=KGt;function KGt(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}WOe.exports=W3.default});var QU=I((G3,YOe)=>{"use strict";G3.__esModule=!0;G3.default=rZt;var XGt=lS(),GOe=ZOe(XGt),JGt=Vm(),QGt=ZOe(JGt);function ZOe(e){return e&&e.__esModule?e:{default:e}}function eZt(e){return e&&e.tagName.toLowerCase()==="body"}function tZt(e){var t=(0,QGt.default)(e),r=(0,GOe.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function rZt(e){var t=(0,GOe.default)(e);return t||eZt(e)?tZt(e):e.scrollHeight>e.clientHeight}YOe.exports=G3.default});var XOe=I(uS=>{"use strict";uS.__esModule=!0;uS.ariaHidden=e$;uS.hideSiblings=oZt;uS.showSiblings=aZt;var nZt=["template","script","style"],iZt=function(t){var r=t.nodeType,n=t.tagName;return r===1&&nZt.indexOf(n.toLowerCase())===-1},KOe=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&iZt(i)&&n(i)})};function e$(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function oZt(e,t){KOe(e,t,function(r){return e$(!0,r)})}function aZt(e,t){KOe(e,t,function(r){return e$(!1,r)})}});var tDe=I((Y3,eDe)=>{"use strict";Y3.__esModule=!0;var sZt=HOe(),JOe=Z3(sZt),lZt=h3(),QOe=Z3(lZt),uZt=YU(),cZt=Z3(uZt),dZt=QU(),pZt=Z3(dZt),t$=XOe();function Z3(e){return e&&e.__esModule?e:{default:e}}function fZt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hZt(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function mZt(e,t){return hZt(e,function(r){return r.modals.indexOf(t)!==-1})}function gZt(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,QOe.default)(t,"paddingRight")||0,10)+(0,cZt.default)()+"px"),(0,QOe.default)(t,r)}function vZt(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var yZt=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,u=o===void 0?!0:o;fZt(this,e),this.add=function(p,h,y){var x=t.modals.indexOf(p),E=t.containers.indexOf(h);if(x!==-1)return x;if(x=t.modals.length,t.modals.push(p),t.hideSiblingNodes&&(0,t$.hideSiblings)(h,p.modalNode),E!==-1)return t.data[E].modals.push(p),x;var T={modals:[p],classes:y?y.split(/\s+/):[],overflowing:(0,pZt.default)(h)};return t.handleContainerOverflow&&gZt(T,h),T.classes.forEach(JOe.default.addClass.bind(null,h)),t.containers.push(h),t.data.push(T),x},this.remove=function(p){var h=t.modals.indexOf(p);if(h!==-1){var y=mZt(t.data,p),x=t.data[y],E=t.containers[y];x.modals.splice(x.modals.indexOf(p),1),t.modals.splice(h,1),x.modals.length===0?(x.classes.forEach(JOe.default.removeClass.bind(null,E)),t.handleContainerOverflow&&vZt(x,E),t.hideSiblingNodes&&(0,t$.showSiblings)(E,p.modalNode),t.containers.splice(y,1),t.data.splice(y,1)):t.hideSiblingNodes&&(0,t$.ariaHidden)(!1,x.modals[x.modals.length-1].modalNode)}},this.isTopModal=function(p){return!!t.modals.length&&t.modals[t.modals.length-1]===p},this.hideSiblingNodes=i,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]};Y3.default=yZt;eDe.exports=Y3.default});var cS=I((K3,rDe)=>{"use strict";K3.__esModule=!0;K3.default=wZt;var _Zt=Li(),bZt=xZt(_Zt);function xZt(e){return e&&e.__esModule?e:{default:e}}function wZt(e,t){return e=typeof e=="function"?e():e,bZt.default.findDOMNode(e)||t}rDe.exports=K3.default});var uDe=I((X3,lDe)=>{"use strict";X3.__esModule=!0;var SZt=Wt(),r$=b0(SZt),IZt=sS(),EZt=b0(IZt),TZt=Ue(),nDe=b0(TZt),CZt=Li(),iDe=b0(CZt),AZt=cS(),oDe=b0(AZt),MZt=$m(),aDe=b0(MZt);function b0(e){return e&&e.__esModule?e:{default:e}}function PZt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function OZt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n$=function(e){OZt(t,e);function t(){var r,n,i;PZt(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=sDe(this,e.call.apply(e,[this].concat(u))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,oDe.default)(n.props.container,(0,aDe.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var h=n.props.children?nDe.default.Children.only(n.props.children):null;if(h!==null){n._mountOverlayTarget();var y=!n._overlayInstance;n._overlayInstance=iDe.default.unstable_renderSubtreeIntoContainer(n,h,n._overlayTarget,function(){y&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(iDe.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),sDe(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,oDe.default)(n.container,(0,aDe.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(nDe.default.Component);n$.displayName="Portal";n$.propTypes={container:r$.default.oneOfType([EZt.default,r$.default.func]),onRendered:r$.default.func};X3.default=n$;lDe.exports=X3.default});var s$=I((J3,dDe)=>{"use strict";J3.__esModule=!0;var DZt=bc(),kZt=Uf(DZt),qZt=Wt(),i$=Uf(qZt),NZt=sS(),RZt=Uf(NZt),LZt=Ue(),zZt=Uf(LZt),FZt=Li(),o$=Uf(FZt),jZt=cS(),BZt=Uf(jZt),VZt=$m(),UZt=Uf(VZt),$Zt=uDe(),HZt=Uf($Zt);function Uf(e){return e&&e.__esModule?e:{default:e}}function WZt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function GZt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a$=function(e){GZt(t,e);function t(){var r,n,i;WZt(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=cDe(this,e.call.apply(e,[this].concat(u))),n),n.getMountNode=function(){return n._portalContainerNode},r),cDe(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(kZt.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!o$.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,BZt.default)(n,(0,UZt.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?o$.default.createPortal(this.props.children,this._portalContainerNode):null},t}(zZt.default.Component);a$.displayName="Portal";a$.propTypes={container:i$.default.oneOfType([RZt.default,i$.default.func]),onRendered:i$.default.func};J3.default=o$.default.createPortal?a$:HZt.default;dDe.exports=J3.default});var mDe=I((Q3,hDe)=>{"use strict";Q3.__esModule=!0;var ZZt=Wt(),YZt=pDe(ZZt),KZt=Ue(),XZt=pDe(KZt);function pDe(e){return e&&e.__esModule?e:{default:e}}function JZt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QZt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eYt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tYt={children:YZt.default.node},fDe=function(e){eYt(t,e);function t(){return JZt(this,t),QZt(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(XZt.default.Component);fDe.propTypes=tYt;Q3.default=fDe;hDe.exports=Q3.default});var vDe=I((eP,gDe)=>{"use strict";eP.__esModule=!0;eP.default=rYt;function rYt(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}gDe.exports=eP.default});var CDe=I((rP,TDe)=>{"use strict";rP.__esModule=!0;var xDe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nYt=sU(),l$=Go(nYt),iYt=h0(),wDe=Go(iYt),oYt=bc(),aYt=Go(oYt),sYt=Wt(),pi=Go(sYt),lYt=sS(),uYt=Go(lYt),cYt=NOe(),dYt=Go(cYt),pYt=Wo(),yDe=Go(pYt),SDe=Ue(),$f=Go(SDe),fYt=Li(),hYt=Go(fYt),mYt=Ff(),gYt=Go(mYt),vYt=tDe(),IDe=Go(vYt),yYt=s$(),EDe=Go(yYt),_Yt=mDe(),bYt=Go(_Yt),xYt=yU(),_De=Go(xYt),wYt=vDe(),SYt=Go(wYt),IYt=cS(),EYt=Go(IYt),TYt=$m(),u$=Go(TYt);function Go(e){return e&&e.__esModule?e:{default:e}}function CYt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AYt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MYt=new IDe.default,tP=function(e){AYt(t,e);function t(){var r,n,i;CYt(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=bDe(this,e.call.apply(e,[this].concat(u))),n),PYt.call(n),r),bDe(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),u={};return o.map(function(p){Object.prototype.hasOwnProperty.call(i,p)||(u[p]=n[p])}),u},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,u=n.children,p=n.transition,h=n.backdrop,y=n.className,x=n.style,E=n.onExit,T=n.onExiting,D=n.onEnter,z=n.onEntering,F=n.onEntered,q=$f.default.Children.only(u),N=this.omitProps(this.props,t.propTypes),B=i||p&&!this.state.exited;if(!B)return null;var Z=q.props,ee=Z.role,ae=Z.tabIndex;return(ee===void 0||ae===void 0)&&(q=(0,SDe.cloneElement)(q,{role:ee===void 0?"document":ee,tabIndex:ae==null?"-1":ae})),p&&(q=$f.default.createElement(p,{appear:!0,unmountOnExit:!0,in:i,onExit:E,onExiting:T,onExited:this.handleHidden,onEnter:D,onEntering:z,onEntered:F},q)),$f.default.createElement(EDe.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},$f.default.createElement("div",xDe({ref:this.setModalNodeRef,role:ee||"dialog"},N,{style:x,className:y}),h&&this.renderBackdrop(),$f.default.createElement(bYt.default,{ref:this.setDialogRef},q)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,l$.default)((0,u$.default)(this));n&&!(0,wDe.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,gYt.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return hYt.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}($f.default.Component);tP.propTypes=xDe({},EDe.default.propTypes,{show:pi.default.bool,container:pi.default.oneOfType([uYt.default,pi.default.func]),onShow:pi.default.func,onHide:pi.default.func,backdrop:pi.default.oneOfType([pi.default.bool,pi.default.oneOf(["static"])]),renderBackdrop:pi.default.func,onEscapeKeyDown:pi.default.func,onEscapeKeyUp:(0,dYt.default)(pi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:pi.default.func,backdropStyle:pi.default.object,backdropClassName:pi.default.string,containerClassName:pi.default.string,keyboard:pi.default.bool,transition:yDe.default,backdropTransition:yDe.default,autoFocus:pi.default.bool,enforceFocus:pi.default.bool,restoreFocus:pi.default.bool,onEnter:pi.default.func,onEntering:pi.default.func,onEntered:pi.default.func,onExit:pi.default.func,onExiting:pi.default.func,onExited:pi.default.func,manager:pi.default.object.isRequired});tP.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:MYt,renderBackdrop:function(t){return $f.default.createElement("div",t)}};var PYt=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,u=r.backdropTransition,p=function(x){return t.backdrop=x},h=o({ref:p,style:n,className:i,onClick:t.handleBackdropClick});return u&&(h=$f.default.createElement(u,{appear:!0,in:t.props.show},h)),h},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,u$.default)(t),n=(0,EYt.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,_De.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,_De.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,SYt.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){aYt.default&&(t.lastFocus=(0,l$.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,l$.default)((0,u$.default)(t));r&&!(0,wDe.default)(r,n)&&r.focus()}}};tP.Manager=IDe.default;rP.default=tP;TDe.exports=rP.default});var w$=I((lP,JDe)=>{"use strict";var x$=Zi();lP.__esModule=!0;lP.default=eKt;var XYt=x$(h0()),JYt=x$(lS()),QYt=x$(Vm());function eKt(e){var t=(0,QYt.default)(e),r=(0,JYt.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,XYt.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}JDe.exports=lP.default});var QDe=I((dOr,Rd)=>{function S$(){return Rd.exports=S$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.exports.__esModule=!0,Rd.exports.default=Rd.exports,S$.apply(this,arguments)}Rd.exports=S$,Rd.exports.__esModule=!0,Rd.exports.default=Rd.exports});var rke=I((uP,tke)=>{"use strict";var eke=Zi();uP.__esModule=!0;uP.default=iKt;var tKt=eke(Vm()),rKt=eke(h3());function nKt(e){return e.nodeName&&e.nodeName.toLowerCase()}function iKt(e){for(var t=(0,tKt.default)(e),r=e&&e.offsetParent;r&&nKt(e)!=="html"&&(0,rKt.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}tke.exports=uP.default});var I$=I((cP,nke)=>{"use strict";var oKt=Zi();cP.__esModule=!0;cP.default=sKt;var aKt=oKt(lS());function sKt(e,t){var r=(0,aKt.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}nke.exports=cP.default});var oke=I((dP,ike)=>{"use strict";var lKt=Zi();dP.__esModule=!0;dP.default=cKt;var uKt=lKt(lS());function cKt(e,t){var r=(0,uKt.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}ike.exports=dP.default});var lke=I((pP,ske)=>{"use strict";var I0=Zi();pP.__esModule=!0;pP.default=gKt;var dKt=I0(QDe()),ake=I0(w$()),pKt=I0(rke()),fKt=I0(I$()),hKt=I0(oke()),hS=I0(h3());function mKt(e){return e.nodeName&&e.nodeName.toLowerCase()}function gKt(e,t){var r={top:0,left:0},n;return(0,hS.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,pKt.default)(e),n=(0,ake.default)(e),mKt(t)!=="html"&&(r=(0,ake.default)(t)),r.top+=parseInt((0,hS.default)(t,"borderTopWidth"),10)-(0,fKt.default)(t)||0,r.left+=parseInt((0,hS.default)(t,"borderLeftWidth"),10)-(0,hKt.default)(t)||0),(0,dKt.default)({},n,{top:n.top-r.top-(parseInt((0,hS.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,hS.default)(e,"marginLeft"),10)||0)})}ske.exports=pP.default});var dke=I((hP,cke)=>{"use strict";hP.__esModule=!0;hP.default=EKt;var vKt=w$(),T$=fP(vKt),yKt=lke(),_Kt=fP(yKt),bKt=I$(),E$=fP(bKt),xKt=$m(),wKt=fP(xKt);function fP(e){return e&&e.__esModule?e:{default:e}}function uke(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,E$.default)((0,wKt.default)(e).documentElement)||(0,E$.default)(e);else{var i=(0,T$.default)(e);t=i.width,r=i.height,n=(0,E$.default)(e)}return{width:t,height:r,scroll:n}}function SKt(e,t,r,n){var i=uke(r),o=i.scroll,u=i.height,p=e-n-o,h=e+n-o+t;return p<0?-p:h>u?u-h:0}function IKt(e,t,r,n){var i=uke(r),o=i.width,u=e-n,p=e+n+t;return u<0?-u:p>o?o-p:0}function EKt(e,t,r,n,i){var o=n.tagName==="BODY"?(0,T$.default)(r):(0,_Kt.default)(r,n),u=(0,T$.default)(t),p=u.height,h=u.width,y=void 0,x=void 0,E=void 0,T=void 0;if(e==="left"||e==="right"){x=o.top+(o.height-p)/2,e==="left"?y=o.left-h:y=o.left+o.width;var D=SKt(x,p,n,i);x+=D,T=50*(1-2*D/p)+"%",E=void 0}else if(e==="top"||e==="bottom"){y=o.left+(o.width-h)/2,e==="top"?x=o.top-p:x=o.top+o.height;var z=IKt(y,h,n,i);y+=z,E=50*(1-2*z/h)+"%",T=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:y,positionTop:x,arrowOffsetLeft:E,arrowOffsetTop:T}}cke.exports=hP.default});var _ke=I((gP,yke)=>{"use strict";gP.__esModule=!0;var pke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TKt=Yr(),CKt=Wf(TKt),AKt=Wt(),Wm=Wf(AKt),MKt=sS(),fke=Wf(MKt),vke=Ue(),hke=Wf(vke),PKt=Li(),mke=Wf(PKt),OKt=dke(),DKt=Wf(OKt),kKt=cS(),qKt=Wf(kKt),NKt=$m(),RKt=Wf(NKt);function Wf(e){return e&&e.__esModule?e:{default:e}}function gke(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function LKt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zKt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FKt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mP=function(e){FKt(t,e);function t(r,n){LKt(this,t);var i=zKt(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,u=typeof o=="function"?o():o;return u&&mke.default.findDOMNode(u)||null},i.maybeUpdatePosition=function(o){var u=i.getTarget();!i.props.shouldUpdatePosition&&u===i._lastTarget&&!o||i.updatePosition(u)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,u=gke(n,["children","className"]),p=this.state,h=p.positionLeft,y=p.positionTop,x=gke(p,["positionLeft","positionTop"]);delete u.target,delete u.container,delete u.containerPadding,delete u.shouldUpdatePosition;var E=hke.default.Children.only(i);return(0,vke.cloneElement)(E,pke({},u,x,{positionLeft:h,positionTop:y,className:(0,CKt.default)(o,E.props.className),style:pke({},E.props.style,{left:h,top:y})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=mke.default.findDOMNode(this),o=(0,qKt.default)(this.props.container,(0,RKt.default)(this).body);this.setState((0,DKt.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(hke.default.Component);mP.propTypes={target:Wm.default.oneOfType([fke.default,Wm.default.func]),container:Wm.default.oneOfType([fke.default,Wm.default.func]),containerPadding:Wm.default.number,placement:Wm.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:Wm.default.bool};mP.displayName="Position";mP.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};gP.default=mP;yke.exports=gP.default});var Eke=I((vP,Ike)=>{"use strict";vP.__esModule=!0;var jKt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BKt=Wt(),Ld=E0(BKt),VKt=Wo(),UKt=E0(VKt),$Kt=Ue(),mS=E0($Kt),HKt=s$(),bke=E0(HKt),WKt=_ke(),xke=E0(WKt),GKt=bU(),wke=E0(GKt);function E0(e){return e&&e.__esModule?e:{default:e}}function ZKt(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function YKt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KKt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XKt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ske=function(e){XKt(t,e);function t(r,n){YKt(this,t);var i=KKt(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,u=n.target,p=n.placement,h=n.shouldUpdatePosition,y=n.rootClose,x=n.children,E=n.transition,T=ZKt(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),D=T.show||E&&!this.state.exited;if(!D)return null;var z=x;if(z=mS.default.createElement(xke.default,{container:i,containerPadding:o,target:u,placement:p,shouldUpdatePosition:h},z),E){var F=T.onExit,q=T.onExiting,N=T.onEnter,B=T.onEntering,Z=T.onEntered;z=mS.default.createElement(E,{in:T.show,appear:!0,onExit:F,onExiting:q,onExited:this.onHiddenListener,onEnter:N,onEntering:B,onEntered:Z},z)}return y&&(z=mS.default.createElement(wke.default,{onRootClose:T.onHide,event:T.rootCloseEvent},z)),mS.default.createElement(bke.default,{container:i},z)},t}(mS.default.Component);Ske.propTypes=jKt({},bke.default.propTypes,xke.default.propTypes,{show:Ld.default.bool,rootClose:Ld.default.bool,rootCloseEvent:wke.default.propTypes.event,onHide:function(t){var r=Ld.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:UKt.default,onEnter:Ld.default.func,onEntering:Ld.default.func,onEntered:Ld.default.func,onExit:Ld.default.func,onExiting:Ld.default.func,onExited:Ld.default.func});vP.default=Ske;Ike.exports=vP.default});var Tqe=I((Uqr,Eqe)=>{"use strict";Eqe.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Oqe=I(($qr,Pqe)=>{"use strict";var Mqe="%[a-f0-9]{2}",Cqe=new RegExp("("+Mqe+")|([^%]+?)","gi"),Aqe=new RegExp("("+Mqe+")+","gi");function J$(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],J$(r),J$(n))}function bJt(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(Cqe)||[],r=1;r<t.length;r++)e=J$(t,r).join(""),t=e.match(Cqe)||[];return e}}function xJt(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Aqe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(p){var n=bJt(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Aqe.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}Pqe.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return xJt(e)}}});var kqe=I((Hqr,Dqe)=>{"use strict";Dqe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var Nqe=I((Wqr,qqe)=>{"use strict";qqe.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var u=n[o],p=e[u];(i?t.indexOf(u)!==-1:t(u,p,e))&&(r[u]=p)}return r}});var Uqe=I(As=>{"use strict";var wJt=Tqe(),SJt=Oqe(),Lqe=kqe(),IJt=Nqe(),EJt=e=>e==null,Q$=Symbol("encodeFragmentIdentifier");function TJt(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Yi(t,e),"[",i,"]"].join("")]:[...r,[Yi(t,e),"[",Yi(i,e),"]=",Yi(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Yi(t,e),"[]"].join("")]:[...r,[Yi(t,e),"[]=",Yi(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Yi(t,e),":list="].join("")]:[...r,[Yi(t,e),":list=",Yi(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[Yi(r,e),t,Yi(i,e)].join("")]:[[n,Yi(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,Yi(t,e)]:[...r,[Yi(t,e),"=",Yi(n,e)].join("")];}}function CJt(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),u=typeof n=="string"&&!o&&jd(n,e).includes(e.arrayFormatSeparator);n=u?jd(n,e):n;let p=o||u?n.split(e.arrayFormatSeparator).map(h=>jd(h,e)):n===null?n:jd(n,e);i[r]=p};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&jd(n,e);return}let u=n===null?[]:n.split(e.arrayFormatSeparator).map(p=>jd(p,e));if(i[r]===void 0){i[r]=u;return}i[r]=[].concat(i[r],u)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)};}}function zqe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Yi(e,t){return t.encode?t.strict?wJt(e):encodeURIComponent(e):e}function jd(e,t){return t.decode?SJt(e):e}function Fqe(e){return Array.isArray(e)?e.sort():typeof e=="object"?Fqe(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function jqe(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function AJt(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Bqe(e){e=jqe(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Rqe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function Vqe(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),zqe(t.arrayFormatSeparator);let r=CJt(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,u]=Lqe(t.decode?i.replace(/\+/g," "):i,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:jd(u,t),r(jd(o,t),u,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let u of Object.keys(o))o[u]=Rqe(o[u],t);else n[i]=Rqe(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let u=n[o];return u&&typeof u=="object"&&!Array.isArray(u)?i[o]=Fqe(u):i[o]=u,i},Object.create(null))}As.extract=Bqe;As.parse=Vqe;As.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),zqe(t.arrayFormatSeparator);let r=u=>t.skipNull&&EJt(e[u])||t.skipEmptyString&&e[u]==="",n=TJt(t),i={};for(let u of Object.keys(e))r(u)||(i[u]=e[u]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(u=>{let p=e[u];return p===void 0?"":p===null?Yi(u,t):Array.isArray(p)?p.length===0&&t.arrayFormat==="bracket-separator"?Yi(u,t)+"[]":p.reduce(n(u),[]).join("&"):Yi(u,t)+"="+Yi(p,t)}).filter(u=>u.length>0).join("&")};As.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=Lqe(e,"#");return Object.assign({url:r.split("?")[0]||"",query:Vqe(Bqe(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:jd(n,t)}:{})};As.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[Q$]:!0},t);let r=jqe(e.url).split("?")[0]||"",n=As.extract(e.url),i=As.parse(n,{sort:!1}),o=Object.assign(i,e.query),u=As.stringify(o,t);u&&(u=`?${u}`);let p=AJt(e.url);return e.fragmentIdentifier&&(p=`#${t[Q$]?Yi(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${u}${p}`};As.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[Q$]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=As.parseUrl(e,r);return As.stringifyUrl({url:n,query:IJt(i,t),fragmentIdentifier:o},r)};As.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return As.pick(e,n,r)}});var vNe=I((WRr,Bd)=>{function nH(e,t){return Bd.exports=nH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bd.exports.__esModule=!0,Bd.exports.default=Bd.exports,nH(e,t)}Bd.exports=nH,Bd.exports.__esModule=!0,Bd.exports.default=Bd.exports});var iH=I((GRr,NS)=>{var JJt=vNe();function QJt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,JJt(e,t)}NS.exports=QJt,NS.exports.__esModule=!0,NS.exports.default=NS.exports});var aH=I(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0});function eQt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tQt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var rQt=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=tQt(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var p=eQt(u);try{var h=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;p.insertRule(n,h?0:p.cssRules.length)}catch(y){}}else u.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();oH.StyleSheet=rQt});var yNe=I(sH=>{"use strict";Object.defineProperty(sH,"__esModule",{value:!0});function nQt(e){function t(je,Ge,at,De,he){for(var qe=0,Te=0,Ke=0,Ze=0,St,It,Dt=0,we=0,ft,$t=ft=St=0,gt=0,Ht=0,dr=0,Vt=0,pr=at.length,$r=pr-1,jr,sr="",Qr="",st="",fi="",_n;gt<pr;){if(It=at.charCodeAt(gt),gt===$r&&Te+Ze+Ke+qe!==0&&(Te!==0&&(It=Te===47?10:47),Ze=Ke=qe=0,pr++,$r++),Te+Ze+Ke+qe===0){if(gt===$r&&(0<Ht&&(sr=sr.replace(T,"")),0<sr.trim().length)){switch(It){case 32:case 9:case 59:case 13:case 10:break;default:sr+=at.charAt(gt);}It=59}switch(It){case 123:for(sr=sr.trim(),St=sr.charCodeAt(0),ft=1,Vt=++gt;gt<pr;){switch(It=at.charCodeAt(gt)){case 123:ft++;break;case 125:ft--;break;case 47:switch(It=at.charCodeAt(gt+1)){case 42:case 47:e:{for($t=gt+1;$t<$r;++$t)switch(at.charCodeAt($t)){case 47:if(It===42&&at.charCodeAt($t-1)===42&&gt+2!==$t){gt=$t+1;break e}break;case 10:if(It===47){gt=$t+1;break e}}gt=$t}}break;case 91:It++;case 40:It++;case 34:case 39:for(;gt++<$r&&at.charCodeAt(gt)!==It;);}if(ft===0)break;gt++}switch(ft=at.substring(Vt,gt),St===0&&(St=(sr=sr.replace(E,"").trim()).charCodeAt(0)),St){case 64:switch(0<Ht&&(sr=sr.replace(T,"")),It=sr.charCodeAt(1),It){case 100:case 109:case 115:case 45:Ht=Ge;break;default:Ht=Be;}if(ft=t(Ge,Ht,ft,It,he+1),Vt=ft.length,0<Pe&&(Ht=r(Be,sr,dr),_n=p(3,ft,Ht,Ge,Re,He,Vt,It,he,De),sr=Ht.join(""),_n!==void 0&&(Vt=(ft=_n.trim()).length)===0&&(It=0,ft="")),0<Vt)switch(It){case 115:sr=sr.replace(ue,u);case 100:case 109:case 45:ft=sr+"{"+ft+"}";break;case 107:sr=sr.replace(B,"$1 $2"),ft=sr+"{"+ft+"}",ft=ot===1||ot===2&&o("@"+ft,3)?"@-webkit-"+ft+"@"+ft:"@"+ft;break;default:ft=sr+ft,De===112&&(ft=(Qr+=ft,""));}else ft="";break;default:ft=t(Ge,r(Ge,sr,dr),ft,De,he+1);}st+=ft,ft=dr=Ht=$t=St=0,sr="",It=at.charCodeAt(++gt);break;case 125:case 59:if(sr=(0<Ht?sr.replace(T,""):sr).trim(),1<(Vt=sr.length))switch($t===0&&(St=sr.charCodeAt(0),St===45||96<St&&123>St)&&(Vt=(sr=sr.replace(" ",":")).length),0<Pe&&(_n=p(1,sr,Ge,je,Re,He,Qr.length,De,he,De))!==void 0&&(Vt=(sr=_n.trim()).length)===0&&(sr="\0\0"),St=sr.charCodeAt(0),It=sr.charCodeAt(1),St){case 0:break;case 64:if(It===105||It===99){fi+=sr+at.charAt(gt);break}default:sr.charCodeAt(Vt-1)!==58&&(Qr+=i(sr,St,It,sr.charCodeAt(2)));}dr=Ht=$t=St=0,sr="",It=at.charCodeAt(++gt);}}switch(It){case 13:case 10:Te===47?Te=0:1+St===0&&De!==107&&0<sr.length&&(Ht=1,sr+="\0"),0<Pe*lt&&p(0,sr,Ge,je,Re,He,Qr.length,De,he,De),He=1,Re++;break;case 59:case 125:if(Te+Ze+Ke+qe===0){He++;break}default:switch(He++,jr=at.charAt(gt),It){case 9:case 32:if(Ze+qe+Te===0)switch(Dt){case 44:case 58:case 9:case 32:jr="";break;default:It!==32&&(jr=" ");}break;case 0:jr="\\0";break;case 12:jr="\\f";break;case 11:jr="\\v";break;case 38:Ze+Te+qe===0&&(Ht=dr=1,jr="\f"+jr);break;case 108:if(Ze+Te+qe+Je===0&&0<$t)switch(gt-$t){case 2:Dt===112&&at.charCodeAt(gt-3)===58&&(Je=Dt);case 8:we===111&&(Je=we);}break;case 58:Ze+Te+qe===0&&($t=gt);break;case 44:Te+Ke+Ze+qe===0&&(Ht=1,jr+="\r");break;case 34:case 39:Te===0&&(Ze=Ze===It?0:Ze===0?It:Ze);break;case 91:Ze+Te+Ke===0&&qe++;break;case 93:Ze+Te+Ke===0&&qe--;break;case 41:Ze+Te+qe===0&&Ke--;break;case 40:if(Ze+Te+qe===0){if(St===0)switch(2*Dt+3*we){case 533:break;default:St=1;}Ke++}break;case 64:Te+Ke+Ze+qe+$t+ft===0&&(ft=1);break;case 42:case 47:if(!(0<Ze+qe+Ke))switch(Te){case 0:switch(2*It+3*at.charCodeAt(gt+1)){case 235:Te=47;break;case 220:Vt=gt,Te=42;}break;case 42:It===47&&Dt===42&&Vt+2!==gt&&(at.charCodeAt(Vt+2)===33&&(Qr+=at.substring(Vt,gt+1)),jr="",Te=0);}}Te===0&&(sr+=jr);}we=Dt,Dt=It,gt++}if(Vt=Qr.length,0<Vt){if(Ht=Ge,0<Pe&&(_n=p(2,Qr,Ht,je,Re,He,Vt,De,he,De),_n!==void 0&&(Qr=_n).length===0))return fi+Qr+st;if(Qr=Ht.join(",")+"{"+Qr+"}",ot*Je!==0){switch(ot!==2||o(Qr,2)||(Je=0),Je){case 111:Qr=Qr.replace(ee,":-moz-$1")+Qr;break;case 112:Qr=Qr.replace(Z,"::-webkit-input-$1")+Qr.replace(Z,"::-moz-$1")+Qr.replace(Z,":-ms-input-$1")+Qr;}Je=0}}return fi+Qr+st}function r(je,Ge,at){var De=Ge.trim().split(q);Ge=De;var he=De.length,qe=je.length;switch(qe){case 0:case 1:var Te=0;for(je=qe===0?"":je[0]+" ";Te<he;++Te)Ge[Te]=n(je,Ge[Te],at).trim();break;default:var Ke=Te=0;for(Ge=[];Te<he;++Te)for(var Ze=0;Ze<qe;++Ze)Ge[Ke++]=n(je[Ze]+" ",De[Te],at).trim();}return Ge}function n(je,Ge,at){var De=Ge.charCodeAt(0);switch(33>De&&(De=(Ge=Ge.trim()).charCodeAt(0)),De){case 38:return Ge.replace(N,"$1"+je.trim());case 58:return je.trim()+Ge.replace(N,"$1"+je.trim());default:if(0<1*at&&0<Ge.indexOf("\f"))return Ge.replace(N,(je.charCodeAt(0)===58?"":"$1")+je.trim());}return je+Ge}function i(je,Ge,at,De){var he=je+";",qe=2*Ge+3*at+4*De;if(qe===944){je=he.indexOf(":",9)+1;var Te=he.substring(je,he.length-1).trim();return Te=he.substring(0,je).trim()+Te+";",ot===1||ot===2&&o(Te,1)?"-webkit-"+Te+Te:Te}if(ot===0||ot===2&&!o(he,1))return he;switch(qe){case 1015:return he.charCodeAt(10)===97?"-webkit-"+he+he:he;case 951:return he.charCodeAt(3)===116?"-webkit-"+he+he:he;case 963:return he.charCodeAt(5)===110?"-webkit-"+he+he:he;case 1009:if(he.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+he+he;case 978:return"-webkit-"+he+"-moz-"+he+he;case 1019:case 983:return"-webkit-"+he+"-moz-"+he+"-ms-"+he+he;case 883:if(he.charCodeAt(8)===45)return"-webkit-"+he+he;if(0<he.indexOf("image-set(",11))return he.replace($e,"$1-webkit-$2")+he;break;case 932:if(he.charCodeAt(4)===45)switch(he.charCodeAt(5)){case 103:return"-webkit-box-"+he.replace("-grow","")+"-webkit-"+he+"-ms-"+he.replace("grow","positive")+he;case 115:return"-webkit-"+he+"-ms-"+he.replace("shrink","negative")+he;case 98:return"-webkit-"+he+"-ms-"+he.replace("basis","preferred-size")+he;}return"-webkit-"+he+"-ms-"+he+he;case 964:return"-webkit-"+he+"-ms-flex-"+he+he;case 1023:if(he.charCodeAt(8)!==99)break;return Te=he.substring(he.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Te+"-webkit-"+he+"-ms-flex-pack"+Te+he;case 1005:return z.test(he)?he.replace(D,":-webkit-")+he.replace(D,":-moz-")+he:he;case 1e3:switch(Te=he.substring(13).trim(),Ge=Te.indexOf("-")+1,Te.charCodeAt(0)+Te.charCodeAt(Ge)){case 226:Te=he.replace(ae,"tb");break;case 232:Te=he.replace(ae,"tb-rl");break;case 220:Te=he.replace(ae,"lr");break;default:return he;}return"-webkit-"+he+"-ms-"+Te+he;case 1017:if(he.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(he=je).length-10,Te=(he.charCodeAt(Ge)===33?he.substring(0,Ge):he).substring(je.indexOf(":",7)+1).trim(),qe=Te.charCodeAt(0)+(Te.charCodeAt(7)|0)){case 203:if(111>Te.charCodeAt(8))break;case 115:he=he.replace(Te,"-webkit-"+Te)+";"+he;break;case 207:case 102:he=he.replace(Te,"-webkit-"+(102<qe?"inline-":"")+"box")+";"+he.replace(Te,"-webkit-"+Te)+";"+he.replace(Te,"-ms-"+Te+"box")+";"+he;}return he+";";case 938:if(he.charCodeAt(5)===45)switch(he.charCodeAt(6)){case 105:return Te=he.replace("-items",""),"-webkit-"+he+"-webkit-box-"+Te+"-ms-flex-"+Te+he;case 115:return"-webkit-"+he+"-ms-flex-item-"+he.replace(Oe,"")+he;default:return"-webkit-"+he+"-ms-flex-line-pack"+he.replace("align-content","").replace(Oe,"")+he;}break;case 973:case 989:if(he.charCodeAt(3)!==45||he.charCodeAt(4)===122)break;case 931:case 953:if(ze.test(je)===!0)return(Te=je.substring(je.indexOf(":")+1)).charCodeAt(0)===115?i(je.replace("stretch","fill-available"),Ge,at,De).replace(":fill-available",":stretch"):he.replace(Te,"-webkit-"+Te)+he.replace(Te,"-moz-"+Te.replace("fill-",""))+he;break;case 962:if(he="-webkit-"+he+(he.charCodeAt(5)===102?"-ms-"+he:"")+he,at+De===211&&he.charCodeAt(13)===105&&0<he.indexOf("transform",10))return he.substring(0,he.indexOf(";",27)+1).replace(F,"$1-webkit-$2")+he;}return he}function o(je,Ge){var at=je.indexOf(Ge===1?":":"{"),De=je.substring(0,Ge!==3?at:10);return at=je.substring(at+1,je.length-1),Qe(Ge!==2?De:De.replace(be,"$1"),at,Ge)}function u(je,Ge){var at=i(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return at!==Ge+";"?at.replace(ve," or ($1)").substring(4):"("+Ge+")"}function p(je,Ge,at,De,he,qe,Te,Ke,Ze,St){for(var It=0,Dt=Ge,we;It<Pe;++It)switch(we=Le[It].call(x,je,Dt,at,De,he,qe,Te,Ke,Ze,St)){case void 0:case!1:case!0:case null:break;default:Dt=we;}if(Dt!==Ge)return Dt}function h(je){switch(je){case void 0:case null:Pe=Le.length=0;break;default:if(typeof je=="function")Le[Pe++]=je;else if(typeof je=="object")for(var Ge=0,at=je.length;Ge<at;++Ge)h(je[Ge]);else lt=!!je|0;}return h}function y(je){return je=je.prefix,je!==void 0&&(Qe=null,je?typeof je!="function"?ot=1:(ot=2,Qe=je):ot=0),y}function x(je,Ge){var at=je;if(33>at.charCodeAt(0)&&(at=at.trim()),pt=at,at=[pt],0<Pe){var De=p(-1,Ge,at,at,Re,He,0,0,0,0);De!==void 0&&typeof De=="string"&&(Ge=De)}var he=t(Be,at,Ge,0,0);return 0<Pe&&(De=p(-2,he,at,at,Re,He,he.length,0,0,0),De!==void 0&&(he=De)),pt="",Je=0,He=Re=1,he}var E=/^\0+/g,T=/[\0\r\f]/g,D=/: */g,z=/zoo|gra/,F=/([,: ])(transform)/g,q=/,\r+?/g,N=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,Z=/::(place)/g,ee=/:(read-only)/g,ae=/[svh]\w+-[tblr]{2}/,ue=/\(\s*(.*)\s*\)/g,ve=/([\s\S]*?);/g,Oe=/-self|flex-/g,be=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ze=/stretch|:\s*\w+\-(?:conte|avail)/,$e=/([^-])(image-set\()/,He=1,Re=1,Je=0,ot=1,Be=[],Le=[],Pe=0,Qe=null,lt=0,pt="";return x.use=h,x.set=y,e!==void 0&&y(e),x}sH.default=nQt});var _Ne=I(lH=>{"use strict";Object.defineProperty(lH,"__esModule",{value:!0});var iQt=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};lH.default=iQt});var dH=I(cH=>{"use strict";Object.defineProperty(cH,"__esModule",{value:!0});function oQt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var aQt=aH(),sQt=oQt(yNe());_Ne();var uH="/*|*/",lQt=uH+"}";function uQt(e){e&&HP.current.insert(e+"}")}var HP={current:null},cQt=function(t,r,n,i,o,u,p,h,y,x){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return HP.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return"";}break}case 2:{if(h===0)return r+uH;break}case 3:switch(h){case 102:case 112:return HP.current.insert(n[0]+r),"";default:return r+(x===0?uH:"");}case-2:r.split(lQt).forEach(uQt);}},dQt=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new sQt(n),o={},u;{u=t.container||document.head;var p=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(p,function(T){var D=T.getAttribute("data-emotion-"+r);D.split(" ").forEach(function(z){o[z]=!0}),T.parentNode!==u&&u.appendChild(T)})}var h;if(i.use(t.stylisPlugins)(cQt),h=function(D,z,F,q){var N=z.name;if(HP.current=F,0)var B;i(D,z.styles),q&&(E.inserted[N]=!0)},0)var y,x;var E={key:r,sheet:new aQt.StyleSheet({key:r,container:u,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:h};return E};cH.default=dQt});var pH=I(WP=>{"use strict";Object.defineProperty(WP,"__esModule",{value:!0});var pQt=!0;function fQt(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var hQt=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||pQt===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var u=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};WP.getRegisteredStyles=fQt;WP.insertStyles=hQt});var bNe=I(fH=>{"use strict";Object.defineProperty(fH,"__esModule",{value:!0});function mQt(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16);}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}fH.default=mQt});var xNe=I(hH=>{"use strict";Object.defineProperty(hH,"__esModule",{value:!0});var gQt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};hH.default=gQt});var wNe=I(mH=>{"use strict";Object.defineProperty(mH,"__esModule",{value:!0});function vQt(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}mH.default=vQt});var GP=I(yH=>{"use strict";Object.defineProperty(yH,"__esModule",{value:!0});function vH(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var yQt=vH(bNe()),_Qt=vH(xNe()),bQt=vH(wNe()),xQt=/[A-Z]|^ms/g,wQt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TNe=function(t){return t.charCodeAt(1)===45},SNe=function(t){return t!=null&&typeof t!="boolean"},gH=bQt(function(e){return TNe(e)?e:e.replace(xQt,"-$&").toLowerCase()}),INe=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(wQt,function(n,i,o){return Ec={name:i,styles:o,next:Ec},i});}return _Qt[t]!==1&&!TNe(t)&&typeof r=="number"&&r!==0?r+"px":r};function RS(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ec={name:r.name,styles:r.styles,next:Ec},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Ec={name:i.name,styles:i.styles,next:Ec},i=i.next;var o=r.styles+";";return o}return SQt(e,t,r)}case"function":{if(e!==void 0){var u=Ec,p=r(e);return Ec=u,RS(e,t,p,n)}break}case"string":if(0)var h,y;break;}if(t==null)return r;var x=t[r];return x!==void 0&&!n?x:r}function SQt(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=RS(e,t,r[i],!1);else for(var o in r){var u=r[o];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=o+"{"+t[u]+"}":SNe(u)&&(n+=gH(o)+":"+INe(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var p=0;p<u.length;p++)SNe(u[p])&&(n+=gH(o)+":"+INe(o,u[p])+";");else{var h=RS(e,t,u,!1);switch(o){case"animation":case"animationName":{n+=gH(o)+":"+h+";";break}default:n+=o+"{"+h+"}";}}}return n}var ENe=/label:\s*([^\s;\n{]+)\s*;/g,Ec,IQt=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Ec=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,o+=RS(n,r,u,!1)):o+=u[0];for(var p=1;p<t.length;p++)o+=RS(n,r,t[p],o.charCodeAt(o.length-1)===46),i&&(o+=u[p]);var h;ENe.lastIndex=0;for(var y="",x;(x=ENe.exec(o))!==null;)y+="-"+x[1];var E=yQt(o)+y;return{name:E,styles:o,next:Ec}};yH.serializeStyles=IQt});var DNe=I(Km=>{"use strict";iH();var Vd=Ue(),EQt=dH(),CNe=pH(),TQt=GP();function CQt(e){return e&&e.__esModule?e:{default:e}}var AQt=CQt(EQt),bH=Object.prototype.hasOwnProperty,MNe=Vd.createContext(typeof HTMLElement!="undefined"?AQt.default():null),PNe=Vd.createContext({}),MQt=MNe.Provider,ONe=function(t){var r=function(i,o){return Vd.createElement(MNe.Consumer,null,function(u){return t(i,u,o)})};return Vd.forwardRef(r)},_H="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",PQt=function(t,r){var n={};for(var i in r)bH.call(r,i)&&(n[i]=r[i]);if(n[_H]=t,0){var o;if(o.stack)var u}return n},OQt=function(){return null},ANe=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var u=r[_H],p=[o],h="";typeof r.className=="string"?h=CNe.getRegisteredStyles(t.registered,p,r.className):r.className!=null&&(h=r.className+" ");var y=TQt.serializeStyles(p);if(0)var x;var E=CNe.insertStyles(t,y,typeof u=="string");h+=t.key+"-"+y.name;var T={};for(var D in r)bH.call(r,D)&&D!=="css"&&D!==_H&&(T[D]=r[D]);T.ref=i,T.className=h;var z=Vd.createElement(u,T),F=Vd.createElement(OQt,null);return Vd.createElement(Vd.Fragment,null,F,z)},DQt=ONe(function(e,t,r){return typeof e.css=="function"?Vd.createElement(PNe.Consumer,null,function(n){return ANe(t,e,n,r)}):ANe(t,e,null,r)});Km.CacheProvider=MQt;Km.Emotion=DQt;Km.ThemeContext=PNe;Km.createEmotionProps=PQt;Km.hasOwnProperty=bH;Km.withEmotionCache=ONe});var kNe=I(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});var kQt=GP();function qQt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return kQt.serializeStyles(t)}xH.default=qQt});var zNe=I(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var NQt=iH(),Tc=Ue();dH();var Cc=DNe(),SH=pH(),wH=GP(),RQt=aH(),LQt=kNe();function NNe(e){return e&&e.__esModule?e:{default:e}}var zQt=NNe(NQt),RNe=NNe(LQt),LNe=function(t,r){var n=arguments;if(r==null||!Cc.hasOwnProperty.call(r,"css"))return Tc.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Cc.Emotion,o[1]=Cc.createEmotionProps(t,r);for(var u=2;u<i;u++)o[u]=n[u];return Tc.createElement.apply(null,o)},FQt=Cc.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Tc.createElement(Cc.ThemeContext.Consumer,null,function(i){var o=wH.serializeStyles([r(i)]);return Tc.createElement(qNe,{serialized:o,cache:t})});var n=wH.serializeStyles([r]);return Tc.createElement(qNe,{serialized:n,cache:t})}),qNe=function(e){zQt.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new RQt.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&SH.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Tc.Component),jQt=function(){var t=RNe.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},BQt=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var u=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))u=e(o);else{u="";for(var p in o)o[p]&&p&&(u&&(u+=" "),u+=p)}break}default:u=o;}u&&(i&&(i+=" "),i+=u)}}return i};function VQt(e,t,r){var n=[],i=SH.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var UQt=function(){return null},$Qt=Cc.withEmotionCache(function(e,t){return Tc.createElement(Cc.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var x=arguments.length,E=new Array(x),T=0;T<x;T++)E[T]=arguments[T];var D=wH.serializeStyles(E,t.registered);return SH.insertStyles(t,D,!1),t.key+"-"+D.name},o=function(){for(var x=arguments.length,E=new Array(x),T=0;T<x;T++)E[T]=arguments[T];return VQt(t.registered,i,BQt(E))},u={css:i,cx:o,theme:r},p=e.children(u);n=!0;var h=Tc.createElement(UQt,null);return Tc.createElement(Tc.Fragment,null,h,p)})});Mu.CacheProvider=Cc.CacheProvider;Mu.ThemeContext=Cc.ThemeContext;Mu.withEmotionCache=Cc.withEmotionCache;Object.defineProperty(Mu,"css",{enumerable:!0,get:function(){return RNe.default}});Mu.ClassNames=$Qt;Mu.Global=FQt;Mu.createElement=LNe;Mu.jsx=LNe;Mu.keyframes=jQt});var IH=I(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=$Ne;Pu.skeletonStyles=Pu.skeletonKeyframes=Pu.defaultHighlightColor=Pu.defaultBaseColor=void 0;var aLr=HQt(Ue()),q0=zNe();function HQt(e){return e&&e.__esModule?e:{default:e}}function FNe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WQt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FNe(r,!0).forEach(function(n){GQt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FNe(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(){var e=ZQt([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return jNe=function(){return e},e}function ZQt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZP="#eee";Pu.defaultBaseColor=ZP;var BNe="#f5f5f5";Pu.defaultHighlightColor=BNe;var VNe=function(t,r){return(0,q0.keyframes)(jNe(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Pu.skeletonKeyframes=VNe;var UNe=(0,q0.css)("background-color:",ZP,";background-image:linear-gradient( 90deg,",ZP,",",BNe,",",ZP," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Pu.skeletonStyles=UNe;function $Ne(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,u=e.circle,p=e.delay,h=e.style,y=e.className,x=[],E=0;E<t;E++){var T={};n!==null&&(T.width=n),o!==null&&(T.height=o),n!==null&&o!==null&&u&&(T.borderRadius="50%");var D="react-loading-skeleton";y&&(D+=" "+y),x.push((0,q0.jsx)("span",{key:E,className:D,css:(0,q0.css)(UNe," animation:",VNe(r,p)," ",r+p,"s ease-in-out infinite;label:Skeleton;"),style:WQt({},h,{},T)},"\u200C"))}return(0,q0.jsx)("span",null,i?x.map(function(z,F){return(0,q0.jsx)(i,{key:F},z,"\u200C")}):x)}$Ne.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var kRe=I(Hn=>{"use strict";var Po=typeof Symbol=="function"&&Symbol.for,tW=Po?Symbol.for("react.element"):60103,rW=Po?Symbol.for("react.portal"):60106,l4=Po?Symbol.for("react.fragment"):60107,u4=Po?Symbol.for("react.strict_mode"):60108,c4=Po?Symbol.for("react.profiler"):60114,d4=Po?Symbol.for("react.provider"):60109,p4=Po?Symbol.for("react.context"):60110,nW=Po?Symbol.for("react.async_mode"):60111,f4=Po?Symbol.for("react.concurrent_mode"):60111,h4=Po?Symbol.for("react.forward_ref"):60112,m4=Po?Symbol.for("react.suspense"):60113,der=Po?Symbol.for("react.suspense_list"):60120,g4=Po?Symbol.for("react.memo"):60115,v4=Po?Symbol.for("react.lazy"):60116,per=Po?Symbol.for("react.block"):60121,fer=Po?Symbol.for("react.fundamental"):60117,her=Po?Symbol.for("react.responder"):60118,mer=Po?Symbol.for("react.scope"):60119;function al(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tW:switch(e=e.type,e){case nW:case f4:case l4:case c4:case u4:case m4:return e;default:switch(e=e&&e.$$typeof,e){case p4:case h4:case v4:case g4:case d4:return e;default:return t;}}case rW:return t;}}}function DRe(e){return al(e)===f4}Hn.AsyncMode=nW;Hn.ConcurrentMode=f4;Hn.ContextConsumer=p4;Hn.ContextProvider=d4;Hn.Element=tW;Hn.ForwardRef=h4;Hn.Fragment=l4;Hn.Lazy=v4;Hn.Memo=g4;Hn.Portal=rW;Hn.Profiler=c4;Hn.StrictMode=u4;Hn.Suspense=m4;Hn.isAsyncMode=function(e){return DRe(e)||al(e)===nW};Hn.isConcurrentMode=DRe;Hn.isContextConsumer=function(e){return al(e)===p4};Hn.isContextProvider=function(e){return al(e)===d4};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tW};Hn.isForwardRef=function(e){return al(e)===h4};Hn.isFragment=function(e){return al(e)===l4};Hn.isLazy=function(e){return al(e)===v4};Hn.isMemo=function(e){return al(e)===g4};Hn.isPortal=function(e){return al(e)===rW};Hn.isProfiler=function(e){return al(e)===c4};Hn.isStrictMode=function(e){return al(e)===u4};Hn.isSuspense=function(e){return al(e)===m4};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===l4||e===f4||e===c4||e===u4||e===m4||e===der||typeof e=="object"&&e!==null&&(e.$$typeof===v4||e.$$typeof===g4||e.$$typeof===d4||e.$$typeof===p4||e.$$typeof===h4||e.$$typeof===fer||e.$$typeof===her||e.$$typeof===mer||e.$$typeof===per)};Hn.typeOf=al});var NRe=I((L8r,qRe)=>{"use strict";qRe.exports=kRe()});var sze=I(oi=>{"use strict";var GO=60103,ZO=60106,u2=60107,c2=60108,d2=60114,p2=60109,f2=60110,h2=60112,m2=60113,JW=60120,g2=60115,v2=60116,rze=60121,nze=60122,ize=60117,oze=60129,aze=60131;typeof Symbol=="function"&&Symbol.for&&(Oo=Symbol.for,GO=Oo("react.element"),ZO=Oo("react.portal"),u2=Oo("react.fragment"),c2=Oo("react.strict_mode"),d2=Oo("react.profiler"),p2=Oo("react.provider"),f2=Oo("react.context"),h2=Oo("react.forward_ref"),m2=Oo("react.suspense"),JW=Oo("react.suspense_list"),g2=Oo("react.memo"),v2=Oo("react.lazy"),rze=Oo("react.block"),nze=Oo("react.server.block"),ize=Oo("react.fundamental"),oze=Oo("react.debug_trace_mode"),aze=Oo("react.legacy_hidden"));var Oo;function ku(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GO:switch(e=e.type,e){case u2:case d2:case c2:case m2:case JW:return e;default:switch(e=e&&e.$$typeof,e){case f2:case h2:case v2:case g2:case p2:return e;default:return t;}}case ZO:return t;}}}var Urr=p2,$rr=GO,Hrr=h2,Wrr=u2,Grr=v2,Zrr=g2,Yrr=ZO,Krr=d2,Xrr=c2,Jrr=m2;oi.ContextConsumer=f2;oi.ContextProvider=Urr;oi.Element=$rr;oi.ForwardRef=Hrr;oi.Fragment=Wrr;oi.Lazy=Grr;oi.Memo=Zrr;oi.Portal=Yrr;oi.Profiler=Krr;oi.StrictMode=Xrr;oi.Suspense=Jrr;oi.isAsyncMode=function(){return!1};oi.isConcurrentMode=function(){return!1};oi.isContextConsumer=function(e){return ku(e)===f2};oi.isContextProvider=function(e){return ku(e)===p2};oi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GO};oi.isForwardRef=function(e){return ku(e)===h2};oi.isFragment=function(e){return ku(e)===u2};oi.isLazy=function(e){return ku(e)===v2};oi.isMemo=function(e){return ku(e)===g2};oi.isPortal=function(e){return ku(e)===ZO};oi.isProfiler=function(e){return ku(e)===d2};oi.isStrictMode=function(e){return ku(e)===c2};oi.isSuspense=function(e){return ku(e)===m2};oi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===u2||e===d2||e===oze||e===c2||e===m2||e===JW||e===aze||typeof e=="object"&&e!==null&&(e.$$typeof===v2||e.$$typeof===g2||e.$$typeof===p2||e.$$typeof===f2||e.$$typeof===h2||e.$$typeof===ize||e.$$typeof===rze||e[0]===nze)};oi.typeOf=ku});var uze=I((KGr,lze)=>{"use strict";lze.exports=sze()});var L8e=I((oXr,R8e)=>{"use strict";R8e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var $nr={};KFe($nr,{SettingsProvider:()=>Vnr,renderMosaicMapApp:()=>Unr});var K8e=re(Ue(),1),X8e=re(Li(),1),CJr=re(yTe(),1);var es=re(Ue(),1);var Sa=re(Ue()),RTe=re(Li());function Hzt(e){return!!e&&typeof e.then=="function"}var Gi=Hzt;function Wzt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Rn=Wzt,AM=class{},Gzt=new AM,Qj={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return Gi(r)?Zy(r.then(n=>({__value:n}))):eB(r)}catch(r){return Gi(r)?Zy(r.next(()=>e(this.contents))):tB(r)}if(this.state==="loading")return Zy(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(Gi(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function eB(e){return Object.freeze(qr(rt({state:"hasValue",contents:e},Qj),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function tB(e){return Object.freeze(qr(rt({state:"hasError",contents:e},Qj),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function Zy(e){return Object.freeze(qr(rt({state:"loading",contents:e},Qj),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function Zzt(){return Zy(new Promise(()=>{}))}function Yzt(e){return e.every(t=>t.state==="hasValue")?eB(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?tB(Rn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Zy(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var ww={loadableWithValue:eB,loadableWithError:tB,loadableWithPromise:Zy,loadableLoading:Zzt,loadableAll:Yzt,Canceled:AM,CANCELED:Gzt},kj,LTe=(kj=Sa.default.useMutableSource)!==null&&kj!==void 0?kj:Sa.default.unstable_useMutableSource;function Kzt(){return LTe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var zTe={mutableSourceExists:Kzt,useMutableSource:LTe},{mutableSourceExists:Xzt}=zTe,rB=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function nB(e){var t;return e==="recoil_early_rendering_2021"&&!Xzt()?!1:(t=rB.get(e))!==null&&t!==void 0?t:!1}nB.setPass=e=>{rB.set(e,!0)};nB.setFail=e=>{rB.set(e,!1)};var ei=nB;function Jzt(e,t,{error:r}={}){return null}var Qzt=Jzt,fc=Qzt;function e8t(e,t){let r=new Set(e);return r.add(t),r}function t8t(e,t){let r=new Set(e);return r.delete(t),r}function r8t(e,t,r){let n=new Map(e);return n.set(t,r),n}function n8t(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function i8t(e,t){let r=new Map(e);return r.delete(t),r}function o8t(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var FTe={setByAddingToSet:e8t,setByDeletingFromSet:t8t,mapBySettingInMap:r8t,mapByUpdatingInMap:n8t,mapByDeletingFromMap:i8t,mapByDeletingMultipleFromMap:o8t};function*a8t(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var jTe=a8t;function s8t(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var BTe=s8t;function l8t(e,...t){}var u8t=l8t,iB=u8t;function gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _w=class{constructor(t){gn(this,"key",void 0),this.key=t}},MM=class extends _w{},PM=class extends _w{};function c8t(e){return e instanceof MM||e instanceof PM}var BM={AbstractRecoilValue:_w,RecoilState:MM,RecoilValueReadOnly:PM,isRecoilValue:c8t},d8t=BM.AbstractRecoilValue,p8t=BM.RecoilState,f8t=BM.RecoilValueReadOnly,h8t=BM.isRecoilValue,Df=Object.freeze({__proto__:null,AbstractRecoilValue:d8t,RecoilState:p8t,RecoilValueReadOnly:f8t,isRecoilValue:h8t}),OM=class{},m8t=new OM,Lj=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},Pm=new Map,oB=new Map;function g8t(e){return BTe(e,t=>Rn(oB.get(t)))}function v8t(e){if(Pm.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}Pm.set(e.key,e);let t=e.set==null?new Df.RecoilValueReadOnly(e.key):new Df.RecoilState(e.key);return oB.set(e.key,t),t}var DM=class extends Error{};function y8t(e){let t=Pm.get(e);if(t==null)throw new DM(`Missing definition for RecoilValue: "${e}""`);return t}function _8t(e){return Pm.get(e)}var kM=new Map;function b8t(e){var t;if(!ei("recoil_memory_managament_2020"))return;let r=Pm.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;Pm.delete(e),(n=VTe(e))===null||n===void 0||n(),kM.delete(e)}}function x8t(e,t){ei("recoil_memory_managament_2020")&&(t===void 0?kM.delete(e):kM.set(e,t))}function VTe(e){return kM.get(e)}var Vl={nodes:Pm,recoilValues:oB,registerNode:v8t,getNode:y8t,getNodeMaybe:_8t,deleteNodeConfigIfPossible:b8t,setConfigDeletionHandler:x8t,getConfigDeletionHandler:VTe,recoilValuesForKeys:g8t,NodeMissingError:DM,DefaultValue:OM,DEFAULT_VALUE:m8t,RecoilValueNotReady:Lj},qM=class{};function w8t(){return new qM}var VM={RetentionZone:qM,retentionZone:w8t},{setByAddingToSet:S8t}=FTe,{getNode:UM,getNodeMaybe:I8t,recoilValuesForKeys:_Te}=Vl,{RetentionZone:bTe}=VM,E8t=Object.freeze(new Set),zj=class extends Error{};function T8t(e,t,r){if(!ei("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let u=n.get(o);u||n.set(o,u=new Set),u.add(t)}if(r instanceof bTe)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!ei("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function u(p){let h=o.get(p);h&&h.delete(t),h&&h.size===0&&o.delete(p)}if(r instanceof bTe)u(r);else if(Array.isArray(r))for(let p of r)u(p)}}function aB(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=UM(r),u=T8t(e,r,o.retainedBy),p=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{p(),u()})}function C8t(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function A8t(e,t,r){return aB(e,t,r,"get"),UM(r).get(e,t)}function UTe(e,t,r){return UM(r).peek(e,t)}function M8t(e,t,r){var n;let i=I8t(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),qr(rt({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:S8t(e.dirtyAtoms,t)})}function P8t(e,t,r,n){let i=UM(r);if(i.set==null)throw new zj(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return aB(e,t,r,"set"),o(e,t,n)}function O8t(e,t,r){var n,i,o;let u=e.getState(),p=e.getGraph(t.version),h=u.knownAtoms.has(r)?"atom":u.knownSelectors.has(r)?"selector":void 0,y=jTe($Te(e,t,new Set([r])),x=>x!==r);return{loadable:UTe(e,t,r),isActive:u.knownAtoms.has(r)||u.knownSelectors.has(r),isSet:h==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:h,deps:_Te((n=p.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:_Te(y),components:BTe((i=(o=u.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([x])=>({name:x}))}}}function $Te(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let p=i.pop();p;p=i.pop()){var u;n.add(p);let h=(u=o.nodeToNodeSubscriptions.get(p))!==null&&u!==void 0?u:E8t;for(let y of h)n.has(y)||i.push(y)}return n}var Jy={getNodeLoadable:A8t,peekNodeLoadable:UTe,setNodeValue:P8t,cleanUpNode:C8t,setUnvalidatedAtomValue_DEPRECATED:M8t,peekNodeInfo:O8t,getDownstreamNodes:$Te,initializeNodeIfNewToStore:aB},{CANCELED:D8t}=ww,{getDownstreamNodes:k8t,getNodeLoadable:HTe,setNodeValue:q8t}=Jy,{getNodeMaybe:WTe}=Vl,{DefaultValue:sB,RecoilValueNotReady:N8t}=Vl,{AbstractRecoilValue:R8t,RecoilState:L8t,RecoilValueReadOnly:z8t,isRecoilValue:F8t}=Df;function j8t(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||fc("Tried to read from a discarded tree");let u=HTe(e,r,t);return u.state==="loading"&&u.contents.catch(()=>D8t),u}function B8t(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof sB?r.delete(i):r.set(i,n)}),r}function V8t(e,t,{key:r},n){if(typeof n=="function"){let i=HTe(e,t,r);if(i.state==="loading")throw new N8t(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function U8t(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,u=V8t(e,t,i,o),p=q8t(e,t,i.key,u);for(let[h,y]of p.entries())Fj(t,h,y)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;Fj(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,u=WTe(i);u==null||(n=u.invalidate)===null||n===void 0||n.call(u,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else fc(`Unknown action ${r.type}`)}function Fj(e,t,r){r.state==="hasValue"&&r.contents instanceof sB?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function GTe(e,t){e.replaceState(r=>{let n=ZTe(r);for(let i of t)U8t(e,n,i);return jj(e,n),n})}function $M(e,t){if(vw.length){let r=vw[vw.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else GTe(e,[t])}var vw=[];function $8t(){let e=new Map;return vw.push(e),()=>{for(let[r,n]of e)GTe(r,n);vw.pop()!==e&&fc("Incorrect order of batch popping")}}function ZTe(e){return qr(rt({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function jj(e,t){let r=k8t(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=WTe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function YTe(e,t,r){$M(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function H8t(e,t,r){if(r instanceof sB)return YTe(e,t,r);$M(e,{type:"setLoadable",recoilValue:t,loadable:r})}function W8t(e,t){$M(e,{type:"markModified",recoilValue:t})}function G8t(e,t,r){$M(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var Z8t=0;function Y8t(e,{key:t},r,n=null){let i=Z8t++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Rn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),ei("recoil_early_rendering_2021")){let u=e.getState().nextTree;u&&u.dirtyAtoms.has(t)&&r(u)}return{release:()=>{let u=e.getState(),p=u.nodeToComponentSubscriptions.get(t);if(p===void 0||!p.has(i)){fc(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}p.delete(i),p.size===0&&u.nodeToComponentSubscriptions.delete(t)}}}var Om={RecoilValueReadOnly:z8t,AbstractRecoilValue:R8t,RecoilState:L8t,getRecoilValueAsLoadable:j8t,setRecoilValue:YTe,setRecoilValueLoadable:H8t,markRecoilValueModified:W8t,setUnvalidatedRecoilValue:G8t,subscribeToRecoilValue:Y8t,isRecoilValue:F8t,applyAtomValueWrites:B8t,batchStart:$8t,writeLoadableToTreeState:Fj,invalidateDownstreams:jj,copyTreeState:ZTe,invalidateDownstreams_FOR_TESTING:jj},{unstable_batchedUpdates:K8t}=RTe.default,X8t={unstable_batchedUpdates:K8t},{unstable_batchedUpdates:J8t}=X8t,Q8t={unstable_batchedUpdates:J8t},{batchStart:e7t}=Om,{unstable_batchedUpdates:t7t}=Q8t,lB=t7t,r7t=e=>{lB=e},n7t=()=>lB,i7t=e=>{lB(()=>{let t=()=>{};try{t=e7t(),e()}finally{t()}})},uB={getBatcher:n7t,setBatcher:r7t,batchUpdates:i7t};function o7t(e,t){t()}var a7t={enqueueExecution:o7t};function s7t(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var NM=s7t;function l7t(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var RM=l7t;function u7t(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function c7t(e){return{nodeDeps:RM(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:RM(e.nodeToNodeSubscriptions,t=>new Set(t))}}function qj(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,u)=>{let p=n.get(u);if(p&&r&&p!==r.nodeDeps.get(u))return;n.set(u,new Set(o)),(p==null?o:NM(o,p)).forEach(y=>{i.has(y)||i.set(y,new Set),Rn(i.get(y)).add(u)}),p&&NM(p,o).forEach(x=>{if(!i.has(x))return;let E=Rn(i.get(x));E.delete(u),E.size===0&&i.delete(x)})})}function d7t(e,t,r){var n,i,o,u;let p=t.getState();r===p.currentTree.version||r===((n=p.nextTree)===null||n===void 0?void 0:n.version)||r===((i=p.previousTree)===null||i===void 0?void 0:i.version)||fc("Tried to save dependencies to a discarded tree");let h=t.getGraph(r);if(qj(e,h),r===((o=p.previousTree)===null||o===void 0?void 0:o.version)){let x=t.getGraph(p.currentTree.version);qj(e,x,h)}if(r===((u=p.previousTree)===null||u===void 0?void 0:u.version)||r===p.currentTree.version){var y;let x=(y=p.nextTree)===null||y===void 0?void 0:y.version;if(x!==void 0){let E=t.getGraph(x);qj(e,E,h)}}}function p7t(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Rn(t.get(n));r.forEach(o=>i.add(o))})}function f7t(e,t,r){r.has(e)||r.set(e,new Set),Rn(r.get(e)).add(t)}var Sw={addToDependencyMap:f7t,cloneGraph:c7t,graph:u7t,mergeDepsIntoDependencyMap:p7t,saveDependencyMapToStore:d7t};function h7t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var m7t=h7t(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},r={},n=5,i=Math.pow(2,n),o=i-1,u=i/2,p=i/4,h={},y=function(Ae){return function(){return Ae}},x=r.hash=function(Se){var Ae=typeof Se=="undefined"?"undefined":t(Se);if(Ae==="number")return Se;Ae!=="string"&&(Se+="");for(var ct=0,kt=0,Ot=Se.length;kt<Ot;++kt){var ne=Se.charCodeAt(kt);ct=(ct<<5)-ct+ne|0}return ct},E=function(Ae){return Ae-=Ae>>1&1431655765,Ae=(Ae&858993459)+(Ae>>2&858993459),Ae=Ae+(Ae>>4)&252645135,Ae+=Ae>>8,Ae+=Ae>>16,Ae&127},T=function(Ae,ct){return ct>>>Ae&o},D=function(Ae){return 1<<Ae},z=function(Ae,ct){return E(Ae&ct-1)},F=function(Ae,ct,kt,Ot){var ne=Ot;if(!Ae){var H=Ot.length;ne=new Array(H);for(var $=0;$<H;++$)ne[$]=Ot[$]}return ne[ct]=kt,ne},q=function(Ae,ct,kt){var Ot=kt.length-1,ne=0,H=0,$=kt;if(Ae)ne=H=ct;else for($=new Array(Ot);ne<ct;)$[H++]=kt[ne++];for(++ne;ne<=Ot;)$[H++]=kt[ne++];return Ae&&($.length=Ot),$},N=function(Ae,ct,kt,Ot){var ne=Ot.length;if(Ae){for(var H=ne;H>=ct;)Ot[H--]=Ot[H];return Ot[ct]=kt,Ot}for(var $=0,Y=0,ie=new Array(ne+1);$<ct;)ie[Y++]=Ot[$++];for(ie[ct]=kt;$<ne;)ie[++Y]=Ot[$++];return ie},B=1,Z=2,ee=3,ae=4,ue={__hamt_isEmpty:!0},ve=function(Ae){return Ae===ue||Ae&&Ae.__hamt_isEmpty},Oe=function(Ae,ct,kt,Ot){return{type:B,edit:Ae,hash:ct,key:kt,value:Ot,_modify:Pe}},be=function(Ae,ct,kt){return{type:Z,edit:Ae,hash:ct,children:kt,_modify:Qe}},ze=function(Ae,ct,kt){return{type:ee,edit:Ae,mask:ct,children:kt,_modify:lt}},$e=function(Ae,ct,kt){return{type:ae,edit:Ae,size:ct,children:kt,_modify:pt}},He=function(Ae){return Ae===ue||Ae.type===B||Ae.type===Z},Re=function(Ae,ct,kt,Ot,ne){for(var H=[],$=Ot,Y=0,ie=0;$;++ie)$&1&&(H[ie]=ne[Y++]),$>>>=1;return H[ct]=kt,$e(Ae,Y+1,H)},Je=function(Ae,ct,kt,Ot){for(var ne=new Array(ct-1),H=0,$=0,Y=0,ie=Ot.length;Y<ie;++Y)if(Y!==kt){var ge=Ot[Y];ge&&!ve(ge)&&(ne[H++]=ge,$|=1<<Y)}return ze(Ae,$,ne)},ot=function Se(Ae,ct,kt,Ot,ne,H){if(kt===ne)return be(Ae,kt,[H,Ot]);var $=T(ct,kt),Y=T(ct,ne);return ze(Ae,D($)|D(Y),$===Y?[Se(Ae,ct+n,kt,Ot,ne,H)]:$<Y?[Ot,H]:[H,Ot])},Be=function(Ae,ct,kt,Ot,ne,H,$,Y){for(var ie=ne.length,ge=0;ge<ie;++ge){var xe=ne[ge];if(kt($,xe.key)){var Ee=xe.value,fe=H(Ee);return fe===Ee?ne:fe===h?(--Y.value,q(Ae,ge,ne)):F(Ae,ge,Oe(ct,Ot,$,fe),ne)}}var Ve=H();return Ve===h?ne:(++Y.value,F(Ae,ie,Oe(ct,Ot,$,Ve),ne))},Le=function(Ae,ct){return Ae===ct.edit},Pe=function(Ae,ct,kt,Ot,ne,H,$){if(ct(H,this.key)){var Y=Ot(this.value);return Y===this.value?this:Y===h?(--$.value,ue):Le(Ae,this)?(this.value=Y,this):Oe(Ae,ne,H,Y)}var ie=Ot();return ie===h?this:(++$.value,ot(Ae,kt,this.hash,this,ne,Oe(Ae,ne,H,ie)))},Qe=function(Ae,ct,kt,Ot,ne,H,$){if(ne===this.hash){var Y=Le(Ae,this),ie=Be(Y,Ae,ct,this.hash,this.children,Ot,H,$);return ie===this.children?this:ie.length>1?be(Ae,this.hash,ie):ie[0]}var ge=Ot();return ge===h?this:(++$.value,ot(Ae,kt,this.hash,this,ne,Oe(Ae,ne,H,ge)))},lt=function(Ae,ct,kt,Ot,ne,H,$){var Y=this.mask,ie=this.children,ge=T(kt,ne),xe=D(ge),Ee=z(Y,xe),fe=Y&xe,Ve=fe?ie[Ee]:ue,et=Ve._modify(Ae,ct,kt+n,Ot,ne,H,$);if(Ve===et)return this;var Fe=Le(Ae,this),ht=Y,Gt=void 0;if(fe&&ve(et)){if(ht&=~xe,!ht)return ue;if(ie.length<=2&&He(ie[Ee^1]))return ie[Ee^1];Gt=q(Fe,Ee,ie)}else if(!fe&&!ve(et)){if(ie.length>=u)return Re(Ae,ge,et,Y,ie);ht|=xe,Gt=N(Fe,Ee,et,ie)}else Gt=F(Fe,Ee,et,ie);return Fe?(this.mask=ht,this.children=Gt,this):ze(Ae,ht,Gt)},pt=function(Ae,ct,kt,Ot,ne,H,$){var Y=this.size,ie=this.children,ge=T(kt,ne),xe=ie[ge],Ee=(xe||ue)._modify(Ae,ct,kt+n,Ot,ne,H,$);if(xe===Ee)return this;var fe=Le(Ae,this),Ve=void 0;if(ve(xe)&&!ve(Ee))++Y,Ve=F(fe,ge,Ee,ie);else if(!ve(xe)&&ve(Ee)){if(--Y,Y<=p)return Je(Ae,Y,ge,ie);Ve=F(fe,ge,ue,ie)}else Ve=F(fe,ge,Ee,ie);return fe?(this.size=Y,this.children=Ve,this):$e(Ae,Y,Ve)};ue._modify=function(Se,Ae,ct,kt,Ot,ne,H){var $=kt();return $===h?ue:(++H.value,Oe(Se,Ot,ne,$))};function je(Se,Ae,ct,kt,Ot){this._editable=Se,this._edit=Ae,this._config=ct,this._root=kt,this._size=Ot}je.prototype.setTree=function(Se,Ae){return this._editable?(this._root=Se,this._size=Ae,this):Se===this._root?this:new je(this._editable,this._edit,this._config,Se,Ae)};var Ge=r.tryGetHash=function(Se,Ae,ct,kt){for(var Ot=kt._root,ne=0,H=kt._config.keyEq;;)switch(Ot.type){case B:return H(ct,Ot.key)?Ot.value:Se;case Z:{if(Ae===Ot.hash)for(var $=Ot.children,Y=0,ie=$.length;Y<ie;++Y){var ge=$[Y];if(H(ct,ge.key))return ge.value}return Se}case ee:{var xe=T(ne,Ae),Ee=D(xe);if(Ot.mask&Ee){Ot=Ot.children[z(Ot.mask,Ee)],ne+=n;break}return Se}case ae:{if(Ot=Ot.children[T(ne,Ae)],Ot){ne+=n;break}return Se}default:return Se;}};je.prototype.tryGetHash=function(Se,Ae,ct){return Ge(Se,Ae,ct,this)};var at=r.tryGet=function(Se,Ae,ct){return Ge(Se,ct._config.hash(Ae),Ae,ct)};je.prototype.tryGet=function(Se,Ae){return at(Se,Ae,this)};var De=r.getHash=function(Se,Ae,ct){return Ge(void 0,Se,Ae,ct)};je.prototype.getHash=function(Se,Ae){return De(Se,Ae,this)};var he=r.get=function(Se,Ae){return Ge(void 0,Ae._config.hash(Se),Se,Ae)};je.prototype.get=function(Se,Ae){return at(Ae,Se,this)};var qe=r.has=function(Se,Ae,ct){return Ge(h,Se,Ae,ct)!==h};je.prototype.hasHash=function(Se,Ae){return qe(Se,Ae,this)};var Te=r.has=function(Se,Ae){return qe(Ae._config.hash(Se),Se,Ae)};je.prototype.has=function(Se){return Te(Se,this)};var Ke=function(Ae,ct){return Ae===ct};r.make=function(Se){return new je(0,0,{keyEq:Se&&Se.keyEq||Ke,hash:Se&&Se.hash||x},ue,0)},r.empty=r.make();var Ze=r.isEmpty=function(Se){return Se&&!!ve(Se._root)};je.prototype.isEmpty=function(){return Ze(this)};var St=r.modifyHash=function(Se,Ae,ct,kt){var Ot={value:kt._size},ne=kt._root._modify(kt._editable?kt._edit:NaN,kt._config.keyEq,0,Se,Ae,ct,Ot);return kt.setTree(ne,Ot.value)};je.prototype.modifyHash=function(Se,Ae,ct){return St(ct,Se,Ae,this)};var It=r.modify=function(Se,Ae,ct){return St(Se,ct._config.hash(Ae),Ae,ct)};je.prototype.modify=function(Se,Ae){return It(Ae,Se,this)};var Dt=r.setHash=function(Se,Ae,ct,kt){return St(y(ct),Se,Ae,kt)};je.prototype.setHash=function(Se,Ae,ct){return Dt(Se,Ae,ct,this)};var we=r.set=function(Se,Ae,ct){return Dt(ct._config.hash(Se),Se,Ae,ct)};je.prototype.set=function(Se,Ae){return we(Se,Ae,this)};var ft=y(h),$t=r.removeHash=function(Se,Ae,ct){return St(ft,Se,Ae,ct)};je.prototype.removeHash=je.prototype.deleteHash=function(Se,Ae){return $t(Se,Ae,this)};var gt=r.remove=function(Se,Ae){return $t(Ae._config.hash(Se),Se,Ae)};je.prototype.remove=je.prototype.delete=function(Se){return gt(Se,this)};var Ht=r.beginMutation=function(Se){return new je(Se._editable+1,Se._edit+1,Se._config,Se._root,Se._size)};je.prototype.beginMutation=function(){return Ht(this)};var dr=r.endMutation=function(Se){return Se._editable=Se._editable&&Se._editable-1,Se};je.prototype.endMutation=function(){return dr(this)};var Vt=r.mutate=function(Se,Ae){var ct=Ht(Ae);return Se(ct),dr(ct)};je.prototype.mutate=function(Se){return Vt(Se,this)};var pr=function(Ae){return Ae&&$r(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4])},$r=function(Ae,ct,kt,Ot,ne){for(;kt<Ae;){var H=ct[kt++];if(H&&!ve(H))return jr(H,Ot,[Ae,ct,kt,Ot,ne])}return pr(ne)},jr=function(Ae,ct,kt){switch(Ae.type){case B:return{value:ct(Ae),rest:kt};case Z:case ae:case ee:var Ot=Ae.children;return $r(Ot.length,Ot,0,ct,kt);default:return pr(kt);}},sr={done:!0};function Qr(Se){this.v=Se}Qr.prototype.next=function(){if(!this.v)return sr;var Se=this.v;return this.v=pr(Se.rest),Se},Qr.prototype[Symbol.iterator]=function(){return this};var st=function(Ae,ct){return new Qr(jr(Ae._root,ct))},fi=function(Ae){return[Ae.key,Ae.value]},_n=r.entries=function(Se){return st(Se,fi)};je.prototype.entries=je.prototype[Symbol.iterator]=function(){return _n(this)};var ts=function(Ae){return Ae.key},pl=r.keys=function(Se){return st(Se,ts)};je.prototype.keys=function(){return pl(this)};var xt=function(Ae){return Ae.value},Er=r.values=je.prototype.values=function(Se){return st(Se,xt)};je.prototype.values=function(){return Er(this)};var cr=r.fold=function(Se,Ae,ct){var kt=ct._root;if(kt.type===B)return Se(Ae,kt.value,kt.key);for(var Ot=[kt.children],ne=void 0;ne=Ot.pop();)for(var H=0,$=ne.length;H<$;){var Y=ne[H++];Y&&Y.type&&(Y.type===B?Ae=Se(Ae,Y.value,Y.key):Ot.push(Y.children))}return Ae};je.prototype.fold=function(Se,Ae){return cr(Se,Ae,this)};var ho=r.forEach=function(Se,Ae){return cr(function(ct,kt,Ot){return Se(kt,Ot,Ae)},null,Ae)};je.prototype.forEach=function(Se){return ho(Se,this)};var ka=r.count=function(Se){return Se._size};je.prototype.count=function(){return ka(this)},Object.defineProperty(je.prototype,"size",{get:je.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),Bj=class{constructor(t){gn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return cB(this)}toMap(){return new Map(this._map)}},Vj=class e{constructor(t){if(gn(this,"_hamt",m7t.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return cB(this)}toMap(){return new Map(this._hamt)}};function cB(e){return ei("recoil_hamt_2020")?new Vj(e):new Bj(e)}var g7t={persistentMap:cB},v7t=g7t.persistentMap,y7t=Object.freeze({__proto__:null,persistentMap:v7t}),{graph:_7t}=Sw,{persistentMap:xTe}=y7t,b7t=0,KTe=()=>b7t++;function XTe(){let e=KTe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:xTe(),nonvalidatedAtoms:xTe()}}function x7t(){let e=XTe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,_7t()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var JTe={makeEmptyTreeState:XTe,makeEmptyStoreState:x7t,getNextTreeStateVersion:KTe};function w7t(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var S7t=w7t;function I7t(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var E7t=I7t,{cleanUpNode:T7t}=Jy,{deleteNodeConfigIfPossible:C7t,getNode:QTe}=Vl,{RetentionZone:eCe}=VM,tCe=new Set;function rCe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){fc("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let u of t)if(u instanceof eCe)for(let p of O7t(r,u))i.add(p);else i.add(u);let o=A7t(e,i);for(let u of o)P7t(e,n,u)}function A7t(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,u=new Set;return p(t),o;function p(h){let y=new Set,x=M7t(e,n,h,o,u);for(let z of x){var E;if(QTe(z).retainedBy==="recoilRoot"){u.add(z);continue}if(((E=r.retention.referenceCounts.get(z))!==null&&E!==void 0?E:0)>0){u.add(z);continue}if(nCe(z).some(q=>r.retention.referenceCounts.get(q))){u.add(z);continue}let F=i.nodeToNodeSubscriptions.get(z);if(F&&E7t(F,q=>u.has(q))){u.add(z);continue}o.add(z),y.add(z)}let T=new Set;for(let z of y)for(let F of(D=i.nodeDeps.get(z))!==null&&D!==void 0?D:tCe){var D;o.has(F)||T.add(F)}T.size&&p(T)}}function M7t(e,t,r,n,i){let o=e.getGraph(t.version),u=[],p=new Set;for(;r.size>0;)h(Rn(r.values().next().value));return u;function h(y){if(n.has(y)||i.has(y)){r.delete(y);return}if(p.has(y))return;let x=o.nodeToNodeSubscriptions.get(y);if(x)for(let E of x)h(E);p.add(y),r.delete(y),u.push(y)}}function P7t(e,t,r){if(!ei("recoil_memory_managament_2020"))return;T7t(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=nCe(r);for(let h of i){var o;(o=n.retention.nodesRetainedByZone.get(h))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let u=n.graphsByVersion.get(t.version);if(u){let h=u.nodeDeps.get(r);if(h!==void 0){u.nodeDeps.delete(r);for(let y of h){var p;(p=u.nodeToNodeSubscriptions.get(y))===null||p===void 0||p.delete(r)}}u.nodeToNodeSubscriptions.delete(r)}C7t(r)}function O7t(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:tCe}function nCe(e){let t=QTe(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof eCe?[t]:t}function D7t(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):rCe(e,new Set([t]))}function k7t(e,t,r){var n;if(!ei("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?iCe(e,t):i.set(t,o)}function iCe(e,t){if(!ei("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),D7t(e,t)}function q7t(e){if(!ei("recoil_memory_managament_2020"))return;let t=e.getState();rCe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function N7t(e){return e===void 0?"recoilRoot":e}var Iw={updateRetainCount:k7t,updateRetainCountToZero:iCe,releaseScheduledRetainablesNow:q7t,retainedByOptionWithDefault:N7t};function*R7t(e){for(let t of e)for(let r of t)yield r}var L7t=R7t,z7t=typeof window=="undefined",F7t=typeof navigator!="undefined"&&navigator.product==="ReactNative",dB={isSSR:z7t,isReactNative:F7t},{isSSR:j7t}=dB,{batchUpdates:Uj}=uB,{initializeNodeIfNewToStore:B7t,peekNodeInfo:V7t}=Jy,{graph:U7t}=Sw,{DEFAULT_VALUE:$7t,recoilValues:wTe,recoilValuesForKeys:STe}=Vl,{AbstractRecoilValue:H7t,getRecoilValueAsLoadable:W7t,setRecoilValue:ITe,setUnvalidatedRecoilValue:G7t}=Om,{updateRetainCount:CM}=Iw,{getNextTreeStateVersion:Z7t,makeEmptyStoreState:Y7t}=JTe;var Ky=class{constructor(t){gn(this,"_store",void 0),gn(this,"_refCount",0),gn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),W7t(this._store,r))),gn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),gn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return STe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?wTe.values():r.isInitialized===!0?STe(L7t([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):jTe(wTe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),gn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),V7t(this._store,this._store.getState().currentTree,r))),gn(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new bw(this,Uj);return r(n),$j(n.getStore_INTERNAL())}),gn(this,"asyncMap",r=>Vi(this,null,function*(){this.checkRefCount_INTERNAL();let n=new bw(this,Uj);return yield r(n),$j(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Rn(n.get(r));let i=U7t();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())B7t(this._store,t.currentTree,r,"get"),CM(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!ei("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){ei("recoil_memory_managament_2020")&&(j7t||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){ei("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){ei("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function oCe(e,t,r=!1){let n=e.getState(),i=r?Z7t():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:rt({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function K7t(e){let t=new Ky(Y7t());return e!=null?t.map(e):t}function $j(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Rn(r.previousTree);return new Ky(oCe(e,n))}var bw=class extends Ky{constructor(t,r){super(oCe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),gn(this,"_batch",void 0),gn(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{CM(o,n.key,1),ITe(this.getStore_INTERNAL(),n,i)})}),gn(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{CM(i,n.key,1),ITe(this.getStore_INTERNAL(),n,$7t)})}),gn(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();Uj(()=>{for(let[o,u]of n.entries())CM(i,o,1),G7t(i,new H7t(o),u)})}),this._batch=r}},HM={Snapshot:Ky,MutableSnapshot:bw,freshSnapshot:K7t,cloneSnapshot:$j},X7t=HM.Snapshot,J7t=HM.MutableSnapshot,Q7t=HM.freshSnapshot,eFt=HM.cloneSnapshot,WM=Object.freeze({__proto__:null,Snapshot:X7t,MutableSnapshot:J7t,freshSnapshot:Q7t,cloneSnapshot:eFt}),{getNextTreeStateVersion:tFt,makeEmptyStoreState:aCe}=JTe,{cleanUpNode:rFt,getDownstreamNodes:nFt,setNodeValue:iFt,setUnvalidatedAtomValue_DEPRECATED:oFt}=Jy,{graph:aFt}=Sw,{cloneGraph:sFt}=Sw,{applyAtomValueWrites:lFt}=Om,{releaseScheduledRetainablesNow:sCe}=Iw,{freshSnapshot:uFt}=WM,{useCallback:cFt,useContext:lCe,useEffect:Hj,useMemo:dFt,useRef:Nj,useState:pFt}=Sa.default;function dw(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var uCe=Object.freeze({getState:dw,replaceState:dw,getGraph:dw,subscribeToTransactions:dw,addTransactionMetadata:dw}),Wj=!1;function ETe(e){if(Wj)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){ei("recoil_memory_managament_2020")&&ei("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&sCe(e);let r=t.currentTree.version,n=tFt();t.nextTree=qr(rt({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,sFt(Rn(t.graphsByVersion.get(r))))}}var cCe=Sa.default.createContext({current:uCe}),pB=()=>lCe(cCe),dCe=Sa.default.createContext(null);function fFt(){let e=lCe(dCe);return e==null&&iB("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function fB(e,t,r){let n=nFt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[u,[p,h]]of o)h(r)}}function pCe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[u,p]of o)p(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!ei("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(fB(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function hFt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,pCe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):fc("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ei("recoil_memory_managament_2020")&&sCe(e.current)}finally{t.commitDepth--}}function mFt({setNotifyBatcherOfChange:e}){let t=pB(),[r,n]=pFt([]);return e(()=>n({})),Hj(()=>{a7t.enqueueExecution("Batcher",()=>{hFt(t)})}),Hj(()=>()=>{e(()=>{})},[e]),null}function gFt(e,t){let r=aCe();return t({set:(n,i)=>{let o=r.currentTree,u=iFt(e,o,n.key,i),p=new Set(u.keys()),h=o.nonvalidatedAtoms.clone();for(let y of p)h.delete(y);r.currentTree=qr(rt({},o),{dirtyAtoms:S7t(o.dirtyAtoms,p),atomValues:lFt(o.atomValues,u),nonvalidatedAtoms:h})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=oFt(r.currentTree,o,i)})}}),r}function vFt(e){return uFt().map(e).getStore_INTERNAL().getState()}var TTe=0;function yFt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,u=q=>{let N=o.current.graphsByVersion;if(N.has(q))return Rn(N.get(q));let B=aFt();return N.set(q,B),B},p=(q,N)=>{if(N==null){let{transactionSubscriptions:B}=z.current.getState(),Z=TTe++;return B.set(Z,q),{release:()=>{B.delete(Z)}}}else{let{nodeTransactionSubscriptions:B}=z.current.getState();B.has(N)||B.set(N,new Map);let Z=TTe++;return Rn(B.get(N)).set(Z,q),{release:()=>{let ee=B.get(N);ee&&(ee.delete(Z),ee.size===0&&B.delete(N))}}}},h=q=>{ETe(z.current);for(let N of Object.keys(q))Rn(z.current.getState().nextTree).transactionMetadata[N]=q[N]},y=q=>{let N=z.current.getState();ETe(z.current);let B=Rn(N.nextTree),Z;try{Wj=!0,Z=q(B)}finally{Wj=!1}Z!==B&&(N.nextTree=Z,ei("recoil_early_rendering_2021")&&fB(D,N,Z),Rn(x.current)())},x=Nj(null),E=cFt(q=>{x.current=q},[x]),T=(i=Sa.default.createMutableSource)!==null&&i!==void 0?i:Sa.default.unstable_createMutableSource,D=r!=null?r:{getState:()=>o.current,replaceState:y,getGraph:u,subscribeToTransactions:p,addTransactionMetadata:h},z=Nj(D);o=Nj(e!=null?gFt(D,e):t!=null?vFt(t):aCe());let F=dFt(()=>T?T(o,()=>o.current.currentTree.version):null,[T,o]);return Hj(()=>()=>{for(let q of z.current.getState().knownAtoms)rFt(z.current,q)},[]),Sa.default.createElement(cCe.Provider,{value:z},Sa.default.createElement(dCe.Provider,{value:F},Sa.default.createElement(mFt,{setNotifyBatcherOfChange:E}),n))}function _Ft(e){let i=e,{override:t}=i,r=Pn(i,["override"]),n=pB();return t===!1&&n.current!==uCe?e.children:Sa.default.createElement(yFt,r)}var GM={useStoreRef:pB,useRecoilMutableSource:fFt,RecoilRoot:_Ft,notifyComponents_FOR_TESTING:fB,sendEndOfBatchNotifications_FOR_TESTING:pCe},{loadableWithValue:bFt}=ww,{DEFAULT_VALUE:xFt,getNode:wFt}=Vl,{copyTreeState:SFt,getRecoilValueAsLoadable:IFt,invalidateDownstreams:EFt,writeLoadableToTreeState:TFt}=Om;function CTe(e){return wFt(e.key).nodeType==="atom"}var Gj=class{constructor(t,r){gn(this,"_store",void 0),gn(this,"_treeState",void 0),gn(this,"_changes",void 0),gn(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!CTe(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=IFt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),gn(this,"set",(n,i)=>{if(!CTe(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),gn(this,"reset",n=>{this.set(n,xFt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=SFt(this._treeState);for(let[r,n]of this._changes)TFt(t,r,bFt(n));return EFt(this._store,t),t}};function CFt(e){return t=>{e.replaceState(r=>{let n=new Gj(e,r);return t(n),n.newTreeState_INTERNAL()})}}var AFt={atomicUpdater:CFt},MFt=AFt.atomicUpdater,PFt=Object.freeze({__proto__:null,atomicUpdater:MFt});function OFt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var DFt=OFt;function kFt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var qFt=kFt;function NFt(e,t){if(!e)throw new Error(t)}var RFt=NFt,LM=RFt;function LFt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var zFt=LFt;function FFt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var jFt=FFt;var{useRef:BFt}=Sa.default;function VFt(){let e=BFt();if(0&&ei("recoil_infer_component_names"))var t;return"<component name not available>"}var hB=VFt,{atomicUpdater:fCe}=PFt,{batchUpdates:mB}=uB,{DEFAULT_VALUE:ZM,getNode:hCe,nodes:UFt}=Vl,{useRecoilMutableSource:$Ft,useStoreRef:el}=GM,{isRecoilValue:qIr}=Df,{AbstractRecoilValue:gB,getRecoilValueAsLoadable:yw,setRecoilValue:Xy,setRecoilValueLoadable:HFt,setUnvalidatedRecoilValue:WFt,subscribeToRecoilValue:vB}=Om,{updateRetainCount:pw}=Iw,{RetentionZone:GFt}=VM,{Snapshot:NIr,cloneSnapshot:xw}=WM,{setByAddingToSet:ZFt}=FTe,{isSSR:zM}=dB,{mutableSourceExists:YFt,useMutableSource:KFt}=zTe,{useCallback:Su,useEffect:Md,useMemo:mCe,useRef:Of,useState:yB}=Sa.default,gCe=12e4;function vCe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function XFt(){let e=el(),[t,r]=yB([]),n=Of(new Set);n.current=new Set;let i=Of(new Set),o=Of(new Map),u=Su(h=>{let y=o.current.get(h);y&&(y.release(),o.current.delete(h))},[o]),p=hB();return Md(()=>{let h=e.current;function y(x,E){o.current.has(E)&&r([])}NM(n.current,i.current).forEach(x=>{if(o.current.has(x)){iB(`Double subscription to RecoilValue "${x}"`);return}let E=vB(h,new gB(x),D=>{y(D,x)},p);o.current.set(x,E),h.getState().nextTree?h.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{y(h.getState(),x)}):y(h.getState(),x)}),NM(i.current,n.current).forEach(x=>{u(x)}),i.current=n.current}),Md(()=>{let h=o.current;return()=>h.forEach((y,x)=>u(x))},[u]),mCe(()=>{function h(z){return F=>{Xy(e.current,z,F)}}function y(z){return()=>Xy(e.current,z,ZM)}function x(z){var F;n.current.has(z.key)||(n.current=ZFt(n.current,z.key));let q=e.current.getState();return yw(e.current,z,ei("recoil_early_rendering_2021")&&(F=q.nextTree)!==null&&F!==void 0?F:q.currentTree)}function E(z){let F=x(z);return vCe(F,z,e)}function T(z){return[E(z),h(z)]}function D(z){return[x(z),h(z)]}return{getRecoilValue:E,getRecoilValueLoadable:x,getRecoilState:T,getRecoilStateLoadable:D,getSetRecoilState:h,getResetRecoilState:y}},[n,e])}var JFt={current:0};function QFt(e){let t=el(),r=Su(()=>{var y;let x=t.current,E=x.getState(),T=ei("recoil_early_rendering_2021")&&(y=E.nextTree)!==null&&y!==void 0?y:E.currentTree;return yw(x,e,T)},[t,e]),n=Su(()=>r(),[r]),i=hB(),o=Su((y,x)=>{let E=t.current;return vB(E,e,()=>{if(!ei("recoil_suppress_rerender_in_callback"))return x();let D=r();h.current.is(D)||x(),h.current=D},i).release},[t,e,i,r]),u=$Ft(),p=KFt(u,n,o),h=Of(p);return Md(()=>{h.current=p}),p}function e9t(e){let t=el(),[r,n]=yB([]),i=hB();Md(()=>{let p=t.current,h=p.getState(),y=vB(p,e,E=>{var T;if(!ei("recoil_suppress_rerender_in_callback"))return n([]);let D=yw(p,e,p.getState().currentTree);!((T=u.current)===null||T===void 0)&&T.is(D)||n(D),u.current=D},i);if(h.nextTree)p.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,n([])});else{var x;if(!ei("recoil_suppress_rerender_in_callback"))return n([]);let E=yw(p,e,p.getState().currentTree);!((x=u.current)===null||x===void 0)&&x.is(E)||n(E),u.current=E}return y.release},[i,e,t]);let o=yw(t.current,e),u=Of(o);return Md(()=>{u.current=o}),o}function _B(e){return ei("recoil_memory_managament_2020")&&xCe(e),YFt()?QFt(e):e9t(e)}function yCe(e){let t=el(),r=_B(e);return vCe(r,e,t)}function bB(e){let t=el();return Su(r=>{Xy(t.current,e,r)},[t,e])}function t9t(e){let t=el();return Su(()=>{Xy(t.current,e,ZM)},[t,e])}function r9t(e){return[yCe(e),bB(e)]}function n9t(e){return[_B(e),bB(e)]}function YM(e){let t=el();Md(()=>t.current.subscribeToTransactions(e).release,[e,t])}function ATe(e){let t=e.atomValues.toMap(),r=RM(DFt(t,(n,i)=>{let u=hCe(i).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return zFt(e.nonvalidatedAtoms.toMap(),r)}function i9t(e){YM(Su(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(fc("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=ATe(n),o=ATe(r),u=RM(UFt,h=>{var y,x,E,T;return{persistence_UNSTABLE:{type:(y=(x=h.persistence_UNSTABLE)===null||x===void 0?void 0:x.type)!==null&&y!==void 0?y:"none",backButton:(E=(T=h.persistence_UNSTABLE)===null||T===void 0?void 0:T.backButton)!==null&&E!==void 0?E:!1}}}),p=qFt(n.dirtyAtoms,h=>i.has(h)||o.has(h));e({atomValues:i,previousAtomValues:o,atomInfo:u,modifiedAtoms:p,transactionMetadata:rt({},n.transactionMetadata)})},[e]))}function o9t(e){YM(Su(t=>{let r=xw(t,"current"),n=xw(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function _Ce(e){let t=Of();return Md(()=>{t.current=e}),t.current}function a9t(){let e=el(),[t,r]=yB(()=>xw(e.current)),n=_Ce(t),i=Of();return Md(()=>(i.current&&!zM&&window.clearTimeout(i.current),t.retain()),[t]),YM(Su(o=>r(xw(o)),[])),n!==t&&!zM&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},gCe)),t}function bCe(){let e=el();return Su(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;mB(()=>{let u=new Set;for(let y of[i.atomValues.keys(),o.atomValues.keys()])for(let x of y){var p,h;((p=i.atomValues.get(x))===null||p===void 0?void 0:p.contents)!==((h=o.atomValues.get(x))===null||h===void 0?void 0:h.contents)&&hCe(x).shouldRestoreFromSnapshots&&u.add(x)}u.forEach(y=>{HFt(e.current,new gB(y),o.atomValues.has(y)?Rn(o.atomValues.get(y)):ZM)}),e.current.replaceState(y=>qr(rt({},y),{stateID:t.getID_INTERNAL()}))})},[e])}function s9t(){let e=el();return(t,r={})=>{mB(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>WFt(e.current,new gB(i),n))})}}var FM=class{},l9t=new FM;function u9t(e,t){let r=el(),n=bCe();return Su((...i)=>{function o(x,E){Xy(r.current,x,E)}function u(x){Xy(r.current,x,ZM)}let p=xw(r.current),h=fCe(r.current),y=l9t;return mB(()=>{let x="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(x);let E=e({set:o,reset:u,snapshot:p,gotoSnapshot:n,transact_UNSTABLE:h});if(typeof E!="function")throw new Error(x);y=E(...i)}),y instanceof FM&&LM(!1),y},t!=null?[...t,r]:void 0)}function xCe(e){if(ei("recoil_memory_managament_2020"))return c9t(e)}function c9t(e){let r=(Array.isArray(e)?e:[e]).map(u=>u instanceof GFt?u:u.key),n=el();Md(()=>{if(!ei("recoil_memory_managament_2020"))return;let u=n.current;if(i.current&&!zM)window.clearTimeout(i.current),i.current=null;else for(let p of r)pw(u,p,1);return()=>{for(let p of r)pw(u,p,-1)}},[n,...r]);let i=Of(),o=_Ce(r);if(!zM&&(o===void 0||!jFt(o,r))){let u=n.current;for(let p of r)pw(u,p,1);if(o)for(let p of o)pw(u,p,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let p of r)pw(u,p,-1)},gCe)}}function d9t(e,t){let r=el();return mCe(()=>(...n)=>{fCe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var p9t={recoilComponentGetRecoilValueCount_FOR_TESTING:JFt,useGotoRecoilSnapshot:bCe,useRecoilCallback:u9t,useRecoilInterface:XFt,useRecoilSnapshot:a9t,useRecoilState:r9t,useRecoilStateLoadable:n9t,useRecoilTransaction:d9t,useRecoilTransactionObserver:o9t,useRecoilValue:yCe,useRecoilValueLoadable:_B,useRetain:xCe,useResetRecoilState:t9t,useSetRecoilState:bB,useSetUnvalidatedAtomValues:s9t,useTransactionObservation_DEPRECATED:i9t,useTransactionSubscription_DEPRECATED:YM},{peekNodeInfo:f9t}=Jy,{useStoreRef:h9t}=GM;function m9t(){let e=h9t();return({key:t})=>f9t(e.current,e.current.getState().currentTree,t)}var g9t=m9t,{RecoilRoot:v9t,useStoreRef:y9t}=GM,{useMemo:_9t}=Sa.default;function b9t(){let e=y9t().current;return _9t(()=>{function t({children:r}){return Sa.default.createElement(v9t,{store_INTERNAL:e},r)}return t},[e])}var x9t=b9t;var{isReactNative:RIr,isSSR:LIr}=dB;function wu(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`;}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(Gi(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>wu(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return wu(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,u]of e)i[typeof o=="string"?o:wu(o,t)]=u;return wu(i,t,r)}return e instanceof Set?wu(Array.from(e).sort((i,o)=>wu(i,t).localeCompare(wu(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?wu(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${wu(i,t)}:${wu(e[i],t,i)}`).join(",")}}`}function w9t(e,t={allowFunctions:!1}){return wu(e,t)}var KM=w9t,Zj=class{constructor(t){var r,n,i;gn(this,"_numLeafs",void 0),gn(this,"_root",void 0),gn(this,"_onHit",void 0),gn(this,"_onSet",void 0),gn(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return wCe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=Yj(this.root(),t.map(([u,p])=>[u,this._mapNodeValue(p)]),null,r,null,{onNodeVisit:u=>{n==null||n.onNodeVisit(u),u.type==="leaf"&&(i=u)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Rn(i))}delete(t){if(!this.root())return!1;let r=Rn(this.root());return S9t(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=ICe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},wCe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return wCe(e.branches.get(i),t,r)},Yj=(e,t,r,n,i,o)=>{var u;let p;if(e==null){if(t.length===0)p={type:"leaf",value:n,parent:r,branchKey:i};else{let[h,...y]=t,[x,E]=h;p={type:"branch",nodeKey:x,parent:r,branches:new Map,branchKey:i},p.branches.set(E,Yj(null,y,p,n,E,o))}}else if(p=e,t.length){let[h,...y]=t,[x,E]=h;e.type==="branch"&&e.nodeKey===x||LM(!1),e.branches.set(E,Yj(e.branches.get(E),y,e,n,E,o))}return o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,p),p},S9t=(e,t,r)=>r?(r.branches.delete(t.branchKey),SCe(e,r,r.parent)):e===t,SCe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),SCe(e,r,r.parent)):e===t,ICe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+ICe(r),0),I9t={TreeCache:Zj},E9t=I9t.TreeCache,ECe=Object.freeze({__proto__:null,TreeCache:E9t}),Kj=class{constructor(t){var r;gn(this,"_maxSize",void 0),gn(this,"_size",void 0),gn(this,"_head",void 0),gn(this,"_tail",void 0),gn(this,"_map",void 0),gn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),u={key:t,right:o,left:null,value:r};o?o.left=u:this._tail=u,this._map.set(n,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Rn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},T9t={LRUCache:Kj},C9t=T9t.LRUCache,TCe=Object.freeze({__proto__:null,LRUCache:C9t}),{LRUCache:A9t}=TCe,{TreeCache:M9t}=ECe;function P9t(e,t=r=>r){let r=new A9t({maxSize:e}),n=new M9t({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var MTe=P9t,{TreeCache:O9t}=ECe,IM={equality:"reference",eviction:"keep-all",maxSize:1/0};function D9t({equality:e=IM.equality,eviction:t=IM.eviction,maxSize:r=IM.maxSize}=IM){let n=k9t(e);return q9t(t,r,n)}function k9t(e){switch(e){case"reference":return t=>t;case"value":return t=>KM(t);}throw new Error(`Unrecognized equality policy ${e}`)}function q9t(e,t,r){switch(e){case"keep-all":return new O9t({mapNodeValue:r});case"lru":return MTe(Rn(t),r);case"most-recent":return MTe(1,r);}throw new Error(`Unrecognized eviction policy ${e}`)}var N9t=D9t;function R9t(e){return()=>null}var L9t={startPerfBlock:R9t},{CANCELED:fw,Canceled:z9t,loadableWithError:hw,loadableWithPromise:F9t,loadableWithValue:Rj}=ww,{getNodeLoadable:PTe,peekNodeLoadable:j9t,setNodeValue:B9t}=Jy,{saveDependencyMapToStore:V9t}=Sw,{DEFAULT_VALUE:U9t,RecoilValueNotReady:$9t,getConfigDeletionHandler:H9t,registerNode:OTe}=Vl,{isRecoilValue:W9t}=Df,{AbstractRecoilValue:G9t}=Df,{setRecoilValueLoadable:Z9t}=Om,{retainedByOptionWithDefault:Y9t}=Iw,{cloneSnapshot:K9t}=WM,{startPerfBlock:X9t}=L9t,mw=[],EM=new Map,J9t=(()=>{let e=0;return()=>e++})();function Q9t(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function ejt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=N9t(n!=null?n:{equality:"reference",eviction:"keep-all"}),u=Y9t(e.retainedBy_UNSTABLE),p=new Map,h=0;function y(){return!ei("recoil_memory_managament_2020")||h>0}function x(De){return p.has(De)||p.set(De,Q9t()),Rn(p.get(De))}function E(De){return h++,De.getState().knownSelectors.add(t),()=>{h--,De.getState().knownSelectors.delete(t),p.delete(De)}}function T(){return H9t(t)!==void 0&&!y()}function D(De,he,qe){if(he.state==="loading"){let Te=EM.get(qe);Te==null&&EM.set(qe,Te=new Set),Te.add(De)}}function z(De,he){let qe=EM.get(he);if(qe!==void 0){for(let Te of qe)Z9t(Te,new G9t(t),De);EM.delete(he)}}function F(De,he,qe){let Te=De.getState().knownSelectors.has(qe);if(Te&&he.atomValues.has(qe))return Rn(he.atomValues.get(qe));let Ke=PTe(De,he,qe);return Ke.state!=="loading"&&Te&&he.atomValues.set(qe,Ke),Ke}function q(De,he,qe,Te,Ke){return he.then(Ze=>{if(!y())return Be(De,Ke),fw;let St=Rj(Ze);return lt(qe,ve(Te),St),Z(De,qe,new Set(Te.keys()),Ke),B(De,St,Ke),{__value:Ze,__key:t}}).catch(Ze=>{if(!y())return Be(De,Ke),fw;if(Le(De,Ke)&&ot(Te,De,Ke),Gi(Ze))return N(De,Ze,qe,Te,Ke);let St=hw(Ze);throw lt(qe,ve(Te),St),Z(De,qe,new Set(Te.keys()),Ke),B(De,St,Ke),Ze})}function N(De,he,qe,Te,Ke){return he.then(Ze=>{if(!y())return Be(De,Ke),fw;if(Ze instanceof z9t)return fc("Selector was released while it had dependencies"),fw;let{__key:St,__value:It}=Ze!=null?Ze:{},Dt=!0;St!=null&&(qe.atomValues.set(St,Rj(It)),Dt=!1);let we=ue(De,qe);if(we&&we.state==="hasValue")return Re(we,De),{__value:we.contents,__key:t};if(!Le(De,Ke)){var ft;let Ht=ze(qe);if((Ht==null||(ft=Ht.latestLoadable)===null||ft===void 0?void 0:ft.state)==="loading")return Ht.latestLoadable.contents}let[$t,gt]=ae(De,qe,Ke,Dt);if(Le(De,Ke)&&ot(gt,De,Ke),Pe($t),$t.state!=="loading"&&(lt(qe,ve(gt),$t),Z(De,qe,new Set(gt.keys()),Ke),B(De,$t,Ke)),$t.state==="hasError")throw $t.contents;return $t.state==="hasValue"?{__value:$t.contents,__key:t}:$t.contents}).catch(Ze=>{if(!y())return Be(De,Ke),fw;let St=hw(Ze);throw lt(qe,ve(Te),hw(Ze)),Z(De,qe,new Set(Te.keys()),Ke),B(De,St,Ke),Ze})}function B(De,he,qe){Le(De,qe)&&(Re(he,De),z(he,qe))}function Z(De,he,qe,Te){var Ke,Ze,St,It;if(Le(De,Te)||he.version===((Ke=De.getState())===null||Ke===void 0||(Ze=Ke.currentTree)===null||Ze===void 0?void 0:Ze.version)||he.version===((St=De.getState())===null||St===void 0||(It=St.nextTree)===null||It===void 0?void 0:It.version)){var Dt,we,ft;V9t(new Map([[t,qe]]),De,(Dt=(we=De.getState())===null||we===void 0||(ft=we.nextTree)===null||ft===void 0?void 0:ft.version)!==null&&Dt!==void 0?Dt:De.getState().currentTree.version)}}function ee(De,he,qe,Te,Ke){qe.add(Te),Z(De,he,qe,Ke)}function ae(De,he,qe,Te=!1){let Ke=X9t(t),Ze,St=!1,It,Dt=new Map,we=new Set;Z(De,he,we,qe);function ft(Ht){let{key:dr}=Ht;ee(De,he,we,dr,qe);let Vt=Te?PTe(De,he,dr):F(De,he,dr);if(Pe(Vt),Dt.set(dr,Vt),Vt.state==="hasValue")return Vt.contents;throw Vt.contents}let $t=!1,gt=Ht=>(...dr)=>{if(!$t)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let Vt=K9t(De),pr=Ht({snapshot:Vt});if(typeof pr!="function")throw new Error("getCallback() expects a function that returns a function.");return pr(...dr)};try{Ze=r({get:ft,getCallback:gt}),Ze=W9t(Ze)?ft(Ze):Ze,$t=!0,Gi(Ze)?Ze=q(De,Ze,he,Dt,qe).finally(Ke):Ke()}catch(Ht){Ze=Ht,Gi(Ze)?Ze=N(De,Ze,he,Dt,qe).finally(Ke):(St=!0,Ke())}return St?It=hw(Ze):Gi(Ze)?It=F9t(Ze):It=Rj(Ze),Pe(It),[It,Dt]}function ue(De,he){let qe=new Set,Te=x(De),Ke=o.get(Ze=>(typeof Ze!="string"&&LM(!1),F(De,he,Ze).contents),{onNodeVisit:Ze=>{Ze.type==="branch"&&Ze.nodeKey!==t&&typeof Ze.nodeKey=="string"&&qe.add(Ze.nodeKey)}});return Ke&&Z(De,he,qe,Te.latestExecutionId),Ke}function ve(De){return Array.from(De.entries()).map(([he,qe])=>[he,qe.contents])}function Oe(De,he){let qe=J9t(),[Te,Ke]=ae(De,he,qe);return Re(Te,De,Ke,qe,he),Je(he,ve(Ke),Te),D(De,Te,qe),Te}function be(De,he){let qe=ue(De,he);if(qe!=null)return Re(qe,De),qe;let Te=ze(he);if(Te){let Ke=Te;return D(De,Rn(Ke.latestLoadable),Rn(Ke.latestExecutionId)),Rn(Ke.latestLoadable)}return Oe(De,he)}function ze(De){var he;let[,qe]=(he=Array.from(p.entries()).find(([Te,Ke])=>Ke.latestLoadable!=null&&Ke.latestExecutionId!=null&&!He(Te,De)))!==null&&he!==void 0?he:[];return qe}let $e=new Map;function He(De,he){var qe,Te;let Ke=x(De),Ze=(qe=Ke.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&qe!==void 0?qe:new Map,St=Array(((Te=$e.get(he.version))!==null&&Te!==void 0?Te:new Map).entries()),It=$e.has(he.version)&&St.length===Ze.size&&St.every(([Dt,we])=>Ze.get(Dt)===we);return Ze==null||he.version===Ke.stateVersion||It?!1:($e.set(he.version,new Map(Ze)),Array.from(Ze).some(([Dt,we])=>F(De,he,Dt).contents!==we.contents))}function Re(De,he,qe,Te,Ke){let Ze=x(he);De.state==="loading"?(Ze.depValuesDiscoveredSoFarDuringAsyncWork=qe,Ze.latestExecutionId=Te,Ze.latestLoadable=De,Ze.stateVersion=Ke==null?void 0:Ke.version):(Ze.depValuesDiscoveredSoFarDuringAsyncWork=null,Ze.latestExecutionId=null,Ze.latestLoadable=null,Ze.stateVersion=null)}function Je(De,he,qe){qe.state!=="loading"&&lt(De,he,qe)}function ot(De,he,qe){let Te=x(he);Le(he,qe)&&(Te.depValuesDiscoveredSoFarDuringAsyncWork=De)}function Be(De,he){Le(De,he)&&p.delete(De)}function Le(De,he){let qe=x(De);return he===qe.latestExecutionId}function Pe(De){De.state!=="loading"&&(De.contents,void 0)}function Qe(De){}function lt(De,he,qe){De.atomValues.set(t,qe),o.set(he,qe)}function pt(De){if(mw.includes(t)){let he=`Recoil selector has circular dependencies: ${mw.slice(mw.indexOf(t)).join(" \u2192 ")}`;return hw(new Error(he))}mw.push(t);try{return De()}finally{mw.pop()}}function je(De,he){return o.get(Te=>{typeof Te!="string"&&LM(!1);let Ke=j9t(De,he,Te);return Ke==null?void 0:Ke.contents})}function Ge(De,he){return pt(()=>be(De,he))}function at(De){De.atomValues.delete(t)}return i!=null?OTe({key:t,nodeType:"selector",peek:je,get:Ge,set:(he,qe,Te)=>{let Ke=!1,Ze=new Map;function St({key:ft}){if(Ke)throw new Error("Recoil: Async selector sets are not currently supported.");let $t=F(he,qe,ft);if(Pe($t),$t.state==="hasValue")return $t.contents;throw $t.state==="loading"?new $9t(ft):$t.contents}function It(ft,$t){if(Ke)throw new Error("Recoil: Async selector sets are not currently supported.");let gt=typeof $t=="function"?$t(St(ft)):$t;B9t(he,qe,ft.key,gt).forEach((dr,Vt)=>Ze.set(Vt,dr))}function Dt(ft){It(ft,U9t)}let we=i({set:It,get:St,reset:Dt},Te);if(we!==void 0)throw Gi(we)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return Ke=!0,Ze},init:E,invalidate:at,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):OTe({key:t,nodeType:"selector",peek:je,get:Ge,init:E,invalidate:at,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}var jM=ejt,{loadableWithError:DTe,loadableWithPromise:kTe,loadableWithValue:gw}=ww,{DEFAULT_VALUE:Mm,DefaultValue:Gy,getConfigDeletionHandler:CCe,registerNode:tjt,setConfigDeletionHandler:rjt}=Vl,{isRecoilValue:njt}=Df,{markRecoilValueModified:ijt,setRecoilValue:qTe,setRecoilValueLoadable:ojt}=Om,{retainedByOptionWithDefault:ajt}=Iw;function sjt(e){let{key:t,persistence_UNSTABLE:r}=e,n=ajt(e.retainedBy_UNSTABLE),i=0,o=Gi(e.default)?kTe(e.default.then(q=>(o=gw(q),{__key:t,__value:q})).catch(q=>{throw o=DTe(q),q})):gw(e.default),u,p=new Map;function h(q,N){let B=N.then(Z=>{var ee,ae;return((ae=((ee=q.getState().nextTree)!==null&&ee!==void 0?ee:q.getState().currentTree).atomValues.get(t))===null||ae===void 0?void 0:ae.contents)===B&&qTe(q,F,Z),{__key:t,__value:Z}}).catch(Z=>{var ee,ae;throw((ae=((ee=q.getState().nextTree)!==null&&ee!==void 0?ee:q.getState().currentTree).atomValues.get(t))===null||ae===void 0?void 0:ae.contents)===B&&ojt(q,F,DTe(Z)),Z});return B}function y(q,N,B){i++;let Z=q.getState().knownAtoms.has(t);if(q.getState().knownAtoms.add(t),o.state==="loading"){let be=()=>{var ze;((ze=q.getState().nextTree)!==null&&ze!==void 0?ze:q.getState().currentTree).atomValues.has(t)||ijt(q,F)};o.contents.then(be).catch(be)}let ee=Mm,ae=null;if(e.effects_UNSTABLE!=null&&!Z){let be=!0,ze=Re=>Je=>{if(be){let ot=ee instanceof Gy||Gi(ee)?o.state==="hasValue"?o.contents:Mm:ee;ee=typeof Je=="function"?Je(ot):Je,Gi(ee)&&(ee=ee.then(Be=>(ae={effect:Re,value:Be},Be)))}else{if(Gi(Je))throw new Error("Setting atoms to async values is not implemented.");typeof Je!="function"&&(ae={effect:Re,value:Je}),qTe(q,F,typeof Je=="function"?ot=>{let Be=Je(ot);return ae={effect:Re,value:Be},Be}:Je)}},$e=Re=>()=>ze(Re)(Mm),He=Re=>Je=>{q.subscribeToTransactions(ot=>{var Be;let{currentTree:Le,previousTree:Pe}=ot.getState();Pe||(fc("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),Pe=Le);let Qe=(Be=Le.atomValues.get(t))!==null&&Be!==void 0?Be:o;if(Qe.state==="hasValue"){var lt,pt,je,Ge;let at=Qe.contents,De=(lt=Pe.atomValues.get(t))!==null&&lt!==void 0?lt:o,he=De.state==="hasValue"?De.contents:Mm;((pt=ae)===null||pt===void 0?void 0:pt.effect)!==Re||((je=ae)===null||je===void 0?void 0:je.value)!==at?Je(at,he):((Ge=ae)===null||Ge===void 0?void 0:Ge.effect)===Re&&(ae=null)}},t)};for(let Re of(ue=e.effects_UNSTABLE)!==null&&ue!==void 0?ue:[]){var ue;let Je=Re({node:F,trigger:B,setSelf:ze(Re),resetSelf:$e(Re),onSet:He(Re)});if(Je!=null){var ve;p.set(q,[...((ve=p.get(q))!==null&&ve!==void 0?ve:[]),Je])}}be=!1}if(!(ee instanceof Gy)){var Oe;let be=Gi(ee)?kTe(h(q,ee)):gw(ee);N.atomValues.set(t,be),(Oe=q.getState().nextTree)===null||Oe===void 0||Oe.atomValues.set(t,be)}return()=>{var be;i--,(be=p.get(q))===null||be===void 0||be.forEach(ze=>ze()),p.delete(q),q.getState().knownAtoms.delete(t)}}function x(q,N){var B,Z,ee;return(B=(Z=N.atomValues.get(t))!==null&&Z!==void 0?Z:(ee=u)===null||ee===void 0?void 0:ee[1])!==null&&B!==void 0?B:o}function E(q,N){if(N.atomValues.has(t))return Rn(N.atomValues.get(t));if(N.nonvalidatedAtoms.has(t)){if(u!=null)return u;if(r==null)return iB(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let B=N.nonvalidatedAtoms.get(t),Z=r.validator(B,Mm);return u=Z instanceof Gy?o:gw(Z),u}else return o}function T(){u=void 0}function D(q,N,B){if(N.atomValues.has(t)){let Z=Rn(N.atomValues.get(t));if(Z.state==="hasValue"&&B===Z.contents)return new Map}else if(!N.nonvalidatedAtoms.has(t)&&B instanceof Gy)return new Map;return u=void 0,new Map().set(t,gw(B))}function z(){return CCe(t)!==void 0&&i<=0}let F=tjt({key:t,nodeType:"atom",peek:x,get:E,set:D,init:y,invalidate:T,shouldDeleteConfigOnRelease:z,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return F}function ACe(e){let n=e,{default:t}=n,r=Pn(n,["default"]);return njt(t)?ljt(qr(rt({},r),{default:t})):sjt(qr(rt({},r),{default:t}))}function ljt(e){let t=ACe(qr(rt({},e),{default:Mm,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:qr(rt({},e.persistence_UNSTABLE),{validator:n=>n instanceof Gy?n:Rn(e.persistence_UNSTABLE).validator(n,Mm)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=jM({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof Gy?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return rjt(r.key,CCe(e.key)),r}var MCe=ACe,Xj=class{constructor(t){var r;gn(this,"_map",void 0),gn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},ujt={MapCache:Xj},cjt=ujt.MapCache,djt=Object.freeze({__proto__:null,MapCache:cjt}),{LRUCache:NTe}=TCe,{MapCache:pjt}=djt,TM={equality:"reference",eviction:"none",maxSize:1/0};function fjt({equality:e=TM.equality,eviction:t=TM.eviction,maxSize:r=TM.maxSize}=TM){let n=hjt(e);return mjt(t,r,n)}function hjt(e){switch(e){case"reference":return t=>t;case"value":return t=>KM(t);}throw new Error(`Unrecognized equality policy ${e}`)}function mjt(e,t,r){switch(e){case"keep-all":return new pjt({mapKey:r});case"lru":return new NTe({mapKey:r,maxSize:Rn(t)});case"most-recent":return new NTe({mapKey:r,maxSize:1});}throw new Error(`Unrecognized eviction policy ${e}`)}var PCe=fjt,{setConfigDeletionHandler:gjt}=Vl;function vjt(e){var t,r;let n=PCe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let x=e,{cachePolicyForParams_UNSTABLE:p}=x,h=Pn(x,["cachePolicyForParams_UNSTABLE"]),y=MCe(qr(rt({},h),{key:`${e.key}__${(o=KM(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,y),gjt(y.key,()=>{n.delete(i)}),y}}var yjt=vjt,{setConfigDeletionHandler:_jt}=Vl,bjt=0;function xjt(e){var t,r;let n=PCe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let p=`${e.key}__selectorFamily/${(o=KM(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${bjt++}`,h=T=>e.get(i)(T),y=e.cachePolicy_UNSTABLE,x=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,E;if(e.set!=null){let T=e.set;E=jM({key:p,get:h,set:(z,F)=>T(i)(z,F),cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:x})}else E=jM({key:p,get:h,cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:x});return n.set(i,E),_jt(E.key,()=>{n.delete(i)}),E}}var kf=xjt,wjt=kf({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Sjt(e){return wjt(e)}var Ijt=Sjt,Ejt=kf({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Tjt(e){return Ejt(e)}var Cjt=Tjt;function Ajt(e){return e}var Mjt=Ajt,{loadableWithError:OCe,loadableWithPromise:DCe,loadableWithValue:kCe}=ww;function XM(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(u){n[i]=u}return[r,n]}function Pjt(e){return e!=null&&!Gi(e)}function JM(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function xB(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function Jj(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>qr(rt({},r),{[n]:t[i]}),{})}function Yy(e,t,r){let n=r.map((i,o)=>i==null?kCe(t[o]):Gi(i)?DCe(i):OCe(i));return Jj(e,n)}function Ojt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var Djt=kf({key:"__waitForNone",get:e=>({get:t})=>{let r=JM(e),[n,i]=XM(t,r);return Yy(e,n,i)},dangerouslyAllowMutability:!0}),kjt=kf({key:"__waitForAny",get:e=>({get:t})=>{let r=JM(e),[n,i]=XM(t,r);return i.some(o=>!Gi(o))?Yy(e,n,i):new Promise(o=>{for(let[u,p]of i.entries())Gi(p)&&p.then(h=>{n[u]=xB(h),i[u]=void 0,o(Yy(e,n,i))}).catch(h=>{i[u]=h,o(Yy(e,n,i))})})},dangerouslyAllowMutability:!0}),qjt=kf({key:"__waitForAll",get:e=>({get:t})=>{let r=JM(e),[n,i]=XM(t,r);if(i.every(u=>u==null))return Jj(e,n);let o=i.find(Pjt);if(o!=null)throw o;return Promise.all(i).then(u=>Jj(e,Ojt(n,u).map(xB)))},dangerouslyAllowMutability:!0}),Njt=kf({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=JM(e),[n,i]=XM(t,r);return i.every(o=>!Gi(o))?Yy(e,n,i):Promise.all(i.map((o,u)=>Gi(o)?o.then(p=>{n[u]=xB(p),i[u]=void 0}).catch(p=>{n[u]=void 0,i[u]=p}):null)).then(()=>Yy(e,n,i))},dangerouslyAllowMutability:!0}),Rjt=kf({key:"__noWait",get:e=>({get:t})=>{try{return kCe(t(e))}catch(r){return Gi(r)?DCe(r):OCe(r)}},dangerouslyAllowMutability:!0}),Ljt={waitForNone:Djt,waitForAny:kjt,waitForAll:qjt,waitForAllSettled:Njt,noWait:Rjt},{batchUpdates:zjt,setBatcher:Fjt}=uB,{DefaultValue:jjt}=Vl,{RecoilRoot:Bjt}=GM,{isRecoilValue:Vjt}=Df,{retentionZone:Ujt}=VM,{freshSnapshot:$jt}=WM,{useGotoRecoilSnapshot:Hjt,useRecoilCallback:Wjt,useRecoilSnapshot:Gjt,useRecoilState:Zjt,useRecoilStateLoadable:Yjt,useRecoilTransaction:Kjt,useRecoilTransactionObserver:Xjt,useRecoilValue:Jjt,useRecoilValueLoadable:Qjt,useResetRecoilState:eBt,useRetain:tBt,useSetRecoilState:rBt,useSetUnvalidatedAtomValues:nBt,useTransactionObservation_DEPRECATED:iBt}=p9t,{noWait:oBt,waitForAll:aBt,waitForAllSettled:sBt,waitForAny:lBt,waitForNone:uBt}=Ljt,pn={DefaultValue:jjt,RecoilRoot:Bjt,useRecoilBridgeAcrossReactRoots_UNSTABLE:x9t,atom:MCe,selector:jM,retentionZone:Ujt,atomFamily:yjt,selectorFamily:kf,constSelector:Ijt,errorSelector:Cjt,readOnlySelector:Mjt,useRecoilValue:Jjt,useRecoilValueLoadable:Qjt,useRecoilState:Zjt,useRecoilStateLoadable:Yjt,useSetRecoilState:rBt,useResetRecoilState:eBt,useGetRecoilValueInfo_UNSTABLE:g9t,useRetain:tBt,useRecoilCallback:Wjt,useRecoilTransaction_UNSTABLE:Kjt,useGotoRecoilSnapshot:Hjt,useRecoilSnapshot:Gjt,useRecoilTransactionObserver_UNSTABLE:Xjt,useTransactionObservation_UNSTABLE:iBt,useSetUnvalidatedAtomValues_UNSTABLE:nBt,noWait:oBt,waitForNone:uBt,waitForAny:lBt,waitForAll:aBt,waitForAllSettled:sBt,isRecoilValue:Vjt,batchUpdates:zjt,setBatcher:Fjt,snapshot_UNSTABLE:$jt},zIr=pn.DefaultValue,qCe=pn.RecoilRoot,FIr=pn.useRecoilBridgeAcrossReactRoots_UNSTABLE,ci=pn.atom,wB=pn.selector,jIr=pn.retentionZone,BIr=pn.atomFamily,VIr=pn.selectorFamily,UIr=pn.constSelector,$Ir=pn.errorSelector,HIr=pn.readOnlySelector,ur=pn.useRecoilValue,WIr=pn.useRecoilValueLoadable,fn=pn.useRecoilState,GIr=pn.useRecoilStateLoadable,di=pn.useSetRecoilState,ZIr=pn.useResetRecoilState,YIr=pn.useGetRecoilValueInfo_UNSTABLE,KIr=pn.useRetain,XIr=pn.useRecoilCallback,JIr=pn.useRecoilTransaction_UNSTABLE,QIr=pn.useGotoRecoilSnapshot,eEr=pn.useRecoilSnapshot,tEr=pn.useRecoilTransactionObserver_UNSTABLE,rEr=pn.useTransactionObservation_UNSTABLE,nEr=pn.useSetUnvalidatedAtomValues_UNSTABLE,iEr=pn.noWait,oEr=pn.waitForNone,aEr=pn.waitForAny,sEr=pn.waitForAll,lEr=pn.waitForAllSettled,uEr=pn.isRecoilValue,cEr=pn.batchUpdates,dEr=pn.setBatcher,pEr=pn.snapshot_UNSTABLE;var Yl=re(Ue(),1),Zl=re(Wt(),1);function VCe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=VCe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function pBt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=VCe(e))&&(n&&(n+=" "),n+=t);return n}var vr=pBt;var Iu=re(Ew(),1);var YAe=re(km(),1);var r0={EN:"en",DE:"de"},Is={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:r0.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1},Nr={axiosApiInstance:null,appendSettings(e){Is=Object.assign({},Is,e)},getSettings(){return Is},getBaseMaps(){return Is.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},Is.MAPVIEW_PARAMS)},getLanguageDict(){return Is.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return Is.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},Is.TERRAIN_TILES)},getUsername(){return Is.USERNAME},isUserAuthenticated(){return Is.USER_ISAUTHENTICATED===!0},updateSettings(e){Is=e},_initAxiosApiInstance(){let e=Is.API_GEOREFERENCE_BASEURL,t=$B(e)&&e.length===0;if(!cn(e)||t)throw new Error("The URL for the georeference service is not set.");let r={"Dev-Mode-Secret":"","Dev-Mode-Name":""},n=Object.assign({baseURL:e,withCredentials:!0},r?{headers:{get:r,post:r,put:r,delete:r}}:{});this.axiosApiInstance=YAe.default.create(n)},getGeoreferenceApiClient(){return cn(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=Is.MARKER_URL;if(!cn(e))throw new Error("The marker icon url is not set.");return{id:Is.MARKER_IMAGE_ID,url:e}}};var aVt="vkf-unique-control-panel",WB="basemap-selector",HB=class{constructor(){Xe(this,"id",WB)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${aVt}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},KAe=HB;var qm=re(aMe(),1);var sMe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var a5=3,lMe=e=>`${(0,qm.default)(e[0],7)},${(0,qm.default)(e[1],7)}`,s5=class{constructor(){Xe(this,"buttonCopyPosition");Xe(this,"textElCurrentPosition");Xe(this,"textElSavedPosition");Xe(this,"targetEl");Xe(this,"_container");Xe(this,"_button");Xe(this,"savedPosition");Xe(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),nt("control-mouseposition-save-helper");{let t=nt("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,qm.default)(this.savedPosition[0],a5)+" Lat: "+(0,qm.default)(this.savedPosition[1],a5)}});Xe(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(lMe(r)),this.updatePosition(t)}});Xe(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,qm.default)(i.lng,a5)+", Lat: "+(0,qm.default)(i.lat,a5),n.innerHTML=this.generateSavedText()});Xe(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(lMe(r)),t.target.blur()});Xe(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,u=sMe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let p=document.createElement("p");this.textElCurrentPosition=p;let h=document.createElement("p");this.textElSavedPosition=h;let y=document.createElement("button");y.id="position-copy-to-clipboard",y.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",y.title=nt("control-mouseposition-button-title"),this.buttonCopyPosition=y,y.addEventListener("click",this.handleCopyButtonClick);let x=document.createElement("div");x.className="saved-position-container",x.appendChild(h),x.appendChild(y),o.appendChild(p),o.appendChild(x),u.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),u.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=nt("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function uMe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function n0(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function cMe(e){e.parentNode&&e.parentNode.removeChild(e)}var YB="permalink-control",ZB=class{constructor(){Xe(this,"id",YB)}onAdd(t){return this._map=t,this._container=n0("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},dMe=ZB;var l5=class{constructor(){Xe(this,"_map");Xe(this,"_container");Xe(this,"_terrainButton");uMe(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=n0("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=n0("button","maplibregl-ctrl-terrain",this._container),n0("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){cMe(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function cn(e){return e!=null}function $B(e){return typeof e=="string"||e instanceof String}function nt(e){let t=Nr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var pMe=()=>[{position:"top-left",control:new Iu.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new Iu.FullscreenControl},{position:"top-left",control:new Iu.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new s5},{position:"top-left",control:new l5},{position:"top-left",control:new KAe},{position:"top-left",control:new Iu.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new dMe},{position:"bottom-right",control:new Iu.AttributionControl({compact:!0})},{position:"bottom-right",control:new Iu.ScaleControl({maxWidth:137})}];var qf="vkf-terrain";var fMe=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),hMe=new Set(["visibility"]),Es={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},mc={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var Nf={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"};var mMe=e=>{switch(e){case Nf.HORIZONTAL:default:return"ol-map-large";case Nf.VERTICAL:return"ol-map-small";}};var i0=ci({key:"activeBasemapId",default:Nr.getSettings().BASEMAPS[0].id}),gMe=ci({key:"currentApplicationState",default:void 0}),u5=ci({key:"elementScreenSize",default:{map:{height:0,width:0},layermanagement:{height:0,width:0},padding:{height:15,width:15},offset:{height:15,width:0},spatialtemporalsearch:{height:0,width:0}}}),vMe={facets:[],georeference:!1},Rf=ci({key:"facetState",default:{facets:[],georeference:!1}}),yMe=ci({key:"layoutState",default:Nf.VERTICAL}),ti=ci({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),_Me=ci({key:"map3dState",default:!1}),c5=ci({key:"mapCountState",default:10}),d5=ci({key:"searchIsLoadingState",default:!1}),Eu=ci({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),QTr=ci({key:"selectedOriginalMapIdState",default:void 0}),KB=ci({key:"selectedGeoJsonLayerIdState",default:void 0}),TVt=ci({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),eCr=wB({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(KB),r=e(Eu),n=e(TVt);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),CVt=ci({key:"selectedGeoJsonFeatureIdentifierState",default:{featureId:void 0,sourceId:void 0}}),bMe=wB({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let{featureId:t,sourceId:r}=e(CVt);return cn(t)&&cn(r)}}),p5=ci({key:"timeExtentState",default:[1850,1970]}),XB=[1850,1970],f5=ci({key:"timeRangeState",default:XB}),h5=ci({key:"baseMapStyleLayersState",default:[]}),xMe=ci({key:"activeDialogState",default:Es.None});var Cu=re(Ue(),1);var Ul=[];var wMe=function(){return Ul.some(function(e){return e.activeTargets.length>0})};var SMe=function(){return Ul.some(function(e){return e.skippedTargets.length>0})};var IMe="ResizeObserver loop completed with undelivered notifications.",EMe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:IMe}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=IMe),window.dispatchEvent(e)};var Nm;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Nm||(Nm={}));var Tu=function(e){return Object.freeze(e)};var JB=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Tu(this)}return e}();var QB=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Tu(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,u=t.bottom,p=t.left,h=t.width,y=t.height;return{x:r,y:n,top:i,right:o,bottom:u,left:p,width:h,height:y}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var Mw=function(e){return e instanceof SVGElement&&"getBBox"in e},m5=function(e){if(Mw(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,u=i.offsetHeight;return!(o||u||e.getClientRects().length)},eV=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},TMe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1};var Rm=typeof window!="undefined"?window:{};var g5=new WeakMap,CMe=/auto|scroll/,AVt=/^tb|vertical/,MVt=/msie|trident/i.test(Rm.navigator&&Rm.navigator.userAgent),gc=function(e){return parseFloat(e||"0")},o0=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new JB((r?t:e)||0,(r?e:t)||0)},AMe=Tu({devicePixelContentBoxSize:o0(),borderBoxSize:o0(),contentBoxSize:o0(),contentRect:new QB(0,0,0,0)}),tV=function(e,t){if(t===void 0&&(t=!1),g5.has(e)&&!t)return g5.get(e);if(m5(e))return g5.set(e,AMe),AMe;var r=getComputedStyle(e),n=Mw(e)&&e.ownerSVGElement&&e.getBBox(),i=!MVt&&r.boxSizing==="border-box",o=AVt.test(r.writingMode||""),u=!n&&CMe.test(r.overflowY||""),p=!n&&CMe.test(r.overflowX||""),h=n?0:gc(r.paddingTop),y=n?0:gc(r.paddingRight),x=n?0:gc(r.paddingBottom),E=n?0:gc(r.paddingLeft),T=n?0:gc(r.borderTopWidth),D=n?0:gc(r.borderRightWidth),z=n?0:gc(r.borderBottomWidth),F=n?0:gc(r.borderLeftWidth),q=E+y,N=h+x,B=F+D,Z=T+z,ee=p?e.offsetHeight-Z-e.clientHeight:0,ae=u?e.offsetWidth-B-e.clientWidth:0,ue=i?q+B:0,ve=i?N+Z:0,Oe=n?n.width:gc(r.width)-ue-ae,be=n?n.height:gc(r.height)-ve-ee,ze=Oe+q+ae+B,$e=be+N+ee+Z,He=Tu({devicePixelContentBoxSize:o0(Math.round(Oe*devicePixelRatio),Math.round(be*devicePixelRatio),o),borderBoxSize:o0(ze,$e,o),contentBoxSize:o0(Oe,be,o),contentRect:new QB(E,h,Oe,be)});return g5.set(e,He),He},v5=function(e,t,r){var n=tV(e,r),i=n.borderBoxSize,o=n.contentBoxSize,u=n.devicePixelContentBoxSize;switch(t){case Nm.DEVICE_PIXEL_CONTENT_BOX:return u;case Nm.BORDER_BOX:return i;default:return o;}};var rV=function(){function e(t){var r=tV(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Tu([r.borderBoxSize]),this.contentBoxSize=Tu([r.contentBoxSize]),this.devicePixelContentBoxSize=Tu([r.devicePixelContentBoxSize])}return e}();var y5=function(e){if(m5(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var MMe=function(){var e=1/0,t=[];Ul.forEach(function(u){if(u.activeTargets.length!==0){var p=[];u.activeTargets.forEach(function(y){var x=new rV(y.target),E=y5(y.target);p.push(x),y.lastReportedSize=v5(y.target,y.observedBox),E<e&&(e=E)}),t.push(function(){u.callback.call(u.observer,p,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var nV=function(e){Ul.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(y5(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var PMe=function(){var e=0;for(nV(e);wMe();)e=MMe(),nV(e);return SMe()&&EMe(),e>0};var iV,OMe=[],PVt=function(){return OMe.splice(0).forEach(function(e){return e()})},DMe=function(e){if(!iV){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return PVt()}).observe(r,n),iV=function(){r.textContent="".concat(t?t--:t++)}}OMe.push(e),iV()};var kMe=function(e){DMe(function(){requestAnimationFrame(e)})};var _5=0,OVt=function(){return!!_5},DVt=250,kVt={attributes:!0,characterData:!0,childList:!0,subtree:!0},qMe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],NMe=function(e){return e===void 0&&(e=0),Date.now()+e},oV=!1,qVt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=DVt),!oV){oV=!0;var n=NMe(t);kMe(function(){var i=!1;try{i=PMe()}finally{if(oV=!1,t=n-NMe(),!OVt())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,kVt)};document.body?r():Rm.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),qMe.forEach(function(r){return Rm.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),qMe.forEach(function(r){return Rm.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),b5=new qVt,aV=function(e){!_5&&e>0&&b5.start(),_5+=e,!_5&&b5.stop()};var NVt=function(e){return!Mw(e)&&!TMe(e)&&getComputedStyle(e).display==="inline"},RMe=function(){function e(t,r){this.target=t,this.observedBox=r||Nm.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=v5(this.target,this.observedBox,!0);return NVt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var LMe=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var x5=new WeakMap,zMe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Pw=function(){function e(){}return e.connect=function(t,r){var n=new LMe(t,r);x5.set(t,n)},e.observe=function(t,r,n){var i=x5.get(t),o=i.observationTargets.length===0;zMe(i.observationTargets,r)<0&&(o&&Ul.push(i),i.observationTargets.push(new RMe(r,n&&n.box)),aV(1),b5.schedule())},e.unobserve=function(t,r){var n=x5.get(t),i=zMe(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&Ul.splice(Ul.indexOf(n),1),n.observationTargets.splice(i,1),aV(-1))},e.disconnect=function(t){var r=this,n=x5.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var sV=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Pw.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!eV(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Pw.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!eV(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Pw.unobserve(this,t)},e.prototype.disconnect=function(){Pw.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var FMe=re(Ue()),RVt=FMe.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],jMe=RVt;var w5=re(Ue()),LVt=e=>{let t=w5.useRef(e);return w5.useEffect(()=>{t.current=e}),t},BMe=LVt;var zVt=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:sV;function FVt(){}function jVt(e,t){let r=VVt(),n=BMe(t);return jMe(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return FVt;function u(p,h){i||n.current(p,h)}return r.subscribe(o,u),()=>{i=!0,r.unsubscribe(o,u)}},[e,r,n]),r.observer}function BVt(){let e=!1,t=[],r=new Map,n=new zVt((i,o)=>{t=t.concat(i);function u(){let p=new Set;for(let h=0;h<t.length;h++){if(p.has(t[h].target))continue;p.add(t[h].target);let y=r.get(t[h].target);y==null||y.forEach(x=>x(t[h],o))}t=[],e=!1}e||window.requestAnimationFrame(u),e=!0});return{observer:n,subscribe(i,o){var u;n.observe(i);let p=(u=r.get(i))!==null&&u!==void 0?u:[];p.push(o),r.set(i,p)},unsubscribe(i,o){var u;let p=(u=r.get(i))!==null&&u!==void 0?u:[];if(p.length===1){n.unobserve(i),r.delete(i);return}let h=p.indexOf(o);h!==-1&&p.splice(h,1),r.set(i,p)}}}var lV,VVt=()=>lV||(lV=BVt()),VMe=jVt;function UMe(e,t=250){let r=(0,Cu.useRef)();return(0,Cu.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function S5(e){let[t,r]=(0,Cu.useState)(e);return(0,Cu.useEffect)(()=>{r(e)},[e]),t}function I5(e,t){let r=di(u5),n=uV(e);(0,Cu.useEffect)(()=>{let{height:i,width:o}=n;r(u=>Object.assign({},u,{[t]:{height:i,width:o}}))},[n])}var uV=e=>{let[t,r]=(0,Cu.useState)({height:0,width:0});return(0,Cu.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),VMe(e,n=>r(n.contentRect)),t};var PS=re(Ue(),1),hqe=re(Li(),1);var vc=re(Ue(),1);var UVt=(e,t)=>{let r=ur(ti),[n,i]=(0,vc.useState)(null),[o,u]=fn(xMe),p=(0,vc.useRef)(null),h=(0,vc.useCallback)(x=>{p.current&&!p.current.contains(x.target)&&u(Es.None)},[]),y=(0,vc.useCallback)(()=>{u(x=>x===t?Es.None:t)},[t]);return(0,vc.useEffect)(()=>{if(cn(r)){let x=T=>{var D;((D=T.control)==null?void 0:D.id)===e&&i(T.control._container)},E=T=>{var D;((D=T.control)==null?void 0:D.id)===e&&i(null)};return r.on(mc.controlAdded,x),r.on(mc.controlRemoved,E),()=>{r.off(mc.controlAdded,x),r.off(mc.controlRemoved,E)}}},[r]),(0,vc.useEffect)(()=>(o===t?document.addEventListener("mousedown",h):document.removeEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}),[o,t,h]),{baseMapControlEl:n,activeDialog:o,toggleDialog:y,dialogRef:p}},E5=UVt;var Aa=re(Ue(),1);var SV=re(V5e(),1);function vt(){return vt=SV.default?SV.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vt.apply(this,arguments)}var c3e=re(Q5e(),1);var CV=re(u3e(),1);function Fw(e,t){return Fw=CV.default?CV.default.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function er(e,t){e.prototype=(0,c3e.default)(t.prototype),e.prototype.constructor=e,Fw(e,t)}var g3e=re(m3e(),1);function rr(e,t){if(e==null)return{};var r={},n=(0,g3e.default)(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},en.apply(this,arguments)}function Lm(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var PV=re(Ue());var LMr=re(L5()),JUt=function(){};function y3e(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[u0(n)]=JUt,0)var i}),r}function MV(e,t){return e[t]!==void 0}function u0(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _3e(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zm(e,t)}function jw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zm(e,t)}var c0=re(Ue()),I3e=re(DV()),E3e=re(L5());var e$t="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Od(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=_3e(e),o=Object.keys(t),u=o.map(u0);i||!r.length||(0,E3e.default)(!1);var p=function(y){jw(x,y);function x(){for(var T,D=arguments.length,z=new Array(D),F=0;F<D;F++)z[F]=arguments[F];T=y.call.apply(y,[this].concat(z))||this,T.handlers=Object.create(null),o.forEach(function(N){var B=t[N],Z=function(ae){if(T.props[B]){var ue;T._notifying=!0;for(var ve=arguments.length,Oe=new Array(ve>1?ve-1:0),be=1;be<ve;be++)Oe[be-1]=arguments[be];(ue=T.props)[B].apply(ue,[ae].concat(Oe)),T._notifying=!1}T.unmounted||T.setState(function(ze){var $e,He=ze.values;return{values:en(Object.create(null),He,($e={},$e[N]=ae,$e))}})};T.handlers[B]=Z}),r.length&&(T.attachRef=function(N){T.inner=N});var q=Object.create(null);return o.forEach(function(N){q[N]=T.props[u0(N)]}),T.state={values:q,prevProps:{}},T}var E=x.prototype;return E.shouldComponentUpdate=function(){return!this._notifying},x.getDerivedStateFromProps=function(D,z){var F=z.values,q=z.prevProps,N={values:en(Object.create(null),F),prevProps:{}};return o.forEach(function(B){N.prevProps[B]=D[B],!MV(D,B)&&MV(q,B)&&(N.values[B]=D[u0(B)])}),N},E.componentWillUnmount=function(){this.unmounted=!0},E.render=function(){var D=this,z=this.props,F=z.innerRef,q=Lm(z,["innerRef"]);u.forEach(function(B){delete q[B]});var N={};return o.forEach(function(B){var Z=D.props[B];N[B]=Z!==void 0?Z:D.state.values[B]}),c0.default.createElement(e,en({},q,N,this.handlers,{ref:F||this.attachRef}))},x}(c0.default.Component);(0,I3e.polyfill)(p),p.displayName="Uncontrolled("+n+")",p.propTypes=en({innerRef:function(){}},y3e(t,n)),r.forEach(function(y){p.prototype[y]=function(){var E;return(E=this.inner)[y].apply(E,arguments)}});var h=p;return c0.default.forwardRef&&(h=c0.default.forwardRef(function(y,x){return c0.default.createElement(p,en({},y,{innerRef:x,__source:{fileName:e$t,lineNumber:128},__self:this}))}),h.propTypes=p.propTypes),h.ControlledComponent=e,h.deferControlTo=function(y,x,E){return x===void 0&&(x={}),Od(y,en({},t,x),E)},h}var NV=re(qV());var k3e=re(L5()),z5=re(Wt());var Ea={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},Bw={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var D3e={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},Vw={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function RV(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Or(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,k3e.default)(!1),r+(t?"-"+t:"")}var _r=RV(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=z5.default.string,n.bsClass=e,t}),F5=RV(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(p){n.indexOf(p)===-1&&n.push(p)});var o=z5.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=vt({},i,{bsStyle:o}),t!==void 0){var u=r.defaultProps||(r.defaultProps={});u.bsStyle=t}return r}),yc=RV(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(p){n.indexOf(p)===-1&&n.push(p)});var o=[];n.forEach(function(p){var h=Bw[p];h&&h!==p&&o.push(h),o.push(p)});var u=z5.default.oneOf(o);return u._values=o,r.SIZES=n,r.propTypes=vt({},i,{bsSize:u}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function tn(e){var t,r=(t={},t[Or(e)]=!0,t);if(e.bsSize){var n=Bw[e.bsSize]||e.bsSize;r[Or(e,n)]=!0}return e.bsStyle&&(r[Or(e,e.bsStyle)]=!0),r}function q3e(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function N3e(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function vn(e){var t={};return(0,NV.default)(e).forEach(function(r){var n=r[0],i=r[1];N3e(n)||(t[n]=i)}),[q3e(e),t]}function _c(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,NV.default)(e).forEach(function(i){var o=i[0],u=i[1];!N3e(o)&&!r[o]&&(n[o]=u)}),[q3e(e),n]}var Ho=re(Ue());function a$t(e,t,r){var n=0;return Ho.default.Children.map(e,function(i){return Ho.default.isValidElement(i)?t.call(r,i,n++):i})}function s$t(e,t,r){var n=0;Ho.default.Children.forEach(e,function(i){Ho.default.isValidElement(i)&&t.call(r,i,n++)})}function l$t(e){var t=0;return Ho.default.Children.forEach(e,function(r){Ho.default.isValidElement(r)&&++t}),t}function u$t(e,t,r){var n=0,i=[];return Ho.default.Children.forEach(e,function(o){Ho.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function c$t(e,t,r){var n=0,i;return Ho.default.Children.forEach(e,function(o){i||Ho.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function d$t(e,t,r){var n=0,i=!0;return Ho.default.Children.forEach(e,function(o){i&&Ho.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function p$t(e,t,r){var n=0,i=!1;return Ho.default.Children.forEach(e,function(o){i||Ho.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function f$t(e){var t=[];return Ho.default.Children.forEach(e,function(r){Ho.default.isValidElement(r)&&t.push(r)}),t}var Eo={map:a$t,forEach:s$t,count:l$t,find:c$t,filter:u$t,every:d$t,some:p$t,toArray:f$t};var B5=re(Wt()),LV=re(Uw());var p5r=B5.default.oneOfType([B5.default.string,B5.default.number]);function L3e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,LV.default)(function(n,i,o){var u;return t.every(function(p){return Eo.some(n.children,function(h){return h.props.bsRole===p})?!0:(u=p,!1)}),u?new Error("(children) "+o+" - Missing a required child with bsRole: "+(u+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function z3e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,LV.default)(function(n,i,o){var u;return t.every(function(p){var h=Eo.filter(n.children,function(y){return y.props.bsRole===p});return h.length>1?(u=p,!1):!0}),u?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(u+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}var zV=re(Wt()),$w=re(Ue()),g$t={label:zV.default.string.isRequired,onClick:zV.default.func},v$t={label:"Close"},FV=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,u=i.onClick;return $w.default.createElement("button",{type:"button",className:"close",onClick:u},$w.default.createElement("span",{"aria-hidden":"true"},"\xD7"),$w.default.createElement("span",{className:"sr-only"},o))},t}($w.default.Component);FV.propTypes=g$t;FV.defaultProps=v$t;var H3e=FV;function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var UV=re(Ue()),Dd=re(Wt()),Q3e=re(Wo());function M$t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];n.apply(this,p),i.apply(this,p)}},null)}var ii=M$t;var P$t={href:Dd.default.string,onClick:Dd.default.func,onKeyDown:Dd.default.func,disabled:Dd.default.bool,role:Dd.default.string,tabIndex:Dd.default.oneOfType([Dd.default.number,Dd.default.string]),componentClass:Q3e.default},O$t={componentClass:"a"};function J3e(e){return!e||e.trim()==="#"}var $V=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Dr(Dr(o))),o.handleKeyDown=o.handleKeyDown.bind(Dr(Dr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.disabled,p=o.href,h=o.onClick;if((u||J3e(p))&&i.preventDefault(),u){i.stopPropagation();return}h&&h(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,u=i.disabled,p=i.onKeyDown,h=rr(i,["componentClass","disabled","onKeyDown"]);return J3e(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),u&&(h.tabIndex=-1,h.style=vt({pointerEvents:"none"},h.style)),UV.default.createElement(o,vt({},h,{onClick:this.handleClick,onKeyDown:ii(this.handleKeyDown,p)}))},t}(UV.default.Component);$V.propTypes=P$t;$V.defaultProps=O$t;var zf=$V;var ePe=re($3e());var HV=re(Yr()),Q5=re(Ue()),Fm=re(Wt()),tPe=re(Wo());var D$t={active:Fm.default.bool,disabled:Fm.default.bool,block:Fm.default.bool,onClick:Fm.default.func,componentClass:tPe.default,href:Fm.default.string,type:Fm.default.oneOf(["button","reset","submit"])},k$t={active:!1,block:!1,disabled:!1},WV=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return Q5.default.createElement(zf,vt({},i,{className:(0,HV.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var u=i.componentClass,p=rr(i,["componentClass"]),h=u||"button";return Q5.default.createElement(h,vt({},p,{type:p.type||"button",className:o}))},r.render=function(){var i,o=this.props,u=o.active,p=o.block,h=o.className,y=rr(o,["active","block","className"]),x=vn(y),E=x[0],T=x[1],D=vt({},tn(E),(i={active:u},i[Or(E,"block")]=p,i)),z=(0,HV.default)(h,D);return T.href?this.renderAnchor(T,z):this.renderButton(T,z)},t}(Q5.default.Component);WV.propTypes=D$t;WV.defaultProps=k$t;var Ta=_r("btn",yc([Ea.LARGE,Ea.SMALL,Ea.XSMALL],F5((0,ePe.default)(D3e).concat([Vw.DEFAULT,Vw.PRIMARY,Vw.LINK]),Vw.DEFAULT,WV)));var nPe=re(Yr()),GV=re(Ue()),t3=re(Wt()),iPe=re(Hw());var z$t={vertical:t3.default.bool,justified:t3.default.bool,block:(0,iPe.default)(t3.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},F$t={block:!1,justified:!1,vertical:!1},ZV=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.block,p=o.justified,h=o.vertical,y=o.className,x=rr(o,["block","justified","vertical","className"]),E=vn(x),T=E[0],D=E[1],z=vt({},tn(T),(i={},i[Or(T)]=!h,i[Or(T,"vertical")]=h,i[Or(T,"justified")]=p,i[Or(Ta.defaultProps,"block")]=u,i));return GV.default.createElement("div",vt({},D,{className:(0,nPe.default)(y,z)}))},t}(GV.default.Component);ZV.propTypes=z$t;ZV.defaultProps=F$t;var oPe=_r("btn-group",ZV);var aPe=re(Yr()),YV=re(Ue()),sPe=re(Wt());var j$t={glyph:sPe.default.string.isRequired},lPe=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.glyph,p=o.className,h=rr(o,["glyph","className"]),y=vn(h),x=y[0],E=y[1],T=vt({},tn(x),(i={},i[Or(x,u)]=!0,i));return YV.default.createElement("span",vt({},E,{className:(0,aPe.default)(p,T)}))},t}(YV.default.Component);lPe.propTypes=j$t;var no=_r("glyphicon",lPe);var cPe=re(Yr()),KV=re(Ue()),r3=re(Wt()),J5r=re(Ff());var V$t={htmlFor:r3.default.string,srOnly:r3.default.bool},U$t={srOnly:!1},$$t={$bs_formGroup:r3.default.object},n3=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,p=u.htmlFor,h=p===void 0?o:p,y=u.srOnly,x=u.className,E=rr(u,["htmlFor","srOnly","className"]),T=vn(E),D=T[0],z=T[1],F=vt({},tn(D),{"sr-only":y});return KV.default.createElement("label",vt({},z,{htmlFor:h,className:(0,cPe.default)(x,F)}))},t}(KV.default.Component);n3.propTypes=V$t;n3.defaultProps=U$t;n3.contextTypes=$$t;var XV=_r("control-label",n3);var W4e=re(Yr()),G4e=re(sU()),Z4e=re(h0()),O3=re(y3()),g0=re(Ue()),Ka=re(Wt()),EU=re(Li()),Y4e=re(Hw()),K4e=re(Wo()),X4e=re(b3());var Z3r=re(Ff());var B4e=re(O4e());var V4e=re(Yr()),eS=re(y3()),tS=re(Ue()),qd=re(Wt()),U4e=re(Li()),$4e=re(bU());var JWt={open:qd.default.bool,pullRight:qd.default.bool,onClose:qd.default.func,labelledBy:qd.default.oneOfType([qd.default.string,qd.default.number]),onSelect:qd.default.func,rootCloseEvent:qd.default.oneOf(["click","mousedown"])},QWt={bsRole:"menu",pullRight:!1},xU=function(e){er(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(Dr(Dr(i))),i.handleKeyDown=i.handleKeyDown.bind(Dr(Dr(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=U4e.default.findDOMNode(this);return i?(0,B4e.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var p=u===o.length-1?0:u+1;o[p].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var p=u===0?o.length-1:u-1;o[p].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case eS.default.codes.down:this.focusNext(),i.preventDefault();break;case eS.default.codes.up:this.focusPrevious(),i.preventDefault();break;case eS.default.codes.esc:case eS.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,u=this.props,p=u.open,h=u.pullRight,y=u.labelledBy,x=u.onSelect,E=u.className,T=u.rootCloseEvent,D=u.children,z=rr(u,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),F=_c(z,["onClose"]),q=F[0],N=F[1],B=vt({},tn(q),(i={},i[Or(q,"right")]=h,i));return tS.default.createElement($4e.default,{disabled:!p,onRootClose:this.handleRootClose,event:T},tS.default.createElement("ul",vt({},N,{role:"menu",className:(0,V4e.default)(E,B),"aria-labelledby":y}),Eo.map(D,function(Z){return tS.default.cloneElement(Z,{onKeyDown:ii(Z.props.onKeyDown,o.handleKeyDown),onSelect:ii(Z.props.onSelect,x)})})))},t}(tS.default.Component);xU.propTypes=JWt;xU.defaultProps=QWt;var wU=_r("dropdown-menu",xU);var P3=re(Ue()),rS=re(Wt()),H4e=re(Yr());var eGt={noCaret:rS.default.bool,open:rS.default.bool,title:rS.default.string,useAnchor:rS.default.bool},tGt={open:!1,useAnchor:!1,bsRole:"toggle"},SU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,u=i.open,p=i.useAnchor,h=i.bsClass,y=i.className,x=i.children,E=rr(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete E.bsRole;var T=p?zf:Ta,D=!o;return P3.default.createElement(T,vt({},E,{role:"button",className:(0,H4e.default)(y,h),"aria-haspopup":!0,"aria-expanded":u}),x||E.title,D&&" ",D&&P3.default.createElement("span",{className:"caret"}))},t}(P3.default.Component);SU.propTypes=eGt;SU.defaultProps=tGt;var IU=_r("dropdown-toggle",SU);var J4e=IU.defaultProps.bsRole,TU=wU.defaultProps.bsRole,rGt={dropup:Ka.default.bool,id:(0,X4e.default)(Ka.default.oneOfType([Ka.default.string,Ka.default.number])),componentClass:K4e.default,children:(0,Y4e.default)(L3e(J4e,TU),z3e(TU)),disabled:Ka.default.bool,pullRight:Ka.default.bool,open:Ka.default.bool,defaultOpen:Ka.default.bool,onToggle:Ka.default.func,onSelect:Ka.default.func,role:Ka.default.string,rootCloseEvent:Ka.default.oneOf(["click","mousedown"]),onMouseEnter:Ka.default.func,onMouseLeave:Ka.default.func},nGt={componentClass:oPe},D3=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Dr(Dr(o))),o.handleKeyDown=o.handleKeyDown.bind(Dr(Dr(o))),o.handleClose=o.handleClose.bind(Dr(Dr(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,Z4e.default)(EU.default.findDOMNode(this.menu),(0,G4e.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,u=i.open;o&&!u&&this.focusNextOnOpen(),!o&&u&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=EU.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case O3.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case O3.default.codes.esc:case O3.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var u=!this.props.open;u&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(u,i,o)},r.renderMenu=function(i,o){var u=this,p=o.id,h=o.onSelect,y=o.rootCloseEvent,x=rr(o,["id","onSelect","rootCloseEvent"]),E=function(D){u.menu=D};return typeof i.ref=="string"||(E=ii(i.ref,E)),(0,g0.cloneElement)(i,vt({},x,{ref:E,labelledBy:p,bsClass:Or(x,"menu"),onClose:ii(i.props.onClose,this.handleClose),onSelect:ii(i.props.onSelect,h,function(T,D){return u.handleClose(D,{source:"select"})}),rootCloseEvent:y}))},r.renderToggle=function(i,o){var u=this,p=function(y){u.toggle=y};return typeof i.ref=="string"||(p=ii(i.ref,p)),(0,g0.cloneElement)(i,vt({},o,{ref:p,bsClass:Or(o,"toggle"),onClick:ii(i.props.onClick,this.handleClick),onKeyDown:ii(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,u=this.props,p=u.componentClass,h=u.id,y=u.dropup,x=u.disabled,E=u.pullRight,T=u.open,D=u.onSelect,z=u.role,F=u.bsClass,q=u.className,N=u.rootCloseEvent,B=u.children,Z=rr(u,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete Z.onToggle;var ee=(i={},i[F]=!0,i.open=T,i.disabled=x,i);return y&&(ee[F]=!1,ee.dropup=!0),g0.default.createElement(p,vt({},Z,{className:(0,W4e.default)(q,ee)}),Eo.map(B,function(ae){switch(ae.props.bsRole){case J4e:return o.renderToggle(ae,{id:h,disabled:x,open:T,role:z,bsClass:F});case TU:return o.renderMenu(ae,{id:h,open:T,pullRight:E,bsClass:F,onSelect:D,rootCloseEvent:N});default:return ae;}}))},t}(g0.default.Component);D3.propTypes=rGt;D3.defaultProps=nGt;_r("dropdown",D3);var CU=Od(D3,{open:"onToggle"});CU.Toggle=IU;CU.Menu=wU;var nS=CU;var Q4e=re(qV());function AU(e,t){var r=t.propTypes,n={},i={};return(0,Q4e.default)(e).forEach(function(o){var u=o[0],p=o[1];r[u]?n[u]=p:i[u]=p}),[n,i]}var eOe=re(Yr()),q3=re(Ue()),Hl=re(Wt()),v0=re(qPe()),k3,iGt={in:Hl.default.bool,mountOnEnter:Hl.default.bool,unmountOnExit:Hl.default.bool,appear:Hl.default.bool,timeout:Hl.default.number,onEnter:Hl.default.func,onEntering:Hl.default.func,onEntered:Hl.default.func,onExit:Hl.default.func,onExiting:Hl.default.func,onExited:Hl.default.func},oGt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},aGt=(k3={},k3[v0.ENTERING]="in",k3[v0.ENTERED]="in",k3),MU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=i.children,p=rr(i,["className","children"]);return q3.default.createElement(v0.default,p,function(h,y){return q3.default.cloneElement(u,vt({},y,{className:(0,eOe.default)("fade",o,u.props.className,aGt[h])}))})},t}(q3.default.Component);MU.propTypes=iGt;MU.defaultProps=oGt;var Bf=MU;var tOe=re(Yr()),PU=re(Ue()),OU=re(Wt()),rOe=re(Wo());var sGt={horizontal:OU.default.bool,inline:OU.default.bool,componentClass:rOe.default},lGt={horizontal:!1,inline:!1,componentClass:"form"},DU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,u=i.inline,p=i.componentClass,h=i.className,y=rr(i,["horizontal","inline","componentClass","className"]),x=vn(y),E=x[0],T=x[1],D=[];return o&&D.push(Or(E,"horizontal")),u&&D.push(Or(E,"inline")),PU.default.createElement(p,vt({},T,{className:(0,tOe.default)(h,D)}))},t}(PU.default.Component);DU.propTypes=sGt;DU.defaultProps=lGt;var kU=_r("form",DU);var lOe=re(Yr()),zU=re(Ue()),oS=re(Wt()),uOe=re(Wo()),APr=re(Ff());var qU=re(Yr()),iS=re(Ue()),nOe=re(Wt());var uGt={bsRole:"feedback"},cGt={$bs_formGroup:nOe.default.object},NU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null;}},r.renderDefaultFeedback=function(i,o,u,p){var h=this.getGlyph(i&&i.validationState);return h?iS.default.createElement(no,vt({},p,{glyph:h,className:(0,qU.default)(o,u)})):null},r.render=function(){var i=this.props,o=i.className,u=i.children,p=rr(i,["className","children"]),h=vn(p),y=h[0],x=h[1],E=tn(y);if(!u)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,E,x);var T=iS.default.Children.only(u);return iS.default.cloneElement(T,vt({},x,{className:(0,qU.default)(T.props.className,o,E)}))},t}(iS.default.Component);NU.defaultProps=uGt;NU.contextTypes=cGt;var iOe=_r("form-control-feedback",NU);var oOe=re(Yr()),RU=re(Ue()),aOe=re(Wo());var dGt={componentClass:aOe.default},pGt={componentClass:"p"},LU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=rr(i,["componentClass","className"]),h=vn(p),y=h[0],x=h[1],E=tn(y);return RU.default.createElement(o,vt({},x,{className:(0,oOe.default)(u,E)}))},t}(RU.default.Component);LU.propTypes=dGt;LU.defaultProps=pGt;var sOe=_r("form-control-static",LU);var fGt={componentClass:uOe.default,type:oS.default.string,id:oS.default.string,inputRef:oS.default.func},hGt={componentClass:"input"},mGt={$bs_formGroup:oS.default.object},y0=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,p=u.componentClass,h=u.type,y=u.id,x=y===void 0?o:y,E=u.inputRef,T=u.className,D=u.bsSize,z=rr(u,["componentClass","type","id","inputRef","className","bsSize"]),F=vn(z),q=F[0],N=F[1],B;if(h!=="file"&&(B=tn(q)),D){var Z=Bw[D]||D;B[Or({bsClass:"input"},Z)]=!0}return zU.default.createElement(p,vt({},N,{type:h,id:x,ref:E,className:(0,lOe.default)(T,B)}))},t}(zU.default.Component);y0.propTypes=fGt;y0.defaultProps=hGt;y0.contextTypes=mGt;y0.Feedback=iOe;y0.Static=sOe;var FU=_r("form-control",yc([Ea.SMALL,Ea.LARGE],y0));var cOe=re(Yr()),jU=re(Ue()),N3=re(Wt());var gGt={controlId:N3.default.string,validationState:N3.default.oneOf(["success","warning","error",null])},vGt={$bs_formGroup:N3.default.object.isRequired},BU=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,u=i.validationState;return{$bs_formGroup:{controlId:o,validationState:u}}},r.hasFeedback=function(i){var o=this;return Eo.some(i,function(u){return u.props.bsRole==="feedback"||u.props.children&&o.hasFeedback(u.props.children)})},r.render=function(){var i=this.props,o=i.validationState,u=i.className,p=i.children,h=rr(i,["validationState","className","children"]),y=_c(h,["controlId"]),x=y[0],E=y[1],T=vt({},tn(x),{"has-feedback":this.hasFeedback(p)});return o&&(T["has-"+o]=!0),jU.default.createElement("div",vt({},E,{className:(0,cOe.default)(u,T)}),p)},t}(jU.default.Component);BU.propTypes=gGt;BU.childContextTypes=vGt;var VU=_r("form-group",yc([Ea.LARGE,Ea.SMALL],BU));var dOe=re(Yr()),UU=re(Ue());var yGt=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=rr(i,["className"]),p=vn(u),h=p[0],y=p[1],x=tn(h);return UU.default.createElement("span",vt({},y,{className:(0,dOe.default)(o,x)}))},t}(UU.default.Component),$U=_r("help-block",yGt);var R3=re(Yr()),_0=re(Ue()),Nd=re(Wt()),pOe=re(Hw());var _Gt={active:Nd.default.bool,disabled:Nd.default.bool,divider:(0,pOe.default)(Nd.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:Nd.default.any,header:Nd.default.bool,href:Nd.default.string,onClick:Nd.default.func,onSelect:Nd.default.func},bGt={divider:!1,disabled:!1,header:!1},HU=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Dr(Dr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.href,p=o.disabled,h=o.onSelect,y=o.eventKey;(!u||p)&&i.preventDefault(),!p&&h&&h(y,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,p=i.divider,h=i.header,y=i.onClick,x=i.className,E=i.style,T=rr(i,["active","disabled","divider","header","onClick","className","style"]),D=_c(T,["eventKey","onSelect"]),z=D[0],F=D[1];return p?(F.children=void 0,_0.default.createElement("li",vt({},F,{role:"separator",className:(0,R3.default)(x,"divider"),style:E}))):h?_0.default.createElement("li",vt({},F,{role:"heading",className:(0,R3.default)(x,Or(z,"header")),style:E})):_0.default.createElement("li",{role:"presentation",className:(0,R3.default)(x,{active:o,disabled:u}),style:E},_0.default.createElement(zf,vt({},F,{role:"menuitem",tabIndex:"-1",onClick:ii(y,this.handleClick)})))},t}(_0.default.Component);HU.propTypes=_Gt;HU.defaultProps=bGt;var WU=_r("dropdown",HU);var v$=re(Yr()),y$=re(EOe()),BDe=re(Vm()),VDe=re(bc()),_$=re(YU()),w0=re(Ue()),Co=re(Wt()),UDe=re(Li()),S0=re(CDe()),$De=re(QU()),HDe=re(Wo());var ADe=re(Yr()),c$=re(Ue()),MDe=re(Wo());var OYt={componentClass:MDe.default},DYt={componentClass:"div"},d$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=rr(i,["componentClass","className"]),h=vn(p),y=h[0],x=h[1],E=tn(y);return c$.default.createElement(o,vt({},x,{className:(0,ADe.default)(u,E)}))},t}(c$.default.Component);d$.propTypes=OYt;d$.defaultProps=DYt;var PDe=_r("modal-body",d$);var p$=re(Yr()),dS=re(Ue()),ODe=re(Wt());var kYt={dialogClassName:ODe.default.string},DDe=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.dialogClassName,p=o.className,h=o.style,y=o.children,x=o.onMouseDownDialog,E=rr(o,["dialogClassName","className","style","children","onMouseDownDialog"]),T=vn(E),D=T[0],z=T[1],F=Or(D),q=vt({display:"block"},h),N=vt({},tn(D),(i={},i[F]=!1,i[Or(D,"dialog")]=!0,i));return dS.default.createElement("div",vt({},z,{tabIndex:"-1",role:"dialog",style:q,className:(0,p$.default)(p,F)}),dS.default.createElement("div",{className:(0,p$.default)(u,N),onMouseDown:x},dS.default.createElement("div",{className:Or(D,"content"),role:"document"},y)))},t}(dS.default.Component);DDe.propTypes=kYt;var nP=_r("modal",yc([Ea.LARGE,Ea.SMALL],DDe));var kDe=re(Yr()),f$=re(Ue()),qDe=re(Wo());var qYt={componentClass:qDe.default},NYt={componentClass:"div"},h$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=rr(i,["componentClass","className"]),h=vn(p),y=h[0],x=h[1],E=tn(y);return f$.default.createElement(o,vt({},x,{className:(0,kDe.default)(u,E)}))},t}(f$.default.Component);h$.propTypes=qYt;h$.defaultProps=NYt;var NDe=_r("modal-footer",h$);var RDe=re(Yr()),x0=re(Wt()),iP=re(Ue());var RYt={closeLabel:x0.default.string,closeButton:x0.default.bool,onHide:x0.default.func},LYt={closeLabel:"Close",closeButton:!1},zYt={$bs_modal:x0.default.shape({onHide:x0.default.func})},oP=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,u=i.closeButton,p=i.onHide,h=i.className,y=i.children,x=rr(i,["closeLabel","closeButton","onHide","className","children"]),E=this.context.$bs_modal,T=vn(x),D=T[0],z=T[1],F=tn(D);return iP.default.createElement("div",vt({},z,{className:(0,RDe.default)(h,F)}),u&&iP.default.createElement(H3e,{label:o,onClick:ii(E&&E.onHide,p)}),y)},t}(iP.default.Component);oP.propTypes=RYt;oP.defaultProps=LYt;oP.contextTypes=zYt;var LDe=_r("modal-header",oP);var zDe=re(Yr()),m$=re(Ue()),FDe=re(Wo());var FYt={componentClass:FDe.default},jYt={componentClass:"h4"},g$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=rr(i,["componentClass","className"]),h=vn(p),y=h[0],x=h[1],E=tn(y);return m$.default.createElement(o,vt({},x,{className:(0,zDe.default)(u,E)}))},t}(m$.default.Component);g$.propTypes=FYt;g$.defaultProps=jYt;var jDe=_r("modal-title",g$);var BYt=vt({},S0.default.propTypes,nP.propTypes,{backdrop:Co.default.oneOf(["static",!0,!1]),backdropClassName:Co.default.string,keyboard:Co.default.bool,animation:Co.default.bool,dialogComponentClass:HDe.default,autoFocus:Co.default.bool,enforceFocus:Co.default.bool,restoreFocus:Co.default.bool,show:Co.default.bool,onHide:Co.default.func,onEnter:Co.default.func,onEntering:Co.default.func,onEntered:Co.default.func,onExit:Co.default.func,onExiting:Co.default.func,onExited:Co.default.func,container:S0.default.propTypes.container}),VYt=vt({},S0.default.defaultProps,{animation:!0,dialogComponentClass:nP}),UYt={$bs_modal:Co.default.shape({onHide:Co.default.func})};function $Yt(e){return w0.default.createElement(Bf,vt({},e,{timeout:nl.TRANSITION_DURATION}))}function HYt(e){return w0.default.createElement(Bf,vt({},e,{timeout:nl.BACKDROP_TRANSITION_DURATION}))}var nl=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(u){var p=o._modal.getDialogElement();o._waitingForMouseUp&&u.target===p&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(Dr(Dr(o))),o.handleExited=o.handleExited.bind(Dr(Dr(o))),o.handleWindowResize=o.handleWindowResize.bind(Dr(Dr(o))),o.handleDialogClick=o.handleDialogClick.bind(Dr(Dr(o))),o.setModalRef=o.setModalRef.bind(Dr(Dr(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){y$.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){y$.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(VDe.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,u=(0,BDe.default)(i),p=(0,$De.default)(UDe.default.findDOMNode(this.props.container||u.body)),h=o>u.documentElement.clientHeight;this.setState({style:{paddingRight:p&&!h?(0,_$.default)():void 0,paddingLeft:!p&&h?(0,_$.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,u=i.backdropClassName,p=i.animation,h=i.show,y=i.dialogComponentClass,x=i.className,E=i.style,T=i.children,D=i.onEntering,z=i.onExited,F=rr(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),q=AU(F,S0.default),N=q[0],B=q[1],Z=h&&!p&&"in";return w0.default.createElement(S0.default,vt({},N,{ref:this.setModalRef,show:h,containerClassName:Or(F,"open"),transition:p?$Yt:void 0,backdrop:o,backdropTransition:p?HYt:void 0,backdropClassName:(0,v$.default)(Or(F,"backdrop"),u,Z),onEntering:ii(D,this.handleEntering),onExited:ii(z,this.handleExited),onMouseUp:this.handleMouseUp}),w0.default.createElement(y,vt({},B,{style:vt({},this.state.style,E),className:(0,v$.default)(x,Z),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),T))},t}(w0.default.Component);nl.propTypes=BYt;nl.defaultProps=VYt;nl.childContextTypes=UYt;nl.Body=PDe;nl.Header=LDe;nl.Title=jDe;nl.Footer=NDe;nl.Dialog=nP;nl.TRANSITION_DURATION=300;nl.BACKDROP_TRANSITION_DURATION=150;var Wl=_r("modal",yc([Ea.LARGE,Ea.SMALL],nl));var WDe=re(Yr()),pS=re(y3()),fS=re(Ue()),Ao=re(Wt()),GDe=re(Li()),ZDe=re(Hw()),J4r=re(Ff());var WYt={activeKey:Ao.default.any,activeHref:Ao.default.string,stacked:Ao.default.bool,justified:(0,ZDe.default)(Ao.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:Ao.default.func,role:Ao.default.string,navbar:Ao.default.bool,pullRight:Ao.default.bool,pullLeft:Ao.default.bool},GYt={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},ZYt={$bs_navbar:Ao.default.shape({bsClass:Ao.default.string,onSelect:Ao.default.func}),$bs_tabContainer:Ao.default.shape({activeKey:Ao.default.any,onSelect:Ao.default.func.isRequired,getTabId:Ao.default.func.isRequired,getPaneId:Ao.default.func.isRequired})},aP=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,u=this.getActiveProps(),p=u.activeKey,h=u.activeHref,y=Eo.find(o,function(z){return i.isActive(z,p,h)}),x=Eo.toArray(o),E=x.indexOf(y),T=GDe.default.findDOMNode(this).children,D=T&&T[E];!D||!D.firstChild||D.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,u=this.props.children,p=Eo.filter(u,function(F){return F.props.eventKey!=null&&!F.props.disabled}),h=this.getActiveProps(),y=h.activeKey,x=h.activeHref,E=Eo.find(u,function(F){return o.isActive(F,y,x)}),T=p.indexOf(E);if(T===-1)return p[0];var D=T+i,z=p.length;return D>=z?D=0:D<0&&(D=z-1),p[D]},r.getTabProps=function(i,o,u,p,h){var y=this;if(!o&&u!=="tablist")return null;var x=i.props,E=x.id,T=x["aria-controls"],D=x.eventKey,z=x.role,F=x.onKeyDown,q=x.tabIndex;return o&&(E=o.getTabId(D),T=o.getPaneId(D)),u==="tablist"&&(z=z||"tab",F=ii(function(N){return y.handleTabKeyDown(h,N)},F),q=p?q:-1),{id:E,role:z,onKeyDown:F,"aria-controls":T,tabIndex:q}},r.handleTabKeyDown=function(i,o){var u;switch(o.keyCode){case pS.default.codes.left:case pS.default.codes.up:u=this.getNextActiveChild(-1);break;case pS.default.codes.right:case pS.default.codes.down:u=this.getNextActiveChild(1);break;default:return;}o.preventDefault(),i&&u&&u.props.eventKey!=null&&i(u.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,u){var p=i.props;return p.active||o!=null&&p.eventKey===o||u&&p.href===u?!0:p.active},r.render=function(){var i,o=this,u=this.props,p=u.stacked,h=u.justified,y=u.onSelect,x=u.role,E=u.navbar,T=u.pullRight,D=u.pullLeft,z=u.className,F=u.children,q=rr(u,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),N=this.context.$bs_tabContainer,B=x||(N?"tablist":null),Z=this.getActiveProps(),ee=Z.activeKey,ae=Z.activeHref;delete q.activeKey,delete q.activeHref;var ue=vn(q),ve=ue[0],Oe=ue[1],be=vt({},tn(ve),(i={},i[Or(ve,"stacked")]=p,i[Or(ve,"justified")]=h,i)),ze=E!=null?E:this.context.$bs_navbar,$e,He;if(ze){var Re=this.context.$bs_navbar||{bsClass:"navbar"};be[Or(Re,"nav")]=!0,He=Or(Re,"right"),$e=Or(Re,"left")}else He="pull-right",$e="pull-left";return be[He]=T,be[$e]=D,fS.default.createElement("ul",vt({},Oe,{role:B,className:(0,WDe.default)(z,be)}),Eo.map(F,function(Je){var ot=o.isActive(Je,ee,ae),Be=ii(Je.props.onSelect,y,ze&&ze.onSelect,N&&N.onSelect);return(0,fS.cloneElement)(Je,vt({},o.getTabProps(Je,N,B,ot,Be),{active:ot,activeKey:ee,activeHref:ae,onSelect:Be}))}))},t}(fS.default.Component);aP.propTypes=WYt;aP.defaultProps=GYt;aP.contextTypes=ZYt;var YDe=_r("nav",F5(["tabs","pills"],aP));var KDe=re(Yr()),sP=re(Ue()),Hf=re(Wt());var YYt={active:Hf.default.bool,disabled:Hf.default.bool,role:Hf.default.string,href:Hf.default.string,onClick:Hf.default.func,onSelect:Hf.default.func,eventKey:Hf.default.any},KYt={active:!1,disabled:!1},b$=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Dr(Dr(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,p=i.onClick,h=i.className,y=i.style,x=rr(i,["active","disabled","onClick","className","style"]);return delete x.onSelect,delete x.eventKey,delete x.activeKey,delete x.activeHref,x.role?x.role==="tab"&&(x["aria-selected"]=o):x.href==="#"&&(x.role="button"),sP.default.createElement("li",{role:"presentation",className:(0,KDe.default)(h,{active:o,disabled:u}),style:y},sP.default.createElement(zf,vt({},x,{disabled:u,onClick:ii(p,this.handleClick)})))},t}(sP.default.Component);b$.propTypes=YYt;b$.defaultProps=KYt;var XDe=b$;var Tke=re(Yr()),gS=re(Ue()),il=re(Wt()),C$=re(Eke()),Cke=re(Wo());var JKt=vt({},C$.default.propTypes,{show:il.default.bool,rootClose:il.default.bool,onHide:il.default.func,animation:il.default.oneOfType([il.default.bool,Cke.default]),onEnter:il.default.func,onEntering:il.default.func,onEntered:il.default.func,onExit:il.default.func,onExiting:il.default.func,onExited:il.default.func,placement:il.default.oneOf(["top","right","bottom","left"])}),QKt={animation:Bf,rootClose:!1,show:!1,placement:"right"},A$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,u=i.children,p=rr(i,["animation","children"]),h=o===!0?Bf:o||null,y;return h?y=u:y=(0,gS.cloneElement)(u,{className:(0,Tke.default)(u.props.className,"in")}),gS.default.createElement(C$.default,vt({},p,{transition:h}),y)},t}(gS.default.Component);A$.propTypes=JKt;A$.defaultProps=QKt;var M$=A$;var P$=re(Yr()),T0=re(Ue()),C0=re(Wt()),bOr=re(Ff());var eXt={inline:C0.default.bool,disabled:C0.default.bool,title:C0.default.string,validationState:C0.default.oneOf(["success","warning","error",null]),inputRef:C0.default.func},tXt={inline:!1,disabled:!1,title:""},O$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,u=i.disabled,p=i.validationState,h=i.inputRef,y=i.className,x=i.style,E=i.title,T=i.children,D=rr(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),z=vn(D),F=z[0],q=z[1],N=T0.default.createElement("input",vt({},q,{ref:h,type:"radio",disabled:u}));if(o){var B,Z=(B={},B[Or(F,"inline")]=!0,B.disabled=u,B);return T0.default.createElement("label",{className:(0,P$.default)(y,Z),style:x,title:E},N,T)}var ee=vt({},tn(F),{disabled:u});return p&&(ee["has-"+p]=!0),T0.default.createElement("div",{className:(0,P$.default)(y,ee),style:x},T0.default.createElement("label",{title:E},N,T))},t}(T0.default.Component);O$.propTypes=eXt;O$.defaultProps=tXt;var D$=_r("radio",O$);var R$=re(Ue()),EP=re(Wt());var yP=re(Ue()),Gl=re(Wt());var rXt="tab",nXt="pane",iXt=Gl.default.oneOfType([Gl.default.string,Gl.default.number]),oXt={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=iXt.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Gl.default.func,onSelect:Gl.default.func,activeKey:Gl.default.any},aXt={$bs_tabContainer:Gl.default.shape({activeKey:Gl.default.any,onSelect:Gl.default.func.isRequired,getTabId:Gl.default.func.isRequired,getPaneId:Gl.default.func.isRequired})},k$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,u=i.onSelect,p=i.generateChildId,h=i.id,y=p||function(x,E){return h?h+"-"+E+"-"+x:null};return{$bs_tabContainer:{activeKey:o,onSelect:u,getTabId:function(E){return y(E,rXt)},getPaneId:function(E){return y(E,nXt)}}}},r.render=function(){var i=this.props,o=i.children,u=rr(i,["children"]);return delete u.generateChildId,delete u.onSelect,delete u.activeKey,yP.default.cloneElement(yP.default.Children.only(o),u)},t}(yP.default.Component);k$.propTypes=oXt;k$.childContextTypes=aXt;var _P=Od(k$,{activeKey:"onSelect"});var Ake=re(Yr()),q$=re(Ue()),Zo=re(Wt()),bP=re(Wo());var sXt={componentClass:bP.default,animation:Zo.default.oneOfType([Zo.default.bool,bP.default]),mountOnEnter:Zo.default.bool,unmountOnExit:Zo.default.bool},lXt={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},uXt={$bs_tabContainer:Zo.default.shape({activeKey:Zo.default.any})},cXt={$bs_tabContent:Zo.default.shape({bsClass:Zo.default.string,animation:Zo.default.oneOfType([Zo.default.bool,bP.default]),activeKey:Zo.default.any,mountOnEnter:Zo.default.bool,unmountOnExit:Zo.default.bool,onPaneEnter:Zo.default.func.isRequired,onPaneExited:Zo.default.func.isRequired,exiting:Zo.default.bool.isRequired})},vS=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(Dr(Dr(o))),o.handlePaneExited=o.handlePaneExited.bind(Dr(Dr(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,u=i.animation,p=i.mountOnEnter,h=i.unmountOnExit,y=this.state.activeKey,x=this.getContainerActiveKey(),E=y!=null?y:x,T=y!=null&&y!==x;return{$bs_tabContent:{bsClass:o,animation:u,activeKey:E,mountOnEnter:p,unmountOnExit:h,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:T}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var u=o.activeChild;return u!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=rr(i,["componentClass","className"]),h=_c(p,["animation","mountOnEnter","unmountOnExit"]),y=h[0],x=h[1];return q$.default.createElement(o,vt({},x,{className:(0,Ake.default)(u,Or(y,"content"))}))},t}(q$.default.Component);vS.propTypes=sXt;vS.defaultProps=lXt;vS.contextTypes=uXt;vS.childContextTypes=cXt;var xP=_r("tab",vS);var Mke=re(Yr()),wP=re(Ue()),Vn=re(Wt()),N$=re(Wo()),zOr=re(Ff());var dXt={eventKey:Vn.default.any,animation:Vn.default.oneOfType([Vn.default.bool,N$.default]),id:Vn.default.string,"aria-labelledby":Vn.default.string,bsClass:Vn.default.string,onEnter:Vn.default.func,onEntering:Vn.default.func,onEntered:Vn.default.func,onExit:Vn.default.func,onExiting:Vn.default.func,onExited:Vn.default.func,mountOnEnter:Vn.default.bool,unmountOnExit:Vn.default.bool},pXt={$bs_tabContainer:Vn.default.shape({getTabId:Vn.default.func,getPaneId:Vn.default.func}),$bs_tabContent:Vn.default.shape({bsClass:Vn.default.string,animation:Vn.default.oneOfType([Vn.default.bool,N$.default]),activeKey:Vn.default.any,mountOnEnter:Vn.default.bool,unmountOnExit:Vn.default.bool,onPaneEnter:Vn.default.func.isRequired,onPaneExited:Vn.default.func.isRequired,exiting:Vn.default.bool.isRequired})},fXt={$bs_tabContainer:Vn.default.oneOf([null])},SP=function(e){er(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(Dr(Dr(o))),o.handleExited=o.handleExited.bind(Dr(Dr(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,u=i.className,p=i.onEnter,h=i.onEntering,y=i.onEntered,x=i.onExit,E=i.onExiting,T=i.onExited,D=i.mountOnEnter,z=i.unmountOnExit,F=rr(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),q=this.context,N=q.$bs_tabContent,B=q.$bs_tabContainer,Z=_c(F,["animation"]),ee=Z[0],ae=Z[1],ue=this.isActive(),ve=this.getAnimation(),Oe=D!=null?D:N&&N.mountOnEnter,be=z!=null?z:N&&N.unmountOnExit;if(!ue&&!ve&&be)return null;var ze=ve===!0?Bf:ve||null;N&&(ee.bsClass=Or(N,"pane"));var $e=vt({},tn(ee),{active:ue});B&&(ae.id=B.getPaneId(o),ae["aria-labelledby"]=B.getTabId(o));var He=wP.default.createElement("div",vt({},ae,{role:"tabpanel","aria-hidden":!ue,className:(0,Mke.default)(u,$e)}));if(ze){var Re=N&&N.exiting;return wP.default.createElement(ze,{in:ue&&!Re,onEnter:ii(this.handleEnter,p),onEntering:h,onEntered:y,onExit:x,onExiting:E,onExited:ii(this.handleExited,T),mountOnEnter:Oe,unmountOnExit:be},He)}return He},t}(wP.default.Component);SP.propTypes=dXt;SP.contextTypes=pXt;SP.childContextTypes=fXt;var IP=_r("tab-pane",SP);var hXt=vt({},IP.propTypes,{disabled:EP.default.bool,title:EP.default.node,tabClassName:EP.default.string}),yS=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=vt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,R$.default.createElement(IP,i)},t}(R$.default.Component);yS.propTypes=hXt;yS.Container=_P;yS.Content=xP;yS.Pane=IP;var TP=yS;var Gm=re(Ue()),Au=re(Wt()),Pke=re(b3());var Oke=re(Wo());var mXt=_P.ControlledComponent,gXt={activeKey:Au.default.any,bsStyle:Au.default.oneOf(["tabs","pills"]),animation:Au.default.oneOfType([Au.default.bool,Oke.default]),id:(0,Pke.default)(Au.default.oneOfType([Au.default.string,Au.default.number])),onSelect:Au.default.func,mountOnEnter:Au.default.bool,unmountOnExit:Au.default.bool},vXt={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function yXt(e){var t;return Eo.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var CP=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,u=o.title,p=o.eventKey,h=o.disabled,y=o.tabClassName;return u==null?null:Gm.default.createElement(XDe,{eventKey:p,disabled:h,className:y},u)},r.render=function(){var i=this.props,o=i.id,u=i.onSelect,p=i.animation,h=i.mountOnEnter,y=i.unmountOnExit,x=i.bsClass,E=i.className,T=i.style,D=i.children,z=i.activeKey,F=z===void 0?yXt(D):z,q=rr(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return Gm.default.createElement(mXt,{id:o,activeKey:F,onSelect:u,className:E,style:T},Gm.default.createElement("div",null,Gm.default.createElement(YDe,vt({},q,{role:"tablist"}),Eo.map(D,this.renderTab)),Gm.default.createElement(xP,{bsClass:x,animation:p,mountOnEnter:h,unmountOnExit:y},D)))},t}(Gm.default.Component);CP.propTypes=gXt;CP.defaultProps=vXt;_r("tab",CP);var L$=Od(CP,{activeKey:"onSelect"});var Dke=re(Yr()),_S=re(Ue()),Yo=re(Wt()),kke=re(b3());var _Xt={id:(0,kke.default)(Yo.default.oneOfType([Yo.default.string,Yo.default.number])),placement:Yo.default.oneOf(["top","right","bottom","left"]),positionTop:Yo.default.oneOfType([Yo.default.number,Yo.default.string]),positionLeft:Yo.default.oneOfType([Yo.default.number,Yo.default.string]),arrowOffsetTop:Yo.default.oneOfType([Yo.default.number,Yo.default.string]),arrowOffsetLeft:Yo.default.oneOfType([Yo.default.number,Yo.default.string])},bXt={placement:"right"},z$=function(e){er(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.placement,p=o.positionTop,h=o.positionLeft,y=o.arrowOffsetTop,x=o.arrowOffsetLeft,E=o.className,T=o.style,D=o.children,z=rr(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),F=vn(z),q=F[0],N=F[1],B=vt({},tn(q),(i={},i[u]=!0,i)),Z=vt({top:p,left:h},T),ee={top:y,left:x};return _S.default.createElement("div",vt({},N,{role:"tooltip",className:(0,Dke.default)(E,B),style:Z}),_S.default.createElement("div",{className:Or(q,"arrow"),style:ee}),_S.default.createElement("div",{className:Or(q,"inner")},D))},t}(_S.default.Component);z$.propTypes=_Xt;z$.defaultProps=bXt;var F$=_r("tooltip",z$);var AS=re(Wt(),1);var CS=re(Ue(),1);var Br={id:"id",timePublished:"time_published",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",type:"type",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name"},A0={id:"vkf:layer_id"},Gf={GEOJSON:"geojson",HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic"};var bS=class e{constructor({metadata:t,geometry:r}){Xe(this,"metadata",{});Xe(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return cn(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!cn(t)||!cn(r)){console.warn("Trying to update metadata without key or value");return}if(!cn(Br[t])){console.warn(`Trying to update metadata with invalid key '${t}'`);return}this.metadata[t]=r}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var Vke=re(km(),1);var sn=e=>e!==void 0,qke=(e,t,r)=>t in e?e[t]:e[t]=r,xS={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},V$=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return PP(t,r).join("")}};function PP(e,t){return Nke(e,t,[]).join("")}function Nke(e,t,r){if(e.nodeType===xS.CDATA_SECTION||e.nodeType===xS.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)Nke(n,t,r)}return r}function xXt(e,t,r,n){for(var i=wXt(t);i;i=SXt(i)){var o=i.namespaceURI||null,u=e[o];if(sn(u)){var p=u[i.localName];sn(p)&&p.call(n,i,r)}}}function wXt(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==xS.ELEMENT;)t=t.nextSibling;return t}function SXt(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==xS.ELEMENT;)t=t.nextSibling;return t}function Ko(e,t,r){return IXt(e,t,r)}function IXt(e,t,r){var n=sn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function Rke(e,t){return function(r,n){var i=e.call(sn(t)?t:this,r,n);if(sn(i)){var o=n[n.length-1];o.push(i)}}}function Mo(e,t,r,n,i){return n.push(e),xXt(t,r,n,i),n.pop()}function ar(e,t,r){return function(n,i){let o=e.call(sn(r)?r:this,n,i);if(sn(o)){var u=i[i.length-1],p=sn(t)?t:n.localName;u[p]=o}}}function Cs(e,t,r){return function(n,i){var o=e.call(sn(r)?r:this,n,i);if(sn(o)){var u=i[i.length-1],p=sn(t)?t:n.localName,h=qke(u,p,[]);h.push(o)}}}var EXt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function TXt(e){return e.replace(EXt,"")}function Zm(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return sn(t[1])||!1}function M0(e){return zd(PP(e,!1))}function zd(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function j$(e){return AP(PP(e,!1))}function AP(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function En(e){return TXt(PP(e,!1))}var CXt="http://www.w3.org/1999/xlink";function U$(e){return e.getAttributeNS(CXt,"href")}function AXt(e,t){return Mo({},tJt,e,t)}function Lke(e){return[zd(e.getAttribute("minx")),zd(e.getAttribute("miny")),zd(e.getAttribute("maxx")),zd(e.getAttribute("maxy"))]}function MXt(e,t){let r=Lke(e),n=[zd(e.getAttribute("resx")),zd(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function PXt(e,t){let r=Lke(e);if(!(!sn(r[0])||!sn(r[1])||!sn(r[2])||!sn(r[3])))return r}function OXt(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function DXt(e,t){let r=Mo({},rJt,e,t);if(!sn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!sn(n)||!sn(i)||!sn(o)||!sn(u)))return[n,i,o,u]}function kXt(e,t){return Mo({},YXt,e,t)}function qXt(e,t){return Mo({},KXt,e,t)}function NXt(e,t){return Mo({},XXt,e,t)}function RXt(e,t){return Mo({},JXt,e,t)}function LXt(e,t){return Mo({},QXt,e,t)}function zXt(e,t){return Mo([],eJt,e,t)}function FXt(e,t){let r=Zm(e.getAttribute("queryable"));return Mo({queryable:sn(r)?r:!1},jke,e,t)}function jXt(e,t){var r=t[t.length-1];let n=Mo({},jke,e,t);if(!sn(n))return;let i=Zm(e.getAttribute("queryable"));sn(i)||(i=r.queryable),n.queryable=sn(i)?i:!1;let o=AP(e.getAttribute("cascaded"));sn(o)||(o=r.cascaded),n.cascaded=o;let u=Zm(e.getAttribute("opaque"));sn(u)||(u=r.opaque),n.opaque=sn(u)?u:!1;let p=Zm(e.getAttribute("noSubsets"));sn(p)||(p=r.noSubsets),n.noSubsets=sn(p)?p:!1;let h=zd(e.getAttribute("fixedWidth"));sn(h)||(h=r.fixedWidth),n.fixedWidth=h;let y=zd(e.getAttribute("fixedHeight"));sn(y)||(y=r.fixedHeight),n.fixedHeight=y;let x=["Style","CRS","AuthorityURL"];for(let T=0,D=x.length;T<D;T++){let z=x[T],F=r[z];if(sn(F)){let q=qke(n,z,[]);q=q.concat(F),n[z]=q}}let E=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let T=0,D=E.length;T<D;T++){let z=E[T],F=n[z];if(!sn(F)){let q=r[z];n[z]=q}}return n}function BXt(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Zm(e.getAttribute("multipleValues")),nearestValue:Zm(e.getAttribute("nearestValue")),current:Zm(e.getAttribute("current")),values:En(e)}}function Fd(e,t){return Mo({},lJt,e,t)}function VXt(e,t){return Mo({},nJt,e,t)}function UXt(e,t){return Mo({},oJt,e,t)}function $Xt(e,t){return Mo({},aJt,e,t)}function B$(e,t){return Mo({},iJt,e,t)}function zke(e,t){var r=Fd(e,t);if(sn(r)){let n=[AP(e.getAttribute("width")),AP(e.getAttribute("height"))];return r.size=n,r}}function HXt(e,t){var r=Fd(e,t);if(sn(r))return r.name=e.getAttribute("name"),r}function WXt(e,t){var r=Fd(e,t);if(sn(r))return r.type=e.getAttribute("type"),r}function GXt(e,t){return Mo({},sJt,e,t)}function Fke(e,t){return Mo([],uJt,e,t)}var Xo=[null,"http://www.opengis.net/wms"],ZXt=Ko(Xo,{Service:ar(qXt),Capability:ar(kXt)}),YXt=Ko(Xo,{Request:ar(VXt),Exception:ar(zXt),Layer:ar(FXt)}),KXt=Ko(Xo,{Name:ar(En),Title:ar(En),Abstract:ar(En),KeywordList:ar(Fke),OnlineResource:ar(U$),ContactInformation:ar(NXt),Fees:ar(En),AccessConstraints:ar(En),LayerLimit:ar(j$),MaxWidth:ar(j$),MaxHeight:ar(j$)}),XXt=Ko(Xo,{ContactPersonPrimary:ar(RXt),ContactPosition:ar(En),ContactAddress:ar(LXt),ContactVoiceTelephone:ar(En),ContactFacsimileTelephone:ar(En),ContactElectronicMailAddress:ar(En)}),JXt=Ko(Xo,{ContactPerson:ar(En),ContactOrganization:ar(En)}),QXt=Ko(Xo,{AddressType:ar(En),Address:ar(En),City:ar(En),StateOrProvince:ar(En),PostCode:ar(En),Country:ar(En)}),eJt=Ko(Xo,{Format:Rke(En)}),jke=Ko(Xo,{Name:ar(En),Title:ar(En),Abstract:ar(En),KeywordList:ar(Fke),CRS:Cs(En),SRS:Cs(En),EX_GeographicBoundingBox:ar(DXt),LatLonBoundingBox:ar(PXt),BoundingBox:Cs(MXt),Dimension:Cs(BXt),Attribution:ar(AXt),AuthorityURL:Cs(HXt),Identifier:Cs(En),MetadataURL:Cs(WXt),DataURL:Cs(Fd),FeatureListURL:Cs(Fd),Style:Cs(GXt),MinScaleDenominator:ar(M0),MaxScaleDenominator:ar(M0),ScaleHint:ar(OXt),Layer:Cs(jXt)}),tJt=Ko(Xo,{Title:ar(En),OnlineResource:ar(U$),LogoURL:ar(zke)}),rJt=Ko(Xo,{westBoundLongitude:ar(M0),eastBoundLongitude:ar(M0),southBoundLatitude:ar(M0),northBoundLatitude:ar(M0)}),nJt=Ko(Xo,{GetCapabilities:ar(B$),GetMap:ar(B$),GetFeatureInfo:ar(B$)}),iJt=Ko(Xo,{Format:Cs(En),DCPType:Cs(UXt)}),oJt=Ko(Xo,{HTTP:ar($Xt)}),aJt=Ko(Xo,{Get:ar(Fd),Post:ar(Fd)}),sJt=Ko(Xo,{Name:ar(En),Title:ar(En),Abstract:ar(En),LegendURL:Cs(zke),StyleSheetURL:ar(Fd),StyleURL:ar(Fd)}),lJt=Ko(Xo,{Format:ar(En),OnlineResource:ar(U$)}),uJt=Ko(Xo,{Keyword:Rke(En)}),MP=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new V$(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==xS.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),Mo({version:this.version},ZXt,t,[])||null}};var OP="wms-base-map-layer",wS="wms-base-map-source",SS="xyz-base-map-layer",DP="xyz-base-map-source";function Uke(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function Bke(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function kP(e){return Vi(this,null,function*(){let t=yield Vke.default.get(e);if(t.status===200){let r=new MP().parse(t.data);return console.log("parse",Bke(e.split("?")[0],r)),Bke(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var $ke=(e,t,r)=>{if(!t)return!1;if(Gke(e,r),!e.getSource(wS)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(wS,n);let i=e.getStyle().layers[0].id;e.addLayer({id:OP,type:"raster",source:wS,paint:{}},i)}},Hke=e=>{for(let{id:t}of e.getStyle().layers)(t===OP||t===SS)&&e.setLayoutProperty(t,"visibility","visible")},IS=e=>{Hke(e),e.getLayer(OP)&&e.removeLayer(OP),e.getSource(wS)&&e.removeSource(wS)},Wke=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},Gke=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},Zke=(e,t,r)=>{if(!t)return!1;if(Gke(e,r),IS(e),!e.getSource(SS)){e.addSource(DP,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:SS,type:"raster",source:DP,paint:{}},n)}},Yke=e=>{Hke(e),e.getLayer(SS)&&e.removeLayer(SS),e.getSource(DP)&&e.removeSource(DP)};var rqe=re(km(),1);var RP=re(Ue(),1);var ES=re(Ue(),1);var qP=re(Wt(),1);var Kke=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},cJt=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},Xke=e=>{let t=ur(ti);return(0,ES.useEffect)(()=>{if(cn(t)){let r=()=>{Kke(t,rt({},e))};return t._loaded?Kke(t,rt({},e)):t.once("load",r),()=>{cJt(t,rt({},e)),t.off("load",r)}}},[t]),ES.default.createElement(ES.default.Fragment,null)};Xke.propTypes={sourceId:qP.default.string.isRequired,fillId:qP.default.string.isRequired,outlineId:qP.default.string.isRequired};var Jke=Xke;var NP=Jke;var Qke="vkf-map-overlay-source",Zf="vkf-map-overlay-fill",dJt="vkf-map-overlay-outline",$$=(e,t)=>{let r=e.getSource(Qke);r&&r.setData(t)},eqe=()=>RP.default.createElement(RP.default.Fragment,null,RP.default.createElement(NP,{sourceId:Qke,fillId:Zf,outlineId:dJt}));eqe.propTypes={};var tqe=eqe;var pJt=e=>Vi(void 0,null,function*(){var t;try{let r=yield rqe.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),u=n.getElementsByTagName("TileSet"),p=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:u.length-1,tileSize:p}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),nqe=(e,t,r)=>Vi(void 0,null,function*(){let n=e.getId(),i=e.getMetadata(Br.tmsUrls),o=e.getMetadata(Br.onlineResources).find(y=>y.type==="WMS").url,u=Array.isArray(i)&&i.length>0,p;if(u){let{maxZoom:y,bounds:x,tileSize:E}=yield pJt(i[0]);p={bounds:x,tileSize:E,maxzoom:y,tiles:i.map(T=>`${T}/{z}/{x}/{y}.png`),scheme:"tms"}}else p={tiles:(yield kP(o))[0].urls};t.addSource(n,qr(rt({type:"raster"},p),{bounds:e.getMetadata(Br.bounds)}));let h=t.getLayer(Zf)!==void 0?Zf:void 0;t.addLayer({id:n,type:"raster",metadata:{[A0.id]:n},source:n,layout:{visibility:r.visibility},paint:{"raster-opacity":r.opacity}},h)});function H$(e,t,r){if(e!==null)for(var n,i,o,u,p,h,y,x=0,E=0,T,D=e.type,z=D==="FeatureCollection",F=D==="Feature",q=z?e.features.length:1,N=0;N<q;N++){y=z?e.features[N].geometry:F?e.geometry:e,T=y?y.type==="GeometryCollection":!1,p=T?y.geometries.length:1;for(var B=0;B<p;B++){var Z=0,ee=0;if(u=T?y.geometries[B]:y,u!==null){h=u.coordinates;var ae=u.type;switch(x=r&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(t(h,E,N,Z,ee)===!1)return!1;E++,Z++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(t(h[n],E,N,Z,ee)===!1)return!1;E++,ae==="MultiPoint"&&Z++}ae==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(i=0;i<h[n].length-x;i++){if(t(h[n][i],E,N,Z,ee)===!1)return!1;E++}ae==="MultiLineString"&&Z++,ae==="Polygon"&&ee++}ae==="Polygon"&&Z++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(ee=0,i=0;i<h[n].length;i++){for(o=0;o<h[n][i].length-x;o++){if(t(h[n][i][o],E,N,Z,ee)===!1)return!1;E++}ee++}Z++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(H$(u.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function iqe(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return H$(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var TS,LP,oqe,W$=class extends bS{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});OI(this,LP);OI(this,TS,!1);Ak(this,LP,oqe).call(this)}addLayerToMap(r,n={visibility:"visible",opacity:1}){return r.getSource(this.getId())?Promise.reject(`Source with id '${this.getId()}' exists already in map.`):nqe(this,r,n)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.toGeoJSON();o.id=this.getId();let u=[o];i.updateData({add:u})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}toGeoJSON(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return Gf.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){r.moveLayer(this.getId(),n!=null?n:Zf)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return Ck(this,TS)}setIsMissing(r){qY(this,TS,r)}};TS=new WeakMap,LP=new WeakSet,oqe=function(){let r=this.geometry?iqe(this.geometry):void 0;this.metadata[Br.bounds]=r};var aqe=W$;var Yf=aqe;var Dn={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},fJt={[Dn.LINE]:"line-opacity",[Dn.FILL]:"fill-opacity",[Dn.OUTLINE]:"outline-opacity"},hJt={[Dn.LINE]:"stroke-opacity",[Dn.FILL]:"fill-opacity",[Dn.OUTLINE]:"stroke-opacity"};var Jo={[Dn.SYMBOL]:{COLOR:"#0000FF"},[Dn.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[Dn.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[Dn.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},mJt={[Dn.SYMBOL]:{type:"symbol",layout:{"icon-image":Nr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom"},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],Jo[Dn.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["in","$type","Point"]},[Dn.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Jo[Dn.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Jo[Dn.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Jo[Dn.LINE].OPACITY]},filter:["in","$type","LineString"]},[Dn.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Jo[Dn.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Jo[Dn.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Jo[Dn.OUTLINE].OPACITY]},filter:["in","$type","Polygon"]},[Dn.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],Jo[Dn.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],Jo[Dn.FILL].OPACITY]},filter:["in","$type","Polygon"]}};var sqe=re(Ew(),1);var G$=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>G$(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=G$(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(yJt(e),t))},vJt=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=G$(i,t)}),r},yJt=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var lqe=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(Br.bounds);r=r===void 0?new sqe.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})};var uqe=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?vJt(r,5):r};function P0(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),t}},[n,i]=(0,CS.useState)(r),o=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let p=u instanceof Function?u(n):u;window.localStorage.setItem(e,JSON.stringify(p)),i(p),window.dispatchEvent(new Event("local-storage"))}catch(p){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,p)}};return(0,CS.useEffect)(()=>{i(r())},[]),(0,CS.useEffect)(()=>{let u=()=>{i(r())};return window.addEventListener("storage",u),window.addEventListener("local-storage",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("local-storage",u)}},[]),[n,o]}var Un=re(Ue(),1);var Z$=re(Wt(),1);var Ca=ci({key:"notificationState",default:null});var cqe=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,Un.useState)(""),[o,u]=(0,Un.useState)(!1),[p,h]=(0,Un.useState)([]),[y,x]=(0,Un.useState)(null),E=di(Ca),T=(0,Un.useRef)(),D=(0,Un.useRef)(),z=ae=>{h([]),x(null),E({id:"dialog-add-wms",type:"danger",text:ae})},F=()=>{t()},q=()=>{r(y),F()},N=()=>Vi(void 0,null,function*(){if(!Uke(n)){u(!0);return}try{let ae=yield kP(n);ae.length!==0&&(h(ae),x(ae[0]))}catch(ae){z(nt("dialog.add-wms.error.invalid-url"))}}),B=ae=>{i(ae.target.value)},Z=ae=>{ae.code==="Enter"&&N()},ee=ae=>{let ue=p.find(ve=>ve.id===ae.target.value);x(ue)};return Un.default.createElement("div",null,Un.default.createElement(Wl,{className:"vkf-dialog-addwms",show:!0,onHide:F},Un.default.createElement(Wl.Header,null,Un.default.createElement(Wl.Title,null,nt("control-basemapselector-addwms-title"))),Un.default.createElement(Wl.Body,null,Un.default.createElement("div",{className:"dialog-content"},Un.default.createElement("div",{className:vr("form-group","set-url",o?"has-warning":"")},Un.default.createElement("label",{htmlFor:T.current},nt("control-basemapselector-addwms-input-label")),Un.default.createElement("div",{className:"form-group-capabilities"},Un.default.createElement("input",{type:"url",className:"form-control",ref:T,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:B,onKeyDown:Z}),Un.default.createElement("button",{type:"submit",className:"btn",onClick:N},nt("control-basemapselector-addwms-btn-load-capabilities"))),Un.default.createElement("p",{className:"help-block"},nt("control-basemapselector-addwms-input-description"))),p.length>0&&y!==null&&Un.default.createElement("div",{className:vr("form-group","set-layer")},Un.default.createElement("label",{htmlFor:D.current},nt("control-basemapselector-addwms-select-label")),Un.default.createElement("select",{ref:D,value:y.id,onChange:ee,className:"form-control"},p.map(ae=>Un.default.createElement("option",{key:ae.id,value:ae.id},ae.label))),Un.default.createElement("p",{className:"help-block"},nt("control-basemapselector-addwms-select-description"))))),Un.default.createElement(Wl.Footer,null,Un.default.createElement(Ta,{onClick:F},nt("control-basemapselector-addwms-btn-canel")),Un.default.createElement(Ta,{onClick:q,bsStyle:"primary",className:vr(y===null?"disabled":"")},nt("control-basemapselector-addwms-btn-submit")))))};cqe.propTypes={onClose:Z$.default.func.isRequired,onSubmit:Z$.default.func.isRequired};var dqe=cqe;var MS="vkf-custom-basemaps",pqe=e=>{let{map:t}=e,[r,n]=fn(i0),[i,o]=P0(MS,[]),u=Nr.getBaseMaps(),p=di(Ca),[h,y]=(0,Aa.useState)(!1),x=z=>{n(z.id)},E=()=>{y(!0)},T=z=>{z.type==="wms"&&IS(t,z),r===z.id&&n(u[0].id),o(F=>F.filter(q=>q.id!==z.id))},D=z=>{if([...u,...i].find(q=>q.id===z.id||q.label===z.label))p({id:"basemapSelector",type:"danger",text:nt("control-basemapselector-error-initializiation")});else{let q=qr(rt({},z),{allowDeletion:!0});o(N=>[...N,q])}};return Aa.default.createElement(Aa.default.Fragment,null,r!==void 0&&Aa.default.createElement(Aa.default.Fragment,null,Aa.default.createElement("h2",null,nt("control-basemapselector-label"),":"),Aa.default.createElement("ul",{className:"wms-entries"},[...u,...i].map(z=>Aa.default.createElement("li",{key:z.id,className:"basemap-selector-entry"},Aa.default.createElement(D$,{onChange:()=>x(z),name:z.id,value:z.id,checked:r===z.id},z.label),z.allowDeletion&&Aa.default.createElement("button",{className:"delete-basemap-button",onClick:F=>{F.preventDefault(),F.stopPropagation(),T(z)},title:"Remove basemap"},Aa.default.createElement(no,{glyph:"remove"}))))),Aa.default.createElement("div",{className:"controls-container"},Aa.default.createElement("button",{className:"add-wms-button",onClick:E},nt("control-basemapselector-btn-addwms")))),h&&Aa.default.createElement(dqe,{onClose:()=>y(!1),onSubmit:D}))};pqe.propTypes={map:AS.default.object,onBasemapChange:AS.default.func,onSetNotification:AS.default.func,activeBasemapId:AS.default.string};var fqe=pqe;var _Jt=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=E5(WB,Es.BasemapSelector);return e!==null?(0,hqe.createPortal)(PS.default.createElement("div",{ref:n},PS.default.createElement("button",{onClick:r,title:nt("control-basemapselector-open"),className:vr("maplibregl-ctrl-basemap-selector",t===Es.BasemapSelector&&"active")}),t===Es.BasemapSelector&&PS.default.createElement("div",{className:vr("basemap-selector-modal",t===Es.BasemapSelector&&"active")},PS.default.createElement(fqe,null))),e):null},mqe=_Jt;var gqe=mqe;function Y$(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function vqe(e){return new Promise(t=>setTimeout(t,e))}var yqe=re(Ew(),1);var zP=class extends yqe.Map{constructor(){super(...arguments);Xe(this,"terrainConfiguration",Nr.getTerrain());Xe(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);Xe(this,"isTerrainEnabled",!1);Xe(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,u=r-o,p=()=>{if(!this.terrain||this.terrainFlattening)return;let h=(performance.now()-i)/n;if(h<.99){let y=1-Dh(1-h,4),x=o+y*u;this.terrain.exaggeration=x,requestAnimationFrame(p)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(p)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>Vi(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==qf||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(qf,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:qf,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,Y$(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>vqe(500)).then(()=>{this.getSource(qf).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(qf)||i()})}disableTerrain(){return Vi(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let u=(performance.now()-n)/r;if(this._elevationFreeze=!1,u<.99){let p=Dh(1-u,4),h=i*p;this.terrain.exaggeration=h,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(qf)&&this.removeSource(qf),this.abortController.abort(),this.abortController=new AbortController,Y$(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var K$=class extends zP{addControl(t,r){let n=super.addControl(t,r);return this.fire(mc.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(mc.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var h;let o=super.setPaintProperty(t,r,n,i),u=this.getLayer(t),p=(h=u==null?void 0:u.metadata)==null?void 0:h[A0.id];return fMe.has(r)&&p&&this.fire(mc.opacityChanged,{layerId:p,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var h;let o=super.setLayoutProperty(t,r,n,i),u=this.getLayer(t),p=(h=u==null?void 0:u.metadata)==null?void 0:h[A0.id];return hMe.has(r)&&p&&this.fire(mc.visibilityChanged,{layerId:p,property:r,value:n}),o}},_qe=K$;var bqe=_qe;var OS=re(Ue(),1),Yqe=re(Li(),1);var Ic=re(Ue(),1);var Qo=re(Ue(),1);var X$={"2D":0,"3D":1};var xqe=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},wqe=e=>Nr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},Sqe=e=>({map_id:e.filter(t=>t.getType()===Gf.HISTORIC_MAP).map(t=>t.getId())}),Iqe=e=>({v:e?X$["3D"]:X$["2D"]});var Hqe=re(Uqe(),1);var Ma=re(Ue(),1),eH=re(Wt(),1);var $qe=({onClick:e,value:t})=>{let[r,n]=(0,Ma.useState)(!1),i=(0,Ma.useRef)(),o=(0,Ma.useRef)(),u=(0,Ma.useCallback)(()=>{(e!==void 0&&t===""?e():new Promise(h=>h())).then(h=>{clearTimeout(o.current),navigator.clipboard.writeText(h!==void 0?h:t),n(!0)})},[e,t]);return(0,Ma.useEffect)(()=>(r&&(o.current=setTimeout(()=>{n(!1)},1e3)),()=>{clearTimeout(o.current)}),[r]),Ma.default.createElement(Ma.default.Fragment,null,Ma.default.createElement("button",{className:"copy-button",onClick:u,ref:i,title:nt("control-permalink-exporter-copy-title")},Ma.default.createElement(no,{glyph:"copy"})),Ma.default.createElement(M$,{placement:"right",target:i.current,show:r},Ma.default.createElement(F$,{id:"copy-state-indicator"},nt("control-permalink-exporter-copy"))))};$qe.propTypes={onClick:eH.default.func,value:eH.default.string};var FP=$qe;var MJt=()=>{let e=ur(ti),t=ur(Eu),r=ur(i0),[n,i]=(0,Qo.useState)(""),o=(0,Qo.useRef)(),u=(0,Qo.useCallback)(()=>{if(!cn(e))return;let p=xqe(uqe(e,!0)),h=Iqe(e.hasTerrain()),y=Sqe(t),x=wqe(r),E=(0,Hqe.stringify)(Object.assign({},p,h,y,x),{arrayFormat:"comma"});i(jP(E))},[e]);return(0,Qo.useEffect)(()=>{if(e)return u(),e.on("moveend",u),()=>{e.off("moveend",u)}},[e,u]),Qo.default.createElement(Qo.default.Fragment,null,Qo.default.createElement("div",{className:"action-content"},Qo.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Qo.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Qo.default.createElement(FP,{value:n})),Qo.default.createElement("div",{className:"description"},Qo.default.createElement("p",null,nt("control-permalink-exporter-permalink-description"))))},Wqe=MJt;var ea=re(Ue(),1);var Sc=re(Ue(),1);var PJt=()=>Sc.default.createElement("div",{className:"lds-roller"},Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null),Sc.default.createElement("div",null)),O0=PJt;var Gqe=()=>{let[e]=P0(MS,[]),[t,r]=(0,ea.useState)(!1),[n,i]=(0,ea.useState)(""),o=ur(gMe),u=Nr.getGeoreferenceApiClient(),p="/map_view/",h=(0,ea.useCallback)(()=>{if(o!==void 0){let y=o(),{searchOptions:x}=y,E=Pn(y,["searchOptions"]),T=e.filter(z=>z.id===E.activeBasemapId),D=Object.assign({},E,T.length>0?{customBasemaps:T}:null);return r(!0),u.post(p,{map_view_json:D}).then(z=>{if(z.status===200&&z.data!==void 0){let{map_view_id:F}=z.data,q=jP(`map_view_id=${F}`);return i(q),r(!1),q}})}},[e,o]);return ea.default.createElement(ea.default.Fragment,null,ea.default.createElement("div",{className:"action-content"},ea.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),ea.default.createElement("input",{placeholder:nt("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),ea.default.createElement(FP,{onClick:h,value:n}),ea.default.createElement("button",{className:vr("upload-button",t&&"loading"),onClick:h},t?ea.default.createElement(O0,null):ea.default.createElement(no,{glyph:"upload"}),"Upload")),ea.default.createElement("div",{className:"description"},ea.default.createElement("p",null,nt("control-permalink-exporter-mapview-description"))))};var jP=e=>`${window.location.origin}${window.location.pathname}?${e}`,OJt=()=>{let e=!Nr.isUserAuthenticated();return Ic.default.createElement("div",{className:"vkf-permalink-exporter"},Ic.default.createElement(L$,{defaultActiveKey:1,id:"permalink-exporter-tabs"},Ic.default.createElement(TP,{eventKey:1,title:nt("control-permalink-title-permalink")},Ic.default.createElement("div",{className:"permalink-exporter-content"},Ic.default.createElement(Wqe,null))),Ic.default.createElement(TP,{disabled:e,eventKey:2,title:nt("control-permalink-title-map-view")},Ic.default.createElement("div",{className:"permalink-exporter-content"},!e&&Ic.default.createElement(Gqe,null)))))},Zqe=Ic.default.memo(OJt);var DJt=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=E5(YB,Es.Permalink);return e!==null?(0,Yqe.createPortal)(OS.default.createElement("div",{ref:n},OS.default.createElement("button",{className:vr("maplibregl-ctrl-permalink",t===Es.Permalink&&"active"),onClick:r,title:nt("control-permalink-open")}),t===Es.Permalink&&OS.default.createElement("div",{className:"content-container"},OS.default.createElement(Zqe,null))),e):null},Kqe=DJt;var BP=re(Ue(),1);var kJt=()=>{let e=ur(ti),t=ur(i0),r=ur(h5),[n]=P0(MS,[]),i=Nr.getBaseMaps(),o=(0,BP.useMemo)(()=>[...i,...n],[n,i]);return(0,BP.useEffect)(()=>{if(cn(e)){let u=o.find(h=>h.id===t);if(u===void 0)return;let p=u;if(IS(e),Yke(e),p.type==="vector")Wke(e,r);else if(p.type==="wms")$ke(e,p,r);else if(p.type==="xyz")Zke(e,p,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},Xqe=kJt;function Jqe(){return{"NavigationControl.ZoomIn":nt("control-zoom-in"),"NavigationControl.ZoomOut":nt("control-zoom-out"),"FullscreenControl.Enter":nt("control-fullscreen-Enter"),"FullscreenControl.Exit":nt("control-fullscreen-Exit"),"NavigationControl.ResetBearing":nt("control-rotate"),"TerrainControl.Enable":nt("control-toggleviewmode-title"),"TerrainControl.Disable":nt("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":nt("control-locateme-title"),"GeolocateControl.LocationNotAvailable":nt("control-locateme-location-not-available")}}var qJt="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json";function Qqe(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},onAddGeoJson:i,loadMarkerIcon:o=!0}=e,[u,p]=fn(ti),h=di(h5),y=(0,Yl.useRef)();return I5(y,"map"),(0,Yl.useEffect)(()=>{let x=new bqe({container:y.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:qJt,locale:Jqe(),attributionControl:!1}),E=()=>{if(p(x),h(x.getStyle().layers),o===!0){let{id:T,url:D}=Nr.getMarkerSettings();x.loadImage(D).then(z=>{x.addImage(T,z.data,{sdf:!0})})}};return x.on("style.load",E),()=>{x.off("style.load",E),p(void 0),x.remove()}},[]),(0,Yl.useEffect)(()=>{if(cn(u)){let x=pMe();return x.forEach(({control:E,position:T})=>{u.addControl(E,T)}),()=>{x.forEach(({control:E})=>{u.removeControl(E)})}}},[u]),Yl.default.createElement("div",{className:"map-container"},Yl.default.createElement("div",{ref:y,className:vr("map-div","olMap",mMe(r)),tabIndex:0},cn(u)&&Yl.default.createElement(t,{onAddGeoJson:i}),Yl.default.createElement(gqe,null),Yl.default.createElement(Kqe,null),Yl.default.createElement(Xqe,null)))}var NJt={baseMapUrl:Zl.default.arrayOf(Zl.default.string),ChildComponent:Zl.default.func,layout:Zl.default.string,mapViewSettings:Zl.default.shape({center:Zl.default.arrayOf(Zl.default.number),projection:Zl.default.string,zoom:Zl.default.number}),onAddGeoJson:Zl.default.func,loadMarkerIcon:Zl.default.bool};Qqe.propTypes=NJt;var eNe=Qqe;var Ru=re(Ue(),1),C8e=re(Wt(),1);var rh=re(Ue(),1);var nD=re(Wt(),1);var io=re(Ue(),1);var kS=re(Ue(),1),tH=re(Wt(),1);var Ym=re(Ue(),1),DS=re(Wt(),1);var tNe=({checked:e,georeferenceMode:t,id:r,onClick:n})=>{let i=nt(`facet-${r.toLowerCase()}`);return r!=="ToGeoref"||r==="toGeoref"&&t?Ym.default.createElement("li",null,Ym.default.createElement("label",{htmlFor:r},Ym.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),Ym.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):Ym.default.createElement(Ym.default.Fragment,null)};tNe.propTypes={checked:DS.default.bool,georeferenceMode:DS.default.bool,id:DS.default.string,onClick:DS.default.func};var rNe=tNe;var nNe={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic"},RJt={};Object.keys(nNe).forEach(e=>{RJt[e]=!1});var iNe=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=fn(Rf),i=(0,kS.useMemo)(()=>{let u=rt({},nNe);return t&&delete u.MM,u},[t]),o=u=>{n(p=>{let{facets:h,georeference:y}=p;if(u==="ToGeoref")return{facets:h,georeference:!y};{let x=h.slice(),E=x.findIndex(T=>T.id===u);if(E>-1)x.splice(E,1);else{let[T,D]=i[u].split("-");x.push({key:T,value:D,id:u})}return{facets:x,georeference:y}}})};return kS.default.createElement("ul",{className:"search-facet"},Object.keys(i).map(u=>kS.default.createElement(rNe,{checked:r.facets.findIndex(p=>p.id===u)!==-1,key:u,georeferenceMode:e,onClick:o,id:u})))};iNe.propTypes={georeferenceMode:tH.default.bool,mosaicMode:tH.default.bool};var oNe=iNe;var VP=oNe;var Ud=re(Ue(),1);var CH=re(Wt(),1);var Ki=re(Ue(),1),Ms=re(Wt(),1);function Ar(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var aNe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function LJt(e,t){return!!(e===t||aNe(e)&&aNe(t))}function zJt(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!LJt(e[r],t[r]))return!1;return!0}function FJt(e,t){t===void 0&&(t=zJt);var r,n=[],i,o=!1;function u(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return o&&r===this&&t(p,n)||(i=e.apply(this,p),o=!0,r=this,n=p),i}return u}var UP=FJt;var k0=re(Ue());var jJt=typeof performance=="object"&&typeof performance.now=="function",sNe=jJt?function(){return performance.now()}:function(){return Date.now()};function lNe(e){cancelAnimationFrame(e.id)}function BJt(e,t){var r=sNe();function n(){sNe()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var rH=-1;function uNe(e){if(e===void 0&&(e=!1),rH===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),rH=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return rH}var D0=null;function cNe(e){if(e===void 0&&(e=!1),D0===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?D0="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?D0="negative":D0="positive-ascending"),document.body.removeChild(t),D0}return D0}var VJt=150,UJt=function(t,r){return t};function $Jt(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,p=e.getStopIndexForStartIndex,h=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,x=e.validateProps;return t=function(E){jw(T,E);function T(z){var F;return F=E.call(this,z)||this,F._instanceProps=h(F.props,Ar(F)),F._outerRef=void 0,F._resetIsScrollingTimeoutId=null,F.state={instance:Ar(F),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof F.props.initialScrollOffset=="number"?F.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},F._callOnItemsRendered=void 0,F._callOnItemsRendered=UP(function(q,N,B,Z){return F.props.onItemsRendered({overscanStartIndex:q,overscanStopIndex:N,visibleStartIndex:B,visibleStopIndex:Z})}),F._callOnScroll=void 0,F._callOnScroll=UP(function(q,N,B){return F.props.onScroll({scrollDirection:q,scrollOffset:N,scrollUpdateWasRequested:B})}),F._getItemStyle=void 0,F._getItemStyle=function(q){var N=F.props,B=N.direction,Z=N.itemSize,ee=N.layout,ae=F._getItemStyleCache(y&&Z,y&&ee,y&&B),ue;if(ae.hasOwnProperty(q))ue=ae[q];else{var ve=r(F.props,q,F._instanceProps),Oe=i(F.props,q,F._instanceProps),be=B==="horizontal"||ee==="horizontal",ze=B==="rtl",$e=be?ve:0;ae[q]=ue={position:"absolute",left:ze?void 0:$e,right:ze?$e:void 0,top:be?0:ve,height:be?"100%":Oe,width:be?Oe:"100%"}}return ue},F._getItemStyleCache=void 0,F._getItemStyleCache=UP(function(q,N,B){return{}}),F._onScrollHorizontal=function(q){var N=q.currentTarget,B=N.clientWidth,Z=N.scrollLeft,ee=N.scrollWidth;F.setState(function(ae){if(ae.scrollOffset===Z)return null;var ue=F.props.direction,ve=Z;if(ue==="rtl")switch(cNe()){case"negative":ve=-Z;break;case"positive-descending":ve=ee-B-Z;break;}return ve=Math.max(0,Math.min(ve,ee-B)),{isScrolling:!0,scrollDirection:ae.scrollOffset<Z?"forward":"backward",scrollOffset:ve,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._onScrollVertical=function(q){var N=q.currentTarget,B=N.clientHeight,Z=N.scrollHeight,ee=N.scrollTop;F.setState(function(ae){if(ae.scrollOffset===ee)return null;var ue=Math.max(0,Math.min(ee,Z-B));return{isScrolling:!0,scrollDirection:ae.scrollOffset<ue?"forward":"backward",scrollOffset:ue,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._outerRefSetter=function(q){var N=F.props.outerRef;F._outerRef=q,typeof N=="function"?N(q):N!=null&&typeof N=="object"&&N.hasOwnProperty("current")&&(N.current=q)},F._resetIsScrollingDebounced=function(){F._resetIsScrollingTimeoutId!==null&&lNe(F._resetIsScrollingTimeoutId),F._resetIsScrollingTimeoutId=BJt(F._resetIsScrolling,VJt)},F._resetIsScrolling=function(){F._resetIsScrollingTimeoutId=null,F.setState({isScrolling:!1},function(){F._getItemStyleCache(-1,null)})},F}T.getDerivedStateFromProps=function(F,q){return HJt(F,q),x(F),null};var D=T.prototype;return D.scrollTo=function(F){F=Math.max(0,F),this.setState(function(q){return q.scrollOffset===F?null:{scrollDirection:q.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},D.scrollToItem=function(F,q){q===void 0&&(q="auto");var N=this.props,B=N.itemCount,Z=N.layout,ee=this.state.scrollOffset;F=Math.max(0,Math.min(F,B-1));var ae=0;if(this._outerRef){var ue=this._outerRef;Z==="vertical"?ae=ue.scrollWidth>ue.clientWidth?uNe():0:ae=ue.scrollHeight>ue.clientHeight?uNe():0}this.scrollTo(o(this.props,F,q,ee,this._instanceProps,ae))},D.componentDidMount=function(){var F=this.props,q=F.direction,N=F.initialScrollOffset,B=F.layout;if(typeof N=="number"&&this._outerRef!=null){var Z=this._outerRef;q==="horizontal"||B==="horizontal"?Z.scrollLeft=N:Z.scrollTop=N}this._callPropsCallbacks()},D.componentDidUpdate=function(){var F=this.props,q=F.direction,N=F.layout,B=this.state,Z=B.scrollOffset,ee=B.scrollUpdateWasRequested;if(ee&&this._outerRef!=null){var ae=this._outerRef;if(q==="horizontal"||N==="horizontal"){if(q==="rtl")switch(cNe()){case"negative":ae.scrollLeft=-Z;break;case"positive-ascending":ae.scrollLeft=Z;break;default:var ue=ae.clientWidth,ve=ae.scrollWidth;ae.scrollLeft=ve-ue-Z;break;}else ae.scrollLeft=Z;}else ae.scrollTop=Z}this._callPropsCallbacks()},D.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&lNe(this._resetIsScrollingTimeoutId)},D.render=function(){var F=this.props,q=F.children,N=F.className,B=F.direction,Z=F.height,ee=F.innerRef,ae=F.innerElementType,ue=F.innerTagName,ve=F.itemCount,Oe=F.itemData,be=F.itemKey,ze=be===void 0?UJt:be,$e=F.layout,He=F.outerElementType,Re=F.outerTagName,Je=F.style,ot=F.useIsScrolling,Be=F.width,Le=this.state.isScrolling,Pe=B==="horizontal"||$e==="horizontal",Qe=Pe?this._onScrollHorizontal:this._onScrollVertical,lt=this._getRangeToRender(),pt=lt[0],je=lt[1],Ge=[];if(ve>0)for(var at=pt;at<=je;at++)Ge.push((0,k0.createElement)(q,{data:Oe,key:ze(at,Oe),index:at,isScrolling:ot?Le:void 0,style:this._getItemStyle(at)}));var De=n(this.props,this._instanceProps);return(0,k0.createElement)(He||Re||"div",{className:N,onScroll:Qe,ref:this._outerRefSetter,style:en({position:"relative",height:Z,width:Be,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:B},Je)},(0,k0.createElement)(ae||ue||"div",{children:Ge,ref:ee,style:{height:Pe?"100%":De,pointerEvents:Le?"none":void 0,width:Pe?De:"100%"}}))},D._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var F=this.props.itemCount;if(F>0){var q=this._getRangeToRender(),N=q[0],B=q[1],Z=q[2],ee=q[3];this._callOnItemsRendered(N,B,Z,ee)}}if(typeof this.props.onScroll=="function"){var ae=this.state,ue=ae.scrollDirection,ve=ae.scrollOffset,Oe=ae.scrollUpdateWasRequested;this._callOnScroll(ue,ve,Oe)}},D._getRangeToRender=function(){var F=this.props,q=F.itemCount,N=F.overscanCount,B=this.state,Z=B.isScrolling,ee=B.scrollDirection,ae=B.scrollOffset;if(q===0)return[0,0,0,0];var ue=u(this.props,ae,this._instanceProps),ve=p(this.props,ue,ae,this._instanceProps),Oe=!Z||ee==="backward"?Math.max(1,N):1,be=!Z||ee==="forward"?Math.max(1,N):1;return[Math.max(0,ue-Oe),Math.max(0,Math.min(q-1,ve+be)),ue,ve]},T}(k0.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var HJt=function(t,r){var n=t.children,i=t.direction,o=t.height,u=t.layout,p=t.innerTagName,h=t.outerTagName,y=t.width,x=r.instance;if(0)var E};var dNe=$Jt({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,u){var p=t.direction,h=t.height,y=t.itemCount,x=t.itemSize,E=t.layout,T=t.width,D=p==="horizontal"||E==="horizontal",z=D?T:h,F=Math.max(0,y*x-z),q=Math.min(F,r*x),N=Math.max(0,r*x-z+x+u);switch(n==="smart"&&(i>=N-z&&i<=q+z?n="auto":n="center"),n){case"start":return q;case"end":return N;case"center":{var B=Math.round(N+(q-N)/2);return B<Math.ceil(z/2)?0:B>F+Math.floor(z/2)?F:B}case"auto":default:return i>=N&&i<=q?i:i<N?N:q;}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,u=t.itemCount,p=t.itemSize,h=t.layout,y=t.width,x=i==="horizontal"||h==="horizontal",E=r*p,T=x?y:o,D=Math.ceil((T+n-E)/p);return Math.max(0,Math.min(u-1,r+D-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var fNe=re(Ue());function WJt(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function GJt(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,u=[],p=null,h=null,y=i;y<=o;y++){var x=t(y);x?h!==null&&(u.push(p,h),p=h=null):(h=y,p===null&&(p=y))}if(h!==null){for(var E=Math.min(Math.max(h,p+n-1),r-1),T=h+1;T<=E&&!t(T);T++)h=T;u.push(p,h)}if(u.length)for(;u[1]-u[0]+1<n&&u[0]>0;){var D=u[0]-1;if(!t(D))u[0]=D;else break}return u}var ZJt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},YJt=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),KJt=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pNe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},XJt=function(e){KJt(t,e);function t(){var r,n,i,o;ZJt(this,t);for(var u=arguments.length,p=Array(u),h=0;h<u;h++)p[h]=arguments[h];return o=(n=(i=pNe(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(p))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(y){var x=y.visibleStartIndex,E=y.visibleStopIndex;i._lastRenderedStartIndex=x,i._lastRenderedStopIndex=E,i._ensureRowsLoaded(x,E)},i._setRef=function(y){i._listRef=y},n),pNe(i,o)}return YJt(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,u=o.isItemLoaded,p=o.itemCount,h=o.minimumBatchSize,y=h===void 0?10:h,x=o.threshold,E=x===void 0?15:x,T=GJt({isItemLoaded:u,itemCount:p,minimumBatchSize:y,startIndex:Math.max(0,n-E),stopIndex:Math.min(p-1,i+E)});(this._memoizedUnloadedRanges.length!==T.length||this._memoizedUnloadedRanges.some(function(D,z){return T[z]!==D}))&&(this._memoizedUnloadedRanges=T,this._loadUnloadedRanges(T))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,u=function(y){var x=n[y],E=n[y+1],T=o(x,E);T!=null&&T.then(function(){if(WJt({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:x,stopIndex:E})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(x,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},p=0;p<n.length;p+=2)u(p)}}]),t}(fNe.PureComponent),hNe=XJt;var qS=re(Ue(),1);var $P=re(Wt(),1);var mNe=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=u=>{u.keyCode===13&&n()},o=nt(`mapsearch-${r}`)===""?nt(r):nt(`mapsearch-${r}`);return qS.default.createElement("div",{className:vr("inner-col",r)},qS.default.createElement("div",{className:vr("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,qS.default.createElement("span",{className:"caret-container"},qS.default.createElement("span",{className:"caret caret-reversed"}))))};mNe.propTypes={onClick:$P.default.func,sortOrder:$P.default.string,type:$P.default.string};var gNe=mNe;var ZNe=re(Ue(),1);var Kf=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1;var LS=re(Ue(),1);var $n=re(Ue(),1),ol=re(Wt(),1);var N0=re(IH(),1);var HNe="http://www.deutschefotothek.de/images/noimage/image120.jpg",WNe=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:u})=>{var ae;let{direction:p,maps:h}=t,y=(ae=h[r])!=null?ae:Ac,x=ur(Eu),[E,T]=(0,$n.useState)(y.getMetadata(Br.thumbnailUrl)===void 0?"":y.getMetadata(Br.thumbnailUrl).replace("http:","")),D=()=>{n(y)},z=ue=>{ue.key==="Enter"&&D()},F=()=>{E!==""&&E!==HNe&&T(HNe)};(0,$n.useEffect)(()=>{T(y.getMetadata(Br.thumbnailUrl))},[y]);let q=y===Ac,N=Kf(x,y)&&!q,B=y.getMetadata(Br.mapScale)==="0"||y.getMetadata(Br.mapScale)===0?nt("mapsearch-listelement-unknown"):`1:${y.getMetadata(Br.mapScale)}`,Z=parseInt(y.getMetadata(Br.timePublished),0),ee=y.getMetadata(Br.type)===Gf.MOSAIC_MAP;return $n.default.createElement("li",{tabIndex:0,style:u,className:vr("vkf-mapsearch-record",y.getMetadata(Br.type),N&&"selected",p,q&&"loading"),id:y.getMetadata(Br.id),onClick:q?void 0:D,onKeyDown:q?void 0:z,onMouseEnter:i,onMouseLeave:o},e,$n.default.createElement("span",{className:"data-col time"},isNaN(Z)?"":Z),$n.default.createElement("span",{className:"data-col title"},y.getMetadata(Br.title)),$n.default.createElement("span",{className:"data-col time"},"1"),$n.default.createElement("div",{className:"view-item"},$n.default.createElement("span",{className:"thumbnail",href:"#"},E===""?$n.default.createElement(N0.default.default,{height:"calc(100% - 6px)"}):$n.default.createElement($n.default.Fragment,null,$n.default.createElement("img",{alt:`Thumbnail Image of Map ${y.getMetadata(Br.title)} ${y.getMetadata(Br.timePublished)}`,onError:F,src:E}),ee&&$n.default.createElement("span",{className:vr("mosaic-badge",N&&"selected")},nt("mosaic-badge-title"))),N&&$n.default.createElement("span",{className:"badge selected-badge"},$n.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),$n.default.createElement("div",{className:"overview"},$n.default.createElement("h2",null,q?$n.default.createElement(N0.default.default,null):y.getMetadata(Br.title)),$n.default.createElement("div",{className:"details"},$n.default.createElement("div",{className:"timestamp"},q?$n.default.createElement(N0.default.default,null):`${nt("mapsearch-listelement-time")} ${y.getMetadata(Br.timePublished)}`),$n.default.createElement("div",{className:"scale"},q?$n.default.createElement(N0.default.default,null):`${nt("mapsearch-listelement-scale")} ${B}`),ee&&$n.default.createElement("div",{className:"type"},q?$n.default.createElement(N0.default.default,null):`${nt("originalview-title-mosaic")}`),!y.getMetadata(Br.hasGeoReference)&&$n.default.createElement("div",{className:"georeference"},nt("mapsearch-listelement-no-georef"))))))};WNe.propTypes={children:ol.default.element,data:ol.default.shape({direction:ol.default.oneOf(["horizontal","vertical"]),feature:ol.default.object,is3d:ol.default.bool,maps:ol.default.object,selected:ol.default.bool}),onClick:ol.default.func,onMouseEnter:ol.default.func,onMouseLeave:ol.default.func,index:ol.default.number,style:ol.default.object};var EH=WNe;var GNe=e=>{var h;let{data:t,index:r}=e,{maps:n}=t,i=ur(ti),o=(h=n[r])!=null?h:Ac,u=(0,LS.useCallback)(()=>{cn(i)&&$$(i,o.toGeoJSON())},[i,o]),p=(0,LS.useCallback)(()=>{cn(i)&&$$(i,{type:"FeatureCollection",features:[]})},[i,o]);return LS.default.createElement(EH,rt({onMouseEnter:u,onMouseLeave:p},e))};GNe.propTypes=rt({},EH.propTypes);var TH=GNe;var YNe=e=>{let t=ur(ti),[r,n]=fn(Eu),i=di(KB);return ZNe.default.createElement(TH,rt({onClick:u=>{i(void 0),Kf(r,u)?(n(h=>h.filter(y=>y.getId()!==u.getId())),u.removeMapLibreLayers(t)):u.addLayerToMap(t).then(()=>{n(h=>[...h,u])})}},e))};YNe.propTypes=rt({},TH.propTypes);var zS=YNe;var YQt=["map_scale","time_published","title","georeference"],Ac=new Yf({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",time_published:"",title:"Loading"}}),YP=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=zS,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:u=!0,searchResultDescriptor:{itemCount:p,id:h},sortSettings:y})=>{let{activeType:x,sortOrder:E}=y,T=ur(_Me),[D,z]=(0,Ki.useState)({}),F=(0,Ki.useRef)(!1),q=(0,Ki.useRef)(),N=(0,Ki.useRef)(),{height:B,width:Z}=uV(N),ee=(0,Ki.useCallback)(ue=>!F.current&&D[ue]!==void 0&&D[ue]!==Ac,[D]),ae=(0,Ki.useCallback)((ue,ve)=>{if(ue!==void 0&&ve!==void 0){let Oe=ve-ue+1;return i(ue,Oe).then(be=>{be&&z(ze=>{let $e=F.current?{}:Object.assign({},ze);return F.current=!1,be.forEach((He,Re)=>{$e[ue+Re]=He}),$e})})}},[i]);return(0,Ki.useEffect)(()=>{Ac.updateMetadata("title",nt("mapsearch-listelement-loading"))},[]),(0,Ki.useEffect)(()=>{F.current=!0,q.current.resetloadMoreItemsCache(!0)},[h]),Ki.default.createElement("div",{className:vr("vkf-mapsearch-result-list",e)},u&&Ki.default.createElement("div",{className:"list-header"},Ki.default.createElement("strong",{className:"list-label"},nt("mapsearch-sorting"),":"),Ki.default.createElement("div",{className:"inner-columns"},YQt.map(ue=>Ki.default.createElement(gNe,{key:ue,onClick:o,sortOrder:x===ue?E:"",type:ue})))),Ki.default.createElement("div",{className:"mapsearch-contentlist-container",ref:N},Ki.default.createElement(hNe,{isItemLoaded:ee,itemCount:p,loadMoreItems:ae,minimumBatchSize:n,ref:q},({onItemsRendered:ue,ref:ve})=>Ki.default.createElement(dNe,{height:B,innerElementType:"ul",itemCount:p,itemSize:t,itemData:{direction:e,maps:D,is3d:T},layout:e,onItemsRendered:ue,ref:ve,width:Z},r))))};YP.propTypes={direction:Ms.default.oneOf(["horizontal","vertical"]),itemSize:Ms.default.number,minimumBatchSize:Ms.default.number,ListItemComponent:Ms.default.elementType,renderHeader:Ms.default.bool,onFetchResults:Ms.default.func,onUpdateSortType:Ms.default.func,searchResultDescriptor:Ms.default.shape({id:Ms.default.number,itemCount:Ms.default.number}),sortSettings:Ms.default.shape({activeType:Ms.default.string,sortOrder:Ms.default.string})};var KQt="title",FS={ASCENDING:"ascending",DESCENDING:"descending"},KNe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=Pn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[u,p]=(0,Ud.useState)({activeType:KQt,sortOrder:FS.ASCENDING}),{activeType:h,sortOrder:y}=u,x=T=>{let D=T===h&&y===FS.ASCENDING?FS.DESCENDING:FS.ASCENDING;p({sortOrder:D,activeType:T})};return Ud.default.createElement(Ud.Fragment,null,r&&Ud.default.createElement(tqe,{sortSettings:u}),Ud.default.createElement(t,{customQuery:e,renderConsumer:T=>Ud.default.createElement(YP,rt(rt({onUpdateSortType:x,sortSettings:u},n),T)),sortSettings:u}))};KNe.propTypes=rt({DataProvider:CH.default.elementType.isRequired,enableOverlayLayer:CH.default.bool},YP.propTypes);var KP=KNe;var MH=re(Ue(),1),PH=re(Wt(),1);var AH=re(Ue(),1),XP=re(Wt(),1);var XNe=({name:e,color:t,size:r})=>AH.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},AH.default.createElement("use",{xlinkHref:`${Nr.getSettings().ICON_SPRITE}#${e}`}));XNe.propTypes={name:XP.default.string.isRequired,color:XP.default.string,size:XP.default.number};var R0=XNe;var JNe=({onClick:e,isOpen:t})=>{let r=ur(Rf);return MH.default.createElement("button",{className:vr("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:nt(`mapsearch-facetedsearch-${t?"close":"open"}`)},MH.default.createElement(R0,{name:"icon-filter"}))};JNe.propTypes={isOpen:PH.default.bool,onClick:PH.default.func};var QNe=JNe;var Pa=re(Ue(),1),Xf=re(Wt(),1);var kH=re(km(),1);function eRe(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}var XQt=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},tRe=function(e){return{aggs:{summary:{stats:{field:e}}}}},rRe=function(e,t,r,n,i,o,u,p){return{query:{bool:{filter:[{range:{[e]:{gte:t[0],lte:t[1]}}},{geo_shape:{[r]:{relation:"intersects",shape:{type:"envelope",coordinates:n}}}},XQt(u),{term:{has_georeference:!0}},...(p||[])],must:[{match_all:{}}]}},sort:{[i]:{order:o}}}};var OH=function(e,t){let r="geometry"in t?t.geometry:void 0,n={};delete t.geometry;for(let i in t)if(Object.hasOwn(t,i))if(i==="time_published"){let o=t[i].split("-")[0];n[i]=o}else n[i]=t[i];return n.id=e,new Yf({metadata:n,geometry:r})},nRe=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(OH(e[r]._id,e[r]._source));return t},JP=e=>{let n=e,{time_of_publication:t}=n,r=Pn(n,["time_of_publication"]);return rt({time_of_publication:parseInt(t.split("-")[0])},r)},DH=e=>{let n=e,{time_of_publication:t}=n,r=Pn(n,["time_of_publication"]);return rt({time_of_publication:`${t}-01-01T00:00:00`},r)};var iRe=(e,t)=>{let{padding:r,offset:n,layermanagement:i,map:o,spatialtemporalsearch:u}=e,p,h,y,x;return t===Nf.VERTICAL?(p=0,h=o.height,y=o.width,x=0):(p=0+u.width+r.width,h=o.height-n.height-r.height,y=o.width-i.width-r.width,x=n.height+r.height),[[p,h],[p,x],[y,h],[y,x]]},oRe=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[u,p],[h,y]]=t;return[[Math.max(u,r),Math.min(n,p)],[Math.min(h,i),Math.max(o,y)]]};var aRe=re(Ew(),1),sRe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,u=ur(u5),{facets:p}=ur(Rf),h=ur(yMe),y=ur(ti),[x,E]=(0,Pa.useState)(void 0),T=di(d5),D=di(c5),[z,F]=fn(f5),[q,N]=fn(p5),[B,Z]=(0,Pa.useState)({itemCount:10,id:Date.now()}),ae=Nr.getSettings().API_SEARCH,ue=(0,Pa.useCallback)($e=>{let He=o==="ascending"?"asc":"desc",Re=oRe([[$e[0],$e[3]],[$e[2],$e[1]]]);return rRe("time_published",q.map(Je=>`${Je}-01-01`),"geometry",Re,i,He,p,e)},[p,i,o,q]),ve=(0,Pa.useCallback)(($e,He,Re=!1)=>{if(x===void 0)return T(!1),new Promise(Be=>Be([]));let Je=ue(x,"ESPG:4326"),ot=ae+"/_search?from="+$e+"&size="+He;return T(!0),kH.default.post(ot,Je).then(Be=>{if(Be.status===200){let Le=Be.data;return Re?Le:nRe(Le.hits.hits)}}).catch(Be=>{console.warn(Be)}).finally(()=>{T(!1)})},[ue,x]),Oe=(0,Pa.useCallback)(()=>{ve(0,0,!0).then($e=>{let He=$e.hits.total.value;D(He),Z({itemCount:He,id:Date.now()})})},[ve]),be=UMe(Oe,30),ze=(0,Pa.useCallback)(()=>{if(cn(y)){let $e=iRe(u,h),He=new aRe.LngLatBounds;$e.forEach(Je=>{let ot=y.unproject(Je);He.extend(ot)});let Re=He.toArray().flat();(x===void 0||!eRe(Re,x))&&E(Re)}},[y,x,u]);return(0,Pa.useEffect)(()=>{if(cn(y))return y.on("moveend",ze),()=>{y.off("moveend",ze)}},[y,ze]),(0,Pa.useEffect)(()=>{be()},[p,Oe,x,i,o,q]),(0,Pa.useEffect)(()=>{ze()},[u,y]),(0,Pa.useEffect)(()=>{let $e=`${ae}/_search?`,He=tRe("time_published");kH.default.post($e,He,{}).then(Re=>{if(Re.status===200){let Je=Re.data,ot=new Date(Je.aggregations.summary.max),Le=[new Date(Je.aggregations.summary.min).getUTCFullYear(),ot.getUTCFullYear()];(z===void 0||XB===z||Le[0]!==z[0]||Le[1]!==z[1])&&(F(Le),N(Le))}})},[]),Pa.default.createElement(Pa.default.Fragment,null,r({minimumBatchSize:t,onRefresh:Oe,onFetchResults:ve,searchResultDescriptor:B}))};sRe.propTypes={customQuery:Xf.default.array,minimumBatchSize:Xf.default.number,projection:Xf.default.string,renderConsumer:Xf.default.func,sortSettings:Xf.default.shape({activeType:Xf.default.string,sortOrder:Xf.default.string})};var lRe=sRe;var QP=re(Wt(),1);var uRe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=fn(Rf),[o,u]=(0,io.useState)(!1),[p,h]=(0,io.useState)(!1),y=ur(d5),x=ur(c5),E=()=>{u(D=>!D)},T=()=>{i(vMe)};return(0,io.useEffect)(()=>{h(y)},[y]),io.default.createElement("div",{className:vr("mapsearch-container",o&&"facetedsearch-open")},io.default.createElement("div",{className:"panel panel-default searchTablePanel"},io.default.createElement("div",{className:"panel-heading"},io.default.createElement("div",{className:"content"},io.default.createElement("div",null,x===0?nt("mapsearch-found-no-maps"):`${x} ${nt("mapsearch-found-maps")}`),n.facets.length>0&&io.default.createElement("button",{className:"remove-filter",onClick:T},io.default.createElement(R0,{name:"icon-filter"})),p&&io.default.createElement("div",{className:"loading-spinner"},io.default.createElement(O0,null)),io.default.createElement(QNe,{onClick:E,isOpen:o})),io.default.createElement("div",{className:"facet-container"},io.default.createElement(VP,{georeferenceMode:!1,mosaicMode:r}))),io.default.createElement("div",{className:"panel-body"},io.default.createElement(KP,{customQuery:e,DataProvider:lRe,ListItemComponent:t}))))};uRe.propTypes={customQuery:QP.default.array,MapSearchListItemComponent:QP.default.elementType,mosaicMode:QP.default.bool};var cRe=uRe;var WO=re(Ue(),1);var ri=re(Ue(),1),Dc=re(Wt(),1);function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function qH(e,t){if(Ln(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ln(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jS(e){var t=qH(e,"string");return Ln(t)==="symbol"?t:String(t)}function mt(e,t,r){return t=jS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dRe(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dRe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jS(n.key),n)}}function ra(e,t,r){return t&&pRe(e.prototype,t),r&&pRe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function na(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kl(e)}function NH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function RH(e,t){if(t&&(Ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function ia(e){var t=NH();return function(){var n=Kl(e),i;if(t){var o=Kl(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return RH(this,i)}}var KH=re(Ue());var LH={},JQt=[],QQt=function(t){JQt.push(t)};function eer(e,t){if(0)var r}function ter(e,t){if(0)var r}function rer(){LH={}}function fRe(e,t,r){!t&&!LH[r]&&(e(!1,r),LH[r]=!0)}function e4(e,t){fRe(eer,e,t)}function ner(e,t){fRe(ter,e,t)}e4.preMessage=QQt;e4.resetWarned=rer;e4.noteOnce=ner;var $d=e4;var hRe=re(Ue()),ier=function(t){var r,n,i=t.className,o=t.included,u=t.vertical,p=t.style,h=t.length,y=t.offset,x=t.reverse;h<0&&(x=!x,h=Math.abs(h),y=100-y);var E=u?(r={},mt(r,x?"top":"bottom","".concat(y,"%")),mt(r,x?"bottom":"top","auto"),mt(r,"height","".concat(h,"%")),r):(n={},mt(n,x?"right":"left","".concat(y,"%")),mt(n,x?"left":"right","auto"),mt(n,"width","".concat(h,"%")),n),T=Tt(Tt({},p),E);return o?hRe.default.createElement("div",{className:i,style:T}):null},t4=ier;function Oa(e,t){if(e==null)return{};var r=Lm(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zH(e){if(Array.isArray(e))return L0(e)}function FH(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BS(e,t){if(e){if(typeof e=="string")return L0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(e,t)}}function jH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(e){return zH(e)||FH(e)||BS(e)||jH()}function BH(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Kl(e),e!==null););return e}function Jf(){return typeof Reflect!="undefined"&&Reflect.get?Jf=Reflect.get.bind():Jf=function(t,r,n){var i=BH(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Jf.apply(this,arguments)}var F0=re(Ue());var VH=re(Li());function Xa(e,t,r,n){var i=VH.default.unstable_batchedUpdates?function(u){VH.default.unstable_batchedUpdates(r,u)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var SRe=re(Yr());var UH=re(Ue()),mRe=re(Yr());var oer=function(t,r,n,i,o,u){$d(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var p=Object.keys(r).map(parseFloat).sort(function(y,x){return y-x});if(n&&i)for(var h=o;h<=u;h+=i)p.indexOf(h)===-1&&p.push(h);return p},aer=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,u=t.dots,p=t.step,h=t.included,y=t.lowerBound,x=t.upperBound,E=t.max,T=t.min,D=t.dotStyle,z=t.activeDotStyle,F=E-T,q=oer(n,o,u,p,T,E).map(function(N){var B,Z="".concat(Math.abs(N-T)/F*100,"%"),ee=!h&&N===x||h&&N<=x&&N>=y,ae=n?Tt(Tt({},D),{},mt({},i?"top":"bottom",Z)):Tt(Tt({},D),{},mt({},i?"right":"left",Z));ee&&(ae=Tt(Tt({},ae),z));var ue=(0,mRe.default)((B={},mt(B,"".concat(r,"-dot"),!0),mt(B,"".concat(r,"-dot-active"),ee),mt(B,"".concat(r,"-dot-reverse"),i),B));return UH.default.createElement("span",{className:ue,style:ae,key:N})});return UH.default.createElement("div",{className:"".concat(r,"-step")},q)},gRe=aer;var r4=re(Ue()),vRe=re(Yr()),ser=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,u=t.included,p=t.upperBound,h=t.lowerBound,y=t.max,x=t.min,E=t.onClickLabel,T=Object.keys(o),D=y-x,z=T.map(parseFloat).sort(function(F,q){return F-q}).map(function(F){var q,N=o[F],B=Ln(N)==="object"&&!r4.default.isValidElement(N),Z=B?N.label:N;if(!Z&&Z!==0)return null;var ee=!u&&F===p||u&&F<=p&&F>=h,ae=(0,vRe.default)((q={},mt(q,"".concat(r,"-text"),!0),mt(q,"".concat(r,"-text-active"),ee),q)),ue=mt({marginBottom:"-50%"},i?"top":"bottom","".concat((F-x)/D*100,"%")),ve=mt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((F-x)/D*100,"%")),Oe=n?ue:ve,be=B?Tt(Tt({},Oe),N.style):Oe;return r4.default.createElement("span",{className:ae,style:be,key:F,onMouseDown:function($e){return E($e,F)},onTouchStart:function($e){return E($e,F)}},Z)});return r4.default.createElement("div",{className:r},z)},yRe=ser;var $H=re(Ue()),_Re=re(Yr());var z0=function(e){na(r,e);var t=ia(r);function r(){var n;return ta(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return ra(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Xa(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,u=this.props,p=u.prefixCls,h=u.vertical,y=u.reverse,x=u.offset,E=u.style,T=u.disabled,D=u.min,z=u.max,F=u.value,q=u.tabIndex,N=u.ariaLabel,B=u.ariaLabelledBy,Z=u.ariaValueTextFormatter,ee=Oa(u,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),ae=(0,_Re.default)(this.props.className,mt({},"".concat(p,"-handle-click-focused"),this.state.clickFocused)),ue=h?(i={},mt(i,y?"top":"bottom","".concat(x,"%")),mt(i,y?"bottom":"top","auto"),mt(i,"transform",y?null:"translateY(+50%)"),i):(o={},mt(o,y?"right":"left","".concat(x,"%")),mt(o,y?"left":"right","auto"),mt(o,"transform","translateX(".concat(y?"+":"-","50%)")),o),ve=Tt(Tt({},E),ue),Oe=q||0;(T||q===null)&&(Oe=null);var be;return Z&&(be=Z(F)),$H.default.createElement("div",en({ref:this.setHandleRef,tabIndex:Oe},ee,{className:ae,style:ve,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":D,"aria-valuemax":z,"aria-valuenow":F,"aria-disabled":!!T,"aria-label":N,"aria-labelledby":B,"aria-valuetext":be}))}}]),r}($H.default.Component);var xRe=re(Li());var Ir={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Ir.F1&&r<=Ir.F12)return!1;switch(r){case Ir.ALT:case Ir.CAPS_LOCK:case Ir.CONTEXT_MENU:case Ir.CTRL:case Ir.DOWN:case Ir.END:case Ir.ESC:case Ir.HOME:case Ir.INSERT:case Ir.LEFT:case Ir.MAC_FF_META:case Ir.META:case Ir.NUMLOCK:case Ir.NUM_CENTER:case Ir.PAGE_DOWN:case Ir.PAGE_UP:case Ir.PAUSE:case Ir.PRINT_SCREEN:case Ir.RIGHT:case Ir.SHIFT:case Ir.UP:case Ir.WIN_KEY:case Ir.WIN_KEY_RIGHT:return!1;default:return!0;}},isCharacterKey:function(t){if(t>=Ir.ZERO&&t<=Ir.NINE||t>=Ir.NUM_ZERO&&t<=Ir.NUM_MULTIPLY||t>=Ir.A&&t<=Ir.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Ir.SPACE:case Ir.QUESTION_MARK:case Ir.NUM_PLUS:case Ir.NUM_MINUS:case Ir.NUM_PERIOD:case Ir.NUM_DIVISION:case Ir.SEMICOLON:case Ir.DASH:case Ir.EQUALS:case Ir.COMMA:case Ir.PERIOD:case Ir.SLASH:case Ir.APOSTROPHE:case Ir.SINGLE_QUOTE:case Ir.OPEN_SQUARE_BRACKET:case Ir.BACKSLASH:case Ir.CLOSE_SQUARE_BRACKET:return!0;default:return!1;}}},Hd=Ir;function n4(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,xRe.findDOMNode)(t[r])})}catch(r){return!1}}function i4(e,t){var r=t.min,n=t.max;return e<r||e>n}function HH(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function bRe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,u=Object.keys(r).map(parseFloat);if(n!==null){var p=Math.pow(10,wRe(n)),h=Math.floor((o*p-i*p)/(n*p)),y=Math.min((e-i)/n,h),x=Math.round(y)*n+i;u.push(x)}var E=u.map(function(T){return Math.abs(e-T)});return u[E.indexOf(Math.min.apply(Math,Xl(E)))]}function wRe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function WH(e,t){return e?t.clientY:t.pageX}function GH(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function ZH(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function VS(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function o4(e,t){var r=t.step,n=isFinite(bRe(e,t))?bRe(e,t):0;return r===null?n:parseFloat(n.toFixed(wRe(r)))}function Wd(e){e.stopPropagation(),e.preventDefault()}function ler(e,t,r){var n={increase:function(p,h){return p+h},decrease:function(p,h){return p-h}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function a4(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Hd.UP:o=t&&r?i:n;break;case Hd.RIGHT:o=!t&&r?i:n;break;case Hd.DOWN:o=t&&r?n:i;break;case Hd.LEFT:o=!t&&r?n:i;break;case Hd.END:return function(u,p){return p.max};case Hd.HOME:return function(u,p){return p.min};case Hd.PAGE_UP:return function(u,p){return u+p.step*2};case Hd.PAGE_DOWN:return function(u,p){return u-p.step*2};default:return;}return function(u,p){return ler(o,u,p)}}function Mc(){}function US(e){var t;return t=function(r){na(i,r);var n=ia(i);function i(o){var u;ta(this,i),u=n.call(this,o),u.onDown=function(E,T){var D=T,z=u.props,F=z.draggableTrack,q=z.vertical,N=u.state.bounds,B=F&&u.positionGetValue?u.positionGetValue(D)||[]:[],Z=n4(E,u.handlesRefs);if(u.dragTrack=F&&N.length>=2&&!Z&&!B.map(function(ae,ue){var ve=ue?!0:ae>=N[ue];return ue===B.length-1?ae<=N[ue]:ve}).some(function(ae){return!ae}),u.dragTrack)u.dragOffset=D,u.startBounds=Xl(N);else{if(!Z)u.dragOffset=0;else{var ee=ZH(q,E.target);u.dragOffset=D-ee,D=ee}u.onStart(D)}},u.onMouseDown=function(E){if(E.button===0){u.removeDocumentEvents();var T=u.props.vertical,D=WH(T,E);u.onDown(E,D),u.addDocumentMouseEvents()}},u.onTouchStart=function(E){if(!HH(E)){var T=u.props.vertical,D=GH(T,E);u.onDown(E,D),u.addDocumentTouchEvents(),Wd(E)}},u.onFocus=function(E){var T=u.props,D=T.onFocus,z=T.vertical;if(n4(E,u.handlesRefs)&&!u.dragTrack){var F=ZH(z,E.target);u.dragOffset=0,u.onStart(F),Wd(E),D&&D(E)}},u.onBlur=function(E){var T=u.props.onBlur;u.dragTrack||u.onEnd(),T&&T(E)},u.onMouseUp=function(){u.handlesRefs[u.prevMovedHandleIndex]&&u.handlesRefs[u.prevMovedHandleIndex].clickFocus()},u.onMouseMove=function(E){if(!u.sliderRef){u.onEnd();return}var T=WH(u.props.vertical,E);u.onMove(E,T-u.dragOffset,u.dragTrack,u.startBounds)},u.onTouchMove=function(E){if(HH(E)||!u.sliderRef){u.onEnd();return}var T=GH(u.props.vertical,E);u.onMove(E,T-u.dragOffset,u.dragTrack,u.startBounds)},u.onKeyDown=function(E){u.sliderRef&&n4(E,u.handlesRefs)&&u.onKeyboard(E)},u.onClickMarkLabel=function(E,T){E.stopPropagation(),u.onChange({value:T}),u.setState({value:T},function(){return u.onEnd(!0)})},u.saveSlider=function(E){u.sliderRef=E};var p=o.step,h=o.max,y=o.min,x=isFinite(h-y)?(h-y)%p===0:!0;return $d(p&&Math.floor(p)===p?x:!0,"Slider[max] - Slider[min] (".concat(h-y,") should be a multiple of Slider[step] (").concat(p,")")),u.handlesRefs={},u}return ra(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var u=this.props,p=u.autoFocus,h=u.disabled;p&&!h&&this.focus()}},{key:"componentWillUnmount",value:function(){Jf(Kl(i.prototype),"componentWillUnmount",this)&&Jf(Kl(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var u=this.sliderRef,p=this.props,h=p.vertical,y=p.reverse,x=u.getBoundingClientRect();return h?y?x.bottom:x.top:window.pageXOffset+(y?x.right:x.left)}},{key:"getSliderLength",value:function(){var u=this.sliderRef;if(!u)return 0;var p=u.getBoundingClientRect();return this.props.vertical?p.height:p.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Xa(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Xa(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Xa(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Xa(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var u;this.props.disabled||(u=this.handlesRefs[0])===null||u===void 0||u.focus()}},{key:"blur",value:function(){var u=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(p){var h,y;(h=u.handlesRefs[p])===null||h===void 0||(y=h.blur)===null||y===void 0||y.call(h)})}},{key:"calcValue",value:function(u){var p=this.props,h=p.vertical,y=p.min,x=p.max,E=Math.abs(Math.max(u,0)/this.getSliderLength()),T=h?(1-E)*(x-y)+y:E*(x-y)+y;return T}},{key:"calcValueByPos",value:function(u){var p=this.props.reverse?-1:1,h=p*(u-this.getSliderStart()),y=this.trimAlignValue(this.calcValue(h));return y}},{key:"calcOffset",value:function(u){var p=this.props,h=p.min,y=p.max,x=(u-h)/(y-h);return Math.max(0,x*100)}},{key:"saveHandle",value:function(u,p){this.handlesRefs[u]=p}},{key:"render",value:function(){var u,p=this.props,h=p.prefixCls,y=p.className,x=p.marks,E=p.dots,T=p.step,D=p.included,z=p.disabled,F=p.vertical,q=p.reverse,N=p.min,B=p.max,Z=p.children,ee=p.maximumTrackStyle,ae=p.style,ue=p.railStyle,ve=p.dotStyle,Oe=p.activeDotStyle,be=Jf(Kl(i.prototype),"render",this).call(this),ze=be.tracks,$e=be.handles,He=(0,SRe.default)(h,(u={},mt(u,"".concat(h,"-with-marks"),Object.keys(x).length),mt(u,"".concat(h,"-disabled"),z),mt(u,"".concat(h,"-vertical"),F),mt(u,y,y),u));return F0.default.createElement("div",{ref:this.saveSlider,className:He,onTouchStart:z?Mc:this.onTouchStart,onMouseDown:z?Mc:this.onMouseDown,onMouseUp:z?Mc:this.onMouseUp,onKeyDown:z?Mc:this.onKeyDown,onFocus:z?Mc:this.onFocus,onBlur:z?Mc:this.onBlur,style:ae},F0.default.createElement("div",{className:"".concat(h,"-rail"),style:Tt(Tt({},ee),ue)}),ze,F0.default.createElement(gRe,{prefixCls:h,vertical:F,reverse:q,marks:x,dots:E,step:T,included:D,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:B,min:N,dotStyle:ve,activeDotStyle:Oe}),$e,F0.default.createElement(yRe,{className:"".concat(h,"-mark"),onClickLabel:z?Mc:this.onClickMarkLabel,vertical:F,marks:x,included:D,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:B,min:N,reverse:q}),Z)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Tt(Tt({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=Oa(n,["index"]);return delete o.dragging,o.value===null?null:F0.default.createElement(z0,en({},o,{key:i}))},onBeforeChange:Mc,onChange:Mc,onAfterChange:Mc,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var uer=function(e){na(r,e);var t=ia(r);function r(n){var i;ta(this,r),i=t.call(this,n),i.positionGetValue=function(p){return[]},i.onEnd=function(p){var h=i.state.dragging;i.removeDocumentEvents(),(h||p)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,u=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(u),dragging:!1},$d(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),$d(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return ra(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this.props,p=u.min,h=u.max,y=u.value,x=u.onChange;if("min"in this.props||"max"in this.props){var E=y!==void 0?y:o.value,T=this.trimAlignValue(E,this.props);T!==o.value&&(this.setState({value:T}),!(p===i.min&&h===i.max)&&i4(E,this.props)&&x(T))}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o),p=i.value>this.props.max?Tt(Tt({},i),{},{value:this.props.max}):i;u&&this.setState(p);var h=p.value;o.onChange(h)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,u=this.getValue();o.onBeforeChange(u);var p=this.calcValueByPos(i);this.startValue=p,this.startPosition=i,p!==u&&(this.prevMovedHandleIndex=0,this.onChange({value:p}))}},{key:"onMove",value:function(i,o){Wd(i);var u=this.state.value,p=this.calcValueByPos(o);p!==u&&this.onChange({value:p})}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,p=o.vertical,h=a4(i,p,u);if(h){Wd(i);var y=this.state,x=y.value,E=h(x,this.props),T=this.trimAlignValue(E);if(T===x)return;this.onChange({value:T}),this.props.onAfterChange(T),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var u=Tt(Tt({},this.props),o),p=VS(i,u);return o4(p,u)}},{key:"render",value:function(){var i=this,o=this.props,u=o.prefixCls,p=o.vertical,h=o.included,y=o.disabled,x=o.minimumTrackStyle,E=o.trackStyle,T=o.handleStyle,D=o.tabIndex,z=o.ariaLabelForHandle,F=o.ariaLabelledByForHandle,q=o.ariaValueTextFormatterForHandle,N=o.min,B=o.max,Z=o.startPoint,ee=o.reverse,ae=o.handle,ue=this.state,ve=ue.value,Oe=ue.dragging,be=this.calcOffset(ve),ze=ae({className:"".concat(u,"-handle"),prefixCls:u,vertical:p,offset:be,value:ve,dragging:Oe,disabled:y,min:N,max:B,reverse:ee,index:0,tabIndex:D,ariaLabel:z,ariaLabelledBy:F,ariaValueTextFormatter:q,style:T[0]||T,ref:function(ot){return i.saveHandle(0,ot)}}),$e=Z!==void 0?this.calcOffset(Z):0,He=E[0]||E,Re=KH.default.createElement(t4,{className:"".concat(u,"-track"),vertical:p,included:h,offset:$e,reverse:ee,length:be-$e,style:Tt(Tt({},x),He)});return{tracks:Re,handles:ze}}}]),r}(KH.default.Component),IRe=US(uer);var XH=re(Ue()),JH=re(Yr());var $S=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,u=o.allowCross,p=o.pushable,h=Number(p),y=VS(r,o),x=y;return!u&&n!=null&&i!==void 0&&(n>0&&y<=i[n-1]+h&&(x=i[n-1]+h),n<i.length-1&&y>=i[n+1]-h&&(x=i[n+1]-h)),o4(x,o)},QH=function(e){na(r,e);var t=ia(r);function r(n){var i;ta(this,r),i=t.call(this,n),i.positionGetValue=function(D){var z=i.getValue(),F=i.calcValueByPos(D),q=i.getClosestBound(F),N=i.getBoundNeedMoving(F,q),B=z[N];if(F===B)return null;var Z=Xl(z);return Z[N]=F,Z},i.onEnd=function(D){var z=i.state.handle;i.removeDocumentEvents(),z||(i.dragTrack=!1),(z!==null||D)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,u=n.min,p=n.max,h=Array.apply(void 0,Xl(Array(o+1))).map(function(){return u}),y="defaultValue"in n?n.defaultValue:h,x=n.value!==void 0?n.value:y,E=x.map(function(D,z){return $S({value:D,handle:z,props:n})}),T=E[0]===p?0:E.length-1;return i.state={handle:null,recent:T,bounds:E},i}return ra(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this,p=this.props,h=p.onChange,y=p.value,x=p.min,E=p.max;if(("min"in this.props||"max"in this.props)&&!(x===i.min&&E===i.max)){var T=y||o.bounds;if(T.some(function(z){return i4(z,u.props)})){var D=T.map(function(z){return VS(z,u.props)});h(D)}}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o);if(u)this.setState(i);else{var p={};["handle","recent"].forEach(function(x){i[x]!==void 0&&(p[x]=i[x])}),Object.keys(p).length&&this.setState(p)}var h=Tt(Tt({},this.state),i),y=h.bounds;o.onChange(y)}},{key:"onStart",value:function(i){var o=this.props,u=this.state,p=this.getValue();o.onBeforeChange(p);var h=this.calcValueByPos(i);this.startValue=h,this.startPosition=i;var y=this.getClosestBound(h);this.prevMovedHandleIndex=this.getBoundNeedMoving(h,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var x=p[this.prevMovedHandleIndex];if(h!==x){var E=Xl(u.bounds);E[this.prevMovedHandleIndex]=h,this.onChange({bounds:E})}}},{key:"onMove",value:function(i,o,u,p){Wd(i);var h=this.state,y=this.props,x=y.max||100,E=y.min||0;if(u){var T=y.vertical?-o:o;T=y.reverse?-T:T;var D=x-Math.max.apply(Math,Xl(p)),z=E-Math.min.apply(Math,Xl(p)),F=Math.min(Math.max(T/(this.getSliderLength()/(x-E)),z),D),q=p.map(function(Z){return Math.floor(Math.max(Math.min(Z+F,x),E))});h.bounds.map(function(Z,ee){return Z===q[ee]}).some(function(Z){return!Z})&&this.onChange({bounds:q});return}var N=this.calcValueByPos(o),B=h.bounds[h.handle];N!==B&&this.moveTo(N)}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,p=o.vertical,h=a4(i,p,u);if(h){Wd(i);var y=this.state,x=this.props,E=y.bounds,T=y.handle,D=E[T===null?y.recent:T],z=h(D,x),F=$S({value:z,handle:T,bounds:y.bounds,props:x});if(F===D)return;var q=!0;this.moveTo(F,q)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,u=0,p=1;p<o.length-1;p+=1)i>=o[p]&&(u=p);return Math.abs(o[u+1]-i)<Math.abs(o[u]-i)&&(u+=1),u}},{key:"getBoundNeedMoving",value:function(i,o){var u=this.state,p=u.bounds,h=u.recent,y=o,x=p[o+1]===p[o];return x&&p[h]===p[o]&&(y=h),x&&i!==p[o+1]&&(y=i<p[o+1]?o:o+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,u=i.step,p=i.min,h=i.max,y=this.internalPointsCache;if(!y||y.marks!==o||y.step!==u){var x=Tt({},o);if(u!==null)for(var E=p;E<=h;E+=u)x[E]=E;var T=Object.keys(x).map(parseFloat);T.sort(function(D,z){return D-z}),this.internalPointsCache={marks:o,step:u,points:T}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var u=this,p=this.state,h=this.props,y=Xl(p.bounds),x=p.handle===null?p.recent:p.handle;y[x]=i;var E=x;h.pushable!==!1?this.pushSurroundingHandles(y,E):h.allowCross&&(y.sort(function(T,D){return T-D}),E=y.indexOf(i)),this.onChange({recent:E,handle:E,bounds:y}),o&&(this.props.onAfterChange(y),this.setState({},function(){u.handlesRefs[E].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var u=i[o],p=this.props.pushable,h=Number(p),y=0;if(i[o+1]-u<h&&(y=1),u-i[o-1]<h&&(y=-1),y!==0){var x=o+y,E=y*(i[x]-u);this.pushHandle(i,x,y,h-E)||(i[o]=i[x]-y*h)}}},{key:"pushHandle",value:function(i,o,u,p){for(var h=i[o],y=i[o];u*(y-h)<p;){if(!this.pushHandleOnePoint(i,o,u))return i[o]=h,!1;y=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,u){var p=this.getPoints(),h=p.indexOf(i[o]),y=h+u;if(y>=p.length||y<0)return!1;var x=o+u,E=p[y],T=this.props.pushable,D=Number(T),z=u*(i[x]-E);return this.pushHandle(i,x,u,D-z)?(i[o]=E,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,u=o.handle,p=o.bounds;return $S({value:i,handle:u,bounds:p,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,u=o.handle,p=o.bounds,h=this.props,y=h.prefixCls,x=h.vertical,E=h.included,T=h.disabled,D=h.min,z=h.max,F=h.reverse,q=h.handle,N=h.trackStyle,B=h.handleStyle,Z=h.tabIndex,ee=h.ariaLabelGroupForHandles,ae=h.ariaLabelledByGroupForHandles,ue=h.ariaValueTextFormatterGroupForHandles,ve=p.map(function($e){return i.calcOffset($e)}),Oe="".concat(y,"-handle"),be=p.map(function($e,He){var Re,Je=Z[He]||0;(T||Z[He]===null)&&(Je=null);var ot=u===He;return q({className:(0,JH.default)((Re={},mt(Re,Oe,!0),mt(Re,"".concat(Oe,"-").concat(He+1),!0),mt(Re,"".concat(Oe,"-dragging"),ot),Re)),prefixCls:y,vertical:x,dragging:ot,offset:ve[He],value:$e,index:He,tabIndex:Je,min:D,max:z,reverse:F,disabled:T,style:B[He],ref:function(Le){return i.saveHandle(He,Le)},ariaLabel:ee[He],ariaLabelledBy:ae[He],ariaValueTextFormatter:ue[He]})}),ze=p.slice(0,-1).map(function($e,He){var Re,Je=He+1,ot=(0,JH.default)((Re={},mt(Re,"".concat(y,"-track"),!0),mt(Re,"".concat(y,"-track-").concat(Je),!0),Re));return XH.default.createElement(t4,{className:ot,vertical:x,reverse:F,included:E,offset:ve[Je-1],length:ve[Je]-ve[Je-1],style:N[He],key:Je})});return{tracks:ze,handles:be}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var u=i.value||o.bounds,p=u.map(function(h,y){return $S({value:h,handle:y,bounds:o.bounds,props:i})});if(o.bounds.length===p.length){if(p.every(function(h,y){return h===o.bounds[y]}))return null}else p=u.map(function(h,y){return $S({value:h,handle:y,props:i})});return Tt(Tt({},o),{},{bounds:p})}}]),r}(XH.default.Component);QH.displayName="Range";QH.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var s4=US(QH);var r2=re(Ue());var Kd=re(Ue());var zW=re(Ue()),G0=re(Ue());var ll=re(Ue()),i6e=re(Li());var TRe=function(t){return+setTimeout(t,16)},CRe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(TRe=function(t){return window.requestAnimationFrame(t)},CRe=function(t){return window.cancelAnimationFrame(t)});var ERe=0,eW=new Map;function ARe(e){eW.delete(e)}var MRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;ERe+=1;var n=ERe;function i(o){if(o===0)ARe(n),t();else{var u=TRe(function(){i(o-1)});eW.set(n,u)}}return i(r),n};MRe.cancel=function(e){var t=eW.get(e);return ARe(t),CRe(t)};var Ps=MRe;function Xm(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var PRe=re(Ue()),ORe=re(Li());function cer(e){return e instanceof HTMLElement||e instanceof SVGElement}function HS(e){return cer(e)?e:e instanceof PRe.default.Component?ORe.default.findDOMNode(e):null}var ver=re(Ue()),iW=re(NRe());var ger=re(Ue());function oW(e,t){typeof e=="function"?e(t):Ln(e)==="object"&&e&&"current"in e&&(e.current=t)}function j0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(function(i){return i});return n.length<=1?n[0]:function(i){t.forEach(function(o){oW(o,i)})}}function y4(e){var t,r,n=(0,iW.isMemo)(e)?e.type.type:e.type;return!(typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render))}var Ou=re(Ue()),RRe=re(Li());function Pc(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var yer=(0,Ou.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,Ou.useRef)(),u=(0,Ou.useRef)();(0,Ou.useImperativeHandle)(t,function(){return{}});var p=(0,Ou.useRef)(!1);return!p.current&&Pc()&&(u.current=n(),o.current=u.current.parentNode,p.current=!0),(0,Ou.useEffect)(function(){r==null||r(e)}),(0,Ou.useEffect)(function(){return u.current.parentNode===null&&o.current!==null&&o.current.appendChild(u.current),function(){var h,y;(h=u.current)===null||h===void 0||(y=h.parentNode)===null||y===void 0||y.removeChild(u.current)}},[]),u.current?RRe.default.createPortal(i,u.current):null}),LRe=yer;var o6e=re(Yr());function _er(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function zRe(e,t,r){var n=e[t]||{};return Tt(Tt({},n),r)}function FRe(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var p=o[u];if(_er(e[p].points,i,n))return"".concat(t,"-placement-").concat(p)}return""}function aW(e){if(Array.isArray(e))return e}function sW(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,u,p=[],h=!0,y=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(n=o.call(r)).done)&&(p.push(n.value),p.length!==t);h=!0);}catch(x){y=!0,i=x}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(y)throw i}}return p}}function lW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(e,t){return aW(e)||sW(e,t)||BS(e,t)||lW()}var tg=re(Ue()),t2=re(Ue());var jRe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var yW=re(Ue()),nLe=re(Yr());var tLe=re(Yr());var Ds=re(Ue()),vW=re(Ue());var uW=re(Ue());var BRe=uW.createContext({});var VRe=re(Ue()),ber=function(e){na(r,e);var t=ia(r);function r(){return ta(this,r),t.apply(this,arguments)}return ra(r,[{key:"render",value:function(){return this.props.children}}]),r}(VRe.Component),URe=ber;var B0=re(Ue());function Gd(e){var t=B0.useRef(!1),r=B0.useState(e),n=Tn(r,2),i=n[0],o=n[1];B0.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(p,h){h&&t.current||o(p)}return[i,u]}var A4=re(Ue()),eh=re(Ue());var Zd="none",WS="appear",GS="enter",ZS="leave",cW="none",Os="prepare",Yd="start",Qf="active",_4="end",b4="prepared";var S4=re(Ue()),hW=re(Ue());function $Re(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function xer(e,t){var r={animationend:$Re("Animation","AnimationEnd"),transitionend:$Re("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var wer=xer(Pc(),typeof window!="undefined"?window:{}),WRe={};Pc()&&(HRe=document.createElement("div"),WRe=HRe.style);var HRe,x4={};function GRe(e){if(x4[e])return x4[e];var t=wer[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in WRe)return x4[e]=t[o],x4[e]}return""}var ZRe=GRe("animationend"),YRe=GRe("transitionend"),w4=!!(ZRe&&YRe),dW=ZRe||"animationend",pW=YRe||"transitionend";function fW(e,t){if(!e)return null;if(Ln(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var KRe=function(e){var t=(0,hW.useRef)(),r=(0,hW.useRef)(e);r.current=e;var n=S4.useCallback(function(u){r.current(u)},[]);function i(u){u&&(u.removeEventListener(pW,n),u.removeEventListener(dW,n))}function o(u){t.current&&t.current!==u&&i(t.current),u&&u!==t.current&&(u.addEventListener(pW,n),u.addEventListener(dW,n),t.current=u)}return S4.useEffect(function(){return function(){i(t.current)}},[]),[o,i]};var I4=re(Ue()),Ser=Pc()?I4.useLayoutEffect:I4.useEffect,E4=Ser;var JRe=re(Ue());var T4=re(Ue()),XRe=function(){var e=T4.useRef(null);function t(){Ps.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=Ps(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return T4.useEffect(function(){return function(){t()}},[]),[r,t]};var Ier=[Os,Yd,Qf,_4],Eer=[Os,b4],mW=!1,QRe=!0;function C4(e){return e===Qf||e===_4}var eLe=function(e,t,r){var n=Gd(cW),i=Tn(n,2),o=i[0],u=i[1],p=XRe(),h=Tn(p,2),y=h[0],x=h[1];function E(){u(Os,!0)}var T=t?Eer:Ier;return E4(function(){if(o!==cW&&o!==_4){var D=T.indexOf(o),z=T[D+1],F=r(o);F===mW?u(z,!0):z&&y(function(q){function N(){q.isCanceled()||u(z,!0)}F===!0?N():Promise.resolve(F).then(N)})}},[e,o]),JRe.useEffect(function(){return function(){x()}},[]),[E,o]};function gW(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,u=n.motionAppear,p=u===void 0?!0:u,h=n.motionLeave,y=h===void 0?!0:h,x=n.motionDeadline,E=n.motionLeaveImmediately,T=n.onAppearPrepare,D=n.onEnterPrepare,z=n.onLeavePrepare,F=n.onAppearStart,q=n.onEnterStart,N=n.onLeaveStart,B=n.onAppearActive,Z=n.onEnterActive,ee=n.onLeaveActive,ae=n.onAppearEnd,ue=n.onEnterEnd,ve=n.onLeaveEnd,Oe=n.onVisibleChanged,be=Gd(),ze=Tn(be,2),$e=ze[0],He=ze[1],Re=Gd(Zd),Je=Tn(Re,2),ot=Je[0],Be=Je[1],Le=Gd(null),Pe=Tn(Le,2),Qe=Pe[0],lt=Pe[1],pt=(0,eh.useRef)(!1),je=(0,eh.useRef)(null);function Ge(){return r()}var at=(0,eh.useRef)(!1);function De(){Be(Zd,!0),lt(null,!0)}function he(dr){var Vt=Ge();if(!(dr&&!dr.deadline&&dr.target!==Vt)){var pr=at.current,$r;ot===WS&&pr?$r=ae==null?void 0:ae(Vt,dr):ot===GS&&pr?$r=ue==null?void 0:ue(Vt,dr):ot===ZS&&pr&&($r=ve==null?void 0:ve(Vt,dr)),ot!==Zd&&pr&&$r!==!1&&De()}}var qe=KRe(he),Te=Tn(qe,1),Ke=Te[0],Ze=function(Vt){var pr,$r,jr;switch(Vt){case WS:return pr={},mt(pr,Os,T),mt(pr,Yd,F),mt(pr,Qf,B),pr;case GS:return $r={},mt($r,Os,D),mt($r,Yd,q),mt($r,Qf,Z),$r;case ZS:return jr={},mt(jr,Os,z),mt(jr,Yd,N),mt(jr,Qf,ee),jr;default:return{};}},St=A4.useMemo(function(){return Ze(ot)},[ot]),It=eLe(ot,!e,function(dr){if(dr===Os){var Vt=St[Os];return Vt?Vt(Ge()):mW}if(ft in St){var pr;lt(((pr=St[ft])===null||pr===void 0?void 0:pr.call(St,Ge(),null))||null)}return ft===Qf&&(Ke(Ge()),x>0&&(clearTimeout(je.current),je.current=setTimeout(function(){he({deadline:!0})},x))),ft===b4&&De(),QRe}),Dt=Tn(It,2),we=Dt[0],ft=Dt[1],$t=C4(ft);at.current=$t,E4(function(){He(t);var dr=pt.current;pt.current=!0;var Vt;!dr&&t&&p&&(Vt=WS),dr&&t&&o&&(Vt=GS),(dr&&!t&&y||!dr&&E&&!t&&y)&&(Vt=ZS);var pr=Ze(Vt);Vt&&(e||pr[Os])?(Be(Vt),we()):Be(Zd)},[t]),(0,eh.useEffect)(function(){(ot===WS&&!p||ot===GS&&!o||ot===ZS&&!y)&&Be(Zd)},[p,o,y]),(0,eh.useEffect)(function(){return function(){pt.current=!1,clearTimeout(je.current)}},[]);var gt=A4.useRef(!1);(0,eh.useEffect)(function(){$e&&(gt.current=!0),$e!==void 0&&ot===Zd&&((gt.current||$e)&&(Oe==null||Oe($e)),gt.current=!0)},[$e,ot]);var Ht=Qe;return St[Os]&&ft===Yd&&(Ht=Tt({transition:"none"},Ht)),[ot,ft,Ht,$e!=null?$e:t]}function Ter(e){var t=e;Ln(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=Ds.forwardRef(function(i,o){var u=i.visible,p=u===void 0?!0:u,h=i.removeOnLeave,y=h===void 0?!0:h,x=i.forceRender,E=i.children,T=i.motionName,D=i.leavedClassName,z=i.eventProps,F=Ds.useContext(BRe),q=F.motion,N=r(i,q),B=(0,vW.useRef)(),Z=(0,vW.useRef)();function ee(){try{return B.current instanceof HTMLElement?B.current:HS(Z.current)}catch(lt){return null}}var ae=gW(N,p,ee,i),ue=Tn(ae,4),ve=ue[0],Oe=ue[1],be=ue[2],ze=ue[3],$e=Ds.useRef(ze);ze&&($e.current=!0);var He=Ds.useCallback(function(lt){B.current=lt,oW(o,lt)},[o]),Re,Je=Tt(Tt({},z),{},{visible:p});if(!E)Re=null;else if(ve===Zd)ze?Re=E(Tt({},Je),He):!y&&$e.current&&D?Re=E(Tt(Tt({},Je),{},{className:D}),He):x||!y&&!D?Re=E(Tt(Tt({},Je),{},{style:{display:"none"}}),He):Re=null;else{var ot,Be;Oe===Os?Be="prepare":C4(Oe)?Be="active":Oe===Yd&&(Be="start");var Le=fW(T,"".concat(ve,"-").concat(Be));Re=E(Tt(Tt({},Je),{},{className:(0,tLe.default)(fW(T,ve),(ot={},mt(ot,Le,Le&&Be),mt(ot,T,typeof T=="string"),ot)),style:be}),He)}if(Ds.isValidElement(Re)&&y4(Re)){var Pe=Re,Qe=Pe.ref;Qe||(Re=Ds.cloneElement(Re,{ref:He}))}return Ds.createElement(URe,{ref:Z},Re)});return n.displayName="CSSMotion",n}var M4=Ter(w4);var Jm=re(Ue());var P4="add",O4="keep",D4="remove",q4="removed";function Cer(e){var t;return e&&Ln(e)==="object"&&"key"in e?t=e:t={key:e},Tt(Tt({},t),{},{key:String(t.key)})}function k4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Cer)}function rLe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=k4(e),u=k4(t);o.forEach(function(y){for(var x=!1,E=n;E<i;E+=1){var T=u[E];if(T.key===y.key){n<E&&(r=r.concat(u.slice(n,E).map(function(D){return Tt(Tt({},D),{},{status:P4})})),n=E),r.push(Tt(Tt({},T),{},{status:O4})),n+=1,x=!0;break}}x||r.push(Tt(Tt({},y),{},{status:D4}))}),n<i&&(r=r.concat(u.slice(n).map(function(y){return Tt(Tt({},y),{},{status:P4})})));var p={};r.forEach(function(y){var x=y.key;p[x]=(p[x]||0)+1});var h=Object.keys(p).filter(function(y){return p[y]>1});return h.forEach(function(y){r=r.filter(function(x){var E=x.key,T=x.status;return E!==y||T!==D4}),r.forEach(function(x){x.key===y&&(x.status=O4)})}),r}var Aer=["component","children","onVisibleChanged","onAllRemoved"],Mer=["status"],Per=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Oer(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M4,r=function(n){na(o,n);var i=ia(o);function o(){var u;ta(this,o);for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];return u=i.call.apply(i,[this].concat(h)),mt(Ar(u),"state",{keyEntities:[]}),mt(Ar(u),"removeKey",function(x){var E=u.state.keyEntities,T=E.map(function(D){return D.key!==x?D:Tt(Tt({},D),{},{status:q4})});return u.setState({keyEntities:T}),T.filter(function(D){var z=D.status;return z!==q4}).length}),u}return ra(o,[{key:"render",value:function(){var p=this,h=this.state.keyEntities,y=this.props,x=y.component,E=y.children,T=y.onVisibleChanged,D=y.onAllRemoved,z=Oa(y,Aer),F=x||Jm.Fragment,q={};return Per.forEach(function(N){q[N]=z[N],delete z[N]}),delete z.keys,Jm.createElement(F,z,h.map(function(N,B){var Z=N.status,ee=Oa(N,Mer),ae=Z===P4||Z===O4;return Jm.createElement(t,en({},q,{key:ee.key,visible:ae,eventProps:ee,onVisibleChanged:function(ve){if(T==null||T(ve,{key:ee.key}),!ve){var Oe=p.removeKey(ee.key);Oe===0&&D&&D()}}}),function(ue,ve){return E(Tt(Tt({},ue),{},{index:B}),ve)})}))}}],[{key:"getDerivedStateFromProps",value:function(p,h){var y=p.keys,x=h.keyEntities,E=k4(y),T=rLe(x,E);return{keyEntities:T.filter(function(D){var z=x.find(function(F){var q=F.key;return D.key===q});return!(z&&z.status===q4&&D.status===D4)})}}}]),o}(Jm.Component);return mt(r,"defaultProps",{component:"div"}),r}var Der=Oer(w4);var V0=M4;function N4(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function _W(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,u=e.maskAnimation,p=e.maskTransitionName;if(!i)return null;var h={};return(o||p||u)&&(h=Tt({motionAppear:!0},N4({motion:o,prefixCls:t,transitionName:p,animation:u}))),yW.createElement(V0,en({},h,{visible:r,removeOnLeave:!0}),function(y){var x=y.className;return yW.createElement("div",{style:{zIndex:n},className:(0,nLe.default)("".concat(t,"-mask"),x)})})}var sl=re(Ue()),eg=re(Ue());function iLe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oLe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iLe(Object(r),!0).forEach(function(n){ker(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iLe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e){"@babel/helpers - typeof";return IW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IW(e)}function ker(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YS,qer={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function j4(){if(YS!==void 0)return YS;YS="";var e=document.createElement("p").style,t="Transform";for(var r in qer)r+t in e&&(YS=r);return YS}function yLe(){return j4()?"".concat(j4(),"TransitionProperty"):"transitionProperty"}function B4(){return j4()?"".concat(j4(),"Transform"):"transform"}function aLe(e,t){var r=yLe();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function bW(e,t){var r=B4();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function Ner(e){return e.style.transitionProperty||e.style[yLe()]}function Rer(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(B4());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Ler=/matrix\((.*)\)/,zer=/matrix3d\((.*)\)/;function Fer(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(B4());if(n&&n!=="none"){var i,o=n.match(Ler);if(o)o=o[1],i=o.split(",").map(function(p){return parseFloat(p,10)}),i[4]=t.x,i[5]=t.y,bW(e,"matrix(".concat(i.join(","),")"));else{var u=n.match(zer)[1];i=u.split(",").map(function(p){return parseFloat(p,10)}),i[12]=t.x,i[13]=t.y,bW(e,"matrix3d(".concat(i.join(","),")"))}}else bW(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var jer=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,JS;function sLe(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function U0(e,t,r){var n=r;if(IW(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&U0(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return JS(e,t)}function Ber(e){var t,r,n,i=e.ownerDocument,o=i.body,u=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=u.clientLeft||o.clientLeft||0,n-=u.clientTop||o.clientTop||0,{left:r,top:n}}function _Le(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function bLe(e){return _Le(e)}function xLe(e){return _Le(e,!0)}function XS(e){var t=Ber(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=bLe(n),t.top+=xLe(n),t}function AW(e){return e!=null&&e==e.window}function wLe(e){return AW(e)?e.document:e.nodeType===9?e:e.ownerDocument}function Ver(e,t,r){var n=r,i="",o=wLe(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var Uer=new RegExp("^(".concat(jer,")(?!px)[a-z%]+$"),"i"),$er=/^(top|right|bottom|left)$/,xW="currentStyle",wW="runtimeStyle",Qm="left",Her="px";function Wer(e,t){var r=e[xW]&&e[xW][t];if(Uer.test(r)&&!$er.test(t)){var n=e.style,i=n[Qm],o=e[wW][Qm];e[wW][Qm]=e[xW][Qm],n[Qm]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+Her,n[Qm]=i,e[wW][Qm]=o}return r===""?"auto":r}typeof window!="undefined"&&(JS=window.getComputedStyle?Ver:Wer);function R4(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function lLe(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function uLe(e,t,r){U0(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=R4("left",r),u=R4("top",r),p=lLe(o),h=lLe(u);o!=="left"&&(n=999),u!=="top"&&(i=999);var y="",x=XS(e);("left"in t||"top"in t)&&(y=Ner(e)||"",aLe(e,"none")),"left"in t&&(e.style[p]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[h]="",e.style[u]="".concat(i,"px")),sLe(e);var E=XS(e),T={};for(var D in t)if(t.hasOwnProperty(D)){var z=R4(D,r),F=D==="left"?n:i,q=x[D]-E[D];z===D?T[z]=F+q:T[z]=F-q}U0(e,T),sLe(e),("left"in t||"top"in t)&&aLe(e,y);var N={};for(var B in t)if(t.hasOwnProperty(B)){var Z=R4(B,r),ee=t[B]-x[B];B===Z?N[Z]=T[Z]+ee:N[Z]=T[Z]-ee}U0(e,N)}function Ger(e,t){var r=XS(e),n=Rer(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Fer(e,i)}function Zer(e,t,r){if(r.ignoreShake){var n=XS(e),i=n.left.toFixed(0),o=n.top.toFixed(0),u=t.left.toFixed(0),p=t.top.toFixed(0);if(i===u&&o===p)return}r.useCssRight||r.useCssBottom?uLe(e,t,r):r.useCssTransform&&B4()in document.body.style?Ger(e,t):uLe(e,t,r)}function MW(e,t){for(var r=0;r<e.length;r++)t(e[r])}function SLe(e){return JS(e,"boxSizing")==="border-box"}var Yer=["margin","border","padding"],EW=-1,Ker=2,TW=1,Xer=0;function Jer(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function KS(e,t,r){var n=0,i,o,u;for(o=0;o<t.length;o++)if(i=t[o],i)for(u=0;u<r.length;u++){var p=void 0;i==="border"?p="".concat(i).concat(r[u],"Width"):p=i+r[u],n+=parseFloat(JS(e,p))||0}return n}var Oc={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};MW(["Width","Height"],function(e){Oc["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Oc["viewport".concat(e)](r))},Oc["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,u=o[r];return n.compatMode==="CSS1Compat"&&u||i&&i[r]||u}});function cLe(e,t,r){var n=r;if(AW(e))return t==="width"?Oc.viewportWidth(e):Oc.viewportHeight(e);if(e.nodeType===9)return t==="width"?Oc.docWidth(e):Oc.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),u=SLe(e),p=0;(o==null||o<=0)&&(o=void 0,p=JS(e,t),(p==null||Number(p)<0)&&(p=e.style[t]||0),p=Math.floor(parseFloat(p))||0),n===void 0&&(n=u?TW:EW);var h=o!==void 0||u,y=o||p;return n===EW?h?y-KS(e,["border","padding"],i):p:h?n===TW?y:y+(n===Ker?-KS(e,["border"],i):KS(e,["margin"],i)):p+KS(e,Yer.slice(n),i)}var Qer={position:"absolute",visibility:"hidden",display:"block"};function dLe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=cLe.apply(void 0,t):Jer(i,Qer,function(){n=cLe.apply(void 0,t)}),n}MW(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Oc["outer".concat(t)]=function(n,i){return n&&dLe(n,e,i?Xer:TW)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Oc[e]=function(n,i){var o=i;if(o!==void 0){if(n){var u=SLe(n);return u&&(o+=KS(n,["padding","border"],r)),U0(n,e,o)}return}return n&&dLe(n,e,EW)}});function ILe(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Rr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:wLe,offset:function(t,r,n){if(typeof r!="undefined")Zer(t,r,n||{});else return XS(t)},isWindow:AW,each:MW,css:U0,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:ILe,getWindowScrollLeft:function(t){return bLe(t)},getWindowScrollTop:function(t){return xLe(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Rr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};ILe(Rr,Oc);var SW=Rr.getParent;function CW(e){if(Rr.isWindow(e)||e.nodeType===9)return null;var t=Rr.getDocument(e),r=t.body,n,i=Rr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:SW(e);for(n=SW(e);n&&n!==r&&n.nodeType!==9;n=SW(n))if(i=Rr.css(n,"position"),i!=="static")return n;return null}var pLe=Rr.getParent;function etr(e){if(Rr.isWindow(e)||e.nodeType===9)return!1;var t=Rr.getDocument(e),r=t.body,n=null;for(n=pLe(e);n&&n!==r&&n!==t;n=pLe(n)){var i=Rr.css(n,"position");if(i==="fixed")return!0}return!1}function PW(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=CW(e),i=Rr.getDocument(e),o=i.defaultView||i.parentWindow,u=i.body,p=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==u&&n!==p&&Rr.css(n,"overflow")!=="visible"){var h=Rr.offset(n);h.left+=n.clientLeft,h.top+=n.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+n.clientWidth),r.bottom=Math.min(r.bottom,h.top+n.clientHeight),r.left=Math.max(r.left,h.left)}else if(n===u||n===p)break;n=CW(n)}var y=null;if(!Rr.isWindow(e)&&e.nodeType!==9){y=e.style.position;var x=Rr.css(e,"position");x==="absolute"&&(e.style.position="fixed")}var E=Rr.getWindowScrollLeft(o),T=Rr.getWindowScrollTop(o),D=Rr.viewportWidth(o),z=Rr.viewportHeight(o),F=p.scrollWidth,q=p.scrollHeight,N=window.getComputedStyle(u);if(N.overflowX==="hidden"&&(F=o.innerWidth),N.overflowY==="hidden"&&(q=o.innerHeight),e.style&&(e.style.position=y),t||etr(e))r.left=Math.max(r.left,E),r.top=Math.max(r.top,T),r.right=Math.min(r.right,E+D),r.bottom=Math.min(r.bottom,T+z);else{var B=Math.max(F,E+D);r.right=Math.min(r.right,B);var Z=Math.max(q,T+z);r.bottom=Math.min(r.bottom,Z)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function ttr(e,t,r,n){var i=Rr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Rr.mix(i,o)}function OW(e){var t,r,n;if(!Rr.isWindow(e)&&e.nodeType!==9)t=Rr.offset(e),r=Rr.outerWidth(e),n=Rr.outerHeight(e);else{var i=Rr.getWindow(e);t={left:Rr.getWindowScrollLeft(i),top:Rr.getWindowScrollTop(i)},r=Rr.viewportWidth(i),n=Rr.viewportHeight(i)}return t.width=r,t.height=n,t}function fLe(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,u=e.left,p=e.top;return r==="c"?p+=o/2:r==="b"&&(p+=o),n==="c"?u+=i/2:n==="r"&&(u+=i),{left:u,top:p}}function L4(e,t,r,n,i){var o=fLe(t,r[1]),u=fLe(e,r[0]),p=[u.left-o.left,u.top-o.top];return{left:Math.round(e.left-p[0]+n[0]-i[0]),top:Math.round(e.top-p[1]+n[1]-i[1])}}function hLe(e,t,r){return e.left<r.left||e.left+t.width>r.right}function mLe(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function rtr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function ntr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function z4(e,t,r){var n=[];return Rr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function F4(e,t){return e[t]=-e[t],e}function gLe(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function vLe(e,t){e[0]=gLe(e[0],t.width),e[1]=gLe(e[1],t.height)}function ELe(e,t,r,n){var i=r.points,o=r.offset||[0,0],u=r.targetOffset||[0,0],p=r.overflow,h=r.source||e;o=[].concat(o),u=[].concat(u),p=p||{};var y={},x=0,E=!!(p&&p.alwaysByViewport),T=PW(h,E),D=OW(h);vLe(o,D),vLe(u,t);var z=L4(D,t,i,o,u),F=Rr.merge(D,z);if(T&&(p.adjustX||p.adjustY)&&n){if(p.adjustX&&hLe(z,D,T)){var q=z4(i,/[lr]/gi,{l:"r",r:"l"}),N=F4(o,0),B=F4(u,0),Z=L4(D,t,q,N,B);rtr(Z,D,T)||(x=1,i=q,o=N,u=B)}if(p.adjustY&&mLe(z,D,T)){var ee=z4(i,/[tb]/gi,{t:"b",b:"t"}),ae=F4(o,1),ue=F4(u,1),ve=L4(D,t,ee,ae,ue);ntr(ve,D,T)||(x=1,i=ee,o=ae,u=ue)}x&&(z=L4(D,t,i,o,u),Rr.mix(F,z));var Oe=hLe(z,D,T),be=mLe(z,D,T);if(Oe||be){var ze=i;Oe&&(ze=z4(i,/[lr]/gi,{l:"r",r:"l"})),be&&(ze=z4(i,/[tb]/gi,{t:"b",b:"t"})),i=ze,o=r.offset||[0,0],u=r.targetOffset||[0,0]}y.adjustX=p.adjustX&&Oe,y.adjustY=p.adjustY&&be,(y.adjustX||y.adjustY)&&(F=ttr(z,D,T,y))}return F.width!==D.width&&Rr.css(h,"width",Rr.width(h)+F.width-D.width),F.height!==D.height&&Rr.css(h,"height",Rr.height(h)+F.height-D.height),Rr.offset(h,{left:F.left,top:F.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:u,overflow:y}}function itr(e,t){var r=PW(e,t),n=OW(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function V4(e,t,r){var n=r.target||t,i=OW(n),o=!itr(n,r.overflow&&r.overflow.alwaysByViewport);return ELe(e,i,r,o)}V4.__getOffsetParent=CW;V4.__getVisibleRectForElement=PW;function TLe(e,t,r){var n,i,o=Rr.getDocument(e),u=o.defaultView||o.parentWindow,p=Rr.getWindowScrollLeft(u),h=Rr.getWindowScrollTop(u),y=Rr.viewportWidth(u),x=Rr.viewportHeight(u);"pageX"in t?n=t.pageX:n=p+t.clientX,"pageY"in t?i=t.pageY:i=h+t.clientY;var E={left:n,top:i,width:0,height:0},T=n>=0&&n<=p+y&&i>=0&&i<=h+x,D=[r.points[0],"cc"];return ELe(e,E,oLe(oLe({},r),{},{points:D}),T)}function otr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=n.has(o);if($d(!h,"Warning: There may be circular references"),h)return!1;if(o===u)return!0;if(r&&p>1)return!1;n.add(o);var y=p+1;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var x=0;x<o.length;x++)if(!i(o[x],u[x],y))return!1;return!0}if(o&&u&&Ln(o)==="object"&&Ln(u)==="object"){var E=Object.keys(o);return E.length!==Object.keys(u).length?!1:E.every(function(T){return i(o[T],u[T],y)})}return!1}return i(e,t)}var CLe=otr;var ALe=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,u=i.height;if(o||u)return!0}}return!1};var $0=re(Ue());var MLe=Pc()?$0.useLayoutEffect:$0.useEffect,atr=function(t,r){var n=$0.useRef(!0);MLe(function(){return t(n.current)},r),MLe(function(){return n.current=!1,function(){n.current=!0}},[])};var QS=atr;var oa=re(Ue());var DW=re(Ue()),PLe=function(e,t){var r=DW.default.useRef(!1),n=DW.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(u){if(i(),!r.current||u===!0){if(e(u)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var DLe=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),kW=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,U4=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),str=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(U4):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),ltr=2;function utr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&p()}function u(){str(o)}function p(){var h=Date.now();if(r){if(h-i<ltr)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=h}return p}var ctr=20,dtr=["top","right","bottom","left","width","height","size","weight"],ptr=typeof MutationObserver!="undefined",ftr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=utr(this.refresh.bind(this),ctr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!kW||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ptr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!kW||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=dtr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),kLe=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},H0=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||U4},qLe=H4(0,0,0,0);function $4(e){return parseFloat(e)||0}function OLe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+$4(o)},0)}function htr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=$4(u)}return r}function mtr(e){var t=e.getBBox();return H4(0,0,t.width,t.height)}function gtr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return qLe;var n=H0(e).getComputedStyle(e),i=htr(n),o=i.left+i.right,u=i.top+i.bottom,p=$4(n.width),h=$4(n.height);if(n.boxSizing==="border-box"&&(Math.round(p+o)!==t&&(p-=OLe(n,"left","right")+o),Math.round(h+u)!==r&&(h-=OLe(n,"top","bottom")+u)),!ytr(e)){var y=Math.round(p+o)-t,x=Math.round(h+u)-r;Math.abs(y)!==1&&(p-=y),Math.abs(x)!==1&&(h-=x)}return H4(i.left,i.top,p,h)}var vtr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof H0(e).SVGGraphicsElement}:function(e){return e instanceof H0(e).SVGElement&&typeof e.getBBox=="function"}}();function ytr(e){return e===H0(e).document.documentElement}function _tr(e){return kW?vtr(e)?mtr(e):gtr(e):qLe}function btr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return kLe(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function H4(e,t,r,n){return{x:e,y:t,width:r,height:n}}var xtr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H4(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=_tr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),wtr=function(){function e(t,r){var n=btr(r);kLe(this,{target:t,contentRect:n})}return e}(),Str=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new DLe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof H0(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new xtr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof H0(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new wtr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),NLe=typeof WeakMap!="undefined"?new WeakMap:new DLe,RLe=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=ftr.getInstance(),n=new Str(t,r,this);NLe.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){RLe.prototype[e]=function(){var t;return(t=NLe.get(this))[e].apply(t,arguments)}});var Itr=function(){return typeof U4.ResizeObserver!="undefined"?U4.ResizeObserver:RLe}(),LLe=Itr;function zLe(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function FLe(e,t){e!==document.activeElement&&Xm(t,e)&&typeof e.focus=="function"&&e.focus()}function qW(e,t){var r=null,n=null;function i(u){var p=Tn(u,1),h=p[0].target;if(document.documentElement.contains(h)){var y=h.getBoundingClientRect(),x=y.width,E=y.height,T=Math.floor(x),D=Math.floor(E);(r!==T||n!==D)&&Promise.resolve().then(function(){t({width:T,height:D})}),r=T,n=D}}var o=new LLe(i);return e&&o.observe(e),function(){o.disconnect()}}function jLe(e){return typeof e!="function"?null:e()}function BLe(e){return Ln(e)!=="object"||!e?null:e}var Etr=function(t,r){var n=t.children,i=t.disabled,o=t.target,u=t.align,p=t.onAlign,h=t.monitorWindowResize,y=t.monitorBufferTime,x=y===void 0?0:y,E=oa.default.useRef({}),T=oa.default.useRef(),D=oa.default.Children.only(n),z=oa.default.useRef({});z.current.disabled=i,z.current.target=o,z.current.align=u,z.current.onAlign=p;var F=PLe(function(){var $e=z.current,He=$e.disabled,Re=$e.target,Je=$e.align,ot=$e.onAlign,Be=T.current;if(!He&&Re&&Be){var Le,Pe=jLe(Re),Qe=BLe(Re);E.current.element=Pe,E.current.point=Qe,E.current.align=Je;var lt=document,pt=lt.activeElement;return Pe&&ALe(Pe)?Le=V4(Be,Pe,Je):Qe&&(Le=TLe(Be,Qe,Je)),FLe(pt,Be),ot&&Le&&ot(Be,Le),!0}return!1},x),q=Tn(F,2),N=q[0],B=q[1],Z=oa.default.useState(),ee=Tn(Z,2),ae=ee[0],ue=ee[1],ve=oa.default.useState(),Oe=Tn(ve,2),be=Oe[0],ze=Oe[1];return QS(function(){ue(jLe(o)),ze(BLe(o))}),oa.default.useEffect(function(){(E.current.element!==ae||!zLe(E.current.point,be)||!CLe(E.current.align,u))&&N()}),oa.default.useEffect(function(){var $e=qW(T.current,N);return $e},[T.current]),oa.default.useEffect(function(){var $e=qW(ae,N);return $e},[ae]),oa.default.useEffect(function(){i?B():N()},[i]),oa.default.useEffect(function(){if(h){var $e=Xa(window,"resize",N);return $e.remove}},[h]),oa.default.useEffect(function(){return function(){B()}},[]),oa.default.useImperativeHandle(r,function(){return{forceAlign:function(){return N(!0)}}}),oa.default.isValidElement(D)&&(D=oa.default.cloneElement(D,{ref:j0(D.ref,T)})),D},VLe=oa.default.forwardRef(Etr);VLe.displayName="Align";var ULe=VLe;var $Le=ULe;var YLe=re(Yr());function e2(){"use strict";e2=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(Be,Le,Pe){Be[Le]=Pe.value},o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",p=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function y(Be,Le,Pe){return Object.defineProperty(Be,Le,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),Be[Le]}try{y({},"")}catch(Be){y=function(Pe,Qe,lt){return Pe[Qe]=lt}}function x(Be,Le,Pe,Qe){var lt=Le&&Le.prototype instanceof N?Le:N,pt=Object.create(lt.prototype),je=new Je(Qe||[]);return i(pt,"_invoke",{value:ze(Be,Pe,je)}),pt}function E(Be,Le,Pe){try{return{type:"normal",arg:Be.call(Le,Pe)}}catch(Qe){return{type:"throw",arg:Qe}}}t.wrap=x;var T="suspendedStart",D="suspendedYield",z="executing",F="completed",q={};function N(){}function B(){}function Z(){}var ee={};y(ee,u,function(){return this});var ae=Object.getPrototypeOf,ue=ae&&ae(ae(ot([])));ue&&ue!==r&&n.call(ue,u)&&(ee=ue);var ve=Z.prototype=N.prototype=Object.create(ee);function Oe(Be){["next","throw","return"].forEach(function(Le){y(Be,Le,function(Pe){return this._invoke(Le,Pe)})})}function be(Be,Le){function Pe(lt,pt,je,Ge){var at=E(Be[lt],Be,pt);if(at.type!=="throw"){var De=at.arg,he=De.value;return he&&Ln(he)=="object"&&n.call(he,"__await")?Le.resolve(he.__await).then(function(qe){Pe("next",qe,je,Ge)},function(qe){Pe("throw",qe,je,Ge)}):Le.resolve(he).then(function(qe){De.value=qe,je(De)},function(qe){return Pe("throw",qe,je,Ge)})}Ge(at.arg)}var Qe;i(this,"_invoke",{value:function(pt,je){function Ge(){return new Le(function(at,De){Pe(pt,je,at,De)})}return Qe=Qe?Qe.then(Ge,Ge):Ge()}})}function ze(Be,Le,Pe){var Qe=T;return function(lt,pt){if(Qe===z)throw new Error("Generator is already running");if(Qe===F){if(lt==="throw")throw pt;return{value:e,done:!0}}for(Pe.method=lt,Pe.arg=pt;;){var je=Pe.delegate;if(je){var Ge=$e(je,Pe);if(Ge){if(Ge===q)continue;return Ge}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(Qe===T)throw Qe=F,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);Qe=z;var at=E(Be,Le,Pe);if(at.type==="normal"){if(Qe=Pe.done?F:D,at.arg===q)continue;return{value:at.arg,done:Pe.done}}at.type==="throw"&&(Qe=F,Pe.method="throw",Pe.arg=at.arg)}}}function $e(Be,Le){var Pe=Le.method,Qe=Be.iterator[Pe];if(Qe===e)return Le.delegate=null,Pe==="throw"&&Be.iterator.return&&(Le.method="return",Le.arg=e,$e(Be,Le),Le.method==="throw")||Pe!=="return"&&(Le.method="throw",Le.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),q;var lt=E(Qe,Be.iterator,Le.arg);if(lt.type==="throw")return Le.method="throw",Le.arg=lt.arg,Le.delegate=null,q;var pt=lt.arg;return pt?pt.done?(Le[Be.resultName]=pt.value,Le.next=Be.nextLoc,Le.method!=="return"&&(Le.method="next",Le.arg=e),Le.delegate=null,q):pt:(Le.method="throw",Le.arg=new TypeError("iterator result is not an object"),Le.delegate=null,q)}function He(Be){var Le={tryLoc:Be[0]};1 in Be&&(Le.catchLoc=Be[1]),2 in Be&&(Le.finallyLoc=Be[2],Le.afterLoc=Be[3]),this.tryEntries.push(Le)}function Re(Be){var Le=Be.completion||{};Le.type="normal",delete Le.arg,Be.completion=Le}function Je(Be){this.tryEntries=[{tryLoc:"root"}],Be.forEach(He,this),this.reset(!0)}function ot(Be){if(Be||Be===""){var Le=Be[u];if(Le)return Le.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var Pe=-1,Qe=function lt(){for(;++Pe<Be.length;)if(n.call(Be,Pe))return lt.value=Be[Pe],lt.done=!1,lt;return lt.value=e,lt.done=!0,lt};return Qe.next=Qe}}throw new TypeError(Ln(Be)+" is not iterable")}return B.prototype=Z,i(ve,"constructor",{value:Z,configurable:!0}),i(Z,"constructor",{value:B,configurable:!0}),B.displayName=y(Z,h,"GeneratorFunction"),t.isGeneratorFunction=function(Be){var Le=typeof Be=="function"&&Be.constructor;return!!Le&&(Le===B||(Le.displayName||Le.name)==="GeneratorFunction")},t.mark=function(Be){return Object.setPrototypeOf?Object.setPrototypeOf(Be,Z):(Be.__proto__=Z,y(Be,h,"GeneratorFunction")),Be.prototype=Object.create(ve),Be},t.awrap=function(Be){return{__await:Be}},Oe(be.prototype),y(be.prototype,p,function(){return this}),t.AsyncIterator=be,t.async=function(Be,Le,Pe,Qe,lt){lt===void 0&&(lt=Promise);var pt=new be(x(Be,Le,Pe,Qe),lt);return t.isGeneratorFunction(Le)?pt:pt.next().then(function(je){return je.done?je.value:pt.next()})},Oe(ve),y(ve,h,"Generator"),y(ve,u,function(){return this}),y(ve,"toString",function(){return"[object Generator]"}),t.keys=function(Be){var Le=Object(Be),Pe=[];for(var Qe in Le)Pe.push(Qe);return Pe.reverse(),function lt(){for(;Pe.length;){var pt=Pe.pop();if(pt in Le)return lt.value=pt,lt.done=!1,lt}return lt.done=!0,lt}},t.values=ot,Je.prototype={constructor:Je,reset:function(Le){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(Re),!Le)for(var Pe in this)Pe.charAt(0)==="t"&&n.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=e)},stop:function(){this.done=!0;var Le=this.tryEntries[0].completion;if(Le.type==="throw")throw Le.arg;return this.rval},dispatchException:function(Le){if(this.done)throw Le;var Pe=this;function Qe(De,he){return je.type="throw",je.arg=Le,Pe.next=De,he&&(Pe.method="next",Pe.arg=e),!!he}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var pt=this.tryEntries[lt],je=pt.completion;if(pt.tryLoc==="root")return Qe("end");if(pt.tryLoc<=this.prev){var Ge=n.call(pt,"catchLoc"),at=n.call(pt,"finallyLoc");if(Ge&&at){if(this.prev<pt.catchLoc)return Qe(pt.catchLoc,!0);if(this.prev<pt.finallyLoc)return Qe(pt.finallyLoc)}else if(Ge){if(this.prev<pt.catchLoc)return Qe(pt.catchLoc,!0)}else{if(!at)throw new Error("try statement without catch or finally");if(this.prev<pt.finallyLoc)return Qe(pt.finallyLoc)}}}},abrupt:function(Le,Pe){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var lt=this.tryEntries[Qe];if(lt.tryLoc<=this.prev&&n.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var pt=lt;break}}pt&&(Le==="break"||Le==="continue")&&pt.tryLoc<=Pe&&Pe<=pt.finallyLoc&&(pt=null);var je=pt?pt.completion:{};return je.type=Le,je.arg=Pe,pt?(this.method="next",this.next=pt.finallyLoc,q):this.complete(je)},complete:function(Le,Pe){if(Le.type==="throw")throw Le.arg;return Le.type==="break"||Le.type==="continue"?this.next=Le.arg:Le.type==="return"?(this.rval=this.arg=Le.arg,this.method="return",this.next="end"):Le.type==="normal"&&Pe&&(this.next=Pe),q},finish:function(Le){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var Qe=this.tryEntries[Pe];if(Qe.finallyLoc===Le)return this.complete(Qe.completion,Qe.afterLoc),Re(Qe),q}},catch:function(Le){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var Qe=this.tryEntries[Pe];if(Qe.tryLoc===Le){var lt=Qe.completion;if(lt.type==="throw"){var pt=lt.arg;Re(Qe)}return pt}}throw new Error("illegal catch attempt")},delegateYield:function(Le,Pe,Qe){return this.delegate={iterator:ot(Le),resultName:Pe,nextLoc:Qe},this.method==="next"&&(this.arg=e),q}},t}function HLe(e,t,r,n,i,o,u){try{var p=e[o](u),h=p.value}catch(y){r(y);return}p.done?t(h):Promise.resolve(h).then(n,i)}function NW(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(h){HLe(o,n,i,u,p,"next",h)}function p(h){HLe(o,n,i,u,p,"throw",h)}u(void 0)})}}var W0=re(Ue());var WLe=["measure","alignPre","align",null,"motion"],GLe=function(e,t){var r=Gd(null),n=Tn(r,2),i=n[0],o=n[1],u=(0,W0.useRef)();function p(x){o(x,!0)}function h(){Ps.cancel(u.current)}function y(x){h(),u.current=Ps(function(){p(function(E){switch(i){case"align":return"motion";case"motion":return"stable";default:}return E}),x==null||x()})}return(0,W0.useEffect)(function(){p("measure")},[e]),(0,W0.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(u.current=Ps(NW(e2().mark(function x(){var E,T;return e2().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:E=WLe.indexOf(i),T=WLe[E+1],T&&E!==-1&&p(T);case 3:case"end":return z.stop();}},x)}))))},[i]),(0,W0.useEffect)(function(){return function(){h()}},[]),[i,y]};var W4=re(Ue()),ZLe=function(e){var t=W4.useState({width:0,height:0}),r=Tn(t,2),n=r[0],i=r[1];function o(p){var h=p.offsetWidth,y=p.offsetHeight,x=p.getBoundingClientRect(),E=x.width,T=x.height;Math.abs(h-E)<1&&Math.abs(y-T)<1&&(h=E,y=T),i({width:h,height:y})}var u=W4.useMemo(function(){var p={};if(e){var h=n.width,y=n.height;e.indexOf("height")!==-1&&y?p.height=y:e.indexOf("minHeight")!==-1&&y&&(p.minHeight=y),e.indexOf("width")!==-1&&h?p.width=h:e.indexOf("minWidth")!==-1&&h&&(p.minWidth=h)}return p},[e,n]);return[u,o]};var KLe=sl.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,u=e.children,p=e.zIndex,h=e.stretch,y=e.destroyPopupOnHide,x=e.forceRender,E=e.align,T=e.point,D=e.getRootDomNode,z=e.getClassNameFromAlign,F=e.onAlign,q=e.onMouseEnter,N=e.onMouseLeave,B=e.onMouseDown,Z=e.onTouchStart,ee=e.onClick,ae=(0,eg.useRef)(),ue=(0,eg.useRef)(),ve=(0,eg.useState)(),Oe=Tn(ve,2),be=Oe[0],ze=Oe[1],$e=ZLe(h),He=Tn($e,2),Re=He[0],Je=He[1];function ot(){h&&Je(D())}var Be=GLe(r,ot),Le=Tn(Be,2),Pe=Le[0],Qe=Le[1],lt=(0,eg.useState)(0),pt=Tn(lt,2),je=pt[0],Ge=pt[1],at=(0,eg.useRef)();QS(function(){Pe==="alignPre"&&Ge(0)},[Pe]);function De(){return T||D}function he(){var Dt;(Dt=ae.current)===null||Dt===void 0||Dt.forceAlign()}function qe(Dt,we){var ft=z(we);be!==ft&&ze(ft),Ge(function($t){return $t+1}),Pe==="align"&&(F==null||F(Dt,we))}QS(function(){Pe==="align"&&(je<3?he():Qe(function(){var Dt;(Dt=at.current)===null||Dt===void 0||Dt.call(at)}))},[je]);var Te=Tt({},N4(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Dt){var we=Te[Dt];Te[Dt]=function(ft,$t){return Qe(),we==null?void 0:we(ft,$t)}});function Ke(){return new Promise(function(Dt){at.current=Dt})}sl.useEffect(function(){!Te.motionName&&Pe==="motion"&&Qe()},[Te.motionName,Pe]),sl.useImperativeHandle(t,function(){return{forceAlign:he,getElement:function(){return ue.current}}});var Ze=Tt(Tt({},Re),{},{zIndex:p,opacity:Pe==="motion"||Pe==="stable"||!r?void 0:0,pointerEvents:!r&&Pe!=="stable"?"none":void 0},o),St=!0;E!=null&&E.points&&(Pe==="align"||Pe==="stable")&&(St=!1);var It=u;return sl.Children.count(u)>1&&(It=sl.createElement("div",{className:"".concat(n,"-content")},u)),sl.createElement(V0,en({visible:r,ref:ue,leavedClassName:"".concat(n,"-hidden")},Te,{onAppearPrepare:Ke,onEnterPrepare:Ke,removeOnLeave:y,forceRender:x}),function(Dt,we){var ft=Dt.className,$t=Dt.style,gt=(0,YLe.default)(n,i,be,ft);return sl.createElement($Le,{target:De(),key:"popup",ref:ae,monitorWindowResize:!0,disabled:St,align:E,onAlign:qe},sl.createElement("div",{ref:we,className:gt,onMouseEnter:q,onMouseLeave:N,onMouseDownCapture:B,onTouchStartCapture:Z,onClick:ee,style:Tt(Tt({},$t),Ze)},It))})});KLe.displayName="PopupInner";var XLe=KLe;var Jl=re(Ue());var JLe=re(Yr()),QLe=Jl.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,u=e.mobile;u=u===void 0?{}:u;var p=u.popupClassName,h=u.popupStyle,y=u.popupMotion,x=y===void 0?{}:y,E=u.popupRender,T=e.onClick,D=Jl.useRef();Jl.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return D.current}}});var z=Tt({zIndex:i},h),F=o;return Jl.Children.count(o)>1&&(F=Jl.createElement("div",{className:"".concat(r,"-content")},o)),E&&(F=E(F)),Jl.createElement(V0,en({visible:n,ref:D,removeOnLeave:!0},x),function(q,N){var B=q.className,Z=q.style,ee=(0,JLe.default)(r,p,B);return Jl.createElement("div",{ref:N,className:ee,onClick:T,style:Tt(Tt({},Z),z)},F)})});QLe.displayName="MobilePopupInner";var e6e=QLe;var Ttr=["visible","mobile"],t6e=tg.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=Oa(e,Ttr),o=(0,t2.useState)(r),u=Tn(o,2),p=u[0],h=u[1],y=(0,t2.useState)(!1),x=Tn(y,2),E=x[0],T=x[1],D=Tt(Tt({},i),{},{visible:p});(0,t2.useEffect)(function(){h(r),r&&n&&T(jRe())},[r,n]);var z=E?tg.createElement(e6e,en({},D,{mobile:n,ref:t})):tg.createElement(XLe,en({},D,{ref:t}));return tg.createElement("div",null,tg.createElement(_W,D),z)});t6e.displayName="Popup";var r6e=t6e;var n6e=re(Ue()),Ctr=n6e.createContext(null),RW=Ctr;function LW(){}function Atr(){return""}function Mtr(e){return e?e.ownerDocument:window.document}var Ptr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Otr(e){var t=function(r){na(i,r);var n=ia(i);function i(o){var u;ta(this,i),u=n.call(this,o),mt(Ar(u),"popupRef",ll.createRef()),mt(Ar(u),"triggerRef",ll.createRef()),mt(Ar(u),"portalContainer",void 0),mt(Ar(u),"attachId",void 0),mt(Ar(u),"clickOutsideHandler",void 0),mt(Ar(u),"touchOutsideHandler",void 0),mt(Ar(u),"contextMenuOutsideHandler1",void 0),mt(Ar(u),"contextMenuOutsideHandler2",void 0),mt(Ar(u),"mouseDownTimeout",void 0),mt(Ar(u),"focusTime",void 0),mt(Ar(u),"preClickTime",void 0),mt(Ar(u),"preTouchTime",void 0),mt(Ar(u),"delayTimer",void 0),mt(Ar(u),"hasPopupMouseDown",void 0),mt(Ar(u),"onMouseEnter",function(h){var y=u.props.mouseEnterDelay;u.fireEvents("onMouseEnter",h),u.delaySetPopupVisible(!0,y,y?null:h)}),mt(Ar(u),"onMouseMove",function(h){u.fireEvents("onMouseMove",h),u.setPoint(h)}),mt(Ar(u),"onMouseLeave",function(h){u.fireEvents("onMouseLeave",h),u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),mt(Ar(u),"onPopupMouseEnter",function(){u.clearDelayTimer()}),mt(Ar(u),"onPopupMouseLeave",function(h){var y;h.relatedTarget&&!h.relatedTarget.setTimeout&&Xm((y=u.popupRef.current)===null||y===void 0?void 0:y.getElement(),h.relatedTarget)||u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),mt(Ar(u),"onFocus",function(h){u.fireEvents("onFocus",h),u.clearDelayTimer(),u.isFocusToShow()&&(u.focusTime=Date.now(),u.delaySetPopupVisible(!0,u.props.focusDelay))}),mt(Ar(u),"onMouseDown",function(h){u.fireEvents("onMouseDown",h),u.preClickTime=Date.now()}),mt(Ar(u),"onTouchStart",function(h){u.fireEvents("onTouchStart",h),u.preTouchTime=Date.now()}),mt(Ar(u),"onBlur",function(h){u.fireEvents("onBlur",h),u.clearDelayTimer(),u.isBlurToHide()&&u.delaySetPopupVisible(!1,u.props.blurDelay)}),mt(Ar(u),"onContextMenu",function(h){h.preventDefault(),u.fireEvents("onContextMenu",h),u.setPopupVisible(!0,h)}),mt(Ar(u),"onContextMenuClose",function(){u.isContextMenuToShow()&&u.close()}),mt(Ar(u),"onClick",function(h){if(u.fireEvents("onClick",h),u.focusTime){var y;if(u.preClickTime&&u.preTouchTime?y=Math.min(u.preClickTime,u.preTouchTime):u.preClickTime?y=u.preClickTime:u.preTouchTime&&(y=u.preTouchTime),Math.abs(y-u.focusTime)<20)return;u.focusTime=0}u.preClickTime=0,u.preTouchTime=0,u.isClickToShow()&&(u.isClickToHide()||u.isBlurToHide())&&h&&h.preventDefault&&h.preventDefault();var x=!u.state.popupVisible;(u.isClickToHide()&&!x||x&&u.isClickToShow())&&u.setPopupVisible(!u.state.popupVisible,h)}),mt(Ar(u),"onPopupMouseDown",function(){if(u.hasPopupMouseDown=!0,clearTimeout(u.mouseDownTimeout),u.mouseDownTimeout=window.setTimeout(function(){u.hasPopupMouseDown=!1},0),u.context){var h;(h=u.context).onPopupMouseDown.apply(h,arguments)}}),mt(Ar(u),"onDocumentClick",function(h){if(!(u.props.mask&&!u.props.maskClosable)){var y=h.target,x=u.getRootDomNode(),E=u.getPopupDomNode();(!Xm(x,y)||u.isContextMenuOnly())&&!Xm(E,y)&&!u.hasPopupMouseDown&&u.close()}}),mt(Ar(u),"getRootDomNode",function(){var h=u.props.getTriggerDOMNode;if(h)return h(u.triggerRef.current);try{var y=HS(u.triggerRef.current);if(y)return y}catch(x){}return i6e.default.findDOMNode(Ar(u))}),mt(Ar(u),"getPopupClassNameFromAlign",function(h){var y=[],x=u.props,E=x.popupPlacement,T=x.builtinPlacements,D=x.prefixCls,z=x.alignPoint,F=x.getPopupClassNameFromAlign;return E&&T&&y.push(FRe(T,D,h,z)),F&&y.push(F(h)),y.join(" ")}),mt(Ar(u),"getComponent",function(){var h=u.props,y=h.prefixCls,x=h.destroyPopupOnHide,E=h.popupClassName,T=h.onPopupAlign,D=h.popupMotion,z=h.popupAnimation,F=h.popupTransitionName,q=h.popupStyle,N=h.mask,B=h.maskAnimation,Z=h.maskTransitionName,ee=h.maskMotion,ae=h.zIndex,ue=h.popup,ve=h.stretch,Oe=h.alignPoint,be=h.mobile,ze=h.forceRender,$e=h.onPopupClick,He=u.state,Re=He.popupVisible,Je=He.point,ot=u.getPopupAlign(),Be={};return u.isMouseEnterToShow()&&(Be.onMouseEnter=u.onPopupMouseEnter),u.isMouseLeaveToHide()&&(Be.onMouseLeave=u.onPopupMouseLeave),Be.onMouseDown=u.onPopupMouseDown,Be.onTouchStart=u.onPopupMouseDown,ll.createElement(r6e,en({prefixCls:y,destroyPopupOnHide:x,visible:Re,point:Oe&&Je,className:E,align:ot,onAlign:T,animation:z,getClassNameFromAlign:u.getPopupClassNameFromAlign},Be,{stretch:ve,getRootDomNode:u.getRootDomNode,style:q,mask:N,zIndex:ae,transitionName:F,maskAnimation:B,maskTransitionName:Z,maskMotion:ee,ref:u.popupRef,motion:D,mobile:be,forceRender:ze,onClick:$e}),typeof ue=="function"?ue():ue)}),mt(Ar(u),"attachParent",function(h){Ps.cancel(u.attachId);var y=u.props,x=y.getPopupContainer,E=y.getDocument,T=u.getRootDomNode(),D;x?(T||x.length===0)&&(D=x(T)):D=E(u.getRootDomNode()).body,D?D.appendChild(h):u.attachId=Ps(function(){u.attachParent(h)})}),mt(Ar(u),"getContainer",function(){if(!u.portalContainer){var h=u.props.getDocument,y=h(u.getRootDomNode()).createElement("div");y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",u.portalContainer=y}return u.attachParent(u.portalContainer),u.portalContainer}),mt(Ar(u),"setPoint",function(h){var y=u.props.alignPoint;!y||!h||u.setState({point:{pageX:h.pageX,pageY:h.pageY}})}),mt(Ar(u),"handlePortalUpdate",function(){u.state.prevPopupVisible!==u.state.popupVisible&&u.props.afterPopupVisibleChange(u.state.popupVisible)}),mt(Ar(u),"triggerContextValue",{onPopupMouseDown:u.onPopupMouseDown});var p;return"popupVisible"in o?p=!!o.popupVisible:p=!!o.defaultPopupVisible,u.state={prevPopupVisible:p,popupVisible:p},Ptr.forEach(function(h){u["fire".concat(h)]=function(y){u.fireEvents(h,y)}}),u}return ra(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var u=this.props,p=this.state;if(p.popupVisible){var h;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(h=u.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Xa(h,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(h=h||u.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Xa(h,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(h=h||u.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Xa(h,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Xa(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Ps.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var u;return((u=this.popupRef.current)===null||u===void 0?void 0:u.getElement())||null}},{key:"getPopupAlign",value:function(){var u=this.props,p=u.popupPlacement,h=u.popupAlign,y=u.builtinPlacements;return p&&y?zRe(y,p,h):h}},{key:"setPopupVisible",value:function(u,p){var h=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==u&&("popupVisible"in this.props||this.setState({popupVisible:u,prevPopupVisible:y}),this.props.onPopupVisibleChange(u)),h&&p&&u&&this.setPoint(p)}},{key:"delaySetPopupVisible",value:function(u,p,h){var y=this,x=p*1e3;if(this.clearDelayTimer(),x){var E=h?{pageX:h.pageX,pageY:h.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(u,E),y.clearDelayTimer()},x)}else this.setPopupVisible(u,h)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(u){var p=this.props.children.props,h=this.props;return p[u]&&h[u]?this["fire".concat(u)]:p[u]||h[u]}},{key:"isClickToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var u=this.props.action;return u==="contextMenu"||u.length===1&&u[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("contextMenu")!==-1||h.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("hover")!==-1||h.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("hover")!==-1||h.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("focus")!==-1||h.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("focus")!==-1||h.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var u;(u=this.popupRef.current)===null||u===void 0||u.forceAlign()}}},{key:"fireEvents",value:function(u,p){var h=this.props.children.props[u];h&&h(p);var y=this.props[u];y&&y(p)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var u=this.state.popupVisible,p=this.props,h=p.children,y=p.forceRender,x=p.alignPoint,E=p.className,T=p.autoDestroy,D=ll.Children.only(h),z={key:"trigger"};this.isContextMenuToShow()?z.onContextMenu=this.onContextMenu:z.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(z.onClick=this.onClick,z.onMouseDown=this.onMouseDown,z.onTouchStart=this.onTouchStart):(z.onClick=this.createTwoChains("onClick"),z.onMouseDown=this.createTwoChains("onMouseDown"),z.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(z.onMouseEnter=this.onMouseEnter,x&&(z.onMouseMove=this.onMouseMove)):z.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?z.onMouseLeave=this.onMouseLeave:z.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(z.onFocus=this.onFocus,z.onBlur=this.onBlur):(z.onFocus=this.createTwoChains("onFocus"),z.onBlur=this.createTwoChains("onBlur"));var F=(0,o6e.default)(D&&D.props&&D.props.className,E);F&&(z.className=F);var q=Tt({},z);y4(D)&&(q.ref=j0(this.triggerRef,D.ref));var N=ll.cloneElement(D,q),B;return(u||this.popupRef.current||y)&&(B=ll.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!u&&T&&(B=null),ll.createElement(RW.Provider,{value:this.triggerContextValue},N,B)}}],[{key:"getDerivedStateFromProps",value:function(u,p){var h=u.popupVisible,y={};return h!==void 0&&p.popupVisible!==h&&(y.popupVisible=h,y.prevPopupVisible=p.popupVisible),y}}]),i}(ll.Component);return mt(t,"contextType",RW),mt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Atr,getDocument:Mtr,onPopupVisibleChange:LW,afterPopupVisibleChange:LW,onPopupAlign:LW,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var a6e=Otr(LRe);var Ql={adjustX:1,adjustY:1},eu=[0,0],s6e={left:{points:["cr","cl"],overflow:Ql,offset:[-4,0],targetOffset:eu},right:{points:["cl","cr"],overflow:Ql,offset:[4,0],targetOffset:eu},top:{points:["bc","tc"],overflow:Ql,offset:[0,-4],targetOffset:eu},bottom:{points:["tc","bc"],overflow:Ql,offset:[0,4],targetOffset:eu},topLeft:{points:["bl","tl"],overflow:Ql,offset:[0,-4],targetOffset:eu},leftTop:{points:["tr","tl"],overflow:Ql,offset:[-4,0],targetOffset:eu},topRight:{points:["br","tr"],overflow:Ql,offset:[0,-4],targetOffset:eu},rightTop:{points:["tl","tr"],overflow:Ql,offset:[4,0],targetOffset:eu},bottomRight:{points:["tr","br"],overflow:Ql,offset:[0,4],targetOffset:eu},rightBottom:{points:["bl","br"],overflow:Ql,offset:[4,0],targetOffset:eu},bottomLeft:{points:["tl","bl"],overflow:Ql,offset:[0,4],targetOffset:eu},leftBottom:{points:["br","bl"],overflow:Ql,offset:[-4,0],targetOffset:eu}};var G4=re(Ue()),l6e=re(Yr());function Z4(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,u=e.overlayInnerStyle,p=e.className,h=e.style;return G4.createElement("div",{className:(0,l6e.default)("".concat(i,"-content"),p),style:h},t!==!1&&G4.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),G4.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:u},typeof n=="function"?n():n))}var Dtr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],ktr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,u=t.mouseEnterDelay,p=u===void 0?0:u,h=t.mouseLeaveDelay,y=h===void 0?.1:h,x=t.overlayStyle,E=t.prefixCls,T=E===void 0?"rc-tooltip":E,D=t.children,z=t.onVisibleChange,F=t.afterVisibleChange,q=t.transitionName,N=t.animation,B=t.motion,Z=t.placement,ee=Z===void 0?"right":Z,ae=t.align,ue=ae===void 0?{}:ae,ve=t.destroyTooltipOnHide,Oe=ve===void 0?!1:ve,be=t.defaultVisible,ze=t.getTooltipContainer,$e=t.overlayInnerStyle,He=t.arrowContent,Re=t.overlay,Je=t.id,ot=t.showArrow,Be=ot===void 0?!0:ot,Le=Oa(t,Dtr),Pe=(0,G0.useRef)(null);(0,G0.useImperativeHandle)(r,function(){return Pe.current});var Qe=Tt({},Le);"visible"in t&&(Qe.popupVisible=t.visible);var lt=function(){return zW.createElement(Z4,{showArrow:Be,arrowContent:He,key:"content",prefixCls:T,id:Je,overlayInnerStyle:$e},Re)},pt=!1,je=!1;if(typeof Oe=="boolean")pt=Oe;else if(Oe&&Ln(Oe)==="object"){var Ge=Oe.keepParent;pt=Ge===!0,je=Ge===!1}return zW.createElement(a6e,en({popupClassName:n,prefixCls:T,popup:lt,action:o,builtinPlacements:s6e,popupPlacement:ee,ref:Pe,popupAlign:ue,getPopupContainer:ze,onPopupVisibleChange:z,afterPopupVisibleChange:F,popupTransitionName:q,popupAnimation:N,popupMotion:B,defaultPopupVisible:be,destroyPopupOnHide:pt,autoDestroy:je,mouseLeaveDelay:y,popupStyle:x,mouseEnterDelay:p},Qe),D)},u6e=(0,G0.forwardRef)(ktr);var c6e=u6e;var qtr=Kd.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=Kd.useRef(null),o=j0(t,i),u=Kd.useRef(null);function p(){Ps.cancel(u.current)}function h(){u.current=Ps(function(){var y;(y=i.current)===null||y===void 0||y.forcePopupAlign()})}return Kd.useEffect(function(){return r?h():p(),p},[r,n]),Kd.createElement(c6e,en({ref:o},e))}),FW=qtr;function jW(e){var t;return t=function(r){na(i,r);var n=ia(i);function i(){var o;return ta(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(u,p){o.setState(function(h){return{visibles:Tt(Tt({},h.visibles),{},mt({},u,p))}})},o.handleWithTooltip=function(u){var p=u.value,h=u.dragging,y=u.index,x=u.disabled,E=Oa(u,["value","dragging","index","disabled"]),T=o.props,D=T.tipFormatter,z=T.tipProps,F=T.handleStyle,q=T.getTooltipContainer,N=z.prefixCls,B=N===void 0?"rc-slider-tooltip":N,Z=z.overlay,ee=Z===void 0?D(p):Z,ae=z.placement,ue=ae===void 0?"top":ae,ve=z.visible,Oe=ve===void 0?!1:ve,be=Oa(z,["prefixCls","overlay","placement","visible"]),ze;return Array.isArray(F)?ze=F[y]||F[0]:ze=F,r2.default.createElement(FW,en({},be,{getTooltipContainer:q,prefixCls:B,overlay:ee,placement:ue,visible:!x&&(o.state.visibles[y]||h)||Oe,key:y}),r2.default.createElement(z0,en({},E,{style:Tt({},ze),value:p,onMouseEnter:function(){return o.handleTooltipVisibleChange(y,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(y,!1)}})))},o}return ra(i,[{key:"render",value:function(){return r2.default.createElement(e,en({},this.props,{handle:this.handleWithTooltip}))}}]),i}(r2.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var BW=IRe;BW.Range=s4;BW.Handle=z0;BW.createSliderWithTooltip=jW;var n1=re(Wt(),1),bi=re(Ue(),1);var Vr=re(Ue(),1),d6e=re(Wt(),1);var Ntr=e=>["MultiLineString","LineString"].includes(e),Rtr=e=>["MultiPolygon","Polygon"].includes(e),VW=e=>Ntr(e)?Dn.LINE:Rtr(e)?Dn.OUTLINE:Dn.LINE,Z0={marker:()=>Jo[Dn.SYMBOL].COLOR,fill:()=>Jo[Dn.FILL].COLOR,"fill-opacity":()=>Jo[Dn.FILL].OPACITY,stroke:e=>{let t=VW(e);return Jo[t].COLOR},"stroke-opacity":e=>{let t=VW(e);return Jo[t].OPACITY},"stroke-width":e=>{let t=VW(e);return Jo[t].WIDTH}},Ltr={marker:{default:Z0.marker,geometryTypes:["Point","MultiPoint"],inputProps:{type:"color"}},fill:{default:Z0.fill,geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{type:"color"}},"fill-opacity":{default:Z0["fill-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{step:.05,min:0,max:1,type:"number"}},stroke:{default:Z0.stroke,geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{type:"color"}},"stroke-opacity":{default:Z0["stroke-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{max:1,min:0,step:.05,type:"number"}},"stroke-width":{default:Z0["stroke-width"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{step:.1,min:0,max:20,type:"number"}}},ztr={img_link:{inputProps:{type:"text"}},title:{inputProps:{type:"text"}},description:{inputProps:{type:"text"}},time:{inputProps:{type:"text"}}};var Pjr=Object.keys(Ltr),Ojr=Object.keys(ztr),Y4={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"};var Ftr={edit:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Vr.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),Vr.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":Vr.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),Vr.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),Vr.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},Vr.default.createElement("path",{d:"M0 0h30v30H0z"}),Vr.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),Vr.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},Vr.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Vr.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Vr.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),Vr.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Vr.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),Vr.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:Vr.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":Vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Vr.default.createElement("path",{d:"M6.5 11a6.5 6.5 0 1 0 6.5 6.5A6.508 6.508 0 0 0 6.5 11Zm2.391 7.312-2 2.5a.517.517 0 0 1-.782 0l-2-2.5A.5.5 0 0 1 4.5 17.5h.876a.125.125 0 0 0 .124-.12V14.5a1 1 0 1 1 2 0v2.875a.127.127 0 0 0 .124.125H8.5a.5.5 0 0 1 .391.812zm5.788-6.112.018-.017a.751.751 0 0 0 .018-1.043l-2.029-2.174a.249.249 0 0 1 0-.341l2.028-2.174a.75.75 0 0 0-1.078-1.043l-.018.019-2.666 2.856a.752.752 0 0 0 0 1.025l2.666 2.857a.752.752 0 0 0 1.061.035zm1.607-1.06a.75.75 0 0 0 1.078 1.043l.018-.018 2.666-2.857a.752.752 0 0 0 0-1.025l-2.666-2.856a.751.751 0 0 0-1.061-.036.731.731 0 0 0-.036 1.06l2.029 2.174a.249.249 0 0 1 0 .341z"}),Vr.default.createElement("path",{d:"M23.414 3 21 .587A2 2 0 0 0 19.586 0H8a2 2 0 0 0-2 2v7.214a.248.248 0 0 0 .242.25c.366.006 1.038.033 1.485.082A.246.246 0 0 0 8 9.3V2.5a.5.5 0 0 1 .5-.5h10.879a.5.5 0 0 1 .353.146l2.122 2.121a.5.5 0 0 1 .146.355V18a.5.5 0 0 1-.5.5h-6.869a.244.244 0 0 0-.241.208 7.983 7.983 0 0 1-.373 1.459.243.243 0 0 0 .228.332H22a2 2 0 0 0 2-2V4.415A2 2 0 0 0 23.414 3Z"})),filter:Vr.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Vr.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),[Y4.POINT]:Vr.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[Y4.LINE_STRING]:Vr.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),Vr.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),Vr.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[Y4.POLYGON]:Vr.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),Vr.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),Vr.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),Vr.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),Vr.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},p6e=({name:e})=>{var t;return(t=Ftr[e])!=null?t:""};p6e.propTypes={name:d6e.default.string.isRequired};var f6e=p6e;var h6e=f6e;var n2=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},m6e=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(m6e.test(e)){let t=Date.prototype[e.replace(m6e,"$1UTC")];t&&(n2.prototype[e]=t)}});var K4=class extends n2{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=jtr.format(this),r=Btr.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${Vtr.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,rt({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,rt({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,rt({timeZone:"UTC"},r))}},jtr=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),Btr=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),Vtr=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});var i2=e=>new K4(+new Date(e));var Utr=Math.pow(10,8)*24*60*60*1e3,Gjr=-Utr,X4=6048e5,g6e=864e5,v6e=6e4,y6e=36e5,_6e=1e3;var $tr=3600;var b6e=$tr*24,Zjr=b6e*7,Htr=b6e*365.2425,Wtr=Htr/12,Yjr=Wtr*3,UW=Symbol.for("constructDateFrom");function xn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&UW in e?e[UW](t):e instanceof Date?new e.constructor(t):new Date(t)}function rn(e,t){return xn(t||e,e)}function J4(e,t,r){let n=rn(e,r==null?void 0:r.in);return isNaN(t)?xn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}var Gtr={};function tu(){return Gtr}function ks(e,t){var p,h,y,x,E,T,D,z;let r=tu(),n=(z=(D=(x=(y=t==null?void 0:t.weekStartsOn)!=null?y:(h=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)!=null?x:r.weekStartsOn)!=null?D:(T=(E=r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)!=null?z:0,i=rn(e,t==null?void 0:t.in),o=i.getDay(),u=(o<n?7:0)+o-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Du(e,t){return ks(e,qr(rt({},t),{weekStartsOn:1}))}function Q4(e,t){let r=rn(e,t==null?void 0:t.in),n=r.getFullYear(),i=xn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=Du(i),u=xn(r,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);let p=Du(u);return r.getTime()>=o.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function rg(e){let t=rn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function x6e(e,...t){let r=xn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function eO(e,t){let r=rn(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function w6e(e,t,r){let[n,i]=x6e(r==null?void 0:r.in,e,t),o=eO(n),u=eO(i),p=+o-rg(o),h=+u-rg(u);return Math.round((p-h)/g6e)}function S6e(e,t){let r=Q4(e,t),n=xn((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Du(n)}function I6e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tO(e){return!(!I6e(e)&&typeof e!="number"||isNaN(+rn(e)))}function E6e(e,t){let r=rn(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var Ztr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T6e=(e,t,r)=>{let n,i=Ztr[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rO(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Ytr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ktr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xtr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C6e={date:rO({formats:Ytr,defaultWidth:"full"}),time:rO({formats:Ktr,defaultWidth:"full"}),dateTime:rO({formats:Xtr,defaultWidth:"full"})};var Jtr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A6e=(e,t,r,n)=>Jtr[e];function Y0(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):u;i=e.formattingValues[p]||e.formattingValues[u]}else{let u=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[p]||e.values[u]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var Qtr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},err={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},trr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rrr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nrr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},irr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},orr=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd";}return r+"th"},M6e={ordinalNumber:orr,era:Y0({values:Qtr,defaultWidth:"wide"}),quarter:Y0({values:err,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Y0({values:trr,defaultWidth:"wide"}),day:Y0({values:rrr,defaultWidth:"wide"}),dayPeriod:Y0({values:nrr,defaultWidth:"wide",formattingValues:irr,defaultFormattingWidth:"wide"})};function K0(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let u=o[0],p=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(p)?srr(p,E=>E.test(u)):arr(p,E=>E.test(u)),y;y=e.valueCallback?e.valueCallback(h):h,y=r.valueCallback?r.valueCallback(y):y;let x=t.slice(u.length);return{value:y,rest:x}}}function arr(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function srr(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function P6e(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=r.valueCallback?r.valueCallback(u):u;let p=t.slice(i.length);return{value:u,rest:p}}}var lrr=/^(\d+)(th|st|nd|rd)?/i,urr=/\d+/i,crr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},drr={any:[/^b/i,/^(a|c)/i]},prr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},frr={any:[/1/i,/2/i,/3/i,/4/i]},hrr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mrr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},grr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vrr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yrr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_rr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O6e={ordinalNumber:P6e({matchPattern:lrr,parsePattern:urr,valueCallback:e=>parseInt(e,10)}),era:K0({matchPatterns:crr,defaultMatchWidth:"wide",parsePatterns:drr,defaultParseWidth:"any"}),quarter:K0({matchPatterns:prr,defaultMatchWidth:"wide",parsePatterns:frr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:K0({matchPatterns:hrr,defaultMatchWidth:"wide",parsePatterns:mrr,defaultParseWidth:"any"}),day:K0({matchPatterns:grr,defaultMatchWidth:"wide",parsePatterns:vrr,defaultParseWidth:"any"}),dayPeriod:K0({matchPatterns:yrr,defaultMatchWidth:"any",parsePatterns:_rr,defaultParseWidth:"any"})};var o2={code:"en-US",formatDistance:T6e,formatLong:C6e,formatRelative:A6e,localize:M6e,match:O6e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function D6e(e,t){let r=rn(e,t==null?void 0:t.in);return w6e(r,E6e(r))+1}function nO(e,t){let r=rn(e,t==null?void 0:t.in),n=+Du(r)-+S6e(r);return Math.round(n/X4)+1}function X0(e,t){var x,E,T,D,z,F,q,N;let r=rn(e,t==null?void 0:t.in),n=r.getFullYear(),i=tu(),o=(N=(q=(D=(T=t==null?void 0:t.firstWeekContainsDate)!=null?T:(E=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:E.firstWeekContainsDate)!=null?D:i.firstWeekContainsDate)!=null?q:(F=(z=i.locale)==null?void 0:z.options)==null?void 0:F.firstWeekContainsDate)!=null?N:1,u=xn((t==null?void 0:t.in)||e,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);let p=ks(u,t),h=xn((t==null?void 0:t.in)||e,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);let y=ks(h,t);return+r>=+p?n+1:+r>=+y?n:n-1}function k6e(e,t){var p,h,y,x,E,T,D,z;let r=tu(),n=(z=(D=(x=(y=t==null?void 0:t.firstWeekContainsDate)!=null?y:(h=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)!=null?x:r.firstWeekContainsDate)!=null?D:(T=(E=r.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)!=null?z:1,i=X0(e,t),o=xn((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),ks(o,t)}function iO(e,t){let r=rn(e,t==null?void 0:t.in),n=+ks(r,t)-+k6e(r,t);return Math.round(n/X4)+1}function kn(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}var Xd={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return kn(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):kn(r+1,2)},d(e,t){return kn(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m.";}},h(e,t){return kn(e.getHours()%12||12,t.length)},H(e,t){return kn(e.getHours(),t.length)},m(e,t){return kn(e.getMinutes(),t.length)},s(e,t){return kn(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return kn(i,t.length)}};var J0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$W={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"});}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Xd.y(e,t)},Y:function(e,t,r,n){let i=X0(e,n),o=i>0?i:1-i;if(t==="YY"){let u=o%100;return kn(u,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):kn(o,t.length)},R:function(e,t){let r=Q4(e);return kn(r,t.length)},u:function(e,t){let r=e.getFullYear();return kn(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return kn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"});}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return kn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"});}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return Xd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"});}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return kn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"});}},w:function(e,t,r,n){let i=iO(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):kn(i,t.length)},I:function(e,t,r){let n=nO(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):kn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xd.d(e,t)},D:function(e,t,r){let n=D6e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):kn(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"});}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return kn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"});}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return kn(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"});}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return kn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"});}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=J0.noon:n===0?i=J0.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=J0.evening:n>=12?i=J0.afternoon:n>=4?i=J0.morning:i=J0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xd.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):kn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):kn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xd.s(e,t)},S:function(e,t){return Xd.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return N6e(n);case"XXXX":case"XX":return ng(n);case"XXXXX":case"XXX":default:return ng(n,":");}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return N6e(n);case"xxxx":case"xx":return ng(n);case"xxxxx":case"xxx":default:return ng(n,":");}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+q6e(n,":");case"OOOO":default:return"GMT"+ng(n,":");}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+q6e(n,":");case"zzzz":default:return"GMT"+ng(n,":");}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return kn(n,t.length)},T:function(e,t,r){return kn(+e,t.length)}};function q6e(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+kn(o,2)}function N6e(e,t){return e%60===0?(e>0?"-":"+")+kn(Math.abs(e)/60,2):ng(e,t)}function ng(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=kn(Math.trunc(n/60),2),o=kn(n%60,2);return r+i+t+o}var R6e=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"});}},L6e=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"});}},brr=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return R6e(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break;}return o.replace("{{date}}",R6e(n,t)).replace("{{time}}",L6e(i,t))},a2={p:L6e,P:brr};var xrr=/^D+$/,wrr=/^Y+$/,Srr=["D","DD","YY","YYYY"];function oO(e){return xrr.test(e)}function aO(e){return wrr.test(e)}function s2(e,t,r){let n=Irr(e,t,r);if(console.warn(n),Srr.includes(e))throw new RangeError(n)}function Irr(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Err=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Trr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Crr=/^'([^]*?)'?$/,Arr=/''/g,Mrr=/[a-zA-Z]/;function HW(e,t,r){var x,E,T,D,z,F,q,N,B,Z,ee,ae,ue,ve,Oe,be,ze,$e;let n=tu(),i=(E=(x=r==null?void 0:r.locale)!=null?x:n.locale)!=null?E:o2,o=(Z=(B=(F=(z=r==null?void 0:r.firstWeekContainsDate)!=null?z:(D=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:D.firstWeekContainsDate)!=null?F:n.firstWeekContainsDate)!=null?B:(N=(q=n.locale)==null?void 0:q.options)==null?void 0:N.firstWeekContainsDate)!=null?Z:1,u=($e=(ze=(ve=(ue=r==null?void 0:r.weekStartsOn)!=null?ue:(ae=(ee=r==null?void 0:r.locale)==null?void 0:ee.options)==null?void 0:ae.weekStartsOn)!=null?ve:n.weekStartsOn)!=null?ze:(be=(Oe=n.locale)==null?void 0:Oe.options)==null?void 0:be.weekStartsOn)!=null?$e:0,p=rn(e,r==null?void 0:r.in);if(!tO(p))throw new RangeError("Invalid time value");let h=t.match(Trr).map(He=>{let Re=He[0];if(Re==="p"||Re==="P"){let Je=a2[Re];return Je(He,i.formatLong)}return He}).join("").match(Err).map(He=>{if(He==="''")return{isToken:!1,value:"'"};let Re=He[0];if(Re==="'")return{isToken:!1,value:Prr(He)};if($W[Re])return{isToken:!0,value:He};if(Re.match(Mrr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");return{isToken:!1,value:He}});i.localize.preprocessor&&(h=i.localize.preprocessor(p,h));let y={firstWeekContainsDate:o,weekStartsOn:u,locale:i};return h.map(He=>{if(!He.isToken)return He.value;let Re=He.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&aO(Re)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&oO(Re))&&s2(Re,t,String(e));let Je=$W[Re[0]];return Je(p,Re,i.localize,y)}).join("")}function Prr(e){let t=e.match(Crr);return t?t[1].replace(Arr,"'"):e}function z6e(){return Object.assign({},tu())}function F6e(e,t){let r=rn(e,t==null?void 0:t.in).getDay();return r===0?7:r}function j6e(e,t){let r=Orr(t)?new t(0):xn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Orr(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var Drr=10,sO=class{constructor(){Xe(this,"subPriority",0)}validate(t,r){return!0}},lO=class extends sO{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},uO=class extends sO{constructor(r,n){super();Xe(this,"priority",Drr);Xe(this,"subPriority",-1);this.context=r||(i=>xn(n,i))}set(r,n){return n.timestampIsSet?r:xn(r,j6e(r,this.context))}};var nr=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new lO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var cO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",140);Xe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var yn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ru={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Wn(e,t){return e&&{value:t(e.value),rest:e.rest}}function hn(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function nu(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,u=r[5]?parseInt(r[5],10):0;return{value:n*(i*y6e+o*v6e+u*_6e),rest:t.slice(r[0].length)}}function dO(e){return hn(yn.anyDigitsSigned,e)}function Ur(e,t){switch(e){case 1:return hn(yn.singleDigit,t);case 2:return hn(yn.twoDigits,t);case 3:return hn(yn.threeDigits,t);case 4:return hn(yn.fourDigits,t);default:return hn(new RegExp("^\\d{1,"+e+"}"),t);}}function Q0(e,t){switch(e){case 1:return hn(yn.singleDigitSigned,t);case 2:return hn(yn.twoDigitsSigned,t);case 3:return hn(yn.threeDigitsSigned,t);case 4:return hn(yn.fourDigitsSigned,t);default:return hn(new RegExp("^-?\\d{1,"+e+"}"),t);}}function e1(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0;}}function pO(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,u=Math.trunc(o/100)*100,p=e>=o%100;i=e+u-(p?100:0)}return r?i:1-i}function fO(e){return e%400===0||e%4===0&&e%100!==0}var hO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return Wn(Ur(4,r),o);case"yo":return Wn(i.ordinalNumber(r,{unit:"year"}),o);default:return Wn(Ur(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let p=pO(i.year,o);return r.setFullYear(p,0,1),r.setHours(0,0,0,0),r}let u=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}};var mO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Wn(Ur(4,r),o);case"Yo":return Wn(i.ordinalNumber(r,{unit:"year"}),o);default:return Wn(Ur(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let u=X0(r,o);if(i.isTwoDigitYear){let h=pO(i.year,u);return r.setFullYear(h,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),ks(r,o)}let p=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(p,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),ks(r,o)}};var gO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?Q0(4,r):Q0(n.length,r)}set(r,n,i){let o=xn(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Du(o)}};var vO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?Q0(4,r):Q0(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var yO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Ur(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var _O=class extends nr{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Ur(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var bO=class extends nr{constructor(){super(...arguments);Xe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Xe(this,"priority",110)}parse(r,n,i){let o=u=>u-1;switch(n){case"M":return Wn(hn(yn.month,r),o);case"MM":return Wn(Ur(2,r),o);case"Mo":return Wn(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};var xO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",110);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=u=>u-1;switch(n){case"L":return Wn(hn(yn.month,r),o);case"LL":return Wn(Ur(2,r),o);case"Lo":return Wn(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};function B6e(e,t,r){let n=rn(e,r==null?void 0:r.in),i=iO(n,r)-t;return n.setDate(n.getDate()-i*7),rn(n,r==null?void 0:r.in)}var wO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return hn(yn.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Ur(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return ks(B6e(r,i,o),o)}};function V6e(e,t,r){let n=rn(e,r==null?void 0:r.in),i=nO(n,r)-t;return n.setDate(n.getDate()-i*7),n}var SO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return hn(yn.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Ur(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Du(V6e(r,i))}};var krr=[31,28,31,30,31,30,31,31,30,31,30,31],qrr=[31,29,31,30,31,30,31,31,30,31,30,31],IO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subPriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return hn(yn.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Ur(n.length,r);}}validate(r,n){let i=r.getFullYear(),o=fO(i),u=r.getMonth();return o?n>=1&&n<=qrr[u]:n>=1&&n<=krr[u]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};var EO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subpriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return hn(yn.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Ur(n.length,r);}}validate(r,n){let i=r.getFullYear();return fO(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};function t1(e,t,r){var E,T,D,z,F,q,N,B;let n=tu(),i=(B=(N=(z=(D=r==null?void 0:r.weekStartsOn)!=null?D:(T=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)!=null?z:n.weekStartsOn)!=null?N:(q=(F=n.locale)==null?void 0:F.options)==null?void 0:q.weekStartsOn)!=null?B:0,o=rn(e,r==null?void 0:r.in),u=o.getDay(),h=(t%7+7)%7,y=7-i,x=t<0||t>6?t-(u+y)%7:(h+y)%7-(u+y)%7;return J4(o,x,r)}var TO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=t1(r,i,o),r.setHours(0,0,0,0),r}};var CO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let u=p=>{let h=Math.floor((p-1)/7)*7;return(p+o.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return Wn(Ur(n.length,r),u);case"eo":return Wn(i.ordinalNumber(r,{unit:"day"}),u);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=t1(r,i,o),r.setHours(0,0,0,0),r}};var AO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let u=p=>{let h=Math.floor((p-1)/7)*7;return(p+o.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return Wn(Ur(n.length,r),u);case"co":return Wn(i.ordinalNumber(r,{unit:"day"}),u);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=t1(r,i,o),r.setHours(0,0,0,0),r}};function U6e(e,t,r){let n=rn(e,r==null?void 0:r.in),i=F6e(n,r),o=t-i;return J4(n,o,r)}var MO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=u=>u===0?7:u;switch(n){case"i":case"ii":return Ur(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return Wn(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Wn(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Wn(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Wn(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=U6e(r,i),r.setHours(0,0,0,0),r}};var PO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(e1(i),0,0,0),r}};var OO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(e1(i),0,0,0),r}};var DO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(e1(i),0,0,0),r}};var kO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return hn(yn.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ur(n.length,r);}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};var qO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return hn(yn.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Ur(n.length,r);}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};var NO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return hn(yn.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ur(n.length,r);}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};var RO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return hn(yn.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Ur(n.length,r);}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};var LO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",60);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return hn(yn.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Ur(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};var zO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",50);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return hn(yn.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Ur(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};var FO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",30);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Wn(Ur(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};var jO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return nu(ru.basicOptionalMinutes,r);case"XX":return nu(ru.basic,r);case"XXXX":return nu(ru.basicOptionalSeconds,r);case"XXXXX":return nu(ru.extendedOptionalSeconds,r);case"XXX":default:return nu(ru.extended,r);}}set(r,n,i){return n.timestampIsSet?r:xn(r,r.getTime()-rg(r)-i)}};var BO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return nu(ru.basicOptionalMinutes,r);case"xx":return nu(ru.basic,r);case"xxxx":return nu(ru.basicOptionalSeconds,r);case"xxxxx":return nu(ru.extendedOptionalSeconds,r);case"xxx":default:return nu(ru.extended,r);}}set(r,n,i){return n.timestampIsSet?r:xn(r,r.getTime()-rg(r)-i)}};var VO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",40);Xe(this,"incompatibleTokens","*")}parse(r){return dO(r)}set(r,n,i){return[xn(r,i*1e3),{timestampIsSet:!0}]}};var UO=class extends nr{constructor(){super(...arguments);Xe(this,"priority",20);Xe(this,"incompatibleTokens","*")}parse(r){return dO(r)}set(r,n,i){return[xn(r,i),{timestampIsSet:!0}]}};var $6e={G:new cO,y:new hO,Y:new mO,R:new gO,u:new vO,Q:new yO,q:new _O,M:new bO,L:new xO,w:new wO,I:new SO,d:new IO,D:new EO,E:new TO,e:new CO,c:new AO,i:new MO,a:new PO,b:new OO,B:new DO,h:new kO,H:new qO,K:new NO,k:new RO,m:new LO,s:new zO,S:new FO,X:new jO,x:new BO,t:new VO,T:new UO};var Nrr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rrr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lrr=/^'([^]*?)'?$/,zrr=/''/g,Frr=/\S/,jrr=/[a-zA-Z]/;function WW(e,t,r,n){var q,N,B,Z,ee,ae,ue,ve,Oe,be,ze,$e,He,Re,Je,ot,Be,Le;let i=()=>xn((n==null?void 0:n.in)||r,NaN),o=z6e(),u=(N=(q=n==null?void 0:n.locale)!=null?q:o.locale)!=null?N:o2,p=(be=(Oe=(ae=(ee=n==null?void 0:n.firstWeekContainsDate)!=null?ee:(Z=(B=n==null?void 0:n.locale)==null?void 0:B.options)==null?void 0:Z.firstWeekContainsDate)!=null?ae:o.firstWeekContainsDate)!=null?Oe:(ve=(ue=o.locale)==null?void 0:ue.options)==null?void 0:ve.firstWeekContainsDate)!=null?be:1,h=(Le=(Be=(Re=(He=n==null?void 0:n.weekStartsOn)!=null?He:($e=(ze=n==null?void 0:n.locale)==null?void 0:ze.options)==null?void 0:$e.weekStartsOn)!=null?Re:o.weekStartsOn)!=null?Be:(ot=(Je=o.locale)==null?void 0:Je.options)==null?void 0:ot.weekStartsOn)!=null?Le:0;if(!t)return e?i():rn(r,n==null?void 0:n.in);let y={firstWeekContainsDate:p,weekStartsOn:h,locale:u},x=[new uO(n==null?void 0:n.in,r)],E=t.match(Rrr).map(Pe=>{let Qe=Pe[0];if(Qe in a2){let lt=a2[Qe];return lt(Pe,u.formatLong)}return Pe}).join("").match(Nrr),T=[];for(let Pe of E){!(n!=null&&n.useAdditionalWeekYearTokens)&&aO(Pe)&&s2(Pe,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&oO(Pe)&&s2(Pe,t,e);let Qe=Pe[0],lt=$6e[Qe];if(lt){let{incompatibleTokens:pt}=lt;if(Array.isArray(pt)){let Ge=T.find(at=>pt.includes(at.token)||at.token===Qe);if(Ge)throw new RangeError(`The format string mustn't contain \`${Ge.fullToken}\` and \`${Pe}\` at the same time`)}else if(lt.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${Pe}\` and any other token at the same time`);T.push({token:Qe,fullToken:Pe});let je=lt.run(e,Pe,u.match,y);if(!je)return i();x.push(je.setter),e=je.rest}else{if(Qe.match(jrr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Qe+"`");if(Pe==="''"?Pe="'":Qe==="'"&&(Pe=Brr(Pe)),e.indexOf(Pe)===0)e=e.slice(Pe.length);else return i()}}if(e.length>0&&Frr.test(e))return i();let D=x.map(Pe=>Pe.priority).sort((Pe,Qe)=>Qe-Pe).filter((Pe,Qe,lt)=>lt.indexOf(Pe)===Qe).map(Pe=>x.filter(Qe=>Qe.priority===Pe).sort((Qe,lt)=>lt.subPriority-Qe.subPriority)).map(Pe=>Pe[0]),z=rn(r,n==null?void 0:n.in);if(isNaN(+z))return i();let F={};for(let Pe of D){if(!Pe.validate(z,y))return i();let Qe=Pe.set(z,F,y);Array.isArray(Qe)?(z=Qe[0],Object.assign(F,Qe[1])):z=Qe}return z}function Brr(e){return e.match(Lrr)[1].replace(zrr,"'")}var r1={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function ig(e){let t=Nr.getSettings().LANGUAGE_CODE,r=new Date(e);return $O(r)?Object.hasOwn(r1,t)?HW(r,r1[t],{in:i2}):HW(r,r1[r0.EN],{in:i2}):e}function GW(e){let t=Nr.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn(r1,t)?WW(e,r1[t],r,{in:i2}):WW(e,r1[r0.EN],r,{in:i2})}function $O(e){return tO(e)}var l2=re(Wt(),1),qs=re(Ue(),1);function Vrr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var H6e=(0,qs.forwardRef)(function({value:t,onBlur:r,onKeyDown:n,editable:i},o){let[u,p]=(0,qs.useState)(t),h=(0,qs.useMemo)(()=>Nr.getSettings().LANGUAGE_CODE===r0.DE?".":"/",[]),y=(0,qs.useCallback)(E=>{let T=`${E.target.value}`;Vrr(T,h)||T.length>10||p(E.target.value)},[h]),x=(0,qs.useCallback)(E=>{r(E,u)},[u,r]);return(0,qs.useEffect)(()=>{p(t)},[t]),qs.default.createElement("div",{className:"date-input-root"},qs.default.createElement("input",{className:vr(!i&&"readonly"),ref:o,value:u,onBlur:x,onKeyDown:n,onChange:y,readOnly:!i,tabIndex:i?void 0:-1}))});H6e.propTypes={value:l2.default.string.isRequired,onBlur:l2.default.func.isRequired,onKeyDown:l2.default.func.isRequired,editable:l2.default.bool};var ZW=H6e;var W6e=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,bi.useState)(e),[u,p]=(0,bi.useState)(!1),[h,y]=(0,bi.useState)(0),[x,E]=(0,bi.useState)(1),T=(0,bi.useRef)(),D=(0,bi.useRef)(),z=(0,bi.useRef)(),{start:F,end:q}=(0,bi.useMemo)(()=>({start:ig(i[0]*1e3),end:ig(i[1]*1e3)}),[i]),N=(0,bi.useCallback)((ae,ue)=>{let ve=GW(ue).valueOf()/1e3,Oe=i[1];if(ae.relatedTarget!==D.current&&ae.relatedTarget!==z.current&&p(!1),!$O(ve)||ve>Oe||ve<t){n([i[0],i[1]]),y(Date.now());return}n([ve,Oe])},[i]),B=(0,bi.useCallback)((ae,ue)=>{let ve=i[0],Oe=GW(ue).valueOf()/1e3;if(ae.relatedTarget!==T.current&&ae.relatedTarget!==z.current&&p(!1),!$O(Oe)||ve>Oe||Oe>r){n([i[0],i[1]]),E(Date.now());return}n([ve,Oe])},[i]),Z=(0,bi.useCallback)(ae=>{ae.key==="Enter"&&(ae.target===T.current&&D.current.focus(),ae.target===D.current&&(ae.target.blur(),p(!1)))},[]),ee=(0,bi.useCallback)(()=>{u||T.current.focus(),p(ae=>!ae)},[]);return(0,bi.useEffect)(()=>{o(e)},[e]),bi.default.createElement("div",{className:"timeslider-controls-root"},bi.default.createElement(ZW,{ref:T,key:h,value:F,onBlur:N,onKeyDown:Z,editable:u}),bi.default.createElement("span",null,"\u2013"),bi.default.createElement(ZW,{ref:D,key:x,value:q,onBlur:B,onKeyDown:Z,editable:u}),bi.default.createElement("button",{ref:z,className:vr("edit-button",u&&"edit-state"),onClick:ee},bi.default.createElement(h6e,{name:"edit-inverse"})))};W6e.propTypes={values:n1.default.arrayOf(n1.default.number).isRequired,min:n1.default.number.isRequired,max:n1.default.number.isRequired,onChange:n1.default.func.isRequired};var G6e=W6e;var og=re(Wt(),1),i1=re(Ue(),1);var Z6e=(0,i1.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let u=(0,i1.useMemo)(()=>Array.isArray(i)?n?`${ig(i[0]*1e3)} - ${ig(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?ig(i*1e3):i,[i]);return i1.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},u)});Z6e.propTypes={className:og.default.string,posX:og.default.number.isRequired,shouldUseDate:og.default.bool.isRequired,value:og.default.oneOfType([og.default.array,og.default.number]).isRequired};var HO=Z6e;var Y6e=(e,t,r,n)=>{let i=e.map(y=>(y-t[0])/(t[1]-t[0])),o=i[0]*n,u=i[1]*n,p=YW(o,r,n),h=YW(u,r,n);return{posMin:p,posMax:h}},K6e=(e,t,r,n)=>{let u=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return YW(u,r,n)},YW=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var KW=[1e3,1e3],XW=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:u,showControls:p}=e,[h,y]=(0,ri.useState)(r),[x,E]=(0,ri.useState)(0),[T,D]=(0,ri.useState)(0),[z,F]=(0,ri.useState)(0),[q,N]=(0,ri.useState)({min:0,max:0}),[B,Z]=(0,ri.useState)(0),[ee,ae]=(0,ri.useState)(!1),ue=(0,ri.useRef)(),ve=(0,ri.useRef)(),Oe=(0,ri.useRef)(),be=(0,ri.useCallback)($e=>{let{posMin:He,posMax:Re}=Y6e($e,n,x,z);if(Math.abs(He-Re)<x){ae(!0);let ot=K6e($e,n,T,z);Z(ot);return}ae(!1),N({min:He,max:Re})},[n,x,z]),ze=(0,ri.useCallback)($e=>{be($e),y($e)},[be]);return(0,ri.useEffect)(()=>{if(ue.current&&ve.current&&Oe.current){let $e=ue.current.getBoundingClientRect().width,He=ve.current.getBoundingClientRect().width,Re=Oe.current.getBoundingClientRect().width;N({min:0,max:$e-He}),D(Re),F($e),E(He)}},[]),(0,ri.useEffect)(()=>{y(r),be(r)},[r,be]),ri.default.createElement("div",{className:"timeslider-container"},ri.default.createElement("div",{className:"timeslider-control-container"},ri.default.createElement("label",null,t),p&&ri.default.createElement(G6e,{min:n[0],max:n[1],values:h,onChange:ze})),ri.default.createElement("div",{ref:ue,className:"slider-container"},ri.default.createElement(s4,rt({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:ze,onAfterChange:i,value:h},o)),ri.default.createElement(HO,{className:vr("tooltip min-value",ee&&"labels-too-close"),posX:q.min,ref:ve,value:ee?KW[0]:h[0],shouldUseDate:u}),ri.default.createElement(HO,{className:vr("tooltip max-value",ee&&"labels-too-close"),posX:q.max,value:ee?KW[1]:h[1],shouldUseDate:u}),ri.default.createElement(HO,{className:vr("tooltip min-max-value",ee&&"labels-too-close"),posX:B,ref:Oe,value:ee?h:KW,shouldUseDate:u})))};XW.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};XW.propTypes={title:Dc.default.string.isRequired,values:Dc.default.arrayOf(Dc.default.number),timeRange:Dc.default.arrayOf(Dc.default.number),onChange:Dc.default.func.isRequired,sliderProps:Dc.default.object,shouldUseDate:Dc.default.bool,showControls:Dc.default.bool};var X6e=XW;var J6e=X6e;var Q6e=()=>{let e=ur(f5),[t,r]=fn(p5),n=(0,WO.useCallback)(i=>r(i),[]);return WO.default.createElement(J6e,{title:nt("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};Q6e.propTypes={};var eze=Q6e;var tze=eze;var rD=re(Ue(),1);var sg=re(Ue(),1),$G=re(Wt(),1);var Qa=re(Ue(),1);var At=re(Wt()),_t=re(Ue()),Qrr=re(uze());function cze(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function dze(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function QW(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return dze(r.overflowY,t)||dze(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(u){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function YO(e,t,r,n,i,o,u,p){return o<e&&u>t||o>e&&u<t?0:o<=e&&p<=r||u>=t&&p>=r?o-e-n:u>t&&p<r||o<e&&p>r?u-t+i:0}var pze=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,p=t.skipOverflowHiddenElements,h=typeof u=="function"?u:function(we){return we!==u};if(!cze(e))throw new TypeError("Invalid target");for(var y,x,E=document.scrollingElement||document.documentElement,T=[],D=e;cze(D)&&h(D);){if((D=(x=(y=D).parentElement)==null?y.getRootNode().host||null:x)===E){T.push(D);break}D!=null&&D===document.body&&QW(D)&&!QW(document.documentElement)||D!=null&&QW(D,p)&&T.push(D)}for(var z=r.visualViewport?r.visualViewport.width:innerWidth,F=r.visualViewport?r.visualViewport.height:innerHeight,q=window.scrollX||pageXOffset,N=window.scrollY||pageYOffset,B=e.getBoundingClientRect(),Z=B.height,ee=B.width,ae=B.top,ue=B.right,ve=B.bottom,Oe=B.left,be=i==="start"||i==="nearest"?ae:i==="end"?ve:ae+Z/2,ze=o==="center"?Oe+ee/2:o==="end"?ue:Oe,$e=[],He=0;He<T.length;He++){var Re=T[He],Je=Re.getBoundingClientRect(),ot=Je.height,Be=Je.width,Le=Je.top,Pe=Je.right,Qe=Je.bottom,lt=Je.left;if(n==="if-needed"&&ae>=0&&Oe>=0&&ve<=F&&ue<=z&&ae>=Le&&ve<=Qe&&Oe>=lt&&ue<=Pe)return $e;var pt=getComputedStyle(Re),je=parseInt(pt.borderLeftWidth,10),Ge=parseInt(pt.borderTopWidth,10),at=parseInt(pt.borderRightWidth,10),De=parseInt(pt.borderBottomWidth,10),he=0,qe=0,Te="offsetWidth"in Re?Re.offsetWidth-Re.clientWidth-je-at:0,Ke="offsetHeight"in Re?Re.offsetHeight-Re.clientHeight-Ge-De:0,Ze="offsetWidth"in Re?Re.offsetWidth===0?0:Be/Re.offsetWidth:0,St="offsetHeight"in Re?Re.offsetHeight===0?0:ot/Re.offsetHeight:0;if(E===Re)he=i==="start"?be:i==="end"?be-F:i==="nearest"?YO(N,N+F,F,Ge,De,N+be,N+be+Z,Z):be-F/2,qe=o==="start"?ze:o==="center"?ze-z/2:o==="end"?ze-z:YO(q,q+z,z,je,at,q+ze,q+ze+ee,ee),he=Math.max(0,he+N),qe=Math.max(0,qe+q);else{he=i==="start"?be-Le-Ge:i==="end"?be-Qe+De+Ke:i==="nearest"?YO(Le,Qe,ot,Ge,De+Ke,be,be+Z,Z):be-(Le+ot/2)+Ke/2,qe=o==="start"?ze-lt-je:o==="center"?ze-(lt+Be/2)+Te/2:o==="end"?ze-Pe+at+Te:YO(lt,Pe,Be,je,at+Te,ze,ze+ee,ee);var It=Re.scrollLeft,Dt=Re.scrollTop;be+=Dt-(he=Math.max(0,Math.min(Dt+he/St,Re.scrollHeight-ot/St+Ke))),ze+=It-(qe=Math.max(0,Math.min(It+qe/Ze,Re.scrollWidth-Be/Ze+Te)))}$e.push({el:Re,top:he,left:qe})}return $e};var y2=function(){return y2=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},y2.apply(this,arguments)};var enr=0;function S2(){}function tnr(e,t){if(!e)return;pze(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:u}=n;i.scrollTop=o,i.scrollLeft=u})}function fze(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function tG(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];n(),r=setTimeout(()=>{r=null,e(...u)},t)}return i.cancel=n,i}function po(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return t.some(p=>(p&&p(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function kc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function rnr(){return String(enr++)}function nnr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function KO(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=bze(t,n)?t[n]:e[n],r),{})}function bze(e,t){return e[t]!==void 0}function x2(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function w2(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);let p=ag(e,u,r,n,i);return p===-1?t>=r?-1:t:p}function ag(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let u=t+1;u<r;u++)if(!n(u).hasAttribute("disabled"))return u}else for(let u=t-1;u>=0;u--)if(!n(u).hasAttribute("disabled"))return u;return i?e>0?ag(1,0,r,n,!1):ag(-1,r-1,r,n,!1):-1}function hze(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(fze(i,e,r)||n&&fze(i,r.document.activeElement,r)))}var inr=tG(e=>{wze(e).textContent=""},500);function xze(e,t){let r=wze(t);e&&(r.textContent=e,inr(t))}function wze(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var Sze={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function onr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(u=>{anr(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(rt({type:i},o))}function anr(e,t,r,n){let{props:i,type:o}=t,u=`on${nG(e)}Change`;i[u]&&n[e]!==void 0&&n[e]!==r[e]&&i[u](rt({type:o},n))}function snr(e,t){return t.changes}function lnr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var unr=tG((e,t)=>{xze(e(),t)},200),cnr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?_t.useLayoutEffect:_t.useEffect;function Ize(e){let{id:t=`downshift-${rnr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:u}=e;return(0,_t.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(h=>`${t}-item-${h}`),toggleButtonId:o||`${t}-toggle-button`,inputId:u||`${t}-input`}).current}function rG(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function dnr(e){return e?String(e):""}function mze(e){return /^\S{1}$/.test(e)}function nG(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function eD(e){let t=(0,_t.useRef)(e);return t.current=e,t}function Eze(e,t,r){let n=(0,_t.useRef)(),i=(0,_t.useRef)(),o=(0,_t.useCallback)((E,T)=>{i.current=T,E=KO(E,T.props);let D=e(E,T);return T.props.stateReducer(E,qr(rt({},T),{changes:D}))},[e]),[u,p]=(0,_t.useReducer)(o,t),h=eD(r),y=(0,_t.useCallback)(E=>p(rt({props:h.current},E)),[h]),x=i.current;return(0,_t.useEffect)(()=>{x&&n.current&&n.current!==u&&onr(x,KO(n.current,x.props),u),n.current=u},[u,r,x]),[u,y]}function Tze(e,t,r){let[n,i]=Eze(e,t,r);return[KO(n,r),i]}var b2={itemToString:dnr,stateReducer:snr,getA11ySelectionMessage:lnr,scrollIntoView:tnr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function Ja(e,t,r){r===void 0&&(r=Sze);let n=e[`default${nG(t)}`];return n!==void 0?n:r[t]}function _2(e,t,r){r===void 0&&(r=Sze);let n=e[t];if(n!==void 0)return n;let i=e[`initial${nG(t)}`];return i!==void 0?i:Ja(e,t,r)}function Cze(e){let t=_2(e,"selectedItem"),r=_2(e,"isOpen"),n=_2(e,"highlightedIndex"),i=_2(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function o1(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:u}=e,{selectedItem:p,highlightedIndex:h}=t;return i.length===0?-1:o!==void 0&&h===o?o:u!==void 0?u:p?r===0?i.indexOf(p):w2(r,i.indexOf(p),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function Aze(e,t,r,n){let i=(0,_t.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,_t.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},u=x=>{i.current.isMouseDown=!1,e&&!hze(x.target,t.map(E=>E.current),r)&&n()},p=()=>{i.current.isTouchMove=!1},h=()=>{i.current.isTouchMove=!0},y=x=>{e&&!i.current.isTouchMove&&!hze(x.target,t.map(E=>E.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",u),r.addEventListener("touchstart",p),r.addEventListener("touchmove",h),r.addEventListener("touchend",y),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",u),r.removeEventListener("touchstart",p),r.removeEventListener("touchmove",h),r.removeEventListener("touchend",y)}},[e,r]),i}var iG=()=>S2;function XO(e,t,r){let h=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:u}=h,p=Pn(h,["isInitialMount","highlightedIndex","items","environment"]);(0,_t.useEffect)(()=>{n||unr(()=>e(rt({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},p)),u.document)},t)}function Mze(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:u}=e,p=(0,_t.useRef)(!0);return cnr(()=>{t<0||!r||!Object.keys(n.current).length||(p.current===!1?p.current=!0:u(i(t),o))},[t]),p}var oG=S2;function Pze(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:o1(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:o1(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Ja(i,"highlightedIndex"),isOpen:Ja(i,"isOpen"),selectedItem:Ja(i,"selectedItem"),inputValue:Ja(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.");}return rt(rt({},e),o)}function gze(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,u=t.toLowerCase(),p=0;p<n.length;p++){var h=(p+r+1)%n.length,y=n[h];if(y!==void 0&&i(y).toLowerCase().startsWith(u)){var x=o(h);if(!(x!=null&&x.hasAttribute("disabled")))return h}}return r}var tZr={items:At.default.array.isRequired,itemToString:At.default.func,getA11yStatusMessage:At.default.func,getA11ySelectionMessage:At.default.func,circularNavigation:At.default.bool,highlightedIndex:At.default.number,defaultHighlightedIndex:At.default.number,initialHighlightedIndex:At.default.number,isOpen:At.default.bool,defaultIsOpen:At.default.bool,initialIsOpen:At.default.bool,selectedItem:At.default.any,initialSelectedItem:At.default.any,defaultSelectedItem:At.default.any,id:At.default.string,labelId:At.default.string,menuId:At.default.string,getItemId:At.default.func,toggleButtonId:At.default.string,stateReducer:At.default.func,onSelectedItemChange:At.default.func,onHighlightedIndexChange:At.default.func,onStateChange:At.default.func,onIsOpenChange:At.default.func,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})};function pnr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var fnr=y2(y2({},b2),{getA11yStatusMessage:pnr}),hnr=S2,aG=0,sG=1,lG=2,uG=3,cG=4,dG=5,pG=6,fG=7,JO=8,Oze=9,Dze=10,hG=11,kze=12,mG=13,gG=14,vG=15,qze=16,Nze=17,Rze=18,Lze=19,yG=20,eG=21,zze=22,Fze=Object.freeze({__proto__:null,MenuKeyDownArrowDown:aG,MenuKeyDownArrowUp:sG,MenuKeyDownEscape:lG,MenuKeyDownHome:uG,MenuKeyDownEnd:cG,MenuKeyDownEnter:dG,MenuKeyDownSpaceButton:pG,MenuKeyDownCharacter:fG,MenuBlur:JO,MenuMouseLeave:Oze,ItemMouseMove:Dze,ItemClick:hG,ToggleButtonClick:kze,ToggleButtonKeyDownArrowDown:mG,ToggleButtonKeyDownArrowUp:gG,ToggleButtonKeyDownCharacter:vG,FunctionToggleMenu:qze,FunctionOpenMenu:Nze,FunctionCloseMenu:Rze,FunctionSetHighlightedIndex:Lze,FunctionSelectItem:yG,FunctionSetInputValue:eG,FunctionReset:zze});function mnr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case hG:o={isOpen:Ja(n,"isOpen"),highlightedIndex:Ja(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case vG:{let u=t.key,p=`${e.inputValue}${u}`,h=gze({keysSoFar:p,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=rt({inputValue:p},h>=0&&{selectedItem:n.items[h]})}break;case mG:o={highlightedIndex:o1(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case gG:o={highlightedIndex:o1(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case dG:case pG:o=rt({isOpen:Ja(n,"isOpen"),highlightedIndex:Ja(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case uG:o={highlightedIndex:ag(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case cG:o={highlightedIndex:ag(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case lG:o={isOpen:!1,highlightedIndex:-1};break;case JO:o={isOpen:!1,highlightedIndex:-1};break;case fG:{let u=t.key,p=`${e.inputValue}${u}`,h=gze({keysSoFar:p,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=rt({inputValue:p},h>=0&&{highlightedIndex:h})}break;case aG:o={highlightedIndex:w2(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case sG:o={highlightedIndex:w2(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case yG:o={selectedItem:t.selectedItem};break;default:return Pze(e,t,Fze);}return rt(rt({},e),o)}jze.stateChangeTypes=Fze;function jze(e){e===void 0&&(e={}),hnr(e,jze);let t=rt(rt({},fnr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:u,itemToString:p,getA11ySelectionMessage:h,getA11yStatusMessage:y}=t,x=Cze(t),[E,T]=Tze(mnr,x,t),{isOpen:D,highlightedIndex:z,selectedItem:F,inputValue:q}=E,N=(0,_t.useRef)(null),B=(0,_t.useRef)(null),Z=(0,_t.useRef)({}),ee=(0,_t.useRef)(!0),ae=(0,_t.useRef)(null),ue=Ize(t),ve=(0,_t.useRef)(),Oe=(0,_t.useRef)(!0),be=eD({state:E,props:t}),ze=(0,_t.useCallback)(qe=>Z.current[ue.getItemId(qe)],[ue]);XO(y,[D,z,q,r],rt({isInitialMount:Oe.current,previousResultCount:ve.current,items:r,environment:i,itemToString:p},E)),XO(h,[F],rt({isInitialMount:Oe.current,previousResultCount:ve.current,items:r,environment:i,itemToString:p},E));let $e=Mze({menuElement:B.current,highlightedIndex:z,isOpen:D,itemRefs:Z,scrollIntoView:n,getItemNodeFromIndex:ze});(0,_t.useEffect)(()=>(ae.current=tG(qe=>{qe({type:eG,inputValue:""})},500),()=>{ae.current.cancel()}),[]),(0,_t.useEffect)(()=>{q&&ae.current(T)},[T,q]),oG({isInitialMount:Oe.current,props:t,state:E}),(0,_t.useEffect)(()=>{if(Oe.current){(o||u||D)&&B.current&&B.current.focus();return}if(D){B.current&&B.current.focus();return}i.document.activeElement===B.current&&N.current&&(ee.current=!1,N.current.focus())},[D]),(0,_t.useEffect)(()=>{Oe.current||(ve.current=r.length)});let He=Aze(D,[B,N],i,()=>{T({type:JO})}),Re=iG("getMenuProps","getToggleButtonProps");(0,_t.useEffect)(()=>{Oe.current=!1},[]),(0,_t.useEffect)(()=>{D||(Z.current={})},[D]);let Je=(0,_t.useMemo)(()=>({ArrowDown(qe){qe.preventDefault(),T({type:mG,getItemNodeFromIndex:ze,shiftKey:qe.shiftKey})},ArrowUp(qe){qe.preventDefault(),T({type:gG,getItemNodeFromIndex:ze,shiftKey:qe.shiftKey})}}),[T,ze]),ot=(0,_t.useMemo)(()=>({ArrowDown(qe){qe.preventDefault(),T({type:aG,getItemNodeFromIndex:ze,shiftKey:qe.shiftKey})},ArrowUp(qe){qe.preventDefault(),T({type:sG,getItemNodeFromIndex:ze,shiftKey:qe.shiftKey})},Home(qe){qe.preventDefault(),T({type:uG,getItemNodeFromIndex:ze})},End(qe){qe.preventDefault(),T({type:cG,getItemNodeFromIndex:ze})},Escape(){T({type:lG})},Enter(qe){qe.preventDefault(),T({type:dG})}," "(qe){qe.preventDefault(),T({type:pG})}}),[T,ze]),Be=(0,_t.useCallback)(()=>{T({type:qze})},[T]),Le=(0,_t.useCallback)(()=>{T({type:Rze})},[T]),Pe=(0,_t.useCallback)(()=>{T({type:Nze})},[T]),Qe=(0,_t.useCallback)(qe=>{T({type:Lze,highlightedIndex:qe})},[T]),lt=(0,_t.useCallback)(qe=>{T({type:yG,selectedItem:qe})},[T]),pt=(0,_t.useCallback)(()=>{T({type:zze})},[T]),je=(0,_t.useCallback)(qe=>{T({type:eG,inputValue:qe})},[T]),Ge=(0,_t.useCallback)(qe=>rt({id:ue.labelId,htmlFor:ue.toggleButtonId},qe),[ue]),at=(0,_t.useCallback)(function(qe,Te){let Vt=qe===void 0?{}:qe,{onMouseLeave:Ke,refKey:Ze="ref",onKeyDown:St,onBlur:It,ref:Dt}=Vt,we=Pn(Vt,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:ft=!1}=Te===void 0?{}:Te,$t=be.current.state,gt=pr=>{let $r=x2(pr);$r&&ot[$r]?ot[$r](pr):mze($r)&&T({type:fG,key:$r,getItemNodeFromIndex:ze})},Ht=()=>{if(ee.current===!1){ee.current=!0;return}!He.current.isMouseDown&&T({type:JO})},dr=()=>{T({type:Oze})};return Re("getMenuProps",ft,Ze,B),rt(qr(rt({[Ze]:kc(Dt,pr=>{B.current=pr}),id:ue.menuId,role:"listbox","aria-labelledby":ue.labelId,tabIndex:-1},$t.isOpen&&$t.highlightedIndex>-1&&{"aria-activedescendant":ue.getItemId($t.highlightedIndex)}),{onMouseLeave:po(Ke,dr),onKeyDown:po(St,gt),onBlur:po(It,Ht)}),we)},[T,be,ot,He,Re,ue,ze]),De=(0,_t.useCallback)(function(qe,Te){let Ht=qe===void 0?{}:qe,{onClick:Ke,onKeyDown:Ze,refKey:St="ref",ref:It}=Ht,Dt=Pn(Ht,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:we=!1}=Te===void 0?{}:Te,ft=()=>{T({type:kze})},$t=dr=>{let Vt=x2(dr);Vt&&Je[Vt]?Je[Vt](dr):mze(Vt)&&T({type:vG,key:Vt,getItemNodeFromIndex:ze})},gt=rt({[St]:kc(It,dr=>{N.current=dr}),id:ue.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":be.current.state.isOpen,"aria-labelledby":`${ue.labelId} ${ue.toggleButtonId}`},Dt);return Dt.disabled||(gt.onClick=po(Ke,ft),gt.onKeyDown=po(Ze,$t)),Re("getToggleButtonProps",we,St,N),gt},[T,be,Je,Re,ue,ze]),he=(0,_t.useCallback)(function(qe){let $r=qe===void 0?{}:qe,{item:Te,index:Ke,onMouseMove:Ze,onClick:St,refKey:It="ref",ref:Dt,disabled:we}=$r,ft=Pn($r,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:$t,props:gt}=be.current,Ht=()=>{Ke!==$t.highlightedIndex&&($e.current=!1,T({type:Dze,index:Ke,disabled:we}))},dr=()=>{T({type:hG,index:Ke})},Vt=rG(Ke,Te,gt.items);if(Vt<0)throw new Error("Pass either item or item index in getItemProps!");let pr=rt({disabled:we,role:"option","aria-selected":`${Vt===$t.highlightedIndex}`,id:ue.getItemId(Vt),[It]:kc(Dt,jr=>{jr&&(Z.current[ue.getItemId(Vt)]=jr)})},ft);return we||(pr.onClick=po(St,dr)),pr.onMouseMove=po(Ze,Ht),pr},[T,be,$e,ue]);return{getToggleButtonProps:De,getLabelProps:Ge,getMenuProps:at,getItemProps:he,toggleMenu:Be,openMenu:Pe,closeMenu:Le,setHighlightedIndex:Qe,selectItem:lt,reset:pt,setInputValue:je,highlightedIndex:z,isOpen:D,selectedItem:F,inputValue:q}}var _G=0,bG=1,xG=2,wG=3,SG=4,IG=5,EG=6,QO=7,Bze=8,Vze=9,TG=10,Uze=11,$ze=12,Hze=13,Wze=14,Gze=15,CG=16,Zze=17,Yze=18,AG=19,Kze=Object.freeze({__proto__:null,InputKeyDownArrowDown:_G,InputKeyDownArrowUp:bG,InputKeyDownEscape:xG,InputKeyDownHome:wG,InputKeyDownEnd:SG,InputKeyDownEnter:IG,InputChange:EG,InputBlur:QO,MenuMouseLeave:Bze,ItemMouseMove:Vze,ItemClick:TG,ToggleButtonClick:Uze,FunctionToggleMenu:$ze,FunctionOpenMenu:Hze,FunctionCloseMenu:Wze,FunctionSetHighlightedIndex:Gze,FunctionSelectItem:CG,FunctionSetInputValue:Zze,FunctionReset:Yze,ControlledPropUpdatedSelectedItem:AG});function gnr(e){let t=Cze(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),qr(rt({},t),{inputValue:n})}var rZr={items:At.default.array.isRequired,itemToString:At.default.func,getA11yStatusMessage:At.default.func,getA11ySelectionMessage:At.default.func,circularNavigation:At.default.bool,highlightedIndex:At.default.number,defaultHighlightedIndex:At.default.number,initialHighlightedIndex:At.default.number,isOpen:At.default.bool,defaultIsOpen:At.default.bool,initialIsOpen:At.default.bool,selectedItem:At.default.any,initialSelectedItem:At.default.any,defaultSelectedItem:At.default.any,inputValue:At.default.string,defaultInputValue:At.default.string,initialInputValue:At.default.string,id:At.default.string,labelId:At.default.string,menuId:At.default.string,getItemId:At.default.func,inputId:At.default.string,toggleButtonId:At.default.string,stateReducer:At.default.func,onSelectedItemChange:At.default.func,onHighlightedIndexChange:At.default.func,onStateChange:At.default.func,onIsOpenChange:At.default.func,onInputValueChange:At.default.func,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})};function vnr(e,t,r){let n=(0,_t.useRef)(),[i,o]=Eze(e,t,r);return(0,_t.useEffect)(()=>{bze(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:AG,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[KO(i,r),o]}var ynr=S2,_nr=qr(rt({},b2),{getA11yStatusMessage:nnr,circularNavigation:!0});function bnr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case TG:o={isOpen:Ja(n,"isOpen"),highlightedIndex:Ja(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case _G:e.isOpen?o={highlightedIndex:w2(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:o1(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case bG:e.isOpen?o={highlightedIndex:w2(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:o1(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case IG:o=rt({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:Ja(n,"isOpen"),highlightedIndex:Ja(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case xG:o=rt({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case wG:o={highlightedIndex:ag(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case SG:o={highlightedIndex:ag(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case QO:o=rt({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case EG:o={isOpen:!0,highlightedIndex:Ja(n,"highlightedIndex"),inputValue:t.inputValue};break;case CG:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case AG:o={inputValue:t.inputValue};break;default:return Pze(e,t,Kze);}return rt(rt({},e),o)}tD.stateChangeTypes=Kze;function tD(e){e===void 0&&(e={}),ynr(e,tD);let t=rt(rt({},_nr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:u,getA11yStatusMessage:p,getA11ySelectionMessage:h,itemToString:y}=t,x=gnr(t),[E,T]=vnr(bnr,x,t),{isOpen:D,highlightedIndex:z,selectedItem:F,inputValue:q}=E,N=(0,_t.useRef)(null),B=(0,_t.useRef)({}),Z=(0,_t.useRef)(null),ee=(0,_t.useRef)(null),ae=(0,_t.useRef)(null),ue=(0,_t.useRef)(!0),ve=Ize(t),Oe=(0,_t.useRef)(),be=eD({state:E,props:t}),ze=(0,_t.useCallback)(Te=>B.current[ve.getItemId(Te)],[ve]);XO(p,[D,z,q,i],rt({isInitialMount:ue.current,previousResultCount:Oe.current,items:i,environment:u,itemToString:y},E)),XO(h,[F],rt({isInitialMount:ue.current,previousResultCount:Oe.current,items:i,environment:u,itemToString:y},E));let $e=Mze({menuElement:N.current,highlightedIndex:z,isOpen:D,itemRefs:B,scrollIntoView:o,getItemNodeFromIndex:ze});oG({isInitialMount:ue.current,props:t,state:E}),(0,_t.useEffect)(()=>{(r||n||D)&&Z.current&&Z.current.focus()},[]),(0,_t.useEffect)(()=>{ue.current||(Oe.current=i.length)});let He=Aze(D,[ae,N,ee],u,()=>{T({type:QO,selectItem:!1})}),Re=iG("getInputProps","getComboboxProps","getMenuProps");(0,_t.useEffect)(()=>{ue.current=!1},[]),(0,_t.useEffect)(()=>{D||(B.current={})},[D]);let Je=(0,_t.useMemo)(()=>({ArrowDown(Te){Te.preventDefault(),T({type:_G,shiftKey:Te.shiftKey,getItemNodeFromIndex:ze})},ArrowUp(Te){Te.preventDefault(),T({type:bG,shiftKey:Te.shiftKey,getItemNodeFromIndex:ze})},Home(Te){be.current.state.isOpen&&(Te.preventDefault(),T({type:wG,getItemNodeFromIndex:ze}))},End(Te){be.current.state.isOpen&&(Te.preventDefault(),T({type:SG,getItemNodeFromIndex:ze}))},Escape(Te){let Ke=be.current.state;(Ke.isOpen||Ke.inputValue||Ke.selectedItem||Ke.highlightedIndex>-1)&&(Te.preventDefault(),T({type:xG}))},Enter(Te){let Ke=be.current.state;!Ke.isOpen||Ke.highlightedIndex<0||Te.which===229||(Te.preventDefault(),T({type:IG,getItemNodeFromIndex:ze}))}}),[T,be,ze]),ot=(0,_t.useCallback)(Te=>rt({id:ve.labelId,htmlFor:ve.inputId},Te),[ve]),Be=(0,_t.useCallback)(function(Te,Ke){let ft=Te===void 0?{}:Te,{onMouseLeave:Ze,refKey:St="ref",ref:It}=ft,Dt=Pn(ft,["onMouseLeave","refKey","ref"]),{suppressRefError:we=!1}=Ke===void 0?{}:Ke;return Re("getMenuProps",we,St,N),rt({[St]:kc(It,$t=>{N.current=$t}),id:ve.menuId,role:"listbox","aria-labelledby":ve.labelId,onMouseLeave:po(Ze,()=>{T({type:Bze})})},Dt)},[T,Re,ve]),Le=(0,_t.useCallback)(function(Te){let fi=Te===void 0?{}:Te,{item:Ke,index:Ze,refKey:St="ref",ref:It,onMouseMove:Dt,onMouseDown:we,onClick:ft,onPress:$t,disabled:gt}=fi,Ht=Pn(fi,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:dr,state:Vt}=be.current,pr=rG(Ze,Ke,dr.items);if(pr<0)throw new Error("Pass either item or item index in getItemProps!");let $r="onClick",jr=ft,sr=()=>{Ze!==Vt.highlightedIndex&&($e.current=!1,T({type:Vze,index:Ze,disabled:gt}))},Qr=()=>{T({type:TG,index:Ze})},st=_n=>_n.preventDefault();return rt(qr(rt({[St]:kc(It,_n=>{_n&&(B.current[ve.getItemId(pr)]=_n)}),disabled:gt,role:"option","aria-selected":`${pr===Vt.highlightedIndex}`,id:ve.getItemId(pr)},!gt&&{[$r]:po(jr,Qr)}),{onMouseMove:po(Dt,sr),onMouseDown:po(we,st)}),Ht)},[T,be,$e,ve]),Pe=(0,_t.useCallback)(function(Te){let ft=Te===void 0?{}:Te,{onClick:Ke,onPress:Ze,refKey:St="ref",ref:It}=ft,Dt=Pn(ft,["onClick","onPress","refKey","ref"]),we=()=>{T({type:Uze}),!be.current.state.isOpen&&Z.current&&Z.current.focus()};return rt(rt({[St]:kc(It,$t=>{ee.current=$t}),id:ve.toggleButtonId,tabIndex:-1},!Dt.disabled&&{onClick:po(Ke,we)}),Dt)},[T,be,ve]),Qe=(0,_t.useCallback)(function(Te,Ke){let Qr=Te===void 0?{}:Te,{onKeyDown:Ze,onChange:St,onInput:It,onBlur:Dt,onChangeText:we,refKey:ft="ref",ref:$t}=Qr,gt=Pn(Qr,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:Ht=!1}=Ke===void 0?{}:Ke;Re("getInputProps",Ht,ft,Z);let dr=be.current.state,Vt=st=>{let fi=x2(st);fi&&Je[fi]&&Je[fi](st)},pr=st=>{T({type:EG,inputValue:st.target.value})},$r=()=>{dr.isOpen&&!He.current.isMouseDown&&T({type:QO,selectItem:!0})},jr="onChange",sr={};return gt.disabled||(sr={[jr]:po(St,It,pr),onKeyDown:po(Ze,Vt),onBlur:po(Dt,$r)}),rt(rt(qr(rt({[ft]:kc($t,st=>{Z.current=st}),id:ve.inputId,"aria-autocomplete":"list","aria-controls":ve.menuId},dr.isOpen&&dr.highlightedIndex>-1&&{"aria-activedescendant":ve.getItemId(dr.highlightedIndex)}),{"aria-labelledby":ve.labelId,autoComplete:"off",value:dr.inputValue}),sr),gt)},[T,Je,be,He,Re,ve]),lt=(0,_t.useCallback)(function(Te,Ke){let we=Te===void 0?{}:Te,{refKey:Ze="ref",ref:St}=we,It=Pn(we,["refKey","ref"]),{suppressRefError:Dt=!1}=Ke===void 0?{}:Ke;return Re("getComboboxProps",Dt,Ze,ae),rt({[Ze]:kc(St,ft=>{ae.current=ft}),role:"combobox","aria-haspopup":"listbox","aria-owns":ve.menuId,"aria-expanded":be.current.state.isOpen},It)},[be,Re,ve]),pt=(0,_t.useCallback)(()=>{T({type:$ze})},[T]),je=(0,_t.useCallback)(()=>{T({type:Wze})},[T]),Ge=(0,_t.useCallback)(()=>{T({type:Hze})},[T]),at=(0,_t.useCallback)(Te=>{T({type:Gze,highlightedIndex:Te})},[T]),De=(0,_t.useCallback)(Te=>{T({type:CG,selectedItem:Te})},[T]),he=(0,_t.useCallback)(Te=>{T({type:Zze,inputValue:Te})},[T]),qe=(0,_t.useCallback)(()=>{T({type:Yze})},[T]);return{getItemProps:Le,getLabelProps:ot,getMenuProps:Be,getInputProps:Qe,getComboboxProps:lt,getToggleButtonProps:Pe,toggleMenu:pt,openMenu:Ge,closeMenu:je,setHighlightedIndex:at,setInputValue:he,selectItem:De,reset:qe,highlightedIndex:z,isOpen:D,selectedItem:F,inputValue:q}}var Xze={activeIndex:-1,selectedItems:[]};function vze(e,t){return _2(e,t,Xze)}function yze(e,t){return Ja(e,t,Xze)}function xnr(e){let t=vze(e,"activeIndex"),r=vze(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function _ze(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function wnr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var nZr={selectedItems:At.default.array,initialSelectedItems:At.default.array,defaultSelectedItems:At.default.array,itemToString:At.default.func,getA11yRemovalMessage:At.default.func,stateReducer:At.default.func,activeIndex:At.default.number,initialActiveIndex:At.default.number,defaultActiveIndex:At.default.number,onActiveIndexChange:At.default.func,onSelectedItemsChange:At.default.func,keyNavigationNext:At.default.string,keyNavigationPrevious:At.default.string,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})},Snr={itemToString:b2.itemToString,stateReducer:b2.stateReducer,environment:b2.environment,getA11yRemovalMessage:wnr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Inr=S2,MG=0,PG=1,OG=2,DG=3,kG=4,qG=5,NG=6,RG=7,LG=8,zG=9,FG=10,jG=11,BG=12,Enr=Object.freeze({__proto__:null,SelectedItemClick:MG,SelectedItemKeyDownDelete:PG,SelectedItemKeyDownBackspace:OG,SelectedItemKeyDownNavigationNext:DG,SelectedItemKeyDownNavigationPrevious:kG,DropdownKeyDownNavigationPrevious:qG,DropdownKeyDownBackspace:NG,DropdownClick:RG,FunctionAddSelectedItem:LG,FunctionRemoveSelectedItem:zG,FunctionSetSelectedItems:FG,FunctionSetActiveIndex:jG,FunctionReset:BG});function Tnr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:u,selectedItems:p}=e,h;switch(r){case MG:h={activeIndex:n};break;case kG:h={activeIndex:u-1<0?0:u-1};break;case DG:h={activeIndex:u+1>=p.length?-1:u+1};break;case OG:case PG:{let y=u;p.length===1?y=-1:u===p.length-1&&(y=p.length-2),h={selectedItems:[...p.slice(0,u),...p.slice(u+1)],activeIndex:y};break}case qG:h={activeIndex:p.length-1};break;case NG:h={selectedItems:p.slice(0,p.length-1)};break;case LG:h={selectedItems:[...p,o]};break;case RG:h={activeIndex:-1};break;case zG:{let y=u,x=p.indexOf(o);x>=0&&(p.length===1?y=-1:x===p.length-1&&(y=p.length-2),h={selectedItems:[...p.slice(0,x),...p.slice(x+1)],activeIndex:y});break}case FG:{let{selectedItems:y}=t;h={selectedItems:y};break}case jG:{let{activeIndex:y}=t;h={activeIndex:y};break}case BG:h={activeIndex:yze(i,"activeIndex"),selectedItems:yze(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.");}return rt(rt({},e),h)}Jze.stateChangeTypes=Enr;function Jze(e){e===void 0&&(e={}),Inr(e,Jze);let t=rt(rt({},Snr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:u}=t,[p,h]=Tze(Tnr,xnr(t),t),{activeIndex:y,selectedItems:x}=p,E=(0,_t.useRef)(!0),T=(0,_t.useRef)(null),D=(0,_t.useRef)(x),z=(0,_t.useRef)();z.current=[];let F=eD({state:p,props:t});(0,_t.useEffect)(()=>{if(!E.current){if(x.length<D.current.length){let ze=D.current.find($e=>x.indexOf($e)<0);xze(r({itemToString:n,resultCount:x.length,removedSelectedItem:ze,activeIndex:y,activeSelectedItem:x[y]}),i.document)}D.current=x}},[x.length]),(0,_t.useEffect)(()=>{E.current||(y===-1&&T.current?T.current.focus():z.current[y]&&z.current[y].focus())},[y]),oG({isInitialMount:E.current,props:t,state:p});let q=iG("getDropdownProps");(0,_t.useEffect)(()=>{E.current=!1},[]);let N=(0,_t.useMemo)(()=>({[u](){h({type:kG})},[o](){h({type:DG})},Delete(){h({type:PG})},Backspace(){h({type:OG})}}),[h,o,u]),B=(0,_t.useMemo)(()=>({[u](ze){_ze(ze)&&h({type:qG})},Backspace(ze){_ze(ze)&&h({type:NG})}}),[h,u]),Z=(0,_t.useCallback)(function(ze){let je=ze===void 0?{}:ze,{refKey:$e="ref",ref:He,onClick:Re,onKeyDown:Je,selectedItem:ot,index:Be}=je,Le=Pn(je,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:Pe}=F.current;if(rG(Be,ot,Pe.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let lt=()=>{h({type:MG,index:Be})},pt=Ge=>{let at=x2(Ge);at&&N[at]&&N[at](Ge)};return rt({[$e]:kc(He,Ge=>{Ge&&z.current.push(Ge)}),tabIndex:Be===Pe.activeIndex?0:-1,onClick:po(Re,lt),onKeyDown:po(Je,pt)},Le)},[h,F,N]),ee=(0,_t.useCallback)(function(ze,$e){let pt=ze===void 0?{}:ze,{refKey:He="ref",ref:Re,onKeyDown:Je,onClick:ot,preventKeyAction:Be=!1}=pt,Le=Pn(pt,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:Pe=!1}=$e===void 0?{}:$e;q("getDropdownProps",Pe,He,T);let Qe=je=>{let Ge=x2(je);Ge&&B[Ge]&&B[Ge](je)},lt=()=>{h({type:RG})};return rt(rt({[He]:kc(Re,je=>{je&&(T.current=je)})},!Be&&{onKeyDown:po(Je,Qe),onClick:po(ot,lt)}),Le)},[h,B,q]),ae=(0,_t.useCallback)(ze=>{h({type:LG,selectedItem:ze})},[h]),ue=(0,_t.useCallback)(ze=>{h({type:zG,selectedItem:ze})},[h]),ve=(0,_t.useCallback)(ze=>{h({type:FG,selectedItems:ze})},[h]),Oe=(0,_t.useCallback)(ze=>{h({type:jG,activeIndex:ze})},[h]),be=(0,_t.useCallback)(()=>{h({type:BG})},[h]);return{getSelectedItemProps:Z,getDropdownProps:ee,addSelectedItem:ae,removeSelectedItem:ue,setSelectedItems:ve,setActiveIndex:Oe,reset:be,selectedItems:x,activeIndex:y}}var th=re(Wt(),1);function VG({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:u=300}){let[p,h]=(0,Qa.useState)([]),[y,x]=(0,Qa.useState)(void 0),E=(0,Qa.useRef)(),T=(0,Qa.useRef)(null),D=Je=>{clearTimeout(T.current),T.current=setTimeout(()=>{t(Je).then(ot=>h(ot))},u)},z=({inputValue:Je})=>{y!==void 0&&x(void 0),D(Je)},F=({selectedItem:Je})=>{o!==void 0&&o(Je),x(Je)},{isOpen:q,getToggleButtonProps:N,getLabelProps:B,getMenuProps:Z,getInputProps:ee,getComboboxProps:ae,getItemProps:ue,highlightedIndex:ve}=tD({items:p,itemToString:n,onInputValueChange:z,onSelectedItemChange:F}),He=e!=null?e:{},{onClick:Oe}=He,be=Pn(He,["onClick"]),Re=ee(),{ref:ze}=Re,$e=Pn(Re,["ref"]);return Qa.default.createElement("div",{className:"vkf-autocomplete-container"},Qa.default.createElement("label",qr(rt({},B()),{id:$e["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Qa.default.createElement("div",rt({className:"form-group"},ae()),Qa.default.createElement("input",rt(qr(rt({},$e),{ref:Je=>{ze(Je),E.current=Je},type:"text"}),i)),Qa.default.createElement("button",rt(rt(qr(rt({type:"button"},N()),{"aria-label":"toggle menu"}),be),Oe!==void 0?{onClick:()=>{Oe(y,E.current!==null?E.current.value:"")}}:{}),"\u2193")),Qa.default.createElement("div",{className:"autocomplete-dropdown"},Qa.default.createElement("ul",qr(rt({className:"autocomplete-result-list"},Z()),{id:$e["aria-controls"]}),q&&p.map((Je,ot)=>Qa.default.createElement("li",rt({className:vr("ui-menu-item",ve===ot&&"highlighted",y===Je&&"selected"),key:`${Je.label}${ot}`},ue({item:Je,index:ot})),Je.label)))))}VG.propTypes={buttonProps:th.default.object,fetchInputItems:th.default.func,label:th.default.string,inputProps:th.default.object,itemToString:th.default.func,onSelectedItemChange:th.default.func,timeout:th.default.number};var Qze=re(km(),1),UG=(e,t,r)=>{let n=e+"?format=json&q="+t;return Qze.default.get(n).then(i=>{let u=i.data.map(p=>({label:p.display_name,value:p.display_name,lonlat:{x:parseFloat(p.lon),y:parseFloat(p.lat)},type:p.type}));return r!==void 0&&r(),u})};var Cnr=e=>e?e.label:"",e8e=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,sg.useState)(!1),o=di(Ca),u=(0,sg.useCallback)(h=>(i(!0),UG(r,h,()=>{i(!1)})),[r]),p=(h,y)=>{h!==void 0?t(h):UG(r,y).then(x=>{if(x.length>0)t(x[0]);else throw new Error(nt("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:nt("placenamesearch-unknown-placename")})})};return sg.default.createElement("div",{className:"gazetteersearch-container"},sg.default.createElement(VG,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:p,"aria-label":nt("placenamesearch-submit"),title:nt("placenamesearch-submit")},fetchInputItems:u,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:nt("placenamesearch-placeholder")},itemToString:Cnr,onSelectedItemChange:p}))};e8e.propTypes={onSelectPosition:$G.default.func.isRequired,searchUrl:$G.default.string.isRequired};var t8e=e8e;var r8e=re(Wt(),1),n8e=({searchUrl:e})=>{let t=ur(ti),r=(0,rD.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return rD.default.createElement(t8e,{onSelectPosition:r,searchUrl:e})};n8e.propTypes={searchUrl:r8e.default.string.isRequired};var i8e=n8e;var o8e=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=ur(bMe);return rh.default.createElement("div",{className:vr("vkf-spatialsearch-root",!n&&"in")},rh.default.createElement("div",{className:"spatialsearch-inner-container"},rh.default.createElement("div",{className:"spatialsearch-content-panel"},rh.default.createElement("div",{className:"body-container"},rh.default.createElement(i8e,{searchUrl:Nr.getNominatimUrl()}),rh.default.createElement(tze,null),rh.default.createElement(cRe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};o8e.propTypes={customQuery:nD.default.array,MapSearchListItemComponent:nD.default.elementType,mosaicMode:nD.default.bool};var a8e=o8e;var ai=re(Ue(),1);var qc=re(Ue(),1);var s1=re(Wt(),1);var nh=re(Ue(),1);var qu=re(Ue(),1),Ns=re(Wt(),1);var I2=R0;var HG={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},s8e=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:u=!1,IconComponent:p,options:h=[{id:HG.ADD,title:nt("georef-setgcp"),iconClassName:"icon-point-add"},{id:HG.MOVE,title:nt("georef-movegcp"),iconClassName:"icon-point-move"},{id:HG.DEL,title:nt("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:y}=e,x=h.find(T=>T.id===r),E=T=>{y(T)};return qu.default.createElement("div",{className:vr("vkf-control-dropdown",x&&!u?"active":"",n)},qu.default.createElement(nS,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:x?x.id:null},qu.default.createElement(nS.Toggle,null,p===void 0?qu.default.createElement(I2,{name:i,size:24}):qu.default.createElement(p,{glyph:i}),x?x.title:o),qu.default.createElement(nS.Menu,null,h.map(T=>qu.default.createElement(WU,{key:T.id,eventKey:T.id,onClick:()=>E(T.id),className:vr("control-option",T.id)},p===void 0?qu.default.createElement(I2,{name:`${T.iconClassName}`,size:24}):qu.default.createElement(p,{glyph:T.iconClassName}),qu.default.createElement("span",{className:"text"},T.title))))))};s8e.propTypes={activeControl:Ns.default.string,className:Ns.default.string,defaultTitle:Ns.default.string,disableActiveBehavior:Ns.default.bool,IconComponent:Ns.default.elementType,id:Ns.default.string,parentIconClassName:Ns.default.string,options:Ns.default.arrayOf(Ns.default.shape({id:Ns.default.string.isRequired,title:Ns.default.string.isRequired,iconClassName:Ns.default.string.isRequired})),onClick:Ns.default.func.isRequired};var l8e=s8e;var u8e=l8e;var c8e=e=>Vi(void 0,null,function*(){let t=Nr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),d8e=()=>Vi(void 0,null,function*(){let r=yield Nr.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(JP);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),p8e=e=>Vi(void 0,null,function*(){let t=Nr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),f8e=e=>Vi(void 0,null,function*(){if(e.id===void 0||e.id===fo){let t=e,{id:r}=t,n=Pn(t,["id"]);return yield Anr(n)}else return yield Mnr(e)}),Anr=e=>Vi(void 0,null,function*(){let t=Nr.getGeoreferenceApiClient(),r="/mosaic_maps/",n=DH(e),i=yield t.post(r,n);if(i.status===200)return JP(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),Mnr=e=>Vi(void 0,null,function*(){let t=Nr.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=DH(e),o=yield t.post(n,i);if(o.status===200)return JP(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});var h8e=re(km(),1);function m8e(e){return Vi(this,null,function*(){let t=Nr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield h8e.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var g8e=e=>m8e(e).then(t=>OH(e,t)).catch(()=>{let t=new Yf({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var iD=re(Ue(),1);var Nu="mosaic-map-overlay-source",Pnr="mosaic-map-overlay-fill",v8e="mosaic-map-overlay-outline",oD=e=>{e.moveLayer(v8e)},a1=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(Nu);r&&r.setData(t)},y8e=()=>iD.default.createElement(iD.default.Fragment,null,iD.default.createElement(NP,{sourceId:Nu,fillId:Pnr,outlineId:v8e}));y8e.propTypes={};var _8e=y8e;var fo="create-new-mosaic-map",Onr=()=>{let[e,t]=fn(ih),[r,n]=(0,nh.useState)(e===Da.DOWNLOADING_LIST),i=ur(ti),[o,u]=nh.default.useState([]),[p,h]=fn(iu),y=di(Rs),x=di(Ca),E=()=>{n(!0),d8e().then(D=>{u(D),n(!1),t(z=>z===Da.DOWNLOADING_LIST?Da.NOT_LOADING:z)}).catch(D=>{console.error(D),x({id:"mosaic-map-failed-load-list",type:"danger",text:nt("mosaic-map-error-messages-failed-load-list")})})},T=D=>{var F;let z=(F=o.find(q=>q.id===D))!=null?F:{id:fo};if(h(z),z.raw_map_ids!==void 0){let q=z.raw_map_ids.map(N=>g8e(N));Promise.all(q).then(N=>{i!==void 0&&lqe(i,N),y(N),N.forEach(B=>B.addToOverlay(i,Nu))}).catch(N=>{console.error(N)})}else y([]),a1(i)};return(0,nh.useEffect)(()=>{e===Da.DOWNLOADING_LIST&&r===!1&&E()},[e]),(0,nh.useEffect)(()=>{E()},[]),nh.default.createElement(u8e,{id:"control-toggle-transformation",activeControl:p.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:no,options:[...o.map(D=>qr(rt({},D),{iconClassName:"th-large"})),{iconClassName:"plus",id:fo,title:nt("mosaic-maps-create-new")}],onClick:T,parentIconClassName:p.id===fo?"plus":"th-large"})},b8e=Onr;var Rs=ci({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),AYr=ci({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),iu=ci({key:"mosaicMapSelectedMosaicMapState",default:{id:fo}}),Da={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},ih=ci({key:"mosaicMapLoadingState",default:Da.NOT_LOADING});function Dnr(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var WG=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,u]=(0,qc.useState)({itemCount:10,id:Date.now()}),p=ur(Rs),h=(0,qc.useCallback)((x,E)=>p===void 0?new Promise(T=>T([])):new Promise(T=>{let D=Dnr(p.slice(x,x+E),n);i==="descending"&&D.reverse(),T(D)}),[p,i,n]),y=(0,qc.useCallback)(()=>{u({itemCount:p.length,id:Date.now()})},[h]);return(0,qc.useEffect)(()=>{y()},[p,n,i]),qc.default.createElement(qc.default.Fragment,null,t({minimumBatchSize:e,onRefresh:y,onFetchResults:h,searchResultDescriptor:o}))};WG.propTypes={minimumBatchSize:s1.default.number,renderConsumer:s1.default.func,sortSettings:s1.default.shape({activeType:s1.default.string,sortOrder:s1.default.string})};var Gn=re(Ue(),1),ou=re(Wt(),1);var E2=re(IH(),1);var x8e="http://www.deutschefotothek.de/images/noimage/image120.jpg",w8e=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var be;let{direction:u,maps:p}=t,h=ur(ti),[y,x]=fn(Rs),[E,T]=fn(Eu),D=(be=p[r])!=null?be:Ac,z=y.find(ze=>ze.getId()===D.getId()),[F,q]=(0,Gn.useState)(D.getMetadata(Br.thumbnailUrl)===void 0?"":D.getMetadata(Br.thumbnailUrl).replace("http:","")),N=D===Ac,B=D.isMissing(),Z=z==null?void 0:z.isDisplayedInMap(h),ee=D.getMetadata(Br.mapScale)==="0"||D.getMetadata(Br.mapScale)===0?nt("mapsearch-listelement-unknown"):`1:${D.getMetadata(Br.mapScale)}`,ae=parseInt(D.getMetadata(Br.timePublished),0),ue=ze=>{ze.stopPropagation(),Kf(E,z)?(T(He=>He.filter(Re=>Re.getId()!==z.getId())),z.removeMapLibreLayers(h)):z.addLayerToMap(h).then(()=>{T(He=>[...He,z])})},ve=()=>{F!==""&&F!==x8e&&q(x8e)},Oe=ze=>{ze.stopPropagation(),x($e=>$e.filter(He=>He.getId()!==D.getId())),z.removeFromOverlay(h,Nu)};return(0,Gn.useEffect)(()=>{q(D.getMetadata(Br.thumbnailUrl))},[D]),Gn.default.createElement("li",{tabIndex:0,style:o,className:vr("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",D.getType(),Z&&"selected",u,N&&"loading",B&&"missing"),id:D.getId(),onMouseEnter:n,onMouseLeave:i},e,Gn.default.createElement("span",{className:"data-col time"},isNaN(ae)?"":ae),Gn.default.createElement("span",{className:"data-col title"},D.getMetadata(Br.title)),Gn.default.createElement("span",{className:"data-col time"},"1"),Gn.default.createElement("div",{className:"view-item"},!B&&Gn.default.createElement("span",{className:"thumbnail"},F===""?Gn.default.createElement(E2.default.default,{height:"calc(100% - 6px)"}):Gn.default.createElement("img",{alt:`Thumbnail Image of Map ${D.getMetadata(Br.title)} ${D.getMetadata(Br.timePublished)}`,onError:ve,src:F})),Gn.default.createElement("div",{className:"overview"},Gn.default.createElement("h2",null,N?Gn.default.createElement(E2.default.default,null):B?`${nt("mosaic-map-missing-sheet")}: ${D.getId()}`:D.getMetadata(Br.title)),Gn.default.createElement("div",{className:"details"},!B&&Gn.default.createElement(Gn.default.Fragment,null,Gn.default.createElement("div",{className:"timestamp"},N?Gn.default.createElement(E2.default.default,null):`${nt("mapsearch-listelement-time")} ${D.getMetadata(Br.timePublished)}`),Gn.default.createElement("div",{className:"scale"},N?Gn.default.createElement(E2.default.default,null):`${nt("mapsearch-listelement-scale")} ${ee}`)),!D.getMetadata(Br.hasGeoReference)&&Gn.default.createElement("div",{className:"georeference"},nt("mapsearch-listelement-no-georef")))),Gn.default.createElement("div",{className:"actions"},!B&&Gn.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:ue},Gn.default.createElement(no,{glyph:Z?"eye-open":"eye-close"})),Gn.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:Oe},Gn.default.createElement(no,{glyph:"trash"})))))};w8e.propTypes={children:ou.default.element,data:ou.default.shape({direction:ou.default.oneOf(["horizontal","vertical"]),feature:ou.default.object,maps:ou.default.object,selected:ou.default.bool}),onClick:ou.default.func,onMouseEnter:ou.default.func,onMouseLeave:ou.default.func,index:ou.default.number,style:ou.default.object};var S8e=w8e;var knr=()=>{let e=ur(ti),[t,r]=fn(Eu),[n,i]=fn(Rs),o=n.length===0,u=!o&&n.every(E=>E.isDisplayedInMap(e)),p=t.length===0||t.filter(E=>n.find(T=>T.getId()===E.getId())!==void 0).length===t.length,h=()=>{t.forEach(E=>{let T=E.getId();n.find(D=>D.getId()===T)===void 0&&(i(D=>[...D,E]),E.addToOverlay(e,Nu))})},y=()=>{let E=n.map(T=>T.getId());if(u){r(T=>T.filter(D=>!E.includes(D.getId()))),n.forEach(T=>T.removeMapLibreLayers(e));return}n.filter(T=>!T.isDisplayedInMap(e)).forEach(T=>T.addLayerToMap(e).then(()=>{r(D=>[...D,T])})),oD(e)},x=()=>{i([]),a1(e)};return ai.default.createElement("div",{className:vr("mapsearch-container")},ai.default.createElement("div",{className:"spatialsearch-inner-container"},ai.default.createElement("div",{className:"spatialsearch-content-panel"},ai.default.createElement("div",{className:"body-container"},ai.default.createElement("div",{className:"header-container"},ai.default.createElement("div",{className:"title"},ai.default.createElement("h4",null,nt("mosaic-maps-refresh-selected-list-title")),ai.default.createElement(no,{glyph:"th-large"})),ai.default.createElement("div",{className:"actions"},ai.default.createElement("div",{className:"add-all-selected"},ai.default.createElement(Ta,{disabled:p,onClick:h},nt("mosaic-maps-add-all-selected"))),ai.default.createElement("div",{className:"action-container"},ai.default.createElement("div",{className:"view-all-toggle control"},ai.default.createElement("button",{className:vr(!u&&"selected"),disabled:o,onClick:y},ai.default.createElement(no,{glyph:u?"eye-open":"eye-close"}))),ai.default.createElement("div",{className:"select-all-toggle control"},ai.default.createElement("button",{disabled:o,onClick:x},ai.default.createElement(no,{glyph:"trash"})))))),ai.default.createElement("div",{className:"panel panel-default searchTablePanel"},ai.default.createElement("div",{className:"panel-heading"},ai.default.createElement("div",{className:"content"},ai.default.createElement("div",null,n.length===0?nt("mosaic-maps-selected-no-maps"):`${n.length} ${nt("mosaic-maps-selected-maps")}`)),ai.default.createElement("div",{className:"facet-container"},ai.default.createElement(VP,{georeferenceMode:!1}))),ai.default.createElement("div",{className:"panel-body"},ai.default.createElement(KP,{enableOverlayLayer:!1,DataProvider:WG,ListItemComponent:S8e})))))))},I8e=knr;var T2=re(Ue(),1);var E8e=({data:e,index:t,style:r})=>{let[n,i]=fn(Rs),o=ur(ti),u=e.maps[t],p=cn(u)&&Kf(n,u),h=x=>{cn(x)&&(x.stopPropagation(),x.preventDefault()),cn(u)&&(p?(i(E=>E.filter(T=>T.getId()!==u.getId())),u.removeFromOverlay(o,Nu)):(i(E=>[...E,u]),u.addToOverlay(o,Nu),oD(o)))},y=x=>{x.key==="Enter"&&h()};return T2.default.createElement("div",{className:vr("vkf-mosaic-map-result-list-element",p&&"selected")},T2.default.createElement(zS,{index:t,data:e,style:r},T2.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:y,onClick:h},T2.default.createElement("i",{className:"arrow right"}))))};E8e.propTypes=rt({},zS.propTypes);var T8e=E8e;var A8e=()=>{let e=(0,Ru.useRef)(null);return I5(e,"spatialtemporalsearch"),Ru.default.createElement(Ru.default.Fragment,null,Ru.default.createElement(_8e,null),Ru.default.createElement("div",{className:"vkf-horizontal-layout"},Ru.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container",ref:e},Ru.default.createElement(a8e,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:T8e,mosaicMode:!0})),Ru.default.createElement("div",{className:"selected-maps-container"},Ru.default.createElement(I8e,null))))};A8e.propTypes={onAddGeoJson:C8e.default.func};var M8e=A8e;var D8e=re(Ue(),1);var C2=re(Ue(),1),Jd=re(Wt(),1);var P8e=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:u="unknown",onClick:p,title:h="unknown"}=e;return C2.default.createElement("button",{onClick:()=>{p(u)},className:vr("vkf-control-button",r,t===u&&"active",n&&"disabled"),disabled:n},o===void 0?C2.default.createElement(I2,{name:i,size:24}):C2.default.createElement(o,{glyph:i}),C2.default.createElement("span",{className:"text"},h))};P8e.propTypes={activeControl:Jd.default.string,className:Jd.default.string,disabled:Jd.default.bool,id:Jd.default.string.isRequired,iconClassName:Jd.default.string,IconComponent:Jd.default.elementType,onClick:Jd.default.func.isRequired,title:Jd.default.string};var O8e=P8e;var l1=O8e;var qnr=()=>{let e=ur(iu),t=di(Ca),r=()=>{e!==void 0&&p8e(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:nt("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:nt("mosaic-map-error-messages-failed-update-overview")})})};return D8e.default.createElement(l1,{disabled:e.id===fo,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:nt("mosaic-maps-refresh-overview")})},k8e=qnr;var ul=re(Ue(),1);var oh=re(Ue(),1),lg=re(Wt(),1);var q8e=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>oh.default.createElement(Wl,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},oh.default.createElement(Wl.Header,null,oh.default.createElement("p",null,o),oh.default.createElement("button",{onClick:t},oh.default.createElement("span",null,"+"))),oh.default.createElement(Wl.Body,null,n()),i!==void 0&&oh.default.createElement(Wl.Footer,null,i()));q8e.propTypes={isOpen:lg.default.bool,onClose:lg.default.func,modalClassName:lg.default.string,renderContent:lg.default.func,renderFooter:lg.default.func,title:lg.default.string};var N8e=q8e;var aD=N8e;var Nc=re(Ue(),1);var z8e=re(L8e(),1);var Qd={LOADING:0,SAVED:1,CHANGED:2},GG=()=>{let e=ur(iu),[t,r]=(0,Nc.useState)(e),n=ur(ih),i=S5(n);(0,Nc.useEffect)(()=>{r(e)},[e.id]),(0,Nc.useEffect)(()=>{n!==Da.UPLOADING_CHANGES&&i===Da.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===Da.UPLOADING_CHANGES?o=Qd.LOADING:t.id!==fo&&(0,z8e.default)(t,e)?o=Qd.SAVED:o=Qd.CHANGED,o},Nnr=()=>{let e=GG();return Nc.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},Nc.default.createElement("label",null,e===Qd.SAVED?nt("mosaic-map-saved-indicator-saved"):nt("mosaic-map-saved-indicator-not-saved")),Qd.LOADING===e?Nc.default.createElement(O0,null):Nc.default.createElement("div",{className:vr("indicator",e===Qd.SAVED&&"saved",e===Qd.CHANGED&&"changed")}))},F8e=Nnr;var Rnr=e=>e!==void 0&&e.length>0,j8e=e=>Number.isSafeInteger(e),sD=e=>e!==void 0&&e.length>0,Lnr=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:u,map_scale:p}=e;return sD(t)&&Rnr(r)&&sD(n)&&sD(i)&&j8e(o)&&sD(u)&&j8e(p)},znr=()=>{let[e,t]=(0,ul.useState)(!1),[r,n]=fn(ih),i=di(Ca),[o,u]=fn(iu),p=GG(),h=o.id!==fo,y=()=>{t(!1)},x=()=>{t(!0)},E=()=>{o!==void 0&&(n(Da.UPLOADING_CHANGES),f8e(o).then(T=>{n(Da.DOWNLOADING_LIST),u(qr(rt({},T),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:nt("mosaic-map-success-messages-saved")})}).catch(T=>{console.error(T),i({id:"mosaic-map-save-button",type:"danger",text:nt("mosaic-map-error-messages-failed-upload")})}).finally(()=>{y()}))};return ul.default.createElement(ul.default.Fragment,null,ul.default.createElement(aD,{bs:!0,isOpen:e,onClose:y,title:nt("mosaic-map-save-modal-title"),renderContent:()=>ul.default.createElement("div",{className:"vkf-modal-description-container"},ul.default.createElement("p",null,nt("mosaic-map-save-modal-content"))),renderFooter:()=>ul.default.createElement(ul.default.Fragment,null,ul.default.createElement(Ta,{bsStyle:"warning",bsSize:"large",onClick:y},nt("mosaic-map-delete-modal-buttonCancel")),ul.default.createElement(Ta,{bsStyle:"success",bsSize:"large",onClick:E},nt("mosaic-map-save-modal-buttonSave")))}),ul.default.createElement(l1,{disabled:!Lnr(o)||r===Da.UPLOADING_CHANGES||h&&p!==Qd.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:h?x:E,title:nt("mosaic-maps-save")}))},B8e=znr;var cl=re(Ue(),1);var Fnr=()=>{let[e,t]=(0,cl.useState)(!1),[r,n]=fn(iu),i=di(ih),o=di(Ca),u=di(Rs),p=ur(ti),h=()=>{c8e(r.id).then(()=>{y(),n({id:fo}),u([]),a1(p),i(Da.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:nt("mosaic-map-success-messages-delete")})}).catch(()=>{y(),o({id:"mosaic-map-delete-button",type:"danger",text:nt("mosaic-map-error-messages-delete-failed")})})},y=()=>{t(!1)},x=()=>{t(!0)};return cl.default.createElement(cl.default.Fragment,null,cl.default.createElement(aD,{bs:!0,isOpen:e,onClose:y,title:nt("mosaic-map-delete-modal-title"),renderContent:()=>cl.default.createElement("div",{className:"vkf-modal-description-container"},cl.default.createElement("p",null,nt("mosaic-map-delete-modal-content"))),renderFooter:()=>cl.default.createElement(cl.default.Fragment,null,cl.default.createElement(Ta,{bsStyle:"warning",bsSize:"large",onClick:y},nt("mosaic-map-delete-modal-buttonCancel")),cl.default.createElement(Ta,{bsStyle:"danger",bsSize:"large",onClick:h},nt("mosaic-map-delete-modal-buttonDelete")))}),cl.default.createElement(l1,{className:"delete-mosaic-map-button",disabled:r.id===fo,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:no,onClick:x,title:nt("mosaic-maps-delete")}))},V8e=Fnr;var Xi=re(Ue(),1);var u1=re(Wt(),1);var U8e=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],jnr=()=>{let e=ur(Rs),[t,r]=fn(iu),[,n]=(0,Xi.useState)(0),i=(p,h)=>{var D;let{allowEmpty:y,min:x,max:E}=(D=h.extraProps)!=null?D:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},T=document.getElementById(p);if(T!==null&&t[p]!==void 0){if(h.type==="string")return T.value.length>0||y?"success":"error";if(h.type==="number"){let z=T.valueAsNumber;return z>=x&&z<=E?"success":"error"}}return null},o=p=>{let h=p.target.id,y=U8e.find(E=>E.id===h).type,x;y==="number"?x=p.target.valueAsNumber:x=p.target.value,r(E=>qr(rt({},E),{[h]:x}))},u=p=>{p.key==="Enter"&&p.target.blur()};return(0,Xi.useEffect)(()=>{n(Date.now())},[t.id]),(0,Xi.useEffect)(()=>{r(p=>{var h;return qr(rt({},p),{raw_map_ids:(h=e==null?void 0:e.map(y=>y.getId()))!=null?h:[]})})},[e]),Xi.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},Xi.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},Xi.default.createElement("div",{className:"vk-mosaic-map-title"},Xi.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===fo?nt("mosaic-maps-input-panel-title"):t.title),Xi.default.createElement("div",{className:"divider"}),Xi.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===fo?"undefined":t.id)),Xi.default.createElement(F8e,null)),Xi.default.createElement("div",{className:"input-container"},Xi.default.createElement(kU,null,U8e.map((p,h)=>Xi.default.createElement($8e,{bsClass:p.className,defaultValue:t[p.id],key:`${t.id}_${h}`,id:p.id,type:p.type,label:nt(`mosaic-maps-input-panel-field_${p.id}`),placeholder:p.id==="name"?nt(`mosaic-maps-input-panel-help_${p.id}`):void 0,onBlur:o,onKeyDown:u,validationState:i(p.id,p)})))))};function $8e(u){var p=u,{id:e,label:t,help:r,bsClass:n,validationState:i}=p,o=Pn(p,["id","label","help","bsClass","validationState"]);return Xi.default.createElement(VU,{bsClass:n,controlId:e,validationState:i},Xi.default.createElement("div",{className:"label-container"},Xi.default.createElement(XV,null,t)),Xi.default.createElement(FU,rt({},o)),r&&Xi.default.createElement($U,null,r))}$8e.propTypes={bsClass:u1.default.string,id:u1.default.string,label:u1.default.string,help:u1.default.string,validationState:u1.default.string};var H8e=jnr;var dl=re(Ue(),1);var lD=re(Wt(),1);var W8e=e=>{let{onClose:t,text:r,type:n}=e;return dl.default.createElement("div",{className:"notification-item"},dl.default.createElement("div",{className:vr("alert","alert-"+n),role:"alert"},dl.default.createElement("div",{className:"close"},dl.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},dl.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),dl.default.createElement("div",{className:"text"},r)))};W8e.propTypes={onClose:lD.default.func,text:lD.default.string,type:lD.default.string};var Bnr=()=>{let e=ur(Ca),t=S5(e),[r,n]=(0,dl.useState)([]);return(0,dl.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(u=>u.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(u=>u!==void 0))}},[e,r,t]),dl.default.createElement("div",{className:vr("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},u)=>dl.default.createElement(W8e,{key:u,onClose:()=>{let p=[...r];p.splice(u,1),n(p)},type:i,text:o})))},G8e=Bnr;var Z8e=()=>es.default.createElement(qCe,null,es.default.createElement("div",{className:"vkf-app-mosaic-map-container"},es.default.createElement(G8e,null),es.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},es.default.createElement("div",null,es.default.createElement(b8e,null)),es.default.createElement("div",null,es.default.createElement(k8e,null),es.default.createElement(B8e,null),es.default.createElement(V8e,null))),es.default.createElement("div",{className:"vk-mosaic-map-input-panel"},es.default.createElement(H8e,null)),es.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},es.default.createElement(eNe,{baseMapUrl:Nr.getDefaultBaseMapUrls(),layout:Nf.HORIZONTAL,mapViewSettings:Nr.getDefaultMapView(),ChildComponent:M8e,loadMarkerIcon:!1}))));Z8e.propTypes={};var Y8e=Z8e;var Vnr=Nr;function Unr(e){X8e.default.render(K8e.default.createElement(Y8e,null),e)}return XFe($nr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.0/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/